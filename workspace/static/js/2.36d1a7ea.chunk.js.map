{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js","../node_modules/react/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/react/jsx-runtime.js","../node_modules/webpack/buildin/global.js","../node_modules/react-dom/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../node_modules/prop-types/index.js","../../../src/Glue.tsx","../../../src/useGlueInit.ts","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/object-assign/index.js","../../node_modules/callback-registry/lib/index.js","../../node_modules/decoder-validate/dist/index.es5.js","../../src/shared/decoders.ts","../../src/communication/constants.ts","../../src/communication/bridge.ts","../../src/communication/interop-transport.ts","../../src/shared/promisePlus.ts","../../src/builders/parentBuilder.ts","../../src/builders/baseBuilder.ts","../../src/builders/workspaceBuilder.ts","../../src/models/row.ts","../../src/models/column.ts","../../src/models/group.ts","../../src/models/workspace.ts","../../src/models/window.ts","../../src/models/frame.ts","../../src/shared/privateDataManager.ts","../../src/models/base/base.ts","../../src/controllers/base.ts","../../src/controllers/main.ts","../../src/shared/ioc.ts","../../src/main.ts","../../src/index.ts","../node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js","../node_modules/buffer/index.js","../node_modules/process/browser.js","../../node_modules/tslib/tslib.es6.js","../../src/defaultComponents/HeaderButton.tsx","../../src/defaultComponents/popups/addApplication/ApplicationItem.tsx","../../src/defaultComponents/popups/addApplication/ApplicationsList.tsx","../../src/defaultComponents/popups/addApplication/ContainerSwitch.tsx","../../src/withGlueInstance.tsx","../../src/defaultComponents/popups/addApplication/AddApplicationPopup.tsx","../../src/defaultComponents/popups/Feedback.tsx","../../src/defaultComponents/popups/helpers.ts","../../src/defaultComponents/popups/addWorkspace/WorkspaceLayoutItem.tsx","../../src/defaultComponents/popups/addWorkspace/WorkspaceLayoutsList.tsx","../../src/defaultComponents/popups/addWorkspace/AddWorkspacePopup.tsx","../../src/defaultComponents/popups/saveWorkspace/SaveContextCheckbox.tsx","../../src/defaultComponents/popups/saveWorkspace/SaveWorkspaceButton.tsx","../../src/defaultComponents/popups/saveWorkspace/SaveWorkspacePopup.tsx","../../../workspaces-ui-core/dist/export.js","../../src/workspacesManager.ts","../../node_modules/reactjs-popup/dist/reactjs-popup.esm.js","../../src/WorkspacePopup.tsx","../../src/Portal.tsx","../../src/WorkspacesWrapper.tsx","../../src/WorkspacesElementCreationWrapper.tsx","../../src/index.tsx","../node_modules/@glue42/desktop/dist/desktop.browser.js","../../src/config/index.ts","../../src/windows/protocol.ts","../../src/windows/webWindow.ts","../../src/windows/controller.ts","../../src/shared/promise-plus.ts","../../src/appManager/protocol.ts","../../src/appManager/controller.ts","../../src/appManager/instance.ts","../../src/appManager/application.ts","../../src/layouts/protocol.ts","../../src/layouts/controller.ts","../../../core/dist/core.es.js","../../src/web.ts","../../src/enterprise/index.ts","../node_modules/react/cjs/react-jsx-runtime.production.min.js","../node_modules/react/cjs/react.production.min.js","../node_modules/react-dom/cjs/react-dom.production.min.js","../node_modules/scheduler/index.js","../node_modules/scheduler/cjs/scheduler.production.min.js","../node_modules/regenerator-runtime/runtime.js","../node_modules/prop-types/factoryWithThrowingShims.js","../node_modules/prop-types/lib/ReactPropTypesSecret.js","../node_modules/base64-js/index.js","../node_modules/ieee754/index.js","../node_modules/isarray/index.js","../node_modules/ws/browser.js"],"names":["module","exports","require","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","from","unsupportedIterableToArray","_unsupportedIterableToArray","o","minLen","n","toString","call","slice","constructor","name","test","g","this","Function","e","window","checkDCE","__REACT_DEVTOOLS_GLOBAL_HOOK__","err","console","error","_arrayLikeToArray","len","arr2","_slicedToArray","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","GlueContext","GlueProvider","children","fallback","config","glue","glueFactory","setGlue","a","useGlueInit","GlueWeb","Glue","Provider","propTypes","displayName","_createForOfIteratorHelper","allowArrayLike","it","F","s","f","normalCompletion","didErr","step","_e2","_defineProperty","obj","getOwnPropertySymbols","hasOwnProperty","propIsEnumerable","propertyIsEnumerable","toObject","val","assign","test1","String","getOwnPropertyNames","test2","fromCharCode","map","join","test3","split","forEach","letter","keys","shouldUseNative","source","symbols","to","arguments","createRegistry","options","errorHandling","Error","_userErrorHandler","callbacks","callback","callbacksForKey","ok","result","asPromise","r","Promise","resolve","reject","withDefault","defaultValue","withException","map2","ar","br","mapError","andThen","freeze","isOk","isErr","successes","results","reduce","acc","concat","t","p","apply","isEqual","b","isJsonArray","json","isJsonObject","expectedGot","expected","got","JSON","stringify","typeString","printPath","paths","path","prependAt","newAt","_a","at","rest","indexOf","__rest","Decoder","decode","_this","run","kind","input","message","runPromise","runWithException","where","errorMessage","succeed","fail","string","number","boolean","constant","object","decoders","array","decoder","v","err$$1","decodeValue_1","tuple","nth","union","ad","bd","oneOf","intersection","ds","anyJson","unknownJson","dict","optional","errors","errorsList","valueAt","jsonAtPath","fixedValue","lazy","mkDecoder","InteropTransport","agm","defaultTransportTimeout","glue42gd","all","values","METHODS","method","verifyMethodLive","webPlatformMethodName","streamName","streamBranch","streamType","subscriptionArgs","branch","type","subscribe","subscription","operation","operationArguments","invocationArguments","domain","data","methodName","control","baseErrorMessage","invoke","methodResponseTimeoutMs","invocationResult","all_return_values","all_errors","invocationErrorMessage","returned","promise","timeoutMilliseconds","timeoutMessage","methods","some","unsubscribe","methodAdded","setTimeout","promiseActive","timeout","then","clearTimeout","catch","privateData","WeakMap","ParentBuilder","definition","base","wrapChildren","set","get","add","addWindow","serializeChildren","BaseBuilder","getBuilder","child","validatedDefinition","parentDefinitionDecoder","childBuilder","swimlaneWindowDefinitionDecoder","serialize","WorkspaceBuilder","controller","every","index","nonNegativeNumberDecoder","saveConfig","workspaceBuilderCreateConfigDecoder","createWorkspace","getBase","model","Row","addParent","predicate","removeChild","maximize","restore","close","getId","getFrameId","getWorkspaceId","getPositionIndex","getAllChildren","getMyParent","getMyFrame","getMyWorkspace","Column","Group","getData","manager","getWorkspaceData","getDataManager","Workspace","dataManager","checkThrowCallback","find","refreshReference","iterateFindChild","focusItem","id","frame","workspaces","wsp","closeItem","getSnapshot","nonEmptyStringDecoder","saveLayout","workspaceId","saveContext","title","setItemTitle","getWorkspaceContext","setWorkspaceContext","updateWorkspaceContext","subscribeWorkspaceContextUpdated","newSnapshot","existingChildren","foundChildren","foundChild","getWindow","swimlaneWindow","getBox","parent","newChildren","refreshChildren","workspace","currentFrame","frameId","remapFrame","frameSummary","actualFrame","frameCreateConfig","summary","newFrame","ioc","getModel","remapWorkspace","allParents","iterateFilterChildren","filter","getAllBoxes","allWindows","bundleTo","action","eventType","scope","scopeId","processLocalSubscription","payload","windowParent","windowSummary","parentId","foundWindow","positionIndex","windowId","win","layoutName","getWindowData","Window","isLoaded","itemId","forceLoadWindow","maximizeItem","restoreItem","ejectWindow","newWindowId","getGdWindow","myId","getGDWindow","getParent","moveWindowTo","isMaximized","checkIsWindowLoaded","isFocused","appName","getFrameData","Frame","validatedConfig","resizeConfigDecoder","resizeItem","moveConfigDecoder","moveFrame","getFrameState","changeFrameState","getWorkspaces","validatedOptions","restoreWorkspaceConfigDecoder","restoreWorkspace","workspaceDefinitionDecoder","getWorkspace","workspaceSummary","foundParent","PrivateDataManager","parentsData","workspacesData","windowsData","framesData","windowPlacementIdData","keyForDeleting","k","delete","placementId","newData","getParentData","getWindowFromPlacementId","placemenId","getWindowByPlacementId","Base","parentType","operationResult","typeToAdd","parentDefinition","transformDefinition","newParentId","myWorkspace","modelData","strictParentDefinitionDecoder","BaseController","windows","contexts","layouts","list","createConfig","bridge","send","OPERATIONS","snapshot","frameConfig","workspaceConfig","openWorkspace","restoreOptions","getFrameSummary","operationArgs","operationName","addContainer","allFrameSummaries","frames","frameToCheck","bridgeResults","allSummaries","summaries","summaryResult","wrappedCallback","layout","addedUnSub","onAdded","changedUnSub","onChanged","onRemoved","getWorkspaceSnapshot","bundleWorkspace","contextName","update","gdWindow","controlResult","containerId","getFrameSnapshot","newChildSnapshot","childToAdd","c","childType","privateDataManager","remapChild","grandChildren","innerFound","onWindowAdded","MainController","isWindowInWorkspace","inWorkspace","getLayoutSummaries","allLayouts","getAllFramesSummaries","levelId","handleEnterpriseLocalSubscription","handleCoreLocalSubscription","handleEnterpriseGlobalSubscription","handleCoreGlobalSubscription","selector","getFrame","getFrames","iterateWorkspaces","end","foundWorkspace","matchingWorkspaces","getAllWorkspacesSummaries","allSummariesResult","getAllWorkspaceSummaries","resultWindow","resultParent","getAllLayoutsSummaries","deleteLayout","exportAllLayouts","allLayoutsResult","matchingLayouts","importLayout","handleOnSaved","handleOnRemoved","state","requestedState","frameResult","notifyWindowAdded","originalCB","callbackData","ended","workspaceSummaries","fetchWorkspace","CallbackFactory","composeAPI","my","checkIsInSwimlane","builderConfigDecoder","getAllFrames","w","getAllWorkspaces","getSummaries","export","exportLayout","import","workspaceLayoutDecoder","save","verifiedConfig","workspaceLayoutSaveConfigDecoder","onSaved","onFrameOpened","processGlobalSubscription","onFrameClosed","onWorkspaceOpened","onWorkspaceClosed","onWindowLoaded","onWindowRemoved","MapShim","Map","getIndex","entry","class_1","__entries__","entries","splice","has","clear","ctx","isBrowser","document","global$1","global","Math","self","requestAnimationFrame$1","requestAnimationFrame","bind","Date","now","transitionKeys","mutationObserverSupported","MutationObserver","ResizeObserverController","connected_","mutationEventsAdded_","mutationsObserver_","observers_","onTransitionEnd_","refresh","delay","leadingCall","trailingCall","lastCallTime","resolvePending","proxy","timeoutCallback","timeStamp","throttle","addObserver","observer","connect_","removeObserver","observers","disconnect_","updateObservers_","activeObservers","gatherActive","hasActive","broadcastActive","addEventListener","observe","attributes","childList","characterData","subtree","removeEventListener","disconnect","_b","propertyName","getInstance","instance_","defineConfigurable","getWindowOf","ownerDocument","defaultView","emptyRect","createRectInit","toFloat","parseFloat","getBordersSize","styles","positions","size","position","getHTMLElementContentRect","clientWidth","clientHeight","getComputedStyle","paddings","positions_1","getPaddings","horizPad","left","right","vertPad","top","bottom","width","height","boxSizing","round","documentElement","isDocumentElement","vertScrollbar","horizScrollbar","abs","isSVGGraphicsElement","SVGGraphicsElement","SVGElement","getBBox","getContentRect","bbox","getSVGContentRect","x","y","ResizeObservation","broadcastWidth","broadcastHeight","contentRect_","isActive","rect","broadcastRect","ResizeObserverEntry","rectInit","contentRect","Constr","DOMRectReadOnly","create","createReadOnlyRect","ResizeObserverSPI","callbackCtx","activeObservations_","observations_","callback_","controller_","callbackCtx_","Element","observations","unobserve","clearActive","observation","ResizeObserver","base64","ieee754","kMaxLength","Buffer","TYPED_ARRAY_SUPPORT","createBuffer","that","RangeError","Uint8Array","__proto__","arg","encodingOrOffset","allocUnsafe","ArrayBuffer","byteOffset","byteLength","fromArrayLike","fromArrayBuffer","encoding","isEncoding","actual","write","fromString","isBuffer","checked","copy","buffer","fromObject","assertSize","isView","loweredCase","utf8ToBytes","base64ToBytes","toLowerCase","slowToString","start","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","m","bidirectionalIndexOf","dir","isNaN","arrayIndexOf","lastIndexOf","indexSize","arrLength","valLength","read","buf","readUInt16BE","foundIndex","found","j","hexWrite","offset","Number","remaining","strLen","parsed","parseInt","substr","utf8Write","blitBuffer","asciiWrite","str","byteArray","charCodeAt","asciiToBytes","latin1Write","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","fromByteArray","min","res","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","MAX_ARGUMENTS_LENGTH","decodeCodePointsArray","SlowBuffer","alloc","INSPECT_MAX_BYTES","foo","subarray","typedArraySupport","poolSize","_augment","species","fill","allocUnsafeSlow","_isBuffer","compare","pos","swap16","swap32","swap64","equals","inspect","max","match","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","toJSON","ret","out","toHex","bytes","checkOffset","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","floor","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","code","INVALID_BASE64_RE","Infinity","leadSurrogate","toByteArray","trim","replace","stringtrim","base64clean","src","dst","cachedSetTimeout","cachedClearTimeout","process","defaultSetTimout","defaultClearTimeout","runTimeout","fun","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","marker","runClearTimeout","Item","noop","nextTick","args","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","umask","extendStatics","d","setPrototypeOf","__extends","__","__assign","__awaiter","thisArg","_arguments","P","generator","fulfilled","rejected","__generator","body","_","label","sent","trys","ops","verb","throw","return","op","pop","__spreadArrays","il","jl","ApplicationItem","onClick","React","className","href","ApplicationsList","inLane","hidePopup","searchTerm","updatePopupHeight","filterApps","isActivity","isShell","app","userProperties","includeInWorkspaces","includeInCanvas","workspacesFriendlyApps","appManager","applications","useEffect","addGroup","warn","error_1","ContainerSwitch","setInLane","wordInLabel","labelToPut","toUpperCase","substring","htmlFor","role","withGlueInstance","WrappedComponent","useContext","boxId","resizePopup","useState","_c","setParent","setSearchTerm","containerRef","createRef","shouldUpdate","allWorkspaces","refreshPopupHeight","containerHeight","current","getBoundingClientRect","ref","placeholder","onChange","Feedback","regexResult","exec","getFeedbackErrorMessage","WorkspaceLayoutItem","onCloseClick","WorkspaceLayoutsList","showFeedback","layoutSummaries","setLayoutSummaries","stopPropagation","feedbackText","setFeedbackText","resizePopupWithContainerHeight","reuseFrameId","itemType","errMessage","SaveContextCheckbox","changeChecked","refreshHeight","inputRef","SaveWorkspaceButton","inputValue","clearInput","shouldSaveContext","hideFeedback","buildMode","shouldSave","setShouldSave","workspaceName","setTitle","downloadElement","createElement","encodeURIComponent","append","setAttribute","click","remove","setShouldSaveContext","feedbackMessage","setFeedbackMessage","setWorkspaceName","bounds","globalThis","container","controls","items","utils","extend","createObject","contructor","objectKeys","getHashValue","location","hash","RegExp","getQueryStringParam","search","animFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","Int8Array","isFunction","fnBind","removeFromArray","getTime","getUniqueId","random","filterXss","stripTags","EventEmitter","_mSubscriptions","ALL_EVENT","fn","unshift","unbind","trigger","DragListener","_eElement","_oDocument","_eBody","_nButtonCode","_nDelay","_nDistance","_nX","_nY","_nOriginalX","_nOriginalY","_bDragging","_fMove","onMouseMove","_fUp","onMouseUp","_fDown","onMouseDown","destroy","preventDefault","button","_getCoordinates","one","_timeout","_startDrag","removeClass","css","addClass","originalEvent","touches","pageX","pageY","LayoutManager","$","noConflict","isInitialised","_isFullPage","_resizeTimeoutId","_components","lm-react-component","ReactComponentHandler","_itemAreas","_resizeFunction","_onResize","_unloadFunction","_onUnload","_maximizedItem","_maximizePlaceholder","_creationTimeoutPassed","_subWindowsCreated","_dragSources","_dragProxies","_updatingColumnsResponsive","_firstLoad","_componentFactory","root","openPopouts","selectedItem","isSubWindow","eventHub","EventHub","_createConfig","dropTargetIndicator","transitionIndicator","tabDropPlaceholder","_typeToItem","column","RowOrColumn","row","stack","Stack","component","Component","__lm","minifyConfig","ConfigMinifier","unminifyConfig","registerComponent","toConfig","AbstractContentItem","settings","dimensions","labels","context","workspacesOptions","content","contentItems","_$reconcilePopoutWindows","maximizedItemId","getComponent","ConfigurationError","init","_createSubWindows","readyState","_adjustToWindowMode","_setContainer","DropTargetIndicator","TransitionIndicator","updateSize","_create","_bindEvents","_adjustColumnsResponsive","ready","callDownwards","element","_dragListener","_element","_itemConfig","createContentItem","componentName","Root","createPopout","l","h","u","isRoot","addId","screenX","screenLeft","screenY","screenTop","BrowserPopout","createDragSource","constrainDragToContainer","DragSource","selectItem","selectionEnabled","deselect","select","_$maximiseItem","_$minimizeItem","after","prepend","_$minimiseItem","removeId","_$closeWindow","_$getArea","x1","x2","y1","y2","surface","_$createRootItemAreas","side","_$calculateItemAreas","_getAllContentItems","isStack","contentItem","_contentAreaDimensions","header","highlightArea","mode","_$normalizeContentItem","isPlainObject","closed","resize","localStorage","getItem","parse","removeItem","defaultConfig","hasHeaders","headerHeight","popin","html","offsetHeight","__glInstance","indexInParent","margin","padding","overflow","getItemsById","toggleMaximise","closePopoutsOnUnload","_useResponsiveLayout","minItemWidth","isRow","is","_findAllStackContainers","_addChildContentItemsToContainer","responsiveMode","addChild","_findAllStackContainersRecursive","isComponent","default","GoldenLayout","reorderEnabled","popoutWholeStack","blockedPopoutsThrowError","showMinimizeIcon","showPopoutIcon","showMaximizeIcon","showCloseIcon","tabOverlapAllowance","reorderOnTabMenuClick","tabControlOffset","borderWidth","borderGrabWidth","minItemHeight","dragProxyWidth","dragProxyHeight","minimize","popout","tabDropdown","itemDefaultConfig","isClosable","workspacesConfig","ItemContainer","layoutManager","isHidden","_config","_contentElement","getElement","hide","show","setSize","isColumn","getState","componentState","extendState","setState","emitBubblingEvent","_$setSize","offsetWidth","_dimensions","_parentId","_indexInParent","_layoutManager","_popoutWindow","_id","_createWindow","getGlInstance","popIn","_createUrl","_serializeWindowOptions","innerWidth","innerHeight","menubar","toolbar","personalbar","resizable","scrollbars","status","open","_positionWindow","_onClose","setInterval","_onInitialised","clearInterval","setItem","moveTo","focus","DragProxy","_contentItem","_originalParent","_area","_lastValidArea","_onDrag","_onDrop","_template","_side","_sided","attr","childElementContainer","disableDragProxy","_updateTree","_setDimensions","_minX","_minY","_maxX","_maxY","_width","_height","_setDropPosition","_$highlightDropZone","canceled","_$destroy","_$onDrop","_$setParent","_createDragListener","_onDragStart","transitionElements","highlight","Header","_onHeaderClick","createLogo","domNode","createAddWorkspace","createSystemButtons","tabsContainer","tabDropdownContainer","controlsContainer","workspaceControlsContainer","tabsControlsContainer","_updateTabSizesWithoutDropdown","tabs","activeContentItem","closeButton","tabDropdownButton","hideAdditionalTabsDropdown","_hideAdditionalTabsDropdown","mouseup","_lastVisibleTabIndex","_tabControlOffset","_createControls","createTab","Tab","before","removeTab","setActiveContentItem","setActive","activeItemIndex","_header","_setupHeaderPosition","_$setClosable","_isClosable","_getHeaderSetting","_showAdditionalTabsDropdown","HeaderButton","_onPopoutClick","minimizeLabel","minimizeButton","_updateTabSizes","toggle","outerWidth","tab","outerHeight","z-index","margin-left","_action","Splitter","_isVertical","_size","_grabSize","_createElement","titleElement","closeElement","_onTabClickFn","_onTabClick","_onCloseClickFn","_onCloseClick","noTabHeader","_onCloseMousedown","getActiveContentItem","_toElement","_fromDimensions","_totalAnimationDuration","_animationStartTime","_nextAnimationFrame","_measure","opacity","node","_extendItemNode","isVisible","_pendingEventPropagations","_throttledEvents","_propagateEvent","_createContentItems","_$init","replaceChild","parentNode","_$hide","hasId","getItemsByFilter","getItemsByType","_$getItemsByProperty","getComponentsByName","_callOnActiveComponents","_$show","BubblingEvent","isPropagationStopped","_scheduleEventPropagationToLayoutManager","origin","_propagateEventToLayoutManager","_$shown","shown","_containerElement","_splitterSize","_splitterGrabSize","_isColumn","_dimension","_splitter","_splitterPosition","_splitterMinPosition","_splitterMaxPosition","_createSplitter","_calculateRelativeSizes","_setAbsoluteSizes","_calculateAbsoluteSizes","additionalPixel","itemSizes","totalWidth","totalHeight","_respectMinItemWidth","_onSplitterDrag","_onSplitterDragStop","_onSplitterDragStart","_getItemsForSplitter","_getMinimumDimensions","minWidth","minHeight","horizontal","vertical","_activeContentItem","_dropZones","_dropSegment","_dropIndex","_$validateClosability","_resetHeaderDropZone","hoverArea","_highlightHeaderDropZone","_highlightBodyDropZone","placeHolderTop","_keys","_values","_nextLevel","_min","_max","_dontPropagateToParent","_childEventSource","_onEventFromThis","_boundOnEventFromChild","_onEventFromChild","_propagateToParent","_propagateToChildren","_$onEventFromParent","__gl","__glArgs","createEvent","opener","initEvent","createEventObject","eventName","dispatchEvent","fireEvent","_reactComponent","_originalComponentWillUpdate","_container","_initialState","_reactClass","_getReactClass","_render","_destroy","ReactDOM","render","_getReactComponent","componentWillUpdate","_onUpdate","unmountComponentAtNode","glEventHub","glContainer","execute","clearKey","[object Object]","_idToLayout","workspaceLayout","getByContainerIdCore","innerText","getById","workspaceTitles","workspaceIds","getWorkspaceTitle","_workspaceLayout","containerElement","setupEvents","classList","contains","handleTabCountChanged","removedNodes","attributeName","handleTabHeaderResized","attributeFilter","attributeOldValue","characterDataOldValue","visibleTabs","refreshTabClasses","visibilityState","logo","addWorkspace","systemButtons","workspaceContents","componentsFactory","_decoratedFactory","callbackRegistry","getWorkspaceIdFromContents","style","display","decoratedFactory","createWorkspaceContents","subscribeForWorkspaceContentsVisibility","getElementById","_maximizedId","_workspaceLayoutElementId","_registry","_emptyVisibleWindowName","_stackMaximizeLabel","_stackRestoreLabel","_options","_emitter","_stateResolver","_configFactory","_frameId","initWorkspaceConfig","refreshLayoutSize","workspaceConfigs","initWorkspaceContents","emitter","raiseEvent","setupOuterLayout","setupContentLayouts","getByContainerId","hideAddButton","getWindowInfoFromConfig","url","registerWindowComponent","onContentComponentCreated","wrapper","wrapInGroup","onContentItemCreated","getByWindowId","getContainerConfig","getWorkspaceLayoutComponentName","registerWorkspaceComponent","getWorkspaceLayoutItemById","removeById","getElementsByTagName","getDragElement","addedNodes","setDragElementSize","getWindowContentItem","waitForWindowContainer","addOrUpdate","showAddButton","signal","getDefaultWorkspaceSettings","registerEmptyWindowComponent","raiseEventWithDynamicName","layoutId","item","onclick","laneId","disableCustomButtons","toBack","toFront","mousedown","refreshTabSizeClass","getElementByClass","getElementsByClassName","appendChild","waitForLayout","onOuterLayoutContainerResized","onContentContainerResized","log","hasClass","C","I","W","A","Z","characters","seed","lookup","shuffled","E","crypto","msCrypto","S","getRandomValues","T","LN2","D","L","M","generate","worker","isValid","_idToFrame","_glue","findById","contentDocument","contentWindow","querySelector","waitForWindow","setContext","Event","z","LAST_SESSION_KEY","B","URLSearchParams","emptyFrame","workspaceNames","build","cleanUpUrl","removeQueryParams","history","replaceState","pathname","N","resolver","_configConverter","_layoutsType","_layoutComponentType","_initialWorkspaceConfig","generateInitialConfig","getWorkspaceByName","layoutData","getLastSession","getDefaultFrameConfig","addWorkspaceIds","addWindowIds","convertToRendererConfig","getAll","components","metadata","saveWorkspaceCore","saveWorkspaceCoreSync","getWorkspaceConfig","removeWorkspaceIds","applyWindowLayoutState","convertToAPIConfig","removeWorkspaceItemIds","windowSummariesToWindowLayout","addWindowUrlsToWindows","workspaceSummaryToWorkspaceLayout","getContext","application","details","getWindowLayoutState","layoutState","O","_layoutEventEmitter","waitForWindowContentItem","getWindowSummaryCore","getWorkspaceTabIndex","transformComponentsToWindowSummary","transformParentsToContainerSummary","getContainer","findElementInConfig","getWorkspaceSummary","findIndex","getUserFriendlyParent","isWindowMaximized","getWindowSummarySync","getContainerSummary","R","_pattern","sort","H","_titleGenerator","_defaultWorkspaceLayoutSettings","createWindowConfigurationCore","getTitle","getDefaultWorkspaceConfig","wrap","instances","registry","q","flat","convertToRendererConfigCore","convertToApiConfigCore","applyDefaultRendererConfig","getGroupWithEmptyVisibleWindow","createEmptyVisibleWindowConfig","getAppNameFromWindowId","createGDWindowConfig","createApiWindow","U","_externalPopupManager","_componentPopupManager","createAddApplicationPopup","showAddWindowPopup","createAddWorkspacePopup","showOpenWorkspacePopup","createSaveWorkspacePopup","showSaveWorkspacePopup","V","_addApplicationType","_openWorkspaceType","_saveWorkspaceType","_showPopupMethod","initPopup","registerHideMethod","registerResizeMethod","getPopupSize","showElement","_popup","getPopupInteropId","servers","peerId","register","interopId","G","_popupSizes","hideSystemPopups","showInternalAddAppPopup","showInternalOpenWorkspacePopup","showInternalSaveWorkspacePopup","composedPath","X","_isLayoutInitialized","_initPromise","_workspacesEventEmitter","getComponentBounds","_controller","subscribeForWindowClicked","_frameController","onFrameContentClicked","cleanUp","stateResolver","workspacesEventEmitter","raiseWindowEvent","raiseWorkspaceEvent","_layoutsManager","saveWorkspacesFrame","raiseFrameEvent","loadConfig","_initialized","_popupManager","initLayout","reInitialize","getActiveWorkspace","setInitialWorkspaceConfig","maximizeWindow","restoreWindow","closeWorkspace","closeTab","closeContainer","setWorkspaceTitle","setWindowTitle","getUrlByAppName","waitForFrameLoaded","focusWorkspace","focusWindow","generateLayout","getInitialConfig","subscribeForPopups","subscribeForLayout","reportLayoutStructure","getTitleByAppName","getURL","startFrame","getWindowSummary","onContentItemResized","onTabCloseRequested","removeLayoutElement","checkForEmptyWorkspace","onWorkspaceTabCloseRequested","onTabElementMouseDown","onTabDragStart","bringToFront","onTabDragEnd","selectionChanged","onSelectionChanged","onWorkspaceAdded","selectionChangedDeep","onWorkspaceSelectionChanged","isWindowVisible","onAddButtonClicked","onContentLayoutInit","onWorkspaceAddButtonClicked","workspaceLayoutHeader","onWorkspaceSaveRequested","onStackMaximized","maximizeTab","onStackRestored","restoreTab","onEjectRequested","eject","onWorkspaceContentsShown","getWorkspaceContentItem","onWorkspaceContentsHidden","onWindowTitleChanged","removeWorkspace","onWindowEvent","Y","_workspacesControlMethod","_workspacesEventMethod","_inDisposing","handleControl","initPromise","handleIsWindowInWorkspace","handleAddWindow","handleAddContainer","handleGetWorkspaceSnapshot","handleOpenWorkspace","handleSaveLayout","handleExportAllLayouts","handleDeleteLayout","handleGetAllWorkspaceSummaries","handleMaximizeItem","handleRestoreItem","handleCloseItem","handleSetItemTitle","handleAddWorkspaceChildren","handleEject","handleCreateWorkspace","handleForceLoadWindow","handleFocusItem","handleBundleWorkspace","handleGetFrameSummary","handleMoveFrame","handleGetFrameSnapshot","handleGetSnapshot","handleMoveWindowTo","handleGenerateLayout","handlePing","_converter","registerAgmMethods","onFrameEvent","publishEventData","onWorkspaceEvent","onContainerEvent","registerAsync","saveWorkspace","loadWindow","move","generateWorkspaceLayout","live","J","getPrototypeOf","nodeType","nonce","noModule","text","getAttribute","head","jquery","toArray","pushStack","merge","prevObject","each","first","eq","last","even","grep","odd","expando","isReady","isEmptyObject","globalEval","makeArray","inArray","guid","support","ct","ID","CLASS","TAG","ATTR","PSEUDO","CHILD","bool","needsContext","Q","K","tt","et","nt","ot","st","rt","_t","disabled","nodeName","childNodes","qsa","yt","wt","querySelectorAll","removeAttribute","cacheLength","shift","lt","dt","ht","attrHandle","ut","sourceIndex","nextSibling","pt","mt","ft","isDisabled","gt","isXML","namespaceURI","setDocument","attachEvent","createComment","getElementsByName","getAttributeNode","innerHTML","matchesSelector","matches","webkitMatchesSelector","mozMatchesSelector","oMatchesSelector","msMatchesSelector","disconnectedMatch","compareDocumentPosition","sortDetached","specified","escape","uniqueSort","detectDuplicates","sortStable","getText","textContent","firstChild","nodeValue","selectors","createPseudo","relative",">"," ","+","~","preFilter","lastChild","uniqueID","pseudos","setFilters","not","lang","activeElement","hasFocus","tabIndex","enabled","selected","selectedIndex","empty","radio","checkbox","file","password","image","submit","reset","vt","bt","Ct","It","xt","filters","tokenize","compile","expr","unique","isXMLDoc","escapeSelector","parseHTML","contents","prev","closest","prevAll","addBack","parents","parentsUntil","nextAll","nextUntil","prevUntil","siblings","reverse","Callbacks","stopOnFalse","memory","disable","lock","locked","fireWith","fire","fired","Deferred","always","pipe","progress","notify","notifyWith","resolveWith","exceptionHook","stackTrace","rejectWith","getStackHook","when","readyException","readyWait","doScroll","uid","cache","access","hasData","removeData","_data","_removeData","dequeue","_queueHooks","stop","clearQueue","composed","getRootNode","cur","cssNumber","unit","createDocumentFragment","checkClone","cloneNode","noCloneChecked","option","thead","col","tr","td","_default","tbody","tfoot","colgroup","caption","th","optgroup","htmlPrefilter","createTextNode","kt","Et","St","event","Tt","namespace","handler","isTrigger","special","delegateType","stopImmediatePropagation","events","handle","triggered","dispatch","bindType","origType","delegateCount","setup","teardown","removeEvent","fix","delegateTarget","preDispatch","handlers","currentTarget","elem","isImmediatePropagationStopped","rnamespace","handleObj","postDispatch","addProp","load","noBubble","beforeunload","returnValue","isDefaultPrevented","defaultPrevented","relatedTarget","isSimulated","altKey","bubbles","cancelable","changedTouches","ctrlKey","detail","eventPhase","metaKey","shiftKey","view","char","charCode","keyCode","buttons","clientX","clientY","offsetX","offsetY","pointerId","pointerType","targetTouches","toElement","which","blur","mouseenter","mouseleave","pointerenter","pointerleave","Wt","At","Dt","Pt","Lt","Mt","Ft","zt","Bt","clone","_evalUrl","Nt","cleanData","detach","insertBefore","replaceWith","appendTo","prependTo","insertAfter","replaceAll","Ot","$t","Rt","Ht","jt","getPropertyValue","pixelBoxStyles","maxWidth","qt","cssText","marginLeft","backgroundClip","clearCloneStyle","boxSizingReliable","pixelPosition","reliableMarginLeft","scrollboxSize","reliableTrDimensions","Ut","Vt","Gt","Xt","cssProps","Yt","Jt","Zt","visibility","Qt","letterSpacing","fontWeight","Kt","te","ceil","ee","getClientRects","ne","cssHooks","animationIterationCount","columnCount","fillOpacity","flexGrow","flexShrink","gridArea","gridColumn","gridColumnEnd","gridColumnStart","gridRow","gridRowEnd","gridRowStart","lineHeight","order","orphans","widows","zIndex","zoom","setProperty","border","expand","Tween","prop","easing","propHooks","duration","fx","scrollTop","scrollLeft","linear","swing","cos","PI","ie","oe","se","re","ae","hidden","interval","tick","ce","le","de","he","tweeners","prefilters","startTime","tweens","opts","specialEasing","originalProperties","originalOptions","createTween","complete","timer","anim","Animation","*","tweener","unqueued","overflowX","overflowY","prefilter","speed","speeds","old","fadeTo","animate","finish","timers","slideDown","slideUp","slideToggle","fadeIn","fadeOut","fadeToggle","slow","fast","checkOn","optSelected","radioValue","ue","pe","removeAttr","attrHooks","me","fe","ge","ye","ve","removeProp","propFix","for","class","toggleClass","we","valHooks","focusin","be","parentWindow","simulate","triggerHandler","Ce","Ie","xe","parseXML","DOMParser","parseFromString","ke","Ee","Se","Te","We","param","serializeArray","Ae","De","Pe","Le","Me","Fe","ze","Be","Ne","Oe","$e","Re","dataTypes","He","ajaxSettings","flatOptions","active","lastModified","etag","isLocal","protocol","processData","async","contentType","accepts","xml","responseFields","converters","* text","text html","text json","text xml","ajaxSetup","ajaxPrefilter","ajaxTransport","ajax","statusCode","getResponseHeader","getAllResponseHeaders","setRequestHeader","overrideMimeType","mimeType","abort","dataType","crossDomain","host","traditional","hasContent","ifModified","headers","beforeSend","success","dataFilter","throws","statusText","getJSON","getScript","text script","wrapAll","firstElementChild","wrapInner","unwrap","visible","xhr","XMLHttpRequest","je","0","1223","qe","cors","username","xhrFields","onload","onerror","onabort","ontimeout","onreadystatechange","responseType","responseText","binary","response","script","scriptAttrs","charset","scriptCharset","Ue","Ve","Ge","jsonp","jsonpCallback","createHTMLDocument","implementation","animated","setOffset","using","pageYOffset","pageXOffset","offsetParent","scrollTo","Height","Width","delegate","undelegate","hover","Xe","holdReady","parseJSON","isWindow","camelCase","isNumeric","Ye","jQuery","Je","dispose","initialized","subscribeForWorkspaceEvents","notifyMoveAreaChanged","registerPopup","removePopup","removePopupById","unmount","subscribeForWindowFocused","notifyWorkspacePopupChanged","WorkspacesManagerDecorator","componentFactory","workspacesManager","elementId","cb","_extends","useIsomorphicLayoutEffect","useLayoutEffect","Style","popupContent","tooltip","modal","popupArrow","background","color","overlay","POSITION_TYPES","getCoordinatesForPosition","triggerBounding","ContentBounding","arrow","_ref","CenterTop","CenterLeft","transform","arrowTop","arrowLeft","popupIdCounter","forwardRef","_ref$trigger","_ref$onOpen","onOpen","_ref$onClose","onClose","_ref$defaultOpen","defaultOpen","_ref$open","_ref$disabled","_ref$nested","nested","_ref$closeOnDocumentC","closeOnDocumentClick","_ref$repositionOnResi","repositionOnResize","_ref$closeOnEscape","closeOnEscape","_ref$on","_ref$contentStyle","contentStyle","_ref$arrowStyle","arrowStyle","_ref$overlayStyle","overlayStyle","_ref$className","_ref$position","_ref$modal","_ref$lockScroll","lockScroll","_ref$arrow","_ref$offsetX","_ref$offsetY","_ref$mouseEnterDelay","mouseEnterDelay","_ref$mouseLeaveDelay","mouseLeaveDelay","_ref$keepTooltipInsid","keepTooltipInside","_useState","isOpen","setIsOpen","triggerRef","useRef","contentRef","arrowRef","focusedElBeforeOpen","popupId","isModal","timeOut","setPosition","focusContentOnOpen","lockScrolll","resetScroll","openPopup","closePopup","togglePopup","onMouseEnter","onContextMenu","onMouseLeave","_contentRef$current","focusableEls","firstEl","useImperativeHandle","_arrowStyle$top","_arrowStyle$left","cords","_ref2","bestCoords","wrapperBox","boundingBox","contentBox","calculatePosition","scrollY","scrollX","listener","els","firstFocusableEl","lastFocusableEl","refs","PopupRoot","renderContent","popupContentStyle","childrenElementProps","pointerEvents","data-testid","viewBox","ovStyle","data-popup","Fragment","triggerProps","aria-describedby","onAsArray","onFocus","onBlur","comp","cloneElement","createPortal","Portal","templateId","WorkspacesWrapper","template","onCreateLogoRequested","onCreateAddWorkspaceRequested","onCreateSystemButtonsRequested","onCreateWorkspaceContentsRequested","onCreateSaveWorkspacePopupRequested","onCreateAddApplicationPopupRequested","onCreateAddWorkspacePopupRequested","onHideSystemPopupsRequested","externalPopupApplications","_super","saveWorkspacePopup","addApplicationPopup","addWorkspacePopup","LogoCustomElement","LogoComponent","AddWorkspaceCustomComponent","AddWorkspaceComponent","SystemButtonsCustomComponent","SystemButtonsComponent","WorkspaceContentsComponent","WorkspaceContents","wc","SaveWorkspaceCustomComponent","popups","SaveWorkspaceComponent","SaveWorkspacePopup","AddApplicationCustomComponent","AddApplicationComponent","AddApplicationPopup","AddWorkspacePopup","WorkspacesElementCreationWrapper","_g","additionalProperties","addApplicationComponent","saveWorkspaceComponent","addWorkspaceComponent","onCreateAddApplicationRequested","onCreateSaveWorkspaceRequested","addApplication","renderLogoComponent","renderAddWorkspaceComponent","renderSystemButtonsComponent","renderWorskpaceContents","renderSaveWorkspacePopupComponent","renderAddApplicationPopupComponent","renderAddWorkspacePopupComponent","onHideSystemPopups","factory","extendStatics$1","__extends$1","__assign$1","__awaiter$1","__generator$1","MetricTypes","getMetricTypeByValue","metric","getTypeByValue","serializeMetric","serializedMetrics","memo","innerType","composite","defineNestedComposite","description","normalizeMetricName","getMetricValueByType","publishNestedComposite","Boolean","flatten","toFlatten","composeMsgForRootStateMetric","system","merged","getAggregateState","highestState","msg","idx","aggregateDescription","Helpers","transport","BaseMetric","createMetric","repo","newValue","updateMetric","NumberMetric","incrementBy","num","increment","decrement","decrementBy","ObjectMetric","mergeValues","StringMetric","TimestampMetric","separator","_transport","_name","_description","_repo","_parent","_path","_buildPath","shadowedSystem","_state","_subSystems","_metrics","_getOrCreateMetric","metricObject","expectedType","metricDef","matching","shadowedMetric","existing","subSystem","nameSystem","descriptionSystem","_system","stateDescription","updateSystem","stringMetric","timestampMetric","objectMetric","numberMetric","aggState","shadowedSubSystem","createSystem","Repository","addSystemMetrics","clickStream","rootSystem","useClickStream","navigator","userAgent","clickStream_1","documentClickHandler","timestamp","tagName","page","urlMetric","appNameMetric","startUrl","NullProtocol","PerfTracker","api","initialPublishTimeout","publishInterval","lastCount","scheduleCollection","collect","collectMemory","collectEntries","performance","totalJSHeapSize","usedJSHeapSize","allEntries","getEntries","metrics","connection","joinPromise","session","replayRepo","replaySystem","subSystems","ss","createMetricsMsg","Description","Value","metricClone","cloneMetric","updateMetricCore","canUpdate","publishMetricsMsg","sendFireAndForget","canUpdateMetric","resolveReadyPromise","onJoined","reconnect","defineRootMetricsMsg","service","shadowedUpdateMetric","stateObj","rootMetric","peer_id","gw3","disableAutoAppSystem","featureMetric","reportingSystem","def","featureMetricFunc","addFAVSupport","perfConfig","pagePerformanceMetrics","initPerf","_handleError","exceptionArtifact","errParam","replayArgumentsArr","replayArgument","allForKey","argumentsArr","lib","InProcTransport","logger","gw","facade","connect","_client","messageHandler","client","sendObject","_msg","onMessage","onConnectedChanged","SharedWorkerTransport","workerFile","SharedWorker","port","onmessage","postMessage","Utils","getGDMajorVersion","glueDesktop","ver","isNode","_isNode","PromiseWrapper","resolved","time","timerName","marks","endTime","period","mark","currentTime","diff","timerObj","alphabet","previousSeed","WebSocketConstructor","WebSocket","WS","startupTimer","_running","wsRequests","ws","waitForSocketConnection","info","pw","failed","openSocket","retryInterval","retriesLeft","reconnectInterval","notifyForSocketState","debug","initiateSocket","retries","reason","seen_1","WeakSet","notifyStatusChanged","onclose","onopen","identity","wsRequest","randomFromSeed","nextValue","_seed_","ORIGINAL","setCharacters","_alphabet_","ind","getShuffled","characterIndex","sourceArray","targetArray","shuffle","alphabet_1","randomByteBrowser","dest","encode_1","loopCounter","decode_1","lib$1","createCommonjsModule","counter","previousSeconds","clusterWorkerId","seconds","seedValue","workerId","newCharacters","shortid","domainSession","successMessages","errorMessages","_latestOptions","isJoined","tryReconnecting","_connectionOn","disconnected","loggedIn","handleSuccessMessage","handleErrorMessage","sm","requestsMap","destination","wasReconnect","handleJoined","requestId","request_id","getNextRequestId","tag","skipPeerId","successMsg","_tag","errorMsg","leave","onLeft","connected","GW3ProtocolImpl","protocolVersion","datePrefix","datePrefixLen","dateMinLen","datePrefixFirstChar","_isLoggedIn","shouldTryLogin","initialLogin","initialLoginAttempts","sessions","handleDisconnected","ping","processStringMessage","milliseconds","ex","msgType","createStringMessage","oldToJson","datePrefix_1","processObjectMessage","createObjectMessage","login","authentication","e_1","helloMsg","sendOptions","welcomeMsg","token","err_1","loginConfig","gatewayToken","getNewGWToken","flowName","provider","flowCallback","sessionId","secret","globalDomain","subLogger","maxRetries","reconnectAttempts","resolvedIdentity","resolved_identity","availableDomains","available_domains","access_token","setLoggedIn","logout","promises","pingTimer","domainName","domainLogger","authToken","getGWToken","MessageReplayerImpl","specs","specsNames","messages","subs","subsRefCount","specs_1","spec","name_1","_loop_1","refCount","this_1","processMessage","types","isDone","name_2","drain","Connection","messageHandlers","ids","_connected","isTrace","inproc","sharedWorker","canPublish","handleConnectionChanged","handleTransportMessage","replaySpecs","replayer","isObjectBasedTransport","trace","strMessage","isLoggedIn","authRequest","distributeMessage","handlerId","loggerError","msgObj","Logger","logFn","subLoggers","customLogFn","loggerFullName","includeTimeAndLevel","existingSub","publishLevel","level","_publishLevel","consoleLevel","_consoleLevel","publishMessage","compareWith","loggerName","interop","Interop","InteropMethodName","prefix","date","getHours","getMinutes","getSeconds","getMilliseconds","toPrint","GW_MESSAGE_CREATE_CONTEXT","GW_MESSAGE_ACTIVITY_CREATED","GW_MESSAGE_ACTIVITY_DESTROYED","GW_MESSAGE_CONTEXT_CREATED","GW_MESSAGE_CONTEXT_ADDED","GW_MESSAGE_SUBSCRIBE_CONTEXT","GW_MESSAGE_SUBSCRIBED_CONTEXT","GW_MESSAGE_UNSUBSCRIBE_CONTEXT","GW_MESSAGE_DESTROY_CONTEXT","GW_MESSAGE_CONTEXT_DESTROYED","GW_MESSAGE_UPDATE_CONTEXT","GW_MESSAGE_CONTEXT_UPDATED","GW_MESSAGE_JOINED_ACTIVITY","ContextMessageReplaySpec","GW3ContextData","contextId","isAnnounced","activityId","updateCallbacks","hasCallbacks","applyContextDelta","delta","deepClone","commands","command","deletePath","setValueToPath","added_1","added","updated_1","updated","removed","mergeObjectsProperties","Set","flags","what","withWhat","deepEqual","pathArr","InvokeStatus","GW3Bridge","_contextNameToData","_gw3Subscriptions","_nextCallbackSubscriptionNumber","_contextNameToId","_contextIdToName","_protocolVersion","_connection","_logger","_gw3Session","subscribeToContextCreatedMessages","subscribeToContextUpdatedMessages","subscribeToContextDestroyedMessages","handleContextCreatedMessage","handleContextUpdatedMessage","handleContextDestroyedMessage","contextsDomainInfo","uri","createContext","lifetime","createContextMsg","context_id","contextData","currentContext","calculatedDelta","calculateContextDeltaV2","calculateContextDeltaV1","gwResponse","handleUpdated","updaterId","setPath","setPathSupported","setPaths","pathValues","pathValues_1","pathValue","pathValues_2","_r","un","thisCallbackSubscriptionNumber","hadCallbacks","joinedActivity","sentExplicitSubscription","sendSubscribe","subscriptionKey","sendUnsubscribe","extraData","oldContext","invokeUpdateCallbacks","createdMessageTypes_1","createdMessageType","contextCreatedMsg","activity_id","updatedMessageTypes_1","updatedMessageType","contextUpdatedMsg","justSeen","context_snapshot","updater_id","updateCallbackIndex","updateCallback","destroyedMessageTypes_1","destroyedMessageType","destroyedMsg","ContextsModule","_bridge","checkName","checkData","checkPath","paths_1","promisify","successCallback","errorCallback","rejectAfter","ms","finally","Client","configuration","callProtocolSubscribe","targetServers","stream","successProxy","errorProxy","methodResponseTimeout","waitTimeoutMs","methodDef","method_response_timeout","wait_for_method_timeout","delayTillNow","currentServers","getServerMethodsByFilterAndTarget","retry_1","streamInfo","methodFilter","filterCopy","getServers","serverMethodMap","server","getMethods","methodsForInstance","getMethodsForInstance","onMethodAdded","methodRemoved","onMethodRemoved","serverAdded","onServerAdded","serverRemoved","onServerRemoved","serverMethodAdded","onServerMethodAdded","serverMethodRemoved","onServerMethodRemoved","argumentObj","additionalOptions","methodDefinition","serversMethodMap","errorObj","additionalOptionsCopy","invokePromises","invocationMessages","tryToAwaitForMethods","supportsStreaming","objectTypes","called_with","executed_by","serversMethodPair","invId","invokePromise","race","invocationId","getInvocationResultObj","invocationResults","calledWith","invokeMessage","Success","allValues","currentValue","allErrors","currError","invResult","filterByTarget","myMatches","serverMethodPair","instanceMatch","localMachine","instanceFilter","instanceDefinition","containsProps","methodMatch","repoMethod","isMatch","filterValue","repoMethodValue","filterObjTypes","repoObjectTypes","objTypeToContains","objType","repoObjType","isFullfiled","containsAllFromFilter","matchingServers","resultMethodsObject","methodKey","identifier","matchingMethods","getServerMethodsById","ServerSubscription","branchKey","closeSingleSubscription","pushDataToSingle","Request","requestContext","accept","acceptRequestOnBranch","acceptOnBranch","rejectRequest","ServerStreaming","onSubRequest","rc","rm","handleSubRequest","onSubAdded","handleSubAdded","onSubRemoved","handleSubRemoved","streamCallbacks","subscriptionRequestHandler","request","subscriptionAddedHandler","subscriptionRemovedHandler","ServerBranch","subscriptions","getSubscriptionList","closeAllSubscriptions","pushData","ServerStream","_protocol","_repoMethod","_server","branches","bList","getBranchList","def2","returns","unregister","updateRepoMethod","Server","serverRepository","invocations","currentlyUnregistering","streaming","onInvoked","onMethodInvoked","createStream","streamDef","existingStream","streamMethodDefinition","getList","serverMethod","protocolState","streamUserObject","repoId","wrappedCallbackFunction","resultCallback","resultValue","userCallback","registerCore","resultCalled_1","methodResult","userCallbackAsync","forStream","methodToBeRemoved","unregisterWithPredicate","removeMethodsOrStreams","filterPredicate","methodsOrStreamsToRemove","methodsToRemove","methodUnregPromises","addAsCurrentlyUnregistering","theFunction","unregisterInProgress","methodToExecute","invocationArgs","unStrException","_value","methodInvocationResult","InstanceWrapper","wrapped","getStreams","refreshWrappedObject","user","applicationName","pid","machine","environment","region","API","ClientRepository","methodsCount","addServer","serverId","serverEntry","removeServerById","methodId","removeServerMethod","addServerMethod","createMethodIdentifier","gatewayId","display_name","object_types","input_signature","result_signature","getServersByMethod","allMethods","allServers","unsubscribeFunc","serversWithMethodsToReplay","returnUnsubWithDelayedReplay","methodsToReplay","unsubCalled","getServerById","methodInfo","collectionToReplay","ServerRepository","nextId","SUBSCRIPTION_REQUEST","SUBSCRIPTION_ADDED","SUBSCRIPTION_REMOVED","ServerStreaming$1","repository","ERR_URI_SUBSCRIPTION_FAILED","nextStreamId","handleAddInterest","handleRemoveInterest","streamingMethod","subscriptionsMap","branchKeyToStreamIdMap","streamId","getStreamId","subscription_id","subscribeMsg","stream_id","sendSubscriptionFailed","dropSubscriptionMessage","closeMultipleSubscriptions","subscriptionsToClose","drop","allSubscriptions","onSubscriptionLifetimeEvent","method_id","handlerFunc","getNextStreamId","caller_id","arguments_kv","subscriptionId","reason_uri","needleBranch","ServerProtocol","clientRepository","handleInvokeMessage","isStreaming","registerMsg","restrictions","invocation_id","callerId","UserSubscription","subscriptionData","params","trackedServers","pair","onData","dataCallback","queued","dataItem","onClosed","closedCallback","onFailed","onConnected","setNewSubscription","newSub","STATUS_AWAITING_ACCEPT","STATUS_SUBSCRIBED","ERR_MSG_SUB_FAILED","ON_CLOSE_MSG_CLIENT_INIT","ClientStreaming","subscriptionsList","subscriptionIdToLocalKeyMap","nextSubLocalKey","handleErrorSubscribing","errorResponse","subLocalKey","pendingSub","timeoutId","callArgs","callOnClosedHandlers","handleSubscribed","acceptingServer","isFirstResponse","serverInstance","handleEventData","trackedServersFound","isPrivateData","oob","sendingServerId","receivedStreamData","requestArguments","private","onDataHandlers","queuedData","handleSubscriptionCancelled","expectedNewLength","closers","getNextSubscriptionLocalKey","registerSubscription","server_id","drainSubscriptions","subsInfo","localKey","closeSubscription","closingServer","closersCount","closingServerId","ClientProtocol","handlePeerAdded","handlePeerRemoved","handleMethodsAddedMessage","handleMethodsRemovedMessage","handleResultMessage","handleInvocationError","newPeerId","new_peer_id","remoteId","meta","local","serverInfo","removedPeerId","removed_id","methodIdList","gW3ProtocolFactory","libConfig","readyPromise","existingSubscriptions_1","registeredMethods","registeredMethods_1","handleReconnect","protocolPromise","MessageBus","publish","topic","routingKey","removeEmptyValues","routing_key","target_identity","watchOnEvent","keysMatch","cleaned","obj1","obj2","keysObj1","allMatch","GlueCore","userConfig","gdVersion","preloadPromise","gdPreloadPromise","_interop","_contexts","_bus","_allowTrace","glueInitTimer","internalConfig","nodeStartingContext","startingContextString","_GD_STARTING_CONTEXT_","_f","getApplication","applicationConfig","instanceId","gwConfig","gateway","gwURL","uniqueAppName","appInstanceId","getConnection","windowAsAny","containerApplication","htmlContainer","containerName","bus","auth","gwToken","getAuth","gdConsoleLevel","defaultLevel","consoleLogLevel","getLogger","libs","customLogger","prepareConfig","registerLib","inner","initTime","initEndTime","initStartTime","setupMetrics","initTimer","metricsPublishingEnabledFunc","getMetricsPublishingEnabled","setupInterop","agmConfig","setupContexts","hasActivities","activities","setupBus","setupExternalLibs","externalLibs","createCallback","setupExternalLib","authPromise","authConfig","libsReadyPromises","coreVersion","feedback","feedbackInfo","timing","extOptions","enrichGlue","updatePerfData","deprecatedDecorator","wrong","proper","agmAny","method_added","method_removed","server_added","server_method_aded","server_method_removed","ActivityEntity","_update","other","_updateCore","_beforeDelete","isString","isUndefined","isUndefinedOrNull","ifNotUndefined","doWithIt","ActivityType","ownerWindow","helperWindows","_ownerWindow","_helperWindows","hw","covertToWindowDef","initiate","_manager","windowType","WindowType","appByWindowTypeGetter","_appByWindowTypeGetter","getWindows","activity","isIndependent","createWindow","EntityEvent","entitiy","entity","EntityEventContext","ActivityStatusChangeEventContext","newStatus","oldStatus","EntityEventType","StatusChange","ActivityContextChangedEventContext","ActivityContextChange","Added","Removed","Updated","Closed","ActivityWindowEvent","ActivityWindowJoinedActivity","ActivityWindowLeftActivity","ActivityState","Created","Started","Destroyed","ActivityAGM","_activity","_ensureHasAgm","AGM","methodNames","methodsForWindow","currentWindowMethod","activityServers","promisify$1","potentialTargets","firstElem","_isInstance","_isActivityWindow","parameters","AttachedActivityDescriptor","ownerActivityId","_ownerActivityId","ownerId","windowIds","frameColor","detachActivities","nodeify","resp","Activity","actType","_actType","_status","_context","_ownerId","_agm","getActivityType","addWindowToActivity","createStackedWindows","windowTypes","leaveWindowFromActivity","getWindowsByType","setActivityContext","updateContext","updateActivityContext","onStatusChange","subscribeActivityEvents","ns","os","subscribeWindowEvents","onContextChanged","subscribeActivityContextChanged","act","stopActivity","attach","attachActivities","onActivityAttached","subscribeActivitiesAttached","newActId","oldActId","onDetached","subscribeActivitiesDetached","newAct","originalActivity","_updateDescriptors","allStates","_attached","setFrameColor","callbacksToWait","underlyingWindow","getFrameColor","LogLevel","Trace","Debug","Info","Warn","Logger$1","GlueLogger","_glueLogger","GetNamed","Get","owner","GetTypeName","Level","_getMessage","ActivityWindow","windowGetter","hcWindowId","_type","_activityId","_instance","_isIndependent","_windowGetter","_hcWindowId","getBounds","getWindowBounds","getWindowType","getActivityById","setVisible","setWindowVisibility","activate","activateWindow","setBounds","setWindowBounds","closeWindow","onActivityJoined","_subscribeForActivityWindowEvent","onActivityRemoved","ActivityStatus","getMessage","gwMmessageError","gwMessageAddActivityTypes","gwMessageActivityCreated","gwMessageActivityDestroyed","gwMessageActivityInitiated","gwMessageJoinedActivity","gwMessageActivityJoined","gwMessageActivityLeft","gwMessageOwnerChanged","gwMessageAddPeerFactories","gwMessagePeerFactoriesAdded","gwMessagePeerFactoriesRemoved","gwMessagePeerCreated","GW3Bridge$1","_activityChangeCallbacks","_activityTypeStatusChangeCallbacks","_activityWindowChangeCallbacks","_windowTypeStatusChangeCallbacks","_peerIdAndFactoryIdToPeerType","_peerFactoriesRegisteredByUs","_contextSubscriptions","_activityTypesInitiatedFromMe","_windows","_sessionJoinedPromise","_sessionJoinedPromiseResolve","_activityJoinedPromise","_activityJoinedPromiseResolve","glue42gd_1","addRefreshHandler","setGWToken","activityTypeGwMessageEntityToActivityType","nameToWindowType","windowName","owner_type","helper_types","peerFactoryGwMessageEntityToWindowType","peer_type","activityGwMessageToActivity","owner_id","activity_type","activityToActivityStatusChangeEvent","forwardActivityTypeMessagesToStatusEventHandlers","handleActivityCreatedMessage","handleActivityDestroyedMessage","forwardActivityMessagesToStatusEventHandlers","forwardActivityCreatedAndJoinedActivityToActivityWindowEventHandlers","forwardPeerFactoryMessagesToStatusEventHandlers","forwardPeerFactoryMessagesToPeerFactoryRequests","handlePeerFactoriesAdded","handlePeerFactoriesRemoved","forwardActivityWindowMessagesToEventHandlers","disposeRequestHandling","exit","activity_types","typesToTrack","initReady","onActivityTypeStatusChange","registerActivityType","activityTypeName","toActivityPeerConfig","windowDefinition","activityType","invokeCallbacks","unregisterActivityType","onWindowTypeStatusChange","registerWindowFactory","factories","unregisterWindowFactory","factory_ids","onActivityStatusChange","initiateActivity","initiateMsg","initial_context","isOverrideTypeDefinition","types_override","helpers","wd","sendCreateAndMapResultingMessagesToPromise","initMsg","fullReplace","removedKeys","removedKeys_1","announceWindow","activityWindowId","registerWindow","independent","shouldSendReady","activityInfo","getAgmInstance","generateWindowGetter","onActivityWindowChange","cellSize","peer_name","created_id","joinActivity","destroy_peer_id","getAnnouncementInfo","announcementInfo","activityWindowType","activityWindowIndependent","activityWindowName","searchParams","maybeName","target_id","leaveActivity","getActivityTypes","getWindowTypes","getActivities","getActivityWindows","windowDefinitions","cloneActivity","cloneOptions","into","newActivityInfo","onActivitiesAttached","onActivitiesDetached","onActivityAttachedDescriptorsRefreshed","getAttachedDescriptors","getRandomRequestId","forwardAddedAndRemovedMessagesToEventHandler","addedMessageType","removedMessageType","mapper","getGetEntityEvent","isAdded","forwardMessageToEventHandler","messageType","getEntityEvent","ent","initiatedMessageType","initiatedMessageFilter","createdMessageFilter","cancelledMessageType","cancelledMessageFilter","createdMessageToPromiseResolution","resolveCreatedPromise","rejectCreatedPromise","initiatedSubscription","createdSubscription","cancelledSubscription","errorSubscription","reqId","createdPromise","initiatedMessageAck","dropSubscriptions","dropSubscription","msg4","msg1","msg2","msg3","toReturn","peerFactoryIdAndOwnerIdToWindowType","factoryId","peerType","subscribeToContext","unsubscribeContext","activityCreatedMessage","participants","createdMessage","peer_factory","gateway_token","joinedMessage","joinedId","joined_id","joinedType","joined_type","joinedName","joined_name","left_id","ActivityMy","_myAttached","_myDetached","_myAttachedTo","_myDetachedFrom","_myActivityFrameColorChanged","_myActivityJoinedCallbacks","_myActivityRemovedCallbacks","_myContextUpdateCallbacks","_m","am","_subscribeMyContextChanged","_subscribeMyWindowEvent","_subscribeActivitiesAttached","_subscribeActivitiesDetached","onWindowFrameColorChanged","_subscribeWindowFrameColorChanged","_w","announcedWindows","myWin","onActivityLeft","onActivityDetached","onAttachedToActivity","onDetachedFromActivity","attached","onFrameColorChanged","myActivity","_notifyMyContextChanged","_notifyMyWindowEvent","callbackStore","_notifyAttached","_notifyDetached","_notifyAttachedTo","_notifyDetachedFrom","detached","oldAct","ReadyMarker","signalsToWait","_signals","_callbacks","setCallback","isSet","isError","_error","getError","EntityObservableCollection","processNew","_items","_listeners","_processNew","addOne","internalEntity","_updateInternalCollections","_notifyListeners","getByName","getOrWait","entityAddedHandler","entityAsAny","isActivityDestroy","isWindowClose","oldEntity","ActivityManager","autoAnnounce","_announcedWindows","_attachedCallbacks","_detachedCallbacks","_frameColorChangesCallbacks","_windowHandlers","_activityTypes","_grabEntity","_windowTypes","_activities","_dataReadyMarker","_descriptorsMarker","_readyMarker","dataErr","errCatch","refreshDescriptors","_handleActivitiesAttached","_handleActivitiesDetached","_handleActivityDescriptorsRefreshed","_handleWindowFrameColorChanged","_subscribeForData","aw","_getInitialData","bridgeType","ownerWindowType","helperWindowTypes","ownerDefinition","helperDefinitions","relativeTo","relativeDirection","windowStyleAttributes","actId","subscribeActivityTypeEvents","factoryMethod","getName","currentWindow","windowEventHandler_1","unsubscribeWindowEvents","subscribeWindowTypeEvents","window_1","wrappingHandler","windowTypeOrConfiguration","relativeToWindow","invalidKeys_1","filteredWindowTypeOrConfiguration_1","wid","relativeWindowTypes","stackedWindow","tasks","removedKey","descriptors","stateWrapped","subscribeActivityFrameColorChanged","ac","descriptorAsObjectFromAPI","oldActivityId","newActivityId","ActivityManagementAPI","_my","activityTypes","_getActivityTypesWrapper","_getWindowTypesWrapper","registerFactory","unregisterFactory","announce","onAttached","onActivityFrameColorChanged","ActivityAPI","_mgr","aware","inActivity","getAvailableFrameColors","ActivityModule","logLevel","_isUsingHCImplementation","gdMajorVersion","_isUsingGW3Implementation","checkIsUsingGW3Implementation","activityManager","disableAutoAnnounce","_api","_readyPromise","GetFunctionalEntitlementMethodName","CanIMethodName","OnEventMethodName","createRegistry$1","lib$2","objectValues","objectClone","ApplicationImpl","_appManager","onInstanceStarted","onInstanceStopped","onAppRemoved","onAppChanged","onAppAvailable","onAppUnavailable","_props","Title","Version","AutoStart","IsShell","Caption","IsHidden","ApplicationName","ActivityWindowType","Arguments","AllowMultiple","IsReady","Icon","IconUrl","SortOrder","UserProperties","autoStart","allowMultiple","Type","Mode","styleAttributes","WindowStyleAttributes","searchFor","modeIndex","startModeIndex","stopModeIndex","updateFromProps","Name","Context","Options","acsResult","Instance_0","Id","handleInstanceStarted","unsub","check","filtered","isActivityInstance","onInstanceAgmServerReady","waitForApplicationInstance","onAvailable","onUnavailable","InstanceImpl","_appName","startFailed","onAgmReady","_addToRegistry","onStopped","_unsubscribeInstanceStopped","_unsubscribeInstanceAgmServerReady","activityInstance","_isActivityOwner","activityInstances","inst","isActivityOwner","activityOwnerInstance","_startUpContext","_title","_isActivityInstance","_inActivity","_agmInstance","ActivityId","IsActivityOwner","updateAgmInstanceFromProps","AgmServers","GD3","agmInstances","gdAgmServers","propsAgmServer","propsAgm","machineName","userName","handleInstanceStopped","AppManagerImpl","_gdMajorVersion","_apps","_instances","getMyInstance","instanceId_1","handleAppAdded","_getAppId","_updateAppFromProps","handleAppUpdated","handleAppRemoved","handleAppReady","_getAppOrThrow","available","_getInstanceId","_getInstanceAppName","_updateInstanceFromProps","_getInstanceOrThrow","_matchInstance","handleInstanceAgmServerReady","handleInstanceStartFailed","handleInstanceUpdated","onInstanceStartFailed","onInstanceUpdated","onAppAdded","_getInstanceByIdAndName","promisify$2","EntitlementsImpl","handleBranchModified","handleBranchesModified","getRegion","_agmInvoke","Region","getBranches","Branches","getCurrentBranch","Branch","setRegion","ResultMessage","setCurrentBranch","currentUser","getFunctionalEntitlement","funct","Entitlement","getFunctionalEntitlementBranch","canI","func","Result","canIBranch","onBranchesChanged","onBranchChanged","restart","transformFunction","AppManagerFactory","START_ONLY","SKIP_ICONS","entitlements","skipIcon","skipIcons","resolveFunc","rejectFunc","resultPromise","streamData","createDataSubscription","windowStore","WindowStore","waitForTimeoutInMilliseconds","_pendingWindows","_pendingWindowsStates","getIfReady","remote","urlChanged","setReadyState","targetWindowState","markReadyToShow","setUrlChangedState","waitFor","onReadyWindow","Utils$1","callbackifyPromise","getMonitor","displays","workingAreaWidth","workingAreaHeight","monitor","totalOverlap","calculateTotalOverlap","getDisplayCenterOfScreen","r1","r2","r1x","r1y","r1xMax","r1yMax","r2x","r2y","r2xMax","r2yMax","windowFactory","executor","appManagerGetter","_group","_mode","_url","_bounds","_frameColor","_focus","_neighbours","neighbours","_groupId","groupId","_isGroupHeaderVisible","isGroupHeaderVisible","_isTabHeaderVisible","isTabHeaderVisible","_isTabSelected","isTabSelected","_settings","_isVisible","_isSticky","isSticky","isCollapsed","_windowState","_tabGroupId","tabGroupId","_isLocked","isLocked","_frameButtons","_zoomFactor","zoomFactor","moveResize","resolveTimeout","unsubscribeBoundsChanged","resolveImmediately","areBoundsEqual","onBoundsChanged","toBeVisible","isVisibilityCorrect","onVisibilityChanged","waitForLockingChanged","onLockingChanged","onUrlChanged","onCollapsed","onExpanded","onMaximized","onMinimized","onNormal","onTabHeaderVisibilityChanged","getNeighboursByDirection","direction","winId","getApplicationName","_APPLICATION_NAME","_t42","getWindowInfo","requested","maxHeight","areHeightsEqual","areWidthsEqual","areLeftsEqual","areTopsEqual","handleWindowClose","handleWindowChangeState","handleTitleChanged","newTitle","handleVisibilityChanged","handleUrlChanged","newUrl","handleWindowSettingsChanged","handleContextUpdated","handleFrameIsLockedChanged","handleBoundsChanged","handleFocusChanged","handleFrameButtonAdded","frameButton","buttonObj","btn","buttonId","handleFrameButtonRemoved","frameButtonId","handleFrameButtonClicked","handleFrameColorChanged","handleFrameAttached","handleFrameSelectionChanged","newWindow","prevWindow","selectedWindow","previousWindow","un_1","onTabSelectionChanged","newWin","prevWin","handleCompositionChanged","handleGroupHeaderVisibilityChanged","handleTabHeaderVisibilityChanged","handleGroupChanged","newGroup","oldGroup","handleGroupAssociation","group","handleAttached","newTabGroupId","tabHeaderVisible","handleDetached","handleWindowAttached","handleWindowDetached","handleZoomFactorChanged","handleIsStickyChanged","hostInstance","monitors","maximizeRestore","currEvent","collapse","toggleCollapse","setStyle","setOnTop","onTop","resetButtons","setSizeConstraints","constraints","navigate","addFrameButton","buttonInfo","imageBase64","removeFrameButton","center","screen","snap","targetWindowGroup","targetGroup","targetWindow","showLoader","loader","hideLoader","unlock","getIcon","icon","setIcon","base64Image","setTabTooltip","attachTab","sourceWindowId","targetWindowId","argsForSend","sourceWin","detachTab","opt","hideTabHeader","visibilityChangeHeard","detachedHeard","unVisibility","unDetached","setTabHeaderVisible","toBeTabHeaderVisible","showPopup","createFlydown","setModalState","setZoomFactor","zoomIn","zoomOut","showDevTools","capture","captureOptions","flash","suppliedOptions","flashOptions","shouldFlash","setSticky","print","printOptions","printToPDF","printToPDFOptions","onTitleChanged","onFrameButtonAdded","onFrameButtonRemoved","onFrameButtonClicked","onContextUpdated","onFocusChanged","onStickyChanged","onGroupChanged","onWindowAttached","onWindowDetached","onClosing","onRefreshing","prevent","onZoomFactorChanged","getAllTabs","resizeTo","getParentWindow","myParentId","parentInstanceId","getChildWindows","Events","Registry","GDExecutor","agmTarget","stylePromises","wait","toolTip","allowClose","allowCollapse","allowLockUnlock","allowMaximize","allowMinimize","tabTooltip","tabToolTip","buttonsConfig","snappingEdge","dataURL","toShow","optionsCopy","reformatedOptions","targetLocation","popupBounds","targetId","fullOptions","horizontalOffset","verticalOffset","reformatFlydownOptions","zoneIds","zones","flydownSize","cancel","clearFlydownArea","handleFlydownBoundsRequested","cancelCallback","responses","defaultResponse","zoneId","flydownId","flydownWindowBounds","flydownWindowId","captureGroup","groupWindowIds","configure","filePath","setGroupHeaderVisible","getGroupTitle","setGroupTitle","addCloseHandler","assignGeneralIfUnassigned","zone","valueFromOptions","flydownBounds","flydownActiveArea","activeArea","areaIds","getWindowsByTabGroupId","alphabet$1","previousSeed$1","shuffled$1","GDEnvironment","wndId","_waitTimeout","normalizeInstance","_windowId","_appManagerGetter","caller","respondToEvent","streamResolve","streamReject","updateWindow","copyOptions","windowState","tabAttached","tabDetached","onEvent","onCompositionChanged","onGroupHeaderVisibilityChanged","onWindowGotFocus","onWindowLostFocus","windowInfo","readyResolve","extendedStreamEvent","getExtendedStreamEvent","windowInfoCreatedEvent","windowObjectAndEvents","theWindow","theWindowEvents","windowInfoBoundsChangedEvent","windowInfoUrlChangedEvent","windowInfoTitleChanged","windowInfoIsStickyChangedChanged","windowInfoCompositionChanged","neighbors","groupHeaderVisible","windowInfoFocusChanged","focusChanged","winsToBeNotified_1","oldTabGroupId","winsToBeNotified_2","prevWindowId","windowObjAndEvents","mapToWindowConstructorOptions","isActiveTab","streamEvent","charAt","groupFactory","_windowsId","waitForHeaderVisibilityChanged","onHeaderVisibilityChanged","groupObject","_mapToWindowObjects","winObjects","windowObject","_mapToWindowObject","mappedWindows","mappedWindow","showHeader","hideHeader","groupAPI","groupInternal","removeWindow","window_2","groupsFactory","_groups","heardForWindowsCounter","findGroupByWindow","groupFound","addNewWindow","windowGroupId","createdGroup","createOrGetGroup","deleteGroup","newGroupId","oldGroupId","groupEvents","groupsAPI","groupsEvents","onWindowMoved","WindowsFactory","groups","gdPromise","rej","envDetector","myWindow","windowAdded","windowRemoved","errorHandler","windowsForListing","onTabAttached","onTabDetached","unsubFunc","unsubscribed","store","LayoutStore","removeWhere","condition","seed$1","randomFromSeed$1","ORIGINAL$1","reset$1","setCharacters$1","getShuffled$1","shuffle$1","alphabet_1$1","crypto$1","randomByteBrowser$1","encode_1$1","decode_1$1","build_1","isValid$1","lib$3","createCommonjsModule$1","shortid$1","ContextProvider","activitiesGetter","registerRequestMethods","onSaveRequested","context_1","activityIsOwner","usersCbs","requestResult","autoSaveWindowContext","windowContext","activityContext","transformACSLayout","something","accumulator","convertedValue","LayoutImpl","LayoutsAPIImpl","activityGetter","setDefaultGlobal","clearDefaultGlobal","getDefaultGlobal","isSlimMode","gotSnapshot","verifyNotSlimMode","ignoreHidden","layoutObject","actIds","appIds","ignoreLayoutRestrictions","myInstance","isVisibleWindow","ignoreMyInstance","autoCollectApps","invokeMethodAndTrack","activityIdToJoin","restoreActivityOwner","ignoreActivityWindowTypes","closeRunningInstance","reuseWindows","t42","activityToJoin","closeOldWindows","reuseExistingWindows","toClose","splash","getInstancesToClose","getObjectValues","Layouts","rename","newName","oldName","updateMetadata","hibernate","resume","getCurrentLayout","onRestored","onRenamed","updateAppContextInCurrent","updateDefaultContext","skipStreamEvent","agmResult","streamEventReceived","handleResult","shellApp","shellApplicationName","ACSStream","resolveReady","rejectReady","resolveGotSnapshot","rejectGotSnapshot","noRetry","checkForLayoutEventMethod","IsSnapshot","addLayouts","OnLayoutAdded","removeLayouts","OnLayoutRemoved","changeLayouts","OnLayoutChanged","renameLayouts","OnLayoutRenamed","restoredLayout","OnLayoutRestored","Token","layoutsData","removedLayouts","removedLayout","existingLayout","compareLayouts","changedLayouts","changedLayout","renamedLayouts","renamedLayout","layout1","layout2","restoredLayouts","LayoutsFactory","acsStream","DisplayCommand","DisplayManager","callGD","GetAll","decorateDisplay","getPrimary","isPrimary","Capture","captureAll","CaptureAll","getMousePosition","GetMousePosition","original","switchChannel","channel","swId","newChannel","CONTEXT_PREFIX","SharedContextSubscriber","subscribeFor","isChannel","createContextName","___","startsWith","channelContextName","getContextData","updateChannel","updateData","channelName","ChannelsImpl","shared","subsKey","changedKey","channelNames","joinCore","joinNoSelectorSwitch","leaveCore","leaveNoSelectorSwitch","changed","changeSelector","doesChannelExist","intervalId","sharedContexts","channels","interopLib","setupAGM","CommandMethod","HotkeysImpl","firstHotkey","hotkeys","hkToLower","hotkey","formatHotkey","registerInvokeAGMMethod","unregisterAll","isRegistered","version$2","prepareConfig$1","getLibConfig","defaultMode","trueMode","getModeAsString","Glue42Notification","actions","badge","renotify","requireInteraction","silent","Notifications","methodsRegistered","methodNameRoot","notifications","raise","bunchOfPromises","notification","validActions","validActions_1","g42notification","maxActions","handleNotificationAction","severity","glueRoutingDetailMethodName","g42notificationId","g42action","g42interopMethod","g42interopTarget","stringValue","glueAction","payload_1","event_1","onaction","actionInterop","event_2","clickInterop","ThemesImpl","core","isSubscribed","getConfiguration","getMethodName","getCurrent","theme","setMethodName","sharedContextName","getThemesMethodName","setThemesMethodName","GLUE42_FDC3_INTENTS_METHOD_PREFIX","Intents","intentFilter","intents","ctToLower_1","intent","contextType","contextTypes","intentName","intentDef","isDynamicIntent","anAppHandler","anInstanceHandler","intentDefHandler","intentHandler","startApp","raiseIntentToInstance","apps_1","intents_1","appsWithIntents","appsWithIntents_1","withIntentsInfo","applicationTitle","applicationDescription","applicationIcon","appIntent","_h","_j","_k","_l","appWithIntents","appDefIntent","instanceTitle","addIntentListener","methodDescription","registeredIntent","interopServer","registeredMethod","addedMethod","factory$3","createWindows","glueConfig","windowsLogger","getLibLogger","debugLog","createActivities","activityLogger","createAppManager","createLayouts","layoutsConfig","lay","createChannels","channelsAPI","createHotkeys","hotkeysAPI","factory$1","createIntents","intentsAPI","createNotifications","notificationsAPI","createDisplaysApi","displaysLogger","_displays","createThemes","themesAPI","themes","factory$2","newLogger","loggerConfig","currentLog","glueApi","glueFactoryLog","libraries","whatToExpose","shouldSetToWindow","autoInjected","webPlatform","parseConfig","libDomainDecoder","windowOperationTypesDecoder","appManagerOperationTypesDecoder","layoutsOperationTypesDecoder","windowRelativeDirectionDecoder","windowOpenSettingsDecoder","openWindowConfigDecoder","windowHelloDecoder","coreWindowDataDecoder","simpleWindowDecoder","helloSuccessDecoder","isWorkspaceFrame","windowTitleConfigDecoder","windowMoveResizeConfigDecoder","windowBoundsResultDecoder","windowUrlResultDecoder","anyDecoder","boundsDecoder","instanceDataDecoder","applicationDataDecoder","baseApplicationDataDecoder","appHelloSuccessDecoder","apps","basicInstanceDataDecoder","applicationStartConfigDecoder","waitForAGMReady","layoutTypeDecoder","componentTypeDecoder","windowLayoutComponentDecoder","componentType","main","windowLayoutItemDecoder","groupLayoutItemDecoder","columnLayoutItemDecoder","rowLayoutItemDecoder","workspaceLayoutComponentDecoder","glueLayoutDecoder","newLayoutOptionsDecoder","restoreOptionsDecoder","layoutSummaryDecoder","simpleLayoutConfigDecoder","getAllLayoutsConfigDecoder","allLayoutsFullConfigDecoder","allLayoutsSummariesResultDecoder","optionalSimpleLayoutResult","operations","openWindow","dataDecoder","resultDecoder","windowHello","getUrl","WebWindowModel","CallbackRegistryFactory","myCtxKey","ctxUnsubscribe","contextLib","dimension","targetBounds","commandArgs","ttl","WindowsController","allWindowProjections","coreGlue","publicWindowId","actualWindowId","addWindowOperationExecutors","platformRegistration","registerWithPlatform","toApi","operationData","windowSuccess","buildWebWindow","projection","handleWindowAdded","handleWindowRemoved","handleGetBounds","handleGetTitle","handleGetUrl","handleMoveResize","handleSetTitle","helloSuccess","sayHello","currentWindows","webWindowProjection","clean","targetTop","targetLeft","targetHeight","targetWidth","moveMethod","moveBy","resizeMethod","resizeBy","PromiseWrap","GlueWebPlatformControlName","GlueWebPlatformStreamName","GlueBridge","platformMethodTimeoutMs","controllers","checkWaitMethod","passMessageController","pkg","transmitMessage","unSub","decodeResult","handleBridgeMessage","resolutionData","messageData","appHello","applicationAdded","applicationRemoved","applicationChanged","instanceStarted","instanceStopped","applicationStart","instanceStop","AppManagerController","addOperationsExecutors","startOptions","openResult","buildInstance","getApplications","getInstances","handleApplicationAddedMessage","handleApplicationRemovedMessage","handleApplicationChangedMessage","handleInstanceStartedMessage","handleInstanceStoppedMessage","appData","buildApplication","appIndex","instanceData","instIdx","instIdxApps","verifiedName","instancesSoFar","findMyInstance","foundInstance","InstanceModel","ApplicationModel","startApplication","layoutAdded","layoutChanged","layoutRemoved","LayoutsController","handleOnAdded","handleOnChanged","IoC","windowsController","appManagerController","layoutsController","_windowsControllerInstance","_appManagerControllerInstance","_layoutsControllerInstance","_bridgeInstance","PromisePlus","WebPlatformTransport","coreFactoryFunction","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","ReactCurrentOwner","__self","__source","defaultProps","$$typeof","_owner","jsx","jsxs","StrictMode","Profiler","Suspense","isMounted","enqueueForceUpdate","enqueueReplaceState","enqueueSetState","updater","isReactComponent","forceUpdate","isPureReactComponent","_result","ReactCurrentDispatcher","ReactCurrentBatchConfig","transition","IsSomeRendererActing","Children","count","only","PureComponent","_calculateChangedBits","_currentValue","_currentValue2","_threadCount","Consumer","createFactory","isValidElement","_payload","_init","useCallback","useDebugValue","useMemo","useReducer","aa","ba","ca","da","ea","fa","ha","ia","ja","ka","acceptsBooleans","attributeNamespace","mustUseProperty","sanitizeURL","removeEmptyString","oa","pa","qa","ma","na","la","setAttributeNS","xlinkHref","ra","sa","ta","ua","wa","xa","ya","za","Aa","Ba","Ca","Da","Ea","Fa","Ga","Ha","Ia","Ja","Ma","Ka","La","Na","Oa","Pa","prepareStackTrace","Reflect","construct","Qa","Ra","Sa","Ta","Va","_valueTracker","getOwnPropertyDescriptor","getValue","setValue","stopTracking","Ua","Wa","Xa","Ya","defaultChecked","_wrapperState","initialChecked","Za","initialValue","controlled","$a","ab","bb","eb","db","fb","defaultSelected","gb","dangerouslySetInnerHTML","hb","ib","jb","kb","lb","mb","nb","ob","valueOf","MSApp","execUnsafeLocalFunction","pb","qb","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columns","flex","flexPositive","flexNegative","flexOrder","gridRowSpan","gridColumnSpan","lineClamp","tabSize","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","rb","sb","tb","ub","menuitem","area","embed","hr","img","keygen","link","track","wbr","vb","wb","xb","srcElement","correspondingUseElement","yb","zb","Ab","Bb","Cb","stateNode","Db","Eb","Fb","Gb","Hb","Ib","Jb","Kb","Lb","Mb","Ob","Pb","Qb","Rb","onError","Sb","Tb","Ub","Vb","Wb","Xb","Zb","alternate","$b","memoizedState","dehydrated","cc","sibling","bc","dc","ec","fc","gc","hc","ic","jc","kc","lc","mc","nc","oc","pc","qc","blockedOn","domEventName","eventSystemFlags","nativeEvent","targetContainers","sc","tc","vc","lanePriority","unstable_runWithPriority","priority","hydrate","containerInfo","xc","yc","zc","Ac","Bc","unstable_scheduleCallback","unstable_NormalPriority","Cc","Dc","Ec","animationend","animationiteration","animationstart","transitionend","Fc","Gc","Hc","animation","Ic","Jc","Kc","Lc","Mc","Nc","Oc","Pc","Qc","unstable_now","Rc","Uc","pendingLanes","expiredLanes","suspendedLanes","pingedLanes","Vc","entangledLanes","entanglements","Wc","Xc","Yc","Zc","$c","eventTimes","clz32","cd","dd","unstable_UserBlockingPriority","ed","fd","gd","hd","uc","jd","kd","ld","md","nd","od","pd","qd","rd","_reactName","_targetInst","cancelBubble","persist","isPersistent","xd","yd","sd","isTrusted","ud","vd","Ad","getModifierState","zd","fromElement","movementX","movementY","Bd","Dd","dataTransfer","Fd","Hd","animationName","elapsedTime","pseudoElement","Jd","clipboardData","Ld","Md","Esc","Spacebar","Left","Up","Right","Down","Del","Win","Menu","Apps","Scroll","MozPrintableKey","Nd","8","9","12","13","16","17","18","19","20","27","32","33","34","35","36","37","38","39","40","45","46","112","113","114","115","116","117","118","119","120","121","122","123","144","145","224","Od","Alt","Control","Meta","Shift","Pd","Rd","repeat","locale","Td","pressure","tangentialPressure","tiltX","tiltY","twist","Vd","Xd","Zd","deltaX","wheelDeltaX","deltaY","wheelDeltaY","wheelDelta","deltaZ","deltaMode","$d","documentMode","datetime","email","month","range","tel","week","oninput","detachEvent","Ke","HTMLIFrameElement","contentEditable","Qe","selectionStart","selectionEnd","anchorNode","getSelection","anchorOffset","focusNode","focusOffset","Ze","Yb","af","bf","cf","df","passive","Nb","ef","ff","gf","hf","jf","kf","lf","mf","autoFocus","nf","__html","of","pf","qf","rf","sf","previousSibling","tf","vf","wf","xf","yf","zf","Af","Bf","Cf","Df","Ef","__reactInternalMemoizedUnmaskedChildContext","__reactInternalMemoizedMaskedChildContext","Ff","childContextTypes","Gf","Hf","If","getChildContext","Jf","__reactInternalMemoizedMergedChildContext","Kf","Lf","Mf","Nf","Of","Pf","unstable_cancelCallback","Qf","unstable_shouldYield","Rf","unstable_requestPaint","Sf","Tf","unstable_getCurrentPriorityLevel","Uf","unstable_ImmediatePriority","Vf","Wf","Xf","unstable_LowPriority","Yf","unstable_IdlePriority","Zf","$f","ag","bg","cg","dg","eg","fg","gg","hg","ig","jg","kg","lg","mg","ng","og","pg","qg","rg","sg","childLanes","tg","dependencies","firstContext","lanes","ug","vg","observedBits","responders","wg","xg","updateQueue","baseState","firstBaseUpdate","lastBaseUpdate","pending","effects","yg","zg","eventTime","lane","Ag","Bg","Cg","Dg","Eg","Fg","Gg","Kg","_reactInternals","Hg","Ig","Jg","Lg","shouldComponentUpdate","Mg","Ng","componentWillReceiveProps","UNSAFE_componentWillReceiveProps","Og","getDerivedStateFromProps","getSnapshotBeforeUpdate","UNSAFE_componentWillMount","componentWillMount","componentDidMount","Pg","Qg","_stringRef","Rg","Sg","lastEffect","nextEffect","firstEffect","Tg","Ug","elementType","Vg","Wg","Xg","Yg","Zg","$g","ah","bh","ch","dh","eh","fh","gh","hh","ih","memoizedProps","revealOrder","jh","kh","lh","mh","nh","oh","pendingProps","ph","qh","rh","sh","uh","_workInProgressVersionPrimary","vh","wh","xh","yh","zh","Ah","Bh","Ch","Dh","Eh","Fh","Gh","Hh","baseQueue","Ih","Jh","Kh","lastRenderedReducer","eagerReducer","eagerState","lastRenderedState","Lh","Mh","_getVersion","_source","mutableReadLanes","Nh","setSnapshot","Oh","Ph","Qh","Rh","deps","Sh","Th","Uh","Vh","Wh","Xh","Yh","Zh","$h","ai","bi","ci","di","readContext","useDeferredValue","useTransition","useMutableSource","useOpaqueIdentifier","unstable_isNewReconciler","uf","ei","fi","gi","ii","ji","ki","li","mi","baseLanes","ni","oi","pi","UNSAFE_componentWillUpdate","componentDidUpdate","qi","getDerivedStateFromError","ri","pendingContext","Bi","Di","Ei","si","retryLane","ti","unstable_avoidThisFallback","ui","unstable_expectedLoadTime","vi","wi","xi","yi","zi","isBackwards","rendering","renderingStartTime","tail","tailMode","Ai","Fi","Gi","wasMultiple","multiple","createElementNS","Hi","Ii","Ji","Ki","Li","Mi","Ni","Oi","Pi","Qi","Ri","Si","componentDidCatch","Ti","componentStack","Ui","Vi","Wi","Xi","__reactInternalSnapshotBeforeUpdate","Yi","Zi","$i","aj","bj","onCommitFiberUnmount","componentWillUnmount","cj","dj","ej","fj","gj","hj","_reactRootContainer","ij","jj","kj","lj","mj","nj","oj","pj","qj","rj","sj","tj","uj","vj","wj","ck","xj","yj","zj","Aj","Bj","Cj","Dj","Ej","Fj","Gj","Hj","Ij","Jj","Sc","Kj","Lj","Mj","callbackNode","expirationTimes","callbackPriority","Tc","Nj","Oj","Pj","Qj","Rj","Sj","Tj","finishedWork","finishedLanes","Uj","timeoutHandle","Wj","Xj","pingCache","Yj","Zj","va","ak","bk","dk","rangeCount","focusedElem","selectionRange","ek","createRange","setStart","removeAllRanges","addRange","setEnd","onCommitFiberRoot","fk","gk","ik","pendingChildren","jk","mutableSourceEagerHydrationData","kk","lk","mk","nk","qk","hydrationOptions","mutableSources","_internalRoot","rk","tk","hasAttribute","sk","uk","hk","unstable_observedBits","form","Vj","vk","wk","findFiberByHostInstance","bundleType","rendererPackageName","xk","rendererConfig","overrideHookState","overrideHookStateDeletePath","overrideHookStateRenamePath","overrideProps","overridePropsDeletePath","overridePropsRenamePath","setSuspenseHandler","scheduleUpdate","currentDispatcherRef","findHostInstanceByFiber","findHostInstancesForRefresh","scheduleRefresh","scheduleRoot","setRefreshHandler","getCurrentFiber","yk","supportsFiber","inject","findDOMNode","flushSync","unstable_batchedUpdates","unstable_createPortal","unstable_renderSubtreeIntoContainer","MessageChannel","unstable_forceFrameRate","cancelAnimationFrame","port2","port1","sortIndex","expirationTime","priorityLevel","unstable_Profiling","unstable_continueExecution","unstable_getFirstCallbackNode","unstable_next","unstable_pauseExecution","unstable_wrapCallback","runtime","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","innerFn","outerFn","tryLocsList","protoGenerator","Generator","_invoke","GenStateSuspendedStart","GenStateExecuting","GenStateCompleted","doneResult","delegateResult","maybeInvokeDelegate","ContinueSentinel","_sent","dispatchException","abrupt","record","tryCatch","GenStateSuspendedYield","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","resultName","nextLoc","pushTryEntry","locs","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iterable","iteratorMethod","isGeneratorFunction","genFun","ctor","awrap","skipTempReset","rootRecord","rval","exception","loc","caught","hasCatch","hasFinally","finallyEntry","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","propName","propFullName","getShim","isRequired","ReactPropTypes","symbol","any","arrayOf","instanceOf","objectOf","oneOfType","shape","exact","checkPropTypes","PropTypes","b64","lens","getLens","validLen","placeHoldersLen","tmp","Arr","_byteLength","curByte","revLookup","uint8","extraBytes","parts","maxChunkLength","len2","encodeChunk","output","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN"],"mappings":"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","file":"static/js/2.36d1a7ea.chunk.js","sourcesContent":["module.exports = require(\"regenerator-runtime\");\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.min.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom.production.min.js');\n} else {\n  module.exports = require('./cjs/react-dom.development.js');\n}\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","import React, { createContext, memo } from \"react\";\r\nimport { node, object, func } from \"prop-types\";\r\nimport { Glue42Web } from \"@glue42/web\";\r\nimport { Glue42 } from \"@glue42/desktop\";\r\nimport { useGlueInit } from \"./useGlueInit\";\r\nimport { GlueProviderProps, Glue42ReactFactory } from \"../react-hooks\";\r\n\r\nexport const GlueContext = createContext<Glue42Web.API | Glue42.Glue>(null);\r\n\r\nconst getGlueFactory = (): Glue42ReactFactory => {\r\n    return (window as any).GlueWeb || (window as any).Glue;\r\n};\r\n\r\nexport const GlueProvider: React.FC<GlueProviderProps> = memo(\r\n    ({ children, fallback = null, config = {}, glueFactory }) => {\r\n        const factory = glueFactory || getGlueFactory();\r\n        const glue = useGlueInit(config, factory);\r\n        return glue ? (\r\n            <GlueContext.Provider value={glue}>{children}</GlueContext.Provider>\r\n        ) : (\r\n            <>{fallback}</>\r\n        );\r\n    }\r\n);\r\n\r\nGlueProvider.propTypes = {\r\n    children: node,\r\n    config: object,\r\n    glueFactory: func,\r\n    fallback: node,\r\n};\r\n\r\nGlueProvider.displayName = \"GlueProvider\";\r\n","import { useEffect, useState } from \"react\";\r\nimport { useGlueInitProps } from \"../react-hooks\";\r\n\r\nexport const useGlueInit: useGlueInitProps = (config, glueFactory) => {\r\n    const [glue, setGlue] = useState(null);\r\n    useEffect(() => {\r\n        const initialize = async () => {\r\n            try {\r\n                const glue = await glueFactory(config);\r\n                setGlue(glue);\r\n            } catch (e) {\r\n                console.error(e);\r\n            }\r\n        };\r\n        initialize();\r\n    }, []);\r\n    return glue;\r\n};\r\n","import unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","\"use strict\";\r\nfunction createRegistry(options) {\r\n    if (options && options.errorHandling\r\n        && typeof options.errorHandling !== \"function\"\r\n        && options.errorHandling !== \"log\"\r\n        && options.errorHandling !== \"silent\"\r\n        && options.errorHandling !== \"throw\") {\r\n        throw new Error(\"Invalid options passed to createRegistry. Prop errorHandling should be [\\\"log\\\" | \\\"silent\\\" | \\\"throw\\\" | (err) => void], but \" + typeof options.errorHandling + \" was passed\");\r\n    }\r\n    var _userErrorHandler = options && typeof options.errorHandling === \"function\" && options.errorHandling;\r\n    var callbacks = {};\r\n    function add(key, callback, replayArgumentsArr) {\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey) {\r\n            callbacksForKey = [];\r\n            callbacks[key] = callbacksForKey;\r\n        }\r\n        callbacksForKey.push(callback);\r\n        if (replayArgumentsArr) {\r\n            setTimeout(function () {\r\n                replayArgumentsArr.forEach(function (replayArgument) {\r\n                    var _a;\r\n                    if ((_a = callbacks[key]) === null || _a === void 0 ? void 0 : _a.includes(callback)) {\r\n                        try {\r\n                            if (Array.isArray(replayArgument)) {\r\n                                callback.apply(undefined, replayArgument);\r\n                            }\r\n                            else {\r\n                                callback.apply(undefined, [replayArgument]);\r\n                            }\r\n                        }\r\n                        catch (err) {\r\n                            _handleError(err, key);\r\n                        }\r\n                    }\r\n                });\r\n            }, 0);\r\n        }\r\n        return function () {\r\n            var allForKey = callbacks[key];\r\n            if (!allForKey) {\r\n                return;\r\n            }\r\n            allForKey = allForKey.reduce(function (acc, element, index) {\r\n                if (!(element === callback && acc.length === index)) {\r\n                    acc.push(element);\r\n                }\r\n                return acc;\r\n            }, []);\r\n            callbacks[key] = allForKey;\r\n        };\r\n    }\r\n    function execute(key) {\r\n        var argumentsArr = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            argumentsArr[_i - 1] = arguments[_i];\r\n        }\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey || callbacksForKey.length === 0) {\r\n            return [];\r\n        }\r\n        var results = [];\r\n        callbacksForKey.forEach(function (callback) {\r\n            try {\r\n                var result = callback.apply(undefined, argumentsArr);\r\n                results.push(result);\r\n            }\r\n            catch (err) {\r\n                results.push(undefined);\r\n                _handleError(err, key);\r\n            }\r\n        });\r\n        return results;\r\n    }\r\n    function _handleError(exceptionArtifact, key) {\r\n        var errParam = exceptionArtifact instanceof Error ? exceptionArtifact : new Error(exceptionArtifact);\r\n        if (_userErrorHandler) {\r\n            _userErrorHandler(errParam);\r\n            return;\r\n        }\r\n        var msg = \"[ERROR] callback-registry: User callback for key \\\"\" + key + \"\\\" failed: \" + errParam.stack;\r\n        if (options) {\r\n            switch (options.errorHandling) {\r\n                case \"log\":\r\n                    return console.error(msg);\r\n                case \"silent\":\r\n                    return;\r\n                case \"throw\":\r\n                    throw new Error(msg);\r\n            }\r\n        }\r\n        console.error(msg);\r\n    }\r\n    function clear() {\r\n        callbacks = {};\r\n    }\r\n    function clearKey(key) {\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey) {\r\n            return;\r\n        }\r\n        delete callbacks[key];\r\n    }\r\n    return {\r\n        add: add,\r\n        execute: execute,\r\n        clear: clear,\r\n        clearKey: clearKey\r\n    };\r\n}\r\n;\r\ncreateRegistry.default = createRegistry;\r\nmodule.exports = createRegistry;\r\n//# sourceMappingURL=index.js.map","/**\r\n * Wraps values in an `Ok` type.\r\n *\r\n * Example: `ok(5) // => {ok: true, result: 5}`\r\n */\r\nvar ok = function (result) { return ({ ok: true, result: result }); };\r\n/**\r\n * Typeguard for `Ok`.\r\n */\r\nvar isOk = function (r) { return r.ok === true; };\r\n/**\r\n * Wraps errors in an `Err` type.\r\n *\r\n * Example: `err('on fire') // => {ok: false, error: 'on fire'}`\r\n */\r\nvar err = function (error) { return ({ ok: false, error: error }); };\r\n/**\r\n * Typeguard for `Err`.\r\n */\r\nvar isErr = function (r) { return r.ok === false; };\r\n/**\r\n * Create a `Promise` that either resolves with the result of `Ok` or rejects\r\n * with the error of `Err`.\r\n */\r\nvar asPromise = function (r) {\r\n    return r.ok === true ? Promise.resolve(r.result) : Promise.reject(r.error);\r\n};\r\n/**\r\n * Unwraps a `Result` and returns either the result of an `Ok`, or\r\n * `defaultValue`.\r\n *\r\n * Example:\r\n * ```\r\n * Result.withDefault(5, number().run(json))\r\n * ```\r\n *\r\n * It would be nice if `Decoder` had an instance method that mirrored this\r\n * function. Such a method would look something like this:\r\n * ```\r\n * class Decoder<A> {\r\n *   runWithDefault = (defaultValue: A, json: any): A =>\r\n *     Result.withDefault(defaultValue, this.run(json));\r\n * }\r\n *\r\n * number().runWithDefault(5, json)\r\n * ```\r\n * Unfortunately, the type of `defaultValue: A` on the method causes issues\r\n * with type inference on  the `object` decoder in some situations. While these\r\n * inference issues can be solved by providing the optional type argument for\r\n * `object`s, the extra trouble and confusion doesn't seem worth it.\r\n */\r\nvar withDefault = function (defaultValue, r) {\r\n    return r.ok === true ? r.result : defaultValue;\r\n};\r\n/**\r\n * Return the successful result, or throw an error.\r\n */\r\nvar withException = function (r) {\r\n    if (r.ok === true) {\r\n        return r.result;\r\n    }\r\n    else {\r\n        throw r.error;\r\n    }\r\n};\r\n/**\r\n * Given an array of `Result`s, return the successful values.\r\n */\r\nvar successes = function (results) {\r\n    return results.reduce(function (acc, r) { return (r.ok === true ? acc.concat(r.result) : acc); }, []);\r\n};\r\n/**\r\n * Apply `f` to the result of an `Ok`, or pass the error through.\r\n */\r\nvar map = function (f, r) {\r\n    return r.ok === true ? ok(f(r.result)) : r;\r\n};\r\n/**\r\n * Apply `f` to the result of two `Ok`s, or pass an error through. If both\r\n * `Result`s are errors then the first one is returned.\r\n */\r\nvar map2 = function (f, ar, br) {\r\n    return ar.ok === false ? ar :\r\n        br.ok === false ? br :\r\n            ok(f(ar.result, br.result));\r\n};\r\n/**\r\n * Apply `f` to the error of an `Err`, or pass the success through.\r\n */\r\nvar mapError = function (f, r) {\r\n    return r.ok === true ? r : err(f(r.error));\r\n};\r\n/**\r\n * Chain together a sequence of computations that may fail, similar to a\r\n * `Promise`. If the first computation fails then the error will propagate\r\n * through. If it succeeds, then `f` will be applied to the value, returning a\r\n * new `Result`.\r\n */\r\nvar andThen = function (f, r) {\r\n    return r.ok === true ? f(r.result) : r;\r\n};\r\n\r\n\r\nvar result = Object.freeze({\r\n\tok: ok,\r\n\tisOk: isOk,\r\n\terr: err,\r\n\tisErr: isErr,\r\n\tasPromise: asPromise,\r\n\twithDefault: withDefault,\r\n\twithException: withException,\r\n\tsuccesses: successes,\r\n\tmap: map,\r\n\tmap2: map2,\r\n\tmapError: mapError,\r\n\tandThen: andThen\r\n});\r\n\r\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\n\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nfunction isEqual(a, b) {\r\n    if (a === b) {\r\n        return true;\r\n    }\r\n    if (a === null && b === null) {\r\n        return true;\r\n    }\r\n    if (typeof (a) !== typeof (b)) {\r\n        return false;\r\n    }\r\n    if (typeof (a) === 'object') {\r\n        // Array\r\n        if (Array.isArray(a)) {\r\n            if (!Array.isArray(b)) {\r\n                return false;\r\n            }\r\n            if (a.length !== b.length) {\r\n                return false;\r\n            }\r\n            for (var i = 0; i < a.length; i++) {\r\n                if (!isEqual(a[i], b[i])) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n        // Hash table\r\n        var keys = Object.keys(a);\r\n        if (keys.length !== Object.keys(b).length) {\r\n            return false;\r\n        }\r\n        for (var i = 0; i < keys.length; i++) {\r\n            if (!b.hasOwnProperty(keys[i])) {\r\n                return false;\r\n            }\r\n            if (!isEqual(a[keys[i]], b[keys[i]])) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n}\r\n/**\r\n * Type guard for `DecoderError`. One use case of the type guard is in the\r\n * `catch` of a promise. Typescript types the error argument of `catch` as\r\n * `any`, so when dealing with a decoder as a promise you may need to\r\n * distinguish between a `DecoderError` and an error string.\r\n */\r\nvar isDecoderError = function (a) {\r\n    return a.kind === 'DecoderError' && typeof a.at === 'string' && typeof a.message === 'string';\r\n};\r\n/*\r\n * Helpers\r\n */\r\nvar isJsonArray = function (json) { return Array.isArray(json); };\r\nvar isJsonObject = function (json) {\r\n    return typeof json === 'object' && json !== null && !isJsonArray(json);\r\n};\r\nvar typeString = function (json) {\r\n    switch (typeof json) {\r\n        case 'string':\r\n            return 'a string';\r\n        case 'number':\r\n            return 'a number';\r\n        case 'boolean':\r\n            return 'a boolean';\r\n        case 'undefined':\r\n            return 'undefined';\r\n        case 'object':\r\n            if (json instanceof Array) {\r\n                return 'an array';\r\n            }\r\n            else if (json === null) {\r\n                return 'null';\r\n            }\r\n            else {\r\n                return 'an object';\r\n            }\r\n        default:\r\n            return JSON.stringify(json);\r\n    }\r\n};\r\nvar expectedGot = function (expected, got) {\r\n    return \"expected \" + expected + \", got \" + typeString(got);\r\n};\r\nvar printPath = function (paths) {\r\n    return paths.map(function (path) { return (typeof path === 'string' ? \".\" + path : \"[\" + path + \"]\"); }).join('');\r\n};\r\nvar prependAt = function (newAt, _a) {\r\n    var at = _a.at, rest = __rest(_a, [\"at\"]);\r\n    return (__assign({ at: newAt + (at || '') }, rest));\r\n};\r\n/**\r\n * Decoders transform json objects with unknown structure into known and\r\n * verified forms. You can create objects of type `Decoder<A>` with either the\r\n * primitive decoder functions, such as `boolean()` and `string()`, or by\r\n * applying higher-order decoders to the primitives, such as `array(boolean())`\r\n * or `dict(string())`.\r\n *\r\n * Each of the decoder functions are available both as a static method on\r\n * `Decoder` and as a function alias -- for example the string decoder is\r\n * defined at `Decoder.string()`, but is also aliased to `string()`. Using the\r\n * function aliases exported with the library is recommended.\r\n *\r\n * `Decoder` exposes a number of 'run' methods, which all decode json in the\r\n * same way, but communicate success and failure in different ways. The `map`\r\n * and `andThen` methods modify decoders without having to call a 'run' method.\r\n *\r\n * Alternatively, the main decoder `run()` method returns an object of type\r\n * `Result<A, DecoderError>`. This library provides a number of helper\r\n * functions for dealing with the `Result` type, so you can do all the same\r\n * things with a `Result` as with the decoder methods.\r\n */\r\nvar Decoder = /** @class */ (function () {\r\n    /**\r\n     * The Decoder class constructor is kept private to separate the internal\r\n     * `decode` function from the external `run` function. The distinction\r\n     * between the two functions is that `decode` returns a\r\n     * `Partial<DecoderError>` on failure, which contains an unfinished error\r\n     * report. When `run` is called on a decoder, the relevant series of `decode`\r\n     * calls is made, and then on failure the resulting `Partial<DecoderError>`\r\n     * is turned into a `DecoderError` by filling in the missing information.\r\n     *\r\n     * While hiding the constructor may seem restrictive, leveraging the\r\n     * provided decoder combinators and helper functions such as\r\n     * `andThen` and `map` should be enough to build specialized decoders as\r\n     * needed.\r\n     */\r\n    function Decoder(decode) {\r\n        var _this = this;\r\n        this.decode = decode;\r\n        /**\r\n         * Run the decoder and return a `Result` with either the decoded value or a\r\n         * `DecoderError` containing the json input, the location of the error, and\r\n         * the error message.\r\n         *\r\n         * Examples:\r\n         * ```\r\n         * number().run(12)\r\n         * // => {ok: true, result: 12}\r\n         *\r\n         * string().run(9001)\r\n         * // =>\r\n         * // {\r\n         * //   ok: false,\r\n         * //   error: {\r\n         * //     kind: 'DecoderError',\r\n         * //     input: 9001,\r\n         * //     at: 'input',\r\n         * //     message: 'expected a string, got 9001'\r\n         * //   }\r\n         * // }\r\n         * ```\r\n         */\r\n        this.run = function (json) {\r\n            return mapError(function (error) { return ({\r\n                kind: 'DecoderError',\r\n                input: json,\r\n                at: 'input' + (error.at || ''),\r\n                message: error.message || ''\r\n            }); }, _this.decode(json));\r\n        };\r\n        /**\r\n         * Run the decoder as a `Promise`.\r\n         */\r\n        this.runPromise = function (json) { return asPromise(_this.run(json)); };\r\n        /**\r\n         * Run the decoder and return the value on success, or throw an exception\r\n         * with a formatted error string.\r\n         */\r\n        this.runWithException = function (json) { return withException(_this.run(json)); };\r\n        /**\r\n         * Construct a new decoder that applies a transformation to the decoded\r\n         * result. If the decoder succeeds then `f` will be applied to the value. If\r\n         * it fails the error will propagated through.\r\n         *\r\n         * Example:\r\n         * ```\r\n         * number().map(x => x * 5).run(10)\r\n         * // => {ok: true, result: 50}\r\n         * ```\r\n         */\r\n        this.map = function (f) {\r\n            return new Decoder(function (json) { return map(f, _this.decode(json)); });\r\n        };\r\n        /**\r\n         * Chain together a sequence of decoders. The first decoder will run, and\r\n         * then the function will determine what decoder to run second. If the result\r\n         * of the first decoder succeeds then `f` will be applied to the decoded\r\n         * value. If it fails the error will propagate through.\r\n         *\r\n         * This is a very powerful method -- it can act as both the `map` and `where`\r\n         * methods, can improve error messages for edge cases, and can be used to\r\n         * make a decoder for custom types.\r\n         *\r\n         * Example of adding an error message:\r\n         * ```\r\n         * const versionDecoder = valueAt(['version'], number());\r\n         * const infoDecoder3 = object({a: boolean()});\r\n         *\r\n         * const decoder = versionDecoder.andThen(version => {\r\n         *   switch (version) {\r\n         *     case 3:\r\n         *       return infoDecoder3;\r\n         *     default:\r\n         *       return fail(`Unable to decode info, version ${version} is not supported.`);\r\n         *   }\r\n         * });\r\n         *\r\n         * decoder.run({version: 3, a: true})\r\n         * // => {ok: true, result: {a: true}}\r\n         *\r\n         * decoder.run({version: 5, x: 'abc'})\r\n         * // =>\r\n         * // {\r\n         * //   ok: false,\r\n         * //   error: {... message: 'Unable to decode info, version 5 is not supported.'}\r\n         * // }\r\n         * ```\r\n         *\r\n         * Example of decoding a custom type:\r\n         * ```\r\n         * // nominal type for arrays with a length of at least one\r\n         * type NonEmptyArray<T> = T[] & { __nonEmptyArrayBrand__: void };\r\n         *\r\n         * const nonEmptyArrayDecoder = <T>(values: Decoder<T>): Decoder<NonEmptyArray<T>> =>\r\n         *   array(values).andThen(arr =>\r\n         *     arr.length > 0\r\n         *       ? succeed(createNonEmptyArray(arr))\r\n         *       : fail(`expected a non-empty array, got an empty array`)\r\n         *   );\r\n         * ```\r\n         */\r\n        this.andThen = function (f) {\r\n            return new Decoder(function (json) {\r\n                return andThen(function (value) { return f(value).decode(json); }, _this.decode(json));\r\n            });\r\n        };\r\n        /**\r\n         * Add constraints to a decoder _without_ changing the resulting type. The\r\n         * `test` argument is a predicate function which returns true for valid\r\n         * inputs. When `test` fails on an input, the decoder fails with the given\r\n         * `errorMessage`.\r\n         *\r\n         * ```\r\n         * const chars = (length: number): Decoder<string> =>\r\n         *   string().where(\r\n         *     (s: string) => s.length === length,\r\n         *     `expected a string of length ${length}`\r\n         *   );\r\n         *\r\n         * chars(5).run('12345')\r\n         * // => {ok: true, result: '12345'}\r\n         *\r\n         * chars(2).run('HELLO')\r\n         * // => {ok: false, error: {... message: 'expected a string of length 2'}}\r\n         *\r\n         * chars(12).run(true)\r\n         * // => {ok: false, error: {... message: 'expected a string, got a boolean'}}\r\n         * ```\r\n         */\r\n        this.where = function (test, errorMessage) {\r\n            return _this.andThen(function (value) { return (test(value) ? Decoder.succeed(value) : Decoder.fail(errorMessage)); });\r\n        };\r\n    }\r\n    /**\r\n     * Decoder primitive that validates strings, and fails on all other input.\r\n     */\r\n    Decoder.string = function () {\r\n        return new Decoder(function (json) {\r\n            return typeof json === 'string'\r\n                ? ok(json)\r\n                : err({ message: expectedGot('a string', json) });\r\n        });\r\n    };\r\n    /**\r\n     * Decoder primitive that validates numbers, and fails on all other input.\r\n     */\r\n    Decoder.number = function () {\r\n        return new Decoder(function (json) {\r\n            return typeof json === 'number'\r\n                ? ok(json)\r\n                : err({ message: expectedGot('a number', json) });\r\n        });\r\n    };\r\n    /**\r\n     * Decoder primitive that validates booleans, and fails on all other input.\r\n     */\r\n    Decoder.boolean = function () {\r\n        return new Decoder(function (json) {\r\n            return typeof json === 'boolean'\r\n                ? ok(json)\r\n                : err({ message: expectedGot('a boolean', json) });\r\n        });\r\n    };\r\n    Decoder.constant = function (value) {\r\n        return new Decoder(function (json) {\r\n            return isEqual(json, value)\r\n                ? ok(value)\r\n                : err({ message: \"expected \" + JSON.stringify(value) + \", got \" + JSON.stringify(json) });\r\n        });\r\n    };\r\n    Decoder.object = function (decoders) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonObject(json) && decoders) {\r\n                var obj = {};\r\n                for (var key in decoders) {\r\n                    if (decoders.hasOwnProperty(key)) {\r\n                        var r = decoders[key].decode(json[key]);\r\n                        if (r.ok === true) {\r\n                            // tslint:disable-next-line:strict-type-predicates\r\n                            if (r.result !== undefined) {\r\n                                obj[key] = r.result;\r\n                            }\r\n                        }\r\n                        else if (json[key] === undefined) {\r\n                            return err({ message: \"the key '\" + key + \"' is required but was not present\" });\r\n                        }\r\n                        else {\r\n                            return err(prependAt(\".\" + key, r.error));\r\n                        }\r\n                    }\r\n                }\r\n                return ok(obj);\r\n            }\r\n            else if (isJsonObject(json)) {\r\n                return ok(json);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot('an object', json) });\r\n            }\r\n        });\r\n    };\r\n    Decoder.array = function (decoder) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonArray(json) && decoder) {\r\n                var decodeValue_1 = function (v, i) {\r\n                    return mapError(function (err$$1) { return prependAt(\"[\" + i + \"]\", err$$1); }, decoder.decode(v));\r\n                };\r\n                return json.reduce(function (acc, v, i) {\r\n                    return map2(function (arr, result) { return arr.concat([result]); }, acc, decodeValue_1(v, i));\r\n                }, ok([]));\r\n            }\r\n            else if (isJsonArray(json)) {\r\n                return ok(json);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot('an array', json) });\r\n            }\r\n        });\r\n    };\r\n    Decoder.tuple = function (decoders) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonArray(json)) {\r\n                if (json.length !== decoders.length) {\r\n                    return err({\r\n                        message: \"expected a tuple of length \" + decoders.length + \", got one of length \" + json.length\r\n                    });\r\n                }\r\n                var result = [];\r\n                for (var i = 0; i < decoders.length; i++) {\r\n                    var nth = decoders[i].decode(json[i]);\r\n                    if (nth.ok) {\r\n                        result[i] = nth.result;\r\n                    }\r\n                    else {\r\n                        return err(prependAt(\"[\" + i + \"]\", nth.error));\r\n                    }\r\n                }\r\n                return ok(result);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot(\"a tuple of length \" + decoders.length, json) });\r\n            }\r\n        });\r\n    };\r\n    Decoder.union = function (ad, bd) {\r\n        var decoders = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            decoders[_i - 2] = arguments[_i];\r\n        }\r\n        return Decoder.oneOf.apply(Decoder, [ad, bd].concat(decoders));\r\n    };\r\n    Decoder.intersection = function (ad, bd) {\r\n        var ds = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            ds[_i - 2] = arguments[_i];\r\n        }\r\n        return new Decoder(function (json) {\r\n            return [ad, bd].concat(ds).reduce(function (acc, decoder) { return map2(Object.assign, acc, decoder.decode(json)); }, ok({}));\r\n        });\r\n    };\r\n    /**\r\n     * Escape hatch to bypass validation. Always succeeds and types the result as\r\n     * `any`. Useful for defining decoders incrementally, particularly for\r\n     * complex objects.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * interface User {\r\n     *   name: string;\r\n     *   complexUserData: ComplexType;\r\n     * }\r\n     *\r\n     * const userDecoder: Decoder<User> = object({\r\n     *   name: string(),\r\n     *   complexUserData: anyJson()\r\n     * });\r\n     * ```\r\n     */\r\n    Decoder.anyJson = function () { return new Decoder(function (json) { return ok(json); }); };\r\n    /**\r\n     * Decoder identity function which always succeeds and types the result as\r\n     * `unknown`.\r\n     */\r\n    Decoder.unknownJson = function () {\r\n        return new Decoder(function (json) { return ok(json); });\r\n    };\r\n    /**\r\n     * Decoder for json objects where the keys are unknown strings, but the values\r\n     * should all be of the same type.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * dict(number()).run({chocolate: 12, vanilla: 10, mint: 37});\r\n     * // => {ok: true, result: {chocolate: 12, vanilla: 10, mint: 37}}\r\n     * ```\r\n     */\r\n    Decoder.dict = function (decoder) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonObject(json)) {\r\n                var obj = {};\r\n                for (var key in json) {\r\n                    if (json.hasOwnProperty(key)) {\r\n                        var r = decoder.decode(json[key]);\r\n                        if (r.ok === true) {\r\n                            obj[key] = r.result;\r\n                        }\r\n                        else {\r\n                            return err(prependAt(\".\" + key, r.error));\r\n                        }\r\n                    }\r\n                }\r\n                return ok(obj);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot('an object', json) });\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Decoder for values that may be `undefined`. This is primarily helpful for\r\n     * decoding interfaces with optional fields.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * interface User {\r\n     *   id: number;\r\n     *   isOwner?: boolean;\r\n     * }\r\n     *\r\n     * const decoder: Decoder<User> = object({\r\n     *   id: number(),\r\n     *   isOwner: optional(boolean())\r\n     * });\r\n     * ```\r\n     */\r\n    Decoder.optional = function (decoder) {\r\n        return new Decoder(function (json) { return (json === undefined || json === null ? ok(undefined) : decoder.decode(json)); });\r\n    };\r\n    /**\r\n     * Decoder that attempts to run each decoder in `decoders` and either succeeds\r\n     * with the first successful decoder, or fails after all decoders have failed.\r\n     *\r\n     * Note that `oneOf` expects the decoders to all have the same return type,\r\n     * while `union` creates a decoder for the union type of all the input\r\n     * decoders.\r\n     *\r\n     * Examples:\r\n     * ```\r\n     * oneOf(string(), number().map(String))\r\n     * oneOf(constant('start'), constant('stop'), succeed('unknown'))\r\n     * ```\r\n     */\r\n    Decoder.oneOf = function () {\r\n        var decoders = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            decoders[_i] = arguments[_i];\r\n        }\r\n        return new Decoder(function (json) {\r\n            var errors = [];\r\n            for (var i = 0; i < decoders.length; i++) {\r\n                var r = decoders[i].decode(json);\r\n                if (r.ok === true) {\r\n                    return r;\r\n                }\r\n                else {\r\n                    errors[i] = r.error;\r\n                }\r\n            }\r\n            var errorsList = errors\r\n                .map(function (error) { return \"at error\" + (error.at || '') + \": \" + error.message; })\r\n                .join('\", \"');\r\n            return err({\r\n                message: \"expected a value matching one of the decoders, got the errors [\\\"\" + errorsList + \"\\\"]\"\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Decoder that always succeeds with either the decoded value, or a fallback\r\n     * default value.\r\n     */\r\n    Decoder.withDefault = function (defaultValue, decoder) {\r\n        return new Decoder(function (json) {\r\n            return ok(withDefault(defaultValue, decoder.decode(json)));\r\n        });\r\n    };\r\n    /**\r\n     * Decoder that pulls a specific field out of a json structure, instead of\r\n     * decoding and returning the full structure. The `paths` array describes the\r\n     * object keys and array indices to traverse, so that values can be pulled out\r\n     * of a nested structure.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * const decoder = valueAt(['a', 'b', 0], string());\r\n     *\r\n     * decoder.run({a: {b: ['surprise!']}})\r\n     * // => {ok: true, result: 'surprise!'}\r\n     *\r\n     * decoder.run({a: {x: 'cats'}})\r\n     * // => {ok: false, error: {... at: 'input.a.b[0]' message: 'path does not exist'}}\r\n     * ```\r\n     *\r\n     * Note that the `decoder` is ran on the value found at the last key in the\r\n     * path, even if the last key is not found. This allows the `optional`\r\n     * decoder to succeed when appropriate.\r\n     * ```\r\n     * const optionalDecoder = valueAt(['a', 'b', 'c'], optional(string()));\r\n     *\r\n     * optionalDecoder.run({a: {b: {c: 'surprise!'}}})\r\n     * // => {ok: true, result: 'surprise!'}\r\n     *\r\n     * optionalDecoder.run({a: {b: 'cats'}})\r\n     * // => {ok: false, error: {... at: 'input.a.b.c' message: 'expected an object, got \"cats\"'}\r\n     *\r\n     * optionalDecoder.run({a: {b: {z: 1}}})\r\n     * // => {ok: true, result: undefined}\r\n     * ```\r\n     */\r\n    Decoder.valueAt = function (paths, decoder) {\r\n        return new Decoder(function (json) {\r\n            var jsonAtPath = json;\r\n            for (var i = 0; i < paths.length; i++) {\r\n                if (jsonAtPath === undefined) {\r\n                    return err({\r\n                        at: printPath(paths.slice(0, i + 1)),\r\n                        message: 'path does not exist'\r\n                    });\r\n                }\r\n                else if (typeof paths[i] === 'string' && !isJsonObject(jsonAtPath)) {\r\n                    return err({\r\n                        at: printPath(paths.slice(0, i + 1)),\r\n                        message: expectedGot('an object', jsonAtPath)\r\n                    });\r\n                }\r\n                else if (typeof paths[i] === 'number' && !isJsonArray(jsonAtPath)) {\r\n                    return err({\r\n                        at: printPath(paths.slice(0, i + 1)),\r\n                        message: expectedGot('an array', jsonAtPath)\r\n                    });\r\n                }\r\n                else {\r\n                    jsonAtPath = jsonAtPath[paths[i]];\r\n                }\r\n            }\r\n            return mapError(function (error) {\r\n                return jsonAtPath === undefined\r\n                    ? { at: printPath(paths), message: 'path does not exist' }\r\n                    : prependAt(printPath(paths), error);\r\n            }, decoder.decode(jsonAtPath));\r\n        });\r\n    };\r\n    /**\r\n     * Decoder that ignores the input json and always succeeds with `fixedValue`.\r\n     */\r\n    Decoder.succeed = function (fixedValue) {\r\n        return new Decoder(function (json) { return ok(fixedValue); });\r\n    };\r\n    /**\r\n     * Decoder that ignores the input json and always fails with `errorMessage`.\r\n     */\r\n    Decoder.fail = function (errorMessage) {\r\n        return new Decoder(function (json) { return err({ message: errorMessage }); });\r\n    };\r\n    /**\r\n     * Decoder that allows for validating recursive data structures. Unlike with\r\n     * functions, decoders assigned to variables can't reference themselves\r\n     * before they are fully defined. We can avoid prematurely referencing the\r\n     * decoder by wrapping it in a function that won't be called until use, at\r\n     * which point the decoder has been defined.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * interface Comment {\r\n     *   msg: string;\r\n     *   replies: Comment[];\r\n     * }\r\n     *\r\n     * const decoder: Decoder<Comment> = object({\r\n     *   msg: string(),\r\n     *   replies: lazy(() => array(decoder))\r\n     * });\r\n     * ```\r\n     */\r\n    Decoder.lazy = function (mkDecoder) {\r\n        return new Decoder(function (json) { return mkDecoder().decode(json); });\r\n    };\r\n    return Decoder;\r\n}());\r\n\r\n/* tslint:disable:variable-name */\r\n/** See `Decoder.string` */\r\nvar string = Decoder.string;\r\n/** See `Decoder.number` */\r\nvar number = Decoder.number;\r\n/** See `Decoder.boolean` */\r\nvar boolean = Decoder.boolean;\r\n/** See `Decoder.anyJson` */\r\nvar anyJson = Decoder.anyJson;\r\n/** See `Decoder.unknownJson` */\r\nvar unknownJson = Decoder.unknownJson;\r\n/** See `Decoder.constant` */\r\nvar constant = Decoder.constant;\r\n/** See `Decoder.object` */\r\nvar object = Decoder.object;\r\n/** See `Decoder.array` */\r\nvar array = Decoder.array;\r\n/** See `Decoder.tuple` */\r\nvar tuple = Decoder.tuple;\r\n/** See `Decoder.dict` */\r\nvar dict = Decoder.dict;\r\n/** See `Decoder.optional` */\r\nvar optional = Decoder.optional;\r\n/** See `Decoder.oneOf` */\r\nvar oneOf = Decoder.oneOf;\r\n/** See `Decoder.union` */\r\nvar union = Decoder.union;\r\n/** See `Decoder.intersection` */\r\nvar intersection = Decoder.intersection;\r\n/** See `Decoder.withDefault` */\r\nvar withDefault$1 = Decoder.withDefault;\r\n/** See `Decoder.valueAt` */\r\nvar valueAt = Decoder.valueAt;\r\n/** See `Decoder.succeed` */\r\nvar succeed = Decoder.succeed;\r\n/** See `Decoder.fail` */\r\nvar fail = Decoder.fail;\r\n/** See `Decoder.lazy` */\r\nvar lazy = Decoder.lazy;\r\n\r\nexport { result as Result, Decoder, isDecoderError, string, number, boolean, anyJson, unknownJson, constant, object, array, tuple, dict, optional, oneOf, union, intersection, withDefault$1 as withDefault, valueAt, succeed, fail, lazy };\r\n//# sourceMappingURL=index.es5.js.map\r\n","import { Glue42Workspaces } from \"@glue42/workspaces-api\";\r\nimport { Decoder, string, number, object, constant, oneOf, optional, array, boolean, anyJson, lazy } from \"decoder-validate\";\r\nimport { Glue42Web } from \"../../web\";\r\nimport { AppHelloSuccess, ApplicationData, ApplicationStartConfig, AppManagerOperationTypes, BaseApplicationData, BasicInstanceData, InstanceData } from \"../appManager/protocol\";\r\nimport { AllLayoutsFullConfig, AllLayoutsSummariesResult, GetAllLayoutsConfig, LayoutsOperationTypes, OptionalSimpleLayoutResult, SimpleLayoutConfig, SimpleLayoutResult } from \"../layouts/protocol\";\r\nimport { HelloSuccess, OpenWindowConfig, CoreWindowData, WindowHello, WindowOperationTypes, SimpleWindowCommand, WindowTitleConfig, WindowBoundsResult, WindowMoveResizeConfig, WindowUrlResult } from \"../windows/protocol\";\r\nimport { LibDomains } from \"./types\";\r\n\r\nexport const nonEmptyStringDecoder: Decoder<string> = string().where((s) => s.length > 0, \"Expected a non-empty string\");\r\nexport const nonNegativeNumberDecoder: Decoder<number> = number().where((num) => num >= 0, \"Expected a non-negative number\");\r\n\r\nexport const libDomainDecoder: Decoder<LibDomains> = oneOf<\"windows\" | \"appManager\" | \"layouts\">(\r\n    constant(\"windows\"),\r\n    constant(\"appManager\"),\r\n    constant(\"layouts\")\r\n);\r\n\r\nexport const windowOperationTypesDecoder: Decoder<WindowOperationTypes> = oneOf<\"openWindow\" | \"getBounds\" | \"windowHello\" | \"windowAdded\" | \"windowRemoved\" | \"getUrl\" | \"moveResize\" | \"focus\" | \"close\" | \"getTitle\" | \"setTitle\">(\r\n    constant(\"openWindow\"),\r\n    constant(\"windowHello\"),\r\n    constant(\"windowAdded\"),\r\n    constant(\"windowRemoved\"),\r\n    constant(\"getBounds\"),\r\n    constant(\"getUrl\"),\r\n    constant(\"moveResize\"),\r\n    constant(\"focus\"),\r\n    constant(\"close\"),\r\n    constant(\"getTitle\"),\r\n    constant(\"setTitle\")\r\n);\r\n\r\nexport const appManagerOperationTypesDecoder: Decoder<AppManagerOperationTypes> = oneOf<\"appHello\" | \"applicationAdded\" |\"applicationRemoved\" | \"applicationChanged\" | \"instanceStarted\" | \"instanceStopped\" | \"applicationStart\" | \"instanceStop\">(\r\n    constant(\"appHello\"),\r\n    constant(\"applicationAdded\"),\r\n    constant(\"applicationRemoved\"),\r\n    constant(\"applicationChanged\"),\r\n    constant(\"instanceStarted\"),\r\n    constant(\"instanceStopped\"), \r\n    constant(\"applicationStart\"),\r\n    constant(\"instanceStop\")\r\n);\r\n\r\nexport const layoutsOperationTypesDecoder: Decoder<LayoutsOperationTypes> = oneOf<\"layoutAdded\" | \"layoutChanged\" | \"layoutRemoved\" | \"get\" | \"getAll\" | \"export\" | \"import\" | \"remove\">(\r\n    constant(\"layoutAdded\"),\r\n    constant(\"layoutChanged\"),\r\n    constant(\"layoutRemoved\"),\r\n    constant(\"get\"),\r\n    constant(\"getAll\"),\r\n    constant(\"export\"),\r\n    constant(\"import\"),\r\n    constant(\"remove\")\r\n);\r\n\r\nexport const windowRelativeDirectionDecoder: Decoder<Glue42Web.Windows.RelativeDirection> = oneOf<\"top\" | \"left\" | \"right\" | \"bottom\">(\r\n    constant(\"top\"),\r\n    constant(\"left\"),\r\n    constant(\"right\"),\r\n    constant(\"bottom\")\r\n);\r\n\r\nexport const windowOpenSettingsDecoder: Decoder<Glue42Web.Windows.Settings | undefined> = optional(object({\r\n    top: optional(number()),\r\n    left: optional(number()),\r\n    width: optional(nonNegativeNumberDecoder),\r\n    height: optional(nonNegativeNumberDecoder),\r\n    context: optional(anyJson()),\r\n    relativeTo: optional(nonEmptyStringDecoder),\r\n    relativeDirection: optional(windowRelativeDirectionDecoder)\r\n}));\r\n\r\n\r\nexport const openWindowConfigDecoder: Decoder<OpenWindowConfig> = object({\r\n    name: nonEmptyStringDecoder,\r\n    url: nonEmptyStringDecoder,\r\n    options: windowOpenSettingsDecoder\r\n});\r\n\r\nexport const windowHelloDecoder: Decoder<WindowHello> = object({\r\n    windowId: optional(nonEmptyStringDecoder)\r\n});\r\n\r\nexport const coreWindowDataDecoder: Decoder<CoreWindowData> = object({\r\n    windowId: nonEmptyStringDecoder,\r\n    name: nonEmptyStringDecoder\r\n});\r\n\r\nexport const simpleWindowDecoder: Decoder<SimpleWindowCommand> = object({\r\n    windowId: nonEmptyStringDecoder\r\n});\r\n\r\nexport const helloSuccessDecoder: Decoder<HelloSuccess> = object({\r\n    windows: array(coreWindowDataDecoder),\r\n    isWorkspaceFrame: boolean()\r\n});\r\n\r\n\r\nexport const windowTitleConfigDecoder: Decoder<WindowTitleConfig> = object({\r\n    windowId: nonEmptyStringDecoder,\r\n    title: nonEmptyStringDecoder\r\n});\r\n\r\nexport const windowMoveResizeConfigDecoder: Decoder<WindowMoveResizeConfig> = object({\r\n    windowId: nonEmptyStringDecoder,\r\n    top: optional(number()),\r\n    left: optional(number()),\r\n    width: optional(nonNegativeNumberDecoder),\r\n    height: optional(nonNegativeNumberDecoder),\r\n    relative: optional(boolean())\r\n});\r\n\r\nexport const windowBoundsResultDecoder: Decoder<WindowBoundsResult> = object({\r\n    windowId: nonEmptyStringDecoder,\r\n    bounds: object({\r\n        top: number(),\r\n        left: number(),\r\n        width: nonNegativeNumberDecoder,\r\n        height: nonNegativeNumberDecoder\r\n    })\r\n});\r\n\r\nexport const windowUrlResultDecoder: Decoder<WindowUrlResult> = object({\r\n    windowId: nonEmptyStringDecoder,\r\n    url: nonEmptyStringDecoder\r\n});\r\n\r\nexport const anyDecoder: Decoder<unknown> = anyJson();\r\n\r\nexport const boundsDecoder: Decoder<Partial<Glue42Web.Windows.Bounds>> = object({\r\n    top: optional(number()),\r\n    left: optional(number()),\r\n    width: optional(nonNegativeNumberDecoder),\r\n    height: optional(nonNegativeNumberDecoder)\r\n});\r\n\r\nexport const instanceDataDecoder: Decoder<InstanceData> = object({\r\n    id: nonEmptyStringDecoder,\r\n    applicationName: nonEmptyStringDecoder\r\n});\r\n\r\nexport const applicationDataDecoder: Decoder<ApplicationData> = object({\r\n    name: nonEmptyStringDecoder,\r\n    instances: array(instanceDataDecoder),\r\n    userProperties: optional(anyJson()),\r\n    title: optional(nonEmptyStringDecoder),\r\n    version: optional(nonEmptyStringDecoder),\r\n    icon: optional(nonEmptyStringDecoder),\r\n    caption: optional(nonEmptyStringDecoder)\r\n});\r\n\r\nexport const baseApplicationDataDecoder: Decoder<BaseApplicationData> = object({\r\n    name: nonEmptyStringDecoder,\r\n    userProperties: anyJson(),\r\n    title: optional(nonEmptyStringDecoder),\r\n    version: optional(nonEmptyStringDecoder),\r\n    icon: optional(nonEmptyStringDecoder),\r\n    caption: optional(nonEmptyStringDecoder)\r\n});\r\n\r\nexport const appHelloSuccessDecoder: Decoder<AppHelloSuccess> = object({\r\n    apps: array(applicationDataDecoder)\r\n});\r\n\r\nexport const basicInstanceDataDecoder: Decoder<BasicInstanceData> = object({\r\n    id: nonEmptyStringDecoder\r\n});\r\n\r\nexport const applicationStartConfigDecoder: Decoder<ApplicationStartConfig> = object({\r\n    name: nonEmptyStringDecoder,\r\n    waitForAGMReady: boolean(),\r\n    context: optional(anyJson()),\r\n    top: optional(number()),\r\n    left: optional(number()),\r\n    width: optional(nonNegativeNumberDecoder),\r\n    height: optional(nonNegativeNumberDecoder),\r\n    relativeTo: optional(nonEmptyStringDecoder),\r\n    relativeDirection: optional(oneOf<\"top\" | \"left\" | \"right\" | \"bottom\">(\r\n        constant(\"top\"),\r\n        constant(\"left\"),\r\n        constant(\"right\"),\r\n        constant(\"bottom\")\r\n    ))\r\n});\r\n\r\nexport const layoutTypeDecoder: Decoder<Glue42Web.Layouts.LayoutType> = oneOf<\"Global\" | \"Activity\" | \"ApplicationDefault\" | \"Swimlane\" | \"Workspace\">(\r\n    constant(\"Global\"),\r\n    constant(\"Activity\"),\r\n    constant(\"ApplicationDefault\"),\r\n    constant(\"Swimlane\"),\r\n    constant(\"Workspace\")\r\n);\r\n\r\nexport const componentTypeDecoder: Decoder<Glue42Web.Layouts.ComponentType> = oneOf<\"application\" | \"activity\">(\r\n    constant(\"application\"),\r\n    constant(\"activity\")\r\n);\r\n\r\nexport const windowLayoutComponentDecoder: Decoder<Glue42Web.Layouts.WindowComponent> = object({\r\n    type: constant(\"window\"),\r\n    componentType: componentTypeDecoder,\r\n    state: object({\r\n        name: anyJson(),\r\n        context: anyJson(),\r\n        url: nonEmptyStringDecoder,\r\n        bounds: anyJson(),\r\n        id: nonEmptyStringDecoder,\r\n        parentId: optional(nonEmptyStringDecoder),\r\n        main: boolean()\r\n    })\r\n});\r\n\r\nexport const windowLayoutItemDecoder: Decoder<Glue42Workspaces.WindowLayoutItem> = object({\r\n    type: constant(\"window\"),\r\n    config: object({\r\n        appName: nonEmptyStringDecoder,\r\n        url: optional(nonEmptyStringDecoder)\r\n    })\r\n});\r\n\r\nexport const groupLayoutItemDecoder: Decoder<Glue42Workspaces.GroupLayoutItem> = object({\r\n    type: constant(\"group\"),\r\n    config: anyJson(),\r\n    children: array(oneOf<Glue42Workspaces.WindowLayoutItem>(\r\n        windowLayoutItemDecoder\r\n    ))\r\n});\r\n\r\nexport const columnLayoutItemDecoder: Decoder<Glue42Workspaces.ColumnLayoutItem> = object({\r\n    type: constant(\"column\"),\r\n    config: anyJson(),\r\n    children: array(oneOf<Glue42Workspaces.RowLayoutItem | Glue42Workspaces.ColumnLayoutItem | Glue42Workspaces.GroupLayoutItem | Glue42Workspaces.WindowLayoutItem>(\r\n        groupLayoutItemDecoder,\r\n        windowLayoutItemDecoder,\r\n        lazy(() => columnLayoutItemDecoder),\r\n        // eslint-disable-next-line @typescript-eslint/no-use-before-define\r\n        lazy(() => rowLayoutItemDecoder)\r\n    ))\r\n});\r\n\r\nexport const rowLayoutItemDecoder: Decoder<Glue42Workspaces.RowLayoutItem> = object({\r\n    type: constant(\"row\"),\r\n    config: anyJson(),\r\n    children: array(oneOf<Glue42Workspaces.RowLayoutItem | Glue42Workspaces.ColumnLayoutItem | Glue42Workspaces.GroupLayoutItem | Glue42Workspaces.WindowLayoutItem>(\r\n        columnLayoutItemDecoder,\r\n        groupLayoutItemDecoder,\r\n        windowLayoutItemDecoder,\r\n        lazy(() => rowLayoutItemDecoder)\r\n    ))\r\n});\r\n\r\nexport const workspaceLayoutComponentDecoder: Decoder<Glue42Workspaces.WorkspaceComponent> = object({\r\n    type: constant(\"Workspace\"),\r\n    state: object({\r\n        config: anyJson(),\r\n        context: anyJson(),\r\n        children: array(oneOf<Glue42Workspaces.RowLayoutItem | Glue42Workspaces.ColumnLayoutItem | Glue42Workspaces.GroupLayoutItem | Glue42Workspaces.WindowLayoutItem>(\r\n            rowLayoutItemDecoder,\r\n            columnLayoutItemDecoder,\r\n            groupLayoutItemDecoder,\r\n            windowLayoutItemDecoder\r\n        ))\r\n    })\r\n});\r\n\r\nexport const glueLayoutDecoder: Decoder<Glue42Web.Layouts.Layout> = object({\r\n    name: nonEmptyStringDecoder,\r\n    type: layoutTypeDecoder,\r\n    components: array(oneOf<Glue42Web.Layouts.WindowComponent | Glue42Workspaces.WorkspaceComponent>(\r\n        windowLayoutComponentDecoder,\r\n        workspaceLayoutComponentDecoder\r\n    )),\r\n    context: optional(anyJson()),\r\n    metadata: optional(anyJson())\r\n});\r\n\r\nexport const newLayoutOptionsDecoder: Decoder<Glue42Web.Layouts.NewLayoutOptions> = object({\r\n    name: nonEmptyStringDecoder,\r\n    context: optional(anyJson()),\r\n    metadata: optional(anyJson())\r\n});\r\n\r\nexport const restoreOptionsDecoder: Decoder<Glue42Web.Layouts.RestoreOptions> = object({\r\n    name: nonEmptyStringDecoder,\r\n    context: optional(anyJson()),\r\n    closeRunningInstance: optional(boolean())\r\n});\r\n\r\nexport const layoutSummaryDecoder: Decoder<Glue42Web.Layouts.LayoutSummary> = object({\r\n    name: nonEmptyStringDecoder,\r\n    type: layoutTypeDecoder,\r\n    context: optional(anyJson()),\r\n    metadata: optional(anyJson())\r\n});\r\n\r\nexport const simpleLayoutConfigDecoder: Decoder<SimpleLayoutConfig> = object({\r\n    name: nonEmptyStringDecoder,\r\n    type: layoutTypeDecoder\r\n});\r\n\r\nexport const getAllLayoutsConfigDecoder: Decoder<GetAllLayoutsConfig> = object({\r\n    type: layoutTypeDecoder\r\n});\r\n\r\nexport const allLayoutsFullConfigDecoder: Decoder<AllLayoutsFullConfig> = object({\r\n    layouts: array(glueLayoutDecoder)\r\n});\r\n\r\nexport const allLayoutsSummariesResultDecoder: Decoder<AllLayoutsSummariesResult> = object({\r\n    summaries: array(layoutSummaryDecoder)\r\n});\r\n\r\nexport const simpleLayoutResult: Decoder<SimpleLayoutResult> = object({\r\n    layout: glueLayoutDecoder\r\n});\r\n\r\nexport const optionalSimpleLayoutResult: Decoder<OptionalSimpleLayoutResult> = object({\r\n    layout: optional(glueLayoutDecoder)\r\n});\r\n","export const GlueWebPlatformControlName = \"T42.Web.Platform.Control\";\r\n\r\nexport const GlueWebPlatformStreamName = \"T42.Web.Platform.Stream\";\r\n\r\nexport const GlueClientControlName = \"T42.Web.Client.Control\"; ","import { Glue42Core } from \"@glue42/core\";\r\nimport { libDomainDecoder } from \"../shared/decoders\";\r\nimport { PromisePlus } from \"../shared/promise-plus\";\r\nimport { BridgeOperation, LibController, LibDomains } from \"../shared/types\";\r\nimport { GlueClientControlName, GlueWebPlatformControlName, GlueWebPlatformStreamName } from \"./constants\";\r\n// todo - subscribe for connection state?\r\nexport class GlueBridge {\r\n    private readonly platformMethodTimeoutMs = 10000;\r\n    private controllers!: { [key in LibDomains]: LibController };\r\n    private sub!: Glue42Core.AGM.Subscription;\r\n\r\n    constructor(private readonly coreGlue: Glue42Core.GlueCore) { }\r\n\r\n    public get contextLib(): Glue42Core.Contexts.API {\r\n        return this.coreGlue.contexts;\r\n    }\r\n\r\n    public get interopInstance(): string | undefined {\r\n        return this.coreGlue.interop.instance.instance;\r\n    }\r\n\r\n    public async start(controllers: { [key in LibDomains]: LibController }): Promise<void> {\r\n        this.controllers = controllers;\r\n\r\n        await Promise.all([\r\n            this.checkWaitMethod(GlueWebPlatformControlName),\r\n            this.checkWaitMethod(GlueWebPlatformStreamName)\r\n        ]);\r\n\r\n        const [sub] = await Promise.all([\r\n            this.coreGlue.interop.subscribe(GlueWebPlatformStreamName),\r\n            this.coreGlue.interop.registerAsync(GlueClientControlName, (args, _, success, error) => this.passMessageController(args, success, error))\r\n        ]);\r\n\r\n        this.sub = sub;\r\n\r\n        this.sub.onData((pkg) => this.passMessageController(pkg.data));\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    public async send<OutBound, InBound>(domain: LibDomains, operation: BridgeOperation, operationData: OutBound): Promise<InBound> {\r\n\r\n        if (operation.dataDecoder) {\r\n            try {\r\n                operation.dataDecoder.runWithException(operationData);\r\n            } catch (error) {\r\n                throw new Error(`Unexpected internal outgoing validation error: ${error.message}, for operation: ${operation.name} and input: ${JSON.stringify(error.input)}`);\r\n            }\r\n        }\r\n\r\n        let operationResult;\r\n\r\n        try {\r\n            operationResult = await this.transmitMessage(domain, operation, operationData);\r\n\r\n            if (operation.resultDecoder) {\r\n                operationResult = operation.resultDecoder.runWithException(operationResult);\r\n            }\r\n\r\n        } catch (error) {\r\n            if (error.kind) {\r\n                throw new Error(`Unexpected internal incoming validation error: ${error.message}, for operation: ${operation.name} and input: ${JSON.stringify(error.input)}`);\r\n            }\r\n            throw new Error(error.message);\r\n        }\r\n\r\n        return operationResult;\r\n    }\r\n\r\n    private checkWaitMethod(name: string): Promise<void> {\r\n        return PromisePlus<void>((resolve) => {\r\n\r\n            const hasMethod = this.coreGlue.interop.methods().some((method) => method.name === name);\r\n\r\n            if (hasMethod) {\r\n                return resolve();\r\n            }\r\n\r\n            const unSub = this.coreGlue.interop.methodAdded((method) => {\r\n                if (method.name === name) {\r\n                    unSub();\r\n                    resolve();\r\n                }\r\n            });\r\n\r\n        }, this.platformMethodTimeoutMs, `Cannot initiate Glue Web, because a system method's discovery timed out: ${name}`);\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    private passMessageController(args: any, success?: (args?: any) => void, error?: (error?: string | object | undefined) => void): void {\r\n        const decodeResult = libDomainDecoder.run(args.domain);\r\n\r\n        if (!decodeResult.ok) {\r\n            if (error) {\r\n                error(`Cannot execute this client control, because of domain validation error: ${JSON.stringify(decodeResult.error)}`);\r\n            }\r\n            return;\r\n        }\r\n\r\n        const domain = decodeResult.result;\r\n\r\n        this.controllers[domain]\r\n            .handleBridgeMessage(args)\r\n            .then((resolutionData: unknown) => {\r\n                if (success) {\r\n                    success(resolutionData);\r\n                }\r\n            })\r\n            .catch((err: string | object | undefined) => {\r\n                if (error) {\r\n                    error(err);\r\n                }\r\n                console.warn(err);\r\n            });\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    private async transmitMessage(domain: string, operation: BridgeOperation, data: any): Promise<any> {\r\n\r\n        const messageData = { domain, data, operation: operation.name };\r\n\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        let invocationResult: Glue42Core.Interop.InvocationResult<any>;\r\n        const baseErrorMessage = `Internal Platform Communication Error. Attempted operation: ${JSON.stringify(operation.name)} with data: ${JSON.stringify(data)}. `;\r\n\r\n        try {\r\n            invocationResult = await this.coreGlue.interop.invoke(GlueWebPlatformControlName, messageData);\r\n\r\n            if (!invocationResult) {\r\n                throw new Error(\"Received unsupported result from the platform - empty result\");\r\n            }\r\n\r\n            if (!Array.isArray(invocationResult.all_return_values) || invocationResult.all_return_values.length === 0) {\r\n                throw new Error(\"Received unsupported result from the platform - empty values collection\");\r\n            }\r\n\r\n        } catch (error) {\r\n            if (error && error.all_errors && error.all_errors.length) {\r\n                // IMPORTANT: Do NOT change the `Inner message:` string, because it is used by other programs to extract the inner message of a communication error\r\n                const invocationErrorMessage = error.all_errors[0].message;\r\n                throw new Error(`${baseErrorMessage} -> Inner message: ${invocationErrorMessage}`);\r\n\r\n            }\r\n            // IMPORTANT: Do NOT change the `Inner message:` string, because it is used by other programs to extract the inner message of a communication error\r\n            throw new Error(`${baseErrorMessage} -> Inner message: ${error.message}`);\r\n        }\r\n\r\n        return invocationResult.all_return_values[0].returned;\r\n    }\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { METHODS, webPlatformMethodName, webPlatformWspStreamName } from \"./constants\";\r\nimport { promisePlus } from \"../shared/promisePlus\";\r\nimport { WorkspaceEventType } from \"../types/subscription\";\r\nimport { InteropAPI, Subscription, InvocationResult } from \"../types/glue\";\r\n\r\nexport class InteropTransport {\r\n\r\n    private readonly defaultTransportTimeout: number = 30000;\r\n\r\n    constructor(private readonly agm: InteropAPI) { }\r\n\r\n    public async initiate(): Promise<void> {\r\n\r\n        if (window.glue42gd) {\r\n            await Promise.all(\r\n                Object.values(METHODS).map((method) => {\r\n                    return this.verifyMethodLive(method.name);\r\n                })\r\n            );\r\n\r\n            return;\r\n        }\r\n\r\n        await Promise.all([\r\n            this.verifyMethodLive(webPlatformMethodName),\r\n            this.verifyMethodLive(webPlatformWspStreamName)\r\n        ]);\r\n    }\r\n\r\n    // todo: subscribeCore\r\n\r\n    public async subscribe(streamName: string, streamBranch: string, streamType: WorkspaceEventType): Promise<Subscription> {\r\n\r\n        const subscriptionArgs = {\r\n            branch: streamBranch,\r\n            type: streamType\r\n        };\r\n\r\n        let subscription: Subscription;\r\n\r\n        try {\r\n            subscription = await this.agm.subscribe(streamName, { arguments: subscriptionArgs });\r\n        } catch (error) {\r\n            const message = `Internal subscription error! Error details: stream - ${streamName}, branch: ${streamBranch}. Internal message: ${error.message}`;\r\n            throw new Error(message);\r\n        }\r\n\r\n        return subscription;\r\n    }\r\n\r\n    public async transmitControl(operation: string, operationArguments: any): Promise<any> {\r\n\r\n        const invocationArguments = window.glue42gd ? { operation, operationArguments } : { operation, domain: \"workspaces\", data: operationArguments };\r\n        const methodName = window.glue42gd ? METHODS.control.name : webPlatformMethodName;\r\n\r\n        let invocationResult: InvocationResult<any>;\r\n        const baseErrorMessage = `Internal Workspaces Communication Error. Attempted operation: ${JSON.stringify(invocationArguments)}. `;\r\n\r\n        // using the 0 index of the errors and values collections, because we expect only one server and\r\n        // this is to safeguard in case in future we decide to deprecate the default returned/message properties in favor of using only collections\r\n        try {\r\n            invocationResult = await this.agm.invoke(methodName, invocationArguments, \"best\", { methodResponseTimeoutMs: this.defaultTransportTimeout });\r\n\r\n            if (!invocationResult) {\r\n                throw new Error(\"Received unsupported result from GD - empty result\");\r\n            }\r\n\r\n            if (!Array.isArray(invocationResult.all_return_values) || invocationResult.all_return_values.length === 0) {\r\n                throw new Error(\"Received unsupported result from GD - empty values collection\");\r\n            }\r\n\r\n        } catch (error) {\r\n            if (error && error.all_errors && error.all_errors.length) {\r\n                // IMPORTANT: Do NOT change the `Inner message:` string, because it is used by other programs to extract the inner message of a communication error\r\n                const invocationErrorMessage = error.all_errors[0].message;\r\n                throw new Error(`${baseErrorMessage} -> Inner message: ${invocationErrorMessage}`);\r\n\r\n            }\r\n            // IMPORTANT: Do NOT change the `Inner message:` string, because it is used by other programs to extract the inner message of a communication error\r\n            throw new Error(`${baseErrorMessage} -> Inner message: ${error.message}`);\r\n        }\r\n\r\n        return invocationResult.all_return_values[0].returned;\r\n    }\r\n\r\n    private verifyMethodLive(name: string): Promise<void> {\r\n        return promisePlus(() => {\r\n            return new Promise((resolve) => {\r\n                const hasMethod = this.agm.methods().some((method) => method.name === name);\r\n\r\n                if (hasMethod) {\r\n                    resolve();\r\n                    return;\r\n                }\r\n\r\n                let unsubscribe = this.agm.methodAdded((method) => {\r\n                    if (method.name !== name) {\r\n                        return;\r\n                    }\r\n\r\n                    if (unsubscribe) {\r\n                        unsubscribe();\r\n                        unsubscribe = null;\r\n                    } else {\r\n                        setTimeout(() => {\r\n                            if (unsubscribe) {\r\n                                unsubscribe();\r\n                            }\r\n                        }, 0);\r\n                    }\r\n                    resolve();\r\n                });\r\n            });\r\n        }, 15000, \"Timeout waiting for the Workspaces communication channels\");\r\n    }\r\n}\r\n","export const promisePlus = <T>(promise: () => Promise<T>, timeoutMilliseconds: number, timeoutMessage?: string): Promise<T> => {\n    return new Promise<T>((resolve, reject) => {\n\n        let promiseActive = true;\n\n        const timeout = setTimeout(() => {\n            if (!promiseActive) {\n                return;\n            }\n            promiseActive = false;\n            const message = timeoutMessage || `Promise timeout hit: ${timeoutMilliseconds}`;\n\n            reject(message);\n        }, timeoutMilliseconds);\n\n        promise()\n            .then((result) => {\n                if (!promiseActive) {\n                    return;\n                }\n                promiseActive = false;\n                clearTimeout(timeout);\n                resolve(result);\n            })\n            .catch((error) => {\n                if (!promiseActive) {\n                    return;\n                }\n                promiseActive = false;\n                clearTimeout(timeout);\n                reject(error);\n            });\n    });\n};\n","import { BaseBuilder } from \"./baseBuilder\";\nimport { ChildBuilder } from \"../types/builders\";\nimport { Glue42Workspaces } from \"../../workspaces\";\n\ninterface PrivateData {\n    definition: Glue42Workspaces.BoxDefinition;\n    base: BaseBuilder;\n    children: ChildBuilder[];\n}\n\nconst privateData = new WeakMap<ParentBuilder, PrivateData>();\n\nexport class ParentBuilder implements ParentBuilder {\n\n    constructor(\n        definition: Glue42Workspaces.BoxDefinition,\n        base: BaseBuilder\n    ) {\n        const children = base.wrapChildren(definition.children);\n\n        delete definition.children;\n\n        privateData.set(this, { base, children, definition });\n    }\n\n    public get type(): \"column\" | \"row\" | \"group\" {\n        return privateData.get(this).definition.type;\n    }\n\n    public addColumn(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\n        const base = privateData.get(this).base;\n\n        return base.add(\"column\", privateData.get(this).children, definition);\n    }\n\n    public addRow(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\n        const base = privateData.get(this).base;\n\n        return base.add(\"row\", privateData.get(this).children, definition);\n    }\n\n    public addGroup(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\n        const base = privateData.get(this).base;\n\n        return base.add(\"group\", privateData.get(this).children, definition);\n    }\n\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): ParentBuilder {\n        const base = privateData.get(this).base;\n\n        base.addWindow(privateData.get(this).children, definition);\n\n        return this;\n    }\n\n    public serialize(): Glue42Workspaces.BoxDefinition {\n        const definition = privateData.get(this).definition;\n        definition.children = privateData.get(this).base.serializeChildren(privateData.get(this).children);\n        return definition;\n    }\n\n}\n","import { ParentBuilder } from \"./parentBuilder\";\nimport { ChildDefinition, ChildBuilder } from \"../types/builders\";\nimport { parentDefinitionDecoder, swimlaneWindowDefinitionDecoder } from \"../shared/decoders\";\nimport { Glue42Workspaces } from \"../../workspaces\";\nimport { WorkspaceBuilder } from \"./workspaceBuilder\";\n\nexport class BaseBuilder {\n\n    constructor(\n        private readonly getBuilder: (config: Glue42Workspaces.BuilderConfig) => ParentBuilder | WorkspaceBuilder,\n    ) { }\n\n    public wrapChildren(children: ChildDefinition[]): ChildBuilder[] {\n        return children.map((child) => {\n            if (child.type === \"window\") {\n                return child;\n            }\n\n            return this.getBuilder({ type: child.type, definition: child }) as ParentBuilder;\n        });\n    }\n\n    public add(type: \"row\" | \"column\" | \"group\", children: ChildBuilder[], definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\n        const validatedDefinition = parentDefinitionDecoder.runWithException(definition);\n\n        const childBuilder = this.getBuilder({ type, definition: validatedDefinition }) as ParentBuilder;\n\n        children.push(childBuilder);\n\n        return childBuilder;\n    }\n\n    public addWindow(children: ChildBuilder[], definition: Glue42Workspaces.WorkspaceWindowDefinition): void {\n        const validatedDefinition = swimlaneWindowDefinitionDecoder.runWithException(definition);\n\n        validatedDefinition.type = \"window\";\n\n        children.push(validatedDefinition);\n    }\n\n    public serializeChildren(children: ChildBuilder[]): ChildDefinition[] {\n        return children.map((child) => {\n            if (child instanceof ParentBuilder) {\n                return child.serialize();\n            } else {\n                return child as Glue42Workspaces.WorkspaceWindowDefinition;\n            }\n        });\n    }\n}\n","import { BaseBuilder } from \"./baseBuilder\";\nimport { ChildBuilder } from \"../types/builders\";\nimport { ParentBuilder } from \"./parentBuilder\";\nimport { workspaceBuilderCreateConfigDecoder, nonNegativeNumberDecoder } from \"../shared/decoders\";\nimport { Glue42Workspaces } from \"../../workspaces\";\nimport { WorkspacesController } from \"../types/controller\";\n\ninterface PrivateData {\n    definition: Glue42Workspaces.WorkspaceDefinition;\n    children: ChildBuilder[];\n    base: BaseBuilder;\n    controller: WorkspacesController;\n}\n\nconst privateData = new WeakMap<WorkspaceBuilder, PrivateData>();\n\nexport class WorkspaceBuilder implements WorkspaceBuilder {\n\n    constructor(\n        definition: Glue42Workspaces.WorkspaceDefinition,\n        base: BaseBuilder,\n        controller: WorkspacesController\n    ) {\n        const children = base.wrapChildren(definition.children);\n\n        delete definition.children;\n\n        privateData.set(this, { base, children, definition, controller });\n    }\n\n    public addColumn(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\n        const children = privateData.get(this).children;\n\n        const areAllColumns = children.every((child) => child instanceof ParentBuilder && child.type === \"column\");\n\n        if (!areAllColumns) {\n            throw new Error(\"Cannot add a column to this workspace, because there are already children of another type\");\n        }\n\n        const base = privateData.get(this).base;\n\n        return base.add(\"column\", children, definition);\n    }\n\n    public addRow(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\n        const children = privateData.get(this).children;\n\n        const areAllRows = children.every((child) => child instanceof ParentBuilder && child.type === \"row\");\n\n        if (!areAllRows) {\n            throw new Error(\"Cannot add a row to this workspace, because there are already children of another type\");\n        }\n\n        const base = privateData.get(this).base;\n\n        return base.add(\"row\", children, definition);\n    }\n\n    public addGroup(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\n        const children = privateData.get(this).children;\n\n        if (children.length !== 0) {\n            throw new Error(\"Cannot add a group to this workspace, because there are already defined children.\");\n        }\n\n        const base = privateData.get(this).base;\n\n        return base.add(\"group\", children, definition);\n    }\n\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): WorkspaceBuilder {\n        const children = privateData.get(this).children;\n\n        if (children.length !== 0) {\n            throw new Error(\"Cannot add a window to this workspace, because there are already defined children.\");\n        }\n\n        const base = privateData.get(this).base;\n\n        base.addWindow(children, definition);\n\n        return this;\n    }\n\n    public getChildAt(index: number): ChildBuilder {\n        nonNegativeNumberDecoder.runWithException(index);\n        const data = privateData.get(this).children;\n\n        return data[index];\n    }\n\n    public async create(config?: Glue42Workspaces.WorkspaceCreateConfig): Promise<Glue42Workspaces.Workspace> {\n        const saveConfig = workspaceBuilderCreateConfigDecoder.runWithException(config);\n\n        const definition = privateData.get(this).definition;\n        definition.children = privateData.get(this).base.serializeChildren(privateData.get(this).children);\n\n        const controller = privateData.get(this).controller;\n\n        return controller.createWorkspace(definition, saveConfig);\n    }\n}\n","import { Base } from \"./base/base\";\nimport { Glue42Workspaces } from \"../../workspaces.d\";\n\ninterface PrivateData {\n    base: Base;\n}\n\nconst privateData = new WeakMap<Row, PrivateData>();\n\nconst getBase = (model: Row): Base => {\n    return privateData.get(model).base;\n};\n\nexport class Row implements Glue42Workspaces.Row {\n\n    constructor(base: Base) {\n        privateData.set(this, { base });\n    }\n\n    public get type(): \"row\" {\n        return \"row\";\n    }\n\n    public get id(): string {\n        return getBase(this).getId(this);\n    }\n\n    public get frameId(): string {\n        return getBase(this).getFrameId(this);\n    }\n\n    public get workspaceId(): string {\n        return getBase(this).getWorkspaceId(this);\n    }\n\n    public get positionIndex(): number {\n        return getBase(this).getPositionIndex(this);\n    }\n\n    public get children(): Glue42Workspaces.WorkspaceElement[] {\n        return getBase(this).getAllChildren(this);\n    }\n    public get parent(): Glue42Workspaces.Workspace | Glue42Workspaces.WorkspaceBox {\n        return getBase(this).getMyParent(this);\n    }\n    public get frame(): Glue42Workspaces.Frame {\n        return getBase(this).getMyFrame(this);\n    }\n    public get workspace(): Glue42Workspaces.Workspace {\n        return getBase(this).getMyWorkspace(this);\n    }\n\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): Promise<Glue42Workspaces.WorkspaceWindow> {\n        return getBase(this).addWindow(this, definition, \"row\");\n    }\n\n    public async addGroup(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Group> {\n        if (definition?.type && definition.type !== \"group\") {\n            throw new Error(`Expected a group definition, but received ${definition.type}`);\n        }\n        return getBase(this).addParent<Glue42Workspaces.Group>(this, \"group\", \"row\", definition);\n    }\n\n    public async addColumn(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Column> {\n        if (definition?.type && definition.type !== \"column\") {\n            throw new Error(`Expected a column definition, but received ${definition.type}`);\n        }\n        return getBase(this).addParent<Glue42Workspaces.Column>(this, \"column\", \"row\", definition);\n    }\n\n    public async addRow(): Promise<Row> {\n        throw new Error(\"Adding rows as row children is not supported\");\n    }\n\n    public removeChild(predicate: (child: Glue42Workspaces.WorkspaceElement) => boolean): Promise<void> {\n        return getBase(this).removeChild(this, predicate);\n    }\n\n    public maximize(): Promise<void> {\n        return getBase(this).maximize(this);\n    }\n\n    public restore(): Promise<void> {\n        return getBase(this).restore(this);\n    }\n\n    public close(): Promise<void> {\n        return getBase(this).close(this);\n    }\n\n}\n","import { Base } from \"./base/base\";\nimport { Glue42Workspaces } from \"../../workspaces.d\";\n\ninterface PrivateData {\n    base: Base;\n}\n\nconst privateData = new WeakMap<Column, PrivateData>();\n\nconst getBase = (model: Column): Base => {\n    return privateData.get(model).base;\n};\n\nexport class Column implements Glue42Workspaces.Column {\n\n    constructor(base: Base) {\n        privateData.set(this, { base });\n    }\n\n    public get type(): \"column\" {\n        return \"column\";\n    }\n\n    public get id(): string {\n        return getBase(this).getId(this);\n    }\n\n    public get frameId(): string {\n        return getBase(this).getFrameId(this);\n    }\n\n    public get workspaceId(): string {\n        return getBase(this).getWorkspaceId(this);\n    }\n\n    public get positionIndex(): number {\n        return getBase(this).getPositionIndex(this);\n    }\n\n    public get children(): Glue42Workspaces.WorkspaceElement[] {\n        return getBase(this).getAllChildren(this);\n    }\n    public get parent(): Glue42Workspaces.Workspace | Glue42Workspaces.WorkspaceBox {\n        return getBase(this).getMyParent(this);\n    }\n    public get frame(): Glue42Workspaces.Frame {\n        return getBase(this).getMyFrame(this);\n    }\n    public get workspace(): Glue42Workspaces.Workspace {\n        return getBase(this).getMyWorkspace(this);\n    }\n\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): Promise<Glue42Workspaces.WorkspaceWindow> {\n        return getBase(this).addWindow(this, definition, \"column\");\n    }\n\n    public async addGroup(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Group> {\n        if (definition?.type && definition.type !== \"group\") {\n            throw new Error(`Expected a group definition, but received ${definition.type}`);\n        }\n        return getBase(this).addParent<Glue42Workspaces.Group>(this, \"group\", \"column\", definition);\n    }\n\n    public async addColumn(definition?: Glue42Workspaces.BoxDefinition): Promise<Column> {\n        throw new Error(\"Adding columns as column children is not supported\");\n        return getBase(this).addParent<Column>(this, \"column\", \"column\", definition);\n    }\n\n    public async addRow(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Row> {\n        if (definition?.type && definition.type !== \"row\") {\n            throw new Error(`Expected a row definition, but received ${definition.type}`);\n        }\n        return getBase(this).addParent<Glue42Workspaces.Row>(this, \"row\", \"column\", definition);\n    }\n\n    public removeChild(predicate: (child: Glue42Workspaces.WorkspaceElement) => boolean): Promise<void> {\n        return getBase(this).removeChild(this, predicate);\n    }\n\n    public maximize(): Promise<void> {\n        return getBase(this).maximize(this);\n    }\n\n    public restore(): Promise<void> {\n        return getBase(this).restore(this);\n    }\n\n    public close(): Promise<void> {\n        return getBase(this).close(this);\n    }\n\n}\n","import { Base } from \"./base/base\";\nimport { Glue42Workspaces } from \"../../workspaces.d\";\n\ninterface PrivateData {\n    base: Base;\n}\n\nconst privateData = new WeakMap<Group, PrivateData>();\n\nconst getBase = (model: Group): Base => {\n    return privateData.get(model).base;\n};\n\nexport class Group implements Glue42Workspaces.Group {\n\n    constructor(base: Base) {\n        privateData.set(this, { base });\n    }\n\n    public get type(): \"group\" {\n        return \"group\";\n    }\n\n    public get id(): string {\n        return getBase(this).getId(this);\n    }\n\n    public get frameId(): string {\n        return getBase(this).getFrameId(this);\n    }\n\n    public get workspaceId(): string {\n        return getBase(this).getWorkspaceId(this);\n    }\n\n    public get positionIndex(): number {\n        return getBase(this).getPositionIndex(this);\n    }\n\n    public get children(): Glue42Workspaces.WorkspaceElement[] {\n        return getBase(this).getAllChildren(this);\n    }\n    public get parent(): Glue42Workspaces.Workspace | Glue42Workspaces.WorkspaceBox {\n        return getBase(this).getMyParent(this);\n    }\n    public get frame(): Glue42Workspaces.Frame {\n        return getBase(this).getMyFrame(this);\n    }\n    public get workspace(): Glue42Workspaces.Workspace {\n        return getBase(this).getMyWorkspace(this);\n    }\n\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): Promise<Glue42Workspaces.WorkspaceWindow> {\n        return getBase(this).addWindow(this, definition, \"group\");\n    }\n\n    public async addGroup(): Promise<Group> {\n        throw new Error(\"Adding groups as group child is not supported\");\n    }\n\n    public async addColumn(): Promise<Glue42Workspaces.Column> {\n        throw new Error(\"Adding columns as group child is not supported\");\n    }\n\n    public async addRow(): Promise<Glue42Workspaces.Row> {\n        throw new Error(\"Adding rows as group child is not supported\");\n    }\n\n    public removeChild(predicate: (child: Glue42Workspaces.WorkspaceElement) => boolean): Promise<void> {\n        return getBase(this).removeChild(this, predicate);\n    }\n\n    public maximize(): Promise<void> {\n        return getBase(this).maximize(this);\n    }\n\n    public restore(): Promise<void> {\n        return getBase(this).restore(this);\n    }\n\n    public close(): Promise<void> {\n        return getBase(this).close(this);\n    }\n\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { WorkspaceSnapshotResult, WindowStreamData } from \"../types/protocol\";\nimport { checkThrowCallback, nonEmptyStringDecoder } from \"../shared/decoders\";\nimport { PrivateDataManager } from \"../shared/privateDataManager\";\nimport { FrameCreateConfig } from \"../types/ioc\";\nimport { Window } from \"./window\";\nimport { Frame } from \"./frame\";\nimport { Row } from \"./row\";\nimport { Column } from \"./column\";\nimport { Group } from \"./group\";\nimport { SubscriptionConfig } from \"../types/subscription\";\nimport { WorkspacePrivateData } from \"../types/privateData\";\nimport { Glue42Workspaces } from \"../../workspaces\";\n\ninterface PrivateData {\n    manager: PrivateDataManager;\n}\n\nconst data = new WeakMap<Workspace, PrivateData>();\n\nconst getData = (model: Workspace): WorkspacePrivateData => {\n    return data.get(model).manager.getWorkspaceData(model);\n};\n\nconst getDataManager = (model: Workspace): PrivateDataManager => {\n    return data.get(model).manager;\n};\n\nexport class Workspace implements Glue42Workspaces.Workspace {\n\n    constructor(dataManager: PrivateDataManager) {\n        data.set(this, { manager: dataManager });\n    }\n\n    public get id(): string {\n        return getData(this).id;\n    }\n\n    public get frameId(): string {\n        return getData(this).config.frameId;\n    }\n\n    public get positionIndex(): number {\n        return getData(this).config.positionIndex;\n    }\n\n    public get title(): string {\n        return getData(this).config.title;\n    }\n\n    public get layoutName(): string | undefined {\n        return getData(this).config.layoutName;\n    }\n\n    public get children(): Glue42Workspaces.WorkspaceElement[] {\n        return getData(this).children;\n    }\n\n    public get frame(): Frame {\n        return getData(this).frame;\n    }\n\n    public async removeChild(predicate: (child: Glue42Workspaces.WorkspaceElement) => boolean): Promise<void> {\n        checkThrowCallback(predicate);\n        const child = this.children.find(predicate);\n        if (!child) {\n            return;\n        }\n        await child.close();\n        await this.refreshReference();\n    }\n\n    public async remove(predicate: (child: Glue42Workspaces.WorkspaceElement) => boolean): Promise<void> {\n        checkThrowCallback(predicate);\n        const controller = getData(this).controller;\n\n        const child = controller.iterateFindChild(this.children, predicate);\n\n        await child.close();\n\n        await this.refreshReference();\n    }\n\n    public async focus(): Promise<void> {\n        await getData(this).controller.focusItem(this.id);\n        await this.refreshReference();\n    }\n\n    public async close(): Promise<void> {\n        const controller = getData(this).controller;\n\n        const workspaces = await getData(this).frame.workspaces();\n\n        const shouldCloseFrame = workspaces.length === 1 && workspaces.every((wsp) => wsp.id === this.id);\n\n        if (shouldCloseFrame) {\n            return this.frame.close();\n        }\n\n        await controller.closeItem(this.id);\n    }\n\n    public snapshot(): Promise<Glue42Workspaces.WorkspaceSnapshot> {\n        return getData(this).controller.getSnapshot(this.id, \"workspace\");\n    }\n\n    public async saveLayout(name: string, config?: { saveContext?: boolean }): Promise<void> {\n        nonEmptyStringDecoder.runWithException(name);\n        await getData(this).controller.saveLayout({name, workspaceId: this.id, saveContext: config?.saveContext});\n    }\n\n    public async setTitle(title: string): Promise<void> {\n        nonEmptyStringDecoder.runWithException(title);\n        const controller = getData(this).controller;\n\n        await controller.setItemTitle(this.id, title);\n        await this.refreshReference();\n    }\n\n    public getContext(): Promise<any> {\n        const controller = getData(this).controller;\n        return controller.getWorkspaceContext(this.id);\n    }\n\n    public setContext(data: any): Promise<void> {\n        const controller = getData(this).controller;\n        return controller.setWorkspaceContext(this.id, data);\n    }\n\n    public updateContext(data: any): Promise<void> {\n        const controller = getData(this).controller;\n        return controller.updateWorkspaceContext(this.id, data);\n    }\n\n    public onContextUpdated(callback: (data: any) => void): Promise<Glue42Workspaces.Unsubscribe> {\n        const controller = getData(this).controller;\n        return controller.subscribeWorkspaceContextUpdated(this.id, callback);\n    }\n\n    public async refreshReference(): Promise<void> {\n        const newSnapshot = (await getData(this).controller.getSnapshot(this.id, \"workspace\")) as WorkspaceSnapshotResult;\n\n        const existingChildren = newSnapshot.children.reduce<Glue42Workspaces.WorkspaceElement[]>((foundChildren, child) => {\n            let foundChild: Glue42Workspaces.WorkspaceElement;\n            if (child.type === \"window\") {\n                foundChild = this.getWindow((swimlaneWindow) => swimlaneWindow.id === child.id);\n            } else {\n                foundChild = this.getBox((parent) => parent.id === child.id);\n            }\n\n            if (foundChild) {\n                foundChildren.push(foundChild);\n            }\n\n            return foundChildren;\n        }, []);\n\n        const newChildren = getData(this).controller.refreshChildren({\n            existingChildren,\n            workspace: this,\n            parent: this,\n            children: newSnapshot.children\n        });\n\n        const currentFrame = this.frame;\n        let actualFrame: Frame;\n\n        if (currentFrame.id === newSnapshot.config.frameId) {\n            getDataManager(this).remapFrame(currentFrame, newSnapshot.frameSummary);\n            actualFrame = currentFrame;\n        } else {\n            const frameCreateConfig: FrameCreateConfig = {\n                summary: newSnapshot.frameSummary\n            };\n            const newFrame = getData(this).ioc.getModel<\"frame\">(\"frame\", frameCreateConfig);\n            actualFrame = newFrame;\n        }\n\n        getDataManager(this).remapWorkspace(this, {\n            config: newSnapshot.config,\n            children: newChildren,\n            frame: actualFrame\n        });\n    }\n\n    public getBox(predicate: (box: Glue42Workspaces.WorkspaceBox) => boolean): Glue42Workspaces.WorkspaceBox {\n        checkThrowCallback(predicate);\n        const children = getData(this).children;\n        const controller = getData(this).controller;\n\n        return controller.iterateFindChild(children, (child) => child.type !== \"window\" && predicate(child)) as Glue42Workspaces.WorkspaceBox;\n    }\n\n    public getAllBoxes(predicate?: (parent: Glue42Workspaces.WorkspaceBox) => boolean): Glue42Workspaces.WorkspaceBox[] {\n        checkThrowCallback(predicate, true);\n        const children = getData(this).children;\n        const controller = getData(this).controller;\n\n        const allParents = controller.iterateFilterChildren(children, (child) => child.type !== \"window\") as Glue42Workspaces.WorkspaceBox[];\n\n        if (!predicate) {\n            return allParents;\n        }\n\n        return allParents.filter(predicate);\n    }\n\n    public getRow(predicate: (row: Row) => boolean): Row {\n        checkThrowCallback(predicate);\n        return this.getBox((parent) => parent.type === \"row\" && predicate(parent)) as Row;\n    }\n\n    public getAllRows(predicate?: (row: Row) => boolean): Row[] {\n        checkThrowCallback(predicate, true);\n        if (predicate) {\n            return this.getAllBoxes((parent) => parent.type === \"row\" && predicate(parent)) as Row[];\n        }\n        return this.getAllBoxes((parent) => parent.type === \"row\") as Row[];\n    }\n\n    public getColumn(predicate: (column: Column) => boolean): Column {\n        checkThrowCallback(predicate);\n        return this.getBox((parent) => parent.type === \"column\" && predicate(parent)) as Column;\n    }\n\n    public getAllColumns(predicate?: (columns: Column) => boolean): Column[] {\n        checkThrowCallback(predicate, true);\n        if (predicate) {\n            return this.getAllBoxes((parent) => parent.type === \"column\" && predicate(parent)) as Column[];\n        }\n        return this.getAllBoxes((parent) => parent.type === \"column\") as Column[];\n    }\n\n    public getGroup(predicate: (group: Group) => boolean): Group {\n        checkThrowCallback(predicate);\n        return this.getBox((parent) => parent.type === \"group\" && predicate(parent)) as Group;\n    }\n\n    public getAllGroups(predicate?: (group: Group) => boolean): Group[] {\n        checkThrowCallback(predicate, true);\n        if (predicate) {\n            return this.getAllBoxes((parent) => parent.type === \"group\" && predicate(parent)) as Group[];\n        }\n        return this.getAllBoxes((parent) => parent.type === \"group\") as Group[];\n    }\n\n    public getWindow(predicate: (window: Glue42Workspaces.WorkspaceWindow) => boolean): Glue42Workspaces.WorkspaceWindow {\n        checkThrowCallback(predicate);\n        const children = getData(this).children;\n        const controller = getData(this).controller;\n\n        return controller.iterateFindChild(children, (child) => child.type === \"window\" && predicate(child)) as Window;\n    }\n\n    public getAllWindows(predicate?: (window: Glue42Workspaces.WorkspaceWindow) => boolean): Glue42Workspaces.WorkspaceWindow[] {\n        checkThrowCallback(predicate, true);\n        const children = getData(this).children;\n        const controller = getData(this).controller;\n\n        const allWindows = controller.iterateFilterChildren(children, (child) => child.type === \"window\") as Window[];\n\n        if (!predicate) {\n            return allWindows;\n        }\n\n        return allWindows.filter(predicate);\n    }\n\n    public addRow(definition?: Glue42Workspaces.BoxDefinition): Promise<Row> {\n        return getData(this).base.addParent<Row>(this, \"row\", \"workspace\", definition);\n    }\n\n    public addColumn(definition?: Glue42Workspaces.BoxDefinition): Promise<Column> {\n        return getData(this).base.addParent<Column>(this, \"column\", \"workspace\", definition);\n    }\n\n    public addGroup(definition?: Glue42Workspaces.BoxDefinition): Promise<Group> {\n        return getData(this).base.addParent<Group>(this, \"group\", \"workspace\", definition);\n    }\n\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): Promise<Glue42Workspaces.WorkspaceWindow> {\n        return getData(this).base.addWindow(this, definition, \"workspace\");\n    }\n\n    public async bundleToRow(): Promise<void> {\n        await getData(this).controller.bundleTo(\"row\", this.id);\n        await this.refreshReference();\n    }\n\n    public async bundleToColumn(): Promise<void> {\n        await getData(this).controller.bundleTo(\"column\", this.id);\n        await this.refreshReference();\n    }\n\n    public async onClosed(callback: () => void): Promise<Glue42Workspaces.Unsubscribe> {\n        checkThrowCallback(callback);\n        const id = getData(this).id;\n\n        const wrappedCallback = async (): Promise<void> => {\n            // await this.refreshReference();\n            callback();\n        };\n        const config: SubscriptionConfig = {\n            action: \"closed\",\n            eventType: \"workspace\",\n            scope: \"workspace\",\n            scopeId: id,\n            callback: wrappedCallback\n        };\n\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\n        return unsubscribe;\n    }\n\n    public async onWindowAdded(callback: (window: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> {\n        checkThrowCallback(callback);\n        const id = getData(this).id;\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\n            await this.refreshReference();\n            const windowParent = this.getBox((parent) => parent.id === payload.windowSummary.parentId);\n\n            const foundWindow = windowParent.children.find((child) => {\n\n                return child.type === \"window\" && child.positionIndex === payload.windowSummary.config.positionIndex;\n            });\n            callback(foundWindow as Window);\n        };\n\n        const config: SubscriptionConfig = {\n            action: \"added\",\n            eventType: \"window\",\n            scope: \"workspace\",\n            scopeId: id,\n            callback: wrappedCallback\n        };\n\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\n        return unsubscribe;\n    }\n\n    public async onWindowRemoved(callback: (removed: { windowId?: string; workspaceId: string; frameId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> {\n        checkThrowCallback(callback);\n        const id = getData(this).id;\n\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\n            await this.refreshReference();\n            const { windowId, workspaceId, frameId } = payload.windowSummary.config;\n            callback({ windowId, workspaceId, frameId });\n        };\n\n        const config: SubscriptionConfig = {\n            action: \"removed\",\n            eventType: \"window\",\n            scope: \"workspace\",\n            scopeId: id,\n            callback: wrappedCallback\n        };\n\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\n        return unsubscribe;\n    }\n\n    public async onWindowLoaded(callback: (window: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> {\n        checkThrowCallback(callback);\n        const id = getData(this).id;\n\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\n            await this.refreshReference();\n            const foundWindow = this.getWindow((win) => {\n                return win.id && win.id === payload.windowSummary.config.windowId;\n            });\n            callback(foundWindow);\n        };\n\n        const config: SubscriptionConfig = {\n            action: \"loaded\",\n            eventType: \"window\",\n            scope: \"workspace\",\n            scopeId: id,\n            callback: wrappedCallback\n        };\n\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\n        return unsubscribe;\n    }\n}\n","import { checkThrowCallback, nonEmptyStringDecoder } from \"../shared//decoders\";\nimport { SubscriptionConfig } from \"../types/subscription\";\nimport { PrivateDataManager } from \"../shared/privateDataManager\";\nimport { Row } from \"./row\";\nimport { Column } from \"./column\";\nimport { Group } from \"./group\";\nimport { WindowPrivateData } from \"../types/privateData\";\nimport { Glue42Workspaces } from \"../../workspaces\";\nimport { GDWindow } from \"../types/glue\";\n\ninterface PrivateData {\n    manager: PrivateDataManager;\n}\n\nconst data = new WeakMap<Window, PrivateData>();\n\nconst getData = (model: Window): WindowPrivateData => {\n    return data.get(model).manager.getWindowData(model);\n};\n\nexport class Window implements Glue42Workspaces.WorkspaceWindow {\n\n    constructor(dataManager: PrivateDataManager) {\n        data.set(this, { manager: dataManager });\n    }\n\n    public get id(): string {\n        return getData(this).config.windowId;\n    }\n\n    public get type(): \"window\" {\n        return \"window\";\n    }\n\n    public get frameId(): string {\n        return getData(this).frame.id;\n    }\n\n    public get workspaceId(): string {\n        return getData(this).workspace.id;\n    }\n\n    public get positionIndex(): number {\n        return getData(this).config.positionIndex;\n    }\n\n    public get isMaximized(): boolean {\n        return getData(this).config.isMaximized;\n    }\n\n    public get isLoaded(): boolean {\n        return getData(this).controller.checkIsWindowLoaded(this.id);\n    }\n\n    public get focused(): boolean {\n        return getData(this).config.isFocused;\n    }\n\n    public get title(): string {\n        return getData(this).config.title;\n    }\n\n    public get workspace(): Glue42Workspaces.Workspace {\n        return getData(this).workspace;\n    }\n\n    public get frame(): Glue42Workspaces.Frame {\n        return getData(this).frame;\n    }\n\n    public get parent(): Glue42Workspaces.Workspace | Glue42Workspaces.Workspace | Row | Column | Group {\n        return getData(this).parent;\n    }\n\n    public get appName(): string {\n        return getData(this).config.appName;\n    }\n\n    public async forceLoad(): Promise<void> {\n        if (this.isLoaded) {\n            return;\n        }\n        const controller = getData(this).controller;\n        const itemId = getData(this).id;\n\n        const windowId = await controller.forceLoadWindow(itemId);\n\n        getData(this).config.windowId = windowId;\n    }\n\n    public async focus(): Promise<void> {\n        const id = getData(this).id;\n        const controller = getData(this).controller;\n\n        await controller.focusItem(id);\n    }\n\n    public async close(): Promise<void> {\n\n        const id = getData(this).id;\n        const controller = getData(this).controller;\n\n        await controller.closeItem(id);\n\n        await getData(this)\n            .parent\n            .removeChild((child) => child.id === id);\n    }\n\n    public async setTitle(title: string): Promise<void> {\n        nonEmptyStringDecoder.runWithException(title);\n\n        const itemId = getData(this).id;\n        const controller = getData(this).controller;\n\n        await controller.setItemTitle(itemId, title);\n    }\n\n    public async maximize(): Promise<void> {\n        const id = getData(this).id;\n        const controller = getData(this).controller;\n\n        await controller.maximizeItem(id);\n    }\n\n    public async restore(): Promise<void> {\n        const id = getData(this).id;\n        const controller = getData(this).controller;\n\n        await controller.restoreItem(id);\n    }\n\n    public async eject(): Promise<GDWindow> {\n        if (!this.isLoaded) {\n            throw new Error(\"Cannot eject this window, because it is not loaded yet\");\n        }\n        const itemId: string = getData(this).id;\n\n        const newWindowId: string = await getData(this).controller.ejectWindow(itemId);\n\n        getData(this).config.windowId = newWindowId;\n\n        return this.getGdWindow();\n    }\n\n    public getGdWindow(): GDWindow {\n\n        if (!this.isLoaded) {\n            throw new Error(\"Cannot fetch this GD window, because the window is not yet loaded\");\n        }\n\n        const myId = getData(this).config.windowId;\n        const controller = getData(this).controller;\n\n        return controller.getGDWindow(myId);\n    }\n\n    public async moveTo(parent: Row | Column | Group): Promise<void> {\n        if (!(parent instanceof Row || parent instanceof Column || parent instanceof Group)) {\n            throw new Error(\"Cannot add to the provided parent, because the provided parent is not an instance of Row, Column or Group\");\n        }\n\n        const myId = getData(this).id;\n        const controller = getData(this).controller;\n\n        const foundParent = await controller.getParent((p) => p.id === parent.id);\n\n        if (!foundParent) {\n            throw new Error(\"Cannot move the window to the selected parent, because this parent does not exist.\");\n        }\n\n        return controller.moveWindowTo(myId, parent.id);\n    }\n\n    public async onRemoved(callback: () => void): Promise<Glue42Workspaces.Unsubscribe> {\n        checkThrowCallback(callback);\n        const id = getData(this).id;\n        const wrappedCallback = async (): Promise<void> => {\n            await this.workspace.refreshReference();\n            callback();\n        };\n        const config: SubscriptionConfig = {\n            callback: wrappedCallback,\n            action: \"removed\",\n            eventType: \"window\",\n            scope: \"window\"\n        };\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\n        return unsubscribe;\n    }\n}\n","import { checkThrowCallback, nonEmptyStringDecoder, restoreWorkspaceConfigDecoder, workspaceDefinitionDecoder, workspaceBuilderCreateConfigDecoder, resizeConfigDecoder, moveConfigDecoder } from \"../shared/decoders\";\r\nimport { SubscriptionConfig } from \"../types/subscription\";\r\nimport { PrivateDataManager } from \"../shared/privateDataManager\";\r\nimport { FrameStreamData, WorkspaceStreamData, WindowStreamData } from \"../types/protocol\";\r\nimport { Glue42Workspaces } from \"../../workspaces.d\";\r\nimport { FramePrivateData } from \"../types/privateData\";\r\n\r\ninterface PrivateData {\r\n    manager: PrivateDataManager;\r\n}\r\n\r\nconst data = new WeakMap<Frame, PrivateData>();\r\n\r\nconst getData = (model: Frame): FramePrivateData => {\r\n    return data.get(model).manager.getFrameData(model);\r\n};\r\n\r\nexport class Frame implements Glue42Workspaces.Frame {\r\n\r\n    constructor(dataManager: PrivateDataManager) {\r\n        data.set(this, { manager: dataManager });\r\n    }\r\n\r\n    public get id(): string {\r\n        return getData(this).summary.id;\r\n    }\r\n\r\n    public resize(config: Glue42Workspaces.ResizeConfig): Promise<void> {\r\n        const validatedConfig = resizeConfigDecoder.runWithException(config);\r\n        const myId = getData(this).summary.id;\r\n\r\n        return getData(this).controller.resizeItem(myId, validatedConfig);\r\n    }\r\n\r\n    public move(config: Glue42Workspaces.MoveConfig): Promise<void> {\r\n        const validatedConfig = moveConfigDecoder.runWithException(config);\r\n\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.moveFrame(myId, validatedConfig);\r\n    }\r\n\r\n    public focus(): Promise<void> {\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.focusItem(myId);\r\n    }\r\n\r\n    public async state(): Promise<Glue42Workspaces.FrameState> {\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.getFrameState(myId);\r\n    }\r\n\r\n    public async minimize(): Promise<void> {\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.changeFrameState(myId, \"minimized\");\r\n    }\r\n\r\n    public async maximize(): Promise<void> {\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.changeFrameState(myId, \"maximized\");\r\n    }\r\n\r\n    public async restore(): Promise<void> {\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.changeFrameState(myId, \"normal\");\r\n    }\r\n\r\n    public close(): Promise<void> {\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.closeItem(myId);\r\n    }\r\n\r\n    public snapshot(): Promise<Glue42Workspaces.FrameSnapshot> {\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.getSnapshot(myId, \"frame\");\r\n    }\r\n\r\n    public async workspaces(): Promise<Glue42Workspaces.Workspace[]> {\r\n        const controller = getData(this).controller;\r\n        return controller.getWorkspaces((wsp) => wsp.frameId === this.id);\r\n    }\r\n\r\n    public async restoreWorkspace(name: string, options?: Glue42Workspaces.RestoreWorkspaceConfig): Promise<Glue42Workspaces.Workspace> {\r\n        nonEmptyStringDecoder.runWithException(name);\r\n        const validatedOptions = restoreWorkspaceConfigDecoder.runWithException(options);\r\n\r\n        return getData(this).controller.restoreWorkspace(name, validatedOptions);\r\n    }\r\n\r\n    public createWorkspace(definition: Glue42Workspaces.WorkspaceDefinition, config?: Glue42Workspaces.WorkspaceCreateConfig): Promise<Glue42Workspaces.Workspace> {\r\n        const validatedDefinition = workspaceDefinitionDecoder.runWithException(definition);\r\n        const validatedConfig = workspaceBuilderCreateConfigDecoder.runWithException(config);\r\n\r\n        return getData(this).controller.createWorkspace(validatedDefinition, validatedConfig);\r\n    }\r\n\r\n    public async onClosed(callback: (closed: { frameId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (payload: FrameStreamData): void => {\r\n            callback({ frameId: payload.frameSummary.id });\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"closed\",\r\n            eventType: \"frame\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onMaximized(callback: () => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (): void => {\r\n            callback();\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"maximized\",\r\n            eventType: \"frame\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onMinimized(callback: () => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (): void => {\r\n            callback();\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"minimized\",\r\n            eventType: \"frame\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onNormal(callback: () => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (): void => {\r\n            callback();\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"normal\",\r\n            eventType: \"frame\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWorkspaceOpened(callback: (workspace: Glue42Workspaces.Workspace) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = async (payload: WorkspaceStreamData): Promise<void> => {\r\n            const workspace = await getData(this).controller.getWorkspace((wsp) => wsp.id === payload.workspaceSummary.id);\r\n            callback(workspace);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"opened\",\r\n            eventType: \"workspace\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWorkspaceSelected(callback: (workspace: Glue42Workspaces.Workspace) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = async (payload: WorkspaceStreamData): Promise<void> => {\r\n            const workspace = await getData(this).controller.getWorkspace((wsp) => wsp.id === payload.workspaceSummary.id);\r\n            callback(workspace);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"selected\",\r\n            eventType: \"workspace\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWorkspaceClosed(callback: (closed: { frameId: string; workspaceId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (payload: WorkspaceStreamData): void => {\r\n            callback({ frameId: payload.frameSummary.id, workspaceId: payload.workspaceSummary.id });\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"closed\",\r\n            eventType: \"workspace\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWindowAdded(callback: (window: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            const foundParent = await getData(this).controller.getParent((parent) => parent.id === payload.windowSummary.parentId);\r\n            const foundWindow = foundParent.children.find((child) => child.type === \"window\" && child.positionIndex === payload.windowSummary.config.positionIndex);\r\n            callback(foundWindow as Glue42Workspaces.WorkspaceWindow);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"added\",\r\n            eventType: \"window\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWindowRemoved(callback: (removed: { windowId?: string; workspaceId: string; frameId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (payload: WindowStreamData): void => {\r\n            const { windowId, workspaceId, frameId } = payload.windowSummary.config;\r\n            callback({ windowId, workspaceId, frameId });\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"removed\",\r\n            eventType: \"window\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWindowLoaded(callback: (window: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            const foundParent = await getData(this).controller.getParent((parent) => {\r\n                return parent.id === payload.windowSummary.parentId;\r\n            });\r\n            const foundWindow = foundParent.children.find((child) => child.type === \"window\" && child.positionIndex === payload.windowSummary.config.positionIndex);\r\n            callback(foundWindow as Glue42Workspaces.WorkspaceWindow);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"loaded\",\r\n            eventType: \"window\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n}\r\n","import { Row } from \"../models/row\";\nimport { Column } from \"../models/column\";\nimport { Group } from \"../models/group\";\nimport { ParentPrivateData, WorkspacePrivateData, WindowPrivateData, FramePrivateData, RemapChildData, RemapWorkspaceData } from \"../types/privateData\";\nimport { Workspace } from \"../models/workspace\";\nimport { Window } from \"../models/window\";\nimport { Frame } from \"../models/frame\";\nimport { SwimlaneWindowSnapshotConfig, ParentSnapshotConfig, FrameSummaryResult } from \"../types/protocol\";\nimport { Child } from \"../types/builders\";\n\nexport class PrivateDataManager {\n    private readonly parentsData = new WeakMap<Row | Column | Group, ParentPrivateData>();\n    private readonly workspacesData = new WeakMap<Workspace, WorkspacePrivateData>();\n    private readonly windowsData = new WeakMap<Window, WindowPrivateData>();\n    private readonly framesData = new WeakMap<Frame, FramePrivateData>();\n    // Without this collection there is no way to get a window instance before its loaded\n    // e.g addWindow returns a window however this window doesn't have a placement id needed for force load\n    private readonly windowPlacementIdData: { [key: string]: Window } = {};\n\n    public deleteData<T>(model: T): void {\n        if (model instanceof Window) {\n            const keyForDeleting =\n                Object.keys(this.windowPlacementIdData)\n                    .find((k) => this.windowPlacementIdData[k] === model);\n\n            if (keyForDeleting) {\n                delete this.windowPlacementIdData[keyForDeleting];\n            }\n\n            this.windowsData.delete(model);\n        }\n\n        if (model instanceof Workspace) {\n            this.workspacesData.delete(model);\n        }\n\n        if (model instanceof Row || model instanceof Column || model instanceof Group) {\n            this.parentsData.delete(model);\n        }\n\n        if (model instanceof Frame) {\n            this.framesData.delete(model);\n        }\n    }\n\n    public setWindowData(model: Window, data: WindowPrivateData): void {\n\n        this.windowPlacementIdData[data.id] = model;\n        this.windowsData.set(model, data);\n    }\n\n    public setWorkspaceData(model: Workspace, data: WorkspacePrivateData): void {\n        this.workspacesData.set(model, data);\n    }\n\n    public setParentData(model: Row | Column | Group, data: ParentPrivateData): void {\n        this.parentsData.set(model, data);\n    }\n\n    public setFrameData(model: Frame, data: FramePrivateData): void {\n        this.framesData.set(model, data);\n    }\n\n    public getWindowData(model: Window): WindowPrivateData {\n        return this.windowsData.get(model);\n    }\n\n    public getWindowByPlacementId(placementId: string): Window {\n        return this.windowPlacementIdData[placementId];\n    }\n\n    public getWorkspaceData(model: Workspace): WorkspacePrivateData {\n        return this.workspacesData.get(model);\n    }\n\n    public getParentData(model: Row | Column | Group): ParentPrivateData {\n        return this.parentsData.get(model);\n    }\n\n    public getFrameData(model: Frame): FramePrivateData {\n        return this.framesData.get(model);\n    }\n\n    public remapChild(model: Child, newData: RemapChildData): void {\n        if (model instanceof Window) {\n            const data = this.windowsData.get(model);\n            data.parent = newData.parent || data.parent;\n            data.config = newData.config as SwimlaneWindowSnapshotConfig || data.config;\n        }\n\n        if (model instanceof Row || model instanceof Column || model instanceof Group) {\n            const data = this.parentsData.get(model);\n            data.parent = newData.parent || data.parent;\n            data.config = newData.config as ParentSnapshotConfig || data.config;\n            data.children = newData.children || data.children;\n        }\n    }\n\n    public remapFrame(model: Frame, newData: FrameSummaryResult): void {\n        const data = this.framesData.get(model);\n        data.summary = newData;\n    }\n\n    public remapWorkspace(model: Workspace, newData: RemapWorkspaceData): void {\n        const data = this.workspacesData.get(model);\n        data.frame = newData.frame || data.frame;\n        data.config = newData.config || data.config;\n        data.children = newData.children || data.children;\n    }\n}\n","import { Workspace } from \"../workspace\";\nimport { ParentBuilder } from \"../../builders/parentBuilder\";\nimport { strictParentDefinitionDecoder, swimlaneWindowDefinitionDecoder, checkThrowCallback } from \"../../shared/decoders\";\nimport { SubParent, AllParentTypes, Child, SubParentTypes, AllParent } from \"../../types/builders\";\nimport { PrivateDataManager } from \"../../shared/privateDataManager\";\nimport { ParentPrivateData, WorkspacePrivateData } from \"../../types/privateData\";\nimport { Window } from \"../../models/window\";\nimport { Glue42Workspaces } from \"../../../workspaces\";\n\ninterface PrivateData {\n    manager: PrivateDataManager;\n}\n\nconst data = new WeakMap<Base, PrivateData>();\n\nconst getData = (base: Base, model: AllParentTypes): WorkspacePrivateData | ParentPrivateData => {\n    const manager = data.get(base).manager;\n\n    if (model instanceof Workspace) {\n        return manager.getWorkspaceData(model);\n    }\n\n    return data.get(base).manager.getParentData(model);\n};\n\nconst getWindowFromPlacementId = (base: Base, placemenId: string): Window => {\n    const manager = data.get(base).manager;\n\n    return manager.getWindowByPlacementId(placemenId);\n};\n\nexport class Base {\n    public frameId: string;\n    public workspaceId: string;\n    public positionIndex: number;\n\n    constructor(dataManager: PrivateDataManager) {\n        data.set(this, { manager: dataManager });\n    }\n\n    public getId(model: AllParentTypes): string {\n        return getData(this, model).id;\n    }\n\n    public getPositionIndex(model: AllParentTypes): number {\n        return getData(this, model).config.positionIndex;\n    }\n\n    public getWorkspaceId(model: AllParentTypes): string {\n        const privateData = getData(this, model) as ParentPrivateData;\n        return privateData.config.workspaceId || privateData.workspace.id;\n    }\n\n    public getFrameId(model: AllParentTypes): string {\n        return getData(this, model).frame.id;\n    }\n\n    public getAllChildren(model: AllParentTypes, predicate?: (child: Child) => boolean): Child[] {\n        checkThrowCallback(predicate, true);\n        const children = getData(this, model).children;\n\n        if (typeof predicate === \"undefined\") {\n            return children;\n        }\n\n        return children.filter(predicate);\n    }\n\n    public getMyParent(model: AllParentTypes): AllParentTypes {\n        if (model instanceof Workspace) {\n            return;\n        }\n        return (getData(this, model) as ParentPrivateData).parent;\n    }\n\n    public getMyFrame(model: AllParentTypes): Glue42Workspaces.Frame {\n        return getData(this, model).frame;\n    }\n\n    public getMyWorkspace(model: AllParentTypes): Workspace {\n        if (model instanceof Workspace) {\n            return;\n        }\n        return (getData(this, model) as ParentPrivateData).workspace;\n    }\n\n    public async addWindow(model: AllParentTypes, definition: Glue42Workspaces.WorkspaceWindowDefinition, parentType: AllParent): Promise<Glue42Workspaces.WorkspaceWindow> {\n        if (!definition.appName && !definition.windowId) {\n            throw new Error(\"The window definition should contain either an appName or a windowId\");\n        }\n\n        const validatedDefinition = swimlaneWindowDefinitionDecoder.runWithException(definition);\n        const controller = getData(this, model).controller;\n\n        const operationResult = await controller.add(\"window\", getData(this, model).id, parentType, validatedDefinition);\n\n        if (model instanceof Workspace) {\n            await model.refreshReference();\n            return getWindowFromPlacementId(this, operationResult.itemId);\n        }\n\n        await this.getMyWorkspace(model).refreshReference();\n\n        return getWindowFromPlacementId(this, operationResult.itemId);\n    }\n\n    public async addParent<T>(model: AllParentTypes, typeToAdd: SubParent, parentType: AllParent, definition?: Glue42Workspaces.BoxDefinition | ParentBuilder): Promise<T> {\n        const parentDefinition = this.transformDefinition(typeToAdd, definition);\n        const controller = getData(this, model).controller;\n\n        const newParentId = (await controller.add(\"container\", getData(this, model).id, parentType, parentDefinition)).itemId;\n\n        if (model instanceof Workspace) {\n            await model.refreshReference();\n            return model.getBox((parent) => parent.id === newParentId) as unknown as T;\n        }\n\n        const myWorkspace = this.getMyWorkspace(model);\n        await myWorkspace.refreshReference();\n\n        return myWorkspace.getBox((parent) => parent.id === newParentId) as unknown as T;\n    }\n\n    public async removeChild(model: AllParentTypes, predicate: (child: Child) => boolean): Promise<void> {\n        checkThrowCallback(predicate);\n        const child = this.getAllChildren(model).find(predicate);\n        if (!child) {\n            return;\n        }\n\n        await child.close();\n\n        if (model instanceof Workspace) {\n\n            await model.refreshReference();\n            return;\n        }\n\n        await this.getMyWorkspace(model).refreshReference();\n    }\n\n    public async maximize(model: AllParentTypes): Promise<void> {\n        const controller = getData(this, model).controller;\n\n        await controller.maximizeItem(getData(this, model).id);\n    }\n\n    public async restore(model: AllParentTypes): Promise<void> {\n        const controller = getData(this, model).controller;\n\n        await controller.restoreItem(getData(this, model).id);\n    }\n\n    public async close(model: SubParentTypes): Promise<void> {\n        const modelData = getData(this, model) as ParentPrivateData;\n\n        const controller = getData(this, model).controller;\n\n        await controller.closeItem(modelData.id);\n\n        if (modelData.parent instanceof Workspace) {\n            await modelData.parent.refreshReference();\n        } else {\n            await this.getMyWorkspace(modelData.parent).refreshReference();\n        }\n    }\n\n    private transformDefinition(type: \"group\" | \"row\" | \"column\", definition?: Glue42Workspaces.BoxDefinition | ParentBuilder): Glue42Workspaces.BoxDefinition {\n        let parentDefinition: Glue42Workspaces.BoxDefinition;\n\n        if (typeof definition === \"undefined\") {\n            parentDefinition = { type, children: [] };\n        } else if (definition instanceof ParentBuilder) {\n            parentDefinition = definition.serialize();\n        } else {\n            if (typeof definition.type === \"undefined\") {\n                definition.type = type;\n            }\n            parentDefinition = strictParentDefinitionDecoder.runWithException(definition);\n            parentDefinition.children = parentDefinition.children || [];\n        }\n\n        return parentDefinition;\n    }\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Workspace } from \"../models/workspace\";\r\nimport { WorkspaceSnapshotResult, WorkspaceCreateConfigProtocol, FrameSummaryResult, AddItemResult, WorkspaceSummariesResult, WorkspaceSummaryResult, SimpleWindowOperationSuccessResult, FrameSnapshotResult, SwimlaneWindowSnapshotConfig, ParentSnapshotConfig } from \"../types/protocol\";\r\nimport { OPERATIONS } from \"../communication/constants\";\r\nimport { FrameCreateConfig, WorkspaceIoCCreateConfig, WindowCreateConfig, ParentCreateConfig } from \"../types/ioc\";\r\nimport { IoC } from \"../shared/ioc\";\r\nimport { Bridge } from \"../communication/bridge\";\r\nimport { GDWindow, WindowsAPI, ContextsAPI, LayoutsAPI } from \"../types/glue\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { Frame } from \"../models/frame\";\r\nimport { RefreshChildrenConfig } from \"../types/privateData\";\r\nimport { Child } from \"../types/builders\";\r\nimport { PrivateDataManager } from \"../shared/privateDataManager\";\r\nimport { Window } from \"../models/window\";\r\nimport { UnsubscribeFunction } from \"callback-registry\";\r\n\r\nexport class BaseController {\r\n\r\n    constructor(\r\n        private readonly ioc: IoC,\r\n        private readonly windows: WindowsAPI,\r\n        private readonly contexts: ContextsAPI,\r\n        private readonly layouts: LayoutsAPI,\r\n    ) { }\r\n\r\n    private get bridge(): Bridge {\r\n        return this.ioc.bridge;\r\n    }\r\n\r\n    private get privateDataManager(): PrivateDataManager {\r\n        return this.ioc.privateDataManager;\r\n    }\r\n\r\n    public checkIsWindowLoaded(windowId: string): boolean {\r\n        return windowId && this.windows.list().some((win) => win.id === windowId);\r\n    }\r\n\r\n    public async createWorkspace(createConfig: WorkspaceCreateConfigProtocol): Promise<Workspace> {\r\n        const snapshot = await this.bridge.send<WorkspaceSnapshotResult>(OPERATIONS.createWorkspace.name, createConfig);\r\n\r\n        const frameConfig: FrameCreateConfig = {\r\n            summary: snapshot.frameSummary\r\n        };\r\n        const frame = this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n        const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n        return this.ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n    }\r\n\r\n    public async restoreWorkspace(name: string, options: Glue42Workspaces.RestoreWorkspaceConfig): Promise<Workspace> {\r\n        const snapshot = await this.bridge.send<WorkspaceSnapshotResult>(OPERATIONS.openWorkspace.name, { name, restoreOptions: options });\r\n\r\n        const frameSummary = await this.bridge.send<FrameSummaryResult>(OPERATIONS.getFrameSummary.name, { itemId: snapshot.config.frameId });\r\n\r\n        const frameConfig: FrameCreateConfig = {\r\n            summary: frameSummary\r\n        };\r\n        const frame = this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n        const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n        return this.ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n    }\r\n\r\n    public async add(type: \"container\" | \"window\", parentId: string, parentType: \"row\" | \"column\" | \"group\" | \"workspace\", definition: Glue42Workspaces.WorkspaceWindowDefinition | Glue42Workspaces.BoxDefinition): Promise<AddItemResult> {\r\n        let operationName: string;\r\n        const operationArgs = { definition, parentId, parentType };\r\n\r\n        if (type === \"window\") {\r\n            operationName = OPERATIONS.addWindow.name;\r\n        } else if (type === \"container\") {\r\n            operationName = OPERATIONS.addContainer.name;\r\n        } else {\r\n            throw new Error(`Unrecognized add type: ${type}`);\r\n        }\r\n\r\n        return await this.bridge.send<AddItemResult>(operationName, operationArgs);\r\n    }\r\n\r\n    public async getFrame(windowId: string): Promise<Frame> {\r\n        const frameSummary = await this.bridge.send<FrameSummaryResult>(OPERATIONS.getFrameSummary.name, { itemId: windowId });\r\n\r\n        const frameConfig: FrameCreateConfig = {\r\n            summary: frameSummary\r\n        };\r\n        return this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n    }\r\n\r\n    public getFrames(allFrameSummaries: FrameSummaryResult[], predicate?: (frame: Frame) => boolean): Frame[] {\r\n\r\n        return allFrameSummaries.reduce<Frame[]>((frames, frameSummary) => {\r\n\r\n            const frameConfig: FrameCreateConfig = {\r\n                summary: frameSummary\r\n            };\r\n            const frameToCheck = this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n            if (!predicate || predicate(frameToCheck)) {\r\n                frames.push(frameToCheck);\r\n            }\r\n\r\n            return frames;\r\n        }, []);\r\n    }\r\n\r\n    public getAllWorkspaceSummaries(...bridgeResults: WorkspaceSummariesResult[]): Glue42Workspaces.WorkspaceSummary[] {\r\n\r\n        const allSummaries = bridgeResults.reduce<WorkspaceSummaryResult[]>((summaries, summaryResult) => {\r\n            summaries.push(...summaryResult.summaries);\r\n            return summaries;\r\n        }, []);\r\n\r\n        return allSummaries.map<Glue42Workspaces.WorkspaceSummary>((summary) => {\r\n            return {\r\n                id: summary.id,\r\n                frameId: summary.config.frameId,\r\n                positionIndex: summary.config.positionIndex,\r\n                title: summary.config.title,\r\n                layoutName: summary.config.layoutName\r\n            };\r\n        });\r\n    }\r\n\r\n    public handleOnSaved(callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): UnsubscribeFunction {\r\n        const wrappedCallback = (layout: Glue42Workspaces.WorkspaceLayout): void => {\r\n            if (layout.type !== \"Workspace\") {\r\n                return;\r\n            }\r\n\r\n            callback(layout);\r\n        };\r\n\r\n        const addedUnSub: UnsubscribeFunction = this.layouts.onAdded(wrappedCallback);\r\n        const changedUnSub: UnsubscribeFunction = this.layouts.onChanged(wrappedCallback);\r\n\r\n        return (): void => {\r\n            addedUnSub();\r\n            changedUnSub();\r\n        };\r\n    }\r\n\r\n    public handleOnRemoved(callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): UnsubscribeFunction {\r\n        const wrappedCallback = (layout: Glue42Workspaces.WorkspaceLayout): void => {\r\n            if (layout.type !== \"Workspace\") {\r\n                return;\r\n            }\r\n\r\n            callback(layout);\r\n        };\r\n\r\n        return this.layouts.onRemoved(wrappedCallback);\r\n    }\r\n\r\n    public async fetchWorkspace(workspaceId: string): Promise<Workspace> {\r\n\r\n        const snapshot = await this.bridge.send<WorkspaceSnapshotResult>(OPERATIONS.getWorkspaceSnapshot.name, { itemId: workspaceId });\r\n\r\n        const frameConfig: FrameCreateConfig = {\r\n            summary: snapshot.frameSummary\r\n        };\r\n\r\n        const frame = this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n        const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n        return this.ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n\r\n    }\r\n\r\n    public async bundleTo(type: \"row\" | \"column\", workspaceId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.bundleWorkspace.name, { type, workspaceId });\r\n    }\r\n\r\n    public getWorkspaceContext(workspaceId: string): Promise<any> {\r\n        const contextName = `___workspace___${workspaceId}`;\r\n        return this.contexts.get(contextName);\r\n    }\r\n\r\n    public setWorkspaceContext(workspaceId: string, data: any): Promise<void> {\r\n        const contextName = `___workspace___${workspaceId}`;\r\n        return this.contexts.set(contextName, data);\r\n    }\r\n\r\n    public updateWorkspaceContext(workspaceId: string, data: any): Promise<void> {\r\n        const contextName = `___workspace___${workspaceId}`;\r\n        return this.contexts.update(contextName, data);\r\n    }\r\n\r\n    public subscribeWorkspaceContextUpdated(workspaceId: string, callback: (data: any) => void): Promise<UnsubscribeFunction> {\r\n        const contextName = `___workspace___${workspaceId}`;\r\n        return this.contexts.subscribe(contextName, callback);\r\n    }\r\n\r\n    public async restoreItem(itemId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.restoreItem.name, { itemId });\r\n    }\r\n\r\n    public async maximizeItem(itemId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.maximizeItem.name, { itemId });\r\n    }\r\n\r\n    public async focusItem(itemId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.focusItem.name, { itemId });\r\n    }\r\n\r\n    public async closeItem(itemId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.closeItem.name, { itemId });\r\n    }\r\n\r\n    public async resizeItem(itemId: string, config: Glue42Workspaces.ResizeConfig): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.resizeItem.name, Object.assign({}, { itemId }, config));\r\n    }\r\n\r\n    public async moveFrame(itemId: string, config: Glue42Workspaces.MoveConfig): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.moveFrame.name, Object.assign({}, { itemId }, config));\r\n    }\r\n\r\n    public getGDWindow(itemId: string): GDWindow {\r\n        return this.windows.list().find((gdWindow) => gdWindow.id === itemId);\r\n    }\r\n\r\n    public async forceLoadWindow(itemId: string): Promise<string> {\r\n        const controlResult = await this.bridge.send<SimpleWindowOperationSuccessResult>(OPERATIONS.forceLoadWindow.name, { itemId });\r\n\r\n        return controlResult.windowId;\r\n    }\r\n\r\n    public async ejectWindow(itemId: string): Promise<SimpleWindowOperationSuccessResult> {\r\n        return await this.bridge.send<SimpleWindowOperationSuccessResult>(OPERATIONS.ejectWindow.name, { itemId });\r\n    }\r\n\r\n    public async moveWindowTo(itemId: string, newParentId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.moveWindowTo.name, { itemId, containerId: newParentId });\r\n    }\r\n\r\n    public async getSnapshot(itemId: string, type: \"workspace\" | \"frame\"): Promise<WorkspaceSnapshotResult | FrameSnapshotResult> {\r\n        let result: WorkspaceSnapshotResult | FrameSnapshotResult;\r\n\r\n        if (type === \"workspace\") {\r\n            result = await this.bridge.send<WorkspaceSnapshotResult>(OPERATIONS.getWorkspaceSnapshot.name, { itemId });\r\n        } else if (type === \"frame\") {\r\n            result = await this.bridge.send<FrameSnapshotResult>(OPERATIONS.getFrameSnapshot.name, { itemId });\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    public async setItemTitle(itemId: string, title: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.setItemTitle.name, { itemId, title });\r\n    }\r\n\r\n    public refreshChildren(config: RefreshChildrenConfig): Child[] {\r\n        const { parent, children, existingChildren, workspace } = config;\r\n        if (parent instanceof Window) {\r\n            return;\r\n        }\r\n\r\n        const newChildren = children.map((newChildSnapshot) => {\r\n            let childToAdd = existingChildren.find((c) => c.id === newChildSnapshot.id);\r\n            const childType = newChildSnapshot.type;\r\n\r\n            if (childToAdd) {\r\n                this.privateDataManager.remapChild(childToAdd, {\r\n                    parent,\r\n                    children: [],\r\n                    config: newChildSnapshot.config\r\n                });\r\n            } else {\r\n                if (childType === \"window\") {\r\n                    const createConfig: WindowCreateConfig = {\r\n                        id: newChildSnapshot.id,\r\n                        parent,\r\n                        frame: workspace.frame,\r\n                        workspace,\r\n                        config: newChildSnapshot.config as SwimlaneWindowSnapshotConfig\r\n                    };\r\n                    childToAdd = this.ioc.getModel<\"child\">(childType, createConfig);\r\n                } else {\r\n                    const createConfig: ParentCreateConfig = {\r\n                        id: newChildSnapshot.id,\r\n                        children: [],\r\n                        parent,\r\n                        frame: workspace.frame,\r\n                        workspace,\r\n                        config: newChildSnapshot.config as ParentSnapshotConfig\r\n                    };\r\n                    childToAdd = this.ioc.getModel<\"child\">(childType, createConfig);\r\n                }\r\n\r\n            }\r\n\r\n            if (childType !== \"window\") {\r\n                this.refreshChildren({\r\n                    workspace, existingChildren,\r\n                    children: newChildSnapshot.children,\r\n                    parent: childToAdd\r\n                });\r\n            }\r\n\r\n            return childToAdd;\r\n        });\r\n\r\n        if (parent instanceof Workspace) {\r\n            return newChildren;\r\n        } else {\r\n            this.privateDataManager.remapChild(parent, { children: newChildren });\r\n            return newChildren;\r\n        }\r\n    }\r\n\r\n    public iterateFindChild(children: Child[], predicate: (child: Child) => boolean): Child {\r\n        let foundChild = children.find((child) => predicate(child));\r\n\r\n        if (foundChild) {\r\n            return foundChild;\r\n        }\r\n\r\n        children.some((child) => {\r\n            if (child instanceof Window) {\r\n                return false;\r\n            }\r\n\r\n            foundChild = this.iterateFindChild(child.children, predicate);\r\n\r\n            if (foundChild) {\r\n                return true;\r\n            }\r\n        });\r\n\r\n        return foundChild;\r\n    }\r\n\r\n    public iterateFilterChildren(children: Child[], predicate: (child: Child) => boolean): Child[] {\r\n        const foundChildren = children.filter((child) => predicate(child));\r\n\r\n        const grandChildren = children.reduce<Child[]>((innerFound, child) => {\r\n            if (child instanceof Window) {\r\n                return innerFound;\r\n            }\r\n\r\n            innerFound.push(...this.iterateFilterChildren(child.children, predicate));\r\n\r\n            return innerFound;\r\n        }, []);\r\n\r\n        foundChildren.push(...grandChildren);\r\n\r\n        return foundChildren;\r\n    }\r\n\r\n    public notifyWindowAdded(windowId: string): Promise<void> {\r\n        return new Promise((resolve) => {\r\n\r\n            const alreadyPresent: boolean = this.windows.list().some((win) => win.id === windowId);\r\n\r\n            if (alreadyPresent) {\r\n                return resolve();\r\n            }\r\n\r\n            const unsubscribe: UnsubscribeFunction = this.windows.onWindowAdded((win) => {\r\n\r\n                if (win.id !== windowId) {\r\n                    return;\r\n                }\r\n\r\n                if (unsubscribe) {\r\n                    unsubscribe();\r\n                }\r\n\r\n                resolve();\r\n            });\r\n        });\r\n    }\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Bridge } from \"../communication/bridge\";\r\nimport { IsWindowInSwimlaneResult, WorkspaceCreateConfigProtocol, WorkspaceSnapshotResult, FrameSummariesResult, WorkspaceSummariesResult, LayoutSummariesResult, ExportedLayoutsResult, FrameSnapshotResult, AddItemResult, WindowStreamData, FrameStateResult } from \"../types/protocol\";\r\nimport { OPERATIONS } from \"../communication/constants\";\r\nimport { SubscriptionConfig, WorkspaceEventType, WorkspaceEventAction } from \"../types/subscription\";\r\nimport { Workspace } from \"../models/workspace\";\r\nimport { Frame } from \"../models/frame\";\r\nimport { Child } from \"../types/builders\";\r\nimport { RefreshChildrenConfig } from \"../types/privateData\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { WorkspacesController } from \"../types/controller\";\r\nimport { GDWindow } from \"../types/glue\";\r\nimport { BaseController } from \"./base\";\r\nimport { UnsubscribeFunction } from \"callback-registry\";\r\n\r\nexport class MainController implements WorkspacesController {\r\n\r\n    constructor(\r\n        private readonly bridge: Bridge,\r\n        private readonly base: BaseController\r\n    ) { }\r\n\r\n    public checkIsWindowLoaded(windowId: string): boolean {\r\n        return this.base.checkIsWindowLoaded(windowId);\r\n    }\r\n\r\n    public async checkIsInSwimlane(windowId: string): Promise<boolean> {\r\n\r\n        const controlResult = await this.bridge.send<IsWindowInSwimlaneResult>(OPERATIONS.isWindowInWorkspace.name, { itemId: windowId });\r\n\r\n        return controlResult.inWorkspace;\r\n    }\r\n\r\n    public async createWorkspace(definition: Glue42Workspaces.WorkspaceDefinition, saveConfig?: Glue42Workspaces.WorkspaceCreateConfig): Promise<Workspace> {\r\n        const createConfig: WorkspaceCreateConfigProtocol = Object.assign({}, definition, { saveConfig });\r\n\r\n        return await this.base.createWorkspace(createConfig);\r\n    }\r\n\r\n    public async restoreWorkspace(name: string, options?: Glue42Workspaces.RestoreWorkspaceConfig): Promise<Workspace> {\r\n        const allLayouts = await this.getLayoutSummaries();\r\n\r\n        const layoutExists = allLayouts.some((summary) => summary.name === name);\r\n\r\n        if (!layoutExists) {\r\n            throw new Error(`This layout: ${name} cannot be restored, because it doesn't exist.`);\r\n        }\r\n\r\n        if (options?.frameId) {\r\n            const allFrameSummaries = await this.bridge.send<FrameSummariesResult>(OPERATIONS.getAllFramesSummaries.name);\r\n\r\n            const foundMatchingFrame = allFrameSummaries.summaries.some((summary) => summary.id === options.frameId);\r\n\r\n            if (!foundMatchingFrame) {\r\n                throw new Error(`Cannot reuse the frame with id: ${options.frameId}, because there is no frame with that ID found`);\r\n            }\r\n        }\r\n\r\n        return await this.base.restoreWorkspace(name, options);\r\n    }\r\n\r\n    public async add(type: \"container\" | \"window\", parentId: string, parentType: \"row\" | \"column\" | \"group\" | \"workspace\", definition: Glue42Workspaces.WorkspaceWindowDefinition | Glue42Workspaces.BoxDefinition): Promise<AddItemResult> {\r\n        return await this.base.add(type, parentId, parentType, definition);\r\n    }\r\n\r\n    public processLocalSubscription(config: SubscriptionConfig, levelId: string): Promise<Glue42Workspaces.Unsubscribe> {\r\n        return window.glue42gd ?\r\n            this.handleEnterpriseLocalSubscription(config, levelId) :\r\n            this.handleCoreLocalSubscription(config, levelId);\r\n    }\r\n\r\n    public processGlobalSubscription(callback: (callbackData: unknown) => void, eventType: WorkspaceEventType, action: WorkspaceEventAction): Promise<Glue42Workspaces.Unsubscribe> {\r\n        return window.glue42gd ?\r\n            this.handleEnterpriseGlobalSubscription(callback, eventType, action) :\r\n            this.handleCoreGlobalSubscription(callback, eventType, action);\r\n    }\r\n\r\n    public async getFrame(selector: { windowId?: string; predicate?: (frame: Frame) => boolean }): Promise<Frame> {\r\n\r\n        if (selector.windowId) {\r\n            return await this.base.getFrame(selector.windowId);\r\n        }\r\n\r\n        if (selector.predicate) {\r\n            return (await this.getFrames(selector.predicate))[0];\r\n        }\r\n\r\n        throw new Error(`The provided selector is not valid: ${JSON.stringify(selector)}`);\r\n    }\r\n\r\n    public async getFrames(predicate?: (frame: Frame) => boolean): Promise<Frame[]> {\r\n\r\n        const allFrameSummaries = await this.bridge.send<FrameSummariesResult>(OPERATIONS.getAllFramesSummaries.name);\r\n\r\n        return this.base.getFrames(allFrameSummaries.summaries, predicate);\r\n    }\r\n\r\n    public async getWorkspace(predicate: (workspace: Workspace) => boolean): Promise<Workspace> {\r\n        let foundWorkspace: Workspace;\r\n\r\n        await this.iterateWorkspaces((wsp, end) => {\r\n            if (predicate(wsp)) {\r\n                foundWorkspace = wsp;\r\n                end();\r\n            }\r\n        });\r\n\r\n        return foundWorkspace;\r\n    }\r\n\r\n    public async getWorkspaces(predicate?: (workspace: Workspace) => boolean): Promise<Workspace[]> {\r\n        const matchingWorkspaces: Workspace[] = [] as Workspace[];\r\n\r\n        await this.iterateWorkspaces((wsp) => {\r\n            if (!predicate || predicate(wsp)) {\r\n                matchingWorkspaces.push(wsp);\r\n            }\r\n        });\r\n\r\n        return matchingWorkspaces;\r\n    }\r\n\r\n    public async getAllWorkspaceSummaries(): Promise<Glue42Workspaces.WorkspaceSummary[]> {\r\n\r\n        const allSummariesResult = await this.bridge.send<WorkspaceSummariesResult>(OPERATIONS.getAllWorkspacesSummaries.name, {});\r\n\r\n        return this.base.getAllWorkspaceSummaries(allSummariesResult);\r\n    }\r\n\r\n    public async getWindow(predicate: (swimlaneWindow: Glue42Workspaces.WorkspaceWindow) => boolean): Promise<Glue42Workspaces.WorkspaceWindow> {\r\n        let resultWindow: Glue42Workspaces.WorkspaceWindow;\r\n\r\n        await this.iterateWorkspaces((wsp, end) => {\r\n            const foundWindow = wsp.getWindow(predicate);\r\n\r\n            if (foundWindow) {\r\n                resultWindow = foundWindow;\r\n                end();\r\n            }\r\n        });\r\n\r\n        return resultWindow;\r\n    }\r\n\r\n    public async getParent(predicate: (parent: Glue42Workspaces.WorkspaceBox) => boolean): Promise<Glue42Workspaces.WorkspaceBox> {\r\n        let resultParent: Glue42Workspaces.WorkspaceBox;\r\n\r\n        await this.iterateWorkspaces((wsp, end) => {\r\n\r\n            const foundParent = wsp.getBox(predicate);\r\n\r\n            if (foundParent) {\r\n                resultParent = foundParent;\r\n                end();\r\n            }\r\n        });\r\n\r\n        return resultParent;\r\n    }\r\n\r\n    public async getLayoutSummaries(): Promise<Glue42Workspaces.WorkspaceLayoutSummary[]> {\r\n        const allLayouts = await this.bridge.send<LayoutSummariesResult>(OPERATIONS.getAllLayoutsSummaries.name);\r\n        return allLayouts.summaries;\r\n    }\r\n\r\n    public async deleteLayout(name: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.deleteLayout.name, { name });\r\n    }\r\n\r\n    public async exportLayout(predicate?: (layout: Glue42Workspaces.WorkspaceLayout) => boolean): Promise<Glue42Workspaces.WorkspaceLayout[]> {\r\n        const allLayoutsResult = await this.bridge.send<ExportedLayoutsResult>(OPERATIONS.exportAllLayouts.name);\r\n        return allLayoutsResult.layouts.reduce<Glue42Workspaces.WorkspaceLayout[]>((matchingLayouts, layout) => {\r\n\r\n            if (!predicate || predicate(layout)) {\r\n                matchingLayouts.push(layout);\r\n            }\r\n\r\n            return matchingLayouts;\r\n        }, []);\r\n    }\r\n\r\n    public async saveLayout(config: Glue42Workspaces.WorkspaceLayoutSaveConfig): Promise<Glue42Workspaces.WorkspaceLayout> {\r\n        return await this.bridge.send(OPERATIONS.saveLayout.name, config);\r\n    }\r\n\r\n    public async importLayout(layouts: Glue42Workspaces.WorkspaceLayout[]): Promise<void> {\r\n        await Promise.all(layouts.map((layout) => this.bridge.send(OPERATIONS.importLayout.name, layout)));\r\n    }\r\n\r\n    public handleOnSaved(callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): UnsubscribeFunction {\r\n        return this.base.handleOnSaved(callback);\r\n    }\r\n\r\n    public handleOnRemoved(callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): UnsubscribeFunction {\r\n        return this.base.handleOnRemoved(callback);\r\n    }\r\n\r\n    public async bundleTo(type: \"row\" | \"column\", workspaceId: string): Promise<void> {\r\n        return await this.base.bundleTo(type, workspaceId);\r\n    }\r\n\r\n    public getWorkspaceContext(workspaceId: string): Promise<any> {\r\n        return this.base.getWorkspaceContext(workspaceId);\r\n    }\r\n\r\n    public setWorkspaceContext(workspaceId: string, data: any): Promise<void> {\r\n        return this.base.setWorkspaceContext(workspaceId, data);\r\n    }\r\n\r\n    public updateWorkspaceContext(workspaceId: string, data: any): Promise<void> {\r\n        return this.base.updateWorkspaceContext(workspaceId, data);\r\n    }\r\n\r\n    public subscribeWorkspaceContextUpdated(workspaceId: string, callback: (data: any) => void): Promise<import(\"callback-registry\").UnsubscribeFunction> {\r\n        return this.base.subscribeWorkspaceContextUpdated(workspaceId, callback);\r\n    }\r\n\r\n    public async restoreItem(itemId: string): Promise<void> {\r\n        return await this.base.restoreItem(itemId);\r\n    }\r\n\r\n    public async maximizeItem(itemId: string): Promise<void> {\r\n        return await this.base.maximizeItem(itemId);\r\n    }\r\n\r\n    public async focusItem(itemId: string): Promise<void> {\r\n        return await this.base.focusItem(itemId);\r\n    }\r\n\r\n    public async changeFrameState(frameId: string, state: Glue42Workspaces.FrameState): Promise<void> {\r\n        await this.bridge.send<void>(OPERATIONS.changeFrameState.name, { frameId, requestedState: state });\r\n    }\r\n\r\n    public async getFrameState(frameId: string): Promise<Glue42Workspaces.FrameState> {\r\n        const frameResult = await this.bridge.send<FrameStateResult>(OPERATIONS.getFrameState.name, { itemId: frameId });\r\n        return frameResult.state;\r\n    }\r\n\r\n    public async closeItem(itemId: string): Promise<void> {\r\n        return await this.base.closeItem(itemId);\r\n    }\r\n\r\n    public async resizeItem(itemId: string, config: Glue42Workspaces.ResizeConfig): Promise<void> {\r\n        return await this.base.resizeItem(itemId, config);\r\n    }\r\n\r\n    public async moveFrame(itemId: string, config: Glue42Workspaces.MoveConfig): Promise<void> {\r\n        return await this.base.moveFrame(itemId, config);\r\n    }\r\n\r\n    public getGDWindow(itemId: string): GDWindow {\r\n        return this.base.getGDWindow(itemId);\r\n    }\r\n\r\n    public async forceLoadWindow(itemId: string): Promise<string> {\r\n        const windowId = await this.base.forceLoadWindow(itemId);\r\n\r\n        await this.base.notifyWindowAdded(windowId);\r\n\r\n        return windowId;\r\n    }\r\n\r\n    public async ejectWindow(itemId: string): Promise<string> {\r\n        const windowId: string = (await this.base.ejectWindow(itemId)).windowId;\r\n\r\n        await this.base.notifyWindowAdded(windowId);\r\n\r\n        return windowId;\r\n    }\r\n\r\n    public async moveWindowTo(itemId: string, newParentId: string): Promise<void> {\r\n        return await this.base.moveWindowTo(itemId, newParentId);\r\n    }\r\n\r\n    public async getSnapshot(itemId: string, type: \"workspace\" | \"frame\"): Promise<WorkspaceSnapshotResult | FrameSnapshotResult> {\r\n        return await this.base.getSnapshot(itemId, type);\r\n    }\r\n\r\n    public async setItemTitle(itemId: string, title: string): Promise<void> {\r\n        return await this.base.setItemTitle(itemId, title);\r\n    }\r\n\r\n    public refreshChildren(config: RefreshChildrenConfig): Child[] {\r\n        return this.base.refreshChildren(config);\r\n    }\r\n\r\n    public iterateFindChild(children: Child[], predicate: (child: Child) => boolean): Child {\r\n        return this.base.iterateFindChild(children, predicate);\r\n    }\r\n\r\n    public iterateFilterChildren(children: Child[], predicate: (child: Child) => boolean): Child[] {\r\n        return this.base.iterateFilterChildren(children, predicate);\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    private async handleCoreLocalSubscription(config: SubscriptionConfig, levelId: string): Promise<Glue42Workspaces.Unsubscribe> {\r\n        // todo\r\n        // await this.bridge.createCoreEventMethod();\r\n\r\n        // config.scopeId = config.scopeId || levelId;\r\n\r\n        // if (config.eventType === \"window\" && config.action === \"loaded\") {\r\n        //     const originalCB = config.callback;\r\n\r\n        //     const wrappedCB = async (callbackData: WindowStreamData): Promise<void> => {\r\n\r\n        //         await this.base.notifyWindowAdded(callbackData.windowSummary.config.windowId);\r\n\r\n        //         originalCB(callbackData);\r\n        //     };\r\n\r\n        //     config.callback = wrappedCB;\r\n        // }\r\n\r\n        // return this.bridge.handleCoreSubscription(config);\r\n        return {} as Glue42Workspaces.Unsubscribe;\r\n    }\r\n\r\n    private handleEnterpriseLocalSubscription(config: SubscriptionConfig, levelId: string): Promise<Glue42Workspaces.Unsubscribe> {\r\n        config.scopeId = config.scopeId || levelId;\r\n\r\n        if (config.eventType === \"window\" && config.action === \"loaded\") {\r\n            const originalCB = config.callback;\r\n\r\n            const wrappedCB = async (callbackData: WindowStreamData): Promise<void> => {\r\n                await this.base.notifyWindowAdded(callbackData.windowSummary.config.windowId);\r\n                originalCB(callbackData);\r\n            };\r\n\r\n            config.callback = wrappedCB;\r\n        }\r\n\r\n        return this.bridge.subscribe(config);\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    private async handleCoreGlobalSubscription(callback: (callbackData: unknown) => void, eventType: WorkspaceEventType, action: WorkspaceEventAction): Promise<Glue42Workspaces.Unsubscribe> {\r\n        // await this.bridge.createCoreEventMethod();\r\n\r\n        // const config: SubscriptionConfig = {\r\n        //     eventType, callback, action,\r\n        //     scope: \"global\",\r\n        // };\r\n\r\n        // if (eventType === \"window\" && action === \"loaded\") {\r\n        //     const wrappedCB = async (callbackData: WindowStreamData): Promise<void> => {\r\n\r\n        //         await this.base.notifyWindowAdded(callbackData.windowSummary.config.windowId);\r\n\r\n        //         callback(callbackData);\r\n        //     };\r\n\r\n        //     config.callback = wrappedCB;\r\n        // }\r\n\r\n        // return this.bridge.handleCoreSubscription(config);\r\n        return {} as Glue42Workspaces.Unsubscribe;\r\n    }\r\n\r\n    private handleEnterpriseGlobalSubscription(callback: (callbackData: unknown) => void, eventType: WorkspaceEventType, action: WorkspaceEventAction): Promise<Glue42Workspaces.Unsubscribe> {\r\n        const config: SubscriptionConfig = {\r\n            eventType, callback, action,\r\n            scope: \"global\",\r\n        };\r\n\r\n        if (eventType === \"window\" && action === \"loaded\") {\r\n            const wrappedCB = async (callbackData: WindowStreamData): Promise<void> => {\r\n\r\n                await this.base.notifyWindowAdded(callbackData.windowSummary.config.windowId);\r\n\r\n                callback(callbackData);\r\n            };\r\n\r\n            config.callback = wrappedCB;\r\n        }\r\n\r\n        return this.bridge.subscribe(config);\r\n    }\r\n\r\n    private async iterateWorkspaces(callback: (workspace: Workspace, end: () => void) => void): Promise<void> {\r\n        let ended = false;\r\n\r\n        const end = (): void => { ended = true; };\r\n\r\n        const workspaceSummaries = await this.getAllWorkspaceSummaries();\r\n\r\n        for (const summary of workspaceSummaries) {\r\n            if (ended) {\r\n                return;\r\n            }\r\n\r\n            const wsp = await this.base.fetchWorkspace(summary.id);\r\n\r\n            callback(wsp, end);\r\n        }\r\n    }\r\n}\r\n","import { WebWindowModel } from \"../windows/webWindow\";\r\nimport { LibController, LibDomains } from \"./types\";\r\nimport { WindowsController } from \"../windows/controller\";\r\nimport { Glue42Core } from \"@glue42/core\";\r\nimport { GlueBridge } from \"../communication/bridge\";\r\nimport { AppManagerController } from \"../appManager/controller\";\r\nimport { WindowProjection } from \"../windows/protocol\";\r\nimport { ApplicationData, InstanceData } from \"../appManager/protocol\";\r\nimport { Glue42Web } from \"../../web\";\r\nimport { InstanceModel } from \"../appManager/instance\";\r\nimport { ApplicationModel } from \"../appManager/application\";\r\nimport { LayoutsController } from \"../layouts/controller\";\r\n\r\n\r\nexport class IoC {\r\n    private _windowsControllerInstance!: WindowsController;\r\n    private _appManagerControllerInstance!: AppManagerController;\r\n    private _layoutsControllerInstance!: LayoutsController;\r\n    private _bridgeInstance!: GlueBridge;\r\n\r\n    public controllers: { [key in LibDomains]: LibController } = {\r\n        windows: this.windowsController,\r\n        appManager: this.appManagerController,\r\n        layouts: this.layoutsController\r\n    }\r\n\r\n    constructor(private readonly coreGlue: Glue42Core.GlueCore) { }\r\n\r\n    public get windowsController(): WindowsController {\r\n        if (!this._windowsControllerInstance) {\r\n            this._windowsControllerInstance = new WindowsController();\r\n        }\r\n\r\n        return this._windowsControllerInstance;\r\n    }\r\n\r\n    public get appManagerController(): AppManagerController {\r\n        if (!this._appManagerControllerInstance) {\r\n            this._appManagerControllerInstance = new AppManagerController();\r\n        }\r\n\r\n        return this._appManagerControllerInstance;\r\n    }\r\n\r\n    public get layoutsController(): LayoutsController {\r\n        if (!this._layoutsControllerInstance) {\r\n            this._layoutsControllerInstance = new LayoutsController();\r\n        }\r\n\r\n        return this._layoutsControllerInstance;\r\n    }\r\n\r\n    public get bridge(): GlueBridge {\r\n        if (!this._bridgeInstance) {\r\n            this._bridgeInstance = new GlueBridge(this.coreGlue);\r\n        }\r\n\r\n        return this._bridgeInstance;\r\n    }\r\n\r\n    public async buildWebWindow(id: string, name: string): Promise<WindowProjection> {\r\n\r\n        const model = new WebWindowModel(id, name, this.bridge);\r\n\r\n        const api = await model.toApi();\r\n\r\n        return { id, model, api };\r\n    }\r\n\r\n    public async buildApplication(app: ApplicationData): Promise<Glue42Web.AppManager.Application> {\r\n\r\n        const application = (new ApplicationModel(app, [], this.appManagerController)).toApi();\r\n\r\n        const instances = app.instances.map((instanceData) => this.buildInstance(instanceData, application));\r\n\r\n        application.instances.push(...instances);\r\n\r\n        return application;\r\n    }\r\n\r\n    public buildInstance(instanceData: InstanceData, app: Glue42Web.AppManager.Application): Glue42Web.AppManager.Instance {\r\n        return (new InstanceModel(instanceData, this.bridge, app)).toApi();\r\n    }\r\n}","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { IoC } from \"./shared/ioc\";\nimport { checkThrowCallback, nonEmptyStringDecoder, workspaceLayoutDecoder, workspaceDefinitionDecoder, workspaceBuilderCreateConfigDecoder, builderConfigDecoder, restoreWorkspaceConfigDecoder, workspaceLayoutSaveConfigDecoder } from \"./shared/decoders\";\nimport { FrameStreamData, WorkspaceStreamData, WorkspaceSnapshotResult, WindowStreamData } from \"./types/protocol\";\nimport { FrameCreateConfig, WorkspaceIoCCreateConfig } from \"./types/ioc\";\nimport { Glue42Workspaces } from \"./../workspaces\";\nimport { WorkspacesController } from \"./types/controller\";\n\nexport const composeAPI = (glue: any, ioc: IoC): Glue42Workspaces.API => {\n\n    const controller: WorkspacesController = ioc.controller;\n\n    const inWorkspace = (): Promise<boolean> => {\n        const myId: string = glue.windows.my().id;\n\n        if (!myId) {\n            throw new Error(\"Cannot get my frame, because my id is undefined.\");\n        }\n\n        return controller.checkIsInSwimlane(myId);\n    };\n\n    const getBuilder = (config: Glue42Workspaces.BuilderConfig): Glue42Workspaces.WorkspaceBuilder | Glue42Workspaces.BoxBuilder => {\n        const validatedConfig = builderConfigDecoder.runWithException(config);\n\n        return ioc.getBuilder(validatedConfig);\n    };\n\n    const getMyFrame = async (): Promise<Glue42Workspaces.Frame> => {\n        const windowId: string = glue.windows.my().id;\n\n        if (!windowId) {\n            throw new Error(\"Cannot get my frame, because my id is undefined.\");\n        }\n\n        const isInSwimlane = await controller.checkIsInSwimlane(windowId);\n\n        if (!isInSwimlane) {\n            throw new Error(\"Cannot fetch your frame, because this window is not in a workspace\");\n        }\n\n        return controller.getFrame({ windowId });\n    };\n\n    const getFrame = async (predicate: (frame: Glue42Workspaces.Frame) => boolean): Promise<Glue42Workspaces.Frame> => {\n        checkThrowCallback(predicate);\n\n        return controller.getFrame({ predicate });\n    };\n\n    const getAllFrames = async (predicate?: (frame: Glue42Workspaces.Frame) => boolean): Promise<Glue42Workspaces.Frame[]> => {\n        checkThrowCallback(predicate, true);\n\n        return controller.getFrames(predicate);\n    };\n\n    const getAllWorkspacesSummaries = (): Promise<Glue42Workspaces.WorkspaceSummary[]> => {\n        return controller.getAllWorkspaceSummaries();\n    };\n\n    const getMyWorkspace = async (): Promise<Glue42Workspaces.Workspace> => {\n        const myId: string = glue.windows.my().id;\n\n        if (!myId) {\n            throw new Error(\"Cannot get my workspace, because my id is undefined.\");\n        }\n\n        const isInSwimlane = await controller.checkIsInSwimlane(myId);\n\n        if (!isInSwimlane) {\n            throw new Error(\"Cannot fetch your workspace, because this window is not in a workspace\");\n        }\n\n        return (await controller.getWorkspaces((wsp) => !!wsp.getWindow((w) => w.id === myId)))[0];\n    };\n\n    const getWorkspace = async (predicate: (workspace: Glue42Workspaces.Workspace) => boolean): Promise<Glue42Workspaces.Workspace> => {\n        checkThrowCallback(predicate);\n        return (await controller.getWorkspaces(predicate))[0];\n    };\n\n    const getAllWorkspaces = (predicate?: (workspace: Glue42Workspaces.Workspace) => boolean): Promise<Glue42Workspaces.Workspace[]> => {\n        checkThrowCallback(predicate, true);\n        return controller.getWorkspaces(predicate);\n    };\n\n    const getWindow = async (predicate: (swimlaneWindow: Glue42Workspaces.WorkspaceWindow) => boolean): Promise<Glue42Workspaces.WorkspaceWindow> => {\n        checkThrowCallback(predicate);\n        return controller.getWindow(predicate);\n    };\n\n    const getParent = async (predicate: (parent: Glue42Workspaces.WorkspaceBox) => boolean): Promise<Glue42Workspaces.WorkspaceBox> => {\n        checkThrowCallback(predicate);\n        return controller.getParent(predicate);\n    };\n\n    const restoreWorkspace = async (name: string, options?: Glue42Workspaces.RestoreWorkspaceConfig): Promise<Glue42Workspaces.Workspace> => {\n        nonEmptyStringDecoder.runWithException(name);\n        const validatedOptions = restoreWorkspaceConfigDecoder.runWithException(options);\n        return controller.restoreWorkspace(name, validatedOptions);\n    };\n\n    const createWorkspace = async (definition: Glue42Workspaces.WorkspaceDefinition, saveConfig?: Glue42Workspaces.WorkspaceCreateConfig): Promise<Glue42Workspaces.Workspace> => {\n        const validatedDefinition = workspaceDefinitionDecoder.runWithException(definition);\n        const validatedConfig = workspaceBuilderCreateConfigDecoder.runWithException(saveConfig);\n\n        return controller.createWorkspace(validatedDefinition, validatedConfig);\n    };\n\n    const layouts = {\n        getSummaries: (): Promise<Glue42Workspaces.WorkspaceLayoutSummary[]> => {\n            return controller.getLayoutSummaries();\n        },\n        delete: async (name: string): Promise<void> => {\n            nonEmptyStringDecoder.runWithException(name);\n            return controller.deleteLayout(name);\n        },\n        export: async (predicate?: (layout: Glue42Workspaces.WorkspaceLayout) => boolean): Promise<Glue42Workspaces.WorkspaceLayout[]> => {\n            checkThrowCallback(predicate, true);\n            return controller.exportLayout(predicate);\n        },\n        import: async (layouts: Glue42Workspaces.WorkspaceLayout[]): Promise<void> => {\n\n            if (!Array.isArray(layouts)) {\n                throw new Error(`The provided layouts argument is not an array: ${JSON.stringify(layouts)}`);\n            }\n\n            layouts.forEach((layout) => workspaceLayoutDecoder.runWithException(layout));\n            return controller.importLayout(layouts);\n        },\n        save: async (config: Glue42Workspaces.WorkspaceLayoutSaveConfig): Promise<Glue42Workspaces.WorkspaceLayout> => {\n            const verifiedConfig = workspaceLayoutSaveConfigDecoder.runWithException(config);\n            return controller.saveLayout(verifiedConfig);\n        },\n        onSaved: async (callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): Promise<Glue42Workspaces.Unsubscribe> => {\n            checkThrowCallback(callback);\n\n            return controller.handleOnSaved(callback);\n        },\n        onRemoved: async (callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): Promise<Glue42Workspaces.Unsubscribe> => {\n            checkThrowCallback(callback);\n\n            return controller.handleOnRemoved(callback);\n        }\n    };\n\n    const onFrameOpened = async (callback: (frame: Glue42Workspaces.Frame) => void): Promise<Glue42Workspaces.Unsubscribe> => {\n        checkThrowCallback(callback);\n\n        const wrappedCallback = (payload: FrameStreamData): void => {\n            const frameConfig: FrameCreateConfig = {\n                summary: payload.frameSummary\n            };\n            const frame = ioc.getModel<\"frame\">(\"frame\", frameConfig);\n            callback(frame);\n        };\n\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"frame\", \"opened\");\n        return unsubscribe;\n    };\n\n    const onFrameClosed = async (callback: (closed: { frameId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> => {\n        checkThrowCallback(callback);\n        const wrappedCallback = (payload: FrameStreamData): void => {\n            callback({ frameId: payload.frameSummary.id });\n        };\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"frame\", \"closed\");\n        return unsubscribe;\n    };\n\n    const onWorkspaceOpened = async (callback: (workspace: Glue42Workspaces.Workspace) => void): Promise<Glue42Workspaces.Unsubscribe> => {\n\n        checkThrowCallback(callback);\n        const wrappedCallback = async (payload: WorkspaceStreamData): Promise<void> => {\n            const frameConfig: FrameCreateConfig = {\n                summary: payload.frameSummary\n            };\n            const frame = ioc.getModel<\"frame\">(\"frame\", frameConfig);\n\n            const snapshot = (await controller.getSnapshot(payload.workspaceSummary.id, \"workspace\")) as WorkspaceSnapshotResult;\n\n            const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\n\n            const workspace = ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\n\n            callback(workspace);\n        };\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"workspace\", \"opened\");\n        return unsubscribe;\n    };\n\n    const onWorkspaceClosed = async (callback: (closed: { frameId: string; workspaceId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> => {\n        checkThrowCallback(callback);\n\n        const wrappedCallback = (payload: WorkspaceStreamData): void => {\n            callback({ frameId: payload.frameSummary.id, workspaceId: payload.workspaceSummary.id });\n        };\n\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"workspace\", \"closed\");\n        return unsubscribe;\n    };\n\n    const onWindowAdded = async (callback: (swimlaneWindow: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> => {\n        checkThrowCallback(callback);\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\n            const snapshot = (await controller.getSnapshot(payload.windowSummary.config.workspaceId, \"workspace\")) as WorkspaceSnapshotResult;\n\n            const frameConfig: FrameCreateConfig = {\n                summary: snapshot.frameSummary\n            };\n            const frame = ioc.getModel<\"frame\">(\"frame\", frameConfig);\n\n            const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\n\n            const workspace = ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\n\n            const windowParent = workspace.getBox((parent) => parent.id === payload.windowSummary.parentId);\n            const foundWindow = windowParent.children.find((child) => child.type === \"window\" && child.positionIndex === payload.windowSummary.config.positionIndex);\n\n            callback(foundWindow as Glue42Workspaces.WorkspaceWindow);\n        };\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"window\", \"added\");\n        return unsubscribe;\n    };\n\n    const onWindowLoaded = async (callback: (swimlaneWindow: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> => {\n        checkThrowCallback(callback);\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\n            const snapshot = (await controller.getSnapshot(payload.windowSummary.config.workspaceId, \"workspace\")) as WorkspaceSnapshotResult;\n\n            const frameConfig: FrameCreateConfig = {\n                summary: snapshot.frameSummary\n            };\n            const frame = ioc.getModel<\"frame\">(\"frame\", frameConfig);\n\n            const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\n\n            const workspace = ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\n\n            const foundWindow = workspace.getWindow((win) => win.id && win.id === payload.windowSummary.config.windowId);\n\n            callback(foundWindow);\n        };\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"window\", \"loaded\");\n        return unsubscribe;\n    };\n\n    const onWindowRemoved = async (callback: (removed: { windowId: string; workspaceId: string; frameId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> => {\n        checkThrowCallback(callback);\n        const wrappedCallback = (payload: WindowStreamData): void => {\n            const { windowId, workspaceId, frameId } = payload.windowSummary.config;\n            callback({ windowId, workspaceId, frameId });\n        };\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"window\", \"removed\");\n        return unsubscribe;\n    };\n\n    return {\n        inWorkspace,\n        getBuilder,\n        getMyFrame,\n        getFrame,\n        getAllFrames,\n        getAllWorkspacesSummaries,\n        getMyWorkspace,\n        getWorkspace,\n        getAllWorkspaces,\n        getWindow,\n        getBox: getParent,\n        restoreWorkspace,\n        createWorkspace,\n        layouts,\n        onFrameOpened,\n        onFrameClosed,\n        onWorkspaceOpened,\n        onWorkspaceClosed,\n        onWindowAdded,\n        onWindowLoaded,\n        onWindowRemoved,\n    };\n};\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\n\r\nimport { createFactoryFunction } from \"./web\";\r\nimport createGlueCore from \"@glue42/core\";\r\nimport { version } from \"../package.json\";\r\n\r\nconst glueWebFactory = createFactoryFunction(createGlueCore);\r\n\r\n// attach to window object\r\nif (typeof window !== \"undefined\") {\r\n    const windowAny = window as any;\r\n    windowAny.GlueWeb = glueWebFactory;\r\n    delete windowAny.GlueCore;\r\n}\r\n\r\n(glueWebFactory as any).version = version;\r\n\r\nexport default glueWebFactory;\r\n","/**\r\n * A collection of shims that provide minimal functionality of the ES6 collections.\r\n *\r\n * These implementations are not meant to be used outside of the ResizeObserver\r\n * modules as they cover only a limited range of use cases.\r\n */\r\n/* eslint-disable require-jsdoc, valid-jsdoc */\r\nvar MapShim = (function () {\r\n    if (typeof Map !== 'undefined') {\r\n        return Map;\r\n    }\r\n    /**\r\n     * Returns index in provided array that matches the specified key.\r\n     *\r\n     * @param {Array<Array>} arr\r\n     * @param {*} key\r\n     * @returns {number}\r\n     */\r\n    function getIndex(arr, key) {\r\n        var result = -1;\r\n        arr.some(function (entry, index) {\r\n            if (entry[0] === key) {\r\n                result = index;\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n        return result;\r\n    }\r\n    return /** @class */ (function () {\r\n        function class_1() {\r\n            this.__entries__ = [];\r\n        }\r\n        Object.defineProperty(class_1.prototype, \"size\", {\r\n            /**\r\n             * @returns {boolean}\r\n             */\r\n            get: function () {\r\n                return this.__entries__.length;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        /**\r\n         * @param {*} key\r\n         * @returns {*}\r\n         */\r\n        class_1.prototype.get = function (key) {\r\n            var index = getIndex(this.__entries__, key);\r\n            var entry = this.__entries__[index];\r\n            return entry && entry[1];\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @param {*} value\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.set = function (key, value) {\r\n            var index = getIndex(this.__entries__, key);\r\n            if (~index) {\r\n                this.__entries__[index][1] = value;\r\n            }\r\n            else {\r\n                this.__entries__.push([key, value]);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.delete = function (key) {\r\n            var entries = this.__entries__;\r\n            var index = getIndex(entries, key);\r\n            if (~index) {\r\n                entries.splice(index, 1);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.has = function (key) {\r\n            return !!~getIndex(this.__entries__, key);\r\n        };\r\n        /**\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.clear = function () {\r\n            this.__entries__.splice(0);\r\n        };\r\n        /**\r\n         * @param {Function} callback\r\n         * @param {*} [ctx=null]\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.forEach = function (callback, ctx) {\r\n            if (ctx === void 0) { ctx = null; }\r\n            for (var _i = 0, _a = this.__entries__; _i < _a.length; _i++) {\r\n                var entry = _a[_i];\r\n                callback.call(ctx, entry[1], entry[0]);\r\n            }\r\n        };\r\n        return class_1;\r\n    }());\r\n})();\n\n/**\r\n * Detects whether window and document objects are available in current environment.\r\n */\r\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && window.document === document;\n\n// Returns global object of a current environment.\r\nvar global$1 = (function () {\r\n    if (typeof global !== 'undefined' && global.Math === Math) {\r\n        return global;\r\n    }\r\n    if (typeof self !== 'undefined' && self.Math === Math) {\r\n        return self;\r\n    }\r\n    if (typeof window !== 'undefined' && window.Math === Math) {\r\n        return window;\r\n    }\r\n    // eslint-disable-next-line no-new-func\r\n    return Function('return this')();\r\n})();\n\n/**\r\n * A shim for the requestAnimationFrame which falls back to the setTimeout if\r\n * first one is not supported.\r\n *\r\n * @returns {number} Requests' identifier.\r\n */\r\nvar requestAnimationFrame$1 = (function () {\r\n    if (typeof requestAnimationFrame === 'function') {\r\n        // It's required to use a bounded function because IE sometimes throws\r\n        // an \"Invalid calling object\" error if rAF is invoked without the global\r\n        // object on the left hand side.\r\n        return requestAnimationFrame.bind(global$1);\r\n    }\r\n    return function (callback) { return setTimeout(function () { return callback(Date.now()); }, 1000 / 60); };\r\n})();\n\n// Defines minimum timeout before adding a trailing call.\r\nvar trailingTimeout = 2;\r\n/**\r\n * Creates a wrapper function which ensures that provided callback will be\r\n * invoked only once during the specified delay period.\r\n *\r\n * @param {Function} callback - Function to be invoked after the delay period.\r\n * @param {number} delay - Delay after which to invoke callback.\r\n * @returns {Function}\r\n */\r\nfunction throttle (callback, delay) {\r\n    var leadingCall = false, trailingCall = false, lastCallTime = 0;\r\n    /**\r\n     * Invokes the original callback function and schedules new invocation if\r\n     * the \"proxy\" was called during current request.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function resolvePending() {\r\n        if (leadingCall) {\r\n            leadingCall = false;\r\n            callback();\r\n        }\r\n        if (trailingCall) {\r\n            proxy();\r\n        }\r\n    }\r\n    /**\r\n     * Callback invoked after the specified delay. It will further postpone\r\n     * invocation of the original function delegating it to the\r\n     * requestAnimationFrame.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function timeoutCallback() {\r\n        requestAnimationFrame$1(resolvePending);\r\n    }\r\n    /**\r\n     * Schedules invocation of the original function.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function proxy() {\r\n        var timeStamp = Date.now();\r\n        if (leadingCall) {\r\n            // Reject immediately following calls.\r\n            if (timeStamp - lastCallTime < trailingTimeout) {\r\n                return;\r\n            }\r\n            // Schedule new call to be in invoked when the pending one is resolved.\r\n            // This is important for \"transitions\" which never actually start\r\n            // immediately so there is a chance that we might miss one if change\r\n            // happens amids the pending invocation.\r\n            trailingCall = true;\r\n        }\r\n        else {\r\n            leadingCall = true;\r\n            trailingCall = false;\r\n            setTimeout(timeoutCallback, delay);\r\n        }\r\n        lastCallTime = timeStamp;\r\n    }\r\n    return proxy;\r\n}\n\n// Minimum delay before invoking the update of observers.\r\nvar REFRESH_DELAY = 20;\r\n// A list of substrings of CSS properties used to find transition events that\r\n// might affect dimensions of observed elements.\r\nvar transitionKeys = ['top', 'right', 'bottom', 'left', 'width', 'height', 'size', 'weight'];\r\n// Check if MutationObserver is available.\r\nvar mutationObserverSupported = typeof MutationObserver !== 'undefined';\r\n/**\r\n * Singleton controller class which handles updates of ResizeObserver instances.\r\n */\r\nvar ResizeObserverController = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserverController.\r\n     *\r\n     * @private\r\n     */\r\n    function ResizeObserverController() {\r\n        /**\r\n         * Indicates whether DOM listeners have been added.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.connected_ = false;\r\n        /**\r\n         * Tells that controller has subscribed for Mutation Events.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.mutationEventsAdded_ = false;\r\n        /**\r\n         * Keeps reference to the instance of MutationObserver.\r\n         *\r\n         * @private {MutationObserver}\r\n         */\r\n        this.mutationsObserver_ = null;\r\n        /**\r\n         * A list of connected observers.\r\n         *\r\n         * @private {Array<ResizeObserverSPI>}\r\n         */\r\n        this.observers_ = [];\r\n        this.onTransitionEnd_ = this.onTransitionEnd_.bind(this);\r\n        this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);\r\n    }\r\n    /**\r\n     * Adds observer to observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be added.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.addObserver = function (observer) {\r\n        if (!~this.observers_.indexOf(observer)) {\r\n            this.observers_.push(observer);\r\n        }\r\n        // Add listeners if they haven't been added yet.\r\n        if (!this.connected_) {\r\n            this.connect_();\r\n        }\r\n    };\r\n    /**\r\n     * Removes observer from observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be removed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.removeObserver = function (observer) {\r\n        var observers = this.observers_;\r\n        var index = observers.indexOf(observer);\r\n        // Remove observer if it's present in registry.\r\n        if (~index) {\r\n            observers.splice(index, 1);\r\n        }\r\n        // Remove listeners if controller has no connected observers.\r\n        if (!observers.length && this.connected_) {\r\n            this.disconnect_();\r\n        }\r\n    };\r\n    /**\r\n     * Invokes the update of observers. It will continue running updates insofar\r\n     * it detects changes.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.refresh = function () {\r\n        var changesDetected = this.updateObservers_();\r\n        // Continue running updates if changes have been detected as there might\r\n        // be future ones caused by CSS transitions.\r\n        if (changesDetected) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Updates every observer from observers list and notifies them of queued\r\n     * entries.\r\n     *\r\n     * @private\r\n     * @returns {boolean} Returns \"true\" if any observer has detected changes in\r\n     *      dimensions of it's elements.\r\n     */\r\n    ResizeObserverController.prototype.updateObservers_ = function () {\r\n        // Collect observers that have active observations.\r\n        var activeObservers = this.observers_.filter(function (observer) {\r\n            return observer.gatherActive(), observer.hasActive();\r\n        });\r\n        // Deliver notifications in a separate cycle in order to avoid any\r\n        // collisions between observers, e.g. when multiple instances of\r\n        // ResizeObserver are tracking the same element and the callback of one\r\n        // of them changes content dimensions of the observed target. Sometimes\r\n        // this may result in notifications being blocked for the rest of observers.\r\n        activeObservers.forEach(function (observer) { return observer.broadcastActive(); });\r\n        return activeObservers.length > 0;\r\n    };\r\n    /**\r\n     * Initializes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.connect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already added.\r\n        if (!isBrowser || this.connected_) {\r\n            return;\r\n        }\r\n        // Subscription to the \"Transitionend\" event is used as a workaround for\r\n        // delayed transitions. This way it's possible to capture at least the\r\n        // final state of an element.\r\n        document.addEventListener('transitionend', this.onTransitionEnd_);\r\n        window.addEventListener('resize', this.refresh);\r\n        if (mutationObserverSupported) {\r\n            this.mutationsObserver_ = new MutationObserver(this.refresh);\r\n            this.mutationsObserver_.observe(document, {\r\n                attributes: true,\r\n                childList: true,\r\n                characterData: true,\r\n                subtree: true\r\n            });\r\n        }\r\n        else {\r\n            document.addEventListener('DOMSubtreeModified', this.refresh);\r\n            this.mutationEventsAdded_ = true;\r\n        }\r\n        this.connected_ = true;\r\n    };\r\n    /**\r\n     * Removes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.disconnect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already removed.\r\n        if (!isBrowser || !this.connected_) {\r\n            return;\r\n        }\r\n        document.removeEventListener('transitionend', this.onTransitionEnd_);\r\n        window.removeEventListener('resize', this.refresh);\r\n        if (this.mutationsObserver_) {\r\n            this.mutationsObserver_.disconnect();\r\n        }\r\n        if (this.mutationEventsAdded_) {\r\n            document.removeEventListener('DOMSubtreeModified', this.refresh);\r\n        }\r\n        this.mutationsObserver_ = null;\r\n        this.mutationEventsAdded_ = false;\r\n        this.connected_ = false;\r\n    };\r\n    /**\r\n     * \"Transitionend\" event handler.\r\n     *\r\n     * @private\r\n     * @param {TransitionEvent} event\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.onTransitionEnd_ = function (_a) {\r\n        var _b = _a.propertyName, propertyName = _b === void 0 ? '' : _b;\r\n        // Detect whether transition may affect dimensions of an element.\r\n        var isReflowProperty = transitionKeys.some(function (key) {\r\n            return !!~propertyName.indexOf(key);\r\n        });\r\n        if (isReflowProperty) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Returns instance of the ResizeObserverController.\r\n     *\r\n     * @returns {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.getInstance = function () {\r\n        if (!this.instance_) {\r\n            this.instance_ = new ResizeObserverController();\r\n        }\r\n        return this.instance_;\r\n    };\r\n    /**\r\n     * Holds reference to the controller's instance.\r\n     *\r\n     * @private {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.instance_ = null;\r\n    return ResizeObserverController;\r\n}());\n\n/**\r\n * Defines non-writable/enumerable properties of the provided target object.\r\n *\r\n * @param {Object} target - Object for which to define properties.\r\n * @param {Object} props - Properties to be defined.\r\n * @returns {Object} Target object.\r\n */\r\nvar defineConfigurable = (function (target, props) {\r\n    for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\r\n        var key = _a[_i];\r\n        Object.defineProperty(target, key, {\r\n            value: props[key],\r\n            enumerable: false,\r\n            writable: false,\r\n            configurable: true\r\n        });\r\n    }\r\n    return target;\r\n});\n\n/**\r\n * Returns the global object associated with provided element.\r\n *\r\n * @param {Object} target\r\n * @returns {Object}\r\n */\r\nvar getWindowOf = (function (target) {\r\n    // Assume that the element is an instance of Node, which means that it\r\n    // has the \"ownerDocument\" property from which we can retrieve a\r\n    // corresponding global object.\r\n    var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView;\r\n    // Return the local global object if it's not possible extract one from\r\n    // provided element.\r\n    return ownerGlobal || global$1;\r\n});\n\n// Placeholder of an empty content rectangle.\r\nvar emptyRect = createRectInit(0, 0, 0, 0);\r\n/**\r\n * Converts provided string to a number.\r\n *\r\n * @param {number|string} value\r\n * @returns {number}\r\n */\r\nfunction toFloat(value) {\r\n    return parseFloat(value) || 0;\r\n}\r\n/**\r\n * Extracts borders size from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @param {...string} positions - Borders positions (top, right, ...)\r\n * @returns {number}\r\n */\r\nfunction getBordersSize(styles) {\r\n    var positions = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        positions[_i - 1] = arguments[_i];\r\n    }\r\n    return positions.reduce(function (size, position) {\r\n        var value = styles['border-' + position + '-width'];\r\n        return size + toFloat(value);\r\n    }, 0);\r\n}\r\n/**\r\n * Extracts paddings sizes from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @returns {Object} Paddings box.\r\n */\r\nfunction getPaddings(styles) {\r\n    var positions = ['top', 'right', 'bottom', 'left'];\r\n    var paddings = {};\r\n    for (var _i = 0, positions_1 = positions; _i < positions_1.length; _i++) {\r\n        var position = positions_1[_i];\r\n        var value = styles['padding-' + position];\r\n        paddings[position] = toFloat(value);\r\n    }\r\n    return paddings;\r\n}\r\n/**\r\n * Calculates content rectangle of provided SVG element.\r\n *\r\n * @param {SVGGraphicsElement} target - Element content rectangle of which needs\r\n *      to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getSVGContentRect(target) {\r\n    var bbox = target.getBBox();\r\n    return createRectInit(0, 0, bbox.width, bbox.height);\r\n}\r\n/**\r\n * Calculates content rectangle of provided HTMLElement.\r\n *\r\n * @param {HTMLElement} target - Element for which to calculate the content rectangle.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getHTMLElementContentRect(target) {\r\n    // Client width & height properties can't be\r\n    // used exclusively as they provide rounded values.\r\n    var clientWidth = target.clientWidth, clientHeight = target.clientHeight;\r\n    // By this condition we can catch all non-replaced inline, hidden and\r\n    // detached elements. Though elements with width & height properties less\r\n    // than 0.5 will be discarded as well.\r\n    //\r\n    // Without it we would need to implement separate methods for each of\r\n    // those cases and it's not possible to perform a precise and performance\r\n    // effective test for hidden elements. E.g. even jQuery's ':visible' filter\r\n    // gives wrong results for elements with width & height less than 0.5.\r\n    if (!clientWidth && !clientHeight) {\r\n        return emptyRect;\r\n    }\r\n    var styles = getWindowOf(target).getComputedStyle(target);\r\n    var paddings = getPaddings(styles);\r\n    var horizPad = paddings.left + paddings.right;\r\n    var vertPad = paddings.top + paddings.bottom;\r\n    // Computed styles of width & height are being used because they are the\r\n    // only dimensions available to JS that contain non-rounded values. It could\r\n    // be possible to utilize the getBoundingClientRect if only it's data wasn't\r\n    // affected by CSS transformations let alone paddings, borders and scroll bars.\r\n    var width = toFloat(styles.width), height = toFloat(styles.height);\r\n    // Width & height include paddings and borders when the 'border-box' box\r\n    // model is applied (except for IE).\r\n    if (styles.boxSizing === 'border-box') {\r\n        // Following conditions are required to handle Internet Explorer which\r\n        // doesn't include paddings and borders to computed CSS dimensions.\r\n        //\r\n        // We can say that if CSS dimensions + paddings are equal to the \"client\"\r\n        // properties then it's either IE, and thus we don't need to subtract\r\n        // anything, or an element merely doesn't have paddings/borders styles.\r\n        if (Math.round(width + horizPad) !== clientWidth) {\r\n            width -= getBordersSize(styles, 'left', 'right') + horizPad;\r\n        }\r\n        if (Math.round(height + vertPad) !== clientHeight) {\r\n            height -= getBordersSize(styles, 'top', 'bottom') + vertPad;\r\n        }\r\n    }\r\n    // Following steps can't be applied to the document's root element as its\r\n    // client[Width/Height] properties represent viewport area of the window.\r\n    // Besides, it's as well not necessary as the <html> itself neither has\r\n    // rendered scroll bars nor it can be clipped.\r\n    if (!isDocumentElement(target)) {\r\n        // In some browsers (only in Firefox, actually) CSS width & height\r\n        // include scroll bars size which can be removed at this step as scroll\r\n        // bars are the only difference between rounded dimensions + paddings\r\n        // and \"client\" properties, though that is not always true in Chrome.\r\n        var vertScrollbar = Math.round(width + horizPad) - clientWidth;\r\n        var horizScrollbar = Math.round(height + vertPad) - clientHeight;\r\n        // Chrome has a rather weird rounding of \"client\" properties.\r\n        // E.g. for an element with content width of 314.2px it sometimes gives\r\n        // the client width of 315px and for the width of 314.7px it may give\r\n        // 314px. And it doesn't happen all the time. So just ignore this delta\r\n        // as a non-relevant.\r\n        if (Math.abs(vertScrollbar) !== 1) {\r\n            width -= vertScrollbar;\r\n        }\r\n        if (Math.abs(horizScrollbar) !== 1) {\r\n            height -= horizScrollbar;\r\n        }\r\n    }\r\n    return createRectInit(paddings.left, paddings.top, width, height);\r\n}\r\n/**\r\n * Checks whether provided element is an instance of the SVGGraphicsElement.\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nvar isSVGGraphicsElement = (function () {\r\n    // Some browsers, namely IE and Edge, don't have the SVGGraphicsElement\r\n    // interface.\r\n    if (typeof SVGGraphicsElement !== 'undefined') {\r\n        return function (target) { return target instanceof getWindowOf(target).SVGGraphicsElement; };\r\n    }\r\n    // If it's so, then check that element is at least an instance of the\r\n    // SVGElement and that it has the \"getBBox\" method.\r\n    // eslint-disable-next-line no-extra-parens\r\n    return function (target) { return (target instanceof getWindowOf(target).SVGElement &&\r\n        typeof target.getBBox === 'function'); };\r\n})();\r\n/**\r\n * Checks whether provided element is a document element (<html>).\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nfunction isDocumentElement(target) {\r\n    return target === getWindowOf(target).document.documentElement;\r\n}\r\n/**\r\n * Calculates an appropriate content rectangle for provided html or svg element.\r\n *\r\n * @param {Element} target - Element content rectangle of which needs to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getContentRect(target) {\r\n    if (!isBrowser) {\r\n        return emptyRect;\r\n    }\r\n    if (isSVGGraphicsElement(target)) {\r\n        return getSVGContentRect(target);\r\n    }\r\n    return getHTMLElementContentRect(target);\r\n}\r\n/**\r\n * Creates rectangle with an interface of the DOMRectReadOnly.\r\n * Spec: https://drafts.fxtf.org/geometry/#domrectreadonly\r\n *\r\n * @param {DOMRectInit} rectInit - Object with rectangle's x/y coordinates and dimensions.\r\n * @returns {DOMRectReadOnly}\r\n */\r\nfunction createReadOnlyRect(_a) {\r\n    var x = _a.x, y = _a.y, width = _a.width, height = _a.height;\r\n    // If DOMRectReadOnly is available use it as a prototype for the rectangle.\r\n    var Constr = typeof DOMRectReadOnly !== 'undefined' ? DOMRectReadOnly : Object;\r\n    var rect = Object.create(Constr.prototype);\r\n    // Rectangle's properties are not writable and non-enumerable.\r\n    defineConfigurable(rect, {\r\n        x: x, y: y, width: width, height: height,\r\n        top: y,\r\n        right: x + width,\r\n        bottom: height + y,\r\n        left: x\r\n    });\r\n    return rect;\r\n}\r\n/**\r\n * Creates DOMRectInit object based on the provided dimensions and the x/y coordinates.\r\n * Spec: https://drafts.fxtf.org/geometry/#dictdef-domrectinit\r\n *\r\n * @param {number} x - X coordinate.\r\n * @param {number} y - Y coordinate.\r\n * @param {number} width - Rectangle's width.\r\n * @param {number} height - Rectangle's height.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction createRectInit(x, y, width, height) {\r\n    return { x: x, y: y, width: width, height: height };\r\n}\n\n/**\r\n * Class that is responsible for computations of the content rectangle of\r\n * provided DOM element and for keeping track of it's changes.\r\n */\r\nvar ResizeObservation = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObservation.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     */\r\n    function ResizeObservation(target) {\r\n        /**\r\n         * Broadcasted width of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastWidth = 0;\r\n        /**\r\n         * Broadcasted height of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastHeight = 0;\r\n        /**\r\n         * Reference to the last observed content rectangle.\r\n         *\r\n         * @private {DOMRectInit}\r\n         */\r\n        this.contentRect_ = createRectInit(0, 0, 0, 0);\r\n        this.target = target;\r\n    }\r\n    /**\r\n     * Updates content rectangle and tells whether it's width or height properties\r\n     * have changed since the last broadcast.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObservation.prototype.isActive = function () {\r\n        var rect = getContentRect(this.target);\r\n        this.contentRect_ = rect;\r\n        return (rect.width !== this.broadcastWidth ||\r\n            rect.height !== this.broadcastHeight);\r\n    };\r\n    /**\r\n     * Updates 'broadcastWidth' and 'broadcastHeight' properties with a data\r\n     * from the corresponding properties of the last observed content rectangle.\r\n     *\r\n     * @returns {DOMRectInit} Last observed content rectangle.\r\n     */\r\n    ResizeObservation.prototype.broadcastRect = function () {\r\n        var rect = this.contentRect_;\r\n        this.broadcastWidth = rect.width;\r\n        this.broadcastHeight = rect.height;\r\n        return rect;\r\n    };\r\n    return ResizeObservation;\r\n}());\n\nvar ResizeObserverEntry = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObserverEntry.\r\n     *\r\n     * @param {Element} target - Element that is being observed.\r\n     * @param {DOMRectInit} rectInit - Data of the element's content rectangle.\r\n     */\r\n    function ResizeObserverEntry(target, rectInit) {\r\n        var contentRect = createReadOnlyRect(rectInit);\r\n        // According to the specification following properties are not writable\r\n        // and are also not enumerable in the native implementation.\r\n        //\r\n        // Property accessors are not being used as they'd require to define a\r\n        // private WeakMap storage which may cause memory leaks in browsers that\r\n        // don't support this type of collections.\r\n        defineConfigurable(this, { target: target, contentRect: contentRect });\r\n    }\r\n    return ResizeObserverEntry;\r\n}());\n\nvar ResizeObserverSPI = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback function that is invoked\r\n     *      when one of the observed elements changes it's content dimensions.\r\n     * @param {ResizeObserverController} controller - Controller instance which\r\n     *      is responsible for the updates of observer.\r\n     * @param {ResizeObserver} callbackCtx - Reference to the public\r\n     *      ResizeObserver instance which will be passed to callback function.\r\n     */\r\n    function ResizeObserverSPI(callback, controller, callbackCtx) {\r\n        /**\r\n         * Collection of resize observations that have detected changes in dimensions\r\n         * of elements.\r\n         *\r\n         * @private {Array<ResizeObservation>}\r\n         */\r\n        this.activeObservations_ = [];\r\n        /**\r\n         * Registry of the ResizeObservation instances.\r\n         *\r\n         * @private {Map<Element, ResizeObservation>}\r\n         */\r\n        this.observations_ = new MapShim();\r\n        if (typeof callback !== 'function') {\r\n            throw new TypeError('The callback provided as parameter 1 is not a function.');\r\n        }\r\n        this.callback_ = callback;\r\n        this.controller_ = controller;\r\n        this.callbackCtx_ = callbackCtx;\r\n    }\r\n    /**\r\n     * Starts observing provided element.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.observe = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is already being observed.\r\n        if (observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.set(target, new ResizeObservation(target));\r\n        this.controller_.addObserver(this);\r\n        // Force the update of observations.\r\n        this.controller_.refresh();\r\n    };\r\n    /**\r\n     * Stops observing provided element.\r\n     *\r\n     * @param {Element} target - Element to stop observing.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.unobserve = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is not being observed.\r\n        if (!observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.delete(target);\r\n        if (!observations.size) {\r\n            this.controller_.removeObserver(this);\r\n        }\r\n    };\r\n    /**\r\n     * Stops observing all elements.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.disconnect = function () {\r\n        this.clearActive();\r\n        this.observations_.clear();\r\n        this.controller_.removeObserver(this);\r\n    };\r\n    /**\r\n     * Collects observation instances the associated element of which has changed\r\n     * it's content rectangle.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.gatherActive = function () {\r\n        var _this = this;\r\n        this.clearActive();\r\n        this.observations_.forEach(function (observation) {\r\n            if (observation.isActive()) {\r\n                _this.activeObservations_.push(observation);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Invokes initial callback function with a list of ResizeObserverEntry\r\n     * instances collected from active resize observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.broadcastActive = function () {\r\n        // Do nothing if observer doesn't have active observations.\r\n        if (!this.hasActive()) {\r\n            return;\r\n        }\r\n        var ctx = this.callbackCtx_;\r\n        // Create ResizeObserverEntry instance for every active observation.\r\n        var entries = this.activeObservations_.map(function (observation) {\r\n            return new ResizeObserverEntry(observation.target, observation.broadcastRect());\r\n        });\r\n        this.callback_.call(ctx, entries, ctx);\r\n        this.clearActive();\r\n    };\r\n    /**\r\n     * Clears the collection of active observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.clearActive = function () {\r\n        this.activeObservations_.splice(0);\r\n    };\r\n    /**\r\n     * Tells whether observer has active observations.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObserverSPI.prototype.hasActive = function () {\r\n        return this.activeObservations_.length > 0;\r\n    };\r\n    return ResizeObserverSPI;\r\n}());\n\n// Registry of internal observers. If WeakMap is not available use current shim\r\n// for the Map collection as it has all required methods and because WeakMap\r\n// can't be fully polyfilled anyway.\r\nvar observers = typeof WeakMap !== 'undefined' ? new WeakMap() : new MapShim();\r\n/**\r\n * ResizeObserver API. Encapsulates the ResizeObserver SPI implementation\r\n * exposing only those methods and properties that are defined in the spec.\r\n */\r\nvar ResizeObserver = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback that is invoked when\r\n     *      dimensions of the observed elements change.\r\n     */\r\n    function ResizeObserver(callback) {\r\n        if (!(this instanceof ResizeObserver)) {\r\n            throw new TypeError('Cannot call a class as a function.');\r\n        }\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        var controller = ResizeObserverController.getInstance();\r\n        var observer = new ResizeObserverSPI(callback, controller, this);\r\n        observers.set(this, observer);\r\n    }\r\n    return ResizeObserver;\r\n}());\r\n// Expose public methods of ResizeObserver.\r\n[\r\n    'observe',\r\n    'unobserve',\r\n    'disconnect'\r\n].forEach(function (method) {\r\n    ResizeObserver.prototype[method] = function () {\r\n        var _a;\r\n        return (_a = observers.get(this))[method].apply(_a, arguments);\r\n    };\r\n});\n\nvar index = (function () {\r\n    // Export existing implementation if available.\r\n    if (typeof global$1.ResizeObserver !== 'undefined') {\r\n        return global$1.ResizeObserver;\r\n    }\r\n    return ResizeObserver;\r\n})();\n\nexport default index;\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import React from \"react\";\r\n\r\nconst HeaderButton: React.FC<{ title: string, className: string }> = ({ title, className, children, ...props }) => {\r\n    return (\r\n        <li {...props} title={title} className={className}>\r\n            {children}\r\n        </li>\r\n    )\r\n};\r\n\r\nexport default HeaderButton;\r\n","import React from \"react\";\r\nimport { ApplicationItemProps } from \"../../../types/internal\";\r\n\r\n\r\nconst ApplicationItem: React.FC<ApplicationItemProps> = ({ appName, onClick }) => {\r\n    return (\r\n        <a onClick={onClick} className=\"list-group-item list-group-item-action px-3\" href=\"#\">\r\n            {appName}\r\n        </a>\r\n    )\r\n};\r\n\r\nexport default ApplicationItem;","import React, { useEffect } from \"react\";\r\nimport { ApplicationListProps } from \"../../../types/internal\";\r\nimport ApplicationItem from \"./ApplicationItem\";\r\n\r\nconst ApplicationsList: React.FC<ApplicationListProps> = ({ glue, inLane, parent, hidePopup, searchTerm, updatePopupHeight, filterApps }) => {\r\n    const hasFlag = (app: any) => app?.userProperties?.includeInWorkspaces ?? app?.userProperties?.includeInCanvas;\r\n    const isFromSupportedType = (a: any) => !a.type || (a.type !== \"activity\" &&\r\n        a.type !== \"canvas\" &&\r\n        a.type !== \"workspaces\" &&\r\n        a.type !== \"node\");\r\n\r\n    const defaultFilter = (a: any) => !a.isActivity &&\r\n        !a.isShell &&\r\n        isFromSupportedType(a) && hasFlag(a);\r\n\r\n    const filter = filterApps || defaultFilter;\r\n\r\n    const workspacesFriendlyApps: any[] = glue.appManager.applications().filter(filter);\r\n\r\n    const getElementOnClick = (appName: string) => {\r\n        return async () => {\r\n            try {\r\n                if (parent.type === \"group\" && !inLane) {\r\n                    await parent.addWindow({ type: \"window\", appName });\r\n                } else if (parent.type === \"group\" && inLane) {\r\n                    await parent.parent.addGroup({ type: \"group\", children: [{ type: \"window\", appName }] });\r\n                } else if (parent.type !== \"group\" && !inLane) {\r\n                    await parent.addGroup({ type: \"group\", children: [{ type: \"window\", appName }] });\r\n                } else {\r\n                    await parent.addWindow({ type: \"window\", appName });\r\n                }\r\n            } catch (error) {\r\n                console.warn(error);\r\n            }\r\n\r\n            hidePopup();\r\n        };\r\n    }\r\n\r\n    useEffect(() => {\r\n        updatePopupHeight();\r\n    }, []);\r\n\r\n    return (\r\n        <nav id=\"applicationsList\" className=\"nav list-group\">\r\n            {workspacesFriendlyApps\r\n                .filter((a) => (a.title || a.name).toLowerCase().indexOf(searchTerm.toLowerCase()) !== -1)\r\n                .map((app: any, i) => {\r\n                    return <ApplicationItem\r\n                        key={i}\r\n                        onClick={() => { getElementOnClick(app.name)() }}\r\n                        appName={app.title || app.name} />\r\n                })}\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default ApplicationsList;","import React, { useEffect } from \"react\";\r\nimport { ContainerSwitchProps } from \"../../../types/internal\";\r\n\r\nconst ContainerSwitch: React.FC<ContainerSwitchProps> = ({ inLane, setInLane, parent }) => {\r\n    let wordInLabel = \"\";\r\n    if (!parent.type) {\r\n        wordInLabel = `workspace`;\r\n    } else if (parent.type === \"group\" && !parent.children.length) {\r\n        wordInLabel = \"\";\r\n    } else if (parent.type === \"group\") {\r\n        wordInLabel = `${parent.parent.type || \"\"}`;\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (!wordInLabel || wordInLabel === \"workspace\") {\r\n            setInLane(false);\r\n        }\r\n    }, [wordInLabel])\r\n\r\n    if (!wordInLabel || wordInLabel === \"workspace\") {\r\n        return null;\r\n    }\r\n\r\n    const labelToPut = `This ${wordInLabel[0].toUpperCase() + wordInLabel.substring(1)}`;\r\n\r\n    return (\r\n        <div className=\"form-group\">\r\n            <label htmlFor=\"Application placement\">Application Placement</label>\r\n            <div className=\"btn-group d-flex mb-2\" role=\"group\" aria-label=\"Application placement\">\r\n                <button\r\n                    onClick={() => setInLane(true)}\r\n                    type=\"button\"\r\n                    id=\"laneButton\"\r\n                    className={`btn btn-outline-primary w-100 ${inLane ? \"active\" : \"\"}`}>\r\n                    {labelToPut}\r\n                </button>\r\n                <button\r\n                    onClick={() => setInLane(false)}\r\n                    type=\"button\"\r\n                    id=\"tabGroupButton\"\r\n                    className={`btn btn-outline-primary w-100 ${!inLane ? \"active\" : \"\"}`}>\r\n                    This Tab Group\r\n            </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ContainerSwitch;","import { GlueContext } from \"@glue42/react-hooks\";\r\nimport React, { useContext } from \"react\"\r\n\r\nconst withGlueInstance = <T extends { glue?: any }>(WrappedComponent: React.ComponentType<T>) => {\r\n    return (props: T) => {\r\n        const glue = props.glue || (window as any).glue || useContext(GlueContext);\r\n        if (!glue) {\r\n            throw new Error(\"An instance of Glue is not provided\");\r\n        }\r\n        return (\r\n            <WrappedComponent {...Object.assign({}, props, { glue })} />\r\n        )\r\n    }\r\n}\r\n\r\nexport default withGlueInstance;","import React, { useEffect, useState } from \"react\";\r\nimport { AddApplicationPopupProps } from \"../../../types/internal\";\r\nimport ApplicationsList from \"./ApplicationsList\";\r\nimport ContainerSwitch from \"./ContainerSwitch\";\r\nimport withGlueInstance from \"../../../withGlueInstance\";\r\n\r\ndeclare const window: Window & { glue?: any };\r\n\r\nconst AddApplicationPopup: React.FC<AddApplicationPopupProps> = ({ workspaceId, boxId, hidePopup, resizePopup, glue, frameId, filterApps, ...props }) => {\r\n    const [inLane, setInLane] = useState(false);\r\n    const [parent, setParent] = useState(undefined);\r\n    const [searchTerm, setSearchTerm] = useState(\"\");\r\n    const containerRef = React.createRef<HTMLDivElement>();\r\n\r\n    useEffect(() => {\r\n        let shouldUpdate = true;\r\n        glue.workspaces.getAllWorkspaces().then((allWorkspaces: any) => {\r\n            const myWorkspace = allWorkspaces.find((w: any) => w.id === workspaceId);\r\n            const parent = myWorkspace.getBox((p: any) => p.id === boxId) || myWorkspace;\r\n\r\n            if (!shouldUpdate) {\r\n                return;\r\n            }\r\n            setParent(parent);\r\n        });\r\n\r\n        return () => {\r\n            shouldUpdate = false;\r\n        }\r\n    }, [boxId, workspaceId]);\r\n\r\n    const refreshPopupHeight = () => {\r\n        const containerHeight = containerRef.current?.getBoundingClientRect().height;\r\n        resizePopup({\r\n            width: 300,\r\n            height: containerHeight\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        refreshPopupHeight();\r\n    }, [searchTerm, parent]);\r\n\r\n    return (\r\n        <div {...props} ref={containerRef} className=\"container-fluid add-application\">\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h5 className=\"border-bottom border-secondary pb-1 my-3\">Add Application</h5>\r\n                </div>\r\n            </div>\r\n            <div id=\"applicationPlacementSection\" className=\"row\">\r\n                <div className=\"col\">\r\n                    {parent && <ContainerSwitch\r\n                        inLane={inLane}\r\n                        setInLane={setInLane}\r\n                        parent={parent} />}\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <div className=\"input-group position-relative mb-2\">\r\n                        <input type=\"text\" id=\"appSearch\" className=\"form-control pr-4\" placeholder=\"Search pplication\"\r\n                            value={searchTerm} onChange={(e) => setSearchTerm(e.target.value)} aria-label=\"Search pplication\" aria-describedby=\"\" />\r\n                        <div className=\"icon-search\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <div className=\"applications mb-2\">\r\n                        <ApplicationsList\r\n                            glue={glue}\r\n                            hidePopup={hidePopup}\r\n                            inLane={inLane}\r\n                            parent={parent}\r\n                            searchTerm={searchTerm}\r\n                            filterApps={filterApps}\r\n                            updatePopupHeight={() => { refreshPopupHeight() }}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withGlueInstance(AddApplicationPopup);","import React from \"react\";\r\nimport { getFeedbackErrorMessage } from \"./helpers\";\r\n\r\nconst Feedback: React.FC<{ errMessage: string }> = ({ errMessage }) => {\r\n    const message = getFeedbackErrorMessage(errMessage);\r\n    return (\r\n        <div className=\"row\">\r\n            <div className=\"col\">\r\n                <div id=\"feedbackContainer\" className=\"d-flex flex-row pb-2\">\r\n                    <div className=\"invalid-feedback mt-0 d-block\">\r\n                        {message || \"Something went wrong.\"}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Feedback;","export const getFeedbackErrorMessage = (message: string) => {\r\n    const innerMessageRegex = /Inner message:\\s+(.+)/gm;\r\n    const regexResult = innerMessageRegex.exec(message);\r\n    const innerMessage = (regexResult && regexResult[1]) || message;\r\n\r\n    return innerMessage;\r\n}","import React from \"react\";\r\nimport { WorkspaceLayoutItemProps } from \"../../../types/internal\";\r\n\r\nconst WorkspaceLayoutItem: React.FC<WorkspaceLayoutItemProps> = ({ name, onClick, onCloseClick }) => {\r\n    return (\r\n        <a onClick={onClick} className=\"list-group-item list-group-item-action ry-2\" href=\"#\">\r\n            <div className=\"align-items-center workspace d-flex flex-row\">\r\n                <div className=\"workspace__icon mr-2\"></div>\r\n                <div className=\"workspace__description\">\r\n                    <h5 className=\"mb-0 text-truncate\">{name}</h5>\r\n                </div>\r\n                <div onClick={onCloseClick} className=\"close-icon ml-auto\"></div>\r\n            </div>\r\n        </a>\r\n    );\r\n}\r\n\r\n\r\nexport default WorkspaceLayoutItem;","import React, { useEffect, useState } from \"react\";\r\nimport { WorkspaceLayoutsListProps } from \"../../../types/internal\";\r\nimport WorkspaceLayoutItem from \"./WorkspaceLayoutItem\";\r\n\r\nconst WorkspaceLayoutsList: React.FC<WorkspaceLayoutsListProps> = ({ glue, frameId, showFeedback, hidePopup, resizePopup }) => {\r\n    const [layoutSummaries, setLayoutSummaries] = useState([] as any[]);\r\n\r\n    const getSummaries = () => {\r\n        return glue.workspaces.layouts.getSummaries();\r\n    };\r\n\r\n    useEffect(() => {\r\n        let shouldUpdate = true;\r\n        getSummaries().then((s: any) => {\r\n            if (!shouldUpdate) {\r\n                return;\r\n            }\r\n            setLayoutSummaries(s);\r\n        });\r\n        return () => {\r\n            shouldUpdate = false;\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        resizePopup();\r\n    }, [layoutSummaries]);\r\n\r\n    const getOnClickCallback = (layoutName: string) => {\r\n        return () => {\r\n            glue.workspaces.restoreWorkspace(layoutName, { frameId, title: layoutName }).catch((e: Error) => {\r\n                showFeedback(e.message);\r\n            }).finally(() => {\r\n                hidePopup();\r\n            });\r\n        };\r\n    };\r\n\r\n    const getOnCloseClickCallback = (layoutName: string) => {\r\n        return () => {\r\n            glue.workspaces.layouts.delete(layoutName).catch((e: Error) => {\r\n                showFeedback(e.message);\r\n            }).then(() => {\r\n                getSummaries().then((s: any) => { setLayoutSummaries(s); });\r\n            });\r\n        };\r\n    }\r\n\r\n    return (\r\n        <nav id=\"workspacesList\" className=\"nav flex-column\">\r\n            {layoutSummaries.map((summary, i) => {\r\n                return <WorkspaceLayoutItem\r\n                    key={i}\r\n                    name={summary.name}\r\n                    onClick={() => getOnClickCallback(summary.name)()}\r\n                    onCloseClick={(e) => { e.stopPropagation(); getOnCloseClickCallback(summary.name)(); }}\r\n                />\r\n            })}\r\n        </nav>\r\n    );\r\n}\r\n\r\nexport default WorkspaceLayoutsList;","import React, { useEffect, useState } from \"react\";\r\nimport { AddWorkspacePopupProps } from \"../../../types/internal\";\r\nimport Feedback from \"../Feedback\";\r\nimport WorkspaceLayoutsList from \"./WorkspaceLayoutsList\";\r\nimport withGlueInstance from \"../../../withGlueInstance\";\r\n\r\nconst AddWorkspacePopup: React.FC<AddWorkspacePopupProps> = ({ frameId, hidePopup, resizePopup, glue, ...props }) => {\r\n    const [feedbackText, setFeedbackText] = useState<string | undefined>(undefined);\r\n    const containerRef = React.createRef<HTMLDivElement>();\r\n\r\n    const resizePopupWithContainerHeight = () => {\r\n        const containerHeight = containerRef.current?.getBoundingClientRect().height;\r\n        resizePopup({\r\n            width: 300,\r\n            height: containerHeight\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        resizePopupWithContainerHeight();\r\n    }, [feedbackText]);\r\n    const onCreateNewClicked = () => {\r\n        glue.workspaces.createWorkspace({\r\n            children: [],\r\n            frame: {\r\n                reuseFrameId: frameId\r\n            }\r\n        });\r\n        hidePopup();\r\n    }\r\n\r\n    return (\r\n        <div {...props} ref={containerRef} className=\"container-fluid add-workspace\">\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h5 className=\"border-bottom border-secondary pb-1 my-3\">Add Workspace</h5>\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h5 onClick={onCreateNewClicked} itemType=\"h5\" id=\"createNewButton\" className=\"btn btn-primary mb-3 w-100\">Create New</h5>\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h3>Load Workspace</h3>\r\n                    <div className=\"workspaces mb-2\">\r\n                        <WorkspaceLayoutsList\r\n                            frameId={frameId}\r\n                            glue={glue}\r\n                            showFeedback={setFeedbackText}\r\n                            hidePopup={hidePopup}\r\n                            resizePopup={resizePopupWithContainerHeight}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {feedbackText && <Feedback errMessage={feedbackText} />}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default withGlueInstance(AddWorkspacePopup);","import React, { useEffect } from \"react\";\r\nimport { SaveContextCheckboxProps } from \"../../../types/internal\";\r\n\r\nconst SaveContextCheckbox: React.FC<SaveContextCheckboxProps> = ({ changeChecked, refreshHeight }) => {\r\n    const inputRef = React.createRef<HTMLInputElement>();\r\n\r\n    useEffect(() => {\r\n        refreshHeight();\r\n    }, []);\r\n\r\n    const onInputChanged = () => {\r\n        if (!inputRef?.current) {\r\n            return;\r\n        }\r\n\r\n        changeChecked(inputRef.current.checked);\r\n    }\r\n\r\n    return (\r\n        <div className=\"form-check\">\r\n            <input onChange={onInputChanged} ref={inputRef} className=\"form-check-input\" type=\"checkbox\" value=\"\" id=\"saveContextCheckbox\" />\r\n            <label className=\"form-check-label\" htmlFor=\"saveContextCheckbox\">Save context</label>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default SaveContextCheckbox;","import React, { useEffect, useState } from \"react\";\r\nimport { SaveWorkspaceButtonProps } from \"../../../types/internal\";\r\n\r\nconst SaveWorkspaceButton: React.FC<SaveWorkspaceButtonProps> = ({ workspaceId,\r\n    inputValue,\r\n    clearInput,\r\n    showFeedback,\r\n    shouldSaveContext,\r\n    hideFeedback,\r\n    glue,\r\n    hidePopup,\r\n    buildMode }) => {\r\n    const [shouldSave, setShouldSave] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (!shouldSave) {\r\n            return;\r\n        }\r\n        let shouldUpdate = true;\r\n        let workspace: any;\r\n        const workspaceName = inputValue;\r\n        glue.workspaces.getAllWorkspaces().then((allWorkspaces: any) => {\r\n            workspace = allWorkspaces.find((w: any) => w.id === workspaceId);\r\n\r\n            return glue.workspaces.layouts.save({\r\n                name: workspaceName,\r\n                workspaceId: workspace.id,\r\n                saveContext: shouldSaveContext\r\n            });\r\n        }).then(() => {\r\n            return workspace.setTitle(workspaceName);\r\n        }).catch((error: Error) => {\r\n            if (shouldUpdate) {\r\n                showFeedback(error.message)\r\n            }\r\n        }).finally(() => {\r\n            if (shouldUpdate) {\r\n                clearInput();\r\n                setShouldSave(false);\r\n                hidePopup();\r\n            }\r\n        });\r\n\r\n        return () => {\r\n            shouldUpdate = false;\r\n        }\r\n    }, [shouldSave]);\r\n\r\n    const exportJson = (layout: object, name: string) => {\r\n        const downloadElement = document.createElement(\"a\");\r\n        const data = \"text/json;charset=utf-8,\" + encodeURIComponent(JSON.stringify(layout));\r\n\r\n        document.body.append(downloadElement);\r\n        downloadElement.setAttribute(\"href\", \"data:\" + data);\r\n        downloadElement.setAttribute(\"download\", `${name}.txt`);\r\n        downloadElement.click();\r\n        downloadElement.remove();\r\n    }\r\n\r\n    const generateLayout = async (name: string, workspaceId: string) => {\r\n        const instance = glue.agm.instance;\r\n        const payload = { operation: \"generateLayout\", operationArguments: { name, workspaceId } };\r\n\r\n        return (await glue.agm.invoke(\"T42.Workspaces.Control\", payload, instance || \"best\")).returned;\r\n    }\r\n\r\n    const onClick = () => {\r\n        const workspaceName = inputValue;\r\n\r\n        if (workspaceId && !buildMode) {\r\n            hideFeedback();\r\n            if (!workspaceName) {\r\n                showFeedback(\"Please provide a valid name\");\r\n                return;\r\n            }\r\n\r\n            if (shouldSave) {\r\n                return;\r\n            }\r\n\r\n            setShouldSave(true);\r\n        } else if (workspaceId) {\r\n            generateLayout(workspaceName, workspaceId).then((layout) => {\r\n                exportJson(layout, workspaceName);\r\n            }).catch((err) => {\r\n                showFeedback(err.message);\r\n            });\r\n        }\r\n    }\r\n\r\n    return (<button onClick={onClick} id=\"saveButton\" type=\"button\" className=\"btn btn-primary\">\r\n        {buildMode ? \"Download\" : \"Save\"}\r\n    </button>);\r\n};\r\n\r\nexport default SaveWorkspaceButton;","import React, {\r\n    useContext,\r\n    useEffect,\r\n    useLayoutEffect,\r\n    useState\r\n} from \"react\";\r\nimport { SaveWorkspacePopupProps } from \"../../../types/internal\";\r\nimport Feedback from \"../Feedback\";\r\nimport SaveContextCheckbox from \"./SaveContextCheckbox\";\r\nimport SaveWorkspaceButton from \"./SaveWorkspaceButton\";\r\nimport withGlueInstance from \"../../../withGlueInstance\";\r\n\r\nconst SaveWorkspacePopup: React.FC<SaveWorkspacePopupProps> = ({ workspaceId, resizePopup, hidePopup, buildMode, glue, ...props }) => {\r\n    const inputRef = React.createRef<HTMLInputElement>();\r\n    const containerRef = React.createRef<HTMLDivElement>();\r\n\r\n    const [shouldSaveContext, setShouldSaveContext] = useState(false);\r\n    const [feedbackMessage, setFeedbackMessage] = useState(\"\");\r\n    const [workspaceName, setWorkspaceName] = useState(\"\");\r\n\r\n    const refreshHeight = () => {\r\n        if (!containerRef?.current) {\r\n            return;\r\n        }\r\n\r\n        const bounds = containerRef.current.getBoundingClientRect();\r\n        resizePopup({\r\n            height: bounds.height,\r\n            width: 300\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        refreshHeight();\r\n    }, [feedbackMessage, workspaceId]);\r\n\r\n    useEffect(() => {\r\n        let shouldUpdate = true;\r\n        \r\n        glue.workspaces.getAllWorkspaces().then((allWorkspaces: any[]) => {\r\n            const myWorkspace = allWorkspaces.find((w) => w.id === workspaceId);\r\n            if (shouldUpdate) {\r\n                setWorkspaceName(myWorkspace.layoutName || \"\");\r\n            }\r\n        });\r\n\r\n        return () => {\r\n            shouldUpdate = false;\r\n        }\r\n    }, [workspaceId]);\r\n\r\n    const clearInput = () => {\r\n        setWorkspaceName(\"\");\r\n    }\r\n\r\n    return (\r\n        <div {...props} onClick={(e) => e.stopPropagation()} ref={containerRef} className=\"container-fluid save-workspace\">\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h5 className=\"border-bottom border-secondary pb-1 my-3\">Save Workspace</h5>\r\n                </div>\r\n            </div>\r\n            <div className=\"row mb-2\">\r\n                <div className=\"col\">\r\n                    <input ref={inputRef}\r\n                        value={workspaceName}\r\n                        onChange={(e) => setWorkspaceName(e.target.value)}\r\n                        onClick={(e) => setFeedbackMessage(\"\")}\r\n                        className=\"form-control mr-1\"\r\n                        type=\"text\"\r\n                        placeholder=\"Workspace name\"\r\n                        id=\"js-workspace-name\" />\r\n                </div>\r\n            </div>\r\n            <div className=\"row  align-items-center pb-2\">\r\n                <div className=\"col\">\r\n                    {!buildMode &&\r\n                        <SaveContextCheckbox\r\n                            changeChecked={(v) => setShouldSaveContext(v)}\r\n                            refreshHeight={refreshHeight}\r\n                        />}\r\n                </div>\r\n\r\n                <div className=\"col  text-right\">\r\n                    <SaveWorkspaceButton\r\n                        clearInput={clearInput}\r\n                        inputValue={workspaceName}\r\n                        workspaceId={workspaceId}\r\n                        shouldSaveContext={shouldSaveContext}\r\n                        showFeedback={setFeedbackMessage}\r\n                        hideFeedback={() => setFeedbackMessage(\"\")}\r\n                        hidePopup={hidePopup}\r\n                        buildMode={buildMode}\r\n                        glue={glue}\r\n                    />\r\n                </div>\r\n            </div>\r\n            {feedbackMessage && <Feedback errMessage={feedbackMessage} />}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default withGlueInstance(SaveWorkspacePopup);","/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\nfunction t(t,e,n,i){return new(n||(n=Promise))((function(o,s){function r(t){try{c(i.next(t))}catch(t){s(t)}}function a(t){try{c(i.throw(t))}catch(t){s(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,a)}c((i=i.apply(t,e||[])).next())}))}var e=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:{};function n(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error(\"Dynamic requires are not currently supported by @rollup/plugin-commonjs\")}(null==e&&n.path)}},n.exports),n.exports}var i=n((function(t,e){!function(e){var n={config:{},container:{},controls:{},errors:{},items:{},utils:{}};n.utils.F=function(){},n.utils.extend=function(t,e){t.prototype=n.utils.createObject(e.prototype),t.prototype.contructor=t},n.utils.createObject=function(t){return\"function\"==typeof Object.create?Object.create(t):(n.utils.F.prototype=t,new n.utils.F)},n.utils.objectKeys=function(t){var e,n;if(\"function\"==typeof Object.keys)return Object.keys(t);for(n in e=[],t)e.push(n);return e},n.utils.getHashValue=function(t){var e=location.hash.match(new RegExp(t+\"=([^&]*)\"));return e?e[1]:null},n.utils.getQueryStringParam=function(t){if(window.location.hash)return n.utils.getHashValue(t);if(!window.location.search)return null;var e,i,o=window.location.search.substr(1).split(\"&\"),s={};for(i=0;i<o.length;i++)s[(e=o[i].split(\"=\"))[0]]=e[1];return s[t]||null},n.utils.copy=function(t,e){for(var n in e)t[n]=e[n];return t},n.utils.animFrame=function(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)})((function(){t()}))},n.utils.indexOf=function(t,e){if(!(e instanceof Array))throw new Error(\"Haystack is not an Array\");if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},\"function\"!=typeof/./&&\"object\"!=typeof Int8Array?n.utils.isFunction=function(t){return\"function\"==typeof t||!1}:n.utils.isFunction=function(t){return\"[object Function]\"===toString.call(t)},n.utils.fnBind=function(t,e,n){if(void 0!==Function.prototype.bind)return Function.prototype.bind.apply(t,[e].concat(n||[]));var i=function(){var o=(n||[]).concat(Array.prototype.slice.call(arguments,0));if(!(this instanceof i))return t.apply(e,o);t.apply(this,o)};return i.prototype=t.prototype,i},n.utils.removeFromArray=function(t,e){var i=n.utils.indexOf(t,e);if(-1===i)throw new Error(\"Can't remove item from array. Item is not in the array\");e.splice(i,1)},n.utils.now=function(){return\"function\"==typeof Date.now?Date.now():(new Date).getTime()},n.utils.getUniqueId=function(){return(1e15*Math.random()).toString(36).replace(\".\",\"\")},n.utils.filterXss=function(t,e){var n=t.replace(/javascript/gi,\"j&#97;vascript\").replace(/expression/gi,\"expr&#101;ssion\").replace(/onload/gi,\"onlo&#97;d\").replace(/script/gi,\"&#115;cript\").replace(/onerror/gi,\"on&#101;rror\");return!0===e?n:n.replace(/>/g,\"&gt;\").replace(/</g,\"&lt;\")},n.utils.stripTags=function(t){return e.trim(t.replace(/(<([^>]+)>)/gi,\"\"))},n.utils.EventEmitter=function(){this._mSubscriptions={},this._mSubscriptions[n.utils.EventEmitter.ALL_EVENT]=[],this.on=function(t,e,i){if(!n.utils.isFunction(e))throw new Error(\"Tried to listen to event \"+t+\" with non-function callback \"+e);this._mSubscriptions[t]||(this._mSubscriptions[t]=[]),this._mSubscriptions[t].push({fn:e,ctx:i})},this.emit=function(t){var e,i,o;o=Array.prototype.slice.call(arguments,1);var s=this._mSubscriptions[t];if(s)for(s=s.slice(),e=0;e<s.length;e++)i=s[e].ctx||{},s[e].fn.apply(i,o);o.unshift(t);var r=this._mSubscriptions[n.utils.EventEmitter.ALL_EVENT].slice();for(e=0;e<r.length;e++)i=r[e].ctx||{},r[e].fn.apply(i,o)},this.unbind=function(t,e,n){if(this._mSubscriptions[t]){var i,o=!1;for(i=0;i<this._mSubscriptions[t].length;i++)e&&this._mSubscriptions[t][i].fn!==e||n&&n!==this._mSubscriptions[t][i].ctx||(this._mSubscriptions[t].splice(i,1),o=!0);if(!1===o)throw new Error(\"Nothing to unbind for \"+t)}},this.off=this.unbind,this.trigger=this.emit},n.utils.EventEmitter.ALL_EVENT=\"__all\",n.utils.DragListener=function(t,i){n.utils.EventEmitter.call(this),this._eElement=e(t),this._oDocument=e(document),this._eBody=e(document.body),this._nButtonCode=i||0,this._nDelay=200,this._nDistance=10,this._nX=0,this._nY=0,this._nOriginalX=0,this._nOriginalY=0,this._bDragging=!1,this._fMove=n.utils.fnBind(this.onMouseMove,this),this._fUp=n.utils.fnBind(this.onMouseUp,this),this._fDown=n.utils.fnBind(this.onMouseDown,this),this._eElement.on(\"mousedown touchstart\",this._fDown)},n.utils.DragListener.timeout=null,n.utils.copy(n.utils.DragListener.prototype,{destroy:function(){this._eElement.unbind(\"mousedown touchstart\",this._fDown),this._oDocument.unbind(\"mouseup touchend\",this._fUp),this._eElement=null,this._oDocument=null,this._eBody=null},onMouseDown:function(t){if(t.preventDefault(),0==t.button||\"touchstart\"===t.type){var e=this._getCoordinates(t);this._nOriginalX=e.x,this._nOriginalY=e.y,this._oDocument.on(\"mousemove touchmove\",this._fMove),this._oDocument.one(\"mouseup touchend\",this._fUp),this._timeout=setTimeout(n.utils.fnBind((function(){this._startDrag(t)}),this),this._nDelay)}},onMouseMove:function(t){if(null!=this._timeout){t.preventDefault();var e=this._getCoordinates(t);this._nX=e.x-this._nOriginalX,this._nY=e.y-this._nOriginalY,!1===this._bDragging&&(Math.abs(this._nX)>this._nDistance||Math.abs(this._nY)>this._nDistance)&&(clearTimeout(this._timeout),this._startDrag(t)),this._bDragging&&this.emit(\"drag\",this._nX,this._nY,t)}},onMouseUp:function(t){null!=this._timeout&&(clearTimeout(this._timeout),this._eBody.removeClass(\"lm_dragging\"),this._eElement.removeClass(\"lm_dragging\"),this._oDocument.find(\"iframe\").css(\"pointer-events\",\"\"),this._oDocument.unbind(\"mousemove touchmove\",this._fMove),this._oDocument.unbind(\"mouseup touchend\",this._fUp),!0===this._bDragging&&(this._bDragging=!1,this.emit(\"dragStop\",t,this._nOriginalX+this._nX)))},_startDrag:function(t){this._bDragging=!0,this._eBody.addClass(\"lm_dragging\"),this._eElement.addClass(\"lm_dragging\"),this._oDocument.find(\"iframe\").css(\"pointer-events\",\"none\"),this.emit(\"dragStart\",this._nOriginalX,this._nOriginalY,t)},_getCoordinates:function(t){return{x:(t=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0]:t).pageX,y:t.pageY}}}),n.LayoutManager=function(t,i,o){if(!e&&window.$&&(e=window.$),!e||\"function\"!=typeof e.noConflict){throw'Please either expose $ on GoldenLayout\\'s scope (e.g. window) or add \"jquery\" to ',\"your paths when using RequireJS/AMD\",new Error('jQuery is missing as dependency for GoldenLayout. Please either expose $ on GoldenLayout\\'s scope (e.g. window) or add \"jquery\" to your paths when using RequireJS/AMD')}n.utils.EventEmitter.call(this),this.isInitialised=!1,this._isFullPage=!1,this._resizeTimeoutId=null,this._components={\"lm-react-component\":n.utils.ReactComponentHandler},this._itemAreas=[],this._resizeFunction=n.utils.fnBind(this._onResize,this),this._unloadFunction=n.utils.fnBind(this._onUnload,this),this._maximizedItem=null,this._maximizePlaceholder=e('<div class=\"lm_maximise_place\"></div>'),this._creationTimeoutPassed=!1,this._subWindowsCreated=!1,this._dragSources=[],this._dragProxies=[],this._updatingColumnsResponsive=!1,this._firstLoad=!0,this._componentFactory=o,this.width=null,this.height=null,this.root=null,this.openPopouts=[],this.selectedItem=null,this.isSubWindow=!1,this.eventHub=new n.utils.EventHub(this),this.config=this._createConfig(t),this.container=i,this.dropTargetIndicator=null,this.transitionIndicator=null,this.tabDropPlaceholder=e('<div class=\"lm_drop_tab_placeholder\"></div>'),!0===this.isSubWindow&&e(\"body\").css(\"visibility\",\"hidden\"),this._typeToItem={column:n.utils.fnBind(n.items.RowOrColumn,this,[!0]),row:n.utils.fnBind(n.items.RowOrColumn,this,[!1]),stack:n.items.Stack,component:n.items.Component}},n.LayoutManager.__lm=n,n.LayoutManager.minifyConfig=function(t){return(new n.utils.ConfigMinifier).minifyConfig(t)},n.LayoutManager.unminifyConfig=function(t){return(new n.utils.ConfigMinifier).unminifyConfig(t)},n.utils.copy(n.LayoutManager.prototype,{registerComponent:function(t,e){if(\"function\"!=typeof e)throw new Error(\"Please register a constructor function\");if(void 0!==this._components[t])throw new Error(\"Component \"+t+\" is already registered\");this._components[t]=e},toConfig:function(t){var e,i,o;if(!1===this.isInitialised)throw new Error(\"Can't create config, layout not yet initialised\");if(t&&!(t instanceof n.items.AbstractContentItem))throw new Error(\"Root must be a ContentItem\");for((e={settings:n.utils.copy({},this.config.settings),dimensions:n.utils.copy({},this.config.dimensions),labels:n.utils.copy({},this.config.labels),context:n.utils.copy({},this.config.context),workspacesOptions:n.utils.copy({},this.config.workspacesOptions)}).content=[],(i=function(t,e){var n,o;for(n in e.config)\"content\"!==n&&(t[n]=e.config[n]);if(e.contentItems.length)for(t.content=[],o=0;o<e.contentItems.length;o++)t.content[o]={},i(t.content[o],e.contentItems[o])})(e,t?{contentItems:[t]}:this.root),this._$reconcilePopoutWindows(),e.openPopouts=[],o=0;o<this.openPopouts.length;o++)e.openPopouts.push(this.openPopouts[o].toConfig());return e.maximizedItemId=this._maximizedItem?\"__glMaximised\":null,e},getComponent:function(t){if(void 0===this._components[t])throw new n.errors.ConfigurationError('Unknown component \"'+t+'\"');return this._components[t]},init:function(){if(!1===this._subWindowsCreated&&(this._createSubWindows(),this._subWindowsCreated=!0),\"loading\"!==document.readyState&&null!==document.body){if(!0===this.isSubWindow&&!1===this._creationTimeoutPassed)return setTimeout(n.utils.fnBind(this.init,this),7),void(this._creationTimeoutPassed=!0);!0===this.isSubWindow&&this._adjustToWindowMode(),this._setContainer(),this.dropTargetIndicator=new n.controls.DropTargetIndicator(this.container),this.transitionIndicator=new n.controls.TransitionIndicator,this.updateSize(),this._create(this.config),this._bindEvents(),this.isInitialised=!0,this._adjustColumnsResponsive(),this.emit(\"initialised\")}else e(document).ready(n.utils.fnBind(this.init,this))},updateSize:function(t,e){2===arguments.length?(this.width=t,this.height=e):(this.width=this.container.width(),this.height=this.container.height()),!0===this.isInitialised&&(this.root.callDownwards(\"setSize\",[this.width,this.height]),this._maximizedItem&&(this._maximizedItem.element.width(t),this._maximizedItem.element.height(e),this._maximizedItem.callDownwards(\"setSize\")),this._adjustColumnsResponsive())},destroy:function(){!1!==this.isInitialised&&(this._onUnload(),e(window).off(\"resize\",this._resizeFunction),e(window).off(\"unload beforeunload\",this._unloadFunction),this.root.callDownwards(\"_$destroy\",[],!0),this.root.contentItems=[],this.tabDropPlaceholder.remove(),this.dropTargetIndicator.destroy(),this.transitionIndicator.destroy(),this.eventHub.destroy(),this._dragSources.forEach((function(t){\"function\"==typeof t._dragListener.destroy&&t._dragListener.destroy(),t._element=null,t._itemConfig=null,t._dragListener=null})),this._dragSources=[])},createContentItem:function(t,e){var i;if(\"string\"!=typeof t.type)throw new n.errors.ConfigurationError(\"Missing parameter 'type'\",t);if(\"react-component\"===t.type&&(t.type=\"component\",t.componentName=\"lm-react-component\"),!this._typeToItem[t.type])throw i=\"Unknown type '\"+t.type+\"'. Valid types are \"+n.utils.objectKeys(this._typeToItem).join(\",\"),new n.errors.ConfigurationError(i);return\"component\"!==t.type||e instanceof n.items.Stack||!e||!0===this.isSubWindow&&e instanceof n.items.Root||(t={type:\"stack\",width:t.width,height:t.height,content:[t]}),new this._typeToItem[t.type](this,t,e)},createPopout:function(t,e,i,o){var s,r,a,c,l,d,h=t,u=t instanceof n.items.AbstractContentItem,p=this;if(i=i||null,u){for(h=this.toConfig(t).content,i=n.utils.getUniqueId(),c=t.parent,l=t;1===c.contentItems.length&&!c.isRoot;)c=c.parent,l=l.parent;c.addId(i),isNaN(o)&&(o=n.utils.indexOf(l,c.contentItems))}else h instanceof Array||(h=[h]);return!e&&u&&(s=window.screenX||window.screenLeft,r=window.screenY||window.screenTop,e={left:s+(a=t.element.offset()).left,top:r+a.top,width:t.element.width(),height:t.element.height()}),e||u||(e={left:window.screenX||window.screenLeft+20,top:window.screenY||window.screenTop+20,width:500,height:309}),u&&t.remove(),(d=new n.controls.BrowserPopout(h,e,i,o,this)).on(\"initialised\",(function(){p.emit(\"windowOpened\",d)})),d.on(\"closed\",(function(){p._$reconcilePopoutWindows()})),this.openPopouts.push(d),d},createDragSource:function(t,i,o){this.config.settings.constrainDragToContainer=!1;var s=new n.controls.DragSource(e(t),i,this,o);return this._dragSources.push(s),s},selectItem:function(t,e){if(!0!==this.config.settings.selectionEnabled)throw new Error(\"Please set selectionEnabled to true to use this feature\");t!==this.selectedItem&&(null!==this.selectedItem&&this.selectedItem.deselect(),t&&!0!==e&&t.select(),this.selectedItem=t,this.emit(\"selectionChanged\",t))},_$maximiseItem:function(t){null!==this._maximizedItem&&this._$minimizeItem(this._maximizedItem),this._maximizedItem=t,this._maximizedItem.addId(\"__glMaximised\"),t.element.addClass(\"lm_maximised\"),t.element.after(this._maximizePlaceholder),this.root.element.prepend(t.element),t.element.width(this.container.width()),t.element.height(this.container.height()),t.callDownwards(\"setSize\"),this._maximizedItem.emit(\"maximized\"),this.emit(\"stateChanged\")},_$minimiseItem:function(t){t.element.removeClass(\"lm_maximised\"),t.removeId(\"__glMaximised\"),this._maximizePlaceholder.after(t.element),this._maximizePlaceholder.remove(),t.parent.callDownwards(\"setSize\"),this._maximizedItem=null,t.emit(\"minimized\"),this.emit(\"stateChanged\")},_$closeWindow:function(){window.setTimeout((function(){window.close()}),1)},_$getArea:function(t,e){var n,i,o=1/0,s=null;for(n=0;n<this._itemAreas.length;n++)t>(i=this._itemAreas[n]).x1&&t<i.x2&&e>i.y1&&e<i.y2&&o>i.surface&&(o=i.surface,s=i);return s},_$createRootItemAreas:function(){var t={y2:0,x2:0,y1:\"y2\",x1:\"x2\"};for(var e in t){var n=this.root._$getArea();n.side=e,n[e]=t[e]?n[t[e]]-50:\"y2\"===e?50+this.root.element.offset().top:50,n.surface=(n.x2-n.x1)*(n.y2-n.y1),this._itemAreas.push(n)}},_$calculateItemAreas:function(){var t,e,i=this._getAllContentItems();if(this._itemAreas=[],1!==i.length){for(this._$createRootItemAreas(),t=0;t<i.length;t++)if(i[t].isStack&&null!==(e=i[t]._$getArea()))if(e instanceof Array)this._itemAreas=this._itemAreas.concat(e);else{this._itemAreas.push(e);var o={};n.utils.copy(o,e),n.utils.copy(o,e.contentItem._contentAreaDimensions.header.highlightArea),o.surface=(o.x2-o.x1)*(o.y2-o.y1),this._itemAreas.push(o)}\"workspace\"===this.config.settings.mode&&(this._itemAreas=[this._itemAreas[this._itemAreas.length-1]])}else this._itemAreas.push(this.root._$getArea())},_$normalizeContentItem:function(t,i){if(!t)throw new Error(\"No content item defined\");if(n.utils.isFunction(t)&&(t=t()),t instanceof n.items.AbstractContentItem)return t;if(e.isPlainObject(t)&&t.type){var o=this.createContentItem(t,i);return o.callDownwards(\"_$init\"),o}throw new Error(\"Invalid contentItem\")},_$reconcilePopoutWindows:function(){var t,e=[];for(t=0;t<this.openPopouts.length;t++)!1===this.openPopouts[t].getWindow().closed?e.push(this.openPopouts[t]):this.emit(\"windowClosed\",this.openPopouts[t]);this.openPopouts.length!==e.length&&(this.emit(\"stateChanged\"),this.openPopouts=e)},_getAllContentItems:function(){var t=[],e=function(n){if(t.push(n),n.contentItems instanceof Array)for(var i=0;i<n.contentItems.length;i++)e(n.contentItems[i])};return e(this.root),t},_bindEvents:function(){this._isFullPage&&e(window).resize(this._resizeFunction),e(window).on(\"unload beforeunload\",this._unloadFunction)},_onResize:function(){clearTimeout(this._resizeTimeoutId),this._resizeTimeoutId=setTimeout(n.utils.fnBind(this.updateSize,this),100)},_createConfig:function(t){var i=n.utils.getQueryStringParam(\"gl-window\");i&&(this.isSubWindow=!0,t=localStorage.getItem(i),t=JSON.parse(t),t=(new n.utils.ConfigMinifier).unminifyConfig(t),localStorage.removeItem(i)),t=e.extend(!0,{},n.config.defaultConfig,t);var o=function(t){for(var e in t)\"props\"!==e&&\"object\"==typeof t[e]?o(t[e]):\"type\"===e&&\"react-component\"===t[e]&&(t.type=\"component\",t.componentName=\"lm-react-component\")};return o(t),!1===t.settings.hasHeaders&&(t.dimensions.headerHeight=0),t},_adjustToWindowMode:function(){var t=e('<div class=\"lm_popin\" title=\"'+this.config.labels.popin+'\"><div class=\"lm_icon\"></div><div class=\"lm_bg\"></div></div>');t.click(n.utils.fnBind((function(){this.emit(\"popIn\")}),this)),document.title=n.utils.stripTags(this.config.content[0].title),e(\"head\").append(e(\"body link, body style, template, .gl_keep\")),this.container=e(\"body\").html(\"\").css(\"visibility\",\"visible\").append(t);document.body.offsetHeight;window.__glInstance=this},_createSubWindows:function(){var t,e;for(t=0;t<this.config.openPopouts.length;t++)e=this.config.openPopouts[t],this.createPopout(e.content,e.dimensions,e.parentId,e.indexInParent)},_setContainer:function(){var t=e(this.container||\"body\");if(0===t.length)throw new Error(\"GoldenLayout container not found\");if(t.length>1)throw new Error(\"GoldenLayout more than one container element specified\");t[0]===document.body&&(this._isFullPage=!0,e(\"html, body\").css({height:\"100%\",margin:0,padding:0,overflow:\"hidden\"})),this.container=t},_create:function(t){var e;if(!(t.content instanceof Array))throw e=void 0===t.content?\"Missing setting 'content' on top level of configuration\":\"Configuration parameter 'content' must be an array\",new n.errors.ConfigurationError(e,t);if(t.content.length>1)throw e=\"Top level content can't contain more then one element.\",new n.errors.ConfigurationError(e,t);this.root=new n.items.Root(this,{content:t.content},this.container),this.root.callDownwards(\"_$init\"),\"__glMaximised\"===t.maximizedItemId&&this.root.getItemsById(t.maximizedItemId)[0].toggleMaximise()},_onUnload:function(){if(!0===this.config.settings.closePopoutsOnUnload)for(var t=0;t<this.openPopouts.length;t++)this.openPopouts[t].close()},_adjustColumnsResponsive:function(){if(this._useResponsiveLayout()&&!this._updatingColumnsResponsive&&this.config.dimensions&&this.config.dimensions.minItemWidth&&0!==this.root.contentItems.length&&this.root.contentItems[0].isRow){this._firstLoad=!1;var t=this.root.contentItems[0].contentItems.length;if(!(t<=1)){var e=this.config.dimensions.minItemWidth;if(!(t*e<=this.width)&&this.container.is(\":visible\")){this._updatingColumnsResponsive=!0;for(var n=t-Math.max(Math.floor(this.width/e),1),i=this.root.contentItems[0],o=this._findAllStackContainers()[0],s=0;s<n;s++){var r=i.contentItems[i.contentItems.length-1];this._addChildContentItemsToContainer(o,r)}this._updatingColumnsResponsive=!1}}}else this._firstLoad=!1},_useResponsiveLayout:function(){return this.config.settings&&(\"always\"==this.config.settings.responsiveMode||\"onload\"==this.config.settings.responsiveMode&&this._firstLoad)},_addChildContentItemsToContainer:function(t,e){\"stack\"===e.type?e.contentItems.forEach((function(n){t.addChild(n),e.removeChild(n,!0)})):e.contentItems.forEach(n.utils.fnBind((function(e){this._addChildContentItemsToContainer(t,e)}),this))},_findAllStackContainers:function(){var t=[];return this._findAllStackContainersRecursive(t,this.root),t},_findAllStackContainersRecursive:function(t,e){e.contentItems.forEach(n.utils.fnBind((function(e){\"stack\"==e.type?t.push(e):e.isComponent||this._findAllStackContainersRecursive(t,e)}),this))}}),n.LayoutManager.default=n.LayoutManager,t.exports=n.LayoutManager,window.GoldenLayout=n.LayoutManager,n.config.defaultConfig={openPopouts:[],settings:{hasHeaders:!0,constrainDragToContainer:!0,reorderEnabled:!0,selectionEnabled:!1,popoutWholeStack:!1,blockedPopoutsThrowError:!0,closePopoutsOnUnload:!0,showMinimizeIcon:!1,showPopoutIcon:!0,showMaximizeIcon:!0,showCloseIcon:!0,responsiveMode:\"always\",tabOverlapAllowance:0,reorderOnTabMenuClick:!0,tabControlOffset:10,mode:\"default\"},dimensions:{borderWidth:5,borderGrabWidth:15,minItemHeight:10,minItemWidth:10,headerHeight:20,dragProxyWidth:500,dragProxyHeight:500},labels:{close:\"close\",maximize:\"maximize\",restore:\"restore\",minimize:\"minimize\",popout:\"eject\",popin:\"pop in\",tabDropdown:\"additional tabs\"},workspacesOptions:{}},n.config.itemDefaultConfig={isClosable:!0,reorderEnabled:!0,title:\"\",workspacesConfig:{}},n.container.ItemContainer=function(t,i,o){n.utils.EventEmitter.call(this),this.width=null,this.height=null,this.title=t.componentName,this.parent=i,this.layoutManager=o,this.isHidden=!1,this._config=t,this._element=e(['<div class=\"lm_item_container\">','<div class=\"lm_content\"></div>',\"</div>\"].join(\"\")),this._contentElement=this._element.find(\".lm_content\")},n.utils.copy(n.container.ItemContainer.prototype,{getElement:function(){return this._contentElement},hide:function(){this.emit(\"hide\"),this.isHidden=!0,this._element.hide()},show:function(){this.emit(\"show\"),this.isHidden=!1,this._element.show(),0==this.height&&0==this.width||this.emit(\"shown\")},setSize:function(t,e){for(var n,i,o,s,r=this.parent,a=this;!r.isColumn&&!r.isRow;)if(a=r,(r=r.parent).isRoot)return!1;for(n=(\"height\"===(i=r.isColumn?\"height\":\"width\")?e:t)/(this[i]*(1/(a.config[i]/100)))*100,o=(a.config[i]-n)/(r.contentItems.length-1),s=0;s<r.contentItems.length;s++)r.contentItems[s]===a?r.contentItems[s].config[i]=n:r.contentItems[s].config[i]+=o;return r.callDownwards(\"setSize\"),!0},close:function(){this._config.isClosable&&(this.emit(\"close\"),this.parent.close())},getState:function(){return this._config.componentState},extendState:function(t){this.setState(e.extend(!0,this.getState(),t))},setState:function(t){this._config.componentState=t,this.parent.emitBubblingEvent(\"stateChanged\")},setTitle:function(t){this.parent.setTitle(t)},_$setSize:function(t,e){if(t!==this.width||e!==this.height){this.width=t,this.height=e;var n=this._contentElement[0],i=n.offsetWidth-n.clientWidth,o=n.offsetHeight-n.clientHeight;this._contentElement.width(this.width-i).height(this.height-o),this.emit(\"resize\")}}}),n.controls.BrowserPopout=function(t,e,i,o,s){n.utils.EventEmitter.call(this),this.isInitialised=!1,this._config=t,this._dimensions=e,this._parentId=i,this._indexInParent=o,this._layoutManager=s,this._popoutWindow=null,this._id=null,this._createWindow()},n.utils.copy(n.controls.BrowserPopout.prototype,{toConfig:function(){if(!1===this.isInitialised)throw new Error(\"Can't create config, layout not yet initialised\");return{dimensions:{width:this.getGlInstance().width,height:this.getGlInstance().height,left:this._popoutWindow.screenX||this._popoutWindow.screenLeft,top:this._popoutWindow.screenY||this._popoutWindow.screenTop},content:this.getGlInstance().toConfig().content,parentId:this._parentId,indexInParent:this._indexInParent}},getGlInstance:function(){return this._popoutWindow.__glInstance},getWindow:function(){return this._popoutWindow},close:function(){if(this.getGlInstance())this.getGlInstance()._$closeWindow();else try{this.getWindow().close()}catch(t){}},popIn:function(){var t,n;this._indexInParent;this._parentId&&(t=e.extend(!0,{},this.getGlInstance().toConfig()).content[0],(n=this._layoutManager.root.getItemsById(this._parentId)[0])||(n=this._layoutManager.root.contentItems.length>0?this._layoutManager.root.contentItems[0]:this._layoutManager.root)),n.addChild(t,this._indexInParent),this.close()},_createWindow:function(){var t,i=this._createUrl(),o=Math.floor(1e6*Math.random()).toString(36),s=this._serializeWindowOptions({width:this._dimensions.width,height:this._dimensions.height,innerWidth:this._dimensions.width,innerHeight:this._dimensions.height,menubar:\"no\",toolbar:\"no\",location:\"no\",personalbar:\"no\",resizable:\"yes\",scrollbars:\"no\",status:\"no\"});if(this._popoutWindow=window.open(i,o,s),this._popoutWindow)e(this._popoutWindow).on(\"load\",n.utils.fnBind(this._positionWindow,this)).on(\"unload beforeunload\",n.utils.fnBind(this._onClose,this)),t=setInterval(n.utils.fnBind((function(){this._popoutWindow.__glInstance&&this._popoutWindow.__glInstance.isInitialised&&(this._onInitialised(),clearInterval(t))}),this),10);else if(!0===this._layoutManager.config.settings.blockedPopoutsThrowError){var r=new Error(\"Popout blocked\");throw r.type=\"popoutBlocked\",r}},_serializeWindowOptions:function(t){var e,n=[];for(e in t)n.push(e+\"=\"+t[e]);return n.join(\",\")},_createUrl:function(){var t,e={content:this._config},i=\"gl-window-config-\"+n.utils.getUniqueId();e=(new n.utils.ConfigMinifier).minifyConfig(e);try{localStorage.setItem(i,JSON.stringify(e))}catch(t){throw new Error(\"Error while writing to localStorage \"+t.toString())}return 1===(t=document.location.href.split(\"?\")).length?t[0]+\"?gl-window=\"+i:document.location.href+\"&gl-window=\"+i},_positionWindow:function(){this._popoutWindow.moveTo(this._dimensions.left,this._dimensions.top),this._popoutWindow.focus()},_onInitialised:function(){this.isInitialised=!0,this.getGlInstance().on(\"popIn\",this.popIn,this),this.emit(\"initialised\")},_onClose:function(){setTimeout(n.utils.fnBind(this.emit,this,[\"closed\"]),50)}}),n.controls.DragProxy=function(t,i,o,s,r,a){n.utils.EventEmitter.call(this),this._dragListener=o,this._layoutManager=s,this._contentItem=r,this._originalParent=a,this._area=null,this._lastValidArea=null,this._dragListener.on(\"drag\",this._onDrag,this),this._dragListener.on(\"dragStop\",this._onDrop,this),this.element=e(n.controls.DragProxy._template),a&&a._side&&(this._sided=a._sided,this.element.addClass(\"lm_\"+a._side),[\"right\",\"bottom\"].indexOf(a._side)>=0&&this.element.find(\".lm_content\").after(this.element.find(\".lm_header\"))),this.element.css({left:t,top:i}),this.element.find(\".lm_tab\").attr(\"title\",n.utils.stripTags(this._contentItem.config.title)),this.element.find(\".lm_title\").html(this._contentItem.config.title),this.childElementContainer=this.element.find(\".lm_content\"),this.childElementContainer.append(r.element),this._originalParent&&this._originalParent.layoutManager.config&&this._originalParent.layoutManager.config.settings&&this._originalParent.layoutManager.config.settings.disableDragProxy&&this.element.find(\".lm_content\").css(\"display\",\"none\"),this._updateTree(),this._layoutManager._$calculateItemAreas(),this._setDimensions(),e(document.body).append(this.element);var c=this._layoutManager.container.offset();this._minX=c.left,this._minY=c.top,this._maxX=this._layoutManager.container.width()+this._minX,this._maxY=this._layoutManager.container.height()+this._minY,this._width=this._layoutManager.config.dimensions.dragProxyWidth,this._height=this._layoutManager.config.dimensions.dragProxyHeight,this._setDropPosition(t,i)},n.controls.DragProxy._template='<div class=\"lm_dragProxy\"><div class=\"lm_header\"><ul class=\"lm_tabs\"><li class=\"lm_tab lm_active\"><i class=\"lm_left\"></i><span class=\"lm_title\"></span><i class=\"lm_right\"></i></li></ul></div><div class=\"lm_content\"></div></div>',n.utils.copy(n.controls.DragProxy.prototype,{_onDrag:function(t,e,n){var i=(n=n.originalEvent&&n.originalEvent.touches?n.originalEvent.touches[0]:n).pageX,o=n.pageY;(i>this._minX&&i<this._maxX&&o>this._minY&&o<this._maxY||!0!==this._layoutManager.config.settings.constrainDragToContainer)&&this._setDropPosition(i,o)},_setDropPosition:function(t,e){this.element.css({left:t,top:e}),this._area=this._layoutManager._$getArea(t,e),null!==this._area&&(this._lastValidArea=this._area,this._area.contentItem._$highlightDropZone(t,e,this._area))},_onDrop:function(t){this._layoutManager.dropTargetIndicator.hide(),this.element.find(\".lm_content\").css(\"display\",\"\"),null===this._area||t&&t.canceled?null===this._lastValidArea||t&&t.canceled?!this._originalParent||t&&t.canceled?this._contentItem._$destroy():this._originalParent.addChild(this._contentItem):this._lastValidArea.contentItem._$onDrop(this._contentItem,this._lastValidArea):(this._area.contentItem._$onDrop(this._contentItem,this._area),this._originalParent&&this._area.contentItem!==this._originalParent&&this._layoutManager.emit(\"parentChanged\",this._contentItem,this._originalParent)),this.element.remove();const e=this._layoutManager._dragProxies.indexOf(this);e>-1&&this._layoutManager._dragProxies.splice(e,1),this._layoutManager.emit(\"itemDropped\",this._contentItem)},_updateTree:function(){this._contentItem.parent&&this._contentItem.parent.removeChild(this._contentItem,!0),this._contentItem._$setParent(this)},_setDimensions:function(){this._contentItem.callDownwards(\"_$show\")}}),n.controls.DragSource=function(t,e,n,i){this._element=t,this._itemConfig=e,this._layoutManager=n,this._dragListener=null,this._createDragListener(i)},n.utils.copy(n.controls.DragSource.prototype,{_createDragListener:function(t){null!==this._dragListener&&this._dragListener.destroy(),this._dragListener=t||new n.utils.DragListener(this._element),\"function\"==typeof this._dragListener.on&&(this._dragListener.on(\"dragStart\",this._onDragStart,this),this._dragListener.on(\"dragStop\",this._createDragListener,this))},_onDragStart:function(t,i){var o=this._itemConfig;n.utils.isFunction(o)&&(o=o());var s=this._layoutManager._$normalizeContentItem(e.extend(!0,{},o)),r=new n.controls.DragProxy(t,i,this._dragListener,this._layoutManager,s,null);this._layoutManager.transitionIndicator.transitionElements(this._element,r.element)}}),n.controls.DropTargetIndicator=function(){this.element=e(n.controls.DropTargetIndicator._template),e(document.body).append(this.element)},n.controls.DropTargetIndicator._template='<div class=\"lm_dropTargetIndicator\"><div class=\"lm_inner\"><span></span><span></span><span></span></div></div>',n.utils.copy(n.controls.DropTargetIndicator.prototype,{destroy:function(){this.element.remove()},highlight:function(t,e,n,i){this.highlightArea({x1:t,y1:e,x2:n,y2:i})},highlightArea:function(t){this.element.css({left:t.x1,top:t.y1,width:t.x2-t.x1,height:t.y2-t.y1}).show()},hide:function(){this.element.hide()}}),n.controls.Header=function(t,i){if(n.utils.EventEmitter.call(this),this.layoutManager=t,this.element=e(n.controls.Header._template),!0===this.layoutManager.config.settings.selectionEnabled&&(this.element.addClass(\"lm_selectable\"),this.element.on(\"click touchstart\",n.utils.fnBind(this._onHeaderClick,this))),\"workspace\"===this.layoutManager.config.settings.mode&&this.element.addClass(\"header_double\"),\"workspace\"===this.layoutManager.config.settings.mode&&this.layoutManager._componentFactory){const t=this.element.children(\".lm_controls\")[0],e=this.element.children(\".lm_workspace_controls\")[0],n=this.element.children(\".lm_logo\")[0];this.layoutManager._componentFactory.createLogo&&this.layoutManager._componentFactory.createLogo({domNode:n}),this.layoutManager._componentFactory.createAddWorkspace&&this.layoutManager._componentFactory.createAddWorkspace({domNode:e}),this.layoutManager._componentFactory.createSystemButtons&&this.layoutManager._componentFactory.createSystemButtons({domNode:t})}this.tabsContainer=this.element.find(\".lm_tabs\"),this.tabDropdownContainer=this.element.find(\".lm_tabdropdown_list\"),this.tabDropdownContainer.hide(),this.controlsContainer=this.element.find(\".lm_controls\"),this.workspaceControlsContainer=\"workspace\"===this.layoutManager.config.settings.mode?this.element.find(\".lm_workspace_controls\"):void 0,this.tabsControlsContainer=\"workspace\"!==this.layoutManager.config.settings.mode?this.element.find(\".lm_tabs_controls\"):void 0,this.parent=i,this.parent.on(\"resize\",this._updateTabSizesWithoutDropdown,this),this.tabs=[],this.activeContentItem=null,this.closeButton=null,this.tabDropdownButton=null,this.hideAdditionalTabsDropdown=n.utils.fnBind(this._hideAdditionalTabsDropdown,this),e(document).mouseup(this.hideAdditionalTabsDropdown),this._lastVisibleTabIndex=-1,this._tabControlOffset=this.layoutManager.config.settings.tabControlOffset,\"workspace\"===this.layoutManager.config.settings.mode&&this.layoutManager._componentFactory&&this.layoutManager._componentFactory.createSystemButtons||this._createControls()},n.controls.Header._template=['<div class=\"lm_header\">','<div class=\"lm_logo\"></div>','<ul class=\"lm_tabs\"></ul>','<ul class=\"lm_workspace_controls\"></ul>','<ul class=\"lm_tabs_controls\"></ul>','<div class=\"move_area\"></div>','<ul class=\"lm_controls\"></ul>','<ul class=\"lm_tabdropdown_list\"></ul>',\"</div>\"].join(\"\"),n.utils.copy(n.controls.Header.prototype,{createTab:function(t,e){var i,o;for(o=0;o<this.tabs.length;o++)if(this.tabs[o].contentItem===t)return;if(i=new n.controls.Tab(this,t),0===this.tabs.length)return this.tabs.push(i),void this.tabsContainer.append(i.element);void 0===e&&(e=this.tabs.length),e>0?this.tabs[e-1].element.after(i.element):this.tabs[0].element.before(i.element),this.tabs.splice(e,0,i),this._updateTabSizesWithoutDropdown()},removeTab:function(t){for(var e=0;e<this.tabs.length;e++)if(this.tabs[e].contentItem===t)return this.tabs[e]._$destroy(),void this.tabs.splice(e,1);throw new Error(\"contentItem is not controlled by this header\")},setActiveContentItem:function(t){var e,n,i,o;for(e=0;e<this.tabs.length;e++)i=this.tabs[e].contentItem===t,this.tabs[e].setActive(i),!0===i&&(this.activeContentItem=t,this.parent.config.activeItemIndex=e);if(this.layoutManager.config.settings.reorderOnTabMenuClick&&-1!==this._lastVisibleTabIndex&&this.parent.config.activeItemIndex>this._lastVisibleTabIndex){for(o=this.tabs[this.parent.config.activeItemIndex],n=this.parent.config.activeItemIndex;n>0;n--)this.tabs[n]=this.tabs[n-1];this.tabs[0]=o,this.parent.config.activeItemIndex=0}this._updateTabSizesWithoutDropdown(),this.parent.emitBubblingEvent(\"stateChanged\")},position:function(t){var e=this.parent._header.show;return e&&!this.parent._side&&(e=\"top\"),void 0!==t&&this.parent._header.show!=t&&(this.parent._header.show=t,this.parent._setupHeaderPosition()),e},_$setClosable:function(t){return!(!this.closeButton||!this._isClosable())&&(this.closeButton.element[t?\"show\":\"hide\"](),!0)},_$destroy:function(){this.emit(\"destroy\",this);for(var t=0;t<this.tabs.length;t++)this.tabs[t]._$destroy();e(document).off(\"mouseup\",this.hideAdditionalTabsDropdown),this.element.remove()},_getHeaderSetting:function(t){if(t in this.parent._header)return this.parent._header[t]},_createControls:function(){var t,e,i,o,s,r,a,c,l;l=n.utils.fnBind(this._showAdditionalTabsDropdown,this),c=this.layoutManager.config.labels.tabDropdown,this.tabDropdownButton=new n.controls.HeaderButton(this,c,\"lm_tabdropdown\",l),this.tabDropdownButton.element.hide(),this._getHeaderSetting(\"popout\")&&(e=n.utils.fnBind(this._onPopoutClick,this),i=this._getHeaderSetting(\"popout\"),new n.controls.HeaderButton(this,i,\"lm_popout\",e)),this._getHeaderSetting(\"minimize\")&&(minimizeLabel=this._getHeaderSetting(\"minimize\"),minimizeButton=new n.controls.HeaderButton(this,minimizeLabel,\"lm_minimise\",void 0)),this._getHeaderSetting(\"maximize\")&&(\"workspace\"!==this.layoutManager.config.settings.mode&&(r=n.utils.fnBind(this.parent.toggleMaximise,this.parent)),o=this._getHeaderSetting(\"maximize\"),a=new n.controls.HeaderButton(this,o,\"lm_maximise\",r),s=this._getHeaderSetting(\"restore\"),this.parent.on(\"maximized\",(function(){a.element.attr(\"title\",s)})),this.parent.on(\"minimized\",(function(){a.element.attr(\"title\",o)}))),this._isClosable()&&(\"workspace\"!==this.layoutManager.config.settings.mode&&(t=n.utils.fnBind(this.parent.remove,this.parent)),i=this._getHeaderSetting(\"close\"),this.closeButton=new n.controls.HeaderButton(this,i,\"lm_close\",t))},_showAdditionalTabsDropdown:function(){this.tabDropdownContainer.show()},_hideAdditionalTabsDropdown:function(t){this.tabDropdownContainer.hide()},_isClosable:function(){return this.parent.config.isClosable&&this.layoutManager.config.settings.showCloseIcon},_onPopoutClick:function(){this.parent.emit(\"popoutRequested\")},_onHeaderClick:function(t){t.target===this.element[0]&&this.parent.select()},_updateTabSizes:function(t){if(0!==this.tabs.length){this.tabDropdownButton.element.toggle(!0===t);this.element.css(!this.parent._sided?\"width\":\"height\",\"\");var e,n,i,o,s=this.element.outerWidth()-this.controlsContainer.outerWidth()-this._tabControlOffset,r=0,a=0,c=0,l=this.layoutManager.config.settings.tabOverlapAllowance,d=!1,h=this.activeContentItem?this.tabs.indexOf(this.activeContentItem.tab):0,u=this.tabs[h];for(this.parent._sided&&(s=this.element.outerHeight()-this.controlsContainer.outerHeight()-this._tabControlOffset),this._lastVisibleTabIndex=-1,n=0;n<this.tabs.length;n++)if(e=this.tabs[n].element,this.tabsContainer.append(e),r+=e.outerWidth()+parseInt(e.css(\"margin-right\"),10),(a=h<=n?r:r+u.element.outerWidth()+parseInt(u.element.css(\"margin-right\"),10))>s){if(d)n===h&&(e.css({\"z-index\":\"auto\",\"margin-left\":\"\"}),this.tabsContainer.append(e));else if((c=h>0&&h<=n?(a-s)/(n-1):(a-s)/n)<l){for(i=0;i<=n;i++)o=i!==h&&0!==i?\"-\"+c+\"px\":\"\",this.tabs[i].element.css({\"z-index\":n-i,\"margin-left\":o});this._lastVisibleTabIndex=n,this.tabsContainer.append(e)}else d=!0;if(d&&n!==h){if(!t)return void this._updateTabSizes(!0);e.css({\"z-index\":\"auto\",\"margin-left\":\"\"}),this.tabDropdownContainer.append(e)}}else this._lastVisibleTabIndex=n,e.css({\"z-index\":\"auto\",\"margin-left\":\"\"}),this.tabsContainer.append(e)}},_updateTabSizesWithoutDropdown:function(t){if(0!==this.tabs.length){this.element.css(!this.parent._sided?\"width\":\"height\",\"\");this.element.outerWidth(),this.controlsContainer.outerWidth(),this._tabControlOffset;var e,n,i=0,o=(this.layoutManager.config.settings.tabOverlapAllowance,this.activeContentItem?this.tabs.indexOf(this.activeContentItem.tab):0),s=this.tabs[o];for(this.parent._sided&&this.element.outerHeight()-this.controlsContainer.outerHeight()-this._tabControlOffset,n=0;n<this.tabs.length;n++)e=this.tabs[n].element,this.tabsContainer.append(e),i+=e.outerWidth()+parseInt(e.css(\"margin-right\"),10),o<=n?i:i+s.element.outerWidth()+parseInt(s.element.css(\"margin-right\"),10),e.css({\"z-index\":\"auto\",\"margin-left\":\"\"}),this.tabsContainer.append(e)}}}),n.controls.HeaderButton=function(t,n,i,o){this._header=t,this.element=e('<li class=\"'+i+'\" title=\"'+n+'\"></li>'),this._header.on(\"destroy\",this._$destroy,this),this._action=o,this.element.on(\"click touchstart\",this._action),this._header.controlsContainer.append(this.element)},n.utils.copy(n.controls.HeaderButton.prototype,{_$destroy:function(){this.element.off(),this.element.remove()}}),n.controls.Splitter=function(t,e,i){this._isVertical=t,this._size=e,this._grabSize=i<e?e:i,this.element=this._createElement(),this._dragListener=new n.utils.DragListener(this.element)},n.utils.copy(n.controls.Splitter.prototype,{on:function(t,e,n){this._dragListener.on(t,e,n)},_$destroy:function(){this.element.remove()},_createElement:function(){var t=e('<div class=\"lm_drag_handle\"></div>'),n=e('<div class=\"lm_splitter\"></div>');n.append(t);var i=this._grabSize-this._size,o=i/2;return this._isVertical?(t.css(\"top\",-o),t.css(\"height\",this._size+i),n.addClass(\"lm_vertical\"),n.height(this._size)):(t.css(\"left\",-o),t.css(\"width\",this._size+i),n.addClass(\"lm_horizontal\"),n.width(this._size)),n}}),n.controls.Tab=function(t,i){this.header=t,this.contentItem=i,this.element=e(n.controls.Tab._template),this.titleElement=this.element.find(\".lm_title\"),this.closeElement=this.element.find(\".lm_close_tab\"),this.closeElement[i.config.isClosable?\"show\":\"hide\"](),this.isActive=!1,this.setTitle(i.config.title),this.contentItem.on(\"titleChanged\",this.setTitle,this),this._layoutManager=this.contentItem.layoutManager,!0===this._layoutManager.config.settings.reorderEnabled&&!0===i.config.reorderEnabled&&(this._dragListener=new n.utils.DragListener(this.element),this._dragListener.on(\"dragStart\",this._onDragStart,this),this.contentItem.on(\"destroy\",this._dragListener.destroy,this._dragListener)),this._onTabClickFn=n.utils.fnBind(this._onTabClick,this),this._onCloseClickFn=n.utils.fnBind(this._onCloseClick,this),\"workspace\"===this._layoutManager.config.settings.mode&&i.config.noTabHeader&&this.element.hide(),this.element.on(\"mousedown touchstart\",this._onTabClickFn),this.contentItem.config.isClosable?(this.closeElement.on(\"click touchstart\",this._onCloseClickFn),this.closeElement.on(\"mousedown\",this._onCloseMousedown)):this.closeElement.remove(),this.contentItem.tab=this,this.contentItem.emit(\"tab\",this),this.contentItem.layoutManager.emit(\"tabCreated\",this),this.contentItem.isComponent&&(this.contentItem.container.tab=this,this.contentItem.container.emit(\"tab\",this))},n.controls.Tab._template='<li class=\"lm_tab\"><i class=\"lm_left\"></i><span class=\"lm_title\"></span><div class=\"lm_close_tab\"></div><i class=\"lm_right\"></i></li>',n.utils.copy(n.controls.Tab.prototype,{setTitle:function(t){this.element.attr(\"title\",n.utils.stripTags(t)),this.titleElement.html(t)},onCloseClick:void 0,setActive:function(t){t!==this.isActive&&(this.isActive=t,t?this.element.addClass(\"lm_active\"):this.element.removeClass(\"lm_active\"))},_$destroy:function(){this.element.off(\"mousedown touchstart\",this._onTabClickFn),this.closeElement.off(\"click touchstart\",this._onCloseClickFn),this._dragListener&&(this.contentItem.off(\"destroy\",this._dragListener.destroy,this._dragListener),this._dragListener.off(\"dragStart\",this._onDragStart),this._dragListener=null),this.element.remove()},_onDragStart:function(t,e){!0===this.contentItem.parent.isMaximized&&this.contentItem.parent.toggleMaximise();const i=\"workspace\"===this.contentItem.layoutManager.config.settings.mode,o=this.contentItem.parent.header.tabs.length<2,s=!this.contentItem.config.windowId&&!this.contentItem.config.componentState.windowId;if(i&&o)return;if(!i&&s)return;const r=new n.controls.DragProxy(t,e,this._dragListener,this._layoutManager,this.contentItem,this.header.parent);this._layoutManager._dragProxies.push(r)},_onTabClick:function(t){if(0===t.button||\"touchstart\"===t.type){var e=this.header.parent.getActiveContentItem();this.contentItem!==e&&this.header.parent.setActiveContentItem(this.contentItem)}else 1===t.button&&this.contentItem.config.isClosable&&this._onCloseClick(t)},_onCloseClick:function(t){this.contentItem.layoutManager.emit(\"tabCloseRequested\",this),this.onCloseClick&&this.onCloseClick(t)},_onCloseMousedown:function(t){t.stopPropagation()}}),n.controls.TransitionIndicator=function(){this._element=e('<div class=\"lm_transition_indicator\"></div>'),e(document.body).append(this._element),this._toElement=null,this._fromDimensions=null,this._totalAnimationDuration=200,this._animationStartTime=null},n.utils.copy(n.controls.TransitionIndicator.prototype,{destroy:function(){this._element.remove()},transitionElements:function(t,e){},_nextAnimationFrame:function(){var t,e=this._measure(this._toElement),i=(n.utils.now()-this._animationStartTime)/this._totalAnimationDuration,o={};if(i>=1)this._element.hide();else{for(t in e.opacity=0,this._fromDimensions)o[t]=this._fromDimensions[t]+(e[t]-this._fromDimensions[t])*i;this._element.css(o),n.utils.animFrame(n.utils.fnBind(this._nextAnimationFrame,this))}},_measure:function(t){var e=t.offset();return{left:e.left,top:e.top,width:t.outerWidth(),height:t.outerHeight()}}}),n.errors.ConfigurationError=function(t,e){Error.call(this),this.name=\"Configuration Error\",this.message=t,this.node=e},n.errors.ConfigurationError.prototype=new Error,n.items.AbstractContentItem=function(t,e,i){n.utils.EventEmitter.call(this),this.config=this._extendItemNode(e),this.type=e.type,this.contentItems=[],this.parent=i,this.isInitialised=!1,this.isMaximized=!1,this.isRoot=!1,this.isRow=!1,this.isColumn=!1,this.isStack=!1,this.isComponent=!1,this.isVisible=!0,this.layoutManager=t,this._pendingEventPropagations={},this._throttledEvents=[\"stateChanged\"],this.on(n.utils.EventEmitter.ALL_EVENT,this._propagateEvent,this),e.content&&this._createContentItems(e)},n.utils.copy(n.items.AbstractContentItem.prototype,{setSize:function(){throw new Error(\"Abstract Method\")},callDownwards:function(t,e,n,i){var o;for(!0!==n&&!0!==i&&this[t].apply(this,e||[]),o=0;o<this.contentItems.length;o++)this.contentItems[o].callDownwards(t,e,n);!0===n&&!0!==i&&this[t].apply(this,e||[])},removeChild:function(t,e){var i=n.utils.indexOf(t,this.contentItems);if(-1===i)throw new Error(\"Can't remove child item. Unknown content item\");!0!==e&&this.contentItems[i]._$destroy(),this.contentItems.splice(i,1),this.config.content.splice(i,1),this.contentItems.length>0?this.callDownwards(\"setSize\"):this instanceof n.items.Root||!0!==this.config.isClosable||this.parent.removeChild(this)},addChild:function(t,e){void 0===e&&(e=this.contentItems.length),this.contentItems.splice(e,0,t),void 0===this.config.content&&(this.config.content=[]),this.config.content.splice(e,0,t.config),t.parent=this,!0===t.parent.isInitialised&&!1===t.isInitialised&&t._$init()},replaceChild:function(t,e,i){e=this.layoutManager._$normalizeContentItem(e);var o=n.utils.indexOf(t,this.contentItems),s=t.element[0].parentNode;if(-1===o)throw new Error(\"Can't replace child. oldChild is not child of this\");s.replaceChild(e.element[0],t.element[0]);const r=t.isVisible;!0===i&&(t.parent=null,t._$destroy()),this.contentItems[o]=e,e.parent=this,this.isStack&&(this.header.tabs[o].contentItem=e),!0===e.parent.isInitialised&&!1===e.isInitialised&&e._$init(),r||e._$hide(),this.callDownwards(\"setSize\")},remove:function(){this.parent.removeChild(this)},popout:function(){var t=this.layoutManager.createPopout(this);return this.emitBubblingEvent(\"stateChanged\"),t},toggleMaximise:function(t){t&&t.preventDefault(),!0===this.isMaximized?this.layoutManager._$minimiseItem(this):this.layoutManager._$maximiseItem(this),this.isMaximized=!this.isMaximized,this.emitBubblingEvent(\"stateChanged\")},select:function(){this.layoutManager.selectedItem!==this&&(this.layoutManager.selectItem(this,!0),this.element.addClass(\"lm_selected\"))},deselect:function(){this.layoutManager.selectedItem===this&&(this.layoutManager.selectedItem=null,this.element.removeClass(\"lm_selected\"))},setTitle:function(t){this.config.title=t,this.emit(\"titleChanged\",t),this.emit(\"stateChanged\")},hasId:function(t){return!!this.config.id&&(\"string\"==typeof this.config.id?this.config.id===t:this.config.id instanceof Array?-1!==n.utils.indexOf(t,this.config.id):void 0)},addId:function(t){this.hasId(t)||(this.config.id?\"string\"==typeof this.config.id?this.config.id=[this.config.id,t]:this.config.id instanceof Array&&this.config.id.push(t):this.config.id=t)},removeId:function(t){if(!this.hasId(t))throw new Error(\"Id not found\");if(\"string\"==typeof this.config.id)delete this.config.id;else if(this.config.id instanceof Array){var e=n.utils.indexOf(t,this.config.id);this.config.id.splice(e,1)}},getItemsByFilter:function(t){var e=[],n=function(i){for(var o=0;o<i.contentItems.length;o++)!0===t(i.contentItems[o])&&e.push(i.contentItems[o]),n(i.contentItems[o])};return n(this),e},getItemsById:function(t){return this.getItemsByFilter((function(e){return e.config.id instanceof Array?-1!==n.utils.indexOf(t,e.config.id):e.config.id===t}))},getItemsByType:function(t){return this._$getItemsByProperty(\"type\",t)},getComponentsByName:function(t){var e,n=this._$getItemsByProperty(\"componentName\",t),i=[];for(e=0;e<n.length;e++)i.push(n[e].instance&&0!==Object.keys(n[e].instance).length?n[e].instance:n[e]);return i},_$getItemsByProperty:function(t,e){return this.getItemsByFilter((function(n){return n[t]===e}))},_$setParent:function(t){this.parent=t},_$highlightDropZone:function(t,e,n){this.layoutManager.dropTargetIndicator.highlightArea(n)},_$onDrop:function(t){this.addChild(t)},_$hide:function(){this._callOnActiveComponents(\"hide\"),this.element.hide(),this.isVisible=!1,this.layoutManager.updateSize()},_$show:function(){this._callOnActiveComponents(\"show\"),this.element.show(),this.isVisible=!0,this.layoutManager.updateSize()},_callOnActiveComponents:function(t){var e,n,i=this.getItemsByType(\"stack\");for(n=0;n<i.length;n++)(e=i[n].getActiveContentItem())&&e.isComponent&&e.container[t]()},_$destroy:function(){this.emitBubblingEvent(\"beforeItemDestroyed\"),this.callDownwards(\"_$destroy\",[],!0,!0),this.element.remove(),this.emitBubblingEvent(\"itemDestroyed\")},_$getArea:function(t){var e=(t=t||this.element).offset(),n=t.width(),i=t.height();return{x1:e.left,y1:e.top,x2:e.left+n,y2:e.top+i,surface:n*i,contentItem:this}},_$init:function(){var t;for(this.setSize(),t=0;t<this.contentItems.length;t++)this.childElementContainer.append(this.contentItems[t].element);this.isInitialised=!0,this.emitBubblingEvent(\"itemCreated\"),this.emitBubblingEvent(this.type+\"Created\")},emitBubblingEvent:function(t){var e=new n.utils.BubblingEvent(t,this);this.emit(t,e)},_createContentItems:function(t){var e,i;if(!(t.content instanceof Array))throw new n.errors.ConfigurationError(\"content must be an Array\",t);for(i=0;i<t.content.length;i++)e=this.layoutManager.createContentItem(t.content[i],this),this.contentItems.push(e)},_extendItemNode:function(t){for(var e in n.config.itemDefaultConfig)void 0===t[e]&&(t[e]=n.config.itemDefaultConfig[e]);return t},_propagateEvent:function(t,e){e instanceof n.utils.BubblingEvent&&!1===e.isPropagationStopped&&!0===this.isInitialised&&(!1===this.isRoot&&this.parent?this.parent.emit.apply(this.parent,Array.prototype.slice.call(arguments,0)):this._scheduleEventPropagationToLayoutManager(t,e))},_scheduleEventPropagationToLayoutManager:function(t,e){-1===n.utils.indexOf(t,this._throttledEvents)?this.layoutManager.emit(t,e.origin):!0!==this._pendingEventPropagations[t]&&(this._pendingEventPropagations[t]=!0,n.utils.animFrame(n.utils.fnBind(this._propagateEventToLayoutManager,this,[t,e])))},_propagateEventToLayoutManager:function(t,e){this._pendingEventPropagations[t]=!1,this.layoutManager.emit(t,e)}}),n.items.Component=function(t,i,o){n.items.AbstractContentItem.call(this,t,i,o);var s=t.getComponent(this.config.componentName),r=e.extend(!0,{},this.config.componentState||{});r.componentName=this.config.componentName,this.componentName=this.config.componentName,\"\"===this.config.title&&(this.config.title=this.config.componentName),this.isComponent=!0,this.container=new n.container.ItemContainer(this.config,this,t),this.instance=new s(this.container,r),this.element=this.container._element},n.utils.extend(n.items.Component,n.items.AbstractContentItem),n.utils.copy(n.items.Component.prototype,{close:function(){this.parent.removeChild(this)},setSize:function(){this.element.is(\":visible\")&&(this.emit(\"size-changed\",{width:this.element.width(),height:this.element.height()}),this.container._$setSize(this.element.width(),this.element.height()))},_$init:function(){n.items.AbstractContentItem.prototype._$init.call(this),this.container.emit(\"open\")},_$hide:function(){this.container.hide(),n.items.AbstractContentItem.prototype._$hide.call(this)},_$show:function(){this.container.show(),n.items.AbstractContentItem.prototype._$show.call(this)},_$shown:function(){this.container.shown(),n.items.AbstractContentItem.prototype._$shown.call(this)},_$destroy:function(){this.container.emit(\"destroy\",this),n.items.AbstractContentItem.prototype._$destroy.call(this)},_$getArea:function(){return null}}),n.items.Root=function(t,i,o){n.items.AbstractContentItem.call(this,t,i,null),this.isRoot=!0,this.type=\"root\",this.element=e('<div class=\"lm_goldenlayout lm_item lm_root\"></div>'),this.childElementContainer=this.element,this._containerElement=o,this._containerElement.append(this.element)},n.utils.extend(n.items.Root,n.items.AbstractContentItem),n.utils.copy(n.items.Root.prototype,{addChild:function(t){if(this.contentItems.length>0)throw new Error(\"Root node can only have a single child\");t=this.layoutManager._$normalizeContentItem(t,this),this.childElementContainer.append(t.element),n.items.AbstractContentItem.prototype.addChild.call(this,t),this.callDownwards(\"setSize\"),this.emitBubblingEvent(\"stateChanged\")},setSize:function(t,e){t=void 0===t?this._containerElement.width():t,e=void 0===e?this._containerElement.height():e,this.element.width(t),this.element.height(e),this.contentItems[0]&&(this.contentItems[0].element.width(t),this.contentItems[0].element.height(e))},_$highlightDropZone:function(t,e,i){this.layoutManager.tabDropPlaceholder.remove(),n.items.AbstractContentItem.prototype._$highlightDropZone.apply(this,arguments)},_$onDrop:function(t,e){var i;if(t.isComponent&&((i=this.layoutManager.createContentItem({type:\"stack\",header:t.config.header||{}},this))._$init(),i.addChild(t),t=i),this.contentItems.length){var o=\"x\"==e.side[0]?\"row\":\"column\",s=\"x\"==e.side[0]?\"width\":\"height\",r=\"2\"==e.side[1],a=this.contentItems[0];if(!a instanceof n.items.RowOrColumn||a.type!=o){var c=this.layoutManager.createContentItem({type:o},this);this.replaceChild(a,c),c.addChild(t,r?0:void 0,!0),c.addChild(a,r?void 0:0,!0),a.config[s]=50,t.config[s]=50,c.callDownwards(\"setSize\")}else{var l=a.contentItems[r?0:a.contentItems.length-1];a.addChild(t,r?0:void 0,!0),l.config[s]*=.5,t.config[s]=l.config[s],a.callDownwards(\"setSize\")}}else this.addChild(t)}}),n.items.RowOrColumn=function(t,i,o,s){n.items.AbstractContentItem.call(this,i,o,s),this.isRow=!t,this.isColumn=t,this.element=e('<div class=\"lm_item lm_'+(t?\"column\":\"row\")+'\"></div>'),this.childElementContainer=this.element,this._splitterSize=i.config.dimensions.borderWidth,this._splitterGrabSize=i.config.dimensions.borderGrabWidth,this._isColumn=t,this._dimension=t?\"height\":\"width\",this._splitter=[],this._splitterPosition=null,this._splitterMinPosition=null,this._splitterMaxPosition=null,this._layoutManager=i},n.utils.extend(n.items.RowOrColumn,n.items.AbstractContentItem),n.utils.copy(n.items.RowOrColumn.prototype,{addChild:function(t,e,i){var o,s,r,a;if(t=this.layoutManager._$normalizeContentItem(t,this),void 0===e&&(e=this.contentItems.length),this.contentItems.length>0?(a=this._createSplitter(Math.max(0,e-1)).element,e>0?(this.contentItems[e-1].element.after(a),a.after(t.element)):(this.contentItems[0].element.before(a),a.before(t.element))):this.childElementContainer.append(t.element),n.items.AbstractContentItem.prototype.addChild.call(this,t,e),o=1/this.contentItems.length*100,!0!==i){for(r=0;r<this.contentItems.length;r++)this.contentItems[r]===t?t.config[this._dimension]=o:(s=this.contentItems[r].config[this._dimension]*=(100-o)/100,this.contentItems[r].config[this._dimension]=s);this.callDownwards(\"setSize\"),this.emitBubblingEvent(\"stateChanged\")}else this.emitBubblingEvent(\"stateChanged\")},removeChild:function(t,e){var i,o,s=t.config[this._dimension],r=n.utils.indexOf(t,this.contentItems),a=Math.max(r-1,0);if(-1===r)throw new Error(\"Can't remove child. ContentItem is not child of this Row or Column\");for(this._splitter[a]&&(this._splitter[a]._$destroy(),this._splitter.splice(a,1)),i=0;i<this.contentItems.length;i++)this.contentItems[i]!==t&&(this.contentItems[i].config[this._dimension]+=s/(this.contentItems.length-1));n.items.AbstractContentItem.prototype.removeChild.call(this,t,e),1===this.contentItems.length&&!0===this.config.isClosable?(o=this.contentItems[0],this.contentItems=[],this.parent.replaceChild(this,o,!0)):(this.callDownwards(\"setSize\"),this.emitBubblingEvent(\"stateChanged\"))},replaceChild:function(t,e){var i=t.config[this._dimension];e.config=e.config||{},e.config[this._dimension]=i,n.items.AbstractContentItem.prototype.replaceChild.call(this,t,e),this.callDownwards(\"setSize\"),this.emitBubblingEvent(\"stateChanged\")},setSize:function(){this.contentItems.length>0&&(this._calculateRelativeSizes(),this._setAbsoluteSizes()),this.emitBubblingEvent(\"stateChanged\"),this.emit(\"resize\")},_$init:function(){var t;if(!0!==this.isInitialised)for(n.items.AbstractContentItem.prototype._$init.call(this),t=0;t<this.contentItems.length-1;t++)this.contentItems[t].element.after(this._createSplitter(t).element)},_setAbsoluteSizes:function(){var t,e=this._calculateAbsoluteSizes();for(t=0;t<this.contentItems.length;t++)e.additionalPixel-t>0&&e.itemSizes[t]++,this._isColumn?(this.contentItems[t].element.width(e.totalWidth),this.contentItems[t].element.height(e.itemSizes[t])):(this.contentItems[t].element.width(e.itemSizes[t]),this.contentItems[t].element.height(e.totalHeight))},_calculateAbsoluteSizes:function(){var t,e,n=(this.contentItems.length-1)*this._splitterSize,i=this.element.width(),o=this.element.height(),s=0,r=[];for(this._isColumn?o-=n:i-=n,t=0;t<this.contentItems.length;t++)s+=e=this._isColumn?Math.floor(o*(this.contentItems[t].config.height/100)):Math.floor(i*(this.contentItems[t].config.width/100)),r.push(e);return{itemSizes:r,additionalPixel:Math.floor((this._isColumn?o:i)-s),totalWidth:i,totalHeight:o}},_calculateRelativeSizes:function(){var t,e=0,n=[],i=this._isColumn?\"height\":\"width\";for(t=0;t<this.contentItems.length;t++)void 0!==this.contentItems[t].config[i]?e+=this.contentItems[t].config[i]:n.push(this.contentItems[t]);if(100!==Math.round(e))if(Math.round(e)<100&&n.length>0){for(t=0;t<n.length;t++)n[t].config[i]=(100-e)/n.length;this._respectMinItemWidth()}else{if(Math.round(e)>100)for(t=0;t<n.length;t++)n[t].config[i]=50,e+=50;for(t=0;t<this.contentItems.length;t++)this.contentItems[t].config[i]=this.contentItems[t].config[i]/e*100;this._respectMinItemWidth()}else this._respectMinItemWidth()},_respectMinItemWidth:function(){var t,e,n,i,o=this.layoutManager.config.dimensions&&this.layoutManager.config.dimensions.minItemWidth||0,s=[],r=0,a=0,c=0,l=0,d=[];if(!(this._isColumn||!o||this.contentItems.length<=1)){t=this._calculateAbsoluteSizes();for(var h=0;h<this.contentItems.length;h++)this.contentItems[h],(l=t.itemSizes[h])<o?(a+=o-l,i={width:o}):(r+=l-o,i={width:l},s.push(i)),d.push(i);if(!(0===a||a>r)){for(e=a/r,c=a,h=0;h<s.length;h++)i=s[h],c-=n=Math.round((i.width-o)*e),i.width-=n;for(0!==c&&(d[d.length-1].width-=c),h=0;h<this.contentItems.length;h++)this.contentItems[h].config.width=d[h].width/t.totalWidth*100}}},_createSplitter:function(t){var e;return(e=new n.controls.Splitter(this._isColumn,this._splitterSize,this._splitterGrabSize)).on(\"drag\",n.utils.fnBind(this._onSplitterDrag,this,[e]),this),e.on(\"dragStop\",n.utils.fnBind(this._onSplitterDragStop,this,[e]),this),e.on(\"dragStart\",n.utils.fnBind(this._onSplitterDragStart,this,[e]),this),this._splitter.splice(t,0,e),e},_getItemsForSplitter:function(t){var e=n.utils.indexOf(t,this._splitter);return{before:this.contentItems[e],after:this.contentItems[e+1]}},_getMinimumDimensions:function(t){for(var e=0,n=0,i=0;i<t.length;++i)e=Math.max(t[i].minWidth||0,e),n=Math.max(t[i].minHeight||0,n);return{horizontal:e,vertical:n}},_onSplitterDragStart:function(t){var e=this._getItemsForSplitter(t),n=this.layoutManager.config.dimensions[this._isColumn?\"minItemHeight\":\"minItemWidth\"],i=this._getMinimumDimensions(e.before.config.content),o=this._isColumn?i.vertical:i.horizontal,s=this._getMinimumDimensions(e.after.config.content),r=this._isColumn?s.vertical:s.horizontal;this._splitterPosition=0,this._splitterMinPosition=-1*(e.before.element[this._dimension]()-(o||n)),this._splitterMaxPosition=e.after.element[this._dimension]()-(r||n)},_onSplitterDrag:function(t,e,n){var i=this._isColumn?n:e;i>this._splitterMinPosition&&i<this._splitterMaxPosition&&(this._splitterPosition=i,t.element.css(this._isColumn?\"top\":\"left\",i)),this._layoutManager.emit(\"splitterDragged\",t)},_onSplitterDragStop:function(t){var e=this._getItemsForSplitter(t),i=e.before.element[this._dimension](),o=e.after.element[this._dimension](),s=(this._splitterPosition+i)/(i+o),r=e.before.config[this._dimension]+e.after.config[this._dimension];e.before.config[this._dimension]=s*r,e.after.config[this._dimension]=(1-s)*r,t.element.css({top:0,left:0}),n.utils.animFrame(n.utils.fnBind(this.callDownwards,this,[\"setSize\"])),this._layoutManager.emit(\"splitterDragStopped\",t)}}),n.items.Stack=function(t,i,o){n.items.AbstractContentItem.call(this,t,i,o),this.element=e('<div class=\"lm_item lm_stack\"></div>'),this._activeContentItem=null;var s=t.config;this._header={show:!0===s.settings.hasHeaders&&!1!==i.hasHeaders,popout:s.settings.showPopoutIcon&&s.labels.popout,maximize:s.settings.showMaximizeIcon&&s.labels.maximize,minimize:s.settings.showMinimizeIcon&&s.labels.minimize,close:s.settings.showCloseIcon&&s.labels.close},s.header&&n.utils.copy(this._header,s.header),i.header&&n.utils.copy(this._header,i.header),i.content&&i.content[0]&&i.content[0].header&&n.utils.copy(this._header,i.content[0].header),this._dropZones={},this._dropSegment=null,this._contentAreaDimensions=null,this._dropIndex=null,this.isStack=!0,this.childElementContainer=e('<div class=\"lm_items\"></div>'),this.header=new n.controls.Header(t,this),this.element.append(this.header.element),this.element.append(this.childElementContainer),this._setupHeaderPosition(),this._$validateClosability()},n.utils.extend(n.items.Stack,n.items.AbstractContentItem),n.utils.copy(n.items.Stack.prototype,{setSize:function(){var t,e=this._header.show?this.header.element.height():0,n=this.element.width()-(this._sided?e:0),i=this.element.height()-(this._sided?0:e);for(this.childElementContainer.width(n),this.childElementContainer.height(i),t=0;t<this.contentItems.length;t++)this.contentItems[t].element.width(n).height(i);this.emit(\"resize\"),this.emitBubblingEvent(\"stateChanged\")},_$init:function(){var t,e;if(!0!==this.isInitialised){for(n.items.AbstractContentItem.prototype._$init.call(this),t=0;t<this.contentItems.length;t++)this.header.createTab(this.contentItems[t]),this.contentItems[t]._$hide();if(this.contentItems.length>0){if(!(e=this.contentItems[this.config.activeItemIndex||0]))throw new Error(\"Configured activeItemIndex out of bounds\");this.setActiveContentItem(e)}}},setActiveContentItem:function(t){if(-1===n.utils.indexOf(t,this.contentItems))throw new Error(\"contentItem is not a child of this stack\");const e=this._activeContentItem;null!==this._activeContentItem&&this._activeContentItem._$hide(),this._activeContentItem=t,this.header.setActiveContentItem(t),t._$show(),this.emit(\"activeContentItemChanged\",t),this.layoutManager.emit(\"activeContentItemChanged\",t),e&&e.emit(\"focusLost\"),this.emitBubblingEvent(\"stateChanged\")},getActiveContentItem:function(){return this.header.activeContentItem},addChild:function(t,i,o=!0){t=this.layoutManager._$normalizeContentItem(t,this),n.items.AbstractContentItem.prototype.addChild.call(this,t,i),this.childElementContainer.append(t.element),this.header.createTab(t,i),e(this.layoutManager.container).is(\":visible\")&&o?this.setActiveContentItem(t):t._$hide(),this.callDownwards(\"setSize\"),this._$validateClosability(),this.emitBubblingEvent(\"stateChanged\")},removeChild:function(t,e){var i=n.utils.indexOf(t,this.contentItems);n.items.AbstractContentItem.prototype.removeChild.call(this,t,e),this.header.removeTab(t),this.header.activeContentItem===t&&(this.contentItems.length>0?this.setActiveContentItem(this.contentItems[Math.max(i-1,0)]):this._activeContentItem=null),this._$validateClosability(),this.emitBubblingEvent(\"stateChanged\")},_$validateClosability:function(){var t,e,n;for(t=this.header._isClosable(),n=0,e=this.contentItems.length;n<e&&t;n++)t=this.contentItems[n].config.isClosable;this.header._$setClosable(t)},_$destroy:function(){n.items.AbstractContentItem.prototype._$destroy.call(this),this.header._$destroy()},_$onDrop:function(t){if(\"header\"===this._dropSegment)return this._resetHeaderDropZone(),void this.addChild(t,this._dropIndex);if(\"body\"!==this._dropSegment){var e,i,o,s=\"top\"===this._dropSegment||\"bottom\"===this._dropSegment,r=\"left\"===this._dropSegment||\"right\"===this._dropSegment,a=\"top\"===this._dropSegment||\"left\"===this._dropSegment,c=s&&this.parent.isColumn||r&&this.parent.isRow,l=s?\"column\":\"row\",d=s?\"height\":\"width\";t.isComponent&&((i=this.layoutManager.createContentItem({type:\"stack\",header:t.config.header||{}},this))._$init(),i.addChild(t),t=i),c?(e=n.utils.indexOf(this,this.parent.contentItems),this.parent.addChild(t,a?e:e+1,!0),this.config[d]*=.5,t.config[d]=this.config[d],this.parent.callDownwards(\"setSize\")):(l=s?\"column\":\"row\",o=this.layoutManager.createContentItem({type:l},this),this.parent.replaceChild(this,o),o.addChild(t,a?0:void 0,!0),o.addChild(this,a?void 0:0,!0),this.config[d]=50,t.config[d]=50,o.callDownwards(\"setSize\"))}else this.addChild(t)},_$highlightDropZone:function(t,e){var n,i;for(n in this._contentAreaDimensions)if((i=this._contentAreaDimensions[n].hoverArea).x1<t&&i.x2>t&&i.y1<e&&i.y2>e)return void(\"header\"===n?(this._dropSegment=\"header\",this._highlightHeaderDropZone(this._sided?e:t)):(this._resetHeaderDropZone(),this._highlightBodyDropZone(n)))},_$getArea:function(){if(!1===this.element.is(\":visible\"))return null;var t=n.items.AbstractContentItem.prototype._$getArea,e=t.call(this,this.header.element),i=t.call(this,this.childElementContainer),o=i.x2-i.x1,s=i.y2-i.y1;return this._contentAreaDimensions={header:{hoverArea:{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2},highlightArea:{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2}}},this._activeContentItem&&!1===this._activeContentItem.isComponent?e:0===this.contentItems.length?(this._contentAreaDimensions.body={hoverArea:{x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2},highlightArea:{x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2}},t.call(this,this.element)):(\"workspace\"!==this.layoutManager.config.settings.mode&&(this._contentAreaDimensions.left={hoverArea:{x1:i.x1,y1:i.y1,x2:i.x1+.25*o,y2:i.y2},highlightArea:{x1:i.x1,y1:i.y1,x2:i.x1+.5*o,y2:i.y2}},this._contentAreaDimensions.top={hoverArea:{x1:i.x1+.25*o,y1:i.y1,x2:i.x1+.75*o,y2:i.y1+.5*s},highlightArea:{x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y1+.5*s}},this._contentAreaDimensions.right={hoverArea:{x1:i.x1+.75*o,y1:i.y1,x2:i.x2,y2:i.y2},highlightArea:{x1:i.x1+.5*o,y1:i.y1,x2:i.x2,y2:i.y2}},this._contentAreaDimensions.bottom={hoverArea:{x1:i.x1+.25*o,y1:i.y1+.5*s,x2:i.x1+.75*o,y2:i.y2},highlightArea:{x1:i.x1,y1:i.y1+.5*s,x2:i.x2,y2:i.y2}}),t.call(this,this.element))},_highlightHeaderDropZone:function(t){var e,n,i,o,s,r,a,c,l=this.header.tabs.length,d=!1;if(0===l)return a=this.header.element.offset(),void this.layoutManager.dropTargetIndicator.highlightArea({x1:a.left,x2:a.left+100,y1:a.top+this.header.element.height()-20,y2:a.top+this.header.element.height()});for(e=0;e<l;e++)if(s=(n=this.header.tabs[e].element).offset(),this._sided?(o=s.top,i=s.left,c=n.height()):(o=s.left,i=s.top,c=n.width()),t>o&&t<o+c){d=!0;break}if(!(!1===d&&t<o)){if(t<o+c/2?(this._dropIndex=e,n.before(this.layoutManager.tabDropPlaceholder)):(this._dropIndex=Math.min(e+1,l),n.after(this.layoutManager.tabDropPlaceholder)),this._sided)return placeHolderTop=this.layoutManager.tabDropPlaceholder.offset().top,void this.layoutManager.dropTargetIndicator.highlightArea({x1:i,x2:i+n.innerHeight(),y1:placeHolderTop,y2:placeHolderTop+this.layoutManager.tabDropPlaceholder.width()});r=this.layoutManager.tabDropPlaceholder.offset().left,this.layoutManager.dropTargetIndicator.highlightArea({x1:r,x2:r+this.layoutManager.tabDropPlaceholder.width(),y1:i,y2:i+n.innerHeight()})}},_resetHeaderDropZone:function(){this.layoutManager.tabDropPlaceholder.remove()},_setupHeaderPosition:function(){var t=[\"right\",\"left\",\"bottom\"].indexOf(this._header.show)>=0&&this._header.show;if(this.header.element.toggle(!!this._header.show),this._side=t,this._sided=[\"right\",\"left\"].indexOf(this._side)>=0,this.element.removeClass(\"lm_left lm_right lm_bottom\"),this._side&&this.element.addClass(\"lm_\"+this._side),this.element.find(\".lm_header\").length&&this.childElementContainer){var e=[\"right\",\"bottom\"].indexOf(this._side)>=0?\"before\":\"after\";this.header.element[e](this.childElementContainer),this.callDownwards(\"setSize\")}},_highlightBodyDropZone:function(t){var e=this._contentAreaDimensions[t].highlightArea;this.layoutManager.dropTargetIndicator.highlightArea(e),this._dropSegment=t}}),n.utils.BubblingEvent=function(t,e){this.name=t,this.origin=e,this.isPropagationStopped=!1},n.utils.BubblingEvent.prototype.stopPropagation=function(){this.isPropagationStopped=!0},n.utils.ConfigMinifier=function(){if(this._keys=[\"settings\",\"hasHeaders\",\"constrainDragToContainer\",\"selectionEnabled\",\"dimensions\",\"borderWidth\",\"minItemHeight\",\"minItemWidth\",\"headerHeight\",\"dragProxyWidth\",\"dragProxyHeight\",\"labels\",\"close\",\"maximize\",\"minimize\",\"popout\",\"content\",\"componentName\",\"componentState\",\"id\",\"width\",\"type\",\"height\",\"isClosable\",\"title\",\"popoutWholeStack\",\"openPopouts\",\"parentId\",\"activeItemIndex\",\"reorderEnabled\",\"borderGrabWidth\"],this._keys.length>36)throw new Error(\"Too many keys in config minifier map\");this._values=[!0,!1,\"row\",\"column\",\"stack\",\"component\",\"close\",\"maximize\",\"minimize\",\"open in new window\"]},n.utils.copy(n.utils.ConfigMinifier.prototype,{minifyConfig:function(t){var e={};return this._nextLevel(t,e,\"_min\"),e},unminifyConfig:function(t){var e={};return this._nextLevel(t,e,\"_max\"),e},_nextLevel:function(t,e,n){var i,o;for(i in t)t instanceof Array&&(i=parseInt(i,10)),t.hasOwnProperty(i)&&(o=this[n](i,this._keys),\"object\"==typeof t[i]?(e[o]=t[i]instanceof Array?[]:{},this._nextLevel(t[i],e[o],n)):e[o]=this[n](t[i],this._values))},_min:function(t,e){if(\"string\"==typeof t&&1===t.length)return\"___\"+t;var i=n.utils.indexOf(t,e);return-1===i?t:i.toString(36)},_max:function(t,e){return\"string\"==typeof t&&1===t.length?e[parseInt(t,36)]:\"string\"==typeof t&&\"___\"===t.substr(0,3)?t[3]:t}}),n.utils.EventHub=function(t){n.utils.EventEmitter.call(this),this._layoutManager=t,this._dontPropagateToParent=null,this._childEventSource=null,this.on(n.utils.EventEmitter.ALL_EVENT,n.utils.fnBind(this._onEventFromThis,this)),this._boundOnEventFromChild=n.utils.fnBind(this._onEventFromChild,this),e(window).on(\"gl_child_event\",this._boundOnEventFromChild)},n.utils.EventHub.prototype._onEventFromThis=function(){var t=Array.prototype.slice.call(arguments);this._layoutManager.isSubWindow&&t[0]!==this._dontPropagateToParent&&this._propagateToParent(t),this._propagateToChildren(t),this._dontPropagateToParent=null,this._childEventSource=null},n.utils.EventHub.prototype._$onEventFromParent=function(t){this._dontPropagateToParent=t[0],this.emit.apply(this,t)},n.utils.EventHub.prototype._onEventFromChild=function(t){this._childEventSource=t.originalEvent.__gl,this.emit.apply(this,t.originalEvent.__glArgs)},n.utils.EventHub.prototype._propagateToParent=function(t){var e,n=\"gl_child_event\";document.createEvent?(e=window.opener.document.createEvent(\"HTMLEvents\")).initEvent(n,!0,!0):(e=window.opener.document.createEventObject()).eventType=n,e.eventName=n,e.__glArgs=t,e.__gl=this._layoutManager,document.createEvent?window.opener.dispatchEvent(e):window.opener.fireEvent(\"on\"+e.eventType,e)},n.utils.EventHub.prototype._propagateToChildren=function(t){var e,n;for(n=0;n<this._layoutManager.openPopouts.length;n++)(e=this._layoutManager.openPopouts[n].getGlInstance())&&e!==this._childEventSource&&e.eventHub._$onEventFromParent(t)},n.utils.EventHub.prototype.destroy=function(){e(window).off(\"gl_child_event\",this._boundOnEventFromChild)},n.utils.ReactComponentHandler=function(t,e){this._reactComponent=null,this._originalComponentWillUpdate=null,this._container=t,this._initialState=e,this._reactClass=this._getReactClass(),this._container.on(\"open\",this._render,this),this._container.on(\"destroy\",this._destroy,this)},n.utils.copy(n.utils.ReactComponentHandler.prototype,{_render:function(){this._reactComponent=ReactDOM.render(this._getReactComponent(),this._container.getElement()[0]),this._originalComponentWillUpdate=this._reactComponent.componentWillUpdate||function(){},this._reactComponent.componentWillUpdate=this._onUpdate.bind(this),this._container.getState()&&this._reactComponent.setState(this._container.getState())},_destroy:function(){ReactDOM.unmountComponentAtNode(this._container.getElement()[0]),this._container.off(\"open\",this._render,this),this._container.off(\"destroy\",this._destroy,this)},_onUpdate:function(t,e){this._container.setState(e),this._originalComponentWillUpdate.call(this._reactComponent,t,e)},_getReactClass:function(){var t,e=this._container._config.component;if(!e)throw new Error(\"No react component name. type: react-component needs a field `component`\");if(!(t=this._container.layoutManager.getComponent(e)))throw new Error('React component \"'+e+'\" not found. Please register all components with GoldenLayout using `registerComponent(name, component)`');return t},_getReactComponent:function(){var t={glEventHub:this._container.layoutManager.eventHub,glContainer:this._container},n=e.extend(t,this._container._config.props);return React.createElement(this._reactClass,n)}})}(window.$)}));function o(t){if(t&&t.errorHandling&&\"function\"!=typeof t.errorHandling&&\"log\"!==t.errorHandling&&\"silent\"!==t.errorHandling&&\"throw\"!==t.errorHandling)throw new Error('Invalid options passed to createRegistry. Prop errorHandling should be [\"log\" | \"silent\" | \"throw\" | (err) => void], but '+typeof t.errorHandling+\" was passed\");var e=t&&\"function\"==typeof t.errorHandling&&t.errorHandling,n={};function i(n,i){var o=n instanceof Error?n:new Error(n);if(e)e(o);else{var s='[ERROR] callback-registry: User callback for key \"'+i+'\" failed: '+o.stack;if(t)switch(t.errorHandling){case\"log\":return console.error(s);case\"silent\":return;case\"throw\":throw new Error(s)}console.error(s)}}return{add:function(t,e,o){var s=n[t];return s||(s=[],n[t]=s),s.push(e),o&&setTimeout((function(){o.forEach((function(o){var s;if(null===(s=n[t])||void 0===s?void 0:s.includes(e))try{Array.isArray(o)?e.apply(void 0,o):e.apply(void 0,[o])}catch(e){i(e,t)}}))}),0),function(){var i=n[t];i&&(0===(i=i.reduce((function(t,n,i){return n===e&&t.length===i||t.push(n),t}),[])).length?delete n[t]:n[t]=i)}},execute:function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];var s=n[t];if(!s||0===s.length)return[];var r=[];return s.forEach((function(n){try{var o=n.apply(void 0,e);r.push(o)}catch(e){r.push(void 0),i(e,t)}})),r},clear:function(){n={}},clearKey:function(t){n[t]&&delete n[t]}}}o.default=o;var s=o;const r=t=>Array.isArray(t)?t[0]:t,a=(t=[])=>{const e=t=>\"component\"===t.type?t.id?[t]:[]:t.content.reduce(((t,n)=>t=[...t,...e(n)]),[]);return t.reduce(((t,n)=>[...t,...e(n)]),[])},c=t=>{const e=$(t)[0].getBoundingClientRect();return{x:Math.round(e.x),y:Math.round(e.y),left:Math.round(e.left),top:Math.round(e.top),width:Math.round(e.width),height:Math.round(e.height)}},l=t=>\"___workspace___\"+t;var d=new class{constructor(){this._idToLayout={}}get layouts(){return Object.values(this._idToLayout)}get workspaceIds(){return Object.keys(this._idToLayout)}get workspaceTitles(){return this.workspaceIds.map((t=>this.getWorkspaceTitle(t)))}set workspaceLayout(t){this._workspaceLayout=t}get workspaceLayout(){return this._workspaceLayout}get workspaceLayoutHeader(){return this._workspaceLayout.root.contentItems[0].header}getWorkspaceLayoutItemById(t){return this.workspaceLayout.root.getItemsById(t)[0]}getById(t){return t=r(t),this._idToLayout[t]}getByContainerId(t){return this._idToLayout[t]||this.getByContainerIdCore(t)}getWorkspaceTitle(t){const e=this.workspaceLayout.root.getItemsById(t)[0];return(null==e?void 0:e.tab.titleElement[0].innerText)||(null==e?void 0:e.config.title)}removeById(t){delete this._idToLayout[t]}removeLayout(t){this._idToLayout[t].layout.destroy(),this._idToLayout[t].layout=void 0}addOrUpdate(t,e,n){const i=this.getById(t);if(i)return i.layout=n,void(i.windows=e);this._idToLayout[t]={id:t,windows:e,layout:n}}getWindow(t){const e=r(t);return this.layouts.reduce(((t,n)=>t||n.windows.find((t=>t.id===e))),void 0)}getActiveWorkspace(){const t=this.workspaceLayout.root.contentItems[0].getActiveContentItem().config.id;return this.getById(t)}addWindow(t,e){const n=this.getById(e);n.windows=n.windows.filter((e=>e.id!==t.id)),n.windows.push(t)}getByWindowId(t){return t=r(t),this.layouts.find((e=>e.windows.some((e=>e.id===t))))}getWindowContentItem(t){const e=this.layouts.filter((t=>t.layout)).reduce(((e,n)=>e||n.layout.root.getItemsById(t)[0]),void 0);if(e&&e.isComponent)return e;const n=this.layouts.filter((t=>t.layout)).reduce(((e,n)=>e||n.layout.root.getItemsByFilter((e=>e.isComponent&&e.config.componentState.windowId===t))[0]),void 0);return(null==n?void 0:n.isComponent)?n:void 0}getContainer(t){return this.layouts.reduce(((t,e)=>(e.layout&&t.push(e.layout),t)),[]).reduce(((e,n)=>e||n.root.getItemsById(t)[0]),void 0)}getWorkspaceContext(t){var e,n,i;const o=this.getById(t);return null===(i=null===(n=null===(e=null==o?void 0:o.layout)||void 0===e?void 0:e.config)||void 0===n?void 0:n.workspacesOptions)||void 0===i?void 0:i.context}getWorkspaceContentItem(t){return this.workspaceLayout.root.getItemsById(t)[0]}getByContainerIdCore(t){return this.layouts.reduce(((t,e)=>(e.layout&&t.push(e),t)),[]).find((e=>e.layout.root.getItemsById(t)[0]))}};class h{init(t){this.containerElement=$(t)[0],this.setupEvents()}setupEvents(){const t=new MutationObserver((t=>{Array.from(t).forEach((t=>{if(\"childList\"===t.type&&t.target.classList.contains(\"lm_tabs\")){const e=$(t.target);this.handleTabCountChanged(e,Array.from(t.removedNodes))}else if(\"attributes\"===t.type&&t.target.classList.contains(\"lm_stack\")&&\"style\"===t.attributeName){const e=$(t.target);this.handleTabHeaderResized(e)}}))}));return t.observe(this.containerElement,{childList:!0,subtree:!0,attributes:!0,attributeFilter:[\"style\"],attributeOldValue:!1,characterData:!1,characterDataOldValue:!1}),()=>{t.disconnect()}}handleTabCountChanged(t,e){const n=t.children(),i=this.visibleTabs($(t));t.css(\"max-width\",200*i.length+\"px\");const o=t.width()/i.length;Array.from(n).forEach((t=>{$(t).children(\".lm_title\").css(\"max-width\",.75*o+\"px\"),e.length&&this.refreshTabClasses(t)}))}handleTabHeaderResized(t){const e=t.children(\".lm_header\").children(\".lm_tabs\"),n=this.visibleTabs($(e)),i=e.width()/n.length;Array.from(e.children()).forEach((t=>{$(t).children(\".lm_title\").css(\"max-width\",.65*i+\"px\"),this.refreshTabClasses(t)}))}refreshTabClasses(t){const e=$(t).outerWidth(),n=t.classList;e>=25&&e<35?(n.contains(\"lm_tab_mini\")&&n.remove(\"lm_tab_mini\"),n.add(\"lm_tab_small\")):e>=35?(n.remove(\"lm_tab_small\"),n.contains(\"lm_tab_mini\")&&n.remove(\"lm_tab_mini\")):e<25&&(n.remove(\"lm_tab_small\"),n.add(\"lm_tab_mini\"))}visibleTabs(t){return Array.from(t.children()).filter((t=>$(t).is(\":visible\")))}}var u=new class{constructor(){this.visibilityState={logo:void 0,addWorkspace:void 0,systemButtons:void 0,workspaceContents:[]},this.componentsFactory={},this._decoratedFactory={},this.callbackRegistry=s(),this.observer=new MutationObserver((t=>{Array.from(t).forEach((t=>{const e=t.target,n=this.getWorkspaceIdFromContents(e),i=\"none\"===e.style.display?\"workspace-contents-hidden\":\"workspace-contents-shown\";this.callbackRegistry.execute(i,n)}))}))}get decoratedFactory(){return this._decoratedFactory}init(t,e){this.componentsFactory=e,(null==e?void 0:e.createAddWorkspace)&&(this.decoratedFactory.createAddWorkspace=(...e)=>(this.visibilityState.addWorkspace=[...e,t],this.componentsFactory.createAddWorkspace(...this.visibilityState.addWorkspace))),(null==e?void 0:e.createLogo)&&(this.decoratedFactory.createLogo=(...e)=>(this.visibilityState.logo=[...e,t],this.componentsFactory.createLogo(...this.visibilityState.logo))),(null==e?void 0:e.createSystemButtons)&&(this.decoratedFactory.createSystemButtons=(...n)=>(this.visibilityState.systemButtons=[...n,t],e.createSystemButtons(...this.visibilityState.systemButtons))),(null==e?void 0:e.createWorkspaceContents)&&(this.decoratedFactory.createWorkspaceContents=(...t)=>{var n;return this.visibilityState.workspaceContents.push([...t]),this.subscribeForWorkspaceContentsVisibility(null===(n=t[0])||void 0===n?void 0:n.workspaceId),e.createWorkspaceContents(...t)})}reInitialize(t){(null==t?void 0:t.createAddWorkspace)&&this.visibilityState.addWorkspace&&t.createAddWorkspace(...this.visibilityState.addWorkspace),(null==t?void 0:t.createLogo)&&this.visibilityState.logo&&t.createLogo(...this.visibilityState.logo),(null==t?void 0:t.createSystemButtons)&&this.visibilityState.systemButtons&&t.createSystemButtons(...this.visibilityState.systemButtons),(null==t?void 0:t.createWorkspaceContents)&&this.visibilityState.workspaceContents.forEach((e=>{t.createWorkspaceContents(...e)})),this.componentsFactory=t}onWorkspaceContentsShown(t){this.callbackRegistry.add(\"workspace-contents-shown\",t)}onWorkspaceContentsHidden(t){this.callbackRegistry.add(\"workspace-contents-hidden\",t)}subscribeForWorkspaceContentsVisibility(t){const e=document.getElementById(\"nestHere\"+t);e&&this.observer.observe(e,{attributes:!0,attributeFilter:[\"style\"]})}getWorkspaceIdFromContents(t){return t.id.split(\"nestHere\")[1]}};const p=require(\"resize-observer-polyfill\").default||require(\"resize-observer-polyfill\");class m{constructor(t,e,n,i){this._maximizedId=\"__glMaximised\",this._workspaceLayoutElementId=\"#outter-layout-container\",this._registry=s(),this._emptyVisibleWindowName=\"emptyVisibleWindow\",this._stackMaximizeLabel=\"maximize\",this._stackRestoreLabel=\"restore\",this._options=n,this._emitter=t,this._stateResolver=e,this._configFactory=i}get emitter(){return this._emitter}get bounds(){return c(document.getElementById(\"outter-layout-container\"))}init(e){return t(this,void 0,void 0,(function*(){this._frameId=e.frameId;(new h).init(this._workspaceLayoutElementId),yield this.initWorkspaceConfig(e.workspaceLayout),this.refreshLayoutSize(),yield Promise.all(e.workspaceConfigs.map((e=>t(this,void 0,void 0,(function*(){yield this.initWorkspaceContents(e.id,e.config),this.emitter.raiseEvent(\"workspace-added\",{workspace:d.getById(e.id)})}))))),this.setupOuterLayout(),d.workspaceIds.forEach((t=>{this.setupContentLayouts(t)}))}))}addWindow(e,n){return t(this,void 0,void 0,(function*(){n=n||r(d.workspaceLayout.root.contentItems[0].getActiveContentItem().config.id);const t=d.getByContainerId(n);if(!t.layout)return this.hideAddButton(t.id),void(yield this.initWorkspaceContents(t.id,e));const i=t.layout._maximizedItem;i&&i.toggleMaximise();let o=t.layout.root.getItemsByFilter((t=>t.isColumn||t.isRow))[0];n&&n!==t.id&&(o=t.layout.root.getItemsById(n)[0]),o||(o=t.layout.root.getItemsByFilter((t=>t.isStack))[0]);const{placementId:s,windowId:c,url:l,appName:h}=this.getWindowInfoFromConfig(e);this.registerWindowComponent(t.layout,r(s));const u=o.getComponentsByName(this._emptyVisibleWindowName)[0];return new Promise((n=>{var i;const r=this.emitter.onContentComponentCreated((t=>{t.config.id===s&&(r(),n())}));if(\"stack\"===t.layout.root.contentItems[0].type&&\"component\"!==e.type&&(e=a([e])[0]),u&&!(null===(i=u.parent.config.workspacesConfig)||void 0===i?void 0:i.wrapper)){const t=this._configFactory.wrapInGroup([e]);return t.workspacesConfig.wrapper=!1,void u.parent.parent.replaceChild(u.parent,t)}u?u.parent.replaceChild(u,e):o.addChild(e)}))}))}addContainer(e,n){var i;return t(this,void 0,void 0,(function*(){const t=d.getByContainerId(n);if(!t.layout){const n=e.id||this._configFactory.getId();return e&&(e.id=n),this.hideAddButton(t.id),yield this.initWorkspaceContents(t.id,e),r(n)}const o=t.layout._maximizedItem;o&&o.toggleMaximise();let s=t.layout.root.getItemsByFilter((t=>t.isColumn||t.isRow))[0];if(n&&(s=t.layout.root.getItemsById(n)[0]),s||(s=t.layout.root.getItemsByFilter((t=>t.isStack))[0]),t.id===n&&(\"column\"===e.type||\"stack\"===e.type?this.bundleWorkspace(t.id,\"row\"):\"row\"===e.type&&this.bundleWorkspace(t.id,\"column\"),s=t.layout.root.contentItems[0]),e.content&&a(e.content).forEach((e=>{this.registerWindowComponent(t.layout,r(e.id))})),\"component\"===s.type)throw new Error(\"The target item for add container can't be a component\");const c=s.contentItems.find((t=>\"stack\"===t.type&&!0===t.config.workspacesConfig.wrapper)),l=(null===(i=null==c?void 0:c.contentItems[0])||void 0===i?void 0:i.config.componentName)===this._emptyVisibleWindowName;return new Promise(((n,i)=>{let o=()=>{};const a=setTimeout((()=>{o(),i(`Component with id ${e.id} could not be created in 10000ms`)}),1e4);if(o=this.emitter.onContentItemCreated(((i,s)=>{i===t.id&&s.type===e.type&&(n(r(s.config.id)),o(),clearTimeout(a))})),1===(null==c?void 0:c.contentItems.length)&&l){const t=s.getComponentsByName(this._emptyVisibleWindowName)[0];t.parent.replaceChild(t,e)}else s.addChild(e)}))}))}closeContainer(t){(d.getByContainerId(t)||d.getByWindowId(t)).layout.root.getItemsById(t)[0].remove()}bundleWorkspace(t,e){const n=d.getById(t),i=n.layout.root.contentItems.map((t=>this._stateResolver.getContainerConfig(t.config.id))),o=n.layout.root.contentItems[0],s={type:e,content:i,workspacesConfig:{}};n.layout.root.replaceChild(o,s)}hideAddButton(t){$(\"#nestHere\"+t).children(\".add-button\").hide()}showAddButton(t){$(\"#nestHere\"+t).children(\".add-button\").show()}addWorkspace(e,n){var i,o;return t(this,void 0,void 0,(function*(){const t=d.workspaceLayout.root.getItemsByFilter((t=>t.isStack))[0],s={componentName:this._configFactory.getWorkspaceLayoutComponentName(e),type:\"component\",workspacesConfig:{},id:e,noTabHeader:null===(i=n.workspacesOptions)||void 0===i?void 0:i.noTabHeader,title:(null===(o=null==n?void 0:n.workspacesOptions)||void 0===o?void 0:o.title)||this._configFactory.getWorkspaceTitle(d.workspaceTitles)};this.registerWorkspaceComponent(e),t.addChild(s,void 0,!s.noTabHeader),yield this.initWorkspaceContents(e,n),this.setupContentLayouts(e),this.emitter.raiseEvent(\"workspace-added\",{workspace:d.getById(e)})}))}removeWorkspace(t){const e=d.getWorkspaceLayoutItemById(t);if(!e)throw new Error(\"Could find workspace to remove with id \"+t);d.removeById(t),e.remove()}changeTheme(t){const e=document.getElementsByTagName(\"html\")[0];\"light\"===t?e.classList.contains(t)||(e.classList.remove(\"dark\"),e.classList.add(t)):e.classList.contains(t)||(e.classList.remove(\"light\"),e.classList.add(t));const n=$(\"link[href='./dist/glue42-light-theme.css']\");(0===n.length?$(\"link[href='./dist/glue42-dark-theme.css']\"):n).attr(\"href\",`./dist/glue42-${t}-theme.css`)}getDragElement(){return $(\".lm_dragProxy\")[0]}setDragElementSize(t,e){const n=this.getDragElement();if(n){n.setAttribute(\"width\",t+\"px\"),n.setAttribute(\"height\",e+\"px\");const i=$(n).children(\".lm_content\").children(\".lm_item_container\")[0];i.setAttribute(\"width\",t+\"px\"),i.setAttribute(\"height\",e+\"px\"),i.setAttribute(\"style\",\"\")}else{const n=new MutationObserver((i=>{let o;Array.from(i).forEach((t=>{const e=$(t.addedNodes);o||(o=e.find(\".lm_dragProxy\"))})),o&&(n.disconnect(),this.setDragElementSize(t,e))}));n.observe($(\"body\")[0],{childList:!0,subtree:!0})}}removeLayoutElement(t){let e;return d.layouts.filter((t=>t.layout)).forEach((n=>{const i=n.layout.root.getItemsById(t)[0];i&&n.windows.find((e=>e.id===t))&&(n.windows=n.windows.filter((e=>e.id!==t)),i.remove(),e=n)})),e}setWindowTitle(t,e){const n=d.getWindowContentItem(t);n.setTitle(e),n.config.componentState.title=e}setWorkspaceTitle(t,e){d.getWorkspaceLayoutItemById(t).setTitle(e)}focusWindow(t){const e=d.layouts.find((e=>e.windows.some((e=>e.id===t)))).layout.root.getItemsById(t)[0];e.parent.setActiveContentItem(e)}focusWorkspace(t){const e=d.getWorkspaceLayoutItemById(t);e.parent.setActiveContentItem(e)}maximizeWindow(t){const e=d.layouts.find((e=>e.windows.some((e=>e.id===t)))).layout.root.getItemsById(t)[0];e.parent.hasId(this._maximizedId)||e.parent.toggleMaximise()}restoreWindow(t){const e=d.layouts.find((e=>e.windows.some((e=>e.id===t)))).layout.root.getItemsById(t)[0];e.parent.hasId(this._maximizedId)&&e.parent.toggleMaximise()}showLoadedWindow(e,n){return t(this,void 0,void 0,(function*(){yield this.waitForWindowContainer(e);const t=d.getWindowContentItem(e),i=d.getByWindowId(e),o=t.config;o.componentState.windowId=n,i.windows.find((t=>t.id===e)).windowId=n,t.parent.replaceChild(t,o)}))}isWindowVisible(t){t=r(t);return d.getWindowContentItem(t).parent.getActiveContentItem().config.id===t}initWorkspaceContents(t,e){if(!e||\"component\"!==e.type&&!e.content.length)return d.addOrUpdate(t,[]),this.showAddButton(t),Promise.resolve();const n=((t,e)=>{let n,i,o=0;const s=setTimeout((()=>{i()}),e||1e4);return{reject:t=>{clearTimeout(s),i(t)},signal:()=>{o++,o>=t&&(clearTimeout(s),n())},promise:new Promise(((t,e)=>{n=t,i=e}))}})(2);e.settings||(e.settings=this._configFactory.getDefaultWorkspaceSettings()),e.type&&\"workspace\"!==e.type&&(e={settings:this._configFactory.getDefaultWorkspaceSettings(),content:[{type:\"column\",content:[e],workspacesConfig:{}}]}),\"component\"!==e.type&&\"stack\"===e.content[0].type&&(e=Object.assign(Object.assign({},e),{content:[{type:\"column\",content:e.content,workspacesConfig:{}}]}));const o=new i(e,$(\"#nestHere\"+t));d.addOrUpdate(t,[]),this.registerEmptyWindowComponent(o,t),a(e.content).forEach((t=>{this.registerWindowComponent(o,r(t.id))}));const s=$(\"#nestHere\"+t);return o.on(\"initialised\",(()=>{const e=a(o.toConfig().content);d.addOrUpdate(t,e.map((t=>{const e=o.root.getItemsById(r(t.id))[0].element;return{id:r(t.id),bounds:c(e),windowId:t.componentState.windowId}})),o),this.emitter.raiseEventWithDynamicName(\"content-layout-initialised-\"+t),this.emitter.raiseEvent(\"content-layout-init\",{layout:o});const i=s.width(),l=s.height();o.updateSize(i,l),n.signal()})),o.on(\"stateChanged\",(()=>{this.emitter.raiseEvent(\"content-layout-state-changed\",{layoutId:t})})),o.on(\"itemCreated\",(e=>{var n;if(e.isComponent)e.on(\"size-changed\",(()=>{const n=d.getById(t).windows.find((t=>t.id===e.config.id));n&&(n.bounds=c(e.element));const i=e.config.id;this.emitter.raiseEvent(\"content-item-resized\",{target:e.element[0],id:r(i)})})),(e.config.componentName===this._emptyVisibleWindowName||(null===(n=e.parent)||void 0===n?void 0:n.config.workspacesConfig.wrapper))&&e.tab.header.position(!1);else{if(e.isRoot)return void(e.id&&e.id.length||e.addId(t));e.config.id&&e.config.id.length||e.addId(this._configFactory.getId())}this.emitter.raiseEvent(\"content-item-created\",{workspaceId:t,item:e})})),o.on(\"stackCreated\",(e=>{const n=document.createElement(\"li\");n.classList.add(\"lm_add_button\"),n.onclick=i=>{i.stopPropagation(),this.emitter.raiseEvent(\"add-button-clicked\",{args:{laneId:r(e.config.id),workspaceId:t,bounds:c(n)}})};const i=$(e.element).children(\".lm_header\").children(\".lm_controls\").children(\".lm_maximise\");i.addClass(\"workspace_content\"),e.on(\"maximized\",(()=>{i.addClass(\"lm_restore\"),i.attr(\"title\",this._stackRestoreLabel),this.emitter.raiseEvent(\"stack-maximized\",{stack:e})})),e.on(\"minimized\",(()=>{i.removeClass(\"lm_restore\"),i.attr(\"title\",this._stackMaximizeLabel),this.emitter.raiseEvent(\"stack-restored\",{stack:e})})),this._options.disableCustomButtons||e.header.controlsContainer.prepend($(n)),e.on(\"activeContentItemChanged\",(()=>{const t=e.getActiveContentItem();if(!t.isComponent)return;const n=t.config.id,i=[{id:r(t.config.id),bounds:c(t.element),windowId:t.config.componentState.windowId,appName:t.config.componentState.appName,url:t.config.componentState.url}],o=e.header.tabs.reduce(((t,e)=>{const n=e.contentItem.config;if(\"component\"===n.type){const i={id:r(n.id),bounds:c(e.contentItem.element),windowId:n.componentState.windowId,appName:n.componentState.appName,url:n.componentState.url};t.push(i)}return t}),[]).filter((t=>t.id!==n));this.emitter.raiseEvent(\"selection-changed\",{toBack:o,toFront:i})})),e.on(\"popoutRequested\",(()=>{const t=e.getActiveContentItem();this.emitter.raiseEvent(\"eject-requested\",{item:t})}))})),o.on(\"tabCreated\",(t=>{t._dragListener.on(\"drag\",(()=>{this.emitter.raiseEvent(\"tab-drag\",{tab:t})})),t._dragListener.on(\"dragStart\",(()=>{this.emitter.raiseEvent(\"tab-drag-start\",{tab:t})})),t._dragListener.on(\"dragEnd\",(()=>{this.emitter.raiseEvent(\"tab-drag-end\",{tab:t})})),t.element.mousedown((()=>{this.emitter.raiseEvent(\"tab-element-mouse-down\",{tab:t})})),this.refreshTabSizeClass(t)})),o.on(\"tabCloseRequested\",(t=>{this.emitter.raiseEvent(\"tab-close-requested\",{item:t.contentItem})})),o.on(\"componentCreated\",(e=>{const i=this.emitter.raiseEvent(\"content-component-created\",{component:e,workspaceId:t});Array.isArray(i)?Promise.all(i).then((()=>{n.signal()})).catch((t=>n.reject(t))):i.then((()=>{n.signal()})).catch((t=>n.reject(t)))})),o.init(),n.promise}initWorkspaceConfig(e){return new Promise((n=>{e.settings.selectionEnabled=!0,d.workspaceLayout=new i(e,$(this._workspaceLayoutElementId),u.decoratedFactory);new p((t=>{Array.from(t).forEach((t=>{this.emitter.raiseEvent(\"outer-layout-container-resized\",{target:t.target})}))})).observe($(\"#outter-layout-container\")[0]),e.content[0].content.forEach((t=>{const e=t.id;this.registerWorkspaceComponent(r(e))})),d.workspaceLayout.on(\"initialised\",(()=>{this.emitter.raiseEvent(\"workspace-layout-initialised\",{}),n()})),d.workspaceLayout.on(\"stackCreated\",(e=>{var n;const i=e.header.controlsContainer.children(\".lm_close\")[0];i&&(i.onclick=()=>{this.emitter.raiseEvent(\"close-frame\",{})});const o=e.header.element[0];if(new MutationObserver((()=>{const t=this.getElementByClass(o,\"lm_add_button\");t&&u.decoratedFactory.createAddWorkspace&&(t.onclick=e=>{e.stopPropagation(),this.emitter.raiseEvent(\"workspace-add-button-clicked\",{bounds:c(t)})})})).observe(e.header.element[0],{attributes:!1,childList:!0,subtree:!0}),!this._options.disableCustomButtons&&!(null===(n=u.decoratedFactory)||void 0===n?void 0:n.createAddWorkspace)){const t=document.createElement(\"li\");t.classList.add(\"lm_add_button\"),t.onclick=t=>{t.stopPropagation(),this._emitter.raiseEvent(\"workspace-add-button-clicked\",{})},e.header.workspaceControlsContainer.prepend($(t))}if(!u.decoratedFactory.createLogo){const t=document.createElement(\"span\");t.classList.add(\"logo_type\");const n=e.header.element[0].getElementsByClassName(\"lm_logo\")[0];n&&n.appendChild(t)}e.on(\"activeContentItemChanged\",(()=>t(this,void 0,void 0,(function*(){if(0===d.workspaceIds.length)return;const t=e.getActiveContentItem().config.id;yield this.waitForLayout(r(t));const n=d.workspaceIds.reduce(((t,e)=>[...t,...d.getById(e).windows]),[]);this.emitter.raiseEvent(\"workspace-selection-changed\",{workspace:d.getById(t),toBack:n})}))))})),d.workspaceLayout.on(\"itemCreated\",(t=>{t.isComponent&&t.on(\"size-changed\",(()=>{this.emitter.raiseEvent(\"workspace-content-container-resized\",{target:t,id:r(t.config.id)}),this.emitter.raiseEventWithDynamicName(\"workspace-content-container-resized-\"+t.config.id,t)}))})),d.workspaceLayout.on(\"tabCreated\",(t=>{const e=document.createElement(\"div\");e.classList.add(\"lm_saveButton\"),e.onclick=e=>{e.stopPropagation(),this.emitter.raiseEvent(\"workspace-save-requested\",{workspaceId:r(t.contentItem.config.id)})},this._options.disableCustomButtons||t.element[0].prepend(e),this.refreshTabSizeClass(t)})),d.workspaceLayout.on(\"tabCloseRequested\",(t=>{this.emitter.raiseEvent(\"workspace-tab-close-requested\",{workspace:d.getById(t.contentItem.config.id)})})),d.workspaceLayout.init()}))}setupOuterLayout(){this.emitter.onOuterLayoutContainerResized((t=>{d.workspaceLayout.updateSize($(t).width(),$(t).height())}))}setupContentLayouts(t){this.emitter.onContentContainerResized((e=>{const n=d.getById(t).layout;n&&n.updateSize($(e.element).width(),$(e.element).height())}),t)}registerWindowComponent(t,e){this.registerComponent(t,\"app\"+e,(t=>{const n=document.createElement(\"div\");n.setAttribute(\"style\",\"height:100%;\"),n.id=\"app\"+e,t.getElement().append(n)}))}registerEmptyWindowComponent(t,e){this.registerComponent(t,this._emptyVisibleWindowName,(t=>{const n=document.createElement(\"div\");n.classList.add(\"empty-container-background\");const i=document.createElement(\"button\");i.classList.add(\"add-button\"),i.onclick=n=>{n.stopPropagation();const o=t.tab.contentItem,s=\"stack\"===o.parent.type?\"group\":o.parent.type;o.parent.config.workspacesConfig.wrapper?this.emitter.raiseEvent(\"add-button-clicked\",{args:{laneId:r(o.parent.parent.config.id),workspaceId:e,parentType:o.parent.parent.type,bounds:c(i)}}):this.emitter.raiseEvent(\"add-button-clicked\",{args:{laneId:r(o.parent.config.id),workspaceId:e,parentType:s,bounds:c(i)}})},n.append(i),t.getElement().append(n)}))}registerWorkspaceComponent(t){this.registerComponent(d.workspaceLayout,this._configFactory.getWorkspaceLayoutComponentName(t),(e=>{var n,i;const o=document.createElement(\"div\");o.setAttribute(\"style\",\"height:calc(100% - 1px); width:calc(100% - 1px);\"),o.id=\"nestHere\"+t;const s=document.createElement(\"button\");s.classList.add(\"add-button\"),s.onclick=n=>{n.stopPropagation();const i=e.tab.contentItem;this.emitter.raiseEvent(\"add-button-clicked\",{args:{laneId:r(i.parent.id),workspaceId:t,bounds:c(s)}})},o.appendChild(s),(null===(n=u.decoratedFactory)||void 0===n?void 0:n.createWorkspaceContents)?(document.body.append(o),o.style.display=\"none\",null===(i=u.decoratedFactory)||void 0===i||i.createWorkspaceContents({workspaceId:t,domNode:e.getElement()[0]})):e.getElement().append(o),$(s).hide()}))}registerComponent(t,e,n){try{t.registerComponent(e,(function(t,e){n&&n(t,e)}))}catch(t){console.log(\"Tried to register and already existing component - \"+e)}}waitForLayout(t){return new Promise((e=>{const n=this._registry.add(\"content-layout-initialised-\"+t,(()=>{e(),n()}));d.getById(t)&&(e(),n())}))}waitForWindowContainer(t){return new Promise((e=>{const n=this.emitter.onContentComponentCreated((i=>{i.config.id===t&&(e(),n())}));d.getWindowContentItem(t)&&(e(),n())}))}getWindowInfoFromConfig(t){return\"component\"!==t.type?this.getWindowInfoFromConfig(t.content[0]):{placementId:r(t.id),windowId:t.componentState.windowId,appName:t.componentState.appName,url:t.componentState.url}}refreshLayoutSize(){const t=c($(this._workspaceLayoutElementId));d.workspaceLayout.updateSize(t.width,t.height)}refreshTabSizeClass(t){const e=t.header.tabs,n=e.map((t=>t.element)).some((t=>t.hasClass(\"lm_tab_small\"))),i=e.map((t=>t.element)).some((t=>t.hasClass(\"lm_tab_mini\")));n&&t.element.addClass(\"lm_tab_small\"),i&&t.element.addClass(\"lm_tab_mini\")}getElementByClass(t,e){const n=t.getElementsByClassName(e);if(n.length>1)throw new Error(`Multiple elements with class ${e} in element with id ${t.id} and class ${t.className} are not supported`);return n[0]}}class f{constructor(t){this._registry=t}onWorkspaceLayoutInit(t){return this._registry.add(\"workspace-layout-initialised\",t)}onContentLayoutInit(t){return this._registry.add(\"content-layout-init\",t)}onOuterLayoutContainerResized(t){return this._registry.add(\"outer-layout-container-resized\",t)}onContentContainerResized(t,e){return e?this._registry.add(\"workspace-content-container-resized-\"+e,t):this._registry.add(\"workspace-content-container-resized\",t)}onContentItemResized(t){return this._registry.add(\"content-item-resized\",t)}onContentComponentCreated(t){return this._registry.add(\"content-component-created\",t)}onFrameCloseRequested(t){return this._registry.add(\"close-frame\",t)}onRestoreRequested(t){return this._registry.add(\"restore-frame\",t)}onMaximizeRequested(t){return this._registry.add(\"maximize-frame\",t)}onMinimizeRequested(t){return this._registry.add(\"minimize-frame\",t)}onMoveAreaChanged(t){return this._registry.add(\"move-area-changed\",t)}onTabCloseRequested(t){return this._registry.add(\"tab-close-requested\",t)}onTabDragStart(t){return this._registry.add(\"tab-drag-start\",t)}onTabDrag(t){return this._registry.add(\"tab-drag\",t)}onTabDragEnd(t){return this._registry.add(\"tab-drag-end\",t)}onTabElementMouseDown(t){return this._registry.add(\"tab-element-mouse-down\",t)}onSelectionChanged(t){return this._registry.add(\"selection-changed\",t)}onWorkspaceAdded(t){return this._registry.add(\"workspace-added\",t)}onWorkspaceSelectionChanged(t){return this._registry.add(\"workspace-selection-changed\",t)}onWorkspaceTabCloseRequested(t){return this._registry.add(\"workspace-tab-close-requested\",t)}onAddButtonClicked(t){return this._registry.add(\"add-button-clicked\",t)}onContentLayoutStateChanged(t){return this._registry.add(\"content-layout-state-changed\",t)}onContentItemCreated(t){return this._registry.add(\"content-item-created\",t)}onWorkspaceAddButtonClicked(t){return this._registry.add(\"workspace-add-button-clicked\",t)}onWorkspaceSaveRequested(t){return this._registry.add(\"workspace-save-requested\",t)}onStackMaximized(t){return this._registry.add(\"stack-maximized\",t)}onStackRestored(t){return this._registry.add(\"stack-restored\",t)}onEjectRequested(t){return this._registry.add(\"eject-requested\",t)}raiseEvent(t,e){const n=this._registry.execute(t,...Object.values(e));return Array.isArray(n)&&n.some((t=>t&&t.then))||n&&!Array.isArray(n)&&n.then?n:Promise.resolve(n)}raiseEventWithDynamicName(t,...e){this._registry.execute(t,...e)}}var g=1;var y,v,w,_={nextValue:function(){return(g=(9301*g+49297)%233280)/233280},seed:function(t){g=t}},b=\"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-\";function C(){w=!1}function I(t){if(t){if(t!==y){if(t.length!==b.length)throw new Error(\"Custom alphabet for shortid must be \"+b.length+\" unique characters. You submitted \"+t.length+\" characters: \"+t);var e=t.split(\"\").filter((function(t,e,n){return e!==n.lastIndexOf(t)}));if(e.length)throw new Error(\"Custom alphabet for shortid must be \"+b.length+\" unique characters. These characters were not unique: \"+e.join(\", \"));y=t,C()}}else y!==b&&(y=b,C())}function x(){return w||(w=function(){y||I(b);for(var t,e=y.split(\"\"),n=[],i=_.nextValue();e.length>0;)i=_.nextValue(),t=Math.floor(i*e.length),n.push(e.splice(t,1)[0]);return n.join(\"\")}())}var k={get:function(){return y||b},characters:function(t){return I(t),y},seed:function(t){_.seed(t),v!==t&&(C(),v=t)},lookup:function(t){return x()[t]},shuffled:x},E=\"object\"==typeof window&&(window.crypto||window.msCrypto),S=E&&E.getRandomValues?function(t){return E.getRandomValues(new Uint8Array(t))}:function(t){for(var e=[],n=0;n<t;n++)e.push(Math.floor(256*Math.random()));return e},T=function(t,e,n){for(var i=(2<<Math.log(e.length-1)/Math.LN2)-1,o=-~(1.6*i*n/e.length),s=\"\";;)for(var r=t(o),a=o;a--;)if((s+=e[r[a]&i]||\"\").length===+n)return s};var W,A,D=function(t){for(var e,n=0,i=\"\";!e;)i+=T(S,k.get(),1),e=t<Math.pow(16,n+1),n++;return i};var P=function(t){var e=\"\",n=Math.floor(.001*(Date.now()-1567752802062));return n===A?W++:(W=0,A=n),e+=D(7),e+=D(t),W>0&&(e+=D(W)),e+=D(n)};var L=function(t){return!(!t||\"string\"!=typeof t||t.length<6)&&!new RegExp(\"[^\"+k.get().replace(/[|\\\\{}()[\\]^$+*?.-]/g,\"\\\\$&\")+\"]\").test(t)},M=n((function(t){var e=0;function n(){return P(e)}t.exports=n,t.exports.generate=n,t.exports.seed=function(e){return k.seed(e),t.exports},t.exports.worker=function(n){return e=n,t.exports},t.exports.characters=function(t){return void 0!==t&&k.characters(t),k.shuffled()},t.exports.isValid=L}));class F{constructor(t){this._registry=s(),this._idToFrame={},this._glue=t}startFrame(e,n,i,o,s){return t(this,void 0,void 0,(function*(){if(s=s||M.generate(),this._idToFrame[e])return this._idToFrame[e];const t=this._glue.windows.findById(s);if(t)try{yield t.close()}catch(t){}if(!n)throw new Error(`The url of window with itemId ${e} is undefined`);const i=document.createElement(\"iframe\");if(i.name=s,i.src=n,document.body.appendChild(i),$(i).on(\"load\",(()=>{try{const t=i.contentDocument||i.contentWindow.document;t.onclick=()=>{this._registry.execute(\"frame-content-clicked\",{})};const n=t.querySelector(\"title\"),o=new MutationObserver((()=>{this._registry.execute(\"window-title-changed\",e,t.title)})),s={childList:!0};n&&o.observe(n,s),t.title&&this._registry.execute(\"window-title-changed\",e,t.title)}catch(t){console.warn(t)}})),this._registry.execute(\"frameLoaded\",e),i.setAttribute(\"id\",e),$(i).css(\"position\",\"absolute\"),this._idToFrame[e]=i,yield this.waitForWindow(s),o){this._glue.windows.findById(s).setContext(o)}return i}))}moveFrame(t,e){const n=this._idToFrame[t],i=$(n);i.css(\"top\",e.top+\"px\"),i.css(\"left\",e.left+\"px\"),i.css(\"width\",e.width+\"px\"),i.css(\"height\",e.height+\"px\")}selectionChanged(t,e){e.forEach((t=>{$(this._idToFrame[t]).css(\"z-index\",\"-1\")})),t.forEach((t=>{$(this._idToFrame[t]).hasClass(\"maximized-active-tab\")?$(this._idToFrame[t]).css(\"z-index\",\"42\"):$(this._idToFrame[t]).css(\"z-index\",\"19\")}))}maximizeTab(t){$(this._idToFrame[t]).addClass(\"maximized-active-tab\")}restoreTab(t){$(this._idToFrame[t]).removeClass(\"maximized-active-tab\")}selectionChangedDeep(t,e){e.forEach((t=>{$(this._idToFrame[t]).css(\"z-index\",\"-1\")})),t.forEach((t=>{$(this._idToFrame[t]).hasClass(\"maximized-active-tab\")?$(this._idToFrame[t]).css(\"z-index\",\"42\"):$(this._idToFrame[t]).css(\"z-index\",\"19\")}))}bringToFront(t){$(this._idToFrame[t]).css(\"z-index\",\"999\")}remove(t){const e=this._idToFrame[t];if(e){delete this._idToFrame[t];try{e.contentWindow.dispatchEvent(new Event(\"beforeunload\"))}catch(t){console.warn(t)}e.remove()}}onFrameLoaded(t){return this._registry.add(\"frameLoaded\",t)}onFrameContentClicked(t){return this._registry.add(\"frame-content-clicked\",t)}onWindowTitleChanged(t){return this._registry.add(\"window-title-changed\",t)}waitForWindow(t){return new Promise(((e,n)=>{let i=()=>{};const o=setTimeout((()=>{n(`Window with id ${t} did not appear in 5000ms`),i()}),5e3);i=this._glue.windows.onWindowAdded((n=>{n.id===t&&(i(),e(),clearTimeout(o))}));this._glue.windows.list().find((e=>e.id===t))&&(e(),i(),clearTimeout(o))}))}}var z=new class{constructor(){this.LAST_SESSION_KEY=\"lastSession\"}get(t){return JSON.parse(localStorage.getItem(t))}set(t,e){localStorage.setItem(t,JSON.stringify(e))}};var B=new class{get config(){return this._config}loadConfig(){const t=new URLSearchParams(window.location.search),e=t.get(\"emptyFrame\"),n=t.get(\"disableCustomButtons\"),i=t.get(\"workspaceName\"),o=t.get(\"workspaceNames\"),s=t.get(\"context\"),r=t.get(\"build\");let a,c=[];try{c=JSON.parse(o)||c}catch(t){}try{a=JSON.parse(s)}catch(t){}i&&c.push(i);const l={emptyFrame:null!=e&&void 0!==e,disableCustomButtons:null!=n&&void 0!==n,workspaceNames:c,context:a,build:null!=r};return this._config=l,this.cleanUpUrl(),l}cleanUpUrl(){const t=this.removeQueryParams(window.location.search,[\"emptyFrame\"]);window.history.replaceState(null,document.title,window.location.origin+window.location.pathname+t)}removeQueryParams(t,e){return e.forEach((e=>{const n=new URLSearchParams(t),i=n.get(e);Array.from(n.keys()).indexOf(e)>-1&&(t=t.replace(`${e}=${i}`,\"\"))})),\"&\"===t[t.length-1]&&(t=t.substr(0,t.length-1)),t=(t=t.replace(\"&&\",\"&\")).replace(\"?&\",\"?\")}};class N{constructor(t,e,n,i){this.resolver=t,this._glue=e,this._configFactory=n,this._configConverter=i,this._layoutsType=\"Workspace\",this._layoutComponentType=\"Workspace\"}getInitialConfig(){var e;return t(this,void 0,void 0,(function*(){if(this._initialWorkspaceConfig)return this._configFactory.generateInitialConfig([this._initialWorkspaceConfig]);const n=B.config;if(n.workspaceNames&&n.workspaceNames.length){const e=(yield Promise.all(n.workspaceNames.map((e=>t(this,void 0,void 0,(function*(){return yield this.getWorkspaceByName(e)})))))).map((t=>(t.config.workspacesOptions=t.config.workspacesOptions||{},t.config.workspacesOptions.context=t.layoutData.context,t.config))).filter((t=>t));if(e.length)return e.forEach(((t,e)=>{t.id=this._configFactory.getId(),t.workspacesOptions=t.workspacesOptions||{},n.context&&t.workspacesOptions.context?t.workspacesOptions.context=Object.assign(t.workspacesOptions.context,n.context):n.context&&(t.workspacesOptions.context=n.context),t.workspacesOptions.layoutName=n.workspaceNames[e]})),this._configFactory.generateInitialConfig(e)}else if(!(null===(e=B.config)||void 0===e?void 0:e.build)){const t=this.getLastSession();if(t&&t.length)return t.forEach((t=>{t&&(t.id=this._configFactory.getId())})),this._configFactory.generateInitialConfig(t)}return this._configFactory.getDefaultFrameConfig()}))}getLastSession(){return(z.get(z.LAST_SESSION_KEY)||[]).map((t=>(this.addWorkspaceIds(t),this.addWindowIds(t),this._configConverter.convertToRendererConfig(t))))}getSavedWorkspaceNames(){return t(this,void 0,void 0,(function*(){return(yield this._glue.layouts.getAll(this._layoutsType)).filter((t=>t.type===this._layoutsType)).map((t=>t.name))}))}export(){return t(this,void 0,void 0,(function*(){return this._glue.layouts.export(this._layoutsType)}))}getWorkspaceByName(e){return t(this,void 0,void 0,(function*(){const t=yield this._glue.layouts.get(e,this._layoutsType),n=t.components[0].state,i=this._configConverter.convertToRendererConfig(n);return this.addWorkspaceIds(i),this.addWindowIds(i),{config:i,layoutData:{metadata:t.metadata,name:e,context:n.context}}}))}delete(e){return t(this,void 0,void 0,(function*(){yield this._glue.layouts.remove(this._layoutsType,e)}))}save(e){return t(this,void 0,void 0,(function*(){const{workspace:t,title:n,name:i,saveContext:o}=e;if(!t.layout)throw new Error(\"An empty layout cannot be saved\");t.layout.config.workspacesOptions.name=i;const s=yield this.saveWorkspaceCore(t);n&&(s.config.title=n);let r={};if(o)try{r=(yield this.getWorkspaceContext(t.id))||{}}catch(t){}const a={name:i,type:this._layoutsType,metadata:{},components:[{type:this._layoutComponentType,state:{children:s.children,config:s.config,context:r}}]};return yield this._glue.layouts.import([a]),a}))}generateLayout(e,n){return t(this,void 0,void 0,(function*(){if(!n.layout)throw new Error(\"An empty layout cannot be generated\");n.layout.config.workspacesOptions.name=e;const t=yield this.saveWorkspaceCore(n);return{name:e,type:this._layoutsType,metadata:{},components:[{type:this._layoutComponentType,state:{children:t.children,config:t.config,context:{}}}]}}))}saveWorkspacesFrame(e){return t(this,void 0,void 0,(function*(){const t=e.map((t=>this.saveWorkspaceCoreSync(t))),n=yield Promise.all(t);z.set(z.LAST_SESSION_KEY,n)}))}setInitialWorkspaceConfig(t){this._initialWorkspaceConfig=t}saveWorkspaceCore(e){return t(this,void 0,void 0,(function*(){if(!e.layout)return;const t=this.resolver.getWorkspaceConfig(e.id);this.removeWorkspaceIds(t),yield this.applyWindowLayoutState(t);const n=this._configConverter.convertToAPIConfig(t);return this.removeWorkspaceItemIds(n),this.windowSummariesToWindowLayout(n),this.addWindowUrlsToWindows(n),this.workspaceSummaryToWorkspaceLayout(n),n}))}saveWorkspaceCoreSync(t){if(!t.layout)return;const e=this.resolver.getWorkspaceConfig(t.id);this.removeWorkspaceIds(e);const n=this._configConverter.convertToAPIConfig(e);return this.removeWorkspaceItemIds(n),this.windowSummariesToWindowLayout(n),this.addWindowUrlsToWindows(n),this.workspaceSummaryToWorkspaceLayout(n),n}windowSummariesToWindowLayout(t){const e=t=>{if(\"window\"===t.type)return delete t.config.isMaximized,delete t.config.isLoaded,delete t.config.isFocused,delete t.config.windowId,delete t.config.workspaceId,delete t.config.frameId,delete t.config.positionIndex,void(t.config.appName&&delete t.config.url);t.children.forEach((t=>e(t)))};e(t)}addWindowContexts(e){return t(this,void 0,void 0,(function*(){const n=e=>t(this,void 0,void 0,(function*(){if(\"window\"!==e.type)yield Promise.all(e.children.map((t=>n(t))));else if(e.config.windowId){const t=this._glue.windows.findById(e.config.windowId);if(t){const n=yield t.getContext();e.config.context=Object.assign({},e.config.context||{},n)}}}));yield n(e)}))}workspaceSummaryToWorkspaceLayout(t){(null==t?void 0:t.config)&&(delete t.config.frameId,delete t.config.positionIndex)}addWindowUrlsToWindows(t){const e=t=>{var n,i;if(\"window\"!==t.type||t.config.url||t.config.appName)\"window\"!==t.type&&t.children.forEach((t=>e(t)));else{const e=this._glue.appManager.application(t.config.appName);t.config.url=null===(i=null===(n=null==e?void 0:e.userProperties)||void 0===n?void 0:n.details)||void 0===i?void 0:i.url}};e(t)}addWorkspaceIds(t){if(!t)return;const e=t=>{t.id=this._configFactory.getId(),t.type&&\"component\"===t.type&&(t.componentName=\"app\"+t.id),\"component\"!==t.type&&t.content&&t.content.forEach((t=>e(t)))};e(t)}addWindowIds(t){if(!t)return;const e=t=>{\"component\"===t.type&&(t.componentState.windowId=this._configFactory.getId()),\"component\"!==t.type&&t.content&&t.content.forEach((t=>e(t)))};e(t)}removeWorkspaceIds(t){const e=t=>{\"id\"in t&&delete t.id,\"component\"===(null==t?void 0:t.type)&&(t.componentName=\"placeHolderId\",t.title=\"placeHolderId\"),\"component\"!==t.type&&t.content&&t.content.forEach((t=>e(t)))};e(t)}removeWorkspaceItemIds(t){const e=t=>{var n;\"id\"in t&&delete t.id,\"window\"!==t.type&&(null===(n=t.children)||void 0===n||n.forEach((t=>e(t))))};e(t)}applyWindowLayoutState(e){return t(this,void 0,void 0,(function*(){const n=e=>t(this,void 0,void 0,(function*(){if(\"component\"===e.type){const t=yield this.getWindowLayoutState(e.windowId);e.componentState.layoutState=t}else e.content.forEach((t=>n(t)))}));yield Promise.all(e.content.map((e=>t(this,void 0,void 0,(function*(){yield n(e)})))))}))}getWorkspaceContext(e){return t(this,void 0,void 0,(function*(){return yield this._glue.contexts.get(l(e))}))}getWindowLayoutState(e){return t(this,void 0,void 0,(function*(){return Promise.resolve({windowId:e})}))}}class O{constructor(t,e){this._frameId=t,this._layoutEventEmitter=e}getWindowSummary(e){return t(this,void 0,void 0,(function*(){e=Array.isArray(e)?e[0]:e;let t=d.getWindowContentItem(e);return t||(yield this.waitForWindowContentItem(e),t=d.getWindowContentItem(e)),this.getWindowSummaryCore(t,e)}))}getWindowSummarySync(t,e){t=Array.isArray(t)?t[0]:t;const n=e||d.getWindowContentItem(t);return this.getWindowSummaryCore(n,t)}getWorkspaceConfig(t){const e=d.getById(t);if(!e)throw new Error(\"Could find workspace to remove with id \"+t);const n=e.layout?e.layout.toConfig():{workspacesOptions:{},content:[],id:t};return n.workspacesOptions.frameId=this._frameId,n.workspacesOptions.positionIndex=this.getWorkspaceTabIndex(t),n.workspacesOptions.title||(n.workspacesOptions.title=d.getWorkspaceTitle(t)),n.workspacesOptions.name=n.workspacesOptions.name||n.workspacesOptions.title,this.transformComponentsToWindowSummary(n),this.transformParentsToContainerSummary(n),n}getWorkspaceSummary(t){const e=this.getWorkspaceConfig(t),n=this.getWorkspaceTabIndex(t),i={frameId:this._frameId,positionIndex:n,title:d.getWorkspaceTitle(t),name:e.workspacesOptions.name||d.getWorkspaceTitle(t)};return e.workspacesOptions.layoutName&&(i.layoutName=e.workspacesOptions.layoutName),{config:i,id:t}}isWindowMaximized(t){const e=r(t),n=d.getWindowContentItem(e);return null==n?void 0:n.parent.isMaximized}isWindowSelected(t){const e=r(t),n=d.getWindowContentItem(e);return(null==n?void 0:n.parent.getActiveContentItem().config.id)===e}getContainerSummary(t){var e;t=r(t);const n=d.getByContainerId(t),i=d.getContainer(t),o=null===(e=i.parent)||void 0===e?void 0:e.contentItems.indexOf(i);return{itemId:t,config:{workspaceId:n.id,frameId:this._frameId,positionIndex:o||0}}}getContainerSummaryByReference(t,e){var n;const i=null===(n=t.parent)||void 0===n?void 0:n.contentItems.indexOf(t);return{itemId:r(t.config.id),config:{workspaceId:e,frameId:this._frameId,positionIndex:i||0}}}getContainerConfig(t){t=r(t);const e=(d.getByContainerId(t)||d.getByWindowId(t)).layout.toConfig();return this.findElementInConfig(t,e)}isWindowInWorkspace(t){return!!d.getWindowContentItem(t)}getFrameSnapshot(){const t=d.workspaceIds.map((t=>this.getWorkspaceSummary(t)));return{id:this._frameId,config:{},workspaces:t}}getSnapshot(t){try{return this.getWorkspaceConfig(t)}catch(t){return this.getFrameSnapshot()}}findElementInConfig(t,e){const n=e=>{if(e.id===t)return[e];return(\"component\"!==e.type?e.content:[]).reduce(((t,e)=>[...t,...n(e)]),[])};return n(e).find((t=>t.id))}getWorkspaceTabIndex(t){var e;const n=null===(e=d.workspaceLayout.root.getItemsById(t)[0])||void 0===e?void 0:e.parent;if(!n)return 0;return n.header.tabs.findIndex((e=>e.contentItem.config.id===t))}getWindowSummaryCore(t,e){const n=t.parent.getActiveContentItem().config.id===t.config.id,i=void 0!==t.config.componentState.windowId,o=t.parent.contentItems.indexOf(t),s=d.getByWindowId(e).id,{appName:a,url:c,windowId:l}=t.config.componentState,h=this.getUserFriendlyParent(t);return{itemId:r(t.config.id),parentId:r(h.config.id),config:{frameId:this._frameId,isFocused:n,isLoaded:i,positionIndex:o,workspaceId:s,windowId:l,isMaximized:this.isWindowMaximized(l),appName:a,url:c,title:t.config.title}}}getUserFriendlyParent(t){return t.parent?t.parent.config.workspacesConfig.wrapper?this.getUserFriendlyParent(t.parent):t.parent:t}transformComponentsToWindowSummary(t){var e;if(\"component\"!==t.type||\"emptyVisibleWindow\"!==t.componentName){if(\"component\"===t.type){const e=this.getWindowSummarySync(t.id);return t.workspacesConfig=t.workspacesConfig||{},void(t.workspacesConfig=Object.assign(Object.assign({},t.workspacesConfig),e.config))}null===(e=t.content)||void 0===e||e.map((t=>this.transformComponentsToWindowSummary(t)))}}transformParentsToContainerSummary(t){var e;if(\"component\"!==t.type){if(\"stack\"===t.type||\"row\"===t.type||\"column\"===t.type){const e=this.getContainerSummary(t.id);t.workspacesConfig=t.workspacesConfig||{},t.workspacesConfig=Object.assign(Object.assign({},t.workspacesConfig),e.config)}null===(e=t.content)||void 0===e||e.map((t=>this.transformParentsToContainerSummary(t)))}}waitForWindowContentItem(t){return new Promise((e=>{const n=this._layoutEventEmitter.onContentComponentCreated((i=>{i.config.id===t&&(n(),e())}));d.getWindowContentItem(t)&&(n(),e())}))}}class R{constructor(){this._pattern=/^Untitled ([0-9]+)$/}getTitle(t,e=0){const n=t.filter((t=>this._pattern.test(t))).map((t=>parseInt(this._pattern.exec(t)[1],10)));return\"Untitled \"+((n.length?n.sort(((t,e)=>t-e))[n.length-1]:0)+1+e)}}class H{constructor(t){this._titleGenerator=new R,this._defaultWorkspaceLayoutSettings={showCloseIcon:!1,showMaximizeIcon:!1,showPopoutIcon:!1,disableDragProxy:!0,mode:\"workspace\"},this._glue=t}createEmptyVisibleWindowConfig(){return Object.assign(Object.assign({},this.createWindowConfigurationCore()),{componentState:{header:!1}})}createGDWindowConfig(t){const e=this.createWindowConfigurationCore(t.id);return Object.assign(Object.assign({},e),{componentName:\"app\"+e.id,windowId:t.windowId,title:t.title,componentState:{windowId:t.windowId,appName:t.appName,url:t.url,title:t.title,context:t.context}})}createApiWindow(t){return{id:Array.isArray(t.id)?t.id[0]:t.id,type:\"window\",config:{windowId:t.windowId,isMaximized:t.isMaximized,isLoaded:void 0!==t.windowId,isFocused:t.isFocused,appName:t.appName,url:t.url,title:t.title,workspaceId:t.workspaceId,frameId:t.frameId,positionIndex:t.positionIndex}}}getWorkspaceLayoutComponentName(t){return\"workspace\"+t}getWorkspaceTitle(t){return this._titleGenerator.getTitle(t)}getId(){return M.generate()}getDefaultWorkspaceSettings(){return{mode:\"default\",showCloseIcon:!1,showPopoutIcon:!0}}getDefaultFrameConfig(){const t=M.generate();return{frameId:void 0,workspaceConfigs:[{id:t,config:this.getDefaultWorkspaceConfig()}],workspaceLayout:{settings:this._defaultWorkspaceLayoutSettings,content:[{type:\"stack\",content:[{type:\"component\",id:t,componentName:this.getWorkspaceLayoutComponentName(t),componentState:{},workspacesConfig:{},title:this.getWorkspaceTitle(d.workspaceTitles)}],workspacesConfig:{}}]}}}getDefaultWorkspaceConfig(){}generateInitialConfig(t){const e={settings:this._defaultWorkspaceLayoutSettings,content:[{type:\"stack\",content:t.map((t=>{var e,n,i;const o=M.generate();return{workspacesConfig:{},type:\"component\",id:(null==t?void 0:t.id)||o,componentName:this.getWorkspaceLayoutComponentName(r(null==t?void 0:t.id)||o),componentState:{},noTabHeader:null===(e=null==t?void 0:t.workspacesOptions)||void 0===e?void 0:e.noTabHeader,title:(null===(n=null==t?void 0:t.workspacesOptions)||void 0===n?void 0:n.title)||(null===(i=null==t?void 0:t.workspacesOptions)||void 0===i?void 0:i.name)||this.getWorkspaceTitle(d.workspaceIds)}})),workspacesConfig:{}}]};return{frameId:void 0,workspaceConfigs:t.map(((t,n)=>{let i=null==t?void 0:t.id;return i||\"component\"===e.content[0].type||(i=e.content[0].content[n].id),{id:i,config:t}})),workspaceLayout:e}}wrapInGroup(t){return this.wrap(t,\"stack\")}getAppNameFromWindowId(t){const e=this._glue.appManager.instances().find((e=>e.agm.windowId===t));return null==e?void 0:e.application.name}createWindowConfigurationCore(t){return{workspacesConfig:{},type:\"component\",id:t||this.getId(),componentName:\"emptyVisibleWindow\"}}wrap(t,e){return{workspacesConfig:{wrapper:!0},type:e,content:t}}}class j{constructor(){this.registry=s()}onFrameEvent(t){return this.registry.add(\"frame\",t)}onWindowEvent(t){return this.registry.add(\"window\",t)}onContainerEvent(t){return this.registry.add(\"container\",t)}onWorkspaceEvent(t){return this.registry.add(\"workspace\",t)}raiseFrameEvent(t){this.registry.execute(\"frame\",t.action,t.payload)}raiseWindowEvent(t){this.registry.execute(\"window\",t.action,t.payload)}raiseContainerEvent(t){this.registry.execute(\"container\",t.action,t.payload)}raiseWorkspaceEvent(t){this.registry.execute(\"workspace\",t.action,t.payload)}}class q{constructor(t){this._configFactory=t,this.flat=t=>t.reduce(((t,e)=>[...t,...Array.isArray(e)?e:[e]]),[])}convertToRendererConfig(t){if(t)return this.convertToRendererConfigCore(t,void 0)}convertToAPIConfig(t){if(t)return this.convertToApiConfigCore(t)}convertToRendererConfigCore(t,e){var n,i,o,s,r;let a={type:t.type,content:[],workspacesOptions:t.config||{}};if(\"workspace\"!==t.type&&t.type||(a=this.applyDefaultRendererConfig({content:[],workspacesOptions:t.config})),\"workspace\"===t.type||!t.type){const e=t,{children:n}=e;return n.length>1&&n.every((t=>\"column\"===t.type))?a.content.push(this.wrap(n.map((t=>this.convertToRendererConfigCore(t,e))),\"row\")):n.length>1&&n.every((t=>\"row\"===t.type))?a.content.push(this.wrap(n.map((t=>this.convertToRendererConfigCore(t,e))),\"column\")):a.content.push(...n.map((t=>this.convertToRendererConfigCore(t,e)))),a}if(\"column\"===t.type||\"row\"===t.type)return a.content.push(...t.children.map((e=>this.convertToRendererConfigCore(e,t)))),0===a.content.length&&a.content.push(this.getGroupWithEmptyVisibleWindow()),a;if(\"group\"===t.type)return a.type=\"stack\",a.content.push(...t.children.map((e=>this.convertToRendererConfigCore(e,t)))),0===a.content.length&&a.content.push(this._configFactory.createEmptyVisibleWindowConfig()),a;if(\"window\"===t.type){let a=(null===(n=t.config)||void 0===n?void 0:n.appName)||t.appName;const c=null===(i=t.config)||void 0===i?void 0:i.windowId;!a&&c&&(a=this._configFactory.getAppNameFromWindowId(c));const l=this._configFactory.createGDWindowConfig({windowId:c,id:t.id,appName:a,url:(null===(o=t.config)||void 0===o?void 0:o.url)||t.url,title:(null===(s=t.config)||void 0===s?void 0:s.title)||t.title,context:(null===(r=t.config)||void 0===r?void 0:r.context)||t.context});return\"group\"!==e.type?(l.componentState.header=!1,this.wrap([l],\"stack\")):l}}convertToApiConfigCore(t){if(!t.type||\"workspace\"===t.type){t=t;const e=this.flat(t.content.map((t=>this.convertToApiConfigCore(t))));return{id:r(t.id),config:t.workspacesOptions,children:e}}if(\"component\"===t.type&&\"emptyVisibleWindow\"===t.componentName)return[];if(\"component\"!==t.type&&t.workspacesConfig&&t.workspacesConfig.wrapper)return this.flat(t.content.map((t=>this.convertToApiConfigCore(t))));if(\"component\"===t.type){const e=t.workspacesConfig;return this._configFactory.createApiWindow({id:t.id,isFocused:!1,isMaximized:e.isMaximized,windowId:t.componentState.windowId,appName:t.componentState.appName,url:t.componentState.url,frameId:e.frameId,workspaceId:e.workspaceId,title:e.title,positionIndex:e.positionIndex})}return{id:r(t.id),type:\"stack\"===t.type?\"group\":t.type,children:this.flat(t.content.map((t=>this.convertToApiConfigCore(t)))),config:{}}}wrap(t,e){return{workspacesConfig:{wrapper:!0},type:e,content:t}}applyDefaultRendererConfig(t){return Object.assign({settings:Object.assign({},this._configFactory.getDefaultWorkspaceSettings())},t)}getGroupWithEmptyVisibleWindow(){return this.wrap([this._configFactory.createEmptyVisibleWindowConfig()],\"stack\")}}class U{constructor(t,e,n){this._externalPopupManager=t,this._componentPopupManager=e,this._componentFactory=n}showAddWindowPopup(e,n){var i;return t(this,void 0,void 0,(function*(){return(null===(i=this._componentFactory)||void 0===i?void 0:i.createAddApplicationPopup)?this._componentPopupManager.showAddWindowPopup(e,n):this._externalPopupManager.showAddWindowPopup(e,n)}))}showOpenWorkspacePopup(e,n){var i;return t(this,void 0,void 0,(function*(){return(null===(i=this._componentFactory)||void 0===i?void 0:i.createAddWorkspacePopup)?this._componentPopupManager.showOpenWorkspacePopup(e):this._externalPopupManager.showOpenWorkspacePopup(e,n)}))}showSaveWorkspacePopup(e,n){var i;return t(this,void 0,void 0,(function*(){return(null===(i=this._componentFactory)||void 0===i?void 0:i.createSaveWorkspacePopup)?this._componentPopupManager.showSaveWorkspacePopup(e,n):this._externalPopupManager.showSaveWorkspacePopup(e,n)}))}hidePopup(){this._externalPopupManager.hidePopup(),this._componentFactory&&this._componentPopupManager.hidePopup()}}class V{constructor(t){this._addApplicationType=\"addApplication\",this._openWorkspaceType=\"openWorkspace\",this._saveWorkspaceType=\"saveWorkspace\",this._showPopupMethod=\"T42.Workspaces.ShowPopup\",this._glue=t,this.initPopup(),this.registerHideMethod(),this.registerResizeMethod()}showAddWindowPopup(e,n){return t(this,void 0,void 0,(function*(){this.hidePopup();const t=yield this.getPopupSize(this._addApplicationType,n);this.showElement(this._popup,e,t)}))}showOpenWorkspacePopup(e,n){return t(this,void 0,void 0,(function*(){this.hidePopup();const t=yield this.getPopupSize(this._openWorkspaceType,n);this.showElement(this._popup,e,t)}))}showSaveWorkspacePopup(e,n){return t(this,void 0,void 0,(function*(){this.hidePopup();const t=yield this.getPopupSize(this._saveWorkspaceType,n);this.showElement(this._popup,e,t)}))}hidePopup(){$(this._popup).css(\"visibility\",\"hidden\")}initPopup(){}showElement(t,e,n){$(t).css(\"visibility\",\"visible\").css(\"top\",e.top+\"px\").css(\"left\",e.left+\"px\"),n.height&&$(t).css(\"height\",n.height+\"px\"),n.width&&$(t).css(\"width\",n.width+\"px\");const i=t.getBoundingClientRect(),o=document.body.getBoundingClientRect(),s=o.width-i.right-10,r=o.height-i.bottom-10;s<0&&$(t).css(\"left\",e.left+s),r<0&&$(t).css(\"top\",e.top+r)}resizePopup(t){const e=$(this._popup);t.height&&e.css(\"height\",t.height+\"px\"),t.width&&e.css(\"width\",t.width+\"px\");const n=this._popup.getBoundingClientRect(),i=document.body.getBoundingClientRect(),o=i.width-n.right-10,s=i.height-n.bottom-10;if(o<0){const t=e.css(\"left\"),n=parseInt(t.substring(0,t.length-2));e.css(\"left\",n+o)}if(s<0){const t=e.css(\"top\"),n=parseInt(t.substring(0,t.length-2));e.css(\"top\",n+s)}}getPopupSize(e,n){return t(this,void 0,void 0,(function*(){const t=this.getPopupInteropId(),i=this._glue.agm.servers().find((e=>e.peerId===t));return(yield this._glue.agm.invoke(this._showPopupMethod,{type:e,payload:n},i)).returned}))}registerHideMethod(){this._glue.agm.register(\"T42.Workspaces.HidePopup\",(()=>{this.hidePopup()}))}registerResizeMethod(){this._glue.agm.register(\"T42.Workspaces.ResizePopup\",(t=>{this.resizePopup(t.size)}))}getPopupInteropId(){try{return this._popup.contentWindow.interopId||\"best\"}catch(t){console.warn(\"Could not get the popup interop id using best\")}return\"best\"}getPopupWindowTemplate(t){return`<iframe id=\"popup\" src=\"${t}\" class=\"popup\"></iframe>`}}class G{constructor(t,e){this._addApplicationType=\"addApplication\",this._openWorkspaceType=\"openWorkspace\",this._saveWorkspaceType=\"saveWorkspace\",this._popupSizes={[this._addApplicationType]:{height:200,width:200},[this._openWorkspaceType]:{height:200,width:200},[this._saveWorkspaceType]:{height:200,width:200}},this.hidePopup=()=>(document.body.onclick=void 0,$(this._popup).css(\"visibility\",\"hidden\"),new Promise((t=>{var e;(null===(e=this._componentFactory)||void 0===e?void 0:e.hideSystemPopups)?this._componentFactory.hideSystemPopups(t):t()}))),this._componentFactory=t,this._frameId=e,this.initPopup()}showAddWindowPopup(e,{workspaceId:n,parentType:i,boxId:o}){return t(this,void 0,void 0,(function*(){yield this.showInternalAddAppPopup(e,o,n,i)}))}showOpenWorkspacePopup(e){return t(this,void 0,void 0,(function*(){yield this.showInternalOpenWorkspacePopup(e)}))}showSaveWorkspacePopup(e,n){return t(this,void 0,void 0,(function*(){yield this.showInternalSaveWorkspacePopup(e,n)}))}showInternalSaveWorkspacePopup(e,n){return t(this,void 0,void 0,(function*(){yield this.hidePopup();const t=this.getPopupSize(this._saveWorkspaceType);this.showElement(this._popup,e,t),this._componentFactory.createSaveWorkspacePopup({domNode:this._popup,resizePopup:t=>this.resizePopup(t,this._saveWorkspaceType,$(this._popup)),hidePopup:this.hidePopup,workspaceId:n.workspaceId,buildMode:n.buildMode})}))}showInternalOpenWorkspacePopup(e){return t(this,void 0,void 0,(function*(){yield this.hidePopup();const t=this.getPopupSize(this._openWorkspaceType);this.showElement(this._popup,e,t),this._componentFactory.createAddWorkspacePopup({domNode:this._popup,frameId:this._frameId,hidePopup:this.hidePopup,resizePopup:t=>this.resizePopup(t,this._openWorkspaceType,$(this._popup))})}))}showInternalAddAppPopup(e,n,i,o){return t(this,void 0,void 0,(function*(){yield this.hidePopup();const t=this.getPopupSize(this._addApplicationType);this.showElement(this._popup,e,t),this._componentFactory.createAddApplicationPopup({domNode:this._popup,boxId:n,parentType:o,resizePopup:t=>this.resizePopup(t,this._addApplicationType,$(this._popup)),hidePopup:this.hidePopup,workspaceId:i,frameId:this._frameId})}))}initPopup(){this._popup=document.createElement(\"div\"),this._popup.classList.add(\"workspaces-system-popup\"),document.body.appendChild(this._popup)}showElement(t,e,n){document.body.onclick=t=>{-1===t.composedPath().indexOf(this._popup)&&this.hidePopup()},$(t).css(\"visibility\",\"visible\").css(\"top\",e.top+\"px\").css(\"left\",e.left+\"px\"),n.height&&$(t).css(\"height\",n.height+\"px\"),n.width&&$(t).css(\"width\",n.width+\"px\");const i=t.getBoundingClientRect(),o=document.body.getBoundingClientRect(),s=o.width-i.right-10,r=o.height-i.bottom-10;s<0&&$(t).css(\"left\",e.left+s),r<0&&$(t).css(\"top\",e.top+r)}resizePopup(t,e,n){t.height&&(n.css(\"height\",t.height+\"px\"),this._popupSizes[e].height=t.height),t.width&&(n.css(\"width\",t.width+\"px\"),this._popupSizes[e].width=t.width);const i=n[0].getBoundingClientRect(),o=document.body.getBoundingClientRect(),s=o.width-i.right-10,r=o.height-i.bottom-10;if(s<0){const t=n.css(\"left\"),e=parseInt(t.substring(0,t.length-2),10);n.css(\"left\",e+s)}if(r<0){const t=n.css(\"top\"),e=parseInt(t.substring(0,t.length-2),10);n.css(\"top\",e+r)}}getPopupSize(t){return this._popupSizes[t]}}var X=new class{constructor(){this._isLayoutInitialized=!1,this._initPromise=Promise.resolve(),this._workspacesEventEmitter=new j,this._titleGenerator=new R,this.getComponentBounds=()=>this._controller.bounds,this.subscribeForWindowClicked=t=>this._frameController.onFrameContentClicked(t),this.cleanUp=()=>{var t;if(null===(t=B.config)||void 0===t?void 0:t.build)return;const e=[],n=d.workspaceIds.map((t=>{const n=d.getById(t);return e.push(...n.windows.map((t=>this.stateResolver.getWindowSummarySync(t.id)))),this.stateResolver.getWorkspaceSummary(t)}));e.forEach((t=>{this.workspacesEventEmitter.raiseWindowEvent({action:\"removed\",payload:{windowSummary:t}})})),n.forEach((t=>{this.workspacesEventEmitter.raiseWorkspaceEvent({action:\"closed\",payload:{frameSummary:{id:this._frameId},workspaceSummary:t}})}));const i=d.layouts.filter((t=>{var e,n,i;return!(null===(i=null===(n=null===(e=t.layout)||void 0===e?void 0:e.config)||void 0===n?void 0:n.workspacesOptions)||void 0===i?void 0:i.noTabHeader)}));this._layoutsManager.saveWorkspacesFrame(i),this.workspacesEventEmitter.raiseFrameEvent({action:\"closed\",payload:{frameSummary:{id:this._frameId}}})}}get stateResolver(){return this._stateResolver}get workspacesEventEmitter(){return this._workspacesEventEmitter}get initPromise(){return this._initPromise}get initialized(){return this._initialized}get frameId(){return this._frameId}init(t,e,n){this._glue=t;const i=B.loadConfig();if(this._initialized)return void u.reInitialize(n);this._initialized=!0,this._frameId=e,this._configFactory=new H(t);const o=new q(this._configFactory);u.init(this._frameId,n);const r=new f(s());return this._stateResolver=new O(this._frameId,r),this._controller=new m(r,this._stateResolver,i,this._configFactory),this._frameController=new F(t),this._layoutsManager=new N(this.stateResolver,t,this._configFactory,o),this._popupManager=new U(new V(t),new G(n,e),n),i.emptyFrame||this.initLayout(),{cleanUp:this.cleanUp}}saveWorkspace(e,n,i){return t(this,void 0,void 0,(function*(){const t=d.getById(n)||d.getActiveWorkspace(),o=yield this._layoutsManager.save({name:e,workspace:t,title:e,saveContext:i});return t.layout.config.workspacesOptions.layoutName=e,t.layout.config.workspacesOptions.noTabHeader&&delete t.layout.config.workspacesOptions.noTabHeader,d.getWorkspaceLayoutItemById(n).setTitle(e),o}))}openWorkspace(e,n){return t(this,void 0,void 0,(function*(){const t=yield this._layoutsManager.getWorkspaceByName(e),i=t.config;return i.workspacesOptions.context=t.layoutData.context,(null==n?void 0:n.context)&&i.workspacesOptions.context?i.workspacesOptions.context=Object.assign(t.layoutData.context,null==n?void 0:n.context):(null==n?void 0:n.context)&&(i.workspacesOptions.context=null==n?void 0:n.context),(null==n?void 0:n.title)&&(i.workspacesOptions.title=null==n?void 0:n.title),i&&i.workspacesOptions&&!i.workspacesOptions.name&&(i.workspacesOptions.name=e),i&&(i.workspacesOptions=i.workspacesOptions||{},i.workspacesOptions.layoutName=t.layoutData.name),i&&void 0!==(null==n?void 0:n.noTabHeader)&&(i.workspacesOptions=i.workspacesOptions||{},i.workspacesOptions.noTabHeader=null==n?void 0:n.noTabHeader),this._isLayoutInitialized?e?(i.id=this._configFactory.getId(),yield this.addWorkspace(r(i.id),i),r(i.id)):void 0:(this._layoutsManager.setInitialWorkspaceConfig(i),this._initPromise=this.initLayout(),yield this._initPromise,r(i.id))}))}exportAllLayouts(){return this._layoutsManager.export()}deleteLayout(t){this._layoutsManager.delete(t)}maximizeItem(t){this._controller.maximizeWindow(t)}restoreItem(t){this._controller.restoreWindow(t)}closeItem(t){const e=d.getWindow(t),n=d.getContainer(t);if(this._frameId===t)d.workspaceIds.forEach((t=>this.closeWorkspace(d.getById(t))));else if(e){const e=d.getWindowContentItem(t);this.closeTab(e)}else if(n)this._controller.closeContainer(t);else{const e=d.getById(t);this.closeWorkspace(e)}}addContainer(t,e){return this._controller.addContainer(t,e)}addWindow(t,e){const n=d.getContainer(e);return n&&\"stack\"===n.type||\"component\"!==t.type||(t=this._configFactory.wrapInGroup([t])),this._controller.addWindow(t,e)}setItemTitle(t,e){d.getById(t)?this._controller.setWorkspaceTitle(t,e):this._controller.setWindowTitle(t,e)}eject(e){return t(this,void 0,void 0,(function*(){const{appName:t,url:n,windowId:i}=e.config.componentState,o=d.getWorkspaceContext(d.getByWindowId(e.config.id).id),s=this._glue.windows.findById(i),a=s?yield s.getContext():o;this.closeItem(r(e.config.id));const c=this.getUrlByAppName(t)||n;return{windowId:(yield this._glue.windows.open(t,c,{context:a})).id}}))}createWorkspace(e){return t(this,void 0,void 0,(function*(){if(!this._isLayoutInitialized)return e.id=this._configFactory.getId(),this._layoutsManager.setInitialWorkspaceConfig(e),this._initPromise=this.initLayout(),yield this._initPromise,r(e.id);const t=this._configFactory.getId();return yield this.addWorkspace(t,e),t}))}loadWindow(e){return t(this,void 0,void 0,(function*(){let t=d.getWindowContentItem(e),{windowId:n}=t.config.componentState;return n||(yield this.waitForFrameLoaded(e),t=d.getWindowContentItem(e),n=t.config.componentState.windowId),new Promise(((t,i)=>{n||i(`The window id of ${e} is missing`);let o=()=>{};const s=setTimeout((()=>{i(`Could not load window ${n} for 5000ms`),o()}),5e3);o=this._glue.windows.onWindowAdded((e=>{e.id===n&&(t({windowId:n}),o(),clearTimeout(s))}));this._glue.windows.list().find((t=>t.id===n))&&(t({windowId:n}),o(),clearTimeout(s))}))}))}focusItem(e){return t(this,void 0,void 0,(function*(){const t=d.getById(e);this._frameId===e?yield this._glue.windows.my().focus():t?this._controller.focusWorkspace(t.id):this._controller.focusWindow(e)}))}bundleWorkspace(t,e){this._controller.bundleWorkspace(t,e)}move(t){return this._glue.windows.my().moveTo(t.y,t.x)}getFrameSummary(t){const e=d.getByContainerId(t)||d.getByWindowId(t)||d.getById(t),n=this._frameId===t;return{id:e||n?this._frameId:\"none\"}}moveWindowTo(e,n){return t(this,void 0,void 0,(function*(){if(!(d.getByContainerId(n)||d.getById(n)))throw new Error(`Could not find container ${n} in frame ${this._frameId}`);const t=d.getWindowContentItem(e);if(!t)throw new Error(`Could not find window ${e} in frame ${this._frameId}`);return this.closeTab(t),this._controller.addWindow(t.config,n)}))}generateWorkspaceLayout(t,e){const n=d.getById(e);if(!n)throw new Error(\"Could not find workspace with id \"+e);return this._layoutsManager.generateLayout(t,n)}initLayout(){return t(this,void 0,void 0,(function*(){const t=yield this._layoutsManager.getInitialConfig();this.subscribeForPopups(),this.subscribeForLayout(),this._isLayoutInitialized=!0,yield Promise.all(t.workspaceConfigs.map((t=>{var e,n;return this._glue.contexts.set(l(t.id),(null===(n=null===(e=t.config)||void 0===e?void 0:e.workspacesOptions)||void 0===n?void 0:n.context)||{})}))),yield this._controller.init({frameId:this._frameId,workspaceLayout:t.workspaceLayout,workspaceConfigs:t.workspaceConfigs}),d.layouts.map((t=>t.layout)).filter((t=>t)).forEach((t=>this.reportLayoutStructure(t))),B.config.emptyFrame&&this._workspacesEventEmitter.raiseFrameEvent({action:\"opened\",payload:{frameSummary:{id:this._frameId}}})}))}subscribeForLayout(){this._controller.emitter.onContentComponentCreated(((e,n)=>t(this,void 0,void 0,(function*(){var t,i;if(\"emptyVisibleWindow\"===e.config.componentName)return;const o=d.getById(n),s=c(e.element),{componentState:a}=e.config,{windowId:l,title:h,appName:u}=a,p=r(e.config.id),m=this.getTitleByAppName(u),f=h||m||u,g=null===(t=null==e?void 0:e.config.componentState)||void 0===t?void 0:t.context;let y=this.getUrlByAppName(a.appName)||a.url;const v=!d.getWindow(p);if(d.addWindow({id:p,bounds:s,windowId:l,url:y,appName:u},o.id),(null===(i=e.config.componentState)||void 0===i?void 0:i.context)&&delete e.config.componentState.context,!y&&l){const t=this._glue.windows.list().find((t=>t.id===l));y=yield t.getURL();d.getWindow(p).url=y}if(e.config.componentState.url=y,f&&e.setTitle(f),v){const t=this.stateResolver.getWindowSummarySync(p,e);this.workspacesEventEmitter.raiseWindowEvent({action:\"added\",payload:{windowSummary:t}})}try{const t=yield this._frameController.startFrame(p,y,void 0,g,l);e.config.componentState.windowId=t.name,this._frameController.moveFrame(p,c(e.element)),v&&this._workspacesEventEmitter.raiseWindowEvent({action:\"loaded\",payload:{windowSummary:yield this.stateResolver.getWindowSummary(p)}})}catch(t){e.config.componentState.windowId=void 0,y?this._frameController.moveFrame(p,c(e.element)):this.closeTab(e);if(!d.getById(n))throw new Error(`Workspace ${n} failed ot initialize because none of the specified windows were able to load\\n                    Internal error: ${t}`)}})))),this._controller.emitter.onContentItemResized(((t,e)=>{this._frameController.moveFrame(e,c(t))})),this._controller.emitter.onTabCloseRequested((e=>t(this,void 0,void 0,(function*(){const t=d.getByWindowId(r(e.config.id));this.closeTab(e),this._controller.removeLayoutElement(r(e.config.id)),this._frameController.remove(r(e.config.id)),t.windows.length||this.checkForEmptyWorkspace(t)})))),this._controller.emitter.onWorkspaceTabCloseRequested((t=>{this.closeWorkspace(t)})),this._controller.emitter.onTabElementMouseDown((t=>{const e=c(t.contentItem.element),n=Math.min(e.width,800),i=Math.min(e.height,600);this._controller.setDragElementSize(n,i)})),this._controller.emitter.onTabDragStart((t=>{const e=this._controller.getDragElement();new MutationObserver((e=>{Array.from(e).forEach((e=>{if(\"attributes\"===e.type){const e=$(this._controller.getDragElement()).children(\".lm_content\").children(\".lm_item_container\"),n=c(e[0]),i=r(t.contentItem.config.id);this._frameController.moveFrame(i,n),this._frameController.bringToFront(i)}}))})).observe(e,{attributes:!0})})),this._controller.emitter.onTabDragEnd((t=>{const e=t.header.tabs.filter((e=>e.contentItem.config.id!==t.contentItem.config.id));this._frameController.selectionChanged([r(t.contentItem.id)],e.map((t=>r(t.contentItem.id))))})),this._controller.emitter.onSelectionChanged(((e,n)=>t(this,void 0,void 0,(function*(){this._frameController.selectionChanged(n.map((t=>t.id)),e.map((t=>t.id)))})))),this._controller.emitter.onWorkspaceAdded((t=>{var e;const n=d.workspaceIds.filter((e=>e!==t.id)).reduce(((t,e)=>[...t,...d.getById(e).windows]),[]);if(this._workspacesEventEmitter.raiseWorkspaceEvent({action:\"opened\",payload:{frameSummary:{id:this._frameId},workspaceSummary:this.stateResolver.getWorkspaceSummary(t.id)}}),d.getActiveWorkspace().id===t.id){if(this._workspacesEventEmitter.raiseWorkspaceEvent({action:\"selected\",payload:{frameSummary:{id:this._frameId},workspaceSummary:this.stateResolver.getWorkspaceSummary(t.id)}}),!t.layout)return void this._frameController.selectionChangedDeep([],n.map((t=>t.id)));const e=a(t.layout.toConfig().content);this._frameController.selectionChangedDeep(e.map((t=>r(t.id))),n.map((t=>t.id)))}if(!t.layout)return;const i=t.layout.config.workspacesOptions,o=i.title||i.name;o&&(null===(e=d.getWorkspaceLayoutItemById(t.id))||void 0===e||e.setTitle(o))})),this._controller.emitter.onWorkspaceSelectionChanged(((t,e)=>{if(!t.layout)return this._frameController.selectionChangedDeep([],e.map((t=>t.id))),void this._workspacesEventEmitter.raiseWorkspaceEvent({action:\"selected\",payload:{frameSummary:{id:this._frameId},workspaceSummary:this.stateResolver.getWorkspaceSummary(t.id)}});const n=a(t.layout.toConfig().content).filter((t=>this._controller.isWindowVisible(t.id)));this._frameController.selectionChangedDeep(n.map((t=>r(t.id))),e.map((t=>t.id))),this._workspacesEventEmitter.raiseWorkspaceEvent({action:\"selected\",payload:{frameSummary:{id:this._frameId},workspaceSummary:this.stateResolver.getWorkspaceSummary(t.id)}})})),this._controller.emitter.onAddButtonClicked((({laneId:e,workspaceId:n,bounds:i,parentType:o})=>t(this,void 0,void 0,(function*(){const t={boxId:e,workspaceId:n,parentType:o,frameId:this._frameId,peerId:this._glue.agm.instance.peerId,domNode:void 0,resizePopup:void 0,hidePopup:void 0};yield this._popupManager.showAddWindowPopup(i,t)})))),this._controller.emitter.onContentLayoutInit((t=>{this.reportLayoutStructure(t)})),this._controller.emitter.onWorkspaceAddButtonClicked((()=>t(this,void 0,void 0,(function*(){const t={frameId:this._frameId,peerId:this._glue.agm.instance.peerId},e=d.workspaceLayoutHeader.element.find(\".lm_workspace_controls\").find(\".lm_add_button\"),n=c(e);yield this._popupManager.showOpenWorkspacePopup(n,t)})))),this._controller.emitter.onWorkspaceSaveRequested((e=>t(this,void 0,void 0,(function*(){const t={frameId:this._frameId,workspaceId:e,peerId:this._glue.agm.instance.peerId,buildMode:B.config.build,domNode:void 0,resizePopup:void 0,hidePopup:void 0},n=d.getWorkspaceLayoutItemById(e).tab.element.find(\".lm_saveButton\"),i=c(n);yield this._popupManager.showSaveWorkspacePopup(i,t)})))),this._controller.emitter.onStackMaximized((t=>{const e=t.getActiveContentItem(),n=t.contentItems.map((t=>r(t.config.id)));t.contentItems.forEach((t=>{this._frameController.maximizeTab(r(t.config.id))})),this._frameController.selectionChanged([r(e.config.id)],n)})),this._controller.emitter.onStackRestored((t=>{const e=t.getActiveContentItem(),n=t.contentItems.map((t=>r(t.config.id)));t.contentItems.forEach((t=>{this._frameController.restoreTab(r(t.config.id))})),this._frameController.selectionChanged([r(e.config.id)],n)})),this._controller.emitter.onEjectRequested((t=>{if(!t.isComponent)throw new Error(\"Can't eject item of type \"+t.type);return this.eject(t)})),u.onWorkspaceContentsShown((t=>{const e=d.getActiveWorkspace();if(!(null==e?void 0:e.layout)||t!==e.id)return;const n=d.getWorkspaceContentItem(t),i=c(n.element);e.layout.updateSize(i.width,i.height);const o=e.layout.root.getItemsByFilter((t=>\"stack\"===t.type));this._frameController.selectionChangedDeep(o.map((t=>r(t.getActiveContentItem().config.id))),[])})),u.onWorkspaceContentsHidden((t=>{const e=d.getById(t);(null==e?void 0:e.layout)&&t===e.id&&this._frameController.selectionChangedDeep([],e.windows.map((t=>t.id)))}))}subscribeForPopups(){this._frameController.onFrameContentClicked((()=>{this._popupManager.hidePopup()})),this._frameController.onWindowTitleChanged(((t,e)=>{this.setItemTitle(t,e)}))}reportLayoutStructure(t){a(t.toConfig().content).forEach((e=>{const n=t.root.getItemsById(e.id)[0];this._frameController.moveFrame(r(n.config.id),c(n.element))}))}closeTab(t){const e=r(t.config.id),n=d.getByWindowId(e),i=this.stateResolver.getWindowSummarySync(e);this._controller.removeLayoutElement(e),this._frameController.remove(e),this.workspacesEventEmitter.raiseWindowEvent({action:\"removed\",payload:{windowSummary:i}}),n.windows.length||this.checkForEmptyWorkspace(n)}closeWorkspace(t){if(!t)throw new Error(\"Could not find a workspace to close\");const e=this.stateResolver.getWorkspaceSummary(t.id),n=t.windows.map((t=>{if(d.getWindowContentItem(t.id))return this.stateResolver.getWindowSummarySync(t.id)})).filter((t=>t));t.windows.forEach((t=>this._frameController.remove(t.id))),this.checkForEmptyWorkspace(t),n.forEach((t=>{this.workspacesEventEmitter.raiseWindowEvent({action:\"removed\",payload:{windowSummary:t}})})),this.workspacesEventEmitter.raiseWorkspaceEvent({action:\"closed\",payload:{workspaceSummary:e,frameSummary:{id:this._frameId}}})}addWorkspace(e,n){var i;return t(this,void 0,void 0,(function*(){yield this._glue.contexts.set(l(e),(null===(i=null==n?void 0:n.workspacesOptions)||void 0===i?void 0:i.context)||{}),yield this._controller.addWorkspace(e,n)}))}checkForEmptyWorkspace(t){var e;if(1===d.layouts.length){t.windows=[],null===(e=t.layout)||void 0===e||e.destroy(),t.layout=void 0,this._controller.showAddButton(t.id);const n=d.getWorkspaceTitle(t.id),i=this._configFactory.getWorkspaceTitle(d.workspaceTitles.filter((t=>t!==n)));this._controller.setWorkspaceTitle(t.id,i)}else this._controller.removeWorkspace(t.id)}waitForFrameLoaded(t){return new Promise(((e,n)=>{let i=()=>{};const o=setTimeout((()=>{i(),n(`Did not hear frame loaded for ${t} in 5000ms`)}),5e3);i=this.workspacesEventEmitter.onWindowEvent(((n,s)=>{\"loaded\"===n&&s.windowSummary.itemId===t&&(e(),clearTimeout(o),i())}))}))}getUrlByAppName(t){var e,n,i,o;return null===(o=null===(i=null===(n=null===(e=this._glue.appManager)||void 0===e?void 0:e.application(t))||void 0===n?void 0:n.userProperties)||void 0===i?void 0:i.details)||void 0===o?void 0:o.url}getTitleByAppName(t){var e,n;return null===(n=null===(e=this._glue.appManager)||void 0===e?void 0:e.application(t))||void 0===n?void 0:n.title}};var Y=new class{constructor(){this._workspacesControlMethod=\"T42.Workspaces.Control\",this._workspacesEventMethod=\"T42.Workspaces.Events\",this._inDisposing=!1,this.handleControl=(e,n,i,o)=>t(this,void 0,void 0,(function*(){try{switch(yield X.initPromise,e.operation){case\"isWindowInWorkspace\":i(this.handleIsWindowInWorkspace(e.operationArguments));break;case\"addWindow\":i(yield this.handleAddWindow(e.operationArguments));break;case\"addContainer\":i(yield this.handleAddContainer(e.operationArguments));break;case\"getWorkspaceSnapshot\":i(this.handleGetWorkspaceSnapshot(e.operationArguments));break;case\"openWorkspace\":i(yield this.handleOpenWorkspace(e.operationArguments));break;case\"saveLayout\":i(yield this.handleSaveLayout(e.operationArguments));break;case\"exportAllLayouts\":i(yield this.handleExportAllLayouts());break;case\"deleteLayout\":this.handleDeleteLayout(e.operationArguments),i(void 0);break;case\"getAllWorkspacesSummaries\":i(this.handleGetAllWorkspaceSummaries());break;case\"maximizeItem\":this.handleMaximizeItem(e.operationArguments),i(void 0);break;case\"restoreItem\":this.handleRestoreItem(e.operationArguments),i(void 0);break;case\"closeItem\":this.handleCloseItem(e.operationArguments),i(void 0);break;case\"setItemTitle\":yield this.handleSetItemTitle(e.operationArguments),i(void 0);break;case\"addWorkspaceChildren\":yield this.handleAddWorkspaceChildren(e.operationArguments),i(void 0);break;case\"ejectWindow\":i(yield this.handleEject(e.operationArguments));break;case\"createWorkspace\":i(yield this.handleCreateWorkspace(e.operationArguments));break;case\"forceLoadWindow\":i(yield this.handleForceLoadWindow(e.operationArguments));break;case\"focusItem\":yield this.handleFocusItem(e.operationArguments),i(void 0);break;case\"bundleWorkspace\":this.handleBundleWorkspace(e.operationArguments),i(void 0);break;case\"getFrameSummary\":i(yield this.handleGetFrameSummary(e.operationArguments));break;case\"moveFrame\":yield this.handleMoveFrame(e.operationArguments),i(void 0);break;case\"getFrameSnapshot\":i(yield this.handleGetFrameSnapshot());break;case\"getSnapshot\":i(yield this.handleGetSnapshot(e.operationArguments));break;case\"moveWindowTo\":yield this.handleMoveWindowTo(e.operationArguments),i(void 0);break;case\"generateLayout\":i(yield this.handleGenerateLayout(e.operationArguments));break;case\"ping\":i(this.handlePing());break;default:o(\"Invalid operation - \"+e.operation)}}catch(t){o(t.message)}}))}init(e,n){return t(this,void 0,void 0,(function*(){this._frameId=n,this._glue=e,this._configFactory=new H(e),this._converter=new q(this._configFactory),this._glue&&(yield this.registerAgmMethods())}))}dispose(){this._inDisposing=!0}subscribeForWorkspaceEvents(){X.workspacesEventEmitter.onFrameEvent(((t,e)=>{this.publishEventData(t,e,\"frame\")})),X.workspacesEventEmitter.onWindowEvent(((t,e)=>{this.publishEventData(t,e,\"window\")})),X.workspacesEventEmitter.onWorkspaceEvent(((t,e)=>{this.publishEventData(t,e,\"workspace\")})),X.workspacesEventEmitter.onContainerEvent(((t,e)=>{this.publishEventData(t,e,\"box\")}))}registerAgmMethods(){return t(this,void 0,void 0,(function*(){yield this._glue.agm.registerAsync({name:this._workspacesControlMethod},this.handleControl)}))}handleOpenWorkspace(e){return t(this,void 0,void 0,(function*(){const t=yield X.openWorkspace(e.name,e.restoreOptions),n=X.stateResolver.getWorkspaceConfig(t),i=this._converter.convertToAPIConfig(n);return{id:i.id,children:i.children,config:i.config,frameSummary:{id:this._frameId}}}))}handleExportAllLayouts(){return t(this,void 0,void 0,(function*(){return{layouts:yield X.exportAllLayouts()}}))}handleSaveLayout(e){return t(this,void 0,void 0,(function*(){return yield X.saveWorkspace(e.name,e.workspaceId,e.saveContext)}))}handleDeleteLayout(t){X.deleteLayout(t.name)}handleGetWorkspaceSnapshot(t){const e=d.getById(t.itemId),n=X.stateResolver.getWorkspaceConfig(e.id),i=this._converter.convertToAPIConfig(n);return{id:i.id,children:i.children,config:i.config,frameSummary:{id:this._frameId}}}handleGetAllWorkspaceSummaries(){return{summaries:d.layouts.map((t=>X.stateResolver.getWorkspaceSummary(t.id)))}}handleCloseItem(t){X.closeItem(t.itemId)}handleRestoreItem(t){X.restoreItem(t.itemId)}handleMaximizeItem(t){X.maximizeItem(t.itemId)}handleAddContainer(e){return t(this,void 0,void 0,(function*(){const t=this._converter.convertToRendererConfig(e.definition);if(\"workspace\"===t.type)throw new Error(\"Unsuccessful conversion\");const n={id:r(t.id),content:t.content,type:t.type,workspacesConfig:t.workspacesConfig};return{itemId:yield X.addContainer(n,e.parentId)}}))}handleAddWindow(e){return t(this,void 0,void 0,(function*(){const t=this._configFactory.createGDWindowConfig({windowId:e.definition.windowId,id:void 0,appName:e.definition.appName,url:e.definition.url,context:e.definition.context});if(e.definition.windowId){const n=this._glue.windows.list().find((t=>t.id===e.definition.windowId)),i=yield n.getURL();t.componentState.url=i,t.componentState.appName=this._configFactory.getAppNameFromWindowId(n.id)}return yield X.addWindow(t,e.parentId),{itemId:r(t.id)}}))}handleSetItemTitle(t){X.setItemTitle(t.itemId,t.title)}handleAddWorkspaceChildren(e){return t(this,void 0,void 0,(function*(){const t=e.children.some((t=>\"row\"===t.type)),n=e.children.some((t=>\"column\"===t.type));if(n&&t)throw new Error(\"Can't add both row and column workspace children\");let i={type:\"column\",children:e.children};n&&(i={type:\"row\",children:e.children});const o=this._converter.convertToRendererConfig(i);yield X.addContainer(o,e.workspaceId)}))}handleEject(e){return t(this,void 0,void 0,(function*(){const t=d.getWindowContentItem(e.itemId);if(!t)throw new Error(\"Could not find item \"+e.itemId);return yield X.eject(t)}))}handleCreateWorkspace(e){return t(this,void 0,void 0,(function*(){const t=this._converter.convertToRendererConfig(e),n=yield X.createWorkspace(t),i=this._converter.convertToAPIConfig(X.stateResolver.getWorkspaceConfig(n));return{id:i.id,children:i.children,config:i.config,frameSummary:{id:this._frameId}}}))}handleForceLoadWindow(e){return t(this,void 0,void 0,(function*(){return yield X.loadWindow(e.itemId)}))}handleFocusItem(t){return X.focusItem(t.itemId)}handleBundleWorkspace(t){return X.bundleWorkspace(t.workspaceId,t.type)}handleIsWindowInWorkspace(t){return{inWorkspace:X.stateResolver.isWindowInWorkspace(t.itemId)}}handleGetFrameSummary(e){return t(this,void 0,void 0,(function*(){return X.getFrameSummary(e.itemId)}))}handleMoveFrame(e){return t(this,void 0,void 0,(function*(){yield X.move(e.location)}))}handleGetFrameSnapshot(){return X.stateResolver.getFrameSnapshot()}handleGetSnapshot(e){return t(this,void 0,void 0,(function*(){return X.stateResolver.getSnapshot(e.itemId)}))}handleMoveWindowTo(e){return t(this,void 0,void 0,(function*(){return X.moveWindowTo(e.itemId,e.containerId)}))}handleGenerateLayout(t){return X.generateWorkspaceLayout(t.name,t.workspaceId)}handlePing(){return{live:!this._inDisposing}}publishEventData(t,e,n){if(this._glue.agm.methods().some((t=>t.name===this._workspacesEventMethod))){const i={action:t,type:n,payload:e};this._glue.agm.invoke(this._workspacesEventMethod,i,\"all\").catch((()=>{}))}}},J=n((function(t){\n/*!\n * jQuery JavaScript Library v3.5.1\n * https://jquery.com/\n *\n * Includes Sizzle.js\n * https://sizzlejs.com/\n *\n * Copyright JS Foundation and other contributors\n * Released under the MIT license\n * https://jquery.org/license\n *\n * Date: 2020-05-04T22:49Z\n */\n!function(e,n){t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error(\"jQuery requires a window with a document\");return n(t)}}(\"undefined\"!=typeof window?window:e,(function(t,e){var n=[],i=Object.getPrototypeOf,o=n.slice,s=n.flat?function(t){return n.flat.call(t)}:function(t){return n.concat.apply([],t)},r=n.push,a=n.indexOf,c={},l=c.toString,d=c.hasOwnProperty,h=d.toString,u=h.call(Object),p={},m=function(t){return\"function\"==typeof t&&\"number\"!=typeof t.nodeType},f=function(t){return null!=t&&t===t.window},g=t.document,y={type:!0,src:!0,nonce:!0,noModule:!0};function v(t,e,n){var i,o,s=(n=n||g).createElement(\"script\");if(s.text=t,e)for(i in y)(o=e[i]||e.getAttribute&&e.getAttribute(i))&&s.setAttribute(i,o);n.head.appendChild(s).parentNode.removeChild(s)}function w(t){return null==t?t+\"\":\"object\"==typeof t||\"function\"==typeof t?c[l.call(t)]||\"object\":typeof t}var _=\"3.5.1\",b=function(t,e){return new b.fn.init(t,e)};function C(t){var e=!!t&&\"length\"in t&&t.length,n=w(t);return!m(t)&&!f(t)&&(\"array\"===n||0===e||\"number\"==typeof e&&e>0&&e-1 in t)}b.fn=b.prototype={jquery:_,constructor:b,length:0,toArray:function(){return o.call(this)},get:function(t){return null==t?o.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=b.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return b.each(this,t)},map:function(t){return this.pushStack(b.map(this,(function(e,n){return t.call(e,n,e)})))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(b.grep(this,(function(t,e){return(e+1)%2})))},odd:function(){return this.pushStack(b.grep(this,(function(t,e){return e%2})))},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:r,sort:n.sort,splice:n.splice},b.extend=b.fn.extend=function(){var t,e,n,i,o,s,r=arguments[0]||{},a=1,c=arguments.length,l=!1;for(\"boolean\"==typeof r&&(l=r,r=arguments[a]||{},a++),\"object\"==typeof r||m(r)||(r={}),a===c&&(r=this,a--);a<c;a++)if(null!=(t=arguments[a]))for(e in t)i=t[e],\"__proto__\"!==e&&r!==i&&(l&&i&&(b.isPlainObject(i)||(o=Array.isArray(i)))?(n=r[e],s=o&&!Array.isArray(n)?[]:o||b.isPlainObject(n)?n:{},o=!1,r[e]=b.extend(l,s,i)):void 0!==i&&(r[e]=i));return r},b.extend({expando:\"jQuery\"+(_+Math.random()).replace(/\\D/g,\"\"),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||\"[object Object]\"!==l.call(t))&&(!(e=i(t))||\"function\"==typeof(n=d.call(e,\"constructor\")&&e.constructor)&&h.call(n)===u)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,n){v(t,{nonce:e&&e.nonce},n)},each:function(t,e){var n,i=0;if(C(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},makeArray:function(t,e){var n=e||[];return null!=t&&(C(Object(t))?b.merge(n,\"string\"==typeof t?[t]:t):r.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:a.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,o=t.length;i<n;i++)t[o++]=e[i];return t.length=o,t},grep:function(t,e,n){for(var i=[],o=0,s=t.length,r=!n;o<s;o++)!e(t[o],o)!==r&&i.push(t[o]);return i},map:function(t,e,n){var i,o,r=0,a=[];if(C(t))for(i=t.length;r<i;r++)null!=(o=e(t[r],r,n))&&a.push(o);else for(r in t)null!=(o=e(t[r],r,n))&&a.push(o);return s(a)},guid:1,support:p}),\"function\"==typeof Symbol&&(b.fn[Symbol.iterator]=n[Symbol.iterator]),b.each(\"Boolean Number String Function Array Date RegExp Object Error Symbol\".split(\" \"),(function(t,e){c[\"[object \"+e+\"]\"]=e.toLowerCase()}));var I=\n/*!\n * Sizzle CSS Selector Engine v2.3.5\n * https://sizzlejs.com/\n *\n * Copyright JS Foundation and other contributors\n * Released under the MIT license\n * https://js.foundation/\n *\n * Date: 2020-03-14\n */\nfunction(t){var e,n,i,o,s,r,a,c,l,d,h,u,p,m,f,g,y,v,w,_=\"sizzle\"+1*new Date,b=t.document,C=0,I=0,x=ct(),k=ct(),E=ct(),S=ct(),T=function(t,e){return t===e&&(h=!0),0},W={}.hasOwnProperty,A=[],D=A.pop,P=A.push,L=A.push,M=A.slice,F=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},z=\"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped\",B=\"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",N=\"(?:\\\\\\\\[\\\\da-fA-F]{1,6}[\\\\x20\\\\t\\\\r\\\\n\\\\f]?|\\\\\\\\[^\\\\r\\\\n\\\\f]|[\\\\w-]|[^\\0-\\\\x7f])+\",O=\"\\\\[[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(\"+N+\")(?:\"+B+\"*([*^$|!~]?=)\"+B+\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\"+N+\"))|)\"+B+\"*\\\\]\",$=\":(\"+N+\")(?:\\\\((('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\"+O+\")*)|.*)\\\\)|)\",R=new RegExp(B+\"+\",\"g\"),H=new RegExp(\"^[\\\\x20\\\\t\\\\r\\\\n\\\\f]+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)[\\\\x20\\\\t\\\\r\\\\n\\\\f]+$\",\"g\"),j=new RegExp(\"^[\\\\x20\\\\t\\\\r\\\\n\\\\f]*,[\\\\x20\\\\t\\\\r\\\\n\\\\f]*\"),q=new RegExp(\"^[\\\\x20\\\\t\\\\r\\\\n\\\\f]*([>+~]|[\\\\x20\\\\t\\\\r\\\\n\\\\f])[\\\\x20\\\\t\\\\r\\\\n\\\\f]*\"),U=new RegExp(B+\"|>\"),V=new RegExp($),G=new RegExp(\"^\"+N+\"$\"),X={ID:new RegExp(\"^#(\"+N+\")\"),CLASS:new RegExp(\"^\\\\.(\"+N+\")\"),TAG:new RegExp(\"^(\"+N+\"|[*])\"),ATTR:new RegExp(\"^\"+O),PSEUDO:new RegExp(\"^\"+$),CHILD:new RegExp(\"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\([\\\\x20\\\\t\\\\r\\\\n\\\\f]*(even|odd|(([+-]|)(\\\\d*)n|)[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(?:([+-]|)[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(\\\\d+)|))[\\\\x20\\\\t\\\\r\\\\n\\\\f]*\\\\)|)\",\"i\"),bool:new RegExp(\"^(?:\"+z+\")$\",\"i\"),needsContext:new RegExp(\"^[\\\\x20\\\\t\\\\r\\\\n\\\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\([\\\\x20\\\\t\\\\r\\\\n\\\\f]*((?:-\\\\d)?\\\\d*)[\\\\x20\\\\t\\\\r\\\\n\\\\f]*\\\\)|)(?=[^-]|$)\",\"i\")},Y=/HTML$/i,J=/^(?:input|select|textarea|button)$/i,Z=/^h\\d$/i,Q=/^[^{]+\\{\\s*\\[native \\w/,K=/^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,tt=/[+~]/,et=new RegExp(\"\\\\\\\\[\\\\da-fA-F]{1,6}[\\\\x20\\\\t\\\\r\\\\n\\\\f]?|\\\\\\\\([^\\\\r\\\\n\\\\f])\",\"g\"),nt=function(t,e){var n=\"0x\"+t.slice(1)-65536;return e||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},it=/([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\0-\\x1f\\x7f-\\uFFFF\\w-]/g,ot=function(t,e){return e?\"\\0\"===t?\"\":t.slice(0,-1)+\"\\\\\"+t.charCodeAt(t.length-1).toString(16)+\" \":\"\\\\\"+t},st=function(){u()},rt=_t((function(t){return!0===t.disabled&&\"fieldset\"===t.nodeName.toLowerCase()}),{dir:\"parentNode\",next:\"legend\"});try{L.apply(A=M.call(b.childNodes),b.childNodes),A[b.childNodes.length].nodeType}catch(t){L={apply:A.length?function(t,e){P.apply(t,M.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function at(t,e,i,o){var s,a,l,d,h,m,y,v=e&&e.ownerDocument,b=e?e.nodeType:9;if(i=i||[],\"string\"!=typeof t||!t||1!==b&&9!==b&&11!==b)return i;if(!o&&(u(e),e=e||p,f)){if(11!==b&&(h=K.exec(t)))if(s=h[1]){if(9===b){if(!(l=e.getElementById(s)))return i;if(l.id===s)return i.push(l),i}else if(v&&(l=v.getElementById(s))&&w(e,l)&&l.id===s)return i.push(l),i}else{if(h[2])return L.apply(i,e.getElementsByTagName(t)),i;if((s=h[3])&&n.getElementsByClassName&&e.getElementsByClassName)return L.apply(i,e.getElementsByClassName(s)),i}if(n.qsa&&!S[t+\" \"]&&(!g||!g.test(t))&&(1!==b||\"object\"!==e.nodeName.toLowerCase())){if(y=t,v=e,1===b&&(U.test(t)||q.test(t))){for((v=tt.test(t)&&yt(e.parentNode)||e)===e&&n.scope||((d=e.getAttribute(\"id\"))?d=d.replace(it,ot):e.setAttribute(\"id\",d=_)),a=(m=r(t)).length;a--;)m[a]=(d?\"#\"+d:\":scope\")+\" \"+wt(m[a]);y=m.join(\",\")}try{return L.apply(i,v.querySelectorAll(y)),i}catch(e){S(t,!0)}finally{d===_&&e.removeAttribute(\"id\")}}}return c(t.replace(H,\"$1\"),e,i,o)}function ct(){var t=[];return function e(n,o){return t.push(n+\" \")>i.cacheLength&&delete e[t.shift()],e[n+\" \"]=o}}function lt(t){return t[_]=!0,t}function dt(t){var e=p.createElement(\"fieldset\");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ht(t,e){for(var n=t.split(\"|\"),o=n.length;o--;)i.attrHandle[n[o]]=e}function ut(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function pt(t){return function(e){return\"input\"===e.nodeName.toLowerCase()&&e.type===t}}function mt(t){return function(e){var n=e.nodeName.toLowerCase();return(\"input\"===n||\"button\"===n)&&e.type===t}}function ft(t){return function(e){return\"form\"in e?e.parentNode&&!1===e.disabled?\"label\"in e?\"label\"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&rt(e)===t:e.disabled===t:\"label\"in e&&e.disabled===t}}function gt(t){return lt((function(e){return e=+e,lt((function(n,i){for(var o,s=t([],n.length,e),r=s.length;r--;)n[o=s[r]]&&(n[o]=!(i[o]=n[o]))}))}))}function yt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=at.support={},s=at.isXML=function(t){var e=t.namespaceURI,n=(t.ownerDocument||t).documentElement;return!Y.test(e||n&&n.nodeName||\"HTML\")},u=at.setDocument=function(t){var e,o,r=t?t.ownerDocument||t:b;return r!=p&&9===r.nodeType&&r.documentElement?(m=(p=r).documentElement,f=!s(p),b!=p&&(o=p.defaultView)&&o.top!==o&&(o.addEventListener?o.addEventListener(\"unload\",st,!1):o.attachEvent&&o.attachEvent(\"onunload\",st)),n.scope=dt((function(t){return m.appendChild(t).appendChild(p.createElement(\"div\")),void 0!==t.querySelectorAll&&!t.querySelectorAll(\":scope fieldset div\").length})),n.attributes=dt((function(t){return t.className=\"i\",!t.getAttribute(\"className\")})),n.getElementsByTagName=dt((function(t){return t.appendChild(p.createComment(\"\")),!t.getElementsByTagName(\"*\").length})),n.getElementsByClassName=Q.test(p.getElementsByClassName),n.getById=dt((function(t){return m.appendChild(t).id=_,!p.getElementsByName||!p.getElementsByName(_).length})),n.getById?(i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){return t.getAttribute(\"id\")===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&f){var n=e.getElementById(t);return n?[n]:[]}}):(i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode(\"id\");return n&&n.value===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&f){var n,i,o,s=e.getElementById(t);if(s){if((n=s.getAttributeNode(\"id\"))&&n.value===t)return[s];for(o=e.getElementsByName(t),i=0;s=o[i++];)if((n=s.getAttributeNode(\"id\"))&&n.value===t)return[s]}return[]}}),i.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],o=0,s=e.getElementsByTagName(t);if(\"*\"===t){for(;n=s[o++];)1===n.nodeType&&i.push(n);return i}return s},i.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&f)return e.getElementsByClassName(t)},y=[],g=[],(n.qsa=Q.test(p.querySelectorAll))&&(dt((function(t){var e;m.appendChild(t).innerHTML=\"<a id='\"+_+\"'></a><select id='\"+_+\"-\\r\\\\' msallowcapture=''><option selected=''></option></select>\",t.querySelectorAll(\"[msallowcapture^='']\").length&&g.push(\"[*^$]=[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(?:''|\\\"\\\")\"),t.querySelectorAll(\"[selected]\").length||g.push(\"\\\\[[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(?:value|\"+z+\")\"),t.querySelectorAll(\"[id~=\"+_+\"-]\").length||g.push(\"~=\"),(e=p.createElement(\"input\")).setAttribute(\"name\",\"\"),t.appendChild(e),t.querySelectorAll(\"[name='']\").length||g.push(\"\\\\[[\\\\x20\\\\t\\\\r\\\\n\\\\f]*name[\\\\x20\\\\t\\\\r\\\\n\\\\f]*=[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(?:''|\\\"\\\")\"),t.querySelectorAll(\":checked\").length||g.push(\":checked\"),t.querySelectorAll(\"a#\"+_+\"+*\").length||g.push(\".#.+[+~]\"),t.querySelectorAll(\"\\\\\\f\"),g.push(\"[\\\\r\\\\n\\\\f]\")})),dt((function(t){t.innerHTML=\"<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>\";var e=p.createElement(\"input\");e.setAttribute(\"type\",\"hidden\"),t.appendChild(e).setAttribute(\"name\",\"D\"),t.querySelectorAll(\"[name=d]\").length&&g.push(\"name[\\\\x20\\\\t\\\\r\\\\n\\\\f]*[*^$|!~]?=\"),2!==t.querySelectorAll(\":enabled\").length&&g.push(\":enabled\",\":disabled\"),m.appendChild(t).disabled=!0,2!==t.querySelectorAll(\":disabled\").length&&g.push(\":enabled\",\":disabled\"),t.querySelectorAll(\"*,:x\"),g.push(\",.*:\")}))),(n.matchesSelector=Q.test(v=m.matches||m.webkitMatchesSelector||m.mozMatchesSelector||m.oMatchesSelector||m.msMatchesSelector))&&dt((function(t){n.disconnectedMatch=v.call(t,\"*\"),v.call(t,\"[s!='']:x\"),y.push(\"!=\",$)})),g=g.length&&new RegExp(g.join(\"|\")),y=y.length&&new RegExp(y.join(\"|\")),e=Q.test(m.compareDocumentPosition),w=e||Q.test(m.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},T=e?function(t,e){if(t===e)return h=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===i?t==p||t.ownerDocument==b&&w(b,t)?-1:e==p||e.ownerDocument==b&&w(b,e)?1:d?F(d,t)-F(d,e):0:4&i?-1:1)}:function(t,e){if(t===e)return h=!0,0;var n,i=0,o=t.parentNode,s=e.parentNode,r=[t],a=[e];if(!o||!s)return t==p?-1:e==p?1:o?-1:s?1:d?F(d,t)-F(d,e):0;if(o===s)return ut(t,e);for(n=t;n=n.parentNode;)r.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;r[i]===a[i];)i++;return i?ut(r[i],a[i]):r[i]==b?-1:a[i]==b?1:0},p):p},at.matches=function(t,e){return at(t,null,null,e)},at.matchesSelector=function(t,e){if(u(t),n.matchesSelector&&f&&!S[e+\" \"]&&(!y||!y.test(e))&&(!g||!g.test(e)))try{var i=v.call(t,e);if(i||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){S(e,!0)}return at(e,p,null,[t]).length>0},at.contains=function(t,e){return(t.ownerDocument||t)!=p&&u(t),w(t,e)},at.attr=function(t,e){(t.ownerDocument||t)!=p&&u(t);var o=i.attrHandle[e.toLowerCase()],s=o&&W.call(i.attrHandle,e.toLowerCase())?o(t,e,!f):void 0;return void 0!==s?s:n.attributes||!f?t.getAttribute(e):(s=t.getAttributeNode(e))&&s.specified?s.value:null},at.escape=function(t){return(t+\"\").replace(it,ot)},at.error=function(t){throw new Error(\"Syntax error, unrecognized expression: \"+t)},at.uniqueSort=function(t){var e,i=[],o=0,s=0;if(h=!n.detectDuplicates,d=!n.sortStable&&t.slice(0),t.sort(T),h){for(;e=t[s++];)e===t[s]&&(o=i.push(s));for(;o--;)t.splice(i[o],1)}return d=null,t},o=at.getText=function(t){var e,n=\"\",i=0,s=t.nodeType;if(s){if(1===s||9===s||11===s){if(\"string\"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=o(t)}else if(3===s||4===s)return t.nodeValue}else for(;e=t[i++];)n+=o(e);return n},(i=at.selectors={cacheLength:50,createPseudo:lt,match:X,attrHandle:{},find:{},relative:{\">\":{dir:\"parentNode\",first:!0},\" \":{dir:\"parentNode\"},\"+\":{dir:\"previousSibling\",first:!0},\"~\":{dir:\"previousSibling\"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,nt),t[3]=(t[3]||t[4]||t[5]||\"\").replace(et,nt),\"~=\"===t[2]&&(t[3]=\" \"+t[3]+\" \"),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),\"nth\"===t[1].slice(0,3)?(t[3]||at.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*(\"even\"===t[3]||\"odd\"===t[3])),t[5]=+(t[7]+t[8]||\"odd\"===t[3])):t[3]&&at.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return X.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||\"\":n&&V.test(n)&&(e=r(n,!0))&&(e=n.indexOf(\")\",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,nt).toLowerCase();return\"*\"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=x[t+\" \"];return e||(e=new RegExp(\"(^|[\\\\x20\\\\t\\\\r\\\\n\\\\f])\"+t+\"(\"+B+\"|$)\"))&&x(t,(function(t){return e.test(\"string\"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute(\"class\")||\"\")}))},ATTR:function(t,e,n){return function(i){var o=at.attr(i,t);return null==o?\"!=\"===e:!e||(o+=\"\",\"=\"===e?o===n:\"!=\"===e?o!==n:\"^=\"===e?n&&0===o.indexOf(n):\"*=\"===e?n&&o.indexOf(n)>-1:\"$=\"===e?n&&o.slice(-n.length)===n:\"~=\"===e?(\" \"+o.replace(R,\" \")+\" \").indexOf(n)>-1:\"|=\"===e&&(o===n||o.slice(0,n.length+1)===n+\"-\"))}},CHILD:function(t,e,n,i,o){var s=\"nth\"!==t.slice(0,3),r=\"last\"!==t.slice(-4),a=\"of-type\"===e;return 1===i&&0===o?function(t){return!!t.parentNode}:function(e,n,c){var l,d,h,u,p,m,f=s!==r?\"nextSibling\":\"previousSibling\",g=e.parentNode,y=a&&e.nodeName.toLowerCase(),v=!c&&!a,w=!1;if(g){if(s){for(;f;){for(u=e;u=u[f];)if(a?u.nodeName.toLowerCase()===y:1===u.nodeType)return!1;m=f=\"only\"===t&&!m&&\"nextSibling\"}return!0}if(m=[r?g.firstChild:g.lastChild],r&&v){for(w=(p=(l=(d=(h=(u=g)[_]||(u[_]={}))[u.uniqueID]||(h[u.uniqueID]={}))[t]||[])[0]===C&&l[1])&&l[2],u=p&&g.childNodes[p];u=++p&&u&&u[f]||(w=p=0)||m.pop();)if(1===u.nodeType&&++w&&u===e){d[t]=[C,p,w];break}}else if(v&&(w=p=(l=(d=(h=(u=e)[_]||(u[_]={}))[u.uniqueID]||(h[u.uniqueID]={}))[t]||[])[0]===C&&l[1]),!1===w)for(;(u=++p&&u&&u[f]||(w=p=0)||m.pop())&&((a?u.nodeName.toLowerCase()!==y:1!==u.nodeType)||!++w||(v&&((d=(h=u[_]||(u[_]={}))[u.uniqueID]||(h[u.uniqueID]={}))[t]=[C,w]),u!==e)););return(w-=o)===i||w%i==0&&w/i>=0}}},PSEUDO:function(t,e){var n,o=i.pseudos[t]||i.setFilters[t.toLowerCase()]||at.error(\"unsupported pseudo: \"+t);return o[_]?o(e):o.length>1?(n=[t,t,\"\",e],i.setFilters.hasOwnProperty(t.toLowerCase())?lt((function(t,n){for(var i,s=o(t,e),r=s.length;r--;)t[i=F(t,s[r])]=!(n[i]=s[r])})):function(t){return o(t,0,n)}):o}},pseudos:{not:lt((function(t){var e=[],n=[],i=a(t.replace(H,\"$1\"));return i[_]?lt((function(t,e,n,o){for(var s,r=i(t,null,o,[]),a=t.length;a--;)(s=r[a])&&(t[a]=!(e[a]=s))})):function(t,o,s){return e[0]=t,i(e,null,s,n),e[0]=null,!n.pop()}})),has:lt((function(t){return function(e){return at(t,e).length>0}})),contains:lt((function(t){return t=t.replace(et,nt),function(e){return(e.textContent||o(e)).indexOf(t)>-1}})),lang:lt((function(t){return G.test(t||\"\")||at.error(\"unsupported lang: \"+t),t=t.replace(et,nt).toLowerCase(),function(e){var n;do{if(n=f?e.lang:e.getAttribute(\"xml:lang\")||e.getAttribute(\"lang\"))return(n=n.toLowerCase())===t||0===n.indexOf(t+\"-\")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===m},focus:function(t){return t===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:ft(!1),disabled:ft(!0),checked:function(t){var e=t.nodeName.toLowerCase();return\"input\"===e&&!!t.checked||\"option\"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!i.pseudos.empty(t)},header:function(t){return Z.test(t.nodeName)},input:function(t){return J.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return\"input\"===e&&\"button\"===t.type||\"button\"===e},text:function(t){var e;return\"input\"===t.nodeName.toLowerCase()&&\"text\"===t.type&&(null==(e=t.getAttribute(\"type\"))||\"text\"===e.toLowerCase())},first:gt((function(){return[0]})),last:gt((function(t,e){return[e-1]})),eq:gt((function(t,e,n){return[n<0?n+e:n]})),even:gt((function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t})),odd:gt((function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t})),lt:gt((function(t,e,n){for(var i=n<0?n+e:n>e?e:n;--i>=0;)t.push(i);return t})),gt:gt((function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t}))}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[e]=pt(e);for(e in{submit:!0,reset:!0})i.pseudos[e]=mt(e);function vt(){}function wt(t){for(var e=0,n=t.length,i=\"\";e<n;e++)i+=t[e].value;return i}function _t(t,e,n){var i=e.dir,o=e.next,s=o||i,r=n&&\"parentNode\"===s,a=I++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,o);return!1}:function(e,n,c){var l,d,h,u=[C,a];if(c){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,c))return!0}else for(;e=e[i];)if(1===e.nodeType||r)if(d=(h=e[_]||(e[_]={}))[e.uniqueID]||(h[e.uniqueID]={}),o&&o===e.nodeName.toLowerCase())e=e[i]||e;else{if((l=d[s])&&l[0]===C&&l[1]===a)return u[2]=l[2];if(d[s]=u,u[2]=t(e,n,c))return!0}return!1}}function bt(t){return t.length>1?function(e,n,i){for(var o=t.length;o--;)if(!t[o](e,n,i))return!1;return!0}:t[0]}function Ct(t,e,n,i,o){for(var s,r=[],a=0,c=t.length,l=null!=e;a<c;a++)(s=t[a])&&(n&&!n(s,i,o)||(r.push(s),l&&e.push(a)));return r}function It(t,e,n,i,o,s){return i&&!i[_]&&(i=It(i)),o&&!o[_]&&(o=It(o,s)),lt((function(s,r,a,c){var l,d,h,u=[],p=[],m=r.length,f=s||function(t,e,n){for(var i=0,o=e.length;i<o;i++)at(t,e[i],n);return n}(e||\"*\",a.nodeType?[a]:a,[]),g=!t||!s&&e?f:Ct(f,u,t,a,c),y=n?o||(s?t:m||i)?[]:r:g;if(n&&n(g,y,a,c),i)for(l=Ct(y,p),i(l,[],a,c),d=l.length;d--;)(h=l[d])&&(y[p[d]]=!(g[p[d]]=h));if(s){if(o||t){if(o){for(l=[],d=y.length;d--;)(h=y[d])&&l.push(g[d]=h);o(null,y=[],l,c)}for(d=y.length;d--;)(h=y[d])&&(l=o?F(s,h):u[d])>-1&&(s[l]=!(r[l]=h))}}else y=Ct(y===r?y.splice(m,y.length):y),o?o(null,r,y,c):L.apply(r,y)}))}function xt(t){for(var e,n,o,s=t.length,r=i.relative[t[0].type],a=r||i.relative[\" \"],c=r?1:0,d=_t((function(t){return t===e}),a,!0),h=_t((function(t){return F(e,t)>-1}),a,!0),u=[function(t,n,i){var o=!r&&(i||n!==l)||((e=n).nodeType?d(t,n,i):h(t,n,i));return e=null,o}];c<s;c++)if(n=i.relative[t[c].type])u=[_t(bt(u),n)];else{if((n=i.filter[t[c].type].apply(null,t[c].matches))[_]){for(o=++c;o<s&&!i.relative[t[o].type];o++);return It(c>1&&bt(u),c>1&&wt(t.slice(0,c-1).concat({value:\" \"===t[c-2].type?\"*\":\"\"})).replace(H,\"$1\"),n,c<o&&xt(t.slice(c,o)),o<s&&xt(t=t.slice(o)),o<s&&wt(t))}u.push(n)}return bt(u)}return vt.prototype=i.filters=i.pseudos,i.setFilters=new vt,r=at.tokenize=function(t,e){var n,o,s,r,a,c,l,d=k[t+\" \"];if(d)return e?0:d.slice(0);for(a=t,c=[],l=i.preFilter;a;){for(r in n&&!(o=j.exec(a))||(o&&(a=a.slice(o[0].length)||a),c.push(s=[])),n=!1,(o=q.exec(a))&&(n=o.shift(),s.push({value:n,type:o[0].replace(H,\" \")}),a=a.slice(n.length)),i.filter)!(o=X[r].exec(a))||l[r]&&!(o=l[r](o))||(n=o.shift(),s.push({value:n,type:r,matches:o}),a=a.slice(n.length));if(!n)break}return e?a.length:a?at.error(t):k(t,c).slice(0)},a=at.compile=function(t,e){var n,o=[],s=[],a=E[t+\" \"];if(!a){for(e||(e=r(t)),n=e.length;n--;)(a=xt(e[n]))[_]?o.push(a):s.push(a);(a=E(t,function(t,e){var n=e.length>0,o=t.length>0,s=function(s,r,a,c,d){var h,m,g,y=0,v=\"0\",w=s&&[],_=[],b=l,I=s||o&&i.find.TAG(\"*\",d),x=C+=null==b?1:Math.random()||.1,k=I.length;for(d&&(l=r==p||r||d);v!==k&&null!=(h=I[v]);v++){if(o&&h){for(m=0,r||h.ownerDocument==p||(u(h),a=!f);g=t[m++];)if(g(h,r||p,a)){c.push(h);break}d&&(C=x)}n&&((h=!g&&h)&&y--,s&&w.push(h))}if(y+=v,n&&v!==y){for(m=0;g=e[m++];)g(w,_,r,a);if(s){if(y>0)for(;v--;)w[v]||_[v]||(_[v]=D.call(c));_=Ct(_)}L.apply(c,_),d&&!s&&_.length>0&&y+e.length>1&&at.uniqueSort(c)}return d&&(C=x,l=b),w};return n?lt(s):s}(s,o))).selector=t}return a},c=at.select=function(t,e,n,o){var s,c,l,d,h,u=\"function\"==typeof t&&t,p=!o&&r(t=u.selector||t);if(n=n||[],1===p.length){if((c=p[0]=p[0].slice(0)).length>2&&\"ID\"===(l=c[0]).type&&9===e.nodeType&&f&&i.relative[c[1].type]){if(!(e=(i.find.ID(l.matches[0].replace(et,nt),e)||[])[0]))return n;u&&(e=e.parentNode),t=t.slice(c.shift().value.length)}for(s=X.needsContext.test(t)?0:c.length;s--&&(l=c[s],!i.relative[d=l.type]);)if((h=i.find[d])&&(o=h(l.matches[0].replace(et,nt),tt.test(c[0].type)&&yt(e.parentNode)||e))){if(c.splice(s,1),!(t=o.length&&wt(c)))return L.apply(n,o),n;break}}return(u||a(t,p))(o,e,!f,n,!e||tt.test(t)&&yt(e.parentNode)||e),n},n.sortStable=_.split(\"\").sort(T).join(\"\")===_,n.detectDuplicates=!!h,u(),n.sortDetached=dt((function(t){return 1&t.compareDocumentPosition(p.createElement(\"fieldset\"))})),dt((function(t){return t.innerHTML=\"<a href='#'></a>\",\"#\"===t.firstChild.getAttribute(\"href\")}))||ht(\"type|href|height|width\",(function(t,e,n){if(!n)return t.getAttribute(e,\"type\"===e.toLowerCase()?1:2)})),n.attributes&&dt((function(t){return t.innerHTML=\"<input/>\",t.firstChild.setAttribute(\"value\",\"\"),\"\"===t.firstChild.getAttribute(\"value\")}))||ht(\"value\",(function(t,e,n){if(!n&&\"input\"===t.nodeName.toLowerCase())return t.defaultValue})),dt((function(t){return null==t.getAttribute(\"disabled\")}))||ht(z,(function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null})),at}(t);b.find=I,b.expr=I.selectors,b.expr[\":\"]=b.expr.pseudos,b.uniqueSort=b.unique=I.uniqueSort,b.text=I.getText,b.isXMLDoc=I.isXML,b.contains=I.contains,b.escapeSelector=I.escape;var x=function(t,e,n){for(var i=[],o=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&b(t).is(n))break;i.push(t)}return i},k=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},E=b.expr.match.needsContext;function S(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var T=/^<([a-z][^\\/\\0>:\\x20\\t\\r\\n\\f]*)[\\x20\\t\\r\\n\\f]*\\/?>(?:<\\/\\1>|)$/i;function W(t,e,n){return m(e)?b.grep(t,(function(t,i){return!!e.call(t,i,t)!==n})):e.nodeType?b.grep(t,(function(t){return t===e!==n})):\"string\"!=typeof e?b.grep(t,(function(t){return a.call(e,t)>-1!==n})):b.filter(e,t,n)}b.filter=function(t,e,n){var i=e[0];return n&&(t=\":not(\"+t+\")\"),1===e.length&&1===i.nodeType?b.find.matchesSelector(i,t)?[i]:[]:b.find.matches(t,b.grep(e,(function(t){return 1===t.nodeType})))},b.fn.extend({find:function(t){var e,n,i=this.length,o=this;if(\"string\"!=typeof t)return this.pushStack(b(t).filter((function(){for(e=0;e<i;e++)if(b.contains(o[e],this))return!0})));for(n=this.pushStack([]),e=0;e<i;e++)b.find(t,o[e],n);return i>1?b.uniqueSort(n):n},filter:function(t){return this.pushStack(W(this,t||[],!1))},not:function(t){return this.pushStack(W(this,t||[],!0))},is:function(t){return!!W(this,\"string\"==typeof t&&E.test(t)?b(t):t||[],!1).length}});var A,D=/^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]+))$/;(b.fn.init=function(t,e,n){var i,o;if(!t)return this;if(n=n||A,\"string\"==typeof t){if(!(i=\"<\"===t[0]&&\">\"===t[t.length-1]&&t.length>=3?[null,t,null]:D.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof b?e[0]:e,b.merge(this,b.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:g,!0)),T.test(i[1])&&b.isPlainObject(e))for(i in e)m(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(o=g.getElementById(i[2]))&&(this[0]=o,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):m(t)?void 0!==n.ready?n.ready(t):t(b):b.makeArray(t,this)}).prototype=b.fn,A=b(g);var P=/^(?:parents|prev(?:Until|All))/,L={children:!0,contents:!0,next:!0,prev:!0};function M(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}b.fn.extend({has:function(t){var e=b(t,this),n=e.length;return this.filter((function(){for(var t=0;t<n;t++)if(b.contains(this,e[t]))return!0}))},closest:function(t,e){var n,i=0,o=this.length,s=[],r=\"string\"!=typeof t&&b(t);if(!E.test(t))for(;i<o;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(r?r.index(n)>-1:1===n.nodeType&&b.find.matchesSelector(n,t))){s.push(n);break}return this.pushStack(s.length>1?b.uniqueSort(s):s)},index:function(t){return t?\"string\"==typeof t?a.call(b(t),this[0]):a.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(b.uniqueSort(b.merge(this.get(),b(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),b.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return x(t,\"parentNode\")},parentsUntil:function(t,e,n){return x(t,\"parentNode\",n)},next:function(t){return M(t,\"nextSibling\")},prev:function(t){return M(t,\"previousSibling\")},nextAll:function(t){return x(t,\"nextSibling\")},prevAll:function(t){return x(t,\"previousSibling\")},nextUntil:function(t,e,n){return x(t,\"nextSibling\",n)},prevUntil:function(t,e,n){return x(t,\"previousSibling\",n)},siblings:function(t){return k((t.parentNode||{}).firstChild,t)},children:function(t){return k(t.firstChild)},contents:function(t){return null!=t.contentDocument&&i(t.contentDocument)?t.contentDocument:(S(t,\"template\")&&(t=t.content||t),b.merge([],t.childNodes))}},(function(t,e){b.fn[t]=function(n,i){var o=b.map(this,e,n);return\"Until\"!==t.slice(-5)&&(i=n),i&&\"string\"==typeof i&&(o=b.filter(i,o)),this.length>1&&(L[t]||b.uniqueSort(o),P.test(t)&&o.reverse()),this.pushStack(o)}}));var F=/[^\\x20\\t\\r\\n\\f]+/g;function z(t){return t}function B(t){throw t}function N(t,e,n,i){var o;try{t&&m(o=t.promise)?o.call(t).done(e).fail(n):t&&m(o=t.then)?o.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}b.Callbacks=function(t){t=\"string\"==typeof t?function(t){var e={};return b.each(t.match(F)||[],(function(t,n){e[n]=!0})),e}(t):b.extend({},t);var e,n,i,o,s=[],r=[],a=-1,c=function(){for(o=o||t.once,i=e=!0;r.length;a=-1)for(n=r.shift();++a<s.length;)!1===s[a].apply(n[0],n[1])&&t.stopOnFalse&&(a=s.length,n=!1);t.memory||(n=!1),e=!1,o&&(s=n?[]:\"\")},l={add:function(){return s&&(n&&!e&&(a=s.length-1,r.push(n)),function e(n){b.each(n,(function(n,i){m(i)?t.unique&&l.has(i)||s.push(i):i&&i.length&&\"string\"!==w(i)&&e(i)}))}(arguments),n&&!e&&c()),this},remove:function(){return b.each(arguments,(function(t,e){for(var n;(n=b.inArray(e,s,n))>-1;)s.splice(n,1),n<=a&&a--})),this},has:function(t){return t?b.inArray(t,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return o=r=[],s=n=\"\",this},disabled:function(){return!s},lock:function(){return o=r=[],n||e||(s=n=\"\"),this},locked:function(){return!!o},fireWith:function(t,n){return o||(n=[t,(n=n||[]).slice?n.slice():n],r.push(n),e||c()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!i}};return l},b.extend({Deferred:function(e){var n=[[\"notify\",\"progress\",b.Callbacks(\"memory\"),b.Callbacks(\"memory\"),2],[\"resolve\",\"done\",b.Callbacks(\"once memory\"),b.Callbacks(\"once memory\"),0,\"resolved\"],[\"reject\",\"fail\",b.Callbacks(\"once memory\"),b.Callbacks(\"once memory\"),1,\"rejected\"]],i=\"pending\",o={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},catch:function(t){return o.then(null,t)},pipe:function(){var t=arguments;return b.Deferred((function(e){b.each(n,(function(n,i){var o=m(t[i[4]])&&t[i[4]];s[i[1]]((function(){var t=o&&o.apply(this,arguments);t&&m(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[i[0]+\"With\"](this,o?[t]:arguments)}))})),t=null})).promise()},then:function(e,i,o){var s=0;function r(e,n,i,o){return function(){var a=this,c=arguments,l=function(){var t,l;if(!(e<s)){if((t=i.apply(a,c))===n.promise())throw new TypeError(\"Thenable self-resolution\");l=t&&(\"object\"==typeof t||\"function\"==typeof t)&&t.then,m(l)?o?l.call(t,r(s,n,z,o),r(s,n,B,o)):(s++,l.call(t,r(s,n,z,o),r(s,n,B,o),r(s,n,z,n.notifyWith))):(i!==z&&(a=void 0,c=[t]),(o||n.resolveWith)(a,c))}},d=o?l:function(){try{l()}catch(t){b.Deferred.exceptionHook&&b.Deferred.exceptionHook(t,d.stackTrace),e+1>=s&&(i!==B&&(a=void 0,c=[t]),n.rejectWith(a,c))}};e?d():(b.Deferred.getStackHook&&(d.stackTrace=b.Deferred.getStackHook()),t.setTimeout(d))}}return b.Deferred((function(t){n[0][3].add(r(0,t,m(o)?o:z,t.notifyWith)),n[1][3].add(r(0,t,m(e)?e:z)),n[2][3].add(r(0,t,m(i)?i:B))})).promise()},promise:function(t){return null!=t?b.extend(t,o):o}},s={};return b.each(n,(function(t,e){var r=e[2],a=e[5];o[e[1]]=r.add,a&&r.add((function(){i=a}),n[3-t][2].disable,n[3-t][3].disable,n[0][2].lock,n[0][3].lock),r.add(e[3].fire),s[e[0]]=function(){return s[e[0]+\"With\"](this===s?void 0:this,arguments),this},s[e[0]+\"With\"]=r.fireWith})),o.promise(s),e&&e.call(s,s),s},when:function(t){var e=arguments.length,n=e,i=Array(n),s=o.call(arguments),r=b.Deferred(),a=function(t){return function(n){i[t]=this,s[t]=arguments.length>1?o.call(arguments):n,--e||r.resolveWith(i,s)}};if(e<=1&&(N(t,r.done(a(n)).resolve,r.reject,!e),\"pending\"===r.state()||m(s[n]&&s[n].then)))return r.then();for(;n--;)N(s[n],a(n),r.reject);return r.promise()}});var O=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;b.Deferred.exceptionHook=function(e,n){t.console&&t.console.warn&&e&&O.test(e.name)&&t.console.warn(\"jQuery.Deferred exception: \"+e.message,e.stack,n)},b.readyException=function(e){t.setTimeout((function(){throw e}))};var $=b.Deferred();function R(){g.removeEventListener(\"DOMContentLoaded\",R),t.removeEventListener(\"load\",R),b.ready()}b.fn.ready=function(t){return $.then(t).catch((function(t){b.readyException(t)})),this},b.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--b.readyWait:b.isReady)||(b.isReady=!0,!0!==t&&--b.readyWait>0||$.resolveWith(g,[b]))}}),b.ready.then=$.then,\"complete\"===g.readyState||\"loading\"!==g.readyState&&!g.documentElement.doScroll?t.setTimeout(b.ready):(g.addEventListener(\"DOMContentLoaded\",R),t.addEventListener(\"load\",R));var H=function(t,e,n,i,o,s,r){var a=0,c=t.length,l=null==n;if(\"object\"===w(n))for(a in o=!0,n)H(t,e,a,n[a],!0,s,r);else if(void 0!==i&&(o=!0,m(i)||(r=!0),l&&(r?(e.call(t,i),e=null):(l=e,e=function(t,e,n){return l.call(b(t),n)})),e))for(;a<c;a++)e(t[a],n,r?i:i.call(t[a],a,e(t[a],n)));return o?t:l?e.call(t):c?e(t[0],n):s},j=/^-ms-/,q=/-([a-z])/g;function U(t,e){return e.toUpperCase()}function V(t){return t.replace(j,\"ms-\").replace(q,U)}var G=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function X(){this.expando=b.expando+X.uid++}X.uid=1,X.prototype={cache:function(t){var e=t[this.expando];return e||(e={},G(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,o=this.cache(t);if(\"string\"==typeof e)o[V(e)]=n;else for(i in e)o[V(i)]=e[i];return o},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][V(e)]},access:function(t,e,n){return void 0===e||e&&\"string\"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){n=(e=Array.isArray(e)?e.map(V):(e=V(e))in i?[e]:e.match(F)||[]).length;for(;n--;)delete i[e[n]]}(void 0===e||b.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!b.isEmptyObject(e)}};var Y=new X,J=new X,Z=/^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,Q=/[A-Z]/g;function K(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i=\"data-\"+e.replace(Q,\"-$&\").toLowerCase(),\"string\"==typeof(n=t.getAttribute(i))){try{n=function(t){return\"true\"===t||\"false\"!==t&&(\"null\"===t?null:t===+t+\"\"?+t:Z.test(t)?JSON.parse(t):t)}(n)}catch(t){}J.set(t,e,n)}else n=void 0;return n}b.extend({hasData:function(t){return J.hasData(t)||Y.hasData(t)},data:function(t,e,n){return J.access(t,e,n)},removeData:function(t,e){J.remove(t,e)},_data:function(t,e,n){return Y.access(t,e,n)},_removeData:function(t,e){Y.remove(t,e)}}),b.fn.extend({data:function(t,e){var n,i,o,s=this[0],r=s&&s.attributes;if(void 0===t){if(this.length&&(o=J.get(s),1===s.nodeType&&!Y.get(s,\"hasDataAttrs\"))){for(n=r.length;n--;)r[n]&&0===(i=r[n].name).indexOf(\"data-\")&&(i=V(i.slice(5)),K(s,i,o[i]));Y.set(s,\"hasDataAttrs\",!0)}return o}return\"object\"==typeof t?this.each((function(){J.set(this,t)})):H(this,(function(e){var n;if(s&&void 0===e)return void 0!==(n=J.get(s,t))||void 0!==(n=K(s,t))?n:void 0;this.each((function(){J.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){J.remove(this,t)}))}}),b.extend({queue:function(t,e,n){var i;if(t)return e=(e||\"fx\")+\"queue\",i=Y.get(t,e),n&&(!i||Array.isArray(n)?i=Y.access(t,e,b.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||\"fx\";var n=b.queue(t,e),i=n.length,o=n.shift(),s=b._queueHooks(t,e);\"inprogress\"===o&&(o=n.shift(),i--),o&&(\"fx\"===e&&n.unshift(\"inprogress\"),delete s.stop,o.call(t,(function(){b.dequeue(t,e)}),s)),!i&&s&&s.empty.fire()},_queueHooks:function(t,e){var n=e+\"queueHooks\";return Y.get(t,n)||Y.access(t,n,{empty:b.Callbacks(\"once memory\").add((function(){Y.remove(t,[e+\"queue\",n])}))})}}),b.fn.extend({queue:function(t,e){var n=2;return\"string\"!=typeof t&&(e=t,t=\"fx\",n--),arguments.length<n?b.queue(this[0],t):void 0===e?this:this.each((function(){var n=b.queue(this,t,e);b._queueHooks(this,t),\"fx\"===t&&\"inprogress\"!==n[0]&&b.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){b.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||\"fx\",[])},promise:function(t,e){var n,i=1,o=b.Deferred(),s=this,r=this.length,a=function(){--i||o.resolveWith(s,[s])};for(\"string\"!=typeof t&&(e=t,t=void 0),t=t||\"fx\";r--;)(n=Y.get(s[r],t+\"queueHooks\"))&&n.empty&&(i++,n.empty.add(a));return a(),o.promise(e)}});var tt=/[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/.source,et=new RegExp(\"^(?:([+-])=|)(\"+tt+\")([a-z%]*)$\",\"i\"),nt=[\"Top\",\"Right\",\"Bottom\",\"Left\"],it=g.documentElement,ot=function(t){return b.contains(t.ownerDocument,t)},st={composed:!0};it.getRootNode&&(ot=function(t){return b.contains(t.ownerDocument,t)||t.getRootNode(st)===t.ownerDocument});var rt=function(t,e){return\"none\"===(t=e||t).style.display||\"\"===t.style.display&&ot(t)&&\"none\"===b.css(t,\"display\")};function at(t,e,n,i){var o,s,r=20,a=i?function(){return i.cur()}:function(){return b.css(t,e,\"\")},c=a(),l=n&&n[3]||(b.cssNumber[e]?\"\":\"px\"),d=t.nodeType&&(b.cssNumber[e]||\"px\"!==l&&+c)&&et.exec(b.css(t,e));if(d&&d[3]!==l){for(c/=2,l=l||d[3],d=+c||1;r--;)b.style(t,e,d+l),(1-s)*(1-(s=a()/c||.5))<=0&&(r=0),d/=s;d*=2,b.style(t,e,d+l),n=n||[]}return n&&(d=+d||+c||0,o=n[1]?d+(n[1]+1)*n[2]:+n[2],i&&(i.unit=l,i.start=d,i.end=o)),o}var ct={};function lt(t){var e,n=t.ownerDocument,i=t.nodeName,o=ct[i];return o||(e=n.body.appendChild(n.createElement(i)),o=b.css(e,\"display\"),e.parentNode.removeChild(e),\"none\"===o&&(o=\"block\"),ct[i]=o,o)}function dt(t,e){for(var n,i,o=[],s=0,r=t.length;s<r;s++)(i=t[s]).style&&(n=i.style.display,e?(\"none\"===n&&(o[s]=Y.get(i,\"display\")||null,o[s]||(i.style.display=\"\")),\"\"===i.style.display&&rt(i)&&(o[s]=lt(i))):\"none\"!==n&&(o[s]=\"none\",Y.set(i,\"display\",n)));for(s=0;s<r;s++)null!=o[s]&&(t[s].style.display=o[s]);return t}b.fn.extend({show:function(){return dt(this,!0)},hide:function(){return dt(this)},toggle:function(t){return\"boolean\"==typeof t?t?this.show():this.hide():this.each((function(){rt(this)?b(this).show():b(this).hide()}))}});var ht,ut,pt=/^(?:checkbox|radio)$/i,mt=/<([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]*)/i,ft=/^$|^module$|\\/(?:java|ecma)script/i;ht=g.createDocumentFragment().appendChild(g.createElement(\"div\")),(ut=g.createElement(\"input\")).setAttribute(\"type\",\"radio\"),ut.setAttribute(\"checked\",\"checked\"),ut.setAttribute(\"name\",\"t\"),ht.appendChild(ut),p.checkClone=ht.cloneNode(!0).cloneNode(!0).lastChild.checked,ht.innerHTML=\"<textarea>x</textarea>\",p.noCloneChecked=!!ht.cloneNode(!0).lastChild.defaultValue,ht.innerHTML=\"<option></option>\",p.option=!!ht.lastChild;var gt={thead:[1,\"<table>\",\"</table>\"],col:[2,\"<table><colgroup>\",\"</colgroup></table>\"],tr:[2,\"<table><tbody>\",\"</tbody></table>\"],td:[3,\"<table><tbody><tr>\",\"</tr></tbody></table>\"],_default:[0,\"\",\"\"]};function yt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||\"*\"):void 0!==t.querySelectorAll?t.querySelectorAll(e||\"*\"):[],void 0===e||e&&S(t,e)?b.merge([t],n):n}function vt(t,e){for(var n=0,i=t.length;n<i;n++)Y.set(t[n],\"globalEval\",!e||Y.get(e[n],\"globalEval\"))}gt.tbody=gt.tfoot=gt.colgroup=gt.caption=gt.thead,gt.th=gt.td,p.option||(gt.optgroup=gt.option=[1,\"<select multiple='multiple'>\",\"</select>\"]);var wt=/<|&#?\\w+;/;function _t(t,e,n,i,o){for(var s,r,a,c,l,d,h=e.createDocumentFragment(),u=[],p=0,m=t.length;p<m;p++)if((s=t[p])||0===s)if(\"object\"===w(s))b.merge(u,s.nodeType?[s]:s);else if(wt.test(s)){for(r=r||h.appendChild(e.createElement(\"div\")),a=(mt.exec(s)||[\"\",\"\"])[1].toLowerCase(),c=gt[a]||gt._default,r.innerHTML=c[1]+b.htmlPrefilter(s)+c[2],d=c[0];d--;)r=r.lastChild;b.merge(u,r.childNodes),(r=h.firstChild).textContent=\"\"}else u.push(e.createTextNode(s));for(h.textContent=\"\",p=0;s=u[p++];)if(i&&b.inArray(s,i)>-1)o&&o.push(s);else if(l=ot(s),r=yt(h.appendChild(s),\"script\"),l&&vt(r),n)for(d=0;s=r[d++];)ft.test(s.type||\"\")&&n.push(s);return h}var bt=/^key/,Ct=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,It=/^([^.]*)(?:\\.(.+)|)/;function xt(){return!0}function kt(){return!1}function Et(t,e){return t===function(){try{return g.activeElement}catch(t){}}()==(\"focus\"===e)}function St(t,e,n,i,o,s){var r,a;if(\"object\"==typeof e){for(a in\"string\"!=typeof n&&(i=i||n,n=void 0),e)St(t,a,n,i,e[a],s);return t}if(null==i&&null==o?(o=n,i=n=void 0):null==o&&(\"string\"==typeof n?(o=i,i=void 0):(o=i,i=n,n=void 0)),!1===o)o=kt;else if(!o)return t;return 1===s&&(r=o,(o=function(t){return b().off(t),r.apply(this,arguments)}).guid=r.guid||(r.guid=b.guid++)),t.each((function(){b.event.add(this,e,o,i,n)}))}function Tt(t,e,n){n?(Y.set(t,e,!1),b.event.add(t,e,{namespace:!1,handler:function(t){var i,s,r=Y.get(this,e);if(1&t.isTrigger&&this[e]){if(r.length)(b.event.special[e]||{}).delegateType&&t.stopPropagation();else if(r=o.call(arguments),Y.set(this,e,r),i=n(this,e),this[e](),r!==(s=Y.get(this,e))||i?Y.set(this,e,!1):s={},r!==s)return t.stopImmediatePropagation(),t.preventDefault(),s.value}else r.length&&(Y.set(this,e,{value:b.event.trigger(b.extend(r[0],b.Event.prototype),r.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===Y.get(t,e)&&b.event.add(t,e,xt)}b.event={global:{},add:function(t,e,n,i,o){var s,r,a,c,l,d,h,u,p,m,f,g=Y.get(t);if(G(t))for(n.handler&&(n=(s=n).handler,o=s.selector),o&&b.find.matchesSelector(it,o),n.guid||(n.guid=b.guid++),(c=g.events)||(c=g.events=Object.create(null)),(r=g.handle)||(r=g.handle=function(e){return void 0!==b&&b.event.triggered!==e.type?b.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||\"\").match(F)||[\"\"]).length;l--;)p=f=(a=It.exec(e[l])||[])[1],m=(a[2]||\"\").split(\".\").sort(),p&&(h=b.event.special[p]||{},p=(o?h.delegateType:h.bindType)||p,h=b.event.special[p]||{},d=b.extend({type:p,origType:f,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&b.expr.match.needsContext.test(o),namespace:m.join(\".\")},s),(u=c[p])||((u=c[p]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,i,m,r)||t.addEventListener&&t.addEventListener(p,r)),h.add&&(h.add.call(t,d),d.handler.guid||(d.handler.guid=n.guid)),o?u.splice(u.delegateCount++,0,d):u.push(d),b.event.global[p]=!0)},remove:function(t,e,n,i,o){var s,r,a,c,l,d,h,u,p,m,f,g=Y.hasData(t)&&Y.get(t);if(g&&(c=g.events)){for(l=(e=(e||\"\").match(F)||[\"\"]).length;l--;)if(p=f=(a=It.exec(e[l])||[])[1],m=(a[2]||\"\").split(\".\").sort(),p){for(h=b.event.special[p]||{},u=c[p=(i?h.delegateType:h.bindType)||p]||[],a=a[2]&&new RegExp(\"(^|\\\\.)\"+m.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"),r=s=u.length;s--;)d=u[s],!o&&f!==d.origType||n&&n.guid!==d.guid||a&&!a.test(d.namespace)||i&&i!==d.selector&&(\"**\"!==i||!d.selector)||(u.splice(s,1),d.selector&&u.delegateCount--,h.remove&&h.remove.call(t,d));r&&!u.length&&(h.teardown&&!1!==h.teardown.call(t,m,g.handle)||b.removeEvent(t,p,g.handle),delete c[p])}else for(p in c)b.event.remove(t,p+e[l],n,i,!0);b.isEmptyObject(c)&&Y.remove(t,\"handle events\")}},dispatch:function(t){var e,n,i,o,s,r,a=new Array(arguments.length),c=b.event.fix(t),l=(Y.get(this,\"events\")||Object.create(null))[c.type]||[],d=b.event.special[c.type]||{};for(a[0]=c,e=1;e<arguments.length;e++)a[e]=arguments[e];if(c.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,c)){for(r=b.event.handlers.call(this,c,l),e=0;(o=r[e++])&&!c.isPropagationStopped();)for(c.currentTarget=o.elem,n=0;(s=o.handlers[n++])&&!c.isImmediatePropagationStopped();)c.rnamespace&&!1!==s.namespace&&!c.rnamespace.test(s.namespace)||(c.handleObj=s,c.data=s.data,void 0!==(i=((b.event.special[s.origType]||{}).handle||s.handler).apply(o.elem,a))&&!1===(c.result=i)&&(c.preventDefault(),c.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,c),c.result}},handlers:function(t,e){var n,i,o,s,r,a=[],c=e.delegateCount,l=t.target;if(c&&l.nodeType&&!(\"click\"===t.type&&t.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(\"click\"!==t.type||!0!==l.disabled)){for(s=[],r={},n=0;n<c;n++)void 0===r[o=(i=e[n]).selector+\" \"]&&(r[o]=i.needsContext?b(o,this).index(l)>-1:b.find(o,this,null,[l]).length),r[o]&&s.push(i);s.length&&a.push({elem:l,handlers:s})}return l=this,c<e.length&&a.push({elem:l,handlers:e.slice(c)}),a},addProp:function(t,e){Object.defineProperty(b.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[b.expando]?t:new b.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return pt.test(e.type)&&e.click&&S(e,\"input\")&&Tt(e,\"click\",xt),!1},trigger:function(t){var e=this||t;return pt.test(e.type)&&e.click&&S(e,\"input\")&&Tt(e,\"click\"),!0},_default:function(t){var e=t.target;return pt.test(e.type)&&e.click&&S(e,\"input\")&&Y.get(e,\"click\")||S(e,\"a\")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},b.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},b.Event=function(t,e){if(!(this instanceof b.Event))return new b.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?xt:kt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&b.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[b.expando]=!0},b.Event.prototype={constructor:b.Event,isDefaultPrevented:kt,isPropagationStopped:kt,isImmediatePropagationStopped:kt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=xt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=xt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=xt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},b.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&bt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Ct.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},b.event.addProp),b.each({focus:\"focusin\",blur:\"focusout\"},(function(t,e){b.event.special[t]={setup:function(){return Tt(this,t,Et),!1},trigger:function(){return Tt(this,t),!0},delegateType:e}})),b.each({mouseenter:\"mouseover\",mouseleave:\"mouseout\",pointerenter:\"pointerover\",pointerleave:\"pointerout\"},(function(t,e){b.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,o=t.relatedTarget,s=t.handleObj;return o&&(o===i||b.contains(i,o))||(t.type=s.origType,n=s.handler.apply(this,arguments),t.type=e),n}}})),b.fn.extend({on:function(t,e,n,i){return St(this,t,e,n,i)},one:function(t,e,n,i){return St(this,t,e,n,i,1)},off:function(t,e,n){var i,o;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,b(t.delegateTarget).off(i.namespace?i.origType+\".\"+i.namespace:i.origType,i.selector,i.handler),this;if(\"object\"==typeof t){for(o in t)this.off(o,e,t[o]);return this}return!1!==e&&\"function\"!=typeof e||(n=e,e=void 0),!1===n&&(n=kt),this.each((function(){b.event.remove(this,t,n,e)}))}});var Wt=/<script|<style|<link/i,At=/checked\\s*(?:[^=]|=\\s*.checked.)/i,Dt=/^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g;function Pt(t,e){return S(t,\"table\")&&S(11!==e.nodeType?e:e.firstChild,\"tr\")&&b(t).children(\"tbody\")[0]||t}function Lt(t){return t.type=(null!==t.getAttribute(\"type\"))+\"/\"+t.type,t}function Mt(t){return\"true/\"===(t.type||\"\").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute(\"type\"),t}function Ft(t,e){var n,i,o,s,r,a;if(1===e.nodeType){if(Y.hasData(t)&&(a=Y.get(t).events))for(o in Y.remove(e,\"handle events\"),a)for(n=0,i=a[o].length;n<i;n++)b.event.add(e,o,a[o][n]);J.hasData(t)&&(s=J.access(t),r=b.extend({},s),J.set(e,r))}}function zt(t,e){var n=e.nodeName.toLowerCase();\"input\"===n&&pt.test(t.type)?e.checked=t.checked:\"input\"!==n&&\"textarea\"!==n||(e.defaultValue=t.defaultValue)}function Bt(t,e,n,i){e=s(e);var o,r,a,c,l,d,h=0,u=t.length,f=u-1,g=e[0],y=m(g);if(y||u>1&&\"string\"==typeof g&&!p.checkClone&&At.test(g))return t.each((function(o){var s=t.eq(o);y&&(e[0]=g.call(this,o,s.html())),Bt(s,e,n,i)}));if(u&&(r=(o=_t(e,t[0].ownerDocument,!1,t,i)).firstChild,1===o.childNodes.length&&(o=r),r||i)){for(c=(a=b.map(yt(o,\"script\"),Lt)).length;h<u;h++)l=o,h!==f&&(l=b.clone(l,!0,!0),c&&b.merge(a,yt(l,\"script\"))),n.call(t[h],l,h);if(c)for(d=a[a.length-1].ownerDocument,b.map(a,Mt),h=0;h<c;h++)l=a[h],ft.test(l.type||\"\")&&!Y.access(l,\"globalEval\")&&b.contains(d,l)&&(l.src&&\"module\"!==(l.type||\"\").toLowerCase()?b._evalUrl&&!l.noModule&&b._evalUrl(l.src,{nonce:l.nonce||l.getAttribute(\"nonce\")},d):v(l.textContent.replace(Dt,\"\"),l,d))}return t}function Nt(t,e,n){for(var i,o=e?b.filter(e,t):t,s=0;null!=(i=o[s]);s++)n||1!==i.nodeType||b.cleanData(yt(i)),i.parentNode&&(n&&ot(i)&&vt(yt(i,\"script\")),i.parentNode.removeChild(i));return t}b.extend({htmlPrefilter:function(t){return t},clone:function(t,e,n){var i,o,s,r,a=t.cloneNode(!0),c=ot(t);if(!(p.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||b.isXMLDoc(t)))for(r=yt(a),i=0,o=(s=yt(t)).length;i<o;i++)zt(s[i],r[i]);if(e)if(n)for(s=s||yt(t),r=r||yt(a),i=0,o=s.length;i<o;i++)Ft(s[i],r[i]);else Ft(t,a);return(r=yt(a,\"script\")).length>0&&vt(r,!c&&yt(t,\"script\")),a},cleanData:function(t){for(var e,n,i,o=b.event.special,s=0;void 0!==(n=t[s]);s++)if(G(n)){if(e=n[Y.expando]){if(e.events)for(i in e.events)o[i]?b.event.remove(n,i):b.removeEvent(n,i,e.handle);n[Y.expando]=void 0}n[J.expando]&&(n[J.expando]=void 0)}}}),b.fn.extend({detach:function(t){return Nt(this,t,!0)},remove:function(t){return Nt(this,t)},text:function(t){return H(this,(function(t){return void 0===t?b.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return Bt(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Pt(this,t).appendChild(t)}))},prepend:function(){return Bt(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Pt(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return Bt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return Bt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(b.cleanData(yt(t,!1)),t.textContent=\"\");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return b.clone(this,t,e)}))},html:function(t){return H(this,(function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if(\"string\"==typeof t&&!Wt.test(t)&&!gt[(mt.exec(t)||[\"\",\"\"])[1].toLowerCase()]){t=b.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(b.cleanData(yt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return Bt(this,arguments,(function(e){var n=this.parentNode;b.inArray(this,t)<0&&(b.cleanData(yt(this)),n&&n.replaceChild(e,this))}),t)}}),b.each({appendTo:\"append\",prependTo:\"prepend\",insertBefore:\"before\",insertAfter:\"after\",replaceAll:\"replaceWith\"},(function(t,e){b.fn[t]=function(t){for(var n,i=[],o=b(t),s=o.length-1,a=0;a<=s;a++)n=a===s?this:this.clone(!0),b(o[a])[e](n),r.apply(i,n.get());return this.pushStack(i)}}));var Ot=new RegExp(\"^(\"+tt+\")(?!px)[a-z%]+$\",\"i\"),$t=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)},Rt=function(t,e,n){var i,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];for(o in i=n.call(t),e)t.style[o]=s[o];return i},Ht=new RegExp(nt.join(\"|\"),\"i\");function jt(t,e,n){var i,o,s,r,a=t.style;return(n=n||$t(t))&&(\"\"!==(r=n.getPropertyValue(e)||n[e])||ot(t)||(r=b.style(t,e)),!p.pixelBoxStyles()&&Ot.test(r)&&Ht.test(e)&&(i=a.width,o=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=r,r=n.width,a.width=i,a.minWidth=o,a.maxWidth=s)),void 0!==r?r+\"\":r}function qt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function e(){if(d){l.style.cssText=\"position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0\",d.style.cssText=\"position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%\",it.appendChild(l).appendChild(d);var e=t.getComputedStyle(d);i=\"1%\"!==e.top,c=12===n(e.marginLeft),d.style.right=\"60%\",r=36===n(e.right),o=36===n(e.width),d.style.position=\"absolute\",s=12===n(d.offsetWidth/3),it.removeChild(l),d=null}}function n(t){return Math.round(parseFloat(t))}var i,o,s,r,a,c,l=g.createElement(\"div\"),d=g.createElement(\"div\");d.style&&(d.style.backgroundClip=\"content-box\",d.cloneNode(!0).style.backgroundClip=\"\",p.clearCloneStyle=\"content-box\"===d.style.backgroundClip,b.extend(p,{boxSizingReliable:function(){return e(),o},pixelBoxStyles:function(){return e(),r},pixelPosition:function(){return e(),i},reliableMarginLeft:function(){return e(),c},scrollboxSize:function(){return e(),s},reliableTrDimensions:function(){var e,n,i,o;return null==a&&(e=g.createElement(\"table\"),n=g.createElement(\"tr\"),i=g.createElement(\"div\"),e.style.cssText=\"position:absolute;left:-11111px\",n.style.height=\"1px\",i.style.height=\"9px\",it.appendChild(e).appendChild(n).appendChild(i),o=t.getComputedStyle(n),a=parseInt(o.height)>3,it.removeChild(e)),a}}))}();var Ut=[\"Webkit\",\"Moz\",\"ms\"],Vt=g.createElement(\"div\").style,Gt={};function Xt(t){var e=b.cssProps[t]||Gt[t];return e||(t in Vt?t:Gt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),n=Ut.length;n--;)if((t=Ut[n]+e)in Vt)return t}(t)||t)}var Yt=/^(none|table(?!-c[ea]).+)/,Jt=/^--/,Zt={position:\"absolute\",visibility:\"hidden\",display:\"block\"},Qt={letterSpacing:\"0\",fontWeight:\"400\"};function Kt(t,e,n){var i=et.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||\"px\"):e}function te(t,e,n,i,o,s){var r=\"width\"===e?1:0,a=0,c=0;if(n===(i?\"border\":\"content\"))return 0;for(;r<4;r+=2)\"margin\"===n&&(c+=b.css(t,n+nt[r],!0,o)),i?(\"content\"===n&&(c-=b.css(t,\"padding\"+nt[r],!0,o)),\"margin\"!==n&&(c-=b.css(t,\"border\"+nt[r]+\"Width\",!0,o))):(c+=b.css(t,\"padding\"+nt[r],!0,o),\"padding\"!==n?c+=b.css(t,\"border\"+nt[r]+\"Width\",!0,o):a+=b.css(t,\"border\"+nt[r]+\"Width\",!0,o));return!i&&s>=0&&(c+=Math.max(0,Math.ceil(t[\"offset\"+e[0].toUpperCase()+e.slice(1)]-s-c-a-.5))||0),c}function ee(t,e,n){var i=$t(t),o=(!p.boxSizingReliable()||n)&&\"border-box\"===b.css(t,\"boxSizing\",!1,i),s=o,r=jt(t,e,i),a=\"offset\"+e[0].toUpperCase()+e.slice(1);if(Ot.test(r)){if(!n)return r;r=\"auto\"}return(!p.boxSizingReliable()&&o||!p.reliableTrDimensions()&&S(t,\"tr\")||\"auto\"===r||!parseFloat(r)&&\"inline\"===b.css(t,\"display\",!1,i))&&t.getClientRects().length&&(o=\"border-box\"===b.css(t,\"boxSizing\",!1,i),(s=a in t)&&(r=t[a])),(r=parseFloat(r)||0)+te(t,e,n||(o?\"border\":\"content\"),s,i,r)+\"px\"}function ne(t,e,n,i,o){return new ne.prototype.init(t,e,n,i,o)}b.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=jt(t,\"opacity\");return\"\"===n?\"1\":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,s,r,a=V(e),c=Jt.test(e),l=t.style;if(c||(e=Xt(a)),r=b.cssHooks[e]||b.cssHooks[a],void 0===n)return r&&\"get\"in r&&void 0!==(o=r.get(t,!1,i))?o:l[e];\"string\"===(s=typeof n)&&(o=et.exec(n))&&o[1]&&(n=at(t,e,o),s=\"number\"),null!=n&&n==n&&(\"number\"!==s||c||(n+=o&&o[3]||(b.cssNumber[a]?\"\":\"px\")),p.clearCloneStyle||\"\"!==n||0!==e.indexOf(\"background\")||(l[e]=\"inherit\"),r&&\"set\"in r&&void 0===(n=r.set(t,n,i))||(c?l.setProperty(e,n):l[e]=n))}},css:function(t,e,n,i){var o,s,r,a=V(e);return Jt.test(e)||(e=Xt(a)),(r=b.cssHooks[e]||b.cssHooks[a])&&\"get\"in r&&(o=r.get(t,!0,n)),void 0===o&&(o=jt(t,e,i)),\"normal\"===o&&e in Qt&&(o=Qt[e]),\"\"===n||n?(s=parseFloat(o),!0===n||isFinite(s)?s||0:o):o}}),b.each([\"height\",\"width\"],(function(t,e){b.cssHooks[e]={get:function(t,n,i){if(n)return!Yt.test(b.css(t,\"display\"))||t.getClientRects().length&&t.getBoundingClientRect().width?ee(t,e,i):Rt(t,Zt,(function(){return ee(t,e,i)}))},set:function(t,n,i){var o,s=$t(t),r=!p.scrollboxSize()&&\"absolute\"===s.position,a=(r||i)&&\"border-box\"===b.css(t,\"boxSizing\",!1,s),c=i?te(t,e,i,a,s):0;return a&&r&&(c-=Math.ceil(t[\"offset\"+e[0].toUpperCase()+e.slice(1)]-parseFloat(s[e])-te(t,e,\"border\",!1,s)-.5)),c&&(o=et.exec(n))&&\"px\"!==(o[3]||\"px\")&&(t.style[e]=n,n=b.css(t,e)),Kt(0,n,c)}}})),b.cssHooks.marginLeft=qt(p.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(jt(t,\"marginLeft\"))||t.getBoundingClientRect().left-Rt(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+\"px\"})),b.each({margin:\"\",padding:\"\",border:\"Width\"},(function(t,e){b.cssHooks[t+e]={expand:function(n){for(var i=0,o={},s=\"string\"==typeof n?n.split(\" \"):[n];i<4;i++)o[t+nt[i]+e]=s[i]||s[i-2]||s[0];return o}},\"margin\"!==t&&(b.cssHooks[t+e].set=Kt)})),b.fn.extend({css:function(t,e){return H(this,(function(t,e,n){var i,o,s={},r=0;if(Array.isArray(e)){for(i=$t(t),o=e.length;r<o;r++)s[e[r]]=b.css(t,e[r],!1,i);return s}return void 0!==n?b.style(t,e,n):b.css(t,e)}),t,e,arguments.length>1)}}),b.Tween=ne,ne.prototype={constructor:ne,init:function(t,e,n,i,o,s){this.elem=t,this.prop=n,this.easing=o||b.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=s||(b.cssNumber[n]?\"\":\"px\")},cur:function(){var t=ne.propHooks[this.prop];return t&&t.get?t.get(this):ne.propHooks._default.get(this)},run:function(t){var e,n=ne.propHooks[this.prop];return this.options.duration?this.pos=e=b.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ne.propHooks._default.set(this),this}},ne.prototype.init.prototype=ne.prototype,ne.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=b.css(t.elem,t.prop,\"\"))&&\"auto\"!==e?e:0},set:function(t){b.fx.step[t.prop]?b.fx.step[t.prop](t):1!==t.elem.nodeType||!b.cssHooks[t.prop]&&null==t.elem.style[Xt(t.prop)]?t.elem[t.prop]=t.now:b.style(t.elem,t.prop,t.now+t.unit)}}},ne.propHooks.scrollTop=ne.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},b.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:\"swing\"},b.fx=ne.prototype.init,b.fx.step={};var ie,oe,se=/^(?:toggle|show|hide)$/,re=/queueHooks$/;function ae(){oe&&(!1===g.hidden&&t.requestAnimationFrame?t.requestAnimationFrame(ae):t.setTimeout(ae,b.fx.interval),b.fx.tick())}function ce(){return t.setTimeout((function(){ie=void 0})),ie=Date.now()}function le(t,e){var n,i=0,o={height:t};for(e=e?1:0;i<4;i+=2-e)o[\"margin\"+(n=nt[i])]=o[\"padding\"+n]=t;return e&&(o.opacity=o.width=t),o}function de(t,e,n){for(var i,o=(he.tweeners[e]||[]).concat(he.tweeners[\"*\"]),s=0,r=o.length;s<r;s++)if(i=o[s].call(n,e,t))return i}function he(t,e,n){var i,o,s=0,r=he.prefilters.length,a=b.Deferred().always((function(){delete c.elem})),c=function(){if(o)return!1;for(var e=ie||ce(),n=Math.max(0,l.startTime+l.duration-e),i=1-(n/l.duration||0),s=0,r=l.tweens.length;s<r;s++)l.tweens[s].run(i);return a.notifyWith(t,[l,i,n]),i<1&&r?n:(r||a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l]),!1)},l=a.promise({elem:t,props:b.extend({},e),opts:b.extend(!0,{specialEasing:{},easing:b.easing._default},n),originalProperties:e,originalOptions:n,startTime:ie||ce(),duration:n.duration,tweens:[],createTween:function(e,n){var i=b.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(i),i},stop:function(e){var n=0,i=e?l.tweens.length:0;if(o)return this;for(o=!0;n<i;n++)l.tweens[n].run(1);return e?(a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l,e])):a.rejectWith(t,[l,e]),this}}),d=l.props;for(!function(t,e){var n,i,o,s,r;for(n in t)if(o=e[i=V(n)],s=t[n],Array.isArray(s)&&(o=s[1],s=t[n]=s[0]),n!==i&&(t[i]=s,delete t[n]),(r=b.cssHooks[i])&&\"expand\"in r)for(n in s=r.expand(s),delete t[i],s)n in t||(t[n]=s[n],e[n]=o);else e[i]=o}(d,l.opts.specialEasing);s<r;s++)if(i=he.prefilters[s].call(l,t,d,l.opts))return m(i.stop)&&(b._queueHooks(l.elem,l.opts.queue).stop=i.stop.bind(i)),i;return b.map(d,de,l),m(l.opts.start)&&l.opts.start.call(t,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),b.fx.timer(b.extend(c,{elem:t,anim:l,queue:l.opts.queue})),l}b.Animation=b.extend(he,{tweeners:{\"*\":[function(t,e){var n=this.createTween(t,e);return at(n.elem,t,et.exec(e),n),n}]},tweener:function(t,e){m(t)?(e=t,t=[\"*\"]):t=t.match(F);for(var n,i=0,o=t.length;i<o;i++)n=t[i],he.tweeners[n]=he.tweeners[n]||[],he.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var i,o,s,r,a,c,l,d,h=\"width\"in e||\"height\"in e,u=this,p={},m=t.style,f=t.nodeType&&rt(t),g=Y.get(t,\"fxshow\");for(i in n.queue||(null==(r=b._queueHooks(t,\"fx\")).unqueued&&(r.unqueued=0,a=r.empty.fire,r.empty.fire=function(){r.unqueued||a()}),r.unqueued++,u.always((function(){u.always((function(){r.unqueued--,b.queue(t,\"fx\").length||r.empty.fire()}))}))),e)if(o=e[i],se.test(o)){if(delete e[i],s=s||\"toggle\"===o,o===(f?\"hide\":\"show\")){if(\"show\"!==o||!g||void 0===g[i])continue;f=!0}p[i]=g&&g[i]||b.style(t,i)}if((c=!b.isEmptyObject(e))||!b.isEmptyObject(p))for(i in h&&1===t.nodeType&&(n.overflow=[m.overflow,m.overflowX,m.overflowY],null==(l=g&&g.display)&&(l=Y.get(t,\"display\")),\"none\"===(d=b.css(t,\"display\"))&&(l?d=l:(dt([t],!0),l=t.style.display||l,d=b.css(t,\"display\"),dt([t]))),(\"inline\"===d||\"inline-block\"===d&&null!=l)&&\"none\"===b.css(t,\"float\")&&(c||(u.done((function(){m.display=l})),null==l&&(d=m.display,l=\"none\"===d?\"\":d)),m.display=\"inline-block\")),n.overflow&&(m.overflow=\"hidden\",u.always((function(){m.overflow=n.overflow[0],m.overflowX=n.overflow[1],m.overflowY=n.overflow[2]}))),c=!1,p)c||(g?\"hidden\"in g&&(f=g.hidden):g=Y.access(t,\"fxshow\",{display:l}),s&&(g.hidden=!f),f&&dt([t],!0),u.done((function(){for(i in f||dt([t]),Y.remove(t,\"fxshow\"),p)b.style(t,i,p[i])}))),c=de(f?g[i]:0,i,u),i in g||(g[i]=c.start,f&&(c.end=c.start,c.start=0))}],prefilter:function(t,e){e?he.prefilters.unshift(t):he.prefilters.push(t)}}),b.speed=function(t,e,n){var i=t&&\"object\"==typeof t?b.extend({},t):{complete:n||!n&&e||m(t)&&t,duration:t,easing:n&&e||e&&!m(e)&&e};return b.fx.off?i.duration=0:\"number\"!=typeof i.duration&&(i.duration in b.fx.speeds?i.duration=b.fx.speeds[i.duration]:i.duration=b.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue=\"fx\"),i.old=i.complete,i.complete=function(){m(i.old)&&i.old.call(this),i.queue&&b.dequeue(this,i.queue)},i},b.fn.extend({fadeTo:function(t,e,n,i){return this.filter(rt).css(\"opacity\",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var o=b.isEmptyObject(t),s=b.speed(e,n,i),r=function(){var e=he(this,b.extend({},t),s);(o||Y.get(this,\"finish\"))&&e.stop(!0)};return r.finish=r,o||!1===s.queue?this.each(r):this.queue(s.queue,r)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return\"string\"!=typeof t&&(n=e,e=t,t=void 0),e&&this.queue(t||\"fx\",[]),this.each((function(){var e=!0,o=null!=t&&t+\"queueHooks\",s=b.timers,r=Y.get(this);if(o)r[o]&&r[o].stop&&i(r[o]);else for(o in r)r[o]&&r[o].stop&&re.test(o)&&i(r[o]);for(o=s.length;o--;)s[o].elem!==this||null!=t&&s[o].queue!==t||(s[o].anim.stop(n),e=!1,s.splice(o,1));!e&&n||b.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||\"fx\"),this.each((function(){var e,n=Y.get(this),i=n[t+\"queue\"],o=n[t+\"queueHooks\"],s=b.timers,r=i?i.length:0;for(n.finish=!0,b.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=s.length;e--;)s[e].elem===this&&s[e].queue===t&&(s[e].anim.stop(!0),s.splice(e,1));for(e=0;e<r;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish}))}}),b.each([\"toggle\",\"show\",\"hide\"],(function(t,e){var n=b.fn[e];b.fn[e]=function(t,i,o){return null==t||\"boolean\"==typeof t?n.apply(this,arguments):this.animate(le(e,!0),t,i,o)}})),b.each({slideDown:le(\"show\"),slideUp:le(\"hide\"),slideToggle:le(\"toggle\"),fadeIn:{opacity:\"show\"},fadeOut:{opacity:\"hide\"},fadeToggle:{opacity:\"toggle\"}},(function(t,e){b.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}})),b.timers=[],b.fx.tick=function(){var t,e=0,n=b.timers;for(ie=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||b.fx.stop(),ie=void 0},b.fx.timer=function(t){b.timers.push(t),b.fx.start()},b.fx.interval=13,b.fx.start=function(){oe||(oe=!0,ae())},b.fx.stop=function(){oe=null},b.fx.speeds={slow:600,fast:200,_default:400},b.fn.delay=function(e,n){return e=b.fx&&b.fx.speeds[e]||e,n=n||\"fx\",this.queue(n,(function(n,i){var o=t.setTimeout(n,e);i.stop=function(){t.clearTimeout(o)}}))},function(){var t=g.createElement(\"input\"),e=g.createElement(\"select\").appendChild(g.createElement(\"option\"));t.type=\"checkbox\",p.checkOn=\"\"!==t.value,p.optSelected=e.selected,(t=g.createElement(\"input\")).value=\"t\",t.type=\"radio\",p.radioValue=\"t\"===t.value}();var ue,pe=b.expr.attrHandle;b.fn.extend({attr:function(t,e){return H(this,b.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){b.removeAttr(this,t)}))}}),b.extend({attr:function(t,e,n){var i,o,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===t.getAttribute?b.prop(t,e,n):(1===s&&b.isXMLDoc(t)||(o=b.attrHooks[e.toLowerCase()]||(b.expr.match.bool.test(e)?ue:void 0)),void 0!==n?null===n?void b.removeAttr(t,e):o&&\"set\"in o&&void 0!==(i=o.set(t,n,e))?i:(t.setAttribute(e,n+\"\"),n):o&&\"get\"in o&&null!==(i=o.get(t,e))?i:null==(i=b.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!p.radioValue&&\"radio\"===e&&S(t,\"input\")){var n=t.value;return t.setAttribute(\"type\",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,o=e&&e.match(F);if(o&&1===t.nodeType)for(;n=o[i++];)t.removeAttribute(n)}}),ue={set:function(t,e,n){return!1===e?b.removeAttr(t,n):t.setAttribute(n,n),n}},b.each(b.expr.match.bool.source.match(/\\w+/g),(function(t,e){var n=pe[e]||b.find.attr;pe[e]=function(t,e,i){var o,s,r=e.toLowerCase();return i||(s=pe[r],pe[r]=o,o=null!=n(t,e,i)?r:null,pe[r]=s),o}}));var me=/^(?:input|select|textarea|button)$/i,fe=/^(?:a|area)$/i;function ge(t){return(t.match(F)||[]).join(\" \")}function ye(t){return t.getAttribute&&t.getAttribute(\"class\")||\"\"}function ve(t){return Array.isArray(t)?t:\"string\"==typeof t&&t.match(F)||[]}b.fn.extend({prop:function(t,e){return H(this,b.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[b.propFix[t]||t]}))}}),b.extend({prop:function(t,e,n){var i,o,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&b.isXMLDoc(t)||(e=b.propFix[e]||e,o=b.propHooks[e]),void 0!==n?o&&\"set\"in o&&void 0!==(i=o.set(t,n,e))?i:t[e]=n:o&&\"get\"in o&&null!==(i=o.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=b.find.attr(t,\"tabindex\");return e?parseInt(e,10):me.test(t.nodeName)||fe.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:\"htmlFor\",class:\"className\"}}),p.optSelected||(b.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),b.each([\"tabIndex\",\"readOnly\",\"maxLength\",\"cellSpacing\",\"cellPadding\",\"rowSpan\",\"colSpan\",\"useMap\",\"frameBorder\",\"contentEditable\"],(function(){b.propFix[this.toLowerCase()]=this})),b.fn.extend({addClass:function(t){var e,n,i,o,s,r,a,c=0;if(m(t))return this.each((function(e){b(this).addClass(t.call(this,e,ye(this)))}));if((e=ve(t)).length)for(;n=this[c++];)if(o=ye(n),i=1===n.nodeType&&\" \"+ge(o)+\" \"){for(r=0;s=e[r++];)i.indexOf(\" \"+s+\" \")<0&&(i+=s+\" \");o!==(a=ge(i))&&n.setAttribute(\"class\",a)}return this},removeClass:function(t){var e,n,i,o,s,r,a,c=0;if(m(t))return this.each((function(e){b(this).removeClass(t.call(this,e,ye(this)))}));if(!arguments.length)return this.attr(\"class\",\"\");if((e=ve(t)).length)for(;n=this[c++];)if(o=ye(n),i=1===n.nodeType&&\" \"+ge(o)+\" \"){for(r=0;s=e[r++];)for(;i.indexOf(\" \"+s+\" \")>-1;)i=i.replace(\" \"+s+\" \",\" \");o!==(a=ge(i))&&n.setAttribute(\"class\",a)}return this},toggleClass:function(t,e){var n=typeof t,i=\"string\"===n||Array.isArray(t);return\"boolean\"==typeof e&&i?e?this.addClass(t):this.removeClass(t):m(t)?this.each((function(n){b(this).toggleClass(t.call(this,n,ye(this),e),e)})):this.each((function(){var e,o,s,r;if(i)for(o=0,s=b(this),r=ve(t);e=r[o++];)s.hasClass(e)?s.removeClass(e):s.addClass(e);else void 0!==t&&\"boolean\"!==n||((e=ye(this))&&Y.set(this,\"__className__\",e),this.setAttribute&&this.setAttribute(\"class\",e||!1===t?\"\":Y.get(this,\"__className__\")||\"\"))}))},hasClass:function(t){var e,n,i=0;for(e=\" \"+t+\" \";n=this[i++];)if(1===n.nodeType&&(\" \"+ge(ye(n))+\" \").indexOf(e)>-1)return!0;return!1}});var we=/\\r/g;b.fn.extend({val:function(t){var e,n,i,o=this[0];return arguments.length?(i=m(t),this.each((function(n){var o;1===this.nodeType&&(null==(o=i?t.call(this,n,b(this).val()):t)?o=\"\":\"number\"==typeof o?o+=\"\":Array.isArray(o)&&(o=b.map(o,(function(t){return null==t?\"\":t+\"\"}))),(e=b.valHooks[this.type]||b.valHooks[this.nodeName.toLowerCase()])&&\"set\"in e&&void 0!==e.set(this,o,\"value\")||(this.value=o))}))):o?(e=b.valHooks[o.type]||b.valHooks[o.nodeName.toLowerCase()])&&\"get\"in e&&void 0!==(n=e.get(o,\"value\"))?n:\"string\"==typeof(n=o.value)?n.replace(we,\"\"):null==n?\"\":n:void 0}}),b.extend({valHooks:{option:{get:function(t){var e=b.find.attr(t,\"value\");return null!=e?e:ge(b.text(t))}},select:{get:function(t){var e,n,i,o=t.options,s=t.selectedIndex,r=\"select-one\"===t.type,a=r?null:[],c=r?s+1:o.length;for(i=s<0?c:r?s:0;i<c;i++)if(((n=o[i]).selected||i===s)&&!n.disabled&&(!n.parentNode.disabled||!S(n.parentNode,\"optgroup\"))){if(e=b(n).val(),r)return e;a.push(e)}return a},set:function(t,e){for(var n,i,o=t.options,s=b.makeArray(e),r=o.length;r--;)((i=o[r]).selected=b.inArray(b.valHooks.option.get(i),s)>-1)&&(n=!0);return n||(t.selectedIndex=-1),s}}}}),b.each([\"radio\",\"checkbox\"],(function(){b.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=b.inArray(b(t).val(),e)>-1}},p.checkOn||(b.valHooks[this].get=function(t){return null===t.getAttribute(\"value\")?\"on\":t.value})})),p.focusin=\"onfocusin\"in t;var _e=/^(?:focusinfocus|focusoutblur)$/,be=function(t){t.stopPropagation()};b.extend(b.event,{trigger:function(e,n,i,o){var s,r,a,c,l,h,u,p,y=[i||g],v=d.call(e,\"type\")?e.type:e,w=d.call(e,\"namespace\")?e.namespace.split(\".\"):[];if(r=p=a=i=i||g,3!==i.nodeType&&8!==i.nodeType&&!_e.test(v+b.event.triggered)&&(v.indexOf(\".\")>-1&&(w=v.split(\".\"),v=w.shift(),w.sort()),l=v.indexOf(\":\")<0&&\"on\"+v,(e=e[b.expando]?e:new b.Event(v,\"object\"==typeof e&&e)).isTrigger=o?2:3,e.namespace=w.join(\".\"),e.rnamespace=e.namespace?new RegExp(\"(^|\\\\.)\"+w.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:b.makeArray(n,[e]),u=b.event.special[v]||{},o||!u.trigger||!1!==u.trigger.apply(i,n))){if(!o&&!u.noBubble&&!f(i)){for(c=u.delegateType||v,_e.test(c+v)||(r=r.parentNode);r;r=r.parentNode)y.push(r),a=r;a===(i.ownerDocument||g)&&y.push(a.defaultView||a.parentWindow||t)}for(s=0;(r=y[s++])&&!e.isPropagationStopped();)p=r,e.type=s>1?c:u.bindType||v,(h=(Y.get(r,\"events\")||Object.create(null))[e.type]&&Y.get(r,\"handle\"))&&h.apply(r,n),(h=l&&r[l])&&h.apply&&G(r)&&(e.result=h.apply(r,n),!1===e.result&&e.preventDefault());return e.type=v,o||e.isDefaultPrevented()||u._default&&!1!==u._default.apply(y.pop(),n)||!G(i)||l&&m(i[v])&&!f(i)&&((a=i[l])&&(i[l]=null),b.event.triggered=v,e.isPropagationStopped()&&p.addEventListener(v,be),i[v](),e.isPropagationStopped()&&p.removeEventListener(v,be),b.event.triggered=void 0,a&&(i[l]=a)),e.result}},simulate:function(t,e,n){var i=b.extend(new b.Event,n,{type:t,isSimulated:!0});b.event.trigger(i,null,e)}}),b.fn.extend({trigger:function(t,e){return this.each((function(){b.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var n=this[0];if(n)return b.event.trigger(t,e,n,!0)}}),p.focusin||b.each({focus:\"focusin\",blur:\"focusout\"},(function(t,e){var n=function(t){b.event.simulate(e,t.target,b.event.fix(t))};b.event.special[e]={setup:function(){var i=this.ownerDocument||this.document||this,o=Y.access(i,e);o||i.addEventListener(t,n,!0),Y.access(i,e,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,o=Y.access(i,e)-1;o?Y.access(i,e,o):(i.removeEventListener(t,n,!0),Y.remove(i,e))}}}));var Ce=t.location,Ie={guid:Date.now()},xe=/\\?/;b.parseXML=function(e){var n;if(!e||\"string\"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,\"text/xml\")}catch(t){n=void 0}return n&&!n.getElementsByTagName(\"parsererror\").length||b.error(\"Invalid XML: \"+e),n};var ke=/\\[\\]$/,Ee=/\\r?\\n/g,Se=/^(?:submit|button|image|reset|file)$/i,Te=/^(?:input|select|textarea|keygen)/i;function We(t,e,n,i){var o;if(Array.isArray(e))b.each(e,(function(e,o){n||ke.test(t)?i(t,o):We(t+\"[\"+(\"object\"==typeof o&&null!=o?e:\"\")+\"]\",o,n,i)}));else if(n||\"object\"!==w(e))i(t,e);else for(o in e)We(t+\"[\"+o+\"]\",e[o],n,i)}b.param=function(t,e){var n,i=[],o=function(t,e){var n=m(e)?e():e;i[i.length]=encodeURIComponent(t)+\"=\"+encodeURIComponent(null==n?\"\":n)};if(null==t)return\"\";if(Array.isArray(t)||t.jquery&&!b.isPlainObject(t))b.each(t,(function(){o(this.name,this.value)}));else for(n in t)We(n,t[n],e,o);return i.join(\"&\")},b.fn.extend({serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=b.prop(this,\"elements\");return t?b.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!b(this).is(\":disabled\")&&Te.test(this.nodeName)&&!Se.test(t)&&(this.checked||!pt.test(t))})).map((function(t,e){var n=b(this).val();return null==n?null:Array.isArray(n)?b.map(n,(function(t){return{name:e.name,value:t.replace(Ee,\"\\r\\n\")}})):{name:e.name,value:n.replace(Ee,\"\\r\\n\")}})).get()}});var Ae=/%20/g,De=/#.*$/,Pe=/([?&])_=[^&]*/,Le=/^(.*?):[ \\t]*([^\\r\\n]*)$/gm,Me=/^(?:GET|HEAD)$/,Fe=/^\\/\\//,ze={},Be={},Ne=\"*/\".concat(\"*\"),Oe=g.createElement(\"a\");function $e(t){return function(e,n){\"string\"!=typeof e&&(n=e,e=\"*\");var i,o=0,s=e.toLowerCase().match(F)||[];if(m(n))for(;i=s[o++];)\"+\"===i[0]?(i=i.slice(1)||\"*\",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function Re(t,e,n,i){var o={},s=t===Be;function r(a){var c;return o[a]=!0,b.each(t[a]||[],(function(t,a){var l=a(e,n,i);return\"string\"!=typeof l||s||o[l]?s?!(c=l):void 0:(e.dataTypes.unshift(l),r(l),!1)})),c}return r(e.dataTypes[0])||!o[\"*\"]&&r(\"*\")}function He(t,e){var n,i,o=b.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((o[n]?t:i||(i={}))[n]=e[n]);return i&&b.extend(!0,t,i),t}Oe.href=Ce.href,b.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ce.href,type:\"GET\",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ce.protocol),global:!0,processData:!0,async:!0,contentType:\"application/x-www-form-urlencoded; charset=UTF-8\",accepts:{\"*\":Ne,text:\"text/plain\",html:\"text/html\",xml:\"application/xml, text/xml\",json:\"application/json, text/javascript\"},contents:{xml:/\\bxml\\b/,html:/\\bhtml/,json:/\\bjson\\b/},responseFields:{xml:\"responseXML\",text:\"responseText\",json:\"responseJSON\"},converters:{\"* text\":String,\"text html\":!0,\"text json\":JSON.parse,\"text xml\":b.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?He(He(t,b.ajaxSettings),e):He(b.ajaxSettings,t)},ajaxPrefilter:$e(ze),ajaxTransport:$e(Be),ajax:function(e,n){\"object\"==typeof e&&(n=e,e=void 0),n=n||{};var i,o,s,r,a,c,l,d,h,u,p=b.ajaxSetup({},n),m=p.context||p,f=p.context&&(m.nodeType||m.jquery)?b(m):b.event,y=b.Deferred(),v=b.Callbacks(\"once memory\"),w=p.statusCode||{},_={},C={},I=\"canceled\",x={readyState:0,getResponseHeader:function(t){var e;if(l){if(!r)for(r={};e=Le.exec(s);)r[e[1].toLowerCase()+\" \"]=(r[e[1].toLowerCase()+\" \"]||[]).concat(e[2]);e=r[t.toLowerCase()+\" \"]}return null==e?null:e.join(\", \")},getAllResponseHeaders:function(){return l?s:null},setRequestHeader:function(t,e){return null==l&&(t=C[t.toLowerCase()]=C[t.toLowerCase()]||t,_[t]=e),this},overrideMimeType:function(t){return null==l&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(l)x.always(t[x.status]);else for(e in t)w[e]=[w[e],t[e]];return this},abort:function(t){var e=t||I;return i&&i.abort(e),k(0,e),this}};if(y.promise(x),p.url=((e||p.url||Ce.href)+\"\").replace(Fe,Ce.protocol+\"//\"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=(p.dataType||\"*\").toLowerCase().match(F)||[\"\"],null==p.crossDomain){c=g.createElement(\"a\");try{c.href=p.url,c.href=c.href,p.crossDomain=Oe.protocol+\"//\"+Oe.host!=c.protocol+\"//\"+c.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&\"string\"!=typeof p.data&&(p.data=b.param(p.data,p.traditional)),Re(ze,p,n,x),l)return x;for(h in(d=b.event&&p.global)&&0==b.active++&&b.event.trigger(\"ajaxStart\"),p.type=p.type.toUpperCase(),p.hasContent=!Me.test(p.type),o=p.url.replace(De,\"\"),p.hasContent?p.data&&p.processData&&0===(p.contentType||\"\").indexOf(\"application/x-www-form-urlencoded\")&&(p.data=p.data.replace(Ae,\"+\")):(u=p.url.slice(o.length),p.data&&(p.processData||\"string\"==typeof p.data)&&(o+=(xe.test(o)?\"&\":\"?\")+p.data,delete p.data),!1===p.cache&&(o=o.replace(Pe,\"$1\"),u=(xe.test(o)?\"&\":\"?\")+\"_=\"+Ie.guid+++u),p.url=o+u),p.ifModified&&(b.lastModified[o]&&x.setRequestHeader(\"If-Modified-Since\",b.lastModified[o]),b.etag[o]&&x.setRequestHeader(\"If-None-Match\",b.etag[o])),(p.data&&p.hasContent&&!1!==p.contentType||n.contentType)&&x.setRequestHeader(\"Content-Type\",p.contentType),x.setRequestHeader(\"Accept\",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+(\"*\"!==p.dataTypes[0]?\", \"+Ne+\"; q=0.01\":\"\"):p.accepts[\"*\"]),p.headers)x.setRequestHeader(h,p.headers[h]);if(p.beforeSend&&(!1===p.beforeSend.call(m,x,p)||l))return x.abort();if(I=\"abort\",v.add(p.complete),x.done(p.success),x.fail(p.error),i=Re(Be,p,n,x)){if(x.readyState=1,d&&f.trigger(\"ajaxSend\",[x,p]),l)return x;p.async&&p.timeout>0&&(a=t.setTimeout((function(){x.abort(\"timeout\")}),p.timeout));try{l=!1,i.send(_,k)}catch(t){if(l)throw t;k(-1,t)}}else k(-1,\"No Transport\");function k(e,n,r,c){var h,u,g,_,C,I=n;l||(l=!0,a&&t.clearTimeout(a),i=void 0,s=c||\"\",x.readyState=e>0?4:0,h=e>=200&&e<300||304===e,r&&(_=function(t,e,n){for(var i,o,s,r,a=t.contents,c=t.dataTypes;\"*\"===c[0];)c.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader(\"Content-Type\"));if(i)for(o in a)if(a[o]&&a[o].test(i)){c.unshift(o);break}if(c[0]in n)s=c[0];else{for(o in n){if(!c[0]||t.converters[o+\" \"+c[0]]){s=o;break}r||(r=o)}s=s||r}if(s)return s!==c[0]&&c.unshift(s),n[s]}(p,x,r)),!h&&b.inArray(\"script\",p.dataTypes)>-1&&(p.converters[\"text script\"]=function(){}),_=function(t,e,n,i){var o,s,r,a,c,l={},d=t.dataTypes.slice();if(d[1])for(r in t.converters)l[r.toLowerCase()]=t.converters[r];for(s=d.shift();s;)if(t.responseFields[s]&&(n[t.responseFields[s]]=e),!c&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),c=s,s=d.shift())if(\"*\"===s)s=c;else if(\"*\"!==c&&c!==s){if(!(r=l[c+\" \"+s]||l[\"* \"+s]))for(o in l)if((a=o.split(\" \"))[1]===s&&(r=l[c+\" \"+a[0]]||l[\"* \"+a[0]])){!0===r?r=l[o]:!0!==l[o]&&(s=a[0],d.unshift(a[1]));break}if(!0!==r)if(r&&t.throws)e=r(e);else try{e=r(e)}catch(t){return{state:\"parsererror\",error:r?t:\"No conversion from \"+c+\" to \"+s}}}return{state:\"success\",data:e}}(p,_,x,h),h?(p.ifModified&&((C=x.getResponseHeader(\"Last-Modified\"))&&(b.lastModified[o]=C),(C=x.getResponseHeader(\"etag\"))&&(b.etag[o]=C)),204===e||\"HEAD\"===p.type?I=\"nocontent\":304===e?I=\"notmodified\":(I=_.state,u=_.data,h=!(g=_.error))):(g=I,!e&&I||(I=\"error\",e<0&&(e=0))),x.status=e,x.statusText=(n||I)+\"\",h?y.resolveWith(m,[u,I,x]):y.rejectWith(m,[x,I,g]),x.statusCode(w),w=void 0,d&&f.trigger(h?\"ajaxSuccess\":\"ajaxError\",[x,p,h?u:g]),v.fireWith(m,[x,I]),d&&(f.trigger(\"ajaxComplete\",[x,p]),--b.active||b.event.trigger(\"ajaxStop\")))}return x},getJSON:function(t,e,n){return b.get(t,e,n,\"json\")},getScript:function(t,e){return b.get(t,void 0,e,\"script\")}}),b.each([\"get\",\"post\"],(function(t,e){b[e]=function(t,n,i,o){return m(n)&&(o=o||i,i=n,n=void 0),b.ajax(b.extend({url:t,type:e,dataType:o,data:n,success:i},b.isPlainObject(t)&&t))}})),b.ajaxPrefilter((function(t){var e;for(e in t.headers)\"content-type\"===e.toLowerCase()&&(t.contentType=t.headers[e]||\"\")})),b._evalUrl=function(t,e,n){return b.ajax({url:t,type:\"GET\",dataType:\"script\",cache:!0,async:!1,global:!1,converters:{\"text script\":function(){}},dataFilter:function(t){b.globalEval(t,e,n)}})},b.fn.extend({wrapAll:function(t){var e;return this[0]&&(m(t)&&(t=t.call(this[0])),e=b(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return m(t)?this.each((function(e){b(this).wrapInner(t.call(this,e))})):this.each((function(){var e=b(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)}))},wrap:function(t){var e=m(t);return this.each((function(n){b(this).wrapAll(e?t.call(this,n):t)}))},unwrap:function(t){return this.parent(t).not(\"body\").each((function(){b(this).replaceWith(this.childNodes)})),this}}),b.expr.pseudos.hidden=function(t){return!b.expr.pseudos.visible(t)},b.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},b.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(t){}};var je={0:200,1223:204},qe=b.ajaxSettings.xhr();p.cors=!!qe&&\"withCredentials\"in qe,p.ajax=qe=!!qe,b.ajaxTransport((function(e){var n,i;if(p.cors||qe&&!e.crossDomain)return{send:function(o,s){var r,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)a[r]=e.xhrFields[r];for(r in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||o[\"X-Requested-With\"]||(o[\"X-Requested-With\"]=\"XMLHttpRequest\"),o)a.setRequestHeader(r,o[r]);n=function(t){return function(){n&&(n=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,\"abort\"===t?a.abort():\"error\"===t?\"number\"!=typeof a.status?s(0,\"error\"):s(a.status,a.statusText):s(je[a.status]||a.status,a.statusText,\"text\"!==(a.responseType||\"text\")||\"string\"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),i=a.onerror=a.ontimeout=n(\"error\"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout((function(){n&&i()}))},n=n(\"abort\");try{a.send(e.hasContent&&e.data||null)}catch(t){if(n)throw t}},abort:function(){n&&n()}}})),b.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),b.ajaxSetup({accepts:{script:\"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript\"},contents:{script:/\\b(?:java|ecma)script\\b/},converters:{\"text script\":function(t){return b.globalEval(t),t}}}),b.ajaxPrefilter(\"script\",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type=\"GET\")})),b.ajaxTransport(\"script\",(function(t){var e,n;if(t.crossDomain||t.scriptAttrs)return{send:function(i,o){e=b(\"<script>\").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on(\"load error\",n=function(t){e.remove(),n=null,t&&o(\"error\"===t.type?404:200,t.type)}),g.head.appendChild(e[0])},abort:function(){n&&n()}}}));var Ue,Ve=[],Ge=/(=)\\?(?=&|$)|\\?\\?/;b.ajaxSetup({jsonp:\"callback\",jsonpCallback:function(){var t=Ve.pop()||b.expando+\"_\"+Ie.guid++;return this[t]=!0,t}}),b.ajaxPrefilter(\"json jsonp\",(function(e,n,i){var o,s,r,a=!1!==e.jsonp&&(Ge.test(e.url)?\"url\":\"string\"==typeof e.data&&0===(e.contentType||\"\").indexOf(\"application/x-www-form-urlencoded\")&&Ge.test(e.data)&&\"data\");if(a||\"jsonp\"===e.dataTypes[0])return o=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Ge,\"$1\"+o):!1!==e.jsonp&&(e.url+=(xe.test(e.url)?\"&\":\"?\")+e.jsonp+\"=\"+o),e.converters[\"script json\"]=function(){return r||b.error(o+\" was not called\"),r[0]},e.dataTypes[0]=\"json\",s=t[o],t[o]=function(){r=arguments},i.always((function(){void 0===s?b(t).removeProp(o):t[o]=s,e[o]&&(e.jsonpCallback=n.jsonpCallback,Ve.push(o)),r&&m(s)&&s(r[0]),r=s=void 0})),\"script\"})),p.createHTMLDocument=((Ue=g.implementation.createHTMLDocument(\"\").body).innerHTML=\"<form></form><form></form>\",2===Ue.childNodes.length),b.parseHTML=function(t,e,n){return\"string\"!=typeof t?[]:(\"boolean\"==typeof e&&(n=e,e=!1),e||(p.createHTMLDocument?((i=(e=g.implementation.createHTMLDocument(\"\")).createElement(\"base\")).href=g.location.href,e.head.appendChild(i)):e=g),s=!n&&[],(o=T.exec(t))?[e.createElement(o[1])]:(o=_t([t],e,s),s&&s.length&&b(s).remove(),b.merge([],o.childNodes)));var i,o,s},b.fn.load=function(t,e,n){var i,o,s,r=this,a=t.indexOf(\" \");return a>-1&&(i=ge(t.slice(a)),t=t.slice(0,a)),m(e)?(n=e,e=void 0):e&&\"object\"==typeof e&&(o=\"POST\"),r.length>0&&b.ajax({url:t,type:o||\"GET\",dataType:\"html\",data:e}).done((function(t){s=arguments,r.html(i?b(\"<div>\").append(b.parseHTML(t)).find(i):t)})).always(n&&function(t,e){r.each((function(){n.apply(this,s||[t.responseText,e,t])}))}),this},b.expr.pseudos.animated=function(t){return b.grep(b.timers,(function(e){return t===e.elem})).length},b.offset={setOffset:function(t,e,n){var i,o,s,r,a,c,l=b.css(t,\"position\"),d=b(t),h={};\"static\"===l&&(t.style.position=\"relative\"),a=d.offset(),s=b.css(t,\"top\"),c=b.css(t,\"left\"),(\"absolute\"===l||\"fixed\"===l)&&(s+c).indexOf(\"auto\")>-1?(r=(i=d.position()).top,o=i.left):(r=parseFloat(s)||0,o=parseFloat(c)||0),m(e)&&(e=e.call(t,n,b.extend({},a))),null!=e.top&&(h.top=e.top-a.top+r),null!=e.left&&(h.left=e.left-a.left+o),\"using\"in e?e.using.call(t,h):(\"number\"==typeof h.top&&(h.top+=\"px\"),\"number\"==typeof h.left&&(h.left+=\"px\"),d.css(h))}},b.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){b.offset.setOffset(this,t,e)}));var e,n,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],o={top:0,left:0};if(\"fixed\"===b.css(i,\"position\"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&\"static\"===b.css(t,\"position\");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((o=b(t).offset()).top+=b.css(t,\"borderTopWidth\",!0),o.left+=b.css(t,\"borderLeftWidth\",!0))}return{top:e.top-o.top-b.css(i,\"marginTop\",!0),left:e.left-o.left-b.css(i,\"marginLeft\",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&\"static\"===b.css(t,\"position\");)t=t.offsetParent;return t||it}))}}),b.each({scrollLeft:\"pageXOffset\",scrollTop:\"pageYOffset\"},(function(t,e){var n=\"pageYOffset\"===e;b.fn[t]=function(i){return H(this,(function(t,i,o){var s;if(f(t)?s=t:9===t.nodeType&&(s=t.defaultView),void 0===o)return s?s[e]:t[i];s?s.scrollTo(n?s.pageXOffset:o,n?o:s.pageYOffset):t[i]=o}),t,i,arguments.length)}})),b.each([\"top\",\"left\"],(function(t,e){b.cssHooks[e]=qt(p.pixelPosition,(function(t,n){if(n)return n=jt(t,e),Ot.test(n)?b(t).position()[e]+\"px\":n}))})),b.each({Height:\"height\",Width:\"width\"},(function(t,e){b.each({padding:\"inner\"+t,content:e,\"\":\"outer\"+t},(function(n,i){b.fn[i]=function(o,s){var r=arguments.length&&(n||\"boolean\"!=typeof o),a=n||(!0===o||!0===s?\"margin\":\"border\");return H(this,(function(e,n,o){var s;return f(e)?0===i.indexOf(\"outer\")?e[\"inner\"+t]:e.document.documentElement[\"client\"+t]:9===e.nodeType?(s=e.documentElement,Math.max(e.body[\"scroll\"+t],s[\"scroll\"+t],e.body[\"offset\"+t],s[\"offset\"+t],s[\"client\"+t])):void 0===o?b.css(e,n,a):b.style(e,n,o,a)}),e,r?o:void 0,r)}}))})),b.each([\"ajaxStart\",\"ajaxStop\",\"ajaxComplete\",\"ajaxError\",\"ajaxSuccess\",\"ajaxSend\"],(function(t,e){b.fn[e]=function(t){return this.on(e,t)}})),b.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,\"**\"):this.off(e,t||\"**\",n)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),b.each(\"blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu\".split(\" \"),(function(t,e){b.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}));var Xe=/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g;b.proxy=function(t,e){var n,i,s;if(\"string\"==typeof e&&(n=t[e],e=t,t=n),m(t))return i=o.call(arguments,2),(s=function(){return t.apply(e||this,i.concat(o.call(arguments)))}).guid=t.guid=t.guid||b.guid++,s},b.holdReady=function(t){t?b.readyWait++:b.ready(!0)},b.isArray=Array.isArray,b.parseJSON=JSON.parse,b.nodeName=S,b.isFunction=m,b.isWindow=f,b.camelCase=V,b.type=w,b.now=Date.now,b.isNumeric=function(t){var e=b.type(t);return(\"number\"===e||\"string\"===e)&&!isNaN(t-parseFloat(t))},b.trim=function(t){return null==t?\"\":(t+\"\").replace(Xe,\"\")};var Ye=t.jQuery,Je=t.$;return b.noConflict=function(e){return t.$===b&&(t.$=Je),e&&t.jQuery===b&&(t.jQuery=Ye),b},void 0===e&&(t.jQuery=t.$=b),b}))}));let Z;window.$=J,window.addEventListener(\"beforeunload\",(()=>{Y.dispose(),Z&&Z()}));const Q={init:(t,e)=>{if(X.initialized)return void X.init(t,t.agm.instance.peerId,e);Y.subscribeForWorkspaceEvents();const n=X.init(t,t.agm.instance.peerId,e);return Z=n.cleanUp,Y.init(t,t.agm.instance.peerId).then((()=>{B.config.emptyFrame||X.workspacesEventEmitter.raiseFrameEvent({action:\"opened\",payload:{frameSummary:{id:t.agm.instance.peerId}}})})).catch(console.warn),X},getFrameId:()=>X.frameId,notifyMoveAreaChanged:()=>{},getComponentBounds:()=>X.getComponentBounds(),registerPopup:t=>\"\",removePopup:t=>{},removePopupById:t=>{},unmount:()=>{},subscribeForWindowFocused:t=>X.subscribeForWindowClicked(t),notifyWorkspacePopupChanged:t=>{}};export default Q;\n//# sourceMappingURL=export.js.map\n","import workspacesManager from \"@glue42/workspaces-ui-core\";\r\nimport { Bounds, WorkspacesManager } from \"./types/internal\";\r\n\r\ndeclare const window: Window & { workspacesManager: WorkspacesManager };\r\n\r\nclass WorkspacesManagerDecorator {\r\n    public init(glue: any, componentFactory: any) {\r\n        if (window.workspacesManager) {\r\n            window.workspacesManager.init(componentFactory);\r\n        } else {\r\n            workspacesManager.init(glue, componentFactory);\r\n        }\r\n    }\r\n\r\n    public getFrameId() {\r\n      return  (window.workspacesManager || workspacesManager).getFrameId();\r\n    }\r\n\r\n    public notifyMoveAreaChanged() {\r\n        (window.workspacesManager || workspacesManager).notifyMoveAreaChanged();\r\n    }\r\n\r\n    public notifyWorkspacePopupChanged(element: HTMLElement): string {\r\n        return (window.workspacesManager || workspacesManager).notifyWorkspacePopupChanged(element);\r\n    }\r\n\r\n    public getComponentBounds(): Bounds {\r\n        return (window.workspacesManager || workspacesManager).getComponentBounds();\r\n    }\r\n\r\n    public registerPopup(element: HTMLElement): string {\r\n        return (window.workspacesManager || workspacesManager).registerPopup(element);\r\n    }\r\n\r\n    public removePopup(element: HTMLElement): void {\r\n        return (window.workspacesManager || workspacesManager).removePopup(element);\r\n    }\r\n\r\n    public removePopupById(elementId: string): void {\r\n        return (window.workspacesManager || workspacesManager).removePopupById(elementId);\r\n    }\r\n\r\n    public subscribeForWindowFocused(cb: () => any): () => void {\r\n        return (window.workspacesManager || workspacesManager).subscribeForWindowFocused(cb);\r\n    }\r\n\r\n    public unmount(): void {\r\n        return (window.workspacesManager || workspacesManager).unmount();\r\n    }\r\n}\r\n\r\nexport default new WorkspacesManagerDecorator();","import React, { useEffect, useLayoutEffect, forwardRef, useState, useRef, useImperativeHandle } from 'react';\nimport ReactDOM from 'react-dom';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar useOnEscape = function useOnEscape(handler, active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  useEffect(function () {\n    if (!active) return;\n\n    var listener = function listener(event) {\n      // check if key is an Escape\n      if (event.key === 'Escape') handler();\n    };\n\n    document.addEventListener('keyup', listener);\n    return function () {\n      if (!active) return;\n      document.removeEventListener('keyup', listener);\n    };\n  }, [handler, active]);\n};\nvar useRepositionOnResize = function useRepositionOnResize(handler, active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  useEffect(function () {\n    if (!active) return;\n\n    var listener = function listener() {\n      handler();\n    };\n\n    window.addEventListener('resize', listener);\n    return function () {\n      if (!active) return;\n      window.removeEventListener('resize', listener);\n    };\n  }, [handler, active]);\n};\nvar useOnClickOutside = function useOnClickOutside(ref, handler, active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  useEffect(function () {\n    if (!active) return;\n\n    var listener = function listener(event) {\n      // Do nothing if clicking ref's element or descendent elements\n      var refs = Array.isArray(ref) ? ref : [ref];\n      var contains = false;\n      refs.forEach(function (r) {\n        if (!r.current || r.current.contains(event.target)) {\n          contains = true;\n          return;\n        }\n      });\n      event.stopPropagation();\n      if (!contains) handler();\n    };\n\n    document.addEventListener('mousedown', listener);\n    document.addEventListener('touchstart', listener);\n    return function () {\n      if (!active) return;\n      document.removeEventListener('mousedown', listener);\n      document.removeEventListener('touchstart', listener);\n    };\n  }, [ref, handler, active]);\n}; // Make sure that user is not able TAB out of the Modal content on Open\n\nvar useTabbing = function useTabbing(contentRef, active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  useEffect(function () {\n    if (!active) return;\n\n    var listener = function listener(event) {\n      // check if key is an Tab\n      if (event.keyCode === 9) {\n        var _contentRef$current;\n\n        var els = contentRef === null || contentRef === void 0 ? void 0 : (_contentRef$current = contentRef.current) === null || _contentRef$current === void 0 ? void 0 : _contentRef$current.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex=\"0\"]');\n        var focusableEls = Array.prototype.slice.call(els);\n\n        if (focusableEls.length === 1) {\n          event.preventDefault();\n          return;\n        }\n\n        var firstFocusableEl = focusableEls[0];\n        var lastFocusableEl = focusableEls[focusableEls.length - 1];\n\n        if (event.shiftKey && document.activeElement === firstFocusableEl) {\n          event.preventDefault();\n          lastFocusableEl.focus();\n        } else if (document.activeElement === lastFocusableEl) {\n          event.preventDefault();\n          firstFocusableEl.focus();\n        }\n      }\n    };\n\n    document.addEventListener('keydown', listener);\n    return function () {\n      if (!active) return;\n      document.removeEventListener('keydown', listener);\n    };\n  }, [contentRef, active]);\n};\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;\n\nvar Style = {\n  popupContent: {\n    tooltip: {\n      position: 'absolute',\n      zIndex: 999\n    },\n    modal: {\n      position: 'relative',\n      margin: 'auto'\n    }\n  },\n  popupArrow: {\n    height: '8px',\n    width: '16px',\n    position: 'absolute',\n    background: 'transparent',\n    color: '#FFF',\n    zIndex: -1\n  },\n  overlay: {\n    tooltip: {\n      position: 'fixed',\n      top: '0',\n      bottom: '0',\n      left: '0',\n      right: '0',\n      zIndex: 999\n    },\n    modal: {\n      position: 'fixed',\n      top: '0',\n      bottom: '0',\n      left: '0',\n      right: '0',\n      display: 'flex',\n      zIndex: 999\n    }\n  }\n};\n\nvar POSITION_TYPES = ['top left', 'top center', 'top right', 'right top', 'right center', 'right bottom', 'bottom left', 'bottom center', 'bottom right', 'left top', 'left center', 'left bottom'];\n\nvar getCoordinatesForPosition = function getCoordinatesForPosition(triggerBounding, ContentBounding, position, //PopupPosition | PopupPosition[],\narrow, _ref) {\n  var offsetX = _ref.offsetX,\n      offsetY = _ref.offsetY;\n  var margin = arrow ? 8 : 0;\n  var args = position.split(' '); // the step N 1 : center the popup content => ok\n\n  var CenterTop = triggerBounding.top + triggerBounding.height / 2;\n  var CenterLeft = triggerBounding.left + triggerBounding.width / 2;\n  var height = ContentBounding.height,\n      width = ContentBounding.width;\n  var top = CenterTop - height / 2;\n  var left = CenterLeft - width / 2;\n  var transform = '';\n  var arrowTop = '0%';\n  var arrowLeft = '0%'; // the  step N 2 : => ok\n\n  switch (args[0]) {\n    case 'top':\n      top -= height / 2 + triggerBounding.height / 2 + margin;\n      transform = \"rotate(180deg)  translateX(50%)\";\n      arrowTop = '100%';\n      arrowLeft = '50%';\n      break;\n\n    case 'bottom':\n      top += height / 2 + triggerBounding.height / 2 + margin;\n      transform = \"rotate(0deg) translateY(-100%) translateX(-50%)\";\n      arrowLeft = '50%';\n      break;\n\n    case 'left':\n      left -= width / 2 + triggerBounding.width / 2 + margin;\n      transform = \" rotate(90deg)  translateY(50%) translateX(-25%)\";\n      arrowLeft = '100%';\n      arrowTop = '50%';\n      break;\n\n    case 'right':\n      left += width / 2 + triggerBounding.width / 2 + margin;\n      transform = \"rotate(-90deg)  translateY(-150%) translateX(25%)\";\n      arrowTop = '50%';\n      break;\n  }\n\n  switch (args[1]) {\n    case 'top':\n      top = triggerBounding.top;\n      arrowTop = triggerBounding.height / 2 + \"px\";\n      break;\n\n    case 'bottom':\n      top = triggerBounding.top - height + triggerBounding.height;\n      arrowTop = height - triggerBounding.height / 2 + \"px\";\n      break;\n\n    case 'left':\n      left = triggerBounding.left;\n      arrowLeft = triggerBounding.width / 2 + \"px\";\n      break;\n\n    case 'right':\n      left = triggerBounding.left - width + triggerBounding.width;\n      arrowLeft = width - triggerBounding.width / 2 + \"px\";\n      break;\n  }\n\n  top = args[0] === 'top' ? top - offsetY : top + offsetY;\n  left = args[0] === 'left' ? left - offsetX : left + offsetX;\n  return {\n    top: top,\n    left: left,\n    transform: transform,\n    arrowLeft: arrowLeft,\n    arrowTop: arrowTop\n  };\n};\n\nvar getTooltipBoundary = function getTooltipBoundary(keepTooltipInside) {\n  // add viewport\n  var boundingBox = {\n    top: 0,\n    left: 0,\n\n    /* eslint-disable-next-line no-undef */\n    width: window.innerWidth,\n\n    /* eslint-disable-next-line no-undef */\n    height: window.innerHeight\n  };\n\n  if (typeof keepTooltipInside === 'string') {\n    /* eslint-disable-next-line no-undef */\n    var selector = document.querySelector(keepTooltipInside);\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (selector === null) throw new Error(keepTooltipInside + \" selector does not exist : keepTooltipInside must be a valid html selector 'class' or 'Id'  or a boolean value\");\n    }\n\n    if (selector !== null) boundingBox = selector.getBoundingClientRect();\n  }\n\n  return boundingBox;\n};\n\nvar calculatePosition = function calculatePosition(triggerBounding, ContentBounding, position, arrow, _ref2, keepTooltipInside) {\n  var offsetX = _ref2.offsetX,\n      offsetY = _ref2.offsetY;\n  var bestCoords = {\n    arrowLeft: '0%',\n    arrowTop: '0%',\n    left: 0,\n    top: 0,\n    transform: 'rotate(135deg)'\n  };\n  var i = 0;\n  var wrapperBox = getTooltipBoundary(keepTooltipInside);\n  var positions = Array.isArray(position) ? position : [position]; // keepTooltipInside would be activated if the  keepTooltipInside exist or the position is Array\n\n  if (keepTooltipInside || Array.isArray(position)) positions = [].concat(positions, POSITION_TYPES); // add viewPort for WarpperBox\n  // wrapperBox.top = wrapperBox.top + window.scrollY;\n  // wrapperBox.left = wrapperBox.left + window.scrollX;\n\n  while (i < positions.length) {\n    bestCoords = getCoordinatesForPosition(triggerBounding, ContentBounding, positions[i], arrow, {\n      offsetX: offsetX,\n      offsetY: offsetY\n    });\n    var contentBox = {\n      top: bestCoords.top,\n      left: bestCoords.left,\n      width: ContentBounding.width,\n      height: ContentBounding.height\n    };\n\n    if (contentBox.top <= wrapperBox.top || contentBox.left <= wrapperBox.left || contentBox.top + contentBox.height >= wrapperBox.top + wrapperBox.height || contentBox.left + contentBox.width >= wrapperBox.left + wrapperBox.width) {\n      i++;\n    } else {\n      break;\n    }\n  }\n\n  return bestCoords;\n};\n\nvar popupIdCounter = 0;\n\nvar getRootPopup = function getRootPopup() {\n  var PopupRoot = document.getElementById('popup-root');\n\n  if (PopupRoot === null) {\n    PopupRoot = document.createElement('div');\n    PopupRoot.setAttribute('id', 'popup-root');\n    document.body.appendChild(PopupRoot);\n  }\n\n  return PopupRoot;\n};\n\nvar Popup = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var _ref$trigger = _ref.trigger,\n      trigger = _ref$trigger === void 0 ? null : _ref$trigger,\n      _ref$onOpen = _ref.onOpen,\n      onOpen = _ref$onOpen === void 0 ? function () {} : _ref$onOpen,\n      _ref$onClose = _ref.onClose,\n      onClose = _ref$onClose === void 0 ? function () {} : _ref$onClose,\n      _ref$defaultOpen = _ref.defaultOpen,\n      defaultOpen = _ref$defaultOpen === void 0 ? false : _ref$defaultOpen,\n      _ref$open = _ref.open,\n      open = _ref$open === void 0 ? undefined : _ref$open,\n      _ref$disabled = _ref.disabled,\n      disabled = _ref$disabled === void 0 ? false : _ref$disabled,\n      _ref$nested = _ref.nested,\n      nested = _ref$nested === void 0 ? false : _ref$nested,\n      _ref$closeOnDocumentC = _ref.closeOnDocumentClick,\n      closeOnDocumentClick = _ref$closeOnDocumentC === void 0 ? true : _ref$closeOnDocumentC,\n      _ref$repositionOnResi = _ref.repositionOnResize,\n      repositionOnResize = _ref$repositionOnResi === void 0 ? true : _ref$repositionOnResi,\n      _ref$closeOnEscape = _ref.closeOnEscape,\n      closeOnEscape = _ref$closeOnEscape === void 0 ? true : _ref$closeOnEscape,\n      _ref$on = _ref.on,\n      on = _ref$on === void 0 ? ['click'] : _ref$on,\n      _ref$contentStyle = _ref.contentStyle,\n      contentStyle = _ref$contentStyle === void 0 ? {} : _ref$contentStyle,\n      _ref$arrowStyle = _ref.arrowStyle,\n      arrowStyle = _ref$arrowStyle === void 0 ? {} : _ref$arrowStyle,\n      _ref$overlayStyle = _ref.overlayStyle,\n      overlayStyle = _ref$overlayStyle === void 0 ? {} : _ref$overlayStyle,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? '' : _ref$className,\n      _ref$position = _ref.position,\n      position = _ref$position === void 0 ? 'bottom center' : _ref$position,\n      _ref$modal = _ref.modal,\n      modal = _ref$modal === void 0 ? false : _ref$modal,\n      _ref$lockScroll = _ref.lockScroll,\n      lockScroll = _ref$lockScroll === void 0 ? false : _ref$lockScroll,\n      _ref$arrow = _ref.arrow,\n      arrow = _ref$arrow === void 0 ? true : _ref$arrow,\n      _ref$offsetX = _ref.offsetX,\n      offsetX = _ref$offsetX === void 0 ? 0 : _ref$offsetX,\n      _ref$offsetY = _ref.offsetY,\n      offsetY = _ref$offsetY === void 0 ? 0 : _ref$offsetY,\n      _ref$mouseEnterDelay = _ref.mouseEnterDelay,\n      mouseEnterDelay = _ref$mouseEnterDelay === void 0 ? 100 : _ref$mouseEnterDelay,\n      _ref$mouseLeaveDelay = _ref.mouseLeaveDelay,\n      mouseLeaveDelay = _ref$mouseLeaveDelay === void 0 ? 100 : _ref$mouseLeaveDelay,\n      _ref$keepTooltipInsid = _ref.keepTooltipInside,\n      keepTooltipInside = _ref$keepTooltipInsid === void 0 ? false : _ref$keepTooltipInsid,\n      children = _ref.children;\n\n  var _useState = useState(open || defaultOpen),\n      isOpen = _useState[0],\n      setIsOpen = _useState[1];\n\n  var triggerRef = useRef(null);\n  var contentRef = useRef(null);\n  var arrowRef = useRef(null);\n  var focusedElBeforeOpen = useRef(null);\n  var popupId = useRef(\"popup-\" + ++popupIdCounter);\n  var isModal = modal ? true : !trigger;\n  var timeOut = useRef(0);\n  useIsomorphicLayoutEffect(function () {\n    if (isOpen) {\n      focusedElBeforeOpen.current = document.activeElement;\n      setPosition();\n      focusContentOnOpen(); // for accessibility\n\n      lockScrolll();\n    } else {\n      resetScroll();\n    }\n\n    return function () {\n      clearTimeout(timeOut.current);\n    };\n  }, [isOpen]); // for uncontrolled popup we need to sync isOpen with open prop\n\n  useEffect(function () {\n    if (typeof open === 'boolean') {\n      if (open) openPopup();else closePopup();\n    }\n  }, [open, disabled]);\n\n  var openPopup = function openPopup() {\n    if (isOpen || disabled) return;\n    setIsOpen(true);\n    setTimeout(onOpen, 0);\n  };\n\n  var closePopup = function closePopup() {\n    if (!isOpen || disabled) return;\n    setIsOpen(false);\n    if (isModal) focusedElBeforeOpen.current.focus();\n    setTimeout(onClose, 0);\n  };\n\n  var togglePopup = function togglePopup(event) {\n    event === null || event === void 0 ? void 0 : event.stopPropagation();\n    if (!isOpen) openPopup();else closePopup();\n  };\n\n  var onMouseEnter = function onMouseEnter() {\n    clearTimeout(timeOut.current);\n    timeOut.current = setTimeout(openPopup, mouseEnterDelay);\n  };\n\n  var onContextMenu = function onContextMenu(event) {\n    event === null || event === void 0 ? void 0 : event.preventDefault();\n    togglePopup();\n  };\n\n  var onMouseLeave = function onMouseLeave() {\n    clearTimeout(timeOut.current);\n    timeOut.current = setTimeout(closePopup, mouseLeaveDelay);\n  };\n\n  var lockScrolll = function lockScrolll() {\n    if (isModal && lockScroll) document.getElementsByTagName('body')[0].style.overflow = 'hidden'; // migrate to document.body\n  };\n\n  var resetScroll = function resetScroll() {\n    if (isModal && lockScroll) document.getElementsByTagName('body')[0].style.overflow = 'auto';\n  };\n\n  var focusContentOnOpen = function focusContentOnOpen() {\n    var _contentRef$current;\n\n    var focusableEls = contentRef === null || contentRef === void 0 ? void 0 : (_contentRef$current = contentRef.current) === null || _contentRef$current === void 0 ? void 0 : _contentRef$current.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex=\"0\"]');\n    var firstEl = Array.prototype.slice.call(focusableEls)[0];\n    firstEl === null || firstEl === void 0 ? void 0 : firstEl.focus();\n  };\n\n  useImperativeHandle(ref, function () {\n    return {\n      open: function open() {\n        openPopup();\n      },\n      close: function close() {\n        closePopup();\n      },\n      toggle: function toggle() {\n        togglePopup();\n      }\n    };\n  }); // set Position\n\n  var setPosition = function setPosition() {\n    if (isModal || !isOpen) return;\n    if (!(triggerRef === null || triggerRef === void 0 ? void 0 : triggerRef.current) || !(triggerRef === null || triggerRef === void 0 ? void 0 : triggerRef.current) || !(contentRef === null || contentRef === void 0 ? void 0 : contentRef.current)) return; /// show error as one of ref is undefined\n\n    var trigger = triggerRef.current.getBoundingClientRect();\n    var content = contentRef.current.getBoundingClientRect();\n    var cords = calculatePosition(trigger, content, position, arrow, {\n      offsetX: offsetX,\n      offsetY: offsetY\n    }, keepTooltipInside);\n    contentRef.current.style.top = cords.top + window.scrollY + \"px\";\n    contentRef.current.style.left = cords.left + window.scrollX + \"px\";\n\n    if (arrow && !!arrowRef.current) {\n      var _arrowStyle$top, _arrowStyle$left;\n\n      arrowRef.current.style.transform = cords.transform;\n      arrowRef.current.style.setProperty('-ms-transform', cords.transform);\n      arrowRef.current.style.setProperty('-webkit-transform', cords.transform);\n      arrowRef.current.style.top = ((_arrowStyle$top = arrowStyle.top) === null || _arrowStyle$top === void 0 ? void 0 : _arrowStyle$top.toString()) || cords.arrowTop;\n      arrowRef.current.style.left = ((_arrowStyle$left = arrowStyle.left) === null || _arrowStyle$left === void 0 ? void 0 : _arrowStyle$left.toString()) || cords.arrowLeft;\n    }\n  }; // hooks\n\n\n  useOnEscape(closePopup, closeOnEscape); // can be optimized if we disabled for hover\n\n  useTabbing(contentRef, isOpen && isModal);\n  useRepositionOnResize(setPosition, repositionOnResize);\n  useOnClickOutside(!!trigger ? [contentRef, triggerRef] : [contentRef], closePopup, closeOnDocumentClick && !nested); // we need to add a ne\n  // render the trigger element and add events\n\n  var renderTrigger = function renderTrigger() {\n    var triggerProps = {\n      key: 'T',\n      ref: triggerRef,\n      'aria-describedby': popupId.current\n    };\n    var onAsArray = Array.isArray(on) ? on : [on];\n\n    for (var i = 0, len = onAsArray.length; i < len; i++) {\n      switch (onAsArray[i]) {\n        case 'click':\n          triggerProps.onClick = togglePopup;\n          break;\n\n        case 'right-click':\n          triggerProps.onContextMenu = onContextMenu;\n          break;\n\n        case 'hover':\n          triggerProps.onMouseEnter = onMouseEnter;\n          triggerProps.onMouseLeave = onMouseLeave;\n          break;\n\n        case 'focus':\n          triggerProps.onFocus = onMouseEnter;\n          triggerProps.onBlur = onMouseLeave;\n          break;\n      }\n    }\n\n    if (typeof trigger === 'function') {\n      var comp = trigger(isOpen);\n      return !!trigger && React.cloneElement(comp, triggerProps);\n    }\n\n    return !!trigger && React.cloneElement(trigger, triggerProps);\n  };\n\n  var addWarperAction = function addWarperAction() {\n    var popupContentStyle = isModal ? Style.popupContent.modal : Style.popupContent.tooltip;\n    var childrenElementProps = {\n      className: \"popup-content \" + (className !== '' ? className.split(' ').map(function (c) {\n        return c + \"-content\";\n      }).join(' ') : ''),\n      style: _extends({}, popupContentStyle, contentStyle, {\n        pointerEvents: 'auto'\n      }),\n      ref: contentRef,\n      onClick: function onClick(e) {\n        e.stopPropagation();\n      }\n    };\n\n    if (!modal && on.indexOf('hover') >= 0) {\n      childrenElementProps.onMouseEnter = onMouseEnter;\n      childrenElementProps.onMouseLeave = onMouseLeave;\n    }\n\n    return childrenElementProps;\n  };\n\n  var renderContent = function renderContent() {\n    return React.createElement(\"div\", Object.assign({}, addWarperAction(), {\n      key: \"C\",\n      role: isModal ? 'dialog' : 'tooltip',\n      id: popupId.current\n    }), arrow && !isModal && React.createElement(\"div\", {\n      ref: arrowRef,\n      style: Style.popupArrow\n    }, React.createElement(\"svg\", {\n      \"data-testid\": \"arrow\",\n      className: \"popup-arrow \" + (className !== '' ? className.split(' ').map(function (c) {\n        return c + \"-arrow\";\n      }).join(' ') : ''),\n      viewBox: \"0 0 32 16\",\n      style: _extends({\n        position: 'absolute'\n      }, arrowStyle)\n    }, React.createElement(\"path\", {\n      d: \"M16 0l16 16H0z\",\n      fill: \"currentcolor\"\n    }))), children && typeof children === 'function' ? children(closePopup, isOpen) : children);\n  };\n\n  var overlay = !(on.indexOf('hover') >= 0);\n  var ovStyle = isModal ? Style.overlay.modal : Style.overlay.tooltip;\n  var content = [overlay && React.createElement(\"div\", {\n    key: \"O\",\n    \"data-testid\": \"overlay\",\n    \"data-popup\": isModal ? 'modal' : 'tooltip',\n    className: \"popup-overlay \" + (className !== '' ? className.split(' ').map(function (c) {\n      return c + \"-overlay\";\n    }).join(' ') : ''),\n    style: _extends({}, ovStyle, overlayStyle, {\n      pointerEvents: closeOnDocumentClick && nested || isModal ? 'auto' : 'none'\n    }),\n    onClick: closeOnDocumentClick && nested ? closePopup : undefined,\n    tabIndex: -1\n  }, isModal && renderContent()), !isModal && renderContent()];\n  return React.createElement(React.Fragment, null, renderTrigger(), isOpen && ReactDOM.createPortal(content, getRootPopup()));\n});\n\nexport default Popup;\nexport { Popup };\n//# sourceMappingURL=reactjs-popup.esm.js.map\n","import React, { useEffect, useState } from \"react\";\r\nimport { WorkspacePopupProps } from \"./types/internal\";\r\nimport Popup from \"reactjs-popup\";\r\nimport WorkspacePopupContent from \"./WorkspaceContentPopup\";\r\nimport { PopupActions } from \"reactjs-popup/dist/types\";\r\n\r\nconst WorkspacePopup: React.FC<WorkspacePopupProps> = ({ children, innerContentStyle, popupRef, ...props }) => {\r\n    const ref = popupRef || React.createRef<PopupActions>();\r\n    const [shouldClose, setShouldClose] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (!shouldClose) {\r\n            return;\r\n        }\r\n\r\n        ref.current?.close();\r\n        setShouldClose(false);\r\n    }, [shouldClose]);\r\n\r\n    return (\r\n        <Popup ref={ref} {...props}>\r\n            <WorkspacePopupContent innerContentStyle={innerContentStyle} close={() => setShouldClose(true)} children={children} />\r\n        </Popup>\r\n    )\r\n}\r\n\r\nexport default WorkspacePopup;","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { PortalProps } from \"./types/internal\";\r\n\r\nclass Portal extends React.Component<PortalProps> {\r\n    render() {\r\n        return ReactDOM.createPortal(this.props.children, this.props.domNode);\r\n    }\r\n}\r\n\r\nexport default Portal;","import React from \"react\";\r\nimport { WorkspacesWrapperProps } from \"./types/internal\";\r\nimport withGlueInstance from \"./withGlueInstance\";\r\nimport workspacesManager from \"./workspacesManager\";\r\n\r\nconst templateId = \"workspaces-react-wrapper-template\";\r\nconst workspacesInnerContainerId = \"outter-layout-container\";\r\n\r\nclass WorkspacesWrapper extends React.Component<WorkspacesWrapperProps> {\r\n    containerRef: HTMLElement | null;\r\n\r\n    componentDidMount() {\r\n        let placeholder = document.getElementById(templateId) as HTMLTemplateElement;\r\n        if (!placeholder) {\r\n            const template = document.createElement(\"template\");\r\n            template.id = templateId;\r\n            const glContainer = document.createElement(\"div\");\r\n\r\n            glContainer.id = workspacesInnerContainerId;\r\n            glContainer.style.overflow = \"hidden\";\r\n            glContainer.style.width = \"100%\";\r\n            glContainer.style.height = \"100%\";\r\n            template.content.appendChild(glContainer);\r\n            document.body.appendChild(template);\r\n            placeholder = template;\r\n        }\r\n        if (!this.containerRef) {\r\n            return;\r\n        }\r\n        this.containerRef.appendChild(placeholder.content);\r\n\r\n        const componentFactory = {\r\n            createLogo: this.props.onCreateLogoRequested,\r\n            createAddWorkspace: this.props.onCreateAddWorkspaceRequested,\r\n            createSystemButtons: this.props.onCreateSystemButtonsRequested,\r\n            createWorkspaceContents: this.props.onCreateWorkspaceContentsRequested,\r\n            createSaveWorkspacePopup: this.props.onCreateSaveWorkspacePopupRequested,\r\n            createAddApplicationPopup: this.props.onCreateAddApplicationPopupRequested,\r\n            createAddWorkspacePopup: this.props.onCreateAddWorkspacePopupRequested,\r\n            hideSystemPopups: this.props.onHideSystemPopupsRequested,\r\n            externalPopupApplications: this.props.externalPopupApplications\r\n        };\r\n        workspacesManager.init(this.props.glue, componentFactory);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        let placeholder = document.getElementById(templateId) as HTMLTemplateElement;\r\n\r\n        if (!this.containerRef) {\r\n            return;\r\n        }\r\n\r\n        placeholder?.content.appendChild(this.containerRef.children[0]);\r\n\r\n        workspacesManager.unmount();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div ref={(r) => this.containerRef = r} style={{ overflow: \"hidden\", width: \"100%\", height: \"100%\" }}>\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withGlueInstance(WorkspacesWrapper);","import React from \"react\";\r\nimport AddApplicationPopup from \"./defaultComponents/popups/addApplication/AddApplicationPopup\";\r\nimport AddWorkspacePopup from \"./defaultComponents/popups/addWorkspace/AddWorkspacePopup\";\r\nimport SaveWorkspacePopup from \"./defaultComponents/popups/saveWorkspace/SaveWorkspacePopup\";\r\nimport Portal from \"./Portal\";\r\nimport { AddApplicationPopupProps, CreateElementRequestOptions, ElementCreationWrapperState, AddWorkspacePopupProps, SaveWorkspacePopupProps, WorkspacesProps, CreateWorkspaceContentsRequestOptions } from \"./types/internal\";\r\nimport WorkspacesWrapper from \"./WorkspacesWrapper\";\r\n\r\nclass WorkspacesElementCreationWrapper extends React.Component<WorkspacesProps, ElementCreationWrapperState> {\r\n    constructor(props: WorkspacesProps) {\r\n        super(props);\r\n        this.state = {\r\n            logo: undefined,\r\n            addWorkspace: undefined,\r\n            systemButtons: undefined,\r\n            workspaceContents: [],\r\n            saveWorkspacePopup: undefined,\r\n            addApplicationPopup: undefined,\r\n            addWorkspacePopup: undefined\r\n        }\r\n    }\r\n\r\n    onCreateLogoRequested = (options: CreateElementRequestOptions) => {\r\n        if (options === this.state.logo) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                logo: options\r\n            }\r\n        });\r\n    }\r\n\r\n    onCreateAddWorkspaceRequested = (options: CreateElementRequestOptions) => {\r\n        if (options === this.state.addWorkspace) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                addWorkspace: options\r\n            }\r\n        });\r\n    }\r\n\r\n    onCreateSystemButtonsRequested = (options: CreateElementRequestOptions) => {\r\n        if (options === this.state.systemButtons) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                systemButtons: options\r\n            }\r\n        });\r\n    }\r\n\r\n    onCreateWorkspaceContentsRequested = (options: CreateWorkspaceContentsRequestOptions) => {\r\n        if (this.state.workspaceContents.some(wc => wc.domNode === options.domNode)) {\r\n            return;\r\n        }\r\n\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                workspaceContents: [\r\n                    ...s.workspaceContents,\r\n                    options\r\n                ]\r\n            }\r\n        });\r\n    }\r\n\r\n    onCreateSaveWorkspaceRequested = (options: CreateElementRequestOptions & SaveWorkspacePopupProps) => {\r\n        if (options === this.state.saveWorkspacePopup) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                saveWorkspacePopup: options\r\n            }\r\n        }, options.callback);\r\n    }\r\n\r\n    onCreateAddApplicationRequested = (options: CreateElementRequestOptions & AddApplicationPopupProps) => {\r\n        if (options === this.state.addApplicationPopup) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                addApplicationPopup: options\r\n            }\r\n        }, options.callback);\r\n    }\r\n\r\n    onCreateAddWorkspacePopupRequested = (options: CreateElementRequestOptions & AddWorkspacePopupProps) => {\r\n        if (options === this.state.addWorkspacePopup) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                addWorkspacePopup: options\r\n            }\r\n        }, options.callback);\r\n    }\r\n\r\n    onHideSystemPopups = (cb: () => void) => {\r\n        this.setState((s) => ({\r\n            ...s,\r\n            addApplicationPopup: undefined,\r\n            saveWorkspacePopup: undefined,\r\n            addWorkspacePopup: undefined\r\n        }), cb);\r\n    }\r\n\r\n    renderLogoComponent = () => {\r\n        const LogoCustomElement = this.props.components?.header?.LogoComponent;\r\n        if (!LogoCustomElement || (!this.state.logo || !this.state.logo.domNode)) {\r\n            return;\r\n        }\r\n\r\n        const { domNode, callback, ...options } = this.state.logo;\r\n        return <Portal domNode={domNode}><LogoCustomElement {...options} /></Portal>\r\n    }\r\n\r\n    renderAddWorkspaceComponent = () => {\r\n        const AddWorkspaceCustomComponent = this.props.components?.header?.AddWorkspaceComponent;\r\n\r\n        if (!AddWorkspaceCustomComponent || (!this.state.addWorkspace || !this.state.addWorkspace.domNode)) {\r\n            return;\r\n        }\r\n\r\n        const { domNode, callback, ...options } = this.state.addWorkspace;\r\n        return <Portal domNode={domNode}><AddWorkspaceCustomComponent {...options} /></Portal>\r\n    }\r\n\r\n    renderSystemButtonsComponent = () => {\r\n        const SystemButtonsCustomComponent = this.props.components?.header?.SystemButtonsComponent;\r\n        if (!SystemButtonsCustomComponent || (!this.state.systemButtons || !this.state.systemButtons.domNode)) {\r\n            return;\r\n        }\r\n\r\n        const { domNode, callback, ...options } = this.state.systemButtons;\r\n\r\n        return <Portal domNode={domNode}><SystemButtonsCustomComponent {...options} /></Portal>\r\n    }\r\n\r\n    renderWorskpaceContents = () => {\r\n        const WorkspaceContentsComponent = this.props.components?.WorkspaceContents;\r\n\r\n        return this.state.workspaceContents.map((wc) => {\r\n            if (!WorkspaceContentsComponent || !wc.domNode) {\r\n                return;\r\n            }\r\n\r\n            const { domNode, callback, ...options } = wc;\r\n            return <Portal key={options.workspaceId} domNode={domNode}><WorkspaceContentsComponent {...options} /></Portal>\r\n        });\r\n    }\r\n\r\n    renderSaveWorkspacePopupComponent = () => {\r\n        const SaveWorkspaceCustomComponent = this.props.components?.popups?.SaveWorkspaceComponent || SaveWorkspacePopup;\r\n        if (!SaveWorkspaceCustomComponent || (!this.state.saveWorkspacePopup || !this.state.saveWorkspacePopup.domNode)) {\r\n            return;\r\n        }\r\n\r\n        const { domNode, ...options } = this.state.saveWorkspacePopup;\r\n\r\n        return <Portal domNode={domNode}><SaveWorkspaceCustomComponent glue={this.props.glue} {...options} /></Portal>\r\n    }\r\n\r\n    renderAddApplicationPopupComponent = () => {\r\n        const AddApplicationCustomComponent = this.props.components?.popups?.AddApplicationComponent || AddApplicationPopup;\r\n        if (!AddApplicationCustomComponent || (!this.state.addApplicationPopup || !this.state.addApplicationPopup.domNode)) {\r\n            return;\r\n        }\r\n\r\n        const { domNode, ...options } = this.state.addApplicationPopup;\r\n\r\n        return <Portal domNode={domNode}><AddApplicationCustomComponent glue={this.props.glue} {...options} /></Portal>\r\n    }\r\n\r\n    renderAddWorkspacePopupComponent = () => {\r\n        const AddWorkspaceCustomComponent = this.props.components?.popups?.AddWorkspaceComponent || AddWorkspacePopup;\r\n        if (!AddWorkspaceCustomComponent || (!this.state.addWorkspacePopup || !this.state.addWorkspacePopup.domNode)) {\r\n            return;\r\n        }\r\n        const { domNode, callback, ...options } = this.state.addWorkspacePopup;\r\n\r\n        return <Portal domNode={domNode}><AddWorkspaceCustomComponent glue={this.props.glue} {...options} /></Portal>\r\n    }\r\n\r\n    render() {\r\n        const { components, glue, ...additionalProperties } = this.props;\r\n        const addApplicationComponent = components?.popups?.AddApplicationComponent || AddApplicationPopup;\r\n        const saveWorkspaceComponent = components?.popups?.SaveWorkspaceComponent || SaveWorkspacePopup;\r\n        const addWorkspaceComponent = components?.popups?.AddWorkspaceComponent || AddWorkspacePopup;\r\n\r\n        const onCreateAddApplicationRequested = addApplicationComponent && typeof addApplicationComponent !== \"string\" ?\r\n            this.onCreateAddApplicationRequested : undefined;\r\n\r\n        const onCreateAddWorkspacePopupRequested = addWorkspaceComponent && typeof addWorkspaceComponent !== \"string\" ?\r\n            this.onCreateAddWorkspacePopupRequested : undefined;\r\n\r\n        const onCreateSaveWorkspaceRequested = saveWorkspaceComponent && typeof saveWorkspaceComponent !== \"string\" ?\r\n            this.onCreateSaveWorkspaceRequested : undefined;\r\n\r\n        const addApplication = typeof addApplicationComponent === \"string\" ? addApplicationComponent : undefined;\r\n        const saveWorkspace = typeof saveWorkspaceComponent === \"string\" ? saveWorkspaceComponent : undefined;\r\n        const addWorkspace = typeof addWorkspaceComponent === \"string\" ? addWorkspaceComponent : undefined;\r\n\r\n        const externalPopupApplications = {\r\n            addApplication,\r\n            saveWorkspace,\r\n            addWorkspace\r\n        }\r\n\r\n        return (\r\n            <div {...additionalProperties} style={{ overflow: \"hidden\", width: \"100%\", height: \"100%\" }}>\r\n                {this.renderLogoComponent()}\r\n                {this.renderAddWorkspaceComponent()}\r\n                {this.renderSystemButtonsComponent()}\r\n                {this.renderWorskpaceContents()}\r\n                {this.renderSaveWorkspacePopupComponent()}\r\n                {this.renderAddApplicationPopupComponent()}\r\n                {this.renderAddWorkspacePopupComponent()}\r\n                <WorkspacesWrapper\r\n                    onCreateSystemButtonsRequested={components?.header?.SystemButtonsComponent ? this.onCreateSystemButtonsRequested : undefined}\r\n                    onCreateAddWorkspaceRequested={components?.header?.AddWorkspaceComponent ? this.onCreateAddWorkspaceRequested : undefined}\r\n                    onCreateLogoRequested={components?.header?.LogoComponent ? this.onCreateLogoRequested : undefined}\r\n                    onCreateWorkspaceContentsRequested={components?.WorkspaceContents ? this.onCreateWorkspaceContentsRequested : undefined}\r\n                    onCreateSaveWorkspacePopupRequested={onCreateSaveWorkspaceRequested}\r\n                    onCreateAddApplicationPopupRequested={onCreateAddApplicationRequested}\r\n                    onCreateAddWorkspacePopupRequested={onCreateAddWorkspacePopupRequested}\r\n                    onHideSystemPopupsRequested={this.onHideSystemPopups}\r\n                    externalPopupApplications={externalPopupApplications}\r\n                    glue={glue}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default WorkspacesElementCreationWrapper;\r\n","import AddWorkspaceButton from './defaultComponents/AddWorkspaceButton';\r\nimport CloseFrameButton from './defaultComponents/CloseFrameButton';\r\nimport GlueLogo from './defaultComponents/GlueLogo';\r\nimport MaximizeFrameButton from './defaultComponents/MaximizeFrameButton';\r\nimport MinimizeFrameButton from './defaultComponents/MinimizeFrameButton';\r\nimport AddApplicationPopup from './defaultComponents/popups/addApplication/AddApplicationPopup';\r\nimport AddWorkspacePopup from './defaultComponents/popups/addWorkspace/AddWorkspacePopup';\r\nimport SaveWorkspacePopup from './defaultComponents/popups/saveWorkspace/SaveWorkspacePopup';\r\nimport WorkspaceContents from \"./defaultComponents/WorkspaceContents\";\r\nimport useWorkspacePopup from './useWorkspacePopup';\r\nimport useWorkspaceWindowClicked from './useWorkspaceWindowClicked';\r\n\r\nimport WorkspacePopup from './WorkspacePopup';\r\nimport {\r\n    Bounds,\r\n    WorkspacesManager,\r\n    WorkspacesProps,\r\n    AddWorkspaceButtonProps,\r\n    MaximizeFrameButtonProps,\r\n    MinimizeFrameButtonProps,\r\n    SaveWorkspacePopupComponentProps,\r\n    AddWorkspacePopupComponentProps,\r\n    AddApplicationPopupComponentProps,\r\n    AddWorkspacePopupProps,\r\n    SaveWorkspacePopupProps,\r\n    AddApplicationPopupProps,\r\n    WorkspaceContentsProps\r\n} from './types/internal';\r\nimport WorkspacesElementCreationWrapper from './WorkspacesElementCreationWrapper'\r\nimport workspacesManager from './workspacesManager';\r\n\r\nexport {\r\n    SaveWorkspacePopup,\r\n    AddWorkspacePopup,\r\n    AddApplicationPopup,\r\n    CloseFrameButton,\r\n    GlueLogo,\r\n    MaximizeFrameButton,\r\n    MinimizeFrameButton,\r\n    AddWorkspaceButton,\r\n    WorkspacePopup,\r\n    useWorkspacePopup,\r\n    useWorkspaceWindowClicked,\r\n    WorkspaceContents\r\n};\r\nexport const notifyMoveAreaChanged: () => void = () => workspacesManager?.notifyMoveAreaChanged();\r\nexport const getComponentBounds: () => Bounds = () => workspacesManager?.getComponentBounds();\r\nexport const getFrameId: () => string = () => workspacesManager?.getFrameId();\r\n\r\nexport {\r\n    WorkspacesProps,\r\n    Bounds,\r\n    AddWorkspaceButtonProps,\r\n    MaximizeFrameButtonProps,\r\n    MinimizeFrameButtonProps,\r\n    SaveWorkspacePopupComponentProps,\r\n    AddWorkspacePopupComponentProps,\r\n    AddApplicationPopupComponentProps,\r\n    AddWorkspacePopupProps,\r\n    SaveWorkspacePopupProps,\r\n    AddApplicationPopupProps,\r\n    WorkspaceContentsProps\r\n};\r\nexport default WorkspacesElementCreationWrapper;","(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, (global.desktop = global.desktop || {}, global.desktop.browser = factory()));\n}(this, (function () { 'use strict';\n\n    /*! *****************************************************************************\r\n    Copyright (c) Microsoft Corporation. All rights reserved.\r\n    Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\n    this file except in compliance with the License. You may obtain a copy of the\r\n    License at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\n    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\n    MERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\n    See the Apache Version 2.0 License for specific language governing permissions\r\n    and limitations under the License.\r\n    ***************************************************************************** */\r\n    /* global Reflect, Promise */\r\n\r\n    var extendStatics = function(d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n\r\n    function __extends(d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    }\r\n\r\n    var __assign = function() {\r\n        __assign = Object.assign || function __assign(t) {\r\n            for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n                s = arguments[i];\r\n                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n            }\r\n            return t;\r\n        };\r\n        return __assign.apply(this, arguments);\r\n    };\r\n\r\n    function __awaiter(thisArg, _arguments, P, generator) {\r\n        return new (P || (P = Promise))(function (resolve, reject) {\r\n            function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n            function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n            function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n        });\r\n    }\r\n\r\n    function __generator(thisArg, body) {\r\n        var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n        return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n        function verb(n) { return function (v) { return step([n, v]); }; }\r\n        function step(op) {\r\n            if (f) throw new TypeError(\"Generator is already executing.\");\r\n            while (_) try {\r\n                if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n                if (y = 0, t) op = [op[0] & 2, t.value];\r\n                switch (op[0]) {\r\n                    case 0: case 1: t = op; break;\r\n                    case 4: _.label++; return { value: op[1], done: false };\r\n                    case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                    case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                    default:\r\n                        if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                        if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                        if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                        if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                        if (t[2]) _.ops.pop();\r\n                        _.trys.pop(); continue;\r\n                }\r\n                op = body.call(thisArg, _);\r\n            } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n            if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n        }\r\n    }\n\n    /*! *****************************************************************************\r\n    Copyright (c) Microsoft Corporation. All rights reserved.\r\n    Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\n    this file except in compliance with the License. You may obtain a copy of the\r\n    License at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\n    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\n    MERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\n    See the Apache Version 2.0 License for specific language governing permissions\r\n    and limitations under the License.\r\n    ***************************************************************************** */\r\n    /* global Reflect, Promise */\r\n\r\n    var extendStatics$1 = function(d, b) {\r\n        extendStatics$1 = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics$1(d, b);\r\n    };\r\n\r\n    function __extends$1(d, b) {\r\n        extendStatics$1(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    }\r\n\r\n    var __assign$1 = function() {\r\n        __assign$1 = Object.assign || function __assign(t) {\r\n            for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n                s = arguments[i];\r\n                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n            }\r\n            return t;\r\n        };\r\n        return __assign$1.apply(this, arguments);\r\n    };\r\n\r\n    function __awaiter$1(thisArg, _arguments, P, generator) {\r\n        return new (P || (P = Promise))(function (resolve, reject) {\r\n            function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n            function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n            function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n        });\r\n    }\r\n\r\n    function __generator$1(thisArg, body) {\r\n        var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n        return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n        function verb(n) { return function (v) { return step([n, v]); }; }\r\n        function step(op) {\r\n            if (f) throw new TypeError(\"Generator is already executing.\");\r\n            while (_) try {\r\n                if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n                if (y = 0, t) op = [op[0] & 2, t.value];\r\n                switch (op[0]) {\r\n                    case 0: case 1: t = op; break;\r\n                    case 4: _.label++; return { value: op[1], done: false };\r\n                    case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                    case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                    default:\r\n                        if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                        if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                        if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                        if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                        if (t[2]) _.ops.pop();\r\n                        _.trys.pop(); continue;\r\n                }\r\n                op = body.call(thisArg, _);\r\n            } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n            if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n        }\r\n    }\r\n\r\n    function __spreadArrays() {\r\n        for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n        for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n            for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n                r[k] = a[j];\r\n        return r;\r\n    }\n\n    var MetricTypes = {\r\n        STRING: 1,\r\n        NUMBER: 2,\r\n        TIMESTAMP: 3,\r\n        OBJECT: 4\r\n    };\n\n    function getMetricTypeByValue(metric) {\r\n        if (metric.type === MetricTypes.TIMESTAMP) {\r\n            return \"timestamp\";\r\n        }\r\n        else if (metric.type === MetricTypes.NUMBER) {\r\n            return \"number\";\r\n        }\r\n        else if (metric.type === MetricTypes.STRING) {\r\n            return \"string\";\r\n        }\r\n        else if (metric.type === MetricTypes.OBJECT) {\r\n            return \"object\";\r\n        }\r\n        return \"unknown\";\r\n    }\r\n    function getTypeByValue(value) {\r\n        if (value.constructor === Date) {\r\n            return \"timestamp\";\r\n        }\r\n        else if (typeof value === \"number\") {\r\n            return \"number\";\r\n        }\r\n        else if (typeof value === \"string\") {\r\n            return \"string\";\r\n        }\r\n        else if (typeof value === \"object\") {\r\n            return \"object\";\r\n        }\r\n        else {\r\n            return \"string\";\r\n        }\r\n    }\r\n    function serializeMetric(metric) {\r\n        var serializedMetrics = {};\r\n        var type = getMetricTypeByValue(metric);\r\n        if (type === \"object\") {\r\n            var values = Object.keys(metric.value).reduce(function (memo, key) {\r\n                var innerType = getTypeByValue(metric.value[key]);\r\n                if (innerType === \"object\") {\r\n                    var composite = defineNestedComposite(metric.value[key]);\r\n                    memo[key] = {\r\n                        type: \"object\",\r\n                        description: \"\",\r\n                        context: {},\r\n                        composite: composite,\r\n                    };\r\n                }\r\n                else {\r\n                    memo[key] = {\r\n                        type: innerType,\r\n                        description: \"\",\r\n                        context: {},\r\n                    };\r\n                }\r\n                return memo;\r\n            }, {});\r\n            serializedMetrics.composite = values;\r\n        }\r\n        serializedMetrics.name = normalizeMetricName(metric.path.join(\"/\") + \"/\" + metric.name);\r\n        serializedMetrics.type = type;\r\n        serializedMetrics.description = metric.description;\r\n        serializedMetrics.context = {};\r\n        return serializedMetrics;\r\n    }\r\n    function defineNestedComposite(values) {\r\n        return Object.keys(values).reduce(function (memo, key) {\r\n            var type = getTypeByValue(values[key]);\r\n            if (type === \"object\") {\r\n                memo[key] = {\r\n                    type: \"object\",\r\n                    description: \"\",\r\n                    context: {},\r\n                    composite: defineNestedComposite(values[key]),\r\n                };\r\n            }\r\n            else {\r\n                memo[key] = {\r\n                    type: type,\r\n                    description: \"\",\r\n                    context: {},\r\n                };\r\n            }\r\n            return memo;\r\n        }, {});\r\n    }\r\n    function normalizeMetricName(name) {\r\n        if (typeof name !== \"undefined\" && name.length > 0 && name[0] !== \"/\") {\r\n            return \"/\" + name;\r\n        }\r\n        else {\r\n            return name;\r\n        }\r\n    }\r\n    function getMetricValueByType(metric) {\r\n        var type = getMetricTypeByValue(metric);\r\n        if (type === \"timestamp\") {\r\n            return Date.now();\r\n        }\r\n        else {\r\n            return publishNestedComposite(metric.value);\r\n        }\r\n    }\r\n    function publishNestedComposite(values) {\r\n        if (typeof values !== \"object\") {\r\n            return values;\r\n        }\r\n        return Object.keys(values).reduce(function (memo, key) {\r\n            var value = values[key];\r\n            if (typeof value === \"object\" && value.constructor !== Date) {\r\n                memo[key] = publishNestedComposite(value);\r\n            }\r\n            else if (value.constructor === Date) {\r\n                memo[key] = new Date(value).getTime();\r\n            }\r\n            else if (value.constructor === Boolean) {\r\n                memo[key] = value.toString();\r\n            }\r\n            else {\r\n                memo[key] = value;\r\n            }\r\n            return memo;\r\n        }, {});\r\n    }\r\n    function flatten(arr) {\r\n        return arr.reduce(function (flat, toFlatten) {\r\n            return flat.concat(Array.isArray(toFlatten) ? flatten(toFlatten) : toFlatten);\r\n        }, []);\r\n    }\r\n    function getHighestState(arr) {\r\n        return arr.sort(function (a, b) {\r\n            if (!a.state) {\r\n                return 1;\r\n            }\r\n            if (!b.state) {\r\n                return -1;\r\n            }\r\n            return b.state - a.state;\r\n        })[0];\r\n    }\r\n    function aggregateDescription(arr) {\r\n        var msg = \"\";\r\n        arr.forEach(function (m, idx, a) {\r\n            var path = m.path.join(\".\");\r\n            if (idx === a.length - 1) {\r\n                msg += path + \".\" + m.name + \": \" + m.description;\r\n            }\r\n            else {\r\n                msg += path + \".\" + m.name + \": \" + m.description + \",\";\r\n            }\r\n        });\r\n        if (msg.length > 100) {\r\n            return msg.slice(0, 100) + \"...\";\r\n        }\r\n        else {\r\n            return msg;\r\n        }\r\n    }\r\n    function composeMsgForRootStateMetric(system) {\r\n        var aggregatedState = system.root.getAggregateState();\r\n        var merged = flatten(aggregatedState);\r\n        var highestState = getHighestState(merged);\r\n        var aggregateDesc = aggregateDescription(merged);\r\n        return {\r\n            description: aggregateDesc,\r\n            value: highestState.state,\r\n        };\r\n    }\n\n    function gw3 (connection, config) {\r\n        var _this = this;\r\n        if (!connection || typeof connection !== \"object\") {\r\n            throw new Error(\"Connection is required parameter\");\r\n        }\r\n        var joinPromise;\r\n        var session;\r\n        var init = function (repo) {\r\n            var resolveReadyPromise;\r\n            joinPromise = new Promise(function (resolve) {\r\n                resolveReadyPromise = resolve;\r\n            });\r\n            session = connection.domain(\"metrics\");\r\n            session.onJoined(function (reconnect) {\r\n                if (!reconnect && resolveReadyPromise) {\r\n                    resolveReadyPromise();\r\n                    resolveReadyPromise = undefined;\r\n                }\r\n                var rootStateMetric = {\r\n                    name: \"/State\",\r\n                    type: \"object\",\r\n                    composite: {\r\n                        Description: {\r\n                            type: \"string\",\r\n                            description: \"\",\r\n                        },\r\n                        Value: {\r\n                            type: \"number\",\r\n                            description: \"\",\r\n                        },\r\n                    },\r\n                    description: \"System state\",\r\n                    context: {},\r\n                };\r\n                var defineRootMetricsMsg = {\r\n                    type: \"define\",\r\n                    metrics: [rootStateMetric],\r\n                };\r\n                session.send(defineRootMetricsMsg);\r\n                if (reconnect) {\r\n                    replayRepo(repo);\r\n                }\r\n            });\r\n            session.join({\r\n                system: config.system,\r\n                service: config.service,\r\n                instance: config.instance\r\n            });\r\n        };\r\n        var replayRepo = function (repo) {\r\n            replaySystem(repo.root);\r\n        };\r\n        var replaySystem = function (system) {\r\n            createSystem(system);\r\n            system.metrics.forEach(function (m) {\r\n                createMetric(m);\r\n            });\r\n            system.subSystems.forEach(function (ss) {\r\n                replaySystem(ss);\r\n            });\r\n        };\r\n        var createSystem = function (system) { return __awaiter$1(_this, void 0, void 0, function () {\r\n            var metric, createMetricsMsg;\r\n            return __generator$1(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (system.parent === undefined) {\r\n                            return [2];\r\n                        }\r\n                        return [4, joinPromise];\r\n                    case 1:\r\n                        _a.sent();\r\n                        metric = {\r\n                            name: normalizeMetricName(system.path.join(\"/\") + \"/\" + system.name + \"/State\"),\r\n                            type: \"object\",\r\n                            composite: {\r\n                                Description: {\r\n                                    type: \"string\",\r\n                                    description: \"\",\r\n                                },\r\n                                Value: {\r\n                                    type: \"number\",\r\n                                    description: \"\",\r\n                                },\r\n                            },\r\n                            description: \"System state\",\r\n                            context: {},\r\n                        };\r\n                        createMetricsMsg = {\r\n                            type: \"define\",\r\n                            metrics: [metric],\r\n                        };\r\n                        session.send(createMetricsMsg);\r\n                        return [2];\r\n                }\r\n            });\r\n        }); };\r\n        var updateSystem = function (system, state) { return __awaiter$1(_this, void 0, void 0, function () {\r\n            var shadowedUpdateMetric, stateObj, rootMetric;\r\n            return __generator$1(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4, joinPromise];\r\n                    case 1:\r\n                        _a.sent();\r\n                        shadowedUpdateMetric = {\r\n                            type: \"publish\",\r\n                            values: [{\r\n                                    name: normalizeMetricName(system.path.join(\"/\") + \"/\" + system.name + \"/State\"),\r\n                                    value: {\r\n                                        Description: state.description,\r\n                                        Value: state.state,\r\n                                    },\r\n                                    timestamp: Date.now(),\r\n                                }],\r\n                        };\r\n                        session.send(shadowedUpdateMetric);\r\n                        stateObj = composeMsgForRootStateMetric(system);\r\n                        rootMetric = {\r\n                            type: \"publish\",\r\n                            peer_id: connection.peerId,\r\n                            values: [{\r\n                                    name: \"/State\",\r\n                                    value: {\r\n                                        Description: stateObj.description,\r\n                                        Value: stateObj.value,\r\n                                    },\r\n                                    timestamp: Date.now(),\r\n                                }],\r\n                        };\r\n                        session.send(rootMetric);\r\n                        return [2];\r\n                }\r\n            });\r\n        }); };\r\n        var createMetric = function (metric) { return __awaiter$1(_this, void 0, void 0, function () {\r\n            var metricClone, m, createMetricsMsg;\r\n            return __generator$1(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        metricClone = cloneMetric(metric);\r\n                        return [4, joinPromise];\r\n                    case 1:\r\n                        _a.sent();\r\n                        m = serializeMetric(metricClone);\r\n                        createMetricsMsg = {\r\n                            type: \"define\",\r\n                            metrics: [m],\r\n                        };\r\n                        session.send(createMetricsMsg);\r\n                        if (typeof metricClone.value !== \"undefined\") {\r\n                            updateMetricCore(metricClone);\r\n                        }\r\n                        return [2];\r\n                }\r\n            });\r\n        }); };\r\n        var updateMetric = function (metric) { return __awaiter$1(_this, void 0, void 0, function () {\r\n            var metricClone;\r\n            return __generator$1(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        metricClone = cloneMetric(metric);\r\n                        return [4, joinPromise];\r\n                    case 1:\r\n                        _a.sent();\r\n                        updateMetricCore(metricClone);\r\n                        return [2];\r\n                }\r\n            });\r\n        }); };\r\n        var updateMetricCore = function (metric) {\r\n            if (canUpdate()) {\r\n                var value = getMetricValueByType(metric);\r\n                var publishMetricsMsg = {\r\n                    type: \"publish\",\r\n                    values: [{\r\n                            name: normalizeMetricName(metric.path.join(\"/\") + \"/\" + metric.name),\r\n                            value: value,\r\n                            timestamp: Date.now(),\r\n                        }],\r\n                };\r\n                return session.sendFireAndForget(publishMetricsMsg);\r\n            }\r\n            return Promise.resolve();\r\n        };\r\n        var cloneMetric = function (metric) {\r\n            var metricClone = __assign$1({}, metric);\r\n            if (typeof metric.value === \"object\" && metric.value !== null) {\r\n                metricClone.value = __assign$1({}, metric.value);\r\n            }\r\n            return metricClone;\r\n        };\r\n        var canUpdate = function () {\r\n            var _a;\r\n            try {\r\n                var func = (_a = config.canUpdateMetric) !== null && _a !== void 0 ? _a : (function () { return true; });\r\n                return func();\r\n            }\r\n            catch (_b) {\r\n                return true;\r\n            }\r\n        };\r\n        return {\r\n            init: init,\r\n            createSystem: createSystem,\r\n            updateSystem: updateSystem,\r\n            createMetric: createMetric,\r\n            updateMetric: updateMetric,\r\n        };\r\n    }\n\n    var Helpers = {\r\n        validate: function (definition, parent, transport) {\r\n            if (definition === null || typeof definition !== \"object\") {\r\n                throw new Error(\"Missing definition\");\r\n            }\r\n            if (parent === null || typeof parent !== \"object\") {\r\n                throw new Error(\"Missing parent\");\r\n            }\r\n            if (transport === null || typeof transport !== \"object\") {\r\n                throw new Error(\"Missing transport\");\r\n            }\r\n        },\r\n    };\n\n    var BaseMetric = (function () {\r\n        function BaseMetric(definition, system, transport, value, type) {\r\n            this.definition = definition;\r\n            this.system = system;\r\n            this.transport = transport;\r\n            this.value = value;\r\n            this.type = type;\r\n            this.path = [];\r\n            Helpers.validate(definition, system, transport);\r\n            this.path = system.path.slice(0);\r\n            this.path.push(system.name);\r\n            this.name = definition.name;\r\n            this.description = definition.description;\r\n            transport.createMetric(this);\r\n        }\r\n        Object.defineProperty(BaseMetric.prototype, \"repo\", {\r\n            get: function () {\r\n                var _a;\r\n                return (_a = this.system) === null || _a === void 0 ? void 0 : _a.repo;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(BaseMetric.prototype, \"id\", {\r\n            get: function () { return this.system.path + \"/\" + name; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        BaseMetric.prototype.update = function (newValue) {\r\n            this.value = newValue;\r\n            return this.transport.updateMetric(this);\r\n        };\r\n        return BaseMetric;\r\n    }());\n\n    var NumberMetric = (function (_super) {\r\n        __extends$1(NumberMetric, _super);\r\n        function NumberMetric(definition, system, transport, value) {\r\n            return _super.call(this, definition, system, transport, value, MetricTypes.NUMBER) || this;\r\n        }\r\n        NumberMetric.prototype.incrementBy = function (num) {\r\n            this.update(this.value + num);\r\n        };\r\n        NumberMetric.prototype.increment = function () {\r\n            this.incrementBy(1);\r\n        };\r\n        NumberMetric.prototype.decrement = function () {\r\n            this.incrementBy(-1);\r\n        };\r\n        NumberMetric.prototype.decrementBy = function (num) {\r\n            this.incrementBy(num * -1);\r\n        };\r\n        return NumberMetric;\r\n    }(BaseMetric));\n\n    var ObjectMetric = (function (_super) {\r\n        __extends$1(ObjectMetric, _super);\r\n        function ObjectMetric(definition, system, transport, value) {\r\n            return _super.call(this, definition, system, transport, value, MetricTypes.OBJECT) || this;\r\n        }\r\n        ObjectMetric.prototype.update = function (newValue) {\r\n            this.mergeValues(newValue);\r\n            return this.transport.updateMetric(this);\r\n        };\r\n        ObjectMetric.prototype.mergeValues = function (values) {\r\n            var _this = this;\r\n            return Object.keys(this.value).forEach(function (k) {\r\n                if (typeof values[k] !== \"undefined\") {\r\n                    _this.value[k] = values[k];\r\n                }\r\n            });\r\n        };\r\n        return ObjectMetric;\r\n    }(BaseMetric));\n\n    var StringMetric = (function (_super) {\r\n        __extends$1(StringMetric, _super);\r\n        function StringMetric(definition, system, transport, value) {\r\n            return _super.call(this, definition, system, transport, value, MetricTypes.STRING) || this;\r\n        }\r\n        return StringMetric;\r\n    }(BaseMetric));\n\n    var TimestampMetric = (function (_super) {\r\n        __extends$1(TimestampMetric, _super);\r\n        function TimestampMetric(definition, system, transport, value) {\r\n            return _super.call(this, definition, system, transport, value, MetricTypes.TIMESTAMP) || this;\r\n        }\r\n        TimestampMetric.prototype.now = function () {\r\n            this.update(new Date());\r\n        };\r\n        return TimestampMetric;\r\n    }(BaseMetric));\n\n    function system(name, repo, protocol, parent, description) {\r\n        if (!repo) {\r\n            throw new Error(\"Repository is required\");\r\n        }\r\n        if (!protocol) {\r\n            throw new Error(\"Transport is required\");\r\n        }\r\n        var _transport = protocol;\r\n        var _name = name;\r\n        var _description = description || \"\";\r\n        var _repo = repo;\r\n        var _parent = parent;\r\n        var _path = _buildPath(parent);\r\n        var _state = {};\r\n        var id = _arrayToString(_path, \"/\") + name;\r\n        var root = repo.root;\r\n        var _subSystems = [];\r\n        var _metrics = [];\r\n        function subSystem(nameSystem, descriptionSystem) {\r\n            if (!nameSystem || nameSystem.length === 0) {\r\n                throw new Error(\"name is required\");\r\n            }\r\n            var match = _subSystems.filter(function (s) { return s.name === nameSystem; });\r\n            if (match.length > 0) {\r\n                return match[0];\r\n            }\r\n            var _system = system(nameSystem, _repo, _transport, me, descriptionSystem);\r\n            _subSystems.push(_system);\r\n            return _system;\r\n        }\r\n        function setState(state, stateDescription) {\r\n            _state = { state: state, description: stateDescription };\r\n            _transport.updateSystem(me, _state);\r\n        }\r\n        function stringMetric(definition, value) {\r\n            return _getOrCreateMetric(definition, MetricTypes.STRING, value, function (metricDef) { return new StringMetric(metricDef, me, _transport, value); });\r\n        }\r\n        function numberMetric(definition, value) {\r\n            return _getOrCreateMetric(definition, MetricTypes.NUMBER, value, function (metricDef) { return new NumberMetric(metricDef, me, _transport, value); });\r\n        }\r\n        function objectMetric(definition, value) {\r\n            return _getOrCreateMetric(definition, MetricTypes.OBJECT, value, function (metricDef) { return new ObjectMetric(metricDef, me, _transport, value); });\r\n        }\r\n        function timestampMetric(definition, value) {\r\n            return _getOrCreateMetric(definition, MetricTypes.TIMESTAMP, value, function (metricDef) { return new TimestampMetric(metricDef, me, _transport, value); });\r\n        }\r\n        function _getOrCreateMetric(metricObject, expectedType, value, createMetric) {\r\n            var metricDef = { name: \"\" };\r\n            if (typeof metricObject === \"string\") {\r\n                metricDef = { name: metricObject };\r\n            }\r\n            else {\r\n                metricDef = metricObject;\r\n            }\r\n            var matching = _metrics.filter(function (shadowedMetric) { return shadowedMetric.name === metricDef.name; });\r\n            if (matching.length > 0) {\r\n                var existing = matching[0];\r\n                if (existing.type !== expectedType) {\r\n                    throw new Error(\"A metric named \" + metricDef.name + \" is already defined with different type.\");\r\n                }\r\n                if (typeof value !== \"undefined\") {\r\n                    existing\r\n                        .update(value)\r\n                        .catch(function () { });\r\n                }\r\n                return existing;\r\n            }\r\n            var metric = createMetric(metricDef);\r\n            _metrics.push(metric);\r\n            return metric;\r\n        }\r\n        function _buildPath(shadowedSystem) {\r\n            if (!shadowedSystem || !shadowedSystem.parent) {\r\n                return [];\r\n            }\r\n            var path = _buildPath(shadowedSystem.parent);\r\n            path.push(shadowedSystem.name);\r\n            return path;\r\n        }\r\n        function _arrayToString(path, separator) {\r\n            return ((path && path.length > 0) ? path.join(separator) : \"\");\r\n        }\r\n        function getAggregateState() {\r\n            var aggState = [];\r\n            if (Object.keys(_state).length > 0) {\r\n                aggState.push({\r\n                    name: _name,\r\n                    path: _path,\r\n                    state: _state.state,\r\n                    description: _state.description,\r\n                });\r\n            }\r\n            _subSystems.forEach(function (shadowedSubSystem) {\r\n                var result = shadowedSubSystem.getAggregateState();\r\n                if (result.length > 0) {\r\n                    aggState.push.apply(aggState, result);\r\n                }\r\n            });\r\n            return aggState;\r\n        }\r\n        var me = {\r\n            get name() {\r\n                return _name;\r\n            },\r\n            get description() {\r\n                return _description;\r\n            },\r\n            get repo() {\r\n                return _repo;\r\n            },\r\n            get parent() {\r\n                return _parent;\r\n            },\r\n            path: _path,\r\n            id: id,\r\n            root: root,\r\n            get subSystems() {\r\n                return _subSystems;\r\n            },\r\n            get metrics() {\r\n                return _metrics;\r\n            },\r\n            subSystem: subSystem,\r\n            getState: function () {\r\n                return _state;\r\n            },\r\n            setState: setState,\r\n            stringMetric: stringMetric,\r\n            timestampMetric: timestampMetric,\r\n            objectMetric: objectMetric,\r\n            numberMetric: numberMetric,\r\n            getAggregateState: getAggregateState,\r\n        };\r\n        _transport.createSystem(me);\r\n        return me;\r\n    }\n\n    var Repository = (function () {\r\n        function Repository(options, protocol) {\r\n            protocol.init(this);\r\n            this.root = system(\"\", this, protocol);\r\n            this.addSystemMetrics(this.root, options.clickStream || options.clickStream === undefined);\r\n        }\r\n        Repository.prototype.addSystemMetrics = function (rootSystem, useClickStream) {\r\n            if (typeof navigator !== \"undefined\") {\r\n                rootSystem.stringMetric(\"UserAgent\", navigator.userAgent);\r\n            }\r\n            if (useClickStream && typeof document !== \"undefined\") {\r\n                var clickStream_1 = rootSystem.subSystem(\"ClickStream\");\r\n                var documentClickHandler = function (e) {\r\n                    if (!e.target) {\r\n                        return;\r\n                    }\r\n                    var target = e.target;\r\n                    clickStream_1.objectMetric(\"LastBrowserEvent\", {\r\n                        type: \"click\",\r\n                        timestamp: new Date(),\r\n                        target: {\r\n                            className: e.target ? target.className : \"\",\r\n                            id: target.id,\r\n                            type: \"<\" + target.tagName.toLowerCase() + \">\",\r\n                            href: target.href || \"\",\r\n                        },\r\n                    });\r\n                };\r\n                clickStream_1.objectMetric(\"Page\", {\r\n                    title: document.title,\r\n                    page: window.location.href,\r\n                });\r\n                if (document.addEventListener) {\r\n                    document.addEventListener(\"click\", documentClickHandler);\r\n                }\r\n                else {\r\n                    document.attachEvent(\"onclick\", documentClickHandler);\r\n                }\r\n            }\r\n            var startTime = rootSystem.stringMetric(\"StartTime\", (new Date()).toString());\r\n            var urlMetric = rootSystem.stringMetric(\"StartURL\", \"\");\r\n            var appNameMetric = rootSystem.stringMetric(\"AppName\", \"\");\r\n            if (typeof window !== \"undefined\") {\r\n                if (typeof window.location !== \"undefined\") {\r\n                    var startUrl = window.location.href;\r\n                    urlMetric.update(startUrl);\r\n                }\r\n                if (typeof window.glue42gd !== \"undefined\") {\r\n                    appNameMetric.update(window.glue42gd.appName);\r\n                }\r\n            }\r\n        };\r\n        return Repository;\r\n    }());\n\n    var NullProtocol = (function () {\r\n        function NullProtocol() {\r\n        }\r\n        NullProtocol.prototype.init = function (repo) {\r\n        };\r\n        NullProtocol.prototype.createSystem = function (system) {\r\n            return Promise.resolve();\r\n        };\r\n        NullProtocol.prototype.updateSystem = function (metric, state) {\r\n            return Promise.resolve();\r\n        };\r\n        NullProtocol.prototype.createMetric = function (metric) {\r\n            return Promise.resolve();\r\n        };\r\n        NullProtocol.prototype.updateMetric = function (metric) {\r\n            return Promise.resolve();\r\n        };\r\n        return NullProtocol;\r\n    }());\n\n    var PerfTracker = (function () {\r\n        function PerfTracker(api, initialPublishTimeout, publishInterval) {\r\n            this.api = api;\r\n            this.lastCount = 0;\r\n            this.initialPublishTimeout = 10 * 1000;\r\n            this.publishInterval = 60 * 1000;\r\n            this.initialPublishTimeout = initialPublishTimeout !== null && initialPublishTimeout !== void 0 ? initialPublishTimeout : this.initialPublishTimeout;\r\n            this.publishInterval = publishInterval !== null && publishInterval !== void 0 ? publishInterval : this.publishInterval;\r\n            this.scheduleCollection();\r\n            this.system = this.api.subSystem(\"performance\", \"Performance data published by the web application\");\r\n        }\r\n        PerfTracker.prototype.scheduleCollection = function () {\r\n            var _this = this;\r\n            setTimeout(function () {\r\n                _this.collect();\r\n                setInterval(function () {\r\n                    _this.collect();\r\n                }, _this.publishInterval);\r\n            }, this.initialPublishTimeout);\r\n        };\r\n        PerfTracker.prototype.collect = function () {\r\n            try {\r\n                this.collectMemory();\r\n                this.collectEntries();\r\n            }\r\n            catch (_a) {\r\n            }\r\n        };\r\n        PerfTracker.prototype.collectMemory = function () {\r\n            var memory = window.performance.memory;\r\n            this.system.stringMetric(\"memory\", JSON.stringify({\r\n                totalJSHeapSize: memory.totalJSHeapSize,\r\n                usedJSHeapSize: memory.usedJSHeapSize\r\n            }));\r\n        };\r\n        PerfTracker.prototype.collectEntries = function () {\r\n            var allEntries = window.performance.getEntries();\r\n            if (allEntries.length <= this.lastCount) {\r\n                return;\r\n            }\r\n            this.lastCount = allEntries.length;\r\n            this.system.stringMetric(\"entries\", JSON.stringify(allEntries));\r\n        };\r\n        return PerfTracker;\r\n    }());\n\n    var metrics = (function (options) {\r\n        var protocol;\r\n        if (!options.connection || typeof options.connection !== \"object\") {\r\n            protocol = new NullProtocol();\r\n        }\r\n        else {\r\n            protocol = gw3(options.connection, options);\r\n        }\r\n        var repo = new Repository(options, protocol);\r\n        var rootSystem = repo.root;\r\n        if (!options.disableAutoAppSystem) {\r\n            rootSystem = rootSystem.subSystem(\"App\");\r\n        }\r\n        var api = addFAVSupport(rootSystem);\r\n        initPerf(api, options.pagePerformanceMetrics);\r\n        return api;\r\n    });\r\n    var perf;\r\n    function initPerf(api, config) {\r\n        var _a, _b;\r\n        if (typeof window === \"undefined\") {\r\n            return;\r\n        }\r\n        var perfConfig = (_b = (_a = window === null || window === void 0 ? void 0 : window.glue42gd) === null || _a === void 0 ? void 0 : _a.metrics) === null || _b === void 0 ? void 0 : _b.pagePerformanceMetrics;\r\n        if (perfConfig) {\r\n            config = perfConfig;\r\n        }\r\n        if (config === null || config === void 0 ? void 0 : config.enabled) {\r\n            perf = new PerfTracker(api, config.initialPublishTimeout, config.publishInterval);\r\n        }\r\n    }\r\n    function addFAVSupport(system) {\r\n        var reportingSystem = system.subSystem(\"reporting\");\r\n        var def = {\r\n            name: \"features\"\r\n        };\r\n        var featureMetric;\r\n        var featureMetricFunc = function (name, action, payload) {\r\n            if (typeof name === \"undefined\" || name === \"\") {\r\n                throw new Error(\"name is mandatory\");\r\n            }\r\n            else if (typeof action === \"undefined\" || action === \"\") {\r\n                throw new Error(\"action is mandatory\");\r\n            }\r\n            else if (typeof payload === \"undefined\" || payload === \"\") {\r\n                throw new Error(\"payload is mandatory\");\r\n            }\r\n            if (!featureMetric) {\r\n                featureMetric = reportingSystem.objectMetric(def, { name: name, action: action, payload: payload });\r\n            }\r\n            else {\r\n                featureMetric.update({\r\n                    name: name,\r\n                    action: action,\r\n                    payload: payload\r\n                });\r\n            }\r\n        };\r\n        system.featureMetric = featureMetricFunc;\r\n        return system;\r\n    }\n\n    function createRegistry(options) {\r\n        if (options && options.errorHandling\r\n            && typeof options.errorHandling !== \"function\"\r\n            && options.errorHandling !== \"log\"\r\n            && options.errorHandling !== \"silent\"\r\n            && options.errorHandling !== \"throw\") {\r\n            throw new Error(\"Invalid options passed to createRegistry. Prop errorHandling should be [\\\"log\\\" | \\\"silent\\\" | \\\"throw\\\" | (err) => void], but \" + typeof options.errorHandling + \" was passed\");\r\n        }\r\n        var _userErrorHandler = options && typeof options.errorHandling === \"function\" && options.errorHandling;\r\n        var callbacks = {};\r\n        function add(key, callback, replayArgumentsArr) {\r\n            var callbacksForKey = callbacks[key];\r\n            if (!callbacksForKey) {\r\n                callbacksForKey = [];\r\n                callbacks[key] = callbacksForKey;\r\n            }\r\n            callbacksForKey.push(callback);\r\n            if (replayArgumentsArr) {\r\n                setTimeout(function () {\r\n                    replayArgumentsArr.forEach(function (replayArgument) {\r\n                        var _a;\r\n                        if ((_a = callbacks[key]) === null || _a === void 0 ? void 0 : _a.includes(callback)) {\r\n                            try {\r\n                                if (Array.isArray(replayArgument)) {\r\n                                    callback.apply(undefined, replayArgument);\r\n                                }\r\n                                else {\r\n                                    callback.apply(undefined, [replayArgument]);\r\n                                }\r\n                            }\r\n                            catch (err) {\r\n                                _handleError(err, key);\r\n                            }\r\n                        }\r\n                    });\r\n                }, 0);\r\n            }\r\n            return function () {\r\n                var allForKey = callbacks[key];\r\n                if (!allForKey) {\r\n                    return;\r\n                }\r\n                allForKey = allForKey.reduce(function (acc, element, index) {\r\n                    if (!(element === callback && acc.length === index)) {\r\n                        acc.push(element);\r\n                    }\r\n                    return acc;\r\n                }, []);\r\n                if (allForKey.length === 0) {\r\n                    delete callbacks[key];\r\n                }\r\n                else {\r\n                    callbacks[key] = allForKey;\r\n                }\r\n            };\r\n        }\r\n        function execute(key) {\r\n            var argumentsArr = [];\r\n            for (var _i = 1; _i < arguments.length; _i++) {\r\n                argumentsArr[_i - 1] = arguments[_i];\r\n            }\r\n            var callbacksForKey = callbacks[key];\r\n            if (!callbacksForKey || callbacksForKey.length === 0) {\r\n                return [];\r\n            }\r\n            var results = [];\r\n            callbacksForKey.forEach(function (callback) {\r\n                try {\r\n                    var result = callback.apply(undefined, argumentsArr);\r\n                    results.push(result);\r\n                }\r\n                catch (err) {\r\n                    results.push(undefined);\r\n                    _handleError(err, key);\r\n                }\r\n            });\r\n            return results;\r\n        }\r\n        function _handleError(exceptionArtifact, key) {\r\n            var errParam = exceptionArtifact instanceof Error ? exceptionArtifact : new Error(exceptionArtifact);\r\n            if (_userErrorHandler) {\r\n                _userErrorHandler(errParam);\r\n                return;\r\n            }\r\n            var msg = \"[ERROR] callback-registry: User callback for key \\\"\" + key + \"\\\" failed: \" + errParam.stack;\r\n            if (options) {\r\n                switch (options.errorHandling) {\r\n                    case \"log\":\r\n                        return console.error(msg);\r\n                    case \"silent\":\r\n                        return;\r\n                    case \"throw\":\r\n                        throw new Error(msg);\r\n                }\r\n            }\r\n            console.error(msg);\r\n        }\r\n        function clear() {\r\n            callbacks = {};\r\n        }\r\n        function clearKey(key) {\r\n            var callbacksForKey = callbacks[key];\r\n            if (!callbacksForKey) {\r\n                return;\r\n            }\r\n            delete callbacks[key];\r\n        }\r\n        return {\r\n            add: add,\r\n            execute: execute,\r\n            clear: clear,\r\n            clearKey: clearKey\r\n        };\r\n    }\r\n    createRegistry.default = createRegistry;\r\n    var lib = createRegistry;\n\n    var InProcTransport = (function () {\r\n        function InProcTransport(settings, logger) {\r\n            var _this = this;\r\n            this.registry = lib();\r\n            this.gw = settings.facade;\r\n            this.gw.connect(function (_client, message) {\r\n                _this.messageHandler(message);\r\n            }).then(function (client) {\r\n                _this.client = client;\r\n            });\r\n        }\r\n        Object.defineProperty(InProcTransport.prototype, \"isObjectBasedTransport\", {\r\n            get: function () {\r\n                return true;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        InProcTransport.prototype.sendObject = function (msg) {\r\n            if (this.client) {\r\n                this.client.send(msg);\r\n                return Promise.resolve(undefined);\r\n            }\r\n            else {\r\n                return Promise.reject(\"not connected\");\r\n            }\r\n        };\r\n        InProcTransport.prototype.send = function (_msg) {\r\n            return Promise.reject(\"not supported\");\r\n        };\r\n        InProcTransport.prototype.onMessage = function (callback) {\r\n            return this.registry.add(\"onMessage\", callback);\r\n        };\r\n        InProcTransport.prototype.onConnectedChanged = function (callback) {\r\n            callback(true);\r\n        };\r\n        InProcTransport.prototype.close = function () {\r\n            return Promise.resolve();\r\n        };\r\n        InProcTransport.prototype.open = function () {\r\n            return Promise.resolve();\r\n        };\r\n        InProcTransport.prototype.name = function () {\r\n            return \"in-memory\";\r\n        };\r\n        InProcTransport.prototype.reconnect = function () {\r\n            return Promise.resolve();\r\n        };\r\n        InProcTransport.prototype.messageHandler = function (msg) {\r\n            this.registry.execute(\"onMessage\", msg);\r\n        };\r\n        return InProcTransport;\r\n    }());\n\n    var SharedWorkerTransport = (function () {\r\n        function SharedWorkerTransport(workerFile, logger) {\r\n            var _this = this;\r\n            this.logger = logger;\r\n            this.registry = lib();\r\n            this.worker = new SharedWorker(workerFile);\r\n            this.worker.port.onmessage = function (e) {\r\n                _this.messageHandler(e.data);\r\n            };\r\n        }\r\n        Object.defineProperty(SharedWorkerTransport.prototype, \"isObjectBasedTransport\", {\r\n            get: function () {\r\n                return true;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        SharedWorkerTransport.prototype.sendObject = function (msg) {\r\n            this.worker.port.postMessage(msg);\r\n            return Promise.resolve();\r\n        };\r\n        SharedWorkerTransport.prototype.send = function (_msg) {\r\n            return Promise.reject(\"not supported\");\r\n        };\r\n        SharedWorkerTransport.prototype.onMessage = function (callback) {\r\n            return this.registry.add(\"onMessage\", callback);\r\n        };\r\n        SharedWorkerTransport.prototype.onConnectedChanged = function (callback) {\r\n            callback(true);\r\n        };\r\n        SharedWorkerTransport.prototype.close = function () {\r\n            return Promise.resolve();\r\n        };\r\n        SharedWorkerTransport.prototype.open = function () {\r\n            return Promise.resolve();\r\n        };\r\n        SharedWorkerTransport.prototype.name = function () {\r\n            return \"shared-worker\";\r\n        };\r\n        SharedWorkerTransport.prototype.reconnect = function () {\r\n            return Promise.resolve();\r\n        };\r\n        SharedWorkerTransport.prototype.messageHandler = function (msg) {\r\n            this.registry.execute(\"onMessage\", msg);\r\n        };\r\n        return SharedWorkerTransport;\r\n    }());\n\n    var Utils = (function () {\r\n        function Utils() {\r\n        }\r\n        Utils.getGDMajorVersion = function () {\r\n            if (typeof window === \"undefined\") {\r\n                return undefined;\r\n            }\r\n            if (!window.glueDesktop) {\r\n                return undefined;\r\n            }\r\n            if (!window.glueDesktop.version) {\r\n                return undefined;\r\n            }\r\n            var ver = Number(window.glueDesktop.version.substr(0, 1));\r\n            return isNaN(ver) ? undefined : ver;\r\n        };\r\n        Utils.isNode = function () {\r\n            if (typeof Utils._isNode !== \"undefined\") {\r\n                return Utils._isNode;\r\n            }\r\n            if (typeof window !== \"undefined\") {\r\n                Utils._isNode = false;\r\n                return false;\r\n            }\r\n            try {\r\n                Utils._isNode = Object.prototype.toString.call(global.process) === \"[object process]\";\r\n            }\r\n            catch (e) {\r\n                Utils._isNode = false;\r\n            }\r\n            return Utils._isNode;\r\n        };\r\n        return Utils;\r\n    }());\n\n    var PromiseWrapper = (function () {\r\n        function PromiseWrapper() {\r\n            var _this = this;\r\n            this.rejected = false;\r\n            this.resolved = false;\r\n            this.promise = new Promise(function (resolve, reject) {\r\n                _this.resolve = function (t) {\r\n                    _this.resolved = true;\r\n                    resolve(t);\r\n                };\r\n                _this.reject = function (err) {\r\n                    _this.rejected = true;\r\n                    reject(err);\r\n                };\r\n            });\r\n        }\r\n        PromiseWrapper.delay = function (time) {\r\n            return new Promise(function (resolve) { return setTimeout(resolve, time); });\r\n        };\r\n        Object.defineProperty(PromiseWrapper.prototype, \"ended\", {\r\n            get: function () {\r\n                return this.rejected || this.resolved;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        return PromiseWrapper;\r\n    }());\n\n    var timers = {};\r\n    function getAllTimers() {\r\n        return timers;\r\n    }\r\n    function timer (timerName) {\r\n        var existing = timers[timerName];\r\n        if (existing) {\r\n            return existing;\r\n        }\r\n        var marks = [];\r\n        function now() {\r\n            return new Date().getTime();\r\n        }\r\n        var startTime = now();\r\n        mark(\"start\", startTime);\r\n        var endTime;\r\n        var period;\r\n        function stop() {\r\n            endTime = now();\r\n            mark(\"end\", endTime);\r\n            period = endTime - startTime;\r\n            return period;\r\n        }\r\n        function mark(name, time) {\r\n            var currentTime = time !== null && time !== void 0 ? time : now();\r\n            var diff = 0;\r\n            if (marks.length > 0) {\r\n                diff = currentTime - marks[marks.length - 1].time;\r\n            }\r\n            marks.push({ name: name, time: currentTime, diff: diff });\r\n        }\r\n        var timerObj = {\r\n            get startTime() {\r\n                return startTime;\r\n            },\r\n            get endTime() {\r\n                return endTime;\r\n            },\r\n            get period() {\r\n                return period;\r\n            },\r\n            stop: stop,\r\n            mark: mark,\r\n            marks: marks\r\n        };\r\n        timers[timerName] = timerObj;\r\n        return timerObj;\r\n    }\n\n    var WebSocketConstructor = Utils.isNode() ? null : window.WebSocket;\r\n    var WS = (function () {\r\n        function WS(settings, logger) {\r\n            this.startupTimer = timer(\"connection\");\r\n            this._running = true;\r\n            this._registry = lib();\r\n            this.wsRequests = [];\r\n            this.settings = settings;\r\n            this.logger = logger;\r\n            if (!this.settings.ws) {\r\n                throw new Error(\"ws is missing\");\r\n            }\r\n        }\r\n        WS.prototype.onMessage = function (callback) {\r\n            return this._registry.add(\"onMessage\", callback);\r\n        };\r\n        WS.prototype.send = function (msg, options) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.waitForSocketConnection(function () {\r\n                    var _a;\r\n                    try {\r\n                        (_a = _this.ws) === null || _a === void 0 ? void 0 : _a.send(msg);\r\n                        resolve();\r\n                    }\r\n                    catch (e) {\r\n                        reject(e);\r\n                    }\r\n                }, reject);\r\n            });\r\n        };\r\n        WS.prototype.open = function () {\r\n            var _this = this;\r\n            this.logger.info(\"opening ws...\");\r\n            this._running = true;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.waitForSocketConnection(resolve, reject);\r\n            });\r\n        };\r\n        WS.prototype.close = function () {\r\n            this._running = false;\r\n            if (this.ws) {\r\n                this.ws.close();\r\n            }\r\n            return Promise.resolve();\r\n        };\r\n        WS.prototype.onConnectedChanged = function (callback) {\r\n            return this._registry.add(\"onConnectedChanged\", callback);\r\n        };\r\n        WS.prototype.name = function () {\r\n            return \"ws \" + this.settings.ws;\r\n        };\r\n        WS.prototype.reconnect = function () {\r\n            var _a;\r\n            (_a = this.ws) === null || _a === void 0 ? void 0 : _a.close();\r\n            var pw = new PromiseWrapper();\r\n            this.waitForSocketConnection(function () {\r\n                pw.resolve();\r\n            });\r\n            return pw.promise;\r\n        };\r\n        WS.prototype.waitForSocketConnection = function (callback, failed) {\r\n            var _a;\r\n            failed = failed !== null && failed !== void 0 ? failed : (function () { });\r\n            if (!this._running) {\r\n                failed(\"wait for socket on \" + this.settings.ws + \" failed - socket closed by user\");\r\n                return;\r\n            }\r\n            if (((_a = this.ws) === null || _a === void 0 ? void 0 : _a.readyState) === 1) {\r\n                callback();\r\n                return;\r\n            }\r\n            this.wsRequests.push({ callback: callback, failed: failed });\r\n            if (this.wsRequests.length > 1) {\r\n                return;\r\n            }\r\n            this.openSocket();\r\n        };\r\n        WS.prototype.openSocket = function (retryInterval, retriesLeft) {\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var _a;\r\n                var _this = this;\r\n                return __generator$1(this, function (_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            this.startupTimer.mark(\"opening-socket\");\r\n                            if (retryInterval === undefined) {\r\n                                retryInterval = this.settings.reconnectInterval;\r\n                            }\r\n                            if (retriesLeft !== undefined) {\r\n                                if (retriesLeft === 0) {\r\n                                    this.notifyForSocketState(\"wait for socket on \" + this.settings.ws + \" failed - no more retries left\");\r\n                                    return [2];\r\n                                }\r\n                                this.logger.debug(\"will retry \" + retriesLeft + \" more times (every \" + retryInterval + \" ms)\");\r\n                            }\r\n                            _b.label = 1;\r\n                        case 1:\r\n                            _b.trys.push([1, 3, , 4]);\r\n                            return [4, this.initiateSocket()];\r\n                        case 2:\r\n                            _b.sent();\r\n                            this.startupTimer.mark(\"socket-initiated\");\r\n                            this.notifyForSocketState();\r\n                            return [3, 4];\r\n                        case 3:\r\n                            _a = _b.sent();\r\n                            setTimeout(function () {\r\n                                var retries = retriesLeft === undefined ? undefined : retriesLeft - 1;\r\n                                _this.openSocket(retryInterval, retries);\r\n                            }, retryInterval);\r\n                            return [3, 4];\r\n                        case 4: return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        WS.prototype.initiateSocket = function () {\r\n            var _this = this;\r\n            var pw = new PromiseWrapper();\r\n            this.logger.debug(\"initiating ws to \" + this.settings.ws + \"...\");\r\n            this.ws = new WebSocketConstructor(this.settings.ws || \"\");\r\n            this.ws.onerror = function (err) {\r\n                var reason = \"\";\r\n                try {\r\n                    reason = JSON.stringify(err);\r\n                }\r\n                catch (error) {\r\n                    var seen_1 = new WeakSet();\r\n                    var replacer = function (key, value) {\r\n                        if (typeof value === \"object\" && value !== null) {\r\n                            if (seen_1.has(value)) {\r\n                                return;\r\n                            }\r\n                            seen_1.add(value);\r\n                        }\r\n                        return value;\r\n                    };\r\n                    reason = JSON.stringify(err, replacer);\r\n                }\r\n                pw.reject(\"error\");\r\n                _this.notifyStatusChanged(false, reason);\r\n            };\r\n            this.ws.onclose = function (err) {\r\n                _this.logger.info(\"ws closed \" + err);\r\n                pw.reject(\"closed\");\r\n                _this.notifyStatusChanged(false);\r\n            };\r\n            this.ws.onopen = function () {\r\n                var _a;\r\n                _this.startupTimer.mark(\"ws-opened\");\r\n                _this.logger.info(\"ws opened \" + ((_a = _this.settings.identity) === null || _a === void 0 ? void 0 : _a.application));\r\n                pw.resolve();\r\n                _this.notifyStatusChanged(true);\r\n            };\r\n            this.ws.onmessage = function (message) {\r\n                _this._registry.execute(\"onMessage\", message.data);\r\n            };\r\n            return pw.promise;\r\n        };\r\n        WS.prototype.notifyForSocketState = function (error) {\r\n            this.wsRequests.forEach(function (wsRequest) {\r\n                if (error) {\r\n                    if (wsRequest.failed) {\r\n                        wsRequest.failed(error);\r\n                    }\r\n                }\r\n                else {\r\n                    wsRequest.callback();\r\n                }\r\n            });\r\n            this.wsRequests = [];\r\n        };\r\n        WS.prototype.notifyStatusChanged = function (status, reason) {\r\n            this._registry.execute(\"onConnectedChanged\", status, reason);\r\n        };\r\n        return WS;\r\n    }());\n\n    function createCommonjsModule(fn, module) {\n    \treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n    }\n\n    // Found this seed-based random generator somewhere\n    // Based on The Central Randomizer 1.3 (C) 1997 by Paul Houle (houle@msc.cornell.edu)\n\n    var seed = 1;\n\n    /**\n     * return a random number based on a seed\n     * @param seed\n     * @returns {number}\n     */\n    function getNextValue() {\n        seed = (seed * 9301 + 49297) % 233280;\n        return seed/(233280.0);\n    }\n\n    function setSeed(_seed_) {\n        seed = _seed_;\n    }\n\n    var randomFromSeed = {\n        nextValue: getNextValue,\n        seed: setSeed\n    };\n\n    var ORIGINAL = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-';\n    var alphabet;\n    var previousSeed;\n\n    var shuffled;\n\n    function reset() {\n        shuffled = false;\n    }\n\n    function setCharacters(_alphabet_) {\n        if (!_alphabet_) {\n            if (alphabet !== ORIGINAL) {\n                alphabet = ORIGINAL;\n                reset();\n            }\n            return;\n        }\n\n        if (_alphabet_ === alphabet) {\n            return;\n        }\n\n        if (_alphabet_.length !== ORIGINAL.length) {\n            throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. You submitted ' + _alphabet_.length + ' characters: ' + _alphabet_);\n        }\n\n        var unique = _alphabet_.split('').filter(function(item, ind, arr){\n           return ind !== arr.lastIndexOf(item);\n        });\n\n        if (unique.length) {\n            throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. These characters were not unique: ' + unique.join(', '));\n        }\n\n        alphabet = _alphabet_;\n        reset();\n    }\n\n    function characters(_alphabet_) {\n        setCharacters(_alphabet_);\n        return alphabet;\n    }\n\n    function setSeed$1(seed) {\n        randomFromSeed.seed(seed);\n        if (previousSeed !== seed) {\n            reset();\n            previousSeed = seed;\n        }\n    }\n\n    function shuffle() {\n        if (!alphabet) {\n            setCharacters(ORIGINAL);\n        }\n\n        var sourceArray = alphabet.split('');\n        var targetArray = [];\n        var r = randomFromSeed.nextValue();\n        var characterIndex;\n\n        while (sourceArray.length > 0) {\n            r = randomFromSeed.nextValue();\n            characterIndex = Math.floor(r * sourceArray.length);\n            targetArray.push(sourceArray.splice(characterIndex, 1)[0]);\n        }\n        return targetArray.join('');\n    }\n\n    function getShuffled() {\n        if (shuffled) {\n            return shuffled;\n        }\n        shuffled = shuffle();\n        return shuffled;\n    }\n\n    /**\n     * lookup shuffled letter\n     * @param index\n     * @returns {string}\n     */\n    function lookup(index) {\n        var alphabetShuffled = getShuffled();\n        return alphabetShuffled[index];\n    }\n\n    var alphabet_1 = {\n        characters: characters,\n        seed: setSeed$1,\n        lookup: lookup,\n        shuffled: getShuffled\n    };\n\n    var crypto = typeof window === 'object' && (window.crypto || window.msCrypto); // IE 11 uses window.msCrypto\n\n    function randomByte() {\n        if (!crypto || !crypto.getRandomValues) {\n            return Math.floor(Math.random() * 256) & 0x30;\n        }\n        var dest = new Uint8Array(1);\n        crypto.getRandomValues(dest);\n        return dest[0] & 0x30;\n    }\n\n    var randomByteBrowser = randomByte;\n\n    function encode(lookup, number) {\n        var loopCounter = 0;\n        var done;\n\n        var str = '';\n\n        while (!done) {\n            str = str + lookup( ( (number >> (4 * loopCounter)) & 0x0f ) | randomByteBrowser() );\n            done = number < (Math.pow(16, loopCounter + 1 ) );\n            loopCounter++;\n        }\n        return str;\n    }\n\n    var encode_1 = encode;\n\n    /**\n     * Decode the id to get the version and worker\n     * Mainly for debugging and testing.\n     * @param id - the shortid-generated id.\n     */\n    function decode(id) {\n        var characters = alphabet_1.shuffled();\n        return {\n            version: characters.indexOf(id.substr(0, 1)) & 0x0f,\n            worker: characters.indexOf(id.substr(1, 1)) & 0x0f\n        };\n    }\n\n    var decode_1 = decode;\n\n    function isShortId(id) {\n        if (!id || typeof id !== 'string' || id.length < 6 ) {\n            return false;\n        }\n\n        var characters = alphabet_1.characters();\n        var len = id.length;\n        for(var i = 0; i < len;i++) {\n            if (characters.indexOf(id[i]) === -1) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    var isValid = isShortId;\n\n    var lib$1 = createCommonjsModule(function (module) {\n\n\n\n\n\n\n    // Ignore all milliseconds before a certain time to reduce the size of the date entropy without sacrificing uniqueness.\n    // This number should be updated every year or so to keep the generated id short.\n    // To regenerate `new Date() - 0` and bump the version. Always bump the version!\n    var REDUCE_TIME = 1459707606518;\n\n    // don't change unless we change the algos or REDUCE_TIME\n    // must be an integer and less than 16\n    var version = 6;\n\n    // if you are using cluster or multiple servers use this to make each instance\n    // has a unique value for worker\n    // Note: I don't know if this is automatically set when using third\n    // party cluster solutions such as pm2.\n    var clusterWorkerId =  0;\n\n    // Counter is used when shortid is called multiple times in one second.\n    var counter;\n\n    // Remember the last time shortid was called in case counter is needed.\n    var previousSeconds;\n\n    /**\n     * Generate unique id\n     * Returns string id\n     */\n    function generate() {\n\n        var str = '';\n\n        var seconds = Math.floor((Date.now() - REDUCE_TIME) * 0.001);\n\n        if (seconds === previousSeconds) {\n            counter++;\n        } else {\n            counter = 0;\n            previousSeconds = seconds;\n        }\n\n        str = str + encode_1(alphabet_1.lookup, version);\n        str = str + encode_1(alphabet_1.lookup, clusterWorkerId);\n        if (counter > 0) {\n            str = str + encode_1(alphabet_1.lookup, counter);\n        }\n        str = str + encode_1(alphabet_1.lookup, seconds);\n\n        return str;\n    }\n\n\n    /**\n     * Set the seed.\n     * Highly recommended if you don't want people to try to figure out your id schema.\n     * exposed as shortid.seed(int)\n     * @param seed Integer value to seed the random alphabet.  ALWAYS USE THE SAME SEED or you might get overlaps.\n     */\n    function seed(seedValue) {\n        alphabet_1.seed(seedValue);\n        return module.exports;\n    }\n\n    /**\n     * Set the cluster worker or machine id\n     * exposed as shortid.worker(int)\n     * @param workerId worker must be positive integer.  Number less than 16 is recommended.\n     * returns shortid module so it can be chained.\n     */\n    function worker(workerId) {\n        clusterWorkerId = workerId;\n        return module.exports;\n    }\n\n    /**\n     *\n     * sets new characters to use in the alphabet\n     * returns the shuffled alphabet\n     */\n    function characters(newCharacters) {\n        if (newCharacters !== undefined) {\n            alphabet_1.characters(newCharacters);\n        }\n\n        return alphabet_1.shuffled();\n    }\n\n\n    // Export all other functions as properties of the generate function\n    module.exports = generate;\n    module.exports.generate = generate;\n    module.exports.seed = seed;\n    module.exports.worker = worker;\n    module.exports.characters = characters;\n    module.exports.decode = decode_1;\n    module.exports.isValid = isValid;\n    });\n    var lib_1 = lib$1.generate;\n    var lib_2 = lib$1.seed;\n    var lib_3 = lib$1.worker;\n    var lib_4 = lib$1.characters;\n    var lib_5 = lib$1.decode;\n    var lib_6 = lib$1.isValid;\n\n    var shortid = lib$1;\n\n    function domainSession (domain, connection, logger, successMessages, errorMessages) {\r\n        if (domain == null) {\r\n            domain = \"global\";\r\n        }\r\n        successMessages = successMessages || [\"success\"];\r\n        errorMessages = errorMessages || [\"error\"];\r\n        var isJoined = false;\r\n        var tryReconnecting = false;\r\n        var _latestOptions;\r\n        var _connectionOn = false;\r\n        var callbacks = lib();\r\n        connection.disconnected(handleConnectionDisconnected);\r\n        connection.loggedIn(handleConnectionLoggedIn);\r\n        connection.on(\"success\", function (msg) { return handleSuccessMessage(msg); });\r\n        connection.on(\"error\", function (msg) { return handleErrorMessage(msg); });\r\n        connection.on(\"result\", function (msg) { return handleSuccessMessage(msg); });\r\n        if (successMessages) {\r\n            successMessages.forEach(function (sm) {\r\n                connection.on(sm, function (msg) { return handleSuccessMessage(msg); });\r\n            });\r\n        }\r\n        if (errorMessages) {\r\n            errorMessages.forEach(function (sm) {\r\n                connection.on(sm, function (msg) { return handleErrorMessage(msg); });\r\n            });\r\n        }\r\n        var requestsMap = {};\r\n        function join(options) {\r\n            _latestOptions = options;\r\n            return new Promise(function (resolve, reject) {\r\n                if (isJoined) {\r\n                    resolve();\r\n                    return;\r\n                }\r\n                var joinPromise;\r\n                if (domain === \"global\") {\r\n                    joinPromise = _connectionOn ? Promise.resolve({}) : Promise.reject(\"not connected to gateway\");\r\n                }\r\n                else {\r\n                    logger.debug(\"joining domain \" + domain);\r\n                    var joinMsg = {\r\n                        type: \"join\",\r\n                        destination: domain,\r\n                        domain: \"global\",\r\n                        options: options,\r\n                    };\r\n                    joinPromise = send(joinMsg);\r\n                }\r\n                joinPromise\r\n                    .then(function () {\r\n                    handleJoined();\r\n                    resolve();\r\n                })\r\n                    .catch(function (err) {\r\n                    logger.debug(\"error joining \" + domain + \" domain: \" + JSON.stringify(err));\r\n                    reject(err);\r\n                });\r\n            });\r\n        }\r\n        function leave() {\r\n            if (domain === \"global\") {\r\n                return Promise.resolve();\r\n            }\r\n            logger.debug(\"stopping session \" + domain + \"...\");\r\n            var leaveMsg = {\r\n                type: \"leave\",\r\n                destination: domain,\r\n                domain: \"global\",\r\n            };\r\n            tryReconnecting = false;\r\n            return send(leaveMsg).then(function () {\r\n                isJoined = false;\r\n                callbacks.execute(\"onLeft\");\r\n            });\r\n        }\r\n        function handleJoined() {\r\n            logger.debug(\"did join \" + domain);\r\n            isJoined = true;\r\n            var wasReconnect = tryReconnecting;\r\n            tryReconnecting = false;\r\n            callbacks.execute(\"onJoined\", wasReconnect);\r\n        }\r\n        function handleConnectionDisconnected() {\r\n            _connectionOn = false;\r\n            logger.debug(\"connection is down\");\r\n            isJoined = false;\r\n            tryReconnecting = true;\r\n            callbacks.execute(\"onLeft\", { disconnected: true });\r\n        }\r\n        function handleConnectionLoggedIn() {\r\n            _connectionOn = true;\r\n            if (tryReconnecting) {\r\n                logger.debug(\"connection is now up - trying to reconnect...\");\r\n                join(_latestOptions);\r\n            }\r\n        }\r\n        function onJoined(callback) {\r\n            if (isJoined) {\r\n                callback(false);\r\n            }\r\n            return callbacks.add(\"onJoined\", callback);\r\n        }\r\n        function onLeft(callback) {\r\n            if (!isJoined) {\r\n                callback();\r\n            }\r\n            return callbacks.add(\"onLeft\", callback);\r\n        }\r\n        function handleErrorMessage(msg) {\r\n            if (domain !== msg.domain) {\r\n                return;\r\n            }\r\n            var requestId = msg.request_id;\r\n            if (!requestId) {\r\n                return;\r\n            }\r\n            var entry = requestsMap[requestId];\r\n            if (!entry) {\r\n                return;\r\n            }\r\n            entry.error(msg);\r\n        }\r\n        function handleSuccessMessage(msg) {\r\n            if (msg.domain !== domain) {\r\n                return;\r\n            }\r\n            var requestId = msg.request_id;\r\n            if (!requestId) {\r\n                return;\r\n            }\r\n            var entry = requestsMap[requestId];\r\n            if (!entry) {\r\n                return;\r\n            }\r\n            entry.success(msg);\r\n        }\r\n        function getNextRequestId() {\r\n            return shortid();\r\n        }\r\n        function send(msg, tag, options) {\r\n            options = options || {};\r\n            msg.request_id = msg.request_id || getNextRequestId();\r\n            msg.domain = msg.domain || domain;\r\n            if (!options.skipPeerId) {\r\n                msg.peer_id = connection.peerId;\r\n            }\r\n            var requestId = msg.request_id;\r\n            return new Promise(function (resolve, reject) {\r\n                requestsMap[requestId] = {\r\n                    success: function (successMsg) {\r\n                        delete requestsMap[requestId];\r\n                        successMsg._tag = tag;\r\n                        resolve(successMsg);\r\n                    },\r\n                    error: function (errorMsg) {\r\n                        logger.warn(\"GW error - \" + JSON.stringify(errorMsg) + \" for request \" + JSON.stringify(msg));\r\n                        delete requestsMap[requestId];\r\n                        errorMsg._tag = tag;\r\n                        reject(errorMsg);\r\n                    },\r\n                };\r\n                connection\r\n                    .send(msg, options)\r\n                    .catch(function (err) {\r\n                    requestsMap[requestId].error({ err: err });\r\n                });\r\n            });\r\n        }\r\n        function sendFireAndForget(msg) {\r\n            msg.request_id = msg.request_id ? msg.request_id : getNextRequestId();\r\n            msg.domain = msg.domain || domain;\r\n            msg.peer_id = connection.peerId;\r\n            return connection.send(msg);\r\n        }\r\n        return {\r\n            join: join,\r\n            leave: leave,\r\n            onJoined: onJoined,\r\n            onLeft: onLeft,\r\n            send: send,\r\n            sendFireAndForget: sendFireAndForget,\r\n            on: function (type, callback) {\r\n                connection.on(type, function (msg) {\r\n                    if (msg.domain !== domain) {\r\n                        return;\r\n                    }\r\n                    try {\r\n                        callback(msg);\r\n                    }\r\n                    catch (e) {\r\n                        logger.error(\"Callback  failed: \" + e + \" \\n \" + e.stack + \" \\n msg was: \" + JSON.stringify(msg), e);\r\n                    }\r\n                });\r\n            },\r\n            loggedIn: function (callback) { return connection.loggedIn(callback); },\r\n            connected: function (callback) { return connection.connected(callback); },\r\n            disconnected: function (callback) { return connection.disconnected(callback); },\r\n            get peerId() {\r\n                return connection.peerId;\r\n            },\r\n            get domain() {\r\n                return domain;\r\n            },\r\n        };\r\n    }\n\n    var GW3ProtocolImpl = (function () {\r\n        function GW3ProtocolImpl(connection, settings, logger) {\r\n            var _this = this;\r\n            this.connection = connection;\r\n            this.settings = settings;\r\n            this.logger = logger;\r\n            this.protocolVersion = 3;\r\n            this.datePrefix = \"#T42_DATE#\";\r\n            this.datePrefixLen = this.datePrefix.length;\r\n            this.dateMinLen = this.datePrefixLen + 1;\r\n            this.datePrefixFirstChar = this.datePrefix[0];\r\n            this.registry = lib();\r\n            this._isLoggedIn = false;\r\n            this.shouldTryLogin = true;\r\n            this.initialLogin = true;\r\n            this.initialLoginAttempts = 3;\r\n            this.sessions = [];\r\n            connection.disconnected(function () {\r\n                _this.handleDisconnected();\r\n            });\r\n            this.ping();\r\n        }\r\n        Object.defineProperty(GW3ProtocolImpl.prototype, \"isLoggedIn\", {\r\n            get: function () {\r\n                return this._isLoggedIn;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        GW3ProtocolImpl.prototype.processStringMessage = function (message) {\r\n            var _this = this;\r\n            var msg = JSON.parse(message, function (key, value) {\r\n                if (typeof value !== \"string\") {\r\n                    return value;\r\n                }\r\n                if (value.length < _this.dateMinLen) {\r\n                    return value;\r\n                }\r\n                if (value[0] !== _this.datePrefixFirstChar) {\r\n                    return value;\r\n                }\r\n                if (value.substring(0, _this.datePrefixLen) !== _this.datePrefix) {\r\n                    return value;\r\n                }\r\n                try {\r\n                    var milliseconds = parseInt(value.substring(_this.datePrefixLen, value.length), 10);\r\n                    if (isNaN(milliseconds)) {\r\n                        return value;\r\n                    }\r\n                    return new Date(milliseconds);\r\n                }\r\n                catch (ex) {\r\n                    return value;\r\n                }\r\n            });\r\n            return {\r\n                msg: msg,\r\n                msgType: msg.type,\r\n            };\r\n        };\r\n        GW3ProtocolImpl.prototype.createStringMessage = function (message) {\r\n            var oldToJson = Date.prototype.toJSON;\r\n            try {\r\n                var datePrefix_1 = this.datePrefix;\r\n                Date.prototype.toJSON = function () {\r\n                    return datePrefix_1 + this.getTime();\r\n                };\r\n                var result = JSON.stringify(message);\r\n                return result;\r\n            }\r\n            finally {\r\n                Date.prototype.toJSON = oldToJson;\r\n            }\r\n        };\r\n        GW3ProtocolImpl.prototype.processObjectMessage = function (message) {\r\n            if (!message.type) {\r\n                throw new Error(\"Object should have type property\");\r\n            }\r\n            return {\r\n                msg: message,\r\n                msgType: message.type,\r\n            };\r\n        };\r\n        GW3ProtocolImpl.prototype.createObjectMessage = function (message) {\r\n            return message;\r\n        };\r\n        GW3ProtocolImpl.prototype.login = function (config, reconnect) {\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var authentication, token, e_1, _a, helloMsg, sendOptions, welcomeMsg, msg, token, _b, err_1;\r\n                return __generator$1(this, function (_c) {\r\n                    switch (_c.label) {\r\n                        case 0:\r\n                            this.logger.debug(\"logging in...\");\r\n                            this.loginConfig = config;\r\n                            if (!this.loginConfig) {\r\n                                this.loginConfig = { username: \"\", password: \"\" };\r\n                            }\r\n                            this.shouldTryLogin = true;\r\n                            authentication = {};\r\n                            this.connection.gatewayToken = config.gatewayToken;\r\n                            if (!config.gatewayToken) return [3, 5];\r\n                            if (!reconnect) return [3, 4];\r\n                            _c.label = 1;\r\n                        case 1:\r\n                            _c.trys.push([1, 3, , 4]);\r\n                            return [4, this.getNewGWToken()];\r\n                        case 2:\r\n                            token = _c.sent();\r\n                            config.gatewayToken = token;\r\n                            return [3, 4];\r\n                        case 3:\r\n                            e_1 = _c.sent();\r\n                            this.logger.warn(\"failed to get GW token when reconnecting \" + ((e_1 === null || e_1 === void 0 ? void 0 : e_1.message) || e_1));\r\n                            return [3, 4];\r\n                        case 4:\r\n                            authentication.method = \"gateway-token\";\r\n                            authentication.token = config.gatewayToken;\r\n                            this.connection.gatewayToken = config.gatewayToken;\r\n                            return [3, 10];\r\n                        case 5:\r\n                            if (!(config.flowName === \"sspi\")) return [3, 9];\r\n                            authentication.provider = \"win\";\r\n                            authentication.method = \"access-token\";\r\n                            if (!(config.flowCallback && config.sessionId)) return [3, 7];\r\n                            _a = authentication;\r\n                            return [4, config.flowCallback(config.sessionId, null)];\r\n                        case 6:\r\n                            _a.token =\r\n                                (_c.sent())\r\n                                    .data\r\n                                    .toString(\"base64\");\r\n                            return [3, 8];\r\n                        case 7: throw new Error(\"Invalid SSPI config\");\r\n                        case 8: return [3, 10];\r\n                        case 9:\r\n                            if (config.token) {\r\n                                authentication.method = \"access-token\";\r\n                                authentication.token = config.token;\r\n                            }\r\n                            else if (config.username) {\r\n                                authentication.method = \"secret\";\r\n                                authentication.login = config.username;\r\n                                authentication.secret = config.password;\r\n                            }\r\n                            else {\r\n                                throw new Error(\"invalid auth message\" + JSON.stringify(config));\r\n                            }\r\n                            _c.label = 10;\r\n                        case 10:\r\n                            helloMsg = {\r\n                                type: \"hello\",\r\n                                identity: this.settings.identity,\r\n                                authentication: authentication\r\n                            };\r\n                            if (config.sessionId) {\r\n                                helloMsg.request_id = config.sessionId;\r\n                            }\r\n                            this.globalDomain = domainSession(\"global\", this.connection, this.logger.subLogger(\"global-domain\"), [\r\n                                \"welcome\",\r\n                                \"token\",\r\n                                \"authentication-request\"\r\n                            ]);\r\n                            sendOptions = { skipPeerId: true };\r\n                            if (this.initialLogin) {\r\n                                sendOptions.retryInterval = this.settings.reconnectInterval;\r\n                                sendOptions.maxRetries = this.settings.reconnectAttempts;\r\n                            }\r\n                            _c.label = 11;\r\n                        case 11:\r\n                            _c.trys.push([11, 19, 20, 21]);\r\n                            welcomeMsg = void 0;\r\n                            _c.label = 12;\r\n                        case 12:\r\n                            return [4, this.globalDomain.send(helloMsg, undefined, sendOptions)];\r\n                        case 13:\r\n                            msg = _c.sent();\r\n                            if (!(msg.type === \"authentication-request\")) return [3, 16];\r\n                            token = Buffer.from(msg.authentication.token, \"base64\");\r\n                            if (!(config.flowCallback && config.sessionId)) return [3, 15];\r\n                            _b = helloMsg.authentication;\r\n                            return [4, config.flowCallback(config.sessionId, token)];\r\n                        case 14:\r\n                            _b.token =\r\n                                (_c.sent())\r\n                                    .data\r\n                                    .toString(\"base64\");\r\n                            _c.label = 15;\r\n                        case 15:\r\n                            helloMsg.request_id = config.sessionId;\r\n                            return [3, 12];\r\n                        case 16:\r\n                            if (msg.type === \"welcome\") {\r\n                                welcomeMsg = msg;\r\n                                return [3, 18];\r\n                            }\r\n                            else if (msg.type === \"error\") {\r\n                                throw new Error(\"Authentication failed: \" + msg.reason);\r\n                            }\r\n                            else {\r\n                                throw new Error(\"Unexpected message type during authentication: \" + msg.type);\r\n                            }\r\n                        case 17: return [3, 12];\r\n                        case 18:\r\n                            this.initialLogin = false;\r\n                            this.logger.info(\"login successful with peerId \" + welcomeMsg.peer_id);\r\n                            this.connection.peerId = welcomeMsg.peer_id;\r\n                            this.connection.resolvedIdentity = welcomeMsg.resolved_identity;\r\n                            this.connection.availableDomains = welcomeMsg.available_domains;\r\n                            if (welcomeMsg.options) {\r\n                                this.connection.token = welcomeMsg.options.access_token;\r\n                                this.connection.info = welcomeMsg.options.info;\r\n                            }\r\n                            this.setLoggedIn(true);\r\n                            return [2, welcomeMsg.resolved_identity];\r\n                        case 19:\r\n                            err_1 = _c.sent();\r\n                            this.logger.error(\"error sending hello message - \" + (err_1.message || err_1.msg || err_1.reason || err_1), err_1);\r\n                            throw err_1;\r\n                        case 20:\r\n                            if (config && config.flowCallback && config.sessionId) {\r\n                                config.flowCallback(config.sessionId, null);\r\n                            }\r\n                            return [7];\r\n                        case 21: return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GW3ProtocolImpl.prototype.logout = function () {\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var promises;\r\n                return __generator$1(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            this.logger.debug(\"logging out...\");\r\n                            this.shouldTryLogin = false;\r\n                            if (this.pingTimer) {\r\n                                clearTimeout(this.pingTimer);\r\n                            }\r\n                            promises = this.sessions.map(function (session) {\r\n                                session.leave();\r\n                            });\r\n                            return [4, Promise.all(promises)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GW3ProtocolImpl.prototype.loggedIn = function (callback) {\r\n            if (this._isLoggedIn) {\r\n                callback();\r\n            }\r\n            return this.registry.add(\"onLoggedIn\", callback);\r\n        };\r\n        GW3ProtocolImpl.prototype.domain = function (domainName, domainLogger, successMessages, errorMessages) {\r\n            var session = this.sessions.filter(function (s) { return s.domain === domainName; })[0];\r\n            if (!session) {\r\n                session = domainSession(domainName, this.connection, domainLogger, successMessages, errorMessages);\r\n                this.sessions.push(session);\r\n            }\r\n            return session;\r\n        };\r\n        GW3ProtocolImpl.prototype.handleDisconnected = function () {\r\n            var _this = this;\r\n            this.setLoggedIn(false);\r\n            var tryToLogin = this.shouldTryLogin;\r\n            if (tryToLogin && this.initialLogin) {\r\n                if (this.initialLoginAttempts <= 0) {\r\n                    return;\r\n                }\r\n                this.initialLoginAttempts--;\r\n            }\r\n            this.logger.debug(\"disconnected - will try new login?\" + this.shouldTryLogin);\r\n            if (this.shouldTryLogin) {\r\n                if (!this.loginConfig) {\r\n                    throw new Error(\"no login info\");\r\n                }\r\n                this.connection.login(this.loginConfig, true)\r\n                    .catch(function () {\r\n                    setTimeout(_this.handleDisconnected, 1000);\r\n                });\r\n            }\r\n        };\r\n        GW3ProtocolImpl.prototype.setLoggedIn = function (value) {\r\n            this._isLoggedIn = value;\r\n            if (this._isLoggedIn) {\r\n                this.registry.execute(\"onLoggedIn\");\r\n            }\r\n        };\r\n        GW3ProtocolImpl.prototype.ping = function () {\r\n            var _this = this;\r\n            if (!this.shouldTryLogin) {\r\n                return;\r\n            }\r\n            if (this._isLoggedIn) {\r\n                this.connection.send({ type: \"ping\" });\r\n            }\r\n            this.pingTimer = setTimeout(function () {\r\n                _this.ping();\r\n            }, 30 * 1000);\r\n        };\r\n        GW3ProtocolImpl.prototype.authToken = function () {\r\n            var createTokenReq = {\r\n                type: \"create-token\"\r\n            };\r\n            if (!this.globalDomain) {\r\n                return Promise.reject(new Error(\"no global domain session\"));\r\n            }\r\n            return this.globalDomain.send(createTokenReq)\r\n                .then(function (res) {\r\n                return res.token;\r\n            });\r\n        };\r\n        GW3ProtocolImpl.prototype.getNewGWToken = function () {\r\n            if (typeof window !== undefined) {\r\n                var glue42gd = window.glue42gd;\r\n                if (glue42gd) {\r\n                    return glue42gd.getGWToken();\r\n                }\r\n            }\r\n            return Promise.reject(new Error(\"not running in GD\"));\r\n        };\r\n        return GW3ProtocolImpl;\r\n    }());\n\n    var MessageReplayerImpl = (function () {\r\n        function MessageReplayerImpl(specs) {\r\n            this.specsNames = [];\r\n            this.messages = {};\r\n            this.subs = {};\r\n            this.subsRefCount = {};\r\n            this.specs = {};\r\n            for (var _i = 0, specs_1 = specs; _i < specs_1.length; _i++) {\r\n                var spec = specs_1[_i];\r\n                this.specs[spec.name] = spec;\r\n                this.specsNames.push(spec.name);\r\n            }\r\n        }\r\n        MessageReplayerImpl.prototype.init = function (connection) {\r\n            var _this = this;\r\n            this.connection = connection;\r\n            for (var _i = 0, _a = this.specsNames; _i < _a.length; _i++) {\r\n                var name_1 = _a[_i];\r\n                var _loop_1 = function (type) {\r\n                    var refCount = this_1.subsRefCount[type];\r\n                    if (!refCount) {\r\n                        refCount = 0;\r\n                    }\r\n                    refCount += 1;\r\n                    this_1.subsRefCount[type] = refCount;\r\n                    if (refCount > 1) {\r\n                        return \"continue\";\r\n                    }\r\n                    var sub = connection.on(type, function (msg) { return _this.processMessage(type, msg); });\r\n                    this_1.subs[type] = sub;\r\n                };\r\n                var this_1 = this;\r\n                for (var _b = 0, _c = this.specs[name_1].types; _b < _c.length; _b++) {\r\n                    var type = _c[_b];\r\n                    _loop_1(type);\r\n                }\r\n            }\r\n        };\r\n        MessageReplayerImpl.prototype.processMessage = function (type, msg) {\r\n            if (this.isDone || !msg) {\r\n                return;\r\n            }\r\n            for (var _i = 0, _a = this.specsNames; _i < _a.length; _i++) {\r\n                var name_2 = _a[_i];\r\n                if (this.specs[name_2].types.indexOf(type) !== -1) {\r\n                    var messages = this.messages[name_2] || [];\r\n                    this.messages[name_2] = messages;\r\n                    messages.push(msg);\r\n                }\r\n            }\r\n        };\r\n        MessageReplayerImpl.prototype.drain = function (name, callback) {\r\n            var _a;\r\n            if (callback) {\r\n                (this.messages[name] || []).forEach(callback);\r\n            }\r\n            delete this.messages[name];\r\n            for (var _i = 0, _b = this.specs[name].types; _i < _b.length; _i++) {\r\n                var type = _b[_i];\r\n                this.subsRefCount[type] -= 1;\r\n                if (this.subsRefCount[type] <= 0) {\r\n                    (_a = this.connection) === null || _a === void 0 ? void 0 : _a.off(this.subs[type]);\r\n                    delete this.subs[type];\r\n                    delete this.subsRefCount[type];\r\n                }\r\n            }\r\n            delete this.specs[name];\r\n            if (!this.specs.length) {\r\n                this.isDone = true;\r\n            }\r\n        };\r\n        return MessageReplayerImpl;\r\n    }());\n\n    var Connection = (function () {\r\n        function Connection(settings, logger) {\r\n            this.settings = settings;\r\n            this.logger = logger;\r\n            this.messageHandlers = {};\r\n            this.ids = 1;\r\n            this.registry = lib();\r\n            this._connected = false;\r\n            this.isTrace = false;\r\n            settings = settings || {};\r\n            settings.reconnectAttempts = settings.reconnectAttempts || 10;\r\n            settings.reconnectInterval = settings.reconnectInterval || 1000;\r\n            if (settings.inproc) {\r\n                this.transport = new InProcTransport(settings.inproc, logger.subLogger(\"inMemory\"));\r\n            }\r\n            else if (settings.sharedWorker) {\r\n                this.transport = new SharedWorkerTransport(settings.sharedWorker, logger.subLogger(\"shared-worker\"));\r\n            }\r\n            else if (settings.ws !== undefined) {\r\n                this.transport = new WS(settings, logger.subLogger(\"ws\"));\r\n            }\r\n            else {\r\n                throw new Error(\"No connection information specified\");\r\n            }\r\n            this.isTrace = logger.canPublish(\"trace\");\r\n            logger.info(\"starting with \" + this.transport.name() + \" transport\");\r\n            this.protocol = new GW3ProtocolImpl(this, settings, logger.subLogger(\"protocol\"));\r\n            this.transport.onConnectedChanged(this.handleConnectionChanged.bind(this));\r\n            this.transport.onMessage(this.handleTransportMessage.bind(this));\r\n            if (settings.replaySpecs && settings.replaySpecs.length) {\r\n                this.replayer = new MessageReplayerImpl(settings.replaySpecs);\r\n                this.replayer.init(this);\r\n            }\r\n        }\r\n        Object.defineProperty(Connection.prototype, \"protocolVersion\", {\r\n            get: function () {\r\n                var _a;\r\n                return (_a = this.protocol) === null || _a === void 0 ? void 0 : _a.protocolVersion;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Connection.prototype.send = function (message, options) {\r\n            if (this.transport.sendObject &&\r\n                this.transport.isObjectBasedTransport) {\r\n                var msg = this.protocol.createObjectMessage(message);\r\n                if (this.isTrace) {\r\n                    this.logger.trace(\">> \" + JSON.stringify(msg));\r\n                }\r\n                return this.transport.sendObject(msg, options);\r\n            }\r\n            else {\r\n                var strMessage = this.protocol.createStringMessage(message);\r\n                if (this.isTrace) {\r\n                    this.logger.trace(\">> \" + strMessage);\r\n                }\r\n                return this.transport.send(strMessage, options);\r\n            }\r\n        };\r\n        Connection.prototype.on = function (type, messageHandler) {\r\n            type = type.toLowerCase();\r\n            if (this.messageHandlers[type] === undefined) {\r\n                this.messageHandlers[type] = {};\r\n            }\r\n            var id = this.ids++;\r\n            this.messageHandlers[type][id] = messageHandler;\r\n            return {\r\n                type: type,\r\n                id: id,\r\n            };\r\n        };\r\n        Connection.prototype.off = function (info) {\r\n            delete this.messageHandlers[info.type.toLowerCase()][info.id];\r\n        };\r\n        Object.defineProperty(Connection.prototype, \"isConnected\", {\r\n            get: function () {\r\n                return this.protocol.isLoggedIn;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Connection.prototype.connected = function (callback) {\r\n            var _this = this;\r\n            return this.protocol.loggedIn(function () {\r\n                callback(_this.settings.ws || _this.settings.sharedWorker || \"\");\r\n            });\r\n        };\r\n        Connection.prototype.disconnected = function (callback) {\r\n            return this.registry.add(\"disconnected\", callback);\r\n        };\r\n        Connection.prototype.login = function (authRequest, reconnect) {\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var identity;\r\n                return __generator$1(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.transport.open()];\r\n                        case 1:\r\n                            _a.sent();\r\n                            timer(\"connection\").mark(\"transport-opened\");\r\n                            identity = this.protocol.login(authRequest, reconnect);\r\n                            timer(\"connection\").mark(\"protocol-logged-in\");\r\n                            return [2, identity];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Connection.prototype.logout = function () {\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                return __generator$1(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.protocol.logout()];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [4, this.transport.close()];\r\n                        case 2:\r\n                            _a.sent();\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Connection.prototype.loggedIn = function (callback) {\r\n            return this.protocol.loggedIn(callback);\r\n        };\r\n        Connection.prototype.domain = function (domain, successMessages, errorMessages) {\r\n            return this.protocol.domain(domain, this.logger.subLogger(\"domain=\" + domain), successMessages, errorMessages);\r\n        };\r\n        Connection.prototype.authToken = function () {\r\n            return this.protocol.authToken();\r\n        };\r\n        Connection.prototype.reconnect = function () {\r\n            return this.transport.reconnect();\r\n        };\r\n        Connection.prototype.distributeMessage = function (message, type) {\r\n            var _this = this;\r\n            var handlers = this.messageHandlers[type.toLowerCase()];\r\n            if (handlers !== undefined) {\r\n                Object.keys(handlers).forEach(function (handlerId) {\r\n                    var handler = handlers[handlerId];\r\n                    if (handler !== undefined) {\r\n                        try {\r\n                            handler(message);\r\n                        }\r\n                        catch (error) {\r\n                            try {\r\n                                _this.logger.error(\"Message handler failed with \" + error.stack, error);\r\n                            }\r\n                            catch (loggerError) {\r\n                                console.log(\"Message handler failed\", error);\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        };\r\n        Connection.prototype.handleConnectionChanged = function (connected) {\r\n            if (this._connected === connected) {\r\n                return;\r\n            }\r\n            this._connected = connected;\r\n            if (connected) {\r\n                this.registry.execute(\"connected\");\r\n            }\r\n            else {\r\n                this.registry.execute(\"disconnected\");\r\n            }\r\n        };\r\n        Connection.prototype.handleTransportMessage = function (msg) {\r\n            var msgObj;\r\n            if (typeof msg === \"string\") {\r\n                msgObj = this.protocol.processStringMessage(msg);\r\n            }\r\n            else {\r\n                msgObj = this.protocol.processObjectMessage(msg);\r\n            }\r\n            if (this.isTrace) {\r\n                this.logger.trace(\"<< \" + JSON.stringify(msgObj));\r\n            }\r\n            this.distributeMessage(msgObj.msg, msgObj.msgType);\r\n        };\r\n        return Connection;\r\n    }());\n\n    var order = [\"trace\", \"debug\", \"info\", \"warn\", \"error\", \"off\"];\r\n    var Logger = (function () {\r\n        function Logger(name, parent, logFn) {\r\n            this.name = name;\r\n            this.parent = parent;\r\n            this.subLoggers = [];\r\n            this.logFn = console;\r\n            this.customLogFn = false;\r\n            this.name = name;\r\n            if (parent) {\r\n                this.path = parent.path + \".\" + name;\r\n            }\r\n            else {\r\n                this.path = name;\r\n            }\r\n            this.loggerFullName = \"[\" + this.path + \"]\";\r\n            this.includeTimeAndLevel = !logFn;\r\n            if (logFn) {\r\n                this.logFn = logFn;\r\n                this.customLogFn = true;\r\n            }\r\n        }\r\n        Logger.prototype.subLogger = function (name) {\r\n            var existingSub = this.subLoggers.filter(function (subLogger) {\r\n                return subLogger.name === name;\r\n            })[0];\r\n            if (existingSub !== undefined) {\r\n                return existingSub;\r\n            }\r\n            Object.keys(this).forEach(function (key) {\r\n                if (key === name) {\r\n                    throw new Error(\"This sub logger name is not allowed.\");\r\n                }\r\n            });\r\n            var sub = new Logger(name, this, this.customLogFn ? this.logFn : undefined);\r\n            this.subLoggers.push(sub);\r\n            return sub;\r\n        };\r\n        Logger.prototype.publishLevel = function (level) {\r\n            var _a;\r\n            if (level) {\r\n                this._publishLevel = level;\r\n            }\r\n            return this._publishLevel || ((_a = this.parent) === null || _a === void 0 ? void 0 : _a.publishLevel());\r\n        };\r\n        Logger.prototype.consoleLevel = function (level) {\r\n            var _a;\r\n            if (level) {\r\n                this._consoleLevel = level;\r\n            }\r\n            return this._consoleLevel || ((_a = this.parent) === null || _a === void 0 ? void 0 : _a.consoleLevel());\r\n        };\r\n        Logger.prototype.log = function (message, level, error) {\r\n            this.publishMessage(level || \"info\", message, error);\r\n        };\r\n        Logger.prototype.trace = function (message) {\r\n            this.log(message, \"trace\");\r\n        };\r\n        Logger.prototype.debug = function (message) {\r\n            this.log(message, \"debug\");\r\n        };\r\n        Logger.prototype.info = function (message) {\r\n            this.log(message, \"info\");\r\n        };\r\n        Logger.prototype.warn = function (message) {\r\n            this.log(message, \"warn\");\r\n        };\r\n        Logger.prototype.error = function (message, err) {\r\n            this.log(message, \"error\");\r\n        };\r\n        Logger.prototype.canPublish = function (level, compareWith) {\r\n            var levelIdx = order.indexOf(level);\r\n            var restrictionIdx = order.indexOf(compareWith || this.consoleLevel() || \"trace\");\r\n            return levelIdx >= restrictionIdx;\r\n        };\r\n        Logger.prototype.publishMessage = function (level, message, error) {\r\n            var loggerName = this.loggerFullName;\r\n            if (level === \"error\" && !error) {\r\n                var e = new Error();\r\n                if (e.stack) {\r\n                    message =\r\n                        message +\r\n                            \"\\n\" +\r\n                            e.stack\r\n                                .split(\"\\n\")\r\n                                .slice(3)\r\n                                .join(\"\\n\");\r\n                }\r\n            }\r\n            if (this.canPublish(level, this.publishLevel())) {\r\n                var interop = Logger.Interop;\r\n                if (interop) {\r\n                    try {\r\n                        if (interop.methods({ name: Logger.InteropMethodName }).length > 0) {\r\n                            interop.invoke(Logger.InteropMethodName, {\r\n                                msg: \"\" + message,\r\n                                logger: loggerName,\r\n                                level: level\r\n                            });\r\n                        }\r\n                    }\r\n                    catch (_a) {\r\n                    }\r\n                }\r\n            }\r\n            if (this.canPublish(level)) {\r\n                var prefix = \"\";\r\n                if (this.includeTimeAndLevel) {\r\n                    var date = new Date();\r\n                    var time = date.getHours() + \":\" + date.getMinutes() + \":\" + date.getSeconds() + \":\" + date.getMilliseconds();\r\n                    prefix = \"[\" + time + \"] [\" + level + \"] \";\r\n                }\r\n                var toPrint = \"\" + prefix + loggerName + \": \" + message;\r\n                switch (level) {\r\n                    case \"trace\":\r\n                        this.logFn.debug(toPrint);\r\n                        break;\r\n                    case \"debug\":\r\n                        if (this.logFn.debug) {\r\n                            this.logFn.debug(toPrint);\r\n                        }\r\n                        else {\r\n                            this.logFn.log(toPrint);\r\n                        }\r\n                        break;\r\n                    case \"info\":\r\n                        this.logFn.info(toPrint);\r\n                        break;\r\n                    case \"warn\":\r\n                        this.logFn.warn(toPrint);\r\n                        break;\r\n                    case \"error\":\r\n                        this.logFn.error(toPrint, error);\r\n                        break;\r\n                }\r\n            }\r\n        };\r\n        Logger.InteropMethodName = \"T42.AppLogger.Log\";\r\n        return Logger;\r\n    }());\n\n    var GW_MESSAGE_CREATE_CONTEXT = \"create-context\";\r\n    var GW_MESSAGE_ACTIVITY_CREATED = \"created\";\r\n    var GW_MESSAGE_ACTIVITY_DESTROYED = \"destroyed\";\r\n    var GW_MESSAGE_CONTEXT_CREATED = \"context-created\";\r\n    var GW_MESSAGE_CONTEXT_ADDED = \"context-added\";\r\n    var GW_MESSAGE_SUBSCRIBE_CONTEXT = \"subscribe-context\";\r\n    var GW_MESSAGE_SUBSCRIBED_CONTEXT = \"subscribed-context\";\r\n    var GW_MESSAGE_UNSUBSCRIBE_CONTEXT = \"unsubscribe-context\";\r\n    var GW_MESSAGE_DESTROY_CONTEXT = \"destroy-context\";\r\n    var GW_MESSAGE_CONTEXT_DESTROYED = \"context-destroyed\";\r\n    var GW_MESSAGE_UPDATE_CONTEXT = \"update-context\";\r\n    var GW_MESSAGE_CONTEXT_UPDATED = \"context-updated\";\r\n    var GW_MESSAGE_JOINED_ACTIVITY = \"joined\";\n\n    var ContextMessageReplaySpec = {\r\n        get name() {\r\n            return \"context\";\r\n        },\r\n        get types() {\r\n            return [\r\n                GW_MESSAGE_CREATE_CONTEXT,\r\n                GW_MESSAGE_ACTIVITY_CREATED,\r\n                GW_MESSAGE_ACTIVITY_DESTROYED,\r\n                GW_MESSAGE_CONTEXT_CREATED,\r\n                GW_MESSAGE_CONTEXT_ADDED,\r\n                GW_MESSAGE_SUBSCRIBE_CONTEXT,\r\n                GW_MESSAGE_SUBSCRIBED_CONTEXT,\r\n                GW_MESSAGE_UNSUBSCRIBE_CONTEXT,\r\n                GW_MESSAGE_DESTROY_CONTEXT,\r\n                GW_MESSAGE_CONTEXT_DESTROYED,\r\n                GW_MESSAGE_UPDATE_CONTEXT,\r\n                GW_MESSAGE_CONTEXT_UPDATED,\r\n                GW_MESSAGE_JOINED_ACTIVITY\r\n            ];\r\n        }\r\n    };\n\n    var version = \"5.2.6\";\n\n    function prepareConfig (configuration, ext, glue42gd) {\r\n        var _a, _b, _c, _d, _e;\r\n        var nodeStartingContext;\r\n        if (Utils.isNode()) {\r\n            var startingContextString = process.env._GD_STARTING_CONTEXT_;\r\n            if (startingContextString) {\r\n                try {\r\n                    nodeStartingContext = JSON.parse(startingContextString);\r\n                }\r\n                catch (_f) {\r\n                }\r\n            }\r\n        }\r\n        function getConnection() {\r\n            var _a, _b, _c, _d;\r\n            var gwConfig = configuration.gateway;\r\n            var protocolVersion = (_a = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.protocolVersion) !== null && _a !== void 0 ? _a : 3;\r\n            var reconnectInterval = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.reconnectInterval;\r\n            var reconnectAttempts = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.reconnectAttempts;\r\n            var defaultWs = \"ws://localhost:8385\";\r\n            var ws = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.ws;\r\n            var sharedWorker = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.sharedWorker;\r\n            var inproc = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.inproc;\r\n            if (glue42gd) {\r\n                ws = glue42gd.gwURL;\r\n            }\r\n            if (Utils.isNode() && nodeStartingContext && nodeStartingContext.gwURL) {\r\n                ws = nodeStartingContext.gwURL;\r\n            }\r\n            if (!ws && !sharedWorker && !inproc) {\r\n                ws = defaultWs;\r\n            }\r\n            var instanceId;\r\n            var windowId;\r\n            var pid;\r\n            var environment;\r\n            var region;\r\n            var appName = getApplication();\r\n            var uniqueAppName = appName;\r\n            if (typeof glue42gd !== \"undefined\") {\r\n                windowId = glue42gd.windowId;\r\n                pid = glue42gd.pid;\r\n                if (glue42gd.env) {\r\n                    environment = glue42gd.env.env;\r\n                    region = glue42gd.env.region;\r\n                }\r\n                uniqueAppName = (_b = glue42gd.application) !== null && _b !== void 0 ? _b : \"glue-app\";\r\n                instanceId = glue42gd.appInstanceId;\r\n            }\r\n            else if (Utils.isNode()) {\r\n                pid = process.pid;\r\n                if (nodeStartingContext) {\r\n                    environment = nodeStartingContext.env;\r\n                    region = nodeStartingContext.region;\r\n                    instanceId = nodeStartingContext.instanceId;\r\n                }\r\n            }\r\n            else {\r\n                windowId = window.name || shortid();\r\n            }\r\n            var replaySpecs = (_d = (_c = configuration.gateway) === null || _c === void 0 ? void 0 : _c.replaySpecs) !== null && _d !== void 0 ? _d : [];\r\n            replaySpecs.push(ContextMessageReplaySpec);\r\n            return {\r\n                identity: {\r\n                    application: uniqueAppName,\r\n                    applicationName: appName,\r\n                    windowId: windowId,\r\n                    instance: instanceId,\r\n                    process: pid,\r\n                    region: region,\r\n                    environment: environment,\r\n                    api: ext.version || version\r\n                },\r\n                reconnectInterval: reconnectInterval,\r\n                ws: ws,\r\n                sharedWorker: sharedWorker,\r\n                inproc: inproc,\r\n                protocolVersion: protocolVersion,\r\n                reconnectAttempts: reconnectAttempts,\r\n                replaySpecs: replaySpecs,\r\n            };\r\n        }\r\n        function getApplication() {\r\n            if (configuration.application) {\r\n                return configuration.application;\r\n            }\r\n            if (glue42gd) {\r\n                return glue42gd.applicationName;\r\n            }\r\n            var uid = shortid();\r\n            if (Utils.isNode()) {\r\n                if (nodeStartingContext) {\r\n                    return nodeStartingContext.applicationConfig.name;\r\n                }\r\n                return \"NodeJS\" + uid;\r\n            }\r\n            if (typeof window !== \"undefined\" && typeof document !== \"undefined\") {\r\n                return document.title + (\" (\" + uid + \")\");\r\n            }\r\n            return uid;\r\n        }\r\n        function getAuth() {\r\n            var _a, _b;\r\n            if (typeof configuration.auth === \"string\") {\r\n                return {\r\n                    token: configuration.auth\r\n                };\r\n            }\r\n            if (configuration.auth) {\r\n                return configuration.auth;\r\n            }\r\n            if (Utils.isNode() && nodeStartingContext && nodeStartingContext.gwToken) {\r\n                return {\r\n                    gatewayToken: nodeStartingContext.gwToken\r\n                };\r\n            }\r\n            if (((_a = configuration.gateway) === null || _a === void 0 ? void 0 : _a.inproc) || ((_b = configuration.gateway) === null || _b === void 0 ? void 0 : _b.sharedWorker)) {\r\n                return {\r\n                    username: \"glue42\", password: \"glue42\"\r\n                };\r\n            }\r\n        }\r\n        function getLogger() {\r\n            var _a, _b;\r\n            var config = configuration.logger;\r\n            var defaultLevel = \"warn\";\r\n            if (!config) {\r\n                config = defaultLevel;\r\n            }\r\n            var gdConsoleLevel;\r\n            if (glue42gd) {\r\n                gdConsoleLevel = glue42gd.consoleLogLevel;\r\n            }\r\n            if (typeof config === \"string\") {\r\n                return { console: gdConsoleLevel !== null && gdConsoleLevel !== void 0 ? gdConsoleLevel : config, publish: defaultLevel };\r\n            }\r\n            return {\r\n                console: (_a = gdConsoleLevel !== null && gdConsoleLevel !== void 0 ? gdConsoleLevel : config.console) !== null && _a !== void 0 ? _a : defaultLevel,\r\n                publish: (_b = config.publish) !== null && _b !== void 0 ? _b : defaultLevel\r\n            };\r\n        }\r\n        var connection = getConnection();\r\n        var application = getApplication();\r\n        if (typeof window !== \"undefined\") {\r\n            var windowAsAny = window;\r\n            var containerApplication = windowAsAny.htmlContainer ?\r\n                windowAsAny.htmlContainer.containerName + \".\" + windowAsAny.htmlContainer.application : (_a = windowAsAny === null || windowAsAny === void 0 ? void 0 : windowAsAny.glue42gd) === null || _a === void 0 ? void 0 : _a.application;\r\n            if (containerApplication) {\r\n                application = containerApplication;\r\n            }\r\n        }\r\n        return {\r\n            bus: (_b = configuration.bus) !== null && _b !== void 0 ? _b : false,\r\n            application: application,\r\n            auth: getAuth(),\r\n            logger: getLogger(),\r\n            connection: connection,\r\n            metrics: (_c = configuration.metrics) !== null && _c !== void 0 ? _c : true,\r\n            contexts: (_d = configuration.contexts) !== null && _d !== void 0 ? _d : true,\r\n            version: ext.version || version,\r\n            libs: (_e = ext.libs) !== null && _e !== void 0 ? _e : [],\r\n            customLogger: configuration.customLogger\r\n        };\r\n    }\n\n    var GW3ContextData = (function () {\r\n        function GW3ContextData(contextId, name, isAnnounced, activityId) {\r\n            this.updateCallbacks = {};\r\n            this.contextId = contextId;\r\n            this.name = name;\r\n            this.isAnnounced = isAnnounced;\r\n            this.activityId = activityId;\r\n            this.context = {};\r\n        }\r\n        GW3ContextData.prototype.hasCallbacks = function () {\r\n            return Object.keys(this.updateCallbacks).length > 0;\r\n        };\r\n        GW3ContextData.prototype.getState = function () {\r\n            if (this.isAnnounced && this.hasCallbacks()) {\r\n                return 3;\r\n            }\r\n            if (this.isAnnounced) {\r\n                return 2;\r\n            }\r\n            if (this.hasCallbacks()) {\r\n                return 1;\r\n            }\r\n            return 0;\r\n        };\r\n        return GW3ContextData;\r\n    }());\n\n    function applyContextDelta(context, delta, logger) {\r\n        try {\r\n            if (logger === null || logger === void 0 ? void 0 : logger.canPublish(\"trace\")) {\r\n                logger === null || logger === void 0 ? void 0 : logger.trace(\"applying context delta \" + JSON.stringify(delta) + \" on context \" + JSON.stringify(context));\r\n            }\r\n            if (!delta) {\r\n                return context;\r\n            }\r\n            if (delta.reset) {\r\n                context = __assign$1({}, delta.reset);\r\n                return context;\r\n            }\r\n            context = deepClone(context, undefined);\r\n            if (delta.commands) {\r\n                for (var _i = 0, _a = delta.commands; _i < _a.length; _i++) {\r\n                    var command = _a[_i];\r\n                    if (command.type === \"remove\") {\r\n                        deletePath(context, command.path);\r\n                    }\r\n                    else if (command.type === \"set\") {\r\n                        setValueToPath(context, command.value, command.path);\r\n                    }\r\n                }\r\n                return context;\r\n            }\r\n            var added_1 = delta.added;\r\n            var updated_1 = delta.updated;\r\n            var removed = delta.removed;\r\n            if (added_1) {\r\n                Object.keys(added_1).forEach(function (key) {\r\n                    context[key] = added_1[key];\r\n                });\r\n            }\r\n            if (updated_1) {\r\n                Object.keys(updated_1).forEach(function (key) {\r\n                    mergeObjectsProperties(key, context, updated_1);\r\n                });\r\n            }\r\n            if (removed) {\r\n                removed.forEach(function (key) {\r\n                    delete context[key];\r\n                });\r\n            }\r\n            return context;\r\n        }\r\n        catch (e) {\r\n            logger === null || logger === void 0 ? void 0 : logger.error(\"error applying context delta \" + JSON.stringify(delta) + \" on context \" + JSON.stringify(context), e);\r\n            return context;\r\n        }\r\n    }\r\n    function deepClone(obj, hash) {\r\n        hash = hash || new WeakMap();\r\n        if (Object(obj) !== obj) {\r\n            return obj;\r\n        }\r\n        if (obj instanceof Set) {\r\n            return new Set(obj);\r\n        }\r\n        if (hash.has(obj)) {\r\n            return hash.get(obj);\r\n        }\r\n        var result = obj instanceof Date ? new Date(obj)\r\n            : obj instanceof RegExp ? new RegExp(obj.source, obj.flags)\r\n                : obj.constructor ? new obj.constructor()\r\n                    : Object.create(null);\r\n        hash.set(obj, result);\r\n        if (obj instanceof Map) {\r\n            Array.from(obj, function (_a) {\r\n                var key = _a[0], val = _a[1];\r\n                return result.set(key, deepClone(val, hash));\r\n            });\r\n        }\r\n        return Object.assign.apply(Object, __spreadArrays([result], Object.keys(obj).map(function (key) {\r\n            var _a;\r\n            return (_a = {}, _a[key] = deepClone(obj[key], hash), _a);\r\n        })));\r\n    }\r\n    var mergeObjectsProperties = function (key, what, withWhat) {\r\n        var right = withWhat[key];\r\n        if (right === undefined) {\r\n            return what;\r\n        }\r\n        var left = what[key];\r\n        if (!left || !right) {\r\n            what[key] = right;\r\n            return what;\r\n        }\r\n        if (typeof left === \"string\" ||\r\n            typeof left === \"number\" ||\r\n            typeof left === \"boolean\" ||\r\n            typeof right === \"string\" ||\r\n            typeof right === \"number\" ||\r\n            typeof right === \"boolean\" ||\r\n            Array.isArray(left) ||\r\n            Array.isArray(right)) {\r\n            what[key] = right;\r\n            return what;\r\n        }\r\n        what[key] = Object.assign({}, left, right);\r\n        return what;\r\n    };\r\n    function deepEqual(x, y) {\r\n        if (x === y) {\r\n            return true;\r\n        }\r\n        if (!(x instanceof Object) || !(y instanceof Object)) {\r\n            return false;\r\n        }\r\n        if (x.constructor !== y.constructor) {\r\n            return false;\r\n        }\r\n        for (var p in x) {\r\n            if (!x.hasOwnProperty(p)) {\r\n                continue;\r\n            }\r\n            if (!y.hasOwnProperty(p)) {\r\n                return false;\r\n            }\r\n            if (x[p] === y[p]) {\r\n                continue;\r\n            }\r\n            if (typeof (x[p]) !== \"object\") {\r\n                return false;\r\n            }\r\n            if (!deepEqual(x[p], y[p])) {\r\n                return false;\r\n            }\r\n        }\r\n        for (var p in y) {\r\n            if (y.hasOwnProperty(p) && !x.hasOwnProperty(p)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    function setValueToPath(obj, value, path) {\r\n        var pathArr = path.split(\".\");\r\n        var i;\r\n        for (i = 0; i < pathArr.length - 1; i++) {\r\n            if (!obj[pathArr[i]]) {\r\n                obj[pathArr[i]] = {};\r\n            }\r\n            if (typeof obj[pathArr[i]] !== \"object\") {\r\n                obj[pathArr[i]] = {};\r\n            }\r\n            obj = obj[pathArr[i]];\r\n        }\r\n        obj[pathArr[i]] = value;\r\n    }\r\n    function deletePath(obj, path) {\r\n        var pathArr = path.split(\".\");\r\n        var i;\r\n        for (i = 0; i < pathArr.length - 1; i++) {\r\n            if (!obj[pathArr[i]]) {\r\n                return;\r\n            }\r\n            obj = obj[pathArr[i]];\r\n        }\r\n        delete obj[pathArr[i]];\r\n    }\n\n    var GW3Bridge = (function () {\r\n        function GW3Bridge(config) {\r\n            var _this = this;\r\n            var _a;\r\n            this._contextNameToData = {};\r\n            this._gw3Subscriptions = [];\r\n            this._nextCallbackSubscriptionNumber = 0;\r\n            this._contextNameToId = {};\r\n            this._contextIdToName = {};\r\n            this._protocolVersion = undefined;\r\n            this._connection = config.connection;\r\n            this._logger = config.logger;\r\n            this._gw3Session = this._connection.domain(\"global\", [\r\n                GW_MESSAGE_CONTEXT_CREATED,\r\n                GW_MESSAGE_SUBSCRIBED_CONTEXT,\r\n                GW_MESSAGE_CONTEXT_DESTROYED,\r\n                GW_MESSAGE_CONTEXT_UPDATED,\r\n            ]);\r\n            this.subscribeToContextCreatedMessages();\r\n            this.subscribeToContextUpdatedMessages();\r\n            this.subscribeToContextDestroyedMessages();\r\n            (_a = this._connection.replayer) === null || _a === void 0 ? void 0 : _a.drain(ContextMessageReplaySpec.name, function (message) {\r\n                var type = message.type;\r\n                if (!type) {\r\n                    return;\r\n                }\r\n                if (type === GW_MESSAGE_CONTEXT_CREATED ||\r\n                    type === GW_MESSAGE_CONTEXT_ADDED ||\r\n                    type === GW_MESSAGE_ACTIVITY_CREATED) {\r\n                    _this.handleContextCreatedMessage(message);\r\n                }\r\n                else if (type === GW_MESSAGE_SUBSCRIBED_CONTEXT ||\r\n                    type === GW_MESSAGE_CONTEXT_UPDATED ||\r\n                    type === GW_MESSAGE_JOINED_ACTIVITY) {\r\n                    _this.handleContextUpdatedMessage(message);\r\n                }\r\n                else if (type === GW_MESSAGE_CONTEXT_DESTROYED ||\r\n                    type === GW_MESSAGE_ACTIVITY_DESTROYED) {\r\n                    _this.handleContextDestroyedMessage(message);\r\n                }\r\n            });\r\n        }\r\n        Object.defineProperty(GW3Bridge.prototype, \"protocolVersion\", {\r\n            get: function () {\r\n                var _a;\r\n                if (!this._protocolVersion) {\r\n                    var contextsDomainInfo = this._connection.availableDomains.find(function (d) { return d.uri === \"context\"; });\r\n                    this._protocolVersion = (_a = contextsDomainInfo === null || contextsDomainInfo === void 0 ? void 0 : contextsDomainInfo.version) !== null && _a !== void 0 ? _a : 1;\r\n                }\r\n                return this._protocolVersion;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(GW3Bridge.prototype, \"setPathSupported\", {\r\n            get: function () {\r\n                return this.protocolVersion >= 2;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        GW3Bridge.prototype.dispose = function () {\r\n            for (var _i = 0, _a = this._gw3Subscriptions; _i < _a.length; _i++) {\r\n                var sub = _a[_i];\r\n                this._connection.off(sub);\r\n            }\r\n            this._gw3Subscriptions.length = 0;\r\n            for (var contextName in this._contextNameToData) {\r\n                if (this._contextNameToId.hasOwnProperty(contextName)) {\r\n                    delete this._contextNameToData[contextName];\r\n                }\r\n            }\r\n        };\r\n        GW3Bridge.prototype.createContext = function (name, data) {\r\n            var _this = this;\r\n            return this._gw3Session\r\n                .send({\r\n                type: GW_MESSAGE_CREATE_CONTEXT,\r\n                domain: \"global\",\r\n                name: name,\r\n                data: data,\r\n                lifetime: \"retained\",\r\n            })\r\n                .then(function (createContextMsg) {\r\n                _this._contextNameToId[name] = createContextMsg.context_id;\r\n                _this._contextIdToName[createContextMsg.context_id] = name;\r\n                var contextData = _this._contextNameToData[name] || new GW3ContextData(createContextMsg.context_id, name, true, undefined);\r\n                contextData.isAnnounced = true;\r\n                contextData.name = name;\r\n                contextData.contextId = createContextMsg.context_id;\r\n                contextData.context = data;\r\n                _this._contextNameToData[name] = contextData;\r\n                return createContextMsg.context_id;\r\n            });\r\n        };\r\n        GW3Bridge.prototype.all = function () {\r\n            var _this = this;\r\n            return Object.keys(this._contextNameToData)\r\n                .filter(function (name) { return _this._contextNameToData[name].isAnnounced; });\r\n        };\r\n        GW3Bridge.prototype.update = function (name, delta) {\r\n            var _a;\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var contextData, currentContext, calculatedDelta;\r\n                var _this = this;\r\n                return __generator$1(this, function (_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            contextData = this._contextNameToData[name];\r\n                            if (!contextData || !contextData.isAnnounced) {\r\n                                return [2, this.createContext(name, delta)];\r\n                            }\r\n                            currentContext = contextData.context;\r\n                            if (!!contextData.hasCallbacks()) return [3, 2];\r\n                            return [4, this.get(contextData.name)];\r\n                        case 1:\r\n                            currentContext = _b.sent();\r\n                            _b.label = 2;\r\n                        case 2:\r\n                            calculatedDelta = this.protocolVersion === 2 ?\r\n                                this.calculateContextDeltaV2(currentContext, delta) :\r\n                                this.calculateContextDeltaV1(currentContext, delta);\r\n                            if (!Object.keys(calculatedDelta.added).length\r\n                                && !Object.keys(calculatedDelta.updated).length\r\n                                && !calculatedDelta.removed.length\r\n                                && !((_a = calculatedDelta.commands) === null || _a === void 0 ? void 0 : _a.length)) {\r\n                                return [2, Promise.resolve()];\r\n                            }\r\n                            return [2, this._gw3Session\r\n                                    .send({\r\n                                    type: GW_MESSAGE_UPDATE_CONTEXT,\r\n                                    domain: \"global\",\r\n                                    context_id: contextData.contextId,\r\n                                    delta: calculatedDelta,\r\n                                }, {}, { skipPeerId: false })\r\n                                    .then(function (gwResponse) {\r\n                                    _this.handleUpdated(contextData, calculatedDelta, {\r\n                                        updaterId: gwResponse.peer_id\r\n                                    });\r\n                                })];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GW3Bridge.prototype.set = function (name, data) {\r\n            var _this = this;\r\n            var contextData = this._contextNameToData[name];\r\n            if (!contextData || !contextData.isAnnounced) {\r\n                return this.createContext(name, data);\r\n            }\r\n            return this._gw3Session\r\n                .send({\r\n                type: GW_MESSAGE_UPDATE_CONTEXT,\r\n                domain: \"global\",\r\n                context_id: contextData.contextId,\r\n                delta: { reset: data },\r\n            }, {}, { skipPeerId: false })\r\n                .then(function (gwResponse) {\r\n                _this.handleUpdated(contextData, { reset: data, added: {}, removed: [], updated: {} }, { updaterId: gwResponse.peer_id });\r\n            });\r\n        };\r\n        GW3Bridge.prototype.setPath = function (name, path, value) {\r\n            if (!this.setPathSupported) {\r\n                return Promise.reject(\"glue.contexts.setPath operation is not supported, use Glue42 3.10 or later\");\r\n            }\r\n            return this.setPaths(name, [{ path: path, value: value }]);\r\n        };\r\n        GW3Bridge.prototype.setPaths = function (name, pathValues) {\r\n            var _this = this;\r\n            if (!this.setPathSupported) {\r\n                return Promise.reject(\"glue.contexts.setPaths operation is not supported, use Glue42 3.10 or later\");\r\n            }\r\n            var contextData = this._contextNameToData[name];\r\n            if (!contextData || !contextData.isAnnounced) {\r\n                var obj = {};\r\n                for (var _i = 0, pathValues_1 = pathValues; _i < pathValues_1.length; _i++) {\r\n                    var pathValue = pathValues_1[_i];\r\n                    setValueToPath(obj, pathValue.value, pathValue.path);\r\n                }\r\n                return this.createContext(name, obj);\r\n            }\r\n            var commands = [];\r\n            for (var _a = 0, pathValues_2 = pathValues; _a < pathValues_2.length; _a++) {\r\n                var pathValue = pathValues_2[_a];\r\n                if (pathValue.value === null) {\r\n                    commands.push({ type: \"remove\", path: pathValue.path });\r\n                }\r\n                else {\r\n                    commands.push({ type: \"set\", path: pathValue.path, value: pathValue.value });\r\n                }\r\n            }\r\n            return this._gw3Session\r\n                .send({\r\n                type: GW_MESSAGE_UPDATE_CONTEXT,\r\n                domain: \"global\",\r\n                context_id: contextData.contextId,\r\n                delta: { commands: commands }\r\n            }, {}, { skipPeerId: false })\r\n                .then(function (gwResponse) {\r\n                _this.handleUpdated(contextData, { added: {}, removed: [], updated: {}, commands: commands }, { updaterId: gwResponse.peer_id });\r\n            });\r\n        };\r\n        GW3Bridge.prototype.get = function (name) {\r\n            var _this = this;\r\n            var _a;\r\n            var contextData = this._contextNameToData[name];\r\n            if (!contextData || !contextData.isAnnounced) {\r\n                return Promise.resolve({});\r\n            }\r\n            if (contextData && !contextData.hasCallbacks()) {\r\n                return new Promise(function (resolve, _) { return __awaiter$1(_this, void 0, void 0, function () {\r\n                    var _this = this;\r\n                    return __generator$1(this, function (_a) {\r\n                        this.subscribe(name, function (data, _d, _r, un) {\r\n                            _this.unsubscribe(un);\r\n                            resolve(data);\r\n                        });\r\n                        return [2];\r\n                    });\r\n                }); });\r\n            }\r\n            var context = (_a = contextData === null || contextData === void 0 ? void 0 : contextData.context) !== null && _a !== void 0 ? _a : {};\r\n            return Promise.resolve(context);\r\n        };\r\n        GW3Bridge.prototype.subscribe = function (name, callback) {\r\n            var thisCallbackSubscriptionNumber = this._nextCallbackSubscriptionNumber;\r\n            this._nextCallbackSubscriptionNumber += 1;\r\n            var contextData = this._contextNameToData[name];\r\n            if (!contextData ||\r\n                !contextData.isAnnounced) {\r\n                contextData = contextData || new GW3ContextData(undefined, name, false, undefined);\r\n                this._contextNameToData[name] = contextData;\r\n                contextData.updateCallbacks[thisCallbackSubscriptionNumber] = callback;\r\n                return Promise.resolve(thisCallbackSubscriptionNumber);\r\n            }\r\n            var hadCallbacks = contextData.hasCallbacks();\r\n            contextData.updateCallbacks[thisCallbackSubscriptionNumber] = callback;\r\n            if (!hadCallbacks) {\r\n                if (!contextData.joinedActivity) {\r\n                    if (contextData.context && contextData.sentExplicitSubscription) {\r\n                        var clone = deepClone(contextData.context);\r\n                        callback(clone, clone, [], thisCallbackSubscriptionNumber);\r\n                        return Promise.resolve(thisCallbackSubscriptionNumber);\r\n                    }\r\n                    return this.sendSubscribe(contextData)\r\n                        .then(function () { return thisCallbackSubscriptionNumber; });\r\n                }\r\n                else {\r\n                    var clone = deepClone(contextData.context);\r\n                    callback(clone, clone, [], thisCallbackSubscriptionNumber);\r\n                    return Promise.resolve(thisCallbackSubscriptionNumber);\r\n                }\r\n            }\r\n            else {\r\n                var clone = deepClone(contextData.context);\r\n                callback(clone, clone, [], thisCallbackSubscriptionNumber);\r\n                return Promise.resolve(thisCallbackSubscriptionNumber);\r\n            }\r\n        };\r\n        GW3Bridge.prototype.unsubscribe = function (subscriptionKey) {\r\n            for (var _i = 0, _a = Object.keys(this._contextNameToData); _i < _a.length; _i++) {\r\n                var name_1 = _a[_i];\r\n                var contextId = this._contextNameToId[name_1];\r\n                var contextData = this._contextNameToData[name_1];\r\n                if (!contextData) {\r\n                    return;\r\n                }\r\n                var hadCallbacks = contextData.hasCallbacks();\r\n                delete contextData.updateCallbacks[subscriptionKey];\r\n                if (contextData.isAnnounced &&\r\n                    hadCallbacks &&\r\n                    !contextData.hasCallbacks() &&\r\n                    contextData.sentExplicitSubscription) {\r\n                    this.sendUnsubscribe(contextData);\r\n                }\r\n                if (!contextData.isAnnounced &&\r\n                    !contextData.hasCallbacks()) {\r\n                    delete this._contextNameToData[name_1];\r\n                }\r\n            }\r\n        };\r\n        GW3Bridge.prototype.destroy = function (name) {\r\n            var contextData = this._contextNameToData[name];\r\n            if (!contextData) {\r\n                return Promise.reject(\"context with \" + name + \" does not exist\");\r\n            }\r\n            return this._gw3Session\r\n                .send({\r\n                type: GW_MESSAGE_DESTROY_CONTEXT,\r\n                domain: \"global\",\r\n                context_id: contextData.contextId,\r\n            }).then(function (_) { return undefined; });\r\n        };\r\n        GW3Bridge.prototype.handleUpdated = function (contextData, delta, extraData) {\r\n            var oldContext = contextData.context;\r\n            contextData.context = applyContextDelta(contextData.context, delta, this._logger);\r\n            if (this._contextNameToData[contextData.name] === contextData &&\r\n                !deepEqual(oldContext, contextData.context)) {\r\n                this.invokeUpdateCallbacks(contextData, delta, extraData);\r\n            }\r\n        };\r\n        GW3Bridge.prototype.subscribeToContextCreatedMessages = function () {\r\n            var createdMessageTypes = [\r\n                GW_MESSAGE_CONTEXT_ADDED,\r\n                GW_MESSAGE_CONTEXT_CREATED,\r\n                GW_MESSAGE_ACTIVITY_CREATED,\r\n            ];\r\n            for (var _i = 0, createdMessageTypes_1 = createdMessageTypes; _i < createdMessageTypes_1.length; _i++) {\r\n                var createdMessageType = createdMessageTypes_1[_i];\r\n                var sub = this._connection.on(createdMessageType, this.handleContextCreatedMessage.bind(this));\r\n                this._gw3Subscriptions.push(sub);\r\n            }\r\n        };\r\n        GW3Bridge.prototype.handleContextCreatedMessage = function (contextCreatedMsg) {\r\n            var createdMessageType = contextCreatedMsg.type;\r\n            if (createdMessageType === GW_MESSAGE_ACTIVITY_CREATED) {\r\n                this._contextNameToId[contextCreatedMsg.activity_id] = contextCreatedMsg.context_id;\r\n                this._contextIdToName[contextCreatedMsg.context_id] = contextCreatedMsg.activity_id;\r\n            }\r\n            else if (createdMessageType === GW_MESSAGE_CONTEXT_ADDED) {\r\n                this._contextNameToId[contextCreatedMsg.name] = contextCreatedMsg.context_id;\r\n                this._contextIdToName[contextCreatedMsg.context_id] = contextCreatedMsg.name;\r\n            }\r\n            else ;\r\n            var name = this._contextIdToName[contextCreatedMsg.context_id];\r\n            if (!name) {\r\n                throw new Error(\"Received created event for context with unknown name: \" + contextCreatedMsg.context_id);\r\n            }\r\n            if (!this._contextNameToId[name]) {\r\n                throw new Error(\"Received created event for context with unknown id: \" + contextCreatedMsg.context_id);\r\n            }\r\n            var contextData = this._contextNameToData[name];\r\n            if (contextData) {\r\n                if (contextData.isAnnounced) {\r\n                    return;\r\n                }\r\n                else {\r\n                    if (!contextData.hasCallbacks()) {\r\n                        throw new Error(\"Assertion failure: contextData.hasCallbacks()\");\r\n                    }\r\n                    contextData.isAnnounced = true;\r\n                    contextData.contextId = contextCreatedMsg.context_id;\r\n                    contextData.activityId = contextCreatedMsg.activity_id;\r\n                    if (!contextData.sentExplicitSubscription) {\r\n                        this.sendSubscribe(contextData);\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                this._contextNameToData[name] = contextData =\r\n                    new GW3ContextData(contextCreatedMsg.context_id, name, true, contextCreatedMsg.activity_id);\r\n            }\r\n        };\r\n        GW3Bridge.prototype.subscribeToContextUpdatedMessages = function () {\r\n            var updatedMessageTypes = [\r\n                GW_MESSAGE_CONTEXT_UPDATED,\r\n                GW_MESSAGE_SUBSCRIBED_CONTEXT,\r\n                GW_MESSAGE_JOINED_ACTIVITY,\r\n            ];\r\n            for (var _i = 0, updatedMessageTypes_1 = updatedMessageTypes; _i < updatedMessageTypes_1.length; _i++) {\r\n                var updatedMessageType = updatedMessageTypes_1[_i];\r\n                var sub = this._connection.on(updatedMessageType, this.handleContextUpdatedMessage.bind(this));\r\n                this._gw3Subscriptions.push(sub);\r\n            }\r\n        };\r\n        GW3Bridge.prototype.handleContextUpdatedMessage = function (contextUpdatedMsg) {\r\n            var updatedMessageType = contextUpdatedMsg.type;\r\n            var contextId = contextUpdatedMsg.context_id;\r\n            var contextData = this._contextNameToData[this._contextIdToName[contextId]];\r\n            var justSeen = !contextData || !contextData.isAnnounced;\r\n            if (updatedMessageType === GW_MESSAGE_JOINED_ACTIVITY) {\r\n                if (!contextData) {\r\n                    contextData = new GW3ContextData(contextId, contextUpdatedMsg.activity_id, true, contextUpdatedMsg.activity_id);\r\n                    this._contextNameToData[contextUpdatedMsg.activity_id] = contextData;\r\n                    this._contextIdToName[contextId] = contextUpdatedMsg.activity_id;\r\n                    this._contextNameToId[contextUpdatedMsg.activity_id] = contextId;\r\n                }\r\n                else {\r\n                    contextData.contextId = contextId;\r\n                    contextData.isAnnounced = true;\r\n                    contextData.activityId = contextUpdatedMsg.activity_id;\r\n                }\r\n                contextData.joinedActivity = true;\r\n            }\r\n            else {\r\n                if (!contextData || !contextData.isAnnounced) {\r\n                    if (updatedMessageType === GW_MESSAGE_SUBSCRIBED_CONTEXT) {\r\n                        contextData = contextData || new GW3ContextData(contextId, contextUpdatedMsg.name, true, undefined);\r\n                        contextData.sentExplicitSubscription = true;\r\n                        this._contextNameToData[contextUpdatedMsg.name] = contextData;\r\n                        this._contextIdToName[contextId] = contextUpdatedMsg.name;\r\n                        this._contextNameToId[contextUpdatedMsg.name] = contextId;\r\n                    }\r\n                    else {\r\n                        this._logger.error(\"Received 'update' for unknown context: \" + contextId);\r\n                    }\r\n                    return;\r\n                }\r\n            }\r\n            var oldContext = contextData.context;\r\n            if (updatedMessageType === GW_MESSAGE_SUBSCRIBED_CONTEXT) {\r\n                contextData.context = contextUpdatedMsg.data || {};\r\n            }\r\n            else if (updatedMessageType === GW_MESSAGE_JOINED_ACTIVITY) {\r\n                contextData.context = contextUpdatedMsg.context_snapshot || {};\r\n            }\r\n            else if (updatedMessageType === GW_MESSAGE_CONTEXT_UPDATED) {\r\n                contextData.context = applyContextDelta(contextData.context, contextUpdatedMsg.delta, this._logger);\r\n            }\r\n            else {\r\n                throw new Error(\"Unrecognized context update message \" + updatedMessageType);\r\n            }\r\n            if (justSeen ||\r\n                !deepEqual(contextData.context, oldContext) ||\r\n                updatedMessageType === GW_MESSAGE_SUBSCRIBED_CONTEXT) {\r\n                this.invokeUpdateCallbacks(contextData, contextUpdatedMsg.delta, { updaterId: contextUpdatedMsg.updater_id });\r\n            }\r\n        };\r\n        GW3Bridge.prototype.invokeUpdateCallbacks = function (contextData, delta, extraData) {\r\n            delta = delta || { added: {}, updated: {}, reset: {}, removed: [] };\r\n            if (delta.commands) {\r\n                delta.added = delta.updated = delta.reset = {};\r\n                delta.removed = [];\r\n                for (var _i = 0, _a = delta.commands; _i < _a.length; _i++) {\r\n                    var command = _a[_i];\r\n                    if (command.type === \"remove\") {\r\n                        if (command.path.indexOf(\".\") === -1) {\r\n                            delta.removed.push(command.path);\r\n                        }\r\n                        setValueToPath(delta.updated, null, command.path);\r\n                    }\r\n                    else if (command.type === \"set\") {\r\n                        setValueToPath(delta.updated, command.value, command.path);\r\n                    }\r\n                }\r\n            }\r\n            for (var updateCallbackIndex in contextData.updateCallbacks) {\r\n                if (contextData.updateCallbacks.hasOwnProperty(updateCallbackIndex)) {\r\n                    try {\r\n                        var updateCallback = contextData.updateCallbacks[updateCallbackIndex];\r\n                        updateCallback(deepClone(contextData.context), Object.assign({}, delta.added || {}, delta.updated || {}, delta.reset || {}), delta.removed, parseInt(updateCallbackIndex, 10), extraData);\r\n                    }\r\n                    catch (err) {\r\n                        this._logger.debug(\"callback error: \" + JSON.stringify(err));\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        GW3Bridge.prototype.subscribeToContextDestroyedMessages = function () {\r\n            var destroyedMessageTypes = [\r\n                GW_MESSAGE_CONTEXT_DESTROYED,\r\n                GW_MESSAGE_ACTIVITY_DESTROYED,\r\n            ];\r\n            for (var _i = 0, destroyedMessageTypes_1 = destroyedMessageTypes; _i < destroyedMessageTypes_1.length; _i++) {\r\n                var destroyedMessageType = destroyedMessageTypes_1[_i];\r\n                var sub = this._connection.on(destroyedMessageType, this.handleContextDestroyedMessage.bind(this));\r\n                this._gw3Subscriptions.push(sub);\r\n            }\r\n        };\r\n        GW3Bridge.prototype.handleContextDestroyedMessage = function (destroyedMsg) {\r\n            var destroyedMessageType = destroyedMsg.type;\r\n            var contextId;\r\n            var name;\r\n            if (destroyedMessageType === GW_MESSAGE_ACTIVITY_DESTROYED) {\r\n                name = destroyedMsg.activity_id;\r\n                contextId = this._contextNameToId[name];\r\n                if (!contextId) {\r\n                    this._logger.error(\"Received 'destroyed' for unknown activity: \" + destroyedMsg.activity_id);\r\n                    return;\r\n                }\r\n            }\r\n            else {\r\n                contextId = destroyedMsg.context_id;\r\n                name = this._contextIdToName[contextId];\r\n                if (!name) {\r\n                    this._logger.error(\"Received 'destroyed' for unknown context: \" + destroyedMsg.context_id);\r\n                    return;\r\n                }\r\n            }\r\n            delete this._contextIdToName[contextId];\r\n            delete this._contextNameToId[name];\r\n            var contextData = this._contextNameToData[name];\r\n            delete this._contextNameToData[name];\r\n            if (!contextData || !contextData.isAnnounced) {\r\n                this._logger.error(\"Received 'destroyed' for unknown context: \" + contextId);\r\n                return;\r\n            }\r\n        };\r\n        GW3Bridge.prototype.sendSubscribe = function (contextData) {\r\n            contextData.sentExplicitSubscription = true;\r\n            return this._gw3Session\r\n                .send({\r\n                type: GW_MESSAGE_SUBSCRIBE_CONTEXT,\r\n                domain: \"global\",\r\n                context_id: contextData.contextId,\r\n            }).then(function (_) { return undefined; });\r\n        };\r\n        GW3Bridge.prototype.sendUnsubscribe = function (contextData) {\r\n            contextData.sentExplicitSubscription = false;\r\n            return this._gw3Session\r\n                .send({\r\n                type: GW_MESSAGE_UNSUBSCRIBE_CONTEXT,\r\n                domain: \"global\",\r\n                context_id: contextData.contextId,\r\n            }).then(function (_) { return undefined; });\r\n        };\r\n        GW3Bridge.prototype.calculateContextDeltaV1 = function (from, to) {\r\n            var delta = { added: {}, updated: {}, removed: [], reset: undefined };\r\n            if (from) {\r\n                for (var _i = 0, _a = Object.keys(from); _i < _a.length; _i++) {\r\n                    var x = _a[_i];\r\n                    if (Object.keys(to).indexOf(x) !== -1\r\n                        && to[x] !== null\r\n                        && !deepEqual(from[x], to[x])) {\r\n                        delta.updated[x] = to[x];\r\n                    }\r\n                }\r\n            }\r\n            for (var _b = 0, _c = Object.keys(to); _b < _c.length; _b++) {\r\n                var x = _c[_b];\r\n                if (!from || (Object.keys(from).indexOf(x) === -1)) {\r\n                    if (to[x] !== null) {\r\n                        delta.added[x] = to[x];\r\n                    }\r\n                }\r\n                else if (to[x] === null) {\r\n                    delta.removed.push(x);\r\n                }\r\n            }\r\n            return delta;\r\n        };\r\n        GW3Bridge.prototype.calculateContextDeltaV2 = function (from, to) {\r\n            var _a, _b;\r\n            var delta = { added: {}, updated: {}, removed: [], reset: undefined, commands: [] };\r\n            for (var _i = 0, _c = Object.keys(to); _i < _c.length; _i++) {\r\n                var x = _c[_i];\r\n                if (to[x] !== null) {\r\n                    var fromX = from ? from[x] : null;\r\n                    if (!deepEqual(fromX, to[x])) {\r\n                        (_a = delta.commands) === null || _a === void 0 ? void 0 : _a.push({ type: \"set\", path: x, value: to[x] });\r\n                    }\r\n                }\r\n                else {\r\n                    (_b = delta.commands) === null || _b === void 0 ? void 0 : _b.push({ type: \"remove\", path: x });\r\n                }\r\n            }\r\n            return delta;\r\n        };\r\n        return GW3Bridge;\r\n    }());\n\n    var ContextsModule = (function () {\r\n        function ContextsModule(config) {\r\n            this._bridge = new GW3Bridge(config);\r\n        }\r\n        ContextsModule.prototype.all = function () {\r\n            return this._bridge.all();\r\n        };\r\n        ContextsModule.prototype.update = function (name, data) {\r\n            this.checkName(name);\r\n            this.checkData(data);\r\n            return this._bridge.update(name, data);\r\n        };\r\n        ContextsModule.prototype.set = function (name, data) {\r\n            this.checkName(name);\r\n            this.checkData(data);\r\n            return this._bridge.set(name, data);\r\n        };\r\n        ContextsModule.prototype.setPath = function (name, path, data) {\r\n            this.checkName(name);\r\n            this.checkPath(path);\r\n            var isTopLevelPath = path === \"\";\r\n            if (isTopLevelPath) {\r\n                this.checkData(data);\r\n                return this.set(name, data);\r\n            }\r\n            return this._bridge.setPath(name, path, data);\r\n        };\r\n        ContextsModule.prototype.setPaths = function (name, paths) {\r\n            this.checkName(name);\r\n            if (!Array.isArray(paths)) {\r\n                throw new Error(\"Please provide the paths as an array of PathValues!\");\r\n            }\r\n            for (var _i = 0, paths_1 = paths; _i < paths_1.length; _i++) {\r\n                var _a = paths_1[_i], path = _a.path, value = _a.value;\r\n                this.checkPath(path);\r\n                var isTopLevelPath = path === \"\";\r\n                if (isTopLevelPath) {\r\n                    this.checkData(value);\r\n                }\r\n            }\r\n            return this._bridge.setPaths(name, paths);\r\n        };\r\n        ContextsModule.prototype.subscribe = function (name, callback) {\r\n            var _this = this;\r\n            this.checkName(name);\r\n            if (typeof callback !== \"function\") {\r\n                throw new Error(\"Please provide the callback as a function!\");\r\n            }\r\n            return this._bridge\r\n                .subscribe(name, function (data, delta, removed, key, extraData) { return callback(data, delta, removed, function () { return _this._bridge.unsubscribe(key); }, extraData); })\r\n                .then(function (key) {\r\n                return function () {\r\n                    _this._bridge.unsubscribe(key);\r\n                };\r\n            });\r\n        };\r\n        ContextsModule.prototype.get = function (name) {\r\n            this.checkName(name);\r\n            return this._bridge.get(name);\r\n        };\r\n        ContextsModule.prototype.ready = function () {\r\n            return Promise.resolve(this);\r\n        };\r\n        ContextsModule.prototype.destroy = function (name) {\r\n            this.checkName(name);\r\n            return this._bridge.destroy(name);\r\n        };\r\n        Object.defineProperty(ContextsModule.prototype, \"setPathSupported\", {\r\n            get: function () {\r\n                return this._bridge.setPathSupported;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ContextsModule.prototype.checkName = function (name) {\r\n            if (typeof name !== \"string\" || name === \"\") {\r\n                throw new Error(\"Please provide the name as a non-empty string!\");\r\n            }\r\n        };\r\n        ContextsModule.prototype.checkPath = function (path) {\r\n            if (typeof path !== \"string\") {\r\n                throw new Error(\"Please provide the path as a dot delimited string!\");\r\n            }\r\n        };\r\n        ContextsModule.prototype.checkData = function (data) {\r\n            if (typeof data !== \"object\") {\r\n                throw new Error(\"Please provide the data as an object!\");\r\n            }\r\n        };\r\n        return ContextsModule;\r\n    }());\n\n    function promisify (promise, successCallback, errorCallback) {\r\n        if (typeof successCallback !== \"function\" && typeof errorCallback !== \"function\") {\r\n            return promise;\r\n        }\r\n        if (typeof successCallback !== \"function\") {\r\n            successCallback = function () { };\r\n        }\r\n        else if (typeof errorCallback !== \"function\") {\r\n            errorCallback = function () { };\r\n        }\r\n        return promise.then(successCallback, errorCallback);\r\n    }\n\n    function rejectAfter(ms, promise, error) {\r\n        if (ms === void 0) { ms = 0; }\r\n        var timeout;\r\n        promise.finally(function () {\r\n            if (timeout) {\r\n                clearTimeout(timeout);\r\n            }\r\n        });\r\n        return new Promise(function (resolve, reject) {\r\n            timeout = setTimeout(function () { return reject(error); }, ms);\r\n        });\r\n    }\n\n    var InvokeStatus;\r\n    (function (InvokeStatus) {\r\n        InvokeStatus[InvokeStatus[\"Success\"] = 0] = \"Success\";\r\n        InvokeStatus[InvokeStatus[\"Error\"] = 1] = \"Error\";\r\n    })(InvokeStatus || (InvokeStatus = {}));\r\n    var Client = (function () {\r\n        function Client(protocol, repo, instance, configuration) {\r\n            this.protocol = protocol;\r\n            this.repo = repo;\r\n            this.instance = instance;\r\n            this.configuration = configuration;\r\n        }\r\n        Client.prototype.subscribe = function (method, options, successCallback, errorCallback, existingSub) {\r\n            var _this = this;\r\n            var callProtocolSubscribe = function (targetServers, stream, successProxy, errorProxy) {\r\n                var _a;\r\n                options.methodResponseTimeout = (_a = options.methodResponseTimeout) !== null && _a !== void 0 ? _a : options.waitTimeoutMs;\r\n                _this.protocol.client.subscribe(stream, options, targetServers, successProxy, errorProxy, existingSub);\r\n            };\r\n            var promise = new Promise(function (resolve, reject) {\r\n                var successProxy = function (sub) {\r\n                    resolve(sub);\r\n                };\r\n                var errorProxy = function (err) {\r\n                    reject(err);\r\n                };\r\n                if (!method) {\r\n                    reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n                    return;\r\n                }\r\n                var methodDef;\r\n                if (typeof method === \"string\") {\r\n                    methodDef = { name: method };\r\n                }\r\n                else {\r\n                    methodDef = method;\r\n                }\r\n                if (!methodDef.name) {\r\n                    reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n                    return;\r\n                }\r\n                if (options === undefined) {\r\n                    options = {};\r\n                }\r\n                var target = options.target;\r\n                if (target === undefined) {\r\n                    target = \"best\";\r\n                }\r\n                if (typeof target === \"string\" && target !== \"all\" && target !== \"best\") {\r\n                    reject(new Error(\"\\\"\" + target + \"\\\" is not a valid target. Valid targets are \\\"all\\\", \\\"best\\\", or an instance.\"));\r\n                    return;\r\n                }\r\n                if (options.methodResponseTimeout === undefined) {\r\n                    options.methodResponseTimeout = options.method_response_timeout;\r\n                    if (options.methodResponseTimeout === undefined) {\r\n                        options.methodResponseTimeout = _this.configuration.methodResponseTimeout;\r\n                    }\r\n                }\r\n                if (options.waitTimeoutMs === undefined) {\r\n                    options.waitTimeoutMs = options.wait_for_method_timeout;\r\n                    if (options.waitTimeoutMs === undefined) {\r\n                        options.waitTimeoutMs = _this.configuration.waitTimeoutMs;\r\n                    }\r\n                }\r\n                var delayStep = 500;\r\n                var delayTillNow = 0;\r\n                var currentServers = _this.getServerMethodsByFilterAndTarget(methodDef, target);\r\n                if (currentServers.length > 0) {\r\n                    callProtocolSubscribe(currentServers, currentServers[0].methods[0], successProxy, errorProxy);\r\n                }\r\n                else {\r\n                    var retry_1 = function () {\r\n                        if (!target || !(options.waitTimeoutMs)) {\r\n                            return;\r\n                        }\r\n                        delayTillNow += delayStep;\r\n                        currentServers = _this.getServerMethodsByFilterAndTarget(methodDef, target);\r\n                        if (currentServers.length > 0) {\r\n                            var streamInfo = currentServers[0].methods[0];\r\n                            callProtocolSubscribe(currentServers, streamInfo, successProxy, errorProxy);\r\n                        }\r\n                        else if (delayTillNow >= options.waitTimeoutMs) {\r\n                            var def = typeof method === \"string\" ? { name: method } : method;\r\n                            callProtocolSubscribe(currentServers, def, successProxy, errorProxy);\r\n                        }\r\n                        else {\r\n                            setTimeout(retry_1, delayStep);\r\n                        }\r\n                    };\r\n                    setTimeout(retry_1, delayStep);\r\n                }\r\n            });\r\n            return promisify(promise, successCallback, errorCallback);\r\n        };\r\n        Client.prototype.servers = function (methodFilter) {\r\n            var filterCopy = methodFilter === undefined\r\n                ? undefined\r\n                : __assign$1({}, methodFilter);\r\n            return this.getServers(filterCopy).map(function (serverMethodMap) {\r\n                return serverMethodMap.server.instance;\r\n            });\r\n        };\r\n        Client.prototype.methods = function (methodFilter) {\r\n            if (typeof methodFilter === \"string\") {\r\n                methodFilter = { name: methodFilter };\r\n            }\r\n            else {\r\n                methodFilter = __assign$1({}, methodFilter);\r\n            }\r\n            return this.getMethods(methodFilter);\r\n        };\r\n        Client.prototype.methodsForInstance = function (instance) {\r\n            return this.getMethodsForInstance(instance);\r\n        };\r\n        Client.prototype.methodAdded = function (callback) {\r\n            return this.repo.onMethodAdded(callback);\r\n        };\r\n        Client.prototype.methodRemoved = function (callback) {\r\n            return this.repo.onMethodRemoved(callback);\r\n        };\r\n        Client.prototype.serverAdded = function (callback) {\r\n            return this.repo.onServerAdded(callback);\r\n        };\r\n        Client.prototype.serverRemoved = function (callback) {\r\n            return this.repo.onServerRemoved(function (server, reason) {\r\n                callback(server, reason);\r\n            });\r\n        };\r\n        Client.prototype.serverMethodAdded = function (callback) {\r\n            return this.repo.onServerMethodAdded(function (server, method) {\r\n                callback({ server: server, method: method });\r\n            });\r\n        };\r\n        Client.prototype.serverMethodRemoved = function (callback) {\r\n            return this.repo.onServerMethodRemoved(function (server, method) {\r\n                callback({ server: server, method: method });\r\n            });\r\n        };\r\n        Client.prototype.invoke = function (methodFilter, argumentObj, target, additionalOptions, success, error) {\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var getInvokePromise;\r\n                var _this = this;\r\n                return __generator$1(this, function (_a) {\r\n                    getInvokePromise = function () { return __awaiter$1(_this, void 0, void 0, function () {\r\n                        var methodDefinition, serversMethodMap, err_1, method, errorObj, timeout, additionalOptionsCopy, invokePromises, invocationMessages, results, allRejected;\r\n                        var _this = this;\r\n                        var _a;\r\n                        return __generator$1(this, function (_b) {\r\n                            switch (_b.label) {\r\n                                case 0:\r\n                                    if (typeof methodFilter === \"string\") {\r\n                                        methodDefinition = { name: methodFilter };\r\n                                    }\r\n                                    else {\r\n                                        methodDefinition = __assign$1({}, methodFilter);\r\n                                    }\r\n                                    if (!methodDefinition.name) {\r\n                                        return [2, Promise.reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\")];\r\n                                    }\r\n                                    if (!argumentObj) {\r\n                                        argumentObj = {};\r\n                                    }\r\n                                    if (!target) {\r\n                                        target = \"best\";\r\n                                    }\r\n                                    if (typeof target === \"string\" && target !== \"all\" && target !== \"best\" && target !== \"skipMine\") {\r\n                                        return [2, Promise.reject(new Error(\"\\\"\" + target + \"\\\" is not a valid target. Valid targets are \\\"all\\\" and \\\"best\\\".\"))];\r\n                                    }\r\n                                    if (!additionalOptions) {\r\n                                        additionalOptions = {};\r\n                                    }\r\n                                    if (additionalOptions.methodResponseTimeoutMs === undefined) {\r\n                                        additionalOptions.methodResponseTimeoutMs = additionalOptions.method_response_timeout;\r\n                                        if (additionalOptions.methodResponseTimeoutMs === undefined) {\r\n                                            additionalOptions.methodResponseTimeoutMs = this.configuration.methodResponseTimeout;\r\n                                        }\r\n                                    }\r\n                                    if (additionalOptions.waitTimeoutMs === undefined) {\r\n                                        additionalOptions.waitTimeoutMs = additionalOptions.wait_for_method_timeout;\r\n                                        if (additionalOptions.waitTimeoutMs === undefined) {\r\n                                            additionalOptions.waitTimeoutMs = this.configuration.waitTimeoutMs;\r\n                                        }\r\n                                    }\r\n                                    if (additionalOptions.waitTimeoutMs !== undefined && typeof additionalOptions.waitTimeoutMs !== \"number\") {\r\n                                        return [2, Promise.reject(new Error(\"\\\"\" + additionalOptions.waitTimeoutMs + \"\\\" is not a valid number for \\\"waitTimeoutMs\\\" \"))];\r\n                                    }\r\n                                    if (typeof argumentObj !== \"object\") {\r\n                                        return [2, Promise.reject(new Error(\"The method arguments must be an object. method: \" + methodDefinition.name))];\r\n                                    }\r\n                                    serversMethodMap = this.getServerMethodsByFilterAndTarget(methodDefinition, target);\r\n                                    if (!(serversMethodMap.length === 0)) return [3, 4];\r\n                                    _b.label = 1;\r\n                                case 1:\r\n                                    _b.trys.push([1, 3, , 4]);\r\n                                    return [4, this.tryToAwaitForMethods(methodDefinition, target, additionalOptions)];\r\n                                case 2:\r\n                                    serversMethodMap = _b.sent();\r\n                                    return [3, 4];\r\n                                case 3:\r\n                                    err_1 = _b.sent();\r\n                                    method = __assign$1(__assign$1({}, methodDefinition), { getServers: function () { return []; }, supportsStreaming: false, objectTypes: (_a = methodDefinition.objectTypes) !== null && _a !== void 0 ? _a : [] });\r\n                                    errorObj = {\r\n                                        method: method,\r\n                                        called_with: argumentObj,\r\n                                        message: \"Can not find a method matching \" + JSON.stringify(methodFilter) + \" with server filter \" + JSON.stringify(target),\r\n                                        executed_by: undefined,\r\n                                        returned: undefined,\r\n                                        status: undefined,\r\n                                    };\r\n                                    return [2, Promise.reject(errorObj)];\r\n                                case 4:\r\n                                    timeout = additionalOptions.methodResponseTimeoutMs;\r\n                                    additionalOptionsCopy = additionalOptions;\r\n                                    invokePromises = serversMethodMap.map(function (serversMethodPair) {\r\n                                        var invId = shortid();\r\n                                        var method = serversMethodPair.methods[0];\r\n                                        var server = serversMethodPair.server;\r\n                                        var invokePromise = _this.protocol.client.invoke(invId, method, argumentObj, server, additionalOptionsCopy);\r\n                                        return Promise.race([\r\n                                            invokePromise,\r\n                                            rejectAfter(timeout, invokePromise, {\r\n                                                invocationId: invId,\r\n                                                message: \"Invocation timeout (\" + timeout + \" ms) reached for method name: \" + (method === null || method === void 0 ? void 0 : method.name) + \", target instance: \" + JSON.stringify(server.instance) + \", options: \" + JSON.stringify(additionalOptionsCopy),\r\n                                                status: InvokeStatus.Error,\r\n                                            })\r\n                                        ]);\r\n                                    });\r\n                                    return [4, Promise.all(invokePromises)];\r\n                                case 5:\r\n                                    invocationMessages = _b.sent();\r\n                                    results = this.getInvocationResultObj(invocationMessages, methodDefinition, argumentObj);\r\n                                    allRejected = invocationMessages.every(function (result) { return result.status === InvokeStatus.Error; });\r\n                                    if (allRejected) {\r\n                                        return [2, Promise.reject(results)];\r\n                                    }\r\n                                    return [2, results];\r\n                            }\r\n                        });\r\n                    }); };\r\n                    return [2, promisify(getInvokePromise(), success, error)];\r\n                });\r\n            });\r\n        };\r\n        Client.prototype.getInvocationResultObj = function (invocationResults, method, calledWith) {\r\n            var all_return_values = invocationResults\r\n                .filter(function (invokeMessage) { return invokeMessage.status === InvokeStatus.Success; })\r\n                .reduce(function (allValues, currentValue) {\r\n                allValues = __spreadArrays(allValues, [\r\n                    {\r\n                        executed_by: currentValue.instance,\r\n                        returned: currentValue.result,\r\n                        called_with: calledWith,\r\n                        method: method,\r\n                        message: currentValue.message,\r\n                        status: currentValue.status,\r\n                    }\r\n                ]);\r\n                return allValues;\r\n            }, []);\r\n            var all_errors = invocationResults\r\n                .filter(function (invokeMessage) { return invokeMessage.status === InvokeStatus.Error; })\r\n                .reduce(function (allErrors, currError) {\r\n                allErrors = __spreadArrays(allErrors, [\r\n                    {\r\n                        executed_by: currError.instance,\r\n                        called_with: calledWith,\r\n                        name: method.name,\r\n                        message: currError.message,\r\n                    }\r\n                ]);\r\n                return allErrors;\r\n            }, []);\r\n            var invResult = invocationResults[0];\r\n            var result = {\r\n                method: method,\r\n                called_with: calledWith,\r\n                returned: invResult.result,\r\n                executed_by: invResult.instance,\r\n                all_return_values: all_return_values,\r\n                all_errors: all_errors,\r\n                message: invResult.message,\r\n                status: invResult.status\r\n            };\r\n            return result;\r\n        };\r\n        Client.prototype.tryToAwaitForMethods = function (methodDefinition, target, additionalOptions) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                if (additionalOptions.waitTimeoutMs === 0) {\r\n                    reject();\r\n                    return;\r\n                }\r\n                var delayStep = 500;\r\n                var delayTillNow = 0;\r\n                var retry = function () {\r\n                    delayTillNow += delayStep;\r\n                    var serversMethodMap = _this.getServerMethodsByFilterAndTarget(methodDefinition, target);\r\n                    if (serversMethodMap.length > 0) {\r\n                        clearInterval(interval);\r\n                        resolve(serversMethodMap);\r\n                    }\r\n                    else if (delayTillNow >= (additionalOptions.waitTimeoutMs || 10000)) {\r\n                        clearInterval(interval);\r\n                        reject();\r\n                        return;\r\n                    }\r\n                };\r\n                var interval = setInterval(retry, delayStep);\r\n            });\r\n        };\r\n        Client.prototype.filterByTarget = function (target, serverMethodMap) {\r\n            var _this = this;\r\n            if (typeof target === \"string\") {\r\n                if (target === \"all\") {\r\n                    return __spreadArrays(serverMethodMap);\r\n                }\r\n                else if (target === \"best\") {\r\n                    var localMachine = serverMethodMap\r\n                        .find(function (s) { return s.server.instance.isLocal; });\r\n                    if (localMachine) {\r\n                        return [localMachine];\r\n                    }\r\n                    if (serverMethodMap[0] !== undefined) {\r\n                        return [serverMethodMap[0]];\r\n                    }\r\n                }\r\n                else if (target === \"skipMine\") {\r\n                    return serverMethodMap.filter(function (_a) {\r\n                        var server = _a.server;\r\n                        return server.instance.peerId !== _this.instance.peerId;\r\n                    });\r\n                }\r\n            }\r\n            else {\r\n                var targetArray = void 0;\r\n                if (!Array.isArray(target)) {\r\n                    targetArray = [target];\r\n                }\r\n                else {\r\n                    targetArray = target;\r\n                }\r\n                var allServersMatching = targetArray.reduce(function (matches, filter) {\r\n                    var myMatches = serverMethodMap.filter(function (serverMethodPair) {\r\n                        return _this.instanceMatch(filter, serverMethodPair.server.instance);\r\n                    });\r\n                    return matches.concat(myMatches);\r\n                }, []);\r\n                return allServersMatching;\r\n            }\r\n            return [];\r\n        };\r\n        Client.prototype.instanceMatch = function (instanceFilter, instanceDefinition) {\r\n            return this.containsProps(instanceFilter, instanceDefinition);\r\n        };\r\n        Client.prototype.methodMatch = function (methodFilter, methodDefinition) {\r\n            return this.containsProps(methodFilter, methodDefinition);\r\n        };\r\n        Client.prototype.containsProps = function (filter, repoMethod) {\r\n            var filterProps = Object.keys(filter)\r\n                .filter(function (prop) {\r\n                return filter[prop] !== undefined\r\n                    && typeof filter[prop] !== \"function\"\r\n                    && prop !== \"object_types\"\r\n                    && prop !== \"display_name\"\r\n                    && prop !== \"id\"\r\n                    && prop !== \"gatewayId\"\r\n                    && prop !== \"identifier\"\r\n                    && prop[0] !== \"_\";\r\n            });\r\n            return filterProps.reduce(function (isMatch, prop) {\r\n                var filterValue = filter[prop];\r\n                var repoMethodValue = repoMethod[prop];\r\n                if (prop === \"objectTypes\") {\r\n                    var containsAllFromFilter = function (filterObjTypes, repoObjectTypes) {\r\n                        var objTypeToContains = filterObjTypes.reduce(function (object, objType) {\r\n                            object[objType] = false;\r\n                            return object;\r\n                        }, {});\r\n                        repoObjectTypes.forEach(function (repoObjType) {\r\n                            if (objTypeToContains[repoObjType] !== undefined) {\r\n                                objTypeToContains[repoObjType] = true;\r\n                            }\r\n                        });\r\n                        var filterIsFullfilled = function () { return Object.keys(objTypeToContains).reduce(function (isFullfiled, objType) {\r\n                            if (!objTypeToContains[objType]) {\r\n                                isFullfiled = false;\r\n                            }\r\n                            return isFullfiled;\r\n                        }, true); };\r\n                        return filterIsFullfilled();\r\n                    };\r\n                    if (filterValue.length > repoMethodValue.length\r\n                        || containsAllFromFilter(filterValue, repoMethodValue) === false) {\r\n                        isMatch = false;\r\n                    }\r\n                }\r\n                else if (String(filterValue).toLowerCase() !== String(repoMethodValue).toLowerCase()) {\r\n                    isMatch = false;\r\n                }\r\n                return isMatch;\r\n            }, true);\r\n        };\r\n        Client.prototype.getMethods = function (methodFilter) {\r\n            var _this = this;\r\n            if (methodFilter === undefined) {\r\n                return this.repo.getMethods();\r\n            }\r\n            var methods = this.repo.getMethods().filter(function (method) {\r\n                return _this.methodMatch(methodFilter, method);\r\n            });\r\n            return methods;\r\n        };\r\n        Client.prototype.getMethodsForInstance = function (instanceFilter) {\r\n            var _this = this;\r\n            var allServers = this.repo.getServers();\r\n            var matchingServers = allServers.filter(function (server) {\r\n                return _this.instanceMatch(instanceFilter, server.instance);\r\n            });\r\n            if (matchingServers.length === 0) {\r\n                return [];\r\n            }\r\n            var resultMethodsObject = {};\r\n            if (matchingServers.length === 1) {\r\n                resultMethodsObject = matchingServers[0].methods;\r\n            }\r\n            else {\r\n                matchingServers.forEach(function (server) {\r\n                    Object.keys(server.methods).forEach(function (methodKey) {\r\n                        var method = server.methods[methodKey];\r\n                        resultMethodsObject[method.identifier] = method;\r\n                    });\r\n                });\r\n            }\r\n            return Object.keys(resultMethodsObject)\r\n                .map(function (key) {\r\n                return resultMethodsObject[key];\r\n            });\r\n        };\r\n        Client.prototype.getServers = function (methodFilter) {\r\n            var _this = this;\r\n            var servers = this.repo.getServers();\r\n            if (methodFilter === undefined) {\r\n                return servers.map(function (server) {\r\n                    return { server: server, methods: [] };\r\n                });\r\n            }\r\n            return servers.reduce(function (prev, current) {\r\n                var methodsForServer = _this.repo.getServerMethodsById(current.id);\r\n                var matchingMethods = methodsForServer.filter(function (method) {\r\n                    return _this.methodMatch(methodFilter, method);\r\n                });\r\n                if (matchingMethods.length > 0) {\r\n                    prev.push({ server: current, methods: matchingMethods });\r\n                }\r\n                return prev;\r\n            }, []);\r\n        };\r\n        Client.prototype.getServerMethodsByFilterAndTarget = function (methodFilter, target) {\r\n            var serversMethodMap = this.getServers(methodFilter);\r\n            return this.filterByTarget(target, serversMethodMap);\r\n        };\r\n        return Client;\r\n    }());\n\n    var ServerSubscription = (function () {\r\n        function ServerSubscription(protocol, repoMethod, subscription) {\r\n            this.protocol = protocol;\r\n            this.repoMethod = repoMethod;\r\n            this.subscription = subscription;\r\n        }\r\n        Object.defineProperty(ServerSubscription.prototype, \"stream\", {\r\n            get: function () {\r\n                if (!this.repoMethod.stream) {\r\n                    throw new Error(\"no stream\");\r\n                }\r\n                return this.repoMethod.stream;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ServerSubscription.prototype, \"arguments\", {\r\n            get: function () { return this.subscription.arguments || {}; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ServerSubscription.prototype, \"branchKey\", {\r\n            get: function () { return this.subscription.branchKey; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ServerSubscription.prototype, \"instance\", {\r\n            get: function () {\r\n                if (!this.subscription.instance) {\r\n                    throw new Error(\"no instance\");\r\n                }\r\n                return this.subscription.instance;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ServerSubscription.prototype.close = function () {\r\n            this.protocol.server.closeSingleSubscription(this.repoMethod, this.subscription);\r\n        };\r\n        ServerSubscription.prototype.push = function (data) {\r\n            this.protocol.server.pushDataToSingle(this.repoMethod, this.subscription, data);\r\n        };\r\n        return ServerSubscription;\r\n    }());\n\n    var Request = (function () {\r\n        function Request(protocol, repoMethod, requestContext) {\r\n            this.protocol = protocol;\r\n            this.repoMethod = repoMethod;\r\n            this.requestContext = requestContext;\r\n            this.arguments = requestContext.arguments;\r\n            this.instance = requestContext.instance;\r\n        }\r\n        Request.prototype.accept = function () {\r\n            this.protocol.server.acceptRequestOnBranch(this.requestContext, this.repoMethod, \"\");\r\n        };\r\n        Request.prototype.acceptOnBranch = function (branch) {\r\n            this.protocol.server.acceptRequestOnBranch(this.requestContext, this.repoMethod, branch);\r\n        };\r\n        Request.prototype.reject = function (reason) {\r\n            this.protocol.server.rejectRequest(this.requestContext, this.repoMethod, reason);\r\n        };\r\n        return Request;\r\n    }());\n\n    var ServerStreaming = (function () {\r\n        function ServerStreaming(protocol, server) {\r\n            var _this = this;\r\n            this.protocol = protocol;\r\n            this.server = server;\r\n            protocol.server.onSubRequest(function (rc, rm) { return _this.handleSubRequest(rc, rm); });\r\n            protocol.server.onSubAdded(function (sub, rm) { return _this.handleSubAdded(sub, rm); });\r\n            protocol.server.onSubRemoved(function (sub, rm) { return _this.handleSubRemoved(sub, rm); });\r\n        }\r\n        ServerStreaming.prototype.handleSubRequest = function (requestContext, repoMethod) {\r\n            if (!(repoMethod &&\r\n                repoMethod.streamCallbacks &&\r\n                typeof repoMethod.streamCallbacks.subscriptionRequestHandler === \"function\")) {\r\n                return;\r\n            }\r\n            var request = new Request(this.protocol, repoMethod, requestContext);\r\n            repoMethod.streamCallbacks.subscriptionRequestHandler(request);\r\n        };\r\n        ServerStreaming.prototype.handleSubAdded = function (subscription, repoMethod) {\r\n            if (!(repoMethod &&\r\n                repoMethod.streamCallbacks &&\r\n                typeof repoMethod.streamCallbacks.subscriptionAddedHandler === \"function\")) {\r\n                return;\r\n            }\r\n            var sub = new ServerSubscription(this.protocol, repoMethod, subscription);\r\n            repoMethod.streamCallbacks.subscriptionAddedHandler(sub);\r\n        };\r\n        ServerStreaming.prototype.handleSubRemoved = function (subscription, repoMethod) {\r\n            if (!(repoMethod &&\r\n                repoMethod.streamCallbacks &&\r\n                typeof repoMethod.streamCallbacks.subscriptionRemovedHandler === \"function\")) {\r\n                return;\r\n            }\r\n            var sub = new ServerSubscription(this.protocol, repoMethod, subscription);\r\n            repoMethod.streamCallbacks.subscriptionRemovedHandler(sub);\r\n        };\r\n        return ServerStreaming;\r\n    }());\n\n    var ServerBranch = (function () {\r\n        function ServerBranch(key, protocol, repoMethod) {\r\n            this.key = key;\r\n            this.protocol = protocol;\r\n            this.repoMethod = repoMethod;\r\n        }\r\n        ServerBranch.prototype.subscriptions = function () {\r\n            var _this = this;\r\n            var subList = this.protocol.server.getSubscriptionList(this.repoMethod, this.key);\r\n            return subList.map(function (sub) {\r\n                return new ServerSubscription(_this.protocol, _this.repoMethod, sub);\r\n            });\r\n        };\r\n        ServerBranch.prototype.close = function () {\r\n            this.protocol.server.closeAllSubscriptions(this.repoMethod, this.key);\r\n        };\r\n        ServerBranch.prototype.push = function (data) {\r\n            this.protocol.server.pushData(this.repoMethod, data, [this.key]);\r\n        };\r\n        return ServerBranch;\r\n    }());\n\n    var ServerStream = (function () {\r\n        function ServerStream(_protocol, _repoMethod, _server) {\r\n            this._protocol = _protocol;\r\n            this._repoMethod = _repoMethod;\r\n            this._server = _server;\r\n            this.name = this._repoMethod.definition.name;\r\n        }\r\n        ServerStream.prototype.branches = function (key) {\r\n            var _this = this;\r\n            var bList = this._protocol.server.getBranchList(this._repoMethod);\r\n            if (key) {\r\n                if (bList.indexOf(key) > -1) {\r\n                    return new ServerBranch(key, this._protocol, this._repoMethod);\r\n                }\r\n                return undefined;\r\n            }\r\n            else {\r\n                return bList.map(function (branchKey) {\r\n                    return new ServerBranch(branchKey, _this._protocol, _this._repoMethod);\r\n                });\r\n            }\r\n        };\r\n        ServerStream.prototype.branch = function (key) {\r\n            return this.branches(key);\r\n        };\r\n        ServerStream.prototype.subscriptions = function () {\r\n            var _this = this;\r\n            var subList = this._protocol.server.getSubscriptionList(this._repoMethod);\r\n            return subList.map(function (sub) {\r\n                return new ServerSubscription(_this._protocol, _this._repoMethod, sub);\r\n            });\r\n        };\r\n        Object.defineProperty(ServerStream.prototype, \"definition\", {\r\n            get: function () {\r\n                var def2 = this._repoMethod.definition;\r\n                return {\r\n                    accepts: def2.accepts,\r\n                    description: def2.description,\r\n                    displayName: def2.displayName,\r\n                    name: def2.name,\r\n                    objectTypes: def2.objectTypes,\r\n                    returns: def2.returns,\r\n                    supportsStreaming: def2.supportsStreaming,\r\n                };\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ServerStream.prototype.close = function () {\r\n            this._protocol.server.closeAllSubscriptions(this._repoMethod);\r\n            this._server.unregister(this._repoMethod.definition, true);\r\n        };\r\n        ServerStream.prototype.push = function (data, branches) {\r\n            if (typeof branches !== \"string\" && !Array.isArray(branches) && branches !== undefined) {\r\n                throw new Error(\"invalid branches should be string or string array\");\r\n            }\r\n            if (typeof data !== \"object\") {\r\n                throw new Error(\"Invalid arguments. Data must be an object.\");\r\n            }\r\n            this._protocol.server.pushData(this._repoMethod, data, branches);\r\n        };\r\n        ServerStream.prototype.updateRepoMethod = function (repoMethod) {\r\n            this._repoMethod = repoMethod;\r\n        };\r\n        return ServerStream;\r\n    }());\n\n    var Server = (function () {\r\n        function Server(protocol, serverRepository) {\r\n            this.protocol = protocol;\r\n            this.serverRepository = serverRepository;\r\n            this.invocations = 0;\r\n            this.currentlyUnregistering = {};\r\n            this.streaming = new ServerStreaming(protocol, this);\r\n            this.protocol.server.onInvoked(this.onMethodInvoked.bind(this));\r\n        }\r\n        Server.prototype.createStream = function (streamDef, callbacks, successCallback, errorCallback, existingStream) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                if (!streamDef) {\r\n                    reject(\"The stream name must be unique! Please, provide either a unique string for a stream name to \\u201Cglue.interop.createStream()\\u201D or a \\u201CmethodDefinition\\u201D object with a unique \\u201Cname\\u201D property for the stream.\");\r\n                    return;\r\n                }\r\n                var streamMethodDefinition;\r\n                if (typeof streamDef === \"string\") {\r\n                    streamMethodDefinition = { name: \"\" + streamDef };\r\n                }\r\n                else {\r\n                    streamMethodDefinition = __assign$1({}, streamDef);\r\n                }\r\n                if (!streamMethodDefinition.name) {\r\n                    return reject(\"The \\u201Cname\\u201D property is required for the \\u201CstreamDefinition\\u201D object and must be unique. Stream definition: \" + JSON.stringify(streamMethodDefinition));\r\n                }\r\n                var nameAlreadyExists = _this.serverRepository.getList()\r\n                    .some(function (serverMethod) { return serverMethod.definition.name === streamMethodDefinition.name; });\r\n                if (nameAlreadyExists) {\r\n                    return reject(\"A stream with the name \\\"\" + streamMethodDefinition.name + \"\\\" already exists! Please, provide a unique name for the stream.\");\r\n                }\r\n                streamMethodDefinition.supportsStreaming = true;\r\n                if (!callbacks) {\r\n                    callbacks = {};\r\n                }\r\n                if (typeof callbacks.subscriptionRequestHandler !== \"function\") {\r\n                    callbacks.subscriptionRequestHandler = function (request) {\r\n                        request.accept();\r\n                    };\r\n                }\r\n                var repoMethod = _this.serverRepository.add({\r\n                    definition: streamMethodDefinition,\r\n                    streamCallbacks: callbacks,\r\n                    protocolState: {},\r\n                });\r\n                _this.protocol.server.createStream(repoMethod)\r\n                    .then(function () {\r\n                    var streamUserObject;\r\n                    if (existingStream) {\r\n                        streamUserObject = existingStream;\r\n                        existingStream.updateRepoMethod(repoMethod);\r\n                    }\r\n                    else {\r\n                        streamUserObject = new ServerStream(_this.protocol, repoMethod, _this);\r\n                    }\r\n                    repoMethod.stream = streamUserObject;\r\n                    resolve(streamUserObject);\r\n                })\r\n                    .catch(function (err) {\r\n                    if (repoMethod.repoId) {\r\n                        _this.serverRepository.remove(repoMethod.repoId);\r\n                    }\r\n                    reject(err);\r\n                });\r\n            });\r\n            return promisify(promise, successCallback, errorCallback);\r\n        };\r\n        Server.prototype.register = function (methodDefinition, callback) {\r\n            var _this = this;\r\n            if (!methodDefinition) {\r\n                return Promise.reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n            }\r\n            if (typeof callback !== \"function\") {\r\n                return Promise.reject(\"The second parameter must be a callback function. Method: \" + (typeof methodDefinition === \"string\" ? methodDefinition : methodDefinition.name));\r\n            }\r\n            var wrappedCallbackFunction = function (context, resultCallback) { return __awaiter$1(_this, void 0, void 0, function () {\r\n                var result, resultValue, e_1;\r\n                return __generator$1(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            _a.trys.push([0, 4, , 5]);\r\n                            result = callback(context.args, context.instance);\r\n                            if (!(result && typeof result.then === \"function\")) return [3, 2];\r\n                            return [4, result];\r\n                        case 1:\r\n                            resultValue = _a.sent();\r\n                            resultCallback(undefined, resultValue);\r\n                            return [3, 3];\r\n                        case 2:\r\n                            resultCallback(undefined, result);\r\n                            _a.label = 3;\r\n                        case 3: return [3, 5];\r\n                        case 4:\r\n                            e_1 = _a.sent();\r\n                            if (!e_1) {\r\n                                e_1 = \"\";\r\n                            }\r\n                            resultCallback(e_1, e_1);\r\n                            return [3, 5];\r\n                        case 5: return [2];\r\n                    }\r\n                });\r\n            }); };\r\n            wrappedCallbackFunction.userCallback = callback;\r\n            return this.registerCore(methodDefinition, wrappedCallbackFunction);\r\n        };\r\n        Server.prototype.registerAsync = function (methodDefinition, callback) {\r\n            if (!methodDefinition) {\r\n                return Promise.reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n            }\r\n            if (typeof callback !== \"function\") {\r\n                return Promise.reject(\"The second parameter must be a callback function. Method: \" + (typeof methodDefinition === \"string\" ? methodDefinition : methodDefinition.name));\r\n            }\r\n            var wrappedCallback = function (context, resultCallback) {\r\n                try {\r\n                    var resultCalled_1 = false;\r\n                    var success = function (result) {\r\n                        if (!resultCalled_1) {\r\n                            resultCallback(undefined, result);\r\n                        }\r\n                        resultCalled_1 = true;\r\n                    };\r\n                    var error = function (e) {\r\n                        if (!resultCalled_1) {\r\n                            if (!e) {\r\n                                e = \"\";\r\n                            }\r\n                            resultCallback(e, e);\r\n                        }\r\n                        resultCalled_1 = true;\r\n                    };\r\n                    var methodResult = callback(context.args, context.instance, success, error);\r\n                    if (methodResult && typeof methodResult.then === \"function\") {\r\n                        methodResult\r\n                            .then(success)\r\n                            .catch(error);\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    resultCallback(e, undefined);\r\n                }\r\n            };\r\n            wrappedCallback.userCallbackAsync = callback;\r\n            return this.registerCore(methodDefinition, wrappedCallback);\r\n        };\r\n        Server.prototype.unregister = function (methodFilter, forStream) {\r\n            if (forStream === void 0) { forStream = false; }\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var methodDefinition, methodToBeRemoved;\r\n                return __generator$1(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (methodFilter === undefined) {\r\n                                return [2, Promise.reject(\"Please, provide either a unique string for a name or an object containing a \\u201Cname\\u201D property.\")];\r\n                            }\r\n                            if (!(typeof methodFilter === \"function\")) return [3, 2];\r\n                            return [4, this.unregisterWithPredicate(methodFilter, forStream)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2];\r\n                        case 2:\r\n                            if (typeof methodFilter === \"string\") {\r\n                                methodDefinition = { name: methodFilter };\r\n                            }\r\n                            else {\r\n                                methodDefinition = methodFilter;\r\n                            }\r\n                            if (methodDefinition.name === undefined) {\r\n                                return [2, Promise.reject(\"Method name is required. Cannot find a method if the method name is undefined!\")];\r\n                            }\r\n                            methodToBeRemoved = this.serverRepository.getList().find(function (serverMethod) {\r\n                                return serverMethod.definition.name === methodDefinition.name\r\n                                    && (serverMethod.definition.supportsStreaming || false) === forStream;\r\n                            });\r\n                            if (!methodToBeRemoved) {\r\n                                return [2, Promise.reject(\"Method with a name \\\"\" + methodDefinition.name + \"\\\" does not exist or is not registered by your application!\")];\r\n                            }\r\n                            return [4, this.removeMethodsOrStreams([methodToBeRemoved])];\r\n                        case 3:\r\n                            _a.sent();\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Server.prototype.unregisterWithPredicate = function (filterPredicate, forStream) {\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var methodsOrStreamsToRemove;\r\n                return __generator$1(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            methodsOrStreamsToRemove = this.serverRepository.getList()\r\n                                .filter(function (sm) { return filterPredicate(sm.definition); })\r\n                                .filter(function (serverMethod) {\r\n                                return (serverMethod.definition.supportsStreaming || false) === forStream;\r\n                            });\r\n                            if (!methodsOrStreamsToRemove || methodsOrStreamsToRemove.length === 0) {\r\n                                return [2, Promise.reject(\"Could not find a \" + (forStream ? \"stream\" : \"method\") + \" matching the specified condition!\")];\r\n                            }\r\n                            return [4, this.removeMethodsOrStreams(methodsOrStreamsToRemove)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Server.prototype.removeMethodsOrStreams = function (methodsToRemove) {\r\n            var _this = this;\r\n            var methodUnregPromises = [];\r\n            methodsToRemove.forEach(function (method) {\r\n                var promise = _this.protocol.server.unregister(method)\r\n                    .then(function () {\r\n                    if (method.repoId) {\r\n                        _this.serverRepository.remove(method.repoId);\r\n                    }\r\n                });\r\n                methodUnregPromises.push(promise);\r\n                _this.addAsCurrentlyUnregistering(method.definition.name, promise);\r\n            });\r\n            return Promise.all(methodUnregPromises);\r\n        };\r\n        Server.prototype.addAsCurrentlyUnregistering = function (methodName, promise) {\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var timeout;\r\n                var _this = this;\r\n                return __generator$1(this, function (_a) {\r\n                    timeout = new Promise(function (resolve) { return setTimeout(resolve, 5000); });\r\n                    this.currentlyUnregistering[methodName] = Promise.race([promise, timeout]).then(function () {\r\n                        delete _this.currentlyUnregistering[methodName];\r\n                    });\r\n                    return [2];\r\n                });\r\n            });\r\n        };\r\n        Server.prototype.registerCore = function (method, theFunction) {\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var methodDefinition, unregisterInProgress, nameAlreadyExists, repoMethod;\r\n                var _this = this;\r\n                return __generator$1(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (typeof method === \"string\") {\r\n                                methodDefinition = { name: \"\" + method };\r\n                            }\r\n                            else {\r\n                                methodDefinition = __assign$1({}, method);\r\n                            }\r\n                            if (!methodDefinition.name) {\r\n                                return [2, Promise.reject(\"Please, provide a (unique) string value for the \\u201Cname\\u201D property in the \\u201CmethodDefinition\\u201D object: \" + JSON.stringify(method))];\r\n                            }\r\n                            unregisterInProgress = this.currentlyUnregistering[methodDefinition.name];\r\n                            if (!unregisterInProgress) return [3, 2];\r\n                            return [4, unregisterInProgress];\r\n                        case 1:\r\n                            _a.sent();\r\n                            _a.label = 2;\r\n                        case 2:\r\n                            nameAlreadyExists = this.serverRepository.getList()\r\n                                .some(function (serverMethod) { return serverMethod.definition.name === methodDefinition.name; });\r\n                            if (nameAlreadyExists) {\r\n                                return [2, Promise.reject(\"A method with the name \\\"\" + methodDefinition.name + \"\\\" already exists! Please, provide a unique name for the method.\")];\r\n                            }\r\n                            if (methodDefinition.supportsStreaming) {\r\n                                return [2, Promise.reject(\"When you create methods with \\u201Cglue.interop.register()\\u201D or \\u201Cglue.interop.registerAsync()\\u201D the property \\u201CsupportsStreaming\\u201D cannot be \\u201Ctrue\\u201D. If you want \\u201C\" + methodDefinition.name + \"\\u201D to be a stream, please use the \\u201Cglue.interop.createStream()\\u201D method.\")];\r\n                            }\r\n                            repoMethod = this.serverRepository.add({\r\n                                definition: methodDefinition,\r\n                                theFunction: theFunction,\r\n                                protocolState: {},\r\n                            });\r\n                            return [2, this.protocol.server.register(repoMethod)\r\n                                    .catch(function (err) {\r\n                                    if (repoMethod === null || repoMethod === void 0 ? void 0 : repoMethod.repoId) {\r\n                                        _this.serverRepository.remove(repoMethod.repoId);\r\n                                    }\r\n                                    throw err;\r\n                                })];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Server.prototype.onMethodInvoked = function (methodToExecute, invocationId, invocationArgs) {\r\n            var _this = this;\r\n            if (!methodToExecute || !methodToExecute.theFunction) {\r\n                return;\r\n            }\r\n            methodToExecute.theFunction(invocationArgs, function (err, result) {\r\n                if (err !== undefined && err !== null) {\r\n                    if (err.message && typeof err.message === \"string\") {\r\n                        err = err.message;\r\n                    }\r\n                    else if (typeof err !== \"string\") {\r\n                        try {\r\n                            err = JSON.stringify(err);\r\n                        }\r\n                        catch (unStrException) {\r\n                            err = \"un-stringifyable error in onMethodInvoked! Top level prop names: \" + Object.keys(err);\r\n                        }\r\n                    }\r\n                }\r\n                if (!result) {\r\n                    result = {};\r\n                }\r\n                else if (typeof result !== \"object\" || Array.isArray(result)) {\r\n                    result = { _value: result };\r\n                }\r\n                _this.protocol.server.methodInvocationResult(methodToExecute, invocationId, err, result);\r\n            });\r\n        };\r\n        return Server;\r\n    }());\n\n    var InstanceWrapper = (function () {\r\n        function InstanceWrapper(instance, connection) {\r\n            var _this = this;\r\n            this.wrapped = {\r\n                getMethods: getMethods,\r\n                getStreams: getStreams,\r\n            };\r\n            if (instance) {\r\n                this.refreshWrappedObject(instance);\r\n            }\r\n            if (connection) {\r\n                connection.loggedIn(function () {\r\n                    _this.refresh(connection);\r\n                });\r\n                this.refresh(connection);\r\n            }\r\n        }\r\n        InstanceWrapper.prototype.unwrap = function () {\r\n            return this.wrapped;\r\n        };\r\n        InstanceWrapper.prototype.refresh = function (connection) {\r\n            if (!connection) {\r\n                return;\r\n            }\r\n            var resolvedIdentity = connection === null || connection === void 0 ? void 0 : connection.resolvedIdentity;\r\n            var instance = Object.assign({}, resolvedIdentity !== null && resolvedIdentity !== void 0 ? resolvedIdentity : {}, { peerId: connection === null || connection === void 0 ? void 0 : connection.peerId });\r\n            this.refreshWrappedObject(instance);\r\n        };\r\n        InstanceWrapper.prototype.refreshWrappedObject = function (resolvedIdentity) {\r\n            var _a, _b, _c;\r\n            this.wrapped.user = resolvedIdentity.user;\r\n            this.wrapped.instance = resolvedIdentity.instance;\r\n            this.wrapped.application = (_a = resolvedIdentity.application) !== null && _a !== void 0 ? _a : shortid();\r\n            this.wrapped.applicationName = resolvedIdentity.applicationName;\r\n            this.wrapped.pid = (_c = (_b = resolvedIdentity.pid) !== null && _b !== void 0 ? _b : resolvedIdentity.process) !== null && _c !== void 0 ? _c : Math.floor(Math.random() * 10000000000);\r\n            this.wrapped.machine = resolvedIdentity.machine;\r\n            this.wrapped.environment = resolvedIdentity.environment;\r\n            this.wrapped.region = resolvedIdentity.region;\r\n            this.wrapped.windowId = resolvedIdentity.windowId;\r\n            this.wrapped.isLocal = true;\r\n            this.wrapped.api = resolvedIdentity.api;\r\n            this.wrapped.service = resolvedIdentity.service;\r\n            this.wrapped.peerId = resolvedIdentity.peerId;\r\n        };\r\n        return InstanceWrapper;\r\n    }());\r\n    function getMethods() {\r\n        var _a;\r\n        return (_a = InstanceWrapper.API) === null || _a === void 0 ? void 0 : _a.methodsForInstance(this);\r\n    }\r\n    function getStreams() {\r\n        var _a;\r\n        return (_a = InstanceWrapper.API) === null || _a === void 0 ? void 0 : _a.methodsForInstance(this).filter(function (m) { return m.supportsStreaming; });\r\n    }\n\n    var ClientRepository = (function () {\r\n        function ClientRepository(logger) {\r\n            this.logger = logger;\r\n            this.servers = {};\r\n            this.methodsCount = {};\r\n            this.callbacks = lib();\r\n        }\r\n        ClientRepository.prototype.addServer = function (info, serverId) {\r\n            this.logger.debug(\"adding server \" + serverId);\r\n            var current = this.servers[serverId];\r\n            if (current) {\r\n                return current.id;\r\n            }\r\n            var wrapper = new InstanceWrapper(info);\r\n            var serverEntry = {\r\n                id: serverId,\r\n                methods: {},\r\n                instance: wrapper.unwrap(),\r\n                wrapper: wrapper,\r\n            };\r\n            this.servers[serverId] = serverEntry;\r\n            this.callbacks.execute(\"onServerAdded\", serverEntry.instance);\r\n            return serverId;\r\n        };\r\n        ClientRepository.prototype.removeServerById = function (id, reason) {\r\n            var _this = this;\r\n            var server = this.servers[id];\r\n            if (!server) {\r\n                this.logger.warn(\"not aware of server \" + id + \", my state \" + JSON.stringify(Object.keys(this.servers)));\r\n                return;\r\n            }\r\n            else {\r\n                this.logger.debug(\"removing server \" + id);\r\n            }\r\n            Object.keys(server.methods).forEach(function (methodId) {\r\n                _this.removeServerMethod(id, methodId);\r\n            });\r\n            delete this.servers[id];\r\n            this.callbacks.execute(\"onServerRemoved\", server.instance, reason);\r\n        };\r\n        ClientRepository.prototype.addServerMethod = function (serverId, method) {\r\n            var server = this.servers[serverId];\r\n            if (!server) {\r\n                throw new Error(\"server does not exists\");\r\n            }\r\n            if (server.methods[method.id]) {\r\n                return;\r\n            }\r\n            var identifier = this.createMethodIdentifier(method);\r\n            var that = this;\r\n            var methodDefinition = {\r\n                identifier: identifier,\r\n                gatewayId: method.id,\r\n                name: method.name,\r\n                displayName: method.display_name,\r\n                description: method.description,\r\n                version: method.version,\r\n                objectTypes: method.object_types || [],\r\n                accepts: method.input_signature,\r\n                returns: method.result_signature,\r\n                supportsStreaming: typeof method.flags !== \"undefined\" ? method.flags.streaming : false,\r\n                getServers: function () {\r\n                    return that.getServersByMethod(identifier);\r\n                }\r\n            };\r\n            methodDefinition.object_types = methodDefinition.objectTypes;\r\n            methodDefinition.display_name = methodDefinition.displayName;\r\n            methodDefinition.version = methodDefinition.version;\r\n            server.methods[method.id] = methodDefinition;\r\n            if (!this.methodsCount[identifier]) {\r\n                this.methodsCount[identifier] = 0;\r\n                this.callbacks.execute(\"onMethodAdded\", methodDefinition);\r\n            }\r\n            this.methodsCount[identifier] = this.methodsCount[identifier] + 1;\r\n            this.callbacks.execute(\"onServerMethodAdded\", server.instance, methodDefinition);\r\n            return methodDefinition;\r\n        };\r\n        ClientRepository.prototype.removeServerMethod = function (serverId, methodId) {\r\n            var server = this.servers[serverId];\r\n            if (!server) {\r\n                throw new Error(\"server does not exists\");\r\n            }\r\n            var method = server.methods[methodId];\r\n            delete server.methods[methodId];\r\n            this.methodsCount[method.identifier] = this.methodsCount[method.identifier] - 1;\r\n            if (this.methodsCount[method.identifier] === 0) {\r\n                this.callbacks.execute(\"onMethodRemoved\", method);\r\n            }\r\n            this.callbacks.execute(\"onServerMethodRemoved\", server.instance, method);\r\n        };\r\n        ClientRepository.prototype.getMethods = function () {\r\n            var _this = this;\r\n            var allMethods = {};\r\n            Object.keys(this.servers).forEach(function (serverId) {\r\n                var server = _this.servers[serverId];\r\n                Object.keys(server.methods).forEach(function (methodId) {\r\n                    var method = server.methods[methodId];\r\n                    allMethods[method.identifier] = method;\r\n                });\r\n            });\r\n            var methodsAsArray = Object.keys(allMethods).map(function (id) {\r\n                return allMethods[id];\r\n            });\r\n            return methodsAsArray;\r\n        };\r\n        ClientRepository.prototype.getServers = function () {\r\n            var _this = this;\r\n            var allServers = [];\r\n            Object.keys(this.servers).forEach(function (serverId) {\r\n                var server = _this.servers[serverId];\r\n                allServers.push(server);\r\n            });\r\n            return allServers;\r\n        };\r\n        ClientRepository.prototype.getServerMethodsById = function (serverId) {\r\n            var server = this.servers[serverId];\r\n            return Object.keys(server.methods).map(function (id) {\r\n                return server.methods[id];\r\n            });\r\n        };\r\n        ClientRepository.prototype.onServerAdded = function (callback) {\r\n            var unsubscribeFunc = this.callbacks.add(\"onServerAdded\", callback);\r\n            var serversWithMethodsToReplay = this.getServers().map(function (s) { return s.instance; });\r\n            return this.returnUnsubWithDelayedReplay(unsubscribeFunc, serversWithMethodsToReplay, callback);\r\n        };\r\n        ClientRepository.prototype.onMethodAdded = function (callback) {\r\n            var unsubscribeFunc = this.callbacks.add(\"onMethodAdded\", callback);\r\n            var methodsToReplay = this.getMethods();\r\n            return this.returnUnsubWithDelayedReplay(unsubscribeFunc, methodsToReplay, callback);\r\n        };\r\n        ClientRepository.prototype.onServerMethodAdded = function (callback) {\r\n            var unsubscribeFunc = this.callbacks.add(\"onServerMethodAdded\", callback);\r\n            var unsubCalled = false;\r\n            var servers = this.getServers();\r\n            setTimeout(function () {\r\n                servers.forEach(function (server) {\r\n                    var methods = server.methods;\r\n                    Object.keys(methods).forEach(function (methodId) {\r\n                        if (!unsubCalled) {\r\n                            callback(server.instance, methods[methodId]);\r\n                        }\r\n                    });\r\n                });\r\n            }, 0);\r\n            return function () {\r\n                unsubCalled = true;\r\n                unsubscribeFunc();\r\n            };\r\n        };\r\n        ClientRepository.prototype.onMethodRemoved = function (callback) {\r\n            var unsubscribeFunc = this.callbacks.add(\"onMethodRemoved\", callback);\r\n            return unsubscribeFunc;\r\n        };\r\n        ClientRepository.prototype.onServerRemoved = function (callback) {\r\n            var unsubscribeFunc = this.callbacks.add(\"onServerRemoved\", callback);\r\n            return unsubscribeFunc;\r\n        };\r\n        ClientRepository.prototype.onServerMethodRemoved = function (callback) {\r\n            var unsubscribeFunc = this.callbacks.add(\"onServerMethodRemoved\", callback);\r\n            return unsubscribeFunc;\r\n        };\r\n        ClientRepository.prototype.getServerById = function (id) {\r\n            return this.servers[id];\r\n        };\r\n        ClientRepository.prototype.reset = function () {\r\n            var _this = this;\r\n            Object.keys(this.servers).forEach(function (key) {\r\n                _this.removeServerById(key, \"reset\");\r\n            });\r\n            this.servers = {};\r\n            this.methodsCount = {};\r\n        };\r\n        ClientRepository.prototype.createMethodIdentifier = function (methodInfo) {\r\n            var accepts = methodInfo.input_signature !== undefined ? methodInfo.input_signature : \"\";\r\n            var returns = methodInfo.result_signature !== undefined ? methodInfo.result_signature : \"\";\r\n            return (methodInfo.name + accepts + returns).toLowerCase();\r\n        };\r\n        ClientRepository.prototype.getServersByMethod = function (identifier) {\r\n            var _this = this;\r\n            var allServers = [];\r\n            Object.keys(this.servers).forEach(function (serverId) {\r\n                var server = _this.servers[serverId];\r\n                Object.keys(server.methods).forEach(function (methodId) {\r\n                    var methodInfo = server.methods[methodId];\r\n                    if (methodInfo.identifier === identifier) {\r\n                        allServers.push(server.instance);\r\n                    }\r\n                });\r\n            });\r\n            return allServers;\r\n        };\r\n        ClientRepository.prototype.returnUnsubWithDelayedReplay = function (unsubscribeFunc, collectionToReplay, callback) {\r\n            var unsubCalled = false;\r\n            setTimeout(function () {\r\n                collectionToReplay.forEach(function (item) {\r\n                    if (!unsubCalled) {\r\n                        callback(item);\r\n                    }\r\n                });\r\n            }, 0);\r\n            return function () {\r\n                unsubCalled = true;\r\n                unsubscribeFunc();\r\n            };\r\n        };\r\n        return ClientRepository;\r\n    }());\n\n    var ServerRepository = (function () {\r\n        function ServerRepository() {\r\n            this.nextId = 0;\r\n            this.methods = [];\r\n        }\r\n        ServerRepository.prototype.add = function (method) {\r\n            method.repoId = String(this.nextId);\r\n            this.nextId += 1;\r\n            this.methods.push(method);\r\n            return method;\r\n        };\r\n        ServerRepository.prototype.remove = function (repoId) {\r\n            if (typeof repoId !== \"string\") {\r\n                return new TypeError(\"Expecting a string\");\r\n            }\r\n            this.methods = this.methods.filter(function (m) {\r\n                return m.repoId !== repoId;\r\n            });\r\n        };\r\n        ServerRepository.prototype.getById = function (id) {\r\n            if (typeof id !== \"string\") {\r\n                return undefined;\r\n            }\r\n            return this.methods.find(function (m) {\r\n                return m.repoId === id;\r\n            });\r\n        };\r\n        ServerRepository.prototype.getList = function () {\r\n            return this.methods.map(function (m) { return m; });\r\n        };\r\n        ServerRepository.prototype.length = function () {\r\n            return this.methods.length;\r\n        };\r\n        ServerRepository.prototype.reset = function () {\r\n            this.methods = [];\r\n        };\r\n        return ServerRepository;\r\n    }());\n\n    var SUBSCRIPTION_REQUEST = \"onSubscriptionRequest\";\r\n    var SUBSCRIPTION_ADDED = \"onSubscriptionAdded\";\r\n    var SUBSCRIPTION_REMOVED = \"onSubscriptionRemoved\";\r\n    var ServerStreaming$1 = (function () {\r\n        function ServerStreaming(session, repository, serverRepository) {\r\n            var _this = this;\r\n            this.session = session;\r\n            this.repository = repository;\r\n            this.serverRepository = serverRepository;\r\n            this.ERR_URI_SUBSCRIPTION_FAILED = \"com.tick42.agm.errors.subscription.failure\";\r\n            this.callbacks = lib();\r\n            this.nextStreamId = 0;\r\n            session.on(\"add-interest\", function (msg) {\r\n                _this.handleAddInterest(msg);\r\n            });\r\n            session.on(\"remove-interest\", function (msg) {\r\n                _this.handleRemoveInterest(msg);\r\n            });\r\n        }\r\n        ServerStreaming.prototype.acceptRequestOnBranch = function (requestContext, streamingMethod, branch) {\r\n            if (typeof branch !== \"string\") {\r\n                branch = \"\";\r\n            }\r\n            if (typeof streamingMethod.protocolState.subscriptionsMap !== \"object\") {\r\n                throw new TypeError(\"The streaming method is missing its subscriptions.\");\r\n            }\r\n            if (!Array.isArray(streamingMethod.protocolState.branchKeyToStreamIdMap)) {\r\n                throw new TypeError(\"The streaming method is missing its branches.\");\r\n            }\r\n            var streamId = this.getStreamId(streamingMethod, branch);\r\n            var key = requestContext.msg.subscription_id;\r\n            var subscription = {\r\n                id: key,\r\n                arguments: requestContext.arguments,\r\n                instance: requestContext.instance,\r\n                branchKey: branch,\r\n                streamId: streamId,\r\n                subscribeMsg: requestContext.msg,\r\n            };\r\n            streamingMethod.protocolState.subscriptionsMap[key] = subscription;\r\n            this.session.sendFireAndForget({\r\n                type: \"accepted\",\r\n                subscription_id: key,\r\n                stream_id: streamId,\r\n            });\r\n            this.callbacks.execute(SUBSCRIPTION_ADDED, subscription, streamingMethod);\r\n        };\r\n        ServerStreaming.prototype.rejectRequest = function (requestContext, streamingMethod, reason) {\r\n            if (typeof reason !== \"string\") {\r\n                reason = \"\";\r\n            }\r\n            this.sendSubscriptionFailed(\"Subscription rejected by user. \" + reason, requestContext.msg.subscription_id);\r\n        };\r\n        ServerStreaming.prototype.pushData = function (streamingMethod, data, branches) {\r\n            var _this = this;\r\n            if (typeof streamingMethod !== \"object\" || !Array.isArray(streamingMethod.protocolState.branchKeyToStreamIdMap)) {\r\n                return;\r\n            }\r\n            if (typeof data !== \"object\") {\r\n                throw new Error(\"Invalid arguments. Data must be an object.\");\r\n            }\r\n            if (typeof branches === \"string\") {\r\n                branches = [branches];\r\n            }\r\n            else if (!Array.isArray(branches) || branches.length <= 0) {\r\n                branches = [];\r\n            }\r\n            var streamIdList = streamingMethod.protocolState.branchKeyToStreamIdMap\r\n                .filter(function (br) {\r\n                if (!branches || branches.length === 0) {\r\n                    return true;\r\n                }\r\n                return branches.indexOf(br.key) >= 0;\r\n            }).map(function (br) {\r\n                return br.streamId;\r\n            });\r\n            streamIdList.forEach(function (streamId) {\r\n                var publishMessage = {\r\n                    type: \"publish\",\r\n                    stream_id: streamId,\r\n                    data: data,\r\n                };\r\n                _this.session.sendFireAndForget(publishMessage);\r\n            });\r\n        };\r\n        ServerStreaming.prototype.pushDataToSingle = function (method, subscription, data) {\r\n            if (typeof data !== \"object\") {\r\n                throw new Error(\"Invalid arguments. Data must be an object.\");\r\n            }\r\n            var postMessage = {\r\n                type: \"post\",\r\n                subscription_id: subscription.id,\r\n                data: data,\r\n            };\r\n            this.session.sendFireAndForget(postMessage);\r\n        };\r\n        ServerStreaming.prototype.closeSingleSubscription = function (streamingMethod, subscription) {\r\n            if (streamingMethod.protocolState.subscriptionsMap) {\r\n                delete streamingMethod.protocolState.subscriptionsMap[subscription.id];\r\n            }\r\n            var dropSubscriptionMessage = {\r\n                type: \"drop-subscription\",\r\n                subscription_id: subscription.id,\r\n                reason: \"Server dropping a single subscription\",\r\n            };\r\n            this.session.sendFireAndForget(dropSubscriptionMessage);\r\n            var subscriber = subscription.instance;\r\n            this.callbacks.execute(SUBSCRIPTION_REMOVED, subscription, streamingMethod);\r\n        };\r\n        ServerStreaming.prototype.closeMultipleSubscriptions = function (streamingMethod, branchKey) {\r\n            var _this = this;\r\n            if (typeof streamingMethod !== \"object\" || typeof streamingMethod.protocolState.subscriptionsMap !== \"object\") {\r\n                return;\r\n            }\r\n            if (!streamingMethod.protocolState.subscriptionsMap) {\r\n                return;\r\n            }\r\n            var subscriptionsMap = streamingMethod.protocolState.subscriptionsMap;\r\n            var subscriptionsToClose = Object.keys(subscriptionsMap)\r\n                .map(function (key) {\r\n                return subscriptionsMap[key];\r\n            });\r\n            if (typeof branchKey === \"string\") {\r\n                subscriptionsToClose = subscriptionsToClose.filter(function (sub) {\r\n                    return sub.branchKey === branchKey;\r\n                });\r\n            }\r\n            subscriptionsToClose.forEach(function (subscription) {\r\n                delete subscriptionsMap[subscription.id];\r\n                var drop = {\r\n                    type: \"drop-subscription\",\r\n                    subscription_id: subscription.id,\r\n                    reason: \"Server dropping all subscriptions on stream_id: \" + subscription.streamId,\r\n                };\r\n                _this.session.sendFireAndForget(drop);\r\n            });\r\n        };\r\n        ServerStreaming.prototype.getSubscriptionList = function (streamingMethod, branchKey) {\r\n            if (typeof streamingMethod !== \"object\") {\r\n                return [];\r\n            }\r\n            var subscriptions = [];\r\n            if (!streamingMethod.protocolState.subscriptionsMap) {\r\n                return [];\r\n            }\r\n            var subscriptionsMap = streamingMethod.protocolState.subscriptionsMap;\r\n            var allSubscriptions = Object.keys(subscriptionsMap)\r\n                .map(function (key) {\r\n                return subscriptionsMap[key];\r\n            });\r\n            if (typeof branchKey !== \"string\") {\r\n                subscriptions = allSubscriptions;\r\n            }\r\n            else {\r\n                subscriptions = allSubscriptions.filter(function (sub) {\r\n                    return sub.branchKey === branchKey;\r\n                });\r\n            }\r\n            return subscriptions;\r\n        };\r\n        ServerStreaming.prototype.getBranchList = function (streamingMethod) {\r\n            if (typeof streamingMethod !== \"object\") {\r\n                return [];\r\n            }\r\n            if (!streamingMethod.protocolState.subscriptionsMap) {\r\n                return [];\r\n            }\r\n            var subscriptionsMap = streamingMethod.protocolState.subscriptionsMap;\r\n            var allSubscriptions = Object.keys(subscriptionsMap)\r\n                .map(function (key) {\r\n                return subscriptionsMap[key];\r\n            });\r\n            var result = [];\r\n            allSubscriptions.forEach(function (sub) {\r\n                var branch = \"\";\r\n                if (typeof sub === \"object\" && typeof sub.branchKey === \"string\") {\r\n                    branch = sub.branchKey;\r\n                }\r\n                if (result.indexOf(branch) === -1) {\r\n                    result.push(branch);\r\n                }\r\n            });\r\n            return result;\r\n        };\r\n        ServerStreaming.prototype.onSubAdded = function (callback) {\r\n            this.onSubscriptionLifetimeEvent(SUBSCRIPTION_ADDED, callback);\r\n        };\r\n        ServerStreaming.prototype.onSubRequest = function (callback) {\r\n            this.onSubscriptionLifetimeEvent(SUBSCRIPTION_REQUEST, callback);\r\n        };\r\n        ServerStreaming.prototype.onSubRemoved = function (callback) {\r\n            this.onSubscriptionLifetimeEvent(SUBSCRIPTION_REMOVED, callback);\r\n        };\r\n        ServerStreaming.prototype.handleRemoveInterest = function (msg) {\r\n            var streamingMethod = this.serverRepository.getById(msg.method_id);\r\n            if (typeof msg.subscription_id !== \"string\" ||\r\n                typeof streamingMethod !== \"object\") {\r\n                return;\r\n            }\r\n            if (!streamingMethod.protocolState.subscriptionsMap) {\r\n                return;\r\n            }\r\n            if (typeof streamingMethod.protocolState.subscriptionsMap[msg.subscription_id] !== \"object\") {\r\n                return;\r\n            }\r\n            var subscription = streamingMethod.protocolState.subscriptionsMap[msg.subscription_id];\r\n            delete streamingMethod.protocolState.subscriptionsMap[msg.subscription_id];\r\n            this.callbacks.execute(SUBSCRIPTION_REMOVED, subscription, streamingMethod);\r\n        };\r\n        ServerStreaming.prototype.onSubscriptionLifetimeEvent = function (eventName, handlerFunc) {\r\n            this.callbacks.add(eventName, handlerFunc);\r\n        };\r\n        ServerStreaming.prototype.getNextStreamId = function () {\r\n            return this.nextStreamId++ + \"\";\r\n        };\r\n        ServerStreaming.prototype.handleAddInterest = function (msg) {\r\n            var caller = this.repository.getServerById(msg.caller_id);\r\n            var instance = caller.instance;\r\n            var requestContext = {\r\n                msg: msg,\r\n                arguments: msg.arguments_kv || {},\r\n                instance: instance,\r\n            };\r\n            var streamingMethod = this.serverRepository.getById(msg.method_id);\r\n            if (streamingMethod === undefined) {\r\n                var errorMsg = \"No method with id \" + msg.method_id + \" on this server.\";\r\n                this.sendSubscriptionFailed(errorMsg, msg.subscription_id);\r\n                return;\r\n            }\r\n            if (streamingMethod.protocolState.subscriptionsMap &&\r\n                streamingMethod.protocolState.subscriptionsMap[msg.subscription_id]) {\r\n                this.sendSubscriptionFailed(\"A subscription with id \" + msg.subscription_id + \" already exists.\", msg.subscription_id);\r\n                return;\r\n            }\r\n            this.callbacks.execute(SUBSCRIPTION_REQUEST, requestContext, streamingMethod);\r\n        };\r\n        ServerStreaming.prototype.sendSubscriptionFailed = function (reason, subscriptionId) {\r\n            var errorMessage = {\r\n                type: \"error\",\r\n                reason_uri: this.ERR_URI_SUBSCRIPTION_FAILED,\r\n                reason: reason,\r\n                request_id: subscriptionId,\r\n            };\r\n            this.session.sendFireAndForget(errorMessage);\r\n        };\r\n        ServerStreaming.prototype.getStreamId = function (streamingMethod, branchKey) {\r\n            if (typeof branchKey !== \"string\") {\r\n                branchKey = \"\";\r\n            }\r\n            if (!streamingMethod.protocolState.branchKeyToStreamIdMap) {\r\n                throw new Error(\"streaming \" + streamingMethod.definition.name + \" method without protocol state\");\r\n            }\r\n            var needleBranch = streamingMethod.protocolState.branchKeyToStreamIdMap.filter(function (branch) {\r\n                return branch.key === branchKey;\r\n            })[0];\r\n            var streamId = (needleBranch ? needleBranch.streamId : undefined);\r\n            if (typeof streamId !== \"string\" || streamId === \"\") {\r\n                streamId = this.getNextStreamId();\r\n                streamingMethod.protocolState.branchKeyToStreamIdMap.push({ key: branchKey, streamId: streamId });\r\n            }\r\n            return streamId;\r\n        };\r\n        return ServerStreaming;\r\n    }());\n\n    var ServerProtocol = (function () {\r\n        function ServerProtocol(session, clientRepository, serverRepository, logger) {\r\n            var _this = this;\r\n            this.session = session;\r\n            this.clientRepository = clientRepository;\r\n            this.serverRepository = serverRepository;\r\n            this.logger = logger;\r\n            this.callbacks = lib();\r\n            this.streaming = new ServerStreaming$1(session, clientRepository, serverRepository);\r\n            this.session.on(\"invoke\", function (msg) { return _this.handleInvokeMessage(msg); });\r\n        }\r\n        ServerProtocol.prototype.createStream = function (repoMethod) {\r\n            repoMethod.protocolState.subscriptionsMap = {};\r\n            repoMethod.protocolState.branchKeyToStreamIdMap = [];\r\n            return this.register(repoMethod, true);\r\n        };\r\n        ServerProtocol.prototype.register = function (repoMethod, isStreaming) {\r\n            var _this = this;\r\n            var methodDef = repoMethod.definition;\r\n            var flags = { streaming: isStreaming || false };\r\n            var registerMsg = {\r\n                type: \"register\",\r\n                methods: [{\r\n                        id: repoMethod.repoId,\r\n                        name: methodDef.name,\r\n                        display_name: methodDef.displayName,\r\n                        description: methodDef.description,\r\n                        version: methodDef.version,\r\n                        flags: flags,\r\n                        object_types: methodDef.objectTypes || methodDef.object_types,\r\n                        input_signature: methodDef.accepts,\r\n                        result_signature: methodDef.returns,\r\n                        restrictions: undefined,\r\n                    }],\r\n            };\r\n            return this.session.send(registerMsg, { methodId: repoMethod.repoId })\r\n                .then(function () {\r\n                _this.logger.debug(\"registered method \" + repoMethod.definition.name + \" with id \" + repoMethod.repoId);\r\n            })\r\n                .catch(function (msg) {\r\n                _this.logger.warn(\"failed to register method \" + repoMethod.definition.name + \" with id \" + repoMethod.repoId + \" - \" + JSON.stringify(msg));\r\n                throw msg;\r\n            });\r\n        };\r\n        ServerProtocol.prototype.onInvoked = function (callback) {\r\n            this.callbacks.add(\"onInvoked\", callback);\r\n        };\r\n        ServerProtocol.prototype.methodInvocationResult = function (method, invocationId, err, result) {\r\n            var msg;\r\n            if (err || err === \"\") {\r\n                msg = {\r\n                    type: \"error\",\r\n                    request_id: invocationId,\r\n                    reason_uri: \"agm.errors.client_error\",\r\n                    reason: err,\r\n                    context: result,\r\n                    peer_id: undefined,\r\n                };\r\n            }\r\n            else {\r\n                msg = {\r\n                    type: \"yield\",\r\n                    invocation_id: invocationId,\r\n                    peer_id: this.session.peerId,\r\n                    result: result,\r\n                    request_id: undefined,\r\n                };\r\n            }\r\n            this.session.sendFireAndForget(msg);\r\n        };\r\n        ServerProtocol.prototype.unregister = function (method) {\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var msg;\r\n                return __generator$1(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            msg = {\r\n                                type: \"unregister\",\r\n                                methods: [method.repoId],\r\n                            };\r\n                            return [4, this.session.send(msg)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ServerProtocol.prototype.getBranchList = function (method) {\r\n            return this.streaming.getBranchList(method);\r\n        };\r\n        ServerProtocol.prototype.getSubscriptionList = function (method, branchKey) {\r\n            return this.streaming.getSubscriptionList(method, branchKey);\r\n        };\r\n        ServerProtocol.prototype.closeAllSubscriptions = function (method, branchKey) {\r\n            this.streaming.closeMultipleSubscriptions(method, branchKey);\r\n        };\r\n        ServerProtocol.prototype.pushData = function (method, data, branches) {\r\n            this.streaming.pushData(method, data, branches);\r\n        };\r\n        ServerProtocol.prototype.pushDataToSingle = function (method, subscription, data) {\r\n            this.streaming.pushDataToSingle(method, subscription, data);\r\n        };\r\n        ServerProtocol.prototype.closeSingleSubscription = function (method, subscription) {\r\n            this.streaming.closeSingleSubscription(method, subscription);\r\n        };\r\n        ServerProtocol.prototype.acceptRequestOnBranch = function (requestContext, method, branch) {\r\n            this.streaming.acceptRequestOnBranch(requestContext, method, branch);\r\n        };\r\n        ServerProtocol.prototype.rejectRequest = function (requestContext, method, reason) {\r\n            this.streaming.rejectRequest(requestContext, method, reason);\r\n        };\r\n        ServerProtocol.prototype.onSubRequest = function (callback) {\r\n            this.streaming.onSubRequest(callback);\r\n        };\r\n        ServerProtocol.prototype.onSubAdded = function (callback) {\r\n            this.streaming.onSubAdded(callback);\r\n        };\r\n        ServerProtocol.prototype.onSubRemoved = function (callback) {\r\n            this.streaming.onSubRemoved(callback);\r\n        };\r\n        ServerProtocol.prototype.handleInvokeMessage = function (msg) {\r\n            var invocationId = msg.invocation_id;\r\n            var callerId = msg.caller_id;\r\n            var methodId = msg.method_id;\r\n            var args = msg.arguments_kv;\r\n            var methodList = this.serverRepository.getList();\r\n            var method = methodList.filter(function (m) {\r\n                return m.repoId === methodId;\r\n            })[0];\r\n            if (method === undefined) {\r\n                return;\r\n            }\r\n            var client = this.clientRepository.getServerById(callerId).instance;\r\n            var invocationArgs = { args: args, instance: client };\r\n            this.callbacks.execute(\"onInvoked\", method, invocationId, invocationArgs);\r\n        };\r\n        return ServerProtocol;\r\n    }());\n\n    var UserSubscription = (function () {\r\n        function UserSubscription(repository, subscriptionData) {\r\n            this.repository = repository;\r\n            this.subscriptionData = subscriptionData;\r\n        }\r\n        Object.defineProperty(UserSubscription.prototype, \"requestArguments\", {\r\n            get: function () {\r\n                return this.subscriptionData.params.arguments || {};\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(UserSubscription.prototype, \"servers\", {\r\n            get: function () {\r\n                var _this = this;\r\n                return this.subscriptionData.trackedServers\r\n                    .filter(function (pair) { return pair.subscriptionId; })\r\n                    .map(function (pair) { return _this.repository.getServerById(pair.serverId).instance; });\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(UserSubscription.prototype, \"serverInstance\", {\r\n            get: function () {\r\n                return this.servers[0];\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(UserSubscription.prototype, \"stream\", {\r\n            get: function () {\r\n                return this.subscriptionData.method;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        UserSubscription.prototype.onData = function (dataCallback) {\r\n            if (typeof dataCallback !== \"function\") {\r\n                throw new TypeError(\"The data callback must be a function.\");\r\n            }\r\n            this.subscriptionData.handlers.onData.push(dataCallback);\r\n            if (this.subscriptionData.handlers.onData.length === 1 && this.subscriptionData.queued.data.length > 0) {\r\n                this.subscriptionData.queued.data.forEach(function (dataItem) {\r\n                    dataCallback(dataItem);\r\n                });\r\n            }\r\n        };\r\n        UserSubscription.prototype.onClosed = function (closedCallback) {\r\n            if (typeof closedCallback !== \"function\") {\r\n                throw new TypeError(\"The callback must be a function.\");\r\n            }\r\n            this.subscriptionData.handlers.onClosed.push(closedCallback);\r\n        };\r\n        UserSubscription.prototype.onFailed = function (callback) {\r\n        };\r\n        UserSubscription.prototype.onConnected = function (callback) {\r\n            if (typeof callback !== \"function\") {\r\n                throw new TypeError(\"The callback must be a function.\");\r\n            }\r\n            this.subscriptionData.handlers.onConnected.push(callback);\r\n        };\r\n        UserSubscription.prototype.close = function () {\r\n            this.subscriptionData.close();\r\n        };\r\n        UserSubscription.prototype.setNewSubscription = function (newSub) {\r\n            this.subscriptionData = newSub;\r\n        };\r\n        return UserSubscription;\r\n    }());\n\n    var STATUS_AWAITING_ACCEPT = \"awaitingAccept\";\r\n    var STATUS_SUBSCRIBED = \"subscribed\";\r\n    var ERR_MSG_SUB_FAILED = \"Subscription failed.\";\r\n    var ERR_MSG_SUB_REJECTED = \"Subscription rejected.\";\r\n    var ON_CLOSE_MSG_SERVER_INIT = \"ServerInitiated\";\r\n    var ON_CLOSE_MSG_CLIENT_INIT = \"ClientInitiated\";\r\n    var ClientStreaming = (function () {\r\n        function ClientStreaming(session, repository, logger) {\r\n            var _this = this;\r\n            this.session = session;\r\n            this.repository = repository;\r\n            this.logger = logger;\r\n            this.subscriptionsList = {};\r\n            this.subscriptionIdToLocalKeyMap = {};\r\n            this.nextSubLocalKey = 0;\r\n            this.handleErrorSubscribing = function (errorResponse) {\r\n                var tag = errorResponse._tag;\r\n                var subLocalKey = tag.subLocalKey;\r\n                var pendingSub = _this.subscriptionsList[subLocalKey];\r\n                if (typeof pendingSub !== \"object\") {\r\n                    return;\r\n                }\r\n                pendingSub.trackedServers = pendingSub.trackedServers.filter(function (server) {\r\n                    return server.serverId !== tag.serverId;\r\n                });\r\n                if (pendingSub.trackedServers.length <= 0) {\r\n                    clearTimeout(pendingSub.timeoutId);\r\n                    if (pendingSub.status === STATUS_AWAITING_ACCEPT) {\r\n                        var reason = (typeof errorResponse.reason === \"string\" && errorResponse.reason !== \"\") ?\r\n                            ' Publisher said \"' + errorResponse.reason + '\".' :\r\n                            \" No reason given.\";\r\n                        var callArgs = typeof pendingSub.params.arguments === \"object\" ?\r\n                            JSON.stringify(pendingSub.params.arguments) :\r\n                            \"{}\";\r\n                        pendingSub.error({\r\n                            message: ERR_MSG_SUB_REJECTED + reason + \" Called with:\" + callArgs,\r\n                            called_with: pendingSub.params.arguments,\r\n                            method: pendingSub.method,\r\n                        });\r\n                    }\r\n                    else if (pendingSub.status === STATUS_SUBSCRIBED) {\r\n                        _this.callOnClosedHandlers(pendingSub);\r\n                    }\r\n                    delete _this.subscriptionsList[subLocalKey];\r\n                }\r\n            };\r\n            this.handleSubscribed = function (msg) {\r\n                var subLocalKey = msg._tag.subLocalKey;\r\n                var pendingSub = _this.subscriptionsList[subLocalKey];\r\n                if (typeof pendingSub !== \"object\") {\r\n                    return;\r\n                }\r\n                var serverId = msg._tag.serverId;\r\n                var acceptingServer = pendingSub.trackedServers\r\n                    .filter(function (server) {\r\n                    return server.serverId === serverId;\r\n                })[0];\r\n                if (typeof acceptingServer !== \"object\") {\r\n                    return;\r\n                }\r\n                acceptingServer.subscriptionId = msg.subscription_id;\r\n                _this.subscriptionIdToLocalKeyMap[msg.subscription_id] = subLocalKey;\r\n                var isFirstResponse = (pendingSub.status === STATUS_AWAITING_ACCEPT);\r\n                pendingSub.status = STATUS_SUBSCRIBED;\r\n                if (isFirstResponse) {\r\n                    var reconnect = false;\r\n                    var sub = pendingSub.subscription;\r\n                    if (sub) {\r\n                        sub.setNewSubscription(pendingSub);\r\n                        pendingSub.success(sub);\r\n                        reconnect = true;\r\n                    }\r\n                    else {\r\n                        sub = new UserSubscription(_this.repository, pendingSub);\r\n                        pendingSub.subscription = sub;\r\n                        pendingSub.success(sub);\r\n                    }\r\n                    for (var _i = 0, _a = pendingSub.handlers.onConnected; _i < _a.length; _i++) {\r\n                        var handler = _a[_i];\r\n                        try {\r\n                            handler(sub.serverInstance, reconnect);\r\n                        }\r\n                        catch (e) {\r\n                        }\r\n                    }\r\n                }\r\n            };\r\n            this.handleEventData = function (msg) {\r\n                var subLocalKey = _this.subscriptionIdToLocalKeyMap[msg.subscription_id];\r\n                if (typeof subLocalKey === \"undefined\") {\r\n                    return;\r\n                }\r\n                var subscription = _this.subscriptionsList[subLocalKey];\r\n                if (typeof subscription !== \"object\") {\r\n                    return;\r\n                }\r\n                var trackedServersFound = subscription.trackedServers.filter(function (server) {\r\n                    return server.subscriptionId === msg.subscription_id;\r\n                });\r\n                if (trackedServersFound.length !== 1) {\r\n                    return;\r\n                }\r\n                var isPrivateData = msg.oob;\r\n                var sendingServerId = trackedServersFound[0].serverId;\r\n                var receivedStreamData = function () {\r\n                    return {\r\n                        data: msg.data,\r\n                        server: _this.repository.getServerById(sendingServerId).instance,\r\n                        requestArguments: subscription.params.arguments,\r\n                        message: undefined,\r\n                        private: isPrivateData,\r\n                    };\r\n                };\r\n                var onDataHandlers = subscription.handlers.onData;\r\n                var queuedData = subscription.queued.data;\r\n                if (onDataHandlers.length > 0) {\r\n                    onDataHandlers.forEach(function (callback) {\r\n                        if (typeof callback === \"function\") {\r\n                            callback(receivedStreamData());\r\n                        }\r\n                    });\r\n                }\r\n                else {\r\n                    queuedData.push(receivedStreamData());\r\n                }\r\n            };\r\n            this.handleSubscriptionCancelled = function (msg) {\r\n                var subLocalKey = _this.subscriptionIdToLocalKeyMap[msg.subscription_id];\r\n                if (typeof subLocalKey === \"undefined\") {\r\n                    return;\r\n                }\r\n                var subscription = _this.subscriptionsList[subLocalKey];\r\n                if (typeof subscription !== \"object\") {\r\n                    return;\r\n                }\r\n                var expectedNewLength = subscription.trackedServers.length - 1;\r\n                subscription.trackedServers = subscription.trackedServers.filter(function (server) {\r\n                    if (server.subscriptionId === msg.subscription_id) {\r\n                        subscription.queued.closers.push(server.serverId);\r\n                        return false;\r\n                    }\r\n                    else {\r\n                        return true;\r\n                    }\r\n                });\r\n                if (subscription.trackedServers.length !== expectedNewLength) {\r\n                    return;\r\n                }\r\n                if (subscription.trackedServers.length <= 0) {\r\n                    clearTimeout(subscription.timeoutId);\r\n                    _this.callOnClosedHandlers(subscription);\r\n                    delete _this.subscriptionsList[subLocalKey];\r\n                }\r\n                delete _this.subscriptionIdToLocalKeyMap[msg.subscription_id];\r\n            };\r\n            session.on(\"subscribed\", this.handleSubscribed);\r\n            session.on(\"event\", this.handleEventData);\r\n            session.on(\"subscription-cancelled\", this.handleSubscriptionCancelled);\r\n        }\r\n        ClientStreaming.prototype.subscribe = function (streamingMethod, params, targetServers, success, error, existingSub) {\r\n            var _this = this;\r\n            if (targetServers.length === 0) {\r\n                error({\r\n                    method: streamingMethod,\r\n                    called_with: params.arguments,\r\n                    message: ERR_MSG_SUB_FAILED + \" No available servers matched the target params.\",\r\n                });\r\n                return;\r\n            }\r\n            var subLocalKey = this.getNextSubscriptionLocalKey();\r\n            var pendingSub = this.registerSubscription(subLocalKey, streamingMethod, params, success, error, params.methodResponseTimeout || 10000, existingSub);\r\n            if (typeof pendingSub !== \"object\") {\r\n                error({\r\n                    method: streamingMethod,\r\n                    called_with: params.arguments,\r\n                    message: ERR_MSG_SUB_FAILED + \" Unable to register the user callbacks.\",\r\n                });\r\n                return;\r\n            }\r\n            targetServers.forEach(function (target) {\r\n                var serverId = target.server.id;\r\n                var method = target.methods.find(function (m) { return m.name === streamingMethod.name; });\r\n                if (!method) {\r\n                    _this.logger.error(\"can not find method \" + streamingMethod.name + \" for target \" + target.server.id);\r\n                    return;\r\n                }\r\n                pendingSub.trackedServers.push({\r\n                    serverId: serverId,\r\n                    subscriptionId: undefined,\r\n                });\r\n                var msg = {\r\n                    type: \"subscribe\",\r\n                    server_id: serverId,\r\n                    method_id: method.gatewayId,\r\n                    arguments_kv: params.arguments,\r\n                };\r\n                _this.session.send(msg, { serverId: serverId, subLocalKey: subLocalKey })\r\n                    .then(function (m) { return _this.handleSubscribed(m); })\r\n                    .catch(function (err) { return _this.handleErrorSubscribing(err); });\r\n            });\r\n        };\r\n        ClientStreaming.prototype.drainSubscriptions = function () {\r\n            var existing = Object.values(this.subscriptionsList);\r\n            this.subscriptionsList = {};\r\n            this.subscriptionIdToLocalKeyMap = {};\r\n            return existing;\r\n        };\r\n        ClientStreaming.prototype.getNextSubscriptionLocalKey = function () {\r\n            var current = this.nextSubLocalKey;\r\n            this.nextSubLocalKey += 1;\r\n            return current;\r\n        };\r\n        ClientStreaming.prototype.registerSubscription = function (subLocalKey, method, params, success, error, timeout, existingSub) {\r\n            var _this = this;\r\n            var subsInfo = {\r\n                localKey: subLocalKey,\r\n                status: STATUS_AWAITING_ACCEPT,\r\n                method: method,\r\n                params: params,\r\n                success: success,\r\n                error: error,\r\n                trackedServers: [],\r\n                handlers: {\r\n                    onData: (existingSub === null || existingSub === void 0 ? void 0 : existingSub.handlers.onData) || [],\r\n                    onClosed: (existingSub === null || existingSub === void 0 ? void 0 : existingSub.handlers.onClosed) || [],\r\n                    onConnected: (existingSub === null || existingSub === void 0 ? void 0 : existingSub.handlers.onConnected) || [],\r\n                },\r\n                queued: {\r\n                    data: [],\r\n                    closers: [],\r\n                },\r\n                timeoutId: undefined,\r\n                close: function () { return _this.closeSubscription(subLocalKey); },\r\n                subscription: existingSub === null || existingSub === void 0 ? void 0 : existingSub.subscription\r\n            };\r\n            if (!existingSub) {\r\n                if (params.onData) {\r\n                    subsInfo.handlers.onData.push(params.onData);\r\n                }\r\n                if (params.onClosed) {\r\n                    subsInfo.handlers.onClosed.push(params.onClosed);\r\n                }\r\n                if (params.onConnected) {\r\n                    subsInfo.handlers.onConnected.push(params.onConnected);\r\n                }\r\n            }\r\n            this.subscriptionsList[subLocalKey] = subsInfo;\r\n            subsInfo.timeoutId = setTimeout(function () {\r\n                if (_this.subscriptionsList[subLocalKey] === undefined) {\r\n                    return;\r\n                }\r\n                var pendingSub = _this.subscriptionsList[subLocalKey];\r\n                if (pendingSub.status === STATUS_AWAITING_ACCEPT) {\r\n                    error({\r\n                        method: method,\r\n                        called_with: params.arguments,\r\n                        message: ERR_MSG_SUB_FAILED + \" Subscription attempt timed out after \" + timeout + \" ms.\",\r\n                    });\r\n                    delete _this.subscriptionsList[subLocalKey];\r\n                }\r\n                else if (pendingSub.status === STATUS_SUBSCRIBED && pendingSub.trackedServers.length > 0) {\r\n                    pendingSub.trackedServers = pendingSub.trackedServers.filter(function (server) {\r\n                        return (typeof server.subscriptionId !== \"undefined\");\r\n                    });\r\n                    delete pendingSub.timeoutId;\r\n                    if (pendingSub.trackedServers.length <= 0) {\r\n                        _this.callOnClosedHandlers(pendingSub);\r\n                        delete _this.subscriptionsList[subLocalKey];\r\n                    }\r\n                }\r\n            }, timeout);\r\n            return subsInfo;\r\n        };\r\n        ClientStreaming.prototype.callOnClosedHandlers = function (subscription, reason) {\r\n            var closersCount = subscription.queued.closers.length;\r\n            var closingServerId = (closersCount > 0) ? subscription.queued.closers[closersCount - 1] : null;\r\n            var closingServer;\r\n            if (closingServerId !== undefined && typeof closingServerId === \"string\") {\r\n                closingServer = this.repository.getServerById(closingServerId).instance;\r\n            }\r\n            subscription.handlers.onClosed.forEach(function (callback) {\r\n                if (typeof callback !== \"function\") {\r\n                    return;\r\n                }\r\n                callback({\r\n                    message: reason || ON_CLOSE_MSG_SERVER_INIT,\r\n                    requestArguments: subscription.params.arguments || {},\r\n                    server: closingServer,\r\n                    stream: subscription.method,\r\n                });\r\n            });\r\n        };\r\n        ClientStreaming.prototype.closeSubscription = function (subLocalKey) {\r\n            var _this = this;\r\n            var subscription = this.subscriptionsList[subLocalKey];\r\n            if (typeof subscription !== \"object\") {\r\n                return;\r\n            }\r\n            subscription.trackedServers.forEach(function (server) {\r\n                if (typeof server.subscriptionId === \"undefined\") {\r\n                    return;\r\n                }\r\n                subscription.queued.closers.push(server.serverId);\r\n                _this.session.sendFireAndForget({\r\n                    type: \"unsubscribe\",\r\n                    subscription_id: server.subscriptionId,\r\n                    reason_uri: \"\",\r\n                    reason: ON_CLOSE_MSG_CLIENT_INIT,\r\n                });\r\n                delete _this.subscriptionIdToLocalKeyMap[server.subscriptionId];\r\n            });\r\n            subscription.trackedServers = [];\r\n            this.callOnClosedHandlers(subscription, ON_CLOSE_MSG_CLIENT_INIT);\r\n            delete this.subscriptionsList[subLocalKey];\r\n        };\r\n        return ClientStreaming;\r\n    }());\n\n    var ClientProtocol = (function () {\r\n        function ClientProtocol(session, repository, logger) {\r\n            var _this = this;\r\n            this.session = session;\r\n            this.repository = repository;\r\n            this.logger = logger;\r\n            session.on(\"peer-added\", function (msg) { return _this.handlePeerAdded(msg); });\r\n            session.on(\"peer-removed\", function (msg) { return _this.handlePeerRemoved(msg); });\r\n            session.on(\"methods-added\", function (msg) { return _this.handleMethodsAddedMessage(msg); });\r\n            session.on(\"methods-removed\", function (msg) { return _this.handleMethodsRemovedMessage(msg); });\r\n            this.streaming = new ClientStreaming(session, repository, logger);\r\n        }\r\n        ClientProtocol.prototype.subscribe = function (stream, options, targetServers, success, error, existingSub) {\r\n            this.streaming.subscribe(stream, options, targetServers, success, error, existingSub);\r\n        };\r\n        ClientProtocol.prototype.invoke = function (id, method, args, target) {\r\n            var _this = this;\r\n            var serverId = target.id;\r\n            var methodId = method.gatewayId;\r\n            var msg = {\r\n                type: \"call\",\r\n                server_id: serverId,\r\n                method_id: methodId,\r\n                arguments_kv: args,\r\n            };\r\n            return this.session.send(msg, { invocationId: id, serverId: serverId })\r\n                .then(function (m) { return _this.handleResultMessage(m); })\r\n                .catch(function (err) { return _this.handleInvocationError(err); });\r\n        };\r\n        ClientProtocol.prototype.drainSubscriptions = function () {\r\n            return this.streaming.drainSubscriptions();\r\n        };\r\n        ClientProtocol.prototype.handlePeerAdded = function (msg) {\r\n            var newPeerId = msg.new_peer_id;\r\n            var remoteId = msg.identity;\r\n            var isLocal = msg.meta ? msg.meta.local : true;\r\n            var pid = Number(remoteId.process);\r\n            var serverInfo = {\r\n                machine: remoteId.machine,\r\n                pid: isNaN(pid) ? remoteId.process : pid,\r\n                instance: remoteId.instance,\r\n                application: remoteId.application,\r\n                applicationName: remoteId.applicationName,\r\n                environment: remoteId.environment,\r\n                region: remoteId.region,\r\n                user: remoteId.user,\r\n                windowId: remoteId.windowId,\r\n                peerId: newPeerId,\r\n                api: remoteId.api,\r\n                isLocal: isLocal\r\n            };\r\n            this.repository.addServer(serverInfo, newPeerId);\r\n        };\r\n        ClientProtocol.prototype.handlePeerRemoved = function (msg) {\r\n            var removedPeerId = msg.removed_id;\r\n            var reason = msg.reason;\r\n            this.repository.removeServerById(removedPeerId, reason);\r\n        };\r\n        ClientProtocol.prototype.handleMethodsAddedMessage = function (msg) {\r\n            var _this = this;\r\n            var serverId = msg.server_id;\r\n            var methods = msg.methods;\r\n            methods.forEach(function (method) {\r\n                _this.repository.addServerMethod(serverId, method);\r\n            });\r\n        };\r\n        ClientProtocol.prototype.handleMethodsRemovedMessage = function (msg) {\r\n            var _this = this;\r\n            var serverId = msg.server_id;\r\n            var methodIdList = msg.methods;\r\n            var server = this.repository.getServerById(serverId);\r\n            var serverMethodKeys = Object.keys(server.methods);\r\n            serverMethodKeys.forEach(function (methodKey) {\r\n                var method = server.methods[methodKey];\r\n                if (methodIdList.indexOf(method.gatewayId) > -1) {\r\n                    _this.repository.removeServerMethod(serverId, methodKey);\r\n                }\r\n            });\r\n        };\r\n        ClientProtocol.prototype.handleResultMessage = function (msg) {\r\n            var invocationId = msg._tag.invocationId;\r\n            var result = msg.result;\r\n            var serverId = msg._tag.serverId;\r\n            var server = this.repository.getServerById(serverId);\r\n            return {\r\n                invocationId: invocationId,\r\n                result: result,\r\n                instance: server.instance,\r\n                status: InvokeStatus.Success,\r\n                message: \"\"\r\n            };\r\n        };\r\n        ClientProtocol.prototype.handleInvocationError = function (msg) {\r\n            this.logger.debug(\"handle invocation error \" + JSON.stringify(msg));\r\n            if (\"_tag\" in msg) {\r\n                var invocationId = msg._tag.invocationId;\r\n                var serverId = msg._tag.serverId;\r\n                var server = this.repository.getServerById(serverId);\r\n                var message = msg.reason;\r\n                var context_1 = msg.context;\r\n                return {\r\n                    invocationId: invocationId,\r\n                    result: context_1,\r\n                    instance: server.instance,\r\n                    status: InvokeStatus.Error,\r\n                    message: message\r\n                };\r\n            }\r\n            else {\r\n                return {\r\n                    invocationId: \"\",\r\n                    message: msg.message,\r\n                    status: InvokeStatus.Error,\r\n                    error: msg\r\n                };\r\n            }\r\n        };\r\n        return ClientProtocol;\r\n    }());\n\n    function gW3ProtocolFactory (instance, connection, clientRepository, serverRepository, libConfig, interop) {\r\n        var logger = libConfig.logger.subLogger(\"gw3-protocol\");\r\n        var resolveReadyPromise;\r\n        var readyPromise = new Promise(function (resolve) {\r\n            resolveReadyPromise = resolve;\r\n        });\r\n        var session = connection.domain(\"agm\", [\"subscribed\"]);\r\n        var server = new ServerProtocol(session, clientRepository, serverRepository, logger.subLogger(\"server\"));\r\n        var client = new ClientProtocol(session, clientRepository, logger.subLogger(\"client\"));\r\n        function handleReconnect() {\r\n            logger.info(\"reconnected - will replay registered methods and subscriptions\");\r\n            var existingSubscriptions = client.drainSubscriptions();\r\n            for (var _i = 0, existingSubscriptions_1 = existingSubscriptions; _i < existingSubscriptions_1.length; _i++) {\r\n                var sub = existingSubscriptions_1[_i];\r\n                var methodInfo = sub.method;\r\n                var params = Object.assign({}, sub.params);\r\n                logger.info(\"trying to re-subscribe to method \" + methodInfo.name);\r\n                interop.client.subscribe(methodInfo, params, undefined, undefined, sub);\r\n            }\r\n            var registeredMethods = serverRepository.getList();\r\n            serverRepository.reset();\r\n            for (var _a = 0, registeredMethods_1 = registeredMethods; _a < registeredMethods_1.length; _a++) {\r\n                var method = registeredMethods_1[_a];\r\n                var def = method.definition;\r\n                logger.info(\"re-publishing method \" + def.name);\r\n                if (method.stream) {\r\n                    interop.server.createStream(def, method.streamCallbacks, undefined, undefined, method.stream);\r\n                }\r\n                else if (method.theFunction && method.theFunction.userCallback) {\r\n                    interop.register(def, method.theFunction.userCallback);\r\n                }\r\n                else if (method.theFunction && method.theFunction.userCallbackAsync) {\r\n                    interop.registerAsync(def, method.theFunction.userCallbackAsync);\r\n                }\r\n            }\r\n        }\r\n        function handleInitialJoin() {\r\n            if (resolveReadyPromise) {\r\n                resolveReadyPromise({\r\n                    client: client,\r\n                    server: server,\r\n                });\r\n                resolveReadyPromise = undefined;\r\n            }\r\n        }\r\n        session.onJoined(function (reconnect) {\r\n            clientRepository.addServer(instance, connection.peerId);\r\n            if (reconnect) {\r\n                handleReconnect();\r\n            }\r\n            else {\r\n                handleInitialJoin();\r\n            }\r\n        });\r\n        session.onLeft(function () {\r\n            clientRepository.reset();\r\n        });\r\n        session.join();\r\n        return readyPromise;\r\n    }\n\n    var Interop = (function () {\r\n        function Interop(configuration) {\r\n            var _this = this;\r\n            if (typeof configuration === \"undefined\") {\r\n                throw new Error(\"configuration is required\");\r\n            }\r\n            if (typeof configuration.connection === \"undefined\") {\r\n                throw new Error(\"configuration.connections is required\");\r\n            }\r\n            var connection = configuration.connection;\r\n            if (typeof configuration.methodResponseTimeout !== \"number\") {\r\n                configuration.methodResponseTimeout = 30 * 1000;\r\n            }\r\n            if (typeof configuration.waitTimeoutMs !== \"number\") {\r\n                configuration.waitTimeoutMs = 30 * 1000;\r\n            }\r\n            InstanceWrapper.API = this;\r\n            this.instance = new InstanceWrapper(undefined, connection).unwrap();\r\n            this.clientRepository = new ClientRepository(configuration.logger.subLogger(\"cRep\"));\r\n            this.serverRepository = new ServerRepository();\r\n            var protocolPromise;\r\n            if (connection.protocolVersion === 3) {\r\n                protocolPromise = gW3ProtocolFactory(this.instance, connection, this.clientRepository, this.serverRepository, configuration, this);\r\n            }\r\n            else {\r\n                throw new Error(\"protocol \" + connection.protocolVersion + \" not supported\");\r\n            }\r\n            this.readyPromise = protocolPromise.then(function (protocol) {\r\n                _this.protocol = protocol;\r\n                _this.client = new Client(_this.protocol, _this.clientRepository, _this.instance, configuration);\r\n                _this.server = new Server(_this.protocol, _this.serverRepository);\r\n                return _this;\r\n            });\r\n        }\r\n        Interop.prototype.ready = function () {\r\n            return this.readyPromise;\r\n        };\r\n        Interop.prototype.serverRemoved = function (callback) {\r\n            return this.client.serverRemoved(callback);\r\n        };\r\n        Interop.prototype.serverAdded = function (callback) {\r\n            return this.client.serverAdded(callback);\r\n        };\r\n        Interop.prototype.serverMethodRemoved = function (callback) {\r\n            return this.client.serverMethodRemoved(callback);\r\n        };\r\n        Interop.prototype.serverMethodAdded = function (callback) {\r\n            return this.client.serverMethodAdded(callback);\r\n        };\r\n        Interop.prototype.methodRemoved = function (callback) {\r\n            return this.client.methodRemoved(callback);\r\n        };\r\n        Interop.prototype.methodAdded = function (callback) {\r\n            return this.client.methodAdded(callback);\r\n        };\r\n        Interop.prototype.methodsForInstance = function (instance) {\r\n            return this.client.methodsForInstance(instance);\r\n        };\r\n        Interop.prototype.methods = function (methodFilter) {\r\n            return this.client.methods(methodFilter);\r\n        };\r\n        Interop.prototype.servers = function (methodFilter) {\r\n            return this.client.servers(methodFilter);\r\n        };\r\n        Interop.prototype.subscribe = function (method, options, successCallback, errorCallback) {\r\n            return this.client.subscribe(method, options, successCallback, errorCallback);\r\n        };\r\n        Interop.prototype.createStream = function (streamDef, callbacks, successCallback, errorCallback) {\r\n            return this.server.createStream(streamDef, callbacks, successCallback, errorCallback);\r\n        };\r\n        Interop.prototype.unregister = function (methodFilter) {\r\n            return this.server.unregister(methodFilter);\r\n        };\r\n        Interop.prototype.registerAsync = function (methodDefinition, callback) {\r\n            return this.server.registerAsync(methodDefinition, callback);\r\n        };\r\n        Interop.prototype.register = function (methodDefinition, callback) {\r\n            return this.server.register(methodDefinition, callback);\r\n        };\r\n        Interop.prototype.invoke = function (methodFilter, argumentObj, target, additionalOptions, success, error) {\r\n            return this.client.invoke(methodFilter, argumentObj, target, additionalOptions, success, error);\r\n        };\r\n        return Interop;\r\n    }());\n\n    var successMessages = [\"subscribed\", \"success\"];\r\n    var MessageBus = (function () {\r\n        function MessageBus(connection, logger) {\r\n            var _this = this;\r\n            this.publish = function (topic, data, options) {\r\n                var _a = options || {}, routingKey = _a.routingKey, target = _a.target;\r\n                var args = _this.removeEmptyValues({\r\n                    type: \"publish\",\r\n                    topic: topic,\r\n                    data: data,\r\n                    peer_id: _this.peerId,\r\n                    routing_key: routingKey,\r\n                    target_identity: target\r\n                });\r\n                _this.session.send(args);\r\n            };\r\n            this.subscribe = function (topic, callback, options) {\r\n                return new Promise(function (resolve, reject) {\r\n                    var _a = options || {}, routingKey = _a.routingKey, target = _a.target;\r\n                    var args = _this.removeEmptyValues({\r\n                        type: \"subscribe\",\r\n                        topic: topic,\r\n                        peer_id: _this.peerId,\r\n                        routing_key: routingKey,\r\n                        source: target\r\n                    });\r\n                    _this.session.send(args)\r\n                        .then(function (response) {\r\n                        var subscription_id = response.subscription_id;\r\n                        _this.subscriptions.push({ subscription_id: subscription_id, topic: topic, callback: callback, source: target });\r\n                        resolve({\r\n                            unsubscribe: function () {\r\n                                _this.session.send({ type: \"unsubscribe\", subscription_id: subscription_id, peer_id: _this.peerId });\r\n                                _this.subscriptions = _this.subscriptions.filter(function (s) { return s.subscription_id !== subscription_id; });\r\n                                return Promise.resolve();\r\n                            }\r\n                        });\r\n                    })\r\n                        .catch(function (error) { return reject(error); });\r\n                });\r\n            };\r\n            this.watchOnEvent = function () {\r\n                _this.session.on(\"event\", function (args) {\r\n                    var data = args.data, subscription_id = args.subscription_id;\r\n                    var source = args[\"publisher-identity\"];\r\n                    var subscription = _this.subscriptions.find(function (s) { return s.subscription_id === subscription_id; });\r\n                    if (subscription) {\r\n                        if (!subscription.source) {\r\n                            subscription.callback(data, subscription.topic, source);\r\n                        }\r\n                        else {\r\n                            if (_this.keysMatch(subscription.source, source)) {\r\n                                subscription.callback(data, subscription.topic, source);\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n            };\r\n            this.connection = connection;\r\n            this.logger = logger;\r\n            this.peerId = connection.peerId;\r\n            this.subscriptions = [];\r\n            this.session = connection.domain(\"bus\", successMessages);\r\n            this.readyPromise = this.session.join();\r\n            this.readyPromise.then(function () {\r\n                _this.watchOnEvent();\r\n            });\r\n        }\r\n        MessageBus.prototype.ready = function () {\r\n            return this.readyPromise;\r\n        };\r\n        MessageBus.prototype.removeEmptyValues = function (obj) {\r\n            var cleaned = {};\r\n            Object.keys(obj).forEach(function (key) {\r\n                if (obj[key] !== undefined && obj[key] !== null) {\r\n                    cleaned[key] = obj[key];\r\n                }\r\n            });\r\n            return cleaned;\r\n        };\r\n        MessageBus.prototype.keysMatch = function (obj1, obj2) {\r\n            var keysObj1 = Object.keys(obj1);\r\n            var allMatch = true;\r\n            keysObj1.forEach(function (key) {\r\n                if (obj1[key] !== obj2[key]) {\r\n                    allMatch = false;\r\n                }\r\n            });\r\n            return allMatch;\r\n        };\r\n        return MessageBus;\r\n    }());\n\n    var GlueCore = function (userConfig, ext) {\r\n        var gdVersion = Utils.getGDMajorVersion();\r\n        var glue42gd;\r\n        var preloadPromise = Promise.resolve();\r\n        if (gdVersion) {\r\n            if (gdVersion < 3) {\r\n                throw new Error(\"GD v2 is not supported. Use v4 of the API to run in that context.\");\r\n            }\r\n            else if (gdVersion >= 3) {\r\n                glue42gd = window.glue42gd;\r\n                preloadPromise = window.gdPreloadPromise || preloadPromise;\r\n            }\r\n        }\r\n        var glueInitTimer = timer(\"glue\");\r\n        userConfig = userConfig || {};\r\n        ext = ext || {};\r\n        var internalConfig = prepareConfig(userConfig, ext, glue42gd);\r\n        var _connection;\r\n        var _interop;\r\n        var _logger;\r\n        var _metrics;\r\n        var _contexts;\r\n        var _bus;\r\n        var _allowTrace;\r\n        var libs = {};\r\n        function registerLib(name, inner, t) {\r\n            _allowTrace = _logger.canPublish(\"trace\");\r\n            if (_allowTrace) {\r\n                _logger.trace(\"registering \" + name + \" module\");\r\n            }\r\n            var done = function () {\r\n                inner.initTime = t.stop();\r\n                inner.initEndTime = t.endTime;\r\n                inner.marks = t.marks;\r\n                if (_allowTrace) {\r\n                    _logger.trace(name + \" is ready - \" + (t.endTime - t.startTime));\r\n                }\r\n            };\r\n            inner.initStartTime = t.startTime;\r\n            if (inner.ready) {\r\n                inner.ready().then(function () {\r\n                    done();\r\n                });\r\n            }\r\n            else {\r\n                done();\r\n            }\r\n            if (!Array.isArray(name)) {\r\n                name = [name];\r\n            }\r\n            name.forEach(function (n) {\r\n                libs[n] = inner;\r\n                GlueCore[n] = inner;\r\n            });\r\n        }\r\n        function setupConnection() {\r\n            var initTimer = timer(\"connection\");\r\n            _connection = new Connection(internalConfig.connection, _logger.subLogger(\"connection\"));\r\n            var authPromise = Promise.resolve(internalConfig.auth);\r\n            if (internalConfig.connection && !internalConfig.auth) {\r\n                if (glue42gd) {\r\n                    authPromise = glue42gd.getGWToken()\r\n                        .then(function (token) {\r\n                        return {\r\n                            gatewayToken: token\r\n                        };\r\n                    });\r\n                }\r\n                else {\r\n                    authPromise = Promise.reject(\"You need to provide auth information\");\r\n                }\r\n            }\r\n            return authPromise\r\n                .then(function (authConfig) {\r\n                initTimer.mark(\"auth-promise-resolved\");\r\n                var authRequest;\r\n                if (Object.prototype.toString.call(authConfig) === \"[object Object]\") {\r\n                    authRequest = authConfig;\r\n                }\r\n                else {\r\n                    throw new Error(\"Invalid auth object - \" + JSON.stringify(authConfig));\r\n                }\r\n                return _connection.login(authRequest);\r\n            })\r\n                .then(function () {\r\n                registerLib(\"connection\", _connection, initTimer);\r\n                return internalConfig;\r\n            })\r\n                .catch(function (e) {\r\n                if (_connection) {\r\n                    _connection.logout();\r\n                }\r\n                throw e;\r\n            });\r\n        }\r\n        function setupLogger() {\r\n            var _a;\r\n            var initTimer = timer(\"logger\");\r\n            _logger = new Logger(\"\" + ((_a = internalConfig.connection.identity) === null || _a === void 0 ? void 0 : _a.application), undefined, internalConfig.customLogger);\r\n            _logger.consoleLevel(internalConfig.logger.console);\r\n            _logger.publishLevel(internalConfig.logger.publish);\r\n            if (_logger.canPublish(\"debug\")) {\r\n                _logger.debug(\"initializing glue...\");\r\n            }\r\n            registerLib(\"logger\", _logger, initTimer);\r\n            return Promise.resolve(undefined);\r\n        }\r\n        function setupMetrics() {\r\n            var _a, _b, _c, _d;\r\n            var initTimer = timer(\"metrics\");\r\n            var config = internalConfig.metrics;\r\n            var metricsPublishingEnabledFunc = glue42gd === null || glue42gd === void 0 ? void 0 : glue42gd.getMetricsPublishingEnabled;\r\n            var identity = internalConfig.connection.identity;\r\n            var canUpdateMetric = metricsPublishingEnabledFunc ? metricsPublishingEnabledFunc : function () { return true; };\r\n            var disableAutoAppSystem = (_a = (typeof config !== \"boolean\" && config.disableAutoAppSystem)) !== null && _a !== void 0 ? _a : false;\r\n            _metrics = metrics({\r\n                connection: config ? _connection : undefined,\r\n                logger: _logger.subLogger(\"metrics\"),\r\n                canUpdateMetric: canUpdateMetric,\r\n                system: \"Glue42\",\r\n                service: (_b = identity === null || identity === void 0 ? void 0 : identity.service) !== null && _b !== void 0 ? _b : \"metrics-service\",\r\n                instance: (_d = (_c = identity === null || identity === void 0 ? void 0 : identity.instance) !== null && _c !== void 0 ? _c : identity === null || identity === void 0 ? void 0 : identity.windowId) !== null && _d !== void 0 ? _d : shortid(),\r\n                disableAutoAppSystem: disableAutoAppSystem,\r\n                pagePerformanceMetrics: typeof config !== \"boolean\" ? config === null || config === void 0 ? void 0 : config.pagePerformanceMetrics : undefined\r\n            });\r\n            registerLib(\"metrics\", _metrics, initTimer);\r\n            return Promise.resolve();\r\n        }\r\n        function setupInterop() {\r\n            var initTimer = timer(\"interop\");\r\n            var agmConfig = {\r\n                connection: _connection,\r\n                logger: _logger.subLogger(\"interop\"),\r\n            };\r\n            _interop = new Interop(agmConfig);\r\n            Logger.Interop = _interop;\r\n            registerLib([\"interop\", \"agm\"], _interop, initTimer);\r\n            return Promise.resolve();\r\n        }\r\n        function setupContexts() {\r\n            var hasActivities = (internalConfig.activities && _connection.protocolVersion === 3);\r\n            var needsContexts = internalConfig.contexts || hasActivities;\r\n            if (needsContexts) {\r\n                var initTimer = timer(\"contexts\");\r\n                _contexts = new ContextsModule({\r\n                    connection: _connection,\r\n                    logger: _logger.subLogger(\"contexts\")\r\n                });\r\n                registerLib(\"contexts\", _contexts, initTimer);\r\n                return _contexts;\r\n            }\r\n            else {\r\n                var replayer = _connection.replayer;\r\n                if (replayer) {\r\n                    replayer.drain(ContextMessageReplaySpec.name);\r\n                }\r\n            }\r\n        }\r\n        function setupBus() {\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var initTimer;\r\n                return __generator$1(this, function (_a) {\r\n                    if (!internalConfig.bus) {\r\n                        return [2, Promise.resolve()];\r\n                    }\r\n                    initTimer = timer(\"bus\");\r\n                    _bus = new MessageBus(_connection, _logger.subLogger(\"bus\"));\r\n                    registerLib(\"bus\", _bus, initTimer);\r\n                    return [2, Promise.resolve()];\r\n                });\r\n            });\r\n        }\r\n        function setupExternalLibs(externalLibs) {\r\n            try {\r\n                externalLibs.forEach(function (lib) {\r\n                    setupExternalLib(lib.name, lib.create);\r\n                });\r\n                return Promise.resolve();\r\n            }\r\n            catch (e) {\r\n                return Promise.reject(e);\r\n            }\r\n        }\r\n        function setupExternalLib(name, createCallback) {\r\n            var initTimer = timer(name);\r\n            var lib = createCallback(libs);\r\n            if (lib) {\r\n                registerLib(name, lib, initTimer);\r\n            }\r\n        }\r\n        function waitForLibs() {\r\n            var libsReadyPromises = Object.keys(libs).map(function (key) {\r\n                var lib = libs[key];\r\n                return lib.ready ?\r\n                    lib.ready() : Promise.resolve();\r\n            });\r\n            return Promise.all(libsReadyPromises);\r\n        }\r\n        function constructGlueObject() {\r\n            var feedbackFunc = function (feedbackInfo) {\r\n                if (!_interop) {\r\n                    return;\r\n                }\r\n                _interop.invoke(\"T42.ACS.Feedback\", feedbackInfo, \"best\");\r\n            };\r\n            var info = {\r\n                coreVersion: version,\r\n                version: internalConfig.version\r\n            };\r\n            glueInitTimer.stop();\r\n            var glue = {\r\n                feedback: feedbackFunc,\r\n                info: info,\r\n                logger: _logger,\r\n                interop: _interop,\r\n                agm: _interop,\r\n                connection: _connection,\r\n                metrics: _metrics,\r\n                contexts: _contexts,\r\n                bus: _bus,\r\n                version: internalConfig.version,\r\n                userConfig: userConfig,\r\n                done: function () {\r\n                    _logger === null || _logger === void 0 ? void 0 : _logger.info(\"done called by user...\");\r\n                    return _connection.logout();\r\n                }\r\n            };\r\n            glue.performance = {\r\n                get glueVer() {\r\n                    return internalConfig.version;\r\n                },\r\n                get glueConfig() {\r\n                    return JSON.stringify(userConfig);\r\n                },\r\n                get browser() {\r\n                    return window.performance.timing.toJSON();\r\n                },\r\n                get memory() {\r\n                    return window.performance.memory;\r\n                },\r\n                get initTimes() {\r\n                    var all = getAllTimers();\r\n                    return Object.keys(all).map(function (key) {\r\n                        var t = all[key];\r\n                        return {\r\n                            name: key,\r\n                            duration: t.endTime - t.startTime,\r\n                            marks: t.marks\r\n                        };\r\n                    });\r\n                }\r\n            };\r\n            Object.keys(libs).forEach(function (key) {\r\n                var lib = libs[key];\r\n                glue[key] = lib;\r\n            });\r\n            glue.config = {};\r\n            Object.keys(internalConfig).forEach(function (k) {\r\n                glue.config[k] = internalConfig[k];\r\n            });\r\n            if (ext && ext.extOptions) {\r\n                Object.keys(ext.extOptions).forEach(function (k) {\r\n                    glue.config[k] = ext === null || ext === void 0 ? void 0 : ext.extOptions[k];\r\n                });\r\n            }\r\n            if (ext === null || ext === void 0 ? void 0 : ext.enrichGlue) {\r\n                ext.enrichGlue(glue);\r\n            }\r\n            if (glue42gd && glue42gd.updatePerfData) {\r\n                glue42gd.updatePerfData(glue.performance);\r\n            }\r\n            if (glue.agm) {\r\n                var deprecatedDecorator = function (fn, wrong, proper) {\r\n                    return function () {\r\n                        glue.logger.warn(\"glue.js - 'glue.agm.\" + wrong + \"' method is deprecated, use 'glue.interop.\" + proper + \"' instead.\");\r\n                        fn.apply(glue.agm, arguments);\r\n                    };\r\n                };\r\n                var agmAny = glue.agm;\r\n                agmAny.method_added = deprecatedDecorator(glue.agm.methodAdded, \"method_added\", \"methodAdded\");\r\n                agmAny.method_removed = deprecatedDecorator(glue.agm.methodRemoved, \"method_removed\", \"methodRemoved\");\r\n                agmAny.server_added = deprecatedDecorator(glue.agm.serverAdded, \"server_added\", \"serverAdded\");\r\n                agmAny.server_method_aded = deprecatedDecorator(glue.agm.serverMethodAdded, \"server_method_aded\", \"serverMethodAdded\");\r\n                agmAny.server_method_removed = deprecatedDecorator(glue.agm.serverMethodRemoved, \"server_method_removed\", \"serverMethodRemoved\");\r\n            }\r\n            return glue;\r\n        }\r\n        return preloadPromise\r\n            .then(setupLogger)\r\n            .then(setupConnection)\r\n            .then(function () { return Promise.all([setupMetrics(), setupInterop(), setupContexts(), setupBus()]); })\r\n            .then(function () { return _interop.readyPromise; })\r\n            .then(function () {\r\n            return setupExternalLibs(internalConfig.libs || []);\r\n        })\r\n            .then(waitForLibs)\r\n            .then(constructGlueObject)\r\n            .catch(function (err) {\r\n            return Promise.reject({\r\n                err: err,\r\n                libs: libs\r\n            });\r\n        });\r\n    };\r\n    if (typeof window !== \"undefined\") {\r\n        window.GlueCore = GlueCore;\r\n    }\r\n    GlueCore.version = version;\r\n    GlueCore.default = GlueCore;\n\n    var ActivityEntity = (function () {\r\n        function ActivityEntity(id) {\r\n            this._id = id;\r\n        }\r\n        Object.defineProperty(ActivityEntity.prototype, \"id\", {\r\n            get: function () {\r\n                return this._id;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ActivityEntity.prototype._update = function (other) {\r\n            if (other._id !== this._id) {\r\n                throw Error(\"Can not update from entity with different id.\");\r\n            }\r\n            this._updateCore(other);\r\n        };\r\n        ActivityEntity.prototype._updateCore = function (other) {\r\n            return;\r\n        };\r\n        ActivityEntity.prototype._beforeDelete = function (other) {\r\n            return;\r\n        };\r\n        return ActivityEntity;\r\n    }());\n\n    function isString(arg) {\r\n        return typeof arg === \"string\";\r\n    }\r\n    function isObject(arg) {\r\n        return typeof arg === \"object\" && arg !== null;\r\n    }\r\n    function isArray(arg) {\r\n        if (Array.isArray) {\r\n            return Array.isArray(arg);\r\n        }\r\n        return toString.call(arg) === \"[object Array]\";\r\n    }\r\n    function isUndefined(arg) {\r\n        return typeof arg === \"undefined\";\r\n    }\r\n    function isUndefinedOrNull(arg) {\r\n        return !arg || typeof arg === \"undefined\";\r\n    }\r\n    function isFunction(arg) {\r\n        return !!(arg && arg.constructor && arg.call && arg.apply);\r\n    }\r\n    function some(array, predicate) {\r\n        for (var index = 0; index < array.length; index++) {\r\n            if (predicate(array[index], index)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    function ifNotUndefined(what, doWithIt) {\r\n        if (typeof what !== \"undefined\") {\r\n            doWithIt(what);\r\n        }\r\n    }\r\n    function promisify$1(promise, successCallback, errorCallback) {\r\n        if (typeof successCallback !== \"function\" && typeof errorCallback !== \"function\") {\r\n            return promise;\r\n        }\r\n        if (typeof successCallback !== \"function\") {\r\n            successCallback = function () { return; };\r\n        }\r\n        else if (typeof errorCallback !== \"function\") {\r\n            errorCallback = function () { return; };\r\n        }\r\n        promise.then(successCallback, errorCallback);\r\n    }\n\n    var ActivityType = (function (_super) {\r\n        __extends(ActivityType, _super);\r\n        function ActivityType(name, ownerWindow, helperWindows, description) {\r\n            var _this = _super.call(this, name) || this;\r\n            _this._name = name;\r\n            _this._description = description;\r\n            _this._ownerWindow = ownerWindow;\r\n            _this._helperWindows = helperWindows || [];\r\n            return _this;\r\n        }\r\n        Object.defineProperty(ActivityType.prototype, \"name\", {\r\n            get: function () {\r\n                return this._name;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityType.prototype, \"description\", {\r\n            get: function () {\r\n                return this._description;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityType.prototype, \"helperWindows\", {\r\n            get: function () {\r\n                var _this = this;\r\n                return this._helperWindows.map(function (hw) { return _this.covertToWindowDef(hw); });\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityType.prototype, \"ownerWindow\", {\r\n            get: function () {\r\n                return this.covertToWindowDef(this._ownerWindow);\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ActivityType.prototype.initiate = function (context, callback, configuration) {\r\n            return this._manager.initiate(this._name, context, callback, configuration);\r\n        };\r\n        ActivityType.prototype._updateCore = function (other) {\r\n            var _this = this;\r\n            _super.prototype._updateCore.call(this, other);\r\n            ifNotUndefined(other._description, function (x) { return _this._description = x; });\r\n            ifNotUndefined(other._ownerWindow, function (x) { return _this._ownerWindow = x; });\r\n            ifNotUndefined(other._helperWindows, function (x) { return _this._helperWindows = x; });\r\n        };\r\n        ActivityType.prototype.covertToWindowDef = function (windowType) {\r\n            var _a, _b, _c, _d;\r\n            return {\r\n                type: (_b = (_a = windowType) === null || _a === void 0 ? void 0 : _a.id) === null || _b === void 0 ? void 0 : _b.type,\r\n                name: (_d = (_c = windowType) === null || _c === void 0 ? void 0 : _c.id) === null || _d === void 0 ? void 0 : _d.name\r\n            };\r\n        };\r\n        return ActivityType;\r\n    }(ActivityEntity));\n\n    var WindowType = (function (_super) {\r\n        __extends(WindowType, _super);\r\n        function WindowType(name, appByWindowTypeGetter) {\r\n            var _this = _super.call(this, name) || this;\r\n            _this._name = name;\r\n            _this._appByWindowTypeGetter = appByWindowTypeGetter;\r\n            return _this;\r\n        }\r\n        Object.defineProperty(WindowType.prototype, \"name\", {\r\n            get: function () {\r\n                return this._name;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(WindowType.prototype, \"config\", {\r\n            get: function () {\r\n                return this._appByWindowTypeGetter(this._name);\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(WindowType.prototype, \"windows\", {\r\n            get: function () {\r\n                return this._manager.getWindows({ type: this._name });\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        WindowType.prototype.create = function (activity, configuration) {\r\n            var definition = Object.assign({ type: this.name, name: this.name, isIndependent: false }, configuration);\r\n            return this._manager.createWindow(activity, definition);\r\n        };\r\n        return WindowType;\r\n    }(ActivityEntity));\n\n    var EntityEvent = (function () {\r\n        function EntityEvent(entitiy, context) {\r\n            this.entity = entitiy;\r\n            this.context = context;\r\n        }\r\n        return EntityEvent;\r\n    }());\r\n    var EntityEventContext = (function () {\r\n        function EntityEventContext(eventType) {\r\n            this.type = eventType;\r\n        }\r\n        return EntityEventContext;\r\n    }());\r\n    var ActivityStatusChangeEventContext = (function (_super) {\r\n        __extends(ActivityStatusChangeEventContext, _super);\r\n        function ActivityStatusChangeEventContext(newStatus, oldStatus) {\r\n            var _this = _super.call(this, EntityEventType.StatusChange) || this;\r\n            _this.newStatus = newStatus;\r\n            _this.oldStatus = oldStatus;\r\n            return _this;\r\n        }\r\n        return ActivityStatusChangeEventContext;\r\n    }(EntityEventContext));\r\n    var ActivityContextChangedEventContext = (function (_super) {\r\n        __extends(ActivityContextChangedEventContext, _super);\r\n        function ActivityContextChangedEventContext(context, updated, removed) {\r\n            var _this = _super.call(this, EntityEventType.ActivityContextChange) || this;\r\n            _this.context = typeof context === \"string\" ? JSON.parse(context) : context;\r\n            _this.updated = updated;\r\n            _this.removed = removed;\r\n            return _this;\r\n        }\r\n        return ActivityContextChangedEventContext;\r\n    }(EntityEventContext));\r\n    var EntityEventType = (function () {\r\n        function EntityEventType() {\r\n        }\r\n        EntityEventType.Added = \"added\";\r\n        EntityEventType.Removed = \"removed\";\r\n        EntityEventType.Updated = \"updated\";\r\n        EntityEventType.Closed = \"closed\";\r\n        EntityEventType.StatusChange = \"statusChange\";\r\n        EntityEventType.ActivityContextChange = \"activityContextUpdate\";\r\n        EntityEventType.ActivityWindowEvent = \"activityWindowEvent\";\r\n        EntityEventType.ActivityWindowJoinedActivity = \"joined\";\r\n        EntityEventType.ActivityWindowLeftActivity = \"left\";\r\n        return EntityEventType;\r\n    }());\r\n    var ActivityState = (function () {\r\n        function ActivityState() {\r\n        }\r\n        ActivityState.Created = \"created\";\r\n        ActivityState.Started = \"started\";\r\n        ActivityState.Destroyed = \"destroyed\";\r\n        return ActivityState;\r\n    }());\n\n    var ActivityAGM = (function () {\r\n        function ActivityAGM(activity) {\r\n            this._activity = activity;\r\n        }\r\n        ActivityAGM.prototype.register = function (definition, handler) {\r\n            this._ensureHasAgm();\r\n            ActivityAGM.AGM.register(definition, handler);\r\n        };\r\n        ActivityAGM.prototype.servers = function () {\r\n            this._ensureHasAgm();\r\n            if (isUndefinedOrNull(this._activity)) {\r\n                return [];\r\n            }\r\n            return this._activity.windows.map(function (w) {\r\n                return w.instance;\r\n            });\r\n        };\r\n        ActivityAGM.prototype.methods = function () {\r\n            var _this = this;\r\n            this._ensureHasAgm();\r\n            if (isUndefinedOrNull(this._activity)) {\r\n                return [];\r\n            }\r\n            var windows = this._activity.windows;\r\n            var methodNames = [];\r\n            var methods = [];\r\n            windows.forEach(function (window) {\r\n                var windowMethods = _this.methodsForWindow(window);\r\n                windowMethods.forEach(function (currentWindowMethod) {\r\n                    if (methodNames.indexOf(currentWindowMethod.name) === -1) {\r\n                        methodNames.push(currentWindowMethod.name);\r\n                        methods.push(currentWindowMethod);\r\n                    }\r\n                });\r\n            });\r\n            return methods;\r\n        };\r\n        ActivityAGM.prototype.methodsForWindow = function (window) {\r\n            this._ensureHasAgm();\r\n            if (!window.instance) {\r\n                return [];\r\n            }\r\n            return ActivityAGM.AGM.methodsForInstance(window.instance);\r\n        };\r\n        ActivityAGM.prototype.invoke = function (methodName, arg, target, options, success, error) {\r\n            this._ensureHasAgm();\r\n            var activityServers = this.servers();\r\n            var serversToInvokeAgainst = [];\r\n            if (isUndefinedOrNull(target)) {\r\n                target = \"activity.all\";\r\n            }\r\n            if (isString(target)) {\r\n                if (target === \"activity.all\") {\r\n                    serversToInvokeAgainst = activityServers;\r\n                }\r\n                else if (target === \"activity.best\") {\r\n                    var potentialTargets = activityServers.filter(function (server) {\r\n                        var methods = ActivityAGM.AGM.methodsForInstance(server);\r\n                        return methods.filter(function (m) {\r\n                            return m.name === methodName;\r\n                        }).length > 0;\r\n                    });\r\n                    if (potentialTargets.length > 0) {\r\n                        serversToInvokeAgainst = [potentialTargets[0]];\r\n                    }\r\n                }\r\n                else if (target === \"all\" || target === \"best\") {\r\n                    return promisify$1(ActivityAGM.AGM.invoke(methodName, arg, target, options), success, error);\r\n                }\r\n                else {\r\n                    throw new Error(\"Invalid invoke target \" + target);\r\n                }\r\n            }\r\n            else if (isArray(target)) {\r\n                if (target.length >= 0) {\r\n                    var firstElem = target[0];\r\n                    if (this._isInstance(firstElem)) {\r\n                        serversToInvokeAgainst = target.map(function (instance) { return instance; });\r\n                    }\r\n                    else if (this._isActivityWindow(firstElem)) {\r\n                        serversToInvokeAgainst = target.map(function (win) { return win.instance; });\r\n                    }\r\n                    else {\r\n                        throw new Error(\"Unknown target object\");\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                if (this._isInstance(target)) {\r\n                    serversToInvokeAgainst = [target];\r\n                }\r\n                else if (this._isActivityWindow(target)) {\r\n                    serversToInvokeAgainst = [target.instance];\r\n                }\r\n                else {\r\n                    throw new Error(\"Unknown target object\");\r\n                }\r\n            }\r\n            throw new Error(\"Not implemented\");\r\n        };\r\n        ActivityAGM.prototype.unregister = function (definition) {\r\n            this._ensureHasAgm();\r\n            return ActivityAGM.AGM.unregister(definition);\r\n        };\r\n        ActivityAGM.prototype.createStream = function (methodDefinition, subscriptionAddedHandler, subscriptionRemovedHandler) {\r\n            this._ensureHasAgm();\r\n            ActivityAGM.AGM.createStream(methodDefinition, {\r\n                subscriptionAddedHandler: subscriptionAddedHandler,\r\n                subscriptionRemovedHandler: subscriptionRemovedHandler,\r\n                subscriptionRequestHandler: undefined\r\n            });\r\n        };\r\n        ActivityAGM.prototype.subscribe = function (methodDefinition, parameters, target) {\r\n            this._ensureHasAgm();\r\n            return ActivityAGM.AGM.subscribe(methodDefinition, parameters);\r\n        };\r\n        ActivityAGM.prototype._ensureHasAgm = function () {\r\n            if (isUndefinedOrNull(ActivityAGM.AGM)) {\r\n                throw new Error(\"Agm should be configured to be used in activity\");\r\n            }\r\n        };\r\n        ActivityAGM.prototype._isInstance = function (obj) {\r\n            return obj.application !== undefined;\r\n        };\r\n        ActivityAGM.prototype._isActivityWindow = function (obj) {\r\n            return obj.instance !== undefined;\r\n        };\r\n        return ActivityAGM;\r\n    }());\n\n    var AttachedActivityDescriptor = (function () {\r\n        function AttachedActivityDescriptor(manager, ownerActivityId, state) {\r\n            this._manager = manager;\r\n            this._ownerActivityId = ownerActivityId;\r\n            this._state = state;\r\n        }\r\n        Object.defineProperty(AttachedActivityDescriptor.prototype, \"ownerId\", {\r\n            get: function () {\r\n                return this._state.ownerId;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(AttachedActivityDescriptor.prototype, \"windowIds\", {\r\n            get: function () {\r\n                return this._state.windowIds;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(AttachedActivityDescriptor.prototype, \"frameColor\", {\r\n            get: function () {\r\n                return this._state.frameColor;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(AttachedActivityDescriptor.prototype, \"context\", {\r\n            get: function () {\r\n                return this._state.context;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(AttachedActivityDescriptor.prototype, \"tag\", {\r\n            get: function () {\r\n                return this._state.tag;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        AttachedActivityDescriptor.prototype.detach = function (descriptor) {\r\n            var _this = this;\r\n            descriptor = descriptor || {};\r\n            var merged = {};\r\n            Object.keys(this._state).forEach(function (prop) {\r\n                merged[prop] = _this._state[prop];\r\n            });\r\n            merged.context = descriptor.context || merged.context;\r\n            merged.frameColor = descriptor.frameColor || merged.frameColor;\r\n            return this._manager.detachActivities(this._ownerActivityId, merged);\r\n        };\r\n        return AttachedActivityDescriptor;\r\n    }());\n\n    var nextTick = function (cb) {\r\n        setTimeout(cb, 0);\r\n    };\r\n    function nodeify(promise, callback) {\r\n        if (!isFunction(callback)) {\r\n            return promise;\r\n        }\r\n        promise.then(function (resp) {\r\n            nextTick(function () {\r\n                callback(null, resp);\r\n            });\r\n        }, function (err) {\r\n            nextTick(function () {\r\n                callback(err, null);\r\n            });\r\n        });\r\n    }\n\n    var Activity = (function (_super) {\r\n        __extends(Activity, _super);\r\n        function Activity(id, actType, status, context, ownerId) {\r\n            var _this = _super.call(this, id) || this;\r\n            _this._id = id;\r\n            _this._actType = actType;\r\n            _this._status = status;\r\n            _this._context = context;\r\n            _this._ownerId = ownerId;\r\n            _this._agm = new ActivityAGM(_this);\r\n            return _this;\r\n        }\r\n        Object.defineProperty(Activity.prototype, \"type\", {\r\n            get: function () {\r\n                if (this._manager) {\r\n                    return this._manager.getActivityType(this._actType);\r\n                }\r\n                return undefined;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Activity.prototype, \"context\", {\r\n            get: function () {\r\n                return this._context;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Activity.prototype, \"status\", {\r\n            get: function () {\r\n                return this._status;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Activity.prototype, \"owner\", {\r\n            get: function () {\r\n                if (!this._ownerId) {\r\n                    return null;\r\n                }\r\n                return this._manager.getWindows({ id: this._ownerId })[0];\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Activity.prototype, \"windows\", {\r\n            get: function () {\r\n                return this._manager.getWindows({ activityId: this._id });\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Activity.prototype, \"agm\", {\r\n            get: function () {\r\n                return this._agm;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Activity.prototype.addWindow = function (window, callback) {\r\n            return this._manager.addWindowToActivity(this, window, callback);\r\n        };\r\n        Activity.prototype.createWindow = function (windowType, callback) {\r\n            return this._manager.createWindow(this, windowType, callback);\r\n        };\r\n        Activity.prototype.createStackedWindows = function (windowTypes, timeout, callback) {\r\n            return this._manager.createStackedWindows(this, windowTypes, timeout, callback);\r\n        };\r\n        Activity.prototype.leave = function (window, callback) {\r\n            return this._manager.leaveWindowFromActivity(this, window, callback);\r\n        };\r\n        Activity.prototype.getWindowsByType = function (windowType) {\r\n            var filter = { activityId: this._id, type: windowType };\r\n            return this._manager.getWindows(filter);\r\n        };\r\n        Activity.prototype.setContext = function (context, callback) {\r\n            return this._manager.setActivityContext(this, context, callback);\r\n        };\r\n        Activity.prototype.updateContext = function (context, callback) {\r\n            return this._manager.updateActivityContext(this, context, callback);\r\n        };\r\n        Activity.prototype.onStatusChange = function (handler) {\r\n            var _this = this;\r\n            return this._manager.subscribeActivityEvents(function (a, ns, os) {\r\n                if (a.id === _this.id) {\r\n                    handler(a, ns, os);\r\n                }\r\n            });\r\n        };\r\n        Activity.prototype.onWindowEvent = function (handler) {\r\n            var _this = this;\r\n            return this._manager.subscribeWindowEvents(function (a, w, e) {\r\n                if (a.id === _this.id) {\r\n                    handler(a, w, e);\r\n                }\r\n            });\r\n        };\r\n        Activity.prototype.onContextChanged = function (handler) {\r\n            var _this = this;\r\n            this._manager.subscribeActivityContextChanged(function (act, context, updated, removed) {\r\n                if (act.id === _this.id) {\r\n                    handler(context, updated, removed, act);\r\n                }\r\n            });\r\n            try {\r\n                handler(this.context, this.context, [], this);\r\n            }\r\n            catch (e) {\r\n                return;\r\n            }\r\n        };\r\n        Activity.prototype.stop = function () {\r\n            this._manager.stopActivity(this);\r\n        };\r\n        Activity.prototype.clone = function (options) {\r\n            return this._manager.clone(this, options);\r\n        };\r\n        Activity.prototype.attach = function (activity, tag) {\r\n            var activityId;\r\n            if (typeof activity === \"string\") {\r\n                activityId = activity;\r\n            }\r\n            else {\r\n                activityId = activity.id;\r\n            }\r\n            return this._manager.attachActivities(activityId, this.id, tag);\r\n        };\r\n        Activity.prototype.onActivityAttached = function (callback) {\r\n            var _this = this;\r\n            this._manager.subscribeActivitiesAttached(function (newActId, oldActId, descriptor) {\r\n                if (newActId !== _this._id) {\r\n                    return;\r\n                }\r\n                callback(descriptor);\r\n            });\r\n        };\r\n        Activity.prototype.onDetached = function (callback) {\r\n            var _this = this;\r\n            this._manager.subscribeActivitiesDetached(function (newAct, originalActivity, state) {\r\n                if (originalActivity.id !== _this._id) {\r\n                    return;\r\n                }\r\n                callback(newAct, state);\r\n            });\r\n        };\r\n        Activity.prototype._updateCore = function (other) {\r\n            var _this = this;\r\n            _super.prototype._updateCore.call(this, other);\r\n            ifNotUndefined(other._actType, function (x) { return _this._actType = x; });\r\n            ifNotUndefined(other._context, function (x) { return _this._context = x; });\r\n            ifNotUndefined(other._ownerId, function (x) { return _this._ownerId = x; });\r\n            if (other._status && (!this._status || (this._status.state !== other._status.state))) {\r\n                this._status = other._status;\r\n            }\r\n        };\r\n        Activity.prototype._updateDescriptors = function (allStates) {\r\n            var _this = this;\r\n            this._attached = allStates.map(function (s) {\r\n                return new AttachedActivityDescriptor(_this._manager, _this._id, s);\r\n            });\r\n        };\r\n        Object.defineProperty(Activity.prototype, \"attached\", {\r\n            get: function () {\r\n                return this._attached;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Activity.prototype.setFrameColor = function (color, callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                var callbacksToWait = _this.windows.length;\r\n                if (callbacksToWait === 0) {\r\n                    resolve(_this);\r\n                }\r\n                _this.windows.forEach(function (w) {\r\n                    w.underlyingWindow.setFrameColor(color, function () {\r\n                        callbacksToWait--;\r\n                        if (callbacksToWait <= 0) {\r\n                            resolve(_this);\r\n                        }\r\n                    });\r\n                });\r\n                setTimeout(function () {\r\n                    if (callbacksToWait > 0) {\r\n                        reject(_this.id + \" - timed out waiting for setFrameColor with\" + color);\r\n                    }\r\n                }, 5000);\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        Activity.prototype.getFrameColor = function () {\r\n            if (!this.windows || this.windows.length === 0) {\r\n                return \"\";\r\n            }\r\n            return this.windows[0].underlyingWindow.frameColor;\r\n        };\r\n        return Activity;\r\n    }(ActivityEntity));\n\n    var LogLevel = (function () {\r\n        function LogLevel() {\r\n        }\r\n        LogLevel.Trace = \"trace\";\r\n        LogLevel.Debug = \"debug\";\r\n        LogLevel.Info = \"info\";\r\n        LogLevel.Warn = \"warn\";\r\n        LogLevel.Error = \"error\";\r\n        return LogLevel;\r\n    }());\r\n    var Logger$1 = (function () {\r\n        function Logger(name) {\r\n            this._name = name;\r\n            if (!isUndefinedOrNull(Logger.GlueLogger)) {\r\n                this._glueLogger = Logger.GlueLogger.subLogger(name);\r\n            }\r\n        }\r\n        Logger.GetNamed = function (name) {\r\n            return new Logger(name);\r\n        };\r\n        Logger.Get = function (owner) {\r\n            return new Logger(Logger.GetTypeName(owner));\r\n        };\r\n        Logger.prototype.trace = function (message) {\r\n            if (!isUndefinedOrNull(this._glueLogger)) {\r\n                this._glueLogger.trace(message);\r\n            }\r\n            else {\r\n                if (Logger.Level === LogLevel.Trace) {\r\n                    console.info(this._getMessage(message, LogLevel.Trace));\r\n                }\r\n            }\r\n        };\r\n        Logger.prototype.debug = function (message) {\r\n            if (!isUndefinedOrNull(this._glueLogger)) {\r\n                this._glueLogger.debug(message);\r\n            }\r\n            else {\r\n                if (Logger.Level === LogLevel.Debug ||\r\n                    Logger.Level === LogLevel.Trace) {\r\n                    console.info(this._getMessage(message, LogLevel.Debug));\r\n                }\r\n            }\r\n        };\r\n        Logger.prototype.info = function (message) {\r\n            if (!isUndefinedOrNull(this._glueLogger)) {\r\n                this._glueLogger.info(message);\r\n            }\r\n            else {\r\n                if (Logger.Level === LogLevel.Debug ||\r\n                    Logger.Level === LogLevel.Trace ||\r\n                    Logger.Level === LogLevel.Info) {\r\n                    console.info(this._getMessage(message, LogLevel.Info));\r\n                }\r\n            }\r\n        };\r\n        Logger.prototype.warn = function (message) {\r\n            if (!isUndefinedOrNull(this._glueLogger)) {\r\n                this._glueLogger.warn(message);\r\n            }\r\n            else {\r\n                if (Logger.Level === LogLevel.Debug ||\r\n                    Logger.Level === LogLevel.Trace ||\r\n                    Logger.Level === LogLevel.Info ||\r\n                    Logger.Level === LogLevel.Warn) {\r\n                    console.info(this._getMessage(message, LogLevel.Info));\r\n                }\r\n            }\r\n        };\r\n        Logger.prototype.error = function (message) {\r\n            if (!isUndefinedOrNull(this._glueLogger)) {\r\n                this._glueLogger.error(message);\r\n            }\r\n            else {\r\n                console.error(this._getMessage(message, LogLevel.Error));\r\n                console.trace();\r\n            }\r\n        };\r\n        Logger.prototype._getMessage = function (message, level) {\r\n            return \"[\" + level + \"] \" + this._name + \" - \" + message;\r\n        };\r\n        Logger.GetTypeName = function (object) {\r\n            var funcNameRegex = /function (.{1,})\\(/;\r\n            var results = (funcNameRegex).exec(object.constructor.toString());\r\n            return (results && results.length > 1) ? results[1] : \"\";\r\n        };\r\n        Logger.Level = LogLevel.Info;\r\n        return Logger;\r\n    }());\n\n    var ActivityWindow = (function (_super) {\r\n        __extends(ActivityWindow, _super);\r\n        function ActivityWindow(id, name, type, activityId, instance, isIndependent, windowGetter, hcWindowId) {\r\n            var _this = _super.call(this, id) || this;\r\n            _this._logger = Logger$1.Get(\"window\");\r\n            _this._type = type;\r\n            _this._activityId = activityId;\r\n            _this._name = name;\r\n            _this._instance = instance;\r\n            _this._isIndependent = isIndependent;\r\n            _this._windowGetter = windowGetter;\r\n            _this._hcWindowId = hcWindowId;\r\n            return _this;\r\n        }\r\n        ActivityWindow.prototype.getBounds = function () {\r\n            return this._manager.getWindowBounds(this.id);\r\n        };\r\n        Object.defineProperty(ActivityWindow.prototype, \"name\", {\r\n            get: function () {\r\n                return this._name;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityWindow.prototype, \"isIndependent\", {\r\n            get: function () {\r\n                return this._isIndependent;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityWindow.prototype, \"type\", {\r\n            get: function () {\r\n                if (this._manager) {\r\n                    return this._manager.getWindowType(this._type);\r\n                }\r\n                return undefined;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityWindow.prototype, \"activity\", {\r\n            get: function () {\r\n                if (isUndefined(this._activityId)) {\r\n                    return undefined;\r\n                }\r\n                return this._manager.getActivityById(this._activityId);\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityWindow.prototype, \"isOwner\", {\r\n            get: function () {\r\n                var act = this.activity;\r\n                if (isUndefined(act)) {\r\n                    return false;\r\n                }\r\n                return act.owner.id === this.id;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ActivityWindow.prototype.setVisible = function (isVisible, callback) {\r\n            return this._manager.setWindowVisibility(this.id, isVisible);\r\n        };\r\n        ActivityWindow.prototype.activate = function (focus) {\r\n            return this._manager.activateWindow(this.id, focus);\r\n        };\r\n        ActivityWindow.prototype.setBounds = function (bounds, callback) {\r\n            return this._manager.setWindowBounds(this.id, bounds, callback);\r\n        };\r\n        ActivityWindow.prototype.close = function () {\r\n            return this._manager.closeWindow(this.id);\r\n        };\r\n        Object.defineProperty(ActivityWindow.prototype, \"instance\", {\r\n            get: function () {\r\n                return this._instance;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityWindow.prototype, \"underlyingWindow\", {\r\n            get: function () {\r\n                var window = this._windowGetter();\r\n                if (!window) {\r\n                    return {\r\n                        id: this._hcWindowId\r\n                    };\r\n                }\r\n                return window;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ActivityWindow.prototype.onActivityJoined = function (callback) {\r\n            this._subscribeForActivityWindowEvent(EntityEventType.ActivityWindowJoinedActivity, callback);\r\n        };\r\n        ActivityWindow.prototype.onActivityRemoved = function (callback) {\r\n            this._subscribeForActivityWindowEvent(EntityEventType.ActivityWindowLeftActivity, callback);\r\n        };\r\n        ActivityWindow.prototype._updateCore = function (other) {\r\n            var _this = this;\r\n            ifNotUndefined(other._activityId, function (x) { return _this._activityId = x; });\r\n            ifNotUndefined(other._isIndependent, function (x) { return _this._isIndependent = x; });\r\n            ifNotUndefined(other._hcWindowId, function (x) { return _this._hcWindowId = x; });\r\n            ifNotUndefined(other._type, function (x) { return _this._type = x; });\r\n            ifNotUndefined(other._name, function (x) { return _this._name = x; });\r\n            if (!isUndefinedOrNull(other._instance)) {\r\n                this._instance = other._instance;\r\n            }\r\n        };\r\n        ActivityWindow.prototype._subscribeForActivityWindowEvent = function (eventName, callback) {\r\n            var _this = this;\r\n            this._manager.subscribeWindowEvents(function (activity, window, event) {\r\n                if (window.id !== _this.id) {\r\n                    return;\r\n                }\r\n                if (event === eventName) {\r\n                    callback(activity);\r\n                }\r\n            });\r\n        };\r\n        ActivityWindow.prototype._beforeDelete = function (other) {\r\n            this._hcWindowId = other._hcWindowId;\r\n        };\r\n        return ActivityWindow;\r\n    }(ActivityEntity));\n\n    var ActivityStatus = (function () {\r\n        function ActivityStatus(state, message, time) {\r\n            this.state = state;\r\n            this.message = message;\r\n            this.time = time;\r\n        }\r\n        ActivityStatus.prototype.getState = function () {\r\n            return this.state;\r\n        };\r\n        ActivityStatus.prototype.getMessage = function () {\r\n            return this.message;\r\n        };\r\n        ActivityStatus.prototype.getTime = function () {\r\n            return this.time;\r\n        };\r\n        return ActivityStatus;\r\n    }());\n\n    var gwMmessageError = \"error\";\r\n    var gwMessageAddActivityTypes = \"add-types\";\r\n    var gwMmessageActivityTypesAdded = \"types-added\";\r\n    var gwMessageRemoveActivityTypes = \"remove-types\";\r\n    var gwMessageActivityTypesRemoved = \"types-removed\";\r\n    var gwMessageActivityCreated = \"created\";\r\n    var gwMessageActivityDestroyed = \"destroyed\";\r\n    var gwMessageActivityInitiated = \"initiated\";\r\n    var gwMmessageJoinActivity = \"join-activity\";\r\n    var gwMessageJoinedActivity = \"joined\";\r\n    var gwMessageActivityJoined = \"activity-joined\";\r\n    var gwMessageLeaveActivity = \"leave-activity\";\r\n    var gwMessageActivityLeft = \"left\";\r\n    var gwNmessageMergeActivities = \"merge\";\r\n    var gwMessageSplitActivities = \"split\";\r\n    var gwMessageOwnerChanged = \"owner-changed\";\r\n    var gwMessageAddPeerFactories = \"add-peer-factories\";\r\n    var gwMessagePeerFactoriesAdded = \"peer-factories-added\";\r\n    var gwMessageRemovePeerFactories = \"remove-peer-factories\";\r\n    var gwMessagePeerFactoriesRemoved = \"peer-factories-removed\";\r\n    var gwMessageCreateActivity = \"create\";\r\n    var gwMessageCreatePeer = \"create-peer\";\r\n    var gwMessagePeerRequested = \"peer-requested\";\r\n    var gwMessageReady = \"ready\";\r\n    var gwMessagePeerCreated = \"peer-created\";\r\n    var gwMessageDestroyActivity = \"destroy\";\r\n    var gwMessageDisposePeer = \"dispose-peer\";\r\n    var gwMessageDestroyPeer = \"destroy-peer\";\r\n    var GW3Bridge$1 = (function () {\r\n        function GW3Bridge(config) {\r\n            var _this = this;\r\n            this._activityChangeCallbacks = [];\r\n            this._activityTypeStatusChangeCallbacks = [];\r\n            this._activityWindowChangeCallbacks = [];\r\n            this._windowTypeStatusChangeCallbacks = [];\r\n            this._peerIdAndFactoryIdToPeerType = {};\r\n            this._peerFactoriesRegisteredByUs = {};\r\n            this._gw3Subscriptions = [];\r\n            this._contextSubscriptions = {};\r\n            this._activityTypesInitiatedFromMe = {};\r\n            this._config = config;\r\n            this._connection = config.connection;\r\n            this._logger = config.logger;\r\n            this._contexts = config.contexts;\r\n            this._windows = config.windows;\r\n            this._sessionJoinedPromise = new Promise(function (resolve) {\r\n                _this._sessionJoinedPromiseResolve = resolve;\r\n            });\r\n            this._activityJoinedPromise = new Promise(function (resolve) {\r\n                _this._activityJoinedPromiseResolve = resolve;\r\n            });\r\n            if (!this._config.activityId) {\r\n                this._activityJoinedPromiseResolve({});\r\n            }\r\n            this._gw3Session = this._connection.domain(\"activity\", [\"joined\", \"initiated\", \"peer-created\", \"token\"]);\r\n            if (typeof window !== \"undefined\") {\r\n                var glue42gd_1 = window.glue42gd;\r\n                if (glue42gd_1 && typeof glue42gd_1.addRefreshHandler === \"function\") {\r\n                    glue42gd_1.addRefreshHandler(function (success, error) {\r\n                        _this._gw3Session\r\n                            .send({\r\n                            type: \"reload\"\r\n                        })\r\n                            .then(function (msg) {\r\n                            if (!msg.token) {\r\n                                error(\"Expected gateway token for refreshing.\");\r\n                                return;\r\n                            }\r\n                            try {\r\n                                glue42gd_1.setGWToken(msg.token);\r\n                            }\r\n                            catch (e) {\r\n                                error(e.message || e);\r\n                                return;\r\n                            }\r\n                            success();\r\n                        }, error);\r\n                    });\r\n                }\r\n            }\r\n        }\r\n        GW3Bridge.activityTypeGwMessageEntityToActivityType = function (entity, description) {\r\n            var nameToWindowType = function (windowName) {\r\n                return new WindowType(windowName, undefined);\r\n            };\r\n            return new ActivityType(entity.name, entity.owner_type && nameToWindowType(entity.owner_type), entity.helper_types && entity.helper_types.map(nameToWindowType), description);\r\n        };\r\n        GW3Bridge.peerFactoryGwMessageEntityToWindowType = function (entity) {\r\n            return new WindowType(entity.peer_type, function (_) { return undefined; });\r\n        };\r\n        GW3Bridge.activityGwMessageToActivity = function (msg, status) {\r\n            var ownerId = msg.owner !== undefined ? msg.owner.peer_id : msg.owner_id;\r\n            return new Activity(msg.activity_id, msg.activity_type, status, msg.context_snapshot, ownerId);\r\n        };\r\n        GW3Bridge.activityToActivityStatusChangeEvent = function (act) {\r\n            return new EntityEvent(act, new ActivityStatusChangeEventContext(act.status, undefined));\r\n        };\r\n        Object.defineProperty(GW3Bridge.prototype, \"bridgeType\", {\r\n            get: function () {\r\n                return \"GW3\";\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        GW3Bridge.prototype.init = function () {\r\n            var _this = this;\r\n            this.forwardActivityTypeMessagesToStatusEventHandlers();\r\n            this.subscribe(gwMessageActivityCreated, this.handleActivityCreatedMessage);\r\n            this.subscribe(gwMessageActivityDestroyed, this.handleActivityDestroyedMessage);\r\n            this.forwardActivityMessagesToStatusEventHandlers();\r\n            this.forwardActivityCreatedAndJoinedActivityToActivityWindowEventHandlers();\r\n            this.forwardPeerFactoryMessagesToStatusEventHandlers();\r\n            this.forwardPeerFactoryMessagesToPeerFactoryRequests();\r\n            this.subscribe(gwMessagePeerFactoriesAdded, this.handlePeerFactoriesAdded);\r\n            this.subscribe(gwMessagePeerFactoriesRemoved, this.handlePeerFactoriesRemoved);\r\n            this.forwardActivityWindowMessagesToEventHandlers();\r\n            this.subscribe(gwMessageDisposePeer, function () {\r\n                if (_this._config.disposeRequestHandling === \"dispose\") {\r\n                    _this.dispose();\r\n                    return;\r\n                }\r\n                if (_this._config.disposeRequestHandling === \"exit\") {\r\n                    if (_this._windows && typeof _this._windows.my() !== \"undefined\") {\r\n                        _this._windows.my().close();\r\n                        return;\r\n                    }\r\n                    if (typeof window !== \"undefined\" && typeof window.close === \"function\") {\r\n                        window.close();\r\n                        return;\r\n                    }\r\n                    if (typeof process !== \"undefined\" && typeof process.exit === \"function\") {\r\n                        process.exit();\r\n                        return;\r\n                    }\r\n                }\r\n            });\r\n            this._gw3Session.onJoined(function () {\r\n                if (_this._config.mode === \"trackMyOnly\" ||\r\n                    _this._config.mode === \"trackMyTypeAndInitiatedFromMe\") {\r\n                    _this._sessionJoinedPromiseResolve(_this);\r\n                }\r\n                else {\r\n                    _this._gw3Session\r\n                        .send({\r\n                        type: \"subscribe\",\r\n                        activity_types: (_this._config.mode === \"trackAll\" ? [] :\r\n                            _this._config.mode === \"trackTypes\" ? _this._config.typesToTrack : [])\r\n                    })\r\n                        .then(function () {\r\n                        _this._sessionJoinedPromiseResolve(_this);\r\n                    });\r\n                }\r\n            });\r\n            this._gw3Session.join();\r\n        };\r\n        GW3Bridge.prototype.dispose = function () {\r\n            var _this = this;\r\n            this._gw3Subscriptions.forEach(function (sub) { return sub && _this._connection.off(sub); });\r\n            this._gw3Subscriptions.length = 0;\r\n        };\r\n        GW3Bridge.prototype.ready = function () {\r\n            return Promise.all([this._sessionJoinedPromise, this._activityJoinedPromise]);\r\n        };\r\n        GW3Bridge.prototype.initReady = function () {\r\n            return this._sessionJoinedPromise;\r\n        };\r\n        GW3Bridge.prototype.onActivityTypeStatusChange = function (callback) {\r\n            this._activityTypeStatusChangeCallbacks.push(callback);\r\n        };\r\n        GW3Bridge.prototype.registerActivityType = function (activityTypeName, ownerWindow, helperWindows, config, description) {\r\n            var _this = this;\r\n            var entity = {};\r\n            entity.name = activityTypeName;\r\n            var toActivityPeerConfig = function (windowDefinition) { return ({ type: windowDefinition.type, name: windowDefinition.name, configuration: windowDefinition }); };\r\n            entity.owner_type = toActivityPeerConfig(ownerWindow);\r\n            entity.helper_types = helperWindows.map(toActivityPeerConfig);\r\n            return this._gw3Session\r\n                .send({\r\n                type: gwMessageAddActivityTypes,\r\n                types: [entity]\r\n            })\r\n                .then(function () {\r\n                var activityType = GW3Bridge.activityTypeGwMessageEntityToActivityType(entity, description);\r\n                _this.invokeCallbacks(_this._activityTypeStatusChangeCallbacks, new EntityEvent(activityType, new EntityEventContext(EntityEventType.Added)), gwMessageAddActivityTypes);\r\n                return activityType;\r\n            });\r\n        };\r\n        GW3Bridge.prototype.unregisterActivityType = function (activityTypeName) {\r\n            var _this = this;\r\n            return this._gw3Session\r\n                .send({\r\n                type: gwMessageRemoveActivityTypes,\r\n                types: [activityTypeName]\r\n            })\r\n                .then(function () {\r\n                var activityType = new ActivityType(activityTypeName, undefined, undefined, undefined);\r\n                _this.invokeCallbacks(_this._activityTypeStatusChangeCallbacks, new EntityEvent(activityType, new EntityEventContext(EntityEventType.Removed)), gwMessageAddActivityTypes);\r\n            });\r\n        };\r\n        GW3Bridge.prototype.onWindowTypeStatusChange = function (callback) {\r\n            this._windowTypeStatusChangeCallbacks.push(callback);\r\n        };\r\n        GW3Bridge.prototype.registerWindowFactory = function (windowType, factory, parameters) {\r\n            var _this = this;\r\n            if (this._peerFactoriesRegisteredByUs[windowType]) {\r\n                return Promise.reject(new Error(\"Factory for windowType \" + windowType + \" already registered.\"));\r\n            }\r\n            this._peerFactoriesRegisteredByUs[windowType] = factory;\r\n            var entity = {\r\n                id: windowType,\r\n                peer_type: windowType,\r\n                configuration: parameters\r\n            };\r\n            return this._gw3Session.send({\r\n                type: gwMessageAddPeerFactories,\r\n                factories: [entity]\r\n            })\r\n                .then(function () {\r\n                _this.invokeCallbacks(_this._windowTypeStatusChangeCallbacks, new EntityEvent(GW3Bridge.peerFactoryGwMessageEntityToWindowType(entity), new EntityEventContext(EntityEventType.Added)), gwMessageAddPeerFactories);\r\n            })\r\n                .catch(function () {\r\n                delete _this._peerFactoriesRegisteredByUs[windowType];\r\n            });\r\n        };\r\n        GW3Bridge.prototype.unregisterWindowFactory = function (windowType) {\r\n            var _this = this;\r\n            var factory = this._peerFactoriesRegisteredByUs[windowType];\r\n            if (!factory) {\r\n                return Promise.reject(new Error(\"Factory for windowType \" + windowType + \" not registered.\"));\r\n            }\r\n            delete this._peerFactoriesRegisteredByUs[windowType];\r\n            return this._gw3Session.send({\r\n                type: gwMessageRemovePeerFactories,\r\n                factory_ids: [windowType]\r\n            }).then(function () {\r\n                _this.invokeCallbacks(_this._windowTypeStatusChangeCallbacks, new EntityEvent(new WindowType(windowType, undefined), new EntityEventContext(EntityEventType.Removed)), gwMessageAddPeerFactories);\r\n            });\r\n        };\r\n        GW3Bridge.prototype.onActivityStatusChange = function (callback) {\r\n            this._activityChangeCallbacks.push(callback);\r\n        };\r\n        GW3Bridge.prototype.initiateActivity = function (activityType, context, configuration) {\r\n            var _this = this;\r\n            var initiateMsg = {\r\n                type: gwMessageCreateActivity,\r\n                activity_type: activityType,\r\n                initial_context: context,\r\n            };\r\n            if (this.isOverrideTypeDefinition(configuration)) {\r\n                initiateMsg.types_override = {\r\n                    owner_type: { type: configuration.owner.type, name: configuration.owner.name, configuration: configuration.owner },\r\n                    helper_types: configuration.helpers && configuration.helpers.map(function (wd) { return ({ type: wd.type, name: wd.name, configuration: wd }); })\r\n                };\r\n            }\r\n            else {\r\n                initiateMsg.configuration = configuration && configuration.map(function (wd) { return ({ type: wd.type, name: wd.name, configuration: wd }); });\r\n            }\r\n            return this.sendCreateAndMapResultingMessagesToPromise(initiateMsg, gwMessageActivityInitiated, function (msg, requestId) { return msg.request_id === requestId; }, gwMessageActivityCreated, function (msg, requestId, initMsg) { return msg.activity_id === initMsg.activity_id; }, gwMessageActivityDestroyed, function (msg, requestId, initMsg) { return msg.activity_id === initMsg.activity_id; }, function (msg) { return msg.activity_id; }).then(function (id) {\r\n                if (_this._config.mode === \"trackMyTypeAndInitiatedFromMe\") {\r\n                    if (!_this._activityTypesInitiatedFromMe[activityType]) {\r\n                        _this._activityTypesInitiatedFromMe[activityType] = true;\r\n                        return _this._gw3Session\r\n                            .send({\r\n                            type: \"subscribe\",\r\n                            activity_types: [activityType]\r\n                        })\r\n                            .then(function () {\r\n                            return id;\r\n                        });\r\n                    }\r\n                }\r\n                return id;\r\n            });\r\n        };\r\n        GW3Bridge.prototype.stopActivity = function (activity) {\r\n            return this._gw3Session.send({\r\n                type: gwMessageDestroyActivity,\r\n                activity_id: activity.id,\r\n                reason_uri: \"com.tick42.glue.activity.constants.destroyReason.general\",\r\n                reason: \"Destroying activity\"\r\n            }).then(function (_) { return true; });\r\n        };\r\n        GW3Bridge.prototype.updateActivityContext = function (activity, context, fullReplace, removedKeys) {\r\n            if (fullReplace) {\r\n                return this._contexts.set(activity.id, context);\r\n            }\r\n            else {\r\n                removedKeys = removedKeys || [];\r\n                for (var _i = 0, removedKeys_1 = removedKeys; _i < removedKeys_1.length; _i++) {\r\n                    var x = removedKeys_1[_i];\r\n                    context[x] = null;\r\n                }\r\n                return this._contexts.update(activity.id, context);\r\n            }\r\n        };\r\n        GW3Bridge.prototype.announceWindow = function (windowType, activityWindowId) {\r\n            throw new Error(\"Invalid operation 'announceWindow' for GW3 protocol\");\r\n        };\r\n        GW3Bridge.prototype.registerWindow = function (type, name, independent) {\r\n            var shouldSendReady = typeof this._connection.gatewayToken !== \"undefined\";\r\n            var peerId = this._connection.peerId;\r\n            if (typeof window !== \"undefined\") {\r\n                var glue42gd = window.glue42gd;\r\n                if (glue42gd) {\r\n                    shouldSendReady = typeof glue42gd.activityInfo !== \"undefined\";\r\n                }\r\n            }\r\n            if (shouldSendReady) {\r\n                this._gw3Session.send({\r\n                    type: gwMessageReady,\r\n                });\r\n            }\r\n            this.invokeCallbacks(this._activityWindowChangeCallbacks, new EntityEvent(new ActivityWindow(peerId, name, type, undefined, this.getAgmInstance(peerId), independent, this.generateWindowGetter(peerId), undefined), new EntityEventContext(EntityEventType.Added)), \"register window\");\r\n            return Promise.resolve(peerId);\r\n        };\r\n        GW3Bridge.prototype.onActivityWindowChange = function (callback) {\r\n            this._activityWindowChangeCallbacks.push(callback);\r\n        };\r\n        GW3Bridge.prototype.createWindow = function (activityId, windowDefinition) {\r\n            var _this = this;\r\n            if (!windowDefinition.layout) {\r\n                if (windowDefinition.left || windowDefinition.width || windowDefinition.height || windowDefinition.top) {\r\n                    windowDefinition.layout = {\r\n                        mode: \"pixels\",\r\n                        cellSize: 1,\r\n                    };\r\n                }\r\n            }\r\n            return this.sendCreateAndMapResultingMessagesToPromise({\r\n                type: gwMessageCreatePeer,\r\n                peer_type: windowDefinition.type,\r\n                peer_name: windowDefinition.name || windowDefinition.type,\r\n                configuration: windowDefinition,\r\n                activity_id: activityId,\r\n            }, undefined, undefined, gwMessagePeerCreated, function (msg, requestId) { return msg.request_id === requestId; }, undefined, undefined, function (msg) { return msg.created_id; })\r\n                .then(function (id) {\r\n                if (!activityId) {\r\n                    return;\r\n                }\r\n                return _this.joinActivity(activityId, id, windowDefinition.name)\r\n                    .then(function () {\r\n                    return id;\r\n                });\r\n            });\r\n        };\r\n        GW3Bridge.prototype.closeWindow = function (id) {\r\n            return this._gw3Session.send({\r\n                type: gwMessageDestroyPeer,\r\n                destroy_peer_id: id\r\n            }).then(function (_) { return undefined; });\r\n        };\r\n        GW3Bridge.prototype.getAnnouncementInfo = function () {\r\n            var activityId = this._config.activityId || (this._config.announcementInfo && this._config.announcementInfo.activityId);\r\n            var activityWindowType = (this._config.announcementInfo && this._config.announcementInfo.activityWindowType);\r\n            var activityWindowIndependent = (this._config.announcementInfo && this._config.announcementInfo.activityWindowIndependent);\r\n            var activityWindowName = (this._config.announcementInfo && this._config.announcementInfo.activityWindowName);\r\n            if (typeof window !== \"undefined\" &&\r\n                typeof window.location !== \"undefined\" &&\r\n                window.location.search &&\r\n                typeof URLSearchParams === \"function\") {\r\n                var searchParams = new URLSearchParams(location.search.slice(1));\r\n                activityWindowType = activityWindowType || searchParams.get(\"t42PeerType\");\r\n                activityWindowType = activityWindowType || searchParams.get(\"t42ActivityWindowType\");\r\n                if (typeof activityWindowIndependent === \"undefined\") {\r\n                    activityWindowIndependent = searchParams.get(\"t42ActivityWindowIndependent\");\r\n                }\r\n                activityWindowName = activityWindowName || searchParams.get(\"t42ActivityWindowName\");\r\n                activityId = activityId || searchParams.get(\"t42ActivityId\");\r\n            }\r\n            activityWindowType = activityWindowType || \"unknown\";\r\n            activityWindowIndependent = activityWindowIndependent || false;\r\n            activityWindowName = activityWindowName || this._connection.peerId;\r\n            return {\r\n                activityWindowId: undefined,\r\n                activityId: activityId,\r\n                activityWindowType: activityWindowType,\r\n                activityWindowIndependent: activityWindowIndependent,\r\n                activityWindowName: activityWindowName,\r\n            };\r\n        };\r\n        GW3Bridge.prototype.joinActivity = function (activityId, windowId, name) {\r\n            var _this = this;\r\n            var maybeName = (name && { name: name }) || {};\r\n            return this._gw3Session.send(__assign({ type: gwMmessageJoinActivity, target_id: windowId, activity_id: activityId }, maybeName)).then(function () {\r\n                _this.invokeCallbacks(_this._activityWindowChangeCallbacks, new EntityEvent(new ActivityWindow(windowId, undefined, undefined, activityId, _this.getAgmInstance(windowId), undefined, _this.generateWindowGetter(windowId), undefined), new EntityEventContext(EntityEventType.ActivityWindowJoinedActivity)), \"activity joined - ActivityWindow\");\r\n                _this.invokeCallbacks(_this._activityChangeCallbacks, new EntityEvent(new Activity(activityId, undefined, new ActivityStatus(\"created\", undefined, undefined), undefined, undefined), new EntityEventContext(EntityEventType.Updated)), \"activity joined - Activity\");\r\n            });\r\n        };\r\n        GW3Bridge.prototype.leaveActivity = function (activityId, windowId) {\r\n            var _this = this;\r\n            return this._gw3Session.send({\r\n                type: gwMessageLeaveActivity,\r\n                target_id: windowId,\r\n                activity_id: activityId\r\n            }).then(function () {\r\n                _this.invokeCallbacks(_this._activityWindowChangeCallbacks, new EntityEvent(new ActivityWindow(windowId, undefined, undefined, null, _this.getAgmInstance(windowId), undefined, _this.generateWindowGetter(windowId), undefined), new EntityEventContext(EntityEventType.ActivityWindowLeftActivity)), \"activity left - ActivityWindow\");\r\n                _this.invokeCallbacks(_this._activityChangeCallbacks, new EntityEvent(new Activity(activityId, undefined, new ActivityStatus(\"created\", undefined, undefined), undefined, undefined), new EntityEventContext(EntityEventType.Updated)), \"activity left - Activity\");\r\n            });\r\n        };\r\n        GW3Bridge.prototype.getActivityTypes = function () {\r\n            return Promise.resolve([]);\r\n        };\r\n        GW3Bridge.prototype.getWindowTypes = function () {\r\n            return Promise.resolve([]);\r\n        };\r\n        GW3Bridge.prototype.getActivities = function () {\r\n            return Promise.resolve([]);\r\n        };\r\n        GW3Bridge.prototype.getActivityWindows = function () {\r\n            return Promise.resolve([]);\r\n        };\r\n        GW3Bridge.prototype.createStackedWindows = function (id, windowDefinitions, timeout) {\r\n            return undefined;\r\n        };\r\n        GW3Bridge.prototype.getWindowBounds = function (id) {\r\n            return undefined;\r\n        };\r\n        GW3Bridge.prototype.setWindowBounds = function (id, bounds) {\r\n            return undefined;\r\n        };\r\n        GW3Bridge.prototype.activateWindow = function (id, focus) {\r\n            return undefined;\r\n        };\r\n        GW3Bridge.prototype.setWindowVisibility = function (id, visible) {\r\n            return undefined;\r\n        };\r\n        GW3Bridge.prototype.cloneActivity = function (id, cloneOptions) {\r\n            return undefined;\r\n        };\r\n        GW3Bridge.prototype.attachActivities = function (from, to, tag) {\r\n            return this._gw3Session.send({\r\n                type: gwNmessageMergeActivities,\r\n                into: to,\r\n                merge: from\r\n            });\r\n        };\r\n        GW3Bridge.prototype.detachActivities = function (activityId, newActivityInfo) {\r\n            return this._gw3Session.send({\r\n                type: gwMessageSplitActivities,\r\n                from: activityId,\r\n            }).then(function () { return \"\"; });\r\n        };\r\n        GW3Bridge.prototype.onActivitiesAttached = function (callback) {\r\n        };\r\n        GW3Bridge.prototype.onActivitiesDetached = function (callback) {\r\n        };\r\n        GW3Bridge.prototype.onActivityAttachedDescriptorsRefreshed = function (callback) {\r\n        };\r\n        GW3Bridge.prototype.getAttachedDescriptors = function () {\r\n            return Promise.resolve([]);\r\n        };\r\n        GW3Bridge.prototype.getRandomRequestId = function () {\r\n            return this._connection.peerId + \":\" + Math.floor(Math.random() * 1e9) + \"\";\r\n        };\r\n        GW3Bridge.prototype.forwardAddedAndRemovedMessagesToEventHandler = function (addedMessageType, removedMessageType, mapper, handlers) {\r\n            var getGetEntityEvent = function (isAdded) { return function (entity) { return new EntityEvent(entity, new EntityEventContext(isAdded ?\r\n                EntityEventType.Added :\r\n                EntityEventType.Removed)); }; };\r\n            var sub1;\r\n            var sub2;\r\n            sub1 = addedMessageType && this.forwardMessageToEventHandler(addedMessageType, function (msg) { return mapper(msg, true); }, getGetEntityEvent(true), handlers);\r\n            sub2 = removedMessageType && this.forwardMessageToEventHandler(removedMessageType, function (msg) { return mapper(msg, false); }, getGetEntityEvent(false), handlers);\r\n            return [sub1, sub2].filter(function (x) { return x; });\r\n        };\r\n        GW3Bridge.prototype.forwardMessageToEventHandler = function (messageType, mapper, getEntityEvent, handler) {\r\n            return this.subscribe(messageType, function (msg) {\r\n                mapper(msg)\r\n                    .forEach(function (ent) {\r\n                    return handler.forEach(function (h) { return h(getEntityEvent(ent, msg)); });\r\n                });\r\n            });\r\n        };\r\n        GW3Bridge.prototype.sendCreateAndMapResultingMessagesToPromise = function (msg, initiatedMessageType, initiatedMessageFilter, createdMessageType, createdMessageFilter, cancelledMessageType, cancelledMessageFilter, createdMessageToPromiseResolution) {\r\n            var _this = this;\r\n            var reqId = this.getRandomRequestId();\r\n            var resolveCreatedPromise;\r\n            var rejectCreatedPromise;\r\n            var createdPromise = new Promise(function (resolve, reject) {\r\n                resolveCreatedPromise = resolve;\r\n                rejectCreatedPromise = reject;\r\n            });\r\n            var initiatedMessageAck = null;\r\n            var initiatedSubscription;\r\n            var createdSubscription;\r\n            var cancelledSubscription;\r\n            var errorSubscription;\r\n            var dropSubscriptions = function () {\r\n                _this.dropSubscription(initiatedSubscription);\r\n                _this.dropSubscription(createdSubscription);\r\n                _this.dropSubscription(cancelledSubscription);\r\n                _this.dropSubscription(errorSubscription);\r\n            };\r\n            initiatedSubscription = initiatedMessageType &&\r\n                this.subscribe(initiatedMessageType, function (msg4) {\r\n                    if (!initiatedMessageFilter(msg4, reqId)) {\r\n                        return;\r\n                    }\r\n                    initiatedMessageAck = msg4;\r\n                    _this.dropSubscription(initiatedSubscription);\r\n                });\r\n            createdSubscription =\r\n                this.subscribe(createdMessageType, function (msg1) {\r\n                    if (!createdMessageFilter(msg1, reqId, initiatedMessageAck)) {\r\n                        return;\r\n                    }\r\n                    resolveCreatedPromise(createdMessageToPromiseResolution(msg1));\r\n                });\r\n            cancelledSubscription = cancelledMessageType &&\r\n                this.subscribe(cancelledMessageType, function (msg2) {\r\n                    if (!cancelledMessageFilter(msg2, reqId, initiatedMessageAck)) {\r\n                        return;\r\n                    }\r\n                    rejectCreatedPromise(msg2);\r\n                });\r\n            errorSubscription = cancelledMessageType &&\r\n                this.subscribe(gwMmessageError, function (msg3) {\r\n                    if (msg3.request_id !== reqId) {\r\n                        return;\r\n                    }\r\n                    rejectCreatedPromise(msg3);\r\n                });\r\n            msg.request_id = reqId;\r\n            var toReturn = this._gw3Session\r\n                .send(msg)\r\n                .then(function () {\r\n                return createdPromise;\r\n            });\r\n            toReturn.then(dropSubscriptions, dropSubscriptions);\r\n            return toReturn;\r\n        };\r\n        GW3Bridge.prototype.peerFactoryIdAndOwnerIdToWindowType = function (factoryId, ownerId) {\r\n            var peerType = this._peerIdAndFactoryIdToPeerType[ownerId + \":\" + factoryId];\r\n            if (!peerType) {\r\n                return null;\r\n            }\r\n            else {\r\n                return new WindowType(peerType, undefined);\r\n            }\r\n        };\r\n        GW3Bridge.prototype.subscribe = function (messageType, handler) {\r\n            var _this = this;\r\n            var sub = this._connection.on(messageType, function (msg) { return handler.bind(_this)(msg); });\r\n            this._gw3Subscriptions.push(sub);\r\n            return sub;\r\n        };\r\n        GW3Bridge.prototype.dropSubscription = function (subscription) {\r\n            if (subscription) {\r\n                this._connection.off(subscription);\r\n                delete this._gw3Subscriptions[this._gw3Subscriptions.indexOf(subscription)];\r\n            }\r\n        };\r\n        GW3Bridge.prototype.invokeCallbacks = function (callbacks, event, description) {\r\n            var _this = this;\r\n            callbacks.forEach(function (cb) {\r\n                try {\r\n                    cb(event);\r\n                }\r\n                catch (err) {\r\n                    _this._logger.error(\"Error in \" + (description || event.context.type) + \" callback: \" + JSON.stringify(err));\r\n                }\r\n            });\r\n        };\r\n        GW3Bridge.prototype.handleActivityCreatedMessage = function (msg) {\r\n            if (!msg.context_id) {\r\n                this._logger.error(\"Activity created with unknown context_id: \" + msg.activity_id);\r\n            }\r\n            else {\r\n                if (!this._contextSubscriptions[msg.activity_id]) {\r\n                    this.subscribeToContext(msg);\r\n                }\r\n            }\r\n        };\r\n        GW3Bridge.prototype.subscribeToContext = function (msg) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var activityId, _a, _b;\r\n                var _this = this;\r\n                return __generator(this, function (_c) {\r\n                    switch (_c.label) {\r\n                        case 0:\r\n                            activityId = msg.activity_id;\r\n                            _a = this._contextSubscriptions;\r\n                            _b = activityId;\r\n                            return [4, this._contexts.subscribe(activityId, function (data, updated, removed) {\r\n                                    var event = new EntityEvent(new Activity(activityId, undefined, undefined, data, undefined), new ActivityContextChangedEventContext(data, updated, removed));\r\n                                    _this.invokeCallbacks(_this._activityChangeCallbacks, event, \"context updated\");\r\n                                })];\r\n                        case 1:\r\n                            _a[_b] =\r\n                                _c.sent();\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GW3Bridge.prototype.handleActivityDestroyedMessage = function (msg) {\r\n            var unsubscribeContext = this._contextSubscriptions[msg.activity_id];\r\n            if (typeof unsubscribeContext === \"function\") {\r\n                unsubscribeContext();\r\n            }\r\n            delete this._contextSubscriptions[msg.activity_id];\r\n        };\r\n        GW3Bridge.prototype.handlePeerFactoriesAdded = function (msg) {\r\n            var _this = this;\r\n            msg.factories.forEach(function (entity) {\r\n                _this._peerIdAndFactoryIdToPeerType[msg.owner_id + \":\" + entity.id] = entity.peer_type;\r\n            });\r\n        };\r\n        GW3Bridge.prototype.handlePeerFactoriesRemoved = function (msg) {\r\n            var _this = this;\r\n            msg.factory_ids.forEach(function (factoryId) {\r\n                delete _this._peerIdAndFactoryIdToPeerType[msg.owner_id + \":\" + factoryId];\r\n            });\r\n        };\r\n        GW3Bridge.prototype.forwardActivityTypeMessagesToStatusEventHandlers = function () {\r\n            this.forwardAddedAndRemovedMessagesToEventHandler(gwMmessageActivityTypesAdded, gwMessageActivityTypesRemoved, function (msg, isAdded) { return isAdded\r\n                ? msg.types.map(function (t) { return GW3Bridge.activityTypeGwMessageEntityToActivityType(t, undefined); })\r\n                : msg.types.map(function (t) { return new ActivityType(t.name, undefined, undefined, undefined); }); }, this._activityTypeStatusChangeCallbacks);\r\n        };\r\n        GW3Bridge.prototype.forwardActivityCreatedAndJoinedActivityToActivityWindowEventHandlers = function () {\r\n            var _this = this;\r\n            for (var _i = 0, _a = [gwMessageActivityCreated, gwMessageJoinedActivity, gwMessageOwnerChanged]; _i < _a.length; _i++) {\r\n                var activityCreatedMessage = _a[_i];\r\n                this.forwardMessageToEventHandler(activityCreatedMessage, function (msg) {\r\n                    return ([msg.owner || __assign(__assign({}, msg), { type: msg.peer_type, name: msg.peer_name, peer_id: msg.owner_id })])\r\n                        .concat(msg.participants || [])\r\n                        .map(function (info) { return new ActivityWindow(info.peer_id, info.name, info.type, msg.activity_id, _this.getAgmInstance(info.peer_id), undefined, _this.generateWindowGetter(info.peer_id), undefined); });\r\n                }, function (ent, msg) { return new EntityEvent(ent, new EntityEventContext(EntityEventType.ActivityWindowJoinedActivity)); }, this._activityWindowChangeCallbacks);\r\n            }\r\n        };\r\n        GW3Bridge.prototype.forwardActivityMessagesToStatusEventHandlers = function () {\r\n            for (var _i = 0, _a = [gwMessageActivityCreated, gwMessageJoinedActivity]; _i < _a.length; _i++) {\r\n                var createdMessage = _a[_i];\r\n                this.forwardMessageToEventHandler(createdMessage, function (msg) { return [GW3Bridge.activityGwMessageToActivity(msg, new ActivityStatus(\"started\", \"\", new Date()))]; }, function (ent, msg) { return GW3Bridge.activityToActivityStatusChangeEvent(ent); }, this._activityChangeCallbacks);\r\n            }\r\n            this.forwardMessageToEventHandler(gwMessageActivityDestroyed, function (msg) { return [GW3Bridge.activityGwMessageToActivity(msg, new ActivityStatus(\"destroyed\", msg.reason, new Date()))]; }, function (ent, msg) { return GW3Bridge.activityToActivityStatusChangeEvent(ent); }, this._activityChangeCallbacks);\r\n            this.forwardMessageToEventHandler(gwMessageActivityInitiated, function (msg) { return [GW3Bridge.activityGwMessageToActivity(msg, new ActivityStatus(\"created\", \"\", new Date()))]; }, function (ent, msg) { return GW3Bridge.activityToActivityStatusChangeEvent(ent); }, this._activityChangeCallbacks);\r\n            this.forwardMessageToEventHandler(gwMessageOwnerChanged, function (msg) { return [GW3Bridge.activityGwMessageToActivity(msg, new ActivityStatus(\"created\", \"\", new Date()))]; }, function (ent, msg) { return GW3Bridge.activityToActivityStatusChangeEvent(ent); }, this._activityChangeCallbacks);\r\n        };\r\n        GW3Bridge.prototype.forwardPeerFactoryMessagesToStatusEventHandlers = function () {\r\n            var _this = this;\r\n            this.forwardAddedAndRemovedMessagesToEventHandler(gwMessagePeerFactoriesAdded, gwMessagePeerFactoriesRemoved, function (msg, isAdded) { return isAdded\r\n                ? msg.factories.map(GW3Bridge.peerFactoryGwMessageEntityToWindowType)\r\n                : msg.factory_ids.map(function (id) { return _this.peerFactoryIdAndOwnerIdToWindowType(id, msg.owner_id); }).filter(function (x) { return x != null; }); }, this._windowTypeStatusChangeCallbacks);\r\n        };\r\n        GW3Bridge.prototype.forwardPeerFactoryMessagesToPeerFactoryRequests = function () {\r\n            var _this = this;\r\n            this.subscribe(gwMessagePeerRequested, function (msg) {\r\n                var factory = _this._peerFactoriesRegisteredByUs[msg.peer_factory];\r\n                if (!factory) {\r\n                    _this._gw3Session.send({\r\n                        type: gwMmessageError,\r\n                        request_id: msg.request_id,\r\n                        reason: \"Unknown peer factory \" + msg.peer_factory\r\n                    });\r\n                    return;\r\n                }\r\n                try {\r\n                    var configuration = msg.configuration || {};\r\n                    configuration.gateway_token = configuration.gateway_token || msg.gateway_token;\r\n                    configuration.peer_factory = configuration.peer_factory || msg.peer_factory;\r\n                    var promise = factory({\r\n                        activityId: msg.activity && msg.activity.id,\r\n                        activityType: msg.activity && msg.activity.type,\r\n                        type: msg.configuration && msg.configuration.type,\r\n                        gwToken: configuration.gateway_token,\r\n                        configuration: configuration\r\n                    });\r\n                    if (promise && promise.then && promise.catch) {\r\n                        promise.catch(function (err) { return _this._gw3Session.send({\r\n                            type: gwMmessageError,\r\n                            request_id: msg.request_id,\r\n                            reason: err && (err.message || JSON.stringify(err))\r\n                        }); });\r\n                    }\r\n                }\r\n                catch (err) {\r\n                    _this._gw3Session.send({\r\n                        type: gwMmessageError,\r\n                        request_id: msg.request_id,\r\n                        reason: err && (err.message || JSON.stringify(err))\r\n                    });\r\n                }\r\n            });\r\n        };\r\n        GW3Bridge.prototype.forwardActivityWindowMessagesToEventHandlers = function () {\r\n            var _this = this;\r\n            var _loop_1 = function (joinedMessage) {\r\n                this_1.subscribe(joinedMessage, function (msg) {\r\n                    var joinedId = (joinedMessage === gwMessageActivityJoined) ? msg.joined_id : msg.peer_id;\r\n                    var joinedType = (joinedMessage === gwMessageActivityJoined) ? msg.joined_type : msg.peer_type;\r\n                    var joinedName = (joinedMessage === gwMessageActivityJoined) ? msg.joined_name : msg.peer_name;\r\n                    var entity = new ActivityWindow(joinedId, joinedName, joinedType, msg.activity_id, _this.getAgmInstance(joinedId), undefined, _this.generateWindowGetter(joinedId), undefined);\r\n                    if (!_this._contextSubscriptions[msg.activity_id]) {\r\n                        _this.subscribeToContext(msg).then(function () {\r\n                            if (joinedMessage === gwMessageJoinedActivity) {\r\n                                _this._activityJoinedPromiseResolve({});\r\n                            }\r\n                        });\r\n                    }\r\n                    else if (joinedMessage === gwMessageJoinedActivity) {\r\n                        _this._activityJoinedPromiseResolve({});\r\n                    }\r\n                    _this.invokeCallbacks(_this._activityWindowChangeCallbacks, new EntityEvent(entity, new EntityEventContext(EntityEventType.ActivityWindowJoinedActivity)), joinedMessage);\r\n                });\r\n            };\r\n            var this_1 = this;\r\n            for (var _i = 0, _a = [gwMessageActivityJoined, gwMessageJoinedActivity]; _i < _a.length; _i++) {\r\n                var joinedMessage = _a[_i];\r\n                _loop_1(joinedMessage);\r\n            }\r\n            this.subscribe(gwMessageActivityLeft, function (msg) {\r\n                var entity = new ActivityWindow(msg.left_id, undefined, undefined, null, _this.getAgmInstance(msg.left_id), undefined, _this.generateWindowGetter(msg.left_id), undefined);\r\n                _this.invokeCallbacks(_this._activityWindowChangeCallbacks, new EntityEvent(entity, new EntityEventContext(EntityEventType.ActivityWindowLeftActivity)), gwMessageActivityLeft);\r\n            });\r\n            this.forwardAddedAndRemovedMessagesToEventHandler(gwMessagePeerCreated, undefined, function (msg) { return [\r\n                new ActivityWindow(msg.created_id, undefined, undefined, undefined, undefined, undefined, _this.generateWindowGetter(msg.created_id), undefined)\r\n            ]; }, this._activityWindowChangeCallbacks);\r\n        };\r\n        GW3Bridge.prototype.getAgmInstance = function (id) {\r\n            return this._config.agm.servers().find(function (s) { return s.peerId === id || s.windowId === id; });\r\n        };\r\n        GW3Bridge.prototype.generateWindowGetter = function (peerId) {\r\n            var _this = this;\r\n            return function () {\r\n                var server = _this.getAgmInstance(peerId);\r\n                if (!server) {\r\n                    return;\r\n                }\r\n                var windowId = server.windowId;\r\n                return _this._config.windows.list().filter(function (w) { return w.id === windowId; })[0];\r\n            };\r\n        };\r\n        GW3Bridge.prototype.isOverrideTypeDefinition = function (value) {\r\n            if (typeof value === \"undefined\") {\r\n                return false;\r\n            }\r\n            if (value.owner) {\r\n                return true;\r\n            }\r\n            return false;\r\n        };\r\n        return GW3Bridge;\r\n    }());\n\n    var ActivityMy = (function () {\r\n        function ActivityMy(manager, windows) {\r\n            var _this = this;\r\n            this._myAttached = [];\r\n            this._myDetached = [];\r\n            this._myAttachedTo = [];\r\n            this._myDetachedFrom = [];\r\n            this._myActivityFrameColorChanged = [];\r\n            this._myActivityJoinedCallbacks = [];\r\n            this._myActivityRemovedCallbacks = [];\r\n            this._myContextUpdateCallbacks = [];\r\n            this._logger = Logger$1.Get(this);\r\n            this._m = manager;\r\n            manager.ready()\r\n                .then(function (am) {\r\n                am.subscribeActivityContextChanged(_this._subscribeMyContextChanged.bind(_this));\r\n                am.subscribeWindowEvents(_this._subscribeMyWindowEvent.bind(_this));\r\n                am.subscribeActivitiesAttached(_this._subscribeActivitiesAttached.bind(_this));\r\n                am.subscribeActivitiesDetached(_this._subscribeActivitiesDetached.bind(_this));\r\n                if (windows) {\r\n                    windows.onWindowFrameColorChanged(_this._subscribeWindowFrameColorChanged.bind(_this));\r\n                }\r\n            });\r\n        }\r\n        Object.defineProperty(ActivityMy.prototype, \"window\", {\r\n            get: function () {\r\n                if (isUndefinedOrNull(this._w)) {\r\n                    var announcedWindows = this._m.announcedWindows;\r\n                    if (announcedWindows.length > 0) {\r\n                        this._w = announcedWindows[0];\r\n                    }\r\n                }\r\n                return this._w;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityMy.prototype, \"activity\", {\r\n            get: function () {\r\n                var myWin = this.window;\r\n                if (isUndefinedOrNull(myWin)) {\r\n                    return undefined;\r\n                }\r\n                return myWin.activity;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ActivityMy.prototype.createWindow = function (windowType) {\r\n            return this._m.createWindow(this.activity, windowType);\r\n        };\r\n        ActivityMy.prototype.createStackedWindows = function (windowTypes, timeout) {\r\n            return this._m.createStackedWindows(this.activity, windowTypes, timeout);\r\n        };\r\n        Object.defineProperty(ActivityMy.prototype, \"context\", {\r\n            get: function () {\r\n                var activity = this.activity;\r\n                if (isUndefined(activity)) {\r\n                    return {};\r\n                }\r\n                return activity.context;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ActivityMy.prototype.updateContext = function (context, callback) {\r\n            var activity = this.activity;\r\n            if (isUndefined(activity)) {\r\n                return new Promise(function (resolve, reject) {\r\n                    reject(\"Not in activity\");\r\n                });\r\n            }\r\n            return activity.updateContext(context, callback);\r\n        };\r\n        ActivityMy.prototype.setContext = function (context, callback) {\r\n            var activity = this.activity;\r\n            if (isUndefined(activity)) {\r\n                return new Promise(function (resolve, reject) {\r\n                    reject(\"Not in activity\");\r\n                });\r\n            }\r\n            return activity.setContext(context, callback);\r\n        };\r\n        ActivityMy.prototype.onActivityJoined = function (callback) {\r\n            this._myActivityJoinedCallbacks.push(callback);\r\n            var myWin = this.window;\r\n            if (!isUndefinedOrNull(myWin) && !isUndefinedOrNull(myWin.activity)) {\r\n                callback(myWin.activity);\r\n            }\r\n        };\r\n        ActivityMy.prototype.onActivityLeft = function (callback) {\r\n            this._myActivityRemovedCallbacks.push(callback);\r\n        };\r\n        ActivityMy.prototype.onContextChanged = function (callback) {\r\n            this._myContextUpdateCallbacks.push(callback);\r\n            var myWin = this.window;\r\n            if (isUndefinedOrNull(myWin)) {\r\n                return;\r\n            }\r\n            var activity = myWin.activity;\r\n            if (isUndefinedOrNull(activity)) {\r\n                return;\r\n            }\r\n            callback(activity.context, activity.context, [], activity);\r\n        };\r\n        ActivityMy.prototype.clone = function (options, callback) {\r\n            var act = this.activity;\r\n            return this._m.clone(act, options, callback);\r\n        };\r\n        ActivityMy.prototype.attach = function (activity, tag) {\r\n            var activityId;\r\n            if (typeof activity === \"string\") {\r\n                activityId = activity;\r\n            }\r\n            else {\r\n                activityId = activity.id;\r\n            }\r\n            return this._m.attachActivities(activityId, this.activity.id, tag);\r\n        };\r\n        ActivityMy.prototype.onActivityAttached = function (callback) {\r\n            this._myAttached.push(callback);\r\n        };\r\n        ActivityMy.prototype.onActivityDetached = function (callback) {\r\n            this._myDetached.push(callback);\r\n        };\r\n        ActivityMy.prototype.onAttachedToActivity = function (callback) {\r\n            this._myAttachedTo.push(callback);\r\n        };\r\n        ActivityMy.prototype.onDetachedFromActivity = function (callback) {\r\n            this._myDetachedFrom.push(callback);\r\n        };\r\n        Object.defineProperty(ActivityMy.prototype, \"attached\", {\r\n            get: function () {\r\n                if (!this.activity) {\r\n                    return [];\r\n                }\r\n                return this.activity.attached;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ActivityMy.prototype.setFrameColor = function (color, callback) {\r\n            if (this.activity) {\r\n                return this.activity.setFrameColor(color, callback);\r\n            }\r\n            else {\r\n                return Promise.resolve(null);\r\n            }\r\n        };\r\n        ActivityMy.prototype.getFrameColor = function () {\r\n            if (this.activity) {\r\n                return this.activity.getFrameColor();\r\n            }\r\n            return \"\";\r\n        };\r\n        ActivityMy.prototype.onFrameColorChanged = function (callback) {\r\n            this._myActivityFrameColorChanged.push(callback);\r\n        };\r\n        ActivityMy.prototype._subscribeMyContextChanged = function (activity, context, delta, removed) {\r\n            var myWin = this.window;\r\n            if (isUndefinedOrNull(myWin)) {\r\n                return;\r\n            }\r\n            var myActivity = myWin.activity;\r\n            if (isUndefinedOrNull(myActivity)) {\r\n                return;\r\n            }\r\n            if (activity.id !== myActivity.id) {\r\n                return;\r\n            }\r\n            this._notifyMyContextChanged(activity, context, delta, removed);\r\n        };\r\n        ActivityMy.prototype._subscribeMyWindowEvent = function (activity, window, event) {\r\n            if (isUndefinedOrNull(this.window)) {\r\n                return;\r\n            }\r\n            if (this.window.id !== window.id) {\r\n                return;\r\n            }\r\n            if (event === EntityEventType.ActivityWindowJoinedActivity) {\r\n                this._notifyMyWindowEvent(activity, this._myActivityJoinedCallbacks);\r\n                this._notifyMyContextChanged(activity, activity.context, null, null);\r\n            }\r\n            else if (event === EntityEventType.ActivityWindowLeftActivity) {\r\n                this._notifyMyWindowEvent(activity, this._myActivityRemovedCallbacks);\r\n            }\r\n        };\r\n        ActivityMy.prototype._notifyMyWindowEvent = function (activity, callbackStore) {\r\n            var _this = this;\r\n            callbackStore.forEach(function (element) {\r\n                try {\r\n                    element(activity, event);\r\n                }\r\n                catch (e) {\r\n                    _this._logger.warn(\"error in user callback \" + e);\r\n                }\r\n            });\r\n        };\r\n        ActivityMy.prototype._notifyMyContextChanged = function (activity, context, delta, removed) {\r\n            var _this = this;\r\n            delta = delta || {};\r\n            removed = removed || [];\r\n            this._myContextUpdateCallbacks.forEach(function (element) {\r\n                try {\r\n                    element(context, delta, removed, activity);\r\n                }\r\n                catch (e) {\r\n                    _this._logger.warn(\"error in user callback \" + e);\r\n                }\r\n            });\r\n        };\r\n        ActivityMy.prototype._notifyAttached = function (state) {\r\n            var _this = this;\r\n            this._myAttached.forEach(function (cb) {\r\n                try {\r\n                    cb(state);\r\n                }\r\n                catch (e) {\r\n                    _this._logger.warn(\"error in user callback \" + e);\r\n                }\r\n            });\r\n        };\r\n        ActivityMy.prototype._notifyDetached = function (state) {\r\n            var _this = this;\r\n            this._myDetached.forEach(function (cb) {\r\n                try {\r\n                    cb(state);\r\n                }\r\n                catch (e) {\r\n                    _this._logger.warn(\"error in user callback \" + e);\r\n                }\r\n            });\r\n        };\r\n        ActivityMy.prototype._notifyAttachedTo = function (state) {\r\n            var _this = this;\r\n            this._myAttachedTo.forEach(function (cb) {\r\n                try {\r\n                    cb(_this.activity, state);\r\n                }\r\n                catch (e) {\r\n                    _this._logger.warn(\"error in user callback \" + e);\r\n                }\r\n            });\r\n        };\r\n        ActivityMy.prototype._notifyDetachedFrom = function (detached, existing, state) {\r\n            var _this = this;\r\n            this._myDetachedFrom.forEach(function (cb) {\r\n                try {\r\n                    cb(detached, existing, state);\r\n                }\r\n                catch (e) {\r\n                    _this._logger.warn(\"error in user callback \" + e);\r\n                }\r\n            });\r\n        };\r\n        ActivityMy.prototype._subscribeActivitiesAttached = function (newAct, state) {\r\n            var myWin = this.window;\r\n            if (isUndefinedOrNull(myWin)) {\r\n                return;\r\n            }\r\n            var myActivity = myWin.activity;\r\n            if (isUndefinedOrNull(myActivity)) {\r\n                return;\r\n            }\r\n            if (newAct.id !== myActivity.id) {\r\n                return;\r\n            }\r\n            if (state.windowIds.indexOf(myWin.id) >= 0) {\r\n                this._notifyAttachedTo(state);\r\n                return;\r\n            }\r\n            this._notifyAttached(state);\r\n        };\r\n        ActivityMy.prototype._subscribeActivitiesDetached = function (newAct, oldAct, state) {\r\n            var myWin = this.window;\r\n            if (isUndefinedOrNull(myWin)) {\r\n                return;\r\n            }\r\n            var myActivity = myWin.activity;\r\n            if (isUndefinedOrNull(myActivity)) {\r\n                return;\r\n            }\r\n            if (oldAct.id === myActivity.id) {\r\n                this._notifyDetached(state);\r\n            }\r\n            if (newAct.id === myActivity.id) {\r\n                this._notifyDetachedFrom(newAct, oldAct, state);\r\n            }\r\n        };\r\n        ActivityMy.prototype._subscribeWindowFrameColorChanged = function (window) {\r\n            var act = this.activity;\r\n            if (!act) {\r\n                return;\r\n            }\r\n            if (!act.owner) {\r\n                return;\r\n            }\r\n            if (act.owner.underlyingWindow.id === window.id) {\r\n                this._myActivityFrameColorChanged.forEach(function (callback) {\r\n                    callback(window.frameColor);\r\n                });\r\n            }\r\n        };\r\n        return ActivityMy;\r\n    }());\n\n    var ReadyMarker = (function () {\r\n        function ReadyMarker(name, signalsToWait) {\r\n            this._logger = Logger$1.Get(\"ReadyMarker [\" + name + \"]\");\r\n            this._logger.debug(\"Initializing ready marker for '\" + name + \"' with \" + signalsToWait + \" signals to wait\");\r\n            if (signalsToWait <= 0) {\r\n                throw new Error(\"Invalid signal number. Should be > 0\");\r\n            }\r\n            this._signals = signalsToWait;\r\n            this._callbacks = [];\r\n            this._name = name;\r\n        }\r\n        ReadyMarker.prototype.setCallback = function (callback) {\r\n            if (this.isSet()) {\r\n                callback(undefined);\r\n                return;\r\n            }\r\n            else if (this.isError()) {\r\n                callback(this._error);\r\n                return;\r\n            }\r\n            this._callbacks.push(callback);\r\n        };\r\n        ReadyMarker.prototype.signal = function (message) {\r\n            this._logger.debug(\"Signaled - \" + message + \" - signals left \" + (this._signals - 1));\r\n            this._signals--;\r\n            if (this._signals < 0) {\r\n                throw new Error(\"Error in ready marker '\" + this._name + \" - signals are \" + this._signals);\r\n            }\r\n            if (this.isSet()) {\r\n                this._callbacks.forEach(function (callback) {\r\n                    callback(undefined);\r\n                });\r\n            }\r\n        };\r\n        ReadyMarker.prototype.error = function (error) {\r\n            this._error = error;\r\n            this._callbacks.forEach(function (errorCallback) {\r\n                errorCallback(error);\r\n            });\r\n        };\r\n        ReadyMarker.prototype.isSet = function () {\r\n            if (this.isError()) {\r\n                return false;\r\n            }\r\n            return this._signals === 0;\r\n        };\r\n        ReadyMarker.prototype.isError = function () {\r\n            return !isUndefined(this._error);\r\n        };\r\n        ReadyMarker.prototype.getError = function () {\r\n            return this._error;\r\n        };\r\n        return ReadyMarker;\r\n    }());\n\n    var EntityObservableCollection = (function () {\r\n        function EntityObservableCollection(processNew) {\r\n            this._items = {};\r\n            this._listeners = [];\r\n            this._processNew = processNew;\r\n        }\r\n        EntityObservableCollection.prototype.addOne = function (item) {\r\n            this.add([item]);\r\n        };\r\n        EntityObservableCollection.prototype.add = function (items) {\r\n            var _this = this;\r\n            items.forEach(function (element) {\r\n                _this.process(new EntityEvent(element, new EntityEventContext(EntityEventType.Added)));\r\n            });\r\n        };\r\n        EntityObservableCollection.prototype.process = function (event) {\r\n            var context = event.context;\r\n            var type = context.type;\r\n            var entity = event.entity;\r\n            if (type === EntityEventType.StatusChange &&\r\n                !context.oldStatus) {\r\n                var act = this._items[entity.id];\r\n                if (act) {\r\n                    context.oldStatus = act.status;\r\n                }\r\n            }\r\n            if (type === EntityEventType.StatusChange &&\r\n                context.oldStatus &&\r\n                context.newStatus &&\r\n                context.oldStatus.state ===\r\n                    context.newStatus.state) {\r\n                context.type = EntityEventType.Updated;\r\n            }\r\n            if (typeof htmlContainer === \"undefined\") {\r\n                if (type === EntityEventType.ActivityWindowJoinedActivity &&\r\n                    this._items[entity.id] &&\r\n                    this._items[entity.id].activity) {\r\n                    context.type = EntityEventType.Updated;\r\n                }\r\n                if (type === EntityEventType.ActivityWindowLeftActivity &&\r\n                    this._items[entity.id] &&\r\n                    !this._items[entity.id].activity) {\r\n                    context.type = EntityEventType.Updated;\r\n                }\r\n            }\r\n            var internalEntity = this._updateInternalCollections(entity, type, context);\r\n            this._notifyListeners(internalEntity, context);\r\n            return internalEntity;\r\n        };\r\n        EntityObservableCollection.prototype.get = function () {\r\n            var result = [];\r\n            for (var key in this._items) {\r\n                if (this._items.hasOwnProperty(key)) {\r\n                    var element = this._items[key];\r\n                    result.push(element);\r\n                }\r\n            }\r\n            return result;\r\n        };\r\n        EntityObservableCollection.prototype.getByName = function (name) {\r\n            for (var key in this._items) {\r\n                if (key === name) {\r\n                    return this._items[key];\r\n                }\r\n            }\r\n            return undefined;\r\n        };\r\n        EntityObservableCollection.prototype.getOrWait = function (name) {\r\n            var _this = this;\r\n            return new Promise(function (resolve) {\r\n                var entityAddedHandler = function (entity) {\r\n                    if (entity.id !== name) {\r\n                        return;\r\n                    }\r\n                    resolve(entity);\r\n                    _this.unsubscribe(entityAddedHandler);\r\n                };\r\n                _this.subscribe(entityAddedHandler);\r\n                var window = _this.getByName(name);\r\n                if (window) {\r\n                    _this.unsubscribe(entityAddedHandler);\r\n                    resolve(window);\r\n                    return;\r\n                }\r\n            });\r\n        };\r\n        EntityObservableCollection.prototype.subscribe = function (handler) {\r\n            var _this = this;\r\n            this._listeners.push(handler);\r\n            Object.keys(this._items).forEach(function (key) {\r\n                var element = _this._items[key];\r\n                handler(element, new EntityEventContext(EntityEventType.Added.toString()));\r\n            });\r\n            return function () {\r\n                _this.unsubscribe(handler);\r\n            };\r\n        };\r\n        EntityObservableCollection.prototype.unsubscribe = function (handler) {\r\n            var index = this._listeners.indexOf(handler);\r\n            if (index !== -1) {\r\n                this._listeners.splice(index, 1);\r\n            }\r\n        };\r\n        EntityObservableCollection.prototype._notifyListeners = function (entity, context) {\r\n            this._listeners.forEach(function (listener) {\r\n                try {\r\n                    listener(entity, context);\r\n                }\r\n                catch (e) {\r\n                    return;\r\n                }\r\n            });\r\n        };\r\n        EntityObservableCollection.prototype._updateInternalCollections = function (entity, type, context) {\r\n            var entityAsAny = entity;\r\n            var isActivityDestroy = (type === EntityEventType.StatusChange &&\r\n                entityAsAny.status &&\r\n                entityAsAny.status.state === ActivityState.Destroyed) ||\r\n                (type === EntityEventType.StatusChange &&\r\n                    context &&\r\n                    context.newStatus &&\r\n                    context.newStatus.state === ActivityState.Destroyed);\r\n            var isWindowClose = type === EntityEventType.Closed;\r\n            var isTypeRemove = type === EntityEventType.Removed && typeof entityAsAny.isIndependent === \"undefined\";\r\n            if (isTypeRemove || isWindowClose || isActivityDestroy) {\r\n                var oldEntity = this._items[entity.id];\r\n                delete this._items[entity.id];\r\n                this._processNew(entity);\r\n                if (oldEntity) {\r\n                    entity._beforeDelete(oldEntity);\r\n                }\r\n                return entity;\r\n            }\r\n            else {\r\n                var key = entity.id;\r\n                if (!this._items.hasOwnProperty(key)) {\r\n                    this._processNew(entity);\r\n                    this._items[entity.id] = entity;\r\n                }\r\n                else {\r\n                    this._items[entity.id]._update(entity);\r\n                }\r\n            }\r\n            return this._items[entity.id];\r\n        };\r\n        return EntityObservableCollection;\r\n    }());\n\n    var ActivityManager = (function () {\r\n        function ActivityManager(bridge, autoAnnounce, windows) {\r\n            var _this = this;\r\n            this._logger = Logger$1.Get(\"activityManager\");\r\n            this._announcedWindows = [];\r\n            this._attachedCallbacks = [];\r\n            this._detachedCallbacks = [];\r\n            this._frameColorChangesCallbacks = [];\r\n            this._windowHandlers = [];\r\n            this._bridge = bridge;\r\n            this._activityTypes = new EntityObservableCollection(function (e) { return _this._grabEntity(e); });\r\n            this._windowTypes = new EntityObservableCollection(function (e) { return _this._grabEntity(e); });\r\n            this._activities = new EntityObservableCollection(function (e) { return _this._grabEntity(e); });\r\n            this._windows = new EntityObservableCollection(function (e) { return _this._grabEntity(e); });\r\n            this._dataReadyMarker = new ReadyMarker(\"Activity Manager Data\", [\"GetActivityTypes\", \"GetWindowTypes\", \"GetActivities\", \"GetWindows\"].length);\r\n            this._descriptorsMarker = new ReadyMarker(\"Attached Activities Descriptors\", [\"GetDescriptors\"].length);\r\n            if (autoAnnounce) {\r\n                this._readyMarker = new ReadyMarker(\"Activity Manager Announce\", [\"Announcement\"].length);\r\n                this._dataReadyMarker.setCallback(function (dataErr) {\r\n                    if (dataErr) {\r\n                        _this._readyMarker.error(dataErr);\r\n                    }\r\n                    _this._descriptorsMarker.setCallback(function (err) {\r\n                        if (err) {\r\n                            _this._readyMarker.error(err);\r\n                        }\r\n                        _this._logger.debug(\"Auto announcing window\");\r\n                        _this.announceWindow()\r\n                            .then(function (w) {\r\n                            _this._announcedWindows.push(w);\r\n                            _this._readyMarker.signal(\"Successfully announced window with id '\" + w.id + \"'\");\r\n                        })\r\n                            .catch(function (errCatch) {\r\n                            _this._logger.debug(\"Will not announce window - \" + errCatch);\r\n                            _this._readyMarker.signal();\r\n                        });\r\n                    });\r\n                    _this.refreshDescriptors();\r\n                });\r\n            }\r\n            else {\r\n                this._readyMarker = this._dataReadyMarker;\r\n            }\r\n            this._bridge.onActivitiesAttached(function (e) {\r\n                _this._handleActivitiesAttached(e);\r\n            });\r\n            this._bridge.onActivitiesDetached(function (e) {\r\n                _this._handleActivitiesDetached(e);\r\n            });\r\n            this._bridge.onActivityAttachedDescriptorsRefreshed(function (e) {\r\n                _this._handleActivityDescriptorsRefreshed(e);\r\n            });\r\n            if (windows) {\r\n                windows.onWindowFrameColorChanged(this._handleWindowFrameColorChanged.bind(this));\r\n            }\r\n            this._bridge.init();\r\n            this._subscribeForData();\r\n            this._bridge\r\n                .initReady()\r\n                .then(function (aw) {\r\n                _this._getInitialData();\r\n            })\r\n                .catch(function (error) {\r\n                console.log(error);\r\n            });\r\n        }\r\n        Object.defineProperty(ActivityManager.prototype, \"usingHc\", {\r\n            get: function () {\r\n                return this._bridge.bridgeType === \"HC\";\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityManager.prototype, \"announcedWindows\", {\r\n            get: function () {\r\n                return this._announcedWindows;\r\n            },\r\n            set: function (v) {\r\n                throw new Error(\"not allowed\");\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ActivityManager.prototype.ready = function (callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                _this._readyMarker.setCallback(function (err) {\r\n                    if (!err) {\r\n                        resolve(_this);\r\n                    }\r\n                    else {\r\n                        reject(_this._readyMarker.getError());\r\n                    }\r\n                });\r\n            });\r\n            return nodeify(Promise.all([this._bridge.ready(), promise]).then(function () { return _this; }), callback);\r\n        };\r\n        ActivityManager.prototype.getActivityTypes = function () {\r\n            return this._activityTypes.get();\r\n        };\r\n        ActivityManager.prototype.getActivityType = function (name) {\r\n            return this._activityTypes.getByName(name);\r\n        };\r\n        ActivityManager.prototype.registerActivityType = function (activityTypeName, ownerWindowType, helperWindowTypes, config, description, callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                if (isUndefinedOrNull(activityTypeName)) {\r\n                    reject(\"activityTypeName argument can not be undefined\");\r\n                    return;\r\n                }\r\n                if (!isString(activityTypeName)) {\r\n                    reject(\"activityTypeName should be string\");\r\n                    return;\r\n                }\r\n                var actType = _this.getActivityType(activityTypeName);\r\n                if (!isUndefinedOrNull(actType)) {\r\n                    reject(\"Activity type '\" + activityTypeName + \"' already exists\");\r\n                    return;\r\n                }\r\n                var ownerDefinition;\r\n                if (isUndefined(ownerWindowType)) {\r\n                    reject(\"Owner window type can not be undefined\");\r\n                    return;\r\n                }\r\n                if (isString(ownerWindowType)) {\r\n                    ownerDefinition = { type: ownerWindowType, name: \"\", isIndependent: false, arguments: {} };\r\n                }\r\n                else {\r\n                    ownerDefinition = ownerWindowType;\r\n                }\r\n                var helperDefinitions = [];\r\n                if (!isUndefined(helperWindowTypes) && isArray(helperWindowTypes)) {\r\n                    for (var index in helperWindowTypes) {\r\n                        var item = helperWindowTypes[index];\r\n                        if (isString(item)) {\r\n                            var definition = {\r\n                                type: item,\r\n                                name: \"\",\r\n                                isIndependent: false,\r\n                                arguments: {},\r\n                                relativeTo: \"\",\r\n                                relativeDirection: \"\",\r\n                                windowStyleAttributes: {}\r\n                            };\r\n                            helperDefinitions.push(definition);\r\n                        }\r\n                        else {\r\n                            helperDefinitions.push(item);\r\n                        }\r\n                    }\r\n                }\r\n                _this._bridge\r\n                    .registerActivityType(activityTypeName, ownerDefinition, helperDefinitions, config, description)\r\n                    .then(function (activityType) {\r\n                    _this._grabEntity(activityType);\r\n                    resolve(activityType);\r\n                })\r\n                    .catch(function (error) {\r\n                    reject(error);\r\n                });\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.unregisterActivityType = function (type, callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                var actType = _this.getActivityType(type);\r\n                if (isUndefined(actType)) {\r\n                    reject(\"Activity type '\" + type + \"' does not exists\");\r\n                    return;\r\n                }\r\n                _this._bridge.unregisterActivityType(type).then(function () { return resolve(actType); }, reject);\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.initiate = function (activityType, context, callback, configuration) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                var actType = _this.getActivityType(activityType);\r\n                if (isUndefined(actType)) {\r\n                    reject(\"Activity type '\" + activityType + \"' does not exists\");\r\n                    return;\r\n                }\r\n                _this._bridge\r\n                    .initiateActivity(activityType, context, configuration)\r\n                    .then(function (actId) {\r\n                    _this._activities\r\n                        .getOrWait(actId)\r\n                        .then(function (act) {\r\n                        resolve(act);\r\n                    })\r\n                        .catch(function (err) { return reject(err); });\r\n                })\r\n                    .catch(function (err) {\r\n                    reject(err);\r\n                });\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.subscribeActivityTypeEvents = function (handler) {\r\n            this._activityTypes.subscribe(function (at, context) {\r\n                handler(at, context.type);\r\n            });\r\n        };\r\n        ActivityManager.prototype.getWindowTypes = function () {\r\n            return this._windowTypes.get();\r\n        };\r\n        ActivityManager.prototype.getWindowType = function (name) {\r\n            return this._windowTypes.getByName(name);\r\n        };\r\n        ActivityManager.prototype.registerWindowFactory = function (windowType, factoryMethod, callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                if (isUndefinedOrNull(windowType)) {\r\n                    reject(\"no windowType specified\");\r\n                    return;\r\n                }\r\n                if (isObject(windowType)) {\r\n                    windowType = windowType.getName();\r\n                }\r\n                else if (!isString(windowType)) {\r\n                    reject(\"windowType should be string or object that has getName method\");\r\n                    return;\r\n                }\r\n                _this._bridge\r\n                    .registerWindowFactory(windowType, factoryMethod)\r\n                    .then(function (v) {\r\n                    resolve(v);\r\n                })\r\n                    .catch(function (err) {\r\n                    reject(err);\r\n                });\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.unregisterWindowFactory = function (windowType, callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                if (isUndefinedOrNull(windowType)) {\r\n                    reject(\"no windowType specified\");\r\n                    return;\r\n                }\r\n                if (!isString(windowType)) {\r\n                    reject(\"windowType should be a string\");\r\n                    return;\r\n                }\r\n                _this._bridge\r\n                    .unregisterWindowFactory(windowType)\r\n                    .then(function (v) {\r\n                    resolve(v);\r\n                })\r\n                    .catch(function (err) {\r\n                    reject(err);\r\n                });\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.getActivities = function (activityType) {\r\n            var act = this._activities.get();\r\n            act = act.filter(function (a) { return a._ownerId; });\r\n            if (!activityType) {\r\n                return act;\r\n            }\r\n            var types = activityType;\r\n            if (isString(activityType)) {\r\n                types = [activityType];\r\n            }\r\n            else if (activityType instanceof ActivityType) {\r\n                types = [activityType.name];\r\n            }\r\n            else if (activityType instanceof Array) ;\r\n            else {\r\n                throw new Error(\"Invalid input argument 'activityType' = \" + activityType);\r\n            }\r\n            return act.filter(function (at) {\r\n                var type = at.type;\r\n                return some(types, function (t) {\r\n                    return type.id === t.id;\r\n                });\r\n            });\r\n        };\r\n        ActivityManager.prototype.getActivityById = function (id) {\r\n            return this._activities.getByName(id);\r\n        };\r\n        ActivityManager.prototype.announceWindow = function (activityWindowId, windowType) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                var announcementInfo = _this._bridge.getAnnouncementInfo();\r\n                if (isUndefined(activityWindowId)) {\r\n                    activityWindowId = announcementInfo.activityWindowId;\r\n                }\r\n                if (isUndefined(windowType)) {\r\n                    windowType = announcementInfo.activityWindowType;\r\n                }\r\n                if (isUndefinedOrNull(windowType)) {\r\n                    throw new Error(\"Can not announce - unknown windowType\");\r\n                }\r\n                var activityId = announcementInfo && announcementInfo.activityId;\r\n                if (isUndefinedOrNull(activityWindowId)) {\r\n                    _this._logger.debug(\"Registering window with type:'\" + windowType + \"', name:'\" + announcementInfo.activityWindowName + \"', ind.:'\" + announcementInfo.activityWindowIndependent + \"'\");\r\n                    _this._bridge.registerWindow(windowType, announcementInfo.activityWindowName, announcementInfo.activityWindowIndependent)\r\n                        .then(_this._windows.getOrWait.bind(_this._windows))\r\n                        .then(function (w) {\r\n                        if (activityId) {\r\n                            return _this._activities.getOrWait(activityId).then(function (_) { return w; });\r\n                        }\r\n                        else {\r\n                            return w;\r\n                        }\r\n                    })\r\n                        .then(function (w) {\r\n                        resolve(w);\r\n                    })\r\n                        .catch(function (err) {\r\n                        _this._logger.error(err);\r\n                    });\r\n                }\r\n                else {\r\n                    _this._logger.debug(\"Announcing window with id '\" + activityWindowId + \"' and type '\" + windowType + \"'\");\r\n                    var currentWindow = _this._windows.getByName(activityWindowId);\r\n                    if (!isUndefinedOrNull(currentWindow)) {\r\n                        _this._logger.debug(\"Window with id '\" + activityWindowId + \"' already announced - reusing the window\");\r\n                        resolve(currentWindow);\r\n                        return;\r\n                    }\r\n                    var windowEventHandler_1 = function (a, w, e) {\r\n                        if (activityWindowId === w.id) {\r\n                            if (e === EntityEventType.ActivityWindowJoinedActivity) {\r\n                                var activity = w.activity;\r\n                                if (isUndefined(activity)) {\r\n                                    reject(\"UNDEFINED ACTIVITY\");\r\n                                }\r\n                                _this._logger.trace(\"Got joined event for id '\" + activityWindowId + \"'\");\r\n                                resolve(w);\r\n                                _this.unsubscribeWindowEvents(windowEventHandler_1);\r\n                            }\r\n                        }\r\n                    };\r\n                    _this.subscribeWindowEvents(windowEventHandler_1);\r\n                    _this._logger.trace(\"Waiting for joined event for id '\" + activityWindowId + \"'\");\r\n                    _this._bridge.announceWindow(windowType, activityWindowId);\r\n                }\r\n            });\r\n            return promise;\r\n        };\r\n        ActivityManager.prototype.subscribeWindowTypeEvents = function (handler) {\r\n            this._windowTypes.subscribe(function (wt, context) {\r\n                handler(wt, context.type);\r\n            });\r\n        };\r\n        ActivityManager.prototype.subscribeActivityEvents = function (handler) {\r\n            var _this = this;\r\n            return this._activities.subscribe(function (act, context) {\r\n                if (context.type === EntityEventType.StatusChange) {\r\n                    var p = context;\r\n                    handler(act, p.newStatus, p.oldStatus);\r\n                }\r\n                if (context.type === EntityEventType.Removed ||\r\n                    (context.type === EntityEventType.StatusChange &&\r\n                        context.newStatus.getState() === ActivityState.Destroyed)) {\r\n                    for (var _i = 0, _a = _this._windows.get(); _i < _a.length; _i++) {\r\n                        var window_1 = _a[_i];\r\n                        if (window_1.activity && window_1.activity.id === act.id) {\r\n                            _this._windows.process(new EntityEvent(window_1, new EntityEventContext(EntityEventType.ActivityWindowLeftActivity)));\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        };\r\n        ActivityManager.prototype.subscribeWindowEvents = function (handler) {\r\n            var wrappingHandler = function (window, context) {\r\n                var eventType = context.type;\r\n                if (eventType === EntityEventType.Added) {\r\n                    eventType = \"opened\";\r\n                }\r\n                handler(window.activity, window, eventType);\r\n            };\r\n            this._windowHandlers.push([handler, wrappingHandler]);\r\n            return this._windows.subscribe(wrappingHandler);\r\n        };\r\n        ActivityManager.prototype.unsubscribeWindowEvents = function (handler) {\r\n            var found = this._windowHandlers.find(function (pair) { return pair[0] === handler; });\r\n            if (found) {\r\n                this._windowHandlers.splice(this._windowHandlers.indexOf(found), 1);\r\n                this._windows.unsubscribe(found[1]);\r\n            }\r\n        };\r\n        ActivityManager.prototype.createWindow = function (activity, windowTypeOrConfiguration, callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                if (isUndefinedOrNull(windowTypeOrConfiguration)) {\r\n                    reject(\"windowType is undefined\");\r\n                }\r\n                var windowDefinition;\r\n                if (isString(windowTypeOrConfiguration)) {\r\n                    windowDefinition = { type: windowTypeOrConfiguration, name: \"\", isIndependent: false, arguments: {} };\r\n                }\r\n                else if (windowTypeOrConfiguration instanceof WindowType) {\r\n                    windowDefinition = {\r\n                        type: windowTypeOrConfiguration.type || windowTypeOrConfiguration.id,\r\n                        name: windowTypeOrConfiguration.name || windowTypeOrConfiguration.type || windowTypeOrConfiguration.id,\r\n                        isIndependent: false\r\n                    };\r\n                }\r\n                else {\r\n                    var invalidKeys_1 = [\"url\"];\r\n                    var filteredWindowTypeOrConfiguration_1 = {};\r\n                    Object.keys(windowTypeOrConfiguration).forEach(function (key) {\r\n                        if (invalidKeys_1.indexOf(key) === -1) {\r\n                            filteredWindowTypeOrConfiguration_1[key] = windowTypeOrConfiguration[key];\r\n                        }\r\n                    });\r\n                    windowDefinition = filteredWindowTypeOrConfiguration_1;\r\n                }\r\n                var relativeToWindow;\r\n                if (!isUndefinedOrNull(windowDefinition.relativeTo)) {\r\n                    relativeToWindow = windowDefinition.relativeTo;\r\n                    if (typeof relativeToWindow === \"string\") {\r\n                        var windows = _this.getWindows({ type: relativeToWindow });\r\n                        if (!isUndefinedOrNull(windows) && windows.length > 0) {\r\n                            windowDefinition.relativeTo = windows[0].id;\r\n                        }\r\n                    }\r\n                    else if (!isUndefinedOrNull(relativeToWindow.type)) {\r\n                        var windows = _this.getWindows({ type: relativeToWindow.type });\r\n                        if (!isUndefinedOrNull(windows) && windows.length > 0) {\r\n                            windowDefinition.relativeTo = windows[0].id;\r\n                        }\r\n                    }\r\n                    else if (!isUndefinedOrNull(relativeToWindow.windowId)) {\r\n                        windowDefinition.relativeTo = relativeToWindow.windowId;\r\n                    }\r\n                }\r\n                _this._bridge.createWindow(activity && activity.id, windowDefinition)\r\n                    .then(function (wid) {\r\n                    _this._logger.debug(\"Window created, waiting for window entity with id \" + wid);\r\n                    var handler = function (window, context) {\r\n                        if (window.id === wid && (!activity || window.activity)) {\r\n                            _this._logger.debug(\"Got entity window with id \" + wid);\r\n                            resolve(window);\r\n                            _this._windows.unsubscribe(handler);\r\n                        }\r\n                    };\r\n                    _this._windows.subscribe(handler);\r\n                })\r\n                    .catch(function (err) {\r\n                    reject(err);\r\n                });\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.createStackedWindows = function (activity, relativeWindowTypes, timeout, callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                if (isUndefinedOrNull(activity)) {\r\n                    reject(\"activity is undefined\");\r\n                }\r\n                if (isUndefinedOrNull(relativeWindowTypes)) {\r\n                    reject(\"relativeWindowTypes is undefined\");\r\n                }\r\n                if (!Array.isArray(relativeWindowTypes)) {\r\n                    reject(\"relativeWindowTypes has to be an array\");\r\n                }\r\n                if (isUndefinedOrNull(timeout)) {\r\n                    timeout = 20000;\r\n                }\r\n                var windowDefinitions = [];\r\n                relativeWindowTypes.forEach(function (element) {\r\n                    var windowDefinition;\r\n                    if (isString(element)) {\r\n                        windowDefinition = { type: element, name: \"\", isIndependent: false, arguments: {} };\r\n                    }\r\n                    else {\r\n                        windowDefinition = element;\r\n                    }\r\n                    windowDefinition.stackedWindow = true;\r\n                    windowDefinition.timeout = timeout;\r\n                    var relativeToWindow;\r\n                    if (!isUndefinedOrNull(windowDefinition.relativeTo)) {\r\n                        relativeToWindow = windowDefinition.relativeTo;\r\n                        if (!isUndefinedOrNull(relativeToWindow.type)) {\r\n                            windowDefinition.relativeTo = relativeToWindow.type;\r\n                        }\r\n                        else if (!isUndefinedOrNull(relativeToWindow.windowId)) {\r\n                            var windows = _this.getWindows({ id: relativeToWindow.windowId });\r\n                            if (!isUndefinedOrNull(windows) && windows.length > 0) {\r\n                                windowDefinition.relativeTo = windows[0].type.name;\r\n                            }\r\n                        }\r\n                    }\r\n                    windowDefinitions.push(windowDefinition);\r\n                });\r\n                var tasks = [];\r\n                windowDefinitions.forEach(function (wd) { return tasks.push(_this.createWindow(activity, wd)); });\r\n                Promise.all(tasks).then(resolve).catch(reject);\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.addWindowToActivity = function (activity, window, callback) {\r\n            var toReturn = this._bridge.joinActivity(activity.id, window.id)\r\n                .then(function () { return window; });\r\n            nodeify(toReturn, callback);\r\n            return toReturn;\r\n        };\r\n        ActivityManager.prototype.leaveWindowFromActivity = function (activity, window, callback) {\r\n            var toReturn = this._bridge.leaveActivity(activity.id, window.id)\r\n                .then(function () { return window; });\r\n            nodeify(toReturn, callback);\r\n            return toReturn;\r\n        };\r\n        ActivityManager.prototype.setActivityContext = function (activity, context, callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                if (isUndefinedOrNull(activity)) {\r\n                    reject(\"activity can not be null\");\r\n                }\r\n                _this._bridge\r\n                    .updateActivityContext(activity, context, true)\r\n                    .then(function (_) {\r\n                    resolve(activity);\r\n                })\r\n                    .catch(function (err) {\r\n                    reject(err);\r\n                });\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.updateActivityContext = function (activity, context, callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                if (isUndefinedOrNull(activity)) {\r\n                    reject(\"activity can not be null\");\r\n                }\r\n                var removedKeys = [];\r\n                for (var key in context) {\r\n                    if (context.hasOwnProperty(key) && context[key] === null) {\r\n                        removedKeys.push(key);\r\n                    }\r\n                }\r\n                for (var _i = 0, removedKeys_1 = removedKeys; _i < removedKeys_1.length; _i++) {\r\n                    var removedKey = removedKeys_1[_i];\r\n                    delete context[removedKey];\r\n                }\r\n                _this._bridge\r\n                    .updateActivityContext(activity, context, false, removedKeys)\r\n                    .then(function (_) {\r\n                    resolve(activity);\r\n                })\r\n                    .catch(function (err) {\r\n                    reject(err);\r\n                });\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.subscribeActivityContextChanged = function (handler) {\r\n            this._activities.subscribe(function (act, context) {\r\n                if (context.type === EntityEventType.ActivityContextChange) {\r\n                    var updateContext = context;\r\n                    handler(act, updateContext.context, updateContext.updated, updateContext.removed);\r\n                }\r\n            });\r\n        };\r\n        ActivityManager.prototype.stopActivity = function (activity, callback) {\r\n            var promise = this._bridge.stopActivity(activity);\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.getWindows = function (filter) {\r\n            if (isUndefined(filter)) {\r\n                return this._windows.get();\r\n            }\r\n            if (!isUndefined(filter.id)) {\r\n                return [this._windows.getByName(filter.id)];\r\n            }\r\n            var allWindows = this._windows.get();\r\n            return allWindows.filter(function (w) {\r\n                if (!isUndefined(filter.type) && w.type.id !== filter.type) {\r\n                    return false;\r\n                }\r\n                if (!isUndefined(filter.name) && w.name !== filter.name) {\r\n                    return false;\r\n                }\r\n                if (!isUndefined(filter.activityId)) {\r\n                    if (isUndefinedOrNull(w.activity)) {\r\n                        return false;\r\n                    }\r\n                    if (w.activity.id !== filter.activityId) {\r\n                        return false;\r\n                    }\r\n                }\r\n                return true;\r\n            });\r\n        };\r\n        ActivityManager.prototype.getWindowBounds = function (id) {\r\n            return this._bridge.getWindowBounds(id);\r\n        };\r\n        ActivityManager.prototype.setWindowBounds = function (id, bounds, callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                _this._bridge.setWindowBounds(id, bounds)\r\n                    .then(function () { return resolve(); })\r\n                    .catch(function (err) { return reject(err); });\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.closeWindow = function (id) {\r\n            return this._bridge.closeWindow(id);\r\n        };\r\n        ActivityManager.prototype.activateWindow = function (id, focus) {\r\n            return this._bridge.activateWindow(id, focus);\r\n        };\r\n        ActivityManager.prototype.setWindowVisibility = function (id, visible) {\r\n            return this._bridge.setWindowVisibility(id, visible);\r\n        };\r\n        ActivityManager.prototype.clone = function (activity, cloneOptions, callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                if (!activity) {\r\n                    reject(\"activity can not be null\");\r\n                }\r\n                _this._bridge.cloneActivity(activity.id, cloneOptions)\r\n                    .then(function (activityId) {\r\n                    _this._activities\r\n                        .getOrWait(activityId)\r\n                        .then(function (act) {\r\n                        resolve(act);\r\n                    })\r\n                        .catch(function (err) { return reject(err); });\r\n                })\r\n                    .catch(function (err) { return reject(err); });\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.attachActivities = function (from, to, tag, callback) {\r\n            var _this = this;\r\n            tag = tag || {};\r\n            var promise = new Promise(function (resolve, reject) {\r\n                var fromActivity = _this._activities.getByName(from);\r\n                if (!fromActivity) {\r\n                    reject(\"can not find activity with id \" + from);\r\n                    return;\r\n                }\r\n                var toActivity = _this._activities.getByName(to);\r\n                if (!toActivity) {\r\n                    reject(\"can not find activity with id \" + to);\r\n                    return;\r\n                }\r\n                return _this._bridge.attachActivities(from, to, tag)\r\n                    .then(function (data) {\r\n                    var newActId = data.to;\r\n                    var state = data.descriptor;\r\n                    var allStates = data.descriptors;\r\n                    _this._activities.getOrWait(newActId).then(function (act) {\r\n                        act._updateDescriptors(allStates);\r\n                        var stateWrapped = act.attached.filter(function (u) { return u.ownerId === state.ownerId; })[0];\r\n                        resolve(stateWrapped);\r\n                    });\r\n                })\r\n                    .catch(function (err) {\r\n                    reject(err);\r\n                });\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.detachActivities = function (activityId, descriptor, callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                return _this._bridge.detachActivities(activityId, descriptor)\r\n                    .then(function () {\r\n                    var oldActId = undefined;\r\n                    var newActId = undefined;\r\n                    var descriptors = undefined;\r\n                    _this._activities\r\n                        .getOrWait(oldActId)\r\n                        .then(function (oldAct) {\r\n                        oldAct._updateDescriptors(descriptors);\r\n                        _this._activities\r\n                            .getOrWait(newActId)\r\n                            .then(function (newAct) {\r\n                            resolve(newAct);\r\n                        });\r\n                    })\r\n                        .catch(function (err) { return reject(err); });\r\n                })\r\n                    .catch(function (err) {\r\n                    reject(err);\r\n                });\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.subscribeActivitiesAttached = function (callback) {\r\n            this._attachedCallbacks.push(callback);\r\n        };\r\n        ActivityManager.prototype.subscribeActivitiesDetached = function (callback) {\r\n            this._detachedCallbacks.push(callback);\r\n        };\r\n        ActivityManager.prototype.subscribeActivityFrameColorChanged = function (callback) {\r\n            this._frameColorChangesCallbacks.push(callback);\r\n        };\r\n        ActivityManager.prototype._grabEntity = function (entity) {\r\n            entity._manager = this;\r\n        };\r\n        ActivityManager.prototype._getInitialData = function () {\r\n            var _this = this;\r\n            this._logger.debug(\"Request initial data...\");\r\n            this._bridge.getActivityTypes()\r\n                .then(function (at) {\r\n                _this._activityTypes.add(at);\r\n                _this._dataReadyMarker.signal(\"Got act types\");\r\n            })\r\n                .catch(function (error) {\r\n                _this._logger.error(error);\r\n                _this._dataReadyMarker.error(\"Can not initialize ActivityManager - error getting activity types -\" + error);\r\n            });\r\n            this._bridge.getWindowTypes()\r\n                .then(function (wt) {\r\n                _this._windowTypes.add(wt);\r\n                _this._dataReadyMarker.signal(\"Got window types\");\r\n            })\r\n                .catch(function (error) {\r\n                _this._logger.error(error);\r\n                _this._dataReadyMarker.error(\"Can not initialize ActivityManager - error getting window types  \" + error);\r\n            });\r\n            this._bridge.getActivities()\r\n                .then(function (ac) {\r\n                _this._activities.add(ac);\r\n                _this._dataReadyMarker.signal(\"Got activities\");\r\n            })\r\n                .catch(function (error) {\r\n                _this._logger.error(error);\r\n                _this._dataReadyMarker.error(\"Can not initialize ActivityManager - error getting activity instances -\" + error);\r\n            });\r\n            this._bridge.getActivityWindows()\r\n                .then(function (aw) {\r\n                _this._windows.add(aw);\r\n                _this._dataReadyMarker.signal(\"Got windows\");\r\n            })\r\n                .catch(function (error) {\r\n                _this._logger.error(error);\r\n                _this._dataReadyMarker.error(\"Can not initialize ActivityManager - error getting activity windows -\" + error);\r\n            });\r\n        };\r\n        ActivityManager.prototype._subscribeForData = function () {\r\n            var _this = this;\r\n            this._logger.debug(\"Subscribe for data...\");\r\n            this._bridge.onActivityTypeStatusChange(function (event) {\r\n                _this._activityTypes.process(event);\r\n            });\r\n            this._bridge.onWindowTypeStatusChange(function (event) {\r\n                _this._windowTypes.process(event);\r\n            });\r\n            this._bridge.onActivityWindowChange(function (event) {\r\n                _this._windows.process(event);\r\n            });\r\n            this._bridge.onActivityStatusChange(function (event) {\r\n                _this._activities.process(event);\r\n            });\r\n        };\r\n        ActivityManager.prototype._handleActivitiesAttached = function (data) {\r\n            var _this = this;\r\n            var newActId = data.to;\r\n            var descriptor = data.descriptor;\r\n            var descriptors = data.descriptors;\r\n            this._activities.getOrWait(newActId).then(function (act) {\r\n                act._updateDescriptors(descriptors);\r\n                var descriptorAsObjectFromAPI = act.attached.filter(function (u) { return u.ownerId === descriptor.ownerId; })[0];\r\n                _this._attachedCallbacks.forEach(function (callback) {\r\n                    try {\r\n                        callback(act, descriptorAsObjectFromAPI);\r\n                    }\r\n                    catch (err) {\r\n                        return;\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ActivityManager.prototype._handleActivitiesDetached = function (data) {\r\n            var _this = this;\r\n            var oldActId = data.oldActivityId;\r\n            var newActId = data.newActivityId;\r\n            var descriptors = data.descriptors;\r\n            var descriptor = data.descriptor;\r\n            this._activities.getOrWait(oldActId).then(function (oldAct) {\r\n                oldAct._updateDescriptors(descriptors);\r\n                _this._activities.getOrWait(newActId).then(function (newAct) {\r\n                    _this._detachedCallbacks.forEach(function (callback) {\r\n                        try {\r\n                            callback(newAct, oldAct, descriptor);\r\n                        }\r\n                        catch (err) {\r\n                            return;\r\n                        }\r\n                    });\r\n                });\r\n            });\r\n        };\r\n        ActivityManager.prototype._handleActivityDescriptorsRefreshed = function (data) {\r\n            var id = data.id;\r\n            var descriptors = data.descriptors;\r\n            var act = this._activities.getByName(id);\r\n            if (act) {\r\n                act._updateDescriptors(descriptors);\r\n            }\r\n        };\r\n        ActivityManager.prototype.refreshDescriptors = function () {\r\n            var _this = this;\r\n            this._bridge.getAttachedDescriptors()\r\n                .then(function (map) {\r\n                if (map) {\r\n                    Object.keys(map).forEach(function (key) {\r\n                        var actId = key;\r\n                        var descriptors = map[key];\r\n                        var act = _this._activities.getByName(actId);\r\n                        if (act) {\r\n                            act._updateDescriptors(descriptors);\r\n                        }\r\n                    });\r\n                }\r\n                _this._descriptorsMarker.signal(\"Successfully got descriptors\");\r\n            })\r\n                .catch(function (err) {\r\n                _this._descriptorsMarker.error(\"failed to get descriptors - \" + err);\r\n            });\r\n        };\r\n        ActivityManager.prototype._handleWindowFrameColorChanged = function (win) {\r\n            if (!win.activityId) {\r\n                return;\r\n            }\r\n            var act = this._activities.getByName(win.activityId);\r\n            if (!act) {\r\n                return;\r\n            }\r\n            if (!act.owner) {\r\n                return;\r\n            }\r\n            if (act.owner.underlyingWindow.id !== win.id) {\r\n                return;\r\n            }\r\n            this._frameColorChangesCallbacks.forEach(function (callback) {\r\n                try {\r\n                    callback(act, win.frameColor);\r\n                }\r\n                catch (e) {\r\n                    return;\r\n                }\r\n            });\r\n        };\r\n        return ActivityManager;\r\n    }());\n\n    var ActivityManagementAPI = (function () {\r\n        function ActivityManagementAPI(manager, my) {\r\n            this._m = manager;\r\n            this._my = my;\r\n            this.activityTypes = {\r\n                get: this._getActivityTypesWrapper.bind(this),\r\n                register: this._m.registerActivityType.bind(this._m),\r\n                unregister: this._m.unregisterActivityType.bind(this._m),\r\n                subscribe: this._m.subscribeActivityTypeEvents.bind(this._m),\r\n                unsubscribe: undefined,\r\n                initiate: this._m.initiate.bind(this._m)\r\n            };\r\n            this.windowTypes = {\r\n                get: this._getWindowTypesWrapper.bind(this),\r\n                registerFactory: this._m.registerWindowFactory.bind(this._m),\r\n                unregisterFactory: this._m.unregisterWindowFactory.bind(this._m),\r\n                subscribe: this._m.subscribeWindowTypeEvents.bind(this._m),\r\n                unsubscribe: undefined\r\n            };\r\n            this.windows = {\r\n                get: this._m.getWindows.bind(this._m),\r\n                subscribe: this._m.subscribeWindowEvents.bind(this._m),\r\n                announce: this._m.announceWindow.bind(this._m),\r\n                unsubscribe: undefined,\r\n                create: this._m.createWindow.bind(this._m)\r\n            };\r\n            this.instances = {\r\n                get: this._m.getActivities.bind(this._m),\r\n                subscribe: this._m.subscribeActivityEvents.bind(this._m),\r\n                unsubscribe: undefined\r\n            };\r\n        }\r\n        ActivityManagementAPI.prototype.onAttached = function (callback) {\r\n            this._m.subscribeActivitiesAttached(callback);\r\n        };\r\n        ActivityManagementAPI.prototype.onDetached = function (callback) {\r\n            this._m.subscribeActivitiesDetached(callback);\r\n        };\r\n        ActivityManagementAPI.prototype.onActivityFrameColorChanged = function (callback) {\r\n            this._m.subscribeActivityFrameColorChanged(callback);\r\n        };\r\n        ActivityManagementAPI.prototype._getActivityTypesWrapper = function (name) {\r\n            if (isUndefined(name)) {\r\n                return this._m.getActivityTypes();\r\n            }\r\n            return this._m.getActivityType(name);\r\n        };\r\n        ActivityManagementAPI.prototype._getWindowTypesWrapper = function (name) {\r\n            if (isUndefined(name)) {\r\n                return this._m.getWindowTypes();\r\n            }\r\n            return this._m.getWindowType(name);\r\n        };\r\n        return ActivityManagementAPI;\r\n    }());\n\n    var ActivityAPI = (function () {\r\n        function ActivityAPI(manager, my) {\r\n            this._mgr = manager;\r\n            this._my = my;\r\n            this.all = new ActivityManagementAPI(manager, my);\r\n        }\r\n        ActivityAPI.prototype.ready = function (callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                _this._mgr.ready()\r\n                    .then(function () {\r\n                    resolve(_this);\r\n                })\r\n                    .catch(function (err) {\r\n                    reject(err);\r\n                });\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        Object.defineProperty(ActivityAPI.prototype, \"my\", {\r\n            get: function () {\r\n                return this._my;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityAPI.prototype, \"aware\", {\r\n            get: function () {\r\n                return this._my.window !== undefined;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityAPI.prototype, \"inActivity\", {\r\n            get: function () {\r\n                return this.aware && this._my.activity !== undefined;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityAPI.prototype, \"agm\", {\r\n            get: function () {\r\n                if (!this.aware) {\r\n                    return undefined;\r\n                }\r\n                if (!this.inActivity) {\r\n                    return new ActivityAGM(null);\r\n                }\r\n                return this._my.activity.agm;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ActivityAPI.prototype.getAvailableFrameColors = function () {\r\n            return [];\r\n        };\r\n        return ActivityAPI;\r\n    }());\n\n    var ActivityModule = (function () {\r\n        function ActivityModule(config) {\r\n            var _this = this;\r\n            if (!config) {\r\n                throw new Error(\"config can not be null\");\r\n            }\r\n            if (!isUndefined(config.logLevel)) {\r\n                Logger$1.Level = config.logLevel;\r\n            }\r\n            if (!isUndefinedOrNull(config.logger)) {\r\n                Logger$1.GlueLogger = config.logger;\r\n            }\r\n            var bridge;\r\n            this._isUsingHCImplementation = config.gdMajorVersion === 2;\r\n            this._isUsingGW3Implementation = ActivityModule.checkIsUsingGW3Implementation(config.connection);\r\n            if (this._isUsingHCImplementation) {\r\n                throw new Error(\"GD2 not supported\");\r\n            }\r\n            else if (this._isUsingGW3Implementation) {\r\n                bridge = new GW3Bridge$1(config);\r\n            }\r\n            else {\r\n                throw new Error(\"Unable to instantiate activity bridge implementation\");\r\n            }\r\n            if (!bridge) {\r\n                throw new Error(\"A bridge to native activity is needed to create activity lib.\");\r\n            }\r\n            ActivityAGM.AGM = config.agm;\r\n            var activityManager = new ActivityManager(bridge, !config.disableAutoAnnounce, config.windows);\r\n            var my = new ActivityMy(activityManager, config.windows);\r\n            this._api = new ActivityAPI(activityManager, my);\r\n            this._readyPromise = activityManager.ready().then(function (_) { return _this; });\r\n        }\r\n        ActivityModule.checkIsUsingGW3Implementation = function (connection) {\r\n            return connection.protocolVersion === 3;\r\n        };\r\n        Object.defineProperty(ActivityModule.prototype, \"api\", {\r\n            get: function () {\r\n                return this._api;\r\n            },\r\n            set: function (value) {\r\n                this._api = value;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityModule.prototype, \"isUsingHCImplementation\", {\r\n            get: function () {\r\n                return this._isUsingHCImplementation;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityModule.prototype, \"isUsingGW3Implementation\", {\r\n            get: function () {\r\n                return this._isUsingGW3Implementation;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ActivityModule.prototype.ready = function (callback) {\r\n            return nodeify(this._readyPromise, callback);\r\n        };\r\n        return ActivityModule;\r\n    }());\n\n    var ShutdownMethodName = \"T42.ACS.Shutdown\";\r\n    var RestartMethodName = \"T42.ACS.Restart\";\r\n    var GetConfigurationRegionMethodName = \"T42.ACS.GetConfigurationRegion\";\r\n    var SetConfigurationRegionMethodName = \"T42.ACS.SetConfigurationRegion\";\r\n    var GetUserMethodName = \"T42.ACS.GetUser\";\r\n    var GetBranchesMethodName = \"T42.ACS.GetBranches\";\r\n    var GetCurrentBranchMethodName = \"T42.ACS.GetCurrentBranch\";\r\n    var SetCurrentBranchMethodName = \"T42.ACS.SetCurrentBranch\";\r\n    var GetFunctionalEntitlementMethodName = \"T42.ACS.GetFunctionalEntitlement\";\r\n    var CanIMethodName = \"T42.ACS.CanI\";\r\n    var StartApplicationMethodName = \"T42.ACS.StartApplication\";\r\n    var StopApplicationMethodName = \"T42.ACS.StopApplication\";\r\n    var ActivateApplicationMethodName = \"T42.ACS.ActivateApplication\";\r\n    var OnEventMethodName = \"T42.ACS.OnEvent\";\r\n    var GetApplicationsMethodName = \"T42.ACS.GetApplications\";\n\n    function createRegistry$1(options) {\r\n        if (options && options.errorHandling\r\n            && typeof options.errorHandling !== \"function\"\r\n            && options.errorHandling !== \"log\"\r\n            && options.errorHandling !== \"silent\"\r\n            && options.errorHandling !== \"throw\") {\r\n            throw new Error(\"Invalid options passed to createRegistry. Prop errorHandling should be [\\\"log\\\" | \\\"silent\\\" | \\\"throw\\\" | (err) => void], but \" + typeof options.errorHandling + \" was passed\");\r\n        }\r\n        var _userErrorHandler = options && typeof options.errorHandling === \"function\" && options.errorHandling;\r\n        var callbacks = {};\r\n        function add(key, callback, replayArgumentsArr) {\r\n            var callbacksForKey = callbacks[key];\r\n            if (!callbacksForKey) {\r\n                callbacksForKey = [];\r\n                callbacks[key] = callbacksForKey;\r\n            }\r\n            callbacksForKey.push(callback);\r\n            if (replayArgumentsArr) {\r\n                setTimeout(function () {\r\n                    replayArgumentsArr.forEach(function (replayArgument) {\r\n                        var _a;\r\n                        if ((_a = callbacks[key]) === null || _a === void 0 ? void 0 : _a.includes(callback)) {\r\n                            try {\r\n                                if (Array.isArray(replayArgument)) {\r\n                                    callback.apply(undefined, replayArgument);\r\n                                }\r\n                                else {\r\n                                    callback.apply(undefined, [replayArgument]);\r\n                                }\r\n                            }\r\n                            catch (err) {\r\n                                _handleError(err, key);\r\n                            }\r\n                        }\r\n                    });\r\n                }, 0);\r\n            }\r\n            return function () {\r\n                var allForKey = callbacks[key];\r\n                if (!allForKey) {\r\n                    return;\r\n                }\r\n                allForKey = allForKey.reduce(function (acc, element, index) {\r\n                    if (!(element === callback && acc.length === index)) {\r\n                        acc.push(element);\r\n                    }\r\n                    return acc;\r\n                }, []);\r\n                if (allForKey.length === 0) {\r\n                    delete callbacks[key];\r\n                }\r\n                else {\r\n                    callbacks[key] = allForKey;\r\n                }\r\n            };\r\n        }\r\n        function execute(key) {\r\n            var argumentsArr = [];\r\n            for (var _i = 1; _i < arguments.length; _i++) {\r\n                argumentsArr[_i - 1] = arguments[_i];\r\n            }\r\n            var callbacksForKey = callbacks[key];\r\n            if (!callbacksForKey || callbacksForKey.length === 0) {\r\n                return [];\r\n            }\r\n            var results = [];\r\n            callbacksForKey.forEach(function (callback) {\r\n                try {\r\n                    var result = callback.apply(undefined, argumentsArr);\r\n                    results.push(result);\r\n                }\r\n                catch (err) {\r\n                    results.push(undefined);\r\n                    _handleError(err, key);\r\n                }\r\n            });\r\n            return results;\r\n        }\r\n        function _handleError(exceptionArtifact, key) {\r\n            var errParam = exceptionArtifact instanceof Error ? exceptionArtifact : new Error(exceptionArtifact);\r\n            if (_userErrorHandler) {\r\n                _userErrorHandler(errParam);\r\n                return;\r\n            }\r\n            var msg = \"[ERROR] callback-registry: User callback for key \\\"\" + key + \"\\\" failed: \" + errParam.stack;\r\n            if (options) {\r\n                switch (options.errorHandling) {\r\n                    case \"log\":\r\n                        return console.error(msg);\r\n                    case \"silent\":\r\n                        return;\r\n                    case \"throw\":\r\n                        throw new Error(msg);\r\n                }\r\n            }\r\n            console.error(msg);\r\n        }\r\n        function clear() {\r\n            callbacks = {};\r\n        }\r\n        function clearKey(key) {\r\n            var callbacksForKey = callbacks[key];\r\n            if (!callbacksForKey) {\r\n                return;\r\n            }\r\n            delete callbacks[key];\r\n        }\r\n        return {\r\n            add: add,\r\n            execute: execute,\r\n            clear: clear,\r\n            clearKey: clearKey\r\n        };\r\n    }\r\n    createRegistry$1.default = createRegistry$1;\r\n    var lib$2 = createRegistry$1;\n\n    function objectValues(source) {\r\n        if (!source) {\r\n            return [];\r\n        }\r\n        return Object.keys(source).map(function (key) { return source[key]; });\r\n    }\r\n    function objectClone(obj) {\r\n        var result;\r\n        try {\r\n            result = JSON.parse(JSON.stringify(obj || {}));\r\n        }\r\n        catch (error) {\r\n            result = {};\r\n        }\r\n        return result;\r\n    }\n\n    var ApplicationImpl = (function () {\r\n        function ApplicationImpl(_appManager, _name, _agm) {\r\n            var _this = this;\r\n            this._appManager = _appManager;\r\n            this._name = _name;\r\n            this._agm = _agm;\r\n            this._registry = lib$2();\r\n            _appManager.onInstanceStarted(function (instance) {\r\n                if (instance.application && instance.application.name !== _this._name) {\r\n                    return;\r\n                }\r\n                _this._registry.execute(\"instanceStarted\", instance);\r\n            });\r\n            _appManager.onInstanceStopped(function (instance) {\r\n                if (instance.application && instance.application.name !== _this._name) {\r\n                    return;\r\n                }\r\n                _this._registry.execute(\"instanceStopped\", instance);\r\n            });\r\n            _appManager.onAppRemoved(function (app) {\r\n                if (app.name !== _this._name) {\r\n                    return;\r\n                }\r\n                _this._registry.execute(\"appRemoved\", app);\r\n            });\r\n            _appManager.onAppChanged(function (app) {\r\n                if (app.name !== _this._name) {\r\n                    return;\r\n                }\r\n                _this._registry.execute(\"appChanged\", app);\r\n            });\r\n            _appManager.onAppAvailable(function (app) {\r\n                if (app.name !== _this._name) {\r\n                    return;\r\n                }\r\n                _this._registry.execute(\"appAvailable\", app);\r\n            });\r\n            _appManager.onAppUnavailable(function (app) {\r\n                if (app.name !== _this._name) {\r\n                    return;\r\n                }\r\n                _this._registry.execute(\"appUnavailable\", app);\r\n            });\r\n        }\r\n        Object.defineProperty(ApplicationImpl.prototype, \"name\", {\r\n            get: function () { return this._name; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"title\", {\r\n            get: function () { return this._props.Title; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"version\", {\r\n            get: function () { return this._props.Version; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"autoStart\", {\r\n            get: function () { return this._props.AutoStart; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"isShell\", {\r\n            get: function () { return this._props.IsShell; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"caption\", {\r\n            get: function () { return this._props.Caption; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"hidden\", {\r\n            get: function () { return this._props.IsHidden; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"container\", {\r\n            get: function () { return this._props.ApplicationName; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"activityType\", {\r\n            get: function () { return this._props.ActivityType; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"activityWindowType\", {\r\n            get: function () { return this._props.ActivityWindowType; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"windowSettings\", {\r\n            get: function () {\r\n                if (!this._props.Arguments) {\r\n                    return {};\r\n                }\r\n                return objectClone(this._props.Arguments);\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"allowMultiple\", {\r\n            get: function () { return this._props.AllowMultiple; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"available\", {\r\n            get: function () { return this._props.IsReady || true; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"icon\", {\r\n            get: function () { return this._props.Icon; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"iconURL\", {\r\n            get: function () { return this._props.IconUrl; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"sortOrder\", {\r\n            get: function () { return this._props.SortOrder; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"userProperties\", {\r\n            get: function () {\r\n                if (!this._props.UserProperties) {\r\n                    return {};\r\n                }\r\n                return objectClone(this._props.UserProperties);\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"isActivity\", {\r\n            get: function () {\r\n                return this._props.ActivityType !== undefined && this._props.ActivityType !== \"\";\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"configuration\", {\r\n            get: function () {\r\n                return {\r\n                    autoStart: this._props.AutoStart,\r\n                    caption: this._props.Caption,\r\n                    hidden: this._props.IsHidden,\r\n                    container: this._props.ApplicationName,\r\n                    activityType: this._props.ActivityType,\r\n                    allowMultiple: this._props.AllowMultiple\r\n                };\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"instances\", {\r\n            get: function () {\r\n                var _this = this;\r\n                return this._appManager.instances().filter(function (instance) { return instance.application.name === _this._name; });\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"type\", {\r\n            get: function () {\r\n                return this._props.Type;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"mode\", {\r\n            get: function () {\r\n                if (!this._props) {\r\n                    return \"unknown\";\r\n                }\r\n                if (this._props.Mode && typeof this._props.Mode === \"string\") {\r\n                    return this._props.Mode.toLowerCase();\r\n                }\r\n                if (this.isActivity) {\r\n                    return \"unknown\";\r\n                }\r\n                if (this._props.Arguments && this._props.Arguments.mode && typeof this._props.Arguments.mode === \"string\") {\r\n                    return this._props.Arguments.mode.toLowerCase();\r\n                }\r\n                var styleAttributes = this._props.WindowStyleAttributes;\r\n                if (styleAttributes) {\r\n                    styleAttributes = styleAttributes.split(\" \").join(\"\");\r\n                    var searchFor = \"mode:\\\"\";\r\n                    var modeIndex = styleAttributes.indexOf(searchFor);\r\n                    if (modeIndex !== -1) {\r\n                        var startModeIndex = modeIndex + searchFor.length;\r\n                        var stopModeIndex = styleAttributes.indexOf(\"\\\"\", startModeIndex);\r\n                        var style = styleAttributes.substr(startModeIndex, stopModeIndex - startModeIndex);\r\n                        if (style && typeof style === \"string\") {\r\n                            return style.toLowerCase();\r\n                        }\r\n                    }\r\n                }\r\n                return \"flat\";\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ApplicationImpl.prototype.updateFromProps = function (props) {\r\n            var _this = this;\r\n            if (!this._props) {\r\n                this._props = { Name: props.Name };\r\n            }\r\n            Object.keys(props).forEach(function (key) {\r\n                _this._props[key] = props[key];\r\n            });\r\n        };\r\n        ApplicationImpl.prototype.start = function (context, options) {\r\n            var _this = this;\r\n            var name = this._name;\r\n            var startTimeout = 10000;\r\n            return new Promise(function (resolve, reject) {\r\n                options = options || {};\r\n                context = context || {};\r\n                var waitForAGMInstance = true;\r\n                var waitForApplicationInstance = function (id) {\r\n                    var check = function () {\r\n                        var filtered = _this._appManager.instances().filter(function (i) { return i.id === id; });\r\n                        var result;\r\n                        if (filtered.length === 2) {\r\n                            result = filtered[0].isActivityInstance ? filtered[0] : filtered[1];\r\n                        }\r\n                        else {\r\n                            result = filtered[0];\r\n                        }\r\n                        if (result && waitForAGMInstance) {\r\n                            if (result.agm) {\r\n                                return result;\r\n                            }\r\n                            else {\r\n                                return undefined;\r\n                            }\r\n                        }\r\n                        return result;\r\n                    };\r\n                    var unsub;\r\n                    var timeout = setTimeout(function () {\r\n                        if (unsub) {\r\n                            unsub();\r\n                        }\r\n                        reject(\"timeout\");\r\n                    }, startTimeout);\r\n                    var waitFunc = function (i) {\r\n                        if (i.id !== id) {\r\n                            return;\r\n                        }\r\n                        if (unsub) {\r\n                            unsub();\r\n                            unsub = undefined;\r\n                        }\r\n                        clearTimeout(timeout);\r\n                        setTimeout(function () {\r\n                            resolve(check());\r\n                        }, 1);\r\n                    };\r\n                    {\r\n                        unsub = _this._appManager.onInstanceAgmServerReady(waitFunc);\r\n                    }\r\n                    var instances = check();\r\n                    if (instances) {\r\n                        if (unsub) {\r\n                            unsub();\r\n                            unsub = undefined;\r\n                        }\r\n                        clearTimeout(timeout);\r\n                        resolve(instances);\r\n                    }\r\n                };\r\n                _this._agm.invoke(StartApplicationMethodName, {\r\n                    Name: name,\r\n                    Context: context,\r\n                    Options: options\r\n                }, \"best\", {\r\n                    methodResponseTimeoutMs: startTimeout\r\n                }, function (result) {\r\n                    var acsResult = result.returned && result.returned.Instance_0\r\n                        ? result.returned.Instance_0\r\n                        : result.returned;\r\n                    if (acsResult && acsResult.Id) {\r\n                        if (_this._appManager.mode === \"startOnly\") {\r\n                            var instance = _this._appManager.handleInstanceStarted(acsResult);\r\n                            resolve(instance);\r\n                        }\r\n                        else {\r\n                            waitForApplicationInstance(acsResult.Id);\r\n                        }\r\n                    }\r\n                    else {\r\n                        resolve(undefined);\r\n                    }\r\n                }, function (err) {\r\n                    reject(err);\r\n                });\r\n            });\r\n        };\r\n        ApplicationImpl.prototype.onInstanceStarted = function (callback) {\r\n            this._registry.add(\"instanceStarted\", callback);\r\n        };\r\n        ApplicationImpl.prototype.onInstanceStopped = function (callback) {\r\n            this._registry.add(\"instanceStopped\", callback);\r\n        };\r\n        ApplicationImpl.prototype.onAvailable = function (callback) {\r\n            this._registry.add(\"appAvailable\", callback);\r\n        };\r\n        ApplicationImpl.prototype.onUnavailable = function (callback) {\r\n            this._registry.add(\"appUnavailable\", callback);\r\n        };\r\n        ApplicationImpl.prototype.onChanged = function (callback) {\r\n            this._registry.add(\"appChanged\", callback);\r\n        };\r\n        ApplicationImpl.prototype.onRemoved = function (callback) {\r\n            this._registry.add(\"appRemoved\", callback);\r\n        };\r\n        return ApplicationImpl;\r\n    }());\n\n    var InstanceImpl = (function () {\r\n        function InstanceImpl(_id, _appName, _appManager, _agm, _activities, _windows, startFailed) {\r\n            var _this = this;\r\n            this._id = _id;\r\n            this._appName = _appName;\r\n            this._appManager = _appManager;\r\n            this._agm = _agm;\r\n            this._activities = _activities;\r\n            this._windows = _windows;\r\n            this.onAgmReady = this._addToRegistry(\"agmReady\");\r\n            this.onStopped = this._addToRegistry(\"stopped\");\r\n            this._registry = lib$2();\r\n            if (startFailed) {\r\n                return;\r\n            }\r\n            this._unsubscribeInstanceStopped = this._appManager.onInstanceStopped(function (instance) {\r\n                if (instance.id !== _this._id) {\r\n                    return;\r\n                }\r\n                _this._registry.execute(\"stopped\", instance);\r\n            });\r\n            this._unsubscribeInstanceAgmServerReady = this._appManager.onInstanceAgmServerReady(function (instance) {\r\n                if (instance.id !== _this._id) {\r\n                    return;\r\n                }\r\n                _this._registry.execute(\"agmReady\", instance);\r\n            });\r\n        }\r\n        Object.defineProperty(InstanceImpl.prototype, \"id\", {\r\n            get: function () { return this._id; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"application\", {\r\n            get: function () { return this._appManager.application(this._appName); },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"activity\", {\r\n            get: function () {\r\n                var _this = this;\r\n                if (!this._activities) {\r\n                    throw new Error(\"This method requires glue.activities library to be enabled.\");\r\n                }\r\n                return this._activities.all.instances.get()\r\n                    .filter(function (activityInstance) { return activityInstance.id === _this._activityId; })[0];\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"isActivityOwner\", {\r\n            get: function () { return this._isActivityOwner; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"activityInstances\", {\r\n            get: function () {\r\n                var _this = this;\r\n                return this._appManager.instances().filter(function (i) {\r\n                    return i.application.type !== \"activity\" &&\r\n                        i.activityId &&\r\n                        i.activityId === _this._activityId;\r\n                });\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"activityOwnerInstance\", {\r\n            get: function () {\r\n                if (!this._activityId) {\r\n                    return undefined;\r\n                }\r\n                return this.activityInstances.filter(function (inst) { var _a; return (_a = inst) === null || _a === void 0 ? void 0 : _a.isActivityOwner; })[0];\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"window\", {\r\n            get: function () {\r\n                var _this = this;\r\n                if (!this._windows) {\r\n                    throw new Error(\"This method requires glue.windows library to be enabled.\");\r\n                }\r\n                var win = this._windows.list().filter(function (w) { return w.id === _this._id; })[0];\r\n                if (!win && this.activity && this.activityOwnerInstance) {\r\n                    win = this.activityOwnerInstance.window;\r\n                }\r\n                return win;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"context\", {\r\n            get: function () {\r\n                var _a, _b, _c;\r\n                return _c = (_a = this._startUpContext, (_a !== null && _a !== void 0 ? _a : (_b = this.window) === null || _b === void 0 ? void 0 : _b.context)), (_c !== null && _c !== void 0 ? _c : {});\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"title\", {\r\n            get: function () { return this._title; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"isActivityInstance\", {\r\n            get: function () { return this._isActivityInstance; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"activityId\", {\r\n            get: function () { return this._activityId; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"inActivity\", {\r\n            get: function () { return this._inActivity; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"isSingleWindowApp\", {\r\n            get: function () { return !this._inActivity; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"agm\", {\r\n            get: function () {\r\n                return this._agmInstance;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        InstanceImpl.prototype.updateFromProps = function (props) {\r\n            this._startUpContext = props.Context;\r\n            this._title = props.Title;\r\n            this._isActivityInstance = false;\r\n            if (props.ActivityId && props.ActivityId !== \"\") {\r\n                this._activityId = props.ActivityId;\r\n                this._isActivityInstance = true;\r\n            }\r\n            this._isActivityOwner = props.IsActivityOwner;\r\n            if (!this._activityId && this._startUpContext && this._startUpContext.activityId) {\r\n                this._activityId = this._startUpContext.activityId;\r\n            }\r\n            this._inActivity = Boolean(this._activityId);\r\n            this.updateAgmInstanceFromProps(props);\r\n        };\r\n        InstanceImpl.prototype.updateAgmInstanceFromProps = function (props) {\r\n            if (!props.AgmServers) {\r\n                return;\r\n            }\r\n            if (props.GD3) {\r\n                var agmInstances = props.AgmServers;\r\n                if (agmInstances) {\r\n                    this._agmInstance = agmInstances[0];\r\n                }\r\n            }\r\n            else {\r\n                var gdAgmServers = props.AgmServers;\r\n                var propsAgmServer = Object.keys(gdAgmServers)[0];\r\n                if (!propsAgmServer) {\r\n                    return;\r\n                }\r\n                var propsAgm = gdAgmServers[propsAgmServer];\r\n                this._agmInstance = {\r\n                    machine: propsAgm.machineName,\r\n                    user: propsAgm.userName,\r\n                    environment: propsAgm.environment,\r\n                    application: propsAgm.applicationName,\r\n                };\r\n            }\r\n        };\r\n        InstanceImpl.prototype.stop = function () {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                var unsubscribe = _this._appManager.onInstanceStopped(function (instance) {\r\n                    if (instance.id === _this._id) {\r\n                        unsubscribe();\r\n                        resolve();\r\n                    }\r\n                });\r\n                _this._agm.invoke(StopApplicationMethodName, {\r\n                    Name: _this._appName,\r\n                    Id: _this._id\r\n                })\r\n                    .then(function () {\r\n                    if (_this._appManager.mode === \"startOnly\") {\r\n                        _this._appManager.handleInstanceStopped({\r\n                            Name: _this._appName,\r\n                            Id: _this.id,\r\n                            Context: undefined,\r\n                            Title: undefined,\r\n                            ActivityId: undefined,\r\n                            IsActivityOwner: undefined,\r\n                            AgmServers: undefined\r\n                        });\r\n                        resolve();\r\n                    }\r\n                })\r\n                    .catch(function (err) { return reject(err); });\r\n            });\r\n        };\r\n        InstanceImpl.prototype.activate = function () {\r\n            return this._agm.invoke(ActivateApplicationMethodName, { Name: this._appName, Id: this._id });\r\n        };\r\n        InstanceImpl.prototype.done = function () {\r\n            this._registry.clear();\r\n            this._unsubscribeInstanceAgmServerReady();\r\n            this._unsubscribeInstanceStopped();\r\n        };\r\n        InstanceImpl.prototype.getContext = function () {\r\n            return Promise.resolve(this.context);\r\n        };\r\n        InstanceImpl.prototype._addToRegistry = function (key) {\r\n            var _this = this;\r\n            return function (callback) {\r\n                _this._registry.add(key, callback);\r\n            };\r\n        };\r\n        return InstanceImpl;\r\n    }());\n\n    var AppManagerImpl = (function () {\r\n        function AppManagerImpl(mode, _agm, _activities, _windows, _logger, _gdMajorVersion) {\r\n            var _this = this;\r\n            this.mode = mode;\r\n            this._agm = _agm;\r\n            this._activities = _activities;\r\n            this._windows = _windows;\r\n            this._logger = _logger;\r\n            this._gdMajorVersion = _gdMajorVersion;\r\n            this._apps = {};\r\n            this._instances = [];\r\n            this._registry = lib$2();\r\n            this.application = function (name) {\r\n                return _this._apps[name];\r\n            };\r\n            this.applications = function () {\r\n                return Object.keys(_this._apps).map(function (k) { return _this._apps[k]; });\r\n            };\r\n            this.instances = function () {\r\n                return _this._instances;\r\n            };\r\n            this.getMyInstance = function () {\r\n                if (_this._gdMajorVersion >= 3) {\r\n                    var instanceId_1 = window.glue42gd.appInstanceId;\r\n                    return _this._instances.filter(function (i) { return i.id === instanceId_1; })[0];\r\n                }\r\n                return undefined;\r\n            };\r\n            this.handleAppAdded = function (props) {\r\n                var id = _this._getAppId(props);\r\n                _this._logger.trace(\"adding app \" + id);\r\n                _this._apps[id] = new ApplicationImpl(_this, id, _this._agm);\r\n                var app = _this._updateAppFromProps(props);\r\n                _this._registry.execute(\"appAdded\", app);\r\n            };\r\n            this.handleAppUpdated = function (props) {\r\n                var app = _this._updateAppFromProps(props);\r\n                _this._registry.execute(\"appChanged\", app);\r\n            };\r\n            this.handleAppRemoved = function (props) {\r\n                var id = _this._getAppId(props);\r\n                _this._logger.trace(\"removing app \" + id);\r\n                var app = _this.application(id);\r\n                _this._instances = _this._instances.filter(function (i) { return i.application.name !== app.name; });\r\n                delete _this._apps[id];\r\n                _this._registry.execute(\"appRemoved\", app);\r\n            };\r\n            this.handleAppReady = function (props) {\r\n                var id = _this._getAppId(props);\r\n                var app = _this._getAppOrThrow(id);\r\n                app.updateFromProps(props);\r\n                if (app.available) {\r\n                    _this._registry.execute(\"appAvailable\", app);\r\n                }\r\n                else {\r\n                    _this._registry.execute(\"appUnavailable\", app);\r\n                }\r\n            };\r\n            this.handleInstanceStarted = function (props) {\r\n                _this._logger.trace(\"started app \" + props.Name + \" \" + props.Id);\r\n                var id = _this._getInstanceId(props);\r\n                var appName = _this._getInstanceAppName(props);\r\n                var instance = new InstanceImpl(id, appName, _this, _this._agm, _this._activities, _this._windows);\r\n                _this._updateInstanceFromProps(instance, props);\r\n                _this._instances.push(instance);\r\n                _this._registry.execute(\"instanceStarted\", instance);\r\n                return instance;\r\n            };\r\n            this.handleInstanceStopped = function (props) {\r\n                _this._logger.trace(\"failed to start app \" + props.Name + \" \" + props.Id);\r\n                var id = _this._getInstanceId(props);\r\n                var appName = _this._getInstanceAppName(props);\r\n                var instance = _this._getInstanceOrThrow(id, appName);\r\n                _this._instances = _this._instances.filter(function (i) { return !_this._matchInstance(i, id, appName); });\r\n                _this._registry.execute(\"instanceStopped\", instance);\r\n                instance.done();\r\n            };\r\n            this.handleInstanceAgmServerReady = function (props) {\r\n                var id = _this._getInstanceId(props);\r\n                var appName = _this._getInstanceAppName(props);\r\n                var instance = _this._getInstanceOrThrow(id, appName);\r\n                instance.updateAgmInstanceFromProps(props);\r\n                _this._registry.execute(\"instanceAgmServerReady\", instance);\r\n            };\r\n            this.handleInstanceStartFailed = function (props) {\r\n                var id = _this._getInstanceId(props);\r\n                var appName = _this._getInstanceAppName(props);\r\n                var startFailed = true;\r\n                var instance = new InstanceImpl(id, appName, undefined, undefined, undefined, undefined, startFailed);\r\n                _this._updateInstanceFromProps(instance, props);\r\n                _this._registry.execute(\"instanceStartFailed\", instance);\r\n            };\r\n            this.handleInstanceUpdated = function (props) {\r\n                var id = _this._getInstanceId(props);\r\n                var app = _this._getInstanceAppName(props);\r\n                var instance = _this._getInstanceOrThrow(id, app);\r\n                _this._updateInstanceFromProps(instance, props);\r\n            };\r\n            this.onInstanceStarted = function (callback) {\r\n                return _this._registry.add(\"instanceStarted\", callback, _this._instances);\r\n            };\r\n            this.onInstanceStartFailed = function (callback) {\r\n                return _this._registry.add(\"instanceStartFailed\", callback);\r\n            };\r\n            this.onInstanceStopped = function (callback) {\r\n                return _this._registry.add(\"instanceStopped\", callback);\r\n            };\r\n            this.onInstanceUpdated = function (callback) {\r\n                return _this._registry.add(\"instanceChanged\", callback);\r\n            };\r\n            this.onInstanceAgmServerReady = function (callback) {\r\n                return _this._registry.add(\"instanceAgmServerReady\", callback);\r\n            };\r\n            this.onAppAdded = function (callback) {\r\n                return _this._registry.add(\"appAdded\", callback, Object.values(_this._apps));\r\n            };\r\n            this.onAppRemoved = function (callback) {\r\n                return _this._registry.add(\"appRemoved\", callback);\r\n            };\r\n            this.onAppAvailable = function (callback) {\r\n                return _this._registry.add(\"appAvailable\", callback);\r\n            };\r\n            this.onAppUnavailable = function (callback) {\r\n                return _this._registry.add(\"appUnavailable\", callback);\r\n            };\r\n            this.onAppChanged = function (callback) {\r\n                return _this._registry.add(\"appChanged\", callback);\r\n            };\r\n        }\r\n        AppManagerImpl.prototype._getAppOrThrow = function (id) {\r\n            var result = this.application(id);\r\n            if (!result) {\r\n                throw Error(\"app with id \" + id + \" not found\");\r\n            }\r\n            return result;\r\n        };\r\n        AppManagerImpl.prototype._getAppId = function (props) {\r\n            return props.Name;\r\n        };\r\n        AppManagerImpl.prototype._matchInstance = function (instance, id, appName) {\r\n            return instance.id === id && instance.application.name === appName;\r\n        };\r\n        AppManagerImpl.prototype._getInstanceByIdAndName = function (id, appName) {\r\n            var _this = this;\r\n            return this._instances.filter(function (i) { return _this._matchInstance(i, id, appName); })[0];\r\n        };\r\n        AppManagerImpl.prototype._getInstanceOrThrow = function (id, appName) {\r\n            var result = this._getInstanceByIdAndName(id, appName);\r\n            if (!result) {\r\n                throw Error(\"instance with id \" + id + \" not found\");\r\n            }\r\n            return result;\r\n        };\r\n        AppManagerImpl.prototype._getInstanceId = function (props) {\r\n            return props.Id;\r\n        };\r\n        AppManagerImpl.prototype._getInstanceAppName = function (props) {\r\n            return props.Name;\r\n        };\r\n        AppManagerImpl.prototype._updateAppFromProps = function (props) {\r\n            var id = this._getAppId(props);\r\n            this._logger.trace(\"updating app with  + \" + id + \", \" + props);\r\n            var app = this._getAppOrThrow(id);\r\n            app.updateFromProps(props);\r\n            return app;\r\n        };\r\n        AppManagerImpl.prototype._updateInstanceFromProps = function (instance, props) {\r\n            this._logger.trace(\"updating instance with \" + this._getInstanceId(props) + \" for app \" + this._getInstanceAppName(props));\r\n            instance.updateFromProps(props);\r\n        };\r\n        return AppManagerImpl;\r\n    }());\n\n    function promisify$2(promise, successCallback, errorCallback) {\r\n        var isFunction = function (arg) {\r\n            return !!(arg && arg.constructor && arg.call && arg.apply);\r\n        };\r\n        if (!isFunction(successCallback) && !isFunction(errorCallback)) {\r\n            return promise;\r\n        }\r\n        if (!isFunction(successCallback)) {\r\n            successCallback = function () {\r\n            };\r\n        }\r\n        else if (!isFunction(errorCallback)) {\r\n            errorCallback = function () {\r\n            };\r\n        }\r\n        promise.then(successCallback, errorCallback);\r\n    }\r\n    var EntitlementsImpl = (function () {\r\n        function EntitlementsImpl(_agm) {\r\n            var _this = this;\r\n            this._agm = _agm;\r\n            this._registry = lib$2();\r\n            this.handleBranchModified = function (branch) {\r\n                _this._registry.execute(\"branchChanged\", branch);\r\n            };\r\n            this.handleBranchesModified = function (branches) {\r\n                _this._registry.execute(\"branchesChanged\", branches);\r\n            };\r\n            this.getRegion = function (success, error) {\r\n                return promisify$2(_this._agmInvoke(GetConfigurationRegionMethodName, function (e) { return e.returned.Region; }), success, error);\r\n            };\r\n            this.getBranches = function (success, error) {\r\n                var promise = _this._agmInvoke(GetBranchesMethodName, function (e) {\r\n                    var obj = e.returned.Branches;\r\n                    return Object.keys(obj).map(function (key) { return obj[key]; });\r\n                });\r\n                return promisify$2(promise, success, error);\r\n            };\r\n            this.getCurrentBranch = function (success, error) {\r\n                var promise = _this._agmInvoke(GetCurrentBranchMethodName, function (e) { return e.returned.Branch; }, undefined);\r\n                return promisify$2(promise, success, error);\r\n            };\r\n            this.setRegion = function (region, success, error) {\r\n                var promise = _this._agmInvoke(SetConfigurationRegionMethodName, function (e) { return e.returned.ResultMessage; }, { Region: region });\r\n                return promisify$2(promise, success, error);\r\n            };\r\n            this.setCurrentBranch = function (branch, success, error) {\r\n                var promise = _this._agmInvoke(SetCurrentBranchMethodName, function (e) { return e.returned.ResultMessage; }, { Branch: branch });\r\n                return promisify$2(promise, success, error);\r\n            };\r\n            this.currentUser = function (success, error) {\r\n                var promise = _this._agmInvoke(GetUserMethodName);\r\n                return promisify$2(promise, success, error);\r\n            };\r\n            this.getFunctionalEntitlement = function (funct, success, error) {\r\n                var promise = _this._agmInvoke(GetFunctionalEntitlementMethodName, function (e) { return e.returned.Entitlement; }, { Function: funct });\r\n                return promisify$2(promise, success, error);\r\n            };\r\n            this.getFunctionalEntitlementBranch = function (funct, branch, success, error) {\r\n                var promise = _this._agmInvoke(GetFunctionalEntitlementMethodName, function (e) { return e.returned.Entitlement; }, { Function: funct, Branch: branch });\r\n                return promisify$2(promise, success, error);\r\n            };\r\n            this.canI = function (func, success, error) {\r\n                var promise = _this._agmInvoke(CanIMethodName, function (e) { return e.returned.Result; }, { Function: func });\r\n                return promisify$2(promise, success, error);\r\n            };\r\n            this.canIBranch = function (func, branch, success, error) {\r\n                var promise = _this._agmInvoke(CanIMethodName, function (e) { return e.returned.Result; }, { Function: func, Branch: branch });\r\n                return promisify$2(promise, success, error);\r\n            };\r\n            this.onBranchesChanged = function (callback) {\r\n                _this._registry.add(\"branchesChanged\", callback);\r\n            };\r\n            this.onBranchChanged = function (callback) {\r\n                _this._registry.add(\"branchChanged\", callback);\r\n            };\r\n            this.exit = function (options) {\r\n                return _this._agmInvoke(ShutdownMethodName, null, options);\r\n            };\r\n            this.restart = function (options) {\r\n                return _this._agmInvoke(RestartMethodName, null, options);\r\n            };\r\n            this._agmInvoke = function (method, transformFunction, args) {\r\n                args = args || {};\r\n                return new Promise(function (resolve, reject) {\r\n                    var errHandler = function (error) { return reject(error); };\r\n                    _this._agm.invoke(method, args)\r\n                        .then(function (result) {\r\n                        if (!transformFunction) {\r\n                            transformFunction = function (d) { return d.returned; };\r\n                        }\r\n                        resolve(transformFunction(result));\r\n                    })\r\n                        .catch(errHandler);\r\n                });\r\n            };\r\n        }\r\n        return EntitlementsImpl;\r\n    }());\n\n    function snapshot(agm, appManager) {\r\n        return new Promise(function (resolve, reject) {\r\n            agm.invoke(GetApplicationsMethodName, { skipIcon: true })\r\n                .then(function (response) {\r\n                var data = response.returned;\r\n                if (!data) {\r\n                    resolve();\r\n                }\r\n                var applications = data.applications;\r\n                if (!applications) {\r\n                    resolve();\r\n                }\r\n                objectValues(applications).map(function (item) { return appManager.handleAppAdded(item); });\r\n                resolve();\r\n            })\r\n                .catch(function (err) { return reject(\"Error getting application snapshot: \" + err.message); });\r\n        });\r\n    }\n\n    var OnBranchChangedEvent = \"OnBranchChanged\";\r\n    var OnBranchesModifiedEvent = \"OnBranchesModified\";\r\n    var OnApplicationAddedEvent = \"OnApplicationAdded\";\r\n    var OnApplicationRemovedEvent = \"OnApplicationRemoved\";\r\n    var OnApplicationChangedEvent = \"OnApplicationChanged\";\r\n    var OnApplicationReadyEvent = \"OnApplicationReady\";\r\n    var OnApplicationStartedEvent = \"OnApplicationStarted\";\r\n    var OnApplicationAgmServerReadyEvent = \"OnApplicationAgmServerReady\";\r\n    var OnApplicationUpdatedEvent = \"OnApplicationUpdated\";\r\n    var OnApplicationStoppedEvent = \"OnApplicationStopped\";\r\n    var OnApplicationStartFailedEvent = \"OnApplicationStartFailed\";\n\n    function createDataSubscription(agm, applications, entitlements, skipIcons) {\r\n        var subscription;\r\n        var start = function () {\r\n            var resolveFunc;\r\n            var rejectFunc;\r\n            var resultPromise = new Promise(function (resolve, reject) {\r\n                resolveFunc = resolve;\r\n                rejectFunc = reject;\r\n            });\r\n            agm.subscribe(OnEventMethodName, { arguments: { skipIcon: skipIcons }, waitTimeoutMs: 10000 })\r\n                .then(function (s) {\r\n                subscription = s;\r\n                subscription.onData(function (streamData) {\r\n                    var events = streamData.data;\r\n                    objectValues(events[OnApplicationAddedEvent])\r\n                        .map(function (item) { return applications.handleAppAdded(item); });\r\n                    objectValues(events[OnApplicationChangedEvent])\r\n                        .map(function (item) { return applications.handleAppUpdated(item); });\r\n                    objectValues(events[OnApplicationRemovedEvent])\r\n                        .map(function (item) { return applications.handleAppRemoved(item); });\r\n                    objectValues(events[OnApplicationReadyEvent])\r\n                        .map(function (item) { return applications.handleAppReady(item); });\r\n                    objectValues(events[OnApplicationStartedEvent])\r\n                        .map(function (item) { return applications.handleInstanceStarted(item); });\r\n                    objectValues(events[OnApplicationStartFailedEvent])\r\n                        .map(function (item) { return applications.handleInstanceStartFailed(item); });\r\n                    objectValues(events[OnApplicationStoppedEvent])\r\n                        .map(function (item) { return applications.handleInstanceStopped(item); });\r\n                    objectValues(events[OnApplicationUpdatedEvent])\r\n                        .map(function (item) { return applications.handleInstanceUpdated(item); });\r\n                    objectValues(events[OnApplicationAgmServerReadyEvent])\r\n                        .map(function (item) { return applications.handleInstanceAgmServerReady(item); });\r\n                    objectValues(events[OnBranchChangedEvent])\r\n                        .map(function (item) { return entitlements.handleBranchModified(item); });\r\n                    objectValues(events[OnBranchesModifiedEvent])\r\n                        .map(function (item) { return entitlements.handleBranchesModified(item); });\r\n                    resolveFunc();\r\n                });\r\n                subscription.onFailed(function (err) { return rejectFunc(err); });\r\n            })\r\n                .catch(function (err) { return rejectFunc(\"Error subscribing for \" + OnEventMethodName + \" stream. Err: \" + err); });\r\n            return resultPromise;\r\n        };\r\n        var stop = function () {\r\n            if (subscription) {\r\n                subscription.close();\r\n            }\r\n        };\r\n        return {\r\n            start: start,\r\n            stop: stop\r\n        };\r\n    }\n\n    var AppManagerFactory = (function (config) {\r\n        if (!config) {\r\n            throw Error(\"config not set\");\r\n        }\r\n        if (!config.agm) {\r\n            throw Error(\"config.agm is missing\");\r\n        }\r\n        var START_ONLY = \"startOnly\";\r\n        var SKIP_ICONS = \"skipIcons\";\r\n        var FULL = \"full\";\r\n        var mode = config.mode || START_ONLY;\r\n        if (mode !== START_ONLY && mode !== SKIP_ICONS && mode !== FULL) {\r\n            throw new Error(\"Invalid mode for appManager lib - \" + mode + \" is not supported\");\r\n        }\r\n        var activities = config.activities;\r\n        var agm = config.agm;\r\n        var logger = config.logger;\r\n        var windows = config.windows;\r\n        var appManager = new AppManagerImpl(mode, agm, activities, windows, logger.subLogger(\"applications\"), config.gdMajorVersion);\r\n        var entitlements = new EntitlementsImpl(agm);\r\n        var readyPromise;\r\n        if (mode === START_ONLY) {\r\n            readyPromise = snapshot(agm, appManager);\r\n        }\r\n        else {\r\n            var subscription = createDataSubscription(agm, appManager, entitlements, mode === SKIP_ICONS);\r\n            readyPromise = subscription.start();\r\n        }\r\n        var api = {\r\n            ready: function () { return readyPromise; },\r\n            applications: appManager.applications,\r\n            application: appManager.application,\r\n            onAppAdded: appManager.onAppAdded,\r\n            onAppRemoved: appManager.onAppRemoved,\r\n            onAppChanged: appManager.onAppChanged,\r\n            onAppAvailable: appManager.onAppAvailable,\r\n            onAppUnavailable: appManager.onAppUnavailable,\r\n            instances: appManager.instances,\r\n            get myInstance() {\r\n                return appManager.getMyInstance();\r\n            },\r\n            onInstanceStarted: appManager.onInstanceStarted,\r\n            onInstanceStopped: appManager.onInstanceStopped,\r\n            onInstanceUpdated: appManager.onInstanceUpdated,\r\n            onInstanceStartFailed: appManager.onInstanceStartFailed,\r\n            getRegion: entitlements.getRegion,\r\n            getBranches: entitlements.getBranches,\r\n            getCurrentBranch: entitlements.getCurrentBranch,\r\n            getFunctionalEntitlement: entitlements.getFunctionalEntitlement,\r\n            getFunctionalEntitlementBranch: entitlements.getFunctionalEntitlementBranch,\r\n            setCurrentBranch: entitlements.setCurrentBranch,\r\n            setRegion: entitlements.setRegion,\r\n            currentUser: entitlements.currentUser,\r\n            canI: entitlements.canI,\r\n            canIBranch: entitlements.canIBranch,\r\n            onBranchesChanged: entitlements.onBranchesChanged,\r\n            exit: entitlements.exit,\r\n            restart: entitlements.restart\r\n        };\r\n        return api;\r\n    });\n\n    var WindowStore = (function () {\r\n        function WindowStore() {\r\n            this.waitForTimeoutInMilliseconds = 60000;\r\n            this._windows = {};\r\n            this._pendingWindows = {};\r\n            this._pendingWindowsStates = {};\r\n            this._registry = lib$2();\r\n        }\r\n        WindowStore.prototype.init = function (logger) {\r\n            this._logger = logger;\r\n        };\r\n        WindowStore.prototype.get = function (id) {\r\n            return this._windows[id] || this._pendingWindows[id];\r\n        };\r\n        WindowStore.prototype.getIfReady = function (id) {\r\n            return this._windows[id];\r\n        };\r\n        Object.defineProperty(WindowStore.prototype, \"list\", {\r\n            get: function () {\r\n                return this._windows;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        WindowStore.prototype.add = function (window) {\r\n            var isExist = this._pendingWindows[window.API.id] ? true : false;\r\n            if (isExist) {\r\n                this._logger.error(\"trying to add window with id \" + window.API.id + \" from windowStore, which already exists\");\r\n                return;\r\n            }\r\n            var remote = window.API.windowType === \"remote\";\r\n            this._pendingWindows[window.API.id] = window;\r\n            this._pendingWindowsStates[window.API.id] = {\r\n                ready: false,\r\n                urlChanged: remote,\r\n            };\r\n            this._registry.execute(\"on-added\", window);\r\n        };\r\n        WindowStore.prototype.remove = function (window) {\r\n            delete this._windows[window.API.id];\r\n            delete this._pendingWindows[window.API.id];\r\n            delete this._pendingWindowsStates[window.API.id];\r\n            this._registry.execute(\"on-removed\", window);\r\n        };\r\n        WindowStore.prototype.setReadyState = function (windowId) {\r\n            var targetWindowState = this._pendingWindowsStates[windowId];\r\n            if (typeof targetWindowState === \"undefined\") {\r\n                return;\r\n            }\r\n            targetWindowState.ready = true;\r\n            if (targetWindowState.urlChanged) {\r\n                this.markReadyToShow(windowId);\r\n            }\r\n        };\r\n        WindowStore.prototype.setUrlChangedState = function (windowId) {\r\n            var targetWindowState = this._pendingWindowsStates[windowId];\r\n            if (typeof targetWindowState === \"undefined\") {\r\n                return;\r\n            }\r\n            targetWindowState.urlChanged = true;\r\n            if (targetWindowState.ready) {\r\n                this.markReadyToShow(windowId);\r\n            }\r\n        };\r\n        WindowStore.prototype.waitFor = function (id) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                var un;\r\n                var timeout = setTimeout(function () {\r\n                    un();\r\n                    reject(\"waitFor timed out.\");\r\n                }, _this.waitForTimeoutInMilliseconds);\r\n                var win = _this._windows[id];\r\n                if (win) {\r\n                    clearTimeout(timeout);\r\n                    resolve(win);\r\n                }\r\n                else {\r\n                    un = _this.onReadyWindow(function (w) {\r\n                        if (w.API.id !== id) {\r\n                            return;\r\n                        }\r\n                        clearTimeout(timeout);\r\n                        un();\r\n                        resolve(w);\r\n                    });\r\n                }\r\n            });\r\n        };\r\n        WindowStore.prototype.onReadyWindow = function (callback) {\r\n            return this._registry.add(\"on-ready\", callback);\r\n        };\r\n        WindowStore.prototype.onAdded = function (callback) {\r\n            return this._registry.add(\"on-added\", callback);\r\n        };\r\n        WindowStore.prototype.onRemoved = function (callback) {\r\n            return this._registry.add(\"on-removed\", callback);\r\n        };\r\n        WindowStore.prototype.markReadyToShow = function (windowId) {\r\n            if (this._pendingWindows[windowId]) {\r\n                this._windows[windowId] = this._pendingWindows[windowId];\r\n                delete this._pendingWindows[windowId];\r\n                delete this._pendingWindowsStates[windowId];\r\n            }\r\n            this._registry.execute(\"on-ready\", this._windows[windowId]);\r\n        };\r\n        return WindowStore;\r\n    }());\r\n    var windowStore = new WindowStore();\n\n    var Utils$1 = (function () {\r\n        function Utils() {\r\n        }\r\n        Utils.getGDMajorVersion = function () {\r\n            if (typeof window === \"undefined\") {\r\n                return -1;\r\n            }\r\n            if (!window.glueDesktop) {\r\n                return -1;\r\n            }\r\n            if (!window.glueDesktop.version) {\r\n                return -1;\r\n            }\r\n            var ver = Number(window.glueDesktop.version.substr(0, 1));\r\n            return isNaN(ver) ? -1 : ver;\r\n        };\r\n        Utils.callbackifyPromise = function (action, successCallback, errorCallback) {\r\n            var fail = function (error) {\r\n                var msg = error;\r\n                if (error instanceof Error) {\r\n                    msg = error.message;\r\n                }\r\n                if (typeof errorCallback === \"function\") {\r\n                    errorCallback(msg);\r\n                    return;\r\n                }\r\n                return Promise.reject(msg);\r\n            };\r\n            try {\r\n                return action()\r\n                    .then(function (result) {\r\n                    if (typeof successCallback === \"function\") {\r\n                        successCallback(result);\r\n                    }\r\n                    return result;\r\n                })\r\n                    .catch(function (error) {\r\n                    return fail(error);\r\n                });\r\n            }\r\n            catch (err) {\r\n                return fail(err);\r\n            }\r\n        };\r\n        Utils.getMonitor = function (bounds, displays) {\r\n            var _this = this;\r\n            var monitorsSortedByOverlap = displays.map(function (m) {\r\n                var left = m.left, top = m.top, width = m.workingAreaWidth, height = m.workingAreaHeight;\r\n                var overlap = _this.calculateTotalOverlap({ left: left, top: top, width: width, height: height }, bounds);\r\n                return {\r\n                    monitor: m,\r\n                    totalOverlap: overlap\r\n                };\r\n            }).sort(function (a, b) { return b.totalOverlap - a.totalOverlap; });\r\n            return monitorsSortedByOverlap[0].monitor;\r\n        };\r\n        Utils.getDisplayCenterOfScreen = function (a, display) {\r\n            var left = Math.floor(Math.max(display.left, (display.left + (display.workingAreaWidth - a.width) / 2)));\r\n            var top = Math.floor(Math.max(display.top, (display.top + (display.workingAreaHeight - a.height) / 2)));\r\n            return {\r\n                top: top,\r\n                left: left\r\n            };\r\n        };\r\n        Utils.calculateTotalOverlap = function (r1, r2) {\r\n            var r1x = r1.left;\r\n            var r1y = r1.top;\r\n            var r1xMax = r1x + r1.width;\r\n            var r1yMax = r1y + r1.height;\r\n            var r2x = r2.left;\r\n            var r2y = r2.top;\r\n            var r2xMax = r2x + r2.width;\r\n            var r2yMax = r2y + r2.height;\r\n            var xOverlap = Math.max(0, Math.min(r1xMax, r2xMax) - Math.max(r1x, r2x));\r\n            var yOverlap = Math.max(0, Math.min(r1yMax, r2yMax) - Math.max(r1y, r2y));\r\n            return xOverlap * yOverlap;\r\n        };\r\n        return Utils;\r\n    }());\n\n    var windowFactory = (function (id, options, executor, logger, appManagerGetter, agm, registry) {\r\n        var _a;\r\n        var _registry = (registry !== null && registry !== void 0 ? registry : lib$2());\r\n        var _logger = logger.subLogger(\"window \" + id);\r\n        var _name = options.name;\r\n        var _mode = options.mode;\r\n        var _url = options.url;\r\n        var _title = options.title;\r\n        var _context = options.context || {};\r\n        var _bounds = options.bounds;\r\n        var _frameColor = options.frameColor;\r\n        var _focus = options.focus;\r\n        var _neighbours = options.neighbours || {};\r\n        var _groupId = options.groupId;\r\n        var _isGroupHeaderVisible = options.isGroupHeaderVisible;\r\n        var _isTabHeaderVisible = options.isTabHeaderVisible;\r\n        var _isTabSelected = options.isTabSelected;\r\n        var _settings = options.settings;\r\n        var _isVisible = options.isVisible;\r\n        var _isSticky = (_a = options.settings) === null || _a === void 0 ? void 0 : _a.isSticky;\r\n        var isCollapsed = options.isCollapsed;\r\n        var _windowState = options.state;\r\n        var _tabGroupId = options.tabGroupId;\r\n        var _isLocked = options.isLocked;\r\n        var _group;\r\n        var resultWindow;\r\n        var _frameButtons = [];\r\n        var _zoomFactor = options.zoomFactor;\r\n        function close(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.close(resultWindow)\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function navigate(newUrl, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.navigate(resultWindow, newUrl)\r\n                    .then(function () {\r\n                    if (newUrl === _url) {\r\n                        if (typeof success === \"function\") {\r\n                            success(resultWindow);\r\n                        }\r\n                        return resolve(resultWindow);\r\n                    }\r\n                    var un = onUrlChanged(function (url, win) {\r\n                        if (win.id === id && url === win.url) {\r\n                            if (typeof success === \"function\") {\r\n                                success(resultWindow);\r\n                            }\r\n                            un();\r\n                            resolve(resultWindow);\r\n                        }\r\n                    });\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function setStyle(style, success, error) {\r\n            if (!style || Object.keys(style).length === 0 || Object.keys(style).every(function (key) { return !key; })) {\r\n                var errMessage = \"Invalid style arguments: \" + JSON.stringify(style);\r\n                error(errMessage);\r\n                return Promise.reject(new Error(errMessage));\r\n            }\r\n            if (style && style.focus !== undefined) {\r\n                if (typeof style.focus !== \"boolean\") {\r\n                    var errMessage = \"Focus must be boolean. Currently only focus true is supported ! \" + JSON.stringify(style);\r\n                    error(errMessage);\r\n                    return Promise.reject(new Error(errMessage));\r\n                }\r\n                else if (style.focus === false) {\r\n                    _logger.warn(\"Focus false is not supported ! \");\r\n                }\r\n            }\r\n            if (style && style.hidden !== undefined && typeof style.hidden !== \"boolean\") {\r\n                var errMessage = \"Hidden must be boolean ! provided: \" + JSON.stringify(style);\r\n                error(errMessage);\r\n                return Promise.reject(new Error(errMessage));\r\n            }\r\n            return Utils$1.callbackifyPromise(function () { return executor.setStyle(resultWindow, style); }, success, error);\r\n        }\r\n        function resetButtons(buttons, success, error) {\r\n            return Utils$1.callbackifyPromise(function () { return executor.resetButtons(resultWindow, buttons); }, success, error);\r\n        }\r\n        function setOnTop(onTop, success, error) {\r\n            if (this.onTop === onTop) {\r\n                var errMessage = \"OnTop setting is already set to '\" + onTop + \"'\";\r\n                error(errMessage);\r\n                return Promise.reject(new Error(errMessage));\r\n            }\r\n            return Utils$1.callbackifyPromise(function () { return executor.setOnTop(resultWindow, onTop); }, success, error);\r\n        }\r\n        function setSizeConstraints(constraints, success, error) {\r\n            if (!constraints || Object.keys(constraints).every(function (value) { return value === undefined; })) {\r\n                var errMessage = \"Invalid Constraints: \" + JSON.stringify(constraints);\r\n                error(errMessage);\r\n                return Promise.reject(new Error(errMessage));\r\n            }\r\n            return Utils$1.callbackifyPromise(function () { return executor.setSizeConstraints(resultWindow, constraints); }, success, error);\r\n        }\r\n        function setTitle(newTitle, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.setTitle(resultWindow, newTitle)\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function setSticky(isSticky, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.setSticky(resultWindow, isSticky)\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function moveResize(dimensions, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                var resolveImmediately = areBoundsEqual(dimensions, _bounds);\r\n                var isDone = false;\r\n                var done = function () {\r\n                    if (isDone) {\r\n                        return;\r\n                    }\r\n                    isDone = true;\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                    if (unsubscribeBoundsChanged) {\r\n                        unsubscribeBoundsChanged();\r\n                        unsubscribeBoundsChanged = undefined;\r\n                    }\r\n                    if (resolveTimeout) {\r\n                        clearTimeout(resolveTimeout);\r\n                        resolveTimeout = undefined;\r\n                    }\r\n                };\r\n                var resolveTimeout;\r\n                var unsubscribeBoundsChanged;\r\n                if (!resolveImmediately) {\r\n                    unsubscribeBoundsChanged = onBoundsChanged(function (win) {\r\n                        if (win.id !== resultWindow.id) {\r\n                            return;\r\n                        }\r\n                        if (!areBoundsEqual(dimensions, win.bounds)) {\r\n                            return;\r\n                        }\r\n                        done();\r\n                    });\r\n                }\r\n                executor.moveResize(resultWindow, dimensions)\r\n                    .then(function () {\r\n                    if (resolveImmediately) {\r\n                        done();\r\n                        return;\r\n                    }\r\n                    resolveTimeout = setTimeout(function () {\r\n                        done();\r\n                    }, 1000);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function addFrameButton(buttonInfo, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                if (typeof buttonInfo === \"undefined\") {\r\n                    if (typeof error === \"function\") {\r\n                        error(\"No button info\");\r\n                        return;\r\n                    }\r\n                    reject(\"No button info\");\r\n                    return;\r\n                }\r\n                if (buttonInfo.buttonId === undefined) {\r\n                    if (typeof error === \"function\") {\r\n                        error(\"No buttonId\");\r\n                        return;\r\n                    }\r\n                    reject(\"No buttonId\");\r\n                    return;\r\n                }\r\n                if (buttonInfo.imageBase64 === undefined) {\r\n                    if (typeof error === \"function\") {\r\n                        error(\"No imageBase64\");\r\n                        return;\r\n                    }\r\n                    reject(\"No imageBase64\");\r\n                    return;\r\n                }\r\n                executor.addFrameButton(resultWindow, buttonInfo)\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function removeFrameButton(buttonId, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                if (buttonId === undefined || buttonId === \"\") {\r\n                    if (typeof error === \"function\") {\r\n                        error(\"No buttonId\");\r\n                        return;\r\n                    }\r\n                    reject(\"No buttonId\");\r\n                    return;\r\n                }\r\n                executor.removeFrameButton(resultWindow, buttonId)\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function activate(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.activate(resultWindow)\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function focus(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.focus(resultWindow)\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function maximizeRestore(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                var currEvent = _windowState === \"normal\" ? onMaximized : onNormal;\r\n                executor.maximizeRestore(resultWindow)\r\n                    .then(function () {\r\n                    var un = currEvent(function () {\r\n                        if (typeof success === \"function\") {\r\n                            success(resultWindow);\r\n                        }\r\n                        if (un) {\r\n                            un();\r\n                        }\r\n                        resolve(resultWindow);\r\n                    });\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function maximize(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.maximize(resultWindow)\r\n                    .then(function () {\r\n                    if (_windowState === \"maximized\") {\r\n                        if (typeof success === \"function\") {\r\n                            success(resultWindow);\r\n                        }\r\n                        return resolve(resultWindow);\r\n                    }\r\n                    var un = onMaximized(function (win) {\r\n                        if (win.id === id && win.state === \"maximized\") {\r\n                            if (typeof success === \"function\") {\r\n                                success(resultWindow);\r\n                            }\r\n                            un();\r\n                            resolve(resultWindow);\r\n                        }\r\n                    });\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function restore(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.restore(resultWindow)\r\n                    .then(function () {\r\n                    if (_windowState === \"normal\") {\r\n                        if (typeof success === \"function\") {\r\n                            success(resultWindow);\r\n                        }\r\n                        return resolve(resultWindow);\r\n                    }\r\n                    var un = onNormal(function (win) {\r\n                        if (id === win.id && win.state === \"normal\") {\r\n                            if (typeof success === \"function\") {\r\n                                success(resultWindow);\r\n                            }\r\n                            un();\r\n                            resolve(resultWindow);\r\n                        }\r\n                    });\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function minimize(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.minimize(resultWindow)\r\n                    .then(function () {\r\n                    if (_windowState === \"minimized\") {\r\n                        if (typeof success === \"function\") {\r\n                            success(resultWindow);\r\n                        }\r\n                        return resolve(resultWindow);\r\n                    }\r\n                    var un = onMinimized(function (win) {\r\n                        if (id === win.id && win.state === \"minimized\") {\r\n                            if (typeof success === \"function\") {\r\n                                success(resultWindow);\r\n                            }\r\n                            un();\r\n                            return resolve(resultWindow);\r\n                        }\r\n                    });\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function collapse(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                if (isCollapsed) {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    return resolve(resultWindow);\r\n                }\r\n                executor.collapse(resultWindow)\r\n                    .then(function () {\r\n                    if (isCollapsed) {\r\n                        if (typeof success === \"function\") {\r\n                            success(resultWindow);\r\n                        }\r\n                        return resolve(resultWindow);\r\n                    }\r\n                    var un = onCollapsed(function (win) {\r\n                        if (win.id === id) {\r\n                            if (typeof success === \"function\") {\r\n                                success(resultWindow);\r\n                            }\r\n                            un();\r\n                            resolve(resultWindow);\r\n                        }\r\n                    });\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function expand(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                if (!isCollapsed) {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    return resolve(resultWindow);\r\n                }\r\n                executor.expand(resultWindow)\r\n                    .then(function () {\r\n                    if (!isCollapsed) {\r\n                        if (typeof success === \"function\") {\r\n                            success(resultWindow);\r\n                        }\r\n                        return resolve(resultWindow);\r\n                    }\r\n                    var un = onExpanded(function (win) {\r\n                        if (win.id === id) {\r\n                            if (typeof success === \"function\") {\r\n                                success(resultWindow);\r\n                            }\r\n                            un();\r\n                            resolve(resultWindow);\r\n                        }\r\n                    });\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function toggleCollapse(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                var currEvent = isCollapsed ? onExpanded : onCollapsed;\r\n                executor.toggleCollapse(resultWindow)\r\n                    .then(function () {\r\n                    currEvent(function (win) {\r\n                        if (win.id === id) {\r\n                            if (typeof success === \"function\") {\r\n                                success(resultWindow);\r\n                            }\r\n                            resolve(resultWindow);\r\n                        }\r\n                    });\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function snap(target, direction, success, error) {\r\n            var targetWindowGroup;\r\n            if (!target) {\r\n                return Promise.reject(\"Please specify a target window! calledWith: \" + target);\r\n            }\r\n            if (typeof target === \"string\") {\r\n                var targetWindow = windowStore.get(target);\r\n                if (!targetWindow) {\r\n                    return Promise.reject(new Error(\"Invalid target parameter or no such window. Invoked with:  \" + target));\r\n                }\r\n                targetWindowGroup = targetWindow.API.group;\r\n            }\r\n            else {\r\n                targetWindowGroup = target.group;\r\n            }\r\n            return Promise.all([\r\n                waitForMyWindowToJoinTargetGroup(targetWindowGroup),\r\n                executor.snap(resultWindow, target, direction)\r\n            ])\r\n                .then(function () {\r\n                if (typeof success === \"function\") {\r\n                    success(resultWindow);\r\n                }\r\n                return resultWindow;\r\n            })\r\n                .catch(function (e) {\r\n                if (typeof error === \"function\") {\r\n                    error(e);\r\n                }\r\n                return e;\r\n            });\r\n        }\r\n        function waitForMyWindowToJoinTargetGroup(targetGroup) {\r\n            return new Promise(function (resolve, reject) {\r\n                var unsub = targetGroup.onWindowAdded(function (_, window) {\r\n                    if (resultWindow.id === window.id) {\r\n                        unsub();\r\n                        resolve();\r\n                    }\r\n                });\r\n            });\r\n        }\r\n        function attachTab(tab, index, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                var sourceWindowId;\r\n                var targetWindowId = resultWindow.id;\r\n                var errorMessage = \"Invalid tab parameter - should be an object with property id or a string. Invoked for source window id:\" + resultWindow.id;\r\n                if (!tab) {\r\n                    reject(errorMessage);\r\n                    return;\r\n                }\r\n                if (typeof tab === \"string\") {\r\n                    sourceWindowId = tab;\r\n                }\r\n                else if (typeof tab.id !== \"undefined\") {\r\n                    sourceWindowId = tab.id;\r\n                }\r\n                else {\r\n                    reject(errorMessage);\r\n                    return;\r\n                }\r\n                var argsForSend = {\r\n                    sourceWindowId: sourceWindowId,\r\n                    targetWindowId: targetWindowId,\r\n                };\r\n                if (index) {\r\n                    argsForSend.index = index;\r\n                }\r\n                var sourceWin = windowStore.get(argsForSend.sourceWindowId).API;\r\n                var un = sourceWin.onAttached(function (win) {\r\n                    if (win.id === sourceWin.id) {\r\n                        if (typeof success === \"function\") {\r\n                            success(resultWindow);\r\n                        }\r\n                        un();\r\n                        resolve(resultWindow);\r\n                    }\r\n                });\r\n                executor.attachTab(resultWindow, argsForSend)\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    un();\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function detachTab(opt, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                var argsForSend = { windowId: resultWindow.id };\r\n                var _options = opt || {};\r\n                if (typeof _options.relativeTo !== \"undefined\") {\r\n                    if (typeof _options.relativeTo === \"string\") {\r\n                        argsForSend.relativeTo = _options.relativeTo;\r\n                    }\r\n                    else if (typeof _options.relativeTo.id !== \"undefined\") {\r\n                        argsForSend.relativeTo = _options.relativeTo.id;\r\n                    }\r\n                    if (typeof _options.relativeDirection !== \"undefined\") {\r\n                        argsForSend.relativeDirection = _options.relativeDirection;\r\n                    }\r\n                    if (typeof _options.width !== \"undefined\") {\r\n                        argsForSend.width = _options.width;\r\n                    }\r\n                    if (typeof _options.height !== \"undefined\") {\r\n                        argsForSend.height = _options.height;\r\n                    }\r\n                }\r\n                if (typeof _options.bounds !== \"undefined\") {\r\n                    argsForSend.bounds = _options.bounds;\r\n                }\r\n                if (typeof _options.hideTabHeader !== \"undefined\") {\r\n                    argsForSend.hideTabHeader = _options.hideTabHeader;\r\n                }\r\n                var visibilityChangeHeard = false;\r\n                var detachedHeard = false;\r\n                var unVisibility = _registry.add(\"frame-attached\", (function (win) {\r\n                    var isVisibilityCorrect = _options.hideTabHeader === undefined || _options.hideTabHeader !== win.isTabHeaderVisible;\r\n                    if (id === win.id && isVisibilityCorrect) {\r\n                        visibilityChangeHeard = true;\r\n                        unVisibility();\r\n                        if (detachedHeard) {\r\n                            if (typeof success === \"function\") {\r\n                                success(resultWindow);\r\n                            }\r\n                            resolve(resultWindow);\r\n                            if (typeof unDetached === \"function\") {\r\n                                unDetached();\r\n                            }\r\n                        }\r\n                    }\r\n                }));\r\n                var unDetached = onDetached(function (win) {\r\n                    if (id === win.id) {\r\n                        detachedHeard = true;\r\n                        unDetached();\r\n                        if (visibilityChangeHeard) {\r\n                            if (typeof success === \"function\") {\r\n                                success(resultWindow);\r\n                            }\r\n                            resolve(resultWindow);\r\n                            if (typeof unVisibility === \"function\") {\r\n                                unVisibility();\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n                executor.detachTab(resultWindow, argsForSend)\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    unDetached();\r\n                    unVisibility();\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function setVisible(toBeVisible, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.setVisible(resultWindow, toBeVisible)\r\n                    .then(function () {\r\n                    var isVisibilityCorrect = toBeVisible === undefined ? _isVisible === true : _isVisible === toBeVisible;\r\n                    if (isVisibilityCorrect) {\r\n                        if (typeof success === \"function\") {\r\n                            success(resultWindow);\r\n                        }\r\n                        return resolve(resultWindow);\r\n                    }\r\n                    var un = onVisibilityChanged(function (win) {\r\n                        isVisibilityCorrect = toBeVisible === undefined ? win.isVisible === true : win.isVisible === toBeVisible;\r\n                        if (win.id === id && isVisibilityCorrect) {\r\n                            if (typeof success === \"function\") {\r\n                                success(resultWindow);\r\n                            }\r\n                            un();\r\n                            resolve(resultWindow);\r\n                        }\r\n                    });\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function showLoader(loader) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.showLoader(resultWindow, loader)\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function hideLoader() {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.hideLoader(resultWindow)\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function updateContext(context, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.updateContext(resultWindow, context)\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function lock(success, error) {\r\n            if (resultWindow.isLocked) {\r\n                if (typeof success === \"function\") {\r\n                    success(resultWindow);\r\n                }\r\n                return Promise.resolve(resultWindow);\r\n            }\r\n            return new Promise(function (resolve, reject) {\r\n                executor.lock(resultWindow)\r\n                    .then(function () { return waitForLockingChanged(); })\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function unlock(success, error) {\r\n            if (!resultWindow.isLocked) {\r\n                if (typeof success === \"function\") {\r\n                    success(resultWindow);\r\n                }\r\n                return Promise.resolve(resultWindow);\r\n            }\r\n            return new Promise(function (resolve, reject) {\r\n                executor.unlock(resultWindow)\r\n                    .then(function () { return waitForLockingChanged(); })\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function waitForLockingChanged() {\r\n            return new Promise(function (resolve) {\r\n                var un = onLockingChanged(function (window) {\r\n                    if (window.id === resultWindow.id) {\r\n                        un();\r\n                        resolve();\r\n                    }\r\n                });\r\n            });\r\n        }\r\n        function getIcon(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.getIcon(resultWindow)\r\n                    .then(function (icon) {\r\n                    if (typeof success === \"function\") {\r\n                        success(icon);\r\n                    }\r\n                    resolve(icon);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function setIcon(base64Image, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.setIcon(resultWindow, base64Image)\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function setFrameColor(frameColor, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.setFrameColor(resultWindow, frameColor)\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function setTabHeaderVisible(toBeTabHeaderVisible, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.setTabHeaderVisible(resultWindow, toBeTabHeaderVisible)\r\n                    .then(function () {\r\n                    if (_isTabHeaderVisible === toBeTabHeaderVisible) {\r\n                        if (typeof success === \"function\") {\r\n                            success(resultWindow);\r\n                        }\r\n                        return resolve(resultWindow);\r\n                    }\r\n                    var un = onTabHeaderVisibilityChanged(function (win) {\r\n                        if (win.id === id && win.isTabHeaderVisible === toBeTabHeaderVisible) {\r\n                            if (typeof success === \"function\") {\r\n                                success(resultWindow);\r\n                            }\r\n                            un();\r\n                            resolve(resultWindow);\r\n                        }\r\n                    });\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function setTabTooltip(tooltip) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    if (!tooltip) {\r\n                        throw new Error(tooltip + \" is null or undefined\");\r\n                    }\r\n                    return [2, executor.setTabTooltip(resultWindow, tooltip)];\r\n                });\r\n            });\r\n        }\r\n        function showPopup(config) {\r\n            return executor.showPopup(resultWindow, config);\r\n        }\r\n        function createFlydown(config) {\r\n            return executor.createFlydown(resultWindow.id, config);\r\n        }\r\n        function setModalState(isModal) {\r\n            return executor.setModalState(resultWindow.id, isModal || false);\r\n        }\r\n        function zoomIn(success, error) {\r\n            return Utils$1.callbackifyPromise(function () {\r\n                return executor.zoomIn(resultWindow);\r\n            }, success, error);\r\n        }\r\n        function zoomOut(success, error) {\r\n            return Utils$1.callbackifyPromise(function () {\r\n                return executor.zoomOut(resultWindow);\r\n            }, success, error);\r\n        }\r\n        function setZoomFactor(zoomFactor, success, error) {\r\n            return Utils$1.callbackifyPromise(function () {\r\n                if (isNaN(zoomFactor)) {\r\n                    throw new Error(\"zoomFactor is not a number\");\r\n                }\r\n                return executor.setZoomFactor(resultWindow, zoomFactor);\r\n            }, success, error);\r\n        }\r\n        function showDevTools() {\r\n            return executor.showDevTools(resultWindow);\r\n        }\r\n        function capture(captureOptions) {\r\n            return executor.capture(resultWindow, captureOptions);\r\n        }\r\n        function flash(suppliedOptions, mode) {\r\n            var flashOptions = {\r\n                shouldFlash: true,\r\n                mode: \"auto\"\r\n            };\r\n            if (typeof suppliedOptions === \"boolean\") {\r\n                flashOptions.shouldFlash = suppliedOptions;\r\n            }\r\n            if (typeof mode !== \"undefined\") {\r\n                flashOptions.mode = mode;\r\n            }\r\n            return executor.flash(resultWindow, flashOptions);\r\n        }\r\n        function print(printOptions) {\r\n            return executor.print(resultWindow, printOptions);\r\n        }\r\n        function printToPDF(printToPDFOptions) {\r\n            return executor.printToPDF(resultWindow, printToPDFOptions);\r\n        }\r\n        function onTitleChanged(callback) {\r\n            callback(resultWindow.title, resultWindow);\r\n            return _registry.add(\"onTitleChanged\", callback);\r\n        }\r\n        function onClose(callback) {\r\n            return _registry.add(\"onClose\", callback);\r\n        }\r\n        function onUrlChanged(callback) {\r\n            return _registry.add(\"onUrlChanged\", callback);\r\n        }\r\n        function onFrameButtonAdded(callback) {\r\n            return _registry.add(\"onFrameButtonAdded\", callback);\r\n        }\r\n        function onFrameButtonRemoved(callback) {\r\n            return _registry.add(\"onFrameButtonRemoved\", callback);\r\n        }\r\n        function onFrameButtonClicked(callback) {\r\n            return _registry.add(\"onFrameButtonClicked\", callback);\r\n        }\r\n        function onCollapsed(callback) {\r\n            if (isCollapsed) {\r\n                callback(resultWindow);\r\n            }\r\n            return _registry.add(\"collapsed\", callback);\r\n        }\r\n        function onExpanded(callback) {\r\n            if (!isCollapsed) {\r\n                callback(resultWindow);\r\n            }\r\n            return _registry.add(\"expanded\", callback);\r\n        }\r\n        function onMaximized(callback) {\r\n            if (_windowState === \"maximized\") {\r\n                callback(resultWindow);\r\n            }\r\n            return _registry.add(\"maximized\", callback);\r\n        }\r\n        function onMinimized(callback) {\r\n            if (_windowState === \"minimized\") {\r\n                callback(resultWindow);\r\n            }\r\n            return _registry.add(\"minimized\", callback);\r\n        }\r\n        function onNormal(callback) {\r\n            if (_windowState === \"normal\") {\r\n                callback(resultWindow);\r\n            }\r\n            return _registry.add(\"normal\", callback);\r\n        }\r\n        function onAttached(callback) {\r\n            return _registry.add(\"attached\", callback);\r\n        }\r\n        function onDetached(callback) {\r\n            return _registry.add(\"detached\", callback);\r\n        }\r\n        function onVisibilityChanged(callback) {\r\n            return _registry.add(\"visibility-changed\", callback);\r\n        }\r\n        function onContextUpdated(callback) {\r\n            return _registry.add(\"context-updated\", callback);\r\n        }\r\n        function onLockingChanged(callback) {\r\n            return _registry.add(\"lock-changed\", callback);\r\n        }\r\n        function onBoundsChanged(callback) {\r\n            return _registry.add(\"bounds-changed\", callback);\r\n        }\r\n        function onFocusChanged(callback) {\r\n            return _registry.add(\"focus-changed\", callback);\r\n        }\r\n        function onStickyChanged(callback) {\r\n            return _registry.add(\"sticky-changed\", callback);\r\n        }\r\n        function onFrameColorChanged(callback) {\r\n            return _registry.add(\"frame-color-changed\", callback);\r\n        }\r\n        function onTabHeaderVisibilityChanged(callback) {\r\n            return _registry.add(\"tab-header-visibility-changed\", callback);\r\n        }\r\n        function onWindowAttached(callback) {\r\n            return _registry.add(\"window-attached\", callback);\r\n        }\r\n        function onWindowDetached(callback) {\r\n            return _registry.add(\"window-detached\", callback);\r\n        }\r\n        function onGroupChanged(callback) {\r\n            return _registry.add(\"group-changed\", callback);\r\n        }\r\n        function onTabSelectionChanged(callback) {\r\n            return _registry.add(\"tab-selection-changed\", callback);\r\n        }\r\n        function onClosing(callback) {\r\n            if (!isFunction(callback)) {\r\n                throw new Error(\"callback should be a function\");\r\n            }\r\n            var callbackWrap = function (success, error) {\r\n                var promise = callback();\r\n                if (promise && promise.then) {\r\n                    promise.then(success).catch(error);\r\n                }\r\n                else {\r\n                    success();\r\n                }\r\n            };\r\n            return executor.onClosing(callbackWrap, id);\r\n        }\r\n        function onRefreshing(callback) {\r\n            if (!isFunction(callback)) {\r\n                throw new Error(\"callback should be a function\");\r\n            }\r\n            var callbackWrap = function (success, error, prevent) {\r\n                var promise = callback(prevent);\r\n                if (promise && promise.then) {\r\n                    promise.then(success).catch(error);\r\n                }\r\n                else {\r\n                    success();\r\n                }\r\n            };\r\n            return executor.onRefreshing(callbackWrap, id);\r\n        }\r\n        function onZoomFactorChanged(callback) {\r\n            if (!isFunction(callback)) {\r\n                throw new Error(\"callback should be a function\");\r\n            }\r\n            return _registry.add(\"zoom-factor-changed\", callback);\r\n        }\r\n        function handleTitleChanged(newTitle) {\r\n            _title = newTitle;\r\n            _registry.execute(\"onTitleChanged\", newTitle, resultWindow);\r\n        }\r\n        function handleUrlChanged(newUrl) {\r\n            _url = newUrl;\r\n            _registry.execute(\"onUrlChanged\", newUrl, resultWindow);\r\n        }\r\n        function handleVisibilityChanged(isVisible) {\r\n            if (isVisible === _isVisible) {\r\n                return;\r\n            }\r\n            _isVisible = isVisible;\r\n            _registry.execute(\"visibility-changed\", resultWindow);\r\n        }\r\n        function handleWindowSettingsChanged(settings) {\r\n            _settings = settings;\r\n            _registry.execute(\"settings-changed\", resultWindow);\r\n        }\r\n        function handleContextUpdated(context) {\r\n            _context = context;\r\n            _registry.execute(\"context-updated\", _context, resultWindow);\r\n        }\r\n        function handleWindowClose() {\r\n            if (resultWindow.id === undefined) {\r\n                return;\r\n            }\r\n            resultWindow.id = undefined;\r\n            _registry.execute(\"onClose\", resultWindow);\r\n        }\r\n        function handleFrameButtonAdded(frameButton) {\r\n            var buttonObj = [\"buttonId\", \"imageBase64\", \"order\", \"tooltip\"].reduce(function (memo, k) {\r\n                memo[k] = frameButton[k];\r\n                return memo;\r\n            }, {});\r\n            var frameButtonsIds = _frameButtons.map(function (btn) {\r\n                return btn.buttonId;\r\n            });\r\n            if (frameButtonsIds.indexOf(frameButton.buttonId) === -1) {\r\n                _frameButtons.push(buttonObj);\r\n            }\r\n            _registry.execute(\"onFrameButtonAdded\", buttonObj, resultWindow);\r\n        }\r\n        function handleFrameButtonRemoved(frameButtonId) {\r\n            var button;\r\n            _frameButtons = _frameButtons.reduce(function (memo, btn) {\r\n                if (btn.buttonId === frameButtonId) {\r\n                    button = btn;\r\n                }\r\n                else {\r\n                    memo.push(btn);\r\n                }\r\n                return memo;\r\n            }, []);\r\n            if (button !== undefined) {\r\n                _registry.execute(\"onFrameButtonRemoved\", button, resultWindow);\r\n            }\r\n        }\r\n        function handleFrameButtonClicked(frameButton) {\r\n            var button = _frameButtons.filter(function (btn) {\r\n                return btn.buttonId === frameButton.buttonId;\r\n            });\r\n            if (button.length > 0) {\r\n                _registry.execute(\"onFrameButtonClicked\", button[0], resultWindow);\r\n            }\r\n        }\r\n        function handleWindowChangeState(state) {\r\n            if (state === \"collapsed\") {\r\n                isCollapsed = true;\r\n            }\r\n            else if (state === \"expanded\") {\r\n                isCollapsed = false;\r\n            }\r\n            else {\r\n                _windowState = state;\r\n            }\r\n            _registry.execute(state, resultWindow);\r\n        }\r\n        function handleFrameIsLockedChanged(isLocked) {\r\n            _isLocked = isLocked;\r\n            _registry.execute(\"lock-changed\", resultWindow);\r\n        }\r\n        function handleBoundsChanged(bounds) {\r\n            if (_bounds.top === bounds.top && _bounds.left === bounds.left && _bounds.width === bounds.width && _bounds.height === bounds.height) {\r\n                return;\r\n            }\r\n            _bounds.top = bounds.top;\r\n            _bounds.left = bounds.left;\r\n            _bounds.width = bounds.width;\r\n            _bounds.height = bounds.height;\r\n            _registry.execute(\"bounds-changed\", resultWindow);\r\n        }\r\n        function handleFocusChanged(isFocused) {\r\n            _focus = isFocused;\r\n            _registry.execute(\"focus-changed\", resultWindow);\r\n        }\r\n        function handleIsStickyChanged(isSticky) {\r\n            _isSticky = isSticky;\r\n            _registry.execute(\"sticky-changed\", isSticky, resultWindow);\r\n        }\r\n        function handleFrameColorChanged(frameColor) {\r\n            _frameColor = frameColor;\r\n            _registry.execute(\"frame-color-changed\", resultWindow);\r\n        }\r\n        function handleFrameAttached(tabGroupId, isTabHeaderVisible) {\r\n            _tabGroupId = tabGroupId;\r\n            _isTabHeaderVisible = isTabHeaderVisible;\r\n            _registry.execute(\"frame-attached\", resultWindow);\r\n        }\r\n        function handleCompositionChanged(neighbours, groupId) {\r\n            _neighbours = neighbours || {};\r\n            _groupId = groupId;\r\n        }\r\n        function handleGroupHeaderVisibilityChanged(isGroupHeaderVisible) {\r\n            _isGroupHeaderVisible = isGroupHeaderVisible;\r\n        }\r\n        function handleTabHeaderVisibilityChanged(isTabHeaderVisible) {\r\n            if (_isTabHeaderVisible !== isTabHeaderVisible) {\r\n                _isTabHeaderVisible = isTabHeaderVisible;\r\n                _registry.execute(\"tab-header-visibility-changed\", resultWindow);\r\n            }\r\n        }\r\n        function handleFrameSelectionChanged(newWindow, prevWindow) {\r\n            var selectedWindow;\r\n            if (typeof newWindow !== \"undefined\" && newWindow === id) {\r\n                _isTabSelected = true;\r\n                selectedWindow = resultWindow;\r\n            }\r\n            else {\r\n                _isTabSelected = false;\r\n                selectedWindow = windowStore.get(newWindow) ? windowStore.get(newWindow).API : undefined;\r\n            }\r\n            var previousWindow = windowStore.get(prevWindow) ? windowStore.get(prevWindow).API : undefined;\r\n            if (_isTabSelected && previousWindow) {\r\n                var un_1 = previousWindow.onTabSelectionChanged(function (newWin, prevWin) {\r\n                    if ((prevWin && prevWin.id) === previousWindow.id) {\r\n                        un_1();\r\n                        _registry.execute(\"tab-selection-changed\", selectedWindow, previousWindow, resultWindow);\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                _registry.execute(\"tab-selection-changed\", selectedWindow, previousWindow, resultWindow);\r\n            }\r\n        }\r\n        function handleAttached(newTabGroupId, tabHeaderVisible) {\r\n            _tabGroupId = newTabGroupId;\r\n            _isTabHeaderVisible = tabHeaderVisible;\r\n            _registry.execute(\"attached\", resultWindow);\r\n        }\r\n        function handleWindowAttached(win) {\r\n            _registry.execute(\"window-attached\", win);\r\n        }\r\n        function handleDetached(tabGroupId) {\r\n            _tabGroupId = tabGroupId;\r\n            var un = _registry.add(\"frame-attached\", function (win) {\r\n                if (win.id === id) {\r\n                    un();\r\n                    _registry.execute(\"detached\", resultWindow);\r\n                }\r\n            });\r\n        }\r\n        function handleWindowDetached(win) {\r\n            _registry.execute(\"window-detached\", win);\r\n        }\r\n        function handleZoomFactorChanged(zoomFactor) {\r\n            _zoomFactor = zoomFactor;\r\n            _registry.execute(\"zoom-factor-changed\", resultWindow);\r\n        }\r\n        function handleGroupChanged(newGroup, oldGroup) {\r\n            _logger.trace(\"handle group changed to win: \" + id + \" with group id: \" + newGroup.id);\r\n            _group = newGroup;\r\n            _groupId = newGroup.id;\r\n            _registry.execute(\"group-changed\", resultWindow, newGroup, oldGroup);\r\n        }\r\n        function handleGroupAssociation(group) {\r\n            if (group) {\r\n                _logger.trace(\"setting group to win: \" + id + \" with group id: \" + group.id);\r\n            }\r\n            _group = group;\r\n        }\r\n        function getAllTabs() {\r\n            var allWindows = windowStore.list;\r\n            if (_mode.toLowerCase() !== \"tab\") {\r\n                return [];\r\n            }\r\n            return Object.keys(allWindows).reduce(function (memo, win) {\r\n                var window = allWindows[win];\r\n                if (window\r\n                    && window.API.tabGroupId\r\n                    && typeof window.API.tabGroupId !== \"undefined\"\r\n                    && typeof resultWindow.tabGroupId !== \"undefined\"\r\n                    && window.API.tabGroupId === resultWindow.tabGroupId) {\r\n                    memo.push(window.API);\r\n                }\r\n                return memo;\r\n            }, []);\r\n        }\r\n        function mapWindowIdsToWindowObjects(windowIdArr) {\r\n            return windowIdArr.reduce(function (memo, winId) {\r\n                var window = windowStore.get(winId);\r\n                if (window) {\r\n                    memo.push(window.API);\r\n                }\r\n                return memo;\r\n            }, []);\r\n        }\r\n        function getNeighboursByDirection(direction) {\r\n            var windowIds = _neighbours[direction];\r\n            if (typeof windowIds !== \"undefined\") {\r\n                return mapWindowIdsToWindowObjects(windowIds);\r\n            }\r\n        }\r\n        function getApplicationName() {\r\n            if (_context._APPLICATION_NAME) {\r\n                return _context._APPLICATION_NAME;\r\n            }\r\n            if (_context && _context._t42 && _context._t42.application) {\r\n                return _context._t42.application;\r\n            }\r\n            var info = getWindowInfo();\r\n            if (!info) {\r\n                return undefined;\r\n            }\r\n            return info.applicationName;\r\n        }\r\n        function getWindowInfo() {\r\n            if (typeof window !== \"undefined\" && window.glue42gd && window.glue42gd.getWindowInfo) {\r\n                var info = window.glue42gd.getWindowInfo(id);\r\n                if (!info) {\r\n                    return undefined;\r\n                }\r\n                else {\r\n                    return info;\r\n                }\r\n            }\r\n        }\r\n        function areBoundsEqual(requested, current) {\r\n            var height = requested.height;\r\n            var width = requested.width;\r\n            if (requested.height < _settings.minHeight) {\r\n                height = _settings.minHeight;\r\n            }\r\n            if (requested.height > _settings.maxHeight) {\r\n                height = _settings.maxHeight;\r\n            }\r\n            if (requested.width < _settings.minWidth) {\r\n                width = _settings.minWidth;\r\n            }\r\n            if (requested.width > _settings.maxWidth) {\r\n                width = _settings.maxWidth;\r\n            }\r\n            var areHeightsEqual = height ? current.height === height : true;\r\n            var areWidthsEqual = width ? current.width === width : true;\r\n            var areLeftsEqual = requested.left ? current.left === requested.left : true;\r\n            var areTopsEqual = requested.top ? current.top === requested.top : true;\r\n            return areHeightsEqual && areWidthsEqual && areLeftsEqual && areTopsEqual;\r\n        }\r\n        resultWindow = {\r\n            get name() {\r\n                return _name;\r\n            },\r\n            get application() {\r\n                var appManager = appManagerGetter();\r\n                return appManager ? appManager.application(getApplicationName()) : undefined;\r\n            },\r\n            get hostInstance() {\r\n                return executor.hostInstance;\r\n            },\r\n            get agmInstance() {\r\n                var _this = this;\r\n                if (typeof window !== \"undefined\" && window.glue42gd) {\r\n                    return agm.servers().find(function (s) { return s.windowId === _this.id; });\r\n                }\r\n                var appName = getApplicationName();\r\n                return appName ? { application: appName } : undefined;\r\n            },\r\n            get url() {\r\n                return _url;\r\n            },\r\n            id: id,\r\n            get title() {\r\n                return _title;\r\n            },\r\n            get windowStyleAttributes() {\r\n                return _settings;\r\n            },\r\n            get settings() {\r\n                return _settings;\r\n            },\r\n            get tabGroupId() {\r\n                return _mode.toLowerCase() === \"tab\" ? _tabGroupId : undefined;\r\n            },\r\n            get frameButtons() {\r\n                return _frameButtons;\r\n            },\r\n            get mode() {\r\n                return _mode;\r\n            },\r\n            get state() {\r\n                return _windowState;\r\n            },\r\n            get isCollapsed() {\r\n                return isCollapsed;\r\n            },\r\n            get isVisible() {\r\n                return _isVisible;\r\n            },\r\n            get isLocked() {\r\n                return _isLocked;\r\n            },\r\n            get context() {\r\n                return _context;\r\n            },\r\n            get bounds() {\r\n                return _bounds;\r\n            },\r\n            get minHeight() {\r\n                return _settings.minHeight;\r\n            },\r\n            get maxHeight() {\r\n                return _settings.maxHeight;\r\n            },\r\n            get minWidth() {\r\n                return _settings.minWidth;\r\n            },\r\n            get maxWidth() {\r\n                return _settings.maxWidth;\r\n            },\r\n            get isFocused() {\r\n                return _focus;\r\n            },\r\n            get frameColor() {\r\n                return _frameColor;\r\n            },\r\n            get opened() {\r\n                return resultWindow.id !== undefined;\r\n            },\r\n            get group() {\r\n                return _group;\r\n            },\r\n            get groupId() {\r\n                return _groupId;\r\n            },\r\n            get isSticky() {\r\n                return _isSticky;\r\n            },\r\n            get topNeighbours() {\r\n                return getNeighboursByDirection(\"top\");\r\n            },\r\n            get leftNeighbours() {\r\n                return getNeighboursByDirection(\"left\");\r\n            },\r\n            get rightNeighbours() {\r\n                return getNeighboursByDirection(\"right\");\r\n            },\r\n            get bottomNeighbours() {\r\n                return getNeighboursByDirection(\"bottom\");\r\n            },\r\n            get isGroupHeaderVisible() {\r\n                return _isGroupHeaderVisible;\r\n            },\r\n            get activityId() {\r\n                if (_context._t42) {\r\n                    return _context._t42.activityId;\r\n                }\r\n                var info = getWindowInfo();\r\n                if (!info) {\r\n                    return undefined;\r\n                }\r\n                return info.activityId;\r\n            },\r\n            get activityWindowId() {\r\n                if (_context._t42) {\r\n                    return _context._t42.activityWindowId;\r\n                }\r\n                var info = getWindowInfo();\r\n                if (!info) {\r\n                    return undefined;\r\n                }\r\n                return info.activityWindowId;\r\n            },\r\n            get windowType() {\r\n                return options.windowType || \"electron\";\r\n            },\r\n            get zoomFactor() {\r\n                return _zoomFactor;\r\n            },\r\n            get screen() {\r\n                if (typeof window !== \"undefined\" && window.glue42gd) {\r\n                    return Utils$1.getMonitor(resultWindow.bounds, window.glue42gd.monitors);\r\n                }\r\n                return undefined;\r\n            },\r\n            maximize: maximize,\r\n            restore: restore,\r\n            minimize: minimize,\r\n            maximizeRestore: maximizeRestore,\r\n            collapse: collapse,\r\n            expand: expand,\r\n            toggleCollapse: toggleCollapse,\r\n            focus: focus,\r\n            activate: activate,\r\n            moveResize: moveResize,\r\n            setTitle: setTitle,\r\n            setStyle: setStyle,\r\n            setOnTop: setOnTop,\r\n            resetButtons: resetButtons,\r\n            setSizeConstraints: setSizeConstraints,\r\n            navigate: navigate,\r\n            addFrameButton: addFrameButton,\r\n            removeFrameButton: removeFrameButton,\r\n            setVisible: setVisible,\r\n            show: function () { return setVisible(true); },\r\n            hide: function () { return setVisible(false); },\r\n            center: function (screen) { return moveResize(Utils$1.getDisplayCenterOfScreen(resultWindow.bounds, screen || resultWindow.screen)); },\r\n            close: close,\r\n            snap: snap,\r\n            showLoader: showLoader,\r\n            hideLoader: hideLoader,\r\n            updateContext: updateContext,\r\n            lock: lock,\r\n            unlock: unlock,\r\n            getIcon: getIcon,\r\n            setIcon: setIcon,\r\n            setFrameColor: setFrameColor,\r\n            setTabTooltip: setTabTooltip,\r\n            attachTab: attachTab,\r\n            detachTab: detachTab,\r\n            setTabHeaderVisible: setTabHeaderVisible,\r\n            showPopup: showPopup,\r\n            createFlydown: createFlydown,\r\n            setModalState: setModalState,\r\n            setZoomFactor: setZoomFactor,\r\n            zoomIn: zoomIn,\r\n            zoomOut: zoomOut,\r\n            showDevTools: showDevTools,\r\n            capture: capture,\r\n            flash: flash,\r\n            setSticky: setSticky,\r\n            print: print,\r\n            printToPDF: printToPDF,\r\n            onClose: onClose,\r\n            onUrlChanged: onUrlChanged,\r\n            onTitleChanged: onTitleChanged,\r\n            onFrameButtonAdded: onFrameButtonAdded,\r\n            onFrameButtonRemoved: onFrameButtonRemoved,\r\n            onFrameButtonClicked: onFrameButtonClicked,\r\n            onCollapsed: onCollapsed,\r\n            onExpanded: onExpanded,\r\n            onMinimized: onMinimized,\r\n            onMaximized: onMaximized,\r\n            onNormal: onNormal,\r\n            onAttached: onAttached,\r\n            onDetached: onDetached,\r\n            onVisibilityChanged: onVisibilityChanged,\r\n            onContextUpdated: onContextUpdated,\r\n            onLockingChanged: onLockingChanged,\r\n            onBoundsChanged: onBoundsChanged,\r\n            onFrameColorChanged: onFrameColorChanged,\r\n            onFocusChanged: onFocusChanged,\r\n            onStickyChanged: onStickyChanged,\r\n            onGroupChanged: onGroupChanged,\r\n            onWindowAttached: onWindowAttached,\r\n            onWindowDetached: onWindowDetached,\r\n            onTabSelectionChanged: onTabSelectionChanged,\r\n            onTabHeaderVisibilityChanged: onTabHeaderVisibilityChanged,\r\n            onClosing: onClosing,\r\n            onRefreshing: onRefreshing,\r\n            onZoomFactorChanged: onZoomFactorChanged,\r\n            get tabs() {\r\n                return getAllTabs();\r\n            },\r\n            get isTabHeaderVisible() {\r\n                return _isTabHeaderVisible;\r\n            },\r\n            get isTabSelected() {\r\n                return _isTabSelected;\r\n            },\r\n            getURL: function () {\r\n                return Promise.resolve(_url);\r\n            },\r\n            getTitle: function () {\r\n                return Promise.resolve(_title);\r\n            },\r\n            getBounds: function () {\r\n                return Promise.resolve(_bounds);\r\n            },\r\n            getContext: function () {\r\n                return Promise.resolve(_context);\r\n            },\r\n            setContext: function (context) {\r\n                return updateContext(context);\r\n            },\r\n            resizeTo: function (width, height) {\r\n                return moveResize({ width: width, height: height });\r\n            },\r\n            moveTo: function (top, left) {\r\n                return moveResize({ top: top, left: left });\r\n            },\r\n            getParentWindow: function () {\r\n                var _a;\r\n                return __awaiter(this, void 0, void 0, function () {\r\n                    var myParentId;\r\n                    return __generator(this, function (_b) {\r\n                        myParentId = _settings.parentInstanceId;\r\n                        if (!myParentId) {\r\n                            return [2, undefined];\r\n                        }\r\n                        return [2, (_a = windowStore.list[myParentId]) === null || _a === void 0 ? void 0 : _a.API];\r\n                    });\r\n                });\r\n            },\r\n            getChildWindows: function () {\r\n                return __awaiter(this, void 0, void 0, function () {\r\n                    return __generator(this, function (_a) {\r\n                        return [2, Object.keys(windowStore.list)\r\n                                .map(function (key) { return windowStore.list[key].API; })\r\n                                .filter(function (w) {\r\n                                var parentId = w.settings.parentInstanceId;\r\n                                return parentId === id;\r\n                            })];\r\n                    });\r\n                });\r\n            }\r\n        };\r\n        var events = {\r\n            handleWindowClose: handleWindowClose,\r\n            handleWindowChangeState: handleWindowChangeState,\r\n            handleTitleChanged: handleTitleChanged,\r\n            handleVisibilityChanged: handleVisibilityChanged,\r\n            handleUrlChanged: handleUrlChanged,\r\n            handleWindowSettingsChanged: handleWindowSettingsChanged,\r\n            handleContextUpdated: handleContextUpdated,\r\n            handleFrameIsLockedChanged: handleFrameIsLockedChanged,\r\n            handleBoundsChanged: handleBoundsChanged,\r\n            handleFocusChanged: handleFocusChanged,\r\n            handleFrameButtonAdded: handleFrameButtonAdded,\r\n            handleFrameButtonRemoved: handleFrameButtonRemoved,\r\n            handleFrameButtonClicked: handleFrameButtonClicked,\r\n            handleFrameColorChanged: handleFrameColorChanged,\r\n            handleFrameAttached: handleFrameAttached,\r\n            handleFrameSelectionChanged: handleFrameSelectionChanged,\r\n            handleCompositionChanged: handleCompositionChanged,\r\n            handleGroupHeaderVisibilityChanged: handleGroupHeaderVisibilityChanged,\r\n            handleTabHeaderVisibilityChanged: handleTabHeaderVisibilityChanged,\r\n            handleGroupChanged: handleGroupChanged,\r\n            handleGroupAssociation: handleGroupAssociation,\r\n            handleAttached: handleAttached,\r\n            handleDetached: handleDetached,\r\n            handleWindowAttached: handleWindowAttached,\r\n            handleWindowDetached: handleWindowDetached,\r\n            handleZoomFactorChanged: handleZoomFactorChanged,\r\n            handleIsStickyChanged: handleIsStickyChanged,\r\n        };\r\n        return {\r\n            API: resultWindow,\r\n            Events: events,\r\n            Registry: _registry\r\n        };\r\n    });\n\n    var GDExecutor = (function () {\r\n        function GDExecutor() {\r\n            this._registry = lib$2();\r\n        }\r\n        Object.defineProperty(GDExecutor.prototype, \"hostInstance\", {\r\n            get: function () {\r\n                return this.agmTarget;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        GDExecutor.prototype.init = function (agm, instance) {\r\n            this.agm = agm;\r\n            this.agmTarget = instance;\r\n        };\r\n        GDExecutor.prototype.close = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"close\", { windowId: resultWindow.id })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.navigate = function (resultWindow, newUrl) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"navigate\", {\r\n                    windowId: resultWindow.id,\r\n                    options: {\r\n                        url: newUrl\r\n                    }\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.setStyle = function (resultWindow, style) {\r\n            var _a;\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var stylePromises, wait, toBeVisible, toolTip, maxWidth, maxHeight, minWidth, minHeight, allowClose, allowCollapse, allowLockUnlock, allowMaximize, allowMinimize;\r\n                return __generator(this, function (_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            stylePromises = [];\r\n                            wait = function (promise) { return stylePromises.push(promise); };\r\n                            if (style.focus !== undefined && !resultWindow.isFocused) {\r\n                                wait(resultWindow.focus());\r\n                            }\r\n                            if (style.hidden !== undefined) {\r\n                                toBeVisible = !style.hidden;\r\n                                wait(resultWindow.setVisible(toBeVisible));\r\n                            }\r\n                            if (style.onTop !== undefined) {\r\n                                wait(resultWindow.setOnTop(style.onTop));\r\n                            }\r\n                            if (style.tabTooltip !== undefined || style.tabToolTip !== undefined) {\r\n                                toolTip = (_a = style.tabTooltip, (_a !== null && _a !== void 0 ? _a : style.tabToolTip));\r\n                                wait(resultWindow.setTabTooltip(toolTip));\r\n                            }\r\n                            maxWidth = style.maxWidth, maxHeight = style.maxHeight, minWidth = style.minWidth, minHeight = style.minHeight, allowClose = style.allowClose, allowCollapse = style.allowCollapse, allowLockUnlock = style.allowLockUnlock, allowMaximize = style.allowMaximize, allowMinimize = style.allowMinimize;\r\n                            wait(resultWindow.setSizeConstraints({ maxWidth: maxWidth, maxHeight: maxHeight, minWidth: minWidth, minHeight: minHeight }));\r\n                            wait(resultWindow.resetButtons({ allowClose: allowClose, allowCollapse: allowCollapse, allowLockUnlock: allowLockUnlock, allowMaximize: allowMaximize, allowMinimize: allowMinimize }));\r\n                            return [4, Promise.all(stylePromises)];\r\n                        case 1:\r\n                            _b.sent();\r\n                            return [2, resultWindow];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.setSizeConstraints = function (resultWindow, constraints) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"setSizeConstraints\", {\r\n                    windowId: resultWindow.id,\r\n                    options: constraints\r\n                }).then(function () {\r\n                    resolve(resultWindow);\r\n                }).catch(reject);\r\n            });\r\n        };\r\n        GDExecutor.prototype.setTabTooltip = function (w, tabToolTip) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.execute(\"setTabTooltip\", { windowId: w.id, options: { tabToolTip: tabToolTip } })];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2, w];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.resetButtons = function (resultWindow, buttonsConfig) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"resetButtons\", {\r\n                    windowId: resultWindow.id,\r\n                    options: buttonsConfig\r\n                }).then(function () {\r\n                    resolve(resultWindow);\r\n                }).catch(reject);\r\n            });\r\n        };\r\n        GDExecutor.prototype.setOnTop = function (resultWindow, onTop) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"setOnTop\", {\r\n                    windowId: resultWindow.id,\r\n                    options: { onTop: onTop }\r\n                }).then(function () {\r\n                    resolve(resultWindow);\r\n                }).catch(reject);\r\n            });\r\n        };\r\n        GDExecutor.prototype.setTitle = function (resultWindow, newTitle) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                var options = {\r\n                    windowId: resultWindow.id,\r\n                    options: {\r\n                        title: newTitle\r\n                    }\r\n                };\r\n                _this.execute(\"setTitle\", options)\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.setSticky = function (resultWindow, isSticky) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                var options = {\r\n                    windowId: resultWindow.id,\r\n                    options: {\r\n                        isSticky: isSticky\r\n                    }\r\n                };\r\n                _this.execute(\"setSticky\", options)\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.moveResize = function (resultWindow, dimensions) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"moveResize\", {\r\n                    windowId: resultWindow.id,\r\n                    options: {\r\n                        bounds: dimensions\r\n                    }\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.addFrameButton = function (resultWindow, buttonInfo) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"addButton\", {\r\n                    windowId: resultWindow.id,\r\n                    options: buttonInfo\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.removeFrameButton = function (resultWindow, buttonId) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"removeButton\", {\r\n                    windowId: resultWindow.id,\r\n                    options: buttonId\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.activate = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"activate\", { windowId: resultWindow.id })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.focus = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"focus\", { windowId: resultWindow.id })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.maximizeRestore = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"maximizeRestore\", { windowId: resultWindow.id })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.maximize = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"maximize\", { windowId: resultWindow.id })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.restore = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"restore\", { windowId: resultWindow.id })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.minimize = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"minimize\", { windowId: resultWindow.id })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.collapse = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"collapse\", { windowId: resultWindow.id })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.expand = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"expand\", { windowId: resultWindow.id })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.toggleCollapse = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"toggleCollapse\", { windowId: resultWindow.id })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.snap = function (resultWindow, target, direction) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                var sourceWindowId = resultWindow.id;\r\n                var targetWindowId;\r\n                var errorMessage = \"Invalid target parameter - should be an object with property id or a string. Invoked for source window id:\" +\r\n                    resultWindow.id;\r\n                if (!target) {\r\n                    reject(errorMessage);\r\n                    return;\r\n                }\r\n                if (typeof target === \"string\") {\r\n                    targetWindowId = target;\r\n                }\r\n                else if (typeof target.id !== \"undefined\") {\r\n                    targetWindowId = target.id;\r\n                }\r\n                else {\r\n                    reject(errorMessage);\r\n                    return;\r\n                }\r\n                var args = {\r\n                    targetWindowId: targetWindowId\r\n                };\r\n                if (direction) {\r\n                    args.snappingEdge = direction;\r\n                }\r\n                _this.execute(\"snap\", {\r\n                    windowId: resultWindow.id,\r\n                    options: args\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.attachTab = function (resultWindow, options) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"attachTab\", {\r\n                    windowId: resultWindow.id,\r\n                    options: options\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.detachTab = function (resultWindow, options) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"detachTab\", {\r\n                    windowId: resultWindow.id,\r\n                    options: options\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.setVisible = function (resultWindow, toBeVisible) {\r\n            var _this = this;\r\n            if (toBeVisible === void 0) { toBeVisible = true; }\r\n            return new Promise(function (resolve, reject) {\r\n                var command;\r\n                if (toBeVisible) {\r\n                    command = \"show\";\r\n                }\r\n                else {\r\n                    command = \"hide\";\r\n                }\r\n                _this.execute(command, { windowId: resultWindow.id })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.showLoader = function (resultWindow, loader) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"showLoadingAnimation\", { windowId: resultWindow.id, options: loader })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.hideLoader = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"hideLoadingAnimation\", { windowId: resultWindow.id })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.updateContext = function (resultWindow, context) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"updateContext\", {\r\n                    windowId: resultWindow.id,\r\n                    context: context,\r\n                    replace: Object.keys(resultWindow.context).length > 0 ? false : true\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.lock = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"lockUnlock\", {\r\n                    windowId: resultWindow.id,\r\n                    options: {\r\n                        lock: true\r\n                    }\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.unlock = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"lockUnlock\", {\r\n                    windowId: resultWindow.id,\r\n                    options: {\r\n                        lock: false\r\n                    }\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.getIcon = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"getIcon\", {\r\n                    windowId: resultWindow.id,\r\n                    options: {}\r\n                })\r\n                    .then(function (result) {\r\n                    resolve(result.icon);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.setIcon = function (resultWindow, base64Image) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"setIcon\", {\r\n                    windowId: resultWindow.id,\r\n                    options: {\r\n                        dataURL: base64Image\r\n                    }\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.setFrameColor = function (resultWindow, frameColor) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"setFrameColor\", {\r\n                    windowId: resultWindow.id,\r\n                    options: {\r\n                        frameColor: frameColor\r\n                    }\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.setTabHeaderVisible = function (resultWindow, toBeTabHeaderVisible) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"setTabHeaderVisible\", {\r\n                    windowId: resultWindow.id,\r\n                    options: {\r\n                        toShow: toBeTabHeaderVisible\r\n                    }\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.showPopup = function (targetWindow, options) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var optionsCopy, reformatedOptions;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (!options) {\r\n                                return [2, Promise.reject(\"The options object is not valid!\")];\r\n                            }\r\n                            optionsCopy = __assign({}, options);\r\n                            if (!optionsCopy.targetLocation) {\r\n                                optionsCopy.targetLocation = \"bottom\";\r\n                            }\r\n                            reformatedOptions = __assign(__assign({}, optionsCopy), { popupBounds: optionsCopy.size, targetId: targetWindow.id, popupId: optionsCopy.windowId });\r\n                            return [4, this.execute(\"showPopupWindow\", {\r\n                                    windowId: targetWindow.id,\r\n                                    options: reformatedOptions\r\n                                })];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2, targetWindow];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.createFlydown = function (windowId, options) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var optionsCopy, fullOptions;\r\n                var _this = this;\r\n                return __generator(this, function (_a) {\r\n                    if (!options) {\r\n                        return [2, Promise.reject(\"The options object is not valid!\")];\r\n                    }\r\n                    optionsCopy = __assign({}, options);\r\n                    if (!optionsCopy.horizontalOffset) {\r\n                        optionsCopy.horizontalOffset = 0;\r\n                    }\r\n                    if (!optionsCopy.verticalOffset) {\r\n                        optionsCopy.verticalOffset = 0;\r\n                    }\r\n                    fullOptions = this.reformatFlydownOptions(windowId, optionsCopy);\r\n                    return [2, this.execute(\"setFlydownArea\", { windowId: windowId, options: fullOptions }).then(function () {\r\n                            var zoneIds = fullOptions.zones.map(function (z) { return z.id; });\r\n                            fullOptions.zones.forEach(function (z) {\r\n                                var callback = typeof (z.flydownSize) === \"function\" ?\r\n                                    z.flydownSize : function () { return z.flydownSize; };\r\n                                if (options.size instanceof Function && z.flydownSize) {\r\n                                    callback = function (data, cancel) { return __awaiter(_this, void 0, void 0, function () {\r\n                                        var result;\r\n                                        return __generator(this, function (_a) {\r\n                                            switch (_a.label) {\r\n                                                case 0:\r\n                                                    if (!(options.size instanceof Function)) return [3, 2];\r\n                                                    return [4, options.size(data, cancel)];\r\n                                                case 1:\r\n                                                    result = _a.sent();\r\n                                                    _a.label = 2;\r\n                                                case 2:\r\n                                                    if (!(z.flydownSize instanceof Function && z.flydownSize !== options.size)) return [3, 4];\r\n                                                    return [4, z.flydownSize(data, cancel)];\r\n                                                case 3: return [2, (_a.sent()) || result];\r\n                                                case 4: return [2, result || z.flydownSize];\r\n                                            }\r\n                                        });\r\n                                    }); };\r\n                                }\r\n                                _this._registry.clearKey(fullOptions.targetId + \"_\" + z.id);\r\n                                _this._registry.add(fullOptions.targetId + \"_\" + z.id, callback);\r\n                            });\r\n                            return {\r\n                                destroy: function () { return _this.clearFlydownArea(fullOptions.targetId, zoneIds); },\r\n                                options: optionsCopy\r\n                            };\r\n                        })];\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.setModalState = function (windowId, isModal) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    return [2, this.execute(\"setModalState\", { windowId: windowId, options: { isModal: isModal } })];\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.handleFlydownBoundsRequested = function (targetId, data) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var cancelCallback, callbackData, responses, defaultResponse, response, responseOptions;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            cancelCallback = function () { return data.cancel = true; };\r\n                            callbackData = {\r\n                                zoneId: data.flydownId,\r\n                                flydownWindowBounds: data.flydownWindowBounds,\r\n                                flydownWindowId: data.flydownWindowId,\r\n                            };\r\n                            return [4, Promise.all(this._registry.execute(targetId + \"_\" + data.flydownId, callbackData, cancelCallback))];\r\n                        case 1:\r\n                            responses = _a.sent();\r\n                            if (responses.length === 1) {\r\n                                defaultResponse = { height: 0, width: 0, top: 0, left: 0 };\r\n                                response = typeof (responses[0]) === \"object\" && !Array.isArray(responses[0]) ? responses[0] : defaultResponse;\r\n                                responseOptions = __assign(__assign({}, data), { flydownWindowBounds: response });\r\n                                return [2, responseOptions];\r\n                            }\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.zoomIn = function (window) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.execute(\"zoomIn\", {\r\n                                windowId: window.id,\r\n                            })];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2, window];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.zoomOut = function (window) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.execute(\"zoomOut\", {\r\n                                windowId: window.id,\r\n                            })];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2, window];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.setZoomFactor = function (window, zoomFactor) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.execute(\"setZoomFactor\", {\r\n                                windowId: window.id,\r\n                                options: {\r\n                                    zoomFactor: zoomFactor\r\n                                }\r\n                            })];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2, window];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.showDevTools = function (window) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.execute(\"showDevTools\", {\r\n                                windowId: window.id,\r\n                            })];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2, window];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.capture = function (window, options) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var base64screenshot;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.execute(\"captureScreenshot\", { windowId: window.id, options: __assign({}, options) })];\r\n                        case 1:\r\n                            base64screenshot = (_a.sent()).data;\r\n                            return [2, base64screenshot];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.captureGroup = function (windowIds, options) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var base64screenshot;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.execute(\"captureGroupScreenshot\", { windowId: windowIds[0], options: __assign({ groupWindowIds: windowIds }, options) })];\r\n                        case 1:\r\n                            base64screenshot = (_a.sent()).data;\r\n                            return [2, base64screenshot];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.flash = function (resultWindow, options) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.execute(\"flash\", { windowId: resultWindow.id, options: __assign({}, options) })];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2, resultWindow];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.configure = function (windowId, options) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    return [2, this.execute(\"configure\", { windowId: windowId, options: __assign({}, options) })];\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.print = function (resultWindow, options) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.execute(\"print\", { windowId: resultWindow.id, options: __assign({}, options) })];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2, resultWindow];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.printToPDF = function (resultWindow, options) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var filePath;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.execute(\"printToPDF\", { windowId: resultWindow.id, options: __assign({}, options) })];\r\n                        case 1:\r\n                            filePath = (_a.sent()).filePath;\r\n                            return [2, filePath];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.execute = function (command, options) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                var args = __assign(__assign({}, options), { command: command });\r\n                _this.agm\r\n                    .invoke(\"T42.Wnd.Execute\", args, _this.agmTarget)\r\n                    .then(function (i) {\r\n                    if (i.returned && i.returned.errorMsg) {\r\n                        reject(i);\r\n                    }\r\n                    else {\r\n                        resolve(i.returned);\r\n                    }\r\n                })\r\n                    .catch(function (i) {\r\n                    reject(i);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.setGroupHeaderVisible = function (windowId, toShow) {\r\n            return this.execute(\"setGroupHeaderVisibility\", {\r\n                windowId: windowId,\r\n                options: {\r\n                    toShow: toShow\r\n                }\r\n            });\r\n        };\r\n        GDExecutor.prototype.getGroupTitle = function (windowId) {\r\n            return this.execute(\"getGroupTitle\", {\r\n                windowId: windowId,\r\n                options: {}\r\n            }).then(function (r) { return r.title; });\r\n        };\r\n        GDExecutor.prototype.setGroupTitle = function (windowId, title) {\r\n            return this.execute(\"setGroupTitle\", {\r\n                windowId: windowId,\r\n                options: {\r\n                    title: title\r\n                }\r\n            });\r\n        };\r\n        GDExecutor.prototype.onClosing = function (callback, id) {\r\n            var glue42gd = typeof window !== \"undefined\" && window.glue42gd;\r\n            if (glue42gd) {\r\n                return glue42gd.addCloseHandler(callback, id);\r\n            }\r\n        };\r\n        GDExecutor.prototype.onRefreshing = function (callback, id) {\r\n            var glue42gd = typeof window !== \"undefined\" && window.glue42gd;\r\n            if (glue42gd) {\r\n                return glue42gd.addRefreshHandler(callback, id);\r\n            }\r\n        };\r\n        GDExecutor.prototype.reformatFlydownOptions = function (windowId, options) {\r\n            var assignGeneralIfUnassigned = function (zone, prop) {\r\n                if (options[prop] && (zone[prop] === undefined || zone[prop] === null)) {\r\n                    var valueFromOptions = options[prop];\r\n                    zone[prop] = valueFromOptions;\r\n                }\r\n            };\r\n            var zones = options.zones.map(function (z) {\r\n                assignGeneralIfUnassigned(z, \"windowId\");\r\n                assignGeneralIfUnassigned(z, \"targetLocation\");\r\n                if (options.size && (z.flydownSize === undefined || z.flydownSize === null)) {\r\n                    z.flydownSize = options.size;\r\n                }\r\n                z.flydownBounds = z.flydownSize;\r\n                z.flydownId = z.windowId;\r\n                if (!z.targetLocation) {\r\n                    z.targetLocation = \"bottom\";\r\n                }\r\n                return z;\r\n            });\r\n            return __assign(__assign({}, options), { zones: zones, targetId: windowId, flydownBounds: options.size, flydownActiveArea: options.activeArea });\r\n        };\r\n        GDExecutor.prototype.clearFlydownArea = function (windowId, areaIds) {\r\n            var _this = this;\r\n            return this.execute(\"clearFlydownWindowArea\", {\r\n                windowId: windowId,\r\n                options: {}\r\n            }).then(function () {\r\n                areaIds.forEach(function (id) {\r\n                    _this._registry.clearKey(windowId + \"_\" + id);\r\n                });\r\n            });\r\n        };\r\n        return GDExecutor;\r\n    }());\r\n    var executor = new GDExecutor();\n\n    function getWindowsByTabGroupId(windowId, tabGroupId) {\r\n        var windows = windowStore.list;\r\n        return Object.keys(windows).reduce(function (memo, id) {\r\n            var win = windows[id];\r\n            if (win.API.tabGroupId === tabGroupId && win.API.id !== windowId) {\r\n                memo[id] = win;\r\n            }\r\n            return memo;\r\n        }, {});\r\n    }\n\n    var GDEnvironment = (function () {\r\n        function GDEnvironment(agm, logger, appManagerGetter, instance, wndId) {\r\n            this._registry = lib$2();\r\n            this._waitTimeout = 10000;\r\n            this._agm = agm;\r\n            this._logger = logger.subLogger(\"gd-env\");\r\n            this._agmInstance = this.normalizeInstance(instance);\r\n            this._windowId = wndId;\r\n            this._appManagerGetter = appManagerGetter;\r\n        }\r\n        GDEnvironment.prototype.init = function () {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                if (typeof _this._agmInstance === \"undefined\") {\r\n                    _this._agmInstance = \"best\";\r\n                }\r\n                _this._agm.registerAsync(\"T42.Wnd.OnEventWithResponse\", function (args, caller, success, err) {\r\n                    _this.respondToEvent(args).then(success).catch(err);\r\n                });\r\n                var streamPromise = new Promise(function (streamResolve, streamReject) {\r\n                    _this._agm.subscribe(\"T42.Wnd.OnEvent\", {\r\n                        waitTimeoutMs: _this._waitTimeout,\r\n                        target: _this._agmInstance,\r\n                        onData: function (streamData) {\r\n                            _this.updateWindow(streamData.data, resolve);\r\n                        },\r\n                        onConnected: function (instance) {\r\n                            _this._agmInstance = _this.normalizeInstance(instance);\r\n                            executor.init(_this._agm, _this._agmInstance);\r\n                        }\r\n                    }).catch(function (err) {\r\n                        reject(\"Can not subscribe for stream T42.Wnd.OnEvent. Err: \" + err);\r\n                    });\r\n                });\r\n            });\r\n        };\r\n        Object.defineProperty(GDEnvironment.prototype, \"executor\", {\r\n            get: function () {\r\n                return executor;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        GDEnvironment.prototype.open = function (name, url, options, success, error) {\r\n            options = options || {};\r\n            var copyOptions = __assign({}, options);\r\n            if (name === undefined) {\r\n                error({ message: \"The name is undefined\" });\r\n                return;\r\n            }\r\n            if (copyOptions.relativeTo !== undefined && typeof copyOptions.relativeTo !== \"string\") {\r\n                copyOptions.relativeTo = copyOptions.relativeTo.id || \"\";\r\n            }\r\n            copyOptions.name = name;\r\n            copyOptions.url = url;\r\n            copyOptions.windowState = options.windowState || options.state;\r\n            delete copyOptions.state;\r\n            this._agm.invoke(\"T42.Wnd.Create\", copyOptions, this._agmInstance)\r\n                .then(function (message) {\r\n                if (message.returned !== undefined) {\r\n                    var id = message.returned.id;\r\n                    success(id);\r\n                }\r\n                else {\r\n                    error({ message: \"failed to execute T42.Wnd.Create - unknown reason\" });\r\n                }\r\n            })\r\n                .catch(error);\r\n        };\r\n        GDEnvironment.prototype.createFlydown = function (windowId, options) {\r\n            return this.executor.createFlydown(windowId, options);\r\n        };\r\n        GDEnvironment.prototype.showPopup = function (windowId, options) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var window;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            window = windowStore.get(windowId);\r\n                            return [4, this.executor.showPopup(window.API, options)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDEnvironment.prototype.tabAttached = function (callback) {\r\n            return this._registry.add(\"tab-attached\", callback);\r\n        };\r\n        GDEnvironment.prototype.tabDetached = function (callback) {\r\n            return this._registry.add(\"tab-detached\", callback);\r\n        };\r\n        GDEnvironment.prototype.onWindowFrameColorChanged = function (callback) {\r\n            return this._registry.add(\"frame-color-changed\", callback);\r\n        };\r\n        GDEnvironment.prototype.onEvent = function (callback) {\r\n            return this._registry.add(\"window-event\", callback);\r\n        };\r\n        GDEnvironment.prototype.my = function () {\r\n            return this._windowId;\r\n        };\r\n        GDEnvironment.prototype.execute = function (command, windowId, options) {\r\n            return this._agm.invoke(\"T42.Wnd.Execute\", {\r\n                command: command,\r\n                options: options,\r\n                windowId: windowId,\r\n            });\r\n        };\r\n        GDEnvironment.prototype.setGroupHeaderVisible = function (windowId, toShow) {\r\n            return this._agm.invoke(\"T42.Wnd.SetGroupHeaderVisible\", {\r\n                windowId: windowId,\r\n                toShow: toShow,\r\n            }, this._agmInstance);\r\n        };\r\n        GDEnvironment.prototype.onCompositionChanged = function (callback) {\r\n            return this._registry.add(\"composition-changed\", callback);\r\n        };\r\n        GDEnvironment.prototype.onGroupHeaderVisibilityChanged = function (callback) {\r\n            return this._registry.add(\"group-header-changed\", callback);\r\n        };\r\n        GDEnvironment.prototype.onWindowGotFocus = function (callback) {\r\n            return this._registry.add(\"got-focus\", callback);\r\n        };\r\n        GDEnvironment.prototype.onWindowLostFocus = function (callback) {\r\n            return this._registry.add(\"lost-focus\", callback);\r\n        };\r\n        GDEnvironment.prototype.normalizeInstance = function (instance) {\r\n            if (!instance) {\r\n                return undefined;\r\n            }\r\n            return {\r\n                application: instance.application,\r\n                machine: instance.machine,\r\n                user: instance.user,\r\n            };\r\n        };\r\n        GDEnvironment.prototype.respondToEvent = function (args) {\r\n            if (args.type === \"ShowFlydownBoundsRequested\") {\r\n                return this.executor.handleFlydownBoundsRequested(args.data.windowId, args.data);\r\n            }\r\n            return Promise.reject(\"There isn't a handler for \" + args.type);\r\n        };\r\n        GDEnvironment.prototype.updateWindow = function (windowInfo, readyResolve) {\r\n            var _this = this;\r\n            var extendedStreamEvent = this.getExtendedStreamEvent(windowInfo);\r\n            if (windowInfo.type === \"Snapshot\") {\r\n                var windowInfoFullInfoEvent = windowInfo;\r\n                windowInfoFullInfoEvent.windows.forEach(function (w) {\r\n                    var win = _this.createWindow(w.id, w);\r\n                    windowStore.markReadyToShow(win.API.id);\r\n                    _this._registry.execute(\"window-event\", extendedStreamEvent);\r\n                });\r\n                readyResolve(this);\r\n                return;\r\n            }\r\n            if (windowInfo.type === \"Created\") {\r\n                var windowInfoCreatedEvent = windowInfo;\r\n                var win = this.createWindow(windowInfoCreatedEvent.windowId, windowInfoCreatedEvent.data || {});\r\n                windowStore.setReadyState(win.API.id);\r\n                this._registry.execute(\"window-event\", extendedStreamEvent);\r\n                return;\r\n            }\r\n            var windowObjectAndEvents = windowStore.get(windowInfo.windowId);\r\n            if (!windowObjectAndEvents) {\r\n                this._logger.error(\"received update for unknown window. Stream:', \" + JSON.stringify(windowInfo, null, 4));\r\n                return;\r\n            }\r\n            var theWindow = windowObjectAndEvents.API;\r\n            var theWindowEvents = windowObjectAndEvents.Events;\r\n            if (windowInfo.type === \"BoundsChanged\") {\r\n                var windowInfoBoundsChangedEvent = windowInfo;\r\n                theWindowEvents.handleBoundsChanged(windowInfoBoundsChangedEvent.data);\r\n            }\r\n            if (windowInfo.type === \"UrlChanged\") {\r\n                var windowInfoUrlChangedEvent = windowInfo;\r\n                windowStore.setUrlChangedState(windowInfoUrlChangedEvent.windowId);\r\n                theWindowEvents.handleUrlChanged(windowInfoUrlChangedEvent.data);\r\n            }\r\n            if (windowInfo.type === \"TitleChanged\") {\r\n                var windowInfoTitleChanged = windowInfo;\r\n                theWindowEvents.handleTitleChanged(windowInfoTitleChanged.data);\r\n            }\r\n            if (windowInfo.type === \"IsStickyChanged\") {\r\n                var windowInfoIsStickyChangedChanged = windowInfo;\r\n                theWindowEvents.handleIsStickyChanged(windowInfoIsStickyChangedChanged.data);\r\n            }\r\n            if (windowInfo.type === \"VisibilityChanged\") {\r\n                theWindowEvents.handleVisibilityChanged(windowInfo.data);\r\n            }\r\n            if (windowInfo.type === \"ContextChanged\") {\r\n                theWindowEvents.handleContextUpdated(windowInfo.data);\r\n            }\r\n            if (windowInfo.type === \"StateChanged\") {\r\n                theWindowEvents.handleWindowChangeState(windowInfo.data);\r\n            }\r\n            if (windowInfo.type === \"FrameColorChanged\") {\r\n                theWindowEvents.handleFrameColorChanged(windowInfo.data);\r\n                this._registry.execute(\"frame-color-changed\", theWindow);\r\n            }\r\n            if (windowInfo.type === \"CompositionChanged\") {\r\n                var windowInfoCompositionChanged = windowInfo;\r\n                theWindowEvents.handleCompositionChanged(windowInfoCompositionChanged.data.neighbors, windowInfoCompositionChanged.data.groupId);\r\n                this._registry.execute(\"composition-changed\", windowInfoCompositionChanged.data);\r\n            }\r\n            if (windowInfo.type === \"GroupHeaderVisibilityChanged\") {\r\n                var info = windowInfo;\r\n                theWindowEvents.handleGroupHeaderVisibilityChanged(info.data.groupHeaderVisible);\r\n                this._registry.execute(\"group-header-changed\", info.data);\r\n            }\r\n            if (windowInfo.type === \"FocusChanged\") {\r\n                var windowInfoFocusChanged = windowInfo;\r\n                this.focusChanged(theWindowEvents, theWindow, windowInfoFocusChanged.data);\r\n            }\r\n            if (windowInfo.type === \"WindowFrameChanged\") {\r\n                theWindowEvents.handleFrameAttached(windowInfo.data.frameId, windowInfo.data.isTabHeaderVisible);\r\n                this._registry.execute(\"frame-changed\");\r\n            }\r\n            if (windowInfo.type === \"WindowFrameAdded\") {\r\n                theWindowEvents.handleAttached(windowInfo.data.frameId, windowInfo.data.isTabHeaderVisible);\r\n                var winsToBeNotified_1 = getWindowsByTabGroupId(theWindow.id, windowInfo.data.frameId);\r\n                Object.keys(winsToBeNotified_1).forEach(function (id) {\r\n                    var win = winsToBeNotified_1[id];\r\n                    win.Events.handleWindowAttached(theWindow);\r\n                });\r\n                this._registry.execute(\"tab-attached\", theWindow, windowInfo.data.frameId, windowInfo.data.isTabHeaderVisible);\r\n            }\r\n            if (windowInfo.type === \"WindowFrameRemoved\") {\r\n                var oldTabGroupId = theWindow.tabGroupId;\r\n                theWindowEvents.handleDetached(windowInfo.data.frameId);\r\n                var winsToBeNotified_2 = getWindowsByTabGroupId(theWindow.id, oldTabGroupId);\r\n                Object.keys(winsToBeNotified_2).forEach(function (id) {\r\n                    var win = winsToBeNotified_2[id];\r\n                    win.Events.handleWindowDetached(theWindow);\r\n                });\r\n                var un_1 = this._registry.add(\"frame-changed\", function () {\r\n                    un_1();\r\n                    _this._registry.execute(\"tab-detached\", theWindow, windowInfo.data.frameId, theWindow.tabGroupId);\r\n                });\r\n            }\r\n            if (windowInfo.type === \"TabHeaderVisibilityChanged\") {\r\n                theWindowEvents.handleTabHeaderVisibilityChanged(windowInfo.data.isTabHeaderVisible);\r\n            }\r\n            if (windowInfo.type === \"FrameSelectionChanged\") {\r\n                theWindowEvents.handleFrameSelectionChanged(windowInfo.data.newWindowId, windowInfo.data.prevWindowId);\r\n            }\r\n            if (windowInfo.type === \"ButtonClicked\") {\r\n                theWindowEvents.handleFrameButtonClicked(windowInfo.data);\r\n            }\r\n            if (windowInfo.type === \"ButtonAdded\") {\r\n                theWindowEvents.handleFrameButtonAdded(windowInfo.data);\r\n            }\r\n            if (windowInfo.type === \"ButtonRemoved\") {\r\n                theWindowEvents.handleFrameButtonRemoved(windowInfo.data);\r\n            }\r\n            if (windowInfo.type === \"WindowZoomFactorChanged\") {\r\n                theWindowEvents.handleZoomFactorChanged(windowInfo.data);\r\n            }\r\n            if (windowInfo.type === \"Closed\") {\r\n                windowStore.remove(windowObjectAndEvents);\r\n                theWindowEvents.handleWindowClose();\r\n            }\r\n            if (windowInfo.type === \"FrameIsLockedChanged\") {\r\n                theWindowEvents.handleFrameIsLockedChanged(windowInfo.data);\r\n            }\r\n            this._registry.execute(\"window-event\", extendedStreamEvent);\r\n        };\r\n        GDEnvironment.prototype.createWindow = function (windowId, options) {\r\n            var _a;\r\n            var wrapper = windowStore.get(windowId);\r\n            var windowObjAndEvents = windowFactory(windowId, this.mapToWindowConstructorOptions(options), executor, this._logger, this._appManagerGetter, this._agm, (_a = wrapper) === null || _a === void 0 ? void 0 : _a.Registry);\r\n            windowStore.add(windowObjAndEvents);\r\n            return windowObjAndEvents;\r\n        };\r\n        GDEnvironment.prototype.focusChanged = function (theWindowEvents, theWindow, focus) {\r\n            theWindowEvents.handleFocusChanged(focus);\r\n            if (focus) {\r\n                this._registry.execute(\"got-focus\", theWindow);\r\n            }\r\n            else {\r\n                this._registry.execute(\"lost-focus\", theWindow);\r\n            }\r\n        };\r\n        GDEnvironment.prototype.mapToWindowConstructorOptions = function (args) {\r\n            return {\r\n                name: args.name,\r\n                context: args.context,\r\n                bounds: args.bounds,\r\n                url: args.url,\r\n                title: args.title,\r\n                isVisible: args.isVisible,\r\n                focus: args.isFocused,\r\n                state: args.state,\r\n                frameColor: args.frameColor,\r\n                groupId: args.groupId,\r\n                neighbours: args.neighbors,\r\n                isFocused: args.isFocused,\r\n                isGroupHeaderVisible: args.groupHeaderVisible,\r\n                isCollapsed: args.isCollapsed,\r\n                tabGroupId: args.frameId,\r\n                mode: args.mode,\r\n                isTabHeaderVisible: args.isTabHeaderVisible,\r\n                isTabSelected: args.isActiveTab,\r\n                settings: args.settings,\r\n                windowType: args.windowType,\r\n                zoomFactor: args.zoomFactor,\r\n                isLocked: args.isLocked,\r\n            };\r\n        };\r\n        GDEnvironment.prototype.getExtendedStreamEvent = function (streamEvent) {\r\n            try {\r\n                var result = __assign({ state: streamEvent.type, windowName: windowStore.get(streamEvent.windowId).API.name }, streamEvent);\r\n                if (result.state === \"WindowFrameAdded\") {\r\n                    result.state = \"TabAttached\";\r\n                }\r\n                if (result.state === \"StateChanged\") {\r\n                    result.state = result.data.charAt(0).toUpperCase() + result.data.slice(1);\r\n                }\r\n                if (result.state === \"ButtonAdded\") {\r\n                    result.state = \"FrameButtonAdded\";\r\n                }\r\n                if (result.state === \"ButtonRemoved\") {\r\n                    result.state = \"FrameButtonRemoved\";\r\n                }\r\n                return result;\r\n            }\r\n            catch (error) {\r\n                return streamEvent;\r\n            }\r\n        };\r\n        return GDEnvironment;\r\n    }());\n\n    var envDetector = (function (agm, logger, appManagerGetter, gdMajorVersion) {\r\n        var _logger = logger;\r\n        return new Promise(function (resolve, reject) {\r\n            if (gdMajorVersion === 2) {\r\n                _logger.trace(\"running in HC\");\r\n                throw new Error(\"GD2 not supported\");\r\n            }\r\n            else if (gdMajorVersion >= 3) {\r\n                _logger.trace(\"running in GD 3\");\r\n                var gd = new GDEnvironment(agm, _logger, appManagerGetter, undefined, window.glue42gd.windowId);\r\n                gd.init()\r\n                    .then(resolve)\r\n                    .catch(reject);\r\n            }\r\n            else {\r\n                var gdPromise = new GDEnvironment(agm, _logger, appManagerGetter).init();\r\n                var wait = function (ms) { return new Promise(function (res, rej) { return setTimeout(function () { rej(\"timeout waiting for streams\"); }, ms); }); };\r\n                Promise.race([gdPromise, wait(10000)])\r\n                    .then(resolve)\r\n                    .catch(reject);\r\n            }\r\n        });\r\n    });\n\n    var groupFactory = (function (id, executor) {\r\n        var _registry = lib$2();\r\n        var _windowsId = [];\r\n        function addWindow(winId) {\r\n            if (_windowsId.indexOf(winId) === -1) {\r\n                _windowsId.push(winId);\r\n                var window_1 = windowStore.get(winId);\r\n                window_1.Events.handleGroupAssociation(groupObject);\r\n                _registry.execute(\"window-added\", groupObject, window_1.API);\r\n            }\r\n        }\r\n        function removeWindow(winId) {\r\n            var index = _windowsId.indexOf(winId);\r\n            if (index !== -1) {\r\n                _windowsId.splice(index, 1);\r\n                var window_2 = _mapToWindowObject(winId);\r\n                _registry.execute(\"window-removed\", groupObject, window_2);\r\n            }\r\n        }\r\n        function find(window, success) {\r\n            var winId;\r\n            if (typeof window === \"string\") {\r\n                winId = window;\r\n            }\r\n            else {\r\n                winId = window.id;\r\n            }\r\n            var index = _windowsId.indexOf(winId);\r\n            if (index !== -1) {\r\n                var mappedWindow = _mapToWindowObject(_windowsId[index]);\r\n                if (typeof success === \"function\") {\r\n                    success(mappedWindow);\r\n                }\r\n                return mappedWindow;\r\n            }\r\n        }\r\n        function windows(success) {\r\n            var mappedWindows = _mapToWindowObjects();\r\n            if (typeof success === \"function\") {\r\n                success(mappedWindows);\r\n            }\r\n            return mappedWindows;\r\n        }\r\n        function showHeader(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                Promise.all([\r\n                    executor.setGroupHeaderVisible(_windowsId[0], true),\r\n                    waitForHeaderVisibilityChanged()\r\n                ])\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(groupObject);\r\n                    }\r\n                    resolve(groupObject);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function hideHeader(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                Promise.all([\r\n                    executor.setGroupHeaderVisible(_windowsId[0], false),\r\n                    waitForHeaderVisibilityChanged()\r\n                ])\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(groupObject);\r\n                    }\r\n                    resolve(groupObject);\r\n                })\r\n                    .catch(function (e) {\r\n                    return;\r\n                });\r\n            });\r\n        }\r\n        function getTitle() {\r\n            return executor.getGroupTitle(_windowsId[0]);\r\n        }\r\n        function setTitle(title) {\r\n            return executor.setGroupTitle(_windowsId[0], title);\r\n        }\r\n        function capture(captureOptions) {\r\n            return executor.captureGroup(_windowsId, captureOptions);\r\n        }\r\n        function waitForHeaderVisibilityChanged() {\r\n            return new Promise(function (resolve, reject) {\r\n                var unsub = onHeaderVisibilityChanged(function (group) {\r\n                    unsub();\r\n                    resolve();\r\n                });\r\n            });\r\n        }\r\n        function execute(command, options, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.execute(command, options)\r\n                    .then(function (w) {\r\n                    if (typeof success === \"function\") {\r\n                        success(groupObject);\r\n                    }\r\n                    resolve(groupObject);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function handleGroupHeaderVisibilityChanged(windowInfo) {\r\n            _registry.execute(\"header-visibility-changed\", groupObject);\r\n        }\r\n        function _mapToWindowObjects() {\r\n            var winObjects = [];\r\n            _windowsId.forEach(function (winId) {\r\n                var windowObject = _mapToWindowObject(winId);\r\n                if (typeof windowObject !== \"undefined\") {\r\n                    winObjects.push(windowObject);\r\n                }\r\n            });\r\n            return winObjects;\r\n        }\r\n        function _mapToWindowObject(windowId) {\r\n            return windowStore.get(windowId) ? windowStore.get(windowId).API : undefined;\r\n        }\r\n        function _getGroupHeaderVisibility() {\r\n            var windowWithHiddenHeader = _mapToWindowObjects().find(function (w) { return !w.isGroupHeaderVisible; });\r\n            var _isGroupHeaderVisible = windowWithHiddenHeader === undefined;\r\n            return _isGroupHeaderVisible;\r\n        }\r\n        function onHeaderVisibilityChanged(callback) {\r\n            return _registry.add(\"header-visibility-changed\", callback);\r\n        }\r\n        function onWindowAdded(callback) {\r\n            return _registry.add(\"window-added\", callback);\r\n        }\r\n        function onWindowRemoved(callback) {\r\n            return _registry.add(\"window-removed\", callback);\r\n        }\r\n        var groupObject = {\r\n            id: id,\r\n            get windows() {\r\n                return windows();\r\n            },\r\n            find: find,\r\n            get isHeaderVisible() {\r\n                return _getGroupHeaderVisibility();\r\n            },\r\n            showHeader: showHeader,\r\n            hideHeader: hideHeader,\r\n            getTitle: getTitle,\r\n            setTitle: setTitle,\r\n            capture: capture,\r\n            maximize: function (success, error) {\r\n                return execute(\"maximize\", { groupId: id }, success);\r\n            },\r\n            restore: function (success, error) {\r\n                return execute(\"restore\", { groupId: id }, success);\r\n            },\r\n            onHeaderVisibilityChanged: onHeaderVisibilityChanged,\r\n            onWindowAdded: onWindowAdded,\r\n            onWindowRemoved: onWindowRemoved,\r\n        };\r\n        var internal = {\r\n            addWindow: addWindow,\r\n            removeWindow: removeWindow,\r\n            handleGroupHeaderVisibilityChanged: handleGroupHeaderVisibilityChanged,\r\n        };\r\n        return {\r\n            groupAPI: groupObject,\r\n            groupInternal: internal,\r\n        };\r\n    });\n\n    var groupsFactory = (function (environment, logger) {\r\n        var _logger = logger.subLogger(\"groups\");\r\n        var _registry = lib$2();\r\n        var _groups = {};\r\n        var heardForWindowsCounter = -1;\r\n        var windows = windowStore.list;\r\n        Object.keys(windows).forEach(function (k) {\r\n            addNewWindow(windows[k]);\r\n        });\r\n        environment.onCompositionChanged(function (windowInfo) {\r\n            handleCompositionChanged(windowInfo);\r\n        });\r\n        environment.onGroupHeaderVisibilityChanged(function (windowInfo) {\r\n            var windowId = windowInfo.windowId;\r\n            var group = findGroupByWindow(windowId);\r\n            if (typeof group !== \"undefined\") {\r\n                var groupEvents = _groups[group.id];\r\n                if (heardForWindowsCounter === -1) {\r\n                    heardForWindowsCounter = group.windows.length;\r\n                }\r\n                heardForWindowsCounter--;\r\n                if (heardForWindowsCounter === 0) {\r\n                    heardForWindowsCounter = -1;\r\n                    groupEvents.groupInternal.handleGroupHeaderVisibilityChanged(windowInfo);\r\n                }\r\n            }\r\n        });\r\n        windowStore.onAdded(function (win) {\r\n            addNewWindow(win);\r\n        });\r\n        windowStore.onRemoved(function (win) {\r\n            removeWindow(win);\r\n        });\r\n        function my() {\r\n            return findGroupByWindow(environment.my());\r\n        }\r\n        function list(success) {\r\n            var result = Object.keys(_groups).map(function (groupId) {\r\n                if (_groups[groupId]) {\r\n                    return _groups[groupId].groupAPI;\r\n                }\r\n            });\r\n            if (typeof success === \"function\") {\r\n                success(result);\r\n            }\r\n            return result;\r\n        }\r\n        function findGroupByWindow(winId, success) {\r\n            var windowId;\r\n            if (typeof winId === \"undefined\") {\r\n                logger.debug(\"trying to find a group by a window, but winId is undefined\");\r\n                return;\r\n            }\r\n            if (typeof winId === \"string\") {\r\n                windowId = winId;\r\n            }\r\n            else {\r\n                windowId = winId.id;\r\n            }\r\n            var groupFound;\r\n            Object.keys(_groups).forEach(function (groupId) {\r\n                var group = _groups[groupId].groupAPI;\r\n                if (group.find(windowId) !== undefined) {\r\n                    groupFound = group;\r\n                    return;\r\n                }\r\n            });\r\n            if (typeof success === \"function\") {\r\n                success(groupFound);\r\n            }\r\n            return groupFound;\r\n        }\r\n        function onWindowMoved(callback) {\r\n            return _registry.add(\"window-moved\", callback);\r\n        }\r\n        function createOrGetGroup(groupId) {\r\n            if (!_groups.hasOwnProperty(groupId)) {\r\n                var createdGroup = groupFactory(groupId, environment.executor);\r\n                _groups[groupId] = createdGroup;\r\n                return createdGroup;\r\n            }\r\n            else {\r\n                return _groups[groupId];\r\n            }\r\n        }\r\n        function deleteGroup(groupId) {\r\n            if (_groups.hasOwnProperty(groupId) && typeof _groups[groupId] !== \"undefined\") {\r\n                if (_groups[groupId].groupAPI.windows.length === 0) {\r\n                    delete _groups[groupId];\r\n                }\r\n            }\r\n        }\r\n        function addNewWindow(win) {\r\n            _logger.trace(\"Adding new window \" + win.API.id + \" to win.API.groupId \" + win.API.groupId);\r\n            var group = addWindow(win);\r\n            if (group) {\r\n                _logger.trace(\"handleGroupAssociation \" + win.API.id + \" to group.groupAPI.id \" + group.groupAPI.id);\r\n                win.Events.handleGroupAssociation(group.groupAPI);\r\n            }\r\n        }\r\n        function addWindow(win, groupId) {\r\n            var windowGroupId = groupId || win.API.groupId;\r\n            var windowId = win.API.id;\r\n            if (typeof windowGroupId === \"undefined\" || typeof windowId === \"undefined\") {\r\n                _logger.debug(\"trying to add a window without group - winId: \" + windowId);\r\n                return;\r\n            }\r\n            var group = createOrGetGroup(windowGroupId);\r\n            group.groupInternal.addWindow(windowId);\r\n            return group;\r\n        }\r\n        function removeWindow(win, groupId) {\r\n            var windowId = win.API.id;\r\n            var windowGroupId = groupId || win.API.groupId;\r\n            if (typeof windowGroupId !== \"undefined\") {\r\n                var group = _groups[windowGroupId];\r\n                group.groupInternal.removeWindow(windowId);\r\n                win.Events.handleGroupAssociation(undefined);\r\n                deleteGroup(windowGroupId);\r\n            }\r\n        }\r\n        function handleCompositionChanged(windowInfo) {\r\n            var newGroupId = windowInfo.groupId;\r\n            var windowId = windowInfo.windowId;\r\n            var oldGroup = findGroupByWindow(windowId);\r\n            var oldGroupId = oldGroup ? oldGroup.id : undefined;\r\n            _logger.trace(\"handleCompositionChanged newGroupId: \" + newGroupId + \" windowId: \" + windowId + \" oldGroup: \" + oldGroupId);\r\n            if (oldGroupId === newGroupId) {\r\n                _logger.trace(\"handleCompositionChanged newGroupId: \" + newGroupId + \" windowId: \" + windowId + \" oldGroup: \" + oldGroupId + \" are the same - returning...\");\r\n                return;\r\n            }\r\n            var win = windowStore.get(windowId) || windowStore.get(windowId);\r\n            var newGroup = addWindow(win, newGroupId);\r\n            if (oldGroup) {\r\n                removeWindow(win, oldGroupId);\r\n                _registry.execute(\"window-moved\", windowId, oldGroup, newGroupId);\r\n            }\r\n            win.Events.handleGroupChanged(newGroup.groupAPI, oldGroup);\r\n        }\r\n        var groups = {\r\n            get my() {\r\n                return my();\r\n            },\r\n            list: list,\r\n            findGroupByWindow: findGroupByWindow,\r\n        };\r\n        var events = { onWindowMoved: onWindowMoved };\r\n        return {\r\n            groupsAPI: groups,\r\n            groupsEvents: events,\r\n        };\r\n    });\n\n    var WindowsFactory = (function (agm, logger, appManagerGetter, gdMajorVersion) {\r\n        var _registry = lib$2();\r\n        var _logger = logger;\r\n        var groups;\r\n        var environment;\r\n        windowStore.init(_logger);\r\n        var isReady = new Promise(function (resolve, reject) {\r\n            envDetector(agm, _logger, appManagerGetter, gdMajorVersion)\r\n                .then(function (env) {\r\n                environment = env;\r\n                groups = groupsFactory(env, _logger);\r\n                resolve();\r\n            })\r\n                .catch(function (e) {\r\n                var err = \"Environment detector fails with: \" + e;\r\n                _logger.error(err);\r\n                reject(err);\r\n            });\r\n        });\r\n        function ready() {\r\n            return isReady;\r\n        }\r\n        function my() {\r\n            var myWindow = windowStore.getIfReady(environment.my());\r\n            return myWindow ? myWindow.API : undefined;\r\n        }\r\n        function open(name, url, options, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                var errorHandler = function (errorResponse) {\r\n                    if (typeof error === \"function\") {\r\n                        error(errorResponse);\r\n                    }\r\n                    reject(errorResponse);\r\n                };\r\n                var successHandler = function (id) {\r\n                    windowStore.waitFor(id)\r\n                        .then(function (win) {\r\n                        if (typeof success === \"function\") {\r\n                            success(win.API);\r\n                        }\r\n                        resolve(win.API);\r\n                        if (win.API.windowType === \"electron\") {\r\n                            win.Events.handleUrlChanged(win.API.url);\r\n                        }\r\n                    })\r\n                        .catch(errorHandler);\r\n                };\r\n                environment.open(name, url, options, successHandler, errorHandler);\r\n            });\r\n        }\r\n        function find(name, success, error) {\r\n            var windows = windowStore.list;\r\n            var windowsForListing = Object.keys(windows).reduce(function (memo, winId) {\r\n                var window = windows[winId];\r\n                if (window && window.API.name === name) {\r\n                    memo.push(window.API);\r\n                }\r\n                return memo;\r\n            }, []);\r\n            if (typeof success !== \"function\") {\r\n                return windowsForListing[0];\r\n            }\r\n            if (windowsForListing.length > 0) {\r\n                success(windowsForListing[0]);\r\n            }\r\n            else {\r\n                if (typeof error === \"function\") {\r\n                    error(\"There is no window with name:\" + name);\r\n                }\r\n            }\r\n        }\r\n        function findById(id, success, error) {\r\n            var windows = windowStore.list;\r\n            var windowsForListing = Object.keys(windows).reduce(function (memo, winId) {\r\n                var window = windows[winId];\r\n                if (typeof window !== \"undefined\" && window.API.id === id) {\r\n                    memo.push(window.API);\r\n                }\r\n                return memo;\r\n            }, []);\r\n            if (typeof success !== \"function\") {\r\n                return windowsForListing[0];\r\n            }\r\n            if (windowsForListing.length > 0) {\r\n                success(windowsForListing[0]);\r\n            }\r\n            else {\r\n                if (typeof error === \"function\") {\r\n                    error(\"There is no window with such id:\" + id);\r\n                }\r\n            }\r\n        }\r\n        function list(success) {\r\n            var windows = windowStore.list;\r\n            var windowsForListing = Object.keys(windows)\r\n                .map(function (k) {\r\n                return windows[k].API;\r\n            });\r\n            if (typeof success !== \"function\") {\r\n                return windowsForListing;\r\n            }\r\n            success(windowsForListing);\r\n        }\r\n        function configure(options) {\r\n            var win = my();\r\n            var winId = win ? win.id : \"\";\r\n            return executor.configure(winId, options);\r\n        }\r\n        function windowAdded(callback) {\r\n            return _registry.add(\"window-added\", callback);\r\n        }\r\n        function windowRemoved(callback) {\r\n            return _registry.add(\"window-removed\", callback);\r\n        }\r\n        function tabAttached(callback) {\r\n            return isReady.then(function () {\r\n                environment.tabAttached(callback);\r\n            });\r\n        }\r\n        function tabDetached(callback) {\r\n            return isReady.then(function () {\r\n                environment.tabDetached(callback);\r\n            });\r\n        }\r\n        function onWindowFrameColorChanged(callback) {\r\n            return isReady.then(function () {\r\n                return environment.onWindowFrameColorChanged(callback);\r\n            });\r\n        }\r\n        function onWindowGotFocus(callback) {\r\n            var unsubscribe;\r\n            isReady.then(function () {\r\n                unsubscribe = environment.onWindowGotFocus(callback);\r\n            });\r\n            return function () {\r\n                if (unsubscribe) {\r\n                    unsubscribe();\r\n                }\r\n            };\r\n        }\r\n        function onWindowLostFocus(callback) {\r\n            var unsubscribe;\r\n            isReady.then(function () {\r\n                unsubscribe = environment.onWindowLostFocus(callback);\r\n            });\r\n            return function () {\r\n                if (unsubscribe) {\r\n                    unsubscribe();\r\n                }\r\n            };\r\n        }\r\n        function onEvent(callback) {\r\n            var unsubFunc;\r\n            var unsubscribed = false;\r\n            isReady.then(function () {\r\n                if (unsubscribed) {\r\n                    return;\r\n                }\r\n                unsubFunc = environment.onEvent(callback);\r\n            });\r\n            return function () {\r\n                unsubscribed = true;\r\n                if (unsubFunc) {\r\n                    unsubFunc();\r\n                }\r\n            };\r\n        }\r\n        function createFlydown(targetId, config) {\r\n            return environment.createFlydown(targetId, config);\r\n        }\r\n        function showPopup(targetId, config) {\r\n            return environment.showPopup(targetId, config);\r\n        }\r\n        function handleWindowAdded(w) {\r\n            _registry.execute(\"window-added\", w.API);\r\n        }\r\n        function handleWindowRemoved(w) {\r\n            _registry.execute(\"window-removed\", w.API);\r\n        }\r\n        windowStore.onReadyWindow(handleWindowAdded);\r\n        windowStore.onRemoved(handleWindowRemoved);\r\n        return {\r\n            my: my,\r\n            open: open,\r\n            find: find,\r\n            findById: findById,\r\n            list: list,\r\n            ready: ready,\r\n            onWindowAdded: windowAdded,\r\n            windowAdded: windowAdded,\r\n            onWindowRemoved: windowRemoved,\r\n            windowRemoved: windowRemoved,\r\n            onTabAttached: tabAttached,\r\n            onTabDetached: tabDetached,\r\n            onWindowFrameColorChanged: onWindowFrameColorChanged,\r\n            get groups() {\r\n                return groups.groupsAPI;\r\n            },\r\n            onWindowGotFocus: onWindowGotFocus,\r\n            onWindowLostFocus: onWindowLostFocus,\r\n            onEvent: onEvent,\r\n            createFlydown: createFlydown,\r\n            showPopup: showPopup,\r\n            configure: configure\r\n        };\r\n    });\n\n    var LayoutStore = (function () {\r\n        function LayoutStore() {\r\n            this.layouts = [];\r\n        }\r\n        LayoutStore.prototype.removeWhere = function (condition) {\r\n            this.layouts = this.layouts.filter(condition);\r\n        };\r\n        LayoutStore.prototype.add = function (item) {\r\n            this.layouts.push(item);\r\n        };\r\n        Object.defineProperty(LayoutStore.prototype, \"all\", {\r\n            get: function () {\r\n                return this.layouts;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        LayoutStore.prototype.where = function (condition) {\r\n            return this.layouts.filter(condition);\r\n        };\r\n        LayoutStore.prototype.first = function (condition) {\r\n            return this.where(condition)[0];\r\n        };\r\n        return LayoutStore;\r\n    }());\r\n    var store = new LayoutStore();\n\n    function createCommonjsModule$1(fn, module) {\n    \treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n    }\n\n    // Found this seed-based random generator somewhere\n    // Based on The Central Randomizer 1.3 (C) 1997 by Paul Houle (houle@msc.cornell.edu)\n\n    var seed$1 = 1;\n\n    /**\n     * return a random number based on a seed\n     * @param seed\n     * @returns {number}\n     */\n    function getNextValue$1() {\n        seed$1 = (seed$1 * 9301 + 49297) % 233280;\n        return seed$1/(233280.0);\n    }\n\n    function setSeed$2(_seed_) {\n        seed$1 = _seed_;\n    }\n\n    var randomFromSeed$1 = {\n        nextValue: getNextValue$1,\n        seed: setSeed$2\n    };\n\n    var ORIGINAL$1 = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-';\n    var alphabet$1;\n    var previousSeed$1;\n\n    var shuffled$1;\n\n    function reset$1() {\n        shuffled$1 = false;\n    }\n\n    function setCharacters$1(_alphabet_) {\n        if (!_alphabet_) {\n            if (alphabet$1 !== ORIGINAL$1) {\n                alphabet$1 = ORIGINAL$1;\n                reset$1();\n            }\n            return;\n        }\n\n        if (_alphabet_ === alphabet$1) {\n            return;\n        }\n\n        if (_alphabet_.length !== ORIGINAL$1.length) {\n            throw new Error('Custom alphabet for shortid must be ' + ORIGINAL$1.length + ' unique characters. You submitted ' + _alphabet_.length + ' characters: ' + _alphabet_);\n        }\n\n        var unique = _alphabet_.split('').filter(function(item, ind, arr){\n           return ind !== arr.lastIndexOf(item);\n        });\n\n        if (unique.length) {\n            throw new Error('Custom alphabet for shortid must be ' + ORIGINAL$1.length + ' unique characters. These characters were not unique: ' + unique.join(', '));\n        }\n\n        alphabet$1 = _alphabet_;\n        reset$1();\n    }\n\n    function characters$1(_alphabet_) {\n        setCharacters$1(_alphabet_);\n        return alphabet$1;\n    }\n\n    function setSeed$3(seed) {\n        randomFromSeed$1.seed(seed);\n        if (previousSeed$1 !== seed) {\n            reset$1();\n            previousSeed$1 = seed;\n        }\n    }\n\n    function shuffle$1() {\n        if (!alphabet$1) {\n            setCharacters$1(ORIGINAL$1);\n        }\n\n        var sourceArray = alphabet$1.split('');\n        var targetArray = [];\n        var r = randomFromSeed$1.nextValue();\n        var characterIndex;\n\n        while (sourceArray.length > 0) {\n            r = randomFromSeed$1.nextValue();\n            characterIndex = Math.floor(r * sourceArray.length);\n            targetArray.push(sourceArray.splice(characterIndex, 1)[0]);\n        }\n        return targetArray.join('');\n    }\n\n    function getShuffled$1() {\n        if (shuffled$1) {\n            return shuffled$1;\n        }\n        shuffled$1 = shuffle$1();\n        return shuffled$1;\n    }\n\n    /**\n     * lookup shuffled letter\n     * @param index\n     * @returns {string}\n     */\n    function lookup$1(index) {\n        var alphabetShuffled = getShuffled$1();\n        return alphabetShuffled[index];\n    }\n\n    var alphabet_1$1 = {\n        characters: characters$1,\n        seed: setSeed$3,\n        lookup: lookup$1,\n        shuffled: getShuffled$1\n    };\n\n    var crypto$1 = typeof window === 'object' && (window.crypto || window.msCrypto); // IE 11 uses window.msCrypto\n\n    function randomByte$1() {\n        if (!crypto$1 || !crypto$1.getRandomValues) {\n            return Math.floor(Math.random() * 256) & 0x30;\n        }\n        var dest = new Uint8Array(1);\n        crypto$1.getRandomValues(dest);\n        return dest[0] & 0x30;\n    }\n\n    var randomByteBrowser$1 = randomByte$1;\n\n    function encode$1(lookup, number) {\n        var loopCounter = 0;\n        var done;\n\n        var str = '';\n\n        while (!done) {\n            str = str + lookup( ( (number >> (4 * loopCounter)) & 0x0f ) | randomByteBrowser$1() );\n            done = number < (Math.pow(16, loopCounter + 1 ) );\n            loopCounter++;\n        }\n        return str;\n    }\n\n    var encode_1$1 = encode$1;\n\n    /**\n     * Decode the id to get the version and worker\n     * Mainly for debugging and testing.\n     * @param id - the shortid-generated id.\n     */\n    function decode$1(id) {\n        var characters = alphabet_1$1.shuffled();\n        return {\n            version: characters.indexOf(id.substr(0, 1)) & 0x0f,\n            worker: characters.indexOf(id.substr(1, 1)) & 0x0f\n        };\n    }\n\n    var decode_1$1 = decode$1;\n\n    // Ignore all milliseconds before a certain time to reduce the size of the date entropy without sacrificing uniqueness.\n    // This number should be updated every year or so to keep the generated id short.\n    // To regenerate `new Date() - 0` and bump the version. Always bump the version!\n    var REDUCE_TIME = 1459707606518;\n\n    // don't change unless we change the algos or REDUCE_TIME\n    // must be an integer and less than 16\n    var version$1 = 6;\n\n    // Counter is used when shortid is called multiple times in one second.\n    var counter;\n\n    // Remember the last time shortid was called in case counter is needed.\n    var previousSeconds;\n\n    /**\n     * Generate unique id\n     * Returns string id\n     */\n    function build(clusterWorkerId) {\n\n        var str = '';\n\n        var seconds = Math.floor((Date.now() - REDUCE_TIME) * 0.001);\n\n        if (seconds === previousSeconds) {\n            counter++;\n        } else {\n            counter = 0;\n            previousSeconds = seconds;\n        }\n\n        str = str + encode_1$1(alphabet_1$1.lookup, version$1);\n        str = str + encode_1$1(alphabet_1$1.lookup, clusterWorkerId);\n        if (counter > 0) {\n            str = str + encode_1$1(alphabet_1$1.lookup, counter);\n        }\n        str = str + encode_1$1(alphabet_1$1.lookup, seconds);\n\n        return str;\n    }\n\n    var build_1 = build;\n\n    function isShortId$1(id) {\n        if (!id || typeof id !== 'string' || id.length < 6 ) {\n            return false;\n        }\n\n        var characters = alphabet_1$1.characters();\n        var len = id.length;\n        for(var i = 0; i < len;i++) {\n            if (characters.indexOf(id[i]) === -1) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    var isValid$1 = isShortId$1;\n\n    var lib$3 = createCommonjsModule$1(function (module) {\n\n\n\n\n\n\n\n    // if you are using cluster or multiple servers use this to make each instance\n    // has a unique value for worker\n    // Note: I don't know if this is automatically set when using third\n    // party cluster solutions such as pm2.\n    var clusterWorkerId =  0;\n\n    /**\n     * Set the seed.\n     * Highly recommended if you don't want people to try to figure out your id schema.\n     * exposed as shortid.seed(int)\n     * @param seed Integer value to seed the random alphabet.  ALWAYS USE THE SAME SEED or you might get overlaps.\n     */\n    function seed(seedValue) {\n        alphabet_1$1.seed(seedValue);\n        return module.exports;\n    }\n\n    /**\n     * Set the cluster worker or machine id\n     * exposed as shortid.worker(int)\n     * @param workerId worker must be positive integer.  Number less than 16 is recommended.\n     * returns shortid module so it can be chained.\n     */\n    function worker(workerId) {\n        clusterWorkerId = workerId;\n        return module.exports;\n    }\n\n    /**\n     *\n     * sets new characters to use in the alphabet\n     * returns the shuffled alphabet\n     */\n    function characters(newCharacters) {\n        if (newCharacters !== undefined) {\n            alphabet_1$1.characters(newCharacters);\n        }\n\n        return alphabet_1$1.shuffled();\n    }\n\n    /**\n     * Generate unique id\n     * Returns string id\n     */\n    function generate() {\n      return build_1(clusterWorkerId);\n    }\n\n    // Export all other functions as properties of the generate function\n    module.exports = generate;\n    module.exports.generate = generate;\n    module.exports.seed = seed;\n    module.exports.worker = worker;\n    module.exports.characters = characters;\n    module.exports.decode = decode_1$1;\n    module.exports.isValid = isValid$1;\n    });\n    var lib_1$1 = lib$3.generate;\n    var lib_2$1 = lib$3.seed;\n    var lib_3$1 = lib$3.worker;\n    var lib_4$1 = lib$3.characters;\n    var lib_5$1 = lib$3.decode;\n    var lib_6$1 = lib$3.isValid;\n\n    var shortid$1 = lib$3;\n\n    var SaveContextMethodName = \"T42.HC.GetSaveContext\";\r\n    var ContextProvider = (function () {\r\n        function ContextProvider(config, activitiesGetter, callbacks, logger) {\r\n            this.config = config;\r\n            this.activitiesGetter = activitiesGetter;\r\n            this.callbacks = callbacks;\r\n            this.logger = logger;\r\n            this.interop = config.agm;\r\n            this.registerRequestMethods();\r\n        }\r\n        ContextProvider.prototype.onSaveRequested = function (callback) {\r\n            return this.callbacks.add(\"saveRequested\", callback);\r\n        };\r\n        ContextProvider.prototype.isActivityOwner = function () {\r\n            if (typeof htmlContainer !== \"undefined\") {\r\n                var context_1 = htmlContainer.getContext();\r\n                return context_1 && context_1._t42 && context_1._t42.activityIsOwner;\r\n            }\r\n            var activities = this.activitiesGetter();\r\n            if (!activities) {\r\n                return false;\r\n            }\r\n            if (!activities.inActivity) {\r\n                return false;\r\n            }\r\n            var myWindow = activities.my.window;\r\n            var myActivity = activities.my.activity;\r\n            if (!myActivity && !myWindow) {\r\n                return false;\r\n            }\r\n            return myActivity.owner.id === myWindow.id;\r\n        };\r\n        ContextProvider.prototype.registerRequestMethods = function () {\r\n            var _this = this;\r\n            this.interop.register(SaveContextMethodName, function (args) {\r\n                var _a, _b, _c;\r\n                var usersCbs = _this.callbacks.execute(\"saveRequested\", args);\r\n                if (((_a = usersCbs) === null || _a === void 0 ? void 0 : _a.length) > 1) {\r\n                    _this.logger.warn(\"Multiple subscriptions for \\\"glue.layouts.onSaveRequested\\\" - only the first one will be used\");\r\n                }\r\n                var requestResult = usersCbs[0];\r\n                var autoSaveWindowContext = _this.config.autoSaveWindowContext;\r\n                if (autoSaveWindowContext) {\r\n                    return { autoSaveWindowContext: autoSaveWindowContext };\r\n                }\r\n                var result = { windowContext: (_b = requestResult) === null || _b === void 0 ? void 0 : _b.windowContext, activityContext: undefined };\r\n                if (_this.isActivityOwner()) {\r\n                    result.activityContext = (_c = requestResult) === null || _c === void 0 ? void 0 : _c.activityContext;\r\n                }\r\n                return result;\r\n            });\r\n        };\r\n        return ContextProvider;\r\n    }());\n\n    function transformACSLayout(something) {\r\n        if (!something) {\r\n            return something;\r\n        }\r\n        if (Array.isArray(something)) {\r\n            return something.map(function (item) {\r\n                return transformACSLayout(item);\r\n            });\r\n        }\r\n        if (typeof something === \"string\" || typeof something === \"number\" || typeof something === \"boolean\") {\r\n            return something;\r\n        }\r\n        var initial = {};\r\n        return Object.keys(something).reduce(function (accumulator, current) {\r\n            var value = something[current];\r\n            var convertedValue = transformACSLayout(value);\r\n            var key = current;\r\n            if (current[0].toLowerCase() !== current[0]) {\r\n                key = current[0].toLowerCase() + current.substr(1);\r\n            }\r\n            accumulator[key] = convertedValue;\r\n            return accumulator;\r\n        }, initial);\r\n    }\n\n    var LayoutImpl = (function () {\r\n        function LayoutImpl(data) {\r\n            this.name = data.name;\r\n            this.type = data.type;\r\n            this.components = data.components;\r\n            this.context = data.context;\r\n            this.metadata = data.metadata;\r\n            this.version = data.version;\r\n        }\r\n        return LayoutImpl;\r\n    }());\n\n    var LayoutsAPIImpl = (function () {\r\n        function LayoutsAPIImpl(config, stream, callbacks, logger) {\r\n            this.config = config;\r\n            this.stream = stream;\r\n            this.callbacks = callbacks;\r\n            this.appManager = config.appManager;\r\n            this.onEvent = stream.onEvent;\r\n            this.provider = new ContextProvider(config, config.activityGetter, callbacks, logger);\r\n            stream.subscribe();\r\n        }\r\n        LayoutsAPIImpl.prototype.setDefaultGlobal = function (name) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.config.agm.invoke(\"T42.ACS.SelectDefaultLayout\", { name: name })];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.clearDefaultGlobal = function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.config.agm.invoke(\"T42.ACS.DeselectDefaultLayout\")];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.getDefaultGlobal = function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var result, layout;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.config.agm.invoke(\"T42.ACS.GetDefaultLayout\")];\r\n                        case 1:\r\n                            result = _a.sent();\r\n                            layout = result.returned;\r\n                            if (!layout) {\r\n                                return [2, undefined];\r\n                            }\r\n                            if (this.isSlimMode()) {\r\n                                return [2, layout];\r\n                            }\r\n                            return [2, this.list().find(function (l) { return l.name === layout.name && l.type === \"Global\"; })];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.ready = function () {\r\n            if (this.config.mode === \"fullWaitSnapshot\") {\r\n                return this.stream.gotSnapshot;\r\n            }\r\n            return this.stream.ready;\r\n        };\r\n        LayoutsAPIImpl.prototype.save = function (layout) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.verifyNotSlimMode();\r\n                if (!layout.name) {\r\n                    throw Error(\"layout.name argument is required\");\r\n                }\r\n                if (!layout.type) {\r\n                    layout.type = \"Global\";\r\n                }\r\n                if (layout.activityId) {\r\n                    layout.type = \"Activity\";\r\n                }\r\n                if (typeof layout.ignoreHidden === \"undefined\") {\r\n                    layout.ignoreHidden = true;\r\n                }\r\n                var layoutObject = {\r\n                    name: layout.name,\r\n                    actIds: [],\r\n                    appIds: [],\r\n                    type: layout.type,\r\n                    context: layout.context,\r\n                    metadata: layout.metadata || {},\r\n                    options: { ignoreLayoutRestrictions: false },\r\n                };\r\n                if (layout.type === \"Activity\") {\r\n                    var actId = layout.activityId;\r\n                    if (!actId) {\r\n                        if (!_this.appManager.myInstance.inActivity) {\r\n                            throw new Error(\"Current application is not in activity. Can not save activity layout for it\");\r\n                        }\r\n                        actId = _this.appManager.myInstance.activityId;\r\n                    }\r\n                    layoutObject.actIds.push(actId);\r\n                    layoutObject.options = { ignoreLayoutRestrictions: true };\r\n                }\r\n                else if (layout.type === \"Global\") {\r\n                    if (_this.config.gdMajorVersion === 2) {\r\n                        var instances = _this.appManager.instances();\r\n                        if (layout.ignoreHidden) {\r\n                            instances = instances.filter(function (i) { return _this.isVisibleWindow(i); });\r\n                        }\r\n                        if (layout.ignoreMyInstance && _this.appManager.myInstance) {\r\n                            instances = instances.filter(function (i) { return i.id !== _this.appManager.myInstance.id; });\r\n                        }\r\n                        instances.reduce(function (prev, current) {\r\n                            if (!current.id) {\r\n                                return prev;\r\n                            }\r\n                            if (current.inActivity) {\r\n                                var actId = current.activityId;\r\n                                if (prev.actIds.indexOf(actId) === -1) {\r\n                                    prev.actIds.push(actId);\r\n                                }\r\n                            }\r\n                            else {\r\n                                prev.appIds.push(current.id);\r\n                            }\r\n                            return prev;\r\n                        }, layoutObject);\r\n                    }\r\n                    else {\r\n                        layoutObject.autoCollectApps = true;\r\n                    }\r\n                }\r\n                else {\r\n                    throw new Error(\"layout type \" + layout.type + \" not supported\");\r\n                }\r\n                _this.invokeMethodAndTrack(\"T42.ACS.SaveLayout\", layoutObject, resolve, reject);\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.restore = function (options) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.verifyNotSlimMode();\r\n                if (typeof options === \"undefined\") {\r\n                    throw Error(\"options argument is required\");\r\n                }\r\n                if (!options.name) {\r\n                    throw Error(\"options.name argument is required\");\r\n                }\r\n                if (!options.type) {\r\n                    options.type = \"Global\";\r\n                }\r\n                if (options.activityIdToJoin) {\r\n                    options.type = \"Activity\";\r\n                }\r\n                if (typeof options.restoreActivityOwner === \"undefined\") {\r\n                    options.restoreActivityOwner = false;\r\n                }\r\n                if (typeof options.ignoreActivityWindowTypes === \"undefined\") {\r\n                    options.ignoreActivityWindowTypes = [];\r\n                }\r\n                if (typeof options.setActivityContext === \"undefined\") {\r\n                    options.setActivityContext = true;\r\n                }\r\n                if (typeof options.closeRunningInstance === \"undefined\") {\r\n                    if (options.type === \"Global\") {\r\n                        options.closeRunningInstance = true;\r\n                    }\r\n                    else if (options.type === \"Activity\") {\r\n                        options.closeRunningInstance = false;\r\n                    }\r\n                }\r\n                if (typeof options.reuseWindows === \"undefined\") {\r\n                    options.reuseWindows = true;\r\n                }\r\n                options.context = options.context || {};\r\n                var t42 = {\r\n                    restoreOptions: {\r\n                        activityToJoin: options.activityIdToJoin,\r\n                        setActivityContext: options.setActivityContext,\r\n                        ignoreActivityWindowTypes: options.ignoreActivityWindowTypes,\r\n                        restoreActivityOwner: options.restoreActivityOwner,\r\n                        closeOldWindows: options.closeRunningInstance,\r\n                        reuseExistingWindows: options.reuseWindows\r\n                    }\r\n                };\r\n                var arg = {\r\n                    type: options.type,\r\n                    name: options.name,\r\n                    context: options.context,\r\n                    toClose: [],\r\n                    splash: options.splash\r\n                };\r\n                if (_this.config.gdMajorVersion === 2) {\r\n                    if (options.closeRunningInstance) {\r\n                        arg.toClose = _this.getInstancesToClose(options);\r\n                    }\r\n                }\r\n                if (options.timeout) {\r\n                    arg.timeout = options.timeout;\r\n                }\r\n                arg.context._t42 = t42;\r\n                _this.invokeMethodAndTrack(\"T42.ACS.RestoreLayout\", arg, resolve, reject, true);\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.remove = function (type, name) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.verifyNotSlimMode();\r\n                if (!name) {\r\n                    throw Error(\"name argument is required\");\r\n                }\r\n                if (!type) {\r\n                    throw Error(\"type argument is required\");\r\n                }\r\n                var msg = {\r\n                    type: type,\r\n                    name: name,\r\n                };\r\n                _this.invokeMethodAndTrack(\"T42.ACS.RemoveLayout\", msg, resolve, reject);\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.list = function () {\r\n            this.verifyNotSlimMode();\r\n            return store.all;\r\n        };\r\n        LayoutsAPIImpl.prototype.import = function (layouts, mode) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.verifyNotSlimMode();\r\n                var msg = {\r\n                    mode: mode || \"replace\",\r\n                    layouts: layouts\r\n                };\r\n                _this.invokeMethodAndTrack(\"T42.ACS.ImportLayouts\", msg, resolve, reject, true);\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.export = function () {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                var handleResult = function (result) {\r\n                    var layouts = _this.getObjectValues(result.Layouts).map(function (t) { return new LayoutImpl(transformACSLayout(t)); });\r\n                    resolve(layouts);\r\n                };\r\n                _this.invokeMethodAndTrack(\"T42.ACS.ExportLayouts\", {}, handleResult, reject, true);\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.rename = function (layout, newName) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.verifyNotSlimMode();\r\n                if (!layout) {\r\n                    throw Error(\"layout argument is required\");\r\n                }\r\n                if (!layout.name) {\r\n                    throw Error(\"name argument is required\");\r\n                }\r\n                if (!layout.type) {\r\n                    throw Error(\"type argument is required\");\r\n                }\r\n                var msg = { type: layout.type, oldName: layout.name, newName: newName };\r\n                _this.invokeMethodAndTrack(\"T42.ACS.RenameLayout\", msg, resolve, reject);\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.updateMetadata = function (layout) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                if (!layout) {\r\n                    throw Error(\"layout argument is required\");\r\n                }\r\n                if (!layout.name) {\r\n                    throw Error(\"name argument is required\");\r\n                }\r\n                if (!layout.type) {\r\n                    throw Error(\"type argument is required\");\r\n                }\r\n                if (!layout.metadata) {\r\n                    throw Error(\"metadata argument is required\");\r\n                }\r\n                var layoutObject = {\r\n                    name: layout.name,\r\n                    type: layout.type,\r\n                    metadata: layout.metadata\r\n                };\r\n                _this.invokeMethodAndTrack(\"T42.ACS.UpdateMetadata\", layoutObject, resolve, reject, true);\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.hibernate = function (name, options) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                if (!name) {\r\n                    return reject(\"name cannot be empty\");\r\n                }\r\n                options = options || {};\r\n                var request = {\r\n                    name: name,\r\n                    type: \"Global\",\r\n                    context: options.context || {},\r\n                    metadata: options.metadata || {},\r\n                };\r\n                _this.invokeMethodAndTrack(\"T42.ACS.HibernateLayout\", request, resolve, reject, true);\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.resume = function (name, context, options) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                if (!name) {\r\n                    return reject(\"name cannot be empty\");\r\n                }\r\n                var request = __assign({ name: name, type: \"Global\", context: context }, options);\r\n                _this.invokeMethodAndTrack(\"T42.ACS.ResumeLayout\", request, resolve, reject, true);\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.getCurrentLayout = function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var result, layout;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.config.agm.invoke(\"T42.ACS.GetCurrentLayout\", {}, \"best\", { methodResponseTimeoutMs: 120 * 1000 })];\r\n                        case 1:\r\n                            result = _a.sent();\r\n                            layout = result.returned.layout;\r\n                            if (!layout) {\r\n                                return [2, undefined];\r\n                            }\r\n                            if (!this.isSlimMode()) {\r\n                                layout = this.list().find(function (l) { return l.name === layout.name && l.type === layout.type; });\r\n                            }\r\n                            return [2, layout];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.onAdded = function (callback) {\r\n            var result = this.callbacks.add(\"added\", callback);\r\n            if (store.all.length > 0) {\r\n                store.all.forEach(function (layout) {\r\n                    try {\r\n                        callback(layout);\r\n                    }\r\n                    catch (err) { }\r\n                });\r\n            }\r\n            return result;\r\n        };\r\n        LayoutsAPIImpl.prototype.onRemoved = function (callback) {\r\n            return this.callbacks.add(\"removed\", callback);\r\n        };\r\n        LayoutsAPIImpl.prototype.onChanged = function (callback) {\r\n            return this.callbacks.add(\"changed\", callback);\r\n        };\r\n        LayoutsAPIImpl.prototype.onRestored = function (callback) {\r\n            return this.callbacks.add(\"restored\", callback);\r\n        };\r\n        LayoutsAPIImpl.prototype.onRenamed = function (callback) {\r\n            return this.callbacks.add(\"renamed\", callback);\r\n        };\r\n        LayoutsAPIImpl.prototype.onEvent = function (callback) {\r\n            return this.stream.onEvent(callback);\r\n        };\r\n        LayoutsAPIImpl.prototype.onSaveRequested = function (callback) {\r\n            return this.provider.onSaveRequested(callback);\r\n        };\r\n        LayoutsAPIImpl.prototype.updateAppContextInCurrent = function (context) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                if (context && typeof context !== \"object\") {\r\n                    reject(\"context must be an object\");\r\n                }\r\n                context = (context !== null && context !== void 0 ? context : {});\r\n                var request = {\r\n                    context: context\r\n                };\r\n                _this.invokeMethodAndTrack(\"T42.ACS.UpdateLayoutComponentContext\", request, resolve, reject, true);\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.updateDefaultContext = function (context) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                if (context && typeof context !== \"object\") {\r\n                    reject(\"context must be an object\");\r\n                }\r\n                context = (context !== null && context !== void 0 ? context : {});\r\n                var request = {\r\n                    context: context\r\n                };\r\n                _this.invokeMethodAndTrack(\"T42.ACS.UpdateDefaultContext\", request, resolve, reject, true);\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.isSlimMode = function () {\r\n            return this.config.mode === \"slim\";\r\n        };\r\n        LayoutsAPIImpl.prototype.verifyNotSlimMode = function () {\r\n            if (this.isSlimMode()) {\r\n                throw Error(\"Operation not allowed in slim mode. Run in full mode.\");\r\n            }\r\n        };\r\n        LayoutsAPIImpl.prototype.isVisibleWindow = function (instance) {\r\n            if (instance.application.type === \"exe\" || instance.application.type === \"node\") {\r\n                return true;\r\n            }\r\n            if (instance.application.type === \"activity\") {\r\n                return true;\r\n            }\r\n            if (!instance || !instance.window) {\r\n                return false;\r\n            }\r\n            return instance.window.isVisible;\r\n        };\r\n        LayoutsAPIImpl.prototype.invokeMethodAndTrack = function (methodName, args, resolve, reject, skipStreamEvent) {\r\n            var streamEventReceived = skipStreamEvent;\r\n            var agmResult;\r\n            var token = shortid$1();\r\n            args.token = token;\r\n            var handleResult = function () {\r\n                if (streamEventReceived && agmResult) {\r\n                    resolve(agmResult);\r\n                }\r\n            };\r\n            if (!skipStreamEvent) {\r\n                this.stream.waitFor(token)\r\n                    .then(function () {\r\n                    streamEventReceived = true;\r\n                    handleResult();\r\n                })\r\n                    .catch(function (err) {\r\n                    reject(err);\r\n                });\r\n            }\r\n            var responseHandler = function (result) {\r\n                if (!result.returned) {\r\n                    reject(\"No result from method \" + methodName);\r\n                }\r\n                if (result.returned.status && (result.returned.status !== \"Success\" && result.returned.status !== \"PartialSuccess\")) {\r\n                    reject(result.returned);\r\n                }\r\n                agmResult = result.returned;\r\n                handleResult();\r\n            };\r\n            this.config.agm.invoke(methodName, args, \"best\", { methodResponseTimeoutMs: 120 * 1000 })\r\n                .then(responseHandler)\r\n                .catch(function (err) { return reject(err); });\r\n        };\r\n        LayoutsAPIImpl.prototype.getInstancesToClose = function (options) {\r\n            var _this = this;\r\n            var instances = [];\r\n            var shellApp = this.appManager.applications().filter(function (a) { return a.isShell; })[0];\r\n            var shellApplicationName = shellApp ? shellApp.name : \"AppManager\";\r\n            this.appManager.instances().forEach(function (i) {\r\n                if (_this.appManager.myInstance && i.id === _this.appManager.myInstance.id) {\r\n                    return;\r\n                }\r\n                if (i.application.name === shellApplicationName) {\r\n                    return;\r\n                }\r\n                if (!_this.isVisibleWindow(i)) {\r\n                    return;\r\n                }\r\n                if (options.type === \"Activity\") {\r\n                    if (i.activityId !== options.activityIdToJoin) {\r\n                        return;\r\n                    }\r\n                }\r\n                instances.push({ application: i.application.name, instance: i.id });\r\n            });\r\n            return instances;\r\n        };\r\n        LayoutsAPIImpl.prototype.getObjectValues = function (obj) {\r\n            if (!obj) {\r\n                return [];\r\n            }\r\n            return Object.keys(obj).map(function (k) { return obj[k]; });\r\n        };\r\n        return LayoutsAPIImpl;\r\n    }());\n\n    var ACSStream = (function () {\r\n        function ACSStream(agm, callbacks) {\r\n            var _this = this;\r\n            this.agm = agm;\r\n            this.callbacks = callbacks;\r\n            this.ready = new Promise(function (resolve, reject) {\r\n                _this.resolveReady = resolve;\r\n                _this.rejectReady = reject;\r\n            });\r\n            this.gotSnapshot = new Promise(function (resolve, reject) {\r\n                _this.resolveGotSnapshot = resolve;\r\n                _this.rejectGotSnapshot = reject;\r\n            });\r\n        }\r\n        ACSStream.prototype.subscribe = function (noRetry) {\r\n            var _this = this;\r\n            var transform = function (obj) {\r\n                return _this.getObjectValues(obj).map(function (t) { return transformACSLayout(t); });\r\n            };\r\n            if (!this.checkForLayoutEventMethod()) {\r\n                if (noRetry) {\r\n                    this.resolveReady();\r\n                }\r\n                setTimeout(function () {\r\n                    _this.subscribe(true);\r\n                }, 500);\r\n            }\r\n            else {\r\n                this.agm.subscribe(\"T42.ACS.OnLayoutEvent\", { waitTimeoutMs: 10000 })\r\n                    .then(function (subs) {\r\n                    subs.onData(function (args) {\r\n                        var data = args.data;\r\n                        if (data.IsSnapshot) {\r\n                            _this.resolveGotSnapshot();\r\n                        }\r\n                        _this.addLayouts(transform(data.OnLayoutAdded));\r\n                        _this.removeLayouts(transform(data.OnLayoutRemoved));\r\n                        _this.changeLayouts(transform(data.OnLayoutChanged));\r\n                        _this.renameLayouts(transform(data.OnLayoutRenamed));\r\n                        _this.restoredLayout(transform(data.OnLayoutRestored));\r\n                        _this.callbacks.execute(\"streamEvent\", data);\r\n                    });\r\n                    subs.onFailed(function (err) {\r\n                        var msg = \"can not subscribe to T42.ACS.OnLayoutEvent \" + err;\r\n                        _this.rejectReady(msg);\r\n                        _this.rejectGotSnapshot(msg);\r\n                    });\r\n                    _this.resolveReady();\r\n                })\r\n                    .catch(function (err) {\r\n                    var msg = \"Error subscribing for T42.ACS.OnLayoutEvent stream. Err: \" + err;\r\n                    _this.rejectReady(msg);\r\n                    _this.rejectGotSnapshot(msg);\r\n                });\r\n            }\r\n        };\r\n        ACSStream.prototype.onEvent = function (callback) {\r\n            return this.callbacks.add(\"streamEvent\", callback);\r\n        };\r\n        ACSStream.prototype.waitFor = function (token, timeout) {\r\n            var _this = this;\r\n            if (!timeout) {\r\n                timeout = 10000;\r\n            }\r\n            return new Promise(function (resolve, reject) {\r\n                var done = false;\r\n                var unsubscribe = _this.onEvent(function (streamEvent) {\r\n                    if (streamEvent.Token === token) {\r\n                        done = true;\r\n                        unsubscribe();\r\n                        resolve();\r\n                    }\r\n                });\r\n                setTimeout(function () {\r\n                    if (!done) {\r\n                        reject(\"timed out\");\r\n                    }\r\n                }, timeout);\r\n            });\r\n        };\r\n        ACSStream.prototype.checkForLayoutEventMethod = function () {\r\n            try {\r\n                return this.agm\r\n                    .methods()\r\n                    .map(function (m) { return m.name; })\r\n                    .indexOf(\"T42.ACS.OnLayoutEvent\") !== -1;\r\n            }\r\n            catch (e) {\r\n                return false;\r\n            }\r\n        };\r\n        ACSStream.prototype.addLayouts = function (layoutsData) {\r\n            var _this = this;\r\n            if (!layoutsData) {\r\n                return;\r\n            }\r\n            layoutsData.forEach(function (layoutData) {\r\n                var layout = new LayoutImpl(layoutData);\r\n                store.add(layout);\r\n                _this.callbacks.execute(\"added\", layout);\r\n            });\r\n        };\r\n        ACSStream.prototype.removeLayouts = function (removedLayouts) {\r\n            var _this = this;\r\n            if (!removedLayouts) {\r\n                return;\r\n            }\r\n            removedLayouts.forEach(function (removedLayout) {\r\n                store.removeWhere(function (existingLayout) { return !_this.compareLayouts(existingLayout, removedLayout); });\r\n                _this.callbacks.execute(\"removed\", removedLayout);\r\n            });\r\n        };\r\n        ACSStream.prototype.changeLayouts = function (changedLayouts) {\r\n            var _this = this;\r\n            if (!changedLayouts) {\r\n                return;\r\n            }\r\n            changedLayouts.forEach(function (changedLayout) {\r\n                store.removeWhere(function (existingLayout) { return !_this.compareLayouts(existingLayout, changedLayout); });\r\n                store.add(new LayoutImpl(changedLayout));\r\n                _this.callbacks.execute(\"changed\", changedLayout);\r\n            });\r\n        };\r\n        ACSStream.prototype.renameLayouts = function (renamedLayouts) {\r\n            var _this = this;\r\n            if (!renamedLayouts) {\r\n                return;\r\n            }\r\n            renamedLayouts.forEach(function (renamedLayout) {\r\n                var existingLayout = store.first(function (current) { return _this.compareLayouts(current, { type: renamedLayout.type, name: renamedLayout.oldName }); });\r\n                if (!existingLayout) {\r\n                    throw Error(\"received rename event for unknown layout with type \" + renamedLayout.type + \" and name \" + renamedLayout.oldName);\r\n                }\r\n                existingLayout.name = renamedLayout.newName;\r\n                _this.callbacks.execute(\"renamed\", existingLayout);\r\n            });\r\n        };\r\n        ACSStream.prototype.compareLayouts = function (layout1, layout2) {\r\n            return layout1.name === layout2.name && layout1.type === layout2.type;\r\n        };\r\n        ACSStream.prototype.getObjectValues = function (obj) {\r\n            if (!obj) {\r\n                return [];\r\n            }\r\n            return Object.keys(obj).map(function (k) { return obj[k]; });\r\n        };\r\n        ACSStream.prototype.restoredLayout = function (restoredLayouts) {\r\n            var _this = this;\r\n            if (!restoredLayouts) {\r\n                return;\r\n            }\r\n            restoredLayouts.forEach(function (restoredLayout) {\r\n                var existingLayout = store.first(function (current) { return _this.compareLayouts(current, { type: restoredLayout.type, name: restoredLayout.name }); });\r\n                _this.callbacks.execute(\"restored\", existingLayout);\r\n            });\r\n        };\r\n        return ACSStream;\r\n    }());\n\n    function streamNull () {\r\n        return {\r\n            ready: Promise.resolve(undefined),\r\n            subscribe: function () { },\r\n            onEvent: function (callback) { return function () { }; },\r\n            waitFor: function (token, timeout) { return Promise.resolve(undefined); },\r\n            gotSnapshot: Promise.resolve(undefined),\r\n        };\r\n    }\n\n    function LayoutsFactory (config) {\r\n        if (!config.agm) {\r\n            throw Error(\"config.agm is required\");\r\n        }\r\n        if (!config.logger) {\r\n            throw Error(\"config.logger is required\");\r\n        }\r\n        config.mode = config.mode || \"slim\";\r\n        var logger = config.logger;\r\n        var callbacks = lib$2();\r\n        var acsStream;\r\n        if (config.mode === \"full\" || \"fullWaitSnapshot\") {\r\n            acsStream = new ACSStream(config.agm, callbacks);\r\n        }\r\n        else {\r\n            acsStream = streamNull();\r\n        }\r\n        return new LayoutsAPIImpl(config, acsStream, callbacks, logger);\r\n    }\n\n    var T42DisplayCommand = \"T42.Displays.Command\";\r\n    var DisplayManager = (function () {\r\n        function DisplayManager(_agm, _logger) {\r\n            var _this = this;\r\n            this._agm = _agm;\r\n            this._logger = _logger;\r\n            this.all = function () { return __awaiter(_this, void 0, void 0, function () {\r\n                var displays;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.callGD(DisplayCommand.GetAll, {})];\r\n                        case 1:\r\n                            displays = _a.sent();\r\n                            return [2, displays.map(this.decorateDisplay)];\r\n                    }\r\n                });\r\n            }); };\r\n            this.get = function (id) { return __awaiter(_this, void 0, void 0, function () {\r\n                var display;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.callGD(DisplayCommand.Get, { id: id })];\r\n                        case 1:\r\n                            display = _a.sent();\r\n                            return [2, this.decorateDisplay(display)];\r\n                    }\r\n                });\r\n            }); };\r\n            this.getPrimary = function () { return __awaiter(_this, void 0, void 0, function () {\r\n                var primary;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.all()];\r\n                        case 1:\r\n                            primary = (_a.sent()).find(function (d) { return d.isPrimary; });\r\n                            return [2, primary];\r\n                    }\r\n                });\r\n            }); };\r\n            this.capture = function (options) { return __awaiter(_this, void 0, void 0, function () {\r\n                var screenshot;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.callGD(DisplayCommand.Capture, __assign({}, options))];\r\n                        case 1:\r\n                            screenshot = _a.sent();\r\n                            return [2, screenshot];\r\n                    }\r\n                });\r\n            }); };\r\n            this.captureAll = function (options) { return __awaiter(_this, void 0, void 0, function () {\r\n                var screenshots;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.callGD(DisplayCommand.CaptureAll, __assign({}, options))];\r\n                        case 1:\r\n                            screenshots = _a.sent();\r\n                            return [2, screenshots];\r\n                    }\r\n                });\r\n            }); };\r\n            this.getMousePosition = function () { return __awaiter(_this, void 0, void 0, function () {\r\n                var point;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.callGD(DisplayCommand.GetMousePosition)];\r\n                        case 1:\r\n                            point = _a.sent();\r\n                            return [2, point];\r\n                    }\r\n                });\r\n            }); };\r\n            this.callGD = function (command, options) { return __awaiter(_this, void 0, void 0, function () {\r\n                var invocationResult;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this._agm.invoke(T42DisplayCommand, { options: __assign({}, options), command: command })];\r\n                        case 1:\r\n                            invocationResult = _a.sent();\r\n                            return [2, invocationResult.returned.data];\r\n                    }\r\n                });\r\n            }); };\r\n            this.decorateDisplay = function (original) {\r\n                return __assign(__assign({}, original), { capture: function (size) { return _this.capture({ id: original.id, size: size }); } });\r\n            };\r\n        }\r\n        return DisplayManager;\r\n    }());\r\n    var DisplayCommand;\r\n    (function (DisplayCommand) {\r\n        DisplayCommand[\"Capture\"] = \"capture\";\r\n        DisplayCommand[\"CaptureAll\"] = \"captureAll\";\r\n        DisplayCommand[\"GetAll\"] = \"getAll\";\r\n        DisplayCommand[\"Get\"] = \"get\";\r\n        DisplayCommand[\"GetMousePosition\"] = \"getMousePosition\";\r\n    })(DisplayCommand || (DisplayCommand = {}));\n\n    var interop;\r\n    var windowId;\r\n    function setupAGM(interopLib, channels) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        interop = interopLib;\r\n                        if (typeof window !== \"undefined\") {\r\n                            if (window.glue42gd) {\r\n                                windowId = window.glue42gd.windowId;\r\n                            }\r\n                        }\r\n                        if (!windowId) {\r\n                            return [2];\r\n                        }\r\n                        return [4, interop.register(\"T42.Channels.Command\", function (args) {\r\n                                var command = args.command;\r\n                                if (!command) {\r\n                                    throw new Error(\"missing command argument\");\r\n                                }\r\n                                if (command === \"join\") {\r\n                                    var id = args.channel;\r\n                                    if (!id) {\r\n                                        throw new Error(\"missing argument id\");\r\n                                    }\r\n                                    channels.joinNoSelectorSwitch(id);\r\n                                    return;\r\n                                }\r\n                                if (command === \"leave\") {\r\n                                    channels.leaveNoSelectorSwitch();\r\n                                    return;\r\n                                }\r\n                                if (command === \"get\") {\r\n                                    var id = channels.current();\r\n                                    return { id: id };\r\n                                }\r\n                                throw new Error(\"unknown command \" + command);\r\n                            })];\r\n                    case 1:\r\n                        _a.sent();\r\n                        interop.invoke(\"T42.Channels.Announce\", { swId: windowId, instance: interop.instance.instance });\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    }\r\n    function switchChannel(channel, id) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                interop.invoke(\"T42.Channels.Announce\", {\r\n                    swId: (id !== null && id !== void 0 ? id : windowId),\r\n                    command: \"switchChannel\",\r\n                    data: { newChannel: channel }\r\n                });\r\n                return [2];\r\n            });\r\n        });\r\n    }\n\n    var CONTEXT_PREFIX = \"___channel___\";\r\n    var SharedContextSubscriber = (function () {\r\n        function SharedContextSubscriber(contexts) {\r\n            this.contexts = contexts;\r\n        }\r\n        SharedContextSubscriber.prototype.subscribe = function (callback) {\r\n            this.callback = callback;\r\n        };\r\n        SharedContextSubscriber.prototype.subscribeFor = function (name, callback) {\r\n            if (!this.isChannel(name)) {\r\n                return Promise.reject(new Error(\"Channel with name: \" + name + \" doesn't exist!\"));\r\n            }\r\n            var contextName = this.createContextName(name);\r\n            return this.contexts.subscribe(contextName, function (data, _, __, ___, extraData) {\r\n                var _a;\r\n                callback(data.data, data, (_a = extraData) === null || _a === void 0 ? void 0 : _a.updaterId);\r\n            });\r\n        };\r\n        SharedContextSubscriber.prototype.switchChannel = function (name) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var contextName, _a;\r\n                var _this = this;\r\n                return __generator(this, function (_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            this.unsubscribe();\r\n                            contextName = this.createContextName(name);\r\n                            _a = this;\r\n                            return [4, this.contexts.subscribe(contextName, function (data, _, __, ___, extraData) {\r\n                                    var _a;\r\n                                    if (_this.callback) {\r\n                                        _this.callback(data.data, data, (_a = extraData) === null || _a === void 0 ? void 0 : _a.updaterId);\r\n                                    }\r\n                                })];\r\n                        case 1:\r\n                            _a.unsubscribeFunc = _b.sent();\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        SharedContextSubscriber.prototype.unsubscribe = function () {\r\n            if (this.unsubscribeFunc) {\r\n                this.unsubscribeFunc();\r\n            }\r\n        };\r\n        SharedContextSubscriber.prototype.all = function () {\r\n            var contextNames = this.contexts.all();\r\n            var channelContextNames = contextNames.filter(function (contextName) { return contextName.startsWith(CONTEXT_PREFIX); });\r\n            var channelNames = channelContextNames.map(function (channelContextName) { return channelContextName.substr(CONTEXT_PREFIX.length); });\r\n            return channelNames;\r\n        };\r\n        SharedContextSubscriber.prototype.getContextData = function (name) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                if (!_this.isChannel(name)) {\r\n                    return reject(new Error(\"A channel with name: \" + name + \" doesn't exist!\"));\r\n                }\r\n                var contextName = _this.createContextName(name);\r\n                _this.contexts.subscribe(contextName, function (data) {\r\n                    resolve(data);\r\n                }).then(function (unsubscribeFunc) { return unsubscribeFunc(); });\r\n            });\r\n        };\r\n        SharedContextSubscriber.prototype.updateChannel = function (name, data) {\r\n            var contextName = this.createContextName(name);\r\n            return this.contexts.update(contextName, data);\r\n        };\r\n        SharedContextSubscriber.prototype.updateData = function (name, data) {\r\n            var contextName = this.createContextName(name);\r\n            if (this.contexts.setPathSupported) {\r\n                var pathValues = Object.keys(data).map(function (key) {\r\n                    return {\r\n                        path: \"data.\" + key,\r\n                        value: data[key]\r\n                    };\r\n                });\r\n                return this.contexts.setPaths(contextName, pathValues);\r\n            }\r\n            else {\r\n                return this.contexts.update(contextName, { data: data });\r\n            }\r\n        };\r\n        SharedContextSubscriber.prototype.isChannel = function (name) {\r\n            return this.all().some(function (channelName) { return channelName === name; });\r\n        };\r\n        SharedContextSubscriber.prototype.createContextName = function (name) {\r\n            return CONTEXT_PREFIX + name;\r\n        };\r\n        return SharedContextSubscriber;\r\n    }());\n\n    var ChannelsImpl = (function () {\r\n        function ChannelsImpl(shared) {\r\n            this.shared = shared;\r\n            this.subsKey = \"subs\";\r\n            this.changedKey = \"changed\";\r\n            this.registry = lib$2();\r\n            this.shared.subscribe(this.handler.bind(this));\r\n        }\r\n        ChannelsImpl.prototype.subscribe = function (callback) {\r\n            if (typeof callback !== \"function\") {\r\n                throw new Error(\"Please provide the callback as a function!\");\r\n            }\r\n            return this.registry.add(this.subsKey, callback);\r\n        };\r\n        ChannelsImpl.prototype.subscribeFor = function (name, callback) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var unsubscribeFunc;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (typeof name !== \"string\") {\r\n                                throw new Error(\"Please provide the name as a string!\");\r\n                            }\r\n                            if (typeof callback !== \"function\") {\r\n                                throw new Error(\"Please provide the callback as a function!\");\r\n                            }\r\n                            return [4, this.shared.subscribeFor(name, callback)];\r\n                        case 1:\r\n                            unsubscribeFunc = _a.sent();\r\n                            return [2, unsubscribeFunc];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ChannelsImpl.prototype.publish = function (data, name) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    if (typeof data !== \"object\") {\r\n                        throw new Error(\"Please provide the data as an object!\");\r\n                    }\r\n                    if (name) {\r\n                        if (typeof name !== \"string\") {\r\n                            throw new Error(\"Please provide the name as a string!\");\r\n                        }\r\n                        if (!this.shared.isChannel(name)) {\r\n                            return [2, Promise.reject(new Error(\"A channel with name: \" + name + \" doesn't exist!\"))];\r\n                        }\r\n                        return [2, this.shared.updateData(name, data)];\r\n                    }\r\n                    if (!this.currentContext) {\r\n                        throw new Error(\"Not joined to any channel!\");\r\n                    }\r\n                    return [2, this.shared.updateData(this.currentContext, data)];\r\n                });\r\n            });\r\n        };\r\n        ChannelsImpl.prototype.all = function () {\r\n            var channelNames = this.shared.all();\r\n            return Promise.resolve(channelNames);\r\n        };\r\n        ChannelsImpl.prototype.list = function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var channelNames, channelContexts;\r\n                var _this = this;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.all()];\r\n                        case 1:\r\n                            channelNames = _a.sent();\r\n                            return [4, Promise.all(channelNames.map(function (channelName) { return _this.get(channelName); }))];\r\n                        case 2:\r\n                            channelContexts = _a.sent();\r\n                            return [2, channelContexts];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ChannelsImpl.prototype.get = function (name) {\r\n            if (typeof name !== \"string\") {\r\n                return Promise.reject(new Error(\"Please provide the channel name as a string!\"));\r\n            }\r\n            return this.shared.getContextData(name);\r\n        };\r\n        ChannelsImpl.prototype.join = function (name) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    return [2, this.joinCore(name)];\r\n                });\r\n            });\r\n        };\r\n        ChannelsImpl.prototype.joinNoSelectorSwitch = function (name) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    return [2, this.joinCore(name, false)];\r\n                });\r\n            });\r\n        };\r\n        ChannelsImpl.prototype.leave = function () {\r\n            return this.leaveCore();\r\n        };\r\n        ChannelsImpl.prototype.leaveNoSelectorSwitch = function () {\r\n            return this.leaveCore(false);\r\n        };\r\n        ChannelsImpl.prototype.current = function () {\r\n            return this.currentContext;\r\n        };\r\n        ChannelsImpl.prototype.my = function () {\r\n            return this.current();\r\n        };\r\n        ChannelsImpl.prototype.changed = function (callback) {\r\n            if (typeof callback !== \"function\") {\r\n                throw new Error(\"Please provide the callback as a function!\");\r\n            }\r\n            return this.registry.add(this.changedKey, callback);\r\n        };\r\n        ChannelsImpl.prototype.onChanged = function (callback) {\r\n            return this.changed(callback);\r\n        };\r\n        ChannelsImpl.prototype.add = function (info) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var context;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (typeof info !== \"object\") {\r\n                                throw new Error(\"Please provide the info as an object!\");\r\n                            }\r\n                            if (typeof info.name === \"undefined\") {\r\n                                throw new Error(\"info.name is missing!\");\r\n                            }\r\n                            if (typeof info.name !== \"string\") {\r\n                                throw new Error(\"Please provide the info.name as a string!\");\r\n                            }\r\n                            if (typeof info.meta === \"undefined\") {\r\n                                throw new Error(\"info.meta is missing!\");\r\n                            }\r\n                            if (typeof info.meta !== \"object\") {\r\n                                throw new Error(\"Please provide the info.meta as an object!\");\r\n                            }\r\n                            if (typeof info.meta.color === \"undefined\") {\r\n                                throw new Error(\"info.meta.color is missing!\");\r\n                            }\r\n                            if (typeof info.meta.color !== \"string\") {\r\n                                throw new Error(\"Please provide the info.meta.color as a string!\");\r\n                            }\r\n                            context = {\r\n                                name: info.name,\r\n                                meta: info.meta || {},\r\n                                data: info.data || {}\r\n                            };\r\n                            return [4, this.shared.updateChannel(info.name, context)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2, context];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ChannelsImpl.prototype.handler = function (data, context, updaterId) {\r\n            this.registry.execute(this.subsKey, data, context, updaterId);\r\n        };\r\n        ChannelsImpl.prototype.joinCore = function (name, changeSelector) {\r\n            if (changeSelector === void 0) { changeSelector = true; }\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var doesChannelExist, channelExistsPromise;\r\n                var _this = this;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (typeof name !== \"string\") {\r\n                                throw new Error(\"Please provide the channel name as a string!\");\r\n                            }\r\n                            if (name === this.currentContext) {\r\n                                return [2];\r\n                            }\r\n                            doesChannelExist = function (channelName) {\r\n                                var channelNames = _this.shared.all();\r\n                                return channelNames.includes(channelName);\r\n                            };\r\n                            if (!!doesChannelExist(name)) return [3, 2];\r\n                            channelExistsPromise = new Promise(function (resolve, reject) {\r\n                                var timeoutId;\r\n                                var intervalId = setInterval(function () {\r\n                                    if (doesChannelExist(name)) {\r\n                                        clearTimeout(timeoutId);\r\n                                        clearInterval(intervalId);\r\n                                        resolve();\r\n                                    }\r\n                                }, 100);\r\n                                timeoutId = setTimeout(function () {\r\n                                    clearInterval(intervalId);\r\n                                    return reject(new Error(\"A channel with name: \" + name + \" doesn't exist!\"));\r\n                                }, 3000);\r\n                            });\r\n                            return [4, channelExistsPromise];\r\n                        case 1:\r\n                            _a.sent();\r\n                            _a.label = 2;\r\n                        case 2:\r\n                            this.currentContext = name;\r\n                            return [4, this.shared.switchChannel(name)];\r\n                        case 3:\r\n                            _a.sent();\r\n                            if (changeSelector) {\r\n                                switchChannel(name);\r\n                            }\r\n                            this.registry.execute(this.changedKey, name);\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ChannelsImpl.prototype.leaveCore = function (changeSelector) {\r\n            if (changeSelector === void 0) { changeSelector = true; }\r\n            this.currentContext = undefined;\r\n            this.registry.execute(this.changedKey, undefined);\r\n            this.shared.unsubscribe();\r\n            if (changeSelector) {\r\n                switchChannel();\r\n            }\r\n            return Promise.resolve();\r\n        };\r\n        return ChannelsImpl;\r\n    }());\n\n    function factory(contexts, agm) {\r\n        var sharedContexts = new SharedContextSubscriber(contexts);\r\n        var channels = new ChannelsImpl(sharedContexts);\r\n        setupAGM(agm, channels);\r\n        return {\r\n            subscribe: channels.subscribe.bind(channels),\r\n            subscribeFor: channels.subscribeFor.bind(channels),\r\n            publish: channels.publish.bind(channels),\r\n            all: channels.all.bind(channels),\r\n            list: channels.list.bind(channels),\r\n            get: channels.get.bind(channels),\r\n            join: channels.join.bind(channels),\r\n            leave: channels.leave.bind(channels),\r\n            current: channels.current.bind(channels),\r\n            my: channels.my.bind(channels),\r\n            changed: channels.changed.bind(channels),\r\n            onChanged: channels.onChanged.bind(channels),\r\n            add: channels.add.bind(channels),\r\n            ready: function () { return contexts.ready(); }\r\n        };\r\n    }\n\n    var CommandMethod = \"T42.Hotkeys.Command\";\r\n    var InvokeMethod = \"T42.Hotkeys.Invoke\";\r\n    var RegisterCommand = \"register\";\r\n    var UnregisterCommand = \"unregister\";\r\n    var UnregisterAllCommand = \"unregisterAll\";\r\n    var HotkeysImpl = (function () {\r\n        function HotkeysImpl(agm) {\r\n            this.agm = agm;\r\n            this.registry = lib$2();\r\n            this.firstHotkey = true;\r\n            this.hotkeys = new Map();\r\n        }\r\n        HotkeysImpl.prototype.register = function (info, callback) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var hkToLower;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (typeof info === \"undefined\") {\r\n                                throw new Error(\"Hotkey parameter missing\");\r\n                            }\r\n                            if (typeof info === \"string\") {\r\n                                info = {\r\n                                    hotkey: info\r\n                                };\r\n                            }\r\n                            else {\r\n                                if (!info.hotkey) {\r\n                                    throw new Error(\"Info's hotkey parameter missing\");\r\n                                }\r\n                                info = {\r\n                                    hotkey: info.hotkey,\r\n                                    description: info.description\r\n                                };\r\n                            }\r\n                            hkToLower = this.formatHotkey(info.hotkey);\r\n                            if (this.hotkeys.has(hkToLower)) {\r\n                                throw new Error(\"Shortcut for \" + hkToLower + \" already registered\");\r\n                            }\r\n                            if (!this.firstHotkey) return [3, 2];\r\n                            this.firstHotkey = false;\r\n                            return [4, this.registerInvokeAGMMethod()];\r\n                        case 1:\r\n                            _a.sent();\r\n                            _a.label = 2;\r\n                        case 2:\r\n                            this.registry.add(hkToLower, callback);\r\n                            return [4, this.agm.invoke(CommandMethod, { command: RegisterCommand, hotkey: hkToLower, description: info.description })];\r\n                        case 3:\r\n                            _a.sent();\r\n                            this.hotkeys.set(hkToLower, info);\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        HotkeysImpl.prototype.unregister = function (hotkey) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var hkToLower;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (typeof hotkey === \"undefined\") {\r\n                                throw new Error(\"hotkey parameter missing\");\r\n                            }\r\n                            if (typeof hotkey !== \"string\") {\r\n                                throw new Error(\"hotkey parameter must be string\");\r\n                            }\r\n                            hkToLower = this.formatHotkey(hotkey);\r\n                            return [4, this.agm.invoke(CommandMethod, { command: UnregisterCommand, hotkey: hkToLower })];\r\n                        case 1:\r\n                            _a.sent();\r\n                            this.hotkeys.delete(hkToLower);\r\n                            this.registry.clearKey(hkToLower);\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        HotkeysImpl.prototype.unregisterAll = function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.agm.invoke(CommandMethod, { command: UnregisterAllCommand })];\r\n                        case 1:\r\n                            _a.sent();\r\n                            this.hotkeys.clear();\r\n                            this.registry.clear();\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        HotkeysImpl.prototype.isRegistered = function (hotkey) {\r\n            var hkToLower = this.formatHotkey(hotkey);\r\n            return this.hotkeys.has(hkToLower);\r\n        };\r\n        HotkeysImpl.prototype.registerInvokeAGMMethod = function () {\r\n            var _this = this;\r\n            this.agm.register(InvokeMethod, function (args) {\r\n                var hkToLower = args.key.toLowerCase();\r\n                var info = _this.hotkeys.get(hkToLower);\r\n                _this.registry.execute(hkToLower, info);\r\n            });\r\n        };\r\n        HotkeysImpl.prototype.formatHotkey = function (hotkey) {\r\n            if (hotkey) {\r\n                return hotkey.replace(/\\s/g, \"\").toLowerCase();\r\n            }\r\n        };\r\n        return HotkeysImpl;\r\n    }());\n\n    function factory$1(agm) {\r\n        var hotkeys = new HotkeysImpl(agm);\r\n        return {\r\n            register: hotkeys.register.bind(hotkeys),\r\n            unregister: hotkeys.unregister.bind(hotkeys),\r\n            unregisterAll: hotkeys.unregisterAll.bind(hotkeys),\r\n            isRegistered: hotkeys.isRegistered.bind(hotkeys),\r\n            ready: function () { return Promise.resolve(); }\r\n        };\r\n    }\n\n    var version$2 = \"5.3.2\";\n\n    var prepareConfig$1 = (function (options) {\r\n        function getLibConfig(value, defaultMode, trueMode) {\r\n            if (typeof value === \"boolean\" && !value) {\r\n                return undefined;\r\n            }\r\n            var mode = getModeAsString(value, defaultMode, trueMode);\r\n            if (typeof value === \"object\") {\r\n                value.mode = mode;\r\n                return value;\r\n            }\r\n            return {\r\n                mode: mode,\r\n            };\r\n        }\r\n        function getModeAsString(value, defaultMode, trueMode) {\r\n            if (typeof value === \"object\") {\r\n                return getModeAsString(value.mode, defaultMode, trueMode) + \"\";\r\n            }\r\n            else if (typeof value === \"undefined\") {\r\n                if (typeof defaultMode === \"boolean\" && !defaultMode) {\r\n                    return undefined;\r\n                }\r\n                else {\r\n                    return defaultMode + \"\";\r\n                }\r\n            }\r\n            else if (typeof value === \"boolean\") {\r\n                if (value) {\r\n                    return ((trueMode === undefined) ? defaultMode : trueMode) + \"\";\r\n                }\r\n                else {\r\n                    return undefined;\r\n                }\r\n            }\r\n            return value + \"\";\r\n        }\r\n        var appDefaultMode = false;\r\n        var appDefaultTrueMode = \"startOnly\";\r\n        var activitiesDefaultMode = \"trackMyTypeAndInitiatedFromMe\";\r\n        var layoutsDefaultMode = \"slim\";\r\n        return {\r\n            layouts: getLibConfig(options.layouts, layoutsDefaultMode),\r\n            activities: getLibConfig(options.activities, activitiesDefaultMode),\r\n            appManager: getLibConfig(options.appManager, appDefaultMode, appDefaultTrueMode),\r\n            windows: getLibConfig(options.windows, true),\r\n            channels: getLibConfig(options.channels || false, false),\r\n            displays: getLibConfig(options.displays, true)\r\n        };\r\n    });\n\n    var Glue42Notification = (function () {\r\n        function Glue42Notification(options) {\r\n            this.options = options;\r\n            this.callbacks = lib$2();\r\n            this.actions = options.actions;\r\n            this.body = options.body;\r\n            this.badge = options.badge;\r\n            this.data = options.data;\r\n            this.dir = options.dir;\r\n            this.icon = options.icon;\r\n            this.image = options.image;\r\n            this.lang = options.lang;\r\n            this.renotify = options.renotify;\r\n            this.requireInteraction = options.requireInteraction;\r\n            this.silent = options.silent;\r\n            this.tag = options.tag;\r\n            this.timestamp = options.timestamp;\r\n            this.title = options.title;\r\n        }\r\n        Glue42Notification.prototype.close = function () {\r\n            throw new Error(\"Method not implemented.\");\r\n        };\r\n        Glue42Notification.prototype.addEventListener = function (type, listener, options) {\r\n            this.callbacks.add(type, listener);\r\n        };\r\n        Glue42Notification.prototype.removeEventListener = function (type, listener, options) {\r\n        };\r\n        Glue42Notification.prototype.dispatchEvent = function (event) {\r\n            this.callbacks.execute(event.type, event);\r\n            return true;\r\n        };\r\n        return Glue42Notification;\r\n    }());\n\n    var STARTING_INDEX = 0;\r\n    var Notifications = (function () {\r\n        function Notifications(interop) {\r\n            this.interop = interop;\r\n            this.methodsRegistered = false;\r\n            this.methodNameRoot = \"T42.Notifications.Handler-\" + shortid$1();\r\n            this.nextId = 0;\r\n            this.notifications = {};\r\n        }\r\n        Object.defineProperty(Notifications.prototype, \"maxActions\", {\r\n            get: function () {\r\n                return 2;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Notifications.prototype.raise = function (options) {\r\n            var _a, _b;\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var bunchOfPromises, index, id, notification, validActions, index, _loop_1, this_1, _i, validActions_1, action, g42notification;\r\n                return __generator(this, function (_c) {\r\n                    switch (_c.label) {\r\n                        case 0:\r\n                            if (!options) {\r\n                                throw new Error(\"invalid options - should be an object\");\r\n                            }\r\n                            if (!options.title) {\r\n                                throw new Error(\"invalid options - should have title\");\r\n                            }\r\n                            if (!!this.methodsRegistered) return [3, 2];\r\n                            bunchOfPromises = [];\r\n                            for (index = STARTING_INDEX; index < this.maxActions; index++) {\r\n                                bunchOfPromises.push(this.interop.register(this.methodNameRoot + \"_\" + index, this.handleNotificationAction.bind(this)));\r\n                            }\r\n                            return [4, Promise.all(bunchOfPromises)];\r\n                        case 1:\r\n                            _c.sent();\r\n                            this.methodsRegistered = true;\r\n                            _c.label = 2;\r\n                        case 2:\r\n                            id = String(this.nextId++);\r\n                            notification = {\r\n                                title: options.title,\r\n                                severity: \"Medium\",\r\n                                description: options.body,\r\n                                glueRoutingDetailMethodName: this.methodNameRoot + \"_\" + STARTING_INDEX,\r\n                                actions: [],\r\n                                source: id\r\n                            };\r\n                            if (options.actions) {\r\n                                validActions = options.actions.slice(0, this.maxActions);\r\n                                index = STARTING_INDEX;\r\n                                _loop_1 = function (action) {\r\n                                    var args = {\r\n                                        g42notificationId: id,\r\n                                        g42action: action.action,\r\n                                        g42interopMethod: (_a = action.interop) === null || _a === void 0 ? void 0 : _a.method,\r\n                                        g42interopTarget: (_b = action.interop) === null || _b === void 0 ? void 0 : _b.target,\r\n                                    };\r\n                                    var parameters = Object.keys(args).map(function (key) {\r\n                                        var value = args[key];\r\n                                        return {\r\n                                            name: key,\r\n                                            value: {\r\n                                                stringValue: value\r\n                                            }\r\n                                        };\r\n                                    });\r\n                                    var glueAction = {\r\n                                        name: this_1.methodNameRoot + \"_\" + index,\r\n                                        description: action.title,\r\n                                        displayName: action.title,\r\n                                        parameters: parameters\r\n                                    };\r\n                                    notification.actions.push(glueAction);\r\n                                    index++;\r\n                                };\r\n                                this_1 = this;\r\n                                for (_i = 0, validActions_1 = validActions; _i < validActions_1.length; _i++) {\r\n                                    action = validActions_1[_i];\r\n                                    _loop_1(action);\r\n                                }\r\n                            }\r\n                            return [4, this.interop.invoke(\"T42.GNS.Publish.RaiseNotification\", { notification: notification })];\r\n                        case 3:\r\n                            _c.sent();\r\n                            g42notification = new Glue42Notification(options);\r\n                            this.notifications[id] = g42notification;\r\n                            return [2, g42notification];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Notifications.prototype.handleNotificationAction = function (args) {\r\n            if (args.g42notificationId) {\r\n                var payload_1 = args;\r\n                var id = payload_1.g42notificationId;\r\n                var notification = this.notifications[id];\r\n                if (!notification) {\r\n                    return;\r\n                }\r\n                var event_1 = new Event(\"onaction\");\r\n                event_1.action = payload_1.g42action;\r\n                if (notification.onaction) {\r\n                    notification.onaction(event_1);\r\n                }\r\n                var actionDefinition = (notification.actions || []).find(function (item) { return item.action === payload_1.g42action; });\r\n                var actionInterop = actionDefinition.interop;\r\n                if (actionInterop) {\r\n                    this.interop.invoke(actionInterop.method, actionInterop.arguments || {}, actionInterop.target || \"best\");\r\n                }\r\n                notification.dispatchEvent(event_1);\r\n            }\r\n            else if (args.notification && args.notification.source) {\r\n                var id = args.notification.source;\r\n                var notification = this.notifications[id];\r\n                if (!notification) {\r\n                    return;\r\n                }\r\n                var event_2 = new Event(\"onclick\");\r\n                if (notification.onclick) {\r\n                    notification.onclick(event_2);\r\n                }\r\n                var clickInterop = notification.options.clickInterop;\r\n                if (clickInterop) {\r\n                    this.interop.invoke(clickInterop.method, clickInterop.arguments || {}, clickInterop.target || \"best\");\r\n                }\r\n                notification.dispatchEvent(event_2);\r\n            }\r\n        };\r\n        return Notifications;\r\n    }());\n\n    var ThemesConfigurationMethodName = \"T42.Themes.Configuration\";\r\n    var ThemesImpl = (function () {\r\n        function ThemesImpl(core) {\r\n            this.core = core;\r\n            this.registry = lib$2();\r\n            this.isSubscribed = false;\r\n            this.getConfiguration();\r\n        }\r\n        ThemesImpl.prototype.list = function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.getConfiguration()];\r\n                        case 1:\r\n                            _a.sent();\r\n                            if (!this.getMethodName) {\r\n                                throw new Error(\"not supported\");\r\n                            }\r\n                            return [4, this.getAll()];\r\n                        case 2: return [2, (_a.sent()).returned.all];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ThemesImpl.prototype.getCurrent = function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var all;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.getConfiguration()];\r\n                        case 1:\r\n                            _a.sent();\r\n                            if (!this.getMethodName) {\r\n                                throw new Error(\"not supported\");\r\n                            }\r\n                            return [4, this.getAll()];\r\n                        case 2:\r\n                            all = _a.sent();\r\n                            return [2, all.returned.all.find(function (t) { return t.name === all.returned.selected; })];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ThemesImpl.prototype.select = function (theme) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.getConfiguration()];\r\n                        case 1:\r\n                            _a.sent();\r\n                            if (!this.setMethodName) {\r\n                                throw new Error(\"not supported\");\r\n                            }\r\n                            return [4, this.core.interop.invoke(this.setMethodName, { theme: theme })];\r\n                        case 2:\r\n                            _a.sent();\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ThemesImpl.prototype.onChanged = function (callback) {\r\n            this.subscribe();\r\n            return this.registry.add(\"changed\", callback);\r\n        };\r\n        ThemesImpl.prototype.getConfiguration = function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var config, error_1;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            _a.trys.push([0, 2, , 3]);\r\n                            if (this.sharedContextName) {\r\n                                return [2];\r\n                            }\r\n                            return [4, this.core.interop.invoke(ThemesConfigurationMethodName)];\r\n                        case 1:\r\n                            config = _a.sent();\r\n                            this.sharedContextName = config.returned.sharedContextName;\r\n                            this.getMethodName = config.returned.getThemesMethodName;\r\n                            this.setMethodName = config.returned.setThemesMethodName;\r\n                            return [3, 3];\r\n                        case 2:\r\n                            error_1 = _a.sent();\r\n                            return [2];\r\n                        case 3: return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ThemesImpl.prototype.getAll = function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.getConfiguration()];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [4, this.core.interop.invoke(this.getMethodName)];\r\n                        case 2: return [2, _a.sent()];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ThemesImpl.prototype.subscribe = function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var _this = this;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.getConfiguration()];\r\n                        case 1:\r\n                            _a.sent();\r\n                            if (this.isSubscribed) {\r\n                                return [2];\r\n                            }\r\n                            this.isSubscribed = true;\r\n                            this.core.contexts.subscribe(this.sharedContextName, function (data) {\r\n                                if (data && data.all && data.selected) {\r\n                                    _this.registry.execute(\"changed\", data.all.find(function (t) { return t.name === data.selected; }));\r\n                                }\r\n                            });\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        return ThemesImpl;\r\n    }());\n\n    function factory$2(core) {\r\n        var themes = new ThemesImpl(core);\r\n        return {\r\n            list: themes.list.bind(themes),\r\n            getCurrent: themes.getCurrent.bind(themes),\r\n            select: themes.select.bind(themes),\r\n            onChanged: themes.onChanged.bind(themes),\r\n            ready: function () { return Promise.resolve(); },\r\n        };\r\n    }\n\n    var GLUE42_FDC3_INTENTS_METHOD_PREFIX = \"Tick42.FDC3.Intents.\";\r\n    var Intents = (function () {\r\n        function Intents(interop, windows, logger) {\r\n            this.interop = interop;\r\n            this.windows = windows;\r\n            this.logger = logger;\r\n        }\r\n        Intents.prototype.find = function (intentFilter) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var intents, ctToLower_1;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.all()];\r\n                        case 1:\r\n                            intents = _a.sent();\r\n                            if (typeof intentFilter === \"undefined\") {\r\n                                return [2, intents];\r\n                            }\r\n                            if (typeof intentFilter === \"string\") {\r\n                                return [2, intents.filter(function (intent) { return intent.name === intentFilter; })];\r\n                            }\r\n                            if (typeof intentFilter !== \"object\") {\r\n                                throw new Error(\"Please provide the intentFilter as a string or an object!\");\r\n                            }\r\n                            if (intentFilter.contextType) {\r\n                                ctToLower_1 = intentFilter.contextType.toLowerCase();\r\n                                intents = intents.filter(function (intent) { return intent.handlers.some(function (handler) { var _a; return (_a = handler.contextTypes) === null || _a === void 0 ? void 0 : _a.some(function (ct) { return ct.toLowerCase() === ctToLower_1; }); }); });\r\n                            }\r\n                            if (intentFilter.name) {\r\n                                intents = intents.filter(function (intent) { return intent.name === intentFilter.name; });\r\n                            }\r\n                            return [2, intents];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Intents.prototype.raise = function (intent) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var intentName, intentDef, isDynamicIntent, target, handler, anAppHandler, anInstanceHandler, instanceId, result;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if ((typeof intent !== \"string\" && typeof intent !== \"object\") || (typeof intent === \"object\" && typeof intent.intent !== \"string\")) {\r\n                                throw new Error(\"Please provide the intent as a string or an object with an intent property!\");\r\n                            }\r\n                            if (typeof intent === \"string\") {\r\n                                intent = {\r\n                                    intent: intent\r\n                                };\r\n                            }\r\n                            intentName = intent.intent;\r\n                            return [4, this.get(intentName)];\r\n                        case 1:\r\n                            intentDef = _a.sent();\r\n                            if (typeof intentDef === \"undefined\") {\r\n                                throw new Error(\"Intent \" + intentName + \" not found.\");\r\n                            }\r\n                            isDynamicIntent = !intentDef.handlers.some(function (intentDefHandler) { return intentDefHandler.type === \"app\"; });\r\n                            target = intent.target || (isDynamicIntent ? \"reuse\" : \"startNew\");\r\n                            anAppHandler = intentDef.handlers.find(function (intentHandler) { return intentHandler.type === \"app\"; });\r\n                            if (target === \"startNew\") {\r\n                                handler = anAppHandler;\r\n                            }\r\n                            else if (target === \"reuse\") {\r\n                                anInstanceHandler = intentDef.handlers.find(function (intentHandler) { return intentHandler.type === \"instance\"; });\r\n                                handler = anInstanceHandler || anAppHandler;\r\n                            }\r\n                            else if (target.instance) {\r\n                                handler = intentDef.handlers.find(function (intentHandler) { return intentHandler.type === \"instance\" && intentHandler.instanceId === target.instance; });\r\n                            }\r\n                            else if (target.app) {\r\n                                handler = intentDef.handlers.find(function (intentHandler) { return intentHandler.type === \"app\" && intentHandler.applicationName === target.app; });\r\n                            }\r\n                            else {\r\n                                throw new Error(\"Invalid intent target: \" + JSON.stringify(target));\r\n                            }\r\n                            if (!handler) {\r\n                                throw new Error(\"Can not raise intent for request \" + JSON.stringify(intent) + \" - can not find intent handler.\");\r\n                            }\r\n                            instanceId = handler.instanceId;\r\n                            if (!(handler.type === \"app\")) return [3, 3];\r\n                            return [4, this.startApp(handler.applicationName, intent.options)];\r\n                        case 2:\r\n                            instanceId = _a.sent();\r\n                            _a.label = 3;\r\n                        case 3: return [4, this.raiseIntentToInstance(instanceId, intentName, intent.context)];\r\n                        case 4:\r\n                            result = _a.sent();\r\n                            result.request = intent;\r\n                            result.handler = handler;\r\n                            return [2, result];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Intents.prototype.all = function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var result, apps_1, intents_1, appsWithIntents, _i, appsWithIntents_1, app, _a, _b, intentDef, intent, handler, _loop_1, _c, _d, server, e_1;\r\n                var _this = this;\r\n                return __generator(this, function (_e) {\r\n                    switch (_e.label) {\r\n                        case 0:\r\n                            _e.trys.push([0, 6, , 7]);\r\n                            return [4, this.interop.invoke(\"T42.ACS.GetApplications\", { withIntentsInfo: true })];\r\n                        case 1:\r\n                            result = _e.sent();\r\n                            apps_1 = result.returned.applications;\r\n                            intents_1 = {};\r\n                            appsWithIntents = apps_1.filter(function (app) { return app.intents && app.intents.length > 0; });\r\n                            for (_i = 0, appsWithIntents_1 = appsWithIntents; _i < appsWithIntents_1.length; _i++) {\r\n                                app = appsWithIntents_1[_i];\r\n                                for (_a = 0, _b = app.intents; _a < _b.length; _a++) {\r\n                                    intentDef = _b[_a];\r\n                                    intent = intents_1[intentDef.name];\r\n                                    if (!intent) {\r\n                                        intent = {\r\n                                            name: intentDef.name,\r\n                                            handlers: [],\r\n                                        };\r\n                                        intents_1[intentDef.name] = intent;\r\n                                    }\r\n                                    handler = {\r\n                                        applicationName: app.name,\r\n                                        applicationTitle: app.title,\r\n                                        applicationDescription: app.caption,\r\n                                        displayName: intentDef.displayName,\r\n                                        contextTypes: intentDef.contexts,\r\n                                        applicationIcon: app.icon,\r\n                                        type: \"app\"\r\n                                    };\r\n                                    intent.handlers.push(handler);\r\n                                }\r\n                            }\r\n                            _loop_1 = function (server) {\r\n                                return __generator(this, function (_a) {\r\n                                    switch (_a.label) {\r\n                                        case 0: return [4, Promise.all(server.getMethods()\r\n                                                .filter(function (method) { return method.name.startsWith(GLUE42_FDC3_INTENTS_METHOD_PREFIX); })\r\n                                                .map(function (method) { return __awaiter(_this, void 0, void 0, function () {\r\n                                                var intentName, intent, info, app, appIntent, window, title, handler;\r\n                                                var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\r\n                                                return __generator(this, function (_l) {\r\n                                                    switch (_l.label) {\r\n                                                        case 0:\r\n                                                            intentName = method.name.replace(GLUE42_FDC3_INTENTS_METHOD_PREFIX, \"\");\r\n                                                            intent = intents_1[intentName];\r\n                                                            if (!intent) {\r\n                                                                intent = {\r\n                                                                    name: intentName,\r\n                                                                    handlers: [],\r\n                                                                };\r\n                                                                intents_1[intentName] = intent;\r\n                                                            }\r\n                                                            if (method.description) {\r\n                                                                try {\r\n                                                                    info = JSON.parse(method.description);\r\n                                                                }\r\n                                                                catch (_m) { }\r\n                                                            }\r\n                                                            app = apps_1.find(function (appWithIntents) { return appWithIntents.name === server.application; });\r\n                                                            if (app && app.intents) {\r\n                                                                appIntent = app.intents.find(function (appDefIntent) { return appDefIntent.name === intentName; });\r\n                                                            }\r\n                                                            window = this.windows.findById(server.windowId);\r\n                                                            return [4, ((_a = window) === null || _a === void 0 ? void 0 : _a.getTitle())];\r\n                                                        case 1:\r\n                                                            title = _l.sent();\r\n                                                            handler = {\r\n                                                                instanceId: server.instance,\r\n                                                                applicationName: server.application,\r\n                                                                applicationIcon: ((_b = info) === null || _b === void 0 ? void 0 : _b.icon) || ((_c = app) === null || _c === void 0 ? void 0 : _c.icon),\r\n                                                                applicationTitle: (_d = app) === null || _d === void 0 ? void 0 : _d.title,\r\n                                                                applicationDescription: ((_e = info) === null || _e === void 0 ? void 0 : _e.description) || ((_f = app) === null || _f === void 0 ? void 0 : _f.caption),\r\n                                                                displayName: ((_g = info) === null || _g === void 0 ? void 0 : _g.displayName) || ((_h = appIntent) === null || _h === void 0 ? void 0 : _h.displayName),\r\n                                                                contextTypes: ((_j = info) === null || _j === void 0 ? void 0 : _j.contextTypes) || ((_k = appIntent) === null || _k === void 0 ? void 0 : _k.contexts),\r\n                                                                instanceTitle: title,\r\n                                                                type: \"instance\"\r\n                                                            };\r\n                                                            intent.handlers.push(handler);\r\n                                                            return [2];\r\n                                                    }\r\n                                                });\r\n                                            }); }))];\r\n                                        case 1:\r\n                                            _a.sent();\r\n                                            return [2];\r\n                                    }\r\n                                });\r\n                            };\r\n                            _c = 0, _d = this.interop.servers();\r\n                            _e.label = 2;\r\n                        case 2:\r\n                            if (!(_c < _d.length)) return [3, 5];\r\n                            server = _d[_c];\r\n                            return [5, _loop_1(server)];\r\n                        case 3:\r\n                            _e.sent();\r\n                            _e.label = 4;\r\n                        case 4:\r\n                            _c++;\r\n                            return [3, 2];\r\n                        case 5: return [2, Object.values(intents_1)];\r\n                        case 6:\r\n                            e_1 = _e.sent();\r\n                            this.logger.error(\"Failed to get the applications!\", e_1);\r\n                            return [2, []];\r\n                        case 7: return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Intents.prototype.addIntentListener = function (intent, handler) {\r\n            var _this = this;\r\n            if ((typeof intent !== \"string\" && typeof intent !== \"object\") || (typeof intent === \"object\" && typeof intent.intent !== \"string\")) {\r\n                throw new Error(\"Please provide the intent as a string or an object with an intent property!\");\r\n            }\r\n            if (typeof handler !== \"function\") {\r\n                throw new Error(\"Please provide the handler as a function!\");\r\n            }\r\n            var result = { unsubscribe: function () { return console.log(\"Could not unsubscribe!\"); } };\r\n            var intentName = typeof intent === \"string\" ? intent : intent.intent;\r\n            var methodName = \"\" + GLUE42_FDC3_INTENTS_METHOD_PREFIX + intentName;\r\n            var methodDescription = typeof intent === \"string\" ? undefined : JSON.stringify(intent);\r\n            this.interop.register({ name: methodName, description: methodDescription }, function (args) {\r\n                return handler(args);\r\n            }).then(function () {\r\n                result.unsubscribe = function () {\r\n                    _this.interop.unregister(methodName);\r\n                };\r\n            });\r\n            return result;\r\n        };\r\n        Intents.prototype.get = function (intent) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.all()];\r\n                        case 1: return [2, (_a.sent()).find(function (registeredIntent) { return registeredIntent.name === intent; })];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Intents.prototype.startApp = function (application, options) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var result;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.interop.invoke(\"T42.ACS.StartApplication\", { Name: application, options: options })];\r\n                        case 1:\r\n                            result = _a.sent();\r\n                            return [2, result.returned.Id];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Intents.prototype.raiseIntentToInstance = function (instanceId, intent, context) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var methodName, interopServer, method, result;\r\n                var _this = this;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            methodName = \"\" + GLUE42_FDC3_INTENTS_METHOD_PREFIX + intent;\r\n                            interopServer = this.interop.servers().find(function (server) { return server.instance === instanceId; });\r\n                            if (!!interopServer) return [3, 2];\r\n                            return [4, (new Promise(function (resolve, reject) {\r\n                                    var timeoutId;\r\n                                    var unsub = _this.interop.serverAdded(function (server) {\r\n                                        if (server.instance === instanceId) {\r\n                                            interopServer = server;\r\n                                            resolve();\r\n                                            clearTimeout(timeoutId);\r\n                                            unsub();\r\n                                        }\r\n                                    });\r\n                                    timeoutId = setTimeout(function () {\r\n                                        unsub();\r\n                                        reject(new Error(\"Can not find interop server for instance \" + instanceId));\r\n                                    }, 30 * 1000);\r\n                                }))];\r\n                        case 1:\r\n                            _a.sent();\r\n                            _a.label = 2;\r\n                        case 2:\r\n                            method = interopServer.getMethods().find(function (registeredMethod) { return registeredMethod.name === methodName; });\r\n                            if (!!method) return [3, 4];\r\n                            return [4, (new Promise(function (resolve, reject) {\r\n                                    var timeoutId;\r\n                                    var unsub = _this.interop.methodAdded(function (addedMethod) {\r\n                                        if (addedMethod.name === methodName) {\r\n                                            resolve();\r\n                                            clearTimeout(timeoutId);\r\n                                            unsub();\r\n                                        }\r\n                                    });\r\n                                    timeoutId = setTimeout(function () {\r\n                                        unsub();\r\n                                        reject(new Error(\"Can not find interop method \" + methodName + \" for instance \" + instanceId));\r\n                                    }, 10 * 1000);\r\n                                }))];\r\n                        case 3:\r\n                            _a.sent();\r\n                            _a.label = 4;\r\n                        case 4: return [4, this.interop.invoke(methodName, context, { instance: instanceId })];\r\n                        case 5:\r\n                            result = _a.sent();\r\n                            return [2, {\r\n                                    result: result.returned\r\n                                }];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        return Intents;\r\n    }());\n\n    var instances = [];\r\n    var factory$3 = function (options) { return __awaiter(void 0, void 0, void 0, function () {\r\n        function createWindows(core) {\r\n            if (glueConfig.windows) {\r\n                var windowsLogger = getLibLogger(\"windows\", core.logger, glueConfig.windows);\r\n                _windows = WindowsFactory(core.agm, windowsLogger, function () {\r\n                    return _appManager;\r\n                }, gdMajorVersion);\r\n                debugLog(_windows);\r\n                return _windows;\r\n            }\r\n        }\r\n        function createActivities(core) {\r\n            var _a, _b;\r\n            if (glueConfig.activities) {\r\n                if (ActivityModule.checkIsUsingGW3Implementation && ActivityModule.checkIsUsingGW3Implementation(core.connection)) {\r\n                    var activityLogger = getLibLogger(\"activity\", core.logger, glueConfig.activities);\r\n                    _activity = new ActivityModule({\r\n                        connection: core.connection,\r\n                        contexts: core.contexts,\r\n                        agm: core.agm,\r\n                        logger: activityLogger,\r\n                        logLevel: \"info\",\r\n                        disableAutoAnnounce: false,\r\n                        disposeRequestHandling: \"exit\",\r\n                        announcementInfo: null,\r\n                        windows: _windows,\r\n                        appManagerGetter: function () {\r\n                            return _appManager;\r\n                        },\r\n                        mode: glueConfig.activities.mode,\r\n                        typesToTrack: glueConfig.activities.typesToTrack,\r\n                        activityId: (_b = (_a = glue42gd) === null || _a === void 0 ? void 0 : _a.activityInfo) === null || _b === void 0 ? void 0 : _b.activityId,\r\n                        gdMajorVersion: gdMajorVersion\r\n                    }).api;\r\n                    debugLog(_activity);\r\n                    return _activity;\r\n                }\r\n            }\r\n        }\r\n        function createAppManager(core) {\r\n            if (!glueConfig.appManager) {\r\n                return;\r\n            }\r\n            var logger = getLibLogger(\"appManager\", core.logger, glueConfig.appManager);\r\n            _appManager = AppManagerFactory({\r\n                agm: core.agm,\r\n                windows: _windows,\r\n                logger: logger,\r\n                activities: _activity,\r\n                mode: glueConfig.appManager.mode,\r\n                gdMajorVersion: gdMajorVersion\r\n            });\r\n            debugLog(_appManager);\r\n            return _appManager;\r\n        }\r\n        function createLayouts(core) {\r\n            var _a;\r\n            if (!glueConfig.layouts) {\r\n                return;\r\n            }\r\n            var logger = getLibLogger(\"layouts\", core.logger, glueConfig.layouts);\r\n            var layoutsConfig = glueConfig.layouts;\r\n            var lay = LayoutsFactory({\r\n                agm: core.agm,\r\n                appManager: _appManager,\r\n                activityGetter: function () { return _activity; },\r\n                logger: logger,\r\n                mode: layoutsConfig.mode,\r\n                autoSaveWindowContext: (_a = layoutsConfig.autoSaveWindowContext, (_a !== null && _a !== void 0 ? _a : false)),\r\n                gdMajorVersion: gdMajorVersion\r\n            });\r\n            debugLog(lay);\r\n            return lay;\r\n        }\r\n        function createChannels(core) {\r\n            if (!glueConfig.channels) {\r\n                return;\r\n            }\r\n            if (!core.contexts) {\r\n                return;\r\n            }\r\n            var channelsAPI = factory(core.contexts, core.agm);\r\n            debugLog(channelsAPI);\r\n            return channelsAPI;\r\n        }\r\n        function createHotkeys(core) {\r\n            var hotkeysAPI = factory$1(core.agm);\r\n            debugLog(hotkeysAPI);\r\n            return hotkeysAPI;\r\n        }\r\n        function createIntents(core) {\r\n            var intentsAPI = new Intents(core.agm, _windows, core.logger.subLogger(\"intents\"));\r\n            debugLog(intentsAPI);\r\n            return intentsAPI;\r\n        }\r\n        function createNotifications(core) {\r\n            var notificationsAPI = new Notifications(core.interop);\r\n            debugLog(notificationsAPI);\r\n            return notificationsAPI;\r\n        }\r\n        function createDisplaysApi(core) {\r\n            if (glueConfig.displays) {\r\n                var displaysLogger = getLibLogger(\"displays\", core.logger, glueConfig.displays);\r\n                _displays = new DisplayManager(core.agm, displaysLogger);\r\n                debugLog(_displays);\r\n                return _displays;\r\n            }\r\n        }\r\n        function createThemes(core) {\r\n            if (!core.contexts) {\r\n                return;\r\n            }\r\n            var themesAPI = factory$2(core);\r\n            debugLog(themesAPI);\r\n            return themesAPI;\r\n        }\r\n        function getLibLogger(loggerName, logger, config) {\r\n            var newLogger = logger.subLogger(loggerName);\r\n            if (config && config.logger) {\r\n                var loggerConfig = config.logger;\r\n                if (loggerConfig.console) {\r\n                    newLogger.consoleLevel(loggerConfig.console);\r\n                }\r\n                if (loggerConfig.publish) {\r\n                    newLogger.publishLevel(loggerConfig.publish);\r\n                }\r\n            }\r\n            return newLogger;\r\n        }\r\n        function debugLog(entry) {\r\n            currentLog.push(entry);\r\n        }\r\n        var glue42gd, gdMajorVersion, glueConfig, _appManager, _activity, _windows, _displays, ext, currentLog, glueApi;\r\n        var _a;\r\n        return __generator(this, function (_b) {\r\n            switch (_b.label) {\r\n                case 0:\r\n                    glue42gd = typeof window !== \"undefined\" && window.glue42gd;\r\n                    if (glue42gd) {\r\n                        if (instances.length > 0) {\r\n                            return [2, instances[0]];\r\n                        }\r\n                    }\r\n                    gdMajorVersion = Utils$1.getGDMajorVersion();\r\n                    options = options || {};\r\n                    glueConfig = prepareConfig$1(options);\r\n                    options.gateway = options.gateway || {};\r\n                    ext = {\r\n                        libs: [\r\n                            { name: \"windows\", create: createWindows },\r\n                            { name: \"activities\", create: createActivities },\r\n                            { name: \"appManager\", create: createAppManager },\r\n                            { name: \"layouts\", create: createLayouts },\r\n                            { name: \"channels\", create: createChannels },\r\n                            { name: \"hotkeys\", create: createHotkeys },\r\n                            { name: \"displays\", create: createDisplaysApi },\r\n                            { name: \"intents\", create: createIntents },\r\n                            { name: \"notifications\", create: createNotifications },\r\n                            { name: \"themes\", create: createThemes }\r\n                        ],\r\n                        version: version$2,\r\n                        enrichGlue: function (glue) {\r\n                            glue.config.activities = glueConfig.activities;\r\n                            glue.config.windows = glueConfig.windows;\r\n                            glue.config.appManager = glueConfig.appManager;\r\n                            glue.config.layouts = glueConfig.layouts;\r\n                            glue.config.channels = glueConfig.channels;\r\n                            glue.config.displays = glueConfig.displays;\r\n                        },\r\n                    };\r\n                    currentLog = [];\r\n                    if (typeof window !== \"undefined\") {\r\n                        if (!window.glueFactoryLog) {\r\n                            window.glueFactoryLog = [];\r\n                        }\r\n                        window.glueFactoryLog.push(currentLog);\r\n                    }\r\n                    return [4, GlueCore(options, ext)];\r\n                case 1:\r\n                    glueApi = (_b.sent());\r\n                    instances.push(glueApi);\r\n                    if (!(Array.isArray((_a = options) === null || _a === void 0 ? void 0 : _a.libraries) && options.libraries.length)) return [3, 3];\r\n                    return [4, Promise.all(options.libraries.map(function (lib) { return lib(glueApi, options); }))];\r\n                case 2:\r\n                    _b.sent();\r\n                    _b.label = 3;\r\n                case 3: return [2, glueApi];\r\n            }\r\n        });\r\n    }); };\r\n    factory$3.coreVersion = GlueCore.version;\r\n    factory$3.version = version$2;\r\n    factory$3.instances = instances;\n\n    var whatToExpose = factory$3;\r\n    var shouldSetToWindow = true;\r\n    if (typeof window !== \"undefined\") {\r\n        var glue42gd = window.glue42gd;\r\n        if (glue42gd && glue42gd.autoInjected) {\r\n            whatToExpose = window.Glue;\r\n            shouldSetToWindow = false;\r\n        }\r\n        if (shouldSetToWindow) {\r\n            window.Glue = whatToExpose;\r\n        }\r\n        delete window.GlueCore;\r\n    }\r\n    whatToExpose.default = whatToExpose;\r\n    var whatToExpose$1 = whatToExpose;\n\n    return whatToExpose$1;\n\n})));\n//# sourceMappingURL=desktop.browser.js.map\n","/* eslint-disable @typescript-eslint/no-unused-vars */\r\n\r\nimport { Glue42Web } from \"../../web\";\r\n\r\nconst defaultConfig = {\r\n    logger: \"trace\",\r\n    gateway: { webPlatform: {} },\r\n    libraries: []\r\n};\r\n\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\nexport const parseConfig = (config?: Glue42Web.Config): any => {\r\n    return Object.assign({}, defaultConfig, config);\r\n};","import { Glue42Web } from \"../../web\";\r\nimport { openWindowConfigDecoder, coreWindowDataDecoder, windowHelloDecoder, helloSuccessDecoder, simpleWindowDecoder, windowBoundsResultDecoder, windowUrlResultDecoder, windowMoveResizeConfigDecoder, windowTitleConfigDecoder } from \"../shared/decoders\";\r\nimport { BridgeOperation } from \"../shared/types\";\r\nimport { WebWindowModel } from \"./webWindow\";\r\n\r\nexport type WindowOperationTypes = \"openWindow\" | \"getBounds\" |\r\n    \"windowHello\" | \"windowAdded\" | \"windowRemoved\" | \"getUrl\" |\r\n    \"moveResize\" | \"focus\" | \"close\" | \"getTitle\" | \"setTitle\";\r\n\r\nexport const operations: { [key in WindowOperationTypes]: BridgeOperation } = {\r\n    openWindow: { name: \"openWindow\", dataDecoder: openWindowConfigDecoder, resultDecoder: coreWindowDataDecoder },\r\n    windowHello: { name: \"windowHello\", dataDecoder: windowHelloDecoder, resultDecoder: helloSuccessDecoder },\r\n    windowAdded: { name: \"windowAdded\", dataDecoder: coreWindowDataDecoder },\r\n    windowRemoved: { name: \"windowRemoved\", dataDecoder: simpleWindowDecoder },\r\n    getBounds: { name: \"getBounds\", dataDecoder: simpleWindowDecoder, resultDecoder: windowBoundsResultDecoder },\r\n    getUrl: { name: \"getUrl\", dataDecoder: simpleWindowDecoder, resultDecoder: windowUrlResultDecoder },\r\n    moveResize: { name: \"moveResize\", dataDecoder: windowMoveResizeConfigDecoder },\r\n    focus: { name: \"focus\", dataDecoder: simpleWindowDecoder },\r\n    close: { name: \"close\", dataDecoder: simpleWindowDecoder },\r\n    getTitle: { name: \"getTitle\", dataDecoder: simpleWindowDecoder, resultDecoder: windowTitleConfigDecoder },\r\n    setTitle: { name: \"setTitle\", dataDecoder: windowTitleConfigDecoder }\r\n};\r\n\r\nexport interface WindowProjection {\r\n    id: string;\r\n    model: WebWindowModel;\r\n    api: Glue42Web.Windows.WebWindow;\r\n}\r\n\r\nexport interface WindowHello {\r\n    windowId?: string;\r\n}\r\n\r\nexport interface OpenWindowConfig {\r\n    name: string;\r\n    url: string;\r\n    options?: Glue42Web.Windows.Settings;\r\n}\r\n\r\nexport interface SimpleWindowCommand {\r\n    windowId: string;\r\n}\r\n\r\nexport interface WindowTitleConfig {\r\n    windowId: string;\r\n    title: string;\r\n}\r\n\r\nexport interface WindowMoveResizeConfig {\r\n    windowId: string;\r\n    top?: number;\r\n    left?: number;\r\n    width?: number;\r\n    height?: number;\r\n    relative?: boolean;\r\n}\r\n\r\nexport interface HelloSuccess {\r\n    windows: CoreWindowData[];\r\n    isWorkspaceFrame: boolean;\r\n}\r\n\r\nexport interface CoreWindowData {\r\n    windowId: string;\r\n    name: string;\r\n}\r\n\r\nexport interface WindowBoundsResult {\r\n    windowId: string;\r\n    bounds: Glue42Web.Windows.Bounds;\r\n}\r\n\r\nexport interface WindowUrlResult {\r\n    windowId: string;\r\n    url: string;\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { number } from \"decoder-validate\";\r\nimport { Glue42Web } from \"../../web\";\r\nimport { GlueBridge } from \"../communication/bridge\";\r\nimport { anyDecoder, boundsDecoder, nonEmptyStringDecoder, nonNegativeNumberDecoder } from \"../shared/decoders\";\r\nimport { operations, SimpleWindowCommand, WindowBoundsResult, WindowMoveResizeConfig, WindowTitleConfig, WindowUrlResult } from \"./protocol\";\r\nimport {\r\n    default as CallbackRegistryFactory,\r\n    CallbackRegistry,\r\n    UnsubscribeFunction,\r\n} from \"callback-registry\";\r\n\r\nexport class WebWindowModel {\r\n    private readonly registry: CallbackRegistry = CallbackRegistryFactory();\r\n    private readonly myCtxKey: string;\r\n    private ctxUnsubscribe: UnsubscribeFunction | undefined;\r\n    private me!: Glue42Web.Windows.WebWindow;\r\n\r\n    constructor(private readonly _id: string, private readonly _name: string, private readonly _bridge: GlueBridge) {\r\n        this.myCtxKey = `___window___${this.id}`;\r\n    }\r\n\r\n    public get id(): string {\r\n        return this._id.slice();\r\n    }\r\n\r\n    public get name(): string {\r\n        return this._name.slice();\r\n    }\r\n\r\n    public clean(): void {\r\n        if (this.ctxUnsubscribe) {\r\n            this.ctxUnsubscribe();\r\n        }\r\n    }\r\n\r\n    public async toApi(): Promise<Glue42Web.Windows.WebWindow> {\r\n\r\n        this.ctxUnsubscribe = await this._bridge.contextLib.subscribe(this.myCtxKey, (data) => this.registry.execute(\"context-updated\", data));\r\n\r\n        const api = {\r\n            id: this.id,\r\n            name: this.name,\r\n            getURL: this.getURL.bind(this),\r\n            moveResize: this.moveResize.bind(this),\r\n            resizeTo: this.resizeTo.bind(this),\r\n            moveTo: this.moveTo.bind(this),\r\n            focus: this.focus.bind(this),\r\n            close: this.close.bind(this),\r\n            getTitle: this.getTitle.bind(this),\r\n            setTitle: this.setTitle.bind(this),\r\n            getBounds: this.getBounds.bind(this),\r\n            getContext: this.getContext.bind(this),\r\n            updateContext: this.updateContext.bind(this),\r\n            setContext: this.setContext.bind(this),\r\n            onContextUpdated: this.onContextUpdated.bind(this)\r\n        };\r\n        \r\n        this.me = Object.freeze(api);\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private async getURL(): Promise<string> {\r\n        const result = await this._bridge.send<SimpleWindowCommand, WindowUrlResult>(\"windows\", operations.getUrl, { windowId: this.id });\r\n\r\n        return result.url;\r\n    }\r\n\r\n    private async moveResize(dimension: Partial<Glue42Web.Windows.Bounds>): Promise<Glue42Web.Windows.WebWindow> {\r\n        const targetBounds = boundsDecoder.runWithException(dimension);\r\n\r\n        const commandArgs = Object.assign({}, targetBounds, { windowId: this.id, relative: false });\r\n\r\n        await this._bridge.send<WindowMoveResizeConfig, void>(\"windows\", operations.moveResize, commandArgs);\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private async resizeTo(width?: number, height?: number): Promise<Glue42Web.Windows.WebWindow> {\r\n        if (typeof width === \"undefined\" && typeof height === \"undefined\") {\r\n            return this.me;\r\n        }\r\n\r\n        if (typeof width !== \"undefined\") {\r\n            nonNegativeNumberDecoder.runWithException(width);\r\n        }\r\n\r\n        if (typeof height !== \"undefined\") {\r\n            nonNegativeNumberDecoder.runWithException(height);\r\n        }\r\n\r\n        const commandArgs = Object.assign({}, { width, height }, { windowId: this.id, relative: true });\r\n\r\n        await this._bridge.send<WindowMoveResizeConfig, void>(\"windows\", operations.moveResize, commandArgs);\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private async moveTo(top?: number, left?: number): Promise<Glue42Web.Windows.WebWindow> {\r\n        if (typeof top === \"undefined\" && typeof left === \"undefined\") {\r\n            return this.me;\r\n        }\r\n\r\n        if (typeof top !== \"undefined\") {\r\n            number().runWithException(top);\r\n        }\r\n\r\n        if (typeof left !== \"undefined\") {\r\n            number().runWithException(left);\r\n        }\r\n\r\n        const commandArgs = Object.assign({}, { top, left }, { windowId: this.id, relative: true });\r\n\r\n        await this._bridge.send<WindowMoveResizeConfig, void>(\"windows\", operations.moveResize, commandArgs);\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private async focus(): Promise<Glue42Web.Windows.WebWindow> {\r\n        await this._bridge.send<SimpleWindowCommand, void>(\"windows\", operations.focus, { windowId: this.id });\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private async close(): Promise<Glue42Web.Windows.WebWindow> {\r\n        await this._bridge.send<SimpleWindowCommand, void>(\"windows\", operations.close, { windowId: this.id });\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private async getTitle(): Promise<string> {\r\n        const result = await this._bridge.send<SimpleWindowCommand, WindowTitleConfig>(\"windows\", operations.getTitle, { windowId: this.id });\r\n\r\n        return result.title;\r\n    }\r\n\r\n    private async setTitle(title: string): Promise<Glue42Web.Windows.WebWindow> {\r\n        const ttl = nonEmptyStringDecoder.runWithException(title);\r\n\r\n        await this._bridge.send<WindowTitleConfig, void>(\"windows\", operations.setTitle, { windowId: this.id, title: ttl });\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private async getBounds(): Promise<Glue42Web.Windows.Bounds> {\r\n        const result = await this._bridge.send<SimpleWindowCommand, WindowBoundsResult>(\"windows\", operations.getBounds, { windowId: this.id });\r\n\r\n        return result.bounds;\r\n    }\r\n\r\n    private async getContext(): Promise<any> {\r\n        return this._bridge.contextLib.get(this.myCtxKey);\r\n    }\r\n\r\n    private async updateContext(context: any): Promise<Glue42Web.Windows.WebWindow> {\r\n        const ctx = anyDecoder.runWithException(context);\r\n\r\n        await this._bridge.contextLib.update(this.myCtxKey, ctx);\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private async setContext(context: any): Promise<Glue42Web.Windows.WebWindow> {\r\n        const ctx = anyDecoder.runWithException(context);\r\n\r\n        await this._bridge.contextLib.set(this.myCtxKey, ctx);\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private onContextUpdated(callback: (context: any, window: Glue42Web.Windows.WebWindow) => void): UnsubscribeFunction {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"Cannot subscribe to context changes, because the provided callback is not a function\");\r\n        }\r\n\r\n        const wrappedCallback = (data: any): void => {\r\n            callback(data, this.me);\r\n        };\r\n\r\n        return this.registry.add(\"context-updated\", wrappedCallback);\r\n    }\r\n\r\n}","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Glue42Core } from \"@glue42/core\";\r\nimport { Glue42Web } from \"../../web\";\r\nimport { GlueBridge } from \"../communication/bridge\";\r\nimport { nonEmptyStringDecoder, windowOpenSettingsDecoder, windowOperationTypesDecoder } from \"../shared/decoders\";\r\nimport { LibController } from \"../shared/types\";\r\nimport { HelloSuccess, OpenWindowConfig, CoreWindowData, WindowHello, operations, WindowBoundsResult, WindowTitleConfig, WindowUrlResult, WindowMoveResizeConfig, WindowProjection } from \"./protocol\";\r\nimport {\r\n    default as CallbackRegistryFactory,\r\n    CallbackRegistry,\r\n    UnsubscribeFunction,\r\n} from \"callback-registry\";\r\nimport { IoC } from \"../shared/ioc\";\r\n\r\nexport class WindowsController implements LibController {\r\n\r\n    private readonly registry: CallbackRegistry = CallbackRegistryFactory();\r\n    private platformRegistration!: Promise<void>;\r\n    private ioc!: IoC;\r\n    private bridge!: GlueBridge;\r\n    private publicWindowId!: string;\r\n    private actualWindowId: string | undefined;\r\n    private allWindowProjections: WindowProjection[] = [];\r\n    private me!: Glue42Web.Windows.WebWindow;\r\n    private logger!: Glue42Web.Logger.API;\r\n\r\n    public async start(coreGlue: Glue42Core.GlueCore, ioc: IoC): Promise<void> {\r\n\r\n        this.logger = coreGlue.logger.subLogger(\"windows.controller.web\");\r\n\r\n        this.logger.trace(\"starting the web windows controller\");\r\n\r\n        this.publicWindowId = (coreGlue as any).connection.transport.publicWindowId;\r\n        this.actualWindowId = coreGlue.interop.instance.windowId;\r\n\r\n        this.addWindowOperationExecutors();\r\n\r\n        this.ioc = ioc;\r\n        this.bridge = ioc.bridge;\r\n\r\n        this.logger.trace(`set the public window id: ${this.publicWindowId} and actual window id: ${this.actualWindowId}, set the bridge operations and ioc, registering with the platform now`);\r\n\r\n        this.platformRegistration = this.registerWithPlatform();\r\n\r\n        await this.platformRegistration;\r\n\r\n        this.logger.trace(\"registration with the platform successful, attaching the windows property to glue and returning\");\r\n\r\n        const api = this.toApi();\r\n\r\n        (coreGlue as Glue42Web.API).windows = api;\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    public async handleBridgeMessage(args: any): Promise<void> {\r\n        await this.platformRegistration;\r\n\r\n        const operationName = windowOperationTypesDecoder.runWithException(args.operation);\r\n\r\n        const operation = operations[operationName];\r\n\r\n        if (!operation.execute) {\r\n            return;\r\n        }\r\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n        let operationData: any = args.data;\r\n\r\n        if (operation.dataDecoder) {\r\n            operationData = operation.dataDecoder.runWithException(args.data);\r\n        }\r\n\r\n        return await operation.execute(operationData);\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    private async open(name: string, url: string, options?: Glue42Web.Windows.Settings): Promise<Glue42Web.Windows.WebWindow> {\r\n        nonEmptyStringDecoder.runWithException(name);\r\n        nonEmptyStringDecoder.runWithException(url);\r\n        const settings = windowOpenSettingsDecoder.runWithException(options);\r\n\r\n        const windowSuccess = await this.bridge.send<OpenWindowConfig, CoreWindowData>(\"windows\", operations.openWindow, { name, url, options: settings });\r\n\r\n        const projection = await this.ioc.buildWebWindow(windowSuccess.windowId, windowSuccess.name);\r\n\r\n        return projection.api;\r\n    }\r\n\r\n    private list(): Glue42Web.Windows.WebWindow[] {\r\n        return this.allWindowProjections.map((projection) => projection.api);\r\n    }\r\n\r\n    private findById(id: string): Glue42Web.Windows.WebWindow | undefined {\r\n        nonEmptyStringDecoder.runWithException(id);\r\n\r\n        return this.allWindowProjections.find((projection) => projection.id === id)?.api;\r\n    }\r\n\r\n    private toApi(): Glue42Web.Windows.API {\r\n        return {\r\n            open: this.open.bind(this),\r\n            my: this.my.bind(this),\r\n            list: this.list.bind(this),\r\n            findById: this.findById.bind(this),\r\n            onWindowAdded: this.onWindowAdded.bind(this),\r\n            onWindowRemoved: this.onWindowRemoved.bind(this)\r\n        };\r\n    }\r\n\r\n    private addWindowOperationExecutors(): void {\r\n        operations.windowAdded.execute = this.handleWindowAdded.bind(this);\r\n        operations.windowRemoved.execute = this.handleWindowRemoved.bind(this);\r\n        operations.getBounds.execute = this.handleGetBounds.bind(this);\r\n        operations.getTitle.execute = this.handleGetTitle.bind(this);\r\n        operations.getUrl.execute = this.handleGetUrl.bind(this);\r\n        operations.moveResize.execute = this.handleMoveResize.bind(this);\r\n        operations.setTitle.execute = this.handleSetTitle.bind(this);\r\n    }\r\n\r\n    private my(): Glue42Web.Windows.WebWindow {\r\n        return Object.assign({}, this.me);\r\n    }\r\n\r\n    private onWindowAdded(callback: (window: Glue42Web.Windows.WebWindow) => void): UnsubscribeFunction {\r\n        return this.registry.add(\"window-added\", callback);\r\n    }\r\n\r\n    private onWindowRemoved(callback: (window: Glue42Web.Windows.WebWindow) => void): UnsubscribeFunction {\r\n        return this.registry.add(\"window-removed\", callback);\r\n    }\r\n\r\n    private async sayHello(): Promise<HelloSuccess> {\r\n        const helloSuccess = await this.bridge.send<WindowHello, HelloSuccess>(\"windows\", operations.windowHello, { windowId: this.actualWindowId });\r\n\r\n        return helloSuccess;\r\n    }\r\n\r\n    private async registerWithPlatform(): Promise<void> {\r\n\r\n        const { windows, isWorkspaceFrame } = await this.sayHello();\r\n\r\n        this.logger.trace(\"the platform responded to the hello message\");\r\n\r\n        if (!isWorkspaceFrame) {\r\n            this.logger.trace(\"i am not treated as a workspace frame, setting my window\");\r\n\r\n            const myWindow = windows.find((w) => w.windowId === this.publicWindowId);\r\n\r\n            if (!myWindow) {\r\n                throw new Error(\"Cannot initialize the window library, because I received no information about me from the platform\");\r\n            }\r\n\r\n            this.me = (await this.ioc.buildWebWindow(this.publicWindowId, myWindow.name)).api;\r\n        }\r\n\r\n        const currentWindows = await Promise.all(windows.map((w) => this.ioc.buildWebWindow(w.windowId, w.name)));\r\n\r\n        this.logger.trace(\"all windows projections are completed, building the list collection\");\r\n\r\n        this.allWindowProjections.push(...currentWindows);\r\n    }\r\n\r\n    private async handleWindowAdded(data: CoreWindowData): Promise<void> {\r\n        if (this.allWindowProjections.some((projection) => projection.id === data.windowId)) {\r\n            return;\r\n        }\r\n\r\n        const webWindowProjection = await this.ioc.buildWebWindow(data.windowId, data.name);\r\n        this.allWindowProjections.push(webWindowProjection);\r\n\r\n        this.registry.execute(\"window-added\", webWindowProjection.api);\r\n    }\r\n\r\n    private async handleWindowRemoved(data: CoreWindowData): Promise<void> {\r\n        const removed = this.allWindowProjections.find((w) => w.id === data.windowId);\r\n\r\n        if (!removed) {\r\n            return;\r\n        }\r\n\r\n        this.allWindowProjections = this.allWindowProjections.filter((w) => w.id !== data.windowId);\r\n\r\n        removed.model.clean();\r\n\r\n        this.registry.execute(\"window-removed\", removed.api);\r\n    }\r\n\r\n    private async handleGetBounds(): Promise<WindowBoundsResult> {\r\n        return {\r\n            windowId: this.me.id,\r\n            bounds: {\r\n                top: window.screenTop,\r\n                left: window.screenLeft,\r\n                width: window.innerWidth,\r\n                height: window.innerHeight\r\n            }\r\n        };\r\n    }\r\n\r\n    private async handleGetTitle(): Promise<WindowTitleConfig> {\r\n        return {\r\n            windowId: this.me.id,\r\n            title: document.title\r\n        };\r\n    }\r\n\r\n    private async handleGetUrl(): Promise<WindowUrlResult> {\r\n        return {\r\n            windowId: this.me.id,\r\n            url: window.location.href\r\n        };\r\n    }\r\n\r\n    private async handleMoveResize(config: WindowMoveResizeConfig): Promise<void> {\r\n\r\n        const targetTop = typeof config.top === \"number\" ? config.top :\r\n            config.relative ? 0 : window.screenTop;\r\n\r\n        const targetLeft = typeof config.left === \"number\" ? config.left :\r\n            config.relative ? 0 : window.screenLeft;\r\n\r\n        const targetHeight = typeof config.height === \"number\" ? config.height :\r\n            config.relative ? 0 : window.innerHeight;\r\n\r\n        const targetWidth = typeof config.width === \"number\" ? config.width :\r\n            config.relative ? 0 : window.innerWidth;\r\n\r\n        const moveMethod = config.relative ? window.moveBy : window.moveTo;\r\n        const resizeMethod = config.relative ? window.resizeBy : window.resizeTo;\r\n\r\n        moveMethod(targetTop, targetLeft);\r\n        resizeMethod(targetWidth, targetHeight);\r\n    }\r\n\r\n    private async handleSetTitle(config: WindowTitleConfig): Promise<void> {\r\n        document.title = config.title;\r\n    }\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\n\r\nexport const PromiseWrap = <T>(promise: () => Promise<T>, timeoutMilliseconds: number, timeoutMessage?: string): Promise<T> => {\r\n    return new Promise<T>((resolve, reject) => {\r\n\r\n        let promiseActive = true;\r\n\r\n        const timeout = setTimeout(() => {\r\n            if (!promiseActive) {\r\n                return;\r\n            }\r\n            promiseActive = false;\r\n            const message = timeoutMessage || `Promise timeout hit: ${timeoutMilliseconds}`;\r\n\r\n            reject(message);\r\n        }, timeoutMilliseconds);\r\n\r\n        promise()\r\n            .then((result) => {\r\n                if (!promiseActive) {\r\n                    return;\r\n                }\r\n                promiseActive = false;\r\n                clearTimeout(timeout);\r\n                resolve(result);\r\n            })\r\n            .catch((error) => {\r\n                if (!promiseActive) {\r\n                    return;\r\n                }\r\n                promiseActive = false;\r\n                clearTimeout(timeout);\r\n                reject(error);\r\n            });\r\n    });\r\n};\r\n\r\nexport const PromisePlus = <T>(executor: (resolve: (value?: T | PromiseLike<T> | undefined) => void, reject: (reason?: any) => void) => void, timeoutMilliseconds: number, timeoutMessage?: string): Promise<T> => {\r\n\r\n    return new Promise<T>((resolve, reject) => {\r\n        const timeout = setTimeout(() => {\r\n\r\n            const message = timeoutMessage || `Promise timeout hit: ${timeoutMilliseconds}`;\r\n\r\n            reject(message);\r\n        }, timeoutMilliseconds);\r\n\r\n        const providedPromise = new Promise<T>(executor);\r\n\r\n        providedPromise\r\n            .then((result) => {\r\n                clearTimeout(timeout);\r\n                resolve(result);\r\n            })\r\n            .catch((error) => {\r\n                clearTimeout(timeout);\r\n                reject(error);\r\n            });\r\n    });\r\n\r\n};\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { appHelloSuccessDecoder, applicationStartConfigDecoder, baseApplicationDataDecoder, basicInstanceDataDecoder, instanceDataDecoder, windowHelloDecoder } from \"../shared/decoders\";\r\nimport { BridgeOperation } from \"../shared/types\";\r\n\r\nexport type AppManagerOperationTypes = \"appHello\" | \"applicationAdded\" |\r\n    \"applicationRemoved\" | \"applicationChanged\" | \"instanceStarted\" | \"instanceStopped\" |\r\n    \"applicationStart\" | \"instanceStop\";\r\n\r\nexport const operations: { [key in AppManagerOperationTypes]: BridgeOperation } = {\r\n    appHello: { name: \"appHello\", dataDecoder: windowHelloDecoder, resultDecoder: appHelloSuccessDecoder },\r\n    applicationAdded: { name: \"applicationAdded\", dataDecoder: baseApplicationDataDecoder },\r\n    applicationRemoved: { name: \"applicationRemoved\", dataDecoder: baseApplicationDataDecoder },\r\n    applicationChanged: { name: \"applicationChanged\", dataDecoder: baseApplicationDataDecoder },\r\n    instanceStarted: { name: \"instanceStarted\", dataDecoder: instanceDataDecoder },\r\n    instanceStopped: { name: \"instanceStopped\", dataDecoder: instanceDataDecoder },\r\n    applicationStart: { name: \"applicationStart\", dataDecoder: applicationStartConfigDecoder, resultDecoder: instanceDataDecoder },\r\n    instanceStop: { name: \"instanceStop\", dataDecoder: basicInstanceDataDecoder }\r\n};\r\n\r\nexport interface InstanceData {\r\n    id: string;\r\n    applicationName: string;\r\n}\r\n\r\nexport interface BaseApplicationData {\r\n    name: string;\r\n    userProperties: any;\r\n    title?: string;\r\n    version?: string;\r\n    icon?: string;\r\n    caption?: string;\r\n}\r\n\r\nexport interface ApplicationData extends BaseApplicationData {\r\n    instances: InstanceData[];\r\n}\r\n\r\nexport interface AppHelloSuccess {\r\n    apps: ApplicationData[];\r\n}\r\n\r\nexport interface ApplicationStartConfig {\r\n    name: string;\r\n    waitForAGMReady: boolean;\r\n    context?: any;\r\n    top?: number;\r\n    left?: number;\r\n    width?: number;\r\n    height?: number;\r\n    relativeTo?: string;\r\n    relativeDirection?: \"top\" | \"left\" | \"right\" | \"bottom\";\r\n}\r\n\r\nexport interface BasicInstanceData {\r\n    id: string;\r\n}\r\n","/* eslint-disable @typescript-eslint/no-unused-vars */\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Glue42Core } from \"@glue42/core\";\r\nimport { Glue42Web } from \"../../web\";\r\nimport { GlueBridge } from \"../communication/bridge\";\r\nimport { appManagerOperationTypesDecoder, nonEmptyStringDecoder } from \"../shared/decoders\";\r\nimport { IoC } from \"../shared/ioc\";\r\nimport { LibController } from \"../shared/types\";\r\nimport { WindowHello } from \"../windows/protocol\";\r\nimport { AppHelloSuccess, ApplicationData, ApplicationStartConfig, InstanceData, operations } from \"./protocol\";\r\nimport {\r\n    default as CallbackRegistryFactory,\r\n    CallbackRegistry,\r\n    UnsubscribeFunction,\r\n} from \"callback-registry\";\r\n\r\nexport class AppManagerController implements LibController {\r\n    private readonly registry: CallbackRegistry = CallbackRegistryFactory();\r\n    private ioc!: IoC;\r\n    private bridge!: GlueBridge;\r\n    private publicWindowId!: string;\r\n    private actualWindowId: string | undefined;\r\n    private me: Glue42Web.AppManager.Instance | undefined;\r\n    private applications: Glue42Web.AppManager.Application[] = [];\r\n    private instances: Glue42Web.AppManager.Instance[] = [];\r\n    private platformRegistration!: Promise<void>;\r\n    private logger!: Glue42Web.Logger.API;\r\n\r\n    public async start(coreGlue: Glue42Core.GlueCore, ioc: IoC): Promise<void> {\r\n        this.logger = coreGlue.logger.subLogger(\"appManger.controller.web\");\r\n\r\n        this.logger.trace(\"starting the web appManager controller\");\r\n\r\n        this.publicWindowId = (coreGlue as any).connection.transport.publicWindowId;\r\n        this.actualWindowId = coreGlue.interop.instance.windowId;\r\n\r\n        this.addOperationsExecutors();\r\n\r\n        this.ioc = ioc;\r\n        this.bridge = ioc.bridge;\r\n\r\n        this.platformRegistration = this.registerWithPlatform();\r\n\r\n        await this.platformRegistration;\r\n\r\n        this.logger.trace(\"registration with the platform successful, attaching the appManager property to glue and returning\");\r\n\r\n        const api = this.toApi();\r\n\r\n        (coreGlue as Glue42Web.API).appManager = api;\r\n    }\r\n\r\n    public async handleBridgeMessage(args: any): Promise<void> {\r\n        await this.platformRegistration;\r\n\r\n        const operationName = appManagerOperationTypesDecoder.runWithException(args.operation);\r\n\r\n        const operation = operations[operationName];\r\n\r\n        if (!operation.execute) {\r\n            return;\r\n        }\r\n\r\n        let operationData: any = args.data;\r\n\r\n        if (operation.dataDecoder) {\r\n            operationData = operation.dataDecoder.runWithException(args.data);\r\n        }\r\n\r\n        return await operation.execute(operationData);\r\n    }\r\n\r\n    public onInstanceStarted(callback: (instance: Glue42Web.AppManager.Instance) => any): UnsubscribeFunction {\r\n        return this.registry.add(\"instance-started\", callback);\r\n    }\r\n\r\n    public onInstanceStopped(callback: (instance: Glue42Web.AppManager.Instance) => any): UnsubscribeFunction {\r\n        return this.registry.add(\"instance-stopped\", callback);\r\n    }\r\n\r\n    public async startApplication(appName: string, context?: object, options?: Glue42Web.AppManager.ApplicationStartOptions): Promise<Glue42Web.AppManager.Instance> {\r\n        const startOptions: ApplicationStartConfig = {\r\n            name: appName,\r\n            waitForAGMReady: options?.waitForAGMReady ?? true,\r\n            context,\r\n            top: options?.top,\r\n            left: options?.left,\r\n            width: options?.width,\r\n            height: options?.height,\r\n            relativeTo: options?.relativeTo,\r\n            relativeDirection: options?.relativeDirection\r\n        };\r\n\r\n        const openResult = await this.bridge.send<ApplicationStartConfig, InstanceData>(\"appManager\", operations.applicationStart, startOptions);\r\n\r\n        const app = this.applications.find((a) => a.name === openResult.applicationName) as Glue42Web.AppManager.Application;\r\n\r\n        return this.ioc.buildInstance(openResult, app);\r\n    }\r\n\r\n    private toApi(): Glue42Web.AppManager.API {\r\n        const api: Glue42Web.AppManager.API = {\r\n            myInstance: this.me as unknown as Glue42Web.AppManager.Instance,\r\n            application: this.getApplication.bind(this),\r\n            applications: this.getApplications.bind(this),\r\n            instances: this.getInstances.bind(this),\r\n            onAppAdded: this.onAppAdded.bind(this),\r\n            onAppChanged: this.onAppChanged.bind(this),\r\n            onAppRemoved: this.onAppRemoved.bind(this),\r\n            onInstanceStarted: this.onInstanceStarted.bind(this),\r\n            onInstanceStopped: this.onInstanceStopped.bind(this)\r\n        };\r\n\r\n        return Object.freeze(api);\r\n    }\r\n\r\n    private addOperationsExecutors(): void {\r\n        operations.applicationAdded.execute = this.handleApplicationAddedMessage.bind(this);\r\n        operations.applicationRemoved.execute = this.handleApplicationRemovedMessage.bind(this);\r\n        operations.applicationChanged.execute = this.handleApplicationChangedMessage.bind(this);\r\n        operations.instanceStarted.execute = this.handleInstanceStartedMessage.bind(this);\r\n        operations.instanceStopped.execute = this.handleInstanceStoppedMessage.bind(this);\r\n    }\r\n\r\n    private onAppAdded(callback: (app: Glue42Web.AppManager.Application) => any): UnsubscribeFunction {\r\n        return this.registry.add(\"application-added\", callback);\r\n    }\r\n\r\n    private onAppRemoved(callback: (app: Glue42Web.AppManager.Application) => any): UnsubscribeFunction {\r\n        return this.registry.add(\"application-removed\", callback);\r\n    }\r\n\r\n    private onAppChanged(callback: (app: Glue42Web.AppManager.Application) => any): UnsubscribeFunction {\r\n        return this.registry.add(\"application-changed\", callback);\r\n    }\r\n\r\n\r\n    private async handleApplicationAddedMessage(appData: ApplicationData): Promise<void> {\r\n\r\n        if (this.applications.some((app) => app.name === appData.name)) {\r\n            return;\r\n        }\r\n\r\n        const app = await this.ioc.buildApplication(appData);\r\n\r\n        const instances = this.instances.filter((instance) => instance.application.name === app.name);\r\n\r\n        app.instances.push(...instances);\r\n\r\n        this.applications.push(app);\r\n\r\n        this.registry.execute(\"application-added\", app);\r\n    }\r\n\r\n    private async handleApplicationRemovedMessage(appData: ApplicationData): Promise<void> {\r\n        const appIndex = this.applications.findIndex((app) => app.name === appData.name);\r\n\r\n        if (appIndex < 0) {\r\n            return;\r\n        }\r\n\r\n        const app = this.applications[appIndex];\r\n\r\n        this.applications.splice(appIndex, 1);\r\n\r\n        this.registry.execute(\"application-removed\", app);\r\n    }\r\n\r\n    private async handleApplicationChangedMessage(appData: ApplicationData): Promise<void> {\r\n        const app = this.applications.find((app) => app.name === appData.name);\r\n\r\n        if (!app) {\r\n            return this.handleApplicationAddedMessage(appData);\r\n        }\r\n\r\n        app.title = appData.title as string;\r\n        app.version = appData.version as string;\r\n        app.icon = appData.icon as string;\r\n        app.caption = appData.caption as string;\r\n        app.userProperties = appData.userProperties;\r\n\r\n        this.registry.execute(\"application-changed\", app);\r\n    }\r\n\r\n    private async handleInstanceStartedMessage(instanceData: InstanceData): Promise<void> {\r\n        if (this.instances.some((instance) => instance.id === instanceData.id)) {\r\n            return;\r\n        }\r\n\r\n        const application = this.applications.find((app) => app.name === instanceData.applicationName);\r\n\r\n        if (!application) {\r\n            throw new Error(`Cannot add instance: ${instanceData.id}, because there is no application definition associated with it`);\r\n        }\r\n\r\n        const instance = this.ioc.buildInstance(instanceData, application);\r\n\r\n        this.instances.push(instance);\r\n        application.instances.push(instance);\r\n\r\n        this.registry.execute(\"instance-started\", instance);\r\n    }\r\n\r\n    private async handleInstanceStoppedMessage(instanceData: InstanceData): Promise<void> {\r\n        const instance = this.instances.find((i) => i.id === instanceData.id);\r\n\r\n        if (instance) {\r\n            const instIdx = this.instances.findIndex((inst) => inst.id === instanceData.id);\r\n            this.instances.splice(instIdx, 1);\r\n        }\r\n\r\n        const application = this.applications.find((app) => app.instances.some((inst) => inst.id === instanceData.id));\r\n\r\n        if (application) {\r\n            const instIdxApps = application.instances.findIndex((inst) => inst.id === instanceData.id);\r\n            application.instances.splice(instIdxApps, 1);\r\n        }\r\n\r\n        if (!instance) {\r\n            return;\r\n        }\r\n\r\n        this.registry.execute(\"instance-stopped\", instance);\r\n    }\r\n\r\n    private getApplication(name: string): Glue42Web.AppManager.Application {\r\n        const verifiedName = nonEmptyStringDecoder.runWithException(name);\r\n\r\n        return this.applications.find((app) => app.name === verifiedName) as Glue42Web.AppManager.Application;\r\n    }\r\n\r\n    private getApplications(): Glue42Web.AppManager.Application[] {\r\n        return this.applications.slice();\r\n    }\r\n\r\n    private getInstances(): Glue42Web.AppManager.Instance[] {\r\n        return this.instances.slice();\r\n    }\r\n\r\n    private async registerWithPlatform(): Promise<void> {\r\n        const result = await this.bridge.send<WindowHello, AppHelloSuccess>(\"appManager\", operations.appHello, { windowId: this.actualWindowId });\r\n\r\n        this.logger.trace(\"the platform responded to the hello message with a full list of apps\");\r\n\r\n        this.applications = await Promise.all(result.apps.map((app) => this.ioc.buildApplication(app)));\r\n\r\n        this.instances = this.applications.reduce<Glue42Web.AppManager.Instance[]>((instancesSoFar, app) => {\r\n\r\n            instancesSoFar.push(...app.instances);\r\n\r\n            return instancesSoFar;\r\n        }, []);\r\n\r\n        this.me = this.findMyInstance();\r\n\r\n        this.logger.trace(`all applications were parsed and saved. I am ${this.me ? \"NOT a\" : \"a\"} valid instance`);\r\n    }\r\n\r\n    private findMyInstance(): Glue42Web.AppManager.Instance | undefined {\r\n        for (const app of this.applications) {\r\n            const foundInstance = app.instances.find((instance) => instance.id === this.publicWindowId);\r\n\r\n            if (foundInstance) {\r\n                return foundInstance;\r\n            }\r\n        }\r\n    }\r\n}\r\n","import { Glue42Web } from \"../../web\";\r\nimport { GlueBridge } from \"../communication/bridge\";\r\nimport { BasicInstanceData, InstanceData, operations } from \"./protocol\";\r\n\r\nexport class InstanceModel {\r\n    private me!: Glue42Web.AppManager.Instance;\r\n    private readonly myCtxKey: string;\r\n\r\n    constructor(private readonly data: InstanceData, private readonly bridge: GlueBridge, private readonly application: Glue42Web.AppManager.Application) {\r\n        this.myCtxKey = `___instance___${this.data.id}`;\r\n    }\r\n\r\n    public toApi(): Glue42Web.AppManager.Instance {\r\n        const api: Glue42Web.AppManager.Instance = {\r\n            id: this.data.id,\r\n            agm: { windowId: this.data.id },\r\n            application: this.application,\r\n            stop: this.stop.bind(this),\r\n            getContext: this.getContext.bind(this)\r\n        };\r\n\r\n        this.me = Object.freeze(api);\r\n\r\n        return this.me;\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    private async getContext(): Promise<any> {\r\n        return this.bridge.contextLib.get(this.myCtxKey);\r\n    }\r\n\r\n    private async stop(): Promise<void> {\r\n        await this.bridge.send<BasicInstanceData, void>(\"appManager\", operations.instanceStop, { id: this.data.id });\r\n    }\r\n}","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Glue42Web } from \"../../web\";\r\nimport { AppManagerController } from \"./controller\";\r\nimport { ApplicationData } from \"./protocol\";\r\n\r\nexport class ApplicationModel {\r\n    private me!: Glue42Web.AppManager.Application;\r\n\r\n    constructor(\r\n        private readonly data: ApplicationData,\r\n        private readonly instances: Glue42Web.AppManager.Instance[],\r\n        private readonly controller: AppManagerController,\r\n    ) { }\r\n\r\n    public toApi(): Glue42Web.AppManager.Application {\r\n        const api: Glue42Web.AppManager.Application = {\r\n            name: this.data.name,\r\n            title: this.data.title as string,\r\n            version: this.data.version as string,\r\n            icon: this.data.icon as string,\r\n            caption: this.data.caption as string,\r\n            userProperties: this.data.userProperties,\r\n            instances: this.instances,\r\n            start: this.start.bind(this),\r\n            onInstanceStarted: this.onInstanceStarted.bind(this),\r\n            onInstanceStopped: this.onInstanceStopped.bind(this)\r\n        };\r\n\r\n        this.me = Object.freeze(api);\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private onInstanceStarted(callback: (instance: Glue42Web.AppManager.Instance) => any): () => void {\r\n\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"OnInstanceStarted requires a single argument of type function\");\r\n        }\r\n\r\n        return this.controller.onInstanceStarted((instance) => {\r\n            if (instance.application.name === this.data.name) {\r\n                callback(instance);\r\n            }\r\n        });\r\n    }\r\n\r\n    private onInstanceStopped(callback: (instance: Glue42Web.AppManager.Instance) => any): () => void {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"OnInstanceStarted requires a single argument of type function\");\r\n        }\r\n\r\n        return this.controller.onInstanceStopped((instance) => {\r\n            if (instance.application.name === this.data.name) {\r\n                callback(instance);\r\n            }\r\n        });\r\n    }\r\n\r\n    private async start(context?: object, options?: Glue42Web.AppManager.ApplicationStartOptions): Promise<Glue42Web.AppManager.Instance> {\r\n        // todo: validation\r\n        return this.controller.startApplication(this.data.name, context, options);\r\n    }\r\n}","import { Glue42Web } from \"../../web\";\r\nimport { allLayoutsFullConfigDecoder, allLayoutsSummariesResultDecoder, getAllLayoutsConfigDecoder, glueLayoutDecoder, optionalSimpleLayoutResult, simpleLayoutConfigDecoder } from \"../shared/decoders\";\r\nimport { BridgeOperation } from \"../shared/types\";\r\n\r\nexport type LayoutsOperationTypes = \"layoutAdded\" | \"layoutChanged\" | \"layoutRemoved\" |\r\n    \"get\" | \"getAll\" | \"export\" | \"import\" | \"remove\";\r\n\r\nexport const operations: { [key in LayoutsOperationTypes]: BridgeOperation } = {\r\n    layoutAdded: { name: \"layoutAdded\", dataDecoder: glueLayoutDecoder },\r\n    layoutChanged: { name: \"layoutChanged\", dataDecoder: glueLayoutDecoder },\r\n    layoutRemoved: { name: \"layoutRemoved\", dataDecoder: glueLayoutDecoder },\r\n    get: { name: \"get\", dataDecoder: simpleLayoutConfigDecoder, resultDecoder: optionalSimpleLayoutResult },\r\n    getAll: { name: \"getAll\", dataDecoder: getAllLayoutsConfigDecoder, resultDecoder: allLayoutsSummariesResultDecoder },\r\n    export: { name: \"export\", dataDecoder: getAllLayoutsConfigDecoder, resultDecoder: allLayoutsFullConfigDecoder },\r\n    import: { name: \"import\", dataDecoder: allLayoutsFullConfigDecoder },\r\n    remove: { name: \"remove\", dataDecoder: simpleLayoutConfigDecoder }\r\n};\r\n\r\nexport interface SimpleLayoutConfig {\r\n    name: string;\r\n    type: Glue42Web.Layouts.LayoutType;\r\n}\r\n\r\nexport interface GetAllLayoutsConfig {\r\n    type: Glue42Web.Layouts.LayoutType;\r\n}\r\n\r\nexport interface AllLayoutsFullConfig {\r\n    layouts: Glue42Web.Layouts.Layout[];\r\n}\r\n\r\nexport interface AllLayoutsSummariesResult {\r\n    summaries: Glue42Web.Layouts.LayoutSummary[];\r\n}\r\n\r\nexport interface SimpleLayoutResult {\r\n    layout: Glue42Web.Layouts.Layout;\r\n}\r\n\r\nexport interface OptionalSimpleLayoutResult {\r\n    layout?: Glue42Web.Layouts.Layout;\r\n}","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Glue42Core } from \"@glue42/core\";\r\nimport { IoC } from \"../shared/ioc\";\r\nimport { LibController } from \"../shared/types\";\r\nimport {\r\n    default as CallbackRegistryFactory,\r\n    CallbackRegistry,\r\n    UnsubscribeFunction,\r\n} from \"callback-registry\";\r\nimport { Glue42Web } from \"../../web\";\r\nimport { GlueBridge } from \"../communication/bridge\";\r\nimport { glueLayoutDecoder, layoutsOperationTypesDecoder, layoutTypeDecoder, newLayoutOptionsDecoder, nonEmptyStringDecoder, restoreOptionsDecoder } from \"../shared/decoders\";\r\nimport { AllLayoutsFullConfig, AllLayoutsSummariesResult, GetAllLayoutsConfig, operations, OptionalSimpleLayoutResult, SimpleLayoutConfig } from \"./protocol\";\r\n\r\nexport class LayoutsController implements LibController {\r\n    private readonly registry: CallbackRegistry = CallbackRegistryFactory();\r\n    private bridge!: GlueBridge;\r\n    private logger!: Glue42Web.Logger.API;\r\n\r\n    public async start(coreGlue: Glue42Core.GlueCore, ioc: IoC): Promise<void> {\r\n        this.logger = coreGlue.logger.subLogger(\"layouts.controller.web\");\r\n\r\n        this.logger.trace(\"starting the web layouts controller\");\r\n\r\n        this.bridge = ioc.bridge;\r\n\r\n        this.addOperationsExecutors();\r\n\r\n        const api = this.toApi();\r\n\r\n        this.logger.trace(\"no need for platform registration, attaching the layouts property to glue and returning\");\r\n\r\n        (coreGlue as Glue42Web.API).layouts = api;\r\n    }\r\n\r\n    public async handleBridgeMessage(args: any): Promise<void> {\r\n        const operationName = layoutsOperationTypesDecoder.runWithException(args.operation);\r\n\r\n        const operation = operations[operationName];\r\n\r\n        if (!operation.execute) {\r\n            return;\r\n        }\r\n\r\n        let operationData: any = args.data;\r\n\r\n        if (operation.dataDecoder) {\r\n            operationData = operation.dataDecoder.runWithException(args.data);\r\n        }\r\n\r\n        return await operation.execute(operationData);\r\n    }\r\n\r\n    private toApi(): Glue42Web.Layouts.API {\r\n        const api: Glue42Web.Layouts.API = {\r\n            get: this.get.bind(this),\r\n            getAll: this.getAll.bind(this),\r\n            export: this.export.bind(this),\r\n            import: this.import.bind(this),\r\n            save: this.save.bind(this),\r\n            restore: this.restore.bind(this),\r\n            remove: this.remove.bind(this),\r\n            onAdded: this.onAdded.bind(this),\r\n            onChanged: this.onChanged.bind(this),\r\n            onRemoved: this.onRemoved.bind(this)\r\n        };\r\n\r\n        return Object.freeze(api);\r\n    }\r\n\r\n    private addOperationsExecutors(): void {\r\n        operations.layoutAdded.execute = this.handleOnAdded.bind(this);\r\n        operations.layoutChanged.execute = this.handleOnChanged.bind(this);\r\n        operations.layoutRemoved.execute = this.handleOnRemoved.bind(this);\r\n    }\r\n\r\n    private async get(name: string, type: Glue42Web.Layouts.LayoutType): Promise<Glue42Web.Layouts.Layout | undefined> {\r\n        nonEmptyStringDecoder.runWithException(name);\r\n        layoutTypeDecoder.runWithException(type);\r\n\r\n        const result = await this.bridge.send<SimpleLayoutConfig, OptionalSimpleLayoutResult>(\"layouts\", operations.get, { name, type });\r\n\r\n        return result.layout;\r\n    }\r\n\r\n    private async getAll(type: Glue42Web.Layouts.LayoutType): Promise<Glue42Web.Layouts.LayoutSummary[]> {\r\n        layoutTypeDecoder.runWithException(type);\r\n\r\n        const result = await this.bridge.send<GetAllLayoutsConfig, AllLayoutsSummariesResult>(\"layouts\", operations.getAll, { type });\r\n\r\n        return result.summaries;\r\n    }\r\n\r\n    private async export(type?: Glue42Web.Layouts.LayoutType): Promise<Glue42Web.Layouts.Layout[]> {\r\n        if (type) {\r\n            layoutTypeDecoder.runWithException(type);\r\n        }\r\n\r\n        // supports only workspaces for the moment\r\n        const result = await this.bridge.send<GetAllLayoutsConfig, AllLayoutsFullConfig>(\"layouts\", operations.export, { type: \"Workspace\" });\r\n\r\n        return result.layouts;\r\n    }\r\n\r\n    private async import(layouts: Glue42Web.Layouts.Layout[]): Promise<void> {\r\n        layouts.forEach((layout) => glueLayoutDecoder.runWithException(layout));\r\n\r\n        await this.bridge.send<AllLayoutsFullConfig, void>(\"layouts\", operations.import, { layouts });\r\n    }\r\n\r\n    private async save(layout: Glue42Web.Layouts.NewLayoutOptions): Promise<Glue42Web.Layouts.Layout> {\r\n        newLayoutOptionsDecoder.runWithException(layout);\r\n\r\n        throw new Error(\"Save is not supported in Core at the moment\");\r\n    }\r\n\r\n    private async restore(options: Glue42Web.Layouts.RestoreOptions): Promise<void> {\r\n        restoreOptionsDecoder.runWithException(options);\r\n\r\n        throw new Error(\"Restore is not supported in Core at the moment\");\r\n    }\r\n\r\n    private async remove(type: Glue42Web.Layouts.LayoutType, name: string): Promise<void> {\r\n        layoutTypeDecoder.runWithException(type);\r\n        nonEmptyStringDecoder.runWithException(name);\r\n\r\n        await this.bridge.send<SimpleLayoutConfig, void>(\"layouts\", operations.remove, { type, name });\r\n    }\r\n\r\n    private onAdded(callback: (layout: Glue42Web.Layouts.Layout) => void): UnsubscribeFunction {\r\n        return this.registry.add(operations.layoutAdded.name, callback);\r\n    }\r\n\r\n    private onChanged(callback: (layout: Glue42Web.Layouts.Layout) => void): UnsubscribeFunction {\r\n        return this.registry.add(operations.layoutChanged.name, callback);\r\n    }\r\n\r\n    private onRemoved(callback: (layout: Glue42Web.Layouts.Layout) => void): UnsubscribeFunction {\r\n        return this.registry.add(operations.layoutRemoved.name, callback);\r\n    }\r\n\r\n    private async handleOnAdded(layout: Glue42Web.Layouts.Layout): Promise<void> {\r\n        this.registry.execute(operations.layoutAdded.name, layout);\r\n    }\r\n\r\n    private async handleOnChanged(layout: Glue42Web.Layouts.Layout): Promise<void> {\r\n        this.registry.execute(operations.layoutChanged.name, layout);\r\n    }\r\n\r\n    private async handleOnRemoved(layout: Glue42Web.Layouts.Layout): Promise<void> {\r\n        this.registry.execute(operations.layoutRemoved.name, layout);\r\n    }\r\n}","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nfunction __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\n\nvar MetricTypes = {\r\n    STRING: 1,\r\n    NUMBER: 2,\r\n    TIMESTAMP: 3,\r\n    OBJECT: 4\r\n};\n\nfunction getMetricTypeByValue(metric) {\r\n    if (metric.type === MetricTypes.TIMESTAMP) {\r\n        return \"timestamp\";\r\n    }\r\n    else if (metric.type === MetricTypes.NUMBER) {\r\n        return \"number\";\r\n    }\r\n    else if (metric.type === MetricTypes.STRING) {\r\n        return \"string\";\r\n    }\r\n    else if (metric.type === MetricTypes.OBJECT) {\r\n        return \"object\";\r\n    }\r\n    return \"unknown\";\r\n}\r\nfunction getTypeByValue(value) {\r\n    if (value.constructor === Date) {\r\n        return \"timestamp\";\r\n    }\r\n    else if (typeof value === \"number\") {\r\n        return \"number\";\r\n    }\r\n    else if (typeof value === \"string\") {\r\n        return \"string\";\r\n    }\r\n    else if (typeof value === \"object\") {\r\n        return \"object\";\r\n    }\r\n    else {\r\n        return \"string\";\r\n    }\r\n}\r\nfunction serializeMetric(metric) {\r\n    var serializedMetrics = {};\r\n    var type = getMetricTypeByValue(metric);\r\n    if (type === \"object\") {\r\n        var values = Object.keys(metric.value).reduce(function (memo, key) {\r\n            var innerType = getTypeByValue(metric.value[key]);\r\n            if (innerType === \"object\") {\r\n                var composite = defineNestedComposite(metric.value[key]);\r\n                memo[key] = {\r\n                    type: \"object\",\r\n                    description: \"\",\r\n                    context: {},\r\n                    composite: composite,\r\n                };\r\n            }\r\n            else {\r\n                memo[key] = {\r\n                    type: innerType,\r\n                    description: \"\",\r\n                    context: {},\r\n                };\r\n            }\r\n            return memo;\r\n        }, {});\r\n        serializedMetrics.composite = values;\r\n    }\r\n    serializedMetrics.name = normalizeMetricName(metric.path.join(\"/\") + \"/\" + metric.name);\r\n    serializedMetrics.type = type;\r\n    serializedMetrics.description = metric.description;\r\n    serializedMetrics.context = {};\r\n    return serializedMetrics;\r\n}\r\nfunction defineNestedComposite(values) {\r\n    return Object.keys(values).reduce(function (memo, key) {\r\n        var type = getTypeByValue(values[key]);\r\n        if (type === \"object\") {\r\n            memo[key] = {\r\n                type: \"object\",\r\n                description: \"\",\r\n                context: {},\r\n                composite: defineNestedComposite(values[key]),\r\n            };\r\n        }\r\n        else {\r\n            memo[key] = {\r\n                type: type,\r\n                description: \"\",\r\n                context: {},\r\n            };\r\n        }\r\n        return memo;\r\n    }, {});\r\n}\r\nfunction normalizeMetricName(name) {\r\n    if (typeof name !== \"undefined\" && name.length > 0 && name[0] !== \"/\") {\r\n        return \"/\" + name;\r\n    }\r\n    else {\r\n        return name;\r\n    }\r\n}\r\nfunction getMetricValueByType(metric) {\r\n    var type = getMetricTypeByValue(metric);\r\n    if (type === \"timestamp\") {\r\n        return Date.now();\r\n    }\r\n    else {\r\n        return publishNestedComposite(metric.value);\r\n    }\r\n}\r\nfunction publishNestedComposite(values) {\r\n    if (typeof values !== \"object\") {\r\n        return values;\r\n    }\r\n    return Object.keys(values).reduce(function (memo, key) {\r\n        var value = values[key];\r\n        if (typeof value === \"object\" && value.constructor !== Date) {\r\n            memo[key] = publishNestedComposite(value);\r\n        }\r\n        else if (value.constructor === Date) {\r\n            memo[key] = new Date(value).getTime();\r\n        }\r\n        else if (value.constructor === Boolean) {\r\n            memo[key] = value.toString();\r\n        }\r\n        else {\r\n            memo[key] = value;\r\n        }\r\n        return memo;\r\n    }, {});\r\n}\r\nfunction flatten(arr) {\r\n    return arr.reduce(function (flat, toFlatten) {\r\n        return flat.concat(Array.isArray(toFlatten) ? flatten(toFlatten) : toFlatten);\r\n    }, []);\r\n}\r\nfunction getHighestState(arr) {\r\n    return arr.sort(function (a, b) {\r\n        if (!a.state) {\r\n            return 1;\r\n        }\r\n        if (!b.state) {\r\n            return -1;\r\n        }\r\n        return b.state - a.state;\r\n    })[0];\r\n}\r\nfunction aggregateDescription(arr) {\r\n    var msg = \"\";\r\n    arr.forEach(function (m, idx, a) {\r\n        var path = m.path.join(\".\");\r\n        if (idx === a.length - 1) {\r\n            msg += path + \".\" + m.name + \": \" + m.description;\r\n        }\r\n        else {\r\n            msg += path + \".\" + m.name + \": \" + m.description + \",\";\r\n        }\r\n    });\r\n    if (msg.length > 100) {\r\n        return msg.slice(0, 100) + \"...\";\r\n    }\r\n    else {\r\n        return msg;\r\n    }\r\n}\r\nfunction composeMsgForRootStateMetric(system) {\r\n    var aggregatedState = system.root.getAggregateState();\r\n    var merged = flatten(aggregatedState);\r\n    var highestState = getHighestState(merged);\r\n    var aggregateDesc = aggregateDescription(merged);\r\n    return {\r\n        description: aggregateDesc,\r\n        value: highestState.state,\r\n    };\r\n}\n\nfunction gw3 (connection, config) {\r\n    var _this = this;\r\n    if (!connection || typeof connection !== \"object\") {\r\n        throw new Error(\"Connection is required parameter\");\r\n    }\r\n    var joinPromise;\r\n    var session;\r\n    var init = function (repo) {\r\n        var resolveReadyPromise;\r\n        joinPromise = new Promise(function (resolve) {\r\n            resolveReadyPromise = resolve;\r\n        });\r\n        session = connection.domain(\"metrics\");\r\n        session.onJoined(function (reconnect) {\r\n            if (!reconnect && resolveReadyPromise) {\r\n                resolveReadyPromise();\r\n                resolveReadyPromise = undefined;\r\n            }\r\n            var rootStateMetric = {\r\n                name: \"/State\",\r\n                type: \"object\",\r\n                composite: {\r\n                    Description: {\r\n                        type: \"string\",\r\n                        description: \"\",\r\n                    },\r\n                    Value: {\r\n                        type: \"number\",\r\n                        description: \"\",\r\n                    },\r\n                },\r\n                description: \"System state\",\r\n                context: {},\r\n            };\r\n            var defineRootMetricsMsg = {\r\n                type: \"define\",\r\n                metrics: [rootStateMetric],\r\n            };\r\n            session.send(defineRootMetricsMsg);\r\n            if (reconnect) {\r\n                replayRepo(repo);\r\n            }\r\n        });\r\n        session.join({\r\n            system: config.system,\r\n            service: config.service,\r\n            instance: config.instance\r\n        });\r\n    };\r\n    var replayRepo = function (repo) {\r\n        replaySystem(repo.root);\r\n    };\r\n    var replaySystem = function (system) {\r\n        createSystem(system);\r\n        system.metrics.forEach(function (m) {\r\n            createMetric(m);\r\n        });\r\n        system.subSystems.forEach(function (ss) {\r\n            replaySystem(ss);\r\n        });\r\n    };\r\n    var createSystem = function (system) { return __awaiter(_this, void 0, void 0, function () {\r\n        var metric, createMetricsMsg;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    if (system.parent === undefined) {\r\n                        return [2];\r\n                    }\r\n                    return [4, joinPromise];\r\n                case 1:\r\n                    _a.sent();\r\n                    metric = {\r\n                        name: normalizeMetricName(system.path.join(\"/\") + \"/\" + system.name + \"/State\"),\r\n                        type: \"object\",\r\n                        composite: {\r\n                            Description: {\r\n                                type: \"string\",\r\n                                description: \"\",\r\n                            },\r\n                            Value: {\r\n                                type: \"number\",\r\n                                description: \"\",\r\n                            },\r\n                        },\r\n                        description: \"System state\",\r\n                        context: {},\r\n                    };\r\n                    createMetricsMsg = {\r\n                        type: \"define\",\r\n                        metrics: [metric],\r\n                    };\r\n                    session.send(createMetricsMsg);\r\n                    return [2];\r\n            }\r\n        });\r\n    }); };\r\n    var updateSystem = function (system, state) { return __awaiter(_this, void 0, void 0, function () {\r\n        var shadowedUpdateMetric, stateObj, rootMetric;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4, joinPromise];\r\n                case 1:\r\n                    _a.sent();\r\n                    shadowedUpdateMetric = {\r\n                        type: \"publish\",\r\n                        values: [{\r\n                                name: normalizeMetricName(system.path.join(\"/\") + \"/\" + system.name + \"/State\"),\r\n                                value: {\r\n                                    Description: state.description,\r\n                                    Value: state.state,\r\n                                },\r\n                                timestamp: Date.now(),\r\n                            }],\r\n                    };\r\n                    session.send(shadowedUpdateMetric);\r\n                    stateObj = composeMsgForRootStateMetric(system);\r\n                    rootMetric = {\r\n                        type: \"publish\",\r\n                        peer_id: connection.peerId,\r\n                        values: [{\r\n                                name: \"/State\",\r\n                                value: {\r\n                                    Description: stateObj.description,\r\n                                    Value: stateObj.value,\r\n                                },\r\n                                timestamp: Date.now(),\r\n                            }],\r\n                    };\r\n                    session.send(rootMetric);\r\n                    return [2];\r\n            }\r\n        });\r\n    }); };\r\n    var createMetric = function (metric) { return __awaiter(_this, void 0, void 0, function () {\r\n        var metricClone, m, createMetricsMsg;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    metricClone = cloneMetric(metric);\r\n                    return [4, joinPromise];\r\n                case 1:\r\n                    _a.sent();\r\n                    m = serializeMetric(metricClone);\r\n                    createMetricsMsg = {\r\n                        type: \"define\",\r\n                        metrics: [m],\r\n                    };\r\n                    session.send(createMetricsMsg);\r\n                    if (typeof metricClone.value !== \"undefined\") {\r\n                        updateMetricCore(metricClone);\r\n                    }\r\n                    return [2];\r\n            }\r\n        });\r\n    }); };\r\n    var updateMetric = function (metric) { return __awaiter(_this, void 0, void 0, function () {\r\n        var metricClone;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    metricClone = cloneMetric(metric);\r\n                    return [4, joinPromise];\r\n                case 1:\r\n                    _a.sent();\r\n                    updateMetricCore(metricClone);\r\n                    return [2];\r\n            }\r\n        });\r\n    }); };\r\n    var updateMetricCore = function (metric) {\r\n        if (canUpdate()) {\r\n            var value = getMetricValueByType(metric);\r\n            var publishMetricsMsg = {\r\n                type: \"publish\",\r\n                values: [{\r\n                        name: normalizeMetricName(metric.path.join(\"/\") + \"/\" + metric.name),\r\n                        value: value,\r\n                        timestamp: Date.now(),\r\n                    }],\r\n            };\r\n            return session.sendFireAndForget(publishMetricsMsg);\r\n        }\r\n        return Promise.resolve();\r\n    };\r\n    var cloneMetric = function (metric) {\r\n        var metricClone = __assign({}, metric);\r\n        if (typeof metric.value === \"object\" && metric.value !== null) {\r\n            metricClone.value = __assign({}, metric.value);\r\n        }\r\n        return metricClone;\r\n    };\r\n    var canUpdate = function () {\r\n        var _a;\r\n        try {\r\n            var func = (_a = config.canUpdateMetric) !== null && _a !== void 0 ? _a : (function () { return true; });\r\n            return func();\r\n        }\r\n        catch (_b) {\r\n            return true;\r\n        }\r\n    };\r\n    return {\r\n        init: init,\r\n        createSystem: createSystem,\r\n        updateSystem: updateSystem,\r\n        createMetric: createMetric,\r\n        updateMetric: updateMetric,\r\n    };\r\n}\n\nvar Helpers = {\r\n    validate: function (definition, parent, transport) {\r\n        if (definition === null || typeof definition !== \"object\") {\r\n            throw new Error(\"Missing definition\");\r\n        }\r\n        if (parent === null || typeof parent !== \"object\") {\r\n            throw new Error(\"Missing parent\");\r\n        }\r\n        if (transport === null || typeof transport !== \"object\") {\r\n            throw new Error(\"Missing transport\");\r\n        }\r\n    },\r\n};\n\nvar BaseMetric = (function () {\r\n    function BaseMetric(definition, system, transport, value, type) {\r\n        this.definition = definition;\r\n        this.system = system;\r\n        this.transport = transport;\r\n        this.value = value;\r\n        this.type = type;\r\n        this.path = [];\r\n        Helpers.validate(definition, system, transport);\r\n        this.path = system.path.slice(0);\r\n        this.path.push(system.name);\r\n        this.name = definition.name;\r\n        this.description = definition.description;\r\n        transport.createMetric(this);\r\n    }\r\n    Object.defineProperty(BaseMetric.prototype, \"repo\", {\r\n        get: function () {\r\n            var _a;\r\n            return (_a = this.system) === null || _a === void 0 ? void 0 : _a.repo;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(BaseMetric.prototype, \"id\", {\r\n        get: function () { return this.system.path + \"/\" + name; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    BaseMetric.prototype.update = function (newValue) {\r\n        this.value = newValue;\r\n        return this.transport.updateMetric(this);\r\n    };\r\n    return BaseMetric;\r\n}());\n\nvar NumberMetric = (function (_super) {\r\n    __extends(NumberMetric, _super);\r\n    function NumberMetric(definition, system, transport, value) {\r\n        return _super.call(this, definition, system, transport, value, MetricTypes.NUMBER) || this;\r\n    }\r\n    NumberMetric.prototype.incrementBy = function (num) {\r\n        this.update(this.value + num);\r\n    };\r\n    NumberMetric.prototype.increment = function () {\r\n        this.incrementBy(1);\r\n    };\r\n    NumberMetric.prototype.decrement = function () {\r\n        this.incrementBy(-1);\r\n    };\r\n    NumberMetric.prototype.decrementBy = function (num) {\r\n        this.incrementBy(num * -1);\r\n    };\r\n    return NumberMetric;\r\n}(BaseMetric));\n\nvar ObjectMetric = (function (_super) {\r\n    __extends(ObjectMetric, _super);\r\n    function ObjectMetric(definition, system, transport, value) {\r\n        return _super.call(this, definition, system, transport, value, MetricTypes.OBJECT) || this;\r\n    }\r\n    ObjectMetric.prototype.update = function (newValue) {\r\n        this.mergeValues(newValue);\r\n        return this.transport.updateMetric(this);\r\n    };\r\n    ObjectMetric.prototype.mergeValues = function (values) {\r\n        var _this = this;\r\n        return Object.keys(this.value).forEach(function (k) {\r\n            if (typeof values[k] !== \"undefined\") {\r\n                _this.value[k] = values[k];\r\n            }\r\n        });\r\n    };\r\n    return ObjectMetric;\r\n}(BaseMetric));\n\nvar StringMetric = (function (_super) {\r\n    __extends(StringMetric, _super);\r\n    function StringMetric(definition, system, transport, value) {\r\n        return _super.call(this, definition, system, transport, value, MetricTypes.STRING) || this;\r\n    }\r\n    return StringMetric;\r\n}(BaseMetric));\n\nvar TimestampMetric = (function (_super) {\r\n    __extends(TimestampMetric, _super);\r\n    function TimestampMetric(definition, system, transport, value) {\r\n        return _super.call(this, definition, system, transport, value, MetricTypes.TIMESTAMP) || this;\r\n    }\r\n    TimestampMetric.prototype.now = function () {\r\n        this.update(new Date());\r\n    };\r\n    return TimestampMetric;\r\n}(BaseMetric));\n\nfunction system(name, repo, protocol, parent, description) {\r\n    if (!repo) {\r\n        throw new Error(\"Repository is required\");\r\n    }\r\n    if (!protocol) {\r\n        throw new Error(\"Transport is required\");\r\n    }\r\n    var _transport = protocol;\r\n    var _name = name;\r\n    var _description = description || \"\";\r\n    var _repo = repo;\r\n    var _parent = parent;\r\n    var _path = _buildPath(parent);\r\n    var _state = {};\r\n    var id = _arrayToString(_path, \"/\") + name;\r\n    var root = repo.root;\r\n    var _subSystems = [];\r\n    var _metrics = [];\r\n    function subSystem(nameSystem, descriptionSystem) {\r\n        if (!nameSystem || nameSystem.length === 0) {\r\n            throw new Error(\"name is required\");\r\n        }\r\n        var match = _subSystems.filter(function (s) { return s.name === nameSystem; });\r\n        if (match.length > 0) {\r\n            return match[0];\r\n        }\r\n        var _system = system(nameSystem, _repo, _transport, me, descriptionSystem);\r\n        _subSystems.push(_system);\r\n        return _system;\r\n    }\r\n    function setState(state, stateDescription) {\r\n        _state = { state: state, description: stateDescription };\r\n        _transport.updateSystem(me, _state);\r\n    }\r\n    function stringMetric(definition, value) {\r\n        return _getOrCreateMetric(definition, MetricTypes.STRING, value, function (metricDef) { return new StringMetric(metricDef, me, _transport, value); });\r\n    }\r\n    function numberMetric(definition, value) {\r\n        return _getOrCreateMetric(definition, MetricTypes.NUMBER, value, function (metricDef) { return new NumberMetric(metricDef, me, _transport, value); });\r\n    }\r\n    function objectMetric(definition, value) {\r\n        return _getOrCreateMetric(definition, MetricTypes.OBJECT, value, function (metricDef) { return new ObjectMetric(metricDef, me, _transport, value); });\r\n    }\r\n    function timestampMetric(definition, value) {\r\n        return _getOrCreateMetric(definition, MetricTypes.TIMESTAMP, value, function (metricDef) { return new TimestampMetric(metricDef, me, _transport, value); });\r\n    }\r\n    function _getOrCreateMetric(metricObject, expectedType, value, createMetric) {\r\n        var metricDef = { name: \"\" };\r\n        if (typeof metricObject === \"string\") {\r\n            metricDef = { name: metricObject };\r\n        }\r\n        else {\r\n            metricDef = metricObject;\r\n        }\r\n        var matching = _metrics.filter(function (shadowedMetric) { return shadowedMetric.name === metricDef.name; });\r\n        if (matching.length > 0) {\r\n            var existing = matching[0];\r\n            if (existing.type !== expectedType) {\r\n                throw new Error(\"A metric named \" + metricDef.name + \" is already defined with different type.\");\r\n            }\r\n            if (typeof value !== \"undefined\") {\r\n                existing\r\n                    .update(value)\r\n                    .catch(function () { });\r\n            }\r\n            return existing;\r\n        }\r\n        var metric = createMetric(metricDef);\r\n        _metrics.push(metric);\r\n        return metric;\r\n    }\r\n    function _buildPath(shadowedSystem) {\r\n        if (!shadowedSystem || !shadowedSystem.parent) {\r\n            return [];\r\n        }\r\n        var path = _buildPath(shadowedSystem.parent);\r\n        path.push(shadowedSystem.name);\r\n        return path;\r\n    }\r\n    function _arrayToString(path, separator) {\r\n        return ((path && path.length > 0) ? path.join(separator) : \"\");\r\n    }\r\n    function getAggregateState() {\r\n        var aggState = [];\r\n        if (Object.keys(_state).length > 0) {\r\n            aggState.push({\r\n                name: _name,\r\n                path: _path,\r\n                state: _state.state,\r\n                description: _state.description,\r\n            });\r\n        }\r\n        _subSystems.forEach(function (shadowedSubSystem) {\r\n            var result = shadowedSubSystem.getAggregateState();\r\n            if (result.length > 0) {\r\n                aggState.push.apply(aggState, result);\r\n            }\r\n        });\r\n        return aggState;\r\n    }\r\n    var me = {\r\n        get name() {\r\n            return _name;\r\n        },\r\n        get description() {\r\n            return _description;\r\n        },\r\n        get repo() {\r\n            return _repo;\r\n        },\r\n        get parent() {\r\n            return _parent;\r\n        },\r\n        path: _path,\r\n        id: id,\r\n        root: root,\r\n        get subSystems() {\r\n            return _subSystems;\r\n        },\r\n        get metrics() {\r\n            return _metrics;\r\n        },\r\n        subSystem: subSystem,\r\n        getState: function () {\r\n            return _state;\r\n        },\r\n        setState: setState,\r\n        stringMetric: stringMetric,\r\n        timestampMetric: timestampMetric,\r\n        objectMetric: objectMetric,\r\n        numberMetric: numberMetric,\r\n        getAggregateState: getAggregateState,\r\n    };\r\n    _transport.createSystem(me);\r\n    return me;\r\n}\n\nvar Repository = (function () {\r\n    function Repository(options, protocol) {\r\n        protocol.init(this);\r\n        this.root = system(\"\", this, protocol);\r\n        this.addSystemMetrics(this.root, options.clickStream || options.clickStream === undefined);\r\n    }\r\n    Repository.prototype.addSystemMetrics = function (rootSystem, useClickStream) {\r\n        if (typeof navigator !== \"undefined\") {\r\n            rootSystem.stringMetric(\"UserAgent\", navigator.userAgent);\r\n        }\r\n        if (useClickStream && typeof document !== \"undefined\") {\r\n            var clickStream_1 = rootSystem.subSystem(\"ClickStream\");\r\n            var documentClickHandler = function (e) {\r\n                if (!e.target) {\r\n                    return;\r\n                }\r\n                var target = e.target;\r\n                clickStream_1.objectMetric(\"LastBrowserEvent\", {\r\n                    type: \"click\",\r\n                    timestamp: new Date(),\r\n                    target: {\r\n                        className: e.target ? target.className : \"\",\r\n                        id: target.id,\r\n                        type: \"<\" + target.tagName.toLowerCase() + \">\",\r\n                        href: target.href || \"\",\r\n                    },\r\n                });\r\n            };\r\n            clickStream_1.objectMetric(\"Page\", {\r\n                title: document.title,\r\n                page: window.location.href,\r\n            });\r\n            if (document.addEventListener) {\r\n                document.addEventListener(\"click\", documentClickHandler);\r\n            }\r\n            else {\r\n                document.attachEvent(\"onclick\", documentClickHandler);\r\n            }\r\n        }\r\n        var startTime = rootSystem.stringMetric(\"StartTime\", (new Date()).toString());\r\n        var urlMetric = rootSystem.stringMetric(\"StartURL\", \"\");\r\n        var appNameMetric = rootSystem.stringMetric(\"AppName\", \"\");\r\n        if (typeof window !== \"undefined\") {\r\n            if (typeof window.location !== \"undefined\") {\r\n                var startUrl = window.location.href;\r\n                urlMetric.update(startUrl);\r\n            }\r\n            if (typeof window.glue42gd !== \"undefined\") {\r\n                appNameMetric.update(window.glue42gd.appName);\r\n            }\r\n        }\r\n    };\r\n    return Repository;\r\n}());\n\nvar NullProtocol = (function () {\r\n    function NullProtocol() {\r\n    }\r\n    NullProtocol.prototype.init = function (repo) {\r\n    };\r\n    NullProtocol.prototype.createSystem = function (system) {\r\n        return Promise.resolve();\r\n    };\r\n    NullProtocol.prototype.updateSystem = function (metric, state) {\r\n        return Promise.resolve();\r\n    };\r\n    NullProtocol.prototype.createMetric = function (metric) {\r\n        return Promise.resolve();\r\n    };\r\n    NullProtocol.prototype.updateMetric = function (metric) {\r\n        return Promise.resolve();\r\n    };\r\n    return NullProtocol;\r\n}());\n\nvar PerfTracker = (function () {\r\n    function PerfTracker(api, initialPublishTimeout, publishInterval) {\r\n        this.api = api;\r\n        this.lastCount = 0;\r\n        this.initialPublishTimeout = 10 * 1000;\r\n        this.publishInterval = 60 * 1000;\r\n        this.initialPublishTimeout = initialPublishTimeout !== null && initialPublishTimeout !== void 0 ? initialPublishTimeout : this.initialPublishTimeout;\r\n        this.publishInterval = publishInterval !== null && publishInterval !== void 0 ? publishInterval : this.publishInterval;\r\n        this.scheduleCollection();\r\n        this.system = this.api.subSystem(\"performance\", \"Performance data published by the web application\");\r\n    }\r\n    PerfTracker.prototype.scheduleCollection = function () {\r\n        var _this = this;\r\n        setTimeout(function () {\r\n            _this.collect();\r\n            setInterval(function () {\r\n                _this.collect();\r\n            }, _this.publishInterval);\r\n        }, this.initialPublishTimeout);\r\n    };\r\n    PerfTracker.prototype.collect = function () {\r\n        try {\r\n            this.collectMemory();\r\n            this.collectEntries();\r\n        }\r\n        catch (_a) {\r\n        }\r\n    };\r\n    PerfTracker.prototype.collectMemory = function () {\r\n        var memory = window.performance.memory;\r\n        this.system.stringMetric(\"memory\", JSON.stringify({\r\n            totalJSHeapSize: memory.totalJSHeapSize,\r\n            usedJSHeapSize: memory.usedJSHeapSize\r\n        }));\r\n    };\r\n    PerfTracker.prototype.collectEntries = function () {\r\n        var allEntries = window.performance.getEntries();\r\n        if (allEntries.length <= this.lastCount) {\r\n            return;\r\n        }\r\n        this.lastCount = allEntries.length;\r\n        this.system.stringMetric(\"entries\", JSON.stringify(allEntries));\r\n    };\r\n    return PerfTracker;\r\n}());\n\nvar metrics = (function (options) {\r\n    var protocol;\r\n    if (!options.connection || typeof options.connection !== \"object\") {\r\n        protocol = new NullProtocol();\r\n    }\r\n    else {\r\n        protocol = gw3(options.connection, options);\r\n    }\r\n    var repo = new Repository(options, protocol);\r\n    var rootSystem = repo.root;\r\n    if (!options.disableAutoAppSystem) {\r\n        rootSystem = rootSystem.subSystem(\"App\");\r\n    }\r\n    var api = addFAVSupport(rootSystem);\r\n    initPerf(api, options.pagePerformanceMetrics);\r\n    return api;\r\n});\r\nvar perf;\r\nfunction initPerf(api, config) {\r\n    var _a, _b;\r\n    if (typeof window === \"undefined\") {\r\n        return;\r\n    }\r\n    var perfConfig = (_b = (_a = window === null || window === void 0 ? void 0 : window.glue42gd) === null || _a === void 0 ? void 0 : _a.metrics) === null || _b === void 0 ? void 0 : _b.pagePerformanceMetrics;\r\n    if (perfConfig) {\r\n        config = perfConfig;\r\n    }\r\n    if (config === null || config === void 0 ? void 0 : config.enabled) {\r\n        perf = new PerfTracker(api, config.initialPublishTimeout, config.publishInterval);\r\n    }\r\n}\r\nfunction addFAVSupport(system) {\r\n    var reportingSystem = system.subSystem(\"reporting\");\r\n    var def = {\r\n        name: \"features\"\r\n    };\r\n    var featureMetric;\r\n    var featureMetricFunc = function (name, action, payload) {\r\n        if (typeof name === \"undefined\" || name === \"\") {\r\n            throw new Error(\"name is mandatory\");\r\n        }\r\n        else if (typeof action === \"undefined\" || action === \"\") {\r\n            throw new Error(\"action is mandatory\");\r\n        }\r\n        else if (typeof payload === \"undefined\" || payload === \"\") {\r\n            throw new Error(\"payload is mandatory\");\r\n        }\r\n        if (!featureMetric) {\r\n            featureMetric = reportingSystem.objectMetric(def, { name: name, action: action, payload: payload });\r\n        }\r\n        else {\r\n            featureMetric.update({\r\n                name: name,\r\n                action: action,\r\n                payload: payload\r\n            });\r\n        }\r\n    };\r\n    system.featureMetric = featureMetricFunc;\r\n    return system;\r\n}\n\nfunction createRegistry(options) {\r\n    if (options && options.errorHandling\r\n        && typeof options.errorHandling !== \"function\"\r\n        && options.errorHandling !== \"log\"\r\n        && options.errorHandling !== \"silent\"\r\n        && options.errorHandling !== \"throw\") {\r\n        throw new Error(\"Invalid options passed to createRegistry. Prop errorHandling should be [\\\"log\\\" | \\\"silent\\\" | \\\"throw\\\" | (err) => void], but \" + typeof options.errorHandling + \" was passed\");\r\n    }\r\n    var _userErrorHandler = options && typeof options.errorHandling === \"function\" && options.errorHandling;\r\n    var callbacks = {};\r\n    function add(key, callback, replayArgumentsArr) {\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey) {\r\n            callbacksForKey = [];\r\n            callbacks[key] = callbacksForKey;\r\n        }\r\n        callbacksForKey.push(callback);\r\n        if (replayArgumentsArr) {\r\n            setTimeout(function () {\r\n                replayArgumentsArr.forEach(function (replayArgument) {\r\n                    var _a;\r\n                    if ((_a = callbacks[key]) === null || _a === void 0 ? void 0 : _a.includes(callback)) {\r\n                        try {\r\n                            if (Array.isArray(replayArgument)) {\r\n                                callback.apply(undefined, replayArgument);\r\n                            }\r\n                            else {\r\n                                callback.apply(undefined, [replayArgument]);\r\n                            }\r\n                        }\r\n                        catch (err) {\r\n                            _handleError(err, key);\r\n                        }\r\n                    }\r\n                });\r\n            }, 0);\r\n        }\r\n        return function () {\r\n            var allForKey = callbacks[key];\r\n            if (!allForKey) {\r\n                return;\r\n            }\r\n            allForKey = allForKey.reduce(function (acc, element, index) {\r\n                if (!(element === callback && acc.length === index)) {\r\n                    acc.push(element);\r\n                }\r\n                return acc;\r\n            }, []);\r\n            if (allForKey.length === 0) {\r\n                delete callbacks[key];\r\n            }\r\n            else {\r\n                callbacks[key] = allForKey;\r\n            }\r\n        };\r\n    }\r\n    function execute(key) {\r\n        var argumentsArr = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            argumentsArr[_i - 1] = arguments[_i];\r\n        }\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey || callbacksForKey.length === 0) {\r\n            return [];\r\n        }\r\n        var results = [];\r\n        callbacksForKey.forEach(function (callback) {\r\n            try {\r\n                var result = callback.apply(undefined, argumentsArr);\r\n                results.push(result);\r\n            }\r\n            catch (err) {\r\n                results.push(undefined);\r\n                _handleError(err, key);\r\n            }\r\n        });\r\n        return results;\r\n    }\r\n    function _handleError(exceptionArtifact, key) {\r\n        var errParam = exceptionArtifact instanceof Error ? exceptionArtifact : new Error(exceptionArtifact);\r\n        if (_userErrorHandler) {\r\n            _userErrorHandler(errParam);\r\n            return;\r\n        }\r\n        var msg = \"[ERROR] callback-registry: User callback for key \\\"\" + key + \"\\\" failed: \" + errParam.stack;\r\n        if (options) {\r\n            switch (options.errorHandling) {\r\n                case \"log\":\r\n                    return console.error(msg);\r\n                case \"silent\":\r\n                    return;\r\n                case \"throw\":\r\n                    throw new Error(msg);\r\n            }\r\n        }\r\n        console.error(msg);\r\n    }\r\n    function clear() {\r\n        callbacks = {};\r\n    }\r\n    function clearKey(key) {\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey) {\r\n            return;\r\n        }\r\n        delete callbacks[key];\r\n    }\r\n    return {\r\n        add: add,\r\n        execute: execute,\r\n        clear: clear,\r\n        clearKey: clearKey\r\n    };\r\n}\r\ncreateRegistry.default = createRegistry;\r\nvar lib = createRegistry;\n\nvar InProcTransport = (function () {\r\n    function InProcTransport(settings, logger) {\r\n        var _this = this;\r\n        this.registry = lib();\r\n        this.gw = settings.facade;\r\n        this.gw.connect(function (_client, message) {\r\n            _this.messageHandler(message);\r\n        }).then(function (client) {\r\n            _this.client = client;\r\n        });\r\n    }\r\n    Object.defineProperty(InProcTransport.prototype, \"isObjectBasedTransport\", {\r\n        get: function () {\r\n            return true;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    InProcTransport.prototype.sendObject = function (msg) {\r\n        if (this.client) {\r\n            this.client.send(msg);\r\n            return Promise.resolve(undefined);\r\n        }\r\n        else {\r\n            return Promise.reject(\"not connected\");\r\n        }\r\n    };\r\n    InProcTransport.prototype.send = function (_msg) {\r\n        return Promise.reject(\"not supported\");\r\n    };\r\n    InProcTransport.prototype.onMessage = function (callback) {\r\n        return this.registry.add(\"onMessage\", callback);\r\n    };\r\n    InProcTransport.prototype.onConnectedChanged = function (callback) {\r\n        callback(true);\r\n    };\r\n    InProcTransport.prototype.close = function () {\r\n        return Promise.resolve();\r\n    };\r\n    InProcTransport.prototype.open = function () {\r\n        return Promise.resolve();\r\n    };\r\n    InProcTransport.prototype.name = function () {\r\n        return \"in-memory\";\r\n    };\r\n    InProcTransport.prototype.reconnect = function () {\r\n        return Promise.resolve();\r\n    };\r\n    InProcTransport.prototype.messageHandler = function (msg) {\r\n        this.registry.execute(\"onMessage\", msg);\r\n    };\r\n    return InProcTransport;\r\n}());\n\nvar SharedWorkerTransport = (function () {\r\n    function SharedWorkerTransport(workerFile, logger) {\r\n        var _this = this;\r\n        this.logger = logger;\r\n        this.registry = lib();\r\n        this.worker = new SharedWorker(workerFile);\r\n        this.worker.port.onmessage = function (e) {\r\n            _this.messageHandler(e.data);\r\n        };\r\n    }\r\n    Object.defineProperty(SharedWorkerTransport.prototype, \"isObjectBasedTransport\", {\r\n        get: function () {\r\n            return true;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    SharedWorkerTransport.prototype.sendObject = function (msg) {\r\n        this.worker.port.postMessage(msg);\r\n        return Promise.resolve();\r\n    };\r\n    SharedWorkerTransport.prototype.send = function (_msg) {\r\n        return Promise.reject(\"not supported\");\r\n    };\r\n    SharedWorkerTransport.prototype.onMessage = function (callback) {\r\n        return this.registry.add(\"onMessage\", callback);\r\n    };\r\n    SharedWorkerTransport.prototype.onConnectedChanged = function (callback) {\r\n        callback(true);\r\n    };\r\n    SharedWorkerTransport.prototype.close = function () {\r\n        return Promise.resolve();\r\n    };\r\n    SharedWorkerTransport.prototype.open = function () {\r\n        return Promise.resolve();\r\n    };\r\n    SharedWorkerTransport.prototype.name = function () {\r\n        return \"shared-worker\";\r\n    };\r\n    SharedWorkerTransport.prototype.reconnect = function () {\r\n        return Promise.resolve();\r\n    };\r\n    SharedWorkerTransport.prototype.messageHandler = function (msg) {\r\n        this.registry.execute(\"onMessage\", msg);\r\n    };\r\n    return SharedWorkerTransport;\r\n}());\n\nvar Utils = (function () {\r\n    function Utils() {\r\n    }\r\n    Utils.getGDMajorVersion = function () {\r\n        if (typeof window === \"undefined\") {\r\n            return undefined;\r\n        }\r\n        if (!window.glueDesktop) {\r\n            return undefined;\r\n        }\r\n        if (!window.glueDesktop.version) {\r\n            return undefined;\r\n        }\r\n        var ver = Number(window.glueDesktop.version.substr(0, 1));\r\n        return isNaN(ver) ? undefined : ver;\r\n    };\r\n    Utils.isNode = function () {\r\n        if (typeof Utils._isNode !== \"undefined\") {\r\n            return Utils._isNode;\r\n        }\r\n        if (typeof window !== \"undefined\") {\r\n            Utils._isNode = false;\r\n            return false;\r\n        }\r\n        try {\r\n            Utils._isNode = Object.prototype.toString.call(global.process) === \"[object process]\";\r\n        }\r\n        catch (e) {\r\n            Utils._isNode = false;\r\n        }\r\n        return Utils._isNode;\r\n    };\r\n    return Utils;\r\n}());\n\nvar PromiseWrapper = (function () {\r\n    function PromiseWrapper() {\r\n        var _this = this;\r\n        this.rejected = false;\r\n        this.resolved = false;\r\n        this.promise = new Promise(function (resolve, reject) {\r\n            _this.resolve = function (t) {\r\n                _this.resolved = true;\r\n                resolve(t);\r\n            };\r\n            _this.reject = function (err) {\r\n                _this.rejected = true;\r\n                reject(err);\r\n            };\r\n        });\r\n    }\r\n    PromiseWrapper.delay = function (time) {\r\n        return new Promise(function (resolve) { return setTimeout(resolve, time); });\r\n    };\r\n    Object.defineProperty(PromiseWrapper.prototype, \"ended\", {\r\n        get: function () {\r\n            return this.rejected || this.resolved;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return PromiseWrapper;\r\n}());\n\nvar timers = {};\r\nfunction getAllTimers() {\r\n    return timers;\r\n}\r\nfunction timer (timerName) {\r\n    var existing = timers[timerName];\r\n    if (existing) {\r\n        return existing;\r\n    }\r\n    var marks = [];\r\n    function now() {\r\n        return new Date().getTime();\r\n    }\r\n    var startTime = now();\r\n    mark(\"start\", startTime);\r\n    var endTime;\r\n    var period;\r\n    function stop() {\r\n        endTime = now();\r\n        mark(\"end\", endTime);\r\n        period = endTime - startTime;\r\n        return period;\r\n    }\r\n    function mark(name, time) {\r\n        var currentTime = time !== null && time !== void 0 ? time : now();\r\n        var diff = 0;\r\n        if (marks.length > 0) {\r\n            diff = currentTime - marks[marks.length - 1].time;\r\n        }\r\n        marks.push({ name: name, time: currentTime, diff: diff });\r\n    }\r\n    var timerObj = {\r\n        get startTime() {\r\n            return startTime;\r\n        },\r\n        get endTime() {\r\n            return endTime;\r\n        },\r\n        get period() {\r\n            return period;\r\n        },\r\n        stop: stop,\r\n        mark: mark,\r\n        marks: marks\r\n    };\r\n    timers[timerName] = timerObj;\r\n    return timerObj;\r\n}\n\nvar WebSocketConstructor = Utils.isNode() ? require(\"ws\") : window.WebSocket;\r\nvar WS = (function () {\r\n    function WS(settings, logger) {\r\n        this.startupTimer = timer(\"connection\");\r\n        this._running = true;\r\n        this._registry = lib();\r\n        this.wsRequests = [];\r\n        this.settings = settings;\r\n        this.logger = logger;\r\n        if (!this.settings.ws) {\r\n            throw new Error(\"ws is missing\");\r\n        }\r\n    }\r\n    WS.prototype.onMessage = function (callback) {\r\n        return this._registry.add(\"onMessage\", callback);\r\n    };\r\n    WS.prototype.send = function (msg, options) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this.waitForSocketConnection(function () {\r\n                var _a;\r\n                try {\r\n                    (_a = _this.ws) === null || _a === void 0 ? void 0 : _a.send(msg);\r\n                    resolve();\r\n                }\r\n                catch (e) {\r\n                    reject(e);\r\n                }\r\n            }, reject);\r\n        });\r\n    };\r\n    WS.prototype.open = function () {\r\n        var _this = this;\r\n        this.logger.info(\"opening ws...\");\r\n        this._running = true;\r\n        return new Promise(function (resolve, reject) {\r\n            _this.waitForSocketConnection(resolve, reject);\r\n        });\r\n    };\r\n    WS.prototype.close = function () {\r\n        this._running = false;\r\n        if (this.ws) {\r\n            this.ws.close();\r\n        }\r\n        return Promise.resolve();\r\n    };\r\n    WS.prototype.onConnectedChanged = function (callback) {\r\n        return this._registry.add(\"onConnectedChanged\", callback);\r\n    };\r\n    WS.prototype.name = function () {\r\n        return \"ws \" + this.settings.ws;\r\n    };\r\n    WS.prototype.reconnect = function () {\r\n        var _a;\r\n        (_a = this.ws) === null || _a === void 0 ? void 0 : _a.close();\r\n        var pw = new PromiseWrapper();\r\n        this.waitForSocketConnection(function () {\r\n            pw.resolve();\r\n        });\r\n        return pw.promise;\r\n    };\r\n    WS.prototype.waitForSocketConnection = function (callback, failed) {\r\n        var _a;\r\n        failed = failed !== null && failed !== void 0 ? failed : (function () { });\r\n        if (!this._running) {\r\n            failed(\"wait for socket on \" + this.settings.ws + \" failed - socket closed by user\");\r\n            return;\r\n        }\r\n        if (((_a = this.ws) === null || _a === void 0 ? void 0 : _a.readyState) === 1) {\r\n            callback();\r\n            return;\r\n        }\r\n        this.wsRequests.push({ callback: callback, failed: failed });\r\n        if (this.wsRequests.length > 1) {\r\n            return;\r\n        }\r\n        this.openSocket();\r\n    };\r\n    WS.prototype.openSocket = function (retryInterval, retriesLeft) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _a;\r\n            var _this = this;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        this.startupTimer.mark(\"opening-socket\");\r\n                        if (retryInterval === undefined) {\r\n                            retryInterval = this.settings.reconnectInterval;\r\n                        }\r\n                        if (retriesLeft !== undefined) {\r\n                            if (retriesLeft === 0) {\r\n                                this.notifyForSocketState(\"wait for socket on \" + this.settings.ws + \" failed - no more retries left\");\r\n                                return [2];\r\n                            }\r\n                            this.logger.debug(\"will retry \" + retriesLeft + \" more times (every \" + retryInterval + \" ms)\");\r\n                        }\r\n                        _b.label = 1;\r\n                    case 1:\r\n                        _b.trys.push([1, 3, , 4]);\r\n                        return [4, this.initiateSocket()];\r\n                    case 2:\r\n                        _b.sent();\r\n                        this.startupTimer.mark(\"socket-initiated\");\r\n                        this.notifyForSocketState();\r\n                        return [3, 4];\r\n                    case 3:\r\n                        _a = _b.sent();\r\n                        setTimeout(function () {\r\n                            var retries = retriesLeft === undefined ? undefined : retriesLeft - 1;\r\n                            _this.openSocket(retryInterval, retries);\r\n                        }, retryInterval);\r\n                        return [3, 4];\r\n                    case 4: return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    WS.prototype.initiateSocket = function () {\r\n        var _this = this;\r\n        var pw = new PromiseWrapper();\r\n        this.logger.debug(\"initiating ws to \" + this.settings.ws + \"...\");\r\n        this.ws = new WebSocketConstructor(this.settings.ws || \"\");\r\n        this.ws.onerror = function (err) {\r\n            var reason = \"\";\r\n            try {\r\n                reason = JSON.stringify(err);\r\n            }\r\n            catch (error) {\r\n                var seen_1 = new WeakSet();\r\n                var replacer = function (key, value) {\r\n                    if (typeof value === \"object\" && value !== null) {\r\n                        if (seen_1.has(value)) {\r\n                            return;\r\n                        }\r\n                        seen_1.add(value);\r\n                    }\r\n                    return value;\r\n                };\r\n                reason = JSON.stringify(err, replacer);\r\n            }\r\n            pw.reject(\"error\");\r\n            _this.notifyStatusChanged(false, reason);\r\n        };\r\n        this.ws.onclose = function (err) {\r\n            _this.logger.info(\"ws closed \" + err);\r\n            pw.reject(\"closed\");\r\n            _this.notifyStatusChanged(false);\r\n        };\r\n        this.ws.onopen = function () {\r\n            var _a;\r\n            _this.startupTimer.mark(\"ws-opened\");\r\n            _this.logger.info(\"ws opened \" + ((_a = _this.settings.identity) === null || _a === void 0 ? void 0 : _a.application));\r\n            pw.resolve();\r\n            _this.notifyStatusChanged(true);\r\n        };\r\n        this.ws.onmessage = function (message) {\r\n            _this._registry.execute(\"onMessage\", message.data);\r\n        };\r\n        return pw.promise;\r\n    };\r\n    WS.prototype.notifyForSocketState = function (error) {\r\n        this.wsRequests.forEach(function (wsRequest) {\r\n            if (error) {\r\n                if (wsRequest.failed) {\r\n                    wsRequest.failed(error);\r\n                }\r\n            }\r\n            else {\r\n                wsRequest.callback();\r\n            }\r\n        });\r\n        this.wsRequests = [];\r\n    };\r\n    WS.prototype.notifyStatusChanged = function (status, reason) {\r\n        this._registry.execute(\"onConnectedChanged\", status, reason);\r\n    };\r\n    return WS;\r\n}());\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\n// Found this seed-based random generator somewhere\n// Based on The Central Randomizer 1.3 (C) 1997 by Paul Houle (houle@msc.cornell.edu)\n\nvar seed = 1;\n\n/**\n * return a random number based on a seed\n * @param seed\n * @returns {number}\n */\nfunction getNextValue() {\n    seed = (seed * 9301 + 49297) % 233280;\n    return seed/(233280.0);\n}\n\nfunction setSeed(_seed_) {\n    seed = _seed_;\n}\n\nvar randomFromSeed = {\n    nextValue: getNextValue,\n    seed: setSeed\n};\n\nvar ORIGINAL = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-';\nvar alphabet;\nvar previousSeed;\n\nvar shuffled;\n\nfunction reset() {\n    shuffled = false;\n}\n\nfunction setCharacters(_alphabet_) {\n    if (!_alphabet_) {\n        if (alphabet !== ORIGINAL) {\n            alphabet = ORIGINAL;\n            reset();\n        }\n        return;\n    }\n\n    if (_alphabet_ === alphabet) {\n        return;\n    }\n\n    if (_alphabet_.length !== ORIGINAL.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. You submitted ' + _alphabet_.length + ' characters: ' + _alphabet_);\n    }\n\n    var unique = _alphabet_.split('').filter(function(item, ind, arr){\n       return ind !== arr.lastIndexOf(item);\n    });\n\n    if (unique.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. These characters were not unique: ' + unique.join(', '));\n    }\n\n    alphabet = _alphabet_;\n    reset();\n}\n\nfunction characters(_alphabet_) {\n    setCharacters(_alphabet_);\n    return alphabet;\n}\n\nfunction setSeed$1(seed) {\n    randomFromSeed.seed(seed);\n    if (previousSeed !== seed) {\n        reset();\n        previousSeed = seed;\n    }\n}\n\nfunction shuffle() {\n    if (!alphabet) {\n        setCharacters(ORIGINAL);\n    }\n\n    var sourceArray = alphabet.split('');\n    var targetArray = [];\n    var r = randomFromSeed.nextValue();\n    var characterIndex;\n\n    while (sourceArray.length > 0) {\n        r = randomFromSeed.nextValue();\n        characterIndex = Math.floor(r * sourceArray.length);\n        targetArray.push(sourceArray.splice(characterIndex, 1)[0]);\n    }\n    return targetArray.join('');\n}\n\nfunction getShuffled() {\n    if (shuffled) {\n        return shuffled;\n    }\n    shuffled = shuffle();\n    return shuffled;\n}\n\n/**\n * lookup shuffled letter\n * @param index\n * @returns {string}\n */\nfunction lookup(index) {\n    var alphabetShuffled = getShuffled();\n    return alphabetShuffled[index];\n}\n\nvar alphabet_1 = {\n    characters: characters,\n    seed: setSeed$1,\n    lookup: lookup,\n    shuffled: getShuffled\n};\n\nvar crypto = typeof window === 'object' && (window.crypto || window.msCrypto); // IE 11 uses window.msCrypto\n\nfunction randomByte() {\n    if (!crypto || !crypto.getRandomValues) {\n        return Math.floor(Math.random() * 256) & 0x30;\n    }\n    var dest = new Uint8Array(1);\n    crypto.getRandomValues(dest);\n    return dest[0] & 0x30;\n}\n\nvar randomByteBrowser = randomByte;\n\nfunction encode(lookup, number) {\n    var loopCounter = 0;\n    var done;\n\n    var str = '';\n\n    while (!done) {\n        str = str + lookup( ( (number >> (4 * loopCounter)) & 0x0f ) | randomByteBrowser() );\n        done = number < (Math.pow(16, loopCounter + 1 ) );\n        loopCounter++;\n    }\n    return str;\n}\n\nvar encode_1 = encode;\n\n/**\n * Decode the id to get the version and worker\n * Mainly for debugging and testing.\n * @param id - the shortid-generated id.\n */\nfunction decode(id) {\n    var characters = alphabet_1.shuffled();\n    return {\n        version: characters.indexOf(id.substr(0, 1)) & 0x0f,\n        worker: characters.indexOf(id.substr(1, 1)) & 0x0f\n    };\n}\n\nvar decode_1 = decode;\n\nfunction isShortId(id) {\n    if (!id || typeof id !== 'string' || id.length < 6 ) {\n        return false;\n    }\n\n    var characters = alphabet_1.characters();\n    var len = id.length;\n    for(var i = 0; i < len;i++) {\n        if (characters.indexOf(id[i]) === -1) {\n            return false;\n        }\n    }\n    return true;\n}\n\nvar isValid = isShortId;\n\nvar lib$1 = createCommonjsModule(function (module) {\n\n\n\n\n\n\n// Ignore all milliseconds before a certain time to reduce the size of the date entropy without sacrificing uniqueness.\n// This number should be updated every year or so to keep the generated id short.\n// To regenerate `new Date() - 0` and bump the version. Always bump the version!\nvar REDUCE_TIME = 1459707606518;\n\n// don't change unless we change the algos or REDUCE_TIME\n// must be an integer and less than 16\nvar version = 6;\n\n// if you are using cluster or multiple servers use this to make each instance\n// has a unique value for worker\n// Note: I don't know if this is automatically set when using third\n// party cluster solutions such as pm2.\nvar clusterWorkerId =  0;\n\n// Counter is used when shortid is called multiple times in one second.\nvar counter;\n\n// Remember the last time shortid was called in case counter is needed.\nvar previousSeconds;\n\n/**\n * Generate unique id\n * Returns string id\n */\nfunction generate() {\n\n    var str = '';\n\n    var seconds = Math.floor((Date.now() - REDUCE_TIME) * 0.001);\n\n    if (seconds === previousSeconds) {\n        counter++;\n    } else {\n        counter = 0;\n        previousSeconds = seconds;\n    }\n\n    str = str + encode_1(alphabet_1.lookup, version);\n    str = str + encode_1(alphabet_1.lookup, clusterWorkerId);\n    if (counter > 0) {\n        str = str + encode_1(alphabet_1.lookup, counter);\n    }\n    str = str + encode_1(alphabet_1.lookup, seconds);\n\n    return str;\n}\n\n\n/**\n * Set the seed.\n * Highly recommended if you don't want people to try to figure out your id schema.\n * exposed as shortid.seed(int)\n * @param seed Integer value to seed the random alphabet.  ALWAYS USE THE SAME SEED or you might get overlaps.\n */\nfunction seed(seedValue) {\n    alphabet_1.seed(seedValue);\n    return module.exports;\n}\n\n/**\n * Set the cluster worker or machine id\n * exposed as shortid.worker(int)\n * @param workerId worker must be positive integer.  Number less than 16 is recommended.\n * returns shortid module so it can be chained.\n */\nfunction worker(workerId) {\n    clusterWorkerId = workerId;\n    return module.exports;\n}\n\n/**\n *\n * sets new characters to use in the alphabet\n * returns the shuffled alphabet\n */\nfunction characters(newCharacters) {\n    if (newCharacters !== undefined) {\n        alphabet_1.characters(newCharacters);\n    }\n\n    return alphabet_1.shuffled();\n}\n\n\n// Export all other functions as properties of the generate function\nmodule.exports = generate;\nmodule.exports.generate = generate;\nmodule.exports.seed = seed;\nmodule.exports.worker = worker;\nmodule.exports.characters = characters;\nmodule.exports.decode = decode_1;\nmodule.exports.isValid = isValid;\n});\nvar lib_1 = lib$1.generate;\nvar lib_2 = lib$1.seed;\nvar lib_3 = lib$1.worker;\nvar lib_4 = lib$1.characters;\nvar lib_5 = lib$1.decode;\nvar lib_6 = lib$1.isValid;\n\nvar shortid = lib$1;\n\nfunction domainSession (domain, connection, logger, successMessages, errorMessages) {\r\n    if (domain == null) {\r\n        domain = \"global\";\r\n    }\r\n    successMessages = successMessages || [\"success\"];\r\n    errorMessages = errorMessages || [\"error\"];\r\n    var isJoined = false;\r\n    var tryReconnecting = false;\r\n    var _latestOptions;\r\n    var _connectionOn = false;\r\n    var callbacks = lib();\r\n    connection.disconnected(handleConnectionDisconnected);\r\n    connection.loggedIn(handleConnectionLoggedIn);\r\n    connection.on(\"success\", function (msg) { return handleSuccessMessage(msg); });\r\n    connection.on(\"error\", function (msg) { return handleErrorMessage(msg); });\r\n    connection.on(\"result\", function (msg) { return handleSuccessMessage(msg); });\r\n    if (successMessages) {\r\n        successMessages.forEach(function (sm) {\r\n            connection.on(sm, function (msg) { return handleSuccessMessage(msg); });\r\n        });\r\n    }\r\n    if (errorMessages) {\r\n        errorMessages.forEach(function (sm) {\r\n            connection.on(sm, function (msg) { return handleErrorMessage(msg); });\r\n        });\r\n    }\r\n    var requestsMap = {};\r\n    function join(options) {\r\n        _latestOptions = options;\r\n        return new Promise(function (resolve, reject) {\r\n            if (isJoined) {\r\n                resolve();\r\n                return;\r\n            }\r\n            var joinPromise;\r\n            if (domain === \"global\") {\r\n                joinPromise = _connectionOn ? Promise.resolve({}) : Promise.reject(\"not connected to gateway\");\r\n            }\r\n            else {\r\n                logger.debug(\"joining domain \" + domain);\r\n                var joinMsg = {\r\n                    type: \"join\",\r\n                    destination: domain,\r\n                    domain: \"global\",\r\n                    options: options,\r\n                };\r\n                joinPromise = send(joinMsg);\r\n            }\r\n            joinPromise\r\n                .then(function () {\r\n                handleJoined();\r\n                resolve();\r\n            })\r\n                .catch(function (err) {\r\n                logger.debug(\"error joining \" + domain + \" domain: \" + JSON.stringify(err));\r\n                reject(err);\r\n            });\r\n        });\r\n    }\r\n    function leave() {\r\n        if (domain === \"global\") {\r\n            return Promise.resolve();\r\n        }\r\n        logger.debug(\"stopping session \" + domain + \"...\");\r\n        var leaveMsg = {\r\n            type: \"leave\",\r\n            destination: domain,\r\n            domain: \"global\",\r\n        };\r\n        tryReconnecting = false;\r\n        return send(leaveMsg).then(function () {\r\n            isJoined = false;\r\n            callbacks.execute(\"onLeft\");\r\n        });\r\n    }\r\n    function handleJoined() {\r\n        logger.debug(\"did join \" + domain);\r\n        isJoined = true;\r\n        var wasReconnect = tryReconnecting;\r\n        tryReconnecting = false;\r\n        callbacks.execute(\"onJoined\", wasReconnect);\r\n    }\r\n    function handleConnectionDisconnected() {\r\n        _connectionOn = false;\r\n        logger.debug(\"connection is down\");\r\n        isJoined = false;\r\n        tryReconnecting = true;\r\n        callbacks.execute(\"onLeft\", { disconnected: true });\r\n    }\r\n    function handleConnectionLoggedIn() {\r\n        _connectionOn = true;\r\n        if (tryReconnecting) {\r\n            logger.debug(\"connection is now up - trying to reconnect...\");\r\n            join(_latestOptions);\r\n        }\r\n    }\r\n    function onJoined(callback) {\r\n        if (isJoined) {\r\n            callback(false);\r\n        }\r\n        return callbacks.add(\"onJoined\", callback);\r\n    }\r\n    function onLeft(callback) {\r\n        if (!isJoined) {\r\n            callback();\r\n        }\r\n        return callbacks.add(\"onLeft\", callback);\r\n    }\r\n    function handleErrorMessage(msg) {\r\n        if (domain !== msg.domain) {\r\n            return;\r\n        }\r\n        var requestId = msg.request_id;\r\n        if (!requestId) {\r\n            return;\r\n        }\r\n        var entry = requestsMap[requestId];\r\n        if (!entry) {\r\n            return;\r\n        }\r\n        entry.error(msg);\r\n    }\r\n    function handleSuccessMessage(msg) {\r\n        if (msg.domain !== domain) {\r\n            return;\r\n        }\r\n        var requestId = msg.request_id;\r\n        if (!requestId) {\r\n            return;\r\n        }\r\n        var entry = requestsMap[requestId];\r\n        if (!entry) {\r\n            return;\r\n        }\r\n        entry.success(msg);\r\n    }\r\n    function getNextRequestId() {\r\n        return shortid();\r\n    }\r\n    function send(msg, tag, options) {\r\n        options = options || {};\r\n        msg.request_id = msg.request_id || getNextRequestId();\r\n        msg.domain = msg.domain || domain;\r\n        if (!options.skipPeerId) {\r\n            msg.peer_id = connection.peerId;\r\n        }\r\n        var requestId = msg.request_id;\r\n        return new Promise(function (resolve, reject) {\r\n            requestsMap[requestId] = {\r\n                success: function (successMsg) {\r\n                    delete requestsMap[requestId];\r\n                    successMsg._tag = tag;\r\n                    resolve(successMsg);\r\n                },\r\n                error: function (errorMsg) {\r\n                    logger.warn(\"GW error - \" + JSON.stringify(errorMsg) + \" for request \" + JSON.stringify(msg));\r\n                    delete requestsMap[requestId];\r\n                    errorMsg._tag = tag;\r\n                    reject(errorMsg);\r\n                },\r\n            };\r\n            connection\r\n                .send(msg, options)\r\n                .catch(function (err) {\r\n                requestsMap[requestId].error({ err: err });\r\n            });\r\n        });\r\n    }\r\n    function sendFireAndForget(msg) {\r\n        msg.request_id = msg.request_id ? msg.request_id : getNextRequestId();\r\n        msg.domain = msg.domain || domain;\r\n        msg.peer_id = connection.peerId;\r\n        return connection.send(msg);\r\n    }\r\n    return {\r\n        join: join,\r\n        leave: leave,\r\n        onJoined: onJoined,\r\n        onLeft: onLeft,\r\n        send: send,\r\n        sendFireAndForget: sendFireAndForget,\r\n        on: function (type, callback) {\r\n            connection.on(type, function (msg) {\r\n                if (msg.domain !== domain) {\r\n                    return;\r\n                }\r\n                try {\r\n                    callback(msg);\r\n                }\r\n                catch (e) {\r\n                    logger.error(\"Callback  failed: \" + e + \" \\n \" + e.stack + \" \\n msg was: \" + JSON.stringify(msg), e);\r\n                }\r\n            });\r\n        },\r\n        loggedIn: function (callback) { return connection.loggedIn(callback); },\r\n        connected: function (callback) { return connection.connected(callback); },\r\n        disconnected: function (callback) { return connection.disconnected(callback); },\r\n        get peerId() {\r\n            return connection.peerId;\r\n        },\r\n        get domain() {\r\n            return domain;\r\n        },\r\n    };\r\n}\n\nvar GW3ProtocolImpl = (function () {\r\n    function GW3ProtocolImpl(connection, settings, logger) {\r\n        var _this = this;\r\n        this.connection = connection;\r\n        this.settings = settings;\r\n        this.logger = logger;\r\n        this.protocolVersion = 3;\r\n        this.datePrefix = \"#T42_DATE#\";\r\n        this.datePrefixLen = this.datePrefix.length;\r\n        this.dateMinLen = this.datePrefixLen + 1;\r\n        this.datePrefixFirstChar = this.datePrefix[0];\r\n        this.registry = lib();\r\n        this._isLoggedIn = false;\r\n        this.shouldTryLogin = true;\r\n        this.initialLogin = true;\r\n        this.initialLoginAttempts = 3;\r\n        this.sessions = [];\r\n        connection.disconnected(function () {\r\n            _this.handleDisconnected();\r\n        });\r\n        this.ping();\r\n    }\r\n    Object.defineProperty(GW3ProtocolImpl.prototype, \"isLoggedIn\", {\r\n        get: function () {\r\n            return this._isLoggedIn;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    GW3ProtocolImpl.prototype.processStringMessage = function (message) {\r\n        var _this = this;\r\n        var msg = JSON.parse(message, function (key, value) {\r\n            if (typeof value !== \"string\") {\r\n                return value;\r\n            }\r\n            if (value.length < _this.dateMinLen) {\r\n                return value;\r\n            }\r\n            if (value[0] !== _this.datePrefixFirstChar) {\r\n                return value;\r\n            }\r\n            if (value.substring(0, _this.datePrefixLen) !== _this.datePrefix) {\r\n                return value;\r\n            }\r\n            try {\r\n                var milliseconds = parseInt(value.substring(_this.datePrefixLen, value.length), 10);\r\n                if (isNaN(milliseconds)) {\r\n                    return value;\r\n                }\r\n                return new Date(milliseconds);\r\n            }\r\n            catch (ex) {\r\n                return value;\r\n            }\r\n        });\r\n        return {\r\n            msg: msg,\r\n            msgType: msg.type,\r\n        };\r\n    };\r\n    GW3ProtocolImpl.prototype.createStringMessage = function (message) {\r\n        var oldToJson = Date.prototype.toJSON;\r\n        try {\r\n            var datePrefix_1 = this.datePrefix;\r\n            Date.prototype.toJSON = function () {\r\n                return datePrefix_1 + this.getTime();\r\n            };\r\n            var result = JSON.stringify(message);\r\n            return result;\r\n        }\r\n        finally {\r\n            Date.prototype.toJSON = oldToJson;\r\n        }\r\n    };\r\n    GW3ProtocolImpl.prototype.processObjectMessage = function (message) {\r\n        if (!message.type) {\r\n            throw new Error(\"Object should have type property\");\r\n        }\r\n        return {\r\n            msg: message,\r\n            msgType: message.type,\r\n        };\r\n    };\r\n    GW3ProtocolImpl.prototype.createObjectMessage = function (message) {\r\n        return message;\r\n    };\r\n    GW3ProtocolImpl.prototype.login = function (config, reconnect) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var authentication, token, e_1, _a, helloMsg, sendOptions, welcomeMsg, msg, token, _b, err_1;\r\n            return __generator(this, function (_c) {\r\n                switch (_c.label) {\r\n                    case 0:\r\n                        this.logger.debug(\"logging in...\");\r\n                        this.loginConfig = config;\r\n                        if (!this.loginConfig) {\r\n                            this.loginConfig = { username: \"\", password: \"\" };\r\n                        }\r\n                        this.shouldTryLogin = true;\r\n                        authentication = {};\r\n                        this.connection.gatewayToken = config.gatewayToken;\r\n                        if (!config.gatewayToken) return [3, 5];\r\n                        if (!reconnect) return [3, 4];\r\n                        _c.label = 1;\r\n                    case 1:\r\n                        _c.trys.push([1, 3, , 4]);\r\n                        return [4, this.getNewGWToken()];\r\n                    case 2:\r\n                        token = _c.sent();\r\n                        config.gatewayToken = token;\r\n                        return [3, 4];\r\n                    case 3:\r\n                        e_1 = _c.sent();\r\n                        this.logger.warn(\"failed to get GW token when reconnecting \" + ((e_1 === null || e_1 === void 0 ? void 0 : e_1.message) || e_1));\r\n                        return [3, 4];\r\n                    case 4:\r\n                        authentication.method = \"gateway-token\";\r\n                        authentication.token = config.gatewayToken;\r\n                        this.connection.gatewayToken = config.gatewayToken;\r\n                        return [3, 10];\r\n                    case 5:\r\n                        if (!(config.flowName === \"sspi\")) return [3, 9];\r\n                        authentication.provider = \"win\";\r\n                        authentication.method = \"access-token\";\r\n                        if (!(config.flowCallback && config.sessionId)) return [3, 7];\r\n                        _a = authentication;\r\n                        return [4, config.flowCallback(config.sessionId, null)];\r\n                    case 6:\r\n                        _a.token =\r\n                            (_c.sent())\r\n                                .data\r\n                                .toString(\"base64\");\r\n                        return [3, 8];\r\n                    case 7: throw new Error(\"Invalid SSPI config\");\r\n                    case 8: return [3, 10];\r\n                    case 9:\r\n                        if (config.token) {\r\n                            authentication.method = \"access-token\";\r\n                            authentication.token = config.token;\r\n                        }\r\n                        else if (config.username) {\r\n                            authentication.method = \"secret\";\r\n                            authentication.login = config.username;\r\n                            authentication.secret = config.password;\r\n                        }\r\n                        else {\r\n                            throw new Error(\"invalid auth message\" + JSON.stringify(config));\r\n                        }\r\n                        _c.label = 10;\r\n                    case 10:\r\n                        helloMsg = {\r\n                            type: \"hello\",\r\n                            identity: this.settings.identity,\r\n                            authentication: authentication\r\n                        };\r\n                        if (config.sessionId) {\r\n                            helloMsg.request_id = config.sessionId;\r\n                        }\r\n                        this.globalDomain = domainSession(\"global\", this.connection, this.logger.subLogger(\"global-domain\"), [\r\n                            \"welcome\",\r\n                            \"token\",\r\n                            \"authentication-request\"\r\n                        ]);\r\n                        sendOptions = { skipPeerId: true };\r\n                        if (this.initialLogin) {\r\n                            sendOptions.retryInterval = this.settings.reconnectInterval;\r\n                            sendOptions.maxRetries = this.settings.reconnectAttempts;\r\n                        }\r\n                        _c.label = 11;\r\n                    case 11:\r\n                        _c.trys.push([11, 19, 20, 21]);\r\n                        welcomeMsg = void 0;\r\n                        _c.label = 12;\r\n                    case 12:\r\n                        return [4, this.globalDomain.send(helloMsg, undefined, sendOptions)];\r\n                    case 13:\r\n                        msg = _c.sent();\r\n                        if (!(msg.type === \"authentication-request\")) return [3, 16];\r\n                        token = Buffer.from(msg.authentication.token, \"base64\");\r\n                        if (!(config.flowCallback && config.sessionId)) return [3, 15];\r\n                        _b = helloMsg.authentication;\r\n                        return [4, config.flowCallback(config.sessionId, token)];\r\n                    case 14:\r\n                        _b.token =\r\n                            (_c.sent())\r\n                                .data\r\n                                .toString(\"base64\");\r\n                        _c.label = 15;\r\n                    case 15:\r\n                        helloMsg.request_id = config.sessionId;\r\n                        return [3, 12];\r\n                    case 16:\r\n                        if (msg.type === \"welcome\") {\r\n                            welcomeMsg = msg;\r\n                            return [3, 18];\r\n                        }\r\n                        else if (msg.type === \"error\") {\r\n                            throw new Error(\"Authentication failed: \" + msg.reason);\r\n                        }\r\n                        else {\r\n                            throw new Error(\"Unexpected message type during authentication: \" + msg.type);\r\n                        }\r\n                    case 17: return [3, 12];\r\n                    case 18:\r\n                        this.initialLogin = false;\r\n                        this.logger.debug(\"login successful with peerId \" + welcomeMsg.peer_id);\r\n                        this.connection.peerId = welcomeMsg.peer_id;\r\n                        this.connection.resolvedIdentity = welcomeMsg.resolved_identity;\r\n                        this.connection.availableDomains = welcomeMsg.available_domains;\r\n                        if (welcomeMsg.options) {\r\n                            this.connection.token = welcomeMsg.options.access_token;\r\n                            this.connection.info = welcomeMsg.options.info;\r\n                        }\r\n                        this.setLoggedIn(true);\r\n                        return [2, welcomeMsg.resolved_identity];\r\n                    case 19:\r\n                        err_1 = _c.sent();\r\n                        this.logger.error(\"error sending hello message - \" + (err_1.message || err_1.msg || err_1.reason || err_1), err_1);\r\n                        throw err_1;\r\n                    case 20:\r\n                        if (config && config.flowCallback && config.sessionId) {\r\n                            config.flowCallback(config.sessionId, null);\r\n                        }\r\n                        return [7];\r\n                    case 21: return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    GW3ProtocolImpl.prototype.logout = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var promises;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        this.logger.debug(\"logging out...\");\r\n                        this.shouldTryLogin = false;\r\n                        if (this.pingTimer) {\r\n                            clearTimeout(this.pingTimer);\r\n                        }\r\n                        promises = this.sessions.map(function (session) {\r\n                            session.leave();\r\n                        });\r\n                        return [4, Promise.all(promises)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    GW3ProtocolImpl.prototype.loggedIn = function (callback) {\r\n        if (this._isLoggedIn) {\r\n            callback();\r\n        }\r\n        return this.registry.add(\"onLoggedIn\", callback);\r\n    };\r\n    GW3ProtocolImpl.prototype.domain = function (domainName, domainLogger, successMessages, errorMessages) {\r\n        var session = this.sessions.filter(function (s) { return s.domain === domainName; })[0];\r\n        if (!session) {\r\n            session = domainSession(domainName, this.connection, domainLogger, successMessages, errorMessages);\r\n            this.sessions.push(session);\r\n        }\r\n        return session;\r\n    };\r\n    GW3ProtocolImpl.prototype.handleDisconnected = function () {\r\n        var _this = this;\r\n        this.setLoggedIn(false);\r\n        var tryToLogin = this.shouldTryLogin;\r\n        if (tryToLogin && this.initialLogin) {\r\n            if (this.initialLoginAttempts <= 0) {\r\n                return;\r\n            }\r\n            this.initialLoginAttempts--;\r\n        }\r\n        this.logger.debug(\"disconnected - will try new login?\" + this.shouldTryLogin);\r\n        if (this.shouldTryLogin) {\r\n            if (!this.loginConfig) {\r\n                throw new Error(\"no login info\");\r\n            }\r\n            this.connection.login(this.loginConfig, true)\r\n                .catch(function () {\r\n                setTimeout(_this.handleDisconnected.bind(_this), _this.settings.reconnectInterval || 1000);\r\n            });\r\n        }\r\n    };\r\n    GW3ProtocolImpl.prototype.setLoggedIn = function (value) {\r\n        this._isLoggedIn = value;\r\n        if (this._isLoggedIn) {\r\n            this.registry.execute(\"onLoggedIn\");\r\n        }\r\n    };\r\n    GW3ProtocolImpl.prototype.ping = function () {\r\n        var _this = this;\r\n        if (!this.shouldTryLogin) {\r\n            return;\r\n        }\r\n        if (this._isLoggedIn) {\r\n            this.connection.send({ type: \"ping\" });\r\n        }\r\n        this.pingTimer = setTimeout(function () {\r\n            _this.ping();\r\n        }, 30 * 1000);\r\n    };\r\n    GW3ProtocolImpl.prototype.authToken = function () {\r\n        var createTokenReq = {\r\n            type: \"create-token\"\r\n        };\r\n        if (!this.globalDomain) {\r\n            return Promise.reject(new Error(\"no global domain session\"));\r\n        }\r\n        return this.globalDomain.send(createTokenReq)\r\n            .then(function (res) {\r\n            return res.token;\r\n        });\r\n    };\r\n    GW3ProtocolImpl.prototype.getNewGWToken = function () {\r\n        if (typeof window !== undefined) {\r\n            var glue42gd = window.glue42gd;\r\n            if (glue42gd) {\r\n                return glue42gd.getGWToken();\r\n            }\r\n        }\r\n        return Promise.reject(new Error(\"not running in GD\"));\r\n    };\r\n    return GW3ProtocolImpl;\r\n}());\n\nvar MessageReplayerImpl = (function () {\r\n    function MessageReplayerImpl(specs) {\r\n        this.specsNames = [];\r\n        this.messages = {};\r\n        this.subs = {};\r\n        this.subsRefCount = {};\r\n        this.specs = {};\r\n        for (var _i = 0, specs_1 = specs; _i < specs_1.length; _i++) {\r\n            var spec = specs_1[_i];\r\n            this.specs[spec.name] = spec;\r\n            this.specsNames.push(spec.name);\r\n        }\r\n    }\r\n    MessageReplayerImpl.prototype.init = function (connection) {\r\n        var _this = this;\r\n        this.connection = connection;\r\n        for (var _i = 0, _a = this.specsNames; _i < _a.length; _i++) {\r\n            var name_1 = _a[_i];\r\n            var _loop_1 = function (type) {\r\n                var refCount = this_1.subsRefCount[type];\r\n                if (!refCount) {\r\n                    refCount = 0;\r\n                }\r\n                refCount += 1;\r\n                this_1.subsRefCount[type] = refCount;\r\n                if (refCount > 1) {\r\n                    return \"continue\";\r\n                }\r\n                var sub = connection.on(type, function (msg) { return _this.processMessage(type, msg); });\r\n                this_1.subs[type] = sub;\r\n            };\r\n            var this_1 = this;\r\n            for (var _b = 0, _c = this.specs[name_1].types; _b < _c.length; _b++) {\r\n                var type = _c[_b];\r\n                _loop_1(type);\r\n            }\r\n        }\r\n    };\r\n    MessageReplayerImpl.prototype.processMessage = function (type, msg) {\r\n        if (this.isDone || !msg) {\r\n            return;\r\n        }\r\n        for (var _i = 0, _a = this.specsNames; _i < _a.length; _i++) {\r\n            var name_2 = _a[_i];\r\n            if (this.specs[name_2].types.indexOf(type) !== -1) {\r\n                var messages = this.messages[name_2] || [];\r\n                this.messages[name_2] = messages;\r\n                messages.push(msg);\r\n            }\r\n        }\r\n    };\r\n    MessageReplayerImpl.prototype.drain = function (name, callback) {\r\n        var _a;\r\n        if (callback) {\r\n            (this.messages[name] || []).forEach(callback);\r\n        }\r\n        delete this.messages[name];\r\n        for (var _i = 0, _b = this.specs[name].types; _i < _b.length; _i++) {\r\n            var type = _b[_i];\r\n            this.subsRefCount[type] -= 1;\r\n            if (this.subsRefCount[type] <= 0) {\r\n                (_a = this.connection) === null || _a === void 0 ? void 0 : _a.off(this.subs[type]);\r\n                delete this.subs[type];\r\n                delete this.subsRefCount[type];\r\n            }\r\n        }\r\n        delete this.specs[name];\r\n        if (!this.specs.length) {\r\n            this.isDone = true;\r\n        }\r\n    };\r\n    return MessageReplayerImpl;\r\n}());\n\nvar PromisePlus = function (executor, timeoutMilliseconds, timeoutMessage) {\r\n    return new Promise(function (resolve, reject) {\r\n        var timeout = setTimeout(function () {\r\n            var message = timeoutMessage || \"Promise timeout hit: \" + timeoutMilliseconds;\r\n            reject(message);\r\n        }, timeoutMilliseconds);\r\n        var providedPromise = new Promise(executor);\r\n        providedPromise\r\n            .then(function (result) {\r\n            clearTimeout(timeout);\r\n            resolve(result);\r\n        })\r\n            .catch(function (error) {\r\n            clearTimeout(timeout);\r\n            reject(error);\r\n        });\r\n    });\r\n};\n\nvar WebPlatformTransport = (function () {\r\n    function WebPlatformTransport(settings, logger, identity) {\r\n        this.settings = settings;\r\n        this.logger = logger;\r\n        this.identity = identity;\r\n        this.parentReady = false;\r\n        this.iAmConnected = false;\r\n        this.rejected = false;\r\n        this.children = [];\r\n        this.parentPingTimeout = 3000;\r\n        this.connectionRequestTimeout = 5000;\r\n        this.defaultTargetString = \"*\";\r\n        this.registry = lib();\r\n        this.messages = {\r\n            connectionAccepted: { name: \"connectionAccepted\", handle: this.handleConnectionAccepted.bind(this) },\r\n            connectionRejected: { name: \"connectionRejected\", handle: this.handleConnectionRejected.bind(this) },\r\n            connectionRequest: { name: \"connectionRequest\", handle: this.handleConnectionRequest.bind(this) },\r\n            parentReady: { name: \"parentReady\", handle: this.handleParentReady.bind(this) },\r\n            parentPing: { name: \"parentPing\", handle: this.handleParentPing.bind(this) },\r\n            platformPing: { name: \"platformPing\", handle: this.handlePlatformPing.bind(this) },\r\n            platformUnload: { name: \"platformUnload\", handle: this.handlePlatformUnload.bind(this) },\r\n            platformReady: { name: \"platformReady\", handle: this.handlePlatformReady.bind(this) },\r\n            clientUnload: { name: \"clientUnload\", handle: this.handleClientUnload.bind(this) }\r\n        };\r\n        this.setUpMessageListener();\r\n        this.setUpUnload();\r\n        if (!this.settings.port) {\r\n            this.parent = window.opener || window.top;\r\n            this.parentType = window.opener ? \"opener\" :\r\n                window.name.indexOf(\"#wsp\") !== -1 ? \"workspace\" : \"top\";\r\n        }\r\n    }\r\n    Object.defineProperty(WebPlatformTransport.prototype, \"transportWindowId\", {\r\n        get: function () {\r\n            return this.publicWindowId;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    WebPlatformTransport.prototype.sendObject = function (msg) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                if (!this.port) {\r\n                    throw new Error(\"Cannot send message, because the port was not opened yet\");\r\n                }\r\n                this.port.postMessage(msg);\r\n                return [2];\r\n            });\r\n        });\r\n    };\r\n    Object.defineProperty(WebPlatformTransport.prototype, \"isObjectBasedTransport\", {\r\n        get: function () {\r\n            return true;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    WebPlatformTransport.prototype.onMessage = function (callback) {\r\n        return this.registry.add(\"onMessage\", callback);\r\n    };\r\n    WebPlatformTransport.prototype.send = function () {\r\n        return Promise.reject(\"not supported\");\r\n    };\r\n    WebPlatformTransport.prototype.onConnectedChanged = function (callback) {\r\n        return this.registry.add(\"onConnectedChanged\", callback);\r\n    };\r\n    WebPlatformTransport.prototype.open = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        this.logger.debug(\"opening a connection to the web platform gateway.\");\r\n                        return [4, this.connect()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        this.notifyStatusChanged(true);\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.close = function () {\r\n        return Promise.resolve();\r\n    };\r\n    WebPlatformTransport.prototype.name = function () {\r\n        return \"web-platform\";\r\n    };\r\n    WebPlatformTransport.prototype.reconnect = function () {\r\n        return Promise.resolve();\r\n    };\r\n    WebPlatformTransport.prototype.connect = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (this.parentReady) {\r\n                            this.logger.debug(\"cancelling connection attempt, because this client's parent has already given a ready signal\");\r\n                            return [2];\r\n                        }\r\n                        if (this.settings.port) {\r\n                            this.logger.debug(\"opening an internal web platform connection\");\r\n                            this.port = this.settings.port;\r\n                            this.publicWindowId = this.settings.windowId;\r\n                            if (this.identity) {\r\n                                this.identity.windowId = this.publicWindowId;\r\n                            }\r\n                            this.port.onmessage = function (event) { return _this.registry.execute(\"onMessage\", event.data); };\r\n                            this.logger.debug(\"internal web platform connection completed\");\r\n                            return [2];\r\n                        }\r\n                        if (!this.parentType || !this.parent) {\r\n                            throw new Error(\"Cannot initiate a connection, because there is no opener, no top and no port.\");\r\n                        }\r\n                        this.logger.debug(\"opening a \" + (this.parentType === \"opener\" ? \"child\" : \"grandchild\") + \" client web platform connection\");\r\n                        return [4, this.waitParent(this.parent, this.parentType)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [4, this.initiateRemoteConnection(this.parent, this.parentType)];\r\n                    case 2:\r\n                        _a.sent();\r\n                        this.logger.debug(\"the \" + (this.parentType === \"opener\" ? \"child\" : \"grandchild\") + \" client is connected\");\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.initiateRemoteConnection = function (target, parentType) {\r\n        var _this = this;\r\n        return PromisePlus(function (resolve, reject) {\r\n            _this.connectionResolve = resolve;\r\n            _this.connectionReject = reject;\r\n            _this.myClientId = shortid();\r\n            var request = {\r\n                glue42core: {\r\n                    type: _this.messages.connectionRequest.name,\r\n                    clientId: _this.myClientId,\r\n                    clientType: parentType === \"top\" ? \"grandChild\" : \"child\"\r\n                }\r\n            };\r\n            _this.logger.debug(\"sending connection request to \" + parentType);\r\n            target.postMessage(request, _this.defaultTargetString);\r\n        }, this.connectionRequestTimeout, \"The connection to the opener/top window timed out\");\r\n    };\r\n    WebPlatformTransport.prototype.waitParent = function (target, parentType) {\r\n        var _this = this;\r\n        return PromisePlus(function (resolve) {\r\n            _this.parentPingResolve = resolve;\r\n            var message = {\r\n                glue42core: {\r\n                    type: parentType === \"opener\" ? _this.messages.platformPing.name : _this.messages.parentPing.name\r\n                }\r\n            };\r\n            _this.logger.debug(\"checking for \" + parentType + \" window availability\");\r\n            target.postMessage(message, _this.defaultTargetString);\r\n        }, this.parentPingTimeout, \"Cannot initiate glue, because this window was not opened or created by a glue client\");\r\n    };\r\n    WebPlatformTransport.prototype.setUpMessageListener = function () {\r\n        var _this = this;\r\n        if (this.settings.port) {\r\n            this.logger.debug(\"skipping generic message listener, because this is an internal client\");\r\n            return;\r\n        }\r\n        window.addEventListener(\"message\", function (event) {\r\n            var _a;\r\n            var data = (_a = event.data) === null || _a === void 0 ? void 0 : _a.glue42core;\r\n            if (!data || _this.rejected) {\r\n                return;\r\n            }\r\n            if (!_this.checkMessageTypeValid(data.type)) {\r\n                _this.logger.error(\"cannot handle the incoming glue42 core message, because the type is invalid: \" + data.type);\r\n                return;\r\n            }\r\n            var messageType = data.type;\r\n            _this.logger.debug(\"received valid glue42core message of type: \" + messageType);\r\n            _this.messages[messageType].handle(event);\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.setUpUnload = function () {\r\n        var _this = this;\r\n        if (this.settings.port) {\r\n            this.logger.debug(\"skipping unload event listener, because this is an internal client\");\r\n            return;\r\n        }\r\n        window.addEventListener(\"beforeunload\", function () {\r\n            var _a, _b;\r\n            var message = {\r\n                glue42core: {\r\n                    type: _this.messages.clientUnload.name,\r\n                    data: {\r\n                        clientId: _this.myClientId,\r\n                        ownWindowId: (_a = _this.identity) === null || _a === void 0 ? void 0 : _a.windowId\r\n                    }\r\n                }\r\n            };\r\n            if (_this.parent && _this.parentType === \"top\") {\r\n                _this.parent.postMessage(message, _this.defaultTargetString);\r\n            }\r\n            (_b = _this.port) === null || _b === void 0 ? void 0 : _b.postMessage(message);\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.handleParentReady = function () {\r\n        this.logger.debug(\"handling the ready signal from the parent, by resoling the pending promise.\");\r\n        this.parentReady = true;\r\n        if (this.parentPingResolve) {\r\n            this.parentPingResolve();\r\n            delete this.parentPingResolve;\r\n            return;\r\n        }\r\n        this.logger.debug(\"silently handling the ready signal from the top parent, because there is no defined promise\");\r\n    };\r\n    WebPlatformTransport.prototype.handlePlatformReady = function () {\r\n        this.logger.debug(\"the web platform gave the ready signal\");\r\n        this.parentReady = true;\r\n        if (this.parentPingResolve) {\r\n            this.parentPingResolve();\r\n            delete this.parentPingResolve;\r\n            return;\r\n        }\r\n        this.logger.debug(\"silently handling the ready signal from the top parent, because there is no defined promise\");\r\n    };\r\n    WebPlatformTransport.prototype.handleConnectionAccepted = function (event) {\r\n        var _a;\r\n        var data = (_a = event.data) === null || _a === void 0 ? void 0 : _a.glue42core;\r\n        if (this.myClientId === data.clientId) {\r\n            return this.handleAcceptanceOfMyRequest(data);\r\n        }\r\n        return this.handleAcceptanceOfGrandChildRequest(data, event);\r\n    };\r\n    WebPlatformTransport.prototype.handleAcceptanceOfMyRequest = function (data) {\r\n        var _this = this;\r\n        this.logger.debug(\"handling a connection accepted signal targeted at me.\");\r\n        if (!data.port) {\r\n            this.logger.error(\"cannot set up my connection, because I was not provided with a port\");\r\n            return;\r\n        }\r\n        this.publicWindowId = this.parentType === \"opener\" ? window.name :\r\n            this.parentType === \"top\" ? data.parentWindowId :\r\n                window.name.substring(0, window.name.indexOf(\"#wsp\"));\r\n        if (this.identity && this.parentType !== \"top\") {\r\n            this.identity.windowId = this.publicWindowId;\r\n        }\r\n        this.port = data.port;\r\n        this.port.onmessage = function (e) { return _this.registry.execute(\"onMessage\", e.data); };\r\n        if (this.connectionResolve) {\r\n            this.logger.debug(\"my connection is set up, calling the connection resolve.\");\r\n            this.connectionResolve();\r\n            delete this.connectionResolve;\r\n            return;\r\n        }\r\n        this.logger.error(\"unable to call the connection resolve, because no connection promise was found\");\r\n    };\r\n    WebPlatformTransport.prototype.handleAcceptanceOfGrandChildRequest = function (data, event) {\r\n        this.logger.debug(\"handling a connection accepted signal targeted at a grandchild: \" + data.clientId);\r\n        var child = this.children.find(function (c) { return c.grandChildId === data.clientId; });\r\n        if (!child) {\r\n            this.logger.error(\"cannot handle connection accepted for grandchild: \" + data.clientId + \", because there is no grandchild with this id\");\r\n            return;\r\n        }\r\n        child.connected = true;\r\n        this.logger.debug(\"the grandchild connection for \" + data.clientId + \" is set up, forwarding the success message and the gateway port\");\r\n        data.parentWindowId = this.publicWindowId;\r\n        child.source.postMessage(event.data, child.origin, [data.port]);\r\n        return;\r\n    };\r\n    WebPlatformTransport.prototype.handleConnectionRejected = function () {\r\n        this.logger.debug(\"handling a connection rejection. Most likely the reason is that this window was not created by a glue API call\");\r\n        if (this.connectionReject) {\r\n            this.connectionReject(\"The platform connection was rejected. Most likely because this window was not created by a glue API call\");\r\n            delete this.connectionReject;\r\n        }\r\n    };\r\n    WebPlatformTransport.prototype.handleConnectionRequest = function (event) {\r\n        var source = event.source;\r\n        var data = event.data.glue42core;\r\n        if (!data.clientType || data.clientType !== \"grandChild\") {\r\n            return this.rejectConnectionRequest(source, event.origin, \"rejecting a connection request, because the source was not opened by a glue API call\");\r\n        }\r\n        if (!data.clientId) {\r\n            return this.rejectConnectionRequest(source, event.origin, \"rejecting a connection request, because the source did not provide a valid id\");\r\n        }\r\n        if (this.parentType !== \"opener\" || !this.parent) {\r\n            return this.rejectConnectionRequest(source, event.origin, \"Cannot forward the connection request, because no direct connection to the platform was found\");\r\n        }\r\n        this.logger.debug(\"handling a connection request for a grandchild: \" + data.clientId);\r\n        this.children.push({ grandChildId: data.clientId, source: source, connected: false, origin: event.origin });\r\n        this.logger.debug(\"grandchild: \" + data.clientId + \" is prepared, forwarding connection request to the platform\");\r\n        this.parent.postMessage(event.data, this.defaultTargetString);\r\n    };\r\n    WebPlatformTransport.prototype.handleParentPing = function (event) {\r\n        if (!this.parentReady) {\r\n            this.logger.debug(\"my parent is not ready, I am ignoring the parent ping\");\r\n            return;\r\n        }\r\n        if (!this.iAmConnected) {\r\n            this.logger.debug(\"i am not fully connected yet, I am ignoring the parent ping\");\r\n            return;\r\n        }\r\n        var message = {\r\n            glue42core: {\r\n                type: this.messages.parentReady.name\r\n            }\r\n        };\r\n        var source = event.source;\r\n        this.logger.debug(\"responding to a parent ping with a ready message\");\r\n        source.postMessage(message, event.origin);\r\n    };\r\n    WebPlatformTransport.prototype.handlePlatformUnload = function (event) {\r\n        this.logger.debug(\"detected a web platform unload\");\r\n        this.parentReady = false;\r\n        if (this.children.length) {\r\n            this.logger.debug(\"forwarding the platform unload to all known children and starting platform discovery polling\");\r\n            this.children.forEach(function (child) { return child.source.postMessage(event.data, child.origin); });\r\n        }\r\n        this.notifyStatusChanged(false, \"Gateway unloaded\");\r\n    };\r\n    WebPlatformTransport.prototype.handleClientUnload = function (event) {\r\n        var data = event.data.glue42core;\r\n        if (!data.clientId) {\r\n            this.logger.warn(\"cannot process grand child unload, because the provided id was not valid\");\r\n            return;\r\n        }\r\n        var foundChild = this.children.find(function (child) { return child.grandChildId === data.clientId; });\r\n        if (!foundChild) {\r\n            this.logger.warn(\"cannot process grand child unload, because this client is unaware of this grandchild\");\r\n            return;\r\n        }\r\n        this.logger.debug(\"handling grandchild unload for id: \" + data.clientId);\r\n        this.children = this.children.filter(function (child) { return child.grandChildId !== data.clientId; });\r\n    };\r\n    WebPlatformTransport.prototype.handlePlatformPing = function () {\r\n        this.logger.error(\"cannot handle platform ping, because this is not a platform calls handling component\");\r\n    };\r\n    WebPlatformTransport.prototype.notifyStatusChanged = function (status, reason) {\r\n        this.iAmConnected = status;\r\n        this.registry.execute(\"onConnectedChanged\", status, reason);\r\n    };\r\n    WebPlatformTransport.prototype.checkMessageTypeValid = function (typeToValidate) {\r\n        return typeof typeToValidate === \"string\" && !!this.messages[typeToValidate];\r\n    };\r\n    WebPlatformTransport.prototype.rejectConnectionRequest = function (source, origin, reason) {\r\n        this.rejected = true;\r\n        this.logger.error(reason);\r\n        var rejection = {\r\n            glue42core: {\r\n                type: this.messages.connectionRejected.name\r\n            }\r\n        };\r\n        source.postMessage(rejection, origin);\r\n    };\r\n    return WebPlatformTransport;\r\n}());\n\nvar Connection = (function () {\r\n    function Connection(settings, logger) {\r\n        this.settings = settings;\r\n        this.logger = logger;\r\n        this.messageHandlers = {};\r\n        this.ids = 1;\r\n        this.registry = lib();\r\n        this._connected = false;\r\n        this.isTrace = false;\r\n        settings = settings || {};\r\n        settings.reconnectAttempts = settings.reconnectAttempts || 10;\r\n        settings.reconnectInterval = settings.reconnectInterval || 1000;\r\n        if (settings.inproc) {\r\n            this.transport = new InProcTransport(settings.inproc, logger.subLogger(\"inMemory\"));\r\n        }\r\n        else if (settings.sharedWorker) {\r\n            this.transport = new SharedWorkerTransport(settings.sharedWorker, logger.subLogger(\"shared-worker\"));\r\n        }\r\n        else if (settings.webPlatform) {\r\n            this.transport = new WebPlatformTransport(settings.webPlatform, logger.subLogger(\"web-platform\"), settings.identity);\r\n        }\r\n        else if (settings.ws !== undefined) {\r\n            this.transport = new WS(settings, logger.subLogger(\"ws\"));\r\n        }\r\n        else {\r\n            throw new Error(\"No connection information specified\");\r\n        }\r\n        this.isTrace = logger.canPublish(\"trace\");\r\n        logger.debug(\"starting with \" + this.transport.name() + \" transport\");\r\n        this.protocol = new GW3ProtocolImpl(this, settings, logger.subLogger(\"protocol\"));\r\n        this.transport.onConnectedChanged(this.handleConnectionChanged.bind(this));\r\n        this.transport.onMessage(this.handleTransportMessage.bind(this));\r\n        if (settings.replaySpecs && settings.replaySpecs.length) {\r\n            this.replayer = new MessageReplayerImpl(settings.replaySpecs);\r\n            this.replayer.init(this);\r\n        }\r\n    }\r\n    Object.defineProperty(Connection.prototype, \"protocolVersion\", {\r\n        get: function () {\r\n            var _a;\r\n            return (_a = this.protocol) === null || _a === void 0 ? void 0 : _a.protocolVersion;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Connection.prototype.send = function (message, options) {\r\n        if (this.transport.sendObject &&\r\n            this.transport.isObjectBasedTransport) {\r\n            var msg = this.protocol.createObjectMessage(message);\r\n            if (this.isTrace) {\r\n                this.logger.trace(\">> \" + JSON.stringify(msg));\r\n            }\r\n            return this.transport.sendObject(msg, options);\r\n        }\r\n        else {\r\n            var strMessage = this.protocol.createStringMessage(message);\r\n            if (this.isTrace) {\r\n                this.logger.trace(\">> \" + strMessage);\r\n            }\r\n            return this.transport.send(strMessage, options);\r\n        }\r\n    };\r\n    Connection.prototype.on = function (type, messageHandler) {\r\n        type = type.toLowerCase();\r\n        if (this.messageHandlers[type] === undefined) {\r\n            this.messageHandlers[type] = {};\r\n        }\r\n        var id = this.ids++;\r\n        this.messageHandlers[type][id] = messageHandler;\r\n        return {\r\n            type: type,\r\n            id: id,\r\n        };\r\n    };\r\n    Connection.prototype.off = function (info) {\r\n        delete this.messageHandlers[info.type.toLowerCase()][info.id];\r\n    };\r\n    Object.defineProperty(Connection.prototype, \"isConnected\", {\r\n        get: function () {\r\n            return this.protocol.isLoggedIn;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Connection.prototype.connected = function (callback) {\r\n        var _this = this;\r\n        return this.protocol.loggedIn(function () {\r\n            callback(_this.settings.ws || _this.settings.sharedWorker || \"\");\r\n        });\r\n    };\r\n    Connection.prototype.disconnected = function (callback) {\r\n        return this.registry.add(\"disconnected\", callback);\r\n    };\r\n    Connection.prototype.login = function (authRequest, reconnect) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var identity;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4, this.transport.open()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        timer(\"connection\").mark(\"transport-opened\");\r\n                        identity = this.protocol.login(authRequest, reconnect);\r\n                        timer(\"connection\").mark(\"protocol-logged-in\");\r\n                        return [2, identity];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Connection.prototype.logout = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4, this.protocol.logout()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [4, this.transport.close()];\r\n                    case 2:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Connection.prototype.loggedIn = function (callback) {\r\n        return this.protocol.loggedIn(callback);\r\n    };\r\n    Connection.prototype.domain = function (domain, successMessages, errorMessages) {\r\n        return this.protocol.domain(domain, this.logger.subLogger(\"domain=\" + domain), successMessages, errorMessages);\r\n    };\r\n    Connection.prototype.authToken = function () {\r\n        return this.protocol.authToken();\r\n    };\r\n    Connection.prototype.reconnect = function () {\r\n        return this.transport.reconnect();\r\n    };\r\n    Connection.prototype.distributeMessage = function (message, type) {\r\n        var _this = this;\r\n        var handlers = this.messageHandlers[type.toLowerCase()];\r\n        if (handlers !== undefined) {\r\n            Object.keys(handlers).forEach(function (handlerId) {\r\n                var handler = handlers[handlerId];\r\n                if (handler !== undefined) {\r\n                    try {\r\n                        handler(message);\r\n                    }\r\n                    catch (error) {\r\n                        try {\r\n                            _this.logger.error(\"Message handler failed with \" + error.stack, error);\r\n                        }\r\n                        catch (loggerError) {\r\n                            console.log(\"Message handler failed\", error);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    };\r\n    Connection.prototype.handleConnectionChanged = function (connected) {\r\n        if (this._connected === connected) {\r\n            return;\r\n        }\r\n        this._connected = connected;\r\n        if (connected) {\r\n            this.registry.execute(\"connected\");\r\n        }\r\n        else {\r\n            this.registry.execute(\"disconnected\");\r\n        }\r\n    };\r\n    Connection.prototype.handleTransportMessage = function (msg) {\r\n        var msgObj;\r\n        if (typeof msg === \"string\") {\r\n            msgObj = this.protocol.processStringMessage(msg);\r\n        }\r\n        else {\r\n            msgObj = this.protocol.processObjectMessage(msg);\r\n        }\r\n        if (this.isTrace) {\r\n            this.logger.trace(\"<< \" + JSON.stringify(msgObj));\r\n        }\r\n        this.distributeMessage(msgObj.msg, msgObj.msgType);\r\n    };\r\n    return Connection;\r\n}());\n\nvar order = [\"trace\", \"debug\", \"info\", \"warn\", \"error\", \"off\"];\r\nvar Logger = (function () {\r\n    function Logger(name, parent, logFn) {\r\n        this.name = name;\r\n        this.parent = parent;\r\n        this.subLoggers = [];\r\n        this.logFn = console;\r\n        this.customLogFn = false;\r\n        this.name = name;\r\n        if (parent) {\r\n            this.path = parent.path + \".\" + name;\r\n        }\r\n        else {\r\n            this.path = name;\r\n        }\r\n        this.loggerFullName = \"[\" + this.path + \"]\";\r\n        this.includeTimeAndLevel = !logFn;\r\n        if (logFn) {\r\n            this.logFn = logFn;\r\n            this.customLogFn = true;\r\n        }\r\n    }\r\n    Logger.prototype.subLogger = function (name) {\r\n        var existingSub = this.subLoggers.filter(function (subLogger) {\r\n            return subLogger.name === name;\r\n        })[0];\r\n        if (existingSub !== undefined) {\r\n            return existingSub;\r\n        }\r\n        Object.keys(this).forEach(function (key) {\r\n            if (key === name) {\r\n                throw new Error(\"This sub logger name is not allowed.\");\r\n            }\r\n        });\r\n        var sub = new Logger(name, this, this.customLogFn ? this.logFn : undefined);\r\n        this.subLoggers.push(sub);\r\n        return sub;\r\n    };\r\n    Logger.prototype.publishLevel = function (level) {\r\n        var _a;\r\n        if (level) {\r\n            this._publishLevel = level;\r\n        }\r\n        return this._publishLevel || ((_a = this.parent) === null || _a === void 0 ? void 0 : _a.publishLevel());\r\n    };\r\n    Logger.prototype.consoleLevel = function (level) {\r\n        var _a;\r\n        if (level) {\r\n            this._consoleLevel = level;\r\n        }\r\n        return this._consoleLevel || ((_a = this.parent) === null || _a === void 0 ? void 0 : _a.consoleLevel());\r\n    };\r\n    Logger.prototype.log = function (message, level, error) {\r\n        this.publishMessage(level || \"info\", message, error);\r\n    };\r\n    Logger.prototype.trace = function (message) {\r\n        this.log(message, \"trace\");\r\n    };\r\n    Logger.prototype.debug = function (message) {\r\n        this.log(message, \"debug\");\r\n    };\r\n    Logger.prototype.info = function (message) {\r\n        this.log(message, \"info\");\r\n    };\r\n    Logger.prototype.warn = function (message) {\r\n        this.log(message, \"warn\");\r\n    };\r\n    Logger.prototype.error = function (message, err) {\r\n        this.log(message, \"error\");\r\n    };\r\n    Logger.prototype.canPublish = function (level, compareWith) {\r\n        var levelIdx = order.indexOf(level);\r\n        var restrictionIdx = order.indexOf(compareWith || this.consoleLevel() || \"trace\");\r\n        return levelIdx >= restrictionIdx;\r\n    };\r\n    Logger.prototype.publishMessage = function (level, message, error) {\r\n        var loggerName = this.loggerFullName;\r\n        if (level === \"error\" && !error) {\r\n            var e = new Error();\r\n            if (e.stack) {\r\n                message =\r\n                    message +\r\n                        \"\\n\" +\r\n                        e.stack\r\n                            .split(\"\\n\")\r\n                            .slice(3)\r\n                            .join(\"\\n\");\r\n            }\r\n        }\r\n        if (this.canPublish(level, this.publishLevel())) {\r\n            var interop = Logger.Interop;\r\n            if (interop) {\r\n                try {\r\n                    if (interop.methods({ name: Logger.InteropMethodName }).length > 0) {\r\n                        interop.invoke(Logger.InteropMethodName, {\r\n                            msg: \"\" + message,\r\n                            logger: loggerName,\r\n                            level: level\r\n                        });\r\n                    }\r\n                }\r\n                catch (_a) {\r\n                }\r\n            }\r\n        }\r\n        if (this.canPublish(level)) {\r\n            var prefix = \"\";\r\n            if (this.includeTimeAndLevel) {\r\n                var date = new Date();\r\n                var time = date.getHours() + \":\" + date.getMinutes() + \":\" + date.getSeconds() + \":\" + date.getMilliseconds();\r\n                prefix = \"[\" + time + \"] [\" + level + \"] \";\r\n            }\r\n            var toPrint = \"\" + prefix + loggerName + \": \" + message;\r\n            switch (level) {\r\n                case \"trace\":\r\n                    this.logFn.debug(toPrint);\r\n                    break;\r\n                case \"debug\":\r\n                    if (this.logFn.debug) {\r\n                        this.logFn.debug(toPrint);\r\n                    }\r\n                    else {\r\n                        this.logFn.log(toPrint);\r\n                    }\r\n                    break;\r\n                case \"info\":\r\n                    this.logFn.info(toPrint);\r\n                    break;\r\n                case \"warn\":\r\n                    this.logFn.warn(toPrint);\r\n                    break;\r\n                case \"error\":\r\n                    this.logFn.error(toPrint, error);\r\n                    break;\r\n            }\r\n        }\r\n    };\r\n    Logger.InteropMethodName = \"T42.AppLogger.Log\";\r\n    return Logger;\r\n}());\n\nvar GW_MESSAGE_CREATE_CONTEXT = \"create-context\";\r\nvar GW_MESSAGE_ACTIVITY_CREATED = \"created\";\r\nvar GW_MESSAGE_ACTIVITY_DESTROYED = \"destroyed\";\r\nvar GW_MESSAGE_CONTEXT_CREATED = \"context-created\";\r\nvar GW_MESSAGE_CONTEXT_ADDED = \"context-added\";\r\nvar GW_MESSAGE_SUBSCRIBE_CONTEXT = \"subscribe-context\";\r\nvar GW_MESSAGE_SUBSCRIBED_CONTEXT = \"subscribed-context\";\r\nvar GW_MESSAGE_UNSUBSCRIBE_CONTEXT = \"unsubscribe-context\";\r\nvar GW_MESSAGE_DESTROY_CONTEXT = \"destroy-context\";\r\nvar GW_MESSAGE_CONTEXT_DESTROYED = \"context-destroyed\";\r\nvar GW_MESSAGE_UPDATE_CONTEXT = \"update-context\";\r\nvar GW_MESSAGE_CONTEXT_UPDATED = \"context-updated\";\r\nvar GW_MESSAGE_JOINED_ACTIVITY = \"joined\";\n\nvar ContextMessageReplaySpec = {\r\n    get name() {\r\n        return \"context\";\r\n    },\r\n    get types() {\r\n        return [\r\n            GW_MESSAGE_CREATE_CONTEXT,\r\n            GW_MESSAGE_ACTIVITY_CREATED,\r\n            GW_MESSAGE_ACTIVITY_DESTROYED,\r\n            GW_MESSAGE_CONTEXT_CREATED,\r\n            GW_MESSAGE_CONTEXT_ADDED,\r\n            GW_MESSAGE_SUBSCRIBE_CONTEXT,\r\n            GW_MESSAGE_SUBSCRIBED_CONTEXT,\r\n            GW_MESSAGE_UNSUBSCRIBE_CONTEXT,\r\n            GW_MESSAGE_DESTROY_CONTEXT,\r\n            GW_MESSAGE_CONTEXT_DESTROYED,\r\n            GW_MESSAGE_UPDATE_CONTEXT,\r\n            GW_MESSAGE_CONTEXT_UPDATED,\r\n            GW_MESSAGE_JOINED_ACTIVITY\r\n        ];\r\n    }\r\n};\n\nvar version = \"5.2.7\";\n\nfunction prepareConfig (configuration, ext, glue42gd) {\r\n    var _a, _b, _c, _d, _e;\r\n    var nodeStartingContext;\r\n    if (Utils.isNode()) {\r\n        var startingContextString = process.env._GD_STARTING_CONTEXT_;\r\n        if (startingContextString) {\r\n            try {\r\n                nodeStartingContext = JSON.parse(startingContextString);\r\n            }\r\n            catch (_f) {\r\n            }\r\n        }\r\n    }\r\n    function getConnection() {\r\n        var _a, _b, _c, _d, _e;\r\n        var gwConfig = configuration.gateway;\r\n        var protocolVersion = (_a = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.protocolVersion) !== null && _a !== void 0 ? _a : 3;\r\n        var reconnectInterval = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.reconnectInterval;\r\n        var reconnectAttempts = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.reconnectAttempts;\r\n        var defaultWs = \"ws://localhost:8385\";\r\n        var ws = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.ws;\r\n        var sharedWorker = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.sharedWorker;\r\n        var inproc = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.inproc;\r\n        var webPlatform = (_b = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.webPlatform) !== null && _b !== void 0 ? _b : undefined;\r\n        if (glue42gd) {\r\n            ws = glue42gd.gwURL;\r\n        }\r\n        if (Utils.isNode() && nodeStartingContext && nodeStartingContext.gwURL) {\r\n            ws = nodeStartingContext.gwURL;\r\n        }\r\n        if (!ws && !sharedWorker && !inproc) {\r\n            ws = defaultWs;\r\n        }\r\n        var instanceId;\r\n        var windowId;\r\n        var pid;\r\n        var environment;\r\n        var region;\r\n        var appName = getApplication();\r\n        var uniqueAppName = appName;\r\n        if (typeof glue42gd !== \"undefined\") {\r\n            windowId = glue42gd.windowId;\r\n            pid = glue42gd.pid;\r\n            if (glue42gd.env) {\r\n                environment = glue42gd.env.env;\r\n                region = glue42gd.env.region;\r\n            }\r\n            uniqueAppName = (_c = glue42gd.application) !== null && _c !== void 0 ? _c : \"glue-app\";\r\n            instanceId = glue42gd.appInstanceId;\r\n        }\r\n        else if (Utils.isNode()) {\r\n            pid = process.pid;\r\n            if (nodeStartingContext) {\r\n                environment = nodeStartingContext.env;\r\n                region = nodeStartingContext.region;\r\n                instanceId = nodeStartingContext.instanceId;\r\n            }\r\n        }\r\n        else ;\r\n        var replaySpecs = (_e = (_d = configuration.gateway) === null || _d === void 0 ? void 0 : _d.replaySpecs) !== null && _e !== void 0 ? _e : [];\r\n        replaySpecs.push(ContextMessageReplaySpec);\r\n        return {\r\n            identity: {\r\n                application: uniqueAppName,\r\n                applicationName: appName,\r\n                windowId: windowId,\r\n                instance: instanceId,\r\n                process: pid,\r\n                region: region,\r\n                environment: environment,\r\n                api: ext.version || version\r\n            },\r\n            reconnectInterval: reconnectInterval,\r\n            ws: ws,\r\n            sharedWorker: sharedWorker,\r\n            webPlatform: webPlatform,\r\n            inproc: inproc,\r\n            protocolVersion: protocolVersion,\r\n            reconnectAttempts: reconnectAttempts,\r\n            replaySpecs: replaySpecs,\r\n        };\r\n    }\r\n    function getApplication() {\r\n        if (configuration.application) {\r\n            return configuration.application;\r\n        }\r\n        if (glue42gd) {\r\n            return glue42gd.applicationName;\r\n        }\r\n        var uid = shortid();\r\n        if (Utils.isNode()) {\r\n            if (nodeStartingContext) {\r\n                return nodeStartingContext.applicationConfig.name;\r\n            }\r\n            return \"NodeJS\" + uid;\r\n        }\r\n        if (typeof window !== \"undefined\" && typeof document !== \"undefined\") {\r\n            return document.title + (\" (\" + uid + \")\");\r\n        }\r\n        return uid;\r\n    }\r\n    function getAuth() {\r\n        var _a, _b, _c;\r\n        if (typeof configuration.auth === \"string\") {\r\n            return {\r\n                token: configuration.auth\r\n            };\r\n        }\r\n        if (configuration.auth) {\r\n            return configuration.auth;\r\n        }\r\n        if (Utils.isNode() && nodeStartingContext && nodeStartingContext.gwToken) {\r\n            return {\r\n                gatewayToken: nodeStartingContext.gwToken\r\n            };\r\n        }\r\n        if (((_a = configuration.gateway) === null || _a === void 0 ? void 0 : _a.webPlatform) || ((_b = configuration.gateway) === null || _b === void 0 ? void 0 : _b.inproc) || ((_c = configuration.gateway) === null || _c === void 0 ? void 0 : _c.sharedWorker)) {\r\n            return {\r\n                username: \"glue42\", password: \"glue42\"\r\n            };\r\n        }\r\n    }\r\n    function getLogger() {\r\n        var _a, _b;\r\n        var config = configuration.logger;\r\n        var defaultLevel = \"warn\";\r\n        if (!config) {\r\n            config = defaultLevel;\r\n        }\r\n        var gdConsoleLevel;\r\n        if (glue42gd) {\r\n            gdConsoleLevel = glue42gd.consoleLogLevel;\r\n        }\r\n        if (typeof config === \"string\") {\r\n            return { console: gdConsoleLevel !== null && gdConsoleLevel !== void 0 ? gdConsoleLevel : config, publish: defaultLevel };\r\n        }\r\n        return {\r\n            console: (_a = gdConsoleLevel !== null && gdConsoleLevel !== void 0 ? gdConsoleLevel : config.console) !== null && _a !== void 0 ? _a : defaultLevel,\r\n            publish: (_b = config.publish) !== null && _b !== void 0 ? _b : defaultLevel\r\n        };\r\n    }\r\n    var connection = getConnection();\r\n    var application = getApplication();\r\n    if (typeof window !== \"undefined\") {\r\n        var windowAsAny = window;\r\n        var containerApplication = windowAsAny.htmlContainer ?\r\n            windowAsAny.htmlContainer.containerName + \".\" + windowAsAny.htmlContainer.application : (_a = windowAsAny === null || windowAsAny === void 0 ? void 0 : windowAsAny.glue42gd) === null || _a === void 0 ? void 0 : _a.application;\r\n        if (containerApplication) {\r\n            application = containerApplication;\r\n        }\r\n    }\r\n    return {\r\n        bus: (_b = configuration.bus) !== null && _b !== void 0 ? _b : false,\r\n        application: application,\r\n        auth: getAuth(),\r\n        logger: getLogger(),\r\n        connection: connection,\r\n        metrics: (_c = configuration.metrics) !== null && _c !== void 0 ? _c : true,\r\n        contexts: (_d = configuration.contexts) !== null && _d !== void 0 ? _d : true,\r\n        version: ext.version || version,\r\n        libs: (_e = ext.libs) !== null && _e !== void 0 ? _e : [],\r\n        customLogger: configuration.customLogger\r\n    };\r\n}\n\nvar GW3ContextData = (function () {\r\n    function GW3ContextData(contextId, name, isAnnounced, activityId) {\r\n        this.updateCallbacks = {};\r\n        this.contextId = contextId;\r\n        this.name = name;\r\n        this.isAnnounced = isAnnounced;\r\n        this.activityId = activityId;\r\n        this.context = {};\r\n    }\r\n    GW3ContextData.prototype.hasCallbacks = function () {\r\n        return Object.keys(this.updateCallbacks).length > 0;\r\n    };\r\n    GW3ContextData.prototype.getState = function () {\r\n        if (this.isAnnounced && this.hasCallbacks()) {\r\n            return 3;\r\n        }\r\n        if (this.isAnnounced) {\r\n            return 2;\r\n        }\r\n        if (this.hasCallbacks()) {\r\n            return 1;\r\n        }\r\n        return 0;\r\n    };\r\n    return GW3ContextData;\r\n}());\n\nfunction applyContextDelta(context, delta, logger) {\r\n    try {\r\n        if (logger === null || logger === void 0 ? void 0 : logger.canPublish(\"trace\")) {\r\n            logger === null || logger === void 0 ? void 0 : logger.trace(\"applying context delta \" + JSON.stringify(delta) + \" on context \" + JSON.stringify(context));\r\n        }\r\n        if (!delta) {\r\n            return context;\r\n        }\r\n        if (delta.reset) {\r\n            context = __assign({}, delta.reset);\r\n            return context;\r\n        }\r\n        context = deepClone(context, undefined);\r\n        if (delta.commands) {\r\n            for (var _i = 0, _a = delta.commands; _i < _a.length; _i++) {\r\n                var command = _a[_i];\r\n                if (command.type === \"remove\") {\r\n                    deletePath(context, command.path);\r\n                }\r\n                else if (command.type === \"set\") {\r\n                    setValueToPath(context, command.value, command.path);\r\n                }\r\n            }\r\n            return context;\r\n        }\r\n        var added_1 = delta.added;\r\n        var updated_1 = delta.updated;\r\n        var removed = delta.removed;\r\n        if (added_1) {\r\n            Object.keys(added_1).forEach(function (key) {\r\n                context[key] = added_1[key];\r\n            });\r\n        }\r\n        if (updated_1) {\r\n            Object.keys(updated_1).forEach(function (key) {\r\n                mergeObjectsProperties(key, context, updated_1);\r\n            });\r\n        }\r\n        if (removed) {\r\n            removed.forEach(function (key) {\r\n                delete context[key];\r\n            });\r\n        }\r\n        return context;\r\n    }\r\n    catch (e) {\r\n        logger === null || logger === void 0 ? void 0 : logger.error(\"error applying context delta \" + JSON.stringify(delta) + \" on context \" + JSON.stringify(context), e);\r\n        return context;\r\n    }\r\n}\r\nfunction deepClone(obj, hash) {\r\n    hash = hash || new WeakMap();\r\n    if (Object(obj) !== obj) {\r\n        return obj;\r\n    }\r\n    if (obj instanceof Set) {\r\n        return new Set(obj);\r\n    }\r\n    if (hash.has(obj)) {\r\n        return hash.get(obj);\r\n    }\r\n    var result = obj instanceof Date ? new Date(obj)\r\n        : obj instanceof RegExp ? new RegExp(obj.source, obj.flags)\r\n            : obj.constructor ? new obj.constructor()\r\n                : Object.create(null);\r\n    hash.set(obj, result);\r\n    if (obj instanceof Map) {\r\n        Array.from(obj, function (_a) {\r\n            var key = _a[0], val = _a[1];\r\n            return result.set(key, deepClone(val, hash));\r\n        });\r\n    }\r\n    return Object.assign.apply(Object, __spreadArrays([result], Object.keys(obj).map(function (key) {\r\n        var _a;\r\n        return (_a = {}, _a[key] = deepClone(obj[key], hash), _a);\r\n    })));\r\n}\r\nvar mergeObjectsProperties = function (key, what, withWhat) {\r\n    var right = withWhat[key];\r\n    if (right === undefined) {\r\n        return what;\r\n    }\r\n    var left = what[key];\r\n    if (!left || !right) {\r\n        what[key] = right;\r\n        return what;\r\n    }\r\n    if (typeof left === \"string\" ||\r\n        typeof left === \"number\" ||\r\n        typeof left === \"boolean\" ||\r\n        typeof right === \"string\" ||\r\n        typeof right === \"number\" ||\r\n        typeof right === \"boolean\" ||\r\n        Array.isArray(left) ||\r\n        Array.isArray(right)) {\r\n        what[key] = right;\r\n        return what;\r\n    }\r\n    what[key] = Object.assign({}, left, right);\r\n    return what;\r\n};\r\nfunction deepEqual(x, y) {\r\n    if (x === y) {\r\n        return true;\r\n    }\r\n    if (!(x instanceof Object) || !(y instanceof Object)) {\r\n        return false;\r\n    }\r\n    if (x.constructor !== y.constructor) {\r\n        return false;\r\n    }\r\n    for (var p in x) {\r\n        if (!x.hasOwnProperty(p)) {\r\n            continue;\r\n        }\r\n        if (!y.hasOwnProperty(p)) {\r\n            return false;\r\n        }\r\n        if (x[p] === y[p]) {\r\n            continue;\r\n        }\r\n        if (typeof (x[p]) !== \"object\") {\r\n            return false;\r\n        }\r\n        if (!deepEqual(x[p], y[p])) {\r\n            return false;\r\n        }\r\n    }\r\n    for (var p in y) {\r\n        if (y.hasOwnProperty(p) && !x.hasOwnProperty(p)) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\nfunction setValueToPath(obj, value, path) {\r\n    var pathArr = path.split(\".\");\r\n    var i;\r\n    for (i = 0; i < pathArr.length - 1; i++) {\r\n        if (!obj[pathArr[i]]) {\r\n            obj[pathArr[i]] = {};\r\n        }\r\n        if (typeof obj[pathArr[i]] !== \"object\") {\r\n            obj[pathArr[i]] = {};\r\n        }\r\n        obj = obj[pathArr[i]];\r\n    }\r\n    obj[pathArr[i]] = value;\r\n}\r\nfunction deletePath(obj, path) {\r\n    var pathArr = path.split(\".\");\r\n    var i;\r\n    for (i = 0; i < pathArr.length - 1; i++) {\r\n        if (!obj[pathArr[i]]) {\r\n            return;\r\n        }\r\n        obj = obj[pathArr[i]];\r\n    }\r\n    delete obj[pathArr[i]];\r\n}\n\nvar GW3Bridge = (function () {\r\n    function GW3Bridge(config) {\r\n        var _this = this;\r\n        var _a;\r\n        this._contextNameToData = {};\r\n        this._gw3Subscriptions = [];\r\n        this._nextCallbackSubscriptionNumber = 0;\r\n        this._contextNameToId = {};\r\n        this._contextIdToName = {};\r\n        this._protocolVersion = undefined;\r\n        this._connection = config.connection;\r\n        this._logger = config.logger;\r\n        this._gw3Session = this._connection.domain(\"global\", [\r\n            GW_MESSAGE_CONTEXT_CREATED,\r\n            GW_MESSAGE_SUBSCRIBED_CONTEXT,\r\n            GW_MESSAGE_CONTEXT_DESTROYED,\r\n            GW_MESSAGE_CONTEXT_UPDATED,\r\n        ]);\r\n        this.subscribeToContextCreatedMessages();\r\n        this.subscribeToContextUpdatedMessages();\r\n        this.subscribeToContextDestroyedMessages();\r\n        (_a = this._connection.replayer) === null || _a === void 0 ? void 0 : _a.drain(ContextMessageReplaySpec.name, function (message) {\r\n            var type = message.type;\r\n            if (!type) {\r\n                return;\r\n            }\r\n            if (type === GW_MESSAGE_CONTEXT_CREATED ||\r\n                type === GW_MESSAGE_CONTEXT_ADDED ||\r\n                type === GW_MESSAGE_ACTIVITY_CREATED) {\r\n                _this.handleContextCreatedMessage(message);\r\n            }\r\n            else if (type === GW_MESSAGE_SUBSCRIBED_CONTEXT ||\r\n                type === GW_MESSAGE_CONTEXT_UPDATED ||\r\n                type === GW_MESSAGE_JOINED_ACTIVITY) {\r\n                _this.handleContextUpdatedMessage(message);\r\n            }\r\n            else if (type === GW_MESSAGE_CONTEXT_DESTROYED ||\r\n                type === GW_MESSAGE_ACTIVITY_DESTROYED) {\r\n                _this.handleContextDestroyedMessage(message);\r\n            }\r\n        });\r\n    }\r\n    Object.defineProperty(GW3Bridge.prototype, \"protocolVersion\", {\r\n        get: function () {\r\n            var _a;\r\n            if (!this._protocolVersion) {\r\n                var contextsDomainInfo = this._connection.availableDomains.find(function (d) { return d.uri === \"context\"; });\r\n                this._protocolVersion = (_a = contextsDomainInfo === null || contextsDomainInfo === void 0 ? void 0 : contextsDomainInfo.version) !== null && _a !== void 0 ? _a : 1;\r\n            }\r\n            return this._protocolVersion;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(GW3Bridge.prototype, \"setPathSupported\", {\r\n        get: function () {\r\n            return this.protocolVersion >= 2;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    GW3Bridge.prototype.dispose = function () {\r\n        for (var _i = 0, _a = this._gw3Subscriptions; _i < _a.length; _i++) {\r\n            var sub = _a[_i];\r\n            this._connection.off(sub);\r\n        }\r\n        this._gw3Subscriptions.length = 0;\r\n        for (var contextName in this._contextNameToData) {\r\n            if (this._contextNameToId.hasOwnProperty(contextName)) {\r\n                delete this._contextNameToData[contextName];\r\n            }\r\n        }\r\n    };\r\n    GW3Bridge.prototype.createContext = function (name, data) {\r\n        var _this = this;\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_CREATE_CONTEXT,\r\n            domain: \"global\",\r\n            name: name,\r\n            data: data,\r\n            lifetime: \"retained\",\r\n        })\r\n            .then(function (createContextMsg) {\r\n            _this._contextNameToId[name] = createContextMsg.context_id;\r\n            _this._contextIdToName[createContextMsg.context_id] = name;\r\n            var contextData = _this._contextNameToData[name] || new GW3ContextData(createContextMsg.context_id, name, true, undefined);\r\n            contextData.isAnnounced = true;\r\n            contextData.name = name;\r\n            contextData.contextId = createContextMsg.context_id;\r\n            contextData.context = data;\r\n            _this._contextNameToData[name] = contextData;\r\n            return createContextMsg.context_id;\r\n        });\r\n    };\r\n    GW3Bridge.prototype.all = function () {\r\n        var _this = this;\r\n        return Object.keys(this._contextNameToData)\r\n            .filter(function (name) { return _this._contextNameToData[name].isAnnounced; });\r\n    };\r\n    GW3Bridge.prototype.update = function (name, delta) {\r\n        var _a;\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var contextData, currentContext, calculatedDelta;\r\n            var _this = this;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        contextData = this._contextNameToData[name];\r\n                        if (!contextData || !contextData.isAnnounced) {\r\n                            return [2, this.createContext(name, delta)];\r\n                        }\r\n                        currentContext = contextData.context;\r\n                        if (!!contextData.hasCallbacks()) return [3, 2];\r\n                        return [4, this.get(contextData.name)];\r\n                    case 1:\r\n                        currentContext = _b.sent();\r\n                        _b.label = 2;\r\n                    case 2:\r\n                        calculatedDelta = this.protocolVersion === 2 ?\r\n                            this.calculateContextDeltaV2(currentContext, delta) :\r\n                            this.calculateContextDeltaV1(currentContext, delta);\r\n                        if (!Object.keys(calculatedDelta.added).length\r\n                            && !Object.keys(calculatedDelta.updated).length\r\n                            && !calculatedDelta.removed.length\r\n                            && !((_a = calculatedDelta.commands) === null || _a === void 0 ? void 0 : _a.length)) {\r\n                            return [2, Promise.resolve()];\r\n                        }\r\n                        return [2, this._gw3Session\r\n                                .send({\r\n                                type: GW_MESSAGE_UPDATE_CONTEXT,\r\n                                domain: \"global\",\r\n                                context_id: contextData.contextId,\r\n                                delta: calculatedDelta,\r\n                            }, {}, { skipPeerId: false })\r\n                                .then(function (gwResponse) {\r\n                                _this.handleUpdated(contextData, calculatedDelta, {\r\n                                    updaterId: gwResponse.peer_id\r\n                                });\r\n                            })];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    GW3Bridge.prototype.set = function (name, data) {\r\n        var _this = this;\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData || !contextData.isAnnounced) {\r\n            return this.createContext(name, data);\r\n        }\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_UPDATE_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n            delta: { reset: data },\r\n        }, {}, { skipPeerId: false })\r\n            .then(function (gwResponse) {\r\n            _this.handleUpdated(contextData, { reset: data, added: {}, removed: [], updated: {} }, { updaterId: gwResponse.peer_id });\r\n        });\r\n    };\r\n    GW3Bridge.prototype.setPath = function (name, path, value) {\r\n        if (!this.setPathSupported) {\r\n            return Promise.reject(\"glue.contexts.setPath operation is not supported, use Glue42 3.10 or later\");\r\n        }\r\n        return this.setPaths(name, [{ path: path, value: value }]);\r\n    };\r\n    GW3Bridge.prototype.setPaths = function (name, pathValues) {\r\n        var _this = this;\r\n        if (!this.setPathSupported) {\r\n            return Promise.reject(\"glue.contexts.setPaths operation is not supported, use Glue42 3.10 or later\");\r\n        }\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData || !contextData.isAnnounced) {\r\n            var obj = {};\r\n            for (var _i = 0, pathValues_1 = pathValues; _i < pathValues_1.length; _i++) {\r\n                var pathValue = pathValues_1[_i];\r\n                setValueToPath(obj, pathValue.value, pathValue.path);\r\n            }\r\n            return this.createContext(name, obj);\r\n        }\r\n        var commands = [];\r\n        for (var _a = 0, pathValues_2 = pathValues; _a < pathValues_2.length; _a++) {\r\n            var pathValue = pathValues_2[_a];\r\n            if (pathValue.value === null) {\r\n                commands.push({ type: \"remove\", path: pathValue.path });\r\n            }\r\n            else {\r\n                commands.push({ type: \"set\", path: pathValue.path, value: pathValue.value });\r\n            }\r\n        }\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_UPDATE_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n            delta: { commands: commands }\r\n        }, {}, { skipPeerId: false })\r\n            .then(function (gwResponse) {\r\n            _this.handleUpdated(contextData, { added: {}, removed: [], updated: {}, commands: commands }, { updaterId: gwResponse.peer_id });\r\n        });\r\n    };\r\n    GW3Bridge.prototype.get = function (name) {\r\n        var _this = this;\r\n        var _a;\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData || !contextData.isAnnounced) {\r\n            return Promise.resolve({});\r\n        }\r\n        if (contextData && !contextData.hasCallbacks()) {\r\n            return new Promise(function (resolve, _) { return __awaiter(_this, void 0, void 0, function () {\r\n                var _this = this;\r\n                return __generator(this, function (_a) {\r\n                    this.subscribe(name, function (data, _d, _r, un) {\r\n                        _this.unsubscribe(un);\r\n                        resolve(data);\r\n                    });\r\n                    return [2];\r\n                });\r\n            }); });\r\n        }\r\n        var context = (_a = contextData === null || contextData === void 0 ? void 0 : contextData.context) !== null && _a !== void 0 ? _a : {};\r\n        return Promise.resolve(context);\r\n    };\r\n    GW3Bridge.prototype.subscribe = function (name, callback) {\r\n        var thisCallbackSubscriptionNumber = this._nextCallbackSubscriptionNumber;\r\n        this._nextCallbackSubscriptionNumber += 1;\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData ||\r\n            !contextData.isAnnounced) {\r\n            contextData = contextData || new GW3ContextData(undefined, name, false, undefined);\r\n            this._contextNameToData[name] = contextData;\r\n            contextData.updateCallbacks[thisCallbackSubscriptionNumber] = callback;\r\n            return Promise.resolve(thisCallbackSubscriptionNumber);\r\n        }\r\n        var hadCallbacks = contextData.hasCallbacks();\r\n        contextData.updateCallbacks[thisCallbackSubscriptionNumber] = callback;\r\n        if (!hadCallbacks) {\r\n            if (!contextData.joinedActivity) {\r\n                if (contextData.context && contextData.sentExplicitSubscription) {\r\n                    var clone = deepClone(contextData.context);\r\n                    callback(clone, clone, [], thisCallbackSubscriptionNumber);\r\n                    return Promise.resolve(thisCallbackSubscriptionNumber);\r\n                }\r\n                return this.sendSubscribe(contextData)\r\n                    .then(function () { return thisCallbackSubscriptionNumber; });\r\n            }\r\n            else {\r\n                var clone = deepClone(contextData.context);\r\n                callback(clone, clone, [], thisCallbackSubscriptionNumber);\r\n                return Promise.resolve(thisCallbackSubscriptionNumber);\r\n            }\r\n        }\r\n        else {\r\n            var clone = deepClone(contextData.context);\r\n            callback(clone, clone, [], thisCallbackSubscriptionNumber);\r\n            return Promise.resolve(thisCallbackSubscriptionNumber);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.unsubscribe = function (subscriptionKey) {\r\n        for (var _i = 0, _a = Object.keys(this._contextNameToData); _i < _a.length; _i++) {\r\n            var name_1 = _a[_i];\r\n            var contextId = this._contextNameToId[name_1];\r\n            var contextData = this._contextNameToData[name_1];\r\n            if (!contextData) {\r\n                return;\r\n            }\r\n            var hadCallbacks = contextData.hasCallbacks();\r\n            delete contextData.updateCallbacks[subscriptionKey];\r\n            if (contextData.isAnnounced &&\r\n                hadCallbacks &&\r\n                !contextData.hasCallbacks() &&\r\n                contextData.sentExplicitSubscription) {\r\n                this.sendUnsubscribe(contextData);\r\n            }\r\n            if (!contextData.isAnnounced &&\r\n                !contextData.hasCallbacks()) {\r\n                delete this._contextNameToData[name_1];\r\n            }\r\n        }\r\n    };\r\n    GW3Bridge.prototype.destroy = function (name) {\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData) {\r\n            return Promise.reject(\"context with \" + name + \" does not exist\");\r\n        }\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_DESTROY_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n        }).then(function (_) { return undefined; });\r\n    };\r\n    GW3Bridge.prototype.handleUpdated = function (contextData, delta, extraData) {\r\n        var oldContext = contextData.context;\r\n        contextData.context = applyContextDelta(contextData.context, delta, this._logger);\r\n        if (this._contextNameToData[contextData.name] === contextData &&\r\n            !deepEqual(oldContext, contextData.context)) {\r\n            this.invokeUpdateCallbacks(contextData, delta, extraData);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.subscribeToContextCreatedMessages = function () {\r\n        var createdMessageTypes = [\r\n            GW_MESSAGE_CONTEXT_ADDED,\r\n            GW_MESSAGE_CONTEXT_CREATED,\r\n            GW_MESSAGE_ACTIVITY_CREATED,\r\n        ];\r\n        for (var _i = 0, createdMessageTypes_1 = createdMessageTypes; _i < createdMessageTypes_1.length; _i++) {\r\n            var createdMessageType = createdMessageTypes_1[_i];\r\n            var sub = this._connection.on(createdMessageType, this.handleContextCreatedMessage.bind(this));\r\n            this._gw3Subscriptions.push(sub);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.handleContextCreatedMessage = function (contextCreatedMsg) {\r\n        var createdMessageType = contextCreatedMsg.type;\r\n        if (createdMessageType === GW_MESSAGE_ACTIVITY_CREATED) {\r\n            this._contextNameToId[contextCreatedMsg.activity_id] = contextCreatedMsg.context_id;\r\n            this._contextIdToName[contextCreatedMsg.context_id] = contextCreatedMsg.activity_id;\r\n        }\r\n        else if (createdMessageType === GW_MESSAGE_CONTEXT_ADDED) {\r\n            this._contextNameToId[contextCreatedMsg.name] = contextCreatedMsg.context_id;\r\n            this._contextIdToName[contextCreatedMsg.context_id] = contextCreatedMsg.name;\r\n        }\r\n        else ;\r\n        var name = this._contextIdToName[contextCreatedMsg.context_id];\r\n        if (!name) {\r\n            throw new Error(\"Received created event for context with unknown name: \" + contextCreatedMsg.context_id);\r\n        }\r\n        if (!this._contextNameToId[name]) {\r\n            throw new Error(\"Received created event for context with unknown id: \" + contextCreatedMsg.context_id);\r\n        }\r\n        var contextData = this._contextNameToData[name];\r\n        if (contextData) {\r\n            if (contextData.isAnnounced) {\r\n                return;\r\n            }\r\n            else {\r\n                if (!contextData.hasCallbacks()) {\r\n                    throw new Error(\"Assertion failure: contextData.hasCallbacks()\");\r\n                }\r\n                contextData.isAnnounced = true;\r\n                contextData.contextId = contextCreatedMsg.context_id;\r\n                contextData.activityId = contextCreatedMsg.activity_id;\r\n                if (!contextData.sentExplicitSubscription) {\r\n                    this.sendSubscribe(contextData);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            this._contextNameToData[name] = contextData =\r\n                new GW3ContextData(contextCreatedMsg.context_id, name, true, contextCreatedMsg.activity_id);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.subscribeToContextUpdatedMessages = function () {\r\n        var updatedMessageTypes = [\r\n            GW_MESSAGE_CONTEXT_UPDATED,\r\n            GW_MESSAGE_SUBSCRIBED_CONTEXT,\r\n            GW_MESSAGE_JOINED_ACTIVITY,\r\n        ];\r\n        for (var _i = 0, updatedMessageTypes_1 = updatedMessageTypes; _i < updatedMessageTypes_1.length; _i++) {\r\n            var updatedMessageType = updatedMessageTypes_1[_i];\r\n            var sub = this._connection.on(updatedMessageType, this.handleContextUpdatedMessage.bind(this));\r\n            this._gw3Subscriptions.push(sub);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.handleContextUpdatedMessage = function (contextUpdatedMsg) {\r\n        var updatedMessageType = contextUpdatedMsg.type;\r\n        var contextId = contextUpdatedMsg.context_id;\r\n        var contextData = this._contextNameToData[this._contextIdToName[contextId]];\r\n        var justSeen = !contextData || !contextData.isAnnounced;\r\n        if (updatedMessageType === GW_MESSAGE_JOINED_ACTIVITY) {\r\n            if (!contextData) {\r\n                contextData = new GW3ContextData(contextId, contextUpdatedMsg.activity_id, true, contextUpdatedMsg.activity_id);\r\n                this._contextNameToData[contextUpdatedMsg.activity_id] = contextData;\r\n                this._contextIdToName[contextId] = contextUpdatedMsg.activity_id;\r\n                this._contextNameToId[contextUpdatedMsg.activity_id] = contextId;\r\n            }\r\n            else {\r\n                contextData.contextId = contextId;\r\n                contextData.isAnnounced = true;\r\n                contextData.activityId = contextUpdatedMsg.activity_id;\r\n            }\r\n            contextData.joinedActivity = true;\r\n        }\r\n        else {\r\n            if (!contextData || !contextData.isAnnounced) {\r\n                if (updatedMessageType === GW_MESSAGE_SUBSCRIBED_CONTEXT) {\r\n                    contextData = contextData || new GW3ContextData(contextId, contextUpdatedMsg.name, true, undefined);\r\n                    contextData.sentExplicitSubscription = true;\r\n                    this._contextNameToData[contextUpdatedMsg.name] = contextData;\r\n                    this._contextIdToName[contextId] = contextUpdatedMsg.name;\r\n                    this._contextNameToId[contextUpdatedMsg.name] = contextId;\r\n                }\r\n                else {\r\n                    this._logger.error(\"Received 'update' for unknown context: \" + contextId);\r\n                }\r\n                return;\r\n            }\r\n        }\r\n        var oldContext = contextData.context;\r\n        if (updatedMessageType === GW_MESSAGE_SUBSCRIBED_CONTEXT) {\r\n            contextData.context = contextUpdatedMsg.data || {};\r\n        }\r\n        else if (updatedMessageType === GW_MESSAGE_JOINED_ACTIVITY) {\r\n            contextData.context = contextUpdatedMsg.context_snapshot || {};\r\n        }\r\n        else if (updatedMessageType === GW_MESSAGE_CONTEXT_UPDATED) {\r\n            contextData.context = applyContextDelta(contextData.context, contextUpdatedMsg.delta, this._logger);\r\n        }\r\n        else {\r\n            throw new Error(\"Unrecognized context update message \" + updatedMessageType);\r\n        }\r\n        if (justSeen ||\r\n            !deepEqual(contextData.context, oldContext) ||\r\n            updatedMessageType === GW_MESSAGE_SUBSCRIBED_CONTEXT) {\r\n            this.invokeUpdateCallbacks(contextData, contextUpdatedMsg.delta, { updaterId: contextUpdatedMsg.updater_id });\r\n        }\r\n    };\r\n    GW3Bridge.prototype.invokeUpdateCallbacks = function (contextData, delta, extraData) {\r\n        delta = delta || { added: {}, updated: {}, reset: {}, removed: [] };\r\n        if (delta.commands) {\r\n            delta.added = delta.updated = delta.reset = {};\r\n            delta.removed = [];\r\n            for (var _i = 0, _a = delta.commands; _i < _a.length; _i++) {\r\n                var command = _a[_i];\r\n                if (command.type === \"remove\") {\r\n                    if (command.path.indexOf(\".\") === -1) {\r\n                        delta.removed.push(command.path);\r\n                    }\r\n                    setValueToPath(delta.updated, null, command.path);\r\n                }\r\n                else if (command.type === \"set\") {\r\n                    setValueToPath(delta.updated, command.value, command.path);\r\n                }\r\n            }\r\n        }\r\n        for (var updateCallbackIndex in contextData.updateCallbacks) {\r\n            if (contextData.updateCallbacks.hasOwnProperty(updateCallbackIndex)) {\r\n                try {\r\n                    var updateCallback = contextData.updateCallbacks[updateCallbackIndex];\r\n                    updateCallback(deepClone(contextData.context), Object.assign({}, delta.added || {}, delta.updated || {}, delta.reset || {}), delta.removed, parseInt(updateCallbackIndex, 10), extraData);\r\n                }\r\n                catch (err) {\r\n                    this._logger.debug(\"callback error: \" + JSON.stringify(err));\r\n                }\r\n            }\r\n        }\r\n    };\r\n    GW3Bridge.prototype.subscribeToContextDestroyedMessages = function () {\r\n        var destroyedMessageTypes = [\r\n            GW_MESSAGE_CONTEXT_DESTROYED,\r\n            GW_MESSAGE_ACTIVITY_DESTROYED,\r\n        ];\r\n        for (var _i = 0, destroyedMessageTypes_1 = destroyedMessageTypes; _i < destroyedMessageTypes_1.length; _i++) {\r\n            var destroyedMessageType = destroyedMessageTypes_1[_i];\r\n            var sub = this._connection.on(destroyedMessageType, this.handleContextDestroyedMessage.bind(this));\r\n            this._gw3Subscriptions.push(sub);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.handleContextDestroyedMessage = function (destroyedMsg) {\r\n        var destroyedMessageType = destroyedMsg.type;\r\n        var contextId;\r\n        var name;\r\n        if (destroyedMessageType === GW_MESSAGE_ACTIVITY_DESTROYED) {\r\n            name = destroyedMsg.activity_id;\r\n            contextId = this._contextNameToId[name];\r\n            if (!contextId) {\r\n                this._logger.error(\"Received 'destroyed' for unknown activity: \" + destroyedMsg.activity_id);\r\n                return;\r\n            }\r\n        }\r\n        else {\r\n            contextId = destroyedMsg.context_id;\r\n            name = this._contextIdToName[contextId];\r\n            if (!name) {\r\n                this._logger.error(\"Received 'destroyed' for unknown context: \" + destroyedMsg.context_id);\r\n                return;\r\n            }\r\n        }\r\n        delete this._contextIdToName[contextId];\r\n        delete this._contextNameToId[name];\r\n        var contextData = this._contextNameToData[name];\r\n        delete this._contextNameToData[name];\r\n        if (!contextData || !contextData.isAnnounced) {\r\n            this._logger.error(\"Received 'destroyed' for unknown context: \" + contextId);\r\n            return;\r\n        }\r\n    };\r\n    GW3Bridge.prototype.sendSubscribe = function (contextData) {\r\n        contextData.sentExplicitSubscription = true;\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_SUBSCRIBE_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n        }).then(function (_) { return undefined; });\r\n    };\r\n    GW3Bridge.prototype.sendUnsubscribe = function (contextData) {\r\n        contextData.sentExplicitSubscription = false;\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_UNSUBSCRIBE_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n        }).then(function (_) { return undefined; });\r\n    };\r\n    GW3Bridge.prototype.calculateContextDeltaV1 = function (from, to) {\r\n        var delta = { added: {}, updated: {}, removed: [], reset: undefined };\r\n        if (from) {\r\n            for (var _i = 0, _a = Object.keys(from); _i < _a.length; _i++) {\r\n                var x = _a[_i];\r\n                if (Object.keys(to).indexOf(x) !== -1\r\n                    && to[x] !== null\r\n                    && !deepEqual(from[x], to[x])) {\r\n                    delta.updated[x] = to[x];\r\n                }\r\n            }\r\n        }\r\n        for (var _b = 0, _c = Object.keys(to); _b < _c.length; _b++) {\r\n            var x = _c[_b];\r\n            if (!from || (Object.keys(from).indexOf(x) === -1)) {\r\n                if (to[x] !== null) {\r\n                    delta.added[x] = to[x];\r\n                }\r\n            }\r\n            else if (to[x] === null) {\r\n                delta.removed.push(x);\r\n            }\r\n        }\r\n        return delta;\r\n    };\r\n    GW3Bridge.prototype.calculateContextDeltaV2 = function (from, to) {\r\n        var _a, _b;\r\n        var delta = { added: {}, updated: {}, removed: [], reset: undefined, commands: [] };\r\n        for (var _i = 0, _c = Object.keys(to); _i < _c.length; _i++) {\r\n            var x = _c[_i];\r\n            if (to[x] !== null) {\r\n                var fromX = from ? from[x] : null;\r\n                if (!deepEqual(fromX, to[x])) {\r\n                    (_a = delta.commands) === null || _a === void 0 ? void 0 : _a.push({ type: \"set\", path: x, value: to[x] });\r\n                }\r\n            }\r\n            else {\r\n                (_b = delta.commands) === null || _b === void 0 ? void 0 : _b.push({ type: \"remove\", path: x });\r\n            }\r\n        }\r\n        return delta;\r\n    };\r\n    return GW3Bridge;\r\n}());\n\nvar ContextsModule = (function () {\r\n    function ContextsModule(config) {\r\n        this._bridge = new GW3Bridge(config);\r\n    }\r\n    ContextsModule.prototype.all = function () {\r\n        return this._bridge.all();\r\n    };\r\n    ContextsModule.prototype.update = function (name, data) {\r\n        this.checkName(name);\r\n        this.checkData(data);\r\n        return this._bridge.update(name, data);\r\n    };\r\n    ContextsModule.prototype.set = function (name, data) {\r\n        this.checkName(name);\r\n        this.checkData(data);\r\n        return this._bridge.set(name, data);\r\n    };\r\n    ContextsModule.prototype.setPath = function (name, path, data) {\r\n        this.checkName(name);\r\n        this.checkPath(path);\r\n        var isTopLevelPath = path === \"\";\r\n        if (isTopLevelPath) {\r\n            this.checkData(data);\r\n            return this.set(name, data);\r\n        }\r\n        return this._bridge.setPath(name, path, data);\r\n    };\r\n    ContextsModule.prototype.setPaths = function (name, paths) {\r\n        this.checkName(name);\r\n        if (!Array.isArray(paths)) {\r\n            throw new Error(\"Please provide the paths as an array of PathValues!\");\r\n        }\r\n        for (var _i = 0, paths_1 = paths; _i < paths_1.length; _i++) {\r\n            var _a = paths_1[_i], path = _a.path, value = _a.value;\r\n            this.checkPath(path);\r\n            var isTopLevelPath = path === \"\";\r\n            if (isTopLevelPath) {\r\n                this.checkData(value);\r\n            }\r\n        }\r\n        return this._bridge.setPaths(name, paths);\r\n    };\r\n    ContextsModule.prototype.subscribe = function (name, callback) {\r\n        var _this = this;\r\n        this.checkName(name);\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"Please provide the callback as a function!\");\r\n        }\r\n        return this._bridge\r\n            .subscribe(name, function (data, delta, removed, key, extraData) { return callback(data, delta, removed, function () { return _this._bridge.unsubscribe(key); }, extraData); })\r\n            .then(function (key) {\r\n            return function () {\r\n                _this._bridge.unsubscribe(key);\r\n            };\r\n        });\r\n    };\r\n    ContextsModule.prototype.get = function (name) {\r\n        this.checkName(name);\r\n        return this._bridge.get(name);\r\n    };\r\n    ContextsModule.prototype.ready = function () {\r\n        return Promise.resolve(this);\r\n    };\r\n    ContextsModule.prototype.destroy = function (name) {\r\n        this.checkName(name);\r\n        return this._bridge.destroy(name);\r\n    };\r\n    Object.defineProperty(ContextsModule.prototype, \"setPathSupported\", {\r\n        get: function () {\r\n            return this._bridge.setPathSupported;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ContextsModule.prototype.checkName = function (name) {\r\n        if (typeof name !== \"string\" || name === \"\") {\r\n            throw new Error(\"Please provide the name as a non-empty string!\");\r\n        }\r\n    };\r\n    ContextsModule.prototype.checkPath = function (path) {\r\n        if (typeof path !== \"string\") {\r\n            throw new Error(\"Please provide the path as a dot delimited string!\");\r\n        }\r\n    };\r\n    ContextsModule.prototype.checkData = function (data) {\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Please provide the data as an object!\");\r\n        }\r\n    };\r\n    return ContextsModule;\r\n}());\n\nfunction promisify (promise, successCallback, errorCallback) {\r\n    if (typeof successCallback !== \"function\" && typeof errorCallback !== \"function\") {\r\n        return promise;\r\n    }\r\n    if (typeof successCallback !== \"function\") {\r\n        successCallback = function () { };\r\n    }\r\n    else if (typeof errorCallback !== \"function\") {\r\n        errorCallback = function () { };\r\n    }\r\n    return promise.then(successCallback, errorCallback);\r\n}\n\nfunction rejectAfter(ms, promise, error) {\r\n    if (ms === void 0) { ms = 0; }\r\n    var timeout;\r\n    promise.finally(function () {\r\n        if (timeout) {\r\n            clearTimeout(timeout);\r\n        }\r\n    });\r\n    return new Promise(function (resolve, reject) {\r\n        timeout = setTimeout(function () { return reject(error); }, ms);\r\n    });\r\n}\n\nvar InvokeStatus;\r\n(function (InvokeStatus) {\r\n    InvokeStatus[InvokeStatus[\"Success\"] = 0] = \"Success\";\r\n    InvokeStatus[InvokeStatus[\"Error\"] = 1] = \"Error\";\r\n})(InvokeStatus || (InvokeStatus = {}));\r\nvar Client = (function () {\r\n    function Client(protocol, repo, instance, configuration) {\r\n        this.protocol = protocol;\r\n        this.repo = repo;\r\n        this.instance = instance;\r\n        this.configuration = configuration;\r\n    }\r\n    Client.prototype.subscribe = function (method, options, successCallback, errorCallback, existingSub) {\r\n        var _this = this;\r\n        var callProtocolSubscribe = function (targetServers, stream, successProxy, errorProxy) {\r\n            var _a;\r\n            options.methodResponseTimeout = (_a = options.methodResponseTimeout) !== null && _a !== void 0 ? _a : options.waitTimeoutMs;\r\n            _this.protocol.client.subscribe(stream, options, targetServers, successProxy, errorProxy, existingSub);\r\n        };\r\n        var promise = new Promise(function (resolve, reject) {\r\n            var successProxy = function (sub) {\r\n                resolve(sub);\r\n            };\r\n            var errorProxy = function (err) {\r\n                reject(err);\r\n            };\r\n            if (!method) {\r\n                reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n                return;\r\n            }\r\n            var methodDef;\r\n            if (typeof method === \"string\") {\r\n                methodDef = { name: method };\r\n            }\r\n            else {\r\n                methodDef = method;\r\n            }\r\n            if (!methodDef.name) {\r\n                reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n                return;\r\n            }\r\n            if (options === undefined) {\r\n                options = {};\r\n            }\r\n            var target = options.target;\r\n            if (target === undefined) {\r\n                target = \"best\";\r\n            }\r\n            if (typeof target === \"string\" && target !== \"all\" && target !== \"best\") {\r\n                reject(new Error(\"\\\"\" + target + \"\\\" is not a valid target. Valid targets are \\\"all\\\", \\\"best\\\", or an instance.\"));\r\n                return;\r\n            }\r\n            if (options.methodResponseTimeout === undefined) {\r\n                options.methodResponseTimeout = options.method_response_timeout;\r\n                if (options.methodResponseTimeout === undefined) {\r\n                    options.methodResponseTimeout = _this.configuration.methodResponseTimeout;\r\n                }\r\n            }\r\n            if (options.waitTimeoutMs === undefined) {\r\n                options.waitTimeoutMs = options.wait_for_method_timeout;\r\n                if (options.waitTimeoutMs === undefined) {\r\n                    options.waitTimeoutMs = _this.configuration.waitTimeoutMs;\r\n                }\r\n            }\r\n            var delayStep = 500;\r\n            var delayTillNow = 0;\r\n            var currentServers = _this.getServerMethodsByFilterAndTarget(methodDef, target);\r\n            if (currentServers.length > 0) {\r\n                callProtocolSubscribe(currentServers, currentServers[0].methods[0], successProxy, errorProxy);\r\n            }\r\n            else {\r\n                var retry_1 = function () {\r\n                    if (!target || !(options.waitTimeoutMs)) {\r\n                        return;\r\n                    }\r\n                    delayTillNow += delayStep;\r\n                    currentServers = _this.getServerMethodsByFilterAndTarget(methodDef, target);\r\n                    if (currentServers.length > 0) {\r\n                        var streamInfo = currentServers[0].methods[0];\r\n                        callProtocolSubscribe(currentServers, streamInfo, successProxy, errorProxy);\r\n                    }\r\n                    else if (delayTillNow >= options.waitTimeoutMs) {\r\n                        var def = typeof method === \"string\" ? { name: method } : method;\r\n                        callProtocolSubscribe(currentServers, def, successProxy, errorProxy);\r\n                    }\r\n                    else {\r\n                        setTimeout(retry_1, delayStep);\r\n                    }\r\n                };\r\n                setTimeout(retry_1, delayStep);\r\n            }\r\n        });\r\n        return promisify(promise, successCallback, errorCallback);\r\n    };\r\n    Client.prototype.servers = function (methodFilter) {\r\n        var filterCopy = methodFilter === undefined\r\n            ? undefined\r\n            : __assign({}, methodFilter);\r\n        return this.getServers(filterCopy).map(function (serverMethodMap) {\r\n            return serverMethodMap.server.instance;\r\n        });\r\n    };\r\n    Client.prototype.methods = function (methodFilter) {\r\n        if (typeof methodFilter === \"string\") {\r\n            methodFilter = { name: methodFilter };\r\n        }\r\n        else {\r\n            methodFilter = __assign({}, methodFilter);\r\n        }\r\n        return this.getMethods(methodFilter);\r\n    };\r\n    Client.prototype.methodsForInstance = function (instance) {\r\n        return this.getMethodsForInstance(instance);\r\n    };\r\n    Client.prototype.methodAdded = function (callback) {\r\n        return this.repo.onMethodAdded(callback);\r\n    };\r\n    Client.prototype.methodRemoved = function (callback) {\r\n        return this.repo.onMethodRemoved(callback);\r\n    };\r\n    Client.prototype.serverAdded = function (callback) {\r\n        return this.repo.onServerAdded(callback);\r\n    };\r\n    Client.prototype.serverRemoved = function (callback) {\r\n        return this.repo.onServerRemoved(function (server, reason) {\r\n            callback(server, reason);\r\n        });\r\n    };\r\n    Client.prototype.serverMethodAdded = function (callback) {\r\n        return this.repo.onServerMethodAdded(function (server, method) {\r\n            callback({ server: server, method: method });\r\n        });\r\n    };\r\n    Client.prototype.serverMethodRemoved = function (callback) {\r\n        return this.repo.onServerMethodRemoved(function (server, method) {\r\n            callback({ server: server, method: method });\r\n        });\r\n    };\r\n    Client.prototype.invoke = function (methodFilter, argumentObj, target, additionalOptions, success, error) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var getInvokePromise;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                getInvokePromise = function () { return __awaiter(_this, void 0, void 0, function () {\r\n                    var methodDefinition, serversMethodMap, err_1, method, errorObj, timeout, additionalOptionsCopy, invokePromises, invocationMessages, results, allRejected;\r\n                    var _this = this;\r\n                    var _a;\r\n                    return __generator(this, function (_b) {\r\n                        switch (_b.label) {\r\n                            case 0:\r\n                                if (typeof methodFilter === \"string\") {\r\n                                    methodDefinition = { name: methodFilter };\r\n                                }\r\n                                else {\r\n                                    methodDefinition = __assign({}, methodFilter);\r\n                                }\r\n                                if (!methodDefinition.name) {\r\n                                    return [2, Promise.reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\")];\r\n                                }\r\n                                if (!argumentObj) {\r\n                                    argumentObj = {};\r\n                                }\r\n                                if (!target) {\r\n                                    target = \"best\";\r\n                                }\r\n                                if (typeof target === \"string\" && target !== \"all\" && target !== \"best\" && target !== \"skipMine\") {\r\n                                    return [2, Promise.reject(new Error(\"\\\"\" + target + \"\\\" is not a valid target. Valid targets are \\\"all\\\" and \\\"best\\\".\"))];\r\n                                }\r\n                                if (!additionalOptions) {\r\n                                    additionalOptions = {};\r\n                                }\r\n                                if (additionalOptions.methodResponseTimeoutMs === undefined) {\r\n                                    additionalOptions.methodResponseTimeoutMs = additionalOptions.method_response_timeout;\r\n                                    if (additionalOptions.methodResponseTimeoutMs === undefined) {\r\n                                        additionalOptions.methodResponseTimeoutMs = this.configuration.methodResponseTimeout;\r\n                                    }\r\n                                }\r\n                                if (additionalOptions.waitTimeoutMs === undefined) {\r\n                                    additionalOptions.waitTimeoutMs = additionalOptions.wait_for_method_timeout;\r\n                                    if (additionalOptions.waitTimeoutMs === undefined) {\r\n                                        additionalOptions.waitTimeoutMs = this.configuration.waitTimeoutMs;\r\n                                    }\r\n                                }\r\n                                if (additionalOptions.waitTimeoutMs !== undefined && typeof additionalOptions.waitTimeoutMs !== \"number\") {\r\n                                    return [2, Promise.reject(new Error(\"\\\"\" + additionalOptions.waitTimeoutMs + \"\\\" is not a valid number for \\\"waitTimeoutMs\\\" \"))];\r\n                                }\r\n                                if (typeof argumentObj !== \"object\") {\r\n                                    return [2, Promise.reject(new Error(\"The method arguments must be an object. method: \" + methodDefinition.name))];\r\n                                }\r\n                                serversMethodMap = this.getServerMethodsByFilterAndTarget(methodDefinition, target);\r\n                                if (!(serversMethodMap.length === 0)) return [3, 4];\r\n                                _b.label = 1;\r\n                            case 1:\r\n                                _b.trys.push([1, 3, , 4]);\r\n                                return [4, this.tryToAwaitForMethods(methodDefinition, target, additionalOptions)];\r\n                            case 2:\r\n                                serversMethodMap = _b.sent();\r\n                                return [3, 4];\r\n                            case 3:\r\n                                err_1 = _b.sent();\r\n                                method = __assign(__assign({}, methodDefinition), { getServers: function () { return []; }, supportsStreaming: false, objectTypes: (_a = methodDefinition.objectTypes) !== null && _a !== void 0 ? _a : [] });\r\n                                errorObj = {\r\n                                    method: method,\r\n                                    called_with: argumentObj,\r\n                                    message: \"Can not find a method matching \" + JSON.stringify(methodFilter) + \" with server filter \" + JSON.stringify(target),\r\n                                    executed_by: undefined,\r\n                                    returned: undefined,\r\n                                    status: undefined,\r\n                                };\r\n                                return [2, Promise.reject(errorObj)];\r\n                            case 4:\r\n                                timeout = additionalOptions.methodResponseTimeoutMs;\r\n                                additionalOptionsCopy = additionalOptions;\r\n                                invokePromises = serversMethodMap.map(function (serversMethodPair) {\r\n                                    var invId = shortid();\r\n                                    var method = serversMethodPair.methods[0];\r\n                                    var server = serversMethodPair.server;\r\n                                    var invokePromise = _this.protocol.client.invoke(invId, method, argumentObj, server, additionalOptionsCopy);\r\n                                    return Promise.race([\r\n                                        invokePromise,\r\n                                        rejectAfter(timeout, invokePromise, {\r\n                                            invocationId: invId,\r\n                                            message: \"Invocation timeout (\" + timeout + \" ms) reached for method name: \" + (method === null || method === void 0 ? void 0 : method.name) + \", target instance: \" + JSON.stringify(server.instance) + \", options: \" + JSON.stringify(additionalOptionsCopy),\r\n                                            status: InvokeStatus.Error,\r\n                                        })\r\n                                    ]);\r\n                                });\r\n                                return [4, Promise.all(invokePromises)];\r\n                            case 5:\r\n                                invocationMessages = _b.sent();\r\n                                results = this.getInvocationResultObj(invocationMessages, methodDefinition, argumentObj);\r\n                                allRejected = invocationMessages.every(function (result) { return result.status === InvokeStatus.Error; });\r\n                                if (allRejected) {\r\n                                    return [2, Promise.reject(results)];\r\n                                }\r\n                                return [2, results];\r\n                        }\r\n                    });\r\n                }); };\r\n                return [2, promisify(getInvokePromise(), success, error)];\r\n            });\r\n        });\r\n    };\r\n    Client.prototype.getInvocationResultObj = function (invocationResults, method, calledWith) {\r\n        var all_return_values = invocationResults\r\n            .filter(function (invokeMessage) { return invokeMessage.status === InvokeStatus.Success; })\r\n            .reduce(function (allValues, currentValue) {\r\n            allValues = __spreadArrays(allValues, [\r\n                {\r\n                    executed_by: currentValue.instance,\r\n                    returned: currentValue.result,\r\n                    called_with: calledWith,\r\n                    method: method,\r\n                    message: currentValue.message,\r\n                    status: currentValue.status,\r\n                }\r\n            ]);\r\n            return allValues;\r\n        }, []);\r\n        var all_errors = invocationResults\r\n            .filter(function (invokeMessage) { return invokeMessage.status === InvokeStatus.Error; })\r\n            .reduce(function (allErrors, currError) {\r\n            allErrors = __spreadArrays(allErrors, [\r\n                {\r\n                    executed_by: currError.instance,\r\n                    called_with: calledWith,\r\n                    name: method.name,\r\n                    message: currError.message,\r\n                }\r\n            ]);\r\n            return allErrors;\r\n        }, []);\r\n        var invResult = invocationResults[0];\r\n        var result = {\r\n            method: method,\r\n            called_with: calledWith,\r\n            returned: invResult.result,\r\n            executed_by: invResult.instance,\r\n            all_return_values: all_return_values,\r\n            all_errors: all_errors,\r\n            message: invResult.message,\r\n            status: invResult.status\r\n        };\r\n        return result;\r\n    };\r\n    Client.prototype.tryToAwaitForMethods = function (methodDefinition, target, additionalOptions) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            if (additionalOptions.waitTimeoutMs === 0) {\r\n                reject();\r\n                return;\r\n            }\r\n            var delayStep = 500;\r\n            var delayTillNow = 0;\r\n            var retry = function () {\r\n                delayTillNow += delayStep;\r\n                var serversMethodMap = _this.getServerMethodsByFilterAndTarget(methodDefinition, target);\r\n                if (serversMethodMap.length > 0) {\r\n                    clearInterval(interval);\r\n                    resolve(serversMethodMap);\r\n                }\r\n                else if (delayTillNow >= (additionalOptions.waitTimeoutMs || 10000)) {\r\n                    clearInterval(interval);\r\n                    reject();\r\n                    return;\r\n                }\r\n            };\r\n            var interval = setInterval(retry, delayStep);\r\n        });\r\n    };\r\n    Client.prototype.filterByTarget = function (target, serverMethodMap) {\r\n        var _this = this;\r\n        if (typeof target === \"string\") {\r\n            if (target === \"all\") {\r\n                return __spreadArrays(serverMethodMap);\r\n            }\r\n            else if (target === \"best\") {\r\n                var localMachine = serverMethodMap\r\n                    .find(function (s) { return s.server.instance.isLocal; });\r\n                if (localMachine) {\r\n                    return [localMachine];\r\n                }\r\n                if (serverMethodMap[0] !== undefined) {\r\n                    return [serverMethodMap[0]];\r\n                }\r\n            }\r\n            else if (target === \"skipMine\") {\r\n                return serverMethodMap.filter(function (_a) {\r\n                    var server = _a.server;\r\n                    return server.instance.peerId !== _this.instance.peerId;\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            var targetArray = void 0;\r\n            if (!Array.isArray(target)) {\r\n                targetArray = [target];\r\n            }\r\n            else {\r\n                targetArray = target;\r\n            }\r\n            var allServersMatching = targetArray.reduce(function (matches, filter) {\r\n                var myMatches = serverMethodMap.filter(function (serverMethodPair) {\r\n                    return _this.instanceMatch(filter, serverMethodPair.server.instance);\r\n                });\r\n                return matches.concat(myMatches);\r\n            }, []);\r\n            return allServersMatching;\r\n        }\r\n        return [];\r\n    };\r\n    Client.prototype.instanceMatch = function (instanceFilter, instanceDefinition) {\r\n        return this.containsProps(instanceFilter, instanceDefinition);\r\n    };\r\n    Client.prototype.methodMatch = function (methodFilter, methodDefinition) {\r\n        return this.containsProps(methodFilter, methodDefinition);\r\n    };\r\n    Client.prototype.containsProps = function (filter, repoMethod) {\r\n        var filterProps = Object.keys(filter)\r\n            .filter(function (prop) {\r\n            return filter[prop] !== undefined\r\n                && typeof filter[prop] !== \"function\"\r\n                && prop !== \"object_types\"\r\n                && prop !== \"display_name\"\r\n                && prop !== \"id\"\r\n                && prop !== \"gatewayId\"\r\n                && prop !== \"identifier\"\r\n                && prop[0] !== \"_\";\r\n        });\r\n        return filterProps.reduce(function (isMatch, prop) {\r\n            var filterValue = filter[prop];\r\n            var repoMethodValue = repoMethod[prop];\r\n            if (prop === \"objectTypes\") {\r\n                var containsAllFromFilter = function (filterObjTypes, repoObjectTypes) {\r\n                    var objTypeToContains = filterObjTypes.reduce(function (object, objType) {\r\n                        object[objType] = false;\r\n                        return object;\r\n                    }, {});\r\n                    repoObjectTypes.forEach(function (repoObjType) {\r\n                        if (objTypeToContains[repoObjType] !== undefined) {\r\n                            objTypeToContains[repoObjType] = true;\r\n                        }\r\n                    });\r\n                    var filterIsFullfilled = function () { return Object.keys(objTypeToContains).reduce(function (isFullfiled, objType) {\r\n                        if (!objTypeToContains[objType]) {\r\n                            isFullfiled = false;\r\n                        }\r\n                        return isFullfiled;\r\n                    }, true); };\r\n                    return filterIsFullfilled();\r\n                };\r\n                if (filterValue.length > repoMethodValue.length\r\n                    || containsAllFromFilter(filterValue, repoMethodValue) === false) {\r\n                    isMatch = false;\r\n                }\r\n            }\r\n            else if (String(filterValue).toLowerCase() !== String(repoMethodValue).toLowerCase()) {\r\n                isMatch = false;\r\n            }\r\n            return isMatch;\r\n        }, true);\r\n    };\r\n    Client.prototype.getMethods = function (methodFilter) {\r\n        var _this = this;\r\n        if (methodFilter === undefined) {\r\n            return this.repo.getMethods();\r\n        }\r\n        var methods = this.repo.getMethods().filter(function (method) {\r\n            return _this.methodMatch(methodFilter, method);\r\n        });\r\n        return methods;\r\n    };\r\n    Client.prototype.getMethodsForInstance = function (instanceFilter) {\r\n        var _this = this;\r\n        var allServers = this.repo.getServers();\r\n        var matchingServers = allServers.filter(function (server) {\r\n            return _this.instanceMatch(instanceFilter, server.instance);\r\n        });\r\n        if (matchingServers.length === 0) {\r\n            return [];\r\n        }\r\n        var resultMethodsObject = {};\r\n        if (matchingServers.length === 1) {\r\n            resultMethodsObject = matchingServers[0].methods;\r\n        }\r\n        else {\r\n            matchingServers.forEach(function (server) {\r\n                Object.keys(server.methods).forEach(function (methodKey) {\r\n                    var method = server.methods[methodKey];\r\n                    resultMethodsObject[method.identifier] = method;\r\n                });\r\n            });\r\n        }\r\n        return Object.keys(resultMethodsObject)\r\n            .map(function (key) {\r\n            return resultMethodsObject[key];\r\n        });\r\n    };\r\n    Client.prototype.getServers = function (methodFilter) {\r\n        var _this = this;\r\n        var servers = this.repo.getServers();\r\n        if (methodFilter === undefined) {\r\n            return servers.map(function (server) {\r\n                return { server: server, methods: [] };\r\n            });\r\n        }\r\n        return servers.reduce(function (prev, current) {\r\n            var methodsForServer = _this.repo.getServerMethodsById(current.id);\r\n            var matchingMethods = methodsForServer.filter(function (method) {\r\n                return _this.methodMatch(methodFilter, method);\r\n            });\r\n            if (matchingMethods.length > 0) {\r\n                prev.push({ server: current, methods: matchingMethods });\r\n            }\r\n            return prev;\r\n        }, []);\r\n    };\r\n    Client.prototype.getServerMethodsByFilterAndTarget = function (methodFilter, target) {\r\n        var serversMethodMap = this.getServers(methodFilter);\r\n        return this.filterByTarget(target, serversMethodMap);\r\n    };\r\n    return Client;\r\n}());\n\nvar ServerSubscription = (function () {\r\n    function ServerSubscription(protocol, repoMethod, subscription) {\r\n        this.protocol = protocol;\r\n        this.repoMethod = repoMethod;\r\n        this.subscription = subscription;\r\n    }\r\n    Object.defineProperty(ServerSubscription.prototype, \"stream\", {\r\n        get: function () {\r\n            if (!this.repoMethod.stream) {\r\n                throw new Error(\"no stream\");\r\n            }\r\n            return this.repoMethod.stream;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ServerSubscription.prototype, \"arguments\", {\r\n        get: function () { return this.subscription.arguments || {}; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ServerSubscription.prototype, \"branchKey\", {\r\n        get: function () { return this.subscription.branchKey; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ServerSubscription.prototype, \"instance\", {\r\n        get: function () {\r\n            if (!this.subscription.instance) {\r\n                throw new Error(\"no instance\");\r\n            }\r\n            return this.subscription.instance;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ServerSubscription.prototype.close = function () {\r\n        this.protocol.server.closeSingleSubscription(this.repoMethod, this.subscription);\r\n    };\r\n    ServerSubscription.prototype.push = function (data) {\r\n        this.protocol.server.pushDataToSingle(this.repoMethod, this.subscription, data);\r\n    };\r\n    return ServerSubscription;\r\n}());\n\nvar Request = (function () {\r\n    function Request(protocol, repoMethod, requestContext) {\r\n        this.protocol = protocol;\r\n        this.repoMethod = repoMethod;\r\n        this.requestContext = requestContext;\r\n        this.arguments = requestContext.arguments;\r\n        this.instance = requestContext.instance;\r\n    }\r\n    Request.prototype.accept = function () {\r\n        this.protocol.server.acceptRequestOnBranch(this.requestContext, this.repoMethod, \"\");\r\n    };\r\n    Request.prototype.acceptOnBranch = function (branch) {\r\n        this.protocol.server.acceptRequestOnBranch(this.requestContext, this.repoMethod, branch);\r\n    };\r\n    Request.prototype.reject = function (reason) {\r\n        this.protocol.server.rejectRequest(this.requestContext, this.repoMethod, reason);\r\n    };\r\n    return Request;\r\n}());\n\nvar ServerStreaming = (function () {\r\n    function ServerStreaming(protocol, server) {\r\n        var _this = this;\r\n        this.protocol = protocol;\r\n        this.server = server;\r\n        protocol.server.onSubRequest(function (rc, rm) { return _this.handleSubRequest(rc, rm); });\r\n        protocol.server.onSubAdded(function (sub, rm) { return _this.handleSubAdded(sub, rm); });\r\n        protocol.server.onSubRemoved(function (sub, rm) { return _this.handleSubRemoved(sub, rm); });\r\n    }\r\n    ServerStreaming.prototype.handleSubRequest = function (requestContext, repoMethod) {\r\n        if (!(repoMethod &&\r\n            repoMethod.streamCallbacks &&\r\n            typeof repoMethod.streamCallbacks.subscriptionRequestHandler === \"function\")) {\r\n            return;\r\n        }\r\n        var request = new Request(this.protocol, repoMethod, requestContext);\r\n        repoMethod.streamCallbacks.subscriptionRequestHandler(request);\r\n    };\r\n    ServerStreaming.prototype.handleSubAdded = function (subscription, repoMethod) {\r\n        if (!(repoMethod &&\r\n            repoMethod.streamCallbacks &&\r\n            typeof repoMethod.streamCallbacks.subscriptionAddedHandler === \"function\")) {\r\n            return;\r\n        }\r\n        var sub = new ServerSubscription(this.protocol, repoMethod, subscription);\r\n        repoMethod.streamCallbacks.subscriptionAddedHandler(sub);\r\n    };\r\n    ServerStreaming.prototype.handleSubRemoved = function (subscription, repoMethod) {\r\n        if (!(repoMethod &&\r\n            repoMethod.streamCallbacks &&\r\n            typeof repoMethod.streamCallbacks.subscriptionRemovedHandler === \"function\")) {\r\n            return;\r\n        }\r\n        var sub = new ServerSubscription(this.protocol, repoMethod, subscription);\r\n        repoMethod.streamCallbacks.subscriptionRemovedHandler(sub);\r\n    };\r\n    return ServerStreaming;\r\n}());\n\nvar ServerBranch = (function () {\r\n    function ServerBranch(key, protocol, repoMethod) {\r\n        this.key = key;\r\n        this.protocol = protocol;\r\n        this.repoMethod = repoMethod;\r\n    }\r\n    ServerBranch.prototype.subscriptions = function () {\r\n        var _this = this;\r\n        var subList = this.protocol.server.getSubscriptionList(this.repoMethod, this.key);\r\n        return subList.map(function (sub) {\r\n            return new ServerSubscription(_this.protocol, _this.repoMethod, sub);\r\n        });\r\n    };\r\n    ServerBranch.prototype.close = function () {\r\n        this.protocol.server.closeAllSubscriptions(this.repoMethod, this.key);\r\n    };\r\n    ServerBranch.prototype.push = function (data) {\r\n        this.protocol.server.pushData(this.repoMethod, data, [this.key]);\r\n    };\r\n    return ServerBranch;\r\n}());\n\nvar ServerStream = (function () {\r\n    function ServerStream(_protocol, _repoMethod, _server) {\r\n        this._protocol = _protocol;\r\n        this._repoMethod = _repoMethod;\r\n        this._server = _server;\r\n        this.name = this._repoMethod.definition.name;\r\n    }\r\n    ServerStream.prototype.branches = function (key) {\r\n        var _this = this;\r\n        var bList = this._protocol.server.getBranchList(this._repoMethod);\r\n        if (key) {\r\n            if (bList.indexOf(key) > -1) {\r\n                return new ServerBranch(key, this._protocol, this._repoMethod);\r\n            }\r\n            return undefined;\r\n        }\r\n        else {\r\n            return bList.map(function (branchKey) {\r\n                return new ServerBranch(branchKey, _this._protocol, _this._repoMethod);\r\n            });\r\n        }\r\n    };\r\n    ServerStream.prototype.branch = function (key) {\r\n        return this.branches(key);\r\n    };\r\n    ServerStream.prototype.subscriptions = function () {\r\n        var _this = this;\r\n        var subList = this._protocol.server.getSubscriptionList(this._repoMethod);\r\n        return subList.map(function (sub) {\r\n            return new ServerSubscription(_this._protocol, _this._repoMethod, sub);\r\n        });\r\n    };\r\n    Object.defineProperty(ServerStream.prototype, \"definition\", {\r\n        get: function () {\r\n            var def2 = this._repoMethod.definition;\r\n            return {\r\n                accepts: def2.accepts,\r\n                description: def2.description,\r\n                displayName: def2.displayName,\r\n                name: def2.name,\r\n                objectTypes: def2.objectTypes,\r\n                returns: def2.returns,\r\n                supportsStreaming: def2.supportsStreaming,\r\n            };\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ServerStream.prototype.close = function () {\r\n        this._protocol.server.closeAllSubscriptions(this._repoMethod);\r\n        this._server.unregister(this._repoMethod.definition, true);\r\n    };\r\n    ServerStream.prototype.push = function (data, branches) {\r\n        if (typeof branches !== \"string\" && !Array.isArray(branches) && branches !== undefined) {\r\n            throw new Error(\"invalid branches should be string or string array\");\r\n        }\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Invalid arguments. Data must be an object.\");\r\n        }\r\n        this._protocol.server.pushData(this._repoMethod, data, branches);\r\n    };\r\n    ServerStream.prototype.updateRepoMethod = function (repoMethod) {\r\n        this._repoMethod = repoMethod;\r\n    };\r\n    return ServerStream;\r\n}());\n\nvar Server = (function () {\r\n    function Server(protocol, serverRepository) {\r\n        this.protocol = protocol;\r\n        this.serverRepository = serverRepository;\r\n        this.invocations = 0;\r\n        this.currentlyUnregistering = {};\r\n        this.streaming = new ServerStreaming(protocol, this);\r\n        this.protocol.server.onInvoked(this.onMethodInvoked.bind(this));\r\n    }\r\n    Server.prototype.createStream = function (streamDef, callbacks, successCallback, errorCallback, existingStream) {\r\n        var _this = this;\r\n        var promise = new Promise(function (resolve, reject) {\r\n            if (!streamDef) {\r\n                reject(\"The stream name must be unique! Please, provide either a unique string for a stream name to \\u201Cglue.interop.createStream()\\u201D or a \\u201CmethodDefinition\\u201D object with a unique \\u201Cname\\u201D property for the stream.\");\r\n                return;\r\n            }\r\n            var streamMethodDefinition;\r\n            if (typeof streamDef === \"string\") {\r\n                streamMethodDefinition = { name: \"\" + streamDef };\r\n            }\r\n            else {\r\n                streamMethodDefinition = __assign({}, streamDef);\r\n            }\r\n            if (!streamMethodDefinition.name) {\r\n                return reject(\"The \\u201Cname\\u201D property is required for the \\u201CstreamDefinition\\u201D object and must be unique. Stream definition: \" + JSON.stringify(streamMethodDefinition));\r\n            }\r\n            var nameAlreadyExists = _this.serverRepository.getList()\r\n                .some(function (serverMethod) { return serverMethod.definition.name === streamMethodDefinition.name; });\r\n            if (nameAlreadyExists) {\r\n                return reject(\"A stream with the name \\\"\" + streamMethodDefinition.name + \"\\\" already exists! Please, provide a unique name for the stream.\");\r\n            }\r\n            streamMethodDefinition.supportsStreaming = true;\r\n            if (!callbacks) {\r\n                callbacks = {};\r\n            }\r\n            if (typeof callbacks.subscriptionRequestHandler !== \"function\") {\r\n                callbacks.subscriptionRequestHandler = function (request) {\r\n                    request.accept();\r\n                };\r\n            }\r\n            var repoMethod = _this.serverRepository.add({\r\n                definition: streamMethodDefinition,\r\n                streamCallbacks: callbacks,\r\n                protocolState: {},\r\n            });\r\n            _this.protocol.server.createStream(repoMethod)\r\n                .then(function () {\r\n                var streamUserObject;\r\n                if (existingStream) {\r\n                    streamUserObject = existingStream;\r\n                    existingStream.updateRepoMethod(repoMethod);\r\n                }\r\n                else {\r\n                    streamUserObject = new ServerStream(_this.protocol, repoMethod, _this);\r\n                }\r\n                repoMethod.stream = streamUserObject;\r\n                resolve(streamUserObject);\r\n            })\r\n                .catch(function (err) {\r\n                if (repoMethod.repoId) {\r\n                    _this.serverRepository.remove(repoMethod.repoId);\r\n                }\r\n                reject(err);\r\n            });\r\n        });\r\n        return promisify(promise, successCallback, errorCallback);\r\n    };\r\n    Server.prototype.register = function (methodDefinition, callback) {\r\n        var _this = this;\r\n        if (!methodDefinition) {\r\n            return Promise.reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n        }\r\n        if (typeof callback !== \"function\") {\r\n            return Promise.reject(\"The second parameter must be a callback function. Method: \" + (typeof methodDefinition === \"string\" ? methodDefinition : methodDefinition.name));\r\n        }\r\n        var wrappedCallbackFunction = function (context, resultCallback) { return __awaiter(_this, void 0, void 0, function () {\r\n            var result, resultValue, e_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 4, , 5]);\r\n                        result = callback(context.args, context.instance);\r\n                        if (!(result && typeof result.then === \"function\")) return [3, 2];\r\n                        return [4, result];\r\n                    case 1:\r\n                        resultValue = _a.sent();\r\n                        resultCallback(undefined, resultValue);\r\n                        return [3, 3];\r\n                    case 2:\r\n                        resultCallback(undefined, result);\r\n                        _a.label = 3;\r\n                    case 3: return [3, 5];\r\n                    case 4:\r\n                        e_1 = _a.sent();\r\n                        if (!e_1) {\r\n                            e_1 = \"\";\r\n                        }\r\n                        resultCallback(e_1, e_1);\r\n                        return [3, 5];\r\n                    case 5: return [2];\r\n                }\r\n            });\r\n        }); };\r\n        wrappedCallbackFunction.userCallback = callback;\r\n        return this.registerCore(methodDefinition, wrappedCallbackFunction);\r\n    };\r\n    Server.prototype.registerAsync = function (methodDefinition, callback) {\r\n        if (!methodDefinition) {\r\n            return Promise.reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n        }\r\n        if (typeof callback !== \"function\") {\r\n            return Promise.reject(\"The second parameter must be a callback function. Method: \" + (typeof methodDefinition === \"string\" ? methodDefinition : methodDefinition.name));\r\n        }\r\n        var wrappedCallback = function (context, resultCallback) {\r\n            try {\r\n                var resultCalled_1 = false;\r\n                var success = function (result) {\r\n                    if (!resultCalled_1) {\r\n                        resultCallback(undefined, result);\r\n                    }\r\n                    resultCalled_1 = true;\r\n                };\r\n                var error = function (e) {\r\n                    if (!resultCalled_1) {\r\n                        if (!e) {\r\n                            e = \"\";\r\n                        }\r\n                        resultCallback(e, e);\r\n                    }\r\n                    resultCalled_1 = true;\r\n                };\r\n                var methodResult = callback(context.args, context.instance, success, error);\r\n                if (methodResult && typeof methodResult.then === \"function\") {\r\n                    methodResult\r\n                        .then(success)\r\n                        .catch(error);\r\n                }\r\n            }\r\n            catch (e) {\r\n                resultCallback(e, undefined);\r\n            }\r\n        };\r\n        wrappedCallback.userCallbackAsync = callback;\r\n        return this.registerCore(methodDefinition, wrappedCallback);\r\n    };\r\n    Server.prototype.unregister = function (methodFilter, forStream) {\r\n        if (forStream === void 0) { forStream = false; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var methodDefinition, methodToBeRemoved;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (methodFilter === undefined) {\r\n                            return [2, Promise.reject(\"Please, provide either a unique string for a name or an object containing a \\u201Cname\\u201D property.\")];\r\n                        }\r\n                        if (!(typeof methodFilter === \"function\")) return [3, 2];\r\n                        return [4, this.unregisterWithPredicate(methodFilter, forStream)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2];\r\n                    case 2:\r\n                        if (typeof methodFilter === \"string\") {\r\n                            methodDefinition = { name: methodFilter };\r\n                        }\r\n                        else {\r\n                            methodDefinition = methodFilter;\r\n                        }\r\n                        if (methodDefinition.name === undefined) {\r\n                            return [2, Promise.reject(\"Method name is required. Cannot find a method if the method name is undefined!\")];\r\n                        }\r\n                        methodToBeRemoved = this.serverRepository.getList().find(function (serverMethod) {\r\n                            return serverMethod.definition.name === methodDefinition.name\r\n                                && (serverMethod.definition.supportsStreaming || false) === forStream;\r\n                        });\r\n                        if (!methodToBeRemoved) {\r\n                            return [2, Promise.reject(\"Method with a name \\\"\" + methodDefinition.name + \"\\\" does not exist or is not registered by your application!\")];\r\n                        }\r\n                        return [4, this.removeMethodsOrStreams([methodToBeRemoved])];\r\n                    case 3:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Server.prototype.unregisterWithPredicate = function (filterPredicate, forStream) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var methodsOrStreamsToRemove;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        methodsOrStreamsToRemove = this.serverRepository.getList()\r\n                            .filter(function (sm) { return filterPredicate(sm.definition); })\r\n                            .filter(function (serverMethod) {\r\n                            return (serverMethod.definition.supportsStreaming || false) === forStream;\r\n                        });\r\n                        if (!methodsOrStreamsToRemove || methodsOrStreamsToRemove.length === 0) {\r\n                            return [2, Promise.reject(\"Could not find a \" + (forStream ? \"stream\" : \"method\") + \" matching the specified condition!\")];\r\n                        }\r\n                        return [4, this.removeMethodsOrStreams(methodsOrStreamsToRemove)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Server.prototype.removeMethodsOrStreams = function (methodsToRemove) {\r\n        var _this = this;\r\n        var methodUnregPromises = [];\r\n        methodsToRemove.forEach(function (method) {\r\n            var promise = _this.protocol.server.unregister(method)\r\n                .then(function () {\r\n                if (method.repoId) {\r\n                    _this.serverRepository.remove(method.repoId);\r\n                }\r\n            });\r\n            methodUnregPromises.push(promise);\r\n            _this.addAsCurrentlyUnregistering(method.definition.name, promise);\r\n        });\r\n        return Promise.all(methodUnregPromises);\r\n    };\r\n    Server.prototype.addAsCurrentlyUnregistering = function (methodName, promise) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var timeout;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                timeout = new Promise(function (resolve) { return setTimeout(resolve, 5000); });\r\n                this.currentlyUnregistering[methodName] = Promise.race([promise, timeout]).then(function () {\r\n                    delete _this.currentlyUnregistering[methodName];\r\n                });\r\n                return [2];\r\n            });\r\n        });\r\n    };\r\n    Server.prototype.registerCore = function (method, theFunction) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var methodDefinition, unregisterInProgress, nameAlreadyExists, repoMethod;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (typeof method === \"string\") {\r\n                            methodDefinition = { name: \"\" + method };\r\n                        }\r\n                        else {\r\n                            methodDefinition = __assign({}, method);\r\n                        }\r\n                        if (!methodDefinition.name) {\r\n                            return [2, Promise.reject(\"Please, provide a (unique) string value for the \\u201Cname\\u201D property in the \\u201CmethodDefinition\\u201D object: \" + JSON.stringify(method))];\r\n                        }\r\n                        unregisterInProgress = this.currentlyUnregistering[methodDefinition.name];\r\n                        if (!unregisterInProgress) return [3, 2];\r\n                        return [4, unregisterInProgress];\r\n                    case 1:\r\n                        _a.sent();\r\n                        _a.label = 2;\r\n                    case 2:\r\n                        nameAlreadyExists = this.serverRepository.getList()\r\n                            .some(function (serverMethod) { return serverMethod.definition.name === methodDefinition.name; });\r\n                        if (nameAlreadyExists) {\r\n                            return [2, Promise.reject(\"A method with the name \\\"\" + methodDefinition.name + \"\\\" already exists! Please, provide a unique name for the method.\")];\r\n                        }\r\n                        if (methodDefinition.supportsStreaming) {\r\n                            return [2, Promise.reject(\"When you create methods with \\u201Cglue.interop.register()\\u201D or \\u201Cglue.interop.registerAsync()\\u201D the property \\u201CsupportsStreaming\\u201D cannot be \\u201Ctrue\\u201D. If you want \\u201C\" + methodDefinition.name + \"\\u201D to be a stream, please use the \\u201Cglue.interop.createStream()\\u201D method.\")];\r\n                        }\r\n                        repoMethod = this.serverRepository.add({\r\n                            definition: methodDefinition,\r\n                            theFunction: theFunction,\r\n                            protocolState: {},\r\n                        });\r\n                        return [2, this.protocol.server.register(repoMethod)\r\n                                .catch(function (err) {\r\n                                if (repoMethod === null || repoMethod === void 0 ? void 0 : repoMethod.repoId) {\r\n                                    _this.serverRepository.remove(repoMethod.repoId);\r\n                                }\r\n                                throw err;\r\n                            })];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Server.prototype.onMethodInvoked = function (methodToExecute, invocationId, invocationArgs) {\r\n        var _this = this;\r\n        if (!methodToExecute || !methodToExecute.theFunction) {\r\n            return;\r\n        }\r\n        methodToExecute.theFunction(invocationArgs, function (err, result) {\r\n            if (err !== undefined && err !== null) {\r\n                if (err.message && typeof err.message === \"string\") {\r\n                    err = err.message;\r\n                }\r\n                else if (typeof err !== \"string\") {\r\n                    try {\r\n                        err = JSON.stringify(err);\r\n                    }\r\n                    catch (unStrException) {\r\n                        err = \"un-stringifyable error in onMethodInvoked! Top level prop names: \" + Object.keys(err);\r\n                    }\r\n                }\r\n            }\r\n            if (!result) {\r\n                result = {};\r\n            }\r\n            else if (typeof result !== \"object\" || Array.isArray(result)) {\r\n                result = { _value: result };\r\n            }\r\n            _this.protocol.server.methodInvocationResult(methodToExecute, invocationId, err, result);\r\n        });\r\n    };\r\n    return Server;\r\n}());\n\nvar InstanceWrapper = (function () {\r\n    function InstanceWrapper(instance, connection) {\r\n        var _this = this;\r\n        this.wrapped = {\r\n            getMethods: getMethods,\r\n            getStreams: getStreams,\r\n        };\r\n        if (instance) {\r\n            this.refreshWrappedObject(instance);\r\n        }\r\n        if (connection) {\r\n            connection.loggedIn(function () {\r\n                _this.refresh(connection);\r\n            });\r\n            this.refresh(connection);\r\n        }\r\n    }\r\n    InstanceWrapper.prototype.unwrap = function () {\r\n        return this.wrapped;\r\n    };\r\n    InstanceWrapper.prototype.refresh = function (connection) {\r\n        if (!connection) {\r\n            return;\r\n        }\r\n        var resolvedIdentity = connection === null || connection === void 0 ? void 0 : connection.resolvedIdentity;\r\n        var instance = Object.assign({}, resolvedIdentity !== null && resolvedIdentity !== void 0 ? resolvedIdentity : {}, { peerId: connection === null || connection === void 0 ? void 0 : connection.peerId });\r\n        this.refreshWrappedObject(instance);\r\n    };\r\n    InstanceWrapper.prototype.refreshWrappedObject = function (resolvedIdentity) {\r\n        var _a, _b, _c;\r\n        this.wrapped.user = resolvedIdentity.user;\r\n        this.wrapped.instance = resolvedIdentity.instance;\r\n        this.wrapped.application = (_a = resolvedIdentity.application) !== null && _a !== void 0 ? _a : shortid();\r\n        this.wrapped.applicationName = resolvedIdentity.applicationName;\r\n        this.wrapped.pid = (_c = (_b = resolvedIdentity.pid) !== null && _b !== void 0 ? _b : resolvedIdentity.process) !== null && _c !== void 0 ? _c : Math.floor(Math.random() * 10000000000);\r\n        this.wrapped.machine = resolvedIdentity.machine;\r\n        this.wrapped.environment = resolvedIdentity.environment;\r\n        this.wrapped.region = resolvedIdentity.region;\r\n        this.wrapped.windowId = resolvedIdentity.windowId;\r\n        this.wrapped.isLocal = true;\r\n        this.wrapped.api = resolvedIdentity.api;\r\n        this.wrapped.service = resolvedIdentity.service;\r\n        this.wrapped.peerId = resolvedIdentity.peerId;\r\n    };\r\n    return InstanceWrapper;\r\n}());\r\nfunction getMethods() {\r\n    var _a;\r\n    return (_a = InstanceWrapper.API) === null || _a === void 0 ? void 0 : _a.methodsForInstance(this);\r\n}\r\nfunction getStreams() {\r\n    var _a;\r\n    return (_a = InstanceWrapper.API) === null || _a === void 0 ? void 0 : _a.methodsForInstance(this).filter(function (m) { return m.supportsStreaming; });\r\n}\n\nvar ClientRepository = (function () {\r\n    function ClientRepository(logger) {\r\n        this.logger = logger;\r\n        this.servers = {};\r\n        this.methodsCount = {};\r\n        this.callbacks = lib();\r\n    }\r\n    ClientRepository.prototype.addServer = function (info, serverId) {\r\n        this.logger.debug(\"adding server \" + serverId);\r\n        var current = this.servers[serverId];\r\n        if (current) {\r\n            return current.id;\r\n        }\r\n        var wrapper = new InstanceWrapper(info);\r\n        var serverEntry = {\r\n            id: serverId,\r\n            methods: {},\r\n            instance: wrapper.unwrap(),\r\n            wrapper: wrapper,\r\n        };\r\n        this.servers[serverId] = serverEntry;\r\n        this.callbacks.execute(\"onServerAdded\", serverEntry.instance);\r\n        return serverId;\r\n    };\r\n    ClientRepository.prototype.removeServerById = function (id, reason) {\r\n        var _this = this;\r\n        var server = this.servers[id];\r\n        if (!server) {\r\n            this.logger.warn(\"not aware of server \" + id + \", my state \" + JSON.stringify(Object.keys(this.servers)));\r\n            return;\r\n        }\r\n        else {\r\n            this.logger.debug(\"removing server \" + id);\r\n        }\r\n        Object.keys(server.methods).forEach(function (methodId) {\r\n            _this.removeServerMethod(id, methodId);\r\n        });\r\n        delete this.servers[id];\r\n        this.callbacks.execute(\"onServerRemoved\", server.instance, reason);\r\n    };\r\n    ClientRepository.prototype.addServerMethod = function (serverId, method) {\r\n        var server = this.servers[serverId];\r\n        if (!server) {\r\n            throw new Error(\"server does not exists\");\r\n        }\r\n        if (server.methods[method.id]) {\r\n            return;\r\n        }\r\n        var identifier = this.createMethodIdentifier(method);\r\n        var that = this;\r\n        var methodDefinition = {\r\n            identifier: identifier,\r\n            gatewayId: method.id,\r\n            name: method.name,\r\n            displayName: method.display_name,\r\n            description: method.description,\r\n            version: method.version,\r\n            objectTypes: method.object_types || [],\r\n            accepts: method.input_signature,\r\n            returns: method.result_signature,\r\n            supportsStreaming: typeof method.flags !== \"undefined\" ? method.flags.streaming : false,\r\n            getServers: function () {\r\n                return that.getServersByMethod(identifier);\r\n            }\r\n        };\r\n        methodDefinition.object_types = methodDefinition.objectTypes;\r\n        methodDefinition.display_name = methodDefinition.displayName;\r\n        methodDefinition.version = methodDefinition.version;\r\n        server.methods[method.id] = methodDefinition;\r\n        if (!this.methodsCount[identifier]) {\r\n            this.methodsCount[identifier] = 0;\r\n            this.callbacks.execute(\"onMethodAdded\", methodDefinition);\r\n        }\r\n        this.methodsCount[identifier] = this.methodsCount[identifier] + 1;\r\n        this.callbacks.execute(\"onServerMethodAdded\", server.instance, methodDefinition);\r\n        return methodDefinition;\r\n    };\r\n    ClientRepository.prototype.removeServerMethod = function (serverId, methodId) {\r\n        var server = this.servers[serverId];\r\n        if (!server) {\r\n            throw new Error(\"server does not exists\");\r\n        }\r\n        var method = server.methods[methodId];\r\n        delete server.methods[methodId];\r\n        this.methodsCount[method.identifier] = this.methodsCount[method.identifier] - 1;\r\n        if (this.methodsCount[method.identifier] === 0) {\r\n            this.callbacks.execute(\"onMethodRemoved\", method);\r\n        }\r\n        this.callbacks.execute(\"onServerMethodRemoved\", server.instance, method);\r\n    };\r\n    ClientRepository.prototype.getMethods = function () {\r\n        var _this = this;\r\n        var allMethods = {};\r\n        Object.keys(this.servers).forEach(function (serverId) {\r\n            var server = _this.servers[serverId];\r\n            Object.keys(server.methods).forEach(function (methodId) {\r\n                var method = server.methods[methodId];\r\n                allMethods[method.identifier] = method;\r\n            });\r\n        });\r\n        var methodsAsArray = Object.keys(allMethods).map(function (id) {\r\n            return allMethods[id];\r\n        });\r\n        return methodsAsArray;\r\n    };\r\n    ClientRepository.prototype.getServers = function () {\r\n        var _this = this;\r\n        var allServers = [];\r\n        Object.keys(this.servers).forEach(function (serverId) {\r\n            var server = _this.servers[serverId];\r\n            allServers.push(server);\r\n        });\r\n        return allServers;\r\n    };\r\n    ClientRepository.prototype.getServerMethodsById = function (serverId) {\r\n        var server = this.servers[serverId];\r\n        return Object.keys(server.methods).map(function (id) {\r\n            return server.methods[id];\r\n        });\r\n    };\r\n    ClientRepository.prototype.onServerAdded = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onServerAdded\", callback);\r\n        var serversWithMethodsToReplay = this.getServers().map(function (s) { return s.instance; });\r\n        return this.returnUnsubWithDelayedReplay(unsubscribeFunc, serversWithMethodsToReplay, callback);\r\n    };\r\n    ClientRepository.prototype.onMethodAdded = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onMethodAdded\", callback);\r\n        var methodsToReplay = this.getMethods();\r\n        return this.returnUnsubWithDelayedReplay(unsubscribeFunc, methodsToReplay, callback);\r\n    };\r\n    ClientRepository.prototype.onServerMethodAdded = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onServerMethodAdded\", callback);\r\n        var unsubCalled = false;\r\n        var servers = this.getServers();\r\n        setTimeout(function () {\r\n            servers.forEach(function (server) {\r\n                var methods = server.methods;\r\n                Object.keys(methods).forEach(function (methodId) {\r\n                    if (!unsubCalled) {\r\n                        callback(server.instance, methods[methodId]);\r\n                    }\r\n                });\r\n            });\r\n        }, 0);\r\n        return function () {\r\n            unsubCalled = true;\r\n            unsubscribeFunc();\r\n        };\r\n    };\r\n    ClientRepository.prototype.onMethodRemoved = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onMethodRemoved\", callback);\r\n        return unsubscribeFunc;\r\n    };\r\n    ClientRepository.prototype.onServerRemoved = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onServerRemoved\", callback);\r\n        return unsubscribeFunc;\r\n    };\r\n    ClientRepository.prototype.onServerMethodRemoved = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onServerMethodRemoved\", callback);\r\n        return unsubscribeFunc;\r\n    };\r\n    ClientRepository.prototype.getServerById = function (id) {\r\n        return this.servers[id];\r\n    };\r\n    ClientRepository.prototype.reset = function () {\r\n        var _this = this;\r\n        Object.keys(this.servers).forEach(function (key) {\r\n            _this.removeServerById(key, \"reset\");\r\n        });\r\n        this.servers = {};\r\n        this.methodsCount = {};\r\n    };\r\n    ClientRepository.prototype.createMethodIdentifier = function (methodInfo) {\r\n        var accepts = methodInfo.input_signature !== undefined ? methodInfo.input_signature : \"\";\r\n        var returns = methodInfo.result_signature !== undefined ? methodInfo.result_signature : \"\";\r\n        return (methodInfo.name + accepts + returns).toLowerCase();\r\n    };\r\n    ClientRepository.prototype.getServersByMethod = function (identifier) {\r\n        var _this = this;\r\n        var allServers = [];\r\n        Object.keys(this.servers).forEach(function (serverId) {\r\n            var server = _this.servers[serverId];\r\n            Object.keys(server.methods).forEach(function (methodId) {\r\n                var methodInfo = server.methods[methodId];\r\n                if (methodInfo.identifier === identifier) {\r\n                    allServers.push(server.instance);\r\n                }\r\n            });\r\n        });\r\n        return allServers;\r\n    };\r\n    ClientRepository.prototype.returnUnsubWithDelayedReplay = function (unsubscribeFunc, collectionToReplay, callback) {\r\n        var unsubCalled = false;\r\n        setTimeout(function () {\r\n            collectionToReplay.forEach(function (item) {\r\n                if (!unsubCalled) {\r\n                    callback(item);\r\n                }\r\n            });\r\n        }, 0);\r\n        return function () {\r\n            unsubCalled = true;\r\n            unsubscribeFunc();\r\n        };\r\n    };\r\n    return ClientRepository;\r\n}());\n\nvar ServerRepository = (function () {\r\n    function ServerRepository() {\r\n        this.nextId = 0;\r\n        this.methods = [];\r\n    }\r\n    ServerRepository.prototype.add = function (method) {\r\n        method.repoId = String(this.nextId);\r\n        this.nextId += 1;\r\n        this.methods.push(method);\r\n        return method;\r\n    };\r\n    ServerRepository.prototype.remove = function (repoId) {\r\n        if (typeof repoId !== \"string\") {\r\n            return new TypeError(\"Expecting a string\");\r\n        }\r\n        this.methods = this.methods.filter(function (m) {\r\n            return m.repoId !== repoId;\r\n        });\r\n    };\r\n    ServerRepository.prototype.getById = function (id) {\r\n        if (typeof id !== \"string\") {\r\n            return undefined;\r\n        }\r\n        return this.methods.find(function (m) {\r\n            return m.repoId === id;\r\n        });\r\n    };\r\n    ServerRepository.prototype.getList = function () {\r\n        return this.methods.map(function (m) { return m; });\r\n    };\r\n    ServerRepository.prototype.length = function () {\r\n        return this.methods.length;\r\n    };\r\n    ServerRepository.prototype.reset = function () {\r\n        this.methods = [];\r\n    };\r\n    return ServerRepository;\r\n}());\n\nvar SUBSCRIPTION_REQUEST = \"onSubscriptionRequest\";\r\nvar SUBSCRIPTION_ADDED = \"onSubscriptionAdded\";\r\nvar SUBSCRIPTION_REMOVED = \"onSubscriptionRemoved\";\r\nvar ServerStreaming$1 = (function () {\r\n    function ServerStreaming(session, repository, serverRepository) {\r\n        var _this = this;\r\n        this.session = session;\r\n        this.repository = repository;\r\n        this.serverRepository = serverRepository;\r\n        this.ERR_URI_SUBSCRIPTION_FAILED = \"com.tick42.agm.errors.subscription.failure\";\r\n        this.callbacks = lib();\r\n        this.nextStreamId = 0;\r\n        session.on(\"add-interest\", function (msg) {\r\n            _this.handleAddInterest(msg);\r\n        });\r\n        session.on(\"remove-interest\", function (msg) {\r\n            _this.handleRemoveInterest(msg);\r\n        });\r\n    }\r\n    ServerStreaming.prototype.acceptRequestOnBranch = function (requestContext, streamingMethod, branch) {\r\n        if (typeof branch !== \"string\") {\r\n            branch = \"\";\r\n        }\r\n        if (typeof streamingMethod.protocolState.subscriptionsMap !== \"object\") {\r\n            throw new TypeError(\"The streaming method is missing its subscriptions.\");\r\n        }\r\n        if (!Array.isArray(streamingMethod.protocolState.branchKeyToStreamIdMap)) {\r\n            throw new TypeError(\"The streaming method is missing its branches.\");\r\n        }\r\n        var streamId = this.getStreamId(streamingMethod, branch);\r\n        var key = requestContext.msg.subscription_id;\r\n        var subscription = {\r\n            id: key,\r\n            arguments: requestContext.arguments,\r\n            instance: requestContext.instance,\r\n            branchKey: branch,\r\n            streamId: streamId,\r\n            subscribeMsg: requestContext.msg,\r\n        };\r\n        streamingMethod.protocolState.subscriptionsMap[key] = subscription;\r\n        this.session.sendFireAndForget({\r\n            type: \"accepted\",\r\n            subscription_id: key,\r\n            stream_id: streamId,\r\n        });\r\n        this.callbacks.execute(SUBSCRIPTION_ADDED, subscription, streamingMethod);\r\n    };\r\n    ServerStreaming.prototype.rejectRequest = function (requestContext, streamingMethod, reason) {\r\n        if (typeof reason !== \"string\") {\r\n            reason = \"\";\r\n        }\r\n        this.sendSubscriptionFailed(\"Subscription rejected by user. \" + reason, requestContext.msg.subscription_id);\r\n    };\r\n    ServerStreaming.prototype.pushData = function (streamingMethod, data, branches) {\r\n        var _this = this;\r\n        if (typeof streamingMethod !== \"object\" || !Array.isArray(streamingMethod.protocolState.branchKeyToStreamIdMap)) {\r\n            return;\r\n        }\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Invalid arguments. Data must be an object.\");\r\n        }\r\n        if (typeof branches === \"string\") {\r\n            branches = [branches];\r\n        }\r\n        else if (!Array.isArray(branches) || branches.length <= 0) {\r\n            branches = [];\r\n        }\r\n        var streamIdList = streamingMethod.protocolState.branchKeyToStreamIdMap\r\n            .filter(function (br) {\r\n            if (!branches || branches.length === 0) {\r\n                return true;\r\n            }\r\n            return branches.indexOf(br.key) >= 0;\r\n        }).map(function (br) {\r\n            return br.streamId;\r\n        });\r\n        streamIdList.forEach(function (streamId) {\r\n            var publishMessage = {\r\n                type: \"publish\",\r\n                stream_id: streamId,\r\n                data: data,\r\n            };\r\n            _this.session.sendFireAndForget(publishMessage);\r\n        });\r\n    };\r\n    ServerStreaming.prototype.pushDataToSingle = function (method, subscription, data) {\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Invalid arguments. Data must be an object.\");\r\n        }\r\n        var postMessage = {\r\n            type: \"post\",\r\n            subscription_id: subscription.id,\r\n            data: data,\r\n        };\r\n        this.session.sendFireAndForget(postMessage);\r\n    };\r\n    ServerStreaming.prototype.closeSingleSubscription = function (streamingMethod, subscription) {\r\n        if (streamingMethod.protocolState.subscriptionsMap) {\r\n            delete streamingMethod.protocolState.subscriptionsMap[subscription.id];\r\n        }\r\n        var dropSubscriptionMessage = {\r\n            type: \"drop-subscription\",\r\n            subscription_id: subscription.id,\r\n            reason: \"Server dropping a single subscription\",\r\n        };\r\n        this.session.sendFireAndForget(dropSubscriptionMessage);\r\n        var subscriber = subscription.instance;\r\n        this.callbacks.execute(SUBSCRIPTION_REMOVED, subscription, streamingMethod);\r\n    };\r\n    ServerStreaming.prototype.closeMultipleSubscriptions = function (streamingMethod, branchKey) {\r\n        var _this = this;\r\n        if (typeof streamingMethod !== \"object\" || typeof streamingMethod.protocolState.subscriptionsMap !== \"object\") {\r\n            return;\r\n        }\r\n        if (!streamingMethod.protocolState.subscriptionsMap) {\r\n            return;\r\n        }\r\n        var subscriptionsMap = streamingMethod.protocolState.subscriptionsMap;\r\n        var subscriptionsToClose = Object.keys(subscriptionsMap)\r\n            .map(function (key) {\r\n            return subscriptionsMap[key];\r\n        });\r\n        if (typeof branchKey === \"string\") {\r\n            subscriptionsToClose = subscriptionsToClose.filter(function (sub) {\r\n                return sub.branchKey === branchKey;\r\n            });\r\n        }\r\n        subscriptionsToClose.forEach(function (subscription) {\r\n            delete subscriptionsMap[subscription.id];\r\n            var drop = {\r\n                type: \"drop-subscription\",\r\n                subscription_id: subscription.id,\r\n                reason: \"Server dropping all subscriptions on stream_id: \" + subscription.streamId,\r\n            };\r\n            _this.session.sendFireAndForget(drop);\r\n        });\r\n    };\r\n    ServerStreaming.prototype.getSubscriptionList = function (streamingMethod, branchKey) {\r\n        if (typeof streamingMethod !== \"object\") {\r\n            return [];\r\n        }\r\n        var subscriptions = [];\r\n        if (!streamingMethod.protocolState.subscriptionsMap) {\r\n            return [];\r\n        }\r\n        var subscriptionsMap = streamingMethod.protocolState.subscriptionsMap;\r\n        var allSubscriptions = Object.keys(subscriptionsMap)\r\n            .map(function (key) {\r\n            return subscriptionsMap[key];\r\n        });\r\n        if (typeof branchKey !== \"string\") {\r\n            subscriptions = allSubscriptions;\r\n        }\r\n        else {\r\n            subscriptions = allSubscriptions.filter(function (sub) {\r\n                return sub.branchKey === branchKey;\r\n            });\r\n        }\r\n        return subscriptions;\r\n    };\r\n    ServerStreaming.prototype.getBranchList = function (streamingMethod) {\r\n        if (typeof streamingMethod !== \"object\") {\r\n            return [];\r\n        }\r\n        if (!streamingMethod.protocolState.subscriptionsMap) {\r\n            return [];\r\n        }\r\n        var subscriptionsMap = streamingMethod.protocolState.subscriptionsMap;\r\n        var allSubscriptions = Object.keys(subscriptionsMap)\r\n            .map(function (key) {\r\n            return subscriptionsMap[key];\r\n        });\r\n        var result = [];\r\n        allSubscriptions.forEach(function (sub) {\r\n            var branch = \"\";\r\n            if (typeof sub === \"object\" && typeof sub.branchKey === \"string\") {\r\n                branch = sub.branchKey;\r\n            }\r\n            if (result.indexOf(branch) === -1) {\r\n                result.push(branch);\r\n            }\r\n        });\r\n        return result;\r\n    };\r\n    ServerStreaming.prototype.onSubAdded = function (callback) {\r\n        this.onSubscriptionLifetimeEvent(SUBSCRIPTION_ADDED, callback);\r\n    };\r\n    ServerStreaming.prototype.onSubRequest = function (callback) {\r\n        this.onSubscriptionLifetimeEvent(SUBSCRIPTION_REQUEST, callback);\r\n    };\r\n    ServerStreaming.prototype.onSubRemoved = function (callback) {\r\n        this.onSubscriptionLifetimeEvent(SUBSCRIPTION_REMOVED, callback);\r\n    };\r\n    ServerStreaming.prototype.handleRemoveInterest = function (msg) {\r\n        var streamingMethod = this.serverRepository.getById(msg.method_id);\r\n        if (typeof msg.subscription_id !== \"string\" ||\r\n            typeof streamingMethod !== \"object\") {\r\n            return;\r\n        }\r\n        if (!streamingMethod.protocolState.subscriptionsMap) {\r\n            return;\r\n        }\r\n        if (typeof streamingMethod.protocolState.subscriptionsMap[msg.subscription_id] !== \"object\") {\r\n            return;\r\n        }\r\n        var subscription = streamingMethod.protocolState.subscriptionsMap[msg.subscription_id];\r\n        delete streamingMethod.protocolState.subscriptionsMap[msg.subscription_id];\r\n        this.callbacks.execute(SUBSCRIPTION_REMOVED, subscription, streamingMethod);\r\n    };\r\n    ServerStreaming.prototype.onSubscriptionLifetimeEvent = function (eventName, handlerFunc) {\r\n        this.callbacks.add(eventName, handlerFunc);\r\n    };\r\n    ServerStreaming.prototype.getNextStreamId = function () {\r\n        return this.nextStreamId++ + \"\";\r\n    };\r\n    ServerStreaming.prototype.handleAddInterest = function (msg) {\r\n        var caller = this.repository.getServerById(msg.caller_id);\r\n        var instance = caller.instance;\r\n        var requestContext = {\r\n            msg: msg,\r\n            arguments: msg.arguments_kv || {},\r\n            instance: instance,\r\n        };\r\n        var streamingMethod = this.serverRepository.getById(msg.method_id);\r\n        if (streamingMethod === undefined) {\r\n            var errorMsg = \"No method with id \" + msg.method_id + \" on this server.\";\r\n            this.sendSubscriptionFailed(errorMsg, msg.subscription_id);\r\n            return;\r\n        }\r\n        if (streamingMethod.protocolState.subscriptionsMap &&\r\n            streamingMethod.protocolState.subscriptionsMap[msg.subscription_id]) {\r\n            this.sendSubscriptionFailed(\"A subscription with id \" + msg.subscription_id + \" already exists.\", msg.subscription_id);\r\n            return;\r\n        }\r\n        this.callbacks.execute(SUBSCRIPTION_REQUEST, requestContext, streamingMethod);\r\n    };\r\n    ServerStreaming.prototype.sendSubscriptionFailed = function (reason, subscriptionId) {\r\n        var errorMessage = {\r\n            type: \"error\",\r\n            reason_uri: this.ERR_URI_SUBSCRIPTION_FAILED,\r\n            reason: reason,\r\n            request_id: subscriptionId,\r\n        };\r\n        this.session.sendFireAndForget(errorMessage);\r\n    };\r\n    ServerStreaming.prototype.getStreamId = function (streamingMethod, branchKey) {\r\n        if (typeof branchKey !== \"string\") {\r\n            branchKey = \"\";\r\n        }\r\n        if (!streamingMethod.protocolState.branchKeyToStreamIdMap) {\r\n            throw new Error(\"streaming \" + streamingMethod.definition.name + \" method without protocol state\");\r\n        }\r\n        var needleBranch = streamingMethod.protocolState.branchKeyToStreamIdMap.filter(function (branch) {\r\n            return branch.key === branchKey;\r\n        })[0];\r\n        var streamId = (needleBranch ? needleBranch.streamId : undefined);\r\n        if (typeof streamId !== \"string\" || streamId === \"\") {\r\n            streamId = this.getNextStreamId();\r\n            streamingMethod.protocolState.branchKeyToStreamIdMap.push({ key: branchKey, streamId: streamId });\r\n        }\r\n        return streamId;\r\n    };\r\n    return ServerStreaming;\r\n}());\n\nvar ServerProtocol = (function () {\r\n    function ServerProtocol(session, clientRepository, serverRepository, logger) {\r\n        var _this = this;\r\n        this.session = session;\r\n        this.clientRepository = clientRepository;\r\n        this.serverRepository = serverRepository;\r\n        this.logger = logger;\r\n        this.callbacks = lib();\r\n        this.streaming = new ServerStreaming$1(session, clientRepository, serverRepository);\r\n        this.session.on(\"invoke\", function (msg) { return _this.handleInvokeMessage(msg); });\r\n    }\r\n    ServerProtocol.prototype.createStream = function (repoMethod) {\r\n        repoMethod.protocolState.subscriptionsMap = {};\r\n        repoMethod.protocolState.branchKeyToStreamIdMap = [];\r\n        return this.register(repoMethod, true);\r\n    };\r\n    ServerProtocol.prototype.register = function (repoMethod, isStreaming) {\r\n        var _this = this;\r\n        var methodDef = repoMethod.definition;\r\n        var flags = { streaming: isStreaming || false };\r\n        var registerMsg = {\r\n            type: \"register\",\r\n            methods: [{\r\n                    id: repoMethod.repoId,\r\n                    name: methodDef.name,\r\n                    display_name: methodDef.displayName,\r\n                    description: methodDef.description,\r\n                    version: methodDef.version,\r\n                    flags: flags,\r\n                    object_types: methodDef.objectTypes || methodDef.object_types,\r\n                    input_signature: methodDef.accepts,\r\n                    result_signature: methodDef.returns,\r\n                    restrictions: undefined,\r\n                }],\r\n        };\r\n        return this.session.send(registerMsg, { methodId: repoMethod.repoId })\r\n            .then(function () {\r\n            _this.logger.debug(\"registered method \" + repoMethod.definition.name + \" with id \" + repoMethod.repoId);\r\n        })\r\n            .catch(function (msg) {\r\n            _this.logger.warn(\"failed to register method \" + repoMethod.definition.name + \" with id \" + repoMethod.repoId + \" - \" + JSON.stringify(msg));\r\n            throw msg;\r\n        });\r\n    };\r\n    ServerProtocol.prototype.onInvoked = function (callback) {\r\n        this.callbacks.add(\"onInvoked\", callback);\r\n    };\r\n    ServerProtocol.prototype.methodInvocationResult = function (method, invocationId, err, result) {\r\n        var msg;\r\n        if (err || err === \"\") {\r\n            msg = {\r\n                type: \"error\",\r\n                request_id: invocationId,\r\n                reason_uri: \"agm.errors.client_error\",\r\n                reason: err,\r\n                context: result,\r\n                peer_id: undefined,\r\n            };\r\n        }\r\n        else {\r\n            msg = {\r\n                type: \"yield\",\r\n                invocation_id: invocationId,\r\n                peer_id: this.session.peerId,\r\n                result: result,\r\n                request_id: undefined,\r\n            };\r\n        }\r\n        this.session.sendFireAndForget(msg);\r\n    };\r\n    ServerProtocol.prototype.unregister = function (method) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var msg;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        msg = {\r\n                            type: \"unregister\",\r\n                            methods: [method.repoId],\r\n                        };\r\n                        return [4, this.session.send(msg)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    ServerProtocol.prototype.getBranchList = function (method) {\r\n        return this.streaming.getBranchList(method);\r\n    };\r\n    ServerProtocol.prototype.getSubscriptionList = function (method, branchKey) {\r\n        return this.streaming.getSubscriptionList(method, branchKey);\r\n    };\r\n    ServerProtocol.prototype.closeAllSubscriptions = function (method, branchKey) {\r\n        this.streaming.closeMultipleSubscriptions(method, branchKey);\r\n    };\r\n    ServerProtocol.prototype.pushData = function (method, data, branches) {\r\n        this.streaming.pushData(method, data, branches);\r\n    };\r\n    ServerProtocol.prototype.pushDataToSingle = function (method, subscription, data) {\r\n        this.streaming.pushDataToSingle(method, subscription, data);\r\n    };\r\n    ServerProtocol.prototype.closeSingleSubscription = function (method, subscription) {\r\n        this.streaming.closeSingleSubscription(method, subscription);\r\n    };\r\n    ServerProtocol.prototype.acceptRequestOnBranch = function (requestContext, method, branch) {\r\n        this.streaming.acceptRequestOnBranch(requestContext, method, branch);\r\n    };\r\n    ServerProtocol.prototype.rejectRequest = function (requestContext, method, reason) {\r\n        this.streaming.rejectRequest(requestContext, method, reason);\r\n    };\r\n    ServerProtocol.prototype.onSubRequest = function (callback) {\r\n        this.streaming.onSubRequest(callback);\r\n    };\r\n    ServerProtocol.prototype.onSubAdded = function (callback) {\r\n        this.streaming.onSubAdded(callback);\r\n    };\r\n    ServerProtocol.prototype.onSubRemoved = function (callback) {\r\n        this.streaming.onSubRemoved(callback);\r\n    };\r\n    ServerProtocol.prototype.handleInvokeMessage = function (msg) {\r\n        var invocationId = msg.invocation_id;\r\n        var callerId = msg.caller_id;\r\n        var methodId = msg.method_id;\r\n        var args = msg.arguments_kv;\r\n        var methodList = this.serverRepository.getList();\r\n        var method = methodList.filter(function (m) {\r\n            return m.repoId === methodId;\r\n        })[0];\r\n        if (method === undefined) {\r\n            return;\r\n        }\r\n        var client = this.clientRepository.getServerById(callerId).instance;\r\n        var invocationArgs = { args: args, instance: client };\r\n        this.callbacks.execute(\"onInvoked\", method, invocationId, invocationArgs);\r\n    };\r\n    return ServerProtocol;\r\n}());\n\nvar UserSubscription = (function () {\r\n    function UserSubscription(repository, subscriptionData) {\r\n        this.repository = repository;\r\n        this.subscriptionData = subscriptionData;\r\n    }\r\n    Object.defineProperty(UserSubscription.prototype, \"requestArguments\", {\r\n        get: function () {\r\n            return this.subscriptionData.params.arguments || {};\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(UserSubscription.prototype, \"servers\", {\r\n        get: function () {\r\n            var _this = this;\r\n            return this.subscriptionData.trackedServers\r\n                .filter(function (pair) { return pair.subscriptionId; })\r\n                .map(function (pair) { return _this.repository.getServerById(pair.serverId).instance; });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(UserSubscription.prototype, \"serverInstance\", {\r\n        get: function () {\r\n            return this.servers[0];\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(UserSubscription.prototype, \"stream\", {\r\n        get: function () {\r\n            return this.subscriptionData.method;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    UserSubscription.prototype.onData = function (dataCallback) {\r\n        if (typeof dataCallback !== \"function\") {\r\n            throw new TypeError(\"The data callback must be a function.\");\r\n        }\r\n        this.subscriptionData.handlers.onData.push(dataCallback);\r\n        if (this.subscriptionData.handlers.onData.length === 1 && this.subscriptionData.queued.data.length > 0) {\r\n            this.subscriptionData.queued.data.forEach(function (dataItem) {\r\n                dataCallback(dataItem);\r\n            });\r\n        }\r\n    };\r\n    UserSubscription.prototype.onClosed = function (closedCallback) {\r\n        if (typeof closedCallback !== \"function\") {\r\n            throw new TypeError(\"The callback must be a function.\");\r\n        }\r\n        this.subscriptionData.handlers.onClosed.push(closedCallback);\r\n    };\r\n    UserSubscription.prototype.onFailed = function (callback) {\r\n    };\r\n    UserSubscription.prototype.onConnected = function (callback) {\r\n        if (typeof callback !== \"function\") {\r\n            throw new TypeError(\"The callback must be a function.\");\r\n        }\r\n        this.subscriptionData.handlers.onConnected.push(callback);\r\n    };\r\n    UserSubscription.prototype.close = function () {\r\n        this.subscriptionData.close();\r\n    };\r\n    UserSubscription.prototype.setNewSubscription = function (newSub) {\r\n        this.subscriptionData = newSub;\r\n    };\r\n    return UserSubscription;\r\n}());\n\nvar STATUS_AWAITING_ACCEPT = \"awaitingAccept\";\r\nvar STATUS_SUBSCRIBED = \"subscribed\";\r\nvar ERR_MSG_SUB_FAILED = \"Subscription failed.\";\r\nvar ERR_MSG_SUB_REJECTED = \"Subscription rejected.\";\r\nvar ON_CLOSE_MSG_SERVER_INIT = \"ServerInitiated\";\r\nvar ON_CLOSE_MSG_CLIENT_INIT = \"ClientInitiated\";\r\nvar ClientStreaming = (function () {\r\n    function ClientStreaming(session, repository, logger) {\r\n        var _this = this;\r\n        this.session = session;\r\n        this.repository = repository;\r\n        this.logger = logger;\r\n        this.subscriptionsList = {};\r\n        this.subscriptionIdToLocalKeyMap = {};\r\n        this.nextSubLocalKey = 0;\r\n        this.handleErrorSubscribing = function (errorResponse) {\r\n            var tag = errorResponse._tag;\r\n            var subLocalKey = tag.subLocalKey;\r\n            var pendingSub = _this.subscriptionsList[subLocalKey];\r\n            if (typeof pendingSub !== \"object\") {\r\n                return;\r\n            }\r\n            pendingSub.trackedServers = pendingSub.trackedServers.filter(function (server) {\r\n                return server.serverId !== tag.serverId;\r\n            });\r\n            if (pendingSub.trackedServers.length <= 0) {\r\n                clearTimeout(pendingSub.timeoutId);\r\n                if (pendingSub.status === STATUS_AWAITING_ACCEPT) {\r\n                    var reason = (typeof errorResponse.reason === \"string\" && errorResponse.reason !== \"\") ?\r\n                        ' Publisher said \"' + errorResponse.reason + '\".' :\r\n                        \" No reason given.\";\r\n                    var callArgs = typeof pendingSub.params.arguments === \"object\" ?\r\n                        JSON.stringify(pendingSub.params.arguments) :\r\n                        \"{}\";\r\n                    pendingSub.error({\r\n                        message: ERR_MSG_SUB_REJECTED + reason + \" Called with:\" + callArgs,\r\n                        called_with: pendingSub.params.arguments,\r\n                        method: pendingSub.method,\r\n                    });\r\n                }\r\n                else if (pendingSub.status === STATUS_SUBSCRIBED) {\r\n                    _this.callOnClosedHandlers(pendingSub);\r\n                }\r\n                delete _this.subscriptionsList[subLocalKey];\r\n            }\r\n        };\r\n        this.handleSubscribed = function (msg) {\r\n            var subLocalKey = msg._tag.subLocalKey;\r\n            var pendingSub = _this.subscriptionsList[subLocalKey];\r\n            if (typeof pendingSub !== \"object\") {\r\n                return;\r\n            }\r\n            var serverId = msg._tag.serverId;\r\n            var acceptingServer = pendingSub.trackedServers\r\n                .filter(function (server) {\r\n                return server.serverId === serverId;\r\n            })[0];\r\n            if (typeof acceptingServer !== \"object\") {\r\n                return;\r\n            }\r\n            acceptingServer.subscriptionId = msg.subscription_id;\r\n            _this.subscriptionIdToLocalKeyMap[msg.subscription_id] = subLocalKey;\r\n            var isFirstResponse = (pendingSub.status === STATUS_AWAITING_ACCEPT);\r\n            pendingSub.status = STATUS_SUBSCRIBED;\r\n            if (isFirstResponse) {\r\n                var reconnect = false;\r\n                var sub = pendingSub.subscription;\r\n                if (sub) {\r\n                    sub.setNewSubscription(pendingSub);\r\n                    pendingSub.success(sub);\r\n                    reconnect = true;\r\n                }\r\n                else {\r\n                    sub = new UserSubscription(_this.repository, pendingSub);\r\n                    pendingSub.subscription = sub;\r\n                    pendingSub.success(sub);\r\n                }\r\n                for (var _i = 0, _a = pendingSub.handlers.onConnected; _i < _a.length; _i++) {\r\n                    var handler = _a[_i];\r\n                    try {\r\n                        handler(sub.serverInstance, reconnect);\r\n                    }\r\n                    catch (e) {\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        this.handleEventData = function (msg) {\r\n            var subLocalKey = _this.subscriptionIdToLocalKeyMap[msg.subscription_id];\r\n            if (typeof subLocalKey === \"undefined\") {\r\n                return;\r\n            }\r\n            var subscription = _this.subscriptionsList[subLocalKey];\r\n            if (typeof subscription !== \"object\") {\r\n                return;\r\n            }\r\n            var trackedServersFound = subscription.trackedServers.filter(function (server) {\r\n                return server.subscriptionId === msg.subscription_id;\r\n            });\r\n            if (trackedServersFound.length !== 1) {\r\n                return;\r\n            }\r\n            var isPrivateData = msg.oob;\r\n            var sendingServerId = trackedServersFound[0].serverId;\r\n            var receivedStreamData = function () {\r\n                return {\r\n                    data: msg.data,\r\n                    server: _this.repository.getServerById(sendingServerId).instance,\r\n                    requestArguments: subscription.params.arguments,\r\n                    message: undefined,\r\n                    private: isPrivateData,\r\n                };\r\n            };\r\n            var onDataHandlers = subscription.handlers.onData;\r\n            var queuedData = subscription.queued.data;\r\n            if (onDataHandlers.length > 0) {\r\n                onDataHandlers.forEach(function (callback) {\r\n                    if (typeof callback === \"function\") {\r\n                        callback(receivedStreamData());\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                queuedData.push(receivedStreamData());\r\n            }\r\n        };\r\n        this.handleSubscriptionCancelled = function (msg) {\r\n            var subLocalKey = _this.subscriptionIdToLocalKeyMap[msg.subscription_id];\r\n            if (typeof subLocalKey === \"undefined\") {\r\n                return;\r\n            }\r\n            var subscription = _this.subscriptionsList[subLocalKey];\r\n            if (typeof subscription !== \"object\") {\r\n                return;\r\n            }\r\n            var expectedNewLength = subscription.trackedServers.length - 1;\r\n            subscription.trackedServers = subscription.trackedServers.filter(function (server) {\r\n                if (server.subscriptionId === msg.subscription_id) {\r\n                    subscription.queued.closers.push(server.serverId);\r\n                    return false;\r\n                }\r\n                else {\r\n                    return true;\r\n                }\r\n            });\r\n            if (subscription.trackedServers.length !== expectedNewLength) {\r\n                return;\r\n            }\r\n            if (subscription.trackedServers.length <= 0) {\r\n                clearTimeout(subscription.timeoutId);\r\n                _this.callOnClosedHandlers(subscription);\r\n                delete _this.subscriptionsList[subLocalKey];\r\n            }\r\n            delete _this.subscriptionIdToLocalKeyMap[msg.subscription_id];\r\n        };\r\n        session.on(\"subscribed\", this.handleSubscribed);\r\n        session.on(\"event\", this.handleEventData);\r\n        session.on(\"subscription-cancelled\", this.handleSubscriptionCancelled);\r\n    }\r\n    ClientStreaming.prototype.subscribe = function (streamingMethod, params, targetServers, success, error, existingSub) {\r\n        var _this = this;\r\n        if (targetServers.length === 0) {\r\n            error({\r\n                method: streamingMethod,\r\n                called_with: params.arguments,\r\n                message: ERR_MSG_SUB_FAILED + \" No available servers matched the target params.\",\r\n            });\r\n            return;\r\n        }\r\n        var subLocalKey = this.getNextSubscriptionLocalKey();\r\n        var pendingSub = this.registerSubscription(subLocalKey, streamingMethod, params, success, error, params.methodResponseTimeout || 10000, existingSub);\r\n        if (typeof pendingSub !== \"object\") {\r\n            error({\r\n                method: streamingMethod,\r\n                called_with: params.arguments,\r\n                message: ERR_MSG_SUB_FAILED + \" Unable to register the user callbacks.\",\r\n            });\r\n            return;\r\n        }\r\n        targetServers.forEach(function (target) {\r\n            var serverId = target.server.id;\r\n            var method = target.methods.find(function (m) { return m.name === streamingMethod.name; });\r\n            if (!method) {\r\n                _this.logger.error(\"can not find method \" + streamingMethod.name + \" for target \" + target.server.id);\r\n                return;\r\n            }\r\n            pendingSub.trackedServers.push({\r\n                serverId: serverId,\r\n                subscriptionId: undefined,\r\n            });\r\n            var msg = {\r\n                type: \"subscribe\",\r\n                server_id: serverId,\r\n                method_id: method.gatewayId,\r\n                arguments_kv: params.arguments,\r\n            };\r\n            _this.session.send(msg, { serverId: serverId, subLocalKey: subLocalKey })\r\n                .then(function (m) { return _this.handleSubscribed(m); })\r\n                .catch(function (err) { return _this.handleErrorSubscribing(err); });\r\n        });\r\n    };\r\n    ClientStreaming.prototype.drainSubscriptions = function () {\r\n        var existing = Object.values(this.subscriptionsList);\r\n        this.subscriptionsList = {};\r\n        this.subscriptionIdToLocalKeyMap = {};\r\n        return existing;\r\n    };\r\n    ClientStreaming.prototype.getNextSubscriptionLocalKey = function () {\r\n        var current = this.nextSubLocalKey;\r\n        this.nextSubLocalKey += 1;\r\n        return current;\r\n    };\r\n    ClientStreaming.prototype.registerSubscription = function (subLocalKey, method, params, success, error, timeout, existingSub) {\r\n        var _this = this;\r\n        var subsInfo = {\r\n            localKey: subLocalKey,\r\n            status: STATUS_AWAITING_ACCEPT,\r\n            method: method,\r\n            params: params,\r\n            success: success,\r\n            error: error,\r\n            trackedServers: [],\r\n            handlers: {\r\n                onData: (existingSub === null || existingSub === void 0 ? void 0 : existingSub.handlers.onData) || [],\r\n                onClosed: (existingSub === null || existingSub === void 0 ? void 0 : existingSub.handlers.onClosed) || [],\r\n                onConnected: (existingSub === null || existingSub === void 0 ? void 0 : existingSub.handlers.onConnected) || [],\r\n            },\r\n            queued: {\r\n                data: [],\r\n                closers: [],\r\n            },\r\n            timeoutId: undefined,\r\n            close: function () { return _this.closeSubscription(subLocalKey); },\r\n            subscription: existingSub === null || existingSub === void 0 ? void 0 : existingSub.subscription\r\n        };\r\n        if (!existingSub) {\r\n            if (params.onData) {\r\n                subsInfo.handlers.onData.push(params.onData);\r\n            }\r\n            if (params.onClosed) {\r\n                subsInfo.handlers.onClosed.push(params.onClosed);\r\n            }\r\n            if (params.onConnected) {\r\n                subsInfo.handlers.onConnected.push(params.onConnected);\r\n            }\r\n        }\r\n        this.subscriptionsList[subLocalKey] = subsInfo;\r\n        subsInfo.timeoutId = setTimeout(function () {\r\n            if (_this.subscriptionsList[subLocalKey] === undefined) {\r\n                return;\r\n            }\r\n            var pendingSub = _this.subscriptionsList[subLocalKey];\r\n            if (pendingSub.status === STATUS_AWAITING_ACCEPT) {\r\n                error({\r\n                    method: method,\r\n                    called_with: params.arguments,\r\n                    message: ERR_MSG_SUB_FAILED + \" Subscription attempt timed out after \" + timeout + \" ms.\",\r\n                });\r\n                delete _this.subscriptionsList[subLocalKey];\r\n            }\r\n            else if (pendingSub.status === STATUS_SUBSCRIBED && pendingSub.trackedServers.length > 0) {\r\n                pendingSub.trackedServers = pendingSub.trackedServers.filter(function (server) {\r\n                    return (typeof server.subscriptionId !== \"undefined\");\r\n                });\r\n                delete pendingSub.timeoutId;\r\n                if (pendingSub.trackedServers.length <= 0) {\r\n                    _this.callOnClosedHandlers(pendingSub);\r\n                    delete _this.subscriptionsList[subLocalKey];\r\n                }\r\n            }\r\n        }, timeout);\r\n        return subsInfo;\r\n    };\r\n    ClientStreaming.prototype.callOnClosedHandlers = function (subscription, reason) {\r\n        var closersCount = subscription.queued.closers.length;\r\n        var closingServerId = (closersCount > 0) ? subscription.queued.closers[closersCount - 1] : null;\r\n        var closingServer;\r\n        if (closingServerId !== undefined && typeof closingServerId === \"string\") {\r\n            closingServer = this.repository.getServerById(closingServerId).instance;\r\n        }\r\n        subscription.handlers.onClosed.forEach(function (callback) {\r\n            if (typeof callback !== \"function\") {\r\n                return;\r\n            }\r\n            callback({\r\n                message: reason || ON_CLOSE_MSG_SERVER_INIT,\r\n                requestArguments: subscription.params.arguments || {},\r\n                server: closingServer,\r\n                stream: subscription.method,\r\n            });\r\n        });\r\n    };\r\n    ClientStreaming.prototype.closeSubscription = function (subLocalKey) {\r\n        var _this = this;\r\n        var subscription = this.subscriptionsList[subLocalKey];\r\n        if (typeof subscription !== \"object\") {\r\n            return;\r\n        }\r\n        subscription.trackedServers.forEach(function (server) {\r\n            if (typeof server.subscriptionId === \"undefined\") {\r\n                return;\r\n            }\r\n            subscription.queued.closers.push(server.serverId);\r\n            _this.session.sendFireAndForget({\r\n                type: \"unsubscribe\",\r\n                subscription_id: server.subscriptionId,\r\n                reason_uri: \"\",\r\n                reason: ON_CLOSE_MSG_CLIENT_INIT,\r\n            });\r\n            delete _this.subscriptionIdToLocalKeyMap[server.subscriptionId];\r\n        });\r\n        subscription.trackedServers = [];\r\n        this.callOnClosedHandlers(subscription, ON_CLOSE_MSG_CLIENT_INIT);\r\n        delete this.subscriptionsList[subLocalKey];\r\n    };\r\n    return ClientStreaming;\r\n}());\n\nvar ClientProtocol = (function () {\r\n    function ClientProtocol(session, repository, logger) {\r\n        var _this = this;\r\n        this.session = session;\r\n        this.repository = repository;\r\n        this.logger = logger;\r\n        session.on(\"peer-added\", function (msg) { return _this.handlePeerAdded(msg); });\r\n        session.on(\"peer-removed\", function (msg) { return _this.handlePeerRemoved(msg); });\r\n        session.on(\"methods-added\", function (msg) { return _this.handleMethodsAddedMessage(msg); });\r\n        session.on(\"methods-removed\", function (msg) { return _this.handleMethodsRemovedMessage(msg); });\r\n        this.streaming = new ClientStreaming(session, repository, logger);\r\n    }\r\n    ClientProtocol.prototype.subscribe = function (stream, options, targetServers, success, error, existingSub) {\r\n        this.streaming.subscribe(stream, options, targetServers, success, error, existingSub);\r\n    };\r\n    ClientProtocol.prototype.invoke = function (id, method, args, target) {\r\n        var _this = this;\r\n        var serverId = target.id;\r\n        var methodId = method.gatewayId;\r\n        var msg = {\r\n            type: \"call\",\r\n            server_id: serverId,\r\n            method_id: methodId,\r\n            arguments_kv: args,\r\n        };\r\n        return this.session.send(msg, { invocationId: id, serverId: serverId })\r\n            .then(function (m) { return _this.handleResultMessage(m); })\r\n            .catch(function (err) { return _this.handleInvocationError(err); });\r\n    };\r\n    ClientProtocol.prototype.drainSubscriptions = function () {\r\n        return this.streaming.drainSubscriptions();\r\n    };\r\n    ClientProtocol.prototype.handlePeerAdded = function (msg) {\r\n        var newPeerId = msg.new_peer_id;\r\n        var remoteId = msg.identity;\r\n        var isLocal = msg.meta ? msg.meta.local : true;\r\n        var pid = Number(remoteId.process);\r\n        var serverInfo = {\r\n            machine: remoteId.machine,\r\n            pid: isNaN(pid) ? remoteId.process : pid,\r\n            instance: remoteId.instance,\r\n            application: remoteId.application,\r\n            applicationName: remoteId.applicationName,\r\n            environment: remoteId.environment,\r\n            region: remoteId.region,\r\n            user: remoteId.user,\r\n            windowId: remoteId.windowId,\r\n            peerId: newPeerId,\r\n            api: remoteId.api,\r\n            isLocal: isLocal\r\n        };\r\n        this.repository.addServer(serverInfo, newPeerId);\r\n    };\r\n    ClientProtocol.prototype.handlePeerRemoved = function (msg) {\r\n        var removedPeerId = msg.removed_id;\r\n        var reason = msg.reason;\r\n        this.repository.removeServerById(removedPeerId, reason);\r\n    };\r\n    ClientProtocol.prototype.handleMethodsAddedMessage = function (msg) {\r\n        var _this = this;\r\n        var serverId = msg.server_id;\r\n        var methods = msg.methods;\r\n        methods.forEach(function (method) {\r\n            _this.repository.addServerMethod(serverId, method);\r\n        });\r\n    };\r\n    ClientProtocol.prototype.handleMethodsRemovedMessage = function (msg) {\r\n        var _this = this;\r\n        var serverId = msg.server_id;\r\n        var methodIdList = msg.methods;\r\n        var server = this.repository.getServerById(serverId);\r\n        var serverMethodKeys = Object.keys(server.methods);\r\n        serverMethodKeys.forEach(function (methodKey) {\r\n            var method = server.methods[methodKey];\r\n            if (methodIdList.indexOf(method.gatewayId) > -1) {\r\n                _this.repository.removeServerMethod(serverId, methodKey);\r\n            }\r\n        });\r\n    };\r\n    ClientProtocol.prototype.handleResultMessage = function (msg) {\r\n        var invocationId = msg._tag.invocationId;\r\n        var result = msg.result;\r\n        var serverId = msg._tag.serverId;\r\n        var server = this.repository.getServerById(serverId);\r\n        return {\r\n            invocationId: invocationId,\r\n            result: result,\r\n            instance: server.instance,\r\n            status: InvokeStatus.Success,\r\n            message: \"\"\r\n        };\r\n    };\r\n    ClientProtocol.prototype.handleInvocationError = function (msg) {\r\n        this.logger.debug(\"handle invocation error \" + JSON.stringify(msg));\r\n        if (\"_tag\" in msg) {\r\n            var invocationId = msg._tag.invocationId;\r\n            var serverId = msg._tag.serverId;\r\n            var server = this.repository.getServerById(serverId);\r\n            var message = msg.reason;\r\n            var context_1 = msg.context;\r\n            return {\r\n                invocationId: invocationId,\r\n                result: context_1,\r\n                instance: server.instance,\r\n                status: InvokeStatus.Error,\r\n                message: message\r\n            };\r\n        }\r\n        else {\r\n            return {\r\n                invocationId: \"\",\r\n                message: msg.message,\r\n                status: InvokeStatus.Error,\r\n                error: msg\r\n            };\r\n        }\r\n    };\r\n    return ClientProtocol;\r\n}());\n\nfunction gW3ProtocolFactory (instance, connection, clientRepository, serverRepository, libConfig, interop) {\r\n    var logger = libConfig.logger.subLogger(\"gw3-protocol\");\r\n    var resolveReadyPromise;\r\n    var readyPromise = new Promise(function (resolve) {\r\n        resolveReadyPromise = resolve;\r\n    });\r\n    var session = connection.domain(\"agm\", [\"subscribed\"]);\r\n    var server = new ServerProtocol(session, clientRepository, serverRepository, logger.subLogger(\"server\"));\r\n    var client = new ClientProtocol(session, clientRepository, logger.subLogger(\"client\"));\r\n    function handleReconnect() {\r\n        logger.info(\"reconnected - will replay registered methods and subscriptions\");\r\n        var existingSubscriptions = client.drainSubscriptions();\r\n        for (var _i = 0, existingSubscriptions_1 = existingSubscriptions; _i < existingSubscriptions_1.length; _i++) {\r\n            var sub = existingSubscriptions_1[_i];\r\n            var methodInfo = sub.method;\r\n            var params = Object.assign({}, sub.params);\r\n            logger.info(\"trying to re-subscribe to method \" + methodInfo.name);\r\n            interop.client.subscribe(methodInfo, params, undefined, undefined, sub);\r\n        }\r\n        var registeredMethods = serverRepository.getList();\r\n        serverRepository.reset();\r\n        for (var _a = 0, registeredMethods_1 = registeredMethods; _a < registeredMethods_1.length; _a++) {\r\n            var method = registeredMethods_1[_a];\r\n            var def = method.definition;\r\n            logger.info(\"re-publishing method \" + def.name);\r\n            if (method.stream) {\r\n                interop.server.createStream(def, method.streamCallbacks, undefined, undefined, method.stream);\r\n            }\r\n            else if (method.theFunction && method.theFunction.userCallback) {\r\n                interop.register(def, method.theFunction.userCallback);\r\n            }\r\n            else if (method.theFunction && method.theFunction.userCallbackAsync) {\r\n                interop.registerAsync(def, method.theFunction.userCallbackAsync);\r\n            }\r\n        }\r\n    }\r\n    function handleInitialJoin() {\r\n        if (resolveReadyPromise) {\r\n            resolveReadyPromise({\r\n                client: client,\r\n                server: server,\r\n            });\r\n            resolveReadyPromise = undefined;\r\n        }\r\n    }\r\n    session.onJoined(function (reconnect) {\r\n        clientRepository.addServer(instance, connection.peerId);\r\n        if (reconnect) {\r\n            handleReconnect();\r\n        }\r\n        else {\r\n            handleInitialJoin();\r\n        }\r\n    });\r\n    session.onLeft(function () {\r\n        clientRepository.reset();\r\n    });\r\n    session.join();\r\n    return readyPromise;\r\n}\n\nvar Interop = (function () {\r\n    function Interop(configuration) {\r\n        var _this = this;\r\n        if (typeof configuration === \"undefined\") {\r\n            throw new Error(\"configuration is required\");\r\n        }\r\n        if (typeof configuration.connection === \"undefined\") {\r\n            throw new Error(\"configuration.connections is required\");\r\n        }\r\n        var connection = configuration.connection;\r\n        if (typeof configuration.methodResponseTimeout !== \"number\") {\r\n            configuration.methodResponseTimeout = 30 * 1000;\r\n        }\r\n        if (typeof configuration.waitTimeoutMs !== \"number\") {\r\n            configuration.waitTimeoutMs = 30 * 1000;\r\n        }\r\n        InstanceWrapper.API = this;\r\n        this.instance = new InstanceWrapper(undefined, connection).unwrap();\r\n        this.clientRepository = new ClientRepository(configuration.logger.subLogger(\"cRep\"));\r\n        this.serverRepository = new ServerRepository();\r\n        var protocolPromise;\r\n        if (connection.protocolVersion === 3) {\r\n            protocolPromise = gW3ProtocolFactory(this.instance, connection, this.clientRepository, this.serverRepository, configuration, this);\r\n        }\r\n        else {\r\n            throw new Error(\"protocol \" + connection.protocolVersion + \" not supported\");\r\n        }\r\n        this.readyPromise = protocolPromise.then(function (protocol) {\r\n            _this.protocol = protocol;\r\n            _this.client = new Client(_this.protocol, _this.clientRepository, _this.instance, configuration);\r\n            _this.server = new Server(_this.protocol, _this.serverRepository);\r\n            return _this;\r\n        });\r\n    }\r\n    Interop.prototype.ready = function () {\r\n        return this.readyPromise;\r\n    };\r\n    Interop.prototype.serverRemoved = function (callback) {\r\n        return this.client.serverRemoved(callback);\r\n    };\r\n    Interop.prototype.serverAdded = function (callback) {\r\n        return this.client.serverAdded(callback);\r\n    };\r\n    Interop.prototype.serverMethodRemoved = function (callback) {\r\n        return this.client.serverMethodRemoved(callback);\r\n    };\r\n    Interop.prototype.serverMethodAdded = function (callback) {\r\n        return this.client.serverMethodAdded(callback);\r\n    };\r\n    Interop.prototype.methodRemoved = function (callback) {\r\n        return this.client.methodRemoved(callback);\r\n    };\r\n    Interop.prototype.methodAdded = function (callback) {\r\n        return this.client.methodAdded(callback);\r\n    };\r\n    Interop.prototype.methodsForInstance = function (instance) {\r\n        return this.client.methodsForInstance(instance);\r\n    };\r\n    Interop.prototype.methods = function (methodFilter) {\r\n        return this.client.methods(methodFilter);\r\n    };\r\n    Interop.prototype.servers = function (methodFilter) {\r\n        return this.client.servers(methodFilter);\r\n    };\r\n    Interop.prototype.subscribe = function (method, options, successCallback, errorCallback) {\r\n        return this.client.subscribe(method, options, successCallback, errorCallback);\r\n    };\r\n    Interop.prototype.createStream = function (streamDef, callbacks, successCallback, errorCallback) {\r\n        return this.server.createStream(streamDef, callbacks, successCallback, errorCallback);\r\n    };\r\n    Interop.prototype.unregister = function (methodFilter) {\r\n        return this.server.unregister(methodFilter);\r\n    };\r\n    Interop.prototype.registerAsync = function (methodDefinition, callback) {\r\n        return this.server.registerAsync(methodDefinition, callback);\r\n    };\r\n    Interop.prototype.register = function (methodDefinition, callback) {\r\n        return this.server.register(methodDefinition, callback);\r\n    };\r\n    Interop.prototype.invoke = function (methodFilter, argumentObj, target, additionalOptions, success, error) {\r\n        return this.client.invoke(methodFilter, argumentObj, target, additionalOptions, success, error);\r\n    };\r\n    return Interop;\r\n}());\n\nvar successMessages = [\"subscribed\", \"success\"];\r\nvar MessageBus = (function () {\r\n    function MessageBus(connection, logger) {\r\n        var _this = this;\r\n        this.publish = function (topic, data, options) {\r\n            var _a = options || {}, routingKey = _a.routingKey, target = _a.target;\r\n            var args = _this.removeEmptyValues({\r\n                type: \"publish\",\r\n                topic: topic,\r\n                data: data,\r\n                peer_id: _this.peerId,\r\n                routing_key: routingKey,\r\n                target_identity: target\r\n            });\r\n            _this.session.send(args);\r\n        };\r\n        this.subscribe = function (topic, callback, options) {\r\n            return new Promise(function (resolve, reject) {\r\n                var _a = options || {}, routingKey = _a.routingKey, target = _a.target;\r\n                var args = _this.removeEmptyValues({\r\n                    type: \"subscribe\",\r\n                    topic: topic,\r\n                    peer_id: _this.peerId,\r\n                    routing_key: routingKey,\r\n                    source: target\r\n                });\r\n                _this.session.send(args)\r\n                    .then(function (response) {\r\n                    var subscription_id = response.subscription_id;\r\n                    _this.subscriptions.push({ subscription_id: subscription_id, topic: topic, callback: callback, source: target });\r\n                    resolve({\r\n                        unsubscribe: function () {\r\n                            _this.session.send({ type: \"unsubscribe\", subscription_id: subscription_id, peer_id: _this.peerId });\r\n                            _this.subscriptions = _this.subscriptions.filter(function (s) { return s.subscription_id !== subscription_id; });\r\n                            return Promise.resolve();\r\n                        }\r\n                    });\r\n                })\r\n                    .catch(function (error) { return reject(error); });\r\n            });\r\n        };\r\n        this.watchOnEvent = function () {\r\n            _this.session.on(\"event\", function (args) {\r\n                var data = args.data, subscription_id = args.subscription_id;\r\n                var source = args[\"publisher-identity\"];\r\n                var subscription = _this.subscriptions.find(function (s) { return s.subscription_id === subscription_id; });\r\n                if (subscription) {\r\n                    if (!subscription.source) {\r\n                        subscription.callback(data, subscription.topic, source);\r\n                    }\r\n                    else {\r\n                        if (_this.keysMatch(subscription.source, source)) {\r\n                            subscription.callback(data, subscription.topic, source);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        };\r\n        this.connection = connection;\r\n        this.logger = logger;\r\n        this.peerId = connection.peerId;\r\n        this.subscriptions = [];\r\n        this.session = connection.domain(\"bus\", successMessages);\r\n        this.readyPromise = this.session.join();\r\n        this.readyPromise.then(function () {\r\n            _this.watchOnEvent();\r\n        });\r\n    }\r\n    MessageBus.prototype.ready = function () {\r\n        return this.readyPromise;\r\n    };\r\n    MessageBus.prototype.removeEmptyValues = function (obj) {\r\n        var cleaned = {};\r\n        Object.keys(obj).forEach(function (key) {\r\n            if (obj[key] !== undefined && obj[key] !== null) {\r\n                cleaned[key] = obj[key];\r\n            }\r\n        });\r\n        return cleaned;\r\n    };\r\n    MessageBus.prototype.keysMatch = function (obj1, obj2) {\r\n        var keysObj1 = Object.keys(obj1);\r\n        var allMatch = true;\r\n        keysObj1.forEach(function (key) {\r\n            if (obj1[key] !== obj2[key]) {\r\n                allMatch = false;\r\n            }\r\n        });\r\n        return allMatch;\r\n    };\r\n    return MessageBus;\r\n}());\n\nvar GlueCore = function (userConfig, ext) {\r\n    var gdVersion = Utils.getGDMajorVersion();\r\n    var glue42gd;\r\n    var preloadPromise = Promise.resolve();\r\n    if (gdVersion) {\r\n        if (gdVersion < 3) {\r\n            throw new Error(\"GD v2 is not supported. Use v4 of the API to run in that context.\");\r\n        }\r\n        else if (gdVersion >= 3) {\r\n            glue42gd = window.glue42gd;\r\n            preloadPromise = window.gdPreloadPromise || preloadPromise;\r\n        }\r\n    }\r\n    var glueInitTimer = timer(\"glue\");\r\n    userConfig = userConfig || {};\r\n    ext = ext || {};\r\n    var internalConfig = prepareConfig(userConfig, ext, glue42gd);\r\n    var _connection;\r\n    var _interop;\r\n    var _logger;\r\n    var _metrics;\r\n    var _contexts;\r\n    var _bus;\r\n    var _allowTrace;\r\n    var libs = {};\r\n    function registerLib(name, inner, t) {\r\n        _allowTrace = _logger.canPublish(\"trace\");\r\n        if (_allowTrace) {\r\n            _logger.trace(\"registering \" + name + \" module\");\r\n        }\r\n        var done = function () {\r\n            inner.initTime = t.stop();\r\n            inner.initEndTime = t.endTime;\r\n            inner.marks = t.marks;\r\n            if (_allowTrace) {\r\n                _logger.trace(name + \" is ready - \" + (t.endTime - t.startTime));\r\n            }\r\n        };\r\n        inner.initStartTime = t.startTime;\r\n        if (inner.ready) {\r\n            inner.ready().then(function () {\r\n                done();\r\n            });\r\n        }\r\n        else {\r\n            done();\r\n        }\r\n        if (!Array.isArray(name)) {\r\n            name = [name];\r\n        }\r\n        name.forEach(function (n) {\r\n            libs[n] = inner;\r\n            GlueCore[n] = inner;\r\n        });\r\n    }\r\n    function setupConnection() {\r\n        var initTimer = timer(\"connection\");\r\n        _connection = new Connection(internalConfig.connection, _logger.subLogger(\"connection\"));\r\n        var authPromise = Promise.resolve(internalConfig.auth);\r\n        if (internalConfig.connection && !internalConfig.auth) {\r\n            if (glue42gd) {\r\n                authPromise = glue42gd.getGWToken()\r\n                    .then(function (token) {\r\n                    return {\r\n                        gatewayToken: token\r\n                    };\r\n                });\r\n            }\r\n            else {\r\n                authPromise = Promise.reject(\"You need to provide auth information\");\r\n            }\r\n        }\r\n        return authPromise\r\n            .then(function (authConfig) {\r\n            initTimer.mark(\"auth-promise-resolved\");\r\n            var authRequest;\r\n            if (Object.prototype.toString.call(authConfig) === \"[object Object]\") {\r\n                authRequest = authConfig;\r\n            }\r\n            else {\r\n                throw new Error(\"Invalid auth object - \" + JSON.stringify(authConfig));\r\n            }\r\n            return _connection.login(authRequest);\r\n        })\r\n            .then(function () {\r\n            registerLib(\"connection\", _connection, initTimer);\r\n            return internalConfig;\r\n        })\r\n            .catch(function (e) {\r\n            if (_connection) {\r\n                _connection.logout();\r\n            }\r\n            throw e;\r\n        });\r\n    }\r\n    function setupLogger() {\r\n        var _a;\r\n        var initTimer = timer(\"logger\");\r\n        _logger = new Logger(\"\" + ((_a = internalConfig.connection.identity) === null || _a === void 0 ? void 0 : _a.application), undefined, internalConfig.customLogger);\r\n        _logger.consoleLevel(internalConfig.logger.console);\r\n        _logger.publishLevel(internalConfig.logger.publish);\r\n        if (_logger.canPublish(\"debug\")) {\r\n            _logger.debug(\"initializing glue...\");\r\n        }\r\n        registerLib(\"logger\", _logger, initTimer);\r\n        return Promise.resolve(undefined);\r\n    }\r\n    function setupMetrics() {\r\n        var _a, _b, _c, _d;\r\n        var initTimer = timer(\"metrics\");\r\n        var config = internalConfig.metrics;\r\n        var metricsPublishingEnabledFunc = glue42gd === null || glue42gd === void 0 ? void 0 : glue42gd.getMetricsPublishingEnabled;\r\n        var identity = internalConfig.connection.identity;\r\n        var canUpdateMetric = metricsPublishingEnabledFunc ? metricsPublishingEnabledFunc : function () { return true; };\r\n        var disableAutoAppSystem = (_a = (typeof config !== \"boolean\" && config.disableAutoAppSystem)) !== null && _a !== void 0 ? _a : false;\r\n        _metrics = metrics({\r\n            connection: config ? _connection : undefined,\r\n            logger: _logger.subLogger(\"metrics\"),\r\n            canUpdateMetric: canUpdateMetric,\r\n            system: \"Glue42\",\r\n            service: (_b = identity === null || identity === void 0 ? void 0 : identity.service) !== null && _b !== void 0 ? _b : \"metrics-service\",\r\n            instance: (_d = (_c = identity === null || identity === void 0 ? void 0 : identity.instance) !== null && _c !== void 0 ? _c : identity === null || identity === void 0 ? void 0 : identity.windowId) !== null && _d !== void 0 ? _d : shortid(),\r\n            disableAutoAppSystem: disableAutoAppSystem,\r\n            pagePerformanceMetrics: typeof config !== \"boolean\" ? config === null || config === void 0 ? void 0 : config.pagePerformanceMetrics : undefined\r\n        });\r\n        registerLib(\"metrics\", _metrics, initTimer);\r\n        return Promise.resolve();\r\n    }\r\n    function setupInterop() {\r\n        var initTimer = timer(\"interop\");\r\n        var agmConfig = {\r\n            connection: _connection,\r\n            logger: _logger.subLogger(\"interop\"),\r\n        };\r\n        _interop = new Interop(agmConfig);\r\n        Logger.Interop = _interop;\r\n        registerLib([\"interop\", \"agm\"], _interop, initTimer);\r\n        return Promise.resolve();\r\n    }\r\n    function setupContexts() {\r\n        var hasActivities = (internalConfig.activities && _connection.protocolVersion === 3);\r\n        var needsContexts = internalConfig.contexts || hasActivities;\r\n        if (needsContexts) {\r\n            var initTimer = timer(\"contexts\");\r\n            _contexts = new ContextsModule({\r\n                connection: _connection,\r\n                logger: _logger.subLogger(\"contexts\")\r\n            });\r\n            registerLib(\"contexts\", _contexts, initTimer);\r\n            return _contexts;\r\n        }\r\n        else {\r\n            var replayer = _connection.replayer;\r\n            if (replayer) {\r\n                replayer.drain(ContextMessageReplaySpec.name);\r\n            }\r\n        }\r\n    }\r\n    function setupBus() {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var initTimer;\r\n            return __generator(this, function (_a) {\r\n                if (!internalConfig.bus) {\r\n                    return [2, Promise.resolve()];\r\n                }\r\n                initTimer = timer(\"bus\");\r\n                _bus = new MessageBus(_connection, _logger.subLogger(\"bus\"));\r\n                registerLib(\"bus\", _bus, initTimer);\r\n                return [2, Promise.resolve()];\r\n            });\r\n        });\r\n    }\r\n    function setupExternalLibs(externalLibs) {\r\n        try {\r\n            externalLibs.forEach(function (lib) {\r\n                setupExternalLib(lib.name, lib.create);\r\n            });\r\n            return Promise.resolve();\r\n        }\r\n        catch (e) {\r\n            return Promise.reject(e);\r\n        }\r\n    }\r\n    function setupExternalLib(name, createCallback) {\r\n        var initTimer = timer(name);\r\n        var lib = createCallback(libs);\r\n        if (lib) {\r\n            registerLib(name, lib, initTimer);\r\n        }\r\n    }\r\n    function waitForLibs() {\r\n        var libsReadyPromises = Object.keys(libs).map(function (key) {\r\n            var lib = libs[key];\r\n            return lib.ready ?\r\n                lib.ready() : Promise.resolve();\r\n        });\r\n        return Promise.all(libsReadyPromises);\r\n    }\r\n    function constructGlueObject() {\r\n        var feedbackFunc = function (feedbackInfo) {\r\n            if (!_interop) {\r\n                return;\r\n            }\r\n            _interop.invoke(\"T42.ACS.Feedback\", feedbackInfo, \"best\");\r\n        };\r\n        var info = {\r\n            coreVersion: version,\r\n            version: internalConfig.version\r\n        };\r\n        glueInitTimer.stop();\r\n        var glue = {\r\n            feedback: feedbackFunc,\r\n            info: info,\r\n            logger: _logger,\r\n            interop: _interop,\r\n            agm: _interop,\r\n            connection: _connection,\r\n            metrics: _metrics,\r\n            contexts: _contexts,\r\n            bus: _bus,\r\n            version: internalConfig.version,\r\n            userConfig: userConfig,\r\n            done: function () {\r\n                _logger === null || _logger === void 0 ? void 0 : _logger.info(\"done called by user...\");\r\n                return _connection.logout();\r\n            }\r\n        };\r\n        glue.performance = {\r\n            get glueVer() {\r\n                return internalConfig.version;\r\n            },\r\n            get glueConfig() {\r\n                return JSON.stringify(userConfig);\r\n            },\r\n            get browser() {\r\n                return window.performance.timing.toJSON();\r\n            },\r\n            get memory() {\r\n                return window.performance.memory;\r\n            },\r\n            get initTimes() {\r\n                var all = getAllTimers();\r\n                return Object.keys(all).map(function (key) {\r\n                    var t = all[key];\r\n                    return {\r\n                        name: key,\r\n                        duration: t.endTime - t.startTime,\r\n                        marks: t.marks\r\n                    };\r\n                });\r\n            }\r\n        };\r\n        Object.keys(libs).forEach(function (key) {\r\n            var lib = libs[key];\r\n            glue[key] = lib;\r\n        });\r\n        glue.config = {};\r\n        Object.keys(internalConfig).forEach(function (k) {\r\n            glue.config[k] = internalConfig[k];\r\n        });\r\n        if (ext && ext.extOptions) {\r\n            Object.keys(ext.extOptions).forEach(function (k) {\r\n                glue.config[k] = ext === null || ext === void 0 ? void 0 : ext.extOptions[k];\r\n            });\r\n        }\r\n        if (ext === null || ext === void 0 ? void 0 : ext.enrichGlue) {\r\n            ext.enrichGlue(glue);\r\n        }\r\n        if (glue42gd && glue42gd.updatePerfData) {\r\n            glue42gd.updatePerfData(glue.performance);\r\n        }\r\n        if (glue.agm) {\r\n            var deprecatedDecorator = function (fn, wrong, proper) {\r\n                return function () {\r\n                    glue.logger.warn(\"glue.js - 'glue.agm.\" + wrong + \"' method is deprecated, use 'glue.interop.\" + proper + \"' instead.\");\r\n                    fn.apply(glue.agm, arguments);\r\n                };\r\n            };\r\n            var agmAny = glue.agm;\r\n            agmAny.method_added = deprecatedDecorator(glue.agm.methodAdded, \"method_added\", \"methodAdded\");\r\n            agmAny.method_removed = deprecatedDecorator(glue.agm.methodRemoved, \"method_removed\", \"methodRemoved\");\r\n            agmAny.server_added = deprecatedDecorator(glue.agm.serverAdded, \"server_added\", \"serverAdded\");\r\n            agmAny.server_method_aded = deprecatedDecorator(glue.agm.serverMethodAdded, \"server_method_aded\", \"serverMethodAdded\");\r\n            agmAny.server_method_removed = deprecatedDecorator(glue.agm.serverMethodRemoved, \"server_method_removed\", \"serverMethodRemoved\");\r\n        }\r\n        return glue;\r\n    }\r\n    return preloadPromise\r\n        .then(setupLogger)\r\n        .then(setupConnection)\r\n        .then(function () { return Promise.all([setupMetrics(), setupInterop(), setupContexts(), setupBus()]); })\r\n        .then(function () { return _interop.readyPromise; })\r\n        .then(function () {\r\n        return setupExternalLibs(internalConfig.libs || []);\r\n    })\r\n        .then(waitForLibs)\r\n        .then(constructGlueObject)\r\n        .catch(function (err) {\r\n        return Promise.reject({\r\n            err: err,\r\n            libs: libs\r\n        });\r\n    });\r\n};\r\nif (typeof window !== \"undefined\") {\r\n    window.GlueCore = GlueCore;\r\n}\r\nGlueCore.version = version;\r\nGlueCore.default = GlueCore;\n\nexport default GlueCore;\n//# sourceMappingURL=core.es.js.map\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\n/* eslint-disable @typescript-eslint/no-unused-vars */\r\n/* tslint:disable:no-console no-empty */\r\nimport { GlueCoreFactoryFunction } from \"@glue42/core\";\r\nimport { Glue42 } from \"@glue42/desktop\";\r\nimport { Glue42Web, GlueWebFactoryFunction } from \"../web\";\r\nimport { parseConfig } from \"./config\";\r\nimport { enterprise } from \"./enterprise\";\r\nimport { IoC } from \"./shared/ioc\";\r\nimport { PromiseWrap } from \"./shared/promise-plus\";\r\n\r\n/** This function creates the factory function which is the default export of the library */\r\nexport const createFactoryFunction = (coreFactoryFunction: GlueCoreFactoryFunction): GlueWebFactoryFunction => {\r\n\r\n    return async (userConfig?: Glue42Web.Config): Promise<Glue42Web.API | Glue42.Glue> => {\r\n\r\n        const config = parseConfig(userConfig);\r\n\r\n        if (window.glue42gd) {\r\n            return enterprise(config);\r\n        }\r\n\r\n        const glue = await PromiseWrap<Glue42Web.API>(() => coreFactoryFunction(config) as Promise<Glue42Web.API>, 30000, \"Glue Web initialization timed out\");\r\n\r\n        const logger = glue.logger.subLogger(\"web.main.controller\");\r\n\r\n        const ioc = new IoC(glue);\r\n\r\n        await ioc.bridge.start(ioc.controllers);\r\n        \r\n        logger.trace(\"the bridge has been started, initializing all controllers\");\r\n\r\n        await Promise.all(Object.values(ioc.controllers).map((controller) => controller.start(glue, ioc)));\r\n\r\n        logger.trace(\"all controllers reported started, starting all additional libraries\");\r\n\r\n        await Promise.all(config.libraries.map((lib: any) => lib(glue, config)));\r\n\r\n        logger.trace(\"all libraries were started, glue is ready, returning it\");\r\n\r\n        return glue;\r\n    };\r\n};\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\n/* eslint-disable @typescript-eslint/no-unused-vars */\r\nimport { Glue42 } from \"@glue42/desktop\";\r\n\r\nexport const enterprise = (config: any): Glue42.Glue => {\r\n    return {} as Glue42.Glue;\r\n};","/** @license React v17.0.1\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';require(\"object-assign\");var f=require(\"react\"),g=60103;exports.Fragment=60107;if(\"function\"===typeof Symbol&&Symbol.for){var h=Symbol.for;g=h(\"react.element\");exports.Fragment=h(\"react.fragment\")}var m=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n=Object.prototype.hasOwnProperty,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,k){var b,d={},e=null,l=null;void 0!==k&&(e=\"\"+k);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(l=a.ref);for(b in a)n.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:g,type:c,key:e,ref:l,props:d,_owner:m.current}}exports.jsx=q;exports.jsxs=q;\n","/** @license React v17.0.1\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var l=require(\"object-assign\"),n=60103,p=60106;exports.Fragment=60107;exports.StrictMode=60108;exports.Profiler=60114;var q=60109,r=60110,t=60112;exports.Suspense=60113;var u=60115,v=60116;\nif(\"function\"===typeof Symbol&&Symbol.for){var w=Symbol.for;n=w(\"react.element\");p=w(\"react.portal\");exports.Fragment=w(\"react.fragment\");exports.StrictMode=w(\"react.strict_mode\");exports.Profiler=w(\"react.profiler\");q=w(\"react.provider\");r=w(\"react.context\");t=w(\"react.forward_ref\");exports.Suspense=w(\"react.suspense\");u=w(\"react.memo\");v=w(\"react.lazy\")}var x=\"function\"===typeof Symbol&&Symbol.iterator;\nfunction y(a){if(null===a||\"object\"!==typeof a)return null;a=x&&a[x]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}function z(a){for(var b=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,c=1;c<arguments.length;c++)b+=\"&args[]=\"+encodeURIComponent(arguments[c]);return\"Minified React error #\"+a+\"; visit \"+b+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}\nvar A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B={};function C(a,b,c){this.props=a;this.context=b;this.refs=B;this.updater=c||A}C.prototype.isReactComponent={};C.prototype.setState=function(a,b){if(\"object\"!==typeof a&&\"function\"!==typeof a&&null!=a)throw Error(z(85));this.updater.enqueueSetState(this,a,b,\"setState\")};C.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,\"forceUpdate\")};\nfunction D(){}D.prototype=C.prototype;function E(a,b,c){this.props=a;this.context=b;this.refs=B;this.updater=c||A}var F=E.prototype=new D;F.constructor=E;l(F,C.prototype);F.isPureReactComponent=!0;var G={current:null},H=Object.prototype.hasOwnProperty,I={key:!0,ref:!0,__self:!0,__source:!0};\nfunction J(a,b,c){var e,d={},k=null,h=null;if(null!=b)for(e in void 0!==b.ref&&(h=b.ref),void 0!==b.key&&(k=\"\"+b.key),b)H.call(b,e)&&!I.hasOwnProperty(e)&&(d[e]=b[e]);var g=arguments.length-2;if(1===g)d.children=c;else if(1<g){for(var f=Array(g),m=0;m<g;m++)f[m]=arguments[m+2];d.children=f}if(a&&a.defaultProps)for(e in g=a.defaultProps,g)void 0===d[e]&&(d[e]=g[e]);return{$$typeof:n,type:a,key:k,ref:h,props:d,_owner:G.current}}\nfunction K(a,b){return{$$typeof:n,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}function L(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===n}function escape(a){var b={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+a.replace(/[=:]/g,function(a){return b[a]})}var M=/\\/+/g;function N(a,b){return\"object\"===typeof a&&null!==a&&null!=a.key?escape(\"\"+a.key):b.toString(36)}\nfunction O(a,b,c,e,d){var k=typeof a;if(\"undefined\"===k||\"boolean\"===k)a=null;var h=!1;if(null===a)h=!0;else switch(k){case \"string\":case \"number\":h=!0;break;case \"object\":switch(a.$$typeof){case n:case p:h=!0}}if(h)return h=a,d=d(h),a=\"\"===e?\".\"+N(h,0):e,Array.isArray(d)?(c=\"\",null!=a&&(c=a.replace(M,\"$&/\")+\"/\"),O(d,b,c,\"\",function(a){return a})):null!=d&&(L(d)&&(d=K(d,c+(!d.key||h&&h.key===d.key?\"\":(\"\"+d.key).replace(M,\"$&/\")+\"/\")+a)),b.push(d)),1;h=0;e=\"\"===e?\".\":e+\":\";if(Array.isArray(a))for(var g=\n0;g<a.length;g++){k=a[g];var f=e+N(k,g);h+=O(k,b,c,f,d)}else if(f=y(a),\"function\"===typeof f)for(a=f.call(a),g=0;!(k=a.next()).done;)k=k.value,f=e+N(k,g++),h+=O(k,b,c,f,d);else if(\"object\"===k)throw b=\"\"+a,Error(z(31,\"[object Object]\"===b?\"object with keys {\"+Object.keys(a).join(\", \")+\"}\":b));return h}function P(a,b,c){if(null==a)return a;var e=[],d=0;O(a,e,\"\",\"\",function(a){return b.call(c,a,d++)});return e}\nfunction Q(a){if(-1===a._status){var b=a._result;b=b();a._status=0;a._result=b;b.then(function(b){0===a._status&&(b=b.default,a._status=1,a._result=b)},function(b){0===a._status&&(a._status=2,a._result=b)})}if(1===a._status)return a._result;throw a._result;}var R={current:null};function S(){var a=R.current;if(null===a)throw Error(z(321));return a}var T={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:G,IsSomeRendererActing:{current:!1},assign:l};\nexports.Children={map:P,forEach:function(a,b,c){P(a,function(){b.apply(this,arguments)},c)},count:function(a){var b=0;P(a,function(){b++});return b},toArray:function(a){return P(a,function(a){return a})||[]},only:function(a){if(!L(a))throw Error(z(143));return a}};exports.Component=C;exports.PureComponent=E;exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T;\nexports.cloneElement=function(a,b,c){if(null===a||void 0===a)throw Error(z(267,a));var e=l({},a.props),d=a.key,k=a.ref,h=a._owner;if(null!=b){void 0!==b.ref&&(k=b.ref,h=G.current);void 0!==b.key&&(d=\"\"+b.key);if(a.type&&a.type.defaultProps)var g=a.type.defaultProps;for(f in b)H.call(b,f)&&!I.hasOwnProperty(f)&&(e[f]=void 0===b[f]&&void 0!==g?g[f]:b[f])}var f=arguments.length-2;if(1===f)e.children=c;else if(1<f){g=Array(f);for(var m=0;m<f;m++)g[m]=arguments[m+2];e.children=g}return{$$typeof:n,type:a.type,\nkey:d,ref:k,props:e,_owner:h}};exports.createContext=function(a,b){void 0===b&&(b=null);a={$$typeof:r,_calculateChangedBits:b,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null};a.Provider={$$typeof:q,_context:a};return a.Consumer=a};exports.createElement=J;exports.createFactory=function(a){var b=J.bind(null,a);b.type=a;return b};exports.createRef=function(){return{current:null}};exports.forwardRef=function(a){return{$$typeof:t,render:a}};exports.isValidElement=L;\nexports.lazy=function(a){return{$$typeof:v,_payload:{_status:-1,_result:a},_init:Q}};exports.memo=function(a,b){return{$$typeof:u,type:a,compare:void 0===b?null:b}};exports.useCallback=function(a,b){return S().useCallback(a,b)};exports.useContext=function(a,b){return S().useContext(a,b)};exports.useDebugValue=function(){};exports.useEffect=function(a,b){return S().useEffect(a,b)};exports.useImperativeHandle=function(a,b,c){return S().useImperativeHandle(a,b,c)};\nexports.useLayoutEffect=function(a,b){return S().useLayoutEffect(a,b)};exports.useMemo=function(a,b){return S().useMemo(a,b)};exports.useReducer=function(a,b,c){return S().useReducer(a,b,c)};exports.useRef=function(a){return S().useRef(a)};exports.useState=function(a){return S().useState(a)};exports.version=\"17.0.1\";\n","/** @license React v17.0.1\n * react-dom.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n/*\n Modernizr 3.0.0pre (Custom Build) | MIT\n*/\n'use strict';var aa=require(\"react\"),m=require(\"object-assign\"),r=require(\"scheduler\");function y(a){for(var b=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,c=1;c<arguments.length;c++)b+=\"&args[]=\"+encodeURIComponent(arguments[c]);return\"Minified React error #\"+a+\"; visit \"+b+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}if(!aa)throw Error(y(227));var ba=new Set,ca={};function da(a,b){ea(a,b);ea(a+\"Capture\",b)}\nfunction ea(a,b){ca[a]=b;for(a=0;a<b.length;a++)ba.add(b[a])}\nvar fa=!(\"undefined\"===typeof window||\"undefined\"===typeof window.document||\"undefined\"===typeof window.document.createElement),ha=/^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$/,ia=Object.prototype.hasOwnProperty,\nja={},ka={};function la(a){if(ia.call(ka,a))return!0;if(ia.call(ja,a))return!1;if(ha.test(a))return ka[a]=!0;ja[a]=!0;return!1}function ma(a,b,c,d){if(null!==c&&0===c.type)return!1;switch(typeof b){case \"function\":case \"symbol\":return!0;case \"boolean\":if(d)return!1;if(null!==c)return!c.acceptsBooleans;a=a.toLowerCase().slice(0,5);return\"data-\"!==a&&\"aria-\"!==a;default:return!1}}\nfunction na(a,b,c,d){if(null===b||\"undefined\"===typeof b||ma(a,b,c,d))return!0;if(d)return!1;if(null!==c)switch(c.type){case 3:return!b;case 4:return!1===b;case 5:return isNaN(b);case 6:return isNaN(b)||1>b}return!1}function B(a,b,c,d,e,f,g){this.acceptsBooleans=2===b||3===b||4===b;this.attributeName=d;this.attributeNamespace=e;this.mustUseProperty=c;this.propertyName=a;this.type=b;this.sanitizeURL=f;this.removeEmptyString=g}var D={};\n\"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style\".split(\" \").forEach(function(a){D[a]=new B(a,0,!1,a,null,!1,!1)});[[\"acceptCharset\",\"accept-charset\"],[\"className\",\"class\"],[\"htmlFor\",\"for\"],[\"httpEquiv\",\"http-equiv\"]].forEach(function(a){var b=a[0];D[b]=new B(b,1,!1,a[1],null,!1,!1)});[\"contentEditable\",\"draggable\",\"spellCheck\",\"value\"].forEach(function(a){D[a]=new B(a,2,!1,a.toLowerCase(),null,!1,!1)});\n[\"autoReverse\",\"externalResourcesRequired\",\"focusable\",\"preserveAlpha\"].forEach(function(a){D[a]=new B(a,2,!1,a,null,!1,!1)});\"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope\".split(\" \").forEach(function(a){D[a]=new B(a,3,!1,a.toLowerCase(),null,!1,!1)});\n[\"checked\",\"multiple\",\"muted\",\"selected\"].forEach(function(a){D[a]=new B(a,3,!0,a,null,!1,!1)});[\"capture\",\"download\"].forEach(function(a){D[a]=new B(a,4,!1,a,null,!1,!1)});[\"cols\",\"rows\",\"size\",\"span\"].forEach(function(a){D[a]=new B(a,6,!1,a,null,!1,!1)});[\"rowSpan\",\"start\"].forEach(function(a){D[a]=new B(a,5,!1,a.toLowerCase(),null,!1,!1)});var oa=/[\\-:]([a-z])/g;function pa(a){return a[1].toUpperCase()}\n\"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height\".split(\" \").forEach(function(a){var b=a.replace(oa,\npa);D[b]=new B(b,1,!1,a,null,!1,!1)});\"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type\".split(\" \").forEach(function(a){var b=a.replace(oa,pa);D[b]=new B(b,1,!1,a,\"http://www.w3.org/1999/xlink\",!1,!1)});[\"xml:base\",\"xml:lang\",\"xml:space\"].forEach(function(a){var b=a.replace(oa,pa);D[b]=new B(b,1,!1,a,\"http://www.w3.org/XML/1998/namespace\",!1,!1)});[\"tabIndex\",\"crossOrigin\"].forEach(function(a){D[a]=new B(a,1,!1,a.toLowerCase(),null,!1,!1)});\nD.xlinkHref=new B(\"xlinkHref\",1,!1,\"xlink:href\",\"http://www.w3.org/1999/xlink\",!0,!1);[\"src\",\"href\",\"action\",\"formAction\"].forEach(function(a){D[a]=new B(a,1,!1,a.toLowerCase(),null,!0,!0)});\nfunction qa(a,b,c,d){var e=D.hasOwnProperty(b)?D[b]:null;var f=null!==e?0===e.type:d?!1:!(2<b.length)||\"o\"!==b[0]&&\"O\"!==b[0]||\"n\"!==b[1]&&\"N\"!==b[1]?!1:!0;f||(na(b,c,e,d)&&(c=null),d||null===e?la(b)&&(null===c?a.removeAttribute(b):a.setAttribute(b,\"\"+c)):e.mustUseProperty?a[e.propertyName]=null===c?3===e.type?!1:\"\":c:(b=e.attributeName,d=e.attributeNamespace,null===c?a.removeAttribute(b):(e=e.type,c=3===e||4===e&&!0===c?\"\":\"\"+c,d?a.setAttributeNS(d,b,c):a.setAttribute(b,c))))}\nvar ra=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sa=60103,ta=60106,ua=60107,wa=60108,xa=60114,ya=60109,za=60110,Aa=60112,Ba=60113,Ca=60120,Da=60115,Ea=60116,Fa=60121,Ga=60128,Ha=60129,Ia=60130,Ja=60131;\nif(\"function\"===typeof Symbol&&Symbol.for){var E=Symbol.for;sa=E(\"react.element\");ta=E(\"react.portal\");ua=E(\"react.fragment\");wa=E(\"react.strict_mode\");xa=E(\"react.profiler\");ya=E(\"react.provider\");za=E(\"react.context\");Aa=E(\"react.forward_ref\");Ba=E(\"react.suspense\");Ca=E(\"react.suspense_list\");Da=E(\"react.memo\");Ea=E(\"react.lazy\");Fa=E(\"react.block\");E(\"react.scope\");Ga=E(\"react.opaque.id\");Ha=E(\"react.debug_trace_mode\");Ia=E(\"react.offscreen\");Ja=E(\"react.legacy_hidden\")}\nvar Ka=\"function\"===typeof Symbol&&Symbol.iterator;function La(a){if(null===a||\"object\"!==typeof a)return null;a=Ka&&a[Ka]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}var Ma;function Na(a){if(void 0===Ma)try{throw Error();}catch(c){var b=c.stack.trim().match(/\\n( *(at )?)/);Ma=b&&b[1]||\"\"}return\"\\n\"+Ma+a}var Oa=!1;\nfunction Pa(a,b){if(!a||Oa)return\"\";Oa=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(b)if(b=function(){throw Error();},Object.defineProperty(b.prototype,\"props\",{set:function(){throw Error();}}),\"object\"===typeof Reflect&&Reflect.construct){try{Reflect.construct(b,[])}catch(k){var d=k}Reflect.construct(a,[],b)}else{try{b.call()}catch(k){d=k}a.call(b.prototype)}else{try{throw Error();}catch(k){d=k}a()}}catch(k){if(k&&d&&\"string\"===typeof k.stack){for(var e=k.stack.split(\"\\n\"),\nf=d.stack.split(\"\\n\"),g=e.length-1,h=f.length-1;1<=g&&0<=h&&e[g]!==f[h];)h--;for(;1<=g&&0<=h;g--,h--)if(e[g]!==f[h]){if(1!==g||1!==h){do if(g--,h--,0>h||e[g]!==f[h])return\"\\n\"+e[g].replace(\" at new \",\" at \");while(1<=g&&0<=h)}break}}}finally{Oa=!1,Error.prepareStackTrace=c}return(a=a?a.displayName||a.name:\"\")?Na(a):\"\"}\nfunction Qa(a){switch(a.tag){case 5:return Na(a.type);case 16:return Na(\"Lazy\");case 13:return Na(\"Suspense\");case 19:return Na(\"SuspenseList\");case 0:case 2:case 15:return a=Pa(a.type,!1),a;case 11:return a=Pa(a.type.render,!1),a;case 22:return a=Pa(a.type._render,!1),a;case 1:return a=Pa(a.type,!0),a;default:return\"\"}}\nfunction Ra(a){if(null==a)return null;if(\"function\"===typeof a)return a.displayName||a.name||null;if(\"string\"===typeof a)return a;switch(a){case ua:return\"Fragment\";case ta:return\"Portal\";case xa:return\"Profiler\";case wa:return\"StrictMode\";case Ba:return\"Suspense\";case Ca:return\"SuspenseList\"}if(\"object\"===typeof a)switch(a.$$typeof){case za:return(a.displayName||\"Context\")+\".Consumer\";case ya:return(a._context.displayName||\"Context\")+\".Provider\";case Aa:var b=a.render;b=b.displayName||b.name||\"\";\nreturn a.displayName||(\"\"!==b?\"ForwardRef(\"+b+\")\":\"ForwardRef\");case Da:return Ra(a.type);case Fa:return Ra(a._render);case Ea:b=a._payload;a=a._init;try{return Ra(a(b))}catch(c){}}return null}function Sa(a){switch(typeof a){case \"boolean\":case \"number\":case \"object\":case \"string\":case \"undefined\":return a;default:return\"\"}}function Ta(a){var b=a.type;return(a=a.nodeName)&&\"input\"===a.toLowerCase()&&(\"checkbox\"===b||\"radio\"===b)}\nfunction Ua(a){var b=Ta(a)?\"checked\":\"value\",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,b),d=\"\"+a[b];if(!a.hasOwnProperty(b)&&\"undefined\"!==typeof c&&\"function\"===typeof c.get&&\"function\"===typeof c.set){var e=c.get,f=c.set;Object.defineProperty(a,b,{configurable:!0,get:function(){return e.call(this)},set:function(a){d=\"\"+a;f.call(this,a)}});Object.defineProperty(a,b,{enumerable:c.enumerable});return{getValue:function(){return d},setValue:function(a){d=\"\"+a},stopTracking:function(){a._valueTracker=\nnull;delete a[b]}}}}function Va(a){a._valueTracker||(a._valueTracker=Ua(a))}function Wa(a){if(!a)return!1;var b=a._valueTracker;if(!b)return!0;var c=b.getValue();var d=\"\";a&&(d=Ta(a)?a.checked?\"true\":\"false\":a.value);a=d;return a!==c?(b.setValue(a),!0):!1}function Xa(a){a=a||(\"undefined\"!==typeof document?document:void 0);if(\"undefined\"===typeof a)return null;try{return a.activeElement||a.body}catch(b){return a.body}}\nfunction Ya(a,b){var c=b.checked;return m({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=c?c:a._wrapperState.initialChecked})}function Za(a,b){var c=null==b.defaultValue?\"\":b.defaultValue,d=null!=b.checked?b.checked:b.defaultChecked;c=Sa(null!=b.value?b.value:c);a._wrapperState={initialChecked:d,initialValue:c,controlled:\"checkbox\"===b.type||\"radio\"===b.type?null!=b.checked:null!=b.value}}function $a(a,b){b=b.checked;null!=b&&qa(a,\"checked\",b,!1)}\nfunction ab(a,b){$a(a,b);var c=Sa(b.value),d=b.type;if(null!=c)if(\"number\"===d){if(0===c&&\"\"===a.value||a.value!=c)a.value=\"\"+c}else a.value!==\"\"+c&&(a.value=\"\"+c);else if(\"submit\"===d||\"reset\"===d){a.removeAttribute(\"value\");return}b.hasOwnProperty(\"value\")?bb(a,b.type,c):b.hasOwnProperty(\"defaultValue\")&&bb(a,b.type,Sa(b.defaultValue));null==b.checked&&null!=b.defaultChecked&&(a.defaultChecked=!!b.defaultChecked)}\nfunction cb(a,b,c){if(b.hasOwnProperty(\"value\")||b.hasOwnProperty(\"defaultValue\")){var d=b.type;if(!(\"submit\"!==d&&\"reset\"!==d||void 0!==b.value&&null!==b.value))return;b=\"\"+a._wrapperState.initialValue;c||b===a.value||(a.value=b);a.defaultValue=b}c=a.name;\"\"!==c&&(a.name=\"\");a.defaultChecked=!!a._wrapperState.initialChecked;\"\"!==c&&(a.name=c)}\nfunction bb(a,b,c){if(\"number\"!==b||Xa(a.ownerDocument)!==a)null==c?a.defaultValue=\"\"+a._wrapperState.initialValue:a.defaultValue!==\"\"+c&&(a.defaultValue=\"\"+c)}function db(a){var b=\"\";aa.Children.forEach(a,function(a){null!=a&&(b+=a)});return b}function eb(a,b){a=m({children:void 0},b);if(b=db(b.children))a.children=b;return a}\nfunction fb(a,b,c,d){a=a.options;if(b){b={};for(var e=0;e<c.length;e++)b[\"$\"+c[e]]=!0;for(c=0;c<a.length;c++)e=b.hasOwnProperty(\"$\"+a[c].value),a[c].selected!==e&&(a[c].selected=e),e&&d&&(a[c].defaultSelected=!0)}else{c=\"\"+Sa(c);b=null;for(e=0;e<a.length;e++){if(a[e].value===c){a[e].selected=!0;d&&(a[e].defaultSelected=!0);return}null!==b||a[e].disabled||(b=a[e])}null!==b&&(b.selected=!0)}}\nfunction gb(a,b){if(null!=b.dangerouslySetInnerHTML)throw Error(y(91));return m({},b,{value:void 0,defaultValue:void 0,children:\"\"+a._wrapperState.initialValue})}function hb(a,b){var c=b.value;if(null==c){c=b.children;b=b.defaultValue;if(null!=c){if(null!=b)throw Error(y(92));if(Array.isArray(c)){if(!(1>=c.length))throw Error(y(93));c=c[0]}b=c}null==b&&(b=\"\");c=b}a._wrapperState={initialValue:Sa(c)}}\nfunction ib(a,b){var c=Sa(b.value),d=Sa(b.defaultValue);null!=c&&(c=\"\"+c,c!==a.value&&(a.value=c),null==b.defaultValue&&a.defaultValue!==c&&(a.defaultValue=c));null!=d&&(a.defaultValue=\"\"+d)}function jb(a){var b=a.textContent;b===a._wrapperState.initialValue&&\"\"!==b&&null!==b&&(a.value=b)}var kb={html:\"http://www.w3.org/1999/xhtml\",mathml:\"http://www.w3.org/1998/Math/MathML\",svg:\"http://www.w3.org/2000/svg\"};\nfunction lb(a){switch(a){case \"svg\":return\"http://www.w3.org/2000/svg\";case \"math\":return\"http://www.w3.org/1998/Math/MathML\";default:return\"http://www.w3.org/1999/xhtml\"}}function mb(a,b){return null==a||\"http://www.w3.org/1999/xhtml\"===a?lb(b):\"http://www.w3.org/2000/svg\"===a&&\"foreignObject\"===b?\"http://www.w3.org/1999/xhtml\":a}\nvar nb,ob=function(a){return\"undefined\"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(b,c,d,e){MSApp.execUnsafeLocalFunction(function(){return a(b,c,d,e)})}:a}(function(a,b){if(a.namespaceURI!==kb.svg||\"innerHTML\"in a)a.innerHTML=b;else{nb=nb||document.createElement(\"div\");nb.innerHTML=\"<svg>\"+b.valueOf().toString()+\"</svg>\";for(b=nb.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;b.firstChild;)a.appendChild(b.firstChild)}});\nfunction pb(a,b){if(b){var c=a.firstChild;if(c&&c===a.lastChild&&3===c.nodeType){c.nodeValue=b;return}}a.textContent=b}\nvar qb={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,\nfloodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rb=[\"Webkit\",\"ms\",\"Moz\",\"O\"];Object.keys(qb).forEach(function(a){rb.forEach(function(b){b=b+a.charAt(0).toUpperCase()+a.substring(1);qb[b]=qb[a]})});function sb(a,b,c){return null==b||\"boolean\"===typeof b||\"\"===b?\"\":c||\"number\"!==typeof b||0===b||qb.hasOwnProperty(a)&&qb[a]?(\"\"+b).trim():b+\"px\"}\nfunction tb(a,b){a=a.style;for(var c in b)if(b.hasOwnProperty(c)){var d=0===c.indexOf(\"--\"),e=sb(c,b[c],d);\"float\"===c&&(c=\"cssFloat\");d?a.setProperty(c,e):a[c]=e}}var ub=m({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});\nfunction vb(a,b){if(b){if(ub[a]&&(null!=b.children||null!=b.dangerouslySetInnerHTML))throw Error(y(137,a));if(null!=b.dangerouslySetInnerHTML){if(null!=b.children)throw Error(y(60));if(!(\"object\"===typeof b.dangerouslySetInnerHTML&&\"__html\"in b.dangerouslySetInnerHTML))throw Error(y(61));}if(null!=b.style&&\"object\"!==typeof b.style)throw Error(y(62));}}\nfunction wb(a,b){if(-1===a.indexOf(\"-\"))return\"string\"===typeof b.is;switch(a){case \"annotation-xml\":case \"color-profile\":case \"font-face\":case \"font-face-src\":case \"font-face-uri\":case \"font-face-format\":case \"font-face-name\":case \"missing-glyph\":return!1;default:return!0}}function xb(a){a=a.target||a.srcElement||window;a.correspondingUseElement&&(a=a.correspondingUseElement);return 3===a.nodeType?a.parentNode:a}var yb=null,zb=null,Ab=null;\nfunction Bb(a){if(a=Cb(a)){if(\"function\"!==typeof yb)throw Error(y(280));var b=a.stateNode;b&&(b=Db(b),yb(a.stateNode,a.type,b))}}function Eb(a){zb?Ab?Ab.push(a):Ab=[a]:zb=a}function Fb(){if(zb){var a=zb,b=Ab;Ab=zb=null;Bb(a);if(b)for(a=0;a<b.length;a++)Bb(b[a])}}function Gb(a,b){return a(b)}function Hb(a,b,c,d,e){return a(b,c,d,e)}function Ib(){}var Jb=Gb,Kb=!1,Lb=!1;function Mb(){if(null!==zb||null!==Ab)Ib(),Fb()}\nfunction Nb(a,b,c){if(Lb)return a(b,c);Lb=!0;try{return Jb(a,b,c)}finally{Lb=!1,Mb()}}\nfunction Ob(a,b){var c=a.stateNode;if(null===c)return null;var d=Db(c);if(null===d)return null;c=d[b];a:switch(b){case \"onClick\":case \"onClickCapture\":case \"onDoubleClick\":case \"onDoubleClickCapture\":case \"onMouseDown\":case \"onMouseDownCapture\":case \"onMouseMove\":case \"onMouseMoveCapture\":case \"onMouseUp\":case \"onMouseUpCapture\":case \"onMouseEnter\":(d=!d.disabled)||(a=a.type,d=!(\"button\"===a||\"input\"===a||\"select\"===a||\"textarea\"===a));a=!d;break a;default:a=!1}if(a)return null;if(c&&\"function\"!==\ntypeof c)throw Error(y(231,b,typeof c));return c}var Pb=!1;if(fa)try{var Qb={};Object.defineProperty(Qb,\"passive\",{get:function(){Pb=!0}});window.addEventListener(\"test\",Qb,Qb);window.removeEventListener(\"test\",Qb,Qb)}catch(a){Pb=!1}function Rb(a,b,c,d,e,f,g,h,k){var l=Array.prototype.slice.call(arguments,3);try{b.apply(c,l)}catch(n){this.onError(n)}}var Sb=!1,Tb=null,Ub=!1,Vb=null,Wb={onError:function(a){Sb=!0;Tb=a}};function Xb(a,b,c,d,e,f,g,h,k){Sb=!1;Tb=null;Rb.apply(Wb,arguments)}\nfunction Yb(a,b,c,d,e,f,g,h,k){Xb.apply(this,arguments);if(Sb){if(Sb){var l=Tb;Sb=!1;Tb=null}else throw Error(y(198));Ub||(Ub=!0,Vb=l)}}function Zb(a){var b=a,c=a;if(a.alternate)for(;b.return;)b=b.return;else{a=b;do b=a,0!==(b.flags&1026)&&(c=b.return),a=b.return;while(a)}return 3===b.tag?c:null}function $b(a){if(13===a.tag){var b=a.memoizedState;null===b&&(a=a.alternate,null!==a&&(b=a.memoizedState));if(null!==b)return b.dehydrated}return null}function ac(a){if(Zb(a)!==a)throw Error(y(188));}\nfunction bc(a){var b=a.alternate;if(!b){b=Zb(a);if(null===b)throw Error(y(188));return b!==a?null:a}for(var c=a,d=b;;){var e=c.return;if(null===e)break;var f=e.alternate;if(null===f){d=e.return;if(null!==d){c=d;continue}break}if(e.child===f.child){for(f=e.child;f;){if(f===c)return ac(e),a;if(f===d)return ac(e),b;f=f.sibling}throw Error(y(188));}if(c.return!==d.return)c=e,d=f;else{for(var g=!1,h=e.child;h;){if(h===c){g=!0;c=e;d=f;break}if(h===d){g=!0;d=e;c=f;break}h=h.sibling}if(!g){for(h=f.child;h;){if(h===\nc){g=!0;c=f;d=e;break}if(h===d){g=!0;d=f;c=e;break}h=h.sibling}if(!g)throw Error(y(189));}}if(c.alternate!==d)throw Error(y(190));}if(3!==c.tag)throw Error(y(188));return c.stateNode.current===c?a:b}function cc(a){a=bc(a);if(!a)return null;for(var b=a;;){if(5===b.tag||6===b.tag)return b;if(b.child)b.child.return=b,b=b.child;else{if(b===a)break;for(;!b.sibling;){if(!b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}}return null}\nfunction dc(a,b){for(var c=a.alternate;null!==b;){if(b===a||b===c)return!0;b=b.return}return!1}var ec,fc,gc,hc,ic=!1,jc=[],kc=null,lc=null,mc=null,nc=new Map,oc=new Map,pc=[],qc=\"mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit\".split(\" \");\nfunction rc(a,b,c,d,e){return{blockedOn:a,domEventName:b,eventSystemFlags:c|16,nativeEvent:e,targetContainers:[d]}}function sc(a,b){switch(a){case \"focusin\":case \"focusout\":kc=null;break;case \"dragenter\":case \"dragleave\":lc=null;break;case \"mouseover\":case \"mouseout\":mc=null;break;case \"pointerover\":case \"pointerout\":nc.delete(b.pointerId);break;case \"gotpointercapture\":case \"lostpointercapture\":oc.delete(b.pointerId)}}\nfunction tc(a,b,c,d,e,f){if(null===a||a.nativeEvent!==f)return a=rc(b,c,d,e,f),null!==b&&(b=Cb(b),null!==b&&fc(b)),a;a.eventSystemFlags|=d;b=a.targetContainers;null!==e&&-1===b.indexOf(e)&&b.push(e);return a}\nfunction uc(a,b,c,d,e){switch(b){case \"focusin\":return kc=tc(kc,a,b,c,d,e),!0;case \"dragenter\":return lc=tc(lc,a,b,c,d,e),!0;case \"mouseover\":return mc=tc(mc,a,b,c,d,e),!0;case \"pointerover\":var f=e.pointerId;nc.set(f,tc(nc.get(f)||null,a,b,c,d,e));return!0;case \"gotpointercapture\":return f=e.pointerId,oc.set(f,tc(oc.get(f)||null,a,b,c,d,e)),!0}return!1}\nfunction vc(a){var b=wc(a.target);if(null!==b){var c=Zb(b);if(null!==c)if(b=c.tag,13===b){if(b=$b(c),null!==b){a.blockedOn=b;hc(a.lanePriority,function(){r.unstable_runWithPriority(a.priority,function(){gc(c)})});return}}else if(3===b&&c.stateNode.hydrate){a.blockedOn=3===c.tag?c.stateNode.containerInfo:null;return}}a.blockedOn=null}\nfunction xc(a){if(null!==a.blockedOn)return!1;for(var b=a.targetContainers;0<b.length;){var c=yc(a.domEventName,a.eventSystemFlags,b[0],a.nativeEvent);if(null!==c)return b=Cb(c),null!==b&&fc(b),a.blockedOn=c,!1;b.shift()}return!0}function zc(a,b,c){xc(a)&&c.delete(b)}\nfunction Ac(){for(ic=!1;0<jc.length;){var a=jc[0];if(null!==a.blockedOn){a=Cb(a.blockedOn);null!==a&&ec(a);break}for(var b=a.targetContainers;0<b.length;){var c=yc(a.domEventName,a.eventSystemFlags,b[0],a.nativeEvent);if(null!==c){a.blockedOn=c;break}b.shift()}null===a.blockedOn&&jc.shift()}null!==kc&&xc(kc)&&(kc=null);null!==lc&&xc(lc)&&(lc=null);null!==mc&&xc(mc)&&(mc=null);nc.forEach(zc);oc.forEach(zc)}\nfunction Bc(a,b){a.blockedOn===b&&(a.blockedOn=null,ic||(ic=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ac)))}\nfunction Cc(a){function b(b){return Bc(b,a)}if(0<jc.length){Bc(jc[0],a);for(var c=1;c<jc.length;c++){var d=jc[c];d.blockedOn===a&&(d.blockedOn=null)}}null!==kc&&Bc(kc,a);null!==lc&&Bc(lc,a);null!==mc&&Bc(mc,a);nc.forEach(b);oc.forEach(b);for(c=0;c<pc.length;c++)d=pc[c],d.blockedOn===a&&(d.blockedOn=null);for(;0<pc.length&&(c=pc[0],null===c.blockedOn);)vc(c),null===c.blockedOn&&pc.shift()}\nfunction Dc(a,b){var c={};c[a.toLowerCase()]=b.toLowerCase();c[\"Webkit\"+a]=\"webkit\"+b;c[\"Moz\"+a]=\"moz\"+b;return c}var Ec={animationend:Dc(\"Animation\",\"AnimationEnd\"),animationiteration:Dc(\"Animation\",\"AnimationIteration\"),animationstart:Dc(\"Animation\",\"AnimationStart\"),transitionend:Dc(\"Transition\",\"TransitionEnd\")},Fc={},Gc={};\nfa&&(Gc=document.createElement(\"div\").style,\"AnimationEvent\"in window||(delete Ec.animationend.animation,delete Ec.animationiteration.animation,delete Ec.animationstart.animation),\"TransitionEvent\"in window||delete Ec.transitionend.transition);function Hc(a){if(Fc[a])return Fc[a];if(!Ec[a])return a;var b=Ec[a],c;for(c in b)if(b.hasOwnProperty(c)&&c in Gc)return Fc[a]=b[c];return a}\nvar Ic=Hc(\"animationend\"),Jc=Hc(\"animationiteration\"),Kc=Hc(\"animationstart\"),Lc=Hc(\"transitionend\"),Mc=new Map,Nc=new Map,Oc=[\"abort\",\"abort\",Ic,\"animationEnd\",Jc,\"animationIteration\",Kc,\"animationStart\",\"canplay\",\"canPlay\",\"canplaythrough\",\"canPlayThrough\",\"durationchange\",\"durationChange\",\"emptied\",\"emptied\",\"encrypted\",\"encrypted\",\"ended\",\"ended\",\"error\",\"error\",\"gotpointercapture\",\"gotPointerCapture\",\"load\",\"load\",\"loadeddata\",\"loadedData\",\"loadedmetadata\",\"loadedMetadata\",\"loadstart\",\"loadStart\",\n\"lostpointercapture\",\"lostPointerCapture\",\"playing\",\"playing\",\"progress\",\"progress\",\"seeking\",\"seeking\",\"stalled\",\"stalled\",\"suspend\",\"suspend\",\"timeupdate\",\"timeUpdate\",Lc,\"transitionEnd\",\"waiting\",\"waiting\"];function Pc(a,b){for(var c=0;c<a.length;c+=2){var d=a[c],e=a[c+1];e=\"on\"+(e[0].toUpperCase()+e.slice(1));Nc.set(d,b);Mc.set(d,e);da(e,[d])}}var Qc=r.unstable_now;Qc();var F=8;\nfunction Rc(a){if(0!==(1&a))return F=15,1;if(0!==(2&a))return F=14,2;if(0!==(4&a))return F=13,4;var b=24&a;if(0!==b)return F=12,b;if(0!==(a&32))return F=11,32;b=192&a;if(0!==b)return F=10,b;if(0!==(a&256))return F=9,256;b=3584&a;if(0!==b)return F=8,b;if(0!==(a&4096))return F=7,4096;b=4186112&a;if(0!==b)return F=6,b;b=62914560&a;if(0!==b)return F=5,b;if(a&67108864)return F=4,67108864;if(0!==(a&134217728))return F=3,134217728;b=805306368&a;if(0!==b)return F=2,b;if(0!==(1073741824&a))return F=1,1073741824;\nF=8;return a}function Sc(a){switch(a){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function Tc(a){switch(a){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(y(358,a));}}\nfunction Uc(a,b){var c=a.pendingLanes;if(0===c)return F=0;var d=0,e=0,f=a.expiredLanes,g=a.suspendedLanes,h=a.pingedLanes;if(0!==f)d=f,e=F=15;else if(f=c&134217727,0!==f){var k=f&~g;0!==k?(d=Rc(k),e=F):(h&=f,0!==h&&(d=Rc(h),e=F))}else f=c&~g,0!==f?(d=Rc(f),e=F):0!==h&&(d=Rc(h),e=F);if(0===d)return 0;d=31-Vc(d);d=c&((0>d?0:1<<d)<<1)-1;if(0!==b&&b!==d&&0===(b&g)){Rc(b);if(e<=F)return b;F=e}b=a.entangledLanes;if(0!==b)for(a=a.entanglements,b&=d;0<b;)c=31-Vc(b),e=1<<c,d|=a[c],b&=~e;return d}\nfunction Wc(a){a=a.pendingLanes&-1073741825;return 0!==a?a:a&1073741824?1073741824:0}function Xc(a,b){switch(a){case 15:return 1;case 14:return 2;case 12:return a=Yc(24&~b),0===a?Xc(10,b):a;case 10:return a=Yc(192&~b),0===a?Xc(8,b):a;case 8:return a=Yc(3584&~b),0===a&&(a=Yc(4186112&~b),0===a&&(a=512)),a;case 2:return b=Yc(805306368&~b),0===b&&(b=268435456),b}throw Error(y(358,a));}function Yc(a){return a&-a}function Zc(a){for(var b=[],c=0;31>c;c++)b.push(a);return b}\nfunction $c(a,b,c){a.pendingLanes|=b;var d=b-1;a.suspendedLanes&=d;a.pingedLanes&=d;a=a.eventTimes;b=31-Vc(b);a[b]=c}var Vc=Math.clz32?Math.clz32:ad,bd=Math.log,cd=Math.LN2;function ad(a){return 0===a?32:31-(bd(a)/cd|0)|0}var dd=r.unstable_UserBlockingPriority,ed=r.unstable_runWithPriority,fd=!0;function gd(a,b,c,d){Kb||Ib();var e=hd,f=Kb;Kb=!0;try{Hb(e,a,b,c,d)}finally{(Kb=f)||Mb()}}function id(a,b,c,d){ed(dd,hd.bind(null,a,b,c,d))}\nfunction hd(a,b,c,d){if(fd){var e;if((e=0===(b&4))&&0<jc.length&&-1<qc.indexOf(a))a=rc(null,a,b,c,d),jc.push(a);else{var f=yc(a,b,c,d);if(null===f)e&&sc(a,d);else{if(e){if(-1<qc.indexOf(a)){a=rc(f,a,b,c,d);jc.push(a);return}if(uc(f,a,b,c,d))return;sc(a,d)}jd(a,b,d,null,c)}}}}\nfunction yc(a,b,c,d){var e=xb(d);e=wc(e);if(null!==e){var f=Zb(e);if(null===f)e=null;else{var g=f.tag;if(13===g){e=$b(f);if(null!==e)return e;e=null}else if(3===g){if(f.stateNode.hydrate)return 3===f.tag?f.stateNode.containerInfo:null;e=null}else f!==e&&(e=null)}}jd(a,b,d,e,c);return null}var kd=null,ld=null,md=null;\nfunction nd(){if(md)return md;var a,b=ld,c=b.length,d,e=\"value\"in kd?kd.value:kd.textContent,f=e.length;for(a=0;a<c&&b[a]===e[a];a++);var g=c-a;for(d=1;d<=g&&b[c-d]===e[f-d];d++);return md=e.slice(a,1<d?1-d:void 0)}function od(a){var b=a.keyCode;\"charCode\"in a?(a=a.charCode,0===a&&13===b&&(a=13)):a=b;10===a&&(a=13);return 32<=a||13===a?a:0}function pd(){return!0}function qd(){return!1}\nfunction rd(a){function b(b,d,e,f,g){this._reactName=b;this._targetInst=e;this.type=d;this.nativeEvent=f;this.target=g;this.currentTarget=null;for(var c in a)a.hasOwnProperty(c)&&(b=a[c],this[c]=b?b(f):f[c]);this.isDefaultPrevented=(null!=f.defaultPrevented?f.defaultPrevented:!1===f.returnValue)?pd:qd;this.isPropagationStopped=qd;return this}m(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():\"unknown\"!==typeof a.returnValue&&\n(a.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():\"unknown\"!==typeof a.cancelBubble&&(a.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd});return b}\nvar sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=m({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=m({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(a){return void 0===a.relatedTarget?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){if(\"movementX\"in\na)return a.movementX;a!==yd&&(yd&&\"mousemove\"===a.type?(wd=a.screenX-yd.screenX,xd=a.screenY-yd.screenY):xd=wd=0,yd=a);return wd},movementY:function(a){return\"movementY\"in a?a.movementY:xd}}),Bd=rd(Ad),Cd=m({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=m({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=m({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=m({},sd,{clipboardData:function(a){return\"clipboardData\"in a?a.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=m({},sd,{data:0}),Ld=rd(Kd),Md={Esc:\"Escape\",\nSpacebar:\" \",Left:\"ArrowLeft\",Up:\"ArrowUp\",Right:\"ArrowRight\",Down:\"ArrowDown\",Del:\"Delete\",Win:\"OS\",Menu:\"ContextMenu\",Apps:\"ContextMenu\",Scroll:\"ScrollLock\",MozPrintableKey:\"Unidentified\"},Nd={8:\"Backspace\",9:\"Tab\",12:\"Clear\",13:\"Enter\",16:\"Shift\",17:\"Control\",18:\"Alt\",19:\"Pause\",20:\"CapsLock\",27:\"Escape\",32:\" \",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"ArrowLeft\",38:\"ArrowUp\",39:\"ArrowRight\",40:\"ArrowDown\",45:\"Insert\",46:\"Delete\",112:\"F1\",113:\"F2\",114:\"F3\",115:\"F4\",116:\"F5\",117:\"F6\",118:\"F7\",\n119:\"F8\",120:\"F9\",121:\"F10\",122:\"F11\",123:\"F12\",144:\"NumLock\",145:\"ScrollLock\",224:\"Meta\"},Od={Alt:\"altKey\",Control:\"ctrlKey\",Meta:\"metaKey\",Shift:\"shiftKey\"};function Pd(a){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(a):(a=Od[a])?!!b[a]:!1}function zd(){return Pd}\nvar Qd=m({},ud,{key:function(a){if(a.key){var b=Md[a.key]||a.key;if(\"Unidentified\"!==b)return b}return\"keypress\"===a.type?(a=od(a),13===a?\"Enter\":String.fromCharCode(a)):\"keydown\"===a.type||\"keyup\"===a.type?Nd[a.keyCode]||\"Unidentified\":\"\"},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(a){return\"keypress\"===a.type?od(a):0},keyCode:function(a){return\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0},which:function(a){return\"keypress\"===\na.type?od(a):\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0}}),Rd=rd(Qd),Sd=m({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=m({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=m({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=m({},Ad,{deltaX:function(a){return\"deltaX\"in a?a.deltaX:\"wheelDeltaX\"in a?-a.wheelDeltaX:0},\ndeltaY:function(a){return\"deltaY\"in a?a.deltaY:\"wheelDeltaY\"in a?-a.wheelDeltaY:\"wheelDelta\"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=fa&&\"CompositionEvent\"in window,be=null;fa&&\"documentMode\"in document&&(be=document.documentMode);var ce=fa&&\"TextEvent\"in window&&!be,de=fa&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;\nfunction ge(a,b){switch(a){case \"keyup\":return-1!==$d.indexOf(b.keyCode);case \"keydown\":return 229!==b.keyCode;case \"keypress\":case \"mousedown\":case \"focusout\":return!0;default:return!1}}function he(a){a=a.detail;return\"object\"===typeof a&&\"data\"in a?a.data:null}var ie=!1;function je(a,b){switch(a){case \"compositionend\":return he(b);case \"keypress\":if(32!==b.which)return null;fe=!0;return ee;case \"textInput\":return a=b.data,a===ee&&fe?null:a;default:return null}}\nfunction ke(a,b){if(ie)return\"compositionend\"===a||!ae&&ge(a,b)?(a=nd(),md=ld=kd=null,ie=!1,a):null;switch(a){case \"paste\":return null;case \"keypress\":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case \"compositionend\":return de&&\"ko\"!==b.locale?null:b.data;default:return null}}\nvar le={color:!0,date:!0,datetime:!0,\"datetime-local\":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return\"input\"===b?!!le[a.type]:\"textarea\"===b?!0:!1}function ne(a,b,c,d){Eb(d);b=oe(b,\"onChange\");0<b.length&&(c=new td(\"onChange\",\"change\",null,c,d),a.push({event:c,listeners:b}))}var pe=null,qe=null;function re(a){se(a,0)}function te(a){var b=ue(a);if(Wa(b))return a}\nfunction ve(a,b){if(\"change\"===a)return b}var we=!1;if(fa){var xe;if(fa){var ye=\"oninput\"in document;if(!ye){var ze=document.createElement(\"div\");ze.setAttribute(\"oninput\",\"return;\");ye=\"function\"===typeof ze.oninput}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent(\"onpropertychange\",Be),qe=pe=null)}function Be(a){if(\"value\"===a.propertyName&&te(qe)){var b=[];ne(b,qe,a,xb(a));a=re;if(Kb)a(b);else{Kb=!0;try{Gb(a,b)}finally{Kb=!1,Mb()}}}}\nfunction Ce(a,b,c){\"focusin\"===a?(Ae(),pe=b,qe=c,pe.attachEvent(\"onpropertychange\",Be)):\"focusout\"===a&&Ae()}function De(a){if(\"selectionchange\"===a||\"keyup\"===a||\"keydown\"===a)return te(qe)}function Ee(a,b){if(\"click\"===a)return te(b)}function Fe(a,b){if(\"input\"===a||\"change\"===a)return te(b)}function Ge(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var He=\"function\"===typeof Object.is?Object.is:Ge,Ie=Object.prototype.hasOwnProperty;\nfunction Je(a,b){if(He(a,b))return!0;if(\"object\"!==typeof a||null===a||\"object\"!==typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++)if(!Ie.call(b,c[d])||!He(a[c[d]],b[c[d]]))return!1;return!0}function Ke(a){for(;a&&a.firstChild;)a=a.firstChild;return a}\nfunction Le(a,b){var c=Ke(a);a=0;for(var d;c;){if(3===c.nodeType){d=a+c.textContent.length;if(a<=b&&d>=b)return{node:c,offset:b-a};a=d}a:{for(;c;){if(c.nextSibling){c=c.nextSibling;break a}c=c.parentNode}c=void 0}c=Ke(c)}}function Me(a,b){return a&&b?a===b?!0:a&&3===a.nodeType?!1:b&&3===b.nodeType?Me(a,b.parentNode):\"contains\"in a?a.contains(b):a.compareDocumentPosition?!!(a.compareDocumentPosition(b)&16):!1:!1}\nfunction Ne(){for(var a=window,b=Xa();b instanceof a.HTMLIFrameElement;){try{var c=\"string\"===typeof b.contentWindow.location.href}catch(d){c=!1}if(c)a=b.contentWindow;else break;b=Xa(a.document)}return b}function Oe(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&(\"input\"===b&&(\"text\"===a.type||\"search\"===a.type||\"tel\"===a.type||\"url\"===a.type||\"password\"===a.type)||\"textarea\"===b||\"true\"===a.contentEditable)}\nvar Pe=fa&&\"documentMode\"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;\nfunction Ue(a,b,c){var d=c.window===c?c.document:9===c.nodeType?c:c.ownerDocument;Te||null==Qe||Qe!==Xa(d)||(d=Qe,\"selectionStart\"in d&&Oe(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Se&&Je(Se,d)||(Se=d,d=oe(Re,\"onSelect\"),0<d.length&&(b=new td(\"onSelect\",\"select\",null,b,c),a.push({event:b,listeners:d}),b.target=Qe)))}\nPc(\"cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange\".split(\" \"),\n0);Pc(\"drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel\".split(\" \"),1);Pc(Oc,2);for(var Ve=\"change selectionchange textInput compositionstart compositionend compositionupdate\".split(\" \"),We=0;We<Ve.length;We++)Nc.set(Ve[We],0);ea(\"onMouseEnter\",[\"mouseout\",\"mouseover\"]);\nea(\"onMouseLeave\",[\"mouseout\",\"mouseover\"]);ea(\"onPointerEnter\",[\"pointerout\",\"pointerover\"]);ea(\"onPointerLeave\",[\"pointerout\",\"pointerover\"]);da(\"onChange\",\"change click focusin focusout input keydown keyup selectionchange\".split(\" \"));da(\"onSelect\",\"focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange\".split(\" \"));da(\"onBeforeInput\",[\"compositionend\",\"keypress\",\"textInput\",\"paste\"]);da(\"onCompositionEnd\",\"compositionend focusout keydown keypress keyup mousedown\".split(\" \"));\nda(\"onCompositionStart\",\"compositionstart focusout keydown keypress keyup mousedown\".split(\" \"));da(\"onCompositionUpdate\",\"compositionupdate focusout keydown keypress keyup mousedown\".split(\" \"));var Xe=\"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting\".split(\" \"),Ye=new Set(\"cancel close invalid load scroll toggle\".split(\" \").concat(Xe));\nfunction Ze(a,b,c){var d=a.type||\"unknown-event\";a.currentTarget=c;Yb(d,b,void 0,a);a.currentTarget=null}\nfunction se(a,b){b=0!==(b&4);for(var c=0;c<a.length;c++){var d=a[c],e=d.event;d=d.listeners;a:{var f=void 0;if(b)for(var g=d.length-1;0<=g;g--){var h=d[g],k=h.instance,l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;Ze(e,h,l);f=k}else for(g=0;g<d.length;g++){h=d[g];k=h.instance;l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;Ze(e,h,l);f=k}}}if(Ub)throw a=Vb,Ub=!1,Vb=null,a;}\nfunction G(a,b){var c=$e(b),d=a+\"__bubble\";c.has(d)||(af(b,a,2,!1),c.add(d))}var bf=\"_reactListening\"+Math.random().toString(36).slice(2);function cf(a){a[bf]||(a[bf]=!0,ba.forEach(function(b){Ye.has(b)||df(b,!1,a,null);df(b,!0,a,null)}))}\nfunction df(a,b,c,d){var e=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,f=c;\"selectionchange\"===a&&9!==c.nodeType&&(f=c.ownerDocument);if(null!==d&&!b&&Ye.has(a)){if(\"scroll\"!==a)return;e|=2;f=d}var g=$e(f),h=a+\"__\"+(b?\"capture\":\"bubble\");g.has(h)||(b&&(e|=4),af(f,a,e,b),g.add(h))}\nfunction af(a,b,c,d){var e=Nc.get(b);switch(void 0===e?2:e){case 0:e=gd;break;case 1:e=id;break;default:e=hd}c=e.bind(null,b,c,a);e=void 0;!Pb||\"touchstart\"!==b&&\"touchmove\"!==b&&\"wheel\"!==b||(e=!0);d?void 0!==e?a.addEventListener(b,c,{capture:!0,passive:e}):a.addEventListener(b,c,!0):void 0!==e?a.addEventListener(b,c,{passive:e}):a.addEventListener(b,c,!1)}\nfunction jd(a,b,c,d,e){var f=d;if(0===(b&1)&&0===(b&2)&&null!==d)a:for(;;){if(null===d)return;var g=d.tag;if(3===g||4===g){var h=d.stateNode.containerInfo;if(h===e||8===h.nodeType&&h.parentNode===e)break;if(4===g)for(g=d.return;null!==g;){var k=g.tag;if(3===k||4===k)if(k=g.stateNode.containerInfo,k===e||8===k.nodeType&&k.parentNode===e)return;g=g.return}for(;null!==h;){g=wc(h);if(null===g)return;k=g.tag;if(5===k||6===k){d=f=g;continue a}h=h.parentNode}}d=d.return}Nb(function(){var d=f,e=xb(c),g=[];\na:{var h=Mc.get(a);if(void 0!==h){var k=td,x=a;switch(a){case \"keypress\":if(0===od(c))break a;case \"keydown\":case \"keyup\":k=Rd;break;case \"focusin\":x=\"focus\";k=Fd;break;case \"focusout\":x=\"blur\";k=Fd;break;case \"beforeblur\":case \"afterblur\":k=Fd;break;case \"click\":if(2===c.button)break a;case \"auxclick\":case \"dblclick\":case \"mousedown\":case \"mousemove\":case \"mouseup\":case \"mouseout\":case \"mouseover\":case \"contextmenu\":k=Bd;break;case \"drag\":case \"dragend\":case \"dragenter\":case \"dragexit\":case \"dragleave\":case \"dragover\":case \"dragstart\":case \"drop\":k=\nDd;break;case \"touchcancel\":case \"touchend\":case \"touchmove\":case \"touchstart\":k=Vd;break;case Ic:case Jc:case Kc:k=Hd;break;case Lc:k=Xd;break;case \"scroll\":k=vd;break;case \"wheel\":k=Zd;break;case \"copy\":case \"cut\":case \"paste\":k=Jd;break;case \"gotpointercapture\":case \"lostpointercapture\":case \"pointercancel\":case \"pointerdown\":case \"pointermove\":case \"pointerout\":case \"pointerover\":case \"pointerup\":k=Td}var w=0!==(b&4),z=!w&&\"scroll\"===a,u=w?null!==h?h+\"Capture\":null:h;w=[];for(var t=d,q;null!==\nt;){q=t;var v=q.stateNode;5===q.tag&&null!==v&&(q=v,null!==u&&(v=Ob(t,u),null!=v&&w.push(ef(t,v,q))));if(z)break;t=t.return}0<w.length&&(h=new k(h,x,null,c,e),g.push({event:h,listeners:w}))}}if(0===(b&7)){a:{h=\"mouseover\"===a||\"pointerover\"===a;k=\"mouseout\"===a||\"pointerout\"===a;if(h&&0===(b&16)&&(x=c.relatedTarget||c.fromElement)&&(wc(x)||x[ff]))break a;if(k||h){h=e.window===e?e:(h=e.ownerDocument)?h.defaultView||h.parentWindow:window;if(k){if(x=c.relatedTarget||c.toElement,k=d,x=x?wc(x):null,null!==\nx&&(z=Zb(x),x!==z||5!==x.tag&&6!==x.tag))x=null}else k=null,x=d;if(k!==x){w=Bd;v=\"onMouseLeave\";u=\"onMouseEnter\";t=\"mouse\";if(\"pointerout\"===a||\"pointerover\"===a)w=Td,v=\"onPointerLeave\",u=\"onPointerEnter\",t=\"pointer\";z=null==k?h:ue(k);q=null==x?h:ue(x);h=new w(v,t+\"leave\",k,c,e);h.target=z;h.relatedTarget=q;v=null;wc(e)===d&&(w=new w(u,t+\"enter\",x,c,e),w.target=q,w.relatedTarget=z,v=w);z=v;if(k&&x)b:{w=k;u=x;t=0;for(q=w;q;q=gf(q))t++;q=0;for(v=u;v;v=gf(v))q++;for(;0<t-q;)w=gf(w),t--;for(;0<q-t;)u=\ngf(u),q--;for(;t--;){if(w===u||null!==u&&w===u.alternate)break b;w=gf(w);u=gf(u)}w=null}else w=null;null!==k&&hf(g,h,k,w,!1);null!==x&&null!==z&&hf(g,z,x,w,!0)}}}a:{h=d?ue(d):window;k=h.nodeName&&h.nodeName.toLowerCase();if(\"select\"===k||\"input\"===k&&\"file\"===h.type)var J=ve;else if(me(h))if(we)J=Fe;else{J=De;var K=Ce}else(k=h.nodeName)&&\"input\"===k.toLowerCase()&&(\"checkbox\"===h.type||\"radio\"===h.type)&&(J=Ee);if(J&&(J=J(a,d))){ne(g,J,c,e);break a}K&&K(a,h,d);\"focusout\"===a&&(K=h._wrapperState)&&\nK.controlled&&\"number\"===h.type&&bb(h,\"number\",h.value)}K=d?ue(d):window;switch(a){case \"focusin\":if(me(K)||\"true\"===K.contentEditable)Qe=K,Re=d,Se=null;break;case \"focusout\":Se=Re=Qe=null;break;case \"mousedown\":Te=!0;break;case \"contextmenu\":case \"mouseup\":case \"dragend\":Te=!1;Ue(g,c,e);break;case \"selectionchange\":if(Pe)break;case \"keydown\":case \"keyup\":Ue(g,c,e)}var Q;if(ae)b:{switch(a){case \"compositionstart\":var L=\"onCompositionStart\";break b;case \"compositionend\":L=\"onCompositionEnd\";break b;\ncase \"compositionupdate\":L=\"onCompositionUpdate\";break b}L=void 0}else ie?ge(a,c)&&(L=\"onCompositionEnd\"):\"keydown\"===a&&229===c.keyCode&&(L=\"onCompositionStart\");L&&(de&&\"ko\"!==c.locale&&(ie||\"onCompositionStart\"!==L?\"onCompositionEnd\"===L&&ie&&(Q=nd()):(kd=e,ld=\"value\"in kd?kd.value:kd.textContent,ie=!0)),K=oe(d,L),0<K.length&&(L=new Ld(L,a,null,c,e),g.push({event:L,listeners:K}),Q?L.data=Q:(Q=he(c),null!==Q&&(L.data=Q))));if(Q=ce?je(a,c):ke(a,c))d=oe(d,\"onBeforeInput\"),0<d.length&&(e=new Ld(\"onBeforeInput\",\n\"beforeinput\",null,c,e),g.push({event:e,listeners:d}),e.data=Q)}se(g,b)})}function ef(a,b,c){return{instance:a,listener:b,currentTarget:c}}function oe(a,b){for(var c=b+\"Capture\",d=[];null!==a;){var e=a,f=e.stateNode;5===e.tag&&null!==f&&(e=f,f=Ob(a,c),null!=f&&d.unshift(ef(a,f,e)),f=Ob(a,b),null!=f&&d.push(ef(a,f,e)));a=a.return}return d}function gf(a){if(null===a)return null;do a=a.return;while(a&&5!==a.tag);return a?a:null}\nfunction hf(a,b,c,d,e){for(var f=b._reactName,g=[];null!==c&&c!==d;){var h=c,k=h.alternate,l=h.stateNode;if(null!==k&&k===d)break;5===h.tag&&null!==l&&(h=l,e?(k=Ob(c,f),null!=k&&g.unshift(ef(c,k,h))):e||(k=Ob(c,f),null!=k&&g.push(ef(c,k,h))));c=c.return}0!==g.length&&a.push({event:b,listeners:g})}function jf(){}var kf=null,lf=null;function mf(a,b){switch(a){case \"button\":case \"input\":case \"select\":case \"textarea\":return!!b.autoFocus}return!1}\nfunction nf(a,b){return\"textarea\"===a||\"option\"===a||\"noscript\"===a||\"string\"===typeof b.children||\"number\"===typeof b.children||\"object\"===typeof b.dangerouslySetInnerHTML&&null!==b.dangerouslySetInnerHTML&&null!=b.dangerouslySetInnerHTML.__html}var of=\"function\"===typeof setTimeout?setTimeout:void 0,pf=\"function\"===typeof clearTimeout?clearTimeout:void 0;function qf(a){1===a.nodeType?a.textContent=\"\":9===a.nodeType&&(a=a.body,null!=a&&(a.textContent=\"\"))}\nfunction rf(a){for(;null!=a;a=a.nextSibling){var b=a.nodeType;if(1===b||3===b)break}return a}function sf(a){a=a.previousSibling;for(var b=0;a;){if(8===a.nodeType){var c=a.data;if(\"$\"===c||\"$!\"===c||\"$?\"===c){if(0===b)return a;b--}else\"/$\"===c&&b++}a=a.previousSibling}return null}var tf=0;function uf(a){return{$$typeof:Ga,toString:a,valueOf:a}}var vf=Math.random().toString(36).slice(2),wf=\"__reactFiber$\"+vf,xf=\"__reactProps$\"+vf,ff=\"__reactContainer$\"+vf,yf=\"__reactEvents$\"+vf;\nfunction wc(a){var b=a[wf];if(b)return b;for(var c=a.parentNode;c;){if(b=c[ff]||c[wf]){c=b.alternate;if(null!==b.child||null!==c&&null!==c.child)for(a=sf(a);null!==a;){if(c=a[wf])return c;a=sf(a)}return b}a=c;c=a.parentNode}return null}function Cb(a){a=a[wf]||a[ff];return!a||5!==a.tag&&6!==a.tag&&13!==a.tag&&3!==a.tag?null:a}function ue(a){if(5===a.tag||6===a.tag)return a.stateNode;throw Error(y(33));}function Db(a){return a[xf]||null}\nfunction $e(a){var b=a[yf];void 0===b&&(b=a[yf]=new Set);return b}var zf=[],Af=-1;function Bf(a){return{current:a}}function H(a){0>Af||(a.current=zf[Af],zf[Af]=null,Af--)}function I(a,b){Af++;zf[Af]=a.current;a.current=b}var Cf={},M=Bf(Cf),N=Bf(!1),Df=Cf;\nfunction Ef(a,b){var c=a.type.contextTypes;if(!c)return Cf;var d=a.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===b)return d.__reactInternalMemoizedMaskedChildContext;var e={},f;for(f in c)e[f]=b[f];d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=e);return e}function Ff(a){a=a.childContextTypes;return null!==a&&void 0!==a}function Gf(){H(N);H(M)}function Hf(a,b,c){if(M.current!==Cf)throw Error(y(168));I(M,b);I(N,c)}\nfunction If(a,b,c){var d=a.stateNode;a=b.childContextTypes;if(\"function\"!==typeof d.getChildContext)return c;d=d.getChildContext();for(var e in d)if(!(e in a))throw Error(y(108,Ra(b)||\"Unknown\",e));return m({},c,d)}function Jf(a){a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Cf;Df=M.current;I(M,a);I(N,N.current);return!0}function Kf(a,b,c){var d=a.stateNode;if(!d)throw Error(y(169));c?(a=If(a,b,Df),d.__reactInternalMemoizedMergedChildContext=a,H(N),H(M),I(M,a)):H(N);I(N,c)}\nvar Lf=null,Mf=null,Nf=r.unstable_runWithPriority,Of=r.unstable_scheduleCallback,Pf=r.unstable_cancelCallback,Qf=r.unstable_shouldYield,Rf=r.unstable_requestPaint,Sf=r.unstable_now,Tf=r.unstable_getCurrentPriorityLevel,Uf=r.unstable_ImmediatePriority,Vf=r.unstable_UserBlockingPriority,Wf=r.unstable_NormalPriority,Xf=r.unstable_LowPriority,Yf=r.unstable_IdlePriority,Zf={},$f=void 0!==Rf?Rf:function(){},ag=null,bg=null,cg=!1,dg=Sf(),O=1E4>dg?Sf:function(){return Sf()-dg};\nfunction eg(){switch(Tf()){case Uf:return 99;case Vf:return 98;case Wf:return 97;case Xf:return 96;case Yf:return 95;default:throw Error(y(332));}}function fg(a){switch(a){case 99:return Uf;case 98:return Vf;case 97:return Wf;case 96:return Xf;case 95:return Yf;default:throw Error(y(332));}}function gg(a,b){a=fg(a);return Nf(a,b)}function hg(a,b,c){a=fg(a);return Of(a,b,c)}function ig(){if(null!==bg){var a=bg;bg=null;Pf(a)}jg()}\nfunction jg(){if(!cg&&null!==ag){cg=!0;var a=0;try{var b=ag;gg(99,function(){for(;a<b.length;a++){var c=b[a];do c=c(!0);while(null!==c)}});ag=null}catch(c){throw null!==ag&&(ag=ag.slice(a+1)),Of(Uf,ig),c;}finally{cg=!1}}}var kg=ra.ReactCurrentBatchConfig;function lg(a,b){if(a&&a.defaultProps){b=m({},b);a=a.defaultProps;for(var c in a)void 0===b[c]&&(b[c]=a[c]);return b}return b}var mg=Bf(null),ng=null,og=null,pg=null;function qg(){pg=og=ng=null}\nfunction rg(a){var b=mg.current;H(mg);a.type._context._currentValue=b}function sg(a,b){for(;null!==a;){var c=a.alternate;if((a.childLanes&b)===b)if(null===c||(c.childLanes&b)===b)break;else c.childLanes|=b;else a.childLanes|=b,null!==c&&(c.childLanes|=b);a=a.return}}function tg(a,b){ng=a;pg=og=null;a=a.dependencies;null!==a&&null!==a.firstContext&&(0!==(a.lanes&b)&&(ug=!0),a.firstContext=null)}\nfunction vg(a,b){if(pg!==a&&!1!==b&&0!==b){if(\"number\"!==typeof b||1073741823===b)pg=a,b=1073741823;b={context:a,observedBits:b,next:null};if(null===og){if(null===ng)throw Error(y(308));og=b;ng.dependencies={lanes:0,firstContext:b,responders:null}}else og=og.next=b}return a._currentValue}var wg=!1;function xg(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}\nfunction yg(a,b){a=a.updateQueue;b.updateQueue===a&&(b.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function zg(a,b){return{eventTime:a,lane:b,tag:0,payload:null,callback:null,next:null}}function Ag(a,b){a=a.updateQueue;if(null!==a){a=a.shared;var c=a.pending;null===c?b.next=b:(b.next=c.next,c.next=b);a.pending=b}}\nfunction Bg(a,b){var c=a.updateQueue,d=a.alternate;if(null!==d&&(d=d.updateQueue,c===d)){var e=null,f=null;c=c.firstBaseUpdate;if(null!==c){do{var g={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};null===f?e=f=g:f=f.next=g;c=c.next}while(null!==c);null===f?e=f=b:f=f.next=b}else e=f=b;c={baseState:d.baseState,firstBaseUpdate:e,lastBaseUpdate:f,shared:d.shared,effects:d.effects};a.updateQueue=c;return}a=c.lastBaseUpdate;null===a?c.firstBaseUpdate=b:a.next=\nb;c.lastBaseUpdate=b}\nfunction Cg(a,b,c,d){var e=a.updateQueue;wg=!1;var f=e.firstBaseUpdate,g=e.lastBaseUpdate,h=e.shared.pending;if(null!==h){e.shared.pending=null;var k=h,l=k.next;k.next=null;null===g?f=l:g.next=l;g=k;var n=a.alternate;if(null!==n){n=n.updateQueue;var A=n.lastBaseUpdate;A!==g&&(null===A?n.firstBaseUpdate=l:A.next=l,n.lastBaseUpdate=k)}}if(null!==f){A=e.baseState;g=0;n=l=k=null;do{h=f.lane;var p=f.eventTime;if((d&h)===h){null!==n&&(n=n.next={eventTime:p,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,\nnext:null});a:{var C=a,x=f;h=b;p=c;switch(x.tag){case 1:C=x.payload;if(\"function\"===typeof C){A=C.call(p,A,h);break a}A=C;break a;case 3:C.flags=C.flags&-4097|64;case 0:C=x.payload;h=\"function\"===typeof C?C.call(p,A,h):C;if(null===h||void 0===h)break a;A=m({},A,h);break a;case 2:wg=!0}}null!==f.callback&&(a.flags|=32,h=e.effects,null===h?e.effects=[f]:h.push(f))}else p={eventTime:p,lane:h,tag:f.tag,payload:f.payload,callback:f.callback,next:null},null===n?(l=n=p,k=A):n=n.next=p,g|=h;f=f.next;if(null===\nf)if(h=e.shared.pending,null===h)break;else f=h.next,h.next=null,e.lastBaseUpdate=h,e.shared.pending=null}while(1);null===n&&(k=A);e.baseState=k;e.firstBaseUpdate=l;e.lastBaseUpdate=n;Dg|=g;a.lanes=g;a.memoizedState=A}}function Eg(a,b,c){a=b.effects;b.effects=null;if(null!==a)for(b=0;b<a.length;b++){var d=a[b],e=d.callback;if(null!==e){d.callback=null;d=c;if(\"function\"!==typeof e)throw Error(y(191,e));e.call(d)}}}var Fg=(new aa.Component).refs;\nfunction Gg(a,b,c,d){b=a.memoizedState;c=c(d,b);c=null===c||void 0===c?b:m({},b,c);a.memoizedState=c;0===a.lanes&&(a.updateQueue.baseState=c)}\nvar Kg={isMounted:function(a){return(a=a._reactInternals)?Zb(a)===a:!1},enqueueSetState:function(a,b,c){a=a._reactInternals;var d=Hg(),e=Ig(a),f=zg(d,e);f.payload=b;void 0!==c&&null!==c&&(f.callback=c);Ag(a,f);Jg(a,e,d)},enqueueReplaceState:function(a,b,c){a=a._reactInternals;var d=Hg(),e=Ig(a),f=zg(d,e);f.tag=1;f.payload=b;void 0!==c&&null!==c&&(f.callback=c);Ag(a,f);Jg(a,e,d)},enqueueForceUpdate:function(a,b){a=a._reactInternals;var c=Hg(),d=Ig(a),e=zg(c,d);e.tag=2;void 0!==b&&null!==b&&(e.callback=\nb);Ag(a,e);Jg(a,d,c)}};function Lg(a,b,c,d,e,f,g){a=a.stateNode;return\"function\"===typeof a.shouldComponentUpdate?a.shouldComponentUpdate(d,f,g):b.prototype&&b.prototype.isPureReactComponent?!Je(c,d)||!Je(e,f):!0}\nfunction Mg(a,b,c){var d=!1,e=Cf;var f=b.contextType;\"object\"===typeof f&&null!==f?f=vg(f):(e=Ff(b)?Df:M.current,d=b.contextTypes,f=(d=null!==d&&void 0!==d)?Ef(a,e):Cf);b=new b(c,f);a.memoizedState=null!==b.state&&void 0!==b.state?b.state:null;b.updater=Kg;a.stateNode=b;b._reactInternals=a;d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=e,a.__reactInternalMemoizedMaskedChildContext=f);return b}\nfunction Ng(a,b,c,d){a=b.state;\"function\"===typeof b.componentWillReceiveProps&&b.componentWillReceiveProps(c,d);\"function\"===typeof b.UNSAFE_componentWillReceiveProps&&b.UNSAFE_componentWillReceiveProps(c,d);b.state!==a&&Kg.enqueueReplaceState(b,b.state,null)}\nfunction Og(a,b,c,d){var e=a.stateNode;e.props=c;e.state=a.memoizedState;e.refs=Fg;xg(a);var f=b.contextType;\"object\"===typeof f&&null!==f?e.context=vg(f):(f=Ff(b)?Df:M.current,e.context=Ef(a,f));Cg(a,c,e,d);e.state=a.memoizedState;f=b.getDerivedStateFromProps;\"function\"===typeof f&&(Gg(a,b,f,c),e.state=a.memoizedState);\"function\"===typeof b.getDerivedStateFromProps||\"function\"===typeof e.getSnapshotBeforeUpdate||\"function\"!==typeof e.UNSAFE_componentWillMount&&\"function\"!==typeof e.componentWillMount||\n(b=e.state,\"function\"===typeof e.componentWillMount&&e.componentWillMount(),\"function\"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),b!==e.state&&Kg.enqueueReplaceState(e,e.state,null),Cg(a,c,e,d),e.state=a.memoizedState);\"function\"===typeof e.componentDidMount&&(a.flags|=4)}var Pg=Array.isArray;\nfunction Qg(a,b,c){a=c.ref;if(null!==a&&\"function\"!==typeof a&&\"object\"!==typeof a){if(c._owner){c=c._owner;if(c){if(1!==c.tag)throw Error(y(309));var d=c.stateNode}if(!d)throw Error(y(147,a));var e=\"\"+a;if(null!==b&&null!==b.ref&&\"function\"===typeof b.ref&&b.ref._stringRef===e)return b.ref;b=function(a){var b=d.refs;b===Fg&&(b=d.refs={});null===a?delete b[e]:b[e]=a};b._stringRef=e;return b}if(\"string\"!==typeof a)throw Error(y(284));if(!c._owner)throw Error(y(290,a));}return a}\nfunction Rg(a,b){if(\"textarea\"!==a.type)throw Error(y(31,\"[object Object]\"===Object.prototype.toString.call(b)?\"object with keys {\"+Object.keys(b).join(\", \")+\"}\":b));}\nfunction Sg(a){function b(b,c){if(a){var d=b.lastEffect;null!==d?(d.nextEffect=c,b.lastEffect=c):b.firstEffect=b.lastEffect=c;c.nextEffect=null;c.flags=8}}function c(c,d){if(!a)return null;for(;null!==d;)b(c,d),d=d.sibling;return null}function d(a,b){for(a=new Map;null!==b;)null!==b.key?a.set(b.key,b):a.set(b.index,b),b=b.sibling;return a}function e(a,b){a=Tg(a,b);a.index=0;a.sibling=null;return a}function f(b,c,d){b.index=d;if(!a)return c;d=b.alternate;if(null!==d)return d=d.index,d<c?(b.flags=2,\nc):d;b.flags=2;return c}function g(b){a&&null===b.alternate&&(b.flags=2);return b}function h(a,b,c,d){if(null===b||6!==b.tag)return b=Ug(c,a.mode,d),b.return=a,b;b=e(b,c);b.return=a;return b}function k(a,b,c,d){if(null!==b&&b.elementType===c.type)return d=e(b,c.props),d.ref=Qg(a,b,c),d.return=a,d;d=Vg(c.type,c.key,c.props,null,a.mode,d);d.ref=Qg(a,b,c);d.return=a;return d}function l(a,b,c,d){if(null===b||4!==b.tag||b.stateNode.containerInfo!==c.containerInfo||b.stateNode.implementation!==c.implementation)return b=\nWg(c,a.mode,d),b.return=a,b;b=e(b,c.children||[]);b.return=a;return b}function n(a,b,c,d,f){if(null===b||7!==b.tag)return b=Xg(c,a.mode,d,f),b.return=a,b;b=e(b,c);b.return=a;return b}function A(a,b,c){if(\"string\"===typeof b||\"number\"===typeof b)return b=Ug(\"\"+b,a.mode,c),b.return=a,b;if(\"object\"===typeof b&&null!==b){switch(b.$$typeof){case sa:return c=Vg(b.type,b.key,b.props,null,a.mode,c),c.ref=Qg(a,null,b),c.return=a,c;case ta:return b=Wg(b,a.mode,c),b.return=a,b}if(Pg(b)||La(b))return b=Xg(b,\na.mode,c,null),b.return=a,b;Rg(a,b)}return null}function p(a,b,c,d){var e=null!==b?b.key:null;if(\"string\"===typeof c||\"number\"===typeof c)return null!==e?null:h(a,b,\"\"+c,d);if(\"object\"===typeof c&&null!==c){switch(c.$$typeof){case sa:return c.key===e?c.type===ua?n(a,b,c.props.children,d,e):k(a,b,c,d):null;case ta:return c.key===e?l(a,b,c,d):null}if(Pg(c)||La(c))return null!==e?null:n(a,b,c,d,null);Rg(a,c)}return null}function C(a,b,c,d,e){if(\"string\"===typeof d||\"number\"===typeof d)return a=a.get(c)||\nnull,h(b,a,\"\"+d,e);if(\"object\"===typeof d&&null!==d){switch(d.$$typeof){case sa:return a=a.get(null===d.key?c:d.key)||null,d.type===ua?n(b,a,d.props.children,e,d.key):k(b,a,d,e);case ta:return a=a.get(null===d.key?c:d.key)||null,l(b,a,d,e)}if(Pg(d)||La(d))return a=a.get(c)||null,n(b,a,d,e,null);Rg(b,d)}return null}function x(e,g,h,k){for(var l=null,t=null,u=g,z=g=0,q=null;null!==u&&z<h.length;z++){u.index>z?(q=u,u=null):q=u.sibling;var n=p(e,u,h[z],k);if(null===n){null===u&&(u=q);break}a&&u&&null===\nn.alternate&&b(e,u);g=f(n,g,z);null===t?l=n:t.sibling=n;t=n;u=q}if(z===h.length)return c(e,u),l;if(null===u){for(;z<h.length;z++)u=A(e,h[z],k),null!==u&&(g=f(u,g,z),null===t?l=u:t.sibling=u,t=u);return l}for(u=d(e,u);z<h.length;z++)q=C(u,e,z,h[z],k),null!==q&&(a&&null!==q.alternate&&u.delete(null===q.key?z:q.key),g=f(q,g,z),null===t?l=q:t.sibling=q,t=q);a&&u.forEach(function(a){return b(e,a)});return l}function w(e,g,h,k){var l=La(h);if(\"function\"!==typeof l)throw Error(y(150));h=l.call(h);if(null==\nh)throw Error(y(151));for(var t=l=null,u=g,z=g=0,q=null,n=h.next();null!==u&&!n.done;z++,n=h.next()){u.index>z?(q=u,u=null):q=u.sibling;var w=p(e,u,n.value,k);if(null===w){null===u&&(u=q);break}a&&u&&null===w.alternate&&b(e,u);g=f(w,g,z);null===t?l=w:t.sibling=w;t=w;u=q}if(n.done)return c(e,u),l;if(null===u){for(;!n.done;z++,n=h.next())n=A(e,n.value,k),null!==n&&(g=f(n,g,z),null===t?l=n:t.sibling=n,t=n);return l}for(u=d(e,u);!n.done;z++,n=h.next())n=C(u,e,z,n.value,k),null!==n&&(a&&null!==n.alternate&&\nu.delete(null===n.key?z:n.key),g=f(n,g,z),null===t?l=n:t.sibling=n,t=n);a&&u.forEach(function(a){return b(e,a)});return l}return function(a,d,f,h){var k=\"object\"===typeof f&&null!==f&&f.type===ua&&null===f.key;k&&(f=f.props.children);var l=\"object\"===typeof f&&null!==f;if(l)switch(f.$$typeof){case sa:a:{l=f.key;for(k=d;null!==k;){if(k.key===l){switch(k.tag){case 7:if(f.type===ua){c(a,k.sibling);d=e(k,f.props.children);d.return=a;a=d;break a}break;default:if(k.elementType===f.type){c(a,k.sibling);\nd=e(k,f.props);d.ref=Qg(a,k,f);d.return=a;a=d;break a}}c(a,k);break}else b(a,k);k=k.sibling}f.type===ua?(d=Xg(f.props.children,a.mode,h,f.key),d.return=a,a=d):(h=Vg(f.type,f.key,f.props,null,a.mode,h),h.ref=Qg(a,d,f),h.return=a,a=h)}return g(a);case ta:a:{for(k=f.key;null!==d;){if(d.key===k)if(4===d.tag&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){c(a,d.sibling);d=e(d,f.children||[]);d.return=a;a=d;break a}else{c(a,d);break}else b(a,d);d=d.sibling}d=\nWg(f,a.mode,h);d.return=a;a=d}return g(a)}if(\"string\"===typeof f||\"number\"===typeof f)return f=\"\"+f,null!==d&&6===d.tag?(c(a,d.sibling),d=e(d,f),d.return=a,a=d):(c(a,d),d=Ug(f,a.mode,h),d.return=a,a=d),g(a);if(Pg(f))return x(a,d,f,h);if(La(f))return w(a,d,f,h);l&&Rg(a,f);if(\"undefined\"===typeof f&&!k)switch(a.tag){case 1:case 22:case 0:case 11:case 15:throw Error(y(152,Ra(a.type)||\"Component\"));}return c(a,d)}}var Yg=Sg(!0),Zg=Sg(!1),$g={},ah=Bf($g),bh=Bf($g),ch=Bf($g);\nfunction dh(a){if(a===$g)throw Error(y(174));return a}function eh(a,b){I(ch,b);I(bh,a);I(ah,$g);a=b.nodeType;switch(a){case 9:case 11:b=(b=b.documentElement)?b.namespaceURI:mb(null,\"\");break;default:a=8===a?b.parentNode:b,b=a.namespaceURI||null,a=a.tagName,b=mb(b,a)}H(ah);I(ah,b)}function fh(){H(ah);H(bh);H(ch)}function gh(a){dh(ch.current);var b=dh(ah.current);var c=mb(b,a.type);b!==c&&(I(bh,a),I(ah,c))}function hh(a){bh.current===a&&(H(ah),H(bh))}var P=Bf(0);\nfunction ih(a){for(var b=a;null!==b;){if(13===b.tag){var c=b.memoizedState;if(null!==c&&(c=c.dehydrated,null===c||\"$?\"===c.data||\"$!\"===c.data))return b}else if(19===b.tag&&void 0!==b.memoizedProps.revealOrder){if(0!==(b.flags&64))return b}else if(null!==b.child){b.child.return=b;b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}return null}var jh=null,kh=null,lh=!1;\nfunction mh(a,b){var c=nh(5,null,null,0);c.elementType=\"DELETED\";c.type=\"DELETED\";c.stateNode=b;c.return=a;c.flags=8;null!==a.lastEffect?(a.lastEffect.nextEffect=c,a.lastEffect=c):a.firstEffect=a.lastEffect=c}function oh(a,b){switch(a.tag){case 5:var c=a.type;b=1!==b.nodeType||c.toLowerCase()!==b.nodeName.toLowerCase()?null:b;return null!==b?(a.stateNode=b,!0):!1;case 6:return b=\"\"===a.pendingProps||3!==b.nodeType?null:b,null!==b?(a.stateNode=b,!0):!1;case 13:return!1;default:return!1}}\nfunction ph(a){if(lh){var b=kh;if(b){var c=b;if(!oh(a,b)){b=rf(c.nextSibling);if(!b||!oh(a,b)){a.flags=a.flags&-1025|2;lh=!1;jh=a;return}mh(jh,c)}jh=a;kh=rf(b.firstChild)}else a.flags=a.flags&-1025|2,lh=!1,jh=a}}function qh(a){for(a=a.return;null!==a&&5!==a.tag&&3!==a.tag&&13!==a.tag;)a=a.return;jh=a}\nfunction rh(a){if(a!==jh)return!1;if(!lh)return qh(a),lh=!0,!1;var b=a.type;if(5!==a.tag||\"head\"!==b&&\"body\"!==b&&!nf(b,a.memoizedProps))for(b=kh;b;)mh(a,b),b=rf(b.nextSibling);qh(a);if(13===a.tag){a=a.memoizedState;a=null!==a?a.dehydrated:null;if(!a)throw Error(y(317));a:{a=a.nextSibling;for(b=0;a;){if(8===a.nodeType){var c=a.data;if(\"/$\"===c){if(0===b){kh=rf(a.nextSibling);break a}b--}else\"$\"!==c&&\"$!\"!==c&&\"$?\"!==c||b++}a=a.nextSibling}kh=null}}else kh=jh?rf(a.stateNode.nextSibling):null;return!0}\nfunction sh(){kh=jh=null;lh=!1}var th=[];function uh(){for(var a=0;a<th.length;a++)th[a]._workInProgressVersionPrimary=null;th.length=0}var vh=ra.ReactCurrentDispatcher,wh=ra.ReactCurrentBatchConfig,xh=0,R=null,S=null,T=null,yh=!1,zh=!1;function Ah(){throw Error(y(321));}function Bh(a,b){if(null===b)return!1;for(var c=0;c<b.length&&c<a.length;c++)if(!He(a[c],b[c]))return!1;return!0}\nfunction Ch(a,b,c,d,e,f){xh=f;R=b;b.memoizedState=null;b.updateQueue=null;b.lanes=0;vh.current=null===a||null===a.memoizedState?Dh:Eh;a=c(d,e);if(zh){f=0;do{zh=!1;if(!(25>f))throw Error(y(301));f+=1;T=S=null;b.updateQueue=null;vh.current=Fh;a=c(d,e)}while(zh)}vh.current=Gh;b=null!==S&&null!==S.next;xh=0;T=S=R=null;yh=!1;if(b)throw Error(y(300));return a}function Hh(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===T?R.memoizedState=T=a:T=T.next=a;return T}\nfunction Ih(){if(null===S){var a=R.alternate;a=null!==a?a.memoizedState:null}else a=S.next;var b=null===T?R.memoizedState:T.next;if(null!==b)T=b,S=a;else{if(null===a)throw Error(y(310));S=a;a={memoizedState:S.memoizedState,baseState:S.baseState,baseQueue:S.baseQueue,queue:S.queue,next:null};null===T?R.memoizedState=T=a:T=T.next=a}return T}function Jh(a,b){return\"function\"===typeof b?b(a):b}\nfunction Kh(a){var b=Ih(),c=b.queue;if(null===c)throw Error(y(311));c.lastRenderedReducer=a;var d=S,e=d.baseQueue,f=c.pending;if(null!==f){if(null!==e){var g=e.next;e.next=f.next;f.next=g}d.baseQueue=e=f;c.pending=null}if(null!==e){e=e.next;d=d.baseState;var h=g=f=null,k=e;do{var l=k.lane;if((xh&l)===l)null!==h&&(h=h.next={lane:0,action:k.action,eagerReducer:k.eagerReducer,eagerState:k.eagerState,next:null}),d=k.eagerReducer===a?k.eagerState:a(d,k.action);else{var n={lane:l,action:k.action,eagerReducer:k.eagerReducer,\neagerState:k.eagerState,next:null};null===h?(g=h=n,f=d):h=h.next=n;R.lanes|=l;Dg|=l}k=k.next}while(null!==k&&k!==e);null===h?f=d:h.next=g;He(d,b.memoizedState)||(ug=!0);b.memoizedState=d;b.baseState=f;b.baseQueue=h;c.lastRenderedState=d}return[b.memoizedState,c.dispatch]}\nfunction Lh(a){var b=Ih(),c=b.queue;if(null===c)throw Error(y(311));c.lastRenderedReducer=a;var d=c.dispatch,e=c.pending,f=b.memoizedState;if(null!==e){c.pending=null;var g=e=e.next;do f=a(f,g.action),g=g.next;while(g!==e);He(f,b.memoizedState)||(ug=!0);b.memoizedState=f;null===b.baseQueue&&(b.baseState=f);c.lastRenderedState=f}return[f,d]}\nfunction Mh(a,b,c){var d=b._getVersion;d=d(b._source);var e=b._workInProgressVersionPrimary;if(null!==e)a=e===d;else if(a=a.mutableReadLanes,a=(xh&a)===a)b._workInProgressVersionPrimary=d,th.push(b);if(a)return c(b._source);th.push(b);throw Error(y(350));}\nfunction Nh(a,b,c,d){var e=U;if(null===e)throw Error(y(349));var f=b._getVersion,g=f(b._source),h=vh.current,k=h.useState(function(){return Mh(e,b,c)}),l=k[1],n=k[0];k=T;var A=a.memoizedState,p=A.refs,C=p.getSnapshot,x=A.source;A=A.subscribe;var w=R;a.memoizedState={refs:p,source:b,subscribe:d};h.useEffect(function(){p.getSnapshot=c;p.setSnapshot=l;var a=f(b._source);if(!He(g,a)){a=c(b._source);He(n,a)||(l(a),a=Ig(w),e.mutableReadLanes|=a&e.pendingLanes);a=e.mutableReadLanes;e.entangledLanes|=a;for(var d=\ne.entanglements,h=a;0<h;){var k=31-Vc(h),v=1<<k;d[k]|=a;h&=~v}}},[c,b,d]);h.useEffect(function(){return d(b._source,function(){var a=p.getSnapshot,c=p.setSnapshot;try{c(a(b._source));var d=Ig(w);e.mutableReadLanes|=d&e.pendingLanes}catch(q){c(function(){throw q;})}})},[b,d]);He(C,c)&&He(x,b)&&He(A,d)||(a={pending:null,dispatch:null,lastRenderedReducer:Jh,lastRenderedState:n},a.dispatch=l=Oh.bind(null,R,a),k.queue=a,k.baseQueue=null,n=Mh(e,b,c),k.memoizedState=k.baseState=n);return n}\nfunction Ph(a,b,c){var d=Ih();return Nh(d,a,b,c)}function Qh(a){var b=Hh();\"function\"===typeof a&&(a=a());b.memoizedState=b.baseState=a;a=b.queue={pending:null,dispatch:null,lastRenderedReducer:Jh,lastRenderedState:a};a=a.dispatch=Oh.bind(null,R,a);return[b.memoizedState,a]}\nfunction Rh(a,b,c,d){a={tag:a,create:b,destroy:c,deps:d,next:null};b=R.updateQueue;null===b?(b={lastEffect:null},R.updateQueue=b,b.lastEffect=a.next=a):(c=b.lastEffect,null===c?b.lastEffect=a.next=a:(d=c.next,c.next=a,a.next=d,b.lastEffect=a));return a}function Sh(a){var b=Hh();a={current:a};return b.memoizedState=a}function Th(){return Ih().memoizedState}function Uh(a,b,c,d){var e=Hh();R.flags|=a;e.memoizedState=Rh(1|b,c,void 0,void 0===d?null:d)}\nfunction Vh(a,b,c,d){var e=Ih();d=void 0===d?null:d;var f=void 0;if(null!==S){var g=S.memoizedState;f=g.destroy;if(null!==d&&Bh(d,g.deps)){Rh(b,c,f,d);return}}R.flags|=a;e.memoizedState=Rh(1|b,c,f,d)}function Wh(a,b){return Uh(516,4,a,b)}function Xh(a,b){return Vh(516,4,a,b)}function Yh(a,b){return Vh(4,2,a,b)}function Zh(a,b){if(\"function\"===typeof b)return a=a(),b(a),function(){b(null)};if(null!==b&&void 0!==b)return a=a(),b.current=a,function(){b.current=null}}\nfunction $h(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return Vh(4,2,Zh.bind(null,b,a),c)}function ai(){}function bi(a,b){var c=Ih();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Bh(b,d[1]))return d[0];c.memoizedState=[a,b];return a}function ci(a,b){var c=Ih();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Bh(b,d[1]))return d[0];a=a();c.memoizedState=[a,b];return a}\nfunction di(a,b){var c=eg();gg(98>c?98:c,function(){a(!0)});gg(97<c?97:c,function(){var c=wh.transition;wh.transition=1;try{a(!1),b()}finally{wh.transition=c}})}\nfunction Oh(a,b,c){var d=Hg(),e=Ig(a),f={lane:e,action:c,eagerReducer:null,eagerState:null,next:null},g=b.pending;null===g?f.next=f:(f.next=g.next,g.next=f);b.pending=f;g=a.alternate;if(a===R||null!==g&&g===R)zh=yh=!0;else{if(0===a.lanes&&(null===g||0===g.lanes)&&(g=b.lastRenderedReducer,null!==g))try{var h=b.lastRenderedState,k=g(h,c);f.eagerReducer=g;f.eagerState=k;if(He(k,h))return}catch(l){}finally{}Jg(a,e,d)}}\nvar Gh={readContext:vg,useCallback:Ah,useContext:Ah,useEffect:Ah,useImperativeHandle:Ah,useLayoutEffect:Ah,useMemo:Ah,useReducer:Ah,useRef:Ah,useState:Ah,useDebugValue:Ah,useDeferredValue:Ah,useTransition:Ah,useMutableSource:Ah,useOpaqueIdentifier:Ah,unstable_isNewReconciler:!1},Dh={readContext:vg,useCallback:function(a,b){Hh().memoizedState=[a,void 0===b?null:b];return a},useContext:vg,useEffect:Wh,useImperativeHandle:function(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return Uh(4,2,Zh.bind(null,\nb,a),c)},useLayoutEffect:function(a,b){return Uh(4,2,a,b)},useMemo:function(a,b){var c=Hh();b=void 0===b?null:b;a=a();c.memoizedState=[a,b];return a},useReducer:function(a,b,c){var d=Hh();b=void 0!==c?c(b):b;d.memoizedState=d.baseState=b;a=d.queue={pending:null,dispatch:null,lastRenderedReducer:a,lastRenderedState:b};a=a.dispatch=Oh.bind(null,R,a);return[d.memoizedState,a]},useRef:Sh,useState:Qh,useDebugValue:ai,useDeferredValue:function(a){var b=Qh(a),c=b[0],d=b[1];Wh(function(){var b=wh.transition;\nwh.transition=1;try{d(a)}finally{wh.transition=b}},[a]);return c},useTransition:function(){var a=Qh(!1),b=a[0];a=di.bind(null,a[1]);Sh(a);return[a,b]},useMutableSource:function(a,b,c){var d=Hh();d.memoizedState={refs:{getSnapshot:b,setSnapshot:null},source:a,subscribe:c};return Nh(d,a,b,c)},useOpaqueIdentifier:function(){if(lh){var a=!1,b=uf(function(){a||(a=!0,c(\"r:\"+(tf++).toString(36)));throw Error(y(355));}),c=Qh(b)[1];0===(R.mode&2)&&(R.flags|=516,Rh(5,function(){c(\"r:\"+(tf++).toString(36))},\nvoid 0,null));return b}b=\"r:\"+(tf++).toString(36);Qh(b);return b},unstable_isNewReconciler:!1},Eh={readContext:vg,useCallback:bi,useContext:vg,useEffect:Xh,useImperativeHandle:$h,useLayoutEffect:Yh,useMemo:ci,useReducer:Kh,useRef:Th,useState:function(){return Kh(Jh)},useDebugValue:ai,useDeferredValue:function(a){var b=Kh(Jh),c=b[0],d=b[1];Xh(function(){var b=wh.transition;wh.transition=1;try{d(a)}finally{wh.transition=b}},[a]);return c},useTransition:function(){var a=Kh(Jh)[0];return[Th().current,\na]},useMutableSource:Ph,useOpaqueIdentifier:function(){return Kh(Jh)[0]},unstable_isNewReconciler:!1},Fh={readContext:vg,useCallback:bi,useContext:vg,useEffect:Xh,useImperativeHandle:$h,useLayoutEffect:Yh,useMemo:ci,useReducer:Lh,useRef:Th,useState:function(){return Lh(Jh)},useDebugValue:ai,useDeferredValue:function(a){var b=Lh(Jh),c=b[0],d=b[1];Xh(function(){var b=wh.transition;wh.transition=1;try{d(a)}finally{wh.transition=b}},[a]);return c},useTransition:function(){var a=Lh(Jh)[0];return[Th().current,\na]},useMutableSource:Ph,useOpaqueIdentifier:function(){return Lh(Jh)[0]},unstable_isNewReconciler:!1},ei=ra.ReactCurrentOwner,ug=!1;function fi(a,b,c,d){b.child=null===a?Zg(b,null,c,d):Yg(b,a.child,c,d)}function gi(a,b,c,d,e){c=c.render;var f=b.ref;tg(b,e);d=Ch(a,b,c,d,f,e);if(null!==a&&!ug)return b.updateQueue=a.updateQueue,b.flags&=-517,a.lanes&=~e,hi(a,b,e);b.flags|=1;fi(a,b,d,e);return b.child}\nfunction ii(a,b,c,d,e,f){if(null===a){var g=c.type;if(\"function\"===typeof g&&!ji(g)&&void 0===g.defaultProps&&null===c.compare&&void 0===c.defaultProps)return b.tag=15,b.type=g,ki(a,b,g,d,e,f);a=Vg(c.type,null,d,b,b.mode,f);a.ref=b.ref;a.return=b;return b.child=a}g=a.child;if(0===(e&f)&&(e=g.memoizedProps,c=c.compare,c=null!==c?c:Je,c(e,d)&&a.ref===b.ref))return hi(a,b,f);b.flags|=1;a=Tg(g,d);a.ref=b.ref;a.return=b;return b.child=a}\nfunction ki(a,b,c,d,e,f){if(null!==a&&Je(a.memoizedProps,d)&&a.ref===b.ref)if(ug=!1,0!==(f&e))0!==(a.flags&16384)&&(ug=!0);else return b.lanes=a.lanes,hi(a,b,f);return li(a,b,c,d,f)}\nfunction mi(a,b,c){var d=b.pendingProps,e=d.children,f=null!==a?a.memoizedState:null;if(\"hidden\"===d.mode||\"unstable-defer-without-hiding\"===d.mode)if(0===(b.mode&4))b.memoizedState={baseLanes:0},ni(b,c);else if(0!==(c&1073741824))b.memoizedState={baseLanes:0},ni(b,null!==f?f.baseLanes:c);else return a=null!==f?f.baseLanes|c:c,b.lanes=b.childLanes=1073741824,b.memoizedState={baseLanes:a},ni(b,a),null;else null!==f?(d=f.baseLanes|c,b.memoizedState=null):d=c,ni(b,d);fi(a,b,e,c);return b.child}\nfunction oi(a,b){var c=b.ref;if(null===a&&null!==c||null!==a&&a.ref!==c)b.flags|=128}function li(a,b,c,d,e){var f=Ff(c)?Df:M.current;f=Ef(b,f);tg(b,e);c=Ch(a,b,c,d,f,e);if(null!==a&&!ug)return b.updateQueue=a.updateQueue,b.flags&=-517,a.lanes&=~e,hi(a,b,e);b.flags|=1;fi(a,b,c,e);return b.child}\nfunction pi(a,b,c,d,e){if(Ff(c)){var f=!0;Jf(b)}else f=!1;tg(b,e);if(null===b.stateNode)null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2),Mg(b,c,d),Og(b,c,d,e),d=!0;else if(null===a){var g=b.stateNode,h=b.memoizedProps;g.props=h;var k=g.context,l=c.contextType;\"object\"===typeof l&&null!==l?l=vg(l):(l=Ff(c)?Df:M.current,l=Ef(b,l));var n=c.getDerivedStateFromProps,A=\"function\"===typeof n||\"function\"===typeof g.getSnapshotBeforeUpdate;A||\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\n\"function\"!==typeof g.componentWillReceiveProps||(h!==d||k!==l)&&Ng(b,g,d,l);wg=!1;var p=b.memoizedState;g.state=p;Cg(b,d,g,e);k=b.memoizedState;h!==d||p!==k||N.current||wg?(\"function\"===typeof n&&(Gg(b,c,n,d),k=b.memoizedState),(h=wg||Lg(b,c,h,d,p,k,l))?(A||\"function\"!==typeof g.UNSAFE_componentWillMount&&\"function\"!==typeof g.componentWillMount||(\"function\"===typeof g.componentWillMount&&g.componentWillMount(),\"function\"===typeof g.UNSAFE_componentWillMount&&g.UNSAFE_componentWillMount()),\"function\"===\ntypeof g.componentDidMount&&(b.flags|=4)):(\"function\"===typeof g.componentDidMount&&(b.flags|=4),b.memoizedProps=d,b.memoizedState=k),g.props=d,g.state=k,g.context=l,d=h):(\"function\"===typeof g.componentDidMount&&(b.flags|=4),d=!1)}else{g=b.stateNode;yg(a,b);h=b.memoizedProps;l=b.type===b.elementType?h:lg(b.type,h);g.props=l;A=b.pendingProps;p=g.context;k=c.contextType;\"object\"===typeof k&&null!==k?k=vg(k):(k=Ff(c)?Df:M.current,k=Ef(b,k));var C=c.getDerivedStateFromProps;(n=\"function\"===typeof C||\n\"function\"===typeof g.getSnapshotBeforeUpdate)||\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\"function\"!==typeof g.componentWillReceiveProps||(h!==A||p!==k)&&Ng(b,g,d,k);wg=!1;p=b.memoizedState;g.state=p;Cg(b,d,g,e);var x=b.memoizedState;h!==A||p!==x||N.current||wg?(\"function\"===typeof C&&(Gg(b,c,C,d),x=b.memoizedState),(l=wg||Lg(b,c,l,d,p,x,k))?(n||\"function\"!==typeof g.UNSAFE_componentWillUpdate&&\"function\"!==typeof g.componentWillUpdate||(\"function\"===typeof g.componentWillUpdate&&g.componentWillUpdate(d,\nx,k),\"function\"===typeof g.UNSAFE_componentWillUpdate&&g.UNSAFE_componentWillUpdate(d,x,k)),\"function\"===typeof g.componentDidUpdate&&(b.flags|=4),\"function\"===typeof g.getSnapshotBeforeUpdate&&(b.flags|=256)):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&p===a.memoizedState||(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&p===a.memoizedState||(b.flags|=256),b.memoizedProps=d,b.memoizedState=x),g.props=d,g.state=x,g.context=k,d=l):(\"function\"!==typeof g.componentDidUpdate||\nh===a.memoizedProps&&p===a.memoizedState||(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&p===a.memoizedState||(b.flags|=256),d=!1)}return qi(a,b,c,d,f,e)}\nfunction qi(a,b,c,d,e,f){oi(a,b);var g=0!==(b.flags&64);if(!d&&!g)return e&&Kf(b,c,!1),hi(a,b,f);d=b.stateNode;ei.current=b;var h=g&&\"function\"!==typeof c.getDerivedStateFromError?null:d.render();b.flags|=1;null!==a&&g?(b.child=Yg(b,a.child,null,f),b.child=Yg(b,null,h,f)):fi(a,b,h,f);b.memoizedState=d.state;e&&Kf(b,c,!0);return b.child}function ri(a){var b=a.stateNode;b.pendingContext?Hf(a,b.pendingContext,b.pendingContext!==b.context):b.context&&Hf(a,b.context,!1);eh(a,b.containerInfo)}\nvar si={dehydrated:null,retryLane:0};\nfunction ti(a,b,c){var d=b.pendingProps,e=P.current,f=!1,g;(g=0!==(b.flags&64))||(g=null!==a&&null===a.memoizedState?!1:0!==(e&2));g?(f=!0,b.flags&=-65):null!==a&&null===a.memoizedState||void 0===d.fallback||!0===d.unstable_avoidThisFallback||(e|=1);I(P,e&1);if(null===a){void 0!==d.fallback&&ph(b);a=d.children;e=d.fallback;if(f)return a=ui(b,a,e,c),b.child.memoizedState={baseLanes:c},b.memoizedState=si,a;if(\"number\"===typeof d.unstable_expectedLoadTime)return a=ui(b,a,e,c),b.child.memoizedState={baseLanes:c},\nb.memoizedState=si,b.lanes=33554432,a;c=vi({mode:\"visible\",children:a},b.mode,c,null);c.return=b;return b.child=c}if(null!==a.memoizedState){if(f)return d=wi(a,b,d.children,d.fallback,c),f=b.child,e=a.child.memoizedState,f.memoizedState=null===e?{baseLanes:c}:{baseLanes:e.baseLanes|c},f.childLanes=a.childLanes&~c,b.memoizedState=si,d;c=xi(a,b,d.children,c);b.memoizedState=null;return c}if(f)return d=wi(a,b,d.children,d.fallback,c),f=b.child,e=a.child.memoizedState,f.memoizedState=null===e?{baseLanes:c}:\n{baseLanes:e.baseLanes|c},f.childLanes=a.childLanes&~c,b.memoizedState=si,d;c=xi(a,b,d.children,c);b.memoizedState=null;return c}function ui(a,b,c,d){var e=a.mode,f=a.child;b={mode:\"hidden\",children:b};0===(e&2)&&null!==f?(f.childLanes=0,f.pendingProps=b):f=vi(b,e,0,null);c=Xg(c,e,d,null);f.return=a;c.return=a;f.sibling=c;a.child=f;return c}\nfunction xi(a,b,c,d){var e=a.child;a=e.sibling;c=Tg(e,{mode:\"visible\",children:c});0===(b.mode&2)&&(c.lanes=d);c.return=b;c.sibling=null;null!==a&&(a.nextEffect=null,a.flags=8,b.firstEffect=b.lastEffect=a);return b.child=c}\nfunction wi(a,b,c,d,e){var f=b.mode,g=a.child;a=g.sibling;var h={mode:\"hidden\",children:c};0===(f&2)&&b.child!==g?(c=b.child,c.childLanes=0,c.pendingProps=h,g=c.lastEffect,null!==g?(b.firstEffect=c.firstEffect,b.lastEffect=g,g.nextEffect=null):b.firstEffect=b.lastEffect=null):c=Tg(g,h);null!==a?d=Tg(a,d):(d=Xg(d,f,e,null),d.flags|=2);d.return=b;c.return=b;c.sibling=d;b.child=c;return d}function yi(a,b){a.lanes|=b;var c=a.alternate;null!==c&&(c.lanes|=b);sg(a.return,b)}\nfunction zi(a,b,c,d,e,f){var g=a.memoizedState;null===g?a.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:e,lastEffect:f}:(g.isBackwards=b,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=c,g.tailMode=e,g.lastEffect=f)}\nfunction Ai(a,b,c){var d=b.pendingProps,e=d.revealOrder,f=d.tail;fi(a,b,d.children,c);d=P.current;if(0!==(d&2))d=d&1|2,b.flags|=64;else{if(null!==a&&0!==(a.flags&64))a:for(a=b.child;null!==a;){if(13===a.tag)null!==a.memoizedState&&yi(a,c);else if(19===a.tag)yi(a,c);else if(null!==a.child){a.child.return=a;a=a.child;continue}if(a===b)break a;for(;null===a.sibling;){if(null===a.return||a.return===b)break a;a=a.return}a.sibling.return=a.return;a=a.sibling}d&=1}I(P,d);if(0===(b.mode&2))b.memoizedState=\nnull;else switch(e){case \"forwards\":c=b.child;for(e=null;null!==c;)a=c.alternate,null!==a&&null===ih(a)&&(e=c),c=c.sibling;c=e;null===c?(e=b.child,b.child=null):(e=c.sibling,c.sibling=null);zi(b,!1,e,c,f,b.lastEffect);break;case \"backwards\":c=null;e=b.child;for(b.child=null;null!==e;){a=e.alternate;if(null!==a&&null===ih(a)){b.child=e;break}a=e.sibling;e.sibling=c;c=e;e=a}zi(b,!0,c,null,f,b.lastEffect);break;case \"together\":zi(b,!1,null,null,void 0,b.lastEffect);break;default:b.memoizedState=null}return b.child}\nfunction hi(a,b,c){null!==a&&(b.dependencies=a.dependencies);Dg|=b.lanes;if(0!==(c&b.childLanes)){if(null!==a&&b.child!==a.child)throw Error(y(153));if(null!==b.child){a=b.child;c=Tg(a,a.pendingProps);b.child=c;for(c.return=b;null!==a.sibling;)a=a.sibling,c=c.sibling=Tg(a,a.pendingProps),c.return=b;c.sibling=null}return b.child}return null}var Bi,Ci,Di,Ei;\nBi=function(a,b){for(var c=b.child;null!==c;){if(5===c.tag||6===c.tag)a.appendChild(c.stateNode);else if(4!==c.tag&&null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return}c.sibling.return=c.return;c=c.sibling}};Ci=function(){};\nDi=function(a,b,c,d){var e=a.memoizedProps;if(e!==d){a=b.stateNode;dh(ah.current);var f=null;switch(c){case \"input\":e=Ya(a,e);d=Ya(a,d);f=[];break;case \"option\":e=eb(a,e);d=eb(a,d);f=[];break;case \"select\":e=m({},e,{value:void 0});d=m({},d,{value:void 0});f=[];break;case \"textarea\":e=gb(a,e);d=gb(a,d);f=[];break;default:\"function\"!==typeof e.onClick&&\"function\"===typeof d.onClick&&(a.onclick=jf)}vb(c,d);var g;c=null;for(l in e)if(!d.hasOwnProperty(l)&&e.hasOwnProperty(l)&&null!=e[l])if(\"style\"===\nl){var h=e[l];for(g in h)h.hasOwnProperty(g)&&(c||(c={}),c[g]=\"\")}else\"dangerouslySetInnerHTML\"!==l&&\"children\"!==l&&\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&\"autoFocus\"!==l&&(ca.hasOwnProperty(l)?f||(f=[]):(f=f||[]).push(l,null));for(l in d){var k=d[l];h=null!=e?e[l]:void 0;if(d.hasOwnProperty(l)&&k!==h&&(null!=k||null!=h))if(\"style\"===l)if(h){for(g in h)!h.hasOwnProperty(g)||k&&k.hasOwnProperty(g)||(c||(c={}),c[g]=\"\");for(g in k)k.hasOwnProperty(g)&&h[g]!==k[g]&&(c||\n(c={}),c[g]=k[g])}else c||(f||(f=[]),f.push(l,c)),c=k;else\"dangerouslySetInnerHTML\"===l?(k=k?k.__html:void 0,h=h?h.__html:void 0,null!=k&&h!==k&&(f=f||[]).push(l,k)):\"children\"===l?\"string\"!==typeof k&&\"number\"!==typeof k||(f=f||[]).push(l,\"\"+k):\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&(ca.hasOwnProperty(l)?(null!=k&&\"onScroll\"===l&&G(\"scroll\",a),f||h===k||(f=[])):\"object\"===typeof k&&null!==k&&k.$$typeof===Ga?k.toString():(f=f||[]).push(l,k))}c&&(f=f||[]).push(\"style\",\nc);var l=f;if(b.updateQueue=l)b.flags|=4}};Ei=function(a,b,c,d){c!==d&&(b.flags|=4)};function Fi(a,b){if(!lh)switch(a.tailMode){case \"hidden\":b=a.tail;for(var c=null;null!==b;)null!==b.alternate&&(c=b),b=b.sibling;null===c?a.tail=null:c.sibling=null;break;case \"collapsed\":c=a.tail;for(var d=null;null!==c;)null!==c.alternate&&(d=c),c=c.sibling;null===d?b||null===a.tail?a.tail=null:a.tail.sibling=null:d.sibling=null}}\nfunction Gi(a,b,c){var d=b.pendingProps;switch(b.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Ff(b.type)&&Gf(),null;case 3:fh();H(N);H(M);uh();d=b.stateNode;d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null);if(null===a||null===a.child)rh(b)?b.flags|=4:d.hydrate||(b.flags|=256);Ci(b);return null;case 5:hh(b);var e=dh(ch.current);c=b.type;if(null!==a&&null!=b.stateNode)Di(a,b,c,d,e),a.ref!==b.ref&&(b.flags|=128);else{if(!d){if(null===\nb.stateNode)throw Error(y(166));return null}a=dh(ah.current);if(rh(b)){d=b.stateNode;c=b.type;var f=b.memoizedProps;d[wf]=b;d[xf]=f;switch(c){case \"dialog\":G(\"cancel\",d);G(\"close\",d);break;case \"iframe\":case \"object\":case \"embed\":G(\"load\",d);break;case \"video\":case \"audio\":for(a=0;a<Xe.length;a++)G(Xe[a],d);break;case \"source\":G(\"error\",d);break;case \"img\":case \"image\":case \"link\":G(\"error\",d);G(\"load\",d);break;case \"details\":G(\"toggle\",d);break;case \"input\":Za(d,f);G(\"invalid\",d);break;case \"select\":d._wrapperState=\n{wasMultiple:!!f.multiple};G(\"invalid\",d);break;case \"textarea\":hb(d,f),G(\"invalid\",d)}vb(c,f);a=null;for(var g in f)f.hasOwnProperty(g)&&(e=f[g],\"children\"===g?\"string\"===typeof e?d.textContent!==e&&(a=[\"children\",e]):\"number\"===typeof e&&d.textContent!==\"\"+e&&(a=[\"children\",\"\"+e]):ca.hasOwnProperty(g)&&null!=e&&\"onScroll\"===g&&G(\"scroll\",d));switch(c){case \"input\":Va(d);cb(d,f,!0);break;case \"textarea\":Va(d);jb(d);break;case \"select\":case \"option\":break;default:\"function\"===typeof f.onClick&&(d.onclick=\njf)}d=a;b.updateQueue=d;null!==d&&(b.flags|=4)}else{g=9===e.nodeType?e:e.ownerDocument;a===kb.html&&(a=lb(c));a===kb.html?\"script\"===c?(a=g.createElement(\"div\"),a.innerHTML=\"<script>\\x3c/script>\",a=a.removeChild(a.firstChild)):\"string\"===typeof d.is?a=g.createElement(c,{is:d.is}):(a=g.createElement(c),\"select\"===c&&(g=a,d.multiple?g.multiple=!0:d.size&&(g.size=d.size))):a=g.createElementNS(a,c);a[wf]=b;a[xf]=d;Bi(a,b,!1,!1);b.stateNode=a;g=wb(c,d);switch(c){case \"dialog\":G(\"cancel\",a);G(\"close\",a);\ne=d;break;case \"iframe\":case \"object\":case \"embed\":G(\"load\",a);e=d;break;case \"video\":case \"audio\":for(e=0;e<Xe.length;e++)G(Xe[e],a);e=d;break;case \"source\":G(\"error\",a);e=d;break;case \"img\":case \"image\":case \"link\":G(\"error\",a);G(\"load\",a);e=d;break;case \"details\":G(\"toggle\",a);e=d;break;case \"input\":Za(a,d);e=Ya(a,d);G(\"invalid\",a);break;case \"option\":e=eb(a,d);break;case \"select\":a._wrapperState={wasMultiple:!!d.multiple};e=m({},d,{value:void 0});G(\"invalid\",a);break;case \"textarea\":hb(a,d);e=\ngb(a,d);G(\"invalid\",a);break;default:e=d}vb(c,e);var h=e;for(f in h)if(h.hasOwnProperty(f)){var k=h[f];\"style\"===f?tb(a,k):\"dangerouslySetInnerHTML\"===f?(k=k?k.__html:void 0,null!=k&&ob(a,k)):\"children\"===f?\"string\"===typeof k?(\"textarea\"!==c||\"\"!==k)&&pb(a,k):\"number\"===typeof k&&pb(a,\"\"+k):\"suppressContentEditableWarning\"!==f&&\"suppressHydrationWarning\"!==f&&\"autoFocus\"!==f&&(ca.hasOwnProperty(f)?null!=k&&\"onScroll\"===f&&G(\"scroll\",a):null!=k&&qa(a,f,k,g))}switch(c){case \"input\":Va(a);cb(a,d,!1);\nbreak;case \"textarea\":Va(a);jb(a);break;case \"option\":null!=d.value&&a.setAttribute(\"value\",\"\"+Sa(d.value));break;case \"select\":a.multiple=!!d.multiple;f=d.value;null!=f?fb(a,!!d.multiple,f,!1):null!=d.defaultValue&&fb(a,!!d.multiple,d.defaultValue,!0);break;default:\"function\"===typeof e.onClick&&(a.onclick=jf)}mf(c,d)&&(b.flags|=4)}null!==b.ref&&(b.flags|=128)}return null;case 6:if(a&&null!=b.stateNode)Ei(a,b,a.memoizedProps,d);else{if(\"string\"!==typeof d&&null===b.stateNode)throw Error(y(166));\nc=dh(ch.current);dh(ah.current);rh(b)?(d=b.stateNode,c=b.memoizedProps,d[wf]=b,d.nodeValue!==c&&(b.flags|=4)):(d=(9===c.nodeType?c:c.ownerDocument).createTextNode(d),d[wf]=b,b.stateNode=d)}return null;case 13:H(P);d=b.memoizedState;if(0!==(b.flags&64))return b.lanes=c,b;d=null!==d;c=!1;null===a?void 0!==b.memoizedProps.fallback&&rh(b):c=null!==a.memoizedState;if(d&&!c&&0!==(b.mode&2))if(null===a&&!0!==b.memoizedProps.unstable_avoidThisFallback||0!==(P.current&1))0===V&&(V=3);else{if(0===V||3===V)V=\n4;null===U||0===(Dg&134217727)&&0===(Hi&134217727)||Ii(U,W)}if(d||c)b.flags|=4;return null;case 4:return fh(),Ci(b),null===a&&cf(b.stateNode.containerInfo),null;case 10:return rg(b),null;case 17:return Ff(b.type)&&Gf(),null;case 19:H(P);d=b.memoizedState;if(null===d)return null;f=0!==(b.flags&64);g=d.rendering;if(null===g)if(f)Fi(d,!1);else{if(0!==V||null!==a&&0!==(a.flags&64))for(a=b.child;null!==a;){g=ih(a);if(null!==g){b.flags|=64;Fi(d,!1);f=g.updateQueue;null!==f&&(b.updateQueue=f,b.flags|=4);\nnull===d.lastEffect&&(b.firstEffect=null);b.lastEffect=d.lastEffect;d=c;for(c=b.child;null!==c;)f=c,a=d,f.flags&=2,f.nextEffect=null,f.firstEffect=null,f.lastEffect=null,g=f.alternate,null===g?(f.childLanes=0,f.lanes=a,f.child=null,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,a=g.dependencies,\nf.dependencies=null===a?null:{lanes:a.lanes,firstContext:a.firstContext}),c=c.sibling;I(P,P.current&1|2);return b.child}a=a.sibling}null!==d.tail&&O()>Ji&&(b.flags|=64,f=!0,Fi(d,!1),b.lanes=33554432)}else{if(!f)if(a=ih(g),null!==a){if(b.flags|=64,f=!0,c=a.updateQueue,null!==c&&(b.updateQueue=c,b.flags|=4),Fi(d,!0),null===d.tail&&\"hidden\"===d.tailMode&&!g.alternate&&!lh)return b=b.lastEffect=d.lastEffect,null!==b&&(b.nextEffect=null),null}else 2*O()-d.renderingStartTime>Ji&&1073741824!==c&&(b.flags|=\n64,f=!0,Fi(d,!1),b.lanes=33554432);d.isBackwards?(g.sibling=b.child,b.child=g):(c=d.last,null!==c?c.sibling=g:b.child=g,d.last=g)}return null!==d.tail?(c=d.tail,d.rendering=c,d.tail=c.sibling,d.lastEffect=b.lastEffect,d.renderingStartTime=O(),c.sibling=null,b=P.current,I(P,f?b&1|2:b&1),c):null;case 23:case 24:return Ki(),null!==a&&null!==a.memoizedState!==(null!==b.memoizedState)&&\"unstable-defer-without-hiding\"!==d.mode&&(b.flags|=4),null}throw Error(y(156,b.tag));}\nfunction Li(a){switch(a.tag){case 1:Ff(a.type)&&Gf();var b=a.flags;return b&4096?(a.flags=b&-4097|64,a):null;case 3:fh();H(N);H(M);uh();b=a.flags;if(0!==(b&64))throw Error(y(285));a.flags=b&-4097|64;return a;case 5:return hh(a),null;case 13:return H(P),b=a.flags,b&4096?(a.flags=b&-4097|64,a):null;case 19:return H(P),null;case 4:return fh(),null;case 10:return rg(a),null;case 23:case 24:return Ki(),null;default:return null}}\nfunction Mi(a,b){try{var c=\"\",d=b;do c+=Qa(d),d=d.return;while(d);var e=c}catch(f){e=\"\\nError generating stack: \"+f.message+\"\\n\"+f.stack}return{value:a,source:b,stack:e}}function Ni(a,b){try{console.error(b.value)}catch(c){setTimeout(function(){throw c;})}}var Oi=\"function\"===typeof WeakMap?WeakMap:Map;function Pi(a,b,c){c=zg(-1,c);c.tag=3;c.payload={element:null};var d=b.value;c.callback=function(){Qi||(Qi=!0,Ri=d);Ni(a,b)};return c}\nfunction Si(a,b,c){c=zg(-1,c);c.tag=3;var d=a.type.getDerivedStateFromError;if(\"function\"===typeof d){var e=b.value;c.payload=function(){Ni(a,b);return d(e)}}var f=a.stateNode;null!==f&&\"function\"===typeof f.componentDidCatch&&(c.callback=function(){\"function\"!==typeof d&&(null===Ti?Ti=new Set([this]):Ti.add(this),Ni(a,b));var c=b.stack;this.componentDidCatch(b.value,{componentStack:null!==c?c:\"\"})});return c}var Ui=\"function\"===typeof WeakSet?WeakSet:Set;\nfunction Vi(a){var b=a.ref;if(null!==b)if(\"function\"===typeof b)try{b(null)}catch(c){Wi(a,c)}else b.current=null}function Xi(a,b){switch(b.tag){case 0:case 11:case 15:case 22:return;case 1:if(b.flags&256&&null!==a){var c=a.memoizedProps,d=a.memoizedState;a=b.stateNode;b=a.getSnapshotBeforeUpdate(b.elementType===b.type?c:lg(b.type,c),d);a.__reactInternalSnapshotBeforeUpdate=b}return;case 3:b.flags&256&&qf(b.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(y(163));}\nfunction Yi(a,b,c){switch(c.tag){case 0:case 11:case 15:case 22:b=c.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){a=b=b.next;do{if(3===(a.tag&3)){var d=a.create;a.destroy=d()}a=a.next}while(a!==b)}b=c.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){a=b=b.next;do{var e=a;d=e.next;e=e.tag;0!==(e&4)&&0!==(e&1)&&(Zi(c,a),$i(c,a));a=d}while(a!==b)}return;case 1:a=c.stateNode;c.flags&4&&(null===b?a.componentDidMount():(d=c.elementType===c.type?b.memoizedProps:lg(c.type,b.memoizedProps),a.componentDidUpdate(d,\nb.memoizedState,a.__reactInternalSnapshotBeforeUpdate)));b=c.updateQueue;null!==b&&Eg(c,b,a);return;case 3:b=c.updateQueue;if(null!==b){a=null;if(null!==c.child)switch(c.child.tag){case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}Eg(c,b,a)}return;case 5:a=c.stateNode;null===b&&c.flags&4&&mf(c.type,c.memoizedProps)&&a.focus();return;case 6:return;case 4:return;case 12:return;case 13:null===c.memoizedState&&(c=c.alternate,null!==c&&(c=c.memoizedState,null!==c&&(c=c.dehydrated,null!==c&&Cc(c))));\nreturn;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(y(163));}\nfunction aj(a,b){for(var c=a;;){if(5===c.tag){var d=c.stateNode;if(b)d=d.style,\"function\"===typeof d.setProperty?d.setProperty(\"display\",\"none\",\"important\"):d.display=\"none\";else{d=c.stateNode;var e=c.memoizedProps.style;e=void 0!==e&&null!==e&&e.hasOwnProperty(\"display\")?e.display:null;d.style.display=sb(\"display\",e)}}else if(6===c.tag)c.stateNode.nodeValue=b?\"\":c.memoizedProps;else if((23!==c.tag&&24!==c.tag||null===c.memoizedState||c===a)&&null!==c.child){c.child.return=c;c=c.child;continue}if(c===\na)break;for(;null===c.sibling;){if(null===c.return||c.return===a)return;c=c.return}c.sibling.return=c.return;c=c.sibling}}\nfunction bj(a,b){if(Mf&&\"function\"===typeof Mf.onCommitFiberUnmount)try{Mf.onCommitFiberUnmount(Lf,b)}catch(f){}switch(b.tag){case 0:case 11:case 14:case 15:case 22:a=b.updateQueue;if(null!==a&&(a=a.lastEffect,null!==a)){var c=a=a.next;do{var d=c,e=d.destroy;d=d.tag;if(void 0!==e)if(0!==(d&4))Zi(b,c);else{d=b;try{e()}catch(f){Wi(d,f)}}c=c.next}while(c!==a)}break;case 1:Vi(b);a=b.stateNode;if(\"function\"===typeof a.componentWillUnmount)try{a.props=b.memoizedProps,a.state=b.memoizedState,a.componentWillUnmount()}catch(f){Wi(b,\nf)}break;case 5:Vi(b);break;case 4:cj(a,b)}}function dj(a){a.alternate=null;a.child=null;a.dependencies=null;a.firstEffect=null;a.lastEffect=null;a.memoizedProps=null;a.memoizedState=null;a.pendingProps=null;a.return=null;a.updateQueue=null}function ej(a){return 5===a.tag||3===a.tag||4===a.tag}\nfunction fj(a){a:{for(var b=a.return;null!==b;){if(ej(b))break a;b=b.return}throw Error(y(160));}var c=b;b=c.stateNode;switch(c.tag){case 5:var d=!1;break;case 3:b=b.containerInfo;d=!0;break;case 4:b=b.containerInfo;d=!0;break;default:throw Error(y(161));}c.flags&16&&(pb(b,\"\"),c.flags&=-17);a:b:for(c=a;;){for(;null===c.sibling;){if(null===c.return||ej(c.return)){c=null;break a}c=c.return}c.sibling.return=c.return;for(c=c.sibling;5!==c.tag&&6!==c.tag&&18!==c.tag;){if(c.flags&2)continue b;if(null===\nc.child||4===c.tag)continue b;else c.child.return=c,c=c.child}if(!(c.flags&2)){c=c.stateNode;break a}}d?gj(a,c,b):hj(a,c,b)}\nfunction gj(a,b,c){var d=a.tag,e=5===d||6===d;if(e)a=e?a.stateNode:a.stateNode.instance,b?8===c.nodeType?c.parentNode.insertBefore(a,b):c.insertBefore(a,b):(8===c.nodeType?(b=c.parentNode,b.insertBefore(a,c)):(b=c,b.appendChild(a)),c=c._reactRootContainer,null!==c&&void 0!==c||null!==b.onclick||(b.onclick=jf));else if(4!==d&&(a=a.child,null!==a))for(gj(a,b,c),a=a.sibling;null!==a;)gj(a,b,c),a=a.sibling}\nfunction hj(a,b,c){var d=a.tag,e=5===d||6===d;if(e)a=e?a.stateNode:a.stateNode.instance,b?c.insertBefore(a,b):c.appendChild(a);else if(4!==d&&(a=a.child,null!==a))for(hj(a,b,c),a=a.sibling;null!==a;)hj(a,b,c),a=a.sibling}\nfunction cj(a,b){for(var c=b,d=!1,e,f;;){if(!d){d=c.return;a:for(;;){if(null===d)throw Error(y(160));e=d.stateNode;switch(d.tag){case 5:f=!1;break a;case 3:e=e.containerInfo;f=!0;break a;case 4:e=e.containerInfo;f=!0;break a}d=d.return}d=!0}if(5===c.tag||6===c.tag){a:for(var g=a,h=c,k=h;;)if(bj(g,k),null!==k.child&&4!==k.tag)k.child.return=k,k=k.child;else{if(k===h)break a;for(;null===k.sibling;){if(null===k.return||k.return===h)break a;k=k.return}k.sibling.return=k.return;k=k.sibling}f?(g=e,h=c.stateNode,\n8===g.nodeType?g.parentNode.removeChild(h):g.removeChild(h)):e.removeChild(c.stateNode)}else if(4===c.tag){if(null!==c.child){e=c.stateNode.containerInfo;f=!0;c.child.return=c;c=c.child;continue}}else if(bj(a,c),null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return;4===c.tag&&(d=!1)}c.sibling.return=c.return;c=c.sibling}}\nfunction ij(a,b){switch(b.tag){case 0:case 11:case 14:case 15:case 22:var c=b.updateQueue;c=null!==c?c.lastEffect:null;if(null!==c){var d=c=c.next;do 3===(d.tag&3)&&(a=d.destroy,d.destroy=void 0,void 0!==a&&a()),d=d.next;while(d!==c)}return;case 1:return;case 5:c=b.stateNode;if(null!=c){d=b.memoizedProps;var e=null!==a?a.memoizedProps:d;a=b.type;var f=b.updateQueue;b.updateQueue=null;if(null!==f){c[xf]=d;\"input\"===a&&\"radio\"===d.type&&null!=d.name&&$a(c,d);wb(a,e);b=wb(a,d);for(e=0;e<f.length;e+=\n2){var g=f[e],h=f[e+1];\"style\"===g?tb(c,h):\"dangerouslySetInnerHTML\"===g?ob(c,h):\"children\"===g?pb(c,h):qa(c,g,h,b)}switch(a){case \"input\":ab(c,d);break;case \"textarea\":ib(c,d);break;case \"select\":a=c._wrapperState.wasMultiple,c._wrapperState.wasMultiple=!!d.multiple,f=d.value,null!=f?fb(c,!!d.multiple,f,!1):a!==!!d.multiple&&(null!=d.defaultValue?fb(c,!!d.multiple,d.defaultValue,!0):fb(c,!!d.multiple,d.multiple?[]:\"\",!1))}}}return;case 6:if(null===b.stateNode)throw Error(y(162));b.stateNode.nodeValue=\nb.memoizedProps;return;case 3:c=b.stateNode;c.hydrate&&(c.hydrate=!1,Cc(c.containerInfo));return;case 12:return;case 13:null!==b.memoizedState&&(jj=O(),aj(b.child,!0));kj(b);return;case 19:kj(b);return;case 17:return;case 23:case 24:aj(b,null!==b.memoizedState);return}throw Error(y(163));}function kj(a){var b=a.updateQueue;if(null!==b){a.updateQueue=null;var c=a.stateNode;null===c&&(c=a.stateNode=new Ui);b.forEach(function(b){var d=lj.bind(null,a,b);c.has(b)||(c.add(b),b.then(d,d))})}}\nfunction mj(a,b){return null!==a&&(a=a.memoizedState,null===a||null!==a.dehydrated)?(b=b.memoizedState,null!==b&&null===b.dehydrated):!1}var nj=Math.ceil,oj=ra.ReactCurrentDispatcher,pj=ra.ReactCurrentOwner,X=0,U=null,Y=null,W=0,qj=0,rj=Bf(0),V=0,sj=null,tj=0,Dg=0,Hi=0,uj=0,vj=null,jj=0,Ji=Infinity;function wj(){Ji=O()+500}var Z=null,Qi=!1,Ri=null,Ti=null,xj=!1,yj=null,zj=90,Aj=[],Bj=[],Cj=null,Dj=0,Ej=null,Fj=-1,Gj=0,Hj=0,Ij=null,Jj=!1;function Hg(){return 0!==(X&48)?O():-1!==Fj?Fj:Fj=O()}\nfunction Ig(a){a=a.mode;if(0===(a&2))return 1;if(0===(a&4))return 99===eg()?1:2;0===Gj&&(Gj=tj);if(0!==kg.transition){0!==Hj&&(Hj=null!==vj?vj.pendingLanes:0);a=Gj;var b=4186112&~Hj;b&=-b;0===b&&(a=4186112&~a,b=a&-a,0===b&&(b=8192));return b}a=eg();0!==(X&4)&&98===a?a=Xc(12,Gj):(a=Sc(a),a=Xc(a,Gj));return a}\nfunction Jg(a,b,c){if(50<Dj)throw Dj=0,Ej=null,Error(y(185));a=Kj(a,b);if(null===a)return null;$c(a,b,c);a===U&&(Hi|=b,4===V&&Ii(a,W));var d=eg();1===b?0!==(X&8)&&0===(X&48)?Lj(a):(Mj(a,c),0===X&&(wj(),ig())):(0===(X&4)||98!==d&&99!==d||(null===Cj?Cj=new Set([a]):Cj.add(a)),Mj(a,c));vj=a}function Kj(a,b){a.lanes|=b;var c=a.alternate;null!==c&&(c.lanes|=b);c=a;for(a=a.return;null!==a;)a.childLanes|=b,c=a.alternate,null!==c&&(c.childLanes|=b),c=a,a=a.return;return 3===c.tag?c.stateNode:null}\nfunction Mj(a,b){for(var c=a.callbackNode,d=a.suspendedLanes,e=a.pingedLanes,f=a.expirationTimes,g=a.pendingLanes;0<g;){var h=31-Vc(g),k=1<<h,l=f[h];if(-1===l){if(0===(k&d)||0!==(k&e)){l=b;Rc(k);var n=F;f[h]=10<=n?l+250:6<=n?l+5E3:-1}}else l<=b&&(a.expiredLanes|=k);g&=~k}d=Uc(a,a===U?W:0);b=F;if(0===d)null!==c&&(c!==Zf&&Pf(c),a.callbackNode=null,a.callbackPriority=0);else{if(null!==c){if(a.callbackPriority===b)return;c!==Zf&&Pf(c)}15===b?(c=Lj.bind(null,a),null===ag?(ag=[c],bg=Of(Uf,jg)):ag.push(c),\nc=Zf):14===b?c=hg(99,Lj.bind(null,a)):(c=Tc(b),c=hg(c,Nj.bind(null,a)));a.callbackPriority=b;a.callbackNode=c}}\nfunction Nj(a){Fj=-1;Hj=Gj=0;if(0!==(X&48))throw Error(y(327));var b=a.callbackNode;if(Oj()&&a.callbackNode!==b)return null;var c=Uc(a,a===U?W:0);if(0===c)return null;var d=c;var e=X;X|=16;var f=Pj();if(U!==a||W!==d)wj(),Qj(a,d);do try{Rj();break}catch(h){Sj(a,h)}while(1);qg();oj.current=f;X=e;null!==Y?d=0:(U=null,W=0,d=V);if(0!==(tj&Hi))Qj(a,0);else if(0!==d){2===d&&(X|=64,a.hydrate&&(a.hydrate=!1,qf(a.containerInfo)),c=Wc(a),0!==c&&(d=Tj(a,c)));if(1===d)throw b=sj,Qj(a,0),Ii(a,c),Mj(a,O()),b;a.finishedWork=\na.current.alternate;a.finishedLanes=c;switch(d){case 0:case 1:throw Error(y(345));case 2:Uj(a);break;case 3:Ii(a,c);if((c&62914560)===c&&(d=jj+500-O(),10<d)){if(0!==Uc(a,0))break;e=a.suspendedLanes;if((e&c)!==c){Hg();a.pingedLanes|=a.suspendedLanes&e;break}a.timeoutHandle=of(Uj.bind(null,a),d);break}Uj(a);break;case 4:Ii(a,c);if((c&4186112)===c)break;d=a.eventTimes;for(e=-1;0<c;){var g=31-Vc(c);f=1<<g;g=d[g];g>e&&(e=g);c&=~f}c=e;c=O()-c;c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3E3>c?3E3:4320>\nc?4320:1960*nj(c/1960))-c;if(10<c){a.timeoutHandle=of(Uj.bind(null,a),c);break}Uj(a);break;case 5:Uj(a);break;default:throw Error(y(329));}}Mj(a,O());return a.callbackNode===b?Nj.bind(null,a):null}function Ii(a,b){b&=~uj;b&=~Hi;a.suspendedLanes|=b;a.pingedLanes&=~b;for(a=a.expirationTimes;0<b;){var c=31-Vc(b),d=1<<c;a[c]=-1;b&=~d}}\nfunction Lj(a){if(0!==(X&48))throw Error(y(327));Oj();if(a===U&&0!==(a.expiredLanes&W)){var b=W;var c=Tj(a,b);0!==(tj&Hi)&&(b=Uc(a,b),c=Tj(a,b))}else b=Uc(a,0),c=Tj(a,b);0!==a.tag&&2===c&&(X|=64,a.hydrate&&(a.hydrate=!1,qf(a.containerInfo)),b=Wc(a),0!==b&&(c=Tj(a,b)));if(1===c)throw c=sj,Qj(a,0),Ii(a,b),Mj(a,O()),c;a.finishedWork=a.current.alternate;a.finishedLanes=b;Uj(a);Mj(a,O());return null}\nfunction Vj(){if(null!==Cj){var a=Cj;Cj=null;a.forEach(function(a){a.expiredLanes|=24&a.pendingLanes;Mj(a,O())})}ig()}function Wj(a,b){var c=X;X|=1;try{return a(b)}finally{X=c,0===X&&(wj(),ig())}}function Xj(a,b){var c=X;X&=-2;X|=8;try{return a(b)}finally{X=c,0===X&&(wj(),ig())}}function ni(a,b){I(rj,qj);qj|=b;tj|=b}function Ki(){qj=rj.current;H(rj)}\nfunction Qj(a,b){a.finishedWork=null;a.finishedLanes=0;var c=a.timeoutHandle;-1!==c&&(a.timeoutHandle=-1,pf(c));if(null!==Y)for(c=Y.return;null!==c;){var d=c;switch(d.tag){case 1:d=d.type.childContextTypes;null!==d&&void 0!==d&&Gf();break;case 3:fh();H(N);H(M);uh();break;case 5:hh(d);break;case 4:fh();break;case 13:H(P);break;case 19:H(P);break;case 10:rg(d);break;case 23:case 24:Ki()}c=c.return}U=a;Y=Tg(a.current,null);W=qj=tj=b;V=0;sj=null;uj=Hi=Dg=0}\nfunction Sj(a,b){do{var c=Y;try{qg();vh.current=Gh;if(yh){for(var d=R.memoizedState;null!==d;){var e=d.queue;null!==e&&(e.pending=null);d=d.next}yh=!1}xh=0;T=S=R=null;zh=!1;pj.current=null;if(null===c||null===c.return){V=1;sj=b;Y=null;break}a:{var f=a,g=c.return,h=c,k=b;b=W;h.flags|=2048;h.firstEffect=h.lastEffect=null;if(null!==k&&\"object\"===typeof k&&\"function\"===typeof k.then){var l=k;if(0===(h.mode&2)){var n=h.alternate;n?(h.updateQueue=n.updateQueue,h.memoizedState=n.memoizedState,h.lanes=n.lanes):\n(h.updateQueue=null,h.memoizedState=null)}var A=0!==(P.current&1),p=g;do{var C;if(C=13===p.tag){var x=p.memoizedState;if(null!==x)C=null!==x.dehydrated?!0:!1;else{var w=p.memoizedProps;C=void 0===w.fallback?!1:!0!==w.unstable_avoidThisFallback?!0:A?!1:!0}}if(C){var z=p.updateQueue;if(null===z){var u=new Set;u.add(l);p.updateQueue=u}else z.add(l);if(0===(p.mode&2)){p.flags|=64;h.flags|=16384;h.flags&=-2981;if(1===h.tag)if(null===h.alternate)h.tag=17;else{var t=zg(-1,1);t.tag=2;Ag(h,t)}h.lanes|=1;break a}k=\nvoid 0;h=b;var q=f.pingCache;null===q?(q=f.pingCache=new Oi,k=new Set,q.set(l,k)):(k=q.get(l),void 0===k&&(k=new Set,q.set(l,k)));if(!k.has(h)){k.add(h);var v=Yj.bind(null,f,l,h);l.then(v,v)}p.flags|=4096;p.lanes=b;break a}p=p.return}while(null!==p);k=Error((Ra(h.type)||\"A React component\")+\" suspended while rendering, but no fallback UI was specified.\\n\\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.\")}5!==V&&(V=2);k=Mi(k,h);p=\ng;do{switch(p.tag){case 3:f=k;p.flags|=4096;b&=-b;p.lanes|=b;var J=Pi(p,f,b);Bg(p,J);break a;case 1:f=k;var K=p.type,Q=p.stateNode;if(0===(p.flags&64)&&(\"function\"===typeof K.getDerivedStateFromError||null!==Q&&\"function\"===typeof Q.componentDidCatch&&(null===Ti||!Ti.has(Q)))){p.flags|=4096;b&=-b;p.lanes|=b;var L=Si(p,f,b);Bg(p,L);break a}}p=p.return}while(null!==p)}Zj(c)}catch(va){b=va;Y===c&&null!==c&&(Y=c=c.return);continue}break}while(1)}\nfunction Pj(){var a=oj.current;oj.current=Gh;return null===a?Gh:a}function Tj(a,b){var c=X;X|=16;var d=Pj();U===a&&W===b||Qj(a,b);do try{ak();break}catch(e){Sj(a,e)}while(1);qg();X=c;oj.current=d;if(null!==Y)throw Error(y(261));U=null;W=0;return V}function ak(){for(;null!==Y;)bk(Y)}function Rj(){for(;null!==Y&&!Qf();)bk(Y)}function bk(a){var b=ck(a.alternate,a,qj);a.memoizedProps=a.pendingProps;null===b?Zj(a):Y=b;pj.current=null}\nfunction Zj(a){var b=a;do{var c=b.alternate;a=b.return;if(0===(b.flags&2048)){c=Gi(c,b,qj);if(null!==c){Y=c;return}c=b;if(24!==c.tag&&23!==c.tag||null===c.memoizedState||0!==(qj&1073741824)||0===(c.mode&4)){for(var d=0,e=c.child;null!==e;)d|=e.lanes|e.childLanes,e=e.sibling;c.childLanes=d}null!==a&&0===(a.flags&2048)&&(null===a.firstEffect&&(a.firstEffect=b.firstEffect),null!==b.lastEffect&&(null!==a.lastEffect&&(a.lastEffect.nextEffect=b.firstEffect),a.lastEffect=b.lastEffect),1<b.flags&&(null!==\na.lastEffect?a.lastEffect.nextEffect=b:a.firstEffect=b,a.lastEffect=b))}else{c=Li(b);if(null!==c){c.flags&=2047;Y=c;return}null!==a&&(a.firstEffect=a.lastEffect=null,a.flags|=2048)}b=b.sibling;if(null!==b){Y=b;return}Y=b=a}while(null!==b);0===V&&(V=5)}function Uj(a){var b=eg();gg(99,dk.bind(null,a,b));return null}\nfunction dk(a,b){do Oj();while(null!==yj);if(0!==(X&48))throw Error(y(327));var c=a.finishedWork;if(null===c)return null;a.finishedWork=null;a.finishedLanes=0;if(c===a.current)throw Error(y(177));a.callbackNode=null;var d=c.lanes|c.childLanes,e=d,f=a.pendingLanes&~e;a.pendingLanes=e;a.suspendedLanes=0;a.pingedLanes=0;a.expiredLanes&=e;a.mutableReadLanes&=e;a.entangledLanes&=e;e=a.entanglements;for(var g=a.eventTimes,h=a.expirationTimes;0<f;){var k=31-Vc(f),l=1<<k;e[k]=0;g[k]=-1;h[k]=-1;f&=~l}null!==\nCj&&0===(d&24)&&Cj.has(a)&&Cj.delete(a);a===U&&(Y=U=null,W=0);1<c.flags?null!==c.lastEffect?(c.lastEffect.nextEffect=c,d=c.firstEffect):d=c:d=c.firstEffect;if(null!==d){e=X;X|=32;pj.current=null;kf=fd;g=Ne();if(Oe(g)){if(\"selectionStart\"in g)h={start:g.selectionStart,end:g.selectionEnd};else a:if(h=(h=g.ownerDocument)&&h.defaultView||window,(l=h.getSelection&&h.getSelection())&&0!==l.rangeCount){h=l.anchorNode;f=l.anchorOffset;k=l.focusNode;l=l.focusOffset;try{h.nodeType,k.nodeType}catch(va){h=null;\nbreak a}var n=0,A=-1,p=-1,C=0,x=0,w=g,z=null;b:for(;;){for(var u;;){w!==h||0!==f&&3!==w.nodeType||(A=n+f);w!==k||0!==l&&3!==w.nodeType||(p=n+l);3===w.nodeType&&(n+=w.nodeValue.length);if(null===(u=w.firstChild))break;z=w;w=u}for(;;){if(w===g)break b;z===h&&++C===f&&(A=n);z===k&&++x===l&&(p=n);if(null!==(u=w.nextSibling))break;w=z;z=w.parentNode}w=u}h=-1===A||-1===p?null:{start:A,end:p}}else h=null;h=h||{start:0,end:0}}else h=null;lf={focusedElem:g,selectionRange:h};fd=!1;Ij=null;Jj=!1;Z=d;do try{ek()}catch(va){if(null===\nZ)throw Error(y(330));Wi(Z,va);Z=Z.nextEffect}while(null!==Z);Ij=null;Z=d;do try{for(g=a;null!==Z;){var t=Z.flags;t&16&&pb(Z.stateNode,\"\");if(t&128){var q=Z.alternate;if(null!==q){var v=q.ref;null!==v&&(\"function\"===typeof v?v(null):v.current=null)}}switch(t&1038){case 2:fj(Z);Z.flags&=-3;break;case 6:fj(Z);Z.flags&=-3;ij(Z.alternate,Z);break;case 1024:Z.flags&=-1025;break;case 1028:Z.flags&=-1025;ij(Z.alternate,Z);break;case 4:ij(Z.alternate,Z);break;case 8:h=Z;cj(g,h);var J=h.alternate;dj(h);null!==\nJ&&dj(J)}Z=Z.nextEffect}}catch(va){if(null===Z)throw Error(y(330));Wi(Z,va);Z=Z.nextEffect}while(null!==Z);v=lf;q=Ne();t=v.focusedElem;g=v.selectionRange;if(q!==t&&t&&t.ownerDocument&&Me(t.ownerDocument.documentElement,t)){null!==g&&Oe(t)&&(q=g.start,v=g.end,void 0===v&&(v=q),\"selectionStart\"in t?(t.selectionStart=q,t.selectionEnd=Math.min(v,t.value.length)):(v=(q=t.ownerDocument||document)&&q.defaultView||window,v.getSelection&&(v=v.getSelection(),h=t.textContent.length,J=Math.min(g.start,h),g=void 0===\ng.end?J:Math.min(g.end,h),!v.extend&&J>g&&(h=g,g=J,J=h),h=Le(t,J),f=Le(t,g),h&&f&&(1!==v.rangeCount||v.anchorNode!==h.node||v.anchorOffset!==h.offset||v.focusNode!==f.node||v.focusOffset!==f.offset)&&(q=q.createRange(),q.setStart(h.node,h.offset),v.removeAllRanges(),J>g?(v.addRange(q),v.extend(f.node,f.offset)):(q.setEnd(f.node,f.offset),v.addRange(q))))));q=[];for(v=t;v=v.parentNode;)1===v.nodeType&&q.push({element:v,left:v.scrollLeft,top:v.scrollTop});\"function\"===typeof t.focus&&t.focus();for(t=\n0;t<q.length;t++)v=q[t],v.element.scrollLeft=v.left,v.element.scrollTop=v.top}fd=!!kf;lf=kf=null;a.current=c;Z=d;do try{for(t=a;null!==Z;){var K=Z.flags;K&36&&Yi(t,Z.alternate,Z);if(K&128){q=void 0;var Q=Z.ref;if(null!==Q){var L=Z.stateNode;switch(Z.tag){case 5:q=L;break;default:q=L}\"function\"===typeof Q?Q(q):Q.current=q}}Z=Z.nextEffect}}catch(va){if(null===Z)throw Error(y(330));Wi(Z,va);Z=Z.nextEffect}while(null!==Z);Z=null;$f();X=e}else a.current=c;if(xj)xj=!1,yj=a,zj=b;else for(Z=d;null!==Z;)b=\nZ.nextEffect,Z.nextEffect=null,Z.flags&8&&(K=Z,K.sibling=null,K.stateNode=null),Z=b;d=a.pendingLanes;0===d&&(Ti=null);1===d?a===Ej?Dj++:(Dj=0,Ej=a):Dj=0;c=c.stateNode;if(Mf&&\"function\"===typeof Mf.onCommitFiberRoot)try{Mf.onCommitFiberRoot(Lf,c,void 0,64===(c.current.flags&64))}catch(va){}Mj(a,O());if(Qi)throw Qi=!1,a=Ri,Ri=null,a;if(0!==(X&8))return null;ig();return null}\nfunction ek(){for(;null!==Z;){var a=Z.alternate;Jj||null===Ij||(0!==(Z.flags&8)?dc(Z,Ij)&&(Jj=!0):13===Z.tag&&mj(a,Z)&&dc(Z,Ij)&&(Jj=!0));var b=Z.flags;0!==(b&256)&&Xi(a,Z);0===(b&512)||xj||(xj=!0,hg(97,function(){Oj();return null}));Z=Z.nextEffect}}function Oj(){if(90!==zj){var a=97<zj?97:zj;zj=90;return gg(a,fk)}return!1}function $i(a,b){Aj.push(b,a);xj||(xj=!0,hg(97,function(){Oj();return null}))}function Zi(a,b){Bj.push(b,a);xj||(xj=!0,hg(97,function(){Oj();return null}))}\nfunction fk(){if(null===yj)return!1;var a=yj;yj=null;if(0!==(X&48))throw Error(y(331));var b=X;X|=32;var c=Bj;Bj=[];for(var d=0;d<c.length;d+=2){var e=c[d],f=c[d+1],g=e.destroy;e.destroy=void 0;if(\"function\"===typeof g)try{g()}catch(k){if(null===f)throw Error(y(330));Wi(f,k)}}c=Aj;Aj=[];for(d=0;d<c.length;d+=2){e=c[d];f=c[d+1];try{var h=e.create;e.destroy=h()}catch(k){if(null===f)throw Error(y(330));Wi(f,k)}}for(h=a.current.firstEffect;null!==h;)a=h.nextEffect,h.nextEffect=null,h.flags&8&&(h.sibling=\nnull,h.stateNode=null),h=a;X=b;ig();return!0}function gk(a,b,c){b=Mi(c,b);b=Pi(a,b,1);Ag(a,b);b=Hg();a=Kj(a,1);null!==a&&($c(a,1,b),Mj(a,b))}\nfunction Wi(a,b){if(3===a.tag)gk(a,a,b);else for(var c=a.return;null!==c;){if(3===c.tag){gk(c,a,b);break}else if(1===c.tag){var d=c.stateNode;if(\"function\"===typeof c.type.getDerivedStateFromError||\"function\"===typeof d.componentDidCatch&&(null===Ti||!Ti.has(d))){a=Mi(b,a);var e=Si(c,a,1);Ag(c,e);e=Hg();c=Kj(c,1);if(null!==c)$c(c,1,e),Mj(c,e);else if(\"function\"===typeof d.componentDidCatch&&(null===Ti||!Ti.has(d)))try{d.componentDidCatch(b,a)}catch(f){}break}}c=c.return}}\nfunction Yj(a,b,c){var d=a.pingCache;null!==d&&d.delete(b);b=Hg();a.pingedLanes|=a.suspendedLanes&c;U===a&&(W&c)===c&&(4===V||3===V&&(W&62914560)===W&&500>O()-jj?Qj(a,0):uj|=c);Mj(a,b)}function lj(a,b){var c=a.stateNode;null!==c&&c.delete(b);b=0;0===b&&(b=a.mode,0===(b&2)?b=1:0===(b&4)?b=99===eg()?1:2:(0===Gj&&(Gj=tj),b=Yc(62914560&~Gj),0===b&&(b=4194304)));c=Hg();a=Kj(a,b);null!==a&&($c(a,b,c),Mj(a,c))}var ck;\nck=function(a,b,c){var d=b.lanes;if(null!==a)if(a.memoizedProps!==b.pendingProps||N.current)ug=!0;else if(0!==(c&d))ug=0!==(a.flags&16384)?!0:!1;else{ug=!1;switch(b.tag){case 3:ri(b);sh();break;case 5:gh(b);break;case 1:Ff(b.type)&&Jf(b);break;case 4:eh(b,b.stateNode.containerInfo);break;case 10:d=b.memoizedProps.value;var e=b.type._context;I(mg,e._currentValue);e._currentValue=d;break;case 13:if(null!==b.memoizedState){if(0!==(c&b.child.childLanes))return ti(a,b,c);I(P,P.current&1);b=hi(a,b,c);return null!==\nb?b.sibling:null}I(P,P.current&1);break;case 19:d=0!==(c&b.childLanes);if(0!==(a.flags&64)){if(d)return Ai(a,b,c);b.flags|=64}e=b.memoizedState;null!==e&&(e.rendering=null,e.tail=null,e.lastEffect=null);I(P,P.current);if(d)break;else return null;case 23:case 24:return b.lanes=0,mi(a,b,c)}return hi(a,b,c)}else ug=!1;b.lanes=0;switch(b.tag){case 2:d=b.type;null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2);a=b.pendingProps;e=Ef(b,M.current);tg(b,c);e=Ch(null,b,d,a,e,c);b.flags|=1;if(\"object\"===\ntypeof e&&null!==e&&\"function\"===typeof e.render&&void 0===e.$$typeof){b.tag=1;b.memoizedState=null;b.updateQueue=null;if(Ff(d)){var f=!0;Jf(b)}else f=!1;b.memoizedState=null!==e.state&&void 0!==e.state?e.state:null;xg(b);var g=d.getDerivedStateFromProps;\"function\"===typeof g&&Gg(b,d,g,a);e.updater=Kg;b.stateNode=e;e._reactInternals=b;Og(b,d,a,c);b=qi(null,b,d,!0,f,c)}else b.tag=0,fi(null,b,e,c),b=b.child;return b;case 16:e=b.elementType;a:{null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2);\na=b.pendingProps;f=e._init;e=f(e._payload);b.type=e;f=b.tag=hk(e);a=lg(e,a);switch(f){case 0:b=li(null,b,e,a,c);break a;case 1:b=pi(null,b,e,a,c);break a;case 11:b=gi(null,b,e,a,c);break a;case 14:b=ii(null,b,e,lg(e.type,a),d,c);break a}throw Error(y(306,e,\"\"));}return b;case 0:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:lg(d,e),li(a,b,d,e,c);case 1:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:lg(d,e),pi(a,b,d,e,c);case 3:ri(b);d=b.updateQueue;if(null===a||null===d)throw Error(y(282));\nd=b.pendingProps;e=b.memoizedState;e=null!==e?e.element:null;yg(a,b);Cg(b,d,null,c);d=b.memoizedState.element;if(d===e)sh(),b=hi(a,b,c);else{e=b.stateNode;if(f=e.hydrate)kh=rf(b.stateNode.containerInfo.firstChild),jh=b,f=lh=!0;if(f){a=e.mutableSourceEagerHydrationData;if(null!=a)for(e=0;e<a.length;e+=2)f=a[e],f._workInProgressVersionPrimary=a[e+1],th.push(f);c=Zg(b,null,d,c);for(b.child=c;c;)c.flags=c.flags&-3|1024,c=c.sibling}else fi(a,b,d,c),sh();b=b.child}return b;case 5:return gh(b),null===a&&\nph(b),d=b.type,e=b.pendingProps,f=null!==a?a.memoizedProps:null,g=e.children,nf(d,e)?g=null:null!==f&&nf(d,f)&&(b.flags|=16),oi(a,b),fi(a,b,g,c),b.child;case 6:return null===a&&ph(b),null;case 13:return ti(a,b,c);case 4:return eh(b,b.stateNode.containerInfo),d=b.pendingProps,null===a?b.child=Yg(b,null,d,c):fi(a,b,d,c),b.child;case 11:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:lg(d,e),gi(a,b,d,e,c);case 7:return fi(a,b,b.pendingProps,c),b.child;case 8:return fi(a,b,b.pendingProps.children,\nc),b.child;case 12:return fi(a,b,b.pendingProps.children,c),b.child;case 10:a:{d=b.type._context;e=b.pendingProps;g=b.memoizedProps;f=e.value;var h=b.type._context;I(mg,h._currentValue);h._currentValue=f;if(null!==g)if(h=g.value,f=He(h,f)?0:(\"function\"===typeof d._calculateChangedBits?d._calculateChangedBits(h,f):1073741823)|0,0===f){if(g.children===e.children&&!N.current){b=hi(a,b,c);break a}}else for(h=b.child,null!==h&&(h.return=b);null!==h;){var k=h.dependencies;if(null!==k){g=h.child;for(var l=\nk.firstContext;null!==l;){if(l.context===d&&0!==(l.observedBits&f)){1===h.tag&&(l=zg(-1,c&-c),l.tag=2,Ag(h,l));h.lanes|=c;l=h.alternate;null!==l&&(l.lanes|=c);sg(h.return,c);k.lanes|=c;break}l=l.next}}else g=10===h.tag?h.type===b.type?null:h.child:h.child;if(null!==g)g.return=h;else for(g=h;null!==g;){if(g===b){g=null;break}h=g.sibling;if(null!==h){h.return=g.return;g=h;break}g=g.return}h=g}fi(a,b,e.children,c);b=b.child}return b;case 9:return e=b.type,f=b.pendingProps,d=f.children,tg(b,c),e=vg(e,\nf.unstable_observedBits),d=d(e),b.flags|=1,fi(a,b,d,c),b.child;case 14:return e=b.type,f=lg(e,b.pendingProps),f=lg(e.type,f),ii(a,b,e,f,d,c);case 15:return ki(a,b,b.type,b.pendingProps,d,c);case 17:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:lg(d,e),null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2),b.tag=1,Ff(d)?(a=!0,Jf(b)):a=!1,tg(b,c),Mg(b,d,e),Og(b,d,e,c),qi(null,b,d,!0,a,c);case 19:return Ai(a,b,c);case 23:return mi(a,b,c);case 24:return mi(a,b,c)}throw Error(y(156,b.tag));\n};function ik(a,b,c,d){this.tag=a;this.key=c;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=b;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=d;this.flags=0;this.lastEffect=this.firstEffect=this.nextEffect=null;this.childLanes=this.lanes=0;this.alternate=null}function nh(a,b,c,d){return new ik(a,b,c,d)}function ji(a){a=a.prototype;return!(!a||!a.isReactComponent)}\nfunction hk(a){if(\"function\"===typeof a)return ji(a)?1:0;if(void 0!==a&&null!==a){a=a.$$typeof;if(a===Aa)return 11;if(a===Da)return 14}return 2}\nfunction Tg(a,b){var c=a.alternate;null===c?(c=nh(a.tag,b,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=b,c.type=a.type,c.flags=0,c.nextEffect=null,c.firstEffect=null,c.lastEffect=null);c.childLanes=a.childLanes;c.lanes=a.lanes;c.child=a.child;c.memoizedProps=a.memoizedProps;c.memoizedState=a.memoizedState;c.updateQueue=a.updateQueue;b=a.dependencies;c.dependencies=null===b?null:{lanes:b.lanes,firstContext:b.firstContext};\nc.sibling=a.sibling;c.index=a.index;c.ref=a.ref;return c}\nfunction Vg(a,b,c,d,e,f){var g=2;d=a;if(\"function\"===typeof a)ji(a)&&(g=1);else if(\"string\"===typeof a)g=5;else a:switch(a){case ua:return Xg(c.children,e,f,b);case Ha:g=8;e|=16;break;case wa:g=8;e|=1;break;case xa:return a=nh(12,c,b,e|8),a.elementType=xa,a.type=xa,a.lanes=f,a;case Ba:return a=nh(13,c,b,e),a.type=Ba,a.elementType=Ba,a.lanes=f,a;case Ca:return a=nh(19,c,b,e),a.elementType=Ca,a.lanes=f,a;case Ia:return vi(c,e,f,b);case Ja:return a=nh(24,c,b,e),a.elementType=Ja,a.lanes=f,a;default:if(\"object\"===\ntypeof a&&null!==a)switch(a.$$typeof){case ya:g=10;break a;case za:g=9;break a;case Aa:g=11;break a;case Da:g=14;break a;case Ea:g=16;d=null;break a;case Fa:g=22;break a}throw Error(y(130,null==a?a:typeof a,\"\"));}b=nh(g,c,b,e);b.elementType=a;b.type=d;b.lanes=f;return b}function Xg(a,b,c,d){a=nh(7,a,d,b);a.lanes=c;return a}function vi(a,b,c,d){a=nh(23,a,d,b);a.elementType=Ia;a.lanes=c;return a}function Ug(a,b,c){a=nh(6,a,null,b);a.lanes=c;return a}\nfunction Wg(a,b,c){b=nh(4,null!==a.children?a.children:[],a.key,b);b.lanes=c;b.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation};return b}\nfunction jk(a,b,c){this.tag=b;this.containerInfo=a;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=-1;this.pendingContext=this.context=null;this.hydrate=c;this.callbackNode=null;this.callbackPriority=0;this.eventTimes=Zc(0);this.expirationTimes=Zc(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=Zc(0);this.mutableSourceEagerHydrationData=null}\nfunction kk(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:ta,key:null==d?null:\"\"+d,children:a,containerInfo:b,implementation:c}}\nfunction lk(a,b,c,d){var e=b.current,f=Hg(),g=Ig(e);a:if(c){c=c._reactInternals;b:{if(Zb(c)!==c||1!==c.tag)throw Error(y(170));var h=c;do{switch(h.tag){case 3:h=h.stateNode.context;break b;case 1:if(Ff(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break b}}h=h.return}while(null!==h);throw Error(y(171));}if(1===c.tag){var k=c.type;if(Ff(k)){c=If(c,k,h);break a}}c=h}else c=Cf;null===b.context?b.context=c:b.pendingContext=c;b=zg(f,g);b.payload={element:a};d=void 0===d?null:d;null!==\nd&&(b.callback=d);Ag(e,b);Jg(e,g,f);return g}function mk(a){a=a.current;if(!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function nk(a,b){a=a.memoizedState;if(null!==a&&null!==a.dehydrated){var c=a.retryLane;a.retryLane=0!==c&&c<b?c:b}}function ok(a,b){nk(a,b);(a=a.alternate)&&nk(a,b)}function pk(){return null}\nfunction qk(a,b,c){var d=null!=c&&null!=c.hydrationOptions&&c.hydrationOptions.mutableSources||null;c=new jk(a,b,null!=c&&!0===c.hydrate);b=nh(3,null,null,2===b?7:1===b?3:0);c.current=b;b.stateNode=c;xg(b);a[ff]=c.current;cf(8===a.nodeType?a.parentNode:a);if(d)for(a=0;a<d.length;a++){b=d[a];var e=b._getVersion;e=e(b._source);null==c.mutableSourceEagerHydrationData?c.mutableSourceEagerHydrationData=[b,e]:c.mutableSourceEagerHydrationData.push(b,e)}this._internalRoot=c}\nqk.prototype.render=function(a){lk(a,this._internalRoot,null,null)};qk.prototype.unmount=function(){var a=this._internalRoot,b=a.containerInfo;lk(null,a,null,function(){b[ff]=null})};function rk(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType&&(8!==a.nodeType||\" react-mount-point-unstable \"!==a.nodeValue))}\nfunction sk(a,b){b||(b=a?9===a.nodeType?a.documentElement:a.firstChild:null,b=!(!b||1!==b.nodeType||!b.hasAttribute(\"data-reactroot\")));if(!b)for(var c;c=a.lastChild;)a.removeChild(c);return new qk(a,0,b?{hydrate:!0}:void 0)}\nfunction tk(a,b,c,d,e){var f=c._reactRootContainer;if(f){var g=f._internalRoot;if(\"function\"===typeof e){var h=e;e=function(){var a=mk(g);h.call(a)}}lk(b,g,a,e)}else{f=c._reactRootContainer=sk(c,d);g=f._internalRoot;if(\"function\"===typeof e){var k=e;e=function(){var a=mk(g);k.call(a)}}Xj(function(){lk(b,g,a,e)})}return mk(g)}ec=function(a){if(13===a.tag){var b=Hg();Jg(a,4,b);ok(a,4)}};fc=function(a){if(13===a.tag){var b=Hg();Jg(a,67108864,b);ok(a,67108864)}};\ngc=function(a){if(13===a.tag){var b=Hg(),c=Ig(a);Jg(a,c,b);ok(a,c)}};hc=function(a,b){return b()};\nyb=function(a,b,c){switch(b){case \"input\":ab(a,c);b=c.name;if(\"radio\"===c.type&&null!=b){for(c=a;c.parentNode;)c=c.parentNode;c=c.querySelectorAll(\"input[name=\"+JSON.stringify(\"\"+b)+'][type=\"radio\"]');for(b=0;b<c.length;b++){var d=c[b];if(d!==a&&d.form===a.form){var e=Db(d);if(!e)throw Error(y(90));Wa(d);ab(d,e)}}}break;case \"textarea\":ib(a,c);break;case \"select\":b=c.value,null!=b&&fb(a,!!c.multiple,b,!1)}};Gb=Wj;\nHb=function(a,b,c,d,e){var f=X;X|=4;try{return gg(98,a.bind(null,b,c,d,e))}finally{X=f,0===X&&(wj(),ig())}};Ib=function(){0===(X&49)&&(Vj(),Oj())};Jb=function(a,b){var c=X;X|=2;try{return a(b)}finally{X=c,0===X&&(wj(),ig())}};function uk(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!rk(b))throw Error(y(200));return kk(a,b,null,c)}var vk={Events:[Cb,ue,Db,Eb,Fb,Oj,{current:!1}]},wk={findFiberByHostInstance:wc,bundleType:0,version:\"17.0.1\",rendererPackageName:\"react-dom\"};\nvar xk={bundleType:wk.bundleType,version:wk.version,rendererPackageName:wk.rendererPackageName,rendererConfig:wk.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ra.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){a=cc(a);return null===a?null:a.stateNode},findFiberByHostInstance:wk.findFiberByHostInstance||\npk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(\"undefined\"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var yk=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yk.isDisabled&&yk.supportsFiber)try{Lf=yk.inject(xk),Mf=yk}catch(a){}}exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vk;exports.createPortal=uk;\nexports.findDOMNode=function(a){if(null==a)return null;if(1===a.nodeType)return a;var b=a._reactInternals;if(void 0===b){if(\"function\"===typeof a.render)throw Error(y(188));throw Error(y(268,Object.keys(a)));}a=cc(b);a=null===a?null:a.stateNode;return a};exports.flushSync=function(a,b){var c=X;if(0!==(c&48))return a(b);X|=1;try{if(a)return gg(99,a.bind(null,b))}finally{X=c,ig()}};exports.hydrate=function(a,b,c){if(!rk(b))throw Error(y(200));return tk(null,a,b,!0,c)};\nexports.render=function(a,b,c){if(!rk(b))throw Error(y(200));return tk(null,a,b,!1,c)};exports.unmountComponentAtNode=function(a){if(!rk(a))throw Error(y(40));return a._reactRootContainer?(Xj(function(){tk(null,null,a,!1,function(){a._reactRootContainer=null;a[ff]=null})}),!0):!1};exports.unstable_batchedUpdates=Wj;exports.unstable_createPortal=function(a,b){return uk(a,b,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)};\nexports.unstable_renderSubtreeIntoContainer=function(a,b,c,d){if(!rk(c))throw Error(y(200));if(null==a||void 0===a._reactInternals)throw Error(y(38));return tk(a,b,c,!1,d)};exports.version=\"17.0.1\";\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/scheduler.production.min.js');\n} else {\n  module.exports = require('./cjs/scheduler.development.js');\n}\n","/** @license React v0.20.1\n * scheduler.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f,g,h,k;if(\"object\"===typeof performance&&\"function\"===typeof performance.now){var l=performance;exports.unstable_now=function(){return l.now()}}else{var p=Date,q=p.now();exports.unstable_now=function(){return p.now()-q}}\nif(\"undefined\"===typeof window||\"function\"!==typeof MessageChannel){var t=null,u=null,w=function(){if(null!==t)try{var a=exports.unstable_now();t(!0,a);t=null}catch(b){throw setTimeout(w,0),b;}};f=function(a){null!==t?setTimeout(f,0,a):(t=a,setTimeout(w,0))};g=function(a,b){u=setTimeout(a,b)};h=function(){clearTimeout(u)};exports.unstable_shouldYield=function(){return!1};k=exports.unstable_forceFrameRate=function(){}}else{var x=window.setTimeout,y=window.clearTimeout;if(\"undefined\"!==typeof console){var z=\nwindow.cancelAnimationFrame;\"function\"!==typeof window.requestAnimationFrame&&console.error(\"This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills\");\"function\"!==typeof z&&console.error(\"This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills\")}var A=!1,B=null,C=-1,D=5,E=0;exports.unstable_shouldYield=function(){return exports.unstable_now()>=\nE};k=function(){};exports.unstable_forceFrameRate=function(a){0>a||125<a?console.error(\"forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported\"):D=0<a?Math.floor(1E3/a):5};var F=new MessageChannel,G=F.port2;F.port1.onmessage=function(){if(null!==B){var a=exports.unstable_now();E=a+D;try{B(!0,a)?G.postMessage(null):(A=!1,B=null)}catch(b){throw G.postMessage(null),b;}}else A=!1};f=function(a){B=a;A||(A=!0,G.postMessage(null))};g=function(a,b){C=\nx(function(){a(exports.unstable_now())},b)};h=function(){y(C);C=-1}}function H(a,b){var c=a.length;a.push(b);a:for(;;){var d=c-1>>>1,e=a[d];if(void 0!==e&&0<I(e,b))a[d]=b,a[c]=e,c=d;else break a}}function J(a){a=a[0];return void 0===a?null:a}\nfunction K(a){var b=a[0];if(void 0!==b){var c=a.pop();if(c!==b){a[0]=c;a:for(var d=0,e=a.length;d<e;){var m=2*(d+1)-1,n=a[m],v=m+1,r=a[v];if(void 0!==n&&0>I(n,c))void 0!==r&&0>I(r,n)?(a[d]=r,a[v]=c,d=v):(a[d]=n,a[m]=c,d=m);else if(void 0!==r&&0>I(r,c))a[d]=r,a[v]=c,d=v;else break a}}return b}return null}function I(a,b){var c=a.sortIndex-b.sortIndex;return 0!==c?c:a.id-b.id}var L=[],M=[],N=1,O=null,P=3,Q=!1,R=!1,S=!1;\nfunction T(a){for(var b=J(M);null!==b;){if(null===b.callback)K(M);else if(b.startTime<=a)K(M),b.sortIndex=b.expirationTime,H(L,b);else break;b=J(M)}}function U(a){S=!1;T(a);if(!R)if(null!==J(L))R=!0,f(V);else{var b=J(M);null!==b&&g(U,b.startTime-a)}}\nfunction V(a,b){R=!1;S&&(S=!1,h());Q=!0;var c=P;try{T(b);for(O=J(L);null!==O&&(!(O.expirationTime>b)||a&&!exports.unstable_shouldYield());){var d=O.callback;if(\"function\"===typeof d){O.callback=null;P=O.priorityLevel;var e=d(O.expirationTime<=b);b=exports.unstable_now();\"function\"===typeof e?O.callback=e:O===J(L)&&K(L);T(b)}else K(L);O=J(L)}if(null!==O)var m=!0;else{var n=J(M);null!==n&&g(U,n.startTime-b);m=!1}return m}finally{O=null,P=c,Q=!1}}var W=k;exports.unstable_IdlePriority=5;\nexports.unstable_ImmediatePriority=1;exports.unstable_LowPriority=4;exports.unstable_NormalPriority=3;exports.unstable_Profiling=null;exports.unstable_UserBlockingPriority=2;exports.unstable_cancelCallback=function(a){a.callback=null};exports.unstable_continueExecution=function(){R||Q||(R=!0,f(V))};exports.unstable_getCurrentPriorityLevel=function(){return P};exports.unstable_getFirstCallbackNode=function(){return J(L)};\nexports.unstable_next=function(a){switch(P){case 1:case 2:case 3:var b=3;break;default:b=P}var c=P;P=b;try{return a()}finally{P=c}};exports.unstable_pauseExecution=function(){};exports.unstable_requestPaint=W;exports.unstable_runWithPriority=function(a,b){switch(a){case 1:case 2:case 3:case 4:case 5:break;default:a=3}var c=P;P=a;try{return b()}finally{P=c}};\nexports.unstable_scheduleCallback=function(a,b,c){var d=exports.unstable_now();\"object\"===typeof c&&null!==c?(c=c.delay,c=\"number\"===typeof c&&0<c?d+c:d):c=d;switch(a){case 1:var e=-1;break;case 2:e=250;break;case 5:e=1073741823;break;case 4:e=1E4;break;default:e=5E3}e=c+e;a={id:N++,callback:b,priorityLevel:a,startTime:c,expirationTime:e,sortIndex:-1};c>d?(a.sortIndex=c,H(M,a),null===J(L)&&a===J(M)&&(S?h():S=!0,g(U,c-d))):(a.sortIndex=e,H(L,a),R||Q||(R=!0,f(V)));return a};\nexports.unstable_wrapCallback=function(a){var b=P;return function(){var c=P;P=b;try{return a.apply(this,arguments)}finally{P=c}}};\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(\n      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)\n    ))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","'use strict';\n\nmodule.exports = function () {\n  throw new Error(\n    'ws does not work in the browser. Browser clients must use the native ' +\n      'WebSocket object'\n  );\n};\n"],"sourceRoot":""}