{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js","../node_modules/react/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/react/jsx-runtime.js","../node_modules/webpack/buildin/global.js","../node_modules/react-dom/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../node_modules/prop-types/index.js","../../../src/Glue.tsx","../../../src/useGlueInit.ts","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/object-assign/index.js","../../node_modules/callback-registry/lib/index.js","../../node_modules/decoder-validate/dist/index.es5.js","../../src/shared/decoders.ts","../../src/communication/constants.ts","../../src/communication/bridge.ts","../../src/communication/interop-transport.ts","../../src/shared/promisePlus.ts","../../src/builders/parentBuilder.ts","../../src/builders/baseBuilder.ts","../../src/builders/workspaceBuilder.ts","../../src/models/row.ts","../../src/models/column.ts","../../src/models/group.ts","../../src/models/workspace.ts","../../src/models/window.ts","../../src/models/frame.ts","../../src/shared/privateDataManager.ts","../../src/models/base/base.ts","../../src/controllers/base.ts","../../src/controllers/main.ts","../../src/shared/ioc.ts","../../src/main.ts","../../src/index.ts","../node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js","../node_modules/buffer/index.js","../node_modules/process/browser.js","../../node_modules/tslib/tslib.es6.js","../../src/defaultComponents/HeaderButton.tsx","../../src/defaultComponents/popups/addApplication/ApplicationItem.tsx","../../src/defaultComponents/popups/addApplication/ApplicationsList.tsx","../../src/defaultComponents/popups/addApplication/ContainerSwitch.tsx","../../src/withGlueInstance.tsx","../../src/defaultComponents/popups/addApplication/AddApplicationPopup.tsx","../../src/defaultComponents/popups/Feedback.tsx","../../src/defaultComponents/popups/helpers.ts","../../src/defaultComponents/popups/addWorkspace/WorkspaceLayoutItem.tsx","../../src/defaultComponents/popups/addWorkspace/WorkspaceLayoutsList.tsx","../../src/defaultComponents/popups/addWorkspace/AddWorkspacePopup.tsx","../../src/defaultComponents/popups/saveWorkspace/SaveContextCheckbox.tsx","../../src/defaultComponents/popups/saveWorkspace/SaveWorkspaceButton.tsx","../../src/defaultComponents/popups/saveWorkspace/SaveWorkspacePopup.tsx","../../../workspaces-ui-core/dist/export.js","../../src/workspacesManager.ts","../../node_modules/reactjs-popup/dist/reactjs-popup.esm.js","../../src/WorkspacePopup.tsx","../../src/Portal.tsx","../../src/WorkspacesWrapper.tsx","../../src/WorkspacesElementCreationWrapper.tsx","../../src/index.tsx","../node_modules/@glue42/desktop/dist/desktop.browser.js","../../src/config/index.ts","../../src/windows/protocol.ts","../../src/windows/webWindow.ts","../../src/windows/controller.ts","../../src/shared/promise-plus.ts","../../src/appManager/protocol.ts","../../src/appManager/controller.ts","../../src/appManager/instance.ts","../../src/appManager/application.ts","../../src/layouts/protocol.ts","../../src/layouts/controller.ts","../../../core/dist/core.es.js","../../src/web.ts","../../src/enterprise/index.ts","../node_modules/react/cjs/react-jsx-runtime.production.min.js","../node_modules/react/cjs/react.production.min.js","../node_modules/react-dom/cjs/react-dom.production.min.js","../node_modules/scheduler/index.js","../node_modules/scheduler/cjs/scheduler.production.min.js","../node_modules/regenerator-runtime/runtime.js","../node_modules/prop-types/factoryWithThrowingShims.js","../node_modules/prop-types/lib/ReactPropTypesSecret.js","../node_modules/base64-js/index.js","../node_modules/ieee754/index.js","../node_modules/isarray/index.js","../node_modules/ws/browser.js"],"names":["module","exports","require","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","from","unsupportedIterableToArray","_unsupportedIterableToArray","o","minLen","n","toString","call","slice","constructor","name","test","g","this","Function","e","window","checkDCE","__REACT_DEVTOOLS_GLOBAL_HOOK__","err","console","error","_arrayLikeToArray","len","arr2","_slicedToArray","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","GlueContext","GlueProvider","children","fallback","config","glue","glueFactory","setGlue","a","useGlueInit","GlueWeb","Glue","Provider","propTypes","displayName","_createForOfIteratorHelper","allowArrayLike","it","F","s","f","normalCompletion","didErr","step","_e2","_defineProperty","obj","getOwnPropertySymbols","hasOwnProperty","propIsEnumerable","propertyIsEnumerable","toObject","val","assign","test1","String","getOwnPropertyNames","test2","fromCharCode","map","join","test3","split","forEach","letter","keys","shouldUseNative","source","symbols","to","arguments","createRegistry","options","errorHandling","Error","_userErrorHandler","callbacks","callback","callbacksForKey","ok","result","asPromise","r","Promise","resolve","reject","withDefault","defaultValue","withException","map2","ar","br","mapError","andThen","freeze","isOk","isErr","successes","results","reduce","acc","concat","t","p","apply","isEqual","b","isJsonArray","json","isJsonObject","expectedGot","expected","got","JSON","stringify","typeString","printPath","paths","path","prependAt","newAt","_a","at","rest","indexOf","__rest","Decoder","decode","_this","run","kind","input","message","runPromise","runWithException","where","errorMessage","succeed","fail","string","number","boolean","constant","object","decoders","array","decoder","v","err$$1","decodeValue_1","tuple","nth","union","ad","bd","oneOf","intersection","ds","anyJson","unknownJson","dict","optional","errors","errorsList","valueAt","jsonAtPath","fixedValue","lazy","mkDecoder","InteropTransport","agm","defaultTransportTimeout","actualWindowId","glue42gd","all","values","METHODS","method","verifyMethodLive","webPlatformMethodName","transmitControl","windowId","streamName","streamBranch","streamType","subscriptionArgs","branch","type","subscribe","subscription","operation","operationArguments","invocationArguments","domain","data","methodName","control","baseErrorMessage","invoke","methodResponseTimeoutMs","invocationResult","all_return_values","all_errors","invocationErrorMessage","returned","promise","timeoutMilliseconds","timeoutMessage","methods","some","unsubscribe","methodAdded","setTimeout","promiseActive","timeout","then","clearTimeout","catch","privateData","WeakMap","ParentBuilder","definition","base","wrapChildren","set","get","add","addWindow","serializeChildren","BaseBuilder","getBuilder","child","validatedDefinition","parentDefinitionDecoder","childBuilder","swimlaneWindowDefinitionDecoder","serialize","WorkspaceBuilder","controller","every","index","nonNegativeNumberDecoder","saveConfig","workspaceBuilderCreateConfigDecoder","createWorkspace","getBase","model","Row","addParent","predicate","removeChild","maximize","restore","close","getId","getFrameId","getWorkspaceId","getPositionIndex","getAllChildren","getMyParent","getMyFrame","getMyWorkspace","Column","Group","getData","manager","getWorkspaceData","getDataManager","Workspace","dataManager","checkThrowCallback","find","refreshReference","iterateFindChild","focusItem","id","frame","workspaces","wsp","closeItem","getSnapshot","nonEmptyStringDecoder","saveLayout","workspaceId","saveContext","title","setItemTitle","getWorkspaceContext","setWorkspaceContext","updateWorkspaceContext","subscribeWorkspaceContextUpdated","newSnapshot","existingChildren","foundChildren","foundChild","getWindow","swimlaneWindow","getBox","parent","newChildren","refreshChildren","workspace","currentFrame","frameId","remapFrame","frameSummary","actualFrame","frameCreateConfig","summary","newFrame","ioc","getModel","remapWorkspace","allParents","iterateFilterChildren","filter","getAllBoxes","allWindows","bundleTo","action","eventType","scope","scopeId","processLocalSubscription","payload","windowParent","windowSummary","parentId","foundWindow","positionIndex","win","layoutName","getWindowData","Window","isLoaded","itemId","forceLoadWindow","maximizeItem","restoreItem","ejectWindow","newWindowId","getGdWindow","myId","getGDWindow","getParent","moveWindowTo","isMaximized","checkIsWindowLoaded","isFocused","appName","getFrameData","Frame","validatedConfig","resizeConfigDecoder","resizeItem","moveConfigDecoder","moveFrame","getFrameState","changeFrameState","getWorkspaces","validatedOptions","restoreWorkspaceConfigDecoder","restoreWorkspace","workspaceDefinitionDecoder","getWorkspace","workspaceSummary","foundParent","PrivateDataManager","parentsData","workspacesData","windowsData","framesData","windowPlacementIdData","keyForDeleting","k","delete","placementId","newData","getParentData","getWindowFromPlacementId","placemenId","getWindowByPlacementId","Base","parentType","operationResult","typeToAdd","parentDefinition","transformDefinition","newParentId","myWorkspace","modelData","strictParentDefinitionDecoder","BaseController","windows","contexts","layouts","list","createConfig","bridge","send","OPERATIONS","snapshot","frameConfig","workspaceConfig","openWorkspace","restoreOptions","getFrameSummary","operationArgs","operationName","addContainer","allFrameSummaries","frames","frameToCheck","bridgeResults","allSummaries","summaries","summaryResult","wrappedCallback","layout","addedUnSub","onAdded","changedUnSub","onChanged","onRemoved","getWorkspaceSnapshot","bundleWorkspace","contextName","update","gdWindow","controlResult","containerId","getFrameSnapshot","newChildSnapshot","childToAdd","c","childType","privateDataManager","remapChild","grandChildren","innerFound","onWindowAdded","MainController","isWindowInWorkspace","inWorkspace","getLayoutSummaries","allLayouts","getAllFramesSummaries","levelId","handleEnterpriseLocalSubscription","handleCoreLocalSubscription","handleEnterpriseGlobalSubscription","handleCoreGlobalSubscription","selector","getFrame","getFrames","iterateWorkspaces","end","foundWorkspace","matchingWorkspaces","getAllWorkspacesSummaries","allSummariesResult","getAllWorkspaceSummaries","resultWindow","resultParent","getAllLayoutsSummaries","deleteLayout","exportAllLayouts","allLayoutsResult","matchingLayouts","importLayout","handleOnSaved","handleOnRemoved","state","requestedState","frameResult","notifyWindowAdded","originalCB","callbackData","ended","workspaceSummaries","fetchWorkspace","CallbackFactory","composeAPI","my","checkIsInSwimlane","builderConfigDecoder","getAllFrames","w","getAllWorkspaces","getSummaries","export","exportLayout","import","workspaceLayoutDecoder","save","verifiedConfig","workspaceLayoutSaveConfigDecoder","onSaved","onFrameOpened","processGlobalSubscription","onFrameClosed","onWorkspaceOpened","onWorkspaceClosed","onWindowLoaded","onWindowRemoved","MapShim","Map","getIndex","entry","class_1","__entries__","entries","splice","has","clear","ctx","isBrowser","document","global$1","global","Math","self","requestAnimationFrame$1","requestAnimationFrame","bind","Date","now","transitionKeys","mutationObserverSupported","MutationObserver","ResizeObserverController","connected_","mutationEventsAdded_","mutationsObserver_","observers_","onTransitionEnd_","refresh","delay","leadingCall","trailingCall","lastCallTime","resolvePending","proxy","timeoutCallback","timeStamp","throttle","addObserver","observer","connect_","removeObserver","observers","disconnect_","updateObservers_","activeObservers","gatherActive","hasActive","broadcastActive","addEventListener","observe","attributes","childList","characterData","subtree","removeEventListener","disconnect","_b","propertyName","getInstance","instance_","defineConfigurable","getWindowOf","ownerDocument","defaultView","emptyRect","createRectInit","toFloat","parseFloat","getBordersSize","styles","positions","size","position","getHTMLElementContentRect","clientWidth","clientHeight","getComputedStyle","paddings","positions_1","getPaddings","horizPad","left","right","vertPad","top","bottom","width","height","boxSizing","round","documentElement","isDocumentElement","vertScrollbar","horizScrollbar","abs","isSVGGraphicsElement","SVGGraphicsElement","SVGElement","getBBox","getContentRect","bbox","getSVGContentRect","x","y","ResizeObservation","broadcastWidth","broadcastHeight","contentRect_","isActive","rect","broadcastRect","ResizeObserverEntry","rectInit","contentRect","Constr","DOMRectReadOnly","create","createReadOnlyRect","ResizeObserverSPI","callbackCtx","activeObservations_","observations_","callback_","controller_","callbackCtx_","Element","observations","unobserve","clearActive","observation","ResizeObserver","base64","ieee754","kMaxLength","Buffer","TYPED_ARRAY_SUPPORT","createBuffer","that","RangeError","Uint8Array","__proto__","arg","encodingOrOffset","allocUnsafe","ArrayBuffer","byteOffset","byteLength","fromArrayLike","fromArrayBuffer","encoding","isEncoding","actual","write","fromString","isBuffer","checked","copy","buffer","fromObject","assertSize","isView","loweredCase","utf8ToBytes","base64ToBytes","toLowerCase","slowToString","start","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","m","bidirectionalIndexOf","dir","isNaN","arrayIndexOf","lastIndexOf","indexSize","arrLength","valLength","read","buf","readUInt16BE","foundIndex","found","j","hexWrite","offset","Number","remaining","strLen","parsed","parseInt","substr","utf8Write","blitBuffer","asciiWrite","str","byteArray","charCodeAt","asciiToBytes","latin1Write","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","fromByteArray","min","res","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","MAX_ARGUMENTS_LENGTH","decodeCodePointsArray","SlowBuffer","alloc","INSPECT_MAX_BYTES","foo","subarray","typedArraySupport","poolSize","_augment","species","fill","allocUnsafeSlow","_isBuffer","compare","pos","swap16","swap32","swap64","equals","inspect","max","match","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","toJSON","ret","out","toHex","bytes","checkOffset","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","floor","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","code","INVALID_BASE64_RE","Infinity","leadSurrogate","toByteArray","trim","replace","stringtrim","base64clean","src","dst","cachedSetTimeout","cachedClearTimeout","process","defaultSetTimout","defaultClearTimeout","runTimeout","fun","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","marker","runClearTimeout","Item","noop","nextTick","args","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","umask","extendStatics","d","setPrototypeOf","__extends","__","__assign","__awaiter","thisArg","_arguments","P","generator","fulfilled","rejected","__generator","body","_","label","sent","trys","ops","verb","throw","return","op","pop","__spreadArrays","il","jl","ApplicationItem","onClick","React","className","href","ApplicationsList","inLane","hidePopup","searchTerm","updatePopupHeight","filterApps","isActivity","isShell","app","userProperties","includeInWorkspaces","includeInCanvas","workspacesFriendlyApps","appManager","applications","useEffect","addGroup","warn","error_1","ContainerSwitch","setInLane","wordInLabel","labelToPut","toUpperCase","substring","htmlFor","role","withGlueInstance","WrappedComponent","useContext","boxId","resizePopup","useState","_c","setParent","setSearchTerm","containerRef","createRef","shouldUpdate","allWorkspaces","refreshPopupHeight","containerHeight","current","getBoundingClientRect","ref","placeholder","onChange","Feedback","regexResult","exec","getFeedbackErrorMessage","WorkspaceLayoutItem","onCloseClick","WorkspaceLayoutsList","showFeedback","layoutSummaries","setLayoutSummaries","stopPropagation","feedbackText","setFeedbackText","resizePopupWithContainerHeight","reuseFrameId","itemType","errMessage","SaveContextCheckbox","changeChecked","refreshHeight","inputRef","SaveWorkspaceButton","inputValue","clearInput","shouldSaveContext","hideFeedback","buildMode","shouldSave","setShouldSave","workspaceName","setTitle","downloadElement","createElement","encodeURIComponent","append","setAttribute","click","remove","setShouldSaveContext","feedbackMessage","setFeedbackMessage","setWorkspaceName","bounds","globalThis","container","controls","items","utils","extend","createObject","contructor","objectKeys","getHashValue","location","hash","RegExp","getQueryStringParam","search","animFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","Int8Array","isFunction","fnBind","removeFromArray","getTime","getUniqueId","random","filterXss","stripTags","EventEmitter","_mSubscriptions","ALL_EVENT","fn","unshift","unbind","trigger","DragListener","_eElement","_oDocument","_eBody","_nButtonCode","_nDelay","_nDistance","_nX","_nY","_nOriginalX","_nOriginalY","_bDragging","_fMove","onMouseMove","_fUp","onMouseUp","_fDown","onMouseDown","destroy","preventDefault","button","_getCoordinates","one","_timeout","_startDrag","removeClass","css","addClass","originalEvent","touches","pageX","pageY","LayoutManager","$","noConflict","isInitialised","_isFullPage","_resizeTimeoutId","_components","lm-react-component","ReactComponentHandler","_itemAreas","_resizeFunction","_onResize","_unloadFunction","_onUnload","_maximizedItem","_maximizePlaceholder","_creationTimeoutPassed","_subWindowsCreated","_dragSources","_dragProxies","_updatingColumnsResponsive","_firstLoad","_componentFactory","root","openPopouts","selectedItem","isSubWindow","eventHub","EventHub","_createConfig","dropTargetIndicator","transitionIndicator","tabDropPlaceholder","_typeToItem","column","RowOrColumn","row","stack","Stack","component","Component","__lm","minifyConfig","ConfigMinifier","unminifyConfig","registerComponent","toConfig","AbstractContentItem","settings","dimensions","labels","context","workspacesOptions","content","contentItems","_$reconcilePopoutWindows","maximizedItemId","getComponent","ConfigurationError","init","_createSubWindows","readyState","_adjustToWindowMode","_setContainer","DropTargetIndicator","TransitionIndicator","updateSize","_create","_bindEvents","_adjustColumnsResponsive","ready","callDownwards","element","_dragListener","_element","_itemConfig","createContentItem","componentName","Root","createPopout","l","h","u","isRoot","addId","screenX","screenLeft","screenY","screenTop","BrowserPopout","createDragSource","constrainDragToContainer","DragSource","selectItem","selectionEnabled","deselect","select","_$maximiseItem","_$minimizeItem","after","prepend","_$minimiseItem","removeId","_$closeWindow","_$getArea","x1","x2","y1","y2","surface","_$createRootItemAreas","side","_$calculateItemAreas","_getAllContentItems","isStack","contentItem","_contentAreaDimensions","header","highlightArea","mode","_$normalizeContentItem","isPlainObject","closed","resize","localStorage","getItem","parse","removeItem","defaultConfig","hasHeaders","headerHeight","popin","html","offsetHeight","__glInstance","indexInParent","margin","padding","overflow","getItemsById","toggleMaximise","closePopoutsOnUnload","_useResponsiveLayout","minItemWidth","isRow","is","_findAllStackContainers","_addChildContentItemsToContainer","responsiveMode","addChild","_findAllStackContainersRecursive","isComponent","default","GoldenLayout","reorderEnabled","popoutWholeStack","blockedPopoutsThrowError","showMinimizeIcon","showPopoutIcon","showMaximizeIcon","showCloseIcon","tabOverlapAllowance","reorderOnTabMenuClick","tabControlOffset","borderWidth","borderGrabWidth","minItemHeight","dragProxyWidth","dragProxyHeight","minimize","popout","tabDropdown","itemDefaultConfig","isClosable","workspacesConfig","ItemContainer","layoutManager","isHidden","_config","_contentElement","getElement","hide","show","setSize","isColumn","getState","componentState","extendState","setState","emitBubblingEvent","_$setSize","offsetWidth","_dimensions","_parentId","_indexInParent","_layoutManager","_popoutWindow","_id","_createWindow","getGlInstance","popIn","_createUrl","_serializeWindowOptions","innerWidth","innerHeight","menubar","toolbar","personalbar","resizable","scrollbars","status","open","_positionWindow","_onClose","setInterval","_onInitialised","clearInterval","setItem","moveTo","focus","DragProxy","_contentItem","_originalParent","_area","_lastValidArea","_onDrag","_onDrop","_template","_side","_sided","attr","childElementContainer","disableDragProxy","_updateTree","_setDimensions","_minX","_minY","_maxX","_maxY","_width","_height","_setDropPosition","_$highlightDropZone","canceled","_$destroy","_$onDrop","_$setParent","_createDragListener","_onDragStart","transitionElements","highlight","Header","_onHeaderClick","createLogo","domNode","createAddWorkspace","createSystemButtons","tabsContainer","tabDropdownContainer","controlsContainer","workspaceControlsContainer","tabsControlsContainer","_updateTabSizesWithoutDropdown","tabs","activeContentItem","closeButton","tabDropdownButton","hideAdditionalTabsDropdown","_hideAdditionalTabsDropdown","mouseup","_lastVisibleTabIndex","_tabControlOffset","_createControls","createTab","Tab","before","removeTab","setActiveContentItem","setActive","activeItemIndex","_header","_setupHeaderPosition","_$setClosable","_isClosable","_getHeaderSetting","_showAdditionalTabsDropdown","HeaderButton","_onPopoutClick","minimizeLabel","minimizeButton","_updateTabSizes","toggle","outerWidth","tab","outerHeight","z-index","margin-left","_action","Splitter","_isVertical","_size","_grabSize","_createElement","titleElement","closeElement","_onTabClickFn","_onTabClick","_onCloseClickFn","_onCloseClick","noTabHeader","_onCloseMousedown","getActiveContentItem","_toElement","_fromDimensions","_totalAnimationDuration","_animationStartTime","_nextAnimationFrame","_measure","opacity","node","_extendItemNode","isVisible","_pendingEventPropagations","_throttledEvents","_propagateEvent","_createContentItems","_$init","replaceChild","parentNode","_$hide","hasId","getItemsByFilter","getItemsByType","_$getItemsByProperty","getComponentsByName","_callOnActiveComponents","_$show","BubblingEvent","isPropagationStopped","_scheduleEventPropagationToLayoutManager","origin","_propagateEventToLayoutManager","_$shown","shown","_containerElement","_splitterSize","_splitterGrabSize","_isColumn","_dimension","_splitter","_splitterPosition","_splitterMinPosition","_splitterMaxPosition","_createSplitter","_calculateRelativeSizes","_setAbsoluteSizes","_calculateAbsoluteSizes","additionalPixel","itemSizes","totalWidth","totalHeight","_respectMinItemWidth","_onSplitterDrag","_onSplitterDragStop","_onSplitterDragStart","_getItemsForSplitter","_getMinimumDimensions","minWidth","minHeight","horizontal","vertical","_activeContentItem","_dropZones","_dropSegment","_dropIndex","_$validateClosability","_resetHeaderDropZone","hoverArea","_highlightHeaderDropZone","_highlightBodyDropZone","placeHolderTop","_keys","_values","_nextLevel","_min","_max","_dontPropagateToParent","_childEventSource","_onEventFromThis","_boundOnEventFromChild","_onEventFromChild","_propagateToParent","_propagateToChildren","_$onEventFromParent","__gl","__glArgs","createEvent","opener","initEvent","createEventObject","eventName","dispatchEvent","fireEvent","_reactComponent","_originalComponentWillUpdate","_container","_initialState","_reactClass","_getReactClass","_render","_destroy","ReactDOM","render","_getReactComponent","componentWillUpdate","_onUpdate","unmountComponentAtNode","glEventHub","glContainer","execute","clearKey","[object Object]","_idToLayout","workspaceLayout","getByContainerIdCore","innerText","getById","workspaceTitles","workspaceIds","getWorkspaceTitle","_workspaceLayout","containerElement","setupEvents","classList","contains","handleTabCountChanged","removedNodes","attributeName","handleTabHeaderResized","attributeFilter","attributeOldValue","characterDataOldValue","visibleTabs","refreshTabClasses","visibilityState","logo","addWorkspace","systemButtons","workspaceContents","componentsFactory","_decoratedFactory","callbackRegistry","getWorkspaceIdFromContents","style","display","decoratedFactory","createWorkspaceContents","subscribeForWorkspaceContentsVisibility","getElementById","_maximizedId","_workspaceLayoutElementId","_registry","_emptyVisibleWindowName","_stackMaximizeLabel","_stackRestoreLabel","_options","_emitter","_stateResolver","_configFactory","_frameId","initWorkspaceConfig","refreshLayoutSize","workspaceConfigs","initWorkspaceContents","emitter","raiseEvent","setupOuterLayout","setupContentLayouts","getByContainerId","hideAddButton","getWindowInfoFromConfig","url","registerWindowComponent","onContentComponentCreated","wrapper","wrapInGroup","onContentItemCreated","getByWindowId","getContainerConfig","getWorkspaceLayoutComponentName","registerWorkspaceComponent","getWorkspaceLayoutItemById","removeById","getElementsByTagName","getDragElement","addedNodes","setDragElementSize","getWindowContentItem","waitForWindowContainer","addOrUpdate","showAddButton","signal","getDefaultWorkspaceSettings","registerEmptyWindowComponent","raiseEventWithDynamicName","layoutId","item","onclick","laneId","disableCustomButtons","toBack","toFront","mousedown","refreshTabSizeClass","getElementByClass","getElementsByClassName","appendChild","waitForLayout","onOuterLayoutContainerResized","onContentContainerResized","log","hasClass","C","I","W","A","Z","characters","seed","lookup","shuffled","E","crypto","msCrypto","S","getRandomValues","T","LN2","D","L","M","generate","worker","isValid","_idToFrame","_glue","findById","contentDocument","contentWindow","querySelector","waitForWindow","setContext","Event","z","LAST_SESSION_KEY","B","URLSearchParams","emptyFrame","workspaceNames","build","cleanUpUrl","removeQueryParams","history","replaceState","pathname","N","resolver","_configConverter","_layoutsType","_layoutComponentType","_initialWorkspaceConfig","generateInitialConfig","getWorkspaceByName","layoutData","getLastSession","getDefaultFrameConfig","addWorkspaceIds","addWindowIds","convertToRendererConfig","getAll","components","metadata","saveWorkspaceCore","saveWorkspaceCoreSync","getWorkspaceConfig","removeWorkspaceIds","applyWindowLayoutState","convertToAPIConfig","removeWorkspaceItemIds","windowSummariesToWindowLayout","addWindowUrlsToWindows","workspaceSummaryToWorkspaceLayout","getContext","application","details","getWindowLayoutState","layoutState","O","_layoutEventEmitter","waitForWindowContentItem","getWindowSummaryCore","getWorkspaceTabIndex","transformComponentsToWindowSummary","transformParentsToContainerSummary","getContainer","findElementInConfig","getWorkspaceSummary","findIndex","getUserFriendlyParent","isWindowMaximized","getWindowSummarySync","getContainerSummary","R","_pattern","sort","H","_titleGenerator","_defaultWorkspaceLayoutSettings","createWindowConfigurationCore","getTitle","getDefaultWorkspaceConfig","wrap","instances","registry","q","flat","convertToRendererConfigCore","convertToApiConfigCore","applyDefaultRendererConfig","getGroupWithEmptyVisibleWindow","createEmptyVisibleWindowConfig","getAppNameFromWindowId","createGDWindowConfig","createApiWindow","U","_externalPopupManager","_componentPopupManager","createAddApplicationPopup","showAddWindowPopup","createAddWorkspacePopup","showOpenWorkspacePopup","createSaveWorkspacePopup","showSaveWorkspacePopup","V","_addApplicationType","_openWorkspaceType","_saveWorkspaceType","_showPopupMethod","initPopup","registerHideMethod","registerResizeMethod","getPopupSize","showElement","_popup","getPopupInteropId","servers","peerId","register","interopId","G","_popupSizes","hideSystemPopups","showInternalAddAppPopup","showInternalOpenWorkspacePopup","showInternalSaveWorkspacePopup","composedPath","X","_isLayoutInitialized","_initPromise","_workspacesEventEmitter","getComponentBounds","_controller","subscribeForWindowClicked","_frameController","onFrameContentClicked","cleanUp","stateResolver","workspacesEventEmitter","raiseWindowEvent","raiseWorkspaceEvent","_layoutsManager","saveWorkspacesFrame","raiseFrameEvent","loadConfig","_initialized","_popupManager","initLayout","reInitialize","getActiveWorkspace","setInitialWorkspaceConfig","maximizeWindow","restoreWindow","closeWorkspace","closeTab","closeContainer","setWorkspaceTitle","setWindowTitle","getUrlByAppName","waitForFrameLoaded","focusWorkspace","focusWindow","generateLayout","getInitialConfig","subscribeForPopups","subscribeForLayout","reportLayoutStructure","getTitleByAppName","getURL","startFrame","getWindowSummary","onContentItemResized","onTabCloseRequested","removeLayoutElement","checkForEmptyWorkspace","onWorkspaceTabCloseRequested","onTabElementMouseDown","onTabDragStart","bringToFront","onTabDragEnd","selectionChanged","onSelectionChanged","onWorkspaceAdded","selectionChangedDeep","onWorkspaceSelectionChanged","isWindowVisible","onAddButtonClicked","onContentLayoutInit","onWorkspaceAddButtonClicked","workspaceLayoutHeader","onWorkspaceSaveRequested","onStackMaximized","maximizeTab","onStackRestored","restoreTab","onEjectRequested","eject","onWorkspaceContentsShown","getWorkspaceContentItem","onWorkspaceContentsHidden","onWindowTitleChanged","removeWorkspace","onWindowEvent","Y","_workspacesControlMethod","_workspacesEventMethod","_inDisposing","handleControl","initPromise","handleIsWindowInWorkspace","handleAddWindow","handleAddContainer","handleGetWorkspaceSnapshot","handleOpenWorkspace","handleSaveLayout","handleExportAllLayouts","handleDeleteLayout","handleGetAllWorkspaceSummaries","handleMaximizeItem","handleRestoreItem","handleCloseItem","handleSetItemTitle","handleAddWorkspaceChildren","handleEject","handleCreateWorkspace","handleForceLoadWindow","handleFocusItem","handleBundleWorkspace","handleGetFrameSummary","handleMoveFrame","handleGetFrameSnapshot","handleGetSnapshot","handleMoveWindowTo","handleGenerateLayout","handlePing","_converter","registerAgmMethods","onFrameEvent","publishEventData","onWorkspaceEvent","onContainerEvent","registerAsync","saveWorkspace","loadWindow","move","generateWorkspaceLayout","live","J","getPrototypeOf","nodeType","nonce","noModule","text","getAttribute","head","jquery","toArray","pushStack","merge","prevObject","each","first","eq","last","even","grep","odd","expando","isReady","isEmptyObject","globalEval","makeArray","inArray","guid","support","ct","ID","CLASS","TAG","ATTR","PSEUDO","CHILD","bool","needsContext","Q","K","tt","et","nt","ot","st","rt","_t","disabled","nodeName","childNodes","qsa","yt","wt","querySelectorAll","removeAttribute","cacheLength","shift","lt","dt","ht","attrHandle","ut","sourceIndex","nextSibling","pt","mt","ft","isDisabled","gt","isXML","namespaceURI","setDocument","attachEvent","createComment","getElementsByName","getAttributeNode","innerHTML","matchesSelector","matches","webkitMatchesSelector","mozMatchesSelector","oMatchesSelector","msMatchesSelector","disconnectedMatch","compareDocumentPosition","sortDetached","specified","escape","uniqueSort","detectDuplicates","sortStable","getText","textContent","firstChild","nodeValue","selectors","createPseudo","relative",">"," ","+","~","preFilter","lastChild","uniqueID","pseudos","setFilters","not","lang","activeElement","hasFocus","tabIndex","enabled","selected","selectedIndex","empty","radio","checkbox","file","password","image","submit","reset","vt","bt","Ct","It","xt","filters","tokenize","compile","expr","unique","isXMLDoc","escapeSelector","parseHTML","contents","prev","closest","prevAll","addBack","parents","parentsUntil","nextAll","nextUntil","prevUntil","siblings","reverse","Callbacks","stopOnFalse","memory","disable","lock","locked","fireWith","fire","fired","Deferred","always","pipe","progress","notify","notifyWith","resolveWith","exceptionHook","stackTrace","rejectWith","getStackHook","when","readyException","readyWait","doScroll","uid","cache","access","hasData","removeData","_data","_removeData","dequeue","_queueHooks","stop","clearQueue","composed","getRootNode","cur","cssNumber","unit","createDocumentFragment","checkClone","cloneNode","noCloneChecked","option","thead","col","tr","td","_default","tbody","tfoot","colgroup","caption","th","optgroup","htmlPrefilter","createTextNode","kt","Et","St","event","Tt","namespace","handler","isTrigger","special","delegateType","stopImmediatePropagation","events","handle","triggered","dispatch","bindType","origType","delegateCount","setup","teardown","removeEvent","fix","delegateTarget","preDispatch","handlers","currentTarget","elem","isImmediatePropagationStopped","rnamespace","handleObj","postDispatch","addProp","load","noBubble","beforeunload","returnValue","isDefaultPrevented","defaultPrevented","relatedTarget","isSimulated","altKey","bubbles","cancelable","changedTouches","ctrlKey","detail","eventPhase","metaKey","shiftKey","view","char","charCode","keyCode","buttons","clientX","clientY","offsetX","offsetY","pointerId","pointerType","targetTouches","toElement","which","blur","mouseenter","mouseleave","pointerenter","pointerleave","Wt","At","Dt","Pt","Lt","Mt","Ft","zt","Bt","clone","_evalUrl","Nt","cleanData","detach","insertBefore","replaceWith","appendTo","prependTo","insertAfter","replaceAll","Ot","$t","Rt","Ht","jt","getPropertyValue","pixelBoxStyles","maxWidth","qt","cssText","marginLeft","backgroundClip","clearCloneStyle","boxSizingReliable","pixelPosition","reliableMarginLeft","scrollboxSize","reliableTrDimensions","Ut","Vt","Gt","Xt","cssProps","Yt","Jt","Zt","visibility","Qt","letterSpacing","fontWeight","Kt","te","ceil","ee","getClientRects","ne","cssHooks","animationIterationCount","columnCount","fillOpacity","flexGrow","flexShrink","gridArea","gridColumn","gridColumnEnd","gridColumnStart","gridRow","gridRowEnd","gridRowStart","lineHeight","order","orphans","widows","zIndex","zoom","setProperty","border","expand","Tween","prop","easing","propHooks","duration","fx","scrollTop","scrollLeft","linear","swing","cos","PI","ie","oe","se","re","ae","hidden","interval","tick","ce","le","de","he","tweeners","prefilters","startTime","tweens","opts","specialEasing","originalProperties","originalOptions","createTween","complete","timer","anim","Animation","*","tweener","unqueued","overflowX","overflowY","prefilter","speed","speeds","old","fadeTo","animate","finish","timers","slideDown","slideUp","slideToggle","fadeIn","fadeOut","fadeToggle","slow","fast","checkOn","optSelected","radioValue","ue","pe","removeAttr","attrHooks","me","fe","ge","ye","ve","removeProp","propFix","for","class","toggleClass","we","valHooks","focusin","be","parentWindow","simulate","triggerHandler","Ce","Ie","xe","parseXML","DOMParser","parseFromString","ke","Ee","Se","Te","We","param","serializeArray","Ae","De","Pe","Le","Me","Fe","ze","Be","Ne","Oe","$e","Re","dataTypes","He","ajaxSettings","flatOptions","active","lastModified","etag","isLocal","protocol","processData","async","contentType","accepts","xml","responseFields","converters","* text","text html","text json","text xml","ajaxSetup","ajaxPrefilter","ajaxTransport","ajax","statusCode","getResponseHeader","getAllResponseHeaders","setRequestHeader","overrideMimeType","mimeType","abort","dataType","crossDomain","host","traditional","hasContent","ifModified","headers","beforeSend","success","dataFilter","throws","statusText","getJSON","getScript","text script","wrapAll","firstElementChild","wrapInner","unwrap","visible","xhr","XMLHttpRequest","je","0","1223","qe","cors","username","xhrFields","onload","onerror","onabort","ontimeout","onreadystatechange","responseType","responseText","binary","response","script","scriptAttrs","charset","scriptCharset","Ue","Ve","Ge","jsonp","jsonpCallback","createHTMLDocument","implementation","animated","setOffset","using","pageYOffset","pageXOffset","offsetParent","scrollTo","Height","Width","delegate","undelegate","hover","Xe","holdReady","parseJSON","isWindow","camelCase","isNumeric","Ye","jQuery","Je","dispose","initialized","subscribeForWorkspaceEvents","notifyMoveAreaChanged","registerPopup","removePopup","removePopupById","unmount","subscribeForWindowFocused","notifyWorkspacePopupChanged","WorkspacesManagerDecorator","componentFactory","workspacesManager","elementId","cb","_extends","useIsomorphicLayoutEffect","useLayoutEffect","Style","popupContent","tooltip","modal","popupArrow","background","color","overlay","POSITION_TYPES","getCoordinatesForPosition","triggerBounding","ContentBounding","arrow","_ref","CenterTop","CenterLeft","transform","arrowTop","arrowLeft","popupIdCounter","forwardRef","_ref$trigger","_ref$onOpen","onOpen","_ref$onClose","onClose","_ref$defaultOpen","defaultOpen","_ref$open","_ref$disabled","_ref$nested","nested","_ref$closeOnDocumentC","closeOnDocumentClick","_ref$repositionOnResi","repositionOnResize","_ref$closeOnEscape","closeOnEscape","_ref$on","_ref$contentStyle","contentStyle","_ref$arrowStyle","arrowStyle","_ref$overlayStyle","overlayStyle","_ref$className","_ref$position","_ref$modal","_ref$lockScroll","lockScroll","_ref$arrow","_ref$offsetX","_ref$offsetY","_ref$mouseEnterDelay","mouseEnterDelay","_ref$mouseLeaveDelay","mouseLeaveDelay","_ref$keepTooltipInsid","keepTooltipInside","_useState","isOpen","setIsOpen","triggerRef","useRef","contentRef","arrowRef","focusedElBeforeOpen","popupId","isModal","timeOut","setPosition","focusContentOnOpen","lockScrolll","resetScroll","openPopup","closePopup","togglePopup","onMouseEnter","onContextMenu","onMouseLeave","_contentRef$current","focusableEls","firstEl","useImperativeHandle","_arrowStyle$top","_arrowStyle$left","cords","_ref2","bestCoords","wrapperBox","boundingBox","contentBox","calculatePosition","scrollY","scrollX","listener","els","firstFocusableEl","lastFocusableEl","refs","PopupRoot","renderContent","popupContentStyle","childrenElementProps","pointerEvents","data-testid","viewBox","ovStyle","data-popup","Fragment","triggerProps","aria-describedby","onAsArray","onFocus","onBlur","comp","cloneElement","createPortal","Portal","templateId","WorkspacesWrapper","template","onCreateLogoRequested","onCreateAddWorkspaceRequested","onCreateSystemButtonsRequested","onCreateWorkspaceContentsRequested","onCreateSaveWorkspacePopupRequested","onCreateAddApplicationPopupRequested","onCreateAddWorkspacePopupRequested","onHideSystemPopupsRequested","externalPopupApplications","_super","saveWorkspacePopup","addApplicationPopup","addWorkspacePopup","LogoCustomElement","LogoComponent","AddWorkspaceCustomComponent","AddWorkspaceComponent","SystemButtonsCustomComponent","SystemButtonsComponent","WorkspaceContentsComponent","WorkspaceContents","wc","SaveWorkspaceCustomComponent","popups","SaveWorkspaceComponent","SaveWorkspacePopup","AddApplicationCustomComponent","AddApplicationComponent","AddApplicationPopup","AddWorkspacePopup","WorkspacesElementCreationWrapper","_g","additionalProperties","addApplicationComponent","saveWorkspaceComponent","addWorkspaceComponent","onCreateAddApplicationRequested","onCreateSaveWorkspaceRequested","addApplication","renderLogoComponent","renderAddWorkspaceComponent","renderSystemButtonsComponent","renderWorskpaceContents","renderSaveWorkspacePopupComponent","renderAddApplicationPopupComponent","renderAddWorkspacePopupComponent","onHideSystemPopups","factory","extendStatics$1","__extends$1","__assign$1","__awaiter$1","__generator$1","MetricTypes","getMetricTypeByValue","metric","getTypeByValue","serializeMetric","serializedMetrics","memo","innerType","composite","defineNestedComposite","description","normalizeMetricName","getMetricValueByType","publishNestedComposite","Boolean","flatten","toFlatten","composeMsgForRootStateMetric","system","merged","getAggregateState","highestState","msg","idx","aggregateDescription","Helpers","transport","BaseMetric","createMetric","repo","newValue","updateMetric","NumberMetric","incrementBy","num","increment","decrement","decrementBy","ObjectMetric","mergeValues","StringMetric","TimestampMetric","separator","_transport","_name","_description","_repo","_parent","_path","_buildPath","shadowedSystem","_state","_subSystems","_metrics","_getOrCreateMetric","metricObject","expectedType","metricDef","matching","shadowedMetric","existing","subSystem","nameSystem","descriptionSystem","_system","stateDescription","updateSystem","stringMetric","timestampMetric","objectMetric","numberMetric","aggState","shadowedSubSystem","createSystem","Repository","addSystemMetrics","clickStream","rootSystem","useClickStream","navigator","userAgent","clickStream_1","documentClickHandler","timestamp","tagName","page","urlMetric","appNameMetric","startUrl","NullProtocol","PerfTracker","api","initialPublishTimeout","publishInterval","lastCount","scheduleCollection","collect","collectMemory","collectEntries","performance","totalJSHeapSize","usedJSHeapSize","allEntries","getEntries","metrics","connection","joinPromise","session","replayRepo","replaySystem","subSystems","ss","createMetricsMsg","Description","Value","metricClone","cloneMetric","updateMetricCore","canUpdate","publishMetricsMsg","sendFireAndForget","canUpdateMetric","resolveReadyPromise","onJoined","reconnect","defineRootMetricsMsg","service","shadowedUpdateMetric","stateObj","rootMetric","peer_id","gw3","disableAutoAppSystem","featureMetric","reportingSystem","def","featureMetricFunc","addFAVSupport","perfConfig","pagePerformanceMetrics","initPerf","_handleError","exceptionArtifact","errParam","replayArgumentsArr","replayArgument","allForKey","argumentsArr","lib","InProcTransport","logger","gw","facade","connect","_client","messageHandler","client","sendObject","_msg","onMessage","onConnectedChanged","SharedWorkerTransport","workerFile","SharedWorker","port","onmessage","postMessage","Utils","getGDMajorVersion","glueDesktop","ver","isNode","_isNode","PromiseWrapper","resolved","time","timerName","marks","endTime","period","mark","currentTime","diff","timerObj","alphabet","previousSeed","WebSocketConstructor","WebSocket","WS","startupTimer","_running","wsRequests","ws","waitForSocketConnection","info","pw","failed","openSocket","retryInterval","retriesLeft","reconnectInterval","notifyForSocketState","debug","initiateSocket","retries","reason","seen_1","WeakSet","notifyStatusChanged","onclose","onopen","identity","wsRequest","randomFromSeed","nextValue","_seed_","ORIGINAL","setCharacters","_alphabet_","ind","getShuffled","characterIndex","sourceArray","targetArray","shuffle","alphabet_1","randomByteBrowser","dest","encode_1","loopCounter","decode_1","lib$1","createCommonjsModule","counter","previousSeconds","clusterWorkerId","seconds","seedValue","workerId","newCharacters","shortid","domainSession","successMessages","errorMessages","_latestOptions","isJoined","tryReconnecting","_connectionOn","disconnected","loggedIn","handleSuccessMessage","handleErrorMessage","sm","requestsMap","destination","wasReconnect","handleJoined","requestId","request_id","getNextRequestId","tag","skipPeerId","successMsg","_tag","errorMsg","leave","onLeft","connected","GW3ProtocolImpl","protocolVersion","datePrefix","datePrefixLen","dateMinLen","datePrefixFirstChar","_isLoggedIn","shouldTryLogin","initialLogin","initialLoginAttempts","sessions","handleDisconnected","ping","processStringMessage","milliseconds","ex","msgType","createStringMessage","oldToJson","datePrefix_1","processObjectMessage","createObjectMessage","login","authentication","e_1","helloMsg","sendOptions","welcomeMsg","token","err_1","loginConfig","gatewayToken","getNewGWToken","flowName","provider","flowCallback","sessionId","secret","globalDomain","subLogger","maxRetries","reconnectAttempts","resolvedIdentity","resolved_identity","availableDomains","available_domains","access_token","setLoggedIn","logout","promises","pingTimer","domainName","domainLogger","authToken","getGWToken","MessageReplayerImpl","specs","specsNames","messages","subs","subsRefCount","specs_1","spec","name_1","_loop_1","refCount","this_1","processMessage","types","isDone","name_2","drain","Connection","messageHandlers","ids","_connected","isTrace","inproc","sharedWorker","canPublish","handleConnectionChanged","handleTransportMessage","replaySpecs","replayer","isObjectBasedTransport","trace","strMessage","isLoggedIn","authRequest","distributeMessage","handlerId","loggerError","msgObj","Logger","logFn","subLoggers","customLogFn","loggerFullName","includeTimeAndLevel","existingSub","publishLevel","level","_publishLevel","consoleLevel","_consoleLevel","publishMessage","compareWith","loggerName","interop","Interop","InteropMethodName","prefix","date","getHours","getMinutes","getSeconds","getMilliseconds","toPrint","GW_MESSAGE_CREATE_CONTEXT","GW_MESSAGE_ACTIVITY_CREATED","GW_MESSAGE_ACTIVITY_DESTROYED","GW_MESSAGE_CONTEXT_CREATED","GW_MESSAGE_CONTEXT_ADDED","GW_MESSAGE_SUBSCRIBE_CONTEXT","GW_MESSAGE_SUBSCRIBED_CONTEXT","GW_MESSAGE_UNSUBSCRIBE_CONTEXT","GW_MESSAGE_DESTROY_CONTEXT","GW_MESSAGE_CONTEXT_DESTROYED","GW_MESSAGE_UPDATE_CONTEXT","GW_MESSAGE_CONTEXT_UPDATED","GW_MESSAGE_JOINED_ACTIVITY","ContextMessageReplaySpec","GW3ContextData","contextId","isAnnounced","activityId","updateCallbacks","hasCallbacks","applyContextDelta","delta","deepClone","commands","command","deletePath","setValueToPath","added_1","added","updated_1","updated","removed","mergeObjectsProperties","Set","flags","what","withWhat","deepEqual","pathArr","InvokeStatus","GW3Bridge","_contextNameToData","_gw3Subscriptions","_nextCallbackSubscriptionNumber","_contextNameToId","_contextIdToName","_protocolVersion","_connection","_logger","_gw3Session","subscribeToContextCreatedMessages","subscribeToContextUpdatedMessages","subscribeToContextDestroyedMessages","handleContextCreatedMessage","handleContextUpdatedMessage","handleContextDestroyedMessage","contextsDomainInfo","uri","createContext","lifetime","createContextMsg","context_id","contextData","currentContext","calculatedDelta","calculateContextDeltaV2","calculateContextDeltaV1","gwResponse","handleUpdated","updaterId","setPath","setPathSupported","setPaths","pathValues","pathValues_1","pathValue","pathValues_2","_r","un","thisCallbackSubscriptionNumber","hadCallbacks","joinedActivity","sentExplicitSubscription","sendSubscribe","subscriptionKey","sendUnsubscribe","extraData","oldContext","invokeUpdateCallbacks","createdMessageTypes_1","createdMessageType","contextCreatedMsg","activity_id","updatedMessageTypes_1","updatedMessageType","contextUpdatedMsg","justSeen","context_snapshot","updater_id","updateCallbackIndex","updateCallback","destroyedMessageTypes_1","destroyedMessageType","destroyedMsg","ContextsModule","_bridge","checkName","checkData","checkPath","paths_1","promisify","successCallback","errorCallback","rejectAfter","ms","finally","Client","configuration","callProtocolSubscribe","targetServers","stream","successProxy","errorProxy","methodResponseTimeout","waitTimeoutMs","methodDef","method_response_timeout","wait_for_method_timeout","delayTillNow","currentServers","getServerMethodsByFilterAndTarget","retry_1","streamInfo","methodFilter","filterCopy","getServers","serverMethodMap","server","getMethods","methodsForInstance","getMethodsForInstance","onMethodAdded","methodRemoved","onMethodRemoved","serverAdded","onServerAdded","serverRemoved","onServerRemoved","serverMethodAdded","onServerMethodAdded","serverMethodRemoved","onServerMethodRemoved","argumentObj","additionalOptions","methodDefinition","serversMethodMap","errorObj","additionalOptionsCopy","invokePromises","invocationMessages","tryToAwaitForMethods","supportsStreaming","objectTypes","called_with","executed_by","serversMethodPair","invId","invokePromise","race","invocationId","getInvocationResultObj","invocationResults","calledWith","invokeMessage","Success","allValues","currentValue","allErrors","currError","invResult","filterByTarget","myMatches","serverMethodPair","instanceMatch","localMachine","instanceFilter","instanceDefinition","containsProps","methodMatch","repoMethod","isMatch","filterValue","repoMethodValue","filterObjTypes","repoObjectTypes","objTypeToContains","objType","repoObjType","isFullfiled","containsAllFromFilter","matchingServers","resultMethodsObject","methodKey","identifier","matchingMethods","getServerMethodsById","ServerSubscription","branchKey","closeSingleSubscription","pushDataToSingle","Request","requestContext","accept","acceptRequestOnBranch","acceptOnBranch","rejectRequest","ServerStreaming","onSubRequest","rc","rm","handleSubRequest","onSubAdded","handleSubAdded","onSubRemoved","handleSubRemoved","streamCallbacks","subscriptionRequestHandler","request","subscriptionAddedHandler","subscriptionRemovedHandler","ServerBranch","subscriptions","getSubscriptionList","closeAllSubscriptions","pushData","ServerStream","_protocol","_repoMethod","_server","branches","bList","getBranchList","def2","returns","unregister","updateRepoMethod","Server","serverRepository","invocations","currentlyUnregistering","streaming","onInvoked","onMethodInvoked","createStream","streamDef","existingStream","streamMethodDefinition","getList","serverMethod","protocolState","streamUserObject","repoId","wrappedCallbackFunction","resultCallback","resultValue","userCallback","registerCore","resultCalled_1","methodResult","userCallbackAsync","forStream","methodToBeRemoved","unregisterWithPredicate","removeMethodsOrStreams","filterPredicate","methodsOrStreamsToRemove","methodsToRemove","methodUnregPromises","addAsCurrentlyUnregistering","theFunction","unregisterInProgress","methodToExecute","invocationArgs","unStrException","_value","methodInvocationResult","InstanceWrapper","wrapped","getStreams","refreshWrappedObject","user","applicationName","pid","machine","environment","region","API","ClientRepository","methodsCount","addServer","serverId","serverEntry","removeServerById","methodId","removeServerMethod","addServerMethod","createMethodIdentifier","gatewayId","display_name","object_types","input_signature","result_signature","getServersByMethod","allMethods","allServers","unsubscribeFunc","serversWithMethodsToReplay","returnUnsubWithDelayedReplay","methodsToReplay","unsubCalled","getServerById","methodInfo","collectionToReplay","ServerRepository","nextId","SUBSCRIPTION_REQUEST","SUBSCRIPTION_ADDED","SUBSCRIPTION_REMOVED","ServerStreaming$1","repository","ERR_URI_SUBSCRIPTION_FAILED","nextStreamId","handleAddInterest","handleRemoveInterest","streamingMethod","subscriptionsMap","branchKeyToStreamIdMap","streamId","getStreamId","subscription_id","subscribeMsg","stream_id","sendSubscriptionFailed","dropSubscriptionMessage","closeMultipleSubscriptions","subscriptionsToClose","drop","allSubscriptions","onSubscriptionLifetimeEvent","method_id","handlerFunc","getNextStreamId","caller_id","arguments_kv","subscriptionId","reason_uri","needleBranch","ServerProtocol","clientRepository","handleInvokeMessage","isStreaming","registerMsg","restrictions","invocation_id","callerId","UserSubscription","subscriptionData","params","trackedServers","pair","onData","dataCallback","queued","dataItem","onClosed","closedCallback","onFailed","onConnected","setNewSubscription","newSub","STATUS_AWAITING_ACCEPT","STATUS_SUBSCRIBED","ERR_MSG_SUB_FAILED","ON_CLOSE_MSG_CLIENT_INIT","ClientStreaming","subscriptionsList","subscriptionIdToLocalKeyMap","nextSubLocalKey","handleErrorSubscribing","errorResponse","subLocalKey","pendingSub","timeoutId","callArgs","callOnClosedHandlers","handleSubscribed","acceptingServer","isFirstResponse","serverInstance","handleEventData","trackedServersFound","isPrivateData","oob","sendingServerId","receivedStreamData","requestArguments","private","onDataHandlers","queuedData","handleSubscriptionCancelled","expectedNewLength","closers","getNextSubscriptionLocalKey","registerSubscription","server_id","drainSubscriptions","subsInfo","localKey","closeSubscription","closingServer","closersCount","closingServerId","ClientProtocol","handlePeerAdded","handlePeerRemoved","handleMethodsAddedMessage","handleMethodsRemovedMessage","handleResultMessage","handleInvocationError","newPeerId","new_peer_id","remoteId","meta","local","serverInfo","removedPeerId","removed_id","methodIdList","gW3ProtocolFactory","libConfig","readyPromise","existingSubscriptions_1","registeredMethods","registeredMethods_1","handleReconnect","protocolPromise","MessageBus","publish","topic","routingKey","removeEmptyValues","routing_key","target_identity","watchOnEvent","keysMatch","cleaned","obj1","obj2","keysObj1","allMatch","GlueCore","userConfig","gdVersion","preloadPromise","gdPreloadPromise","_interop","_contexts","_bus","_allowTrace","glueInitTimer","internalConfig","nodeStartingContext","startingContextString","_GD_STARTING_CONTEXT_","_f","getApplication","applicationConfig","instanceId","gwConfig","gateway","gwURL","uniqueAppName","appInstanceId","getConnection","windowAsAny","containerApplication","htmlContainer","containerName","bus","auth","gwToken","getAuth","gdConsoleLevel","defaultLevel","consoleLogLevel","getLogger","libs","customLogger","prepareConfig","registerLib","inner","initTime","initEndTime","initStartTime","setupMetrics","initTimer","metricsPublishingEnabledFunc","getMetricsPublishingEnabled","setupInterop","agmConfig","setupContexts","hasActivities","activities","setupBus","setupExternalLibs","externalLibs","createCallback","setupExternalLib","authPromise","authConfig","libsReadyPromises","coreVersion","feedback","feedbackInfo","timing","extOptions","enrichGlue","updatePerfData","deprecatedDecorator","wrong","proper","agmAny","method_added","method_removed","server_added","server_method_aded","server_method_removed","ActivityEntity","_update","other","_updateCore","_beforeDelete","isString","isUndefined","isUndefinedOrNull","ifNotUndefined","doWithIt","ActivityType","ownerWindow","helperWindows","_ownerWindow","_helperWindows","hw","covertToWindowDef","initiate","_manager","windowType","WindowType","appByWindowTypeGetter","_appByWindowTypeGetter","getWindows","activity","isIndependent","createWindow","EntityEvent","entitiy","entity","EntityEventContext","ActivityStatusChangeEventContext","newStatus","oldStatus","EntityEventType","StatusChange","ActivityContextChangedEventContext","ActivityContextChange","Added","Removed","Updated","Closed","ActivityWindowEvent","ActivityWindowJoinedActivity","ActivityWindowLeftActivity","ActivityState","Created","Started","Destroyed","ActivityAGM","_activity","_ensureHasAgm","AGM","methodNames","methodsForWindow","currentWindowMethod","activityServers","promisify$1","potentialTargets","firstElem","_isInstance","_isActivityWindow","parameters","AttachedActivityDescriptor","ownerActivityId","_ownerActivityId","ownerId","windowIds","frameColor","detachActivities","nodeify","resp","Activity","actType","_actType","_status","_context","_ownerId","_agm","getActivityType","addWindowToActivity","createStackedWindows","windowTypes","leaveWindowFromActivity","getWindowsByType","setActivityContext","updateContext","updateActivityContext","onStatusChange","subscribeActivityEvents","ns","os","subscribeWindowEvents","onContextChanged","subscribeActivityContextChanged","act","stopActivity","attach","attachActivities","onActivityAttached","subscribeActivitiesAttached","newActId","oldActId","onDetached","subscribeActivitiesDetached","newAct","originalActivity","_updateDescriptors","allStates","_attached","setFrameColor","callbacksToWait","underlyingWindow","getFrameColor","LogLevel","Trace","Debug","Info","Warn","Logger$1","GlueLogger","_glueLogger","GetNamed","Get","owner","GetTypeName","Level","_getMessage","ActivityWindow","windowGetter","hcWindowId","_type","_activityId","_instance","_isIndependent","_windowGetter","_hcWindowId","getBounds","getWindowBounds","getWindowType","getActivityById","setVisible","setWindowVisibility","activate","activateWindow","setBounds","setWindowBounds","closeWindow","onActivityJoined","_subscribeForActivityWindowEvent","onActivityRemoved","ActivityStatus","getMessage","gwMmessageError","gwMessageAddActivityTypes","gwMessageActivityCreated","gwMessageActivityDestroyed","gwMessageActivityInitiated","gwMessageJoinedActivity","gwMessageActivityJoined","gwMessageActivityLeft","gwMessageOwnerChanged","gwMessageAddPeerFactories","gwMessagePeerFactoriesAdded","gwMessagePeerFactoriesRemoved","gwMessagePeerCreated","GW3Bridge$1","_activityChangeCallbacks","_activityTypeStatusChangeCallbacks","_activityWindowChangeCallbacks","_windowTypeStatusChangeCallbacks","_peerIdAndFactoryIdToPeerType","_peerFactoriesRegisteredByUs","_contextSubscriptions","_activityTypesInitiatedFromMe","_windows","_sessionJoinedPromise","_sessionJoinedPromiseResolve","_activityJoinedPromise","_activityJoinedPromiseResolve","glue42gd_1","addRefreshHandler","setGWToken","activityTypeGwMessageEntityToActivityType","nameToWindowType","windowName","owner_type","helper_types","peerFactoryGwMessageEntityToWindowType","peer_type","activityGwMessageToActivity","owner_id","activity_type","activityToActivityStatusChangeEvent","forwardActivityTypeMessagesToStatusEventHandlers","handleActivityCreatedMessage","handleActivityDestroyedMessage","forwardActivityMessagesToStatusEventHandlers","forwardActivityCreatedAndJoinedActivityToActivityWindowEventHandlers","forwardPeerFactoryMessagesToStatusEventHandlers","forwardPeerFactoryMessagesToPeerFactoryRequests","handlePeerFactoriesAdded","handlePeerFactoriesRemoved","forwardActivityWindowMessagesToEventHandlers","disposeRequestHandling","exit","activity_types","typesToTrack","initReady","onActivityTypeStatusChange","registerActivityType","activityTypeName","toActivityPeerConfig","windowDefinition","activityType","invokeCallbacks","unregisterActivityType","onWindowTypeStatusChange","registerWindowFactory","factories","unregisterWindowFactory","factory_ids","onActivityStatusChange","initiateActivity","initiateMsg","initial_context","isOverrideTypeDefinition","types_override","helpers","wd","sendCreateAndMapResultingMessagesToPromise","initMsg","fullReplace","removedKeys","removedKeys_1","announceWindow","activityWindowId","registerWindow","independent","shouldSendReady","activityInfo","getAgmInstance","generateWindowGetter","onActivityWindowChange","cellSize","peer_name","created_id","joinActivity","destroy_peer_id","getAnnouncementInfo","announcementInfo","activityWindowType","activityWindowIndependent","activityWindowName","searchParams","maybeName","target_id","leaveActivity","getActivityTypes","getWindowTypes","getActivities","getActivityWindows","windowDefinitions","cloneActivity","cloneOptions","into","newActivityInfo","onActivitiesAttached","onActivitiesDetached","onActivityAttachedDescriptorsRefreshed","getAttachedDescriptors","getRandomRequestId","forwardAddedAndRemovedMessagesToEventHandler","addedMessageType","removedMessageType","mapper","getGetEntityEvent","isAdded","forwardMessageToEventHandler","messageType","getEntityEvent","ent","initiatedMessageType","initiatedMessageFilter","createdMessageFilter","cancelledMessageType","cancelledMessageFilter","createdMessageToPromiseResolution","resolveCreatedPromise","rejectCreatedPromise","initiatedSubscription","createdSubscription","cancelledSubscription","errorSubscription","reqId","createdPromise","initiatedMessageAck","dropSubscriptions","dropSubscription","msg4","msg1","msg2","msg3","toReturn","peerFactoryIdAndOwnerIdToWindowType","factoryId","peerType","subscribeToContext","unsubscribeContext","activityCreatedMessage","participants","createdMessage","peer_factory","gateway_token","joinedMessage","joinedId","joined_id","joinedType","joined_type","joinedName","joined_name","left_id","ActivityMy","_myAttached","_myDetached","_myAttachedTo","_myDetachedFrom","_myActivityFrameColorChanged","_myActivityJoinedCallbacks","_myActivityRemovedCallbacks","_myContextUpdateCallbacks","_m","am","_subscribeMyContextChanged","_subscribeMyWindowEvent","_subscribeActivitiesAttached","_subscribeActivitiesDetached","onWindowFrameColorChanged","_subscribeWindowFrameColorChanged","_w","announcedWindows","myWin","onActivityLeft","onActivityDetached","onAttachedToActivity","onDetachedFromActivity","attached","onFrameColorChanged","myActivity","_notifyMyContextChanged","_notifyMyWindowEvent","callbackStore","_notifyAttached","_notifyDetached","_notifyAttachedTo","_notifyDetachedFrom","detached","oldAct","ReadyMarker","signalsToWait","_signals","_callbacks","setCallback","isSet","isError","_error","getError","EntityObservableCollection","processNew","_items","_listeners","_processNew","addOne","internalEntity","_updateInternalCollections","_notifyListeners","getByName","getOrWait","entityAddedHandler","entityAsAny","isActivityDestroy","isWindowClose","oldEntity","ActivityManager","autoAnnounce","_announcedWindows","_attachedCallbacks","_detachedCallbacks","_frameColorChangesCallbacks","_windowHandlers","_activityTypes","_grabEntity","_windowTypes","_activities","_dataReadyMarker","_descriptorsMarker","_readyMarker","dataErr","errCatch","refreshDescriptors","_handleActivitiesAttached","_handleActivitiesDetached","_handleActivityDescriptorsRefreshed","_handleWindowFrameColorChanged","_subscribeForData","aw","_getInitialData","bridgeType","ownerWindowType","helperWindowTypes","ownerDefinition","helperDefinitions","relativeTo","relativeDirection","windowStyleAttributes","actId","subscribeActivityTypeEvents","factoryMethod","getName","currentWindow","windowEventHandler_1","unsubscribeWindowEvents","subscribeWindowTypeEvents","window_1","wrappingHandler","windowTypeOrConfiguration","relativeToWindow","invalidKeys_1","filteredWindowTypeOrConfiguration_1","wid","relativeWindowTypes","stackedWindow","tasks","removedKey","descriptors","stateWrapped","subscribeActivityFrameColorChanged","ac","descriptorAsObjectFromAPI","oldActivityId","newActivityId","ActivityManagementAPI","_my","activityTypes","_getActivityTypesWrapper","_getWindowTypesWrapper","registerFactory","unregisterFactory","announce","onAttached","onActivityFrameColorChanged","ActivityAPI","_mgr","aware","inActivity","getAvailableFrameColors","ActivityModule","logLevel","_isUsingHCImplementation","gdMajorVersion","_isUsingGW3Implementation","checkIsUsingGW3Implementation","activityManager","disableAutoAnnounce","_api","_readyPromise","GetFunctionalEntitlementMethodName","CanIMethodName","OnEventMethodName","createRegistry$1","lib$2","objectValues","objectClone","ApplicationImpl","_appManager","onInstanceStarted","onInstanceStopped","onAppRemoved","onAppChanged","onAppAvailable","onAppUnavailable","_props","Title","Version","AutoStart","IsShell","Caption","IsHidden","ApplicationName","ActivityWindowType","Arguments","AllowMultiple","IsReady","Icon","IconUrl","SortOrder","UserProperties","autoStart","allowMultiple","Type","Mode","styleAttributes","WindowStyleAttributes","searchFor","modeIndex","startModeIndex","stopModeIndex","updateFromProps","Name","Context","Options","acsResult","Instance_0","Id","handleInstanceStarted","unsub","check","filtered","isActivityInstance","onInstanceAgmServerReady","waitForApplicationInstance","onAvailable","onUnavailable","InstanceImpl","_appName","startFailed","onAgmReady","_addToRegistry","onStopped","_unsubscribeInstanceStopped","_unsubscribeInstanceAgmServerReady","activityInstance","_isActivityOwner","activityInstances","inst","isActivityOwner","activityOwnerInstance","_startUpContext","_title","_isActivityInstance","_inActivity","_agmInstance","ActivityId","IsActivityOwner","updateAgmInstanceFromProps","AgmServers","GD3","agmInstances","gdAgmServers","propsAgmServer","propsAgm","machineName","userName","handleInstanceStopped","AppManagerImpl","_gdMajorVersion","_apps","_instances","getMyInstance","instanceId_1","handleAppAdded","_getAppId","_updateAppFromProps","handleAppUpdated","handleAppRemoved","handleAppReady","_getAppOrThrow","available","_getInstanceId","_getInstanceAppName","_updateInstanceFromProps","_getInstanceOrThrow","_matchInstance","handleInstanceAgmServerReady","handleInstanceStartFailed","handleInstanceUpdated","onInstanceStartFailed","onInstanceUpdated","onAppAdded","_getInstanceByIdAndName","promisify$2","EntitlementsImpl","handleBranchModified","handleBranchesModified","getRegion","_agmInvoke","Region","getBranches","Branches","getCurrentBranch","Branch","setRegion","ResultMessage","setCurrentBranch","currentUser","getFunctionalEntitlement","funct","Entitlement","getFunctionalEntitlementBranch","canI","func","Result","canIBranch","onBranchesChanged","onBranchChanged","restart","transformFunction","AppManagerFactory","START_ONLY","SKIP_ICONS","entitlements","skipIcon","skipIcons","resolveFunc","rejectFunc","resultPromise","streamData","createDataSubscription","windowStore","WindowStore","waitForTimeoutInMilliseconds","_pendingWindows","_pendingWindowsStates","getIfReady","remote","urlChanged","setReadyState","targetWindowState","markReadyToShow","setUrlChangedState","waitFor","onReadyWindow","Utils$1","callbackifyPromise","getMonitor","displays","workingAreaWidth","workingAreaHeight","monitor","totalOverlap","calculateTotalOverlap","getDisplayCenterOfScreen","r1","r2","r1x","r1y","r1xMax","r1yMax","r2x","r2y","r2xMax","r2yMax","windowFactory","executor","appManagerGetter","_group","_mode","_url","_bounds","_frameColor","_focus","_neighbours","neighbours","_groupId","groupId","_isGroupHeaderVisible","isGroupHeaderVisible","_isTabHeaderVisible","isTabHeaderVisible","_isTabSelected","isTabSelected","_settings","_isVisible","_isSticky","isSticky","isCollapsed","_windowState","_tabGroupId","tabGroupId","_isLocked","isLocked","_frameButtons","_zoomFactor","zoomFactor","moveResize","resolveTimeout","unsubscribeBoundsChanged","resolveImmediately","areBoundsEqual","onBoundsChanged","toBeVisible","isVisibilityCorrect","onVisibilityChanged","waitForLockingChanged","onLockingChanged","onUrlChanged","onCollapsed","onExpanded","onMaximized","onMinimized","onNormal","onTabHeaderVisibilityChanged","getNeighboursByDirection","direction","winId","getApplicationName","_APPLICATION_NAME","_t42","getWindowInfo","requested","maxHeight","areHeightsEqual","areWidthsEqual","areLeftsEqual","areTopsEqual","handleWindowClose","handleWindowChangeState","handleTitleChanged","newTitle","handleVisibilityChanged","handleUrlChanged","newUrl","handleWindowSettingsChanged","handleContextUpdated","handleFrameIsLockedChanged","handleBoundsChanged","handleFocusChanged","handleFrameButtonAdded","frameButton","buttonObj","btn","buttonId","handleFrameButtonRemoved","frameButtonId","handleFrameButtonClicked","handleFrameColorChanged","handleFrameAttached","handleFrameSelectionChanged","newWindow","prevWindow","selectedWindow","previousWindow","un_1","onTabSelectionChanged","newWin","prevWin","handleCompositionChanged","handleGroupHeaderVisibilityChanged","handleTabHeaderVisibilityChanged","handleGroupChanged","newGroup","oldGroup","handleGroupAssociation","group","handleAttached","newTabGroupId","tabHeaderVisible","handleDetached","handleWindowAttached","handleWindowDetached","handleZoomFactorChanged","handleIsStickyChanged","hostInstance","monitors","maximizeRestore","currEvent","collapse","toggleCollapse","setStyle","setOnTop","onTop","resetButtons","setSizeConstraints","constraints","navigate","addFrameButton","buttonInfo","imageBase64","removeFrameButton","center","screen","snap","targetWindowGroup","targetGroup","targetWindow","showLoader","loader","hideLoader","unlock","getIcon","icon","setIcon","base64Image","setTabTooltip","attachTab","sourceWindowId","targetWindowId","argsForSend","sourceWin","detachTab","opt","hideTabHeader","visibilityChangeHeard","detachedHeard","unVisibility","unDetached","setTabHeaderVisible","toBeTabHeaderVisible","showPopup","createFlydown","setModalState","setZoomFactor","zoomIn","zoomOut","showDevTools","capture","captureOptions","flash","suppliedOptions","flashOptions","shouldFlash","setSticky","print","printOptions","printToPDF","printToPDFOptions","onTitleChanged","onFrameButtonAdded","onFrameButtonRemoved","onFrameButtonClicked","onContextUpdated","onFocusChanged","onStickyChanged","onGroupChanged","onWindowAttached","onWindowDetached","onClosing","onRefreshing","prevent","onZoomFactorChanged","getAllTabs","resizeTo","getParentWindow","myParentId","parentInstanceId","getChildWindows","Events","Registry","GDExecutor","agmTarget","stylePromises","wait","toolTip","allowClose","allowCollapse","allowLockUnlock","allowMaximize","allowMinimize","tabTooltip","tabToolTip","buttonsConfig","snappingEdge","dataURL","toShow","optionsCopy","reformatedOptions","targetLocation","popupBounds","targetId","fullOptions","horizontalOffset","verticalOffset","reformatFlydownOptions","zoneIds","zones","flydownSize","cancel","clearFlydownArea","handleFlydownBoundsRequested","cancelCallback","responses","defaultResponse","zoneId","flydownId","flydownWindowBounds","flydownWindowId","captureGroup","groupWindowIds","configure","filePath","setGroupHeaderVisible","getGroupTitle","setGroupTitle","addCloseHandler","assignGeneralIfUnassigned","zone","valueFromOptions","flydownBounds","flydownActiveArea","activeArea","areaIds","getWindowsByTabGroupId","alphabet$1","previousSeed$1","shuffled$1","GDEnvironment","wndId","_waitTimeout","normalizeInstance","_windowId","_appManagerGetter","caller","respondToEvent","streamResolve","streamReject","updateWindow","copyOptions","windowState","tabAttached","tabDetached","onEvent","onCompositionChanged","onGroupHeaderVisibilityChanged","onWindowGotFocus","onWindowLostFocus","windowInfo","readyResolve","extendedStreamEvent","getExtendedStreamEvent","windowInfoCreatedEvent","windowObjectAndEvents","theWindow","theWindowEvents","windowInfoBoundsChangedEvent","windowInfoUrlChangedEvent","windowInfoTitleChanged","windowInfoIsStickyChangedChanged","windowInfoCompositionChanged","neighbors","groupHeaderVisible","windowInfoFocusChanged","focusChanged","winsToBeNotified_1","oldTabGroupId","winsToBeNotified_2","prevWindowId","windowObjAndEvents","mapToWindowConstructorOptions","isActiveTab","streamEvent","charAt","groupFactory","_windowsId","waitForHeaderVisibilityChanged","onHeaderVisibilityChanged","groupObject","_mapToWindowObjects","winObjects","windowObject","_mapToWindowObject","mappedWindows","mappedWindow","showHeader","hideHeader","groupAPI","groupInternal","removeWindow","window_2","groupsFactory","_groups","heardForWindowsCounter","findGroupByWindow","groupFound","addNewWindow","windowGroupId","createdGroup","createOrGetGroup","deleteGroup","newGroupId","oldGroupId","groupEvents","groupsAPI","groupsEvents","onWindowMoved","WindowsFactory","groups","gdPromise","rej","envDetector","myWindow","windowAdded","windowRemoved","errorHandler","windowsForListing","onTabAttached","onTabDetached","unsubFunc","unsubscribed","store","LayoutStore","removeWhere","condition","seed$1","randomFromSeed$1","ORIGINAL$1","reset$1","setCharacters$1","getShuffled$1","shuffle$1","alphabet_1$1","crypto$1","randomByteBrowser$1","encode_1$1","decode_1$1","build_1","isValid$1","lib$3","createCommonjsModule$1","shortid$1","ContextProvider","activitiesGetter","registerRequestMethods","onSaveRequested","context_1","activityIsOwner","usersCbs","requestResult","autoSaveWindowContext","windowContext","activityContext","transformACSLayout","something","accumulator","convertedValue","LayoutImpl","LayoutsAPIImpl","activityGetter","setDefaultGlobal","clearDefaultGlobal","getDefaultGlobal","isSlimMode","gotSnapshot","verifyNotSlimMode","ignoreHidden","layoutObject","actIds","appIds","ignoreLayoutRestrictions","myInstance","isVisibleWindow","ignoreMyInstance","autoCollectApps","invokeMethodAndTrack","activityIdToJoin","restoreActivityOwner","ignoreActivityWindowTypes","closeRunningInstance","reuseWindows","t42","activityToJoin","closeOldWindows","reuseExistingWindows","toClose","splash","getInstancesToClose","getObjectValues","Layouts","rename","newName","oldName","updateMetadata","hibernate","resume","getCurrentLayout","onRestored","onRenamed","updateAppContextInCurrent","updateDefaultContext","skipStreamEvent","agmResult","streamEventReceived","handleResult","shellApp","shellApplicationName","ACSStream","resolveReady","rejectReady","resolveGotSnapshot","rejectGotSnapshot","noRetry","checkForLayoutEventMethod","IsSnapshot","addLayouts","OnLayoutAdded","removeLayouts","OnLayoutRemoved","changeLayouts","OnLayoutChanged","renameLayouts","OnLayoutRenamed","restoredLayout","OnLayoutRestored","Token","layoutsData","removedLayouts","removedLayout","existingLayout","compareLayouts","changedLayouts","changedLayout","renamedLayouts","renamedLayout","layout1","layout2","restoredLayouts","LayoutsFactory","acsStream","DisplayCommand","DisplayManager","callGD","GetAll","decorateDisplay","getPrimary","isPrimary","Capture","captureAll","CaptureAll","getMousePosition","GetMousePosition","original","switchChannel","channel","swId","newChannel","CONTEXT_PREFIX","SharedContextSubscriber","subscribeFor","isChannel","createContextName","___","startsWith","channelContextName","getContextData","updateChannel","updateData","channelName","ChannelsImpl","shared","subsKey","changedKey","channelNames","joinCore","joinNoSelectorSwitch","leaveCore","leaveNoSelectorSwitch","changed","changeSelector","doesChannelExist","intervalId","sharedContexts","channels","interopLib","setupAGM","CommandMethod","HotkeysImpl","firstHotkey","hotkeys","hkToLower","hotkey","formatHotkey","registerInvokeAGMMethod","unregisterAll","isRegistered","version$2","prepareConfig$1","getLibConfig","defaultMode","trueMode","getModeAsString","Glue42Notification","actions","badge","renotify","requireInteraction","silent","Notifications","methodsRegistered","methodNameRoot","notifications","raise","bunchOfPromises","notification","validActions","validActions_1","g42notification","maxActions","handleNotificationAction","severity","glueRoutingDetailMethodName","g42notificationId","g42action","g42interopMethod","g42interopTarget","stringValue","glueAction","payload_1","event_1","onaction","actionInterop","event_2","clickInterop","ThemesImpl","core","isSubscribed","getConfiguration","getMethodName","getCurrent","theme","setMethodName","sharedContextName","getThemesMethodName","setThemesMethodName","GLUE42_FDC3_INTENTS_METHOD_PREFIX","Intents","intentFilter","intents","ctToLower_1","intent","contextType","contextTypes","intentName","intentDef","isDynamicIntent","anAppHandler","anInstanceHandler","intentDefHandler","intentHandler","startApp","raiseIntentToInstance","apps_1","intents_1","appsWithIntents","appsWithIntents_1","withIntentsInfo","applicationTitle","applicationDescription","applicationIcon","appIntent","_h","_j","_k","_l","appWithIntents","appDefIntent","instanceTitle","addIntentListener","methodDescription","registeredIntent","interopServer","registeredMethod","addedMethod","factory$3","createWindows","glueConfig","windowsLogger","getLibLogger","debugLog","createActivities","activityLogger","createAppManager","createLayouts","layoutsConfig","lay","createChannels","channelsAPI","createHotkeys","hotkeysAPI","factory$1","createIntents","intentsAPI","createNotifications","notificationsAPI","createDisplaysApi","displaysLogger","_displays","createThemes","themesAPI","themes","factory$2","newLogger","loggerConfig","currentLog","glueApi","glueFactoryLog","libraries","whatToExpose","shouldSetToWindow","autoInjected","webPlatform","parseConfig","libDomainDecoder","windowOperationTypesDecoder","appManagerOperationTypesDecoder","layoutsOperationTypesDecoder","windowRelativeDirectionDecoder","windowOpenSettingsDecoder","openWindowConfigDecoder","windowHelloDecoder","coreWindowDataDecoder","simpleWindowDecoder","helloSuccessDecoder","isWorkspaceFrame","windowTitleConfigDecoder","windowMoveResizeConfigDecoder","windowBoundsResultDecoder","windowUrlResultDecoder","anyDecoder","boundsDecoder","instanceDataDecoder","applicationDataDecoder","baseApplicationDataDecoder","appHelloSuccessDecoder","apps","basicInstanceDataDecoder","applicationStartConfigDecoder","waitForAGMReady","layoutTypeDecoder","componentTypeDecoder","windowLayoutComponentDecoder","componentType","main","windowLayoutItemDecoder","groupLayoutItemDecoder","columnLayoutItemDecoder","rowLayoutItemDecoder","workspaceLayoutComponentDecoder","glueLayoutDecoder","newLayoutOptionsDecoder","restoreOptionsDecoder","layoutSummaryDecoder","simpleLayoutConfigDecoder","getAllLayoutsConfigDecoder","allLayoutsFullConfigDecoder","allLayoutsSummariesResultDecoder","optionalSimpleLayoutResult","operations","openWindow","dataDecoder","resultDecoder","windowHello","getUrl","WebWindowModel","CallbackRegistryFactory","myCtxKey","ctxUnsubscribe","contextLib","dimension","targetBounds","commandArgs","ttl","WindowsController","allWindowProjections","coreGlue","publicWindowId","addWindowOperationExecutors","platformRegistration","registerWithPlatform","toApi","operationData","windowSuccess","buildWebWindow","projection","handleWindowAdded","handleWindowRemoved","handleGetBounds","handleGetTitle","handleGetUrl","handleMoveResize","handleSetTitle","helloSuccess","sayHello","currentWindows","webWindowProjection","clean","targetTop","targetLeft","targetHeight","targetWidth","moveMethod","moveBy","resizeMethod","resizeBy","PromiseWrap","GlueWebPlatformControlName","GlueWebPlatformStreamName","GlueBridge","platformMethodTimeoutMs","controllers","checkWaitMethod","passMessageController","pkg","transmitMessage","unSub","decodeResult","handleBridgeMessage","resolutionData","messageData","appHello","applicationAdded","applicationRemoved","applicationChanged","instanceStarted","instanceStopped","applicationStart","instanceStop","AppManagerController","addOperationsExecutors","startOptions","openResult","buildInstance","getApplications","getInstances","handleApplicationAddedMessage","handleApplicationRemovedMessage","handleApplicationChangedMessage","handleInstanceStartedMessage","handleInstanceStoppedMessage","appData","buildApplication","appIndex","instanceData","instIdx","instIdxApps","verifiedName","instancesSoFar","findMyInstance","foundInstance","InstanceModel","ApplicationModel","startApplication","layoutAdded","layoutChanged","layoutRemoved","LayoutsController","handleOnAdded","handleOnChanged","IoC","windowsController","appManagerController","layoutsController","_windowsControllerInstance","_appManagerControllerInstance","_layoutsControllerInstance","_bridgeInstance","PromisePlus","WebPlatformTransport","parentReady","iAmConnected","parentPingTimeout","connectionRequestTimeout","defaultTargetString","connectionAccepted","handleConnectionAccepted","connectionRejected","handleConnectionRejected","connectionRequest","handleConnectionRequest","handleParentReady","parentPing","handleParentPing","platformPing","handlePlatformPing","platformUnload","handlePlatformUnload","platformReady","handlePlatformReady","clientUnload","handleClientUnload","setUpMessageListener","setUpUnload","waitParent","initiateRemoteConnection","connectionResolve","connectionReject","myClientId","bridgeInstanceId","glue42core","clientId","clientType","parentPingResolve","checkMessageTypeValid","ownWindowId","handleAcceptanceOfMyRequest","handleAcceptanceOfGrandChildRequest","parentWindowId","grandChildId","rejectConnectionRequest","typeToValidate","rejection","getInvokePromise","coreFactoryFunction","glueWebFactory","createGlueCore","windowAny","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","ReactCurrentOwner","__self","__source","defaultProps","$$typeof","_owner","jsx","jsxs","StrictMode","Profiler","Suspense","isMounted","enqueueForceUpdate","enqueueReplaceState","enqueueSetState","updater","isReactComponent","forceUpdate","isPureReactComponent","_result","ReactCurrentDispatcher","ReactCurrentBatchConfig","transition","IsSomeRendererActing","Children","count","only","PureComponent","_calculateChangedBits","_currentValue","_currentValue2","_threadCount","Consumer","createFactory","isValidElement","_payload","_init","useCallback","useDebugValue","useMemo","useReducer","aa","ba","ca","da","ea","fa","ha","ia","ja","ka","acceptsBooleans","attributeNamespace","mustUseProperty","sanitizeURL","removeEmptyString","oa","pa","qa","ma","na","la","setAttributeNS","xlinkHref","ra","sa","ta","ua","wa","xa","ya","za","Aa","Ba","Ca","Da","Ea","Fa","Ga","Ha","Ia","Ja","Ma","Ka","La","Na","Oa","Pa","prepareStackTrace","Reflect","construct","Qa","Ra","Sa","Ta","Va","_valueTracker","getOwnPropertyDescriptor","getValue","setValue","stopTracking","Ua","Wa","Xa","Ya","defaultChecked","_wrapperState","initialChecked","Za","initialValue","controlled","$a","ab","bb","eb","db","fb","defaultSelected","gb","dangerouslySetInnerHTML","hb","ib","jb","kb","lb","mb","nb","ob","valueOf","MSApp","execUnsafeLocalFunction","pb","qb","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columns","flex","flexPositive","flexNegative","flexOrder","gridRowSpan","gridColumnSpan","lineClamp","tabSize","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","rb","sb","tb","ub","menuitem","area","embed","hr","img","keygen","link","track","wbr","vb","wb","xb","srcElement","correspondingUseElement","yb","zb","Ab","Bb","Cb","stateNode","Db","Eb","Fb","Gb","Hb","Ib","Jb","Kb","Lb","Mb","Ob","Pb","Qb","Rb","onError","Sb","Tb","Ub","Vb","Wb","Xb","Zb","alternate","$b","memoizedState","dehydrated","cc","sibling","bc","dc","ec","fc","gc","hc","ic","jc","kc","lc","mc","nc","oc","pc","qc","blockedOn","domEventName","eventSystemFlags","nativeEvent","targetContainers","sc","tc","vc","lanePriority","unstable_runWithPriority","priority","hydrate","containerInfo","xc","yc","zc","Ac","Bc","unstable_scheduleCallback","unstable_NormalPriority","Cc","Dc","Ec","animationend","animationiteration","animationstart","transitionend","Fc","Gc","Hc","animation","Ic","Jc","Kc","Lc","Mc","Nc","Oc","Pc","Qc","unstable_now","Rc","Uc","pendingLanes","expiredLanes","suspendedLanes","pingedLanes","Vc","entangledLanes","entanglements","Wc","Xc","Yc","Zc","$c","eventTimes","clz32","cd","dd","unstable_UserBlockingPriority","ed","fd","gd","hd","uc","jd","kd","ld","md","nd","od","pd","qd","rd","_reactName","_targetInst","cancelBubble","persist","isPersistent","xd","yd","sd","isTrusted","ud","vd","Ad","getModifierState","zd","fromElement","movementX","movementY","Bd","Dd","dataTransfer","Fd","Hd","animationName","elapsedTime","pseudoElement","Jd","clipboardData","Ld","Md","Esc","Spacebar","Left","Up","Right","Down","Del","Win","Menu","Apps","Scroll","MozPrintableKey","Nd","8","9","12","13","16","17","18","19","20","27","32","33","34","35","36","37","38","39","40","45","46","112","113","114","115","116","117","118","119","120","121","122","123","144","145","224","Od","Alt","Control","Meta","Shift","Pd","Rd","repeat","locale","Td","pressure","tangentialPressure","tiltX","tiltY","twist","Vd","Xd","Zd","deltaX","wheelDeltaX","deltaY","wheelDeltaY","wheelDelta","deltaZ","deltaMode","$d","documentMode","datetime","email","month","range","tel","week","oninput","detachEvent","Ke","HTMLIFrameElement","contentEditable","Qe","selectionStart","selectionEnd","anchorNode","getSelection","anchorOffset","focusNode","focusOffset","Ze","Yb","af","bf","cf","df","passive","Nb","ef","ff","gf","hf","jf","kf","lf","mf","autoFocus","nf","__html","of","pf","qf","rf","sf","previousSibling","tf","vf","wf","xf","yf","zf","Af","Bf","Cf","Df","Ef","__reactInternalMemoizedUnmaskedChildContext","__reactInternalMemoizedMaskedChildContext","Ff","childContextTypes","Gf","Hf","If","getChildContext","Jf","__reactInternalMemoizedMergedChildContext","Kf","Lf","Mf","Nf","Of","Pf","unstable_cancelCallback","Qf","unstable_shouldYield","Rf","unstable_requestPaint","Sf","Tf","unstable_getCurrentPriorityLevel","Uf","unstable_ImmediatePriority","Vf","Wf","Xf","unstable_LowPriority","Yf","unstable_IdlePriority","Zf","$f","ag","bg","cg","dg","eg","fg","gg","hg","ig","jg","kg","lg","mg","ng","og","pg","qg","rg","sg","childLanes","tg","dependencies","firstContext","lanes","ug","vg","observedBits","responders","wg","xg","updateQueue","baseState","firstBaseUpdate","lastBaseUpdate","pending","effects","yg","zg","eventTime","lane","Ag","Bg","Cg","Dg","Eg","Fg","Gg","Kg","_reactInternals","Hg","Ig","Jg","Lg","shouldComponentUpdate","Mg","Ng","componentWillReceiveProps","UNSAFE_componentWillReceiveProps","Og","getDerivedStateFromProps","getSnapshotBeforeUpdate","UNSAFE_componentWillMount","componentWillMount","componentDidMount","Pg","Qg","_stringRef","Rg","Sg","lastEffect","nextEffect","firstEffect","Tg","Ug","elementType","Vg","Wg","Xg","Yg","Zg","$g","ah","bh","ch","dh","eh","fh","gh","hh","ih","memoizedProps","revealOrder","jh","kh","lh","mh","nh","oh","pendingProps","ph","qh","rh","sh","uh","_workInProgressVersionPrimary","vh","wh","xh","yh","zh","Ah","Bh","Ch","Dh","Eh","Fh","Gh","Hh","baseQueue","Ih","Jh","Kh","lastRenderedReducer","eagerReducer","eagerState","lastRenderedState","Lh","Mh","_getVersion","_source","mutableReadLanes","Nh","setSnapshot","Oh","Ph","Qh","Rh","deps","Sh","Th","Uh","Vh","Wh","Xh","Yh","Zh","$h","ai","bi","ci","di","readContext","useDeferredValue","useTransition","useMutableSource","useOpaqueIdentifier","unstable_isNewReconciler","uf","ei","fi","gi","ii","ji","ki","li","mi","baseLanes","ni","oi","pi","UNSAFE_componentWillUpdate","componentDidUpdate","qi","getDerivedStateFromError","ri","pendingContext","Bi","Di","Ei","si","retryLane","ti","unstable_avoidThisFallback","ui","unstable_expectedLoadTime","vi","wi","xi","yi","zi","isBackwards","rendering","renderingStartTime","tail","tailMode","Ai","Fi","Gi","wasMultiple","multiple","createElementNS","Hi","Ii","Ji","Ki","Li","Mi","Ni","Oi","Pi","Qi","Ri","Si","componentDidCatch","Ti","componentStack","Ui","Vi","Wi","Xi","__reactInternalSnapshotBeforeUpdate","Yi","Zi","$i","aj","bj","onCommitFiberUnmount","componentWillUnmount","cj","dj","ej","fj","gj","hj","_reactRootContainer","ij","jj","kj","lj","mj","nj","oj","pj","qj","rj","sj","tj","uj","vj","wj","ck","xj","yj","zj","Aj","Bj","Cj","Dj","Ej","Fj","Gj","Hj","Ij","Jj","Sc","Kj","Lj","Mj","callbackNode","expirationTimes","callbackPriority","Tc","Nj","Oj","Pj","Qj","Rj","Sj","Tj","finishedWork","finishedLanes","Uj","timeoutHandle","Wj","Xj","pingCache","Yj","Zj","va","ak","bk","dk","rangeCount","focusedElem","selectionRange","ek","createRange","setStart","removeAllRanges","addRange","setEnd","onCommitFiberRoot","fk","gk","ik","pendingChildren","jk","mutableSourceEagerHydrationData","kk","lk","mk","nk","qk","hydrationOptions","mutableSources","_internalRoot","rk","tk","hasAttribute","sk","uk","hk","unstable_observedBits","form","Vj","vk","wk","findFiberByHostInstance","bundleType","rendererPackageName","xk","rendererConfig","overrideHookState","overrideHookStateDeletePath","overrideHookStateRenamePath","overrideProps","overridePropsDeletePath","overridePropsRenamePath","setSuspenseHandler","scheduleUpdate","currentDispatcherRef","findHostInstanceByFiber","findHostInstancesForRefresh","scheduleRefresh","scheduleRoot","setRefreshHandler","getCurrentFiber","yk","supportsFiber","inject","findDOMNode","flushSync","unstable_batchedUpdates","unstable_createPortal","unstable_renderSubtreeIntoContainer","MessageChannel","unstable_forceFrameRate","cancelAnimationFrame","port2","port1","sortIndex","expirationTime","priorityLevel","unstable_Profiling","unstable_continueExecution","unstable_getFirstCallbackNode","unstable_next","unstable_pauseExecution","unstable_wrapCallback","runtime","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","innerFn","outerFn","tryLocsList","protoGenerator","Generator","_invoke","GenStateSuspendedStart","GenStateExecuting","GenStateCompleted","doneResult","delegateResult","maybeInvokeDelegate","ContinueSentinel","_sent","dispatchException","abrupt","record","tryCatch","GenStateSuspendedYield","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","resultName","nextLoc","pushTryEntry","locs","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iterable","iteratorMethod","isGeneratorFunction","genFun","ctor","awrap","skipTempReset","rootRecord","rval","exception","loc","caught","hasCatch","hasFinally","finallyEntry","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","propName","propFullName","getShim","isRequired","ReactPropTypes","symbol","any","arrayOf","instanceOf","objectOf","oneOfType","shape","exact","checkPropTypes","PropTypes","b64","lens","getLens","validLen","placeHoldersLen","tmp","Arr","_byteLength","curByte","revLookup","uint8","extraBytes","parts","maxChunkLength","len2","encodeChunk","output","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN"],"mappings":"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","file":"static/js/2.f60a793b.chunk.js","sourcesContent":["module.exports = require(\"regenerator-runtime\");\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.min.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom.production.min.js');\n} else {\n  module.exports = require('./cjs/react-dom.development.js');\n}\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","import React, { createContext, memo } from \"react\";\r\nimport { node, object, func } from \"prop-types\";\r\nimport { Glue42Web } from \"@glue42/web\";\r\nimport { Glue42 } from \"@glue42/desktop\";\r\nimport { useGlueInit } from \"./useGlueInit\";\r\nimport { GlueProviderProps, Glue42ReactFactory } from \"../react-hooks\";\r\n\r\nexport const GlueContext = createContext<Glue42Web.API | Glue42.Glue>(null);\r\n\r\nconst getGlueFactory = (): Glue42ReactFactory => {\r\n    return (window as any).GlueWeb || (window as any).Glue;\r\n};\r\n\r\nexport const GlueProvider: React.FC<GlueProviderProps> = memo(\r\n    ({ children, fallback = null, config = {}, glueFactory }) => {\r\n        const factory = glueFactory || getGlueFactory();\r\n        const glue = useGlueInit(config, factory);\r\n        return glue ? (\r\n            <GlueContext.Provider value={glue}>{children}</GlueContext.Provider>\r\n        ) : (\r\n            <>{fallback}</>\r\n        );\r\n    }\r\n);\r\n\r\nGlueProvider.propTypes = {\r\n    children: node,\r\n    config: object,\r\n    glueFactory: func,\r\n    fallback: node,\r\n};\r\n\r\nGlueProvider.displayName = \"GlueProvider\";\r\n","import { useEffect, useState } from \"react\";\r\nimport { useGlueInitProps } from \"../react-hooks\";\r\n\r\nexport const useGlueInit: useGlueInitProps = (config, glueFactory) => {\r\n    const [glue, setGlue] = useState(null);\r\n    useEffect(() => {\r\n        const initialize = async () => {\r\n            try {\r\n                const glue = await glueFactory(config);\r\n                setGlue(glue);\r\n            } catch (e) {\r\n                console.error(e);\r\n            }\r\n        };\r\n        initialize();\r\n    }, []);\r\n    return glue;\r\n};\r\n","import unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","\"use strict\";\r\nfunction createRegistry(options) {\r\n    if (options && options.errorHandling\r\n        && typeof options.errorHandling !== \"function\"\r\n        && options.errorHandling !== \"log\"\r\n        && options.errorHandling !== \"silent\"\r\n        && options.errorHandling !== \"throw\") {\r\n        throw new Error(\"Invalid options passed to createRegistry. Prop errorHandling should be [\\\"log\\\" | \\\"silent\\\" | \\\"throw\\\" | (err) => void], but \" + typeof options.errorHandling + \" was passed\");\r\n    }\r\n    var _userErrorHandler = options && typeof options.errorHandling === \"function\" && options.errorHandling;\r\n    var callbacks = {};\r\n    function add(key, callback, replayArgumentsArr) {\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey) {\r\n            callbacksForKey = [];\r\n            callbacks[key] = callbacksForKey;\r\n        }\r\n        callbacksForKey.push(callback);\r\n        if (replayArgumentsArr) {\r\n            setTimeout(function () {\r\n                replayArgumentsArr.forEach(function (replayArgument) {\r\n                    var _a;\r\n                    if ((_a = callbacks[key]) === null || _a === void 0 ? void 0 : _a.includes(callback)) {\r\n                        try {\r\n                            if (Array.isArray(replayArgument)) {\r\n                                callback.apply(undefined, replayArgument);\r\n                            }\r\n                            else {\r\n                                callback.apply(undefined, [replayArgument]);\r\n                            }\r\n                        }\r\n                        catch (err) {\r\n                            _handleError(err, key);\r\n                        }\r\n                    }\r\n                });\r\n            }, 0);\r\n        }\r\n        return function () {\r\n            var allForKey = callbacks[key];\r\n            if (!allForKey) {\r\n                return;\r\n            }\r\n            allForKey = allForKey.reduce(function (acc, element, index) {\r\n                if (!(element === callback && acc.length === index)) {\r\n                    acc.push(element);\r\n                }\r\n                return acc;\r\n            }, []);\r\n            callbacks[key] = allForKey;\r\n        };\r\n    }\r\n    function execute(key) {\r\n        var argumentsArr = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            argumentsArr[_i - 1] = arguments[_i];\r\n        }\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey || callbacksForKey.length === 0) {\r\n            return [];\r\n        }\r\n        var results = [];\r\n        callbacksForKey.forEach(function (callback) {\r\n            try {\r\n                var result = callback.apply(undefined, argumentsArr);\r\n                results.push(result);\r\n            }\r\n            catch (err) {\r\n                results.push(undefined);\r\n                _handleError(err, key);\r\n            }\r\n        });\r\n        return results;\r\n    }\r\n    function _handleError(exceptionArtifact, key) {\r\n        var errParam = exceptionArtifact instanceof Error ? exceptionArtifact : new Error(exceptionArtifact);\r\n        if (_userErrorHandler) {\r\n            _userErrorHandler(errParam);\r\n            return;\r\n        }\r\n        var msg = \"[ERROR] callback-registry: User callback for key \\\"\" + key + \"\\\" failed: \" + errParam.stack;\r\n        if (options) {\r\n            switch (options.errorHandling) {\r\n                case \"log\":\r\n                    return console.error(msg);\r\n                case \"silent\":\r\n                    return;\r\n                case \"throw\":\r\n                    throw new Error(msg);\r\n            }\r\n        }\r\n        console.error(msg);\r\n    }\r\n    function clear() {\r\n        callbacks = {};\r\n    }\r\n    function clearKey(key) {\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey) {\r\n            return;\r\n        }\r\n        delete callbacks[key];\r\n    }\r\n    return {\r\n        add: add,\r\n        execute: execute,\r\n        clear: clear,\r\n        clearKey: clearKey\r\n    };\r\n}\r\n;\r\ncreateRegistry.default = createRegistry;\r\nmodule.exports = createRegistry;\r\n//# sourceMappingURL=index.js.map","/**\r\n * Wraps values in an `Ok` type.\r\n *\r\n * Example: `ok(5) // => {ok: true, result: 5}`\r\n */\r\nvar ok = function (result) { return ({ ok: true, result: result }); };\r\n/**\r\n * Typeguard for `Ok`.\r\n */\r\nvar isOk = function (r) { return r.ok === true; };\r\n/**\r\n * Wraps errors in an `Err` type.\r\n *\r\n * Example: `err('on fire') // => {ok: false, error: 'on fire'}`\r\n */\r\nvar err = function (error) { return ({ ok: false, error: error }); };\r\n/**\r\n * Typeguard for `Err`.\r\n */\r\nvar isErr = function (r) { return r.ok === false; };\r\n/**\r\n * Create a `Promise` that either resolves with the result of `Ok` or rejects\r\n * with the error of `Err`.\r\n */\r\nvar asPromise = function (r) {\r\n    return r.ok === true ? Promise.resolve(r.result) : Promise.reject(r.error);\r\n};\r\n/**\r\n * Unwraps a `Result` and returns either the result of an `Ok`, or\r\n * `defaultValue`.\r\n *\r\n * Example:\r\n * ```\r\n * Result.withDefault(5, number().run(json))\r\n * ```\r\n *\r\n * It would be nice if `Decoder` had an instance method that mirrored this\r\n * function. Such a method would look something like this:\r\n * ```\r\n * class Decoder<A> {\r\n *   runWithDefault = (defaultValue: A, json: any): A =>\r\n *     Result.withDefault(defaultValue, this.run(json));\r\n * }\r\n *\r\n * number().runWithDefault(5, json)\r\n * ```\r\n * Unfortunately, the type of `defaultValue: A` on the method causes issues\r\n * with type inference on  the `object` decoder in some situations. While these\r\n * inference issues can be solved by providing the optional type argument for\r\n * `object`s, the extra trouble and confusion doesn't seem worth it.\r\n */\r\nvar withDefault = function (defaultValue, r) {\r\n    return r.ok === true ? r.result : defaultValue;\r\n};\r\n/**\r\n * Return the successful result, or throw an error.\r\n */\r\nvar withException = function (r) {\r\n    if (r.ok === true) {\r\n        return r.result;\r\n    }\r\n    else {\r\n        throw r.error;\r\n    }\r\n};\r\n/**\r\n * Given an array of `Result`s, return the successful values.\r\n */\r\nvar successes = function (results) {\r\n    return results.reduce(function (acc, r) { return (r.ok === true ? acc.concat(r.result) : acc); }, []);\r\n};\r\n/**\r\n * Apply `f` to the result of an `Ok`, or pass the error through.\r\n */\r\nvar map = function (f, r) {\r\n    return r.ok === true ? ok(f(r.result)) : r;\r\n};\r\n/**\r\n * Apply `f` to the result of two `Ok`s, or pass an error through. If both\r\n * `Result`s are errors then the first one is returned.\r\n */\r\nvar map2 = function (f, ar, br) {\r\n    return ar.ok === false ? ar :\r\n        br.ok === false ? br :\r\n            ok(f(ar.result, br.result));\r\n};\r\n/**\r\n * Apply `f` to the error of an `Err`, or pass the success through.\r\n */\r\nvar mapError = function (f, r) {\r\n    return r.ok === true ? r : err(f(r.error));\r\n};\r\n/**\r\n * Chain together a sequence of computations that may fail, similar to a\r\n * `Promise`. If the first computation fails then the error will propagate\r\n * through. If it succeeds, then `f` will be applied to the value, returning a\r\n * new `Result`.\r\n */\r\nvar andThen = function (f, r) {\r\n    return r.ok === true ? f(r.result) : r;\r\n};\r\n\r\n\r\nvar result = Object.freeze({\r\n\tok: ok,\r\n\tisOk: isOk,\r\n\terr: err,\r\n\tisErr: isErr,\r\n\tasPromise: asPromise,\r\n\twithDefault: withDefault,\r\n\twithException: withException,\r\n\tsuccesses: successes,\r\n\tmap: map,\r\n\tmap2: map2,\r\n\tmapError: mapError,\r\n\tandThen: andThen\r\n});\r\n\r\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\n\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nfunction isEqual(a, b) {\r\n    if (a === b) {\r\n        return true;\r\n    }\r\n    if (a === null && b === null) {\r\n        return true;\r\n    }\r\n    if (typeof (a) !== typeof (b)) {\r\n        return false;\r\n    }\r\n    if (typeof (a) === 'object') {\r\n        // Array\r\n        if (Array.isArray(a)) {\r\n            if (!Array.isArray(b)) {\r\n                return false;\r\n            }\r\n            if (a.length !== b.length) {\r\n                return false;\r\n            }\r\n            for (var i = 0; i < a.length; i++) {\r\n                if (!isEqual(a[i], b[i])) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n        // Hash table\r\n        var keys = Object.keys(a);\r\n        if (keys.length !== Object.keys(b).length) {\r\n            return false;\r\n        }\r\n        for (var i = 0; i < keys.length; i++) {\r\n            if (!b.hasOwnProperty(keys[i])) {\r\n                return false;\r\n            }\r\n            if (!isEqual(a[keys[i]], b[keys[i]])) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n}\r\n/**\r\n * Type guard for `DecoderError`. One use case of the type guard is in the\r\n * `catch` of a promise. Typescript types the error argument of `catch` as\r\n * `any`, so when dealing with a decoder as a promise you may need to\r\n * distinguish between a `DecoderError` and an error string.\r\n */\r\nvar isDecoderError = function (a) {\r\n    return a.kind === 'DecoderError' && typeof a.at === 'string' && typeof a.message === 'string';\r\n};\r\n/*\r\n * Helpers\r\n */\r\nvar isJsonArray = function (json) { return Array.isArray(json); };\r\nvar isJsonObject = function (json) {\r\n    return typeof json === 'object' && json !== null && !isJsonArray(json);\r\n};\r\nvar typeString = function (json) {\r\n    switch (typeof json) {\r\n        case 'string':\r\n            return 'a string';\r\n        case 'number':\r\n            return 'a number';\r\n        case 'boolean':\r\n            return 'a boolean';\r\n        case 'undefined':\r\n            return 'undefined';\r\n        case 'object':\r\n            if (json instanceof Array) {\r\n                return 'an array';\r\n            }\r\n            else if (json === null) {\r\n                return 'null';\r\n            }\r\n            else {\r\n                return 'an object';\r\n            }\r\n        default:\r\n            return JSON.stringify(json);\r\n    }\r\n};\r\nvar expectedGot = function (expected, got) {\r\n    return \"expected \" + expected + \", got \" + typeString(got);\r\n};\r\nvar printPath = function (paths) {\r\n    return paths.map(function (path) { return (typeof path === 'string' ? \".\" + path : \"[\" + path + \"]\"); }).join('');\r\n};\r\nvar prependAt = function (newAt, _a) {\r\n    var at = _a.at, rest = __rest(_a, [\"at\"]);\r\n    return (__assign({ at: newAt + (at || '') }, rest));\r\n};\r\n/**\r\n * Decoders transform json objects with unknown structure into known and\r\n * verified forms. You can create objects of type `Decoder<A>` with either the\r\n * primitive decoder functions, such as `boolean()` and `string()`, or by\r\n * applying higher-order decoders to the primitives, such as `array(boolean())`\r\n * or `dict(string())`.\r\n *\r\n * Each of the decoder functions are available both as a static method on\r\n * `Decoder` and as a function alias -- for example the string decoder is\r\n * defined at `Decoder.string()`, but is also aliased to `string()`. Using the\r\n * function aliases exported with the library is recommended.\r\n *\r\n * `Decoder` exposes a number of 'run' methods, which all decode json in the\r\n * same way, but communicate success and failure in different ways. The `map`\r\n * and `andThen` methods modify decoders without having to call a 'run' method.\r\n *\r\n * Alternatively, the main decoder `run()` method returns an object of type\r\n * `Result<A, DecoderError>`. This library provides a number of helper\r\n * functions for dealing with the `Result` type, so you can do all the same\r\n * things with a `Result` as with the decoder methods.\r\n */\r\nvar Decoder = /** @class */ (function () {\r\n    /**\r\n     * The Decoder class constructor is kept private to separate the internal\r\n     * `decode` function from the external `run` function. The distinction\r\n     * between the two functions is that `decode` returns a\r\n     * `Partial<DecoderError>` on failure, which contains an unfinished error\r\n     * report. When `run` is called on a decoder, the relevant series of `decode`\r\n     * calls is made, and then on failure the resulting `Partial<DecoderError>`\r\n     * is turned into a `DecoderError` by filling in the missing information.\r\n     *\r\n     * While hiding the constructor may seem restrictive, leveraging the\r\n     * provided decoder combinators and helper functions such as\r\n     * `andThen` and `map` should be enough to build specialized decoders as\r\n     * needed.\r\n     */\r\n    function Decoder(decode) {\r\n        var _this = this;\r\n        this.decode = decode;\r\n        /**\r\n         * Run the decoder and return a `Result` with either the decoded value or a\r\n         * `DecoderError` containing the json input, the location of the error, and\r\n         * the error message.\r\n         *\r\n         * Examples:\r\n         * ```\r\n         * number().run(12)\r\n         * // => {ok: true, result: 12}\r\n         *\r\n         * string().run(9001)\r\n         * // =>\r\n         * // {\r\n         * //   ok: false,\r\n         * //   error: {\r\n         * //     kind: 'DecoderError',\r\n         * //     input: 9001,\r\n         * //     at: 'input',\r\n         * //     message: 'expected a string, got 9001'\r\n         * //   }\r\n         * // }\r\n         * ```\r\n         */\r\n        this.run = function (json) {\r\n            return mapError(function (error) { return ({\r\n                kind: 'DecoderError',\r\n                input: json,\r\n                at: 'input' + (error.at || ''),\r\n                message: error.message || ''\r\n            }); }, _this.decode(json));\r\n        };\r\n        /**\r\n         * Run the decoder as a `Promise`.\r\n         */\r\n        this.runPromise = function (json) { return asPromise(_this.run(json)); };\r\n        /**\r\n         * Run the decoder and return the value on success, or throw an exception\r\n         * with a formatted error string.\r\n         */\r\n        this.runWithException = function (json) { return withException(_this.run(json)); };\r\n        /**\r\n         * Construct a new decoder that applies a transformation to the decoded\r\n         * result. If the decoder succeeds then `f` will be applied to the value. If\r\n         * it fails the error will propagated through.\r\n         *\r\n         * Example:\r\n         * ```\r\n         * number().map(x => x * 5).run(10)\r\n         * // => {ok: true, result: 50}\r\n         * ```\r\n         */\r\n        this.map = function (f) {\r\n            return new Decoder(function (json) { return map(f, _this.decode(json)); });\r\n        };\r\n        /**\r\n         * Chain together a sequence of decoders. The first decoder will run, and\r\n         * then the function will determine what decoder to run second. If the result\r\n         * of the first decoder succeeds then `f` will be applied to the decoded\r\n         * value. If it fails the error will propagate through.\r\n         *\r\n         * This is a very powerful method -- it can act as both the `map` and `where`\r\n         * methods, can improve error messages for edge cases, and can be used to\r\n         * make a decoder for custom types.\r\n         *\r\n         * Example of adding an error message:\r\n         * ```\r\n         * const versionDecoder = valueAt(['version'], number());\r\n         * const infoDecoder3 = object({a: boolean()});\r\n         *\r\n         * const decoder = versionDecoder.andThen(version => {\r\n         *   switch (version) {\r\n         *     case 3:\r\n         *       return infoDecoder3;\r\n         *     default:\r\n         *       return fail(`Unable to decode info, version ${version} is not supported.`);\r\n         *   }\r\n         * });\r\n         *\r\n         * decoder.run({version: 3, a: true})\r\n         * // => {ok: true, result: {a: true}}\r\n         *\r\n         * decoder.run({version: 5, x: 'abc'})\r\n         * // =>\r\n         * // {\r\n         * //   ok: false,\r\n         * //   error: {... message: 'Unable to decode info, version 5 is not supported.'}\r\n         * // }\r\n         * ```\r\n         *\r\n         * Example of decoding a custom type:\r\n         * ```\r\n         * // nominal type for arrays with a length of at least one\r\n         * type NonEmptyArray<T> = T[] & { __nonEmptyArrayBrand__: void };\r\n         *\r\n         * const nonEmptyArrayDecoder = <T>(values: Decoder<T>): Decoder<NonEmptyArray<T>> =>\r\n         *   array(values).andThen(arr =>\r\n         *     arr.length > 0\r\n         *       ? succeed(createNonEmptyArray(arr))\r\n         *       : fail(`expected a non-empty array, got an empty array`)\r\n         *   );\r\n         * ```\r\n         */\r\n        this.andThen = function (f) {\r\n            return new Decoder(function (json) {\r\n                return andThen(function (value) { return f(value).decode(json); }, _this.decode(json));\r\n            });\r\n        };\r\n        /**\r\n         * Add constraints to a decoder _without_ changing the resulting type. The\r\n         * `test` argument is a predicate function which returns true for valid\r\n         * inputs. When `test` fails on an input, the decoder fails with the given\r\n         * `errorMessage`.\r\n         *\r\n         * ```\r\n         * const chars = (length: number): Decoder<string> =>\r\n         *   string().where(\r\n         *     (s: string) => s.length === length,\r\n         *     `expected a string of length ${length}`\r\n         *   );\r\n         *\r\n         * chars(5).run('12345')\r\n         * // => {ok: true, result: '12345'}\r\n         *\r\n         * chars(2).run('HELLO')\r\n         * // => {ok: false, error: {... message: 'expected a string of length 2'}}\r\n         *\r\n         * chars(12).run(true)\r\n         * // => {ok: false, error: {... message: 'expected a string, got a boolean'}}\r\n         * ```\r\n         */\r\n        this.where = function (test, errorMessage) {\r\n            return _this.andThen(function (value) { return (test(value) ? Decoder.succeed(value) : Decoder.fail(errorMessage)); });\r\n        };\r\n    }\r\n    /**\r\n     * Decoder primitive that validates strings, and fails on all other input.\r\n     */\r\n    Decoder.string = function () {\r\n        return new Decoder(function (json) {\r\n            return typeof json === 'string'\r\n                ? ok(json)\r\n                : err({ message: expectedGot('a string', json) });\r\n        });\r\n    };\r\n    /**\r\n     * Decoder primitive that validates numbers, and fails on all other input.\r\n     */\r\n    Decoder.number = function () {\r\n        return new Decoder(function (json) {\r\n            return typeof json === 'number'\r\n                ? ok(json)\r\n                : err({ message: expectedGot('a number', json) });\r\n        });\r\n    };\r\n    /**\r\n     * Decoder primitive that validates booleans, and fails on all other input.\r\n     */\r\n    Decoder.boolean = function () {\r\n        return new Decoder(function (json) {\r\n            return typeof json === 'boolean'\r\n                ? ok(json)\r\n                : err({ message: expectedGot('a boolean', json) });\r\n        });\r\n    };\r\n    Decoder.constant = function (value) {\r\n        return new Decoder(function (json) {\r\n            return isEqual(json, value)\r\n                ? ok(value)\r\n                : err({ message: \"expected \" + JSON.stringify(value) + \", got \" + JSON.stringify(json) });\r\n        });\r\n    };\r\n    Decoder.object = function (decoders) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonObject(json) && decoders) {\r\n                var obj = {};\r\n                for (var key in decoders) {\r\n                    if (decoders.hasOwnProperty(key)) {\r\n                        var r = decoders[key].decode(json[key]);\r\n                        if (r.ok === true) {\r\n                            // tslint:disable-next-line:strict-type-predicates\r\n                            if (r.result !== undefined) {\r\n                                obj[key] = r.result;\r\n                            }\r\n                        }\r\n                        else if (json[key] === undefined) {\r\n                            return err({ message: \"the key '\" + key + \"' is required but was not present\" });\r\n                        }\r\n                        else {\r\n                            return err(prependAt(\".\" + key, r.error));\r\n                        }\r\n                    }\r\n                }\r\n                return ok(obj);\r\n            }\r\n            else if (isJsonObject(json)) {\r\n                return ok(json);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot('an object', json) });\r\n            }\r\n        });\r\n    };\r\n    Decoder.array = function (decoder) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonArray(json) && decoder) {\r\n                var decodeValue_1 = function (v, i) {\r\n                    return mapError(function (err$$1) { return prependAt(\"[\" + i + \"]\", err$$1); }, decoder.decode(v));\r\n                };\r\n                return json.reduce(function (acc, v, i) {\r\n                    return map2(function (arr, result) { return arr.concat([result]); }, acc, decodeValue_1(v, i));\r\n                }, ok([]));\r\n            }\r\n            else if (isJsonArray(json)) {\r\n                return ok(json);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot('an array', json) });\r\n            }\r\n        });\r\n    };\r\n    Decoder.tuple = function (decoders) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonArray(json)) {\r\n                if (json.length !== decoders.length) {\r\n                    return err({\r\n                        message: \"expected a tuple of length \" + decoders.length + \", got one of length \" + json.length\r\n                    });\r\n                }\r\n                var result = [];\r\n                for (var i = 0; i < decoders.length; i++) {\r\n                    var nth = decoders[i].decode(json[i]);\r\n                    if (nth.ok) {\r\n                        result[i] = nth.result;\r\n                    }\r\n                    else {\r\n                        return err(prependAt(\"[\" + i + \"]\", nth.error));\r\n                    }\r\n                }\r\n                return ok(result);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot(\"a tuple of length \" + decoders.length, json) });\r\n            }\r\n        });\r\n    };\r\n    Decoder.union = function (ad, bd) {\r\n        var decoders = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            decoders[_i - 2] = arguments[_i];\r\n        }\r\n        return Decoder.oneOf.apply(Decoder, [ad, bd].concat(decoders));\r\n    };\r\n    Decoder.intersection = function (ad, bd) {\r\n        var ds = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            ds[_i - 2] = arguments[_i];\r\n        }\r\n        return new Decoder(function (json) {\r\n            return [ad, bd].concat(ds).reduce(function (acc, decoder) { return map2(Object.assign, acc, decoder.decode(json)); }, ok({}));\r\n        });\r\n    };\r\n    /**\r\n     * Escape hatch to bypass validation. Always succeeds and types the result as\r\n     * `any`. Useful for defining decoders incrementally, particularly for\r\n     * complex objects.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * interface User {\r\n     *   name: string;\r\n     *   complexUserData: ComplexType;\r\n     * }\r\n     *\r\n     * const userDecoder: Decoder<User> = object({\r\n     *   name: string(),\r\n     *   complexUserData: anyJson()\r\n     * });\r\n     * ```\r\n     */\r\n    Decoder.anyJson = function () { return new Decoder(function (json) { return ok(json); }); };\r\n    /**\r\n     * Decoder identity function which always succeeds and types the result as\r\n     * `unknown`.\r\n     */\r\n    Decoder.unknownJson = function () {\r\n        return new Decoder(function (json) { return ok(json); });\r\n    };\r\n    /**\r\n     * Decoder for json objects where the keys are unknown strings, but the values\r\n     * should all be of the same type.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * dict(number()).run({chocolate: 12, vanilla: 10, mint: 37});\r\n     * // => {ok: true, result: {chocolate: 12, vanilla: 10, mint: 37}}\r\n     * ```\r\n     */\r\n    Decoder.dict = function (decoder) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonObject(json)) {\r\n                var obj = {};\r\n                for (var key in json) {\r\n                    if (json.hasOwnProperty(key)) {\r\n                        var r = decoder.decode(json[key]);\r\n                        if (r.ok === true) {\r\n                            obj[key] = r.result;\r\n                        }\r\n                        else {\r\n                            return err(prependAt(\".\" + key, r.error));\r\n                        }\r\n                    }\r\n                }\r\n                return ok(obj);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot('an object', json) });\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Decoder for values that may be `undefined`. This is primarily helpful for\r\n     * decoding interfaces with optional fields.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * interface User {\r\n     *   id: number;\r\n     *   isOwner?: boolean;\r\n     * }\r\n     *\r\n     * const decoder: Decoder<User> = object({\r\n     *   id: number(),\r\n     *   isOwner: optional(boolean())\r\n     * });\r\n     * ```\r\n     */\r\n    Decoder.optional = function (decoder) {\r\n        return new Decoder(function (json) { return (json === undefined || json === null ? ok(undefined) : decoder.decode(json)); });\r\n    };\r\n    /**\r\n     * Decoder that attempts to run each decoder in `decoders` and either succeeds\r\n     * with the first successful decoder, or fails after all decoders have failed.\r\n     *\r\n     * Note that `oneOf` expects the decoders to all have the same return type,\r\n     * while `union` creates a decoder for the union type of all the input\r\n     * decoders.\r\n     *\r\n     * Examples:\r\n     * ```\r\n     * oneOf(string(), number().map(String))\r\n     * oneOf(constant('start'), constant('stop'), succeed('unknown'))\r\n     * ```\r\n     */\r\n    Decoder.oneOf = function () {\r\n        var decoders = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            decoders[_i] = arguments[_i];\r\n        }\r\n        return new Decoder(function (json) {\r\n            var errors = [];\r\n            for (var i = 0; i < decoders.length; i++) {\r\n                var r = decoders[i].decode(json);\r\n                if (r.ok === true) {\r\n                    return r;\r\n                }\r\n                else {\r\n                    errors[i] = r.error;\r\n                }\r\n            }\r\n            var errorsList = errors\r\n                .map(function (error) { return \"at error\" + (error.at || '') + \": \" + error.message; })\r\n                .join('\", \"');\r\n            return err({\r\n                message: \"expected a value matching one of the decoders, got the errors [\\\"\" + errorsList + \"\\\"]\"\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Decoder that always succeeds with either the decoded value, or a fallback\r\n     * default value.\r\n     */\r\n    Decoder.withDefault = function (defaultValue, decoder) {\r\n        return new Decoder(function (json) {\r\n            return ok(withDefault(defaultValue, decoder.decode(json)));\r\n        });\r\n    };\r\n    /**\r\n     * Decoder that pulls a specific field out of a json structure, instead of\r\n     * decoding and returning the full structure. The `paths` array describes the\r\n     * object keys and array indices to traverse, so that values can be pulled out\r\n     * of a nested structure.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * const decoder = valueAt(['a', 'b', 0], string());\r\n     *\r\n     * decoder.run({a: {b: ['surprise!']}})\r\n     * // => {ok: true, result: 'surprise!'}\r\n     *\r\n     * decoder.run({a: {x: 'cats'}})\r\n     * // => {ok: false, error: {... at: 'input.a.b[0]' message: 'path does not exist'}}\r\n     * ```\r\n     *\r\n     * Note that the `decoder` is ran on the value found at the last key in the\r\n     * path, even if the last key is not found. This allows the `optional`\r\n     * decoder to succeed when appropriate.\r\n     * ```\r\n     * const optionalDecoder = valueAt(['a', 'b', 'c'], optional(string()));\r\n     *\r\n     * optionalDecoder.run({a: {b: {c: 'surprise!'}}})\r\n     * // => {ok: true, result: 'surprise!'}\r\n     *\r\n     * optionalDecoder.run({a: {b: 'cats'}})\r\n     * // => {ok: false, error: {... at: 'input.a.b.c' message: 'expected an object, got \"cats\"'}\r\n     *\r\n     * optionalDecoder.run({a: {b: {z: 1}}})\r\n     * // => {ok: true, result: undefined}\r\n     * ```\r\n     */\r\n    Decoder.valueAt = function (paths, decoder) {\r\n        return new Decoder(function (json) {\r\n            var jsonAtPath = json;\r\n            for (var i = 0; i < paths.length; i++) {\r\n                if (jsonAtPath === undefined) {\r\n                    return err({\r\n                        at: printPath(paths.slice(0, i + 1)),\r\n                        message: 'path does not exist'\r\n                    });\r\n                }\r\n                else if (typeof paths[i] === 'string' && !isJsonObject(jsonAtPath)) {\r\n                    return err({\r\n                        at: printPath(paths.slice(0, i + 1)),\r\n                        message: expectedGot('an object', jsonAtPath)\r\n                    });\r\n                }\r\n                else if (typeof paths[i] === 'number' && !isJsonArray(jsonAtPath)) {\r\n                    return err({\r\n                        at: printPath(paths.slice(0, i + 1)),\r\n                        message: expectedGot('an array', jsonAtPath)\r\n                    });\r\n                }\r\n                else {\r\n                    jsonAtPath = jsonAtPath[paths[i]];\r\n                }\r\n            }\r\n            return mapError(function (error) {\r\n                return jsonAtPath === undefined\r\n                    ? { at: printPath(paths), message: 'path does not exist' }\r\n                    : prependAt(printPath(paths), error);\r\n            }, decoder.decode(jsonAtPath));\r\n        });\r\n    };\r\n    /**\r\n     * Decoder that ignores the input json and always succeeds with `fixedValue`.\r\n     */\r\n    Decoder.succeed = function (fixedValue) {\r\n        return new Decoder(function (json) { return ok(fixedValue); });\r\n    };\r\n    /**\r\n     * Decoder that ignores the input json and always fails with `errorMessage`.\r\n     */\r\n    Decoder.fail = function (errorMessage) {\r\n        return new Decoder(function (json) { return err({ message: errorMessage }); });\r\n    };\r\n    /**\r\n     * Decoder that allows for validating recursive data structures. Unlike with\r\n     * functions, decoders assigned to variables can't reference themselves\r\n     * before they are fully defined. We can avoid prematurely referencing the\r\n     * decoder by wrapping it in a function that won't be called until use, at\r\n     * which point the decoder has been defined.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * interface Comment {\r\n     *   msg: string;\r\n     *   replies: Comment[];\r\n     * }\r\n     *\r\n     * const decoder: Decoder<Comment> = object({\r\n     *   msg: string(),\r\n     *   replies: lazy(() => array(decoder))\r\n     * });\r\n     * ```\r\n     */\r\n    Decoder.lazy = function (mkDecoder) {\r\n        return new Decoder(function (json) { return mkDecoder().decode(json); });\r\n    };\r\n    return Decoder;\r\n}());\r\n\r\n/* tslint:disable:variable-name */\r\n/** See `Decoder.string` */\r\nvar string = Decoder.string;\r\n/** See `Decoder.number` */\r\nvar number = Decoder.number;\r\n/** See `Decoder.boolean` */\r\nvar boolean = Decoder.boolean;\r\n/** See `Decoder.anyJson` */\r\nvar anyJson = Decoder.anyJson;\r\n/** See `Decoder.unknownJson` */\r\nvar unknownJson = Decoder.unknownJson;\r\n/** See `Decoder.constant` */\r\nvar constant = Decoder.constant;\r\n/** See `Decoder.object` */\r\nvar object = Decoder.object;\r\n/** See `Decoder.array` */\r\nvar array = Decoder.array;\r\n/** See `Decoder.tuple` */\r\nvar tuple = Decoder.tuple;\r\n/** See `Decoder.dict` */\r\nvar dict = Decoder.dict;\r\n/** See `Decoder.optional` */\r\nvar optional = Decoder.optional;\r\n/** See `Decoder.oneOf` */\r\nvar oneOf = Decoder.oneOf;\r\n/** See `Decoder.union` */\r\nvar union = Decoder.union;\r\n/** See `Decoder.intersection` */\r\nvar intersection = Decoder.intersection;\r\n/** See `Decoder.withDefault` */\r\nvar withDefault$1 = Decoder.withDefault;\r\n/** See `Decoder.valueAt` */\r\nvar valueAt = Decoder.valueAt;\r\n/** See `Decoder.succeed` */\r\nvar succeed = Decoder.succeed;\r\n/** See `Decoder.fail` */\r\nvar fail = Decoder.fail;\r\n/** See `Decoder.lazy` */\r\nvar lazy = Decoder.lazy;\r\n\r\nexport { result as Result, Decoder, isDecoderError, string, number, boolean, anyJson, unknownJson, constant, object, array, tuple, dict, optional, oneOf, union, intersection, withDefault$1 as withDefault, valueAt, succeed, fail, lazy };\r\n//# sourceMappingURL=index.es5.js.map\r\n","import { Glue42Workspaces } from \"@glue42/workspaces-api\";\r\nimport { Decoder, string, number, object, constant, oneOf, optional, array, boolean, anyJson, lazy } from \"decoder-validate\";\r\nimport { Glue42Web } from \"../../web\";\r\nimport { AppHelloSuccess, ApplicationData, ApplicationStartConfig, AppManagerOperationTypes, BaseApplicationData, BasicInstanceData, InstanceData } from \"../appManager/protocol\";\r\nimport { AllLayoutsFullConfig, AllLayoutsSummariesResult, GetAllLayoutsConfig, LayoutsOperationTypes, OptionalSimpleLayoutResult, SimpleLayoutConfig, SimpleLayoutResult } from \"../layouts/protocol\";\r\nimport { HelloSuccess, OpenWindowConfig, CoreWindowData, WindowHello, WindowOperationTypes, SimpleWindowCommand, WindowTitleConfig, WindowBoundsResult, WindowMoveResizeConfig, WindowUrlResult } from \"../windows/protocol\";\r\nimport { LibDomains } from \"./types\";\r\n\r\nexport const nonEmptyStringDecoder: Decoder<string> = string().where((s) => s.length > 0, \"Expected a non-empty string\");\r\nexport const nonNegativeNumberDecoder: Decoder<number> = number().where((num) => num >= 0, \"Expected a non-negative number\");\r\n\r\nexport const libDomainDecoder: Decoder<LibDomains> = oneOf<\"windows\" | \"appManager\" | \"layouts\">(\r\n    constant(\"windows\"),\r\n    constant(\"appManager\"),\r\n    constant(\"layouts\")\r\n);\r\n\r\nexport const windowOperationTypesDecoder: Decoder<WindowOperationTypes> = oneOf<\"openWindow\" | \"getBounds\" | \"windowHello\" | \"windowAdded\" | \"windowRemoved\" | \"getUrl\" | \"moveResize\" | \"focus\" | \"close\" | \"getTitle\" | \"setTitle\">(\r\n    constant(\"openWindow\"),\r\n    constant(\"windowHello\"),\r\n    constant(\"windowAdded\"),\r\n    constant(\"windowRemoved\"),\r\n    constant(\"getBounds\"),\r\n    constant(\"getUrl\"),\r\n    constant(\"moveResize\"),\r\n    constant(\"focus\"),\r\n    constant(\"close\"),\r\n    constant(\"getTitle\"),\r\n    constant(\"setTitle\")\r\n);\r\n\r\nexport const appManagerOperationTypesDecoder: Decoder<AppManagerOperationTypes> = oneOf<\"appHello\" | \"applicationAdded\" |\"applicationRemoved\" | \"applicationChanged\" | \"instanceStarted\" | \"instanceStopped\" | \"applicationStart\" | \"instanceStop\">(\r\n    constant(\"appHello\"),\r\n    constant(\"applicationAdded\"),\r\n    constant(\"applicationRemoved\"),\r\n    constant(\"applicationChanged\"),\r\n    constant(\"instanceStarted\"),\r\n    constant(\"instanceStopped\"), \r\n    constant(\"applicationStart\"),\r\n    constant(\"instanceStop\")\r\n);\r\n\r\nexport const layoutsOperationTypesDecoder: Decoder<LayoutsOperationTypes> = oneOf<\"layoutAdded\" | \"layoutChanged\" | \"layoutRemoved\" | \"get\" | \"getAll\" | \"export\" | \"import\" | \"remove\">(\r\n    constant(\"layoutAdded\"),\r\n    constant(\"layoutChanged\"),\r\n    constant(\"layoutRemoved\"),\r\n    constant(\"get\"),\r\n    constant(\"getAll\"),\r\n    constant(\"export\"),\r\n    constant(\"import\"),\r\n    constant(\"remove\")\r\n);\r\n\r\nexport const windowRelativeDirectionDecoder: Decoder<Glue42Web.Windows.RelativeDirection> = oneOf<\"top\" | \"left\" | \"right\" | \"bottom\">(\r\n    constant(\"top\"),\r\n    constant(\"left\"),\r\n    constant(\"right\"),\r\n    constant(\"bottom\")\r\n);\r\n\r\nexport const windowOpenSettingsDecoder: Decoder<Glue42Web.Windows.Settings | undefined> = optional(object({\r\n    top: optional(number()),\r\n    left: optional(number()),\r\n    width: optional(nonNegativeNumberDecoder),\r\n    height: optional(nonNegativeNumberDecoder),\r\n    context: optional(anyJson()),\r\n    relativeTo: optional(nonEmptyStringDecoder),\r\n    relativeDirection: optional(windowRelativeDirectionDecoder)\r\n}));\r\n\r\n\r\nexport const openWindowConfigDecoder: Decoder<OpenWindowConfig> = object({\r\n    name: nonEmptyStringDecoder,\r\n    url: nonEmptyStringDecoder,\r\n    options: windowOpenSettingsDecoder\r\n});\r\n\r\nexport const windowHelloDecoder: Decoder<WindowHello> = object({\r\n    windowId: optional(nonEmptyStringDecoder)\r\n});\r\n\r\nexport const coreWindowDataDecoder: Decoder<CoreWindowData> = object({\r\n    windowId: nonEmptyStringDecoder,\r\n    name: nonEmptyStringDecoder\r\n});\r\n\r\nexport const simpleWindowDecoder: Decoder<SimpleWindowCommand> = object({\r\n    windowId: nonEmptyStringDecoder\r\n});\r\n\r\nexport const helloSuccessDecoder: Decoder<HelloSuccess> = object({\r\n    windows: array(coreWindowDataDecoder),\r\n    isWorkspaceFrame: boolean()\r\n});\r\n\r\n\r\nexport const windowTitleConfigDecoder: Decoder<WindowTitleConfig> = object({\r\n    windowId: nonEmptyStringDecoder,\r\n    title: nonEmptyStringDecoder\r\n});\r\n\r\nexport const windowMoveResizeConfigDecoder: Decoder<WindowMoveResizeConfig> = object({\r\n    windowId: nonEmptyStringDecoder,\r\n    top: optional(number()),\r\n    left: optional(number()),\r\n    width: optional(nonNegativeNumberDecoder),\r\n    height: optional(nonNegativeNumberDecoder),\r\n    relative: optional(boolean())\r\n});\r\n\r\nexport const windowBoundsResultDecoder: Decoder<WindowBoundsResult> = object({\r\n    windowId: nonEmptyStringDecoder,\r\n    bounds: object({\r\n        top: number(),\r\n        left: number(),\r\n        width: nonNegativeNumberDecoder,\r\n        height: nonNegativeNumberDecoder\r\n    })\r\n});\r\n\r\nexport const windowUrlResultDecoder: Decoder<WindowUrlResult> = object({\r\n    windowId: nonEmptyStringDecoder,\r\n    url: nonEmptyStringDecoder\r\n});\r\n\r\nexport const anyDecoder: Decoder<unknown> = anyJson();\r\n\r\nexport const boundsDecoder: Decoder<Partial<Glue42Web.Windows.Bounds>> = object({\r\n    top: optional(number()),\r\n    left: optional(number()),\r\n    width: optional(nonNegativeNumberDecoder),\r\n    height: optional(nonNegativeNumberDecoder)\r\n});\r\n\r\nexport const instanceDataDecoder: Decoder<InstanceData> = object({\r\n    id: nonEmptyStringDecoder,\r\n    applicationName: nonEmptyStringDecoder\r\n});\r\n\r\nexport const applicationDataDecoder: Decoder<ApplicationData> = object({\r\n    name: nonEmptyStringDecoder,\r\n    instances: array(instanceDataDecoder),\r\n    userProperties: optional(anyJson()),\r\n    title: optional(nonEmptyStringDecoder),\r\n    version: optional(nonEmptyStringDecoder),\r\n    icon: optional(nonEmptyStringDecoder),\r\n    caption: optional(nonEmptyStringDecoder)\r\n});\r\n\r\nexport const baseApplicationDataDecoder: Decoder<BaseApplicationData> = object({\r\n    name: nonEmptyStringDecoder,\r\n    userProperties: anyJson(),\r\n    title: optional(nonEmptyStringDecoder),\r\n    version: optional(nonEmptyStringDecoder),\r\n    icon: optional(nonEmptyStringDecoder),\r\n    caption: optional(nonEmptyStringDecoder)\r\n});\r\n\r\nexport const appHelloSuccessDecoder: Decoder<AppHelloSuccess> = object({\r\n    apps: array(applicationDataDecoder)\r\n});\r\n\r\nexport const basicInstanceDataDecoder: Decoder<BasicInstanceData> = object({\r\n    id: nonEmptyStringDecoder\r\n});\r\n\r\nexport const applicationStartConfigDecoder: Decoder<ApplicationStartConfig> = object({\r\n    name: nonEmptyStringDecoder,\r\n    waitForAGMReady: boolean(),\r\n    context: optional(anyJson()),\r\n    top: optional(number()),\r\n    left: optional(number()),\r\n    width: optional(nonNegativeNumberDecoder),\r\n    height: optional(nonNegativeNumberDecoder),\r\n    relativeTo: optional(nonEmptyStringDecoder),\r\n    relativeDirection: optional(oneOf<\"top\" | \"left\" | \"right\" | \"bottom\">(\r\n        constant(\"top\"),\r\n        constant(\"left\"),\r\n        constant(\"right\"),\r\n        constant(\"bottom\")\r\n    ))\r\n});\r\n\r\nexport const layoutTypeDecoder: Decoder<Glue42Web.Layouts.LayoutType> = oneOf<\"Global\" | \"Activity\" | \"ApplicationDefault\" | \"Swimlane\" | \"Workspace\">(\r\n    constant(\"Global\"),\r\n    constant(\"Activity\"),\r\n    constant(\"ApplicationDefault\"),\r\n    constant(\"Swimlane\"),\r\n    constant(\"Workspace\")\r\n);\r\n\r\nexport const componentTypeDecoder: Decoder<Glue42Web.Layouts.ComponentType> = oneOf<\"application\" | \"activity\">(\r\n    constant(\"application\"),\r\n    constant(\"activity\")\r\n);\r\n\r\nexport const windowLayoutComponentDecoder: Decoder<Glue42Web.Layouts.WindowComponent> = object({\r\n    type: constant(\"window\"),\r\n    componentType: componentTypeDecoder,\r\n    state: object({\r\n        name: anyJson(),\r\n        context: anyJson(),\r\n        url: nonEmptyStringDecoder,\r\n        bounds: anyJson(),\r\n        id: nonEmptyStringDecoder,\r\n        parentId: optional(nonEmptyStringDecoder),\r\n        main: boolean()\r\n    })\r\n});\r\n\r\nexport const windowLayoutItemDecoder: Decoder<Glue42Workspaces.WindowLayoutItem> = object({\r\n    type: constant(\"window\"),\r\n    config: object({\r\n        appName: nonEmptyStringDecoder,\r\n        url: optional(nonEmptyStringDecoder)\r\n    })\r\n});\r\n\r\nexport const groupLayoutItemDecoder: Decoder<Glue42Workspaces.GroupLayoutItem> = object({\r\n    type: constant(\"group\"),\r\n    config: anyJson(),\r\n    children: array(oneOf<Glue42Workspaces.WindowLayoutItem>(\r\n        windowLayoutItemDecoder\r\n    ))\r\n});\r\n\r\nexport const columnLayoutItemDecoder: Decoder<Glue42Workspaces.ColumnLayoutItem> = object({\r\n    type: constant(\"column\"),\r\n    config: anyJson(),\r\n    children: array(oneOf<Glue42Workspaces.RowLayoutItem | Glue42Workspaces.ColumnLayoutItem | Glue42Workspaces.GroupLayoutItem | Glue42Workspaces.WindowLayoutItem>(\r\n        groupLayoutItemDecoder,\r\n        windowLayoutItemDecoder,\r\n        lazy(() => columnLayoutItemDecoder),\r\n        // eslint-disable-next-line @typescript-eslint/no-use-before-define\r\n        lazy(() => rowLayoutItemDecoder)\r\n    ))\r\n});\r\n\r\nexport const rowLayoutItemDecoder: Decoder<Glue42Workspaces.RowLayoutItem> = object({\r\n    type: constant(\"row\"),\r\n    config: anyJson(),\r\n    children: array(oneOf<Glue42Workspaces.RowLayoutItem | Glue42Workspaces.ColumnLayoutItem | Glue42Workspaces.GroupLayoutItem | Glue42Workspaces.WindowLayoutItem>(\r\n        columnLayoutItemDecoder,\r\n        groupLayoutItemDecoder,\r\n        windowLayoutItemDecoder,\r\n        lazy(() => rowLayoutItemDecoder)\r\n    ))\r\n});\r\n\r\nexport const workspaceLayoutComponentDecoder: Decoder<Glue42Workspaces.WorkspaceComponent> = object({\r\n    type: constant(\"Workspace\"),\r\n    state: object({\r\n        config: anyJson(),\r\n        context: anyJson(),\r\n        children: array(oneOf<Glue42Workspaces.RowLayoutItem | Glue42Workspaces.ColumnLayoutItem | Glue42Workspaces.GroupLayoutItem | Glue42Workspaces.WindowLayoutItem>(\r\n            rowLayoutItemDecoder,\r\n            columnLayoutItemDecoder,\r\n            groupLayoutItemDecoder,\r\n            windowLayoutItemDecoder\r\n        ))\r\n    })\r\n});\r\n\r\nexport const glueLayoutDecoder: Decoder<Glue42Web.Layouts.Layout> = object({\r\n    name: nonEmptyStringDecoder,\r\n    type: layoutTypeDecoder,\r\n    components: array(oneOf<Glue42Web.Layouts.WindowComponent | Glue42Workspaces.WorkspaceComponent>(\r\n        windowLayoutComponentDecoder,\r\n        workspaceLayoutComponentDecoder\r\n    )),\r\n    context: optional(anyJson()),\r\n    metadata: optional(anyJson())\r\n});\r\n\r\nexport const newLayoutOptionsDecoder: Decoder<Glue42Web.Layouts.NewLayoutOptions> = object({\r\n    name: nonEmptyStringDecoder,\r\n    context: optional(anyJson()),\r\n    metadata: optional(anyJson())\r\n});\r\n\r\nexport const restoreOptionsDecoder: Decoder<Glue42Web.Layouts.RestoreOptions> = object({\r\n    name: nonEmptyStringDecoder,\r\n    context: optional(anyJson()),\r\n    closeRunningInstance: optional(boolean())\r\n});\r\n\r\nexport const layoutSummaryDecoder: Decoder<Glue42Web.Layouts.LayoutSummary> = object({\r\n    name: nonEmptyStringDecoder,\r\n    type: layoutTypeDecoder,\r\n    context: optional(anyJson()),\r\n    metadata: optional(anyJson())\r\n});\r\n\r\nexport const simpleLayoutConfigDecoder: Decoder<SimpleLayoutConfig> = object({\r\n    name: nonEmptyStringDecoder,\r\n    type: layoutTypeDecoder\r\n});\r\n\r\nexport const getAllLayoutsConfigDecoder: Decoder<GetAllLayoutsConfig> = object({\r\n    type: layoutTypeDecoder\r\n});\r\n\r\nexport const allLayoutsFullConfigDecoder: Decoder<AllLayoutsFullConfig> = object({\r\n    layouts: array(glueLayoutDecoder)\r\n});\r\n\r\nexport const allLayoutsSummariesResultDecoder: Decoder<AllLayoutsSummariesResult> = object({\r\n    summaries: array(layoutSummaryDecoder)\r\n});\r\n\r\nexport const simpleLayoutResult: Decoder<SimpleLayoutResult> = object({\r\n    layout: glueLayoutDecoder\r\n});\r\n\r\nexport const optionalSimpleLayoutResult: Decoder<OptionalSimpleLayoutResult> = object({\r\n    layout: optional(glueLayoutDecoder)\r\n});\r\n","export const GlueWebPlatformControlName = \"T42.Web.Platform.Control\";\r\n\r\nexport const GlueWebPlatformStreamName = \"T42.Web.Platform.Stream\";\r\n\r\nexport const GlueClientControlName = \"T42.Web.Client.Control\"; ","import { Glue42Core } from \"@glue42/core\";\r\nimport { libDomainDecoder } from \"../shared/decoders\";\r\nimport { PromisePlus } from \"../shared/promise-plus\";\r\nimport { BridgeOperation, LibController, LibDomains } from \"../shared/types\";\r\nimport { GlueClientControlName, GlueWebPlatformControlName, GlueWebPlatformStreamName } from \"./constants\";\r\n// todo - subscribe for connection state?\r\nexport class GlueBridge {\r\n    private readonly platformMethodTimeoutMs = 10000;\r\n    private controllers!: { [key in LibDomains]: LibController };\r\n    private sub!: Glue42Core.AGM.Subscription;\r\n\r\n    constructor(private readonly coreGlue: Glue42Core.GlueCore) { }\r\n\r\n    public get contextLib(): Glue42Core.Contexts.API {\r\n        return this.coreGlue.contexts;\r\n    }\r\n\r\n    public get interopInstance(): string | undefined {\r\n        return this.coreGlue.interop.instance.instance;\r\n    }\r\n\r\n    public async start(controllers: { [key in LibDomains]: LibController }): Promise<void> {\r\n        this.controllers = controllers;\r\n\r\n        await Promise.all([\r\n            this.checkWaitMethod(GlueWebPlatformControlName),\r\n            this.checkWaitMethod(GlueWebPlatformStreamName)\r\n        ]);\r\n\r\n        const [sub] = await Promise.all([\r\n            this.coreGlue.interop.subscribe(GlueWebPlatformStreamName),\r\n            this.coreGlue.interop.registerAsync(GlueClientControlName, (args, _, success, error) => this.passMessageController(args, success, error))\r\n        ]);\r\n\r\n        this.sub = sub;\r\n\r\n        this.sub.onData((pkg) => this.passMessageController(pkg.data));\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    public async send<OutBound, InBound>(domain: LibDomains, operation: BridgeOperation, operationData: OutBound): Promise<InBound> {\r\n\r\n        if (operation.dataDecoder) {\r\n            try {\r\n                operation.dataDecoder.runWithException(operationData);\r\n            } catch (error) {\r\n                throw new Error(`Unexpected internal outgoing validation error: ${error.message}, for operation: ${operation.name} and input: ${JSON.stringify(error.input)}`);\r\n            }\r\n        }\r\n\r\n        let operationResult;\r\n\r\n        try {\r\n            operationResult = await this.transmitMessage(domain, operation, operationData);\r\n\r\n            if (operation.resultDecoder) {\r\n                operationResult = operation.resultDecoder.runWithException(operationResult);\r\n            }\r\n\r\n        } catch (error) {\r\n            if (error.kind) {\r\n                throw new Error(`Unexpected internal incoming validation error: ${error.message}, for operation: ${operation.name} and input: ${JSON.stringify(error.input)}`);\r\n            }\r\n            throw new Error(error.message);\r\n        }\r\n\r\n        return operationResult;\r\n    }\r\n\r\n    private checkWaitMethod(name: string): Promise<void> {\r\n        return PromisePlus<void>((resolve) => {\r\n\r\n            const hasMethod = this.coreGlue.interop.methods().some((method) => method.name === name);\r\n\r\n            if (hasMethod) {\r\n                return resolve();\r\n            }\r\n\r\n            const unSub = this.coreGlue.interop.methodAdded((method) => {\r\n                if (method.name === name) {\r\n                    unSub();\r\n                    resolve();\r\n                }\r\n            });\r\n\r\n        }, this.platformMethodTimeoutMs, `Cannot initiate Glue Web, because a system method's discovery timed out: ${name}`);\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    private passMessageController(args: any, success?: (args?: any) => void, error?: (error?: string | object | undefined) => void): void {\r\n        const decodeResult = libDomainDecoder.run(args.domain);\r\n\r\n        if (!decodeResult.ok) {\r\n            if (error) {\r\n                error(`Cannot execute this client control, because of domain validation error: ${JSON.stringify(decodeResult.error)}`);\r\n            }\r\n            return;\r\n        }\r\n\r\n        const domain = decodeResult.result;\r\n\r\n        this.controllers[domain]\r\n            .handleBridgeMessage(args)\r\n            .then((resolutionData: unknown) => {\r\n                if (success) {\r\n                    success(resolutionData);\r\n                }\r\n            })\r\n            .catch((err: string | object | undefined) => {\r\n                if (error) {\r\n                    error(err);\r\n                }\r\n                console.warn(err);\r\n            });\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    private async transmitMessage(domain: string, operation: BridgeOperation, data: any): Promise<any> {\r\n\r\n        const messageData = { domain, data, operation: operation.name };\r\n\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        let invocationResult: Glue42Core.Interop.InvocationResult<any>;\r\n        const baseErrorMessage = `Internal Platform Communication Error. Attempted operation: ${JSON.stringify(operation.name)} with data: ${JSON.stringify(data)}. `;\r\n\r\n        try {\r\n            invocationResult = await this.coreGlue.interop.invoke(GlueWebPlatformControlName, messageData);\r\n\r\n            if (!invocationResult) {\r\n                throw new Error(\"Received unsupported result from the platform - empty result\");\r\n            }\r\n\r\n            if (!Array.isArray(invocationResult.all_return_values) || invocationResult.all_return_values.length === 0) {\r\n                throw new Error(\"Received unsupported result from the platform - empty values collection\");\r\n            }\r\n\r\n        } catch (error) {\r\n            if (error && error.all_errors && error.all_errors.length) {\r\n                // IMPORTANT: Do NOT change the `Inner message:` string, because it is used by other programs to extract the inner message of a communication error\r\n                const invocationErrorMessage = error.all_errors[0].message;\r\n                throw new Error(`${baseErrorMessage} -> Inner message: ${invocationErrorMessage}`);\r\n\r\n            }\r\n            // IMPORTANT: Do NOT change the `Inner message:` string, because it is used by other programs to extract the inner message of a communication error\r\n            throw new Error(`${baseErrorMessage} -> Inner message: ${error.message}`);\r\n        }\r\n\r\n        return invocationResult.all_return_values[0].returned;\r\n    }\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { METHODS, webPlatformMethodName, webPlatformWspStreamName } from \"./constants\";\r\nimport { promisePlus } from \"../shared/promisePlus\";\r\nimport { WorkspaceEventType } from \"../types/subscription\";\r\nimport { InteropAPI, Subscription, InvocationResult } from \"../types/glue\";\r\n\r\nexport class InteropTransport {\r\n\r\n    private readonly defaultTransportTimeout: number = 30000;\r\n\r\n    constructor(private readonly agm: InteropAPI) { }\r\n\r\n    public async initiate(actualWindowId: string): Promise<void> {\r\n\r\n        if (window.glue42gd) {\r\n            await Promise.all(\r\n                Object.values(METHODS).map((method) => {\r\n                    return this.verifyMethodLive(method.name);\r\n                })\r\n            );\r\n\r\n            return;\r\n        }\r\n\r\n        await Promise.all([\r\n            this.verifyMethodLive(webPlatformMethodName),\r\n            this.verifyMethodLive(webPlatformWspStreamName)\r\n        ]);\r\n\r\n        await this.transmitControl(\"frameHello\", { windowId: actualWindowId });\r\n    }\r\n\r\n    // todo: subscribeCore\r\n\r\n    public async subscribe(streamName: string, streamBranch: string, streamType: WorkspaceEventType): Promise<Subscription> {\r\n\r\n        const subscriptionArgs = {\r\n            branch: streamBranch,\r\n            type: streamType\r\n        };\r\n\r\n        let subscription: Subscription;\r\n\r\n        try {\r\n            subscription = await this.agm.subscribe(streamName, { arguments: subscriptionArgs });\r\n        } catch (error) {\r\n            const message = `Internal subscription error! Error details: stream - ${streamName}, branch: ${streamBranch}. Internal message: ${error.message}`;\r\n            throw new Error(message);\r\n        }\r\n\r\n        return subscription;\r\n    }\r\n\r\n    public async transmitControl(operation: string, operationArguments: any): Promise<any> {\r\n\r\n        const invocationArguments = window.glue42gd ? { operation, operationArguments } : { operation, domain: \"workspaces\", data: operationArguments };\r\n        const methodName = window.glue42gd ? METHODS.control.name : webPlatformMethodName;\r\n\r\n        let invocationResult: InvocationResult<any>;\r\n        const baseErrorMessage = `Internal Workspaces Communication Error. Attempted operation: ${JSON.stringify(invocationArguments)}. `;\r\n\r\n        // using the 0 index of the errors and values collections, because we expect only one server and\r\n        // this is to safeguard in case in future we decide to deprecate the default returned/message properties in favor of using only collections\r\n        try {\r\n            invocationResult = await this.agm.invoke(methodName, invocationArguments, \"best\", { methodResponseTimeoutMs: this.defaultTransportTimeout });\r\n\r\n            if (!invocationResult) {\r\n                throw new Error(\"Received unsupported result from GD - empty result\");\r\n            }\r\n\r\n            if (!Array.isArray(invocationResult.all_return_values) || invocationResult.all_return_values.length === 0) {\r\n                throw new Error(\"Received unsupported result from GD - empty values collection\");\r\n            }\r\n\r\n        } catch (error) {\r\n            if (error && error.all_errors && error.all_errors.length) {\r\n                // IMPORTANT: Do NOT change the `Inner message:` string, because it is used by other programs to extract the inner message of a communication error\r\n                const invocationErrorMessage = error.all_errors[0].message;\r\n                throw new Error(`${baseErrorMessage} -> Inner message: ${invocationErrorMessage}`);\r\n\r\n            }\r\n            // IMPORTANT: Do NOT change the `Inner message:` string, because it is used by other programs to extract the inner message of a communication error\r\n            throw new Error(`${baseErrorMessage} -> Inner message: ${error.message}`);\r\n        }\r\n\r\n        return invocationResult.all_return_values[0].returned;\r\n    }\r\n\r\n    private verifyMethodLive(name: string): Promise<void> {\r\n        return promisePlus(() => {\r\n            return new Promise((resolve) => {\r\n                const hasMethod = this.agm.methods().some((method) => method.name === name);\r\n\r\n                if (hasMethod) {\r\n                    resolve();\r\n                    return;\r\n                }\r\n\r\n                let unsubscribe = this.agm.methodAdded((method) => {\r\n                    if (method.name !== name) {\r\n                        return;\r\n                    }\r\n\r\n                    if (unsubscribe) {\r\n                        unsubscribe();\r\n                        unsubscribe = null;\r\n                    } else {\r\n                        setTimeout(() => {\r\n                            if (unsubscribe) {\r\n                                unsubscribe();\r\n                            }\r\n                        }, 0);\r\n                    }\r\n                    resolve();\r\n                });\r\n            });\r\n        }, 15000, \"Timeout waiting for the Workspaces communication channels\");\r\n    }\r\n}\r\n","export const promisePlus = <T>(promise: () => Promise<T>, timeoutMilliseconds: number, timeoutMessage?: string): Promise<T> => {\n    return new Promise<T>((resolve, reject) => {\n\n        let promiseActive = true;\n\n        const timeout = setTimeout(() => {\n            if (!promiseActive) {\n                return;\n            }\n            promiseActive = false;\n            const message = timeoutMessage || `Promise timeout hit: ${timeoutMilliseconds}`;\n\n            reject(message);\n        }, timeoutMilliseconds);\n\n        promise()\n            .then((result) => {\n                if (!promiseActive) {\n                    return;\n                }\n                promiseActive = false;\n                clearTimeout(timeout);\n                resolve(result);\n            })\n            .catch((error) => {\n                if (!promiseActive) {\n                    return;\n                }\n                promiseActive = false;\n                clearTimeout(timeout);\n                reject(error);\n            });\n    });\n};\n","import { BaseBuilder } from \"./baseBuilder\";\nimport { ChildBuilder } from \"../types/builders\";\nimport { Glue42Workspaces } from \"../../workspaces\";\n\ninterface PrivateData {\n    definition: Glue42Workspaces.BoxDefinition;\n    base: BaseBuilder;\n    children: ChildBuilder[];\n}\n\nconst privateData = new WeakMap<ParentBuilder, PrivateData>();\n\nexport class ParentBuilder implements ParentBuilder {\n\n    constructor(\n        definition: Glue42Workspaces.BoxDefinition,\n        base: BaseBuilder\n    ) {\n        const children = base.wrapChildren(definition.children);\n\n        delete definition.children;\n\n        privateData.set(this, { base, children, definition });\n    }\n\n    public get type(): \"column\" | \"row\" | \"group\" {\n        return privateData.get(this).definition.type;\n    }\n\n    public addColumn(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\n        const base = privateData.get(this).base;\n\n        return base.add(\"column\", privateData.get(this).children, definition);\n    }\n\n    public addRow(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\n        const base = privateData.get(this).base;\n\n        return base.add(\"row\", privateData.get(this).children, definition);\n    }\n\n    public addGroup(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\n        const base = privateData.get(this).base;\n\n        return base.add(\"group\", privateData.get(this).children, definition);\n    }\n\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): ParentBuilder {\n        const base = privateData.get(this).base;\n\n        base.addWindow(privateData.get(this).children, definition);\n\n        return this;\n    }\n\n    public serialize(): Glue42Workspaces.BoxDefinition {\n        const definition = privateData.get(this).definition;\n        definition.children = privateData.get(this).base.serializeChildren(privateData.get(this).children);\n        return definition;\n    }\n\n}\n","import { ParentBuilder } from \"./parentBuilder\";\nimport { ChildDefinition, ChildBuilder } from \"../types/builders\";\nimport { parentDefinitionDecoder, swimlaneWindowDefinitionDecoder } from \"../shared/decoders\";\nimport { Glue42Workspaces } from \"../../workspaces\";\nimport { WorkspaceBuilder } from \"./workspaceBuilder\";\n\nexport class BaseBuilder {\n\n    constructor(\n        private readonly getBuilder: (config: Glue42Workspaces.BuilderConfig) => ParentBuilder | WorkspaceBuilder,\n    ) { }\n\n    public wrapChildren(children: ChildDefinition[]): ChildBuilder[] {\n        return children.map((child) => {\n            if (child.type === \"window\") {\n                return child;\n            }\n\n            return this.getBuilder({ type: child.type, definition: child }) as ParentBuilder;\n        });\n    }\n\n    public add(type: \"row\" | \"column\" | \"group\", children: ChildBuilder[], definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\n        const validatedDefinition = parentDefinitionDecoder.runWithException(definition);\n\n        const childBuilder = this.getBuilder({ type, definition: validatedDefinition }) as ParentBuilder;\n\n        children.push(childBuilder);\n\n        return childBuilder;\n    }\n\n    public addWindow(children: ChildBuilder[], definition: Glue42Workspaces.WorkspaceWindowDefinition): void {\n        const validatedDefinition = swimlaneWindowDefinitionDecoder.runWithException(definition);\n\n        validatedDefinition.type = \"window\";\n\n        children.push(validatedDefinition);\n    }\n\n    public serializeChildren(children: ChildBuilder[]): ChildDefinition[] {\n        return children.map((child) => {\n            if (child instanceof ParentBuilder) {\n                return child.serialize();\n            } else {\n                return child as Glue42Workspaces.WorkspaceWindowDefinition;\n            }\n        });\n    }\n}\n","import { BaseBuilder } from \"./baseBuilder\";\nimport { ChildBuilder } from \"../types/builders\";\nimport { ParentBuilder } from \"./parentBuilder\";\nimport { workspaceBuilderCreateConfigDecoder, nonNegativeNumberDecoder } from \"../shared/decoders\";\nimport { Glue42Workspaces } from \"../../workspaces\";\nimport { WorkspacesController } from \"../types/controller\";\n\ninterface PrivateData {\n    definition: Glue42Workspaces.WorkspaceDefinition;\n    children: ChildBuilder[];\n    base: BaseBuilder;\n    controller: WorkspacesController;\n}\n\nconst privateData = new WeakMap<WorkspaceBuilder, PrivateData>();\n\nexport class WorkspaceBuilder implements WorkspaceBuilder {\n\n    constructor(\n        definition: Glue42Workspaces.WorkspaceDefinition,\n        base: BaseBuilder,\n        controller: WorkspacesController\n    ) {\n        const children = base.wrapChildren(definition.children);\n\n        delete definition.children;\n\n        privateData.set(this, { base, children, definition, controller });\n    }\n\n    public addColumn(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\n        const children = privateData.get(this).children;\n\n        const areAllColumns = children.every((child) => child instanceof ParentBuilder && child.type === \"column\");\n\n        if (!areAllColumns) {\n            throw new Error(\"Cannot add a column to this workspace, because there are already children of another type\");\n        }\n\n        const base = privateData.get(this).base;\n\n        return base.add(\"column\", children, definition);\n    }\n\n    public addRow(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\n        const children = privateData.get(this).children;\n\n        const areAllRows = children.every((child) => child instanceof ParentBuilder && child.type === \"row\");\n\n        if (!areAllRows) {\n            throw new Error(\"Cannot add a row to this workspace, because there are already children of another type\");\n        }\n\n        const base = privateData.get(this).base;\n\n        return base.add(\"row\", children, definition);\n    }\n\n    public addGroup(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\n        const children = privateData.get(this).children;\n\n        if (children.length !== 0) {\n            throw new Error(\"Cannot add a group to this workspace, because there are already defined children.\");\n        }\n\n        const base = privateData.get(this).base;\n\n        return base.add(\"group\", children, definition);\n    }\n\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): WorkspaceBuilder {\n        const children = privateData.get(this).children;\n\n        if (children.length !== 0) {\n            throw new Error(\"Cannot add a window to this workspace, because there are already defined children.\");\n        }\n\n        const base = privateData.get(this).base;\n\n        base.addWindow(children, definition);\n\n        return this;\n    }\n\n    public getChildAt(index: number): ChildBuilder {\n        nonNegativeNumberDecoder.runWithException(index);\n        const data = privateData.get(this).children;\n\n        return data[index];\n    }\n\n    public async create(config?: Glue42Workspaces.WorkspaceCreateConfig): Promise<Glue42Workspaces.Workspace> {\n        const saveConfig = workspaceBuilderCreateConfigDecoder.runWithException(config);\n\n        const definition = privateData.get(this).definition;\n        definition.children = privateData.get(this).base.serializeChildren(privateData.get(this).children);\n\n        const controller = privateData.get(this).controller;\n\n        return controller.createWorkspace(definition, saveConfig);\n    }\n}\n","import { Base } from \"./base/base\";\nimport { Glue42Workspaces } from \"../../workspaces.d\";\n\ninterface PrivateData {\n    base: Base;\n}\n\nconst privateData = new WeakMap<Row, PrivateData>();\n\nconst getBase = (model: Row): Base => {\n    return privateData.get(model).base;\n};\n\nexport class Row implements Glue42Workspaces.Row {\n\n    constructor(base: Base) {\n        privateData.set(this, { base });\n    }\n\n    public get type(): \"row\" {\n        return \"row\";\n    }\n\n    public get id(): string {\n        return getBase(this).getId(this);\n    }\n\n    public get frameId(): string {\n        return getBase(this).getFrameId(this);\n    }\n\n    public get workspaceId(): string {\n        return getBase(this).getWorkspaceId(this);\n    }\n\n    public get positionIndex(): number {\n        return getBase(this).getPositionIndex(this);\n    }\n\n    public get children(): Glue42Workspaces.WorkspaceElement[] {\n        return getBase(this).getAllChildren(this);\n    }\n    public get parent(): Glue42Workspaces.Workspace | Glue42Workspaces.WorkspaceBox {\n        return getBase(this).getMyParent(this);\n    }\n    public get frame(): Glue42Workspaces.Frame {\n        return getBase(this).getMyFrame(this);\n    }\n    public get workspace(): Glue42Workspaces.Workspace {\n        return getBase(this).getMyWorkspace(this);\n    }\n\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): Promise<Glue42Workspaces.WorkspaceWindow> {\n        return getBase(this).addWindow(this, definition, \"row\");\n    }\n\n    public async addGroup(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Group> {\n        if (definition?.type && definition.type !== \"group\") {\n            throw new Error(`Expected a group definition, but received ${definition.type}`);\n        }\n        return getBase(this).addParent<Glue42Workspaces.Group>(this, \"group\", \"row\", definition);\n    }\n\n    public async addColumn(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Column> {\n        if (definition?.type && definition.type !== \"column\") {\n            throw new Error(`Expected a column definition, but received ${definition.type}`);\n        }\n        return getBase(this).addParent<Glue42Workspaces.Column>(this, \"column\", \"row\", definition);\n    }\n\n    public async addRow(): Promise<Row> {\n        throw new Error(\"Adding rows as row children is not supported\");\n    }\n\n    public removeChild(predicate: (child: Glue42Workspaces.WorkspaceElement) => boolean): Promise<void> {\n        return getBase(this).removeChild(this, predicate);\n    }\n\n    public maximize(): Promise<void> {\n        return getBase(this).maximize(this);\n    }\n\n    public restore(): Promise<void> {\n        return getBase(this).restore(this);\n    }\n\n    public close(): Promise<void> {\n        return getBase(this).close(this);\n    }\n\n}\n","import { Base } from \"./base/base\";\nimport { Glue42Workspaces } from \"../../workspaces.d\";\n\ninterface PrivateData {\n    base: Base;\n}\n\nconst privateData = new WeakMap<Column, PrivateData>();\n\nconst getBase = (model: Column): Base => {\n    return privateData.get(model).base;\n};\n\nexport class Column implements Glue42Workspaces.Column {\n\n    constructor(base: Base) {\n        privateData.set(this, { base });\n    }\n\n    public get type(): \"column\" {\n        return \"column\";\n    }\n\n    public get id(): string {\n        return getBase(this).getId(this);\n    }\n\n    public get frameId(): string {\n        return getBase(this).getFrameId(this);\n    }\n\n    public get workspaceId(): string {\n        return getBase(this).getWorkspaceId(this);\n    }\n\n    public get positionIndex(): number {\n        return getBase(this).getPositionIndex(this);\n    }\n\n    public get children(): Glue42Workspaces.WorkspaceElement[] {\n        return getBase(this).getAllChildren(this);\n    }\n    public get parent(): Glue42Workspaces.Workspace | Glue42Workspaces.WorkspaceBox {\n        return getBase(this).getMyParent(this);\n    }\n    public get frame(): Glue42Workspaces.Frame {\n        return getBase(this).getMyFrame(this);\n    }\n    public get workspace(): Glue42Workspaces.Workspace {\n        return getBase(this).getMyWorkspace(this);\n    }\n\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): Promise<Glue42Workspaces.WorkspaceWindow> {\n        return getBase(this).addWindow(this, definition, \"column\");\n    }\n\n    public async addGroup(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Group> {\n        if (definition?.type && definition.type !== \"group\") {\n            throw new Error(`Expected a group definition, but received ${definition.type}`);\n        }\n        return getBase(this).addParent<Glue42Workspaces.Group>(this, \"group\", \"column\", definition);\n    }\n\n    public async addColumn(definition?: Glue42Workspaces.BoxDefinition): Promise<Column> {\n        throw new Error(\"Adding columns as column children is not supported\");\n        return getBase(this).addParent<Column>(this, \"column\", \"column\", definition);\n    }\n\n    public async addRow(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Row> {\n        if (definition?.type && definition.type !== \"row\") {\n            throw new Error(`Expected a row definition, but received ${definition.type}`);\n        }\n        return getBase(this).addParent<Glue42Workspaces.Row>(this, \"row\", \"column\", definition);\n    }\n\n    public removeChild(predicate: (child: Glue42Workspaces.WorkspaceElement) => boolean): Promise<void> {\n        return getBase(this).removeChild(this, predicate);\n    }\n\n    public maximize(): Promise<void> {\n        return getBase(this).maximize(this);\n    }\n\n    public restore(): Promise<void> {\n        return getBase(this).restore(this);\n    }\n\n    public close(): Promise<void> {\n        return getBase(this).close(this);\n    }\n\n}\n","import { Base } from \"./base/base\";\nimport { Glue42Workspaces } from \"../../workspaces.d\";\n\ninterface PrivateData {\n    base: Base;\n}\n\nconst privateData = new WeakMap<Group, PrivateData>();\n\nconst getBase = (model: Group): Base => {\n    return privateData.get(model).base;\n};\n\nexport class Group implements Glue42Workspaces.Group {\n\n    constructor(base: Base) {\n        privateData.set(this, { base });\n    }\n\n    public get type(): \"group\" {\n        return \"group\";\n    }\n\n    public get id(): string {\n        return getBase(this).getId(this);\n    }\n\n    public get frameId(): string {\n        return getBase(this).getFrameId(this);\n    }\n\n    public get workspaceId(): string {\n        return getBase(this).getWorkspaceId(this);\n    }\n\n    public get positionIndex(): number {\n        return getBase(this).getPositionIndex(this);\n    }\n\n    public get children(): Glue42Workspaces.WorkspaceElement[] {\n        return getBase(this).getAllChildren(this);\n    }\n    public get parent(): Glue42Workspaces.Workspace | Glue42Workspaces.WorkspaceBox {\n        return getBase(this).getMyParent(this);\n    }\n    public get frame(): Glue42Workspaces.Frame {\n        return getBase(this).getMyFrame(this);\n    }\n    public get workspace(): Glue42Workspaces.Workspace {\n        return getBase(this).getMyWorkspace(this);\n    }\n\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): Promise<Glue42Workspaces.WorkspaceWindow> {\n        return getBase(this).addWindow(this, definition, \"group\");\n    }\n\n    public async addGroup(): Promise<Group> {\n        throw new Error(\"Adding groups as group child is not supported\");\n    }\n\n    public async addColumn(): Promise<Glue42Workspaces.Column> {\n        throw new Error(\"Adding columns as group child is not supported\");\n    }\n\n    public async addRow(): Promise<Glue42Workspaces.Row> {\n        throw new Error(\"Adding rows as group child is not supported\");\n    }\n\n    public removeChild(predicate: (child: Glue42Workspaces.WorkspaceElement) => boolean): Promise<void> {\n        return getBase(this).removeChild(this, predicate);\n    }\n\n    public maximize(): Promise<void> {\n        return getBase(this).maximize(this);\n    }\n\n    public restore(): Promise<void> {\n        return getBase(this).restore(this);\n    }\n\n    public close(): Promise<void> {\n        return getBase(this).close(this);\n    }\n\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { WorkspaceSnapshotResult, WindowStreamData } from \"../types/protocol\";\nimport { checkThrowCallback, nonEmptyStringDecoder } from \"../shared/decoders\";\nimport { PrivateDataManager } from \"../shared/privateDataManager\";\nimport { FrameCreateConfig } from \"../types/ioc\";\nimport { Window } from \"./window\";\nimport { Frame } from \"./frame\";\nimport { Row } from \"./row\";\nimport { Column } from \"./column\";\nimport { Group } from \"./group\";\nimport { SubscriptionConfig } from \"../types/subscription\";\nimport { WorkspacePrivateData } from \"../types/privateData\";\nimport { Glue42Workspaces } from \"../../workspaces\";\n\ninterface PrivateData {\n    manager: PrivateDataManager;\n}\n\nconst data = new WeakMap<Workspace, PrivateData>();\n\nconst getData = (model: Workspace): WorkspacePrivateData => {\n    return data.get(model).manager.getWorkspaceData(model);\n};\n\nconst getDataManager = (model: Workspace): PrivateDataManager => {\n    return data.get(model).manager;\n};\n\nexport class Workspace implements Glue42Workspaces.Workspace {\n\n    constructor(dataManager: PrivateDataManager) {\n        data.set(this, { manager: dataManager });\n    }\n\n    public get id(): string {\n        return getData(this).id;\n    }\n\n    public get frameId(): string {\n        return getData(this).config.frameId;\n    }\n\n    public get positionIndex(): number {\n        return getData(this).config.positionIndex;\n    }\n\n    public get title(): string {\n        return getData(this).config.title;\n    }\n\n    public get layoutName(): string | undefined {\n        return getData(this).config.layoutName;\n    }\n\n    public get children(): Glue42Workspaces.WorkspaceElement[] {\n        return getData(this).children;\n    }\n\n    public get frame(): Frame {\n        return getData(this).frame;\n    }\n\n    public async removeChild(predicate: (child: Glue42Workspaces.WorkspaceElement) => boolean): Promise<void> {\n        checkThrowCallback(predicate);\n        const child = this.children.find(predicate);\n        if (!child) {\n            return;\n        }\n        await child.close();\n        await this.refreshReference();\n    }\n\n    public async remove(predicate: (child: Glue42Workspaces.WorkspaceElement) => boolean): Promise<void> {\n        checkThrowCallback(predicate);\n        const controller = getData(this).controller;\n\n        const child = controller.iterateFindChild(this.children, predicate);\n\n        await child.close();\n\n        await this.refreshReference();\n    }\n\n    public async focus(): Promise<void> {\n        await getData(this).controller.focusItem(this.id);\n        await this.refreshReference();\n    }\n\n    public async close(): Promise<void> {\n        const controller = getData(this).controller;\n\n        const workspaces = await getData(this).frame.workspaces();\n\n        const shouldCloseFrame = workspaces.length === 1 && workspaces.every((wsp) => wsp.id === this.id);\n\n        if (shouldCloseFrame) {\n            return this.frame.close();\n        }\n\n        await controller.closeItem(this.id);\n    }\n\n    public snapshot(): Promise<Glue42Workspaces.WorkspaceSnapshot> {\n        return getData(this).controller.getSnapshot(this.id, \"workspace\");\n    }\n\n    public async saveLayout(name: string, config?: { saveContext?: boolean }): Promise<void> {\n        nonEmptyStringDecoder.runWithException(name);\n        await getData(this).controller.saveLayout({name, workspaceId: this.id, saveContext: config?.saveContext});\n    }\n\n    public async setTitle(title: string): Promise<void> {\n        nonEmptyStringDecoder.runWithException(title);\n        const controller = getData(this).controller;\n\n        await controller.setItemTitle(this.id, title);\n        await this.refreshReference();\n    }\n\n    public getContext(): Promise<any> {\n        const controller = getData(this).controller;\n        return controller.getWorkspaceContext(this.id);\n    }\n\n    public setContext(data: any): Promise<void> {\n        const controller = getData(this).controller;\n        return controller.setWorkspaceContext(this.id, data);\n    }\n\n    public updateContext(data: any): Promise<void> {\n        const controller = getData(this).controller;\n        return controller.updateWorkspaceContext(this.id, data);\n    }\n\n    public onContextUpdated(callback: (data: any) => void): Promise<Glue42Workspaces.Unsubscribe> {\n        const controller = getData(this).controller;\n        return controller.subscribeWorkspaceContextUpdated(this.id, callback);\n    }\n\n    public async refreshReference(): Promise<void> {\n        const newSnapshot = (await getData(this).controller.getSnapshot(this.id, \"workspace\")) as WorkspaceSnapshotResult;\n\n        const existingChildren = newSnapshot.children.reduce<Glue42Workspaces.WorkspaceElement[]>((foundChildren, child) => {\n            let foundChild: Glue42Workspaces.WorkspaceElement;\n            if (child.type === \"window\") {\n                foundChild = this.getWindow((swimlaneWindow) => swimlaneWindow.id === child.id);\n            } else {\n                foundChild = this.getBox((parent) => parent.id === child.id);\n            }\n\n            if (foundChild) {\n                foundChildren.push(foundChild);\n            }\n\n            return foundChildren;\n        }, []);\n\n        const newChildren = getData(this).controller.refreshChildren({\n            existingChildren,\n            workspace: this,\n            parent: this,\n            children: newSnapshot.children\n        });\n\n        const currentFrame = this.frame;\n        let actualFrame: Frame;\n\n        if (currentFrame.id === newSnapshot.config.frameId) {\n            getDataManager(this).remapFrame(currentFrame, newSnapshot.frameSummary);\n            actualFrame = currentFrame;\n        } else {\n            const frameCreateConfig: FrameCreateConfig = {\n                summary: newSnapshot.frameSummary\n            };\n            const newFrame = getData(this).ioc.getModel<\"frame\">(\"frame\", frameCreateConfig);\n            actualFrame = newFrame;\n        }\n\n        getDataManager(this).remapWorkspace(this, {\n            config: newSnapshot.config,\n            children: newChildren,\n            frame: actualFrame\n        });\n    }\n\n    public getBox(predicate: (box: Glue42Workspaces.WorkspaceBox) => boolean): Glue42Workspaces.WorkspaceBox {\n        checkThrowCallback(predicate);\n        const children = getData(this).children;\n        const controller = getData(this).controller;\n\n        return controller.iterateFindChild(children, (child) => child.type !== \"window\" && predicate(child)) as Glue42Workspaces.WorkspaceBox;\n    }\n\n    public getAllBoxes(predicate?: (parent: Glue42Workspaces.WorkspaceBox) => boolean): Glue42Workspaces.WorkspaceBox[] {\n        checkThrowCallback(predicate, true);\n        const children = getData(this).children;\n        const controller = getData(this).controller;\n\n        const allParents = controller.iterateFilterChildren(children, (child) => child.type !== \"window\") as Glue42Workspaces.WorkspaceBox[];\n\n        if (!predicate) {\n            return allParents;\n        }\n\n        return allParents.filter(predicate);\n    }\n\n    public getRow(predicate: (row: Row) => boolean): Row {\n        checkThrowCallback(predicate);\n        return this.getBox((parent) => parent.type === \"row\" && predicate(parent)) as Row;\n    }\n\n    public getAllRows(predicate?: (row: Row) => boolean): Row[] {\n        checkThrowCallback(predicate, true);\n        if (predicate) {\n            return this.getAllBoxes((parent) => parent.type === \"row\" && predicate(parent)) as Row[];\n        }\n        return this.getAllBoxes((parent) => parent.type === \"row\") as Row[];\n    }\n\n    public getColumn(predicate: (column: Column) => boolean): Column {\n        checkThrowCallback(predicate);\n        return this.getBox((parent) => parent.type === \"column\" && predicate(parent)) as Column;\n    }\n\n    public getAllColumns(predicate?: (columns: Column) => boolean): Column[] {\n        checkThrowCallback(predicate, true);\n        if (predicate) {\n            return this.getAllBoxes((parent) => parent.type === \"column\" && predicate(parent)) as Column[];\n        }\n        return this.getAllBoxes((parent) => parent.type === \"column\") as Column[];\n    }\n\n    public getGroup(predicate: (group: Group) => boolean): Group {\n        checkThrowCallback(predicate);\n        return this.getBox((parent) => parent.type === \"group\" && predicate(parent)) as Group;\n    }\n\n    public getAllGroups(predicate?: (group: Group) => boolean): Group[] {\n        checkThrowCallback(predicate, true);\n        if (predicate) {\n            return this.getAllBoxes((parent) => parent.type === \"group\" && predicate(parent)) as Group[];\n        }\n        return this.getAllBoxes((parent) => parent.type === \"group\") as Group[];\n    }\n\n    public getWindow(predicate: (window: Glue42Workspaces.WorkspaceWindow) => boolean): Glue42Workspaces.WorkspaceWindow {\n        checkThrowCallback(predicate);\n        const children = getData(this).children;\n        const controller = getData(this).controller;\n\n        return controller.iterateFindChild(children, (child) => child.type === \"window\" && predicate(child)) as Window;\n    }\n\n    public getAllWindows(predicate?: (window: Glue42Workspaces.WorkspaceWindow) => boolean): Glue42Workspaces.WorkspaceWindow[] {\n        checkThrowCallback(predicate, true);\n        const children = getData(this).children;\n        const controller = getData(this).controller;\n\n        const allWindows = controller.iterateFilterChildren(children, (child) => child.type === \"window\") as Window[];\n\n        if (!predicate) {\n            return allWindows;\n        }\n\n        return allWindows.filter(predicate);\n    }\n\n    public addRow(definition?: Glue42Workspaces.BoxDefinition): Promise<Row> {\n        return getData(this).base.addParent<Row>(this, \"row\", \"workspace\", definition);\n    }\n\n    public addColumn(definition?: Glue42Workspaces.BoxDefinition): Promise<Column> {\n        return getData(this).base.addParent<Column>(this, \"column\", \"workspace\", definition);\n    }\n\n    public addGroup(definition?: Glue42Workspaces.BoxDefinition): Promise<Group> {\n        return getData(this).base.addParent<Group>(this, \"group\", \"workspace\", definition);\n    }\n\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): Promise<Glue42Workspaces.WorkspaceWindow> {\n        return getData(this).base.addWindow(this, definition, \"workspace\");\n    }\n\n    public async bundleToRow(): Promise<void> {\n        await getData(this).controller.bundleTo(\"row\", this.id);\n        await this.refreshReference();\n    }\n\n    public async bundleToColumn(): Promise<void> {\n        await getData(this).controller.bundleTo(\"column\", this.id);\n        await this.refreshReference();\n    }\n\n    public async onClosed(callback: () => void): Promise<Glue42Workspaces.Unsubscribe> {\n        checkThrowCallback(callback);\n        const id = getData(this).id;\n\n        const wrappedCallback = async (): Promise<void> => {\n            // await this.refreshReference();\n            callback();\n        };\n        const config: SubscriptionConfig = {\n            action: \"closed\",\n            eventType: \"workspace\",\n            scope: \"workspace\",\n            scopeId: id,\n            callback: wrappedCallback\n        };\n\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\n        return unsubscribe;\n    }\n\n    public async onWindowAdded(callback: (window: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> {\n        checkThrowCallback(callback);\n        const id = getData(this).id;\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\n            await this.refreshReference();\n            const windowParent = this.getBox((parent) => parent.id === payload.windowSummary.parentId);\n\n            const foundWindow = windowParent.children.find((child) => {\n\n                return child.type === \"window\" && child.positionIndex === payload.windowSummary.config.positionIndex;\n            });\n            callback(foundWindow as Window);\n        };\n\n        const config: SubscriptionConfig = {\n            action: \"added\",\n            eventType: \"window\",\n            scope: \"workspace\",\n            scopeId: id,\n            callback: wrappedCallback\n        };\n\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\n        return unsubscribe;\n    }\n\n    public async onWindowRemoved(callback: (removed: { windowId?: string; workspaceId: string; frameId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> {\n        checkThrowCallback(callback);\n        const id = getData(this).id;\n\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\n            await this.refreshReference();\n            const { windowId, workspaceId, frameId } = payload.windowSummary.config;\n            callback({ windowId, workspaceId, frameId });\n        };\n\n        const config: SubscriptionConfig = {\n            action: \"removed\",\n            eventType: \"window\",\n            scope: \"workspace\",\n            scopeId: id,\n            callback: wrappedCallback\n        };\n\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\n        return unsubscribe;\n    }\n\n    public async onWindowLoaded(callback: (window: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> {\n        checkThrowCallback(callback);\n        const id = getData(this).id;\n\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\n            await this.refreshReference();\n            const foundWindow = this.getWindow((win) => {\n                return win.id && win.id === payload.windowSummary.config.windowId;\n            });\n            callback(foundWindow);\n        };\n\n        const config: SubscriptionConfig = {\n            action: \"loaded\",\n            eventType: \"window\",\n            scope: \"workspace\",\n            scopeId: id,\n            callback: wrappedCallback\n        };\n\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\n        return unsubscribe;\n    }\n}\n","import { checkThrowCallback, nonEmptyStringDecoder } from \"../shared//decoders\";\nimport { SubscriptionConfig } from \"../types/subscription\";\nimport { PrivateDataManager } from \"../shared/privateDataManager\";\nimport { Row } from \"./row\";\nimport { Column } from \"./column\";\nimport { Group } from \"./group\";\nimport { WindowPrivateData } from \"../types/privateData\";\nimport { Glue42Workspaces } from \"../../workspaces\";\nimport { GDWindow } from \"../types/glue\";\n\ninterface PrivateData {\n    manager: PrivateDataManager;\n}\n\nconst data = new WeakMap<Window, PrivateData>();\n\nconst getData = (model: Window): WindowPrivateData => {\n    return data.get(model).manager.getWindowData(model);\n};\n\nexport class Window implements Glue42Workspaces.WorkspaceWindow {\n\n    constructor(dataManager: PrivateDataManager) {\n        data.set(this, { manager: dataManager });\n    }\n\n    public get id(): string {\n        return getData(this).config.windowId;\n    }\n\n    public get type(): \"window\" {\n        return \"window\";\n    }\n\n    public get frameId(): string {\n        return getData(this).frame.id;\n    }\n\n    public get workspaceId(): string {\n        return getData(this).workspace.id;\n    }\n\n    public get positionIndex(): number {\n        return getData(this).config.positionIndex;\n    }\n\n    public get isMaximized(): boolean {\n        return getData(this).config.isMaximized;\n    }\n\n    public get isLoaded(): boolean {\n        return getData(this).controller.checkIsWindowLoaded(this.id);\n    }\n\n    public get focused(): boolean {\n        return getData(this).config.isFocused;\n    }\n\n    public get title(): string {\n        return getData(this).config.title;\n    }\n\n    public get workspace(): Glue42Workspaces.Workspace {\n        return getData(this).workspace;\n    }\n\n    public get frame(): Glue42Workspaces.Frame {\n        return getData(this).frame;\n    }\n\n    public get parent(): Glue42Workspaces.Workspace | Glue42Workspaces.Workspace | Row | Column | Group {\n        return getData(this).parent;\n    }\n\n    public get appName(): string {\n        return getData(this).config.appName;\n    }\n\n    public async forceLoad(): Promise<void> {\n        if (this.isLoaded) {\n            return;\n        }\n        const controller = getData(this).controller;\n        const itemId = getData(this).id;\n\n        const windowId = await controller.forceLoadWindow(itemId);\n\n        getData(this).config.windowId = windowId;\n    }\n\n    public async focus(): Promise<void> {\n        const id = getData(this).id;\n        const controller = getData(this).controller;\n\n        await controller.focusItem(id);\n    }\n\n    public async close(): Promise<void> {\n\n        const id = getData(this).id;\n        const controller = getData(this).controller;\n\n        await controller.closeItem(id);\n\n        await getData(this)\n            .parent\n            .removeChild((child) => child.id === id);\n    }\n\n    public async setTitle(title: string): Promise<void> {\n        nonEmptyStringDecoder.runWithException(title);\n\n        const itemId = getData(this).id;\n        const controller = getData(this).controller;\n\n        await controller.setItemTitle(itemId, title);\n    }\n\n    public async maximize(): Promise<void> {\n        const id = getData(this).id;\n        const controller = getData(this).controller;\n\n        await controller.maximizeItem(id);\n    }\n\n    public async restore(): Promise<void> {\n        const id = getData(this).id;\n        const controller = getData(this).controller;\n\n        await controller.restoreItem(id);\n    }\n\n    public async eject(): Promise<GDWindow> {\n        if (!this.isLoaded) {\n            throw new Error(\"Cannot eject this window, because it is not loaded yet\");\n        }\n        const itemId: string = getData(this).id;\n\n        const newWindowId: string = await getData(this).controller.ejectWindow(itemId);\n\n        getData(this).config.windowId = newWindowId;\n\n        return this.getGdWindow();\n    }\n\n    public getGdWindow(): GDWindow {\n\n        if (!this.isLoaded) {\n            throw new Error(\"Cannot fetch this GD window, because the window is not yet loaded\");\n        }\n\n        const myId = getData(this).config.windowId;\n        const controller = getData(this).controller;\n\n        return controller.getGDWindow(myId);\n    }\n\n    public async moveTo(parent: Row | Column | Group): Promise<void> {\n        if (!(parent instanceof Row || parent instanceof Column || parent instanceof Group)) {\n            throw new Error(\"Cannot add to the provided parent, because the provided parent is not an instance of Row, Column or Group\");\n        }\n\n        const myId = getData(this).id;\n        const controller = getData(this).controller;\n\n        const foundParent = await controller.getParent((p) => p.id === parent.id);\n\n        if (!foundParent) {\n            throw new Error(\"Cannot move the window to the selected parent, because this parent does not exist.\");\n        }\n\n        return controller.moveWindowTo(myId, parent.id);\n    }\n\n    public async onRemoved(callback: () => void): Promise<Glue42Workspaces.Unsubscribe> {\n        checkThrowCallback(callback);\n        const id = getData(this).id;\n        const wrappedCallback = async (): Promise<void> => {\n            await this.workspace.refreshReference();\n            callback();\n        };\n        const config: SubscriptionConfig = {\n            callback: wrappedCallback,\n            action: \"removed\",\n            eventType: \"window\",\n            scope: \"window\"\n        };\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\n        return unsubscribe;\n    }\n}\n","import { checkThrowCallback, nonEmptyStringDecoder, restoreWorkspaceConfigDecoder, workspaceDefinitionDecoder, workspaceBuilderCreateConfigDecoder, resizeConfigDecoder, moveConfigDecoder } from \"../shared/decoders\";\r\nimport { SubscriptionConfig } from \"../types/subscription\";\r\nimport { PrivateDataManager } from \"../shared/privateDataManager\";\r\nimport { FrameStreamData, WorkspaceStreamData, WindowStreamData } from \"../types/protocol\";\r\nimport { Glue42Workspaces } from \"../../workspaces.d\";\r\nimport { FramePrivateData } from \"../types/privateData\";\r\n\r\ninterface PrivateData {\r\n    manager: PrivateDataManager;\r\n}\r\n\r\nconst data = new WeakMap<Frame, PrivateData>();\r\n\r\nconst getData = (model: Frame): FramePrivateData => {\r\n    return data.get(model).manager.getFrameData(model);\r\n};\r\n\r\nexport class Frame implements Glue42Workspaces.Frame {\r\n\r\n    constructor(dataManager: PrivateDataManager) {\r\n        data.set(this, { manager: dataManager });\r\n    }\r\n\r\n    public get id(): string {\r\n        return getData(this).summary.id;\r\n    }\r\n\r\n    public resize(config: Glue42Workspaces.ResizeConfig): Promise<void> {\r\n        const validatedConfig = resizeConfigDecoder.runWithException(config);\r\n        const myId = getData(this).summary.id;\r\n\r\n        return getData(this).controller.resizeItem(myId, validatedConfig);\r\n    }\r\n\r\n    public move(config: Glue42Workspaces.MoveConfig): Promise<void> {\r\n        const validatedConfig = moveConfigDecoder.runWithException(config);\r\n\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.moveFrame(myId, validatedConfig);\r\n    }\r\n\r\n    public focus(): Promise<void> {\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.focusItem(myId);\r\n    }\r\n\r\n    public async state(): Promise<Glue42Workspaces.FrameState> {\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.getFrameState(myId);\r\n    }\r\n\r\n    public async minimize(): Promise<void> {\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.changeFrameState(myId, \"minimized\");\r\n    }\r\n\r\n    public async maximize(): Promise<void> {\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.changeFrameState(myId, \"maximized\");\r\n    }\r\n\r\n    public async restore(): Promise<void> {\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.changeFrameState(myId, \"normal\");\r\n    }\r\n\r\n    public close(): Promise<void> {\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.closeItem(myId);\r\n    }\r\n\r\n    public snapshot(): Promise<Glue42Workspaces.FrameSnapshot> {\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.getSnapshot(myId, \"frame\");\r\n    }\r\n\r\n    public async workspaces(): Promise<Glue42Workspaces.Workspace[]> {\r\n        const controller = getData(this).controller;\r\n        return controller.getWorkspaces((wsp) => wsp.frameId === this.id);\r\n    }\r\n\r\n    public async restoreWorkspace(name: string, options?: Glue42Workspaces.RestoreWorkspaceConfig): Promise<Glue42Workspaces.Workspace> {\r\n        nonEmptyStringDecoder.runWithException(name);\r\n        const validatedOptions = restoreWorkspaceConfigDecoder.runWithException(options);\r\n\r\n        return getData(this).controller.restoreWorkspace(name, validatedOptions);\r\n    }\r\n\r\n    public createWorkspace(definition: Glue42Workspaces.WorkspaceDefinition, config?: Glue42Workspaces.WorkspaceCreateConfig): Promise<Glue42Workspaces.Workspace> {\r\n        const validatedDefinition = workspaceDefinitionDecoder.runWithException(definition);\r\n        const validatedConfig = workspaceBuilderCreateConfigDecoder.runWithException(config);\r\n\r\n        return getData(this).controller.createWorkspace(validatedDefinition, validatedConfig);\r\n    }\r\n\r\n    public async onClosed(callback: (closed: { frameId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (payload: FrameStreamData): void => {\r\n            callback({ frameId: payload.frameSummary.id });\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"closed\",\r\n            eventType: \"frame\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onMaximized(callback: () => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (): void => {\r\n            callback();\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"maximized\",\r\n            eventType: \"frame\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onMinimized(callback: () => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (): void => {\r\n            callback();\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"minimized\",\r\n            eventType: \"frame\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onNormal(callback: () => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (): void => {\r\n            callback();\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"normal\",\r\n            eventType: \"frame\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWorkspaceOpened(callback: (workspace: Glue42Workspaces.Workspace) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = async (payload: WorkspaceStreamData): Promise<void> => {\r\n            const workspace = await getData(this).controller.getWorkspace((wsp) => wsp.id === payload.workspaceSummary.id);\r\n            callback(workspace);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"opened\",\r\n            eventType: \"workspace\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWorkspaceSelected(callback: (workspace: Glue42Workspaces.Workspace) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = async (payload: WorkspaceStreamData): Promise<void> => {\r\n            const workspace = await getData(this).controller.getWorkspace((wsp) => wsp.id === payload.workspaceSummary.id);\r\n            callback(workspace);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"selected\",\r\n            eventType: \"workspace\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWorkspaceClosed(callback: (closed: { frameId: string; workspaceId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (payload: WorkspaceStreamData): void => {\r\n            callback({ frameId: payload.frameSummary.id, workspaceId: payload.workspaceSummary.id });\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"closed\",\r\n            eventType: \"workspace\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWindowAdded(callback: (window: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            const foundParent = await getData(this).controller.getParent((parent) => parent.id === payload.windowSummary.parentId);\r\n            const foundWindow = foundParent.children.find((child) => child.type === \"window\" && child.positionIndex === payload.windowSummary.config.positionIndex);\r\n            callback(foundWindow as Glue42Workspaces.WorkspaceWindow);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"added\",\r\n            eventType: \"window\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWindowRemoved(callback: (removed: { windowId?: string; workspaceId: string; frameId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (payload: WindowStreamData): void => {\r\n            const { windowId, workspaceId, frameId } = payload.windowSummary.config;\r\n            callback({ windowId, workspaceId, frameId });\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"removed\",\r\n            eventType: \"window\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWindowLoaded(callback: (window: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            const foundParent = await getData(this).controller.getParent((parent) => {\r\n                return parent.id === payload.windowSummary.parentId;\r\n            });\r\n            const foundWindow = foundParent.children.find((child) => child.type === \"window\" && child.positionIndex === payload.windowSummary.config.positionIndex);\r\n            callback(foundWindow as Glue42Workspaces.WorkspaceWindow);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"loaded\",\r\n            eventType: \"window\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n}\r\n","import { Row } from \"../models/row\";\nimport { Column } from \"../models/column\";\nimport { Group } from \"../models/group\";\nimport { ParentPrivateData, WorkspacePrivateData, WindowPrivateData, FramePrivateData, RemapChildData, RemapWorkspaceData } from \"../types/privateData\";\nimport { Workspace } from \"../models/workspace\";\nimport { Window } from \"../models/window\";\nimport { Frame } from \"../models/frame\";\nimport { SwimlaneWindowSnapshotConfig, ParentSnapshotConfig, FrameSummaryResult } from \"../types/protocol\";\nimport { Child } from \"../types/builders\";\n\nexport class PrivateDataManager {\n    private readonly parentsData = new WeakMap<Row | Column | Group, ParentPrivateData>();\n    private readonly workspacesData = new WeakMap<Workspace, WorkspacePrivateData>();\n    private readonly windowsData = new WeakMap<Window, WindowPrivateData>();\n    private readonly framesData = new WeakMap<Frame, FramePrivateData>();\n    // Without this collection there is no way to get a window instance before its loaded\n    // e.g addWindow returns a window however this window doesn't have a placement id needed for force load\n    private readonly windowPlacementIdData: { [key: string]: Window } = {};\n\n    public deleteData<T>(model: T): void {\n        if (model instanceof Window) {\n            const keyForDeleting =\n                Object.keys(this.windowPlacementIdData)\n                    .find((k) => this.windowPlacementIdData[k] === model);\n\n            if (keyForDeleting) {\n                delete this.windowPlacementIdData[keyForDeleting];\n            }\n\n            this.windowsData.delete(model);\n        }\n\n        if (model instanceof Workspace) {\n            this.workspacesData.delete(model);\n        }\n\n        if (model instanceof Row || model instanceof Column || model instanceof Group) {\n            this.parentsData.delete(model);\n        }\n\n        if (model instanceof Frame) {\n            this.framesData.delete(model);\n        }\n    }\n\n    public setWindowData(model: Window, data: WindowPrivateData): void {\n\n        this.windowPlacementIdData[data.id] = model;\n        this.windowsData.set(model, data);\n    }\n\n    public setWorkspaceData(model: Workspace, data: WorkspacePrivateData): void {\n        this.workspacesData.set(model, data);\n    }\n\n    public setParentData(model: Row | Column | Group, data: ParentPrivateData): void {\n        this.parentsData.set(model, data);\n    }\n\n    public setFrameData(model: Frame, data: FramePrivateData): void {\n        this.framesData.set(model, data);\n    }\n\n    public getWindowData(model: Window): WindowPrivateData {\n        return this.windowsData.get(model);\n    }\n\n    public getWindowByPlacementId(placementId: string): Window {\n        return this.windowPlacementIdData[placementId];\n    }\n\n    public getWorkspaceData(model: Workspace): WorkspacePrivateData {\n        return this.workspacesData.get(model);\n    }\n\n    public getParentData(model: Row | Column | Group): ParentPrivateData {\n        return this.parentsData.get(model);\n    }\n\n    public getFrameData(model: Frame): FramePrivateData {\n        return this.framesData.get(model);\n    }\n\n    public remapChild(model: Child, newData: RemapChildData): void {\n        if (model instanceof Window) {\n            const data = this.windowsData.get(model);\n            data.parent = newData.parent || data.parent;\n            data.config = newData.config as SwimlaneWindowSnapshotConfig || data.config;\n        }\n\n        if (model instanceof Row || model instanceof Column || model instanceof Group) {\n            const data = this.parentsData.get(model);\n            data.parent = newData.parent || data.parent;\n            data.config = newData.config as ParentSnapshotConfig || data.config;\n            data.children = newData.children || data.children;\n        }\n    }\n\n    public remapFrame(model: Frame, newData: FrameSummaryResult): void {\n        const data = this.framesData.get(model);\n        data.summary = newData;\n    }\n\n    public remapWorkspace(model: Workspace, newData: RemapWorkspaceData): void {\n        const data = this.workspacesData.get(model);\n        data.frame = newData.frame || data.frame;\n        data.config = newData.config || data.config;\n        data.children = newData.children || data.children;\n    }\n}\n","import { Workspace } from \"../workspace\";\nimport { ParentBuilder } from \"../../builders/parentBuilder\";\nimport { strictParentDefinitionDecoder, swimlaneWindowDefinitionDecoder, checkThrowCallback } from \"../../shared/decoders\";\nimport { SubParent, AllParentTypes, Child, SubParentTypes, AllParent } from \"../../types/builders\";\nimport { PrivateDataManager } from \"../../shared/privateDataManager\";\nimport { ParentPrivateData, WorkspacePrivateData } from \"../../types/privateData\";\nimport { Window } from \"../../models/window\";\nimport { Glue42Workspaces } from \"../../../workspaces\";\n\ninterface PrivateData {\n    manager: PrivateDataManager;\n}\n\nconst data = new WeakMap<Base, PrivateData>();\n\nconst getData = (base: Base, model: AllParentTypes): WorkspacePrivateData | ParentPrivateData => {\n    const manager = data.get(base).manager;\n\n    if (model instanceof Workspace) {\n        return manager.getWorkspaceData(model);\n    }\n\n    return data.get(base).manager.getParentData(model);\n};\n\nconst getWindowFromPlacementId = (base: Base, placemenId: string): Window => {\n    const manager = data.get(base).manager;\n\n    return manager.getWindowByPlacementId(placemenId);\n};\n\nexport class Base {\n    public frameId: string;\n    public workspaceId: string;\n    public positionIndex: number;\n\n    constructor(dataManager: PrivateDataManager) {\n        data.set(this, { manager: dataManager });\n    }\n\n    public getId(model: AllParentTypes): string {\n        return getData(this, model).id;\n    }\n\n    public getPositionIndex(model: AllParentTypes): number {\n        return getData(this, model).config.positionIndex;\n    }\n\n    public getWorkspaceId(model: AllParentTypes): string {\n        const privateData = getData(this, model) as ParentPrivateData;\n        return privateData.config.workspaceId || privateData.workspace.id;\n    }\n\n    public getFrameId(model: AllParentTypes): string {\n        return getData(this, model).frame.id;\n    }\n\n    public getAllChildren(model: AllParentTypes, predicate?: (child: Child) => boolean): Child[] {\n        checkThrowCallback(predicate, true);\n        const children = getData(this, model).children;\n\n        if (typeof predicate === \"undefined\") {\n            return children;\n        }\n\n        return children.filter(predicate);\n    }\n\n    public getMyParent(model: AllParentTypes): AllParentTypes {\n        if (model instanceof Workspace) {\n            return;\n        }\n        return (getData(this, model) as ParentPrivateData).parent;\n    }\n\n    public getMyFrame(model: AllParentTypes): Glue42Workspaces.Frame {\n        return getData(this, model).frame;\n    }\n\n    public getMyWorkspace(model: AllParentTypes): Workspace {\n        if (model instanceof Workspace) {\n            return;\n        }\n        return (getData(this, model) as ParentPrivateData).workspace;\n    }\n\n    public async addWindow(model: AllParentTypes, definition: Glue42Workspaces.WorkspaceWindowDefinition, parentType: AllParent): Promise<Glue42Workspaces.WorkspaceWindow> {\n        if (!definition.appName && !definition.windowId) {\n            throw new Error(\"The window definition should contain either an appName or a windowId\");\n        }\n\n        const validatedDefinition = swimlaneWindowDefinitionDecoder.runWithException(definition);\n        const controller = getData(this, model).controller;\n\n        const operationResult = await controller.add(\"window\", getData(this, model).id, parentType, validatedDefinition);\n\n        if (model instanceof Workspace) {\n            await model.refreshReference();\n            return getWindowFromPlacementId(this, operationResult.itemId);\n        }\n\n        await this.getMyWorkspace(model).refreshReference();\n\n        return getWindowFromPlacementId(this, operationResult.itemId);\n    }\n\n    public async addParent<T>(model: AllParentTypes, typeToAdd: SubParent, parentType: AllParent, definition?: Glue42Workspaces.BoxDefinition | ParentBuilder): Promise<T> {\n        const parentDefinition = this.transformDefinition(typeToAdd, definition);\n        const controller = getData(this, model).controller;\n\n        const newParentId = (await controller.add(\"container\", getData(this, model).id, parentType, parentDefinition)).itemId;\n\n        if (model instanceof Workspace) {\n            await model.refreshReference();\n            return model.getBox((parent) => parent.id === newParentId) as unknown as T;\n        }\n\n        const myWorkspace = this.getMyWorkspace(model);\n        await myWorkspace.refreshReference();\n\n        return myWorkspace.getBox((parent) => parent.id === newParentId) as unknown as T;\n    }\n\n    public async removeChild(model: AllParentTypes, predicate: (child: Child) => boolean): Promise<void> {\n        checkThrowCallback(predicate);\n        const child = this.getAllChildren(model).find(predicate);\n        if (!child) {\n            return;\n        }\n\n        await child.close();\n\n        if (model instanceof Workspace) {\n\n            await model.refreshReference();\n            return;\n        }\n\n        await this.getMyWorkspace(model).refreshReference();\n    }\n\n    public async maximize(model: AllParentTypes): Promise<void> {\n        const controller = getData(this, model).controller;\n\n        await controller.maximizeItem(getData(this, model).id);\n    }\n\n    public async restore(model: AllParentTypes): Promise<void> {\n        const controller = getData(this, model).controller;\n\n        await controller.restoreItem(getData(this, model).id);\n    }\n\n    public async close(model: SubParentTypes): Promise<void> {\n        const modelData = getData(this, model) as ParentPrivateData;\n\n        const controller = getData(this, model).controller;\n\n        await controller.closeItem(modelData.id);\n\n        if (modelData.parent instanceof Workspace) {\n            await modelData.parent.refreshReference();\n        } else {\n            await this.getMyWorkspace(modelData.parent).refreshReference();\n        }\n    }\n\n    private transformDefinition(type: \"group\" | \"row\" | \"column\", definition?: Glue42Workspaces.BoxDefinition | ParentBuilder): Glue42Workspaces.BoxDefinition {\n        let parentDefinition: Glue42Workspaces.BoxDefinition;\n\n        if (typeof definition === \"undefined\") {\n            parentDefinition = { type, children: [] };\n        } else if (definition instanceof ParentBuilder) {\n            parentDefinition = definition.serialize();\n        } else {\n            if (typeof definition.type === \"undefined\") {\n                definition.type = type;\n            }\n            parentDefinition = strictParentDefinitionDecoder.runWithException(definition);\n            parentDefinition.children = parentDefinition.children || [];\n        }\n\n        return parentDefinition;\n    }\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Workspace } from \"../models/workspace\";\r\nimport { WorkspaceSnapshotResult, WorkspaceCreateConfigProtocol, FrameSummaryResult, AddItemResult, WorkspaceSummariesResult, WorkspaceSummaryResult, SimpleWindowOperationSuccessResult, FrameSnapshotResult, SwimlaneWindowSnapshotConfig, ParentSnapshotConfig } from \"../types/protocol\";\r\nimport { OPERATIONS } from \"../communication/constants\";\r\nimport { FrameCreateConfig, WorkspaceIoCCreateConfig, WindowCreateConfig, ParentCreateConfig } from \"../types/ioc\";\r\nimport { IoC } from \"../shared/ioc\";\r\nimport { Bridge } from \"../communication/bridge\";\r\nimport { GDWindow, WindowsAPI, ContextsAPI, LayoutsAPI } from \"../types/glue\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { Frame } from \"../models/frame\";\r\nimport { RefreshChildrenConfig } from \"../types/privateData\";\r\nimport { Child } from \"../types/builders\";\r\nimport { PrivateDataManager } from \"../shared/privateDataManager\";\r\nimport { Window } from \"../models/window\";\r\nimport { UnsubscribeFunction } from \"callback-registry\";\r\n\r\nexport class BaseController {\r\n\r\n    constructor(\r\n        private readonly ioc: IoC,\r\n        private readonly windows: WindowsAPI,\r\n        private readonly contexts: ContextsAPI,\r\n        private readonly layouts: LayoutsAPI,\r\n    ) { }\r\n\r\n    private get bridge(): Bridge {\r\n        return this.ioc.bridge;\r\n    }\r\n\r\n    private get privateDataManager(): PrivateDataManager {\r\n        return this.ioc.privateDataManager;\r\n    }\r\n\r\n    public checkIsWindowLoaded(windowId: string): boolean {\r\n        return windowId && this.windows.list().some((win) => win.id === windowId);\r\n    }\r\n\r\n    public async createWorkspace(createConfig: WorkspaceCreateConfigProtocol): Promise<Workspace> {\r\n        const snapshot = await this.bridge.send<WorkspaceSnapshotResult>(OPERATIONS.createWorkspace.name, createConfig);\r\n\r\n        const frameConfig: FrameCreateConfig = {\r\n            summary: snapshot.frameSummary\r\n        };\r\n        const frame = this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n        const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n        return this.ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n    }\r\n\r\n    public async restoreWorkspace(name: string, options: Glue42Workspaces.RestoreWorkspaceConfig): Promise<Workspace> {\r\n        const snapshot = await this.bridge.send<WorkspaceSnapshotResult>(OPERATIONS.openWorkspace.name, { name, restoreOptions: options });\r\n\r\n        const frameSummary = await this.bridge.send<FrameSummaryResult>(OPERATIONS.getFrameSummary.name, { itemId: snapshot.config.frameId });\r\n\r\n        const frameConfig: FrameCreateConfig = {\r\n            summary: frameSummary\r\n        };\r\n        const frame = this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n        const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n        return this.ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n    }\r\n\r\n    public async add(type: \"container\" | \"window\", parentId: string, parentType: \"row\" | \"column\" | \"group\" | \"workspace\", definition: Glue42Workspaces.WorkspaceWindowDefinition | Glue42Workspaces.BoxDefinition): Promise<AddItemResult> {\r\n        let operationName: string;\r\n        const operationArgs = { definition, parentId, parentType };\r\n\r\n        if (type === \"window\") {\r\n            operationName = OPERATIONS.addWindow.name;\r\n        } else if (type === \"container\") {\r\n            operationName = OPERATIONS.addContainer.name;\r\n        } else {\r\n            throw new Error(`Unrecognized add type: ${type}`);\r\n        }\r\n\r\n        return await this.bridge.send<AddItemResult>(operationName, operationArgs);\r\n    }\r\n\r\n    public async getFrame(windowId: string): Promise<Frame> {\r\n        const frameSummary = await this.bridge.send<FrameSummaryResult>(OPERATIONS.getFrameSummary.name, { itemId: windowId });\r\n\r\n        const frameConfig: FrameCreateConfig = {\r\n            summary: frameSummary\r\n        };\r\n        return this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n    }\r\n\r\n    public getFrames(allFrameSummaries: FrameSummaryResult[], predicate?: (frame: Frame) => boolean): Frame[] {\r\n\r\n        return allFrameSummaries.reduce<Frame[]>((frames, frameSummary) => {\r\n\r\n            const frameConfig: FrameCreateConfig = {\r\n                summary: frameSummary\r\n            };\r\n            const frameToCheck = this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n            if (!predicate || predicate(frameToCheck)) {\r\n                frames.push(frameToCheck);\r\n            }\r\n\r\n            return frames;\r\n        }, []);\r\n    }\r\n\r\n    public getAllWorkspaceSummaries(...bridgeResults: WorkspaceSummariesResult[]): Glue42Workspaces.WorkspaceSummary[] {\r\n\r\n        const allSummaries = bridgeResults.reduce<WorkspaceSummaryResult[]>((summaries, summaryResult) => {\r\n            summaries.push(...summaryResult.summaries);\r\n            return summaries;\r\n        }, []);\r\n\r\n        return allSummaries.map<Glue42Workspaces.WorkspaceSummary>((summary) => {\r\n            return {\r\n                id: summary.id,\r\n                frameId: summary.config.frameId,\r\n                positionIndex: summary.config.positionIndex,\r\n                title: summary.config.title,\r\n                layoutName: summary.config.layoutName\r\n            };\r\n        });\r\n    }\r\n\r\n    public handleOnSaved(callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): UnsubscribeFunction {\r\n        const wrappedCallback = (layout: Glue42Workspaces.WorkspaceLayout): void => {\r\n            if (layout.type !== \"Workspace\") {\r\n                return;\r\n            }\r\n\r\n            callback(layout);\r\n        };\r\n\r\n        const addedUnSub: UnsubscribeFunction = this.layouts.onAdded(wrappedCallback);\r\n        const changedUnSub: UnsubscribeFunction = this.layouts.onChanged(wrappedCallback);\r\n\r\n        return (): void => {\r\n            addedUnSub();\r\n            changedUnSub();\r\n        };\r\n    }\r\n\r\n    public handleOnRemoved(callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): UnsubscribeFunction {\r\n        const wrappedCallback = (layout: Glue42Workspaces.WorkspaceLayout): void => {\r\n            if (layout.type !== \"Workspace\") {\r\n                return;\r\n            }\r\n\r\n            callback(layout);\r\n        };\r\n\r\n        return this.layouts.onRemoved(wrappedCallback);\r\n    }\r\n\r\n    public async fetchWorkspace(workspaceId: string): Promise<Workspace> {\r\n\r\n        const snapshot = await this.bridge.send<WorkspaceSnapshotResult>(OPERATIONS.getWorkspaceSnapshot.name, { itemId: workspaceId });\r\n\r\n        const frameConfig: FrameCreateConfig = {\r\n            summary: snapshot.frameSummary\r\n        };\r\n\r\n        const frame = this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n        const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n        return this.ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n\r\n    }\r\n\r\n    public async bundleTo(type: \"row\" | \"column\", workspaceId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.bundleWorkspace.name, { type, workspaceId });\r\n    }\r\n\r\n    public getWorkspaceContext(workspaceId: string): Promise<any> {\r\n        const contextName = `___workspace___${workspaceId}`;\r\n        return this.contexts.get(contextName);\r\n    }\r\n\r\n    public setWorkspaceContext(workspaceId: string, data: any): Promise<void> {\r\n        const contextName = `___workspace___${workspaceId}`;\r\n        return this.contexts.set(contextName, data);\r\n    }\r\n\r\n    public updateWorkspaceContext(workspaceId: string, data: any): Promise<void> {\r\n        const contextName = `___workspace___${workspaceId}`;\r\n        return this.contexts.update(contextName, data);\r\n    }\r\n\r\n    public subscribeWorkspaceContextUpdated(workspaceId: string, callback: (data: any) => void): Promise<UnsubscribeFunction> {\r\n        const contextName = `___workspace___${workspaceId}`;\r\n        return this.contexts.subscribe(contextName, callback);\r\n    }\r\n\r\n    public async restoreItem(itemId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.restoreItem.name, { itemId });\r\n    }\r\n\r\n    public async maximizeItem(itemId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.maximizeItem.name, { itemId });\r\n    }\r\n\r\n    public async focusItem(itemId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.focusItem.name, { itemId });\r\n    }\r\n\r\n    public async closeItem(itemId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.closeItem.name, { itemId });\r\n    }\r\n\r\n    public async resizeItem(itemId: string, config: Glue42Workspaces.ResizeConfig): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.resizeItem.name, Object.assign({}, { itemId }, config));\r\n    }\r\n\r\n    public async moveFrame(itemId: string, config: Glue42Workspaces.MoveConfig): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.moveFrame.name, Object.assign({}, { itemId }, config));\r\n    }\r\n\r\n    public getGDWindow(itemId: string): GDWindow {\r\n        return this.windows.list().find((gdWindow) => gdWindow.id === itemId);\r\n    }\r\n\r\n    public async forceLoadWindow(itemId: string): Promise<string> {\r\n        const controlResult = await this.bridge.send<SimpleWindowOperationSuccessResult>(OPERATIONS.forceLoadWindow.name, { itemId });\r\n\r\n        return controlResult.windowId;\r\n    }\r\n\r\n    public async ejectWindow(itemId: string): Promise<SimpleWindowOperationSuccessResult> {\r\n        return await this.bridge.send<SimpleWindowOperationSuccessResult>(OPERATIONS.ejectWindow.name, { itemId });\r\n    }\r\n\r\n    public async moveWindowTo(itemId: string, newParentId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.moveWindowTo.name, { itemId, containerId: newParentId });\r\n    }\r\n\r\n    public async getSnapshot(itemId: string, type: \"workspace\" | \"frame\"): Promise<WorkspaceSnapshotResult | FrameSnapshotResult> {\r\n        let result: WorkspaceSnapshotResult | FrameSnapshotResult;\r\n\r\n        if (type === \"workspace\") {\r\n            result = await this.bridge.send<WorkspaceSnapshotResult>(OPERATIONS.getWorkspaceSnapshot.name, { itemId });\r\n        } else if (type === \"frame\") {\r\n            result = await this.bridge.send<FrameSnapshotResult>(OPERATIONS.getFrameSnapshot.name, { itemId });\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    public async setItemTitle(itemId: string, title: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.setItemTitle.name, { itemId, title });\r\n    }\r\n\r\n    public refreshChildren(config: RefreshChildrenConfig): Child[] {\r\n        const { parent, children, existingChildren, workspace } = config;\r\n        if (parent instanceof Window) {\r\n            return;\r\n        }\r\n\r\n        const newChildren = children.map((newChildSnapshot) => {\r\n            let childToAdd = existingChildren.find((c) => c.id === newChildSnapshot.id);\r\n            const childType = newChildSnapshot.type;\r\n\r\n            if (childToAdd) {\r\n                this.privateDataManager.remapChild(childToAdd, {\r\n                    parent,\r\n                    children: [],\r\n                    config: newChildSnapshot.config\r\n                });\r\n            } else {\r\n                if (childType === \"window\") {\r\n                    const createConfig: WindowCreateConfig = {\r\n                        id: newChildSnapshot.id,\r\n                        parent,\r\n                        frame: workspace.frame,\r\n                        workspace,\r\n                        config: newChildSnapshot.config as SwimlaneWindowSnapshotConfig\r\n                    };\r\n                    childToAdd = this.ioc.getModel<\"child\">(childType, createConfig);\r\n                } else {\r\n                    const createConfig: ParentCreateConfig = {\r\n                        id: newChildSnapshot.id,\r\n                        children: [],\r\n                        parent,\r\n                        frame: workspace.frame,\r\n                        workspace,\r\n                        config: newChildSnapshot.config as ParentSnapshotConfig\r\n                    };\r\n                    childToAdd = this.ioc.getModel<\"child\">(childType, createConfig);\r\n                }\r\n\r\n            }\r\n\r\n            if (childType !== \"window\") {\r\n                this.refreshChildren({\r\n                    workspace, existingChildren,\r\n                    children: newChildSnapshot.children,\r\n                    parent: childToAdd\r\n                });\r\n            }\r\n\r\n            return childToAdd;\r\n        });\r\n\r\n        if (parent instanceof Workspace) {\r\n            return newChildren;\r\n        } else {\r\n            this.privateDataManager.remapChild(parent, { children: newChildren });\r\n            return newChildren;\r\n        }\r\n    }\r\n\r\n    public iterateFindChild(children: Child[], predicate: (child: Child) => boolean): Child {\r\n        let foundChild = children.find((child) => predicate(child));\r\n\r\n        if (foundChild) {\r\n            return foundChild;\r\n        }\r\n\r\n        children.some((child) => {\r\n            if (child instanceof Window) {\r\n                return false;\r\n            }\r\n\r\n            foundChild = this.iterateFindChild(child.children, predicate);\r\n\r\n            if (foundChild) {\r\n                return true;\r\n            }\r\n        });\r\n\r\n        return foundChild;\r\n    }\r\n\r\n    public iterateFilterChildren(children: Child[], predicate: (child: Child) => boolean): Child[] {\r\n        const foundChildren = children.filter((child) => predicate(child));\r\n\r\n        const grandChildren = children.reduce<Child[]>((innerFound, child) => {\r\n            if (child instanceof Window) {\r\n                return innerFound;\r\n            }\r\n\r\n            innerFound.push(...this.iterateFilterChildren(child.children, predicate));\r\n\r\n            return innerFound;\r\n        }, []);\r\n\r\n        foundChildren.push(...grandChildren);\r\n\r\n        return foundChildren;\r\n    }\r\n\r\n    public notifyWindowAdded(windowId: string): Promise<void> {\r\n        return new Promise((resolve) => {\r\n\r\n            const alreadyPresent: boolean = this.windows.list().some((win) => win.id === windowId);\r\n\r\n            if (alreadyPresent) {\r\n                return resolve();\r\n            }\r\n\r\n            const unsubscribe: UnsubscribeFunction = this.windows.onWindowAdded((win) => {\r\n\r\n                if (win.id !== windowId) {\r\n                    return;\r\n                }\r\n\r\n                if (unsubscribe) {\r\n                    unsubscribe();\r\n                }\r\n\r\n                resolve();\r\n            });\r\n        });\r\n    }\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Bridge } from \"../communication/bridge\";\r\nimport { IsWindowInSwimlaneResult, WorkspaceCreateConfigProtocol, WorkspaceSnapshotResult, FrameSummariesResult, WorkspaceSummariesResult, LayoutSummariesResult, ExportedLayoutsResult, FrameSnapshotResult, AddItemResult, WindowStreamData, FrameStateResult } from \"../types/protocol\";\r\nimport { OPERATIONS } from \"../communication/constants\";\r\nimport { SubscriptionConfig, WorkspaceEventType, WorkspaceEventAction } from \"../types/subscription\";\r\nimport { Workspace } from \"../models/workspace\";\r\nimport { Frame } from \"../models/frame\";\r\nimport { Child } from \"../types/builders\";\r\nimport { RefreshChildrenConfig } from \"../types/privateData\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { WorkspacesController } from \"../types/controller\";\r\nimport { GDWindow } from \"../types/glue\";\r\nimport { BaseController } from \"./base\";\r\nimport { UnsubscribeFunction } from \"callback-registry\";\r\n\r\nexport class MainController implements WorkspacesController {\r\n\r\n    constructor(\r\n        private readonly bridge: Bridge,\r\n        private readonly base: BaseController\r\n    ) { }\r\n\r\n    public checkIsWindowLoaded(windowId: string): boolean {\r\n        return this.base.checkIsWindowLoaded(windowId);\r\n    }\r\n\r\n    public async checkIsInSwimlane(windowId: string): Promise<boolean> {\r\n\r\n        const controlResult = await this.bridge.send<IsWindowInSwimlaneResult>(OPERATIONS.isWindowInWorkspace.name, { itemId: windowId });\r\n\r\n        return controlResult.inWorkspace;\r\n    }\r\n\r\n    public async createWorkspace(definition: Glue42Workspaces.WorkspaceDefinition, saveConfig?: Glue42Workspaces.WorkspaceCreateConfig): Promise<Workspace> {\r\n        const createConfig: WorkspaceCreateConfigProtocol = Object.assign({}, definition, { saveConfig });\r\n\r\n        return await this.base.createWorkspace(createConfig);\r\n    }\r\n\r\n    public async restoreWorkspace(name: string, options?: Glue42Workspaces.RestoreWorkspaceConfig): Promise<Workspace> {\r\n        const allLayouts = await this.getLayoutSummaries();\r\n\r\n        const layoutExists = allLayouts.some((summary) => summary.name === name);\r\n\r\n        if (!layoutExists) {\r\n            throw new Error(`This layout: ${name} cannot be restored, because it doesn't exist.`);\r\n        }\r\n\r\n        if (options?.frameId) {\r\n            const allFrameSummaries = await this.bridge.send<FrameSummariesResult>(OPERATIONS.getAllFramesSummaries.name);\r\n\r\n            const foundMatchingFrame = allFrameSummaries.summaries.some((summary) => summary.id === options.frameId);\r\n\r\n            if (!foundMatchingFrame) {\r\n                throw new Error(`Cannot reuse the frame with id: ${options.frameId}, because there is no frame with that ID found`);\r\n            }\r\n        }\r\n\r\n        return await this.base.restoreWorkspace(name, options);\r\n    }\r\n\r\n    public async add(type: \"container\" | \"window\", parentId: string, parentType: \"row\" | \"column\" | \"group\" | \"workspace\", definition: Glue42Workspaces.WorkspaceWindowDefinition | Glue42Workspaces.BoxDefinition): Promise<AddItemResult> {\r\n        return await this.base.add(type, parentId, parentType, definition);\r\n    }\r\n\r\n    public processLocalSubscription(config: SubscriptionConfig, levelId: string): Promise<Glue42Workspaces.Unsubscribe> {\r\n        return window.glue42gd ?\r\n            this.handleEnterpriseLocalSubscription(config, levelId) :\r\n            this.handleCoreLocalSubscription(config, levelId);\r\n    }\r\n\r\n    public processGlobalSubscription(callback: (callbackData: unknown) => void, eventType: WorkspaceEventType, action: WorkspaceEventAction): Promise<Glue42Workspaces.Unsubscribe> {\r\n        return window.glue42gd ?\r\n            this.handleEnterpriseGlobalSubscription(callback, eventType, action) :\r\n            this.handleCoreGlobalSubscription(callback, eventType, action);\r\n    }\r\n\r\n    public async getFrame(selector: { windowId?: string; predicate?: (frame: Frame) => boolean }): Promise<Frame> {\r\n\r\n        if (selector.windowId) {\r\n            return await this.base.getFrame(selector.windowId);\r\n        }\r\n\r\n        if (selector.predicate) {\r\n            return (await this.getFrames(selector.predicate))[0];\r\n        }\r\n\r\n        throw new Error(`The provided selector is not valid: ${JSON.stringify(selector)}`);\r\n    }\r\n\r\n    public async getFrames(predicate?: (frame: Frame) => boolean): Promise<Frame[]> {\r\n\r\n        const allFrameSummaries = await this.bridge.send<FrameSummariesResult>(OPERATIONS.getAllFramesSummaries.name);\r\n\r\n        return this.base.getFrames(allFrameSummaries.summaries, predicate);\r\n    }\r\n\r\n    public async getWorkspace(predicate: (workspace: Workspace) => boolean): Promise<Workspace> {\r\n        let foundWorkspace: Workspace;\r\n\r\n        await this.iterateWorkspaces((wsp, end) => {\r\n            if (predicate(wsp)) {\r\n                foundWorkspace = wsp;\r\n                end();\r\n            }\r\n        });\r\n\r\n        return foundWorkspace;\r\n    }\r\n\r\n    public async getWorkspaces(predicate?: (workspace: Workspace) => boolean): Promise<Workspace[]> {\r\n        const matchingWorkspaces: Workspace[] = [] as Workspace[];\r\n\r\n        await this.iterateWorkspaces((wsp) => {\r\n            if (!predicate || predicate(wsp)) {\r\n                matchingWorkspaces.push(wsp);\r\n            }\r\n        });\r\n\r\n        return matchingWorkspaces;\r\n    }\r\n\r\n    public async getAllWorkspaceSummaries(): Promise<Glue42Workspaces.WorkspaceSummary[]> {\r\n\r\n        const allSummariesResult = await this.bridge.send<WorkspaceSummariesResult>(OPERATIONS.getAllWorkspacesSummaries.name, {});\r\n\r\n        return this.base.getAllWorkspaceSummaries(allSummariesResult);\r\n    }\r\n\r\n    public async getWindow(predicate: (swimlaneWindow: Glue42Workspaces.WorkspaceWindow) => boolean): Promise<Glue42Workspaces.WorkspaceWindow> {\r\n        let resultWindow: Glue42Workspaces.WorkspaceWindow;\r\n\r\n        await this.iterateWorkspaces((wsp, end) => {\r\n            const foundWindow = wsp.getWindow(predicate);\r\n\r\n            if (foundWindow) {\r\n                resultWindow = foundWindow;\r\n                end();\r\n            }\r\n        });\r\n\r\n        return resultWindow;\r\n    }\r\n\r\n    public async getParent(predicate: (parent: Glue42Workspaces.WorkspaceBox) => boolean): Promise<Glue42Workspaces.WorkspaceBox> {\r\n        let resultParent: Glue42Workspaces.WorkspaceBox;\r\n\r\n        await this.iterateWorkspaces((wsp, end) => {\r\n\r\n            const foundParent = wsp.getBox(predicate);\r\n\r\n            if (foundParent) {\r\n                resultParent = foundParent;\r\n                end();\r\n            }\r\n        });\r\n\r\n        return resultParent;\r\n    }\r\n\r\n    public async getLayoutSummaries(): Promise<Glue42Workspaces.WorkspaceLayoutSummary[]> {\r\n        const allLayouts = await this.bridge.send<LayoutSummariesResult>(OPERATIONS.getAllLayoutsSummaries.name);\r\n        return allLayouts.summaries;\r\n    }\r\n\r\n    public async deleteLayout(name: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.deleteLayout.name, { name });\r\n    }\r\n\r\n    public async exportLayout(predicate?: (layout: Glue42Workspaces.WorkspaceLayout) => boolean): Promise<Glue42Workspaces.WorkspaceLayout[]> {\r\n        const allLayoutsResult = await this.bridge.send<ExportedLayoutsResult>(OPERATIONS.exportAllLayouts.name);\r\n        return allLayoutsResult.layouts.reduce<Glue42Workspaces.WorkspaceLayout[]>((matchingLayouts, layout) => {\r\n\r\n            if (!predicate || predicate(layout)) {\r\n                matchingLayouts.push(layout);\r\n            }\r\n\r\n            return matchingLayouts;\r\n        }, []);\r\n    }\r\n\r\n    public async saveLayout(config: Glue42Workspaces.WorkspaceLayoutSaveConfig): Promise<Glue42Workspaces.WorkspaceLayout> {\r\n        return await this.bridge.send(OPERATIONS.saveLayout.name, config);\r\n    }\r\n\r\n    public async importLayout(layouts: Glue42Workspaces.WorkspaceLayout[]): Promise<void> {\r\n        await Promise.all(layouts.map((layout) => this.bridge.send(OPERATIONS.importLayout.name, layout)));\r\n    }\r\n\r\n    public handleOnSaved(callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): UnsubscribeFunction {\r\n        return this.base.handleOnSaved(callback);\r\n    }\r\n\r\n    public handleOnRemoved(callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): UnsubscribeFunction {\r\n        return this.base.handleOnRemoved(callback);\r\n    }\r\n\r\n    public async bundleTo(type: \"row\" | \"column\", workspaceId: string): Promise<void> {\r\n        return await this.base.bundleTo(type, workspaceId);\r\n    }\r\n\r\n    public getWorkspaceContext(workspaceId: string): Promise<any> {\r\n        return this.base.getWorkspaceContext(workspaceId);\r\n    }\r\n\r\n    public setWorkspaceContext(workspaceId: string, data: any): Promise<void> {\r\n        return this.base.setWorkspaceContext(workspaceId, data);\r\n    }\r\n\r\n    public updateWorkspaceContext(workspaceId: string, data: any): Promise<void> {\r\n        return this.base.updateWorkspaceContext(workspaceId, data);\r\n    }\r\n\r\n    public subscribeWorkspaceContextUpdated(workspaceId: string, callback: (data: any) => void): Promise<import(\"callback-registry\").UnsubscribeFunction> {\r\n        return this.base.subscribeWorkspaceContextUpdated(workspaceId, callback);\r\n    }\r\n\r\n    public async restoreItem(itemId: string): Promise<void> {\r\n        return await this.base.restoreItem(itemId);\r\n    }\r\n\r\n    public async maximizeItem(itemId: string): Promise<void> {\r\n        return await this.base.maximizeItem(itemId);\r\n    }\r\n\r\n    public async focusItem(itemId: string): Promise<void> {\r\n        return await this.base.focusItem(itemId);\r\n    }\r\n\r\n    public async changeFrameState(frameId: string, state: Glue42Workspaces.FrameState): Promise<void> {\r\n        await this.bridge.send<void>(OPERATIONS.changeFrameState.name, { frameId, requestedState: state });\r\n    }\r\n\r\n    public async getFrameState(frameId: string): Promise<Glue42Workspaces.FrameState> {\r\n        const frameResult = await this.bridge.send<FrameStateResult>(OPERATIONS.getFrameState.name, { itemId: frameId });\r\n        return frameResult.state;\r\n    }\r\n\r\n    public async closeItem(itemId: string): Promise<void> {\r\n        return await this.base.closeItem(itemId);\r\n    }\r\n\r\n    public async resizeItem(itemId: string, config: Glue42Workspaces.ResizeConfig): Promise<void> {\r\n        return await this.base.resizeItem(itemId, config);\r\n    }\r\n\r\n    public async moveFrame(itemId: string, config: Glue42Workspaces.MoveConfig): Promise<void> {\r\n        return await this.base.moveFrame(itemId, config);\r\n    }\r\n\r\n    public getGDWindow(itemId: string): GDWindow {\r\n        return this.base.getGDWindow(itemId);\r\n    }\r\n\r\n    public async forceLoadWindow(itemId: string): Promise<string> {\r\n        const windowId = await this.base.forceLoadWindow(itemId);\r\n\r\n        await this.base.notifyWindowAdded(windowId);\r\n\r\n        return windowId;\r\n    }\r\n\r\n    public async ejectWindow(itemId: string): Promise<string> {\r\n        const windowId: string = (await this.base.ejectWindow(itemId)).windowId;\r\n\r\n        await this.base.notifyWindowAdded(windowId);\r\n\r\n        return windowId;\r\n    }\r\n\r\n    public async moveWindowTo(itemId: string, newParentId: string): Promise<void> {\r\n        return await this.base.moveWindowTo(itemId, newParentId);\r\n    }\r\n\r\n    public async getSnapshot(itemId: string, type: \"workspace\" | \"frame\"): Promise<WorkspaceSnapshotResult | FrameSnapshotResult> {\r\n        return await this.base.getSnapshot(itemId, type);\r\n    }\r\n\r\n    public async setItemTitle(itemId: string, title: string): Promise<void> {\r\n        return await this.base.setItemTitle(itemId, title);\r\n    }\r\n\r\n    public refreshChildren(config: RefreshChildrenConfig): Child[] {\r\n        return this.base.refreshChildren(config);\r\n    }\r\n\r\n    public iterateFindChild(children: Child[], predicate: (child: Child) => boolean): Child {\r\n        return this.base.iterateFindChild(children, predicate);\r\n    }\r\n\r\n    public iterateFilterChildren(children: Child[], predicate: (child: Child) => boolean): Child[] {\r\n        return this.base.iterateFilterChildren(children, predicate);\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    private async handleCoreLocalSubscription(config: SubscriptionConfig, levelId: string): Promise<Glue42Workspaces.Unsubscribe> {\r\n        // todo\r\n        // await this.bridge.createCoreEventMethod();\r\n\r\n        // config.scopeId = config.scopeId || levelId;\r\n\r\n        // if (config.eventType === \"window\" && config.action === \"loaded\") {\r\n        //     const originalCB = config.callback;\r\n\r\n        //     const wrappedCB = async (callbackData: WindowStreamData): Promise<void> => {\r\n\r\n        //         await this.base.notifyWindowAdded(callbackData.windowSummary.config.windowId);\r\n\r\n        //         originalCB(callbackData);\r\n        //     };\r\n\r\n        //     config.callback = wrappedCB;\r\n        // }\r\n\r\n        // return this.bridge.handleCoreSubscription(config);\r\n        return {} as Glue42Workspaces.Unsubscribe;\r\n    }\r\n\r\n    private handleEnterpriseLocalSubscription(config: SubscriptionConfig, levelId: string): Promise<Glue42Workspaces.Unsubscribe> {\r\n        config.scopeId = config.scopeId || levelId;\r\n\r\n        if (config.eventType === \"window\" && config.action === \"loaded\") {\r\n            const originalCB = config.callback;\r\n\r\n            const wrappedCB = async (callbackData: WindowStreamData): Promise<void> => {\r\n                await this.base.notifyWindowAdded(callbackData.windowSummary.config.windowId);\r\n                originalCB(callbackData);\r\n            };\r\n\r\n            config.callback = wrappedCB;\r\n        }\r\n\r\n        return this.bridge.subscribe(config);\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    private async handleCoreGlobalSubscription(callback: (callbackData: unknown) => void, eventType: WorkspaceEventType, action: WorkspaceEventAction): Promise<Glue42Workspaces.Unsubscribe> {\r\n        // await this.bridge.createCoreEventMethod();\r\n\r\n        // const config: SubscriptionConfig = {\r\n        //     eventType, callback, action,\r\n        //     scope: \"global\",\r\n        // };\r\n\r\n        // if (eventType === \"window\" && action === \"loaded\") {\r\n        //     const wrappedCB = async (callbackData: WindowStreamData): Promise<void> => {\r\n\r\n        //         await this.base.notifyWindowAdded(callbackData.windowSummary.config.windowId);\r\n\r\n        //         callback(callbackData);\r\n        //     };\r\n\r\n        //     config.callback = wrappedCB;\r\n        // }\r\n\r\n        // return this.bridge.handleCoreSubscription(config);\r\n        return {} as Glue42Workspaces.Unsubscribe;\r\n    }\r\n\r\n    private handleEnterpriseGlobalSubscription(callback: (callbackData: unknown) => void, eventType: WorkspaceEventType, action: WorkspaceEventAction): Promise<Glue42Workspaces.Unsubscribe> {\r\n        const config: SubscriptionConfig = {\r\n            eventType, callback, action,\r\n            scope: \"global\",\r\n        };\r\n\r\n        if (eventType === \"window\" && action === \"loaded\") {\r\n            const wrappedCB = async (callbackData: WindowStreamData): Promise<void> => {\r\n\r\n                await this.base.notifyWindowAdded(callbackData.windowSummary.config.windowId);\r\n\r\n                callback(callbackData);\r\n            };\r\n\r\n            config.callback = wrappedCB;\r\n        }\r\n\r\n        return this.bridge.subscribe(config);\r\n    }\r\n\r\n    private async iterateWorkspaces(callback: (workspace: Workspace, end: () => void) => void): Promise<void> {\r\n        let ended = false;\r\n\r\n        const end = (): void => { ended = true; };\r\n\r\n        const workspaceSummaries = await this.getAllWorkspaceSummaries();\r\n\r\n        for (const summary of workspaceSummaries) {\r\n            if (ended) {\r\n                return;\r\n            }\r\n\r\n            const wsp = await this.base.fetchWorkspace(summary.id);\r\n\r\n            callback(wsp, end);\r\n        }\r\n    }\r\n}\r\n","import { WebWindowModel } from \"../windows/webWindow\";\r\nimport { LibController, LibDomains } from \"./types\";\r\nimport { WindowsController } from \"../windows/controller\";\r\nimport { Glue42Core } from \"@glue42/core\";\r\nimport { GlueBridge } from \"../communication/bridge\";\r\nimport { AppManagerController } from \"../appManager/controller\";\r\nimport { WindowProjection } from \"../windows/protocol\";\r\nimport { ApplicationData, InstanceData } from \"../appManager/protocol\";\r\nimport { Glue42Web } from \"../../web\";\r\nimport { InstanceModel } from \"../appManager/instance\";\r\nimport { ApplicationModel } from \"../appManager/application\";\r\nimport { LayoutsController } from \"../layouts/controller\";\r\n\r\n\r\nexport class IoC {\r\n    private _windowsControllerInstance!: WindowsController;\r\n    private _appManagerControllerInstance!: AppManagerController;\r\n    private _layoutsControllerInstance!: LayoutsController;\r\n    private _bridgeInstance!: GlueBridge;\r\n\r\n    public controllers: { [key in LibDomains]: LibController } = {\r\n        windows: this.windowsController,\r\n        appManager: this.appManagerController,\r\n        layouts: this.layoutsController\r\n    }\r\n\r\n    constructor(private readonly coreGlue: Glue42Core.GlueCore) { }\r\n\r\n    public get windowsController(): WindowsController {\r\n        if (!this._windowsControllerInstance) {\r\n            this._windowsControllerInstance = new WindowsController();\r\n        }\r\n\r\n        return this._windowsControllerInstance;\r\n    }\r\n\r\n    public get appManagerController(): AppManagerController {\r\n        if (!this._appManagerControllerInstance) {\r\n            this._appManagerControllerInstance = new AppManagerController();\r\n        }\r\n\r\n        return this._appManagerControllerInstance;\r\n    }\r\n\r\n    public get layoutsController(): LayoutsController {\r\n        if (!this._layoutsControllerInstance) {\r\n            this._layoutsControllerInstance = new LayoutsController();\r\n        }\r\n\r\n        return this._layoutsControllerInstance;\r\n    }\r\n\r\n    public get bridge(): GlueBridge {\r\n        if (!this._bridgeInstance) {\r\n            this._bridgeInstance = new GlueBridge(this.coreGlue);\r\n        }\r\n\r\n        return this._bridgeInstance;\r\n    }\r\n\r\n    public async buildWebWindow(id: string, name: string): Promise<WindowProjection> {\r\n\r\n        const model = new WebWindowModel(id, name, this.bridge);\r\n\r\n        const api = await model.toApi();\r\n\r\n        return { id, model, api };\r\n    }\r\n\r\n    public async buildApplication(app: ApplicationData): Promise<Glue42Web.AppManager.Application> {\r\n\r\n        const application = (new ApplicationModel(app, [], this.appManagerController)).toApi();\r\n\r\n        const instances = app.instances.map((instanceData) => this.buildInstance(instanceData, application));\r\n\r\n        application.instances.push(...instances);\r\n\r\n        return application;\r\n    }\r\n\r\n    public buildInstance(instanceData: InstanceData, app: Glue42Web.AppManager.Application): Glue42Web.AppManager.Instance {\r\n        return (new InstanceModel(instanceData, this.bridge, app)).toApi();\r\n    }\r\n}","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { IoC } from \"./shared/ioc\";\nimport { checkThrowCallback, nonEmptyStringDecoder, workspaceLayoutDecoder, workspaceDefinitionDecoder, workspaceBuilderCreateConfigDecoder, builderConfigDecoder, restoreWorkspaceConfigDecoder, workspaceLayoutSaveConfigDecoder } from \"./shared/decoders\";\nimport { FrameStreamData, WorkspaceStreamData, WorkspaceSnapshotResult, WindowStreamData } from \"./types/protocol\";\nimport { FrameCreateConfig, WorkspaceIoCCreateConfig } from \"./types/ioc\";\nimport { Glue42Workspaces } from \"./../workspaces\";\nimport { WorkspacesController } from \"./types/controller\";\n\nexport const composeAPI = (glue: any, ioc: IoC): Glue42Workspaces.API => {\n\n    const controller: WorkspacesController = ioc.controller;\n\n    const inWorkspace = (): Promise<boolean> => {\n        const myId: string = glue.windows.my().id;\n\n        if (!myId) {\n            throw new Error(\"Cannot get my frame, because my id is undefined.\");\n        }\n\n        return controller.checkIsInSwimlane(myId);\n    };\n\n    const getBuilder = (config: Glue42Workspaces.BuilderConfig): Glue42Workspaces.WorkspaceBuilder | Glue42Workspaces.BoxBuilder => {\n        const validatedConfig = builderConfigDecoder.runWithException(config);\n\n        return ioc.getBuilder(validatedConfig);\n    };\n\n    const getMyFrame = async (): Promise<Glue42Workspaces.Frame> => {\n        const windowId: string = glue.windows.my().id;\n\n        if (!windowId) {\n            throw new Error(\"Cannot get my frame, because my id is undefined.\");\n        }\n\n        const isInSwimlane = await controller.checkIsInSwimlane(windowId);\n\n        if (!isInSwimlane) {\n            throw new Error(\"Cannot fetch your frame, because this window is not in a workspace\");\n        }\n\n        return controller.getFrame({ windowId });\n    };\n\n    const getFrame = async (predicate: (frame: Glue42Workspaces.Frame) => boolean): Promise<Glue42Workspaces.Frame> => {\n        checkThrowCallback(predicate);\n\n        return controller.getFrame({ predicate });\n    };\n\n    const getAllFrames = async (predicate?: (frame: Glue42Workspaces.Frame) => boolean): Promise<Glue42Workspaces.Frame[]> => {\n        checkThrowCallback(predicate, true);\n\n        return controller.getFrames(predicate);\n    };\n\n    const getAllWorkspacesSummaries = (): Promise<Glue42Workspaces.WorkspaceSummary[]> => {\n        return controller.getAllWorkspaceSummaries();\n    };\n\n    const getMyWorkspace = async (): Promise<Glue42Workspaces.Workspace> => {\n        const myId: string = glue.windows.my().id;\n\n        if (!myId) {\n            throw new Error(\"Cannot get my workspace, because my id is undefined.\");\n        }\n\n        const isInSwimlane = await controller.checkIsInSwimlane(myId);\n\n        if (!isInSwimlane) {\n            throw new Error(\"Cannot fetch your workspace, because this window is not in a workspace\");\n        }\n\n        return (await controller.getWorkspaces((wsp) => !!wsp.getWindow((w) => w.id === myId)))[0];\n    };\n\n    const getWorkspace = async (predicate: (workspace: Glue42Workspaces.Workspace) => boolean): Promise<Glue42Workspaces.Workspace> => {\n        checkThrowCallback(predicate);\n        return (await controller.getWorkspaces(predicate))[0];\n    };\n\n    const getAllWorkspaces = (predicate?: (workspace: Glue42Workspaces.Workspace) => boolean): Promise<Glue42Workspaces.Workspace[]> => {\n        checkThrowCallback(predicate, true);\n        return controller.getWorkspaces(predicate);\n    };\n\n    const getWindow = async (predicate: (swimlaneWindow: Glue42Workspaces.WorkspaceWindow) => boolean): Promise<Glue42Workspaces.WorkspaceWindow> => {\n        checkThrowCallback(predicate);\n        return controller.getWindow(predicate);\n    };\n\n    const getParent = async (predicate: (parent: Glue42Workspaces.WorkspaceBox) => boolean): Promise<Glue42Workspaces.WorkspaceBox> => {\n        checkThrowCallback(predicate);\n        return controller.getParent(predicate);\n    };\n\n    const restoreWorkspace = async (name: string, options?: Glue42Workspaces.RestoreWorkspaceConfig): Promise<Glue42Workspaces.Workspace> => {\n        nonEmptyStringDecoder.runWithException(name);\n        const validatedOptions = restoreWorkspaceConfigDecoder.runWithException(options);\n        return controller.restoreWorkspace(name, validatedOptions);\n    };\n\n    const createWorkspace = async (definition: Glue42Workspaces.WorkspaceDefinition, saveConfig?: Glue42Workspaces.WorkspaceCreateConfig): Promise<Glue42Workspaces.Workspace> => {\n        const validatedDefinition = workspaceDefinitionDecoder.runWithException(definition);\n        const validatedConfig = workspaceBuilderCreateConfigDecoder.runWithException(saveConfig);\n\n        return controller.createWorkspace(validatedDefinition, validatedConfig);\n    };\n\n    const layouts = {\n        getSummaries: (): Promise<Glue42Workspaces.WorkspaceLayoutSummary[]> => {\n            return controller.getLayoutSummaries();\n        },\n        delete: async (name: string): Promise<void> => {\n            nonEmptyStringDecoder.runWithException(name);\n            return controller.deleteLayout(name);\n        },\n        export: async (predicate?: (layout: Glue42Workspaces.WorkspaceLayout) => boolean): Promise<Glue42Workspaces.WorkspaceLayout[]> => {\n            checkThrowCallback(predicate, true);\n            return controller.exportLayout(predicate);\n        },\n        import: async (layouts: Glue42Workspaces.WorkspaceLayout[]): Promise<void> => {\n\n            if (!Array.isArray(layouts)) {\n                throw new Error(`The provided layouts argument is not an array: ${JSON.stringify(layouts)}`);\n            }\n\n            layouts.forEach((layout) => workspaceLayoutDecoder.runWithException(layout));\n            return controller.importLayout(layouts);\n        },\n        save: async (config: Glue42Workspaces.WorkspaceLayoutSaveConfig): Promise<Glue42Workspaces.WorkspaceLayout> => {\n            const verifiedConfig = workspaceLayoutSaveConfigDecoder.runWithException(config);\n            return controller.saveLayout(verifiedConfig);\n        },\n        onSaved: async (callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): Promise<Glue42Workspaces.Unsubscribe> => {\n            checkThrowCallback(callback);\n\n            return controller.handleOnSaved(callback);\n        },\n        onRemoved: async (callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): Promise<Glue42Workspaces.Unsubscribe> => {\n            checkThrowCallback(callback);\n\n            return controller.handleOnRemoved(callback);\n        }\n    };\n\n    const onFrameOpened = async (callback: (frame: Glue42Workspaces.Frame) => void): Promise<Glue42Workspaces.Unsubscribe> => {\n        checkThrowCallback(callback);\n\n        const wrappedCallback = (payload: FrameStreamData): void => {\n            const frameConfig: FrameCreateConfig = {\n                summary: payload.frameSummary\n            };\n            const frame = ioc.getModel<\"frame\">(\"frame\", frameConfig);\n            callback(frame);\n        };\n\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"frame\", \"opened\");\n        return unsubscribe;\n    };\n\n    const onFrameClosed = async (callback: (closed: { frameId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> => {\n        checkThrowCallback(callback);\n        const wrappedCallback = (payload: FrameStreamData): void => {\n            callback({ frameId: payload.frameSummary.id });\n        };\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"frame\", \"closed\");\n        return unsubscribe;\n    };\n\n    const onWorkspaceOpened = async (callback: (workspace: Glue42Workspaces.Workspace) => void): Promise<Glue42Workspaces.Unsubscribe> => {\n\n        checkThrowCallback(callback);\n        const wrappedCallback = async (payload: WorkspaceStreamData): Promise<void> => {\n            const frameConfig: FrameCreateConfig = {\n                summary: payload.frameSummary\n            };\n            const frame = ioc.getModel<\"frame\">(\"frame\", frameConfig);\n\n            const snapshot = (await controller.getSnapshot(payload.workspaceSummary.id, \"workspace\")) as WorkspaceSnapshotResult;\n\n            const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\n\n            const workspace = ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\n\n            callback(workspace);\n        };\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"workspace\", \"opened\");\n        return unsubscribe;\n    };\n\n    const onWorkspaceClosed = async (callback: (closed: { frameId: string; workspaceId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> => {\n        checkThrowCallback(callback);\n\n        const wrappedCallback = (payload: WorkspaceStreamData): void => {\n            callback({ frameId: payload.frameSummary.id, workspaceId: payload.workspaceSummary.id });\n        };\n\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"workspace\", \"closed\");\n        return unsubscribe;\n    };\n\n    const onWindowAdded = async (callback: (swimlaneWindow: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> => {\n        checkThrowCallback(callback);\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\n            const snapshot = (await controller.getSnapshot(payload.windowSummary.config.workspaceId, \"workspace\")) as WorkspaceSnapshotResult;\n\n            const frameConfig: FrameCreateConfig = {\n                summary: snapshot.frameSummary\n            };\n            const frame = ioc.getModel<\"frame\">(\"frame\", frameConfig);\n\n            const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\n\n            const workspace = ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\n\n            const windowParent = workspace.getBox((parent) => parent.id === payload.windowSummary.parentId);\n            const foundWindow = windowParent.children.find((child) => child.type === \"window\" && child.positionIndex === payload.windowSummary.config.positionIndex);\n\n            callback(foundWindow as Glue42Workspaces.WorkspaceWindow);\n        };\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"window\", \"added\");\n        return unsubscribe;\n    };\n\n    const onWindowLoaded = async (callback: (swimlaneWindow: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> => {\n        checkThrowCallback(callback);\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\n            const snapshot = (await controller.getSnapshot(payload.windowSummary.config.workspaceId, \"workspace\")) as WorkspaceSnapshotResult;\n\n            const frameConfig: FrameCreateConfig = {\n                summary: snapshot.frameSummary\n            };\n            const frame = ioc.getModel<\"frame\">(\"frame\", frameConfig);\n\n            const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\n\n            const workspace = ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\n\n            const foundWindow = workspace.getWindow((win) => win.id && win.id === payload.windowSummary.config.windowId);\n\n            callback(foundWindow);\n        };\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"window\", \"loaded\");\n        return unsubscribe;\n    };\n\n    const onWindowRemoved = async (callback: (removed: { windowId: string; workspaceId: string; frameId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> => {\n        checkThrowCallback(callback);\n        const wrappedCallback = (payload: WindowStreamData): void => {\n            const { windowId, workspaceId, frameId } = payload.windowSummary.config;\n            callback({ windowId, workspaceId, frameId });\n        };\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"window\", \"removed\");\n        return unsubscribe;\n    };\n\n    return {\n        inWorkspace,\n        getBuilder,\n        getMyFrame,\n        getFrame,\n        getAllFrames,\n        getAllWorkspacesSummaries,\n        getMyWorkspace,\n        getWorkspace,\n        getAllWorkspaces,\n        getWindow,\n        getBox: getParent,\n        restoreWorkspace,\n        createWorkspace,\n        layouts,\n        onFrameOpened,\n        onFrameClosed,\n        onWorkspaceOpened,\n        onWorkspaceClosed,\n        onWindowAdded,\n        onWindowLoaded,\n        onWindowRemoved,\n    };\n};\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\n\r\nimport { createFactoryFunction } from \"./web\";\r\nimport createGlueCore from \"@glue42/core\";\r\nimport { version } from \"../package.json\";\r\n\r\nconst glueWebFactory = createFactoryFunction(createGlueCore);\r\n\r\n// attach to window object\r\nif (typeof window !== \"undefined\") {\r\n    const windowAny = window as any;\r\n    windowAny.GlueWeb = glueWebFactory;\r\n    delete windowAny.GlueCore;\r\n}\r\n\r\n(glueWebFactory as any).version = version;\r\n\r\nexport default glueWebFactory;\r\n","/**\r\n * A collection of shims that provide minimal functionality of the ES6 collections.\r\n *\r\n * These implementations are not meant to be used outside of the ResizeObserver\r\n * modules as they cover only a limited range of use cases.\r\n */\r\n/* eslint-disable require-jsdoc, valid-jsdoc */\r\nvar MapShim = (function () {\r\n    if (typeof Map !== 'undefined') {\r\n        return Map;\r\n    }\r\n    /**\r\n     * Returns index in provided array that matches the specified key.\r\n     *\r\n     * @param {Array<Array>} arr\r\n     * @param {*} key\r\n     * @returns {number}\r\n     */\r\n    function getIndex(arr, key) {\r\n        var result = -1;\r\n        arr.some(function (entry, index) {\r\n            if (entry[0] === key) {\r\n                result = index;\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n        return result;\r\n    }\r\n    return /** @class */ (function () {\r\n        function class_1() {\r\n            this.__entries__ = [];\r\n        }\r\n        Object.defineProperty(class_1.prototype, \"size\", {\r\n            /**\r\n             * @returns {boolean}\r\n             */\r\n            get: function () {\r\n                return this.__entries__.length;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        /**\r\n         * @param {*} key\r\n         * @returns {*}\r\n         */\r\n        class_1.prototype.get = function (key) {\r\n            var index = getIndex(this.__entries__, key);\r\n            var entry = this.__entries__[index];\r\n            return entry && entry[1];\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @param {*} value\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.set = function (key, value) {\r\n            var index = getIndex(this.__entries__, key);\r\n            if (~index) {\r\n                this.__entries__[index][1] = value;\r\n            }\r\n            else {\r\n                this.__entries__.push([key, value]);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.delete = function (key) {\r\n            var entries = this.__entries__;\r\n            var index = getIndex(entries, key);\r\n            if (~index) {\r\n                entries.splice(index, 1);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.has = function (key) {\r\n            return !!~getIndex(this.__entries__, key);\r\n        };\r\n        /**\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.clear = function () {\r\n            this.__entries__.splice(0);\r\n        };\r\n        /**\r\n         * @param {Function} callback\r\n         * @param {*} [ctx=null]\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.forEach = function (callback, ctx) {\r\n            if (ctx === void 0) { ctx = null; }\r\n            for (var _i = 0, _a = this.__entries__; _i < _a.length; _i++) {\r\n                var entry = _a[_i];\r\n                callback.call(ctx, entry[1], entry[0]);\r\n            }\r\n        };\r\n        return class_1;\r\n    }());\r\n})();\n\n/**\r\n * Detects whether window and document objects are available in current environment.\r\n */\r\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && window.document === document;\n\n// Returns global object of a current environment.\r\nvar global$1 = (function () {\r\n    if (typeof global !== 'undefined' && global.Math === Math) {\r\n        return global;\r\n    }\r\n    if (typeof self !== 'undefined' && self.Math === Math) {\r\n        return self;\r\n    }\r\n    if (typeof window !== 'undefined' && window.Math === Math) {\r\n        return window;\r\n    }\r\n    // eslint-disable-next-line no-new-func\r\n    return Function('return this')();\r\n})();\n\n/**\r\n * A shim for the requestAnimationFrame which falls back to the setTimeout if\r\n * first one is not supported.\r\n *\r\n * @returns {number} Requests' identifier.\r\n */\r\nvar requestAnimationFrame$1 = (function () {\r\n    if (typeof requestAnimationFrame === 'function') {\r\n        // It's required to use a bounded function because IE sometimes throws\r\n        // an \"Invalid calling object\" error if rAF is invoked without the global\r\n        // object on the left hand side.\r\n        return requestAnimationFrame.bind(global$1);\r\n    }\r\n    return function (callback) { return setTimeout(function () { return callback(Date.now()); }, 1000 / 60); };\r\n})();\n\n// Defines minimum timeout before adding a trailing call.\r\nvar trailingTimeout = 2;\r\n/**\r\n * Creates a wrapper function which ensures that provided callback will be\r\n * invoked only once during the specified delay period.\r\n *\r\n * @param {Function} callback - Function to be invoked after the delay period.\r\n * @param {number} delay - Delay after which to invoke callback.\r\n * @returns {Function}\r\n */\r\nfunction throttle (callback, delay) {\r\n    var leadingCall = false, trailingCall = false, lastCallTime = 0;\r\n    /**\r\n     * Invokes the original callback function and schedules new invocation if\r\n     * the \"proxy\" was called during current request.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function resolvePending() {\r\n        if (leadingCall) {\r\n            leadingCall = false;\r\n            callback();\r\n        }\r\n        if (trailingCall) {\r\n            proxy();\r\n        }\r\n    }\r\n    /**\r\n     * Callback invoked after the specified delay. It will further postpone\r\n     * invocation of the original function delegating it to the\r\n     * requestAnimationFrame.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function timeoutCallback() {\r\n        requestAnimationFrame$1(resolvePending);\r\n    }\r\n    /**\r\n     * Schedules invocation of the original function.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function proxy() {\r\n        var timeStamp = Date.now();\r\n        if (leadingCall) {\r\n            // Reject immediately following calls.\r\n            if (timeStamp - lastCallTime < trailingTimeout) {\r\n                return;\r\n            }\r\n            // Schedule new call to be in invoked when the pending one is resolved.\r\n            // This is important for \"transitions\" which never actually start\r\n            // immediately so there is a chance that we might miss one if change\r\n            // happens amids the pending invocation.\r\n            trailingCall = true;\r\n        }\r\n        else {\r\n            leadingCall = true;\r\n            trailingCall = false;\r\n            setTimeout(timeoutCallback, delay);\r\n        }\r\n        lastCallTime = timeStamp;\r\n    }\r\n    return proxy;\r\n}\n\n// Minimum delay before invoking the update of observers.\r\nvar REFRESH_DELAY = 20;\r\n// A list of substrings of CSS properties used to find transition events that\r\n// might affect dimensions of observed elements.\r\nvar transitionKeys = ['top', 'right', 'bottom', 'left', 'width', 'height', 'size', 'weight'];\r\n// Check if MutationObserver is available.\r\nvar mutationObserverSupported = typeof MutationObserver !== 'undefined';\r\n/**\r\n * Singleton controller class which handles updates of ResizeObserver instances.\r\n */\r\nvar ResizeObserverController = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserverController.\r\n     *\r\n     * @private\r\n     */\r\n    function ResizeObserverController() {\r\n        /**\r\n         * Indicates whether DOM listeners have been added.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.connected_ = false;\r\n        /**\r\n         * Tells that controller has subscribed for Mutation Events.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.mutationEventsAdded_ = false;\r\n        /**\r\n         * Keeps reference to the instance of MutationObserver.\r\n         *\r\n         * @private {MutationObserver}\r\n         */\r\n        this.mutationsObserver_ = null;\r\n        /**\r\n         * A list of connected observers.\r\n         *\r\n         * @private {Array<ResizeObserverSPI>}\r\n         */\r\n        this.observers_ = [];\r\n        this.onTransitionEnd_ = this.onTransitionEnd_.bind(this);\r\n        this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);\r\n    }\r\n    /**\r\n     * Adds observer to observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be added.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.addObserver = function (observer) {\r\n        if (!~this.observers_.indexOf(observer)) {\r\n            this.observers_.push(observer);\r\n        }\r\n        // Add listeners if they haven't been added yet.\r\n        if (!this.connected_) {\r\n            this.connect_();\r\n        }\r\n    };\r\n    /**\r\n     * Removes observer from observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be removed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.removeObserver = function (observer) {\r\n        var observers = this.observers_;\r\n        var index = observers.indexOf(observer);\r\n        // Remove observer if it's present in registry.\r\n        if (~index) {\r\n            observers.splice(index, 1);\r\n        }\r\n        // Remove listeners if controller has no connected observers.\r\n        if (!observers.length && this.connected_) {\r\n            this.disconnect_();\r\n        }\r\n    };\r\n    /**\r\n     * Invokes the update of observers. It will continue running updates insofar\r\n     * it detects changes.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.refresh = function () {\r\n        var changesDetected = this.updateObservers_();\r\n        // Continue running updates if changes have been detected as there might\r\n        // be future ones caused by CSS transitions.\r\n        if (changesDetected) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Updates every observer from observers list and notifies them of queued\r\n     * entries.\r\n     *\r\n     * @private\r\n     * @returns {boolean} Returns \"true\" if any observer has detected changes in\r\n     *      dimensions of it's elements.\r\n     */\r\n    ResizeObserverController.prototype.updateObservers_ = function () {\r\n        // Collect observers that have active observations.\r\n        var activeObservers = this.observers_.filter(function (observer) {\r\n            return observer.gatherActive(), observer.hasActive();\r\n        });\r\n        // Deliver notifications in a separate cycle in order to avoid any\r\n        // collisions between observers, e.g. when multiple instances of\r\n        // ResizeObserver are tracking the same element and the callback of one\r\n        // of them changes content dimensions of the observed target. Sometimes\r\n        // this may result in notifications being blocked for the rest of observers.\r\n        activeObservers.forEach(function (observer) { return observer.broadcastActive(); });\r\n        return activeObservers.length > 0;\r\n    };\r\n    /**\r\n     * Initializes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.connect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already added.\r\n        if (!isBrowser || this.connected_) {\r\n            return;\r\n        }\r\n        // Subscription to the \"Transitionend\" event is used as a workaround for\r\n        // delayed transitions. This way it's possible to capture at least the\r\n        // final state of an element.\r\n        document.addEventListener('transitionend', this.onTransitionEnd_);\r\n        window.addEventListener('resize', this.refresh);\r\n        if (mutationObserverSupported) {\r\n            this.mutationsObserver_ = new MutationObserver(this.refresh);\r\n            this.mutationsObserver_.observe(document, {\r\n                attributes: true,\r\n                childList: true,\r\n                characterData: true,\r\n                subtree: true\r\n            });\r\n        }\r\n        else {\r\n            document.addEventListener('DOMSubtreeModified', this.refresh);\r\n            this.mutationEventsAdded_ = true;\r\n        }\r\n        this.connected_ = true;\r\n    };\r\n    /**\r\n     * Removes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.disconnect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already removed.\r\n        if (!isBrowser || !this.connected_) {\r\n            return;\r\n        }\r\n        document.removeEventListener('transitionend', this.onTransitionEnd_);\r\n        window.removeEventListener('resize', this.refresh);\r\n        if (this.mutationsObserver_) {\r\n            this.mutationsObserver_.disconnect();\r\n        }\r\n        if (this.mutationEventsAdded_) {\r\n            document.removeEventListener('DOMSubtreeModified', this.refresh);\r\n        }\r\n        this.mutationsObserver_ = null;\r\n        this.mutationEventsAdded_ = false;\r\n        this.connected_ = false;\r\n    };\r\n    /**\r\n     * \"Transitionend\" event handler.\r\n     *\r\n     * @private\r\n     * @param {TransitionEvent} event\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.onTransitionEnd_ = function (_a) {\r\n        var _b = _a.propertyName, propertyName = _b === void 0 ? '' : _b;\r\n        // Detect whether transition may affect dimensions of an element.\r\n        var isReflowProperty = transitionKeys.some(function (key) {\r\n            return !!~propertyName.indexOf(key);\r\n        });\r\n        if (isReflowProperty) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Returns instance of the ResizeObserverController.\r\n     *\r\n     * @returns {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.getInstance = function () {\r\n        if (!this.instance_) {\r\n            this.instance_ = new ResizeObserverController();\r\n        }\r\n        return this.instance_;\r\n    };\r\n    /**\r\n     * Holds reference to the controller's instance.\r\n     *\r\n     * @private {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.instance_ = null;\r\n    return ResizeObserverController;\r\n}());\n\n/**\r\n * Defines non-writable/enumerable properties of the provided target object.\r\n *\r\n * @param {Object} target - Object for which to define properties.\r\n * @param {Object} props - Properties to be defined.\r\n * @returns {Object} Target object.\r\n */\r\nvar defineConfigurable = (function (target, props) {\r\n    for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\r\n        var key = _a[_i];\r\n        Object.defineProperty(target, key, {\r\n            value: props[key],\r\n            enumerable: false,\r\n            writable: false,\r\n            configurable: true\r\n        });\r\n    }\r\n    return target;\r\n});\n\n/**\r\n * Returns the global object associated with provided element.\r\n *\r\n * @param {Object} target\r\n * @returns {Object}\r\n */\r\nvar getWindowOf = (function (target) {\r\n    // Assume that the element is an instance of Node, which means that it\r\n    // has the \"ownerDocument\" property from which we can retrieve a\r\n    // corresponding global object.\r\n    var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView;\r\n    // Return the local global object if it's not possible extract one from\r\n    // provided element.\r\n    return ownerGlobal || global$1;\r\n});\n\n// Placeholder of an empty content rectangle.\r\nvar emptyRect = createRectInit(0, 0, 0, 0);\r\n/**\r\n * Converts provided string to a number.\r\n *\r\n * @param {number|string} value\r\n * @returns {number}\r\n */\r\nfunction toFloat(value) {\r\n    return parseFloat(value) || 0;\r\n}\r\n/**\r\n * Extracts borders size from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @param {...string} positions - Borders positions (top, right, ...)\r\n * @returns {number}\r\n */\r\nfunction getBordersSize(styles) {\r\n    var positions = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        positions[_i - 1] = arguments[_i];\r\n    }\r\n    return positions.reduce(function (size, position) {\r\n        var value = styles['border-' + position + '-width'];\r\n        return size + toFloat(value);\r\n    }, 0);\r\n}\r\n/**\r\n * Extracts paddings sizes from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @returns {Object} Paddings box.\r\n */\r\nfunction getPaddings(styles) {\r\n    var positions = ['top', 'right', 'bottom', 'left'];\r\n    var paddings = {};\r\n    for (var _i = 0, positions_1 = positions; _i < positions_1.length; _i++) {\r\n        var position = positions_1[_i];\r\n        var value = styles['padding-' + position];\r\n        paddings[position] = toFloat(value);\r\n    }\r\n    return paddings;\r\n}\r\n/**\r\n * Calculates content rectangle of provided SVG element.\r\n *\r\n * @param {SVGGraphicsElement} target - Element content rectangle of which needs\r\n *      to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getSVGContentRect(target) {\r\n    var bbox = target.getBBox();\r\n    return createRectInit(0, 0, bbox.width, bbox.height);\r\n}\r\n/**\r\n * Calculates content rectangle of provided HTMLElement.\r\n *\r\n * @param {HTMLElement} target - Element for which to calculate the content rectangle.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getHTMLElementContentRect(target) {\r\n    // Client width & height properties can't be\r\n    // used exclusively as they provide rounded values.\r\n    var clientWidth = target.clientWidth, clientHeight = target.clientHeight;\r\n    // By this condition we can catch all non-replaced inline, hidden and\r\n    // detached elements. Though elements with width & height properties less\r\n    // than 0.5 will be discarded as well.\r\n    //\r\n    // Without it we would need to implement separate methods for each of\r\n    // those cases and it's not possible to perform a precise and performance\r\n    // effective test for hidden elements. E.g. even jQuery's ':visible' filter\r\n    // gives wrong results for elements with width & height less than 0.5.\r\n    if (!clientWidth && !clientHeight) {\r\n        return emptyRect;\r\n    }\r\n    var styles = getWindowOf(target).getComputedStyle(target);\r\n    var paddings = getPaddings(styles);\r\n    var horizPad = paddings.left + paddings.right;\r\n    var vertPad = paddings.top + paddings.bottom;\r\n    // Computed styles of width & height are being used because they are the\r\n    // only dimensions available to JS that contain non-rounded values. It could\r\n    // be possible to utilize the getBoundingClientRect if only it's data wasn't\r\n    // affected by CSS transformations let alone paddings, borders and scroll bars.\r\n    var width = toFloat(styles.width), height = toFloat(styles.height);\r\n    // Width & height include paddings and borders when the 'border-box' box\r\n    // model is applied (except for IE).\r\n    if (styles.boxSizing === 'border-box') {\r\n        // Following conditions are required to handle Internet Explorer which\r\n        // doesn't include paddings and borders to computed CSS dimensions.\r\n        //\r\n        // We can say that if CSS dimensions + paddings are equal to the \"client\"\r\n        // properties then it's either IE, and thus we don't need to subtract\r\n        // anything, or an element merely doesn't have paddings/borders styles.\r\n        if (Math.round(width + horizPad) !== clientWidth) {\r\n            width -= getBordersSize(styles, 'left', 'right') + horizPad;\r\n        }\r\n        if (Math.round(height + vertPad) !== clientHeight) {\r\n            height -= getBordersSize(styles, 'top', 'bottom') + vertPad;\r\n        }\r\n    }\r\n    // Following steps can't be applied to the document's root element as its\r\n    // client[Width/Height] properties represent viewport area of the window.\r\n    // Besides, it's as well not necessary as the <html> itself neither has\r\n    // rendered scroll bars nor it can be clipped.\r\n    if (!isDocumentElement(target)) {\r\n        // In some browsers (only in Firefox, actually) CSS width & height\r\n        // include scroll bars size which can be removed at this step as scroll\r\n        // bars are the only difference between rounded dimensions + paddings\r\n        // and \"client\" properties, though that is not always true in Chrome.\r\n        var vertScrollbar = Math.round(width + horizPad) - clientWidth;\r\n        var horizScrollbar = Math.round(height + vertPad) - clientHeight;\r\n        // Chrome has a rather weird rounding of \"client\" properties.\r\n        // E.g. for an element with content width of 314.2px it sometimes gives\r\n        // the client width of 315px and for the width of 314.7px it may give\r\n        // 314px. And it doesn't happen all the time. So just ignore this delta\r\n        // as a non-relevant.\r\n        if (Math.abs(vertScrollbar) !== 1) {\r\n            width -= vertScrollbar;\r\n        }\r\n        if (Math.abs(horizScrollbar) !== 1) {\r\n            height -= horizScrollbar;\r\n        }\r\n    }\r\n    return createRectInit(paddings.left, paddings.top, width, height);\r\n}\r\n/**\r\n * Checks whether provided element is an instance of the SVGGraphicsElement.\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nvar isSVGGraphicsElement = (function () {\r\n    // Some browsers, namely IE and Edge, don't have the SVGGraphicsElement\r\n    // interface.\r\n    if (typeof SVGGraphicsElement !== 'undefined') {\r\n        return function (target) { return target instanceof getWindowOf(target).SVGGraphicsElement; };\r\n    }\r\n    // If it's so, then check that element is at least an instance of the\r\n    // SVGElement and that it has the \"getBBox\" method.\r\n    // eslint-disable-next-line no-extra-parens\r\n    return function (target) { return (target instanceof getWindowOf(target).SVGElement &&\r\n        typeof target.getBBox === 'function'); };\r\n})();\r\n/**\r\n * Checks whether provided element is a document element (<html>).\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nfunction isDocumentElement(target) {\r\n    return target === getWindowOf(target).document.documentElement;\r\n}\r\n/**\r\n * Calculates an appropriate content rectangle for provided html or svg element.\r\n *\r\n * @param {Element} target - Element content rectangle of which needs to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getContentRect(target) {\r\n    if (!isBrowser) {\r\n        return emptyRect;\r\n    }\r\n    if (isSVGGraphicsElement(target)) {\r\n        return getSVGContentRect(target);\r\n    }\r\n    return getHTMLElementContentRect(target);\r\n}\r\n/**\r\n * Creates rectangle with an interface of the DOMRectReadOnly.\r\n * Spec: https://drafts.fxtf.org/geometry/#domrectreadonly\r\n *\r\n * @param {DOMRectInit} rectInit - Object with rectangle's x/y coordinates and dimensions.\r\n * @returns {DOMRectReadOnly}\r\n */\r\nfunction createReadOnlyRect(_a) {\r\n    var x = _a.x, y = _a.y, width = _a.width, height = _a.height;\r\n    // If DOMRectReadOnly is available use it as a prototype for the rectangle.\r\n    var Constr = typeof DOMRectReadOnly !== 'undefined' ? DOMRectReadOnly : Object;\r\n    var rect = Object.create(Constr.prototype);\r\n    // Rectangle's properties are not writable and non-enumerable.\r\n    defineConfigurable(rect, {\r\n        x: x, y: y, width: width, height: height,\r\n        top: y,\r\n        right: x + width,\r\n        bottom: height + y,\r\n        left: x\r\n    });\r\n    return rect;\r\n}\r\n/**\r\n * Creates DOMRectInit object based on the provided dimensions and the x/y coordinates.\r\n * Spec: https://drafts.fxtf.org/geometry/#dictdef-domrectinit\r\n *\r\n * @param {number} x - X coordinate.\r\n * @param {number} y - Y coordinate.\r\n * @param {number} width - Rectangle's width.\r\n * @param {number} height - Rectangle's height.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction createRectInit(x, y, width, height) {\r\n    return { x: x, y: y, width: width, height: height };\r\n}\n\n/**\r\n * Class that is responsible for computations of the content rectangle of\r\n * provided DOM element and for keeping track of it's changes.\r\n */\r\nvar ResizeObservation = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObservation.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     */\r\n    function ResizeObservation(target) {\r\n        /**\r\n         * Broadcasted width of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastWidth = 0;\r\n        /**\r\n         * Broadcasted height of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastHeight = 0;\r\n        /**\r\n         * Reference to the last observed content rectangle.\r\n         *\r\n         * @private {DOMRectInit}\r\n         */\r\n        this.contentRect_ = createRectInit(0, 0, 0, 0);\r\n        this.target = target;\r\n    }\r\n    /**\r\n     * Updates content rectangle and tells whether it's width or height properties\r\n     * have changed since the last broadcast.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObservation.prototype.isActive = function () {\r\n        var rect = getContentRect(this.target);\r\n        this.contentRect_ = rect;\r\n        return (rect.width !== this.broadcastWidth ||\r\n            rect.height !== this.broadcastHeight);\r\n    };\r\n    /**\r\n     * Updates 'broadcastWidth' and 'broadcastHeight' properties with a data\r\n     * from the corresponding properties of the last observed content rectangle.\r\n     *\r\n     * @returns {DOMRectInit} Last observed content rectangle.\r\n     */\r\n    ResizeObservation.prototype.broadcastRect = function () {\r\n        var rect = this.contentRect_;\r\n        this.broadcastWidth = rect.width;\r\n        this.broadcastHeight = rect.height;\r\n        return rect;\r\n    };\r\n    return ResizeObservation;\r\n}());\n\nvar ResizeObserverEntry = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObserverEntry.\r\n     *\r\n     * @param {Element} target - Element that is being observed.\r\n     * @param {DOMRectInit} rectInit - Data of the element's content rectangle.\r\n     */\r\n    function ResizeObserverEntry(target, rectInit) {\r\n        var contentRect = createReadOnlyRect(rectInit);\r\n        // According to the specification following properties are not writable\r\n        // and are also not enumerable in the native implementation.\r\n        //\r\n        // Property accessors are not being used as they'd require to define a\r\n        // private WeakMap storage which may cause memory leaks in browsers that\r\n        // don't support this type of collections.\r\n        defineConfigurable(this, { target: target, contentRect: contentRect });\r\n    }\r\n    return ResizeObserverEntry;\r\n}());\n\nvar ResizeObserverSPI = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback function that is invoked\r\n     *      when one of the observed elements changes it's content dimensions.\r\n     * @param {ResizeObserverController} controller - Controller instance which\r\n     *      is responsible for the updates of observer.\r\n     * @param {ResizeObserver} callbackCtx - Reference to the public\r\n     *      ResizeObserver instance which will be passed to callback function.\r\n     */\r\n    function ResizeObserverSPI(callback, controller, callbackCtx) {\r\n        /**\r\n         * Collection of resize observations that have detected changes in dimensions\r\n         * of elements.\r\n         *\r\n         * @private {Array<ResizeObservation>}\r\n         */\r\n        this.activeObservations_ = [];\r\n        /**\r\n         * Registry of the ResizeObservation instances.\r\n         *\r\n         * @private {Map<Element, ResizeObservation>}\r\n         */\r\n        this.observations_ = new MapShim();\r\n        if (typeof callback !== 'function') {\r\n            throw new TypeError('The callback provided as parameter 1 is not a function.');\r\n        }\r\n        this.callback_ = callback;\r\n        this.controller_ = controller;\r\n        this.callbackCtx_ = callbackCtx;\r\n    }\r\n    /**\r\n     * Starts observing provided element.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.observe = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is already being observed.\r\n        if (observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.set(target, new ResizeObservation(target));\r\n        this.controller_.addObserver(this);\r\n        // Force the update of observations.\r\n        this.controller_.refresh();\r\n    };\r\n    /**\r\n     * Stops observing provided element.\r\n     *\r\n     * @param {Element} target - Element to stop observing.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.unobserve = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is not being observed.\r\n        if (!observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.delete(target);\r\n        if (!observations.size) {\r\n            this.controller_.removeObserver(this);\r\n        }\r\n    };\r\n    /**\r\n     * Stops observing all elements.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.disconnect = function () {\r\n        this.clearActive();\r\n        this.observations_.clear();\r\n        this.controller_.removeObserver(this);\r\n    };\r\n    /**\r\n     * Collects observation instances the associated element of which has changed\r\n     * it's content rectangle.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.gatherActive = function () {\r\n        var _this = this;\r\n        this.clearActive();\r\n        this.observations_.forEach(function (observation) {\r\n            if (observation.isActive()) {\r\n                _this.activeObservations_.push(observation);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Invokes initial callback function with a list of ResizeObserverEntry\r\n     * instances collected from active resize observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.broadcastActive = function () {\r\n        // Do nothing if observer doesn't have active observations.\r\n        if (!this.hasActive()) {\r\n            return;\r\n        }\r\n        var ctx = this.callbackCtx_;\r\n        // Create ResizeObserverEntry instance for every active observation.\r\n        var entries = this.activeObservations_.map(function (observation) {\r\n            return new ResizeObserverEntry(observation.target, observation.broadcastRect());\r\n        });\r\n        this.callback_.call(ctx, entries, ctx);\r\n        this.clearActive();\r\n    };\r\n    /**\r\n     * Clears the collection of active observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.clearActive = function () {\r\n        this.activeObservations_.splice(0);\r\n    };\r\n    /**\r\n     * Tells whether observer has active observations.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObserverSPI.prototype.hasActive = function () {\r\n        return this.activeObservations_.length > 0;\r\n    };\r\n    return ResizeObserverSPI;\r\n}());\n\n// Registry of internal observers. If WeakMap is not available use current shim\r\n// for the Map collection as it has all required methods and because WeakMap\r\n// can't be fully polyfilled anyway.\r\nvar observers = typeof WeakMap !== 'undefined' ? new WeakMap() : new MapShim();\r\n/**\r\n * ResizeObserver API. Encapsulates the ResizeObserver SPI implementation\r\n * exposing only those methods and properties that are defined in the spec.\r\n */\r\nvar ResizeObserver = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback that is invoked when\r\n     *      dimensions of the observed elements change.\r\n     */\r\n    function ResizeObserver(callback) {\r\n        if (!(this instanceof ResizeObserver)) {\r\n            throw new TypeError('Cannot call a class as a function.');\r\n        }\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        var controller = ResizeObserverController.getInstance();\r\n        var observer = new ResizeObserverSPI(callback, controller, this);\r\n        observers.set(this, observer);\r\n    }\r\n    return ResizeObserver;\r\n}());\r\n// Expose public methods of ResizeObserver.\r\n[\r\n    'observe',\r\n    'unobserve',\r\n    'disconnect'\r\n].forEach(function (method) {\r\n    ResizeObserver.prototype[method] = function () {\r\n        var _a;\r\n        return (_a = observers.get(this))[method].apply(_a, arguments);\r\n    };\r\n});\n\nvar index = (function () {\r\n    // Export existing implementation if available.\r\n    if (typeof global$1.ResizeObserver !== 'undefined') {\r\n        return global$1.ResizeObserver;\r\n    }\r\n    return ResizeObserver;\r\n})();\n\nexport default index;\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import React from \"react\";\r\n\r\nconst HeaderButton: React.FC<{ title: string, className: string }> = ({ title, className, children, ...props }) => {\r\n    return (\r\n        <li {...props} title={title} className={className}>\r\n            {children}\r\n        </li>\r\n    )\r\n};\r\n\r\nexport default HeaderButton;\r\n","import React from \"react\";\r\nimport { ApplicationItemProps } from \"../../../types/internal\";\r\n\r\n\r\nconst ApplicationItem: React.FC<ApplicationItemProps> = ({ appName, onClick }) => {\r\n    return (\r\n        <a onClick={onClick} className=\"list-group-item list-group-item-action px-3\" href=\"#\">\r\n            {appName}\r\n        </a>\r\n    )\r\n};\r\n\r\nexport default ApplicationItem;","import React, { useEffect } from \"react\";\r\nimport { ApplicationListProps } from \"../../../types/internal\";\r\nimport ApplicationItem from \"./ApplicationItem\";\r\n\r\nconst ApplicationsList: React.FC<ApplicationListProps> = ({ glue, inLane, parent, hidePopup, searchTerm, updatePopupHeight, filterApps }) => {\r\n    const hasFlag = (app: any) => app?.userProperties?.includeInWorkspaces ?? app?.userProperties?.includeInCanvas;\r\n    const isFromSupportedType = (a: any) => !a.type || (a.type !== \"activity\" &&\r\n        a.type !== \"canvas\" &&\r\n        a.type !== \"workspaces\" &&\r\n        a.type !== \"node\");\r\n\r\n    const defaultFilter = (a: any) => !a.isActivity &&\r\n        !a.isShell &&\r\n        isFromSupportedType(a) && hasFlag(a);\r\n\r\n    const filter = filterApps || defaultFilter;\r\n\r\n    const workspacesFriendlyApps: any[] = glue.appManager.applications().filter(filter);\r\n\r\n    const getElementOnClick = (appName: string) => {\r\n        return async () => {\r\n            try {\r\n                if (parent.type === \"group\" && !inLane) {\r\n                    await parent.addWindow({ type: \"window\", appName });\r\n                } else if (parent.type === \"group\" && inLane) {\r\n                    await parent.parent.addGroup({ type: \"group\", children: [{ type: \"window\", appName }] });\r\n                } else if (parent.type !== \"group\" && !inLane) {\r\n                    await parent.addGroup({ type: \"group\", children: [{ type: \"window\", appName }] });\r\n                } else {\r\n                    await parent.addWindow({ type: \"window\", appName });\r\n                }\r\n            } catch (error) {\r\n                console.warn(error);\r\n            }\r\n\r\n            hidePopup();\r\n        };\r\n    }\r\n\r\n    useEffect(() => {\r\n        updatePopupHeight();\r\n    }, []);\r\n\r\n    return (\r\n        <nav id=\"applicationsList\" className=\"nav list-group\">\r\n            {workspacesFriendlyApps\r\n                .filter((a) => (a.title || a.name).toLowerCase().indexOf(searchTerm.toLowerCase()) !== -1)\r\n                .map((app: any, i) => {\r\n                    return <ApplicationItem\r\n                        key={i}\r\n                        onClick={() => { getElementOnClick(app.name)() }}\r\n                        appName={app.title || app.name} />\r\n                })}\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default ApplicationsList;","import React, { useEffect } from \"react\";\r\nimport { ContainerSwitchProps } from \"../../../types/internal\";\r\n\r\nconst ContainerSwitch: React.FC<ContainerSwitchProps> = ({ inLane, setInLane, parent }) => {\r\n    let wordInLabel = \"\";\r\n    if (!parent.type) {\r\n        wordInLabel = `workspace`;\r\n    } else if (parent.type === \"group\" && !parent.children.length) {\r\n        wordInLabel = \"\";\r\n    } else if (parent.type === \"group\") {\r\n        wordInLabel = `${parent.parent.type || \"\"}`;\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (!wordInLabel || wordInLabel === \"workspace\") {\r\n            setInLane(false);\r\n        }\r\n    }, [wordInLabel])\r\n\r\n    if (!wordInLabel || wordInLabel === \"workspace\") {\r\n        return null;\r\n    }\r\n\r\n    const labelToPut = `This ${wordInLabel[0].toUpperCase() + wordInLabel.substring(1)}`;\r\n\r\n    return (\r\n        <div className=\"form-group\">\r\n            <label htmlFor=\"Application placement\">Application Placement</label>\r\n            <div className=\"btn-group d-flex mb-2\" role=\"group\" aria-label=\"Application placement\">\r\n                <button\r\n                    onClick={() => setInLane(true)}\r\n                    type=\"button\"\r\n                    id=\"laneButton\"\r\n                    className={`btn btn-outline-primary w-100 ${inLane ? \"active\" : \"\"}`}>\r\n                    {labelToPut}\r\n                </button>\r\n                <button\r\n                    onClick={() => setInLane(false)}\r\n                    type=\"button\"\r\n                    id=\"tabGroupButton\"\r\n                    className={`btn btn-outline-primary w-100 ${!inLane ? \"active\" : \"\"}`}>\r\n                    This Tab Group\r\n            </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ContainerSwitch;","import { GlueContext } from \"@glue42/react-hooks\";\r\nimport React, { useContext } from \"react\"\r\n\r\nconst withGlueInstance = <T extends { glue?: any }>(WrappedComponent: React.ComponentType<T>) => {\r\n    return (props: T) => {\r\n        const glue = props.glue || (window as any).glue || useContext(GlueContext);\r\n        if (!glue) {\r\n            throw new Error(\"An instance of Glue is not provided\");\r\n        }\r\n        return (\r\n            <WrappedComponent {...Object.assign({}, props, { glue })} />\r\n        )\r\n    }\r\n}\r\n\r\nexport default withGlueInstance;","import React, { useEffect, useState } from \"react\";\r\nimport { AddApplicationPopupProps } from \"../../../types/internal\";\r\nimport ApplicationsList from \"./ApplicationsList\";\r\nimport ContainerSwitch from \"./ContainerSwitch\";\r\nimport withGlueInstance from \"../../../withGlueInstance\";\r\n\r\ndeclare const window: Window & { glue?: any };\r\n\r\nconst AddApplicationPopup: React.FC<AddApplicationPopupProps> = ({ workspaceId, boxId, hidePopup, resizePopup, glue, frameId, filterApps, ...props }) => {\r\n    const [inLane, setInLane] = useState(false);\r\n    const [parent, setParent] = useState(undefined);\r\n    const [searchTerm, setSearchTerm] = useState(\"\");\r\n    const containerRef = React.createRef<HTMLDivElement>();\r\n\r\n    useEffect(() => {\r\n        let shouldUpdate = true;\r\n        glue.workspaces.getAllWorkspaces().then((allWorkspaces: any) => {\r\n            const myWorkspace = allWorkspaces.find((w: any) => w.id === workspaceId);\r\n            const parent = myWorkspace.getBox((p: any) => p.id === boxId) || myWorkspace;\r\n\r\n            if (!shouldUpdate) {\r\n                return;\r\n            }\r\n            setParent(parent);\r\n        });\r\n\r\n        return () => {\r\n            shouldUpdate = false;\r\n        }\r\n    }, [boxId, workspaceId]);\r\n\r\n    const refreshPopupHeight = () => {\r\n        const containerHeight = containerRef.current?.getBoundingClientRect().height;\r\n        resizePopup({\r\n            width: 300,\r\n            height: containerHeight\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        refreshPopupHeight();\r\n    }, [searchTerm, parent]);\r\n\r\n    return (\r\n        <div {...props} ref={containerRef} className=\"container-fluid add-application\">\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h5 className=\"border-bottom border-secondary pb-1 my-3\">Add Application</h5>\r\n                </div>\r\n            </div>\r\n            <div id=\"applicationPlacementSection\" className=\"row\">\r\n                <div className=\"col\">\r\n                    {parent && <ContainerSwitch\r\n                        inLane={inLane}\r\n                        setInLane={setInLane}\r\n                        parent={parent} />}\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <div className=\"input-group position-relative mb-2\">\r\n                        <input type=\"text\" id=\"appSearch\" className=\"form-control pr-4\" placeholder=\"Search аpplication\"\r\n                            value={searchTerm} onChange={(e) => setSearchTerm(e.target.value)} aria-label=\"Search аpplication\" aria-describedby=\"\" />\r\n                        <div className=\"icon-search\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <div className=\"applications mb-2\">\r\n                        <ApplicationsList\r\n                            glue={glue}\r\n                            hidePopup={hidePopup}\r\n                            inLane={inLane}\r\n                            parent={parent}\r\n                            searchTerm={searchTerm}\r\n                            filterApps={filterApps}\r\n                            updatePopupHeight={() => { refreshPopupHeight() }}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withGlueInstance(AddApplicationPopup);","import React from \"react\";\r\nimport { getFeedbackErrorMessage } from \"./helpers\";\r\n\r\nconst Feedback: React.FC<{ errMessage: string }> = ({ errMessage }) => {\r\n    const message = getFeedbackErrorMessage(errMessage);\r\n    return (\r\n        <div className=\"row\">\r\n            <div className=\"col\">\r\n                <div id=\"feedbackContainer\" className=\"d-flex flex-row pb-2\">\r\n                    <div className=\"invalid-feedback mt-0 d-block\">\r\n                        {message || \"Something went wrong.\"}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Feedback;","export const getFeedbackErrorMessage = (message: string) => {\r\n    const innerMessageRegex = /Inner message:\\s+(.+)/gm;\r\n    const regexResult = innerMessageRegex.exec(message);\r\n    const innerMessage = (regexResult && regexResult[1]) || message;\r\n\r\n    return innerMessage;\r\n}","import React from \"react\";\r\nimport { WorkspaceLayoutItemProps } from \"../../../types/internal\";\r\n\r\nconst WorkspaceLayoutItem: React.FC<WorkspaceLayoutItemProps> = ({ name, onClick, onCloseClick }) => {\r\n    return (\r\n        <a onClick={onClick} className=\"list-group-item list-group-item-action ry-2\" href=\"#\">\r\n            <div className=\"align-items-center workspace d-flex flex-row\">\r\n                <div className=\"workspace__icon mr-2\"></div>\r\n                <div className=\"workspace__description\">\r\n                    <h5 className=\"mb-0 text-truncate\">{name}</h5>\r\n                </div>\r\n                <div onClick={onCloseClick} className=\"close-icon ml-auto\"></div>\r\n            </div>\r\n        </a>\r\n    );\r\n}\r\n\r\n\r\nexport default WorkspaceLayoutItem;","import React, { useEffect, useState } from \"react\";\r\nimport { WorkspaceLayoutsListProps } from \"../../../types/internal\";\r\nimport WorkspaceLayoutItem from \"./WorkspaceLayoutItem\";\r\n\r\nconst WorkspaceLayoutsList: React.FC<WorkspaceLayoutsListProps> = ({ glue, frameId, showFeedback, hidePopup, resizePopup }) => {\r\n    const [layoutSummaries, setLayoutSummaries] = useState([] as any[]);\r\n\r\n    const getSummaries = () => {\r\n        return glue.workspaces.layouts.getSummaries();\r\n    };\r\n\r\n    useEffect(() => {\r\n        let shouldUpdate = true;\r\n        getSummaries().then((s: any) => {\r\n            if (!shouldUpdate) {\r\n                return;\r\n            }\r\n            setLayoutSummaries(s);\r\n        });\r\n        return () => {\r\n            shouldUpdate = false;\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        resizePopup();\r\n    }, [layoutSummaries]);\r\n\r\n    const getOnClickCallback = (layoutName: string) => {\r\n        return () => {\r\n            glue.workspaces.restoreWorkspace(layoutName, { frameId, title: layoutName }).catch((e: Error) => {\r\n                showFeedback(e.message);\r\n            }).finally(() => {\r\n                hidePopup();\r\n            });\r\n        };\r\n    };\r\n\r\n    const getOnCloseClickCallback = (layoutName: string) => {\r\n        return () => {\r\n            glue.workspaces.layouts.delete(layoutName).catch((e: Error) => {\r\n                showFeedback(e.message);\r\n            }).then(() => {\r\n                getSummaries().then((s: any) => { setLayoutSummaries(s); });\r\n            });\r\n        };\r\n    }\r\n\r\n    return (\r\n        <nav id=\"workspacesList\" className=\"nav flex-column\">\r\n            {layoutSummaries.map((summary, i) => {\r\n                return <WorkspaceLayoutItem\r\n                    key={i}\r\n                    name={summary.name}\r\n                    onClick={() => getOnClickCallback(summary.name)()}\r\n                    onCloseClick={(e) => { e.stopPropagation(); getOnCloseClickCallback(summary.name)(); }}\r\n                />\r\n            })}\r\n        </nav>\r\n    );\r\n}\r\n\r\nexport default WorkspaceLayoutsList;","import React, { useEffect, useState } from \"react\";\r\nimport { AddWorkspacePopupProps } from \"../../../types/internal\";\r\nimport Feedback from \"../Feedback\";\r\nimport WorkspaceLayoutsList from \"./WorkspaceLayoutsList\";\r\nimport withGlueInstance from \"../../../withGlueInstance\";\r\n\r\nconst AddWorkspacePopup: React.FC<AddWorkspacePopupProps> = ({ frameId, hidePopup, resizePopup, glue, ...props }) => {\r\n    const [feedbackText, setFeedbackText] = useState<string | undefined>(undefined);\r\n    const containerRef = React.createRef<HTMLDivElement>();\r\n\r\n    const resizePopupWithContainerHeight = () => {\r\n        const containerHeight = containerRef.current?.getBoundingClientRect().height;\r\n        resizePopup({\r\n            width: 300,\r\n            height: containerHeight\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        resizePopupWithContainerHeight();\r\n    }, [feedbackText]);\r\n    const onCreateNewClicked = () => {\r\n        glue.workspaces.createWorkspace({\r\n            children: [],\r\n            frame: {\r\n                reuseFrameId: frameId\r\n            }\r\n        });\r\n        hidePopup();\r\n    }\r\n\r\n    return (\r\n        <div {...props} ref={containerRef} className=\"container-fluid add-workspace\">\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h5 className=\"border-bottom border-secondary pb-1 my-3\">Add Workspace</h5>\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h5 onClick={onCreateNewClicked} itemType=\"h5\" id=\"createNewButton\" className=\"btn btn-primary mb-3 w-100\">Create New</h5>\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h3>Load Workspace</h3>\r\n                    <div className=\"workspaces mb-2\">\r\n                        <WorkspaceLayoutsList\r\n                            frameId={frameId}\r\n                            glue={glue}\r\n                            showFeedback={setFeedbackText}\r\n                            hidePopup={hidePopup}\r\n                            resizePopup={resizePopupWithContainerHeight}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {feedbackText && <Feedback errMessage={feedbackText} />}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default withGlueInstance(AddWorkspacePopup);","import React, { useEffect } from \"react\";\r\nimport { SaveContextCheckboxProps } from \"../../../types/internal\";\r\n\r\nconst SaveContextCheckbox: React.FC<SaveContextCheckboxProps> = ({ changeChecked, refreshHeight }) => {\r\n    const inputRef = React.createRef<HTMLInputElement>();\r\n\r\n    useEffect(() => {\r\n        refreshHeight();\r\n    }, []);\r\n\r\n    const onInputChanged = () => {\r\n        if (!inputRef?.current) {\r\n            return;\r\n        }\r\n\r\n        changeChecked(inputRef.current.checked);\r\n    }\r\n\r\n    return (\r\n        <div className=\"form-check\">\r\n            <input onChange={onInputChanged} ref={inputRef} className=\"form-check-input\" type=\"checkbox\" value=\"\" id=\"saveContextCheckbox\" />\r\n            <label className=\"form-check-label\" htmlFor=\"saveContextCheckbox\">Save context</label>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default SaveContextCheckbox;","import React, { useEffect, useState } from \"react\";\r\nimport { SaveWorkspaceButtonProps } from \"../../../types/internal\";\r\n\r\nconst SaveWorkspaceButton: React.FC<SaveWorkspaceButtonProps> = ({ workspaceId,\r\n    inputValue,\r\n    clearInput,\r\n    showFeedback,\r\n    shouldSaveContext,\r\n    hideFeedback,\r\n    glue,\r\n    hidePopup,\r\n    buildMode }) => {\r\n    const [shouldSave, setShouldSave] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (!shouldSave) {\r\n            return;\r\n        }\r\n        let shouldUpdate = true;\r\n        let workspace: any;\r\n        const workspaceName = inputValue;\r\n        glue.workspaces.getAllWorkspaces().then((allWorkspaces: any) => {\r\n            workspace = allWorkspaces.find((w: any) => w.id === workspaceId);\r\n\r\n            return glue.workspaces.layouts.save({\r\n                name: workspaceName,\r\n                workspaceId: workspace.id,\r\n                saveContext: shouldSaveContext\r\n            });\r\n        }).then(() => {\r\n            return workspace.setTitle(workspaceName);\r\n        }).catch((error: Error) => {\r\n            if (shouldUpdate) {\r\n                showFeedback(error.message)\r\n            }\r\n        }).finally(() => {\r\n            if (shouldUpdate) {\r\n                clearInput();\r\n                setShouldSave(false);\r\n                hidePopup();\r\n            }\r\n        });\r\n\r\n        return () => {\r\n            shouldUpdate = false;\r\n        }\r\n    }, [shouldSave]);\r\n\r\n    const exportJson = (layout: object, name: string) => {\r\n        const downloadElement = document.createElement(\"a\");\r\n        const data = \"text/json;charset=utf-8,\" + encodeURIComponent(JSON.stringify(layout));\r\n\r\n        document.body.append(downloadElement);\r\n        downloadElement.setAttribute(\"href\", \"data:\" + data);\r\n        downloadElement.setAttribute(\"download\", `${name}.txt`);\r\n        downloadElement.click();\r\n        downloadElement.remove();\r\n    }\r\n\r\n    const generateLayout = async (name: string, workspaceId: string) => {\r\n        const instance = glue.agm.instance;\r\n        const payload = { operation: \"generateLayout\", operationArguments: { name, workspaceId } };\r\n\r\n        return (await glue.agm.invoke(\"T42.Workspaces.Control\", payload, instance || \"best\")).returned;\r\n    }\r\n\r\n    const onClick = () => {\r\n        const workspaceName = inputValue;\r\n\r\n        if (workspaceId && !buildMode) {\r\n            hideFeedback();\r\n            if (!workspaceName) {\r\n                showFeedback(\"Please provide a valid name\");\r\n                return;\r\n            }\r\n\r\n            if (shouldSave) {\r\n                return;\r\n            }\r\n\r\n            setShouldSave(true);\r\n        } else if (workspaceId) {\r\n            generateLayout(workspaceName, workspaceId).then((layout) => {\r\n                exportJson(layout, workspaceName);\r\n            }).catch((err) => {\r\n                showFeedback(err.message);\r\n            });\r\n        }\r\n    }\r\n\r\n    return (<button onClick={onClick} id=\"saveButton\" type=\"button\" className=\"btn btn-primary\">\r\n        {buildMode ? \"Download\" : \"Save\"}\r\n    </button>);\r\n};\r\n\r\nexport default SaveWorkspaceButton;","import React, {\r\n    useContext,\r\n    useEffect,\r\n    useLayoutEffect,\r\n    useState\r\n} from \"react\";\r\nimport { SaveWorkspacePopupProps } from \"../../../types/internal\";\r\nimport Feedback from \"../Feedback\";\r\nimport SaveContextCheckbox from \"./SaveContextCheckbox\";\r\nimport SaveWorkspaceButton from \"./SaveWorkspaceButton\";\r\nimport withGlueInstance from \"../../../withGlueInstance\";\r\n\r\nconst SaveWorkspacePopup: React.FC<SaveWorkspacePopupProps> = ({ workspaceId, resizePopup, hidePopup, buildMode, glue, ...props }) => {\r\n    const inputRef = React.createRef<HTMLInputElement>();\r\n    const containerRef = React.createRef<HTMLDivElement>();\r\n\r\n    const [shouldSaveContext, setShouldSaveContext] = useState(false);\r\n    const [feedbackMessage, setFeedbackMessage] = useState(\"\");\r\n    const [workspaceName, setWorkspaceName] = useState(\"\");\r\n\r\n    const refreshHeight = () => {\r\n        if (!containerRef?.current) {\r\n            return;\r\n        }\r\n\r\n        const bounds = containerRef.current.getBoundingClientRect();\r\n        resizePopup({\r\n            height: bounds.height,\r\n            width: 300\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        refreshHeight();\r\n    }, [feedbackMessage, workspaceId]);\r\n\r\n    useEffect(() => {\r\n        let shouldUpdate = true;\r\n        \r\n        glue.workspaces.getAllWorkspaces().then((allWorkspaces: any[]) => {\r\n            const myWorkspace = allWorkspaces.find((w) => w.id === workspaceId);\r\n            if (shouldUpdate) {\r\n                setWorkspaceName(myWorkspace.layoutName || \"\");\r\n            }\r\n        });\r\n\r\n        return () => {\r\n            shouldUpdate = false;\r\n        }\r\n    }, [workspaceId]);\r\n\r\n    const clearInput = () => {\r\n        setWorkspaceName(\"\");\r\n    }\r\n\r\n    return (\r\n        <div {...props} onClick={(e) => e.stopPropagation()} ref={containerRef} className=\"container-fluid save-workspace\">\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h5 className=\"border-bottom border-secondary pb-1 my-3\">Save Workspace</h5>\r\n                </div>\r\n            </div>\r\n            <div className=\"row mb-2\">\r\n                <div className=\"col\">\r\n                    <input ref={inputRef}\r\n                        value={workspaceName}\r\n                        onChange={(e) => setWorkspaceName(e.target.value)}\r\n                        onClick={(e) => setFeedbackMessage(\"\")}\r\n                        className=\"form-control mr-1\"\r\n                        type=\"text\"\r\n                        placeholder=\"Workspace name\"\r\n                        id=\"js-workspace-name\" />\r\n                </div>\r\n            </div>\r\n            <div className=\"row  align-items-center pb-2\">\r\n                <div className=\"col\">\r\n                    {!buildMode &&\r\n                        <SaveContextCheckbox\r\n                            changeChecked={(v) => setShouldSaveContext(v)}\r\n                            refreshHeight={refreshHeight}\r\n                        />}\r\n                </div>\r\n\r\n                <div className=\"col  text-right\">\r\n                    <SaveWorkspaceButton\r\n                        clearInput={clearInput}\r\n                        inputValue={workspaceName}\r\n                        workspaceId={workspaceId}\r\n                        shouldSaveContext={shouldSaveContext}\r\n                        showFeedback={setFeedbackMessage}\r\n                        hideFeedback={() => setFeedbackMessage(\"\")}\r\n                        hidePopup={hidePopup}\r\n                        buildMode={buildMode}\r\n                        glue={glue}\r\n                    />\r\n                </div>\r\n            </div>\r\n            {feedbackMessage && <Feedback errMessage={feedbackMessage} />}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default withGlueInstance(SaveWorkspacePopup);","/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\nfunction t(t,e,n,i){return new(n||(n=Promise))((function(o,s){function r(t){try{c(i.next(t))}catch(t){s(t)}}function a(t){try{c(i.throw(t))}catch(t){s(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,a)}c((i=i.apply(t,e||[])).next())}))}var e=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:{};function n(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error(\"Dynamic requires are not currently supported by @rollup/plugin-commonjs\")}(null==e&&n.path)}},n.exports),n.exports}var i=n((function(t,e){!function(e){var n={config:{},container:{},controls:{},errors:{},items:{},utils:{}};n.utils.F=function(){},n.utils.extend=function(t,e){t.prototype=n.utils.createObject(e.prototype),t.prototype.contructor=t},n.utils.createObject=function(t){return\"function\"==typeof Object.create?Object.create(t):(n.utils.F.prototype=t,new n.utils.F)},n.utils.objectKeys=function(t){var e,n;if(\"function\"==typeof Object.keys)return Object.keys(t);for(n in e=[],t)e.push(n);return e},n.utils.getHashValue=function(t){var e=location.hash.match(new RegExp(t+\"=([^&]*)\"));return e?e[1]:null},n.utils.getQueryStringParam=function(t){if(window.location.hash)return n.utils.getHashValue(t);if(!window.location.search)return null;var e,i,o=window.location.search.substr(1).split(\"&\"),s={};for(i=0;i<o.length;i++)s[(e=o[i].split(\"=\"))[0]]=e[1];return s[t]||null},n.utils.copy=function(t,e){for(var n in e)t[n]=e[n];return t},n.utils.animFrame=function(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)})((function(){t()}))},n.utils.indexOf=function(t,e){if(!(e instanceof Array))throw new Error(\"Haystack is not an Array\");if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},\"function\"!=typeof/./&&\"object\"!=typeof Int8Array?n.utils.isFunction=function(t){return\"function\"==typeof t||!1}:n.utils.isFunction=function(t){return\"[object Function]\"===toString.call(t)},n.utils.fnBind=function(t,e,n){if(void 0!==Function.prototype.bind)return Function.prototype.bind.apply(t,[e].concat(n||[]));var i=function(){var o=(n||[]).concat(Array.prototype.slice.call(arguments,0));if(!(this instanceof i))return t.apply(e,o);t.apply(this,o)};return i.prototype=t.prototype,i},n.utils.removeFromArray=function(t,e){var i=n.utils.indexOf(t,e);if(-1===i)throw new Error(\"Can't remove item from array. Item is not in the array\");e.splice(i,1)},n.utils.now=function(){return\"function\"==typeof Date.now?Date.now():(new Date).getTime()},n.utils.getUniqueId=function(){return(1e15*Math.random()).toString(36).replace(\".\",\"\")},n.utils.filterXss=function(t,e){var n=t.replace(/javascript/gi,\"j&#97;vascript\").replace(/expression/gi,\"expr&#101;ssion\").replace(/onload/gi,\"onlo&#97;d\").replace(/script/gi,\"&#115;cript\").replace(/onerror/gi,\"on&#101;rror\");return!0===e?n:n.replace(/>/g,\"&gt;\").replace(/</g,\"&lt;\")},n.utils.stripTags=function(t){return e.trim(t.replace(/(<([^>]+)>)/gi,\"\"))},n.utils.EventEmitter=function(){this._mSubscriptions={},this._mSubscriptions[n.utils.EventEmitter.ALL_EVENT]=[],this.on=function(t,e,i){if(!n.utils.isFunction(e))throw new Error(\"Tried to listen to event \"+t+\" with non-function callback \"+e);this._mSubscriptions[t]||(this._mSubscriptions[t]=[]),this._mSubscriptions[t].push({fn:e,ctx:i})},this.emit=function(t){var e,i,o;o=Array.prototype.slice.call(arguments,1);var s=this._mSubscriptions[t];if(s)for(s=s.slice(),e=0;e<s.length;e++)i=s[e].ctx||{},s[e].fn.apply(i,o);o.unshift(t);var r=this._mSubscriptions[n.utils.EventEmitter.ALL_EVENT].slice();for(e=0;e<r.length;e++)i=r[e].ctx||{},r[e].fn.apply(i,o)},this.unbind=function(t,e,n){if(this._mSubscriptions[t]){var i,o=!1;for(i=0;i<this._mSubscriptions[t].length;i++)e&&this._mSubscriptions[t][i].fn!==e||n&&n!==this._mSubscriptions[t][i].ctx||(this._mSubscriptions[t].splice(i,1),o=!0);if(!1===o)throw new Error(\"Nothing to unbind for \"+t)}},this.off=this.unbind,this.trigger=this.emit},n.utils.EventEmitter.ALL_EVENT=\"__all\",n.utils.DragListener=function(t,i){n.utils.EventEmitter.call(this),this._eElement=e(t),this._oDocument=e(document),this._eBody=e(document.body),this._nButtonCode=i||0,this._nDelay=200,this._nDistance=10,this._nX=0,this._nY=0,this._nOriginalX=0,this._nOriginalY=0,this._bDragging=!1,this._fMove=n.utils.fnBind(this.onMouseMove,this),this._fUp=n.utils.fnBind(this.onMouseUp,this),this._fDown=n.utils.fnBind(this.onMouseDown,this),this._eElement.on(\"mousedown touchstart\",this._fDown)},n.utils.DragListener.timeout=null,n.utils.copy(n.utils.DragListener.prototype,{destroy:function(){this._eElement.unbind(\"mousedown touchstart\",this._fDown),this._oDocument.unbind(\"mouseup touchend\",this._fUp),this._eElement=null,this._oDocument=null,this._eBody=null},onMouseDown:function(t){if(t.preventDefault(),0==t.button||\"touchstart\"===t.type){var e=this._getCoordinates(t);this._nOriginalX=e.x,this._nOriginalY=e.y,this._oDocument.on(\"mousemove touchmove\",this._fMove),this._oDocument.one(\"mouseup touchend\",this._fUp),this._timeout=setTimeout(n.utils.fnBind((function(){this._startDrag(t)}),this),this._nDelay)}},onMouseMove:function(t){if(null!=this._timeout){t.preventDefault();var e=this._getCoordinates(t);this._nX=e.x-this._nOriginalX,this._nY=e.y-this._nOriginalY,!1===this._bDragging&&(Math.abs(this._nX)>this._nDistance||Math.abs(this._nY)>this._nDistance)&&(clearTimeout(this._timeout),this._startDrag(t)),this._bDragging&&this.emit(\"drag\",this._nX,this._nY,t)}},onMouseUp:function(t){null!=this._timeout&&(clearTimeout(this._timeout),this._eBody.removeClass(\"lm_dragging\"),this._eElement.removeClass(\"lm_dragging\"),this._oDocument.find(\"iframe\").css(\"pointer-events\",\"\"),this._oDocument.unbind(\"mousemove touchmove\",this._fMove),this._oDocument.unbind(\"mouseup touchend\",this._fUp),!0===this._bDragging&&(this._bDragging=!1,this.emit(\"dragStop\",t,this._nOriginalX+this._nX)))},_startDrag:function(t){this._bDragging=!0,this._eBody.addClass(\"lm_dragging\"),this._eElement.addClass(\"lm_dragging\"),this._oDocument.find(\"iframe\").css(\"pointer-events\",\"none\"),this.emit(\"dragStart\",this._nOriginalX,this._nOriginalY,t)},_getCoordinates:function(t){return{x:(t=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0]:t).pageX,y:t.pageY}}}),n.LayoutManager=function(t,i,o){if(!e&&window.$&&(e=window.$),!e||\"function\"!=typeof e.noConflict){throw'Please either expose $ on GoldenLayout\\'s scope (e.g. window) or add \"jquery\" to ',\"your paths when using RequireJS/AMD\",new Error('jQuery is missing as dependency for GoldenLayout. Please either expose $ on GoldenLayout\\'s scope (e.g. window) or add \"jquery\" to your paths when using RequireJS/AMD')}n.utils.EventEmitter.call(this),this.isInitialised=!1,this._isFullPage=!1,this._resizeTimeoutId=null,this._components={\"lm-react-component\":n.utils.ReactComponentHandler},this._itemAreas=[],this._resizeFunction=n.utils.fnBind(this._onResize,this),this._unloadFunction=n.utils.fnBind(this._onUnload,this),this._maximizedItem=null,this._maximizePlaceholder=e('<div class=\"lm_maximise_place\"></div>'),this._creationTimeoutPassed=!1,this._subWindowsCreated=!1,this._dragSources=[],this._dragProxies=[],this._updatingColumnsResponsive=!1,this._firstLoad=!0,this._componentFactory=o,this.width=null,this.height=null,this.root=null,this.openPopouts=[],this.selectedItem=null,this.isSubWindow=!1,this.eventHub=new n.utils.EventHub(this),this.config=this._createConfig(t),this.container=i,this.dropTargetIndicator=null,this.transitionIndicator=null,this.tabDropPlaceholder=e('<div class=\"lm_drop_tab_placeholder\"></div>'),!0===this.isSubWindow&&e(\"body\").css(\"visibility\",\"hidden\"),this._typeToItem={column:n.utils.fnBind(n.items.RowOrColumn,this,[!0]),row:n.utils.fnBind(n.items.RowOrColumn,this,[!1]),stack:n.items.Stack,component:n.items.Component}},n.LayoutManager.__lm=n,n.LayoutManager.minifyConfig=function(t){return(new n.utils.ConfigMinifier).minifyConfig(t)},n.LayoutManager.unminifyConfig=function(t){return(new n.utils.ConfigMinifier).unminifyConfig(t)},n.utils.copy(n.LayoutManager.prototype,{registerComponent:function(t,e){if(\"function\"!=typeof e)throw new Error(\"Please register a constructor function\");if(void 0!==this._components[t])throw new Error(\"Component \"+t+\" is already registered\");this._components[t]=e},toConfig:function(t){var e,i,o;if(!1===this.isInitialised)throw new Error(\"Can't create config, layout not yet initialised\");if(t&&!(t instanceof n.items.AbstractContentItem))throw new Error(\"Root must be a ContentItem\");for((e={settings:n.utils.copy({},this.config.settings),dimensions:n.utils.copy({},this.config.dimensions),labels:n.utils.copy({},this.config.labels),context:n.utils.copy({},this.config.context),workspacesOptions:n.utils.copy({},this.config.workspacesOptions)}).content=[],(i=function(t,e){var n,o;for(n in e.config)\"content\"!==n&&(t[n]=e.config[n]);if(e.contentItems.length)for(t.content=[],o=0;o<e.contentItems.length;o++)t.content[o]={},i(t.content[o],e.contentItems[o])})(e,t?{contentItems:[t]}:this.root),this._$reconcilePopoutWindows(),e.openPopouts=[],o=0;o<this.openPopouts.length;o++)e.openPopouts.push(this.openPopouts[o].toConfig());return e.maximizedItemId=this._maximizedItem?\"__glMaximised\":null,e},getComponent:function(t){if(void 0===this._components[t])throw new n.errors.ConfigurationError('Unknown component \"'+t+'\"');return this._components[t]},init:function(){if(!1===this._subWindowsCreated&&(this._createSubWindows(),this._subWindowsCreated=!0),\"loading\"!==document.readyState&&null!==document.body){if(!0===this.isSubWindow&&!1===this._creationTimeoutPassed)return setTimeout(n.utils.fnBind(this.init,this),7),void(this._creationTimeoutPassed=!0);!0===this.isSubWindow&&this._adjustToWindowMode(),this._setContainer(),this.dropTargetIndicator=new n.controls.DropTargetIndicator(this.container),this.transitionIndicator=new n.controls.TransitionIndicator,this.updateSize(),this._create(this.config),this._bindEvents(),this.isInitialised=!0,this._adjustColumnsResponsive(),this.emit(\"initialised\")}else e(document).ready(n.utils.fnBind(this.init,this))},updateSize:function(t,e){2===arguments.length?(this.width=t,this.height=e):(this.width=this.container.width(),this.height=this.container.height()),!0===this.isInitialised&&(this.root.callDownwards(\"setSize\",[this.width,this.height]),this._maximizedItem&&(this._maximizedItem.element.width(t),this._maximizedItem.element.height(e),this._maximizedItem.callDownwards(\"setSize\")),this._adjustColumnsResponsive())},destroy:function(){!1!==this.isInitialised&&(this._onUnload(),e(window).off(\"resize\",this._resizeFunction),e(window).off(\"unload beforeunload\",this._unloadFunction),this.root.callDownwards(\"_$destroy\",[],!0),this.root.contentItems=[],this.tabDropPlaceholder.remove(),this.dropTargetIndicator.destroy(),this.transitionIndicator.destroy(),this.eventHub.destroy(),this._dragSources.forEach((function(t){\"function\"==typeof t._dragListener.destroy&&t._dragListener.destroy(),t._element=null,t._itemConfig=null,t._dragListener=null})),this._dragSources=[])},createContentItem:function(t,e){var i;if(\"string\"!=typeof t.type)throw new n.errors.ConfigurationError(\"Missing parameter 'type'\",t);if(\"react-component\"===t.type&&(t.type=\"component\",t.componentName=\"lm-react-component\"),!this._typeToItem[t.type])throw i=\"Unknown type '\"+t.type+\"'. Valid types are \"+n.utils.objectKeys(this._typeToItem).join(\",\"),new n.errors.ConfigurationError(i);return\"component\"!==t.type||e instanceof n.items.Stack||!e||!0===this.isSubWindow&&e instanceof n.items.Root||(t={type:\"stack\",width:t.width,height:t.height,content:[t]}),new this._typeToItem[t.type](this,t,e)},createPopout:function(t,e,i,o){var s,r,a,c,l,d,h=t,u=t instanceof n.items.AbstractContentItem,p=this;if(i=i||null,u){for(h=this.toConfig(t).content,i=n.utils.getUniqueId(),c=t.parent,l=t;1===c.contentItems.length&&!c.isRoot;)c=c.parent,l=l.parent;c.addId(i),isNaN(o)&&(o=n.utils.indexOf(l,c.contentItems))}else h instanceof Array||(h=[h]);return!e&&u&&(s=window.screenX||window.screenLeft,r=window.screenY||window.screenTop,e={left:s+(a=t.element.offset()).left,top:r+a.top,width:t.element.width(),height:t.element.height()}),e||u||(e={left:window.screenX||window.screenLeft+20,top:window.screenY||window.screenTop+20,width:500,height:309}),u&&t.remove(),(d=new n.controls.BrowserPopout(h,e,i,o,this)).on(\"initialised\",(function(){p.emit(\"windowOpened\",d)})),d.on(\"closed\",(function(){p._$reconcilePopoutWindows()})),this.openPopouts.push(d),d},createDragSource:function(t,i,o){this.config.settings.constrainDragToContainer=!1;var s=new n.controls.DragSource(e(t),i,this,o);return this._dragSources.push(s),s},selectItem:function(t,e){if(!0!==this.config.settings.selectionEnabled)throw new Error(\"Please set selectionEnabled to true to use this feature\");t!==this.selectedItem&&(null!==this.selectedItem&&this.selectedItem.deselect(),t&&!0!==e&&t.select(),this.selectedItem=t,this.emit(\"selectionChanged\",t))},_$maximiseItem:function(t){null!==this._maximizedItem&&this._$minimizeItem(this._maximizedItem),this._maximizedItem=t,this._maximizedItem.addId(\"__glMaximised\"),t.element.addClass(\"lm_maximised\"),t.element.after(this._maximizePlaceholder),this.root.element.prepend(t.element),t.element.width(this.container.width()),t.element.height(this.container.height()),t.callDownwards(\"setSize\"),this._maximizedItem.emit(\"maximized\"),this.emit(\"stateChanged\")},_$minimiseItem:function(t){t.element.removeClass(\"lm_maximised\"),t.removeId(\"__glMaximised\"),this._maximizePlaceholder.after(t.element),this._maximizePlaceholder.remove(),t.parent.callDownwards(\"setSize\"),this._maximizedItem=null,t.emit(\"minimized\"),this.emit(\"stateChanged\")},_$closeWindow:function(){window.setTimeout((function(){window.close()}),1)},_$getArea:function(t,e){var n,i,o=1/0,s=null;for(n=0;n<this._itemAreas.length;n++)t>(i=this._itemAreas[n]).x1&&t<i.x2&&e>i.y1&&e<i.y2&&o>i.surface&&(o=i.surface,s=i);return s},_$createRootItemAreas:function(){var t={y2:0,x2:0,y1:\"y2\",x1:\"x2\"};for(var e in t){var n=this.root._$getArea();n.side=e,n[e]=t[e]?n[t[e]]-50:\"y2\"===e?50+this.root.element.offset().top:50,n.surface=(n.x2-n.x1)*(n.y2-n.y1),this._itemAreas.push(n)}},_$calculateItemAreas:function(){var t,e,i=this._getAllContentItems();if(this._itemAreas=[],1!==i.length){for(this._$createRootItemAreas(),t=0;t<i.length;t++)if(i[t].isStack&&null!==(e=i[t]._$getArea()))if(e instanceof Array)this._itemAreas=this._itemAreas.concat(e);else{this._itemAreas.push(e);var o={};n.utils.copy(o,e),n.utils.copy(o,e.contentItem._contentAreaDimensions.header.highlightArea),o.surface=(o.x2-o.x1)*(o.y2-o.y1),this._itemAreas.push(o)}\"workspace\"===this.config.settings.mode&&(this._itemAreas=[this._itemAreas[this._itemAreas.length-1]])}else this._itemAreas.push(this.root._$getArea())},_$normalizeContentItem:function(t,i){if(!t)throw new Error(\"No content item defined\");if(n.utils.isFunction(t)&&(t=t()),t instanceof n.items.AbstractContentItem)return t;if(e.isPlainObject(t)&&t.type){var o=this.createContentItem(t,i);return o.callDownwards(\"_$init\"),o}throw new Error(\"Invalid contentItem\")},_$reconcilePopoutWindows:function(){var t,e=[];for(t=0;t<this.openPopouts.length;t++)!1===this.openPopouts[t].getWindow().closed?e.push(this.openPopouts[t]):this.emit(\"windowClosed\",this.openPopouts[t]);this.openPopouts.length!==e.length&&(this.emit(\"stateChanged\"),this.openPopouts=e)},_getAllContentItems:function(){var t=[],e=function(n){if(t.push(n),n.contentItems instanceof Array)for(var i=0;i<n.contentItems.length;i++)e(n.contentItems[i])};return e(this.root),t},_bindEvents:function(){this._isFullPage&&e(window).resize(this._resizeFunction),e(window).on(\"unload beforeunload\",this._unloadFunction)},_onResize:function(){clearTimeout(this._resizeTimeoutId),this._resizeTimeoutId=setTimeout(n.utils.fnBind(this.updateSize,this),100)},_createConfig:function(t){var i=n.utils.getQueryStringParam(\"gl-window\");i&&(this.isSubWindow=!0,t=localStorage.getItem(i),t=JSON.parse(t),t=(new n.utils.ConfigMinifier).unminifyConfig(t),localStorage.removeItem(i)),t=e.extend(!0,{},n.config.defaultConfig,t);var o=function(t){for(var e in t)\"props\"!==e&&\"object\"==typeof t[e]?o(t[e]):\"type\"===e&&\"react-component\"===t[e]&&(t.type=\"component\",t.componentName=\"lm-react-component\")};return o(t),!1===t.settings.hasHeaders&&(t.dimensions.headerHeight=0),t},_adjustToWindowMode:function(){var t=e('<div class=\"lm_popin\" title=\"'+this.config.labels.popin+'\"><div class=\"lm_icon\"></div><div class=\"lm_bg\"></div></div>');t.click(n.utils.fnBind((function(){this.emit(\"popIn\")}),this)),document.title=n.utils.stripTags(this.config.content[0].title),e(\"head\").append(e(\"body link, body style, template, .gl_keep\")),this.container=e(\"body\").html(\"\").css(\"visibility\",\"visible\").append(t);document.body.offsetHeight;window.__glInstance=this},_createSubWindows:function(){var t,e;for(t=0;t<this.config.openPopouts.length;t++)e=this.config.openPopouts[t],this.createPopout(e.content,e.dimensions,e.parentId,e.indexInParent)},_setContainer:function(){var t=e(this.container||\"body\");if(0===t.length)throw new Error(\"GoldenLayout container not found\");if(t.length>1)throw new Error(\"GoldenLayout more than one container element specified\");t[0]===document.body&&(this._isFullPage=!0,e(\"html, body\").css({height:\"100%\",margin:0,padding:0,overflow:\"hidden\"})),this.container=t},_create:function(t){var e;if(!(t.content instanceof Array))throw e=void 0===t.content?\"Missing setting 'content' on top level of configuration\":\"Configuration parameter 'content' must be an array\",new n.errors.ConfigurationError(e,t);if(t.content.length>1)throw e=\"Top level content can't contain more then one element.\",new n.errors.ConfigurationError(e,t);this.root=new n.items.Root(this,{content:t.content},this.container),this.root.callDownwards(\"_$init\"),\"__glMaximised\"===t.maximizedItemId&&this.root.getItemsById(t.maximizedItemId)[0].toggleMaximise()},_onUnload:function(){if(!0===this.config.settings.closePopoutsOnUnload)for(var t=0;t<this.openPopouts.length;t++)this.openPopouts[t].close()},_adjustColumnsResponsive:function(){if(this._useResponsiveLayout()&&!this._updatingColumnsResponsive&&this.config.dimensions&&this.config.dimensions.minItemWidth&&0!==this.root.contentItems.length&&this.root.contentItems[0].isRow){this._firstLoad=!1;var t=this.root.contentItems[0].contentItems.length;if(!(t<=1)){var e=this.config.dimensions.minItemWidth;if(!(t*e<=this.width)&&this.container.is(\":visible\")){this._updatingColumnsResponsive=!0;for(var n=t-Math.max(Math.floor(this.width/e),1),i=this.root.contentItems[0],o=this._findAllStackContainers()[0],s=0;s<n;s++){var r=i.contentItems[i.contentItems.length-1];this._addChildContentItemsToContainer(o,r)}this._updatingColumnsResponsive=!1}}}else this._firstLoad=!1},_useResponsiveLayout:function(){return this.config.settings&&(\"always\"==this.config.settings.responsiveMode||\"onload\"==this.config.settings.responsiveMode&&this._firstLoad)},_addChildContentItemsToContainer:function(t,e){\"stack\"===e.type?e.contentItems.forEach((function(n){t.addChild(n),e.removeChild(n,!0)})):e.contentItems.forEach(n.utils.fnBind((function(e){this._addChildContentItemsToContainer(t,e)}),this))},_findAllStackContainers:function(){var t=[];return this._findAllStackContainersRecursive(t,this.root),t},_findAllStackContainersRecursive:function(t,e){e.contentItems.forEach(n.utils.fnBind((function(e){\"stack\"==e.type?t.push(e):e.isComponent||this._findAllStackContainersRecursive(t,e)}),this))}}),n.LayoutManager.default=n.LayoutManager,t.exports=n.LayoutManager,window.GoldenLayout=n.LayoutManager,n.config.defaultConfig={openPopouts:[],settings:{hasHeaders:!0,constrainDragToContainer:!0,reorderEnabled:!0,selectionEnabled:!1,popoutWholeStack:!1,blockedPopoutsThrowError:!0,closePopoutsOnUnload:!0,showMinimizeIcon:!1,showPopoutIcon:!0,showMaximizeIcon:!0,showCloseIcon:!0,responsiveMode:\"always\",tabOverlapAllowance:0,reorderOnTabMenuClick:!0,tabControlOffset:10,mode:\"default\"},dimensions:{borderWidth:5,borderGrabWidth:15,minItemHeight:10,minItemWidth:10,headerHeight:20,dragProxyWidth:500,dragProxyHeight:500},labels:{close:\"close\",maximize:\"maximize\",restore:\"restore\",minimize:\"minimize\",popout:\"eject\",popin:\"pop in\",tabDropdown:\"additional tabs\"},workspacesOptions:{}},n.config.itemDefaultConfig={isClosable:!0,reorderEnabled:!0,title:\"\",workspacesConfig:{}},n.container.ItemContainer=function(t,i,o){n.utils.EventEmitter.call(this),this.width=null,this.height=null,this.title=t.componentName,this.parent=i,this.layoutManager=o,this.isHidden=!1,this._config=t,this._element=e(['<div class=\"lm_item_container\">','<div class=\"lm_content\"></div>',\"</div>\"].join(\"\")),this._contentElement=this._element.find(\".lm_content\")},n.utils.copy(n.container.ItemContainer.prototype,{getElement:function(){return this._contentElement},hide:function(){this.emit(\"hide\"),this.isHidden=!0,this._element.hide()},show:function(){this.emit(\"show\"),this.isHidden=!1,this._element.show(),0==this.height&&0==this.width||this.emit(\"shown\")},setSize:function(t,e){for(var n,i,o,s,r=this.parent,a=this;!r.isColumn&&!r.isRow;)if(a=r,(r=r.parent).isRoot)return!1;for(n=(\"height\"===(i=r.isColumn?\"height\":\"width\")?e:t)/(this[i]*(1/(a.config[i]/100)))*100,o=(a.config[i]-n)/(r.contentItems.length-1),s=0;s<r.contentItems.length;s++)r.contentItems[s]===a?r.contentItems[s].config[i]=n:r.contentItems[s].config[i]+=o;return r.callDownwards(\"setSize\"),!0},close:function(){this._config.isClosable&&(this.emit(\"close\"),this.parent.close())},getState:function(){return this._config.componentState},extendState:function(t){this.setState(e.extend(!0,this.getState(),t))},setState:function(t){this._config.componentState=t,this.parent.emitBubblingEvent(\"stateChanged\")},setTitle:function(t){this.parent.setTitle(t)},_$setSize:function(t,e){if(t!==this.width||e!==this.height){this.width=t,this.height=e;var n=this._contentElement[0],i=n.offsetWidth-n.clientWidth,o=n.offsetHeight-n.clientHeight;this._contentElement.width(this.width-i).height(this.height-o),this.emit(\"resize\")}}}),n.controls.BrowserPopout=function(t,e,i,o,s){n.utils.EventEmitter.call(this),this.isInitialised=!1,this._config=t,this._dimensions=e,this._parentId=i,this._indexInParent=o,this._layoutManager=s,this._popoutWindow=null,this._id=null,this._createWindow()},n.utils.copy(n.controls.BrowserPopout.prototype,{toConfig:function(){if(!1===this.isInitialised)throw new Error(\"Can't create config, layout not yet initialised\");return{dimensions:{width:this.getGlInstance().width,height:this.getGlInstance().height,left:this._popoutWindow.screenX||this._popoutWindow.screenLeft,top:this._popoutWindow.screenY||this._popoutWindow.screenTop},content:this.getGlInstance().toConfig().content,parentId:this._parentId,indexInParent:this._indexInParent}},getGlInstance:function(){return this._popoutWindow.__glInstance},getWindow:function(){return this._popoutWindow},close:function(){if(this.getGlInstance())this.getGlInstance()._$closeWindow();else try{this.getWindow().close()}catch(t){}},popIn:function(){var t,n;this._indexInParent;this._parentId&&(t=e.extend(!0,{},this.getGlInstance().toConfig()).content[0],(n=this._layoutManager.root.getItemsById(this._parentId)[0])||(n=this._layoutManager.root.contentItems.length>0?this._layoutManager.root.contentItems[0]:this._layoutManager.root)),n.addChild(t,this._indexInParent),this.close()},_createWindow:function(){var t,i=this._createUrl(),o=Math.floor(1e6*Math.random()).toString(36),s=this._serializeWindowOptions({width:this._dimensions.width,height:this._dimensions.height,innerWidth:this._dimensions.width,innerHeight:this._dimensions.height,menubar:\"no\",toolbar:\"no\",location:\"no\",personalbar:\"no\",resizable:\"yes\",scrollbars:\"no\",status:\"no\"});if(this._popoutWindow=window.open(i,o,s),this._popoutWindow)e(this._popoutWindow).on(\"load\",n.utils.fnBind(this._positionWindow,this)).on(\"unload beforeunload\",n.utils.fnBind(this._onClose,this)),t=setInterval(n.utils.fnBind((function(){this._popoutWindow.__glInstance&&this._popoutWindow.__glInstance.isInitialised&&(this._onInitialised(),clearInterval(t))}),this),10);else if(!0===this._layoutManager.config.settings.blockedPopoutsThrowError){var r=new Error(\"Popout blocked\");throw r.type=\"popoutBlocked\",r}},_serializeWindowOptions:function(t){var e,n=[];for(e in t)n.push(e+\"=\"+t[e]);return n.join(\",\")},_createUrl:function(){var t,e={content:this._config},i=\"gl-window-config-\"+n.utils.getUniqueId();e=(new n.utils.ConfigMinifier).minifyConfig(e);try{localStorage.setItem(i,JSON.stringify(e))}catch(t){throw new Error(\"Error while writing to localStorage \"+t.toString())}return 1===(t=document.location.href.split(\"?\")).length?t[0]+\"?gl-window=\"+i:document.location.href+\"&gl-window=\"+i},_positionWindow:function(){this._popoutWindow.moveTo(this._dimensions.left,this._dimensions.top),this._popoutWindow.focus()},_onInitialised:function(){this.isInitialised=!0,this.getGlInstance().on(\"popIn\",this.popIn,this),this.emit(\"initialised\")},_onClose:function(){setTimeout(n.utils.fnBind(this.emit,this,[\"closed\"]),50)}}),n.controls.DragProxy=function(t,i,o,s,r,a){n.utils.EventEmitter.call(this),this._dragListener=o,this._layoutManager=s,this._contentItem=r,this._originalParent=a,this._area=null,this._lastValidArea=null,this._dragListener.on(\"drag\",this._onDrag,this),this._dragListener.on(\"dragStop\",this._onDrop,this),this.element=e(n.controls.DragProxy._template),a&&a._side&&(this._sided=a._sided,this.element.addClass(\"lm_\"+a._side),[\"right\",\"bottom\"].indexOf(a._side)>=0&&this.element.find(\".lm_content\").after(this.element.find(\".lm_header\"))),this.element.css({left:t,top:i}),this.element.find(\".lm_tab\").attr(\"title\",n.utils.stripTags(this._contentItem.config.title)),this.element.find(\".lm_title\").html(this._contentItem.config.title),this.childElementContainer=this.element.find(\".lm_content\"),this.childElementContainer.append(r.element),this._originalParent&&this._originalParent.layoutManager.config&&this._originalParent.layoutManager.config.settings&&this._originalParent.layoutManager.config.settings.disableDragProxy&&this.element.find(\".lm_content\").css(\"display\",\"none\"),this._updateTree(),this._layoutManager._$calculateItemAreas(),this._setDimensions(),e(document.body).append(this.element);var c=this._layoutManager.container.offset();this._minX=c.left,this._minY=c.top,this._maxX=this._layoutManager.container.width()+this._minX,this._maxY=this._layoutManager.container.height()+this._minY,this._width=this._layoutManager.config.dimensions.dragProxyWidth,this._height=this._layoutManager.config.dimensions.dragProxyHeight,this._setDropPosition(t,i)},n.controls.DragProxy._template='<div class=\"lm_dragProxy\"><div class=\"lm_header\"><ul class=\"lm_tabs\"><li class=\"lm_tab lm_active\"><i class=\"lm_left\"></i><span class=\"lm_title\"></span><i class=\"lm_right\"></i></li></ul></div><div class=\"lm_content\"></div></div>',n.utils.copy(n.controls.DragProxy.prototype,{_onDrag:function(t,e,n){var i=(n=n.originalEvent&&n.originalEvent.touches?n.originalEvent.touches[0]:n).pageX,o=n.pageY;(i>this._minX&&i<this._maxX&&o>this._minY&&o<this._maxY||!0!==this._layoutManager.config.settings.constrainDragToContainer)&&this._setDropPosition(i,o)},_setDropPosition:function(t,e){this.element.css({left:t,top:e}),this._area=this._layoutManager._$getArea(t,e),null!==this._area&&(this._lastValidArea=this._area,this._area.contentItem._$highlightDropZone(t,e,this._area))},_onDrop:function(t){this._layoutManager.dropTargetIndicator.hide(),this.element.find(\".lm_content\").css(\"display\",\"\"),null===this._area||t&&t.canceled?null===this._lastValidArea||t&&t.canceled?!this._originalParent||t&&t.canceled?this._contentItem._$destroy():this._originalParent.addChild(this._contentItem):this._lastValidArea.contentItem._$onDrop(this._contentItem,this._lastValidArea):(this._area.contentItem._$onDrop(this._contentItem,this._area),this._originalParent&&this._area.contentItem!==this._originalParent&&this._layoutManager.emit(\"parentChanged\",this._contentItem,this._originalParent)),this.element.remove();const e=this._layoutManager._dragProxies.indexOf(this);e>-1&&this._layoutManager._dragProxies.splice(e,1),this._layoutManager.emit(\"itemDropped\",this._contentItem)},_updateTree:function(){this._contentItem.parent&&this._contentItem.parent.removeChild(this._contentItem,!0),this._contentItem._$setParent(this)},_setDimensions:function(){this._contentItem.callDownwards(\"_$show\")}}),n.controls.DragSource=function(t,e,n,i){this._element=t,this._itemConfig=e,this._layoutManager=n,this._dragListener=null,this._createDragListener(i)},n.utils.copy(n.controls.DragSource.prototype,{_createDragListener:function(t){null!==this._dragListener&&this._dragListener.destroy(),this._dragListener=t||new n.utils.DragListener(this._element),\"function\"==typeof this._dragListener.on&&(this._dragListener.on(\"dragStart\",this._onDragStart,this),this._dragListener.on(\"dragStop\",this._createDragListener,this))},_onDragStart:function(t,i){var o=this._itemConfig;n.utils.isFunction(o)&&(o=o());var s=this._layoutManager._$normalizeContentItem(e.extend(!0,{},o)),r=new n.controls.DragProxy(t,i,this._dragListener,this._layoutManager,s,null);this._layoutManager.transitionIndicator.transitionElements(this._element,r.element)}}),n.controls.DropTargetIndicator=function(){this.element=e(n.controls.DropTargetIndicator._template),e(document.body).append(this.element)},n.controls.DropTargetIndicator._template='<div class=\"lm_dropTargetIndicator\"><div class=\"lm_inner\"><span></span><span></span><span></span></div></div>',n.utils.copy(n.controls.DropTargetIndicator.prototype,{destroy:function(){this.element.remove()},highlight:function(t,e,n,i){this.highlightArea({x1:t,y1:e,x2:n,y2:i})},highlightArea:function(t){this.element.css({left:t.x1,top:t.y1,width:t.x2-t.x1,height:t.y2-t.y1}).show()},hide:function(){this.element.hide()}}),n.controls.Header=function(t,i){if(n.utils.EventEmitter.call(this),this.layoutManager=t,this.element=e(n.controls.Header._template),!0===this.layoutManager.config.settings.selectionEnabled&&(this.element.addClass(\"lm_selectable\"),this.element.on(\"click touchstart\",n.utils.fnBind(this._onHeaderClick,this))),\"workspace\"===this.layoutManager.config.settings.mode&&this.element.addClass(\"header_double\"),\"workspace\"===this.layoutManager.config.settings.mode&&this.layoutManager._componentFactory){const t=this.element.children(\".lm_controls\")[0],e=this.element.children(\".lm_workspace_controls\")[0],n=this.element.children(\".lm_logo\")[0];this.layoutManager._componentFactory.createLogo&&this.layoutManager._componentFactory.createLogo({domNode:n}),this.layoutManager._componentFactory.createAddWorkspace&&this.layoutManager._componentFactory.createAddWorkspace({domNode:e}),this.layoutManager._componentFactory.createSystemButtons&&this.layoutManager._componentFactory.createSystemButtons({domNode:t})}this.tabsContainer=this.element.find(\".lm_tabs\"),this.tabDropdownContainer=this.element.find(\".lm_tabdropdown_list\"),this.tabDropdownContainer.hide(),this.controlsContainer=this.element.find(\".lm_controls\"),this.workspaceControlsContainer=\"workspace\"===this.layoutManager.config.settings.mode?this.element.find(\".lm_workspace_controls\"):void 0,this.tabsControlsContainer=\"workspace\"!==this.layoutManager.config.settings.mode?this.element.find(\".lm_tabs_controls\"):void 0,this.parent=i,this.parent.on(\"resize\",this._updateTabSizesWithoutDropdown,this),this.tabs=[],this.activeContentItem=null,this.closeButton=null,this.tabDropdownButton=null,this.hideAdditionalTabsDropdown=n.utils.fnBind(this._hideAdditionalTabsDropdown,this),e(document).mouseup(this.hideAdditionalTabsDropdown),this._lastVisibleTabIndex=-1,this._tabControlOffset=this.layoutManager.config.settings.tabControlOffset,\"workspace\"===this.layoutManager.config.settings.mode&&this.layoutManager._componentFactory&&this.layoutManager._componentFactory.createSystemButtons||this._createControls()},n.controls.Header._template=['<div class=\"lm_header\">','<div class=\"lm_logo\"></div>','<ul class=\"lm_tabs\"></ul>','<ul class=\"lm_workspace_controls\"></ul>','<ul class=\"lm_tabs_controls\"></ul>','<div class=\"move_area\"></div>','<ul class=\"lm_controls\"></ul>','<ul class=\"lm_tabdropdown_list\"></ul>',\"</div>\"].join(\"\"),n.utils.copy(n.controls.Header.prototype,{createTab:function(t,e){var i,o;for(o=0;o<this.tabs.length;o++)if(this.tabs[o].contentItem===t)return;if(i=new n.controls.Tab(this,t),0===this.tabs.length)return this.tabs.push(i),void this.tabsContainer.append(i.element);void 0===e&&(e=this.tabs.length),e>0?this.tabs[e-1].element.after(i.element):this.tabs[0].element.before(i.element),this.tabs.splice(e,0,i),this._updateTabSizesWithoutDropdown()},removeTab:function(t){for(var e=0;e<this.tabs.length;e++)if(this.tabs[e].contentItem===t)return this.tabs[e]._$destroy(),void this.tabs.splice(e,1);throw new Error(\"contentItem is not controlled by this header\")},setActiveContentItem:function(t){var e,n,i,o;for(e=0;e<this.tabs.length;e++)i=this.tabs[e].contentItem===t,this.tabs[e].setActive(i),!0===i&&(this.activeContentItem=t,this.parent.config.activeItemIndex=e);if(this.layoutManager.config.settings.reorderOnTabMenuClick&&-1!==this._lastVisibleTabIndex&&this.parent.config.activeItemIndex>this._lastVisibleTabIndex){for(o=this.tabs[this.parent.config.activeItemIndex],n=this.parent.config.activeItemIndex;n>0;n--)this.tabs[n]=this.tabs[n-1];this.tabs[0]=o,this.parent.config.activeItemIndex=0}this._updateTabSizesWithoutDropdown(),this.parent.emitBubblingEvent(\"stateChanged\")},position:function(t){var e=this.parent._header.show;return e&&!this.parent._side&&(e=\"top\"),void 0!==t&&this.parent._header.show!=t&&(this.parent._header.show=t,this.parent._setupHeaderPosition()),e},_$setClosable:function(t){return!(!this.closeButton||!this._isClosable())&&(this.closeButton.element[t?\"show\":\"hide\"](),!0)},_$destroy:function(){this.emit(\"destroy\",this);for(var t=0;t<this.tabs.length;t++)this.tabs[t]._$destroy();e(document).off(\"mouseup\",this.hideAdditionalTabsDropdown),this.element.remove()},_getHeaderSetting:function(t){if(t in this.parent._header)return this.parent._header[t]},_createControls:function(){var t,e,i,o,s,r,a,c,l;l=n.utils.fnBind(this._showAdditionalTabsDropdown,this),c=this.layoutManager.config.labels.tabDropdown,this.tabDropdownButton=new n.controls.HeaderButton(this,c,\"lm_tabdropdown\",l),this.tabDropdownButton.element.hide(),this._getHeaderSetting(\"popout\")&&(e=n.utils.fnBind(this._onPopoutClick,this),i=this._getHeaderSetting(\"popout\"),new n.controls.HeaderButton(this,i,\"lm_popout\",e)),this._getHeaderSetting(\"minimize\")&&(minimizeLabel=this._getHeaderSetting(\"minimize\"),minimizeButton=new n.controls.HeaderButton(this,minimizeLabel,\"lm_minimise\",void 0)),this._getHeaderSetting(\"maximize\")&&(\"workspace\"!==this.layoutManager.config.settings.mode&&(r=n.utils.fnBind(this.parent.toggleMaximise,this.parent)),o=this._getHeaderSetting(\"maximize\"),a=new n.controls.HeaderButton(this,o,\"lm_maximise\",r),s=this._getHeaderSetting(\"restore\"),this.parent.on(\"maximized\",(function(){a.element.attr(\"title\",s)})),this.parent.on(\"minimized\",(function(){a.element.attr(\"title\",o)}))),this._isClosable()&&(\"workspace\"!==this.layoutManager.config.settings.mode&&(t=n.utils.fnBind(this.parent.remove,this.parent)),i=this._getHeaderSetting(\"close\"),this.closeButton=new n.controls.HeaderButton(this,i,\"lm_close\",t))},_showAdditionalTabsDropdown:function(){this.tabDropdownContainer.show()},_hideAdditionalTabsDropdown:function(t){this.tabDropdownContainer.hide()},_isClosable:function(){return this.parent.config.isClosable&&this.layoutManager.config.settings.showCloseIcon},_onPopoutClick:function(){this.parent.emit(\"popoutRequested\")},_onHeaderClick:function(t){t.target===this.element[0]&&this.parent.select()},_updateTabSizes:function(t){if(0!==this.tabs.length){this.tabDropdownButton.element.toggle(!0===t);this.element.css(!this.parent._sided?\"width\":\"height\",\"\");var e,n,i,o,s=this.element.outerWidth()-this.controlsContainer.outerWidth()-this._tabControlOffset,r=0,a=0,c=0,l=this.layoutManager.config.settings.tabOverlapAllowance,d=!1,h=this.activeContentItem?this.tabs.indexOf(this.activeContentItem.tab):0,u=this.tabs[h];for(this.parent._sided&&(s=this.element.outerHeight()-this.controlsContainer.outerHeight()-this._tabControlOffset),this._lastVisibleTabIndex=-1,n=0;n<this.tabs.length;n++)if(e=this.tabs[n].element,this.tabsContainer.append(e),r+=e.outerWidth()+parseInt(e.css(\"margin-right\"),10),(a=h<=n?r:r+u.element.outerWidth()+parseInt(u.element.css(\"margin-right\"),10))>s){if(d)n===h&&(e.css({\"z-index\":\"auto\",\"margin-left\":\"\"}),this.tabsContainer.append(e));else if((c=h>0&&h<=n?(a-s)/(n-1):(a-s)/n)<l){for(i=0;i<=n;i++)o=i!==h&&0!==i?\"-\"+c+\"px\":\"\",this.tabs[i].element.css({\"z-index\":n-i,\"margin-left\":o});this._lastVisibleTabIndex=n,this.tabsContainer.append(e)}else d=!0;if(d&&n!==h){if(!t)return void this._updateTabSizes(!0);e.css({\"z-index\":\"auto\",\"margin-left\":\"\"}),this.tabDropdownContainer.append(e)}}else this._lastVisibleTabIndex=n,e.css({\"z-index\":\"auto\",\"margin-left\":\"\"}),this.tabsContainer.append(e)}},_updateTabSizesWithoutDropdown:function(t){if(0!==this.tabs.length){this.element.css(!this.parent._sided?\"width\":\"height\",\"\");this.element.outerWidth(),this.controlsContainer.outerWidth(),this._tabControlOffset;var e,n,i=0,o=(this.layoutManager.config.settings.tabOverlapAllowance,this.activeContentItem?this.tabs.indexOf(this.activeContentItem.tab):0),s=this.tabs[o];for(this.parent._sided&&this.element.outerHeight()-this.controlsContainer.outerHeight()-this._tabControlOffset,n=0;n<this.tabs.length;n++)e=this.tabs[n].element,this.tabsContainer.append(e),i+=e.outerWidth()+parseInt(e.css(\"margin-right\"),10),o<=n?i:i+s.element.outerWidth()+parseInt(s.element.css(\"margin-right\"),10),e.css({\"z-index\":\"auto\",\"margin-left\":\"\"}),this.tabsContainer.append(e)}}}),n.controls.HeaderButton=function(t,n,i,o){this._header=t,this.element=e('<li class=\"'+i+'\" title=\"'+n+'\"></li>'),this._header.on(\"destroy\",this._$destroy,this),this._action=o,this.element.on(\"click touchstart\",this._action),this._header.controlsContainer.append(this.element)},n.utils.copy(n.controls.HeaderButton.prototype,{_$destroy:function(){this.element.off(),this.element.remove()}}),n.controls.Splitter=function(t,e,i){this._isVertical=t,this._size=e,this._grabSize=i<e?e:i,this.element=this._createElement(),this._dragListener=new n.utils.DragListener(this.element)},n.utils.copy(n.controls.Splitter.prototype,{on:function(t,e,n){this._dragListener.on(t,e,n)},_$destroy:function(){this.element.remove()},_createElement:function(){var t=e('<div class=\"lm_drag_handle\"></div>'),n=e('<div class=\"lm_splitter\"></div>');n.append(t);var i=this._grabSize-this._size,o=i/2;return this._isVertical?(t.css(\"top\",-o),t.css(\"height\",this._size+i),n.addClass(\"lm_vertical\"),n.height(this._size)):(t.css(\"left\",-o),t.css(\"width\",this._size+i),n.addClass(\"lm_horizontal\"),n.width(this._size)),n}}),n.controls.Tab=function(t,i){this.header=t,this.contentItem=i,this.element=e(n.controls.Tab._template),this.titleElement=this.element.find(\".lm_title\"),this.closeElement=this.element.find(\".lm_close_tab\"),this.closeElement[i.config.isClosable?\"show\":\"hide\"](),this.isActive=!1,this.setTitle(i.config.title),this.contentItem.on(\"titleChanged\",this.setTitle,this),this._layoutManager=this.contentItem.layoutManager,!0===this._layoutManager.config.settings.reorderEnabled&&!0===i.config.reorderEnabled&&(this._dragListener=new n.utils.DragListener(this.element),this._dragListener.on(\"dragStart\",this._onDragStart,this),this.contentItem.on(\"destroy\",this._dragListener.destroy,this._dragListener)),this._onTabClickFn=n.utils.fnBind(this._onTabClick,this),this._onCloseClickFn=n.utils.fnBind(this._onCloseClick,this),\"workspace\"===this._layoutManager.config.settings.mode&&i.config.noTabHeader&&this.element.hide(),this.element.on(\"mousedown touchstart\",this._onTabClickFn),this.contentItem.config.isClosable?(this.closeElement.on(\"click touchstart\",this._onCloseClickFn),this.closeElement.on(\"mousedown\",this._onCloseMousedown)):this.closeElement.remove(),this.contentItem.tab=this,this.contentItem.emit(\"tab\",this),this.contentItem.layoutManager.emit(\"tabCreated\",this),this.contentItem.isComponent&&(this.contentItem.container.tab=this,this.contentItem.container.emit(\"tab\",this))},n.controls.Tab._template='<li class=\"lm_tab\"><i class=\"lm_left\"></i><span class=\"lm_title\"></span><div class=\"lm_close_tab\"></div><i class=\"lm_right\"></i></li>',n.utils.copy(n.controls.Tab.prototype,{setTitle:function(t){this.element.attr(\"title\",n.utils.stripTags(t)),this.titleElement.html(t)},onCloseClick:void 0,setActive:function(t){t!==this.isActive&&(this.isActive=t,t?this.element.addClass(\"lm_active\"):this.element.removeClass(\"lm_active\"))},_$destroy:function(){this.element.off(\"mousedown touchstart\",this._onTabClickFn),this.closeElement.off(\"click touchstart\",this._onCloseClickFn),this._dragListener&&(this.contentItem.off(\"destroy\",this._dragListener.destroy,this._dragListener),this._dragListener.off(\"dragStart\",this._onDragStart),this._dragListener=null),this.element.remove()},_onDragStart:function(t,e){!0===this.contentItem.parent.isMaximized&&this.contentItem.parent.toggleMaximise();const i=\"workspace\"===this.contentItem.layoutManager.config.settings.mode,o=this.contentItem.parent.header.tabs.length<2,s=!this.contentItem.config.windowId&&!this.contentItem.config.componentState.windowId;if(i&&o)return;if(!i&&s)return;const r=new n.controls.DragProxy(t,e,this._dragListener,this._layoutManager,this.contentItem,this.header.parent);this._layoutManager._dragProxies.push(r)},_onTabClick:function(t){if(0===t.button||\"touchstart\"===t.type){var e=this.header.parent.getActiveContentItem();this.contentItem!==e&&this.header.parent.setActiveContentItem(this.contentItem)}else 1===t.button&&this.contentItem.config.isClosable&&this._onCloseClick(t)},_onCloseClick:function(t){this.contentItem.layoutManager.emit(\"tabCloseRequested\",this),this.onCloseClick&&this.onCloseClick(t)},_onCloseMousedown:function(t){t.stopPropagation()}}),n.controls.TransitionIndicator=function(){this._element=e('<div class=\"lm_transition_indicator\"></div>'),e(document.body).append(this._element),this._toElement=null,this._fromDimensions=null,this._totalAnimationDuration=200,this._animationStartTime=null},n.utils.copy(n.controls.TransitionIndicator.prototype,{destroy:function(){this._element.remove()},transitionElements:function(t,e){},_nextAnimationFrame:function(){var t,e=this._measure(this._toElement),i=(n.utils.now()-this._animationStartTime)/this._totalAnimationDuration,o={};if(i>=1)this._element.hide();else{for(t in e.opacity=0,this._fromDimensions)o[t]=this._fromDimensions[t]+(e[t]-this._fromDimensions[t])*i;this._element.css(o),n.utils.animFrame(n.utils.fnBind(this._nextAnimationFrame,this))}},_measure:function(t){var e=t.offset();return{left:e.left,top:e.top,width:t.outerWidth(),height:t.outerHeight()}}}),n.errors.ConfigurationError=function(t,e){Error.call(this),this.name=\"Configuration Error\",this.message=t,this.node=e},n.errors.ConfigurationError.prototype=new Error,n.items.AbstractContentItem=function(t,e,i){n.utils.EventEmitter.call(this),this.config=this._extendItemNode(e),this.type=e.type,this.contentItems=[],this.parent=i,this.isInitialised=!1,this.isMaximized=!1,this.isRoot=!1,this.isRow=!1,this.isColumn=!1,this.isStack=!1,this.isComponent=!1,this.isVisible=!0,this.layoutManager=t,this._pendingEventPropagations={},this._throttledEvents=[\"stateChanged\"],this.on(n.utils.EventEmitter.ALL_EVENT,this._propagateEvent,this),e.content&&this._createContentItems(e)},n.utils.copy(n.items.AbstractContentItem.prototype,{setSize:function(){throw new Error(\"Abstract Method\")},callDownwards:function(t,e,n,i){var o;for(!0!==n&&!0!==i&&this[t].apply(this,e||[]),o=0;o<this.contentItems.length;o++)this.contentItems[o].callDownwards(t,e,n);!0===n&&!0!==i&&this[t].apply(this,e||[])},removeChild:function(t,e){var i=n.utils.indexOf(t,this.contentItems);if(-1===i)throw new Error(\"Can't remove child item. Unknown content item\");!0!==e&&this.contentItems[i]._$destroy(),this.contentItems.splice(i,1),this.config.content.splice(i,1),this.contentItems.length>0?this.callDownwards(\"setSize\"):this instanceof n.items.Root||!0!==this.config.isClosable||this.parent.removeChild(this)},addChild:function(t,e){void 0===e&&(e=this.contentItems.length),this.contentItems.splice(e,0,t),void 0===this.config.content&&(this.config.content=[]),this.config.content.splice(e,0,t.config),t.parent=this,!0===t.parent.isInitialised&&!1===t.isInitialised&&t._$init()},replaceChild:function(t,e,i){e=this.layoutManager._$normalizeContentItem(e);var o=n.utils.indexOf(t,this.contentItems),s=t.element[0].parentNode;if(-1===o)throw new Error(\"Can't replace child. oldChild is not child of this\");s.replaceChild(e.element[0],t.element[0]);const r=t.isVisible;!0===i&&(t.parent=null,t._$destroy()),this.contentItems[o]=e,e.parent=this,this.isStack&&(this.header.tabs[o].contentItem=e),!0===e.parent.isInitialised&&!1===e.isInitialised&&e._$init(),r||e._$hide(),this.callDownwards(\"setSize\")},remove:function(){this.parent.removeChild(this)},popout:function(){var t=this.layoutManager.createPopout(this);return this.emitBubblingEvent(\"stateChanged\"),t},toggleMaximise:function(t){t&&t.preventDefault(),!0===this.isMaximized?this.layoutManager._$minimiseItem(this):this.layoutManager._$maximiseItem(this),this.isMaximized=!this.isMaximized,this.emitBubblingEvent(\"stateChanged\")},select:function(){this.layoutManager.selectedItem!==this&&(this.layoutManager.selectItem(this,!0),this.element.addClass(\"lm_selected\"))},deselect:function(){this.layoutManager.selectedItem===this&&(this.layoutManager.selectedItem=null,this.element.removeClass(\"lm_selected\"))},setTitle:function(t){this.config.title=t,this.emit(\"titleChanged\",t),this.emit(\"stateChanged\")},hasId:function(t){return!!this.config.id&&(\"string\"==typeof this.config.id?this.config.id===t:this.config.id instanceof Array?-1!==n.utils.indexOf(t,this.config.id):void 0)},addId:function(t){this.hasId(t)||(this.config.id?\"string\"==typeof this.config.id?this.config.id=[this.config.id,t]:this.config.id instanceof Array&&this.config.id.push(t):this.config.id=t)},removeId:function(t){if(!this.hasId(t))throw new Error(\"Id not found\");if(\"string\"==typeof this.config.id)delete this.config.id;else if(this.config.id instanceof Array){var e=n.utils.indexOf(t,this.config.id);this.config.id.splice(e,1)}},getItemsByFilter:function(t){var e=[],n=function(i){for(var o=0;o<i.contentItems.length;o++)!0===t(i.contentItems[o])&&e.push(i.contentItems[o]),n(i.contentItems[o])};return n(this),e},getItemsById:function(t){return this.getItemsByFilter((function(e){return e.config.id instanceof Array?-1!==n.utils.indexOf(t,e.config.id):e.config.id===t}))},getItemsByType:function(t){return this._$getItemsByProperty(\"type\",t)},getComponentsByName:function(t){var e,n=this._$getItemsByProperty(\"componentName\",t),i=[];for(e=0;e<n.length;e++)i.push(n[e].instance&&0!==Object.keys(n[e].instance).length?n[e].instance:n[e]);return i},_$getItemsByProperty:function(t,e){return this.getItemsByFilter((function(n){return n[t]===e}))},_$setParent:function(t){this.parent=t},_$highlightDropZone:function(t,e,n){this.layoutManager.dropTargetIndicator.highlightArea(n)},_$onDrop:function(t){this.addChild(t)},_$hide:function(){this._callOnActiveComponents(\"hide\"),this.element.hide(),this.isVisible=!1,this.layoutManager.updateSize()},_$show:function(){this._callOnActiveComponents(\"show\"),this.element.show(),this.isVisible=!0,this.layoutManager.updateSize()},_callOnActiveComponents:function(t){var e,n,i=this.getItemsByType(\"stack\");for(n=0;n<i.length;n++)(e=i[n].getActiveContentItem())&&e.isComponent&&e.container[t]()},_$destroy:function(){this.emitBubblingEvent(\"beforeItemDestroyed\"),this.callDownwards(\"_$destroy\",[],!0,!0),this.element.remove(),this.emitBubblingEvent(\"itemDestroyed\")},_$getArea:function(t){var e=(t=t||this.element).offset(),n=t.width(),i=t.height();return{x1:e.left,y1:e.top,x2:e.left+n,y2:e.top+i,surface:n*i,contentItem:this}},_$init:function(){var t;for(this.setSize(),t=0;t<this.contentItems.length;t++)this.childElementContainer.append(this.contentItems[t].element);this.isInitialised=!0,this.emitBubblingEvent(\"itemCreated\"),this.emitBubblingEvent(this.type+\"Created\")},emitBubblingEvent:function(t){var e=new n.utils.BubblingEvent(t,this);this.emit(t,e)},_createContentItems:function(t){var e,i;if(!(t.content instanceof Array))throw new n.errors.ConfigurationError(\"content must be an Array\",t);for(i=0;i<t.content.length;i++)e=this.layoutManager.createContentItem(t.content[i],this),this.contentItems.push(e)},_extendItemNode:function(t){for(var e in n.config.itemDefaultConfig)void 0===t[e]&&(t[e]=n.config.itemDefaultConfig[e]);return t},_propagateEvent:function(t,e){e instanceof n.utils.BubblingEvent&&!1===e.isPropagationStopped&&!0===this.isInitialised&&(!1===this.isRoot&&this.parent?this.parent.emit.apply(this.parent,Array.prototype.slice.call(arguments,0)):this._scheduleEventPropagationToLayoutManager(t,e))},_scheduleEventPropagationToLayoutManager:function(t,e){-1===n.utils.indexOf(t,this._throttledEvents)?this.layoutManager.emit(t,e.origin):!0!==this._pendingEventPropagations[t]&&(this._pendingEventPropagations[t]=!0,n.utils.animFrame(n.utils.fnBind(this._propagateEventToLayoutManager,this,[t,e])))},_propagateEventToLayoutManager:function(t,e){this._pendingEventPropagations[t]=!1,this.layoutManager.emit(t,e)}}),n.items.Component=function(t,i,o){n.items.AbstractContentItem.call(this,t,i,o);var s=t.getComponent(this.config.componentName),r=e.extend(!0,{},this.config.componentState||{});r.componentName=this.config.componentName,this.componentName=this.config.componentName,\"\"===this.config.title&&(this.config.title=this.config.componentName),this.isComponent=!0,this.container=new n.container.ItemContainer(this.config,this,t),this.instance=new s(this.container,r),this.element=this.container._element},n.utils.extend(n.items.Component,n.items.AbstractContentItem),n.utils.copy(n.items.Component.prototype,{close:function(){this.parent.removeChild(this)},setSize:function(){this.element.is(\":visible\")&&(this.emit(\"size-changed\",{width:this.element.width(),height:this.element.height()}),this.container._$setSize(this.element.width(),this.element.height()))},_$init:function(){n.items.AbstractContentItem.prototype._$init.call(this),this.container.emit(\"open\")},_$hide:function(){this.container.hide(),n.items.AbstractContentItem.prototype._$hide.call(this)},_$show:function(){this.container.show(),n.items.AbstractContentItem.prototype._$show.call(this)},_$shown:function(){this.container.shown(),n.items.AbstractContentItem.prototype._$shown.call(this)},_$destroy:function(){this.container.emit(\"destroy\",this),n.items.AbstractContentItem.prototype._$destroy.call(this)},_$getArea:function(){return null}}),n.items.Root=function(t,i,o){n.items.AbstractContentItem.call(this,t,i,null),this.isRoot=!0,this.type=\"root\",this.element=e('<div class=\"lm_goldenlayout lm_item lm_root\"></div>'),this.childElementContainer=this.element,this._containerElement=o,this._containerElement.append(this.element)},n.utils.extend(n.items.Root,n.items.AbstractContentItem),n.utils.copy(n.items.Root.prototype,{addChild:function(t){if(this.contentItems.length>0)throw new Error(\"Root node can only have a single child\");t=this.layoutManager._$normalizeContentItem(t,this),this.childElementContainer.append(t.element),n.items.AbstractContentItem.prototype.addChild.call(this,t),this.callDownwards(\"setSize\"),this.emitBubblingEvent(\"stateChanged\")},setSize:function(t,e){t=void 0===t?this._containerElement.width():t,e=void 0===e?this._containerElement.height():e,this.element.width(t),this.element.height(e),this.contentItems[0]&&(this.contentItems[0].element.width(t),this.contentItems[0].element.height(e))},_$highlightDropZone:function(t,e,i){this.layoutManager.tabDropPlaceholder.remove(),n.items.AbstractContentItem.prototype._$highlightDropZone.apply(this,arguments)},_$onDrop:function(t,e){var i;if(t.isComponent&&((i=this.layoutManager.createContentItem({type:\"stack\",header:t.config.header||{}},this))._$init(),i.addChild(t),t=i),this.contentItems.length){var o=\"x\"==e.side[0]?\"row\":\"column\",s=\"x\"==e.side[0]?\"width\":\"height\",r=\"2\"==e.side[1],a=this.contentItems[0];if(!a instanceof n.items.RowOrColumn||a.type!=o){var c=this.layoutManager.createContentItem({type:o},this);this.replaceChild(a,c),c.addChild(t,r?0:void 0,!0),c.addChild(a,r?void 0:0,!0),a.config[s]=50,t.config[s]=50,c.callDownwards(\"setSize\")}else{var l=a.contentItems[r?0:a.contentItems.length-1];a.addChild(t,r?0:void 0,!0),l.config[s]*=.5,t.config[s]=l.config[s],a.callDownwards(\"setSize\")}}else this.addChild(t)}}),n.items.RowOrColumn=function(t,i,o,s){n.items.AbstractContentItem.call(this,i,o,s),this.isRow=!t,this.isColumn=t,this.element=e('<div class=\"lm_item lm_'+(t?\"column\":\"row\")+'\"></div>'),this.childElementContainer=this.element,this._splitterSize=i.config.dimensions.borderWidth,this._splitterGrabSize=i.config.dimensions.borderGrabWidth,this._isColumn=t,this._dimension=t?\"height\":\"width\",this._splitter=[],this._splitterPosition=null,this._splitterMinPosition=null,this._splitterMaxPosition=null,this._layoutManager=i},n.utils.extend(n.items.RowOrColumn,n.items.AbstractContentItem),n.utils.copy(n.items.RowOrColumn.prototype,{addChild:function(t,e,i){var o,s,r,a;if(t=this.layoutManager._$normalizeContentItem(t,this),void 0===e&&(e=this.contentItems.length),this.contentItems.length>0?(a=this._createSplitter(Math.max(0,e-1)).element,e>0?(this.contentItems[e-1].element.after(a),a.after(t.element)):(this.contentItems[0].element.before(a),a.before(t.element))):this.childElementContainer.append(t.element),n.items.AbstractContentItem.prototype.addChild.call(this,t,e),o=1/this.contentItems.length*100,!0!==i){for(r=0;r<this.contentItems.length;r++)this.contentItems[r]===t?t.config[this._dimension]=o:(s=this.contentItems[r].config[this._dimension]*=(100-o)/100,this.contentItems[r].config[this._dimension]=s);this.callDownwards(\"setSize\"),this.emitBubblingEvent(\"stateChanged\")}else this.emitBubblingEvent(\"stateChanged\")},removeChild:function(t,e){var i,o,s=t.config[this._dimension],r=n.utils.indexOf(t,this.contentItems),a=Math.max(r-1,0);if(-1===r)throw new Error(\"Can't remove child. ContentItem is not child of this Row or Column\");for(this._splitter[a]&&(this._splitter[a]._$destroy(),this._splitter.splice(a,1)),i=0;i<this.contentItems.length;i++)this.contentItems[i]!==t&&(this.contentItems[i].config[this._dimension]+=s/(this.contentItems.length-1));n.items.AbstractContentItem.prototype.removeChild.call(this,t,e),1===this.contentItems.length&&!0===this.config.isClosable?(o=this.contentItems[0],this.contentItems=[],this.parent.replaceChild(this,o,!0)):(this.callDownwards(\"setSize\"),this.emitBubblingEvent(\"stateChanged\"))},replaceChild:function(t,e){var i=t.config[this._dimension];e.config=e.config||{},e.config[this._dimension]=i,n.items.AbstractContentItem.prototype.replaceChild.call(this,t,e),this.callDownwards(\"setSize\"),this.emitBubblingEvent(\"stateChanged\")},setSize:function(){this.contentItems.length>0&&(this._calculateRelativeSizes(),this._setAbsoluteSizes()),this.emitBubblingEvent(\"stateChanged\"),this.emit(\"resize\")},_$init:function(){var t;if(!0!==this.isInitialised)for(n.items.AbstractContentItem.prototype._$init.call(this),t=0;t<this.contentItems.length-1;t++)this.contentItems[t].element.after(this._createSplitter(t).element)},_setAbsoluteSizes:function(){var t,e=this._calculateAbsoluteSizes();for(t=0;t<this.contentItems.length;t++)e.additionalPixel-t>0&&e.itemSizes[t]++,this._isColumn?(this.contentItems[t].element.width(e.totalWidth),this.contentItems[t].element.height(e.itemSizes[t])):(this.contentItems[t].element.width(e.itemSizes[t]),this.contentItems[t].element.height(e.totalHeight))},_calculateAbsoluteSizes:function(){var t,e,n=(this.contentItems.length-1)*this._splitterSize,i=this.element.width(),o=this.element.height(),s=0,r=[];for(this._isColumn?o-=n:i-=n,t=0;t<this.contentItems.length;t++)s+=e=this._isColumn?Math.floor(o*(this.contentItems[t].config.height/100)):Math.floor(i*(this.contentItems[t].config.width/100)),r.push(e);return{itemSizes:r,additionalPixel:Math.floor((this._isColumn?o:i)-s),totalWidth:i,totalHeight:o}},_calculateRelativeSizes:function(){var t,e=0,n=[],i=this._isColumn?\"height\":\"width\";for(t=0;t<this.contentItems.length;t++)void 0!==this.contentItems[t].config[i]?e+=this.contentItems[t].config[i]:n.push(this.contentItems[t]);if(100!==Math.round(e))if(Math.round(e)<100&&n.length>0){for(t=0;t<n.length;t++)n[t].config[i]=(100-e)/n.length;this._respectMinItemWidth()}else{if(Math.round(e)>100)for(t=0;t<n.length;t++)n[t].config[i]=50,e+=50;for(t=0;t<this.contentItems.length;t++)this.contentItems[t].config[i]=this.contentItems[t].config[i]/e*100;this._respectMinItemWidth()}else this._respectMinItemWidth()},_respectMinItemWidth:function(){var t,e,n,i,o=this.layoutManager.config.dimensions&&this.layoutManager.config.dimensions.minItemWidth||0,s=[],r=0,a=0,c=0,l=0,d=[];if(!(this._isColumn||!o||this.contentItems.length<=1)){t=this._calculateAbsoluteSizes();for(var h=0;h<this.contentItems.length;h++)this.contentItems[h],(l=t.itemSizes[h])<o?(a+=o-l,i={width:o}):(r+=l-o,i={width:l},s.push(i)),d.push(i);if(!(0===a||a>r)){for(e=a/r,c=a,h=0;h<s.length;h++)i=s[h],c-=n=Math.round((i.width-o)*e),i.width-=n;for(0!==c&&(d[d.length-1].width-=c),h=0;h<this.contentItems.length;h++)this.contentItems[h].config.width=d[h].width/t.totalWidth*100}}},_createSplitter:function(t){var e;return(e=new n.controls.Splitter(this._isColumn,this._splitterSize,this._splitterGrabSize)).on(\"drag\",n.utils.fnBind(this._onSplitterDrag,this,[e]),this),e.on(\"dragStop\",n.utils.fnBind(this._onSplitterDragStop,this,[e]),this),e.on(\"dragStart\",n.utils.fnBind(this._onSplitterDragStart,this,[e]),this),this._splitter.splice(t,0,e),e},_getItemsForSplitter:function(t){var e=n.utils.indexOf(t,this._splitter);return{before:this.contentItems[e],after:this.contentItems[e+1]}},_getMinimumDimensions:function(t){for(var e=0,n=0,i=0;i<t.length;++i)e=Math.max(t[i].minWidth||0,e),n=Math.max(t[i].minHeight||0,n);return{horizontal:e,vertical:n}},_onSplitterDragStart:function(t){var e=this._getItemsForSplitter(t),n=this.layoutManager.config.dimensions[this._isColumn?\"minItemHeight\":\"minItemWidth\"],i=this._getMinimumDimensions(e.before.config.content),o=this._isColumn?i.vertical:i.horizontal,s=this._getMinimumDimensions(e.after.config.content),r=this._isColumn?s.vertical:s.horizontal;this._splitterPosition=0,this._splitterMinPosition=-1*(e.before.element[this._dimension]()-(o||n)),this._splitterMaxPosition=e.after.element[this._dimension]()-(r||n)},_onSplitterDrag:function(t,e,n){var i=this._isColumn?n:e;i>this._splitterMinPosition&&i<this._splitterMaxPosition&&(this._splitterPosition=i,t.element.css(this._isColumn?\"top\":\"left\",i)),this._layoutManager.emit(\"splitterDragged\",t)},_onSplitterDragStop:function(t){var e=this._getItemsForSplitter(t),i=e.before.element[this._dimension](),o=e.after.element[this._dimension](),s=(this._splitterPosition+i)/(i+o),r=e.before.config[this._dimension]+e.after.config[this._dimension];e.before.config[this._dimension]=s*r,e.after.config[this._dimension]=(1-s)*r,t.element.css({top:0,left:0}),n.utils.animFrame(n.utils.fnBind(this.callDownwards,this,[\"setSize\"])),this._layoutManager.emit(\"splitterDragStopped\",t)}}),n.items.Stack=function(t,i,o){n.items.AbstractContentItem.call(this,t,i,o),this.element=e('<div class=\"lm_item lm_stack\"></div>'),this._activeContentItem=null;var s=t.config;this._header={show:!0===s.settings.hasHeaders&&!1!==i.hasHeaders,popout:s.settings.showPopoutIcon&&s.labels.popout,maximize:s.settings.showMaximizeIcon&&s.labels.maximize,minimize:s.settings.showMinimizeIcon&&s.labels.minimize,close:s.settings.showCloseIcon&&s.labels.close},s.header&&n.utils.copy(this._header,s.header),i.header&&n.utils.copy(this._header,i.header),i.content&&i.content[0]&&i.content[0].header&&n.utils.copy(this._header,i.content[0].header),this._dropZones={},this._dropSegment=null,this._contentAreaDimensions=null,this._dropIndex=null,this.isStack=!0,this.childElementContainer=e('<div class=\"lm_items\"></div>'),this.header=new n.controls.Header(t,this),this.element.append(this.header.element),this.element.append(this.childElementContainer),this._setupHeaderPosition(),this._$validateClosability()},n.utils.extend(n.items.Stack,n.items.AbstractContentItem),n.utils.copy(n.items.Stack.prototype,{setSize:function(){var t,e=this._header.show?this.header.element.height():0,n=this.element.width()-(this._sided?e:0),i=this.element.height()-(this._sided?0:e);for(this.childElementContainer.width(n),this.childElementContainer.height(i),t=0;t<this.contentItems.length;t++)this.contentItems[t].element.width(n).height(i);this.emit(\"resize\"),this.emitBubblingEvent(\"stateChanged\")},_$init:function(){var t,e;if(!0!==this.isInitialised){for(n.items.AbstractContentItem.prototype._$init.call(this),t=0;t<this.contentItems.length;t++)this.header.createTab(this.contentItems[t]),this.contentItems[t]._$hide();if(this.contentItems.length>0){if(!(e=this.contentItems[this.config.activeItemIndex||0]))throw new Error(\"Configured activeItemIndex out of bounds\");this.setActiveContentItem(e)}}},setActiveContentItem:function(t){if(-1===n.utils.indexOf(t,this.contentItems))throw new Error(\"contentItem is not a child of this stack\");const e=this._activeContentItem;null!==this._activeContentItem&&this._activeContentItem._$hide(),this._activeContentItem=t,this.header.setActiveContentItem(t),t._$show(),this.emit(\"activeContentItemChanged\",t),this.layoutManager.emit(\"activeContentItemChanged\",t),e&&e.emit(\"focusLost\"),this.emitBubblingEvent(\"stateChanged\")},getActiveContentItem:function(){return this.header.activeContentItem},addChild:function(t,i,o=!0){t=this.layoutManager._$normalizeContentItem(t,this),n.items.AbstractContentItem.prototype.addChild.call(this,t,i),this.childElementContainer.append(t.element),this.header.createTab(t,i),e(this.layoutManager.container).is(\":visible\")&&o?this.setActiveContentItem(t):t._$hide(),this.callDownwards(\"setSize\"),this._$validateClosability(),this.emitBubblingEvent(\"stateChanged\")},removeChild:function(t,e){var i=n.utils.indexOf(t,this.contentItems);n.items.AbstractContentItem.prototype.removeChild.call(this,t,e),this.header.removeTab(t),this.header.activeContentItem===t&&(this.contentItems.length>0?this.setActiveContentItem(this.contentItems[Math.max(i-1,0)]):this._activeContentItem=null),this._$validateClosability(),this.emitBubblingEvent(\"stateChanged\")},_$validateClosability:function(){var t,e,n;for(t=this.header._isClosable(),n=0,e=this.contentItems.length;n<e&&t;n++)t=this.contentItems[n].config.isClosable;this.header._$setClosable(t)},_$destroy:function(){n.items.AbstractContentItem.prototype._$destroy.call(this),this.header._$destroy()},_$onDrop:function(t){if(\"header\"===this._dropSegment)return this._resetHeaderDropZone(),void this.addChild(t,this._dropIndex);if(\"body\"!==this._dropSegment){var e,i,o,s=\"top\"===this._dropSegment||\"bottom\"===this._dropSegment,r=\"left\"===this._dropSegment||\"right\"===this._dropSegment,a=\"top\"===this._dropSegment||\"left\"===this._dropSegment,c=s&&this.parent.isColumn||r&&this.parent.isRow,l=s?\"column\":\"row\",d=s?\"height\":\"width\";t.isComponent&&((i=this.layoutManager.createContentItem({type:\"stack\",header:t.config.header||{}},this))._$init(),i.addChild(t),t=i),c?(e=n.utils.indexOf(this,this.parent.contentItems),this.parent.addChild(t,a?e:e+1,!0),this.config[d]*=.5,t.config[d]=this.config[d],this.parent.callDownwards(\"setSize\")):(l=s?\"column\":\"row\",o=this.layoutManager.createContentItem({type:l},this),this.parent.replaceChild(this,o),o.addChild(t,a?0:void 0,!0),o.addChild(this,a?void 0:0,!0),this.config[d]=50,t.config[d]=50,o.callDownwards(\"setSize\"))}else this.addChild(t)},_$highlightDropZone:function(t,e){var n,i;for(n in this._contentAreaDimensions)if((i=this._contentAreaDimensions[n].hoverArea).x1<t&&i.x2>t&&i.y1<e&&i.y2>e)return void(\"header\"===n?(this._dropSegment=\"header\",this._highlightHeaderDropZone(this._sided?e:t)):(this._resetHeaderDropZone(),this._highlightBodyDropZone(n)))},_$getArea:function(){if(!1===this.element.is(\":visible\"))return null;var t=n.items.AbstractContentItem.prototype._$getArea,e=t.call(this,this.header.element),i=t.call(this,this.childElementContainer),o=i.x2-i.x1,s=i.y2-i.y1;return this._contentAreaDimensions={header:{hoverArea:{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2},highlightArea:{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2}}},this._activeContentItem&&!1===this._activeContentItem.isComponent?e:0===this.contentItems.length?(this._contentAreaDimensions.body={hoverArea:{x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2},highlightArea:{x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2}},t.call(this,this.element)):(\"workspace\"!==this.layoutManager.config.settings.mode&&(this._contentAreaDimensions.left={hoverArea:{x1:i.x1,y1:i.y1,x2:i.x1+.25*o,y2:i.y2},highlightArea:{x1:i.x1,y1:i.y1,x2:i.x1+.5*o,y2:i.y2}},this._contentAreaDimensions.top={hoverArea:{x1:i.x1+.25*o,y1:i.y1,x2:i.x1+.75*o,y2:i.y1+.5*s},highlightArea:{x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y1+.5*s}},this._contentAreaDimensions.right={hoverArea:{x1:i.x1+.75*o,y1:i.y1,x2:i.x2,y2:i.y2},highlightArea:{x1:i.x1+.5*o,y1:i.y1,x2:i.x2,y2:i.y2}},this._contentAreaDimensions.bottom={hoverArea:{x1:i.x1+.25*o,y1:i.y1+.5*s,x2:i.x1+.75*o,y2:i.y2},highlightArea:{x1:i.x1,y1:i.y1+.5*s,x2:i.x2,y2:i.y2}}),t.call(this,this.element))},_highlightHeaderDropZone:function(t){var e,n,i,o,s,r,a,c,l=this.header.tabs.length,d=!1;if(0===l)return a=this.header.element.offset(),void this.layoutManager.dropTargetIndicator.highlightArea({x1:a.left,x2:a.left+100,y1:a.top+this.header.element.height()-20,y2:a.top+this.header.element.height()});for(e=0;e<l;e++)if(s=(n=this.header.tabs[e].element).offset(),this._sided?(o=s.top,i=s.left,c=n.height()):(o=s.left,i=s.top,c=n.width()),t>o&&t<o+c){d=!0;break}if(!(!1===d&&t<o)){if(t<o+c/2?(this._dropIndex=e,n.before(this.layoutManager.tabDropPlaceholder)):(this._dropIndex=Math.min(e+1,l),n.after(this.layoutManager.tabDropPlaceholder)),this._sided)return placeHolderTop=this.layoutManager.tabDropPlaceholder.offset().top,void this.layoutManager.dropTargetIndicator.highlightArea({x1:i,x2:i+n.innerHeight(),y1:placeHolderTop,y2:placeHolderTop+this.layoutManager.tabDropPlaceholder.width()});r=this.layoutManager.tabDropPlaceholder.offset().left,this.layoutManager.dropTargetIndicator.highlightArea({x1:r,x2:r+this.layoutManager.tabDropPlaceholder.width(),y1:i,y2:i+n.innerHeight()})}},_resetHeaderDropZone:function(){this.layoutManager.tabDropPlaceholder.remove()},_setupHeaderPosition:function(){var t=[\"right\",\"left\",\"bottom\"].indexOf(this._header.show)>=0&&this._header.show;if(this.header.element.toggle(!!this._header.show),this._side=t,this._sided=[\"right\",\"left\"].indexOf(this._side)>=0,this.element.removeClass(\"lm_left lm_right lm_bottom\"),this._side&&this.element.addClass(\"lm_\"+this._side),this.element.find(\".lm_header\").length&&this.childElementContainer){var e=[\"right\",\"bottom\"].indexOf(this._side)>=0?\"before\":\"after\";this.header.element[e](this.childElementContainer),this.callDownwards(\"setSize\")}},_highlightBodyDropZone:function(t){var e=this._contentAreaDimensions[t].highlightArea;this.layoutManager.dropTargetIndicator.highlightArea(e),this._dropSegment=t}}),n.utils.BubblingEvent=function(t,e){this.name=t,this.origin=e,this.isPropagationStopped=!1},n.utils.BubblingEvent.prototype.stopPropagation=function(){this.isPropagationStopped=!0},n.utils.ConfigMinifier=function(){if(this._keys=[\"settings\",\"hasHeaders\",\"constrainDragToContainer\",\"selectionEnabled\",\"dimensions\",\"borderWidth\",\"minItemHeight\",\"minItemWidth\",\"headerHeight\",\"dragProxyWidth\",\"dragProxyHeight\",\"labels\",\"close\",\"maximize\",\"minimize\",\"popout\",\"content\",\"componentName\",\"componentState\",\"id\",\"width\",\"type\",\"height\",\"isClosable\",\"title\",\"popoutWholeStack\",\"openPopouts\",\"parentId\",\"activeItemIndex\",\"reorderEnabled\",\"borderGrabWidth\"],this._keys.length>36)throw new Error(\"Too many keys in config minifier map\");this._values=[!0,!1,\"row\",\"column\",\"stack\",\"component\",\"close\",\"maximize\",\"minimize\",\"open in new window\"]},n.utils.copy(n.utils.ConfigMinifier.prototype,{minifyConfig:function(t){var e={};return this._nextLevel(t,e,\"_min\"),e},unminifyConfig:function(t){var e={};return this._nextLevel(t,e,\"_max\"),e},_nextLevel:function(t,e,n){var i,o;for(i in t)t instanceof Array&&(i=parseInt(i,10)),t.hasOwnProperty(i)&&(o=this[n](i,this._keys),\"object\"==typeof t[i]?(e[o]=t[i]instanceof Array?[]:{},this._nextLevel(t[i],e[o],n)):e[o]=this[n](t[i],this._values))},_min:function(t,e){if(\"string\"==typeof t&&1===t.length)return\"___\"+t;var i=n.utils.indexOf(t,e);return-1===i?t:i.toString(36)},_max:function(t,e){return\"string\"==typeof t&&1===t.length?e[parseInt(t,36)]:\"string\"==typeof t&&\"___\"===t.substr(0,3)?t[3]:t}}),n.utils.EventHub=function(t){n.utils.EventEmitter.call(this),this._layoutManager=t,this._dontPropagateToParent=null,this._childEventSource=null,this.on(n.utils.EventEmitter.ALL_EVENT,n.utils.fnBind(this._onEventFromThis,this)),this._boundOnEventFromChild=n.utils.fnBind(this._onEventFromChild,this),e(window).on(\"gl_child_event\",this._boundOnEventFromChild)},n.utils.EventHub.prototype._onEventFromThis=function(){var t=Array.prototype.slice.call(arguments);this._layoutManager.isSubWindow&&t[0]!==this._dontPropagateToParent&&this._propagateToParent(t),this._propagateToChildren(t),this._dontPropagateToParent=null,this._childEventSource=null},n.utils.EventHub.prototype._$onEventFromParent=function(t){this._dontPropagateToParent=t[0],this.emit.apply(this,t)},n.utils.EventHub.prototype._onEventFromChild=function(t){this._childEventSource=t.originalEvent.__gl,this.emit.apply(this,t.originalEvent.__glArgs)},n.utils.EventHub.prototype._propagateToParent=function(t){var e,n=\"gl_child_event\";document.createEvent?(e=window.opener.document.createEvent(\"HTMLEvents\")).initEvent(n,!0,!0):(e=window.opener.document.createEventObject()).eventType=n,e.eventName=n,e.__glArgs=t,e.__gl=this._layoutManager,document.createEvent?window.opener.dispatchEvent(e):window.opener.fireEvent(\"on\"+e.eventType,e)},n.utils.EventHub.prototype._propagateToChildren=function(t){var e,n;for(n=0;n<this._layoutManager.openPopouts.length;n++)(e=this._layoutManager.openPopouts[n].getGlInstance())&&e!==this._childEventSource&&e.eventHub._$onEventFromParent(t)},n.utils.EventHub.prototype.destroy=function(){e(window).off(\"gl_child_event\",this._boundOnEventFromChild)},n.utils.ReactComponentHandler=function(t,e){this._reactComponent=null,this._originalComponentWillUpdate=null,this._container=t,this._initialState=e,this._reactClass=this._getReactClass(),this._container.on(\"open\",this._render,this),this._container.on(\"destroy\",this._destroy,this)},n.utils.copy(n.utils.ReactComponentHandler.prototype,{_render:function(){this._reactComponent=ReactDOM.render(this._getReactComponent(),this._container.getElement()[0]),this._originalComponentWillUpdate=this._reactComponent.componentWillUpdate||function(){},this._reactComponent.componentWillUpdate=this._onUpdate.bind(this),this._container.getState()&&this._reactComponent.setState(this._container.getState())},_destroy:function(){ReactDOM.unmountComponentAtNode(this._container.getElement()[0]),this._container.off(\"open\",this._render,this),this._container.off(\"destroy\",this._destroy,this)},_onUpdate:function(t,e){this._container.setState(e),this._originalComponentWillUpdate.call(this._reactComponent,t,e)},_getReactClass:function(){var t,e=this._container._config.component;if(!e)throw new Error(\"No react component name. type: react-component needs a field `component`\");if(!(t=this._container.layoutManager.getComponent(e)))throw new Error('React component \"'+e+'\" not found. Please register all components with GoldenLayout using `registerComponent(name, component)`');return t},_getReactComponent:function(){var t={glEventHub:this._container.layoutManager.eventHub,glContainer:this._container},n=e.extend(t,this._container._config.props);return React.createElement(this._reactClass,n)}})}(window.$)}));function o(t){if(t&&t.errorHandling&&\"function\"!=typeof t.errorHandling&&\"log\"!==t.errorHandling&&\"silent\"!==t.errorHandling&&\"throw\"!==t.errorHandling)throw new Error('Invalid options passed to createRegistry. Prop errorHandling should be [\"log\" | \"silent\" | \"throw\" | (err) => void], but '+typeof t.errorHandling+\" was passed\");var e=t&&\"function\"==typeof t.errorHandling&&t.errorHandling,n={};function i(n,i){var o=n instanceof Error?n:new Error(n);if(e)e(o);else{var s='[ERROR] callback-registry: User callback for key \"'+i+'\" failed: '+o.stack;if(t)switch(t.errorHandling){case\"log\":return console.error(s);case\"silent\":return;case\"throw\":throw new Error(s)}console.error(s)}}return{add:function(t,e,o){var s=n[t];return s||(s=[],n[t]=s),s.push(e),o&&setTimeout((function(){o.forEach((function(o){var s;if(null===(s=n[t])||void 0===s?void 0:s.includes(e))try{Array.isArray(o)?e.apply(void 0,o):e.apply(void 0,[o])}catch(e){i(e,t)}}))}),0),function(){var i=n[t];i&&(0===(i=i.reduce((function(t,n,i){return n===e&&t.length===i||t.push(n),t}),[])).length?delete n[t]:n[t]=i)}},execute:function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];var s=n[t];if(!s||0===s.length)return[];var r=[];return s.forEach((function(n){try{var o=n.apply(void 0,e);r.push(o)}catch(e){r.push(void 0),i(e,t)}})),r},clear:function(){n={}},clearKey:function(t){n[t]&&delete n[t]}}}o.default=o;var s=o;const r=t=>Array.isArray(t)?t[0]:t,a=(t=[])=>{const e=t=>\"component\"===t.type?t.id?[t]:[]:t.content.reduce(((t,n)=>t=[...t,...e(n)]),[]);return t.reduce(((t,n)=>[...t,...e(n)]),[])},c=t=>{const e=$(t)[0].getBoundingClientRect();return{x:Math.round(e.x),y:Math.round(e.y),left:Math.round(e.left),top:Math.round(e.top),width:Math.round(e.width),height:Math.round(e.height)}},l=t=>\"___workspace___\"+t;var d=new class{constructor(){this._idToLayout={}}get layouts(){return Object.values(this._idToLayout)}get workspaceIds(){return Object.keys(this._idToLayout)}get workspaceTitles(){return this.workspaceIds.map((t=>this.getWorkspaceTitle(t)))}set workspaceLayout(t){this._workspaceLayout=t}get workspaceLayout(){return this._workspaceLayout}get workspaceLayoutHeader(){return this._workspaceLayout.root.contentItems[0].header}getWorkspaceLayoutItemById(t){return this.workspaceLayout.root.getItemsById(t)[0]}getById(t){return t=r(t),this._idToLayout[t]}getByContainerId(t){return this._idToLayout[t]||this.getByContainerIdCore(t)}getWorkspaceTitle(t){const e=this.workspaceLayout.root.getItemsById(t)[0];return(null==e?void 0:e.tab.titleElement[0].innerText)||(null==e?void 0:e.config.title)}removeById(t){delete this._idToLayout[t]}removeLayout(t){this._idToLayout[t].layout.destroy(),this._idToLayout[t].layout=void 0}addOrUpdate(t,e,n){const i=this.getById(t);if(i)return i.layout=n,void(i.windows=e);this._idToLayout[t]={id:t,windows:e,layout:n}}getWindow(t){const e=r(t);return this.layouts.reduce(((t,n)=>t||n.windows.find((t=>t.id===e))),void 0)}getActiveWorkspace(){const t=this.workspaceLayout.root.contentItems[0].getActiveContentItem().config.id;return this.getById(t)}addWindow(t,e){const n=this.getById(e);n.windows=n.windows.filter((e=>e.id!==t.id)),n.windows.push(t)}getByWindowId(t){return t=r(t),this.layouts.find((e=>e.windows.some((e=>e.id===t))))}getWindowContentItem(t){const e=this.layouts.filter((t=>t.layout)).reduce(((e,n)=>e||n.layout.root.getItemsById(t)[0]),void 0);if(e&&e.isComponent)return e;const n=this.layouts.filter((t=>t.layout)).reduce(((e,n)=>e||n.layout.root.getItemsByFilter((e=>e.isComponent&&e.config.componentState.windowId===t))[0]),void 0);return(null==n?void 0:n.isComponent)?n:void 0}getContainer(t){return this.layouts.reduce(((t,e)=>(e.layout&&t.push(e.layout),t)),[]).reduce(((e,n)=>e||n.root.getItemsById(t)[0]),void 0)}getWorkspaceContext(t){var e,n,i;const o=this.getById(t);return null===(i=null===(n=null===(e=null==o?void 0:o.layout)||void 0===e?void 0:e.config)||void 0===n?void 0:n.workspacesOptions)||void 0===i?void 0:i.context}getWorkspaceContentItem(t){return this.workspaceLayout.root.getItemsById(t)[0]}getByContainerIdCore(t){return this.layouts.reduce(((t,e)=>(e.layout&&t.push(e),t)),[]).find((e=>e.layout.root.getItemsById(t)[0]))}};class h{init(t){this.containerElement=$(t)[0],this.setupEvents()}setupEvents(){const t=new MutationObserver((t=>{Array.from(t).forEach((t=>{if(\"childList\"===t.type&&t.target.classList.contains(\"lm_tabs\")){const e=$(t.target);this.handleTabCountChanged(e,Array.from(t.removedNodes))}else if(\"attributes\"===t.type&&t.target.classList.contains(\"lm_stack\")&&\"style\"===t.attributeName){const e=$(t.target);this.handleTabHeaderResized(e)}}))}));return t.observe(this.containerElement,{childList:!0,subtree:!0,attributes:!0,attributeFilter:[\"style\"],attributeOldValue:!1,characterData:!1,characterDataOldValue:!1}),()=>{t.disconnect()}}handleTabCountChanged(t,e){const n=t.children(),i=this.visibleTabs($(t));t.css(\"max-width\",200*i.length+\"px\");const o=t.width()/i.length;Array.from(n).forEach((t=>{$(t).children(\".lm_title\").css(\"max-width\",.75*o+\"px\"),e.length&&this.refreshTabClasses(t)}))}handleTabHeaderResized(t){const e=t.children(\".lm_header\").children(\".lm_tabs\"),n=this.visibleTabs($(e)),i=e.width()/n.length;Array.from(e.children()).forEach((t=>{$(t).children(\".lm_title\").css(\"max-width\",.65*i+\"px\"),this.refreshTabClasses(t)}))}refreshTabClasses(t){const e=$(t).outerWidth(),n=t.classList;e>=25&&e<35?(n.contains(\"lm_tab_mini\")&&n.remove(\"lm_tab_mini\"),n.add(\"lm_tab_small\")):e>=35?(n.remove(\"lm_tab_small\"),n.contains(\"lm_tab_mini\")&&n.remove(\"lm_tab_mini\")):e<25&&(n.remove(\"lm_tab_small\"),n.add(\"lm_tab_mini\"))}visibleTabs(t){return Array.from(t.children()).filter((t=>$(t).is(\":visible\")))}}var u=new class{constructor(){this.visibilityState={logo:void 0,addWorkspace:void 0,systemButtons:void 0,workspaceContents:[]},this.componentsFactory={},this._decoratedFactory={},this.callbackRegistry=s(),this.observer=new MutationObserver((t=>{Array.from(t).forEach((t=>{const e=t.target,n=this.getWorkspaceIdFromContents(e),i=\"none\"===e.style.display?\"workspace-contents-hidden\":\"workspace-contents-shown\";this.callbackRegistry.execute(i,n)}))}))}get decoratedFactory(){return this._decoratedFactory}init(t,e){this.componentsFactory=e,(null==e?void 0:e.createAddWorkspace)&&(this.decoratedFactory.createAddWorkspace=(...e)=>(this.visibilityState.addWorkspace=[...e,t],this.componentsFactory.createAddWorkspace(...this.visibilityState.addWorkspace))),(null==e?void 0:e.createLogo)&&(this.decoratedFactory.createLogo=(...e)=>(this.visibilityState.logo=[...e,t],this.componentsFactory.createLogo(...this.visibilityState.logo))),(null==e?void 0:e.createSystemButtons)&&(this.decoratedFactory.createSystemButtons=(...n)=>(this.visibilityState.systemButtons=[...n,t],e.createSystemButtons(...this.visibilityState.systemButtons))),(null==e?void 0:e.createWorkspaceContents)&&(this.decoratedFactory.createWorkspaceContents=(...t)=>{var n;return this.visibilityState.workspaceContents.push([...t]),this.subscribeForWorkspaceContentsVisibility(null===(n=t[0])||void 0===n?void 0:n.workspaceId),e.createWorkspaceContents(...t)})}reInitialize(t){(null==t?void 0:t.createAddWorkspace)&&this.visibilityState.addWorkspace&&t.createAddWorkspace(...this.visibilityState.addWorkspace),(null==t?void 0:t.createLogo)&&this.visibilityState.logo&&t.createLogo(...this.visibilityState.logo),(null==t?void 0:t.createSystemButtons)&&this.visibilityState.systemButtons&&t.createSystemButtons(...this.visibilityState.systemButtons),(null==t?void 0:t.createWorkspaceContents)&&this.visibilityState.workspaceContents.forEach((e=>{t.createWorkspaceContents(...e)})),this.componentsFactory=t}onWorkspaceContentsShown(t){this.callbackRegistry.add(\"workspace-contents-shown\",t)}onWorkspaceContentsHidden(t){this.callbackRegistry.add(\"workspace-contents-hidden\",t)}subscribeForWorkspaceContentsVisibility(t){const e=document.getElementById(\"nestHere\"+t);e&&this.observer.observe(e,{attributes:!0,attributeFilter:[\"style\"]})}getWorkspaceIdFromContents(t){return t.id.split(\"nestHere\")[1]}};const p=require(\"resize-observer-polyfill\").default||require(\"resize-observer-polyfill\");class m{constructor(t,e,n,i){this._maximizedId=\"__glMaximised\",this._workspaceLayoutElementId=\"#outter-layout-container\",this._registry=s(),this._emptyVisibleWindowName=\"emptyVisibleWindow\",this._stackMaximizeLabel=\"maximize\",this._stackRestoreLabel=\"restore\",this._options=n,this._emitter=t,this._stateResolver=e,this._configFactory=i}get emitter(){return this._emitter}get bounds(){return c(document.getElementById(\"outter-layout-container\"))}init(e){return t(this,void 0,void 0,(function*(){this._frameId=e.frameId;(new h).init(this._workspaceLayoutElementId),yield this.initWorkspaceConfig(e.workspaceLayout),this.refreshLayoutSize(),yield Promise.all(e.workspaceConfigs.map((e=>t(this,void 0,void 0,(function*(){yield this.initWorkspaceContents(e.id,e.config),this.emitter.raiseEvent(\"workspace-added\",{workspace:d.getById(e.id)})}))))),this.setupOuterLayout(),d.workspaceIds.forEach((t=>{this.setupContentLayouts(t)}))}))}addWindow(e,n){return t(this,void 0,void 0,(function*(){n=n||r(d.workspaceLayout.root.contentItems[0].getActiveContentItem().config.id);const t=d.getByContainerId(n);if(!t.layout)return this.hideAddButton(t.id),void(yield this.initWorkspaceContents(t.id,e));const i=t.layout._maximizedItem;i&&i.toggleMaximise();let o=t.layout.root.getItemsByFilter((t=>t.isColumn||t.isRow))[0];n&&n!==t.id&&(o=t.layout.root.getItemsById(n)[0]),o||(o=t.layout.root.getItemsByFilter((t=>t.isStack))[0]);const{placementId:s,windowId:c,url:l,appName:h}=this.getWindowInfoFromConfig(e);this.registerWindowComponent(t.layout,r(s));const u=o.getComponentsByName(this._emptyVisibleWindowName)[0];return new Promise((n=>{var i;const r=this.emitter.onContentComponentCreated((t=>{t.config.id===s&&(r(),n())}));if(\"stack\"===t.layout.root.contentItems[0].type&&\"component\"!==e.type&&(e=a([e])[0]),u&&!(null===(i=u.parent.config.workspacesConfig)||void 0===i?void 0:i.wrapper)){const t=this._configFactory.wrapInGroup([e]);return t.workspacesConfig.wrapper=!1,void u.parent.parent.replaceChild(u.parent,t)}u?u.parent.replaceChild(u,e):o.addChild(e)}))}))}addContainer(e,n){var i;return t(this,void 0,void 0,(function*(){const t=d.getByContainerId(n);if(!t.layout){const n=e.id||this._configFactory.getId();return e&&(e.id=n),this.hideAddButton(t.id),yield this.initWorkspaceContents(t.id,e),r(n)}const o=t.layout._maximizedItem;o&&o.toggleMaximise();let s=t.layout.root.getItemsByFilter((t=>t.isColumn||t.isRow))[0];if(n&&(s=t.layout.root.getItemsById(n)[0]),s||(s=t.layout.root.getItemsByFilter((t=>t.isStack))[0]),t.id===n&&(\"column\"===e.type||\"stack\"===e.type?this.bundleWorkspace(t.id,\"row\"):\"row\"===e.type&&this.bundleWorkspace(t.id,\"column\"),s=t.layout.root.contentItems[0]),e.content&&a(e.content).forEach((e=>{this.registerWindowComponent(t.layout,r(e.id))})),\"component\"===s.type)throw new Error(\"The target item for add container can't be a component\");const c=s.contentItems.find((t=>\"stack\"===t.type&&!0===t.config.workspacesConfig.wrapper)),l=(null===(i=null==c?void 0:c.contentItems[0])||void 0===i?void 0:i.config.componentName)===this._emptyVisibleWindowName;return new Promise(((n,i)=>{let o=()=>{};const a=setTimeout((()=>{o(),i(`Component with id ${e.id} could not be created in 10000ms`)}),1e4);if(o=this.emitter.onContentItemCreated(((i,s)=>{i===t.id&&s.type===e.type&&(n(r(s.config.id)),o(),clearTimeout(a))})),1===(null==c?void 0:c.contentItems.length)&&l){const t=s.getComponentsByName(this._emptyVisibleWindowName)[0];t.parent.replaceChild(t,e)}else s.addChild(e)}))}))}closeContainer(t){(d.getByContainerId(t)||d.getByWindowId(t)).layout.root.getItemsById(t)[0].remove()}bundleWorkspace(t,e){const n=d.getById(t),i=n.layout.root.contentItems.map((t=>this._stateResolver.getContainerConfig(t.config.id))),o=n.layout.root.contentItems[0],s={type:e,content:i,workspacesConfig:{}};n.layout.root.replaceChild(o,s)}hideAddButton(t){$(\"#nestHere\"+t).children(\".add-button\").hide()}showAddButton(t){$(\"#nestHere\"+t).children(\".add-button\").show()}addWorkspace(e,n){var i,o;return t(this,void 0,void 0,(function*(){const t=d.workspaceLayout.root.getItemsByFilter((t=>t.isStack))[0],s={componentName:this._configFactory.getWorkspaceLayoutComponentName(e),type:\"component\",workspacesConfig:{},id:e,noTabHeader:null===(i=n.workspacesOptions)||void 0===i?void 0:i.noTabHeader,title:(null===(o=null==n?void 0:n.workspacesOptions)||void 0===o?void 0:o.title)||this._configFactory.getWorkspaceTitle(d.workspaceTitles)};this.registerWorkspaceComponent(e),t.addChild(s,void 0,!s.noTabHeader),yield this.initWorkspaceContents(e,n),this.setupContentLayouts(e),this.emitter.raiseEvent(\"workspace-added\",{workspace:d.getById(e)})}))}removeWorkspace(t){const e=d.getWorkspaceLayoutItemById(t);if(!e)throw new Error(\"Could find workspace to remove with id \"+t);d.removeById(t),e.remove()}changeTheme(t){const e=document.getElementsByTagName(\"html\")[0];\"light\"===t?e.classList.contains(t)||(e.classList.remove(\"dark\"),e.classList.add(t)):e.classList.contains(t)||(e.classList.remove(\"light\"),e.classList.add(t));const n=$(\"link[href='./dist/glue42-light-theme.css']\");(0===n.length?$(\"link[href='./dist/glue42-dark-theme.css']\"):n).attr(\"href\",`./dist/glue42-${t}-theme.css`)}getDragElement(){return $(\".lm_dragProxy\")[0]}setDragElementSize(t,e){const n=this.getDragElement();if(n){n.setAttribute(\"width\",t+\"px\"),n.setAttribute(\"height\",e+\"px\");const i=$(n).children(\".lm_content\").children(\".lm_item_container\")[0];i.setAttribute(\"width\",t+\"px\"),i.setAttribute(\"height\",e+\"px\"),i.setAttribute(\"style\",\"\")}else{const n=new MutationObserver((i=>{let o;Array.from(i).forEach((t=>{const e=$(t.addedNodes);o||(o=e.find(\".lm_dragProxy\"))})),o&&(n.disconnect(),this.setDragElementSize(t,e))}));n.observe($(\"body\")[0],{childList:!0,subtree:!0})}}removeLayoutElement(t){let e;return d.layouts.filter((t=>t.layout)).forEach((n=>{const i=n.layout.root.getItemsById(t)[0];i&&n.windows.find((e=>e.id===t))&&(n.windows=n.windows.filter((e=>e.id!==t)),i.remove(),e=n)})),e}setWindowTitle(t,e){const n=d.getWindowContentItem(t);n.setTitle(e),n.config.componentState.title=e}setWorkspaceTitle(t,e){d.getWorkspaceLayoutItemById(t).setTitle(e)}focusWindow(t){const e=d.layouts.find((e=>e.windows.some((e=>e.id===t)))).layout.root.getItemsById(t)[0];e.parent.setActiveContentItem(e)}focusWorkspace(t){const e=d.getWorkspaceLayoutItemById(t);e.parent.setActiveContentItem(e)}maximizeWindow(t){const e=d.layouts.find((e=>e.windows.some((e=>e.id===t)))).layout.root.getItemsById(t)[0];e.parent.hasId(this._maximizedId)||e.parent.toggleMaximise()}restoreWindow(t){const e=d.layouts.find((e=>e.windows.some((e=>e.id===t)))).layout.root.getItemsById(t)[0];e.parent.hasId(this._maximizedId)&&e.parent.toggleMaximise()}showLoadedWindow(e,n){return t(this,void 0,void 0,(function*(){yield this.waitForWindowContainer(e);const t=d.getWindowContentItem(e),i=d.getByWindowId(e),o=t.config;o.componentState.windowId=n,i.windows.find((t=>t.id===e)).windowId=n,t.parent.replaceChild(t,o)}))}isWindowVisible(t){t=r(t);return d.getWindowContentItem(t).parent.getActiveContentItem().config.id===t}initWorkspaceContents(t,e){if(!e||\"component\"!==e.type&&!e.content.length)return d.addOrUpdate(t,[]),this.showAddButton(t),Promise.resolve();const n=((t,e)=>{let n,i,o=0;const s=setTimeout((()=>{i()}),e||1e4);return{reject:t=>{clearTimeout(s),i(t)},signal:()=>{o++,o>=t&&(clearTimeout(s),n())},promise:new Promise(((t,e)=>{n=t,i=e}))}})(2);e.settings||(e.settings=this._configFactory.getDefaultWorkspaceSettings()),e.type&&\"workspace\"!==e.type&&(e={settings:this._configFactory.getDefaultWorkspaceSettings(),content:[{type:\"column\",content:[e],workspacesConfig:{}}]}),\"component\"!==e.type&&\"stack\"===e.content[0].type&&(e=Object.assign(Object.assign({},e),{content:[{type:\"column\",content:e.content,workspacesConfig:{}}]}));const o=new i(e,$(\"#nestHere\"+t));d.addOrUpdate(t,[]),this.registerEmptyWindowComponent(o,t),a(e.content).forEach((t=>{this.registerWindowComponent(o,r(t.id))}));const s=$(\"#nestHere\"+t);return o.on(\"initialised\",(()=>{const e=a(o.toConfig().content);d.addOrUpdate(t,e.map((t=>{const e=o.root.getItemsById(r(t.id))[0].element;return{id:r(t.id),bounds:c(e),windowId:t.componentState.windowId}})),o),this.emitter.raiseEventWithDynamicName(\"content-layout-initialised-\"+t),this.emitter.raiseEvent(\"content-layout-init\",{layout:o});const i=s.width(),l=s.height();o.updateSize(i,l),n.signal()})),o.on(\"stateChanged\",(()=>{this.emitter.raiseEvent(\"content-layout-state-changed\",{layoutId:t})})),o.on(\"itemCreated\",(e=>{var n;if(e.isComponent)e.on(\"size-changed\",(()=>{const n=d.getById(t).windows.find((t=>t.id===e.config.id));n&&(n.bounds=c(e.element));const i=e.config.id;this.emitter.raiseEvent(\"content-item-resized\",{target:e.element[0],id:r(i)})})),(e.config.componentName===this._emptyVisibleWindowName||(null===(n=e.parent)||void 0===n?void 0:n.config.workspacesConfig.wrapper))&&e.tab.header.position(!1);else{if(e.isRoot)return void(e.id&&e.id.length||e.addId(t));e.config.id&&e.config.id.length||e.addId(this._configFactory.getId())}this.emitter.raiseEvent(\"content-item-created\",{workspaceId:t,item:e})})),o.on(\"stackCreated\",(e=>{const n=document.createElement(\"li\");n.classList.add(\"lm_add_button\"),n.onclick=i=>{i.stopPropagation(),this.emitter.raiseEvent(\"add-button-clicked\",{args:{laneId:r(e.config.id),workspaceId:t,bounds:c(n)}})};const i=$(e.element).children(\".lm_header\").children(\".lm_controls\").children(\".lm_maximise\");i.addClass(\"workspace_content\"),e.on(\"maximized\",(()=>{i.addClass(\"lm_restore\"),i.attr(\"title\",this._stackRestoreLabel),this.emitter.raiseEvent(\"stack-maximized\",{stack:e})})),e.on(\"minimized\",(()=>{i.removeClass(\"lm_restore\"),i.attr(\"title\",this._stackMaximizeLabel),this.emitter.raiseEvent(\"stack-restored\",{stack:e})})),this._options.disableCustomButtons||e.header.controlsContainer.prepend($(n)),e.on(\"activeContentItemChanged\",(()=>{const t=e.getActiveContentItem();if(!t.isComponent)return;const n=t.config.id,i=[{id:r(t.config.id),bounds:c(t.element),windowId:t.config.componentState.windowId,appName:t.config.componentState.appName,url:t.config.componentState.url}],o=e.header.tabs.reduce(((t,e)=>{const n=e.contentItem.config;if(\"component\"===n.type){const i={id:r(n.id),bounds:c(e.contentItem.element),windowId:n.componentState.windowId,appName:n.componentState.appName,url:n.componentState.url};t.push(i)}return t}),[]).filter((t=>t.id!==n));this.emitter.raiseEvent(\"selection-changed\",{toBack:o,toFront:i})})),e.on(\"popoutRequested\",(()=>{const t=e.getActiveContentItem();this.emitter.raiseEvent(\"eject-requested\",{item:t})}))})),o.on(\"tabCreated\",(t=>{t._dragListener.on(\"drag\",(()=>{this.emitter.raiseEvent(\"tab-drag\",{tab:t})})),t._dragListener.on(\"dragStart\",(()=>{this.emitter.raiseEvent(\"tab-drag-start\",{tab:t})})),t._dragListener.on(\"dragEnd\",(()=>{this.emitter.raiseEvent(\"tab-drag-end\",{tab:t})})),t.element.mousedown((()=>{this.emitter.raiseEvent(\"tab-element-mouse-down\",{tab:t})})),this.refreshTabSizeClass(t)})),o.on(\"tabCloseRequested\",(t=>{this.emitter.raiseEvent(\"tab-close-requested\",{item:t.contentItem})})),o.on(\"componentCreated\",(e=>{const i=this.emitter.raiseEvent(\"content-component-created\",{component:e,workspaceId:t});Array.isArray(i)?Promise.all(i).then((()=>{n.signal()})).catch((t=>n.reject(t))):i.then((()=>{n.signal()})).catch((t=>n.reject(t)))})),o.init(),n.promise}initWorkspaceConfig(e){return new Promise((n=>{e.settings.selectionEnabled=!0,d.workspaceLayout=new i(e,$(this._workspaceLayoutElementId),u.decoratedFactory);new p((t=>{Array.from(t).forEach((t=>{this.emitter.raiseEvent(\"outer-layout-container-resized\",{target:t.target})}))})).observe($(\"#outter-layout-container\")[0]),e.content[0].content.forEach((t=>{const e=t.id;this.registerWorkspaceComponent(r(e))})),d.workspaceLayout.on(\"initialised\",(()=>{this.emitter.raiseEvent(\"workspace-layout-initialised\",{}),n()})),d.workspaceLayout.on(\"stackCreated\",(e=>{var n;const i=e.header.controlsContainer.children(\".lm_close\")[0];i&&(i.onclick=()=>{this.emitter.raiseEvent(\"close-frame\",{})});const o=e.header.element[0];if(new MutationObserver((()=>{const t=this.getElementByClass(o,\"lm_add_button\");t&&u.decoratedFactory.createAddWorkspace&&(t.onclick=e=>{e.stopPropagation(),this.emitter.raiseEvent(\"workspace-add-button-clicked\",{bounds:c(t)})})})).observe(e.header.element[0],{attributes:!1,childList:!0,subtree:!0}),!this._options.disableCustomButtons&&!(null===(n=u.decoratedFactory)||void 0===n?void 0:n.createAddWorkspace)){const t=document.createElement(\"li\");t.classList.add(\"lm_add_button\"),t.onclick=t=>{t.stopPropagation(),this._emitter.raiseEvent(\"workspace-add-button-clicked\",{})},e.header.workspaceControlsContainer.prepend($(t))}if(!u.decoratedFactory.createLogo){const t=document.createElement(\"span\");t.classList.add(\"logo_type\");const n=e.header.element[0].getElementsByClassName(\"lm_logo\")[0];n&&n.appendChild(t)}e.on(\"activeContentItemChanged\",(()=>t(this,void 0,void 0,(function*(){if(0===d.workspaceIds.length)return;const t=e.getActiveContentItem().config.id;yield this.waitForLayout(r(t));const n=d.workspaceIds.reduce(((t,e)=>[...t,...d.getById(e).windows]),[]);this.emitter.raiseEvent(\"workspace-selection-changed\",{workspace:d.getById(t),toBack:n})}))))})),d.workspaceLayout.on(\"itemCreated\",(t=>{t.isComponent&&t.on(\"size-changed\",(()=>{this.emitter.raiseEvent(\"workspace-content-container-resized\",{target:t,id:r(t.config.id)}),this.emitter.raiseEventWithDynamicName(\"workspace-content-container-resized-\"+t.config.id,t)}))})),d.workspaceLayout.on(\"tabCreated\",(t=>{const e=document.createElement(\"div\");e.classList.add(\"lm_saveButton\"),e.onclick=e=>{e.stopPropagation(),this.emitter.raiseEvent(\"workspace-save-requested\",{workspaceId:r(t.contentItem.config.id)})},this._options.disableCustomButtons||t.element[0].prepend(e),this.refreshTabSizeClass(t)})),d.workspaceLayout.on(\"tabCloseRequested\",(t=>{this.emitter.raiseEvent(\"workspace-tab-close-requested\",{workspace:d.getById(t.contentItem.config.id)})})),d.workspaceLayout.init()}))}setupOuterLayout(){this.emitter.onOuterLayoutContainerResized((t=>{d.workspaceLayout.updateSize($(t).width(),$(t).height())}))}setupContentLayouts(t){this.emitter.onContentContainerResized((e=>{const n=d.getById(t).layout;n&&n.updateSize($(e.element).width(),$(e.element).height())}),t)}registerWindowComponent(t,e){this.registerComponent(t,\"app\"+e,(t=>{const n=document.createElement(\"div\");n.setAttribute(\"style\",\"height:100%;\"),n.id=\"app\"+e,t.getElement().append(n)}))}registerEmptyWindowComponent(t,e){this.registerComponent(t,this._emptyVisibleWindowName,(t=>{const n=document.createElement(\"div\");n.classList.add(\"empty-container-background\");const i=document.createElement(\"button\");i.classList.add(\"add-button\"),i.onclick=n=>{n.stopPropagation();const o=t.tab.contentItem,s=\"stack\"===o.parent.type?\"group\":o.parent.type;o.parent.config.workspacesConfig.wrapper?this.emitter.raiseEvent(\"add-button-clicked\",{args:{laneId:r(o.parent.parent.config.id),workspaceId:e,parentType:o.parent.parent.type,bounds:c(i)}}):this.emitter.raiseEvent(\"add-button-clicked\",{args:{laneId:r(o.parent.config.id),workspaceId:e,parentType:s,bounds:c(i)}})},n.append(i),t.getElement().append(n)}))}registerWorkspaceComponent(t){this.registerComponent(d.workspaceLayout,this._configFactory.getWorkspaceLayoutComponentName(t),(e=>{var n,i;const o=document.createElement(\"div\");o.setAttribute(\"style\",\"height:calc(100% - 1px); width:calc(100% - 1px);\"),o.id=\"nestHere\"+t;const s=document.createElement(\"button\");s.classList.add(\"add-button\"),s.onclick=n=>{n.stopPropagation();const i=e.tab.contentItem;this.emitter.raiseEvent(\"add-button-clicked\",{args:{laneId:r(i.parent.id),workspaceId:t,bounds:c(s)}})},o.appendChild(s),(null===(n=u.decoratedFactory)||void 0===n?void 0:n.createWorkspaceContents)?(document.body.append(o),o.style.display=\"none\",null===(i=u.decoratedFactory)||void 0===i||i.createWorkspaceContents({workspaceId:t,domNode:e.getElement()[0]})):e.getElement().append(o),$(s).hide()}))}registerComponent(t,e,n){try{t.registerComponent(e,(function(t,e){n&&n(t,e)}))}catch(t){console.log(\"Tried to register and already existing component - \"+e)}}waitForLayout(t){return new Promise((e=>{const n=this._registry.add(\"content-layout-initialised-\"+t,(()=>{e(),n()}));d.getById(t)&&(e(),n())}))}waitForWindowContainer(t){return new Promise((e=>{const n=this.emitter.onContentComponentCreated((i=>{i.config.id===t&&(e(),n())}));d.getWindowContentItem(t)&&(e(),n())}))}getWindowInfoFromConfig(t){return\"component\"!==t.type?this.getWindowInfoFromConfig(t.content[0]):{placementId:r(t.id),windowId:t.componentState.windowId,appName:t.componentState.appName,url:t.componentState.url}}refreshLayoutSize(){const t=c($(this._workspaceLayoutElementId));d.workspaceLayout.updateSize(t.width,t.height)}refreshTabSizeClass(t){const e=t.header.tabs,n=e.map((t=>t.element)).some((t=>t.hasClass(\"lm_tab_small\"))),i=e.map((t=>t.element)).some((t=>t.hasClass(\"lm_tab_mini\")));n&&t.element.addClass(\"lm_tab_small\"),i&&t.element.addClass(\"lm_tab_mini\")}getElementByClass(t,e){const n=t.getElementsByClassName(e);if(n.length>1)throw new Error(`Multiple elements with class ${e} in element with id ${t.id} and class ${t.className} are not supported`);return n[0]}}class f{constructor(t){this._registry=t}onWorkspaceLayoutInit(t){return this._registry.add(\"workspace-layout-initialised\",t)}onContentLayoutInit(t){return this._registry.add(\"content-layout-init\",t)}onOuterLayoutContainerResized(t){return this._registry.add(\"outer-layout-container-resized\",t)}onContentContainerResized(t,e){return e?this._registry.add(\"workspace-content-container-resized-\"+e,t):this._registry.add(\"workspace-content-container-resized\",t)}onContentItemResized(t){return this._registry.add(\"content-item-resized\",t)}onContentComponentCreated(t){return this._registry.add(\"content-component-created\",t)}onFrameCloseRequested(t){return this._registry.add(\"close-frame\",t)}onRestoreRequested(t){return this._registry.add(\"restore-frame\",t)}onMaximizeRequested(t){return this._registry.add(\"maximize-frame\",t)}onMinimizeRequested(t){return this._registry.add(\"minimize-frame\",t)}onMoveAreaChanged(t){return this._registry.add(\"move-area-changed\",t)}onTabCloseRequested(t){return this._registry.add(\"tab-close-requested\",t)}onTabDragStart(t){return this._registry.add(\"tab-drag-start\",t)}onTabDrag(t){return this._registry.add(\"tab-drag\",t)}onTabDragEnd(t){return this._registry.add(\"tab-drag-end\",t)}onTabElementMouseDown(t){return this._registry.add(\"tab-element-mouse-down\",t)}onSelectionChanged(t){return this._registry.add(\"selection-changed\",t)}onWorkspaceAdded(t){return this._registry.add(\"workspace-added\",t)}onWorkspaceSelectionChanged(t){return this._registry.add(\"workspace-selection-changed\",t)}onWorkspaceTabCloseRequested(t){return this._registry.add(\"workspace-tab-close-requested\",t)}onAddButtonClicked(t){return this._registry.add(\"add-button-clicked\",t)}onContentLayoutStateChanged(t){return this._registry.add(\"content-layout-state-changed\",t)}onContentItemCreated(t){return this._registry.add(\"content-item-created\",t)}onWorkspaceAddButtonClicked(t){return this._registry.add(\"workspace-add-button-clicked\",t)}onWorkspaceSaveRequested(t){return this._registry.add(\"workspace-save-requested\",t)}onStackMaximized(t){return this._registry.add(\"stack-maximized\",t)}onStackRestored(t){return this._registry.add(\"stack-restored\",t)}onEjectRequested(t){return this._registry.add(\"eject-requested\",t)}raiseEvent(t,e){const n=this._registry.execute(t,...Object.values(e));return Array.isArray(n)&&n.some((t=>t&&t.then))||n&&!Array.isArray(n)&&n.then?n:Promise.resolve(n)}raiseEventWithDynamicName(t,...e){this._registry.execute(t,...e)}}var g=1;var y,v,w,_={nextValue:function(){return(g=(9301*g+49297)%233280)/233280},seed:function(t){g=t}},b=\"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-\";function C(){w=!1}function I(t){if(t){if(t!==y){if(t.length!==b.length)throw new Error(\"Custom alphabet for shortid must be \"+b.length+\" unique characters. You submitted \"+t.length+\" characters: \"+t);var e=t.split(\"\").filter((function(t,e,n){return e!==n.lastIndexOf(t)}));if(e.length)throw new Error(\"Custom alphabet for shortid must be \"+b.length+\" unique characters. These characters were not unique: \"+e.join(\", \"));y=t,C()}}else y!==b&&(y=b,C())}function x(){return w||(w=function(){y||I(b);for(var t,e=y.split(\"\"),n=[],i=_.nextValue();e.length>0;)i=_.nextValue(),t=Math.floor(i*e.length),n.push(e.splice(t,1)[0]);return n.join(\"\")}())}var k={get:function(){return y||b},characters:function(t){return I(t),y},seed:function(t){_.seed(t),v!==t&&(C(),v=t)},lookup:function(t){return x()[t]},shuffled:x},E=\"object\"==typeof window&&(window.crypto||window.msCrypto),S=E&&E.getRandomValues?function(t){return E.getRandomValues(new Uint8Array(t))}:function(t){for(var e=[],n=0;n<t;n++)e.push(Math.floor(256*Math.random()));return e},T=function(t,e,n){for(var i=(2<<Math.log(e.length-1)/Math.LN2)-1,o=-~(1.6*i*n/e.length),s=\"\";;)for(var r=t(o),a=o;a--;)if((s+=e[r[a]&i]||\"\").length===+n)return s};var W,A,D=function(t){for(var e,n=0,i=\"\";!e;)i+=T(S,k.get(),1),e=t<Math.pow(16,n+1),n++;return i};var P=function(t){var e=\"\",n=Math.floor(.001*(Date.now()-1567752802062));return n===A?W++:(W=0,A=n),e+=D(7),e+=D(t),W>0&&(e+=D(W)),e+=D(n)};var L=function(t){return!(!t||\"string\"!=typeof t||t.length<6)&&!new RegExp(\"[^\"+k.get().replace(/[|\\\\{}()[\\]^$+*?.-]/g,\"\\\\$&\")+\"]\").test(t)},M=n((function(t){var e=0;function n(){return P(e)}t.exports=n,t.exports.generate=n,t.exports.seed=function(e){return k.seed(e),t.exports},t.exports.worker=function(n){return e=n,t.exports},t.exports.characters=function(t){return void 0!==t&&k.characters(t),k.shuffled()},t.exports.isValid=L}));class F{constructor(t){this._registry=s(),this._idToFrame={},this._glue=t}startFrame(e,n,i,o,s){return t(this,void 0,void 0,(function*(){if(s=s||M.generate(),this._idToFrame[e])return this._idToFrame[e];const t=this._glue.windows.findById(s);if(t)try{yield t.close()}catch(t){}if(!n)throw new Error(`The url of window with itemId ${e} is undefined`);const i=document.createElement(\"iframe\");if(i.name=s,i.src=n,document.body.appendChild(i),$(i).on(\"load\",(()=>{try{const t=i.contentDocument||i.contentWindow.document;t.onclick=()=>{this._registry.execute(\"frame-content-clicked\",{})};const n=t.querySelector(\"title\"),o=new MutationObserver((()=>{this._registry.execute(\"window-title-changed\",e,t.title)})),s={childList:!0};n&&o.observe(n,s),t.title&&this._registry.execute(\"window-title-changed\",e,t.title)}catch(t){console.warn(t)}})),this._registry.execute(\"frameLoaded\",e),i.setAttribute(\"id\",e),$(i).css(\"position\",\"absolute\"),this._idToFrame[e]=i,yield this.waitForWindow(s),o){this._glue.windows.findById(s).setContext(o)}return i}))}moveFrame(t,e){const n=this._idToFrame[t],i=$(n);i.css(\"top\",e.top+\"px\"),i.css(\"left\",e.left+\"px\"),i.css(\"width\",e.width+\"px\"),i.css(\"height\",e.height+\"px\")}selectionChanged(t,e){e.forEach((t=>{$(this._idToFrame[t]).css(\"z-index\",\"-1\")})),t.forEach((t=>{$(this._idToFrame[t]).hasClass(\"maximized-active-tab\")?$(this._idToFrame[t]).css(\"z-index\",\"42\"):$(this._idToFrame[t]).css(\"z-index\",\"19\")}))}maximizeTab(t){$(this._idToFrame[t]).addClass(\"maximized-active-tab\")}restoreTab(t){$(this._idToFrame[t]).removeClass(\"maximized-active-tab\")}selectionChangedDeep(t,e){e.forEach((t=>{$(this._idToFrame[t]).css(\"z-index\",\"-1\")})),t.forEach((t=>{$(this._idToFrame[t]).hasClass(\"maximized-active-tab\")?$(this._idToFrame[t]).css(\"z-index\",\"42\"):$(this._idToFrame[t]).css(\"z-index\",\"19\")}))}bringToFront(t){$(this._idToFrame[t]).css(\"z-index\",\"999\")}remove(t){const e=this._idToFrame[t];if(e){delete this._idToFrame[t];try{e.contentWindow.dispatchEvent(new Event(\"beforeunload\"))}catch(t){console.warn(t)}e.remove()}}onFrameLoaded(t){return this._registry.add(\"frameLoaded\",t)}onFrameContentClicked(t){return this._registry.add(\"frame-content-clicked\",t)}onWindowTitleChanged(t){return this._registry.add(\"window-title-changed\",t)}waitForWindow(t){return new Promise(((e,n)=>{let i=()=>{};const o=setTimeout((()=>{n(`Window with id ${t} did not appear in 5000ms`),i()}),5e3);i=this._glue.windows.onWindowAdded((n=>{n.id===t&&(i(),e(),clearTimeout(o))}));this._glue.windows.list().find((e=>e.id===t))&&(e(),i(),clearTimeout(o))}))}}var z=new class{constructor(){this.LAST_SESSION_KEY=\"lastSession\"}get(t){return JSON.parse(localStorage.getItem(t))}set(t,e){localStorage.setItem(t,JSON.stringify(e))}};var B=new class{get config(){return this._config}loadConfig(){const t=new URLSearchParams(window.location.search),e=t.get(\"emptyFrame\"),n=t.get(\"disableCustomButtons\"),i=t.get(\"workspaceName\"),o=t.get(\"workspaceNames\"),s=t.get(\"context\"),r=t.get(\"build\");let a,c=[];try{c=JSON.parse(o)||c}catch(t){}try{a=JSON.parse(s)}catch(t){}i&&c.push(i);const l={emptyFrame:null!=e&&void 0!==e,disableCustomButtons:null!=n&&void 0!==n,workspaceNames:c,context:a,build:null!=r};return this._config=l,this.cleanUpUrl(),l}cleanUpUrl(){const t=this.removeQueryParams(window.location.search,[\"emptyFrame\"]);window.history.replaceState(null,document.title,window.location.origin+window.location.pathname+t)}removeQueryParams(t,e){return e.forEach((e=>{const n=new URLSearchParams(t),i=n.get(e);Array.from(n.keys()).indexOf(e)>-1&&(t=t.replace(`${e}=${i}`,\"\"))})),\"&\"===t[t.length-1]&&(t=t.substr(0,t.length-1)),t=(t=t.replace(\"&&\",\"&\")).replace(\"?&\",\"?\")}};class N{constructor(t,e,n,i){this.resolver=t,this._glue=e,this._configFactory=n,this._configConverter=i,this._layoutsType=\"Workspace\",this._layoutComponentType=\"Workspace\"}getInitialConfig(){var e;return t(this,void 0,void 0,(function*(){if(this._initialWorkspaceConfig)return this._configFactory.generateInitialConfig([this._initialWorkspaceConfig]);const n=B.config;if(n.workspaceNames&&n.workspaceNames.length){const e=(yield Promise.all(n.workspaceNames.map((e=>t(this,void 0,void 0,(function*(){return yield this.getWorkspaceByName(e)})))))).map((t=>(t.config.workspacesOptions=t.config.workspacesOptions||{},t.config.workspacesOptions.context=t.layoutData.context,t.config))).filter((t=>t));if(e.length)return e.forEach(((t,e)=>{t.id=this._configFactory.getId(),t.workspacesOptions=t.workspacesOptions||{},n.context&&t.workspacesOptions.context?t.workspacesOptions.context=Object.assign(t.workspacesOptions.context,n.context):n.context&&(t.workspacesOptions.context=n.context),t.workspacesOptions.layoutName=n.workspaceNames[e]})),this._configFactory.generateInitialConfig(e)}else if(!(null===(e=B.config)||void 0===e?void 0:e.build)){const t=this.getLastSession();if(t&&t.length)return t.forEach((t=>{t&&(t.id=this._configFactory.getId())})),this._configFactory.generateInitialConfig(t)}return this._configFactory.getDefaultFrameConfig()}))}getLastSession(){return(z.get(z.LAST_SESSION_KEY)||[]).map((t=>(this.addWorkspaceIds(t),this.addWindowIds(t),this._configConverter.convertToRendererConfig(t))))}getSavedWorkspaceNames(){return t(this,void 0,void 0,(function*(){return(yield this._glue.layouts.getAll(this._layoutsType)).filter((t=>t.type===this._layoutsType)).map((t=>t.name))}))}export(){return t(this,void 0,void 0,(function*(){return this._glue.layouts.export(this._layoutsType)}))}getWorkspaceByName(e){return t(this,void 0,void 0,(function*(){const t=yield this._glue.layouts.get(e,this._layoutsType),n=t.components[0].state,i=this._configConverter.convertToRendererConfig(n);return this.addWorkspaceIds(i),this.addWindowIds(i),{config:i,layoutData:{metadata:t.metadata,name:e,context:n.context}}}))}delete(e){return t(this,void 0,void 0,(function*(){yield this._glue.layouts.remove(this._layoutsType,e)}))}save(e){return t(this,void 0,void 0,(function*(){const{workspace:t,title:n,name:i,saveContext:o}=e;if(!t.layout)throw new Error(\"An empty layout cannot be saved\");t.layout.config.workspacesOptions.name=i;const s=yield this.saveWorkspaceCore(t);n&&(s.config.title=n);let r={};if(o)try{r=(yield this.getWorkspaceContext(t.id))||{}}catch(t){}const a={name:i,type:this._layoutsType,metadata:{},components:[{type:this._layoutComponentType,state:{children:s.children,config:s.config,context:r}}]};return yield this._glue.layouts.import([a]),a}))}generateLayout(e,n){return t(this,void 0,void 0,(function*(){if(!n.layout)throw new Error(\"An empty layout cannot be generated\");n.layout.config.workspacesOptions.name=e;const t=yield this.saveWorkspaceCore(n);return{name:e,type:this._layoutsType,metadata:{},components:[{type:this._layoutComponentType,state:{children:t.children,config:t.config,context:{}}}]}}))}saveWorkspacesFrame(e){return t(this,void 0,void 0,(function*(){const t=e.map((t=>this.saveWorkspaceCoreSync(t))),n=yield Promise.all(t);z.set(z.LAST_SESSION_KEY,n)}))}setInitialWorkspaceConfig(t){this._initialWorkspaceConfig=t}saveWorkspaceCore(e){return t(this,void 0,void 0,(function*(){if(!e.layout)return;const t=this.resolver.getWorkspaceConfig(e.id);this.removeWorkspaceIds(t),yield this.applyWindowLayoutState(t);const n=this._configConverter.convertToAPIConfig(t);return this.removeWorkspaceItemIds(n),this.windowSummariesToWindowLayout(n),this.addWindowUrlsToWindows(n),this.workspaceSummaryToWorkspaceLayout(n),n}))}saveWorkspaceCoreSync(t){if(!t.layout)return;const e=this.resolver.getWorkspaceConfig(t.id);this.removeWorkspaceIds(e);const n=this._configConverter.convertToAPIConfig(e);return this.removeWorkspaceItemIds(n),this.windowSummariesToWindowLayout(n),this.addWindowUrlsToWindows(n),this.workspaceSummaryToWorkspaceLayout(n),n}windowSummariesToWindowLayout(t){const e=t=>{if(\"window\"===t.type)return delete t.config.isMaximized,delete t.config.isLoaded,delete t.config.isFocused,delete t.config.windowId,delete t.config.workspaceId,delete t.config.frameId,delete t.config.positionIndex,void(t.config.appName&&delete t.config.url);t.children.forEach((t=>e(t)))};e(t)}addWindowContexts(e){return t(this,void 0,void 0,(function*(){const n=e=>t(this,void 0,void 0,(function*(){if(\"window\"!==e.type)yield Promise.all(e.children.map((t=>n(t))));else if(e.config.windowId){const t=this._glue.windows.findById(e.config.windowId);if(t){const n=yield t.getContext();e.config.context=Object.assign({},e.config.context||{},n)}}}));yield n(e)}))}workspaceSummaryToWorkspaceLayout(t){(null==t?void 0:t.config)&&(delete t.config.frameId,delete t.config.positionIndex)}addWindowUrlsToWindows(t){const e=t=>{var n,i;if(\"window\"!==t.type||t.config.url||t.config.appName)\"window\"!==t.type&&t.children.forEach((t=>e(t)));else{const e=this._glue.appManager.application(t.config.appName);t.config.url=null===(i=null===(n=null==e?void 0:e.userProperties)||void 0===n?void 0:n.details)||void 0===i?void 0:i.url}};e(t)}addWorkspaceIds(t){if(!t)return;const e=t=>{t.id=this._configFactory.getId(),t.type&&\"component\"===t.type&&(t.componentName=\"app\"+t.id),\"component\"!==t.type&&t.content&&t.content.forEach((t=>e(t)))};e(t)}addWindowIds(t){if(!t)return;const e=t=>{\"component\"===t.type&&(t.componentState.windowId=this._configFactory.getId()),\"component\"!==t.type&&t.content&&t.content.forEach((t=>e(t)))};e(t)}removeWorkspaceIds(t){const e=t=>{\"id\"in t&&delete t.id,\"component\"===(null==t?void 0:t.type)&&(t.componentName=\"placeHolderId\",t.title=\"placeHolderId\"),\"component\"!==t.type&&t.content&&t.content.forEach((t=>e(t)))};e(t)}removeWorkspaceItemIds(t){const e=t=>{var n;\"id\"in t&&delete t.id,\"window\"!==t.type&&(null===(n=t.children)||void 0===n||n.forEach((t=>e(t))))};e(t)}applyWindowLayoutState(e){return t(this,void 0,void 0,(function*(){const n=e=>t(this,void 0,void 0,(function*(){if(\"component\"===e.type){const t=yield this.getWindowLayoutState(e.windowId);e.componentState.layoutState=t}else e.content.forEach((t=>n(t)))}));yield Promise.all(e.content.map((e=>t(this,void 0,void 0,(function*(){yield n(e)})))))}))}getWorkspaceContext(e){return t(this,void 0,void 0,(function*(){return yield this._glue.contexts.get(l(e))}))}getWindowLayoutState(e){return t(this,void 0,void 0,(function*(){return Promise.resolve({windowId:e})}))}}class O{constructor(t,e){this._frameId=t,this._layoutEventEmitter=e}getWindowSummary(e){return t(this,void 0,void 0,(function*(){e=Array.isArray(e)?e[0]:e;let t=d.getWindowContentItem(e);return t||(yield this.waitForWindowContentItem(e),t=d.getWindowContentItem(e)),this.getWindowSummaryCore(t,e)}))}getWindowSummarySync(t,e){t=Array.isArray(t)?t[0]:t;const n=e||d.getWindowContentItem(t);return this.getWindowSummaryCore(n,t)}getWorkspaceConfig(t){const e=d.getById(t);if(!e)throw new Error(\"Could find workspace to remove with id \"+t);const n=e.layout?e.layout.toConfig():{workspacesOptions:{},content:[],id:t};return n.workspacesOptions.frameId=this._frameId,n.workspacesOptions.positionIndex=this.getWorkspaceTabIndex(t),n.workspacesOptions.title||(n.workspacesOptions.title=d.getWorkspaceTitle(t)),n.workspacesOptions.name=n.workspacesOptions.name||n.workspacesOptions.title,this.transformComponentsToWindowSummary(n),this.transformParentsToContainerSummary(n),n}getWorkspaceSummary(t){const e=this.getWorkspaceConfig(t),n=this.getWorkspaceTabIndex(t),i={frameId:this._frameId,positionIndex:n,title:d.getWorkspaceTitle(t),name:e.workspacesOptions.name||d.getWorkspaceTitle(t)};return e.workspacesOptions.layoutName&&(i.layoutName=e.workspacesOptions.layoutName),{config:i,id:t}}isWindowMaximized(t){const e=r(t),n=d.getWindowContentItem(e);return null==n?void 0:n.parent.isMaximized}isWindowSelected(t){const e=r(t),n=d.getWindowContentItem(e);return(null==n?void 0:n.parent.getActiveContentItem().config.id)===e}getContainerSummary(t){var e;t=r(t);const n=d.getByContainerId(t),i=d.getContainer(t),o=null===(e=i.parent)||void 0===e?void 0:e.contentItems.indexOf(i);return{itemId:t,config:{workspaceId:n.id,frameId:this._frameId,positionIndex:o||0}}}getContainerSummaryByReference(t,e){var n;const i=null===(n=t.parent)||void 0===n?void 0:n.contentItems.indexOf(t);return{itemId:r(t.config.id),config:{workspaceId:e,frameId:this._frameId,positionIndex:i||0}}}getContainerConfig(t){t=r(t);const e=(d.getByContainerId(t)||d.getByWindowId(t)).layout.toConfig();return this.findElementInConfig(t,e)}isWindowInWorkspace(t){return!!d.getWindowContentItem(t)}getFrameSnapshot(){const t=d.workspaceIds.map((t=>this.getWorkspaceSummary(t)));return{id:this._frameId,config:{},workspaces:t}}getSnapshot(t){try{return this.getWorkspaceConfig(t)}catch(t){return this.getFrameSnapshot()}}findElementInConfig(t,e){const n=e=>{if(e.id===t)return[e];return(\"component\"!==e.type?e.content:[]).reduce(((t,e)=>[...t,...n(e)]),[])};return n(e).find((t=>t.id))}getWorkspaceTabIndex(t){var e;const n=null===(e=d.workspaceLayout.root.getItemsById(t)[0])||void 0===e?void 0:e.parent;if(!n)return 0;return n.header.tabs.findIndex((e=>e.contentItem.config.id===t))}getWindowSummaryCore(t,e){const n=t.parent.getActiveContentItem().config.id===t.config.id,i=void 0!==t.config.componentState.windowId,o=t.parent.contentItems.indexOf(t),s=d.getByWindowId(e).id,{appName:a,url:c,windowId:l}=t.config.componentState,h=this.getUserFriendlyParent(t);return{itemId:r(t.config.id),parentId:r(h.config.id),config:{frameId:this._frameId,isFocused:n,isLoaded:i,positionIndex:o,workspaceId:s,windowId:l,isMaximized:this.isWindowMaximized(l),appName:a,url:c,title:t.config.title}}}getUserFriendlyParent(t){return t.parent?t.parent.config.workspacesConfig.wrapper?this.getUserFriendlyParent(t.parent):t.parent:t}transformComponentsToWindowSummary(t){var e;if(\"component\"!==t.type||\"emptyVisibleWindow\"!==t.componentName){if(\"component\"===t.type){const e=this.getWindowSummarySync(t.id);return t.workspacesConfig=t.workspacesConfig||{},void(t.workspacesConfig=Object.assign(Object.assign({},t.workspacesConfig),e.config))}null===(e=t.content)||void 0===e||e.map((t=>this.transformComponentsToWindowSummary(t)))}}transformParentsToContainerSummary(t){var e;if(\"component\"!==t.type){if(\"stack\"===t.type||\"row\"===t.type||\"column\"===t.type){const e=this.getContainerSummary(t.id);t.workspacesConfig=t.workspacesConfig||{},t.workspacesConfig=Object.assign(Object.assign({},t.workspacesConfig),e.config)}null===(e=t.content)||void 0===e||e.map((t=>this.transformParentsToContainerSummary(t)))}}waitForWindowContentItem(t){return new Promise((e=>{const n=this._layoutEventEmitter.onContentComponentCreated((i=>{i.config.id===t&&(n(),e())}));d.getWindowContentItem(t)&&(n(),e())}))}}class R{constructor(){this._pattern=/^Untitled ([0-9]+)$/}getTitle(t,e=0){const n=t.filter((t=>this._pattern.test(t))).map((t=>parseInt(this._pattern.exec(t)[1],10)));return\"Untitled \"+((n.length?n.sort(((t,e)=>t-e))[n.length-1]:0)+1+e)}}class H{constructor(t){this._titleGenerator=new R,this._defaultWorkspaceLayoutSettings={showCloseIcon:!1,showMaximizeIcon:!1,showPopoutIcon:!1,disableDragProxy:!0,mode:\"workspace\"},this._glue=t}createEmptyVisibleWindowConfig(){return Object.assign(Object.assign({},this.createWindowConfigurationCore()),{componentState:{header:!1}})}createGDWindowConfig(t){const e=this.createWindowConfigurationCore(t.id);return Object.assign(Object.assign({},e),{componentName:\"app\"+e.id,windowId:t.windowId,title:t.title,componentState:{windowId:t.windowId,appName:t.appName,url:t.url,title:t.title,context:t.context}})}createApiWindow(t){return{id:Array.isArray(t.id)?t.id[0]:t.id,type:\"window\",config:{windowId:t.windowId,isMaximized:t.isMaximized,isLoaded:void 0!==t.windowId,isFocused:t.isFocused,appName:t.appName,url:t.url,title:t.title,workspaceId:t.workspaceId,frameId:t.frameId,positionIndex:t.positionIndex}}}getWorkspaceLayoutComponentName(t){return\"workspace\"+t}getWorkspaceTitle(t){return this._titleGenerator.getTitle(t)}getId(){return M.generate()}getDefaultWorkspaceSettings(){return{mode:\"default\",showCloseIcon:!1,showPopoutIcon:!0}}getDefaultFrameConfig(){const t=M.generate();return{frameId:void 0,workspaceConfigs:[{id:t,config:this.getDefaultWorkspaceConfig()}],workspaceLayout:{settings:this._defaultWorkspaceLayoutSettings,content:[{type:\"stack\",content:[{type:\"component\",id:t,componentName:this.getWorkspaceLayoutComponentName(t),componentState:{},workspacesConfig:{},title:this.getWorkspaceTitle(d.workspaceTitles)}],workspacesConfig:{}}]}}}getDefaultWorkspaceConfig(){}generateInitialConfig(t){const e={settings:this._defaultWorkspaceLayoutSettings,content:[{type:\"stack\",content:t.map((t=>{var e,n,i;const o=M.generate();return{workspacesConfig:{},type:\"component\",id:(null==t?void 0:t.id)||o,componentName:this.getWorkspaceLayoutComponentName(r(null==t?void 0:t.id)||o),componentState:{},noTabHeader:null===(e=null==t?void 0:t.workspacesOptions)||void 0===e?void 0:e.noTabHeader,title:(null===(n=null==t?void 0:t.workspacesOptions)||void 0===n?void 0:n.title)||(null===(i=null==t?void 0:t.workspacesOptions)||void 0===i?void 0:i.name)||this.getWorkspaceTitle(d.workspaceIds)}})),workspacesConfig:{}}]};return{frameId:void 0,workspaceConfigs:t.map(((t,n)=>{let i=null==t?void 0:t.id;return i||\"component\"===e.content[0].type||(i=e.content[0].content[n].id),{id:i,config:t}})),workspaceLayout:e}}wrapInGroup(t){return this.wrap(t,\"stack\")}getAppNameFromWindowId(t){const e=this._glue.appManager.instances().find((e=>e.agm.windowId===t));return null==e?void 0:e.application.name}createWindowConfigurationCore(t){return{workspacesConfig:{},type:\"component\",id:t||this.getId(),componentName:\"emptyVisibleWindow\"}}wrap(t,e){return{workspacesConfig:{wrapper:!0},type:e,content:t}}}class j{constructor(){this.registry=s()}onFrameEvent(t){return this.registry.add(\"frame\",t)}onWindowEvent(t){return this.registry.add(\"window\",t)}onContainerEvent(t){return this.registry.add(\"container\",t)}onWorkspaceEvent(t){return this.registry.add(\"workspace\",t)}raiseFrameEvent(t){this.registry.execute(\"frame\",t.action,t.payload)}raiseWindowEvent(t){this.registry.execute(\"window\",t.action,t.payload)}raiseContainerEvent(t){this.registry.execute(\"container\",t.action,t.payload)}raiseWorkspaceEvent(t){this.registry.execute(\"workspace\",t.action,t.payload)}}class q{constructor(t){this._configFactory=t,this.flat=t=>t.reduce(((t,e)=>[...t,...Array.isArray(e)?e:[e]]),[])}convertToRendererConfig(t){if(t)return this.convertToRendererConfigCore(t,void 0)}convertToAPIConfig(t){if(t)return this.convertToApiConfigCore(t)}convertToRendererConfigCore(t,e){var n,i,o,s,r;let a={type:t.type,content:[],workspacesOptions:t.config||{}};if(\"workspace\"!==t.type&&t.type||(a=this.applyDefaultRendererConfig({content:[],workspacesOptions:t.config})),\"workspace\"===t.type||!t.type){const e=t,{children:n}=e;return n.length>1&&n.every((t=>\"column\"===t.type))?a.content.push(this.wrap(n.map((t=>this.convertToRendererConfigCore(t,e))),\"row\")):n.length>1&&n.every((t=>\"row\"===t.type))?a.content.push(this.wrap(n.map((t=>this.convertToRendererConfigCore(t,e))),\"column\")):a.content.push(...n.map((t=>this.convertToRendererConfigCore(t,e)))),a}if(\"column\"===t.type||\"row\"===t.type)return a.content.push(...t.children.map((e=>this.convertToRendererConfigCore(e,t)))),0===a.content.length&&a.content.push(this.getGroupWithEmptyVisibleWindow()),a;if(\"group\"===t.type)return a.type=\"stack\",a.content.push(...t.children.map((e=>this.convertToRendererConfigCore(e,t)))),0===a.content.length&&a.content.push(this._configFactory.createEmptyVisibleWindowConfig()),a;if(\"window\"===t.type){let a=(null===(n=t.config)||void 0===n?void 0:n.appName)||t.appName;const c=null===(i=t.config)||void 0===i?void 0:i.windowId;!a&&c&&(a=this._configFactory.getAppNameFromWindowId(c));const l=this._configFactory.createGDWindowConfig({windowId:c,id:t.id,appName:a,url:(null===(o=t.config)||void 0===o?void 0:o.url)||t.url,title:(null===(s=t.config)||void 0===s?void 0:s.title)||t.title,context:(null===(r=t.config)||void 0===r?void 0:r.context)||t.context});return\"group\"!==e.type?(l.componentState.header=!1,this.wrap([l],\"stack\")):l}}convertToApiConfigCore(t){if(!t.type||\"workspace\"===t.type){t=t;const e=this.flat(t.content.map((t=>this.convertToApiConfigCore(t))));return{id:r(t.id),config:t.workspacesOptions,children:e}}if(\"component\"===t.type&&\"emptyVisibleWindow\"===t.componentName)return[];if(\"component\"!==t.type&&t.workspacesConfig&&t.workspacesConfig.wrapper)return this.flat(t.content.map((t=>this.convertToApiConfigCore(t))));if(\"component\"===t.type){const e=t.workspacesConfig;return this._configFactory.createApiWindow({id:t.id,isFocused:!1,isMaximized:e.isMaximized,windowId:t.componentState.windowId,appName:t.componentState.appName,url:t.componentState.url,frameId:e.frameId,workspaceId:e.workspaceId,title:e.title,positionIndex:e.positionIndex})}return{id:r(t.id),type:\"stack\"===t.type?\"group\":t.type,children:this.flat(t.content.map((t=>this.convertToApiConfigCore(t)))),config:{}}}wrap(t,e){return{workspacesConfig:{wrapper:!0},type:e,content:t}}applyDefaultRendererConfig(t){return Object.assign({settings:Object.assign({},this._configFactory.getDefaultWorkspaceSettings())},t)}getGroupWithEmptyVisibleWindow(){return this.wrap([this._configFactory.createEmptyVisibleWindowConfig()],\"stack\")}}class U{constructor(t,e,n){this._externalPopupManager=t,this._componentPopupManager=e,this._componentFactory=n}showAddWindowPopup(e,n){var i;return t(this,void 0,void 0,(function*(){return(null===(i=this._componentFactory)||void 0===i?void 0:i.createAddApplicationPopup)?this._componentPopupManager.showAddWindowPopup(e,n):this._externalPopupManager.showAddWindowPopup(e,n)}))}showOpenWorkspacePopup(e,n){var i;return t(this,void 0,void 0,(function*(){return(null===(i=this._componentFactory)||void 0===i?void 0:i.createAddWorkspacePopup)?this._componentPopupManager.showOpenWorkspacePopup(e):this._externalPopupManager.showOpenWorkspacePopup(e,n)}))}showSaveWorkspacePopup(e,n){var i;return t(this,void 0,void 0,(function*(){return(null===(i=this._componentFactory)||void 0===i?void 0:i.createSaveWorkspacePopup)?this._componentPopupManager.showSaveWorkspacePopup(e,n):this._externalPopupManager.showSaveWorkspacePopup(e,n)}))}hidePopup(){this._externalPopupManager.hidePopup(),this._componentFactory&&this._componentPopupManager.hidePopup()}}class V{constructor(t){this._addApplicationType=\"addApplication\",this._openWorkspaceType=\"openWorkspace\",this._saveWorkspaceType=\"saveWorkspace\",this._showPopupMethod=\"T42.Workspaces.ShowPopup\",this._glue=t,this.initPopup(),this.registerHideMethod(),this.registerResizeMethod()}showAddWindowPopup(e,n){return t(this,void 0,void 0,(function*(){this.hidePopup();const t=yield this.getPopupSize(this._addApplicationType,n);this.showElement(this._popup,e,t)}))}showOpenWorkspacePopup(e,n){return t(this,void 0,void 0,(function*(){this.hidePopup();const t=yield this.getPopupSize(this._openWorkspaceType,n);this.showElement(this._popup,e,t)}))}showSaveWorkspacePopup(e,n){return t(this,void 0,void 0,(function*(){this.hidePopup();const t=yield this.getPopupSize(this._saveWorkspaceType,n);this.showElement(this._popup,e,t)}))}hidePopup(){$(this._popup).css(\"visibility\",\"hidden\")}initPopup(){}showElement(t,e,n){$(t).css(\"visibility\",\"visible\").css(\"top\",e.top+\"px\").css(\"left\",e.left+\"px\"),n.height&&$(t).css(\"height\",n.height+\"px\"),n.width&&$(t).css(\"width\",n.width+\"px\");const i=t.getBoundingClientRect(),o=document.body.getBoundingClientRect(),s=o.width-i.right-10,r=o.height-i.bottom-10;s<0&&$(t).css(\"left\",e.left+s),r<0&&$(t).css(\"top\",e.top+r)}resizePopup(t){const e=$(this._popup);t.height&&e.css(\"height\",t.height+\"px\"),t.width&&e.css(\"width\",t.width+\"px\");const n=this._popup.getBoundingClientRect(),i=document.body.getBoundingClientRect(),o=i.width-n.right-10,s=i.height-n.bottom-10;if(o<0){const t=e.css(\"left\"),n=parseInt(t.substring(0,t.length-2));e.css(\"left\",n+o)}if(s<0){const t=e.css(\"top\"),n=parseInt(t.substring(0,t.length-2));e.css(\"top\",n+s)}}getPopupSize(e,n){return t(this,void 0,void 0,(function*(){const t=this.getPopupInteropId(),i=this._glue.agm.servers().find((e=>e.peerId===t));return(yield this._glue.agm.invoke(this._showPopupMethod,{type:e,payload:n},i)).returned}))}registerHideMethod(){this._glue.agm.register(\"T42.Workspaces.HidePopup\",(()=>{this.hidePopup()}))}registerResizeMethod(){this._glue.agm.register(\"T42.Workspaces.ResizePopup\",(t=>{this.resizePopup(t.size)}))}getPopupInteropId(){try{return this._popup.contentWindow.interopId||\"best\"}catch(t){console.warn(\"Could not get the popup interop id using best\")}return\"best\"}getPopupWindowTemplate(t){return`<iframe id=\"popup\" src=\"${t}\" class=\"popup\"></iframe>`}}class G{constructor(t,e){this._addApplicationType=\"addApplication\",this._openWorkspaceType=\"openWorkspace\",this._saveWorkspaceType=\"saveWorkspace\",this._popupSizes={[this._addApplicationType]:{height:200,width:200},[this._openWorkspaceType]:{height:200,width:200},[this._saveWorkspaceType]:{height:200,width:200}},this.hidePopup=()=>(document.body.onclick=void 0,$(this._popup).css(\"visibility\",\"hidden\"),new Promise((t=>{var e;(null===(e=this._componentFactory)||void 0===e?void 0:e.hideSystemPopups)?this._componentFactory.hideSystemPopups(t):t()}))),this._componentFactory=t,this._frameId=e,this.initPopup()}showAddWindowPopup(e,{workspaceId:n,parentType:i,boxId:o}){return t(this,void 0,void 0,(function*(){yield this.showInternalAddAppPopup(e,o,n,i)}))}showOpenWorkspacePopup(e){return t(this,void 0,void 0,(function*(){yield this.showInternalOpenWorkspacePopup(e)}))}showSaveWorkspacePopup(e,n){return t(this,void 0,void 0,(function*(){yield this.showInternalSaveWorkspacePopup(e,n)}))}showInternalSaveWorkspacePopup(e,n){return t(this,void 0,void 0,(function*(){yield this.hidePopup();const t=this.getPopupSize(this._saveWorkspaceType);this.showElement(this._popup,e,t),this._componentFactory.createSaveWorkspacePopup({domNode:this._popup,resizePopup:t=>this.resizePopup(t,this._saveWorkspaceType,$(this._popup)),hidePopup:this.hidePopup,workspaceId:n.workspaceId,buildMode:n.buildMode})}))}showInternalOpenWorkspacePopup(e){return t(this,void 0,void 0,(function*(){yield this.hidePopup();const t=this.getPopupSize(this._openWorkspaceType);this.showElement(this._popup,e,t),this._componentFactory.createAddWorkspacePopup({domNode:this._popup,frameId:this._frameId,hidePopup:this.hidePopup,resizePopup:t=>this.resizePopup(t,this._openWorkspaceType,$(this._popup))})}))}showInternalAddAppPopup(e,n,i,o){return t(this,void 0,void 0,(function*(){yield this.hidePopup();const t=this.getPopupSize(this._addApplicationType);this.showElement(this._popup,e,t),this._componentFactory.createAddApplicationPopup({domNode:this._popup,boxId:n,parentType:o,resizePopup:t=>this.resizePopup(t,this._addApplicationType,$(this._popup)),hidePopup:this.hidePopup,workspaceId:i,frameId:this._frameId})}))}initPopup(){this._popup=document.createElement(\"div\"),this._popup.classList.add(\"workspaces-system-popup\"),document.body.appendChild(this._popup)}showElement(t,e,n){document.body.onclick=t=>{-1===t.composedPath().indexOf(this._popup)&&this.hidePopup()},$(t).css(\"visibility\",\"visible\").css(\"top\",e.top+\"px\").css(\"left\",e.left+\"px\"),n.height&&$(t).css(\"height\",n.height+\"px\"),n.width&&$(t).css(\"width\",n.width+\"px\");const i=t.getBoundingClientRect(),o=document.body.getBoundingClientRect(),s=o.width-i.right-10,r=o.height-i.bottom-10;s<0&&$(t).css(\"left\",e.left+s),r<0&&$(t).css(\"top\",e.top+r)}resizePopup(t,e,n){t.height&&(n.css(\"height\",t.height+\"px\"),this._popupSizes[e].height=t.height),t.width&&(n.css(\"width\",t.width+\"px\"),this._popupSizes[e].width=t.width);const i=n[0].getBoundingClientRect(),o=document.body.getBoundingClientRect(),s=o.width-i.right-10,r=o.height-i.bottom-10;if(s<0){const t=n.css(\"left\"),e=parseInt(t.substring(0,t.length-2),10);n.css(\"left\",e+s)}if(r<0){const t=n.css(\"top\"),e=parseInt(t.substring(0,t.length-2),10);n.css(\"top\",e+r)}}getPopupSize(t){return this._popupSizes[t]}}var X=new class{constructor(){this._isLayoutInitialized=!1,this._initPromise=Promise.resolve(),this._workspacesEventEmitter=new j,this._titleGenerator=new R,this.getComponentBounds=()=>this._controller.bounds,this.subscribeForWindowClicked=t=>this._frameController.onFrameContentClicked(t),this.cleanUp=()=>{var t;if(null===(t=B.config)||void 0===t?void 0:t.build)return;const e=[],n=d.workspaceIds.map((t=>{const n=d.getById(t);return e.push(...n.windows.map((t=>this.stateResolver.getWindowSummarySync(t.id)))),this.stateResolver.getWorkspaceSummary(t)}));e.forEach((t=>{this.workspacesEventEmitter.raiseWindowEvent({action:\"removed\",payload:{windowSummary:t}})})),n.forEach((t=>{this.workspacesEventEmitter.raiseWorkspaceEvent({action:\"closed\",payload:{frameSummary:{id:this._frameId},workspaceSummary:t}})}));const i=d.layouts.filter((t=>{var e,n,i;return!(null===(i=null===(n=null===(e=t.layout)||void 0===e?void 0:e.config)||void 0===n?void 0:n.workspacesOptions)||void 0===i?void 0:i.noTabHeader)}));this._layoutsManager.saveWorkspacesFrame(i),this.workspacesEventEmitter.raiseFrameEvent({action:\"closed\",payload:{frameSummary:{id:this._frameId}}})}}get stateResolver(){return this._stateResolver}get workspacesEventEmitter(){return this._workspacesEventEmitter}get initPromise(){return this._initPromise}get initialized(){return this._initialized}get frameId(){return this._frameId}init(t,e,n){this._glue=t;const i=B.loadConfig();if(this._initialized)return void u.reInitialize(n);this._initialized=!0,this._frameId=e,this._configFactory=new H(t);const o=new q(this._configFactory);u.init(this._frameId,n);const r=new f(s());return this._stateResolver=new O(this._frameId,r),this._controller=new m(r,this._stateResolver,i,this._configFactory),this._frameController=new F(t),this._layoutsManager=new N(this.stateResolver,t,this._configFactory,o),this._popupManager=new U(new V(t),new G(n,e),n),i.emptyFrame||this.initLayout(),{cleanUp:this.cleanUp}}saveWorkspace(e,n,i){return t(this,void 0,void 0,(function*(){const t=d.getById(n)||d.getActiveWorkspace(),o=yield this._layoutsManager.save({name:e,workspace:t,title:e,saveContext:i});return t.layout.config.workspacesOptions.layoutName=e,t.layout.config.workspacesOptions.noTabHeader&&delete t.layout.config.workspacesOptions.noTabHeader,d.getWorkspaceLayoutItemById(n).setTitle(e),o}))}openWorkspace(e,n){return t(this,void 0,void 0,(function*(){const t=yield this._layoutsManager.getWorkspaceByName(e),i=t.config;return i.workspacesOptions.context=t.layoutData.context,(null==n?void 0:n.context)&&i.workspacesOptions.context?i.workspacesOptions.context=Object.assign(t.layoutData.context,null==n?void 0:n.context):(null==n?void 0:n.context)&&(i.workspacesOptions.context=null==n?void 0:n.context),(null==n?void 0:n.title)&&(i.workspacesOptions.title=null==n?void 0:n.title),i&&i.workspacesOptions&&!i.workspacesOptions.name&&(i.workspacesOptions.name=e),i&&(i.workspacesOptions=i.workspacesOptions||{},i.workspacesOptions.layoutName=t.layoutData.name),i&&void 0!==(null==n?void 0:n.noTabHeader)&&(i.workspacesOptions=i.workspacesOptions||{},i.workspacesOptions.noTabHeader=null==n?void 0:n.noTabHeader),this._isLayoutInitialized?e?(i.id=this._configFactory.getId(),yield this.addWorkspace(r(i.id),i),r(i.id)):void 0:(this._layoutsManager.setInitialWorkspaceConfig(i),this._initPromise=this.initLayout(),yield this._initPromise,r(i.id))}))}exportAllLayouts(){return this._layoutsManager.export()}deleteLayout(t){this._layoutsManager.delete(t)}maximizeItem(t){this._controller.maximizeWindow(t)}restoreItem(t){this._controller.restoreWindow(t)}closeItem(t){const e=d.getWindow(t),n=d.getContainer(t);if(this._frameId===t)d.workspaceIds.forEach((t=>this.closeWorkspace(d.getById(t))));else if(e){const e=d.getWindowContentItem(t);this.closeTab(e)}else if(n)this._controller.closeContainer(t);else{const e=d.getById(t);this.closeWorkspace(e)}}addContainer(t,e){return this._controller.addContainer(t,e)}addWindow(t,e){const n=d.getContainer(e);return n&&\"stack\"===n.type||\"component\"!==t.type||(t=this._configFactory.wrapInGroup([t])),this._controller.addWindow(t,e)}setItemTitle(t,e){d.getById(t)?this._controller.setWorkspaceTitle(t,e):this._controller.setWindowTitle(t,e)}eject(e){return t(this,void 0,void 0,(function*(){const{appName:t,url:n,windowId:i}=e.config.componentState,o=d.getWorkspaceContext(d.getByWindowId(e.config.id).id),s=this._glue.windows.findById(i),a=s?yield s.getContext():o;this.closeItem(r(e.config.id));const c=this.getUrlByAppName(t)||n;return{windowId:(yield this._glue.windows.open(t,c,{context:a})).id}}))}createWorkspace(e){return t(this,void 0,void 0,(function*(){if(!this._isLayoutInitialized)return e.id=this._configFactory.getId(),this._layoutsManager.setInitialWorkspaceConfig(e),this._initPromise=this.initLayout(),yield this._initPromise,r(e.id);const t=this._configFactory.getId();return yield this.addWorkspace(t,e),t}))}loadWindow(e){return t(this,void 0,void 0,(function*(){let t=d.getWindowContentItem(e),{windowId:n}=t.config.componentState;return n||(yield this.waitForFrameLoaded(e),t=d.getWindowContentItem(e),n=t.config.componentState.windowId),new Promise(((t,i)=>{n||i(`The window id of ${e} is missing`);let o=()=>{};const s=setTimeout((()=>{i(`Could not load window ${n} for 5000ms`),o()}),5e3);o=this._glue.windows.onWindowAdded((e=>{e.id===n&&(t({windowId:n}),o(),clearTimeout(s))}));this._glue.windows.list().find((t=>t.id===n))&&(t({windowId:n}),o(),clearTimeout(s))}))}))}focusItem(e){return t(this,void 0,void 0,(function*(){const t=d.getById(e);this._frameId===e?yield this._glue.windows.my().focus():t?this._controller.focusWorkspace(t.id):this._controller.focusWindow(e)}))}bundleWorkspace(t,e){this._controller.bundleWorkspace(t,e)}move(t){return this._glue.windows.my().moveTo(t.y,t.x)}getFrameSummary(t){const e=d.getByContainerId(t)||d.getByWindowId(t)||d.getById(t),n=this._frameId===t;return{id:e||n?this._frameId:\"none\"}}moveWindowTo(e,n){return t(this,void 0,void 0,(function*(){if(!(d.getByContainerId(n)||d.getById(n)))throw new Error(`Could not find container ${n} in frame ${this._frameId}`);const t=d.getWindowContentItem(e);if(!t)throw new Error(`Could not find window ${e} in frame ${this._frameId}`);return this.closeTab(t),this._controller.addWindow(t.config,n)}))}generateWorkspaceLayout(t,e){const n=d.getById(e);if(!n)throw new Error(\"Could not find workspace with id \"+e);return this._layoutsManager.generateLayout(t,n)}initLayout(){return t(this,void 0,void 0,(function*(){const t=yield this._layoutsManager.getInitialConfig();this.subscribeForPopups(),this.subscribeForLayout(),this._isLayoutInitialized=!0,yield Promise.all(t.workspaceConfigs.map((t=>{var e,n;return this._glue.contexts.set(l(t.id),(null===(n=null===(e=t.config)||void 0===e?void 0:e.workspacesOptions)||void 0===n?void 0:n.context)||{})}))),yield this._controller.init({frameId:this._frameId,workspaceLayout:t.workspaceLayout,workspaceConfigs:t.workspaceConfigs}),d.layouts.map((t=>t.layout)).filter((t=>t)).forEach((t=>this.reportLayoutStructure(t))),B.config.emptyFrame&&this._workspacesEventEmitter.raiseFrameEvent({action:\"opened\",payload:{frameSummary:{id:this._frameId}}})}))}subscribeForLayout(){this._controller.emitter.onContentComponentCreated(((e,n)=>t(this,void 0,void 0,(function*(){var t,i;if(\"emptyVisibleWindow\"===e.config.componentName)return;const o=d.getById(n),s=c(e.element),{componentState:a}=e.config,{windowId:l,title:h,appName:u}=a,p=r(e.config.id),m=this.getTitleByAppName(u),f=h||m||u,g=null===(t=null==e?void 0:e.config.componentState)||void 0===t?void 0:t.context;let y=this.getUrlByAppName(a.appName)||a.url;const v=!d.getWindow(p);if(d.addWindow({id:p,bounds:s,windowId:l,url:y,appName:u},o.id),(null===(i=e.config.componentState)||void 0===i?void 0:i.context)&&delete e.config.componentState.context,!y&&l){const t=this._glue.windows.list().find((t=>t.id===l));y=yield t.getURL();d.getWindow(p).url=y}if(e.config.componentState.url=y,f&&e.setTitle(f),v){const t=this.stateResolver.getWindowSummarySync(p,e);this.workspacesEventEmitter.raiseWindowEvent({action:\"added\",payload:{windowSummary:t}})}try{const t=yield this._frameController.startFrame(p,y,void 0,g,l);e.config.componentState.windowId=t.name,this._frameController.moveFrame(p,c(e.element)),v&&this._workspacesEventEmitter.raiseWindowEvent({action:\"loaded\",payload:{windowSummary:yield this.stateResolver.getWindowSummary(p)}})}catch(t){e.config.componentState.windowId=void 0,y?this._frameController.moveFrame(p,c(e.element)):this.closeTab(e);if(!d.getById(n))throw new Error(`Workspace ${n} failed ot initialize because none of the specified windows were able to load\\n                    Internal error: ${t}`)}})))),this._controller.emitter.onContentItemResized(((t,e)=>{this._frameController.moveFrame(e,c(t))})),this._controller.emitter.onTabCloseRequested((e=>t(this,void 0,void 0,(function*(){const t=d.getByWindowId(r(e.config.id));this.closeTab(e),this._controller.removeLayoutElement(r(e.config.id)),this._frameController.remove(r(e.config.id)),t.windows.length||this.checkForEmptyWorkspace(t)})))),this._controller.emitter.onWorkspaceTabCloseRequested((t=>{this.closeWorkspace(t)})),this._controller.emitter.onTabElementMouseDown((t=>{const e=c(t.contentItem.element),n=Math.min(e.width,800),i=Math.min(e.height,600);this._controller.setDragElementSize(n,i)})),this._controller.emitter.onTabDragStart((t=>{const e=this._controller.getDragElement();new MutationObserver((e=>{Array.from(e).forEach((e=>{if(\"attributes\"===e.type){const e=$(this._controller.getDragElement()).children(\".lm_content\").children(\".lm_item_container\"),n=c(e[0]),i=r(t.contentItem.config.id);this._frameController.moveFrame(i,n),this._frameController.bringToFront(i)}}))})).observe(e,{attributes:!0})})),this._controller.emitter.onTabDragEnd((t=>{const e=t.header.tabs.filter((e=>e.contentItem.config.id!==t.contentItem.config.id));this._frameController.selectionChanged([r(t.contentItem.id)],e.map((t=>r(t.contentItem.id))))})),this._controller.emitter.onSelectionChanged(((e,n)=>t(this,void 0,void 0,(function*(){this._frameController.selectionChanged(n.map((t=>t.id)),e.map((t=>t.id)))})))),this._controller.emitter.onWorkspaceAdded((t=>{var e;const n=d.workspaceIds.filter((e=>e!==t.id)).reduce(((t,e)=>[...t,...d.getById(e).windows]),[]);if(this._workspacesEventEmitter.raiseWorkspaceEvent({action:\"opened\",payload:{frameSummary:{id:this._frameId},workspaceSummary:this.stateResolver.getWorkspaceSummary(t.id)}}),d.getActiveWorkspace().id===t.id){if(this._workspacesEventEmitter.raiseWorkspaceEvent({action:\"selected\",payload:{frameSummary:{id:this._frameId},workspaceSummary:this.stateResolver.getWorkspaceSummary(t.id)}}),!t.layout)return void this._frameController.selectionChangedDeep([],n.map((t=>t.id)));const e=a(t.layout.toConfig().content);this._frameController.selectionChangedDeep(e.map((t=>r(t.id))),n.map((t=>t.id)))}if(!t.layout)return;const i=t.layout.config.workspacesOptions,o=i.title||i.name;o&&(null===(e=d.getWorkspaceLayoutItemById(t.id))||void 0===e||e.setTitle(o))})),this._controller.emitter.onWorkspaceSelectionChanged(((t,e)=>{if(!t.layout)return this._frameController.selectionChangedDeep([],e.map((t=>t.id))),void this._workspacesEventEmitter.raiseWorkspaceEvent({action:\"selected\",payload:{frameSummary:{id:this._frameId},workspaceSummary:this.stateResolver.getWorkspaceSummary(t.id)}});const n=a(t.layout.toConfig().content).filter((t=>this._controller.isWindowVisible(t.id)));this._frameController.selectionChangedDeep(n.map((t=>r(t.id))),e.map((t=>t.id))),this._workspacesEventEmitter.raiseWorkspaceEvent({action:\"selected\",payload:{frameSummary:{id:this._frameId},workspaceSummary:this.stateResolver.getWorkspaceSummary(t.id)}})})),this._controller.emitter.onAddButtonClicked((({laneId:e,workspaceId:n,bounds:i,parentType:o})=>t(this,void 0,void 0,(function*(){const t={boxId:e,workspaceId:n,parentType:o,frameId:this._frameId,peerId:this._glue.agm.instance.peerId,domNode:void 0,resizePopup:void 0,hidePopup:void 0};yield this._popupManager.showAddWindowPopup(i,t)})))),this._controller.emitter.onContentLayoutInit((t=>{this.reportLayoutStructure(t)})),this._controller.emitter.onWorkspaceAddButtonClicked((()=>t(this,void 0,void 0,(function*(){const t={frameId:this._frameId,peerId:this._glue.agm.instance.peerId},e=d.workspaceLayoutHeader.element.find(\".lm_workspace_controls\").find(\".lm_add_button\"),n=c(e);yield this._popupManager.showOpenWorkspacePopup(n,t)})))),this._controller.emitter.onWorkspaceSaveRequested((e=>t(this,void 0,void 0,(function*(){const t={frameId:this._frameId,workspaceId:e,peerId:this._glue.agm.instance.peerId,buildMode:B.config.build,domNode:void 0,resizePopup:void 0,hidePopup:void 0},n=d.getWorkspaceLayoutItemById(e).tab.element.find(\".lm_saveButton\"),i=c(n);yield this._popupManager.showSaveWorkspacePopup(i,t)})))),this._controller.emitter.onStackMaximized((t=>{const e=t.getActiveContentItem(),n=t.contentItems.map((t=>r(t.config.id)));t.contentItems.forEach((t=>{this._frameController.maximizeTab(r(t.config.id))})),this._frameController.selectionChanged([r(e.config.id)],n)})),this._controller.emitter.onStackRestored((t=>{const e=t.getActiveContentItem(),n=t.contentItems.map((t=>r(t.config.id)));t.contentItems.forEach((t=>{this._frameController.restoreTab(r(t.config.id))})),this._frameController.selectionChanged([r(e.config.id)],n)})),this._controller.emitter.onEjectRequested((t=>{if(!t.isComponent)throw new Error(\"Can't eject item of type \"+t.type);return this.eject(t)})),u.onWorkspaceContentsShown((t=>{const e=d.getActiveWorkspace();if(!(null==e?void 0:e.layout)||t!==e.id)return;const n=d.getWorkspaceContentItem(t),i=c(n.element);e.layout.updateSize(i.width,i.height);const o=e.layout.root.getItemsByFilter((t=>\"stack\"===t.type));this._frameController.selectionChangedDeep(o.map((t=>r(t.getActiveContentItem().config.id))),[])})),u.onWorkspaceContentsHidden((t=>{const e=d.getById(t);(null==e?void 0:e.layout)&&t===e.id&&this._frameController.selectionChangedDeep([],e.windows.map((t=>t.id)))}))}subscribeForPopups(){this._frameController.onFrameContentClicked((()=>{this._popupManager.hidePopup()})),this._frameController.onWindowTitleChanged(((t,e)=>{this.setItemTitle(t,e)}))}reportLayoutStructure(t){a(t.toConfig().content).forEach((e=>{const n=t.root.getItemsById(e.id)[0];this._frameController.moveFrame(r(n.config.id),c(n.element))}))}closeTab(t){const e=r(t.config.id),n=d.getByWindowId(e),i=this.stateResolver.getWindowSummarySync(e);this._controller.removeLayoutElement(e),this._frameController.remove(e),this.workspacesEventEmitter.raiseWindowEvent({action:\"removed\",payload:{windowSummary:i}}),n.windows.length||this.checkForEmptyWorkspace(n)}closeWorkspace(t){if(!t)throw new Error(\"Could not find a workspace to close\");const e=this.stateResolver.getWorkspaceSummary(t.id),n=t.windows.map((t=>{if(d.getWindowContentItem(t.id))return this.stateResolver.getWindowSummarySync(t.id)})).filter((t=>t));t.windows.forEach((t=>this._frameController.remove(t.id))),this.checkForEmptyWorkspace(t),n.forEach((t=>{this.workspacesEventEmitter.raiseWindowEvent({action:\"removed\",payload:{windowSummary:t}})})),this.workspacesEventEmitter.raiseWorkspaceEvent({action:\"closed\",payload:{workspaceSummary:e,frameSummary:{id:this._frameId}}})}addWorkspace(e,n){var i;return t(this,void 0,void 0,(function*(){yield this._glue.contexts.set(l(e),(null===(i=null==n?void 0:n.workspacesOptions)||void 0===i?void 0:i.context)||{}),yield this._controller.addWorkspace(e,n)}))}checkForEmptyWorkspace(t){var e;if(1===d.layouts.length){t.windows=[],null===(e=t.layout)||void 0===e||e.destroy(),t.layout=void 0,this._controller.showAddButton(t.id);const n=d.getWorkspaceTitle(t.id),i=this._configFactory.getWorkspaceTitle(d.workspaceTitles.filter((t=>t!==n)));this._controller.setWorkspaceTitle(t.id,i)}else this._controller.removeWorkspace(t.id)}waitForFrameLoaded(t){return new Promise(((e,n)=>{let i=()=>{};const o=setTimeout((()=>{i(),n(`Did not hear frame loaded for ${t} in 5000ms`)}),5e3);i=this.workspacesEventEmitter.onWindowEvent(((n,s)=>{\"loaded\"===n&&s.windowSummary.itemId===t&&(e(),clearTimeout(o),i())}))}))}getUrlByAppName(t){var e,n,i,o;return null===(o=null===(i=null===(n=null===(e=this._glue.appManager)||void 0===e?void 0:e.application(t))||void 0===n?void 0:n.userProperties)||void 0===i?void 0:i.details)||void 0===o?void 0:o.url}getTitleByAppName(t){var e,n;return null===(n=null===(e=this._glue.appManager)||void 0===e?void 0:e.application(t))||void 0===n?void 0:n.title}};var Y=new class{constructor(){this._workspacesControlMethod=\"T42.Workspaces.Control\",this._workspacesEventMethod=\"T42.Workspaces.Events\",this._inDisposing=!1,this.handleControl=(e,n,i,o)=>t(this,void 0,void 0,(function*(){try{switch(yield X.initPromise,e.operation){case\"isWindowInWorkspace\":i(this.handleIsWindowInWorkspace(e.operationArguments));break;case\"addWindow\":i(yield this.handleAddWindow(e.operationArguments));break;case\"addContainer\":i(yield this.handleAddContainer(e.operationArguments));break;case\"getWorkspaceSnapshot\":i(this.handleGetWorkspaceSnapshot(e.operationArguments));break;case\"openWorkspace\":i(yield this.handleOpenWorkspace(e.operationArguments));break;case\"saveLayout\":i(yield this.handleSaveLayout(e.operationArguments));break;case\"exportAllLayouts\":i(yield this.handleExportAllLayouts());break;case\"deleteLayout\":this.handleDeleteLayout(e.operationArguments),i(void 0);break;case\"getAllWorkspacesSummaries\":i(this.handleGetAllWorkspaceSummaries());break;case\"maximizeItem\":this.handleMaximizeItem(e.operationArguments),i(void 0);break;case\"restoreItem\":this.handleRestoreItem(e.operationArguments),i(void 0);break;case\"closeItem\":this.handleCloseItem(e.operationArguments),i(void 0);break;case\"setItemTitle\":yield this.handleSetItemTitle(e.operationArguments),i(void 0);break;case\"addWorkspaceChildren\":yield this.handleAddWorkspaceChildren(e.operationArguments),i(void 0);break;case\"ejectWindow\":i(yield this.handleEject(e.operationArguments));break;case\"createWorkspace\":i(yield this.handleCreateWorkspace(e.operationArguments));break;case\"forceLoadWindow\":i(yield this.handleForceLoadWindow(e.operationArguments));break;case\"focusItem\":yield this.handleFocusItem(e.operationArguments),i(void 0);break;case\"bundleWorkspace\":this.handleBundleWorkspace(e.operationArguments),i(void 0);break;case\"getFrameSummary\":i(yield this.handleGetFrameSummary(e.operationArguments));break;case\"moveFrame\":yield this.handleMoveFrame(e.operationArguments),i(void 0);break;case\"getFrameSnapshot\":i(yield this.handleGetFrameSnapshot());break;case\"getSnapshot\":i(yield this.handleGetSnapshot(e.operationArguments));break;case\"moveWindowTo\":yield this.handleMoveWindowTo(e.operationArguments),i(void 0);break;case\"generateLayout\":i(yield this.handleGenerateLayout(e.operationArguments));break;case\"ping\":i(this.handlePing());break;default:o(\"Invalid operation - \"+e.operation)}}catch(t){o(t.message)}}))}init(e,n){return t(this,void 0,void 0,(function*(){this._frameId=n,this._glue=e,this._configFactory=new H(e),this._converter=new q(this._configFactory),this._glue&&(yield this.registerAgmMethods())}))}dispose(){this._inDisposing=!0}subscribeForWorkspaceEvents(){X.workspacesEventEmitter.onFrameEvent(((t,e)=>{this.publishEventData(t,e,\"frame\")})),X.workspacesEventEmitter.onWindowEvent(((t,e)=>{this.publishEventData(t,e,\"window\")})),X.workspacesEventEmitter.onWorkspaceEvent(((t,e)=>{this.publishEventData(t,e,\"workspace\")})),X.workspacesEventEmitter.onContainerEvent(((t,e)=>{this.publishEventData(t,e,\"box\")}))}registerAgmMethods(){return t(this,void 0,void 0,(function*(){yield this._glue.agm.registerAsync({name:this._workspacesControlMethod},this.handleControl)}))}handleOpenWorkspace(e){return t(this,void 0,void 0,(function*(){const t=yield X.openWorkspace(e.name,e.restoreOptions),n=X.stateResolver.getWorkspaceConfig(t),i=this._converter.convertToAPIConfig(n);return{id:i.id,children:i.children,config:i.config,frameSummary:{id:this._frameId}}}))}handleExportAllLayouts(){return t(this,void 0,void 0,(function*(){return{layouts:yield X.exportAllLayouts()}}))}handleSaveLayout(e){return t(this,void 0,void 0,(function*(){return yield X.saveWorkspace(e.name,e.workspaceId,e.saveContext)}))}handleDeleteLayout(t){X.deleteLayout(t.name)}handleGetWorkspaceSnapshot(t){const e=d.getById(t.itemId),n=X.stateResolver.getWorkspaceConfig(e.id),i=this._converter.convertToAPIConfig(n);return{id:i.id,children:i.children,config:i.config,frameSummary:{id:this._frameId}}}handleGetAllWorkspaceSummaries(){return{summaries:d.layouts.map((t=>X.stateResolver.getWorkspaceSummary(t.id)))}}handleCloseItem(t){X.closeItem(t.itemId)}handleRestoreItem(t){X.restoreItem(t.itemId)}handleMaximizeItem(t){X.maximizeItem(t.itemId)}handleAddContainer(e){return t(this,void 0,void 0,(function*(){const t=this._converter.convertToRendererConfig(e.definition);if(\"workspace\"===t.type)throw new Error(\"Unsuccessful conversion\");const n={id:r(t.id),content:t.content,type:t.type,workspacesConfig:t.workspacesConfig};return{itemId:yield X.addContainer(n,e.parentId)}}))}handleAddWindow(e){return t(this,void 0,void 0,(function*(){const t=this._configFactory.createGDWindowConfig({windowId:e.definition.windowId,id:void 0,appName:e.definition.appName,url:e.definition.url,context:e.definition.context});if(e.definition.windowId){const n=this._glue.windows.list().find((t=>t.id===e.definition.windowId)),i=yield n.getURL();t.componentState.url=i,t.componentState.appName=this._configFactory.getAppNameFromWindowId(n.id)}return yield X.addWindow(t,e.parentId),{itemId:r(t.id)}}))}handleSetItemTitle(t){X.setItemTitle(t.itemId,t.title)}handleAddWorkspaceChildren(e){return t(this,void 0,void 0,(function*(){const t=e.children.some((t=>\"row\"===t.type)),n=e.children.some((t=>\"column\"===t.type));if(n&&t)throw new Error(\"Can't add both row and column workspace children\");let i={type:\"column\",children:e.children};n&&(i={type:\"row\",children:e.children});const o=this._converter.convertToRendererConfig(i);yield X.addContainer(o,e.workspaceId)}))}handleEject(e){return t(this,void 0,void 0,(function*(){const t=d.getWindowContentItem(e.itemId);if(!t)throw new Error(\"Could not find item \"+e.itemId);return yield X.eject(t)}))}handleCreateWorkspace(e){return t(this,void 0,void 0,(function*(){const t=this._converter.convertToRendererConfig(e),n=yield X.createWorkspace(t),i=this._converter.convertToAPIConfig(X.stateResolver.getWorkspaceConfig(n));return{id:i.id,children:i.children,config:i.config,frameSummary:{id:this._frameId}}}))}handleForceLoadWindow(e){return t(this,void 0,void 0,(function*(){return yield X.loadWindow(e.itemId)}))}handleFocusItem(t){return X.focusItem(t.itemId)}handleBundleWorkspace(t){return X.bundleWorkspace(t.workspaceId,t.type)}handleIsWindowInWorkspace(t){return{inWorkspace:X.stateResolver.isWindowInWorkspace(t.itemId)}}handleGetFrameSummary(e){return t(this,void 0,void 0,(function*(){return X.getFrameSummary(e.itemId)}))}handleMoveFrame(e){return t(this,void 0,void 0,(function*(){yield X.move(e.location)}))}handleGetFrameSnapshot(){return X.stateResolver.getFrameSnapshot()}handleGetSnapshot(e){return t(this,void 0,void 0,(function*(){return X.stateResolver.getSnapshot(e.itemId)}))}handleMoveWindowTo(e){return t(this,void 0,void 0,(function*(){return X.moveWindowTo(e.itemId,e.containerId)}))}handleGenerateLayout(t){return X.generateWorkspaceLayout(t.name,t.workspaceId)}handlePing(){return{live:!this._inDisposing}}publishEventData(t,e,n){if(this._glue.agm.methods().some((t=>t.name===this._workspacesEventMethod))){const i={action:t,type:n,payload:e};this._glue.agm.invoke(this._workspacesEventMethod,i,\"all\").catch((()=>{}))}}},J=n((function(t){\n/*!\n * jQuery JavaScript Library v3.5.1\n * https://jquery.com/\n *\n * Includes Sizzle.js\n * https://sizzlejs.com/\n *\n * Copyright JS Foundation and other contributors\n * Released under the MIT license\n * https://jquery.org/license\n *\n * Date: 2020-05-04T22:49Z\n */\n!function(e,n){t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error(\"jQuery requires a window with a document\");return n(t)}}(\"undefined\"!=typeof window?window:e,(function(t,e){var n=[],i=Object.getPrototypeOf,o=n.slice,s=n.flat?function(t){return n.flat.call(t)}:function(t){return n.concat.apply([],t)},r=n.push,a=n.indexOf,c={},l=c.toString,d=c.hasOwnProperty,h=d.toString,u=h.call(Object),p={},m=function(t){return\"function\"==typeof t&&\"number\"!=typeof t.nodeType},f=function(t){return null!=t&&t===t.window},g=t.document,y={type:!0,src:!0,nonce:!0,noModule:!0};function v(t,e,n){var i,o,s=(n=n||g).createElement(\"script\");if(s.text=t,e)for(i in y)(o=e[i]||e.getAttribute&&e.getAttribute(i))&&s.setAttribute(i,o);n.head.appendChild(s).parentNode.removeChild(s)}function w(t){return null==t?t+\"\":\"object\"==typeof t||\"function\"==typeof t?c[l.call(t)]||\"object\":typeof t}var _=\"3.5.1\",b=function(t,e){return new b.fn.init(t,e)};function C(t){var e=!!t&&\"length\"in t&&t.length,n=w(t);return!m(t)&&!f(t)&&(\"array\"===n||0===e||\"number\"==typeof e&&e>0&&e-1 in t)}b.fn=b.prototype={jquery:_,constructor:b,length:0,toArray:function(){return o.call(this)},get:function(t){return null==t?o.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=b.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return b.each(this,t)},map:function(t){return this.pushStack(b.map(this,(function(e,n){return t.call(e,n,e)})))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(b.grep(this,(function(t,e){return(e+1)%2})))},odd:function(){return this.pushStack(b.grep(this,(function(t,e){return e%2})))},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:r,sort:n.sort,splice:n.splice},b.extend=b.fn.extend=function(){var t,e,n,i,o,s,r=arguments[0]||{},a=1,c=arguments.length,l=!1;for(\"boolean\"==typeof r&&(l=r,r=arguments[a]||{},a++),\"object\"==typeof r||m(r)||(r={}),a===c&&(r=this,a--);a<c;a++)if(null!=(t=arguments[a]))for(e in t)i=t[e],\"__proto__\"!==e&&r!==i&&(l&&i&&(b.isPlainObject(i)||(o=Array.isArray(i)))?(n=r[e],s=o&&!Array.isArray(n)?[]:o||b.isPlainObject(n)?n:{},o=!1,r[e]=b.extend(l,s,i)):void 0!==i&&(r[e]=i));return r},b.extend({expando:\"jQuery\"+(_+Math.random()).replace(/\\D/g,\"\"),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||\"[object Object]\"!==l.call(t))&&(!(e=i(t))||\"function\"==typeof(n=d.call(e,\"constructor\")&&e.constructor)&&h.call(n)===u)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,n){v(t,{nonce:e&&e.nonce},n)},each:function(t,e){var n,i=0;if(C(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},makeArray:function(t,e){var n=e||[];return null!=t&&(C(Object(t))?b.merge(n,\"string\"==typeof t?[t]:t):r.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:a.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,o=t.length;i<n;i++)t[o++]=e[i];return t.length=o,t},grep:function(t,e,n){for(var i=[],o=0,s=t.length,r=!n;o<s;o++)!e(t[o],o)!==r&&i.push(t[o]);return i},map:function(t,e,n){var i,o,r=0,a=[];if(C(t))for(i=t.length;r<i;r++)null!=(o=e(t[r],r,n))&&a.push(o);else for(r in t)null!=(o=e(t[r],r,n))&&a.push(o);return s(a)},guid:1,support:p}),\"function\"==typeof Symbol&&(b.fn[Symbol.iterator]=n[Symbol.iterator]),b.each(\"Boolean Number String Function Array Date RegExp Object Error Symbol\".split(\" \"),(function(t,e){c[\"[object \"+e+\"]\"]=e.toLowerCase()}));var I=\n/*!\n * Sizzle CSS Selector Engine v2.3.5\n * https://sizzlejs.com/\n *\n * Copyright JS Foundation and other contributors\n * Released under the MIT license\n * https://js.foundation/\n *\n * Date: 2020-03-14\n */\nfunction(t){var e,n,i,o,s,r,a,c,l,d,h,u,p,m,f,g,y,v,w,_=\"sizzle\"+1*new Date,b=t.document,C=0,I=0,x=ct(),k=ct(),E=ct(),S=ct(),T=function(t,e){return t===e&&(h=!0),0},W={}.hasOwnProperty,A=[],D=A.pop,P=A.push,L=A.push,M=A.slice,F=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},z=\"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped\",B=\"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",N=\"(?:\\\\\\\\[\\\\da-fA-F]{1,6}[\\\\x20\\\\t\\\\r\\\\n\\\\f]?|\\\\\\\\[^\\\\r\\\\n\\\\f]|[\\\\w-]|[^\\0-\\\\x7f])+\",O=\"\\\\[[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(\"+N+\")(?:\"+B+\"*([*^$|!~]?=)\"+B+\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\"+N+\"))|)\"+B+\"*\\\\]\",$=\":(\"+N+\")(?:\\\\((('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\"+O+\")*)|.*)\\\\)|)\",R=new RegExp(B+\"+\",\"g\"),H=new RegExp(\"^[\\\\x20\\\\t\\\\r\\\\n\\\\f]+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)[\\\\x20\\\\t\\\\r\\\\n\\\\f]+$\",\"g\"),j=new RegExp(\"^[\\\\x20\\\\t\\\\r\\\\n\\\\f]*,[\\\\x20\\\\t\\\\r\\\\n\\\\f]*\"),q=new RegExp(\"^[\\\\x20\\\\t\\\\r\\\\n\\\\f]*([>+~]|[\\\\x20\\\\t\\\\r\\\\n\\\\f])[\\\\x20\\\\t\\\\r\\\\n\\\\f]*\"),U=new RegExp(B+\"|>\"),V=new RegExp($),G=new RegExp(\"^\"+N+\"$\"),X={ID:new RegExp(\"^#(\"+N+\")\"),CLASS:new RegExp(\"^\\\\.(\"+N+\")\"),TAG:new RegExp(\"^(\"+N+\"|[*])\"),ATTR:new RegExp(\"^\"+O),PSEUDO:new RegExp(\"^\"+$),CHILD:new RegExp(\"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\([\\\\x20\\\\t\\\\r\\\\n\\\\f]*(even|odd|(([+-]|)(\\\\d*)n|)[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(?:([+-]|)[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(\\\\d+)|))[\\\\x20\\\\t\\\\r\\\\n\\\\f]*\\\\)|)\",\"i\"),bool:new RegExp(\"^(?:\"+z+\")$\",\"i\"),needsContext:new RegExp(\"^[\\\\x20\\\\t\\\\r\\\\n\\\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\([\\\\x20\\\\t\\\\r\\\\n\\\\f]*((?:-\\\\d)?\\\\d*)[\\\\x20\\\\t\\\\r\\\\n\\\\f]*\\\\)|)(?=[^-]|$)\",\"i\")},Y=/HTML$/i,J=/^(?:input|select|textarea|button)$/i,Z=/^h\\d$/i,Q=/^[^{]+\\{\\s*\\[native \\w/,K=/^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,tt=/[+~]/,et=new RegExp(\"\\\\\\\\[\\\\da-fA-F]{1,6}[\\\\x20\\\\t\\\\r\\\\n\\\\f]?|\\\\\\\\([^\\\\r\\\\n\\\\f])\",\"g\"),nt=function(t,e){var n=\"0x\"+t.slice(1)-65536;return e||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},it=/([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\0-\\x1f\\x7f-\\uFFFF\\w-]/g,ot=function(t,e){return e?\"\\0\"===t?\"�\":t.slice(0,-1)+\"\\\\\"+t.charCodeAt(t.length-1).toString(16)+\" \":\"\\\\\"+t},st=function(){u()},rt=_t((function(t){return!0===t.disabled&&\"fieldset\"===t.nodeName.toLowerCase()}),{dir:\"parentNode\",next:\"legend\"});try{L.apply(A=M.call(b.childNodes),b.childNodes),A[b.childNodes.length].nodeType}catch(t){L={apply:A.length?function(t,e){P.apply(t,M.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function at(t,e,i,o){var s,a,l,d,h,m,y,v=e&&e.ownerDocument,b=e?e.nodeType:9;if(i=i||[],\"string\"!=typeof t||!t||1!==b&&9!==b&&11!==b)return i;if(!o&&(u(e),e=e||p,f)){if(11!==b&&(h=K.exec(t)))if(s=h[1]){if(9===b){if(!(l=e.getElementById(s)))return i;if(l.id===s)return i.push(l),i}else if(v&&(l=v.getElementById(s))&&w(e,l)&&l.id===s)return i.push(l),i}else{if(h[2])return L.apply(i,e.getElementsByTagName(t)),i;if((s=h[3])&&n.getElementsByClassName&&e.getElementsByClassName)return L.apply(i,e.getElementsByClassName(s)),i}if(n.qsa&&!S[t+\" \"]&&(!g||!g.test(t))&&(1!==b||\"object\"!==e.nodeName.toLowerCase())){if(y=t,v=e,1===b&&(U.test(t)||q.test(t))){for((v=tt.test(t)&&yt(e.parentNode)||e)===e&&n.scope||((d=e.getAttribute(\"id\"))?d=d.replace(it,ot):e.setAttribute(\"id\",d=_)),a=(m=r(t)).length;a--;)m[a]=(d?\"#\"+d:\":scope\")+\" \"+wt(m[a]);y=m.join(\",\")}try{return L.apply(i,v.querySelectorAll(y)),i}catch(e){S(t,!0)}finally{d===_&&e.removeAttribute(\"id\")}}}return c(t.replace(H,\"$1\"),e,i,o)}function ct(){var t=[];return function e(n,o){return t.push(n+\" \")>i.cacheLength&&delete e[t.shift()],e[n+\" \"]=o}}function lt(t){return t[_]=!0,t}function dt(t){var e=p.createElement(\"fieldset\");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ht(t,e){for(var n=t.split(\"|\"),o=n.length;o--;)i.attrHandle[n[o]]=e}function ut(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function pt(t){return function(e){return\"input\"===e.nodeName.toLowerCase()&&e.type===t}}function mt(t){return function(e){var n=e.nodeName.toLowerCase();return(\"input\"===n||\"button\"===n)&&e.type===t}}function ft(t){return function(e){return\"form\"in e?e.parentNode&&!1===e.disabled?\"label\"in e?\"label\"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&rt(e)===t:e.disabled===t:\"label\"in e&&e.disabled===t}}function gt(t){return lt((function(e){return e=+e,lt((function(n,i){for(var o,s=t([],n.length,e),r=s.length;r--;)n[o=s[r]]&&(n[o]=!(i[o]=n[o]))}))}))}function yt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=at.support={},s=at.isXML=function(t){var e=t.namespaceURI,n=(t.ownerDocument||t).documentElement;return!Y.test(e||n&&n.nodeName||\"HTML\")},u=at.setDocument=function(t){var e,o,r=t?t.ownerDocument||t:b;return r!=p&&9===r.nodeType&&r.documentElement?(m=(p=r).documentElement,f=!s(p),b!=p&&(o=p.defaultView)&&o.top!==o&&(o.addEventListener?o.addEventListener(\"unload\",st,!1):o.attachEvent&&o.attachEvent(\"onunload\",st)),n.scope=dt((function(t){return m.appendChild(t).appendChild(p.createElement(\"div\")),void 0!==t.querySelectorAll&&!t.querySelectorAll(\":scope fieldset div\").length})),n.attributes=dt((function(t){return t.className=\"i\",!t.getAttribute(\"className\")})),n.getElementsByTagName=dt((function(t){return t.appendChild(p.createComment(\"\")),!t.getElementsByTagName(\"*\").length})),n.getElementsByClassName=Q.test(p.getElementsByClassName),n.getById=dt((function(t){return m.appendChild(t).id=_,!p.getElementsByName||!p.getElementsByName(_).length})),n.getById?(i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){return t.getAttribute(\"id\")===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&f){var n=e.getElementById(t);return n?[n]:[]}}):(i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode(\"id\");return n&&n.value===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&f){var n,i,o,s=e.getElementById(t);if(s){if((n=s.getAttributeNode(\"id\"))&&n.value===t)return[s];for(o=e.getElementsByName(t),i=0;s=o[i++];)if((n=s.getAttributeNode(\"id\"))&&n.value===t)return[s]}return[]}}),i.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],o=0,s=e.getElementsByTagName(t);if(\"*\"===t){for(;n=s[o++];)1===n.nodeType&&i.push(n);return i}return s},i.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&f)return e.getElementsByClassName(t)},y=[],g=[],(n.qsa=Q.test(p.querySelectorAll))&&(dt((function(t){var e;m.appendChild(t).innerHTML=\"<a id='\"+_+\"'></a><select id='\"+_+\"-\\r\\\\' msallowcapture=''><option selected=''></option></select>\",t.querySelectorAll(\"[msallowcapture^='']\").length&&g.push(\"[*^$]=[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(?:''|\\\"\\\")\"),t.querySelectorAll(\"[selected]\").length||g.push(\"\\\\[[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(?:value|\"+z+\")\"),t.querySelectorAll(\"[id~=\"+_+\"-]\").length||g.push(\"~=\"),(e=p.createElement(\"input\")).setAttribute(\"name\",\"\"),t.appendChild(e),t.querySelectorAll(\"[name='']\").length||g.push(\"\\\\[[\\\\x20\\\\t\\\\r\\\\n\\\\f]*name[\\\\x20\\\\t\\\\r\\\\n\\\\f]*=[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(?:''|\\\"\\\")\"),t.querySelectorAll(\":checked\").length||g.push(\":checked\"),t.querySelectorAll(\"a#\"+_+\"+*\").length||g.push(\".#.+[+~]\"),t.querySelectorAll(\"\\\\\\f\"),g.push(\"[\\\\r\\\\n\\\\f]\")})),dt((function(t){t.innerHTML=\"<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>\";var e=p.createElement(\"input\");e.setAttribute(\"type\",\"hidden\"),t.appendChild(e).setAttribute(\"name\",\"D\"),t.querySelectorAll(\"[name=d]\").length&&g.push(\"name[\\\\x20\\\\t\\\\r\\\\n\\\\f]*[*^$|!~]?=\"),2!==t.querySelectorAll(\":enabled\").length&&g.push(\":enabled\",\":disabled\"),m.appendChild(t).disabled=!0,2!==t.querySelectorAll(\":disabled\").length&&g.push(\":enabled\",\":disabled\"),t.querySelectorAll(\"*,:x\"),g.push(\",.*:\")}))),(n.matchesSelector=Q.test(v=m.matches||m.webkitMatchesSelector||m.mozMatchesSelector||m.oMatchesSelector||m.msMatchesSelector))&&dt((function(t){n.disconnectedMatch=v.call(t,\"*\"),v.call(t,\"[s!='']:x\"),y.push(\"!=\",$)})),g=g.length&&new RegExp(g.join(\"|\")),y=y.length&&new RegExp(y.join(\"|\")),e=Q.test(m.compareDocumentPosition),w=e||Q.test(m.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},T=e?function(t,e){if(t===e)return h=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===i?t==p||t.ownerDocument==b&&w(b,t)?-1:e==p||e.ownerDocument==b&&w(b,e)?1:d?F(d,t)-F(d,e):0:4&i?-1:1)}:function(t,e){if(t===e)return h=!0,0;var n,i=0,o=t.parentNode,s=e.parentNode,r=[t],a=[e];if(!o||!s)return t==p?-1:e==p?1:o?-1:s?1:d?F(d,t)-F(d,e):0;if(o===s)return ut(t,e);for(n=t;n=n.parentNode;)r.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;r[i]===a[i];)i++;return i?ut(r[i],a[i]):r[i]==b?-1:a[i]==b?1:0},p):p},at.matches=function(t,e){return at(t,null,null,e)},at.matchesSelector=function(t,e){if(u(t),n.matchesSelector&&f&&!S[e+\" \"]&&(!y||!y.test(e))&&(!g||!g.test(e)))try{var i=v.call(t,e);if(i||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){S(e,!0)}return at(e,p,null,[t]).length>0},at.contains=function(t,e){return(t.ownerDocument||t)!=p&&u(t),w(t,e)},at.attr=function(t,e){(t.ownerDocument||t)!=p&&u(t);var o=i.attrHandle[e.toLowerCase()],s=o&&W.call(i.attrHandle,e.toLowerCase())?o(t,e,!f):void 0;return void 0!==s?s:n.attributes||!f?t.getAttribute(e):(s=t.getAttributeNode(e))&&s.specified?s.value:null},at.escape=function(t){return(t+\"\").replace(it,ot)},at.error=function(t){throw new Error(\"Syntax error, unrecognized expression: \"+t)},at.uniqueSort=function(t){var e,i=[],o=0,s=0;if(h=!n.detectDuplicates,d=!n.sortStable&&t.slice(0),t.sort(T),h){for(;e=t[s++];)e===t[s]&&(o=i.push(s));for(;o--;)t.splice(i[o],1)}return d=null,t},o=at.getText=function(t){var e,n=\"\",i=0,s=t.nodeType;if(s){if(1===s||9===s||11===s){if(\"string\"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=o(t)}else if(3===s||4===s)return t.nodeValue}else for(;e=t[i++];)n+=o(e);return n},(i=at.selectors={cacheLength:50,createPseudo:lt,match:X,attrHandle:{},find:{},relative:{\">\":{dir:\"parentNode\",first:!0},\" \":{dir:\"parentNode\"},\"+\":{dir:\"previousSibling\",first:!0},\"~\":{dir:\"previousSibling\"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,nt),t[3]=(t[3]||t[4]||t[5]||\"\").replace(et,nt),\"~=\"===t[2]&&(t[3]=\" \"+t[3]+\" \"),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),\"nth\"===t[1].slice(0,3)?(t[3]||at.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*(\"even\"===t[3]||\"odd\"===t[3])),t[5]=+(t[7]+t[8]||\"odd\"===t[3])):t[3]&&at.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return X.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||\"\":n&&V.test(n)&&(e=r(n,!0))&&(e=n.indexOf(\")\",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,nt).toLowerCase();return\"*\"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=x[t+\" \"];return e||(e=new RegExp(\"(^|[\\\\x20\\\\t\\\\r\\\\n\\\\f])\"+t+\"(\"+B+\"|$)\"))&&x(t,(function(t){return e.test(\"string\"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute(\"class\")||\"\")}))},ATTR:function(t,e,n){return function(i){var o=at.attr(i,t);return null==o?\"!=\"===e:!e||(o+=\"\",\"=\"===e?o===n:\"!=\"===e?o!==n:\"^=\"===e?n&&0===o.indexOf(n):\"*=\"===e?n&&o.indexOf(n)>-1:\"$=\"===e?n&&o.slice(-n.length)===n:\"~=\"===e?(\" \"+o.replace(R,\" \")+\" \").indexOf(n)>-1:\"|=\"===e&&(o===n||o.slice(0,n.length+1)===n+\"-\"))}},CHILD:function(t,e,n,i,o){var s=\"nth\"!==t.slice(0,3),r=\"last\"!==t.slice(-4),a=\"of-type\"===e;return 1===i&&0===o?function(t){return!!t.parentNode}:function(e,n,c){var l,d,h,u,p,m,f=s!==r?\"nextSibling\":\"previousSibling\",g=e.parentNode,y=a&&e.nodeName.toLowerCase(),v=!c&&!a,w=!1;if(g){if(s){for(;f;){for(u=e;u=u[f];)if(a?u.nodeName.toLowerCase()===y:1===u.nodeType)return!1;m=f=\"only\"===t&&!m&&\"nextSibling\"}return!0}if(m=[r?g.firstChild:g.lastChild],r&&v){for(w=(p=(l=(d=(h=(u=g)[_]||(u[_]={}))[u.uniqueID]||(h[u.uniqueID]={}))[t]||[])[0]===C&&l[1])&&l[2],u=p&&g.childNodes[p];u=++p&&u&&u[f]||(w=p=0)||m.pop();)if(1===u.nodeType&&++w&&u===e){d[t]=[C,p,w];break}}else if(v&&(w=p=(l=(d=(h=(u=e)[_]||(u[_]={}))[u.uniqueID]||(h[u.uniqueID]={}))[t]||[])[0]===C&&l[1]),!1===w)for(;(u=++p&&u&&u[f]||(w=p=0)||m.pop())&&((a?u.nodeName.toLowerCase()!==y:1!==u.nodeType)||!++w||(v&&((d=(h=u[_]||(u[_]={}))[u.uniqueID]||(h[u.uniqueID]={}))[t]=[C,w]),u!==e)););return(w-=o)===i||w%i==0&&w/i>=0}}},PSEUDO:function(t,e){var n,o=i.pseudos[t]||i.setFilters[t.toLowerCase()]||at.error(\"unsupported pseudo: \"+t);return o[_]?o(e):o.length>1?(n=[t,t,\"\",e],i.setFilters.hasOwnProperty(t.toLowerCase())?lt((function(t,n){for(var i,s=o(t,e),r=s.length;r--;)t[i=F(t,s[r])]=!(n[i]=s[r])})):function(t){return o(t,0,n)}):o}},pseudos:{not:lt((function(t){var e=[],n=[],i=a(t.replace(H,\"$1\"));return i[_]?lt((function(t,e,n,o){for(var s,r=i(t,null,o,[]),a=t.length;a--;)(s=r[a])&&(t[a]=!(e[a]=s))})):function(t,o,s){return e[0]=t,i(e,null,s,n),e[0]=null,!n.pop()}})),has:lt((function(t){return function(e){return at(t,e).length>0}})),contains:lt((function(t){return t=t.replace(et,nt),function(e){return(e.textContent||o(e)).indexOf(t)>-1}})),lang:lt((function(t){return G.test(t||\"\")||at.error(\"unsupported lang: \"+t),t=t.replace(et,nt).toLowerCase(),function(e){var n;do{if(n=f?e.lang:e.getAttribute(\"xml:lang\")||e.getAttribute(\"lang\"))return(n=n.toLowerCase())===t||0===n.indexOf(t+\"-\")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===m},focus:function(t){return t===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:ft(!1),disabled:ft(!0),checked:function(t){var e=t.nodeName.toLowerCase();return\"input\"===e&&!!t.checked||\"option\"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!i.pseudos.empty(t)},header:function(t){return Z.test(t.nodeName)},input:function(t){return J.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return\"input\"===e&&\"button\"===t.type||\"button\"===e},text:function(t){var e;return\"input\"===t.nodeName.toLowerCase()&&\"text\"===t.type&&(null==(e=t.getAttribute(\"type\"))||\"text\"===e.toLowerCase())},first:gt((function(){return[0]})),last:gt((function(t,e){return[e-1]})),eq:gt((function(t,e,n){return[n<0?n+e:n]})),even:gt((function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t})),odd:gt((function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t})),lt:gt((function(t,e,n){for(var i=n<0?n+e:n>e?e:n;--i>=0;)t.push(i);return t})),gt:gt((function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t}))}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[e]=pt(e);for(e in{submit:!0,reset:!0})i.pseudos[e]=mt(e);function vt(){}function wt(t){for(var e=0,n=t.length,i=\"\";e<n;e++)i+=t[e].value;return i}function _t(t,e,n){var i=e.dir,o=e.next,s=o||i,r=n&&\"parentNode\"===s,a=I++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,o);return!1}:function(e,n,c){var l,d,h,u=[C,a];if(c){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,c))return!0}else for(;e=e[i];)if(1===e.nodeType||r)if(d=(h=e[_]||(e[_]={}))[e.uniqueID]||(h[e.uniqueID]={}),o&&o===e.nodeName.toLowerCase())e=e[i]||e;else{if((l=d[s])&&l[0]===C&&l[1]===a)return u[2]=l[2];if(d[s]=u,u[2]=t(e,n,c))return!0}return!1}}function bt(t){return t.length>1?function(e,n,i){for(var o=t.length;o--;)if(!t[o](e,n,i))return!1;return!0}:t[0]}function Ct(t,e,n,i,o){for(var s,r=[],a=0,c=t.length,l=null!=e;a<c;a++)(s=t[a])&&(n&&!n(s,i,o)||(r.push(s),l&&e.push(a)));return r}function It(t,e,n,i,o,s){return i&&!i[_]&&(i=It(i)),o&&!o[_]&&(o=It(o,s)),lt((function(s,r,a,c){var l,d,h,u=[],p=[],m=r.length,f=s||function(t,e,n){for(var i=0,o=e.length;i<o;i++)at(t,e[i],n);return n}(e||\"*\",a.nodeType?[a]:a,[]),g=!t||!s&&e?f:Ct(f,u,t,a,c),y=n?o||(s?t:m||i)?[]:r:g;if(n&&n(g,y,a,c),i)for(l=Ct(y,p),i(l,[],a,c),d=l.length;d--;)(h=l[d])&&(y[p[d]]=!(g[p[d]]=h));if(s){if(o||t){if(o){for(l=[],d=y.length;d--;)(h=y[d])&&l.push(g[d]=h);o(null,y=[],l,c)}for(d=y.length;d--;)(h=y[d])&&(l=o?F(s,h):u[d])>-1&&(s[l]=!(r[l]=h))}}else y=Ct(y===r?y.splice(m,y.length):y),o?o(null,r,y,c):L.apply(r,y)}))}function xt(t){for(var e,n,o,s=t.length,r=i.relative[t[0].type],a=r||i.relative[\" \"],c=r?1:0,d=_t((function(t){return t===e}),a,!0),h=_t((function(t){return F(e,t)>-1}),a,!0),u=[function(t,n,i){var o=!r&&(i||n!==l)||((e=n).nodeType?d(t,n,i):h(t,n,i));return e=null,o}];c<s;c++)if(n=i.relative[t[c].type])u=[_t(bt(u),n)];else{if((n=i.filter[t[c].type].apply(null,t[c].matches))[_]){for(o=++c;o<s&&!i.relative[t[o].type];o++);return It(c>1&&bt(u),c>1&&wt(t.slice(0,c-1).concat({value:\" \"===t[c-2].type?\"*\":\"\"})).replace(H,\"$1\"),n,c<o&&xt(t.slice(c,o)),o<s&&xt(t=t.slice(o)),o<s&&wt(t))}u.push(n)}return bt(u)}return vt.prototype=i.filters=i.pseudos,i.setFilters=new vt,r=at.tokenize=function(t,e){var n,o,s,r,a,c,l,d=k[t+\" \"];if(d)return e?0:d.slice(0);for(a=t,c=[],l=i.preFilter;a;){for(r in n&&!(o=j.exec(a))||(o&&(a=a.slice(o[0].length)||a),c.push(s=[])),n=!1,(o=q.exec(a))&&(n=o.shift(),s.push({value:n,type:o[0].replace(H,\" \")}),a=a.slice(n.length)),i.filter)!(o=X[r].exec(a))||l[r]&&!(o=l[r](o))||(n=o.shift(),s.push({value:n,type:r,matches:o}),a=a.slice(n.length));if(!n)break}return e?a.length:a?at.error(t):k(t,c).slice(0)},a=at.compile=function(t,e){var n,o=[],s=[],a=E[t+\" \"];if(!a){for(e||(e=r(t)),n=e.length;n--;)(a=xt(e[n]))[_]?o.push(a):s.push(a);(a=E(t,function(t,e){var n=e.length>0,o=t.length>0,s=function(s,r,a,c,d){var h,m,g,y=0,v=\"0\",w=s&&[],_=[],b=l,I=s||o&&i.find.TAG(\"*\",d),x=C+=null==b?1:Math.random()||.1,k=I.length;for(d&&(l=r==p||r||d);v!==k&&null!=(h=I[v]);v++){if(o&&h){for(m=0,r||h.ownerDocument==p||(u(h),a=!f);g=t[m++];)if(g(h,r||p,a)){c.push(h);break}d&&(C=x)}n&&((h=!g&&h)&&y--,s&&w.push(h))}if(y+=v,n&&v!==y){for(m=0;g=e[m++];)g(w,_,r,a);if(s){if(y>0)for(;v--;)w[v]||_[v]||(_[v]=D.call(c));_=Ct(_)}L.apply(c,_),d&&!s&&_.length>0&&y+e.length>1&&at.uniqueSort(c)}return d&&(C=x,l=b),w};return n?lt(s):s}(s,o))).selector=t}return a},c=at.select=function(t,e,n,o){var s,c,l,d,h,u=\"function\"==typeof t&&t,p=!o&&r(t=u.selector||t);if(n=n||[],1===p.length){if((c=p[0]=p[0].slice(0)).length>2&&\"ID\"===(l=c[0]).type&&9===e.nodeType&&f&&i.relative[c[1].type]){if(!(e=(i.find.ID(l.matches[0].replace(et,nt),e)||[])[0]))return n;u&&(e=e.parentNode),t=t.slice(c.shift().value.length)}for(s=X.needsContext.test(t)?0:c.length;s--&&(l=c[s],!i.relative[d=l.type]);)if((h=i.find[d])&&(o=h(l.matches[0].replace(et,nt),tt.test(c[0].type)&&yt(e.parentNode)||e))){if(c.splice(s,1),!(t=o.length&&wt(c)))return L.apply(n,o),n;break}}return(u||a(t,p))(o,e,!f,n,!e||tt.test(t)&&yt(e.parentNode)||e),n},n.sortStable=_.split(\"\").sort(T).join(\"\")===_,n.detectDuplicates=!!h,u(),n.sortDetached=dt((function(t){return 1&t.compareDocumentPosition(p.createElement(\"fieldset\"))})),dt((function(t){return t.innerHTML=\"<a href='#'></a>\",\"#\"===t.firstChild.getAttribute(\"href\")}))||ht(\"type|href|height|width\",(function(t,e,n){if(!n)return t.getAttribute(e,\"type\"===e.toLowerCase()?1:2)})),n.attributes&&dt((function(t){return t.innerHTML=\"<input/>\",t.firstChild.setAttribute(\"value\",\"\"),\"\"===t.firstChild.getAttribute(\"value\")}))||ht(\"value\",(function(t,e,n){if(!n&&\"input\"===t.nodeName.toLowerCase())return t.defaultValue})),dt((function(t){return null==t.getAttribute(\"disabled\")}))||ht(z,(function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null})),at}(t);b.find=I,b.expr=I.selectors,b.expr[\":\"]=b.expr.pseudos,b.uniqueSort=b.unique=I.uniqueSort,b.text=I.getText,b.isXMLDoc=I.isXML,b.contains=I.contains,b.escapeSelector=I.escape;var x=function(t,e,n){for(var i=[],o=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&b(t).is(n))break;i.push(t)}return i},k=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},E=b.expr.match.needsContext;function S(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var T=/^<([a-z][^\\/\\0>:\\x20\\t\\r\\n\\f]*)[\\x20\\t\\r\\n\\f]*\\/?>(?:<\\/\\1>|)$/i;function W(t,e,n){return m(e)?b.grep(t,(function(t,i){return!!e.call(t,i,t)!==n})):e.nodeType?b.grep(t,(function(t){return t===e!==n})):\"string\"!=typeof e?b.grep(t,(function(t){return a.call(e,t)>-1!==n})):b.filter(e,t,n)}b.filter=function(t,e,n){var i=e[0];return n&&(t=\":not(\"+t+\")\"),1===e.length&&1===i.nodeType?b.find.matchesSelector(i,t)?[i]:[]:b.find.matches(t,b.grep(e,(function(t){return 1===t.nodeType})))},b.fn.extend({find:function(t){var e,n,i=this.length,o=this;if(\"string\"!=typeof t)return this.pushStack(b(t).filter((function(){for(e=0;e<i;e++)if(b.contains(o[e],this))return!0})));for(n=this.pushStack([]),e=0;e<i;e++)b.find(t,o[e],n);return i>1?b.uniqueSort(n):n},filter:function(t){return this.pushStack(W(this,t||[],!1))},not:function(t){return this.pushStack(W(this,t||[],!0))},is:function(t){return!!W(this,\"string\"==typeof t&&E.test(t)?b(t):t||[],!1).length}});var A,D=/^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]+))$/;(b.fn.init=function(t,e,n){var i,o;if(!t)return this;if(n=n||A,\"string\"==typeof t){if(!(i=\"<\"===t[0]&&\">\"===t[t.length-1]&&t.length>=3?[null,t,null]:D.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof b?e[0]:e,b.merge(this,b.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:g,!0)),T.test(i[1])&&b.isPlainObject(e))for(i in e)m(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(o=g.getElementById(i[2]))&&(this[0]=o,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):m(t)?void 0!==n.ready?n.ready(t):t(b):b.makeArray(t,this)}).prototype=b.fn,A=b(g);var P=/^(?:parents|prev(?:Until|All))/,L={children:!0,contents:!0,next:!0,prev:!0};function M(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}b.fn.extend({has:function(t){var e=b(t,this),n=e.length;return this.filter((function(){for(var t=0;t<n;t++)if(b.contains(this,e[t]))return!0}))},closest:function(t,e){var n,i=0,o=this.length,s=[],r=\"string\"!=typeof t&&b(t);if(!E.test(t))for(;i<o;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(r?r.index(n)>-1:1===n.nodeType&&b.find.matchesSelector(n,t))){s.push(n);break}return this.pushStack(s.length>1?b.uniqueSort(s):s)},index:function(t){return t?\"string\"==typeof t?a.call(b(t),this[0]):a.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(b.uniqueSort(b.merge(this.get(),b(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),b.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return x(t,\"parentNode\")},parentsUntil:function(t,e,n){return x(t,\"parentNode\",n)},next:function(t){return M(t,\"nextSibling\")},prev:function(t){return M(t,\"previousSibling\")},nextAll:function(t){return x(t,\"nextSibling\")},prevAll:function(t){return x(t,\"previousSibling\")},nextUntil:function(t,e,n){return x(t,\"nextSibling\",n)},prevUntil:function(t,e,n){return x(t,\"previousSibling\",n)},siblings:function(t){return k((t.parentNode||{}).firstChild,t)},children:function(t){return k(t.firstChild)},contents:function(t){return null!=t.contentDocument&&i(t.contentDocument)?t.contentDocument:(S(t,\"template\")&&(t=t.content||t),b.merge([],t.childNodes))}},(function(t,e){b.fn[t]=function(n,i){var o=b.map(this,e,n);return\"Until\"!==t.slice(-5)&&(i=n),i&&\"string\"==typeof i&&(o=b.filter(i,o)),this.length>1&&(L[t]||b.uniqueSort(o),P.test(t)&&o.reverse()),this.pushStack(o)}}));var F=/[^\\x20\\t\\r\\n\\f]+/g;function z(t){return t}function B(t){throw t}function N(t,e,n,i){var o;try{t&&m(o=t.promise)?o.call(t).done(e).fail(n):t&&m(o=t.then)?o.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}b.Callbacks=function(t){t=\"string\"==typeof t?function(t){var e={};return b.each(t.match(F)||[],(function(t,n){e[n]=!0})),e}(t):b.extend({},t);var e,n,i,o,s=[],r=[],a=-1,c=function(){for(o=o||t.once,i=e=!0;r.length;a=-1)for(n=r.shift();++a<s.length;)!1===s[a].apply(n[0],n[1])&&t.stopOnFalse&&(a=s.length,n=!1);t.memory||(n=!1),e=!1,o&&(s=n?[]:\"\")},l={add:function(){return s&&(n&&!e&&(a=s.length-1,r.push(n)),function e(n){b.each(n,(function(n,i){m(i)?t.unique&&l.has(i)||s.push(i):i&&i.length&&\"string\"!==w(i)&&e(i)}))}(arguments),n&&!e&&c()),this},remove:function(){return b.each(arguments,(function(t,e){for(var n;(n=b.inArray(e,s,n))>-1;)s.splice(n,1),n<=a&&a--})),this},has:function(t){return t?b.inArray(t,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return o=r=[],s=n=\"\",this},disabled:function(){return!s},lock:function(){return o=r=[],n||e||(s=n=\"\"),this},locked:function(){return!!o},fireWith:function(t,n){return o||(n=[t,(n=n||[]).slice?n.slice():n],r.push(n),e||c()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!i}};return l},b.extend({Deferred:function(e){var n=[[\"notify\",\"progress\",b.Callbacks(\"memory\"),b.Callbacks(\"memory\"),2],[\"resolve\",\"done\",b.Callbacks(\"once memory\"),b.Callbacks(\"once memory\"),0,\"resolved\"],[\"reject\",\"fail\",b.Callbacks(\"once memory\"),b.Callbacks(\"once memory\"),1,\"rejected\"]],i=\"pending\",o={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},catch:function(t){return o.then(null,t)},pipe:function(){var t=arguments;return b.Deferred((function(e){b.each(n,(function(n,i){var o=m(t[i[4]])&&t[i[4]];s[i[1]]((function(){var t=o&&o.apply(this,arguments);t&&m(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[i[0]+\"With\"](this,o?[t]:arguments)}))})),t=null})).promise()},then:function(e,i,o){var s=0;function r(e,n,i,o){return function(){var a=this,c=arguments,l=function(){var t,l;if(!(e<s)){if((t=i.apply(a,c))===n.promise())throw new TypeError(\"Thenable self-resolution\");l=t&&(\"object\"==typeof t||\"function\"==typeof t)&&t.then,m(l)?o?l.call(t,r(s,n,z,o),r(s,n,B,o)):(s++,l.call(t,r(s,n,z,o),r(s,n,B,o),r(s,n,z,n.notifyWith))):(i!==z&&(a=void 0,c=[t]),(o||n.resolveWith)(a,c))}},d=o?l:function(){try{l()}catch(t){b.Deferred.exceptionHook&&b.Deferred.exceptionHook(t,d.stackTrace),e+1>=s&&(i!==B&&(a=void 0,c=[t]),n.rejectWith(a,c))}};e?d():(b.Deferred.getStackHook&&(d.stackTrace=b.Deferred.getStackHook()),t.setTimeout(d))}}return b.Deferred((function(t){n[0][3].add(r(0,t,m(o)?o:z,t.notifyWith)),n[1][3].add(r(0,t,m(e)?e:z)),n[2][3].add(r(0,t,m(i)?i:B))})).promise()},promise:function(t){return null!=t?b.extend(t,o):o}},s={};return b.each(n,(function(t,e){var r=e[2],a=e[5];o[e[1]]=r.add,a&&r.add((function(){i=a}),n[3-t][2].disable,n[3-t][3].disable,n[0][2].lock,n[0][3].lock),r.add(e[3].fire),s[e[0]]=function(){return s[e[0]+\"With\"](this===s?void 0:this,arguments),this},s[e[0]+\"With\"]=r.fireWith})),o.promise(s),e&&e.call(s,s),s},when:function(t){var e=arguments.length,n=e,i=Array(n),s=o.call(arguments),r=b.Deferred(),a=function(t){return function(n){i[t]=this,s[t]=arguments.length>1?o.call(arguments):n,--e||r.resolveWith(i,s)}};if(e<=1&&(N(t,r.done(a(n)).resolve,r.reject,!e),\"pending\"===r.state()||m(s[n]&&s[n].then)))return r.then();for(;n--;)N(s[n],a(n),r.reject);return r.promise()}});var O=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;b.Deferred.exceptionHook=function(e,n){t.console&&t.console.warn&&e&&O.test(e.name)&&t.console.warn(\"jQuery.Deferred exception: \"+e.message,e.stack,n)},b.readyException=function(e){t.setTimeout((function(){throw e}))};var $=b.Deferred();function R(){g.removeEventListener(\"DOMContentLoaded\",R),t.removeEventListener(\"load\",R),b.ready()}b.fn.ready=function(t){return $.then(t).catch((function(t){b.readyException(t)})),this},b.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--b.readyWait:b.isReady)||(b.isReady=!0,!0!==t&&--b.readyWait>0||$.resolveWith(g,[b]))}}),b.ready.then=$.then,\"complete\"===g.readyState||\"loading\"!==g.readyState&&!g.documentElement.doScroll?t.setTimeout(b.ready):(g.addEventListener(\"DOMContentLoaded\",R),t.addEventListener(\"load\",R));var H=function(t,e,n,i,o,s,r){var a=0,c=t.length,l=null==n;if(\"object\"===w(n))for(a in o=!0,n)H(t,e,a,n[a],!0,s,r);else if(void 0!==i&&(o=!0,m(i)||(r=!0),l&&(r?(e.call(t,i),e=null):(l=e,e=function(t,e,n){return l.call(b(t),n)})),e))for(;a<c;a++)e(t[a],n,r?i:i.call(t[a],a,e(t[a],n)));return o?t:l?e.call(t):c?e(t[0],n):s},j=/^-ms-/,q=/-([a-z])/g;function U(t,e){return e.toUpperCase()}function V(t){return t.replace(j,\"ms-\").replace(q,U)}var G=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function X(){this.expando=b.expando+X.uid++}X.uid=1,X.prototype={cache:function(t){var e=t[this.expando];return e||(e={},G(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,o=this.cache(t);if(\"string\"==typeof e)o[V(e)]=n;else for(i in e)o[V(i)]=e[i];return o},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][V(e)]},access:function(t,e,n){return void 0===e||e&&\"string\"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){n=(e=Array.isArray(e)?e.map(V):(e=V(e))in i?[e]:e.match(F)||[]).length;for(;n--;)delete i[e[n]]}(void 0===e||b.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!b.isEmptyObject(e)}};var Y=new X,J=new X,Z=/^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,Q=/[A-Z]/g;function K(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i=\"data-\"+e.replace(Q,\"-$&\").toLowerCase(),\"string\"==typeof(n=t.getAttribute(i))){try{n=function(t){return\"true\"===t||\"false\"!==t&&(\"null\"===t?null:t===+t+\"\"?+t:Z.test(t)?JSON.parse(t):t)}(n)}catch(t){}J.set(t,e,n)}else n=void 0;return n}b.extend({hasData:function(t){return J.hasData(t)||Y.hasData(t)},data:function(t,e,n){return J.access(t,e,n)},removeData:function(t,e){J.remove(t,e)},_data:function(t,e,n){return Y.access(t,e,n)},_removeData:function(t,e){Y.remove(t,e)}}),b.fn.extend({data:function(t,e){var n,i,o,s=this[0],r=s&&s.attributes;if(void 0===t){if(this.length&&(o=J.get(s),1===s.nodeType&&!Y.get(s,\"hasDataAttrs\"))){for(n=r.length;n--;)r[n]&&0===(i=r[n].name).indexOf(\"data-\")&&(i=V(i.slice(5)),K(s,i,o[i]));Y.set(s,\"hasDataAttrs\",!0)}return o}return\"object\"==typeof t?this.each((function(){J.set(this,t)})):H(this,(function(e){var n;if(s&&void 0===e)return void 0!==(n=J.get(s,t))||void 0!==(n=K(s,t))?n:void 0;this.each((function(){J.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){J.remove(this,t)}))}}),b.extend({queue:function(t,e,n){var i;if(t)return e=(e||\"fx\")+\"queue\",i=Y.get(t,e),n&&(!i||Array.isArray(n)?i=Y.access(t,e,b.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||\"fx\";var n=b.queue(t,e),i=n.length,o=n.shift(),s=b._queueHooks(t,e);\"inprogress\"===o&&(o=n.shift(),i--),o&&(\"fx\"===e&&n.unshift(\"inprogress\"),delete s.stop,o.call(t,(function(){b.dequeue(t,e)}),s)),!i&&s&&s.empty.fire()},_queueHooks:function(t,e){var n=e+\"queueHooks\";return Y.get(t,n)||Y.access(t,n,{empty:b.Callbacks(\"once memory\").add((function(){Y.remove(t,[e+\"queue\",n])}))})}}),b.fn.extend({queue:function(t,e){var n=2;return\"string\"!=typeof t&&(e=t,t=\"fx\",n--),arguments.length<n?b.queue(this[0],t):void 0===e?this:this.each((function(){var n=b.queue(this,t,e);b._queueHooks(this,t),\"fx\"===t&&\"inprogress\"!==n[0]&&b.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){b.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||\"fx\",[])},promise:function(t,e){var n,i=1,o=b.Deferred(),s=this,r=this.length,a=function(){--i||o.resolveWith(s,[s])};for(\"string\"!=typeof t&&(e=t,t=void 0),t=t||\"fx\";r--;)(n=Y.get(s[r],t+\"queueHooks\"))&&n.empty&&(i++,n.empty.add(a));return a(),o.promise(e)}});var tt=/[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/.source,et=new RegExp(\"^(?:([+-])=|)(\"+tt+\")([a-z%]*)$\",\"i\"),nt=[\"Top\",\"Right\",\"Bottom\",\"Left\"],it=g.documentElement,ot=function(t){return b.contains(t.ownerDocument,t)},st={composed:!0};it.getRootNode&&(ot=function(t){return b.contains(t.ownerDocument,t)||t.getRootNode(st)===t.ownerDocument});var rt=function(t,e){return\"none\"===(t=e||t).style.display||\"\"===t.style.display&&ot(t)&&\"none\"===b.css(t,\"display\")};function at(t,e,n,i){var o,s,r=20,a=i?function(){return i.cur()}:function(){return b.css(t,e,\"\")},c=a(),l=n&&n[3]||(b.cssNumber[e]?\"\":\"px\"),d=t.nodeType&&(b.cssNumber[e]||\"px\"!==l&&+c)&&et.exec(b.css(t,e));if(d&&d[3]!==l){for(c/=2,l=l||d[3],d=+c||1;r--;)b.style(t,e,d+l),(1-s)*(1-(s=a()/c||.5))<=0&&(r=0),d/=s;d*=2,b.style(t,e,d+l),n=n||[]}return n&&(d=+d||+c||0,o=n[1]?d+(n[1]+1)*n[2]:+n[2],i&&(i.unit=l,i.start=d,i.end=o)),o}var ct={};function lt(t){var e,n=t.ownerDocument,i=t.nodeName,o=ct[i];return o||(e=n.body.appendChild(n.createElement(i)),o=b.css(e,\"display\"),e.parentNode.removeChild(e),\"none\"===o&&(o=\"block\"),ct[i]=o,o)}function dt(t,e){for(var n,i,o=[],s=0,r=t.length;s<r;s++)(i=t[s]).style&&(n=i.style.display,e?(\"none\"===n&&(o[s]=Y.get(i,\"display\")||null,o[s]||(i.style.display=\"\")),\"\"===i.style.display&&rt(i)&&(o[s]=lt(i))):\"none\"!==n&&(o[s]=\"none\",Y.set(i,\"display\",n)));for(s=0;s<r;s++)null!=o[s]&&(t[s].style.display=o[s]);return t}b.fn.extend({show:function(){return dt(this,!0)},hide:function(){return dt(this)},toggle:function(t){return\"boolean\"==typeof t?t?this.show():this.hide():this.each((function(){rt(this)?b(this).show():b(this).hide()}))}});var ht,ut,pt=/^(?:checkbox|radio)$/i,mt=/<([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]*)/i,ft=/^$|^module$|\\/(?:java|ecma)script/i;ht=g.createDocumentFragment().appendChild(g.createElement(\"div\")),(ut=g.createElement(\"input\")).setAttribute(\"type\",\"radio\"),ut.setAttribute(\"checked\",\"checked\"),ut.setAttribute(\"name\",\"t\"),ht.appendChild(ut),p.checkClone=ht.cloneNode(!0).cloneNode(!0).lastChild.checked,ht.innerHTML=\"<textarea>x</textarea>\",p.noCloneChecked=!!ht.cloneNode(!0).lastChild.defaultValue,ht.innerHTML=\"<option></option>\",p.option=!!ht.lastChild;var gt={thead:[1,\"<table>\",\"</table>\"],col:[2,\"<table><colgroup>\",\"</colgroup></table>\"],tr:[2,\"<table><tbody>\",\"</tbody></table>\"],td:[3,\"<table><tbody><tr>\",\"</tr></tbody></table>\"],_default:[0,\"\",\"\"]};function yt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||\"*\"):void 0!==t.querySelectorAll?t.querySelectorAll(e||\"*\"):[],void 0===e||e&&S(t,e)?b.merge([t],n):n}function vt(t,e){for(var n=0,i=t.length;n<i;n++)Y.set(t[n],\"globalEval\",!e||Y.get(e[n],\"globalEval\"))}gt.tbody=gt.tfoot=gt.colgroup=gt.caption=gt.thead,gt.th=gt.td,p.option||(gt.optgroup=gt.option=[1,\"<select multiple='multiple'>\",\"</select>\"]);var wt=/<|&#?\\w+;/;function _t(t,e,n,i,o){for(var s,r,a,c,l,d,h=e.createDocumentFragment(),u=[],p=0,m=t.length;p<m;p++)if((s=t[p])||0===s)if(\"object\"===w(s))b.merge(u,s.nodeType?[s]:s);else if(wt.test(s)){for(r=r||h.appendChild(e.createElement(\"div\")),a=(mt.exec(s)||[\"\",\"\"])[1].toLowerCase(),c=gt[a]||gt._default,r.innerHTML=c[1]+b.htmlPrefilter(s)+c[2],d=c[0];d--;)r=r.lastChild;b.merge(u,r.childNodes),(r=h.firstChild).textContent=\"\"}else u.push(e.createTextNode(s));for(h.textContent=\"\",p=0;s=u[p++];)if(i&&b.inArray(s,i)>-1)o&&o.push(s);else if(l=ot(s),r=yt(h.appendChild(s),\"script\"),l&&vt(r),n)for(d=0;s=r[d++];)ft.test(s.type||\"\")&&n.push(s);return h}var bt=/^key/,Ct=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,It=/^([^.]*)(?:\\.(.+)|)/;function xt(){return!0}function kt(){return!1}function Et(t,e){return t===function(){try{return g.activeElement}catch(t){}}()==(\"focus\"===e)}function St(t,e,n,i,o,s){var r,a;if(\"object\"==typeof e){for(a in\"string\"!=typeof n&&(i=i||n,n=void 0),e)St(t,a,n,i,e[a],s);return t}if(null==i&&null==o?(o=n,i=n=void 0):null==o&&(\"string\"==typeof n?(o=i,i=void 0):(o=i,i=n,n=void 0)),!1===o)o=kt;else if(!o)return t;return 1===s&&(r=o,(o=function(t){return b().off(t),r.apply(this,arguments)}).guid=r.guid||(r.guid=b.guid++)),t.each((function(){b.event.add(this,e,o,i,n)}))}function Tt(t,e,n){n?(Y.set(t,e,!1),b.event.add(t,e,{namespace:!1,handler:function(t){var i,s,r=Y.get(this,e);if(1&t.isTrigger&&this[e]){if(r.length)(b.event.special[e]||{}).delegateType&&t.stopPropagation();else if(r=o.call(arguments),Y.set(this,e,r),i=n(this,e),this[e](),r!==(s=Y.get(this,e))||i?Y.set(this,e,!1):s={},r!==s)return t.stopImmediatePropagation(),t.preventDefault(),s.value}else r.length&&(Y.set(this,e,{value:b.event.trigger(b.extend(r[0],b.Event.prototype),r.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===Y.get(t,e)&&b.event.add(t,e,xt)}b.event={global:{},add:function(t,e,n,i,o){var s,r,a,c,l,d,h,u,p,m,f,g=Y.get(t);if(G(t))for(n.handler&&(n=(s=n).handler,o=s.selector),o&&b.find.matchesSelector(it,o),n.guid||(n.guid=b.guid++),(c=g.events)||(c=g.events=Object.create(null)),(r=g.handle)||(r=g.handle=function(e){return void 0!==b&&b.event.triggered!==e.type?b.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||\"\").match(F)||[\"\"]).length;l--;)p=f=(a=It.exec(e[l])||[])[1],m=(a[2]||\"\").split(\".\").sort(),p&&(h=b.event.special[p]||{},p=(o?h.delegateType:h.bindType)||p,h=b.event.special[p]||{},d=b.extend({type:p,origType:f,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&b.expr.match.needsContext.test(o),namespace:m.join(\".\")},s),(u=c[p])||((u=c[p]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,i,m,r)||t.addEventListener&&t.addEventListener(p,r)),h.add&&(h.add.call(t,d),d.handler.guid||(d.handler.guid=n.guid)),o?u.splice(u.delegateCount++,0,d):u.push(d),b.event.global[p]=!0)},remove:function(t,e,n,i,o){var s,r,a,c,l,d,h,u,p,m,f,g=Y.hasData(t)&&Y.get(t);if(g&&(c=g.events)){for(l=(e=(e||\"\").match(F)||[\"\"]).length;l--;)if(p=f=(a=It.exec(e[l])||[])[1],m=(a[2]||\"\").split(\".\").sort(),p){for(h=b.event.special[p]||{},u=c[p=(i?h.delegateType:h.bindType)||p]||[],a=a[2]&&new RegExp(\"(^|\\\\.)\"+m.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"),r=s=u.length;s--;)d=u[s],!o&&f!==d.origType||n&&n.guid!==d.guid||a&&!a.test(d.namespace)||i&&i!==d.selector&&(\"**\"!==i||!d.selector)||(u.splice(s,1),d.selector&&u.delegateCount--,h.remove&&h.remove.call(t,d));r&&!u.length&&(h.teardown&&!1!==h.teardown.call(t,m,g.handle)||b.removeEvent(t,p,g.handle),delete c[p])}else for(p in c)b.event.remove(t,p+e[l],n,i,!0);b.isEmptyObject(c)&&Y.remove(t,\"handle events\")}},dispatch:function(t){var e,n,i,o,s,r,a=new Array(arguments.length),c=b.event.fix(t),l=(Y.get(this,\"events\")||Object.create(null))[c.type]||[],d=b.event.special[c.type]||{};for(a[0]=c,e=1;e<arguments.length;e++)a[e]=arguments[e];if(c.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,c)){for(r=b.event.handlers.call(this,c,l),e=0;(o=r[e++])&&!c.isPropagationStopped();)for(c.currentTarget=o.elem,n=0;(s=o.handlers[n++])&&!c.isImmediatePropagationStopped();)c.rnamespace&&!1!==s.namespace&&!c.rnamespace.test(s.namespace)||(c.handleObj=s,c.data=s.data,void 0!==(i=((b.event.special[s.origType]||{}).handle||s.handler).apply(o.elem,a))&&!1===(c.result=i)&&(c.preventDefault(),c.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,c),c.result}},handlers:function(t,e){var n,i,o,s,r,a=[],c=e.delegateCount,l=t.target;if(c&&l.nodeType&&!(\"click\"===t.type&&t.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(\"click\"!==t.type||!0!==l.disabled)){for(s=[],r={},n=0;n<c;n++)void 0===r[o=(i=e[n]).selector+\" \"]&&(r[o]=i.needsContext?b(o,this).index(l)>-1:b.find(o,this,null,[l]).length),r[o]&&s.push(i);s.length&&a.push({elem:l,handlers:s})}return l=this,c<e.length&&a.push({elem:l,handlers:e.slice(c)}),a},addProp:function(t,e){Object.defineProperty(b.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[b.expando]?t:new b.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return pt.test(e.type)&&e.click&&S(e,\"input\")&&Tt(e,\"click\",xt),!1},trigger:function(t){var e=this||t;return pt.test(e.type)&&e.click&&S(e,\"input\")&&Tt(e,\"click\"),!0},_default:function(t){var e=t.target;return pt.test(e.type)&&e.click&&S(e,\"input\")&&Y.get(e,\"click\")||S(e,\"a\")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},b.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},b.Event=function(t,e){if(!(this instanceof b.Event))return new b.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?xt:kt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&b.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[b.expando]=!0},b.Event.prototype={constructor:b.Event,isDefaultPrevented:kt,isPropagationStopped:kt,isImmediatePropagationStopped:kt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=xt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=xt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=xt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},b.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&bt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Ct.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},b.event.addProp),b.each({focus:\"focusin\",blur:\"focusout\"},(function(t,e){b.event.special[t]={setup:function(){return Tt(this,t,Et),!1},trigger:function(){return Tt(this,t),!0},delegateType:e}})),b.each({mouseenter:\"mouseover\",mouseleave:\"mouseout\",pointerenter:\"pointerover\",pointerleave:\"pointerout\"},(function(t,e){b.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,o=t.relatedTarget,s=t.handleObj;return o&&(o===i||b.contains(i,o))||(t.type=s.origType,n=s.handler.apply(this,arguments),t.type=e),n}}})),b.fn.extend({on:function(t,e,n,i){return St(this,t,e,n,i)},one:function(t,e,n,i){return St(this,t,e,n,i,1)},off:function(t,e,n){var i,o;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,b(t.delegateTarget).off(i.namespace?i.origType+\".\"+i.namespace:i.origType,i.selector,i.handler),this;if(\"object\"==typeof t){for(o in t)this.off(o,e,t[o]);return this}return!1!==e&&\"function\"!=typeof e||(n=e,e=void 0),!1===n&&(n=kt),this.each((function(){b.event.remove(this,t,n,e)}))}});var Wt=/<script|<style|<link/i,At=/checked\\s*(?:[^=]|=\\s*.checked.)/i,Dt=/^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g;function Pt(t,e){return S(t,\"table\")&&S(11!==e.nodeType?e:e.firstChild,\"tr\")&&b(t).children(\"tbody\")[0]||t}function Lt(t){return t.type=(null!==t.getAttribute(\"type\"))+\"/\"+t.type,t}function Mt(t){return\"true/\"===(t.type||\"\").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute(\"type\"),t}function Ft(t,e){var n,i,o,s,r,a;if(1===e.nodeType){if(Y.hasData(t)&&(a=Y.get(t).events))for(o in Y.remove(e,\"handle events\"),a)for(n=0,i=a[o].length;n<i;n++)b.event.add(e,o,a[o][n]);J.hasData(t)&&(s=J.access(t),r=b.extend({},s),J.set(e,r))}}function zt(t,e){var n=e.nodeName.toLowerCase();\"input\"===n&&pt.test(t.type)?e.checked=t.checked:\"input\"!==n&&\"textarea\"!==n||(e.defaultValue=t.defaultValue)}function Bt(t,e,n,i){e=s(e);var o,r,a,c,l,d,h=0,u=t.length,f=u-1,g=e[0],y=m(g);if(y||u>1&&\"string\"==typeof g&&!p.checkClone&&At.test(g))return t.each((function(o){var s=t.eq(o);y&&(e[0]=g.call(this,o,s.html())),Bt(s,e,n,i)}));if(u&&(r=(o=_t(e,t[0].ownerDocument,!1,t,i)).firstChild,1===o.childNodes.length&&(o=r),r||i)){for(c=(a=b.map(yt(o,\"script\"),Lt)).length;h<u;h++)l=o,h!==f&&(l=b.clone(l,!0,!0),c&&b.merge(a,yt(l,\"script\"))),n.call(t[h],l,h);if(c)for(d=a[a.length-1].ownerDocument,b.map(a,Mt),h=0;h<c;h++)l=a[h],ft.test(l.type||\"\")&&!Y.access(l,\"globalEval\")&&b.contains(d,l)&&(l.src&&\"module\"!==(l.type||\"\").toLowerCase()?b._evalUrl&&!l.noModule&&b._evalUrl(l.src,{nonce:l.nonce||l.getAttribute(\"nonce\")},d):v(l.textContent.replace(Dt,\"\"),l,d))}return t}function Nt(t,e,n){for(var i,o=e?b.filter(e,t):t,s=0;null!=(i=o[s]);s++)n||1!==i.nodeType||b.cleanData(yt(i)),i.parentNode&&(n&&ot(i)&&vt(yt(i,\"script\")),i.parentNode.removeChild(i));return t}b.extend({htmlPrefilter:function(t){return t},clone:function(t,e,n){var i,o,s,r,a=t.cloneNode(!0),c=ot(t);if(!(p.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||b.isXMLDoc(t)))for(r=yt(a),i=0,o=(s=yt(t)).length;i<o;i++)zt(s[i],r[i]);if(e)if(n)for(s=s||yt(t),r=r||yt(a),i=0,o=s.length;i<o;i++)Ft(s[i],r[i]);else Ft(t,a);return(r=yt(a,\"script\")).length>0&&vt(r,!c&&yt(t,\"script\")),a},cleanData:function(t){for(var e,n,i,o=b.event.special,s=0;void 0!==(n=t[s]);s++)if(G(n)){if(e=n[Y.expando]){if(e.events)for(i in e.events)o[i]?b.event.remove(n,i):b.removeEvent(n,i,e.handle);n[Y.expando]=void 0}n[J.expando]&&(n[J.expando]=void 0)}}}),b.fn.extend({detach:function(t){return Nt(this,t,!0)},remove:function(t){return Nt(this,t)},text:function(t){return H(this,(function(t){return void 0===t?b.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return Bt(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Pt(this,t).appendChild(t)}))},prepend:function(){return Bt(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Pt(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return Bt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return Bt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(b.cleanData(yt(t,!1)),t.textContent=\"\");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return b.clone(this,t,e)}))},html:function(t){return H(this,(function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if(\"string\"==typeof t&&!Wt.test(t)&&!gt[(mt.exec(t)||[\"\",\"\"])[1].toLowerCase()]){t=b.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(b.cleanData(yt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return Bt(this,arguments,(function(e){var n=this.parentNode;b.inArray(this,t)<0&&(b.cleanData(yt(this)),n&&n.replaceChild(e,this))}),t)}}),b.each({appendTo:\"append\",prependTo:\"prepend\",insertBefore:\"before\",insertAfter:\"after\",replaceAll:\"replaceWith\"},(function(t,e){b.fn[t]=function(t){for(var n,i=[],o=b(t),s=o.length-1,a=0;a<=s;a++)n=a===s?this:this.clone(!0),b(o[a])[e](n),r.apply(i,n.get());return this.pushStack(i)}}));var Ot=new RegExp(\"^(\"+tt+\")(?!px)[a-z%]+$\",\"i\"),$t=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)},Rt=function(t,e,n){var i,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];for(o in i=n.call(t),e)t.style[o]=s[o];return i},Ht=new RegExp(nt.join(\"|\"),\"i\");function jt(t,e,n){var i,o,s,r,a=t.style;return(n=n||$t(t))&&(\"\"!==(r=n.getPropertyValue(e)||n[e])||ot(t)||(r=b.style(t,e)),!p.pixelBoxStyles()&&Ot.test(r)&&Ht.test(e)&&(i=a.width,o=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=r,r=n.width,a.width=i,a.minWidth=o,a.maxWidth=s)),void 0!==r?r+\"\":r}function qt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function e(){if(d){l.style.cssText=\"position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0\",d.style.cssText=\"position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%\",it.appendChild(l).appendChild(d);var e=t.getComputedStyle(d);i=\"1%\"!==e.top,c=12===n(e.marginLeft),d.style.right=\"60%\",r=36===n(e.right),o=36===n(e.width),d.style.position=\"absolute\",s=12===n(d.offsetWidth/3),it.removeChild(l),d=null}}function n(t){return Math.round(parseFloat(t))}var i,o,s,r,a,c,l=g.createElement(\"div\"),d=g.createElement(\"div\");d.style&&(d.style.backgroundClip=\"content-box\",d.cloneNode(!0).style.backgroundClip=\"\",p.clearCloneStyle=\"content-box\"===d.style.backgroundClip,b.extend(p,{boxSizingReliable:function(){return e(),o},pixelBoxStyles:function(){return e(),r},pixelPosition:function(){return e(),i},reliableMarginLeft:function(){return e(),c},scrollboxSize:function(){return e(),s},reliableTrDimensions:function(){var e,n,i,o;return null==a&&(e=g.createElement(\"table\"),n=g.createElement(\"tr\"),i=g.createElement(\"div\"),e.style.cssText=\"position:absolute;left:-11111px\",n.style.height=\"1px\",i.style.height=\"9px\",it.appendChild(e).appendChild(n).appendChild(i),o=t.getComputedStyle(n),a=parseInt(o.height)>3,it.removeChild(e)),a}}))}();var Ut=[\"Webkit\",\"Moz\",\"ms\"],Vt=g.createElement(\"div\").style,Gt={};function Xt(t){var e=b.cssProps[t]||Gt[t];return e||(t in Vt?t:Gt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),n=Ut.length;n--;)if((t=Ut[n]+e)in Vt)return t}(t)||t)}var Yt=/^(none|table(?!-c[ea]).+)/,Jt=/^--/,Zt={position:\"absolute\",visibility:\"hidden\",display:\"block\"},Qt={letterSpacing:\"0\",fontWeight:\"400\"};function Kt(t,e,n){var i=et.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||\"px\"):e}function te(t,e,n,i,o,s){var r=\"width\"===e?1:0,a=0,c=0;if(n===(i?\"border\":\"content\"))return 0;for(;r<4;r+=2)\"margin\"===n&&(c+=b.css(t,n+nt[r],!0,o)),i?(\"content\"===n&&(c-=b.css(t,\"padding\"+nt[r],!0,o)),\"margin\"!==n&&(c-=b.css(t,\"border\"+nt[r]+\"Width\",!0,o))):(c+=b.css(t,\"padding\"+nt[r],!0,o),\"padding\"!==n?c+=b.css(t,\"border\"+nt[r]+\"Width\",!0,o):a+=b.css(t,\"border\"+nt[r]+\"Width\",!0,o));return!i&&s>=0&&(c+=Math.max(0,Math.ceil(t[\"offset\"+e[0].toUpperCase()+e.slice(1)]-s-c-a-.5))||0),c}function ee(t,e,n){var i=$t(t),o=(!p.boxSizingReliable()||n)&&\"border-box\"===b.css(t,\"boxSizing\",!1,i),s=o,r=jt(t,e,i),a=\"offset\"+e[0].toUpperCase()+e.slice(1);if(Ot.test(r)){if(!n)return r;r=\"auto\"}return(!p.boxSizingReliable()&&o||!p.reliableTrDimensions()&&S(t,\"tr\")||\"auto\"===r||!parseFloat(r)&&\"inline\"===b.css(t,\"display\",!1,i))&&t.getClientRects().length&&(o=\"border-box\"===b.css(t,\"boxSizing\",!1,i),(s=a in t)&&(r=t[a])),(r=parseFloat(r)||0)+te(t,e,n||(o?\"border\":\"content\"),s,i,r)+\"px\"}function ne(t,e,n,i,o){return new ne.prototype.init(t,e,n,i,o)}b.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=jt(t,\"opacity\");return\"\"===n?\"1\":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,s,r,a=V(e),c=Jt.test(e),l=t.style;if(c||(e=Xt(a)),r=b.cssHooks[e]||b.cssHooks[a],void 0===n)return r&&\"get\"in r&&void 0!==(o=r.get(t,!1,i))?o:l[e];\"string\"===(s=typeof n)&&(o=et.exec(n))&&o[1]&&(n=at(t,e,o),s=\"number\"),null!=n&&n==n&&(\"number\"!==s||c||(n+=o&&o[3]||(b.cssNumber[a]?\"\":\"px\")),p.clearCloneStyle||\"\"!==n||0!==e.indexOf(\"background\")||(l[e]=\"inherit\"),r&&\"set\"in r&&void 0===(n=r.set(t,n,i))||(c?l.setProperty(e,n):l[e]=n))}},css:function(t,e,n,i){var o,s,r,a=V(e);return Jt.test(e)||(e=Xt(a)),(r=b.cssHooks[e]||b.cssHooks[a])&&\"get\"in r&&(o=r.get(t,!0,n)),void 0===o&&(o=jt(t,e,i)),\"normal\"===o&&e in Qt&&(o=Qt[e]),\"\"===n||n?(s=parseFloat(o),!0===n||isFinite(s)?s||0:o):o}}),b.each([\"height\",\"width\"],(function(t,e){b.cssHooks[e]={get:function(t,n,i){if(n)return!Yt.test(b.css(t,\"display\"))||t.getClientRects().length&&t.getBoundingClientRect().width?ee(t,e,i):Rt(t,Zt,(function(){return ee(t,e,i)}))},set:function(t,n,i){var o,s=$t(t),r=!p.scrollboxSize()&&\"absolute\"===s.position,a=(r||i)&&\"border-box\"===b.css(t,\"boxSizing\",!1,s),c=i?te(t,e,i,a,s):0;return a&&r&&(c-=Math.ceil(t[\"offset\"+e[0].toUpperCase()+e.slice(1)]-parseFloat(s[e])-te(t,e,\"border\",!1,s)-.5)),c&&(o=et.exec(n))&&\"px\"!==(o[3]||\"px\")&&(t.style[e]=n,n=b.css(t,e)),Kt(0,n,c)}}})),b.cssHooks.marginLeft=qt(p.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(jt(t,\"marginLeft\"))||t.getBoundingClientRect().left-Rt(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+\"px\"})),b.each({margin:\"\",padding:\"\",border:\"Width\"},(function(t,e){b.cssHooks[t+e]={expand:function(n){for(var i=0,o={},s=\"string\"==typeof n?n.split(\" \"):[n];i<4;i++)o[t+nt[i]+e]=s[i]||s[i-2]||s[0];return o}},\"margin\"!==t&&(b.cssHooks[t+e].set=Kt)})),b.fn.extend({css:function(t,e){return H(this,(function(t,e,n){var i,o,s={},r=0;if(Array.isArray(e)){for(i=$t(t),o=e.length;r<o;r++)s[e[r]]=b.css(t,e[r],!1,i);return s}return void 0!==n?b.style(t,e,n):b.css(t,e)}),t,e,arguments.length>1)}}),b.Tween=ne,ne.prototype={constructor:ne,init:function(t,e,n,i,o,s){this.elem=t,this.prop=n,this.easing=o||b.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=s||(b.cssNumber[n]?\"\":\"px\")},cur:function(){var t=ne.propHooks[this.prop];return t&&t.get?t.get(this):ne.propHooks._default.get(this)},run:function(t){var e,n=ne.propHooks[this.prop];return this.options.duration?this.pos=e=b.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ne.propHooks._default.set(this),this}},ne.prototype.init.prototype=ne.prototype,ne.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=b.css(t.elem,t.prop,\"\"))&&\"auto\"!==e?e:0},set:function(t){b.fx.step[t.prop]?b.fx.step[t.prop](t):1!==t.elem.nodeType||!b.cssHooks[t.prop]&&null==t.elem.style[Xt(t.prop)]?t.elem[t.prop]=t.now:b.style(t.elem,t.prop,t.now+t.unit)}}},ne.propHooks.scrollTop=ne.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},b.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:\"swing\"},b.fx=ne.prototype.init,b.fx.step={};var ie,oe,se=/^(?:toggle|show|hide)$/,re=/queueHooks$/;function ae(){oe&&(!1===g.hidden&&t.requestAnimationFrame?t.requestAnimationFrame(ae):t.setTimeout(ae,b.fx.interval),b.fx.tick())}function ce(){return t.setTimeout((function(){ie=void 0})),ie=Date.now()}function le(t,e){var n,i=0,o={height:t};for(e=e?1:0;i<4;i+=2-e)o[\"margin\"+(n=nt[i])]=o[\"padding\"+n]=t;return e&&(o.opacity=o.width=t),o}function de(t,e,n){for(var i,o=(he.tweeners[e]||[]).concat(he.tweeners[\"*\"]),s=0,r=o.length;s<r;s++)if(i=o[s].call(n,e,t))return i}function he(t,e,n){var i,o,s=0,r=he.prefilters.length,a=b.Deferred().always((function(){delete c.elem})),c=function(){if(o)return!1;for(var e=ie||ce(),n=Math.max(0,l.startTime+l.duration-e),i=1-(n/l.duration||0),s=0,r=l.tweens.length;s<r;s++)l.tweens[s].run(i);return a.notifyWith(t,[l,i,n]),i<1&&r?n:(r||a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l]),!1)},l=a.promise({elem:t,props:b.extend({},e),opts:b.extend(!0,{specialEasing:{},easing:b.easing._default},n),originalProperties:e,originalOptions:n,startTime:ie||ce(),duration:n.duration,tweens:[],createTween:function(e,n){var i=b.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(i),i},stop:function(e){var n=0,i=e?l.tweens.length:0;if(o)return this;for(o=!0;n<i;n++)l.tweens[n].run(1);return e?(a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l,e])):a.rejectWith(t,[l,e]),this}}),d=l.props;for(!function(t,e){var n,i,o,s,r;for(n in t)if(o=e[i=V(n)],s=t[n],Array.isArray(s)&&(o=s[1],s=t[n]=s[0]),n!==i&&(t[i]=s,delete t[n]),(r=b.cssHooks[i])&&\"expand\"in r)for(n in s=r.expand(s),delete t[i],s)n in t||(t[n]=s[n],e[n]=o);else e[i]=o}(d,l.opts.specialEasing);s<r;s++)if(i=he.prefilters[s].call(l,t,d,l.opts))return m(i.stop)&&(b._queueHooks(l.elem,l.opts.queue).stop=i.stop.bind(i)),i;return b.map(d,de,l),m(l.opts.start)&&l.opts.start.call(t,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),b.fx.timer(b.extend(c,{elem:t,anim:l,queue:l.opts.queue})),l}b.Animation=b.extend(he,{tweeners:{\"*\":[function(t,e){var n=this.createTween(t,e);return at(n.elem,t,et.exec(e),n),n}]},tweener:function(t,e){m(t)?(e=t,t=[\"*\"]):t=t.match(F);for(var n,i=0,o=t.length;i<o;i++)n=t[i],he.tweeners[n]=he.tweeners[n]||[],he.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var i,o,s,r,a,c,l,d,h=\"width\"in e||\"height\"in e,u=this,p={},m=t.style,f=t.nodeType&&rt(t),g=Y.get(t,\"fxshow\");for(i in n.queue||(null==(r=b._queueHooks(t,\"fx\")).unqueued&&(r.unqueued=0,a=r.empty.fire,r.empty.fire=function(){r.unqueued||a()}),r.unqueued++,u.always((function(){u.always((function(){r.unqueued--,b.queue(t,\"fx\").length||r.empty.fire()}))}))),e)if(o=e[i],se.test(o)){if(delete e[i],s=s||\"toggle\"===o,o===(f?\"hide\":\"show\")){if(\"show\"!==o||!g||void 0===g[i])continue;f=!0}p[i]=g&&g[i]||b.style(t,i)}if((c=!b.isEmptyObject(e))||!b.isEmptyObject(p))for(i in h&&1===t.nodeType&&(n.overflow=[m.overflow,m.overflowX,m.overflowY],null==(l=g&&g.display)&&(l=Y.get(t,\"display\")),\"none\"===(d=b.css(t,\"display\"))&&(l?d=l:(dt([t],!0),l=t.style.display||l,d=b.css(t,\"display\"),dt([t]))),(\"inline\"===d||\"inline-block\"===d&&null!=l)&&\"none\"===b.css(t,\"float\")&&(c||(u.done((function(){m.display=l})),null==l&&(d=m.display,l=\"none\"===d?\"\":d)),m.display=\"inline-block\")),n.overflow&&(m.overflow=\"hidden\",u.always((function(){m.overflow=n.overflow[0],m.overflowX=n.overflow[1],m.overflowY=n.overflow[2]}))),c=!1,p)c||(g?\"hidden\"in g&&(f=g.hidden):g=Y.access(t,\"fxshow\",{display:l}),s&&(g.hidden=!f),f&&dt([t],!0),u.done((function(){for(i in f||dt([t]),Y.remove(t,\"fxshow\"),p)b.style(t,i,p[i])}))),c=de(f?g[i]:0,i,u),i in g||(g[i]=c.start,f&&(c.end=c.start,c.start=0))}],prefilter:function(t,e){e?he.prefilters.unshift(t):he.prefilters.push(t)}}),b.speed=function(t,e,n){var i=t&&\"object\"==typeof t?b.extend({},t):{complete:n||!n&&e||m(t)&&t,duration:t,easing:n&&e||e&&!m(e)&&e};return b.fx.off?i.duration=0:\"number\"!=typeof i.duration&&(i.duration in b.fx.speeds?i.duration=b.fx.speeds[i.duration]:i.duration=b.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue=\"fx\"),i.old=i.complete,i.complete=function(){m(i.old)&&i.old.call(this),i.queue&&b.dequeue(this,i.queue)},i},b.fn.extend({fadeTo:function(t,e,n,i){return this.filter(rt).css(\"opacity\",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var o=b.isEmptyObject(t),s=b.speed(e,n,i),r=function(){var e=he(this,b.extend({},t),s);(o||Y.get(this,\"finish\"))&&e.stop(!0)};return r.finish=r,o||!1===s.queue?this.each(r):this.queue(s.queue,r)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return\"string\"!=typeof t&&(n=e,e=t,t=void 0),e&&this.queue(t||\"fx\",[]),this.each((function(){var e=!0,o=null!=t&&t+\"queueHooks\",s=b.timers,r=Y.get(this);if(o)r[o]&&r[o].stop&&i(r[o]);else for(o in r)r[o]&&r[o].stop&&re.test(o)&&i(r[o]);for(o=s.length;o--;)s[o].elem!==this||null!=t&&s[o].queue!==t||(s[o].anim.stop(n),e=!1,s.splice(o,1));!e&&n||b.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||\"fx\"),this.each((function(){var e,n=Y.get(this),i=n[t+\"queue\"],o=n[t+\"queueHooks\"],s=b.timers,r=i?i.length:0;for(n.finish=!0,b.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=s.length;e--;)s[e].elem===this&&s[e].queue===t&&(s[e].anim.stop(!0),s.splice(e,1));for(e=0;e<r;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish}))}}),b.each([\"toggle\",\"show\",\"hide\"],(function(t,e){var n=b.fn[e];b.fn[e]=function(t,i,o){return null==t||\"boolean\"==typeof t?n.apply(this,arguments):this.animate(le(e,!0),t,i,o)}})),b.each({slideDown:le(\"show\"),slideUp:le(\"hide\"),slideToggle:le(\"toggle\"),fadeIn:{opacity:\"show\"},fadeOut:{opacity:\"hide\"},fadeToggle:{opacity:\"toggle\"}},(function(t,e){b.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}})),b.timers=[],b.fx.tick=function(){var t,e=0,n=b.timers;for(ie=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||b.fx.stop(),ie=void 0},b.fx.timer=function(t){b.timers.push(t),b.fx.start()},b.fx.interval=13,b.fx.start=function(){oe||(oe=!0,ae())},b.fx.stop=function(){oe=null},b.fx.speeds={slow:600,fast:200,_default:400},b.fn.delay=function(e,n){return e=b.fx&&b.fx.speeds[e]||e,n=n||\"fx\",this.queue(n,(function(n,i){var o=t.setTimeout(n,e);i.stop=function(){t.clearTimeout(o)}}))},function(){var t=g.createElement(\"input\"),e=g.createElement(\"select\").appendChild(g.createElement(\"option\"));t.type=\"checkbox\",p.checkOn=\"\"!==t.value,p.optSelected=e.selected,(t=g.createElement(\"input\")).value=\"t\",t.type=\"radio\",p.radioValue=\"t\"===t.value}();var ue,pe=b.expr.attrHandle;b.fn.extend({attr:function(t,e){return H(this,b.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){b.removeAttr(this,t)}))}}),b.extend({attr:function(t,e,n){var i,o,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===t.getAttribute?b.prop(t,e,n):(1===s&&b.isXMLDoc(t)||(o=b.attrHooks[e.toLowerCase()]||(b.expr.match.bool.test(e)?ue:void 0)),void 0!==n?null===n?void b.removeAttr(t,e):o&&\"set\"in o&&void 0!==(i=o.set(t,n,e))?i:(t.setAttribute(e,n+\"\"),n):o&&\"get\"in o&&null!==(i=o.get(t,e))?i:null==(i=b.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!p.radioValue&&\"radio\"===e&&S(t,\"input\")){var n=t.value;return t.setAttribute(\"type\",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,o=e&&e.match(F);if(o&&1===t.nodeType)for(;n=o[i++];)t.removeAttribute(n)}}),ue={set:function(t,e,n){return!1===e?b.removeAttr(t,n):t.setAttribute(n,n),n}},b.each(b.expr.match.bool.source.match(/\\w+/g),(function(t,e){var n=pe[e]||b.find.attr;pe[e]=function(t,e,i){var o,s,r=e.toLowerCase();return i||(s=pe[r],pe[r]=o,o=null!=n(t,e,i)?r:null,pe[r]=s),o}}));var me=/^(?:input|select|textarea|button)$/i,fe=/^(?:a|area)$/i;function ge(t){return(t.match(F)||[]).join(\" \")}function ye(t){return t.getAttribute&&t.getAttribute(\"class\")||\"\"}function ve(t){return Array.isArray(t)?t:\"string\"==typeof t&&t.match(F)||[]}b.fn.extend({prop:function(t,e){return H(this,b.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[b.propFix[t]||t]}))}}),b.extend({prop:function(t,e,n){var i,o,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&b.isXMLDoc(t)||(e=b.propFix[e]||e,o=b.propHooks[e]),void 0!==n?o&&\"set\"in o&&void 0!==(i=o.set(t,n,e))?i:t[e]=n:o&&\"get\"in o&&null!==(i=o.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=b.find.attr(t,\"tabindex\");return e?parseInt(e,10):me.test(t.nodeName)||fe.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:\"htmlFor\",class:\"className\"}}),p.optSelected||(b.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),b.each([\"tabIndex\",\"readOnly\",\"maxLength\",\"cellSpacing\",\"cellPadding\",\"rowSpan\",\"colSpan\",\"useMap\",\"frameBorder\",\"contentEditable\"],(function(){b.propFix[this.toLowerCase()]=this})),b.fn.extend({addClass:function(t){var e,n,i,o,s,r,a,c=0;if(m(t))return this.each((function(e){b(this).addClass(t.call(this,e,ye(this)))}));if((e=ve(t)).length)for(;n=this[c++];)if(o=ye(n),i=1===n.nodeType&&\" \"+ge(o)+\" \"){for(r=0;s=e[r++];)i.indexOf(\" \"+s+\" \")<0&&(i+=s+\" \");o!==(a=ge(i))&&n.setAttribute(\"class\",a)}return this},removeClass:function(t){var e,n,i,o,s,r,a,c=0;if(m(t))return this.each((function(e){b(this).removeClass(t.call(this,e,ye(this)))}));if(!arguments.length)return this.attr(\"class\",\"\");if((e=ve(t)).length)for(;n=this[c++];)if(o=ye(n),i=1===n.nodeType&&\" \"+ge(o)+\" \"){for(r=0;s=e[r++];)for(;i.indexOf(\" \"+s+\" \")>-1;)i=i.replace(\" \"+s+\" \",\" \");o!==(a=ge(i))&&n.setAttribute(\"class\",a)}return this},toggleClass:function(t,e){var n=typeof t,i=\"string\"===n||Array.isArray(t);return\"boolean\"==typeof e&&i?e?this.addClass(t):this.removeClass(t):m(t)?this.each((function(n){b(this).toggleClass(t.call(this,n,ye(this),e),e)})):this.each((function(){var e,o,s,r;if(i)for(o=0,s=b(this),r=ve(t);e=r[o++];)s.hasClass(e)?s.removeClass(e):s.addClass(e);else void 0!==t&&\"boolean\"!==n||((e=ye(this))&&Y.set(this,\"__className__\",e),this.setAttribute&&this.setAttribute(\"class\",e||!1===t?\"\":Y.get(this,\"__className__\")||\"\"))}))},hasClass:function(t){var e,n,i=0;for(e=\" \"+t+\" \";n=this[i++];)if(1===n.nodeType&&(\" \"+ge(ye(n))+\" \").indexOf(e)>-1)return!0;return!1}});var we=/\\r/g;b.fn.extend({val:function(t){var e,n,i,o=this[0];return arguments.length?(i=m(t),this.each((function(n){var o;1===this.nodeType&&(null==(o=i?t.call(this,n,b(this).val()):t)?o=\"\":\"number\"==typeof o?o+=\"\":Array.isArray(o)&&(o=b.map(o,(function(t){return null==t?\"\":t+\"\"}))),(e=b.valHooks[this.type]||b.valHooks[this.nodeName.toLowerCase()])&&\"set\"in e&&void 0!==e.set(this,o,\"value\")||(this.value=o))}))):o?(e=b.valHooks[o.type]||b.valHooks[o.nodeName.toLowerCase()])&&\"get\"in e&&void 0!==(n=e.get(o,\"value\"))?n:\"string\"==typeof(n=o.value)?n.replace(we,\"\"):null==n?\"\":n:void 0}}),b.extend({valHooks:{option:{get:function(t){var e=b.find.attr(t,\"value\");return null!=e?e:ge(b.text(t))}},select:{get:function(t){var e,n,i,o=t.options,s=t.selectedIndex,r=\"select-one\"===t.type,a=r?null:[],c=r?s+1:o.length;for(i=s<0?c:r?s:0;i<c;i++)if(((n=o[i]).selected||i===s)&&!n.disabled&&(!n.parentNode.disabled||!S(n.parentNode,\"optgroup\"))){if(e=b(n).val(),r)return e;a.push(e)}return a},set:function(t,e){for(var n,i,o=t.options,s=b.makeArray(e),r=o.length;r--;)((i=o[r]).selected=b.inArray(b.valHooks.option.get(i),s)>-1)&&(n=!0);return n||(t.selectedIndex=-1),s}}}}),b.each([\"radio\",\"checkbox\"],(function(){b.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=b.inArray(b(t).val(),e)>-1}},p.checkOn||(b.valHooks[this].get=function(t){return null===t.getAttribute(\"value\")?\"on\":t.value})})),p.focusin=\"onfocusin\"in t;var _e=/^(?:focusinfocus|focusoutblur)$/,be=function(t){t.stopPropagation()};b.extend(b.event,{trigger:function(e,n,i,o){var s,r,a,c,l,h,u,p,y=[i||g],v=d.call(e,\"type\")?e.type:e,w=d.call(e,\"namespace\")?e.namespace.split(\".\"):[];if(r=p=a=i=i||g,3!==i.nodeType&&8!==i.nodeType&&!_e.test(v+b.event.triggered)&&(v.indexOf(\".\")>-1&&(w=v.split(\".\"),v=w.shift(),w.sort()),l=v.indexOf(\":\")<0&&\"on\"+v,(e=e[b.expando]?e:new b.Event(v,\"object\"==typeof e&&e)).isTrigger=o?2:3,e.namespace=w.join(\".\"),e.rnamespace=e.namespace?new RegExp(\"(^|\\\\.)\"+w.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:b.makeArray(n,[e]),u=b.event.special[v]||{},o||!u.trigger||!1!==u.trigger.apply(i,n))){if(!o&&!u.noBubble&&!f(i)){for(c=u.delegateType||v,_e.test(c+v)||(r=r.parentNode);r;r=r.parentNode)y.push(r),a=r;a===(i.ownerDocument||g)&&y.push(a.defaultView||a.parentWindow||t)}for(s=0;(r=y[s++])&&!e.isPropagationStopped();)p=r,e.type=s>1?c:u.bindType||v,(h=(Y.get(r,\"events\")||Object.create(null))[e.type]&&Y.get(r,\"handle\"))&&h.apply(r,n),(h=l&&r[l])&&h.apply&&G(r)&&(e.result=h.apply(r,n),!1===e.result&&e.preventDefault());return e.type=v,o||e.isDefaultPrevented()||u._default&&!1!==u._default.apply(y.pop(),n)||!G(i)||l&&m(i[v])&&!f(i)&&((a=i[l])&&(i[l]=null),b.event.triggered=v,e.isPropagationStopped()&&p.addEventListener(v,be),i[v](),e.isPropagationStopped()&&p.removeEventListener(v,be),b.event.triggered=void 0,a&&(i[l]=a)),e.result}},simulate:function(t,e,n){var i=b.extend(new b.Event,n,{type:t,isSimulated:!0});b.event.trigger(i,null,e)}}),b.fn.extend({trigger:function(t,e){return this.each((function(){b.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var n=this[0];if(n)return b.event.trigger(t,e,n,!0)}}),p.focusin||b.each({focus:\"focusin\",blur:\"focusout\"},(function(t,e){var n=function(t){b.event.simulate(e,t.target,b.event.fix(t))};b.event.special[e]={setup:function(){var i=this.ownerDocument||this.document||this,o=Y.access(i,e);o||i.addEventListener(t,n,!0),Y.access(i,e,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,o=Y.access(i,e)-1;o?Y.access(i,e,o):(i.removeEventListener(t,n,!0),Y.remove(i,e))}}}));var Ce=t.location,Ie={guid:Date.now()},xe=/\\?/;b.parseXML=function(e){var n;if(!e||\"string\"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,\"text/xml\")}catch(t){n=void 0}return n&&!n.getElementsByTagName(\"parsererror\").length||b.error(\"Invalid XML: \"+e),n};var ke=/\\[\\]$/,Ee=/\\r?\\n/g,Se=/^(?:submit|button|image|reset|file)$/i,Te=/^(?:input|select|textarea|keygen)/i;function We(t,e,n,i){var o;if(Array.isArray(e))b.each(e,(function(e,o){n||ke.test(t)?i(t,o):We(t+\"[\"+(\"object\"==typeof o&&null!=o?e:\"\")+\"]\",o,n,i)}));else if(n||\"object\"!==w(e))i(t,e);else for(o in e)We(t+\"[\"+o+\"]\",e[o],n,i)}b.param=function(t,e){var n,i=[],o=function(t,e){var n=m(e)?e():e;i[i.length]=encodeURIComponent(t)+\"=\"+encodeURIComponent(null==n?\"\":n)};if(null==t)return\"\";if(Array.isArray(t)||t.jquery&&!b.isPlainObject(t))b.each(t,(function(){o(this.name,this.value)}));else for(n in t)We(n,t[n],e,o);return i.join(\"&\")},b.fn.extend({serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=b.prop(this,\"elements\");return t?b.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!b(this).is(\":disabled\")&&Te.test(this.nodeName)&&!Se.test(t)&&(this.checked||!pt.test(t))})).map((function(t,e){var n=b(this).val();return null==n?null:Array.isArray(n)?b.map(n,(function(t){return{name:e.name,value:t.replace(Ee,\"\\r\\n\")}})):{name:e.name,value:n.replace(Ee,\"\\r\\n\")}})).get()}});var Ae=/%20/g,De=/#.*$/,Pe=/([?&])_=[^&]*/,Le=/^(.*?):[ \\t]*([^\\r\\n]*)$/gm,Me=/^(?:GET|HEAD)$/,Fe=/^\\/\\//,ze={},Be={},Ne=\"*/\".concat(\"*\"),Oe=g.createElement(\"a\");function $e(t){return function(e,n){\"string\"!=typeof e&&(n=e,e=\"*\");var i,o=0,s=e.toLowerCase().match(F)||[];if(m(n))for(;i=s[o++];)\"+\"===i[0]?(i=i.slice(1)||\"*\",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function Re(t,e,n,i){var o={},s=t===Be;function r(a){var c;return o[a]=!0,b.each(t[a]||[],(function(t,a){var l=a(e,n,i);return\"string\"!=typeof l||s||o[l]?s?!(c=l):void 0:(e.dataTypes.unshift(l),r(l),!1)})),c}return r(e.dataTypes[0])||!o[\"*\"]&&r(\"*\")}function He(t,e){var n,i,o=b.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((o[n]?t:i||(i={}))[n]=e[n]);return i&&b.extend(!0,t,i),t}Oe.href=Ce.href,b.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ce.href,type:\"GET\",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ce.protocol),global:!0,processData:!0,async:!0,contentType:\"application/x-www-form-urlencoded; charset=UTF-8\",accepts:{\"*\":Ne,text:\"text/plain\",html:\"text/html\",xml:\"application/xml, text/xml\",json:\"application/json, text/javascript\"},contents:{xml:/\\bxml\\b/,html:/\\bhtml/,json:/\\bjson\\b/},responseFields:{xml:\"responseXML\",text:\"responseText\",json:\"responseJSON\"},converters:{\"* text\":String,\"text html\":!0,\"text json\":JSON.parse,\"text xml\":b.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?He(He(t,b.ajaxSettings),e):He(b.ajaxSettings,t)},ajaxPrefilter:$e(ze),ajaxTransport:$e(Be),ajax:function(e,n){\"object\"==typeof e&&(n=e,e=void 0),n=n||{};var i,o,s,r,a,c,l,d,h,u,p=b.ajaxSetup({},n),m=p.context||p,f=p.context&&(m.nodeType||m.jquery)?b(m):b.event,y=b.Deferred(),v=b.Callbacks(\"once memory\"),w=p.statusCode||{},_={},C={},I=\"canceled\",x={readyState:0,getResponseHeader:function(t){var e;if(l){if(!r)for(r={};e=Le.exec(s);)r[e[1].toLowerCase()+\" \"]=(r[e[1].toLowerCase()+\" \"]||[]).concat(e[2]);e=r[t.toLowerCase()+\" \"]}return null==e?null:e.join(\", \")},getAllResponseHeaders:function(){return l?s:null},setRequestHeader:function(t,e){return null==l&&(t=C[t.toLowerCase()]=C[t.toLowerCase()]||t,_[t]=e),this},overrideMimeType:function(t){return null==l&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(l)x.always(t[x.status]);else for(e in t)w[e]=[w[e],t[e]];return this},abort:function(t){var e=t||I;return i&&i.abort(e),k(0,e),this}};if(y.promise(x),p.url=((e||p.url||Ce.href)+\"\").replace(Fe,Ce.protocol+\"//\"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=(p.dataType||\"*\").toLowerCase().match(F)||[\"\"],null==p.crossDomain){c=g.createElement(\"a\");try{c.href=p.url,c.href=c.href,p.crossDomain=Oe.protocol+\"//\"+Oe.host!=c.protocol+\"//\"+c.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&\"string\"!=typeof p.data&&(p.data=b.param(p.data,p.traditional)),Re(ze,p,n,x),l)return x;for(h in(d=b.event&&p.global)&&0==b.active++&&b.event.trigger(\"ajaxStart\"),p.type=p.type.toUpperCase(),p.hasContent=!Me.test(p.type),o=p.url.replace(De,\"\"),p.hasContent?p.data&&p.processData&&0===(p.contentType||\"\").indexOf(\"application/x-www-form-urlencoded\")&&(p.data=p.data.replace(Ae,\"+\")):(u=p.url.slice(o.length),p.data&&(p.processData||\"string\"==typeof p.data)&&(o+=(xe.test(o)?\"&\":\"?\")+p.data,delete p.data),!1===p.cache&&(o=o.replace(Pe,\"$1\"),u=(xe.test(o)?\"&\":\"?\")+\"_=\"+Ie.guid+++u),p.url=o+u),p.ifModified&&(b.lastModified[o]&&x.setRequestHeader(\"If-Modified-Since\",b.lastModified[o]),b.etag[o]&&x.setRequestHeader(\"If-None-Match\",b.etag[o])),(p.data&&p.hasContent&&!1!==p.contentType||n.contentType)&&x.setRequestHeader(\"Content-Type\",p.contentType),x.setRequestHeader(\"Accept\",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+(\"*\"!==p.dataTypes[0]?\", \"+Ne+\"; q=0.01\":\"\"):p.accepts[\"*\"]),p.headers)x.setRequestHeader(h,p.headers[h]);if(p.beforeSend&&(!1===p.beforeSend.call(m,x,p)||l))return x.abort();if(I=\"abort\",v.add(p.complete),x.done(p.success),x.fail(p.error),i=Re(Be,p,n,x)){if(x.readyState=1,d&&f.trigger(\"ajaxSend\",[x,p]),l)return x;p.async&&p.timeout>0&&(a=t.setTimeout((function(){x.abort(\"timeout\")}),p.timeout));try{l=!1,i.send(_,k)}catch(t){if(l)throw t;k(-1,t)}}else k(-1,\"No Transport\");function k(e,n,r,c){var h,u,g,_,C,I=n;l||(l=!0,a&&t.clearTimeout(a),i=void 0,s=c||\"\",x.readyState=e>0?4:0,h=e>=200&&e<300||304===e,r&&(_=function(t,e,n){for(var i,o,s,r,a=t.contents,c=t.dataTypes;\"*\"===c[0];)c.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader(\"Content-Type\"));if(i)for(o in a)if(a[o]&&a[o].test(i)){c.unshift(o);break}if(c[0]in n)s=c[0];else{for(o in n){if(!c[0]||t.converters[o+\" \"+c[0]]){s=o;break}r||(r=o)}s=s||r}if(s)return s!==c[0]&&c.unshift(s),n[s]}(p,x,r)),!h&&b.inArray(\"script\",p.dataTypes)>-1&&(p.converters[\"text script\"]=function(){}),_=function(t,e,n,i){var o,s,r,a,c,l={},d=t.dataTypes.slice();if(d[1])for(r in t.converters)l[r.toLowerCase()]=t.converters[r];for(s=d.shift();s;)if(t.responseFields[s]&&(n[t.responseFields[s]]=e),!c&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),c=s,s=d.shift())if(\"*\"===s)s=c;else if(\"*\"!==c&&c!==s){if(!(r=l[c+\" \"+s]||l[\"* \"+s]))for(o in l)if((a=o.split(\" \"))[1]===s&&(r=l[c+\" \"+a[0]]||l[\"* \"+a[0]])){!0===r?r=l[o]:!0!==l[o]&&(s=a[0],d.unshift(a[1]));break}if(!0!==r)if(r&&t.throws)e=r(e);else try{e=r(e)}catch(t){return{state:\"parsererror\",error:r?t:\"No conversion from \"+c+\" to \"+s}}}return{state:\"success\",data:e}}(p,_,x,h),h?(p.ifModified&&((C=x.getResponseHeader(\"Last-Modified\"))&&(b.lastModified[o]=C),(C=x.getResponseHeader(\"etag\"))&&(b.etag[o]=C)),204===e||\"HEAD\"===p.type?I=\"nocontent\":304===e?I=\"notmodified\":(I=_.state,u=_.data,h=!(g=_.error))):(g=I,!e&&I||(I=\"error\",e<0&&(e=0))),x.status=e,x.statusText=(n||I)+\"\",h?y.resolveWith(m,[u,I,x]):y.rejectWith(m,[x,I,g]),x.statusCode(w),w=void 0,d&&f.trigger(h?\"ajaxSuccess\":\"ajaxError\",[x,p,h?u:g]),v.fireWith(m,[x,I]),d&&(f.trigger(\"ajaxComplete\",[x,p]),--b.active||b.event.trigger(\"ajaxStop\")))}return x},getJSON:function(t,e,n){return b.get(t,e,n,\"json\")},getScript:function(t,e){return b.get(t,void 0,e,\"script\")}}),b.each([\"get\",\"post\"],(function(t,e){b[e]=function(t,n,i,o){return m(n)&&(o=o||i,i=n,n=void 0),b.ajax(b.extend({url:t,type:e,dataType:o,data:n,success:i},b.isPlainObject(t)&&t))}})),b.ajaxPrefilter((function(t){var e;for(e in t.headers)\"content-type\"===e.toLowerCase()&&(t.contentType=t.headers[e]||\"\")})),b._evalUrl=function(t,e,n){return b.ajax({url:t,type:\"GET\",dataType:\"script\",cache:!0,async:!1,global:!1,converters:{\"text script\":function(){}},dataFilter:function(t){b.globalEval(t,e,n)}})},b.fn.extend({wrapAll:function(t){var e;return this[0]&&(m(t)&&(t=t.call(this[0])),e=b(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return m(t)?this.each((function(e){b(this).wrapInner(t.call(this,e))})):this.each((function(){var e=b(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)}))},wrap:function(t){var e=m(t);return this.each((function(n){b(this).wrapAll(e?t.call(this,n):t)}))},unwrap:function(t){return this.parent(t).not(\"body\").each((function(){b(this).replaceWith(this.childNodes)})),this}}),b.expr.pseudos.hidden=function(t){return!b.expr.pseudos.visible(t)},b.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},b.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(t){}};var je={0:200,1223:204},qe=b.ajaxSettings.xhr();p.cors=!!qe&&\"withCredentials\"in qe,p.ajax=qe=!!qe,b.ajaxTransport((function(e){var n,i;if(p.cors||qe&&!e.crossDomain)return{send:function(o,s){var r,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)a[r]=e.xhrFields[r];for(r in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||o[\"X-Requested-With\"]||(o[\"X-Requested-With\"]=\"XMLHttpRequest\"),o)a.setRequestHeader(r,o[r]);n=function(t){return function(){n&&(n=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,\"abort\"===t?a.abort():\"error\"===t?\"number\"!=typeof a.status?s(0,\"error\"):s(a.status,a.statusText):s(je[a.status]||a.status,a.statusText,\"text\"!==(a.responseType||\"text\")||\"string\"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),i=a.onerror=a.ontimeout=n(\"error\"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout((function(){n&&i()}))},n=n(\"abort\");try{a.send(e.hasContent&&e.data||null)}catch(t){if(n)throw t}},abort:function(){n&&n()}}})),b.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),b.ajaxSetup({accepts:{script:\"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript\"},contents:{script:/\\b(?:java|ecma)script\\b/},converters:{\"text script\":function(t){return b.globalEval(t),t}}}),b.ajaxPrefilter(\"script\",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type=\"GET\")})),b.ajaxTransport(\"script\",(function(t){var e,n;if(t.crossDomain||t.scriptAttrs)return{send:function(i,o){e=b(\"<script>\").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on(\"load error\",n=function(t){e.remove(),n=null,t&&o(\"error\"===t.type?404:200,t.type)}),g.head.appendChild(e[0])},abort:function(){n&&n()}}}));var Ue,Ve=[],Ge=/(=)\\?(?=&|$)|\\?\\?/;b.ajaxSetup({jsonp:\"callback\",jsonpCallback:function(){var t=Ve.pop()||b.expando+\"_\"+Ie.guid++;return this[t]=!0,t}}),b.ajaxPrefilter(\"json jsonp\",(function(e,n,i){var o,s,r,a=!1!==e.jsonp&&(Ge.test(e.url)?\"url\":\"string\"==typeof e.data&&0===(e.contentType||\"\").indexOf(\"application/x-www-form-urlencoded\")&&Ge.test(e.data)&&\"data\");if(a||\"jsonp\"===e.dataTypes[0])return o=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Ge,\"$1\"+o):!1!==e.jsonp&&(e.url+=(xe.test(e.url)?\"&\":\"?\")+e.jsonp+\"=\"+o),e.converters[\"script json\"]=function(){return r||b.error(o+\" was not called\"),r[0]},e.dataTypes[0]=\"json\",s=t[o],t[o]=function(){r=arguments},i.always((function(){void 0===s?b(t).removeProp(o):t[o]=s,e[o]&&(e.jsonpCallback=n.jsonpCallback,Ve.push(o)),r&&m(s)&&s(r[0]),r=s=void 0})),\"script\"})),p.createHTMLDocument=((Ue=g.implementation.createHTMLDocument(\"\").body).innerHTML=\"<form></form><form></form>\",2===Ue.childNodes.length),b.parseHTML=function(t,e,n){return\"string\"!=typeof t?[]:(\"boolean\"==typeof e&&(n=e,e=!1),e||(p.createHTMLDocument?((i=(e=g.implementation.createHTMLDocument(\"\")).createElement(\"base\")).href=g.location.href,e.head.appendChild(i)):e=g),s=!n&&[],(o=T.exec(t))?[e.createElement(o[1])]:(o=_t([t],e,s),s&&s.length&&b(s).remove(),b.merge([],o.childNodes)));var i,o,s},b.fn.load=function(t,e,n){var i,o,s,r=this,a=t.indexOf(\" \");return a>-1&&(i=ge(t.slice(a)),t=t.slice(0,a)),m(e)?(n=e,e=void 0):e&&\"object\"==typeof e&&(o=\"POST\"),r.length>0&&b.ajax({url:t,type:o||\"GET\",dataType:\"html\",data:e}).done((function(t){s=arguments,r.html(i?b(\"<div>\").append(b.parseHTML(t)).find(i):t)})).always(n&&function(t,e){r.each((function(){n.apply(this,s||[t.responseText,e,t])}))}),this},b.expr.pseudos.animated=function(t){return b.grep(b.timers,(function(e){return t===e.elem})).length},b.offset={setOffset:function(t,e,n){var i,o,s,r,a,c,l=b.css(t,\"position\"),d=b(t),h={};\"static\"===l&&(t.style.position=\"relative\"),a=d.offset(),s=b.css(t,\"top\"),c=b.css(t,\"left\"),(\"absolute\"===l||\"fixed\"===l)&&(s+c).indexOf(\"auto\")>-1?(r=(i=d.position()).top,o=i.left):(r=parseFloat(s)||0,o=parseFloat(c)||0),m(e)&&(e=e.call(t,n,b.extend({},a))),null!=e.top&&(h.top=e.top-a.top+r),null!=e.left&&(h.left=e.left-a.left+o),\"using\"in e?e.using.call(t,h):(\"number\"==typeof h.top&&(h.top+=\"px\"),\"number\"==typeof h.left&&(h.left+=\"px\"),d.css(h))}},b.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){b.offset.setOffset(this,t,e)}));var e,n,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],o={top:0,left:0};if(\"fixed\"===b.css(i,\"position\"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&\"static\"===b.css(t,\"position\");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((o=b(t).offset()).top+=b.css(t,\"borderTopWidth\",!0),o.left+=b.css(t,\"borderLeftWidth\",!0))}return{top:e.top-o.top-b.css(i,\"marginTop\",!0),left:e.left-o.left-b.css(i,\"marginLeft\",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&\"static\"===b.css(t,\"position\");)t=t.offsetParent;return t||it}))}}),b.each({scrollLeft:\"pageXOffset\",scrollTop:\"pageYOffset\"},(function(t,e){var n=\"pageYOffset\"===e;b.fn[t]=function(i){return H(this,(function(t,i,o){var s;if(f(t)?s=t:9===t.nodeType&&(s=t.defaultView),void 0===o)return s?s[e]:t[i];s?s.scrollTo(n?s.pageXOffset:o,n?o:s.pageYOffset):t[i]=o}),t,i,arguments.length)}})),b.each([\"top\",\"left\"],(function(t,e){b.cssHooks[e]=qt(p.pixelPosition,(function(t,n){if(n)return n=jt(t,e),Ot.test(n)?b(t).position()[e]+\"px\":n}))})),b.each({Height:\"height\",Width:\"width\"},(function(t,e){b.each({padding:\"inner\"+t,content:e,\"\":\"outer\"+t},(function(n,i){b.fn[i]=function(o,s){var r=arguments.length&&(n||\"boolean\"!=typeof o),a=n||(!0===o||!0===s?\"margin\":\"border\");return H(this,(function(e,n,o){var s;return f(e)?0===i.indexOf(\"outer\")?e[\"inner\"+t]:e.document.documentElement[\"client\"+t]:9===e.nodeType?(s=e.documentElement,Math.max(e.body[\"scroll\"+t],s[\"scroll\"+t],e.body[\"offset\"+t],s[\"offset\"+t],s[\"client\"+t])):void 0===o?b.css(e,n,a):b.style(e,n,o,a)}),e,r?o:void 0,r)}}))})),b.each([\"ajaxStart\",\"ajaxStop\",\"ajaxComplete\",\"ajaxError\",\"ajaxSuccess\",\"ajaxSend\"],(function(t,e){b.fn[e]=function(t){return this.on(e,t)}})),b.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,\"**\"):this.off(e,t||\"**\",n)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),b.each(\"blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu\".split(\" \"),(function(t,e){b.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}));var Xe=/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g;b.proxy=function(t,e){var n,i,s;if(\"string\"==typeof e&&(n=t[e],e=t,t=n),m(t))return i=o.call(arguments,2),(s=function(){return t.apply(e||this,i.concat(o.call(arguments)))}).guid=t.guid=t.guid||b.guid++,s},b.holdReady=function(t){t?b.readyWait++:b.ready(!0)},b.isArray=Array.isArray,b.parseJSON=JSON.parse,b.nodeName=S,b.isFunction=m,b.isWindow=f,b.camelCase=V,b.type=w,b.now=Date.now,b.isNumeric=function(t){var e=b.type(t);return(\"number\"===e||\"string\"===e)&&!isNaN(t-parseFloat(t))},b.trim=function(t){return null==t?\"\":(t+\"\").replace(Xe,\"\")};var Ye=t.jQuery,Je=t.$;return b.noConflict=function(e){return t.$===b&&(t.$=Je),e&&t.jQuery===b&&(t.jQuery=Ye),b},void 0===e&&(t.jQuery=t.$=b),b}))}));let Z;window.$=J,window.addEventListener(\"beforeunload\",(()=>{Y.dispose(),Z&&Z()}));const Q={init:(t,e)=>{if(X.initialized)return void X.init(t,t.agm.instance.peerId,e);Y.subscribeForWorkspaceEvents();const n=X.init(t,t.agm.instance.peerId,e);return Z=n.cleanUp,Y.init(t,t.agm.instance.peerId).then((()=>{B.config.emptyFrame||X.workspacesEventEmitter.raiseFrameEvent({action:\"opened\",payload:{frameSummary:{id:t.agm.instance.peerId}}})})).catch(console.warn),X},getFrameId:()=>X.frameId,notifyMoveAreaChanged:()=>{},getComponentBounds:()=>X.getComponentBounds(),registerPopup:t=>\"\",removePopup:t=>{},removePopupById:t=>{},unmount:()=>{},subscribeForWindowFocused:t=>X.subscribeForWindowClicked(t),notifyWorkspacePopupChanged:t=>{}};export default Q;\n//# sourceMappingURL=export.js.map\n","import workspacesManager from \"@glue42/workspaces-ui-core\";\r\nimport { Bounds, WorkspacesManager } from \"./types/internal\";\r\n\r\ndeclare const window: Window & { workspacesManager: WorkspacesManager };\r\n\r\nclass WorkspacesManagerDecorator {\r\n    public init(glue: any, componentFactory: any) {\r\n        if (window.workspacesManager) {\r\n            window.workspacesManager.init(componentFactory);\r\n        } else {\r\n            workspacesManager.init(glue, componentFactory);\r\n        }\r\n    }\r\n\r\n    public getFrameId() {\r\n      return  (window.workspacesManager || workspacesManager).getFrameId();\r\n    }\r\n\r\n    public notifyMoveAreaChanged() {\r\n        (window.workspacesManager || workspacesManager).notifyMoveAreaChanged();\r\n    }\r\n\r\n    public notifyWorkspacePopupChanged(element: HTMLElement): string {\r\n        return (window.workspacesManager || workspacesManager).notifyWorkspacePopupChanged(element);\r\n    }\r\n\r\n    public getComponentBounds(): Bounds {\r\n        return (window.workspacesManager || workspacesManager).getComponentBounds();\r\n    }\r\n\r\n    public registerPopup(element: HTMLElement): string {\r\n        return (window.workspacesManager || workspacesManager).registerPopup(element);\r\n    }\r\n\r\n    public removePopup(element: HTMLElement): void {\r\n        return (window.workspacesManager || workspacesManager).removePopup(element);\r\n    }\r\n\r\n    public removePopupById(elementId: string): void {\r\n        return (window.workspacesManager || workspacesManager).removePopupById(elementId);\r\n    }\r\n\r\n    public subscribeForWindowFocused(cb: () => any): () => void {\r\n        return (window.workspacesManager || workspacesManager).subscribeForWindowFocused(cb);\r\n    }\r\n\r\n    public unmount(): void {\r\n        return (window.workspacesManager || workspacesManager).unmount();\r\n    }\r\n}\r\n\r\nexport default new WorkspacesManagerDecorator();","import React, { useEffect, useLayoutEffect, forwardRef, useState, useRef, useImperativeHandle } from 'react';\nimport ReactDOM from 'react-dom';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar useOnEscape = function useOnEscape(handler, active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  useEffect(function () {\n    if (!active) return;\n\n    var listener = function listener(event) {\n      // check if key is an Escape\n      if (event.key === 'Escape') handler();\n    };\n\n    document.addEventListener('keyup', listener);\n    return function () {\n      if (!active) return;\n      document.removeEventListener('keyup', listener);\n    };\n  }, [handler, active]);\n};\nvar useRepositionOnResize = function useRepositionOnResize(handler, active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  useEffect(function () {\n    if (!active) return;\n\n    var listener = function listener() {\n      handler();\n    };\n\n    window.addEventListener('resize', listener);\n    return function () {\n      if (!active) return;\n      window.removeEventListener('resize', listener);\n    };\n  }, [handler, active]);\n};\nvar useOnClickOutside = function useOnClickOutside(ref, handler, active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  useEffect(function () {\n    if (!active) return;\n\n    var listener = function listener(event) {\n      // Do nothing if clicking ref's element or descendent elements\n      var refs = Array.isArray(ref) ? ref : [ref];\n      var contains = false;\n      refs.forEach(function (r) {\n        if (!r.current || r.current.contains(event.target)) {\n          contains = true;\n          return;\n        }\n      });\n      event.stopPropagation();\n      if (!contains) handler();\n    };\n\n    document.addEventListener('mousedown', listener);\n    document.addEventListener('touchstart', listener);\n    return function () {\n      if (!active) return;\n      document.removeEventListener('mousedown', listener);\n      document.removeEventListener('touchstart', listener);\n    };\n  }, [ref, handler, active]);\n}; // Make sure that user is not able TAB out of the Modal content on Open\n\nvar useTabbing = function useTabbing(contentRef, active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  useEffect(function () {\n    if (!active) return;\n\n    var listener = function listener(event) {\n      // check if key is an Tab\n      if (event.keyCode === 9) {\n        var _contentRef$current;\n\n        var els = contentRef === null || contentRef === void 0 ? void 0 : (_contentRef$current = contentRef.current) === null || _contentRef$current === void 0 ? void 0 : _contentRef$current.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex=\"0\"]');\n        var focusableEls = Array.prototype.slice.call(els);\n\n        if (focusableEls.length === 1) {\n          event.preventDefault();\n          return;\n        }\n\n        var firstFocusableEl = focusableEls[0];\n        var lastFocusableEl = focusableEls[focusableEls.length - 1];\n\n        if (event.shiftKey && document.activeElement === firstFocusableEl) {\n          event.preventDefault();\n          lastFocusableEl.focus();\n        } else if (document.activeElement === lastFocusableEl) {\n          event.preventDefault();\n          firstFocusableEl.focus();\n        }\n      }\n    };\n\n    document.addEventListener('keydown', listener);\n    return function () {\n      if (!active) return;\n      document.removeEventListener('keydown', listener);\n    };\n  }, [contentRef, active]);\n};\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;\n\nvar Style = {\n  popupContent: {\n    tooltip: {\n      position: 'absolute',\n      zIndex: 999\n    },\n    modal: {\n      position: 'relative',\n      margin: 'auto'\n    }\n  },\n  popupArrow: {\n    height: '8px',\n    width: '16px',\n    position: 'absolute',\n    background: 'transparent',\n    color: '#FFF',\n    zIndex: -1\n  },\n  overlay: {\n    tooltip: {\n      position: 'fixed',\n      top: '0',\n      bottom: '0',\n      left: '0',\n      right: '0',\n      zIndex: 999\n    },\n    modal: {\n      position: 'fixed',\n      top: '0',\n      bottom: '0',\n      left: '0',\n      right: '0',\n      display: 'flex',\n      zIndex: 999\n    }\n  }\n};\n\nvar POSITION_TYPES = ['top left', 'top center', 'top right', 'right top', 'right center', 'right bottom', 'bottom left', 'bottom center', 'bottom right', 'left top', 'left center', 'left bottom'];\n\nvar getCoordinatesForPosition = function getCoordinatesForPosition(triggerBounding, ContentBounding, position, //PopupPosition | PopupPosition[],\narrow, _ref) {\n  var offsetX = _ref.offsetX,\n      offsetY = _ref.offsetY;\n  var margin = arrow ? 8 : 0;\n  var args = position.split(' '); // the step N 1 : center the popup content => ok\n\n  var CenterTop = triggerBounding.top + triggerBounding.height / 2;\n  var CenterLeft = triggerBounding.left + triggerBounding.width / 2;\n  var height = ContentBounding.height,\n      width = ContentBounding.width;\n  var top = CenterTop - height / 2;\n  var left = CenterLeft - width / 2;\n  var transform = '';\n  var arrowTop = '0%';\n  var arrowLeft = '0%'; // the  step N 2 : => ok\n\n  switch (args[0]) {\n    case 'top':\n      top -= height / 2 + triggerBounding.height / 2 + margin;\n      transform = \"rotate(180deg)  translateX(50%)\";\n      arrowTop = '100%';\n      arrowLeft = '50%';\n      break;\n\n    case 'bottom':\n      top += height / 2 + triggerBounding.height / 2 + margin;\n      transform = \"rotate(0deg) translateY(-100%) translateX(-50%)\";\n      arrowLeft = '50%';\n      break;\n\n    case 'left':\n      left -= width / 2 + triggerBounding.width / 2 + margin;\n      transform = \" rotate(90deg)  translateY(50%) translateX(-25%)\";\n      arrowLeft = '100%';\n      arrowTop = '50%';\n      break;\n\n    case 'right':\n      left += width / 2 + triggerBounding.width / 2 + margin;\n      transform = \"rotate(-90deg)  translateY(-150%) translateX(25%)\";\n      arrowTop = '50%';\n      break;\n  }\n\n  switch (args[1]) {\n    case 'top':\n      top = triggerBounding.top;\n      arrowTop = triggerBounding.height / 2 + \"px\";\n      break;\n\n    case 'bottom':\n      top = triggerBounding.top - height + triggerBounding.height;\n      arrowTop = height - triggerBounding.height / 2 + \"px\";\n      break;\n\n    case 'left':\n      left = triggerBounding.left;\n      arrowLeft = triggerBounding.width / 2 + \"px\";\n      break;\n\n    case 'right':\n      left = triggerBounding.left - width + triggerBounding.width;\n      arrowLeft = width - triggerBounding.width / 2 + \"px\";\n      break;\n  }\n\n  top = args[0] === 'top' ? top - offsetY : top + offsetY;\n  left = args[0] === 'left' ? left - offsetX : left + offsetX;\n  return {\n    top: top,\n    left: left,\n    transform: transform,\n    arrowLeft: arrowLeft,\n    arrowTop: arrowTop\n  };\n};\n\nvar getTooltipBoundary = function getTooltipBoundary(keepTooltipInside) {\n  // add viewport\n  var boundingBox = {\n    top: 0,\n    left: 0,\n\n    /* eslint-disable-next-line no-undef */\n    width: window.innerWidth,\n\n    /* eslint-disable-next-line no-undef */\n    height: window.innerHeight\n  };\n\n  if (typeof keepTooltipInside === 'string') {\n    /* eslint-disable-next-line no-undef */\n    var selector = document.querySelector(keepTooltipInside);\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (selector === null) throw new Error(keepTooltipInside + \" selector does not exist : keepTooltipInside must be a valid html selector 'class' or 'Id'  or a boolean value\");\n    }\n\n    if (selector !== null) boundingBox = selector.getBoundingClientRect();\n  }\n\n  return boundingBox;\n};\n\nvar calculatePosition = function calculatePosition(triggerBounding, ContentBounding, position, arrow, _ref2, keepTooltipInside) {\n  var offsetX = _ref2.offsetX,\n      offsetY = _ref2.offsetY;\n  var bestCoords = {\n    arrowLeft: '0%',\n    arrowTop: '0%',\n    left: 0,\n    top: 0,\n    transform: 'rotate(135deg)'\n  };\n  var i = 0;\n  var wrapperBox = getTooltipBoundary(keepTooltipInside);\n  var positions = Array.isArray(position) ? position : [position]; // keepTooltipInside would be activated if the  keepTooltipInside exist or the position is Array\n\n  if (keepTooltipInside || Array.isArray(position)) positions = [].concat(positions, POSITION_TYPES); // add viewPort for WarpperBox\n  // wrapperBox.top = wrapperBox.top + window.scrollY;\n  // wrapperBox.left = wrapperBox.left + window.scrollX;\n\n  while (i < positions.length) {\n    bestCoords = getCoordinatesForPosition(triggerBounding, ContentBounding, positions[i], arrow, {\n      offsetX: offsetX,\n      offsetY: offsetY\n    });\n    var contentBox = {\n      top: bestCoords.top,\n      left: bestCoords.left,\n      width: ContentBounding.width,\n      height: ContentBounding.height\n    };\n\n    if (contentBox.top <= wrapperBox.top || contentBox.left <= wrapperBox.left || contentBox.top + contentBox.height >= wrapperBox.top + wrapperBox.height || contentBox.left + contentBox.width >= wrapperBox.left + wrapperBox.width) {\n      i++;\n    } else {\n      break;\n    }\n  }\n\n  return bestCoords;\n};\n\nvar popupIdCounter = 0;\n\nvar getRootPopup = function getRootPopup() {\n  var PopupRoot = document.getElementById('popup-root');\n\n  if (PopupRoot === null) {\n    PopupRoot = document.createElement('div');\n    PopupRoot.setAttribute('id', 'popup-root');\n    document.body.appendChild(PopupRoot);\n  }\n\n  return PopupRoot;\n};\n\nvar Popup = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var _ref$trigger = _ref.trigger,\n      trigger = _ref$trigger === void 0 ? null : _ref$trigger,\n      _ref$onOpen = _ref.onOpen,\n      onOpen = _ref$onOpen === void 0 ? function () {} : _ref$onOpen,\n      _ref$onClose = _ref.onClose,\n      onClose = _ref$onClose === void 0 ? function () {} : _ref$onClose,\n      _ref$defaultOpen = _ref.defaultOpen,\n      defaultOpen = _ref$defaultOpen === void 0 ? false : _ref$defaultOpen,\n      _ref$open = _ref.open,\n      open = _ref$open === void 0 ? undefined : _ref$open,\n      _ref$disabled = _ref.disabled,\n      disabled = _ref$disabled === void 0 ? false : _ref$disabled,\n      _ref$nested = _ref.nested,\n      nested = _ref$nested === void 0 ? false : _ref$nested,\n      _ref$closeOnDocumentC = _ref.closeOnDocumentClick,\n      closeOnDocumentClick = _ref$closeOnDocumentC === void 0 ? true : _ref$closeOnDocumentC,\n      _ref$repositionOnResi = _ref.repositionOnResize,\n      repositionOnResize = _ref$repositionOnResi === void 0 ? true : _ref$repositionOnResi,\n      _ref$closeOnEscape = _ref.closeOnEscape,\n      closeOnEscape = _ref$closeOnEscape === void 0 ? true : _ref$closeOnEscape,\n      _ref$on = _ref.on,\n      on = _ref$on === void 0 ? ['click'] : _ref$on,\n      _ref$contentStyle = _ref.contentStyle,\n      contentStyle = _ref$contentStyle === void 0 ? {} : _ref$contentStyle,\n      _ref$arrowStyle = _ref.arrowStyle,\n      arrowStyle = _ref$arrowStyle === void 0 ? {} : _ref$arrowStyle,\n      _ref$overlayStyle = _ref.overlayStyle,\n      overlayStyle = _ref$overlayStyle === void 0 ? {} : _ref$overlayStyle,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? '' : _ref$className,\n      _ref$position = _ref.position,\n      position = _ref$position === void 0 ? 'bottom center' : _ref$position,\n      _ref$modal = _ref.modal,\n      modal = _ref$modal === void 0 ? false : _ref$modal,\n      _ref$lockScroll = _ref.lockScroll,\n      lockScroll = _ref$lockScroll === void 0 ? false : _ref$lockScroll,\n      _ref$arrow = _ref.arrow,\n      arrow = _ref$arrow === void 0 ? true : _ref$arrow,\n      _ref$offsetX = _ref.offsetX,\n      offsetX = _ref$offsetX === void 0 ? 0 : _ref$offsetX,\n      _ref$offsetY = _ref.offsetY,\n      offsetY = _ref$offsetY === void 0 ? 0 : _ref$offsetY,\n      _ref$mouseEnterDelay = _ref.mouseEnterDelay,\n      mouseEnterDelay = _ref$mouseEnterDelay === void 0 ? 100 : _ref$mouseEnterDelay,\n      _ref$mouseLeaveDelay = _ref.mouseLeaveDelay,\n      mouseLeaveDelay = _ref$mouseLeaveDelay === void 0 ? 100 : _ref$mouseLeaveDelay,\n      _ref$keepTooltipInsid = _ref.keepTooltipInside,\n      keepTooltipInside = _ref$keepTooltipInsid === void 0 ? false : _ref$keepTooltipInsid,\n      children = _ref.children;\n\n  var _useState = useState(open || defaultOpen),\n      isOpen = _useState[0],\n      setIsOpen = _useState[1];\n\n  var triggerRef = useRef(null);\n  var contentRef = useRef(null);\n  var arrowRef = useRef(null);\n  var focusedElBeforeOpen = useRef(null);\n  var popupId = useRef(\"popup-\" + ++popupIdCounter);\n  var isModal = modal ? true : !trigger;\n  var timeOut = useRef(0);\n  useIsomorphicLayoutEffect(function () {\n    if (isOpen) {\n      focusedElBeforeOpen.current = document.activeElement;\n      setPosition();\n      focusContentOnOpen(); // for accessibility\n\n      lockScrolll();\n    } else {\n      resetScroll();\n    }\n\n    return function () {\n      clearTimeout(timeOut.current);\n    };\n  }, [isOpen]); // for uncontrolled popup we need to sync isOpen with open prop\n\n  useEffect(function () {\n    if (typeof open === 'boolean') {\n      if (open) openPopup();else closePopup();\n    }\n  }, [open, disabled]);\n\n  var openPopup = function openPopup() {\n    if (isOpen || disabled) return;\n    setIsOpen(true);\n    setTimeout(onOpen, 0);\n  };\n\n  var closePopup = function closePopup() {\n    if (!isOpen || disabled) return;\n    setIsOpen(false);\n    if (isModal) focusedElBeforeOpen.current.focus();\n    setTimeout(onClose, 0);\n  };\n\n  var togglePopup = function togglePopup(event) {\n    event === null || event === void 0 ? void 0 : event.stopPropagation();\n    if (!isOpen) openPopup();else closePopup();\n  };\n\n  var onMouseEnter = function onMouseEnter() {\n    clearTimeout(timeOut.current);\n    timeOut.current = setTimeout(openPopup, mouseEnterDelay);\n  };\n\n  var onContextMenu = function onContextMenu(event) {\n    event === null || event === void 0 ? void 0 : event.preventDefault();\n    togglePopup();\n  };\n\n  var onMouseLeave = function onMouseLeave() {\n    clearTimeout(timeOut.current);\n    timeOut.current = setTimeout(closePopup, mouseLeaveDelay);\n  };\n\n  var lockScrolll = function lockScrolll() {\n    if (isModal && lockScroll) document.getElementsByTagName('body')[0].style.overflow = 'hidden'; // migrate to document.body\n  };\n\n  var resetScroll = function resetScroll() {\n    if (isModal && lockScroll) document.getElementsByTagName('body')[0].style.overflow = 'auto';\n  };\n\n  var focusContentOnOpen = function focusContentOnOpen() {\n    var _contentRef$current;\n\n    var focusableEls = contentRef === null || contentRef === void 0 ? void 0 : (_contentRef$current = contentRef.current) === null || _contentRef$current === void 0 ? void 0 : _contentRef$current.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex=\"0\"]');\n    var firstEl = Array.prototype.slice.call(focusableEls)[0];\n    firstEl === null || firstEl === void 0 ? void 0 : firstEl.focus();\n  };\n\n  useImperativeHandle(ref, function () {\n    return {\n      open: function open() {\n        openPopup();\n      },\n      close: function close() {\n        closePopup();\n      },\n      toggle: function toggle() {\n        togglePopup();\n      }\n    };\n  }); // set Position\n\n  var setPosition = function setPosition() {\n    if (isModal || !isOpen) return;\n    if (!(triggerRef === null || triggerRef === void 0 ? void 0 : triggerRef.current) || !(triggerRef === null || triggerRef === void 0 ? void 0 : triggerRef.current) || !(contentRef === null || contentRef === void 0 ? void 0 : contentRef.current)) return; /// show error as one of ref is undefined\n\n    var trigger = triggerRef.current.getBoundingClientRect();\n    var content = contentRef.current.getBoundingClientRect();\n    var cords = calculatePosition(trigger, content, position, arrow, {\n      offsetX: offsetX,\n      offsetY: offsetY\n    }, keepTooltipInside);\n    contentRef.current.style.top = cords.top + window.scrollY + \"px\";\n    contentRef.current.style.left = cords.left + window.scrollX + \"px\";\n\n    if (arrow && !!arrowRef.current) {\n      var _arrowStyle$top, _arrowStyle$left;\n\n      arrowRef.current.style.transform = cords.transform;\n      arrowRef.current.style.setProperty('-ms-transform', cords.transform);\n      arrowRef.current.style.setProperty('-webkit-transform', cords.transform);\n      arrowRef.current.style.top = ((_arrowStyle$top = arrowStyle.top) === null || _arrowStyle$top === void 0 ? void 0 : _arrowStyle$top.toString()) || cords.arrowTop;\n      arrowRef.current.style.left = ((_arrowStyle$left = arrowStyle.left) === null || _arrowStyle$left === void 0 ? void 0 : _arrowStyle$left.toString()) || cords.arrowLeft;\n    }\n  }; // hooks\n\n\n  useOnEscape(closePopup, closeOnEscape); // can be optimized if we disabled for hover\n\n  useTabbing(contentRef, isOpen && isModal);\n  useRepositionOnResize(setPosition, repositionOnResize);\n  useOnClickOutside(!!trigger ? [contentRef, triggerRef] : [contentRef], closePopup, closeOnDocumentClick && !nested); // we need to add a ne\n  // render the trigger element and add events\n\n  var renderTrigger = function renderTrigger() {\n    var triggerProps = {\n      key: 'T',\n      ref: triggerRef,\n      'aria-describedby': popupId.current\n    };\n    var onAsArray = Array.isArray(on) ? on : [on];\n\n    for (var i = 0, len = onAsArray.length; i < len; i++) {\n      switch (onAsArray[i]) {\n        case 'click':\n          triggerProps.onClick = togglePopup;\n          break;\n\n        case 'right-click':\n          triggerProps.onContextMenu = onContextMenu;\n          break;\n\n        case 'hover':\n          triggerProps.onMouseEnter = onMouseEnter;\n          triggerProps.onMouseLeave = onMouseLeave;\n          break;\n\n        case 'focus':\n          triggerProps.onFocus = onMouseEnter;\n          triggerProps.onBlur = onMouseLeave;\n          break;\n      }\n    }\n\n    if (typeof trigger === 'function') {\n      var comp = trigger(isOpen);\n      return !!trigger && React.cloneElement(comp, triggerProps);\n    }\n\n    return !!trigger && React.cloneElement(trigger, triggerProps);\n  };\n\n  var addWarperAction = function addWarperAction() {\n    var popupContentStyle = isModal ? Style.popupContent.modal : Style.popupContent.tooltip;\n    var childrenElementProps = {\n      className: \"popup-content \" + (className !== '' ? className.split(' ').map(function (c) {\n        return c + \"-content\";\n      }).join(' ') : ''),\n      style: _extends({}, popupContentStyle, contentStyle, {\n        pointerEvents: 'auto'\n      }),\n      ref: contentRef,\n      onClick: function onClick(e) {\n        e.stopPropagation();\n      }\n    };\n\n    if (!modal && on.indexOf('hover') >= 0) {\n      childrenElementProps.onMouseEnter = onMouseEnter;\n      childrenElementProps.onMouseLeave = onMouseLeave;\n    }\n\n    return childrenElementProps;\n  };\n\n  var renderContent = function renderContent() {\n    return React.createElement(\"div\", Object.assign({}, addWarperAction(), {\n      key: \"C\",\n      role: isModal ? 'dialog' : 'tooltip',\n      id: popupId.current\n    }), arrow && !isModal && React.createElement(\"div\", {\n      ref: arrowRef,\n      style: Style.popupArrow\n    }, React.createElement(\"svg\", {\n      \"data-testid\": \"arrow\",\n      className: \"popup-arrow \" + (className !== '' ? className.split(' ').map(function (c) {\n        return c + \"-arrow\";\n      }).join(' ') : ''),\n      viewBox: \"0 0 32 16\",\n      style: _extends({\n        position: 'absolute'\n      }, arrowStyle)\n    }, React.createElement(\"path\", {\n      d: \"M16 0l16 16H0z\",\n      fill: \"currentcolor\"\n    }))), children && typeof children === 'function' ? children(closePopup, isOpen) : children);\n  };\n\n  var overlay = !(on.indexOf('hover') >= 0);\n  var ovStyle = isModal ? Style.overlay.modal : Style.overlay.tooltip;\n  var content = [overlay && React.createElement(\"div\", {\n    key: \"O\",\n    \"data-testid\": \"overlay\",\n    \"data-popup\": isModal ? 'modal' : 'tooltip',\n    className: \"popup-overlay \" + (className !== '' ? className.split(' ').map(function (c) {\n      return c + \"-overlay\";\n    }).join(' ') : ''),\n    style: _extends({}, ovStyle, overlayStyle, {\n      pointerEvents: closeOnDocumentClick && nested || isModal ? 'auto' : 'none'\n    }),\n    onClick: closeOnDocumentClick && nested ? closePopup : undefined,\n    tabIndex: -1\n  }, isModal && renderContent()), !isModal && renderContent()];\n  return React.createElement(React.Fragment, null, renderTrigger(), isOpen && ReactDOM.createPortal(content, getRootPopup()));\n});\n\nexport default Popup;\nexport { Popup };\n//# sourceMappingURL=reactjs-popup.esm.js.map\n","import React, { useEffect, useState } from \"react\";\r\nimport { WorkspacePopupProps } from \"./types/internal\";\r\nimport Popup from \"reactjs-popup\";\r\nimport WorkspacePopupContent from \"./WorkspaceContentPopup\";\r\nimport { PopupActions } from \"reactjs-popup/dist/types\";\r\n\r\nconst WorkspacePopup: React.FC<WorkspacePopupProps> = ({ children, innerContentStyle, popupRef, ...props }) => {\r\n    const ref = popupRef || React.createRef<PopupActions>();\r\n    const [shouldClose, setShouldClose] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (!shouldClose) {\r\n            return;\r\n        }\r\n\r\n        ref.current?.close();\r\n        setShouldClose(false);\r\n    }, [shouldClose]);\r\n\r\n    return (\r\n        <Popup ref={ref} {...props}>\r\n            <WorkspacePopupContent innerContentStyle={innerContentStyle} close={() => setShouldClose(true)} children={children} />\r\n        </Popup>\r\n    )\r\n}\r\n\r\nexport default WorkspacePopup;","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { PortalProps } from \"./types/internal\";\r\n\r\nclass Portal extends React.Component<PortalProps> {\r\n    render() {\r\n        return ReactDOM.createPortal(this.props.children, this.props.domNode);\r\n    }\r\n}\r\n\r\nexport default Portal;","import React from \"react\";\r\nimport { WorkspacesWrapperProps } from \"./types/internal\";\r\nimport withGlueInstance from \"./withGlueInstance\";\r\nimport workspacesManager from \"./workspacesManager\";\r\n\r\nconst templateId = \"workspaces-react-wrapper-template\";\r\nconst workspacesInnerContainerId = \"outter-layout-container\";\r\n\r\nclass WorkspacesWrapper extends React.Component<WorkspacesWrapperProps> {\r\n    containerRef: HTMLElement | null;\r\n\r\n    componentDidMount() {\r\n        let placeholder = document.getElementById(templateId) as HTMLTemplateElement;\r\n        if (!placeholder) {\r\n            const template = document.createElement(\"template\");\r\n            template.id = templateId;\r\n            const glContainer = document.createElement(\"div\");\r\n\r\n            glContainer.id = workspacesInnerContainerId;\r\n            glContainer.style.overflow = \"hidden\";\r\n            glContainer.style.width = \"100%\";\r\n            glContainer.style.height = \"100%\";\r\n            template.content.appendChild(glContainer);\r\n            document.body.appendChild(template);\r\n            placeholder = template;\r\n        }\r\n        if (!this.containerRef) {\r\n            return;\r\n        }\r\n        this.containerRef.appendChild(placeholder.content);\r\n\r\n        const componentFactory = {\r\n            createLogo: this.props.onCreateLogoRequested,\r\n            createAddWorkspace: this.props.onCreateAddWorkspaceRequested,\r\n            createSystemButtons: this.props.onCreateSystemButtonsRequested,\r\n            createWorkspaceContents: this.props.onCreateWorkspaceContentsRequested,\r\n            createSaveWorkspacePopup: this.props.onCreateSaveWorkspacePopupRequested,\r\n            createAddApplicationPopup: this.props.onCreateAddApplicationPopupRequested,\r\n            createAddWorkspacePopup: this.props.onCreateAddWorkspacePopupRequested,\r\n            hideSystemPopups: this.props.onHideSystemPopupsRequested,\r\n            externalPopupApplications: this.props.externalPopupApplications\r\n        };\r\n        workspacesManager.init(this.props.glue, componentFactory);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        let placeholder = document.getElementById(templateId) as HTMLTemplateElement;\r\n\r\n        if (!this.containerRef) {\r\n            return;\r\n        }\r\n\r\n        placeholder?.content.appendChild(this.containerRef.children[0]);\r\n\r\n        workspacesManager.unmount();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div ref={(r) => this.containerRef = r} style={{ overflow: \"hidden\", width: \"100%\", height: \"100%\" }}>\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withGlueInstance(WorkspacesWrapper);","import React from \"react\";\r\nimport AddApplicationPopup from \"./defaultComponents/popups/addApplication/AddApplicationPopup\";\r\nimport AddWorkspacePopup from \"./defaultComponents/popups/addWorkspace/AddWorkspacePopup\";\r\nimport SaveWorkspacePopup from \"./defaultComponents/popups/saveWorkspace/SaveWorkspacePopup\";\r\nimport Portal from \"./Portal\";\r\nimport { AddApplicationPopupProps, CreateElementRequestOptions, ElementCreationWrapperState, AddWorkspacePopupProps, SaveWorkspacePopupProps, WorkspacesProps, CreateWorkspaceContentsRequestOptions } from \"./types/internal\";\r\nimport WorkspacesWrapper from \"./WorkspacesWrapper\";\r\n\r\nclass WorkspacesElementCreationWrapper extends React.Component<WorkspacesProps, ElementCreationWrapperState> {\r\n    constructor(props: WorkspacesProps) {\r\n        super(props);\r\n        this.state = {\r\n            logo: undefined,\r\n            addWorkspace: undefined,\r\n            systemButtons: undefined,\r\n            workspaceContents: [],\r\n            saveWorkspacePopup: undefined,\r\n            addApplicationPopup: undefined,\r\n            addWorkspacePopup: undefined\r\n        }\r\n    }\r\n\r\n    onCreateLogoRequested = (options: CreateElementRequestOptions) => {\r\n        if (options === this.state.logo) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                logo: options\r\n            }\r\n        });\r\n    }\r\n\r\n    onCreateAddWorkspaceRequested = (options: CreateElementRequestOptions) => {\r\n        if (options === this.state.addWorkspace) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                addWorkspace: options\r\n            }\r\n        });\r\n    }\r\n\r\n    onCreateSystemButtonsRequested = (options: CreateElementRequestOptions) => {\r\n        if (options === this.state.systemButtons) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                systemButtons: options\r\n            }\r\n        });\r\n    }\r\n\r\n    onCreateWorkspaceContentsRequested = (options: CreateWorkspaceContentsRequestOptions) => {\r\n        if (this.state.workspaceContents.some(wc => wc.domNode === options.domNode)) {\r\n            return;\r\n        }\r\n\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                workspaceContents: [\r\n                    ...s.workspaceContents,\r\n                    options\r\n                ]\r\n            }\r\n        });\r\n    }\r\n\r\n    onCreateSaveWorkspaceRequested = (options: CreateElementRequestOptions & SaveWorkspacePopupProps) => {\r\n        if (options === this.state.saveWorkspacePopup) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                saveWorkspacePopup: options\r\n            }\r\n        }, options.callback);\r\n    }\r\n\r\n    onCreateAddApplicationRequested = (options: CreateElementRequestOptions & AddApplicationPopupProps) => {\r\n        if (options === this.state.addApplicationPopup) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                addApplicationPopup: options\r\n            }\r\n        }, options.callback);\r\n    }\r\n\r\n    onCreateAddWorkspacePopupRequested = (options: CreateElementRequestOptions & AddWorkspacePopupProps) => {\r\n        if (options === this.state.addWorkspacePopup) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                addWorkspacePopup: options\r\n            }\r\n        }, options.callback);\r\n    }\r\n\r\n    onHideSystemPopups = (cb: () => void) => {\r\n        this.setState((s) => ({\r\n            ...s,\r\n            addApplicationPopup: undefined,\r\n            saveWorkspacePopup: undefined,\r\n            addWorkspacePopup: undefined\r\n        }), cb);\r\n    }\r\n\r\n    renderLogoComponent = () => {\r\n        const LogoCustomElement = this.props.components?.header?.LogoComponent;\r\n        if (!LogoCustomElement || (!this.state.logo || !this.state.logo.domNode)) {\r\n            return;\r\n        }\r\n\r\n        const { domNode, callback, ...options } = this.state.logo;\r\n        return <Portal domNode={domNode}><LogoCustomElement {...options} /></Portal>\r\n    }\r\n\r\n    renderAddWorkspaceComponent = () => {\r\n        const AddWorkspaceCustomComponent = this.props.components?.header?.AddWorkspaceComponent;\r\n\r\n        if (!AddWorkspaceCustomComponent || (!this.state.addWorkspace || !this.state.addWorkspace.domNode)) {\r\n            return;\r\n        }\r\n\r\n        const { domNode, callback, ...options } = this.state.addWorkspace;\r\n        return <Portal domNode={domNode}><AddWorkspaceCustomComponent {...options} /></Portal>\r\n    }\r\n\r\n    renderSystemButtonsComponent = () => {\r\n        const SystemButtonsCustomComponent = this.props.components?.header?.SystemButtonsComponent;\r\n        if (!SystemButtonsCustomComponent || (!this.state.systemButtons || !this.state.systemButtons.domNode)) {\r\n            return;\r\n        }\r\n\r\n        const { domNode, callback, ...options } = this.state.systemButtons;\r\n\r\n        return <Portal domNode={domNode}><SystemButtonsCustomComponent {...options} /></Portal>\r\n    }\r\n\r\n    renderWorskpaceContents = () => {\r\n        const WorkspaceContentsComponent = this.props.components?.WorkspaceContents;\r\n\r\n        return this.state.workspaceContents.map((wc) => {\r\n            if (!WorkspaceContentsComponent || !wc.domNode) {\r\n                return;\r\n            }\r\n\r\n            const { domNode, callback, ...options } = wc;\r\n            return <Portal key={options.workspaceId} domNode={domNode}><WorkspaceContentsComponent {...options} /></Portal>\r\n        });\r\n    }\r\n\r\n    renderSaveWorkspacePopupComponent = () => {\r\n        const SaveWorkspaceCustomComponent = this.props.components?.popups?.SaveWorkspaceComponent || SaveWorkspacePopup;\r\n        if (!SaveWorkspaceCustomComponent || (!this.state.saveWorkspacePopup || !this.state.saveWorkspacePopup.domNode)) {\r\n            return;\r\n        }\r\n\r\n        const { domNode, ...options } = this.state.saveWorkspacePopup;\r\n\r\n        return <Portal domNode={domNode}><SaveWorkspaceCustomComponent glue={this.props.glue} {...options} /></Portal>\r\n    }\r\n\r\n    renderAddApplicationPopupComponent = () => {\r\n        const AddApplicationCustomComponent = this.props.components?.popups?.AddApplicationComponent || AddApplicationPopup;\r\n        if (!AddApplicationCustomComponent || (!this.state.addApplicationPopup || !this.state.addApplicationPopup.domNode)) {\r\n            return;\r\n        }\r\n\r\n        const { domNode, ...options } = this.state.addApplicationPopup;\r\n\r\n        return <Portal domNode={domNode}><AddApplicationCustomComponent glue={this.props.glue} {...options} /></Portal>\r\n    }\r\n\r\n    renderAddWorkspacePopupComponent = () => {\r\n        const AddWorkspaceCustomComponent = this.props.components?.popups?.AddWorkspaceComponent || AddWorkspacePopup;\r\n        if (!AddWorkspaceCustomComponent || (!this.state.addWorkspacePopup || !this.state.addWorkspacePopup.domNode)) {\r\n            return;\r\n        }\r\n        const { domNode, callback, ...options } = this.state.addWorkspacePopup;\r\n\r\n        return <Portal domNode={domNode}><AddWorkspaceCustomComponent glue={this.props.glue} {...options} /></Portal>\r\n    }\r\n\r\n    render() {\r\n        const { components, glue, ...additionalProperties } = this.props;\r\n        const addApplicationComponent = components?.popups?.AddApplicationComponent || AddApplicationPopup;\r\n        const saveWorkspaceComponent = components?.popups?.SaveWorkspaceComponent || SaveWorkspacePopup;\r\n        const addWorkspaceComponent = components?.popups?.AddWorkspaceComponent || AddWorkspacePopup;\r\n\r\n        const onCreateAddApplicationRequested = addApplicationComponent && typeof addApplicationComponent !== \"string\" ?\r\n            this.onCreateAddApplicationRequested : undefined;\r\n\r\n        const onCreateAddWorkspacePopupRequested = addWorkspaceComponent && typeof addWorkspaceComponent !== \"string\" ?\r\n            this.onCreateAddWorkspacePopupRequested : undefined;\r\n\r\n        const onCreateSaveWorkspaceRequested = saveWorkspaceComponent && typeof saveWorkspaceComponent !== \"string\" ?\r\n            this.onCreateSaveWorkspaceRequested : undefined;\r\n\r\n        const addApplication = typeof addApplicationComponent === \"string\" ? addApplicationComponent : undefined;\r\n        const saveWorkspace = typeof saveWorkspaceComponent === \"string\" ? saveWorkspaceComponent : undefined;\r\n        const addWorkspace = typeof addWorkspaceComponent === \"string\" ? addWorkspaceComponent : undefined;\r\n\r\n        const externalPopupApplications = {\r\n            addApplication,\r\n            saveWorkspace,\r\n            addWorkspace\r\n        }\r\n\r\n        return (\r\n            <div {...additionalProperties} style={{ overflow: \"hidden\", width: \"100%\", height: \"100%\" }}>\r\n                {this.renderLogoComponent()}\r\n                {this.renderAddWorkspaceComponent()}\r\n                {this.renderSystemButtonsComponent()}\r\n                {this.renderWorskpaceContents()}\r\n                {this.renderSaveWorkspacePopupComponent()}\r\n                {this.renderAddApplicationPopupComponent()}\r\n                {this.renderAddWorkspacePopupComponent()}\r\n                <WorkspacesWrapper\r\n                    onCreateSystemButtonsRequested={components?.header?.SystemButtonsComponent ? this.onCreateSystemButtonsRequested : undefined}\r\n                    onCreateAddWorkspaceRequested={components?.header?.AddWorkspaceComponent ? this.onCreateAddWorkspaceRequested : undefined}\r\n                    onCreateLogoRequested={components?.header?.LogoComponent ? this.onCreateLogoRequested : undefined}\r\n                    onCreateWorkspaceContentsRequested={components?.WorkspaceContents ? this.onCreateWorkspaceContentsRequested : undefined}\r\n                    onCreateSaveWorkspacePopupRequested={onCreateSaveWorkspaceRequested}\r\n                    onCreateAddApplicationPopupRequested={onCreateAddApplicationRequested}\r\n                    onCreateAddWorkspacePopupRequested={onCreateAddWorkspacePopupRequested}\r\n                    onHideSystemPopupsRequested={this.onHideSystemPopups}\r\n                    externalPopupApplications={externalPopupApplications}\r\n                    glue={glue}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default WorkspacesElementCreationWrapper;\r\n","import AddWorkspaceButton from './defaultComponents/AddWorkspaceButton';\r\nimport CloseFrameButton from './defaultComponents/CloseFrameButton';\r\nimport GlueLogo from './defaultComponents/GlueLogo';\r\nimport MaximizeFrameButton from './defaultComponents/MaximizeFrameButton';\r\nimport MinimizeFrameButton from './defaultComponents/MinimizeFrameButton';\r\nimport AddApplicationPopup from './defaultComponents/popups/addApplication/AddApplicationPopup';\r\nimport AddWorkspacePopup from './defaultComponents/popups/addWorkspace/AddWorkspacePopup';\r\nimport SaveWorkspacePopup from './defaultComponents/popups/saveWorkspace/SaveWorkspacePopup';\r\nimport WorkspaceContents from \"./defaultComponents/WorkspaceContents\";\r\nimport useWorkspacePopup from './useWorkspacePopup';\r\nimport useWorkspaceWindowClicked from './useWorkspaceWindowClicked';\r\n\r\nimport WorkspacePopup from './WorkspacePopup';\r\nimport {\r\n    Bounds,\r\n    WorkspacesManager,\r\n    WorkspacesProps,\r\n    AddWorkspaceButtonProps,\r\n    MaximizeFrameButtonProps,\r\n    MinimizeFrameButtonProps,\r\n    SaveWorkspacePopupComponentProps,\r\n    AddWorkspacePopupComponentProps,\r\n    AddApplicationPopupComponentProps,\r\n    AddWorkspacePopupProps,\r\n    SaveWorkspacePopupProps,\r\n    AddApplicationPopupProps,\r\n    WorkspaceContentsProps\r\n} from './types/internal';\r\nimport WorkspacesElementCreationWrapper from './WorkspacesElementCreationWrapper'\r\nimport workspacesManager from './workspacesManager';\r\n\r\nexport {\r\n    SaveWorkspacePopup,\r\n    AddWorkspacePopup,\r\n    AddApplicationPopup,\r\n    CloseFrameButton,\r\n    GlueLogo,\r\n    MaximizeFrameButton,\r\n    MinimizeFrameButton,\r\n    AddWorkspaceButton,\r\n    WorkspacePopup,\r\n    useWorkspacePopup,\r\n    useWorkspaceWindowClicked,\r\n    WorkspaceContents\r\n};\r\nexport const notifyMoveAreaChanged: () => void = () => workspacesManager?.notifyMoveAreaChanged();\r\nexport const getComponentBounds: () => Bounds = () => workspacesManager?.getComponentBounds();\r\nexport const getFrameId: () => string = () => workspacesManager?.getFrameId();\r\n\r\nexport {\r\n    WorkspacesProps,\r\n    Bounds,\r\n    AddWorkspaceButtonProps,\r\n    MaximizeFrameButtonProps,\r\n    MinimizeFrameButtonProps,\r\n    SaveWorkspacePopupComponentProps,\r\n    AddWorkspacePopupComponentProps,\r\n    AddApplicationPopupComponentProps,\r\n    AddWorkspacePopupProps,\r\n    SaveWorkspacePopupProps,\r\n    AddApplicationPopupProps,\r\n    WorkspaceContentsProps\r\n};\r\nexport default WorkspacesElementCreationWrapper;","(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, (global.desktop = global.desktop || {}, global.desktop.browser = factory()));\n}(this, (function () { 'use strict';\n\n    /*! *****************************************************************************\r\n    Copyright (c) Microsoft Corporation. All rights reserved.\r\n    Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\n    this file except in compliance with the License. You may obtain a copy of the\r\n    License at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\n    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\n    MERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\n    See the Apache Version 2.0 License for specific language governing permissions\r\n    and limitations under the License.\r\n    ***************************************************************************** */\r\n    /* global Reflect, Promise */\r\n\r\n    var extendStatics = function(d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n\r\n    function __extends(d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    }\r\n\r\n    var __assign = function() {\r\n        __assign = Object.assign || function __assign(t) {\r\n            for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n                s = arguments[i];\r\n                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n            }\r\n            return t;\r\n        };\r\n        return __assign.apply(this, arguments);\r\n    };\r\n\r\n    function __awaiter(thisArg, _arguments, P, generator) {\r\n        return new (P || (P = Promise))(function (resolve, reject) {\r\n            function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n            function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n            function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n        });\r\n    }\r\n\r\n    function __generator(thisArg, body) {\r\n        var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n        return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n        function verb(n) { return function (v) { return step([n, v]); }; }\r\n        function step(op) {\r\n            if (f) throw new TypeError(\"Generator is already executing.\");\r\n            while (_) try {\r\n                if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n                if (y = 0, t) op = [op[0] & 2, t.value];\r\n                switch (op[0]) {\r\n                    case 0: case 1: t = op; break;\r\n                    case 4: _.label++; return { value: op[1], done: false };\r\n                    case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                    case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                    default:\r\n                        if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                        if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                        if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                        if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                        if (t[2]) _.ops.pop();\r\n                        _.trys.pop(); continue;\r\n                }\r\n                op = body.call(thisArg, _);\r\n            } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n            if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n        }\r\n    }\n\n    /*! *****************************************************************************\r\n    Copyright (c) Microsoft Corporation. All rights reserved.\r\n    Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\n    this file except in compliance with the License. You may obtain a copy of the\r\n    License at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\n    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\n    MERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\n    See the Apache Version 2.0 License for specific language governing permissions\r\n    and limitations under the License.\r\n    ***************************************************************************** */\r\n    /* global Reflect, Promise */\r\n\r\n    var extendStatics$1 = function(d, b) {\r\n        extendStatics$1 = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics$1(d, b);\r\n    };\r\n\r\n    function __extends$1(d, b) {\r\n        extendStatics$1(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    }\r\n\r\n    var __assign$1 = function() {\r\n        __assign$1 = Object.assign || function __assign(t) {\r\n            for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n                s = arguments[i];\r\n                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n            }\r\n            return t;\r\n        };\r\n        return __assign$1.apply(this, arguments);\r\n    };\r\n\r\n    function __awaiter$1(thisArg, _arguments, P, generator) {\r\n        return new (P || (P = Promise))(function (resolve, reject) {\r\n            function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n            function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n            function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n        });\r\n    }\r\n\r\n    function __generator$1(thisArg, body) {\r\n        var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n        return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n        function verb(n) { return function (v) { return step([n, v]); }; }\r\n        function step(op) {\r\n            if (f) throw new TypeError(\"Generator is already executing.\");\r\n            while (_) try {\r\n                if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n                if (y = 0, t) op = [op[0] & 2, t.value];\r\n                switch (op[0]) {\r\n                    case 0: case 1: t = op; break;\r\n                    case 4: _.label++; return { value: op[1], done: false };\r\n                    case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                    case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                    default:\r\n                        if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                        if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                        if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                        if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                        if (t[2]) _.ops.pop();\r\n                        _.trys.pop(); continue;\r\n                }\r\n                op = body.call(thisArg, _);\r\n            } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n            if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n        }\r\n    }\r\n\r\n    function __spreadArrays() {\r\n        for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n        for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n            for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n                r[k] = a[j];\r\n        return r;\r\n    }\n\n    var MetricTypes = {\r\n        STRING: 1,\r\n        NUMBER: 2,\r\n        TIMESTAMP: 3,\r\n        OBJECT: 4\r\n    };\n\n    function getMetricTypeByValue(metric) {\r\n        if (metric.type === MetricTypes.TIMESTAMP) {\r\n            return \"timestamp\";\r\n        }\r\n        else if (metric.type === MetricTypes.NUMBER) {\r\n            return \"number\";\r\n        }\r\n        else if (metric.type === MetricTypes.STRING) {\r\n            return \"string\";\r\n        }\r\n        else if (metric.type === MetricTypes.OBJECT) {\r\n            return \"object\";\r\n        }\r\n        return \"unknown\";\r\n    }\r\n    function getTypeByValue(value) {\r\n        if (value.constructor === Date) {\r\n            return \"timestamp\";\r\n        }\r\n        else if (typeof value === \"number\") {\r\n            return \"number\";\r\n        }\r\n        else if (typeof value === \"string\") {\r\n            return \"string\";\r\n        }\r\n        else if (typeof value === \"object\") {\r\n            return \"object\";\r\n        }\r\n        else {\r\n            return \"string\";\r\n        }\r\n    }\r\n    function serializeMetric(metric) {\r\n        var serializedMetrics = {};\r\n        var type = getMetricTypeByValue(metric);\r\n        if (type === \"object\") {\r\n            var values = Object.keys(metric.value).reduce(function (memo, key) {\r\n                var innerType = getTypeByValue(metric.value[key]);\r\n                if (innerType === \"object\") {\r\n                    var composite = defineNestedComposite(metric.value[key]);\r\n                    memo[key] = {\r\n                        type: \"object\",\r\n                        description: \"\",\r\n                        context: {},\r\n                        composite: composite,\r\n                    };\r\n                }\r\n                else {\r\n                    memo[key] = {\r\n                        type: innerType,\r\n                        description: \"\",\r\n                        context: {},\r\n                    };\r\n                }\r\n                return memo;\r\n            }, {});\r\n            serializedMetrics.composite = values;\r\n        }\r\n        serializedMetrics.name = normalizeMetricName(metric.path.join(\"/\") + \"/\" + metric.name);\r\n        serializedMetrics.type = type;\r\n        serializedMetrics.description = metric.description;\r\n        serializedMetrics.context = {};\r\n        return serializedMetrics;\r\n    }\r\n    function defineNestedComposite(values) {\r\n        return Object.keys(values).reduce(function (memo, key) {\r\n            var type = getTypeByValue(values[key]);\r\n            if (type === \"object\") {\r\n                memo[key] = {\r\n                    type: \"object\",\r\n                    description: \"\",\r\n                    context: {},\r\n                    composite: defineNestedComposite(values[key]),\r\n                };\r\n            }\r\n            else {\r\n                memo[key] = {\r\n                    type: type,\r\n                    description: \"\",\r\n                    context: {},\r\n                };\r\n            }\r\n            return memo;\r\n        }, {});\r\n    }\r\n    function normalizeMetricName(name) {\r\n        if (typeof name !== \"undefined\" && name.length > 0 && name[0] !== \"/\") {\r\n            return \"/\" + name;\r\n        }\r\n        else {\r\n            return name;\r\n        }\r\n    }\r\n    function getMetricValueByType(metric) {\r\n        var type = getMetricTypeByValue(metric);\r\n        if (type === \"timestamp\") {\r\n            return Date.now();\r\n        }\r\n        else {\r\n            return publishNestedComposite(metric.value);\r\n        }\r\n    }\r\n    function publishNestedComposite(values) {\r\n        if (typeof values !== \"object\") {\r\n            return values;\r\n        }\r\n        return Object.keys(values).reduce(function (memo, key) {\r\n            var value = values[key];\r\n            if (typeof value === \"object\" && value.constructor !== Date) {\r\n                memo[key] = publishNestedComposite(value);\r\n            }\r\n            else if (value.constructor === Date) {\r\n                memo[key] = new Date(value).getTime();\r\n            }\r\n            else if (value.constructor === Boolean) {\r\n                memo[key] = value.toString();\r\n            }\r\n            else {\r\n                memo[key] = value;\r\n            }\r\n            return memo;\r\n        }, {});\r\n    }\r\n    function flatten(arr) {\r\n        return arr.reduce(function (flat, toFlatten) {\r\n            return flat.concat(Array.isArray(toFlatten) ? flatten(toFlatten) : toFlatten);\r\n        }, []);\r\n    }\r\n    function getHighestState(arr) {\r\n        return arr.sort(function (a, b) {\r\n            if (!a.state) {\r\n                return 1;\r\n            }\r\n            if (!b.state) {\r\n                return -1;\r\n            }\r\n            return b.state - a.state;\r\n        })[0];\r\n    }\r\n    function aggregateDescription(arr) {\r\n        var msg = \"\";\r\n        arr.forEach(function (m, idx, a) {\r\n            var path = m.path.join(\".\");\r\n            if (idx === a.length - 1) {\r\n                msg += path + \".\" + m.name + \": \" + m.description;\r\n            }\r\n            else {\r\n                msg += path + \".\" + m.name + \": \" + m.description + \",\";\r\n            }\r\n        });\r\n        if (msg.length > 100) {\r\n            return msg.slice(0, 100) + \"...\";\r\n        }\r\n        else {\r\n            return msg;\r\n        }\r\n    }\r\n    function composeMsgForRootStateMetric(system) {\r\n        var aggregatedState = system.root.getAggregateState();\r\n        var merged = flatten(aggregatedState);\r\n        var highestState = getHighestState(merged);\r\n        var aggregateDesc = aggregateDescription(merged);\r\n        return {\r\n            description: aggregateDesc,\r\n            value: highestState.state,\r\n        };\r\n    }\n\n    function gw3 (connection, config) {\r\n        var _this = this;\r\n        if (!connection || typeof connection !== \"object\") {\r\n            throw new Error(\"Connection is required parameter\");\r\n        }\r\n        var joinPromise;\r\n        var session;\r\n        var init = function (repo) {\r\n            var resolveReadyPromise;\r\n            joinPromise = new Promise(function (resolve) {\r\n                resolveReadyPromise = resolve;\r\n            });\r\n            session = connection.domain(\"metrics\");\r\n            session.onJoined(function (reconnect) {\r\n                if (!reconnect && resolveReadyPromise) {\r\n                    resolveReadyPromise();\r\n                    resolveReadyPromise = undefined;\r\n                }\r\n                var rootStateMetric = {\r\n                    name: \"/State\",\r\n                    type: \"object\",\r\n                    composite: {\r\n                        Description: {\r\n                            type: \"string\",\r\n                            description: \"\",\r\n                        },\r\n                        Value: {\r\n                            type: \"number\",\r\n                            description: \"\",\r\n                        },\r\n                    },\r\n                    description: \"System state\",\r\n                    context: {},\r\n                };\r\n                var defineRootMetricsMsg = {\r\n                    type: \"define\",\r\n                    metrics: [rootStateMetric],\r\n                };\r\n                session.send(defineRootMetricsMsg);\r\n                if (reconnect) {\r\n                    replayRepo(repo);\r\n                }\r\n            });\r\n            session.join({\r\n                system: config.system,\r\n                service: config.service,\r\n                instance: config.instance\r\n            });\r\n        };\r\n        var replayRepo = function (repo) {\r\n            replaySystem(repo.root);\r\n        };\r\n        var replaySystem = function (system) {\r\n            createSystem(system);\r\n            system.metrics.forEach(function (m) {\r\n                createMetric(m);\r\n            });\r\n            system.subSystems.forEach(function (ss) {\r\n                replaySystem(ss);\r\n            });\r\n        };\r\n        var createSystem = function (system) { return __awaiter$1(_this, void 0, void 0, function () {\r\n            var metric, createMetricsMsg;\r\n            return __generator$1(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (system.parent === undefined) {\r\n                            return [2];\r\n                        }\r\n                        return [4, joinPromise];\r\n                    case 1:\r\n                        _a.sent();\r\n                        metric = {\r\n                            name: normalizeMetricName(system.path.join(\"/\") + \"/\" + system.name + \"/State\"),\r\n                            type: \"object\",\r\n                            composite: {\r\n                                Description: {\r\n                                    type: \"string\",\r\n                                    description: \"\",\r\n                                },\r\n                                Value: {\r\n                                    type: \"number\",\r\n                                    description: \"\",\r\n                                },\r\n                            },\r\n                            description: \"System state\",\r\n                            context: {},\r\n                        };\r\n                        createMetricsMsg = {\r\n                            type: \"define\",\r\n                            metrics: [metric],\r\n                        };\r\n                        session.send(createMetricsMsg);\r\n                        return [2];\r\n                }\r\n            });\r\n        }); };\r\n        var updateSystem = function (system, state) { return __awaiter$1(_this, void 0, void 0, function () {\r\n            var shadowedUpdateMetric, stateObj, rootMetric;\r\n            return __generator$1(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4, joinPromise];\r\n                    case 1:\r\n                        _a.sent();\r\n                        shadowedUpdateMetric = {\r\n                            type: \"publish\",\r\n                            values: [{\r\n                                    name: normalizeMetricName(system.path.join(\"/\") + \"/\" + system.name + \"/State\"),\r\n                                    value: {\r\n                                        Description: state.description,\r\n                                        Value: state.state,\r\n                                    },\r\n                                    timestamp: Date.now(),\r\n                                }],\r\n                        };\r\n                        session.send(shadowedUpdateMetric);\r\n                        stateObj = composeMsgForRootStateMetric(system);\r\n                        rootMetric = {\r\n                            type: \"publish\",\r\n                            peer_id: connection.peerId,\r\n                            values: [{\r\n                                    name: \"/State\",\r\n                                    value: {\r\n                                        Description: stateObj.description,\r\n                                        Value: stateObj.value,\r\n                                    },\r\n                                    timestamp: Date.now(),\r\n                                }],\r\n                        };\r\n                        session.send(rootMetric);\r\n                        return [2];\r\n                }\r\n            });\r\n        }); };\r\n        var createMetric = function (metric) { return __awaiter$1(_this, void 0, void 0, function () {\r\n            var metricClone, m, createMetricsMsg;\r\n            return __generator$1(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        metricClone = cloneMetric(metric);\r\n                        return [4, joinPromise];\r\n                    case 1:\r\n                        _a.sent();\r\n                        m = serializeMetric(metricClone);\r\n                        createMetricsMsg = {\r\n                            type: \"define\",\r\n                            metrics: [m],\r\n                        };\r\n                        session.send(createMetricsMsg);\r\n                        if (typeof metricClone.value !== \"undefined\") {\r\n                            updateMetricCore(metricClone);\r\n                        }\r\n                        return [2];\r\n                }\r\n            });\r\n        }); };\r\n        var updateMetric = function (metric) { return __awaiter$1(_this, void 0, void 0, function () {\r\n            var metricClone;\r\n            return __generator$1(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        metricClone = cloneMetric(metric);\r\n                        return [4, joinPromise];\r\n                    case 1:\r\n                        _a.sent();\r\n                        updateMetricCore(metricClone);\r\n                        return [2];\r\n                }\r\n            });\r\n        }); };\r\n        var updateMetricCore = function (metric) {\r\n            if (canUpdate()) {\r\n                var value = getMetricValueByType(metric);\r\n                var publishMetricsMsg = {\r\n                    type: \"publish\",\r\n                    values: [{\r\n                            name: normalizeMetricName(metric.path.join(\"/\") + \"/\" + metric.name),\r\n                            value: value,\r\n                            timestamp: Date.now(),\r\n                        }],\r\n                };\r\n                return session.sendFireAndForget(publishMetricsMsg);\r\n            }\r\n            return Promise.resolve();\r\n        };\r\n        var cloneMetric = function (metric) {\r\n            var metricClone = __assign$1({}, metric);\r\n            if (typeof metric.value === \"object\" && metric.value !== null) {\r\n                metricClone.value = __assign$1({}, metric.value);\r\n            }\r\n            return metricClone;\r\n        };\r\n        var canUpdate = function () {\r\n            var _a;\r\n            try {\r\n                var func = (_a = config.canUpdateMetric) !== null && _a !== void 0 ? _a : (function () { return true; });\r\n                return func();\r\n            }\r\n            catch (_b) {\r\n                return true;\r\n            }\r\n        };\r\n        return {\r\n            init: init,\r\n            createSystem: createSystem,\r\n            updateSystem: updateSystem,\r\n            createMetric: createMetric,\r\n            updateMetric: updateMetric,\r\n        };\r\n    }\n\n    var Helpers = {\r\n        validate: function (definition, parent, transport) {\r\n            if (definition === null || typeof definition !== \"object\") {\r\n                throw new Error(\"Missing definition\");\r\n            }\r\n            if (parent === null || typeof parent !== \"object\") {\r\n                throw new Error(\"Missing parent\");\r\n            }\r\n            if (transport === null || typeof transport !== \"object\") {\r\n                throw new Error(\"Missing transport\");\r\n            }\r\n        },\r\n    };\n\n    var BaseMetric = (function () {\r\n        function BaseMetric(definition, system, transport, value, type) {\r\n            this.definition = definition;\r\n            this.system = system;\r\n            this.transport = transport;\r\n            this.value = value;\r\n            this.type = type;\r\n            this.path = [];\r\n            Helpers.validate(definition, system, transport);\r\n            this.path = system.path.slice(0);\r\n            this.path.push(system.name);\r\n            this.name = definition.name;\r\n            this.description = definition.description;\r\n            transport.createMetric(this);\r\n        }\r\n        Object.defineProperty(BaseMetric.prototype, \"repo\", {\r\n            get: function () {\r\n                var _a;\r\n                return (_a = this.system) === null || _a === void 0 ? void 0 : _a.repo;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(BaseMetric.prototype, \"id\", {\r\n            get: function () { return this.system.path + \"/\" + name; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        BaseMetric.prototype.update = function (newValue) {\r\n            this.value = newValue;\r\n            return this.transport.updateMetric(this);\r\n        };\r\n        return BaseMetric;\r\n    }());\n\n    var NumberMetric = (function (_super) {\r\n        __extends$1(NumberMetric, _super);\r\n        function NumberMetric(definition, system, transport, value) {\r\n            return _super.call(this, definition, system, transport, value, MetricTypes.NUMBER) || this;\r\n        }\r\n        NumberMetric.prototype.incrementBy = function (num) {\r\n            this.update(this.value + num);\r\n        };\r\n        NumberMetric.prototype.increment = function () {\r\n            this.incrementBy(1);\r\n        };\r\n        NumberMetric.prototype.decrement = function () {\r\n            this.incrementBy(-1);\r\n        };\r\n        NumberMetric.prototype.decrementBy = function (num) {\r\n            this.incrementBy(num * -1);\r\n        };\r\n        return NumberMetric;\r\n    }(BaseMetric));\n\n    var ObjectMetric = (function (_super) {\r\n        __extends$1(ObjectMetric, _super);\r\n        function ObjectMetric(definition, system, transport, value) {\r\n            return _super.call(this, definition, system, transport, value, MetricTypes.OBJECT) || this;\r\n        }\r\n        ObjectMetric.prototype.update = function (newValue) {\r\n            this.mergeValues(newValue);\r\n            return this.transport.updateMetric(this);\r\n        };\r\n        ObjectMetric.prototype.mergeValues = function (values) {\r\n            var _this = this;\r\n            return Object.keys(this.value).forEach(function (k) {\r\n                if (typeof values[k] !== \"undefined\") {\r\n                    _this.value[k] = values[k];\r\n                }\r\n            });\r\n        };\r\n        return ObjectMetric;\r\n    }(BaseMetric));\n\n    var StringMetric = (function (_super) {\r\n        __extends$1(StringMetric, _super);\r\n        function StringMetric(definition, system, transport, value) {\r\n            return _super.call(this, definition, system, transport, value, MetricTypes.STRING) || this;\r\n        }\r\n        return StringMetric;\r\n    }(BaseMetric));\n\n    var TimestampMetric = (function (_super) {\r\n        __extends$1(TimestampMetric, _super);\r\n        function TimestampMetric(definition, system, transport, value) {\r\n            return _super.call(this, definition, system, transport, value, MetricTypes.TIMESTAMP) || this;\r\n        }\r\n        TimestampMetric.prototype.now = function () {\r\n            this.update(new Date());\r\n        };\r\n        return TimestampMetric;\r\n    }(BaseMetric));\n\n    function system(name, repo, protocol, parent, description) {\r\n        if (!repo) {\r\n            throw new Error(\"Repository is required\");\r\n        }\r\n        if (!protocol) {\r\n            throw new Error(\"Transport is required\");\r\n        }\r\n        var _transport = protocol;\r\n        var _name = name;\r\n        var _description = description || \"\";\r\n        var _repo = repo;\r\n        var _parent = parent;\r\n        var _path = _buildPath(parent);\r\n        var _state = {};\r\n        var id = _arrayToString(_path, \"/\") + name;\r\n        var root = repo.root;\r\n        var _subSystems = [];\r\n        var _metrics = [];\r\n        function subSystem(nameSystem, descriptionSystem) {\r\n            if (!nameSystem || nameSystem.length === 0) {\r\n                throw new Error(\"name is required\");\r\n            }\r\n            var match = _subSystems.filter(function (s) { return s.name === nameSystem; });\r\n            if (match.length > 0) {\r\n                return match[0];\r\n            }\r\n            var _system = system(nameSystem, _repo, _transport, me, descriptionSystem);\r\n            _subSystems.push(_system);\r\n            return _system;\r\n        }\r\n        function setState(state, stateDescription) {\r\n            _state = { state: state, description: stateDescription };\r\n            _transport.updateSystem(me, _state);\r\n        }\r\n        function stringMetric(definition, value) {\r\n            return _getOrCreateMetric(definition, MetricTypes.STRING, value, function (metricDef) { return new StringMetric(metricDef, me, _transport, value); });\r\n        }\r\n        function numberMetric(definition, value) {\r\n            return _getOrCreateMetric(definition, MetricTypes.NUMBER, value, function (metricDef) { return new NumberMetric(metricDef, me, _transport, value); });\r\n        }\r\n        function objectMetric(definition, value) {\r\n            return _getOrCreateMetric(definition, MetricTypes.OBJECT, value, function (metricDef) { return new ObjectMetric(metricDef, me, _transport, value); });\r\n        }\r\n        function timestampMetric(definition, value) {\r\n            return _getOrCreateMetric(definition, MetricTypes.TIMESTAMP, value, function (metricDef) { return new TimestampMetric(metricDef, me, _transport, value); });\r\n        }\r\n        function _getOrCreateMetric(metricObject, expectedType, value, createMetric) {\r\n            var metricDef = { name: \"\" };\r\n            if (typeof metricObject === \"string\") {\r\n                metricDef = { name: metricObject };\r\n            }\r\n            else {\r\n                metricDef = metricObject;\r\n            }\r\n            var matching = _metrics.filter(function (shadowedMetric) { return shadowedMetric.name === metricDef.name; });\r\n            if (matching.length > 0) {\r\n                var existing = matching[0];\r\n                if (existing.type !== expectedType) {\r\n                    throw new Error(\"A metric named \" + metricDef.name + \" is already defined with different type.\");\r\n                }\r\n                if (typeof value !== \"undefined\") {\r\n                    existing\r\n                        .update(value)\r\n                        .catch(function () { });\r\n                }\r\n                return existing;\r\n            }\r\n            var metric = createMetric(metricDef);\r\n            _metrics.push(metric);\r\n            return metric;\r\n        }\r\n        function _buildPath(shadowedSystem) {\r\n            if (!shadowedSystem || !shadowedSystem.parent) {\r\n                return [];\r\n            }\r\n            var path = _buildPath(shadowedSystem.parent);\r\n            path.push(shadowedSystem.name);\r\n            return path;\r\n        }\r\n        function _arrayToString(path, separator) {\r\n            return ((path && path.length > 0) ? path.join(separator) : \"\");\r\n        }\r\n        function getAggregateState() {\r\n            var aggState = [];\r\n            if (Object.keys(_state).length > 0) {\r\n                aggState.push({\r\n                    name: _name,\r\n                    path: _path,\r\n                    state: _state.state,\r\n                    description: _state.description,\r\n                });\r\n            }\r\n            _subSystems.forEach(function (shadowedSubSystem) {\r\n                var result = shadowedSubSystem.getAggregateState();\r\n                if (result.length > 0) {\r\n                    aggState.push.apply(aggState, result);\r\n                }\r\n            });\r\n            return aggState;\r\n        }\r\n        var me = {\r\n            get name() {\r\n                return _name;\r\n            },\r\n            get description() {\r\n                return _description;\r\n            },\r\n            get repo() {\r\n                return _repo;\r\n            },\r\n            get parent() {\r\n                return _parent;\r\n            },\r\n            path: _path,\r\n            id: id,\r\n            root: root,\r\n            get subSystems() {\r\n                return _subSystems;\r\n            },\r\n            get metrics() {\r\n                return _metrics;\r\n            },\r\n            subSystem: subSystem,\r\n            getState: function () {\r\n                return _state;\r\n            },\r\n            setState: setState,\r\n            stringMetric: stringMetric,\r\n            timestampMetric: timestampMetric,\r\n            objectMetric: objectMetric,\r\n            numberMetric: numberMetric,\r\n            getAggregateState: getAggregateState,\r\n        };\r\n        _transport.createSystem(me);\r\n        return me;\r\n    }\n\n    var Repository = (function () {\r\n        function Repository(options, protocol) {\r\n            protocol.init(this);\r\n            this.root = system(\"\", this, protocol);\r\n            this.addSystemMetrics(this.root, options.clickStream || options.clickStream === undefined);\r\n        }\r\n        Repository.prototype.addSystemMetrics = function (rootSystem, useClickStream) {\r\n            if (typeof navigator !== \"undefined\") {\r\n                rootSystem.stringMetric(\"UserAgent\", navigator.userAgent);\r\n            }\r\n            if (useClickStream && typeof document !== \"undefined\") {\r\n                var clickStream_1 = rootSystem.subSystem(\"ClickStream\");\r\n                var documentClickHandler = function (e) {\r\n                    if (!e.target) {\r\n                        return;\r\n                    }\r\n                    var target = e.target;\r\n                    clickStream_1.objectMetric(\"LastBrowserEvent\", {\r\n                        type: \"click\",\r\n                        timestamp: new Date(),\r\n                        target: {\r\n                            className: e.target ? target.className : \"\",\r\n                            id: target.id,\r\n                            type: \"<\" + target.tagName.toLowerCase() + \">\",\r\n                            href: target.href || \"\",\r\n                        },\r\n                    });\r\n                };\r\n                clickStream_1.objectMetric(\"Page\", {\r\n                    title: document.title,\r\n                    page: window.location.href,\r\n                });\r\n                if (document.addEventListener) {\r\n                    document.addEventListener(\"click\", documentClickHandler);\r\n                }\r\n                else {\r\n                    document.attachEvent(\"onclick\", documentClickHandler);\r\n                }\r\n            }\r\n            var startTime = rootSystem.stringMetric(\"StartTime\", (new Date()).toString());\r\n            var urlMetric = rootSystem.stringMetric(\"StartURL\", \"\");\r\n            var appNameMetric = rootSystem.stringMetric(\"AppName\", \"\");\r\n            if (typeof window !== \"undefined\") {\r\n                if (typeof window.location !== \"undefined\") {\r\n                    var startUrl = window.location.href;\r\n                    urlMetric.update(startUrl);\r\n                }\r\n                if (typeof window.glue42gd !== \"undefined\") {\r\n                    appNameMetric.update(window.glue42gd.appName);\r\n                }\r\n            }\r\n        };\r\n        return Repository;\r\n    }());\n\n    var NullProtocol = (function () {\r\n        function NullProtocol() {\r\n        }\r\n        NullProtocol.prototype.init = function (repo) {\r\n        };\r\n        NullProtocol.prototype.createSystem = function (system) {\r\n            return Promise.resolve();\r\n        };\r\n        NullProtocol.prototype.updateSystem = function (metric, state) {\r\n            return Promise.resolve();\r\n        };\r\n        NullProtocol.prototype.createMetric = function (metric) {\r\n            return Promise.resolve();\r\n        };\r\n        NullProtocol.prototype.updateMetric = function (metric) {\r\n            return Promise.resolve();\r\n        };\r\n        return NullProtocol;\r\n    }());\n\n    var PerfTracker = (function () {\r\n        function PerfTracker(api, initialPublishTimeout, publishInterval) {\r\n            this.api = api;\r\n            this.lastCount = 0;\r\n            this.initialPublishTimeout = 10 * 1000;\r\n            this.publishInterval = 60 * 1000;\r\n            this.initialPublishTimeout = initialPublishTimeout !== null && initialPublishTimeout !== void 0 ? initialPublishTimeout : this.initialPublishTimeout;\r\n            this.publishInterval = publishInterval !== null && publishInterval !== void 0 ? publishInterval : this.publishInterval;\r\n            this.scheduleCollection();\r\n            this.system = this.api.subSystem(\"performance\", \"Performance data published by the web application\");\r\n        }\r\n        PerfTracker.prototype.scheduleCollection = function () {\r\n            var _this = this;\r\n            setTimeout(function () {\r\n                _this.collect();\r\n                setInterval(function () {\r\n                    _this.collect();\r\n                }, _this.publishInterval);\r\n            }, this.initialPublishTimeout);\r\n        };\r\n        PerfTracker.prototype.collect = function () {\r\n            try {\r\n                this.collectMemory();\r\n                this.collectEntries();\r\n            }\r\n            catch (_a) {\r\n            }\r\n        };\r\n        PerfTracker.prototype.collectMemory = function () {\r\n            var memory = window.performance.memory;\r\n            this.system.stringMetric(\"memory\", JSON.stringify({\r\n                totalJSHeapSize: memory.totalJSHeapSize,\r\n                usedJSHeapSize: memory.usedJSHeapSize\r\n            }));\r\n        };\r\n        PerfTracker.prototype.collectEntries = function () {\r\n            var allEntries = window.performance.getEntries();\r\n            if (allEntries.length <= this.lastCount) {\r\n                return;\r\n            }\r\n            this.lastCount = allEntries.length;\r\n            this.system.stringMetric(\"entries\", JSON.stringify(allEntries));\r\n        };\r\n        return PerfTracker;\r\n    }());\n\n    var metrics = (function (options) {\r\n        var protocol;\r\n        if (!options.connection || typeof options.connection !== \"object\") {\r\n            protocol = new NullProtocol();\r\n        }\r\n        else {\r\n            protocol = gw3(options.connection, options);\r\n        }\r\n        var repo = new Repository(options, protocol);\r\n        var rootSystem = repo.root;\r\n        if (!options.disableAutoAppSystem) {\r\n            rootSystem = rootSystem.subSystem(\"App\");\r\n        }\r\n        var api = addFAVSupport(rootSystem);\r\n        initPerf(api, options.pagePerformanceMetrics);\r\n        return api;\r\n    });\r\n    var perf;\r\n    function initPerf(api, config) {\r\n        var _a, _b;\r\n        if (typeof window === \"undefined\") {\r\n            return;\r\n        }\r\n        var perfConfig = (_b = (_a = window === null || window === void 0 ? void 0 : window.glue42gd) === null || _a === void 0 ? void 0 : _a.metrics) === null || _b === void 0 ? void 0 : _b.pagePerformanceMetrics;\r\n        if (perfConfig) {\r\n            config = perfConfig;\r\n        }\r\n        if (config === null || config === void 0 ? void 0 : config.enabled) {\r\n            perf = new PerfTracker(api, config.initialPublishTimeout, config.publishInterval);\r\n        }\r\n    }\r\n    function addFAVSupport(system) {\r\n        var reportingSystem = system.subSystem(\"reporting\");\r\n        var def = {\r\n            name: \"features\"\r\n        };\r\n        var featureMetric;\r\n        var featureMetricFunc = function (name, action, payload) {\r\n            if (typeof name === \"undefined\" || name === \"\") {\r\n                throw new Error(\"name is mandatory\");\r\n            }\r\n            else if (typeof action === \"undefined\" || action === \"\") {\r\n                throw new Error(\"action is mandatory\");\r\n            }\r\n            else if (typeof payload === \"undefined\" || payload === \"\") {\r\n                throw new Error(\"payload is mandatory\");\r\n            }\r\n            if (!featureMetric) {\r\n                featureMetric = reportingSystem.objectMetric(def, { name: name, action: action, payload: payload });\r\n            }\r\n            else {\r\n                featureMetric.update({\r\n                    name: name,\r\n                    action: action,\r\n                    payload: payload\r\n                });\r\n            }\r\n        };\r\n        system.featureMetric = featureMetricFunc;\r\n        return system;\r\n    }\n\n    function createRegistry(options) {\r\n        if (options && options.errorHandling\r\n            && typeof options.errorHandling !== \"function\"\r\n            && options.errorHandling !== \"log\"\r\n            && options.errorHandling !== \"silent\"\r\n            && options.errorHandling !== \"throw\") {\r\n            throw new Error(\"Invalid options passed to createRegistry. Prop errorHandling should be [\\\"log\\\" | \\\"silent\\\" | \\\"throw\\\" | (err) => void], but \" + typeof options.errorHandling + \" was passed\");\r\n        }\r\n        var _userErrorHandler = options && typeof options.errorHandling === \"function\" && options.errorHandling;\r\n        var callbacks = {};\r\n        function add(key, callback, replayArgumentsArr) {\r\n            var callbacksForKey = callbacks[key];\r\n            if (!callbacksForKey) {\r\n                callbacksForKey = [];\r\n                callbacks[key] = callbacksForKey;\r\n            }\r\n            callbacksForKey.push(callback);\r\n            if (replayArgumentsArr) {\r\n                setTimeout(function () {\r\n                    replayArgumentsArr.forEach(function (replayArgument) {\r\n                        var _a;\r\n                        if ((_a = callbacks[key]) === null || _a === void 0 ? void 0 : _a.includes(callback)) {\r\n                            try {\r\n                                if (Array.isArray(replayArgument)) {\r\n                                    callback.apply(undefined, replayArgument);\r\n                                }\r\n                                else {\r\n                                    callback.apply(undefined, [replayArgument]);\r\n                                }\r\n                            }\r\n                            catch (err) {\r\n                                _handleError(err, key);\r\n                            }\r\n                        }\r\n                    });\r\n                }, 0);\r\n            }\r\n            return function () {\r\n                var allForKey = callbacks[key];\r\n                if (!allForKey) {\r\n                    return;\r\n                }\r\n                allForKey = allForKey.reduce(function (acc, element, index) {\r\n                    if (!(element === callback && acc.length === index)) {\r\n                        acc.push(element);\r\n                    }\r\n                    return acc;\r\n                }, []);\r\n                if (allForKey.length === 0) {\r\n                    delete callbacks[key];\r\n                }\r\n                else {\r\n                    callbacks[key] = allForKey;\r\n                }\r\n            };\r\n        }\r\n        function execute(key) {\r\n            var argumentsArr = [];\r\n            for (var _i = 1; _i < arguments.length; _i++) {\r\n                argumentsArr[_i - 1] = arguments[_i];\r\n            }\r\n            var callbacksForKey = callbacks[key];\r\n            if (!callbacksForKey || callbacksForKey.length === 0) {\r\n                return [];\r\n            }\r\n            var results = [];\r\n            callbacksForKey.forEach(function (callback) {\r\n                try {\r\n                    var result = callback.apply(undefined, argumentsArr);\r\n                    results.push(result);\r\n                }\r\n                catch (err) {\r\n                    results.push(undefined);\r\n                    _handleError(err, key);\r\n                }\r\n            });\r\n            return results;\r\n        }\r\n        function _handleError(exceptionArtifact, key) {\r\n            var errParam = exceptionArtifact instanceof Error ? exceptionArtifact : new Error(exceptionArtifact);\r\n            if (_userErrorHandler) {\r\n                _userErrorHandler(errParam);\r\n                return;\r\n            }\r\n            var msg = \"[ERROR] callback-registry: User callback for key \\\"\" + key + \"\\\" failed: \" + errParam.stack;\r\n            if (options) {\r\n                switch (options.errorHandling) {\r\n                    case \"log\":\r\n                        return console.error(msg);\r\n                    case \"silent\":\r\n                        return;\r\n                    case \"throw\":\r\n                        throw new Error(msg);\r\n                }\r\n            }\r\n            console.error(msg);\r\n        }\r\n        function clear() {\r\n            callbacks = {};\r\n        }\r\n        function clearKey(key) {\r\n            var callbacksForKey = callbacks[key];\r\n            if (!callbacksForKey) {\r\n                return;\r\n            }\r\n            delete callbacks[key];\r\n        }\r\n        return {\r\n            add: add,\r\n            execute: execute,\r\n            clear: clear,\r\n            clearKey: clearKey\r\n        };\r\n    }\r\n    createRegistry.default = createRegistry;\r\n    var lib = createRegistry;\n\n    var InProcTransport = (function () {\r\n        function InProcTransport(settings, logger) {\r\n            var _this = this;\r\n            this.registry = lib();\r\n            this.gw = settings.facade;\r\n            this.gw.connect(function (_client, message) {\r\n                _this.messageHandler(message);\r\n            }).then(function (client) {\r\n                _this.client = client;\r\n            });\r\n        }\r\n        Object.defineProperty(InProcTransport.prototype, \"isObjectBasedTransport\", {\r\n            get: function () {\r\n                return true;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        InProcTransport.prototype.sendObject = function (msg) {\r\n            if (this.client) {\r\n                this.client.send(msg);\r\n                return Promise.resolve(undefined);\r\n            }\r\n            else {\r\n                return Promise.reject(\"not connected\");\r\n            }\r\n        };\r\n        InProcTransport.prototype.send = function (_msg) {\r\n            return Promise.reject(\"not supported\");\r\n        };\r\n        InProcTransport.prototype.onMessage = function (callback) {\r\n            return this.registry.add(\"onMessage\", callback);\r\n        };\r\n        InProcTransport.prototype.onConnectedChanged = function (callback) {\r\n            callback(true);\r\n        };\r\n        InProcTransport.prototype.close = function () {\r\n            return Promise.resolve();\r\n        };\r\n        InProcTransport.prototype.open = function () {\r\n            return Promise.resolve();\r\n        };\r\n        InProcTransport.prototype.name = function () {\r\n            return \"in-memory\";\r\n        };\r\n        InProcTransport.prototype.reconnect = function () {\r\n            return Promise.resolve();\r\n        };\r\n        InProcTransport.prototype.messageHandler = function (msg) {\r\n            this.registry.execute(\"onMessage\", msg);\r\n        };\r\n        return InProcTransport;\r\n    }());\n\n    var SharedWorkerTransport = (function () {\r\n        function SharedWorkerTransport(workerFile, logger) {\r\n            var _this = this;\r\n            this.logger = logger;\r\n            this.registry = lib();\r\n            this.worker = new SharedWorker(workerFile);\r\n            this.worker.port.onmessage = function (e) {\r\n                _this.messageHandler(e.data);\r\n            };\r\n        }\r\n        Object.defineProperty(SharedWorkerTransport.prototype, \"isObjectBasedTransport\", {\r\n            get: function () {\r\n                return true;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        SharedWorkerTransport.prototype.sendObject = function (msg) {\r\n            this.worker.port.postMessage(msg);\r\n            return Promise.resolve();\r\n        };\r\n        SharedWorkerTransport.prototype.send = function (_msg) {\r\n            return Promise.reject(\"not supported\");\r\n        };\r\n        SharedWorkerTransport.prototype.onMessage = function (callback) {\r\n            return this.registry.add(\"onMessage\", callback);\r\n        };\r\n        SharedWorkerTransport.prototype.onConnectedChanged = function (callback) {\r\n            callback(true);\r\n        };\r\n        SharedWorkerTransport.prototype.close = function () {\r\n            return Promise.resolve();\r\n        };\r\n        SharedWorkerTransport.prototype.open = function () {\r\n            return Promise.resolve();\r\n        };\r\n        SharedWorkerTransport.prototype.name = function () {\r\n            return \"shared-worker\";\r\n        };\r\n        SharedWorkerTransport.prototype.reconnect = function () {\r\n            return Promise.resolve();\r\n        };\r\n        SharedWorkerTransport.prototype.messageHandler = function (msg) {\r\n            this.registry.execute(\"onMessage\", msg);\r\n        };\r\n        return SharedWorkerTransport;\r\n    }());\n\n    var Utils = (function () {\r\n        function Utils() {\r\n        }\r\n        Utils.getGDMajorVersion = function () {\r\n            if (typeof window === \"undefined\") {\r\n                return undefined;\r\n            }\r\n            if (!window.glueDesktop) {\r\n                return undefined;\r\n            }\r\n            if (!window.glueDesktop.version) {\r\n                return undefined;\r\n            }\r\n            var ver = Number(window.glueDesktop.version.substr(0, 1));\r\n            return isNaN(ver) ? undefined : ver;\r\n        };\r\n        Utils.isNode = function () {\r\n            if (typeof Utils._isNode !== \"undefined\") {\r\n                return Utils._isNode;\r\n            }\r\n            if (typeof window !== \"undefined\") {\r\n                Utils._isNode = false;\r\n                return false;\r\n            }\r\n            try {\r\n                Utils._isNode = Object.prototype.toString.call(global.process) === \"[object process]\";\r\n            }\r\n            catch (e) {\r\n                Utils._isNode = false;\r\n            }\r\n            return Utils._isNode;\r\n        };\r\n        return Utils;\r\n    }());\n\n    var PromiseWrapper = (function () {\r\n        function PromiseWrapper() {\r\n            var _this = this;\r\n            this.rejected = false;\r\n            this.resolved = false;\r\n            this.promise = new Promise(function (resolve, reject) {\r\n                _this.resolve = function (t) {\r\n                    _this.resolved = true;\r\n                    resolve(t);\r\n                };\r\n                _this.reject = function (err) {\r\n                    _this.rejected = true;\r\n                    reject(err);\r\n                };\r\n            });\r\n        }\r\n        PromiseWrapper.delay = function (time) {\r\n            return new Promise(function (resolve) { return setTimeout(resolve, time); });\r\n        };\r\n        Object.defineProperty(PromiseWrapper.prototype, \"ended\", {\r\n            get: function () {\r\n                return this.rejected || this.resolved;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        return PromiseWrapper;\r\n    }());\n\n    var timers = {};\r\n    function getAllTimers() {\r\n        return timers;\r\n    }\r\n    function timer (timerName) {\r\n        var existing = timers[timerName];\r\n        if (existing) {\r\n            return existing;\r\n        }\r\n        var marks = [];\r\n        function now() {\r\n            return new Date().getTime();\r\n        }\r\n        var startTime = now();\r\n        mark(\"start\", startTime);\r\n        var endTime;\r\n        var period;\r\n        function stop() {\r\n            endTime = now();\r\n            mark(\"end\", endTime);\r\n            period = endTime - startTime;\r\n            return period;\r\n        }\r\n        function mark(name, time) {\r\n            var currentTime = time !== null && time !== void 0 ? time : now();\r\n            var diff = 0;\r\n            if (marks.length > 0) {\r\n                diff = currentTime - marks[marks.length - 1].time;\r\n            }\r\n            marks.push({ name: name, time: currentTime, diff: diff });\r\n        }\r\n        var timerObj = {\r\n            get startTime() {\r\n                return startTime;\r\n            },\r\n            get endTime() {\r\n                return endTime;\r\n            },\r\n            get period() {\r\n                return period;\r\n            },\r\n            stop: stop,\r\n            mark: mark,\r\n            marks: marks\r\n        };\r\n        timers[timerName] = timerObj;\r\n        return timerObj;\r\n    }\n\n    var WebSocketConstructor = Utils.isNode() ? null : window.WebSocket;\r\n    var WS = (function () {\r\n        function WS(settings, logger) {\r\n            this.startupTimer = timer(\"connection\");\r\n            this._running = true;\r\n            this._registry = lib();\r\n            this.wsRequests = [];\r\n            this.settings = settings;\r\n            this.logger = logger;\r\n            if (!this.settings.ws) {\r\n                throw new Error(\"ws is missing\");\r\n            }\r\n        }\r\n        WS.prototype.onMessage = function (callback) {\r\n            return this._registry.add(\"onMessage\", callback);\r\n        };\r\n        WS.prototype.send = function (msg, options) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.waitForSocketConnection(function () {\r\n                    var _a;\r\n                    try {\r\n                        (_a = _this.ws) === null || _a === void 0 ? void 0 : _a.send(msg);\r\n                        resolve();\r\n                    }\r\n                    catch (e) {\r\n                        reject(e);\r\n                    }\r\n                }, reject);\r\n            });\r\n        };\r\n        WS.prototype.open = function () {\r\n            var _this = this;\r\n            this.logger.info(\"opening ws...\");\r\n            this._running = true;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.waitForSocketConnection(resolve, reject);\r\n            });\r\n        };\r\n        WS.prototype.close = function () {\r\n            this._running = false;\r\n            if (this.ws) {\r\n                this.ws.close();\r\n            }\r\n            return Promise.resolve();\r\n        };\r\n        WS.prototype.onConnectedChanged = function (callback) {\r\n            return this._registry.add(\"onConnectedChanged\", callback);\r\n        };\r\n        WS.prototype.name = function () {\r\n            return \"ws \" + this.settings.ws;\r\n        };\r\n        WS.prototype.reconnect = function () {\r\n            var _a;\r\n            (_a = this.ws) === null || _a === void 0 ? void 0 : _a.close();\r\n            var pw = new PromiseWrapper();\r\n            this.waitForSocketConnection(function () {\r\n                pw.resolve();\r\n            });\r\n            return pw.promise;\r\n        };\r\n        WS.prototype.waitForSocketConnection = function (callback, failed) {\r\n            var _a;\r\n            failed = failed !== null && failed !== void 0 ? failed : (function () { });\r\n            if (!this._running) {\r\n                failed(\"wait for socket on \" + this.settings.ws + \" failed - socket closed by user\");\r\n                return;\r\n            }\r\n            if (((_a = this.ws) === null || _a === void 0 ? void 0 : _a.readyState) === 1) {\r\n                callback();\r\n                return;\r\n            }\r\n            this.wsRequests.push({ callback: callback, failed: failed });\r\n            if (this.wsRequests.length > 1) {\r\n                return;\r\n            }\r\n            this.openSocket();\r\n        };\r\n        WS.prototype.openSocket = function (retryInterval, retriesLeft) {\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var _a;\r\n                var _this = this;\r\n                return __generator$1(this, function (_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            this.startupTimer.mark(\"opening-socket\");\r\n                            if (retryInterval === undefined) {\r\n                                retryInterval = this.settings.reconnectInterval;\r\n                            }\r\n                            if (retriesLeft !== undefined) {\r\n                                if (retriesLeft === 0) {\r\n                                    this.notifyForSocketState(\"wait for socket on \" + this.settings.ws + \" failed - no more retries left\");\r\n                                    return [2];\r\n                                }\r\n                                this.logger.debug(\"will retry \" + retriesLeft + \" more times (every \" + retryInterval + \" ms)\");\r\n                            }\r\n                            _b.label = 1;\r\n                        case 1:\r\n                            _b.trys.push([1, 3, , 4]);\r\n                            return [4, this.initiateSocket()];\r\n                        case 2:\r\n                            _b.sent();\r\n                            this.startupTimer.mark(\"socket-initiated\");\r\n                            this.notifyForSocketState();\r\n                            return [3, 4];\r\n                        case 3:\r\n                            _a = _b.sent();\r\n                            setTimeout(function () {\r\n                                var retries = retriesLeft === undefined ? undefined : retriesLeft - 1;\r\n                                _this.openSocket(retryInterval, retries);\r\n                            }, retryInterval);\r\n                            return [3, 4];\r\n                        case 4: return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        WS.prototype.initiateSocket = function () {\r\n            var _this = this;\r\n            var pw = new PromiseWrapper();\r\n            this.logger.debug(\"initiating ws to \" + this.settings.ws + \"...\");\r\n            this.ws = new WebSocketConstructor(this.settings.ws || \"\");\r\n            this.ws.onerror = function (err) {\r\n                var reason = \"\";\r\n                try {\r\n                    reason = JSON.stringify(err);\r\n                }\r\n                catch (error) {\r\n                    var seen_1 = new WeakSet();\r\n                    var replacer = function (key, value) {\r\n                        if (typeof value === \"object\" && value !== null) {\r\n                            if (seen_1.has(value)) {\r\n                                return;\r\n                            }\r\n                            seen_1.add(value);\r\n                        }\r\n                        return value;\r\n                    };\r\n                    reason = JSON.stringify(err, replacer);\r\n                }\r\n                pw.reject(\"error\");\r\n                _this.notifyStatusChanged(false, reason);\r\n            };\r\n            this.ws.onclose = function (err) {\r\n                _this.logger.info(\"ws closed \" + err);\r\n                pw.reject(\"closed\");\r\n                _this.notifyStatusChanged(false);\r\n            };\r\n            this.ws.onopen = function () {\r\n                var _a;\r\n                _this.startupTimer.mark(\"ws-opened\");\r\n                _this.logger.info(\"ws opened \" + ((_a = _this.settings.identity) === null || _a === void 0 ? void 0 : _a.application));\r\n                pw.resolve();\r\n                _this.notifyStatusChanged(true);\r\n            };\r\n            this.ws.onmessage = function (message) {\r\n                _this._registry.execute(\"onMessage\", message.data);\r\n            };\r\n            return pw.promise;\r\n        };\r\n        WS.prototype.notifyForSocketState = function (error) {\r\n            this.wsRequests.forEach(function (wsRequest) {\r\n                if (error) {\r\n                    if (wsRequest.failed) {\r\n                        wsRequest.failed(error);\r\n                    }\r\n                }\r\n                else {\r\n                    wsRequest.callback();\r\n                }\r\n            });\r\n            this.wsRequests = [];\r\n        };\r\n        WS.prototype.notifyStatusChanged = function (status, reason) {\r\n            this._registry.execute(\"onConnectedChanged\", status, reason);\r\n        };\r\n        return WS;\r\n    }());\n\n    function createCommonjsModule(fn, module) {\n    \treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n    }\n\n    // Found this seed-based random generator somewhere\n    // Based on The Central Randomizer 1.3 (C) 1997 by Paul Houle (houle@msc.cornell.edu)\n\n    var seed = 1;\n\n    /**\n     * return a random number based on a seed\n     * @param seed\n     * @returns {number}\n     */\n    function getNextValue() {\n        seed = (seed * 9301 + 49297) % 233280;\n        return seed/(233280.0);\n    }\n\n    function setSeed(_seed_) {\n        seed = _seed_;\n    }\n\n    var randomFromSeed = {\n        nextValue: getNextValue,\n        seed: setSeed\n    };\n\n    var ORIGINAL = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-';\n    var alphabet;\n    var previousSeed;\n\n    var shuffled;\n\n    function reset() {\n        shuffled = false;\n    }\n\n    function setCharacters(_alphabet_) {\n        if (!_alphabet_) {\n            if (alphabet !== ORIGINAL) {\n                alphabet = ORIGINAL;\n                reset();\n            }\n            return;\n        }\n\n        if (_alphabet_ === alphabet) {\n            return;\n        }\n\n        if (_alphabet_.length !== ORIGINAL.length) {\n            throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. You submitted ' + _alphabet_.length + ' characters: ' + _alphabet_);\n        }\n\n        var unique = _alphabet_.split('').filter(function(item, ind, arr){\n           return ind !== arr.lastIndexOf(item);\n        });\n\n        if (unique.length) {\n            throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. These characters were not unique: ' + unique.join(', '));\n        }\n\n        alphabet = _alphabet_;\n        reset();\n    }\n\n    function characters(_alphabet_) {\n        setCharacters(_alphabet_);\n        return alphabet;\n    }\n\n    function setSeed$1(seed) {\n        randomFromSeed.seed(seed);\n        if (previousSeed !== seed) {\n            reset();\n            previousSeed = seed;\n        }\n    }\n\n    function shuffle() {\n        if (!alphabet) {\n            setCharacters(ORIGINAL);\n        }\n\n        var sourceArray = alphabet.split('');\n        var targetArray = [];\n        var r = randomFromSeed.nextValue();\n        var characterIndex;\n\n        while (sourceArray.length > 0) {\n            r = randomFromSeed.nextValue();\n            characterIndex = Math.floor(r * sourceArray.length);\n            targetArray.push(sourceArray.splice(characterIndex, 1)[0]);\n        }\n        return targetArray.join('');\n    }\n\n    function getShuffled() {\n        if (shuffled) {\n            return shuffled;\n        }\n        shuffled = shuffle();\n        return shuffled;\n    }\n\n    /**\n     * lookup shuffled letter\n     * @param index\n     * @returns {string}\n     */\n    function lookup(index) {\n        var alphabetShuffled = getShuffled();\n        return alphabetShuffled[index];\n    }\n\n    var alphabet_1 = {\n        characters: characters,\n        seed: setSeed$1,\n        lookup: lookup,\n        shuffled: getShuffled\n    };\n\n    var crypto = typeof window === 'object' && (window.crypto || window.msCrypto); // IE 11 uses window.msCrypto\n\n    function randomByte() {\n        if (!crypto || !crypto.getRandomValues) {\n            return Math.floor(Math.random() * 256) & 0x30;\n        }\n        var dest = new Uint8Array(1);\n        crypto.getRandomValues(dest);\n        return dest[0] & 0x30;\n    }\n\n    var randomByteBrowser = randomByte;\n\n    function encode(lookup, number) {\n        var loopCounter = 0;\n        var done;\n\n        var str = '';\n\n        while (!done) {\n            str = str + lookup( ( (number >> (4 * loopCounter)) & 0x0f ) | randomByteBrowser() );\n            done = number < (Math.pow(16, loopCounter + 1 ) );\n            loopCounter++;\n        }\n        return str;\n    }\n\n    var encode_1 = encode;\n\n    /**\n     * Decode the id to get the version and worker\n     * Mainly for debugging and testing.\n     * @param id - the shortid-generated id.\n     */\n    function decode(id) {\n        var characters = alphabet_1.shuffled();\n        return {\n            version: characters.indexOf(id.substr(0, 1)) & 0x0f,\n            worker: characters.indexOf(id.substr(1, 1)) & 0x0f\n        };\n    }\n\n    var decode_1 = decode;\n\n    function isShortId(id) {\n        if (!id || typeof id !== 'string' || id.length < 6 ) {\n            return false;\n        }\n\n        var characters = alphabet_1.characters();\n        var len = id.length;\n        for(var i = 0; i < len;i++) {\n            if (characters.indexOf(id[i]) === -1) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    var isValid = isShortId;\n\n    var lib$1 = createCommonjsModule(function (module) {\n\n\n\n\n\n\n    // Ignore all milliseconds before a certain time to reduce the size of the date entropy without sacrificing uniqueness.\n    // This number should be updated every year or so to keep the generated id short.\n    // To regenerate `new Date() - 0` and bump the version. Always bump the version!\n    var REDUCE_TIME = 1459707606518;\n\n    // don't change unless we change the algos or REDUCE_TIME\n    // must be an integer and less than 16\n    var version = 6;\n\n    // if you are using cluster or multiple servers use this to make each instance\n    // has a unique value for worker\n    // Note: I don't know if this is automatically set when using third\n    // party cluster solutions such as pm2.\n    var clusterWorkerId =  0;\n\n    // Counter is used when shortid is called multiple times in one second.\n    var counter;\n\n    // Remember the last time shortid was called in case counter is needed.\n    var previousSeconds;\n\n    /**\n     * Generate unique id\n     * Returns string id\n     */\n    function generate() {\n\n        var str = '';\n\n        var seconds = Math.floor((Date.now() - REDUCE_TIME) * 0.001);\n\n        if (seconds === previousSeconds) {\n            counter++;\n        } else {\n            counter = 0;\n            previousSeconds = seconds;\n        }\n\n        str = str + encode_1(alphabet_1.lookup, version);\n        str = str + encode_1(alphabet_1.lookup, clusterWorkerId);\n        if (counter > 0) {\n            str = str + encode_1(alphabet_1.lookup, counter);\n        }\n        str = str + encode_1(alphabet_1.lookup, seconds);\n\n        return str;\n    }\n\n\n    /**\n     * Set the seed.\n     * Highly recommended if you don't want people to try to figure out your id schema.\n     * exposed as shortid.seed(int)\n     * @param seed Integer value to seed the random alphabet.  ALWAYS USE THE SAME SEED or you might get overlaps.\n     */\n    function seed(seedValue) {\n        alphabet_1.seed(seedValue);\n        return module.exports;\n    }\n\n    /**\n     * Set the cluster worker or machine id\n     * exposed as shortid.worker(int)\n     * @param workerId worker must be positive integer.  Number less than 16 is recommended.\n     * returns shortid module so it can be chained.\n     */\n    function worker(workerId) {\n        clusterWorkerId = workerId;\n        return module.exports;\n    }\n\n    /**\n     *\n     * sets new characters to use in the alphabet\n     * returns the shuffled alphabet\n     */\n    function characters(newCharacters) {\n        if (newCharacters !== undefined) {\n            alphabet_1.characters(newCharacters);\n        }\n\n        return alphabet_1.shuffled();\n    }\n\n\n    // Export all other functions as properties of the generate function\n    module.exports = generate;\n    module.exports.generate = generate;\n    module.exports.seed = seed;\n    module.exports.worker = worker;\n    module.exports.characters = characters;\n    module.exports.decode = decode_1;\n    module.exports.isValid = isValid;\n    });\n    var lib_1 = lib$1.generate;\n    var lib_2 = lib$1.seed;\n    var lib_3 = lib$1.worker;\n    var lib_4 = lib$1.characters;\n    var lib_5 = lib$1.decode;\n    var lib_6 = lib$1.isValid;\n\n    var shortid = lib$1;\n\n    function domainSession (domain, connection, logger, successMessages, errorMessages) {\r\n        if (domain == null) {\r\n            domain = \"global\";\r\n        }\r\n        successMessages = successMessages || [\"success\"];\r\n        errorMessages = errorMessages || [\"error\"];\r\n        var isJoined = false;\r\n        var tryReconnecting = false;\r\n        var _latestOptions;\r\n        var _connectionOn = false;\r\n        var callbacks = lib();\r\n        connection.disconnected(handleConnectionDisconnected);\r\n        connection.loggedIn(handleConnectionLoggedIn);\r\n        connection.on(\"success\", function (msg) { return handleSuccessMessage(msg); });\r\n        connection.on(\"error\", function (msg) { return handleErrorMessage(msg); });\r\n        connection.on(\"result\", function (msg) { return handleSuccessMessage(msg); });\r\n        if (successMessages) {\r\n            successMessages.forEach(function (sm) {\r\n                connection.on(sm, function (msg) { return handleSuccessMessage(msg); });\r\n            });\r\n        }\r\n        if (errorMessages) {\r\n            errorMessages.forEach(function (sm) {\r\n                connection.on(sm, function (msg) { return handleErrorMessage(msg); });\r\n            });\r\n        }\r\n        var requestsMap = {};\r\n        function join(options) {\r\n            _latestOptions = options;\r\n            return new Promise(function (resolve, reject) {\r\n                if (isJoined) {\r\n                    resolve();\r\n                    return;\r\n                }\r\n                var joinPromise;\r\n                if (domain === \"global\") {\r\n                    joinPromise = _connectionOn ? Promise.resolve({}) : Promise.reject(\"not connected to gateway\");\r\n                }\r\n                else {\r\n                    logger.debug(\"joining domain \" + domain);\r\n                    var joinMsg = {\r\n                        type: \"join\",\r\n                        destination: domain,\r\n                        domain: \"global\",\r\n                        options: options,\r\n                    };\r\n                    joinPromise = send(joinMsg);\r\n                }\r\n                joinPromise\r\n                    .then(function () {\r\n                    handleJoined();\r\n                    resolve();\r\n                })\r\n                    .catch(function (err) {\r\n                    logger.debug(\"error joining \" + domain + \" domain: \" + JSON.stringify(err));\r\n                    reject(err);\r\n                });\r\n            });\r\n        }\r\n        function leave() {\r\n            if (domain === \"global\") {\r\n                return Promise.resolve();\r\n            }\r\n            logger.debug(\"stopping session \" + domain + \"...\");\r\n            var leaveMsg = {\r\n                type: \"leave\",\r\n                destination: domain,\r\n                domain: \"global\",\r\n            };\r\n            tryReconnecting = false;\r\n            return send(leaveMsg).then(function () {\r\n                isJoined = false;\r\n                callbacks.execute(\"onLeft\");\r\n            });\r\n        }\r\n        function handleJoined() {\r\n            logger.debug(\"did join \" + domain);\r\n            isJoined = true;\r\n            var wasReconnect = tryReconnecting;\r\n            tryReconnecting = false;\r\n            callbacks.execute(\"onJoined\", wasReconnect);\r\n        }\r\n        function handleConnectionDisconnected() {\r\n            _connectionOn = false;\r\n            logger.debug(\"connection is down\");\r\n            isJoined = false;\r\n            tryReconnecting = true;\r\n            callbacks.execute(\"onLeft\", { disconnected: true });\r\n        }\r\n        function handleConnectionLoggedIn() {\r\n            _connectionOn = true;\r\n            if (tryReconnecting) {\r\n                logger.debug(\"connection is now up - trying to reconnect...\");\r\n                join(_latestOptions);\r\n            }\r\n        }\r\n        function onJoined(callback) {\r\n            if (isJoined) {\r\n                callback(false);\r\n            }\r\n            return callbacks.add(\"onJoined\", callback);\r\n        }\r\n        function onLeft(callback) {\r\n            if (!isJoined) {\r\n                callback();\r\n            }\r\n            return callbacks.add(\"onLeft\", callback);\r\n        }\r\n        function handleErrorMessage(msg) {\r\n            if (domain !== msg.domain) {\r\n                return;\r\n            }\r\n            var requestId = msg.request_id;\r\n            if (!requestId) {\r\n                return;\r\n            }\r\n            var entry = requestsMap[requestId];\r\n            if (!entry) {\r\n                return;\r\n            }\r\n            entry.error(msg);\r\n        }\r\n        function handleSuccessMessage(msg) {\r\n            if (msg.domain !== domain) {\r\n                return;\r\n            }\r\n            var requestId = msg.request_id;\r\n            if (!requestId) {\r\n                return;\r\n            }\r\n            var entry = requestsMap[requestId];\r\n            if (!entry) {\r\n                return;\r\n            }\r\n            entry.success(msg);\r\n        }\r\n        function getNextRequestId() {\r\n            return shortid();\r\n        }\r\n        function send(msg, tag, options) {\r\n            options = options || {};\r\n            msg.request_id = msg.request_id || getNextRequestId();\r\n            msg.domain = msg.domain || domain;\r\n            if (!options.skipPeerId) {\r\n                msg.peer_id = connection.peerId;\r\n            }\r\n            var requestId = msg.request_id;\r\n            return new Promise(function (resolve, reject) {\r\n                requestsMap[requestId] = {\r\n                    success: function (successMsg) {\r\n                        delete requestsMap[requestId];\r\n                        successMsg._tag = tag;\r\n                        resolve(successMsg);\r\n                    },\r\n                    error: function (errorMsg) {\r\n                        logger.warn(\"GW error - \" + JSON.stringify(errorMsg) + \" for request \" + JSON.stringify(msg));\r\n                        delete requestsMap[requestId];\r\n                        errorMsg._tag = tag;\r\n                        reject(errorMsg);\r\n                    },\r\n                };\r\n                connection\r\n                    .send(msg, options)\r\n                    .catch(function (err) {\r\n                    requestsMap[requestId].error({ err: err });\r\n                });\r\n            });\r\n        }\r\n        function sendFireAndForget(msg) {\r\n            msg.request_id = msg.request_id ? msg.request_id : getNextRequestId();\r\n            msg.domain = msg.domain || domain;\r\n            msg.peer_id = connection.peerId;\r\n            return connection.send(msg);\r\n        }\r\n        return {\r\n            join: join,\r\n            leave: leave,\r\n            onJoined: onJoined,\r\n            onLeft: onLeft,\r\n            send: send,\r\n            sendFireAndForget: sendFireAndForget,\r\n            on: function (type, callback) {\r\n                connection.on(type, function (msg) {\r\n                    if (msg.domain !== domain) {\r\n                        return;\r\n                    }\r\n                    try {\r\n                        callback(msg);\r\n                    }\r\n                    catch (e) {\r\n                        logger.error(\"Callback  failed: \" + e + \" \\n \" + e.stack + \" \\n msg was: \" + JSON.stringify(msg), e);\r\n                    }\r\n                });\r\n            },\r\n            loggedIn: function (callback) { return connection.loggedIn(callback); },\r\n            connected: function (callback) { return connection.connected(callback); },\r\n            disconnected: function (callback) { return connection.disconnected(callback); },\r\n            get peerId() {\r\n                return connection.peerId;\r\n            },\r\n            get domain() {\r\n                return domain;\r\n            },\r\n        };\r\n    }\n\n    var GW3ProtocolImpl = (function () {\r\n        function GW3ProtocolImpl(connection, settings, logger) {\r\n            var _this = this;\r\n            this.connection = connection;\r\n            this.settings = settings;\r\n            this.logger = logger;\r\n            this.protocolVersion = 3;\r\n            this.datePrefix = \"#T42_DATE#\";\r\n            this.datePrefixLen = this.datePrefix.length;\r\n            this.dateMinLen = this.datePrefixLen + 1;\r\n            this.datePrefixFirstChar = this.datePrefix[0];\r\n            this.registry = lib();\r\n            this._isLoggedIn = false;\r\n            this.shouldTryLogin = true;\r\n            this.initialLogin = true;\r\n            this.initialLoginAttempts = 3;\r\n            this.sessions = [];\r\n            connection.disconnected(function () {\r\n                _this.handleDisconnected();\r\n            });\r\n            this.ping();\r\n        }\r\n        Object.defineProperty(GW3ProtocolImpl.prototype, \"isLoggedIn\", {\r\n            get: function () {\r\n                return this._isLoggedIn;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        GW3ProtocolImpl.prototype.processStringMessage = function (message) {\r\n            var _this = this;\r\n            var msg = JSON.parse(message, function (key, value) {\r\n                if (typeof value !== \"string\") {\r\n                    return value;\r\n                }\r\n                if (value.length < _this.dateMinLen) {\r\n                    return value;\r\n                }\r\n                if (value[0] !== _this.datePrefixFirstChar) {\r\n                    return value;\r\n                }\r\n                if (value.substring(0, _this.datePrefixLen) !== _this.datePrefix) {\r\n                    return value;\r\n                }\r\n                try {\r\n                    var milliseconds = parseInt(value.substring(_this.datePrefixLen, value.length), 10);\r\n                    if (isNaN(milliseconds)) {\r\n                        return value;\r\n                    }\r\n                    return new Date(milliseconds);\r\n                }\r\n                catch (ex) {\r\n                    return value;\r\n                }\r\n            });\r\n            return {\r\n                msg: msg,\r\n                msgType: msg.type,\r\n            };\r\n        };\r\n        GW3ProtocolImpl.prototype.createStringMessage = function (message) {\r\n            var oldToJson = Date.prototype.toJSON;\r\n            try {\r\n                var datePrefix_1 = this.datePrefix;\r\n                Date.prototype.toJSON = function () {\r\n                    return datePrefix_1 + this.getTime();\r\n                };\r\n                var result = JSON.stringify(message);\r\n                return result;\r\n            }\r\n            finally {\r\n                Date.prototype.toJSON = oldToJson;\r\n            }\r\n        };\r\n        GW3ProtocolImpl.prototype.processObjectMessage = function (message) {\r\n            if (!message.type) {\r\n                throw new Error(\"Object should have type property\");\r\n            }\r\n            return {\r\n                msg: message,\r\n                msgType: message.type,\r\n            };\r\n        };\r\n        GW3ProtocolImpl.prototype.createObjectMessage = function (message) {\r\n            return message;\r\n        };\r\n        GW3ProtocolImpl.prototype.login = function (config, reconnect) {\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var authentication, token, e_1, _a, helloMsg, sendOptions, welcomeMsg, msg, token, _b, err_1;\r\n                return __generator$1(this, function (_c) {\r\n                    switch (_c.label) {\r\n                        case 0:\r\n                            this.logger.debug(\"logging in...\");\r\n                            this.loginConfig = config;\r\n                            if (!this.loginConfig) {\r\n                                this.loginConfig = { username: \"\", password: \"\" };\r\n                            }\r\n                            this.shouldTryLogin = true;\r\n                            authentication = {};\r\n                            this.connection.gatewayToken = config.gatewayToken;\r\n                            if (!config.gatewayToken) return [3, 5];\r\n                            if (!reconnect) return [3, 4];\r\n                            _c.label = 1;\r\n                        case 1:\r\n                            _c.trys.push([1, 3, , 4]);\r\n                            return [4, this.getNewGWToken()];\r\n                        case 2:\r\n                            token = _c.sent();\r\n                            config.gatewayToken = token;\r\n                            return [3, 4];\r\n                        case 3:\r\n                            e_1 = _c.sent();\r\n                            this.logger.warn(\"failed to get GW token when reconnecting \" + ((e_1 === null || e_1 === void 0 ? void 0 : e_1.message) || e_1));\r\n                            return [3, 4];\r\n                        case 4:\r\n                            authentication.method = \"gateway-token\";\r\n                            authentication.token = config.gatewayToken;\r\n                            this.connection.gatewayToken = config.gatewayToken;\r\n                            return [3, 10];\r\n                        case 5:\r\n                            if (!(config.flowName === \"sspi\")) return [3, 9];\r\n                            authentication.provider = \"win\";\r\n                            authentication.method = \"access-token\";\r\n                            if (!(config.flowCallback && config.sessionId)) return [3, 7];\r\n                            _a = authentication;\r\n                            return [4, config.flowCallback(config.sessionId, null)];\r\n                        case 6:\r\n                            _a.token =\r\n                                (_c.sent())\r\n                                    .data\r\n                                    .toString(\"base64\");\r\n                            return [3, 8];\r\n                        case 7: throw new Error(\"Invalid SSPI config\");\r\n                        case 8: return [3, 10];\r\n                        case 9:\r\n                            if (config.token) {\r\n                                authentication.method = \"access-token\";\r\n                                authentication.token = config.token;\r\n                            }\r\n                            else if (config.username) {\r\n                                authentication.method = \"secret\";\r\n                                authentication.login = config.username;\r\n                                authentication.secret = config.password;\r\n                            }\r\n                            else {\r\n                                throw new Error(\"invalid auth message\" + JSON.stringify(config));\r\n                            }\r\n                            _c.label = 10;\r\n                        case 10:\r\n                            helloMsg = {\r\n                                type: \"hello\",\r\n                                identity: this.settings.identity,\r\n                                authentication: authentication\r\n                            };\r\n                            if (config.sessionId) {\r\n                                helloMsg.request_id = config.sessionId;\r\n                            }\r\n                            this.globalDomain = domainSession(\"global\", this.connection, this.logger.subLogger(\"global-domain\"), [\r\n                                \"welcome\",\r\n                                \"token\",\r\n                                \"authentication-request\"\r\n                            ]);\r\n                            sendOptions = { skipPeerId: true };\r\n                            if (this.initialLogin) {\r\n                                sendOptions.retryInterval = this.settings.reconnectInterval;\r\n                                sendOptions.maxRetries = this.settings.reconnectAttempts;\r\n                            }\r\n                            _c.label = 11;\r\n                        case 11:\r\n                            _c.trys.push([11, 19, 20, 21]);\r\n                            welcomeMsg = void 0;\r\n                            _c.label = 12;\r\n                        case 12:\r\n                            return [4, this.globalDomain.send(helloMsg, undefined, sendOptions)];\r\n                        case 13:\r\n                            msg = _c.sent();\r\n                            if (!(msg.type === \"authentication-request\")) return [3, 16];\r\n                            token = Buffer.from(msg.authentication.token, \"base64\");\r\n                            if (!(config.flowCallback && config.sessionId)) return [3, 15];\r\n                            _b = helloMsg.authentication;\r\n                            return [4, config.flowCallback(config.sessionId, token)];\r\n                        case 14:\r\n                            _b.token =\r\n                                (_c.sent())\r\n                                    .data\r\n                                    .toString(\"base64\");\r\n                            _c.label = 15;\r\n                        case 15:\r\n                            helloMsg.request_id = config.sessionId;\r\n                            return [3, 12];\r\n                        case 16:\r\n                            if (msg.type === \"welcome\") {\r\n                                welcomeMsg = msg;\r\n                                return [3, 18];\r\n                            }\r\n                            else if (msg.type === \"error\") {\r\n                                throw new Error(\"Authentication failed: \" + msg.reason);\r\n                            }\r\n                            else {\r\n                                throw new Error(\"Unexpected message type during authentication: \" + msg.type);\r\n                            }\r\n                        case 17: return [3, 12];\r\n                        case 18:\r\n                            this.initialLogin = false;\r\n                            this.logger.info(\"login successful with peerId \" + welcomeMsg.peer_id);\r\n                            this.connection.peerId = welcomeMsg.peer_id;\r\n                            this.connection.resolvedIdentity = welcomeMsg.resolved_identity;\r\n                            this.connection.availableDomains = welcomeMsg.available_domains;\r\n                            if (welcomeMsg.options) {\r\n                                this.connection.token = welcomeMsg.options.access_token;\r\n                                this.connection.info = welcomeMsg.options.info;\r\n                            }\r\n                            this.setLoggedIn(true);\r\n                            return [2, welcomeMsg.resolved_identity];\r\n                        case 19:\r\n                            err_1 = _c.sent();\r\n                            this.logger.error(\"error sending hello message - \" + (err_1.message || err_1.msg || err_1.reason || err_1), err_1);\r\n                            throw err_1;\r\n                        case 20:\r\n                            if (config && config.flowCallback && config.sessionId) {\r\n                                config.flowCallback(config.sessionId, null);\r\n                            }\r\n                            return [7];\r\n                        case 21: return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GW3ProtocolImpl.prototype.logout = function () {\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var promises;\r\n                return __generator$1(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            this.logger.debug(\"logging out...\");\r\n                            this.shouldTryLogin = false;\r\n                            if (this.pingTimer) {\r\n                                clearTimeout(this.pingTimer);\r\n                            }\r\n                            promises = this.sessions.map(function (session) {\r\n                                session.leave();\r\n                            });\r\n                            return [4, Promise.all(promises)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GW3ProtocolImpl.prototype.loggedIn = function (callback) {\r\n            if (this._isLoggedIn) {\r\n                callback();\r\n            }\r\n            return this.registry.add(\"onLoggedIn\", callback);\r\n        };\r\n        GW3ProtocolImpl.prototype.domain = function (domainName, domainLogger, successMessages, errorMessages) {\r\n            var session = this.sessions.filter(function (s) { return s.domain === domainName; })[0];\r\n            if (!session) {\r\n                session = domainSession(domainName, this.connection, domainLogger, successMessages, errorMessages);\r\n                this.sessions.push(session);\r\n            }\r\n            return session;\r\n        };\r\n        GW3ProtocolImpl.prototype.handleDisconnected = function () {\r\n            var _this = this;\r\n            this.setLoggedIn(false);\r\n            var tryToLogin = this.shouldTryLogin;\r\n            if (tryToLogin && this.initialLogin) {\r\n                if (this.initialLoginAttempts <= 0) {\r\n                    return;\r\n                }\r\n                this.initialLoginAttempts--;\r\n            }\r\n            this.logger.debug(\"disconnected - will try new login?\" + this.shouldTryLogin);\r\n            if (this.shouldTryLogin) {\r\n                if (!this.loginConfig) {\r\n                    throw new Error(\"no login info\");\r\n                }\r\n                this.connection.login(this.loginConfig, true)\r\n                    .catch(function () {\r\n                    setTimeout(_this.handleDisconnected, 1000);\r\n                });\r\n            }\r\n        };\r\n        GW3ProtocolImpl.prototype.setLoggedIn = function (value) {\r\n            this._isLoggedIn = value;\r\n            if (this._isLoggedIn) {\r\n                this.registry.execute(\"onLoggedIn\");\r\n            }\r\n        };\r\n        GW3ProtocolImpl.prototype.ping = function () {\r\n            var _this = this;\r\n            if (!this.shouldTryLogin) {\r\n                return;\r\n            }\r\n            if (this._isLoggedIn) {\r\n                this.connection.send({ type: \"ping\" });\r\n            }\r\n            this.pingTimer = setTimeout(function () {\r\n                _this.ping();\r\n            }, 30 * 1000);\r\n        };\r\n        GW3ProtocolImpl.prototype.authToken = function () {\r\n            var createTokenReq = {\r\n                type: \"create-token\"\r\n            };\r\n            if (!this.globalDomain) {\r\n                return Promise.reject(new Error(\"no global domain session\"));\r\n            }\r\n            return this.globalDomain.send(createTokenReq)\r\n                .then(function (res) {\r\n                return res.token;\r\n            });\r\n        };\r\n        GW3ProtocolImpl.prototype.getNewGWToken = function () {\r\n            if (typeof window !== undefined) {\r\n                var glue42gd = window.glue42gd;\r\n                if (glue42gd) {\r\n                    return glue42gd.getGWToken();\r\n                }\r\n            }\r\n            return Promise.reject(new Error(\"not running in GD\"));\r\n        };\r\n        return GW3ProtocolImpl;\r\n    }());\n\n    var MessageReplayerImpl = (function () {\r\n        function MessageReplayerImpl(specs) {\r\n            this.specsNames = [];\r\n            this.messages = {};\r\n            this.subs = {};\r\n            this.subsRefCount = {};\r\n            this.specs = {};\r\n            for (var _i = 0, specs_1 = specs; _i < specs_1.length; _i++) {\r\n                var spec = specs_1[_i];\r\n                this.specs[spec.name] = spec;\r\n                this.specsNames.push(spec.name);\r\n            }\r\n        }\r\n        MessageReplayerImpl.prototype.init = function (connection) {\r\n            var _this = this;\r\n            this.connection = connection;\r\n            for (var _i = 0, _a = this.specsNames; _i < _a.length; _i++) {\r\n                var name_1 = _a[_i];\r\n                var _loop_1 = function (type) {\r\n                    var refCount = this_1.subsRefCount[type];\r\n                    if (!refCount) {\r\n                        refCount = 0;\r\n                    }\r\n                    refCount += 1;\r\n                    this_1.subsRefCount[type] = refCount;\r\n                    if (refCount > 1) {\r\n                        return \"continue\";\r\n                    }\r\n                    var sub = connection.on(type, function (msg) { return _this.processMessage(type, msg); });\r\n                    this_1.subs[type] = sub;\r\n                };\r\n                var this_1 = this;\r\n                for (var _b = 0, _c = this.specs[name_1].types; _b < _c.length; _b++) {\r\n                    var type = _c[_b];\r\n                    _loop_1(type);\r\n                }\r\n            }\r\n        };\r\n        MessageReplayerImpl.prototype.processMessage = function (type, msg) {\r\n            if (this.isDone || !msg) {\r\n                return;\r\n            }\r\n            for (var _i = 0, _a = this.specsNames; _i < _a.length; _i++) {\r\n                var name_2 = _a[_i];\r\n                if (this.specs[name_2].types.indexOf(type) !== -1) {\r\n                    var messages = this.messages[name_2] || [];\r\n                    this.messages[name_2] = messages;\r\n                    messages.push(msg);\r\n                }\r\n            }\r\n        };\r\n        MessageReplayerImpl.prototype.drain = function (name, callback) {\r\n            var _a;\r\n            if (callback) {\r\n                (this.messages[name] || []).forEach(callback);\r\n            }\r\n            delete this.messages[name];\r\n            for (var _i = 0, _b = this.specs[name].types; _i < _b.length; _i++) {\r\n                var type = _b[_i];\r\n                this.subsRefCount[type] -= 1;\r\n                if (this.subsRefCount[type] <= 0) {\r\n                    (_a = this.connection) === null || _a === void 0 ? void 0 : _a.off(this.subs[type]);\r\n                    delete this.subs[type];\r\n                    delete this.subsRefCount[type];\r\n                }\r\n            }\r\n            delete this.specs[name];\r\n            if (!this.specs.length) {\r\n                this.isDone = true;\r\n            }\r\n        };\r\n        return MessageReplayerImpl;\r\n    }());\n\n    var Connection = (function () {\r\n        function Connection(settings, logger) {\r\n            this.settings = settings;\r\n            this.logger = logger;\r\n            this.messageHandlers = {};\r\n            this.ids = 1;\r\n            this.registry = lib();\r\n            this._connected = false;\r\n            this.isTrace = false;\r\n            settings = settings || {};\r\n            settings.reconnectAttempts = settings.reconnectAttempts || 10;\r\n            settings.reconnectInterval = settings.reconnectInterval || 1000;\r\n            if (settings.inproc) {\r\n                this.transport = new InProcTransport(settings.inproc, logger.subLogger(\"inMemory\"));\r\n            }\r\n            else if (settings.sharedWorker) {\r\n                this.transport = new SharedWorkerTransport(settings.sharedWorker, logger.subLogger(\"shared-worker\"));\r\n            }\r\n            else if (settings.ws !== undefined) {\r\n                this.transport = new WS(settings, logger.subLogger(\"ws\"));\r\n            }\r\n            else {\r\n                throw new Error(\"No connection information specified\");\r\n            }\r\n            this.isTrace = logger.canPublish(\"trace\");\r\n            logger.info(\"starting with \" + this.transport.name() + \" transport\");\r\n            this.protocol = new GW3ProtocolImpl(this, settings, logger.subLogger(\"protocol\"));\r\n            this.transport.onConnectedChanged(this.handleConnectionChanged.bind(this));\r\n            this.transport.onMessage(this.handleTransportMessage.bind(this));\r\n            if (settings.replaySpecs && settings.replaySpecs.length) {\r\n                this.replayer = new MessageReplayerImpl(settings.replaySpecs);\r\n                this.replayer.init(this);\r\n            }\r\n        }\r\n        Object.defineProperty(Connection.prototype, \"protocolVersion\", {\r\n            get: function () {\r\n                var _a;\r\n                return (_a = this.protocol) === null || _a === void 0 ? void 0 : _a.protocolVersion;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Connection.prototype.send = function (message, options) {\r\n            if (this.transport.sendObject &&\r\n                this.transport.isObjectBasedTransport) {\r\n                var msg = this.protocol.createObjectMessage(message);\r\n                if (this.isTrace) {\r\n                    this.logger.trace(\">> \" + JSON.stringify(msg));\r\n                }\r\n                return this.transport.sendObject(msg, options);\r\n            }\r\n            else {\r\n                var strMessage = this.protocol.createStringMessage(message);\r\n                if (this.isTrace) {\r\n                    this.logger.trace(\">> \" + strMessage);\r\n                }\r\n                return this.transport.send(strMessage, options);\r\n            }\r\n        };\r\n        Connection.prototype.on = function (type, messageHandler) {\r\n            type = type.toLowerCase();\r\n            if (this.messageHandlers[type] === undefined) {\r\n                this.messageHandlers[type] = {};\r\n            }\r\n            var id = this.ids++;\r\n            this.messageHandlers[type][id] = messageHandler;\r\n            return {\r\n                type: type,\r\n                id: id,\r\n            };\r\n        };\r\n        Connection.prototype.off = function (info) {\r\n            delete this.messageHandlers[info.type.toLowerCase()][info.id];\r\n        };\r\n        Object.defineProperty(Connection.prototype, \"isConnected\", {\r\n            get: function () {\r\n                return this.protocol.isLoggedIn;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Connection.prototype.connected = function (callback) {\r\n            var _this = this;\r\n            return this.protocol.loggedIn(function () {\r\n                callback(_this.settings.ws || _this.settings.sharedWorker || \"\");\r\n            });\r\n        };\r\n        Connection.prototype.disconnected = function (callback) {\r\n            return this.registry.add(\"disconnected\", callback);\r\n        };\r\n        Connection.prototype.login = function (authRequest, reconnect) {\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var identity;\r\n                return __generator$1(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.transport.open()];\r\n                        case 1:\r\n                            _a.sent();\r\n                            timer(\"connection\").mark(\"transport-opened\");\r\n                            identity = this.protocol.login(authRequest, reconnect);\r\n                            timer(\"connection\").mark(\"protocol-logged-in\");\r\n                            return [2, identity];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Connection.prototype.logout = function () {\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                return __generator$1(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.protocol.logout()];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [4, this.transport.close()];\r\n                        case 2:\r\n                            _a.sent();\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Connection.prototype.loggedIn = function (callback) {\r\n            return this.protocol.loggedIn(callback);\r\n        };\r\n        Connection.prototype.domain = function (domain, successMessages, errorMessages) {\r\n            return this.protocol.domain(domain, this.logger.subLogger(\"domain=\" + domain), successMessages, errorMessages);\r\n        };\r\n        Connection.prototype.authToken = function () {\r\n            return this.protocol.authToken();\r\n        };\r\n        Connection.prototype.reconnect = function () {\r\n            return this.transport.reconnect();\r\n        };\r\n        Connection.prototype.distributeMessage = function (message, type) {\r\n            var _this = this;\r\n            var handlers = this.messageHandlers[type.toLowerCase()];\r\n            if (handlers !== undefined) {\r\n                Object.keys(handlers).forEach(function (handlerId) {\r\n                    var handler = handlers[handlerId];\r\n                    if (handler !== undefined) {\r\n                        try {\r\n                            handler(message);\r\n                        }\r\n                        catch (error) {\r\n                            try {\r\n                                _this.logger.error(\"Message handler failed with \" + error.stack, error);\r\n                            }\r\n                            catch (loggerError) {\r\n                                console.log(\"Message handler failed\", error);\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        };\r\n        Connection.prototype.handleConnectionChanged = function (connected) {\r\n            if (this._connected === connected) {\r\n                return;\r\n            }\r\n            this._connected = connected;\r\n            if (connected) {\r\n                this.registry.execute(\"connected\");\r\n            }\r\n            else {\r\n                this.registry.execute(\"disconnected\");\r\n            }\r\n        };\r\n        Connection.prototype.handleTransportMessage = function (msg) {\r\n            var msgObj;\r\n            if (typeof msg === \"string\") {\r\n                msgObj = this.protocol.processStringMessage(msg);\r\n            }\r\n            else {\r\n                msgObj = this.protocol.processObjectMessage(msg);\r\n            }\r\n            if (this.isTrace) {\r\n                this.logger.trace(\"<< \" + JSON.stringify(msgObj));\r\n            }\r\n            this.distributeMessage(msgObj.msg, msgObj.msgType);\r\n        };\r\n        return Connection;\r\n    }());\n\n    var order = [\"trace\", \"debug\", \"info\", \"warn\", \"error\", \"off\"];\r\n    var Logger = (function () {\r\n        function Logger(name, parent, logFn) {\r\n            this.name = name;\r\n            this.parent = parent;\r\n            this.subLoggers = [];\r\n            this.logFn = console;\r\n            this.customLogFn = false;\r\n            this.name = name;\r\n            if (parent) {\r\n                this.path = parent.path + \".\" + name;\r\n            }\r\n            else {\r\n                this.path = name;\r\n            }\r\n            this.loggerFullName = \"[\" + this.path + \"]\";\r\n            this.includeTimeAndLevel = !logFn;\r\n            if (logFn) {\r\n                this.logFn = logFn;\r\n                this.customLogFn = true;\r\n            }\r\n        }\r\n        Logger.prototype.subLogger = function (name) {\r\n            var existingSub = this.subLoggers.filter(function (subLogger) {\r\n                return subLogger.name === name;\r\n            })[0];\r\n            if (existingSub !== undefined) {\r\n                return existingSub;\r\n            }\r\n            Object.keys(this).forEach(function (key) {\r\n                if (key === name) {\r\n                    throw new Error(\"This sub logger name is not allowed.\");\r\n                }\r\n            });\r\n            var sub = new Logger(name, this, this.customLogFn ? this.logFn : undefined);\r\n            this.subLoggers.push(sub);\r\n            return sub;\r\n        };\r\n        Logger.prototype.publishLevel = function (level) {\r\n            var _a;\r\n            if (level) {\r\n                this._publishLevel = level;\r\n            }\r\n            return this._publishLevel || ((_a = this.parent) === null || _a === void 0 ? void 0 : _a.publishLevel());\r\n        };\r\n        Logger.prototype.consoleLevel = function (level) {\r\n            var _a;\r\n            if (level) {\r\n                this._consoleLevel = level;\r\n            }\r\n            return this._consoleLevel || ((_a = this.parent) === null || _a === void 0 ? void 0 : _a.consoleLevel());\r\n        };\r\n        Logger.prototype.log = function (message, level, error) {\r\n            this.publishMessage(level || \"info\", message, error);\r\n        };\r\n        Logger.prototype.trace = function (message) {\r\n            this.log(message, \"trace\");\r\n        };\r\n        Logger.prototype.debug = function (message) {\r\n            this.log(message, \"debug\");\r\n        };\r\n        Logger.prototype.info = function (message) {\r\n            this.log(message, \"info\");\r\n        };\r\n        Logger.prototype.warn = function (message) {\r\n            this.log(message, \"warn\");\r\n        };\r\n        Logger.prototype.error = function (message, err) {\r\n            this.log(message, \"error\");\r\n        };\r\n        Logger.prototype.canPublish = function (level, compareWith) {\r\n            var levelIdx = order.indexOf(level);\r\n            var restrictionIdx = order.indexOf(compareWith || this.consoleLevel() || \"trace\");\r\n            return levelIdx >= restrictionIdx;\r\n        };\r\n        Logger.prototype.publishMessage = function (level, message, error) {\r\n            var loggerName = this.loggerFullName;\r\n            if (level === \"error\" && !error) {\r\n                var e = new Error();\r\n                if (e.stack) {\r\n                    message =\r\n                        message +\r\n                            \"\\n\" +\r\n                            e.stack\r\n                                .split(\"\\n\")\r\n                                .slice(3)\r\n                                .join(\"\\n\");\r\n                }\r\n            }\r\n            if (this.canPublish(level, this.publishLevel())) {\r\n                var interop = Logger.Interop;\r\n                if (interop) {\r\n                    try {\r\n                        if (interop.methods({ name: Logger.InteropMethodName }).length > 0) {\r\n                            interop.invoke(Logger.InteropMethodName, {\r\n                                msg: \"\" + message,\r\n                                logger: loggerName,\r\n                                level: level\r\n                            });\r\n                        }\r\n                    }\r\n                    catch (_a) {\r\n                    }\r\n                }\r\n            }\r\n            if (this.canPublish(level)) {\r\n                var prefix = \"\";\r\n                if (this.includeTimeAndLevel) {\r\n                    var date = new Date();\r\n                    var time = date.getHours() + \":\" + date.getMinutes() + \":\" + date.getSeconds() + \":\" + date.getMilliseconds();\r\n                    prefix = \"[\" + time + \"] [\" + level + \"] \";\r\n                }\r\n                var toPrint = \"\" + prefix + loggerName + \": \" + message;\r\n                switch (level) {\r\n                    case \"trace\":\r\n                        this.logFn.debug(toPrint);\r\n                        break;\r\n                    case \"debug\":\r\n                        if (this.logFn.debug) {\r\n                            this.logFn.debug(toPrint);\r\n                        }\r\n                        else {\r\n                            this.logFn.log(toPrint);\r\n                        }\r\n                        break;\r\n                    case \"info\":\r\n                        this.logFn.info(toPrint);\r\n                        break;\r\n                    case \"warn\":\r\n                        this.logFn.warn(toPrint);\r\n                        break;\r\n                    case \"error\":\r\n                        this.logFn.error(toPrint, error);\r\n                        break;\r\n                }\r\n            }\r\n        };\r\n        Logger.InteropMethodName = \"T42.AppLogger.Log\";\r\n        return Logger;\r\n    }());\n\n    var GW_MESSAGE_CREATE_CONTEXT = \"create-context\";\r\n    var GW_MESSAGE_ACTIVITY_CREATED = \"created\";\r\n    var GW_MESSAGE_ACTIVITY_DESTROYED = \"destroyed\";\r\n    var GW_MESSAGE_CONTEXT_CREATED = \"context-created\";\r\n    var GW_MESSAGE_CONTEXT_ADDED = \"context-added\";\r\n    var GW_MESSAGE_SUBSCRIBE_CONTEXT = \"subscribe-context\";\r\n    var GW_MESSAGE_SUBSCRIBED_CONTEXT = \"subscribed-context\";\r\n    var GW_MESSAGE_UNSUBSCRIBE_CONTEXT = \"unsubscribe-context\";\r\n    var GW_MESSAGE_DESTROY_CONTEXT = \"destroy-context\";\r\n    var GW_MESSAGE_CONTEXT_DESTROYED = \"context-destroyed\";\r\n    var GW_MESSAGE_UPDATE_CONTEXT = \"update-context\";\r\n    var GW_MESSAGE_CONTEXT_UPDATED = \"context-updated\";\r\n    var GW_MESSAGE_JOINED_ACTIVITY = \"joined\";\n\n    var ContextMessageReplaySpec = {\r\n        get name() {\r\n            return \"context\";\r\n        },\r\n        get types() {\r\n            return [\r\n                GW_MESSAGE_CREATE_CONTEXT,\r\n                GW_MESSAGE_ACTIVITY_CREATED,\r\n                GW_MESSAGE_ACTIVITY_DESTROYED,\r\n                GW_MESSAGE_CONTEXT_CREATED,\r\n                GW_MESSAGE_CONTEXT_ADDED,\r\n                GW_MESSAGE_SUBSCRIBE_CONTEXT,\r\n                GW_MESSAGE_SUBSCRIBED_CONTEXT,\r\n                GW_MESSAGE_UNSUBSCRIBE_CONTEXT,\r\n                GW_MESSAGE_DESTROY_CONTEXT,\r\n                GW_MESSAGE_CONTEXT_DESTROYED,\r\n                GW_MESSAGE_UPDATE_CONTEXT,\r\n                GW_MESSAGE_CONTEXT_UPDATED,\r\n                GW_MESSAGE_JOINED_ACTIVITY\r\n            ];\r\n        }\r\n    };\n\n    var version = \"5.2.6\";\n\n    function prepareConfig (configuration, ext, glue42gd) {\r\n        var _a, _b, _c, _d, _e;\r\n        var nodeStartingContext;\r\n        if (Utils.isNode()) {\r\n            var startingContextString = process.env._GD_STARTING_CONTEXT_;\r\n            if (startingContextString) {\r\n                try {\r\n                    nodeStartingContext = JSON.parse(startingContextString);\r\n                }\r\n                catch (_f) {\r\n                }\r\n            }\r\n        }\r\n        function getConnection() {\r\n            var _a, _b, _c, _d;\r\n            var gwConfig = configuration.gateway;\r\n            var protocolVersion = (_a = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.protocolVersion) !== null && _a !== void 0 ? _a : 3;\r\n            var reconnectInterval = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.reconnectInterval;\r\n            var reconnectAttempts = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.reconnectAttempts;\r\n            var defaultWs = \"ws://localhost:8385\";\r\n            var ws = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.ws;\r\n            var sharedWorker = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.sharedWorker;\r\n            var inproc = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.inproc;\r\n            if (glue42gd) {\r\n                ws = glue42gd.gwURL;\r\n            }\r\n            if (Utils.isNode() && nodeStartingContext && nodeStartingContext.gwURL) {\r\n                ws = nodeStartingContext.gwURL;\r\n            }\r\n            if (!ws && !sharedWorker && !inproc) {\r\n                ws = defaultWs;\r\n            }\r\n            var instanceId;\r\n            var windowId;\r\n            var pid;\r\n            var environment;\r\n            var region;\r\n            var appName = getApplication();\r\n            var uniqueAppName = appName;\r\n            if (typeof glue42gd !== \"undefined\") {\r\n                windowId = glue42gd.windowId;\r\n                pid = glue42gd.pid;\r\n                if (glue42gd.env) {\r\n                    environment = glue42gd.env.env;\r\n                    region = glue42gd.env.region;\r\n                }\r\n                uniqueAppName = (_b = glue42gd.application) !== null && _b !== void 0 ? _b : \"glue-app\";\r\n                instanceId = glue42gd.appInstanceId;\r\n            }\r\n            else if (Utils.isNode()) {\r\n                pid = process.pid;\r\n                if (nodeStartingContext) {\r\n                    environment = nodeStartingContext.env;\r\n                    region = nodeStartingContext.region;\r\n                    instanceId = nodeStartingContext.instanceId;\r\n                }\r\n            }\r\n            else {\r\n                windowId = window.name || shortid();\r\n            }\r\n            var replaySpecs = (_d = (_c = configuration.gateway) === null || _c === void 0 ? void 0 : _c.replaySpecs) !== null && _d !== void 0 ? _d : [];\r\n            replaySpecs.push(ContextMessageReplaySpec);\r\n            return {\r\n                identity: {\r\n                    application: uniqueAppName,\r\n                    applicationName: appName,\r\n                    windowId: windowId,\r\n                    instance: instanceId,\r\n                    process: pid,\r\n                    region: region,\r\n                    environment: environment,\r\n                    api: ext.version || version\r\n                },\r\n                reconnectInterval: reconnectInterval,\r\n                ws: ws,\r\n                sharedWorker: sharedWorker,\r\n                inproc: inproc,\r\n                protocolVersion: protocolVersion,\r\n                reconnectAttempts: reconnectAttempts,\r\n                replaySpecs: replaySpecs,\r\n            };\r\n        }\r\n        function getApplication() {\r\n            if (configuration.application) {\r\n                return configuration.application;\r\n            }\r\n            if (glue42gd) {\r\n                return glue42gd.applicationName;\r\n            }\r\n            var uid = shortid();\r\n            if (Utils.isNode()) {\r\n                if (nodeStartingContext) {\r\n                    return nodeStartingContext.applicationConfig.name;\r\n                }\r\n                return \"NodeJS\" + uid;\r\n            }\r\n            if (typeof window !== \"undefined\" && typeof document !== \"undefined\") {\r\n                return document.title + (\" (\" + uid + \")\");\r\n            }\r\n            return uid;\r\n        }\r\n        function getAuth() {\r\n            var _a, _b;\r\n            if (typeof configuration.auth === \"string\") {\r\n                return {\r\n                    token: configuration.auth\r\n                };\r\n            }\r\n            if (configuration.auth) {\r\n                return configuration.auth;\r\n            }\r\n            if (Utils.isNode() && nodeStartingContext && nodeStartingContext.gwToken) {\r\n                return {\r\n                    gatewayToken: nodeStartingContext.gwToken\r\n                };\r\n            }\r\n            if (((_a = configuration.gateway) === null || _a === void 0 ? void 0 : _a.inproc) || ((_b = configuration.gateway) === null || _b === void 0 ? void 0 : _b.sharedWorker)) {\r\n                return {\r\n                    username: \"glue42\", password: \"glue42\"\r\n                };\r\n            }\r\n        }\r\n        function getLogger() {\r\n            var _a, _b;\r\n            var config = configuration.logger;\r\n            var defaultLevel = \"warn\";\r\n            if (!config) {\r\n                config = defaultLevel;\r\n            }\r\n            var gdConsoleLevel;\r\n            if (glue42gd) {\r\n                gdConsoleLevel = glue42gd.consoleLogLevel;\r\n            }\r\n            if (typeof config === \"string\") {\r\n                return { console: gdConsoleLevel !== null && gdConsoleLevel !== void 0 ? gdConsoleLevel : config, publish: defaultLevel };\r\n            }\r\n            return {\r\n                console: (_a = gdConsoleLevel !== null && gdConsoleLevel !== void 0 ? gdConsoleLevel : config.console) !== null && _a !== void 0 ? _a : defaultLevel,\r\n                publish: (_b = config.publish) !== null && _b !== void 0 ? _b : defaultLevel\r\n            };\r\n        }\r\n        var connection = getConnection();\r\n        var application = getApplication();\r\n        if (typeof window !== \"undefined\") {\r\n            var windowAsAny = window;\r\n            var containerApplication = windowAsAny.htmlContainer ?\r\n                windowAsAny.htmlContainer.containerName + \".\" + windowAsAny.htmlContainer.application : (_a = windowAsAny === null || windowAsAny === void 0 ? void 0 : windowAsAny.glue42gd) === null || _a === void 0 ? void 0 : _a.application;\r\n            if (containerApplication) {\r\n                application = containerApplication;\r\n            }\r\n        }\r\n        return {\r\n            bus: (_b = configuration.bus) !== null && _b !== void 0 ? _b : false,\r\n            application: application,\r\n            auth: getAuth(),\r\n            logger: getLogger(),\r\n            connection: connection,\r\n            metrics: (_c = configuration.metrics) !== null && _c !== void 0 ? _c : true,\r\n            contexts: (_d = configuration.contexts) !== null && _d !== void 0 ? _d : true,\r\n            version: ext.version || version,\r\n            libs: (_e = ext.libs) !== null && _e !== void 0 ? _e : [],\r\n            customLogger: configuration.customLogger\r\n        };\r\n    }\n\n    var GW3ContextData = (function () {\r\n        function GW3ContextData(contextId, name, isAnnounced, activityId) {\r\n            this.updateCallbacks = {};\r\n            this.contextId = contextId;\r\n            this.name = name;\r\n            this.isAnnounced = isAnnounced;\r\n            this.activityId = activityId;\r\n            this.context = {};\r\n        }\r\n        GW3ContextData.prototype.hasCallbacks = function () {\r\n            return Object.keys(this.updateCallbacks).length > 0;\r\n        };\r\n        GW3ContextData.prototype.getState = function () {\r\n            if (this.isAnnounced && this.hasCallbacks()) {\r\n                return 3;\r\n            }\r\n            if (this.isAnnounced) {\r\n                return 2;\r\n            }\r\n            if (this.hasCallbacks()) {\r\n                return 1;\r\n            }\r\n            return 0;\r\n        };\r\n        return GW3ContextData;\r\n    }());\n\n    function applyContextDelta(context, delta, logger) {\r\n        try {\r\n            if (logger === null || logger === void 0 ? void 0 : logger.canPublish(\"trace\")) {\r\n                logger === null || logger === void 0 ? void 0 : logger.trace(\"applying context delta \" + JSON.stringify(delta) + \" on context \" + JSON.stringify(context));\r\n            }\r\n            if (!delta) {\r\n                return context;\r\n            }\r\n            if (delta.reset) {\r\n                context = __assign$1({}, delta.reset);\r\n                return context;\r\n            }\r\n            context = deepClone(context, undefined);\r\n            if (delta.commands) {\r\n                for (var _i = 0, _a = delta.commands; _i < _a.length; _i++) {\r\n                    var command = _a[_i];\r\n                    if (command.type === \"remove\") {\r\n                        deletePath(context, command.path);\r\n                    }\r\n                    else if (command.type === \"set\") {\r\n                        setValueToPath(context, command.value, command.path);\r\n                    }\r\n                }\r\n                return context;\r\n            }\r\n            var added_1 = delta.added;\r\n            var updated_1 = delta.updated;\r\n            var removed = delta.removed;\r\n            if (added_1) {\r\n                Object.keys(added_1).forEach(function (key) {\r\n                    context[key] = added_1[key];\r\n                });\r\n            }\r\n            if (updated_1) {\r\n                Object.keys(updated_1).forEach(function (key) {\r\n                    mergeObjectsProperties(key, context, updated_1);\r\n                });\r\n            }\r\n            if (removed) {\r\n                removed.forEach(function (key) {\r\n                    delete context[key];\r\n                });\r\n            }\r\n            return context;\r\n        }\r\n        catch (e) {\r\n            logger === null || logger === void 0 ? void 0 : logger.error(\"error applying context delta \" + JSON.stringify(delta) + \" on context \" + JSON.stringify(context), e);\r\n            return context;\r\n        }\r\n    }\r\n    function deepClone(obj, hash) {\r\n        hash = hash || new WeakMap();\r\n        if (Object(obj) !== obj) {\r\n            return obj;\r\n        }\r\n        if (obj instanceof Set) {\r\n            return new Set(obj);\r\n        }\r\n        if (hash.has(obj)) {\r\n            return hash.get(obj);\r\n        }\r\n        var result = obj instanceof Date ? new Date(obj)\r\n            : obj instanceof RegExp ? new RegExp(obj.source, obj.flags)\r\n                : obj.constructor ? new obj.constructor()\r\n                    : Object.create(null);\r\n        hash.set(obj, result);\r\n        if (obj instanceof Map) {\r\n            Array.from(obj, function (_a) {\r\n                var key = _a[0], val = _a[1];\r\n                return result.set(key, deepClone(val, hash));\r\n            });\r\n        }\r\n        return Object.assign.apply(Object, __spreadArrays([result], Object.keys(obj).map(function (key) {\r\n            var _a;\r\n            return (_a = {}, _a[key] = deepClone(obj[key], hash), _a);\r\n        })));\r\n    }\r\n    var mergeObjectsProperties = function (key, what, withWhat) {\r\n        var right = withWhat[key];\r\n        if (right === undefined) {\r\n            return what;\r\n        }\r\n        var left = what[key];\r\n        if (!left || !right) {\r\n            what[key] = right;\r\n            return what;\r\n        }\r\n        if (typeof left === \"string\" ||\r\n            typeof left === \"number\" ||\r\n            typeof left === \"boolean\" ||\r\n            typeof right === \"string\" ||\r\n            typeof right === \"number\" ||\r\n            typeof right === \"boolean\" ||\r\n            Array.isArray(left) ||\r\n            Array.isArray(right)) {\r\n            what[key] = right;\r\n            return what;\r\n        }\r\n        what[key] = Object.assign({}, left, right);\r\n        return what;\r\n    };\r\n    function deepEqual(x, y) {\r\n        if (x === y) {\r\n            return true;\r\n        }\r\n        if (!(x instanceof Object) || !(y instanceof Object)) {\r\n            return false;\r\n        }\r\n        if (x.constructor !== y.constructor) {\r\n            return false;\r\n        }\r\n        for (var p in x) {\r\n            if (!x.hasOwnProperty(p)) {\r\n                continue;\r\n            }\r\n            if (!y.hasOwnProperty(p)) {\r\n                return false;\r\n            }\r\n            if (x[p] === y[p]) {\r\n                continue;\r\n            }\r\n            if (typeof (x[p]) !== \"object\") {\r\n                return false;\r\n            }\r\n            if (!deepEqual(x[p], y[p])) {\r\n                return false;\r\n            }\r\n        }\r\n        for (var p in y) {\r\n            if (y.hasOwnProperty(p) && !x.hasOwnProperty(p)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    function setValueToPath(obj, value, path) {\r\n        var pathArr = path.split(\".\");\r\n        var i;\r\n        for (i = 0; i < pathArr.length - 1; i++) {\r\n            if (!obj[pathArr[i]]) {\r\n                obj[pathArr[i]] = {};\r\n            }\r\n            if (typeof obj[pathArr[i]] !== \"object\") {\r\n                obj[pathArr[i]] = {};\r\n            }\r\n            obj = obj[pathArr[i]];\r\n        }\r\n        obj[pathArr[i]] = value;\r\n    }\r\n    function deletePath(obj, path) {\r\n        var pathArr = path.split(\".\");\r\n        var i;\r\n        for (i = 0; i < pathArr.length - 1; i++) {\r\n            if (!obj[pathArr[i]]) {\r\n                return;\r\n            }\r\n            obj = obj[pathArr[i]];\r\n        }\r\n        delete obj[pathArr[i]];\r\n    }\n\n    var GW3Bridge = (function () {\r\n        function GW3Bridge(config) {\r\n            var _this = this;\r\n            var _a;\r\n            this._contextNameToData = {};\r\n            this._gw3Subscriptions = [];\r\n            this._nextCallbackSubscriptionNumber = 0;\r\n            this._contextNameToId = {};\r\n            this._contextIdToName = {};\r\n            this._protocolVersion = undefined;\r\n            this._connection = config.connection;\r\n            this._logger = config.logger;\r\n            this._gw3Session = this._connection.domain(\"global\", [\r\n                GW_MESSAGE_CONTEXT_CREATED,\r\n                GW_MESSAGE_SUBSCRIBED_CONTEXT,\r\n                GW_MESSAGE_CONTEXT_DESTROYED,\r\n                GW_MESSAGE_CONTEXT_UPDATED,\r\n            ]);\r\n            this.subscribeToContextCreatedMessages();\r\n            this.subscribeToContextUpdatedMessages();\r\n            this.subscribeToContextDestroyedMessages();\r\n            (_a = this._connection.replayer) === null || _a === void 0 ? void 0 : _a.drain(ContextMessageReplaySpec.name, function (message) {\r\n                var type = message.type;\r\n                if (!type) {\r\n                    return;\r\n                }\r\n                if (type === GW_MESSAGE_CONTEXT_CREATED ||\r\n                    type === GW_MESSAGE_CONTEXT_ADDED ||\r\n                    type === GW_MESSAGE_ACTIVITY_CREATED) {\r\n                    _this.handleContextCreatedMessage(message);\r\n                }\r\n                else if (type === GW_MESSAGE_SUBSCRIBED_CONTEXT ||\r\n                    type === GW_MESSAGE_CONTEXT_UPDATED ||\r\n                    type === GW_MESSAGE_JOINED_ACTIVITY) {\r\n                    _this.handleContextUpdatedMessage(message);\r\n                }\r\n                else if (type === GW_MESSAGE_CONTEXT_DESTROYED ||\r\n                    type === GW_MESSAGE_ACTIVITY_DESTROYED) {\r\n                    _this.handleContextDestroyedMessage(message);\r\n                }\r\n            });\r\n        }\r\n        Object.defineProperty(GW3Bridge.prototype, \"protocolVersion\", {\r\n            get: function () {\r\n                var _a;\r\n                if (!this._protocolVersion) {\r\n                    var contextsDomainInfo = this._connection.availableDomains.find(function (d) { return d.uri === \"context\"; });\r\n                    this._protocolVersion = (_a = contextsDomainInfo === null || contextsDomainInfo === void 0 ? void 0 : contextsDomainInfo.version) !== null && _a !== void 0 ? _a : 1;\r\n                }\r\n                return this._protocolVersion;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(GW3Bridge.prototype, \"setPathSupported\", {\r\n            get: function () {\r\n                return this.protocolVersion >= 2;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        GW3Bridge.prototype.dispose = function () {\r\n            for (var _i = 0, _a = this._gw3Subscriptions; _i < _a.length; _i++) {\r\n                var sub = _a[_i];\r\n                this._connection.off(sub);\r\n            }\r\n            this._gw3Subscriptions.length = 0;\r\n            for (var contextName in this._contextNameToData) {\r\n                if (this._contextNameToId.hasOwnProperty(contextName)) {\r\n                    delete this._contextNameToData[contextName];\r\n                }\r\n            }\r\n        };\r\n        GW3Bridge.prototype.createContext = function (name, data) {\r\n            var _this = this;\r\n            return this._gw3Session\r\n                .send({\r\n                type: GW_MESSAGE_CREATE_CONTEXT,\r\n                domain: \"global\",\r\n                name: name,\r\n                data: data,\r\n                lifetime: \"retained\",\r\n            })\r\n                .then(function (createContextMsg) {\r\n                _this._contextNameToId[name] = createContextMsg.context_id;\r\n                _this._contextIdToName[createContextMsg.context_id] = name;\r\n                var contextData = _this._contextNameToData[name] || new GW3ContextData(createContextMsg.context_id, name, true, undefined);\r\n                contextData.isAnnounced = true;\r\n                contextData.name = name;\r\n                contextData.contextId = createContextMsg.context_id;\r\n                contextData.context = data;\r\n                _this._contextNameToData[name] = contextData;\r\n                return createContextMsg.context_id;\r\n            });\r\n        };\r\n        GW3Bridge.prototype.all = function () {\r\n            var _this = this;\r\n            return Object.keys(this._contextNameToData)\r\n                .filter(function (name) { return _this._contextNameToData[name].isAnnounced; });\r\n        };\r\n        GW3Bridge.prototype.update = function (name, delta) {\r\n            var _a;\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var contextData, currentContext, calculatedDelta;\r\n                var _this = this;\r\n                return __generator$1(this, function (_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            contextData = this._contextNameToData[name];\r\n                            if (!contextData || !contextData.isAnnounced) {\r\n                                return [2, this.createContext(name, delta)];\r\n                            }\r\n                            currentContext = contextData.context;\r\n                            if (!!contextData.hasCallbacks()) return [3, 2];\r\n                            return [4, this.get(contextData.name)];\r\n                        case 1:\r\n                            currentContext = _b.sent();\r\n                            _b.label = 2;\r\n                        case 2:\r\n                            calculatedDelta = this.protocolVersion === 2 ?\r\n                                this.calculateContextDeltaV2(currentContext, delta) :\r\n                                this.calculateContextDeltaV1(currentContext, delta);\r\n                            if (!Object.keys(calculatedDelta.added).length\r\n                                && !Object.keys(calculatedDelta.updated).length\r\n                                && !calculatedDelta.removed.length\r\n                                && !((_a = calculatedDelta.commands) === null || _a === void 0 ? void 0 : _a.length)) {\r\n                                return [2, Promise.resolve()];\r\n                            }\r\n                            return [2, this._gw3Session\r\n                                    .send({\r\n                                    type: GW_MESSAGE_UPDATE_CONTEXT,\r\n                                    domain: \"global\",\r\n                                    context_id: contextData.contextId,\r\n                                    delta: calculatedDelta,\r\n                                }, {}, { skipPeerId: false })\r\n                                    .then(function (gwResponse) {\r\n                                    _this.handleUpdated(contextData, calculatedDelta, {\r\n                                        updaterId: gwResponse.peer_id\r\n                                    });\r\n                                })];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GW3Bridge.prototype.set = function (name, data) {\r\n            var _this = this;\r\n            var contextData = this._contextNameToData[name];\r\n            if (!contextData || !contextData.isAnnounced) {\r\n                return this.createContext(name, data);\r\n            }\r\n            return this._gw3Session\r\n                .send({\r\n                type: GW_MESSAGE_UPDATE_CONTEXT,\r\n                domain: \"global\",\r\n                context_id: contextData.contextId,\r\n                delta: { reset: data },\r\n            }, {}, { skipPeerId: false })\r\n                .then(function (gwResponse) {\r\n                _this.handleUpdated(contextData, { reset: data, added: {}, removed: [], updated: {} }, { updaterId: gwResponse.peer_id });\r\n            });\r\n        };\r\n        GW3Bridge.prototype.setPath = function (name, path, value) {\r\n            if (!this.setPathSupported) {\r\n                return Promise.reject(\"glue.contexts.setPath operation is not supported, use Glue42 3.10 or later\");\r\n            }\r\n            return this.setPaths(name, [{ path: path, value: value }]);\r\n        };\r\n        GW3Bridge.prototype.setPaths = function (name, pathValues) {\r\n            var _this = this;\r\n            if (!this.setPathSupported) {\r\n                return Promise.reject(\"glue.contexts.setPaths operation is not supported, use Glue42 3.10 or later\");\r\n            }\r\n            var contextData = this._contextNameToData[name];\r\n            if (!contextData || !contextData.isAnnounced) {\r\n                var obj = {};\r\n                for (var _i = 0, pathValues_1 = pathValues; _i < pathValues_1.length; _i++) {\r\n                    var pathValue = pathValues_1[_i];\r\n                    setValueToPath(obj, pathValue.value, pathValue.path);\r\n                }\r\n                return this.createContext(name, obj);\r\n            }\r\n            var commands = [];\r\n            for (var _a = 0, pathValues_2 = pathValues; _a < pathValues_2.length; _a++) {\r\n                var pathValue = pathValues_2[_a];\r\n                if (pathValue.value === null) {\r\n                    commands.push({ type: \"remove\", path: pathValue.path });\r\n                }\r\n                else {\r\n                    commands.push({ type: \"set\", path: pathValue.path, value: pathValue.value });\r\n                }\r\n            }\r\n            return this._gw3Session\r\n                .send({\r\n                type: GW_MESSAGE_UPDATE_CONTEXT,\r\n                domain: \"global\",\r\n                context_id: contextData.contextId,\r\n                delta: { commands: commands }\r\n            }, {}, { skipPeerId: false })\r\n                .then(function (gwResponse) {\r\n                _this.handleUpdated(contextData, { added: {}, removed: [], updated: {}, commands: commands }, { updaterId: gwResponse.peer_id });\r\n            });\r\n        };\r\n        GW3Bridge.prototype.get = function (name) {\r\n            var _this = this;\r\n            var _a;\r\n            var contextData = this._contextNameToData[name];\r\n            if (!contextData || !contextData.isAnnounced) {\r\n                return Promise.resolve({});\r\n            }\r\n            if (contextData && !contextData.hasCallbacks()) {\r\n                return new Promise(function (resolve, _) { return __awaiter$1(_this, void 0, void 0, function () {\r\n                    var _this = this;\r\n                    return __generator$1(this, function (_a) {\r\n                        this.subscribe(name, function (data, _d, _r, un) {\r\n                            _this.unsubscribe(un);\r\n                            resolve(data);\r\n                        });\r\n                        return [2];\r\n                    });\r\n                }); });\r\n            }\r\n            var context = (_a = contextData === null || contextData === void 0 ? void 0 : contextData.context) !== null && _a !== void 0 ? _a : {};\r\n            return Promise.resolve(context);\r\n        };\r\n        GW3Bridge.prototype.subscribe = function (name, callback) {\r\n            var thisCallbackSubscriptionNumber = this._nextCallbackSubscriptionNumber;\r\n            this._nextCallbackSubscriptionNumber += 1;\r\n            var contextData = this._contextNameToData[name];\r\n            if (!contextData ||\r\n                !contextData.isAnnounced) {\r\n                contextData = contextData || new GW3ContextData(undefined, name, false, undefined);\r\n                this._contextNameToData[name] = contextData;\r\n                contextData.updateCallbacks[thisCallbackSubscriptionNumber] = callback;\r\n                return Promise.resolve(thisCallbackSubscriptionNumber);\r\n            }\r\n            var hadCallbacks = contextData.hasCallbacks();\r\n            contextData.updateCallbacks[thisCallbackSubscriptionNumber] = callback;\r\n            if (!hadCallbacks) {\r\n                if (!contextData.joinedActivity) {\r\n                    if (contextData.context && contextData.sentExplicitSubscription) {\r\n                        var clone = deepClone(contextData.context);\r\n                        callback(clone, clone, [], thisCallbackSubscriptionNumber);\r\n                        return Promise.resolve(thisCallbackSubscriptionNumber);\r\n                    }\r\n                    return this.sendSubscribe(contextData)\r\n                        .then(function () { return thisCallbackSubscriptionNumber; });\r\n                }\r\n                else {\r\n                    var clone = deepClone(contextData.context);\r\n                    callback(clone, clone, [], thisCallbackSubscriptionNumber);\r\n                    return Promise.resolve(thisCallbackSubscriptionNumber);\r\n                }\r\n            }\r\n            else {\r\n                var clone = deepClone(contextData.context);\r\n                callback(clone, clone, [], thisCallbackSubscriptionNumber);\r\n                return Promise.resolve(thisCallbackSubscriptionNumber);\r\n            }\r\n        };\r\n        GW3Bridge.prototype.unsubscribe = function (subscriptionKey) {\r\n            for (var _i = 0, _a = Object.keys(this._contextNameToData); _i < _a.length; _i++) {\r\n                var name_1 = _a[_i];\r\n                var contextId = this._contextNameToId[name_1];\r\n                var contextData = this._contextNameToData[name_1];\r\n                if (!contextData) {\r\n                    return;\r\n                }\r\n                var hadCallbacks = contextData.hasCallbacks();\r\n                delete contextData.updateCallbacks[subscriptionKey];\r\n                if (contextData.isAnnounced &&\r\n                    hadCallbacks &&\r\n                    !contextData.hasCallbacks() &&\r\n                    contextData.sentExplicitSubscription) {\r\n                    this.sendUnsubscribe(contextData);\r\n                }\r\n                if (!contextData.isAnnounced &&\r\n                    !contextData.hasCallbacks()) {\r\n                    delete this._contextNameToData[name_1];\r\n                }\r\n            }\r\n        };\r\n        GW3Bridge.prototype.destroy = function (name) {\r\n            var contextData = this._contextNameToData[name];\r\n            if (!contextData) {\r\n                return Promise.reject(\"context with \" + name + \" does not exist\");\r\n            }\r\n            return this._gw3Session\r\n                .send({\r\n                type: GW_MESSAGE_DESTROY_CONTEXT,\r\n                domain: \"global\",\r\n                context_id: contextData.contextId,\r\n            }).then(function (_) { return undefined; });\r\n        };\r\n        GW3Bridge.prototype.handleUpdated = function (contextData, delta, extraData) {\r\n            var oldContext = contextData.context;\r\n            contextData.context = applyContextDelta(contextData.context, delta, this._logger);\r\n            if (this._contextNameToData[contextData.name] === contextData &&\r\n                !deepEqual(oldContext, contextData.context)) {\r\n                this.invokeUpdateCallbacks(contextData, delta, extraData);\r\n            }\r\n        };\r\n        GW3Bridge.prototype.subscribeToContextCreatedMessages = function () {\r\n            var createdMessageTypes = [\r\n                GW_MESSAGE_CONTEXT_ADDED,\r\n                GW_MESSAGE_CONTEXT_CREATED,\r\n                GW_MESSAGE_ACTIVITY_CREATED,\r\n            ];\r\n            for (var _i = 0, createdMessageTypes_1 = createdMessageTypes; _i < createdMessageTypes_1.length; _i++) {\r\n                var createdMessageType = createdMessageTypes_1[_i];\r\n                var sub = this._connection.on(createdMessageType, this.handleContextCreatedMessage.bind(this));\r\n                this._gw3Subscriptions.push(sub);\r\n            }\r\n        };\r\n        GW3Bridge.prototype.handleContextCreatedMessage = function (contextCreatedMsg) {\r\n            var createdMessageType = contextCreatedMsg.type;\r\n            if (createdMessageType === GW_MESSAGE_ACTIVITY_CREATED) {\r\n                this._contextNameToId[contextCreatedMsg.activity_id] = contextCreatedMsg.context_id;\r\n                this._contextIdToName[contextCreatedMsg.context_id] = contextCreatedMsg.activity_id;\r\n            }\r\n            else if (createdMessageType === GW_MESSAGE_CONTEXT_ADDED) {\r\n                this._contextNameToId[contextCreatedMsg.name] = contextCreatedMsg.context_id;\r\n                this._contextIdToName[contextCreatedMsg.context_id] = contextCreatedMsg.name;\r\n            }\r\n            else ;\r\n            var name = this._contextIdToName[contextCreatedMsg.context_id];\r\n            if (!name) {\r\n                throw new Error(\"Received created event for context with unknown name: \" + contextCreatedMsg.context_id);\r\n            }\r\n            if (!this._contextNameToId[name]) {\r\n                throw new Error(\"Received created event for context with unknown id: \" + contextCreatedMsg.context_id);\r\n            }\r\n            var contextData = this._contextNameToData[name];\r\n            if (contextData) {\r\n                if (contextData.isAnnounced) {\r\n                    return;\r\n                }\r\n                else {\r\n                    if (!contextData.hasCallbacks()) {\r\n                        throw new Error(\"Assertion failure: contextData.hasCallbacks()\");\r\n                    }\r\n                    contextData.isAnnounced = true;\r\n                    contextData.contextId = contextCreatedMsg.context_id;\r\n                    contextData.activityId = contextCreatedMsg.activity_id;\r\n                    if (!contextData.sentExplicitSubscription) {\r\n                        this.sendSubscribe(contextData);\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                this._contextNameToData[name] = contextData =\r\n                    new GW3ContextData(contextCreatedMsg.context_id, name, true, contextCreatedMsg.activity_id);\r\n            }\r\n        };\r\n        GW3Bridge.prototype.subscribeToContextUpdatedMessages = function () {\r\n            var updatedMessageTypes = [\r\n                GW_MESSAGE_CONTEXT_UPDATED,\r\n                GW_MESSAGE_SUBSCRIBED_CONTEXT,\r\n                GW_MESSAGE_JOINED_ACTIVITY,\r\n            ];\r\n            for (var _i = 0, updatedMessageTypes_1 = updatedMessageTypes; _i < updatedMessageTypes_1.length; _i++) {\r\n                var updatedMessageType = updatedMessageTypes_1[_i];\r\n                var sub = this._connection.on(updatedMessageType, this.handleContextUpdatedMessage.bind(this));\r\n                this._gw3Subscriptions.push(sub);\r\n            }\r\n        };\r\n        GW3Bridge.prototype.handleContextUpdatedMessage = function (contextUpdatedMsg) {\r\n            var updatedMessageType = contextUpdatedMsg.type;\r\n            var contextId = contextUpdatedMsg.context_id;\r\n            var contextData = this._contextNameToData[this._contextIdToName[contextId]];\r\n            var justSeen = !contextData || !contextData.isAnnounced;\r\n            if (updatedMessageType === GW_MESSAGE_JOINED_ACTIVITY) {\r\n                if (!contextData) {\r\n                    contextData = new GW3ContextData(contextId, contextUpdatedMsg.activity_id, true, contextUpdatedMsg.activity_id);\r\n                    this._contextNameToData[contextUpdatedMsg.activity_id] = contextData;\r\n                    this._contextIdToName[contextId] = contextUpdatedMsg.activity_id;\r\n                    this._contextNameToId[contextUpdatedMsg.activity_id] = contextId;\r\n                }\r\n                else {\r\n                    contextData.contextId = contextId;\r\n                    contextData.isAnnounced = true;\r\n                    contextData.activityId = contextUpdatedMsg.activity_id;\r\n                }\r\n                contextData.joinedActivity = true;\r\n            }\r\n            else {\r\n                if (!contextData || !contextData.isAnnounced) {\r\n                    if (updatedMessageType === GW_MESSAGE_SUBSCRIBED_CONTEXT) {\r\n                        contextData = contextData || new GW3ContextData(contextId, contextUpdatedMsg.name, true, undefined);\r\n                        contextData.sentExplicitSubscription = true;\r\n                        this._contextNameToData[contextUpdatedMsg.name] = contextData;\r\n                        this._contextIdToName[contextId] = contextUpdatedMsg.name;\r\n                        this._contextNameToId[contextUpdatedMsg.name] = contextId;\r\n                    }\r\n                    else {\r\n                        this._logger.error(\"Received 'update' for unknown context: \" + contextId);\r\n                    }\r\n                    return;\r\n                }\r\n            }\r\n            var oldContext = contextData.context;\r\n            if (updatedMessageType === GW_MESSAGE_SUBSCRIBED_CONTEXT) {\r\n                contextData.context = contextUpdatedMsg.data || {};\r\n            }\r\n            else if (updatedMessageType === GW_MESSAGE_JOINED_ACTIVITY) {\r\n                contextData.context = contextUpdatedMsg.context_snapshot || {};\r\n            }\r\n            else if (updatedMessageType === GW_MESSAGE_CONTEXT_UPDATED) {\r\n                contextData.context = applyContextDelta(contextData.context, contextUpdatedMsg.delta, this._logger);\r\n            }\r\n            else {\r\n                throw new Error(\"Unrecognized context update message \" + updatedMessageType);\r\n            }\r\n            if (justSeen ||\r\n                !deepEqual(contextData.context, oldContext) ||\r\n                updatedMessageType === GW_MESSAGE_SUBSCRIBED_CONTEXT) {\r\n                this.invokeUpdateCallbacks(contextData, contextUpdatedMsg.delta, { updaterId: contextUpdatedMsg.updater_id });\r\n            }\r\n        };\r\n        GW3Bridge.prototype.invokeUpdateCallbacks = function (contextData, delta, extraData) {\r\n            delta = delta || { added: {}, updated: {}, reset: {}, removed: [] };\r\n            if (delta.commands) {\r\n                delta.added = delta.updated = delta.reset = {};\r\n                delta.removed = [];\r\n                for (var _i = 0, _a = delta.commands; _i < _a.length; _i++) {\r\n                    var command = _a[_i];\r\n                    if (command.type === \"remove\") {\r\n                        if (command.path.indexOf(\".\") === -1) {\r\n                            delta.removed.push(command.path);\r\n                        }\r\n                        setValueToPath(delta.updated, null, command.path);\r\n                    }\r\n                    else if (command.type === \"set\") {\r\n                        setValueToPath(delta.updated, command.value, command.path);\r\n                    }\r\n                }\r\n            }\r\n            for (var updateCallbackIndex in contextData.updateCallbacks) {\r\n                if (contextData.updateCallbacks.hasOwnProperty(updateCallbackIndex)) {\r\n                    try {\r\n                        var updateCallback = contextData.updateCallbacks[updateCallbackIndex];\r\n                        updateCallback(deepClone(contextData.context), Object.assign({}, delta.added || {}, delta.updated || {}, delta.reset || {}), delta.removed, parseInt(updateCallbackIndex, 10), extraData);\r\n                    }\r\n                    catch (err) {\r\n                        this._logger.debug(\"callback error: \" + JSON.stringify(err));\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        GW3Bridge.prototype.subscribeToContextDestroyedMessages = function () {\r\n            var destroyedMessageTypes = [\r\n                GW_MESSAGE_CONTEXT_DESTROYED,\r\n                GW_MESSAGE_ACTIVITY_DESTROYED,\r\n            ];\r\n            for (var _i = 0, destroyedMessageTypes_1 = destroyedMessageTypes; _i < destroyedMessageTypes_1.length; _i++) {\r\n                var destroyedMessageType = destroyedMessageTypes_1[_i];\r\n                var sub = this._connection.on(destroyedMessageType, this.handleContextDestroyedMessage.bind(this));\r\n                this._gw3Subscriptions.push(sub);\r\n            }\r\n        };\r\n        GW3Bridge.prototype.handleContextDestroyedMessage = function (destroyedMsg) {\r\n            var destroyedMessageType = destroyedMsg.type;\r\n            var contextId;\r\n            var name;\r\n            if (destroyedMessageType === GW_MESSAGE_ACTIVITY_DESTROYED) {\r\n                name = destroyedMsg.activity_id;\r\n                contextId = this._contextNameToId[name];\r\n                if (!contextId) {\r\n                    this._logger.error(\"Received 'destroyed' for unknown activity: \" + destroyedMsg.activity_id);\r\n                    return;\r\n                }\r\n            }\r\n            else {\r\n                contextId = destroyedMsg.context_id;\r\n                name = this._contextIdToName[contextId];\r\n                if (!name) {\r\n                    this._logger.error(\"Received 'destroyed' for unknown context: \" + destroyedMsg.context_id);\r\n                    return;\r\n                }\r\n            }\r\n            delete this._contextIdToName[contextId];\r\n            delete this._contextNameToId[name];\r\n            var contextData = this._contextNameToData[name];\r\n            delete this._contextNameToData[name];\r\n            if (!contextData || !contextData.isAnnounced) {\r\n                this._logger.error(\"Received 'destroyed' for unknown context: \" + contextId);\r\n                return;\r\n            }\r\n        };\r\n        GW3Bridge.prototype.sendSubscribe = function (contextData) {\r\n            contextData.sentExplicitSubscription = true;\r\n            return this._gw3Session\r\n                .send({\r\n                type: GW_MESSAGE_SUBSCRIBE_CONTEXT,\r\n                domain: \"global\",\r\n                context_id: contextData.contextId,\r\n            }).then(function (_) { return undefined; });\r\n        };\r\n        GW3Bridge.prototype.sendUnsubscribe = function (contextData) {\r\n            contextData.sentExplicitSubscription = false;\r\n            return this._gw3Session\r\n                .send({\r\n                type: GW_MESSAGE_UNSUBSCRIBE_CONTEXT,\r\n                domain: \"global\",\r\n                context_id: contextData.contextId,\r\n            }).then(function (_) { return undefined; });\r\n        };\r\n        GW3Bridge.prototype.calculateContextDeltaV1 = function (from, to) {\r\n            var delta = { added: {}, updated: {}, removed: [], reset: undefined };\r\n            if (from) {\r\n                for (var _i = 0, _a = Object.keys(from); _i < _a.length; _i++) {\r\n                    var x = _a[_i];\r\n                    if (Object.keys(to).indexOf(x) !== -1\r\n                        && to[x] !== null\r\n                        && !deepEqual(from[x], to[x])) {\r\n                        delta.updated[x] = to[x];\r\n                    }\r\n                }\r\n            }\r\n            for (var _b = 0, _c = Object.keys(to); _b < _c.length; _b++) {\r\n                var x = _c[_b];\r\n                if (!from || (Object.keys(from).indexOf(x) === -1)) {\r\n                    if (to[x] !== null) {\r\n                        delta.added[x] = to[x];\r\n                    }\r\n                }\r\n                else if (to[x] === null) {\r\n                    delta.removed.push(x);\r\n                }\r\n            }\r\n            return delta;\r\n        };\r\n        GW3Bridge.prototype.calculateContextDeltaV2 = function (from, to) {\r\n            var _a, _b;\r\n            var delta = { added: {}, updated: {}, removed: [], reset: undefined, commands: [] };\r\n            for (var _i = 0, _c = Object.keys(to); _i < _c.length; _i++) {\r\n                var x = _c[_i];\r\n                if (to[x] !== null) {\r\n                    var fromX = from ? from[x] : null;\r\n                    if (!deepEqual(fromX, to[x])) {\r\n                        (_a = delta.commands) === null || _a === void 0 ? void 0 : _a.push({ type: \"set\", path: x, value: to[x] });\r\n                    }\r\n                }\r\n                else {\r\n                    (_b = delta.commands) === null || _b === void 0 ? void 0 : _b.push({ type: \"remove\", path: x });\r\n                }\r\n            }\r\n            return delta;\r\n        };\r\n        return GW3Bridge;\r\n    }());\n\n    var ContextsModule = (function () {\r\n        function ContextsModule(config) {\r\n            this._bridge = new GW3Bridge(config);\r\n        }\r\n        ContextsModule.prototype.all = function () {\r\n            return this._bridge.all();\r\n        };\r\n        ContextsModule.prototype.update = function (name, data) {\r\n            this.checkName(name);\r\n            this.checkData(data);\r\n            return this._bridge.update(name, data);\r\n        };\r\n        ContextsModule.prototype.set = function (name, data) {\r\n            this.checkName(name);\r\n            this.checkData(data);\r\n            return this._bridge.set(name, data);\r\n        };\r\n        ContextsModule.prototype.setPath = function (name, path, data) {\r\n            this.checkName(name);\r\n            this.checkPath(path);\r\n            var isTopLevelPath = path === \"\";\r\n            if (isTopLevelPath) {\r\n                this.checkData(data);\r\n                return this.set(name, data);\r\n            }\r\n            return this._bridge.setPath(name, path, data);\r\n        };\r\n        ContextsModule.prototype.setPaths = function (name, paths) {\r\n            this.checkName(name);\r\n            if (!Array.isArray(paths)) {\r\n                throw new Error(\"Please provide the paths as an array of PathValues!\");\r\n            }\r\n            for (var _i = 0, paths_1 = paths; _i < paths_1.length; _i++) {\r\n                var _a = paths_1[_i], path = _a.path, value = _a.value;\r\n                this.checkPath(path);\r\n                var isTopLevelPath = path === \"\";\r\n                if (isTopLevelPath) {\r\n                    this.checkData(value);\r\n                }\r\n            }\r\n            return this._bridge.setPaths(name, paths);\r\n        };\r\n        ContextsModule.prototype.subscribe = function (name, callback) {\r\n            var _this = this;\r\n            this.checkName(name);\r\n            if (typeof callback !== \"function\") {\r\n                throw new Error(\"Please provide the callback as a function!\");\r\n            }\r\n            return this._bridge\r\n                .subscribe(name, function (data, delta, removed, key, extraData) { return callback(data, delta, removed, function () { return _this._bridge.unsubscribe(key); }, extraData); })\r\n                .then(function (key) {\r\n                return function () {\r\n                    _this._bridge.unsubscribe(key);\r\n                };\r\n            });\r\n        };\r\n        ContextsModule.prototype.get = function (name) {\r\n            this.checkName(name);\r\n            return this._bridge.get(name);\r\n        };\r\n        ContextsModule.prototype.ready = function () {\r\n            return Promise.resolve(this);\r\n        };\r\n        ContextsModule.prototype.destroy = function (name) {\r\n            this.checkName(name);\r\n            return this._bridge.destroy(name);\r\n        };\r\n        Object.defineProperty(ContextsModule.prototype, \"setPathSupported\", {\r\n            get: function () {\r\n                return this._bridge.setPathSupported;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ContextsModule.prototype.checkName = function (name) {\r\n            if (typeof name !== \"string\" || name === \"\") {\r\n                throw new Error(\"Please provide the name as a non-empty string!\");\r\n            }\r\n        };\r\n        ContextsModule.prototype.checkPath = function (path) {\r\n            if (typeof path !== \"string\") {\r\n                throw new Error(\"Please provide the path as a dot delimited string!\");\r\n            }\r\n        };\r\n        ContextsModule.prototype.checkData = function (data) {\r\n            if (typeof data !== \"object\") {\r\n                throw new Error(\"Please provide the data as an object!\");\r\n            }\r\n        };\r\n        return ContextsModule;\r\n    }());\n\n    function promisify (promise, successCallback, errorCallback) {\r\n        if (typeof successCallback !== \"function\" && typeof errorCallback !== \"function\") {\r\n            return promise;\r\n        }\r\n        if (typeof successCallback !== \"function\") {\r\n            successCallback = function () { };\r\n        }\r\n        else if (typeof errorCallback !== \"function\") {\r\n            errorCallback = function () { };\r\n        }\r\n        return promise.then(successCallback, errorCallback);\r\n    }\n\n    function rejectAfter(ms, promise, error) {\r\n        if (ms === void 0) { ms = 0; }\r\n        var timeout;\r\n        promise.finally(function () {\r\n            if (timeout) {\r\n                clearTimeout(timeout);\r\n            }\r\n        });\r\n        return new Promise(function (resolve, reject) {\r\n            timeout = setTimeout(function () { return reject(error); }, ms);\r\n        });\r\n    }\n\n    var InvokeStatus;\r\n    (function (InvokeStatus) {\r\n        InvokeStatus[InvokeStatus[\"Success\"] = 0] = \"Success\";\r\n        InvokeStatus[InvokeStatus[\"Error\"] = 1] = \"Error\";\r\n    })(InvokeStatus || (InvokeStatus = {}));\r\n    var Client = (function () {\r\n        function Client(protocol, repo, instance, configuration) {\r\n            this.protocol = protocol;\r\n            this.repo = repo;\r\n            this.instance = instance;\r\n            this.configuration = configuration;\r\n        }\r\n        Client.prototype.subscribe = function (method, options, successCallback, errorCallback, existingSub) {\r\n            var _this = this;\r\n            var callProtocolSubscribe = function (targetServers, stream, successProxy, errorProxy) {\r\n                var _a;\r\n                options.methodResponseTimeout = (_a = options.methodResponseTimeout) !== null && _a !== void 0 ? _a : options.waitTimeoutMs;\r\n                _this.protocol.client.subscribe(stream, options, targetServers, successProxy, errorProxy, existingSub);\r\n            };\r\n            var promise = new Promise(function (resolve, reject) {\r\n                var successProxy = function (sub) {\r\n                    resolve(sub);\r\n                };\r\n                var errorProxy = function (err) {\r\n                    reject(err);\r\n                };\r\n                if (!method) {\r\n                    reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n                    return;\r\n                }\r\n                var methodDef;\r\n                if (typeof method === \"string\") {\r\n                    methodDef = { name: method };\r\n                }\r\n                else {\r\n                    methodDef = method;\r\n                }\r\n                if (!methodDef.name) {\r\n                    reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n                    return;\r\n                }\r\n                if (options === undefined) {\r\n                    options = {};\r\n                }\r\n                var target = options.target;\r\n                if (target === undefined) {\r\n                    target = \"best\";\r\n                }\r\n                if (typeof target === \"string\" && target !== \"all\" && target !== \"best\") {\r\n                    reject(new Error(\"\\\"\" + target + \"\\\" is not a valid target. Valid targets are \\\"all\\\", \\\"best\\\", or an instance.\"));\r\n                    return;\r\n                }\r\n                if (options.methodResponseTimeout === undefined) {\r\n                    options.methodResponseTimeout = options.method_response_timeout;\r\n                    if (options.methodResponseTimeout === undefined) {\r\n                        options.methodResponseTimeout = _this.configuration.methodResponseTimeout;\r\n                    }\r\n                }\r\n                if (options.waitTimeoutMs === undefined) {\r\n                    options.waitTimeoutMs = options.wait_for_method_timeout;\r\n                    if (options.waitTimeoutMs === undefined) {\r\n                        options.waitTimeoutMs = _this.configuration.waitTimeoutMs;\r\n                    }\r\n                }\r\n                var delayStep = 500;\r\n                var delayTillNow = 0;\r\n                var currentServers = _this.getServerMethodsByFilterAndTarget(methodDef, target);\r\n                if (currentServers.length > 0) {\r\n                    callProtocolSubscribe(currentServers, currentServers[0].methods[0], successProxy, errorProxy);\r\n                }\r\n                else {\r\n                    var retry_1 = function () {\r\n                        if (!target || !(options.waitTimeoutMs)) {\r\n                            return;\r\n                        }\r\n                        delayTillNow += delayStep;\r\n                        currentServers = _this.getServerMethodsByFilterAndTarget(methodDef, target);\r\n                        if (currentServers.length > 0) {\r\n                            var streamInfo = currentServers[0].methods[0];\r\n                            callProtocolSubscribe(currentServers, streamInfo, successProxy, errorProxy);\r\n                        }\r\n                        else if (delayTillNow >= options.waitTimeoutMs) {\r\n                            var def = typeof method === \"string\" ? { name: method } : method;\r\n                            callProtocolSubscribe(currentServers, def, successProxy, errorProxy);\r\n                        }\r\n                        else {\r\n                            setTimeout(retry_1, delayStep);\r\n                        }\r\n                    };\r\n                    setTimeout(retry_1, delayStep);\r\n                }\r\n            });\r\n            return promisify(promise, successCallback, errorCallback);\r\n        };\r\n        Client.prototype.servers = function (methodFilter) {\r\n            var filterCopy = methodFilter === undefined\r\n                ? undefined\r\n                : __assign$1({}, methodFilter);\r\n            return this.getServers(filterCopy).map(function (serverMethodMap) {\r\n                return serverMethodMap.server.instance;\r\n            });\r\n        };\r\n        Client.prototype.methods = function (methodFilter) {\r\n            if (typeof methodFilter === \"string\") {\r\n                methodFilter = { name: methodFilter };\r\n            }\r\n            else {\r\n                methodFilter = __assign$1({}, methodFilter);\r\n            }\r\n            return this.getMethods(methodFilter);\r\n        };\r\n        Client.prototype.methodsForInstance = function (instance) {\r\n            return this.getMethodsForInstance(instance);\r\n        };\r\n        Client.prototype.methodAdded = function (callback) {\r\n            return this.repo.onMethodAdded(callback);\r\n        };\r\n        Client.prototype.methodRemoved = function (callback) {\r\n            return this.repo.onMethodRemoved(callback);\r\n        };\r\n        Client.prototype.serverAdded = function (callback) {\r\n            return this.repo.onServerAdded(callback);\r\n        };\r\n        Client.prototype.serverRemoved = function (callback) {\r\n            return this.repo.onServerRemoved(function (server, reason) {\r\n                callback(server, reason);\r\n            });\r\n        };\r\n        Client.prototype.serverMethodAdded = function (callback) {\r\n            return this.repo.onServerMethodAdded(function (server, method) {\r\n                callback({ server: server, method: method });\r\n            });\r\n        };\r\n        Client.prototype.serverMethodRemoved = function (callback) {\r\n            return this.repo.onServerMethodRemoved(function (server, method) {\r\n                callback({ server: server, method: method });\r\n            });\r\n        };\r\n        Client.prototype.invoke = function (methodFilter, argumentObj, target, additionalOptions, success, error) {\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var getInvokePromise;\r\n                var _this = this;\r\n                return __generator$1(this, function (_a) {\r\n                    getInvokePromise = function () { return __awaiter$1(_this, void 0, void 0, function () {\r\n                        var methodDefinition, serversMethodMap, err_1, method, errorObj, timeout, additionalOptionsCopy, invokePromises, invocationMessages, results, allRejected;\r\n                        var _this = this;\r\n                        var _a;\r\n                        return __generator$1(this, function (_b) {\r\n                            switch (_b.label) {\r\n                                case 0:\r\n                                    if (typeof methodFilter === \"string\") {\r\n                                        methodDefinition = { name: methodFilter };\r\n                                    }\r\n                                    else {\r\n                                        methodDefinition = __assign$1({}, methodFilter);\r\n                                    }\r\n                                    if (!methodDefinition.name) {\r\n                                        return [2, Promise.reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\")];\r\n                                    }\r\n                                    if (!argumentObj) {\r\n                                        argumentObj = {};\r\n                                    }\r\n                                    if (!target) {\r\n                                        target = \"best\";\r\n                                    }\r\n                                    if (typeof target === \"string\" && target !== \"all\" && target !== \"best\" && target !== \"skipMine\") {\r\n                                        return [2, Promise.reject(new Error(\"\\\"\" + target + \"\\\" is not a valid target. Valid targets are \\\"all\\\" and \\\"best\\\".\"))];\r\n                                    }\r\n                                    if (!additionalOptions) {\r\n                                        additionalOptions = {};\r\n                                    }\r\n                                    if (additionalOptions.methodResponseTimeoutMs === undefined) {\r\n                                        additionalOptions.methodResponseTimeoutMs = additionalOptions.method_response_timeout;\r\n                                        if (additionalOptions.methodResponseTimeoutMs === undefined) {\r\n                                            additionalOptions.methodResponseTimeoutMs = this.configuration.methodResponseTimeout;\r\n                                        }\r\n                                    }\r\n                                    if (additionalOptions.waitTimeoutMs === undefined) {\r\n                                        additionalOptions.waitTimeoutMs = additionalOptions.wait_for_method_timeout;\r\n                                        if (additionalOptions.waitTimeoutMs === undefined) {\r\n                                            additionalOptions.waitTimeoutMs = this.configuration.waitTimeoutMs;\r\n                                        }\r\n                                    }\r\n                                    if (additionalOptions.waitTimeoutMs !== undefined && typeof additionalOptions.waitTimeoutMs !== \"number\") {\r\n                                        return [2, Promise.reject(new Error(\"\\\"\" + additionalOptions.waitTimeoutMs + \"\\\" is not a valid number for \\\"waitTimeoutMs\\\" \"))];\r\n                                    }\r\n                                    if (typeof argumentObj !== \"object\") {\r\n                                        return [2, Promise.reject(new Error(\"The method arguments must be an object. method: \" + methodDefinition.name))];\r\n                                    }\r\n                                    serversMethodMap = this.getServerMethodsByFilterAndTarget(methodDefinition, target);\r\n                                    if (!(serversMethodMap.length === 0)) return [3, 4];\r\n                                    _b.label = 1;\r\n                                case 1:\r\n                                    _b.trys.push([1, 3, , 4]);\r\n                                    return [4, this.tryToAwaitForMethods(methodDefinition, target, additionalOptions)];\r\n                                case 2:\r\n                                    serversMethodMap = _b.sent();\r\n                                    return [3, 4];\r\n                                case 3:\r\n                                    err_1 = _b.sent();\r\n                                    method = __assign$1(__assign$1({}, methodDefinition), { getServers: function () { return []; }, supportsStreaming: false, objectTypes: (_a = methodDefinition.objectTypes) !== null && _a !== void 0 ? _a : [] });\r\n                                    errorObj = {\r\n                                        method: method,\r\n                                        called_with: argumentObj,\r\n                                        message: \"Can not find a method matching \" + JSON.stringify(methodFilter) + \" with server filter \" + JSON.stringify(target),\r\n                                        executed_by: undefined,\r\n                                        returned: undefined,\r\n                                        status: undefined,\r\n                                    };\r\n                                    return [2, Promise.reject(errorObj)];\r\n                                case 4:\r\n                                    timeout = additionalOptions.methodResponseTimeoutMs;\r\n                                    additionalOptionsCopy = additionalOptions;\r\n                                    invokePromises = serversMethodMap.map(function (serversMethodPair) {\r\n                                        var invId = shortid();\r\n                                        var method = serversMethodPair.methods[0];\r\n                                        var server = serversMethodPair.server;\r\n                                        var invokePromise = _this.protocol.client.invoke(invId, method, argumentObj, server, additionalOptionsCopy);\r\n                                        return Promise.race([\r\n                                            invokePromise,\r\n                                            rejectAfter(timeout, invokePromise, {\r\n                                                invocationId: invId,\r\n                                                message: \"Invocation timeout (\" + timeout + \" ms) reached for method name: \" + (method === null || method === void 0 ? void 0 : method.name) + \", target instance: \" + JSON.stringify(server.instance) + \", options: \" + JSON.stringify(additionalOptionsCopy),\r\n                                                status: InvokeStatus.Error,\r\n                                            })\r\n                                        ]);\r\n                                    });\r\n                                    return [4, Promise.all(invokePromises)];\r\n                                case 5:\r\n                                    invocationMessages = _b.sent();\r\n                                    results = this.getInvocationResultObj(invocationMessages, methodDefinition, argumentObj);\r\n                                    allRejected = invocationMessages.every(function (result) { return result.status === InvokeStatus.Error; });\r\n                                    if (allRejected) {\r\n                                        return [2, Promise.reject(results)];\r\n                                    }\r\n                                    return [2, results];\r\n                            }\r\n                        });\r\n                    }); };\r\n                    return [2, promisify(getInvokePromise(), success, error)];\r\n                });\r\n            });\r\n        };\r\n        Client.prototype.getInvocationResultObj = function (invocationResults, method, calledWith) {\r\n            var all_return_values = invocationResults\r\n                .filter(function (invokeMessage) { return invokeMessage.status === InvokeStatus.Success; })\r\n                .reduce(function (allValues, currentValue) {\r\n                allValues = __spreadArrays(allValues, [\r\n                    {\r\n                        executed_by: currentValue.instance,\r\n                        returned: currentValue.result,\r\n                        called_with: calledWith,\r\n                        method: method,\r\n                        message: currentValue.message,\r\n                        status: currentValue.status,\r\n                    }\r\n                ]);\r\n                return allValues;\r\n            }, []);\r\n            var all_errors = invocationResults\r\n                .filter(function (invokeMessage) { return invokeMessage.status === InvokeStatus.Error; })\r\n                .reduce(function (allErrors, currError) {\r\n                allErrors = __spreadArrays(allErrors, [\r\n                    {\r\n                        executed_by: currError.instance,\r\n                        called_with: calledWith,\r\n                        name: method.name,\r\n                        message: currError.message,\r\n                    }\r\n                ]);\r\n                return allErrors;\r\n            }, []);\r\n            var invResult = invocationResults[0];\r\n            var result = {\r\n                method: method,\r\n                called_with: calledWith,\r\n                returned: invResult.result,\r\n                executed_by: invResult.instance,\r\n                all_return_values: all_return_values,\r\n                all_errors: all_errors,\r\n                message: invResult.message,\r\n                status: invResult.status\r\n            };\r\n            return result;\r\n        };\r\n        Client.prototype.tryToAwaitForMethods = function (methodDefinition, target, additionalOptions) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                if (additionalOptions.waitTimeoutMs === 0) {\r\n                    reject();\r\n                    return;\r\n                }\r\n                var delayStep = 500;\r\n                var delayTillNow = 0;\r\n                var retry = function () {\r\n                    delayTillNow += delayStep;\r\n                    var serversMethodMap = _this.getServerMethodsByFilterAndTarget(methodDefinition, target);\r\n                    if (serversMethodMap.length > 0) {\r\n                        clearInterval(interval);\r\n                        resolve(serversMethodMap);\r\n                    }\r\n                    else if (delayTillNow >= (additionalOptions.waitTimeoutMs || 10000)) {\r\n                        clearInterval(interval);\r\n                        reject();\r\n                        return;\r\n                    }\r\n                };\r\n                var interval = setInterval(retry, delayStep);\r\n            });\r\n        };\r\n        Client.prototype.filterByTarget = function (target, serverMethodMap) {\r\n            var _this = this;\r\n            if (typeof target === \"string\") {\r\n                if (target === \"all\") {\r\n                    return __spreadArrays(serverMethodMap);\r\n                }\r\n                else if (target === \"best\") {\r\n                    var localMachine = serverMethodMap\r\n                        .find(function (s) { return s.server.instance.isLocal; });\r\n                    if (localMachine) {\r\n                        return [localMachine];\r\n                    }\r\n                    if (serverMethodMap[0] !== undefined) {\r\n                        return [serverMethodMap[0]];\r\n                    }\r\n                }\r\n                else if (target === \"skipMine\") {\r\n                    return serverMethodMap.filter(function (_a) {\r\n                        var server = _a.server;\r\n                        return server.instance.peerId !== _this.instance.peerId;\r\n                    });\r\n                }\r\n            }\r\n            else {\r\n                var targetArray = void 0;\r\n                if (!Array.isArray(target)) {\r\n                    targetArray = [target];\r\n                }\r\n                else {\r\n                    targetArray = target;\r\n                }\r\n                var allServersMatching = targetArray.reduce(function (matches, filter) {\r\n                    var myMatches = serverMethodMap.filter(function (serverMethodPair) {\r\n                        return _this.instanceMatch(filter, serverMethodPair.server.instance);\r\n                    });\r\n                    return matches.concat(myMatches);\r\n                }, []);\r\n                return allServersMatching;\r\n            }\r\n            return [];\r\n        };\r\n        Client.prototype.instanceMatch = function (instanceFilter, instanceDefinition) {\r\n            return this.containsProps(instanceFilter, instanceDefinition);\r\n        };\r\n        Client.prototype.methodMatch = function (methodFilter, methodDefinition) {\r\n            return this.containsProps(methodFilter, methodDefinition);\r\n        };\r\n        Client.prototype.containsProps = function (filter, repoMethod) {\r\n            var filterProps = Object.keys(filter)\r\n                .filter(function (prop) {\r\n                return filter[prop] !== undefined\r\n                    && typeof filter[prop] !== \"function\"\r\n                    && prop !== \"object_types\"\r\n                    && prop !== \"display_name\"\r\n                    && prop !== \"id\"\r\n                    && prop !== \"gatewayId\"\r\n                    && prop !== \"identifier\"\r\n                    && prop[0] !== \"_\";\r\n            });\r\n            return filterProps.reduce(function (isMatch, prop) {\r\n                var filterValue = filter[prop];\r\n                var repoMethodValue = repoMethod[prop];\r\n                if (prop === \"objectTypes\") {\r\n                    var containsAllFromFilter = function (filterObjTypes, repoObjectTypes) {\r\n                        var objTypeToContains = filterObjTypes.reduce(function (object, objType) {\r\n                            object[objType] = false;\r\n                            return object;\r\n                        }, {});\r\n                        repoObjectTypes.forEach(function (repoObjType) {\r\n                            if (objTypeToContains[repoObjType] !== undefined) {\r\n                                objTypeToContains[repoObjType] = true;\r\n                            }\r\n                        });\r\n                        var filterIsFullfilled = function () { return Object.keys(objTypeToContains).reduce(function (isFullfiled, objType) {\r\n                            if (!objTypeToContains[objType]) {\r\n                                isFullfiled = false;\r\n                            }\r\n                            return isFullfiled;\r\n                        }, true); };\r\n                        return filterIsFullfilled();\r\n                    };\r\n                    if (filterValue.length > repoMethodValue.length\r\n                        || containsAllFromFilter(filterValue, repoMethodValue) === false) {\r\n                        isMatch = false;\r\n                    }\r\n                }\r\n                else if (String(filterValue).toLowerCase() !== String(repoMethodValue).toLowerCase()) {\r\n                    isMatch = false;\r\n                }\r\n                return isMatch;\r\n            }, true);\r\n        };\r\n        Client.prototype.getMethods = function (methodFilter) {\r\n            var _this = this;\r\n            if (methodFilter === undefined) {\r\n                return this.repo.getMethods();\r\n            }\r\n            var methods = this.repo.getMethods().filter(function (method) {\r\n                return _this.methodMatch(methodFilter, method);\r\n            });\r\n            return methods;\r\n        };\r\n        Client.prototype.getMethodsForInstance = function (instanceFilter) {\r\n            var _this = this;\r\n            var allServers = this.repo.getServers();\r\n            var matchingServers = allServers.filter(function (server) {\r\n                return _this.instanceMatch(instanceFilter, server.instance);\r\n            });\r\n            if (matchingServers.length === 0) {\r\n                return [];\r\n            }\r\n            var resultMethodsObject = {};\r\n            if (matchingServers.length === 1) {\r\n                resultMethodsObject = matchingServers[0].methods;\r\n            }\r\n            else {\r\n                matchingServers.forEach(function (server) {\r\n                    Object.keys(server.methods).forEach(function (methodKey) {\r\n                        var method = server.methods[methodKey];\r\n                        resultMethodsObject[method.identifier] = method;\r\n                    });\r\n                });\r\n            }\r\n            return Object.keys(resultMethodsObject)\r\n                .map(function (key) {\r\n                return resultMethodsObject[key];\r\n            });\r\n        };\r\n        Client.prototype.getServers = function (methodFilter) {\r\n            var _this = this;\r\n            var servers = this.repo.getServers();\r\n            if (methodFilter === undefined) {\r\n                return servers.map(function (server) {\r\n                    return { server: server, methods: [] };\r\n                });\r\n            }\r\n            return servers.reduce(function (prev, current) {\r\n                var methodsForServer = _this.repo.getServerMethodsById(current.id);\r\n                var matchingMethods = methodsForServer.filter(function (method) {\r\n                    return _this.methodMatch(methodFilter, method);\r\n                });\r\n                if (matchingMethods.length > 0) {\r\n                    prev.push({ server: current, methods: matchingMethods });\r\n                }\r\n                return prev;\r\n            }, []);\r\n        };\r\n        Client.prototype.getServerMethodsByFilterAndTarget = function (methodFilter, target) {\r\n            var serversMethodMap = this.getServers(methodFilter);\r\n            return this.filterByTarget(target, serversMethodMap);\r\n        };\r\n        return Client;\r\n    }());\n\n    var ServerSubscription = (function () {\r\n        function ServerSubscription(protocol, repoMethod, subscription) {\r\n            this.protocol = protocol;\r\n            this.repoMethod = repoMethod;\r\n            this.subscription = subscription;\r\n        }\r\n        Object.defineProperty(ServerSubscription.prototype, \"stream\", {\r\n            get: function () {\r\n                if (!this.repoMethod.stream) {\r\n                    throw new Error(\"no stream\");\r\n                }\r\n                return this.repoMethod.stream;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ServerSubscription.prototype, \"arguments\", {\r\n            get: function () { return this.subscription.arguments || {}; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ServerSubscription.prototype, \"branchKey\", {\r\n            get: function () { return this.subscription.branchKey; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ServerSubscription.prototype, \"instance\", {\r\n            get: function () {\r\n                if (!this.subscription.instance) {\r\n                    throw new Error(\"no instance\");\r\n                }\r\n                return this.subscription.instance;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ServerSubscription.prototype.close = function () {\r\n            this.protocol.server.closeSingleSubscription(this.repoMethod, this.subscription);\r\n        };\r\n        ServerSubscription.prototype.push = function (data) {\r\n            this.protocol.server.pushDataToSingle(this.repoMethod, this.subscription, data);\r\n        };\r\n        return ServerSubscription;\r\n    }());\n\n    var Request = (function () {\r\n        function Request(protocol, repoMethod, requestContext) {\r\n            this.protocol = protocol;\r\n            this.repoMethod = repoMethod;\r\n            this.requestContext = requestContext;\r\n            this.arguments = requestContext.arguments;\r\n            this.instance = requestContext.instance;\r\n        }\r\n        Request.prototype.accept = function () {\r\n            this.protocol.server.acceptRequestOnBranch(this.requestContext, this.repoMethod, \"\");\r\n        };\r\n        Request.prototype.acceptOnBranch = function (branch) {\r\n            this.protocol.server.acceptRequestOnBranch(this.requestContext, this.repoMethod, branch);\r\n        };\r\n        Request.prototype.reject = function (reason) {\r\n            this.protocol.server.rejectRequest(this.requestContext, this.repoMethod, reason);\r\n        };\r\n        return Request;\r\n    }());\n\n    var ServerStreaming = (function () {\r\n        function ServerStreaming(protocol, server) {\r\n            var _this = this;\r\n            this.protocol = protocol;\r\n            this.server = server;\r\n            protocol.server.onSubRequest(function (rc, rm) { return _this.handleSubRequest(rc, rm); });\r\n            protocol.server.onSubAdded(function (sub, rm) { return _this.handleSubAdded(sub, rm); });\r\n            protocol.server.onSubRemoved(function (sub, rm) { return _this.handleSubRemoved(sub, rm); });\r\n        }\r\n        ServerStreaming.prototype.handleSubRequest = function (requestContext, repoMethod) {\r\n            if (!(repoMethod &&\r\n                repoMethod.streamCallbacks &&\r\n                typeof repoMethod.streamCallbacks.subscriptionRequestHandler === \"function\")) {\r\n                return;\r\n            }\r\n            var request = new Request(this.protocol, repoMethod, requestContext);\r\n            repoMethod.streamCallbacks.subscriptionRequestHandler(request);\r\n        };\r\n        ServerStreaming.prototype.handleSubAdded = function (subscription, repoMethod) {\r\n            if (!(repoMethod &&\r\n                repoMethod.streamCallbacks &&\r\n                typeof repoMethod.streamCallbacks.subscriptionAddedHandler === \"function\")) {\r\n                return;\r\n            }\r\n            var sub = new ServerSubscription(this.protocol, repoMethod, subscription);\r\n            repoMethod.streamCallbacks.subscriptionAddedHandler(sub);\r\n        };\r\n        ServerStreaming.prototype.handleSubRemoved = function (subscription, repoMethod) {\r\n            if (!(repoMethod &&\r\n                repoMethod.streamCallbacks &&\r\n                typeof repoMethod.streamCallbacks.subscriptionRemovedHandler === \"function\")) {\r\n                return;\r\n            }\r\n            var sub = new ServerSubscription(this.protocol, repoMethod, subscription);\r\n            repoMethod.streamCallbacks.subscriptionRemovedHandler(sub);\r\n        };\r\n        return ServerStreaming;\r\n    }());\n\n    var ServerBranch = (function () {\r\n        function ServerBranch(key, protocol, repoMethod) {\r\n            this.key = key;\r\n            this.protocol = protocol;\r\n            this.repoMethod = repoMethod;\r\n        }\r\n        ServerBranch.prototype.subscriptions = function () {\r\n            var _this = this;\r\n            var subList = this.protocol.server.getSubscriptionList(this.repoMethod, this.key);\r\n            return subList.map(function (sub) {\r\n                return new ServerSubscription(_this.protocol, _this.repoMethod, sub);\r\n            });\r\n        };\r\n        ServerBranch.prototype.close = function () {\r\n            this.protocol.server.closeAllSubscriptions(this.repoMethod, this.key);\r\n        };\r\n        ServerBranch.prototype.push = function (data) {\r\n            this.protocol.server.pushData(this.repoMethod, data, [this.key]);\r\n        };\r\n        return ServerBranch;\r\n    }());\n\n    var ServerStream = (function () {\r\n        function ServerStream(_protocol, _repoMethod, _server) {\r\n            this._protocol = _protocol;\r\n            this._repoMethod = _repoMethod;\r\n            this._server = _server;\r\n            this.name = this._repoMethod.definition.name;\r\n        }\r\n        ServerStream.prototype.branches = function (key) {\r\n            var _this = this;\r\n            var bList = this._protocol.server.getBranchList(this._repoMethod);\r\n            if (key) {\r\n                if (bList.indexOf(key) > -1) {\r\n                    return new ServerBranch(key, this._protocol, this._repoMethod);\r\n                }\r\n                return undefined;\r\n            }\r\n            else {\r\n                return bList.map(function (branchKey) {\r\n                    return new ServerBranch(branchKey, _this._protocol, _this._repoMethod);\r\n                });\r\n            }\r\n        };\r\n        ServerStream.prototype.branch = function (key) {\r\n            return this.branches(key);\r\n        };\r\n        ServerStream.prototype.subscriptions = function () {\r\n            var _this = this;\r\n            var subList = this._protocol.server.getSubscriptionList(this._repoMethod);\r\n            return subList.map(function (sub) {\r\n                return new ServerSubscription(_this._protocol, _this._repoMethod, sub);\r\n            });\r\n        };\r\n        Object.defineProperty(ServerStream.prototype, \"definition\", {\r\n            get: function () {\r\n                var def2 = this._repoMethod.definition;\r\n                return {\r\n                    accepts: def2.accepts,\r\n                    description: def2.description,\r\n                    displayName: def2.displayName,\r\n                    name: def2.name,\r\n                    objectTypes: def2.objectTypes,\r\n                    returns: def2.returns,\r\n                    supportsStreaming: def2.supportsStreaming,\r\n                };\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ServerStream.prototype.close = function () {\r\n            this._protocol.server.closeAllSubscriptions(this._repoMethod);\r\n            this._server.unregister(this._repoMethod.definition, true);\r\n        };\r\n        ServerStream.prototype.push = function (data, branches) {\r\n            if (typeof branches !== \"string\" && !Array.isArray(branches) && branches !== undefined) {\r\n                throw new Error(\"invalid branches should be string or string array\");\r\n            }\r\n            if (typeof data !== \"object\") {\r\n                throw new Error(\"Invalid arguments. Data must be an object.\");\r\n            }\r\n            this._protocol.server.pushData(this._repoMethod, data, branches);\r\n        };\r\n        ServerStream.prototype.updateRepoMethod = function (repoMethod) {\r\n            this._repoMethod = repoMethod;\r\n        };\r\n        return ServerStream;\r\n    }());\n\n    var Server = (function () {\r\n        function Server(protocol, serverRepository) {\r\n            this.protocol = protocol;\r\n            this.serverRepository = serverRepository;\r\n            this.invocations = 0;\r\n            this.currentlyUnregistering = {};\r\n            this.streaming = new ServerStreaming(protocol, this);\r\n            this.protocol.server.onInvoked(this.onMethodInvoked.bind(this));\r\n        }\r\n        Server.prototype.createStream = function (streamDef, callbacks, successCallback, errorCallback, existingStream) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                if (!streamDef) {\r\n                    reject(\"The stream name must be unique! Please, provide either a unique string for a stream name to \\u201Cglue.interop.createStream()\\u201D or a \\u201CmethodDefinition\\u201D object with a unique \\u201Cname\\u201D property for the stream.\");\r\n                    return;\r\n                }\r\n                var streamMethodDefinition;\r\n                if (typeof streamDef === \"string\") {\r\n                    streamMethodDefinition = { name: \"\" + streamDef };\r\n                }\r\n                else {\r\n                    streamMethodDefinition = __assign$1({}, streamDef);\r\n                }\r\n                if (!streamMethodDefinition.name) {\r\n                    return reject(\"The \\u201Cname\\u201D property is required for the \\u201CstreamDefinition\\u201D object and must be unique. Stream definition: \" + JSON.stringify(streamMethodDefinition));\r\n                }\r\n                var nameAlreadyExists = _this.serverRepository.getList()\r\n                    .some(function (serverMethod) { return serverMethod.definition.name === streamMethodDefinition.name; });\r\n                if (nameAlreadyExists) {\r\n                    return reject(\"A stream with the name \\\"\" + streamMethodDefinition.name + \"\\\" already exists! Please, provide a unique name for the stream.\");\r\n                }\r\n                streamMethodDefinition.supportsStreaming = true;\r\n                if (!callbacks) {\r\n                    callbacks = {};\r\n                }\r\n                if (typeof callbacks.subscriptionRequestHandler !== \"function\") {\r\n                    callbacks.subscriptionRequestHandler = function (request) {\r\n                        request.accept();\r\n                    };\r\n                }\r\n                var repoMethod = _this.serverRepository.add({\r\n                    definition: streamMethodDefinition,\r\n                    streamCallbacks: callbacks,\r\n                    protocolState: {},\r\n                });\r\n                _this.protocol.server.createStream(repoMethod)\r\n                    .then(function () {\r\n                    var streamUserObject;\r\n                    if (existingStream) {\r\n                        streamUserObject = existingStream;\r\n                        existingStream.updateRepoMethod(repoMethod);\r\n                    }\r\n                    else {\r\n                        streamUserObject = new ServerStream(_this.protocol, repoMethod, _this);\r\n                    }\r\n                    repoMethod.stream = streamUserObject;\r\n                    resolve(streamUserObject);\r\n                })\r\n                    .catch(function (err) {\r\n                    if (repoMethod.repoId) {\r\n                        _this.serverRepository.remove(repoMethod.repoId);\r\n                    }\r\n                    reject(err);\r\n                });\r\n            });\r\n            return promisify(promise, successCallback, errorCallback);\r\n        };\r\n        Server.prototype.register = function (methodDefinition, callback) {\r\n            var _this = this;\r\n            if (!methodDefinition) {\r\n                return Promise.reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n            }\r\n            if (typeof callback !== \"function\") {\r\n                return Promise.reject(\"The second parameter must be a callback function. Method: \" + (typeof methodDefinition === \"string\" ? methodDefinition : methodDefinition.name));\r\n            }\r\n            var wrappedCallbackFunction = function (context, resultCallback) { return __awaiter$1(_this, void 0, void 0, function () {\r\n                var result, resultValue, e_1;\r\n                return __generator$1(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            _a.trys.push([0, 4, , 5]);\r\n                            result = callback(context.args, context.instance);\r\n                            if (!(result && typeof result.then === \"function\")) return [3, 2];\r\n                            return [4, result];\r\n                        case 1:\r\n                            resultValue = _a.sent();\r\n                            resultCallback(undefined, resultValue);\r\n                            return [3, 3];\r\n                        case 2:\r\n                            resultCallback(undefined, result);\r\n                            _a.label = 3;\r\n                        case 3: return [3, 5];\r\n                        case 4:\r\n                            e_1 = _a.sent();\r\n                            if (!e_1) {\r\n                                e_1 = \"\";\r\n                            }\r\n                            resultCallback(e_1, e_1);\r\n                            return [3, 5];\r\n                        case 5: return [2];\r\n                    }\r\n                });\r\n            }); };\r\n            wrappedCallbackFunction.userCallback = callback;\r\n            return this.registerCore(methodDefinition, wrappedCallbackFunction);\r\n        };\r\n        Server.prototype.registerAsync = function (methodDefinition, callback) {\r\n            if (!methodDefinition) {\r\n                return Promise.reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n            }\r\n            if (typeof callback !== \"function\") {\r\n                return Promise.reject(\"The second parameter must be a callback function. Method: \" + (typeof methodDefinition === \"string\" ? methodDefinition : methodDefinition.name));\r\n            }\r\n            var wrappedCallback = function (context, resultCallback) {\r\n                try {\r\n                    var resultCalled_1 = false;\r\n                    var success = function (result) {\r\n                        if (!resultCalled_1) {\r\n                            resultCallback(undefined, result);\r\n                        }\r\n                        resultCalled_1 = true;\r\n                    };\r\n                    var error = function (e) {\r\n                        if (!resultCalled_1) {\r\n                            if (!e) {\r\n                                e = \"\";\r\n                            }\r\n                            resultCallback(e, e);\r\n                        }\r\n                        resultCalled_1 = true;\r\n                    };\r\n                    var methodResult = callback(context.args, context.instance, success, error);\r\n                    if (methodResult && typeof methodResult.then === \"function\") {\r\n                        methodResult\r\n                            .then(success)\r\n                            .catch(error);\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    resultCallback(e, undefined);\r\n                }\r\n            };\r\n            wrappedCallback.userCallbackAsync = callback;\r\n            return this.registerCore(methodDefinition, wrappedCallback);\r\n        };\r\n        Server.prototype.unregister = function (methodFilter, forStream) {\r\n            if (forStream === void 0) { forStream = false; }\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var methodDefinition, methodToBeRemoved;\r\n                return __generator$1(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (methodFilter === undefined) {\r\n                                return [2, Promise.reject(\"Please, provide either a unique string for a name or an object containing a \\u201Cname\\u201D property.\")];\r\n                            }\r\n                            if (!(typeof methodFilter === \"function\")) return [3, 2];\r\n                            return [4, this.unregisterWithPredicate(methodFilter, forStream)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2];\r\n                        case 2:\r\n                            if (typeof methodFilter === \"string\") {\r\n                                methodDefinition = { name: methodFilter };\r\n                            }\r\n                            else {\r\n                                methodDefinition = methodFilter;\r\n                            }\r\n                            if (methodDefinition.name === undefined) {\r\n                                return [2, Promise.reject(\"Method name is required. Cannot find a method if the method name is undefined!\")];\r\n                            }\r\n                            methodToBeRemoved = this.serverRepository.getList().find(function (serverMethod) {\r\n                                return serverMethod.definition.name === methodDefinition.name\r\n                                    && (serverMethod.definition.supportsStreaming || false) === forStream;\r\n                            });\r\n                            if (!methodToBeRemoved) {\r\n                                return [2, Promise.reject(\"Method with a name \\\"\" + methodDefinition.name + \"\\\" does not exist or is not registered by your application!\")];\r\n                            }\r\n                            return [4, this.removeMethodsOrStreams([methodToBeRemoved])];\r\n                        case 3:\r\n                            _a.sent();\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Server.prototype.unregisterWithPredicate = function (filterPredicate, forStream) {\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var methodsOrStreamsToRemove;\r\n                return __generator$1(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            methodsOrStreamsToRemove = this.serverRepository.getList()\r\n                                .filter(function (sm) { return filterPredicate(sm.definition); })\r\n                                .filter(function (serverMethod) {\r\n                                return (serverMethod.definition.supportsStreaming || false) === forStream;\r\n                            });\r\n                            if (!methodsOrStreamsToRemove || methodsOrStreamsToRemove.length === 0) {\r\n                                return [2, Promise.reject(\"Could not find a \" + (forStream ? \"stream\" : \"method\") + \" matching the specified condition!\")];\r\n                            }\r\n                            return [4, this.removeMethodsOrStreams(methodsOrStreamsToRemove)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Server.prototype.removeMethodsOrStreams = function (methodsToRemove) {\r\n            var _this = this;\r\n            var methodUnregPromises = [];\r\n            methodsToRemove.forEach(function (method) {\r\n                var promise = _this.protocol.server.unregister(method)\r\n                    .then(function () {\r\n                    if (method.repoId) {\r\n                        _this.serverRepository.remove(method.repoId);\r\n                    }\r\n                });\r\n                methodUnregPromises.push(promise);\r\n                _this.addAsCurrentlyUnregistering(method.definition.name, promise);\r\n            });\r\n            return Promise.all(methodUnregPromises);\r\n        };\r\n        Server.prototype.addAsCurrentlyUnregistering = function (methodName, promise) {\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var timeout;\r\n                var _this = this;\r\n                return __generator$1(this, function (_a) {\r\n                    timeout = new Promise(function (resolve) { return setTimeout(resolve, 5000); });\r\n                    this.currentlyUnregistering[methodName] = Promise.race([promise, timeout]).then(function () {\r\n                        delete _this.currentlyUnregistering[methodName];\r\n                    });\r\n                    return [2];\r\n                });\r\n            });\r\n        };\r\n        Server.prototype.registerCore = function (method, theFunction) {\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var methodDefinition, unregisterInProgress, nameAlreadyExists, repoMethod;\r\n                var _this = this;\r\n                return __generator$1(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (typeof method === \"string\") {\r\n                                methodDefinition = { name: \"\" + method };\r\n                            }\r\n                            else {\r\n                                methodDefinition = __assign$1({}, method);\r\n                            }\r\n                            if (!methodDefinition.name) {\r\n                                return [2, Promise.reject(\"Please, provide a (unique) string value for the \\u201Cname\\u201D property in the \\u201CmethodDefinition\\u201D object: \" + JSON.stringify(method))];\r\n                            }\r\n                            unregisterInProgress = this.currentlyUnregistering[methodDefinition.name];\r\n                            if (!unregisterInProgress) return [3, 2];\r\n                            return [4, unregisterInProgress];\r\n                        case 1:\r\n                            _a.sent();\r\n                            _a.label = 2;\r\n                        case 2:\r\n                            nameAlreadyExists = this.serverRepository.getList()\r\n                                .some(function (serverMethod) { return serverMethod.definition.name === methodDefinition.name; });\r\n                            if (nameAlreadyExists) {\r\n                                return [2, Promise.reject(\"A method with the name \\\"\" + methodDefinition.name + \"\\\" already exists! Please, provide a unique name for the method.\")];\r\n                            }\r\n                            if (methodDefinition.supportsStreaming) {\r\n                                return [2, Promise.reject(\"When you create methods with \\u201Cglue.interop.register()\\u201D or \\u201Cglue.interop.registerAsync()\\u201D the property \\u201CsupportsStreaming\\u201D cannot be \\u201Ctrue\\u201D. If you want \\u201C\" + methodDefinition.name + \"\\u201D to be a stream, please use the \\u201Cglue.interop.createStream()\\u201D method.\")];\r\n                            }\r\n                            repoMethod = this.serverRepository.add({\r\n                                definition: methodDefinition,\r\n                                theFunction: theFunction,\r\n                                protocolState: {},\r\n                            });\r\n                            return [2, this.protocol.server.register(repoMethod)\r\n                                    .catch(function (err) {\r\n                                    if (repoMethod === null || repoMethod === void 0 ? void 0 : repoMethod.repoId) {\r\n                                        _this.serverRepository.remove(repoMethod.repoId);\r\n                                    }\r\n                                    throw err;\r\n                                })];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Server.prototype.onMethodInvoked = function (methodToExecute, invocationId, invocationArgs) {\r\n            var _this = this;\r\n            if (!methodToExecute || !methodToExecute.theFunction) {\r\n                return;\r\n            }\r\n            methodToExecute.theFunction(invocationArgs, function (err, result) {\r\n                if (err !== undefined && err !== null) {\r\n                    if (err.message && typeof err.message === \"string\") {\r\n                        err = err.message;\r\n                    }\r\n                    else if (typeof err !== \"string\") {\r\n                        try {\r\n                            err = JSON.stringify(err);\r\n                        }\r\n                        catch (unStrException) {\r\n                            err = \"un-stringifyable error in onMethodInvoked! Top level prop names: \" + Object.keys(err);\r\n                        }\r\n                    }\r\n                }\r\n                if (!result) {\r\n                    result = {};\r\n                }\r\n                else if (typeof result !== \"object\" || Array.isArray(result)) {\r\n                    result = { _value: result };\r\n                }\r\n                _this.protocol.server.methodInvocationResult(methodToExecute, invocationId, err, result);\r\n            });\r\n        };\r\n        return Server;\r\n    }());\n\n    var InstanceWrapper = (function () {\r\n        function InstanceWrapper(instance, connection) {\r\n            var _this = this;\r\n            this.wrapped = {\r\n                getMethods: getMethods,\r\n                getStreams: getStreams,\r\n            };\r\n            if (instance) {\r\n                this.refreshWrappedObject(instance);\r\n            }\r\n            if (connection) {\r\n                connection.loggedIn(function () {\r\n                    _this.refresh(connection);\r\n                });\r\n                this.refresh(connection);\r\n            }\r\n        }\r\n        InstanceWrapper.prototype.unwrap = function () {\r\n            return this.wrapped;\r\n        };\r\n        InstanceWrapper.prototype.refresh = function (connection) {\r\n            if (!connection) {\r\n                return;\r\n            }\r\n            var resolvedIdentity = connection === null || connection === void 0 ? void 0 : connection.resolvedIdentity;\r\n            var instance = Object.assign({}, resolvedIdentity !== null && resolvedIdentity !== void 0 ? resolvedIdentity : {}, { peerId: connection === null || connection === void 0 ? void 0 : connection.peerId });\r\n            this.refreshWrappedObject(instance);\r\n        };\r\n        InstanceWrapper.prototype.refreshWrappedObject = function (resolvedIdentity) {\r\n            var _a, _b, _c;\r\n            this.wrapped.user = resolvedIdentity.user;\r\n            this.wrapped.instance = resolvedIdentity.instance;\r\n            this.wrapped.application = (_a = resolvedIdentity.application) !== null && _a !== void 0 ? _a : shortid();\r\n            this.wrapped.applicationName = resolvedIdentity.applicationName;\r\n            this.wrapped.pid = (_c = (_b = resolvedIdentity.pid) !== null && _b !== void 0 ? _b : resolvedIdentity.process) !== null && _c !== void 0 ? _c : Math.floor(Math.random() * 10000000000);\r\n            this.wrapped.machine = resolvedIdentity.machine;\r\n            this.wrapped.environment = resolvedIdentity.environment;\r\n            this.wrapped.region = resolvedIdentity.region;\r\n            this.wrapped.windowId = resolvedIdentity.windowId;\r\n            this.wrapped.isLocal = true;\r\n            this.wrapped.api = resolvedIdentity.api;\r\n            this.wrapped.service = resolvedIdentity.service;\r\n            this.wrapped.peerId = resolvedIdentity.peerId;\r\n        };\r\n        return InstanceWrapper;\r\n    }());\r\n    function getMethods() {\r\n        var _a;\r\n        return (_a = InstanceWrapper.API) === null || _a === void 0 ? void 0 : _a.methodsForInstance(this);\r\n    }\r\n    function getStreams() {\r\n        var _a;\r\n        return (_a = InstanceWrapper.API) === null || _a === void 0 ? void 0 : _a.methodsForInstance(this).filter(function (m) { return m.supportsStreaming; });\r\n    }\n\n    var ClientRepository = (function () {\r\n        function ClientRepository(logger) {\r\n            this.logger = logger;\r\n            this.servers = {};\r\n            this.methodsCount = {};\r\n            this.callbacks = lib();\r\n        }\r\n        ClientRepository.prototype.addServer = function (info, serverId) {\r\n            this.logger.debug(\"adding server \" + serverId);\r\n            var current = this.servers[serverId];\r\n            if (current) {\r\n                return current.id;\r\n            }\r\n            var wrapper = new InstanceWrapper(info);\r\n            var serverEntry = {\r\n                id: serverId,\r\n                methods: {},\r\n                instance: wrapper.unwrap(),\r\n                wrapper: wrapper,\r\n            };\r\n            this.servers[serverId] = serverEntry;\r\n            this.callbacks.execute(\"onServerAdded\", serverEntry.instance);\r\n            return serverId;\r\n        };\r\n        ClientRepository.prototype.removeServerById = function (id, reason) {\r\n            var _this = this;\r\n            var server = this.servers[id];\r\n            if (!server) {\r\n                this.logger.warn(\"not aware of server \" + id + \", my state \" + JSON.stringify(Object.keys(this.servers)));\r\n                return;\r\n            }\r\n            else {\r\n                this.logger.debug(\"removing server \" + id);\r\n            }\r\n            Object.keys(server.methods).forEach(function (methodId) {\r\n                _this.removeServerMethod(id, methodId);\r\n            });\r\n            delete this.servers[id];\r\n            this.callbacks.execute(\"onServerRemoved\", server.instance, reason);\r\n        };\r\n        ClientRepository.prototype.addServerMethod = function (serverId, method) {\r\n            var server = this.servers[serverId];\r\n            if (!server) {\r\n                throw new Error(\"server does not exists\");\r\n            }\r\n            if (server.methods[method.id]) {\r\n                return;\r\n            }\r\n            var identifier = this.createMethodIdentifier(method);\r\n            var that = this;\r\n            var methodDefinition = {\r\n                identifier: identifier,\r\n                gatewayId: method.id,\r\n                name: method.name,\r\n                displayName: method.display_name,\r\n                description: method.description,\r\n                version: method.version,\r\n                objectTypes: method.object_types || [],\r\n                accepts: method.input_signature,\r\n                returns: method.result_signature,\r\n                supportsStreaming: typeof method.flags !== \"undefined\" ? method.flags.streaming : false,\r\n                getServers: function () {\r\n                    return that.getServersByMethod(identifier);\r\n                }\r\n            };\r\n            methodDefinition.object_types = methodDefinition.objectTypes;\r\n            methodDefinition.display_name = methodDefinition.displayName;\r\n            methodDefinition.version = methodDefinition.version;\r\n            server.methods[method.id] = methodDefinition;\r\n            if (!this.methodsCount[identifier]) {\r\n                this.methodsCount[identifier] = 0;\r\n                this.callbacks.execute(\"onMethodAdded\", methodDefinition);\r\n            }\r\n            this.methodsCount[identifier] = this.methodsCount[identifier] + 1;\r\n            this.callbacks.execute(\"onServerMethodAdded\", server.instance, methodDefinition);\r\n            return methodDefinition;\r\n        };\r\n        ClientRepository.prototype.removeServerMethod = function (serverId, methodId) {\r\n            var server = this.servers[serverId];\r\n            if (!server) {\r\n                throw new Error(\"server does not exists\");\r\n            }\r\n            var method = server.methods[methodId];\r\n            delete server.methods[methodId];\r\n            this.methodsCount[method.identifier] = this.methodsCount[method.identifier] - 1;\r\n            if (this.methodsCount[method.identifier] === 0) {\r\n                this.callbacks.execute(\"onMethodRemoved\", method);\r\n            }\r\n            this.callbacks.execute(\"onServerMethodRemoved\", server.instance, method);\r\n        };\r\n        ClientRepository.prototype.getMethods = function () {\r\n            var _this = this;\r\n            var allMethods = {};\r\n            Object.keys(this.servers).forEach(function (serverId) {\r\n                var server = _this.servers[serverId];\r\n                Object.keys(server.methods).forEach(function (methodId) {\r\n                    var method = server.methods[methodId];\r\n                    allMethods[method.identifier] = method;\r\n                });\r\n            });\r\n            var methodsAsArray = Object.keys(allMethods).map(function (id) {\r\n                return allMethods[id];\r\n            });\r\n            return methodsAsArray;\r\n        };\r\n        ClientRepository.prototype.getServers = function () {\r\n            var _this = this;\r\n            var allServers = [];\r\n            Object.keys(this.servers).forEach(function (serverId) {\r\n                var server = _this.servers[serverId];\r\n                allServers.push(server);\r\n            });\r\n            return allServers;\r\n        };\r\n        ClientRepository.prototype.getServerMethodsById = function (serverId) {\r\n            var server = this.servers[serverId];\r\n            return Object.keys(server.methods).map(function (id) {\r\n                return server.methods[id];\r\n            });\r\n        };\r\n        ClientRepository.prototype.onServerAdded = function (callback) {\r\n            var unsubscribeFunc = this.callbacks.add(\"onServerAdded\", callback);\r\n            var serversWithMethodsToReplay = this.getServers().map(function (s) { return s.instance; });\r\n            return this.returnUnsubWithDelayedReplay(unsubscribeFunc, serversWithMethodsToReplay, callback);\r\n        };\r\n        ClientRepository.prototype.onMethodAdded = function (callback) {\r\n            var unsubscribeFunc = this.callbacks.add(\"onMethodAdded\", callback);\r\n            var methodsToReplay = this.getMethods();\r\n            return this.returnUnsubWithDelayedReplay(unsubscribeFunc, methodsToReplay, callback);\r\n        };\r\n        ClientRepository.prototype.onServerMethodAdded = function (callback) {\r\n            var unsubscribeFunc = this.callbacks.add(\"onServerMethodAdded\", callback);\r\n            var unsubCalled = false;\r\n            var servers = this.getServers();\r\n            setTimeout(function () {\r\n                servers.forEach(function (server) {\r\n                    var methods = server.methods;\r\n                    Object.keys(methods).forEach(function (methodId) {\r\n                        if (!unsubCalled) {\r\n                            callback(server.instance, methods[methodId]);\r\n                        }\r\n                    });\r\n                });\r\n            }, 0);\r\n            return function () {\r\n                unsubCalled = true;\r\n                unsubscribeFunc();\r\n            };\r\n        };\r\n        ClientRepository.prototype.onMethodRemoved = function (callback) {\r\n            var unsubscribeFunc = this.callbacks.add(\"onMethodRemoved\", callback);\r\n            return unsubscribeFunc;\r\n        };\r\n        ClientRepository.prototype.onServerRemoved = function (callback) {\r\n            var unsubscribeFunc = this.callbacks.add(\"onServerRemoved\", callback);\r\n            return unsubscribeFunc;\r\n        };\r\n        ClientRepository.prototype.onServerMethodRemoved = function (callback) {\r\n            var unsubscribeFunc = this.callbacks.add(\"onServerMethodRemoved\", callback);\r\n            return unsubscribeFunc;\r\n        };\r\n        ClientRepository.prototype.getServerById = function (id) {\r\n            return this.servers[id];\r\n        };\r\n        ClientRepository.prototype.reset = function () {\r\n            var _this = this;\r\n            Object.keys(this.servers).forEach(function (key) {\r\n                _this.removeServerById(key, \"reset\");\r\n            });\r\n            this.servers = {};\r\n            this.methodsCount = {};\r\n        };\r\n        ClientRepository.prototype.createMethodIdentifier = function (methodInfo) {\r\n            var accepts = methodInfo.input_signature !== undefined ? methodInfo.input_signature : \"\";\r\n            var returns = methodInfo.result_signature !== undefined ? methodInfo.result_signature : \"\";\r\n            return (methodInfo.name + accepts + returns).toLowerCase();\r\n        };\r\n        ClientRepository.prototype.getServersByMethod = function (identifier) {\r\n            var _this = this;\r\n            var allServers = [];\r\n            Object.keys(this.servers).forEach(function (serverId) {\r\n                var server = _this.servers[serverId];\r\n                Object.keys(server.methods).forEach(function (methodId) {\r\n                    var methodInfo = server.methods[methodId];\r\n                    if (methodInfo.identifier === identifier) {\r\n                        allServers.push(server.instance);\r\n                    }\r\n                });\r\n            });\r\n            return allServers;\r\n        };\r\n        ClientRepository.prototype.returnUnsubWithDelayedReplay = function (unsubscribeFunc, collectionToReplay, callback) {\r\n            var unsubCalled = false;\r\n            setTimeout(function () {\r\n                collectionToReplay.forEach(function (item) {\r\n                    if (!unsubCalled) {\r\n                        callback(item);\r\n                    }\r\n                });\r\n            }, 0);\r\n            return function () {\r\n                unsubCalled = true;\r\n                unsubscribeFunc();\r\n            };\r\n        };\r\n        return ClientRepository;\r\n    }());\n\n    var ServerRepository = (function () {\r\n        function ServerRepository() {\r\n            this.nextId = 0;\r\n            this.methods = [];\r\n        }\r\n        ServerRepository.prototype.add = function (method) {\r\n            method.repoId = String(this.nextId);\r\n            this.nextId += 1;\r\n            this.methods.push(method);\r\n            return method;\r\n        };\r\n        ServerRepository.prototype.remove = function (repoId) {\r\n            if (typeof repoId !== \"string\") {\r\n                return new TypeError(\"Expecting a string\");\r\n            }\r\n            this.methods = this.methods.filter(function (m) {\r\n                return m.repoId !== repoId;\r\n            });\r\n        };\r\n        ServerRepository.prototype.getById = function (id) {\r\n            if (typeof id !== \"string\") {\r\n                return undefined;\r\n            }\r\n            return this.methods.find(function (m) {\r\n                return m.repoId === id;\r\n            });\r\n        };\r\n        ServerRepository.prototype.getList = function () {\r\n            return this.methods.map(function (m) { return m; });\r\n        };\r\n        ServerRepository.prototype.length = function () {\r\n            return this.methods.length;\r\n        };\r\n        ServerRepository.prototype.reset = function () {\r\n            this.methods = [];\r\n        };\r\n        return ServerRepository;\r\n    }());\n\n    var SUBSCRIPTION_REQUEST = \"onSubscriptionRequest\";\r\n    var SUBSCRIPTION_ADDED = \"onSubscriptionAdded\";\r\n    var SUBSCRIPTION_REMOVED = \"onSubscriptionRemoved\";\r\n    var ServerStreaming$1 = (function () {\r\n        function ServerStreaming(session, repository, serverRepository) {\r\n            var _this = this;\r\n            this.session = session;\r\n            this.repository = repository;\r\n            this.serverRepository = serverRepository;\r\n            this.ERR_URI_SUBSCRIPTION_FAILED = \"com.tick42.agm.errors.subscription.failure\";\r\n            this.callbacks = lib();\r\n            this.nextStreamId = 0;\r\n            session.on(\"add-interest\", function (msg) {\r\n                _this.handleAddInterest(msg);\r\n            });\r\n            session.on(\"remove-interest\", function (msg) {\r\n                _this.handleRemoveInterest(msg);\r\n            });\r\n        }\r\n        ServerStreaming.prototype.acceptRequestOnBranch = function (requestContext, streamingMethod, branch) {\r\n            if (typeof branch !== \"string\") {\r\n                branch = \"\";\r\n            }\r\n            if (typeof streamingMethod.protocolState.subscriptionsMap !== \"object\") {\r\n                throw new TypeError(\"The streaming method is missing its subscriptions.\");\r\n            }\r\n            if (!Array.isArray(streamingMethod.protocolState.branchKeyToStreamIdMap)) {\r\n                throw new TypeError(\"The streaming method is missing its branches.\");\r\n            }\r\n            var streamId = this.getStreamId(streamingMethod, branch);\r\n            var key = requestContext.msg.subscription_id;\r\n            var subscription = {\r\n                id: key,\r\n                arguments: requestContext.arguments,\r\n                instance: requestContext.instance,\r\n                branchKey: branch,\r\n                streamId: streamId,\r\n                subscribeMsg: requestContext.msg,\r\n            };\r\n            streamingMethod.protocolState.subscriptionsMap[key] = subscription;\r\n            this.session.sendFireAndForget({\r\n                type: \"accepted\",\r\n                subscription_id: key,\r\n                stream_id: streamId,\r\n            });\r\n            this.callbacks.execute(SUBSCRIPTION_ADDED, subscription, streamingMethod);\r\n        };\r\n        ServerStreaming.prototype.rejectRequest = function (requestContext, streamingMethod, reason) {\r\n            if (typeof reason !== \"string\") {\r\n                reason = \"\";\r\n            }\r\n            this.sendSubscriptionFailed(\"Subscription rejected by user. \" + reason, requestContext.msg.subscription_id);\r\n        };\r\n        ServerStreaming.prototype.pushData = function (streamingMethod, data, branches) {\r\n            var _this = this;\r\n            if (typeof streamingMethod !== \"object\" || !Array.isArray(streamingMethod.protocolState.branchKeyToStreamIdMap)) {\r\n                return;\r\n            }\r\n            if (typeof data !== \"object\") {\r\n                throw new Error(\"Invalid arguments. Data must be an object.\");\r\n            }\r\n            if (typeof branches === \"string\") {\r\n                branches = [branches];\r\n            }\r\n            else if (!Array.isArray(branches) || branches.length <= 0) {\r\n                branches = [];\r\n            }\r\n            var streamIdList = streamingMethod.protocolState.branchKeyToStreamIdMap\r\n                .filter(function (br) {\r\n                if (!branches || branches.length === 0) {\r\n                    return true;\r\n                }\r\n                return branches.indexOf(br.key) >= 0;\r\n            }).map(function (br) {\r\n                return br.streamId;\r\n            });\r\n            streamIdList.forEach(function (streamId) {\r\n                var publishMessage = {\r\n                    type: \"publish\",\r\n                    stream_id: streamId,\r\n                    data: data,\r\n                };\r\n                _this.session.sendFireAndForget(publishMessage);\r\n            });\r\n        };\r\n        ServerStreaming.prototype.pushDataToSingle = function (method, subscription, data) {\r\n            if (typeof data !== \"object\") {\r\n                throw new Error(\"Invalid arguments. Data must be an object.\");\r\n            }\r\n            var postMessage = {\r\n                type: \"post\",\r\n                subscription_id: subscription.id,\r\n                data: data,\r\n            };\r\n            this.session.sendFireAndForget(postMessage);\r\n        };\r\n        ServerStreaming.prototype.closeSingleSubscription = function (streamingMethod, subscription) {\r\n            if (streamingMethod.protocolState.subscriptionsMap) {\r\n                delete streamingMethod.protocolState.subscriptionsMap[subscription.id];\r\n            }\r\n            var dropSubscriptionMessage = {\r\n                type: \"drop-subscription\",\r\n                subscription_id: subscription.id,\r\n                reason: \"Server dropping a single subscription\",\r\n            };\r\n            this.session.sendFireAndForget(dropSubscriptionMessage);\r\n            var subscriber = subscription.instance;\r\n            this.callbacks.execute(SUBSCRIPTION_REMOVED, subscription, streamingMethod);\r\n        };\r\n        ServerStreaming.prototype.closeMultipleSubscriptions = function (streamingMethod, branchKey) {\r\n            var _this = this;\r\n            if (typeof streamingMethod !== \"object\" || typeof streamingMethod.protocolState.subscriptionsMap !== \"object\") {\r\n                return;\r\n            }\r\n            if (!streamingMethod.protocolState.subscriptionsMap) {\r\n                return;\r\n            }\r\n            var subscriptionsMap = streamingMethod.protocolState.subscriptionsMap;\r\n            var subscriptionsToClose = Object.keys(subscriptionsMap)\r\n                .map(function (key) {\r\n                return subscriptionsMap[key];\r\n            });\r\n            if (typeof branchKey === \"string\") {\r\n                subscriptionsToClose = subscriptionsToClose.filter(function (sub) {\r\n                    return sub.branchKey === branchKey;\r\n                });\r\n            }\r\n            subscriptionsToClose.forEach(function (subscription) {\r\n                delete subscriptionsMap[subscription.id];\r\n                var drop = {\r\n                    type: \"drop-subscription\",\r\n                    subscription_id: subscription.id,\r\n                    reason: \"Server dropping all subscriptions on stream_id: \" + subscription.streamId,\r\n                };\r\n                _this.session.sendFireAndForget(drop);\r\n            });\r\n        };\r\n        ServerStreaming.prototype.getSubscriptionList = function (streamingMethod, branchKey) {\r\n            if (typeof streamingMethod !== \"object\") {\r\n                return [];\r\n            }\r\n            var subscriptions = [];\r\n            if (!streamingMethod.protocolState.subscriptionsMap) {\r\n                return [];\r\n            }\r\n            var subscriptionsMap = streamingMethod.protocolState.subscriptionsMap;\r\n            var allSubscriptions = Object.keys(subscriptionsMap)\r\n                .map(function (key) {\r\n                return subscriptionsMap[key];\r\n            });\r\n            if (typeof branchKey !== \"string\") {\r\n                subscriptions = allSubscriptions;\r\n            }\r\n            else {\r\n                subscriptions = allSubscriptions.filter(function (sub) {\r\n                    return sub.branchKey === branchKey;\r\n                });\r\n            }\r\n            return subscriptions;\r\n        };\r\n        ServerStreaming.prototype.getBranchList = function (streamingMethod) {\r\n            if (typeof streamingMethod !== \"object\") {\r\n                return [];\r\n            }\r\n            if (!streamingMethod.protocolState.subscriptionsMap) {\r\n                return [];\r\n            }\r\n            var subscriptionsMap = streamingMethod.protocolState.subscriptionsMap;\r\n            var allSubscriptions = Object.keys(subscriptionsMap)\r\n                .map(function (key) {\r\n                return subscriptionsMap[key];\r\n            });\r\n            var result = [];\r\n            allSubscriptions.forEach(function (sub) {\r\n                var branch = \"\";\r\n                if (typeof sub === \"object\" && typeof sub.branchKey === \"string\") {\r\n                    branch = sub.branchKey;\r\n                }\r\n                if (result.indexOf(branch) === -1) {\r\n                    result.push(branch);\r\n                }\r\n            });\r\n            return result;\r\n        };\r\n        ServerStreaming.prototype.onSubAdded = function (callback) {\r\n            this.onSubscriptionLifetimeEvent(SUBSCRIPTION_ADDED, callback);\r\n        };\r\n        ServerStreaming.prototype.onSubRequest = function (callback) {\r\n            this.onSubscriptionLifetimeEvent(SUBSCRIPTION_REQUEST, callback);\r\n        };\r\n        ServerStreaming.prototype.onSubRemoved = function (callback) {\r\n            this.onSubscriptionLifetimeEvent(SUBSCRIPTION_REMOVED, callback);\r\n        };\r\n        ServerStreaming.prototype.handleRemoveInterest = function (msg) {\r\n            var streamingMethod = this.serverRepository.getById(msg.method_id);\r\n            if (typeof msg.subscription_id !== \"string\" ||\r\n                typeof streamingMethod !== \"object\") {\r\n                return;\r\n            }\r\n            if (!streamingMethod.protocolState.subscriptionsMap) {\r\n                return;\r\n            }\r\n            if (typeof streamingMethod.protocolState.subscriptionsMap[msg.subscription_id] !== \"object\") {\r\n                return;\r\n            }\r\n            var subscription = streamingMethod.protocolState.subscriptionsMap[msg.subscription_id];\r\n            delete streamingMethod.protocolState.subscriptionsMap[msg.subscription_id];\r\n            this.callbacks.execute(SUBSCRIPTION_REMOVED, subscription, streamingMethod);\r\n        };\r\n        ServerStreaming.prototype.onSubscriptionLifetimeEvent = function (eventName, handlerFunc) {\r\n            this.callbacks.add(eventName, handlerFunc);\r\n        };\r\n        ServerStreaming.prototype.getNextStreamId = function () {\r\n            return this.nextStreamId++ + \"\";\r\n        };\r\n        ServerStreaming.prototype.handleAddInterest = function (msg) {\r\n            var caller = this.repository.getServerById(msg.caller_id);\r\n            var instance = caller.instance;\r\n            var requestContext = {\r\n                msg: msg,\r\n                arguments: msg.arguments_kv || {},\r\n                instance: instance,\r\n            };\r\n            var streamingMethod = this.serverRepository.getById(msg.method_id);\r\n            if (streamingMethod === undefined) {\r\n                var errorMsg = \"No method with id \" + msg.method_id + \" on this server.\";\r\n                this.sendSubscriptionFailed(errorMsg, msg.subscription_id);\r\n                return;\r\n            }\r\n            if (streamingMethod.protocolState.subscriptionsMap &&\r\n                streamingMethod.protocolState.subscriptionsMap[msg.subscription_id]) {\r\n                this.sendSubscriptionFailed(\"A subscription with id \" + msg.subscription_id + \" already exists.\", msg.subscription_id);\r\n                return;\r\n            }\r\n            this.callbacks.execute(SUBSCRIPTION_REQUEST, requestContext, streamingMethod);\r\n        };\r\n        ServerStreaming.prototype.sendSubscriptionFailed = function (reason, subscriptionId) {\r\n            var errorMessage = {\r\n                type: \"error\",\r\n                reason_uri: this.ERR_URI_SUBSCRIPTION_FAILED,\r\n                reason: reason,\r\n                request_id: subscriptionId,\r\n            };\r\n            this.session.sendFireAndForget(errorMessage);\r\n        };\r\n        ServerStreaming.prototype.getStreamId = function (streamingMethod, branchKey) {\r\n            if (typeof branchKey !== \"string\") {\r\n                branchKey = \"\";\r\n            }\r\n            if (!streamingMethod.protocolState.branchKeyToStreamIdMap) {\r\n                throw new Error(\"streaming \" + streamingMethod.definition.name + \" method without protocol state\");\r\n            }\r\n            var needleBranch = streamingMethod.protocolState.branchKeyToStreamIdMap.filter(function (branch) {\r\n                return branch.key === branchKey;\r\n            })[0];\r\n            var streamId = (needleBranch ? needleBranch.streamId : undefined);\r\n            if (typeof streamId !== \"string\" || streamId === \"\") {\r\n                streamId = this.getNextStreamId();\r\n                streamingMethod.protocolState.branchKeyToStreamIdMap.push({ key: branchKey, streamId: streamId });\r\n            }\r\n            return streamId;\r\n        };\r\n        return ServerStreaming;\r\n    }());\n\n    var ServerProtocol = (function () {\r\n        function ServerProtocol(session, clientRepository, serverRepository, logger) {\r\n            var _this = this;\r\n            this.session = session;\r\n            this.clientRepository = clientRepository;\r\n            this.serverRepository = serverRepository;\r\n            this.logger = logger;\r\n            this.callbacks = lib();\r\n            this.streaming = new ServerStreaming$1(session, clientRepository, serverRepository);\r\n            this.session.on(\"invoke\", function (msg) { return _this.handleInvokeMessage(msg); });\r\n        }\r\n        ServerProtocol.prototype.createStream = function (repoMethod) {\r\n            repoMethod.protocolState.subscriptionsMap = {};\r\n            repoMethod.protocolState.branchKeyToStreamIdMap = [];\r\n            return this.register(repoMethod, true);\r\n        };\r\n        ServerProtocol.prototype.register = function (repoMethod, isStreaming) {\r\n            var _this = this;\r\n            var methodDef = repoMethod.definition;\r\n            var flags = { streaming: isStreaming || false };\r\n            var registerMsg = {\r\n                type: \"register\",\r\n                methods: [{\r\n                        id: repoMethod.repoId,\r\n                        name: methodDef.name,\r\n                        display_name: methodDef.displayName,\r\n                        description: methodDef.description,\r\n                        version: methodDef.version,\r\n                        flags: flags,\r\n                        object_types: methodDef.objectTypes || methodDef.object_types,\r\n                        input_signature: methodDef.accepts,\r\n                        result_signature: methodDef.returns,\r\n                        restrictions: undefined,\r\n                    }],\r\n            };\r\n            return this.session.send(registerMsg, { methodId: repoMethod.repoId })\r\n                .then(function () {\r\n                _this.logger.debug(\"registered method \" + repoMethod.definition.name + \" with id \" + repoMethod.repoId);\r\n            })\r\n                .catch(function (msg) {\r\n                _this.logger.warn(\"failed to register method \" + repoMethod.definition.name + \" with id \" + repoMethod.repoId + \" - \" + JSON.stringify(msg));\r\n                throw msg;\r\n            });\r\n        };\r\n        ServerProtocol.prototype.onInvoked = function (callback) {\r\n            this.callbacks.add(\"onInvoked\", callback);\r\n        };\r\n        ServerProtocol.prototype.methodInvocationResult = function (method, invocationId, err, result) {\r\n            var msg;\r\n            if (err || err === \"\") {\r\n                msg = {\r\n                    type: \"error\",\r\n                    request_id: invocationId,\r\n                    reason_uri: \"agm.errors.client_error\",\r\n                    reason: err,\r\n                    context: result,\r\n                    peer_id: undefined,\r\n                };\r\n            }\r\n            else {\r\n                msg = {\r\n                    type: \"yield\",\r\n                    invocation_id: invocationId,\r\n                    peer_id: this.session.peerId,\r\n                    result: result,\r\n                    request_id: undefined,\r\n                };\r\n            }\r\n            this.session.sendFireAndForget(msg);\r\n        };\r\n        ServerProtocol.prototype.unregister = function (method) {\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var msg;\r\n                return __generator$1(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            msg = {\r\n                                type: \"unregister\",\r\n                                methods: [method.repoId],\r\n                            };\r\n                            return [4, this.session.send(msg)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ServerProtocol.prototype.getBranchList = function (method) {\r\n            return this.streaming.getBranchList(method);\r\n        };\r\n        ServerProtocol.prototype.getSubscriptionList = function (method, branchKey) {\r\n            return this.streaming.getSubscriptionList(method, branchKey);\r\n        };\r\n        ServerProtocol.prototype.closeAllSubscriptions = function (method, branchKey) {\r\n            this.streaming.closeMultipleSubscriptions(method, branchKey);\r\n        };\r\n        ServerProtocol.prototype.pushData = function (method, data, branches) {\r\n            this.streaming.pushData(method, data, branches);\r\n        };\r\n        ServerProtocol.prototype.pushDataToSingle = function (method, subscription, data) {\r\n            this.streaming.pushDataToSingle(method, subscription, data);\r\n        };\r\n        ServerProtocol.prototype.closeSingleSubscription = function (method, subscription) {\r\n            this.streaming.closeSingleSubscription(method, subscription);\r\n        };\r\n        ServerProtocol.prototype.acceptRequestOnBranch = function (requestContext, method, branch) {\r\n            this.streaming.acceptRequestOnBranch(requestContext, method, branch);\r\n        };\r\n        ServerProtocol.prototype.rejectRequest = function (requestContext, method, reason) {\r\n            this.streaming.rejectRequest(requestContext, method, reason);\r\n        };\r\n        ServerProtocol.prototype.onSubRequest = function (callback) {\r\n            this.streaming.onSubRequest(callback);\r\n        };\r\n        ServerProtocol.prototype.onSubAdded = function (callback) {\r\n            this.streaming.onSubAdded(callback);\r\n        };\r\n        ServerProtocol.prototype.onSubRemoved = function (callback) {\r\n            this.streaming.onSubRemoved(callback);\r\n        };\r\n        ServerProtocol.prototype.handleInvokeMessage = function (msg) {\r\n            var invocationId = msg.invocation_id;\r\n            var callerId = msg.caller_id;\r\n            var methodId = msg.method_id;\r\n            var args = msg.arguments_kv;\r\n            var methodList = this.serverRepository.getList();\r\n            var method = methodList.filter(function (m) {\r\n                return m.repoId === methodId;\r\n            })[0];\r\n            if (method === undefined) {\r\n                return;\r\n            }\r\n            var client = this.clientRepository.getServerById(callerId).instance;\r\n            var invocationArgs = { args: args, instance: client };\r\n            this.callbacks.execute(\"onInvoked\", method, invocationId, invocationArgs);\r\n        };\r\n        return ServerProtocol;\r\n    }());\n\n    var UserSubscription = (function () {\r\n        function UserSubscription(repository, subscriptionData) {\r\n            this.repository = repository;\r\n            this.subscriptionData = subscriptionData;\r\n        }\r\n        Object.defineProperty(UserSubscription.prototype, \"requestArguments\", {\r\n            get: function () {\r\n                return this.subscriptionData.params.arguments || {};\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(UserSubscription.prototype, \"servers\", {\r\n            get: function () {\r\n                var _this = this;\r\n                return this.subscriptionData.trackedServers\r\n                    .filter(function (pair) { return pair.subscriptionId; })\r\n                    .map(function (pair) { return _this.repository.getServerById(pair.serverId).instance; });\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(UserSubscription.prototype, \"serverInstance\", {\r\n            get: function () {\r\n                return this.servers[0];\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(UserSubscription.prototype, \"stream\", {\r\n            get: function () {\r\n                return this.subscriptionData.method;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        UserSubscription.prototype.onData = function (dataCallback) {\r\n            if (typeof dataCallback !== \"function\") {\r\n                throw new TypeError(\"The data callback must be a function.\");\r\n            }\r\n            this.subscriptionData.handlers.onData.push(dataCallback);\r\n            if (this.subscriptionData.handlers.onData.length === 1 && this.subscriptionData.queued.data.length > 0) {\r\n                this.subscriptionData.queued.data.forEach(function (dataItem) {\r\n                    dataCallback(dataItem);\r\n                });\r\n            }\r\n        };\r\n        UserSubscription.prototype.onClosed = function (closedCallback) {\r\n            if (typeof closedCallback !== \"function\") {\r\n                throw new TypeError(\"The callback must be a function.\");\r\n            }\r\n            this.subscriptionData.handlers.onClosed.push(closedCallback);\r\n        };\r\n        UserSubscription.prototype.onFailed = function (callback) {\r\n        };\r\n        UserSubscription.prototype.onConnected = function (callback) {\r\n            if (typeof callback !== \"function\") {\r\n                throw new TypeError(\"The callback must be a function.\");\r\n            }\r\n            this.subscriptionData.handlers.onConnected.push(callback);\r\n        };\r\n        UserSubscription.prototype.close = function () {\r\n            this.subscriptionData.close();\r\n        };\r\n        UserSubscription.prototype.setNewSubscription = function (newSub) {\r\n            this.subscriptionData = newSub;\r\n        };\r\n        return UserSubscription;\r\n    }());\n\n    var STATUS_AWAITING_ACCEPT = \"awaitingAccept\";\r\n    var STATUS_SUBSCRIBED = \"subscribed\";\r\n    var ERR_MSG_SUB_FAILED = \"Subscription failed.\";\r\n    var ERR_MSG_SUB_REJECTED = \"Subscription rejected.\";\r\n    var ON_CLOSE_MSG_SERVER_INIT = \"ServerInitiated\";\r\n    var ON_CLOSE_MSG_CLIENT_INIT = \"ClientInitiated\";\r\n    var ClientStreaming = (function () {\r\n        function ClientStreaming(session, repository, logger) {\r\n            var _this = this;\r\n            this.session = session;\r\n            this.repository = repository;\r\n            this.logger = logger;\r\n            this.subscriptionsList = {};\r\n            this.subscriptionIdToLocalKeyMap = {};\r\n            this.nextSubLocalKey = 0;\r\n            this.handleErrorSubscribing = function (errorResponse) {\r\n                var tag = errorResponse._tag;\r\n                var subLocalKey = tag.subLocalKey;\r\n                var pendingSub = _this.subscriptionsList[subLocalKey];\r\n                if (typeof pendingSub !== \"object\") {\r\n                    return;\r\n                }\r\n                pendingSub.trackedServers = pendingSub.trackedServers.filter(function (server) {\r\n                    return server.serverId !== tag.serverId;\r\n                });\r\n                if (pendingSub.trackedServers.length <= 0) {\r\n                    clearTimeout(pendingSub.timeoutId);\r\n                    if (pendingSub.status === STATUS_AWAITING_ACCEPT) {\r\n                        var reason = (typeof errorResponse.reason === \"string\" && errorResponse.reason !== \"\") ?\r\n                            ' Publisher said \"' + errorResponse.reason + '\".' :\r\n                            \" No reason given.\";\r\n                        var callArgs = typeof pendingSub.params.arguments === \"object\" ?\r\n                            JSON.stringify(pendingSub.params.arguments) :\r\n                            \"{}\";\r\n                        pendingSub.error({\r\n                            message: ERR_MSG_SUB_REJECTED + reason + \" Called with:\" + callArgs,\r\n                            called_with: pendingSub.params.arguments,\r\n                            method: pendingSub.method,\r\n                        });\r\n                    }\r\n                    else if (pendingSub.status === STATUS_SUBSCRIBED) {\r\n                        _this.callOnClosedHandlers(pendingSub);\r\n                    }\r\n                    delete _this.subscriptionsList[subLocalKey];\r\n                }\r\n            };\r\n            this.handleSubscribed = function (msg) {\r\n                var subLocalKey = msg._tag.subLocalKey;\r\n                var pendingSub = _this.subscriptionsList[subLocalKey];\r\n                if (typeof pendingSub !== \"object\") {\r\n                    return;\r\n                }\r\n                var serverId = msg._tag.serverId;\r\n                var acceptingServer = pendingSub.trackedServers\r\n                    .filter(function (server) {\r\n                    return server.serverId === serverId;\r\n                })[0];\r\n                if (typeof acceptingServer !== \"object\") {\r\n                    return;\r\n                }\r\n                acceptingServer.subscriptionId = msg.subscription_id;\r\n                _this.subscriptionIdToLocalKeyMap[msg.subscription_id] = subLocalKey;\r\n                var isFirstResponse = (pendingSub.status === STATUS_AWAITING_ACCEPT);\r\n                pendingSub.status = STATUS_SUBSCRIBED;\r\n                if (isFirstResponse) {\r\n                    var reconnect = false;\r\n                    var sub = pendingSub.subscription;\r\n                    if (sub) {\r\n                        sub.setNewSubscription(pendingSub);\r\n                        pendingSub.success(sub);\r\n                        reconnect = true;\r\n                    }\r\n                    else {\r\n                        sub = new UserSubscription(_this.repository, pendingSub);\r\n                        pendingSub.subscription = sub;\r\n                        pendingSub.success(sub);\r\n                    }\r\n                    for (var _i = 0, _a = pendingSub.handlers.onConnected; _i < _a.length; _i++) {\r\n                        var handler = _a[_i];\r\n                        try {\r\n                            handler(sub.serverInstance, reconnect);\r\n                        }\r\n                        catch (e) {\r\n                        }\r\n                    }\r\n                }\r\n            };\r\n            this.handleEventData = function (msg) {\r\n                var subLocalKey = _this.subscriptionIdToLocalKeyMap[msg.subscription_id];\r\n                if (typeof subLocalKey === \"undefined\") {\r\n                    return;\r\n                }\r\n                var subscription = _this.subscriptionsList[subLocalKey];\r\n                if (typeof subscription !== \"object\") {\r\n                    return;\r\n                }\r\n                var trackedServersFound = subscription.trackedServers.filter(function (server) {\r\n                    return server.subscriptionId === msg.subscription_id;\r\n                });\r\n                if (trackedServersFound.length !== 1) {\r\n                    return;\r\n                }\r\n                var isPrivateData = msg.oob;\r\n                var sendingServerId = trackedServersFound[0].serverId;\r\n                var receivedStreamData = function () {\r\n                    return {\r\n                        data: msg.data,\r\n                        server: _this.repository.getServerById(sendingServerId).instance,\r\n                        requestArguments: subscription.params.arguments,\r\n                        message: undefined,\r\n                        private: isPrivateData,\r\n                    };\r\n                };\r\n                var onDataHandlers = subscription.handlers.onData;\r\n                var queuedData = subscription.queued.data;\r\n                if (onDataHandlers.length > 0) {\r\n                    onDataHandlers.forEach(function (callback) {\r\n                        if (typeof callback === \"function\") {\r\n                            callback(receivedStreamData());\r\n                        }\r\n                    });\r\n                }\r\n                else {\r\n                    queuedData.push(receivedStreamData());\r\n                }\r\n            };\r\n            this.handleSubscriptionCancelled = function (msg) {\r\n                var subLocalKey = _this.subscriptionIdToLocalKeyMap[msg.subscription_id];\r\n                if (typeof subLocalKey === \"undefined\") {\r\n                    return;\r\n                }\r\n                var subscription = _this.subscriptionsList[subLocalKey];\r\n                if (typeof subscription !== \"object\") {\r\n                    return;\r\n                }\r\n                var expectedNewLength = subscription.trackedServers.length - 1;\r\n                subscription.trackedServers = subscription.trackedServers.filter(function (server) {\r\n                    if (server.subscriptionId === msg.subscription_id) {\r\n                        subscription.queued.closers.push(server.serverId);\r\n                        return false;\r\n                    }\r\n                    else {\r\n                        return true;\r\n                    }\r\n                });\r\n                if (subscription.trackedServers.length !== expectedNewLength) {\r\n                    return;\r\n                }\r\n                if (subscription.trackedServers.length <= 0) {\r\n                    clearTimeout(subscription.timeoutId);\r\n                    _this.callOnClosedHandlers(subscription);\r\n                    delete _this.subscriptionsList[subLocalKey];\r\n                }\r\n                delete _this.subscriptionIdToLocalKeyMap[msg.subscription_id];\r\n            };\r\n            session.on(\"subscribed\", this.handleSubscribed);\r\n            session.on(\"event\", this.handleEventData);\r\n            session.on(\"subscription-cancelled\", this.handleSubscriptionCancelled);\r\n        }\r\n        ClientStreaming.prototype.subscribe = function (streamingMethod, params, targetServers, success, error, existingSub) {\r\n            var _this = this;\r\n            if (targetServers.length === 0) {\r\n                error({\r\n                    method: streamingMethod,\r\n                    called_with: params.arguments,\r\n                    message: ERR_MSG_SUB_FAILED + \" No available servers matched the target params.\",\r\n                });\r\n                return;\r\n            }\r\n            var subLocalKey = this.getNextSubscriptionLocalKey();\r\n            var pendingSub = this.registerSubscription(subLocalKey, streamingMethod, params, success, error, params.methodResponseTimeout || 10000, existingSub);\r\n            if (typeof pendingSub !== \"object\") {\r\n                error({\r\n                    method: streamingMethod,\r\n                    called_with: params.arguments,\r\n                    message: ERR_MSG_SUB_FAILED + \" Unable to register the user callbacks.\",\r\n                });\r\n                return;\r\n            }\r\n            targetServers.forEach(function (target) {\r\n                var serverId = target.server.id;\r\n                var method = target.methods.find(function (m) { return m.name === streamingMethod.name; });\r\n                if (!method) {\r\n                    _this.logger.error(\"can not find method \" + streamingMethod.name + \" for target \" + target.server.id);\r\n                    return;\r\n                }\r\n                pendingSub.trackedServers.push({\r\n                    serverId: serverId,\r\n                    subscriptionId: undefined,\r\n                });\r\n                var msg = {\r\n                    type: \"subscribe\",\r\n                    server_id: serverId,\r\n                    method_id: method.gatewayId,\r\n                    arguments_kv: params.arguments,\r\n                };\r\n                _this.session.send(msg, { serverId: serverId, subLocalKey: subLocalKey })\r\n                    .then(function (m) { return _this.handleSubscribed(m); })\r\n                    .catch(function (err) { return _this.handleErrorSubscribing(err); });\r\n            });\r\n        };\r\n        ClientStreaming.prototype.drainSubscriptions = function () {\r\n            var existing = Object.values(this.subscriptionsList);\r\n            this.subscriptionsList = {};\r\n            this.subscriptionIdToLocalKeyMap = {};\r\n            return existing;\r\n        };\r\n        ClientStreaming.prototype.getNextSubscriptionLocalKey = function () {\r\n            var current = this.nextSubLocalKey;\r\n            this.nextSubLocalKey += 1;\r\n            return current;\r\n        };\r\n        ClientStreaming.prototype.registerSubscription = function (subLocalKey, method, params, success, error, timeout, existingSub) {\r\n            var _this = this;\r\n            var subsInfo = {\r\n                localKey: subLocalKey,\r\n                status: STATUS_AWAITING_ACCEPT,\r\n                method: method,\r\n                params: params,\r\n                success: success,\r\n                error: error,\r\n                trackedServers: [],\r\n                handlers: {\r\n                    onData: (existingSub === null || existingSub === void 0 ? void 0 : existingSub.handlers.onData) || [],\r\n                    onClosed: (existingSub === null || existingSub === void 0 ? void 0 : existingSub.handlers.onClosed) || [],\r\n                    onConnected: (existingSub === null || existingSub === void 0 ? void 0 : existingSub.handlers.onConnected) || [],\r\n                },\r\n                queued: {\r\n                    data: [],\r\n                    closers: [],\r\n                },\r\n                timeoutId: undefined,\r\n                close: function () { return _this.closeSubscription(subLocalKey); },\r\n                subscription: existingSub === null || existingSub === void 0 ? void 0 : existingSub.subscription\r\n            };\r\n            if (!existingSub) {\r\n                if (params.onData) {\r\n                    subsInfo.handlers.onData.push(params.onData);\r\n                }\r\n                if (params.onClosed) {\r\n                    subsInfo.handlers.onClosed.push(params.onClosed);\r\n                }\r\n                if (params.onConnected) {\r\n                    subsInfo.handlers.onConnected.push(params.onConnected);\r\n                }\r\n            }\r\n            this.subscriptionsList[subLocalKey] = subsInfo;\r\n            subsInfo.timeoutId = setTimeout(function () {\r\n                if (_this.subscriptionsList[subLocalKey] === undefined) {\r\n                    return;\r\n                }\r\n                var pendingSub = _this.subscriptionsList[subLocalKey];\r\n                if (pendingSub.status === STATUS_AWAITING_ACCEPT) {\r\n                    error({\r\n                        method: method,\r\n                        called_with: params.arguments,\r\n                        message: ERR_MSG_SUB_FAILED + \" Subscription attempt timed out after \" + timeout + \" ms.\",\r\n                    });\r\n                    delete _this.subscriptionsList[subLocalKey];\r\n                }\r\n                else if (pendingSub.status === STATUS_SUBSCRIBED && pendingSub.trackedServers.length > 0) {\r\n                    pendingSub.trackedServers = pendingSub.trackedServers.filter(function (server) {\r\n                        return (typeof server.subscriptionId !== \"undefined\");\r\n                    });\r\n                    delete pendingSub.timeoutId;\r\n                    if (pendingSub.trackedServers.length <= 0) {\r\n                        _this.callOnClosedHandlers(pendingSub);\r\n                        delete _this.subscriptionsList[subLocalKey];\r\n                    }\r\n                }\r\n            }, timeout);\r\n            return subsInfo;\r\n        };\r\n        ClientStreaming.prototype.callOnClosedHandlers = function (subscription, reason) {\r\n            var closersCount = subscription.queued.closers.length;\r\n            var closingServerId = (closersCount > 0) ? subscription.queued.closers[closersCount - 1] : null;\r\n            var closingServer;\r\n            if (closingServerId !== undefined && typeof closingServerId === \"string\") {\r\n                closingServer = this.repository.getServerById(closingServerId).instance;\r\n            }\r\n            subscription.handlers.onClosed.forEach(function (callback) {\r\n                if (typeof callback !== \"function\") {\r\n                    return;\r\n                }\r\n                callback({\r\n                    message: reason || ON_CLOSE_MSG_SERVER_INIT,\r\n                    requestArguments: subscription.params.arguments || {},\r\n                    server: closingServer,\r\n                    stream: subscription.method,\r\n                });\r\n            });\r\n        };\r\n        ClientStreaming.prototype.closeSubscription = function (subLocalKey) {\r\n            var _this = this;\r\n            var subscription = this.subscriptionsList[subLocalKey];\r\n            if (typeof subscription !== \"object\") {\r\n                return;\r\n            }\r\n            subscription.trackedServers.forEach(function (server) {\r\n                if (typeof server.subscriptionId === \"undefined\") {\r\n                    return;\r\n                }\r\n                subscription.queued.closers.push(server.serverId);\r\n                _this.session.sendFireAndForget({\r\n                    type: \"unsubscribe\",\r\n                    subscription_id: server.subscriptionId,\r\n                    reason_uri: \"\",\r\n                    reason: ON_CLOSE_MSG_CLIENT_INIT,\r\n                });\r\n                delete _this.subscriptionIdToLocalKeyMap[server.subscriptionId];\r\n            });\r\n            subscription.trackedServers = [];\r\n            this.callOnClosedHandlers(subscription, ON_CLOSE_MSG_CLIENT_INIT);\r\n            delete this.subscriptionsList[subLocalKey];\r\n        };\r\n        return ClientStreaming;\r\n    }());\n\n    var ClientProtocol = (function () {\r\n        function ClientProtocol(session, repository, logger) {\r\n            var _this = this;\r\n            this.session = session;\r\n            this.repository = repository;\r\n            this.logger = logger;\r\n            session.on(\"peer-added\", function (msg) { return _this.handlePeerAdded(msg); });\r\n            session.on(\"peer-removed\", function (msg) { return _this.handlePeerRemoved(msg); });\r\n            session.on(\"methods-added\", function (msg) { return _this.handleMethodsAddedMessage(msg); });\r\n            session.on(\"methods-removed\", function (msg) { return _this.handleMethodsRemovedMessage(msg); });\r\n            this.streaming = new ClientStreaming(session, repository, logger);\r\n        }\r\n        ClientProtocol.prototype.subscribe = function (stream, options, targetServers, success, error, existingSub) {\r\n            this.streaming.subscribe(stream, options, targetServers, success, error, existingSub);\r\n        };\r\n        ClientProtocol.prototype.invoke = function (id, method, args, target) {\r\n            var _this = this;\r\n            var serverId = target.id;\r\n            var methodId = method.gatewayId;\r\n            var msg = {\r\n                type: \"call\",\r\n                server_id: serverId,\r\n                method_id: methodId,\r\n                arguments_kv: args,\r\n            };\r\n            return this.session.send(msg, { invocationId: id, serverId: serverId })\r\n                .then(function (m) { return _this.handleResultMessage(m); })\r\n                .catch(function (err) { return _this.handleInvocationError(err); });\r\n        };\r\n        ClientProtocol.prototype.drainSubscriptions = function () {\r\n            return this.streaming.drainSubscriptions();\r\n        };\r\n        ClientProtocol.prototype.handlePeerAdded = function (msg) {\r\n            var newPeerId = msg.new_peer_id;\r\n            var remoteId = msg.identity;\r\n            var isLocal = msg.meta ? msg.meta.local : true;\r\n            var pid = Number(remoteId.process);\r\n            var serverInfo = {\r\n                machine: remoteId.machine,\r\n                pid: isNaN(pid) ? remoteId.process : pid,\r\n                instance: remoteId.instance,\r\n                application: remoteId.application,\r\n                applicationName: remoteId.applicationName,\r\n                environment: remoteId.environment,\r\n                region: remoteId.region,\r\n                user: remoteId.user,\r\n                windowId: remoteId.windowId,\r\n                peerId: newPeerId,\r\n                api: remoteId.api,\r\n                isLocal: isLocal\r\n            };\r\n            this.repository.addServer(serverInfo, newPeerId);\r\n        };\r\n        ClientProtocol.prototype.handlePeerRemoved = function (msg) {\r\n            var removedPeerId = msg.removed_id;\r\n            var reason = msg.reason;\r\n            this.repository.removeServerById(removedPeerId, reason);\r\n        };\r\n        ClientProtocol.prototype.handleMethodsAddedMessage = function (msg) {\r\n            var _this = this;\r\n            var serverId = msg.server_id;\r\n            var methods = msg.methods;\r\n            methods.forEach(function (method) {\r\n                _this.repository.addServerMethod(serverId, method);\r\n            });\r\n        };\r\n        ClientProtocol.prototype.handleMethodsRemovedMessage = function (msg) {\r\n            var _this = this;\r\n            var serverId = msg.server_id;\r\n            var methodIdList = msg.methods;\r\n            var server = this.repository.getServerById(serverId);\r\n            var serverMethodKeys = Object.keys(server.methods);\r\n            serverMethodKeys.forEach(function (methodKey) {\r\n                var method = server.methods[methodKey];\r\n                if (methodIdList.indexOf(method.gatewayId) > -1) {\r\n                    _this.repository.removeServerMethod(serverId, methodKey);\r\n                }\r\n            });\r\n        };\r\n        ClientProtocol.prototype.handleResultMessage = function (msg) {\r\n            var invocationId = msg._tag.invocationId;\r\n            var result = msg.result;\r\n            var serverId = msg._tag.serverId;\r\n            var server = this.repository.getServerById(serverId);\r\n            return {\r\n                invocationId: invocationId,\r\n                result: result,\r\n                instance: server.instance,\r\n                status: InvokeStatus.Success,\r\n                message: \"\"\r\n            };\r\n        };\r\n        ClientProtocol.prototype.handleInvocationError = function (msg) {\r\n            this.logger.debug(\"handle invocation error \" + JSON.stringify(msg));\r\n            if (\"_tag\" in msg) {\r\n                var invocationId = msg._tag.invocationId;\r\n                var serverId = msg._tag.serverId;\r\n                var server = this.repository.getServerById(serverId);\r\n                var message = msg.reason;\r\n                var context_1 = msg.context;\r\n                return {\r\n                    invocationId: invocationId,\r\n                    result: context_1,\r\n                    instance: server.instance,\r\n                    status: InvokeStatus.Error,\r\n                    message: message\r\n                };\r\n            }\r\n            else {\r\n                return {\r\n                    invocationId: \"\",\r\n                    message: msg.message,\r\n                    status: InvokeStatus.Error,\r\n                    error: msg\r\n                };\r\n            }\r\n        };\r\n        return ClientProtocol;\r\n    }());\n\n    function gW3ProtocolFactory (instance, connection, clientRepository, serverRepository, libConfig, interop) {\r\n        var logger = libConfig.logger.subLogger(\"gw3-protocol\");\r\n        var resolveReadyPromise;\r\n        var readyPromise = new Promise(function (resolve) {\r\n            resolveReadyPromise = resolve;\r\n        });\r\n        var session = connection.domain(\"agm\", [\"subscribed\"]);\r\n        var server = new ServerProtocol(session, clientRepository, serverRepository, logger.subLogger(\"server\"));\r\n        var client = new ClientProtocol(session, clientRepository, logger.subLogger(\"client\"));\r\n        function handleReconnect() {\r\n            logger.info(\"reconnected - will replay registered methods and subscriptions\");\r\n            var existingSubscriptions = client.drainSubscriptions();\r\n            for (var _i = 0, existingSubscriptions_1 = existingSubscriptions; _i < existingSubscriptions_1.length; _i++) {\r\n                var sub = existingSubscriptions_1[_i];\r\n                var methodInfo = sub.method;\r\n                var params = Object.assign({}, sub.params);\r\n                logger.info(\"trying to re-subscribe to method \" + methodInfo.name);\r\n                interop.client.subscribe(methodInfo, params, undefined, undefined, sub);\r\n            }\r\n            var registeredMethods = serverRepository.getList();\r\n            serverRepository.reset();\r\n            for (var _a = 0, registeredMethods_1 = registeredMethods; _a < registeredMethods_1.length; _a++) {\r\n                var method = registeredMethods_1[_a];\r\n                var def = method.definition;\r\n                logger.info(\"re-publishing method \" + def.name);\r\n                if (method.stream) {\r\n                    interop.server.createStream(def, method.streamCallbacks, undefined, undefined, method.stream);\r\n                }\r\n                else if (method.theFunction && method.theFunction.userCallback) {\r\n                    interop.register(def, method.theFunction.userCallback);\r\n                }\r\n                else if (method.theFunction && method.theFunction.userCallbackAsync) {\r\n                    interop.registerAsync(def, method.theFunction.userCallbackAsync);\r\n                }\r\n            }\r\n        }\r\n        function handleInitialJoin() {\r\n            if (resolveReadyPromise) {\r\n                resolveReadyPromise({\r\n                    client: client,\r\n                    server: server,\r\n                });\r\n                resolveReadyPromise = undefined;\r\n            }\r\n        }\r\n        session.onJoined(function (reconnect) {\r\n            clientRepository.addServer(instance, connection.peerId);\r\n            if (reconnect) {\r\n                handleReconnect();\r\n            }\r\n            else {\r\n                handleInitialJoin();\r\n            }\r\n        });\r\n        session.onLeft(function () {\r\n            clientRepository.reset();\r\n        });\r\n        session.join();\r\n        return readyPromise;\r\n    }\n\n    var Interop = (function () {\r\n        function Interop(configuration) {\r\n            var _this = this;\r\n            if (typeof configuration === \"undefined\") {\r\n                throw new Error(\"configuration is required\");\r\n            }\r\n            if (typeof configuration.connection === \"undefined\") {\r\n                throw new Error(\"configuration.connections is required\");\r\n            }\r\n            var connection = configuration.connection;\r\n            if (typeof configuration.methodResponseTimeout !== \"number\") {\r\n                configuration.methodResponseTimeout = 30 * 1000;\r\n            }\r\n            if (typeof configuration.waitTimeoutMs !== \"number\") {\r\n                configuration.waitTimeoutMs = 30 * 1000;\r\n            }\r\n            InstanceWrapper.API = this;\r\n            this.instance = new InstanceWrapper(undefined, connection).unwrap();\r\n            this.clientRepository = new ClientRepository(configuration.logger.subLogger(\"cRep\"));\r\n            this.serverRepository = new ServerRepository();\r\n            var protocolPromise;\r\n            if (connection.protocolVersion === 3) {\r\n                protocolPromise = gW3ProtocolFactory(this.instance, connection, this.clientRepository, this.serverRepository, configuration, this);\r\n            }\r\n            else {\r\n                throw new Error(\"protocol \" + connection.protocolVersion + \" not supported\");\r\n            }\r\n            this.readyPromise = protocolPromise.then(function (protocol) {\r\n                _this.protocol = protocol;\r\n                _this.client = new Client(_this.protocol, _this.clientRepository, _this.instance, configuration);\r\n                _this.server = new Server(_this.protocol, _this.serverRepository);\r\n                return _this;\r\n            });\r\n        }\r\n        Interop.prototype.ready = function () {\r\n            return this.readyPromise;\r\n        };\r\n        Interop.prototype.serverRemoved = function (callback) {\r\n            return this.client.serverRemoved(callback);\r\n        };\r\n        Interop.prototype.serverAdded = function (callback) {\r\n            return this.client.serverAdded(callback);\r\n        };\r\n        Interop.prototype.serverMethodRemoved = function (callback) {\r\n            return this.client.serverMethodRemoved(callback);\r\n        };\r\n        Interop.prototype.serverMethodAdded = function (callback) {\r\n            return this.client.serverMethodAdded(callback);\r\n        };\r\n        Interop.prototype.methodRemoved = function (callback) {\r\n            return this.client.methodRemoved(callback);\r\n        };\r\n        Interop.prototype.methodAdded = function (callback) {\r\n            return this.client.methodAdded(callback);\r\n        };\r\n        Interop.prototype.methodsForInstance = function (instance) {\r\n            return this.client.methodsForInstance(instance);\r\n        };\r\n        Interop.prototype.methods = function (methodFilter) {\r\n            return this.client.methods(methodFilter);\r\n        };\r\n        Interop.prototype.servers = function (methodFilter) {\r\n            return this.client.servers(methodFilter);\r\n        };\r\n        Interop.prototype.subscribe = function (method, options, successCallback, errorCallback) {\r\n            return this.client.subscribe(method, options, successCallback, errorCallback);\r\n        };\r\n        Interop.prototype.createStream = function (streamDef, callbacks, successCallback, errorCallback) {\r\n            return this.server.createStream(streamDef, callbacks, successCallback, errorCallback);\r\n        };\r\n        Interop.prototype.unregister = function (methodFilter) {\r\n            return this.server.unregister(methodFilter);\r\n        };\r\n        Interop.prototype.registerAsync = function (methodDefinition, callback) {\r\n            return this.server.registerAsync(methodDefinition, callback);\r\n        };\r\n        Interop.prototype.register = function (methodDefinition, callback) {\r\n            return this.server.register(methodDefinition, callback);\r\n        };\r\n        Interop.prototype.invoke = function (methodFilter, argumentObj, target, additionalOptions, success, error) {\r\n            return this.client.invoke(methodFilter, argumentObj, target, additionalOptions, success, error);\r\n        };\r\n        return Interop;\r\n    }());\n\n    var successMessages = [\"subscribed\", \"success\"];\r\n    var MessageBus = (function () {\r\n        function MessageBus(connection, logger) {\r\n            var _this = this;\r\n            this.publish = function (topic, data, options) {\r\n                var _a = options || {}, routingKey = _a.routingKey, target = _a.target;\r\n                var args = _this.removeEmptyValues({\r\n                    type: \"publish\",\r\n                    topic: topic,\r\n                    data: data,\r\n                    peer_id: _this.peerId,\r\n                    routing_key: routingKey,\r\n                    target_identity: target\r\n                });\r\n                _this.session.send(args);\r\n            };\r\n            this.subscribe = function (topic, callback, options) {\r\n                return new Promise(function (resolve, reject) {\r\n                    var _a = options || {}, routingKey = _a.routingKey, target = _a.target;\r\n                    var args = _this.removeEmptyValues({\r\n                        type: \"subscribe\",\r\n                        topic: topic,\r\n                        peer_id: _this.peerId,\r\n                        routing_key: routingKey,\r\n                        source: target\r\n                    });\r\n                    _this.session.send(args)\r\n                        .then(function (response) {\r\n                        var subscription_id = response.subscription_id;\r\n                        _this.subscriptions.push({ subscription_id: subscription_id, topic: topic, callback: callback, source: target });\r\n                        resolve({\r\n                            unsubscribe: function () {\r\n                                _this.session.send({ type: \"unsubscribe\", subscription_id: subscription_id, peer_id: _this.peerId });\r\n                                _this.subscriptions = _this.subscriptions.filter(function (s) { return s.subscription_id !== subscription_id; });\r\n                                return Promise.resolve();\r\n                            }\r\n                        });\r\n                    })\r\n                        .catch(function (error) { return reject(error); });\r\n                });\r\n            };\r\n            this.watchOnEvent = function () {\r\n                _this.session.on(\"event\", function (args) {\r\n                    var data = args.data, subscription_id = args.subscription_id;\r\n                    var source = args[\"publisher-identity\"];\r\n                    var subscription = _this.subscriptions.find(function (s) { return s.subscription_id === subscription_id; });\r\n                    if (subscription) {\r\n                        if (!subscription.source) {\r\n                            subscription.callback(data, subscription.topic, source);\r\n                        }\r\n                        else {\r\n                            if (_this.keysMatch(subscription.source, source)) {\r\n                                subscription.callback(data, subscription.topic, source);\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n            };\r\n            this.connection = connection;\r\n            this.logger = logger;\r\n            this.peerId = connection.peerId;\r\n            this.subscriptions = [];\r\n            this.session = connection.domain(\"bus\", successMessages);\r\n            this.readyPromise = this.session.join();\r\n            this.readyPromise.then(function () {\r\n                _this.watchOnEvent();\r\n            });\r\n        }\r\n        MessageBus.prototype.ready = function () {\r\n            return this.readyPromise;\r\n        };\r\n        MessageBus.prototype.removeEmptyValues = function (obj) {\r\n            var cleaned = {};\r\n            Object.keys(obj).forEach(function (key) {\r\n                if (obj[key] !== undefined && obj[key] !== null) {\r\n                    cleaned[key] = obj[key];\r\n                }\r\n            });\r\n            return cleaned;\r\n        };\r\n        MessageBus.prototype.keysMatch = function (obj1, obj2) {\r\n            var keysObj1 = Object.keys(obj1);\r\n            var allMatch = true;\r\n            keysObj1.forEach(function (key) {\r\n                if (obj1[key] !== obj2[key]) {\r\n                    allMatch = false;\r\n                }\r\n            });\r\n            return allMatch;\r\n        };\r\n        return MessageBus;\r\n    }());\n\n    var GlueCore = function (userConfig, ext) {\r\n        var gdVersion = Utils.getGDMajorVersion();\r\n        var glue42gd;\r\n        var preloadPromise = Promise.resolve();\r\n        if (gdVersion) {\r\n            if (gdVersion < 3) {\r\n                throw new Error(\"GD v2 is not supported. Use v4 of the API to run in that context.\");\r\n            }\r\n            else if (gdVersion >= 3) {\r\n                glue42gd = window.glue42gd;\r\n                preloadPromise = window.gdPreloadPromise || preloadPromise;\r\n            }\r\n        }\r\n        var glueInitTimer = timer(\"glue\");\r\n        userConfig = userConfig || {};\r\n        ext = ext || {};\r\n        var internalConfig = prepareConfig(userConfig, ext, glue42gd);\r\n        var _connection;\r\n        var _interop;\r\n        var _logger;\r\n        var _metrics;\r\n        var _contexts;\r\n        var _bus;\r\n        var _allowTrace;\r\n        var libs = {};\r\n        function registerLib(name, inner, t) {\r\n            _allowTrace = _logger.canPublish(\"trace\");\r\n            if (_allowTrace) {\r\n                _logger.trace(\"registering \" + name + \" module\");\r\n            }\r\n            var done = function () {\r\n                inner.initTime = t.stop();\r\n                inner.initEndTime = t.endTime;\r\n                inner.marks = t.marks;\r\n                if (_allowTrace) {\r\n                    _logger.trace(name + \" is ready - \" + (t.endTime - t.startTime));\r\n                }\r\n            };\r\n            inner.initStartTime = t.startTime;\r\n            if (inner.ready) {\r\n                inner.ready().then(function () {\r\n                    done();\r\n                });\r\n            }\r\n            else {\r\n                done();\r\n            }\r\n            if (!Array.isArray(name)) {\r\n                name = [name];\r\n            }\r\n            name.forEach(function (n) {\r\n                libs[n] = inner;\r\n                GlueCore[n] = inner;\r\n            });\r\n        }\r\n        function setupConnection() {\r\n            var initTimer = timer(\"connection\");\r\n            _connection = new Connection(internalConfig.connection, _logger.subLogger(\"connection\"));\r\n            var authPromise = Promise.resolve(internalConfig.auth);\r\n            if (internalConfig.connection && !internalConfig.auth) {\r\n                if (glue42gd) {\r\n                    authPromise = glue42gd.getGWToken()\r\n                        .then(function (token) {\r\n                        return {\r\n                            gatewayToken: token\r\n                        };\r\n                    });\r\n                }\r\n                else {\r\n                    authPromise = Promise.reject(\"You need to provide auth information\");\r\n                }\r\n            }\r\n            return authPromise\r\n                .then(function (authConfig) {\r\n                initTimer.mark(\"auth-promise-resolved\");\r\n                var authRequest;\r\n                if (Object.prototype.toString.call(authConfig) === \"[object Object]\") {\r\n                    authRequest = authConfig;\r\n                }\r\n                else {\r\n                    throw new Error(\"Invalid auth object - \" + JSON.stringify(authConfig));\r\n                }\r\n                return _connection.login(authRequest);\r\n            })\r\n                .then(function () {\r\n                registerLib(\"connection\", _connection, initTimer);\r\n                return internalConfig;\r\n            })\r\n                .catch(function (e) {\r\n                if (_connection) {\r\n                    _connection.logout();\r\n                }\r\n                throw e;\r\n            });\r\n        }\r\n        function setupLogger() {\r\n            var _a;\r\n            var initTimer = timer(\"logger\");\r\n            _logger = new Logger(\"\" + ((_a = internalConfig.connection.identity) === null || _a === void 0 ? void 0 : _a.application), undefined, internalConfig.customLogger);\r\n            _logger.consoleLevel(internalConfig.logger.console);\r\n            _logger.publishLevel(internalConfig.logger.publish);\r\n            if (_logger.canPublish(\"debug\")) {\r\n                _logger.debug(\"initializing glue...\");\r\n            }\r\n            registerLib(\"logger\", _logger, initTimer);\r\n            return Promise.resolve(undefined);\r\n        }\r\n        function setupMetrics() {\r\n            var _a, _b, _c, _d;\r\n            var initTimer = timer(\"metrics\");\r\n            var config = internalConfig.metrics;\r\n            var metricsPublishingEnabledFunc = glue42gd === null || glue42gd === void 0 ? void 0 : glue42gd.getMetricsPublishingEnabled;\r\n            var identity = internalConfig.connection.identity;\r\n            var canUpdateMetric = metricsPublishingEnabledFunc ? metricsPublishingEnabledFunc : function () { return true; };\r\n            var disableAutoAppSystem = (_a = (typeof config !== \"boolean\" && config.disableAutoAppSystem)) !== null && _a !== void 0 ? _a : false;\r\n            _metrics = metrics({\r\n                connection: config ? _connection : undefined,\r\n                logger: _logger.subLogger(\"metrics\"),\r\n                canUpdateMetric: canUpdateMetric,\r\n                system: \"Glue42\",\r\n                service: (_b = identity === null || identity === void 0 ? void 0 : identity.service) !== null && _b !== void 0 ? _b : \"metrics-service\",\r\n                instance: (_d = (_c = identity === null || identity === void 0 ? void 0 : identity.instance) !== null && _c !== void 0 ? _c : identity === null || identity === void 0 ? void 0 : identity.windowId) !== null && _d !== void 0 ? _d : shortid(),\r\n                disableAutoAppSystem: disableAutoAppSystem,\r\n                pagePerformanceMetrics: typeof config !== \"boolean\" ? config === null || config === void 0 ? void 0 : config.pagePerformanceMetrics : undefined\r\n            });\r\n            registerLib(\"metrics\", _metrics, initTimer);\r\n            return Promise.resolve();\r\n        }\r\n        function setupInterop() {\r\n            var initTimer = timer(\"interop\");\r\n            var agmConfig = {\r\n                connection: _connection,\r\n                logger: _logger.subLogger(\"interop\"),\r\n            };\r\n            _interop = new Interop(agmConfig);\r\n            Logger.Interop = _interop;\r\n            registerLib([\"interop\", \"agm\"], _interop, initTimer);\r\n            return Promise.resolve();\r\n        }\r\n        function setupContexts() {\r\n            var hasActivities = (internalConfig.activities && _connection.protocolVersion === 3);\r\n            var needsContexts = internalConfig.contexts || hasActivities;\r\n            if (needsContexts) {\r\n                var initTimer = timer(\"contexts\");\r\n                _contexts = new ContextsModule({\r\n                    connection: _connection,\r\n                    logger: _logger.subLogger(\"contexts\")\r\n                });\r\n                registerLib(\"contexts\", _contexts, initTimer);\r\n                return _contexts;\r\n            }\r\n            else {\r\n                var replayer = _connection.replayer;\r\n                if (replayer) {\r\n                    replayer.drain(ContextMessageReplaySpec.name);\r\n                }\r\n            }\r\n        }\r\n        function setupBus() {\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var initTimer;\r\n                return __generator$1(this, function (_a) {\r\n                    if (!internalConfig.bus) {\r\n                        return [2, Promise.resolve()];\r\n                    }\r\n                    initTimer = timer(\"bus\");\r\n                    _bus = new MessageBus(_connection, _logger.subLogger(\"bus\"));\r\n                    registerLib(\"bus\", _bus, initTimer);\r\n                    return [2, Promise.resolve()];\r\n                });\r\n            });\r\n        }\r\n        function setupExternalLibs(externalLibs) {\r\n            try {\r\n                externalLibs.forEach(function (lib) {\r\n                    setupExternalLib(lib.name, lib.create);\r\n                });\r\n                return Promise.resolve();\r\n            }\r\n            catch (e) {\r\n                return Promise.reject(e);\r\n            }\r\n        }\r\n        function setupExternalLib(name, createCallback) {\r\n            var initTimer = timer(name);\r\n            var lib = createCallback(libs);\r\n            if (lib) {\r\n                registerLib(name, lib, initTimer);\r\n            }\r\n        }\r\n        function waitForLibs() {\r\n            var libsReadyPromises = Object.keys(libs).map(function (key) {\r\n                var lib = libs[key];\r\n                return lib.ready ?\r\n                    lib.ready() : Promise.resolve();\r\n            });\r\n            return Promise.all(libsReadyPromises);\r\n        }\r\n        function constructGlueObject() {\r\n            var feedbackFunc = function (feedbackInfo) {\r\n                if (!_interop) {\r\n                    return;\r\n                }\r\n                _interop.invoke(\"T42.ACS.Feedback\", feedbackInfo, \"best\");\r\n            };\r\n            var info = {\r\n                coreVersion: version,\r\n                version: internalConfig.version\r\n            };\r\n            glueInitTimer.stop();\r\n            var glue = {\r\n                feedback: feedbackFunc,\r\n                info: info,\r\n                logger: _logger,\r\n                interop: _interop,\r\n                agm: _interop,\r\n                connection: _connection,\r\n                metrics: _metrics,\r\n                contexts: _contexts,\r\n                bus: _bus,\r\n                version: internalConfig.version,\r\n                userConfig: userConfig,\r\n                done: function () {\r\n                    _logger === null || _logger === void 0 ? void 0 : _logger.info(\"done called by user...\");\r\n                    return _connection.logout();\r\n                }\r\n            };\r\n            glue.performance = {\r\n                get glueVer() {\r\n                    return internalConfig.version;\r\n                },\r\n                get glueConfig() {\r\n                    return JSON.stringify(userConfig);\r\n                },\r\n                get browser() {\r\n                    return window.performance.timing.toJSON();\r\n                },\r\n                get memory() {\r\n                    return window.performance.memory;\r\n                },\r\n                get initTimes() {\r\n                    var all = getAllTimers();\r\n                    return Object.keys(all).map(function (key) {\r\n                        var t = all[key];\r\n                        return {\r\n                            name: key,\r\n                            duration: t.endTime - t.startTime,\r\n                            marks: t.marks\r\n                        };\r\n                    });\r\n                }\r\n            };\r\n            Object.keys(libs).forEach(function (key) {\r\n                var lib = libs[key];\r\n                glue[key] = lib;\r\n            });\r\n            glue.config = {};\r\n            Object.keys(internalConfig).forEach(function (k) {\r\n                glue.config[k] = internalConfig[k];\r\n            });\r\n            if (ext && ext.extOptions) {\r\n                Object.keys(ext.extOptions).forEach(function (k) {\r\n                    glue.config[k] = ext === null || ext === void 0 ? void 0 : ext.extOptions[k];\r\n                });\r\n            }\r\n            if (ext === null || ext === void 0 ? void 0 : ext.enrichGlue) {\r\n                ext.enrichGlue(glue);\r\n            }\r\n            if (glue42gd && glue42gd.updatePerfData) {\r\n                glue42gd.updatePerfData(glue.performance);\r\n            }\r\n            if (glue.agm) {\r\n                var deprecatedDecorator = function (fn, wrong, proper) {\r\n                    return function () {\r\n                        glue.logger.warn(\"glue.js - 'glue.agm.\" + wrong + \"' method is deprecated, use 'glue.interop.\" + proper + \"' instead.\");\r\n                        fn.apply(glue.agm, arguments);\r\n                    };\r\n                };\r\n                var agmAny = glue.agm;\r\n                agmAny.method_added = deprecatedDecorator(glue.agm.methodAdded, \"method_added\", \"methodAdded\");\r\n                agmAny.method_removed = deprecatedDecorator(glue.agm.methodRemoved, \"method_removed\", \"methodRemoved\");\r\n                agmAny.server_added = deprecatedDecorator(glue.agm.serverAdded, \"server_added\", \"serverAdded\");\r\n                agmAny.server_method_aded = deprecatedDecorator(glue.agm.serverMethodAdded, \"server_method_aded\", \"serverMethodAdded\");\r\n                agmAny.server_method_removed = deprecatedDecorator(glue.agm.serverMethodRemoved, \"server_method_removed\", \"serverMethodRemoved\");\r\n            }\r\n            return glue;\r\n        }\r\n        return preloadPromise\r\n            .then(setupLogger)\r\n            .then(setupConnection)\r\n            .then(function () { return Promise.all([setupMetrics(), setupInterop(), setupContexts(), setupBus()]); })\r\n            .then(function () { return _interop.readyPromise; })\r\n            .then(function () {\r\n            return setupExternalLibs(internalConfig.libs || []);\r\n        })\r\n            .then(waitForLibs)\r\n            .then(constructGlueObject)\r\n            .catch(function (err) {\r\n            return Promise.reject({\r\n                err: err,\r\n                libs: libs\r\n            });\r\n        });\r\n    };\r\n    if (typeof window !== \"undefined\") {\r\n        window.GlueCore = GlueCore;\r\n    }\r\n    GlueCore.version = version;\r\n    GlueCore.default = GlueCore;\n\n    var ActivityEntity = (function () {\r\n        function ActivityEntity(id) {\r\n            this._id = id;\r\n        }\r\n        Object.defineProperty(ActivityEntity.prototype, \"id\", {\r\n            get: function () {\r\n                return this._id;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ActivityEntity.prototype._update = function (other) {\r\n            if (other._id !== this._id) {\r\n                throw Error(\"Can not update from entity with different id.\");\r\n            }\r\n            this._updateCore(other);\r\n        };\r\n        ActivityEntity.prototype._updateCore = function (other) {\r\n            return;\r\n        };\r\n        ActivityEntity.prototype._beforeDelete = function (other) {\r\n            return;\r\n        };\r\n        return ActivityEntity;\r\n    }());\n\n    function isString(arg) {\r\n        return typeof arg === \"string\";\r\n    }\r\n    function isObject(arg) {\r\n        return typeof arg === \"object\" && arg !== null;\r\n    }\r\n    function isArray(arg) {\r\n        if (Array.isArray) {\r\n            return Array.isArray(arg);\r\n        }\r\n        return toString.call(arg) === \"[object Array]\";\r\n    }\r\n    function isUndefined(arg) {\r\n        return typeof arg === \"undefined\";\r\n    }\r\n    function isUndefinedOrNull(arg) {\r\n        return !arg || typeof arg === \"undefined\";\r\n    }\r\n    function isFunction(arg) {\r\n        return !!(arg && arg.constructor && arg.call && arg.apply);\r\n    }\r\n    function some(array, predicate) {\r\n        for (var index = 0; index < array.length; index++) {\r\n            if (predicate(array[index], index)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    function ifNotUndefined(what, doWithIt) {\r\n        if (typeof what !== \"undefined\") {\r\n            doWithIt(what);\r\n        }\r\n    }\r\n    function promisify$1(promise, successCallback, errorCallback) {\r\n        if (typeof successCallback !== \"function\" && typeof errorCallback !== \"function\") {\r\n            return promise;\r\n        }\r\n        if (typeof successCallback !== \"function\") {\r\n            successCallback = function () { return; };\r\n        }\r\n        else if (typeof errorCallback !== \"function\") {\r\n            errorCallback = function () { return; };\r\n        }\r\n        promise.then(successCallback, errorCallback);\r\n    }\n\n    var ActivityType = (function (_super) {\r\n        __extends(ActivityType, _super);\r\n        function ActivityType(name, ownerWindow, helperWindows, description) {\r\n            var _this = _super.call(this, name) || this;\r\n            _this._name = name;\r\n            _this._description = description;\r\n            _this._ownerWindow = ownerWindow;\r\n            _this._helperWindows = helperWindows || [];\r\n            return _this;\r\n        }\r\n        Object.defineProperty(ActivityType.prototype, \"name\", {\r\n            get: function () {\r\n                return this._name;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityType.prototype, \"description\", {\r\n            get: function () {\r\n                return this._description;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityType.prototype, \"helperWindows\", {\r\n            get: function () {\r\n                var _this = this;\r\n                return this._helperWindows.map(function (hw) { return _this.covertToWindowDef(hw); });\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityType.prototype, \"ownerWindow\", {\r\n            get: function () {\r\n                return this.covertToWindowDef(this._ownerWindow);\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ActivityType.prototype.initiate = function (context, callback, configuration) {\r\n            return this._manager.initiate(this._name, context, callback, configuration);\r\n        };\r\n        ActivityType.prototype._updateCore = function (other) {\r\n            var _this = this;\r\n            _super.prototype._updateCore.call(this, other);\r\n            ifNotUndefined(other._description, function (x) { return _this._description = x; });\r\n            ifNotUndefined(other._ownerWindow, function (x) { return _this._ownerWindow = x; });\r\n            ifNotUndefined(other._helperWindows, function (x) { return _this._helperWindows = x; });\r\n        };\r\n        ActivityType.prototype.covertToWindowDef = function (windowType) {\r\n            var _a, _b, _c, _d;\r\n            return {\r\n                type: (_b = (_a = windowType) === null || _a === void 0 ? void 0 : _a.id) === null || _b === void 0 ? void 0 : _b.type,\r\n                name: (_d = (_c = windowType) === null || _c === void 0 ? void 0 : _c.id) === null || _d === void 0 ? void 0 : _d.name\r\n            };\r\n        };\r\n        return ActivityType;\r\n    }(ActivityEntity));\n\n    var WindowType = (function (_super) {\r\n        __extends(WindowType, _super);\r\n        function WindowType(name, appByWindowTypeGetter) {\r\n            var _this = _super.call(this, name) || this;\r\n            _this._name = name;\r\n            _this._appByWindowTypeGetter = appByWindowTypeGetter;\r\n            return _this;\r\n        }\r\n        Object.defineProperty(WindowType.prototype, \"name\", {\r\n            get: function () {\r\n                return this._name;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(WindowType.prototype, \"config\", {\r\n            get: function () {\r\n                return this._appByWindowTypeGetter(this._name);\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(WindowType.prototype, \"windows\", {\r\n            get: function () {\r\n                return this._manager.getWindows({ type: this._name });\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        WindowType.prototype.create = function (activity, configuration) {\r\n            var definition = Object.assign({ type: this.name, name: this.name, isIndependent: false }, configuration);\r\n            return this._manager.createWindow(activity, definition);\r\n        };\r\n        return WindowType;\r\n    }(ActivityEntity));\n\n    var EntityEvent = (function () {\r\n        function EntityEvent(entitiy, context) {\r\n            this.entity = entitiy;\r\n            this.context = context;\r\n        }\r\n        return EntityEvent;\r\n    }());\r\n    var EntityEventContext = (function () {\r\n        function EntityEventContext(eventType) {\r\n            this.type = eventType;\r\n        }\r\n        return EntityEventContext;\r\n    }());\r\n    var ActivityStatusChangeEventContext = (function (_super) {\r\n        __extends(ActivityStatusChangeEventContext, _super);\r\n        function ActivityStatusChangeEventContext(newStatus, oldStatus) {\r\n            var _this = _super.call(this, EntityEventType.StatusChange) || this;\r\n            _this.newStatus = newStatus;\r\n            _this.oldStatus = oldStatus;\r\n            return _this;\r\n        }\r\n        return ActivityStatusChangeEventContext;\r\n    }(EntityEventContext));\r\n    var ActivityContextChangedEventContext = (function (_super) {\r\n        __extends(ActivityContextChangedEventContext, _super);\r\n        function ActivityContextChangedEventContext(context, updated, removed) {\r\n            var _this = _super.call(this, EntityEventType.ActivityContextChange) || this;\r\n            _this.context = typeof context === \"string\" ? JSON.parse(context) : context;\r\n            _this.updated = updated;\r\n            _this.removed = removed;\r\n            return _this;\r\n        }\r\n        return ActivityContextChangedEventContext;\r\n    }(EntityEventContext));\r\n    var EntityEventType = (function () {\r\n        function EntityEventType() {\r\n        }\r\n        EntityEventType.Added = \"added\";\r\n        EntityEventType.Removed = \"removed\";\r\n        EntityEventType.Updated = \"updated\";\r\n        EntityEventType.Closed = \"closed\";\r\n        EntityEventType.StatusChange = \"statusChange\";\r\n        EntityEventType.ActivityContextChange = \"activityContextUpdate\";\r\n        EntityEventType.ActivityWindowEvent = \"activityWindowEvent\";\r\n        EntityEventType.ActivityWindowJoinedActivity = \"joined\";\r\n        EntityEventType.ActivityWindowLeftActivity = \"left\";\r\n        return EntityEventType;\r\n    }());\r\n    var ActivityState = (function () {\r\n        function ActivityState() {\r\n        }\r\n        ActivityState.Created = \"created\";\r\n        ActivityState.Started = \"started\";\r\n        ActivityState.Destroyed = \"destroyed\";\r\n        return ActivityState;\r\n    }());\n\n    var ActivityAGM = (function () {\r\n        function ActivityAGM(activity) {\r\n            this._activity = activity;\r\n        }\r\n        ActivityAGM.prototype.register = function (definition, handler) {\r\n            this._ensureHasAgm();\r\n            ActivityAGM.AGM.register(definition, handler);\r\n        };\r\n        ActivityAGM.prototype.servers = function () {\r\n            this._ensureHasAgm();\r\n            if (isUndefinedOrNull(this._activity)) {\r\n                return [];\r\n            }\r\n            return this._activity.windows.map(function (w) {\r\n                return w.instance;\r\n            });\r\n        };\r\n        ActivityAGM.prototype.methods = function () {\r\n            var _this = this;\r\n            this._ensureHasAgm();\r\n            if (isUndefinedOrNull(this._activity)) {\r\n                return [];\r\n            }\r\n            var windows = this._activity.windows;\r\n            var methodNames = [];\r\n            var methods = [];\r\n            windows.forEach(function (window) {\r\n                var windowMethods = _this.methodsForWindow(window);\r\n                windowMethods.forEach(function (currentWindowMethod) {\r\n                    if (methodNames.indexOf(currentWindowMethod.name) === -1) {\r\n                        methodNames.push(currentWindowMethod.name);\r\n                        methods.push(currentWindowMethod);\r\n                    }\r\n                });\r\n            });\r\n            return methods;\r\n        };\r\n        ActivityAGM.prototype.methodsForWindow = function (window) {\r\n            this._ensureHasAgm();\r\n            if (!window.instance) {\r\n                return [];\r\n            }\r\n            return ActivityAGM.AGM.methodsForInstance(window.instance);\r\n        };\r\n        ActivityAGM.prototype.invoke = function (methodName, arg, target, options, success, error) {\r\n            this._ensureHasAgm();\r\n            var activityServers = this.servers();\r\n            var serversToInvokeAgainst = [];\r\n            if (isUndefinedOrNull(target)) {\r\n                target = \"activity.all\";\r\n            }\r\n            if (isString(target)) {\r\n                if (target === \"activity.all\") {\r\n                    serversToInvokeAgainst = activityServers;\r\n                }\r\n                else if (target === \"activity.best\") {\r\n                    var potentialTargets = activityServers.filter(function (server) {\r\n                        var methods = ActivityAGM.AGM.methodsForInstance(server);\r\n                        return methods.filter(function (m) {\r\n                            return m.name === methodName;\r\n                        }).length > 0;\r\n                    });\r\n                    if (potentialTargets.length > 0) {\r\n                        serversToInvokeAgainst = [potentialTargets[0]];\r\n                    }\r\n                }\r\n                else if (target === \"all\" || target === \"best\") {\r\n                    return promisify$1(ActivityAGM.AGM.invoke(methodName, arg, target, options), success, error);\r\n                }\r\n                else {\r\n                    throw new Error(\"Invalid invoke target \" + target);\r\n                }\r\n            }\r\n            else if (isArray(target)) {\r\n                if (target.length >= 0) {\r\n                    var firstElem = target[0];\r\n                    if (this._isInstance(firstElem)) {\r\n                        serversToInvokeAgainst = target.map(function (instance) { return instance; });\r\n                    }\r\n                    else if (this._isActivityWindow(firstElem)) {\r\n                        serversToInvokeAgainst = target.map(function (win) { return win.instance; });\r\n                    }\r\n                    else {\r\n                        throw new Error(\"Unknown target object\");\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                if (this._isInstance(target)) {\r\n                    serversToInvokeAgainst = [target];\r\n                }\r\n                else if (this._isActivityWindow(target)) {\r\n                    serversToInvokeAgainst = [target.instance];\r\n                }\r\n                else {\r\n                    throw new Error(\"Unknown target object\");\r\n                }\r\n            }\r\n            throw new Error(\"Not implemented\");\r\n        };\r\n        ActivityAGM.prototype.unregister = function (definition) {\r\n            this._ensureHasAgm();\r\n            return ActivityAGM.AGM.unregister(definition);\r\n        };\r\n        ActivityAGM.prototype.createStream = function (methodDefinition, subscriptionAddedHandler, subscriptionRemovedHandler) {\r\n            this._ensureHasAgm();\r\n            ActivityAGM.AGM.createStream(methodDefinition, {\r\n                subscriptionAddedHandler: subscriptionAddedHandler,\r\n                subscriptionRemovedHandler: subscriptionRemovedHandler,\r\n                subscriptionRequestHandler: undefined\r\n            });\r\n        };\r\n        ActivityAGM.prototype.subscribe = function (methodDefinition, parameters, target) {\r\n            this._ensureHasAgm();\r\n            return ActivityAGM.AGM.subscribe(methodDefinition, parameters);\r\n        };\r\n        ActivityAGM.prototype._ensureHasAgm = function () {\r\n            if (isUndefinedOrNull(ActivityAGM.AGM)) {\r\n                throw new Error(\"Agm should be configured to be used in activity\");\r\n            }\r\n        };\r\n        ActivityAGM.prototype._isInstance = function (obj) {\r\n            return obj.application !== undefined;\r\n        };\r\n        ActivityAGM.prototype._isActivityWindow = function (obj) {\r\n            return obj.instance !== undefined;\r\n        };\r\n        return ActivityAGM;\r\n    }());\n\n    var AttachedActivityDescriptor = (function () {\r\n        function AttachedActivityDescriptor(manager, ownerActivityId, state) {\r\n            this._manager = manager;\r\n            this._ownerActivityId = ownerActivityId;\r\n            this._state = state;\r\n        }\r\n        Object.defineProperty(AttachedActivityDescriptor.prototype, \"ownerId\", {\r\n            get: function () {\r\n                return this._state.ownerId;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(AttachedActivityDescriptor.prototype, \"windowIds\", {\r\n            get: function () {\r\n                return this._state.windowIds;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(AttachedActivityDescriptor.prototype, \"frameColor\", {\r\n            get: function () {\r\n                return this._state.frameColor;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(AttachedActivityDescriptor.prototype, \"context\", {\r\n            get: function () {\r\n                return this._state.context;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(AttachedActivityDescriptor.prototype, \"tag\", {\r\n            get: function () {\r\n                return this._state.tag;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        AttachedActivityDescriptor.prototype.detach = function (descriptor) {\r\n            var _this = this;\r\n            descriptor = descriptor || {};\r\n            var merged = {};\r\n            Object.keys(this._state).forEach(function (prop) {\r\n                merged[prop] = _this._state[prop];\r\n            });\r\n            merged.context = descriptor.context || merged.context;\r\n            merged.frameColor = descriptor.frameColor || merged.frameColor;\r\n            return this._manager.detachActivities(this._ownerActivityId, merged);\r\n        };\r\n        return AttachedActivityDescriptor;\r\n    }());\n\n    var nextTick = function (cb) {\r\n        setTimeout(cb, 0);\r\n    };\r\n    function nodeify(promise, callback) {\r\n        if (!isFunction(callback)) {\r\n            return promise;\r\n        }\r\n        promise.then(function (resp) {\r\n            nextTick(function () {\r\n                callback(null, resp);\r\n            });\r\n        }, function (err) {\r\n            nextTick(function () {\r\n                callback(err, null);\r\n            });\r\n        });\r\n    }\n\n    var Activity = (function (_super) {\r\n        __extends(Activity, _super);\r\n        function Activity(id, actType, status, context, ownerId) {\r\n            var _this = _super.call(this, id) || this;\r\n            _this._id = id;\r\n            _this._actType = actType;\r\n            _this._status = status;\r\n            _this._context = context;\r\n            _this._ownerId = ownerId;\r\n            _this._agm = new ActivityAGM(_this);\r\n            return _this;\r\n        }\r\n        Object.defineProperty(Activity.prototype, \"type\", {\r\n            get: function () {\r\n                if (this._manager) {\r\n                    return this._manager.getActivityType(this._actType);\r\n                }\r\n                return undefined;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Activity.prototype, \"context\", {\r\n            get: function () {\r\n                return this._context;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Activity.prototype, \"status\", {\r\n            get: function () {\r\n                return this._status;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Activity.prototype, \"owner\", {\r\n            get: function () {\r\n                if (!this._ownerId) {\r\n                    return null;\r\n                }\r\n                return this._manager.getWindows({ id: this._ownerId })[0];\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Activity.prototype, \"windows\", {\r\n            get: function () {\r\n                return this._manager.getWindows({ activityId: this._id });\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Activity.prototype, \"agm\", {\r\n            get: function () {\r\n                return this._agm;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Activity.prototype.addWindow = function (window, callback) {\r\n            return this._manager.addWindowToActivity(this, window, callback);\r\n        };\r\n        Activity.prototype.createWindow = function (windowType, callback) {\r\n            return this._manager.createWindow(this, windowType, callback);\r\n        };\r\n        Activity.prototype.createStackedWindows = function (windowTypes, timeout, callback) {\r\n            return this._manager.createStackedWindows(this, windowTypes, timeout, callback);\r\n        };\r\n        Activity.prototype.leave = function (window, callback) {\r\n            return this._manager.leaveWindowFromActivity(this, window, callback);\r\n        };\r\n        Activity.prototype.getWindowsByType = function (windowType) {\r\n            var filter = { activityId: this._id, type: windowType };\r\n            return this._manager.getWindows(filter);\r\n        };\r\n        Activity.prototype.setContext = function (context, callback) {\r\n            return this._manager.setActivityContext(this, context, callback);\r\n        };\r\n        Activity.prototype.updateContext = function (context, callback) {\r\n            return this._manager.updateActivityContext(this, context, callback);\r\n        };\r\n        Activity.prototype.onStatusChange = function (handler) {\r\n            var _this = this;\r\n            return this._manager.subscribeActivityEvents(function (a, ns, os) {\r\n                if (a.id === _this.id) {\r\n                    handler(a, ns, os);\r\n                }\r\n            });\r\n        };\r\n        Activity.prototype.onWindowEvent = function (handler) {\r\n            var _this = this;\r\n            return this._manager.subscribeWindowEvents(function (a, w, e) {\r\n                if (a.id === _this.id) {\r\n                    handler(a, w, e);\r\n                }\r\n            });\r\n        };\r\n        Activity.prototype.onContextChanged = function (handler) {\r\n            var _this = this;\r\n            this._manager.subscribeActivityContextChanged(function (act, context, updated, removed) {\r\n                if (act.id === _this.id) {\r\n                    handler(context, updated, removed, act);\r\n                }\r\n            });\r\n            try {\r\n                handler(this.context, this.context, [], this);\r\n            }\r\n            catch (e) {\r\n                return;\r\n            }\r\n        };\r\n        Activity.prototype.stop = function () {\r\n            this._manager.stopActivity(this);\r\n        };\r\n        Activity.prototype.clone = function (options) {\r\n            return this._manager.clone(this, options);\r\n        };\r\n        Activity.prototype.attach = function (activity, tag) {\r\n            var activityId;\r\n            if (typeof activity === \"string\") {\r\n                activityId = activity;\r\n            }\r\n            else {\r\n                activityId = activity.id;\r\n            }\r\n            return this._manager.attachActivities(activityId, this.id, tag);\r\n        };\r\n        Activity.prototype.onActivityAttached = function (callback) {\r\n            var _this = this;\r\n            this._manager.subscribeActivitiesAttached(function (newActId, oldActId, descriptor) {\r\n                if (newActId !== _this._id) {\r\n                    return;\r\n                }\r\n                callback(descriptor);\r\n            });\r\n        };\r\n        Activity.prototype.onDetached = function (callback) {\r\n            var _this = this;\r\n            this._manager.subscribeActivitiesDetached(function (newAct, originalActivity, state) {\r\n                if (originalActivity.id !== _this._id) {\r\n                    return;\r\n                }\r\n                callback(newAct, state);\r\n            });\r\n        };\r\n        Activity.prototype._updateCore = function (other) {\r\n            var _this = this;\r\n            _super.prototype._updateCore.call(this, other);\r\n            ifNotUndefined(other._actType, function (x) { return _this._actType = x; });\r\n            ifNotUndefined(other._context, function (x) { return _this._context = x; });\r\n            ifNotUndefined(other._ownerId, function (x) { return _this._ownerId = x; });\r\n            if (other._status && (!this._status || (this._status.state !== other._status.state))) {\r\n                this._status = other._status;\r\n            }\r\n        };\r\n        Activity.prototype._updateDescriptors = function (allStates) {\r\n            var _this = this;\r\n            this._attached = allStates.map(function (s) {\r\n                return new AttachedActivityDescriptor(_this._manager, _this._id, s);\r\n            });\r\n        };\r\n        Object.defineProperty(Activity.prototype, \"attached\", {\r\n            get: function () {\r\n                return this._attached;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Activity.prototype.setFrameColor = function (color, callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                var callbacksToWait = _this.windows.length;\r\n                if (callbacksToWait === 0) {\r\n                    resolve(_this);\r\n                }\r\n                _this.windows.forEach(function (w) {\r\n                    w.underlyingWindow.setFrameColor(color, function () {\r\n                        callbacksToWait--;\r\n                        if (callbacksToWait <= 0) {\r\n                            resolve(_this);\r\n                        }\r\n                    });\r\n                });\r\n                setTimeout(function () {\r\n                    if (callbacksToWait > 0) {\r\n                        reject(_this.id + \" - timed out waiting for setFrameColor with\" + color);\r\n                    }\r\n                }, 5000);\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        Activity.prototype.getFrameColor = function () {\r\n            if (!this.windows || this.windows.length === 0) {\r\n                return \"\";\r\n            }\r\n            return this.windows[0].underlyingWindow.frameColor;\r\n        };\r\n        return Activity;\r\n    }(ActivityEntity));\n\n    var LogLevel = (function () {\r\n        function LogLevel() {\r\n        }\r\n        LogLevel.Trace = \"trace\";\r\n        LogLevel.Debug = \"debug\";\r\n        LogLevel.Info = \"info\";\r\n        LogLevel.Warn = \"warn\";\r\n        LogLevel.Error = \"error\";\r\n        return LogLevel;\r\n    }());\r\n    var Logger$1 = (function () {\r\n        function Logger(name) {\r\n            this._name = name;\r\n            if (!isUndefinedOrNull(Logger.GlueLogger)) {\r\n                this._glueLogger = Logger.GlueLogger.subLogger(name);\r\n            }\r\n        }\r\n        Logger.GetNamed = function (name) {\r\n            return new Logger(name);\r\n        };\r\n        Logger.Get = function (owner) {\r\n            return new Logger(Logger.GetTypeName(owner));\r\n        };\r\n        Logger.prototype.trace = function (message) {\r\n            if (!isUndefinedOrNull(this._glueLogger)) {\r\n                this._glueLogger.trace(message);\r\n            }\r\n            else {\r\n                if (Logger.Level === LogLevel.Trace) {\r\n                    console.info(this._getMessage(message, LogLevel.Trace));\r\n                }\r\n            }\r\n        };\r\n        Logger.prototype.debug = function (message) {\r\n            if (!isUndefinedOrNull(this._glueLogger)) {\r\n                this._glueLogger.debug(message);\r\n            }\r\n            else {\r\n                if (Logger.Level === LogLevel.Debug ||\r\n                    Logger.Level === LogLevel.Trace) {\r\n                    console.info(this._getMessage(message, LogLevel.Debug));\r\n                }\r\n            }\r\n        };\r\n        Logger.prototype.info = function (message) {\r\n            if (!isUndefinedOrNull(this._glueLogger)) {\r\n                this._glueLogger.info(message);\r\n            }\r\n            else {\r\n                if (Logger.Level === LogLevel.Debug ||\r\n                    Logger.Level === LogLevel.Trace ||\r\n                    Logger.Level === LogLevel.Info) {\r\n                    console.info(this._getMessage(message, LogLevel.Info));\r\n                }\r\n            }\r\n        };\r\n        Logger.prototype.warn = function (message) {\r\n            if (!isUndefinedOrNull(this._glueLogger)) {\r\n                this._glueLogger.warn(message);\r\n            }\r\n            else {\r\n                if (Logger.Level === LogLevel.Debug ||\r\n                    Logger.Level === LogLevel.Trace ||\r\n                    Logger.Level === LogLevel.Info ||\r\n                    Logger.Level === LogLevel.Warn) {\r\n                    console.info(this._getMessage(message, LogLevel.Info));\r\n                }\r\n            }\r\n        };\r\n        Logger.prototype.error = function (message) {\r\n            if (!isUndefinedOrNull(this._glueLogger)) {\r\n                this._glueLogger.error(message);\r\n            }\r\n            else {\r\n                console.error(this._getMessage(message, LogLevel.Error));\r\n                console.trace();\r\n            }\r\n        };\r\n        Logger.prototype._getMessage = function (message, level) {\r\n            return \"[\" + level + \"] \" + this._name + \" - \" + message;\r\n        };\r\n        Logger.GetTypeName = function (object) {\r\n            var funcNameRegex = /function (.{1,})\\(/;\r\n            var results = (funcNameRegex).exec(object.constructor.toString());\r\n            return (results && results.length > 1) ? results[1] : \"\";\r\n        };\r\n        Logger.Level = LogLevel.Info;\r\n        return Logger;\r\n    }());\n\n    var ActivityWindow = (function (_super) {\r\n        __extends(ActivityWindow, _super);\r\n        function ActivityWindow(id, name, type, activityId, instance, isIndependent, windowGetter, hcWindowId) {\r\n            var _this = _super.call(this, id) || this;\r\n            _this._logger = Logger$1.Get(\"window\");\r\n            _this._type = type;\r\n            _this._activityId = activityId;\r\n            _this._name = name;\r\n            _this._instance = instance;\r\n            _this._isIndependent = isIndependent;\r\n            _this._windowGetter = windowGetter;\r\n            _this._hcWindowId = hcWindowId;\r\n            return _this;\r\n        }\r\n        ActivityWindow.prototype.getBounds = function () {\r\n            return this._manager.getWindowBounds(this.id);\r\n        };\r\n        Object.defineProperty(ActivityWindow.prototype, \"name\", {\r\n            get: function () {\r\n                return this._name;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityWindow.prototype, \"isIndependent\", {\r\n            get: function () {\r\n                return this._isIndependent;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityWindow.prototype, \"type\", {\r\n            get: function () {\r\n                if (this._manager) {\r\n                    return this._manager.getWindowType(this._type);\r\n                }\r\n                return undefined;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityWindow.prototype, \"activity\", {\r\n            get: function () {\r\n                if (isUndefined(this._activityId)) {\r\n                    return undefined;\r\n                }\r\n                return this._manager.getActivityById(this._activityId);\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityWindow.prototype, \"isOwner\", {\r\n            get: function () {\r\n                var act = this.activity;\r\n                if (isUndefined(act)) {\r\n                    return false;\r\n                }\r\n                return act.owner.id === this.id;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ActivityWindow.prototype.setVisible = function (isVisible, callback) {\r\n            return this._manager.setWindowVisibility(this.id, isVisible);\r\n        };\r\n        ActivityWindow.prototype.activate = function (focus) {\r\n            return this._manager.activateWindow(this.id, focus);\r\n        };\r\n        ActivityWindow.prototype.setBounds = function (bounds, callback) {\r\n            return this._manager.setWindowBounds(this.id, bounds, callback);\r\n        };\r\n        ActivityWindow.prototype.close = function () {\r\n            return this._manager.closeWindow(this.id);\r\n        };\r\n        Object.defineProperty(ActivityWindow.prototype, \"instance\", {\r\n            get: function () {\r\n                return this._instance;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityWindow.prototype, \"underlyingWindow\", {\r\n            get: function () {\r\n                var window = this._windowGetter();\r\n                if (!window) {\r\n                    return {\r\n                        id: this._hcWindowId\r\n                    };\r\n                }\r\n                return window;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ActivityWindow.prototype.onActivityJoined = function (callback) {\r\n            this._subscribeForActivityWindowEvent(EntityEventType.ActivityWindowJoinedActivity, callback);\r\n        };\r\n        ActivityWindow.prototype.onActivityRemoved = function (callback) {\r\n            this._subscribeForActivityWindowEvent(EntityEventType.ActivityWindowLeftActivity, callback);\r\n        };\r\n        ActivityWindow.prototype._updateCore = function (other) {\r\n            var _this = this;\r\n            ifNotUndefined(other._activityId, function (x) { return _this._activityId = x; });\r\n            ifNotUndefined(other._isIndependent, function (x) { return _this._isIndependent = x; });\r\n            ifNotUndefined(other._hcWindowId, function (x) { return _this._hcWindowId = x; });\r\n            ifNotUndefined(other._type, function (x) { return _this._type = x; });\r\n            ifNotUndefined(other._name, function (x) { return _this._name = x; });\r\n            if (!isUndefinedOrNull(other._instance)) {\r\n                this._instance = other._instance;\r\n            }\r\n        };\r\n        ActivityWindow.prototype._subscribeForActivityWindowEvent = function (eventName, callback) {\r\n            var _this = this;\r\n            this._manager.subscribeWindowEvents(function (activity, window, event) {\r\n                if (window.id !== _this.id) {\r\n                    return;\r\n                }\r\n                if (event === eventName) {\r\n                    callback(activity);\r\n                }\r\n            });\r\n        };\r\n        ActivityWindow.prototype._beforeDelete = function (other) {\r\n            this._hcWindowId = other._hcWindowId;\r\n        };\r\n        return ActivityWindow;\r\n    }(ActivityEntity));\n\n    var ActivityStatus = (function () {\r\n        function ActivityStatus(state, message, time) {\r\n            this.state = state;\r\n            this.message = message;\r\n            this.time = time;\r\n        }\r\n        ActivityStatus.prototype.getState = function () {\r\n            return this.state;\r\n        };\r\n        ActivityStatus.prototype.getMessage = function () {\r\n            return this.message;\r\n        };\r\n        ActivityStatus.prototype.getTime = function () {\r\n            return this.time;\r\n        };\r\n        return ActivityStatus;\r\n    }());\n\n    var gwMmessageError = \"error\";\r\n    var gwMessageAddActivityTypes = \"add-types\";\r\n    var gwMmessageActivityTypesAdded = \"types-added\";\r\n    var gwMessageRemoveActivityTypes = \"remove-types\";\r\n    var gwMessageActivityTypesRemoved = \"types-removed\";\r\n    var gwMessageActivityCreated = \"created\";\r\n    var gwMessageActivityDestroyed = \"destroyed\";\r\n    var gwMessageActivityInitiated = \"initiated\";\r\n    var gwMmessageJoinActivity = \"join-activity\";\r\n    var gwMessageJoinedActivity = \"joined\";\r\n    var gwMessageActivityJoined = \"activity-joined\";\r\n    var gwMessageLeaveActivity = \"leave-activity\";\r\n    var gwMessageActivityLeft = \"left\";\r\n    var gwNmessageMergeActivities = \"merge\";\r\n    var gwMessageSplitActivities = \"split\";\r\n    var gwMessageOwnerChanged = \"owner-changed\";\r\n    var gwMessageAddPeerFactories = \"add-peer-factories\";\r\n    var gwMessagePeerFactoriesAdded = \"peer-factories-added\";\r\n    var gwMessageRemovePeerFactories = \"remove-peer-factories\";\r\n    var gwMessagePeerFactoriesRemoved = \"peer-factories-removed\";\r\n    var gwMessageCreateActivity = \"create\";\r\n    var gwMessageCreatePeer = \"create-peer\";\r\n    var gwMessagePeerRequested = \"peer-requested\";\r\n    var gwMessageReady = \"ready\";\r\n    var gwMessagePeerCreated = \"peer-created\";\r\n    var gwMessageDestroyActivity = \"destroy\";\r\n    var gwMessageDisposePeer = \"dispose-peer\";\r\n    var gwMessageDestroyPeer = \"destroy-peer\";\r\n    var GW3Bridge$1 = (function () {\r\n        function GW3Bridge(config) {\r\n            var _this = this;\r\n            this._activityChangeCallbacks = [];\r\n            this._activityTypeStatusChangeCallbacks = [];\r\n            this._activityWindowChangeCallbacks = [];\r\n            this._windowTypeStatusChangeCallbacks = [];\r\n            this._peerIdAndFactoryIdToPeerType = {};\r\n            this._peerFactoriesRegisteredByUs = {};\r\n            this._gw3Subscriptions = [];\r\n            this._contextSubscriptions = {};\r\n            this._activityTypesInitiatedFromMe = {};\r\n            this._config = config;\r\n            this._connection = config.connection;\r\n            this._logger = config.logger;\r\n            this._contexts = config.contexts;\r\n            this._windows = config.windows;\r\n            this._sessionJoinedPromise = new Promise(function (resolve) {\r\n                _this._sessionJoinedPromiseResolve = resolve;\r\n            });\r\n            this._activityJoinedPromise = new Promise(function (resolve) {\r\n                _this._activityJoinedPromiseResolve = resolve;\r\n            });\r\n            if (!this._config.activityId) {\r\n                this._activityJoinedPromiseResolve({});\r\n            }\r\n            this._gw3Session = this._connection.domain(\"activity\", [\"joined\", \"initiated\", \"peer-created\", \"token\"]);\r\n            if (typeof window !== \"undefined\") {\r\n                var glue42gd_1 = window.glue42gd;\r\n                if (glue42gd_1 && typeof glue42gd_1.addRefreshHandler === \"function\") {\r\n                    glue42gd_1.addRefreshHandler(function (success, error) {\r\n                        _this._gw3Session\r\n                            .send({\r\n                            type: \"reload\"\r\n                        })\r\n                            .then(function (msg) {\r\n                            if (!msg.token) {\r\n                                error(\"Expected gateway token for refreshing.\");\r\n                                return;\r\n                            }\r\n                            try {\r\n                                glue42gd_1.setGWToken(msg.token);\r\n                            }\r\n                            catch (e) {\r\n                                error(e.message || e);\r\n                                return;\r\n                            }\r\n                            success();\r\n                        }, error);\r\n                    });\r\n                }\r\n            }\r\n        }\r\n        GW3Bridge.activityTypeGwMessageEntityToActivityType = function (entity, description) {\r\n            var nameToWindowType = function (windowName) {\r\n                return new WindowType(windowName, undefined);\r\n            };\r\n            return new ActivityType(entity.name, entity.owner_type && nameToWindowType(entity.owner_type), entity.helper_types && entity.helper_types.map(nameToWindowType), description);\r\n        };\r\n        GW3Bridge.peerFactoryGwMessageEntityToWindowType = function (entity) {\r\n            return new WindowType(entity.peer_type, function (_) { return undefined; });\r\n        };\r\n        GW3Bridge.activityGwMessageToActivity = function (msg, status) {\r\n            var ownerId = msg.owner !== undefined ? msg.owner.peer_id : msg.owner_id;\r\n            return new Activity(msg.activity_id, msg.activity_type, status, msg.context_snapshot, ownerId);\r\n        };\r\n        GW3Bridge.activityToActivityStatusChangeEvent = function (act) {\r\n            return new EntityEvent(act, new ActivityStatusChangeEventContext(act.status, undefined));\r\n        };\r\n        Object.defineProperty(GW3Bridge.prototype, \"bridgeType\", {\r\n            get: function () {\r\n                return \"GW3\";\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        GW3Bridge.prototype.init = function () {\r\n            var _this = this;\r\n            this.forwardActivityTypeMessagesToStatusEventHandlers();\r\n            this.subscribe(gwMessageActivityCreated, this.handleActivityCreatedMessage);\r\n            this.subscribe(gwMessageActivityDestroyed, this.handleActivityDestroyedMessage);\r\n            this.forwardActivityMessagesToStatusEventHandlers();\r\n            this.forwardActivityCreatedAndJoinedActivityToActivityWindowEventHandlers();\r\n            this.forwardPeerFactoryMessagesToStatusEventHandlers();\r\n            this.forwardPeerFactoryMessagesToPeerFactoryRequests();\r\n            this.subscribe(gwMessagePeerFactoriesAdded, this.handlePeerFactoriesAdded);\r\n            this.subscribe(gwMessagePeerFactoriesRemoved, this.handlePeerFactoriesRemoved);\r\n            this.forwardActivityWindowMessagesToEventHandlers();\r\n            this.subscribe(gwMessageDisposePeer, function () {\r\n                if (_this._config.disposeRequestHandling === \"dispose\") {\r\n                    _this.dispose();\r\n                    return;\r\n                }\r\n                if (_this._config.disposeRequestHandling === \"exit\") {\r\n                    if (_this._windows && typeof _this._windows.my() !== \"undefined\") {\r\n                        _this._windows.my().close();\r\n                        return;\r\n                    }\r\n                    if (typeof window !== \"undefined\" && typeof window.close === \"function\") {\r\n                        window.close();\r\n                        return;\r\n                    }\r\n                    if (typeof process !== \"undefined\" && typeof process.exit === \"function\") {\r\n                        process.exit();\r\n                        return;\r\n                    }\r\n                }\r\n            });\r\n            this._gw3Session.onJoined(function () {\r\n                if (_this._config.mode === \"trackMyOnly\" ||\r\n                    _this._config.mode === \"trackMyTypeAndInitiatedFromMe\") {\r\n                    _this._sessionJoinedPromiseResolve(_this);\r\n                }\r\n                else {\r\n                    _this._gw3Session\r\n                        .send({\r\n                        type: \"subscribe\",\r\n                        activity_types: (_this._config.mode === \"trackAll\" ? [] :\r\n                            _this._config.mode === \"trackTypes\" ? _this._config.typesToTrack : [])\r\n                    })\r\n                        .then(function () {\r\n                        _this._sessionJoinedPromiseResolve(_this);\r\n                    });\r\n                }\r\n            });\r\n            this._gw3Session.join();\r\n        };\r\n        GW3Bridge.prototype.dispose = function () {\r\n            var _this = this;\r\n            this._gw3Subscriptions.forEach(function (sub) { return sub && _this._connection.off(sub); });\r\n            this._gw3Subscriptions.length = 0;\r\n        };\r\n        GW3Bridge.prototype.ready = function () {\r\n            return Promise.all([this._sessionJoinedPromise, this._activityJoinedPromise]);\r\n        };\r\n        GW3Bridge.prototype.initReady = function () {\r\n            return this._sessionJoinedPromise;\r\n        };\r\n        GW3Bridge.prototype.onActivityTypeStatusChange = function (callback) {\r\n            this._activityTypeStatusChangeCallbacks.push(callback);\r\n        };\r\n        GW3Bridge.prototype.registerActivityType = function (activityTypeName, ownerWindow, helperWindows, config, description) {\r\n            var _this = this;\r\n            var entity = {};\r\n            entity.name = activityTypeName;\r\n            var toActivityPeerConfig = function (windowDefinition) { return ({ type: windowDefinition.type, name: windowDefinition.name, configuration: windowDefinition }); };\r\n            entity.owner_type = toActivityPeerConfig(ownerWindow);\r\n            entity.helper_types = helperWindows.map(toActivityPeerConfig);\r\n            return this._gw3Session\r\n                .send({\r\n                type: gwMessageAddActivityTypes,\r\n                types: [entity]\r\n            })\r\n                .then(function () {\r\n                var activityType = GW3Bridge.activityTypeGwMessageEntityToActivityType(entity, description);\r\n                _this.invokeCallbacks(_this._activityTypeStatusChangeCallbacks, new EntityEvent(activityType, new EntityEventContext(EntityEventType.Added)), gwMessageAddActivityTypes);\r\n                return activityType;\r\n            });\r\n        };\r\n        GW3Bridge.prototype.unregisterActivityType = function (activityTypeName) {\r\n            var _this = this;\r\n            return this._gw3Session\r\n                .send({\r\n                type: gwMessageRemoveActivityTypes,\r\n                types: [activityTypeName]\r\n            })\r\n                .then(function () {\r\n                var activityType = new ActivityType(activityTypeName, undefined, undefined, undefined);\r\n                _this.invokeCallbacks(_this._activityTypeStatusChangeCallbacks, new EntityEvent(activityType, new EntityEventContext(EntityEventType.Removed)), gwMessageAddActivityTypes);\r\n            });\r\n        };\r\n        GW3Bridge.prototype.onWindowTypeStatusChange = function (callback) {\r\n            this._windowTypeStatusChangeCallbacks.push(callback);\r\n        };\r\n        GW3Bridge.prototype.registerWindowFactory = function (windowType, factory, parameters) {\r\n            var _this = this;\r\n            if (this._peerFactoriesRegisteredByUs[windowType]) {\r\n                return Promise.reject(new Error(\"Factory for windowType \" + windowType + \" already registered.\"));\r\n            }\r\n            this._peerFactoriesRegisteredByUs[windowType] = factory;\r\n            var entity = {\r\n                id: windowType,\r\n                peer_type: windowType,\r\n                configuration: parameters\r\n            };\r\n            return this._gw3Session.send({\r\n                type: gwMessageAddPeerFactories,\r\n                factories: [entity]\r\n            })\r\n                .then(function () {\r\n                _this.invokeCallbacks(_this._windowTypeStatusChangeCallbacks, new EntityEvent(GW3Bridge.peerFactoryGwMessageEntityToWindowType(entity), new EntityEventContext(EntityEventType.Added)), gwMessageAddPeerFactories);\r\n            })\r\n                .catch(function () {\r\n                delete _this._peerFactoriesRegisteredByUs[windowType];\r\n            });\r\n        };\r\n        GW3Bridge.prototype.unregisterWindowFactory = function (windowType) {\r\n            var _this = this;\r\n            var factory = this._peerFactoriesRegisteredByUs[windowType];\r\n            if (!factory) {\r\n                return Promise.reject(new Error(\"Factory for windowType \" + windowType + \" not registered.\"));\r\n            }\r\n            delete this._peerFactoriesRegisteredByUs[windowType];\r\n            return this._gw3Session.send({\r\n                type: gwMessageRemovePeerFactories,\r\n                factory_ids: [windowType]\r\n            }).then(function () {\r\n                _this.invokeCallbacks(_this._windowTypeStatusChangeCallbacks, new EntityEvent(new WindowType(windowType, undefined), new EntityEventContext(EntityEventType.Removed)), gwMessageAddPeerFactories);\r\n            });\r\n        };\r\n        GW3Bridge.prototype.onActivityStatusChange = function (callback) {\r\n            this._activityChangeCallbacks.push(callback);\r\n        };\r\n        GW3Bridge.prototype.initiateActivity = function (activityType, context, configuration) {\r\n            var _this = this;\r\n            var initiateMsg = {\r\n                type: gwMessageCreateActivity,\r\n                activity_type: activityType,\r\n                initial_context: context,\r\n            };\r\n            if (this.isOverrideTypeDefinition(configuration)) {\r\n                initiateMsg.types_override = {\r\n                    owner_type: { type: configuration.owner.type, name: configuration.owner.name, configuration: configuration.owner },\r\n                    helper_types: configuration.helpers && configuration.helpers.map(function (wd) { return ({ type: wd.type, name: wd.name, configuration: wd }); })\r\n                };\r\n            }\r\n            else {\r\n                initiateMsg.configuration = configuration && configuration.map(function (wd) { return ({ type: wd.type, name: wd.name, configuration: wd }); });\r\n            }\r\n            return this.sendCreateAndMapResultingMessagesToPromise(initiateMsg, gwMessageActivityInitiated, function (msg, requestId) { return msg.request_id === requestId; }, gwMessageActivityCreated, function (msg, requestId, initMsg) { return msg.activity_id === initMsg.activity_id; }, gwMessageActivityDestroyed, function (msg, requestId, initMsg) { return msg.activity_id === initMsg.activity_id; }, function (msg) { return msg.activity_id; }).then(function (id) {\r\n                if (_this._config.mode === \"trackMyTypeAndInitiatedFromMe\") {\r\n                    if (!_this._activityTypesInitiatedFromMe[activityType]) {\r\n                        _this._activityTypesInitiatedFromMe[activityType] = true;\r\n                        return _this._gw3Session\r\n                            .send({\r\n                            type: \"subscribe\",\r\n                            activity_types: [activityType]\r\n                        })\r\n                            .then(function () {\r\n                            return id;\r\n                        });\r\n                    }\r\n                }\r\n                return id;\r\n            });\r\n        };\r\n        GW3Bridge.prototype.stopActivity = function (activity) {\r\n            return this._gw3Session.send({\r\n                type: gwMessageDestroyActivity,\r\n                activity_id: activity.id,\r\n                reason_uri: \"com.tick42.glue.activity.constants.destroyReason.general\",\r\n                reason: \"Destroying activity\"\r\n            }).then(function (_) { return true; });\r\n        };\r\n        GW3Bridge.prototype.updateActivityContext = function (activity, context, fullReplace, removedKeys) {\r\n            if (fullReplace) {\r\n                return this._contexts.set(activity.id, context);\r\n            }\r\n            else {\r\n                removedKeys = removedKeys || [];\r\n                for (var _i = 0, removedKeys_1 = removedKeys; _i < removedKeys_1.length; _i++) {\r\n                    var x = removedKeys_1[_i];\r\n                    context[x] = null;\r\n                }\r\n                return this._contexts.update(activity.id, context);\r\n            }\r\n        };\r\n        GW3Bridge.prototype.announceWindow = function (windowType, activityWindowId) {\r\n            throw new Error(\"Invalid operation 'announceWindow' for GW3 protocol\");\r\n        };\r\n        GW3Bridge.prototype.registerWindow = function (type, name, independent) {\r\n            var shouldSendReady = typeof this._connection.gatewayToken !== \"undefined\";\r\n            var peerId = this._connection.peerId;\r\n            if (typeof window !== \"undefined\") {\r\n                var glue42gd = window.glue42gd;\r\n                if (glue42gd) {\r\n                    shouldSendReady = typeof glue42gd.activityInfo !== \"undefined\";\r\n                }\r\n            }\r\n            if (shouldSendReady) {\r\n                this._gw3Session.send({\r\n                    type: gwMessageReady,\r\n                });\r\n            }\r\n            this.invokeCallbacks(this._activityWindowChangeCallbacks, new EntityEvent(new ActivityWindow(peerId, name, type, undefined, this.getAgmInstance(peerId), independent, this.generateWindowGetter(peerId), undefined), new EntityEventContext(EntityEventType.Added)), \"register window\");\r\n            return Promise.resolve(peerId);\r\n        };\r\n        GW3Bridge.prototype.onActivityWindowChange = function (callback) {\r\n            this._activityWindowChangeCallbacks.push(callback);\r\n        };\r\n        GW3Bridge.prototype.createWindow = function (activityId, windowDefinition) {\r\n            var _this = this;\r\n            if (!windowDefinition.layout) {\r\n                if (windowDefinition.left || windowDefinition.width || windowDefinition.height || windowDefinition.top) {\r\n                    windowDefinition.layout = {\r\n                        mode: \"pixels\",\r\n                        cellSize: 1,\r\n                    };\r\n                }\r\n            }\r\n            return this.sendCreateAndMapResultingMessagesToPromise({\r\n                type: gwMessageCreatePeer,\r\n                peer_type: windowDefinition.type,\r\n                peer_name: windowDefinition.name || windowDefinition.type,\r\n                configuration: windowDefinition,\r\n                activity_id: activityId,\r\n            }, undefined, undefined, gwMessagePeerCreated, function (msg, requestId) { return msg.request_id === requestId; }, undefined, undefined, function (msg) { return msg.created_id; })\r\n                .then(function (id) {\r\n                if (!activityId) {\r\n                    return;\r\n                }\r\n                return _this.joinActivity(activityId, id, windowDefinition.name)\r\n                    .then(function () {\r\n                    return id;\r\n                });\r\n            });\r\n        };\r\n        GW3Bridge.prototype.closeWindow = function (id) {\r\n            return this._gw3Session.send({\r\n                type: gwMessageDestroyPeer,\r\n                destroy_peer_id: id\r\n            }).then(function (_) { return undefined; });\r\n        };\r\n        GW3Bridge.prototype.getAnnouncementInfo = function () {\r\n            var activityId = this._config.activityId || (this._config.announcementInfo && this._config.announcementInfo.activityId);\r\n            var activityWindowType = (this._config.announcementInfo && this._config.announcementInfo.activityWindowType);\r\n            var activityWindowIndependent = (this._config.announcementInfo && this._config.announcementInfo.activityWindowIndependent);\r\n            var activityWindowName = (this._config.announcementInfo && this._config.announcementInfo.activityWindowName);\r\n            if (typeof window !== \"undefined\" &&\r\n                typeof window.location !== \"undefined\" &&\r\n                window.location.search &&\r\n                typeof URLSearchParams === \"function\") {\r\n                var searchParams = new URLSearchParams(location.search.slice(1));\r\n                activityWindowType = activityWindowType || searchParams.get(\"t42PeerType\");\r\n                activityWindowType = activityWindowType || searchParams.get(\"t42ActivityWindowType\");\r\n                if (typeof activityWindowIndependent === \"undefined\") {\r\n                    activityWindowIndependent = searchParams.get(\"t42ActivityWindowIndependent\");\r\n                }\r\n                activityWindowName = activityWindowName || searchParams.get(\"t42ActivityWindowName\");\r\n                activityId = activityId || searchParams.get(\"t42ActivityId\");\r\n            }\r\n            activityWindowType = activityWindowType || \"unknown\";\r\n            activityWindowIndependent = activityWindowIndependent || false;\r\n            activityWindowName = activityWindowName || this._connection.peerId;\r\n            return {\r\n                activityWindowId: undefined,\r\n                activityId: activityId,\r\n                activityWindowType: activityWindowType,\r\n                activityWindowIndependent: activityWindowIndependent,\r\n                activityWindowName: activityWindowName,\r\n            };\r\n        };\r\n        GW3Bridge.prototype.joinActivity = function (activityId, windowId, name) {\r\n            var _this = this;\r\n            var maybeName = (name && { name: name }) || {};\r\n            return this._gw3Session.send(__assign({ type: gwMmessageJoinActivity, target_id: windowId, activity_id: activityId }, maybeName)).then(function () {\r\n                _this.invokeCallbacks(_this._activityWindowChangeCallbacks, new EntityEvent(new ActivityWindow(windowId, undefined, undefined, activityId, _this.getAgmInstance(windowId), undefined, _this.generateWindowGetter(windowId), undefined), new EntityEventContext(EntityEventType.ActivityWindowJoinedActivity)), \"activity joined - ActivityWindow\");\r\n                _this.invokeCallbacks(_this._activityChangeCallbacks, new EntityEvent(new Activity(activityId, undefined, new ActivityStatus(\"created\", undefined, undefined), undefined, undefined), new EntityEventContext(EntityEventType.Updated)), \"activity joined - Activity\");\r\n            });\r\n        };\r\n        GW3Bridge.prototype.leaveActivity = function (activityId, windowId) {\r\n            var _this = this;\r\n            return this._gw3Session.send({\r\n                type: gwMessageLeaveActivity,\r\n                target_id: windowId,\r\n                activity_id: activityId\r\n            }).then(function () {\r\n                _this.invokeCallbacks(_this._activityWindowChangeCallbacks, new EntityEvent(new ActivityWindow(windowId, undefined, undefined, null, _this.getAgmInstance(windowId), undefined, _this.generateWindowGetter(windowId), undefined), new EntityEventContext(EntityEventType.ActivityWindowLeftActivity)), \"activity left - ActivityWindow\");\r\n                _this.invokeCallbacks(_this._activityChangeCallbacks, new EntityEvent(new Activity(activityId, undefined, new ActivityStatus(\"created\", undefined, undefined), undefined, undefined), new EntityEventContext(EntityEventType.Updated)), \"activity left - Activity\");\r\n            });\r\n        };\r\n        GW3Bridge.prototype.getActivityTypes = function () {\r\n            return Promise.resolve([]);\r\n        };\r\n        GW3Bridge.prototype.getWindowTypes = function () {\r\n            return Promise.resolve([]);\r\n        };\r\n        GW3Bridge.prototype.getActivities = function () {\r\n            return Promise.resolve([]);\r\n        };\r\n        GW3Bridge.prototype.getActivityWindows = function () {\r\n            return Promise.resolve([]);\r\n        };\r\n        GW3Bridge.prototype.createStackedWindows = function (id, windowDefinitions, timeout) {\r\n            return undefined;\r\n        };\r\n        GW3Bridge.prototype.getWindowBounds = function (id) {\r\n            return undefined;\r\n        };\r\n        GW3Bridge.prototype.setWindowBounds = function (id, bounds) {\r\n            return undefined;\r\n        };\r\n        GW3Bridge.prototype.activateWindow = function (id, focus) {\r\n            return undefined;\r\n        };\r\n        GW3Bridge.prototype.setWindowVisibility = function (id, visible) {\r\n            return undefined;\r\n        };\r\n        GW3Bridge.prototype.cloneActivity = function (id, cloneOptions) {\r\n            return undefined;\r\n        };\r\n        GW3Bridge.prototype.attachActivities = function (from, to, tag) {\r\n            return this._gw3Session.send({\r\n                type: gwNmessageMergeActivities,\r\n                into: to,\r\n                merge: from\r\n            });\r\n        };\r\n        GW3Bridge.prototype.detachActivities = function (activityId, newActivityInfo) {\r\n            return this._gw3Session.send({\r\n                type: gwMessageSplitActivities,\r\n                from: activityId,\r\n            }).then(function () { return \"\"; });\r\n        };\r\n        GW3Bridge.prototype.onActivitiesAttached = function (callback) {\r\n        };\r\n        GW3Bridge.prototype.onActivitiesDetached = function (callback) {\r\n        };\r\n        GW3Bridge.prototype.onActivityAttachedDescriptorsRefreshed = function (callback) {\r\n        };\r\n        GW3Bridge.prototype.getAttachedDescriptors = function () {\r\n            return Promise.resolve([]);\r\n        };\r\n        GW3Bridge.prototype.getRandomRequestId = function () {\r\n            return this._connection.peerId + \":\" + Math.floor(Math.random() * 1e9) + \"\";\r\n        };\r\n        GW3Bridge.prototype.forwardAddedAndRemovedMessagesToEventHandler = function (addedMessageType, removedMessageType, mapper, handlers) {\r\n            var getGetEntityEvent = function (isAdded) { return function (entity) { return new EntityEvent(entity, new EntityEventContext(isAdded ?\r\n                EntityEventType.Added :\r\n                EntityEventType.Removed)); }; };\r\n            var sub1;\r\n            var sub2;\r\n            sub1 = addedMessageType && this.forwardMessageToEventHandler(addedMessageType, function (msg) { return mapper(msg, true); }, getGetEntityEvent(true), handlers);\r\n            sub2 = removedMessageType && this.forwardMessageToEventHandler(removedMessageType, function (msg) { return mapper(msg, false); }, getGetEntityEvent(false), handlers);\r\n            return [sub1, sub2].filter(function (x) { return x; });\r\n        };\r\n        GW3Bridge.prototype.forwardMessageToEventHandler = function (messageType, mapper, getEntityEvent, handler) {\r\n            return this.subscribe(messageType, function (msg) {\r\n                mapper(msg)\r\n                    .forEach(function (ent) {\r\n                    return handler.forEach(function (h) { return h(getEntityEvent(ent, msg)); });\r\n                });\r\n            });\r\n        };\r\n        GW3Bridge.prototype.sendCreateAndMapResultingMessagesToPromise = function (msg, initiatedMessageType, initiatedMessageFilter, createdMessageType, createdMessageFilter, cancelledMessageType, cancelledMessageFilter, createdMessageToPromiseResolution) {\r\n            var _this = this;\r\n            var reqId = this.getRandomRequestId();\r\n            var resolveCreatedPromise;\r\n            var rejectCreatedPromise;\r\n            var createdPromise = new Promise(function (resolve, reject) {\r\n                resolveCreatedPromise = resolve;\r\n                rejectCreatedPromise = reject;\r\n            });\r\n            var initiatedMessageAck = null;\r\n            var initiatedSubscription;\r\n            var createdSubscription;\r\n            var cancelledSubscription;\r\n            var errorSubscription;\r\n            var dropSubscriptions = function () {\r\n                _this.dropSubscription(initiatedSubscription);\r\n                _this.dropSubscription(createdSubscription);\r\n                _this.dropSubscription(cancelledSubscription);\r\n                _this.dropSubscription(errorSubscription);\r\n            };\r\n            initiatedSubscription = initiatedMessageType &&\r\n                this.subscribe(initiatedMessageType, function (msg4) {\r\n                    if (!initiatedMessageFilter(msg4, reqId)) {\r\n                        return;\r\n                    }\r\n                    initiatedMessageAck = msg4;\r\n                    _this.dropSubscription(initiatedSubscription);\r\n                });\r\n            createdSubscription =\r\n                this.subscribe(createdMessageType, function (msg1) {\r\n                    if (!createdMessageFilter(msg1, reqId, initiatedMessageAck)) {\r\n                        return;\r\n                    }\r\n                    resolveCreatedPromise(createdMessageToPromiseResolution(msg1));\r\n                });\r\n            cancelledSubscription = cancelledMessageType &&\r\n                this.subscribe(cancelledMessageType, function (msg2) {\r\n                    if (!cancelledMessageFilter(msg2, reqId, initiatedMessageAck)) {\r\n                        return;\r\n                    }\r\n                    rejectCreatedPromise(msg2);\r\n                });\r\n            errorSubscription = cancelledMessageType &&\r\n                this.subscribe(gwMmessageError, function (msg3) {\r\n                    if (msg3.request_id !== reqId) {\r\n                        return;\r\n                    }\r\n                    rejectCreatedPromise(msg3);\r\n                });\r\n            msg.request_id = reqId;\r\n            var toReturn = this._gw3Session\r\n                .send(msg)\r\n                .then(function () {\r\n                return createdPromise;\r\n            });\r\n            toReturn.then(dropSubscriptions, dropSubscriptions);\r\n            return toReturn;\r\n        };\r\n        GW3Bridge.prototype.peerFactoryIdAndOwnerIdToWindowType = function (factoryId, ownerId) {\r\n            var peerType = this._peerIdAndFactoryIdToPeerType[ownerId + \":\" + factoryId];\r\n            if (!peerType) {\r\n                return null;\r\n            }\r\n            else {\r\n                return new WindowType(peerType, undefined);\r\n            }\r\n        };\r\n        GW3Bridge.prototype.subscribe = function (messageType, handler) {\r\n            var _this = this;\r\n            var sub = this._connection.on(messageType, function (msg) { return handler.bind(_this)(msg); });\r\n            this._gw3Subscriptions.push(sub);\r\n            return sub;\r\n        };\r\n        GW3Bridge.prototype.dropSubscription = function (subscription) {\r\n            if (subscription) {\r\n                this._connection.off(subscription);\r\n                delete this._gw3Subscriptions[this._gw3Subscriptions.indexOf(subscription)];\r\n            }\r\n        };\r\n        GW3Bridge.prototype.invokeCallbacks = function (callbacks, event, description) {\r\n            var _this = this;\r\n            callbacks.forEach(function (cb) {\r\n                try {\r\n                    cb(event);\r\n                }\r\n                catch (err) {\r\n                    _this._logger.error(\"Error in \" + (description || event.context.type) + \" callback: \" + JSON.stringify(err));\r\n                }\r\n            });\r\n        };\r\n        GW3Bridge.prototype.handleActivityCreatedMessage = function (msg) {\r\n            if (!msg.context_id) {\r\n                this._logger.error(\"Activity created with unknown context_id: \" + msg.activity_id);\r\n            }\r\n            else {\r\n                if (!this._contextSubscriptions[msg.activity_id]) {\r\n                    this.subscribeToContext(msg);\r\n                }\r\n            }\r\n        };\r\n        GW3Bridge.prototype.subscribeToContext = function (msg) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var activityId, _a, _b;\r\n                var _this = this;\r\n                return __generator(this, function (_c) {\r\n                    switch (_c.label) {\r\n                        case 0:\r\n                            activityId = msg.activity_id;\r\n                            _a = this._contextSubscriptions;\r\n                            _b = activityId;\r\n                            return [4, this._contexts.subscribe(activityId, function (data, updated, removed) {\r\n                                    var event = new EntityEvent(new Activity(activityId, undefined, undefined, data, undefined), new ActivityContextChangedEventContext(data, updated, removed));\r\n                                    _this.invokeCallbacks(_this._activityChangeCallbacks, event, \"context updated\");\r\n                                })];\r\n                        case 1:\r\n                            _a[_b] =\r\n                                _c.sent();\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GW3Bridge.prototype.handleActivityDestroyedMessage = function (msg) {\r\n            var unsubscribeContext = this._contextSubscriptions[msg.activity_id];\r\n            if (typeof unsubscribeContext === \"function\") {\r\n                unsubscribeContext();\r\n            }\r\n            delete this._contextSubscriptions[msg.activity_id];\r\n        };\r\n        GW3Bridge.prototype.handlePeerFactoriesAdded = function (msg) {\r\n            var _this = this;\r\n            msg.factories.forEach(function (entity) {\r\n                _this._peerIdAndFactoryIdToPeerType[msg.owner_id + \":\" + entity.id] = entity.peer_type;\r\n            });\r\n        };\r\n        GW3Bridge.prototype.handlePeerFactoriesRemoved = function (msg) {\r\n            var _this = this;\r\n            msg.factory_ids.forEach(function (factoryId) {\r\n                delete _this._peerIdAndFactoryIdToPeerType[msg.owner_id + \":\" + factoryId];\r\n            });\r\n        };\r\n        GW3Bridge.prototype.forwardActivityTypeMessagesToStatusEventHandlers = function () {\r\n            this.forwardAddedAndRemovedMessagesToEventHandler(gwMmessageActivityTypesAdded, gwMessageActivityTypesRemoved, function (msg, isAdded) { return isAdded\r\n                ? msg.types.map(function (t) { return GW3Bridge.activityTypeGwMessageEntityToActivityType(t, undefined); })\r\n                : msg.types.map(function (t) { return new ActivityType(t.name, undefined, undefined, undefined); }); }, this._activityTypeStatusChangeCallbacks);\r\n        };\r\n        GW3Bridge.prototype.forwardActivityCreatedAndJoinedActivityToActivityWindowEventHandlers = function () {\r\n            var _this = this;\r\n            for (var _i = 0, _a = [gwMessageActivityCreated, gwMessageJoinedActivity, gwMessageOwnerChanged]; _i < _a.length; _i++) {\r\n                var activityCreatedMessage = _a[_i];\r\n                this.forwardMessageToEventHandler(activityCreatedMessage, function (msg) {\r\n                    return ([msg.owner || __assign(__assign({}, msg), { type: msg.peer_type, name: msg.peer_name, peer_id: msg.owner_id })])\r\n                        .concat(msg.participants || [])\r\n                        .map(function (info) { return new ActivityWindow(info.peer_id, info.name, info.type, msg.activity_id, _this.getAgmInstance(info.peer_id), undefined, _this.generateWindowGetter(info.peer_id), undefined); });\r\n                }, function (ent, msg) { return new EntityEvent(ent, new EntityEventContext(EntityEventType.ActivityWindowJoinedActivity)); }, this._activityWindowChangeCallbacks);\r\n            }\r\n        };\r\n        GW3Bridge.prototype.forwardActivityMessagesToStatusEventHandlers = function () {\r\n            for (var _i = 0, _a = [gwMessageActivityCreated, gwMessageJoinedActivity]; _i < _a.length; _i++) {\r\n                var createdMessage = _a[_i];\r\n                this.forwardMessageToEventHandler(createdMessage, function (msg) { return [GW3Bridge.activityGwMessageToActivity(msg, new ActivityStatus(\"started\", \"\", new Date()))]; }, function (ent, msg) { return GW3Bridge.activityToActivityStatusChangeEvent(ent); }, this._activityChangeCallbacks);\r\n            }\r\n            this.forwardMessageToEventHandler(gwMessageActivityDestroyed, function (msg) { return [GW3Bridge.activityGwMessageToActivity(msg, new ActivityStatus(\"destroyed\", msg.reason, new Date()))]; }, function (ent, msg) { return GW3Bridge.activityToActivityStatusChangeEvent(ent); }, this._activityChangeCallbacks);\r\n            this.forwardMessageToEventHandler(gwMessageActivityInitiated, function (msg) { return [GW3Bridge.activityGwMessageToActivity(msg, new ActivityStatus(\"created\", \"\", new Date()))]; }, function (ent, msg) { return GW3Bridge.activityToActivityStatusChangeEvent(ent); }, this._activityChangeCallbacks);\r\n            this.forwardMessageToEventHandler(gwMessageOwnerChanged, function (msg) { return [GW3Bridge.activityGwMessageToActivity(msg, new ActivityStatus(\"created\", \"\", new Date()))]; }, function (ent, msg) { return GW3Bridge.activityToActivityStatusChangeEvent(ent); }, this._activityChangeCallbacks);\r\n        };\r\n        GW3Bridge.prototype.forwardPeerFactoryMessagesToStatusEventHandlers = function () {\r\n            var _this = this;\r\n            this.forwardAddedAndRemovedMessagesToEventHandler(gwMessagePeerFactoriesAdded, gwMessagePeerFactoriesRemoved, function (msg, isAdded) { return isAdded\r\n                ? msg.factories.map(GW3Bridge.peerFactoryGwMessageEntityToWindowType)\r\n                : msg.factory_ids.map(function (id) { return _this.peerFactoryIdAndOwnerIdToWindowType(id, msg.owner_id); }).filter(function (x) { return x != null; }); }, this._windowTypeStatusChangeCallbacks);\r\n        };\r\n        GW3Bridge.prototype.forwardPeerFactoryMessagesToPeerFactoryRequests = function () {\r\n            var _this = this;\r\n            this.subscribe(gwMessagePeerRequested, function (msg) {\r\n                var factory = _this._peerFactoriesRegisteredByUs[msg.peer_factory];\r\n                if (!factory) {\r\n                    _this._gw3Session.send({\r\n                        type: gwMmessageError,\r\n                        request_id: msg.request_id,\r\n                        reason: \"Unknown peer factory \" + msg.peer_factory\r\n                    });\r\n                    return;\r\n                }\r\n                try {\r\n                    var configuration = msg.configuration || {};\r\n                    configuration.gateway_token = configuration.gateway_token || msg.gateway_token;\r\n                    configuration.peer_factory = configuration.peer_factory || msg.peer_factory;\r\n                    var promise = factory({\r\n                        activityId: msg.activity && msg.activity.id,\r\n                        activityType: msg.activity && msg.activity.type,\r\n                        type: msg.configuration && msg.configuration.type,\r\n                        gwToken: configuration.gateway_token,\r\n                        configuration: configuration\r\n                    });\r\n                    if (promise && promise.then && promise.catch) {\r\n                        promise.catch(function (err) { return _this._gw3Session.send({\r\n                            type: gwMmessageError,\r\n                            request_id: msg.request_id,\r\n                            reason: err && (err.message || JSON.stringify(err))\r\n                        }); });\r\n                    }\r\n                }\r\n                catch (err) {\r\n                    _this._gw3Session.send({\r\n                        type: gwMmessageError,\r\n                        request_id: msg.request_id,\r\n                        reason: err && (err.message || JSON.stringify(err))\r\n                    });\r\n                }\r\n            });\r\n        };\r\n        GW3Bridge.prototype.forwardActivityWindowMessagesToEventHandlers = function () {\r\n            var _this = this;\r\n            var _loop_1 = function (joinedMessage) {\r\n                this_1.subscribe(joinedMessage, function (msg) {\r\n                    var joinedId = (joinedMessage === gwMessageActivityJoined) ? msg.joined_id : msg.peer_id;\r\n                    var joinedType = (joinedMessage === gwMessageActivityJoined) ? msg.joined_type : msg.peer_type;\r\n                    var joinedName = (joinedMessage === gwMessageActivityJoined) ? msg.joined_name : msg.peer_name;\r\n                    var entity = new ActivityWindow(joinedId, joinedName, joinedType, msg.activity_id, _this.getAgmInstance(joinedId), undefined, _this.generateWindowGetter(joinedId), undefined);\r\n                    if (!_this._contextSubscriptions[msg.activity_id]) {\r\n                        _this.subscribeToContext(msg).then(function () {\r\n                            if (joinedMessage === gwMessageJoinedActivity) {\r\n                                _this._activityJoinedPromiseResolve({});\r\n                            }\r\n                        });\r\n                    }\r\n                    else if (joinedMessage === gwMessageJoinedActivity) {\r\n                        _this._activityJoinedPromiseResolve({});\r\n                    }\r\n                    _this.invokeCallbacks(_this._activityWindowChangeCallbacks, new EntityEvent(entity, new EntityEventContext(EntityEventType.ActivityWindowJoinedActivity)), joinedMessage);\r\n                });\r\n            };\r\n            var this_1 = this;\r\n            for (var _i = 0, _a = [gwMessageActivityJoined, gwMessageJoinedActivity]; _i < _a.length; _i++) {\r\n                var joinedMessage = _a[_i];\r\n                _loop_1(joinedMessage);\r\n            }\r\n            this.subscribe(gwMessageActivityLeft, function (msg) {\r\n                var entity = new ActivityWindow(msg.left_id, undefined, undefined, null, _this.getAgmInstance(msg.left_id), undefined, _this.generateWindowGetter(msg.left_id), undefined);\r\n                _this.invokeCallbacks(_this._activityWindowChangeCallbacks, new EntityEvent(entity, new EntityEventContext(EntityEventType.ActivityWindowLeftActivity)), gwMessageActivityLeft);\r\n            });\r\n            this.forwardAddedAndRemovedMessagesToEventHandler(gwMessagePeerCreated, undefined, function (msg) { return [\r\n                new ActivityWindow(msg.created_id, undefined, undefined, undefined, undefined, undefined, _this.generateWindowGetter(msg.created_id), undefined)\r\n            ]; }, this._activityWindowChangeCallbacks);\r\n        };\r\n        GW3Bridge.prototype.getAgmInstance = function (id) {\r\n            return this._config.agm.servers().find(function (s) { return s.peerId === id || s.windowId === id; });\r\n        };\r\n        GW3Bridge.prototype.generateWindowGetter = function (peerId) {\r\n            var _this = this;\r\n            return function () {\r\n                var server = _this.getAgmInstance(peerId);\r\n                if (!server) {\r\n                    return;\r\n                }\r\n                var windowId = server.windowId;\r\n                return _this._config.windows.list().filter(function (w) { return w.id === windowId; })[0];\r\n            };\r\n        };\r\n        GW3Bridge.prototype.isOverrideTypeDefinition = function (value) {\r\n            if (typeof value === \"undefined\") {\r\n                return false;\r\n            }\r\n            if (value.owner) {\r\n                return true;\r\n            }\r\n            return false;\r\n        };\r\n        return GW3Bridge;\r\n    }());\n\n    var ActivityMy = (function () {\r\n        function ActivityMy(manager, windows) {\r\n            var _this = this;\r\n            this._myAttached = [];\r\n            this._myDetached = [];\r\n            this._myAttachedTo = [];\r\n            this._myDetachedFrom = [];\r\n            this._myActivityFrameColorChanged = [];\r\n            this._myActivityJoinedCallbacks = [];\r\n            this._myActivityRemovedCallbacks = [];\r\n            this._myContextUpdateCallbacks = [];\r\n            this._logger = Logger$1.Get(this);\r\n            this._m = manager;\r\n            manager.ready()\r\n                .then(function (am) {\r\n                am.subscribeActivityContextChanged(_this._subscribeMyContextChanged.bind(_this));\r\n                am.subscribeWindowEvents(_this._subscribeMyWindowEvent.bind(_this));\r\n                am.subscribeActivitiesAttached(_this._subscribeActivitiesAttached.bind(_this));\r\n                am.subscribeActivitiesDetached(_this._subscribeActivitiesDetached.bind(_this));\r\n                if (windows) {\r\n                    windows.onWindowFrameColorChanged(_this._subscribeWindowFrameColorChanged.bind(_this));\r\n                }\r\n            });\r\n        }\r\n        Object.defineProperty(ActivityMy.prototype, \"window\", {\r\n            get: function () {\r\n                if (isUndefinedOrNull(this._w)) {\r\n                    var announcedWindows = this._m.announcedWindows;\r\n                    if (announcedWindows.length > 0) {\r\n                        this._w = announcedWindows[0];\r\n                    }\r\n                }\r\n                return this._w;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityMy.prototype, \"activity\", {\r\n            get: function () {\r\n                var myWin = this.window;\r\n                if (isUndefinedOrNull(myWin)) {\r\n                    return undefined;\r\n                }\r\n                return myWin.activity;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ActivityMy.prototype.createWindow = function (windowType) {\r\n            return this._m.createWindow(this.activity, windowType);\r\n        };\r\n        ActivityMy.prototype.createStackedWindows = function (windowTypes, timeout) {\r\n            return this._m.createStackedWindows(this.activity, windowTypes, timeout);\r\n        };\r\n        Object.defineProperty(ActivityMy.prototype, \"context\", {\r\n            get: function () {\r\n                var activity = this.activity;\r\n                if (isUndefined(activity)) {\r\n                    return {};\r\n                }\r\n                return activity.context;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ActivityMy.prototype.updateContext = function (context, callback) {\r\n            var activity = this.activity;\r\n            if (isUndefined(activity)) {\r\n                return new Promise(function (resolve, reject) {\r\n                    reject(\"Not in activity\");\r\n                });\r\n            }\r\n            return activity.updateContext(context, callback);\r\n        };\r\n        ActivityMy.prototype.setContext = function (context, callback) {\r\n            var activity = this.activity;\r\n            if (isUndefined(activity)) {\r\n                return new Promise(function (resolve, reject) {\r\n                    reject(\"Not in activity\");\r\n                });\r\n            }\r\n            return activity.setContext(context, callback);\r\n        };\r\n        ActivityMy.prototype.onActivityJoined = function (callback) {\r\n            this._myActivityJoinedCallbacks.push(callback);\r\n            var myWin = this.window;\r\n            if (!isUndefinedOrNull(myWin) && !isUndefinedOrNull(myWin.activity)) {\r\n                callback(myWin.activity);\r\n            }\r\n        };\r\n        ActivityMy.prototype.onActivityLeft = function (callback) {\r\n            this._myActivityRemovedCallbacks.push(callback);\r\n        };\r\n        ActivityMy.prototype.onContextChanged = function (callback) {\r\n            this._myContextUpdateCallbacks.push(callback);\r\n            var myWin = this.window;\r\n            if (isUndefinedOrNull(myWin)) {\r\n                return;\r\n            }\r\n            var activity = myWin.activity;\r\n            if (isUndefinedOrNull(activity)) {\r\n                return;\r\n            }\r\n            callback(activity.context, activity.context, [], activity);\r\n        };\r\n        ActivityMy.prototype.clone = function (options, callback) {\r\n            var act = this.activity;\r\n            return this._m.clone(act, options, callback);\r\n        };\r\n        ActivityMy.prototype.attach = function (activity, tag) {\r\n            var activityId;\r\n            if (typeof activity === \"string\") {\r\n                activityId = activity;\r\n            }\r\n            else {\r\n                activityId = activity.id;\r\n            }\r\n            return this._m.attachActivities(activityId, this.activity.id, tag);\r\n        };\r\n        ActivityMy.prototype.onActivityAttached = function (callback) {\r\n            this._myAttached.push(callback);\r\n        };\r\n        ActivityMy.prototype.onActivityDetached = function (callback) {\r\n            this._myDetached.push(callback);\r\n        };\r\n        ActivityMy.prototype.onAttachedToActivity = function (callback) {\r\n            this._myAttachedTo.push(callback);\r\n        };\r\n        ActivityMy.prototype.onDetachedFromActivity = function (callback) {\r\n            this._myDetachedFrom.push(callback);\r\n        };\r\n        Object.defineProperty(ActivityMy.prototype, \"attached\", {\r\n            get: function () {\r\n                if (!this.activity) {\r\n                    return [];\r\n                }\r\n                return this.activity.attached;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ActivityMy.prototype.setFrameColor = function (color, callback) {\r\n            if (this.activity) {\r\n                return this.activity.setFrameColor(color, callback);\r\n            }\r\n            else {\r\n                return Promise.resolve(null);\r\n            }\r\n        };\r\n        ActivityMy.prototype.getFrameColor = function () {\r\n            if (this.activity) {\r\n                return this.activity.getFrameColor();\r\n            }\r\n            return \"\";\r\n        };\r\n        ActivityMy.prototype.onFrameColorChanged = function (callback) {\r\n            this._myActivityFrameColorChanged.push(callback);\r\n        };\r\n        ActivityMy.prototype._subscribeMyContextChanged = function (activity, context, delta, removed) {\r\n            var myWin = this.window;\r\n            if (isUndefinedOrNull(myWin)) {\r\n                return;\r\n            }\r\n            var myActivity = myWin.activity;\r\n            if (isUndefinedOrNull(myActivity)) {\r\n                return;\r\n            }\r\n            if (activity.id !== myActivity.id) {\r\n                return;\r\n            }\r\n            this._notifyMyContextChanged(activity, context, delta, removed);\r\n        };\r\n        ActivityMy.prototype._subscribeMyWindowEvent = function (activity, window, event) {\r\n            if (isUndefinedOrNull(this.window)) {\r\n                return;\r\n            }\r\n            if (this.window.id !== window.id) {\r\n                return;\r\n            }\r\n            if (event === EntityEventType.ActivityWindowJoinedActivity) {\r\n                this._notifyMyWindowEvent(activity, this._myActivityJoinedCallbacks);\r\n                this._notifyMyContextChanged(activity, activity.context, null, null);\r\n            }\r\n            else if (event === EntityEventType.ActivityWindowLeftActivity) {\r\n                this._notifyMyWindowEvent(activity, this._myActivityRemovedCallbacks);\r\n            }\r\n        };\r\n        ActivityMy.prototype._notifyMyWindowEvent = function (activity, callbackStore) {\r\n            var _this = this;\r\n            callbackStore.forEach(function (element) {\r\n                try {\r\n                    element(activity, event);\r\n                }\r\n                catch (e) {\r\n                    _this._logger.warn(\"error in user callback \" + e);\r\n                }\r\n            });\r\n        };\r\n        ActivityMy.prototype._notifyMyContextChanged = function (activity, context, delta, removed) {\r\n            var _this = this;\r\n            delta = delta || {};\r\n            removed = removed || [];\r\n            this._myContextUpdateCallbacks.forEach(function (element) {\r\n                try {\r\n                    element(context, delta, removed, activity);\r\n                }\r\n                catch (e) {\r\n                    _this._logger.warn(\"error in user callback \" + e);\r\n                }\r\n            });\r\n        };\r\n        ActivityMy.prototype._notifyAttached = function (state) {\r\n            var _this = this;\r\n            this._myAttached.forEach(function (cb) {\r\n                try {\r\n                    cb(state);\r\n                }\r\n                catch (e) {\r\n                    _this._logger.warn(\"error in user callback \" + e);\r\n                }\r\n            });\r\n        };\r\n        ActivityMy.prototype._notifyDetached = function (state) {\r\n            var _this = this;\r\n            this._myDetached.forEach(function (cb) {\r\n                try {\r\n                    cb(state);\r\n                }\r\n                catch (e) {\r\n                    _this._logger.warn(\"error in user callback \" + e);\r\n                }\r\n            });\r\n        };\r\n        ActivityMy.prototype._notifyAttachedTo = function (state) {\r\n            var _this = this;\r\n            this._myAttachedTo.forEach(function (cb) {\r\n                try {\r\n                    cb(_this.activity, state);\r\n                }\r\n                catch (e) {\r\n                    _this._logger.warn(\"error in user callback \" + e);\r\n                }\r\n            });\r\n        };\r\n        ActivityMy.prototype._notifyDetachedFrom = function (detached, existing, state) {\r\n            var _this = this;\r\n            this._myDetachedFrom.forEach(function (cb) {\r\n                try {\r\n                    cb(detached, existing, state);\r\n                }\r\n                catch (e) {\r\n                    _this._logger.warn(\"error in user callback \" + e);\r\n                }\r\n            });\r\n        };\r\n        ActivityMy.prototype._subscribeActivitiesAttached = function (newAct, state) {\r\n            var myWin = this.window;\r\n            if (isUndefinedOrNull(myWin)) {\r\n                return;\r\n            }\r\n            var myActivity = myWin.activity;\r\n            if (isUndefinedOrNull(myActivity)) {\r\n                return;\r\n            }\r\n            if (newAct.id !== myActivity.id) {\r\n                return;\r\n            }\r\n            if (state.windowIds.indexOf(myWin.id) >= 0) {\r\n                this._notifyAttachedTo(state);\r\n                return;\r\n            }\r\n            this._notifyAttached(state);\r\n        };\r\n        ActivityMy.prototype._subscribeActivitiesDetached = function (newAct, oldAct, state) {\r\n            var myWin = this.window;\r\n            if (isUndefinedOrNull(myWin)) {\r\n                return;\r\n            }\r\n            var myActivity = myWin.activity;\r\n            if (isUndefinedOrNull(myActivity)) {\r\n                return;\r\n            }\r\n            if (oldAct.id === myActivity.id) {\r\n                this._notifyDetached(state);\r\n            }\r\n            if (newAct.id === myActivity.id) {\r\n                this._notifyDetachedFrom(newAct, oldAct, state);\r\n            }\r\n        };\r\n        ActivityMy.prototype._subscribeWindowFrameColorChanged = function (window) {\r\n            var act = this.activity;\r\n            if (!act) {\r\n                return;\r\n            }\r\n            if (!act.owner) {\r\n                return;\r\n            }\r\n            if (act.owner.underlyingWindow.id === window.id) {\r\n                this._myActivityFrameColorChanged.forEach(function (callback) {\r\n                    callback(window.frameColor);\r\n                });\r\n            }\r\n        };\r\n        return ActivityMy;\r\n    }());\n\n    var ReadyMarker = (function () {\r\n        function ReadyMarker(name, signalsToWait) {\r\n            this._logger = Logger$1.Get(\"ReadyMarker [\" + name + \"]\");\r\n            this._logger.debug(\"Initializing ready marker for '\" + name + \"' with \" + signalsToWait + \" signals to wait\");\r\n            if (signalsToWait <= 0) {\r\n                throw new Error(\"Invalid signal number. Should be > 0\");\r\n            }\r\n            this._signals = signalsToWait;\r\n            this._callbacks = [];\r\n            this._name = name;\r\n        }\r\n        ReadyMarker.prototype.setCallback = function (callback) {\r\n            if (this.isSet()) {\r\n                callback(undefined);\r\n                return;\r\n            }\r\n            else if (this.isError()) {\r\n                callback(this._error);\r\n                return;\r\n            }\r\n            this._callbacks.push(callback);\r\n        };\r\n        ReadyMarker.prototype.signal = function (message) {\r\n            this._logger.debug(\"Signaled - \" + message + \" - signals left \" + (this._signals - 1));\r\n            this._signals--;\r\n            if (this._signals < 0) {\r\n                throw new Error(\"Error in ready marker '\" + this._name + \" - signals are \" + this._signals);\r\n            }\r\n            if (this.isSet()) {\r\n                this._callbacks.forEach(function (callback) {\r\n                    callback(undefined);\r\n                });\r\n            }\r\n        };\r\n        ReadyMarker.prototype.error = function (error) {\r\n            this._error = error;\r\n            this._callbacks.forEach(function (errorCallback) {\r\n                errorCallback(error);\r\n            });\r\n        };\r\n        ReadyMarker.prototype.isSet = function () {\r\n            if (this.isError()) {\r\n                return false;\r\n            }\r\n            return this._signals === 0;\r\n        };\r\n        ReadyMarker.prototype.isError = function () {\r\n            return !isUndefined(this._error);\r\n        };\r\n        ReadyMarker.prototype.getError = function () {\r\n            return this._error;\r\n        };\r\n        return ReadyMarker;\r\n    }());\n\n    var EntityObservableCollection = (function () {\r\n        function EntityObservableCollection(processNew) {\r\n            this._items = {};\r\n            this._listeners = [];\r\n            this._processNew = processNew;\r\n        }\r\n        EntityObservableCollection.prototype.addOne = function (item) {\r\n            this.add([item]);\r\n        };\r\n        EntityObservableCollection.prototype.add = function (items) {\r\n            var _this = this;\r\n            items.forEach(function (element) {\r\n                _this.process(new EntityEvent(element, new EntityEventContext(EntityEventType.Added)));\r\n            });\r\n        };\r\n        EntityObservableCollection.prototype.process = function (event) {\r\n            var context = event.context;\r\n            var type = context.type;\r\n            var entity = event.entity;\r\n            if (type === EntityEventType.StatusChange &&\r\n                !context.oldStatus) {\r\n                var act = this._items[entity.id];\r\n                if (act) {\r\n                    context.oldStatus = act.status;\r\n                }\r\n            }\r\n            if (type === EntityEventType.StatusChange &&\r\n                context.oldStatus &&\r\n                context.newStatus &&\r\n                context.oldStatus.state ===\r\n                    context.newStatus.state) {\r\n                context.type = EntityEventType.Updated;\r\n            }\r\n            if (typeof htmlContainer === \"undefined\") {\r\n                if (type === EntityEventType.ActivityWindowJoinedActivity &&\r\n                    this._items[entity.id] &&\r\n                    this._items[entity.id].activity) {\r\n                    context.type = EntityEventType.Updated;\r\n                }\r\n                if (type === EntityEventType.ActivityWindowLeftActivity &&\r\n                    this._items[entity.id] &&\r\n                    !this._items[entity.id].activity) {\r\n                    context.type = EntityEventType.Updated;\r\n                }\r\n            }\r\n            var internalEntity = this._updateInternalCollections(entity, type, context);\r\n            this._notifyListeners(internalEntity, context);\r\n            return internalEntity;\r\n        };\r\n        EntityObservableCollection.prototype.get = function () {\r\n            var result = [];\r\n            for (var key in this._items) {\r\n                if (this._items.hasOwnProperty(key)) {\r\n                    var element = this._items[key];\r\n                    result.push(element);\r\n                }\r\n            }\r\n            return result;\r\n        };\r\n        EntityObservableCollection.prototype.getByName = function (name) {\r\n            for (var key in this._items) {\r\n                if (key === name) {\r\n                    return this._items[key];\r\n                }\r\n            }\r\n            return undefined;\r\n        };\r\n        EntityObservableCollection.prototype.getOrWait = function (name) {\r\n            var _this = this;\r\n            return new Promise(function (resolve) {\r\n                var entityAddedHandler = function (entity) {\r\n                    if (entity.id !== name) {\r\n                        return;\r\n                    }\r\n                    resolve(entity);\r\n                    _this.unsubscribe(entityAddedHandler);\r\n                };\r\n                _this.subscribe(entityAddedHandler);\r\n                var window = _this.getByName(name);\r\n                if (window) {\r\n                    _this.unsubscribe(entityAddedHandler);\r\n                    resolve(window);\r\n                    return;\r\n                }\r\n            });\r\n        };\r\n        EntityObservableCollection.prototype.subscribe = function (handler) {\r\n            var _this = this;\r\n            this._listeners.push(handler);\r\n            Object.keys(this._items).forEach(function (key) {\r\n                var element = _this._items[key];\r\n                handler(element, new EntityEventContext(EntityEventType.Added.toString()));\r\n            });\r\n            return function () {\r\n                _this.unsubscribe(handler);\r\n            };\r\n        };\r\n        EntityObservableCollection.prototype.unsubscribe = function (handler) {\r\n            var index = this._listeners.indexOf(handler);\r\n            if (index !== -1) {\r\n                this._listeners.splice(index, 1);\r\n            }\r\n        };\r\n        EntityObservableCollection.prototype._notifyListeners = function (entity, context) {\r\n            this._listeners.forEach(function (listener) {\r\n                try {\r\n                    listener(entity, context);\r\n                }\r\n                catch (e) {\r\n                    return;\r\n                }\r\n            });\r\n        };\r\n        EntityObservableCollection.prototype._updateInternalCollections = function (entity, type, context) {\r\n            var entityAsAny = entity;\r\n            var isActivityDestroy = (type === EntityEventType.StatusChange &&\r\n                entityAsAny.status &&\r\n                entityAsAny.status.state === ActivityState.Destroyed) ||\r\n                (type === EntityEventType.StatusChange &&\r\n                    context &&\r\n                    context.newStatus &&\r\n                    context.newStatus.state === ActivityState.Destroyed);\r\n            var isWindowClose = type === EntityEventType.Closed;\r\n            var isTypeRemove = type === EntityEventType.Removed && typeof entityAsAny.isIndependent === \"undefined\";\r\n            if (isTypeRemove || isWindowClose || isActivityDestroy) {\r\n                var oldEntity = this._items[entity.id];\r\n                delete this._items[entity.id];\r\n                this._processNew(entity);\r\n                if (oldEntity) {\r\n                    entity._beforeDelete(oldEntity);\r\n                }\r\n                return entity;\r\n            }\r\n            else {\r\n                var key = entity.id;\r\n                if (!this._items.hasOwnProperty(key)) {\r\n                    this._processNew(entity);\r\n                    this._items[entity.id] = entity;\r\n                }\r\n                else {\r\n                    this._items[entity.id]._update(entity);\r\n                }\r\n            }\r\n            return this._items[entity.id];\r\n        };\r\n        return EntityObservableCollection;\r\n    }());\n\n    var ActivityManager = (function () {\r\n        function ActivityManager(bridge, autoAnnounce, windows) {\r\n            var _this = this;\r\n            this._logger = Logger$1.Get(\"activityManager\");\r\n            this._announcedWindows = [];\r\n            this._attachedCallbacks = [];\r\n            this._detachedCallbacks = [];\r\n            this._frameColorChangesCallbacks = [];\r\n            this._windowHandlers = [];\r\n            this._bridge = bridge;\r\n            this._activityTypes = new EntityObservableCollection(function (e) { return _this._grabEntity(e); });\r\n            this._windowTypes = new EntityObservableCollection(function (e) { return _this._grabEntity(e); });\r\n            this._activities = new EntityObservableCollection(function (e) { return _this._grabEntity(e); });\r\n            this._windows = new EntityObservableCollection(function (e) { return _this._grabEntity(e); });\r\n            this._dataReadyMarker = new ReadyMarker(\"Activity Manager Data\", [\"GetActivityTypes\", \"GetWindowTypes\", \"GetActivities\", \"GetWindows\"].length);\r\n            this._descriptorsMarker = new ReadyMarker(\"Attached Activities Descriptors\", [\"GetDescriptors\"].length);\r\n            if (autoAnnounce) {\r\n                this._readyMarker = new ReadyMarker(\"Activity Manager Announce\", [\"Announcement\"].length);\r\n                this._dataReadyMarker.setCallback(function (dataErr) {\r\n                    if (dataErr) {\r\n                        _this._readyMarker.error(dataErr);\r\n                    }\r\n                    _this._descriptorsMarker.setCallback(function (err) {\r\n                        if (err) {\r\n                            _this._readyMarker.error(err);\r\n                        }\r\n                        _this._logger.debug(\"Auto announcing window\");\r\n                        _this.announceWindow()\r\n                            .then(function (w) {\r\n                            _this._announcedWindows.push(w);\r\n                            _this._readyMarker.signal(\"Successfully announced window with id '\" + w.id + \"'\");\r\n                        })\r\n                            .catch(function (errCatch) {\r\n                            _this._logger.debug(\"Will not announce window - \" + errCatch);\r\n                            _this._readyMarker.signal();\r\n                        });\r\n                    });\r\n                    _this.refreshDescriptors();\r\n                });\r\n            }\r\n            else {\r\n                this._readyMarker = this._dataReadyMarker;\r\n            }\r\n            this._bridge.onActivitiesAttached(function (e) {\r\n                _this._handleActivitiesAttached(e);\r\n            });\r\n            this._bridge.onActivitiesDetached(function (e) {\r\n                _this._handleActivitiesDetached(e);\r\n            });\r\n            this._bridge.onActivityAttachedDescriptorsRefreshed(function (e) {\r\n                _this._handleActivityDescriptorsRefreshed(e);\r\n            });\r\n            if (windows) {\r\n                windows.onWindowFrameColorChanged(this._handleWindowFrameColorChanged.bind(this));\r\n            }\r\n            this._bridge.init();\r\n            this._subscribeForData();\r\n            this._bridge\r\n                .initReady()\r\n                .then(function (aw) {\r\n                _this._getInitialData();\r\n            })\r\n                .catch(function (error) {\r\n                console.log(error);\r\n            });\r\n        }\r\n        Object.defineProperty(ActivityManager.prototype, \"usingHc\", {\r\n            get: function () {\r\n                return this._bridge.bridgeType === \"HC\";\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityManager.prototype, \"announcedWindows\", {\r\n            get: function () {\r\n                return this._announcedWindows;\r\n            },\r\n            set: function (v) {\r\n                throw new Error(\"not allowed\");\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ActivityManager.prototype.ready = function (callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                _this._readyMarker.setCallback(function (err) {\r\n                    if (!err) {\r\n                        resolve(_this);\r\n                    }\r\n                    else {\r\n                        reject(_this._readyMarker.getError());\r\n                    }\r\n                });\r\n            });\r\n            return nodeify(Promise.all([this._bridge.ready(), promise]).then(function () { return _this; }), callback);\r\n        };\r\n        ActivityManager.prototype.getActivityTypes = function () {\r\n            return this._activityTypes.get();\r\n        };\r\n        ActivityManager.prototype.getActivityType = function (name) {\r\n            return this._activityTypes.getByName(name);\r\n        };\r\n        ActivityManager.prototype.registerActivityType = function (activityTypeName, ownerWindowType, helperWindowTypes, config, description, callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                if (isUndefinedOrNull(activityTypeName)) {\r\n                    reject(\"activityTypeName argument can not be undefined\");\r\n                    return;\r\n                }\r\n                if (!isString(activityTypeName)) {\r\n                    reject(\"activityTypeName should be string\");\r\n                    return;\r\n                }\r\n                var actType = _this.getActivityType(activityTypeName);\r\n                if (!isUndefinedOrNull(actType)) {\r\n                    reject(\"Activity type '\" + activityTypeName + \"' already exists\");\r\n                    return;\r\n                }\r\n                var ownerDefinition;\r\n                if (isUndefined(ownerWindowType)) {\r\n                    reject(\"Owner window type can not be undefined\");\r\n                    return;\r\n                }\r\n                if (isString(ownerWindowType)) {\r\n                    ownerDefinition = { type: ownerWindowType, name: \"\", isIndependent: false, arguments: {} };\r\n                }\r\n                else {\r\n                    ownerDefinition = ownerWindowType;\r\n                }\r\n                var helperDefinitions = [];\r\n                if (!isUndefined(helperWindowTypes) && isArray(helperWindowTypes)) {\r\n                    for (var index in helperWindowTypes) {\r\n                        var item = helperWindowTypes[index];\r\n                        if (isString(item)) {\r\n                            var definition = {\r\n                                type: item,\r\n                                name: \"\",\r\n                                isIndependent: false,\r\n                                arguments: {},\r\n                                relativeTo: \"\",\r\n                                relativeDirection: \"\",\r\n                                windowStyleAttributes: {}\r\n                            };\r\n                            helperDefinitions.push(definition);\r\n                        }\r\n                        else {\r\n                            helperDefinitions.push(item);\r\n                        }\r\n                    }\r\n                }\r\n                _this._bridge\r\n                    .registerActivityType(activityTypeName, ownerDefinition, helperDefinitions, config, description)\r\n                    .then(function (activityType) {\r\n                    _this._grabEntity(activityType);\r\n                    resolve(activityType);\r\n                })\r\n                    .catch(function (error) {\r\n                    reject(error);\r\n                });\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.unregisterActivityType = function (type, callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                var actType = _this.getActivityType(type);\r\n                if (isUndefined(actType)) {\r\n                    reject(\"Activity type '\" + type + \"' does not exists\");\r\n                    return;\r\n                }\r\n                _this._bridge.unregisterActivityType(type).then(function () { return resolve(actType); }, reject);\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.initiate = function (activityType, context, callback, configuration) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                var actType = _this.getActivityType(activityType);\r\n                if (isUndefined(actType)) {\r\n                    reject(\"Activity type '\" + activityType + \"' does not exists\");\r\n                    return;\r\n                }\r\n                _this._bridge\r\n                    .initiateActivity(activityType, context, configuration)\r\n                    .then(function (actId) {\r\n                    _this._activities\r\n                        .getOrWait(actId)\r\n                        .then(function (act) {\r\n                        resolve(act);\r\n                    })\r\n                        .catch(function (err) { return reject(err); });\r\n                })\r\n                    .catch(function (err) {\r\n                    reject(err);\r\n                });\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.subscribeActivityTypeEvents = function (handler) {\r\n            this._activityTypes.subscribe(function (at, context) {\r\n                handler(at, context.type);\r\n            });\r\n        };\r\n        ActivityManager.prototype.getWindowTypes = function () {\r\n            return this._windowTypes.get();\r\n        };\r\n        ActivityManager.prototype.getWindowType = function (name) {\r\n            return this._windowTypes.getByName(name);\r\n        };\r\n        ActivityManager.prototype.registerWindowFactory = function (windowType, factoryMethod, callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                if (isUndefinedOrNull(windowType)) {\r\n                    reject(\"no windowType specified\");\r\n                    return;\r\n                }\r\n                if (isObject(windowType)) {\r\n                    windowType = windowType.getName();\r\n                }\r\n                else if (!isString(windowType)) {\r\n                    reject(\"windowType should be string or object that has getName method\");\r\n                    return;\r\n                }\r\n                _this._bridge\r\n                    .registerWindowFactory(windowType, factoryMethod)\r\n                    .then(function (v) {\r\n                    resolve(v);\r\n                })\r\n                    .catch(function (err) {\r\n                    reject(err);\r\n                });\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.unregisterWindowFactory = function (windowType, callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                if (isUndefinedOrNull(windowType)) {\r\n                    reject(\"no windowType specified\");\r\n                    return;\r\n                }\r\n                if (!isString(windowType)) {\r\n                    reject(\"windowType should be a string\");\r\n                    return;\r\n                }\r\n                _this._bridge\r\n                    .unregisterWindowFactory(windowType)\r\n                    .then(function (v) {\r\n                    resolve(v);\r\n                })\r\n                    .catch(function (err) {\r\n                    reject(err);\r\n                });\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.getActivities = function (activityType) {\r\n            var act = this._activities.get();\r\n            act = act.filter(function (a) { return a._ownerId; });\r\n            if (!activityType) {\r\n                return act;\r\n            }\r\n            var types = activityType;\r\n            if (isString(activityType)) {\r\n                types = [activityType];\r\n            }\r\n            else if (activityType instanceof ActivityType) {\r\n                types = [activityType.name];\r\n            }\r\n            else if (activityType instanceof Array) ;\r\n            else {\r\n                throw new Error(\"Invalid input argument 'activityType' = \" + activityType);\r\n            }\r\n            return act.filter(function (at) {\r\n                var type = at.type;\r\n                return some(types, function (t) {\r\n                    return type.id === t.id;\r\n                });\r\n            });\r\n        };\r\n        ActivityManager.prototype.getActivityById = function (id) {\r\n            return this._activities.getByName(id);\r\n        };\r\n        ActivityManager.prototype.announceWindow = function (activityWindowId, windowType) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                var announcementInfo = _this._bridge.getAnnouncementInfo();\r\n                if (isUndefined(activityWindowId)) {\r\n                    activityWindowId = announcementInfo.activityWindowId;\r\n                }\r\n                if (isUndefined(windowType)) {\r\n                    windowType = announcementInfo.activityWindowType;\r\n                }\r\n                if (isUndefinedOrNull(windowType)) {\r\n                    throw new Error(\"Can not announce - unknown windowType\");\r\n                }\r\n                var activityId = announcementInfo && announcementInfo.activityId;\r\n                if (isUndefinedOrNull(activityWindowId)) {\r\n                    _this._logger.debug(\"Registering window with type:'\" + windowType + \"', name:'\" + announcementInfo.activityWindowName + \"', ind.:'\" + announcementInfo.activityWindowIndependent + \"'\");\r\n                    _this._bridge.registerWindow(windowType, announcementInfo.activityWindowName, announcementInfo.activityWindowIndependent)\r\n                        .then(_this._windows.getOrWait.bind(_this._windows))\r\n                        .then(function (w) {\r\n                        if (activityId) {\r\n                            return _this._activities.getOrWait(activityId).then(function (_) { return w; });\r\n                        }\r\n                        else {\r\n                            return w;\r\n                        }\r\n                    })\r\n                        .then(function (w) {\r\n                        resolve(w);\r\n                    })\r\n                        .catch(function (err) {\r\n                        _this._logger.error(err);\r\n                    });\r\n                }\r\n                else {\r\n                    _this._logger.debug(\"Announcing window with id '\" + activityWindowId + \"' and type '\" + windowType + \"'\");\r\n                    var currentWindow = _this._windows.getByName(activityWindowId);\r\n                    if (!isUndefinedOrNull(currentWindow)) {\r\n                        _this._logger.debug(\"Window with id '\" + activityWindowId + \"' already announced - reusing the window\");\r\n                        resolve(currentWindow);\r\n                        return;\r\n                    }\r\n                    var windowEventHandler_1 = function (a, w, e) {\r\n                        if (activityWindowId === w.id) {\r\n                            if (e === EntityEventType.ActivityWindowJoinedActivity) {\r\n                                var activity = w.activity;\r\n                                if (isUndefined(activity)) {\r\n                                    reject(\"UNDEFINED ACTIVITY\");\r\n                                }\r\n                                _this._logger.trace(\"Got joined event for id '\" + activityWindowId + \"'\");\r\n                                resolve(w);\r\n                                _this.unsubscribeWindowEvents(windowEventHandler_1);\r\n                            }\r\n                        }\r\n                    };\r\n                    _this.subscribeWindowEvents(windowEventHandler_1);\r\n                    _this._logger.trace(\"Waiting for joined event for id '\" + activityWindowId + \"'\");\r\n                    _this._bridge.announceWindow(windowType, activityWindowId);\r\n                }\r\n            });\r\n            return promise;\r\n        };\r\n        ActivityManager.prototype.subscribeWindowTypeEvents = function (handler) {\r\n            this._windowTypes.subscribe(function (wt, context) {\r\n                handler(wt, context.type);\r\n            });\r\n        };\r\n        ActivityManager.prototype.subscribeActivityEvents = function (handler) {\r\n            var _this = this;\r\n            return this._activities.subscribe(function (act, context) {\r\n                if (context.type === EntityEventType.StatusChange) {\r\n                    var p = context;\r\n                    handler(act, p.newStatus, p.oldStatus);\r\n                }\r\n                if (context.type === EntityEventType.Removed ||\r\n                    (context.type === EntityEventType.StatusChange &&\r\n                        context.newStatus.getState() === ActivityState.Destroyed)) {\r\n                    for (var _i = 0, _a = _this._windows.get(); _i < _a.length; _i++) {\r\n                        var window_1 = _a[_i];\r\n                        if (window_1.activity && window_1.activity.id === act.id) {\r\n                            _this._windows.process(new EntityEvent(window_1, new EntityEventContext(EntityEventType.ActivityWindowLeftActivity)));\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        };\r\n        ActivityManager.prototype.subscribeWindowEvents = function (handler) {\r\n            var wrappingHandler = function (window, context) {\r\n                var eventType = context.type;\r\n                if (eventType === EntityEventType.Added) {\r\n                    eventType = \"opened\";\r\n                }\r\n                handler(window.activity, window, eventType);\r\n            };\r\n            this._windowHandlers.push([handler, wrappingHandler]);\r\n            return this._windows.subscribe(wrappingHandler);\r\n        };\r\n        ActivityManager.prototype.unsubscribeWindowEvents = function (handler) {\r\n            var found = this._windowHandlers.find(function (pair) { return pair[0] === handler; });\r\n            if (found) {\r\n                this._windowHandlers.splice(this._windowHandlers.indexOf(found), 1);\r\n                this._windows.unsubscribe(found[1]);\r\n            }\r\n        };\r\n        ActivityManager.prototype.createWindow = function (activity, windowTypeOrConfiguration, callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                if (isUndefinedOrNull(windowTypeOrConfiguration)) {\r\n                    reject(\"windowType is undefined\");\r\n                }\r\n                var windowDefinition;\r\n                if (isString(windowTypeOrConfiguration)) {\r\n                    windowDefinition = { type: windowTypeOrConfiguration, name: \"\", isIndependent: false, arguments: {} };\r\n                }\r\n                else if (windowTypeOrConfiguration instanceof WindowType) {\r\n                    windowDefinition = {\r\n                        type: windowTypeOrConfiguration.type || windowTypeOrConfiguration.id,\r\n                        name: windowTypeOrConfiguration.name || windowTypeOrConfiguration.type || windowTypeOrConfiguration.id,\r\n                        isIndependent: false\r\n                    };\r\n                }\r\n                else {\r\n                    var invalidKeys_1 = [\"url\"];\r\n                    var filteredWindowTypeOrConfiguration_1 = {};\r\n                    Object.keys(windowTypeOrConfiguration).forEach(function (key) {\r\n                        if (invalidKeys_1.indexOf(key) === -1) {\r\n                            filteredWindowTypeOrConfiguration_1[key] = windowTypeOrConfiguration[key];\r\n                        }\r\n                    });\r\n                    windowDefinition = filteredWindowTypeOrConfiguration_1;\r\n                }\r\n                var relativeToWindow;\r\n                if (!isUndefinedOrNull(windowDefinition.relativeTo)) {\r\n                    relativeToWindow = windowDefinition.relativeTo;\r\n                    if (typeof relativeToWindow === \"string\") {\r\n                        var windows = _this.getWindows({ type: relativeToWindow });\r\n                        if (!isUndefinedOrNull(windows) && windows.length > 0) {\r\n                            windowDefinition.relativeTo = windows[0].id;\r\n                        }\r\n                    }\r\n                    else if (!isUndefinedOrNull(relativeToWindow.type)) {\r\n                        var windows = _this.getWindows({ type: relativeToWindow.type });\r\n                        if (!isUndefinedOrNull(windows) && windows.length > 0) {\r\n                            windowDefinition.relativeTo = windows[0].id;\r\n                        }\r\n                    }\r\n                    else if (!isUndefinedOrNull(relativeToWindow.windowId)) {\r\n                        windowDefinition.relativeTo = relativeToWindow.windowId;\r\n                    }\r\n                }\r\n                _this._bridge.createWindow(activity && activity.id, windowDefinition)\r\n                    .then(function (wid) {\r\n                    _this._logger.debug(\"Window created, waiting for window entity with id \" + wid);\r\n                    var handler = function (window, context) {\r\n                        if (window.id === wid && (!activity || window.activity)) {\r\n                            _this._logger.debug(\"Got entity window with id \" + wid);\r\n                            resolve(window);\r\n                            _this._windows.unsubscribe(handler);\r\n                        }\r\n                    };\r\n                    _this._windows.subscribe(handler);\r\n                })\r\n                    .catch(function (err) {\r\n                    reject(err);\r\n                });\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.createStackedWindows = function (activity, relativeWindowTypes, timeout, callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                if (isUndefinedOrNull(activity)) {\r\n                    reject(\"activity is undefined\");\r\n                }\r\n                if (isUndefinedOrNull(relativeWindowTypes)) {\r\n                    reject(\"relativeWindowTypes is undefined\");\r\n                }\r\n                if (!Array.isArray(relativeWindowTypes)) {\r\n                    reject(\"relativeWindowTypes has to be an array\");\r\n                }\r\n                if (isUndefinedOrNull(timeout)) {\r\n                    timeout = 20000;\r\n                }\r\n                var windowDefinitions = [];\r\n                relativeWindowTypes.forEach(function (element) {\r\n                    var windowDefinition;\r\n                    if (isString(element)) {\r\n                        windowDefinition = { type: element, name: \"\", isIndependent: false, arguments: {} };\r\n                    }\r\n                    else {\r\n                        windowDefinition = element;\r\n                    }\r\n                    windowDefinition.stackedWindow = true;\r\n                    windowDefinition.timeout = timeout;\r\n                    var relativeToWindow;\r\n                    if (!isUndefinedOrNull(windowDefinition.relativeTo)) {\r\n                        relativeToWindow = windowDefinition.relativeTo;\r\n                        if (!isUndefinedOrNull(relativeToWindow.type)) {\r\n                            windowDefinition.relativeTo = relativeToWindow.type;\r\n                        }\r\n                        else if (!isUndefinedOrNull(relativeToWindow.windowId)) {\r\n                            var windows = _this.getWindows({ id: relativeToWindow.windowId });\r\n                            if (!isUndefinedOrNull(windows) && windows.length > 0) {\r\n                                windowDefinition.relativeTo = windows[0].type.name;\r\n                            }\r\n                        }\r\n                    }\r\n                    windowDefinitions.push(windowDefinition);\r\n                });\r\n                var tasks = [];\r\n                windowDefinitions.forEach(function (wd) { return tasks.push(_this.createWindow(activity, wd)); });\r\n                Promise.all(tasks).then(resolve).catch(reject);\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.addWindowToActivity = function (activity, window, callback) {\r\n            var toReturn = this._bridge.joinActivity(activity.id, window.id)\r\n                .then(function () { return window; });\r\n            nodeify(toReturn, callback);\r\n            return toReturn;\r\n        };\r\n        ActivityManager.prototype.leaveWindowFromActivity = function (activity, window, callback) {\r\n            var toReturn = this._bridge.leaveActivity(activity.id, window.id)\r\n                .then(function () { return window; });\r\n            nodeify(toReturn, callback);\r\n            return toReturn;\r\n        };\r\n        ActivityManager.prototype.setActivityContext = function (activity, context, callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                if (isUndefinedOrNull(activity)) {\r\n                    reject(\"activity can not be null\");\r\n                }\r\n                _this._bridge\r\n                    .updateActivityContext(activity, context, true)\r\n                    .then(function (_) {\r\n                    resolve(activity);\r\n                })\r\n                    .catch(function (err) {\r\n                    reject(err);\r\n                });\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.updateActivityContext = function (activity, context, callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                if (isUndefinedOrNull(activity)) {\r\n                    reject(\"activity can not be null\");\r\n                }\r\n                var removedKeys = [];\r\n                for (var key in context) {\r\n                    if (context.hasOwnProperty(key) && context[key] === null) {\r\n                        removedKeys.push(key);\r\n                    }\r\n                }\r\n                for (var _i = 0, removedKeys_1 = removedKeys; _i < removedKeys_1.length; _i++) {\r\n                    var removedKey = removedKeys_1[_i];\r\n                    delete context[removedKey];\r\n                }\r\n                _this._bridge\r\n                    .updateActivityContext(activity, context, false, removedKeys)\r\n                    .then(function (_) {\r\n                    resolve(activity);\r\n                })\r\n                    .catch(function (err) {\r\n                    reject(err);\r\n                });\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.subscribeActivityContextChanged = function (handler) {\r\n            this._activities.subscribe(function (act, context) {\r\n                if (context.type === EntityEventType.ActivityContextChange) {\r\n                    var updateContext = context;\r\n                    handler(act, updateContext.context, updateContext.updated, updateContext.removed);\r\n                }\r\n            });\r\n        };\r\n        ActivityManager.prototype.stopActivity = function (activity, callback) {\r\n            var promise = this._bridge.stopActivity(activity);\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.getWindows = function (filter) {\r\n            if (isUndefined(filter)) {\r\n                return this._windows.get();\r\n            }\r\n            if (!isUndefined(filter.id)) {\r\n                return [this._windows.getByName(filter.id)];\r\n            }\r\n            var allWindows = this._windows.get();\r\n            return allWindows.filter(function (w) {\r\n                if (!isUndefined(filter.type) && w.type.id !== filter.type) {\r\n                    return false;\r\n                }\r\n                if (!isUndefined(filter.name) && w.name !== filter.name) {\r\n                    return false;\r\n                }\r\n                if (!isUndefined(filter.activityId)) {\r\n                    if (isUndefinedOrNull(w.activity)) {\r\n                        return false;\r\n                    }\r\n                    if (w.activity.id !== filter.activityId) {\r\n                        return false;\r\n                    }\r\n                }\r\n                return true;\r\n            });\r\n        };\r\n        ActivityManager.prototype.getWindowBounds = function (id) {\r\n            return this._bridge.getWindowBounds(id);\r\n        };\r\n        ActivityManager.prototype.setWindowBounds = function (id, bounds, callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                _this._bridge.setWindowBounds(id, bounds)\r\n                    .then(function () { return resolve(); })\r\n                    .catch(function (err) { return reject(err); });\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.closeWindow = function (id) {\r\n            return this._bridge.closeWindow(id);\r\n        };\r\n        ActivityManager.prototype.activateWindow = function (id, focus) {\r\n            return this._bridge.activateWindow(id, focus);\r\n        };\r\n        ActivityManager.prototype.setWindowVisibility = function (id, visible) {\r\n            return this._bridge.setWindowVisibility(id, visible);\r\n        };\r\n        ActivityManager.prototype.clone = function (activity, cloneOptions, callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                if (!activity) {\r\n                    reject(\"activity can not be null\");\r\n                }\r\n                _this._bridge.cloneActivity(activity.id, cloneOptions)\r\n                    .then(function (activityId) {\r\n                    _this._activities\r\n                        .getOrWait(activityId)\r\n                        .then(function (act) {\r\n                        resolve(act);\r\n                    })\r\n                        .catch(function (err) { return reject(err); });\r\n                })\r\n                    .catch(function (err) { return reject(err); });\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.attachActivities = function (from, to, tag, callback) {\r\n            var _this = this;\r\n            tag = tag || {};\r\n            var promise = new Promise(function (resolve, reject) {\r\n                var fromActivity = _this._activities.getByName(from);\r\n                if (!fromActivity) {\r\n                    reject(\"can not find activity with id \" + from);\r\n                    return;\r\n                }\r\n                var toActivity = _this._activities.getByName(to);\r\n                if (!toActivity) {\r\n                    reject(\"can not find activity with id \" + to);\r\n                    return;\r\n                }\r\n                return _this._bridge.attachActivities(from, to, tag)\r\n                    .then(function (data) {\r\n                    var newActId = data.to;\r\n                    var state = data.descriptor;\r\n                    var allStates = data.descriptors;\r\n                    _this._activities.getOrWait(newActId).then(function (act) {\r\n                        act._updateDescriptors(allStates);\r\n                        var stateWrapped = act.attached.filter(function (u) { return u.ownerId === state.ownerId; })[0];\r\n                        resolve(stateWrapped);\r\n                    });\r\n                })\r\n                    .catch(function (err) {\r\n                    reject(err);\r\n                });\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.detachActivities = function (activityId, descriptor, callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                return _this._bridge.detachActivities(activityId, descriptor)\r\n                    .then(function () {\r\n                    var oldActId = undefined;\r\n                    var newActId = undefined;\r\n                    var descriptors = undefined;\r\n                    _this._activities\r\n                        .getOrWait(oldActId)\r\n                        .then(function (oldAct) {\r\n                        oldAct._updateDescriptors(descriptors);\r\n                        _this._activities\r\n                            .getOrWait(newActId)\r\n                            .then(function (newAct) {\r\n                            resolve(newAct);\r\n                        });\r\n                    })\r\n                        .catch(function (err) { return reject(err); });\r\n                })\r\n                    .catch(function (err) {\r\n                    reject(err);\r\n                });\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.subscribeActivitiesAttached = function (callback) {\r\n            this._attachedCallbacks.push(callback);\r\n        };\r\n        ActivityManager.prototype.subscribeActivitiesDetached = function (callback) {\r\n            this._detachedCallbacks.push(callback);\r\n        };\r\n        ActivityManager.prototype.subscribeActivityFrameColorChanged = function (callback) {\r\n            this._frameColorChangesCallbacks.push(callback);\r\n        };\r\n        ActivityManager.prototype._grabEntity = function (entity) {\r\n            entity._manager = this;\r\n        };\r\n        ActivityManager.prototype._getInitialData = function () {\r\n            var _this = this;\r\n            this._logger.debug(\"Request initial data...\");\r\n            this._bridge.getActivityTypes()\r\n                .then(function (at) {\r\n                _this._activityTypes.add(at);\r\n                _this._dataReadyMarker.signal(\"Got act types\");\r\n            })\r\n                .catch(function (error) {\r\n                _this._logger.error(error);\r\n                _this._dataReadyMarker.error(\"Can not initialize ActivityManager - error getting activity types -\" + error);\r\n            });\r\n            this._bridge.getWindowTypes()\r\n                .then(function (wt) {\r\n                _this._windowTypes.add(wt);\r\n                _this._dataReadyMarker.signal(\"Got window types\");\r\n            })\r\n                .catch(function (error) {\r\n                _this._logger.error(error);\r\n                _this._dataReadyMarker.error(\"Can not initialize ActivityManager - error getting window types  \" + error);\r\n            });\r\n            this._bridge.getActivities()\r\n                .then(function (ac) {\r\n                _this._activities.add(ac);\r\n                _this._dataReadyMarker.signal(\"Got activities\");\r\n            })\r\n                .catch(function (error) {\r\n                _this._logger.error(error);\r\n                _this._dataReadyMarker.error(\"Can not initialize ActivityManager - error getting activity instances -\" + error);\r\n            });\r\n            this._bridge.getActivityWindows()\r\n                .then(function (aw) {\r\n                _this._windows.add(aw);\r\n                _this._dataReadyMarker.signal(\"Got windows\");\r\n            })\r\n                .catch(function (error) {\r\n                _this._logger.error(error);\r\n                _this._dataReadyMarker.error(\"Can not initialize ActivityManager - error getting activity windows -\" + error);\r\n            });\r\n        };\r\n        ActivityManager.prototype._subscribeForData = function () {\r\n            var _this = this;\r\n            this._logger.debug(\"Subscribe for data...\");\r\n            this._bridge.onActivityTypeStatusChange(function (event) {\r\n                _this._activityTypes.process(event);\r\n            });\r\n            this._bridge.onWindowTypeStatusChange(function (event) {\r\n                _this._windowTypes.process(event);\r\n            });\r\n            this._bridge.onActivityWindowChange(function (event) {\r\n                _this._windows.process(event);\r\n            });\r\n            this._bridge.onActivityStatusChange(function (event) {\r\n                _this._activities.process(event);\r\n            });\r\n        };\r\n        ActivityManager.prototype._handleActivitiesAttached = function (data) {\r\n            var _this = this;\r\n            var newActId = data.to;\r\n            var descriptor = data.descriptor;\r\n            var descriptors = data.descriptors;\r\n            this._activities.getOrWait(newActId).then(function (act) {\r\n                act._updateDescriptors(descriptors);\r\n                var descriptorAsObjectFromAPI = act.attached.filter(function (u) { return u.ownerId === descriptor.ownerId; })[0];\r\n                _this._attachedCallbacks.forEach(function (callback) {\r\n                    try {\r\n                        callback(act, descriptorAsObjectFromAPI);\r\n                    }\r\n                    catch (err) {\r\n                        return;\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ActivityManager.prototype._handleActivitiesDetached = function (data) {\r\n            var _this = this;\r\n            var oldActId = data.oldActivityId;\r\n            var newActId = data.newActivityId;\r\n            var descriptors = data.descriptors;\r\n            var descriptor = data.descriptor;\r\n            this._activities.getOrWait(oldActId).then(function (oldAct) {\r\n                oldAct._updateDescriptors(descriptors);\r\n                _this._activities.getOrWait(newActId).then(function (newAct) {\r\n                    _this._detachedCallbacks.forEach(function (callback) {\r\n                        try {\r\n                            callback(newAct, oldAct, descriptor);\r\n                        }\r\n                        catch (err) {\r\n                            return;\r\n                        }\r\n                    });\r\n                });\r\n            });\r\n        };\r\n        ActivityManager.prototype._handleActivityDescriptorsRefreshed = function (data) {\r\n            var id = data.id;\r\n            var descriptors = data.descriptors;\r\n            var act = this._activities.getByName(id);\r\n            if (act) {\r\n                act._updateDescriptors(descriptors);\r\n            }\r\n        };\r\n        ActivityManager.prototype.refreshDescriptors = function () {\r\n            var _this = this;\r\n            this._bridge.getAttachedDescriptors()\r\n                .then(function (map) {\r\n                if (map) {\r\n                    Object.keys(map).forEach(function (key) {\r\n                        var actId = key;\r\n                        var descriptors = map[key];\r\n                        var act = _this._activities.getByName(actId);\r\n                        if (act) {\r\n                            act._updateDescriptors(descriptors);\r\n                        }\r\n                    });\r\n                }\r\n                _this._descriptorsMarker.signal(\"Successfully got descriptors\");\r\n            })\r\n                .catch(function (err) {\r\n                _this._descriptorsMarker.error(\"failed to get descriptors - \" + err);\r\n            });\r\n        };\r\n        ActivityManager.prototype._handleWindowFrameColorChanged = function (win) {\r\n            if (!win.activityId) {\r\n                return;\r\n            }\r\n            var act = this._activities.getByName(win.activityId);\r\n            if (!act) {\r\n                return;\r\n            }\r\n            if (!act.owner) {\r\n                return;\r\n            }\r\n            if (act.owner.underlyingWindow.id !== win.id) {\r\n                return;\r\n            }\r\n            this._frameColorChangesCallbacks.forEach(function (callback) {\r\n                try {\r\n                    callback(act, win.frameColor);\r\n                }\r\n                catch (e) {\r\n                    return;\r\n                }\r\n            });\r\n        };\r\n        return ActivityManager;\r\n    }());\n\n    var ActivityManagementAPI = (function () {\r\n        function ActivityManagementAPI(manager, my) {\r\n            this._m = manager;\r\n            this._my = my;\r\n            this.activityTypes = {\r\n                get: this._getActivityTypesWrapper.bind(this),\r\n                register: this._m.registerActivityType.bind(this._m),\r\n                unregister: this._m.unregisterActivityType.bind(this._m),\r\n                subscribe: this._m.subscribeActivityTypeEvents.bind(this._m),\r\n                unsubscribe: undefined,\r\n                initiate: this._m.initiate.bind(this._m)\r\n            };\r\n            this.windowTypes = {\r\n                get: this._getWindowTypesWrapper.bind(this),\r\n                registerFactory: this._m.registerWindowFactory.bind(this._m),\r\n                unregisterFactory: this._m.unregisterWindowFactory.bind(this._m),\r\n                subscribe: this._m.subscribeWindowTypeEvents.bind(this._m),\r\n                unsubscribe: undefined\r\n            };\r\n            this.windows = {\r\n                get: this._m.getWindows.bind(this._m),\r\n                subscribe: this._m.subscribeWindowEvents.bind(this._m),\r\n                announce: this._m.announceWindow.bind(this._m),\r\n                unsubscribe: undefined,\r\n                create: this._m.createWindow.bind(this._m)\r\n            };\r\n            this.instances = {\r\n                get: this._m.getActivities.bind(this._m),\r\n                subscribe: this._m.subscribeActivityEvents.bind(this._m),\r\n                unsubscribe: undefined\r\n            };\r\n        }\r\n        ActivityManagementAPI.prototype.onAttached = function (callback) {\r\n            this._m.subscribeActivitiesAttached(callback);\r\n        };\r\n        ActivityManagementAPI.prototype.onDetached = function (callback) {\r\n            this._m.subscribeActivitiesDetached(callback);\r\n        };\r\n        ActivityManagementAPI.prototype.onActivityFrameColorChanged = function (callback) {\r\n            this._m.subscribeActivityFrameColorChanged(callback);\r\n        };\r\n        ActivityManagementAPI.prototype._getActivityTypesWrapper = function (name) {\r\n            if (isUndefined(name)) {\r\n                return this._m.getActivityTypes();\r\n            }\r\n            return this._m.getActivityType(name);\r\n        };\r\n        ActivityManagementAPI.prototype._getWindowTypesWrapper = function (name) {\r\n            if (isUndefined(name)) {\r\n                return this._m.getWindowTypes();\r\n            }\r\n            return this._m.getWindowType(name);\r\n        };\r\n        return ActivityManagementAPI;\r\n    }());\n\n    var ActivityAPI = (function () {\r\n        function ActivityAPI(manager, my) {\r\n            this._mgr = manager;\r\n            this._my = my;\r\n            this.all = new ActivityManagementAPI(manager, my);\r\n        }\r\n        ActivityAPI.prototype.ready = function (callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                _this._mgr.ready()\r\n                    .then(function () {\r\n                    resolve(_this);\r\n                })\r\n                    .catch(function (err) {\r\n                    reject(err);\r\n                });\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        Object.defineProperty(ActivityAPI.prototype, \"my\", {\r\n            get: function () {\r\n                return this._my;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityAPI.prototype, \"aware\", {\r\n            get: function () {\r\n                return this._my.window !== undefined;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityAPI.prototype, \"inActivity\", {\r\n            get: function () {\r\n                return this.aware && this._my.activity !== undefined;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityAPI.prototype, \"agm\", {\r\n            get: function () {\r\n                if (!this.aware) {\r\n                    return undefined;\r\n                }\r\n                if (!this.inActivity) {\r\n                    return new ActivityAGM(null);\r\n                }\r\n                return this._my.activity.agm;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ActivityAPI.prototype.getAvailableFrameColors = function () {\r\n            return [];\r\n        };\r\n        return ActivityAPI;\r\n    }());\n\n    var ActivityModule = (function () {\r\n        function ActivityModule(config) {\r\n            var _this = this;\r\n            if (!config) {\r\n                throw new Error(\"config can not be null\");\r\n            }\r\n            if (!isUndefined(config.logLevel)) {\r\n                Logger$1.Level = config.logLevel;\r\n            }\r\n            if (!isUndefinedOrNull(config.logger)) {\r\n                Logger$1.GlueLogger = config.logger;\r\n            }\r\n            var bridge;\r\n            this._isUsingHCImplementation = config.gdMajorVersion === 2;\r\n            this._isUsingGW3Implementation = ActivityModule.checkIsUsingGW3Implementation(config.connection);\r\n            if (this._isUsingHCImplementation) {\r\n                throw new Error(\"GD2 not supported\");\r\n            }\r\n            else if (this._isUsingGW3Implementation) {\r\n                bridge = new GW3Bridge$1(config);\r\n            }\r\n            else {\r\n                throw new Error(\"Unable to instantiate activity bridge implementation\");\r\n            }\r\n            if (!bridge) {\r\n                throw new Error(\"A bridge to native activity is needed to create activity lib.\");\r\n            }\r\n            ActivityAGM.AGM = config.agm;\r\n            var activityManager = new ActivityManager(bridge, !config.disableAutoAnnounce, config.windows);\r\n            var my = new ActivityMy(activityManager, config.windows);\r\n            this._api = new ActivityAPI(activityManager, my);\r\n            this._readyPromise = activityManager.ready().then(function (_) { return _this; });\r\n        }\r\n        ActivityModule.checkIsUsingGW3Implementation = function (connection) {\r\n            return connection.protocolVersion === 3;\r\n        };\r\n        Object.defineProperty(ActivityModule.prototype, \"api\", {\r\n            get: function () {\r\n                return this._api;\r\n            },\r\n            set: function (value) {\r\n                this._api = value;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityModule.prototype, \"isUsingHCImplementation\", {\r\n            get: function () {\r\n                return this._isUsingHCImplementation;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityModule.prototype, \"isUsingGW3Implementation\", {\r\n            get: function () {\r\n                return this._isUsingGW3Implementation;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ActivityModule.prototype.ready = function (callback) {\r\n            return nodeify(this._readyPromise, callback);\r\n        };\r\n        return ActivityModule;\r\n    }());\n\n    var ShutdownMethodName = \"T42.ACS.Shutdown\";\r\n    var RestartMethodName = \"T42.ACS.Restart\";\r\n    var GetConfigurationRegionMethodName = \"T42.ACS.GetConfigurationRegion\";\r\n    var SetConfigurationRegionMethodName = \"T42.ACS.SetConfigurationRegion\";\r\n    var GetUserMethodName = \"T42.ACS.GetUser\";\r\n    var GetBranchesMethodName = \"T42.ACS.GetBranches\";\r\n    var GetCurrentBranchMethodName = \"T42.ACS.GetCurrentBranch\";\r\n    var SetCurrentBranchMethodName = \"T42.ACS.SetCurrentBranch\";\r\n    var GetFunctionalEntitlementMethodName = \"T42.ACS.GetFunctionalEntitlement\";\r\n    var CanIMethodName = \"T42.ACS.CanI\";\r\n    var StartApplicationMethodName = \"T42.ACS.StartApplication\";\r\n    var StopApplicationMethodName = \"T42.ACS.StopApplication\";\r\n    var ActivateApplicationMethodName = \"T42.ACS.ActivateApplication\";\r\n    var OnEventMethodName = \"T42.ACS.OnEvent\";\r\n    var GetApplicationsMethodName = \"T42.ACS.GetApplications\";\n\n    function createRegistry$1(options) {\r\n        if (options && options.errorHandling\r\n            && typeof options.errorHandling !== \"function\"\r\n            && options.errorHandling !== \"log\"\r\n            && options.errorHandling !== \"silent\"\r\n            && options.errorHandling !== \"throw\") {\r\n            throw new Error(\"Invalid options passed to createRegistry. Prop errorHandling should be [\\\"log\\\" | \\\"silent\\\" | \\\"throw\\\" | (err) => void], but \" + typeof options.errorHandling + \" was passed\");\r\n        }\r\n        var _userErrorHandler = options && typeof options.errorHandling === \"function\" && options.errorHandling;\r\n        var callbacks = {};\r\n        function add(key, callback, replayArgumentsArr) {\r\n            var callbacksForKey = callbacks[key];\r\n            if (!callbacksForKey) {\r\n                callbacksForKey = [];\r\n                callbacks[key] = callbacksForKey;\r\n            }\r\n            callbacksForKey.push(callback);\r\n            if (replayArgumentsArr) {\r\n                setTimeout(function () {\r\n                    replayArgumentsArr.forEach(function (replayArgument) {\r\n                        var _a;\r\n                        if ((_a = callbacks[key]) === null || _a === void 0 ? void 0 : _a.includes(callback)) {\r\n                            try {\r\n                                if (Array.isArray(replayArgument)) {\r\n                                    callback.apply(undefined, replayArgument);\r\n                                }\r\n                                else {\r\n                                    callback.apply(undefined, [replayArgument]);\r\n                                }\r\n                            }\r\n                            catch (err) {\r\n                                _handleError(err, key);\r\n                            }\r\n                        }\r\n                    });\r\n                }, 0);\r\n            }\r\n            return function () {\r\n                var allForKey = callbacks[key];\r\n                if (!allForKey) {\r\n                    return;\r\n                }\r\n                allForKey = allForKey.reduce(function (acc, element, index) {\r\n                    if (!(element === callback && acc.length === index)) {\r\n                        acc.push(element);\r\n                    }\r\n                    return acc;\r\n                }, []);\r\n                if (allForKey.length === 0) {\r\n                    delete callbacks[key];\r\n                }\r\n                else {\r\n                    callbacks[key] = allForKey;\r\n                }\r\n            };\r\n        }\r\n        function execute(key) {\r\n            var argumentsArr = [];\r\n            for (var _i = 1; _i < arguments.length; _i++) {\r\n                argumentsArr[_i - 1] = arguments[_i];\r\n            }\r\n            var callbacksForKey = callbacks[key];\r\n            if (!callbacksForKey || callbacksForKey.length === 0) {\r\n                return [];\r\n            }\r\n            var results = [];\r\n            callbacksForKey.forEach(function (callback) {\r\n                try {\r\n                    var result = callback.apply(undefined, argumentsArr);\r\n                    results.push(result);\r\n                }\r\n                catch (err) {\r\n                    results.push(undefined);\r\n                    _handleError(err, key);\r\n                }\r\n            });\r\n            return results;\r\n        }\r\n        function _handleError(exceptionArtifact, key) {\r\n            var errParam = exceptionArtifact instanceof Error ? exceptionArtifact : new Error(exceptionArtifact);\r\n            if (_userErrorHandler) {\r\n                _userErrorHandler(errParam);\r\n                return;\r\n            }\r\n            var msg = \"[ERROR] callback-registry: User callback for key \\\"\" + key + \"\\\" failed: \" + errParam.stack;\r\n            if (options) {\r\n                switch (options.errorHandling) {\r\n                    case \"log\":\r\n                        return console.error(msg);\r\n                    case \"silent\":\r\n                        return;\r\n                    case \"throw\":\r\n                        throw new Error(msg);\r\n                }\r\n            }\r\n            console.error(msg);\r\n        }\r\n        function clear() {\r\n            callbacks = {};\r\n        }\r\n        function clearKey(key) {\r\n            var callbacksForKey = callbacks[key];\r\n            if (!callbacksForKey) {\r\n                return;\r\n            }\r\n            delete callbacks[key];\r\n        }\r\n        return {\r\n            add: add,\r\n            execute: execute,\r\n            clear: clear,\r\n            clearKey: clearKey\r\n        };\r\n    }\r\n    createRegistry$1.default = createRegistry$1;\r\n    var lib$2 = createRegistry$1;\n\n    function objectValues(source) {\r\n        if (!source) {\r\n            return [];\r\n        }\r\n        return Object.keys(source).map(function (key) { return source[key]; });\r\n    }\r\n    function objectClone(obj) {\r\n        var result;\r\n        try {\r\n            result = JSON.parse(JSON.stringify(obj || {}));\r\n        }\r\n        catch (error) {\r\n            result = {};\r\n        }\r\n        return result;\r\n    }\n\n    var ApplicationImpl = (function () {\r\n        function ApplicationImpl(_appManager, _name, _agm) {\r\n            var _this = this;\r\n            this._appManager = _appManager;\r\n            this._name = _name;\r\n            this._agm = _agm;\r\n            this._registry = lib$2();\r\n            _appManager.onInstanceStarted(function (instance) {\r\n                if (instance.application && instance.application.name !== _this._name) {\r\n                    return;\r\n                }\r\n                _this._registry.execute(\"instanceStarted\", instance);\r\n            });\r\n            _appManager.onInstanceStopped(function (instance) {\r\n                if (instance.application && instance.application.name !== _this._name) {\r\n                    return;\r\n                }\r\n                _this._registry.execute(\"instanceStopped\", instance);\r\n            });\r\n            _appManager.onAppRemoved(function (app) {\r\n                if (app.name !== _this._name) {\r\n                    return;\r\n                }\r\n                _this._registry.execute(\"appRemoved\", app);\r\n            });\r\n            _appManager.onAppChanged(function (app) {\r\n                if (app.name !== _this._name) {\r\n                    return;\r\n                }\r\n                _this._registry.execute(\"appChanged\", app);\r\n            });\r\n            _appManager.onAppAvailable(function (app) {\r\n                if (app.name !== _this._name) {\r\n                    return;\r\n                }\r\n                _this._registry.execute(\"appAvailable\", app);\r\n            });\r\n            _appManager.onAppUnavailable(function (app) {\r\n                if (app.name !== _this._name) {\r\n                    return;\r\n                }\r\n                _this._registry.execute(\"appUnavailable\", app);\r\n            });\r\n        }\r\n        Object.defineProperty(ApplicationImpl.prototype, \"name\", {\r\n            get: function () { return this._name; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"title\", {\r\n            get: function () { return this._props.Title; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"version\", {\r\n            get: function () { return this._props.Version; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"autoStart\", {\r\n            get: function () { return this._props.AutoStart; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"isShell\", {\r\n            get: function () { return this._props.IsShell; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"caption\", {\r\n            get: function () { return this._props.Caption; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"hidden\", {\r\n            get: function () { return this._props.IsHidden; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"container\", {\r\n            get: function () { return this._props.ApplicationName; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"activityType\", {\r\n            get: function () { return this._props.ActivityType; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"activityWindowType\", {\r\n            get: function () { return this._props.ActivityWindowType; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"windowSettings\", {\r\n            get: function () {\r\n                if (!this._props.Arguments) {\r\n                    return {};\r\n                }\r\n                return objectClone(this._props.Arguments);\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"allowMultiple\", {\r\n            get: function () { return this._props.AllowMultiple; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"available\", {\r\n            get: function () { return this._props.IsReady || true; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"icon\", {\r\n            get: function () { return this._props.Icon; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"iconURL\", {\r\n            get: function () { return this._props.IconUrl; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"sortOrder\", {\r\n            get: function () { return this._props.SortOrder; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"userProperties\", {\r\n            get: function () {\r\n                if (!this._props.UserProperties) {\r\n                    return {};\r\n                }\r\n                return objectClone(this._props.UserProperties);\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"isActivity\", {\r\n            get: function () {\r\n                return this._props.ActivityType !== undefined && this._props.ActivityType !== \"\";\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"configuration\", {\r\n            get: function () {\r\n                return {\r\n                    autoStart: this._props.AutoStart,\r\n                    caption: this._props.Caption,\r\n                    hidden: this._props.IsHidden,\r\n                    container: this._props.ApplicationName,\r\n                    activityType: this._props.ActivityType,\r\n                    allowMultiple: this._props.AllowMultiple\r\n                };\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"instances\", {\r\n            get: function () {\r\n                var _this = this;\r\n                return this._appManager.instances().filter(function (instance) { return instance.application.name === _this._name; });\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"type\", {\r\n            get: function () {\r\n                return this._props.Type;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"mode\", {\r\n            get: function () {\r\n                if (!this._props) {\r\n                    return \"unknown\";\r\n                }\r\n                if (this._props.Mode && typeof this._props.Mode === \"string\") {\r\n                    return this._props.Mode.toLowerCase();\r\n                }\r\n                if (this.isActivity) {\r\n                    return \"unknown\";\r\n                }\r\n                if (this._props.Arguments && this._props.Arguments.mode && typeof this._props.Arguments.mode === \"string\") {\r\n                    return this._props.Arguments.mode.toLowerCase();\r\n                }\r\n                var styleAttributes = this._props.WindowStyleAttributes;\r\n                if (styleAttributes) {\r\n                    styleAttributes = styleAttributes.split(\" \").join(\"\");\r\n                    var searchFor = \"mode:\\\"\";\r\n                    var modeIndex = styleAttributes.indexOf(searchFor);\r\n                    if (modeIndex !== -1) {\r\n                        var startModeIndex = modeIndex + searchFor.length;\r\n                        var stopModeIndex = styleAttributes.indexOf(\"\\\"\", startModeIndex);\r\n                        var style = styleAttributes.substr(startModeIndex, stopModeIndex - startModeIndex);\r\n                        if (style && typeof style === \"string\") {\r\n                            return style.toLowerCase();\r\n                        }\r\n                    }\r\n                }\r\n                return \"flat\";\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ApplicationImpl.prototype.updateFromProps = function (props) {\r\n            var _this = this;\r\n            if (!this._props) {\r\n                this._props = { Name: props.Name };\r\n            }\r\n            Object.keys(props).forEach(function (key) {\r\n                _this._props[key] = props[key];\r\n            });\r\n        };\r\n        ApplicationImpl.prototype.start = function (context, options) {\r\n            var _this = this;\r\n            var name = this._name;\r\n            var startTimeout = 10000;\r\n            return new Promise(function (resolve, reject) {\r\n                options = options || {};\r\n                context = context || {};\r\n                var waitForAGMInstance = true;\r\n                var waitForApplicationInstance = function (id) {\r\n                    var check = function () {\r\n                        var filtered = _this._appManager.instances().filter(function (i) { return i.id === id; });\r\n                        var result;\r\n                        if (filtered.length === 2) {\r\n                            result = filtered[0].isActivityInstance ? filtered[0] : filtered[1];\r\n                        }\r\n                        else {\r\n                            result = filtered[0];\r\n                        }\r\n                        if (result && waitForAGMInstance) {\r\n                            if (result.agm) {\r\n                                return result;\r\n                            }\r\n                            else {\r\n                                return undefined;\r\n                            }\r\n                        }\r\n                        return result;\r\n                    };\r\n                    var unsub;\r\n                    var timeout = setTimeout(function () {\r\n                        if (unsub) {\r\n                            unsub();\r\n                        }\r\n                        reject(\"timeout\");\r\n                    }, startTimeout);\r\n                    var waitFunc = function (i) {\r\n                        if (i.id !== id) {\r\n                            return;\r\n                        }\r\n                        if (unsub) {\r\n                            unsub();\r\n                            unsub = undefined;\r\n                        }\r\n                        clearTimeout(timeout);\r\n                        setTimeout(function () {\r\n                            resolve(check());\r\n                        }, 1);\r\n                    };\r\n                    {\r\n                        unsub = _this._appManager.onInstanceAgmServerReady(waitFunc);\r\n                    }\r\n                    var instances = check();\r\n                    if (instances) {\r\n                        if (unsub) {\r\n                            unsub();\r\n                            unsub = undefined;\r\n                        }\r\n                        clearTimeout(timeout);\r\n                        resolve(instances);\r\n                    }\r\n                };\r\n                _this._agm.invoke(StartApplicationMethodName, {\r\n                    Name: name,\r\n                    Context: context,\r\n                    Options: options\r\n                }, \"best\", {\r\n                    methodResponseTimeoutMs: startTimeout\r\n                }, function (result) {\r\n                    var acsResult = result.returned && result.returned.Instance_0\r\n                        ? result.returned.Instance_0\r\n                        : result.returned;\r\n                    if (acsResult && acsResult.Id) {\r\n                        if (_this._appManager.mode === \"startOnly\") {\r\n                            var instance = _this._appManager.handleInstanceStarted(acsResult);\r\n                            resolve(instance);\r\n                        }\r\n                        else {\r\n                            waitForApplicationInstance(acsResult.Id);\r\n                        }\r\n                    }\r\n                    else {\r\n                        resolve(undefined);\r\n                    }\r\n                }, function (err) {\r\n                    reject(err);\r\n                });\r\n            });\r\n        };\r\n        ApplicationImpl.prototype.onInstanceStarted = function (callback) {\r\n            this._registry.add(\"instanceStarted\", callback);\r\n        };\r\n        ApplicationImpl.prototype.onInstanceStopped = function (callback) {\r\n            this._registry.add(\"instanceStopped\", callback);\r\n        };\r\n        ApplicationImpl.prototype.onAvailable = function (callback) {\r\n            this._registry.add(\"appAvailable\", callback);\r\n        };\r\n        ApplicationImpl.prototype.onUnavailable = function (callback) {\r\n            this._registry.add(\"appUnavailable\", callback);\r\n        };\r\n        ApplicationImpl.prototype.onChanged = function (callback) {\r\n            this._registry.add(\"appChanged\", callback);\r\n        };\r\n        ApplicationImpl.prototype.onRemoved = function (callback) {\r\n            this._registry.add(\"appRemoved\", callback);\r\n        };\r\n        return ApplicationImpl;\r\n    }());\n\n    var InstanceImpl = (function () {\r\n        function InstanceImpl(_id, _appName, _appManager, _agm, _activities, _windows, startFailed) {\r\n            var _this = this;\r\n            this._id = _id;\r\n            this._appName = _appName;\r\n            this._appManager = _appManager;\r\n            this._agm = _agm;\r\n            this._activities = _activities;\r\n            this._windows = _windows;\r\n            this.onAgmReady = this._addToRegistry(\"agmReady\");\r\n            this.onStopped = this._addToRegistry(\"stopped\");\r\n            this._registry = lib$2();\r\n            if (startFailed) {\r\n                return;\r\n            }\r\n            this._unsubscribeInstanceStopped = this._appManager.onInstanceStopped(function (instance) {\r\n                if (instance.id !== _this._id) {\r\n                    return;\r\n                }\r\n                _this._registry.execute(\"stopped\", instance);\r\n            });\r\n            this._unsubscribeInstanceAgmServerReady = this._appManager.onInstanceAgmServerReady(function (instance) {\r\n                if (instance.id !== _this._id) {\r\n                    return;\r\n                }\r\n                _this._registry.execute(\"agmReady\", instance);\r\n            });\r\n        }\r\n        Object.defineProperty(InstanceImpl.prototype, \"id\", {\r\n            get: function () { return this._id; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"application\", {\r\n            get: function () { return this._appManager.application(this._appName); },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"activity\", {\r\n            get: function () {\r\n                var _this = this;\r\n                if (!this._activities) {\r\n                    throw new Error(\"This method requires glue.activities library to be enabled.\");\r\n                }\r\n                return this._activities.all.instances.get()\r\n                    .filter(function (activityInstance) { return activityInstance.id === _this._activityId; })[0];\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"isActivityOwner\", {\r\n            get: function () { return this._isActivityOwner; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"activityInstances\", {\r\n            get: function () {\r\n                var _this = this;\r\n                return this._appManager.instances().filter(function (i) {\r\n                    return i.application.type !== \"activity\" &&\r\n                        i.activityId &&\r\n                        i.activityId === _this._activityId;\r\n                });\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"activityOwnerInstance\", {\r\n            get: function () {\r\n                if (!this._activityId) {\r\n                    return undefined;\r\n                }\r\n                return this.activityInstances.filter(function (inst) { var _a; return (_a = inst) === null || _a === void 0 ? void 0 : _a.isActivityOwner; })[0];\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"window\", {\r\n            get: function () {\r\n                var _this = this;\r\n                if (!this._windows) {\r\n                    throw new Error(\"This method requires glue.windows library to be enabled.\");\r\n                }\r\n                var win = this._windows.list().filter(function (w) { return w.id === _this._id; })[0];\r\n                if (!win && this.activity && this.activityOwnerInstance) {\r\n                    win = this.activityOwnerInstance.window;\r\n                }\r\n                return win;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"context\", {\r\n            get: function () {\r\n                var _a, _b, _c;\r\n                return _c = (_a = this._startUpContext, (_a !== null && _a !== void 0 ? _a : (_b = this.window) === null || _b === void 0 ? void 0 : _b.context)), (_c !== null && _c !== void 0 ? _c : {});\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"title\", {\r\n            get: function () { return this._title; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"isActivityInstance\", {\r\n            get: function () { return this._isActivityInstance; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"activityId\", {\r\n            get: function () { return this._activityId; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"inActivity\", {\r\n            get: function () { return this._inActivity; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"isSingleWindowApp\", {\r\n            get: function () { return !this._inActivity; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"agm\", {\r\n            get: function () {\r\n                return this._agmInstance;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        InstanceImpl.prototype.updateFromProps = function (props) {\r\n            this._startUpContext = props.Context;\r\n            this._title = props.Title;\r\n            this._isActivityInstance = false;\r\n            if (props.ActivityId && props.ActivityId !== \"\") {\r\n                this._activityId = props.ActivityId;\r\n                this._isActivityInstance = true;\r\n            }\r\n            this._isActivityOwner = props.IsActivityOwner;\r\n            if (!this._activityId && this._startUpContext && this._startUpContext.activityId) {\r\n                this._activityId = this._startUpContext.activityId;\r\n            }\r\n            this._inActivity = Boolean(this._activityId);\r\n            this.updateAgmInstanceFromProps(props);\r\n        };\r\n        InstanceImpl.prototype.updateAgmInstanceFromProps = function (props) {\r\n            if (!props.AgmServers) {\r\n                return;\r\n            }\r\n            if (props.GD3) {\r\n                var agmInstances = props.AgmServers;\r\n                if (agmInstances) {\r\n                    this._agmInstance = agmInstances[0];\r\n                }\r\n            }\r\n            else {\r\n                var gdAgmServers = props.AgmServers;\r\n                var propsAgmServer = Object.keys(gdAgmServers)[0];\r\n                if (!propsAgmServer) {\r\n                    return;\r\n                }\r\n                var propsAgm = gdAgmServers[propsAgmServer];\r\n                this._agmInstance = {\r\n                    machine: propsAgm.machineName,\r\n                    user: propsAgm.userName,\r\n                    environment: propsAgm.environment,\r\n                    application: propsAgm.applicationName,\r\n                };\r\n            }\r\n        };\r\n        InstanceImpl.prototype.stop = function () {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                var unsubscribe = _this._appManager.onInstanceStopped(function (instance) {\r\n                    if (instance.id === _this._id) {\r\n                        unsubscribe();\r\n                        resolve();\r\n                    }\r\n                });\r\n                _this._agm.invoke(StopApplicationMethodName, {\r\n                    Name: _this._appName,\r\n                    Id: _this._id\r\n                })\r\n                    .then(function () {\r\n                    if (_this._appManager.mode === \"startOnly\") {\r\n                        _this._appManager.handleInstanceStopped({\r\n                            Name: _this._appName,\r\n                            Id: _this.id,\r\n                            Context: undefined,\r\n                            Title: undefined,\r\n                            ActivityId: undefined,\r\n                            IsActivityOwner: undefined,\r\n                            AgmServers: undefined\r\n                        });\r\n                        resolve();\r\n                    }\r\n                })\r\n                    .catch(function (err) { return reject(err); });\r\n            });\r\n        };\r\n        InstanceImpl.prototype.activate = function () {\r\n            return this._agm.invoke(ActivateApplicationMethodName, { Name: this._appName, Id: this._id });\r\n        };\r\n        InstanceImpl.prototype.done = function () {\r\n            this._registry.clear();\r\n            this._unsubscribeInstanceAgmServerReady();\r\n            this._unsubscribeInstanceStopped();\r\n        };\r\n        InstanceImpl.prototype.getContext = function () {\r\n            return Promise.resolve(this.context);\r\n        };\r\n        InstanceImpl.prototype._addToRegistry = function (key) {\r\n            var _this = this;\r\n            return function (callback) {\r\n                _this._registry.add(key, callback);\r\n            };\r\n        };\r\n        return InstanceImpl;\r\n    }());\n\n    var AppManagerImpl = (function () {\r\n        function AppManagerImpl(mode, _agm, _activities, _windows, _logger, _gdMajorVersion) {\r\n            var _this = this;\r\n            this.mode = mode;\r\n            this._agm = _agm;\r\n            this._activities = _activities;\r\n            this._windows = _windows;\r\n            this._logger = _logger;\r\n            this._gdMajorVersion = _gdMajorVersion;\r\n            this._apps = {};\r\n            this._instances = [];\r\n            this._registry = lib$2();\r\n            this.application = function (name) {\r\n                return _this._apps[name];\r\n            };\r\n            this.applications = function () {\r\n                return Object.keys(_this._apps).map(function (k) { return _this._apps[k]; });\r\n            };\r\n            this.instances = function () {\r\n                return _this._instances;\r\n            };\r\n            this.getMyInstance = function () {\r\n                if (_this._gdMajorVersion >= 3) {\r\n                    var instanceId_1 = window.glue42gd.appInstanceId;\r\n                    return _this._instances.filter(function (i) { return i.id === instanceId_1; })[0];\r\n                }\r\n                return undefined;\r\n            };\r\n            this.handleAppAdded = function (props) {\r\n                var id = _this._getAppId(props);\r\n                _this._logger.trace(\"adding app \" + id);\r\n                _this._apps[id] = new ApplicationImpl(_this, id, _this._agm);\r\n                var app = _this._updateAppFromProps(props);\r\n                _this._registry.execute(\"appAdded\", app);\r\n            };\r\n            this.handleAppUpdated = function (props) {\r\n                var app = _this._updateAppFromProps(props);\r\n                _this._registry.execute(\"appChanged\", app);\r\n            };\r\n            this.handleAppRemoved = function (props) {\r\n                var id = _this._getAppId(props);\r\n                _this._logger.trace(\"removing app \" + id);\r\n                var app = _this.application(id);\r\n                _this._instances = _this._instances.filter(function (i) { return i.application.name !== app.name; });\r\n                delete _this._apps[id];\r\n                _this._registry.execute(\"appRemoved\", app);\r\n            };\r\n            this.handleAppReady = function (props) {\r\n                var id = _this._getAppId(props);\r\n                var app = _this._getAppOrThrow(id);\r\n                app.updateFromProps(props);\r\n                if (app.available) {\r\n                    _this._registry.execute(\"appAvailable\", app);\r\n                }\r\n                else {\r\n                    _this._registry.execute(\"appUnavailable\", app);\r\n                }\r\n            };\r\n            this.handleInstanceStarted = function (props) {\r\n                _this._logger.trace(\"started app \" + props.Name + \" \" + props.Id);\r\n                var id = _this._getInstanceId(props);\r\n                var appName = _this._getInstanceAppName(props);\r\n                var instance = new InstanceImpl(id, appName, _this, _this._agm, _this._activities, _this._windows);\r\n                _this._updateInstanceFromProps(instance, props);\r\n                _this._instances.push(instance);\r\n                _this._registry.execute(\"instanceStarted\", instance);\r\n                return instance;\r\n            };\r\n            this.handleInstanceStopped = function (props) {\r\n                _this._logger.trace(\"failed to start app \" + props.Name + \" \" + props.Id);\r\n                var id = _this._getInstanceId(props);\r\n                var appName = _this._getInstanceAppName(props);\r\n                var instance = _this._getInstanceOrThrow(id, appName);\r\n                _this._instances = _this._instances.filter(function (i) { return !_this._matchInstance(i, id, appName); });\r\n                _this._registry.execute(\"instanceStopped\", instance);\r\n                instance.done();\r\n            };\r\n            this.handleInstanceAgmServerReady = function (props) {\r\n                var id = _this._getInstanceId(props);\r\n                var appName = _this._getInstanceAppName(props);\r\n                var instance = _this._getInstanceOrThrow(id, appName);\r\n                instance.updateAgmInstanceFromProps(props);\r\n                _this._registry.execute(\"instanceAgmServerReady\", instance);\r\n            };\r\n            this.handleInstanceStartFailed = function (props) {\r\n                var id = _this._getInstanceId(props);\r\n                var appName = _this._getInstanceAppName(props);\r\n                var startFailed = true;\r\n                var instance = new InstanceImpl(id, appName, undefined, undefined, undefined, undefined, startFailed);\r\n                _this._updateInstanceFromProps(instance, props);\r\n                _this._registry.execute(\"instanceStartFailed\", instance);\r\n            };\r\n            this.handleInstanceUpdated = function (props) {\r\n                var id = _this._getInstanceId(props);\r\n                var app = _this._getInstanceAppName(props);\r\n                var instance = _this._getInstanceOrThrow(id, app);\r\n                _this._updateInstanceFromProps(instance, props);\r\n            };\r\n            this.onInstanceStarted = function (callback) {\r\n                return _this._registry.add(\"instanceStarted\", callback, _this._instances);\r\n            };\r\n            this.onInstanceStartFailed = function (callback) {\r\n                return _this._registry.add(\"instanceStartFailed\", callback);\r\n            };\r\n            this.onInstanceStopped = function (callback) {\r\n                return _this._registry.add(\"instanceStopped\", callback);\r\n            };\r\n            this.onInstanceUpdated = function (callback) {\r\n                return _this._registry.add(\"instanceChanged\", callback);\r\n            };\r\n            this.onInstanceAgmServerReady = function (callback) {\r\n                return _this._registry.add(\"instanceAgmServerReady\", callback);\r\n            };\r\n            this.onAppAdded = function (callback) {\r\n                return _this._registry.add(\"appAdded\", callback, Object.values(_this._apps));\r\n            };\r\n            this.onAppRemoved = function (callback) {\r\n                return _this._registry.add(\"appRemoved\", callback);\r\n            };\r\n            this.onAppAvailable = function (callback) {\r\n                return _this._registry.add(\"appAvailable\", callback);\r\n            };\r\n            this.onAppUnavailable = function (callback) {\r\n                return _this._registry.add(\"appUnavailable\", callback);\r\n            };\r\n            this.onAppChanged = function (callback) {\r\n                return _this._registry.add(\"appChanged\", callback);\r\n            };\r\n        }\r\n        AppManagerImpl.prototype._getAppOrThrow = function (id) {\r\n            var result = this.application(id);\r\n            if (!result) {\r\n                throw Error(\"app with id \" + id + \" not found\");\r\n            }\r\n            return result;\r\n        };\r\n        AppManagerImpl.prototype._getAppId = function (props) {\r\n            return props.Name;\r\n        };\r\n        AppManagerImpl.prototype._matchInstance = function (instance, id, appName) {\r\n            return instance.id === id && instance.application.name === appName;\r\n        };\r\n        AppManagerImpl.prototype._getInstanceByIdAndName = function (id, appName) {\r\n            var _this = this;\r\n            return this._instances.filter(function (i) { return _this._matchInstance(i, id, appName); })[0];\r\n        };\r\n        AppManagerImpl.prototype._getInstanceOrThrow = function (id, appName) {\r\n            var result = this._getInstanceByIdAndName(id, appName);\r\n            if (!result) {\r\n                throw Error(\"instance with id \" + id + \" not found\");\r\n            }\r\n            return result;\r\n        };\r\n        AppManagerImpl.prototype._getInstanceId = function (props) {\r\n            return props.Id;\r\n        };\r\n        AppManagerImpl.prototype._getInstanceAppName = function (props) {\r\n            return props.Name;\r\n        };\r\n        AppManagerImpl.prototype._updateAppFromProps = function (props) {\r\n            var id = this._getAppId(props);\r\n            this._logger.trace(\"updating app with  + \" + id + \", \" + props);\r\n            var app = this._getAppOrThrow(id);\r\n            app.updateFromProps(props);\r\n            return app;\r\n        };\r\n        AppManagerImpl.prototype._updateInstanceFromProps = function (instance, props) {\r\n            this._logger.trace(\"updating instance with \" + this._getInstanceId(props) + \" for app \" + this._getInstanceAppName(props));\r\n            instance.updateFromProps(props);\r\n        };\r\n        return AppManagerImpl;\r\n    }());\n\n    function promisify$2(promise, successCallback, errorCallback) {\r\n        var isFunction = function (arg) {\r\n            return !!(arg && arg.constructor && arg.call && arg.apply);\r\n        };\r\n        if (!isFunction(successCallback) && !isFunction(errorCallback)) {\r\n            return promise;\r\n        }\r\n        if (!isFunction(successCallback)) {\r\n            successCallback = function () {\r\n            };\r\n        }\r\n        else if (!isFunction(errorCallback)) {\r\n            errorCallback = function () {\r\n            };\r\n        }\r\n        promise.then(successCallback, errorCallback);\r\n    }\r\n    var EntitlementsImpl = (function () {\r\n        function EntitlementsImpl(_agm) {\r\n            var _this = this;\r\n            this._agm = _agm;\r\n            this._registry = lib$2();\r\n            this.handleBranchModified = function (branch) {\r\n                _this._registry.execute(\"branchChanged\", branch);\r\n            };\r\n            this.handleBranchesModified = function (branches) {\r\n                _this._registry.execute(\"branchesChanged\", branches);\r\n            };\r\n            this.getRegion = function (success, error) {\r\n                return promisify$2(_this._agmInvoke(GetConfigurationRegionMethodName, function (e) { return e.returned.Region; }), success, error);\r\n            };\r\n            this.getBranches = function (success, error) {\r\n                var promise = _this._agmInvoke(GetBranchesMethodName, function (e) {\r\n                    var obj = e.returned.Branches;\r\n                    return Object.keys(obj).map(function (key) { return obj[key]; });\r\n                });\r\n                return promisify$2(promise, success, error);\r\n            };\r\n            this.getCurrentBranch = function (success, error) {\r\n                var promise = _this._agmInvoke(GetCurrentBranchMethodName, function (e) { return e.returned.Branch; }, undefined);\r\n                return promisify$2(promise, success, error);\r\n            };\r\n            this.setRegion = function (region, success, error) {\r\n                var promise = _this._agmInvoke(SetConfigurationRegionMethodName, function (e) { return e.returned.ResultMessage; }, { Region: region });\r\n                return promisify$2(promise, success, error);\r\n            };\r\n            this.setCurrentBranch = function (branch, success, error) {\r\n                var promise = _this._agmInvoke(SetCurrentBranchMethodName, function (e) { return e.returned.ResultMessage; }, { Branch: branch });\r\n                return promisify$2(promise, success, error);\r\n            };\r\n            this.currentUser = function (success, error) {\r\n                var promise = _this._agmInvoke(GetUserMethodName);\r\n                return promisify$2(promise, success, error);\r\n            };\r\n            this.getFunctionalEntitlement = function (funct, success, error) {\r\n                var promise = _this._agmInvoke(GetFunctionalEntitlementMethodName, function (e) { return e.returned.Entitlement; }, { Function: funct });\r\n                return promisify$2(promise, success, error);\r\n            };\r\n            this.getFunctionalEntitlementBranch = function (funct, branch, success, error) {\r\n                var promise = _this._agmInvoke(GetFunctionalEntitlementMethodName, function (e) { return e.returned.Entitlement; }, { Function: funct, Branch: branch });\r\n                return promisify$2(promise, success, error);\r\n            };\r\n            this.canI = function (func, success, error) {\r\n                var promise = _this._agmInvoke(CanIMethodName, function (e) { return e.returned.Result; }, { Function: func });\r\n                return promisify$2(promise, success, error);\r\n            };\r\n            this.canIBranch = function (func, branch, success, error) {\r\n                var promise = _this._agmInvoke(CanIMethodName, function (e) { return e.returned.Result; }, { Function: func, Branch: branch });\r\n                return promisify$2(promise, success, error);\r\n            };\r\n            this.onBranchesChanged = function (callback) {\r\n                _this._registry.add(\"branchesChanged\", callback);\r\n            };\r\n            this.onBranchChanged = function (callback) {\r\n                _this._registry.add(\"branchChanged\", callback);\r\n            };\r\n            this.exit = function (options) {\r\n                return _this._agmInvoke(ShutdownMethodName, null, options);\r\n            };\r\n            this.restart = function (options) {\r\n                return _this._agmInvoke(RestartMethodName, null, options);\r\n            };\r\n            this._agmInvoke = function (method, transformFunction, args) {\r\n                args = args || {};\r\n                return new Promise(function (resolve, reject) {\r\n                    var errHandler = function (error) { return reject(error); };\r\n                    _this._agm.invoke(method, args)\r\n                        .then(function (result) {\r\n                        if (!transformFunction) {\r\n                            transformFunction = function (d) { return d.returned; };\r\n                        }\r\n                        resolve(transformFunction(result));\r\n                    })\r\n                        .catch(errHandler);\r\n                });\r\n            };\r\n        }\r\n        return EntitlementsImpl;\r\n    }());\n\n    function snapshot(agm, appManager) {\r\n        return new Promise(function (resolve, reject) {\r\n            agm.invoke(GetApplicationsMethodName, { skipIcon: true })\r\n                .then(function (response) {\r\n                var data = response.returned;\r\n                if (!data) {\r\n                    resolve();\r\n                }\r\n                var applications = data.applications;\r\n                if (!applications) {\r\n                    resolve();\r\n                }\r\n                objectValues(applications).map(function (item) { return appManager.handleAppAdded(item); });\r\n                resolve();\r\n            })\r\n                .catch(function (err) { return reject(\"Error getting application snapshot: \" + err.message); });\r\n        });\r\n    }\n\n    var OnBranchChangedEvent = \"OnBranchChanged\";\r\n    var OnBranchesModifiedEvent = \"OnBranchesModified\";\r\n    var OnApplicationAddedEvent = \"OnApplicationAdded\";\r\n    var OnApplicationRemovedEvent = \"OnApplicationRemoved\";\r\n    var OnApplicationChangedEvent = \"OnApplicationChanged\";\r\n    var OnApplicationReadyEvent = \"OnApplicationReady\";\r\n    var OnApplicationStartedEvent = \"OnApplicationStarted\";\r\n    var OnApplicationAgmServerReadyEvent = \"OnApplicationAgmServerReady\";\r\n    var OnApplicationUpdatedEvent = \"OnApplicationUpdated\";\r\n    var OnApplicationStoppedEvent = \"OnApplicationStopped\";\r\n    var OnApplicationStartFailedEvent = \"OnApplicationStartFailed\";\n\n    function createDataSubscription(agm, applications, entitlements, skipIcons) {\r\n        var subscription;\r\n        var start = function () {\r\n            var resolveFunc;\r\n            var rejectFunc;\r\n            var resultPromise = new Promise(function (resolve, reject) {\r\n                resolveFunc = resolve;\r\n                rejectFunc = reject;\r\n            });\r\n            agm.subscribe(OnEventMethodName, { arguments: { skipIcon: skipIcons }, waitTimeoutMs: 10000 })\r\n                .then(function (s) {\r\n                subscription = s;\r\n                subscription.onData(function (streamData) {\r\n                    var events = streamData.data;\r\n                    objectValues(events[OnApplicationAddedEvent])\r\n                        .map(function (item) { return applications.handleAppAdded(item); });\r\n                    objectValues(events[OnApplicationChangedEvent])\r\n                        .map(function (item) { return applications.handleAppUpdated(item); });\r\n                    objectValues(events[OnApplicationRemovedEvent])\r\n                        .map(function (item) { return applications.handleAppRemoved(item); });\r\n                    objectValues(events[OnApplicationReadyEvent])\r\n                        .map(function (item) { return applications.handleAppReady(item); });\r\n                    objectValues(events[OnApplicationStartedEvent])\r\n                        .map(function (item) { return applications.handleInstanceStarted(item); });\r\n                    objectValues(events[OnApplicationStartFailedEvent])\r\n                        .map(function (item) { return applications.handleInstanceStartFailed(item); });\r\n                    objectValues(events[OnApplicationStoppedEvent])\r\n                        .map(function (item) { return applications.handleInstanceStopped(item); });\r\n                    objectValues(events[OnApplicationUpdatedEvent])\r\n                        .map(function (item) { return applications.handleInstanceUpdated(item); });\r\n                    objectValues(events[OnApplicationAgmServerReadyEvent])\r\n                        .map(function (item) { return applications.handleInstanceAgmServerReady(item); });\r\n                    objectValues(events[OnBranchChangedEvent])\r\n                        .map(function (item) { return entitlements.handleBranchModified(item); });\r\n                    objectValues(events[OnBranchesModifiedEvent])\r\n                        .map(function (item) { return entitlements.handleBranchesModified(item); });\r\n                    resolveFunc();\r\n                });\r\n                subscription.onFailed(function (err) { return rejectFunc(err); });\r\n            })\r\n                .catch(function (err) { return rejectFunc(\"Error subscribing for \" + OnEventMethodName + \" stream. Err: \" + err); });\r\n            return resultPromise;\r\n        };\r\n        var stop = function () {\r\n            if (subscription) {\r\n                subscription.close();\r\n            }\r\n        };\r\n        return {\r\n            start: start,\r\n            stop: stop\r\n        };\r\n    }\n\n    var AppManagerFactory = (function (config) {\r\n        if (!config) {\r\n            throw Error(\"config not set\");\r\n        }\r\n        if (!config.agm) {\r\n            throw Error(\"config.agm is missing\");\r\n        }\r\n        var START_ONLY = \"startOnly\";\r\n        var SKIP_ICONS = \"skipIcons\";\r\n        var FULL = \"full\";\r\n        var mode = config.mode || START_ONLY;\r\n        if (mode !== START_ONLY && mode !== SKIP_ICONS && mode !== FULL) {\r\n            throw new Error(\"Invalid mode for appManager lib - \" + mode + \" is not supported\");\r\n        }\r\n        var activities = config.activities;\r\n        var agm = config.agm;\r\n        var logger = config.logger;\r\n        var windows = config.windows;\r\n        var appManager = new AppManagerImpl(mode, agm, activities, windows, logger.subLogger(\"applications\"), config.gdMajorVersion);\r\n        var entitlements = new EntitlementsImpl(agm);\r\n        var readyPromise;\r\n        if (mode === START_ONLY) {\r\n            readyPromise = snapshot(agm, appManager);\r\n        }\r\n        else {\r\n            var subscription = createDataSubscription(agm, appManager, entitlements, mode === SKIP_ICONS);\r\n            readyPromise = subscription.start();\r\n        }\r\n        var api = {\r\n            ready: function () { return readyPromise; },\r\n            applications: appManager.applications,\r\n            application: appManager.application,\r\n            onAppAdded: appManager.onAppAdded,\r\n            onAppRemoved: appManager.onAppRemoved,\r\n            onAppChanged: appManager.onAppChanged,\r\n            onAppAvailable: appManager.onAppAvailable,\r\n            onAppUnavailable: appManager.onAppUnavailable,\r\n            instances: appManager.instances,\r\n            get myInstance() {\r\n                return appManager.getMyInstance();\r\n            },\r\n            onInstanceStarted: appManager.onInstanceStarted,\r\n            onInstanceStopped: appManager.onInstanceStopped,\r\n            onInstanceUpdated: appManager.onInstanceUpdated,\r\n            onInstanceStartFailed: appManager.onInstanceStartFailed,\r\n            getRegion: entitlements.getRegion,\r\n            getBranches: entitlements.getBranches,\r\n            getCurrentBranch: entitlements.getCurrentBranch,\r\n            getFunctionalEntitlement: entitlements.getFunctionalEntitlement,\r\n            getFunctionalEntitlementBranch: entitlements.getFunctionalEntitlementBranch,\r\n            setCurrentBranch: entitlements.setCurrentBranch,\r\n            setRegion: entitlements.setRegion,\r\n            currentUser: entitlements.currentUser,\r\n            canI: entitlements.canI,\r\n            canIBranch: entitlements.canIBranch,\r\n            onBranchesChanged: entitlements.onBranchesChanged,\r\n            exit: entitlements.exit,\r\n            restart: entitlements.restart\r\n        };\r\n        return api;\r\n    });\n\n    var WindowStore = (function () {\r\n        function WindowStore() {\r\n            this.waitForTimeoutInMilliseconds = 60000;\r\n            this._windows = {};\r\n            this._pendingWindows = {};\r\n            this._pendingWindowsStates = {};\r\n            this._registry = lib$2();\r\n        }\r\n        WindowStore.prototype.init = function (logger) {\r\n            this._logger = logger;\r\n        };\r\n        WindowStore.prototype.get = function (id) {\r\n            return this._windows[id] || this._pendingWindows[id];\r\n        };\r\n        WindowStore.prototype.getIfReady = function (id) {\r\n            return this._windows[id];\r\n        };\r\n        Object.defineProperty(WindowStore.prototype, \"list\", {\r\n            get: function () {\r\n                return this._windows;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        WindowStore.prototype.add = function (window) {\r\n            var isExist = this._pendingWindows[window.API.id] ? true : false;\r\n            if (isExist) {\r\n                this._logger.error(\"trying to add window with id \" + window.API.id + \" from windowStore, which already exists\");\r\n                return;\r\n            }\r\n            var remote = window.API.windowType === \"remote\";\r\n            this._pendingWindows[window.API.id] = window;\r\n            this._pendingWindowsStates[window.API.id] = {\r\n                ready: false,\r\n                urlChanged: remote,\r\n            };\r\n            this._registry.execute(\"on-added\", window);\r\n        };\r\n        WindowStore.prototype.remove = function (window) {\r\n            delete this._windows[window.API.id];\r\n            delete this._pendingWindows[window.API.id];\r\n            delete this._pendingWindowsStates[window.API.id];\r\n            this._registry.execute(\"on-removed\", window);\r\n        };\r\n        WindowStore.prototype.setReadyState = function (windowId) {\r\n            var targetWindowState = this._pendingWindowsStates[windowId];\r\n            if (typeof targetWindowState === \"undefined\") {\r\n                return;\r\n            }\r\n            targetWindowState.ready = true;\r\n            if (targetWindowState.urlChanged) {\r\n                this.markReadyToShow(windowId);\r\n            }\r\n        };\r\n        WindowStore.prototype.setUrlChangedState = function (windowId) {\r\n            var targetWindowState = this._pendingWindowsStates[windowId];\r\n            if (typeof targetWindowState === \"undefined\") {\r\n                return;\r\n            }\r\n            targetWindowState.urlChanged = true;\r\n            if (targetWindowState.ready) {\r\n                this.markReadyToShow(windowId);\r\n            }\r\n        };\r\n        WindowStore.prototype.waitFor = function (id) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                var un;\r\n                var timeout = setTimeout(function () {\r\n                    un();\r\n                    reject(\"waitFor timed out.\");\r\n                }, _this.waitForTimeoutInMilliseconds);\r\n                var win = _this._windows[id];\r\n                if (win) {\r\n                    clearTimeout(timeout);\r\n                    resolve(win);\r\n                }\r\n                else {\r\n                    un = _this.onReadyWindow(function (w) {\r\n                        if (w.API.id !== id) {\r\n                            return;\r\n                        }\r\n                        clearTimeout(timeout);\r\n                        un();\r\n                        resolve(w);\r\n                    });\r\n                }\r\n            });\r\n        };\r\n        WindowStore.prototype.onReadyWindow = function (callback) {\r\n            return this._registry.add(\"on-ready\", callback);\r\n        };\r\n        WindowStore.prototype.onAdded = function (callback) {\r\n            return this._registry.add(\"on-added\", callback);\r\n        };\r\n        WindowStore.prototype.onRemoved = function (callback) {\r\n            return this._registry.add(\"on-removed\", callback);\r\n        };\r\n        WindowStore.prototype.markReadyToShow = function (windowId) {\r\n            if (this._pendingWindows[windowId]) {\r\n                this._windows[windowId] = this._pendingWindows[windowId];\r\n                delete this._pendingWindows[windowId];\r\n                delete this._pendingWindowsStates[windowId];\r\n            }\r\n            this._registry.execute(\"on-ready\", this._windows[windowId]);\r\n        };\r\n        return WindowStore;\r\n    }());\r\n    var windowStore = new WindowStore();\n\n    var Utils$1 = (function () {\r\n        function Utils() {\r\n        }\r\n        Utils.getGDMajorVersion = function () {\r\n            if (typeof window === \"undefined\") {\r\n                return -1;\r\n            }\r\n            if (!window.glueDesktop) {\r\n                return -1;\r\n            }\r\n            if (!window.glueDesktop.version) {\r\n                return -1;\r\n            }\r\n            var ver = Number(window.glueDesktop.version.substr(0, 1));\r\n            return isNaN(ver) ? -1 : ver;\r\n        };\r\n        Utils.callbackifyPromise = function (action, successCallback, errorCallback) {\r\n            var fail = function (error) {\r\n                var msg = error;\r\n                if (error instanceof Error) {\r\n                    msg = error.message;\r\n                }\r\n                if (typeof errorCallback === \"function\") {\r\n                    errorCallback(msg);\r\n                    return;\r\n                }\r\n                return Promise.reject(msg);\r\n            };\r\n            try {\r\n                return action()\r\n                    .then(function (result) {\r\n                    if (typeof successCallback === \"function\") {\r\n                        successCallback(result);\r\n                    }\r\n                    return result;\r\n                })\r\n                    .catch(function (error) {\r\n                    return fail(error);\r\n                });\r\n            }\r\n            catch (err) {\r\n                return fail(err);\r\n            }\r\n        };\r\n        Utils.getMonitor = function (bounds, displays) {\r\n            var _this = this;\r\n            var monitorsSortedByOverlap = displays.map(function (m) {\r\n                var left = m.left, top = m.top, width = m.workingAreaWidth, height = m.workingAreaHeight;\r\n                var overlap = _this.calculateTotalOverlap({ left: left, top: top, width: width, height: height }, bounds);\r\n                return {\r\n                    monitor: m,\r\n                    totalOverlap: overlap\r\n                };\r\n            }).sort(function (a, b) { return b.totalOverlap - a.totalOverlap; });\r\n            return monitorsSortedByOverlap[0].monitor;\r\n        };\r\n        Utils.getDisplayCenterOfScreen = function (a, display) {\r\n            var left = Math.floor(Math.max(display.left, (display.left + (display.workingAreaWidth - a.width) / 2)));\r\n            var top = Math.floor(Math.max(display.top, (display.top + (display.workingAreaHeight - a.height) / 2)));\r\n            return {\r\n                top: top,\r\n                left: left\r\n            };\r\n        };\r\n        Utils.calculateTotalOverlap = function (r1, r2) {\r\n            var r1x = r1.left;\r\n            var r1y = r1.top;\r\n            var r1xMax = r1x + r1.width;\r\n            var r1yMax = r1y + r1.height;\r\n            var r2x = r2.left;\r\n            var r2y = r2.top;\r\n            var r2xMax = r2x + r2.width;\r\n            var r2yMax = r2y + r2.height;\r\n            var xOverlap = Math.max(0, Math.min(r1xMax, r2xMax) - Math.max(r1x, r2x));\r\n            var yOverlap = Math.max(0, Math.min(r1yMax, r2yMax) - Math.max(r1y, r2y));\r\n            return xOverlap * yOverlap;\r\n        };\r\n        return Utils;\r\n    }());\n\n    var windowFactory = (function (id, options, executor, logger, appManagerGetter, agm, registry) {\r\n        var _a;\r\n        var _registry = (registry !== null && registry !== void 0 ? registry : lib$2());\r\n        var _logger = logger.subLogger(\"window \" + id);\r\n        var _name = options.name;\r\n        var _mode = options.mode;\r\n        var _url = options.url;\r\n        var _title = options.title;\r\n        var _context = options.context || {};\r\n        var _bounds = options.bounds;\r\n        var _frameColor = options.frameColor;\r\n        var _focus = options.focus;\r\n        var _neighbours = options.neighbours || {};\r\n        var _groupId = options.groupId;\r\n        var _isGroupHeaderVisible = options.isGroupHeaderVisible;\r\n        var _isTabHeaderVisible = options.isTabHeaderVisible;\r\n        var _isTabSelected = options.isTabSelected;\r\n        var _settings = options.settings;\r\n        var _isVisible = options.isVisible;\r\n        var _isSticky = (_a = options.settings) === null || _a === void 0 ? void 0 : _a.isSticky;\r\n        var isCollapsed = options.isCollapsed;\r\n        var _windowState = options.state;\r\n        var _tabGroupId = options.tabGroupId;\r\n        var _isLocked = options.isLocked;\r\n        var _group;\r\n        var resultWindow;\r\n        var _frameButtons = [];\r\n        var _zoomFactor = options.zoomFactor;\r\n        function close(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.close(resultWindow)\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function navigate(newUrl, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.navigate(resultWindow, newUrl)\r\n                    .then(function () {\r\n                    if (newUrl === _url) {\r\n                        if (typeof success === \"function\") {\r\n                            success(resultWindow);\r\n                        }\r\n                        return resolve(resultWindow);\r\n                    }\r\n                    var un = onUrlChanged(function (url, win) {\r\n                        if (win.id === id && url === win.url) {\r\n                            if (typeof success === \"function\") {\r\n                                success(resultWindow);\r\n                            }\r\n                            un();\r\n                            resolve(resultWindow);\r\n                        }\r\n                    });\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function setStyle(style, success, error) {\r\n            if (!style || Object.keys(style).length === 0 || Object.keys(style).every(function (key) { return !key; })) {\r\n                var errMessage = \"Invalid style arguments: \" + JSON.stringify(style);\r\n                error(errMessage);\r\n                return Promise.reject(new Error(errMessage));\r\n            }\r\n            if (style && style.focus !== undefined) {\r\n                if (typeof style.focus !== \"boolean\") {\r\n                    var errMessage = \"Focus must be boolean. Currently only focus true is supported ! \" + JSON.stringify(style);\r\n                    error(errMessage);\r\n                    return Promise.reject(new Error(errMessage));\r\n                }\r\n                else if (style.focus === false) {\r\n                    _logger.warn(\"Focus false is not supported ! \");\r\n                }\r\n            }\r\n            if (style && style.hidden !== undefined && typeof style.hidden !== \"boolean\") {\r\n                var errMessage = \"Hidden must be boolean ! provided: \" + JSON.stringify(style);\r\n                error(errMessage);\r\n                return Promise.reject(new Error(errMessage));\r\n            }\r\n            return Utils$1.callbackifyPromise(function () { return executor.setStyle(resultWindow, style); }, success, error);\r\n        }\r\n        function resetButtons(buttons, success, error) {\r\n            return Utils$1.callbackifyPromise(function () { return executor.resetButtons(resultWindow, buttons); }, success, error);\r\n        }\r\n        function setOnTop(onTop, success, error) {\r\n            if (this.onTop === onTop) {\r\n                var errMessage = \"OnTop setting is already set to '\" + onTop + \"'\";\r\n                error(errMessage);\r\n                return Promise.reject(new Error(errMessage));\r\n            }\r\n            return Utils$1.callbackifyPromise(function () { return executor.setOnTop(resultWindow, onTop); }, success, error);\r\n        }\r\n        function setSizeConstraints(constraints, success, error) {\r\n            if (!constraints || Object.keys(constraints).every(function (value) { return value === undefined; })) {\r\n                var errMessage = \"Invalid Constraints: \" + JSON.stringify(constraints);\r\n                error(errMessage);\r\n                return Promise.reject(new Error(errMessage));\r\n            }\r\n            return Utils$1.callbackifyPromise(function () { return executor.setSizeConstraints(resultWindow, constraints); }, success, error);\r\n        }\r\n        function setTitle(newTitle, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.setTitle(resultWindow, newTitle)\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function setSticky(isSticky, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.setSticky(resultWindow, isSticky)\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function moveResize(dimensions, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                var resolveImmediately = areBoundsEqual(dimensions, _bounds);\r\n                var isDone = false;\r\n                var done = function () {\r\n                    if (isDone) {\r\n                        return;\r\n                    }\r\n                    isDone = true;\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                    if (unsubscribeBoundsChanged) {\r\n                        unsubscribeBoundsChanged();\r\n                        unsubscribeBoundsChanged = undefined;\r\n                    }\r\n                    if (resolveTimeout) {\r\n                        clearTimeout(resolveTimeout);\r\n                        resolveTimeout = undefined;\r\n                    }\r\n                };\r\n                var resolveTimeout;\r\n                var unsubscribeBoundsChanged;\r\n                if (!resolveImmediately) {\r\n                    unsubscribeBoundsChanged = onBoundsChanged(function (win) {\r\n                        if (win.id !== resultWindow.id) {\r\n                            return;\r\n                        }\r\n                        if (!areBoundsEqual(dimensions, win.bounds)) {\r\n                            return;\r\n                        }\r\n                        done();\r\n                    });\r\n                }\r\n                executor.moveResize(resultWindow, dimensions)\r\n                    .then(function () {\r\n                    if (resolveImmediately) {\r\n                        done();\r\n                        return;\r\n                    }\r\n                    resolveTimeout = setTimeout(function () {\r\n                        done();\r\n                    }, 1000);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function addFrameButton(buttonInfo, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                if (typeof buttonInfo === \"undefined\") {\r\n                    if (typeof error === \"function\") {\r\n                        error(\"No button info\");\r\n                        return;\r\n                    }\r\n                    reject(\"No button info\");\r\n                    return;\r\n                }\r\n                if (buttonInfo.buttonId === undefined) {\r\n                    if (typeof error === \"function\") {\r\n                        error(\"No buttonId\");\r\n                        return;\r\n                    }\r\n                    reject(\"No buttonId\");\r\n                    return;\r\n                }\r\n                if (buttonInfo.imageBase64 === undefined) {\r\n                    if (typeof error === \"function\") {\r\n                        error(\"No imageBase64\");\r\n                        return;\r\n                    }\r\n                    reject(\"No imageBase64\");\r\n                    return;\r\n                }\r\n                executor.addFrameButton(resultWindow, buttonInfo)\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function removeFrameButton(buttonId, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                if (buttonId === undefined || buttonId === \"\") {\r\n                    if (typeof error === \"function\") {\r\n                        error(\"No buttonId\");\r\n                        return;\r\n                    }\r\n                    reject(\"No buttonId\");\r\n                    return;\r\n                }\r\n                executor.removeFrameButton(resultWindow, buttonId)\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function activate(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.activate(resultWindow)\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function focus(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.focus(resultWindow)\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function maximizeRestore(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                var currEvent = _windowState === \"normal\" ? onMaximized : onNormal;\r\n                executor.maximizeRestore(resultWindow)\r\n                    .then(function () {\r\n                    var un = currEvent(function () {\r\n                        if (typeof success === \"function\") {\r\n                            success(resultWindow);\r\n                        }\r\n                        if (un) {\r\n                            un();\r\n                        }\r\n                        resolve(resultWindow);\r\n                    });\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function maximize(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.maximize(resultWindow)\r\n                    .then(function () {\r\n                    if (_windowState === \"maximized\") {\r\n                        if (typeof success === \"function\") {\r\n                            success(resultWindow);\r\n                        }\r\n                        return resolve(resultWindow);\r\n                    }\r\n                    var un = onMaximized(function (win) {\r\n                        if (win.id === id && win.state === \"maximized\") {\r\n                            if (typeof success === \"function\") {\r\n                                success(resultWindow);\r\n                            }\r\n                            un();\r\n                            resolve(resultWindow);\r\n                        }\r\n                    });\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function restore(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.restore(resultWindow)\r\n                    .then(function () {\r\n                    if (_windowState === \"normal\") {\r\n                        if (typeof success === \"function\") {\r\n                            success(resultWindow);\r\n                        }\r\n                        return resolve(resultWindow);\r\n                    }\r\n                    var un = onNormal(function (win) {\r\n                        if (id === win.id && win.state === \"normal\") {\r\n                            if (typeof success === \"function\") {\r\n                                success(resultWindow);\r\n                            }\r\n                            un();\r\n                            resolve(resultWindow);\r\n                        }\r\n                    });\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function minimize(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.minimize(resultWindow)\r\n                    .then(function () {\r\n                    if (_windowState === \"minimized\") {\r\n                        if (typeof success === \"function\") {\r\n                            success(resultWindow);\r\n                        }\r\n                        return resolve(resultWindow);\r\n                    }\r\n                    var un = onMinimized(function (win) {\r\n                        if (id === win.id && win.state === \"minimized\") {\r\n                            if (typeof success === \"function\") {\r\n                                success(resultWindow);\r\n                            }\r\n                            un();\r\n                            return resolve(resultWindow);\r\n                        }\r\n                    });\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function collapse(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                if (isCollapsed) {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    return resolve(resultWindow);\r\n                }\r\n                executor.collapse(resultWindow)\r\n                    .then(function () {\r\n                    if (isCollapsed) {\r\n                        if (typeof success === \"function\") {\r\n                            success(resultWindow);\r\n                        }\r\n                        return resolve(resultWindow);\r\n                    }\r\n                    var un = onCollapsed(function (win) {\r\n                        if (win.id === id) {\r\n                            if (typeof success === \"function\") {\r\n                                success(resultWindow);\r\n                            }\r\n                            un();\r\n                            resolve(resultWindow);\r\n                        }\r\n                    });\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function expand(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                if (!isCollapsed) {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    return resolve(resultWindow);\r\n                }\r\n                executor.expand(resultWindow)\r\n                    .then(function () {\r\n                    if (!isCollapsed) {\r\n                        if (typeof success === \"function\") {\r\n                            success(resultWindow);\r\n                        }\r\n                        return resolve(resultWindow);\r\n                    }\r\n                    var un = onExpanded(function (win) {\r\n                        if (win.id === id) {\r\n                            if (typeof success === \"function\") {\r\n                                success(resultWindow);\r\n                            }\r\n                            un();\r\n                            resolve(resultWindow);\r\n                        }\r\n                    });\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function toggleCollapse(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                var currEvent = isCollapsed ? onExpanded : onCollapsed;\r\n                executor.toggleCollapse(resultWindow)\r\n                    .then(function () {\r\n                    currEvent(function (win) {\r\n                        if (win.id === id) {\r\n                            if (typeof success === \"function\") {\r\n                                success(resultWindow);\r\n                            }\r\n                            resolve(resultWindow);\r\n                        }\r\n                    });\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function snap(target, direction, success, error) {\r\n            var targetWindowGroup;\r\n            if (!target) {\r\n                return Promise.reject(\"Please specify a target window! calledWith: \" + target);\r\n            }\r\n            if (typeof target === \"string\") {\r\n                var targetWindow = windowStore.get(target);\r\n                if (!targetWindow) {\r\n                    return Promise.reject(new Error(\"Invalid target parameter or no such window. Invoked with:  \" + target));\r\n                }\r\n                targetWindowGroup = targetWindow.API.group;\r\n            }\r\n            else {\r\n                targetWindowGroup = target.group;\r\n            }\r\n            return Promise.all([\r\n                waitForMyWindowToJoinTargetGroup(targetWindowGroup),\r\n                executor.snap(resultWindow, target, direction)\r\n            ])\r\n                .then(function () {\r\n                if (typeof success === \"function\") {\r\n                    success(resultWindow);\r\n                }\r\n                return resultWindow;\r\n            })\r\n                .catch(function (e) {\r\n                if (typeof error === \"function\") {\r\n                    error(e);\r\n                }\r\n                return e;\r\n            });\r\n        }\r\n        function waitForMyWindowToJoinTargetGroup(targetGroup) {\r\n            return new Promise(function (resolve, reject) {\r\n                var unsub = targetGroup.onWindowAdded(function (_, window) {\r\n                    if (resultWindow.id === window.id) {\r\n                        unsub();\r\n                        resolve();\r\n                    }\r\n                });\r\n            });\r\n        }\r\n        function attachTab(tab, index, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                var sourceWindowId;\r\n                var targetWindowId = resultWindow.id;\r\n                var errorMessage = \"Invalid tab parameter - should be an object with property id or a string. Invoked for source window id:\" + resultWindow.id;\r\n                if (!tab) {\r\n                    reject(errorMessage);\r\n                    return;\r\n                }\r\n                if (typeof tab === \"string\") {\r\n                    sourceWindowId = tab;\r\n                }\r\n                else if (typeof tab.id !== \"undefined\") {\r\n                    sourceWindowId = tab.id;\r\n                }\r\n                else {\r\n                    reject(errorMessage);\r\n                    return;\r\n                }\r\n                var argsForSend = {\r\n                    sourceWindowId: sourceWindowId,\r\n                    targetWindowId: targetWindowId,\r\n                };\r\n                if (index) {\r\n                    argsForSend.index = index;\r\n                }\r\n                var sourceWin = windowStore.get(argsForSend.sourceWindowId).API;\r\n                var un = sourceWin.onAttached(function (win) {\r\n                    if (win.id === sourceWin.id) {\r\n                        if (typeof success === \"function\") {\r\n                            success(resultWindow);\r\n                        }\r\n                        un();\r\n                        resolve(resultWindow);\r\n                    }\r\n                });\r\n                executor.attachTab(resultWindow, argsForSend)\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    un();\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function detachTab(opt, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                var argsForSend = { windowId: resultWindow.id };\r\n                var _options = opt || {};\r\n                if (typeof _options.relativeTo !== \"undefined\") {\r\n                    if (typeof _options.relativeTo === \"string\") {\r\n                        argsForSend.relativeTo = _options.relativeTo;\r\n                    }\r\n                    else if (typeof _options.relativeTo.id !== \"undefined\") {\r\n                        argsForSend.relativeTo = _options.relativeTo.id;\r\n                    }\r\n                    if (typeof _options.relativeDirection !== \"undefined\") {\r\n                        argsForSend.relativeDirection = _options.relativeDirection;\r\n                    }\r\n                    if (typeof _options.width !== \"undefined\") {\r\n                        argsForSend.width = _options.width;\r\n                    }\r\n                    if (typeof _options.height !== \"undefined\") {\r\n                        argsForSend.height = _options.height;\r\n                    }\r\n                }\r\n                if (typeof _options.bounds !== \"undefined\") {\r\n                    argsForSend.bounds = _options.bounds;\r\n                }\r\n                if (typeof _options.hideTabHeader !== \"undefined\") {\r\n                    argsForSend.hideTabHeader = _options.hideTabHeader;\r\n                }\r\n                var visibilityChangeHeard = false;\r\n                var detachedHeard = false;\r\n                var unVisibility = _registry.add(\"frame-attached\", (function (win) {\r\n                    var isVisibilityCorrect = _options.hideTabHeader === undefined || _options.hideTabHeader !== win.isTabHeaderVisible;\r\n                    if (id === win.id && isVisibilityCorrect) {\r\n                        visibilityChangeHeard = true;\r\n                        unVisibility();\r\n                        if (detachedHeard) {\r\n                            if (typeof success === \"function\") {\r\n                                success(resultWindow);\r\n                            }\r\n                            resolve(resultWindow);\r\n                            if (typeof unDetached === \"function\") {\r\n                                unDetached();\r\n                            }\r\n                        }\r\n                    }\r\n                }));\r\n                var unDetached = onDetached(function (win) {\r\n                    if (id === win.id) {\r\n                        detachedHeard = true;\r\n                        unDetached();\r\n                        if (visibilityChangeHeard) {\r\n                            if (typeof success === \"function\") {\r\n                                success(resultWindow);\r\n                            }\r\n                            resolve(resultWindow);\r\n                            if (typeof unVisibility === \"function\") {\r\n                                unVisibility();\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n                executor.detachTab(resultWindow, argsForSend)\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    unDetached();\r\n                    unVisibility();\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function setVisible(toBeVisible, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.setVisible(resultWindow, toBeVisible)\r\n                    .then(function () {\r\n                    var isVisibilityCorrect = toBeVisible === undefined ? _isVisible === true : _isVisible === toBeVisible;\r\n                    if (isVisibilityCorrect) {\r\n                        if (typeof success === \"function\") {\r\n                            success(resultWindow);\r\n                        }\r\n                        return resolve(resultWindow);\r\n                    }\r\n                    var un = onVisibilityChanged(function (win) {\r\n                        isVisibilityCorrect = toBeVisible === undefined ? win.isVisible === true : win.isVisible === toBeVisible;\r\n                        if (win.id === id && isVisibilityCorrect) {\r\n                            if (typeof success === \"function\") {\r\n                                success(resultWindow);\r\n                            }\r\n                            un();\r\n                            resolve(resultWindow);\r\n                        }\r\n                    });\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function showLoader(loader) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.showLoader(resultWindow, loader)\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function hideLoader() {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.hideLoader(resultWindow)\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function updateContext(context, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.updateContext(resultWindow, context)\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function lock(success, error) {\r\n            if (resultWindow.isLocked) {\r\n                if (typeof success === \"function\") {\r\n                    success(resultWindow);\r\n                }\r\n                return Promise.resolve(resultWindow);\r\n            }\r\n            return new Promise(function (resolve, reject) {\r\n                executor.lock(resultWindow)\r\n                    .then(function () { return waitForLockingChanged(); })\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function unlock(success, error) {\r\n            if (!resultWindow.isLocked) {\r\n                if (typeof success === \"function\") {\r\n                    success(resultWindow);\r\n                }\r\n                return Promise.resolve(resultWindow);\r\n            }\r\n            return new Promise(function (resolve, reject) {\r\n                executor.unlock(resultWindow)\r\n                    .then(function () { return waitForLockingChanged(); })\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function waitForLockingChanged() {\r\n            return new Promise(function (resolve) {\r\n                var un = onLockingChanged(function (window) {\r\n                    if (window.id === resultWindow.id) {\r\n                        un();\r\n                        resolve();\r\n                    }\r\n                });\r\n            });\r\n        }\r\n        function getIcon(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.getIcon(resultWindow)\r\n                    .then(function (icon) {\r\n                    if (typeof success === \"function\") {\r\n                        success(icon);\r\n                    }\r\n                    resolve(icon);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function setIcon(base64Image, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.setIcon(resultWindow, base64Image)\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function setFrameColor(frameColor, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.setFrameColor(resultWindow, frameColor)\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function setTabHeaderVisible(toBeTabHeaderVisible, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.setTabHeaderVisible(resultWindow, toBeTabHeaderVisible)\r\n                    .then(function () {\r\n                    if (_isTabHeaderVisible === toBeTabHeaderVisible) {\r\n                        if (typeof success === \"function\") {\r\n                            success(resultWindow);\r\n                        }\r\n                        return resolve(resultWindow);\r\n                    }\r\n                    var un = onTabHeaderVisibilityChanged(function (win) {\r\n                        if (win.id === id && win.isTabHeaderVisible === toBeTabHeaderVisible) {\r\n                            if (typeof success === \"function\") {\r\n                                success(resultWindow);\r\n                            }\r\n                            un();\r\n                            resolve(resultWindow);\r\n                        }\r\n                    });\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function setTabTooltip(tooltip) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    if (!tooltip) {\r\n                        throw new Error(tooltip + \" is null or undefined\");\r\n                    }\r\n                    return [2, executor.setTabTooltip(resultWindow, tooltip)];\r\n                });\r\n            });\r\n        }\r\n        function showPopup(config) {\r\n            return executor.showPopup(resultWindow, config);\r\n        }\r\n        function createFlydown(config) {\r\n            return executor.createFlydown(resultWindow.id, config);\r\n        }\r\n        function setModalState(isModal) {\r\n            return executor.setModalState(resultWindow.id, isModal || false);\r\n        }\r\n        function zoomIn(success, error) {\r\n            return Utils$1.callbackifyPromise(function () {\r\n                return executor.zoomIn(resultWindow);\r\n            }, success, error);\r\n        }\r\n        function zoomOut(success, error) {\r\n            return Utils$1.callbackifyPromise(function () {\r\n                return executor.zoomOut(resultWindow);\r\n            }, success, error);\r\n        }\r\n        function setZoomFactor(zoomFactor, success, error) {\r\n            return Utils$1.callbackifyPromise(function () {\r\n                if (isNaN(zoomFactor)) {\r\n                    throw new Error(\"zoomFactor is not a number\");\r\n                }\r\n                return executor.setZoomFactor(resultWindow, zoomFactor);\r\n            }, success, error);\r\n        }\r\n        function showDevTools() {\r\n            return executor.showDevTools(resultWindow);\r\n        }\r\n        function capture(captureOptions) {\r\n            return executor.capture(resultWindow, captureOptions);\r\n        }\r\n        function flash(suppliedOptions, mode) {\r\n            var flashOptions = {\r\n                shouldFlash: true,\r\n                mode: \"auto\"\r\n            };\r\n            if (typeof suppliedOptions === \"boolean\") {\r\n                flashOptions.shouldFlash = suppliedOptions;\r\n            }\r\n            if (typeof mode !== \"undefined\") {\r\n                flashOptions.mode = mode;\r\n            }\r\n            return executor.flash(resultWindow, flashOptions);\r\n        }\r\n        function print(printOptions) {\r\n            return executor.print(resultWindow, printOptions);\r\n        }\r\n        function printToPDF(printToPDFOptions) {\r\n            return executor.printToPDF(resultWindow, printToPDFOptions);\r\n        }\r\n        function onTitleChanged(callback) {\r\n            callback(resultWindow.title, resultWindow);\r\n            return _registry.add(\"onTitleChanged\", callback);\r\n        }\r\n        function onClose(callback) {\r\n            return _registry.add(\"onClose\", callback);\r\n        }\r\n        function onUrlChanged(callback) {\r\n            return _registry.add(\"onUrlChanged\", callback);\r\n        }\r\n        function onFrameButtonAdded(callback) {\r\n            return _registry.add(\"onFrameButtonAdded\", callback);\r\n        }\r\n        function onFrameButtonRemoved(callback) {\r\n            return _registry.add(\"onFrameButtonRemoved\", callback);\r\n        }\r\n        function onFrameButtonClicked(callback) {\r\n            return _registry.add(\"onFrameButtonClicked\", callback);\r\n        }\r\n        function onCollapsed(callback) {\r\n            if (isCollapsed) {\r\n                callback(resultWindow);\r\n            }\r\n            return _registry.add(\"collapsed\", callback);\r\n        }\r\n        function onExpanded(callback) {\r\n            if (!isCollapsed) {\r\n                callback(resultWindow);\r\n            }\r\n            return _registry.add(\"expanded\", callback);\r\n        }\r\n        function onMaximized(callback) {\r\n            if (_windowState === \"maximized\") {\r\n                callback(resultWindow);\r\n            }\r\n            return _registry.add(\"maximized\", callback);\r\n        }\r\n        function onMinimized(callback) {\r\n            if (_windowState === \"minimized\") {\r\n                callback(resultWindow);\r\n            }\r\n            return _registry.add(\"minimized\", callback);\r\n        }\r\n        function onNormal(callback) {\r\n            if (_windowState === \"normal\") {\r\n                callback(resultWindow);\r\n            }\r\n            return _registry.add(\"normal\", callback);\r\n        }\r\n        function onAttached(callback) {\r\n            return _registry.add(\"attached\", callback);\r\n        }\r\n        function onDetached(callback) {\r\n            return _registry.add(\"detached\", callback);\r\n        }\r\n        function onVisibilityChanged(callback) {\r\n            return _registry.add(\"visibility-changed\", callback);\r\n        }\r\n        function onContextUpdated(callback) {\r\n            return _registry.add(\"context-updated\", callback);\r\n        }\r\n        function onLockingChanged(callback) {\r\n            return _registry.add(\"lock-changed\", callback);\r\n        }\r\n        function onBoundsChanged(callback) {\r\n            return _registry.add(\"bounds-changed\", callback);\r\n        }\r\n        function onFocusChanged(callback) {\r\n            return _registry.add(\"focus-changed\", callback);\r\n        }\r\n        function onStickyChanged(callback) {\r\n            return _registry.add(\"sticky-changed\", callback);\r\n        }\r\n        function onFrameColorChanged(callback) {\r\n            return _registry.add(\"frame-color-changed\", callback);\r\n        }\r\n        function onTabHeaderVisibilityChanged(callback) {\r\n            return _registry.add(\"tab-header-visibility-changed\", callback);\r\n        }\r\n        function onWindowAttached(callback) {\r\n            return _registry.add(\"window-attached\", callback);\r\n        }\r\n        function onWindowDetached(callback) {\r\n            return _registry.add(\"window-detached\", callback);\r\n        }\r\n        function onGroupChanged(callback) {\r\n            return _registry.add(\"group-changed\", callback);\r\n        }\r\n        function onTabSelectionChanged(callback) {\r\n            return _registry.add(\"tab-selection-changed\", callback);\r\n        }\r\n        function onClosing(callback) {\r\n            if (!isFunction(callback)) {\r\n                throw new Error(\"callback should be a function\");\r\n            }\r\n            var callbackWrap = function (success, error) {\r\n                var promise = callback();\r\n                if (promise && promise.then) {\r\n                    promise.then(success).catch(error);\r\n                }\r\n                else {\r\n                    success();\r\n                }\r\n            };\r\n            return executor.onClosing(callbackWrap, id);\r\n        }\r\n        function onRefreshing(callback) {\r\n            if (!isFunction(callback)) {\r\n                throw new Error(\"callback should be a function\");\r\n            }\r\n            var callbackWrap = function (success, error, prevent) {\r\n                var promise = callback(prevent);\r\n                if (promise && promise.then) {\r\n                    promise.then(success).catch(error);\r\n                }\r\n                else {\r\n                    success();\r\n                }\r\n            };\r\n            return executor.onRefreshing(callbackWrap, id);\r\n        }\r\n        function onZoomFactorChanged(callback) {\r\n            if (!isFunction(callback)) {\r\n                throw new Error(\"callback should be a function\");\r\n            }\r\n            return _registry.add(\"zoom-factor-changed\", callback);\r\n        }\r\n        function handleTitleChanged(newTitle) {\r\n            _title = newTitle;\r\n            _registry.execute(\"onTitleChanged\", newTitle, resultWindow);\r\n        }\r\n        function handleUrlChanged(newUrl) {\r\n            _url = newUrl;\r\n            _registry.execute(\"onUrlChanged\", newUrl, resultWindow);\r\n        }\r\n        function handleVisibilityChanged(isVisible) {\r\n            if (isVisible === _isVisible) {\r\n                return;\r\n            }\r\n            _isVisible = isVisible;\r\n            _registry.execute(\"visibility-changed\", resultWindow);\r\n        }\r\n        function handleWindowSettingsChanged(settings) {\r\n            _settings = settings;\r\n            _registry.execute(\"settings-changed\", resultWindow);\r\n        }\r\n        function handleContextUpdated(context) {\r\n            _context = context;\r\n            _registry.execute(\"context-updated\", _context, resultWindow);\r\n        }\r\n        function handleWindowClose() {\r\n            if (resultWindow.id === undefined) {\r\n                return;\r\n            }\r\n            resultWindow.id = undefined;\r\n            _registry.execute(\"onClose\", resultWindow);\r\n        }\r\n        function handleFrameButtonAdded(frameButton) {\r\n            var buttonObj = [\"buttonId\", \"imageBase64\", \"order\", \"tooltip\"].reduce(function (memo, k) {\r\n                memo[k] = frameButton[k];\r\n                return memo;\r\n            }, {});\r\n            var frameButtonsIds = _frameButtons.map(function (btn) {\r\n                return btn.buttonId;\r\n            });\r\n            if (frameButtonsIds.indexOf(frameButton.buttonId) === -1) {\r\n                _frameButtons.push(buttonObj);\r\n            }\r\n            _registry.execute(\"onFrameButtonAdded\", buttonObj, resultWindow);\r\n        }\r\n        function handleFrameButtonRemoved(frameButtonId) {\r\n            var button;\r\n            _frameButtons = _frameButtons.reduce(function (memo, btn) {\r\n                if (btn.buttonId === frameButtonId) {\r\n                    button = btn;\r\n                }\r\n                else {\r\n                    memo.push(btn);\r\n                }\r\n                return memo;\r\n            }, []);\r\n            if (button !== undefined) {\r\n                _registry.execute(\"onFrameButtonRemoved\", button, resultWindow);\r\n            }\r\n        }\r\n        function handleFrameButtonClicked(frameButton) {\r\n            var button = _frameButtons.filter(function (btn) {\r\n                return btn.buttonId === frameButton.buttonId;\r\n            });\r\n            if (button.length > 0) {\r\n                _registry.execute(\"onFrameButtonClicked\", button[0], resultWindow);\r\n            }\r\n        }\r\n        function handleWindowChangeState(state) {\r\n            if (state === \"collapsed\") {\r\n                isCollapsed = true;\r\n            }\r\n            else if (state === \"expanded\") {\r\n                isCollapsed = false;\r\n            }\r\n            else {\r\n                _windowState = state;\r\n            }\r\n            _registry.execute(state, resultWindow);\r\n        }\r\n        function handleFrameIsLockedChanged(isLocked) {\r\n            _isLocked = isLocked;\r\n            _registry.execute(\"lock-changed\", resultWindow);\r\n        }\r\n        function handleBoundsChanged(bounds) {\r\n            if (_bounds.top === bounds.top && _bounds.left === bounds.left && _bounds.width === bounds.width && _bounds.height === bounds.height) {\r\n                return;\r\n            }\r\n            _bounds.top = bounds.top;\r\n            _bounds.left = bounds.left;\r\n            _bounds.width = bounds.width;\r\n            _bounds.height = bounds.height;\r\n            _registry.execute(\"bounds-changed\", resultWindow);\r\n        }\r\n        function handleFocusChanged(isFocused) {\r\n            _focus = isFocused;\r\n            _registry.execute(\"focus-changed\", resultWindow);\r\n        }\r\n        function handleIsStickyChanged(isSticky) {\r\n            _isSticky = isSticky;\r\n            _registry.execute(\"sticky-changed\", isSticky, resultWindow);\r\n        }\r\n        function handleFrameColorChanged(frameColor) {\r\n            _frameColor = frameColor;\r\n            _registry.execute(\"frame-color-changed\", resultWindow);\r\n        }\r\n        function handleFrameAttached(tabGroupId, isTabHeaderVisible) {\r\n            _tabGroupId = tabGroupId;\r\n            _isTabHeaderVisible = isTabHeaderVisible;\r\n            _registry.execute(\"frame-attached\", resultWindow);\r\n        }\r\n        function handleCompositionChanged(neighbours, groupId) {\r\n            _neighbours = neighbours || {};\r\n            _groupId = groupId;\r\n        }\r\n        function handleGroupHeaderVisibilityChanged(isGroupHeaderVisible) {\r\n            _isGroupHeaderVisible = isGroupHeaderVisible;\r\n        }\r\n        function handleTabHeaderVisibilityChanged(isTabHeaderVisible) {\r\n            if (_isTabHeaderVisible !== isTabHeaderVisible) {\r\n                _isTabHeaderVisible = isTabHeaderVisible;\r\n                _registry.execute(\"tab-header-visibility-changed\", resultWindow);\r\n            }\r\n        }\r\n        function handleFrameSelectionChanged(newWindow, prevWindow) {\r\n            var selectedWindow;\r\n            if (typeof newWindow !== \"undefined\" && newWindow === id) {\r\n                _isTabSelected = true;\r\n                selectedWindow = resultWindow;\r\n            }\r\n            else {\r\n                _isTabSelected = false;\r\n                selectedWindow = windowStore.get(newWindow) ? windowStore.get(newWindow).API : undefined;\r\n            }\r\n            var previousWindow = windowStore.get(prevWindow) ? windowStore.get(prevWindow).API : undefined;\r\n            if (_isTabSelected && previousWindow) {\r\n                var un_1 = previousWindow.onTabSelectionChanged(function (newWin, prevWin) {\r\n                    if ((prevWin && prevWin.id) === previousWindow.id) {\r\n                        un_1();\r\n                        _registry.execute(\"tab-selection-changed\", selectedWindow, previousWindow, resultWindow);\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                _registry.execute(\"tab-selection-changed\", selectedWindow, previousWindow, resultWindow);\r\n            }\r\n        }\r\n        function handleAttached(newTabGroupId, tabHeaderVisible) {\r\n            _tabGroupId = newTabGroupId;\r\n            _isTabHeaderVisible = tabHeaderVisible;\r\n            _registry.execute(\"attached\", resultWindow);\r\n        }\r\n        function handleWindowAttached(win) {\r\n            _registry.execute(\"window-attached\", win);\r\n        }\r\n        function handleDetached(tabGroupId) {\r\n            _tabGroupId = tabGroupId;\r\n            var un = _registry.add(\"frame-attached\", function (win) {\r\n                if (win.id === id) {\r\n                    un();\r\n                    _registry.execute(\"detached\", resultWindow);\r\n                }\r\n            });\r\n        }\r\n        function handleWindowDetached(win) {\r\n            _registry.execute(\"window-detached\", win);\r\n        }\r\n        function handleZoomFactorChanged(zoomFactor) {\r\n            _zoomFactor = zoomFactor;\r\n            _registry.execute(\"zoom-factor-changed\", resultWindow);\r\n        }\r\n        function handleGroupChanged(newGroup, oldGroup) {\r\n            _logger.trace(\"handle group changed to win: \" + id + \" with group id: \" + newGroup.id);\r\n            _group = newGroup;\r\n            _groupId = newGroup.id;\r\n            _registry.execute(\"group-changed\", resultWindow, newGroup, oldGroup);\r\n        }\r\n        function handleGroupAssociation(group) {\r\n            if (group) {\r\n                _logger.trace(\"setting group to win: \" + id + \" with group id: \" + group.id);\r\n            }\r\n            _group = group;\r\n        }\r\n        function getAllTabs() {\r\n            var allWindows = windowStore.list;\r\n            if (_mode.toLowerCase() !== \"tab\") {\r\n                return [];\r\n            }\r\n            return Object.keys(allWindows).reduce(function (memo, win) {\r\n                var window = allWindows[win];\r\n                if (window\r\n                    && window.API.tabGroupId\r\n                    && typeof window.API.tabGroupId !== \"undefined\"\r\n                    && typeof resultWindow.tabGroupId !== \"undefined\"\r\n                    && window.API.tabGroupId === resultWindow.tabGroupId) {\r\n                    memo.push(window.API);\r\n                }\r\n                return memo;\r\n            }, []);\r\n        }\r\n        function mapWindowIdsToWindowObjects(windowIdArr) {\r\n            return windowIdArr.reduce(function (memo, winId) {\r\n                var window = windowStore.get(winId);\r\n                if (window) {\r\n                    memo.push(window.API);\r\n                }\r\n                return memo;\r\n            }, []);\r\n        }\r\n        function getNeighboursByDirection(direction) {\r\n            var windowIds = _neighbours[direction];\r\n            if (typeof windowIds !== \"undefined\") {\r\n                return mapWindowIdsToWindowObjects(windowIds);\r\n            }\r\n        }\r\n        function getApplicationName() {\r\n            if (_context._APPLICATION_NAME) {\r\n                return _context._APPLICATION_NAME;\r\n            }\r\n            if (_context && _context._t42 && _context._t42.application) {\r\n                return _context._t42.application;\r\n            }\r\n            var info = getWindowInfo();\r\n            if (!info) {\r\n                return undefined;\r\n            }\r\n            return info.applicationName;\r\n        }\r\n        function getWindowInfo() {\r\n            if (typeof window !== \"undefined\" && window.glue42gd && window.glue42gd.getWindowInfo) {\r\n                var info = window.glue42gd.getWindowInfo(id);\r\n                if (!info) {\r\n                    return undefined;\r\n                }\r\n                else {\r\n                    return info;\r\n                }\r\n            }\r\n        }\r\n        function areBoundsEqual(requested, current) {\r\n            var height = requested.height;\r\n            var width = requested.width;\r\n            if (requested.height < _settings.minHeight) {\r\n                height = _settings.minHeight;\r\n            }\r\n            if (requested.height > _settings.maxHeight) {\r\n                height = _settings.maxHeight;\r\n            }\r\n            if (requested.width < _settings.minWidth) {\r\n                width = _settings.minWidth;\r\n            }\r\n            if (requested.width > _settings.maxWidth) {\r\n                width = _settings.maxWidth;\r\n            }\r\n            var areHeightsEqual = height ? current.height === height : true;\r\n            var areWidthsEqual = width ? current.width === width : true;\r\n            var areLeftsEqual = requested.left ? current.left === requested.left : true;\r\n            var areTopsEqual = requested.top ? current.top === requested.top : true;\r\n            return areHeightsEqual && areWidthsEqual && areLeftsEqual && areTopsEqual;\r\n        }\r\n        resultWindow = {\r\n            get name() {\r\n                return _name;\r\n            },\r\n            get application() {\r\n                var appManager = appManagerGetter();\r\n                return appManager ? appManager.application(getApplicationName()) : undefined;\r\n            },\r\n            get hostInstance() {\r\n                return executor.hostInstance;\r\n            },\r\n            get agmInstance() {\r\n                var _this = this;\r\n                if (typeof window !== \"undefined\" && window.glue42gd) {\r\n                    return agm.servers().find(function (s) { return s.windowId === _this.id; });\r\n                }\r\n                var appName = getApplicationName();\r\n                return appName ? { application: appName } : undefined;\r\n            },\r\n            get url() {\r\n                return _url;\r\n            },\r\n            id: id,\r\n            get title() {\r\n                return _title;\r\n            },\r\n            get windowStyleAttributes() {\r\n                return _settings;\r\n            },\r\n            get settings() {\r\n                return _settings;\r\n            },\r\n            get tabGroupId() {\r\n                return _mode.toLowerCase() === \"tab\" ? _tabGroupId : undefined;\r\n            },\r\n            get frameButtons() {\r\n                return _frameButtons;\r\n            },\r\n            get mode() {\r\n                return _mode;\r\n            },\r\n            get state() {\r\n                return _windowState;\r\n            },\r\n            get isCollapsed() {\r\n                return isCollapsed;\r\n            },\r\n            get isVisible() {\r\n                return _isVisible;\r\n            },\r\n            get isLocked() {\r\n                return _isLocked;\r\n            },\r\n            get context() {\r\n                return _context;\r\n            },\r\n            get bounds() {\r\n                return _bounds;\r\n            },\r\n            get minHeight() {\r\n                return _settings.minHeight;\r\n            },\r\n            get maxHeight() {\r\n                return _settings.maxHeight;\r\n            },\r\n            get minWidth() {\r\n                return _settings.minWidth;\r\n            },\r\n            get maxWidth() {\r\n                return _settings.maxWidth;\r\n            },\r\n            get isFocused() {\r\n                return _focus;\r\n            },\r\n            get frameColor() {\r\n                return _frameColor;\r\n            },\r\n            get opened() {\r\n                return resultWindow.id !== undefined;\r\n            },\r\n            get group() {\r\n                return _group;\r\n            },\r\n            get groupId() {\r\n                return _groupId;\r\n            },\r\n            get isSticky() {\r\n                return _isSticky;\r\n            },\r\n            get topNeighbours() {\r\n                return getNeighboursByDirection(\"top\");\r\n            },\r\n            get leftNeighbours() {\r\n                return getNeighboursByDirection(\"left\");\r\n            },\r\n            get rightNeighbours() {\r\n                return getNeighboursByDirection(\"right\");\r\n            },\r\n            get bottomNeighbours() {\r\n                return getNeighboursByDirection(\"bottom\");\r\n            },\r\n            get isGroupHeaderVisible() {\r\n                return _isGroupHeaderVisible;\r\n            },\r\n            get activityId() {\r\n                if (_context._t42) {\r\n                    return _context._t42.activityId;\r\n                }\r\n                var info = getWindowInfo();\r\n                if (!info) {\r\n                    return undefined;\r\n                }\r\n                return info.activityId;\r\n            },\r\n            get activityWindowId() {\r\n                if (_context._t42) {\r\n                    return _context._t42.activityWindowId;\r\n                }\r\n                var info = getWindowInfo();\r\n                if (!info) {\r\n                    return undefined;\r\n                }\r\n                return info.activityWindowId;\r\n            },\r\n            get windowType() {\r\n                return options.windowType || \"electron\";\r\n            },\r\n            get zoomFactor() {\r\n                return _zoomFactor;\r\n            },\r\n            get screen() {\r\n                if (typeof window !== \"undefined\" && window.glue42gd) {\r\n                    return Utils$1.getMonitor(resultWindow.bounds, window.glue42gd.monitors);\r\n                }\r\n                return undefined;\r\n            },\r\n            maximize: maximize,\r\n            restore: restore,\r\n            minimize: minimize,\r\n            maximizeRestore: maximizeRestore,\r\n            collapse: collapse,\r\n            expand: expand,\r\n            toggleCollapse: toggleCollapse,\r\n            focus: focus,\r\n            activate: activate,\r\n            moveResize: moveResize,\r\n            setTitle: setTitle,\r\n            setStyle: setStyle,\r\n            setOnTop: setOnTop,\r\n            resetButtons: resetButtons,\r\n            setSizeConstraints: setSizeConstraints,\r\n            navigate: navigate,\r\n            addFrameButton: addFrameButton,\r\n            removeFrameButton: removeFrameButton,\r\n            setVisible: setVisible,\r\n            show: function () { return setVisible(true); },\r\n            hide: function () { return setVisible(false); },\r\n            center: function (screen) { return moveResize(Utils$1.getDisplayCenterOfScreen(resultWindow.bounds, screen || resultWindow.screen)); },\r\n            close: close,\r\n            snap: snap,\r\n            showLoader: showLoader,\r\n            hideLoader: hideLoader,\r\n            updateContext: updateContext,\r\n            lock: lock,\r\n            unlock: unlock,\r\n            getIcon: getIcon,\r\n            setIcon: setIcon,\r\n            setFrameColor: setFrameColor,\r\n            setTabTooltip: setTabTooltip,\r\n            attachTab: attachTab,\r\n            detachTab: detachTab,\r\n            setTabHeaderVisible: setTabHeaderVisible,\r\n            showPopup: showPopup,\r\n            createFlydown: createFlydown,\r\n            setModalState: setModalState,\r\n            setZoomFactor: setZoomFactor,\r\n            zoomIn: zoomIn,\r\n            zoomOut: zoomOut,\r\n            showDevTools: showDevTools,\r\n            capture: capture,\r\n            flash: flash,\r\n            setSticky: setSticky,\r\n            print: print,\r\n            printToPDF: printToPDF,\r\n            onClose: onClose,\r\n            onUrlChanged: onUrlChanged,\r\n            onTitleChanged: onTitleChanged,\r\n            onFrameButtonAdded: onFrameButtonAdded,\r\n            onFrameButtonRemoved: onFrameButtonRemoved,\r\n            onFrameButtonClicked: onFrameButtonClicked,\r\n            onCollapsed: onCollapsed,\r\n            onExpanded: onExpanded,\r\n            onMinimized: onMinimized,\r\n            onMaximized: onMaximized,\r\n            onNormal: onNormal,\r\n            onAttached: onAttached,\r\n            onDetached: onDetached,\r\n            onVisibilityChanged: onVisibilityChanged,\r\n            onContextUpdated: onContextUpdated,\r\n            onLockingChanged: onLockingChanged,\r\n            onBoundsChanged: onBoundsChanged,\r\n            onFrameColorChanged: onFrameColorChanged,\r\n            onFocusChanged: onFocusChanged,\r\n            onStickyChanged: onStickyChanged,\r\n            onGroupChanged: onGroupChanged,\r\n            onWindowAttached: onWindowAttached,\r\n            onWindowDetached: onWindowDetached,\r\n            onTabSelectionChanged: onTabSelectionChanged,\r\n            onTabHeaderVisibilityChanged: onTabHeaderVisibilityChanged,\r\n            onClosing: onClosing,\r\n            onRefreshing: onRefreshing,\r\n            onZoomFactorChanged: onZoomFactorChanged,\r\n            get tabs() {\r\n                return getAllTabs();\r\n            },\r\n            get isTabHeaderVisible() {\r\n                return _isTabHeaderVisible;\r\n            },\r\n            get isTabSelected() {\r\n                return _isTabSelected;\r\n            },\r\n            getURL: function () {\r\n                return Promise.resolve(_url);\r\n            },\r\n            getTitle: function () {\r\n                return Promise.resolve(_title);\r\n            },\r\n            getBounds: function () {\r\n                return Promise.resolve(_bounds);\r\n            },\r\n            getContext: function () {\r\n                return Promise.resolve(_context);\r\n            },\r\n            setContext: function (context) {\r\n                return updateContext(context);\r\n            },\r\n            resizeTo: function (width, height) {\r\n                return moveResize({ width: width, height: height });\r\n            },\r\n            moveTo: function (top, left) {\r\n                return moveResize({ top: top, left: left });\r\n            },\r\n            getParentWindow: function () {\r\n                var _a;\r\n                return __awaiter(this, void 0, void 0, function () {\r\n                    var myParentId;\r\n                    return __generator(this, function (_b) {\r\n                        myParentId = _settings.parentInstanceId;\r\n                        if (!myParentId) {\r\n                            return [2, undefined];\r\n                        }\r\n                        return [2, (_a = windowStore.list[myParentId]) === null || _a === void 0 ? void 0 : _a.API];\r\n                    });\r\n                });\r\n            },\r\n            getChildWindows: function () {\r\n                return __awaiter(this, void 0, void 0, function () {\r\n                    return __generator(this, function (_a) {\r\n                        return [2, Object.keys(windowStore.list)\r\n                                .map(function (key) { return windowStore.list[key].API; })\r\n                                .filter(function (w) {\r\n                                var parentId = w.settings.parentInstanceId;\r\n                                return parentId === id;\r\n                            })];\r\n                    });\r\n                });\r\n            }\r\n        };\r\n        var events = {\r\n            handleWindowClose: handleWindowClose,\r\n            handleWindowChangeState: handleWindowChangeState,\r\n            handleTitleChanged: handleTitleChanged,\r\n            handleVisibilityChanged: handleVisibilityChanged,\r\n            handleUrlChanged: handleUrlChanged,\r\n            handleWindowSettingsChanged: handleWindowSettingsChanged,\r\n            handleContextUpdated: handleContextUpdated,\r\n            handleFrameIsLockedChanged: handleFrameIsLockedChanged,\r\n            handleBoundsChanged: handleBoundsChanged,\r\n            handleFocusChanged: handleFocusChanged,\r\n            handleFrameButtonAdded: handleFrameButtonAdded,\r\n            handleFrameButtonRemoved: handleFrameButtonRemoved,\r\n            handleFrameButtonClicked: handleFrameButtonClicked,\r\n            handleFrameColorChanged: handleFrameColorChanged,\r\n            handleFrameAttached: handleFrameAttached,\r\n            handleFrameSelectionChanged: handleFrameSelectionChanged,\r\n            handleCompositionChanged: handleCompositionChanged,\r\n            handleGroupHeaderVisibilityChanged: handleGroupHeaderVisibilityChanged,\r\n            handleTabHeaderVisibilityChanged: handleTabHeaderVisibilityChanged,\r\n            handleGroupChanged: handleGroupChanged,\r\n            handleGroupAssociation: handleGroupAssociation,\r\n            handleAttached: handleAttached,\r\n            handleDetached: handleDetached,\r\n            handleWindowAttached: handleWindowAttached,\r\n            handleWindowDetached: handleWindowDetached,\r\n            handleZoomFactorChanged: handleZoomFactorChanged,\r\n            handleIsStickyChanged: handleIsStickyChanged,\r\n        };\r\n        return {\r\n            API: resultWindow,\r\n            Events: events,\r\n            Registry: _registry\r\n        };\r\n    });\n\n    var GDExecutor = (function () {\r\n        function GDExecutor() {\r\n            this._registry = lib$2();\r\n        }\r\n        Object.defineProperty(GDExecutor.prototype, \"hostInstance\", {\r\n            get: function () {\r\n                return this.agmTarget;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        GDExecutor.prototype.init = function (agm, instance) {\r\n            this.agm = agm;\r\n            this.agmTarget = instance;\r\n        };\r\n        GDExecutor.prototype.close = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"close\", { windowId: resultWindow.id })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.navigate = function (resultWindow, newUrl) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"navigate\", {\r\n                    windowId: resultWindow.id,\r\n                    options: {\r\n                        url: newUrl\r\n                    }\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.setStyle = function (resultWindow, style) {\r\n            var _a;\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var stylePromises, wait, toBeVisible, toolTip, maxWidth, maxHeight, minWidth, minHeight, allowClose, allowCollapse, allowLockUnlock, allowMaximize, allowMinimize;\r\n                return __generator(this, function (_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            stylePromises = [];\r\n                            wait = function (promise) { return stylePromises.push(promise); };\r\n                            if (style.focus !== undefined && !resultWindow.isFocused) {\r\n                                wait(resultWindow.focus());\r\n                            }\r\n                            if (style.hidden !== undefined) {\r\n                                toBeVisible = !style.hidden;\r\n                                wait(resultWindow.setVisible(toBeVisible));\r\n                            }\r\n                            if (style.onTop !== undefined) {\r\n                                wait(resultWindow.setOnTop(style.onTop));\r\n                            }\r\n                            if (style.tabTooltip !== undefined || style.tabToolTip !== undefined) {\r\n                                toolTip = (_a = style.tabTooltip, (_a !== null && _a !== void 0 ? _a : style.tabToolTip));\r\n                                wait(resultWindow.setTabTooltip(toolTip));\r\n                            }\r\n                            maxWidth = style.maxWidth, maxHeight = style.maxHeight, minWidth = style.minWidth, minHeight = style.minHeight, allowClose = style.allowClose, allowCollapse = style.allowCollapse, allowLockUnlock = style.allowLockUnlock, allowMaximize = style.allowMaximize, allowMinimize = style.allowMinimize;\r\n                            wait(resultWindow.setSizeConstraints({ maxWidth: maxWidth, maxHeight: maxHeight, minWidth: minWidth, minHeight: minHeight }));\r\n                            wait(resultWindow.resetButtons({ allowClose: allowClose, allowCollapse: allowCollapse, allowLockUnlock: allowLockUnlock, allowMaximize: allowMaximize, allowMinimize: allowMinimize }));\r\n                            return [4, Promise.all(stylePromises)];\r\n                        case 1:\r\n                            _b.sent();\r\n                            return [2, resultWindow];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.setSizeConstraints = function (resultWindow, constraints) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"setSizeConstraints\", {\r\n                    windowId: resultWindow.id,\r\n                    options: constraints\r\n                }).then(function () {\r\n                    resolve(resultWindow);\r\n                }).catch(reject);\r\n            });\r\n        };\r\n        GDExecutor.prototype.setTabTooltip = function (w, tabToolTip) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.execute(\"setTabTooltip\", { windowId: w.id, options: { tabToolTip: tabToolTip } })];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2, w];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.resetButtons = function (resultWindow, buttonsConfig) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"resetButtons\", {\r\n                    windowId: resultWindow.id,\r\n                    options: buttonsConfig\r\n                }).then(function () {\r\n                    resolve(resultWindow);\r\n                }).catch(reject);\r\n            });\r\n        };\r\n        GDExecutor.prototype.setOnTop = function (resultWindow, onTop) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"setOnTop\", {\r\n                    windowId: resultWindow.id,\r\n                    options: { onTop: onTop }\r\n                }).then(function () {\r\n                    resolve(resultWindow);\r\n                }).catch(reject);\r\n            });\r\n        };\r\n        GDExecutor.prototype.setTitle = function (resultWindow, newTitle) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                var options = {\r\n                    windowId: resultWindow.id,\r\n                    options: {\r\n                        title: newTitle\r\n                    }\r\n                };\r\n                _this.execute(\"setTitle\", options)\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.setSticky = function (resultWindow, isSticky) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                var options = {\r\n                    windowId: resultWindow.id,\r\n                    options: {\r\n                        isSticky: isSticky\r\n                    }\r\n                };\r\n                _this.execute(\"setSticky\", options)\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.moveResize = function (resultWindow, dimensions) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"moveResize\", {\r\n                    windowId: resultWindow.id,\r\n                    options: {\r\n                        bounds: dimensions\r\n                    }\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.addFrameButton = function (resultWindow, buttonInfo) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"addButton\", {\r\n                    windowId: resultWindow.id,\r\n                    options: buttonInfo\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.removeFrameButton = function (resultWindow, buttonId) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"removeButton\", {\r\n                    windowId: resultWindow.id,\r\n                    options: buttonId\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.activate = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"activate\", { windowId: resultWindow.id })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.focus = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"focus\", { windowId: resultWindow.id })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.maximizeRestore = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"maximizeRestore\", { windowId: resultWindow.id })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.maximize = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"maximize\", { windowId: resultWindow.id })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.restore = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"restore\", { windowId: resultWindow.id })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.minimize = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"minimize\", { windowId: resultWindow.id })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.collapse = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"collapse\", { windowId: resultWindow.id })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.expand = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"expand\", { windowId: resultWindow.id })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.toggleCollapse = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"toggleCollapse\", { windowId: resultWindow.id })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.snap = function (resultWindow, target, direction) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                var sourceWindowId = resultWindow.id;\r\n                var targetWindowId;\r\n                var errorMessage = \"Invalid target parameter - should be an object with property id or a string. Invoked for source window id:\" +\r\n                    resultWindow.id;\r\n                if (!target) {\r\n                    reject(errorMessage);\r\n                    return;\r\n                }\r\n                if (typeof target === \"string\") {\r\n                    targetWindowId = target;\r\n                }\r\n                else if (typeof target.id !== \"undefined\") {\r\n                    targetWindowId = target.id;\r\n                }\r\n                else {\r\n                    reject(errorMessage);\r\n                    return;\r\n                }\r\n                var args = {\r\n                    targetWindowId: targetWindowId\r\n                };\r\n                if (direction) {\r\n                    args.snappingEdge = direction;\r\n                }\r\n                _this.execute(\"snap\", {\r\n                    windowId: resultWindow.id,\r\n                    options: args\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.attachTab = function (resultWindow, options) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"attachTab\", {\r\n                    windowId: resultWindow.id,\r\n                    options: options\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.detachTab = function (resultWindow, options) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"detachTab\", {\r\n                    windowId: resultWindow.id,\r\n                    options: options\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.setVisible = function (resultWindow, toBeVisible) {\r\n            var _this = this;\r\n            if (toBeVisible === void 0) { toBeVisible = true; }\r\n            return new Promise(function (resolve, reject) {\r\n                var command;\r\n                if (toBeVisible) {\r\n                    command = \"show\";\r\n                }\r\n                else {\r\n                    command = \"hide\";\r\n                }\r\n                _this.execute(command, { windowId: resultWindow.id })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.showLoader = function (resultWindow, loader) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"showLoadingAnimation\", { windowId: resultWindow.id, options: loader })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.hideLoader = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"hideLoadingAnimation\", { windowId: resultWindow.id })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.updateContext = function (resultWindow, context) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"updateContext\", {\r\n                    windowId: resultWindow.id,\r\n                    context: context,\r\n                    replace: Object.keys(resultWindow.context).length > 0 ? false : true\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.lock = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"lockUnlock\", {\r\n                    windowId: resultWindow.id,\r\n                    options: {\r\n                        lock: true\r\n                    }\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.unlock = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"lockUnlock\", {\r\n                    windowId: resultWindow.id,\r\n                    options: {\r\n                        lock: false\r\n                    }\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.getIcon = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"getIcon\", {\r\n                    windowId: resultWindow.id,\r\n                    options: {}\r\n                })\r\n                    .then(function (result) {\r\n                    resolve(result.icon);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.setIcon = function (resultWindow, base64Image) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"setIcon\", {\r\n                    windowId: resultWindow.id,\r\n                    options: {\r\n                        dataURL: base64Image\r\n                    }\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.setFrameColor = function (resultWindow, frameColor) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"setFrameColor\", {\r\n                    windowId: resultWindow.id,\r\n                    options: {\r\n                        frameColor: frameColor\r\n                    }\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.setTabHeaderVisible = function (resultWindow, toBeTabHeaderVisible) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"setTabHeaderVisible\", {\r\n                    windowId: resultWindow.id,\r\n                    options: {\r\n                        toShow: toBeTabHeaderVisible\r\n                    }\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.showPopup = function (targetWindow, options) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var optionsCopy, reformatedOptions;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (!options) {\r\n                                return [2, Promise.reject(\"The options object is not valid!\")];\r\n                            }\r\n                            optionsCopy = __assign({}, options);\r\n                            if (!optionsCopy.targetLocation) {\r\n                                optionsCopy.targetLocation = \"bottom\";\r\n                            }\r\n                            reformatedOptions = __assign(__assign({}, optionsCopy), { popupBounds: optionsCopy.size, targetId: targetWindow.id, popupId: optionsCopy.windowId });\r\n                            return [4, this.execute(\"showPopupWindow\", {\r\n                                    windowId: targetWindow.id,\r\n                                    options: reformatedOptions\r\n                                })];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2, targetWindow];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.createFlydown = function (windowId, options) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var optionsCopy, fullOptions;\r\n                var _this = this;\r\n                return __generator(this, function (_a) {\r\n                    if (!options) {\r\n                        return [2, Promise.reject(\"The options object is not valid!\")];\r\n                    }\r\n                    optionsCopy = __assign({}, options);\r\n                    if (!optionsCopy.horizontalOffset) {\r\n                        optionsCopy.horizontalOffset = 0;\r\n                    }\r\n                    if (!optionsCopy.verticalOffset) {\r\n                        optionsCopy.verticalOffset = 0;\r\n                    }\r\n                    fullOptions = this.reformatFlydownOptions(windowId, optionsCopy);\r\n                    return [2, this.execute(\"setFlydownArea\", { windowId: windowId, options: fullOptions }).then(function () {\r\n                            var zoneIds = fullOptions.zones.map(function (z) { return z.id; });\r\n                            fullOptions.zones.forEach(function (z) {\r\n                                var callback = typeof (z.flydownSize) === \"function\" ?\r\n                                    z.flydownSize : function () { return z.flydownSize; };\r\n                                if (options.size instanceof Function && z.flydownSize) {\r\n                                    callback = function (data, cancel) { return __awaiter(_this, void 0, void 0, function () {\r\n                                        var result;\r\n                                        return __generator(this, function (_a) {\r\n                                            switch (_a.label) {\r\n                                                case 0:\r\n                                                    if (!(options.size instanceof Function)) return [3, 2];\r\n                                                    return [4, options.size(data, cancel)];\r\n                                                case 1:\r\n                                                    result = _a.sent();\r\n                                                    _a.label = 2;\r\n                                                case 2:\r\n                                                    if (!(z.flydownSize instanceof Function && z.flydownSize !== options.size)) return [3, 4];\r\n                                                    return [4, z.flydownSize(data, cancel)];\r\n                                                case 3: return [2, (_a.sent()) || result];\r\n                                                case 4: return [2, result || z.flydownSize];\r\n                                            }\r\n                                        });\r\n                                    }); };\r\n                                }\r\n                                _this._registry.clearKey(fullOptions.targetId + \"_\" + z.id);\r\n                                _this._registry.add(fullOptions.targetId + \"_\" + z.id, callback);\r\n                            });\r\n                            return {\r\n                                destroy: function () { return _this.clearFlydownArea(fullOptions.targetId, zoneIds); },\r\n                                options: optionsCopy\r\n                            };\r\n                        })];\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.setModalState = function (windowId, isModal) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    return [2, this.execute(\"setModalState\", { windowId: windowId, options: { isModal: isModal } })];\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.handleFlydownBoundsRequested = function (targetId, data) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var cancelCallback, callbackData, responses, defaultResponse, response, responseOptions;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            cancelCallback = function () { return data.cancel = true; };\r\n                            callbackData = {\r\n                                zoneId: data.flydownId,\r\n                                flydownWindowBounds: data.flydownWindowBounds,\r\n                                flydownWindowId: data.flydownWindowId,\r\n                            };\r\n                            return [4, Promise.all(this._registry.execute(targetId + \"_\" + data.flydownId, callbackData, cancelCallback))];\r\n                        case 1:\r\n                            responses = _a.sent();\r\n                            if (responses.length === 1) {\r\n                                defaultResponse = { height: 0, width: 0, top: 0, left: 0 };\r\n                                response = typeof (responses[0]) === \"object\" && !Array.isArray(responses[0]) ? responses[0] : defaultResponse;\r\n                                responseOptions = __assign(__assign({}, data), { flydownWindowBounds: response });\r\n                                return [2, responseOptions];\r\n                            }\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.zoomIn = function (window) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.execute(\"zoomIn\", {\r\n                                windowId: window.id,\r\n                            })];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2, window];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.zoomOut = function (window) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.execute(\"zoomOut\", {\r\n                                windowId: window.id,\r\n                            })];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2, window];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.setZoomFactor = function (window, zoomFactor) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.execute(\"setZoomFactor\", {\r\n                                windowId: window.id,\r\n                                options: {\r\n                                    zoomFactor: zoomFactor\r\n                                }\r\n                            })];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2, window];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.showDevTools = function (window) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.execute(\"showDevTools\", {\r\n                                windowId: window.id,\r\n                            })];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2, window];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.capture = function (window, options) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var base64screenshot;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.execute(\"captureScreenshot\", { windowId: window.id, options: __assign({}, options) })];\r\n                        case 1:\r\n                            base64screenshot = (_a.sent()).data;\r\n                            return [2, base64screenshot];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.captureGroup = function (windowIds, options) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var base64screenshot;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.execute(\"captureGroupScreenshot\", { windowId: windowIds[0], options: __assign({ groupWindowIds: windowIds }, options) })];\r\n                        case 1:\r\n                            base64screenshot = (_a.sent()).data;\r\n                            return [2, base64screenshot];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.flash = function (resultWindow, options) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.execute(\"flash\", { windowId: resultWindow.id, options: __assign({}, options) })];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2, resultWindow];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.configure = function (windowId, options) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    return [2, this.execute(\"configure\", { windowId: windowId, options: __assign({}, options) })];\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.print = function (resultWindow, options) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.execute(\"print\", { windowId: resultWindow.id, options: __assign({}, options) })];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2, resultWindow];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.printToPDF = function (resultWindow, options) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var filePath;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.execute(\"printToPDF\", { windowId: resultWindow.id, options: __assign({}, options) })];\r\n                        case 1:\r\n                            filePath = (_a.sent()).filePath;\r\n                            return [2, filePath];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.execute = function (command, options) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                var args = __assign(__assign({}, options), { command: command });\r\n                _this.agm\r\n                    .invoke(\"T42.Wnd.Execute\", args, _this.agmTarget)\r\n                    .then(function (i) {\r\n                    if (i.returned && i.returned.errorMsg) {\r\n                        reject(i);\r\n                    }\r\n                    else {\r\n                        resolve(i.returned);\r\n                    }\r\n                })\r\n                    .catch(function (i) {\r\n                    reject(i);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.setGroupHeaderVisible = function (windowId, toShow) {\r\n            return this.execute(\"setGroupHeaderVisibility\", {\r\n                windowId: windowId,\r\n                options: {\r\n                    toShow: toShow\r\n                }\r\n            });\r\n        };\r\n        GDExecutor.prototype.getGroupTitle = function (windowId) {\r\n            return this.execute(\"getGroupTitle\", {\r\n                windowId: windowId,\r\n                options: {}\r\n            }).then(function (r) { return r.title; });\r\n        };\r\n        GDExecutor.prototype.setGroupTitle = function (windowId, title) {\r\n            return this.execute(\"setGroupTitle\", {\r\n                windowId: windowId,\r\n                options: {\r\n                    title: title\r\n                }\r\n            });\r\n        };\r\n        GDExecutor.prototype.onClosing = function (callback, id) {\r\n            var glue42gd = typeof window !== \"undefined\" && window.glue42gd;\r\n            if (glue42gd) {\r\n                return glue42gd.addCloseHandler(callback, id);\r\n            }\r\n        };\r\n        GDExecutor.prototype.onRefreshing = function (callback, id) {\r\n            var glue42gd = typeof window !== \"undefined\" && window.glue42gd;\r\n            if (glue42gd) {\r\n                return glue42gd.addRefreshHandler(callback, id);\r\n            }\r\n        };\r\n        GDExecutor.prototype.reformatFlydownOptions = function (windowId, options) {\r\n            var assignGeneralIfUnassigned = function (zone, prop) {\r\n                if (options[prop] && (zone[prop] === undefined || zone[prop] === null)) {\r\n                    var valueFromOptions = options[prop];\r\n                    zone[prop] = valueFromOptions;\r\n                }\r\n            };\r\n            var zones = options.zones.map(function (z) {\r\n                assignGeneralIfUnassigned(z, \"windowId\");\r\n                assignGeneralIfUnassigned(z, \"targetLocation\");\r\n                if (options.size && (z.flydownSize === undefined || z.flydownSize === null)) {\r\n                    z.flydownSize = options.size;\r\n                }\r\n                z.flydownBounds = z.flydownSize;\r\n                z.flydownId = z.windowId;\r\n                if (!z.targetLocation) {\r\n                    z.targetLocation = \"bottom\";\r\n                }\r\n                return z;\r\n            });\r\n            return __assign(__assign({}, options), { zones: zones, targetId: windowId, flydownBounds: options.size, flydownActiveArea: options.activeArea });\r\n        };\r\n        GDExecutor.prototype.clearFlydownArea = function (windowId, areaIds) {\r\n            var _this = this;\r\n            return this.execute(\"clearFlydownWindowArea\", {\r\n                windowId: windowId,\r\n                options: {}\r\n            }).then(function () {\r\n                areaIds.forEach(function (id) {\r\n                    _this._registry.clearKey(windowId + \"_\" + id);\r\n                });\r\n            });\r\n        };\r\n        return GDExecutor;\r\n    }());\r\n    var executor = new GDExecutor();\n\n    function getWindowsByTabGroupId(windowId, tabGroupId) {\r\n        var windows = windowStore.list;\r\n        return Object.keys(windows).reduce(function (memo, id) {\r\n            var win = windows[id];\r\n            if (win.API.tabGroupId === tabGroupId && win.API.id !== windowId) {\r\n                memo[id] = win;\r\n            }\r\n            return memo;\r\n        }, {});\r\n    }\n\n    var GDEnvironment = (function () {\r\n        function GDEnvironment(agm, logger, appManagerGetter, instance, wndId) {\r\n            this._registry = lib$2();\r\n            this._waitTimeout = 10000;\r\n            this._agm = agm;\r\n            this._logger = logger.subLogger(\"gd-env\");\r\n            this._agmInstance = this.normalizeInstance(instance);\r\n            this._windowId = wndId;\r\n            this._appManagerGetter = appManagerGetter;\r\n        }\r\n        GDEnvironment.prototype.init = function () {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                if (typeof _this._agmInstance === \"undefined\") {\r\n                    _this._agmInstance = \"best\";\r\n                }\r\n                _this._agm.registerAsync(\"T42.Wnd.OnEventWithResponse\", function (args, caller, success, err) {\r\n                    _this.respondToEvent(args).then(success).catch(err);\r\n                });\r\n                var streamPromise = new Promise(function (streamResolve, streamReject) {\r\n                    _this._agm.subscribe(\"T42.Wnd.OnEvent\", {\r\n                        waitTimeoutMs: _this._waitTimeout,\r\n                        target: _this._agmInstance,\r\n                        onData: function (streamData) {\r\n                            _this.updateWindow(streamData.data, resolve);\r\n                        },\r\n                        onConnected: function (instance) {\r\n                            _this._agmInstance = _this.normalizeInstance(instance);\r\n                            executor.init(_this._agm, _this._agmInstance);\r\n                        }\r\n                    }).catch(function (err) {\r\n                        reject(\"Can not subscribe for stream T42.Wnd.OnEvent. Err: \" + err);\r\n                    });\r\n                });\r\n            });\r\n        };\r\n        Object.defineProperty(GDEnvironment.prototype, \"executor\", {\r\n            get: function () {\r\n                return executor;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        GDEnvironment.prototype.open = function (name, url, options, success, error) {\r\n            options = options || {};\r\n            var copyOptions = __assign({}, options);\r\n            if (name === undefined) {\r\n                error({ message: \"The name is undefined\" });\r\n                return;\r\n            }\r\n            if (copyOptions.relativeTo !== undefined && typeof copyOptions.relativeTo !== \"string\") {\r\n                copyOptions.relativeTo = copyOptions.relativeTo.id || \"\";\r\n            }\r\n            copyOptions.name = name;\r\n            copyOptions.url = url;\r\n            copyOptions.windowState = options.windowState || options.state;\r\n            delete copyOptions.state;\r\n            this._agm.invoke(\"T42.Wnd.Create\", copyOptions, this._agmInstance)\r\n                .then(function (message) {\r\n                if (message.returned !== undefined) {\r\n                    var id = message.returned.id;\r\n                    success(id);\r\n                }\r\n                else {\r\n                    error({ message: \"failed to execute T42.Wnd.Create - unknown reason\" });\r\n                }\r\n            })\r\n                .catch(error);\r\n        };\r\n        GDEnvironment.prototype.createFlydown = function (windowId, options) {\r\n            return this.executor.createFlydown(windowId, options);\r\n        };\r\n        GDEnvironment.prototype.showPopup = function (windowId, options) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var window;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            window = windowStore.get(windowId);\r\n                            return [4, this.executor.showPopup(window.API, options)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDEnvironment.prototype.tabAttached = function (callback) {\r\n            return this._registry.add(\"tab-attached\", callback);\r\n        };\r\n        GDEnvironment.prototype.tabDetached = function (callback) {\r\n            return this._registry.add(\"tab-detached\", callback);\r\n        };\r\n        GDEnvironment.prototype.onWindowFrameColorChanged = function (callback) {\r\n            return this._registry.add(\"frame-color-changed\", callback);\r\n        };\r\n        GDEnvironment.prototype.onEvent = function (callback) {\r\n            return this._registry.add(\"window-event\", callback);\r\n        };\r\n        GDEnvironment.prototype.my = function () {\r\n            return this._windowId;\r\n        };\r\n        GDEnvironment.prototype.execute = function (command, windowId, options) {\r\n            return this._agm.invoke(\"T42.Wnd.Execute\", {\r\n                command: command,\r\n                options: options,\r\n                windowId: windowId,\r\n            });\r\n        };\r\n        GDEnvironment.prototype.setGroupHeaderVisible = function (windowId, toShow) {\r\n            return this._agm.invoke(\"T42.Wnd.SetGroupHeaderVisible\", {\r\n                windowId: windowId,\r\n                toShow: toShow,\r\n            }, this._agmInstance);\r\n        };\r\n        GDEnvironment.prototype.onCompositionChanged = function (callback) {\r\n            return this._registry.add(\"composition-changed\", callback);\r\n        };\r\n        GDEnvironment.prototype.onGroupHeaderVisibilityChanged = function (callback) {\r\n            return this._registry.add(\"group-header-changed\", callback);\r\n        };\r\n        GDEnvironment.prototype.onWindowGotFocus = function (callback) {\r\n            return this._registry.add(\"got-focus\", callback);\r\n        };\r\n        GDEnvironment.prototype.onWindowLostFocus = function (callback) {\r\n            return this._registry.add(\"lost-focus\", callback);\r\n        };\r\n        GDEnvironment.prototype.normalizeInstance = function (instance) {\r\n            if (!instance) {\r\n                return undefined;\r\n            }\r\n            return {\r\n                application: instance.application,\r\n                machine: instance.machine,\r\n                user: instance.user,\r\n            };\r\n        };\r\n        GDEnvironment.prototype.respondToEvent = function (args) {\r\n            if (args.type === \"ShowFlydownBoundsRequested\") {\r\n                return this.executor.handleFlydownBoundsRequested(args.data.windowId, args.data);\r\n            }\r\n            return Promise.reject(\"There isn't a handler for \" + args.type);\r\n        };\r\n        GDEnvironment.prototype.updateWindow = function (windowInfo, readyResolve) {\r\n            var _this = this;\r\n            var extendedStreamEvent = this.getExtendedStreamEvent(windowInfo);\r\n            if (windowInfo.type === \"Snapshot\") {\r\n                var windowInfoFullInfoEvent = windowInfo;\r\n                windowInfoFullInfoEvent.windows.forEach(function (w) {\r\n                    var win = _this.createWindow(w.id, w);\r\n                    windowStore.markReadyToShow(win.API.id);\r\n                    _this._registry.execute(\"window-event\", extendedStreamEvent);\r\n                });\r\n                readyResolve(this);\r\n                return;\r\n            }\r\n            if (windowInfo.type === \"Created\") {\r\n                var windowInfoCreatedEvent = windowInfo;\r\n                var win = this.createWindow(windowInfoCreatedEvent.windowId, windowInfoCreatedEvent.data || {});\r\n                windowStore.setReadyState(win.API.id);\r\n                this._registry.execute(\"window-event\", extendedStreamEvent);\r\n                return;\r\n            }\r\n            var windowObjectAndEvents = windowStore.get(windowInfo.windowId);\r\n            if (!windowObjectAndEvents) {\r\n                this._logger.error(\"received update for unknown window. Stream:', \" + JSON.stringify(windowInfo, null, 4));\r\n                return;\r\n            }\r\n            var theWindow = windowObjectAndEvents.API;\r\n            var theWindowEvents = windowObjectAndEvents.Events;\r\n            if (windowInfo.type === \"BoundsChanged\") {\r\n                var windowInfoBoundsChangedEvent = windowInfo;\r\n                theWindowEvents.handleBoundsChanged(windowInfoBoundsChangedEvent.data);\r\n            }\r\n            if (windowInfo.type === \"UrlChanged\") {\r\n                var windowInfoUrlChangedEvent = windowInfo;\r\n                windowStore.setUrlChangedState(windowInfoUrlChangedEvent.windowId);\r\n                theWindowEvents.handleUrlChanged(windowInfoUrlChangedEvent.data);\r\n            }\r\n            if (windowInfo.type === \"TitleChanged\") {\r\n                var windowInfoTitleChanged = windowInfo;\r\n                theWindowEvents.handleTitleChanged(windowInfoTitleChanged.data);\r\n            }\r\n            if (windowInfo.type === \"IsStickyChanged\") {\r\n                var windowInfoIsStickyChangedChanged = windowInfo;\r\n                theWindowEvents.handleIsStickyChanged(windowInfoIsStickyChangedChanged.data);\r\n            }\r\n            if (windowInfo.type === \"VisibilityChanged\") {\r\n                theWindowEvents.handleVisibilityChanged(windowInfo.data);\r\n            }\r\n            if (windowInfo.type === \"ContextChanged\") {\r\n                theWindowEvents.handleContextUpdated(windowInfo.data);\r\n            }\r\n            if (windowInfo.type === \"StateChanged\") {\r\n                theWindowEvents.handleWindowChangeState(windowInfo.data);\r\n            }\r\n            if (windowInfo.type === \"FrameColorChanged\") {\r\n                theWindowEvents.handleFrameColorChanged(windowInfo.data);\r\n                this._registry.execute(\"frame-color-changed\", theWindow);\r\n            }\r\n            if (windowInfo.type === \"CompositionChanged\") {\r\n                var windowInfoCompositionChanged = windowInfo;\r\n                theWindowEvents.handleCompositionChanged(windowInfoCompositionChanged.data.neighbors, windowInfoCompositionChanged.data.groupId);\r\n                this._registry.execute(\"composition-changed\", windowInfoCompositionChanged.data);\r\n            }\r\n            if (windowInfo.type === \"GroupHeaderVisibilityChanged\") {\r\n                var info = windowInfo;\r\n                theWindowEvents.handleGroupHeaderVisibilityChanged(info.data.groupHeaderVisible);\r\n                this._registry.execute(\"group-header-changed\", info.data);\r\n            }\r\n            if (windowInfo.type === \"FocusChanged\") {\r\n                var windowInfoFocusChanged = windowInfo;\r\n                this.focusChanged(theWindowEvents, theWindow, windowInfoFocusChanged.data);\r\n            }\r\n            if (windowInfo.type === \"WindowFrameChanged\") {\r\n                theWindowEvents.handleFrameAttached(windowInfo.data.frameId, windowInfo.data.isTabHeaderVisible);\r\n                this._registry.execute(\"frame-changed\");\r\n            }\r\n            if (windowInfo.type === \"WindowFrameAdded\") {\r\n                theWindowEvents.handleAttached(windowInfo.data.frameId, windowInfo.data.isTabHeaderVisible);\r\n                var winsToBeNotified_1 = getWindowsByTabGroupId(theWindow.id, windowInfo.data.frameId);\r\n                Object.keys(winsToBeNotified_1).forEach(function (id) {\r\n                    var win = winsToBeNotified_1[id];\r\n                    win.Events.handleWindowAttached(theWindow);\r\n                });\r\n                this._registry.execute(\"tab-attached\", theWindow, windowInfo.data.frameId, windowInfo.data.isTabHeaderVisible);\r\n            }\r\n            if (windowInfo.type === \"WindowFrameRemoved\") {\r\n                var oldTabGroupId = theWindow.tabGroupId;\r\n                theWindowEvents.handleDetached(windowInfo.data.frameId);\r\n                var winsToBeNotified_2 = getWindowsByTabGroupId(theWindow.id, oldTabGroupId);\r\n                Object.keys(winsToBeNotified_2).forEach(function (id) {\r\n                    var win = winsToBeNotified_2[id];\r\n                    win.Events.handleWindowDetached(theWindow);\r\n                });\r\n                var un_1 = this._registry.add(\"frame-changed\", function () {\r\n                    un_1();\r\n                    _this._registry.execute(\"tab-detached\", theWindow, windowInfo.data.frameId, theWindow.tabGroupId);\r\n                });\r\n            }\r\n            if (windowInfo.type === \"TabHeaderVisibilityChanged\") {\r\n                theWindowEvents.handleTabHeaderVisibilityChanged(windowInfo.data.isTabHeaderVisible);\r\n            }\r\n            if (windowInfo.type === \"FrameSelectionChanged\") {\r\n                theWindowEvents.handleFrameSelectionChanged(windowInfo.data.newWindowId, windowInfo.data.prevWindowId);\r\n            }\r\n            if (windowInfo.type === \"ButtonClicked\") {\r\n                theWindowEvents.handleFrameButtonClicked(windowInfo.data);\r\n            }\r\n            if (windowInfo.type === \"ButtonAdded\") {\r\n                theWindowEvents.handleFrameButtonAdded(windowInfo.data);\r\n            }\r\n            if (windowInfo.type === \"ButtonRemoved\") {\r\n                theWindowEvents.handleFrameButtonRemoved(windowInfo.data);\r\n            }\r\n            if (windowInfo.type === \"WindowZoomFactorChanged\") {\r\n                theWindowEvents.handleZoomFactorChanged(windowInfo.data);\r\n            }\r\n            if (windowInfo.type === \"Closed\") {\r\n                windowStore.remove(windowObjectAndEvents);\r\n                theWindowEvents.handleWindowClose();\r\n            }\r\n            if (windowInfo.type === \"FrameIsLockedChanged\") {\r\n                theWindowEvents.handleFrameIsLockedChanged(windowInfo.data);\r\n            }\r\n            this._registry.execute(\"window-event\", extendedStreamEvent);\r\n        };\r\n        GDEnvironment.prototype.createWindow = function (windowId, options) {\r\n            var _a;\r\n            var wrapper = windowStore.get(windowId);\r\n            var windowObjAndEvents = windowFactory(windowId, this.mapToWindowConstructorOptions(options), executor, this._logger, this._appManagerGetter, this._agm, (_a = wrapper) === null || _a === void 0 ? void 0 : _a.Registry);\r\n            windowStore.add(windowObjAndEvents);\r\n            return windowObjAndEvents;\r\n        };\r\n        GDEnvironment.prototype.focusChanged = function (theWindowEvents, theWindow, focus) {\r\n            theWindowEvents.handleFocusChanged(focus);\r\n            if (focus) {\r\n                this._registry.execute(\"got-focus\", theWindow);\r\n            }\r\n            else {\r\n                this._registry.execute(\"lost-focus\", theWindow);\r\n            }\r\n        };\r\n        GDEnvironment.prototype.mapToWindowConstructorOptions = function (args) {\r\n            return {\r\n                name: args.name,\r\n                context: args.context,\r\n                bounds: args.bounds,\r\n                url: args.url,\r\n                title: args.title,\r\n                isVisible: args.isVisible,\r\n                focus: args.isFocused,\r\n                state: args.state,\r\n                frameColor: args.frameColor,\r\n                groupId: args.groupId,\r\n                neighbours: args.neighbors,\r\n                isFocused: args.isFocused,\r\n                isGroupHeaderVisible: args.groupHeaderVisible,\r\n                isCollapsed: args.isCollapsed,\r\n                tabGroupId: args.frameId,\r\n                mode: args.mode,\r\n                isTabHeaderVisible: args.isTabHeaderVisible,\r\n                isTabSelected: args.isActiveTab,\r\n                settings: args.settings,\r\n                windowType: args.windowType,\r\n                zoomFactor: args.zoomFactor,\r\n                isLocked: args.isLocked,\r\n            };\r\n        };\r\n        GDEnvironment.prototype.getExtendedStreamEvent = function (streamEvent) {\r\n            try {\r\n                var result = __assign({ state: streamEvent.type, windowName: windowStore.get(streamEvent.windowId).API.name }, streamEvent);\r\n                if (result.state === \"WindowFrameAdded\") {\r\n                    result.state = \"TabAttached\";\r\n                }\r\n                if (result.state === \"StateChanged\") {\r\n                    result.state = result.data.charAt(0).toUpperCase() + result.data.slice(1);\r\n                }\r\n                if (result.state === \"ButtonAdded\") {\r\n                    result.state = \"FrameButtonAdded\";\r\n                }\r\n                if (result.state === \"ButtonRemoved\") {\r\n                    result.state = \"FrameButtonRemoved\";\r\n                }\r\n                return result;\r\n            }\r\n            catch (error) {\r\n                return streamEvent;\r\n            }\r\n        };\r\n        return GDEnvironment;\r\n    }());\n\n    var envDetector = (function (agm, logger, appManagerGetter, gdMajorVersion) {\r\n        var _logger = logger;\r\n        return new Promise(function (resolve, reject) {\r\n            if (gdMajorVersion === 2) {\r\n                _logger.trace(\"running in HC\");\r\n                throw new Error(\"GD2 not supported\");\r\n            }\r\n            else if (gdMajorVersion >= 3) {\r\n                _logger.trace(\"running in GD 3\");\r\n                var gd = new GDEnvironment(agm, _logger, appManagerGetter, undefined, window.glue42gd.windowId);\r\n                gd.init()\r\n                    .then(resolve)\r\n                    .catch(reject);\r\n            }\r\n            else {\r\n                var gdPromise = new GDEnvironment(agm, _logger, appManagerGetter).init();\r\n                var wait = function (ms) { return new Promise(function (res, rej) { return setTimeout(function () { rej(\"timeout waiting for streams\"); }, ms); }); };\r\n                Promise.race([gdPromise, wait(10000)])\r\n                    .then(resolve)\r\n                    .catch(reject);\r\n            }\r\n        });\r\n    });\n\n    var groupFactory = (function (id, executor) {\r\n        var _registry = lib$2();\r\n        var _windowsId = [];\r\n        function addWindow(winId) {\r\n            if (_windowsId.indexOf(winId) === -1) {\r\n                _windowsId.push(winId);\r\n                var window_1 = windowStore.get(winId);\r\n                window_1.Events.handleGroupAssociation(groupObject);\r\n                _registry.execute(\"window-added\", groupObject, window_1.API);\r\n            }\r\n        }\r\n        function removeWindow(winId) {\r\n            var index = _windowsId.indexOf(winId);\r\n            if (index !== -1) {\r\n                _windowsId.splice(index, 1);\r\n                var window_2 = _mapToWindowObject(winId);\r\n                _registry.execute(\"window-removed\", groupObject, window_2);\r\n            }\r\n        }\r\n        function find(window, success) {\r\n            var winId;\r\n            if (typeof window === \"string\") {\r\n                winId = window;\r\n            }\r\n            else {\r\n                winId = window.id;\r\n            }\r\n            var index = _windowsId.indexOf(winId);\r\n            if (index !== -1) {\r\n                var mappedWindow = _mapToWindowObject(_windowsId[index]);\r\n                if (typeof success === \"function\") {\r\n                    success(mappedWindow);\r\n                }\r\n                return mappedWindow;\r\n            }\r\n        }\r\n        function windows(success) {\r\n            var mappedWindows = _mapToWindowObjects();\r\n            if (typeof success === \"function\") {\r\n                success(mappedWindows);\r\n            }\r\n            return mappedWindows;\r\n        }\r\n        function showHeader(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                Promise.all([\r\n                    executor.setGroupHeaderVisible(_windowsId[0], true),\r\n                    waitForHeaderVisibilityChanged()\r\n                ])\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(groupObject);\r\n                    }\r\n                    resolve(groupObject);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function hideHeader(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                Promise.all([\r\n                    executor.setGroupHeaderVisible(_windowsId[0], false),\r\n                    waitForHeaderVisibilityChanged()\r\n                ])\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(groupObject);\r\n                    }\r\n                    resolve(groupObject);\r\n                })\r\n                    .catch(function (e) {\r\n                    return;\r\n                });\r\n            });\r\n        }\r\n        function getTitle() {\r\n            return executor.getGroupTitle(_windowsId[0]);\r\n        }\r\n        function setTitle(title) {\r\n            return executor.setGroupTitle(_windowsId[0], title);\r\n        }\r\n        function capture(captureOptions) {\r\n            return executor.captureGroup(_windowsId, captureOptions);\r\n        }\r\n        function waitForHeaderVisibilityChanged() {\r\n            return new Promise(function (resolve, reject) {\r\n                var unsub = onHeaderVisibilityChanged(function (group) {\r\n                    unsub();\r\n                    resolve();\r\n                });\r\n            });\r\n        }\r\n        function execute(command, options, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.execute(command, options)\r\n                    .then(function (w) {\r\n                    if (typeof success === \"function\") {\r\n                        success(groupObject);\r\n                    }\r\n                    resolve(groupObject);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function handleGroupHeaderVisibilityChanged(windowInfo) {\r\n            _registry.execute(\"header-visibility-changed\", groupObject);\r\n        }\r\n        function _mapToWindowObjects() {\r\n            var winObjects = [];\r\n            _windowsId.forEach(function (winId) {\r\n                var windowObject = _mapToWindowObject(winId);\r\n                if (typeof windowObject !== \"undefined\") {\r\n                    winObjects.push(windowObject);\r\n                }\r\n            });\r\n            return winObjects;\r\n        }\r\n        function _mapToWindowObject(windowId) {\r\n            return windowStore.get(windowId) ? windowStore.get(windowId).API : undefined;\r\n        }\r\n        function _getGroupHeaderVisibility() {\r\n            var windowWithHiddenHeader = _mapToWindowObjects().find(function (w) { return !w.isGroupHeaderVisible; });\r\n            var _isGroupHeaderVisible = windowWithHiddenHeader === undefined;\r\n            return _isGroupHeaderVisible;\r\n        }\r\n        function onHeaderVisibilityChanged(callback) {\r\n            return _registry.add(\"header-visibility-changed\", callback);\r\n        }\r\n        function onWindowAdded(callback) {\r\n            return _registry.add(\"window-added\", callback);\r\n        }\r\n        function onWindowRemoved(callback) {\r\n            return _registry.add(\"window-removed\", callback);\r\n        }\r\n        var groupObject = {\r\n            id: id,\r\n            get windows() {\r\n                return windows();\r\n            },\r\n            find: find,\r\n            get isHeaderVisible() {\r\n                return _getGroupHeaderVisibility();\r\n            },\r\n            showHeader: showHeader,\r\n            hideHeader: hideHeader,\r\n            getTitle: getTitle,\r\n            setTitle: setTitle,\r\n            capture: capture,\r\n            maximize: function (success, error) {\r\n                return execute(\"maximize\", { groupId: id }, success);\r\n            },\r\n            restore: function (success, error) {\r\n                return execute(\"restore\", { groupId: id }, success);\r\n            },\r\n            onHeaderVisibilityChanged: onHeaderVisibilityChanged,\r\n            onWindowAdded: onWindowAdded,\r\n            onWindowRemoved: onWindowRemoved,\r\n        };\r\n        var internal = {\r\n            addWindow: addWindow,\r\n            removeWindow: removeWindow,\r\n            handleGroupHeaderVisibilityChanged: handleGroupHeaderVisibilityChanged,\r\n        };\r\n        return {\r\n            groupAPI: groupObject,\r\n            groupInternal: internal,\r\n        };\r\n    });\n\n    var groupsFactory = (function (environment, logger) {\r\n        var _logger = logger.subLogger(\"groups\");\r\n        var _registry = lib$2();\r\n        var _groups = {};\r\n        var heardForWindowsCounter = -1;\r\n        var windows = windowStore.list;\r\n        Object.keys(windows).forEach(function (k) {\r\n            addNewWindow(windows[k]);\r\n        });\r\n        environment.onCompositionChanged(function (windowInfo) {\r\n            handleCompositionChanged(windowInfo);\r\n        });\r\n        environment.onGroupHeaderVisibilityChanged(function (windowInfo) {\r\n            var windowId = windowInfo.windowId;\r\n            var group = findGroupByWindow(windowId);\r\n            if (typeof group !== \"undefined\") {\r\n                var groupEvents = _groups[group.id];\r\n                if (heardForWindowsCounter === -1) {\r\n                    heardForWindowsCounter = group.windows.length;\r\n                }\r\n                heardForWindowsCounter--;\r\n                if (heardForWindowsCounter === 0) {\r\n                    heardForWindowsCounter = -1;\r\n                    groupEvents.groupInternal.handleGroupHeaderVisibilityChanged(windowInfo);\r\n                }\r\n            }\r\n        });\r\n        windowStore.onAdded(function (win) {\r\n            addNewWindow(win);\r\n        });\r\n        windowStore.onRemoved(function (win) {\r\n            removeWindow(win);\r\n        });\r\n        function my() {\r\n            return findGroupByWindow(environment.my());\r\n        }\r\n        function list(success) {\r\n            var result = Object.keys(_groups).map(function (groupId) {\r\n                if (_groups[groupId]) {\r\n                    return _groups[groupId].groupAPI;\r\n                }\r\n            });\r\n            if (typeof success === \"function\") {\r\n                success(result);\r\n            }\r\n            return result;\r\n        }\r\n        function findGroupByWindow(winId, success) {\r\n            var windowId;\r\n            if (typeof winId === \"undefined\") {\r\n                logger.debug(\"trying to find a group by a window, but winId is undefined\");\r\n                return;\r\n            }\r\n            if (typeof winId === \"string\") {\r\n                windowId = winId;\r\n            }\r\n            else {\r\n                windowId = winId.id;\r\n            }\r\n            var groupFound;\r\n            Object.keys(_groups).forEach(function (groupId) {\r\n                var group = _groups[groupId].groupAPI;\r\n                if (group.find(windowId) !== undefined) {\r\n                    groupFound = group;\r\n                    return;\r\n                }\r\n            });\r\n            if (typeof success === \"function\") {\r\n                success(groupFound);\r\n            }\r\n            return groupFound;\r\n        }\r\n        function onWindowMoved(callback) {\r\n            return _registry.add(\"window-moved\", callback);\r\n        }\r\n        function createOrGetGroup(groupId) {\r\n            if (!_groups.hasOwnProperty(groupId)) {\r\n                var createdGroup = groupFactory(groupId, environment.executor);\r\n                _groups[groupId] = createdGroup;\r\n                return createdGroup;\r\n            }\r\n            else {\r\n                return _groups[groupId];\r\n            }\r\n        }\r\n        function deleteGroup(groupId) {\r\n            if (_groups.hasOwnProperty(groupId) && typeof _groups[groupId] !== \"undefined\") {\r\n                if (_groups[groupId].groupAPI.windows.length === 0) {\r\n                    delete _groups[groupId];\r\n                }\r\n            }\r\n        }\r\n        function addNewWindow(win) {\r\n            _logger.trace(\"Adding new window \" + win.API.id + \" to win.API.groupId \" + win.API.groupId);\r\n            var group = addWindow(win);\r\n            if (group) {\r\n                _logger.trace(\"handleGroupAssociation \" + win.API.id + \" to group.groupAPI.id \" + group.groupAPI.id);\r\n                win.Events.handleGroupAssociation(group.groupAPI);\r\n            }\r\n        }\r\n        function addWindow(win, groupId) {\r\n            var windowGroupId = groupId || win.API.groupId;\r\n            var windowId = win.API.id;\r\n            if (typeof windowGroupId === \"undefined\" || typeof windowId === \"undefined\") {\r\n                _logger.debug(\"trying to add a window without group - winId: \" + windowId);\r\n                return;\r\n            }\r\n            var group = createOrGetGroup(windowGroupId);\r\n            group.groupInternal.addWindow(windowId);\r\n            return group;\r\n        }\r\n        function removeWindow(win, groupId) {\r\n            var windowId = win.API.id;\r\n            var windowGroupId = groupId || win.API.groupId;\r\n            if (typeof windowGroupId !== \"undefined\") {\r\n                var group = _groups[windowGroupId];\r\n                group.groupInternal.removeWindow(windowId);\r\n                win.Events.handleGroupAssociation(undefined);\r\n                deleteGroup(windowGroupId);\r\n            }\r\n        }\r\n        function handleCompositionChanged(windowInfo) {\r\n            var newGroupId = windowInfo.groupId;\r\n            var windowId = windowInfo.windowId;\r\n            var oldGroup = findGroupByWindow(windowId);\r\n            var oldGroupId = oldGroup ? oldGroup.id : undefined;\r\n            _logger.trace(\"handleCompositionChanged newGroupId: \" + newGroupId + \" windowId: \" + windowId + \" oldGroup: \" + oldGroupId);\r\n            if (oldGroupId === newGroupId) {\r\n                _logger.trace(\"handleCompositionChanged newGroupId: \" + newGroupId + \" windowId: \" + windowId + \" oldGroup: \" + oldGroupId + \" are the same - returning...\");\r\n                return;\r\n            }\r\n            var win = windowStore.get(windowId) || windowStore.get(windowId);\r\n            var newGroup = addWindow(win, newGroupId);\r\n            if (oldGroup) {\r\n                removeWindow(win, oldGroupId);\r\n                _registry.execute(\"window-moved\", windowId, oldGroup, newGroupId);\r\n            }\r\n            win.Events.handleGroupChanged(newGroup.groupAPI, oldGroup);\r\n        }\r\n        var groups = {\r\n            get my() {\r\n                return my();\r\n            },\r\n            list: list,\r\n            findGroupByWindow: findGroupByWindow,\r\n        };\r\n        var events = { onWindowMoved: onWindowMoved };\r\n        return {\r\n            groupsAPI: groups,\r\n            groupsEvents: events,\r\n        };\r\n    });\n\n    var WindowsFactory = (function (agm, logger, appManagerGetter, gdMajorVersion) {\r\n        var _registry = lib$2();\r\n        var _logger = logger;\r\n        var groups;\r\n        var environment;\r\n        windowStore.init(_logger);\r\n        var isReady = new Promise(function (resolve, reject) {\r\n            envDetector(agm, _logger, appManagerGetter, gdMajorVersion)\r\n                .then(function (env) {\r\n                environment = env;\r\n                groups = groupsFactory(env, _logger);\r\n                resolve();\r\n            })\r\n                .catch(function (e) {\r\n                var err = \"Environment detector fails with: \" + e;\r\n                _logger.error(err);\r\n                reject(err);\r\n            });\r\n        });\r\n        function ready() {\r\n            return isReady;\r\n        }\r\n        function my() {\r\n            var myWindow = windowStore.getIfReady(environment.my());\r\n            return myWindow ? myWindow.API : undefined;\r\n        }\r\n        function open(name, url, options, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                var errorHandler = function (errorResponse) {\r\n                    if (typeof error === \"function\") {\r\n                        error(errorResponse);\r\n                    }\r\n                    reject(errorResponse);\r\n                };\r\n                var successHandler = function (id) {\r\n                    windowStore.waitFor(id)\r\n                        .then(function (win) {\r\n                        if (typeof success === \"function\") {\r\n                            success(win.API);\r\n                        }\r\n                        resolve(win.API);\r\n                        if (win.API.windowType === \"electron\") {\r\n                            win.Events.handleUrlChanged(win.API.url);\r\n                        }\r\n                    })\r\n                        .catch(errorHandler);\r\n                };\r\n                environment.open(name, url, options, successHandler, errorHandler);\r\n            });\r\n        }\r\n        function find(name, success, error) {\r\n            var windows = windowStore.list;\r\n            var windowsForListing = Object.keys(windows).reduce(function (memo, winId) {\r\n                var window = windows[winId];\r\n                if (window && window.API.name === name) {\r\n                    memo.push(window.API);\r\n                }\r\n                return memo;\r\n            }, []);\r\n            if (typeof success !== \"function\") {\r\n                return windowsForListing[0];\r\n            }\r\n            if (windowsForListing.length > 0) {\r\n                success(windowsForListing[0]);\r\n            }\r\n            else {\r\n                if (typeof error === \"function\") {\r\n                    error(\"There is no window with name:\" + name);\r\n                }\r\n            }\r\n        }\r\n        function findById(id, success, error) {\r\n            var windows = windowStore.list;\r\n            var windowsForListing = Object.keys(windows).reduce(function (memo, winId) {\r\n                var window = windows[winId];\r\n                if (typeof window !== \"undefined\" && window.API.id === id) {\r\n                    memo.push(window.API);\r\n                }\r\n                return memo;\r\n            }, []);\r\n            if (typeof success !== \"function\") {\r\n                return windowsForListing[0];\r\n            }\r\n            if (windowsForListing.length > 0) {\r\n                success(windowsForListing[0]);\r\n            }\r\n            else {\r\n                if (typeof error === \"function\") {\r\n                    error(\"There is no window with such id:\" + id);\r\n                }\r\n            }\r\n        }\r\n        function list(success) {\r\n            var windows = windowStore.list;\r\n            var windowsForListing = Object.keys(windows)\r\n                .map(function (k) {\r\n                return windows[k].API;\r\n            });\r\n            if (typeof success !== \"function\") {\r\n                return windowsForListing;\r\n            }\r\n            success(windowsForListing);\r\n        }\r\n        function configure(options) {\r\n            var win = my();\r\n            var winId = win ? win.id : \"\";\r\n            return executor.configure(winId, options);\r\n        }\r\n        function windowAdded(callback) {\r\n            return _registry.add(\"window-added\", callback);\r\n        }\r\n        function windowRemoved(callback) {\r\n            return _registry.add(\"window-removed\", callback);\r\n        }\r\n        function tabAttached(callback) {\r\n            return isReady.then(function () {\r\n                environment.tabAttached(callback);\r\n            });\r\n        }\r\n        function tabDetached(callback) {\r\n            return isReady.then(function () {\r\n                environment.tabDetached(callback);\r\n            });\r\n        }\r\n        function onWindowFrameColorChanged(callback) {\r\n            return isReady.then(function () {\r\n                return environment.onWindowFrameColorChanged(callback);\r\n            });\r\n        }\r\n        function onWindowGotFocus(callback) {\r\n            var unsubscribe;\r\n            isReady.then(function () {\r\n                unsubscribe = environment.onWindowGotFocus(callback);\r\n            });\r\n            return function () {\r\n                if (unsubscribe) {\r\n                    unsubscribe();\r\n                }\r\n            };\r\n        }\r\n        function onWindowLostFocus(callback) {\r\n            var unsubscribe;\r\n            isReady.then(function () {\r\n                unsubscribe = environment.onWindowLostFocus(callback);\r\n            });\r\n            return function () {\r\n                if (unsubscribe) {\r\n                    unsubscribe();\r\n                }\r\n            };\r\n        }\r\n        function onEvent(callback) {\r\n            var unsubFunc;\r\n            var unsubscribed = false;\r\n            isReady.then(function () {\r\n                if (unsubscribed) {\r\n                    return;\r\n                }\r\n                unsubFunc = environment.onEvent(callback);\r\n            });\r\n            return function () {\r\n                unsubscribed = true;\r\n                if (unsubFunc) {\r\n                    unsubFunc();\r\n                }\r\n            };\r\n        }\r\n        function createFlydown(targetId, config) {\r\n            return environment.createFlydown(targetId, config);\r\n        }\r\n        function showPopup(targetId, config) {\r\n            return environment.showPopup(targetId, config);\r\n        }\r\n        function handleWindowAdded(w) {\r\n            _registry.execute(\"window-added\", w.API);\r\n        }\r\n        function handleWindowRemoved(w) {\r\n            _registry.execute(\"window-removed\", w.API);\r\n        }\r\n        windowStore.onReadyWindow(handleWindowAdded);\r\n        windowStore.onRemoved(handleWindowRemoved);\r\n        return {\r\n            my: my,\r\n            open: open,\r\n            find: find,\r\n            findById: findById,\r\n            list: list,\r\n            ready: ready,\r\n            onWindowAdded: windowAdded,\r\n            windowAdded: windowAdded,\r\n            onWindowRemoved: windowRemoved,\r\n            windowRemoved: windowRemoved,\r\n            onTabAttached: tabAttached,\r\n            onTabDetached: tabDetached,\r\n            onWindowFrameColorChanged: onWindowFrameColorChanged,\r\n            get groups() {\r\n                return groups.groupsAPI;\r\n            },\r\n            onWindowGotFocus: onWindowGotFocus,\r\n            onWindowLostFocus: onWindowLostFocus,\r\n            onEvent: onEvent,\r\n            createFlydown: createFlydown,\r\n            showPopup: showPopup,\r\n            configure: configure\r\n        };\r\n    });\n\n    var LayoutStore = (function () {\r\n        function LayoutStore() {\r\n            this.layouts = [];\r\n        }\r\n        LayoutStore.prototype.removeWhere = function (condition) {\r\n            this.layouts = this.layouts.filter(condition);\r\n        };\r\n        LayoutStore.prototype.add = function (item) {\r\n            this.layouts.push(item);\r\n        };\r\n        Object.defineProperty(LayoutStore.prototype, \"all\", {\r\n            get: function () {\r\n                return this.layouts;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        LayoutStore.prototype.where = function (condition) {\r\n            return this.layouts.filter(condition);\r\n        };\r\n        LayoutStore.prototype.first = function (condition) {\r\n            return this.where(condition)[0];\r\n        };\r\n        return LayoutStore;\r\n    }());\r\n    var store = new LayoutStore();\n\n    function createCommonjsModule$1(fn, module) {\n    \treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n    }\n\n    // Found this seed-based random generator somewhere\n    // Based on The Central Randomizer 1.3 (C) 1997 by Paul Houle (houle@msc.cornell.edu)\n\n    var seed$1 = 1;\n\n    /**\n     * return a random number based on a seed\n     * @param seed\n     * @returns {number}\n     */\n    function getNextValue$1() {\n        seed$1 = (seed$1 * 9301 + 49297) % 233280;\n        return seed$1/(233280.0);\n    }\n\n    function setSeed$2(_seed_) {\n        seed$1 = _seed_;\n    }\n\n    var randomFromSeed$1 = {\n        nextValue: getNextValue$1,\n        seed: setSeed$2\n    };\n\n    var ORIGINAL$1 = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-';\n    var alphabet$1;\n    var previousSeed$1;\n\n    var shuffled$1;\n\n    function reset$1() {\n        shuffled$1 = false;\n    }\n\n    function setCharacters$1(_alphabet_) {\n        if (!_alphabet_) {\n            if (alphabet$1 !== ORIGINAL$1) {\n                alphabet$1 = ORIGINAL$1;\n                reset$1();\n            }\n            return;\n        }\n\n        if (_alphabet_ === alphabet$1) {\n            return;\n        }\n\n        if (_alphabet_.length !== ORIGINAL$1.length) {\n            throw new Error('Custom alphabet for shortid must be ' + ORIGINAL$1.length + ' unique characters. You submitted ' + _alphabet_.length + ' characters: ' + _alphabet_);\n        }\n\n        var unique = _alphabet_.split('').filter(function(item, ind, arr){\n           return ind !== arr.lastIndexOf(item);\n        });\n\n        if (unique.length) {\n            throw new Error('Custom alphabet for shortid must be ' + ORIGINAL$1.length + ' unique characters. These characters were not unique: ' + unique.join(', '));\n        }\n\n        alphabet$1 = _alphabet_;\n        reset$1();\n    }\n\n    function characters$1(_alphabet_) {\n        setCharacters$1(_alphabet_);\n        return alphabet$1;\n    }\n\n    function setSeed$3(seed) {\n        randomFromSeed$1.seed(seed);\n        if (previousSeed$1 !== seed) {\n            reset$1();\n            previousSeed$1 = seed;\n        }\n    }\n\n    function shuffle$1() {\n        if (!alphabet$1) {\n            setCharacters$1(ORIGINAL$1);\n        }\n\n        var sourceArray = alphabet$1.split('');\n        var targetArray = [];\n        var r = randomFromSeed$1.nextValue();\n        var characterIndex;\n\n        while (sourceArray.length > 0) {\n            r = randomFromSeed$1.nextValue();\n            characterIndex = Math.floor(r * sourceArray.length);\n            targetArray.push(sourceArray.splice(characterIndex, 1)[0]);\n        }\n        return targetArray.join('');\n    }\n\n    function getShuffled$1() {\n        if (shuffled$1) {\n            return shuffled$1;\n        }\n        shuffled$1 = shuffle$1();\n        return shuffled$1;\n    }\n\n    /**\n     * lookup shuffled letter\n     * @param index\n     * @returns {string}\n     */\n    function lookup$1(index) {\n        var alphabetShuffled = getShuffled$1();\n        return alphabetShuffled[index];\n    }\n\n    var alphabet_1$1 = {\n        characters: characters$1,\n        seed: setSeed$3,\n        lookup: lookup$1,\n        shuffled: getShuffled$1\n    };\n\n    var crypto$1 = typeof window === 'object' && (window.crypto || window.msCrypto); // IE 11 uses window.msCrypto\n\n    function randomByte$1() {\n        if (!crypto$1 || !crypto$1.getRandomValues) {\n            return Math.floor(Math.random() * 256) & 0x30;\n        }\n        var dest = new Uint8Array(1);\n        crypto$1.getRandomValues(dest);\n        return dest[0] & 0x30;\n    }\n\n    var randomByteBrowser$1 = randomByte$1;\n\n    function encode$1(lookup, number) {\n        var loopCounter = 0;\n        var done;\n\n        var str = '';\n\n        while (!done) {\n            str = str + lookup( ( (number >> (4 * loopCounter)) & 0x0f ) | randomByteBrowser$1() );\n            done = number < (Math.pow(16, loopCounter + 1 ) );\n            loopCounter++;\n        }\n        return str;\n    }\n\n    var encode_1$1 = encode$1;\n\n    /**\n     * Decode the id to get the version and worker\n     * Mainly for debugging and testing.\n     * @param id - the shortid-generated id.\n     */\n    function decode$1(id) {\n        var characters = alphabet_1$1.shuffled();\n        return {\n            version: characters.indexOf(id.substr(0, 1)) & 0x0f,\n            worker: characters.indexOf(id.substr(1, 1)) & 0x0f\n        };\n    }\n\n    var decode_1$1 = decode$1;\n\n    // Ignore all milliseconds before a certain time to reduce the size of the date entropy without sacrificing uniqueness.\n    // This number should be updated every year or so to keep the generated id short.\n    // To regenerate `new Date() - 0` and bump the version. Always bump the version!\n    var REDUCE_TIME = 1459707606518;\n\n    // don't change unless we change the algos or REDUCE_TIME\n    // must be an integer and less than 16\n    var version$1 = 6;\n\n    // Counter is used when shortid is called multiple times in one second.\n    var counter;\n\n    // Remember the last time shortid was called in case counter is needed.\n    var previousSeconds;\n\n    /**\n     * Generate unique id\n     * Returns string id\n     */\n    function build(clusterWorkerId) {\n\n        var str = '';\n\n        var seconds = Math.floor((Date.now() - REDUCE_TIME) * 0.001);\n\n        if (seconds === previousSeconds) {\n            counter++;\n        } else {\n            counter = 0;\n            previousSeconds = seconds;\n        }\n\n        str = str + encode_1$1(alphabet_1$1.lookup, version$1);\n        str = str + encode_1$1(alphabet_1$1.lookup, clusterWorkerId);\n        if (counter > 0) {\n            str = str + encode_1$1(alphabet_1$1.lookup, counter);\n        }\n        str = str + encode_1$1(alphabet_1$1.lookup, seconds);\n\n        return str;\n    }\n\n    var build_1 = build;\n\n    function isShortId$1(id) {\n        if (!id || typeof id !== 'string' || id.length < 6 ) {\n            return false;\n        }\n\n        var characters = alphabet_1$1.characters();\n        var len = id.length;\n        for(var i = 0; i < len;i++) {\n            if (characters.indexOf(id[i]) === -1) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    var isValid$1 = isShortId$1;\n\n    var lib$3 = createCommonjsModule$1(function (module) {\n\n\n\n\n\n\n\n    // if you are using cluster or multiple servers use this to make each instance\n    // has a unique value for worker\n    // Note: I don't know if this is automatically set when using third\n    // party cluster solutions such as pm2.\n    var clusterWorkerId =  0;\n\n    /**\n     * Set the seed.\n     * Highly recommended if you don't want people to try to figure out your id schema.\n     * exposed as shortid.seed(int)\n     * @param seed Integer value to seed the random alphabet.  ALWAYS USE THE SAME SEED or you might get overlaps.\n     */\n    function seed(seedValue) {\n        alphabet_1$1.seed(seedValue);\n        return module.exports;\n    }\n\n    /**\n     * Set the cluster worker or machine id\n     * exposed as shortid.worker(int)\n     * @param workerId worker must be positive integer.  Number less than 16 is recommended.\n     * returns shortid module so it can be chained.\n     */\n    function worker(workerId) {\n        clusterWorkerId = workerId;\n        return module.exports;\n    }\n\n    /**\n     *\n     * sets new characters to use in the alphabet\n     * returns the shuffled alphabet\n     */\n    function characters(newCharacters) {\n        if (newCharacters !== undefined) {\n            alphabet_1$1.characters(newCharacters);\n        }\n\n        return alphabet_1$1.shuffled();\n    }\n\n    /**\n     * Generate unique id\n     * Returns string id\n     */\n    function generate() {\n      return build_1(clusterWorkerId);\n    }\n\n    // Export all other functions as properties of the generate function\n    module.exports = generate;\n    module.exports.generate = generate;\n    module.exports.seed = seed;\n    module.exports.worker = worker;\n    module.exports.characters = characters;\n    module.exports.decode = decode_1$1;\n    module.exports.isValid = isValid$1;\n    });\n    var lib_1$1 = lib$3.generate;\n    var lib_2$1 = lib$3.seed;\n    var lib_3$1 = lib$3.worker;\n    var lib_4$1 = lib$3.characters;\n    var lib_5$1 = lib$3.decode;\n    var lib_6$1 = lib$3.isValid;\n\n    var shortid$1 = lib$3;\n\n    var SaveContextMethodName = \"T42.HC.GetSaveContext\";\r\n    var ContextProvider = (function () {\r\n        function ContextProvider(config, activitiesGetter, callbacks, logger) {\r\n            this.config = config;\r\n            this.activitiesGetter = activitiesGetter;\r\n            this.callbacks = callbacks;\r\n            this.logger = logger;\r\n            this.interop = config.agm;\r\n            this.registerRequestMethods();\r\n        }\r\n        ContextProvider.prototype.onSaveRequested = function (callback) {\r\n            return this.callbacks.add(\"saveRequested\", callback);\r\n        };\r\n        ContextProvider.prototype.isActivityOwner = function () {\r\n            if (typeof htmlContainer !== \"undefined\") {\r\n                var context_1 = htmlContainer.getContext();\r\n                return context_1 && context_1._t42 && context_1._t42.activityIsOwner;\r\n            }\r\n            var activities = this.activitiesGetter();\r\n            if (!activities) {\r\n                return false;\r\n            }\r\n            if (!activities.inActivity) {\r\n                return false;\r\n            }\r\n            var myWindow = activities.my.window;\r\n            var myActivity = activities.my.activity;\r\n            if (!myActivity && !myWindow) {\r\n                return false;\r\n            }\r\n            return myActivity.owner.id === myWindow.id;\r\n        };\r\n        ContextProvider.prototype.registerRequestMethods = function () {\r\n            var _this = this;\r\n            this.interop.register(SaveContextMethodName, function (args) {\r\n                var _a, _b, _c;\r\n                var usersCbs = _this.callbacks.execute(\"saveRequested\", args);\r\n                if (((_a = usersCbs) === null || _a === void 0 ? void 0 : _a.length) > 1) {\r\n                    _this.logger.warn(\"Multiple subscriptions for \\\"glue.layouts.onSaveRequested\\\" - only the first one will be used\");\r\n                }\r\n                var requestResult = usersCbs[0];\r\n                var autoSaveWindowContext = _this.config.autoSaveWindowContext;\r\n                if (autoSaveWindowContext) {\r\n                    return { autoSaveWindowContext: autoSaveWindowContext };\r\n                }\r\n                var result = { windowContext: (_b = requestResult) === null || _b === void 0 ? void 0 : _b.windowContext, activityContext: undefined };\r\n                if (_this.isActivityOwner()) {\r\n                    result.activityContext = (_c = requestResult) === null || _c === void 0 ? void 0 : _c.activityContext;\r\n                }\r\n                return result;\r\n            });\r\n        };\r\n        return ContextProvider;\r\n    }());\n\n    function transformACSLayout(something) {\r\n        if (!something) {\r\n            return something;\r\n        }\r\n        if (Array.isArray(something)) {\r\n            return something.map(function (item) {\r\n                return transformACSLayout(item);\r\n            });\r\n        }\r\n        if (typeof something === \"string\" || typeof something === \"number\" || typeof something === \"boolean\") {\r\n            return something;\r\n        }\r\n        var initial = {};\r\n        return Object.keys(something).reduce(function (accumulator, current) {\r\n            var value = something[current];\r\n            var convertedValue = transformACSLayout(value);\r\n            var key = current;\r\n            if (current[0].toLowerCase() !== current[0]) {\r\n                key = current[0].toLowerCase() + current.substr(1);\r\n            }\r\n            accumulator[key] = convertedValue;\r\n            return accumulator;\r\n        }, initial);\r\n    }\n\n    var LayoutImpl = (function () {\r\n        function LayoutImpl(data) {\r\n            this.name = data.name;\r\n            this.type = data.type;\r\n            this.components = data.components;\r\n            this.context = data.context;\r\n            this.metadata = data.metadata;\r\n            this.version = data.version;\r\n        }\r\n        return LayoutImpl;\r\n    }());\n\n    var LayoutsAPIImpl = (function () {\r\n        function LayoutsAPIImpl(config, stream, callbacks, logger) {\r\n            this.config = config;\r\n            this.stream = stream;\r\n            this.callbacks = callbacks;\r\n            this.appManager = config.appManager;\r\n            this.onEvent = stream.onEvent;\r\n            this.provider = new ContextProvider(config, config.activityGetter, callbacks, logger);\r\n            stream.subscribe();\r\n        }\r\n        LayoutsAPIImpl.prototype.setDefaultGlobal = function (name) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.config.agm.invoke(\"T42.ACS.SelectDefaultLayout\", { name: name })];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.clearDefaultGlobal = function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.config.agm.invoke(\"T42.ACS.DeselectDefaultLayout\")];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.getDefaultGlobal = function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var result, layout;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.config.agm.invoke(\"T42.ACS.GetDefaultLayout\")];\r\n                        case 1:\r\n                            result = _a.sent();\r\n                            layout = result.returned;\r\n                            if (!layout) {\r\n                                return [2, undefined];\r\n                            }\r\n                            if (this.isSlimMode()) {\r\n                                return [2, layout];\r\n                            }\r\n                            return [2, this.list().find(function (l) { return l.name === layout.name && l.type === \"Global\"; })];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.ready = function () {\r\n            if (this.config.mode === \"fullWaitSnapshot\") {\r\n                return this.stream.gotSnapshot;\r\n            }\r\n            return this.stream.ready;\r\n        };\r\n        LayoutsAPIImpl.prototype.save = function (layout) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.verifyNotSlimMode();\r\n                if (!layout.name) {\r\n                    throw Error(\"layout.name argument is required\");\r\n                }\r\n                if (!layout.type) {\r\n                    layout.type = \"Global\";\r\n                }\r\n                if (layout.activityId) {\r\n                    layout.type = \"Activity\";\r\n                }\r\n                if (typeof layout.ignoreHidden === \"undefined\") {\r\n                    layout.ignoreHidden = true;\r\n                }\r\n                var layoutObject = {\r\n                    name: layout.name,\r\n                    actIds: [],\r\n                    appIds: [],\r\n                    type: layout.type,\r\n                    context: layout.context,\r\n                    metadata: layout.metadata || {},\r\n                    options: { ignoreLayoutRestrictions: false },\r\n                };\r\n                if (layout.type === \"Activity\") {\r\n                    var actId = layout.activityId;\r\n                    if (!actId) {\r\n                        if (!_this.appManager.myInstance.inActivity) {\r\n                            throw new Error(\"Current application is not in activity. Can not save activity layout for it\");\r\n                        }\r\n                        actId = _this.appManager.myInstance.activityId;\r\n                    }\r\n                    layoutObject.actIds.push(actId);\r\n                    layoutObject.options = { ignoreLayoutRestrictions: true };\r\n                }\r\n                else if (layout.type === \"Global\") {\r\n                    if (_this.config.gdMajorVersion === 2) {\r\n                        var instances = _this.appManager.instances();\r\n                        if (layout.ignoreHidden) {\r\n                            instances = instances.filter(function (i) { return _this.isVisibleWindow(i); });\r\n                        }\r\n                        if (layout.ignoreMyInstance && _this.appManager.myInstance) {\r\n                            instances = instances.filter(function (i) { return i.id !== _this.appManager.myInstance.id; });\r\n                        }\r\n                        instances.reduce(function (prev, current) {\r\n                            if (!current.id) {\r\n                                return prev;\r\n                            }\r\n                            if (current.inActivity) {\r\n                                var actId = current.activityId;\r\n                                if (prev.actIds.indexOf(actId) === -1) {\r\n                                    prev.actIds.push(actId);\r\n                                }\r\n                            }\r\n                            else {\r\n                                prev.appIds.push(current.id);\r\n                            }\r\n                            return prev;\r\n                        }, layoutObject);\r\n                    }\r\n                    else {\r\n                        layoutObject.autoCollectApps = true;\r\n                    }\r\n                }\r\n                else {\r\n                    throw new Error(\"layout type \" + layout.type + \" not supported\");\r\n                }\r\n                _this.invokeMethodAndTrack(\"T42.ACS.SaveLayout\", layoutObject, resolve, reject);\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.restore = function (options) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.verifyNotSlimMode();\r\n                if (typeof options === \"undefined\") {\r\n                    throw Error(\"options argument is required\");\r\n                }\r\n                if (!options.name) {\r\n                    throw Error(\"options.name argument is required\");\r\n                }\r\n                if (!options.type) {\r\n                    options.type = \"Global\";\r\n                }\r\n                if (options.activityIdToJoin) {\r\n                    options.type = \"Activity\";\r\n                }\r\n                if (typeof options.restoreActivityOwner === \"undefined\") {\r\n                    options.restoreActivityOwner = false;\r\n                }\r\n                if (typeof options.ignoreActivityWindowTypes === \"undefined\") {\r\n                    options.ignoreActivityWindowTypes = [];\r\n                }\r\n                if (typeof options.setActivityContext === \"undefined\") {\r\n                    options.setActivityContext = true;\r\n                }\r\n                if (typeof options.closeRunningInstance === \"undefined\") {\r\n                    if (options.type === \"Global\") {\r\n                        options.closeRunningInstance = true;\r\n                    }\r\n                    else if (options.type === \"Activity\") {\r\n                        options.closeRunningInstance = false;\r\n                    }\r\n                }\r\n                if (typeof options.reuseWindows === \"undefined\") {\r\n                    options.reuseWindows = true;\r\n                }\r\n                options.context = options.context || {};\r\n                var t42 = {\r\n                    restoreOptions: {\r\n                        activityToJoin: options.activityIdToJoin,\r\n                        setActivityContext: options.setActivityContext,\r\n                        ignoreActivityWindowTypes: options.ignoreActivityWindowTypes,\r\n                        restoreActivityOwner: options.restoreActivityOwner,\r\n                        closeOldWindows: options.closeRunningInstance,\r\n                        reuseExistingWindows: options.reuseWindows\r\n                    }\r\n                };\r\n                var arg = {\r\n                    type: options.type,\r\n                    name: options.name,\r\n                    context: options.context,\r\n                    toClose: [],\r\n                    splash: options.splash\r\n                };\r\n                if (_this.config.gdMajorVersion === 2) {\r\n                    if (options.closeRunningInstance) {\r\n                        arg.toClose = _this.getInstancesToClose(options);\r\n                    }\r\n                }\r\n                if (options.timeout) {\r\n                    arg.timeout = options.timeout;\r\n                }\r\n                arg.context._t42 = t42;\r\n                _this.invokeMethodAndTrack(\"T42.ACS.RestoreLayout\", arg, resolve, reject, true);\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.remove = function (type, name) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.verifyNotSlimMode();\r\n                if (!name) {\r\n                    throw Error(\"name argument is required\");\r\n                }\r\n                if (!type) {\r\n                    throw Error(\"type argument is required\");\r\n                }\r\n                var msg = {\r\n                    type: type,\r\n                    name: name,\r\n                };\r\n                _this.invokeMethodAndTrack(\"T42.ACS.RemoveLayout\", msg, resolve, reject);\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.list = function () {\r\n            this.verifyNotSlimMode();\r\n            return store.all;\r\n        };\r\n        LayoutsAPIImpl.prototype.import = function (layouts, mode) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.verifyNotSlimMode();\r\n                var msg = {\r\n                    mode: mode || \"replace\",\r\n                    layouts: layouts\r\n                };\r\n                _this.invokeMethodAndTrack(\"T42.ACS.ImportLayouts\", msg, resolve, reject, true);\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.export = function () {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                var handleResult = function (result) {\r\n                    var layouts = _this.getObjectValues(result.Layouts).map(function (t) { return new LayoutImpl(transformACSLayout(t)); });\r\n                    resolve(layouts);\r\n                };\r\n                _this.invokeMethodAndTrack(\"T42.ACS.ExportLayouts\", {}, handleResult, reject, true);\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.rename = function (layout, newName) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.verifyNotSlimMode();\r\n                if (!layout) {\r\n                    throw Error(\"layout argument is required\");\r\n                }\r\n                if (!layout.name) {\r\n                    throw Error(\"name argument is required\");\r\n                }\r\n                if (!layout.type) {\r\n                    throw Error(\"type argument is required\");\r\n                }\r\n                var msg = { type: layout.type, oldName: layout.name, newName: newName };\r\n                _this.invokeMethodAndTrack(\"T42.ACS.RenameLayout\", msg, resolve, reject);\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.updateMetadata = function (layout) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                if (!layout) {\r\n                    throw Error(\"layout argument is required\");\r\n                }\r\n                if (!layout.name) {\r\n                    throw Error(\"name argument is required\");\r\n                }\r\n                if (!layout.type) {\r\n                    throw Error(\"type argument is required\");\r\n                }\r\n                if (!layout.metadata) {\r\n                    throw Error(\"metadata argument is required\");\r\n                }\r\n                var layoutObject = {\r\n                    name: layout.name,\r\n                    type: layout.type,\r\n                    metadata: layout.metadata\r\n                };\r\n                _this.invokeMethodAndTrack(\"T42.ACS.UpdateMetadata\", layoutObject, resolve, reject, true);\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.hibernate = function (name, options) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                if (!name) {\r\n                    return reject(\"name cannot be empty\");\r\n                }\r\n                options = options || {};\r\n                var request = {\r\n                    name: name,\r\n                    type: \"Global\",\r\n                    context: options.context || {},\r\n                    metadata: options.metadata || {},\r\n                };\r\n                _this.invokeMethodAndTrack(\"T42.ACS.HibernateLayout\", request, resolve, reject, true);\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.resume = function (name, context, options) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                if (!name) {\r\n                    return reject(\"name cannot be empty\");\r\n                }\r\n                var request = __assign({ name: name, type: \"Global\", context: context }, options);\r\n                _this.invokeMethodAndTrack(\"T42.ACS.ResumeLayout\", request, resolve, reject, true);\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.getCurrentLayout = function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var result, layout;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.config.agm.invoke(\"T42.ACS.GetCurrentLayout\", {}, \"best\", { methodResponseTimeoutMs: 120 * 1000 })];\r\n                        case 1:\r\n                            result = _a.sent();\r\n                            layout = result.returned.layout;\r\n                            if (!layout) {\r\n                                return [2, undefined];\r\n                            }\r\n                            if (!this.isSlimMode()) {\r\n                                layout = this.list().find(function (l) { return l.name === layout.name && l.type === layout.type; });\r\n                            }\r\n                            return [2, layout];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.onAdded = function (callback) {\r\n            var result = this.callbacks.add(\"added\", callback);\r\n            if (store.all.length > 0) {\r\n                store.all.forEach(function (layout) {\r\n                    try {\r\n                        callback(layout);\r\n                    }\r\n                    catch (err) { }\r\n                });\r\n            }\r\n            return result;\r\n        };\r\n        LayoutsAPIImpl.prototype.onRemoved = function (callback) {\r\n            return this.callbacks.add(\"removed\", callback);\r\n        };\r\n        LayoutsAPIImpl.prototype.onChanged = function (callback) {\r\n            return this.callbacks.add(\"changed\", callback);\r\n        };\r\n        LayoutsAPIImpl.prototype.onRestored = function (callback) {\r\n            return this.callbacks.add(\"restored\", callback);\r\n        };\r\n        LayoutsAPIImpl.prototype.onRenamed = function (callback) {\r\n            return this.callbacks.add(\"renamed\", callback);\r\n        };\r\n        LayoutsAPIImpl.prototype.onEvent = function (callback) {\r\n            return this.stream.onEvent(callback);\r\n        };\r\n        LayoutsAPIImpl.prototype.onSaveRequested = function (callback) {\r\n            return this.provider.onSaveRequested(callback);\r\n        };\r\n        LayoutsAPIImpl.prototype.updateAppContextInCurrent = function (context) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                if (context && typeof context !== \"object\") {\r\n                    reject(\"context must be an object\");\r\n                }\r\n                context = (context !== null && context !== void 0 ? context : {});\r\n                var request = {\r\n                    context: context\r\n                };\r\n                _this.invokeMethodAndTrack(\"T42.ACS.UpdateLayoutComponentContext\", request, resolve, reject, true);\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.updateDefaultContext = function (context) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                if (context && typeof context !== \"object\") {\r\n                    reject(\"context must be an object\");\r\n                }\r\n                context = (context !== null && context !== void 0 ? context : {});\r\n                var request = {\r\n                    context: context\r\n                };\r\n                _this.invokeMethodAndTrack(\"T42.ACS.UpdateDefaultContext\", request, resolve, reject, true);\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.isSlimMode = function () {\r\n            return this.config.mode === \"slim\";\r\n        };\r\n        LayoutsAPIImpl.prototype.verifyNotSlimMode = function () {\r\n            if (this.isSlimMode()) {\r\n                throw Error(\"Operation not allowed in slim mode. Run in full mode.\");\r\n            }\r\n        };\r\n        LayoutsAPIImpl.prototype.isVisibleWindow = function (instance) {\r\n            if (instance.application.type === \"exe\" || instance.application.type === \"node\") {\r\n                return true;\r\n            }\r\n            if (instance.application.type === \"activity\") {\r\n                return true;\r\n            }\r\n            if (!instance || !instance.window) {\r\n                return false;\r\n            }\r\n            return instance.window.isVisible;\r\n        };\r\n        LayoutsAPIImpl.prototype.invokeMethodAndTrack = function (methodName, args, resolve, reject, skipStreamEvent) {\r\n            var streamEventReceived = skipStreamEvent;\r\n            var agmResult;\r\n            var token = shortid$1();\r\n            args.token = token;\r\n            var handleResult = function () {\r\n                if (streamEventReceived && agmResult) {\r\n                    resolve(agmResult);\r\n                }\r\n            };\r\n            if (!skipStreamEvent) {\r\n                this.stream.waitFor(token)\r\n                    .then(function () {\r\n                    streamEventReceived = true;\r\n                    handleResult();\r\n                })\r\n                    .catch(function (err) {\r\n                    reject(err);\r\n                });\r\n            }\r\n            var responseHandler = function (result) {\r\n                if (!result.returned) {\r\n                    reject(\"No result from method \" + methodName);\r\n                }\r\n                if (result.returned.status && (result.returned.status !== \"Success\" && result.returned.status !== \"PartialSuccess\")) {\r\n                    reject(result.returned);\r\n                }\r\n                agmResult = result.returned;\r\n                handleResult();\r\n            };\r\n            this.config.agm.invoke(methodName, args, \"best\", { methodResponseTimeoutMs: 120 * 1000 })\r\n                .then(responseHandler)\r\n                .catch(function (err) { return reject(err); });\r\n        };\r\n        LayoutsAPIImpl.prototype.getInstancesToClose = function (options) {\r\n            var _this = this;\r\n            var instances = [];\r\n            var shellApp = this.appManager.applications().filter(function (a) { return a.isShell; })[0];\r\n            var shellApplicationName = shellApp ? shellApp.name : \"AppManager\";\r\n            this.appManager.instances().forEach(function (i) {\r\n                if (_this.appManager.myInstance && i.id === _this.appManager.myInstance.id) {\r\n                    return;\r\n                }\r\n                if (i.application.name === shellApplicationName) {\r\n                    return;\r\n                }\r\n                if (!_this.isVisibleWindow(i)) {\r\n                    return;\r\n                }\r\n                if (options.type === \"Activity\") {\r\n                    if (i.activityId !== options.activityIdToJoin) {\r\n                        return;\r\n                    }\r\n                }\r\n                instances.push({ application: i.application.name, instance: i.id });\r\n            });\r\n            return instances;\r\n        };\r\n        LayoutsAPIImpl.prototype.getObjectValues = function (obj) {\r\n            if (!obj) {\r\n                return [];\r\n            }\r\n            return Object.keys(obj).map(function (k) { return obj[k]; });\r\n        };\r\n        return LayoutsAPIImpl;\r\n    }());\n\n    var ACSStream = (function () {\r\n        function ACSStream(agm, callbacks) {\r\n            var _this = this;\r\n            this.agm = agm;\r\n            this.callbacks = callbacks;\r\n            this.ready = new Promise(function (resolve, reject) {\r\n                _this.resolveReady = resolve;\r\n                _this.rejectReady = reject;\r\n            });\r\n            this.gotSnapshot = new Promise(function (resolve, reject) {\r\n                _this.resolveGotSnapshot = resolve;\r\n                _this.rejectGotSnapshot = reject;\r\n            });\r\n        }\r\n        ACSStream.prototype.subscribe = function (noRetry) {\r\n            var _this = this;\r\n            var transform = function (obj) {\r\n                return _this.getObjectValues(obj).map(function (t) { return transformACSLayout(t); });\r\n            };\r\n            if (!this.checkForLayoutEventMethod()) {\r\n                if (noRetry) {\r\n                    this.resolveReady();\r\n                }\r\n                setTimeout(function () {\r\n                    _this.subscribe(true);\r\n                }, 500);\r\n            }\r\n            else {\r\n                this.agm.subscribe(\"T42.ACS.OnLayoutEvent\", { waitTimeoutMs: 10000 })\r\n                    .then(function (subs) {\r\n                    subs.onData(function (args) {\r\n                        var data = args.data;\r\n                        if (data.IsSnapshot) {\r\n                            _this.resolveGotSnapshot();\r\n                        }\r\n                        _this.addLayouts(transform(data.OnLayoutAdded));\r\n                        _this.removeLayouts(transform(data.OnLayoutRemoved));\r\n                        _this.changeLayouts(transform(data.OnLayoutChanged));\r\n                        _this.renameLayouts(transform(data.OnLayoutRenamed));\r\n                        _this.restoredLayout(transform(data.OnLayoutRestored));\r\n                        _this.callbacks.execute(\"streamEvent\", data);\r\n                    });\r\n                    subs.onFailed(function (err) {\r\n                        var msg = \"can not subscribe to T42.ACS.OnLayoutEvent \" + err;\r\n                        _this.rejectReady(msg);\r\n                        _this.rejectGotSnapshot(msg);\r\n                    });\r\n                    _this.resolveReady();\r\n                })\r\n                    .catch(function (err) {\r\n                    var msg = \"Error subscribing for T42.ACS.OnLayoutEvent stream. Err: \" + err;\r\n                    _this.rejectReady(msg);\r\n                    _this.rejectGotSnapshot(msg);\r\n                });\r\n            }\r\n        };\r\n        ACSStream.prototype.onEvent = function (callback) {\r\n            return this.callbacks.add(\"streamEvent\", callback);\r\n        };\r\n        ACSStream.prototype.waitFor = function (token, timeout) {\r\n            var _this = this;\r\n            if (!timeout) {\r\n                timeout = 10000;\r\n            }\r\n            return new Promise(function (resolve, reject) {\r\n                var done = false;\r\n                var unsubscribe = _this.onEvent(function (streamEvent) {\r\n                    if (streamEvent.Token === token) {\r\n                        done = true;\r\n                        unsubscribe();\r\n                        resolve();\r\n                    }\r\n                });\r\n                setTimeout(function () {\r\n                    if (!done) {\r\n                        reject(\"timed out\");\r\n                    }\r\n                }, timeout);\r\n            });\r\n        };\r\n        ACSStream.prototype.checkForLayoutEventMethod = function () {\r\n            try {\r\n                return this.agm\r\n                    .methods()\r\n                    .map(function (m) { return m.name; })\r\n                    .indexOf(\"T42.ACS.OnLayoutEvent\") !== -1;\r\n            }\r\n            catch (e) {\r\n                return false;\r\n            }\r\n        };\r\n        ACSStream.prototype.addLayouts = function (layoutsData) {\r\n            var _this = this;\r\n            if (!layoutsData) {\r\n                return;\r\n            }\r\n            layoutsData.forEach(function (layoutData) {\r\n                var layout = new LayoutImpl(layoutData);\r\n                store.add(layout);\r\n                _this.callbacks.execute(\"added\", layout);\r\n            });\r\n        };\r\n        ACSStream.prototype.removeLayouts = function (removedLayouts) {\r\n            var _this = this;\r\n            if (!removedLayouts) {\r\n                return;\r\n            }\r\n            removedLayouts.forEach(function (removedLayout) {\r\n                store.removeWhere(function (existingLayout) { return !_this.compareLayouts(existingLayout, removedLayout); });\r\n                _this.callbacks.execute(\"removed\", removedLayout);\r\n            });\r\n        };\r\n        ACSStream.prototype.changeLayouts = function (changedLayouts) {\r\n            var _this = this;\r\n            if (!changedLayouts) {\r\n                return;\r\n            }\r\n            changedLayouts.forEach(function (changedLayout) {\r\n                store.removeWhere(function (existingLayout) { return !_this.compareLayouts(existingLayout, changedLayout); });\r\n                store.add(new LayoutImpl(changedLayout));\r\n                _this.callbacks.execute(\"changed\", changedLayout);\r\n            });\r\n        };\r\n        ACSStream.prototype.renameLayouts = function (renamedLayouts) {\r\n            var _this = this;\r\n            if (!renamedLayouts) {\r\n                return;\r\n            }\r\n            renamedLayouts.forEach(function (renamedLayout) {\r\n                var existingLayout = store.first(function (current) { return _this.compareLayouts(current, { type: renamedLayout.type, name: renamedLayout.oldName }); });\r\n                if (!existingLayout) {\r\n                    throw Error(\"received rename event for unknown layout with type \" + renamedLayout.type + \" and name \" + renamedLayout.oldName);\r\n                }\r\n                existingLayout.name = renamedLayout.newName;\r\n                _this.callbacks.execute(\"renamed\", existingLayout);\r\n            });\r\n        };\r\n        ACSStream.prototype.compareLayouts = function (layout1, layout2) {\r\n            return layout1.name === layout2.name && layout1.type === layout2.type;\r\n        };\r\n        ACSStream.prototype.getObjectValues = function (obj) {\r\n            if (!obj) {\r\n                return [];\r\n            }\r\n            return Object.keys(obj).map(function (k) { return obj[k]; });\r\n        };\r\n        ACSStream.prototype.restoredLayout = function (restoredLayouts) {\r\n            var _this = this;\r\n            if (!restoredLayouts) {\r\n                return;\r\n            }\r\n            restoredLayouts.forEach(function (restoredLayout) {\r\n                var existingLayout = store.first(function (current) { return _this.compareLayouts(current, { type: restoredLayout.type, name: restoredLayout.name }); });\r\n                _this.callbacks.execute(\"restored\", existingLayout);\r\n            });\r\n        };\r\n        return ACSStream;\r\n    }());\n\n    function streamNull () {\r\n        return {\r\n            ready: Promise.resolve(undefined),\r\n            subscribe: function () { },\r\n            onEvent: function (callback) { return function () { }; },\r\n            waitFor: function (token, timeout) { return Promise.resolve(undefined); },\r\n            gotSnapshot: Promise.resolve(undefined),\r\n        };\r\n    }\n\n    function LayoutsFactory (config) {\r\n        if (!config.agm) {\r\n            throw Error(\"config.agm is required\");\r\n        }\r\n        if (!config.logger) {\r\n            throw Error(\"config.logger is required\");\r\n        }\r\n        config.mode = config.mode || \"slim\";\r\n        var logger = config.logger;\r\n        var callbacks = lib$2();\r\n        var acsStream;\r\n        if (config.mode === \"full\" || \"fullWaitSnapshot\") {\r\n            acsStream = new ACSStream(config.agm, callbacks);\r\n        }\r\n        else {\r\n            acsStream = streamNull();\r\n        }\r\n        return new LayoutsAPIImpl(config, acsStream, callbacks, logger);\r\n    }\n\n    var T42DisplayCommand = \"T42.Displays.Command\";\r\n    var DisplayManager = (function () {\r\n        function DisplayManager(_agm, _logger) {\r\n            var _this = this;\r\n            this._agm = _agm;\r\n            this._logger = _logger;\r\n            this.all = function () { return __awaiter(_this, void 0, void 0, function () {\r\n                var displays;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.callGD(DisplayCommand.GetAll, {})];\r\n                        case 1:\r\n                            displays = _a.sent();\r\n                            return [2, displays.map(this.decorateDisplay)];\r\n                    }\r\n                });\r\n            }); };\r\n            this.get = function (id) { return __awaiter(_this, void 0, void 0, function () {\r\n                var display;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.callGD(DisplayCommand.Get, { id: id })];\r\n                        case 1:\r\n                            display = _a.sent();\r\n                            return [2, this.decorateDisplay(display)];\r\n                    }\r\n                });\r\n            }); };\r\n            this.getPrimary = function () { return __awaiter(_this, void 0, void 0, function () {\r\n                var primary;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.all()];\r\n                        case 1:\r\n                            primary = (_a.sent()).find(function (d) { return d.isPrimary; });\r\n                            return [2, primary];\r\n                    }\r\n                });\r\n            }); };\r\n            this.capture = function (options) { return __awaiter(_this, void 0, void 0, function () {\r\n                var screenshot;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.callGD(DisplayCommand.Capture, __assign({}, options))];\r\n                        case 1:\r\n                            screenshot = _a.sent();\r\n                            return [2, screenshot];\r\n                    }\r\n                });\r\n            }); };\r\n            this.captureAll = function (options) { return __awaiter(_this, void 0, void 0, function () {\r\n                var screenshots;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.callGD(DisplayCommand.CaptureAll, __assign({}, options))];\r\n                        case 1:\r\n                            screenshots = _a.sent();\r\n                            return [2, screenshots];\r\n                    }\r\n                });\r\n            }); };\r\n            this.getMousePosition = function () { return __awaiter(_this, void 0, void 0, function () {\r\n                var point;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.callGD(DisplayCommand.GetMousePosition)];\r\n                        case 1:\r\n                            point = _a.sent();\r\n                            return [2, point];\r\n                    }\r\n                });\r\n            }); };\r\n            this.callGD = function (command, options) { return __awaiter(_this, void 0, void 0, function () {\r\n                var invocationResult;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this._agm.invoke(T42DisplayCommand, { options: __assign({}, options), command: command })];\r\n                        case 1:\r\n                            invocationResult = _a.sent();\r\n                            return [2, invocationResult.returned.data];\r\n                    }\r\n                });\r\n            }); };\r\n            this.decorateDisplay = function (original) {\r\n                return __assign(__assign({}, original), { capture: function (size) { return _this.capture({ id: original.id, size: size }); } });\r\n            };\r\n        }\r\n        return DisplayManager;\r\n    }());\r\n    var DisplayCommand;\r\n    (function (DisplayCommand) {\r\n        DisplayCommand[\"Capture\"] = \"capture\";\r\n        DisplayCommand[\"CaptureAll\"] = \"captureAll\";\r\n        DisplayCommand[\"GetAll\"] = \"getAll\";\r\n        DisplayCommand[\"Get\"] = \"get\";\r\n        DisplayCommand[\"GetMousePosition\"] = \"getMousePosition\";\r\n    })(DisplayCommand || (DisplayCommand = {}));\n\n    var interop;\r\n    var windowId;\r\n    function setupAGM(interopLib, channels) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        interop = interopLib;\r\n                        if (typeof window !== \"undefined\") {\r\n                            if (window.glue42gd) {\r\n                                windowId = window.glue42gd.windowId;\r\n                            }\r\n                        }\r\n                        if (!windowId) {\r\n                            return [2];\r\n                        }\r\n                        return [4, interop.register(\"T42.Channels.Command\", function (args) {\r\n                                var command = args.command;\r\n                                if (!command) {\r\n                                    throw new Error(\"missing command argument\");\r\n                                }\r\n                                if (command === \"join\") {\r\n                                    var id = args.channel;\r\n                                    if (!id) {\r\n                                        throw new Error(\"missing argument id\");\r\n                                    }\r\n                                    channels.joinNoSelectorSwitch(id);\r\n                                    return;\r\n                                }\r\n                                if (command === \"leave\") {\r\n                                    channels.leaveNoSelectorSwitch();\r\n                                    return;\r\n                                }\r\n                                if (command === \"get\") {\r\n                                    var id = channels.current();\r\n                                    return { id: id };\r\n                                }\r\n                                throw new Error(\"unknown command \" + command);\r\n                            })];\r\n                    case 1:\r\n                        _a.sent();\r\n                        interop.invoke(\"T42.Channels.Announce\", { swId: windowId, instance: interop.instance.instance });\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    }\r\n    function switchChannel(channel, id) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                interop.invoke(\"T42.Channels.Announce\", {\r\n                    swId: (id !== null && id !== void 0 ? id : windowId),\r\n                    command: \"switchChannel\",\r\n                    data: { newChannel: channel }\r\n                });\r\n                return [2];\r\n            });\r\n        });\r\n    }\n\n    var CONTEXT_PREFIX = \"___channel___\";\r\n    var SharedContextSubscriber = (function () {\r\n        function SharedContextSubscriber(contexts) {\r\n            this.contexts = contexts;\r\n        }\r\n        SharedContextSubscriber.prototype.subscribe = function (callback) {\r\n            this.callback = callback;\r\n        };\r\n        SharedContextSubscriber.prototype.subscribeFor = function (name, callback) {\r\n            if (!this.isChannel(name)) {\r\n                return Promise.reject(new Error(\"Channel with name: \" + name + \" doesn't exist!\"));\r\n            }\r\n            var contextName = this.createContextName(name);\r\n            return this.contexts.subscribe(contextName, function (data, _, __, ___, extraData) {\r\n                var _a;\r\n                callback(data.data, data, (_a = extraData) === null || _a === void 0 ? void 0 : _a.updaterId);\r\n            });\r\n        };\r\n        SharedContextSubscriber.prototype.switchChannel = function (name) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var contextName, _a;\r\n                var _this = this;\r\n                return __generator(this, function (_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            this.unsubscribe();\r\n                            contextName = this.createContextName(name);\r\n                            _a = this;\r\n                            return [4, this.contexts.subscribe(contextName, function (data, _, __, ___, extraData) {\r\n                                    var _a;\r\n                                    if (_this.callback) {\r\n                                        _this.callback(data.data, data, (_a = extraData) === null || _a === void 0 ? void 0 : _a.updaterId);\r\n                                    }\r\n                                })];\r\n                        case 1:\r\n                            _a.unsubscribeFunc = _b.sent();\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        SharedContextSubscriber.prototype.unsubscribe = function () {\r\n            if (this.unsubscribeFunc) {\r\n                this.unsubscribeFunc();\r\n            }\r\n        };\r\n        SharedContextSubscriber.prototype.all = function () {\r\n            var contextNames = this.contexts.all();\r\n            var channelContextNames = contextNames.filter(function (contextName) { return contextName.startsWith(CONTEXT_PREFIX); });\r\n            var channelNames = channelContextNames.map(function (channelContextName) { return channelContextName.substr(CONTEXT_PREFIX.length); });\r\n            return channelNames;\r\n        };\r\n        SharedContextSubscriber.prototype.getContextData = function (name) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                if (!_this.isChannel(name)) {\r\n                    return reject(new Error(\"A channel with name: \" + name + \" doesn't exist!\"));\r\n                }\r\n                var contextName = _this.createContextName(name);\r\n                _this.contexts.subscribe(contextName, function (data) {\r\n                    resolve(data);\r\n                }).then(function (unsubscribeFunc) { return unsubscribeFunc(); });\r\n            });\r\n        };\r\n        SharedContextSubscriber.prototype.updateChannel = function (name, data) {\r\n            var contextName = this.createContextName(name);\r\n            return this.contexts.update(contextName, data);\r\n        };\r\n        SharedContextSubscriber.prototype.updateData = function (name, data) {\r\n            var contextName = this.createContextName(name);\r\n            if (this.contexts.setPathSupported) {\r\n                var pathValues = Object.keys(data).map(function (key) {\r\n                    return {\r\n                        path: \"data.\" + key,\r\n                        value: data[key]\r\n                    };\r\n                });\r\n                return this.contexts.setPaths(contextName, pathValues);\r\n            }\r\n            else {\r\n                return this.contexts.update(contextName, { data: data });\r\n            }\r\n        };\r\n        SharedContextSubscriber.prototype.isChannel = function (name) {\r\n            return this.all().some(function (channelName) { return channelName === name; });\r\n        };\r\n        SharedContextSubscriber.prototype.createContextName = function (name) {\r\n            return CONTEXT_PREFIX + name;\r\n        };\r\n        return SharedContextSubscriber;\r\n    }());\n\n    var ChannelsImpl = (function () {\r\n        function ChannelsImpl(shared) {\r\n            this.shared = shared;\r\n            this.subsKey = \"subs\";\r\n            this.changedKey = \"changed\";\r\n            this.registry = lib$2();\r\n            this.shared.subscribe(this.handler.bind(this));\r\n        }\r\n        ChannelsImpl.prototype.subscribe = function (callback) {\r\n            if (typeof callback !== \"function\") {\r\n                throw new Error(\"Please provide the callback as a function!\");\r\n            }\r\n            return this.registry.add(this.subsKey, callback);\r\n        };\r\n        ChannelsImpl.prototype.subscribeFor = function (name, callback) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var unsubscribeFunc;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (typeof name !== \"string\") {\r\n                                throw new Error(\"Please provide the name as a string!\");\r\n                            }\r\n                            if (typeof callback !== \"function\") {\r\n                                throw new Error(\"Please provide the callback as a function!\");\r\n                            }\r\n                            return [4, this.shared.subscribeFor(name, callback)];\r\n                        case 1:\r\n                            unsubscribeFunc = _a.sent();\r\n                            return [2, unsubscribeFunc];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ChannelsImpl.prototype.publish = function (data, name) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    if (typeof data !== \"object\") {\r\n                        throw new Error(\"Please provide the data as an object!\");\r\n                    }\r\n                    if (name) {\r\n                        if (typeof name !== \"string\") {\r\n                            throw new Error(\"Please provide the name as a string!\");\r\n                        }\r\n                        if (!this.shared.isChannel(name)) {\r\n                            return [2, Promise.reject(new Error(\"A channel with name: \" + name + \" doesn't exist!\"))];\r\n                        }\r\n                        return [2, this.shared.updateData(name, data)];\r\n                    }\r\n                    if (!this.currentContext) {\r\n                        throw new Error(\"Not joined to any channel!\");\r\n                    }\r\n                    return [2, this.shared.updateData(this.currentContext, data)];\r\n                });\r\n            });\r\n        };\r\n        ChannelsImpl.prototype.all = function () {\r\n            var channelNames = this.shared.all();\r\n            return Promise.resolve(channelNames);\r\n        };\r\n        ChannelsImpl.prototype.list = function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var channelNames, channelContexts;\r\n                var _this = this;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.all()];\r\n                        case 1:\r\n                            channelNames = _a.sent();\r\n                            return [4, Promise.all(channelNames.map(function (channelName) { return _this.get(channelName); }))];\r\n                        case 2:\r\n                            channelContexts = _a.sent();\r\n                            return [2, channelContexts];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ChannelsImpl.prototype.get = function (name) {\r\n            if (typeof name !== \"string\") {\r\n                return Promise.reject(new Error(\"Please provide the channel name as a string!\"));\r\n            }\r\n            return this.shared.getContextData(name);\r\n        };\r\n        ChannelsImpl.prototype.join = function (name) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    return [2, this.joinCore(name)];\r\n                });\r\n            });\r\n        };\r\n        ChannelsImpl.prototype.joinNoSelectorSwitch = function (name) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    return [2, this.joinCore(name, false)];\r\n                });\r\n            });\r\n        };\r\n        ChannelsImpl.prototype.leave = function () {\r\n            return this.leaveCore();\r\n        };\r\n        ChannelsImpl.prototype.leaveNoSelectorSwitch = function () {\r\n            return this.leaveCore(false);\r\n        };\r\n        ChannelsImpl.prototype.current = function () {\r\n            return this.currentContext;\r\n        };\r\n        ChannelsImpl.prototype.my = function () {\r\n            return this.current();\r\n        };\r\n        ChannelsImpl.prototype.changed = function (callback) {\r\n            if (typeof callback !== \"function\") {\r\n                throw new Error(\"Please provide the callback as a function!\");\r\n            }\r\n            return this.registry.add(this.changedKey, callback);\r\n        };\r\n        ChannelsImpl.prototype.onChanged = function (callback) {\r\n            return this.changed(callback);\r\n        };\r\n        ChannelsImpl.prototype.add = function (info) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var context;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (typeof info !== \"object\") {\r\n                                throw new Error(\"Please provide the info as an object!\");\r\n                            }\r\n                            if (typeof info.name === \"undefined\") {\r\n                                throw new Error(\"info.name is missing!\");\r\n                            }\r\n                            if (typeof info.name !== \"string\") {\r\n                                throw new Error(\"Please provide the info.name as a string!\");\r\n                            }\r\n                            if (typeof info.meta === \"undefined\") {\r\n                                throw new Error(\"info.meta is missing!\");\r\n                            }\r\n                            if (typeof info.meta !== \"object\") {\r\n                                throw new Error(\"Please provide the info.meta as an object!\");\r\n                            }\r\n                            if (typeof info.meta.color === \"undefined\") {\r\n                                throw new Error(\"info.meta.color is missing!\");\r\n                            }\r\n                            if (typeof info.meta.color !== \"string\") {\r\n                                throw new Error(\"Please provide the info.meta.color as a string!\");\r\n                            }\r\n                            context = {\r\n                                name: info.name,\r\n                                meta: info.meta || {},\r\n                                data: info.data || {}\r\n                            };\r\n                            return [4, this.shared.updateChannel(info.name, context)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2, context];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ChannelsImpl.prototype.handler = function (data, context, updaterId) {\r\n            this.registry.execute(this.subsKey, data, context, updaterId);\r\n        };\r\n        ChannelsImpl.prototype.joinCore = function (name, changeSelector) {\r\n            if (changeSelector === void 0) { changeSelector = true; }\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var doesChannelExist, channelExistsPromise;\r\n                var _this = this;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (typeof name !== \"string\") {\r\n                                throw new Error(\"Please provide the channel name as a string!\");\r\n                            }\r\n                            if (name === this.currentContext) {\r\n                                return [2];\r\n                            }\r\n                            doesChannelExist = function (channelName) {\r\n                                var channelNames = _this.shared.all();\r\n                                return channelNames.includes(channelName);\r\n                            };\r\n                            if (!!doesChannelExist(name)) return [3, 2];\r\n                            channelExistsPromise = new Promise(function (resolve, reject) {\r\n                                var timeoutId;\r\n                                var intervalId = setInterval(function () {\r\n                                    if (doesChannelExist(name)) {\r\n                                        clearTimeout(timeoutId);\r\n                                        clearInterval(intervalId);\r\n                                        resolve();\r\n                                    }\r\n                                }, 100);\r\n                                timeoutId = setTimeout(function () {\r\n                                    clearInterval(intervalId);\r\n                                    return reject(new Error(\"A channel with name: \" + name + \" doesn't exist!\"));\r\n                                }, 3000);\r\n                            });\r\n                            return [4, channelExistsPromise];\r\n                        case 1:\r\n                            _a.sent();\r\n                            _a.label = 2;\r\n                        case 2:\r\n                            this.currentContext = name;\r\n                            return [4, this.shared.switchChannel(name)];\r\n                        case 3:\r\n                            _a.sent();\r\n                            if (changeSelector) {\r\n                                switchChannel(name);\r\n                            }\r\n                            this.registry.execute(this.changedKey, name);\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ChannelsImpl.prototype.leaveCore = function (changeSelector) {\r\n            if (changeSelector === void 0) { changeSelector = true; }\r\n            this.currentContext = undefined;\r\n            this.registry.execute(this.changedKey, undefined);\r\n            this.shared.unsubscribe();\r\n            if (changeSelector) {\r\n                switchChannel();\r\n            }\r\n            return Promise.resolve();\r\n        };\r\n        return ChannelsImpl;\r\n    }());\n\n    function factory(contexts, agm) {\r\n        var sharedContexts = new SharedContextSubscriber(contexts);\r\n        var channels = new ChannelsImpl(sharedContexts);\r\n        setupAGM(agm, channels);\r\n        return {\r\n            subscribe: channels.subscribe.bind(channels),\r\n            subscribeFor: channels.subscribeFor.bind(channels),\r\n            publish: channels.publish.bind(channels),\r\n            all: channels.all.bind(channels),\r\n            list: channels.list.bind(channels),\r\n            get: channels.get.bind(channels),\r\n            join: channels.join.bind(channels),\r\n            leave: channels.leave.bind(channels),\r\n            current: channels.current.bind(channels),\r\n            my: channels.my.bind(channels),\r\n            changed: channels.changed.bind(channels),\r\n            onChanged: channels.onChanged.bind(channels),\r\n            add: channels.add.bind(channels),\r\n            ready: function () { return contexts.ready(); }\r\n        };\r\n    }\n\n    var CommandMethod = \"T42.Hotkeys.Command\";\r\n    var InvokeMethod = \"T42.Hotkeys.Invoke\";\r\n    var RegisterCommand = \"register\";\r\n    var UnregisterCommand = \"unregister\";\r\n    var UnregisterAllCommand = \"unregisterAll\";\r\n    var HotkeysImpl = (function () {\r\n        function HotkeysImpl(agm) {\r\n            this.agm = agm;\r\n            this.registry = lib$2();\r\n            this.firstHotkey = true;\r\n            this.hotkeys = new Map();\r\n        }\r\n        HotkeysImpl.prototype.register = function (info, callback) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var hkToLower;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (typeof info === \"undefined\") {\r\n                                throw new Error(\"Hotkey parameter missing\");\r\n                            }\r\n                            if (typeof info === \"string\") {\r\n                                info = {\r\n                                    hotkey: info\r\n                                };\r\n                            }\r\n                            else {\r\n                                if (!info.hotkey) {\r\n                                    throw new Error(\"Info's hotkey parameter missing\");\r\n                                }\r\n                                info = {\r\n                                    hotkey: info.hotkey,\r\n                                    description: info.description\r\n                                };\r\n                            }\r\n                            hkToLower = this.formatHotkey(info.hotkey);\r\n                            if (this.hotkeys.has(hkToLower)) {\r\n                                throw new Error(\"Shortcut for \" + hkToLower + \" already registered\");\r\n                            }\r\n                            if (!this.firstHotkey) return [3, 2];\r\n                            this.firstHotkey = false;\r\n                            return [4, this.registerInvokeAGMMethod()];\r\n                        case 1:\r\n                            _a.sent();\r\n                            _a.label = 2;\r\n                        case 2:\r\n                            this.registry.add(hkToLower, callback);\r\n                            return [4, this.agm.invoke(CommandMethod, { command: RegisterCommand, hotkey: hkToLower, description: info.description })];\r\n                        case 3:\r\n                            _a.sent();\r\n                            this.hotkeys.set(hkToLower, info);\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        HotkeysImpl.prototype.unregister = function (hotkey) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var hkToLower;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (typeof hotkey === \"undefined\") {\r\n                                throw new Error(\"hotkey parameter missing\");\r\n                            }\r\n                            if (typeof hotkey !== \"string\") {\r\n                                throw new Error(\"hotkey parameter must be string\");\r\n                            }\r\n                            hkToLower = this.formatHotkey(hotkey);\r\n                            return [4, this.agm.invoke(CommandMethod, { command: UnregisterCommand, hotkey: hkToLower })];\r\n                        case 1:\r\n                            _a.sent();\r\n                            this.hotkeys.delete(hkToLower);\r\n                            this.registry.clearKey(hkToLower);\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        HotkeysImpl.prototype.unregisterAll = function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.agm.invoke(CommandMethod, { command: UnregisterAllCommand })];\r\n                        case 1:\r\n                            _a.sent();\r\n                            this.hotkeys.clear();\r\n                            this.registry.clear();\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        HotkeysImpl.prototype.isRegistered = function (hotkey) {\r\n            var hkToLower = this.formatHotkey(hotkey);\r\n            return this.hotkeys.has(hkToLower);\r\n        };\r\n        HotkeysImpl.prototype.registerInvokeAGMMethod = function () {\r\n            var _this = this;\r\n            this.agm.register(InvokeMethod, function (args) {\r\n                var hkToLower = args.key.toLowerCase();\r\n                var info = _this.hotkeys.get(hkToLower);\r\n                _this.registry.execute(hkToLower, info);\r\n            });\r\n        };\r\n        HotkeysImpl.prototype.formatHotkey = function (hotkey) {\r\n            if (hotkey) {\r\n                return hotkey.replace(/\\s/g, \"\").toLowerCase();\r\n            }\r\n        };\r\n        return HotkeysImpl;\r\n    }());\n\n    function factory$1(agm) {\r\n        var hotkeys = new HotkeysImpl(agm);\r\n        return {\r\n            register: hotkeys.register.bind(hotkeys),\r\n            unregister: hotkeys.unregister.bind(hotkeys),\r\n            unregisterAll: hotkeys.unregisterAll.bind(hotkeys),\r\n            isRegistered: hotkeys.isRegistered.bind(hotkeys),\r\n            ready: function () { return Promise.resolve(); }\r\n        };\r\n    }\n\n    var version$2 = \"5.3.2\";\n\n    var prepareConfig$1 = (function (options) {\r\n        function getLibConfig(value, defaultMode, trueMode) {\r\n            if (typeof value === \"boolean\" && !value) {\r\n                return undefined;\r\n            }\r\n            var mode = getModeAsString(value, defaultMode, trueMode);\r\n            if (typeof value === \"object\") {\r\n                value.mode = mode;\r\n                return value;\r\n            }\r\n            return {\r\n                mode: mode,\r\n            };\r\n        }\r\n        function getModeAsString(value, defaultMode, trueMode) {\r\n            if (typeof value === \"object\") {\r\n                return getModeAsString(value.mode, defaultMode, trueMode) + \"\";\r\n            }\r\n            else if (typeof value === \"undefined\") {\r\n                if (typeof defaultMode === \"boolean\" && !defaultMode) {\r\n                    return undefined;\r\n                }\r\n                else {\r\n                    return defaultMode + \"\";\r\n                }\r\n            }\r\n            else if (typeof value === \"boolean\") {\r\n                if (value) {\r\n                    return ((trueMode === undefined) ? defaultMode : trueMode) + \"\";\r\n                }\r\n                else {\r\n                    return undefined;\r\n                }\r\n            }\r\n            return value + \"\";\r\n        }\r\n        var appDefaultMode = false;\r\n        var appDefaultTrueMode = \"startOnly\";\r\n        var activitiesDefaultMode = \"trackMyTypeAndInitiatedFromMe\";\r\n        var layoutsDefaultMode = \"slim\";\r\n        return {\r\n            layouts: getLibConfig(options.layouts, layoutsDefaultMode),\r\n            activities: getLibConfig(options.activities, activitiesDefaultMode),\r\n            appManager: getLibConfig(options.appManager, appDefaultMode, appDefaultTrueMode),\r\n            windows: getLibConfig(options.windows, true),\r\n            channels: getLibConfig(options.channels || false, false),\r\n            displays: getLibConfig(options.displays, true)\r\n        };\r\n    });\n\n    var Glue42Notification = (function () {\r\n        function Glue42Notification(options) {\r\n            this.options = options;\r\n            this.callbacks = lib$2();\r\n            this.actions = options.actions;\r\n            this.body = options.body;\r\n            this.badge = options.badge;\r\n            this.data = options.data;\r\n            this.dir = options.dir;\r\n            this.icon = options.icon;\r\n            this.image = options.image;\r\n            this.lang = options.lang;\r\n            this.renotify = options.renotify;\r\n            this.requireInteraction = options.requireInteraction;\r\n            this.silent = options.silent;\r\n            this.tag = options.tag;\r\n            this.timestamp = options.timestamp;\r\n            this.title = options.title;\r\n        }\r\n        Glue42Notification.prototype.close = function () {\r\n            throw new Error(\"Method not implemented.\");\r\n        };\r\n        Glue42Notification.prototype.addEventListener = function (type, listener, options) {\r\n            this.callbacks.add(type, listener);\r\n        };\r\n        Glue42Notification.prototype.removeEventListener = function (type, listener, options) {\r\n        };\r\n        Glue42Notification.prototype.dispatchEvent = function (event) {\r\n            this.callbacks.execute(event.type, event);\r\n            return true;\r\n        };\r\n        return Glue42Notification;\r\n    }());\n\n    var STARTING_INDEX = 0;\r\n    var Notifications = (function () {\r\n        function Notifications(interop) {\r\n            this.interop = interop;\r\n            this.methodsRegistered = false;\r\n            this.methodNameRoot = \"T42.Notifications.Handler-\" + shortid$1();\r\n            this.nextId = 0;\r\n            this.notifications = {};\r\n        }\r\n        Object.defineProperty(Notifications.prototype, \"maxActions\", {\r\n            get: function () {\r\n                return 2;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Notifications.prototype.raise = function (options) {\r\n            var _a, _b;\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var bunchOfPromises, index, id, notification, validActions, index, _loop_1, this_1, _i, validActions_1, action, g42notification;\r\n                return __generator(this, function (_c) {\r\n                    switch (_c.label) {\r\n                        case 0:\r\n                            if (!options) {\r\n                                throw new Error(\"invalid options - should be an object\");\r\n                            }\r\n                            if (!options.title) {\r\n                                throw new Error(\"invalid options - should have title\");\r\n                            }\r\n                            if (!!this.methodsRegistered) return [3, 2];\r\n                            bunchOfPromises = [];\r\n                            for (index = STARTING_INDEX; index < this.maxActions; index++) {\r\n                                bunchOfPromises.push(this.interop.register(this.methodNameRoot + \"_\" + index, this.handleNotificationAction.bind(this)));\r\n                            }\r\n                            return [4, Promise.all(bunchOfPromises)];\r\n                        case 1:\r\n                            _c.sent();\r\n                            this.methodsRegistered = true;\r\n                            _c.label = 2;\r\n                        case 2:\r\n                            id = String(this.nextId++);\r\n                            notification = {\r\n                                title: options.title,\r\n                                severity: \"Medium\",\r\n                                description: options.body,\r\n                                glueRoutingDetailMethodName: this.methodNameRoot + \"_\" + STARTING_INDEX,\r\n                                actions: [],\r\n                                source: id\r\n                            };\r\n                            if (options.actions) {\r\n                                validActions = options.actions.slice(0, this.maxActions);\r\n                                index = STARTING_INDEX;\r\n                                _loop_1 = function (action) {\r\n                                    var args = {\r\n                                        g42notificationId: id,\r\n                                        g42action: action.action,\r\n                                        g42interopMethod: (_a = action.interop) === null || _a === void 0 ? void 0 : _a.method,\r\n                                        g42interopTarget: (_b = action.interop) === null || _b === void 0 ? void 0 : _b.target,\r\n                                    };\r\n                                    var parameters = Object.keys(args).map(function (key) {\r\n                                        var value = args[key];\r\n                                        return {\r\n                                            name: key,\r\n                                            value: {\r\n                                                stringValue: value\r\n                                            }\r\n                                        };\r\n                                    });\r\n                                    var glueAction = {\r\n                                        name: this_1.methodNameRoot + \"_\" + index,\r\n                                        description: action.title,\r\n                                        displayName: action.title,\r\n                                        parameters: parameters\r\n                                    };\r\n                                    notification.actions.push(glueAction);\r\n                                    index++;\r\n                                };\r\n                                this_1 = this;\r\n                                for (_i = 0, validActions_1 = validActions; _i < validActions_1.length; _i++) {\r\n                                    action = validActions_1[_i];\r\n                                    _loop_1(action);\r\n                                }\r\n                            }\r\n                            return [4, this.interop.invoke(\"T42.GNS.Publish.RaiseNotification\", { notification: notification })];\r\n                        case 3:\r\n                            _c.sent();\r\n                            g42notification = new Glue42Notification(options);\r\n                            this.notifications[id] = g42notification;\r\n                            return [2, g42notification];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Notifications.prototype.handleNotificationAction = function (args) {\r\n            if (args.g42notificationId) {\r\n                var payload_1 = args;\r\n                var id = payload_1.g42notificationId;\r\n                var notification = this.notifications[id];\r\n                if (!notification) {\r\n                    return;\r\n                }\r\n                var event_1 = new Event(\"onaction\");\r\n                event_1.action = payload_1.g42action;\r\n                if (notification.onaction) {\r\n                    notification.onaction(event_1);\r\n                }\r\n                var actionDefinition = (notification.actions || []).find(function (item) { return item.action === payload_1.g42action; });\r\n                var actionInterop = actionDefinition.interop;\r\n                if (actionInterop) {\r\n                    this.interop.invoke(actionInterop.method, actionInterop.arguments || {}, actionInterop.target || \"best\");\r\n                }\r\n                notification.dispatchEvent(event_1);\r\n            }\r\n            else if (args.notification && args.notification.source) {\r\n                var id = args.notification.source;\r\n                var notification = this.notifications[id];\r\n                if (!notification) {\r\n                    return;\r\n                }\r\n                var event_2 = new Event(\"onclick\");\r\n                if (notification.onclick) {\r\n                    notification.onclick(event_2);\r\n                }\r\n                var clickInterop = notification.options.clickInterop;\r\n                if (clickInterop) {\r\n                    this.interop.invoke(clickInterop.method, clickInterop.arguments || {}, clickInterop.target || \"best\");\r\n                }\r\n                notification.dispatchEvent(event_2);\r\n            }\r\n        };\r\n        return Notifications;\r\n    }());\n\n    var ThemesConfigurationMethodName = \"T42.Themes.Configuration\";\r\n    var ThemesImpl = (function () {\r\n        function ThemesImpl(core) {\r\n            this.core = core;\r\n            this.registry = lib$2();\r\n            this.isSubscribed = false;\r\n            this.getConfiguration();\r\n        }\r\n        ThemesImpl.prototype.list = function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.getConfiguration()];\r\n                        case 1:\r\n                            _a.sent();\r\n                            if (!this.getMethodName) {\r\n                                throw new Error(\"not supported\");\r\n                            }\r\n                            return [4, this.getAll()];\r\n                        case 2: return [2, (_a.sent()).returned.all];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ThemesImpl.prototype.getCurrent = function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var all;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.getConfiguration()];\r\n                        case 1:\r\n                            _a.sent();\r\n                            if (!this.getMethodName) {\r\n                                throw new Error(\"not supported\");\r\n                            }\r\n                            return [4, this.getAll()];\r\n                        case 2:\r\n                            all = _a.sent();\r\n                            return [2, all.returned.all.find(function (t) { return t.name === all.returned.selected; })];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ThemesImpl.prototype.select = function (theme) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.getConfiguration()];\r\n                        case 1:\r\n                            _a.sent();\r\n                            if (!this.setMethodName) {\r\n                                throw new Error(\"not supported\");\r\n                            }\r\n                            return [4, this.core.interop.invoke(this.setMethodName, { theme: theme })];\r\n                        case 2:\r\n                            _a.sent();\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ThemesImpl.prototype.onChanged = function (callback) {\r\n            this.subscribe();\r\n            return this.registry.add(\"changed\", callback);\r\n        };\r\n        ThemesImpl.prototype.getConfiguration = function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var config, error_1;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            _a.trys.push([0, 2, , 3]);\r\n                            if (this.sharedContextName) {\r\n                                return [2];\r\n                            }\r\n                            return [4, this.core.interop.invoke(ThemesConfigurationMethodName)];\r\n                        case 1:\r\n                            config = _a.sent();\r\n                            this.sharedContextName = config.returned.sharedContextName;\r\n                            this.getMethodName = config.returned.getThemesMethodName;\r\n                            this.setMethodName = config.returned.setThemesMethodName;\r\n                            return [3, 3];\r\n                        case 2:\r\n                            error_1 = _a.sent();\r\n                            return [2];\r\n                        case 3: return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ThemesImpl.prototype.getAll = function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.getConfiguration()];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [4, this.core.interop.invoke(this.getMethodName)];\r\n                        case 2: return [2, _a.sent()];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ThemesImpl.prototype.subscribe = function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var _this = this;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.getConfiguration()];\r\n                        case 1:\r\n                            _a.sent();\r\n                            if (this.isSubscribed) {\r\n                                return [2];\r\n                            }\r\n                            this.isSubscribed = true;\r\n                            this.core.contexts.subscribe(this.sharedContextName, function (data) {\r\n                                if (data && data.all && data.selected) {\r\n                                    _this.registry.execute(\"changed\", data.all.find(function (t) { return t.name === data.selected; }));\r\n                                }\r\n                            });\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        return ThemesImpl;\r\n    }());\n\n    function factory$2(core) {\r\n        var themes = new ThemesImpl(core);\r\n        return {\r\n            list: themes.list.bind(themes),\r\n            getCurrent: themes.getCurrent.bind(themes),\r\n            select: themes.select.bind(themes),\r\n            onChanged: themes.onChanged.bind(themes),\r\n            ready: function () { return Promise.resolve(); },\r\n        };\r\n    }\n\n    var GLUE42_FDC3_INTENTS_METHOD_PREFIX = \"Tick42.FDC3.Intents.\";\r\n    var Intents = (function () {\r\n        function Intents(interop, windows, logger) {\r\n            this.interop = interop;\r\n            this.windows = windows;\r\n            this.logger = logger;\r\n        }\r\n        Intents.prototype.find = function (intentFilter) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var intents, ctToLower_1;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.all()];\r\n                        case 1:\r\n                            intents = _a.sent();\r\n                            if (typeof intentFilter === \"undefined\") {\r\n                                return [2, intents];\r\n                            }\r\n                            if (typeof intentFilter === \"string\") {\r\n                                return [2, intents.filter(function (intent) { return intent.name === intentFilter; })];\r\n                            }\r\n                            if (typeof intentFilter !== \"object\") {\r\n                                throw new Error(\"Please provide the intentFilter as a string or an object!\");\r\n                            }\r\n                            if (intentFilter.contextType) {\r\n                                ctToLower_1 = intentFilter.contextType.toLowerCase();\r\n                                intents = intents.filter(function (intent) { return intent.handlers.some(function (handler) { var _a; return (_a = handler.contextTypes) === null || _a === void 0 ? void 0 : _a.some(function (ct) { return ct.toLowerCase() === ctToLower_1; }); }); });\r\n                            }\r\n                            if (intentFilter.name) {\r\n                                intents = intents.filter(function (intent) { return intent.name === intentFilter.name; });\r\n                            }\r\n                            return [2, intents];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Intents.prototype.raise = function (intent) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var intentName, intentDef, isDynamicIntent, target, handler, anAppHandler, anInstanceHandler, instanceId, result;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if ((typeof intent !== \"string\" && typeof intent !== \"object\") || (typeof intent === \"object\" && typeof intent.intent !== \"string\")) {\r\n                                throw new Error(\"Please provide the intent as a string or an object with an intent property!\");\r\n                            }\r\n                            if (typeof intent === \"string\") {\r\n                                intent = {\r\n                                    intent: intent\r\n                                };\r\n                            }\r\n                            intentName = intent.intent;\r\n                            return [4, this.get(intentName)];\r\n                        case 1:\r\n                            intentDef = _a.sent();\r\n                            if (typeof intentDef === \"undefined\") {\r\n                                throw new Error(\"Intent \" + intentName + \" not found.\");\r\n                            }\r\n                            isDynamicIntent = !intentDef.handlers.some(function (intentDefHandler) { return intentDefHandler.type === \"app\"; });\r\n                            target = intent.target || (isDynamicIntent ? \"reuse\" : \"startNew\");\r\n                            anAppHandler = intentDef.handlers.find(function (intentHandler) { return intentHandler.type === \"app\"; });\r\n                            if (target === \"startNew\") {\r\n                                handler = anAppHandler;\r\n                            }\r\n                            else if (target === \"reuse\") {\r\n                                anInstanceHandler = intentDef.handlers.find(function (intentHandler) { return intentHandler.type === \"instance\"; });\r\n                                handler = anInstanceHandler || anAppHandler;\r\n                            }\r\n                            else if (target.instance) {\r\n                                handler = intentDef.handlers.find(function (intentHandler) { return intentHandler.type === \"instance\" && intentHandler.instanceId === target.instance; });\r\n                            }\r\n                            else if (target.app) {\r\n                                handler = intentDef.handlers.find(function (intentHandler) { return intentHandler.type === \"app\" && intentHandler.applicationName === target.app; });\r\n                            }\r\n                            else {\r\n                                throw new Error(\"Invalid intent target: \" + JSON.stringify(target));\r\n                            }\r\n                            if (!handler) {\r\n                                throw new Error(\"Can not raise intent for request \" + JSON.stringify(intent) + \" - can not find intent handler.\");\r\n                            }\r\n                            instanceId = handler.instanceId;\r\n                            if (!(handler.type === \"app\")) return [3, 3];\r\n                            return [4, this.startApp(handler.applicationName, intent.options)];\r\n                        case 2:\r\n                            instanceId = _a.sent();\r\n                            _a.label = 3;\r\n                        case 3: return [4, this.raiseIntentToInstance(instanceId, intentName, intent.context)];\r\n                        case 4:\r\n                            result = _a.sent();\r\n                            result.request = intent;\r\n                            result.handler = handler;\r\n                            return [2, result];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Intents.prototype.all = function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var result, apps_1, intents_1, appsWithIntents, _i, appsWithIntents_1, app, _a, _b, intentDef, intent, handler, _loop_1, _c, _d, server, e_1;\r\n                var _this = this;\r\n                return __generator(this, function (_e) {\r\n                    switch (_e.label) {\r\n                        case 0:\r\n                            _e.trys.push([0, 6, , 7]);\r\n                            return [4, this.interop.invoke(\"T42.ACS.GetApplications\", { withIntentsInfo: true })];\r\n                        case 1:\r\n                            result = _e.sent();\r\n                            apps_1 = result.returned.applications;\r\n                            intents_1 = {};\r\n                            appsWithIntents = apps_1.filter(function (app) { return app.intents && app.intents.length > 0; });\r\n                            for (_i = 0, appsWithIntents_1 = appsWithIntents; _i < appsWithIntents_1.length; _i++) {\r\n                                app = appsWithIntents_1[_i];\r\n                                for (_a = 0, _b = app.intents; _a < _b.length; _a++) {\r\n                                    intentDef = _b[_a];\r\n                                    intent = intents_1[intentDef.name];\r\n                                    if (!intent) {\r\n                                        intent = {\r\n                                            name: intentDef.name,\r\n                                            handlers: [],\r\n                                        };\r\n                                        intents_1[intentDef.name] = intent;\r\n                                    }\r\n                                    handler = {\r\n                                        applicationName: app.name,\r\n                                        applicationTitle: app.title,\r\n                                        applicationDescription: app.caption,\r\n                                        displayName: intentDef.displayName,\r\n                                        contextTypes: intentDef.contexts,\r\n                                        applicationIcon: app.icon,\r\n                                        type: \"app\"\r\n                                    };\r\n                                    intent.handlers.push(handler);\r\n                                }\r\n                            }\r\n                            _loop_1 = function (server) {\r\n                                return __generator(this, function (_a) {\r\n                                    switch (_a.label) {\r\n                                        case 0: return [4, Promise.all(server.getMethods()\r\n                                                .filter(function (method) { return method.name.startsWith(GLUE42_FDC3_INTENTS_METHOD_PREFIX); })\r\n                                                .map(function (method) { return __awaiter(_this, void 0, void 0, function () {\r\n                                                var intentName, intent, info, app, appIntent, window, title, handler;\r\n                                                var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\r\n                                                return __generator(this, function (_l) {\r\n                                                    switch (_l.label) {\r\n                                                        case 0:\r\n                                                            intentName = method.name.replace(GLUE42_FDC3_INTENTS_METHOD_PREFIX, \"\");\r\n                                                            intent = intents_1[intentName];\r\n                                                            if (!intent) {\r\n                                                                intent = {\r\n                                                                    name: intentName,\r\n                                                                    handlers: [],\r\n                                                                };\r\n                                                                intents_1[intentName] = intent;\r\n                                                            }\r\n                                                            if (method.description) {\r\n                                                                try {\r\n                                                                    info = JSON.parse(method.description);\r\n                                                                }\r\n                                                                catch (_m) { }\r\n                                                            }\r\n                                                            app = apps_1.find(function (appWithIntents) { return appWithIntents.name === server.application; });\r\n                                                            if (app && app.intents) {\r\n                                                                appIntent = app.intents.find(function (appDefIntent) { return appDefIntent.name === intentName; });\r\n                                                            }\r\n                                                            window = this.windows.findById(server.windowId);\r\n                                                            return [4, ((_a = window) === null || _a === void 0 ? void 0 : _a.getTitle())];\r\n                                                        case 1:\r\n                                                            title = _l.sent();\r\n                                                            handler = {\r\n                                                                instanceId: server.instance,\r\n                                                                applicationName: server.application,\r\n                                                                applicationIcon: ((_b = info) === null || _b === void 0 ? void 0 : _b.icon) || ((_c = app) === null || _c === void 0 ? void 0 : _c.icon),\r\n                                                                applicationTitle: (_d = app) === null || _d === void 0 ? void 0 : _d.title,\r\n                                                                applicationDescription: ((_e = info) === null || _e === void 0 ? void 0 : _e.description) || ((_f = app) === null || _f === void 0 ? void 0 : _f.caption),\r\n                                                                displayName: ((_g = info) === null || _g === void 0 ? void 0 : _g.displayName) || ((_h = appIntent) === null || _h === void 0 ? void 0 : _h.displayName),\r\n                                                                contextTypes: ((_j = info) === null || _j === void 0 ? void 0 : _j.contextTypes) || ((_k = appIntent) === null || _k === void 0 ? void 0 : _k.contexts),\r\n                                                                instanceTitle: title,\r\n                                                                type: \"instance\"\r\n                                                            };\r\n                                                            intent.handlers.push(handler);\r\n                                                            return [2];\r\n                                                    }\r\n                                                });\r\n                                            }); }))];\r\n                                        case 1:\r\n                                            _a.sent();\r\n                                            return [2];\r\n                                    }\r\n                                });\r\n                            };\r\n                            _c = 0, _d = this.interop.servers();\r\n                            _e.label = 2;\r\n                        case 2:\r\n                            if (!(_c < _d.length)) return [3, 5];\r\n                            server = _d[_c];\r\n                            return [5, _loop_1(server)];\r\n                        case 3:\r\n                            _e.sent();\r\n                            _e.label = 4;\r\n                        case 4:\r\n                            _c++;\r\n                            return [3, 2];\r\n                        case 5: return [2, Object.values(intents_1)];\r\n                        case 6:\r\n                            e_1 = _e.sent();\r\n                            this.logger.error(\"Failed to get the applications!\", e_1);\r\n                            return [2, []];\r\n                        case 7: return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Intents.prototype.addIntentListener = function (intent, handler) {\r\n            var _this = this;\r\n            if ((typeof intent !== \"string\" && typeof intent !== \"object\") || (typeof intent === \"object\" && typeof intent.intent !== \"string\")) {\r\n                throw new Error(\"Please provide the intent as a string or an object with an intent property!\");\r\n            }\r\n            if (typeof handler !== \"function\") {\r\n                throw new Error(\"Please provide the handler as a function!\");\r\n            }\r\n            var result = { unsubscribe: function () { return console.log(\"Could not unsubscribe!\"); } };\r\n            var intentName = typeof intent === \"string\" ? intent : intent.intent;\r\n            var methodName = \"\" + GLUE42_FDC3_INTENTS_METHOD_PREFIX + intentName;\r\n            var methodDescription = typeof intent === \"string\" ? undefined : JSON.stringify(intent);\r\n            this.interop.register({ name: methodName, description: methodDescription }, function (args) {\r\n                return handler(args);\r\n            }).then(function () {\r\n                result.unsubscribe = function () {\r\n                    _this.interop.unregister(methodName);\r\n                };\r\n            });\r\n            return result;\r\n        };\r\n        Intents.prototype.get = function (intent) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.all()];\r\n                        case 1: return [2, (_a.sent()).find(function (registeredIntent) { return registeredIntent.name === intent; })];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Intents.prototype.startApp = function (application, options) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var result;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.interop.invoke(\"T42.ACS.StartApplication\", { Name: application, options: options })];\r\n                        case 1:\r\n                            result = _a.sent();\r\n                            return [2, result.returned.Id];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Intents.prototype.raiseIntentToInstance = function (instanceId, intent, context) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var methodName, interopServer, method, result;\r\n                var _this = this;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            methodName = \"\" + GLUE42_FDC3_INTENTS_METHOD_PREFIX + intent;\r\n                            interopServer = this.interop.servers().find(function (server) { return server.instance === instanceId; });\r\n                            if (!!interopServer) return [3, 2];\r\n                            return [4, (new Promise(function (resolve, reject) {\r\n                                    var timeoutId;\r\n                                    var unsub = _this.interop.serverAdded(function (server) {\r\n                                        if (server.instance === instanceId) {\r\n                                            interopServer = server;\r\n                                            resolve();\r\n                                            clearTimeout(timeoutId);\r\n                                            unsub();\r\n                                        }\r\n                                    });\r\n                                    timeoutId = setTimeout(function () {\r\n                                        unsub();\r\n                                        reject(new Error(\"Can not find interop server for instance \" + instanceId));\r\n                                    }, 30 * 1000);\r\n                                }))];\r\n                        case 1:\r\n                            _a.sent();\r\n                            _a.label = 2;\r\n                        case 2:\r\n                            method = interopServer.getMethods().find(function (registeredMethod) { return registeredMethod.name === methodName; });\r\n                            if (!!method) return [3, 4];\r\n                            return [4, (new Promise(function (resolve, reject) {\r\n                                    var timeoutId;\r\n                                    var unsub = _this.interop.methodAdded(function (addedMethod) {\r\n                                        if (addedMethod.name === methodName) {\r\n                                            resolve();\r\n                                            clearTimeout(timeoutId);\r\n                                            unsub();\r\n                                        }\r\n                                    });\r\n                                    timeoutId = setTimeout(function () {\r\n                                        unsub();\r\n                                        reject(new Error(\"Can not find interop method \" + methodName + \" for instance \" + instanceId));\r\n                                    }, 10 * 1000);\r\n                                }))];\r\n                        case 3:\r\n                            _a.sent();\r\n                            _a.label = 4;\r\n                        case 4: return [4, this.interop.invoke(methodName, context, { instance: instanceId })];\r\n                        case 5:\r\n                            result = _a.sent();\r\n                            return [2, {\r\n                                    result: result.returned\r\n                                }];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        return Intents;\r\n    }());\n\n    var instances = [];\r\n    var factory$3 = function (options) { return __awaiter(void 0, void 0, void 0, function () {\r\n        function createWindows(core) {\r\n            if (glueConfig.windows) {\r\n                var windowsLogger = getLibLogger(\"windows\", core.logger, glueConfig.windows);\r\n                _windows = WindowsFactory(core.agm, windowsLogger, function () {\r\n                    return _appManager;\r\n                }, gdMajorVersion);\r\n                debugLog(_windows);\r\n                return _windows;\r\n            }\r\n        }\r\n        function createActivities(core) {\r\n            var _a, _b;\r\n            if (glueConfig.activities) {\r\n                if (ActivityModule.checkIsUsingGW3Implementation && ActivityModule.checkIsUsingGW3Implementation(core.connection)) {\r\n                    var activityLogger = getLibLogger(\"activity\", core.logger, glueConfig.activities);\r\n                    _activity = new ActivityModule({\r\n                        connection: core.connection,\r\n                        contexts: core.contexts,\r\n                        agm: core.agm,\r\n                        logger: activityLogger,\r\n                        logLevel: \"info\",\r\n                        disableAutoAnnounce: false,\r\n                        disposeRequestHandling: \"exit\",\r\n                        announcementInfo: null,\r\n                        windows: _windows,\r\n                        appManagerGetter: function () {\r\n                            return _appManager;\r\n                        },\r\n                        mode: glueConfig.activities.mode,\r\n                        typesToTrack: glueConfig.activities.typesToTrack,\r\n                        activityId: (_b = (_a = glue42gd) === null || _a === void 0 ? void 0 : _a.activityInfo) === null || _b === void 0 ? void 0 : _b.activityId,\r\n                        gdMajorVersion: gdMajorVersion\r\n                    }).api;\r\n                    debugLog(_activity);\r\n                    return _activity;\r\n                }\r\n            }\r\n        }\r\n        function createAppManager(core) {\r\n            if (!glueConfig.appManager) {\r\n                return;\r\n            }\r\n            var logger = getLibLogger(\"appManager\", core.logger, glueConfig.appManager);\r\n            _appManager = AppManagerFactory({\r\n                agm: core.agm,\r\n                windows: _windows,\r\n                logger: logger,\r\n                activities: _activity,\r\n                mode: glueConfig.appManager.mode,\r\n                gdMajorVersion: gdMajorVersion\r\n            });\r\n            debugLog(_appManager);\r\n            return _appManager;\r\n        }\r\n        function createLayouts(core) {\r\n            var _a;\r\n            if (!glueConfig.layouts) {\r\n                return;\r\n            }\r\n            var logger = getLibLogger(\"layouts\", core.logger, glueConfig.layouts);\r\n            var layoutsConfig = glueConfig.layouts;\r\n            var lay = LayoutsFactory({\r\n                agm: core.agm,\r\n                appManager: _appManager,\r\n                activityGetter: function () { return _activity; },\r\n                logger: logger,\r\n                mode: layoutsConfig.mode,\r\n                autoSaveWindowContext: (_a = layoutsConfig.autoSaveWindowContext, (_a !== null && _a !== void 0 ? _a : false)),\r\n                gdMajorVersion: gdMajorVersion\r\n            });\r\n            debugLog(lay);\r\n            return lay;\r\n        }\r\n        function createChannels(core) {\r\n            if (!glueConfig.channels) {\r\n                return;\r\n            }\r\n            if (!core.contexts) {\r\n                return;\r\n            }\r\n            var channelsAPI = factory(core.contexts, core.agm);\r\n            debugLog(channelsAPI);\r\n            return channelsAPI;\r\n        }\r\n        function createHotkeys(core) {\r\n            var hotkeysAPI = factory$1(core.agm);\r\n            debugLog(hotkeysAPI);\r\n            return hotkeysAPI;\r\n        }\r\n        function createIntents(core) {\r\n            var intentsAPI = new Intents(core.agm, _windows, core.logger.subLogger(\"intents\"));\r\n            debugLog(intentsAPI);\r\n            return intentsAPI;\r\n        }\r\n        function createNotifications(core) {\r\n            var notificationsAPI = new Notifications(core.interop);\r\n            debugLog(notificationsAPI);\r\n            return notificationsAPI;\r\n        }\r\n        function createDisplaysApi(core) {\r\n            if (glueConfig.displays) {\r\n                var displaysLogger = getLibLogger(\"displays\", core.logger, glueConfig.displays);\r\n                _displays = new DisplayManager(core.agm, displaysLogger);\r\n                debugLog(_displays);\r\n                return _displays;\r\n            }\r\n        }\r\n        function createThemes(core) {\r\n            if (!core.contexts) {\r\n                return;\r\n            }\r\n            var themesAPI = factory$2(core);\r\n            debugLog(themesAPI);\r\n            return themesAPI;\r\n        }\r\n        function getLibLogger(loggerName, logger, config) {\r\n            var newLogger = logger.subLogger(loggerName);\r\n            if (config && config.logger) {\r\n                var loggerConfig = config.logger;\r\n                if (loggerConfig.console) {\r\n                    newLogger.consoleLevel(loggerConfig.console);\r\n                }\r\n                if (loggerConfig.publish) {\r\n                    newLogger.publishLevel(loggerConfig.publish);\r\n                }\r\n            }\r\n            return newLogger;\r\n        }\r\n        function debugLog(entry) {\r\n            currentLog.push(entry);\r\n        }\r\n        var glue42gd, gdMajorVersion, glueConfig, _appManager, _activity, _windows, _displays, ext, currentLog, glueApi;\r\n        var _a;\r\n        return __generator(this, function (_b) {\r\n            switch (_b.label) {\r\n                case 0:\r\n                    glue42gd = typeof window !== \"undefined\" && window.glue42gd;\r\n                    if (glue42gd) {\r\n                        if (instances.length > 0) {\r\n                            return [2, instances[0]];\r\n                        }\r\n                    }\r\n                    gdMajorVersion = Utils$1.getGDMajorVersion();\r\n                    options = options || {};\r\n                    glueConfig = prepareConfig$1(options);\r\n                    options.gateway = options.gateway || {};\r\n                    ext = {\r\n                        libs: [\r\n                            { name: \"windows\", create: createWindows },\r\n                            { name: \"activities\", create: createActivities },\r\n                            { name: \"appManager\", create: createAppManager },\r\n                            { name: \"layouts\", create: createLayouts },\r\n                            { name: \"channels\", create: createChannels },\r\n                            { name: \"hotkeys\", create: createHotkeys },\r\n                            { name: \"displays\", create: createDisplaysApi },\r\n                            { name: \"intents\", create: createIntents },\r\n                            { name: \"notifications\", create: createNotifications },\r\n                            { name: \"themes\", create: createThemes }\r\n                        ],\r\n                        version: version$2,\r\n                        enrichGlue: function (glue) {\r\n                            glue.config.activities = glueConfig.activities;\r\n                            glue.config.windows = glueConfig.windows;\r\n                            glue.config.appManager = glueConfig.appManager;\r\n                            glue.config.layouts = glueConfig.layouts;\r\n                            glue.config.channels = glueConfig.channels;\r\n                            glue.config.displays = glueConfig.displays;\r\n                        },\r\n                    };\r\n                    currentLog = [];\r\n                    if (typeof window !== \"undefined\") {\r\n                        if (!window.glueFactoryLog) {\r\n                            window.glueFactoryLog = [];\r\n                        }\r\n                        window.glueFactoryLog.push(currentLog);\r\n                    }\r\n                    return [4, GlueCore(options, ext)];\r\n                case 1:\r\n                    glueApi = (_b.sent());\r\n                    instances.push(glueApi);\r\n                    if (!(Array.isArray((_a = options) === null || _a === void 0 ? void 0 : _a.libraries) && options.libraries.length)) return [3, 3];\r\n                    return [4, Promise.all(options.libraries.map(function (lib) { return lib(glueApi, options); }))];\r\n                case 2:\r\n                    _b.sent();\r\n                    _b.label = 3;\r\n                case 3: return [2, glueApi];\r\n            }\r\n        });\r\n    }); };\r\n    factory$3.coreVersion = GlueCore.version;\r\n    factory$3.version = version$2;\r\n    factory$3.instances = instances;\n\n    var whatToExpose = factory$3;\r\n    var shouldSetToWindow = true;\r\n    if (typeof window !== \"undefined\") {\r\n        var glue42gd = window.glue42gd;\r\n        if (glue42gd && glue42gd.autoInjected) {\r\n            whatToExpose = window.Glue;\r\n            shouldSetToWindow = false;\r\n        }\r\n        if (shouldSetToWindow) {\r\n            window.Glue = whatToExpose;\r\n        }\r\n        delete window.GlueCore;\r\n    }\r\n    whatToExpose.default = whatToExpose;\r\n    var whatToExpose$1 = whatToExpose;\n\n    return whatToExpose$1;\n\n})));\n//# sourceMappingURL=desktop.browser.js.map\n","/* eslint-disable @typescript-eslint/no-unused-vars */\r\n\r\nimport { Glue42Web } from \"../../web\";\r\n\r\nconst defaultConfig = {\r\n    logger: \"trace\",\r\n    application: \"gosho\",\r\n    gateway: { webPlatform: {} },\r\n    libraries: []\r\n};\r\n\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\nexport const parseConfig = (config?: Glue42Web.Config): any => {\r\n    return Object.assign({}, defaultConfig, config);\r\n};","import { Glue42Web } from \"../../web\";\r\nimport { openWindowConfigDecoder, coreWindowDataDecoder, windowHelloDecoder, helloSuccessDecoder, simpleWindowDecoder, windowBoundsResultDecoder, windowUrlResultDecoder, windowMoveResizeConfigDecoder, windowTitleConfigDecoder } from \"../shared/decoders\";\r\nimport { BridgeOperation } from \"../shared/types\";\r\nimport { WebWindowModel } from \"./webWindow\";\r\n\r\nexport type WindowOperationTypes = \"openWindow\" | \"getBounds\" |\r\n    \"windowHello\" | \"windowAdded\" | \"windowRemoved\" | \"getUrl\" |\r\n    \"moveResize\" | \"focus\" | \"close\" | \"getTitle\" | \"setTitle\";\r\n\r\nexport const operations: { [key in WindowOperationTypes]: BridgeOperation } = {\r\n    openWindow: { name: \"openWindow\", dataDecoder: openWindowConfigDecoder, resultDecoder: coreWindowDataDecoder },\r\n    windowHello: { name: \"windowHello\", dataDecoder: windowHelloDecoder, resultDecoder: helloSuccessDecoder },\r\n    windowAdded: { name: \"windowAdded\", dataDecoder: coreWindowDataDecoder },\r\n    windowRemoved: { name: \"windowRemoved\", dataDecoder: simpleWindowDecoder },\r\n    getBounds: { name: \"getBounds\", dataDecoder: simpleWindowDecoder, resultDecoder: windowBoundsResultDecoder },\r\n    getUrl: { name: \"getUrl\", dataDecoder: simpleWindowDecoder, resultDecoder: windowUrlResultDecoder },\r\n    moveResize: { name: \"moveResize\", dataDecoder: windowMoveResizeConfigDecoder },\r\n    focus: { name: \"focus\", dataDecoder: simpleWindowDecoder },\r\n    close: { name: \"close\", dataDecoder: simpleWindowDecoder },\r\n    getTitle: { name: \"getTitle\", dataDecoder: simpleWindowDecoder, resultDecoder: windowTitleConfigDecoder },\r\n    setTitle: { name: \"setTitle\", dataDecoder: windowTitleConfigDecoder }\r\n};\r\n\r\nexport interface WindowProjection {\r\n    id: string;\r\n    model: WebWindowModel;\r\n    api: Glue42Web.Windows.WebWindow;\r\n}\r\n\r\nexport interface WindowHello {\r\n    windowId?: string;\r\n}\r\n\r\nexport interface OpenWindowConfig {\r\n    name: string;\r\n    url: string;\r\n    options?: Glue42Web.Windows.Settings;\r\n}\r\n\r\nexport interface SimpleWindowCommand {\r\n    windowId: string;\r\n}\r\n\r\nexport interface WindowTitleConfig {\r\n    windowId: string;\r\n    title: string;\r\n}\r\n\r\nexport interface WindowMoveResizeConfig {\r\n    windowId: string;\r\n    top?: number;\r\n    left?: number;\r\n    width?: number;\r\n    height?: number;\r\n    relative?: boolean;\r\n}\r\n\r\nexport interface HelloSuccess {\r\n    windows: CoreWindowData[];\r\n    isWorkspaceFrame: boolean;\r\n}\r\n\r\nexport interface CoreWindowData {\r\n    windowId: string;\r\n    name: string;\r\n}\r\n\r\nexport interface WindowBoundsResult {\r\n    windowId: string;\r\n    bounds: Glue42Web.Windows.Bounds;\r\n}\r\n\r\nexport interface WindowUrlResult {\r\n    windowId: string;\r\n    url: string;\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { number } from \"decoder-validate\";\r\nimport { Glue42Web } from \"../../web\";\r\nimport { GlueBridge } from \"../communication/bridge\";\r\nimport { anyDecoder, boundsDecoder, nonEmptyStringDecoder, nonNegativeNumberDecoder } from \"../shared/decoders\";\r\nimport { operations, SimpleWindowCommand, WindowBoundsResult, WindowMoveResizeConfig, WindowTitleConfig, WindowUrlResult } from \"./protocol\";\r\nimport {\r\n    default as CallbackRegistryFactory,\r\n    CallbackRegistry,\r\n    UnsubscribeFunction,\r\n} from \"callback-registry\";\r\n\r\nexport class WebWindowModel {\r\n    private readonly registry: CallbackRegistry = CallbackRegistryFactory();\r\n    private readonly myCtxKey: string;\r\n    private ctxUnsubscribe: UnsubscribeFunction | undefined;\r\n    private me!: Glue42Web.Windows.WebWindow;\r\n\r\n    constructor(private readonly _id: string, private readonly _name: string, private readonly _bridge: GlueBridge) {\r\n        this.myCtxKey = `___window___${this.id}`;\r\n    }\r\n\r\n    public get id(): string {\r\n        return this._id.slice();\r\n    }\r\n\r\n    public get name(): string {\r\n        return this._name.slice();\r\n    }\r\n\r\n    public clean(): void {\r\n        if (this.ctxUnsubscribe) {\r\n            this.ctxUnsubscribe();\r\n        }\r\n    }\r\n\r\n    public async toApi(): Promise<Glue42Web.Windows.WebWindow> {\r\n\r\n        this.ctxUnsubscribe = await this._bridge.contextLib.subscribe(this.myCtxKey, (data) => this.registry.execute(\"context-updated\", data));\r\n\r\n        const api = {\r\n            id: this.id,\r\n            name: this.name,\r\n            getURL: this.getURL.bind(this),\r\n            moveResize: this.moveResize.bind(this),\r\n            resizeTo: this.resizeTo.bind(this),\r\n            moveTo: this.moveTo.bind(this),\r\n            focus: this.focus.bind(this),\r\n            close: this.close.bind(this),\r\n            getTitle: this.getTitle.bind(this),\r\n            setTitle: this.setTitle.bind(this),\r\n            getBounds: this.getBounds.bind(this),\r\n            getContext: this.getContext.bind(this),\r\n            updateContext: this.updateContext.bind(this),\r\n            setContext: this.setContext.bind(this),\r\n            onContextUpdated: this.onContextUpdated.bind(this)\r\n        };\r\n        \r\n        this.me = Object.freeze(api);\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private async getURL(): Promise<string> {\r\n        const result = await this._bridge.send<SimpleWindowCommand, WindowUrlResult>(\"windows\", operations.getUrl, { windowId: this.id });\r\n\r\n        return result.url;\r\n    }\r\n\r\n    private async moveResize(dimension: Partial<Glue42Web.Windows.Bounds>): Promise<Glue42Web.Windows.WebWindow> {\r\n        const targetBounds = boundsDecoder.runWithException(dimension);\r\n\r\n        const commandArgs = Object.assign({}, targetBounds, { windowId: this.id, relative: false });\r\n\r\n        await this._bridge.send<WindowMoveResizeConfig, void>(\"windows\", operations.moveResize, commandArgs);\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private async resizeTo(width?: number, height?: number): Promise<Glue42Web.Windows.WebWindow> {\r\n        if (typeof width === \"undefined\" && typeof height === \"undefined\") {\r\n            return this.me;\r\n        }\r\n\r\n        if (typeof width !== \"undefined\") {\r\n            nonNegativeNumberDecoder.runWithException(width);\r\n        }\r\n\r\n        if (typeof height !== \"undefined\") {\r\n            nonNegativeNumberDecoder.runWithException(height);\r\n        }\r\n\r\n        const commandArgs = Object.assign({}, { width, height }, { windowId: this.id, relative: true });\r\n\r\n        await this._bridge.send<WindowMoveResizeConfig, void>(\"windows\", operations.moveResize, commandArgs);\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private async moveTo(top?: number, left?: number): Promise<Glue42Web.Windows.WebWindow> {\r\n        if (typeof top === \"undefined\" && typeof left === \"undefined\") {\r\n            return this.me;\r\n        }\r\n\r\n        if (typeof top !== \"undefined\") {\r\n            number().runWithException(top);\r\n        }\r\n\r\n        if (typeof left !== \"undefined\") {\r\n            number().runWithException(left);\r\n        }\r\n\r\n        const commandArgs = Object.assign({}, { top, left }, { windowId: this.id, relative: true });\r\n\r\n        await this._bridge.send<WindowMoveResizeConfig, void>(\"windows\", operations.moveResize, commandArgs);\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private async focus(): Promise<Glue42Web.Windows.WebWindow> {\r\n        await this._bridge.send<SimpleWindowCommand, void>(\"windows\", operations.focus, { windowId: this.id });\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private async close(): Promise<Glue42Web.Windows.WebWindow> {\r\n        await this._bridge.send<SimpleWindowCommand, void>(\"windows\", operations.close, { windowId: this.id });\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private async getTitle(): Promise<string> {\r\n        const result = await this._bridge.send<SimpleWindowCommand, WindowTitleConfig>(\"windows\", operations.getTitle, { windowId: this.id });\r\n\r\n        return result.title;\r\n    }\r\n\r\n    private async setTitle(title: string): Promise<Glue42Web.Windows.WebWindow> {\r\n        const ttl = nonEmptyStringDecoder.runWithException(title);\r\n\r\n        await this._bridge.send<WindowTitleConfig, void>(\"windows\", operations.setTitle, { windowId: this.id, title: ttl });\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private async getBounds(): Promise<Glue42Web.Windows.Bounds> {\r\n        const result = await this._bridge.send<SimpleWindowCommand, WindowBoundsResult>(\"windows\", operations.getBounds, { windowId: this.id });\r\n\r\n        return result.bounds;\r\n    }\r\n\r\n    private async getContext(): Promise<any> {\r\n        return this._bridge.contextLib.get(this.myCtxKey);\r\n    }\r\n\r\n    private async updateContext(context: any): Promise<Glue42Web.Windows.WebWindow> {\r\n        const ctx = anyDecoder.runWithException(context);\r\n\r\n        await this._bridge.contextLib.update(this.myCtxKey, ctx);\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private async setContext(context: any): Promise<Glue42Web.Windows.WebWindow> {\r\n        const ctx = anyDecoder.runWithException(context);\r\n\r\n        await this._bridge.contextLib.set(this.myCtxKey, ctx);\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private onContextUpdated(callback: (context: any, window: Glue42Web.Windows.WebWindow) => void): UnsubscribeFunction {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"Cannot subscribe to context changes, because the provided callback is not a function\");\r\n        }\r\n\r\n        const wrappedCallback = (data: any): void => {\r\n            callback(data, this.me);\r\n        };\r\n\r\n        return this.registry.add(\"context-updated\", wrappedCallback);\r\n    }\r\n\r\n}","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Glue42Core } from \"@glue42/core\";\r\nimport { Glue42Web } from \"../../web\";\r\nimport { GlueBridge } from \"../communication/bridge\";\r\nimport { nonEmptyStringDecoder, windowOpenSettingsDecoder, windowOperationTypesDecoder } from \"../shared/decoders\";\r\nimport { LibController } from \"../shared/types\";\r\nimport { HelloSuccess, OpenWindowConfig, CoreWindowData, WindowHello, operations, WindowBoundsResult, WindowTitleConfig, WindowUrlResult, WindowMoveResizeConfig, WindowProjection } from \"./protocol\";\r\nimport {\r\n    default as CallbackRegistryFactory,\r\n    CallbackRegistry,\r\n    UnsubscribeFunction,\r\n} from \"callback-registry\";\r\nimport { IoC } from \"../shared/ioc\";\r\n\r\nexport class WindowsController implements LibController {\r\n\r\n    private readonly registry: CallbackRegistry = CallbackRegistryFactory();\r\n    private platformRegistration!: Promise<void>;\r\n    private ioc!: IoC;\r\n    private bridge!: GlueBridge;\r\n    private publicWindowId!: string;\r\n    private actualWindowId: string | undefined;\r\n    private allWindowProjections: WindowProjection[] = [];\r\n    private me!: Glue42Web.Windows.WebWindow;\r\n    private logger!: Glue42Web.Logger.API;\r\n\r\n    public async start(coreGlue: Glue42Core.GlueCore, ioc: IoC): Promise<void> {\r\n\r\n        this.logger = coreGlue.logger.subLogger(\"windows.controller.web\");\r\n\r\n        this.logger.trace(\"starting the web windows controller\");\r\n\r\n        this.publicWindowId = (coreGlue as any).connection.transport.publicWindowId;\r\n        this.actualWindowId = coreGlue.interop.instance.windowId;\r\n\r\n        this.addWindowOperationExecutors();\r\n\r\n        this.ioc = ioc;\r\n        this.bridge = ioc.bridge;\r\n\r\n        this.logger.trace(`set the public window id: ${this.publicWindowId} and actual window id: ${this.actualWindowId}, set the bridge operations and ioc, registering with the platform now`);\r\n\r\n        this.platformRegistration = this.registerWithPlatform();\r\n\r\n        await this.platformRegistration;\r\n\r\n        this.logger.trace(\"registration with the platform successful, attaching the windows property to glue and returning\");\r\n\r\n        const api = this.toApi();\r\n\r\n        (coreGlue as Glue42Web.API).windows = api;\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    public async handleBridgeMessage(args: any): Promise<void> {\r\n        await this.platformRegistration;\r\n\r\n        const operationName = windowOperationTypesDecoder.runWithException(args.operation);\r\n\r\n        const operation = operations[operationName];\r\n\r\n        if (!operation.execute) {\r\n            return;\r\n        }\r\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n        let operationData: any = args.data;\r\n\r\n        if (operation.dataDecoder) {\r\n            operationData = operation.dataDecoder.runWithException(args.data);\r\n        }\r\n\r\n        return await operation.execute(operationData);\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    private async open(name: string, url: string, options?: Glue42Web.Windows.Settings): Promise<Glue42Web.Windows.WebWindow> {\r\n        nonEmptyStringDecoder.runWithException(name);\r\n        nonEmptyStringDecoder.runWithException(url);\r\n        const settings = windowOpenSettingsDecoder.runWithException(options);\r\n\r\n        const windowSuccess = await this.bridge.send<OpenWindowConfig, CoreWindowData>(\"windows\", operations.openWindow, { name, url, options: settings });\r\n\r\n        const projection = await this.ioc.buildWebWindow(windowSuccess.windowId, windowSuccess.name);\r\n\r\n        return projection.api;\r\n    }\r\n\r\n    private list(): Glue42Web.Windows.WebWindow[] {\r\n        return this.allWindowProjections.map((projection) => projection.api);\r\n    }\r\n\r\n    private findById(id: string): Glue42Web.Windows.WebWindow | undefined {\r\n        nonEmptyStringDecoder.runWithException(id);\r\n\r\n        return this.allWindowProjections.find((projection) => projection.id === id)?.api;\r\n    }\r\n\r\n    private toApi(): Glue42Web.Windows.API {\r\n        return {\r\n            open: this.open.bind(this),\r\n            my: this.my.bind(this),\r\n            list: this.list.bind(this),\r\n            findById: this.findById.bind(this),\r\n            onWindowAdded: this.onWindowAdded.bind(this),\r\n            onWindowRemoved: this.onWindowRemoved.bind(this)\r\n        };\r\n    }\r\n\r\n    private addWindowOperationExecutors(): void {\r\n        operations.windowAdded.execute = this.handleWindowAdded.bind(this);\r\n        operations.windowRemoved.execute = this.handleWindowRemoved.bind(this);\r\n        operations.getBounds.execute = this.handleGetBounds.bind(this);\r\n        operations.getTitle.execute = this.handleGetTitle.bind(this);\r\n        operations.getUrl.execute = this.handleGetUrl.bind(this);\r\n        operations.moveResize.execute = this.handleMoveResize.bind(this);\r\n        operations.setTitle.execute = this.handleSetTitle.bind(this);\r\n    }\r\n\r\n    private my(): Glue42Web.Windows.WebWindow {\r\n        return Object.assign({}, this.me);\r\n    }\r\n\r\n    private onWindowAdded(callback: (window: Glue42Web.Windows.WebWindow) => void): UnsubscribeFunction {\r\n        return this.registry.add(\"window-added\", callback);\r\n    }\r\n\r\n    private onWindowRemoved(callback: (window: Glue42Web.Windows.WebWindow) => void): UnsubscribeFunction {\r\n        return this.registry.add(\"window-removed\", callback);\r\n    }\r\n\r\n    private async sayHello(): Promise<HelloSuccess> {\r\n        const helloSuccess = await this.bridge.send<WindowHello, HelloSuccess>(\"windows\", operations.windowHello, { windowId: this.actualWindowId });\r\n\r\n        return helloSuccess;\r\n    }\r\n\r\n    private async registerWithPlatform(): Promise<void> {\r\n\r\n        const { windows, isWorkspaceFrame } = await this.sayHello();\r\n\r\n        this.logger.trace(\"the platform responded to the hello message\");\r\n\r\n        if (!isWorkspaceFrame) {\r\n            this.logger.trace(\"i am not treated as a workspace frame, setting my window\");\r\n\r\n            const myWindow = windows.find((w) => w.windowId === this.publicWindowId);\r\n\r\n            if (!myWindow) {\r\n                throw new Error(\"Cannot initialize the window library, because I received no information about me from the platform\");\r\n            }\r\n\r\n            this.me = (await this.ioc.buildWebWindow(this.publicWindowId, myWindow.name)).api;\r\n        }\r\n\r\n        const currentWindows = await Promise.all(windows.map((w) => this.ioc.buildWebWindow(w.windowId, w.name)));\r\n\r\n        this.logger.trace(\"all windows projections are completed, building the list collection\");\r\n\r\n        this.allWindowProjections.push(...currentWindows);\r\n    }\r\n\r\n    private async handleWindowAdded(data: CoreWindowData): Promise<void> {\r\n        if (this.allWindowProjections.some((projection) => projection.id === data.windowId)) {\r\n            return;\r\n        }\r\n\r\n        const webWindowProjection = await this.ioc.buildWebWindow(data.windowId, data.name);\r\n        this.allWindowProjections.push(webWindowProjection);\r\n\r\n        this.registry.execute(\"window-added\", webWindowProjection.api);\r\n    }\r\n\r\n    private async handleWindowRemoved(data: CoreWindowData): Promise<void> {\r\n        const removed = this.allWindowProjections.find((w) => w.id === data.windowId);\r\n\r\n        if (!removed) {\r\n            return;\r\n        }\r\n\r\n        this.allWindowProjections = this.allWindowProjections.filter((w) => w.id !== data.windowId);\r\n\r\n        removed.model.clean();\r\n\r\n        this.registry.execute(\"window-removed\", removed.api);\r\n    }\r\n\r\n    private async handleGetBounds(): Promise<WindowBoundsResult> {\r\n        return {\r\n            windowId: this.me.id,\r\n            bounds: {\r\n                top: window.screenTop,\r\n                left: window.screenLeft,\r\n                width: window.innerWidth,\r\n                height: window.innerHeight\r\n            }\r\n        };\r\n    }\r\n\r\n    private async handleGetTitle(): Promise<WindowTitleConfig> {\r\n        return {\r\n            windowId: this.me.id,\r\n            title: document.title\r\n        };\r\n    }\r\n\r\n    private async handleGetUrl(): Promise<WindowUrlResult> {\r\n        return {\r\n            windowId: this.me.id,\r\n            url: window.location.href\r\n        };\r\n    }\r\n\r\n    private async handleMoveResize(config: WindowMoveResizeConfig): Promise<void> {\r\n\r\n        const targetTop = typeof config.top === \"number\" ? config.top :\r\n            config.relative ? 0 : window.screenTop;\r\n\r\n        const targetLeft = typeof config.left === \"number\" ? config.left :\r\n            config.relative ? 0 : window.screenLeft;\r\n\r\n        const targetHeight = typeof config.height === \"number\" ? config.height :\r\n            config.relative ? 0 : window.innerHeight;\r\n\r\n        const targetWidth = typeof config.width === \"number\" ? config.width :\r\n            config.relative ? 0 : window.innerWidth;\r\n\r\n        const moveMethod = config.relative ? window.moveBy : window.moveTo;\r\n        const resizeMethod = config.relative ? window.resizeBy : window.resizeTo;\r\n\r\n        moveMethod(targetTop, targetLeft);\r\n        resizeMethod(targetWidth, targetHeight);\r\n    }\r\n\r\n    private async handleSetTitle(config: WindowTitleConfig): Promise<void> {\r\n        document.title = config.title;\r\n    }\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\n\r\nexport const PromiseWrap = <T>(promise: () => Promise<T>, timeoutMilliseconds: number, timeoutMessage?: string): Promise<T> => {\r\n    return new Promise<T>((resolve, reject) => {\r\n\r\n        let promiseActive = true;\r\n\r\n        const timeout = setTimeout(() => {\r\n            if (!promiseActive) {\r\n                return;\r\n            }\r\n            promiseActive = false;\r\n            const message = timeoutMessage || `Promise timeout hit: ${timeoutMilliseconds}`;\r\n\r\n            reject(message);\r\n        }, timeoutMilliseconds);\r\n\r\n        promise()\r\n            .then((result) => {\r\n                if (!promiseActive) {\r\n                    return;\r\n                }\r\n                promiseActive = false;\r\n                clearTimeout(timeout);\r\n                resolve(result);\r\n            })\r\n            .catch((error) => {\r\n                if (!promiseActive) {\r\n                    return;\r\n                }\r\n                promiseActive = false;\r\n                clearTimeout(timeout);\r\n                reject(error);\r\n            });\r\n    });\r\n};\r\n\r\nexport const PromisePlus = <T>(executor: (resolve: (value?: T | PromiseLike<T> | undefined) => void, reject: (reason?: any) => void) => void, timeoutMilliseconds: number, timeoutMessage?: string): Promise<T> => {\r\n\r\n    return new Promise<T>((resolve, reject) => {\r\n        const timeout = setTimeout(() => {\r\n\r\n            const message = timeoutMessage || `Promise timeout hit: ${timeoutMilliseconds}`;\r\n\r\n            reject(message);\r\n        }, timeoutMilliseconds);\r\n\r\n        const providedPromise = new Promise<T>(executor);\r\n\r\n        providedPromise\r\n            .then((result) => {\r\n                clearTimeout(timeout);\r\n                resolve(result);\r\n            })\r\n            .catch((error) => {\r\n                clearTimeout(timeout);\r\n                reject(error);\r\n            });\r\n    });\r\n\r\n};\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { appHelloSuccessDecoder, applicationStartConfigDecoder, baseApplicationDataDecoder, basicInstanceDataDecoder, instanceDataDecoder, windowHelloDecoder } from \"../shared/decoders\";\r\nimport { BridgeOperation } from \"../shared/types\";\r\n\r\nexport type AppManagerOperationTypes = \"appHello\" | \"applicationAdded\" |\r\n    \"applicationRemoved\" | \"applicationChanged\" | \"instanceStarted\" | \"instanceStopped\" |\r\n    \"applicationStart\" | \"instanceStop\";\r\n\r\nexport const operations: { [key in AppManagerOperationTypes]: BridgeOperation } = {\r\n    appHello: { name: \"appHello\", dataDecoder: windowHelloDecoder, resultDecoder: appHelloSuccessDecoder },\r\n    applicationAdded: { name: \"applicationAdded\", dataDecoder: baseApplicationDataDecoder },\r\n    applicationRemoved: { name: \"applicationRemoved\", dataDecoder: baseApplicationDataDecoder },\r\n    applicationChanged: { name: \"applicationChanged\", dataDecoder: baseApplicationDataDecoder },\r\n    instanceStarted: { name: \"instanceStarted\", dataDecoder: instanceDataDecoder },\r\n    instanceStopped: { name: \"instanceStopped\", dataDecoder: instanceDataDecoder },\r\n    applicationStart: { name: \"applicationStart\", dataDecoder: applicationStartConfigDecoder, resultDecoder: instanceDataDecoder },\r\n    instanceStop: { name: \"instanceStop\", dataDecoder: basicInstanceDataDecoder }\r\n};\r\n\r\nexport interface InstanceData {\r\n    id: string;\r\n    applicationName: string;\r\n}\r\n\r\nexport interface BaseApplicationData {\r\n    name: string;\r\n    userProperties: any;\r\n    title?: string;\r\n    version?: string;\r\n    icon?: string;\r\n    caption?: string;\r\n}\r\n\r\nexport interface ApplicationData extends BaseApplicationData {\r\n    instances: InstanceData[];\r\n}\r\n\r\nexport interface AppHelloSuccess {\r\n    apps: ApplicationData[];\r\n}\r\n\r\nexport interface ApplicationStartConfig {\r\n    name: string;\r\n    waitForAGMReady: boolean;\r\n    context?: any;\r\n    top?: number;\r\n    left?: number;\r\n    width?: number;\r\n    height?: number;\r\n    relativeTo?: string;\r\n    relativeDirection?: \"top\" | \"left\" | \"right\" | \"bottom\";\r\n}\r\n\r\nexport interface BasicInstanceData {\r\n    id: string;\r\n}\r\n","/* eslint-disable @typescript-eslint/no-unused-vars */\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Glue42Core } from \"@glue42/core\";\r\nimport { Glue42Web } from \"../../web\";\r\nimport { GlueBridge } from \"../communication/bridge\";\r\nimport { appManagerOperationTypesDecoder, nonEmptyStringDecoder } from \"../shared/decoders\";\r\nimport { IoC } from \"../shared/ioc\";\r\nimport { LibController } from \"../shared/types\";\r\nimport { WindowHello } from \"../windows/protocol\";\r\nimport { AppHelloSuccess, ApplicationData, ApplicationStartConfig, InstanceData, operations } from \"./protocol\";\r\nimport {\r\n    default as CallbackRegistryFactory,\r\n    CallbackRegistry,\r\n    UnsubscribeFunction,\r\n} from \"callback-registry\";\r\n\r\nexport class AppManagerController implements LibController {\r\n    private readonly registry: CallbackRegistry = CallbackRegistryFactory();\r\n    private ioc!: IoC;\r\n    private bridge!: GlueBridge;\r\n    private publicWindowId!: string;\r\n    private actualWindowId: string | undefined;\r\n    private me: Glue42Web.AppManager.Instance | undefined;\r\n    private applications: Glue42Web.AppManager.Application[] = [];\r\n    private instances: Glue42Web.AppManager.Instance[] = [];\r\n    private platformRegistration!: Promise<void>;\r\n    private logger!: Glue42Web.Logger.API;\r\n\r\n    public async start(coreGlue: Glue42Core.GlueCore, ioc: IoC): Promise<void> {\r\n        this.logger = coreGlue.logger.subLogger(\"appManger.controller.web\");\r\n\r\n        this.logger.trace(\"starting the web appManager controller\");\r\n\r\n        this.publicWindowId = (coreGlue as any).connection.transport.publicWindowId;\r\n        this.actualWindowId = coreGlue.interop.instance.windowId;\r\n\r\n        this.addOperationsExecutors();\r\n\r\n        this.ioc = ioc;\r\n        this.bridge = ioc.bridge;\r\n\r\n        this.platformRegistration = this.registerWithPlatform();\r\n\r\n        await this.platformRegistration;\r\n\r\n        this.logger.trace(\"registration with the platform successful, attaching the appManager property to glue and returning\");\r\n\r\n        const api = this.toApi();\r\n\r\n        (coreGlue as Glue42Web.API).appManager = api;\r\n    }\r\n\r\n    public async handleBridgeMessage(args: any): Promise<void> {\r\n        await this.platformRegistration;\r\n\r\n        const operationName = appManagerOperationTypesDecoder.runWithException(args.operation);\r\n\r\n        const operation = operations[operationName];\r\n\r\n        if (!operation.execute) {\r\n            return;\r\n        }\r\n\r\n        let operationData: any = args.data;\r\n\r\n        if (operation.dataDecoder) {\r\n            operationData = operation.dataDecoder.runWithException(args.data);\r\n        }\r\n\r\n        return await operation.execute(operationData);\r\n    }\r\n\r\n    public onInstanceStarted(callback: (instance: Glue42Web.AppManager.Instance) => any): UnsubscribeFunction {\r\n        return this.registry.add(\"instance-started\", callback);\r\n    }\r\n\r\n    public onInstanceStopped(callback: (instance: Glue42Web.AppManager.Instance) => any): UnsubscribeFunction {\r\n        return this.registry.add(\"instance-stopped\", callback);\r\n    }\r\n\r\n    public async startApplication(appName: string, context?: object, options?: Glue42Web.AppManager.ApplicationStartOptions): Promise<Glue42Web.AppManager.Instance> {\r\n        const startOptions: ApplicationStartConfig = {\r\n            name: appName,\r\n            waitForAGMReady: options?.waitForAGMReady ?? true,\r\n            context,\r\n            top: options?.top,\r\n            left: options?.left,\r\n            width: options?.width,\r\n            height: options?.height,\r\n            relativeTo: options?.relativeTo,\r\n            relativeDirection: options?.relativeDirection\r\n        };\r\n\r\n        const openResult = await this.bridge.send<ApplicationStartConfig, InstanceData>(\"appManager\", operations.applicationStart, startOptions);\r\n\r\n        const app = this.applications.find((a) => a.name === openResult.applicationName) as Glue42Web.AppManager.Application;\r\n\r\n        return this.ioc.buildInstance(openResult, app);\r\n    }\r\n\r\n    private toApi(): Glue42Web.AppManager.API {\r\n        const api: Glue42Web.AppManager.API = {\r\n            myInstance: this.me as unknown as Glue42Web.AppManager.Instance,\r\n            application: this.getApplication.bind(this),\r\n            applications: this.getApplications.bind(this),\r\n            instances: this.getInstances.bind(this),\r\n            onAppAdded: this.onAppAdded.bind(this),\r\n            onAppChanged: this.onAppChanged.bind(this),\r\n            onAppRemoved: this.onAppRemoved.bind(this),\r\n            onInstanceStarted: this.onInstanceStarted.bind(this),\r\n            onInstanceStopped: this.onInstanceStopped.bind(this)\r\n        };\r\n\r\n        return Object.freeze(api);\r\n    }\r\n\r\n    private addOperationsExecutors(): void {\r\n        operations.applicationAdded.execute = this.handleApplicationAddedMessage.bind(this);\r\n        operations.applicationRemoved.execute = this.handleApplicationRemovedMessage.bind(this);\r\n        operations.applicationChanged.execute = this.handleApplicationChangedMessage.bind(this);\r\n        operations.instanceStarted.execute = this.handleInstanceStartedMessage.bind(this);\r\n        operations.instanceStopped.execute = this.handleInstanceStoppedMessage.bind(this);\r\n    }\r\n\r\n    private onAppAdded(callback: (app: Glue42Web.AppManager.Application) => any): UnsubscribeFunction {\r\n        return this.registry.add(\"application-added\", callback);\r\n    }\r\n\r\n    private onAppRemoved(callback: (app: Glue42Web.AppManager.Application) => any): UnsubscribeFunction {\r\n        return this.registry.add(\"application-removed\", callback);\r\n    }\r\n\r\n    private onAppChanged(callback: (app: Glue42Web.AppManager.Application) => any): UnsubscribeFunction {\r\n        return this.registry.add(\"application-changed\", callback);\r\n    }\r\n\r\n\r\n    private async handleApplicationAddedMessage(appData: ApplicationData): Promise<void> {\r\n\r\n        if (this.applications.some((app) => app.name === appData.name)) {\r\n            return;\r\n        }\r\n\r\n        const app = await this.ioc.buildApplication(appData);\r\n\r\n        const instances = this.instances.filter((instance) => instance.application.name === app.name);\r\n\r\n        app.instances.push(...instances);\r\n\r\n        this.applications.push(app);\r\n\r\n        this.registry.execute(\"application-added\", app);\r\n    }\r\n\r\n    private async handleApplicationRemovedMessage(appData: ApplicationData): Promise<void> {\r\n        const appIndex = this.applications.findIndex((app) => app.name === appData.name);\r\n\r\n        if (appIndex < 0) {\r\n            return;\r\n        }\r\n\r\n        const app = this.applications[appIndex];\r\n\r\n        this.applications.splice(appIndex, 1);\r\n\r\n        this.registry.execute(\"application-removed\", app);\r\n    }\r\n\r\n    private async handleApplicationChangedMessage(appData: ApplicationData): Promise<void> {\r\n        const app = this.applications.find((app) => app.name === appData.name);\r\n\r\n        if (!app) {\r\n            return this.handleApplicationAddedMessage(appData);\r\n        }\r\n\r\n        app.title = appData.title as string;\r\n        app.version = appData.version as string;\r\n        app.icon = appData.icon as string;\r\n        app.caption = appData.caption as string;\r\n        app.userProperties = appData.userProperties;\r\n\r\n        this.registry.execute(\"application-changed\", app);\r\n    }\r\n\r\n    private async handleInstanceStartedMessage(instanceData: InstanceData): Promise<void> {\r\n        if (this.instances.some((instance) => instance.id === instanceData.id)) {\r\n            return;\r\n        }\r\n\r\n        const application = this.applications.find((app) => app.name === instanceData.applicationName);\r\n\r\n        if (!application) {\r\n            throw new Error(`Cannot add instance: ${instanceData.id}, because there is no application definition associated with it`);\r\n        }\r\n\r\n        const instance = this.ioc.buildInstance(instanceData, application);\r\n\r\n        this.instances.push(instance);\r\n        application.instances.push(instance);\r\n\r\n        this.registry.execute(\"instance-started\", instance);\r\n    }\r\n\r\n    private async handleInstanceStoppedMessage(instanceData: InstanceData): Promise<void> {\r\n        const instance = this.instances.find((i) => i.id === instanceData.id);\r\n\r\n        if (instance) {\r\n            const instIdx = this.instances.findIndex((inst) => inst.id === instanceData.id);\r\n            this.instances.splice(instIdx, 1);\r\n        }\r\n\r\n        const application = this.applications.find((app) => app.instances.some((inst) => inst.id === instanceData.id));\r\n\r\n        if (application) {\r\n            const instIdxApps = application.instances.findIndex((inst) => inst.id === instanceData.id);\r\n            application.instances.splice(instIdxApps, 1);\r\n        }\r\n\r\n        if (!instance) {\r\n            return;\r\n        }\r\n\r\n        this.registry.execute(\"instance-stopped\", instance);\r\n    }\r\n\r\n    private getApplication(name: string): Glue42Web.AppManager.Application {\r\n        const verifiedName = nonEmptyStringDecoder.runWithException(name);\r\n\r\n        return this.applications.find((app) => app.name === verifiedName) as Glue42Web.AppManager.Application;\r\n    }\r\n\r\n    private getApplications(): Glue42Web.AppManager.Application[] {\r\n        return this.applications.slice();\r\n    }\r\n\r\n    private getInstances(): Glue42Web.AppManager.Instance[] {\r\n        return this.instances.slice();\r\n    }\r\n\r\n    private async registerWithPlatform(): Promise<void> {\r\n        const result = await this.bridge.send<WindowHello, AppHelloSuccess>(\"appManager\", operations.appHello, { windowId: this.actualWindowId });\r\n\r\n        this.logger.trace(\"the platform responded to the hello message with a full list of apps\");\r\n\r\n        this.applications = await Promise.all(result.apps.map((app) => this.ioc.buildApplication(app)));\r\n\r\n        this.instances = this.applications.reduce<Glue42Web.AppManager.Instance[]>((instancesSoFar, app) => {\r\n\r\n            instancesSoFar.push(...app.instances);\r\n\r\n            return instancesSoFar;\r\n        }, []);\r\n\r\n        this.me = this.findMyInstance();\r\n\r\n        this.logger.trace(`all applications were parsed and saved. I am ${this.me ? \"NOT a\" : \"a\"} valid instance`);\r\n    }\r\n\r\n    private findMyInstance(): Glue42Web.AppManager.Instance | undefined {\r\n        for (const app of this.applications) {\r\n            const foundInstance = app.instances.find((instance) => instance.id === this.publicWindowId);\r\n\r\n            if (foundInstance) {\r\n                return foundInstance;\r\n            }\r\n        }\r\n    }\r\n}\r\n","import { Glue42Web } from \"../../web\";\r\nimport { GlueBridge } from \"../communication/bridge\";\r\nimport { BasicInstanceData, InstanceData, operations } from \"./protocol\";\r\n\r\nexport class InstanceModel {\r\n    private me!: Glue42Web.AppManager.Instance;\r\n    private readonly myCtxKey: string;\r\n\r\n    constructor(private readonly data: InstanceData, private readonly bridge: GlueBridge, private readonly application: Glue42Web.AppManager.Application) {\r\n        this.myCtxKey = `___instance___${this.data.id}`;\r\n    }\r\n\r\n    public toApi(): Glue42Web.AppManager.Instance {\r\n        const api: Glue42Web.AppManager.Instance = {\r\n            id: this.data.id,\r\n            agm: { windowId: this.data.id },\r\n            application: this.application,\r\n            stop: this.stop.bind(this),\r\n            getContext: this.getContext.bind(this)\r\n        };\r\n\r\n        this.me = Object.freeze(api);\r\n\r\n        return this.me;\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    private async getContext(): Promise<any> {\r\n        return this.bridge.contextLib.get(this.myCtxKey);\r\n    }\r\n\r\n    private async stop(): Promise<void> {\r\n        await this.bridge.send<BasicInstanceData, void>(\"appManager\", operations.instanceStop, { id: this.data.id });\r\n    }\r\n}","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Glue42Web } from \"../../web\";\r\nimport { AppManagerController } from \"./controller\";\r\nimport { ApplicationData } from \"./protocol\";\r\n\r\nexport class ApplicationModel {\r\n    private me!: Glue42Web.AppManager.Application;\r\n\r\n    constructor(\r\n        private readonly data: ApplicationData,\r\n        private readonly instances: Glue42Web.AppManager.Instance[],\r\n        private readonly controller: AppManagerController,\r\n    ) { }\r\n\r\n    public toApi(): Glue42Web.AppManager.Application {\r\n        const api: Glue42Web.AppManager.Application = {\r\n            name: this.data.name,\r\n            title: this.data.title as string,\r\n            version: this.data.version as string,\r\n            icon: this.data.icon as string,\r\n            caption: this.data.caption as string,\r\n            userProperties: this.data.userProperties,\r\n            instances: this.instances,\r\n            start: this.start.bind(this),\r\n            onInstanceStarted: this.onInstanceStarted.bind(this),\r\n            onInstanceStopped: this.onInstanceStopped.bind(this)\r\n        };\r\n\r\n        this.me = Object.freeze(api);\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private onInstanceStarted(callback: (instance: Glue42Web.AppManager.Instance) => any): () => void {\r\n\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"OnInstanceStarted requires a single argument of type function\");\r\n        }\r\n\r\n        return this.controller.onInstanceStarted((instance) => {\r\n            if (instance.application.name === this.data.name) {\r\n                callback(instance);\r\n            }\r\n        });\r\n    }\r\n\r\n    private onInstanceStopped(callback: (instance: Glue42Web.AppManager.Instance) => any): () => void {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"OnInstanceStarted requires a single argument of type function\");\r\n        }\r\n\r\n        return this.controller.onInstanceStopped((instance) => {\r\n            if (instance.application.name === this.data.name) {\r\n                callback(instance);\r\n            }\r\n        });\r\n    }\r\n\r\n    private async start(context?: object, options?: Glue42Web.AppManager.ApplicationStartOptions): Promise<Glue42Web.AppManager.Instance> {\r\n        // todo: validation\r\n        return this.controller.startApplication(this.data.name, context, options);\r\n    }\r\n}","import { Glue42Web } from \"../../web\";\r\nimport { allLayoutsFullConfigDecoder, allLayoutsSummariesResultDecoder, getAllLayoutsConfigDecoder, glueLayoutDecoder, optionalSimpleLayoutResult, simpleLayoutConfigDecoder } from \"../shared/decoders\";\r\nimport { BridgeOperation } from \"../shared/types\";\r\n\r\nexport type LayoutsOperationTypes = \"layoutAdded\" | \"layoutChanged\" | \"layoutRemoved\" |\r\n    \"get\" | \"getAll\" | \"export\" | \"import\" | \"remove\";\r\n\r\nexport const operations: { [key in LayoutsOperationTypes]: BridgeOperation } = {\r\n    layoutAdded: { name: \"layoutAdded\", dataDecoder: glueLayoutDecoder },\r\n    layoutChanged: { name: \"layoutChanged\", dataDecoder: glueLayoutDecoder },\r\n    layoutRemoved: { name: \"layoutRemoved\", dataDecoder: glueLayoutDecoder },\r\n    get: { name: \"get\", dataDecoder: simpleLayoutConfigDecoder, resultDecoder: optionalSimpleLayoutResult },\r\n    getAll: { name: \"getAll\", dataDecoder: getAllLayoutsConfigDecoder, resultDecoder: allLayoutsSummariesResultDecoder },\r\n    export: { name: \"export\", dataDecoder: getAllLayoutsConfigDecoder, resultDecoder: allLayoutsFullConfigDecoder },\r\n    import: { name: \"import\", dataDecoder: allLayoutsFullConfigDecoder },\r\n    remove: { name: \"remove\", dataDecoder: simpleLayoutConfigDecoder }\r\n};\r\n\r\nexport interface SimpleLayoutConfig {\r\n    name: string;\r\n    type: Glue42Web.Layouts.LayoutType;\r\n}\r\n\r\nexport interface GetAllLayoutsConfig {\r\n    type: Glue42Web.Layouts.LayoutType;\r\n}\r\n\r\nexport interface AllLayoutsFullConfig {\r\n    layouts: Glue42Web.Layouts.Layout[];\r\n}\r\n\r\nexport interface AllLayoutsSummariesResult {\r\n    summaries: Glue42Web.Layouts.LayoutSummary[];\r\n}\r\n\r\nexport interface SimpleLayoutResult {\r\n    layout: Glue42Web.Layouts.Layout;\r\n}\r\n\r\nexport interface OptionalSimpleLayoutResult {\r\n    layout?: Glue42Web.Layouts.Layout;\r\n}","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Glue42Core } from \"@glue42/core\";\r\nimport { IoC } from \"../shared/ioc\";\r\nimport { LibController } from \"../shared/types\";\r\nimport {\r\n    default as CallbackRegistryFactory,\r\n    CallbackRegistry,\r\n    UnsubscribeFunction,\r\n} from \"callback-registry\";\r\nimport { Glue42Web } from \"../../web\";\r\nimport { GlueBridge } from \"../communication/bridge\";\r\nimport { glueLayoutDecoder, layoutsOperationTypesDecoder, layoutTypeDecoder, newLayoutOptionsDecoder, nonEmptyStringDecoder, restoreOptionsDecoder } from \"../shared/decoders\";\r\nimport { AllLayoutsFullConfig, AllLayoutsSummariesResult, GetAllLayoutsConfig, operations, OptionalSimpleLayoutResult, SimpleLayoutConfig } from \"./protocol\";\r\n\r\nexport class LayoutsController implements LibController {\r\n    private readonly registry: CallbackRegistry = CallbackRegistryFactory();\r\n    private bridge!: GlueBridge;\r\n    private logger!: Glue42Web.Logger.API;\r\n\r\n    public async start(coreGlue: Glue42Core.GlueCore, ioc: IoC): Promise<void> {\r\n        this.logger = coreGlue.logger.subLogger(\"layouts.controller.web\");\r\n\r\n        this.logger.trace(\"starting the web layouts controller\");\r\n\r\n        this.bridge = ioc.bridge;\r\n\r\n        this.addOperationsExecutors();\r\n\r\n        const api = this.toApi();\r\n\r\n        this.logger.trace(\"no need for platform registration, attaching the layouts property to glue and returning\");\r\n\r\n        (coreGlue as Glue42Web.API).layouts = api;\r\n    }\r\n\r\n    public async handleBridgeMessage(args: any): Promise<void> {\r\n        const operationName = layoutsOperationTypesDecoder.runWithException(args.operation);\r\n\r\n        const operation = operations[operationName];\r\n\r\n        if (!operation.execute) {\r\n            return;\r\n        }\r\n\r\n        let operationData: any = args.data;\r\n\r\n        if (operation.dataDecoder) {\r\n            operationData = operation.dataDecoder.runWithException(args.data);\r\n        }\r\n\r\n        return await operation.execute(operationData);\r\n    }\r\n\r\n    private toApi(): Glue42Web.Layouts.API {\r\n        const api: Glue42Web.Layouts.API = {\r\n            get: this.get.bind(this),\r\n            getAll: this.getAll.bind(this),\r\n            export: this.export.bind(this),\r\n            import: this.import.bind(this),\r\n            save: this.save.bind(this),\r\n            restore: this.restore.bind(this),\r\n            remove: this.remove.bind(this),\r\n            onAdded: this.onAdded.bind(this),\r\n            onChanged: this.onChanged.bind(this),\r\n            onRemoved: this.onRemoved.bind(this)\r\n        };\r\n\r\n        return Object.freeze(api);\r\n    }\r\n\r\n    private addOperationsExecutors(): void {\r\n        operations.layoutAdded.execute = this.handleOnAdded.bind(this);\r\n        operations.layoutChanged.execute = this.handleOnChanged.bind(this);\r\n        operations.layoutRemoved.execute = this.handleOnRemoved.bind(this);\r\n    }\r\n\r\n    private async get(name: string, type: Glue42Web.Layouts.LayoutType): Promise<Glue42Web.Layouts.Layout | undefined> {\r\n        nonEmptyStringDecoder.runWithException(name);\r\n        layoutTypeDecoder.runWithException(type);\r\n\r\n        const result = await this.bridge.send<SimpleLayoutConfig, OptionalSimpleLayoutResult>(\"layouts\", operations.get, { name, type });\r\n\r\n        return result.layout;\r\n    }\r\n\r\n    private async getAll(type: Glue42Web.Layouts.LayoutType): Promise<Glue42Web.Layouts.LayoutSummary[]> {\r\n        layoutTypeDecoder.runWithException(type);\r\n\r\n        const result = await this.bridge.send<GetAllLayoutsConfig, AllLayoutsSummariesResult>(\"layouts\", operations.getAll, { type });\r\n\r\n        return result.summaries;\r\n    }\r\n\r\n    private async export(type?: Glue42Web.Layouts.LayoutType): Promise<Glue42Web.Layouts.Layout[]> {\r\n        if (type) {\r\n            layoutTypeDecoder.runWithException(type);\r\n        }\r\n\r\n        // supports only workspaces for the moment\r\n        const result = await this.bridge.send<GetAllLayoutsConfig, AllLayoutsFullConfig>(\"layouts\", operations.export, { type: \"Workspace\" });\r\n\r\n        return result.layouts;\r\n    }\r\n\r\n    private async import(layouts: Glue42Web.Layouts.Layout[]): Promise<void> {\r\n        layouts.forEach((layout) => glueLayoutDecoder.runWithException(layout));\r\n\r\n        await this.bridge.send<AllLayoutsFullConfig, void>(\"layouts\", operations.import, { layouts });\r\n    }\r\n\r\n    private async save(layout: Glue42Web.Layouts.NewLayoutOptions): Promise<Glue42Web.Layouts.Layout> {\r\n        newLayoutOptionsDecoder.runWithException(layout);\r\n\r\n        throw new Error(\"Save is not supported in Core at the moment\");\r\n    }\r\n\r\n    private async restore(options: Glue42Web.Layouts.RestoreOptions): Promise<void> {\r\n        restoreOptionsDecoder.runWithException(options);\r\n\r\n        throw new Error(\"Restore is not supported in Core at the moment\");\r\n    }\r\n\r\n    private async remove(type: Glue42Web.Layouts.LayoutType, name: string): Promise<void> {\r\n        layoutTypeDecoder.runWithException(type);\r\n        nonEmptyStringDecoder.runWithException(name);\r\n\r\n        await this.bridge.send<SimpleLayoutConfig, void>(\"layouts\", operations.remove, { type, name });\r\n    }\r\n\r\n    private onAdded(callback: (layout: Glue42Web.Layouts.Layout) => void): UnsubscribeFunction {\r\n        return this.registry.add(operations.layoutAdded.name, callback);\r\n    }\r\n\r\n    private onChanged(callback: (layout: Glue42Web.Layouts.Layout) => void): UnsubscribeFunction {\r\n        return this.registry.add(operations.layoutChanged.name, callback);\r\n    }\r\n\r\n    private onRemoved(callback: (layout: Glue42Web.Layouts.Layout) => void): UnsubscribeFunction {\r\n        return this.registry.add(operations.layoutRemoved.name, callback);\r\n    }\r\n\r\n    private async handleOnAdded(layout: Glue42Web.Layouts.Layout): Promise<void> {\r\n        this.registry.execute(operations.layoutAdded.name, layout);\r\n    }\r\n\r\n    private async handleOnChanged(layout: Glue42Web.Layouts.Layout): Promise<void> {\r\n        this.registry.execute(operations.layoutChanged.name, layout);\r\n    }\r\n\r\n    private async handleOnRemoved(layout: Glue42Web.Layouts.Layout): Promise<void> {\r\n        this.registry.execute(operations.layoutRemoved.name, layout);\r\n    }\r\n}","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nfunction __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\n\nvar MetricTypes = {\r\n    STRING: 1,\r\n    NUMBER: 2,\r\n    TIMESTAMP: 3,\r\n    OBJECT: 4\r\n};\n\nfunction getMetricTypeByValue(metric) {\r\n    if (metric.type === MetricTypes.TIMESTAMP) {\r\n        return \"timestamp\";\r\n    }\r\n    else if (metric.type === MetricTypes.NUMBER) {\r\n        return \"number\";\r\n    }\r\n    else if (metric.type === MetricTypes.STRING) {\r\n        return \"string\";\r\n    }\r\n    else if (metric.type === MetricTypes.OBJECT) {\r\n        return \"object\";\r\n    }\r\n    return \"unknown\";\r\n}\r\nfunction getTypeByValue(value) {\r\n    if (value.constructor === Date) {\r\n        return \"timestamp\";\r\n    }\r\n    else if (typeof value === \"number\") {\r\n        return \"number\";\r\n    }\r\n    else if (typeof value === \"string\") {\r\n        return \"string\";\r\n    }\r\n    else if (typeof value === \"object\") {\r\n        return \"object\";\r\n    }\r\n    else {\r\n        return \"string\";\r\n    }\r\n}\r\nfunction serializeMetric(metric) {\r\n    var serializedMetrics = {};\r\n    var type = getMetricTypeByValue(metric);\r\n    if (type === \"object\") {\r\n        var values = Object.keys(metric.value).reduce(function (memo, key) {\r\n            var innerType = getTypeByValue(metric.value[key]);\r\n            if (innerType === \"object\") {\r\n                var composite = defineNestedComposite(metric.value[key]);\r\n                memo[key] = {\r\n                    type: \"object\",\r\n                    description: \"\",\r\n                    context: {},\r\n                    composite: composite,\r\n                };\r\n            }\r\n            else {\r\n                memo[key] = {\r\n                    type: innerType,\r\n                    description: \"\",\r\n                    context: {},\r\n                };\r\n            }\r\n            return memo;\r\n        }, {});\r\n        serializedMetrics.composite = values;\r\n    }\r\n    serializedMetrics.name = normalizeMetricName(metric.path.join(\"/\") + \"/\" + metric.name);\r\n    serializedMetrics.type = type;\r\n    serializedMetrics.description = metric.description;\r\n    serializedMetrics.context = {};\r\n    return serializedMetrics;\r\n}\r\nfunction defineNestedComposite(values) {\r\n    return Object.keys(values).reduce(function (memo, key) {\r\n        var type = getTypeByValue(values[key]);\r\n        if (type === \"object\") {\r\n            memo[key] = {\r\n                type: \"object\",\r\n                description: \"\",\r\n                context: {},\r\n                composite: defineNestedComposite(values[key]),\r\n            };\r\n        }\r\n        else {\r\n            memo[key] = {\r\n                type: type,\r\n                description: \"\",\r\n                context: {},\r\n            };\r\n        }\r\n        return memo;\r\n    }, {});\r\n}\r\nfunction normalizeMetricName(name) {\r\n    if (typeof name !== \"undefined\" && name.length > 0 && name[0] !== \"/\") {\r\n        return \"/\" + name;\r\n    }\r\n    else {\r\n        return name;\r\n    }\r\n}\r\nfunction getMetricValueByType(metric) {\r\n    var type = getMetricTypeByValue(metric);\r\n    if (type === \"timestamp\") {\r\n        return Date.now();\r\n    }\r\n    else {\r\n        return publishNestedComposite(metric.value);\r\n    }\r\n}\r\nfunction publishNestedComposite(values) {\r\n    if (typeof values !== \"object\") {\r\n        return values;\r\n    }\r\n    return Object.keys(values).reduce(function (memo, key) {\r\n        var value = values[key];\r\n        if (typeof value === \"object\" && value.constructor !== Date) {\r\n            memo[key] = publishNestedComposite(value);\r\n        }\r\n        else if (value.constructor === Date) {\r\n            memo[key] = new Date(value).getTime();\r\n        }\r\n        else if (value.constructor === Boolean) {\r\n            memo[key] = value.toString();\r\n        }\r\n        else {\r\n            memo[key] = value;\r\n        }\r\n        return memo;\r\n    }, {});\r\n}\r\nfunction flatten(arr) {\r\n    return arr.reduce(function (flat, toFlatten) {\r\n        return flat.concat(Array.isArray(toFlatten) ? flatten(toFlatten) : toFlatten);\r\n    }, []);\r\n}\r\nfunction getHighestState(arr) {\r\n    return arr.sort(function (a, b) {\r\n        if (!a.state) {\r\n            return 1;\r\n        }\r\n        if (!b.state) {\r\n            return -1;\r\n        }\r\n        return b.state - a.state;\r\n    })[0];\r\n}\r\nfunction aggregateDescription(arr) {\r\n    var msg = \"\";\r\n    arr.forEach(function (m, idx, a) {\r\n        var path = m.path.join(\".\");\r\n        if (idx === a.length - 1) {\r\n            msg += path + \".\" + m.name + \": \" + m.description;\r\n        }\r\n        else {\r\n            msg += path + \".\" + m.name + \": \" + m.description + \",\";\r\n        }\r\n    });\r\n    if (msg.length > 100) {\r\n        return msg.slice(0, 100) + \"...\";\r\n    }\r\n    else {\r\n        return msg;\r\n    }\r\n}\r\nfunction composeMsgForRootStateMetric(system) {\r\n    var aggregatedState = system.root.getAggregateState();\r\n    var merged = flatten(aggregatedState);\r\n    var highestState = getHighestState(merged);\r\n    var aggregateDesc = aggregateDescription(merged);\r\n    return {\r\n        description: aggregateDesc,\r\n        value: highestState.state,\r\n    };\r\n}\n\nfunction gw3 (connection, config) {\r\n    var _this = this;\r\n    if (!connection || typeof connection !== \"object\") {\r\n        throw new Error(\"Connection is required parameter\");\r\n    }\r\n    var joinPromise;\r\n    var session;\r\n    var init = function (repo) {\r\n        var resolveReadyPromise;\r\n        joinPromise = new Promise(function (resolve) {\r\n            resolveReadyPromise = resolve;\r\n        });\r\n        session = connection.domain(\"metrics\");\r\n        session.onJoined(function (reconnect) {\r\n            if (!reconnect && resolveReadyPromise) {\r\n                resolveReadyPromise();\r\n                resolveReadyPromise = undefined;\r\n            }\r\n            var rootStateMetric = {\r\n                name: \"/State\",\r\n                type: \"object\",\r\n                composite: {\r\n                    Description: {\r\n                        type: \"string\",\r\n                        description: \"\",\r\n                    },\r\n                    Value: {\r\n                        type: \"number\",\r\n                        description: \"\",\r\n                    },\r\n                },\r\n                description: \"System state\",\r\n                context: {},\r\n            };\r\n            var defineRootMetricsMsg = {\r\n                type: \"define\",\r\n                metrics: [rootStateMetric],\r\n            };\r\n            session.send(defineRootMetricsMsg);\r\n            if (reconnect) {\r\n                replayRepo(repo);\r\n            }\r\n        });\r\n        session.join({\r\n            system: config.system,\r\n            service: config.service,\r\n            instance: config.instance\r\n        });\r\n    };\r\n    var replayRepo = function (repo) {\r\n        replaySystem(repo.root);\r\n    };\r\n    var replaySystem = function (system) {\r\n        createSystem(system);\r\n        system.metrics.forEach(function (m) {\r\n            createMetric(m);\r\n        });\r\n        system.subSystems.forEach(function (ss) {\r\n            replaySystem(ss);\r\n        });\r\n    };\r\n    var createSystem = function (system) { return __awaiter(_this, void 0, void 0, function () {\r\n        var metric, createMetricsMsg;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    if (system.parent === undefined) {\r\n                        return [2];\r\n                    }\r\n                    return [4, joinPromise];\r\n                case 1:\r\n                    _a.sent();\r\n                    metric = {\r\n                        name: normalizeMetricName(system.path.join(\"/\") + \"/\" + system.name + \"/State\"),\r\n                        type: \"object\",\r\n                        composite: {\r\n                            Description: {\r\n                                type: \"string\",\r\n                                description: \"\",\r\n                            },\r\n                            Value: {\r\n                                type: \"number\",\r\n                                description: \"\",\r\n                            },\r\n                        },\r\n                        description: \"System state\",\r\n                        context: {},\r\n                    };\r\n                    createMetricsMsg = {\r\n                        type: \"define\",\r\n                        metrics: [metric],\r\n                    };\r\n                    session.send(createMetricsMsg);\r\n                    return [2];\r\n            }\r\n        });\r\n    }); };\r\n    var updateSystem = function (system, state) { return __awaiter(_this, void 0, void 0, function () {\r\n        var shadowedUpdateMetric, stateObj, rootMetric;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4, joinPromise];\r\n                case 1:\r\n                    _a.sent();\r\n                    shadowedUpdateMetric = {\r\n                        type: \"publish\",\r\n                        values: [{\r\n                                name: normalizeMetricName(system.path.join(\"/\") + \"/\" + system.name + \"/State\"),\r\n                                value: {\r\n                                    Description: state.description,\r\n                                    Value: state.state,\r\n                                },\r\n                                timestamp: Date.now(),\r\n                            }],\r\n                    };\r\n                    session.send(shadowedUpdateMetric);\r\n                    stateObj = composeMsgForRootStateMetric(system);\r\n                    rootMetric = {\r\n                        type: \"publish\",\r\n                        peer_id: connection.peerId,\r\n                        values: [{\r\n                                name: \"/State\",\r\n                                value: {\r\n                                    Description: stateObj.description,\r\n                                    Value: stateObj.value,\r\n                                },\r\n                                timestamp: Date.now(),\r\n                            }],\r\n                    };\r\n                    session.send(rootMetric);\r\n                    return [2];\r\n            }\r\n        });\r\n    }); };\r\n    var createMetric = function (metric) { return __awaiter(_this, void 0, void 0, function () {\r\n        var metricClone, m, createMetricsMsg;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    metricClone = cloneMetric(metric);\r\n                    return [4, joinPromise];\r\n                case 1:\r\n                    _a.sent();\r\n                    m = serializeMetric(metricClone);\r\n                    createMetricsMsg = {\r\n                        type: \"define\",\r\n                        metrics: [m],\r\n                    };\r\n                    session.send(createMetricsMsg);\r\n                    if (typeof metricClone.value !== \"undefined\") {\r\n                        updateMetricCore(metricClone);\r\n                    }\r\n                    return [2];\r\n            }\r\n        });\r\n    }); };\r\n    var updateMetric = function (metric) { return __awaiter(_this, void 0, void 0, function () {\r\n        var metricClone;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    metricClone = cloneMetric(metric);\r\n                    return [4, joinPromise];\r\n                case 1:\r\n                    _a.sent();\r\n                    updateMetricCore(metricClone);\r\n                    return [2];\r\n            }\r\n        });\r\n    }); };\r\n    var updateMetricCore = function (metric) {\r\n        if (canUpdate()) {\r\n            var value = getMetricValueByType(metric);\r\n            var publishMetricsMsg = {\r\n                type: \"publish\",\r\n                values: [{\r\n                        name: normalizeMetricName(metric.path.join(\"/\") + \"/\" + metric.name),\r\n                        value: value,\r\n                        timestamp: Date.now(),\r\n                    }],\r\n            };\r\n            return session.sendFireAndForget(publishMetricsMsg);\r\n        }\r\n        return Promise.resolve();\r\n    };\r\n    var cloneMetric = function (metric) {\r\n        var metricClone = __assign({}, metric);\r\n        if (typeof metric.value === \"object\" && metric.value !== null) {\r\n            metricClone.value = __assign({}, metric.value);\r\n        }\r\n        return metricClone;\r\n    };\r\n    var canUpdate = function () {\r\n        var _a;\r\n        try {\r\n            var func = (_a = config.canUpdateMetric) !== null && _a !== void 0 ? _a : (function () { return true; });\r\n            return func();\r\n        }\r\n        catch (_b) {\r\n            return true;\r\n        }\r\n    };\r\n    return {\r\n        init: init,\r\n        createSystem: createSystem,\r\n        updateSystem: updateSystem,\r\n        createMetric: createMetric,\r\n        updateMetric: updateMetric,\r\n    };\r\n}\n\nvar Helpers = {\r\n    validate: function (definition, parent, transport) {\r\n        if (definition === null || typeof definition !== \"object\") {\r\n            throw new Error(\"Missing definition\");\r\n        }\r\n        if (parent === null || typeof parent !== \"object\") {\r\n            throw new Error(\"Missing parent\");\r\n        }\r\n        if (transport === null || typeof transport !== \"object\") {\r\n            throw new Error(\"Missing transport\");\r\n        }\r\n    },\r\n};\n\nvar BaseMetric = (function () {\r\n    function BaseMetric(definition, system, transport, value, type) {\r\n        this.definition = definition;\r\n        this.system = system;\r\n        this.transport = transport;\r\n        this.value = value;\r\n        this.type = type;\r\n        this.path = [];\r\n        Helpers.validate(definition, system, transport);\r\n        this.path = system.path.slice(0);\r\n        this.path.push(system.name);\r\n        this.name = definition.name;\r\n        this.description = definition.description;\r\n        transport.createMetric(this);\r\n    }\r\n    Object.defineProperty(BaseMetric.prototype, \"repo\", {\r\n        get: function () {\r\n            var _a;\r\n            return (_a = this.system) === null || _a === void 0 ? void 0 : _a.repo;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(BaseMetric.prototype, \"id\", {\r\n        get: function () { return this.system.path + \"/\" + name; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    BaseMetric.prototype.update = function (newValue) {\r\n        this.value = newValue;\r\n        return this.transport.updateMetric(this);\r\n    };\r\n    return BaseMetric;\r\n}());\n\nvar NumberMetric = (function (_super) {\r\n    __extends(NumberMetric, _super);\r\n    function NumberMetric(definition, system, transport, value) {\r\n        return _super.call(this, definition, system, transport, value, MetricTypes.NUMBER) || this;\r\n    }\r\n    NumberMetric.prototype.incrementBy = function (num) {\r\n        this.update(this.value + num);\r\n    };\r\n    NumberMetric.prototype.increment = function () {\r\n        this.incrementBy(1);\r\n    };\r\n    NumberMetric.prototype.decrement = function () {\r\n        this.incrementBy(-1);\r\n    };\r\n    NumberMetric.prototype.decrementBy = function (num) {\r\n        this.incrementBy(num * -1);\r\n    };\r\n    return NumberMetric;\r\n}(BaseMetric));\n\nvar ObjectMetric = (function (_super) {\r\n    __extends(ObjectMetric, _super);\r\n    function ObjectMetric(definition, system, transport, value) {\r\n        return _super.call(this, definition, system, transport, value, MetricTypes.OBJECT) || this;\r\n    }\r\n    ObjectMetric.prototype.update = function (newValue) {\r\n        this.mergeValues(newValue);\r\n        return this.transport.updateMetric(this);\r\n    };\r\n    ObjectMetric.prototype.mergeValues = function (values) {\r\n        var _this = this;\r\n        return Object.keys(this.value).forEach(function (k) {\r\n            if (typeof values[k] !== \"undefined\") {\r\n                _this.value[k] = values[k];\r\n            }\r\n        });\r\n    };\r\n    return ObjectMetric;\r\n}(BaseMetric));\n\nvar StringMetric = (function (_super) {\r\n    __extends(StringMetric, _super);\r\n    function StringMetric(definition, system, transport, value) {\r\n        return _super.call(this, definition, system, transport, value, MetricTypes.STRING) || this;\r\n    }\r\n    return StringMetric;\r\n}(BaseMetric));\n\nvar TimestampMetric = (function (_super) {\r\n    __extends(TimestampMetric, _super);\r\n    function TimestampMetric(definition, system, transport, value) {\r\n        return _super.call(this, definition, system, transport, value, MetricTypes.TIMESTAMP) || this;\r\n    }\r\n    TimestampMetric.prototype.now = function () {\r\n        this.update(new Date());\r\n    };\r\n    return TimestampMetric;\r\n}(BaseMetric));\n\nfunction system(name, repo, protocol, parent, description) {\r\n    if (!repo) {\r\n        throw new Error(\"Repository is required\");\r\n    }\r\n    if (!protocol) {\r\n        throw new Error(\"Transport is required\");\r\n    }\r\n    var _transport = protocol;\r\n    var _name = name;\r\n    var _description = description || \"\";\r\n    var _repo = repo;\r\n    var _parent = parent;\r\n    var _path = _buildPath(parent);\r\n    var _state = {};\r\n    var id = _arrayToString(_path, \"/\") + name;\r\n    var root = repo.root;\r\n    var _subSystems = [];\r\n    var _metrics = [];\r\n    function subSystem(nameSystem, descriptionSystem) {\r\n        if (!nameSystem || nameSystem.length === 0) {\r\n            throw new Error(\"name is required\");\r\n        }\r\n        var match = _subSystems.filter(function (s) { return s.name === nameSystem; });\r\n        if (match.length > 0) {\r\n            return match[0];\r\n        }\r\n        var _system = system(nameSystem, _repo, _transport, me, descriptionSystem);\r\n        _subSystems.push(_system);\r\n        return _system;\r\n    }\r\n    function setState(state, stateDescription) {\r\n        _state = { state: state, description: stateDescription };\r\n        _transport.updateSystem(me, _state);\r\n    }\r\n    function stringMetric(definition, value) {\r\n        return _getOrCreateMetric(definition, MetricTypes.STRING, value, function (metricDef) { return new StringMetric(metricDef, me, _transport, value); });\r\n    }\r\n    function numberMetric(definition, value) {\r\n        return _getOrCreateMetric(definition, MetricTypes.NUMBER, value, function (metricDef) { return new NumberMetric(metricDef, me, _transport, value); });\r\n    }\r\n    function objectMetric(definition, value) {\r\n        return _getOrCreateMetric(definition, MetricTypes.OBJECT, value, function (metricDef) { return new ObjectMetric(metricDef, me, _transport, value); });\r\n    }\r\n    function timestampMetric(definition, value) {\r\n        return _getOrCreateMetric(definition, MetricTypes.TIMESTAMP, value, function (metricDef) { return new TimestampMetric(metricDef, me, _transport, value); });\r\n    }\r\n    function _getOrCreateMetric(metricObject, expectedType, value, createMetric) {\r\n        var metricDef = { name: \"\" };\r\n        if (typeof metricObject === \"string\") {\r\n            metricDef = { name: metricObject };\r\n        }\r\n        else {\r\n            metricDef = metricObject;\r\n        }\r\n        var matching = _metrics.filter(function (shadowedMetric) { return shadowedMetric.name === metricDef.name; });\r\n        if (matching.length > 0) {\r\n            var existing = matching[0];\r\n            if (existing.type !== expectedType) {\r\n                throw new Error(\"A metric named \" + metricDef.name + \" is already defined with different type.\");\r\n            }\r\n            if (typeof value !== \"undefined\") {\r\n                existing\r\n                    .update(value)\r\n                    .catch(function () { });\r\n            }\r\n            return existing;\r\n        }\r\n        var metric = createMetric(metricDef);\r\n        _metrics.push(metric);\r\n        return metric;\r\n    }\r\n    function _buildPath(shadowedSystem) {\r\n        if (!shadowedSystem || !shadowedSystem.parent) {\r\n            return [];\r\n        }\r\n        var path = _buildPath(shadowedSystem.parent);\r\n        path.push(shadowedSystem.name);\r\n        return path;\r\n    }\r\n    function _arrayToString(path, separator) {\r\n        return ((path && path.length > 0) ? path.join(separator) : \"\");\r\n    }\r\n    function getAggregateState() {\r\n        var aggState = [];\r\n        if (Object.keys(_state).length > 0) {\r\n            aggState.push({\r\n                name: _name,\r\n                path: _path,\r\n                state: _state.state,\r\n                description: _state.description,\r\n            });\r\n        }\r\n        _subSystems.forEach(function (shadowedSubSystem) {\r\n            var result = shadowedSubSystem.getAggregateState();\r\n            if (result.length > 0) {\r\n                aggState.push.apply(aggState, result);\r\n            }\r\n        });\r\n        return aggState;\r\n    }\r\n    var me = {\r\n        get name() {\r\n            return _name;\r\n        },\r\n        get description() {\r\n            return _description;\r\n        },\r\n        get repo() {\r\n            return _repo;\r\n        },\r\n        get parent() {\r\n            return _parent;\r\n        },\r\n        path: _path,\r\n        id: id,\r\n        root: root,\r\n        get subSystems() {\r\n            return _subSystems;\r\n        },\r\n        get metrics() {\r\n            return _metrics;\r\n        },\r\n        subSystem: subSystem,\r\n        getState: function () {\r\n            return _state;\r\n        },\r\n        setState: setState,\r\n        stringMetric: stringMetric,\r\n        timestampMetric: timestampMetric,\r\n        objectMetric: objectMetric,\r\n        numberMetric: numberMetric,\r\n        getAggregateState: getAggregateState,\r\n    };\r\n    _transport.createSystem(me);\r\n    return me;\r\n}\n\nvar Repository = (function () {\r\n    function Repository(options, protocol) {\r\n        protocol.init(this);\r\n        this.root = system(\"\", this, protocol);\r\n        this.addSystemMetrics(this.root, options.clickStream || options.clickStream === undefined);\r\n    }\r\n    Repository.prototype.addSystemMetrics = function (rootSystem, useClickStream) {\r\n        if (typeof navigator !== \"undefined\") {\r\n            rootSystem.stringMetric(\"UserAgent\", navigator.userAgent);\r\n        }\r\n        if (useClickStream && typeof document !== \"undefined\") {\r\n            var clickStream_1 = rootSystem.subSystem(\"ClickStream\");\r\n            var documentClickHandler = function (e) {\r\n                if (!e.target) {\r\n                    return;\r\n                }\r\n                var target = e.target;\r\n                clickStream_1.objectMetric(\"LastBrowserEvent\", {\r\n                    type: \"click\",\r\n                    timestamp: new Date(),\r\n                    target: {\r\n                        className: e.target ? target.className : \"\",\r\n                        id: target.id,\r\n                        type: \"<\" + target.tagName.toLowerCase() + \">\",\r\n                        href: target.href || \"\",\r\n                    },\r\n                });\r\n            };\r\n            clickStream_1.objectMetric(\"Page\", {\r\n                title: document.title,\r\n                page: window.location.href,\r\n            });\r\n            if (document.addEventListener) {\r\n                document.addEventListener(\"click\", documentClickHandler);\r\n            }\r\n            else {\r\n                document.attachEvent(\"onclick\", documentClickHandler);\r\n            }\r\n        }\r\n        var startTime = rootSystem.stringMetric(\"StartTime\", (new Date()).toString());\r\n        var urlMetric = rootSystem.stringMetric(\"StartURL\", \"\");\r\n        var appNameMetric = rootSystem.stringMetric(\"AppName\", \"\");\r\n        if (typeof window !== \"undefined\") {\r\n            if (typeof window.location !== \"undefined\") {\r\n                var startUrl = window.location.href;\r\n                urlMetric.update(startUrl);\r\n            }\r\n            if (typeof window.glue42gd !== \"undefined\") {\r\n                appNameMetric.update(window.glue42gd.appName);\r\n            }\r\n        }\r\n    };\r\n    return Repository;\r\n}());\n\nvar NullProtocol = (function () {\r\n    function NullProtocol() {\r\n    }\r\n    NullProtocol.prototype.init = function (repo) {\r\n    };\r\n    NullProtocol.prototype.createSystem = function (system) {\r\n        return Promise.resolve();\r\n    };\r\n    NullProtocol.prototype.updateSystem = function (metric, state) {\r\n        return Promise.resolve();\r\n    };\r\n    NullProtocol.prototype.createMetric = function (metric) {\r\n        return Promise.resolve();\r\n    };\r\n    NullProtocol.prototype.updateMetric = function (metric) {\r\n        return Promise.resolve();\r\n    };\r\n    return NullProtocol;\r\n}());\n\nvar PerfTracker = (function () {\r\n    function PerfTracker(api, initialPublishTimeout, publishInterval) {\r\n        this.api = api;\r\n        this.lastCount = 0;\r\n        this.initialPublishTimeout = 10 * 1000;\r\n        this.publishInterval = 60 * 1000;\r\n        this.initialPublishTimeout = initialPublishTimeout !== null && initialPublishTimeout !== void 0 ? initialPublishTimeout : this.initialPublishTimeout;\r\n        this.publishInterval = publishInterval !== null && publishInterval !== void 0 ? publishInterval : this.publishInterval;\r\n        this.scheduleCollection();\r\n        this.system = this.api.subSystem(\"performance\", \"Performance data published by the web application\");\r\n    }\r\n    PerfTracker.prototype.scheduleCollection = function () {\r\n        var _this = this;\r\n        setTimeout(function () {\r\n            _this.collect();\r\n            setInterval(function () {\r\n                _this.collect();\r\n            }, _this.publishInterval);\r\n        }, this.initialPublishTimeout);\r\n    };\r\n    PerfTracker.prototype.collect = function () {\r\n        try {\r\n            this.collectMemory();\r\n            this.collectEntries();\r\n        }\r\n        catch (_a) {\r\n        }\r\n    };\r\n    PerfTracker.prototype.collectMemory = function () {\r\n        var memory = window.performance.memory;\r\n        this.system.stringMetric(\"memory\", JSON.stringify({\r\n            totalJSHeapSize: memory.totalJSHeapSize,\r\n            usedJSHeapSize: memory.usedJSHeapSize\r\n        }));\r\n    };\r\n    PerfTracker.prototype.collectEntries = function () {\r\n        var allEntries = window.performance.getEntries();\r\n        if (allEntries.length <= this.lastCount) {\r\n            return;\r\n        }\r\n        this.lastCount = allEntries.length;\r\n        this.system.stringMetric(\"entries\", JSON.stringify(allEntries));\r\n    };\r\n    return PerfTracker;\r\n}());\n\nvar metrics = (function (options) {\r\n    var protocol;\r\n    if (!options.connection || typeof options.connection !== \"object\") {\r\n        protocol = new NullProtocol();\r\n    }\r\n    else {\r\n        protocol = gw3(options.connection, options);\r\n    }\r\n    var repo = new Repository(options, protocol);\r\n    var rootSystem = repo.root;\r\n    if (!options.disableAutoAppSystem) {\r\n        rootSystem = rootSystem.subSystem(\"App\");\r\n    }\r\n    var api = addFAVSupport(rootSystem);\r\n    initPerf(api, options.pagePerformanceMetrics);\r\n    return api;\r\n});\r\nvar perf;\r\nfunction initPerf(api, config) {\r\n    var _a, _b;\r\n    if (typeof window === \"undefined\") {\r\n        return;\r\n    }\r\n    var perfConfig = (_b = (_a = window === null || window === void 0 ? void 0 : window.glue42gd) === null || _a === void 0 ? void 0 : _a.metrics) === null || _b === void 0 ? void 0 : _b.pagePerformanceMetrics;\r\n    if (perfConfig) {\r\n        config = perfConfig;\r\n    }\r\n    if (config === null || config === void 0 ? void 0 : config.enabled) {\r\n        perf = new PerfTracker(api, config.initialPublishTimeout, config.publishInterval);\r\n    }\r\n}\r\nfunction addFAVSupport(system) {\r\n    var reportingSystem = system.subSystem(\"reporting\");\r\n    var def = {\r\n        name: \"features\"\r\n    };\r\n    var featureMetric;\r\n    var featureMetricFunc = function (name, action, payload) {\r\n        if (typeof name === \"undefined\" || name === \"\") {\r\n            throw new Error(\"name is mandatory\");\r\n        }\r\n        else if (typeof action === \"undefined\" || action === \"\") {\r\n            throw new Error(\"action is mandatory\");\r\n        }\r\n        else if (typeof payload === \"undefined\" || payload === \"\") {\r\n            throw new Error(\"payload is mandatory\");\r\n        }\r\n        if (!featureMetric) {\r\n            featureMetric = reportingSystem.objectMetric(def, { name: name, action: action, payload: payload });\r\n        }\r\n        else {\r\n            featureMetric.update({\r\n                name: name,\r\n                action: action,\r\n                payload: payload\r\n            });\r\n        }\r\n    };\r\n    system.featureMetric = featureMetricFunc;\r\n    return system;\r\n}\n\nfunction createRegistry(options) {\r\n    if (options && options.errorHandling\r\n        && typeof options.errorHandling !== \"function\"\r\n        && options.errorHandling !== \"log\"\r\n        && options.errorHandling !== \"silent\"\r\n        && options.errorHandling !== \"throw\") {\r\n        throw new Error(\"Invalid options passed to createRegistry. Prop errorHandling should be [\\\"log\\\" | \\\"silent\\\" | \\\"throw\\\" | (err) => void], but \" + typeof options.errorHandling + \" was passed\");\r\n    }\r\n    var _userErrorHandler = options && typeof options.errorHandling === \"function\" && options.errorHandling;\r\n    var callbacks = {};\r\n    function add(key, callback, replayArgumentsArr) {\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey) {\r\n            callbacksForKey = [];\r\n            callbacks[key] = callbacksForKey;\r\n        }\r\n        callbacksForKey.push(callback);\r\n        if (replayArgumentsArr) {\r\n            setTimeout(function () {\r\n                replayArgumentsArr.forEach(function (replayArgument) {\r\n                    var _a;\r\n                    if ((_a = callbacks[key]) === null || _a === void 0 ? void 0 : _a.includes(callback)) {\r\n                        try {\r\n                            if (Array.isArray(replayArgument)) {\r\n                                callback.apply(undefined, replayArgument);\r\n                            }\r\n                            else {\r\n                                callback.apply(undefined, [replayArgument]);\r\n                            }\r\n                        }\r\n                        catch (err) {\r\n                            _handleError(err, key);\r\n                        }\r\n                    }\r\n                });\r\n            }, 0);\r\n        }\r\n        return function () {\r\n            var allForKey = callbacks[key];\r\n            if (!allForKey) {\r\n                return;\r\n            }\r\n            allForKey = allForKey.reduce(function (acc, element, index) {\r\n                if (!(element === callback && acc.length === index)) {\r\n                    acc.push(element);\r\n                }\r\n                return acc;\r\n            }, []);\r\n            if (allForKey.length === 0) {\r\n                delete callbacks[key];\r\n            }\r\n            else {\r\n                callbacks[key] = allForKey;\r\n            }\r\n        };\r\n    }\r\n    function execute(key) {\r\n        var argumentsArr = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            argumentsArr[_i - 1] = arguments[_i];\r\n        }\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey || callbacksForKey.length === 0) {\r\n            return [];\r\n        }\r\n        var results = [];\r\n        callbacksForKey.forEach(function (callback) {\r\n            try {\r\n                var result = callback.apply(undefined, argumentsArr);\r\n                results.push(result);\r\n            }\r\n            catch (err) {\r\n                results.push(undefined);\r\n                _handleError(err, key);\r\n            }\r\n        });\r\n        return results;\r\n    }\r\n    function _handleError(exceptionArtifact, key) {\r\n        var errParam = exceptionArtifact instanceof Error ? exceptionArtifact : new Error(exceptionArtifact);\r\n        if (_userErrorHandler) {\r\n            _userErrorHandler(errParam);\r\n            return;\r\n        }\r\n        var msg = \"[ERROR] callback-registry: User callback for key \\\"\" + key + \"\\\" failed: \" + errParam.stack;\r\n        if (options) {\r\n            switch (options.errorHandling) {\r\n                case \"log\":\r\n                    return console.error(msg);\r\n                case \"silent\":\r\n                    return;\r\n                case \"throw\":\r\n                    throw new Error(msg);\r\n            }\r\n        }\r\n        console.error(msg);\r\n    }\r\n    function clear() {\r\n        callbacks = {};\r\n    }\r\n    function clearKey(key) {\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey) {\r\n            return;\r\n        }\r\n        delete callbacks[key];\r\n    }\r\n    return {\r\n        add: add,\r\n        execute: execute,\r\n        clear: clear,\r\n        clearKey: clearKey\r\n    };\r\n}\r\ncreateRegistry.default = createRegistry;\r\nvar lib = createRegistry;\n\nvar InProcTransport = (function () {\r\n    function InProcTransport(settings, logger) {\r\n        var _this = this;\r\n        this.registry = lib();\r\n        this.gw = settings.facade;\r\n        this.gw.connect(function (_client, message) {\r\n            _this.messageHandler(message);\r\n        }).then(function (client) {\r\n            _this.client = client;\r\n        });\r\n    }\r\n    Object.defineProperty(InProcTransport.prototype, \"isObjectBasedTransport\", {\r\n        get: function () {\r\n            return true;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    InProcTransport.prototype.sendObject = function (msg) {\r\n        if (this.client) {\r\n            this.client.send(msg);\r\n            return Promise.resolve(undefined);\r\n        }\r\n        else {\r\n            return Promise.reject(\"not connected\");\r\n        }\r\n    };\r\n    InProcTransport.prototype.send = function (_msg) {\r\n        return Promise.reject(\"not supported\");\r\n    };\r\n    InProcTransport.prototype.onMessage = function (callback) {\r\n        return this.registry.add(\"onMessage\", callback);\r\n    };\r\n    InProcTransport.prototype.onConnectedChanged = function (callback) {\r\n        callback(true);\r\n    };\r\n    InProcTransport.prototype.close = function () {\r\n        return Promise.resolve();\r\n    };\r\n    InProcTransport.prototype.open = function () {\r\n        return Promise.resolve();\r\n    };\r\n    InProcTransport.prototype.name = function () {\r\n        return \"in-memory\";\r\n    };\r\n    InProcTransport.prototype.reconnect = function () {\r\n        return Promise.resolve();\r\n    };\r\n    InProcTransport.prototype.messageHandler = function (msg) {\r\n        this.registry.execute(\"onMessage\", msg);\r\n    };\r\n    return InProcTransport;\r\n}());\n\nvar SharedWorkerTransport = (function () {\r\n    function SharedWorkerTransport(workerFile, logger) {\r\n        var _this = this;\r\n        this.logger = logger;\r\n        this.registry = lib();\r\n        this.worker = new SharedWorker(workerFile);\r\n        this.worker.port.onmessage = function (e) {\r\n            _this.messageHandler(e.data);\r\n        };\r\n    }\r\n    Object.defineProperty(SharedWorkerTransport.prototype, \"isObjectBasedTransport\", {\r\n        get: function () {\r\n            return true;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    SharedWorkerTransport.prototype.sendObject = function (msg) {\r\n        this.worker.port.postMessage(msg);\r\n        return Promise.resolve();\r\n    };\r\n    SharedWorkerTransport.prototype.send = function (_msg) {\r\n        return Promise.reject(\"not supported\");\r\n    };\r\n    SharedWorkerTransport.prototype.onMessage = function (callback) {\r\n        return this.registry.add(\"onMessage\", callback);\r\n    };\r\n    SharedWorkerTransport.prototype.onConnectedChanged = function (callback) {\r\n        callback(true);\r\n    };\r\n    SharedWorkerTransport.prototype.close = function () {\r\n        return Promise.resolve();\r\n    };\r\n    SharedWorkerTransport.prototype.open = function () {\r\n        return Promise.resolve();\r\n    };\r\n    SharedWorkerTransport.prototype.name = function () {\r\n        return \"shared-worker\";\r\n    };\r\n    SharedWorkerTransport.prototype.reconnect = function () {\r\n        return Promise.resolve();\r\n    };\r\n    SharedWorkerTransport.prototype.messageHandler = function (msg) {\r\n        this.registry.execute(\"onMessage\", msg);\r\n    };\r\n    return SharedWorkerTransport;\r\n}());\n\nvar Utils = (function () {\r\n    function Utils() {\r\n    }\r\n    Utils.getGDMajorVersion = function () {\r\n        if (typeof window === \"undefined\") {\r\n            return undefined;\r\n        }\r\n        if (!window.glueDesktop) {\r\n            return undefined;\r\n        }\r\n        if (!window.glueDesktop.version) {\r\n            return undefined;\r\n        }\r\n        var ver = Number(window.glueDesktop.version.substr(0, 1));\r\n        return isNaN(ver) ? undefined : ver;\r\n    };\r\n    Utils.isNode = function () {\r\n        if (typeof Utils._isNode !== \"undefined\") {\r\n            return Utils._isNode;\r\n        }\r\n        if (typeof window !== \"undefined\") {\r\n            Utils._isNode = false;\r\n            return false;\r\n        }\r\n        try {\r\n            Utils._isNode = Object.prototype.toString.call(global.process) === \"[object process]\";\r\n        }\r\n        catch (e) {\r\n            Utils._isNode = false;\r\n        }\r\n        return Utils._isNode;\r\n    };\r\n    return Utils;\r\n}());\n\nvar PromiseWrapper = (function () {\r\n    function PromiseWrapper() {\r\n        var _this = this;\r\n        this.rejected = false;\r\n        this.resolved = false;\r\n        this.promise = new Promise(function (resolve, reject) {\r\n            _this.resolve = function (t) {\r\n                _this.resolved = true;\r\n                resolve(t);\r\n            };\r\n            _this.reject = function (err) {\r\n                _this.rejected = true;\r\n                reject(err);\r\n            };\r\n        });\r\n    }\r\n    PromiseWrapper.delay = function (time) {\r\n        return new Promise(function (resolve) { return setTimeout(resolve, time); });\r\n    };\r\n    Object.defineProperty(PromiseWrapper.prototype, \"ended\", {\r\n        get: function () {\r\n            return this.rejected || this.resolved;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return PromiseWrapper;\r\n}());\n\nvar timers = {};\r\nfunction getAllTimers() {\r\n    return timers;\r\n}\r\nfunction timer (timerName) {\r\n    var existing = timers[timerName];\r\n    if (existing) {\r\n        return existing;\r\n    }\r\n    var marks = [];\r\n    function now() {\r\n        return new Date().getTime();\r\n    }\r\n    var startTime = now();\r\n    mark(\"start\", startTime);\r\n    var endTime;\r\n    var period;\r\n    function stop() {\r\n        endTime = now();\r\n        mark(\"end\", endTime);\r\n        period = endTime - startTime;\r\n        return period;\r\n    }\r\n    function mark(name, time) {\r\n        var currentTime = time !== null && time !== void 0 ? time : now();\r\n        var diff = 0;\r\n        if (marks.length > 0) {\r\n            diff = currentTime - marks[marks.length - 1].time;\r\n        }\r\n        marks.push({ name: name, time: currentTime, diff: diff });\r\n    }\r\n    var timerObj = {\r\n        get startTime() {\r\n            return startTime;\r\n        },\r\n        get endTime() {\r\n            return endTime;\r\n        },\r\n        get period() {\r\n            return period;\r\n        },\r\n        stop: stop,\r\n        mark: mark,\r\n        marks: marks\r\n    };\r\n    timers[timerName] = timerObj;\r\n    return timerObj;\r\n}\n\nvar WebSocketConstructor = Utils.isNode() ? require(\"ws\") : window.WebSocket;\r\nvar WS = (function () {\r\n    function WS(settings, logger) {\r\n        this.startupTimer = timer(\"connection\");\r\n        this._running = true;\r\n        this._registry = lib();\r\n        this.wsRequests = [];\r\n        this.settings = settings;\r\n        this.logger = logger;\r\n        if (!this.settings.ws) {\r\n            throw new Error(\"ws is missing\");\r\n        }\r\n    }\r\n    WS.prototype.onMessage = function (callback) {\r\n        return this._registry.add(\"onMessage\", callback);\r\n    };\r\n    WS.prototype.send = function (msg, options) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this.waitForSocketConnection(function () {\r\n                var _a;\r\n                try {\r\n                    (_a = _this.ws) === null || _a === void 0 ? void 0 : _a.send(msg);\r\n                    resolve();\r\n                }\r\n                catch (e) {\r\n                    reject(e);\r\n                }\r\n            }, reject);\r\n        });\r\n    };\r\n    WS.prototype.open = function () {\r\n        var _this = this;\r\n        this.logger.info(\"opening ws...\");\r\n        this._running = true;\r\n        return new Promise(function (resolve, reject) {\r\n            _this.waitForSocketConnection(resolve, reject);\r\n        });\r\n    };\r\n    WS.prototype.close = function () {\r\n        this._running = false;\r\n        if (this.ws) {\r\n            this.ws.close();\r\n        }\r\n        return Promise.resolve();\r\n    };\r\n    WS.prototype.onConnectedChanged = function (callback) {\r\n        return this._registry.add(\"onConnectedChanged\", callback);\r\n    };\r\n    WS.prototype.name = function () {\r\n        return \"ws \" + this.settings.ws;\r\n    };\r\n    WS.prototype.reconnect = function () {\r\n        var _a;\r\n        (_a = this.ws) === null || _a === void 0 ? void 0 : _a.close();\r\n        var pw = new PromiseWrapper();\r\n        this.waitForSocketConnection(function () {\r\n            pw.resolve();\r\n        });\r\n        return pw.promise;\r\n    };\r\n    WS.prototype.waitForSocketConnection = function (callback, failed) {\r\n        var _a;\r\n        failed = failed !== null && failed !== void 0 ? failed : (function () { });\r\n        if (!this._running) {\r\n            failed(\"wait for socket on \" + this.settings.ws + \" failed - socket closed by user\");\r\n            return;\r\n        }\r\n        if (((_a = this.ws) === null || _a === void 0 ? void 0 : _a.readyState) === 1) {\r\n            callback();\r\n            return;\r\n        }\r\n        this.wsRequests.push({ callback: callback, failed: failed });\r\n        if (this.wsRequests.length > 1) {\r\n            return;\r\n        }\r\n        this.openSocket();\r\n    };\r\n    WS.prototype.openSocket = function (retryInterval, retriesLeft) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _a;\r\n            var _this = this;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        this.startupTimer.mark(\"opening-socket\");\r\n                        if (retryInterval === undefined) {\r\n                            retryInterval = this.settings.reconnectInterval;\r\n                        }\r\n                        if (retriesLeft !== undefined) {\r\n                            if (retriesLeft === 0) {\r\n                                this.notifyForSocketState(\"wait for socket on \" + this.settings.ws + \" failed - no more retries left\");\r\n                                return [2];\r\n                            }\r\n                            this.logger.debug(\"will retry \" + retriesLeft + \" more times (every \" + retryInterval + \" ms)\");\r\n                        }\r\n                        _b.label = 1;\r\n                    case 1:\r\n                        _b.trys.push([1, 3, , 4]);\r\n                        return [4, this.initiateSocket()];\r\n                    case 2:\r\n                        _b.sent();\r\n                        this.startupTimer.mark(\"socket-initiated\");\r\n                        this.notifyForSocketState();\r\n                        return [3, 4];\r\n                    case 3:\r\n                        _a = _b.sent();\r\n                        setTimeout(function () {\r\n                            var retries = retriesLeft === undefined ? undefined : retriesLeft - 1;\r\n                            _this.openSocket(retryInterval, retries);\r\n                        }, retryInterval);\r\n                        return [3, 4];\r\n                    case 4: return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    WS.prototype.initiateSocket = function () {\r\n        var _this = this;\r\n        var pw = new PromiseWrapper();\r\n        this.logger.debug(\"initiating ws to \" + this.settings.ws + \"...\");\r\n        this.ws = new WebSocketConstructor(this.settings.ws || \"\");\r\n        this.ws.onerror = function (err) {\r\n            var reason = \"\";\r\n            try {\r\n                reason = JSON.stringify(err);\r\n            }\r\n            catch (error) {\r\n                var seen_1 = new WeakSet();\r\n                var replacer = function (key, value) {\r\n                    if (typeof value === \"object\" && value !== null) {\r\n                        if (seen_1.has(value)) {\r\n                            return;\r\n                        }\r\n                        seen_1.add(value);\r\n                    }\r\n                    return value;\r\n                };\r\n                reason = JSON.stringify(err, replacer);\r\n            }\r\n            pw.reject(\"error\");\r\n            _this.notifyStatusChanged(false, reason);\r\n        };\r\n        this.ws.onclose = function (err) {\r\n            _this.logger.info(\"ws closed \" + err);\r\n            pw.reject(\"closed\");\r\n            _this.notifyStatusChanged(false);\r\n        };\r\n        this.ws.onopen = function () {\r\n            var _a;\r\n            _this.startupTimer.mark(\"ws-opened\");\r\n            _this.logger.info(\"ws opened \" + ((_a = _this.settings.identity) === null || _a === void 0 ? void 0 : _a.application));\r\n            pw.resolve();\r\n            _this.notifyStatusChanged(true);\r\n        };\r\n        this.ws.onmessage = function (message) {\r\n            _this._registry.execute(\"onMessage\", message.data);\r\n        };\r\n        return pw.promise;\r\n    };\r\n    WS.prototype.notifyForSocketState = function (error) {\r\n        this.wsRequests.forEach(function (wsRequest) {\r\n            if (error) {\r\n                if (wsRequest.failed) {\r\n                    wsRequest.failed(error);\r\n                }\r\n            }\r\n            else {\r\n                wsRequest.callback();\r\n            }\r\n        });\r\n        this.wsRequests = [];\r\n    };\r\n    WS.prototype.notifyStatusChanged = function (status, reason) {\r\n        this._registry.execute(\"onConnectedChanged\", status, reason);\r\n    };\r\n    return WS;\r\n}());\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\n// Found this seed-based random generator somewhere\n// Based on The Central Randomizer 1.3 (C) 1997 by Paul Houle (houle@msc.cornell.edu)\n\nvar seed = 1;\n\n/**\n * return a random number based on a seed\n * @param seed\n * @returns {number}\n */\nfunction getNextValue() {\n    seed = (seed * 9301 + 49297) % 233280;\n    return seed/(233280.0);\n}\n\nfunction setSeed(_seed_) {\n    seed = _seed_;\n}\n\nvar randomFromSeed = {\n    nextValue: getNextValue,\n    seed: setSeed\n};\n\nvar ORIGINAL = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-';\nvar alphabet;\nvar previousSeed;\n\nvar shuffled;\n\nfunction reset() {\n    shuffled = false;\n}\n\nfunction setCharacters(_alphabet_) {\n    if (!_alphabet_) {\n        if (alphabet !== ORIGINAL) {\n            alphabet = ORIGINAL;\n            reset();\n        }\n        return;\n    }\n\n    if (_alphabet_ === alphabet) {\n        return;\n    }\n\n    if (_alphabet_.length !== ORIGINAL.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. You submitted ' + _alphabet_.length + ' characters: ' + _alphabet_);\n    }\n\n    var unique = _alphabet_.split('').filter(function(item, ind, arr){\n       return ind !== arr.lastIndexOf(item);\n    });\n\n    if (unique.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. These characters were not unique: ' + unique.join(', '));\n    }\n\n    alphabet = _alphabet_;\n    reset();\n}\n\nfunction characters(_alphabet_) {\n    setCharacters(_alphabet_);\n    return alphabet;\n}\n\nfunction setSeed$1(seed) {\n    randomFromSeed.seed(seed);\n    if (previousSeed !== seed) {\n        reset();\n        previousSeed = seed;\n    }\n}\n\nfunction shuffle() {\n    if (!alphabet) {\n        setCharacters(ORIGINAL);\n    }\n\n    var sourceArray = alphabet.split('');\n    var targetArray = [];\n    var r = randomFromSeed.nextValue();\n    var characterIndex;\n\n    while (sourceArray.length > 0) {\n        r = randomFromSeed.nextValue();\n        characterIndex = Math.floor(r * sourceArray.length);\n        targetArray.push(sourceArray.splice(characterIndex, 1)[0]);\n    }\n    return targetArray.join('');\n}\n\nfunction getShuffled() {\n    if (shuffled) {\n        return shuffled;\n    }\n    shuffled = shuffle();\n    return shuffled;\n}\n\n/**\n * lookup shuffled letter\n * @param index\n * @returns {string}\n */\nfunction lookup(index) {\n    var alphabetShuffled = getShuffled();\n    return alphabetShuffled[index];\n}\n\nvar alphabet_1 = {\n    characters: characters,\n    seed: setSeed$1,\n    lookup: lookup,\n    shuffled: getShuffled\n};\n\nvar crypto = typeof window === 'object' && (window.crypto || window.msCrypto); // IE 11 uses window.msCrypto\n\nfunction randomByte() {\n    if (!crypto || !crypto.getRandomValues) {\n        return Math.floor(Math.random() * 256) & 0x30;\n    }\n    var dest = new Uint8Array(1);\n    crypto.getRandomValues(dest);\n    return dest[0] & 0x30;\n}\n\nvar randomByteBrowser = randomByte;\n\nfunction encode(lookup, number) {\n    var loopCounter = 0;\n    var done;\n\n    var str = '';\n\n    while (!done) {\n        str = str + lookup( ( (number >> (4 * loopCounter)) & 0x0f ) | randomByteBrowser() );\n        done = number < (Math.pow(16, loopCounter + 1 ) );\n        loopCounter++;\n    }\n    return str;\n}\n\nvar encode_1 = encode;\n\n/**\n * Decode the id to get the version and worker\n * Mainly for debugging and testing.\n * @param id - the shortid-generated id.\n */\nfunction decode(id) {\n    var characters = alphabet_1.shuffled();\n    return {\n        version: characters.indexOf(id.substr(0, 1)) & 0x0f,\n        worker: characters.indexOf(id.substr(1, 1)) & 0x0f\n    };\n}\n\nvar decode_1 = decode;\n\nfunction isShortId(id) {\n    if (!id || typeof id !== 'string' || id.length < 6 ) {\n        return false;\n    }\n\n    var characters = alphabet_1.characters();\n    var len = id.length;\n    for(var i = 0; i < len;i++) {\n        if (characters.indexOf(id[i]) === -1) {\n            return false;\n        }\n    }\n    return true;\n}\n\nvar isValid = isShortId;\n\nvar lib$1 = createCommonjsModule(function (module) {\n\n\n\n\n\n\n// Ignore all milliseconds before a certain time to reduce the size of the date entropy without sacrificing uniqueness.\n// This number should be updated every year or so to keep the generated id short.\n// To regenerate `new Date() - 0` and bump the version. Always bump the version!\nvar REDUCE_TIME = 1459707606518;\n\n// don't change unless we change the algos or REDUCE_TIME\n// must be an integer and less than 16\nvar version = 6;\n\n// if you are using cluster or multiple servers use this to make each instance\n// has a unique value for worker\n// Note: I don't know if this is automatically set when using third\n// party cluster solutions such as pm2.\nvar clusterWorkerId =  0;\n\n// Counter is used when shortid is called multiple times in one second.\nvar counter;\n\n// Remember the last time shortid was called in case counter is needed.\nvar previousSeconds;\n\n/**\n * Generate unique id\n * Returns string id\n */\nfunction generate() {\n\n    var str = '';\n\n    var seconds = Math.floor((Date.now() - REDUCE_TIME) * 0.001);\n\n    if (seconds === previousSeconds) {\n        counter++;\n    } else {\n        counter = 0;\n        previousSeconds = seconds;\n    }\n\n    str = str + encode_1(alphabet_1.lookup, version);\n    str = str + encode_1(alphabet_1.lookup, clusterWorkerId);\n    if (counter > 0) {\n        str = str + encode_1(alphabet_1.lookup, counter);\n    }\n    str = str + encode_1(alphabet_1.lookup, seconds);\n\n    return str;\n}\n\n\n/**\n * Set the seed.\n * Highly recommended if you don't want people to try to figure out your id schema.\n * exposed as shortid.seed(int)\n * @param seed Integer value to seed the random alphabet.  ALWAYS USE THE SAME SEED or you might get overlaps.\n */\nfunction seed(seedValue) {\n    alphabet_1.seed(seedValue);\n    return module.exports;\n}\n\n/**\n * Set the cluster worker or machine id\n * exposed as shortid.worker(int)\n * @param workerId worker must be positive integer.  Number less than 16 is recommended.\n * returns shortid module so it can be chained.\n */\nfunction worker(workerId) {\n    clusterWorkerId = workerId;\n    return module.exports;\n}\n\n/**\n *\n * sets new characters to use in the alphabet\n * returns the shuffled alphabet\n */\nfunction characters(newCharacters) {\n    if (newCharacters !== undefined) {\n        alphabet_1.characters(newCharacters);\n    }\n\n    return alphabet_1.shuffled();\n}\n\n\n// Export all other functions as properties of the generate function\nmodule.exports = generate;\nmodule.exports.generate = generate;\nmodule.exports.seed = seed;\nmodule.exports.worker = worker;\nmodule.exports.characters = characters;\nmodule.exports.decode = decode_1;\nmodule.exports.isValid = isValid;\n});\nvar lib_1 = lib$1.generate;\nvar lib_2 = lib$1.seed;\nvar lib_3 = lib$1.worker;\nvar lib_4 = lib$1.characters;\nvar lib_5 = lib$1.decode;\nvar lib_6 = lib$1.isValid;\n\nvar shortid = lib$1;\n\nfunction domainSession (domain, connection, logger, successMessages, errorMessages) {\r\n    if (domain == null) {\r\n        domain = \"global\";\r\n    }\r\n    successMessages = successMessages || [\"success\"];\r\n    errorMessages = errorMessages || [\"error\"];\r\n    var isJoined = false;\r\n    var tryReconnecting = false;\r\n    var _latestOptions;\r\n    var _connectionOn = false;\r\n    var callbacks = lib();\r\n    connection.disconnected(handleConnectionDisconnected);\r\n    connection.loggedIn(handleConnectionLoggedIn);\r\n    connection.on(\"success\", function (msg) { return handleSuccessMessage(msg); });\r\n    connection.on(\"error\", function (msg) { return handleErrorMessage(msg); });\r\n    connection.on(\"result\", function (msg) { return handleSuccessMessage(msg); });\r\n    if (successMessages) {\r\n        successMessages.forEach(function (sm) {\r\n            connection.on(sm, function (msg) { return handleSuccessMessage(msg); });\r\n        });\r\n    }\r\n    if (errorMessages) {\r\n        errorMessages.forEach(function (sm) {\r\n            connection.on(sm, function (msg) { return handleErrorMessage(msg); });\r\n        });\r\n    }\r\n    var requestsMap = {};\r\n    function join(options) {\r\n        _latestOptions = options;\r\n        return new Promise(function (resolve, reject) {\r\n            if (isJoined) {\r\n                resolve();\r\n                return;\r\n            }\r\n            var joinPromise;\r\n            if (domain === \"global\") {\r\n                joinPromise = _connectionOn ? Promise.resolve({}) : Promise.reject(\"not connected to gateway\");\r\n            }\r\n            else {\r\n                logger.debug(\"joining domain \" + domain);\r\n                var joinMsg = {\r\n                    type: \"join\",\r\n                    destination: domain,\r\n                    domain: \"global\",\r\n                    options: options,\r\n                };\r\n                joinPromise = send(joinMsg);\r\n            }\r\n            joinPromise\r\n                .then(function () {\r\n                handleJoined();\r\n                resolve();\r\n            })\r\n                .catch(function (err) {\r\n                logger.debug(\"error joining \" + domain + \" domain: \" + JSON.stringify(err));\r\n                reject(err);\r\n            });\r\n        });\r\n    }\r\n    function leave() {\r\n        if (domain === \"global\") {\r\n            return Promise.resolve();\r\n        }\r\n        logger.debug(\"stopping session \" + domain + \"...\");\r\n        var leaveMsg = {\r\n            type: \"leave\",\r\n            destination: domain,\r\n            domain: \"global\",\r\n        };\r\n        tryReconnecting = false;\r\n        return send(leaveMsg).then(function () {\r\n            isJoined = false;\r\n            callbacks.execute(\"onLeft\");\r\n        });\r\n    }\r\n    function handleJoined() {\r\n        logger.debug(\"did join \" + domain);\r\n        isJoined = true;\r\n        var wasReconnect = tryReconnecting;\r\n        tryReconnecting = false;\r\n        callbacks.execute(\"onJoined\", wasReconnect);\r\n    }\r\n    function handleConnectionDisconnected() {\r\n        _connectionOn = false;\r\n        logger.debug(\"connection is down\");\r\n        isJoined = false;\r\n        tryReconnecting = true;\r\n        callbacks.execute(\"onLeft\", { disconnected: true });\r\n    }\r\n    function handleConnectionLoggedIn() {\r\n        _connectionOn = true;\r\n        if (tryReconnecting) {\r\n            logger.debug(\"connection is now up - trying to reconnect...\");\r\n            join(_latestOptions);\r\n        }\r\n    }\r\n    function onJoined(callback) {\r\n        if (isJoined) {\r\n            callback(false);\r\n        }\r\n        return callbacks.add(\"onJoined\", callback);\r\n    }\r\n    function onLeft(callback) {\r\n        if (!isJoined) {\r\n            callback();\r\n        }\r\n        return callbacks.add(\"onLeft\", callback);\r\n    }\r\n    function handleErrorMessage(msg) {\r\n        if (domain !== msg.domain) {\r\n            return;\r\n        }\r\n        var requestId = msg.request_id;\r\n        if (!requestId) {\r\n            return;\r\n        }\r\n        var entry = requestsMap[requestId];\r\n        if (!entry) {\r\n            return;\r\n        }\r\n        entry.error(msg);\r\n    }\r\n    function handleSuccessMessage(msg) {\r\n        if (msg.domain !== domain) {\r\n            return;\r\n        }\r\n        var requestId = msg.request_id;\r\n        if (!requestId) {\r\n            return;\r\n        }\r\n        var entry = requestsMap[requestId];\r\n        if (!entry) {\r\n            return;\r\n        }\r\n        entry.success(msg);\r\n    }\r\n    function getNextRequestId() {\r\n        return shortid();\r\n    }\r\n    function send(msg, tag, options) {\r\n        options = options || {};\r\n        msg.request_id = msg.request_id || getNextRequestId();\r\n        msg.domain = msg.domain || domain;\r\n        if (!options.skipPeerId) {\r\n            msg.peer_id = connection.peerId;\r\n        }\r\n        var requestId = msg.request_id;\r\n        return new Promise(function (resolve, reject) {\r\n            requestsMap[requestId] = {\r\n                success: function (successMsg) {\r\n                    delete requestsMap[requestId];\r\n                    successMsg._tag = tag;\r\n                    resolve(successMsg);\r\n                },\r\n                error: function (errorMsg) {\r\n                    logger.warn(\"GW error - \" + JSON.stringify(errorMsg) + \" for request \" + JSON.stringify(msg));\r\n                    delete requestsMap[requestId];\r\n                    errorMsg._tag = tag;\r\n                    reject(errorMsg);\r\n                },\r\n            };\r\n            connection\r\n                .send(msg, options)\r\n                .catch(function (err) {\r\n                requestsMap[requestId].error({ err: err });\r\n            });\r\n        });\r\n    }\r\n    function sendFireAndForget(msg) {\r\n        msg.request_id = msg.request_id ? msg.request_id : getNextRequestId();\r\n        msg.domain = msg.domain || domain;\r\n        msg.peer_id = connection.peerId;\r\n        return connection.send(msg);\r\n    }\r\n    return {\r\n        join: join,\r\n        leave: leave,\r\n        onJoined: onJoined,\r\n        onLeft: onLeft,\r\n        send: send,\r\n        sendFireAndForget: sendFireAndForget,\r\n        on: function (type, callback) {\r\n            connection.on(type, function (msg) {\r\n                if (msg.domain !== domain) {\r\n                    return;\r\n                }\r\n                try {\r\n                    callback(msg);\r\n                }\r\n                catch (e) {\r\n                    logger.error(\"Callback  failed: \" + e + \" \\n \" + e.stack + \" \\n msg was: \" + JSON.stringify(msg), e);\r\n                }\r\n            });\r\n        },\r\n        loggedIn: function (callback) { return connection.loggedIn(callback); },\r\n        connected: function (callback) { return connection.connected(callback); },\r\n        disconnected: function (callback) { return connection.disconnected(callback); },\r\n        get peerId() {\r\n            return connection.peerId;\r\n        },\r\n        get domain() {\r\n            return domain;\r\n        },\r\n    };\r\n}\n\nvar GW3ProtocolImpl = (function () {\r\n    function GW3ProtocolImpl(connection, settings, logger) {\r\n        var _this = this;\r\n        this.connection = connection;\r\n        this.settings = settings;\r\n        this.logger = logger;\r\n        this.protocolVersion = 3;\r\n        this.datePrefix = \"#T42_DATE#\";\r\n        this.datePrefixLen = this.datePrefix.length;\r\n        this.dateMinLen = this.datePrefixLen + 1;\r\n        this.datePrefixFirstChar = this.datePrefix[0];\r\n        this.registry = lib();\r\n        this._isLoggedIn = false;\r\n        this.shouldTryLogin = true;\r\n        this.initialLogin = true;\r\n        this.initialLoginAttempts = 3;\r\n        this.sessions = [];\r\n        connection.disconnected(function () {\r\n            _this.handleDisconnected();\r\n        });\r\n        this.ping();\r\n    }\r\n    Object.defineProperty(GW3ProtocolImpl.prototype, \"isLoggedIn\", {\r\n        get: function () {\r\n            return this._isLoggedIn;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    GW3ProtocolImpl.prototype.processStringMessage = function (message) {\r\n        var _this = this;\r\n        var msg = JSON.parse(message, function (key, value) {\r\n            if (typeof value !== \"string\") {\r\n                return value;\r\n            }\r\n            if (value.length < _this.dateMinLen) {\r\n                return value;\r\n            }\r\n            if (value[0] !== _this.datePrefixFirstChar) {\r\n                return value;\r\n            }\r\n            if (value.substring(0, _this.datePrefixLen) !== _this.datePrefix) {\r\n                return value;\r\n            }\r\n            try {\r\n                var milliseconds = parseInt(value.substring(_this.datePrefixLen, value.length), 10);\r\n                if (isNaN(milliseconds)) {\r\n                    return value;\r\n                }\r\n                return new Date(milliseconds);\r\n            }\r\n            catch (ex) {\r\n                return value;\r\n            }\r\n        });\r\n        return {\r\n            msg: msg,\r\n            msgType: msg.type,\r\n        };\r\n    };\r\n    GW3ProtocolImpl.prototype.createStringMessage = function (message) {\r\n        var oldToJson = Date.prototype.toJSON;\r\n        try {\r\n            var datePrefix_1 = this.datePrefix;\r\n            Date.prototype.toJSON = function () {\r\n                return datePrefix_1 + this.getTime();\r\n            };\r\n            var result = JSON.stringify(message);\r\n            return result;\r\n        }\r\n        finally {\r\n            Date.prototype.toJSON = oldToJson;\r\n        }\r\n    };\r\n    GW3ProtocolImpl.prototype.processObjectMessage = function (message) {\r\n        if (!message.type) {\r\n            throw new Error(\"Object should have type property\");\r\n        }\r\n        return {\r\n            msg: message,\r\n            msgType: message.type,\r\n        };\r\n    };\r\n    GW3ProtocolImpl.prototype.createObjectMessage = function (message) {\r\n        return message;\r\n    };\r\n    GW3ProtocolImpl.prototype.login = function (config, reconnect) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var authentication, token, e_1, _a, helloMsg, sendOptions, welcomeMsg, msg, token, _b, err_1;\r\n            return __generator(this, function (_c) {\r\n                switch (_c.label) {\r\n                    case 0:\r\n                        this.logger.debug(\"logging in...\");\r\n                        this.loginConfig = config;\r\n                        if (!this.loginConfig) {\r\n                            this.loginConfig = { username: \"\", password: \"\" };\r\n                        }\r\n                        this.shouldTryLogin = true;\r\n                        authentication = {};\r\n                        this.connection.gatewayToken = config.gatewayToken;\r\n                        if (!config.gatewayToken) return [3, 5];\r\n                        if (!reconnect) return [3, 4];\r\n                        _c.label = 1;\r\n                    case 1:\r\n                        _c.trys.push([1, 3, , 4]);\r\n                        return [4, this.getNewGWToken()];\r\n                    case 2:\r\n                        token = _c.sent();\r\n                        config.gatewayToken = token;\r\n                        return [3, 4];\r\n                    case 3:\r\n                        e_1 = _c.sent();\r\n                        this.logger.warn(\"failed to get GW token when reconnecting \" + ((e_1 === null || e_1 === void 0 ? void 0 : e_1.message) || e_1));\r\n                        return [3, 4];\r\n                    case 4:\r\n                        authentication.method = \"gateway-token\";\r\n                        authentication.token = config.gatewayToken;\r\n                        this.connection.gatewayToken = config.gatewayToken;\r\n                        return [3, 10];\r\n                    case 5:\r\n                        if (!(config.flowName === \"sspi\")) return [3, 9];\r\n                        authentication.provider = \"win\";\r\n                        authentication.method = \"access-token\";\r\n                        if (!(config.flowCallback && config.sessionId)) return [3, 7];\r\n                        _a = authentication;\r\n                        return [4, config.flowCallback(config.sessionId, null)];\r\n                    case 6:\r\n                        _a.token =\r\n                            (_c.sent())\r\n                                .data\r\n                                .toString(\"base64\");\r\n                        return [3, 8];\r\n                    case 7: throw new Error(\"Invalid SSPI config\");\r\n                    case 8: return [3, 10];\r\n                    case 9:\r\n                        if (config.token) {\r\n                            authentication.method = \"access-token\";\r\n                            authentication.token = config.token;\r\n                        }\r\n                        else if (config.username) {\r\n                            authentication.method = \"secret\";\r\n                            authentication.login = config.username;\r\n                            authentication.secret = config.password;\r\n                        }\r\n                        else {\r\n                            throw new Error(\"invalid auth message\" + JSON.stringify(config));\r\n                        }\r\n                        _c.label = 10;\r\n                    case 10:\r\n                        helloMsg = {\r\n                            type: \"hello\",\r\n                            identity: this.settings.identity,\r\n                            authentication: authentication\r\n                        };\r\n                        if (config.sessionId) {\r\n                            helloMsg.request_id = config.sessionId;\r\n                        }\r\n                        this.globalDomain = domainSession(\"global\", this.connection, this.logger.subLogger(\"global-domain\"), [\r\n                            \"welcome\",\r\n                            \"token\",\r\n                            \"authentication-request\"\r\n                        ]);\r\n                        sendOptions = { skipPeerId: true };\r\n                        if (this.initialLogin) {\r\n                            sendOptions.retryInterval = this.settings.reconnectInterval;\r\n                            sendOptions.maxRetries = this.settings.reconnectAttempts;\r\n                        }\r\n                        _c.label = 11;\r\n                    case 11:\r\n                        _c.trys.push([11, 19, 20, 21]);\r\n                        welcomeMsg = void 0;\r\n                        _c.label = 12;\r\n                    case 12:\r\n                        return [4, this.globalDomain.send(helloMsg, undefined, sendOptions)];\r\n                    case 13:\r\n                        msg = _c.sent();\r\n                        if (!(msg.type === \"authentication-request\")) return [3, 16];\r\n                        token = Buffer.from(msg.authentication.token, \"base64\");\r\n                        if (!(config.flowCallback && config.sessionId)) return [3, 15];\r\n                        _b = helloMsg.authentication;\r\n                        return [4, config.flowCallback(config.sessionId, token)];\r\n                    case 14:\r\n                        _b.token =\r\n                            (_c.sent())\r\n                                .data\r\n                                .toString(\"base64\");\r\n                        _c.label = 15;\r\n                    case 15:\r\n                        helloMsg.request_id = config.sessionId;\r\n                        return [3, 12];\r\n                    case 16:\r\n                        if (msg.type === \"welcome\") {\r\n                            welcomeMsg = msg;\r\n                            return [3, 18];\r\n                        }\r\n                        else if (msg.type === \"error\") {\r\n                            throw new Error(\"Authentication failed: \" + msg.reason);\r\n                        }\r\n                        else {\r\n                            throw new Error(\"Unexpected message type during authentication: \" + msg.type);\r\n                        }\r\n                    case 17: return [3, 12];\r\n                    case 18:\r\n                        this.initialLogin = false;\r\n                        this.logger.debug(\"login successful with peerId \" + welcomeMsg.peer_id);\r\n                        this.connection.peerId = welcomeMsg.peer_id;\r\n                        this.connection.resolvedIdentity = welcomeMsg.resolved_identity;\r\n                        this.connection.availableDomains = welcomeMsg.available_domains;\r\n                        if (welcomeMsg.options) {\r\n                            this.connection.token = welcomeMsg.options.access_token;\r\n                            this.connection.info = welcomeMsg.options.info;\r\n                        }\r\n                        this.setLoggedIn(true);\r\n                        return [2, welcomeMsg.resolved_identity];\r\n                    case 19:\r\n                        err_1 = _c.sent();\r\n                        this.logger.error(\"error sending hello message - \" + (err_1.message || err_1.msg || err_1.reason || err_1), err_1);\r\n                        throw err_1;\r\n                    case 20:\r\n                        if (config && config.flowCallback && config.sessionId) {\r\n                            config.flowCallback(config.sessionId, null);\r\n                        }\r\n                        return [7];\r\n                    case 21: return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    GW3ProtocolImpl.prototype.logout = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var promises;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        this.logger.debug(\"logging out...\");\r\n                        this.shouldTryLogin = false;\r\n                        if (this.pingTimer) {\r\n                            clearTimeout(this.pingTimer);\r\n                        }\r\n                        promises = this.sessions.map(function (session) {\r\n                            session.leave();\r\n                        });\r\n                        return [4, Promise.all(promises)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    GW3ProtocolImpl.prototype.loggedIn = function (callback) {\r\n        if (this._isLoggedIn) {\r\n            callback();\r\n        }\r\n        return this.registry.add(\"onLoggedIn\", callback);\r\n    };\r\n    GW3ProtocolImpl.prototype.domain = function (domainName, domainLogger, successMessages, errorMessages) {\r\n        var session = this.sessions.filter(function (s) { return s.domain === domainName; })[0];\r\n        if (!session) {\r\n            session = domainSession(domainName, this.connection, domainLogger, successMessages, errorMessages);\r\n            this.sessions.push(session);\r\n        }\r\n        return session;\r\n    };\r\n    GW3ProtocolImpl.prototype.handleDisconnected = function () {\r\n        var _this = this;\r\n        this.setLoggedIn(false);\r\n        var tryToLogin = this.shouldTryLogin;\r\n        if (tryToLogin && this.initialLogin) {\r\n            if (this.initialLoginAttempts <= 0) {\r\n                return;\r\n            }\r\n            this.initialLoginAttempts--;\r\n        }\r\n        this.logger.debug(\"disconnected - will try new login?\" + this.shouldTryLogin);\r\n        if (this.shouldTryLogin) {\r\n            if (!this.loginConfig) {\r\n                throw new Error(\"no login info\");\r\n            }\r\n            this.connection.login(this.loginConfig, true)\r\n                .catch(function () {\r\n                setTimeout(_this.handleDisconnected.bind(_this), _this.settings.reconnectInterval || 1000);\r\n            });\r\n        }\r\n    };\r\n    GW3ProtocolImpl.prototype.setLoggedIn = function (value) {\r\n        this._isLoggedIn = value;\r\n        if (this._isLoggedIn) {\r\n            this.registry.execute(\"onLoggedIn\");\r\n        }\r\n    };\r\n    GW3ProtocolImpl.prototype.ping = function () {\r\n        var _this = this;\r\n        if (!this.shouldTryLogin) {\r\n            return;\r\n        }\r\n        if (this._isLoggedIn) {\r\n            this.connection.send({ type: \"ping\" });\r\n        }\r\n        this.pingTimer = setTimeout(function () {\r\n            _this.ping();\r\n        }, 30 * 1000);\r\n    };\r\n    GW3ProtocolImpl.prototype.authToken = function () {\r\n        var createTokenReq = {\r\n            type: \"create-token\"\r\n        };\r\n        if (!this.globalDomain) {\r\n            return Promise.reject(new Error(\"no global domain session\"));\r\n        }\r\n        return this.globalDomain.send(createTokenReq)\r\n            .then(function (res) {\r\n            return res.token;\r\n        });\r\n    };\r\n    GW3ProtocolImpl.prototype.getNewGWToken = function () {\r\n        if (typeof window !== undefined) {\r\n            var glue42gd = window.glue42gd;\r\n            if (glue42gd) {\r\n                return glue42gd.getGWToken();\r\n            }\r\n        }\r\n        return Promise.reject(new Error(\"not running in GD\"));\r\n    };\r\n    return GW3ProtocolImpl;\r\n}());\n\nvar MessageReplayerImpl = (function () {\r\n    function MessageReplayerImpl(specs) {\r\n        this.specsNames = [];\r\n        this.messages = {};\r\n        this.subs = {};\r\n        this.subsRefCount = {};\r\n        this.specs = {};\r\n        for (var _i = 0, specs_1 = specs; _i < specs_1.length; _i++) {\r\n            var spec = specs_1[_i];\r\n            this.specs[spec.name] = spec;\r\n            this.specsNames.push(spec.name);\r\n        }\r\n    }\r\n    MessageReplayerImpl.prototype.init = function (connection) {\r\n        var _this = this;\r\n        this.connection = connection;\r\n        for (var _i = 0, _a = this.specsNames; _i < _a.length; _i++) {\r\n            var name_1 = _a[_i];\r\n            var _loop_1 = function (type) {\r\n                var refCount = this_1.subsRefCount[type];\r\n                if (!refCount) {\r\n                    refCount = 0;\r\n                }\r\n                refCount += 1;\r\n                this_1.subsRefCount[type] = refCount;\r\n                if (refCount > 1) {\r\n                    return \"continue\";\r\n                }\r\n                var sub = connection.on(type, function (msg) { return _this.processMessage(type, msg); });\r\n                this_1.subs[type] = sub;\r\n            };\r\n            var this_1 = this;\r\n            for (var _b = 0, _c = this.specs[name_1].types; _b < _c.length; _b++) {\r\n                var type = _c[_b];\r\n                _loop_1(type);\r\n            }\r\n        }\r\n    };\r\n    MessageReplayerImpl.prototype.processMessage = function (type, msg) {\r\n        if (this.isDone || !msg) {\r\n            return;\r\n        }\r\n        for (var _i = 0, _a = this.specsNames; _i < _a.length; _i++) {\r\n            var name_2 = _a[_i];\r\n            if (this.specs[name_2].types.indexOf(type) !== -1) {\r\n                var messages = this.messages[name_2] || [];\r\n                this.messages[name_2] = messages;\r\n                messages.push(msg);\r\n            }\r\n        }\r\n    };\r\n    MessageReplayerImpl.prototype.drain = function (name, callback) {\r\n        var _a;\r\n        if (callback) {\r\n            (this.messages[name] || []).forEach(callback);\r\n        }\r\n        delete this.messages[name];\r\n        for (var _i = 0, _b = this.specs[name].types; _i < _b.length; _i++) {\r\n            var type = _b[_i];\r\n            this.subsRefCount[type] -= 1;\r\n            if (this.subsRefCount[type] <= 0) {\r\n                (_a = this.connection) === null || _a === void 0 ? void 0 : _a.off(this.subs[type]);\r\n                delete this.subs[type];\r\n                delete this.subsRefCount[type];\r\n            }\r\n        }\r\n        delete this.specs[name];\r\n        if (!this.specs.length) {\r\n            this.isDone = true;\r\n        }\r\n    };\r\n    return MessageReplayerImpl;\r\n}());\n\nvar PromisePlus = function (executor, timeoutMilliseconds, timeoutMessage) {\r\n    return new Promise(function (resolve, reject) {\r\n        var timeout = setTimeout(function () {\r\n            var message = timeoutMessage || \"Promise timeout hit: \" + timeoutMilliseconds;\r\n            reject(message);\r\n        }, timeoutMilliseconds);\r\n        var providedPromise = new Promise(executor);\r\n        providedPromise\r\n            .then(function (result) {\r\n            clearTimeout(timeout);\r\n            resolve(result);\r\n        })\r\n            .catch(function (error) {\r\n            clearTimeout(timeout);\r\n            reject(error);\r\n        });\r\n    });\r\n};\n\nvar WebPlatformTransport = (function () {\r\n    function WebPlatformTransport(settings, logger, identity) {\r\n        this.settings = settings;\r\n        this.logger = logger;\r\n        this.identity = identity;\r\n        this.parentReady = false;\r\n        this.iAmConnected = false;\r\n        this.rejected = false;\r\n        this.children = [];\r\n        this.parentPingTimeout = 3000;\r\n        this.connectionRequestTimeout = 5000;\r\n        this.defaultTargetString = \"*\";\r\n        this.registry = lib();\r\n        this.messages = {\r\n            connectionAccepted: { name: \"connectionAccepted\", handle: this.handleConnectionAccepted.bind(this) },\r\n            connectionRejected: { name: \"connectionRejected\", handle: this.handleConnectionRejected.bind(this) },\r\n            connectionRequest: { name: \"connectionRequest\", handle: this.handleConnectionRequest.bind(this) },\r\n            parentReady: { name: \"parentReady\", handle: this.handleParentReady.bind(this) },\r\n            parentPing: { name: \"parentPing\", handle: this.handleParentPing.bind(this) },\r\n            platformPing: { name: \"platformPing\", handle: this.handlePlatformPing.bind(this) },\r\n            platformUnload: { name: \"platformUnload\", handle: this.handlePlatformUnload.bind(this) },\r\n            platformReady: { name: \"platformReady\", handle: this.handlePlatformReady.bind(this) },\r\n            clientUnload: { name: \"clientUnload\", handle: this.handleClientUnload.bind(this) }\r\n        };\r\n        this.setUpMessageListener();\r\n        this.setUpUnload();\r\n        if (!this.settings.port) {\r\n            this.parent = window.opener || window.top;\r\n            this.parentType = window.opener ? \"opener\" :\r\n                window.name.indexOf(\"#wsp\") !== -1 ? \"workspace\" : \"top\";\r\n        }\r\n    }\r\n    Object.defineProperty(WebPlatformTransport.prototype, \"transportWindowId\", {\r\n        get: function () {\r\n            return this.publicWindowId;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    WebPlatformTransport.prototype.sendObject = function (msg) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                if (!this.port) {\r\n                    throw new Error(\"Cannot send message, because the port was not opened yet\");\r\n                }\r\n                this.port.postMessage(msg);\r\n                return [2];\r\n            });\r\n        });\r\n    };\r\n    Object.defineProperty(WebPlatformTransport.prototype, \"isObjectBasedTransport\", {\r\n        get: function () {\r\n            return true;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    WebPlatformTransport.prototype.onMessage = function (callback) {\r\n        return this.registry.add(\"onMessage\", callback);\r\n    };\r\n    WebPlatformTransport.prototype.send = function () {\r\n        return Promise.reject(\"not supported\");\r\n    };\r\n    WebPlatformTransport.prototype.onConnectedChanged = function (callback) {\r\n        return this.registry.add(\"onConnectedChanged\", callback);\r\n    };\r\n    WebPlatformTransport.prototype.open = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        this.logger.debug(\"opening a connection to the web platform gateway.\");\r\n                        return [4, this.connect()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        this.notifyStatusChanged(true);\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.close = function () {\r\n        return Promise.resolve();\r\n    };\r\n    WebPlatformTransport.prototype.name = function () {\r\n        return \"web-platform\";\r\n    };\r\n    WebPlatformTransport.prototype.reconnect = function () {\r\n        return Promise.resolve();\r\n    };\r\n    WebPlatformTransport.prototype.connect = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (this.parentReady) {\r\n                            this.logger.debug(\"cancelling connection attempt, because this client's parent has already given a ready signal\");\r\n                            return [2];\r\n                        }\r\n                        if (this.settings.port) {\r\n                            this.logger.debug(\"opening an internal web platform connection\");\r\n                            this.port = this.settings.port;\r\n                            this.publicWindowId = this.settings.windowId;\r\n                            if (this.identity) {\r\n                                this.identity.windowId = this.publicWindowId;\r\n                            }\r\n                            this.port.onmessage = function (event) { return _this.registry.execute(\"onMessage\", event.data); };\r\n                            this.logger.debug(\"internal web platform connection completed\");\r\n                            return [2];\r\n                        }\r\n                        if (!this.parentType || !this.parent) {\r\n                            throw new Error(\"Cannot initiate a connection, because there is no opener, no top and no port.\");\r\n                        }\r\n                        this.logger.debug(\"opening a \" + (this.parentType === \"opener\" ? \"child\" : \"grandchild\") + \" client web platform connection\");\r\n                        return [4, this.waitParent(this.parent, this.parentType)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [4, this.initiateRemoteConnection(this.parent, this.parentType)];\r\n                    case 2:\r\n                        _a.sent();\r\n                        this.logger.debug(\"the \" + (this.parentType === \"opener\" ? \"child\" : \"grandchild\") + \" client is connected\");\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.initiateRemoteConnection = function (target, parentType) {\r\n        var _this = this;\r\n        return PromisePlus(function (resolve, reject) {\r\n            _this.connectionResolve = resolve;\r\n            _this.connectionReject = reject;\r\n            _this.myClientId = shortid();\r\n            var bridgeInstanceId = _this.parentType === \"workspace\" ? window.name.substring(0, window.name.indexOf(\"#wsp\")) : window.name;\r\n            var request = {\r\n                glue42core: {\r\n                    type: _this.messages.connectionRequest.name,\r\n                    clientId: _this.myClientId,\r\n                    clientType: parentType === \"top\" ? \"grandChild\" : \"child\",\r\n                    bridgeInstanceId: bridgeInstanceId\r\n                }\r\n            };\r\n            _this.logger.debug(\"sending connection request to \" + parentType);\r\n            target.postMessage(request, _this.defaultTargetString);\r\n        }, this.connectionRequestTimeout, \"The connection to the opener/top window timed out\");\r\n    };\r\n    WebPlatformTransport.prototype.waitParent = function (target, parentType) {\r\n        var _this = this;\r\n        return PromisePlus(function (resolve) {\r\n            _this.parentPingResolve = resolve;\r\n            var message = {\r\n                glue42core: {\r\n                    type: parentType === \"opener\" ? _this.messages.platformPing.name : _this.messages.parentPing.name\r\n                }\r\n            };\r\n            _this.logger.debug(\"checking for \" + parentType + \" window availability\");\r\n            target.postMessage(message, _this.defaultTargetString);\r\n        }, this.parentPingTimeout, \"Cannot initiate glue, because this window was not opened or created by a glue client\");\r\n    };\r\n    WebPlatformTransport.prototype.setUpMessageListener = function () {\r\n        var _this = this;\r\n        if (this.settings.port) {\r\n            this.logger.debug(\"skipping generic message listener, because this is an internal client\");\r\n            return;\r\n        }\r\n        window.addEventListener(\"message\", function (event) {\r\n            var _a;\r\n            var data = (_a = event.data) === null || _a === void 0 ? void 0 : _a.glue42core;\r\n            if (!data || _this.rejected) {\r\n                return;\r\n            }\r\n            if (!_this.checkMessageTypeValid(data.type)) {\r\n                _this.logger.error(\"cannot handle the incoming glue42 core message, because the type is invalid: \" + data.type);\r\n                return;\r\n            }\r\n            var messageType = data.type;\r\n            _this.logger.debug(\"received valid glue42core message of type: \" + messageType);\r\n            _this.messages[messageType].handle(event);\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.setUpUnload = function () {\r\n        var _this = this;\r\n        if (this.settings.port) {\r\n            this.logger.debug(\"skipping unload event listener, because this is an internal client\");\r\n            return;\r\n        }\r\n        window.addEventListener(\"beforeunload\", function () {\r\n            var _a, _b;\r\n            var message = {\r\n                glue42core: {\r\n                    type: _this.messages.clientUnload.name,\r\n                    data: {\r\n                        clientId: _this.myClientId,\r\n                        ownWindowId: (_a = _this.identity) === null || _a === void 0 ? void 0 : _a.windowId\r\n                    }\r\n                }\r\n            };\r\n            if (_this.parent) {\r\n                _this.parent.postMessage(message, _this.defaultTargetString);\r\n            }\r\n            (_b = _this.port) === null || _b === void 0 ? void 0 : _b.postMessage(message);\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.handleParentReady = function () {\r\n        this.logger.debug(\"handling the ready signal from the parent, by resoling the pending promise.\");\r\n        this.parentReady = true;\r\n        if (this.parentPingResolve) {\r\n            this.parentPingResolve();\r\n            delete this.parentPingResolve;\r\n            return;\r\n        }\r\n        this.logger.debug(\"silently handling the ready signal from the top parent, because there is no defined promise\");\r\n    };\r\n    WebPlatformTransport.prototype.handlePlatformReady = function () {\r\n        this.logger.debug(\"the web platform gave the ready signal\");\r\n        this.parentReady = true;\r\n        if (this.parentPingResolve) {\r\n            this.parentPingResolve();\r\n            delete this.parentPingResolve;\r\n            return;\r\n        }\r\n        this.logger.debug(\"silently handling the ready signal from the top parent, because there is no defined promise\");\r\n    };\r\n    WebPlatformTransport.prototype.handleConnectionAccepted = function (event) {\r\n        var _a;\r\n        var data = (_a = event.data) === null || _a === void 0 ? void 0 : _a.glue42core;\r\n        if (this.myClientId === data.clientId) {\r\n            return this.handleAcceptanceOfMyRequest(data);\r\n        }\r\n        return this.handleAcceptanceOfGrandChildRequest(data, event);\r\n    };\r\n    WebPlatformTransport.prototype.handleAcceptanceOfMyRequest = function (data) {\r\n        var _this = this;\r\n        this.logger.debug(\"handling a connection accepted signal targeted at me.\");\r\n        if (!data.port) {\r\n            this.logger.error(\"cannot set up my connection, because I was not provided with a port\");\r\n            return;\r\n        }\r\n        this.publicWindowId = this.parentType === \"opener\" ? window.name :\r\n            this.parentType === \"top\" ? data.parentWindowId :\r\n                window.name.substring(0, window.name.indexOf(\"#wsp\"));\r\n        if (this.identity && this.parentType !== \"top\") {\r\n            this.identity.windowId = this.publicWindowId;\r\n        }\r\n        if (this.identity && data.appName) {\r\n            this.identity.application = data.appName;\r\n            this.identity.applicationName = data.appName;\r\n        }\r\n        this.port = data.port;\r\n        this.port.onmessage = function (e) { return _this.registry.execute(\"onMessage\", e.data); };\r\n        if (this.connectionResolve) {\r\n            this.logger.debug(\"my connection is set up, calling the connection resolve.\");\r\n            this.connectionResolve();\r\n            delete this.connectionResolve;\r\n            return;\r\n        }\r\n        this.logger.error(\"unable to call the connection resolve, because no connection promise was found\");\r\n    };\r\n    WebPlatformTransport.prototype.handleAcceptanceOfGrandChildRequest = function (data, event) {\r\n        this.logger.debug(\"handling a connection accepted signal targeted at a grandchild: \" + data.clientId);\r\n        var child = this.children.find(function (c) { return c.grandChildId === data.clientId; });\r\n        if (!child) {\r\n            this.logger.error(\"cannot handle connection accepted for grandchild: \" + data.clientId + \", because there is no grandchild with this id\");\r\n            return;\r\n        }\r\n        child.connected = true;\r\n        this.logger.debug(\"the grandchild connection for \" + data.clientId + \" is set up, forwarding the success message and the gateway port\");\r\n        data.parentWindowId = this.publicWindowId;\r\n        child.source.postMessage(event.data, child.origin, [data.port]);\r\n        return;\r\n    };\r\n    WebPlatformTransport.prototype.handleConnectionRejected = function () {\r\n        this.logger.debug(\"handling a connection rejection. Most likely the reason is that this window was not created by a glue API call\");\r\n        if (this.connectionReject) {\r\n            this.connectionReject(\"The platform connection was rejected. Most likely because this window was not created by a glue API call\");\r\n            delete this.connectionReject;\r\n        }\r\n    };\r\n    WebPlatformTransport.prototype.handleConnectionRequest = function (event) {\r\n        var source = event.source;\r\n        var data = event.data.glue42core;\r\n        if (!data.clientType || data.clientType !== \"grandChild\") {\r\n            return this.rejectConnectionRequest(source, event.origin, \"rejecting a connection request, because the source was not opened by a glue API call\");\r\n        }\r\n        if (!data.clientId) {\r\n            return this.rejectConnectionRequest(source, event.origin, \"rejecting a connection request, because the source did not provide a valid id\");\r\n        }\r\n        if (this.parentType !== \"opener\" || !this.parent) {\r\n            return this.rejectConnectionRequest(source, event.origin, \"Cannot forward the connection request, because no direct connection to the platform was found\");\r\n        }\r\n        this.logger.debug(\"handling a connection request for a grandchild: \" + data.clientId);\r\n        this.children.push({ grandChildId: data.clientId, source: source, connected: false, origin: event.origin });\r\n        this.logger.debug(\"grandchild: \" + data.clientId + \" is prepared, forwarding connection request to the platform\");\r\n        this.parent.postMessage(event.data, this.defaultTargetString);\r\n    };\r\n    WebPlatformTransport.prototype.handleParentPing = function (event) {\r\n        if (!this.parentReady) {\r\n            this.logger.debug(\"my parent is not ready, I am ignoring the parent ping\");\r\n            return;\r\n        }\r\n        if (!this.iAmConnected) {\r\n            this.logger.debug(\"i am not fully connected yet, I am ignoring the parent ping\");\r\n            return;\r\n        }\r\n        var message = {\r\n            glue42core: {\r\n                type: this.messages.parentReady.name\r\n            }\r\n        };\r\n        var source = event.source;\r\n        this.logger.debug(\"responding to a parent ping with a ready message\");\r\n        source.postMessage(message, event.origin);\r\n    };\r\n    WebPlatformTransport.prototype.handlePlatformUnload = function (event) {\r\n        this.logger.debug(\"detected a web platform unload\");\r\n        this.parentReady = false;\r\n        if (this.children.length) {\r\n            this.logger.debug(\"forwarding the platform unload to all known children and starting platform discovery polling\");\r\n            this.children.forEach(function (child) { return child.source.postMessage(event.data, child.origin); });\r\n        }\r\n        this.notifyStatusChanged(false, \"Gateway unloaded\");\r\n    };\r\n    WebPlatformTransport.prototype.handleClientUnload = function (event) {\r\n        var data = event.data.glue42core;\r\n        if (!data.clientId) {\r\n            this.logger.warn(\"cannot process grand child unload, because the provided id was not valid\");\r\n            return;\r\n        }\r\n        var foundChild = this.children.find(function (child) { return child.grandChildId === data.clientId; });\r\n        if (!foundChild) {\r\n            this.logger.warn(\"cannot process grand child unload, because this client is unaware of this grandchild\");\r\n            return;\r\n        }\r\n        this.logger.debug(\"handling grandchild unload for id: \" + data.clientId);\r\n        this.children = this.children.filter(function (child) { return child.grandChildId !== data.clientId; });\r\n    };\r\n    WebPlatformTransport.prototype.handlePlatformPing = function () {\r\n        this.logger.error(\"cannot handle platform ping, because this is not a platform calls handling component\");\r\n    };\r\n    WebPlatformTransport.prototype.notifyStatusChanged = function (status, reason) {\r\n        this.iAmConnected = status;\r\n        this.registry.execute(\"onConnectedChanged\", status, reason);\r\n    };\r\n    WebPlatformTransport.prototype.checkMessageTypeValid = function (typeToValidate) {\r\n        return typeof typeToValidate === \"string\" && !!this.messages[typeToValidate];\r\n    };\r\n    WebPlatformTransport.prototype.rejectConnectionRequest = function (source, origin, reason) {\r\n        this.rejected = true;\r\n        this.logger.error(reason);\r\n        var rejection = {\r\n            glue42core: {\r\n                type: this.messages.connectionRejected.name\r\n            }\r\n        };\r\n        source.postMessage(rejection, origin);\r\n    };\r\n    return WebPlatformTransport;\r\n}());\n\nvar Connection = (function () {\r\n    function Connection(settings, logger) {\r\n        this.settings = settings;\r\n        this.logger = logger;\r\n        this.messageHandlers = {};\r\n        this.ids = 1;\r\n        this.registry = lib();\r\n        this._connected = false;\r\n        this.isTrace = false;\r\n        settings = settings || {};\r\n        settings.reconnectAttempts = settings.reconnectAttempts || 10;\r\n        settings.reconnectInterval = settings.reconnectInterval || 1000;\r\n        if (settings.inproc) {\r\n            this.transport = new InProcTransport(settings.inproc, logger.subLogger(\"inMemory\"));\r\n        }\r\n        else if (settings.sharedWorker) {\r\n            this.transport = new SharedWorkerTransport(settings.sharedWorker, logger.subLogger(\"shared-worker\"));\r\n        }\r\n        else if (settings.webPlatform) {\r\n            this.transport = new WebPlatformTransport(settings.webPlatform, logger.subLogger(\"web-platform\"), settings.identity);\r\n        }\r\n        else if (settings.ws !== undefined) {\r\n            this.transport = new WS(settings, logger.subLogger(\"ws\"));\r\n        }\r\n        else {\r\n            throw new Error(\"No connection information specified\");\r\n        }\r\n        this.isTrace = logger.canPublish(\"trace\");\r\n        logger.debug(\"starting with \" + this.transport.name() + \" transport\");\r\n        this.protocol = new GW3ProtocolImpl(this, settings, logger.subLogger(\"protocol\"));\r\n        this.transport.onConnectedChanged(this.handleConnectionChanged.bind(this));\r\n        this.transport.onMessage(this.handleTransportMessage.bind(this));\r\n        if (settings.replaySpecs && settings.replaySpecs.length) {\r\n            this.replayer = new MessageReplayerImpl(settings.replaySpecs);\r\n            this.replayer.init(this);\r\n        }\r\n    }\r\n    Object.defineProperty(Connection.prototype, \"protocolVersion\", {\r\n        get: function () {\r\n            var _a;\r\n            return (_a = this.protocol) === null || _a === void 0 ? void 0 : _a.protocolVersion;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Connection.prototype.send = function (message, options) {\r\n        if (this.transport.sendObject &&\r\n            this.transport.isObjectBasedTransport) {\r\n            var msg = this.protocol.createObjectMessage(message);\r\n            if (this.isTrace) {\r\n                this.logger.trace(\">> \" + JSON.stringify(msg));\r\n            }\r\n            return this.transport.sendObject(msg, options);\r\n        }\r\n        else {\r\n            var strMessage = this.protocol.createStringMessage(message);\r\n            if (this.isTrace) {\r\n                this.logger.trace(\">> \" + strMessage);\r\n            }\r\n            return this.transport.send(strMessage, options);\r\n        }\r\n    };\r\n    Connection.prototype.on = function (type, messageHandler) {\r\n        type = type.toLowerCase();\r\n        if (this.messageHandlers[type] === undefined) {\r\n            this.messageHandlers[type] = {};\r\n        }\r\n        var id = this.ids++;\r\n        this.messageHandlers[type][id] = messageHandler;\r\n        return {\r\n            type: type,\r\n            id: id,\r\n        };\r\n    };\r\n    Connection.prototype.off = function (info) {\r\n        delete this.messageHandlers[info.type.toLowerCase()][info.id];\r\n    };\r\n    Object.defineProperty(Connection.prototype, \"isConnected\", {\r\n        get: function () {\r\n            return this.protocol.isLoggedIn;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Connection.prototype.connected = function (callback) {\r\n        var _this = this;\r\n        return this.protocol.loggedIn(function () {\r\n            callback(_this.settings.ws || _this.settings.sharedWorker || \"\");\r\n        });\r\n    };\r\n    Connection.prototype.disconnected = function (callback) {\r\n        return this.registry.add(\"disconnected\", callback);\r\n    };\r\n    Connection.prototype.login = function (authRequest, reconnect) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var identity;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4, this.transport.open()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        timer(\"connection\").mark(\"transport-opened\");\r\n                        identity = this.protocol.login(authRequest, reconnect);\r\n                        timer(\"connection\").mark(\"protocol-logged-in\");\r\n                        return [2, identity];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Connection.prototype.logout = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4, this.protocol.logout()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [4, this.transport.close()];\r\n                    case 2:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Connection.prototype.loggedIn = function (callback) {\r\n        return this.protocol.loggedIn(callback);\r\n    };\r\n    Connection.prototype.domain = function (domain, successMessages, errorMessages) {\r\n        return this.protocol.domain(domain, this.logger.subLogger(\"domain=\" + domain), successMessages, errorMessages);\r\n    };\r\n    Connection.prototype.authToken = function () {\r\n        return this.protocol.authToken();\r\n    };\r\n    Connection.prototype.reconnect = function () {\r\n        return this.transport.reconnect();\r\n    };\r\n    Connection.prototype.distributeMessage = function (message, type) {\r\n        var _this = this;\r\n        var handlers = this.messageHandlers[type.toLowerCase()];\r\n        if (handlers !== undefined) {\r\n            Object.keys(handlers).forEach(function (handlerId) {\r\n                var handler = handlers[handlerId];\r\n                if (handler !== undefined) {\r\n                    try {\r\n                        handler(message);\r\n                    }\r\n                    catch (error) {\r\n                        try {\r\n                            _this.logger.error(\"Message handler failed with \" + error.stack, error);\r\n                        }\r\n                        catch (loggerError) {\r\n                            console.log(\"Message handler failed\", error);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    };\r\n    Connection.prototype.handleConnectionChanged = function (connected) {\r\n        if (this._connected === connected) {\r\n            return;\r\n        }\r\n        this._connected = connected;\r\n        if (connected) {\r\n            this.registry.execute(\"connected\");\r\n        }\r\n        else {\r\n            this.registry.execute(\"disconnected\");\r\n        }\r\n    };\r\n    Connection.prototype.handleTransportMessage = function (msg) {\r\n        var msgObj;\r\n        if (typeof msg === \"string\") {\r\n            msgObj = this.protocol.processStringMessage(msg);\r\n        }\r\n        else {\r\n            msgObj = this.protocol.processObjectMessage(msg);\r\n        }\r\n        if (this.isTrace) {\r\n            this.logger.trace(\"<< \" + JSON.stringify(msgObj));\r\n        }\r\n        this.distributeMessage(msgObj.msg, msgObj.msgType);\r\n    };\r\n    return Connection;\r\n}());\n\nvar order = [\"trace\", \"debug\", \"info\", \"warn\", \"error\", \"off\"];\r\nvar Logger = (function () {\r\n    function Logger(name, parent, logFn) {\r\n        this.name = name;\r\n        this.parent = parent;\r\n        this.subLoggers = [];\r\n        this.logFn = console;\r\n        this.customLogFn = false;\r\n        this.name = name;\r\n        if (parent) {\r\n            this.path = parent.path + \".\" + name;\r\n        }\r\n        else {\r\n            this.path = name;\r\n        }\r\n        this.loggerFullName = \"[\" + this.path + \"]\";\r\n        this.includeTimeAndLevel = !logFn;\r\n        if (logFn) {\r\n            this.logFn = logFn;\r\n            this.customLogFn = true;\r\n        }\r\n    }\r\n    Logger.prototype.subLogger = function (name) {\r\n        var existingSub = this.subLoggers.filter(function (subLogger) {\r\n            return subLogger.name === name;\r\n        })[0];\r\n        if (existingSub !== undefined) {\r\n            return existingSub;\r\n        }\r\n        Object.keys(this).forEach(function (key) {\r\n            if (key === name) {\r\n                throw new Error(\"This sub logger name is not allowed.\");\r\n            }\r\n        });\r\n        var sub = new Logger(name, this, this.customLogFn ? this.logFn : undefined);\r\n        this.subLoggers.push(sub);\r\n        return sub;\r\n    };\r\n    Logger.prototype.publishLevel = function (level) {\r\n        var _a;\r\n        if (level) {\r\n            this._publishLevel = level;\r\n        }\r\n        return this._publishLevel || ((_a = this.parent) === null || _a === void 0 ? void 0 : _a.publishLevel());\r\n    };\r\n    Logger.prototype.consoleLevel = function (level) {\r\n        var _a;\r\n        if (level) {\r\n            this._consoleLevel = level;\r\n        }\r\n        return this._consoleLevel || ((_a = this.parent) === null || _a === void 0 ? void 0 : _a.consoleLevel());\r\n    };\r\n    Logger.prototype.log = function (message, level, error) {\r\n        this.publishMessage(level || \"info\", message, error);\r\n    };\r\n    Logger.prototype.trace = function (message) {\r\n        this.log(message, \"trace\");\r\n    };\r\n    Logger.prototype.debug = function (message) {\r\n        this.log(message, \"debug\");\r\n    };\r\n    Logger.prototype.info = function (message) {\r\n        this.log(message, \"info\");\r\n    };\r\n    Logger.prototype.warn = function (message) {\r\n        this.log(message, \"warn\");\r\n    };\r\n    Logger.prototype.error = function (message, err) {\r\n        this.log(message, \"error\");\r\n    };\r\n    Logger.prototype.canPublish = function (level, compareWith) {\r\n        var levelIdx = order.indexOf(level);\r\n        var restrictionIdx = order.indexOf(compareWith || this.consoleLevel() || \"trace\");\r\n        return levelIdx >= restrictionIdx;\r\n    };\r\n    Logger.prototype.publishMessage = function (level, message, error) {\r\n        var loggerName = this.loggerFullName;\r\n        if (level === \"error\" && !error) {\r\n            var e = new Error();\r\n            if (e.stack) {\r\n                message =\r\n                    message +\r\n                        \"\\n\" +\r\n                        e.stack\r\n                            .split(\"\\n\")\r\n                            .slice(3)\r\n                            .join(\"\\n\");\r\n            }\r\n        }\r\n        if (this.canPublish(level, this.publishLevel())) {\r\n            var interop = Logger.Interop;\r\n            if (interop) {\r\n                try {\r\n                    if (interop.methods({ name: Logger.InteropMethodName }).length > 0) {\r\n                        interop.invoke(Logger.InteropMethodName, {\r\n                            msg: \"\" + message,\r\n                            logger: loggerName,\r\n                            level: level\r\n                        });\r\n                    }\r\n                }\r\n                catch (_a) {\r\n                }\r\n            }\r\n        }\r\n        if (this.canPublish(level)) {\r\n            var prefix = \"\";\r\n            if (this.includeTimeAndLevel) {\r\n                var date = new Date();\r\n                var time = date.getHours() + \":\" + date.getMinutes() + \":\" + date.getSeconds() + \":\" + date.getMilliseconds();\r\n                prefix = \"[\" + time + \"] [\" + level + \"] \";\r\n            }\r\n            var toPrint = \"\" + prefix + loggerName + \": \" + message;\r\n            switch (level) {\r\n                case \"trace\":\r\n                    this.logFn.debug(toPrint);\r\n                    break;\r\n                case \"debug\":\r\n                    if (this.logFn.debug) {\r\n                        this.logFn.debug(toPrint);\r\n                    }\r\n                    else {\r\n                        this.logFn.log(toPrint);\r\n                    }\r\n                    break;\r\n                case \"info\":\r\n                    this.logFn.info(toPrint);\r\n                    break;\r\n                case \"warn\":\r\n                    this.logFn.warn(toPrint);\r\n                    break;\r\n                case \"error\":\r\n                    this.logFn.error(toPrint, error);\r\n                    break;\r\n            }\r\n        }\r\n    };\r\n    Logger.InteropMethodName = \"T42.AppLogger.Log\";\r\n    return Logger;\r\n}());\n\nvar GW_MESSAGE_CREATE_CONTEXT = \"create-context\";\r\nvar GW_MESSAGE_ACTIVITY_CREATED = \"created\";\r\nvar GW_MESSAGE_ACTIVITY_DESTROYED = \"destroyed\";\r\nvar GW_MESSAGE_CONTEXT_CREATED = \"context-created\";\r\nvar GW_MESSAGE_CONTEXT_ADDED = \"context-added\";\r\nvar GW_MESSAGE_SUBSCRIBE_CONTEXT = \"subscribe-context\";\r\nvar GW_MESSAGE_SUBSCRIBED_CONTEXT = \"subscribed-context\";\r\nvar GW_MESSAGE_UNSUBSCRIBE_CONTEXT = \"unsubscribe-context\";\r\nvar GW_MESSAGE_DESTROY_CONTEXT = \"destroy-context\";\r\nvar GW_MESSAGE_CONTEXT_DESTROYED = \"context-destroyed\";\r\nvar GW_MESSAGE_UPDATE_CONTEXT = \"update-context\";\r\nvar GW_MESSAGE_CONTEXT_UPDATED = \"context-updated\";\r\nvar GW_MESSAGE_JOINED_ACTIVITY = \"joined\";\n\nvar ContextMessageReplaySpec = {\r\n    get name() {\r\n        return \"context\";\r\n    },\r\n    get types() {\r\n        return [\r\n            GW_MESSAGE_CREATE_CONTEXT,\r\n            GW_MESSAGE_ACTIVITY_CREATED,\r\n            GW_MESSAGE_ACTIVITY_DESTROYED,\r\n            GW_MESSAGE_CONTEXT_CREATED,\r\n            GW_MESSAGE_CONTEXT_ADDED,\r\n            GW_MESSAGE_SUBSCRIBE_CONTEXT,\r\n            GW_MESSAGE_SUBSCRIBED_CONTEXT,\r\n            GW_MESSAGE_UNSUBSCRIBE_CONTEXT,\r\n            GW_MESSAGE_DESTROY_CONTEXT,\r\n            GW_MESSAGE_CONTEXT_DESTROYED,\r\n            GW_MESSAGE_UPDATE_CONTEXT,\r\n            GW_MESSAGE_CONTEXT_UPDATED,\r\n            GW_MESSAGE_JOINED_ACTIVITY\r\n        ];\r\n    }\r\n};\n\nvar version = \"5.2.7\";\n\nfunction prepareConfig (configuration, ext, glue42gd) {\r\n    var _a, _b, _c, _d, _e;\r\n    var nodeStartingContext;\r\n    if (Utils.isNode()) {\r\n        var startingContextString = process.env._GD_STARTING_CONTEXT_;\r\n        if (startingContextString) {\r\n            try {\r\n                nodeStartingContext = JSON.parse(startingContextString);\r\n            }\r\n            catch (_f) {\r\n            }\r\n        }\r\n    }\r\n    function getConnection() {\r\n        var _a, _b, _c, _d, _e;\r\n        var gwConfig = configuration.gateway;\r\n        var protocolVersion = (_a = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.protocolVersion) !== null && _a !== void 0 ? _a : 3;\r\n        var reconnectInterval = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.reconnectInterval;\r\n        var reconnectAttempts = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.reconnectAttempts;\r\n        var defaultWs = \"ws://localhost:8385\";\r\n        var ws = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.ws;\r\n        var sharedWorker = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.sharedWorker;\r\n        var inproc = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.inproc;\r\n        var webPlatform = (_b = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.webPlatform) !== null && _b !== void 0 ? _b : undefined;\r\n        if (glue42gd) {\r\n            ws = glue42gd.gwURL;\r\n        }\r\n        if (Utils.isNode() && nodeStartingContext && nodeStartingContext.gwURL) {\r\n            ws = nodeStartingContext.gwURL;\r\n        }\r\n        if (!ws && !sharedWorker && !inproc) {\r\n            ws = defaultWs;\r\n        }\r\n        var instanceId;\r\n        var windowId;\r\n        var pid;\r\n        var environment;\r\n        var region;\r\n        var appName = getApplication();\r\n        var uniqueAppName = appName;\r\n        if (typeof glue42gd !== \"undefined\") {\r\n            windowId = glue42gd.windowId;\r\n            pid = glue42gd.pid;\r\n            if (glue42gd.env) {\r\n                environment = glue42gd.env.env;\r\n                region = glue42gd.env.region;\r\n            }\r\n            uniqueAppName = (_c = glue42gd.application) !== null && _c !== void 0 ? _c : \"glue-app\";\r\n            instanceId = glue42gd.appInstanceId;\r\n        }\r\n        else if (Utils.isNode()) {\r\n            pid = process.pid;\r\n            if (nodeStartingContext) {\r\n                environment = nodeStartingContext.env;\r\n                region = nodeStartingContext.region;\r\n                instanceId = nodeStartingContext.instanceId;\r\n            }\r\n        }\r\n        else ;\r\n        var replaySpecs = (_e = (_d = configuration.gateway) === null || _d === void 0 ? void 0 : _d.replaySpecs) !== null && _e !== void 0 ? _e : [];\r\n        replaySpecs.push(ContextMessageReplaySpec);\r\n        return {\r\n            identity: {\r\n                application: uniqueAppName,\r\n                applicationName: appName,\r\n                windowId: windowId,\r\n                instance: instanceId,\r\n                process: pid,\r\n                region: region,\r\n                environment: environment,\r\n                api: ext.version || version\r\n            },\r\n            reconnectInterval: reconnectInterval,\r\n            ws: ws,\r\n            sharedWorker: sharedWorker,\r\n            webPlatform: webPlatform,\r\n            inproc: inproc,\r\n            protocolVersion: protocolVersion,\r\n            reconnectAttempts: reconnectAttempts,\r\n            replaySpecs: replaySpecs,\r\n        };\r\n    }\r\n    function getApplication() {\r\n        if (configuration.application) {\r\n            return configuration.application;\r\n        }\r\n        if (glue42gd) {\r\n            return glue42gd.applicationName;\r\n        }\r\n        var uid = shortid();\r\n        if (Utils.isNode()) {\r\n            if (nodeStartingContext) {\r\n                return nodeStartingContext.applicationConfig.name;\r\n            }\r\n            return \"NodeJS\" + uid;\r\n        }\r\n        if (typeof window !== \"undefined\" && typeof document !== \"undefined\") {\r\n            return document.title + (\" (\" + uid + \")\");\r\n        }\r\n        return uid;\r\n    }\r\n    function getAuth() {\r\n        var _a, _b, _c;\r\n        if (typeof configuration.auth === \"string\") {\r\n            return {\r\n                token: configuration.auth\r\n            };\r\n        }\r\n        if (configuration.auth) {\r\n            return configuration.auth;\r\n        }\r\n        if (Utils.isNode() && nodeStartingContext && nodeStartingContext.gwToken) {\r\n            return {\r\n                gatewayToken: nodeStartingContext.gwToken\r\n            };\r\n        }\r\n        if (((_a = configuration.gateway) === null || _a === void 0 ? void 0 : _a.webPlatform) || ((_b = configuration.gateway) === null || _b === void 0 ? void 0 : _b.inproc) || ((_c = configuration.gateway) === null || _c === void 0 ? void 0 : _c.sharedWorker)) {\r\n            return {\r\n                username: \"glue42\", password: \"glue42\"\r\n            };\r\n        }\r\n    }\r\n    function getLogger() {\r\n        var _a, _b;\r\n        var config = configuration.logger;\r\n        var defaultLevel = \"warn\";\r\n        if (!config) {\r\n            config = defaultLevel;\r\n        }\r\n        var gdConsoleLevel;\r\n        if (glue42gd) {\r\n            gdConsoleLevel = glue42gd.consoleLogLevel;\r\n        }\r\n        if (typeof config === \"string\") {\r\n            return { console: gdConsoleLevel !== null && gdConsoleLevel !== void 0 ? gdConsoleLevel : config, publish: defaultLevel };\r\n        }\r\n        return {\r\n            console: (_a = gdConsoleLevel !== null && gdConsoleLevel !== void 0 ? gdConsoleLevel : config.console) !== null && _a !== void 0 ? _a : defaultLevel,\r\n            publish: (_b = config.publish) !== null && _b !== void 0 ? _b : defaultLevel\r\n        };\r\n    }\r\n    var connection = getConnection();\r\n    var application = getApplication();\r\n    if (typeof window !== \"undefined\") {\r\n        var windowAsAny = window;\r\n        var containerApplication = windowAsAny.htmlContainer ?\r\n            windowAsAny.htmlContainer.containerName + \".\" + windowAsAny.htmlContainer.application : (_a = windowAsAny === null || windowAsAny === void 0 ? void 0 : windowAsAny.glue42gd) === null || _a === void 0 ? void 0 : _a.application;\r\n        if (containerApplication) {\r\n            application = containerApplication;\r\n        }\r\n    }\r\n    return {\r\n        bus: (_b = configuration.bus) !== null && _b !== void 0 ? _b : false,\r\n        application: application,\r\n        auth: getAuth(),\r\n        logger: getLogger(),\r\n        connection: connection,\r\n        metrics: (_c = configuration.metrics) !== null && _c !== void 0 ? _c : true,\r\n        contexts: (_d = configuration.contexts) !== null && _d !== void 0 ? _d : true,\r\n        version: ext.version || version,\r\n        libs: (_e = ext.libs) !== null && _e !== void 0 ? _e : [],\r\n        customLogger: configuration.customLogger\r\n    };\r\n}\n\nvar GW3ContextData = (function () {\r\n    function GW3ContextData(contextId, name, isAnnounced, activityId) {\r\n        this.updateCallbacks = {};\r\n        this.contextId = contextId;\r\n        this.name = name;\r\n        this.isAnnounced = isAnnounced;\r\n        this.activityId = activityId;\r\n        this.context = {};\r\n    }\r\n    GW3ContextData.prototype.hasCallbacks = function () {\r\n        return Object.keys(this.updateCallbacks).length > 0;\r\n    };\r\n    GW3ContextData.prototype.getState = function () {\r\n        if (this.isAnnounced && this.hasCallbacks()) {\r\n            return 3;\r\n        }\r\n        if (this.isAnnounced) {\r\n            return 2;\r\n        }\r\n        if (this.hasCallbacks()) {\r\n            return 1;\r\n        }\r\n        return 0;\r\n    };\r\n    return GW3ContextData;\r\n}());\n\nfunction applyContextDelta(context, delta, logger) {\r\n    try {\r\n        if (logger === null || logger === void 0 ? void 0 : logger.canPublish(\"trace\")) {\r\n            logger === null || logger === void 0 ? void 0 : logger.trace(\"applying context delta \" + JSON.stringify(delta) + \" on context \" + JSON.stringify(context));\r\n        }\r\n        if (!delta) {\r\n            return context;\r\n        }\r\n        if (delta.reset) {\r\n            context = __assign({}, delta.reset);\r\n            return context;\r\n        }\r\n        context = deepClone(context, undefined);\r\n        if (delta.commands) {\r\n            for (var _i = 0, _a = delta.commands; _i < _a.length; _i++) {\r\n                var command = _a[_i];\r\n                if (command.type === \"remove\") {\r\n                    deletePath(context, command.path);\r\n                }\r\n                else if (command.type === \"set\") {\r\n                    setValueToPath(context, command.value, command.path);\r\n                }\r\n            }\r\n            return context;\r\n        }\r\n        var added_1 = delta.added;\r\n        var updated_1 = delta.updated;\r\n        var removed = delta.removed;\r\n        if (added_1) {\r\n            Object.keys(added_1).forEach(function (key) {\r\n                context[key] = added_1[key];\r\n            });\r\n        }\r\n        if (updated_1) {\r\n            Object.keys(updated_1).forEach(function (key) {\r\n                mergeObjectsProperties(key, context, updated_1);\r\n            });\r\n        }\r\n        if (removed) {\r\n            removed.forEach(function (key) {\r\n                delete context[key];\r\n            });\r\n        }\r\n        return context;\r\n    }\r\n    catch (e) {\r\n        logger === null || logger === void 0 ? void 0 : logger.error(\"error applying context delta \" + JSON.stringify(delta) + \" on context \" + JSON.stringify(context), e);\r\n        return context;\r\n    }\r\n}\r\nfunction deepClone(obj, hash) {\r\n    hash = hash || new WeakMap();\r\n    if (Object(obj) !== obj) {\r\n        return obj;\r\n    }\r\n    if (obj instanceof Set) {\r\n        return new Set(obj);\r\n    }\r\n    if (hash.has(obj)) {\r\n        return hash.get(obj);\r\n    }\r\n    var result = obj instanceof Date ? new Date(obj)\r\n        : obj instanceof RegExp ? new RegExp(obj.source, obj.flags)\r\n            : obj.constructor ? new obj.constructor()\r\n                : Object.create(null);\r\n    hash.set(obj, result);\r\n    if (obj instanceof Map) {\r\n        Array.from(obj, function (_a) {\r\n            var key = _a[0], val = _a[1];\r\n            return result.set(key, deepClone(val, hash));\r\n        });\r\n    }\r\n    return Object.assign.apply(Object, __spreadArrays([result], Object.keys(obj).map(function (key) {\r\n        var _a;\r\n        return (_a = {}, _a[key] = deepClone(obj[key], hash), _a);\r\n    })));\r\n}\r\nvar mergeObjectsProperties = function (key, what, withWhat) {\r\n    var right = withWhat[key];\r\n    if (right === undefined) {\r\n        return what;\r\n    }\r\n    var left = what[key];\r\n    if (!left || !right) {\r\n        what[key] = right;\r\n        return what;\r\n    }\r\n    if (typeof left === \"string\" ||\r\n        typeof left === \"number\" ||\r\n        typeof left === \"boolean\" ||\r\n        typeof right === \"string\" ||\r\n        typeof right === \"number\" ||\r\n        typeof right === \"boolean\" ||\r\n        Array.isArray(left) ||\r\n        Array.isArray(right)) {\r\n        what[key] = right;\r\n        return what;\r\n    }\r\n    what[key] = Object.assign({}, left, right);\r\n    return what;\r\n};\r\nfunction deepEqual(x, y) {\r\n    if (x === y) {\r\n        return true;\r\n    }\r\n    if (!(x instanceof Object) || !(y instanceof Object)) {\r\n        return false;\r\n    }\r\n    if (x.constructor !== y.constructor) {\r\n        return false;\r\n    }\r\n    for (var p in x) {\r\n        if (!x.hasOwnProperty(p)) {\r\n            continue;\r\n        }\r\n        if (!y.hasOwnProperty(p)) {\r\n            return false;\r\n        }\r\n        if (x[p] === y[p]) {\r\n            continue;\r\n        }\r\n        if (typeof (x[p]) !== \"object\") {\r\n            return false;\r\n        }\r\n        if (!deepEqual(x[p], y[p])) {\r\n            return false;\r\n        }\r\n    }\r\n    for (var p in y) {\r\n        if (y.hasOwnProperty(p) && !x.hasOwnProperty(p)) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\nfunction setValueToPath(obj, value, path) {\r\n    var pathArr = path.split(\".\");\r\n    var i;\r\n    for (i = 0; i < pathArr.length - 1; i++) {\r\n        if (!obj[pathArr[i]]) {\r\n            obj[pathArr[i]] = {};\r\n        }\r\n        if (typeof obj[pathArr[i]] !== \"object\") {\r\n            obj[pathArr[i]] = {};\r\n        }\r\n        obj = obj[pathArr[i]];\r\n    }\r\n    obj[pathArr[i]] = value;\r\n}\r\nfunction deletePath(obj, path) {\r\n    var pathArr = path.split(\".\");\r\n    var i;\r\n    for (i = 0; i < pathArr.length - 1; i++) {\r\n        if (!obj[pathArr[i]]) {\r\n            return;\r\n        }\r\n        obj = obj[pathArr[i]];\r\n    }\r\n    delete obj[pathArr[i]];\r\n}\n\nvar GW3Bridge = (function () {\r\n    function GW3Bridge(config) {\r\n        var _this = this;\r\n        var _a;\r\n        this._contextNameToData = {};\r\n        this._gw3Subscriptions = [];\r\n        this._nextCallbackSubscriptionNumber = 0;\r\n        this._contextNameToId = {};\r\n        this._contextIdToName = {};\r\n        this._protocolVersion = undefined;\r\n        this._connection = config.connection;\r\n        this._logger = config.logger;\r\n        this._gw3Session = this._connection.domain(\"global\", [\r\n            GW_MESSAGE_CONTEXT_CREATED,\r\n            GW_MESSAGE_SUBSCRIBED_CONTEXT,\r\n            GW_MESSAGE_CONTEXT_DESTROYED,\r\n            GW_MESSAGE_CONTEXT_UPDATED,\r\n        ]);\r\n        this.subscribeToContextCreatedMessages();\r\n        this.subscribeToContextUpdatedMessages();\r\n        this.subscribeToContextDestroyedMessages();\r\n        (_a = this._connection.replayer) === null || _a === void 0 ? void 0 : _a.drain(ContextMessageReplaySpec.name, function (message) {\r\n            var type = message.type;\r\n            if (!type) {\r\n                return;\r\n            }\r\n            if (type === GW_MESSAGE_CONTEXT_CREATED ||\r\n                type === GW_MESSAGE_CONTEXT_ADDED ||\r\n                type === GW_MESSAGE_ACTIVITY_CREATED) {\r\n                _this.handleContextCreatedMessage(message);\r\n            }\r\n            else if (type === GW_MESSAGE_SUBSCRIBED_CONTEXT ||\r\n                type === GW_MESSAGE_CONTEXT_UPDATED ||\r\n                type === GW_MESSAGE_JOINED_ACTIVITY) {\r\n                _this.handleContextUpdatedMessage(message);\r\n            }\r\n            else if (type === GW_MESSAGE_CONTEXT_DESTROYED ||\r\n                type === GW_MESSAGE_ACTIVITY_DESTROYED) {\r\n                _this.handleContextDestroyedMessage(message);\r\n            }\r\n        });\r\n    }\r\n    Object.defineProperty(GW3Bridge.prototype, \"protocolVersion\", {\r\n        get: function () {\r\n            var _a;\r\n            if (!this._protocolVersion) {\r\n                var contextsDomainInfo = this._connection.availableDomains.find(function (d) { return d.uri === \"context\"; });\r\n                this._protocolVersion = (_a = contextsDomainInfo === null || contextsDomainInfo === void 0 ? void 0 : contextsDomainInfo.version) !== null && _a !== void 0 ? _a : 1;\r\n            }\r\n            return this._protocolVersion;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(GW3Bridge.prototype, \"setPathSupported\", {\r\n        get: function () {\r\n            return this.protocolVersion >= 2;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    GW3Bridge.prototype.dispose = function () {\r\n        for (var _i = 0, _a = this._gw3Subscriptions; _i < _a.length; _i++) {\r\n            var sub = _a[_i];\r\n            this._connection.off(sub);\r\n        }\r\n        this._gw3Subscriptions.length = 0;\r\n        for (var contextName in this._contextNameToData) {\r\n            if (this._contextNameToId.hasOwnProperty(contextName)) {\r\n                delete this._contextNameToData[contextName];\r\n            }\r\n        }\r\n    };\r\n    GW3Bridge.prototype.createContext = function (name, data) {\r\n        var _this = this;\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_CREATE_CONTEXT,\r\n            domain: \"global\",\r\n            name: name,\r\n            data: data,\r\n            lifetime: \"retained\",\r\n        })\r\n            .then(function (createContextMsg) {\r\n            _this._contextNameToId[name] = createContextMsg.context_id;\r\n            _this._contextIdToName[createContextMsg.context_id] = name;\r\n            var contextData = _this._contextNameToData[name] || new GW3ContextData(createContextMsg.context_id, name, true, undefined);\r\n            contextData.isAnnounced = true;\r\n            contextData.name = name;\r\n            contextData.contextId = createContextMsg.context_id;\r\n            contextData.context = data;\r\n            _this._contextNameToData[name] = contextData;\r\n            return createContextMsg.context_id;\r\n        });\r\n    };\r\n    GW3Bridge.prototype.all = function () {\r\n        var _this = this;\r\n        return Object.keys(this._contextNameToData)\r\n            .filter(function (name) { return _this._contextNameToData[name].isAnnounced; });\r\n    };\r\n    GW3Bridge.prototype.update = function (name, delta) {\r\n        var _a;\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var contextData, currentContext, calculatedDelta;\r\n            var _this = this;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        contextData = this._contextNameToData[name];\r\n                        if (!contextData || !contextData.isAnnounced) {\r\n                            return [2, this.createContext(name, delta)];\r\n                        }\r\n                        currentContext = contextData.context;\r\n                        if (!!contextData.hasCallbacks()) return [3, 2];\r\n                        return [4, this.get(contextData.name)];\r\n                    case 1:\r\n                        currentContext = _b.sent();\r\n                        _b.label = 2;\r\n                    case 2:\r\n                        calculatedDelta = this.protocolVersion === 2 ?\r\n                            this.calculateContextDeltaV2(currentContext, delta) :\r\n                            this.calculateContextDeltaV1(currentContext, delta);\r\n                        if (!Object.keys(calculatedDelta.added).length\r\n                            && !Object.keys(calculatedDelta.updated).length\r\n                            && !calculatedDelta.removed.length\r\n                            && !((_a = calculatedDelta.commands) === null || _a === void 0 ? void 0 : _a.length)) {\r\n                            return [2, Promise.resolve()];\r\n                        }\r\n                        return [2, this._gw3Session\r\n                                .send({\r\n                                type: GW_MESSAGE_UPDATE_CONTEXT,\r\n                                domain: \"global\",\r\n                                context_id: contextData.contextId,\r\n                                delta: calculatedDelta,\r\n                            }, {}, { skipPeerId: false })\r\n                                .then(function (gwResponse) {\r\n                                _this.handleUpdated(contextData, calculatedDelta, {\r\n                                    updaterId: gwResponse.peer_id\r\n                                });\r\n                            })];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    GW3Bridge.prototype.set = function (name, data) {\r\n        var _this = this;\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData || !contextData.isAnnounced) {\r\n            return this.createContext(name, data);\r\n        }\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_UPDATE_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n            delta: { reset: data },\r\n        }, {}, { skipPeerId: false })\r\n            .then(function (gwResponse) {\r\n            _this.handleUpdated(contextData, { reset: data, added: {}, removed: [], updated: {} }, { updaterId: gwResponse.peer_id });\r\n        });\r\n    };\r\n    GW3Bridge.prototype.setPath = function (name, path, value) {\r\n        if (!this.setPathSupported) {\r\n            return Promise.reject(\"glue.contexts.setPath operation is not supported, use Glue42 3.10 or later\");\r\n        }\r\n        return this.setPaths(name, [{ path: path, value: value }]);\r\n    };\r\n    GW3Bridge.prototype.setPaths = function (name, pathValues) {\r\n        var _this = this;\r\n        if (!this.setPathSupported) {\r\n            return Promise.reject(\"glue.contexts.setPaths operation is not supported, use Glue42 3.10 or later\");\r\n        }\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData || !contextData.isAnnounced) {\r\n            var obj = {};\r\n            for (var _i = 0, pathValues_1 = pathValues; _i < pathValues_1.length; _i++) {\r\n                var pathValue = pathValues_1[_i];\r\n                setValueToPath(obj, pathValue.value, pathValue.path);\r\n            }\r\n            return this.createContext(name, obj);\r\n        }\r\n        var commands = [];\r\n        for (var _a = 0, pathValues_2 = pathValues; _a < pathValues_2.length; _a++) {\r\n            var pathValue = pathValues_2[_a];\r\n            if (pathValue.value === null) {\r\n                commands.push({ type: \"remove\", path: pathValue.path });\r\n            }\r\n            else {\r\n                commands.push({ type: \"set\", path: pathValue.path, value: pathValue.value });\r\n            }\r\n        }\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_UPDATE_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n            delta: { commands: commands }\r\n        }, {}, { skipPeerId: false })\r\n            .then(function (gwResponse) {\r\n            _this.handleUpdated(contextData, { added: {}, removed: [], updated: {}, commands: commands }, { updaterId: gwResponse.peer_id });\r\n        });\r\n    };\r\n    GW3Bridge.prototype.get = function (name) {\r\n        var _this = this;\r\n        var _a;\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData || !contextData.isAnnounced) {\r\n            return Promise.resolve({});\r\n        }\r\n        if (contextData && !contextData.hasCallbacks()) {\r\n            return new Promise(function (resolve, _) { return __awaiter(_this, void 0, void 0, function () {\r\n                var _this = this;\r\n                return __generator(this, function (_a) {\r\n                    this.subscribe(name, function (data, _d, _r, un) {\r\n                        _this.unsubscribe(un);\r\n                        resolve(data);\r\n                    });\r\n                    return [2];\r\n                });\r\n            }); });\r\n        }\r\n        var context = (_a = contextData === null || contextData === void 0 ? void 0 : contextData.context) !== null && _a !== void 0 ? _a : {};\r\n        return Promise.resolve(context);\r\n    };\r\n    GW3Bridge.prototype.subscribe = function (name, callback) {\r\n        var thisCallbackSubscriptionNumber = this._nextCallbackSubscriptionNumber;\r\n        this._nextCallbackSubscriptionNumber += 1;\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData ||\r\n            !contextData.isAnnounced) {\r\n            contextData = contextData || new GW3ContextData(undefined, name, false, undefined);\r\n            this._contextNameToData[name] = contextData;\r\n            contextData.updateCallbacks[thisCallbackSubscriptionNumber] = callback;\r\n            return Promise.resolve(thisCallbackSubscriptionNumber);\r\n        }\r\n        var hadCallbacks = contextData.hasCallbacks();\r\n        contextData.updateCallbacks[thisCallbackSubscriptionNumber] = callback;\r\n        if (!hadCallbacks) {\r\n            if (!contextData.joinedActivity) {\r\n                if (contextData.context && contextData.sentExplicitSubscription) {\r\n                    var clone = deepClone(contextData.context);\r\n                    callback(clone, clone, [], thisCallbackSubscriptionNumber);\r\n                    return Promise.resolve(thisCallbackSubscriptionNumber);\r\n                }\r\n                return this.sendSubscribe(contextData)\r\n                    .then(function () { return thisCallbackSubscriptionNumber; });\r\n            }\r\n            else {\r\n                var clone = deepClone(contextData.context);\r\n                callback(clone, clone, [], thisCallbackSubscriptionNumber);\r\n                return Promise.resolve(thisCallbackSubscriptionNumber);\r\n            }\r\n        }\r\n        else {\r\n            var clone = deepClone(contextData.context);\r\n            callback(clone, clone, [], thisCallbackSubscriptionNumber);\r\n            return Promise.resolve(thisCallbackSubscriptionNumber);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.unsubscribe = function (subscriptionKey) {\r\n        for (var _i = 0, _a = Object.keys(this._contextNameToData); _i < _a.length; _i++) {\r\n            var name_1 = _a[_i];\r\n            var contextId = this._contextNameToId[name_1];\r\n            var contextData = this._contextNameToData[name_1];\r\n            if (!contextData) {\r\n                return;\r\n            }\r\n            var hadCallbacks = contextData.hasCallbacks();\r\n            delete contextData.updateCallbacks[subscriptionKey];\r\n            if (contextData.isAnnounced &&\r\n                hadCallbacks &&\r\n                !contextData.hasCallbacks() &&\r\n                contextData.sentExplicitSubscription) {\r\n                this.sendUnsubscribe(contextData);\r\n            }\r\n            if (!contextData.isAnnounced &&\r\n                !contextData.hasCallbacks()) {\r\n                delete this._contextNameToData[name_1];\r\n            }\r\n        }\r\n    };\r\n    GW3Bridge.prototype.destroy = function (name) {\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData) {\r\n            return Promise.reject(\"context with \" + name + \" does not exist\");\r\n        }\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_DESTROY_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n        }).then(function (_) { return undefined; });\r\n    };\r\n    GW3Bridge.prototype.handleUpdated = function (contextData, delta, extraData) {\r\n        var oldContext = contextData.context;\r\n        contextData.context = applyContextDelta(contextData.context, delta, this._logger);\r\n        if (this._contextNameToData[contextData.name] === contextData &&\r\n            !deepEqual(oldContext, contextData.context)) {\r\n            this.invokeUpdateCallbacks(contextData, delta, extraData);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.subscribeToContextCreatedMessages = function () {\r\n        var createdMessageTypes = [\r\n            GW_MESSAGE_CONTEXT_ADDED,\r\n            GW_MESSAGE_CONTEXT_CREATED,\r\n            GW_MESSAGE_ACTIVITY_CREATED,\r\n        ];\r\n        for (var _i = 0, createdMessageTypes_1 = createdMessageTypes; _i < createdMessageTypes_1.length; _i++) {\r\n            var createdMessageType = createdMessageTypes_1[_i];\r\n            var sub = this._connection.on(createdMessageType, this.handleContextCreatedMessage.bind(this));\r\n            this._gw3Subscriptions.push(sub);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.handleContextCreatedMessage = function (contextCreatedMsg) {\r\n        var createdMessageType = contextCreatedMsg.type;\r\n        if (createdMessageType === GW_MESSAGE_ACTIVITY_CREATED) {\r\n            this._contextNameToId[contextCreatedMsg.activity_id] = contextCreatedMsg.context_id;\r\n            this._contextIdToName[contextCreatedMsg.context_id] = contextCreatedMsg.activity_id;\r\n        }\r\n        else if (createdMessageType === GW_MESSAGE_CONTEXT_ADDED) {\r\n            this._contextNameToId[contextCreatedMsg.name] = contextCreatedMsg.context_id;\r\n            this._contextIdToName[contextCreatedMsg.context_id] = contextCreatedMsg.name;\r\n        }\r\n        else ;\r\n        var name = this._contextIdToName[contextCreatedMsg.context_id];\r\n        if (!name) {\r\n            throw new Error(\"Received created event for context with unknown name: \" + contextCreatedMsg.context_id);\r\n        }\r\n        if (!this._contextNameToId[name]) {\r\n            throw new Error(\"Received created event for context with unknown id: \" + contextCreatedMsg.context_id);\r\n        }\r\n        var contextData = this._contextNameToData[name];\r\n        if (contextData) {\r\n            if (contextData.isAnnounced) {\r\n                return;\r\n            }\r\n            else {\r\n                if (!contextData.hasCallbacks()) {\r\n                    throw new Error(\"Assertion failure: contextData.hasCallbacks()\");\r\n                }\r\n                contextData.isAnnounced = true;\r\n                contextData.contextId = contextCreatedMsg.context_id;\r\n                contextData.activityId = contextCreatedMsg.activity_id;\r\n                if (!contextData.sentExplicitSubscription) {\r\n                    this.sendSubscribe(contextData);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            this._contextNameToData[name] = contextData =\r\n                new GW3ContextData(contextCreatedMsg.context_id, name, true, contextCreatedMsg.activity_id);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.subscribeToContextUpdatedMessages = function () {\r\n        var updatedMessageTypes = [\r\n            GW_MESSAGE_CONTEXT_UPDATED,\r\n            GW_MESSAGE_SUBSCRIBED_CONTEXT,\r\n            GW_MESSAGE_JOINED_ACTIVITY,\r\n        ];\r\n        for (var _i = 0, updatedMessageTypes_1 = updatedMessageTypes; _i < updatedMessageTypes_1.length; _i++) {\r\n            var updatedMessageType = updatedMessageTypes_1[_i];\r\n            var sub = this._connection.on(updatedMessageType, this.handleContextUpdatedMessage.bind(this));\r\n            this._gw3Subscriptions.push(sub);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.handleContextUpdatedMessage = function (contextUpdatedMsg) {\r\n        var updatedMessageType = contextUpdatedMsg.type;\r\n        var contextId = contextUpdatedMsg.context_id;\r\n        var contextData = this._contextNameToData[this._contextIdToName[contextId]];\r\n        var justSeen = !contextData || !contextData.isAnnounced;\r\n        if (updatedMessageType === GW_MESSAGE_JOINED_ACTIVITY) {\r\n            if (!contextData) {\r\n                contextData = new GW3ContextData(contextId, contextUpdatedMsg.activity_id, true, contextUpdatedMsg.activity_id);\r\n                this._contextNameToData[contextUpdatedMsg.activity_id] = contextData;\r\n                this._contextIdToName[contextId] = contextUpdatedMsg.activity_id;\r\n                this._contextNameToId[contextUpdatedMsg.activity_id] = contextId;\r\n            }\r\n            else {\r\n                contextData.contextId = contextId;\r\n                contextData.isAnnounced = true;\r\n                contextData.activityId = contextUpdatedMsg.activity_id;\r\n            }\r\n            contextData.joinedActivity = true;\r\n        }\r\n        else {\r\n            if (!contextData || !contextData.isAnnounced) {\r\n                if (updatedMessageType === GW_MESSAGE_SUBSCRIBED_CONTEXT) {\r\n                    contextData = contextData || new GW3ContextData(contextId, contextUpdatedMsg.name, true, undefined);\r\n                    contextData.sentExplicitSubscription = true;\r\n                    this._contextNameToData[contextUpdatedMsg.name] = contextData;\r\n                    this._contextIdToName[contextId] = contextUpdatedMsg.name;\r\n                    this._contextNameToId[contextUpdatedMsg.name] = contextId;\r\n                }\r\n                else {\r\n                    this._logger.error(\"Received 'update' for unknown context: \" + contextId);\r\n                }\r\n                return;\r\n            }\r\n        }\r\n        var oldContext = contextData.context;\r\n        if (updatedMessageType === GW_MESSAGE_SUBSCRIBED_CONTEXT) {\r\n            contextData.context = contextUpdatedMsg.data || {};\r\n        }\r\n        else if (updatedMessageType === GW_MESSAGE_JOINED_ACTIVITY) {\r\n            contextData.context = contextUpdatedMsg.context_snapshot || {};\r\n        }\r\n        else if (updatedMessageType === GW_MESSAGE_CONTEXT_UPDATED) {\r\n            contextData.context = applyContextDelta(contextData.context, contextUpdatedMsg.delta, this._logger);\r\n        }\r\n        else {\r\n            throw new Error(\"Unrecognized context update message \" + updatedMessageType);\r\n        }\r\n        if (justSeen ||\r\n            !deepEqual(contextData.context, oldContext) ||\r\n            updatedMessageType === GW_MESSAGE_SUBSCRIBED_CONTEXT) {\r\n            this.invokeUpdateCallbacks(contextData, contextUpdatedMsg.delta, { updaterId: contextUpdatedMsg.updater_id });\r\n        }\r\n    };\r\n    GW3Bridge.prototype.invokeUpdateCallbacks = function (contextData, delta, extraData) {\r\n        delta = delta || { added: {}, updated: {}, reset: {}, removed: [] };\r\n        if (delta.commands) {\r\n            delta.added = delta.updated = delta.reset = {};\r\n            delta.removed = [];\r\n            for (var _i = 0, _a = delta.commands; _i < _a.length; _i++) {\r\n                var command = _a[_i];\r\n                if (command.type === \"remove\") {\r\n                    if (command.path.indexOf(\".\") === -1) {\r\n                        delta.removed.push(command.path);\r\n                    }\r\n                    setValueToPath(delta.updated, null, command.path);\r\n                }\r\n                else if (command.type === \"set\") {\r\n                    setValueToPath(delta.updated, command.value, command.path);\r\n                }\r\n            }\r\n        }\r\n        for (var updateCallbackIndex in contextData.updateCallbacks) {\r\n            if (contextData.updateCallbacks.hasOwnProperty(updateCallbackIndex)) {\r\n                try {\r\n                    var updateCallback = contextData.updateCallbacks[updateCallbackIndex];\r\n                    updateCallback(deepClone(contextData.context), Object.assign({}, delta.added || {}, delta.updated || {}, delta.reset || {}), delta.removed, parseInt(updateCallbackIndex, 10), extraData);\r\n                }\r\n                catch (err) {\r\n                    this._logger.debug(\"callback error: \" + JSON.stringify(err));\r\n                }\r\n            }\r\n        }\r\n    };\r\n    GW3Bridge.prototype.subscribeToContextDestroyedMessages = function () {\r\n        var destroyedMessageTypes = [\r\n            GW_MESSAGE_CONTEXT_DESTROYED,\r\n            GW_MESSAGE_ACTIVITY_DESTROYED,\r\n        ];\r\n        for (var _i = 0, destroyedMessageTypes_1 = destroyedMessageTypes; _i < destroyedMessageTypes_1.length; _i++) {\r\n            var destroyedMessageType = destroyedMessageTypes_1[_i];\r\n            var sub = this._connection.on(destroyedMessageType, this.handleContextDestroyedMessage.bind(this));\r\n            this._gw3Subscriptions.push(sub);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.handleContextDestroyedMessage = function (destroyedMsg) {\r\n        var destroyedMessageType = destroyedMsg.type;\r\n        var contextId;\r\n        var name;\r\n        if (destroyedMessageType === GW_MESSAGE_ACTIVITY_DESTROYED) {\r\n            name = destroyedMsg.activity_id;\r\n            contextId = this._contextNameToId[name];\r\n            if (!contextId) {\r\n                this._logger.error(\"Received 'destroyed' for unknown activity: \" + destroyedMsg.activity_id);\r\n                return;\r\n            }\r\n        }\r\n        else {\r\n            contextId = destroyedMsg.context_id;\r\n            name = this._contextIdToName[contextId];\r\n            if (!name) {\r\n                this._logger.error(\"Received 'destroyed' for unknown context: \" + destroyedMsg.context_id);\r\n                return;\r\n            }\r\n        }\r\n        delete this._contextIdToName[contextId];\r\n        delete this._contextNameToId[name];\r\n        var contextData = this._contextNameToData[name];\r\n        delete this._contextNameToData[name];\r\n        if (!contextData || !contextData.isAnnounced) {\r\n            this._logger.error(\"Received 'destroyed' for unknown context: \" + contextId);\r\n            return;\r\n        }\r\n    };\r\n    GW3Bridge.prototype.sendSubscribe = function (contextData) {\r\n        contextData.sentExplicitSubscription = true;\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_SUBSCRIBE_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n        }).then(function (_) { return undefined; });\r\n    };\r\n    GW3Bridge.prototype.sendUnsubscribe = function (contextData) {\r\n        contextData.sentExplicitSubscription = false;\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_UNSUBSCRIBE_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n        }).then(function (_) { return undefined; });\r\n    };\r\n    GW3Bridge.prototype.calculateContextDeltaV1 = function (from, to) {\r\n        var delta = { added: {}, updated: {}, removed: [], reset: undefined };\r\n        if (from) {\r\n            for (var _i = 0, _a = Object.keys(from); _i < _a.length; _i++) {\r\n                var x = _a[_i];\r\n                if (Object.keys(to).indexOf(x) !== -1\r\n                    && to[x] !== null\r\n                    && !deepEqual(from[x], to[x])) {\r\n                    delta.updated[x] = to[x];\r\n                }\r\n            }\r\n        }\r\n        for (var _b = 0, _c = Object.keys(to); _b < _c.length; _b++) {\r\n            var x = _c[_b];\r\n            if (!from || (Object.keys(from).indexOf(x) === -1)) {\r\n                if (to[x] !== null) {\r\n                    delta.added[x] = to[x];\r\n                }\r\n            }\r\n            else if (to[x] === null) {\r\n                delta.removed.push(x);\r\n            }\r\n        }\r\n        return delta;\r\n    };\r\n    GW3Bridge.prototype.calculateContextDeltaV2 = function (from, to) {\r\n        var _a, _b;\r\n        var delta = { added: {}, updated: {}, removed: [], reset: undefined, commands: [] };\r\n        for (var _i = 0, _c = Object.keys(to); _i < _c.length; _i++) {\r\n            var x = _c[_i];\r\n            if (to[x] !== null) {\r\n                var fromX = from ? from[x] : null;\r\n                if (!deepEqual(fromX, to[x])) {\r\n                    (_a = delta.commands) === null || _a === void 0 ? void 0 : _a.push({ type: \"set\", path: x, value: to[x] });\r\n                }\r\n            }\r\n            else {\r\n                (_b = delta.commands) === null || _b === void 0 ? void 0 : _b.push({ type: \"remove\", path: x });\r\n            }\r\n        }\r\n        return delta;\r\n    };\r\n    return GW3Bridge;\r\n}());\n\nvar ContextsModule = (function () {\r\n    function ContextsModule(config) {\r\n        this._bridge = new GW3Bridge(config);\r\n    }\r\n    ContextsModule.prototype.all = function () {\r\n        return this._bridge.all();\r\n    };\r\n    ContextsModule.prototype.update = function (name, data) {\r\n        this.checkName(name);\r\n        this.checkData(data);\r\n        return this._bridge.update(name, data);\r\n    };\r\n    ContextsModule.prototype.set = function (name, data) {\r\n        this.checkName(name);\r\n        this.checkData(data);\r\n        return this._bridge.set(name, data);\r\n    };\r\n    ContextsModule.prototype.setPath = function (name, path, data) {\r\n        this.checkName(name);\r\n        this.checkPath(path);\r\n        var isTopLevelPath = path === \"\";\r\n        if (isTopLevelPath) {\r\n            this.checkData(data);\r\n            return this.set(name, data);\r\n        }\r\n        return this._bridge.setPath(name, path, data);\r\n    };\r\n    ContextsModule.prototype.setPaths = function (name, paths) {\r\n        this.checkName(name);\r\n        if (!Array.isArray(paths)) {\r\n            throw new Error(\"Please provide the paths as an array of PathValues!\");\r\n        }\r\n        for (var _i = 0, paths_1 = paths; _i < paths_1.length; _i++) {\r\n            var _a = paths_1[_i], path = _a.path, value = _a.value;\r\n            this.checkPath(path);\r\n            var isTopLevelPath = path === \"\";\r\n            if (isTopLevelPath) {\r\n                this.checkData(value);\r\n            }\r\n        }\r\n        return this._bridge.setPaths(name, paths);\r\n    };\r\n    ContextsModule.prototype.subscribe = function (name, callback) {\r\n        var _this = this;\r\n        this.checkName(name);\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"Please provide the callback as a function!\");\r\n        }\r\n        return this._bridge\r\n            .subscribe(name, function (data, delta, removed, key, extraData) { return callback(data, delta, removed, function () { return _this._bridge.unsubscribe(key); }, extraData); })\r\n            .then(function (key) {\r\n            return function () {\r\n                _this._bridge.unsubscribe(key);\r\n            };\r\n        });\r\n    };\r\n    ContextsModule.prototype.get = function (name) {\r\n        this.checkName(name);\r\n        return this._bridge.get(name);\r\n    };\r\n    ContextsModule.prototype.ready = function () {\r\n        return Promise.resolve(this);\r\n    };\r\n    ContextsModule.prototype.destroy = function (name) {\r\n        this.checkName(name);\r\n        return this._bridge.destroy(name);\r\n    };\r\n    Object.defineProperty(ContextsModule.prototype, \"setPathSupported\", {\r\n        get: function () {\r\n            return this._bridge.setPathSupported;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ContextsModule.prototype.checkName = function (name) {\r\n        if (typeof name !== \"string\" || name === \"\") {\r\n            throw new Error(\"Please provide the name as a non-empty string!\");\r\n        }\r\n    };\r\n    ContextsModule.prototype.checkPath = function (path) {\r\n        if (typeof path !== \"string\") {\r\n            throw new Error(\"Please provide the path as a dot delimited string!\");\r\n        }\r\n    };\r\n    ContextsModule.prototype.checkData = function (data) {\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Please provide the data as an object!\");\r\n        }\r\n    };\r\n    return ContextsModule;\r\n}());\n\nfunction promisify (promise, successCallback, errorCallback) {\r\n    if (typeof successCallback !== \"function\" && typeof errorCallback !== \"function\") {\r\n        return promise;\r\n    }\r\n    if (typeof successCallback !== \"function\") {\r\n        successCallback = function () { };\r\n    }\r\n    else if (typeof errorCallback !== \"function\") {\r\n        errorCallback = function () { };\r\n    }\r\n    return promise.then(successCallback, errorCallback);\r\n}\n\nfunction rejectAfter(ms, promise, error) {\r\n    if (ms === void 0) { ms = 0; }\r\n    var timeout;\r\n    promise.finally(function () {\r\n        if (timeout) {\r\n            clearTimeout(timeout);\r\n        }\r\n    });\r\n    return new Promise(function (resolve, reject) {\r\n        timeout = setTimeout(function () { return reject(error); }, ms);\r\n    });\r\n}\n\nvar InvokeStatus;\r\n(function (InvokeStatus) {\r\n    InvokeStatus[InvokeStatus[\"Success\"] = 0] = \"Success\";\r\n    InvokeStatus[InvokeStatus[\"Error\"] = 1] = \"Error\";\r\n})(InvokeStatus || (InvokeStatus = {}));\r\nvar Client = (function () {\r\n    function Client(protocol, repo, instance, configuration) {\r\n        this.protocol = protocol;\r\n        this.repo = repo;\r\n        this.instance = instance;\r\n        this.configuration = configuration;\r\n    }\r\n    Client.prototype.subscribe = function (method, options, successCallback, errorCallback, existingSub) {\r\n        var _this = this;\r\n        var callProtocolSubscribe = function (targetServers, stream, successProxy, errorProxy) {\r\n            var _a;\r\n            options.methodResponseTimeout = (_a = options.methodResponseTimeout) !== null && _a !== void 0 ? _a : options.waitTimeoutMs;\r\n            _this.protocol.client.subscribe(stream, options, targetServers, successProxy, errorProxy, existingSub);\r\n        };\r\n        var promise = new Promise(function (resolve, reject) {\r\n            var successProxy = function (sub) {\r\n                resolve(sub);\r\n            };\r\n            var errorProxy = function (err) {\r\n                reject(err);\r\n            };\r\n            if (!method) {\r\n                reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n                return;\r\n            }\r\n            var methodDef;\r\n            if (typeof method === \"string\") {\r\n                methodDef = { name: method };\r\n            }\r\n            else {\r\n                methodDef = method;\r\n            }\r\n            if (!methodDef.name) {\r\n                reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n                return;\r\n            }\r\n            if (options === undefined) {\r\n                options = {};\r\n            }\r\n            var target = options.target;\r\n            if (target === undefined) {\r\n                target = \"best\";\r\n            }\r\n            if (typeof target === \"string\" && target !== \"all\" && target !== \"best\") {\r\n                reject(new Error(\"\\\"\" + target + \"\\\" is not a valid target. Valid targets are \\\"all\\\", \\\"best\\\", or an instance.\"));\r\n                return;\r\n            }\r\n            if (options.methodResponseTimeout === undefined) {\r\n                options.methodResponseTimeout = options.method_response_timeout;\r\n                if (options.methodResponseTimeout === undefined) {\r\n                    options.methodResponseTimeout = _this.configuration.methodResponseTimeout;\r\n                }\r\n            }\r\n            if (options.waitTimeoutMs === undefined) {\r\n                options.waitTimeoutMs = options.wait_for_method_timeout;\r\n                if (options.waitTimeoutMs === undefined) {\r\n                    options.waitTimeoutMs = _this.configuration.waitTimeoutMs;\r\n                }\r\n            }\r\n            var delayStep = 500;\r\n            var delayTillNow = 0;\r\n            var currentServers = _this.getServerMethodsByFilterAndTarget(methodDef, target);\r\n            if (currentServers.length > 0) {\r\n                callProtocolSubscribe(currentServers, currentServers[0].methods[0], successProxy, errorProxy);\r\n            }\r\n            else {\r\n                var retry_1 = function () {\r\n                    if (!target || !(options.waitTimeoutMs)) {\r\n                        return;\r\n                    }\r\n                    delayTillNow += delayStep;\r\n                    currentServers = _this.getServerMethodsByFilterAndTarget(methodDef, target);\r\n                    if (currentServers.length > 0) {\r\n                        var streamInfo = currentServers[0].methods[0];\r\n                        callProtocolSubscribe(currentServers, streamInfo, successProxy, errorProxy);\r\n                    }\r\n                    else if (delayTillNow >= options.waitTimeoutMs) {\r\n                        var def = typeof method === \"string\" ? { name: method } : method;\r\n                        callProtocolSubscribe(currentServers, def, successProxy, errorProxy);\r\n                    }\r\n                    else {\r\n                        setTimeout(retry_1, delayStep);\r\n                    }\r\n                };\r\n                setTimeout(retry_1, delayStep);\r\n            }\r\n        });\r\n        return promisify(promise, successCallback, errorCallback);\r\n    };\r\n    Client.prototype.servers = function (methodFilter) {\r\n        var filterCopy = methodFilter === undefined\r\n            ? undefined\r\n            : __assign({}, methodFilter);\r\n        return this.getServers(filterCopy).map(function (serverMethodMap) {\r\n            return serverMethodMap.server.instance;\r\n        });\r\n    };\r\n    Client.prototype.methods = function (methodFilter) {\r\n        if (typeof methodFilter === \"string\") {\r\n            methodFilter = { name: methodFilter };\r\n        }\r\n        else {\r\n            methodFilter = __assign({}, methodFilter);\r\n        }\r\n        return this.getMethods(methodFilter);\r\n    };\r\n    Client.prototype.methodsForInstance = function (instance) {\r\n        return this.getMethodsForInstance(instance);\r\n    };\r\n    Client.prototype.methodAdded = function (callback) {\r\n        return this.repo.onMethodAdded(callback);\r\n    };\r\n    Client.prototype.methodRemoved = function (callback) {\r\n        return this.repo.onMethodRemoved(callback);\r\n    };\r\n    Client.prototype.serverAdded = function (callback) {\r\n        return this.repo.onServerAdded(callback);\r\n    };\r\n    Client.prototype.serverRemoved = function (callback) {\r\n        return this.repo.onServerRemoved(function (server, reason) {\r\n            callback(server, reason);\r\n        });\r\n    };\r\n    Client.prototype.serverMethodAdded = function (callback) {\r\n        return this.repo.onServerMethodAdded(function (server, method) {\r\n            callback({ server: server, method: method });\r\n        });\r\n    };\r\n    Client.prototype.serverMethodRemoved = function (callback) {\r\n        return this.repo.onServerMethodRemoved(function (server, method) {\r\n            callback({ server: server, method: method });\r\n        });\r\n    };\r\n    Client.prototype.invoke = function (methodFilter, argumentObj, target, additionalOptions, success, error) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var getInvokePromise;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                getInvokePromise = function () { return __awaiter(_this, void 0, void 0, function () {\r\n                    var methodDefinition, serversMethodMap, err_1, method, errorObj, timeout, additionalOptionsCopy, invokePromises, invocationMessages, results, allRejected;\r\n                    var _this = this;\r\n                    var _a;\r\n                    return __generator(this, function (_b) {\r\n                        switch (_b.label) {\r\n                            case 0:\r\n                                if (typeof methodFilter === \"string\") {\r\n                                    methodDefinition = { name: methodFilter };\r\n                                }\r\n                                else {\r\n                                    methodDefinition = __assign({}, methodFilter);\r\n                                }\r\n                                if (!methodDefinition.name) {\r\n                                    return [2, Promise.reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\")];\r\n                                }\r\n                                if (!argumentObj) {\r\n                                    argumentObj = {};\r\n                                }\r\n                                if (!target) {\r\n                                    target = \"best\";\r\n                                }\r\n                                if (typeof target === \"string\" && target !== \"all\" && target !== \"best\" && target !== \"skipMine\") {\r\n                                    return [2, Promise.reject(new Error(\"\\\"\" + target + \"\\\" is not a valid target. Valid targets are \\\"all\\\" and \\\"best\\\".\"))];\r\n                                }\r\n                                if (!additionalOptions) {\r\n                                    additionalOptions = {};\r\n                                }\r\n                                if (additionalOptions.methodResponseTimeoutMs === undefined) {\r\n                                    additionalOptions.methodResponseTimeoutMs = additionalOptions.method_response_timeout;\r\n                                    if (additionalOptions.methodResponseTimeoutMs === undefined) {\r\n                                        additionalOptions.methodResponseTimeoutMs = this.configuration.methodResponseTimeout;\r\n                                    }\r\n                                }\r\n                                if (additionalOptions.waitTimeoutMs === undefined) {\r\n                                    additionalOptions.waitTimeoutMs = additionalOptions.wait_for_method_timeout;\r\n                                    if (additionalOptions.waitTimeoutMs === undefined) {\r\n                                        additionalOptions.waitTimeoutMs = this.configuration.waitTimeoutMs;\r\n                                    }\r\n                                }\r\n                                if (additionalOptions.waitTimeoutMs !== undefined && typeof additionalOptions.waitTimeoutMs !== \"number\") {\r\n                                    return [2, Promise.reject(new Error(\"\\\"\" + additionalOptions.waitTimeoutMs + \"\\\" is not a valid number for \\\"waitTimeoutMs\\\" \"))];\r\n                                }\r\n                                if (typeof argumentObj !== \"object\") {\r\n                                    return [2, Promise.reject(new Error(\"The method arguments must be an object. method: \" + methodDefinition.name))];\r\n                                }\r\n                                serversMethodMap = this.getServerMethodsByFilterAndTarget(methodDefinition, target);\r\n                                if (!(serversMethodMap.length === 0)) return [3, 4];\r\n                                _b.label = 1;\r\n                            case 1:\r\n                                _b.trys.push([1, 3, , 4]);\r\n                                return [4, this.tryToAwaitForMethods(methodDefinition, target, additionalOptions)];\r\n                            case 2:\r\n                                serversMethodMap = _b.sent();\r\n                                return [3, 4];\r\n                            case 3:\r\n                                err_1 = _b.sent();\r\n                                method = __assign(__assign({}, methodDefinition), { getServers: function () { return []; }, supportsStreaming: false, objectTypes: (_a = methodDefinition.objectTypes) !== null && _a !== void 0 ? _a : [] });\r\n                                errorObj = {\r\n                                    method: method,\r\n                                    called_with: argumentObj,\r\n                                    message: \"Can not find a method matching \" + JSON.stringify(methodFilter) + \" with server filter \" + JSON.stringify(target),\r\n                                    executed_by: undefined,\r\n                                    returned: undefined,\r\n                                    status: undefined,\r\n                                };\r\n                                return [2, Promise.reject(errorObj)];\r\n                            case 4:\r\n                                timeout = additionalOptions.methodResponseTimeoutMs;\r\n                                additionalOptionsCopy = additionalOptions;\r\n                                invokePromises = serversMethodMap.map(function (serversMethodPair) {\r\n                                    var invId = shortid();\r\n                                    var method = serversMethodPair.methods[0];\r\n                                    var server = serversMethodPair.server;\r\n                                    var invokePromise = _this.protocol.client.invoke(invId, method, argumentObj, server, additionalOptionsCopy);\r\n                                    return Promise.race([\r\n                                        invokePromise,\r\n                                        rejectAfter(timeout, invokePromise, {\r\n                                            invocationId: invId,\r\n                                            message: \"Invocation timeout (\" + timeout + \" ms) reached for method name: \" + (method === null || method === void 0 ? void 0 : method.name) + \", target instance: \" + JSON.stringify(server.instance) + \", options: \" + JSON.stringify(additionalOptionsCopy),\r\n                                            status: InvokeStatus.Error,\r\n                                        })\r\n                                    ]);\r\n                                });\r\n                                return [4, Promise.all(invokePromises)];\r\n                            case 5:\r\n                                invocationMessages = _b.sent();\r\n                                results = this.getInvocationResultObj(invocationMessages, methodDefinition, argumentObj);\r\n                                allRejected = invocationMessages.every(function (result) { return result.status === InvokeStatus.Error; });\r\n                                if (allRejected) {\r\n                                    return [2, Promise.reject(results)];\r\n                                }\r\n                                return [2, results];\r\n                        }\r\n                    });\r\n                }); };\r\n                return [2, promisify(getInvokePromise(), success, error)];\r\n            });\r\n        });\r\n    };\r\n    Client.prototype.getInvocationResultObj = function (invocationResults, method, calledWith) {\r\n        var all_return_values = invocationResults\r\n            .filter(function (invokeMessage) { return invokeMessage.status === InvokeStatus.Success; })\r\n            .reduce(function (allValues, currentValue) {\r\n            allValues = __spreadArrays(allValues, [\r\n                {\r\n                    executed_by: currentValue.instance,\r\n                    returned: currentValue.result,\r\n                    called_with: calledWith,\r\n                    method: method,\r\n                    message: currentValue.message,\r\n                    status: currentValue.status,\r\n                }\r\n            ]);\r\n            return allValues;\r\n        }, []);\r\n        var all_errors = invocationResults\r\n            .filter(function (invokeMessage) { return invokeMessage.status === InvokeStatus.Error; })\r\n            .reduce(function (allErrors, currError) {\r\n            allErrors = __spreadArrays(allErrors, [\r\n                {\r\n                    executed_by: currError.instance,\r\n                    called_with: calledWith,\r\n                    name: method.name,\r\n                    message: currError.message,\r\n                }\r\n            ]);\r\n            return allErrors;\r\n        }, []);\r\n        var invResult = invocationResults[0];\r\n        var result = {\r\n            method: method,\r\n            called_with: calledWith,\r\n            returned: invResult.result,\r\n            executed_by: invResult.instance,\r\n            all_return_values: all_return_values,\r\n            all_errors: all_errors,\r\n            message: invResult.message,\r\n            status: invResult.status\r\n        };\r\n        return result;\r\n    };\r\n    Client.prototype.tryToAwaitForMethods = function (methodDefinition, target, additionalOptions) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            if (additionalOptions.waitTimeoutMs === 0) {\r\n                reject();\r\n                return;\r\n            }\r\n            var delayStep = 500;\r\n            var delayTillNow = 0;\r\n            var retry = function () {\r\n                delayTillNow += delayStep;\r\n                var serversMethodMap = _this.getServerMethodsByFilterAndTarget(methodDefinition, target);\r\n                if (serversMethodMap.length > 0) {\r\n                    clearInterval(interval);\r\n                    resolve(serversMethodMap);\r\n                }\r\n                else if (delayTillNow >= (additionalOptions.waitTimeoutMs || 10000)) {\r\n                    clearInterval(interval);\r\n                    reject();\r\n                    return;\r\n                }\r\n            };\r\n            var interval = setInterval(retry, delayStep);\r\n        });\r\n    };\r\n    Client.prototype.filterByTarget = function (target, serverMethodMap) {\r\n        var _this = this;\r\n        if (typeof target === \"string\") {\r\n            if (target === \"all\") {\r\n                return __spreadArrays(serverMethodMap);\r\n            }\r\n            else if (target === \"best\") {\r\n                var localMachine = serverMethodMap\r\n                    .find(function (s) { return s.server.instance.isLocal; });\r\n                if (localMachine) {\r\n                    return [localMachine];\r\n                }\r\n                if (serverMethodMap[0] !== undefined) {\r\n                    return [serverMethodMap[0]];\r\n                }\r\n            }\r\n            else if (target === \"skipMine\") {\r\n                return serverMethodMap.filter(function (_a) {\r\n                    var server = _a.server;\r\n                    return server.instance.peerId !== _this.instance.peerId;\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            var targetArray = void 0;\r\n            if (!Array.isArray(target)) {\r\n                targetArray = [target];\r\n            }\r\n            else {\r\n                targetArray = target;\r\n            }\r\n            var allServersMatching = targetArray.reduce(function (matches, filter) {\r\n                var myMatches = serverMethodMap.filter(function (serverMethodPair) {\r\n                    return _this.instanceMatch(filter, serverMethodPair.server.instance);\r\n                });\r\n                return matches.concat(myMatches);\r\n            }, []);\r\n            return allServersMatching;\r\n        }\r\n        return [];\r\n    };\r\n    Client.prototype.instanceMatch = function (instanceFilter, instanceDefinition) {\r\n        return this.containsProps(instanceFilter, instanceDefinition);\r\n    };\r\n    Client.prototype.methodMatch = function (methodFilter, methodDefinition) {\r\n        return this.containsProps(methodFilter, methodDefinition);\r\n    };\r\n    Client.prototype.containsProps = function (filter, repoMethod) {\r\n        var filterProps = Object.keys(filter)\r\n            .filter(function (prop) {\r\n            return filter[prop] !== undefined\r\n                && typeof filter[prop] !== \"function\"\r\n                && prop !== \"object_types\"\r\n                && prop !== \"display_name\"\r\n                && prop !== \"id\"\r\n                && prop !== \"gatewayId\"\r\n                && prop !== \"identifier\"\r\n                && prop[0] !== \"_\";\r\n        });\r\n        return filterProps.reduce(function (isMatch, prop) {\r\n            var filterValue = filter[prop];\r\n            var repoMethodValue = repoMethod[prop];\r\n            if (prop === \"objectTypes\") {\r\n                var containsAllFromFilter = function (filterObjTypes, repoObjectTypes) {\r\n                    var objTypeToContains = filterObjTypes.reduce(function (object, objType) {\r\n                        object[objType] = false;\r\n                        return object;\r\n                    }, {});\r\n                    repoObjectTypes.forEach(function (repoObjType) {\r\n                        if (objTypeToContains[repoObjType] !== undefined) {\r\n                            objTypeToContains[repoObjType] = true;\r\n                        }\r\n                    });\r\n                    var filterIsFullfilled = function () { return Object.keys(objTypeToContains).reduce(function (isFullfiled, objType) {\r\n                        if (!objTypeToContains[objType]) {\r\n                            isFullfiled = false;\r\n                        }\r\n                        return isFullfiled;\r\n                    }, true); };\r\n                    return filterIsFullfilled();\r\n                };\r\n                if (filterValue.length > repoMethodValue.length\r\n                    || containsAllFromFilter(filterValue, repoMethodValue) === false) {\r\n                    isMatch = false;\r\n                }\r\n            }\r\n            else if (String(filterValue).toLowerCase() !== String(repoMethodValue).toLowerCase()) {\r\n                isMatch = false;\r\n            }\r\n            return isMatch;\r\n        }, true);\r\n    };\r\n    Client.prototype.getMethods = function (methodFilter) {\r\n        var _this = this;\r\n        if (methodFilter === undefined) {\r\n            return this.repo.getMethods();\r\n        }\r\n        var methods = this.repo.getMethods().filter(function (method) {\r\n            return _this.methodMatch(methodFilter, method);\r\n        });\r\n        return methods;\r\n    };\r\n    Client.prototype.getMethodsForInstance = function (instanceFilter) {\r\n        var _this = this;\r\n        var allServers = this.repo.getServers();\r\n        var matchingServers = allServers.filter(function (server) {\r\n            return _this.instanceMatch(instanceFilter, server.instance);\r\n        });\r\n        if (matchingServers.length === 0) {\r\n            return [];\r\n        }\r\n        var resultMethodsObject = {};\r\n        if (matchingServers.length === 1) {\r\n            resultMethodsObject = matchingServers[0].methods;\r\n        }\r\n        else {\r\n            matchingServers.forEach(function (server) {\r\n                Object.keys(server.methods).forEach(function (methodKey) {\r\n                    var method = server.methods[methodKey];\r\n                    resultMethodsObject[method.identifier] = method;\r\n                });\r\n            });\r\n        }\r\n        return Object.keys(resultMethodsObject)\r\n            .map(function (key) {\r\n            return resultMethodsObject[key];\r\n        });\r\n    };\r\n    Client.prototype.getServers = function (methodFilter) {\r\n        var _this = this;\r\n        var servers = this.repo.getServers();\r\n        if (methodFilter === undefined) {\r\n            return servers.map(function (server) {\r\n                return { server: server, methods: [] };\r\n            });\r\n        }\r\n        return servers.reduce(function (prev, current) {\r\n            var methodsForServer = _this.repo.getServerMethodsById(current.id);\r\n            var matchingMethods = methodsForServer.filter(function (method) {\r\n                return _this.methodMatch(methodFilter, method);\r\n            });\r\n            if (matchingMethods.length > 0) {\r\n                prev.push({ server: current, methods: matchingMethods });\r\n            }\r\n            return prev;\r\n        }, []);\r\n    };\r\n    Client.prototype.getServerMethodsByFilterAndTarget = function (methodFilter, target) {\r\n        var serversMethodMap = this.getServers(methodFilter);\r\n        return this.filterByTarget(target, serversMethodMap);\r\n    };\r\n    return Client;\r\n}());\n\nvar ServerSubscription = (function () {\r\n    function ServerSubscription(protocol, repoMethod, subscription) {\r\n        this.protocol = protocol;\r\n        this.repoMethod = repoMethod;\r\n        this.subscription = subscription;\r\n    }\r\n    Object.defineProperty(ServerSubscription.prototype, \"stream\", {\r\n        get: function () {\r\n            if (!this.repoMethod.stream) {\r\n                throw new Error(\"no stream\");\r\n            }\r\n            return this.repoMethod.stream;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ServerSubscription.prototype, \"arguments\", {\r\n        get: function () { return this.subscription.arguments || {}; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ServerSubscription.prototype, \"branchKey\", {\r\n        get: function () { return this.subscription.branchKey; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ServerSubscription.prototype, \"instance\", {\r\n        get: function () {\r\n            if (!this.subscription.instance) {\r\n                throw new Error(\"no instance\");\r\n            }\r\n            return this.subscription.instance;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ServerSubscription.prototype.close = function () {\r\n        this.protocol.server.closeSingleSubscription(this.repoMethod, this.subscription);\r\n    };\r\n    ServerSubscription.prototype.push = function (data) {\r\n        this.protocol.server.pushDataToSingle(this.repoMethod, this.subscription, data);\r\n    };\r\n    return ServerSubscription;\r\n}());\n\nvar Request = (function () {\r\n    function Request(protocol, repoMethod, requestContext) {\r\n        this.protocol = protocol;\r\n        this.repoMethod = repoMethod;\r\n        this.requestContext = requestContext;\r\n        this.arguments = requestContext.arguments;\r\n        this.instance = requestContext.instance;\r\n    }\r\n    Request.prototype.accept = function () {\r\n        this.protocol.server.acceptRequestOnBranch(this.requestContext, this.repoMethod, \"\");\r\n    };\r\n    Request.prototype.acceptOnBranch = function (branch) {\r\n        this.protocol.server.acceptRequestOnBranch(this.requestContext, this.repoMethod, branch);\r\n    };\r\n    Request.prototype.reject = function (reason) {\r\n        this.protocol.server.rejectRequest(this.requestContext, this.repoMethod, reason);\r\n    };\r\n    return Request;\r\n}());\n\nvar ServerStreaming = (function () {\r\n    function ServerStreaming(protocol, server) {\r\n        var _this = this;\r\n        this.protocol = protocol;\r\n        this.server = server;\r\n        protocol.server.onSubRequest(function (rc, rm) { return _this.handleSubRequest(rc, rm); });\r\n        protocol.server.onSubAdded(function (sub, rm) { return _this.handleSubAdded(sub, rm); });\r\n        protocol.server.onSubRemoved(function (sub, rm) { return _this.handleSubRemoved(sub, rm); });\r\n    }\r\n    ServerStreaming.prototype.handleSubRequest = function (requestContext, repoMethod) {\r\n        if (!(repoMethod &&\r\n            repoMethod.streamCallbacks &&\r\n            typeof repoMethod.streamCallbacks.subscriptionRequestHandler === \"function\")) {\r\n            return;\r\n        }\r\n        var request = new Request(this.protocol, repoMethod, requestContext);\r\n        repoMethod.streamCallbacks.subscriptionRequestHandler(request);\r\n    };\r\n    ServerStreaming.prototype.handleSubAdded = function (subscription, repoMethod) {\r\n        if (!(repoMethod &&\r\n            repoMethod.streamCallbacks &&\r\n            typeof repoMethod.streamCallbacks.subscriptionAddedHandler === \"function\")) {\r\n            return;\r\n        }\r\n        var sub = new ServerSubscription(this.protocol, repoMethod, subscription);\r\n        repoMethod.streamCallbacks.subscriptionAddedHandler(sub);\r\n    };\r\n    ServerStreaming.prototype.handleSubRemoved = function (subscription, repoMethod) {\r\n        if (!(repoMethod &&\r\n            repoMethod.streamCallbacks &&\r\n            typeof repoMethod.streamCallbacks.subscriptionRemovedHandler === \"function\")) {\r\n            return;\r\n        }\r\n        var sub = new ServerSubscription(this.protocol, repoMethod, subscription);\r\n        repoMethod.streamCallbacks.subscriptionRemovedHandler(sub);\r\n    };\r\n    return ServerStreaming;\r\n}());\n\nvar ServerBranch = (function () {\r\n    function ServerBranch(key, protocol, repoMethod) {\r\n        this.key = key;\r\n        this.protocol = protocol;\r\n        this.repoMethod = repoMethod;\r\n    }\r\n    ServerBranch.prototype.subscriptions = function () {\r\n        var _this = this;\r\n        var subList = this.protocol.server.getSubscriptionList(this.repoMethod, this.key);\r\n        return subList.map(function (sub) {\r\n            return new ServerSubscription(_this.protocol, _this.repoMethod, sub);\r\n        });\r\n    };\r\n    ServerBranch.prototype.close = function () {\r\n        this.protocol.server.closeAllSubscriptions(this.repoMethod, this.key);\r\n    };\r\n    ServerBranch.prototype.push = function (data) {\r\n        this.protocol.server.pushData(this.repoMethod, data, [this.key]);\r\n    };\r\n    return ServerBranch;\r\n}());\n\nvar ServerStream = (function () {\r\n    function ServerStream(_protocol, _repoMethod, _server) {\r\n        this._protocol = _protocol;\r\n        this._repoMethod = _repoMethod;\r\n        this._server = _server;\r\n        this.name = this._repoMethod.definition.name;\r\n    }\r\n    ServerStream.prototype.branches = function (key) {\r\n        var _this = this;\r\n        var bList = this._protocol.server.getBranchList(this._repoMethod);\r\n        if (key) {\r\n            if (bList.indexOf(key) > -1) {\r\n                return new ServerBranch(key, this._protocol, this._repoMethod);\r\n            }\r\n            return undefined;\r\n        }\r\n        else {\r\n            return bList.map(function (branchKey) {\r\n                return new ServerBranch(branchKey, _this._protocol, _this._repoMethod);\r\n            });\r\n        }\r\n    };\r\n    ServerStream.prototype.branch = function (key) {\r\n        return this.branches(key);\r\n    };\r\n    ServerStream.prototype.subscriptions = function () {\r\n        var _this = this;\r\n        var subList = this._protocol.server.getSubscriptionList(this._repoMethod);\r\n        return subList.map(function (sub) {\r\n            return new ServerSubscription(_this._protocol, _this._repoMethod, sub);\r\n        });\r\n    };\r\n    Object.defineProperty(ServerStream.prototype, \"definition\", {\r\n        get: function () {\r\n            var def2 = this._repoMethod.definition;\r\n            return {\r\n                accepts: def2.accepts,\r\n                description: def2.description,\r\n                displayName: def2.displayName,\r\n                name: def2.name,\r\n                objectTypes: def2.objectTypes,\r\n                returns: def2.returns,\r\n                supportsStreaming: def2.supportsStreaming,\r\n            };\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ServerStream.prototype.close = function () {\r\n        this._protocol.server.closeAllSubscriptions(this._repoMethod);\r\n        this._server.unregister(this._repoMethod.definition, true);\r\n    };\r\n    ServerStream.prototype.push = function (data, branches) {\r\n        if (typeof branches !== \"string\" && !Array.isArray(branches) && branches !== undefined) {\r\n            throw new Error(\"invalid branches should be string or string array\");\r\n        }\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Invalid arguments. Data must be an object.\");\r\n        }\r\n        this._protocol.server.pushData(this._repoMethod, data, branches);\r\n    };\r\n    ServerStream.prototype.updateRepoMethod = function (repoMethod) {\r\n        this._repoMethod = repoMethod;\r\n    };\r\n    return ServerStream;\r\n}());\n\nvar Server = (function () {\r\n    function Server(protocol, serverRepository) {\r\n        this.protocol = protocol;\r\n        this.serverRepository = serverRepository;\r\n        this.invocations = 0;\r\n        this.currentlyUnregistering = {};\r\n        this.streaming = new ServerStreaming(protocol, this);\r\n        this.protocol.server.onInvoked(this.onMethodInvoked.bind(this));\r\n    }\r\n    Server.prototype.createStream = function (streamDef, callbacks, successCallback, errorCallback, existingStream) {\r\n        var _this = this;\r\n        var promise = new Promise(function (resolve, reject) {\r\n            if (!streamDef) {\r\n                reject(\"The stream name must be unique! Please, provide either a unique string for a stream name to \\u201Cglue.interop.createStream()\\u201D or a \\u201CmethodDefinition\\u201D object with a unique \\u201Cname\\u201D property for the stream.\");\r\n                return;\r\n            }\r\n            var streamMethodDefinition;\r\n            if (typeof streamDef === \"string\") {\r\n                streamMethodDefinition = { name: \"\" + streamDef };\r\n            }\r\n            else {\r\n                streamMethodDefinition = __assign({}, streamDef);\r\n            }\r\n            if (!streamMethodDefinition.name) {\r\n                return reject(\"The \\u201Cname\\u201D property is required for the \\u201CstreamDefinition\\u201D object and must be unique. Stream definition: \" + JSON.stringify(streamMethodDefinition));\r\n            }\r\n            var nameAlreadyExists = _this.serverRepository.getList()\r\n                .some(function (serverMethod) { return serverMethod.definition.name === streamMethodDefinition.name; });\r\n            if (nameAlreadyExists) {\r\n                return reject(\"A stream with the name \\\"\" + streamMethodDefinition.name + \"\\\" already exists! Please, provide a unique name for the stream.\");\r\n            }\r\n            streamMethodDefinition.supportsStreaming = true;\r\n            if (!callbacks) {\r\n                callbacks = {};\r\n            }\r\n            if (typeof callbacks.subscriptionRequestHandler !== \"function\") {\r\n                callbacks.subscriptionRequestHandler = function (request) {\r\n                    request.accept();\r\n                };\r\n            }\r\n            var repoMethod = _this.serverRepository.add({\r\n                definition: streamMethodDefinition,\r\n                streamCallbacks: callbacks,\r\n                protocolState: {},\r\n            });\r\n            _this.protocol.server.createStream(repoMethod)\r\n                .then(function () {\r\n                var streamUserObject;\r\n                if (existingStream) {\r\n                    streamUserObject = existingStream;\r\n                    existingStream.updateRepoMethod(repoMethod);\r\n                }\r\n                else {\r\n                    streamUserObject = new ServerStream(_this.protocol, repoMethod, _this);\r\n                }\r\n                repoMethod.stream = streamUserObject;\r\n                resolve(streamUserObject);\r\n            })\r\n                .catch(function (err) {\r\n                if (repoMethod.repoId) {\r\n                    _this.serverRepository.remove(repoMethod.repoId);\r\n                }\r\n                reject(err);\r\n            });\r\n        });\r\n        return promisify(promise, successCallback, errorCallback);\r\n    };\r\n    Server.prototype.register = function (methodDefinition, callback) {\r\n        var _this = this;\r\n        if (!methodDefinition) {\r\n            return Promise.reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n        }\r\n        if (typeof callback !== \"function\") {\r\n            return Promise.reject(\"The second parameter must be a callback function. Method: \" + (typeof methodDefinition === \"string\" ? methodDefinition : methodDefinition.name));\r\n        }\r\n        var wrappedCallbackFunction = function (context, resultCallback) { return __awaiter(_this, void 0, void 0, function () {\r\n            var result, resultValue, e_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 4, , 5]);\r\n                        result = callback(context.args, context.instance);\r\n                        if (!(result && typeof result.then === \"function\")) return [3, 2];\r\n                        return [4, result];\r\n                    case 1:\r\n                        resultValue = _a.sent();\r\n                        resultCallback(undefined, resultValue);\r\n                        return [3, 3];\r\n                    case 2:\r\n                        resultCallback(undefined, result);\r\n                        _a.label = 3;\r\n                    case 3: return [3, 5];\r\n                    case 4:\r\n                        e_1 = _a.sent();\r\n                        if (!e_1) {\r\n                            e_1 = \"\";\r\n                        }\r\n                        resultCallback(e_1, e_1);\r\n                        return [3, 5];\r\n                    case 5: return [2];\r\n                }\r\n            });\r\n        }); };\r\n        wrappedCallbackFunction.userCallback = callback;\r\n        return this.registerCore(methodDefinition, wrappedCallbackFunction);\r\n    };\r\n    Server.prototype.registerAsync = function (methodDefinition, callback) {\r\n        if (!methodDefinition) {\r\n            return Promise.reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n        }\r\n        if (typeof callback !== \"function\") {\r\n            return Promise.reject(\"The second parameter must be a callback function. Method: \" + (typeof methodDefinition === \"string\" ? methodDefinition : methodDefinition.name));\r\n        }\r\n        var wrappedCallback = function (context, resultCallback) {\r\n            try {\r\n                var resultCalled_1 = false;\r\n                var success = function (result) {\r\n                    if (!resultCalled_1) {\r\n                        resultCallback(undefined, result);\r\n                    }\r\n                    resultCalled_1 = true;\r\n                };\r\n                var error = function (e) {\r\n                    if (!resultCalled_1) {\r\n                        if (!e) {\r\n                            e = \"\";\r\n                        }\r\n                        resultCallback(e, e);\r\n                    }\r\n                    resultCalled_1 = true;\r\n                };\r\n                var methodResult = callback(context.args, context.instance, success, error);\r\n                if (methodResult && typeof methodResult.then === \"function\") {\r\n                    methodResult\r\n                        .then(success)\r\n                        .catch(error);\r\n                }\r\n            }\r\n            catch (e) {\r\n                resultCallback(e, undefined);\r\n            }\r\n        };\r\n        wrappedCallback.userCallbackAsync = callback;\r\n        return this.registerCore(methodDefinition, wrappedCallback);\r\n    };\r\n    Server.prototype.unregister = function (methodFilter, forStream) {\r\n        if (forStream === void 0) { forStream = false; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var methodDefinition, methodToBeRemoved;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (methodFilter === undefined) {\r\n                            return [2, Promise.reject(\"Please, provide either a unique string for a name or an object containing a \\u201Cname\\u201D property.\")];\r\n                        }\r\n                        if (!(typeof methodFilter === \"function\")) return [3, 2];\r\n                        return [4, this.unregisterWithPredicate(methodFilter, forStream)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2];\r\n                    case 2:\r\n                        if (typeof methodFilter === \"string\") {\r\n                            methodDefinition = { name: methodFilter };\r\n                        }\r\n                        else {\r\n                            methodDefinition = methodFilter;\r\n                        }\r\n                        if (methodDefinition.name === undefined) {\r\n                            return [2, Promise.reject(\"Method name is required. Cannot find a method if the method name is undefined!\")];\r\n                        }\r\n                        methodToBeRemoved = this.serverRepository.getList().find(function (serverMethod) {\r\n                            return serverMethod.definition.name === methodDefinition.name\r\n                                && (serverMethod.definition.supportsStreaming || false) === forStream;\r\n                        });\r\n                        if (!methodToBeRemoved) {\r\n                            return [2, Promise.reject(\"Method with a name \\\"\" + methodDefinition.name + \"\\\" does not exist or is not registered by your application!\")];\r\n                        }\r\n                        return [4, this.removeMethodsOrStreams([methodToBeRemoved])];\r\n                    case 3:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Server.prototype.unregisterWithPredicate = function (filterPredicate, forStream) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var methodsOrStreamsToRemove;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        methodsOrStreamsToRemove = this.serverRepository.getList()\r\n                            .filter(function (sm) { return filterPredicate(sm.definition); })\r\n                            .filter(function (serverMethod) {\r\n                            return (serverMethod.definition.supportsStreaming || false) === forStream;\r\n                        });\r\n                        if (!methodsOrStreamsToRemove || methodsOrStreamsToRemove.length === 0) {\r\n                            return [2, Promise.reject(\"Could not find a \" + (forStream ? \"stream\" : \"method\") + \" matching the specified condition!\")];\r\n                        }\r\n                        return [4, this.removeMethodsOrStreams(methodsOrStreamsToRemove)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Server.prototype.removeMethodsOrStreams = function (methodsToRemove) {\r\n        var _this = this;\r\n        var methodUnregPromises = [];\r\n        methodsToRemove.forEach(function (method) {\r\n            var promise = _this.protocol.server.unregister(method)\r\n                .then(function () {\r\n                if (method.repoId) {\r\n                    _this.serverRepository.remove(method.repoId);\r\n                }\r\n            });\r\n            methodUnregPromises.push(promise);\r\n            _this.addAsCurrentlyUnregistering(method.definition.name, promise);\r\n        });\r\n        return Promise.all(methodUnregPromises);\r\n    };\r\n    Server.prototype.addAsCurrentlyUnregistering = function (methodName, promise) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var timeout;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                timeout = new Promise(function (resolve) { return setTimeout(resolve, 5000); });\r\n                this.currentlyUnregistering[methodName] = Promise.race([promise, timeout]).then(function () {\r\n                    delete _this.currentlyUnregistering[methodName];\r\n                });\r\n                return [2];\r\n            });\r\n        });\r\n    };\r\n    Server.prototype.registerCore = function (method, theFunction) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var methodDefinition, unregisterInProgress, nameAlreadyExists, repoMethod;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (typeof method === \"string\") {\r\n                            methodDefinition = { name: \"\" + method };\r\n                        }\r\n                        else {\r\n                            methodDefinition = __assign({}, method);\r\n                        }\r\n                        if (!methodDefinition.name) {\r\n                            return [2, Promise.reject(\"Please, provide a (unique) string value for the \\u201Cname\\u201D property in the \\u201CmethodDefinition\\u201D object: \" + JSON.stringify(method))];\r\n                        }\r\n                        unregisterInProgress = this.currentlyUnregistering[methodDefinition.name];\r\n                        if (!unregisterInProgress) return [3, 2];\r\n                        return [4, unregisterInProgress];\r\n                    case 1:\r\n                        _a.sent();\r\n                        _a.label = 2;\r\n                    case 2:\r\n                        nameAlreadyExists = this.serverRepository.getList()\r\n                            .some(function (serverMethod) { return serverMethod.definition.name === methodDefinition.name; });\r\n                        if (nameAlreadyExists) {\r\n                            return [2, Promise.reject(\"A method with the name \\\"\" + methodDefinition.name + \"\\\" already exists! Please, provide a unique name for the method.\")];\r\n                        }\r\n                        if (methodDefinition.supportsStreaming) {\r\n                            return [2, Promise.reject(\"When you create methods with \\u201Cglue.interop.register()\\u201D or \\u201Cglue.interop.registerAsync()\\u201D the property \\u201CsupportsStreaming\\u201D cannot be \\u201Ctrue\\u201D. If you want \\u201C\" + methodDefinition.name + \"\\u201D to be a stream, please use the \\u201Cglue.interop.createStream()\\u201D method.\")];\r\n                        }\r\n                        repoMethod = this.serverRepository.add({\r\n                            definition: methodDefinition,\r\n                            theFunction: theFunction,\r\n                            protocolState: {},\r\n                        });\r\n                        return [2, this.protocol.server.register(repoMethod)\r\n                                .catch(function (err) {\r\n                                if (repoMethod === null || repoMethod === void 0 ? void 0 : repoMethod.repoId) {\r\n                                    _this.serverRepository.remove(repoMethod.repoId);\r\n                                }\r\n                                throw err;\r\n                            })];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Server.prototype.onMethodInvoked = function (methodToExecute, invocationId, invocationArgs) {\r\n        var _this = this;\r\n        if (!methodToExecute || !methodToExecute.theFunction) {\r\n            return;\r\n        }\r\n        methodToExecute.theFunction(invocationArgs, function (err, result) {\r\n            if (err !== undefined && err !== null) {\r\n                if (err.message && typeof err.message === \"string\") {\r\n                    err = err.message;\r\n                }\r\n                else if (typeof err !== \"string\") {\r\n                    try {\r\n                        err = JSON.stringify(err);\r\n                    }\r\n                    catch (unStrException) {\r\n                        err = \"un-stringifyable error in onMethodInvoked! Top level prop names: \" + Object.keys(err);\r\n                    }\r\n                }\r\n            }\r\n            if (!result) {\r\n                result = {};\r\n            }\r\n            else if (typeof result !== \"object\" || Array.isArray(result)) {\r\n                result = { _value: result };\r\n            }\r\n            _this.protocol.server.methodInvocationResult(methodToExecute, invocationId, err, result);\r\n        });\r\n    };\r\n    return Server;\r\n}());\n\nvar InstanceWrapper = (function () {\r\n    function InstanceWrapper(instance, connection) {\r\n        var _this = this;\r\n        this.wrapped = {\r\n            getMethods: getMethods,\r\n            getStreams: getStreams,\r\n        };\r\n        if (instance) {\r\n            this.refreshWrappedObject(instance);\r\n        }\r\n        if (connection) {\r\n            connection.loggedIn(function () {\r\n                _this.refresh(connection);\r\n            });\r\n            this.refresh(connection);\r\n        }\r\n    }\r\n    InstanceWrapper.prototype.unwrap = function () {\r\n        return this.wrapped;\r\n    };\r\n    InstanceWrapper.prototype.refresh = function (connection) {\r\n        if (!connection) {\r\n            return;\r\n        }\r\n        var resolvedIdentity = connection === null || connection === void 0 ? void 0 : connection.resolvedIdentity;\r\n        var instance = Object.assign({}, resolvedIdentity !== null && resolvedIdentity !== void 0 ? resolvedIdentity : {}, { peerId: connection === null || connection === void 0 ? void 0 : connection.peerId });\r\n        this.refreshWrappedObject(instance);\r\n    };\r\n    InstanceWrapper.prototype.refreshWrappedObject = function (resolvedIdentity) {\r\n        var _a, _b, _c;\r\n        this.wrapped.user = resolvedIdentity.user;\r\n        this.wrapped.instance = resolvedIdentity.instance;\r\n        this.wrapped.application = (_a = resolvedIdentity.application) !== null && _a !== void 0 ? _a : shortid();\r\n        this.wrapped.applicationName = resolvedIdentity.applicationName;\r\n        this.wrapped.pid = (_c = (_b = resolvedIdentity.pid) !== null && _b !== void 0 ? _b : resolvedIdentity.process) !== null && _c !== void 0 ? _c : Math.floor(Math.random() * 10000000000);\r\n        this.wrapped.machine = resolvedIdentity.machine;\r\n        this.wrapped.environment = resolvedIdentity.environment;\r\n        this.wrapped.region = resolvedIdentity.region;\r\n        this.wrapped.windowId = resolvedIdentity.windowId;\r\n        this.wrapped.isLocal = true;\r\n        this.wrapped.api = resolvedIdentity.api;\r\n        this.wrapped.service = resolvedIdentity.service;\r\n        this.wrapped.peerId = resolvedIdentity.peerId;\r\n    };\r\n    return InstanceWrapper;\r\n}());\r\nfunction getMethods() {\r\n    var _a;\r\n    return (_a = InstanceWrapper.API) === null || _a === void 0 ? void 0 : _a.methodsForInstance(this);\r\n}\r\nfunction getStreams() {\r\n    var _a;\r\n    return (_a = InstanceWrapper.API) === null || _a === void 0 ? void 0 : _a.methodsForInstance(this).filter(function (m) { return m.supportsStreaming; });\r\n}\n\nvar ClientRepository = (function () {\r\n    function ClientRepository(logger) {\r\n        this.logger = logger;\r\n        this.servers = {};\r\n        this.methodsCount = {};\r\n        this.callbacks = lib();\r\n    }\r\n    ClientRepository.prototype.addServer = function (info, serverId) {\r\n        this.logger.debug(\"adding server \" + serverId);\r\n        var current = this.servers[serverId];\r\n        if (current) {\r\n            return current.id;\r\n        }\r\n        var wrapper = new InstanceWrapper(info);\r\n        var serverEntry = {\r\n            id: serverId,\r\n            methods: {},\r\n            instance: wrapper.unwrap(),\r\n            wrapper: wrapper,\r\n        };\r\n        this.servers[serverId] = serverEntry;\r\n        this.callbacks.execute(\"onServerAdded\", serverEntry.instance);\r\n        return serverId;\r\n    };\r\n    ClientRepository.prototype.removeServerById = function (id, reason) {\r\n        var _this = this;\r\n        var server = this.servers[id];\r\n        if (!server) {\r\n            this.logger.warn(\"not aware of server \" + id + \", my state \" + JSON.stringify(Object.keys(this.servers)));\r\n            return;\r\n        }\r\n        else {\r\n            this.logger.debug(\"removing server \" + id);\r\n        }\r\n        Object.keys(server.methods).forEach(function (methodId) {\r\n            _this.removeServerMethod(id, methodId);\r\n        });\r\n        delete this.servers[id];\r\n        this.callbacks.execute(\"onServerRemoved\", server.instance, reason);\r\n    };\r\n    ClientRepository.prototype.addServerMethod = function (serverId, method) {\r\n        var server = this.servers[serverId];\r\n        if (!server) {\r\n            throw new Error(\"server does not exists\");\r\n        }\r\n        if (server.methods[method.id]) {\r\n            return;\r\n        }\r\n        var identifier = this.createMethodIdentifier(method);\r\n        var that = this;\r\n        var methodDefinition = {\r\n            identifier: identifier,\r\n            gatewayId: method.id,\r\n            name: method.name,\r\n            displayName: method.display_name,\r\n            description: method.description,\r\n            version: method.version,\r\n            objectTypes: method.object_types || [],\r\n            accepts: method.input_signature,\r\n            returns: method.result_signature,\r\n            supportsStreaming: typeof method.flags !== \"undefined\" ? method.flags.streaming : false,\r\n            getServers: function () {\r\n                return that.getServersByMethod(identifier);\r\n            }\r\n        };\r\n        methodDefinition.object_types = methodDefinition.objectTypes;\r\n        methodDefinition.display_name = methodDefinition.displayName;\r\n        methodDefinition.version = methodDefinition.version;\r\n        server.methods[method.id] = methodDefinition;\r\n        if (!this.methodsCount[identifier]) {\r\n            this.methodsCount[identifier] = 0;\r\n            this.callbacks.execute(\"onMethodAdded\", methodDefinition);\r\n        }\r\n        this.methodsCount[identifier] = this.methodsCount[identifier] + 1;\r\n        this.callbacks.execute(\"onServerMethodAdded\", server.instance, methodDefinition);\r\n        return methodDefinition;\r\n    };\r\n    ClientRepository.prototype.removeServerMethod = function (serverId, methodId) {\r\n        var server = this.servers[serverId];\r\n        if (!server) {\r\n            throw new Error(\"server does not exists\");\r\n        }\r\n        var method = server.methods[methodId];\r\n        delete server.methods[methodId];\r\n        this.methodsCount[method.identifier] = this.methodsCount[method.identifier] - 1;\r\n        if (this.methodsCount[method.identifier] === 0) {\r\n            this.callbacks.execute(\"onMethodRemoved\", method);\r\n        }\r\n        this.callbacks.execute(\"onServerMethodRemoved\", server.instance, method);\r\n    };\r\n    ClientRepository.prototype.getMethods = function () {\r\n        var _this = this;\r\n        var allMethods = {};\r\n        Object.keys(this.servers).forEach(function (serverId) {\r\n            var server = _this.servers[serverId];\r\n            Object.keys(server.methods).forEach(function (methodId) {\r\n                var method = server.methods[methodId];\r\n                allMethods[method.identifier] = method;\r\n            });\r\n        });\r\n        var methodsAsArray = Object.keys(allMethods).map(function (id) {\r\n            return allMethods[id];\r\n        });\r\n        return methodsAsArray;\r\n    };\r\n    ClientRepository.prototype.getServers = function () {\r\n        var _this = this;\r\n        var allServers = [];\r\n        Object.keys(this.servers).forEach(function (serverId) {\r\n            var server = _this.servers[serverId];\r\n            allServers.push(server);\r\n        });\r\n        return allServers;\r\n    };\r\n    ClientRepository.prototype.getServerMethodsById = function (serverId) {\r\n        var server = this.servers[serverId];\r\n        return Object.keys(server.methods).map(function (id) {\r\n            return server.methods[id];\r\n        });\r\n    };\r\n    ClientRepository.prototype.onServerAdded = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onServerAdded\", callback);\r\n        var serversWithMethodsToReplay = this.getServers().map(function (s) { return s.instance; });\r\n        return this.returnUnsubWithDelayedReplay(unsubscribeFunc, serversWithMethodsToReplay, callback);\r\n    };\r\n    ClientRepository.prototype.onMethodAdded = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onMethodAdded\", callback);\r\n        var methodsToReplay = this.getMethods();\r\n        return this.returnUnsubWithDelayedReplay(unsubscribeFunc, methodsToReplay, callback);\r\n    };\r\n    ClientRepository.prototype.onServerMethodAdded = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onServerMethodAdded\", callback);\r\n        var unsubCalled = false;\r\n        var servers = this.getServers();\r\n        setTimeout(function () {\r\n            servers.forEach(function (server) {\r\n                var methods = server.methods;\r\n                Object.keys(methods).forEach(function (methodId) {\r\n                    if (!unsubCalled) {\r\n                        callback(server.instance, methods[methodId]);\r\n                    }\r\n                });\r\n            });\r\n        }, 0);\r\n        return function () {\r\n            unsubCalled = true;\r\n            unsubscribeFunc();\r\n        };\r\n    };\r\n    ClientRepository.prototype.onMethodRemoved = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onMethodRemoved\", callback);\r\n        return unsubscribeFunc;\r\n    };\r\n    ClientRepository.prototype.onServerRemoved = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onServerRemoved\", callback);\r\n        return unsubscribeFunc;\r\n    };\r\n    ClientRepository.prototype.onServerMethodRemoved = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onServerMethodRemoved\", callback);\r\n        return unsubscribeFunc;\r\n    };\r\n    ClientRepository.prototype.getServerById = function (id) {\r\n        return this.servers[id];\r\n    };\r\n    ClientRepository.prototype.reset = function () {\r\n        var _this = this;\r\n        Object.keys(this.servers).forEach(function (key) {\r\n            _this.removeServerById(key, \"reset\");\r\n        });\r\n        this.servers = {};\r\n        this.methodsCount = {};\r\n    };\r\n    ClientRepository.prototype.createMethodIdentifier = function (methodInfo) {\r\n        var accepts = methodInfo.input_signature !== undefined ? methodInfo.input_signature : \"\";\r\n        var returns = methodInfo.result_signature !== undefined ? methodInfo.result_signature : \"\";\r\n        return (methodInfo.name + accepts + returns).toLowerCase();\r\n    };\r\n    ClientRepository.prototype.getServersByMethod = function (identifier) {\r\n        var _this = this;\r\n        var allServers = [];\r\n        Object.keys(this.servers).forEach(function (serverId) {\r\n            var server = _this.servers[serverId];\r\n            Object.keys(server.methods).forEach(function (methodId) {\r\n                var methodInfo = server.methods[methodId];\r\n                if (methodInfo.identifier === identifier) {\r\n                    allServers.push(server.instance);\r\n                }\r\n            });\r\n        });\r\n        return allServers;\r\n    };\r\n    ClientRepository.prototype.returnUnsubWithDelayedReplay = function (unsubscribeFunc, collectionToReplay, callback) {\r\n        var unsubCalled = false;\r\n        setTimeout(function () {\r\n            collectionToReplay.forEach(function (item) {\r\n                if (!unsubCalled) {\r\n                    callback(item);\r\n                }\r\n            });\r\n        }, 0);\r\n        return function () {\r\n            unsubCalled = true;\r\n            unsubscribeFunc();\r\n        };\r\n    };\r\n    return ClientRepository;\r\n}());\n\nvar ServerRepository = (function () {\r\n    function ServerRepository() {\r\n        this.nextId = 0;\r\n        this.methods = [];\r\n    }\r\n    ServerRepository.prototype.add = function (method) {\r\n        method.repoId = String(this.nextId);\r\n        this.nextId += 1;\r\n        this.methods.push(method);\r\n        return method;\r\n    };\r\n    ServerRepository.prototype.remove = function (repoId) {\r\n        if (typeof repoId !== \"string\") {\r\n            return new TypeError(\"Expecting a string\");\r\n        }\r\n        this.methods = this.methods.filter(function (m) {\r\n            return m.repoId !== repoId;\r\n        });\r\n    };\r\n    ServerRepository.prototype.getById = function (id) {\r\n        if (typeof id !== \"string\") {\r\n            return undefined;\r\n        }\r\n        return this.methods.find(function (m) {\r\n            return m.repoId === id;\r\n        });\r\n    };\r\n    ServerRepository.prototype.getList = function () {\r\n        return this.methods.map(function (m) { return m; });\r\n    };\r\n    ServerRepository.prototype.length = function () {\r\n        return this.methods.length;\r\n    };\r\n    ServerRepository.prototype.reset = function () {\r\n        this.methods = [];\r\n    };\r\n    return ServerRepository;\r\n}());\n\nvar SUBSCRIPTION_REQUEST = \"onSubscriptionRequest\";\r\nvar SUBSCRIPTION_ADDED = \"onSubscriptionAdded\";\r\nvar SUBSCRIPTION_REMOVED = \"onSubscriptionRemoved\";\r\nvar ServerStreaming$1 = (function () {\r\n    function ServerStreaming(session, repository, serverRepository) {\r\n        var _this = this;\r\n        this.session = session;\r\n        this.repository = repository;\r\n        this.serverRepository = serverRepository;\r\n        this.ERR_URI_SUBSCRIPTION_FAILED = \"com.tick42.agm.errors.subscription.failure\";\r\n        this.callbacks = lib();\r\n        this.nextStreamId = 0;\r\n        session.on(\"add-interest\", function (msg) {\r\n            _this.handleAddInterest(msg);\r\n        });\r\n        session.on(\"remove-interest\", function (msg) {\r\n            _this.handleRemoveInterest(msg);\r\n        });\r\n    }\r\n    ServerStreaming.prototype.acceptRequestOnBranch = function (requestContext, streamingMethod, branch) {\r\n        if (typeof branch !== \"string\") {\r\n            branch = \"\";\r\n        }\r\n        if (typeof streamingMethod.protocolState.subscriptionsMap !== \"object\") {\r\n            throw new TypeError(\"The streaming method is missing its subscriptions.\");\r\n        }\r\n        if (!Array.isArray(streamingMethod.protocolState.branchKeyToStreamIdMap)) {\r\n            throw new TypeError(\"The streaming method is missing its branches.\");\r\n        }\r\n        var streamId = this.getStreamId(streamingMethod, branch);\r\n        var key = requestContext.msg.subscription_id;\r\n        var subscription = {\r\n            id: key,\r\n            arguments: requestContext.arguments,\r\n            instance: requestContext.instance,\r\n            branchKey: branch,\r\n            streamId: streamId,\r\n            subscribeMsg: requestContext.msg,\r\n        };\r\n        streamingMethod.protocolState.subscriptionsMap[key] = subscription;\r\n        this.session.sendFireAndForget({\r\n            type: \"accepted\",\r\n            subscription_id: key,\r\n            stream_id: streamId,\r\n        });\r\n        this.callbacks.execute(SUBSCRIPTION_ADDED, subscription, streamingMethod);\r\n    };\r\n    ServerStreaming.prototype.rejectRequest = function (requestContext, streamingMethod, reason) {\r\n        if (typeof reason !== \"string\") {\r\n            reason = \"\";\r\n        }\r\n        this.sendSubscriptionFailed(\"Subscription rejected by user. \" + reason, requestContext.msg.subscription_id);\r\n    };\r\n    ServerStreaming.prototype.pushData = function (streamingMethod, data, branches) {\r\n        var _this = this;\r\n        if (typeof streamingMethod !== \"object\" || !Array.isArray(streamingMethod.protocolState.branchKeyToStreamIdMap)) {\r\n            return;\r\n        }\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Invalid arguments. Data must be an object.\");\r\n        }\r\n        if (typeof branches === \"string\") {\r\n            branches = [branches];\r\n        }\r\n        else if (!Array.isArray(branches) || branches.length <= 0) {\r\n            branches = [];\r\n        }\r\n        var streamIdList = streamingMethod.protocolState.branchKeyToStreamIdMap\r\n            .filter(function (br) {\r\n            if (!branches || branches.length === 0) {\r\n                return true;\r\n            }\r\n            return branches.indexOf(br.key) >= 0;\r\n        }).map(function (br) {\r\n            return br.streamId;\r\n        });\r\n        streamIdList.forEach(function (streamId) {\r\n            var publishMessage = {\r\n                type: \"publish\",\r\n                stream_id: streamId,\r\n                data: data,\r\n            };\r\n            _this.session.sendFireAndForget(publishMessage);\r\n        });\r\n    };\r\n    ServerStreaming.prototype.pushDataToSingle = function (method, subscription, data) {\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Invalid arguments. Data must be an object.\");\r\n        }\r\n        var postMessage = {\r\n            type: \"post\",\r\n            subscription_id: subscription.id,\r\n            data: data,\r\n        };\r\n        this.session.sendFireAndForget(postMessage);\r\n    };\r\n    ServerStreaming.prototype.closeSingleSubscription = function (streamingMethod, subscription) {\r\n        if (streamingMethod.protocolState.subscriptionsMap) {\r\n            delete streamingMethod.protocolState.subscriptionsMap[subscription.id];\r\n        }\r\n        var dropSubscriptionMessage = {\r\n            type: \"drop-subscription\",\r\n            subscription_id: subscription.id,\r\n            reason: \"Server dropping a single subscription\",\r\n        };\r\n        this.session.sendFireAndForget(dropSubscriptionMessage);\r\n        var subscriber = subscription.instance;\r\n        this.callbacks.execute(SUBSCRIPTION_REMOVED, subscription, streamingMethod);\r\n    };\r\n    ServerStreaming.prototype.closeMultipleSubscriptions = function (streamingMethod, branchKey) {\r\n        var _this = this;\r\n        if (typeof streamingMethod !== \"object\" || typeof streamingMethod.protocolState.subscriptionsMap !== \"object\") {\r\n            return;\r\n        }\r\n        if (!streamingMethod.protocolState.subscriptionsMap) {\r\n            return;\r\n        }\r\n        var subscriptionsMap = streamingMethod.protocolState.subscriptionsMap;\r\n        var subscriptionsToClose = Object.keys(subscriptionsMap)\r\n            .map(function (key) {\r\n            return subscriptionsMap[key];\r\n        });\r\n        if (typeof branchKey === \"string\") {\r\n            subscriptionsToClose = subscriptionsToClose.filter(function (sub) {\r\n                return sub.branchKey === branchKey;\r\n            });\r\n        }\r\n        subscriptionsToClose.forEach(function (subscription) {\r\n            delete subscriptionsMap[subscription.id];\r\n            var drop = {\r\n                type: \"drop-subscription\",\r\n                subscription_id: subscription.id,\r\n                reason: \"Server dropping all subscriptions on stream_id: \" + subscription.streamId,\r\n            };\r\n            _this.session.sendFireAndForget(drop);\r\n        });\r\n    };\r\n    ServerStreaming.prototype.getSubscriptionList = function (streamingMethod, branchKey) {\r\n        if (typeof streamingMethod !== \"object\") {\r\n            return [];\r\n        }\r\n        var subscriptions = [];\r\n        if (!streamingMethod.protocolState.subscriptionsMap) {\r\n            return [];\r\n        }\r\n        var subscriptionsMap = streamingMethod.protocolState.subscriptionsMap;\r\n        var allSubscriptions = Object.keys(subscriptionsMap)\r\n            .map(function (key) {\r\n            return subscriptionsMap[key];\r\n        });\r\n        if (typeof branchKey !== \"string\") {\r\n            subscriptions = allSubscriptions;\r\n        }\r\n        else {\r\n            subscriptions = allSubscriptions.filter(function (sub) {\r\n                return sub.branchKey === branchKey;\r\n            });\r\n        }\r\n        return subscriptions;\r\n    };\r\n    ServerStreaming.prototype.getBranchList = function (streamingMethod) {\r\n        if (typeof streamingMethod !== \"object\") {\r\n            return [];\r\n        }\r\n        if (!streamingMethod.protocolState.subscriptionsMap) {\r\n            return [];\r\n        }\r\n        var subscriptionsMap = streamingMethod.protocolState.subscriptionsMap;\r\n        var allSubscriptions = Object.keys(subscriptionsMap)\r\n            .map(function (key) {\r\n            return subscriptionsMap[key];\r\n        });\r\n        var result = [];\r\n        allSubscriptions.forEach(function (sub) {\r\n            var branch = \"\";\r\n            if (typeof sub === \"object\" && typeof sub.branchKey === \"string\") {\r\n                branch = sub.branchKey;\r\n            }\r\n            if (result.indexOf(branch) === -1) {\r\n                result.push(branch);\r\n            }\r\n        });\r\n        return result;\r\n    };\r\n    ServerStreaming.prototype.onSubAdded = function (callback) {\r\n        this.onSubscriptionLifetimeEvent(SUBSCRIPTION_ADDED, callback);\r\n    };\r\n    ServerStreaming.prototype.onSubRequest = function (callback) {\r\n        this.onSubscriptionLifetimeEvent(SUBSCRIPTION_REQUEST, callback);\r\n    };\r\n    ServerStreaming.prototype.onSubRemoved = function (callback) {\r\n        this.onSubscriptionLifetimeEvent(SUBSCRIPTION_REMOVED, callback);\r\n    };\r\n    ServerStreaming.prototype.handleRemoveInterest = function (msg) {\r\n        var streamingMethod = this.serverRepository.getById(msg.method_id);\r\n        if (typeof msg.subscription_id !== \"string\" ||\r\n            typeof streamingMethod !== \"object\") {\r\n            return;\r\n        }\r\n        if (!streamingMethod.protocolState.subscriptionsMap) {\r\n            return;\r\n        }\r\n        if (typeof streamingMethod.protocolState.subscriptionsMap[msg.subscription_id] !== \"object\") {\r\n            return;\r\n        }\r\n        var subscription = streamingMethod.protocolState.subscriptionsMap[msg.subscription_id];\r\n        delete streamingMethod.protocolState.subscriptionsMap[msg.subscription_id];\r\n        this.callbacks.execute(SUBSCRIPTION_REMOVED, subscription, streamingMethod);\r\n    };\r\n    ServerStreaming.prototype.onSubscriptionLifetimeEvent = function (eventName, handlerFunc) {\r\n        this.callbacks.add(eventName, handlerFunc);\r\n    };\r\n    ServerStreaming.prototype.getNextStreamId = function () {\r\n        return this.nextStreamId++ + \"\";\r\n    };\r\n    ServerStreaming.prototype.handleAddInterest = function (msg) {\r\n        var caller = this.repository.getServerById(msg.caller_id);\r\n        var instance = caller.instance;\r\n        var requestContext = {\r\n            msg: msg,\r\n            arguments: msg.arguments_kv || {},\r\n            instance: instance,\r\n        };\r\n        var streamingMethod = this.serverRepository.getById(msg.method_id);\r\n        if (streamingMethod === undefined) {\r\n            var errorMsg = \"No method with id \" + msg.method_id + \" on this server.\";\r\n            this.sendSubscriptionFailed(errorMsg, msg.subscription_id);\r\n            return;\r\n        }\r\n        if (streamingMethod.protocolState.subscriptionsMap &&\r\n            streamingMethod.protocolState.subscriptionsMap[msg.subscription_id]) {\r\n            this.sendSubscriptionFailed(\"A subscription with id \" + msg.subscription_id + \" already exists.\", msg.subscription_id);\r\n            return;\r\n        }\r\n        this.callbacks.execute(SUBSCRIPTION_REQUEST, requestContext, streamingMethod);\r\n    };\r\n    ServerStreaming.prototype.sendSubscriptionFailed = function (reason, subscriptionId) {\r\n        var errorMessage = {\r\n            type: \"error\",\r\n            reason_uri: this.ERR_URI_SUBSCRIPTION_FAILED,\r\n            reason: reason,\r\n            request_id: subscriptionId,\r\n        };\r\n        this.session.sendFireAndForget(errorMessage);\r\n    };\r\n    ServerStreaming.prototype.getStreamId = function (streamingMethod, branchKey) {\r\n        if (typeof branchKey !== \"string\") {\r\n            branchKey = \"\";\r\n        }\r\n        if (!streamingMethod.protocolState.branchKeyToStreamIdMap) {\r\n            throw new Error(\"streaming \" + streamingMethod.definition.name + \" method without protocol state\");\r\n        }\r\n        var needleBranch = streamingMethod.protocolState.branchKeyToStreamIdMap.filter(function (branch) {\r\n            return branch.key === branchKey;\r\n        })[0];\r\n        var streamId = (needleBranch ? needleBranch.streamId : undefined);\r\n        if (typeof streamId !== \"string\" || streamId === \"\") {\r\n            streamId = this.getNextStreamId();\r\n            streamingMethod.protocolState.branchKeyToStreamIdMap.push({ key: branchKey, streamId: streamId });\r\n        }\r\n        return streamId;\r\n    };\r\n    return ServerStreaming;\r\n}());\n\nvar ServerProtocol = (function () {\r\n    function ServerProtocol(session, clientRepository, serverRepository, logger) {\r\n        var _this = this;\r\n        this.session = session;\r\n        this.clientRepository = clientRepository;\r\n        this.serverRepository = serverRepository;\r\n        this.logger = logger;\r\n        this.callbacks = lib();\r\n        this.streaming = new ServerStreaming$1(session, clientRepository, serverRepository);\r\n        this.session.on(\"invoke\", function (msg) { return _this.handleInvokeMessage(msg); });\r\n    }\r\n    ServerProtocol.prototype.createStream = function (repoMethod) {\r\n        repoMethod.protocolState.subscriptionsMap = {};\r\n        repoMethod.protocolState.branchKeyToStreamIdMap = [];\r\n        return this.register(repoMethod, true);\r\n    };\r\n    ServerProtocol.prototype.register = function (repoMethod, isStreaming) {\r\n        var _this = this;\r\n        var methodDef = repoMethod.definition;\r\n        var flags = { streaming: isStreaming || false };\r\n        var registerMsg = {\r\n            type: \"register\",\r\n            methods: [{\r\n                    id: repoMethod.repoId,\r\n                    name: methodDef.name,\r\n                    display_name: methodDef.displayName,\r\n                    description: methodDef.description,\r\n                    version: methodDef.version,\r\n                    flags: flags,\r\n                    object_types: methodDef.objectTypes || methodDef.object_types,\r\n                    input_signature: methodDef.accepts,\r\n                    result_signature: methodDef.returns,\r\n                    restrictions: undefined,\r\n                }],\r\n        };\r\n        return this.session.send(registerMsg, { methodId: repoMethod.repoId })\r\n            .then(function () {\r\n            _this.logger.debug(\"registered method \" + repoMethod.definition.name + \" with id \" + repoMethod.repoId);\r\n        })\r\n            .catch(function (msg) {\r\n            _this.logger.warn(\"failed to register method \" + repoMethod.definition.name + \" with id \" + repoMethod.repoId + \" - \" + JSON.stringify(msg));\r\n            throw msg;\r\n        });\r\n    };\r\n    ServerProtocol.prototype.onInvoked = function (callback) {\r\n        this.callbacks.add(\"onInvoked\", callback);\r\n    };\r\n    ServerProtocol.prototype.methodInvocationResult = function (method, invocationId, err, result) {\r\n        var msg;\r\n        if (err || err === \"\") {\r\n            msg = {\r\n                type: \"error\",\r\n                request_id: invocationId,\r\n                reason_uri: \"agm.errors.client_error\",\r\n                reason: err,\r\n                context: result,\r\n                peer_id: undefined,\r\n            };\r\n        }\r\n        else {\r\n            msg = {\r\n                type: \"yield\",\r\n                invocation_id: invocationId,\r\n                peer_id: this.session.peerId,\r\n                result: result,\r\n                request_id: undefined,\r\n            };\r\n        }\r\n        this.session.sendFireAndForget(msg);\r\n    };\r\n    ServerProtocol.prototype.unregister = function (method) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var msg;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        msg = {\r\n                            type: \"unregister\",\r\n                            methods: [method.repoId],\r\n                        };\r\n                        return [4, this.session.send(msg)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    ServerProtocol.prototype.getBranchList = function (method) {\r\n        return this.streaming.getBranchList(method);\r\n    };\r\n    ServerProtocol.prototype.getSubscriptionList = function (method, branchKey) {\r\n        return this.streaming.getSubscriptionList(method, branchKey);\r\n    };\r\n    ServerProtocol.prototype.closeAllSubscriptions = function (method, branchKey) {\r\n        this.streaming.closeMultipleSubscriptions(method, branchKey);\r\n    };\r\n    ServerProtocol.prototype.pushData = function (method, data, branches) {\r\n        this.streaming.pushData(method, data, branches);\r\n    };\r\n    ServerProtocol.prototype.pushDataToSingle = function (method, subscription, data) {\r\n        this.streaming.pushDataToSingle(method, subscription, data);\r\n    };\r\n    ServerProtocol.prototype.closeSingleSubscription = function (method, subscription) {\r\n        this.streaming.closeSingleSubscription(method, subscription);\r\n    };\r\n    ServerProtocol.prototype.acceptRequestOnBranch = function (requestContext, method, branch) {\r\n        this.streaming.acceptRequestOnBranch(requestContext, method, branch);\r\n    };\r\n    ServerProtocol.prototype.rejectRequest = function (requestContext, method, reason) {\r\n        this.streaming.rejectRequest(requestContext, method, reason);\r\n    };\r\n    ServerProtocol.prototype.onSubRequest = function (callback) {\r\n        this.streaming.onSubRequest(callback);\r\n    };\r\n    ServerProtocol.prototype.onSubAdded = function (callback) {\r\n        this.streaming.onSubAdded(callback);\r\n    };\r\n    ServerProtocol.prototype.onSubRemoved = function (callback) {\r\n        this.streaming.onSubRemoved(callback);\r\n    };\r\n    ServerProtocol.prototype.handleInvokeMessage = function (msg) {\r\n        var invocationId = msg.invocation_id;\r\n        var callerId = msg.caller_id;\r\n        var methodId = msg.method_id;\r\n        var args = msg.arguments_kv;\r\n        var methodList = this.serverRepository.getList();\r\n        var method = methodList.filter(function (m) {\r\n            return m.repoId === methodId;\r\n        })[0];\r\n        if (method === undefined) {\r\n            return;\r\n        }\r\n        var client = this.clientRepository.getServerById(callerId).instance;\r\n        var invocationArgs = { args: args, instance: client };\r\n        this.callbacks.execute(\"onInvoked\", method, invocationId, invocationArgs);\r\n    };\r\n    return ServerProtocol;\r\n}());\n\nvar UserSubscription = (function () {\r\n    function UserSubscription(repository, subscriptionData) {\r\n        this.repository = repository;\r\n        this.subscriptionData = subscriptionData;\r\n    }\r\n    Object.defineProperty(UserSubscription.prototype, \"requestArguments\", {\r\n        get: function () {\r\n            return this.subscriptionData.params.arguments || {};\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(UserSubscription.prototype, \"servers\", {\r\n        get: function () {\r\n            var _this = this;\r\n            return this.subscriptionData.trackedServers\r\n                .filter(function (pair) { return pair.subscriptionId; })\r\n                .map(function (pair) { return _this.repository.getServerById(pair.serverId).instance; });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(UserSubscription.prototype, \"serverInstance\", {\r\n        get: function () {\r\n            return this.servers[0];\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(UserSubscription.prototype, \"stream\", {\r\n        get: function () {\r\n            return this.subscriptionData.method;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    UserSubscription.prototype.onData = function (dataCallback) {\r\n        if (typeof dataCallback !== \"function\") {\r\n            throw new TypeError(\"The data callback must be a function.\");\r\n        }\r\n        this.subscriptionData.handlers.onData.push(dataCallback);\r\n        if (this.subscriptionData.handlers.onData.length === 1 && this.subscriptionData.queued.data.length > 0) {\r\n            this.subscriptionData.queued.data.forEach(function (dataItem) {\r\n                dataCallback(dataItem);\r\n            });\r\n        }\r\n    };\r\n    UserSubscription.prototype.onClosed = function (closedCallback) {\r\n        if (typeof closedCallback !== \"function\") {\r\n            throw new TypeError(\"The callback must be a function.\");\r\n        }\r\n        this.subscriptionData.handlers.onClosed.push(closedCallback);\r\n    };\r\n    UserSubscription.prototype.onFailed = function (callback) {\r\n    };\r\n    UserSubscription.prototype.onConnected = function (callback) {\r\n        if (typeof callback !== \"function\") {\r\n            throw new TypeError(\"The callback must be a function.\");\r\n        }\r\n        this.subscriptionData.handlers.onConnected.push(callback);\r\n    };\r\n    UserSubscription.prototype.close = function () {\r\n        this.subscriptionData.close();\r\n    };\r\n    UserSubscription.prototype.setNewSubscription = function (newSub) {\r\n        this.subscriptionData = newSub;\r\n    };\r\n    return UserSubscription;\r\n}());\n\nvar STATUS_AWAITING_ACCEPT = \"awaitingAccept\";\r\nvar STATUS_SUBSCRIBED = \"subscribed\";\r\nvar ERR_MSG_SUB_FAILED = \"Subscription failed.\";\r\nvar ERR_MSG_SUB_REJECTED = \"Subscription rejected.\";\r\nvar ON_CLOSE_MSG_SERVER_INIT = \"ServerInitiated\";\r\nvar ON_CLOSE_MSG_CLIENT_INIT = \"ClientInitiated\";\r\nvar ClientStreaming = (function () {\r\n    function ClientStreaming(session, repository, logger) {\r\n        var _this = this;\r\n        this.session = session;\r\n        this.repository = repository;\r\n        this.logger = logger;\r\n        this.subscriptionsList = {};\r\n        this.subscriptionIdToLocalKeyMap = {};\r\n        this.nextSubLocalKey = 0;\r\n        this.handleErrorSubscribing = function (errorResponse) {\r\n            var tag = errorResponse._tag;\r\n            var subLocalKey = tag.subLocalKey;\r\n            var pendingSub = _this.subscriptionsList[subLocalKey];\r\n            if (typeof pendingSub !== \"object\") {\r\n                return;\r\n            }\r\n            pendingSub.trackedServers = pendingSub.trackedServers.filter(function (server) {\r\n                return server.serverId !== tag.serverId;\r\n            });\r\n            if (pendingSub.trackedServers.length <= 0) {\r\n                clearTimeout(pendingSub.timeoutId);\r\n                if (pendingSub.status === STATUS_AWAITING_ACCEPT) {\r\n                    var reason = (typeof errorResponse.reason === \"string\" && errorResponse.reason !== \"\") ?\r\n                        ' Publisher said \"' + errorResponse.reason + '\".' :\r\n                        \" No reason given.\";\r\n                    var callArgs = typeof pendingSub.params.arguments === \"object\" ?\r\n                        JSON.stringify(pendingSub.params.arguments) :\r\n                        \"{}\";\r\n                    pendingSub.error({\r\n                        message: ERR_MSG_SUB_REJECTED + reason + \" Called with:\" + callArgs,\r\n                        called_with: pendingSub.params.arguments,\r\n                        method: pendingSub.method,\r\n                    });\r\n                }\r\n                else if (pendingSub.status === STATUS_SUBSCRIBED) {\r\n                    _this.callOnClosedHandlers(pendingSub);\r\n                }\r\n                delete _this.subscriptionsList[subLocalKey];\r\n            }\r\n        };\r\n        this.handleSubscribed = function (msg) {\r\n            var subLocalKey = msg._tag.subLocalKey;\r\n            var pendingSub = _this.subscriptionsList[subLocalKey];\r\n            if (typeof pendingSub !== \"object\") {\r\n                return;\r\n            }\r\n            var serverId = msg._tag.serverId;\r\n            var acceptingServer = pendingSub.trackedServers\r\n                .filter(function (server) {\r\n                return server.serverId === serverId;\r\n            })[0];\r\n            if (typeof acceptingServer !== \"object\") {\r\n                return;\r\n            }\r\n            acceptingServer.subscriptionId = msg.subscription_id;\r\n            _this.subscriptionIdToLocalKeyMap[msg.subscription_id] = subLocalKey;\r\n            var isFirstResponse = (pendingSub.status === STATUS_AWAITING_ACCEPT);\r\n            pendingSub.status = STATUS_SUBSCRIBED;\r\n            if (isFirstResponse) {\r\n                var reconnect = false;\r\n                var sub = pendingSub.subscription;\r\n                if (sub) {\r\n                    sub.setNewSubscription(pendingSub);\r\n                    pendingSub.success(sub);\r\n                    reconnect = true;\r\n                }\r\n                else {\r\n                    sub = new UserSubscription(_this.repository, pendingSub);\r\n                    pendingSub.subscription = sub;\r\n                    pendingSub.success(sub);\r\n                }\r\n                for (var _i = 0, _a = pendingSub.handlers.onConnected; _i < _a.length; _i++) {\r\n                    var handler = _a[_i];\r\n                    try {\r\n                        handler(sub.serverInstance, reconnect);\r\n                    }\r\n                    catch (e) {\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        this.handleEventData = function (msg) {\r\n            var subLocalKey = _this.subscriptionIdToLocalKeyMap[msg.subscription_id];\r\n            if (typeof subLocalKey === \"undefined\") {\r\n                return;\r\n            }\r\n            var subscription = _this.subscriptionsList[subLocalKey];\r\n            if (typeof subscription !== \"object\") {\r\n                return;\r\n            }\r\n            var trackedServersFound = subscription.trackedServers.filter(function (server) {\r\n                return server.subscriptionId === msg.subscription_id;\r\n            });\r\n            if (trackedServersFound.length !== 1) {\r\n                return;\r\n            }\r\n            var isPrivateData = msg.oob;\r\n            var sendingServerId = trackedServersFound[0].serverId;\r\n            var receivedStreamData = function () {\r\n                return {\r\n                    data: msg.data,\r\n                    server: _this.repository.getServerById(sendingServerId).instance,\r\n                    requestArguments: subscription.params.arguments,\r\n                    message: undefined,\r\n                    private: isPrivateData,\r\n                };\r\n            };\r\n            var onDataHandlers = subscription.handlers.onData;\r\n            var queuedData = subscription.queued.data;\r\n            if (onDataHandlers.length > 0) {\r\n                onDataHandlers.forEach(function (callback) {\r\n                    if (typeof callback === \"function\") {\r\n                        callback(receivedStreamData());\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                queuedData.push(receivedStreamData());\r\n            }\r\n        };\r\n        this.handleSubscriptionCancelled = function (msg) {\r\n            var subLocalKey = _this.subscriptionIdToLocalKeyMap[msg.subscription_id];\r\n            if (typeof subLocalKey === \"undefined\") {\r\n                return;\r\n            }\r\n            var subscription = _this.subscriptionsList[subLocalKey];\r\n            if (typeof subscription !== \"object\") {\r\n                return;\r\n            }\r\n            var expectedNewLength = subscription.trackedServers.length - 1;\r\n            subscription.trackedServers = subscription.trackedServers.filter(function (server) {\r\n                if (server.subscriptionId === msg.subscription_id) {\r\n                    subscription.queued.closers.push(server.serverId);\r\n                    return false;\r\n                }\r\n                else {\r\n                    return true;\r\n                }\r\n            });\r\n            if (subscription.trackedServers.length !== expectedNewLength) {\r\n                return;\r\n            }\r\n            if (subscription.trackedServers.length <= 0) {\r\n                clearTimeout(subscription.timeoutId);\r\n                _this.callOnClosedHandlers(subscription);\r\n                delete _this.subscriptionsList[subLocalKey];\r\n            }\r\n            delete _this.subscriptionIdToLocalKeyMap[msg.subscription_id];\r\n        };\r\n        session.on(\"subscribed\", this.handleSubscribed);\r\n        session.on(\"event\", this.handleEventData);\r\n        session.on(\"subscription-cancelled\", this.handleSubscriptionCancelled);\r\n    }\r\n    ClientStreaming.prototype.subscribe = function (streamingMethod, params, targetServers, success, error, existingSub) {\r\n        var _this = this;\r\n        if (targetServers.length === 0) {\r\n            error({\r\n                method: streamingMethod,\r\n                called_with: params.arguments,\r\n                message: ERR_MSG_SUB_FAILED + \" No available servers matched the target params.\",\r\n            });\r\n            return;\r\n        }\r\n        var subLocalKey = this.getNextSubscriptionLocalKey();\r\n        var pendingSub = this.registerSubscription(subLocalKey, streamingMethod, params, success, error, params.methodResponseTimeout || 10000, existingSub);\r\n        if (typeof pendingSub !== \"object\") {\r\n            error({\r\n                method: streamingMethod,\r\n                called_with: params.arguments,\r\n                message: ERR_MSG_SUB_FAILED + \" Unable to register the user callbacks.\",\r\n            });\r\n            return;\r\n        }\r\n        targetServers.forEach(function (target) {\r\n            var serverId = target.server.id;\r\n            var method = target.methods.find(function (m) { return m.name === streamingMethod.name; });\r\n            if (!method) {\r\n                _this.logger.error(\"can not find method \" + streamingMethod.name + \" for target \" + target.server.id);\r\n                return;\r\n            }\r\n            pendingSub.trackedServers.push({\r\n                serverId: serverId,\r\n                subscriptionId: undefined,\r\n            });\r\n            var msg = {\r\n                type: \"subscribe\",\r\n                server_id: serverId,\r\n                method_id: method.gatewayId,\r\n                arguments_kv: params.arguments,\r\n            };\r\n            _this.session.send(msg, { serverId: serverId, subLocalKey: subLocalKey })\r\n                .then(function (m) { return _this.handleSubscribed(m); })\r\n                .catch(function (err) { return _this.handleErrorSubscribing(err); });\r\n        });\r\n    };\r\n    ClientStreaming.prototype.drainSubscriptions = function () {\r\n        var existing = Object.values(this.subscriptionsList);\r\n        this.subscriptionsList = {};\r\n        this.subscriptionIdToLocalKeyMap = {};\r\n        return existing;\r\n    };\r\n    ClientStreaming.prototype.getNextSubscriptionLocalKey = function () {\r\n        var current = this.nextSubLocalKey;\r\n        this.nextSubLocalKey += 1;\r\n        return current;\r\n    };\r\n    ClientStreaming.prototype.registerSubscription = function (subLocalKey, method, params, success, error, timeout, existingSub) {\r\n        var _this = this;\r\n        var subsInfo = {\r\n            localKey: subLocalKey,\r\n            status: STATUS_AWAITING_ACCEPT,\r\n            method: method,\r\n            params: params,\r\n            success: success,\r\n            error: error,\r\n            trackedServers: [],\r\n            handlers: {\r\n                onData: (existingSub === null || existingSub === void 0 ? void 0 : existingSub.handlers.onData) || [],\r\n                onClosed: (existingSub === null || existingSub === void 0 ? void 0 : existingSub.handlers.onClosed) || [],\r\n                onConnected: (existingSub === null || existingSub === void 0 ? void 0 : existingSub.handlers.onConnected) || [],\r\n            },\r\n            queued: {\r\n                data: [],\r\n                closers: [],\r\n            },\r\n            timeoutId: undefined,\r\n            close: function () { return _this.closeSubscription(subLocalKey); },\r\n            subscription: existingSub === null || existingSub === void 0 ? void 0 : existingSub.subscription\r\n        };\r\n        if (!existingSub) {\r\n            if (params.onData) {\r\n                subsInfo.handlers.onData.push(params.onData);\r\n            }\r\n            if (params.onClosed) {\r\n                subsInfo.handlers.onClosed.push(params.onClosed);\r\n            }\r\n            if (params.onConnected) {\r\n                subsInfo.handlers.onConnected.push(params.onConnected);\r\n            }\r\n        }\r\n        this.subscriptionsList[subLocalKey] = subsInfo;\r\n        subsInfo.timeoutId = setTimeout(function () {\r\n            if (_this.subscriptionsList[subLocalKey] === undefined) {\r\n                return;\r\n            }\r\n            var pendingSub = _this.subscriptionsList[subLocalKey];\r\n            if (pendingSub.status === STATUS_AWAITING_ACCEPT) {\r\n                error({\r\n                    method: method,\r\n                    called_with: params.arguments,\r\n                    message: ERR_MSG_SUB_FAILED + \" Subscription attempt timed out after \" + timeout + \" ms.\",\r\n                });\r\n                delete _this.subscriptionsList[subLocalKey];\r\n            }\r\n            else if (pendingSub.status === STATUS_SUBSCRIBED && pendingSub.trackedServers.length > 0) {\r\n                pendingSub.trackedServers = pendingSub.trackedServers.filter(function (server) {\r\n                    return (typeof server.subscriptionId !== \"undefined\");\r\n                });\r\n                delete pendingSub.timeoutId;\r\n                if (pendingSub.trackedServers.length <= 0) {\r\n                    _this.callOnClosedHandlers(pendingSub);\r\n                    delete _this.subscriptionsList[subLocalKey];\r\n                }\r\n            }\r\n        }, timeout);\r\n        return subsInfo;\r\n    };\r\n    ClientStreaming.prototype.callOnClosedHandlers = function (subscription, reason) {\r\n        var closersCount = subscription.queued.closers.length;\r\n        var closingServerId = (closersCount > 0) ? subscription.queued.closers[closersCount - 1] : null;\r\n        var closingServer;\r\n        if (closingServerId !== undefined && typeof closingServerId === \"string\") {\r\n            closingServer = this.repository.getServerById(closingServerId).instance;\r\n        }\r\n        subscription.handlers.onClosed.forEach(function (callback) {\r\n            if (typeof callback !== \"function\") {\r\n                return;\r\n            }\r\n            callback({\r\n                message: reason || ON_CLOSE_MSG_SERVER_INIT,\r\n                requestArguments: subscription.params.arguments || {},\r\n                server: closingServer,\r\n                stream: subscription.method,\r\n            });\r\n        });\r\n    };\r\n    ClientStreaming.prototype.closeSubscription = function (subLocalKey) {\r\n        var _this = this;\r\n        var subscription = this.subscriptionsList[subLocalKey];\r\n        if (typeof subscription !== \"object\") {\r\n            return;\r\n        }\r\n        subscription.trackedServers.forEach(function (server) {\r\n            if (typeof server.subscriptionId === \"undefined\") {\r\n                return;\r\n            }\r\n            subscription.queued.closers.push(server.serverId);\r\n            _this.session.sendFireAndForget({\r\n                type: \"unsubscribe\",\r\n                subscription_id: server.subscriptionId,\r\n                reason_uri: \"\",\r\n                reason: ON_CLOSE_MSG_CLIENT_INIT,\r\n            });\r\n            delete _this.subscriptionIdToLocalKeyMap[server.subscriptionId];\r\n        });\r\n        subscription.trackedServers = [];\r\n        this.callOnClosedHandlers(subscription, ON_CLOSE_MSG_CLIENT_INIT);\r\n        delete this.subscriptionsList[subLocalKey];\r\n    };\r\n    return ClientStreaming;\r\n}());\n\nvar ClientProtocol = (function () {\r\n    function ClientProtocol(session, repository, logger) {\r\n        var _this = this;\r\n        this.session = session;\r\n        this.repository = repository;\r\n        this.logger = logger;\r\n        session.on(\"peer-added\", function (msg) { return _this.handlePeerAdded(msg); });\r\n        session.on(\"peer-removed\", function (msg) { return _this.handlePeerRemoved(msg); });\r\n        session.on(\"methods-added\", function (msg) { return _this.handleMethodsAddedMessage(msg); });\r\n        session.on(\"methods-removed\", function (msg) { return _this.handleMethodsRemovedMessage(msg); });\r\n        this.streaming = new ClientStreaming(session, repository, logger);\r\n    }\r\n    ClientProtocol.prototype.subscribe = function (stream, options, targetServers, success, error, existingSub) {\r\n        this.streaming.subscribe(stream, options, targetServers, success, error, existingSub);\r\n    };\r\n    ClientProtocol.prototype.invoke = function (id, method, args, target) {\r\n        var _this = this;\r\n        var serverId = target.id;\r\n        var methodId = method.gatewayId;\r\n        var msg = {\r\n            type: \"call\",\r\n            server_id: serverId,\r\n            method_id: methodId,\r\n            arguments_kv: args,\r\n        };\r\n        return this.session.send(msg, { invocationId: id, serverId: serverId })\r\n            .then(function (m) { return _this.handleResultMessage(m); })\r\n            .catch(function (err) { return _this.handleInvocationError(err); });\r\n    };\r\n    ClientProtocol.prototype.drainSubscriptions = function () {\r\n        return this.streaming.drainSubscriptions();\r\n    };\r\n    ClientProtocol.prototype.handlePeerAdded = function (msg) {\r\n        var newPeerId = msg.new_peer_id;\r\n        var remoteId = msg.identity;\r\n        var isLocal = msg.meta ? msg.meta.local : true;\r\n        var pid = Number(remoteId.process);\r\n        var serverInfo = {\r\n            machine: remoteId.machine,\r\n            pid: isNaN(pid) ? remoteId.process : pid,\r\n            instance: remoteId.instance,\r\n            application: remoteId.application,\r\n            applicationName: remoteId.applicationName,\r\n            environment: remoteId.environment,\r\n            region: remoteId.region,\r\n            user: remoteId.user,\r\n            windowId: remoteId.windowId,\r\n            peerId: newPeerId,\r\n            api: remoteId.api,\r\n            isLocal: isLocal\r\n        };\r\n        this.repository.addServer(serverInfo, newPeerId);\r\n    };\r\n    ClientProtocol.prototype.handlePeerRemoved = function (msg) {\r\n        var removedPeerId = msg.removed_id;\r\n        var reason = msg.reason;\r\n        this.repository.removeServerById(removedPeerId, reason);\r\n    };\r\n    ClientProtocol.prototype.handleMethodsAddedMessage = function (msg) {\r\n        var _this = this;\r\n        var serverId = msg.server_id;\r\n        var methods = msg.methods;\r\n        methods.forEach(function (method) {\r\n            _this.repository.addServerMethod(serverId, method);\r\n        });\r\n    };\r\n    ClientProtocol.prototype.handleMethodsRemovedMessage = function (msg) {\r\n        var _this = this;\r\n        var serverId = msg.server_id;\r\n        var methodIdList = msg.methods;\r\n        var server = this.repository.getServerById(serverId);\r\n        var serverMethodKeys = Object.keys(server.methods);\r\n        serverMethodKeys.forEach(function (methodKey) {\r\n            var method = server.methods[methodKey];\r\n            if (methodIdList.indexOf(method.gatewayId) > -1) {\r\n                _this.repository.removeServerMethod(serverId, methodKey);\r\n            }\r\n        });\r\n    };\r\n    ClientProtocol.prototype.handleResultMessage = function (msg) {\r\n        var invocationId = msg._tag.invocationId;\r\n        var result = msg.result;\r\n        var serverId = msg._tag.serverId;\r\n        var server = this.repository.getServerById(serverId);\r\n        return {\r\n            invocationId: invocationId,\r\n            result: result,\r\n            instance: server.instance,\r\n            status: InvokeStatus.Success,\r\n            message: \"\"\r\n        };\r\n    };\r\n    ClientProtocol.prototype.handleInvocationError = function (msg) {\r\n        this.logger.debug(\"handle invocation error \" + JSON.stringify(msg));\r\n        if (\"_tag\" in msg) {\r\n            var invocationId = msg._tag.invocationId;\r\n            var serverId = msg._tag.serverId;\r\n            var server = this.repository.getServerById(serverId);\r\n            var message = msg.reason;\r\n            var context_1 = msg.context;\r\n            return {\r\n                invocationId: invocationId,\r\n                result: context_1,\r\n                instance: server.instance,\r\n                status: InvokeStatus.Error,\r\n                message: message\r\n            };\r\n        }\r\n        else {\r\n            return {\r\n                invocationId: \"\",\r\n                message: msg.message,\r\n                status: InvokeStatus.Error,\r\n                error: msg\r\n            };\r\n        }\r\n    };\r\n    return ClientProtocol;\r\n}());\n\nfunction gW3ProtocolFactory (instance, connection, clientRepository, serverRepository, libConfig, interop) {\r\n    var logger = libConfig.logger.subLogger(\"gw3-protocol\");\r\n    var resolveReadyPromise;\r\n    var readyPromise = new Promise(function (resolve) {\r\n        resolveReadyPromise = resolve;\r\n    });\r\n    var session = connection.domain(\"agm\", [\"subscribed\"]);\r\n    var server = new ServerProtocol(session, clientRepository, serverRepository, logger.subLogger(\"server\"));\r\n    var client = new ClientProtocol(session, clientRepository, logger.subLogger(\"client\"));\r\n    function handleReconnect() {\r\n        logger.info(\"reconnected - will replay registered methods and subscriptions\");\r\n        var existingSubscriptions = client.drainSubscriptions();\r\n        for (var _i = 0, existingSubscriptions_1 = existingSubscriptions; _i < existingSubscriptions_1.length; _i++) {\r\n            var sub = existingSubscriptions_1[_i];\r\n            var methodInfo = sub.method;\r\n            var params = Object.assign({}, sub.params);\r\n            logger.info(\"trying to re-subscribe to method \" + methodInfo.name);\r\n            interop.client.subscribe(methodInfo, params, undefined, undefined, sub);\r\n        }\r\n        var registeredMethods = serverRepository.getList();\r\n        serverRepository.reset();\r\n        for (var _a = 0, registeredMethods_1 = registeredMethods; _a < registeredMethods_1.length; _a++) {\r\n            var method = registeredMethods_1[_a];\r\n            var def = method.definition;\r\n            logger.info(\"re-publishing method \" + def.name);\r\n            if (method.stream) {\r\n                interop.server.createStream(def, method.streamCallbacks, undefined, undefined, method.stream);\r\n            }\r\n            else if (method.theFunction && method.theFunction.userCallback) {\r\n                interop.register(def, method.theFunction.userCallback);\r\n            }\r\n            else if (method.theFunction && method.theFunction.userCallbackAsync) {\r\n                interop.registerAsync(def, method.theFunction.userCallbackAsync);\r\n            }\r\n        }\r\n    }\r\n    function handleInitialJoin() {\r\n        if (resolveReadyPromise) {\r\n            resolveReadyPromise({\r\n                client: client,\r\n                server: server,\r\n            });\r\n            resolveReadyPromise = undefined;\r\n        }\r\n    }\r\n    session.onJoined(function (reconnect) {\r\n        clientRepository.addServer(instance, connection.peerId);\r\n        if (reconnect) {\r\n            handleReconnect();\r\n        }\r\n        else {\r\n            handleInitialJoin();\r\n        }\r\n    });\r\n    session.onLeft(function () {\r\n        clientRepository.reset();\r\n    });\r\n    session.join();\r\n    return readyPromise;\r\n}\n\nvar Interop = (function () {\r\n    function Interop(configuration) {\r\n        var _this = this;\r\n        if (typeof configuration === \"undefined\") {\r\n            throw new Error(\"configuration is required\");\r\n        }\r\n        if (typeof configuration.connection === \"undefined\") {\r\n            throw new Error(\"configuration.connections is required\");\r\n        }\r\n        var connection = configuration.connection;\r\n        if (typeof configuration.methodResponseTimeout !== \"number\") {\r\n            configuration.methodResponseTimeout = 30 * 1000;\r\n        }\r\n        if (typeof configuration.waitTimeoutMs !== \"number\") {\r\n            configuration.waitTimeoutMs = 30 * 1000;\r\n        }\r\n        InstanceWrapper.API = this;\r\n        this.instance = new InstanceWrapper(undefined, connection).unwrap();\r\n        this.clientRepository = new ClientRepository(configuration.logger.subLogger(\"cRep\"));\r\n        this.serverRepository = new ServerRepository();\r\n        var protocolPromise;\r\n        if (connection.protocolVersion === 3) {\r\n            protocolPromise = gW3ProtocolFactory(this.instance, connection, this.clientRepository, this.serverRepository, configuration, this);\r\n        }\r\n        else {\r\n            throw new Error(\"protocol \" + connection.protocolVersion + \" not supported\");\r\n        }\r\n        this.readyPromise = protocolPromise.then(function (protocol) {\r\n            _this.protocol = protocol;\r\n            _this.client = new Client(_this.protocol, _this.clientRepository, _this.instance, configuration);\r\n            _this.server = new Server(_this.protocol, _this.serverRepository);\r\n            return _this;\r\n        });\r\n    }\r\n    Interop.prototype.ready = function () {\r\n        return this.readyPromise;\r\n    };\r\n    Interop.prototype.serverRemoved = function (callback) {\r\n        return this.client.serverRemoved(callback);\r\n    };\r\n    Interop.prototype.serverAdded = function (callback) {\r\n        return this.client.serverAdded(callback);\r\n    };\r\n    Interop.prototype.serverMethodRemoved = function (callback) {\r\n        return this.client.serverMethodRemoved(callback);\r\n    };\r\n    Interop.prototype.serverMethodAdded = function (callback) {\r\n        return this.client.serverMethodAdded(callback);\r\n    };\r\n    Interop.prototype.methodRemoved = function (callback) {\r\n        return this.client.methodRemoved(callback);\r\n    };\r\n    Interop.prototype.methodAdded = function (callback) {\r\n        return this.client.methodAdded(callback);\r\n    };\r\n    Interop.prototype.methodsForInstance = function (instance) {\r\n        return this.client.methodsForInstance(instance);\r\n    };\r\n    Interop.prototype.methods = function (methodFilter) {\r\n        return this.client.methods(methodFilter);\r\n    };\r\n    Interop.prototype.servers = function (methodFilter) {\r\n        return this.client.servers(methodFilter);\r\n    };\r\n    Interop.prototype.subscribe = function (method, options, successCallback, errorCallback) {\r\n        return this.client.subscribe(method, options, successCallback, errorCallback);\r\n    };\r\n    Interop.prototype.createStream = function (streamDef, callbacks, successCallback, errorCallback) {\r\n        return this.server.createStream(streamDef, callbacks, successCallback, errorCallback);\r\n    };\r\n    Interop.prototype.unregister = function (methodFilter) {\r\n        return this.server.unregister(methodFilter);\r\n    };\r\n    Interop.prototype.registerAsync = function (methodDefinition, callback) {\r\n        return this.server.registerAsync(methodDefinition, callback);\r\n    };\r\n    Interop.prototype.register = function (methodDefinition, callback) {\r\n        return this.server.register(methodDefinition, callback);\r\n    };\r\n    Interop.prototype.invoke = function (methodFilter, argumentObj, target, additionalOptions, success, error) {\r\n        return this.client.invoke(methodFilter, argumentObj, target, additionalOptions, success, error);\r\n    };\r\n    return Interop;\r\n}());\n\nvar successMessages = [\"subscribed\", \"success\"];\r\nvar MessageBus = (function () {\r\n    function MessageBus(connection, logger) {\r\n        var _this = this;\r\n        this.publish = function (topic, data, options) {\r\n            var _a = options || {}, routingKey = _a.routingKey, target = _a.target;\r\n            var args = _this.removeEmptyValues({\r\n                type: \"publish\",\r\n                topic: topic,\r\n                data: data,\r\n                peer_id: _this.peerId,\r\n                routing_key: routingKey,\r\n                target_identity: target\r\n            });\r\n            _this.session.send(args);\r\n        };\r\n        this.subscribe = function (topic, callback, options) {\r\n            return new Promise(function (resolve, reject) {\r\n                var _a = options || {}, routingKey = _a.routingKey, target = _a.target;\r\n                var args = _this.removeEmptyValues({\r\n                    type: \"subscribe\",\r\n                    topic: topic,\r\n                    peer_id: _this.peerId,\r\n                    routing_key: routingKey,\r\n                    source: target\r\n                });\r\n                _this.session.send(args)\r\n                    .then(function (response) {\r\n                    var subscription_id = response.subscription_id;\r\n                    _this.subscriptions.push({ subscription_id: subscription_id, topic: topic, callback: callback, source: target });\r\n                    resolve({\r\n                        unsubscribe: function () {\r\n                            _this.session.send({ type: \"unsubscribe\", subscription_id: subscription_id, peer_id: _this.peerId });\r\n                            _this.subscriptions = _this.subscriptions.filter(function (s) { return s.subscription_id !== subscription_id; });\r\n                            return Promise.resolve();\r\n                        }\r\n                    });\r\n                })\r\n                    .catch(function (error) { return reject(error); });\r\n            });\r\n        };\r\n        this.watchOnEvent = function () {\r\n            _this.session.on(\"event\", function (args) {\r\n                var data = args.data, subscription_id = args.subscription_id;\r\n                var source = args[\"publisher-identity\"];\r\n                var subscription = _this.subscriptions.find(function (s) { return s.subscription_id === subscription_id; });\r\n                if (subscription) {\r\n                    if (!subscription.source) {\r\n                        subscription.callback(data, subscription.topic, source);\r\n                    }\r\n                    else {\r\n                        if (_this.keysMatch(subscription.source, source)) {\r\n                            subscription.callback(data, subscription.topic, source);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        };\r\n        this.connection = connection;\r\n        this.logger = logger;\r\n        this.peerId = connection.peerId;\r\n        this.subscriptions = [];\r\n        this.session = connection.domain(\"bus\", successMessages);\r\n        this.readyPromise = this.session.join();\r\n        this.readyPromise.then(function () {\r\n            _this.watchOnEvent();\r\n        });\r\n    }\r\n    MessageBus.prototype.ready = function () {\r\n        return this.readyPromise;\r\n    };\r\n    MessageBus.prototype.removeEmptyValues = function (obj) {\r\n        var cleaned = {};\r\n        Object.keys(obj).forEach(function (key) {\r\n            if (obj[key] !== undefined && obj[key] !== null) {\r\n                cleaned[key] = obj[key];\r\n            }\r\n        });\r\n        return cleaned;\r\n    };\r\n    MessageBus.prototype.keysMatch = function (obj1, obj2) {\r\n        var keysObj1 = Object.keys(obj1);\r\n        var allMatch = true;\r\n        keysObj1.forEach(function (key) {\r\n            if (obj1[key] !== obj2[key]) {\r\n                allMatch = false;\r\n            }\r\n        });\r\n        return allMatch;\r\n    };\r\n    return MessageBus;\r\n}());\n\nvar GlueCore = function (userConfig, ext) {\r\n    var gdVersion = Utils.getGDMajorVersion();\r\n    var glue42gd;\r\n    var preloadPromise = Promise.resolve();\r\n    if (gdVersion) {\r\n        if (gdVersion < 3) {\r\n            throw new Error(\"GD v2 is not supported. Use v4 of the API to run in that context.\");\r\n        }\r\n        else if (gdVersion >= 3) {\r\n            glue42gd = window.glue42gd;\r\n            preloadPromise = window.gdPreloadPromise || preloadPromise;\r\n        }\r\n    }\r\n    var glueInitTimer = timer(\"glue\");\r\n    userConfig = userConfig || {};\r\n    ext = ext || {};\r\n    var internalConfig = prepareConfig(userConfig, ext, glue42gd);\r\n    var _connection;\r\n    var _interop;\r\n    var _logger;\r\n    var _metrics;\r\n    var _contexts;\r\n    var _bus;\r\n    var _allowTrace;\r\n    var libs = {};\r\n    function registerLib(name, inner, t) {\r\n        _allowTrace = _logger.canPublish(\"trace\");\r\n        if (_allowTrace) {\r\n            _logger.trace(\"registering \" + name + \" module\");\r\n        }\r\n        var done = function () {\r\n            inner.initTime = t.stop();\r\n            inner.initEndTime = t.endTime;\r\n            inner.marks = t.marks;\r\n            if (_allowTrace) {\r\n                _logger.trace(name + \" is ready - \" + (t.endTime - t.startTime));\r\n            }\r\n        };\r\n        inner.initStartTime = t.startTime;\r\n        if (inner.ready) {\r\n            inner.ready().then(function () {\r\n                done();\r\n            });\r\n        }\r\n        else {\r\n            done();\r\n        }\r\n        if (!Array.isArray(name)) {\r\n            name = [name];\r\n        }\r\n        name.forEach(function (n) {\r\n            libs[n] = inner;\r\n            GlueCore[n] = inner;\r\n        });\r\n    }\r\n    function setupConnection() {\r\n        var initTimer = timer(\"connection\");\r\n        _connection = new Connection(internalConfig.connection, _logger.subLogger(\"connection\"));\r\n        var authPromise = Promise.resolve(internalConfig.auth);\r\n        if (internalConfig.connection && !internalConfig.auth) {\r\n            if (glue42gd) {\r\n                authPromise = glue42gd.getGWToken()\r\n                    .then(function (token) {\r\n                    return {\r\n                        gatewayToken: token\r\n                    };\r\n                });\r\n            }\r\n            else {\r\n                authPromise = Promise.reject(\"You need to provide auth information\");\r\n            }\r\n        }\r\n        return authPromise\r\n            .then(function (authConfig) {\r\n            initTimer.mark(\"auth-promise-resolved\");\r\n            var authRequest;\r\n            if (Object.prototype.toString.call(authConfig) === \"[object Object]\") {\r\n                authRequest = authConfig;\r\n            }\r\n            else {\r\n                throw new Error(\"Invalid auth object - \" + JSON.stringify(authConfig));\r\n            }\r\n            return _connection.login(authRequest);\r\n        })\r\n            .then(function () {\r\n            registerLib(\"connection\", _connection, initTimer);\r\n            return internalConfig;\r\n        })\r\n            .catch(function (e) {\r\n            if (_connection) {\r\n                _connection.logout();\r\n            }\r\n            throw e;\r\n        });\r\n    }\r\n    function setupLogger() {\r\n        var _a;\r\n        var initTimer = timer(\"logger\");\r\n        _logger = new Logger(\"\" + ((_a = internalConfig.connection.identity) === null || _a === void 0 ? void 0 : _a.application), undefined, internalConfig.customLogger);\r\n        _logger.consoleLevel(internalConfig.logger.console);\r\n        _logger.publishLevel(internalConfig.logger.publish);\r\n        if (_logger.canPublish(\"debug\")) {\r\n            _logger.debug(\"initializing glue...\");\r\n        }\r\n        registerLib(\"logger\", _logger, initTimer);\r\n        return Promise.resolve(undefined);\r\n    }\r\n    function setupMetrics() {\r\n        var _a, _b, _c, _d;\r\n        var initTimer = timer(\"metrics\");\r\n        var config = internalConfig.metrics;\r\n        var metricsPublishingEnabledFunc = glue42gd === null || glue42gd === void 0 ? void 0 : glue42gd.getMetricsPublishingEnabled;\r\n        var identity = internalConfig.connection.identity;\r\n        var canUpdateMetric = metricsPublishingEnabledFunc ? metricsPublishingEnabledFunc : function () { return true; };\r\n        var disableAutoAppSystem = (_a = (typeof config !== \"boolean\" && config.disableAutoAppSystem)) !== null && _a !== void 0 ? _a : false;\r\n        _metrics = metrics({\r\n            connection: config ? _connection : undefined,\r\n            logger: _logger.subLogger(\"metrics\"),\r\n            canUpdateMetric: canUpdateMetric,\r\n            system: \"Glue42\",\r\n            service: (_b = identity === null || identity === void 0 ? void 0 : identity.service) !== null && _b !== void 0 ? _b : \"metrics-service\",\r\n            instance: (_d = (_c = identity === null || identity === void 0 ? void 0 : identity.instance) !== null && _c !== void 0 ? _c : identity === null || identity === void 0 ? void 0 : identity.windowId) !== null && _d !== void 0 ? _d : shortid(),\r\n            disableAutoAppSystem: disableAutoAppSystem,\r\n            pagePerformanceMetrics: typeof config !== \"boolean\" ? config === null || config === void 0 ? void 0 : config.pagePerformanceMetrics : undefined\r\n        });\r\n        registerLib(\"metrics\", _metrics, initTimer);\r\n        return Promise.resolve();\r\n    }\r\n    function setupInterop() {\r\n        var initTimer = timer(\"interop\");\r\n        var agmConfig = {\r\n            connection: _connection,\r\n            logger: _logger.subLogger(\"interop\"),\r\n        };\r\n        _interop = new Interop(agmConfig);\r\n        Logger.Interop = _interop;\r\n        registerLib([\"interop\", \"agm\"], _interop, initTimer);\r\n        return Promise.resolve();\r\n    }\r\n    function setupContexts() {\r\n        var hasActivities = (internalConfig.activities && _connection.protocolVersion === 3);\r\n        var needsContexts = internalConfig.contexts || hasActivities;\r\n        if (needsContexts) {\r\n            var initTimer = timer(\"contexts\");\r\n            _contexts = new ContextsModule({\r\n                connection: _connection,\r\n                logger: _logger.subLogger(\"contexts\")\r\n            });\r\n            registerLib(\"contexts\", _contexts, initTimer);\r\n            return _contexts;\r\n        }\r\n        else {\r\n            var replayer = _connection.replayer;\r\n            if (replayer) {\r\n                replayer.drain(ContextMessageReplaySpec.name);\r\n            }\r\n        }\r\n    }\r\n    function setupBus() {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var initTimer;\r\n            return __generator(this, function (_a) {\r\n                if (!internalConfig.bus) {\r\n                    return [2, Promise.resolve()];\r\n                }\r\n                initTimer = timer(\"bus\");\r\n                _bus = new MessageBus(_connection, _logger.subLogger(\"bus\"));\r\n                registerLib(\"bus\", _bus, initTimer);\r\n                return [2, Promise.resolve()];\r\n            });\r\n        });\r\n    }\r\n    function setupExternalLibs(externalLibs) {\r\n        try {\r\n            externalLibs.forEach(function (lib) {\r\n                setupExternalLib(lib.name, lib.create);\r\n            });\r\n            return Promise.resolve();\r\n        }\r\n        catch (e) {\r\n            return Promise.reject(e);\r\n        }\r\n    }\r\n    function setupExternalLib(name, createCallback) {\r\n        var initTimer = timer(name);\r\n        var lib = createCallback(libs);\r\n        if (lib) {\r\n            registerLib(name, lib, initTimer);\r\n        }\r\n    }\r\n    function waitForLibs() {\r\n        var libsReadyPromises = Object.keys(libs).map(function (key) {\r\n            var lib = libs[key];\r\n            return lib.ready ?\r\n                lib.ready() : Promise.resolve();\r\n        });\r\n        return Promise.all(libsReadyPromises);\r\n    }\r\n    function constructGlueObject() {\r\n        var feedbackFunc = function (feedbackInfo) {\r\n            if (!_interop) {\r\n                return;\r\n            }\r\n            _interop.invoke(\"T42.ACS.Feedback\", feedbackInfo, \"best\");\r\n        };\r\n        var info = {\r\n            coreVersion: version,\r\n            version: internalConfig.version\r\n        };\r\n        glueInitTimer.stop();\r\n        var glue = {\r\n            feedback: feedbackFunc,\r\n            info: info,\r\n            logger: _logger,\r\n            interop: _interop,\r\n            agm: _interop,\r\n            connection: _connection,\r\n            metrics: _metrics,\r\n            contexts: _contexts,\r\n            bus: _bus,\r\n            version: internalConfig.version,\r\n            userConfig: userConfig,\r\n            done: function () {\r\n                _logger === null || _logger === void 0 ? void 0 : _logger.info(\"done called by user...\");\r\n                return _connection.logout();\r\n            }\r\n        };\r\n        glue.performance = {\r\n            get glueVer() {\r\n                return internalConfig.version;\r\n            },\r\n            get glueConfig() {\r\n                return JSON.stringify(userConfig);\r\n            },\r\n            get browser() {\r\n                return window.performance.timing.toJSON();\r\n            },\r\n            get memory() {\r\n                return window.performance.memory;\r\n            },\r\n            get initTimes() {\r\n                var all = getAllTimers();\r\n                return Object.keys(all).map(function (key) {\r\n                    var t = all[key];\r\n                    return {\r\n                        name: key,\r\n                        duration: t.endTime - t.startTime,\r\n                        marks: t.marks\r\n                    };\r\n                });\r\n            }\r\n        };\r\n        Object.keys(libs).forEach(function (key) {\r\n            var lib = libs[key];\r\n            glue[key] = lib;\r\n        });\r\n        glue.config = {};\r\n        Object.keys(internalConfig).forEach(function (k) {\r\n            glue.config[k] = internalConfig[k];\r\n        });\r\n        if (ext && ext.extOptions) {\r\n            Object.keys(ext.extOptions).forEach(function (k) {\r\n                glue.config[k] = ext === null || ext === void 0 ? void 0 : ext.extOptions[k];\r\n            });\r\n        }\r\n        if (ext === null || ext === void 0 ? void 0 : ext.enrichGlue) {\r\n            ext.enrichGlue(glue);\r\n        }\r\n        if (glue42gd && glue42gd.updatePerfData) {\r\n            glue42gd.updatePerfData(glue.performance);\r\n        }\r\n        if (glue.agm) {\r\n            var deprecatedDecorator = function (fn, wrong, proper) {\r\n                return function () {\r\n                    glue.logger.warn(\"glue.js - 'glue.agm.\" + wrong + \"' method is deprecated, use 'glue.interop.\" + proper + \"' instead.\");\r\n                    fn.apply(glue.agm, arguments);\r\n                };\r\n            };\r\n            var agmAny = glue.agm;\r\n            agmAny.method_added = deprecatedDecorator(glue.agm.methodAdded, \"method_added\", \"methodAdded\");\r\n            agmAny.method_removed = deprecatedDecorator(glue.agm.methodRemoved, \"method_removed\", \"methodRemoved\");\r\n            agmAny.server_added = deprecatedDecorator(glue.agm.serverAdded, \"server_added\", \"serverAdded\");\r\n            agmAny.server_method_aded = deprecatedDecorator(glue.agm.serverMethodAdded, \"server_method_aded\", \"serverMethodAdded\");\r\n            agmAny.server_method_removed = deprecatedDecorator(glue.agm.serverMethodRemoved, \"server_method_removed\", \"serverMethodRemoved\");\r\n        }\r\n        return glue;\r\n    }\r\n    return preloadPromise\r\n        .then(setupLogger)\r\n        .then(setupConnection)\r\n        .then(function () { return Promise.all([setupMetrics(), setupInterop(), setupContexts(), setupBus()]); })\r\n        .then(function () { return _interop.readyPromise; })\r\n        .then(function () {\r\n        return setupExternalLibs(internalConfig.libs || []);\r\n    })\r\n        .then(waitForLibs)\r\n        .then(constructGlueObject)\r\n        .catch(function (err) {\r\n        return Promise.reject({\r\n            err: err,\r\n            libs: libs\r\n        });\r\n    });\r\n};\r\nif (typeof window !== \"undefined\") {\r\n    window.GlueCore = GlueCore;\r\n}\r\nGlueCore.version = version;\r\nGlueCore.default = GlueCore;\n\nexport default GlueCore;\n//# sourceMappingURL=core.es.js.map\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\n/* eslint-disable @typescript-eslint/no-unused-vars */\r\n/* tslint:disable:no-console no-empty */\r\nimport { GlueCoreFactoryFunction } from \"@glue42/core\";\r\nimport { Glue42 } from \"@glue42/desktop\";\r\nimport { Glue42Web, GlueWebFactoryFunction } from \"../web\";\r\nimport { parseConfig } from \"./config\";\r\nimport { enterprise } from \"./enterprise\";\r\nimport { IoC } from \"./shared/ioc\";\r\nimport { PromiseWrap } from \"./shared/promise-plus\";\r\n\r\n/** This function creates the factory function which is the default export of the library */\r\nexport const createFactoryFunction = (coreFactoryFunction: GlueCoreFactoryFunction): GlueWebFactoryFunction => {\r\n\r\n    return async (userConfig?: Glue42Web.Config): Promise<Glue42Web.API | Glue42.Glue> => {\r\n\r\n        const config = parseConfig(userConfig);\r\n\r\n        if (window.glue42gd) {\r\n            return enterprise(config);\r\n        }\r\n\r\n        const glue = await PromiseWrap<Glue42Web.API>(() => coreFactoryFunction(config) as Promise<Glue42Web.API>, 30000, \"Glue Web initialization timed out\");\r\n\r\n        const logger = glue.logger.subLogger(\"web.main.controller\");\r\n\r\n        const ioc = new IoC(glue);\r\n\r\n        await ioc.bridge.start(ioc.controllers);\r\n        \r\n        logger.trace(\"the bridge has been started, initializing all controllers\");\r\n\r\n        await Promise.all(Object.values(ioc.controllers).map((controller) => controller.start(glue, ioc)));\r\n\r\n        logger.trace(\"all controllers reported started, starting all additional libraries\");\r\n\r\n        await Promise.all(config.libraries.map((lib: any) => lib(glue, config)));\r\n\r\n        logger.trace(\"all libraries were started, glue is ready, returning it\");\r\n\r\n        return glue;\r\n    };\r\n};\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\n/* eslint-disable @typescript-eslint/no-unused-vars */\r\nimport { Glue42 } from \"@glue42/desktop\";\r\n\r\nexport const enterprise = (config: any): Glue42.Glue => {\r\n    return {} as Glue42.Glue;\r\n};","/** @license React v17.0.1\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';require(\"object-assign\");var f=require(\"react\"),g=60103;exports.Fragment=60107;if(\"function\"===typeof Symbol&&Symbol.for){var h=Symbol.for;g=h(\"react.element\");exports.Fragment=h(\"react.fragment\")}var m=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n=Object.prototype.hasOwnProperty,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,k){var b,d={},e=null,l=null;void 0!==k&&(e=\"\"+k);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(l=a.ref);for(b in a)n.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:g,type:c,key:e,ref:l,props:d,_owner:m.current}}exports.jsx=q;exports.jsxs=q;\n","/** @license React v17.0.1\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var l=require(\"object-assign\"),n=60103,p=60106;exports.Fragment=60107;exports.StrictMode=60108;exports.Profiler=60114;var q=60109,r=60110,t=60112;exports.Suspense=60113;var u=60115,v=60116;\nif(\"function\"===typeof Symbol&&Symbol.for){var w=Symbol.for;n=w(\"react.element\");p=w(\"react.portal\");exports.Fragment=w(\"react.fragment\");exports.StrictMode=w(\"react.strict_mode\");exports.Profiler=w(\"react.profiler\");q=w(\"react.provider\");r=w(\"react.context\");t=w(\"react.forward_ref\");exports.Suspense=w(\"react.suspense\");u=w(\"react.memo\");v=w(\"react.lazy\")}var x=\"function\"===typeof Symbol&&Symbol.iterator;\nfunction y(a){if(null===a||\"object\"!==typeof a)return null;a=x&&a[x]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}function z(a){for(var b=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,c=1;c<arguments.length;c++)b+=\"&args[]=\"+encodeURIComponent(arguments[c]);return\"Minified React error #\"+a+\"; visit \"+b+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}\nvar A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B={};function C(a,b,c){this.props=a;this.context=b;this.refs=B;this.updater=c||A}C.prototype.isReactComponent={};C.prototype.setState=function(a,b){if(\"object\"!==typeof a&&\"function\"!==typeof a&&null!=a)throw Error(z(85));this.updater.enqueueSetState(this,a,b,\"setState\")};C.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,\"forceUpdate\")};\nfunction D(){}D.prototype=C.prototype;function E(a,b,c){this.props=a;this.context=b;this.refs=B;this.updater=c||A}var F=E.prototype=new D;F.constructor=E;l(F,C.prototype);F.isPureReactComponent=!0;var G={current:null},H=Object.prototype.hasOwnProperty,I={key:!0,ref:!0,__self:!0,__source:!0};\nfunction J(a,b,c){var e,d={},k=null,h=null;if(null!=b)for(e in void 0!==b.ref&&(h=b.ref),void 0!==b.key&&(k=\"\"+b.key),b)H.call(b,e)&&!I.hasOwnProperty(e)&&(d[e]=b[e]);var g=arguments.length-2;if(1===g)d.children=c;else if(1<g){for(var f=Array(g),m=0;m<g;m++)f[m]=arguments[m+2];d.children=f}if(a&&a.defaultProps)for(e in g=a.defaultProps,g)void 0===d[e]&&(d[e]=g[e]);return{$$typeof:n,type:a,key:k,ref:h,props:d,_owner:G.current}}\nfunction K(a,b){return{$$typeof:n,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}function L(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===n}function escape(a){var b={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+a.replace(/[=:]/g,function(a){return b[a]})}var M=/\\/+/g;function N(a,b){return\"object\"===typeof a&&null!==a&&null!=a.key?escape(\"\"+a.key):b.toString(36)}\nfunction O(a,b,c,e,d){var k=typeof a;if(\"undefined\"===k||\"boolean\"===k)a=null;var h=!1;if(null===a)h=!0;else switch(k){case \"string\":case \"number\":h=!0;break;case \"object\":switch(a.$$typeof){case n:case p:h=!0}}if(h)return h=a,d=d(h),a=\"\"===e?\".\"+N(h,0):e,Array.isArray(d)?(c=\"\",null!=a&&(c=a.replace(M,\"$&/\")+\"/\"),O(d,b,c,\"\",function(a){return a})):null!=d&&(L(d)&&(d=K(d,c+(!d.key||h&&h.key===d.key?\"\":(\"\"+d.key).replace(M,\"$&/\")+\"/\")+a)),b.push(d)),1;h=0;e=\"\"===e?\".\":e+\":\";if(Array.isArray(a))for(var g=\n0;g<a.length;g++){k=a[g];var f=e+N(k,g);h+=O(k,b,c,f,d)}else if(f=y(a),\"function\"===typeof f)for(a=f.call(a),g=0;!(k=a.next()).done;)k=k.value,f=e+N(k,g++),h+=O(k,b,c,f,d);else if(\"object\"===k)throw b=\"\"+a,Error(z(31,\"[object Object]\"===b?\"object with keys {\"+Object.keys(a).join(\", \")+\"}\":b));return h}function P(a,b,c){if(null==a)return a;var e=[],d=0;O(a,e,\"\",\"\",function(a){return b.call(c,a,d++)});return e}\nfunction Q(a){if(-1===a._status){var b=a._result;b=b();a._status=0;a._result=b;b.then(function(b){0===a._status&&(b=b.default,a._status=1,a._result=b)},function(b){0===a._status&&(a._status=2,a._result=b)})}if(1===a._status)return a._result;throw a._result;}var R={current:null};function S(){var a=R.current;if(null===a)throw Error(z(321));return a}var T={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:G,IsSomeRendererActing:{current:!1},assign:l};\nexports.Children={map:P,forEach:function(a,b,c){P(a,function(){b.apply(this,arguments)},c)},count:function(a){var b=0;P(a,function(){b++});return b},toArray:function(a){return P(a,function(a){return a})||[]},only:function(a){if(!L(a))throw Error(z(143));return a}};exports.Component=C;exports.PureComponent=E;exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T;\nexports.cloneElement=function(a,b,c){if(null===a||void 0===a)throw Error(z(267,a));var e=l({},a.props),d=a.key,k=a.ref,h=a._owner;if(null!=b){void 0!==b.ref&&(k=b.ref,h=G.current);void 0!==b.key&&(d=\"\"+b.key);if(a.type&&a.type.defaultProps)var g=a.type.defaultProps;for(f in b)H.call(b,f)&&!I.hasOwnProperty(f)&&(e[f]=void 0===b[f]&&void 0!==g?g[f]:b[f])}var f=arguments.length-2;if(1===f)e.children=c;else if(1<f){g=Array(f);for(var m=0;m<f;m++)g[m]=arguments[m+2];e.children=g}return{$$typeof:n,type:a.type,\nkey:d,ref:k,props:e,_owner:h}};exports.createContext=function(a,b){void 0===b&&(b=null);a={$$typeof:r,_calculateChangedBits:b,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null};a.Provider={$$typeof:q,_context:a};return a.Consumer=a};exports.createElement=J;exports.createFactory=function(a){var b=J.bind(null,a);b.type=a;return b};exports.createRef=function(){return{current:null}};exports.forwardRef=function(a){return{$$typeof:t,render:a}};exports.isValidElement=L;\nexports.lazy=function(a){return{$$typeof:v,_payload:{_status:-1,_result:a},_init:Q}};exports.memo=function(a,b){return{$$typeof:u,type:a,compare:void 0===b?null:b}};exports.useCallback=function(a,b){return S().useCallback(a,b)};exports.useContext=function(a,b){return S().useContext(a,b)};exports.useDebugValue=function(){};exports.useEffect=function(a,b){return S().useEffect(a,b)};exports.useImperativeHandle=function(a,b,c){return S().useImperativeHandle(a,b,c)};\nexports.useLayoutEffect=function(a,b){return S().useLayoutEffect(a,b)};exports.useMemo=function(a,b){return S().useMemo(a,b)};exports.useReducer=function(a,b,c){return S().useReducer(a,b,c)};exports.useRef=function(a){return S().useRef(a)};exports.useState=function(a){return S().useState(a)};exports.version=\"17.0.1\";\n","/** @license React v17.0.1\n * react-dom.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n/*\n Modernizr 3.0.0pre (Custom Build) | MIT\n*/\n'use strict';var aa=require(\"react\"),m=require(\"object-assign\"),r=require(\"scheduler\");function y(a){for(var b=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,c=1;c<arguments.length;c++)b+=\"&args[]=\"+encodeURIComponent(arguments[c]);return\"Minified React error #\"+a+\"; visit \"+b+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}if(!aa)throw Error(y(227));var ba=new Set,ca={};function da(a,b){ea(a,b);ea(a+\"Capture\",b)}\nfunction ea(a,b){ca[a]=b;for(a=0;a<b.length;a++)ba.add(b[a])}\nvar fa=!(\"undefined\"===typeof window||\"undefined\"===typeof window.document||\"undefined\"===typeof window.document.createElement),ha=/^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$/,ia=Object.prototype.hasOwnProperty,\nja={},ka={};function la(a){if(ia.call(ka,a))return!0;if(ia.call(ja,a))return!1;if(ha.test(a))return ka[a]=!0;ja[a]=!0;return!1}function ma(a,b,c,d){if(null!==c&&0===c.type)return!1;switch(typeof b){case \"function\":case \"symbol\":return!0;case \"boolean\":if(d)return!1;if(null!==c)return!c.acceptsBooleans;a=a.toLowerCase().slice(0,5);return\"data-\"!==a&&\"aria-\"!==a;default:return!1}}\nfunction na(a,b,c,d){if(null===b||\"undefined\"===typeof b||ma(a,b,c,d))return!0;if(d)return!1;if(null!==c)switch(c.type){case 3:return!b;case 4:return!1===b;case 5:return isNaN(b);case 6:return isNaN(b)||1>b}return!1}function B(a,b,c,d,e,f,g){this.acceptsBooleans=2===b||3===b||4===b;this.attributeName=d;this.attributeNamespace=e;this.mustUseProperty=c;this.propertyName=a;this.type=b;this.sanitizeURL=f;this.removeEmptyString=g}var D={};\n\"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style\".split(\" \").forEach(function(a){D[a]=new B(a,0,!1,a,null,!1,!1)});[[\"acceptCharset\",\"accept-charset\"],[\"className\",\"class\"],[\"htmlFor\",\"for\"],[\"httpEquiv\",\"http-equiv\"]].forEach(function(a){var b=a[0];D[b]=new B(b,1,!1,a[1],null,!1,!1)});[\"contentEditable\",\"draggable\",\"spellCheck\",\"value\"].forEach(function(a){D[a]=new B(a,2,!1,a.toLowerCase(),null,!1,!1)});\n[\"autoReverse\",\"externalResourcesRequired\",\"focusable\",\"preserveAlpha\"].forEach(function(a){D[a]=new B(a,2,!1,a,null,!1,!1)});\"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope\".split(\" \").forEach(function(a){D[a]=new B(a,3,!1,a.toLowerCase(),null,!1,!1)});\n[\"checked\",\"multiple\",\"muted\",\"selected\"].forEach(function(a){D[a]=new B(a,3,!0,a,null,!1,!1)});[\"capture\",\"download\"].forEach(function(a){D[a]=new B(a,4,!1,a,null,!1,!1)});[\"cols\",\"rows\",\"size\",\"span\"].forEach(function(a){D[a]=new B(a,6,!1,a,null,!1,!1)});[\"rowSpan\",\"start\"].forEach(function(a){D[a]=new B(a,5,!1,a.toLowerCase(),null,!1,!1)});var oa=/[\\-:]([a-z])/g;function pa(a){return a[1].toUpperCase()}\n\"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height\".split(\" \").forEach(function(a){var b=a.replace(oa,\npa);D[b]=new B(b,1,!1,a,null,!1,!1)});\"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type\".split(\" \").forEach(function(a){var b=a.replace(oa,pa);D[b]=new B(b,1,!1,a,\"http://www.w3.org/1999/xlink\",!1,!1)});[\"xml:base\",\"xml:lang\",\"xml:space\"].forEach(function(a){var b=a.replace(oa,pa);D[b]=new B(b,1,!1,a,\"http://www.w3.org/XML/1998/namespace\",!1,!1)});[\"tabIndex\",\"crossOrigin\"].forEach(function(a){D[a]=new B(a,1,!1,a.toLowerCase(),null,!1,!1)});\nD.xlinkHref=new B(\"xlinkHref\",1,!1,\"xlink:href\",\"http://www.w3.org/1999/xlink\",!0,!1);[\"src\",\"href\",\"action\",\"formAction\"].forEach(function(a){D[a]=new B(a,1,!1,a.toLowerCase(),null,!0,!0)});\nfunction qa(a,b,c,d){var e=D.hasOwnProperty(b)?D[b]:null;var f=null!==e?0===e.type:d?!1:!(2<b.length)||\"o\"!==b[0]&&\"O\"!==b[0]||\"n\"!==b[1]&&\"N\"!==b[1]?!1:!0;f||(na(b,c,e,d)&&(c=null),d||null===e?la(b)&&(null===c?a.removeAttribute(b):a.setAttribute(b,\"\"+c)):e.mustUseProperty?a[e.propertyName]=null===c?3===e.type?!1:\"\":c:(b=e.attributeName,d=e.attributeNamespace,null===c?a.removeAttribute(b):(e=e.type,c=3===e||4===e&&!0===c?\"\":\"\"+c,d?a.setAttributeNS(d,b,c):a.setAttribute(b,c))))}\nvar ra=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sa=60103,ta=60106,ua=60107,wa=60108,xa=60114,ya=60109,za=60110,Aa=60112,Ba=60113,Ca=60120,Da=60115,Ea=60116,Fa=60121,Ga=60128,Ha=60129,Ia=60130,Ja=60131;\nif(\"function\"===typeof Symbol&&Symbol.for){var E=Symbol.for;sa=E(\"react.element\");ta=E(\"react.portal\");ua=E(\"react.fragment\");wa=E(\"react.strict_mode\");xa=E(\"react.profiler\");ya=E(\"react.provider\");za=E(\"react.context\");Aa=E(\"react.forward_ref\");Ba=E(\"react.suspense\");Ca=E(\"react.suspense_list\");Da=E(\"react.memo\");Ea=E(\"react.lazy\");Fa=E(\"react.block\");E(\"react.scope\");Ga=E(\"react.opaque.id\");Ha=E(\"react.debug_trace_mode\");Ia=E(\"react.offscreen\");Ja=E(\"react.legacy_hidden\")}\nvar Ka=\"function\"===typeof Symbol&&Symbol.iterator;function La(a){if(null===a||\"object\"!==typeof a)return null;a=Ka&&a[Ka]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}var Ma;function Na(a){if(void 0===Ma)try{throw Error();}catch(c){var b=c.stack.trim().match(/\\n( *(at )?)/);Ma=b&&b[1]||\"\"}return\"\\n\"+Ma+a}var Oa=!1;\nfunction Pa(a,b){if(!a||Oa)return\"\";Oa=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(b)if(b=function(){throw Error();},Object.defineProperty(b.prototype,\"props\",{set:function(){throw Error();}}),\"object\"===typeof Reflect&&Reflect.construct){try{Reflect.construct(b,[])}catch(k){var d=k}Reflect.construct(a,[],b)}else{try{b.call()}catch(k){d=k}a.call(b.prototype)}else{try{throw Error();}catch(k){d=k}a()}}catch(k){if(k&&d&&\"string\"===typeof k.stack){for(var e=k.stack.split(\"\\n\"),\nf=d.stack.split(\"\\n\"),g=e.length-1,h=f.length-1;1<=g&&0<=h&&e[g]!==f[h];)h--;for(;1<=g&&0<=h;g--,h--)if(e[g]!==f[h]){if(1!==g||1!==h){do if(g--,h--,0>h||e[g]!==f[h])return\"\\n\"+e[g].replace(\" at new \",\" at \");while(1<=g&&0<=h)}break}}}finally{Oa=!1,Error.prepareStackTrace=c}return(a=a?a.displayName||a.name:\"\")?Na(a):\"\"}\nfunction Qa(a){switch(a.tag){case 5:return Na(a.type);case 16:return Na(\"Lazy\");case 13:return Na(\"Suspense\");case 19:return Na(\"SuspenseList\");case 0:case 2:case 15:return a=Pa(a.type,!1),a;case 11:return a=Pa(a.type.render,!1),a;case 22:return a=Pa(a.type._render,!1),a;case 1:return a=Pa(a.type,!0),a;default:return\"\"}}\nfunction Ra(a){if(null==a)return null;if(\"function\"===typeof a)return a.displayName||a.name||null;if(\"string\"===typeof a)return a;switch(a){case ua:return\"Fragment\";case ta:return\"Portal\";case xa:return\"Profiler\";case wa:return\"StrictMode\";case Ba:return\"Suspense\";case Ca:return\"SuspenseList\"}if(\"object\"===typeof a)switch(a.$$typeof){case za:return(a.displayName||\"Context\")+\".Consumer\";case ya:return(a._context.displayName||\"Context\")+\".Provider\";case Aa:var b=a.render;b=b.displayName||b.name||\"\";\nreturn a.displayName||(\"\"!==b?\"ForwardRef(\"+b+\")\":\"ForwardRef\");case Da:return Ra(a.type);case Fa:return Ra(a._render);case Ea:b=a._payload;a=a._init;try{return Ra(a(b))}catch(c){}}return null}function Sa(a){switch(typeof a){case \"boolean\":case \"number\":case \"object\":case \"string\":case \"undefined\":return a;default:return\"\"}}function Ta(a){var b=a.type;return(a=a.nodeName)&&\"input\"===a.toLowerCase()&&(\"checkbox\"===b||\"radio\"===b)}\nfunction Ua(a){var b=Ta(a)?\"checked\":\"value\",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,b),d=\"\"+a[b];if(!a.hasOwnProperty(b)&&\"undefined\"!==typeof c&&\"function\"===typeof c.get&&\"function\"===typeof c.set){var e=c.get,f=c.set;Object.defineProperty(a,b,{configurable:!0,get:function(){return e.call(this)},set:function(a){d=\"\"+a;f.call(this,a)}});Object.defineProperty(a,b,{enumerable:c.enumerable});return{getValue:function(){return d},setValue:function(a){d=\"\"+a},stopTracking:function(){a._valueTracker=\nnull;delete a[b]}}}}function Va(a){a._valueTracker||(a._valueTracker=Ua(a))}function Wa(a){if(!a)return!1;var b=a._valueTracker;if(!b)return!0;var c=b.getValue();var d=\"\";a&&(d=Ta(a)?a.checked?\"true\":\"false\":a.value);a=d;return a!==c?(b.setValue(a),!0):!1}function Xa(a){a=a||(\"undefined\"!==typeof document?document:void 0);if(\"undefined\"===typeof a)return null;try{return a.activeElement||a.body}catch(b){return a.body}}\nfunction Ya(a,b){var c=b.checked;return m({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=c?c:a._wrapperState.initialChecked})}function Za(a,b){var c=null==b.defaultValue?\"\":b.defaultValue,d=null!=b.checked?b.checked:b.defaultChecked;c=Sa(null!=b.value?b.value:c);a._wrapperState={initialChecked:d,initialValue:c,controlled:\"checkbox\"===b.type||\"radio\"===b.type?null!=b.checked:null!=b.value}}function $a(a,b){b=b.checked;null!=b&&qa(a,\"checked\",b,!1)}\nfunction ab(a,b){$a(a,b);var c=Sa(b.value),d=b.type;if(null!=c)if(\"number\"===d){if(0===c&&\"\"===a.value||a.value!=c)a.value=\"\"+c}else a.value!==\"\"+c&&(a.value=\"\"+c);else if(\"submit\"===d||\"reset\"===d){a.removeAttribute(\"value\");return}b.hasOwnProperty(\"value\")?bb(a,b.type,c):b.hasOwnProperty(\"defaultValue\")&&bb(a,b.type,Sa(b.defaultValue));null==b.checked&&null!=b.defaultChecked&&(a.defaultChecked=!!b.defaultChecked)}\nfunction cb(a,b,c){if(b.hasOwnProperty(\"value\")||b.hasOwnProperty(\"defaultValue\")){var d=b.type;if(!(\"submit\"!==d&&\"reset\"!==d||void 0!==b.value&&null!==b.value))return;b=\"\"+a._wrapperState.initialValue;c||b===a.value||(a.value=b);a.defaultValue=b}c=a.name;\"\"!==c&&(a.name=\"\");a.defaultChecked=!!a._wrapperState.initialChecked;\"\"!==c&&(a.name=c)}\nfunction bb(a,b,c){if(\"number\"!==b||Xa(a.ownerDocument)!==a)null==c?a.defaultValue=\"\"+a._wrapperState.initialValue:a.defaultValue!==\"\"+c&&(a.defaultValue=\"\"+c)}function db(a){var b=\"\";aa.Children.forEach(a,function(a){null!=a&&(b+=a)});return b}function eb(a,b){a=m({children:void 0},b);if(b=db(b.children))a.children=b;return a}\nfunction fb(a,b,c,d){a=a.options;if(b){b={};for(var e=0;e<c.length;e++)b[\"$\"+c[e]]=!0;for(c=0;c<a.length;c++)e=b.hasOwnProperty(\"$\"+a[c].value),a[c].selected!==e&&(a[c].selected=e),e&&d&&(a[c].defaultSelected=!0)}else{c=\"\"+Sa(c);b=null;for(e=0;e<a.length;e++){if(a[e].value===c){a[e].selected=!0;d&&(a[e].defaultSelected=!0);return}null!==b||a[e].disabled||(b=a[e])}null!==b&&(b.selected=!0)}}\nfunction gb(a,b){if(null!=b.dangerouslySetInnerHTML)throw Error(y(91));return m({},b,{value:void 0,defaultValue:void 0,children:\"\"+a._wrapperState.initialValue})}function hb(a,b){var c=b.value;if(null==c){c=b.children;b=b.defaultValue;if(null!=c){if(null!=b)throw Error(y(92));if(Array.isArray(c)){if(!(1>=c.length))throw Error(y(93));c=c[0]}b=c}null==b&&(b=\"\");c=b}a._wrapperState={initialValue:Sa(c)}}\nfunction ib(a,b){var c=Sa(b.value),d=Sa(b.defaultValue);null!=c&&(c=\"\"+c,c!==a.value&&(a.value=c),null==b.defaultValue&&a.defaultValue!==c&&(a.defaultValue=c));null!=d&&(a.defaultValue=\"\"+d)}function jb(a){var b=a.textContent;b===a._wrapperState.initialValue&&\"\"!==b&&null!==b&&(a.value=b)}var kb={html:\"http://www.w3.org/1999/xhtml\",mathml:\"http://www.w3.org/1998/Math/MathML\",svg:\"http://www.w3.org/2000/svg\"};\nfunction lb(a){switch(a){case \"svg\":return\"http://www.w3.org/2000/svg\";case \"math\":return\"http://www.w3.org/1998/Math/MathML\";default:return\"http://www.w3.org/1999/xhtml\"}}function mb(a,b){return null==a||\"http://www.w3.org/1999/xhtml\"===a?lb(b):\"http://www.w3.org/2000/svg\"===a&&\"foreignObject\"===b?\"http://www.w3.org/1999/xhtml\":a}\nvar nb,ob=function(a){return\"undefined\"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(b,c,d,e){MSApp.execUnsafeLocalFunction(function(){return a(b,c,d,e)})}:a}(function(a,b){if(a.namespaceURI!==kb.svg||\"innerHTML\"in a)a.innerHTML=b;else{nb=nb||document.createElement(\"div\");nb.innerHTML=\"<svg>\"+b.valueOf().toString()+\"</svg>\";for(b=nb.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;b.firstChild;)a.appendChild(b.firstChild)}});\nfunction pb(a,b){if(b){var c=a.firstChild;if(c&&c===a.lastChild&&3===c.nodeType){c.nodeValue=b;return}}a.textContent=b}\nvar qb={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,\nfloodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rb=[\"Webkit\",\"ms\",\"Moz\",\"O\"];Object.keys(qb).forEach(function(a){rb.forEach(function(b){b=b+a.charAt(0).toUpperCase()+a.substring(1);qb[b]=qb[a]})});function sb(a,b,c){return null==b||\"boolean\"===typeof b||\"\"===b?\"\":c||\"number\"!==typeof b||0===b||qb.hasOwnProperty(a)&&qb[a]?(\"\"+b).trim():b+\"px\"}\nfunction tb(a,b){a=a.style;for(var c in b)if(b.hasOwnProperty(c)){var d=0===c.indexOf(\"--\"),e=sb(c,b[c],d);\"float\"===c&&(c=\"cssFloat\");d?a.setProperty(c,e):a[c]=e}}var ub=m({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});\nfunction vb(a,b){if(b){if(ub[a]&&(null!=b.children||null!=b.dangerouslySetInnerHTML))throw Error(y(137,a));if(null!=b.dangerouslySetInnerHTML){if(null!=b.children)throw Error(y(60));if(!(\"object\"===typeof b.dangerouslySetInnerHTML&&\"__html\"in b.dangerouslySetInnerHTML))throw Error(y(61));}if(null!=b.style&&\"object\"!==typeof b.style)throw Error(y(62));}}\nfunction wb(a,b){if(-1===a.indexOf(\"-\"))return\"string\"===typeof b.is;switch(a){case \"annotation-xml\":case \"color-profile\":case \"font-face\":case \"font-face-src\":case \"font-face-uri\":case \"font-face-format\":case \"font-face-name\":case \"missing-glyph\":return!1;default:return!0}}function xb(a){a=a.target||a.srcElement||window;a.correspondingUseElement&&(a=a.correspondingUseElement);return 3===a.nodeType?a.parentNode:a}var yb=null,zb=null,Ab=null;\nfunction Bb(a){if(a=Cb(a)){if(\"function\"!==typeof yb)throw Error(y(280));var b=a.stateNode;b&&(b=Db(b),yb(a.stateNode,a.type,b))}}function Eb(a){zb?Ab?Ab.push(a):Ab=[a]:zb=a}function Fb(){if(zb){var a=zb,b=Ab;Ab=zb=null;Bb(a);if(b)for(a=0;a<b.length;a++)Bb(b[a])}}function Gb(a,b){return a(b)}function Hb(a,b,c,d,e){return a(b,c,d,e)}function Ib(){}var Jb=Gb,Kb=!1,Lb=!1;function Mb(){if(null!==zb||null!==Ab)Ib(),Fb()}\nfunction Nb(a,b,c){if(Lb)return a(b,c);Lb=!0;try{return Jb(a,b,c)}finally{Lb=!1,Mb()}}\nfunction Ob(a,b){var c=a.stateNode;if(null===c)return null;var d=Db(c);if(null===d)return null;c=d[b];a:switch(b){case \"onClick\":case \"onClickCapture\":case \"onDoubleClick\":case \"onDoubleClickCapture\":case \"onMouseDown\":case \"onMouseDownCapture\":case \"onMouseMove\":case \"onMouseMoveCapture\":case \"onMouseUp\":case \"onMouseUpCapture\":case \"onMouseEnter\":(d=!d.disabled)||(a=a.type,d=!(\"button\"===a||\"input\"===a||\"select\"===a||\"textarea\"===a));a=!d;break a;default:a=!1}if(a)return null;if(c&&\"function\"!==\ntypeof c)throw Error(y(231,b,typeof c));return c}var Pb=!1;if(fa)try{var Qb={};Object.defineProperty(Qb,\"passive\",{get:function(){Pb=!0}});window.addEventListener(\"test\",Qb,Qb);window.removeEventListener(\"test\",Qb,Qb)}catch(a){Pb=!1}function Rb(a,b,c,d,e,f,g,h,k){var l=Array.prototype.slice.call(arguments,3);try{b.apply(c,l)}catch(n){this.onError(n)}}var Sb=!1,Tb=null,Ub=!1,Vb=null,Wb={onError:function(a){Sb=!0;Tb=a}};function Xb(a,b,c,d,e,f,g,h,k){Sb=!1;Tb=null;Rb.apply(Wb,arguments)}\nfunction Yb(a,b,c,d,e,f,g,h,k){Xb.apply(this,arguments);if(Sb){if(Sb){var l=Tb;Sb=!1;Tb=null}else throw Error(y(198));Ub||(Ub=!0,Vb=l)}}function Zb(a){var b=a,c=a;if(a.alternate)for(;b.return;)b=b.return;else{a=b;do b=a,0!==(b.flags&1026)&&(c=b.return),a=b.return;while(a)}return 3===b.tag?c:null}function $b(a){if(13===a.tag){var b=a.memoizedState;null===b&&(a=a.alternate,null!==a&&(b=a.memoizedState));if(null!==b)return b.dehydrated}return null}function ac(a){if(Zb(a)!==a)throw Error(y(188));}\nfunction bc(a){var b=a.alternate;if(!b){b=Zb(a);if(null===b)throw Error(y(188));return b!==a?null:a}for(var c=a,d=b;;){var e=c.return;if(null===e)break;var f=e.alternate;if(null===f){d=e.return;if(null!==d){c=d;continue}break}if(e.child===f.child){for(f=e.child;f;){if(f===c)return ac(e),a;if(f===d)return ac(e),b;f=f.sibling}throw Error(y(188));}if(c.return!==d.return)c=e,d=f;else{for(var g=!1,h=e.child;h;){if(h===c){g=!0;c=e;d=f;break}if(h===d){g=!0;d=e;c=f;break}h=h.sibling}if(!g){for(h=f.child;h;){if(h===\nc){g=!0;c=f;d=e;break}if(h===d){g=!0;d=f;c=e;break}h=h.sibling}if(!g)throw Error(y(189));}}if(c.alternate!==d)throw Error(y(190));}if(3!==c.tag)throw Error(y(188));return c.stateNode.current===c?a:b}function cc(a){a=bc(a);if(!a)return null;for(var b=a;;){if(5===b.tag||6===b.tag)return b;if(b.child)b.child.return=b,b=b.child;else{if(b===a)break;for(;!b.sibling;){if(!b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}}return null}\nfunction dc(a,b){for(var c=a.alternate;null!==b;){if(b===a||b===c)return!0;b=b.return}return!1}var ec,fc,gc,hc,ic=!1,jc=[],kc=null,lc=null,mc=null,nc=new Map,oc=new Map,pc=[],qc=\"mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit\".split(\" \");\nfunction rc(a,b,c,d,e){return{blockedOn:a,domEventName:b,eventSystemFlags:c|16,nativeEvent:e,targetContainers:[d]}}function sc(a,b){switch(a){case \"focusin\":case \"focusout\":kc=null;break;case \"dragenter\":case \"dragleave\":lc=null;break;case \"mouseover\":case \"mouseout\":mc=null;break;case \"pointerover\":case \"pointerout\":nc.delete(b.pointerId);break;case \"gotpointercapture\":case \"lostpointercapture\":oc.delete(b.pointerId)}}\nfunction tc(a,b,c,d,e,f){if(null===a||a.nativeEvent!==f)return a=rc(b,c,d,e,f),null!==b&&(b=Cb(b),null!==b&&fc(b)),a;a.eventSystemFlags|=d;b=a.targetContainers;null!==e&&-1===b.indexOf(e)&&b.push(e);return a}\nfunction uc(a,b,c,d,e){switch(b){case \"focusin\":return kc=tc(kc,a,b,c,d,e),!0;case \"dragenter\":return lc=tc(lc,a,b,c,d,e),!0;case \"mouseover\":return mc=tc(mc,a,b,c,d,e),!0;case \"pointerover\":var f=e.pointerId;nc.set(f,tc(nc.get(f)||null,a,b,c,d,e));return!0;case \"gotpointercapture\":return f=e.pointerId,oc.set(f,tc(oc.get(f)||null,a,b,c,d,e)),!0}return!1}\nfunction vc(a){var b=wc(a.target);if(null!==b){var c=Zb(b);if(null!==c)if(b=c.tag,13===b){if(b=$b(c),null!==b){a.blockedOn=b;hc(a.lanePriority,function(){r.unstable_runWithPriority(a.priority,function(){gc(c)})});return}}else if(3===b&&c.stateNode.hydrate){a.blockedOn=3===c.tag?c.stateNode.containerInfo:null;return}}a.blockedOn=null}\nfunction xc(a){if(null!==a.blockedOn)return!1;for(var b=a.targetContainers;0<b.length;){var c=yc(a.domEventName,a.eventSystemFlags,b[0],a.nativeEvent);if(null!==c)return b=Cb(c),null!==b&&fc(b),a.blockedOn=c,!1;b.shift()}return!0}function zc(a,b,c){xc(a)&&c.delete(b)}\nfunction Ac(){for(ic=!1;0<jc.length;){var a=jc[0];if(null!==a.blockedOn){a=Cb(a.blockedOn);null!==a&&ec(a);break}for(var b=a.targetContainers;0<b.length;){var c=yc(a.domEventName,a.eventSystemFlags,b[0],a.nativeEvent);if(null!==c){a.blockedOn=c;break}b.shift()}null===a.blockedOn&&jc.shift()}null!==kc&&xc(kc)&&(kc=null);null!==lc&&xc(lc)&&(lc=null);null!==mc&&xc(mc)&&(mc=null);nc.forEach(zc);oc.forEach(zc)}\nfunction Bc(a,b){a.blockedOn===b&&(a.blockedOn=null,ic||(ic=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ac)))}\nfunction Cc(a){function b(b){return Bc(b,a)}if(0<jc.length){Bc(jc[0],a);for(var c=1;c<jc.length;c++){var d=jc[c];d.blockedOn===a&&(d.blockedOn=null)}}null!==kc&&Bc(kc,a);null!==lc&&Bc(lc,a);null!==mc&&Bc(mc,a);nc.forEach(b);oc.forEach(b);for(c=0;c<pc.length;c++)d=pc[c],d.blockedOn===a&&(d.blockedOn=null);for(;0<pc.length&&(c=pc[0],null===c.blockedOn);)vc(c),null===c.blockedOn&&pc.shift()}\nfunction Dc(a,b){var c={};c[a.toLowerCase()]=b.toLowerCase();c[\"Webkit\"+a]=\"webkit\"+b;c[\"Moz\"+a]=\"moz\"+b;return c}var Ec={animationend:Dc(\"Animation\",\"AnimationEnd\"),animationiteration:Dc(\"Animation\",\"AnimationIteration\"),animationstart:Dc(\"Animation\",\"AnimationStart\"),transitionend:Dc(\"Transition\",\"TransitionEnd\")},Fc={},Gc={};\nfa&&(Gc=document.createElement(\"div\").style,\"AnimationEvent\"in window||(delete Ec.animationend.animation,delete Ec.animationiteration.animation,delete Ec.animationstart.animation),\"TransitionEvent\"in window||delete Ec.transitionend.transition);function Hc(a){if(Fc[a])return Fc[a];if(!Ec[a])return a;var b=Ec[a],c;for(c in b)if(b.hasOwnProperty(c)&&c in Gc)return Fc[a]=b[c];return a}\nvar Ic=Hc(\"animationend\"),Jc=Hc(\"animationiteration\"),Kc=Hc(\"animationstart\"),Lc=Hc(\"transitionend\"),Mc=new Map,Nc=new Map,Oc=[\"abort\",\"abort\",Ic,\"animationEnd\",Jc,\"animationIteration\",Kc,\"animationStart\",\"canplay\",\"canPlay\",\"canplaythrough\",\"canPlayThrough\",\"durationchange\",\"durationChange\",\"emptied\",\"emptied\",\"encrypted\",\"encrypted\",\"ended\",\"ended\",\"error\",\"error\",\"gotpointercapture\",\"gotPointerCapture\",\"load\",\"load\",\"loadeddata\",\"loadedData\",\"loadedmetadata\",\"loadedMetadata\",\"loadstart\",\"loadStart\",\n\"lostpointercapture\",\"lostPointerCapture\",\"playing\",\"playing\",\"progress\",\"progress\",\"seeking\",\"seeking\",\"stalled\",\"stalled\",\"suspend\",\"suspend\",\"timeupdate\",\"timeUpdate\",Lc,\"transitionEnd\",\"waiting\",\"waiting\"];function Pc(a,b){for(var c=0;c<a.length;c+=2){var d=a[c],e=a[c+1];e=\"on\"+(e[0].toUpperCase()+e.slice(1));Nc.set(d,b);Mc.set(d,e);da(e,[d])}}var Qc=r.unstable_now;Qc();var F=8;\nfunction Rc(a){if(0!==(1&a))return F=15,1;if(0!==(2&a))return F=14,2;if(0!==(4&a))return F=13,4;var b=24&a;if(0!==b)return F=12,b;if(0!==(a&32))return F=11,32;b=192&a;if(0!==b)return F=10,b;if(0!==(a&256))return F=9,256;b=3584&a;if(0!==b)return F=8,b;if(0!==(a&4096))return F=7,4096;b=4186112&a;if(0!==b)return F=6,b;b=62914560&a;if(0!==b)return F=5,b;if(a&67108864)return F=4,67108864;if(0!==(a&134217728))return F=3,134217728;b=805306368&a;if(0!==b)return F=2,b;if(0!==(1073741824&a))return F=1,1073741824;\nF=8;return a}function Sc(a){switch(a){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function Tc(a){switch(a){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(y(358,a));}}\nfunction Uc(a,b){var c=a.pendingLanes;if(0===c)return F=0;var d=0,e=0,f=a.expiredLanes,g=a.suspendedLanes,h=a.pingedLanes;if(0!==f)d=f,e=F=15;else if(f=c&134217727,0!==f){var k=f&~g;0!==k?(d=Rc(k),e=F):(h&=f,0!==h&&(d=Rc(h),e=F))}else f=c&~g,0!==f?(d=Rc(f),e=F):0!==h&&(d=Rc(h),e=F);if(0===d)return 0;d=31-Vc(d);d=c&((0>d?0:1<<d)<<1)-1;if(0!==b&&b!==d&&0===(b&g)){Rc(b);if(e<=F)return b;F=e}b=a.entangledLanes;if(0!==b)for(a=a.entanglements,b&=d;0<b;)c=31-Vc(b),e=1<<c,d|=a[c],b&=~e;return d}\nfunction Wc(a){a=a.pendingLanes&-1073741825;return 0!==a?a:a&1073741824?1073741824:0}function Xc(a,b){switch(a){case 15:return 1;case 14:return 2;case 12:return a=Yc(24&~b),0===a?Xc(10,b):a;case 10:return a=Yc(192&~b),0===a?Xc(8,b):a;case 8:return a=Yc(3584&~b),0===a&&(a=Yc(4186112&~b),0===a&&(a=512)),a;case 2:return b=Yc(805306368&~b),0===b&&(b=268435456),b}throw Error(y(358,a));}function Yc(a){return a&-a}function Zc(a){for(var b=[],c=0;31>c;c++)b.push(a);return b}\nfunction $c(a,b,c){a.pendingLanes|=b;var d=b-1;a.suspendedLanes&=d;a.pingedLanes&=d;a=a.eventTimes;b=31-Vc(b);a[b]=c}var Vc=Math.clz32?Math.clz32:ad,bd=Math.log,cd=Math.LN2;function ad(a){return 0===a?32:31-(bd(a)/cd|0)|0}var dd=r.unstable_UserBlockingPriority,ed=r.unstable_runWithPriority,fd=!0;function gd(a,b,c,d){Kb||Ib();var e=hd,f=Kb;Kb=!0;try{Hb(e,a,b,c,d)}finally{(Kb=f)||Mb()}}function id(a,b,c,d){ed(dd,hd.bind(null,a,b,c,d))}\nfunction hd(a,b,c,d){if(fd){var e;if((e=0===(b&4))&&0<jc.length&&-1<qc.indexOf(a))a=rc(null,a,b,c,d),jc.push(a);else{var f=yc(a,b,c,d);if(null===f)e&&sc(a,d);else{if(e){if(-1<qc.indexOf(a)){a=rc(f,a,b,c,d);jc.push(a);return}if(uc(f,a,b,c,d))return;sc(a,d)}jd(a,b,d,null,c)}}}}\nfunction yc(a,b,c,d){var e=xb(d);e=wc(e);if(null!==e){var f=Zb(e);if(null===f)e=null;else{var g=f.tag;if(13===g){e=$b(f);if(null!==e)return e;e=null}else if(3===g){if(f.stateNode.hydrate)return 3===f.tag?f.stateNode.containerInfo:null;e=null}else f!==e&&(e=null)}}jd(a,b,d,e,c);return null}var kd=null,ld=null,md=null;\nfunction nd(){if(md)return md;var a,b=ld,c=b.length,d,e=\"value\"in kd?kd.value:kd.textContent,f=e.length;for(a=0;a<c&&b[a]===e[a];a++);var g=c-a;for(d=1;d<=g&&b[c-d]===e[f-d];d++);return md=e.slice(a,1<d?1-d:void 0)}function od(a){var b=a.keyCode;\"charCode\"in a?(a=a.charCode,0===a&&13===b&&(a=13)):a=b;10===a&&(a=13);return 32<=a||13===a?a:0}function pd(){return!0}function qd(){return!1}\nfunction rd(a){function b(b,d,e,f,g){this._reactName=b;this._targetInst=e;this.type=d;this.nativeEvent=f;this.target=g;this.currentTarget=null;for(var c in a)a.hasOwnProperty(c)&&(b=a[c],this[c]=b?b(f):f[c]);this.isDefaultPrevented=(null!=f.defaultPrevented?f.defaultPrevented:!1===f.returnValue)?pd:qd;this.isPropagationStopped=qd;return this}m(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():\"unknown\"!==typeof a.returnValue&&\n(a.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():\"unknown\"!==typeof a.cancelBubble&&(a.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd});return b}\nvar sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=m({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=m({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(a){return void 0===a.relatedTarget?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){if(\"movementX\"in\na)return a.movementX;a!==yd&&(yd&&\"mousemove\"===a.type?(wd=a.screenX-yd.screenX,xd=a.screenY-yd.screenY):xd=wd=0,yd=a);return wd},movementY:function(a){return\"movementY\"in a?a.movementY:xd}}),Bd=rd(Ad),Cd=m({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=m({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=m({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=m({},sd,{clipboardData:function(a){return\"clipboardData\"in a?a.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=m({},sd,{data:0}),Ld=rd(Kd),Md={Esc:\"Escape\",\nSpacebar:\" \",Left:\"ArrowLeft\",Up:\"ArrowUp\",Right:\"ArrowRight\",Down:\"ArrowDown\",Del:\"Delete\",Win:\"OS\",Menu:\"ContextMenu\",Apps:\"ContextMenu\",Scroll:\"ScrollLock\",MozPrintableKey:\"Unidentified\"},Nd={8:\"Backspace\",9:\"Tab\",12:\"Clear\",13:\"Enter\",16:\"Shift\",17:\"Control\",18:\"Alt\",19:\"Pause\",20:\"CapsLock\",27:\"Escape\",32:\" \",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"ArrowLeft\",38:\"ArrowUp\",39:\"ArrowRight\",40:\"ArrowDown\",45:\"Insert\",46:\"Delete\",112:\"F1\",113:\"F2\",114:\"F3\",115:\"F4\",116:\"F5\",117:\"F6\",118:\"F7\",\n119:\"F8\",120:\"F9\",121:\"F10\",122:\"F11\",123:\"F12\",144:\"NumLock\",145:\"ScrollLock\",224:\"Meta\"},Od={Alt:\"altKey\",Control:\"ctrlKey\",Meta:\"metaKey\",Shift:\"shiftKey\"};function Pd(a){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(a):(a=Od[a])?!!b[a]:!1}function zd(){return Pd}\nvar Qd=m({},ud,{key:function(a){if(a.key){var b=Md[a.key]||a.key;if(\"Unidentified\"!==b)return b}return\"keypress\"===a.type?(a=od(a),13===a?\"Enter\":String.fromCharCode(a)):\"keydown\"===a.type||\"keyup\"===a.type?Nd[a.keyCode]||\"Unidentified\":\"\"},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(a){return\"keypress\"===a.type?od(a):0},keyCode:function(a){return\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0},which:function(a){return\"keypress\"===\na.type?od(a):\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0}}),Rd=rd(Qd),Sd=m({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=m({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=m({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=m({},Ad,{deltaX:function(a){return\"deltaX\"in a?a.deltaX:\"wheelDeltaX\"in a?-a.wheelDeltaX:0},\ndeltaY:function(a){return\"deltaY\"in a?a.deltaY:\"wheelDeltaY\"in a?-a.wheelDeltaY:\"wheelDelta\"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=fa&&\"CompositionEvent\"in window,be=null;fa&&\"documentMode\"in document&&(be=document.documentMode);var ce=fa&&\"TextEvent\"in window&&!be,de=fa&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;\nfunction ge(a,b){switch(a){case \"keyup\":return-1!==$d.indexOf(b.keyCode);case \"keydown\":return 229!==b.keyCode;case \"keypress\":case \"mousedown\":case \"focusout\":return!0;default:return!1}}function he(a){a=a.detail;return\"object\"===typeof a&&\"data\"in a?a.data:null}var ie=!1;function je(a,b){switch(a){case \"compositionend\":return he(b);case \"keypress\":if(32!==b.which)return null;fe=!0;return ee;case \"textInput\":return a=b.data,a===ee&&fe?null:a;default:return null}}\nfunction ke(a,b){if(ie)return\"compositionend\"===a||!ae&&ge(a,b)?(a=nd(),md=ld=kd=null,ie=!1,a):null;switch(a){case \"paste\":return null;case \"keypress\":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case \"compositionend\":return de&&\"ko\"!==b.locale?null:b.data;default:return null}}\nvar le={color:!0,date:!0,datetime:!0,\"datetime-local\":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return\"input\"===b?!!le[a.type]:\"textarea\"===b?!0:!1}function ne(a,b,c,d){Eb(d);b=oe(b,\"onChange\");0<b.length&&(c=new td(\"onChange\",\"change\",null,c,d),a.push({event:c,listeners:b}))}var pe=null,qe=null;function re(a){se(a,0)}function te(a){var b=ue(a);if(Wa(b))return a}\nfunction ve(a,b){if(\"change\"===a)return b}var we=!1;if(fa){var xe;if(fa){var ye=\"oninput\"in document;if(!ye){var ze=document.createElement(\"div\");ze.setAttribute(\"oninput\",\"return;\");ye=\"function\"===typeof ze.oninput}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent(\"onpropertychange\",Be),qe=pe=null)}function Be(a){if(\"value\"===a.propertyName&&te(qe)){var b=[];ne(b,qe,a,xb(a));a=re;if(Kb)a(b);else{Kb=!0;try{Gb(a,b)}finally{Kb=!1,Mb()}}}}\nfunction Ce(a,b,c){\"focusin\"===a?(Ae(),pe=b,qe=c,pe.attachEvent(\"onpropertychange\",Be)):\"focusout\"===a&&Ae()}function De(a){if(\"selectionchange\"===a||\"keyup\"===a||\"keydown\"===a)return te(qe)}function Ee(a,b){if(\"click\"===a)return te(b)}function Fe(a,b){if(\"input\"===a||\"change\"===a)return te(b)}function Ge(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var He=\"function\"===typeof Object.is?Object.is:Ge,Ie=Object.prototype.hasOwnProperty;\nfunction Je(a,b){if(He(a,b))return!0;if(\"object\"!==typeof a||null===a||\"object\"!==typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++)if(!Ie.call(b,c[d])||!He(a[c[d]],b[c[d]]))return!1;return!0}function Ke(a){for(;a&&a.firstChild;)a=a.firstChild;return a}\nfunction Le(a,b){var c=Ke(a);a=0;for(var d;c;){if(3===c.nodeType){d=a+c.textContent.length;if(a<=b&&d>=b)return{node:c,offset:b-a};a=d}a:{for(;c;){if(c.nextSibling){c=c.nextSibling;break a}c=c.parentNode}c=void 0}c=Ke(c)}}function Me(a,b){return a&&b?a===b?!0:a&&3===a.nodeType?!1:b&&3===b.nodeType?Me(a,b.parentNode):\"contains\"in a?a.contains(b):a.compareDocumentPosition?!!(a.compareDocumentPosition(b)&16):!1:!1}\nfunction Ne(){for(var a=window,b=Xa();b instanceof a.HTMLIFrameElement;){try{var c=\"string\"===typeof b.contentWindow.location.href}catch(d){c=!1}if(c)a=b.contentWindow;else break;b=Xa(a.document)}return b}function Oe(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&(\"input\"===b&&(\"text\"===a.type||\"search\"===a.type||\"tel\"===a.type||\"url\"===a.type||\"password\"===a.type)||\"textarea\"===b||\"true\"===a.contentEditable)}\nvar Pe=fa&&\"documentMode\"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;\nfunction Ue(a,b,c){var d=c.window===c?c.document:9===c.nodeType?c:c.ownerDocument;Te||null==Qe||Qe!==Xa(d)||(d=Qe,\"selectionStart\"in d&&Oe(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Se&&Je(Se,d)||(Se=d,d=oe(Re,\"onSelect\"),0<d.length&&(b=new td(\"onSelect\",\"select\",null,b,c),a.push({event:b,listeners:d}),b.target=Qe)))}\nPc(\"cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange\".split(\" \"),\n0);Pc(\"drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel\".split(\" \"),1);Pc(Oc,2);for(var Ve=\"change selectionchange textInput compositionstart compositionend compositionupdate\".split(\" \"),We=0;We<Ve.length;We++)Nc.set(Ve[We],0);ea(\"onMouseEnter\",[\"mouseout\",\"mouseover\"]);\nea(\"onMouseLeave\",[\"mouseout\",\"mouseover\"]);ea(\"onPointerEnter\",[\"pointerout\",\"pointerover\"]);ea(\"onPointerLeave\",[\"pointerout\",\"pointerover\"]);da(\"onChange\",\"change click focusin focusout input keydown keyup selectionchange\".split(\" \"));da(\"onSelect\",\"focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange\".split(\" \"));da(\"onBeforeInput\",[\"compositionend\",\"keypress\",\"textInput\",\"paste\"]);da(\"onCompositionEnd\",\"compositionend focusout keydown keypress keyup mousedown\".split(\" \"));\nda(\"onCompositionStart\",\"compositionstart focusout keydown keypress keyup mousedown\".split(\" \"));da(\"onCompositionUpdate\",\"compositionupdate focusout keydown keypress keyup mousedown\".split(\" \"));var Xe=\"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting\".split(\" \"),Ye=new Set(\"cancel close invalid load scroll toggle\".split(\" \").concat(Xe));\nfunction Ze(a,b,c){var d=a.type||\"unknown-event\";a.currentTarget=c;Yb(d,b,void 0,a);a.currentTarget=null}\nfunction se(a,b){b=0!==(b&4);for(var c=0;c<a.length;c++){var d=a[c],e=d.event;d=d.listeners;a:{var f=void 0;if(b)for(var g=d.length-1;0<=g;g--){var h=d[g],k=h.instance,l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;Ze(e,h,l);f=k}else for(g=0;g<d.length;g++){h=d[g];k=h.instance;l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;Ze(e,h,l);f=k}}}if(Ub)throw a=Vb,Ub=!1,Vb=null,a;}\nfunction G(a,b){var c=$e(b),d=a+\"__bubble\";c.has(d)||(af(b,a,2,!1),c.add(d))}var bf=\"_reactListening\"+Math.random().toString(36).slice(2);function cf(a){a[bf]||(a[bf]=!0,ba.forEach(function(b){Ye.has(b)||df(b,!1,a,null);df(b,!0,a,null)}))}\nfunction df(a,b,c,d){var e=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,f=c;\"selectionchange\"===a&&9!==c.nodeType&&(f=c.ownerDocument);if(null!==d&&!b&&Ye.has(a)){if(\"scroll\"!==a)return;e|=2;f=d}var g=$e(f),h=a+\"__\"+(b?\"capture\":\"bubble\");g.has(h)||(b&&(e|=4),af(f,a,e,b),g.add(h))}\nfunction af(a,b,c,d){var e=Nc.get(b);switch(void 0===e?2:e){case 0:e=gd;break;case 1:e=id;break;default:e=hd}c=e.bind(null,b,c,a);e=void 0;!Pb||\"touchstart\"!==b&&\"touchmove\"!==b&&\"wheel\"!==b||(e=!0);d?void 0!==e?a.addEventListener(b,c,{capture:!0,passive:e}):a.addEventListener(b,c,!0):void 0!==e?a.addEventListener(b,c,{passive:e}):a.addEventListener(b,c,!1)}\nfunction jd(a,b,c,d,e){var f=d;if(0===(b&1)&&0===(b&2)&&null!==d)a:for(;;){if(null===d)return;var g=d.tag;if(3===g||4===g){var h=d.stateNode.containerInfo;if(h===e||8===h.nodeType&&h.parentNode===e)break;if(4===g)for(g=d.return;null!==g;){var k=g.tag;if(3===k||4===k)if(k=g.stateNode.containerInfo,k===e||8===k.nodeType&&k.parentNode===e)return;g=g.return}for(;null!==h;){g=wc(h);if(null===g)return;k=g.tag;if(5===k||6===k){d=f=g;continue a}h=h.parentNode}}d=d.return}Nb(function(){var d=f,e=xb(c),g=[];\na:{var h=Mc.get(a);if(void 0!==h){var k=td,x=a;switch(a){case \"keypress\":if(0===od(c))break a;case \"keydown\":case \"keyup\":k=Rd;break;case \"focusin\":x=\"focus\";k=Fd;break;case \"focusout\":x=\"blur\";k=Fd;break;case \"beforeblur\":case \"afterblur\":k=Fd;break;case \"click\":if(2===c.button)break a;case \"auxclick\":case \"dblclick\":case \"mousedown\":case \"mousemove\":case \"mouseup\":case \"mouseout\":case \"mouseover\":case \"contextmenu\":k=Bd;break;case \"drag\":case \"dragend\":case \"dragenter\":case \"dragexit\":case \"dragleave\":case \"dragover\":case \"dragstart\":case \"drop\":k=\nDd;break;case \"touchcancel\":case \"touchend\":case \"touchmove\":case \"touchstart\":k=Vd;break;case Ic:case Jc:case Kc:k=Hd;break;case Lc:k=Xd;break;case \"scroll\":k=vd;break;case \"wheel\":k=Zd;break;case \"copy\":case \"cut\":case \"paste\":k=Jd;break;case \"gotpointercapture\":case \"lostpointercapture\":case \"pointercancel\":case \"pointerdown\":case \"pointermove\":case \"pointerout\":case \"pointerover\":case \"pointerup\":k=Td}var w=0!==(b&4),z=!w&&\"scroll\"===a,u=w?null!==h?h+\"Capture\":null:h;w=[];for(var t=d,q;null!==\nt;){q=t;var v=q.stateNode;5===q.tag&&null!==v&&(q=v,null!==u&&(v=Ob(t,u),null!=v&&w.push(ef(t,v,q))));if(z)break;t=t.return}0<w.length&&(h=new k(h,x,null,c,e),g.push({event:h,listeners:w}))}}if(0===(b&7)){a:{h=\"mouseover\"===a||\"pointerover\"===a;k=\"mouseout\"===a||\"pointerout\"===a;if(h&&0===(b&16)&&(x=c.relatedTarget||c.fromElement)&&(wc(x)||x[ff]))break a;if(k||h){h=e.window===e?e:(h=e.ownerDocument)?h.defaultView||h.parentWindow:window;if(k){if(x=c.relatedTarget||c.toElement,k=d,x=x?wc(x):null,null!==\nx&&(z=Zb(x),x!==z||5!==x.tag&&6!==x.tag))x=null}else k=null,x=d;if(k!==x){w=Bd;v=\"onMouseLeave\";u=\"onMouseEnter\";t=\"mouse\";if(\"pointerout\"===a||\"pointerover\"===a)w=Td,v=\"onPointerLeave\",u=\"onPointerEnter\",t=\"pointer\";z=null==k?h:ue(k);q=null==x?h:ue(x);h=new w(v,t+\"leave\",k,c,e);h.target=z;h.relatedTarget=q;v=null;wc(e)===d&&(w=new w(u,t+\"enter\",x,c,e),w.target=q,w.relatedTarget=z,v=w);z=v;if(k&&x)b:{w=k;u=x;t=0;for(q=w;q;q=gf(q))t++;q=0;for(v=u;v;v=gf(v))q++;for(;0<t-q;)w=gf(w),t--;for(;0<q-t;)u=\ngf(u),q--;for(;t--;){if(w===u||null!==u&&w===u.alternate)break b;w=gf(w);u=gf(u)}w=null}else w=null;null!==k&&hf(g,h,k,w,!1);null!==x&&null!==z&&hf(g,z,x,w,!0)}}}a:{h=d?ue(d):window;k=h.nodeName&&h.nodeName.toLowerCase();if(\"select\"===k||\"input\"===k&&\"file\"===h.type)var J=ve;else if(me(h))if(we)J=Fe;else{J=De;var K=Ce}else(k=h.nodeName)&&\"input\"===k.toLowerCase()&&(\"checkbox\"===h.type||\"radio\"===h.type)&&(J=Ee);if(J&&(J=J(a,d))){ne(g,J,c,e);break a}K&&K(a,h,d);\"focusout\"===a&&(K=h._wrapperState)&&\nK.controlled&&\"number\"===h.type&&bb(h,\"number\",h.value)}K=d?ue(d):window;switch(a){case \"focusin\":if(me(K)||\"true\"===K.contentEditable)Qe=K,Re=d,Se=null;break;case \"focusout\":Se=Re=Qe=null;break;case \"mousedown\":Te=!0;break;case \"contextmenu\":case \"mouseup\":case \"dragend\":Te=!1;Ue(g,c,e);break;case \"selectionchange\":if(Pe)break;case \"keydown\":case \"keyup\":Ue(g,c,e)}var Q;if(ae)b:{switch(a){case \"compositionstart\":var L=\"onCompositionStart\";break b;case \"compositionend\":L=\"onCompositionEnd\";break b;\ncase \"compositionupdate\":L=\"onCompositionUpdate\";break b}L=void 0}else ie?ge(a,c)&&(L=\"onCompositionEnd\"):\"keydown\"===a&&229===c.keyCode&&(L=\"onCompositionStart\");L&&(de&&\"ko\"!==c.locale&&(ie||\"onCompositionStart\"!==L?\"onCompositionEnd\"===L&&ie&&(Q=nd()):(kd=e,ld=\"value\"in kd?kd.value:kd.textContent,ie=!0)),K=oe(d,L),0<K.length&&(L=new Ld(L,a,null,c,e),g.push({event:L,listeners:K}),Q?L.data=Q:(Q=he(c),null!==Q&&(L.data=Q))));if(Q=ce?je(a,c):ke(a,c))d=oe(d,\"onBeforeInput\"),0<d.length&&(e=new Ld(\"onBeforeInput\",\n\"beforeinput\",null,c,e),g.push({event:e,listeners:d}),e.data=Q)}se(g,b)})}function ef(a,b,c){return{instance:a,listener:b,currentTarget:c}}function oe(a,b){for(var c=b+\"Capture\",d=[];null!==a;){var e=a,f=e.stateNode;5===e.tag&&null!==f&&(e=f,f=Ob(a,c),null!=f&&d.unshift(ef(a,f,e)),f=Ob(a,b),null!=f&&d.push(ef(a,f,e)));a=a.return}return d}function gf(a){if(null===a)return null;do a=a.return;while(a&&5!==a.tag);return a?a:null}\nfunction hf(a,b,c,d,e){for(var f=b._reactName,g=[];null!==c&&c!==d;){var h=c,k=h.alternate,l=h.stateNode;if(null!==k&&k===d)break;5===h.tag&&null!==l&&(h=l,e?(k=Ob(c,f),null!=k&&g.unshift(ef(c,k,h))):e||(k=Ob(c,f),null!=k&&g.push(ef(c,k,h))));c=c.return}0!==g.length&&a.push({event:b,listeners:g})}function jf(){}var kf=null,lf=null;function mf(a,b){switch(a){case \"button\":case \"input\":case \"select\":case \"textarea\":return!!b.autoFocus}return!1}\nfunction nf(a,b){return\"textarea\"===a||\"option\"===a||\"noscript\"===a||\"string\"===typeof b.children||\"number\"===typeof b.children||\"object\"===typeof b.dangerouslySetInnerHTML&&null!==b.dangerouslySetInnerHTML&&null!=b.dangerouslySetInnerHTML.__html}var of=\"function\"===typeof setTimeout?setTimeout:void 0,pf=\"function\"===typeof clearTimeout?clearTimeout:void 0;function qf(a){1===a.nodeType?a.textContent=\"\":9===a.nodeType&&(a=a.body,null!=a&&(a.textContent=\"\"))}\nfunction rf(a){for(;null!=a;a=a.nextSibling){var b=a.nodeType;if(1===b||3===b)break}return a}function sf(a){a=a.previousSibling;for(var b=0;a;){if(8===a.nodeType){var c=a.data;if(\"$\"===c||\"$!\"===c||\"$?\"===c){if(0===b)return a;b--}else\"/$\"===c&&b++}a=a.previousSibling}return null}var tf=0;function uf(a){return{$$typeof:Ga,toString:a,valueOf:a}}var vf=Math.random().toString(36).slice(2),wf=\"__reactFiber$\"+vf,xf=\"__reactProps$\"+vf,ff=\"__reactContainer$\"+vf,yf=\"__reactEvents$\"+vf;\nfunction wc(a){var b=a[wf];if(b)return b;for(var c=a.parentNode;c;){if(b=c[ff]||c[wf]){c=b.alternate;if(null!==b.child||null!==c&&null!==c.child)for(a=sf(a);null!==a;){if(c=a[wf])return c;a=sf(a)}return b}a=c;c=a.parentNode}return null}function Cb(a){a=a[wf]||a[ff];return!a||5!==a.tag&&6!==a.tag&&13!==a.tag&&3!==a.tag?null:a}function ue(a){if(5===a.tag||6===a.tag)return a.stateNode;throw Error(y(33));}function Db(a){return a[xf]||null}\nfunction $e(a){var b=a[yf];void 0===b&&(b=a[yf]=new Set);return b}var zf=[],Af=-1;function Bf(a){return{current:a}}function H(a){0>Af||(a.current=zf[Af],zf[Af]=null,Af--)}function I(a,b){Af++;zf[Af]=a.current;a.current=b}var Cf={},M=Bf(Cf),N=Bf(!1),Df=Cf;\nfunction Ef(a,b){var c=a.type.contextTypes;if(!c)return Cf;var d=a.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===b)return d.__reactInternalMemoizedMaskedChildContext;var e={},f;for(f in c)e[f]=b[f];d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=e);return e}function Ff(a){a=a.childContextTypes;return null!==a&&void 0!==a}function Gf(){H(N);H(M)}function Hf(a,b,c){if(M.current!==Cf)throw Error(y(168));I(M,b);I(N,c)}\nfunction If(a,b,c){var d=a.stateNode;a=b.childContextTypes;if(\"function\"!==typeof d.getChildContext)return c;d=d.getChildContext();for(var e in d)if(!(e in a))throw Error(y(108,Ra(b)||\"Unknown\",e));return m({},c,d)}function Jf(a){a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Cf;Df=M.current;I(M,a);I(N,N.current);return!0}function Kf(a,b,c){var d=a.stateNode;if(!d)throw Error(y(169));c?(a=If(a,b,Df),d.__reactInternalMemoizedMergedChildContext=a,H(N),H(M),I(M,a)):H(N);I(N,c)}\nvar Lf=null,Mf=null,Nf=r.unstable_runWithPriority,Of=r.unstable_scheduleCallback,Pf=r.unstable_cancelCallback,Qf=r.unstable_shouldYield,Rf=r.unstable_requestPaint,Sf=r.unstable_now,Tf=r.unstable_getCurrentPriorityLevel,Uf=r.unstable_ImmediatePriority,Vf=r.unstable_UserBlockingPriority,Wf=r.unstable_NormalPriority,Xf=r.unstable_LowPriority,Yf=r.unstable_IdlePriority,Zf={},$f=void 0!==Rf?Rf:function(){},ag=null,bg=null,cg=!1,dg=Sf(),O=1E4>dg?Sf:function(){return Sf()-dg};\nfunction eg(){switch(Tf()){case Uf:return 99;case Vf:return 98;case Wf:return 97;case Xf:return 96;case Yf:return 95;default:throw Error(y(332));}}function fg(a){switch(a){case 99:return Uf;case 98:return Vf;case 97:return Wf;case 96:return Xf;case 95:return Yf;default:throw Error(y(332));}}function gg(a,b){a=fg(a);return Nf(a,b)}function hg(a,b,c){a=fg(a);return Of(a,b,c)}function ig(){if(null!==bg){var a=bg;bg=null;Pf(a)}jg()}\nfunction jg(){if(!cg&&null!==ag){cg=!0;var a=0;try{var b=ag;gg(99,function(){for(;a<b.length;a++){var c=b[a];do c=c(!0);while(null!==c)}});ag=null}catch(c){throw null!==ag&&(ag=ag.slice(a+1)),Of(Uf,ig),c;}finally{cg=!1}}}var kg=ra.ReactCurrentBatchConfig;function lg(a,b){if(a&&a.defaultProps){b=m({},b);a=a.defaultProps;for(var c in a)void 0===b[c]&&(b[c]=a[c]);return b}return b}var mg=Bf(null),ng=null,og=null,pg=null;function qg(){pg=og=ng=null}\nfunction rg(a){var b=mg.current;H(mg);a.type._context._currentValue=b}function sg(a,b){for(;null!==a;){var c=a.alternate;if((a.childLanes&b)===b)if(null===c||(c.childLanes&b)===b)break;else c.childLanes|=b;else a.childLanes|=b,null!==c&&(c.childLanes|=b);a=a.return}}function tg(a,b){ng=a;pg=og=null;a=a.dependencies;null!==a&&null!==a.firstContext&&(0!==(a.lanes&b)&&(ug=!0),a.firstContext=null)}\nfunction vg(a,b){if(pg!==a&&!1!==b&&0!==b){if(\"number\"!==typeof b||1073741823===b)pg=a,b=1073741823;b={context:a,observedBits:b,next:null};if(null===og){if(null===ng)throw Error(y(308));og=b;ng.dependencies={lanes:0,firstContext:b,responders:null}}else og=og.next=b}return a._currentValue}var wg=!1;function xg(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}\nfunction yg(a,b){a=a.updateQueue;b.updateQueue===a&&(b.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function zg(a,b){return{eventTime:a,lane:b,tag:0,payload:null,callback:null,next:null}}function Ag(a,b){a=a.updateQueue;if(null!==a){a=a.shared;var c=a.pending;null===c?b.next=b:(b.next=c.next,c.next=b);a.pending=b}}\nfunction Bg(a,b){var c=a.updateQueue,d=a.alternate;if(null!==d&&(d=d.updateQueue,c===d)){var e=null,f=null;c=c.firstBaseUpdate;if(null!==c){do{var g={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};null===f?e=f=g:f=f.next=g;c=c.next}while(null!==c);null===f?e=f=b:f=f.next=b}else e=f=b;c={baseState:d.baseState,firstBaseUpdate:e,lastBaseUpdate:f,shared:d.shared,effects:d.effects};a.updateQueue=c;return}a=c.lastBaseUpdate;null===a?c.firstBaseUpdate=b:a.next=\nb;c.lastBaseUpdate=b}\nfunction Cg(a,b,c,d){var e=a.updateQueue;wg=!1;var f=e.firstBaseUpdate,g=e.lastBaseUpdate,h=e.shared.pending;if(null!==h){e.shared.pending=null;var k=h,l=k.next;k.next=null;null===g?f=l:g.next=l;g=k;var n=a.alternate;if(null!==n){n=n.updateQueue;var A=n.lastBaseUpdate;A!==g&&(null===A?n.firstBaseUpdate=l:A.next=l,n.lastBaseUpdate=k)}}if(null!==f){A=e.baseState;g=0;n=l=k=null;do{h=f.lane;var p=f.eventTime;if((d&h)===h){null!==n&&(n=n.next={eventTime:p,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,\nnext:null});a:{var C=a,x=f;h=b;p=c;switch(x.tag){case 1:C=x.payload;if(\"function\"===typeof C){A=C.call(p,A,h);break a}A=C;break a;case 3:C.flags=C.flags&-4097|64;case 0:C=x.payload;h=\"function\"===typeof C?C.call(p,A,h):C;if(null===h||void 0===h)break a;A=m({},A,h);break a;case 2:wg=!0}}null!==f.callback&&(a.flags|=32,h=e.effects,null===h?e.effects=[f]:h.push(f))}else p={eventTime:p,lane:h,tag:f.tag,payload:f.payload,callback:f.callback,next:null},null===n?(l=n=p,k=A):n=n.next=p,g|=h;f=f.next;if(null===\nf)if(h=e.shared.pending,null===h)break;else f=h.next,h.next=null,e.lastBaseUpdate=h,e.shared.pending=null}while(1);null===n&&(k=A);e.baseState=k;e.firstBaseUpdate=l;e.lastBaseUpdate=n;Dg|=g;a.lanes=g;a.memoizedState=A}}function Eg(a,b,c){a=b.effects;b.effects=null;if(null!==a)for(b=0;b<a.length;b++){var d=a[b],e=d.callback;if(null!==e){d.callback=null;d=c;if(\"function\"!==typeof e)throw Error(y(191,e));e.call(d)}}}var Fg=(new aa.Component).refs;\nfunction Gg(a,b,c,d){b=a.memoizedState;c=c(d,b);c=null===c||void 0===c?b:m({},b,c);a.memoizedState=c;0===a.lanes&&(a.updateQueue.baseState=c)}\nvar Kg={isMounted:function(a){return(a=a._reactInternals)?Zb(a)===a:!1},enqueueSetState:function(a,b,c){a=a._reactInternals;var d=Hg(),e=Ig(a),f=zg(d,e);f.payload=b;void 0!==c&&null!==c&&(f.callback=c);Ag(a,f);Jg(a,e,d)},enqueueReplaceState:function(a,b,c){a=a._reactInternals;var d=Hg(),e=Ig(a),f=zg(d,e);f.tag=1;f.payload=b;void 0!==c&&null!==c&&(f.callback=c);Ag(a,f);Jg(a,e,d)},enqueueForceUpdate:function(a,b){a=a._reactInternals;var c=Hg(),d=Ig(a),e=zg(c,d);e.tag=2;void 0!==b&&null!==b&&(e.callback=\nb);Ag(a,e);Jg(a,d,c)}};function Lg(a,b,c,d,e,f,g){a=a.stateNode;return\"function\"===typeof a.shouldComponentUpdate?a.shouldComponentUpdate(d,f,g):b.prototype&&b.prototype.isPureReactComponent?!Je(c,d)||!Je(e,f):!0}\nfunction Mg(a,b,c){var d=!1,e=Cf;var f=b.contextType;\"object\"===typeof f&&null!==f?f=vg(f):(e=Ff(b)?Df:M.current,d=b.contextTypes,f=(d=null!==d&&void 0!==d)?Ef(a,e):Cf);b=new b(c,f);a.memoizedState=null!==b.state&&void 0!==b.state?b.state:null;b.updater=Kg;a.stateNode=b;b._reactInternals=a;d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=e,a.__reactInternalMemoizedMaskedChildContext=f);return b}\nfunction Ng(a,b,c,d){a=b.state;\"function\"===typeof b.componentWillReceiveProps&&b.componentWillReceiveProps(c,d);\"function\"===typeof b.UNSAFE_componentWillReceiveProps&&b.UNSAFE_componentWillReceiveProps(c,d);b.state!==a&&Kg.enqueueReplaceState(b,b.state,null)}\nfunction Og(a,b,c,d){var e=a.stateNode;e.props=c;e.state=a.memoizedState;e.refs=Fg;xg(a);var f=b.contextType;\"object\"===typeof f&&null!==f?e.context=vg(f):(f=Ff(b)?Df:M.current,e.context=Ef(a,f));Cg(a,c,e,d);e.state=a.memoizedState;f=b.getDerivedStateFromProps;\"function\"===typeof f&&(Gg(a,b,f,c),e.state=a.memoizedState);\"function\"===typeof b.getDerivedStateFromProps||\"function\"===typeof e.getSnapshotBeforeUpdate||\"function\"!==typeof e.UNSAFE_componentWillMount&&\"function\"!==typeof e.componentWillMount||\n(b=e.state,\"function\"===typeof e.componentWillMount&&e.componentWillMount(),\"function\"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),b!==e.state&&Kg.enqueueReplaceState(e,e.state,null),Cg(a,c,e,d),e.state=a.memoizedState);\"function\"===typeof e.componentDidMount&&(a.flags|=4)}var Pg=Array.isArray;\nfunction Qg(a,b,c){a=c.ref;if(null!==a&&\"function\"!==typeof a&&\"object\"!==typeof a){if(c._owner){c=c._owner;if(c){if(1!==c.tag)throw Error(y(309));var d=c.stateNode}if(!d)throw Error(y(147,a));var e=\"\"+a;if(null!==b&&null!==b.ref&&\"function\"===typeof b.ref&&b.ref._stringRef===e)return b.ref;b=function(a){var b=d.refs;b===Fg&&(b=d.refs={});null===a?delete b[e]:b[e]=a};b._stringRef=e;return b}if(\"string\"!==typeof a)throw Error(y(284));if(!c._owner)throw Error(y(290,a));}return a}\nfunction Rg(a,b){if(\"textarea\"!==a.type)throw Error(y(31,\"[object Object]\"===Object.prototype.toString.call(b)?\"object with keys {\"+Object.keys(b).join(\", \")+\"}\":b));}\nfunction Sg(a){function b(b,c){if(a){var d=b.lastEffect;null!==d?(d.nextEffect=c,b.lastEffect=c):b.firstEffect=b.lastEffect=c;c.nextEffect=null;c.flags=8}}function c(c,d){if(!a)return null;for(;null!==d;)b(c,d),d=d.sibling;return null}function d(a,b){for(a=new Map;null!==b;)null!==b.key?a.set(b.key,b):a.set(b.index,b),b=b.sibling;return a}function e(a,b){a=Tg(a,b);a.index=0;a.sibling=null;return a}function f(b,c,d){b.index=d;if(!a)return c;d=b.alternate;if(null!==d)return d=d.index,d<c?(b.flags=2,\nc):d;b.flags=2;return c}function g(b){a&&null===b.alternate&&(b.flags=2);return b}function h(a,b,c,d){if(null===b||6!==b.tag)return b=Ug(c,a.mode,d),b.return=a,b;b=e(b,c);b.return=a;return b}function k(a,b,c,d){if(null!==b&&b.elementType===c.type)return d=e(b,c.props),d.ref=Qg(a,b,c),d.return=a,d;d=Vg(c.type,c.key,c.props,null,a.mode,d);d.ref=Qg(a,b,c);d.return=a;return d}function l(a,b,c,d){if(null===b||4!==b.tag||b.stateNode.containerInfo!==c.containerInfo||b.stateNode.implementation!==c.implementation)return b=\nWg(c,a.mode,d),b.return=a,b;b=e(b,c.children||[]);b.return=a;return b}function n(a,b,c,d,f){if(null===b||7!==b.tag)return b=Xg(c,a.mode,d,f),b.return=a,b;b=e(b,c);b.return=a;return b}function A(a,b,c){if(\"string\"===typeof b||\"number\"===typeof b)return b=Ug(\"\"+b,a.mode,c),b.return=a,b;if(\"object\"===typeof b&&null!==b){switch(b.$$typeof){case sa:return c=Vg(b.type,b.key,b.props,null,a.mode,c),c.ref=Qg(a,null,b),c.return=a,c;case ta:return b=Wg(b,a.mode,c),b.return=a,b}if(Pg(b)||La(b))return b=Xg(b,\na.mode,c,null),b.return=a,b;Rg(a,b)}return null}function p(a,b,c,d){var e=null!==b?b.key:null;if(\"string\"===typeof c||\"number\"===typeof c)return null!==e?null:h(a,b,\"\"+c,d);if(\"object\"===typeof c&&null!==c){switch(c.$$typeof){case sa:return c.key===e?c.type===ua?n(a,b,c.props.children,d,e):k(a,b,c,d):null;case ta:return c.key===e?l(a,b,c,d):null}if(Pg(c)||La(c))return null!==e?null:n(a,b,c,d,null);Rg(a,c)}return null}function C(a,b,c,d,e){if(\"string\"===typeof d||\"number\"===typeof d)return a=a.get(c)||\nnull,h(b,a,\"\"+d,e);if(\"object\"===typeof d&&null!==d){switch(d.$$typeof){case sa:return a=a.get(null===d.key?c:d.key)||null,d.type===ua?n(b,a,d.props.children,e,d.key):k(b,a,d,e);case ta:return a=a.get(null===d.key?c:d.key)||null,l(b,a,d,e)}if(Pg(d)||La(d))return a=a.get(c)||null,n(b,a,d,e,null);Rg(b,d)}return null}function x(e,g,h,k){for(var l=null,t=null,u=g,z=g=0,q=null;null!==u&&z<h.length;z++){u.index>z?(q=u,u=null):q=u.sibling;var n=p(e,u,h[z],k);if(null===n){null===u&&(u=q);break}a&&u&&null===\nn.alternate&&b(e,u);g=f(n,g,z);null===t?l=n:t.sibling=n;t=n;u=q}if(z===h.length)return c(e,u),l;if(null===u){for(;z<h.length;z++)u=A(e,h[z],k),null!==u&&(g=f(u,g,z),null===t?l=u:t.sibling=u,t=u);return l}for(u=d(e,u);z<h.length;z++)q=C(u,e,z,h[z],k),null!==q&&(a&&null!==q.alternate&&u.delete(null===q.key?z:q.key),g=f(q,g,z),null===t?l=q:t.sibling=q,t=q);a&&u.forEach(function(a){return b(e,a)});return l}function w(e,g,h,k){var l=La(h);if(\"function\"!==typeof l)throw Error(y(150));h=l.call(h);if(null==\nh)throw Error(y(151));for(var t=l=null,u=g,z=g=0,q=null,n=h.next();null!==u&&!n.done;z++,n=h.next()){u.index>z?(q=u,u=null):q=u.sibling;var w=p(e,u,n.value,k);if(null===w){null===u&&(u=q);break}a&&u&&null===w.alternate&&b(e,u);g=f(w,g,z);null===t?l=w:t.sibling=w;t=w;u=q}if(n.done)return c(e,u),l;if(null===u){for(;!n.done;z++,n=h.next())n=A(e,n.value,k),null!==n&&(g=f(n,g,z),null===t?l=n:t.sibling=n,t=n);return l}for(u=d(e,u);!n.done;z++,n=h.next())n=C(u,e,z,n.value,k),null!==n&&(a&&null!==n.alternate&&\nu.delete(null===n.key?z:n.key),g=f(n,g,z),null===t?l=n:t.sibling=n,t=n);a&&u.forEach(function(a){return b(e,a)});return l}return function(a,d,f,h){var k=\"object\"===typeof f&&null!==f&&f.type===ua&&null===f.key;k&&(f=f.props.children);var l=\"object\"===typeof f&&null!==f;if(l)switch(f.$$typeof){case sa:a:{l=f.key;for(k=d;null!==k;){if(k.key===l){switch(k.tag){case 7:if(f.type===ua){c(a,k.sibling);d=e(k,f.props.children);d.return=a;a=d;break a}break;default:if(k.elementType===f.type){c(a,k.sibling);\nd=e(k,f.props);d.ref=Qg(a,k,f);d.return=a;a=d;break a}}c(a,k);break}else b(a,k);k=k.sibling}f.type===ua?(d=Xg(f.props.children,a.mode,h,f.key),d.return=a,a=d):(h=Vg(f.type,f.key,f.props,null,a.mode,h),h.ref=Qg(a,d,f),h.return=a,a=h)}return g(a);case ta:a:{for(k=f.key;null!==d;){if(d.key===k)if(4===d.tag&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){c(a,d.sibling);d=e(d,f.children||[]);d.return=a;a=d;break a}else{c(a,d);break}else b(a,d);d=d.sibling}d=\nWg(f,a.mode,h);d.return=a;a=d}return g(a)}if(\"string\"===typeof f||\"number\"===typeof f)return f=\"\"+f,null!==d&&6===d.tag?(c(a,d.sibling),d=e(d,f),d.return=a,a=d):(c(a,d),d=Ug(f,a.mode,h),d.return=a,a=d),g(a);if(Pg(f))return x(a,d,f,h);if(La(f))return w(a,d,f,h);l&&Rg(a,f);if(\"undefined\"===typeof f&&!k)switch(a.tag){case 1:case 22:case 0:case 11:case 15:throw Error(y(152,Ra(a.type)||\"Component\"));}return c(a,d)}}var Yg=Sg(!0),Zg=Sg(!1),$g={},ah=Bf($g),bh=Bf($g),ch=Bf($g);\nfunction dh(a){if(a===$g)throw Error(y(174));return a}function eh(a,b){I(ch,b);I(bh,a);I(ah,$g);a=b.nodeType;switch(a){case 9:case 11:b=(b=b.documentElement)?b.namespaceURI:mb(null,\"\");break;default:a=8===a?b.parentNode:b,b=a.namespaceURI||null,a=a.tagName,b=mb(b,a)}H(ah);I(ah,b)}function fh(){H(ah);H(bh);H(ch)}function gh(a){dh(ch.current);var b=dh(ah.current);var c=mb(b,a.type);b!==c&&(I(bh,a),I(ah,c))}function hh(a){bh.current===a&&(H(ah),H(bh))}var P=Bf(0);\nfunction ih(a){for(var b=a;null!==b;){if(13===b.tag){var c=b.memoizedState;if(null!==c&&(c=c.dehydrated,null===c||\"$?\"===c.data||\"$!\"===c.data))return b}else if(19===b.tag&&void 0!==b.memoizedProps.revealOrder){if(0!==(b.flags&64))return b}else if(null!==b.child){b.child.return=b;b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}return null}var jh=null,kh=null,lh=!1;\nfunction mh(a,b){var c=nh(5,null,null,0);c.elementType=\"DELETED\";c.type=\"DELETED\";c.stateNode=b;c.return=a;c.flags=8;null!==a.lastEffect?(a.lastEffect.nextEffect=c,a.lastEffect=c):a.firstEffect=a.lastEffect=c}function oh(a,b){switch(a.tag){case 5:var c=a.type;b=1!==b.nodeType||c.toLowerCase()!==b.nodeName.toLowerCase()?null:b;return null!==b?(a.stateNode=b,!0):!1;case 6:return b=\"\"===a.pendingProps||3!==b.nodeType?null:b,null!==b?(a.stateNode=b,!0):!1;case 13:return!1;default:return!1}}\nfunction ph(a){if(lh){var b=kh;if(b){var c=b;if(!oh(a,b)){b=rf(c.nextSibling);if(!b||!oh(a,b)){a.flags=a.flags&-1025|2;lh=!1;jh=a;return}mh(jh,c)}jh=a;kh=rf(b.firstChild)}else a.flags=a.flags&-1025|2,lh=!1,jh=a}}function qh(a){for(a=a.return;null!==a&&5!==a.tag&&3!==a.tag&&13!==a.tag;)a=a.return;jh=a}\nfunction rh(a){if(a!==jh)return!1;if(!lh)return qh(a),lh=!0,!1;var b=a.type;if(5!==a.tag||\"head\"!==b&&\"body\"!==b&&!nf(b,a.memoizedProps))for(b=kh;b;)mh(a,b),b=rf(b.nextSibling);qh(a);if(13===a.tag){a=a.memoizedState;a=null!==a?a.dehydrated:null;if(!a)throw Error(y(317));a:{a=a.nextSibling;for(b=0;a;){if(8===a.nodeType){var c=a.data;if(\"/$\"===c){if(0===b){kh=rf(a.nextSibling);break a}b--}else\"$\"!==c&&\"$!\"!==c&&\"$?\"!==c||b++}a=a.nextSibling}kh=null}}else kh=jh?rf(a.stateNode.nextSibling):null;return!0}\nfunction sh(){kh=jh=null;lh=!1}var th=[];function uh(){for(var a=0;a<th.length;a++)th[a]._workInProgressVersionPrimary=null;th.length=0}var vh=ra.ReactCurrentDispatcher,wh=ra.ReactCurrentBatchConfig,xh=0,R=null,S=null,T=null,yh=!1,zh=!1;function Ah(){throw Error(y(321));}function Bh(a,b){if(null===b)return!1;for(var c=0;c<b.length&&c<a.length;c++)if(!He(a[c],b[c]))return!1;return!0}\nfunction Ch(a,b,c,d,e,f){xh=f;R=b;b.memoizedState=null;b.updateQueue=null;b.lanes=0;vh.current=null===a||null===a.memoizedState?Dh:Eh;a=c(d,e);if(zh){f=0;do{zh=!1;if(!(25>f))throw Error(y(301));f+=1;T=S=null;b.updateQueue=null;vh.current=Fh;a=c(d,e)}while(zh)}vh.current=Gh;b=null!==S&&null!==S.next;xh=0;T=S=R=null;yh=!1;if(b)throw Error(y(300));return a}function Hh(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===T?R.memoizedState=T=a:T=T.next=a;return T}\nfunction Ih(){if(null===S){var a=R.alternate;a=null!==a?a.memoizedState:null}else a=S.next;var b=null===T?R.memoizedState:T.next;if(null!==b)T=b,S=a;else{if(null===a)throw Error(y(310));S=a;a={memoizedState:S.memoizedState,baseState:S.baseState,baseQueue:S.baseQueue,queue:S.queue,next:null};null===T?R.memoizedState=T=a:T=T.next=a}return T}function Jh(a,b){return\"function\"===typeof b?b(a):b}\nfunction Kh(a){var b=Ih(),c=b.queue;if(null===c)throw Error(y(311));c.lastRenderedReducer=a;var d=S,e=d.baseQueue,f=c.pending;if(null!==f){if(null!==e){var g=e.next;e.next=f.next;f.next=g}d.baseQueue=e=f;c.pending=null}if(null!==e){e=e.next;d=d.baseState;var h=g=f=null,k=e;do{var l=k.lane;if((xh&l)===l)null!==h&&(h=h.next={lane:0,action:k.action,eagerReducer:k.eagerReducer,eagerState:k.eagerState,next:null}),d=k.eagerReducer===a?k.eagerState:a(d,k.action);else{var n={lane:l,action:k.action,eagerReducer:k.eagerReducer,\neagerState:k.eagerState,next:null};null===h?(g=h=n,f=d):h=h.next=n;R.lanes|=l;Dg|=l}k=k.next}while(null!==k&&k!==e);null===h?f=d:h.next=g;He(d,b.memoizedState)||(ug=!0);b.memoizedState=d;b.baseState=f;b.baseQueue=h;c.lastRenderedState=d}return[b.memoizedState,c.dispatch]}\nfunction Lh(a){var b=Ih(),c=b.queue;if(null===c)throw Error(y(311));c.lastRenderedReducer=a;var d=c.dispatch,e=c.pending,f=b.memoizedState;if(null!==e){c.pending=null;var g=e=e.next;do f=a(f,g.action),g=g.next;while(g!==e);He(f,b.memoizedState)||(ug=!0);b.memoizedState=f;null===b.baseQueue&&(b.baseState=f);c.lastRenderedState=f}return[f,d]}\nfunction Mh(a,b,c){var d=b._getVersion;d=d(b._source);var e=b._workInProgressVersionPrimary;if(null!==e)a=e===d;else if(a=a.mutableReadLanes,a=(xh&a)===a)b._workInProgressVersionPrimary=d,th.push(b);if(a)return c(b._source);th.push(b);throw Error(y(350));}\nfunction Nh(a,b,c,d){var e=U;if(null===e)throw Error(y(349));var f=b._getVersion,g=f(b._source),h=vh.current,k=h.useState(function(){return Mh(e,b,c)}),l=k[1],n=k[0];k=T;var A=a.memoizedState,p=A.refs,C=p.getSnapshot,x=A.source;A=A.subscribe;var w=R;a.memoizedState={refs:p,source:b,subscribe:d};h.useEffect(function(){p.getSnapshot=c;p.setSnapshot=l;var a=f(b._source);if(!He(g,a)){a=c(b._source);He(n,a)||(l(a),a=Ig(w),e.mutableReadLanes|=a&e.pendingLanes);a=e.mutableReadLanes;e.entangledLanes|=a;for(var d=\ne.entanglements,h=a;0<h;){var k=31-Vc(h),v=1<<k;d[k]|=a;h&=~v}}},[c,b,d]);h.useEffect(function(){return d(b._source,function(){var a=p.getSnapshot,c=p.setSnapshot;try{c(a(b._source));var d=Ig(w);e.mutableReadLanes|=d&e.pendingLanes}catch(q){c(function(){throw q;})}})},[b,d]);He(C,c)&&He(x,b)&&He(A,d)||(a={pending:null,dispatch:null,lastRenderedReducer:Jh,lastRenderedState:n},a.dispatch=l=Oh.bind(null,R,a),k.queue=a,k.baseQueue=null,n=Mh(e,b,c),k.memoizedState=k.baseState=n);return n}\nfunction Ph(a,b,c){var d=Ih();return Nh(d,a,b,c)}function Qh(a){var b=Hh();\"function\"===typeof a&&(a=a());b.memoizedState=b.baseState=a;a=b.queue={pending:null,dispatch:null,lastRenderedReducer:Jh,lastRenderedState:a};a=a.dispatch=Oh.bind(null,R,a);return[b.memoizedState,a]}\nfunction Rh(a,b,c,d){a={tag:a,create:b,destroy:c,deps:d,next:null};b=R.updateQueue;null===b?(b={lastEffect:null},R.updateQueue=b,b.lastEffect=a.next=a):(c=b.lastEffect,null===c?b.lastEffect=a.next=a:(d=c.next,c.next=a,a.next=d,b.lastEffect=a));return a}function Sh(a){var b=Hh();a={current:a};return b.memoizedState=a}function Th(){return Ih().memoizedState}function Uh(a,b,c,d){var e=Hh();R.flags|=a;e.memoizedState=Rh(1|b,c,void 0,void 0===d?null:d)}\nfunction Vh(a,b,c,d){var e=Ih();d=void 0===d?null:d;var f=void 0;if(null!==S){var g=S.memoizedState;f=g.destroy;if(null!==d&&Bh(d,g.deps)){Rh(b,c,f,d);return}}R.flags|=a;e.memoizedState=Rh(1|b,c,f,d)}function Wh(a,b){return Uh(516,4,a,b)}function Xh(a,b){return Vh(516,4,a,b)}function Yh(a,b){return Vh(4,2,a,b)}function Zh(a,b){if(\"function\"===typeof b)return a=a(),b(a),function(){b(null)};if(null!==b&&void 0!==b)return a=a(),b.current=a,function(){b.current=null}}\nfunction $h(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return Vh(4,2,Zh.bind(null,b,a),c)}function ai(){}function bi(a,b){var c=Ih();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Bh(b,d[1]))return d[0];c.memoizedState=[a,b];return a}function ci(a,b){var c=Ih();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Bh(b,d[1]))return d[0];a=a();c.memoizedState=[a,b];return a}\nfunction di(a,b){var c=eg();gg(98>c?98:c,function(){a(!0)});gg(97<c?97:c,function(){var c=wh.transition;wh.transition=1;try{a(!1),b()}finally{wh.transition=c}})}\nfunction Oh(a,b,c){var d=Hg(),e=Ig(a),f={lane:e,action:c,eagerReducer:null,eagerState:null,next:null},g=b.pending;null===g?f.next=f:(f.next=g.next,g.next=f);b.pending=f;g=a.alternate;if(a===R||null!==g&&g===R)zh=yh=!0;else{if(0===a.lanes&&(null===g||0===g.lanes)&&(g=b.lastRenderedReducer,null!==g))try{var h=b.lastRenderedState,k=g(h,c);f.eagerReducer=g;f.eagerState=k;if(He(k,h))return}catch(l){}finally{}Jg(a,e,d)}}\nvar Gh={readContext:vg,useCallback:Ah,useContext:Ah,useEffect:Ah,useImperativeHandle:Ah,useLayoutEffect:Ah,useMemo:Ah,useReducer:Ah,useRef:Ah,useState:Ah,useDebugValue:Ah,useDeferredValue:Ah,useTransition:Ah,useMutableSource:Ah,useOpaqueIdentifier:Ah,unstable_isNewReconciler:!1},Dh={readContext:vg,useCallback:function(a,b){Hh().memoizedState=[a,void 0===b?null:b];return a},useContext:vg,useEffect:Wh,useImperativeHandle:function(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return Uh(4,2,Zh.bind(null,\nb,a),c)},useLayoutEffect:function(a,b){return Uh(4,2,a,b)},useMemo:function(a,b){var c=Hh();b=void 0===b?null:b;a=a();c.memoizedState=[a,b];return a},useReducer:function(a,b,c){var d=Hh();b=void 0!==c?c(b):b;d.memoizedState=d.baseState=b;a=d.queue={pending:null,dispatch:null,lastRenderedReducer:a,lastRenderedState:b};a=a.dispatch=Oh.bind(null,R,a);return[d.memoizedState,a]},useRef:Sh,useState:Qh,useDebugValue:ai,useDeferredValue:function(a){var b=Qh(a),c=b[0],d=b[1];Wh(function(){var b=wh.transition;\nwh.transition=1;try{d(a)}finally{wh.transition=b}},[a]);return c},useTransition:function(){var a=Qh(!1),b=a[0];a=di.bind(null,a[1]);Sh(a);return[a,b]},useMutableSource:function(a,b,c){var d=Hh();d.memoizedState={refs:{getSnapshot:b,setSnapshot:null},source:a,subscribe:c};return Nh(d,a,b,c)},useOpaqueIdentifier:function(){if(lh){var a=!1,b=uf(function(){a||(a=!0,c(\"r:\"+(tf++).toString(36)));throw Error(y(355));}),c=Qh(b)[1];0===(R.mode&2)&&(R.flags|=516,Rh(5,function(){c(\"r:\"+(tf++).toString(36))},\nvoid 0,null));return b}b=\"r:\"+(tf++).toString(36);Qh(b);return b},unstable_isNewReconciler:!1},Eh={readContext:vg,useCallback:bi,useContext:vg,useEffect:Xh,useImperativeHandle:$h,useLayoutEffect:Yh,useMemo:ci,useReducer:Kh,useRef:Th,useState:function(){return Kh(Jh)},useDebugValue:ai,useDeferredValue:function(a){var b=Kh(Jh),c=b[0],d=b[1];Xh(function(){var b=wh.transition;wh.transition=1;try{d(a)}finally{wh.transition=b}},[a]);return c},useTransition:function(){var a=Kh(Jh)[0];return[Th().current,\na]},useMutableSource:Ph,useOpaqueIdentifier:function(){return Kh(Jh)[0]},unstable_isNewReconciler:!1},Fh={readContext:vg,useCallback:bi,useContext:vg,useEffect:Xh,useImperativeHandle:$h,useLayoutEffect:Yh,useMemo:ci,useReducer:Lh,useRef:Th,useState:function(){return Lh(Jh)},useDebugValue:ai,useDeferredValue:function(a){var b=Lh(Jh),c=b[0],d=b[1];Xh(function(){var b=wh.transition;wh.transition=1;try{d(a)}finally{wh.transition=b}},[a]);return c},useTransition:function(){var a=Lh(Jh)[0];return[Th().current,\na]},useMutableSource:Ph,useOpaqueIdentifier:function(){return Lh(Jh)[0]},unstable_isNewReconciler:!1},ei=ra.ReactCurrentOwner,ug=!1;function fi(a,b,c,d){b.child=null===a?Zg(b,null,c,d):Yg(b,a.child,c,d)}function gi(a,b,c,d,e){c=c.render;var f=b.ref;tg(b,e);d=Ch(a,b,c,d,f,e);if(null!==a&&!ug)return b.updateQueue=a.updateQueue,b.flags&=-517,a.lanes&=~e,hi(a,b,e);b.flags|=1;fi(a,b,d,e);return b.child}\nfunction ii(a,b,c,d,e,f){if(null===a){var g=c.type;if(\"function\"===typeof g&&!ji(g)&&void 0===g.defaultProps&&null===c.compare&&void 0===c.defaultProps)return b.tag=15,b.type=g,ki(a,b,g,d,e,f);a=Vg(c.type,null,d,b,b.mode,f);a.ref=b.ref;a.return=b;return b.child=a}g=a.child;if(0===(e&f)&&(e=g.memoizedProps,c=c.compare,c=null!==c?c:Je,c(e,d)&&a.ref===b.ref))return hi(a,b,f);b.flags|=1;a=Tg(g,d);a.ref=b.ref;a.return=b;return b.child=a}\nfunction ki(a,b,c,d,e,f){if(null!==a&&Je(a.memoizedProps,d)&&a.ref===b.ref)if(ug=!1,0!==(f&e))0!==(a.flags&16384)&&(ug=!0);else return b.lanes=a.lanes,hi(a,b,f);return li(a,b,c,d,f)}\nfunction mi(a,b,c){var d=b.pendingProps,e=d.children,f=null!==a?a.memoizedState:null;if(\"hidden\"===d.mode||\"unstable-defer-without-hiding\"===d.mode)if(0===(b.mode&4))b.memoizedState={baseLanes:0},ni(b,c);else if(0!==(c&1073741824))b.memoizedState={baseLanes:0},ni(b,null!==f?f.baseLanes:c);else return a=null!==f?f.baseLanes|c:c,b.lanes=b.childLanes=1073741824,b.memoizedState={baseLanes:a},ni(b,a),null;else null!==f?(d=f.baseLanes|c,b.memoizedState=null):d=c,ni(b,d);fi(a,b,e,c);return b.child}\nfunction oi(a,b){var c=b.ref;if(null===a&&null!==c||null!==a&&a.ref!==c)b.flags|=128}function li(a,b,c,d,e){var f=Ff(c)?Df:M.current;f=Ef(b,f);tg(b,e);c=Ch(a,b,c,d,f,e);if(null!==a&&!ug)return b.updateQueue=a.updateQueue,b.flags&=-517,a.lanes&=~e,hi(a,b,e);b.flags|=1;fi(a,b,c,e);return b.child}\nfunction pi(a,b,c,d,e){if(Ff(c)){var f=!0;Jf(b)}else f=!1;tg(b,e);if(null===b.stateNode)null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2),Mg(b,c,d),Og(b,c,d,e),d=!0;else if(null===a){var g=b.stateNode,h=b.memoizedProps;g.props=h;var k=g.context,l=c.contextType;\"object\"===typeof l&&null!==l?l=vg(l):(l=Ff(c)?Df:M.current,l=Ef(b,l));var n=c.getDerivedStateFromProps,A=\"function\"===typeof n||\"function\"===typeof g.getSnapshotBeforeUpdate;A||\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\n\"function\"!==typeof g.componentWillReceiveProps||(h!==d||k!==l)&&Ng(b,g,d,l);wg=!1;var p=b.memoizedState;g.state=p;Cg(b,d,g,e);k=b.memoizedState;h!==d||p!==k||N.current||wg?(\"function\"===typeof n&&(Gg(b,c,n,d),k=b.memoizedState),(h=wg||Lg(b,c,h,d,p,k,l))?(A||\"function\"!==typeof g.UNSAFE_componentWillMount&&\"function\"!==typeof g.componentWillMount||(\"function\"===typeof g.componentWillMount&&g.componentWillMount(),\"function\"===typeof g.UNSAFE_componentWillMount&&g.UNSAFE_componentWillMount()),\"function\"===\ntypeof g.componentDidMount&&(b.flags|=4)):(\"function\"===typeof g.componentDidMount&&(b.flags|=4),b.memoizedProps=d,b.memoizedState=k),g.props=d,g.state=k,g.context=l,d=h):(\"function\"===typeof g.componentDidMount&&(b.flags|=4),d=!1)}else{g=b.stateNode;yg(a,b);h=b.memoizedProps;l=b.type===b.elementType?h:lg(b.type,h);g.props=l;A=b.pendingProps;p=g.context;k=c.contextType;\"object\"===typeof k&&null!==k?k=vg(k):(k=Ff(c)?Df:M.current,k=Ef(b,k));var C=c.getDerivedStateFromProps;(n=\"function\"===typeof C||\n\"function\"===typeof g.getSnapshotBeforeUpdate)||\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\"function\"!==typeof g.componentWillReceiveProps||(h!==A||p!==k)&&Ng(b,g,d,k);wg=!1;p=b.memoizedState;g.state=p;Cg(b,d,g,e);var x=b.memoizedState;h!==A||p!==x||N.current||wg?(\"function\"===typeof C&&(Gg(b,c,C,d),x=b.memoizedState),(l=wg||Lg(b,c,l,d,p,x,k))?(n||\"function\"!==typeof g.UNSAFE_componentWillUpdate&&\"function\"!==typeof g.componentWillUpdate||(\"function\"===typeof g.componentWillUpdate&&g.componentWillUpdate(d,\nx,k),\"function\"===typeof g.UNSAFE_componentWillUpdate&&g.UNSAFE_componentWillUpdate(d,x,k)),\"function\"===typeof g.componentDidUpdate&&(b.flags|=4),\"function\"===typeof g.getSnapshotBeforeUpdate&&(b.flags|=256)):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&p===a.memoizedState||(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&p===a.memoizedState||(b.flags|=256),b.memoizedProps=d,b.memoizedState=x),g.props=d,g.state=x,g.context=k,d=l):(\"function\"!==typeof g.componentDidUpdate||\nh===a.memoizedProps&&p===a.memoizedState||(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&p===a.memoizedState||(b.flags|=256),d=!1)}return qi(a,b,c,d,f,e)}\nfunction qi(a,b,c,d,e,f){oi(a,b);var g=0!==(b.flags&64);if(!d&&!g)return e&&Kf(b,c,!1),hi(a,b,f);d=b.stateNode;ei.current=b;var h=g&&\"function\"!==typeof c.getDerivedStateFromError?null:d.render();b.flags|=1;null!==a&&g?(b.child=Yg(b,a.child,null,f),b.child=Yg(b,null,h,f)):fi(a,b,h,f);b.memoizedState=d.state;e&&Kf(b,c,!0);return b.child}function ri(a){var b=a.stateNode;b.pendingContext?Hf(a,b.pendingContext,b.pendingContext!==b.context):b.context&&Hf(a,b.context,!1);eh(a,b.containerInfo)}\nvar si={dehydrated:null,retryLane:0};\nfunction ti(a,b,c){var d=b.pendingProps,e=P.current,f=!1,g;(g=0!==(b.flags&64))||(g=null!==a&&null===a.memoizedState?!1:0!==(e&2));g?(f=!0,b.flags&=-65):null!==a&&null===a.memoizedState||void 0===d.fallback||!0===d.unstable_avoidThisFallback||(e|=1);I(P,e&1);if(null===a){void 0!==d.fallback&&ph(b);a=d.children;e=d.fallback;if(f)return a=ui(b,a,e,c),b.child.memoizedState={baseLanes:c},b.memoizedState=si,a;if(\"number\"===typeof d.unstable_expectedLoadTime)return a=ui(b,a,e,c),b.child.memoizedState={baseLanes:c},\nb.memoizedState=si,b.lanes=33554432,a;c=vi({mode:\"visible\",children:a},b.mode,c,null);c.return=b;return b.child=c}if(null!==a.memoizedState){if(f)return d=wi(a,b,d.children,d.fallback,c),f=b.child,e=a.child.memoizedState,f.memoizedState=null===e?{baseLanes:c}:{baseLanes:e.baseLanes|c},f.childLanes=a.childLanes&~c,b.memoizedState=si,d;c=xi(a,b,d.children,c);b.memoizedState=null;return c}if(f)return d=wi(a,b,d.children,d.fallback,c),f=b.child,e=a.child.memoizedState,f.memoizedState=null===e?{baseLanes:c}:\n{baseLanes:e.baseLanes|c},f.childLanes=a.childLanes&~c,b.memoizedState=si,d;c=xi(a,b,d.children,c);b.memoizedState=null;return c}function ui(a,b,c,d){var e=a.mode,f=a.child;b={mode:\"hidden\",children:b};0===(e&2)&&null!==f?(f.childLanes=0,f.pendingProps=b):f=vi(b,e,0,null);c=Xg(c,e,d,null);f.return=a;c.return=a;f.sibling=c;a.child=f;return c}\nfunction xi(a,b,c,d){var e=a.child;a=e.sibling;c=Tg(e,{mode:\"visible\",children:c});0===(b.mode&2)&&(c.lanes=d);c.return=b;c.sibling=null;null!==a&&(a.nextEffect=null,a.flags=8,b.firstEffect=b.lastEffect=a);return b.child=c}\nfunction wi(a,b,c,d,e){var f=b.mode,g=a.child;a=g.sibling;var h={mode:\"hidden\",children:c};0===(f&2)&&b.child!==g?(c=b.child,c.childLanes=0,c.pendingProps=h,g=c.lastEffect,null!==g?(b.firstEffect=c.firstEffect,b.lastEffect=g,g.nextEffect=null):b.firstEffect=b.lastEffect=null):c=Tg(g,h);null!==a?d=Tg(a,d):(d=Xg(d,f,e,null),d.flags|=2);d.return=b;c.return=b;c.sibling=d;b.child=c;return d}function yi(a,b){a.lanes|=b;var c=a.alternate;null!==c&&(c.lanes|=b);sg(a.return,b)}\nfunction zi(a,b,c,d,e,f){var g=a.memoizedState;null===g?a.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:e,lastEffect:f}:(g.isBackwards=b,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=c,g.tailMode=e,g.lastEffect=f)}\nfunction Ai(a,b,c){var d=b.pendingProps,e=d.revealOrder,f=d.tail;fi(a,b,d.children,c);d=P.current;if(0!==(d&2))d=d&1|2,b.flags|=64;else{if(null!==a&&0!==(a.flags&64))a:for(a=b.child;null!==a;){if(13===a.tag)null!==a.memoizedState&&yi(a,c);else if(19===a.tag)yi(a,c);else if(null!==a.child){a.child.return=a;a=a.child;continue}if(a===b)break a;for(;null===a.sibling;){if(null===a.return||a.return===b)break a;a=a.return}a.sibling.return=a.return;a=a.sibling}d&=1}I(P,d);if(0===(b.mode&2))b.memoizedState=\nnull;else switch(e){case \"forwards\":c=b.child;for(e=null;null!==c;)a=c.alternate,null!==a&&null===ih(a)&&(e=c),c=c.sibling;c=e;null===c?(e=b.child,b.child=null):(e=c.sibling,c.sibling=null);zi(b,!1,e,c,f,b.lastEffect);break;case \"backwards\":c=null;e=b.child;for(b.child=null;null!==e;){a=e.alternate;if(null!==a&&null===ih(a)){b.child=e;break}a=e.sibling;e.sibling=c;c=e;e=a}zi(b,!0,c,null,f,b.lastEffect);break;case \"together\":zi(b,!1,null,null,void 0,b.lastEffect);break;default:b.memoizedState=null}return b.child}\nfunction hi(a,b,c){null!==a&&(b.dependencies=a.dependencies);Dg|=b.lanes;if(0!==(c&b.childLanes)){if(null!==a&&b.child!==a.child)throw Error(y(153));if(null!==b.child){a=b.child;c=Tg(a,a.pendingProps);b.child=c;for(c.return=b;null!==a.sibling;)a=a.sibling,c=c.sibling=Tg(a,a.pendingProps),c.return=b;c.sibling=null}return b.child}return null}var Bi,Ci,Di,Ei;\nBi=function(a,b){for(var c=b.child;null!==c;){if(5===c.tag||6===c.tag)a.appendChild(c.stateNode);else if(4!==c.tag&&null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return}c.sibling.return=c.return;c=c.sibling}};Ci=function(){};\nDi=function(a,b,c,d){var e=a.memoizedProps;if(e!==d){a=b.stateNode;dh(ah.current);var f=null;switch(c){case \"input\":e=Ya(a,e);d=Ya(a,d);f=[];break;case \"option\":e=eb(a,e);d=eb(a,d);f=[];break;case \"select\":e=m({},e,{value:void 0});d=m({},d,{value:void 0});f=[];break;case \"textarea\":e=gb(a,e);d=gb(a,d);f=[];break;default:\"function\"!==typeof e.onClick&&\"function\"===typeof d.onClick&&(a.onclick=jf)}vb(c,d);var g;c=null;for(l in e)if(!d.hasOwnProperty(l)&&e.hasOwnProperty(l)&&null!=e[l])if(\"style\"===\nl){var h=e[l];for(g in h)h.hasOwnProperty(g)&&(c||(c={}),c[g]=\"\")}else\"dangerouslySetInnerHTML\"!==l&&\"children\"!==l&&\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&\"autoFocus\"!==l&&(ca.hasOwnProperty(l)?f||(f=[]):(f=f||[]).push(l,null));for(l in d){var k=d[l];h=null!=e?e[l]:void 0;if(d.hasOwnProperty(l)&&k!==h&&(null!=k||null!=h))if(\"style\"===l)if(h){for(g in h)!h.hasOwnProperty(g)||k&&k.hasOwnProperty(g)||(c||(c={}),c[g]=\"\");for(g in k)k.hasOwnProperty(g)&&h[g]!==k[g]&&(c||\n(c={}),c[g]=k[g])}else c||(f||(f=[]),f.push(l,c)),c=k;else\"dangerouslySetInnerHTML\"===l?(k=k?k.__html:void 0,h=h?h.__html:void 0,null!=k&&h!==k&&(f=f||[]).push(l,k)):\"children\"===l?\"string\"!==typeof k&&\"number\"!==typeof k||(f=f||[]).push(l,\"\"+k):\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&(ca.hasOwnProperty(l)?(null!=k&&\"onScroll\"===l&&G(\"scroll\",a),f||h===k||(f=[])):\"object\"===typeof k&&null!==k&&k.$$typeof===Ga?k.toString():(f=f||[]).push(l,k))}c&&(f=f||[]).push(\"style\",\nc);var l=f;if(b.updateQueue=l)b.flags|=4}};Ei=function(a,b,c,d){c!==d&&(b.flags|=4)};function Fi(a,b){if(!lh)switch(a.tailMode){case \"hidden\":b=a.tail;for(var c=null;null!==b;)null!==b.alternate&&(c=b),b=b.sibling;null===c?a.tail=null:c.sibling=null;break;case \"collapsed\":c=a.tail;for(var d=null;null!==c;)null!==c.alternate&&(d=c),c=c.sibling;null===d?b||null===a.tail?a.tail=null:a.tail.sibling=null:d.sibling=null}}\nfunction Gi(a,b,c){var d=b.pendingProps;switch(b.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Ff(b.type)&&Gf(),null;case 3:fh();H(N);H(M);uh();d=b.stateNode;d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null);if(null===a||null===a.child)rh(b)?b.flags|=4:d.hydrate||(b.flags|=256);Ci(b);return null;case 5:hh(b);var e=dh(ch.current);c=b.type;if(null!==a&&null!=b.stateNode)Di(a,b,c,d,e),a.ref!==b.ref&&(b.flags|=128);else{if(!d){if(null===\nb.stateNode)throw Error(y(166));return null}a=dh(ah.current);if(rh(b)){d=b.stateNode;c=b.type;var f=b.memoizedProps;d[wf]=b;d[xf]=f;switch(c){case \"dialog\":G(\"cancel\",d);G(\"close\",d);break;case \"iframe\":case \"object\":case \"embed\":G(\"load\",d);break;case \"video\":case \"audio\":for(a=0;a<Xe.length;a++)G(Xe[a],d);break;case \"source\":G(\"error\",d);break;case \"img\":case \"image\":case \"link\":G(\"error\",d);G(\"load\",d);break;case \"details\":G(\"toggle\",d);break;case \"input\":Za(d,f);G(\"invalid\",d);break;case \"select\":d._wrapperState=\n{wasMultiple:!!f.multiple};G(\"invalid\",d);break;case \"textarea\":hb(d,f),G(\"invalid\",d)}vb(c,f);a=null;for(var g in f)f.hasOwnProperty(g)&&(e=f[g],\"children\"===g?\"string\"===typeof e?d.textContent!==e&&(a=[\"children\",e]):\"number\"===typeof e&&d.textContent!==\"\"+e&&(a=[\"children\",\"\"+e]):ca.hasOwnProperty(g)&&null!=e&&\"onScroll\"===g&&G(\"scroll\",d));switch(c){case \"input\":Va(d);cb(d,f,!0);break;case \"textarea\":Va(d);jb(d);break;case \"select\":case \"option\":break;default:\"function\"===typeof f.onClick&&(d.onclick=\njf)}d=a;b.updateQueue=d;null!==d&&(b.flags|=4)}else{g=9===e.nodeType?e:e.ownerDocument;a===kb.html&&(a=lb(c));a===kb.html?\"script\"===c?(a=g.createElement(\"div\"),a.innerHTML=\"<script>\\x3c/script>\",a=a.removeChild(a.firstChild)):\"string\"===typeof d.is?a=g.createElement(c,{is:d.is}):(a=g.createElement(c),\"select\"===c&&(g=a,d.multiple?g.multiple=!0:d.size&&(g.size=d.size))):a=g.createElementNS(a,c);a[wf]=b;a[xf]=d;Bi(a,b,!1,!1);b.stateNode=a;g=wb(c,d);switch(c){case \"dialog\":G(\"cancel\",a);G(\"close\",a);\ne=d;break;case \"iframe\":case \"object\":case \"embed\":G(\"load\",a);e=d;break;case \"video\":case \"audio\":for(e=0;e<Xe.length;e++)G(Xe[e],a);e=d;break;case \"source\":G(\"error\",a);e=d;break;case \"img\":case \"image\":case \"link\":G(\"error\",a);G(\"load\",a);e=d;break;case \"details\":G(\"toggle\",a);e=d;break;case \"input\":Za(a,d);e=Ya(a,d);G(\"invalid\",a);break;case \"option\":e=eb(a,d);break;case \"select\":a._wrapperState={wasMultiple:!!d.multiple};e=m({},d,{value:void 0});G(\"invalid\",a);break;case \"textarea\":hb(a,d);e=\ngb(a,d);G(\"invalid\",a);break;default:e=d}vb(c,e);var h=e;for(f in h)if(h.hasOwnProperty(f)){var k=h[f];\"style\"===f?tb(a,k):\"dangerouslySetInnerHTML\"===f?(k=k?k.__html:void 0,null!=k&&ob(a,k)):\"children\"===f?\"string\"===typeof k?(\"textarea\"!==c||\"\"!==k)&&pb(a,k):\"number\"===typeof k&&pb(a,\"\"+k):\"suppressContentEditableWarning\"!==f&&\"suppressHydrationWarning\"!==f&&\"autoFocus\"!==f&&(ca.hasOwnProperty(f)?null!=k&&\"onScroll\"===f&&G(\"scroll\",a):null!=k&&qa(a,f,k,g))}switch(c){case \"input\":Va(a);cb(a,d,!1);\nbreak;case \"textarea\":Va(a);jb(a);break;case \"option\":null!=d.value&&a.setAttribute(\"value\",\"\"+Sa(d.value));break;case \"select\":a.multiple=!!d.multiple;f=d.value;null!=f?fb(a,!!d.multiple,f,!1):null!=d.defaultValue&&fb(a,!!d.multiple,d.defaultValue,!0);break;default:\"function\"===typeof e.onClick&&(a.onclick=jf)}mf(c,d)&&(b.flags|=4)}null!==b.ref&&(b.flags|=128)}return null;case 6:if(a&&null!=b.stateNode)Ei(a,b,a.memoizedProps,d);else{if(\"string\"!==typeof d&&null===b.stateNode)throw Error(y(166));\nc=dh(ch.current);dh(ah.current);rh(b)?(d=b.stateNode,c=b.memoizedProps,d[wf]=b,d.nodeValue!==c&&(b.flags|=4)):(d=(9===c.nodeType?c:c.ownerDocument).createTextNode(d),d[wf]=b,b.stateNode=d)}return null;case 13:H(P);d=b.memoizedState;if(0!==(b.flags&64))return b.lanes=c,b;d=null!==d;c=!1;null===a?void 0!==b.memoizedProps.fallback&&rh(b):c=null!==a.memoizedState;if(d&&!c&&0!==(b.mode&2))if(null===a&&!0!==b.memoizedProps.unstable_avoidThisFallback||0!==(P.current&1))0===V&&(V=3);else{if(0===V||3===V)V=\n4;null===U||0===(Dg&134217727)&&0===(Hi&134217727)||Ii(U,W)}if(d||c)b.flags|=4;return null;case 4:return fh(),Ci(b),null===a&&cf(b.stateNode.containerInfo),null;case 10:return rg(b),null;case 17:return Ff(b.type)&&Gf(),null;case 19:H(P);d=b.memoizedState;if(null===d)return null;f=0!==(b.flags&64);g=d.rendering;if(null===g)if(f)Fi(d,!1);else{if(0!==V||null!==a&&0!==(a.flags&64))for(a=b.child;null!==a;){g=ih(a);if(null!==g){b.flags|=64;Fi(d,!1);f=g.updateQueue;null!==f&&(b.updateQueue=f,b.flags|=4);\nnull===d.lastEffect&&(b.firstEffect=null);b.lastEffect=d.lastEffect;d=c;for(c=b.child;null!==c;)f=c,a=d,f.flags&=2,f.nextEffect=null,f.firstEffect=null,f.lastEffect=null,g=f.alternate,null===g?(f.childLanes=0,f.lanes=a,f.child=null,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,a=g.dependencies,\nf.dependencies=null===a?null:{lanes:a.lanes,firstContext:a.firstContext}),c=c.sibling;I(P,P.current&1|2);return b.child}a=a.sibling}null!==d.tail&&O()>Ji&&(b.flags|=64,f=!0,Fi(d,!1),b.lanes=33554432)}else{if(!f)if(a=ih(g),null!==a){if(b.flags|=64,f=!0,c=a.updateQueue,null!==c&&(b.updateQueue=c,b.flags|=4),Fi(d,!0),null===d.tail&&\"hidden\"===d.tailMode&&!g.alternate&&!lh)return b=b.lastEffect=d.lastEffect,null!==b&&(b.nextEffect=null),null}else 2*O()-d.renderingStartTime>Ji&&1073741824!==c&&(b.flags|=\n64,f=!0,Fi(d,!1),b.lanes=33554432);d.isBackwards?(g.sibling=b.child,b.child=g):(c=d.last,null!==c?c.sibling=g:b.child=g,d.last=g)}return null!==d.tail?(c=d.tail,d.rendering=c,d.tail=c.sibling,d.lastEffect=b.lastEffect,d.renderingStartTime=O(),c.sibling=null,b=P.current,I(P,f?b&1|2:b&1),c):null;case 23:case 24:return Ki(),null!==a&&null!==a.memoizedState!==(null!==b.memoizedState)&&\"unstable-defer-without-hiding\"!==d.mode&&(b.flags|=4),null}throw Error(y(156,b.tag));}\nfunction Li(a){switch(a.tag){case 1:Ff(a.type)&&Gf();var b=a.flags;return b&4096?(a.flags=b&-4097|64,a):null;case 3:fh();H(N);H(M);uh();b=a.flags;if(0!==(b&64))throw Error(y(285));a.flags=b&-4097|64;return a;case 5:return hh(a),null;case 13:return H(P),b=a.flags,b&4096?(a.flags=b&-4097|64,a):null;case 19:return H(P),null;case 4:return fh(),null;case 10:return rg(a),null;case 23:case 24:return Ki(),null;default:return null}}\nfunction Mi(a,b){try{var c=\"\",d=b;do c+=Qa(d),d=d.return;while(d);var e=c}catch(f){e=\"\\nError generating stack: \"+f.message+\"\\n\"+f.stack}return{value:a,source:b,stack:e}}function Ni(a,b){try{console.error(b.value)}catch(c){setTimeout(function(){throw c;})}}var Oi=\"function\"===typeof WeakMap?WeakMap:Map;function Pi(a,b,c){c=zg(-1,c);c.tag=3;c.payload={element:null};var d=b.value;c.callback=function(){Qi||(Qi=!0,Ri=d);Ni(a,b)};return c}\nfunction Si(a,b,c){c=zg(-1,c);c.tag=3;var d=a.type.getDerivedStateFromError;if(\"function\"===typeof d){var e=b.value;c.payload=function(){Ni(a,b);return d(e)}}var f=a.stateNode;null!==f&&\"function\"===typeof f.componentDidCatch&&(c.callback=function(){\"function\"!==typeof d&&(null===Ti?Ti=new Set([this]):Ti.add(this),Ni(a,b));var c=b.stack;this.componentDidCatch(b.value,{componentStack:null!==c?c:\"\"})});return c}var Ui=\"function\"===typeof WeakSet?WeakSet:Set;\nfunction Vi(a){var b=a.ref;if(null!==b)if(\"function\"===typeof b)try{b(null)}catch(c){Wi(a,c)}else b.current=null}function Xi(a,b){switch(b.tag){case 0:case 11:case 15:case 22:return;case 1:if(b.flags&256&&null!==a){var c=a.memoizedProps,d=a.memoizedState;a=b.stateNode;b=a.getSnapshotBeforeUpdate(b.elementType===b.type?c:lg(b.type,c),d);a.__reactInternalSnapshotBeforeUpdate=b}return;case 3:b.flags&256&&qf(b.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(y(163));}\nfunction Yi(a,b,c){switch(c.tag){case 0:case 11:case 15:case 22:b=c.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){a=b=b.next;do{if(3===(a.tag&3)){var d=a.create;a.destroy=d()}a=a.next}while(a!==b)}b=c.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){a=b=b.next;do{var e=a;d=e.next;e=e.tag;0!==(e&4)&&0!==(e&1)&&(Zi(c,a),$i(c,a));a=d}while(a!==b)}return;case 1:a=c.stateNode;c.flags&4&&(null===b?a.componentDidMount():(d=c.elementType===c.type?b.memoizedProps:lg(c.type,b.memoizedProps),a.componentDidUpdate(d,\nb.memoizedState,a.__reactInternalSnapshotBeforeUpdate)));b=c.updateQueue;null!==b&&Eg(c,b,a);return;case 3:b=c.updateQueue;if(null!==b){a=null;if(null!==c.child)switch(c.child.tag){case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}Eg(c,b,a)}return;case 5:a=c.stateNode;null===b&&c.flags&4&&mf(c.type,c.memoizedProps)&&a.focus();return;case 6:return;case 4:return;case 12:return;case 13:null===c.memoizedState&&(c=c.alternate,null!==c&&(c=c.memoizedState,null!==c&&(c=c.dehydrated,null!==c&&Cc(c))));\nreturn;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(y(163));}\nfunction aj(a,b){for(var c=a;;){if(5===c.tag){var d=c.stateNode;if(b)d=d.style,\"function\"===typeof d.setProperty?d.setProperty(\"display\",\"none\",\"important\"):d.display=\"none\";else{d=c.stateNode;var e=c.memoizedProps.style;e=void 0!==e&&null!==e&&e.hasOwnProperty(\"display\")?e.display:null;d.style.display=sb(\"display\",e)}}else if(6===c.tag)c.stateNode.nodeValue=b?\"\":c.memoizedProps;else if((23!==c.tag&&24!==c.tag||null===c.memoizedState||c===a)&&null!==c.child){c.child.return=c;c=c.child;continue}if(c===\na)break;for(;null===c.sibling;){if(null===c.return||c.return===a)return;c=c.return}c.sibling.return=c.return;c=c.sibling}}\nfunction bj(a,b){if(Mf&&\"function\"===typeof Mf.onCommitFiberUnmount)try{Mf.onCommitFiberUnmount(Lf,b)}catch(f){}switch(b.tag){case 0:case 11:case 14:case 15:case 22:a=b.updateQueue;if(null!==a&&(a=a.lastEffect,null!==a)){var c=a=a.next;do{var d=c,e=d.destroy;d=d.tag;if(void 0!==e)if(0!==(d&4))Zi(b,c);else{d=b;try{e()}catch(f){Wi(d,f)}}c=c.next}while(c!==a)}break;case 1:Vi(b);a=b.stateNode;if(\"function\"===typeof a.componentWillUnmount)try{a.props=b.memoizedProps,a.state=b.memoizedState,a.componentWillUnmount()}catch(f){Wi(b,\nf)}break;case 5:Vi(b);break;case 4:cj(a,b)}}function dj(a){a.alternate=null;a.child=null;a.dependencies=null;a.firstEffect=null;a.lastEffect=null;a.memoizedProps=null;a.memoizedState=null;a.pendingProps=null;a.return=null;a.updateQueue=null}function ej(a){return 5===a.tag||3===a.tag||4===a.tag}\nfunction fj(a){a:{for(var b=a.return;null!==b;){if(ej(b))break a;b=b.return}throw Error(y(160));}var c=b;b=c.stateNode;switch(c.tag){case 5:var d=!1;break;case 3:b=b.containerInfo;d=!0;break;case 4:b=b.containerInfo;d=!0;break;default:throw Error(y(161));}c.flags&16&&(pb(b,\"\"),c.flags&=-17);a:b:for(c=a;;){for(;null===c.sibling;){if(null===c.return||ej(c.return)){c=null;break a}c=c.return}c.sibling.return=c.return;for(c=c.sibling;5!==c.tag&&6!==c.tag&&18!==c.tag;){if(c.flags&2)continue b;if(null===\nc.child||4===c.tag)continue b;else c.child.return=c,c=c.child}if(!(c.flags&2)){c=c.stateNode;break a}}d?gj(a,c,b):hj(a,c,b)}\nfunction gj(a,b,c){var d=a.tag,e=5===d||6===d;if(e)a=e?a.stateNode:a.stateNode.instance,b?8===c.nodeType?c.parentNode.insertBefore(a,b):c.insertBefore(a,b):(8===c.nodeType?(b=c.parentNode,b.insertBefore(a,c)):(b=c,b.appendChild(a)),c=c._reactRootContainer,null!==c&&void 0!==c||null!==b.onclick||(b.onclick=jf));else if(4!==d&&(a=a.child,null!==a))for(gj(a,b,c),a=a.sibling;null!==a;)gj(a,b,c),a=a.sibling}\nfunction hj(a,b,c){var d=a.tag,e=5===d||6===d;if(e)a=e?a.stateNode:a.stateNode.instance,b?c.insertBefore(a,b):c.appendChild(a);else if(4!==d&&(a=a.child,null!==a))for(hj(a,b,c),a=a.sibling;null!==a;)hj(a,b,c),a=a.sibling}\nfunction cj(a,b){for(var c=b,d=!1,e,f;;){if(!d){d=c.return;a:for(;;){if(null===d)throw Error(y(160));e=d.stateNode;switch(d.tag){case 5:f=!1;break a;case 3:e=e.containerInfo;f=!0;break a;case 4:e=e.containerInfo;f=!0;break a}d=d.return}d=!0}if(5===c.tag||6===c.tag){a:for(var g=a,h=c,k=h;;)if(bj(g,k),null!==k.child&&4!==k.tag)k.child.return=k,k=k.child;else{if(k===h)break a;for(;null===k.sibling;){if(null===k.return||k.return===h)break a;k=k.return}k.sibling.return=k.return;k=k.sibling}f?(g=e,h=c.stateNode,\n8===g.nodeType?g.parentNode.removeChild(h):g.removeChild(h)):e.removeChild(c.stateNode)}else if(4===c.tag){if(null!==c.child){e=c.stateNode.containerInfo;f=!0;c.child.return=c;c=c.child;continue}}else if(bj(a,c),null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return;4===c.tag&&(d=!1)}c.sibling.return=c.return;c=c.sibling}}\nfunction ij(a,b){switch(b.tag){case 0:case 11:case 14:case 15:case 22:var c=b.updateQueue;c=null!==c?c.lastEffect:null;if(null!==c){var d=c=c.next;do 3===(d.tag&3)&&(a=d.destroy,d.destroy=void 0,void 0!==a&&a()),d=d.next;while(d!==c)}return;case 1:return;case 5:c=b.stateNode;if(null!=c){d=b.memoizedProps;var e=null!==a?a.memoizedProps:d;a=b.type;var f=b.updateQueue;b.updateQueue=null;if(null!==f){c[xf]=d;\"input\"===a&&\"radio\"===d.type&&null!=d.name&&$a(c,d);wb(a,e);b=wb(a,d);for(e=0;e<f.length;e+=\n2){var g=f[e],h=f[e+1];\"style\"===g?tb(c,h):\"dangerouslySetInnerHTML\"===g?ob(c,h):\"children\"===g?pb(c,h):qa(c,g,h,b)}switch(a){case \"input\":ab(c,d);break;case \"textarea\":ib(c,d);break;case \"select\":a=c._wrapperState.wasMultiple,c._wrapperState.wasMultiple=!!d.multiple,f=d.value,null!=f?fb(c,!!d.multiple,f,!1):a!==!!d.multiple&&(null!=d.defaultValue?fb(c,!!d.multiple,d.defaultValue,!0):fb(c,!!d.multiple,d.multiple?[]:\"\",!1))}}}return;case 6:if(null===b.stateNode)throw Error(y(162));b.stateNode.nodeValue=\nb.memoizedProps;return;case 3:c=b.stateNode;c.hydrate&&(c.hydrate=!1,Cc(c.containerInfo));return;case 12:return;case 13:null!==b.memoizedState&&(jj=O(),aj(b.child,!0));kj(b);return;case 19:kj(b);return;case 17:return;case 23:case 24:aj(b,null!==b.memoizedState);return}throw Error(y(163));}function kj(a){var b=a.updateQueue;if(null!==b){a.updateQueue=null;var c=a.stateNode;null===c&&(c=a.stateNode=new Ui);b.forEach(function(b){var d=lj.bind(null,a,b);c.has(b)||(c.add(b),b.then(d,d))})}}\nfunction mj(a,b){return null!==a&&(a=a.memoizedState,null===a||null!==a.dehydrated)?(b=b.memoizedState,null!==b&&null===b.dehydrated):!1}var nj=Math.ceil,oj=ra.ReactCurrentDispatcher,pj=ra.ReactCurrentOwner,X=0,U=null,Y=null,W=0,qj=0,rj=Bf(0),V=0,sj=null,tj=0,Dg=0,Hi=0,uj=0,vj=null,jj=0,Ji=Infinity;function wj(){Ji=O()+500}var Z=null,Qi=!1,Ri=null,Ti=null,xj=!1,yj=null,zj=90,Aj=[],Bj=[],Cj=null,Dj=0,Ej=null,Fj=-1,Gj=0,Hj=0,Ij=null,Jj=!1;function Hg(){return 0!==(X&48)?O():-1!==Fj?Fj:Fj=O()}\nfunction Ig(a){a=a.mode;if(0===(a&2))return 1;if(0===(a&4))return 99===eg()?1:2;0===Gj&&(Gj=tj);if(0!==kg.transition){0!==Hj&&(Hj=null!==vj?vj.pendingLanes:0);a=Gj;var b=4186112&~Hj;b&=-b;0===b&&(a=4186112&~a,b=a&-a,0===b&&(b=8192));return b}a=eg();0!==(X&4)&&98===a?a=Xc(12,Gj):(a=Sc(a),a=Xc(a,Gj));return a}\nfunction Jg(a,b,c){if(50<Dj)throw Dj=0,Ej=null,Error(y(185));a=Kj(a,b);if(null===a)return null;$c(a,b,c);a===U&&(Hi|=b,4===V&&Ii(a,W));var d=eg();1===b?0!==(X&8)&&0===(X&48)?Lj(a):(Mj(a,c),0===X&&(wj(),ig())):(0===(X&4)||98!==d&&99!==d||(null===Cj?Cj=new Set([a]):Cj.add(a)),Mj(a,c));vj=a}function Kj(a,b){a.lanes|=b;var c=a.alternate;null!==c&&(c.lanes|=b);c=a;for(a=a.return;null!==a;)a.childLanes|=b,c=a.alternate,null!==c&&(c.childLanes|=b),c=a,a=a.return;return 3===c.tag?c.stateNode:null}\nfunction Mj(a,b){for(var c=a.callbackNode,d=a.suspendedLanes,e=a.pingedLanes,f=a.expirationTimes,g=a.pendingLanes;0<g;){var h=31-Vc(g),k=1<<h,l=f[h];if(-1===l){if(0===(k&d)||0!==(k&e)){l=b;Rc(k);var n=F;f[h]=10<=n?l+250:6<=n?l+5E3:-1}}else l<=b&&(a.expiredLanes|=k);g&=~k}d=Uc(a,a===U?W:0);b=F;if(0===d)null!==c&&(c!==Zf&&Pf(c),a.callbackNode=null,a.callbackPriority=0);else{if(null!==c){if(a.callbackPriority===b)return;c!==Zf&&Pf(c)}15===b?(c=Lj.bind(null,a),null===ag?(ag=[c],bg=Of(Uf,jg)):ag.push(c),\nc=Zf):14===b?c=hg(99,Lj.bind(null,a)):(c=Tc(b),c=hg(c,Nj.bind(null,a)));a.callbackPriority=b;a.callbackNode=c}}\nfunction Nj(a){Fj=-1;Hj=Gj=0;if(0!==(X&48))throw Error(y(327));var b=a.callbackNode;if(Oj()&&a.callbackNode!==b)return null;var c=Uc(a,a===U?W:0);if(0===c)return null;var d=c;var e=X;X|=16;var f=Pj();if(U!==a||W!==d)wj(),Qj(a,d);do try{Rj();break}catch(h){Sj(a,h)}while(1);qg();oj.current=f;X=e;null!==Y?d=0:(U=null,W=0,d=V);if(0!==(tj&Hi))Qj(a,0);else if(0!==d){2===d&&(X|=64,a.hydrate&&(a.hydrate=!1,qf(a.containerInfo)),c=Wc(a),0!==c&&(d=Tj(a,c)));if(1===d)throw b=sj,Qj(a,0),Ii(a,c),Mj(a,O()),b;a.finishedWork=\na.current.alternate;a.finishedLanes=c;switch(d){case 0:case 1:throw Error(y(345));case 2:Uj(a);break;case 3:Ii(a,c);if((c&62914560)===c&&(d=jj+500-O(),10<d)){if(0!==Uc(a,0))break;e=a.suspendedLanes;if((e&c)!==c){Hg();a.pingedLanes|=a.suspendedLanes&e;break}a.timeoutHandle=of(Uj.bind(null,a),d);break}Uj(a);break;case 4:Ii(a,c);if((c&4186112)===c)break;d=a.eventTimes;for(e=-1;0<c;){var g=31-Vc(c);f=1<<g;g=d[g];g>e&&(e=g);c&=~f}c=e;c=O()-c;c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3E3>c?3E3:4320>\nc?4320:1960*nj(c/1960))-c;if(10<c){a.timeoutHandle=of(Uj.bind(null,a),c);break}Uj(a);break;case 5:Uj(a);break;default:throw Error(y(329));}}Mj(a,O());return a.callbackNode===b?Nj.bind(null,a):null}function Ii(a,b){b&=~uj;b&=~Hi;a.suspendedLanes|=b;a.pingedLanes&=~b;for(a=a.expirationTimes;0<b;){var c=31-Vc(b),d=1<<c;a[c]=-1;b&=~d}}\nfunction Lj(a){if(0!==(X&48))throw Error(y(327));Oj();if(a===U&&0!==(a.expiredLanes&W)){var b=W;var c=Tj(a,b);0!==(tj&Hi)&&(b=Uc(a,b),c=Tj(a,b))}else b=Uc(a,0),c=Tj(a,b);0!==a.tag&&2===c&&(X|=64,a.hydrate&&(a.hydrate=!1,qf(a.containerInfo)),b=Wc(a),0!==b&&(c=Tj(a,b)));if(1===c)throw c=sj,Qj(a,0),Ii(a,b),Mj(a,O()),c;a.finishedWork=a.current.alternate;a.finishedLanes=b;Uj(a);Mj(a,O());return null}\nfunction Vj(){if(null!==Cj){var a=Cj;Cj=null;a.forEach(function(a){a.expiredLanes|=24&a.pendingLanes;Mj(a,O())})}ig()}function Wj(a,b){var c=X;X|=1;try{return a(b)}finally{X=c,0===X&&(wj(),ig())}}function Xj(a,b){var c=X;X&=-2;X|=8;try{return a(b)}finally{X=c,0===X&&(wj(),ig())}}function ni(a,b){I(rj,qj);qj|=b;tj|=b}function Ki(){qj=rj.current;H(rj)}\nfunction Qj(a,b){a.finishedWork=null;a.finishedLanes=0;var c=a.timeoutHandle;-1!==c&&(a.timeoutHandle=-1,pf(c));if(null!==Y)for(c=Y.return;null!==c;){var d=c;switch(d.tag){case 1:d=d.type.childContextTypes;null!==d&&void 0!==d&&Gf();break;case 3:fh();H(N);H(M);uh();break;case 5:hh(d);break;case 4:fh();break;case 13:H(P);break;case 19:H(P);break;case 10:rg(d);break;case 23:case 24:Ki()}c=c.return}U=a;Y=Tg(a.current,null);W=qj=tj=b;V=0;sj=null;uj=Hi=Dg=0}\nfunction Sj(a,b){do{var c=Y;try{qg();vh.current=Gh;if(yh){for(var d=R.memoizedState;null!==d;){var e=d.queue;null!==e&&(e.pending=null);d=d.next}yh=!1}xh=0;T=S=R=null;zh=!1;pj.current=null;if(null===c||null===c.return){V=1;sj=b;Y=null;break}a:{var f=a,g=c.return,h=c,k=b;b=W;h.flags|=2048;h.firstEffect=h.lastEffect=null;if(null!==k&&\"object\"===typeof k&&\"function\"===typeof k.then){var l=k;if(0===(h.mode&2)){var n=h.alternate;n?(h.updateQueue=n.updateQueue,h.memoizedState=n.memoizedState,h.lanes=n.lanes):\n(h.updateQueue=null,h.memoizedState=null)}var A=0!==(P.current&1),p=g;do{var C;if(C=13===p.tag){var x=p.memoizedState;if(null!==x)C=null!==x.dehydrated?!0:!1;else{var w=p.memoizedProps;C=void 0===w.fallback?!1:!0!==w.unstable_avoidThisFallback?!0:A?!1:!0}}if(C){var z=p.updateQueue;if(null===z){var u=new Set;u.add(l);p.updateQueue=u}else z.add(l);if(0===(p.mode&2)){p.flags|=64;h.flags|=16384;h.flags&=-2981;if(1===h.tag)if(null===h.alternate)h.tag=17;else{var t=zg(-1,1);t.tag=2;Ag(h,t)}h.lanes|=1;break a}k=\nvoid 0;h=b;var q=f.pingCache;null===q?(q=f.pingCache=new Oi,k=new Set,q.set(l,k)):(k=q.get(l),void 0===k&&(k=new Set,q.set(l,k)));if(!k.has(h)){k.add(h);var v=Yj.bind(null,f,l,h);l.then(v,v)}p.flags|=4096;p.lanes=b;break a}p=p.return}while(null!==p);k=Error((Ra(h.type)||\"A React component\")+\" suspended while rendering, but no fallback UI was specified.\\n\\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.\")}5!==V&&(V=2);k=Mi(k,h);p=\ng;do{switch(p.tag){case 3:f=k;p.flags|=4096;b&=-b;p.lanes|=b;var J=Pi(p,f,b);Bg(p,J);break a;case 1:f=k;var K=p.type,Q=p.stateNode;if(0===(p.flags&64)&&(\"function\"===typeof K.getDerivedStateFromError||null!==Q&&\"function\"===typeof Q.componentDidCatch&&(null===Ti||!Ti.has(Q)))){p.flags|=4096;b&=-b;p.lanes|=b;var L=Si(p,f,b);Bg(p,L);break a}}p=p.return}while(null!==p)}Zj(c)}catch(va){b=va;Y===c&&null!==c&&(Y=c=c.return);continue}break}while(1)}\nfunction Pj(){var a=oj.current;oj.current=Gh;return null===a?Gh:a}function Tj(a,b){var c=X;X|=16;var d=Pj();U===a&&W===b||Qj(a,b);do try{ak();break}catch(e){Sj(a,e)}while(1);qg();X=c;oj.current=d;if(null!==Y)throw Error(y(261));U=null;W=0;return V}function ak(){for(;null!==Y;)bk(Y)}function Rj(){for(;null!==Y&&!Qf();)bk(Y)}function bk(a){var b=ck(a.alternate,a,qj);a.memoizedProps=a.pendingProps;null===b?Zj(a):Y=b;pj.current=null}\nfunction Zj(a){var b=a;do{var c=b.alternate;a=b.return;if(0===(b.flags&2048)){c=Gi(c,b,qj);if(null!==c){Y=c;return}c=b;if(24!==c.tag&&23!==c.tag||null===c.memoizedState||0!==(qj&1073741824)||0===(c.mode&4)){for(var d=0,e=c.child;null!==e;)d|=e.lanes|e.childLanes,e=e.sibling;c.childLanes=d}null!==a&&0===(a.flags&2048)&&(null===a.firstEffect&&(a.firstEffect=b.firstEffect),null!==b.lastEffect&&(null!==a.lastEffect&&(a.lastEffect.nextEffect=b.firstEffect),a.lastEffect=b.lastEffect),1<b.flags&&(null!==\na.lastEffect?a.lastEffect.nextEffect=b:a.firstEffect=b,a.lastEffect=b))}else{c=Li(b);if(null!==c){c.flags&=2047;Y=c;return}null!==a&&(a.firstEffect=a.lastEffect=null,a.flags|=2048)}b=b.sibling;if(null!==b){Y=b;return}Y=b=a}while(null!==b);0===V&&(V=5)}function Uj(a){var b=eg();gg(99,dk.bind(null,a,b));return null}\nfunction dk(a,b){do Oj();while(null!==yj);if(0!==(X&48))throw Error(y(327));var c=a.finishedWork;if(null===c)return null;a.finishedWork=null;a.finishedLanes=0;if(c===a.current)throw Error(y(177));a.callbackNode=null;var d=c.lanes|c.childLanes,e=d,f=a.pendingLanes&~e;a.pendingLanes=e;a.suspendedLanes=0;a.pingedLanes=0;a.expiredLanes&=e;a.mutableReadLanes&=e;a.entangledLanes&=e;e=a.entanglements;for(var g=a.eventTimes,h=a.expirationTimes;0<f;){var k=31-Vc(f),l=1<<k;e[k]=0;g[k]=-1;h[k]=-1;f&=~l}null!==\nCj&&0===(d&24)&&Cj.has(a)&&Cj.delete(a);a===U&&(Y=U=null,W=0);1<c.flags?null!==c.lastEffect?(c.lastEffect.nextEffect=c,d=c.firstEffect):d=c:d=c.firstEffect;if(null!==d){e=X;X|=32;pj.current=null;kf=fd;g=Ne();if(Oe(g)){if(\"selectionStart\"in g)h={start:g.selectionStart,end:g.selectionEnd};else a:if(h=(h=g.ownerDocument)&&h.defaultView||window,(l=h.getSelection&&h.getSelection())&&0!==l.rangeCount){h=l.anchorNode;f=l.anchorOffset;k=l.focusNode;l=l.focusOffset;try{h.nodeType,k.nodeType}catch(va){h=null;\nbreak a}var n=0,A=-1,p=-1,C=0,x=0,w=g,z=null;b:for(;;){for(var u;;){w!==h||0!==f&&3!==w.nodeType||(A=n+f);w!==k||0!==l&&3!==w.nodeType||(p=n+l);3===w.nodeType&&(n+=w.nodeValue.length);if(null===(u=w.firstChild))break;z=w;w=u}for(;;){if(w===g)break b;z===h&&++C===f&&(A=n);z===k&&++x===l&&(p=n);if(null!==(u=w.nextSibling))break;w=z;z=w.parentNode}w=u}h=-1===A||-1===p?null:{start:A,end:p}}else h=null;h=h||{start:0,end:0}}else h=null;lf={focusedElem:g,selectionRange:h};fd=!1;Ij=null;Jj=!1;Z=d;do try{ek()}catch(va){if(null===\nZ)throw Error(y(330));Wi(Z,va);Z=Z.nextEffect}while(null!==Z);Ij=null;Z=d;do try{for(g=a;null!==Z;){var t=Z.flags;t&16&&pb(Z.stateNode,\"\");if(t&128){var q=Z.alternate;if(null!==q){var v=q.ref;null!==v&&(\"function\"===typeof v?v(null):v.current=null)}}switch(t&1038){case 2:fj(Z);Z.flags&=-3;break;case 6:fj(Z);Z.flags&=-3;ij(Z.alternate,Z);break;case 1024:Z.flags&=-1025;break;case 1028:Z.flags&=-1025;ij(Z.alternate,Z);break;case 4:ij(Z.alternate,Z);break;case 8:h=Z;cj(g,h);var J=h.alternate;dj(h);null!==\nJ&&dj(J)}Z=Z.nextEffect}}catch(va){if(null===Z)throw Error(y(330));Wi(Z,va);Z=Z.nextEffect}while(null!==Z);v=lf;q=Ne();t=v.focusedElem;g=v.selectionRange;if(q!==t&&t&&t.ownerDocument&&Me(t.ownerDocument.documentElement,t)){null!==g&&Oe(t)&&(q=g.start,v=g.end,void 0===v&&(v=q),\"selectionStart\"in t?(t.selectionStart=q,t.selectionEnd=Math.min(v,t.value.length)):(v=(q=t.ownerDocument||document)&&q.defaultView||window,v.getSelection&&(v=v.getSelection(),h=t.textContent.length,J=Math.min(g.start,h),g=void 0===\ng.end?J:Math.min(g.end,h),!v.extend&&J>g&&(h=g,g=J,J=h),h=Le(t,J),f=Le(t,g),h&&f&&(1!==v.rangeCount||v.anchorNode!==h.node||v.anchorOffset!==h.offset||v.focusNode!==f.node||v.focusOffset!==f.offset)&&(q=q.createRange(),q.setStart(h.node,h.offset),v.removeAllRanges(),J>g?(v.addRange(q),v.extend(f.node,f.offset)):(q.setEnd(f.node,f.offset),v.addRange(q))))));q=[];for(v=t;v=v.parentNode;)1===v.nodeType&&q.push({element:v,left:v.scrollLeft,top:v.scrollTop});\"function\"===typeof t.focus&&t.focus();for(t=\n0;t<q.length;t++)v=q[t],v.element.scrollLeft=v.left,v.element.scrollTop=v.top}fd=!!kf;lf=kf=null;a.current=c;Z=d;do try{for(t=a;null!==Z;){var K=Z.flags;K&36&&Yi(t,Z.alternate,Z);if(K&128){q=void 0;var Q=Z.ref;if(null!==Q){var L=Z.stateNode;switch(Z.tag){case 5:q=L;break;default:q=L}\"function\"===typeof Q?Q(q):Q.current=q}}Z=Z.nextEffect}}catch(va){if(null===Z)throw Error(y(330));Wi(Z,va);Z=Z.nextEffect}while(null!==Z);Z=null;$f();X=e}else a.current=c;if(xj)xj=!1,yj=a,zj=b;else for(Z=d;null!==Z;)b=\nZ.nextEffect,Z.nextEffect=null,Z.flags&8&&(K=Z,K.sibling=null,K.stateNode=null),Z=b;d=a.pendingLanes;0===d&&(Ti=null);1===d?a===Ej?Dj++:(Dj=0,Ej=a):Dj=0;c=c.stateNode;if(Mf&&\"function\"===typeof Mf.onCommitFiberRoot)try{Mf.onCommitFiberRoot(Lf,c,void 0,64===(c.current.flags&64))}catch(va){}Mj(a,O());if(Qi)throw Qi=!1,a=Ri,Ri=null,a;if(0!==(X&8))return null;ig();return null}\nfunction ek(){for(;null!==Z;){var a=Z.alternate;Jj||null===Ij||(0!==(Z.flags&8)?dc(Z,Ij)&&(Jj=!0):13===Z.tag&&mj(a,Z)&&dc(Z,Ij)&&(Jj=!0));var b=Z.flags;0!==(b&256)&&Xi(a,Z);0===(b&512)||xj||(xj=!0,hg(97,function(){Oj();return null}));Z=Z.nextEffect}}function Oj(){if(90!==zj){var a=97<zj?97:zj;zj=90;return gg(a,fk)}return!1}function $i(a,b){Aj.push(b,a);xj||(xj=!0,hg(97,function(){Oj();return null}))}function Zi(a,b){Bj.push(b,a);xj||(xj=!0,hg(97,function(){Oj();return null}))}\nfunction fk(){if(null===yj)return!1;var a=yj;yj=null;if(0!==(X&48))throw Error(y(331));var b=X;X|=32;var c=Bj;Bj=[];for(var d=0;d<c.length;d+=2){var e=c[d],f=c[d+1],g=e.destroy;e.destroy=void 0;if(\"function\"===typeof g)try{g()}catch(k){if(null===f)throw Error(y(330));Wi(f,k)}}c=Aj;Aj=[];for(d=0;d<c.length;d+=2){e=c[d];f=c[d+1];try{var h=e.create;e.destroy=h()}catch(k){if(null===f)throw Error(y(330));Wi(f,k)}}for(h=a.current.firstEffect;null!==h;)a=h.nextEffect,h.nextEffect=null,h.flags&8&&(h.sibling=\nnull,h.stateNode=null),h=a;X=b;ig();return!0}function gk(a,b,c){b=Mi(c,b);b=Pi(a,b,1);Ag(a,b);b=Hg();a=Kj(a,1);null!==a&&($c(a,1,b),Mj(a,b))}\nfunction Wi(a,b){if(3===a.tag)gk(a,a,b);else for(var c=a.return;null!==c;){if(3===c.tag){gk(c,a,b);break}else if(1===c.tag){var d=c.stateNode;if(\"function\"===typeof c.type.getDerivedStateFromError||\"function\"===typeof d.componentDidCatch&&(null===Ti||!Ti.has(d))){a=Mi(b,a);var e=Si(c,a,1);Ag(c,e);e=Hg();c=Kj(c,1);if(null!==c)$c(c,1,e),Mj(c,e);else if(\"function\"===typeof d.componentDidCatch&&(null===Ti||!Ti.has(d)))try{d.componentDidCatch(b,a)}catch(f){}break}}c=c.return}}\nfunction Yj(a,b,c){var d=a.pingCache;null!==d&&d.delete(b);b=Hg();a.pingedLanes|=a.suspendedLanes&c;U===a&&(W&c)===c&&(4===V||3===V&&(W&62914560)===W&&500>O()-jj?Qj(a,0):uj|=c);Mj(a,b)}function lj(a,b){var c=a.stateNode;null!==c&&c.delete(b);b=0;0===b&&(b=a.mode,0===(b&2)?b=1:0===(b&4)?b=99===eg()?1:2:(0===Gj&&(Gj=tj),b=Yc(62914560&~Gj),0===b&&(b=4194304)));c=Hg();a=Kj(a,b);null!==a&&($c(a,b,c),Mj(a,c))}var ck;\nck=function(a,b,c){var d=b.lanes;if(null!==a)if(a.memoizedProps!==b.pendingProps||N.current)ug=!0;else if(0!==(c&d))ug=0!==(a.flags&16384)?!0:!1;else{ug=!1;switch(b.tag){case 3:ri(b);sh();break;case 5:gh(b);break;case 1:Ff(b.type)&&Jf(b);break;case 4:eh(b,b.stateNode.containerInfo);break;case 10:d=b.memoizedProps.value;var e=b.type._context;I(mg,e._currentValue);e._currentValue=d;break;case 13:if(null!==b.memoizedState){if(0!==(c&b.child.childLanes))return ti(a,b,c);I(P,P.current&1);b=hi(a,b,c);return null!==\nb?b.sibling:null}I(P,P.current&1);break;case 19:d=0!==(c&b.childLanes);if(0!==(a.flags&64)){if(d)return Ai(a,b,c);b.flags|=64}e=b.memoizedState;null!==e&&(e.rendering=null,e.tail=null,e.lastEffect=null);I(P,P.current);if(d)break;else return null;case 23:case 24:return b.lanes=0,mi(a,b,c)}return hi(a,b,c)}else ug=!1;b.lanes=0;switch(b.tag){case 2:d=b.type;null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2);a=b.pendingProps;e=Ef(b,M.current);tg(b,c);e=Ch(null,b,d,a,e,c);b.flags|=1;if(\"object\"===\ntypeof e&&null!==e&&\"function\"===typeof e.render&&void 0===e.$$typeof){b.tag=1;b.memoizedState=null;b.updateQueue=null;if(Ff(d)){var f=!0;Jf(b)}else f=!1;b.memoizedState=null!==e.state&&void 0!==e.state?e.state:null;xg(b);var g=d.getDerivedStateFromProps;\"function\"===typeof g&&Gg(b,d,g,a);e.updater=Kg;b.stateNode=e;e._reactInternals=b;Og(b,d,a,c);b=qi(null,b,d,!0,f,c)}else b.tag=0,fi(null,b,e,c),b=b.child;return b;case 16:e=b.elementType;a:{null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2);\na=b.pendingProps;f=e._init;e=f(e._payload);b.type=e;f=b.tag=hk(e);a=lg(e,a);switch(f){case 0:b=li(null,b,e,a,c);break a;case 1:b=pi(null,b,e,a,c);break a;case 11:b=gi(null,b,e,a,c);break a;case 14:b=ii(null,b,e,lg(e.type,a),d,c);break a}throw Error(y(306,e,\"\"));}return b;case 0:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:lg(d,e),li(a,b,d,e,c);case 1:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:lg(d,e),pi(a,b,d,e,c);case 3:ri(b);d=b.updateQueue;if(null===a||null===d)throw Error(y(282));\nd=b.pendingProps;e=b.memoizedState;e=null!==e?e.element:null;yg(a,b);Cg(b,d,null,c);d=b.memoizedState.element;if(d===e)sh(),b=hi(a,b,c);else{e=b.stateNode;if(f=e.hydrate)kh=rf(b.stateNode.containerInfo.firstChild),jh=b,f=lh=!0;if(f){a=e.mutableSourceEagerHydrationData;if(null!=a)for(e=0;e<a.length;e+=2)f=a[e],f._workInProgressVersionPrimary=a[e+1],th.push(f);c=Zg(b,null,d,c);for(b.child=c;c;)c.flags=c.flags&-3|1024,c=c.sibling}else fi(a,b,d,c),sh();b=b.child}return b;case 5:return gh(b),null===a&&\nph(b),d=b.type,e=b.pendingProps,f=null!==a?a.memoizedProps:null,g=e.children,nf(d,e)?g=null:null!==f&&nf(d,f)&&(b.flags|=16),oi(a,b),fi(a,b,g,c),b.child;case 6:return null===a&&ph(b),null;case 13:return ti(a,b,c);case 4:return eh(b,b.stateNode.containerInfo),d=b.pendingProps,null===a?b.child=Yg(b,null,d,c):fi(a,b,d,c),b.child;case 11:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:lg(d,e),gi(a,b,d,e,c);case 7:return fi(a,b,b.pendingProps,c),b.child;case 8:return fi(a,b,b.pendingProps.children,\nc),b.child;case 12:return fi(a,b,b.pendingProps.children,c),b.child;case 10:a:{d=b.type._context;e=b.pendingProps;g=b.memoizedProps;f=e.value;var h=b.type._context;I(mg,h._currentValue);h._currentValue=f;if(null!==g)if(h=g.value,f=He(h,f)?0:(\"function\"===typeof d._calculateChangedBits?d._calculateChangedBits(h,f):1073741823)|0,0===f){if(g.children===e.children&&!N.current){b=hi(a,b,c);break a}}else for(h=b.child,null!==h&&(h.return=b);null!==h;){var k=h.dependencies;if(null!==k){g=h.child;for(var l=\nk.firstContext;null!==l;){if(l.context===d&&0!==(l.observedBits&f)){1===h.tag&&(l=zg(-1,c&-c),l.tag=2,Ag(h,l));h.lanes|=c;l=h.alternate;null!==l&&(l.lanes|=c);sg(h.return,c);k.lanes|=c;break}l=l.next}}else g=10===h.tag?h.type===b.type?null:h.child:h.child;if(null!==g)g.return=h;else for(g=h;null!==g;){if(g===b){g=null;break}h=g.sibling;if(null!==h){h.return=g.return;g=h;break}g=g.return}h=g}fi(a,b,e.children,c);b=b.child}return b;case 9:return e=b.type,f=b.pendingProps,d=f.children,tg(b,c),e=vg(e,\nf.unstable_observedBits),d=d(e),b.flags|=1,fi(a,b,d,c),b.child;case 14:return e=b.type,f=lg(e,b.pendingProps),f=lg(e.type,f),ii(a,b,e,f,d,c);case 15:return ki(a,b,b.type,b.pendingProps,d,c);case 17:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:lg(d,e),null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2),b.tag=1,Ff(d)?(a=!0,Jf(b)):a=!1,tg(b,c),Mg(b,d,e),Og(b,d,e,c),qi(null,b,d,!0,a,c);case 19:return Ai(a,b,c);case 23:return mi(a,b,c);case 24:return mi(a,b,c)}throw Error(y(156,b.tag));\n};function ik(a,b,c,d){this.tag=a;this.key=c;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=b;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=d;this.flags=0;this.lastEffect=this.firstEffect=this.nextEffect=null;this.childLanes=this.lanes=0;this.alternate=null}function nh(a,b,c,d){return new ik(a,b,c,d)}function ji(a){a=a.prototype;return!(!a||!a.isReactComponent)}\nfunction hk(a){if(\"function\"===typeof a)return ji(a)?1:0;if(void 0!==a&&null!==a){a=a.$$typeof;if(a===Aa)return 11;if(a===Da)return 14}return 2}\nfunction Tg(a,b){var c=a.alternate;null===c?(c=nh(a.tag,b,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=b,c.type=a.type,c.flags=0,c.nextEffect=null,c.firstEffect=null,c.lastEffect=null);c.childLanes=a.childLanes;c.lanes=a.lanes;c.child=a.child;c.memoizedProps=a.memoizedProps;c.memoizedState=a.memoizedState;c.updateQueue=a.updateQueue;b=a.dependencies;c.dependencies=null===b?null:{lanes:b.lanes,firstContext:b.firstContext};\nc.sibling=a.sibling;c.index=a.index;c.ref=a.ref;return c}\nfunction Vg(a,b,c,d,e,f){var g=2;d=a;if(\"function\"===typeof a)ji(a)&&(g=1);else if(\"string\"===typeof a)g=5;else a:switch(a){case ua:return Xg(c.children,e,f,b);case Ha:g=8;e|=16;break;case wa:g=8;e|=1;break;case xa:return a=nh(12,c,b,e|8),a.elementType=xa,a.type=xa,a.lanes=f,a;case Ba:return a=nh(13,c,b,e),a.type=Ba,a.elementType=Ba,a.lanes=f,a;case Ca:return a=nh(19,c,b,e),a.elementType=Ca,a.lanes=f,a;case Ia:return vi(c,e,f,b);case Ja:return a=nh(24,c,b,e),a.elementType=Ja,a.lanes=f,a;default:if(\"object\"===\ntypeof a&&null!==a)switch(a.$$typeof){case ya:g=10;break a;case za:g=9;break a;case Aa:g=11;break a;case Da:g=14;break a;case Ea:g=16;d=null;break a;case Fa:g=22;break a}throw Error(y(130,null==a?a:typeof a,\"\"));}b=nh(g,c,b,e);b.elementType=a;b.type=d;b.lanes=f;return b}function Xg(a,b,c,d){a=nh(7,a,d,b);a.lanes=c;return a}function vi(a,b,c,d){a=nh(23,a,d,b);a.elementType=Ia;a.lanes=c;return a}function Ug(a,b,c){a=nh(6,a,null,b);a.lanes=c;return a}\nfunction Wg(a,b,c){b=nh(4,null!==a.children?a.children:[],a.key,b);b.lanes=c;b.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation};return b}\nfunction jk(a,b,c){this.tag=b;this.containerInfo=a;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=-1;this.pendingContext=this.context=null;this.hydrate=c;this.callbackNode=null;this.callbackPriority=0;this.eventTimes=Zc(0);this.expirationTimes=Zc(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=Zc(0);this.mutableSourceEagerHydrationData=null}\nfunction kk(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:ta,key:null==d?null:\"\"+d,children:a,containerInfo:b,implementation:c}}\nfunction lk(a,b,c,d){var e=b.current,f=Hg(),g=Ig(e);a:if(c){c=c._reactInternals;b:{if(Zb(c)!==c||1!==c.tag)throw Error(y(170));var h=c;do{switch(h.tag){case 3:h=h.stateNode.context;break b;case 1:if(Ff(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break b}}h=h.return}while(null!==h);throw Error(y(171));}if(1===c.tag){var k=c.type;if(Ff(k)){c=If(c,k,h);break a}}c=h}else c=Cf;null===b.context?b.context=c:b.pendingContext=c;b=zg(f,g);b.payload={element:a};d=void 0===d?null:d;null!==\nd&&(b.callback=d);Ag(e,b);Jg(e,g,f);return g}function mk(a){a=a.current;if(!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function nk(a,b){a=a.memoizedState;if(null!==a&&null!==a.dehydrated){var c=a.retryLane;a.retryLane=0!==c&&c<b?c:b}}function ok(a,b){nk(a,b);(a=a.alternate)&&nk(a,b)}function pk(){return null}\nfunction qk(a,b,c){var d=null!=c&&null!=c.hydrationOptions&&c.hydrationOptions.mutableSources||null;c=new jk(a,b,null!=c&&!0===c.hydrate);b=nh(3,null,null,2===b?7:1===b?3:0);c.current=b;b.stateNode=c;xg(b);a[ff]=c.current;cf(8===a.nodeType?a.parentNode:a);if(d)for(a=0;a<d.length;a++){b=d[a];var e=b._getVersion;e=e(b._source);null==c.mutableSourceEagerHydrationData?c.mutableSourceEagerHydrationData=[b,e]:c.mutableSourceEagerHydrationData.push(b,e)}this._internalRoot=c}\nqk.prototype.render=function(a){lk(a,this._internalRoot,null,null)};qk.prototype.unmount=function(){var a=this._internalRoot,b=a.containerInfo;lk(null,a,null,function(){b[ff]=null})};function rk(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType&&(8!==a.nodeType||\" react-mount-point-unstable \"!==a.nodeValue))}\nfunction sk(a,b){b||(b=a?9===a.nodeType?a.documentElement:a.firstChild:null,b=!(!b||1!==b.nodeType||!b.hasAttribute(\"data-reactroot\")));if(!b)for(var c;c=a.lastChild;)a.removeChild(c);return new qk(a,0,b?{hydrate:!0}:void 0)}\nfunction tk(a,b,c,d,e){var f=c._reactRootContainer;if(f){var g=f._internalRoot;if(\"function\"===typeof e){var h=e;e=function(){var a=mk(g);h.call(a)}}lk(b,g,a,e)}else{f=c._reactRootContainer=sk(c,d);g=f._internalRoot;if(\"function\"===typeof e){var k=e;e=function(){var a=mk(g);k.call(a)}}Xj(function(){lk(b,g,a,e)})}return mk(g)}ec=function(a){if(13===a.tag){var b=Hg();Jg(a,4,b);ok(a,4)}};fc=function(a){if(13===a.tag){var b=Hg();Jg(a,67108864,b);ok(a,67108864)}};\ngc=function(a){if(13===a.tag){var b=Hg(),c=Ig(a);Jg(a,c,b);ok(a,c)}};hc=function(a,b){return b()};\nyb=function(a,b,c){switch(b){case \"input\":ab(a,c);b=c.name;if(\"radio\"===c.type&&null!=b){for(c=a;c.parentNode;)c=c.parentNode;c=c.querySelectorAll(\"input[name=\"+JSON.stringify(\"\"+b)+'][type=\"radio\"]');for(b=0;b<c.length;b++){var d=c[b];if(d!==a&&d.form===a.form){var e=Db(d);if(!e)throw Error(y(90));Wa(d);ab(d,e)}}}break;case \"textarea\":ib(a,c);break;case \"select\":b=c.value,null!=b&&fb(a,!!c.multiple,b,!1)}};Gb=Wj;\nHb=function(a,b,c,d,e){var f=X;X|=4;try{return gg(98,a.bind(null,b,c,d,e))}finally{X=f,0===X&&(wj(),ig())}};Ib=function(){0===(X&49)&&(Vj(),Oj())};Jb=function(a,b){var c=X;X|=2;try{return a(b)}finally{X=c,0===X&&(wj(),ig())}};function uk(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!rk(b))throw Error(y(200));return kk(a,b,null,c)}var vk={Events:[Cb,ue,Db,Eb,Fb,Oj,{current:!1}]},wk={findFiberByHostInstance:wc,bundleType:0,version:\"17.0.1\",rendererPackageName:\"react-dom\"};\nvar xk={bundleType:wk.bundleType,version:wk.version,rendererPackageName:wk.rendererPackageName,rendererConfig:wk.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ra.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){a=cc(a);return null===a?null:a.stateNode},findFiberByHostInstance:wk.findFiberByHostInstance||\npk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(\"undefined\"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var yk=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yk.isDisabled&&yk.supportsFiber)try{Lf=yk.inject(xk),Mf=yk}catch(a){}}exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vk;exports.createPortal=uk;\nexports.findDOMNode=function(a){if(null==a)return null;if(1===a.nodeType)return a;var b=a._reactInternals;if(void 0===b){if(\"function\"===typeof a.render)throw Error(y(188));throw Error(y(268,Object.keys(a)));}a=cc(b);a=null===a?null:a.stateNode;return a};exports.flushSync=function(a,b){var c=X;if(0!==(c&48))return a(b);X|=1;try{if(a)return gg(99,a.bind(null,b))}finally{X=c,ig()}};exports.hydrate=function(a,b,c){if(!rk(b))throw Error(y(200));return tk(null,a,b,!0,c)};\nexports.render=function(a,b,c){if(!rk(b))throw Error(y(200));return tk(null,a,b,!1,c)};exports.unmountComponentAtNode=function(a){if(!rk(a))throw Error(y(40));return a._reactRootContainer?(Xj(function(){tk(null,null,a,!1,function(){a._reactRootContainer=null;a[ff]=null})}),!0):!1};exports.unstable_batchedUpdates=Wj;exports.unstable_createPortal=function(a,b){return uk(a,b,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)};\nexports.unstable_renderSubtreeIntoContainer=function(a,b,c,d){if(!rk(c))throw Error(y(200));if(null==a||void 0===a._reactInternals)throw Error(y(38));return tk(a,b,c,!1,d)};exports.version=\"17.0.1\";\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/scheduler.production.min.js');\n} else {\n  module.exports = require('./cjs/scheduler.development.js');\n}\n","/** @license React v0.20.1\n * scheduler.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f,g,h,k;if(\"object\"===typeof performance&&\"function\"===typeof performance.now){var l=performance;exports.unstable_now=function(){return l.now()}}else{var p=Date,q=p.now();exports.unstable_now=function(){return p.now()-q}}\nif(\"undefined\"===typeof window||\"function\"!==typeof MessageChannel){var t=null,u=null,w=function(){if(null!==t)try{var a=exports.unstable_now();t(!0,a);t=null}catch(b){throw setTimeout(w,0),b;}};f=function(a){null!==t?setTimeout(f,0,a):(t=a,setTimeout(w,0))};g=function(a,b){u=setTimeout(a,b)};h=function(){clearTimeout(u)};exports.unstable_shouldYield=function(){return!1};k=exports.unstable_forceFrameRate=function(){}}else{var x=window.setTimeout,y=window.clearTimeout;if(\"undefined\"!==typeof console){var z=\nwindow.cancelAnimationFrame;\"function\"!==typeof window.requestAnimationFrame&&console.error(\"This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills\");\"function\"!==typeof z&&console.error(\"This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills\")}var A=!1,B=null,C=-1,D=5,E=0;exports.unstable_shouldYield=function(){return exports.unstable_now()>=\nE};k=function(){};exports.unstable_forceFrameRate=function(a){0>a||125<a?console.error(\"forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported\"):D=0<a?Math.floor(1E3/a):5};var F=new MessageChannel,G=F.port2;F.port1.onmessage=function(){if(null!==B){var a=exports.unstable_now();E=a+D;try{B(!0,a)?G.postMessage(null):(A=!1,B=null)}catch(b){throw G.postMessage(null),b;}}else A=!1};f=function(a){B=a;A||(A=!0,G.postMessage(null))};g=function(a,b){C=\nx(function(){a(exports.unstable_now())},b)};h=function(){y(C);C=-1}}function H(a,b){var c=a.length;a.push(b);a:for(;;){var d=c-1>>>1,e=a[d];if(void 0!==e&&0<I(e,b))a[d]=b,a[c]=e,c=d;else break a}}function J(a){a=a[0];return void 0===a?null:a}\nfunction K(a){var b=a[0];if(void 0!==b){var c=a.pop();if(c!==b){a[0]=c;a:for(var d=0,e=a.length;d<e;){var m=2*(d+1)-1,n=a[m],v=m+1,r=a[v];if(void 0!==n&&0>I(n,c))void 0!==r&&0>I(r,n)?(a[d]=r,a[v]=c,d=v):(a[d]=n,a[m]=c,d=m);else if(void 0!==r&&0>I(r,c))a[d]=r,a[v]=c,d=v;else break a}}return b}return null}function I(a,b){var c=a.sortIndex-b.sortIndex;return 0!==c?c:a.id-b.id}var L=[],M=[],N=1,O=null,P=3,Q=!1,R=!1,S=!1;\nfunction T(a){for(var b=J(M);null!==b;){if(null===b.callback)K(M);else if(b.startTime<=a)K(M),b.sortIndex=b.expirationTime,H(L,b);else break;b=J(M)}}function U(a){S=!1;T(a);if(!R)if(null!==J(L))R=!0,f(V);else{var b=J(M);null!==b&&g(U,b.startTime-a)}}\nfunction V(a,b){R=!1;S&&(S=!1,h());Q=!0;var c=P;try{T(b);for(O=J(L);null!==O&&(!(O.expirationTime>b)||a&&!exports.unstable_shouldYield());){var d=O.callback;if(\"function\"===typeof d){O.callback=null;P=O.priorityLevel;var e=d(O.expirationTime<=b);b=exports.unstable_now();\"function\"===typeof e?O.callback=e:O===J(L)&&K(L);T(b)}else K(L);O=J(L)}if(null!==O)var m=!0;else{var n=J(M);null!==n&&g(U,n.startTime-b);m=!1}return m}finally{O=null,P=c,Q=!1}}var W=k;exports.unstable_IdlePriority=5;\nexports.unstable_ImmediatePriority=1;exports.unstable_LowPriority=4;exports.unstable_NormalPriority=3;exports.unstable_Profiling=null;exports.unstable_UserBlockingPriority=2;exports.unstable_cancelCallback=function(a){a.callback=null};exports.unstable_continueExecution=function(){R||Q||(R=!0,f(V))};exports.unstable_getCurrentPriorityLevel=function(){return P};exports.unstable_getFirstCallbackNode=function(){return J(L)};\nexports.unstable_next=function(a){switch(P){case 1:case 2:case 3:var b=3;break;default:b=P}var c=P;P=b;try{return a()}finally{P=c}};exports.unstable_pauseExecution=function(){};exports.unstable_requestPaint=W;exports.unstable_runWithPriority=function(a,b){switch(a){case 1:case 2:case 3:case 4:case 5:break;default:a=3}var c=P;P=a;try{return b()}finally{P=c}};\nexports.unstable_scheduleCallback=function(a,b,c){var d=exports.unstable_now();\"object\"===typeof c&&null!==c?(c=c.delay,c=\"number\"===typeof c&&0<c?d+c:d):c=d;switch(a){case 1:var e=-1;break;case 2:e=250;break;case 5:e=1073741823;break;case 4:e=1E4;break;default:e=5E3}e=c+e;a={id:N++,callback:b,priorityLevel:a,startTime:c,expirationTime:e,sortIndex:-1};c>d?(a.sortIndex=c,H(M,a),null===J(L)&&a===J(M)&&(S?h():S=!0,g(U,c-d))):(a.sortIndex=e,H(L,a),R||Q||(R=!0,f(V)));return a};\nexports.unstable_wrapCallback=function(a){var b=P;return function(){var c=P;P=b;try{return a.apply(this,arguments)}finally{P=c}}};\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(\n      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)\n    ))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","'use strict';\n\nmodule.exports = function () {\n  throw new Error(\n    'ws does not work in the browser. Browser clients must use the native ' +\n      'WebSocket object'\n  );\n};\n"],"sourceRoot":""}