{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js","../node_modules/react/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/react/jsx-runtime.js","../node_modules/webpack/buildin/global.js","../node_modules/react-dom/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../node_modules/prop-types/index.js","../../../src/Glue.tsx","../../../src/useGlueInit.ts","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/object-assign/index.js","../../node_modules/callback-registry/lib/index.js","../../node_modules/decoder-validate/dist/index.es5.js","../../src/shared/decoders.ts","../../src/communication/constants.ts","../../src/communication/bridge.ts","../../src/communication/interop-transport.ts","../../src/shared/promisePlus.ts","../../src/builders/parentBuilder.ts","../../src/builders/baseBuilder.ts","../../src/builders/workspaceBuilder.ts","../../src/models/row.ts","../../src/models/column.ts","../../src/models/group.ts","../../src/models/workspace.ts","../../src/models/window.ts","../../src/models/frame.ts","../../src/shared/privateDataManager.ts","../../src/models/base/base.ts","../../src/controllers/base.ts","../../src/controllers/main.ts","../../src/shared/ioc.ts","../../src/main.ts","../../src/index.ts","../node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js","../node_modules/buffer/index.js","../node_modules/process/browser.js","../../node_modules/tslib/tslib.es6.js","../../src/defaultComponents/HeaderButton.tsx","../../src/defaultComponents/popups/addApplication/ApplicationItem.tsx","../../src/defaultComponents/popups/addApplication/ApplicationsList.tsx","../../src/defaultComponents/popups/addApplication/ContainerSwitch.tsx","../../src/withGlueInstance.tsx","../../src/defaultComponents/popups/addApplication/AddApplicationPopup.tsx","../../src/defaultComponents/popups/Feedback.tsx","../../src/defaultComponents/popups/helpers.ts","../../src/defaultComponents/popups/addWorkspace/WorkspaceLayoutItem.tsx","../../src/defaultComponents/popups/addWorkspace/WorkspaceLayoutsList.tsx","../../src/defaultComponents/popups/addWorkspace/AddWorkspacePopup.tsx","../../src/defaultComponents/popups/saveWorkspace/SaveContextCheckbox.tsx","../../src/defaultComponents/popups/saveWorkspace/SaveWorkspaceButton.tsx","../../src/defaultComponents/popups/saveWorkspace/SaveWorkspacePopup.tsx","../../../workspaces-ui-core/dist/export.js","../../src/workspacesManager.ts","../../node_modules/reactjs-popup/dist/reactjs-popup.esm.js","../../src/WorkspacePopup.tsx","../../src/Portal.tsx","../../src/WorkspacesWrapper.tsx","../../src/WorkspacesElementCreationWrapper.tsx","../../src/index.tsx","../node_modules/@glue42/desktop/dist/desktop.browser.js","../../src/config/index.ts","../../src/windows/protocol.ts","../../src/windows/webWindow.ts","../../src/windows/controller.ts","../../src/shared/promise-plus.ts","../../src/appManager/protocol.ts","../../src/appManager/controller.ts","../../src/appManager/instance.ts","../../src/appManager/application.ts","../../src/layouts/protocol.ts","../../src/layouts/controller.ts","../../../core/dist/core.es.js","../../src/web.ts","../../src/enterprise/index.ts","../node_modules/react/cjs/react-jsx-runtime.production.min.js","../node_modules/react/cjs/react.production.min.js","../node_modules/react-dom/cjs/react-dom.production.min.js","../node_modules/scheduler/index.js","../node_modules/scheduler/cjs/scheduler.production.min.js","../node_modules/regenerator-runtime/runtime.js","../node_modules/prop-types/factoryWithThrowingShims.js","../node_modules/prop-types/lib/ReactPropTypesSecret.js","../node_modules/base64-js/index.js","../node_modules/ieee754/index.js","../node_modules/isarray/index.js","../node_modules/ws/browser.js"],"names":["module","exports","require","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","from","unsupportedIterableToArray","_unsupportedIterableToArray","o","minLen","n","toString","call","slice","constructor","name","test","g","this","Function","e","window","checkDCE","__REACT_DEVTOOLS_GLOBAL_HOOK__","err","console","error","_arrayLikeToArray","len","arr2","_slicedToArray","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","GlueContext","GlueProvider","children","fallback","config","glue","glueFactory","setGlue","a","useGlueInit","GlueWeb","Glue","Provider","propTypes","displayName","_createForOfIteratorHelper","allowArrayLike","it","F","s","f","normalCompletion","didErr","step","_e2","_defineProperty","obj","getOwnPropertySymbols","hasOwnProperty","propIsEnumerable","propertyIsEnumerable","toObject","val","assign","test1","String","getOwnPropertyNames","test2","fromCharCode","map","join","test3","split","forEach","letter","keys","shouldUseNative","source","symbols","to","arguments","createRegistry","options","errorHandling","Error","_userErrorHandler","callbacks","callback","callbacksForKey","ok","result","asPromise","r","Promise","resolve","reject","withDefault","defaultValue","withException","map2","ar","br","mapError","andThen","freeze","isOk","isErr","successes","results","reduce","acc","concat","t","p","apply","isEqual","b","isJsonArray","json","isJsonObject","expectedGot","expected","got","JSON","stringify","typeString","printPath","paths","path","prependAt","newAt","_a","at","rest","indexOf","__rest","Decoder","decode","_this","run","kind","input","message","runPromise","runWithException","where","errorMessage","succeed","fail","string","number","boolean","constant","object","decoders","array","decoder","v","err$$1","decodeValue_1","tuple","nth","union","ad","bd","oneOf","intersection","ds","anyJson","unknownJson","dict","optional","errors","errorsList","valueAt","jsonAtPath","fixedValue","lazy","mkDecoder","InteropTransport","agm","defaultTransportTimeout","coreEventMethodInitiated","actualWindowId","glue42gd","all","values","METHODS","method","verifyMethodLive","webPlatformMethodName","webPlatformWspStreamName","transmitControl","windowId","eventCallback","subscribePlatform","corePlatformSubPromise","subscribe","then","sub","onData","data","streamName","streamBranch","streamType","subscriptionArgs","branch","type","subscription","operation","operationArguments","invocationArguments","domain","methodName","control","baseErrorMessage","invoke","methodResponseTimeoutMs","invocationResult","all_return_values","all_errors","invocationErrorMessage","returned","promise","timeoutMilliseconds","timeoutMessage","methods","some","unsubscribe","methodAdded","setTimeout","promiseActive","timeout","clearTimeout","catch","privateData","WeakMap","ParentBuilder","definition","base","wrapChildren","set","get","add","addWindow","serializeChildren","BaseBuilder","getBuilder","child","validatedDefinition","parentDefinitionDecoder","childBuilder","swimlaneWindowDefinitionDecoder","serialize","WorkspaceBuilder","controller","every","index","nonNegativeNumberDecoder","saveConfig","workspaceBuilderCreateConfigDecoder","createWorkspace","getBase","model","Row","addParent","predicate","removeChild","maximize","restore","close","getId","getFrameId","getWorkspaceId","getPositionIndex","getAllChildren","getMyParent","getMyFrame","getMyWorkspace","Column","Group","getData","manager","getWorkspaceData","getDataManager","Workspace","dataManager","checkThrowCallback","find","refreshReference","iterateFindChild","focusItem","id","frame","workspaces","wsp","closeItem","getSnapshot","nonEmptyStringDecoder","saveLayout","workspaceId","saveContext","title","setItemTitle","getWorkspaceContext","setWorkspaceContext","updateWorkspaceContext","subscribeWorkspaceContextUpdated","newSnapshot","existingChildren","foundChildren","foundChild","getWindow","swimlaneWindow","getBox","parent","newChildren","refreshChildren","workspace","currentFrame","frameId","remapFrame","frameSummary","actualFrame","frameCreateConfig","summary","newFrame","ioc","getModel","remapWorkspace","allParents","iterateFilterChildren","filter","getAllBoxes","allWindows","bundleTo","action","eventType","scope","scopeId","processLocalSubscription","payload","windowParent","windowSummary","parentId","foundWindow","positionIndex","win","layoutName","getWindowData","Window","isLoaded","itemId","forceLoadWindow","maximizeItem","restoreItem","ejectWindow","newWindowId","getGdWindow","myId","getGDWindow","getParent","moveWindowTo","isMaximized","checkIsWindowLoaded","isFocused","appName","getFrameData","Frame","validatedConfig","resizeConfigDecoder","resizeItem","moveConfigDecoder","moveFrame","getFrameState","changeFrameState","getWorkspaces","validatedOptions","restoreWorkspaceConfigDecoder","restoreWorkspace","workspaceDefinitionDecoder","getWorkspace","workspaceSummary","foundParent","PrivateDataManager","parentsData","workspacesData","windowsData","framesData","windowPlacementIdData","keyForDeleting","k","delete","placementId","newData","getParentData","getWindowFromPlacementId","placemenId","getWindowByPlacementId","Base","parentType","operationResult","typeToAdd","parentDefinition","transformDefinition","newParentId","myWorkspace","modelData","strictParentDefinitionDecoder","BaseController","windows","contexts","layouts","list","createConfig","bridge","send","OPERATIONS","snapshot","frameConfig","workspaceConfig","openWorkspace","restoreOptions","getFrameSummary","operationArgs","operationName","addContainer","allFrameSummaries","frames","frameToCheck","bridgeResults","allSummaries","summaries","summaryResult","wrappedCallback","layout","addedUnSub","onAdded","changedUnSub","onChanged","onRemoved","getWorkspaceSnapshot","bundleWorkspace","contextName","update","gdWindow","controlResult","containerId","getFrameSnapshot","newChildSnapshot","childToAdd","c","childType","privateDataManager","remapChild","grandChildren","innerFound","onWindowAdded","MainController","isWindowInWorkspace","inWorkspace","getLayoutSummaries","allLayouts","getAllFramesSummaries","levelId","handleEnterpriseLocalSubscription","handleCoreLocalSubscription","handleEnterpriseGlobalSubscription","handleCoreGlobalSubscription","selector","getFrame","getFrames","iterateWorkspaces","end","foundWorkspace","matchingWorkspaces","getAllWorkspacesSummaries","allSummariesResult","getAllWorkspaceSummaries","resultWindow","resultParent","getAllLayoutsSummaries","deleteLayout","exportAllLayouts","allLayoutsResult","matchingLayouts","importLayout","handleOnSaved","handleOnRemoved","state","requestedState","frameResult","notifyWindowAdded","createCoreEventSubscription","originalCB","wrappedCB","callbackData","handleCoreSubscription","ended","workspaceSummaries","fetchWorkspace","CallbackFactory","composeAPI","my","checkIsInSwimlane","builderConfigDecoder","getAllFrames","w","getAllWorkspaces","getSummaries","export","exportLayout","import","workspaceLayoutDecoder","save","verifiedConfig","workspaceLayoutSaveConfigDecoder","onSaved","onFrameOpened","processGlobalSubscription","onFrameClosed","onWorkspaceOpened","onWorkspaceClosed","onWindowLoaded","onWindowRemoved","MapShim","Map","getIndex","entry","class_1","__entries__","entries","splice","has","clear","ctx","isBrowser","document","global$1","global","Math","self","requestAnimationFrame$1","requestAnimationFrame","bind","Date","now","transitionKeys","mutationObserverSupported","MutationObserver","ResizeObserverController","connected_","mutationEventsAdded_","mutationsObserver_","observers_","onTransitionEnd_","refresh","delay","leadingCall","trailingCall","lastCallTime","resolvePending","proxy","timeoutCallback","timeStamp","throttle","addObserver","observer","connect_","removeObserver","observers","disconnect_","updateObservers_","activeObservers","gatherActive","hasActive","broadcastActive","addEventListener","observe","attributes","childList","characterData","subtree","removeEventListener","disconnect","_b","propertyName","getInstance","instance_","defineConfigurable","getWindowOf","ownerDocument","defaultView","emptyRect","createRectInit","toFloat","parseFloat","getBordersSize","styles","positions","size","position","getHTMLElementContentRect","clientWidth","clientHeight","getComputedStyle","paddings","positions_1","getPaddings","horizPad","left","right","vertPad","top","bottom","width","height","boxSizing","round","documentElement","isDocumentElement","vertScrollbar","horizScrollbar","abs","isSVGGraphicsElement","SVGGraphicsElement","SVGElement","getBBox","getContentRect","bbox","getSVGContentRect","x","y","ResizeObservation","broadcastWidth","broadcastHeight","contentRect_","isActive","rect","broadcastRect","ResizeObserverEntry","rectInit","contentRect","Constr","DOMRectReadOnly","create","createReadOnlyRect","ResizeObserverSPI","callbackCtx","activeObservations_","observations_","callback_","controller_","callbackCtx_","Element","observations","unobserve","clearActive","observation","ResizeObserver","base64","ieee754","kMaxLength","Buffer","TYPED_ARRAY_SUPPORT","createBuffer","that","RangeError","Uint8Array","__proto__","arg","encodingOrOffset","allocUnsafe","ArrayBuffer","byteOffset","byteLength","fromArrayLike","fromArrayBuffer","encoding","isEncoding","actual","write","fromString","isBuffer","checked","copy","buffer","fromObject","assertSize","isView","loweredCase","utf8ToBytes","base64ToBytes","toLowerCase","slowToString","start","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","m","bidirectionalIndexOf","dir","isNaN","arrayIndexOf","lastIndexOf","indexSize","arrLength","valLength","read","buf","readUInt16BE","foundIndex","found","j","hexWrite","offset","Number","remaining","strLen","parsed","parseInt","substr","utf8Write","blitBuffer","asciiWrite","str","byteArray","charCodeAt","asciiToBytes","latin1Write","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","fromByteArray","min","res","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","MAX_ARGUMENTS_LENGTH","decodeCodePointsArray","SlowBuffer","alloc","INSPECT_MAX_BYTES","foo","subarray","typedArraySupport","poolSize","_augment","species","fill","allocUnsafeSlow","_isBuffer","compare","pos","swap16","swap32","swap64","equals","inspect","max","match","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","toJSON","ret","out","toHex","bytes","checkOffset","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","floor","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","code","INVALID_BASE64_RE","Infinity","leadSurrogate","toByteArray","trim","replace","stringtrim","base64clean","src","dst","cachedSetTimeout","cachedClearTimeout","process","defaultSetTimout","defaultClearTimeout","runTimeout","fun","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","marker","runClearTimeout","Item","noop","nextTick","args","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","umask","extendStatics","d","setPrototypeOf","__extends","__","__assign","__awaiter","thisArg","_arguments","P","generator","fulfilled","rejected","__generator","body","_","label","sent","trys","ops","verb","throw","return","op","pop","__spreadArrays","il","jl","ApplicationItem","onClick","React","className","href","ApplicationsList","inLane","hidePopup","searchTerm","updatePopupHeight","filterApps","isActivity","isShell","app","userProperties","includeInWorkspaces","includeInCanvas","workspacesFriendlyApps","appManager","applications","useEffect","addGroup","warn","error_1","ContainerSwitch","setInLane","wordInLabel","labelToPut","toUpperCase","substring","htmlFor","role","withGlueInstance","WrappedComponent","useContext","boxId","resizePopup","useState","_c","setParent","setSearchTerm","containerRef","createRef","shouldUpdate","allWorkspaces","refreshPopupHeight","containerHeight","current","getBoundingClientRect","ref","placeholder","onChange","Feedback","regexResult","exec","getFeedbackErrorMessage","WorkspaceLayoutItem","onCloseClick","WorkspaceLayoutsList","showFeedback","layoutSummaries","setLayoutSummaries","stopPropagation","feedbackText","setFeedbackText","resizePopupWithContainerHeight","reuseFrameId","itemType","errMessage","SaveContextCheckbox","changeChecked","refreshHeight","inputRef","SaveWorkspaceButton","inputValue","clearInput","shouldSaveContext","hideFeedback","buildMode","shouldSave","setShouldSave","workspaceName","setTitle","downloadElement","createElement","encodeURIComponent","append","setAttribute","click","remove","setShouldSaveContext","feedbackMessage","setFeedbackMessage","setWorkspaceName","bounds","globalThis","container","controls","items","utils","extend","createObject","contructor","objectKeys","getHashValue","location","hash","RegExp","getQueryStringParam","search","animFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","Int8Array","isFunction","fnBind","removeFromArray","getTime","getUniqueId","random","filterXss","stripTags","EventEmitter","_mSubscriptions","ALL_EVENT","fn","unshift","unbind","trigger","DragListener","_eElement","_oDocument","_eBody","_nButtonCode","_nDelay","_nDistance","_nX","_nY","_nOriginalX","_nOriginalY","_bDragging","_fMove","onMouseMove","_fUp","onMouseUp","_fDown","onMouseDown","destroy","preventDefault","button","_getCoordinates","one","_timeout","_startDrag","removeClass","css","addClass","originalEvent","touches","pageX","pageY","LayoutManager","$","noConflict","isInitialised","_isFullPage","_resizeTimeoutId","_components","lm-react-component","ReactComponentHandler","_itemAreas","_resizeFunction","_onResize","_unloadFunction","_onUnload","_maximizedItem","_maximizePlaceholder","_creationTimeoutPassed","_subWindowsCreated","_dragSources","_dragProxies","_updatingColumnsResponsive","_firstLoad","_componentFactory","root","openPopouts","selectedItem","isSubWindow","eventHub","EventHub","_createConfig","dropTargetIndicator","transitionIndicator","tabDropPlaceholder","_typeToItem","column","RowOrColumn","row","stack","Stack","component","Component","__lm","minifyConfig","ConfigMinifier","unminifyConfig","registerComponent","toConfig","AbstractContentItem","settings","dimensions","labels","context","workspacesOptions","content","contentItems","_$reconcilePopoutWindows","maximizedItemId","getComponent","ConfigurationError","init","_createSubWindows","readyState","_adjustToWindowMode","_setContainer","DropTargetIndicator","TransitionIndicator","updateSize","_create","_bindEvents","_adjustColumnsResponsive","ready","callDownwards","element","_dragListener","_element","_itemConfig","createContentItem","componentName","Root","createPopout","l","h","u","isRoot","addId","screenX","screenLeft","screenY","screenTop","BrowserPopout","createDragSource","constrainDragToContainer","DragSource","selectItem","selectionEnabled","deselect","select","_$maximiseItem","_$minimizeItem","after","prepend","_$minimiseItem","removeId","_$closeWindow","_$getArea","x1","x2","y1","y2","surface","_$createRootItemAreas","side","_$calculateItemAreas","_getAllContentItems","isStack","contentItem","_contentAreaDimensions","header","highlightArea","mode","_$normalizeContentItem","isPlainObject","closed","resize","localStorage","getItem","parse","removeItem","defaultConfig","hasHeaders","headerHeight","popin","html","offsetHeight","__glInstance","indexInParent","margin","padding","overflow","getItemsById","toggleMaximise","closePopoutsOnUnload","_useResponsiveLayout","minItemWidth","isRow","is","_findAllStackContainers","_addChildContentItemsToContainer","responsiveMode","addChild","_findAllStackContainersRecursive","isComponent","default","GoldenLayout","reorderEnabled","popoutWholeStack","blockedPopoutsThrowError","showMinimizeIcon","showPopoutIcon","showMaximizeIcon","showCloseIcon","tabOverlapAllowance","reorderOnTabMenuClick","tabControlOffset","borderWidth","borderGrabWidth","minItemHeight","dragProxyWidth","dragProxyHeight","minimize","popout","tabDropdown","itemDefaultConfig","isClosable","workspacesConfig","ItemContainer","layoutManager","isHidden","_config","_contentElement","getElement","hide","show","setSize","isColumn","getState","componentState","extendState","setState","emitBubblingEvent","_$setSize","offsetWidth","_dimensions","_parentId","_indexInParent","_layoutManager","_popoutWindow","_id","_createWindow","getGlInstance","popIn","_createUrl","_serializeWindowOptions","innerWidth","innerHeight","menubar","toolbar","personalbar","resizable","scrollbars","status","open","_positionWindow","_onClose","setInterval","_onInitialised","clearInterval","setItem","moveTo","focus","DragProxy","_contentItem","_originalParent","_area","_lastValidArea","_onDrag","_onDrop","_template","_side","_sided","attr","childElementContainer","disableDragProxy","_updateTree","_setDimensions","_minX","_minY","_maxX","_maxY","_width","_height","_setDropPosition","_$highlightDropZone","canceled","_$destroy","_$onDrop","_$setParent","_createDragListener","_onDragStart","transitionElements","highlight","Header","_onHeaderClick","createLogo","domNode","createAddWorkspace","createSystemButtons","tabsContainer","tabDropdownContainer","controlsContainer","workspaceControlsContainer","tabsControlsContainer","_updateTabSizesWithoutDropdown","tabs","activeContentItem","closeButton","tabDropdownButton","hideAdditionalTabsDropdown","_hideAdditionalTabsDropdown","mouseup","_lastVisibleTabIndex","_tabControlOffset","_createControls","createTab","Tab","before","removeTab","setActiveContentItem","setActive","activeItemIndex","_header","_setupHeaderPosition","_$setClosable","_isClosable","_getHeaderSetting","_showAdditionalTabsDropdown","HeaderButton","_onPopoutClick","minimizeLabel","minimizeButton","_updateTabSizes","toggle","outerWidth","tab","outerHeight","z-index","margin-left","_action","Splitter","_isVertical","_size","_grabSize","_createElement","titleElement","closeElement","_onTabClickFn","_onTabClick","_onCloseClickFn","_onCloseClick","noTabHeader","_onCloseMousedown","getActiveContentItem","_toElement","_fromDimensions","_totalAnimationDuration","_animationStartTime","_nextAnimationFrame","_measure","opacity","node","_extendItemNode","isVisible","_pendingEventPropagations","_throttledEvents","_propagateEvent","_createContentItems","_$init","replaceChild","parentNode","_$hide","hasId","getItemsByFilter","getItemsByType","_$getItemsByProperty","getComponentsByName","_callOnActiveComponents","_$show","BubblingEvent","isPropagationStopped","_scheduleEventPropagationToLayoutManager","origin","_propagateEventToLayoutManager","_$shown","shown","_containerElement","_splitterSize","_splitterGrabSize","_isColumn","_dimension","_splitter","_splitterPosition","_splitterMinPosition","_splitterMaxPosition","_createSplitter","_calculateRelativeSizes","_setAbsoluteSizes","_calculateAbsoluteSizes","additionalPixel","itemSizes","totalWidth","totalHeight","_respectMinItemWidth","_onSplitterDrag","_onSplitterDragStop","_onSplitterDragStart","_getItemsForSplitter","_getMinimumDimensions","minWidth","minHeight","horizontal","vertical","_activeContentItem","_dropZones","_dropSegment","_dropIndex","_$validateClosability","_resetHeaderDropZone","hoverArea","_highlightHeaderDropZone","_highlightBodyDropZone","placeHolderTop","_keys","_values","_nextLevel","_min","_max","_dontPropagateToParent","_childEventSource","_onEventFromThis","_boundOnEventFromChild","_onEventFromChild","_propagateToParent","_propagateToChildren","_$onEventFromParent","__gl","__glArgs","createEvent","opener","initEvent","createEventObject","eventName","dispatchEvent","fireEvent","_reactComponent","_originalComponentWillUpdate","_container","_initialState","_reactClass","_getReactClass","_render","_destroy","ReactDOM","render","_getReactComponent","componentWillUpdate","_onUpdate","unmountComponentAtNode","glEventHub","glContainer","execute","clearKey","[object Object]","_idToLayout","workspaceLayout","getByContainerIdCore","innerText","getById","workspaceTitles","workspaceIds","getWorkspaceTitle","_workspaceLayout","containerElement","setupEvents","classList","contains","handleTabCountChanged","removedNodes","attributeName","handleTabHeaderResized","attributeFilter","attributeOldValue","characterDataOldValue","visibleTabs","refreshTabClasses","visibilityState","logo","addWorkspace","systemButtons","workspaceContents","componentsFactory","_decoratedFactory","callbackRegistry","getWorkspaceIdFromContents","style","display","decoratedFactory","createWorkspaceContents","subscribeForWorkspaceContentsVisibility","getElementById","_maximizedId","_workspaceLayoutElementId","_registry","_emptyVisibleWindowName","_stackMaximizeLabel","_stackRestoreLabel","_options","_emitter","_stateResolver","_configFactory","_frameId","initWorkspaceConfig","refreshLayoutSize","workspaceConfigs","initWorkspaceContents","emitter","raiseEvent","setupOuterLayout","setupContentLayouts","getByContainerId","hideAddButton","getWindowInfoFromConfig","url","registerWindowComponent","onContentComponentCreated","wrapper","wrapInGroup","onContentItemCreated","getByWindowId","getContainerConfig","getWorkspaceLayoutComponentName","registerWorkspaceComponent","getWorkspaceLayoutItemById","removeById","getElementsByTagName","getDragElement","addedNodes","setDragElementSize","getWindowContentItem","waitForWindowContainer","addOrUpdate","showAddButton","signal","getDefaultWorkspaceSettings","registerEmptyWindowComponent","raiseEventWithDynamicName","layoutId","item","onclick","laneId","disableCustomButtons","toBack","toFront","mousedown","refreshTabSizeClass","getElementByClass","getElementsByClassName","appendChild","waitForLayout","onOuterLayoutContainerResized","onContentContainerResized","log","hasClass","C","I","W","A","Z","characters","seed","lookup","shuffled","E","crypto","msCrypto","S","getRandomValues","T","LN2","D","L","M","generate","worker","isValid","_idToFrame","_glue","findById","contentDocument","contentWindow","querySelector","waitForWindow","setContext","Event","z","LAST_SESSION_KEY","B","URLSearchParams","emptyFrame","workspaceNames","build","cleanUpUrl","removeQueryParams","history","replaceState","pathname","N","resolver","_configConverter","_layoutsType","_layoutComponentType","_initialWorkspaceConfig","generateInitialConfig","getWorkspaceByName","layoutData","getLastSession","getDefaultFrameConfig","addWorkspaceIds","addWindowIds","convertToRendererConfig","getAll","components","metadata","saveWorkspaceCore","saveWorkspaceCoreSync","getWorkspaceConfig","removeWorkspaceIds","applyWindowLayoutState","convertToAPIConfig","removeWorkspaceItemIds","windowSummariesToWindowLayout","addWindowUrlsToWindows","workspaceSummaryToWorkspaceLayout","getContext","application","details","getWindowLayoutState","layoutState","O","_layoutEventEmitter","waitForWindowContentItem","getWindowSummaryCore","getWorkspaceTabIndex","transformComponentsToWindowSummary","transformParentsToContainerSummary","getContainer","findElementInConfig","getWorkspaceSummary","findIndex","getUserFriendlyParent","isWindowMaximized","getWindowSummarySync","getContainerSummary","R","_pattern","sort","H","_titleGenerator","_defaultWorkspaceLayoutSettings","createWindowConfigurationCore","getTitle","getDefaultWorkspaceConfig","wrap","instances","registry","q","flat","convertToRendererConfigCore","convertToApiConfigCore","applyDefaultRendererConfig","getGroupWithEmptyVisibleWindow","createEmptyVisibleWindowConfig","getAppNameFromWindowId","createGDWindowConfig","createApiWindow","U","_externalPopupManager","_componentPopupManager","createAddApplicationPopup","showAddWindowPopup","createAddWorkspacePopup","showOpenWorkspacePopup","createSaveWorkspacePopup","showSaveWorkspacePopup","V","_addApplicationType","_openWorkspaceType","_saveWorkspaceType","_showPopupMethod","initPopup","registerHideMethod","registerResizeMethod","getPopupSize","showElement","_popup","getPopupInteropId","servers","peerId","register","interopId","G","_popupSizes","hideSystemPopups","showInternalAddAppPopup","showInternalOpenWorkspacePopup","showInternalSaveWorkspacePopup","composedPath","X","_isLayoutInitialized","_initPromise","_workspacesEventEmitter","getComponentBounds","_controller","subscribeForWindowClicked","_frameController","onFrameContentClicked","cleanUp","stateResolver","workspacesEventEmitter","raiseWindowEvent","raiseWorkspaceEvent","_layoutsManager","saveWorkspacesFrame","raiseFrameEvent","loadConfig","_initialized","_popupManager","initLayout","reInitialize","getActiveWorkspace","setInitialWorkspaceConfig","maximizeWindow","restoreWindow","closeWorkspace","closeTab","closeContainer","setWorkspaceTitle","setWindowTitle","getUrlByAppName","waitForFrameLoaded","focusWorkspace","focusWindow","generateLayout","getInitialConfig","subscribeForPopups","subscribeForLayout","reportLayoutStructure","getTitleByAppName","getURL","startFrame","getWindowSummary","onContentItemResized","onTabCloseRequested","removeLayoutElement","checkForEmptyWorkspace","onWorkspaceTabCloseRequested","onTabElementMouseDown","onTabDragStart","bringToFront","onTabDragEnd","selectionChanged","onSelectionChanged","onWorkspaceAdded","selectionChangedDeep","onWorkspaceSelectionChanged","isWindowVisible","onAddButtonClicked","onContentLayoutInit","onWorkspaceAddButtonClicked","workspaceLayoutHeader","onWorkspaceSaveRequested","onStackMaximized","maximizeTab","onStackRestored","restoreTab","onEjectRequested","eject","onWorkspaceContentsShown","getWorkspaceContentItem","onWorkspaceContentsHidden","onWindowTitleChanged","removeWorkspace","onWindowEvent","Y","_workspacesControlMethod","_workspacesEventMethod","_inDisposing","handleControl","initPromise","handleIsWindowInWorkspace","handleAddWindow","handleAddContainer","handleGetWorkspaceSnapshot","handleOpenWorkspace","handleSaveLayout","handleExportAllLayouts","handleDeleteLayout","handleGetAllWorkspaceSummaries","handleMaximizeItem","handleRestoreItem","handleCloseItem","handleSetItemTitle","handleAddWorkspaceChildren","handleEject","handleCreateWorkspace","handleForceLoadWindow","handleFocusItem","handleBundleWorkspace","handleGetFrameSummary","handleMoveFrame","handleGetFrameSnapshot","handleGetSnapshot","handleMoveWindowTo","handleGenerateLayout","handlePing","_converter","registerAgmMethods","onFrameEvent","publishEventData","onWorkspaceEvent","onContainerEvent","registerAsync","saveWorkspace","loadWindow","move","generateWorkspaceLayout","live","J","getPrototypeOf","nodeType","nonce","noModule","text","getAttribute","head","jquery","toArray","pushStack","merge","prevObject","each","first","eq","last","even","grep","odd","expando","isReady","isEmptyObject","globalEval","makeArray","inArray","guid","support","ct","ID","CLASS","TAG","ATTR","PSEUDO","CHILD","bool","needsContext","Q","K","tt","et","nt","ot","st","rt","_t","disabled","nodeName","childNodes","qsa","yt","wt","querySelectorAll","removeAttribute","cacheLength","shift","lt","dt","ht","attrHandle","ut","sourceIndex","nextSibling","pt","mt","ft","isDisabled","gt","isXML","namespaceURI","setDocument","attachEvent","createComment","getElementsByName","getAttributeNode","innerHTML","matchesSelector","matches","webkitMatchesSelector","mozMatchesSelector","oMatchesSelector","msMatchesSelector","disconnectedMatch","compareDocumentPosition","sortDetached","specified","escape","uniqueSort","detectDuplicates","sortStable","getText","textContent","firstChild","nodeValue","selectors","createPseudo","relative",">"," ","+","~","preFilter","lastChild","uniqueID","pseudos","setFilters","not","lang","activeElement","hasFocus","tabIndex","enabled","selected","selectedIndex","empty","radio","checkbox","file","password","image","submit","reset","vt","bt","Ct","It","xt","filters","tokenize","compile","expr","unique","isXMLDoc","escapeSelector","parseHTML","contents","prev","closest","prevAll","addBack","parents","parentsUntil","nextAll","nextUntil","prevUntil","siblings","reverse","Callbacks","stopOnFalse","memory","disable","lock","locked","fireWith","fire","fired","Deferred","always","pipe","progress","notify","notifyWith","resolveWith","exceptionHook","stackTrace","rejectWith","getStackHook","when","readyException","readyWait","doScroll","uid","cache","access","hasData","removeData","_data","_removeData","dequeue","_queueHooks","stop","clearQueue","composed","getRootNode","cur","cssNumber","unit","createDocumentFragment","checkClone","cloneNode","noCloneChecked","option","thead","col","tr","td","_default","tbody","tfoot","colgroup","caption","th","optgroup","htmlPrefilter","createTextNode","kt","Et","St","event","Tt","namespace","handler","isTrigger","special","delegateType","stopImmediatePropagation","events","handle","triggered","dispatch","bindType","origType","delegateCount","setup","teardown","removeEvent","fix","delegateTarget","preDispatch","handlers","currentTarget","elem","isImmediatePropagationStopped","rnamespace","handleObj","postDispatch","addProp","load","noBubble","beforeunload","returnValue","isDefaultPrevented","defaultPrevented","relatedTarget","isSimulated","altKey","bubbles","cancelable","changedTouches","ctrlKey","detail","eventPhase","metaKey","shiftKey","view","char","charCode","keyCode","buttons","clientX","clientY","offsetX","offsetY","pointerId","pointerType","targetTouches","toElement","which","blur","mouseenter","mouseleave","pointerenter","pointerleave","Wt","At","Dt","Pt","Lt","Mt","Ft","zt","Bt","clone","_evalUrl","Nt","cleanData","detach","insertBefore","replaceWith","appendTo","prependTo","insertAfter","replaceAll","Ot","$t","Rt","Ht","jt","getPropertyValue","pixelBoxStyles","maxWidth","qt","cssText","marginLeft","backgroundClip","clearCloneStyle","boxSizingReliable","pixelPosition","reliableMarginLeft","scrollboxSize","reliableTrDimensions","Ut","Vt","Gt","Xt","cssProps","Yt","Jt","Zt","visibility","Qt","letterSpacing","fontWeight","Kt","te","ceil","ee","getClientRects","ne","cssHooks","animationIterationCount","columnCount","fillOpacity","flexGrow","flexShrink","gridArea","gridColumn","gridColumnEnd","gridColumnStart","gridRow","gridRowEnd","gridRowStart","lineHeight","order","orphans","widows","zIndex","zoom","setProperty","border","expand","Tween","prop","easing","propHooks","duration","fx","scrollTop","scrollLeft","linear","swing","cos","PI","ie","oe","se","re","ae","hidden","interval","tick","ce","le","de","he","tweeners","prefilters","startTime","tweens","opts","specialEasing","originalProperties","originalOptions","createTween","complete","timer","anim","Animation","*","tweener","unqueued","overflowX","overflowY","prefilter","speed","speeds","old","fadeTo","animate","finish","timers","slideDown","slideUp","slideToggle","fadeIn","fadeOut","fadeToggle","slow","fast","checkOn","optSelected","radioValue","ue","pe","removeAttr","attrHooks","me","fe","ge","ye","ve","removeProp","propFix","for","class","toggleClass","we","valHooks","focusin","be","parentWindow","simulate","triggerHandler","Ce","Ie","xe","parseXML","DOMParser","parseFromString","ke","Ee","Se","Te","We","param","serializeArray","Ae","De","Pe","Le","Me","Fe","ze","Be","Ne","Oe","$e","Re","dataTypes","He","ajaxSettings","flatOptions","active","lastModified","etag","isLocal","protocol","processData","async","contentType","accepts","xml","responseFields","converters","* text","text html","text json","text xml","ajaxSetup","ajaxPrefilter","ajaxTransport","ajax","statusCode","getResponseHeader","getAllResponseHeaders","setRequestHeader","overrideMimeType","mimeType","abort","dataType","crossDomain","host","traditional","hasContent","ifModified","headers","beforeSend","success","dataFilter","throws","statusText","getJSON","getScript","text script","wrapAll","firstElementChild","wrapInner","unwrap","visible","xhr","XMLHttpRequest","je","0","1223","qe","cors","username","xhrFields","onload","onerror","onabort","ontimeout","onreadystatechange","responseType","responseText","binary","response","script","scriptAttrs","charset","scriptCharset","Ue","Ve","Ge","jsonp","jsonpCallback","createHTMLDocument","implementation","animated","setOffset","using","pageYOffset","pageXOffset","offsetParent","scrollTo","Height","Width","delegate","undelegate","hover","Xe","holdReady","parseJSON","isWindow","camelCase","isNumeric","Ye","jQuery","Je","dispose","initialized","subscribeForWorkspaceEvents","notifyMoveAreaChanged","registerPopup","removePopup","removePopupById","unmount","subscribeForWindowFocused","notifyWorkspacePopupChanged","WorkspacesManagerDecorator","componentFactory","workspacesManager","elementId","cb","_extends","useIsomorphicLayoutEffect","useLayoutEffect","Style","popupContent","tooltip","modal","popupArrow","background","color","overlay","POSITION_TYPES","getCoordinatesForPosition","triggerBounding","ContentBounding","arrow","_ref","CenterTop","CenterLeft","transform","arrowTop","arrowLeft","popupIdCounter","forwardRef","_ref$trigger","_ref$onOpen","onOpen","_ref$onClose","onClose","_ref$defaultOpen","defaultOpen","_ref$open","_ref$disabled","_ref$nested","nested","_ref$closeOnDocumentC","closeOnDocumentClick","_ref$repositionOnResi","repositionOnResize","_ref$closeOnEscape","closeOnEscape","_ref$on","_ref$contentStyle","contentStyle","_ref$arrowStyle","arrowStyle","_ref$overlayStyle","overlayStyle","_ref$className","_ref$position","_ref$modal","_ref$lockScroll","lockScroll","_ref$arrow","_ref$offsetX","_ref$offsetY","_ref$mouseEnterDelay","mouseEnterDelay","_ref$mouseLeaveDelay","mouseLeaveDelay","_ref$keepTooltipInsid","keepTooltipInside","_useState","isOpen","setIsOpen","triggerRef","useRef","contentRef","arrowRef","focusedElBeforeOpen","popupId","isModal","timeOut","setPosition","focusContentOnOpen","lockScrolll","resetScroll","openPopup","closePopup","togglePopup","onMouseEnter","onContextMenu","onMouseLeave","_contentRef$current","focusableEls","firstEl","useImperativeHandle","_arrowStyle$top","_arrowStyle$left","cords","_ref2","bestCoords","wrapperBox","boundingBox","contentBox","calculatePosition","scrollY","scrollX","listener","els","firstFocusableEl","lastFocusableEl","refs","PopupRoot","renderContent","popupContentStyle","childrenElementProps","pointerEvents","data-testid","viewBox","ovStyle","data-popup","Fragment","triggerProps","aria-describedby","onAsArray","onFocus","onBlur","comp","cloneElement","createPortal","Portal","templateId","WorkspacesWrapper","template","onCreateLogoRequested","onCreateAddWorkspaceRequested","onCreateSystemButtonsRequested","onCreateWorkspaceContentsRequested","onCreateSaveWorkspacePopupRequested","onCreateAddApplicationPopupRequested","onCreateAddWorkspacePopupRequested","onHideSystemPopupsRequested","externalPopupApplications","_super","saveWorkspacePopup","addApplicationPopup","addWorkspacePopup","LogoCustomElement","LogoComponent","AddWorkspaceCustomComponent","AddWorkspaceComponent","SystemButtonsCustomComponent","SystemButtonsComponent","WorkspaceContentsComponent","WorkspaceContents","wc","SaveWorkspaceCustomComponent","popups","SaveWorkspaceComponent","SaveWorkspacePopup","AddApplicationCustomComponent","AddApplicationComponent","AddApplicationPopup","AddWorkspacePopup","WorkspacesElementCreationWrapper","_g","additionalProperties","addApplicationComponent","saveWorkspaceComponent","addWorkspaceComponent","onCreateAddApplicationRequested","onCreateSaveWorkspaceRequested","addApplication","renderLogoComponent","renderAddWorkspaceComponent","renderSystemButtonsComponent","renderWorskpaceContents","renderSaveWorkspacePopupComponent","renderAddApplicationPopupComponent","renderAddWorkspacePopupComponent","onHideSystemPopups","factory","extendStatics$1","__extends$1","__assign$1","__awaiter$1","__generator$1","MetricTypes","getMetricTypeByValue","metric","getTypeByValue","serializeMetric","serializedMetrics","memo","innerType","composite","defineNestedComposite","description","normalizeMetricName","getMetricValueByType","publishNestedComposite","Boolean","flatten","toFlatten","composeMsgForRootStateMetric","system","merged","getAggregateState","highestState","msg","idx","aggregateDescription","Helpers","transport","BaseMetric","createMetric","repo","newValue","updateMetric","NumberMetric","incrementBy","num","increment","decrement","decrementBy","ObjectMetric","mergeValues","StringMetric","TimestampMetric","separator","_transport","_name","_description","_repo","_parent","_path","_buildPath","shadowedSystem","_state","_subSystems","_metrics","_getOrCreateMetric","metricObject","expectedType","metricDef","matching","shadowedMetric","existing","subSystem","nameSystem","descriptionSystem","_system","stateDescription","updateSystem","stringMetric","timestampMetric","objectMetric","numberMetric","aggState","shadowedSubSystem","createSystem","Repository","addSystemMetrics","clickStream","rootSystem","useClickStream","navigator","userAgent","clickStream_1","documentClickHandler","timestamp","tagName","page","urlMetric","appNameMetric","startUrl","NullProtocol","PerfTracker","api","initialPublishTimeout","publishInterval","lastCount","scheduleCollection","collect","collectMemory","collectEntries","performance","totalJSHeapSize","usedJSHeapSize","allEntries","getEntries","metrics","connection","joinPromise","session","replayRepo","replaySystem","subSystems","ss","createMetricsMsg","Description","Value","metricClone","cloneMetric","updateMetricCore","canUpdate","publishMetricsMsg","sendFireAndForget","canUpdateMetric","resolveReadyPromise","onJoined","reconnect","defineRootMetricsMsg","service","shadowedUpdateMetric","stateObj","rootMetric","peer_id","gw3","disableAutoAppSystem","featureMetric","reportingSystem","def","featureMetricFunc","addFAVSupport","perfConfig","pagePerformanceMetrics","initPerf","_handleError","exceptionArtifact","errParam","replayArgumentsArr","replayArgument","allForKey","argumentsArr","lib","InProcTransport","logger","gw","facade","connect","_client","messageHandler","client","sendObject","_msg","onMessage","onConnectedChanged","SharedWorkerTransport","workerFile","SharedWorker","port","onmessage","postMessage","Utils","getGDMajorVersion","glueDesktop","ver","isNode","_isNode","PromiseWrapper","resolved","time","timerName","marks","endTime","period","mark","currentTime","diff","timerObj","alphabet","previousSeed","WebSocketConstructor","WebSocket","WS","startupTimer","_running","wsRequests","ws","waitForSocketConnection","info","pw","failed","openSocket","retryInterval","retriesLeft","reconnectInterval","notifyForSocketState","debug","initiateSocket","retries","reason","seen_1","WeakSet","notifyStatusChanged","onclose","onopen","identity","wsRequest","randomFromSeed","nextValue","_seed_","ORIGINAL","setCharacters","_alphabet_","ind","getShuffled","characterIndex","sourceArray","targetArray","shuffle","alphabet_1","randomByteBrowser","dest","encode_1","loopCounter","decode_1","lib$1","createCommonjsModule","counter","previousSeconds","clusterWorkerId","seconds","seedValue","workerId","newCharacters","shortid","domainSession","successMessages","errorMessages","_latestOptions","isJoined","tryReconnecting","_connectionOn","disconnected","loggedIn","handleSuccessMessage","handleErrorMessage","sm","requestsMap","destination","wasReconnect","handleJoined","requestId","request_id","getNextRequestId","tag","skipPeerId","successMsg","_tag","errorMsg","leave","onLeft","connected","GW3ProtocolImpl","protocolVersion","datePrefix","datePrefixLen","dateMinLen","datePrefixFirstChar","_isLoggedIn","shouldTryLogin","initialLogin","initialLoginAttempts","sessions","handleDisconnected","ping","processStringMessage","milliseconds","ex","msgType","createStringMessage","oldToJson","datePrefix_1","processObjectMessage","createObjectMessage","login","authentication","e_1","helloMsg","sendOptions","welcomeMsg","token","err_1","loginConfig","gatewayToken","getNewGWToken","flowName","provider","flowCallback","sessionId","secret","globalDomain","subLogger","maxRetries","reconnectAttempts","resolvedIdentity","resolved_identity","availableDomains","available_domains","access_token","setLoggedIn","logout","promises","pingTimer","domainName","domainLogger","authToken","getGWToken","MessageReplayerImpl","specs","specsNames","messages","subs","subsRefCount","specs_1","spec","name_1","_loop_1","refCount","this_1","processMessage","types","isDone","name_2","drain","Connection","messageHandlers","ids","_connected","isTrace","inproc","sharedWorker","canPublish","handleConnectionChanged","handleTransportMessage","replaySpecs","replayer","isObjectBasedTransport","trace","strMessage","isLoggedIn","authRequest","distributeMessage","handlerId","loggerError","msgObj","Logger","logFn","subLoggers","customLogFn","loggerFullName","includeTimeAndLevel","existingSub","publishLevel","level","_publishLevel","consoleLevel","_consoleLevel","publishMessage","compareWith","loggerName","interop","Interop","InteropMethodName","prefix","date","getHours","getMinutes","getSeconds","getMilliseconds","toPrint","GW_MESSAGE_CREATE_CONTEXT","GW_MESSAGE_ACTIVITY_CREATED","GW_MESSAGE_ACTIVITY_DESTROYED","GW_MESSAGE_CONTEXT_CREATED","GW_MESSAGE_CONTEXT_ADDED","GW_MESSAGE_SUBSCRIBE_CONTEXT","GW_MESSAGE_SUBSCRIBED_CONTEXT","GW_MESSAGE_UNSUBSCRIBE_CONTEXT","GW_MESSAGE_DESTROY_CONTEXT","GW_MESSAGE_CONTEXT_DESTROYED","GW_MESSAGE_UPDATE_CONTEXT","GW_MESSAGE_CONTEXT_UPDATED","GW_MESSAGE_JOINED_ACTIVITY","ContextMessageReplaySpec","GW3ContextData","contextId","isAnnounced","activityId","updateCallbacks","hasCallbacks","applyContextDelta","delta","deepClone","commands","command","deletePath","setValueToPath","added_1","added","updated_1","updated","removed","mergeObjectsProperties","Set","flags","what","withWhat","deepEqual","pathArr","InvokeStatus","GW3Bridge","_contextNameToData","_gw3Subscriptions","_nextCallbackSubscriptionNumber","_contextNameToId","_contextIdToName","_protocolVersion","_connection","_logger","_gw3Session","subscribeToContextCreatedMessages","subscribeToContextUpdatedMessages","subscribeToContextDestroyedMessages","handleContextCreatedMessage","handleContextUpdatedMessage","handleContextDestroyedMessage","contextsDomainInfo","uri","createContext","lifetime","createContextMsg","context_id","contextData","currentContext","calculatedDelta","calculateContextDeltaV2","calculateContextDeltaV1","gwResponse","handleUpdated","updaterId","setPath","setPathSupported","setPaths","pathValues","pathValues_1","pathValue","pathValues_2","_r","un","thisCallbackSubscriptionNumber","hadCallbacks","joinedActivity","sentExplicitSubscription","sendSubscribe","subscriptionKey","sendUnsubscribe","extraData","oldContext","invokeUpdateCallbacks","createdMessageTypes_1","createdMessageType","contextCreatedMsg","activity_id","updatedMessageTypes_1","updatedMessageType","contextUpdatedMsg","justSeen","context_snapshot","updater_id","updateCallbackIndex","updateCallback","destroyedMessageTypes_1","destroyedMessageType","destroyedMsg","ContextsModule","_bridge","checkName","checkData","checkPath","paths_1","promisify","successCallback","errorCallback","rejectAfter","ms","finally","Client","configuration","callProtocolSubscribe","targetServers","stream","successProxy","errorProxy","methodResponseTimeout","waitTimeoutMs","methodDef","method_response_timeout","wait_for_method_timeout","delayTillNow","currentServers","getServerMethodsByFilterAndTarget","retry_1","streamInfo","methodFilter","filterCopy","getServers","serverMethodMap","server","getMethods","methodsForInstance","getMethodsForInstance","onMethodAdded","methodRemoved","onMethodRemoved","serverAdded","onServerAdded","serverRemoved","onServerRemoved","serverMethodAdded","onServerMethodAdded","serverMethodRemoved","onServerMethodRemoved","argumentObj","additionalOptions","methodDefinition","serversMethodMap","errorObj","additionalOptionsCopy","invokePromises","invocationMessages","tryToAwaitForMethods","supportsStreaming","objectTypes","called_with","executed_by","serversMethodPair","invId","invokePromise","race","invocationId","getInvocationResultObj","invocationResults","calledWith","invokeMessage","Success","allValues","currentValue","allErrors","currError","invResult","filterByTarget","myMatches","serverMethodPair","instanceMatch","localMachine","instanceFilter","instanceDefinition","containsProps","methodMatch","repoMethod","isMatch","filterValue","repoMethodValue","filterObjTypes","repoObjectTypes","objTypeToContains","objType","repoObjType","isFullfiled","containsAllFromFilter","matchingServers","resultMethodsObject","methodKey","identifier","matchingMethods","getServerMethodsById","ServerSubscription","branchKey","closeSingleSubscription","pushDataToSingle","Request","requestContext","accept","acceptRequestOnBranch","acceptOnBranch","rejectRequest","ServerStreaming","onSubRequest","rc","rm","handleSubRequest","onSubAdded","handleSubAdded","onSubRemoved","handleSubRemoved","streamCallbacks","subscriptionRequestHandler","request","subscriptionAddedHandler","subscriptionRemovedHandler","ServerBranch","subscriptions","getSubscriptionList","closeAllSubscriptions","pushData","ServerStream","_protocol","_repoMethod","_server","branches","bList","getBranchList","def2","returns","unregister","updateRepoMethod","Server","serverRepository","invocations","currentlyUnregistering","streaming","onInvoked","onMethodInvoked","createStream","streamDef","existingStream","streamMethodDefinition","getList","serverMethod","protocolState","streamUserObject","repoId","wrappedCallbackFunction","resultCallback","resultValue","userCallback","registerCore","resultCalled_1","methodResult","userCallbackAsync","forStream","methodToBeRemoved","unregisterWithPredicate","removeMethodsOrStreams","filterPredicate","methodsOrStreamsToRemove","methodsToRemove","methodUnregPromises","addAsCurrentlyUnregistering","theFunction","unregisterInProgress","methodToExecute","invocationArgs","unStrException","_value","methodInvocationResult","InstanceWrapper","wrapped","getStreams","refreshWrappedObject","user","applicationName","pid","machine","environment","region","API","ClientRepository","methodsCount","addServer","serverId","serverEntry","removeServerById","methodId","removeServerMethod","addServerMethod","createMethodIdentifier","gatewayId","display_name","object_types","input_signature","result_signature","getServersByMethod","allMethods","allServers","unsubscribeFunc","serversWithMethodsToReplay","returnUnsubWithDelayedReplay","methodsToReplay","unsubCalled","getServerById","methodInfo","collectionToReplay","ServerRepository","nextId","SUBSCRIPTION_REQUEST","SUBSCRIPTION_ADDED","SUBSCRIPTION_REMOVED","ServerStreaming$1","repository","ERR_URI_SUBSCRIPTION_FAILED","nextStreamId","handleAddInterest","handleRemoveInterest","streamingMethod","subscriptionsMap","branchKeyToStreamIdMap","streamId","getStreamId","subscription_id","subscribeMsg","stream_id","sendSubscriptionFailed","dropSubscriptionMessage","closeMultipleSubscriptions","subscriptionsToClose","drop","allSubscriptions","onSubscriptionLifetimeEvent","method_id","handlerFunc","getNextStreamId","caller_id","arguments_kv","subscriptionId","reason_uri","needleBranch","ServerProtocol","clientRepository","handleInvokeMessage","isStreaming","registerMsg","restrictions","invocation_id","callerId","UserSubscription","subscriptionData","params","trackedServers","pair","dataCallback","queued","dataItem","onClosed","closedCallback","onFailed","onConnected","setNewSubscription","newSub","STATUS_AWAITING_ACCEPT","STATUS_SUBSCRIBED","ERR_MSG_SUB_FAILED","ON_CLOSE_MSG_CLIENT_INIT","ClientStreaming","subscriptionsList","subscriptionIdToLocalKeyMap","nextSubLocalKey","handleErrorSubscribing","errorResponse","subLocalKey","pendingSub","timeoutId","callArgs","callOnClosedHandlers","handleSubscribed","acceptingServer","isFirstResponse","serverInstance","handleEventData","trackedServersFound","isPrivateData","oob","sendingServerId","receivedStreamData","requestArguments","private","onDataHandlers","queuedData","handleSubscriptionCancelled","expectedNewLength","closers","getNextSubscriptionLocalKey","registerSubscription","server_id","drainSubscriptions","subsInfo","localKey","closeSubscription","closingServer","closersCount","closingServerId","ClientProtocol","handlePeerAdded","handlePeerRemoved","handleMethodsAddedMessage","handleMethodsRemovedMessage","handleResultMessage","handleInvocationError","newPeerId","new_peer_id","remoteId","meta","local","serverInfo","removedPeerId","removed_id","methodIdList","gW3ProtocolFactory","libConfig","readyPromise","existingSubscriptions_1","registeredMethods","registeredMethods_1","handleReconnect","protocolPromise","MessageBus","publish","topic","routingKey","removeEmptyValues","routing_key","target_identity","watchOnEvent","keysMatch","cleaned","obj1","obj2","keysObj1","allMatch","GlueCore","userConfig","gdVersion","preloadPromise","gdPreloadPromise","_interop","_contexts","_bus","_allowTrace","glueInitTimer","internalConfig","nodeStartingContext","startingContextString","_GD_STARTING_CONTEXT_","_f","getApplication","applicationConfig","instanceId","gwConfig","gateway","gwURL","uniqueAppName","appInstanceId","getConnection","windowAsAny","containerApplication","htmlContainer","containerName","bus","auth","gwToken","getAuth","gdConsoleLevel","defaultLevel","consoleLogLevel","getLogger","libs","customLogger","prepareConfig","registerLib","inner","initTime","initEndTime","initStartTime","setupMetrics","initTimer","metricsPublishingEnabledFunc","getMetricsPublishingEnabled","setupInterop","agmConfig","setupContexts","hasActivities","activities","setupBus","setupExternalLibs","externalLibs","createCallback","setupExternalLib","authPromise","authConfig","libsReadyPromises","coreVersion","feedback","feedbackInfo","timing","extOptions","enrichGlue","updatePerfData","deprecatedDecorator","wrong","proper","agmAny","method_added","method_removed","server_added","server_method_aded","server_method_removed","ActivityEntity","_update","other","_updateCore","_beforeDelete","isString","isUndefined","isUndefinedOrNull","ifNotUndefined","doWithIt","ActivityType","ownerWindow","helperWindows","_ownerWindow","_helperWindows","hw","covertToWindowDef","initiate","_manager","windowType","WindowType","appByWindowTypeGetter","_appByWindowTypeGetter","getWindows","activity","isIndependent","createWindow","EntityEvent","entitiy","entity","EntityEventContext","ActivityStatusChangeEventContext","newStatus","oldStatus","EntityEventType","StatusChange","ActivityContextChangedEventContext","ActivityContextChange","Added","Removed","Updated","Closed","ActivityWindowEvent","ActivityWindowJoinedActivity","ActivityWindowLeftActivity","ActivityState","Created","Started","Destroyed","ActivityAGM","_activity","_ensureHasAgm","AGM","methodNames","methodsForWindow","currentWindowMethod","activityServers","promisify$1","potentialTargets","firstElem","_isInstance","_isActivityWindow","parameters","AttachedActivityDescriptor","ownerActivityId","_ownerActivityId","ownerId","windowIds","frameColor","detachActivities","nodeify","resp","Activity","actType","_actType","_status","_context","_ownerId","_agm","getActivityType","addWindowToActivity","createStackedWindows","windowTypes","leaveWindowFromActivity","getWindowsByType","setActivityContext","updateContext","updateActivityContext","onStatusChange","subscribeActivityEvents","ns","os","subscribeWindowEvents","onContextChanged","subscribeActivityContextChanged","act","stopActivity","attach","attachActivities","onActivityAttached","subscribeActivitiesAttached","newActId","oldActId","onDetached","subscribeActivitiesDetached","newAct","originalActivity","_updateDescriptors","allStates","_attached","setFrameColor","callbacksToWait","underlyingWindow","getFrameColor","LogLevel","Trace","Debug","Info","Warn","Logger$1","GlueLogger","_glueLogger","GetNamed","Get","owner","GetTypeName","Level","_getMessage","ActivityWindow","windowGetter","hcWindowId","_type","_activityId","_instance","_isIndependent","_windowGetter","_hcWindowId","getBounds","getWindowBounds","getWindowType","getActivityById","setVisible","setWindowVisibility","activate","activateWindow","setBounds","setWindowBounds","closeWindow","onActivityJoined","_subscribeForActivityWindowEvent","onActivityRemoved","ActivityStatus","getMessage","gwMmessageError","gwMessageAddActivityTypes","gwMessageActivityCreated","gwMessageActivityDestroyed","gwMessageActivityInitiated","gwMessageJoinedActivity","gwMessageActivityJoined","gwMessageActivityLeft","gwMessageOwnerChanged","gwMessageAddPeerFactories","gwMessagePeerFactoriesAdded","gwMessagePeerFactoriesRemoved","gwMessagePeerCreated","GW3Bridge$1","_activityChangeCallbacks","_activityTypeStatusChangeCallbacks","_activityWindowChangeCallbacks","_windowTypeStatusChangeCallbacks","_peerIdAndFactoryIdToPeerType","_peerFactoriesRegisteredByUs","_contextSubscriptions","_activityTypesInitiatedFromMe","_windows","_sessionJoinedPromise","_sessionJoinedPromiseResolve","_activityJoinedPromise","_activityJoinedPromiseResolve","glue42gd_1","addRefreshHandler","setGWToken","activityTypeGwMessageEntityToActivityType","nameToWindowType","windowName","owner_type","helper_types","peerFactoryGwMessageEntityToWindowType","peer_type","activityGwMessageToActivity","owner_id","activity_type","activityToActivityStatusChangeEvent","forwardActivityTypeMessagesToStatusEventHandlers","handleActivityCreatedMessage","handleActivityDestroyedMessage","forwardActivityMessagesToStatusEventHandlers","forwardActivityCreatedAndJoinedActivityToActivityWindowEventHandlers","forwardPeerFactoryMessagesToStatusEventHandlers","forwardPeerFactoryMessagesToPeerFactoryRequests","handlePeerFactoriesAdded","handlePeerFactoriesRemoved","forwardActivityWindowMessagesToEventHandlers","disposeRequestHandling","exit","activity_types","typesToTrack","initReady","onActivityTypeStatusChange","registerActivityType","activityTypeName","toActivityPeerConfig","windowDefinition","activityType","invokeCallbacks","unregisterActivityType","onWindowTypeStatusChange","registerWindowFactory","factories","unregisterWindowFactory","factory_ids","onActivityStatusChange","initiateActivity","initiateMsg","initial_context","isOverrideTypeDefinition","types_override","helpers","wd","sendCreateAndMapResultingMessagesToPromise","initMsg","fullReplace","removedKeys","removedKeys_1","announceWindow","activityWindowId","registerWindow","independent","shouldSendReady","activityInfo","getAgmInstance","generateWindowGetter","onActivityWindowChange","cellSize","peer_name","created_id","joinActivity","destroy_peer_id","getAnnouncementInfo","announcementInfo","activityWindowType","activityWindowIndependent","activityWindowName","searchParams","maybeName","target_id","leaveActivity","getActivityTypes","getWindowTypes","getActivities","getActivityWindows","windowDefinitions","cloneActivity","cloneOptions","into","newActivityInfo","onActivitiesAttached","onActivitiesDetached","onActivityAttachedDescriptorsRefreshed","getAttachedDescriptors","getRandomRequestId","forwardAddedAndRemovedMessagesToEventHandler","addedMessageType","removedMessageType","mapper","getGetEntityEvent","isAdded","forwardMessageToEventHandler","messageType","getEntityEvent","ent","initiatedMessageType","initiatedMessageFilter","createdMessageFilter","cancelledMessageType","cancelledMessageFilter","createdMessageToPromiseResolution","resolveCreatedPromise","rejectCreatedPromise","initiatedSubscription","createdSubscription","cancelledSubscription","errorSubscription","reqId","createdPromise","initiatedMessageAck","dropSubscriptions","dropSubscription","msg4","msg1","msg2","msg3","toReturn","peerFactoryIdAndOwnerIdToWindowType","factoryId","peerType","subscribeToContext","unsubscribeContext","activityCreatedMessage","participants","createdMessage","peer_factory","gateway_token","joinedMessage","joinedId","joined_id","joinedType","joined_type","joinedName","joined_name","left_id","ActivityMy","_myAttached","_myDetached","_myAttachedTo","_myDetachedFrom","_myActivityFrameColorChanged","_myActivityJoinedCallbacks","_myActivityRemovedCallbacks","_myContextUpdateCallbacks","_m","am","_subscribeMyContextChanged","_subscribeMyWindowEvent","_subscribeActivitiesAttached","_subscribeActivitiesDetached","onWindowFrameColorChanged","_subscribeWindowFrameColorChanged","_w","announcedWindows","myWin","onActivityLeft","onActivityDetached","onAttachedToActivity","onDetachedFromActivity","attached","onFrameColorChanged","myActivity","_notifyMyContextChanged","_notifyMyWindowEvent","callbackStore","_notifyAttached","_notifyDetached","_notifyAttachedTo","_notifyDetachedFrom","detached","oldAct","ReadyMarker","signalsToWait","_signals","_callbacks","setCallback","isSet","isError","_error","getError","EntityObservableCollection","processNew","_items","_listeners","_processNew","addOne","internalEntity","_updateInternalCollections","_notifyListeners","getByName","getOrWait","entityAddedHandler","entityAsAny","isActivityDestroy","isWindowClose","oldEntity","ActivityManager","autoAnnounce","_announcedWindows","_attachedCallbacks","_detachedCallbacks","_frameColorChangesCallbacks","_windowHandlers","_activityTypes","_grabEntity","_windowTypes","_activities","_dataReadyMarker","_descriptorsMarker","_readyMarker","dataErr","errCatch","refreshDescriptors","_handleActivitiesAttached","_handleActivitiesDetached","_handleActivityDescriptorsRefreshed","_handleWindowFrameColorChanged","_subscribeForData","aw","_getInitialData","bridgeType","ownerWindowType","helperWindowTypes","ownerDefinition","helperDefinitions","relativeTo","relativeDirection","windowStyleAttributes","actId","subscribeActivityTypeEvents","factoryMethod","getName","currentWindow","windowEventHandler_1","unsubscribeWindowEvents","subscribeWindowTypeEvents","window_1","wrappingHandler","windowTypeOrConfiguration","relativeToWindow","invalidKeys_1","filteredWindowTypeOrConfiguration_1","wid","relativeWindowTypes","stackedWindow","tasks","removedKey","descriptors","stateWrapped","subscribeActivityFrameColorChanged","ac","descriptorAsObjectFromAPI","oldActivityId","newActivityId","ActivityManagementAPI","_my","activityTypes","_getActivityTypesWrapper","_getWindowTypesWrapper","registerFactory","unregisterFactory","announce","onAttached","onActivityFrameColorChanged","ActivityAPI","_mgr","aware","inActivity","getAvailableFrameColors","ActivityModule","logLevel","_isUsingHCImplementation","gdMajorVersion","_isUsingGW3Implementation","checkIsUsingGW3Implementation","activityManager","disableAutoAnnounce","_api","_readyPromise","GetFunctionalEntitlementMethodName","CanIMethodName","OnEventMethodName","createRegistry$1","lib$2","objectValues","objectClone","ApplicationImpl","_appManager","onInstanceStarted","onInstanceStopped","onAppRemoved","onAppChanged","onAppAvailable","onAppUnavailable","_props","Title","Version","AutoStart","IsShell","Caption","IsHidden","ApplicationName","ActivityWindowType","Arguments","AllowMultiple","IsReady","Icon","IconUrl","SortOrder","UserProperties","autoStart","allowMultiple","Type","Mode","styleAttributes","WindowStyleAttributes","searchFor","modeIndex","startModeIndex","stopModeIndex","updateFromProps","Name","Context","Options","acsResult","Instance_0","Id","handleInstanceStarted","unsub","check","filtered","isActivityInstance","onInstanceAgmServerReady","waitForApplicationInstance","onAvailable","onUnavailable","InstanceImpl","_appName","startFailed","onAgmReady","_addToRegistry","onStopped","_unsubscribeInstanceStopped","_unsubscribeInstanceAgmServerReady","activityInstance","_isActivityOwner","activityInstances","inst","isActivityOwner","activityOwnerInstance","_startUpContext","_title","_isActivityInstance","_inActivity","_agmInstance","ActivityId","IsActivityOwner","updateAgmInstanceFromProps","AgmServers","GD3","agmInstances","gdAgmServers","propsAgmServer","propsAgm","machineName","userName","handleInstanceStopped","AppManagerImpl","_gdMajorVersion","_apps","_instances","getMyInstance","instanceId_1","handleAppAdded","_getAppId","_updateAppFromProps","handleAppUpdated","handleAppRemoved","handleAppReady","_getAppOrThrow","available","_getInstanceId","_getInstanceAppName","_updateInstanceFromProps","_getInstanceOrThrow","_matchInstance","handleInstanceAgmServerReady","handleInstanceStartFailed","handleInstanceUpdated","onInstanceStartFailed","onInstanceUpdated","onAppAdded","_getInstanceByIdAndName","promisify$2","EntitlementsImpl","handleBranchModified","handleBranchesModified","getRegion","_agmInvoke","Region","getBranches","Branches","getCurrentBranch","Branch","setRegion","ResultMessage","setCurrentBranch","currentUser","getFunctionalEntitlement","funct","Entitlement","getFunctionalEntitlementBranch","canI","func","Result","canIBranch","onBranchesChanged","onBranchChanged","restart","transformFunction","AppManagerFactory","START_ONLY","SKIP_ICONS","entitlements","skipIcon","skipIcons","resolveFunc","rejectFunc","resultPromise","streamData","createDataSubscription","windowStore","WindowStore","waitForTimeoutInMilliseconds","_pendingWindows","_pendingWindowsStates","getIfReady","remote","urlChanged","setReadyState","targetWindowState","markReadyToShow","setUrlChangedState","waitFor","onReadyWindow","Utils$1","callbackifyPromise","getMonitor","displays","workingAreaWidth","workingAreaHeight","monitor","totalOverlap","calculateTotalOverlap","getDisplayCenterOfScreen","r1","r2","r1x","r1y","r1xMax","r1yMax","r2x","r2y","r2xMax","r2yMax","windowFactory","executor","appManagerGetter","_group","_mode","_url","_bounds","_frameColor","_focus","_neighbours","neighbours","_groupId","groupId","_isGroupHeaderVisible","isGroupHeaderVisible","_isTabHeaderVisible","isTabHeaderVisible","_isTabSelected","isTabSelected","_settings","_isVisible","_isSticky","isSticky","isCollapsed","_windowState","_tabGroupId","tabGroupId","_isLocked","isLocked","_frameButtons","_zoomFactor","zoomFactor","moveResize","resolveTimeout","unsubscribeBoundsChanged","resolveImmediately","areBoundsEqual","onBoundsChanged","toBeVisible","isVisibilityCorrect","onVisibilityChanged","waitForLockingChanged","onLockingChanged","onUrlChanged","onCollapsed","onExpanded","onMaximized","onMinimized","onNormal","onTabHeaderVisibilityChanged","getNeighboursByDirection","direction","winId","getApplicationName","_APPLICATION_NAME","_t42","getWindowInfo","requested","maxHeight","areHeightsEqual","areWidthsEqual","areLeftsEqual","areTopsEqual","handleWindowClose","handleWindowChangeState","handleTitleChanged","newTitle","handleVisibilityChanged","handleUrlChanged","newUrl","handleWindowSettingsChanged","handleContextUpdated","handleFrameIsLockedChanged","handleBoundsChanged","handleFocusChanged","handleFrameButtonAdded","frameButton","buttonObj","btn","buttonId","handleFrameButtonRemoved","frameButtonId","handleFrameButtonClicked","handleFrameColorChanged","handleFrameAttached","handleFrameSelectionChanged","newWindow","prevWindow","selectedWindow","previousWindow","un_1","onTabSelectionChanged","newWin","prevWin","handleCompositionChanged","handleGroupHeaderVisibilityChanged","handleTabHeaderVisibilityChanged","handleGroupChanged","newGroup","oldGroup","handleGroupAssociation","group","handleAttached","newTabGroupId","tabHeaderVisible","handleDetached","handleWindowAttached","handleWindowDetached","handleZoomFactorChanged","handleIsStickyChanged","hostInstance","monitors","maximizeRestore","currEvent","collapse","toggleCollapse","setStyle","setOnTop","onTop","resetButtons","setSizeConstraints","constraints","navigate","addFrameButton","buttonInfo","imageBase64","removeFrameButton","center","screen","snap","targetWindowGroup","targetGroup","targetWindow","showLoader","loader","hideLoader","unlock","getIcon","icon","setIcon","base64Image","setTabTooltip","attachTab","sourceWindowId","targetWindowId","argsForSend","sourceWin","detachTab","opt","hideTabHeader","visibilityChangeHeard","detachedHeard","unVisibility","unDetached","setTabHeaderVisible","toBeTabHeaderVisible","showPopup","createFlydown","setModalState","setZoomFactor","zoomIn","zoomOut","showDevTools","capture","captureOptions","flash","suppliedOptions","flashOptions","shouldFlash","setSticky","print","printOptions","printToPDF","printToPDFOptions","onTitleChanged","onFrameButtonAdded","onFrameButtonRemoved","onFrameButtonClicked","onContextUpdated","onFocusChanged","onStickyChanged","onGroupChanged","onWindowAttached","onWindowDetached","onClosing","onRefreshing","prevent","onZoomFactorChanged","getAllTabs","resizeTo","getParentWindow","myParentId","parentInstanceId","getChildWindows","Events","Registry","GDExecutor","agmTarget","stylePromises","wait","toolTip","allowClose","allowCollapse","allowLockUnlock","allowMaximize","allowMinimize","tabTooltip","tabToolTip","buttonsConfig","snappingEdge","dataURL","toShow","optionsCopy","reformatedOptions","targetLocation","popupBounds","targetId","fullOptions","horizontalOffset","verticalOffset","reformatFlydownOptions","zoneIds","zones","flydownSize","cancel","clearFlydownArea","handleFlydownBoundsRequested","cancelCallback","responses","defaultResponse","zoneId","flydownId","flydownWindowBounds","flydownWindowId","captureGroup","groupWindowIds","configure","filePath","setGroupHeaderVisible","getGroupTitle","setGroupTitle","addCloseHandler","assignGeneralIfUnassigned","zone","valueFromOptions","flydownBounds","flydownActiveArea","activeArea","areaIds","getWindowsByTabGroupId","alphabet$1","previousSeed$1","shuffled$1","GDEnvironment","wndId","_waitTimeout","normalizeInstance","_windowId","_appManagerGetter","caller","respondToEvent","streamResolve","streamReject","updateWindow","copyOptions","windowState","tabAttached","tabDetached","onEvent","onCompositionChanged","onGroupHeaderVisibilityChanged","onWindowGotFocus","onWindowLostFocus","windowInfo","readyResolve","extendedStreamEvent","getExtendedStreamEvent","windowInfoCreatedEvent","windowObjectAndEvents","theWindow","theWindowEvents","windowInfoBoundsChangedEvent","windowInfoUrlChangedEvent","windowInfoTitleChanged","windowInfoIsStickyChangedChanged","windowInfoCompositionChanged","neighbors","groupHeaderVisible","windowInfoFocusChanged","focusChanged","winsToBeNotified_1","oldTabGroupId","winsToBeNotified_2","prevWindowId","windowObjAndEvents","mapToWindowConstructorOptions","isActiveTab","streamEvent","charAt","groupFactory","_windowsId","waitForHeaderVisibilityChanged","onHeaderVisibilityChanged","groupObject","_mapToWindowObjects","winObjects","windowObject","_mapToWindowObject","mappedWindows","mappedWindow","showHeader","hideHeader","groupAPI","groupInternal","removeWindow","window_2","groupsFactory","_groups","heardForWindowsCounter","findGroupByWindow","groupFound","addNewWindow","windowGroupId","createdGroup","createOrGetGroup","deleteGroup","newGroupId","oldGroupId","groupEvents","groupsAPI","groupsEvents","onWindowMoved","WindowsFactory","groups","gdPromise","rej","envDetector","myWindow","windowAdded","windowRemoved","errorHandler","windowsForListing","onTabAttached","onTabDetached","unsubFunc","unsubscribed","store","LayoutStore","removeWhere","condition","seed$1","randomFromSeed$1","ORIGINAL$1","reset$1","setCharacters$1","getShuffled$1","shuffle$1","alphabet_1$1","crypto$1","randomByteBrowser$1","encode_1$1","decode_1$1","build_1","isValid$1","lib$3","createCommonjsModule$1","shortid$1","ContextProvider","activitiesGetter","registerRequestMethods","onSaveRequested","context_1","activityIsOwner","usersCbs","requestResult","autoSaveWindowContext","windowContext","activityContext","transformACSLayout","something","accumulator","convertedValue","LayoutImpl","LayoutsAPIImpl","activityGetter","setDefaultGlobal","clearDefaultGlobal","getDefaultGlobal","isSlimMode","gotSnapshot","verifyNotSlimMode","ignoreHidden","layoutObject","actIds","appIds","ignoreLayoutRestrictions","myInstance","isVisibleWindow","ignoreMyInstance","autoCollectApps","invokeMethodAndTrack","activityIdToJoin","restoreActivityOwner","ignoreActivityWindowTypes","closeRunningInstance","reuseWindows","t42","activityToJoin","closeOldWindows","reuseExistingWindows","toClose","splash","getInstancesToClose","getObjectValues","Layouts","rename","newName","oldName","updateMetadata","hibernate","resume","getCurrentLayout","onRestored","onRenamed","updateAppContextInCurrent","updateDefaultContext","skipStreamEvent","agmResult","streamEventReceived","handleResult","shellApp","shellApplicationName","ACSStream","resolveReady","rejectReady","resolveGotSnapshot","rejectGotSnapshot","noRetry","checkForLayoutEventMethod","IsSnapshot","addLayouts","OnLayoutAdded","removeLayouts","OnLayoutRemoved","changeLayouts","OnLayoutChanged","renameLayouts","OnLayoutRenamed","restoredLayout","OnLayoutRestored","Token","layoutsData","removedLayouts","removedLayout","existingLayout","compareLayouts","changedLayouts","changedLayout","renamedLayouts","renamedLayout","layout1","layout2","restoredLayouts","LayoutsFactory","acsStream","DisplayCommand","DisplayManager","callGD","GetAll","decorateDisplay","getPrimary","isPrimary","Capture","captureAll","CaptureAll","getMousePosition","GetMousePosition","original","switchChannel","channel","swId","newChannel","CONTEXT_PREFIX","SharedContextSubscriber","subscribeFor","isChannel","createContextName","___","startsWith","channelContextName","getContextData","updateChannel","updateData","channelName","ChannelsImpl","shared","subsKey","changedKey","channelNames","joinCore","joinNoSelectorSwitch","leaveCore","leaveNoSelectorSwitch","changed","changeSelector","doesChannelExist","intervalId","sharedContexts","channels","interopLib","setupAGM","CommandMethod","HotkeysImpl","firstHotkey","hotkeys","hkToLower","hotkey","formatHotkey","registerInvokeAGMMethod","unregisterAll","isRegistered","version$2","prepareConfig$1","getLibConfig","defaultMode","trueMode","getModeAsString","Glue42Notification","actions","badge","renotify","requireInteraction","silent","Notifications","methodsRegistered","methodNameRoot","notifications","raise","bunchOfPromises","notification","validActions","validActions_1","g42notification","maxActions","handleNotificationAction","severity","glueRoutingDetailMethodName","g42notificationId","g42action","g42interopMethod","g42interopTarget","stringValue","glueAction","payload_1","event_1","onaction","actionInterop","event_2","clickInterop","ThemesImpl","core","isSubscribed","getConfiguration","getMethodName","getCurrent","theme","setMethodName","sharedContextName","getThemesMethodName","setThemesMethodName","GLUE42_FDC3_INTENTS_METHOD_PREFIX","Intents","intentFilter","intents","ctToLower_1","intent","contextType","contextTypes","intentName","intentDef","isDynamicIntent","anAppHandler","anInstanceHandler","intentDefHandler","intentHandler","startApp","raiseIntentToInstance","apps_1","intents_1","appsWithIntents","appsWithIntents_1","withIntentsInfo","applicationTitle","applicationDescription","applicationIcon","appIntent","_h","_j","_k","_l","appWithIntents","appDefIntent","instanceTitle","addIntentListener","methodDescription","registeredIntent","interopServer","registeredMethod","addedMethod","factory$3","createWindows","glueConfig","windowsLogger","getLibLogger","debugLog","createActivities","activityLogger","createAppManager","createLayouts","layoutsConfig","lay","createChannels","channelsAPI","createHotkeys","hotkeysAPI","factory$1","createIntents","intentsAPI","createNotifications","notificationsAPI","createDisplaysApi","displaysLogger","_displays","createThemes","themesAPI","themes","factory$2","newLogger","loggerConfig","currentLog","glueApi","glueFactoryLog","libraries","whatToExpose","shouldSetToWindow","autoInjected","webPlatform","parseConfig","libDomainDecoder","windowOperationTypesDecoder","appManagerOperationTypesDecoder","layoutsOperationTypesDecoder","windowRelativeDirectionDecoder","windowOpenSettingsDecoder","openWindowConfigDecoder","windowHelloDecoder","coreWindowDataDecoder","simpleWindowDecoder","helloSuccessDecoder","isWorkspaceFrame","windowTitleConfigDecoder","windowMoveResizeConfigDecoder","windowBoundsResultDecoder","windowUrlResultDecoder","anyDecoder","boundsDecoder","instanceDataDecoder","applicationDataDecoder","baseApplicationDataDecoder","appHelloSuccessDecoder","apps","basicInstanceDataDecoder","applicationStartConfigDecoder","waitForAGMReady","layoutTypeDecoder","componentTypeDecoder","windowLayoutComponentDecoder","componentType","main","windowLayoutItemDecoder","groupLayoutItemDecoder","columnLayoutItemDecoder","rowLayoutItemDecoder","workspaceLayoutComponentDecoder","glueLayoutDecoder","newLayoutOptionsDecoder","restoreOptionsDecoder","layoutSummaryDecoder","simpleLayoutConfigDecoder","getAllLayoutsConfigDecoder","allLayoutsFullConfigDecoder","allLayoutsSummariesResultDecoder","optionalSimpleLayoutResult","operations","openWindow","dataDecoder","resultDecoder","windowHello","getUrl","WebWindowModel","CallbackRegistryFactory","myCtxKey","ctxUnsubscribe","contextLib","dimension","targetBounds","commandArgs","ttl","WindowsController","allWindowProjections","coreGlue","publicWindowId","addWindowOperationExecutors","platformRegistration","registerWithPlatform","toApi","operationData","windowSuccess","buildWebWindow","projection","handleWindowAdded","handleWindowRemoved","handleGetBounds","handleGetTitle","handleGetUrl","handleMoveResize","handleSetTitle","helloSuccess","sayHello","currentWindows","webWindowProjection","clean","targetTop","targetLeft","targetHeight","targetWidth","moveMethod","moveBy","resizeMethod","resizeBy","PromiseWrap","GlueWebPlatformControlName","GlueWebPlatformStreamName","GlueBridge","platformMethodTimeoutMs","controllers","checkWaitMethod","passMessageController","pkg","transmitMessage","unSub","decodeResult","handleBridgeMessage","resolutionData","messageData","appHello","applicationAdded","applicationRemoved","applicationChanged","instanceStarted","instanceStopped","applicationStart","instanceStop","AppManagerController","addOperationsExecutors","startOptions","openResult","buildInstance","getApplications","getInstances","handleApplicationAddedMessage","handleApplicationRemovedMessage","handleApplicationChangedMessage","handleInstanceStartedMessage","handleInstanceStoppedMessage","appData","buildApplication","appIndex","instanceData","instIdx","instIdxApps","verifiedName","instancesSoFar","findMyInstance","foundInstance","InstanceModel","ApplicationModel","startApplication","layoutAdded","layoutChanged","layoutRemoved","LayoutsController","handleOnAdded","handleOnChanged","IoC","windowsController","appManagerController","layoutsController","_windowsControllerInstance","_appManagerControllerInstance","_layoutsControllerInstance","_bridgeInstance","PromisePlus","WebPlatformTransport","parentReady","iAmConnected","parentPingTimeout","connectionRequestTimeout","defaultTargetString","connectionAccepted","handleConnectionAccepted","connectionRejected","handleConnectionRejected","connectionRequest","handleConnectionRequest","handleParentReady","parentPing","handleParentPing","platformPing","handlePlatformPing","platformUnload","handlePlatformUnload","platformReady","handlePlatformReady","clientUnload","handleClientUnload","setUpMessageListener","setUpUnload","waitParent","initiateRemoteConnection","connectionResolve","connectionReject","myClientId","bridgeInstanceId","glue42core","clientId","clientType","parentPingResolve","checkMessageTypeValid","ownWindowId","handleAcceptanceOfMyRequest","handleAcceptanceOfGrandChildRequest","parentWindowId","grandChildId","rejectConnectionRequest","typeToValidate","rejection","getInvokePromise","coreFactoryFunction","glueWebFactory","createGlueCore","windowAny","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","ReactCurrentOwner","__self","__source","defaultProps","$$typeof","_owner","jsx","jsxs","StrictMode","Profiler","Suspense","isMounted","enqueueForceUpdate","enqueueReplaceState","enqueueSetState","updater","isReactComponent","forceUpdate","isPureReactComponent","_result","ReactCurrentDispatcher","ReactCurrentBatchConfig","transition","IsSomeRendererActing","Children","count","only","PureComponent","_calculateChangedBits","_currentValue","_currentValue2","_threadCount","Consumer","createFactory","isValidElement","_payload","_init","useCallback","useDebugValue","useMemo","useReducer","aa","ba","ca","da","ea","fa","ha","ia","ja","ka","acceptsBooleans","attributeNamespace","mustUseProperty","sanitizeURL","removeEmptyString","oa","pa","qa","ma","na","la","setAttributeNS","xlinkHref","ra","sa","ta","ua","wa","xa","ya","za","Aa","Ba","Ca","Da","Ea","Fa","Ga","Ha","Ia","Ja","Ma","Ka","La","Na","Oa","Pa","prepareStackTrace","Reflect","construct","Qa","Ra","Sa","Ta","Va","_valueTracker","getOwnPropertyDescriptor","getValue","setValue","stopTracking","Ua","Wa","Xa","Ya","defaultChecked","_wrapperState","initialChecked","Za","initialValue","controlled","$a","ab","bb","eb","db","fb","defaultSelected","gb","dangerouslySetInnerHTML","hb","ib","jb","kb","lb","mb","nb","ob","valueOf","MSApp","execUnsafeLocalFunction","pb","qb","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columns","flex","flexPositive","flexNegative","flexOrder","gridRowSpan","gridColumnSpan","lineClamp","tabSize","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","rb","sb","tb","ub","menuitem","area","embed","hr","img","keygen","link","track","wbr","vb","wb","xb","srcElement","correspondingUseElement","yb","zb","Ab","Bb","Cb","stateNode","Db","Eb","Fb","Gb","Hb","Ib","Jb","Kb","Lb","Mb","Ob","Pb","Qb","Rb","onError","Sb","Tb","Ub","Vb","Wb","Xb","Zb","alternate","$b","memoizedState","dehydrated","cc","sibling","bc","dc","ec","fc","gc","hc","ic","jc","kc","lc","mc","nc","oc","pc","qc","blockedOn","domEventName","eventSystemFlags","nativeEvent","targetContainers","sc","tc","vc","lanePriority","unstable_runWithPriority","priority","hydrate","containerInfo","xc","yc","zc","Ac","Bc","unstable_scheduleCallback","unstable_NormalPriority","Cc","Dc","Ec","animationend","animationiteration","animationstart","transitionend","Fc","Gc","Hc","animation","Ic","Jc","Kc","Lc","Mc","Nc","Oc","Pc","Qc","unstable_now","Rc","Uc","pendingLanes","expiredLanes","suspendedLanes","pingedLanes","Vc","entangledLanes","entanglements","Wc","Xc","Yc","Zc","$c","eventTimes","clz32","cd","dd","unstable_UserBlockingPriority","ed","fd","gd","hd","uc","jd","kd","ld","md","nd","od","pd","qd","rd","_reactName","_targetInst","cancelBubble","persist","isPersistent","xd","yd","sd","isTrusted","ud","vd","Ad","getModifierState","zd","fromElement","movementX","movementY","Bd","Dd","dataTransfer","Fd","Hd","animationName","elapsedTime","pseudoElement","Jd","clipboardData","Ld","Md","Esc","Spacebar","Left","Up","Right","Down","Del","Win","Menu","Apps","Scroll","MozPrintableKey","Nd","8","9","12","13","16","17","18","19","20","27","32","33","34","35","36","37","38","39","40","45","46","112","113","114","115","116","117","118","119","120","121","122","123","144","145","224","Od","Alt","Control","Meta","Shift","Pd","Rd","repeat","locale","Td","pressure","tangentialPressure","tiltX","tiltY","twist","Vd","Xd","Zd","deltaX","wheelDeltaX","deltaY","wheelDeltaY","wheelDelta","deltaZ","deltaMode","$d","documentMode","datetime","email","month","range","tel","week","oninput","detachEvent","Ke","HTMLIFrameElement","contentEditable","Qe","selectionStart","selectionEnd","anchorNode","getSelection","anchorOffset","focusNode","focusOffset","Ze","Yb","af","bf","cf","df","passive","Nb","ef","ff","gf","hf","jf","kf","lf","mf","autoFocus","nf","__html","of","pf","qf","rf","sf","previousSibling","tf","vf","wf","xf","yf","zf","Af","Bf","Cf","Df","Ef","__reactInternalMemoizedUnmaskedChildContext","__reactInternalMemoizedMaskedChildContext","Ff","childContextTypes","Gf","Hf","If","getChildContext","Jf","__reactInternalMemoizedMergedChildContext","Kf","Lf","Mf","Nf","Of","Pf","unstable_cancelCallback","Qf","unstable_shouldYield","Rf","unstable_requestPaint","Sf","Tf","unstable_getCurrentPriorityLevel","Uf","unstable_ImmediatePriority","Vf","Wf","Xf","unstable_LowPriority","Yf","unstable_IdlePriority","Zf","$f","ag","bg","cg","dg","eg","fg","gg","hg","ig","jg","kg","lg","mg","ng","og","pg","qg","rg","sg","childLanes","tg","dependencies","firstContext","lanes","ug","vg","observedBits","responders","wg","xg","updateQueue","baseState","firstBaseUpdate","lastBaseUpdate","pending","effects","yg","zg","eventTime","lane","Ag","Bg","Cg","Dg","Eg","Fg","Gg","Kg","_reactInternals","Hg","Ig","Jg","Lg","shouldComponentUpdate","Mg","Ng","componentWillReceiveProps","UNSAFE_componentWillReceiveProps","Og","getDerivedStateFromProps","getSnapshotBeforeUpdate","UNSAFE_componentWillMount","componentWillMount","componentDidMount","Pg","Qg","_stringRef","Rg","Sg","lastEffect","nextEffect","firstEffect","Tg","Ug","elementType","Vg","Wg","Xg","Yg","Zg","$g","ah","bh","ch","dh","eh","fh","gh","hh","ih","memoizedProps","revealOrder","jh","kh","lh","mh","nh","oh","pendingProps","ph","qh","rh","sh","uh","_workInProgressVersionPrimary","vh","wh","xh","yh","zh","Ah","Bh","Ch","Dh","Eh","Fh","Gh","Hh","baseQueue","Ih","Jh","Kh","lastRenderedReducer","eagerReducer","eagerState","lastRenderedState","Lh","Mh","_getVersion","_source","mutableReadLanes","Nh","setSnapshot","Oh","Ph","Qh","Rh","deps","Sh","Th","Uh","Vh","Wh","Xh","Yh","Zh","$h","ai","bi","ci","di","readContext","useDeferredValue","useTransition","useMutableSource","useOpaqueIdentifier","unstable_isNewReconciler","uf","ei","fi","gi","ii","ji","ki","li","mi","baseLanes","ni","oi","pi","UNSAFE_componentWillUpdate","componentDidUpdate","qi","getDerivedStateFromError","ri","pendingContext","Bi","Di","Ei","si","retryLane","ti","unstable_avoidThisFallback","ui","unstable_expectedLoadTime","vi","wi","xi","yi","zi","isBackwards","rendering","renderingStartTime","tail","tailMode","Ai","Fi","Gi","wasMultiple","multiple","createElementNS","Hi","Ii","Ji","Ki","Li","Mi","Ni","Oi","Pi","Qi","Ri","Si","componentDidCatch","Ti","componentStack","Ui","Vi","Wi","Xi","__reactInternalSnapshotBeforeUpdate","Yi","Zi","$i","aj","bj","onCommitFiberUnmount","componentWillUnmount","cj","dj","ej","fj","gj","hj","_reactRootContainer","ij","jj","kj","lj","mj","nj","oj","pj","qj","rj","sj","tj","uj","vj","wj","ck","xj","yj","zj","Aj","Bj","Cj","Dj","Ej","Fj","Gj","Hj","Ij","Jj","Sc","Kj","Lj","Mj","callbackNode","expirationTimes","callbackPriority","Tc","Nj","Oj","Pj","Qj","Rj","Sj","Tj","finishedWork","finishedLanes","Uj","timeoutHandle","Wj","Xj","pingCache","Yj","Zj","va","ak","bk","dk","rangeCount","focusedElem","selectionRange","ek","createRange","setStart","removeAllRanges","addRange","setEnd","onCommitFiberRoot","fk","gk","ik","pendingChildren","jk","mutableSourceEagerHydrationData","kk","lk","mk","nk","qk","hydrationOptions","mutableSources","_internalRoot","rk","tk","hasAttribute","sk","uk","hk","unstable_observedBits","form","Vj","vk","wk","findFiberByHostInstance","bundleType","rendererPackageName","xk","rendererConfig","overrideHookState","overrideHookStateDeletePath","overrideHookStateRenamePath","overrideProps","overridePropsDeletePath","overridePropsRenamePath","setSuspenseHandler","scheduleUpdate","currentDispatcherRef","findHostInstanceByFiber","findHostInstancesForRefresh","scheduleRefresh","scheduleRoot","setRefreshHandler","getCurrentFiber","yk","supportsFiber","inject","findDOMNode","flushSync","unstable_batchedUpdates","unstable_createPortal","unstable_renderSubtreeIntoContainer","MessageChannel","unstable_forceFrameRate","cancelAnimationFrame","port2","port1","sortIndex","expirationTime","priorityLevel","unstable_Profiling","unstable_continueExecution","unstable_getFirstCallbackNode","unstable_next","unstable_pauseExecution","unstable_wrapCallback","runtime","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","innerFn","outerFn","tryLocsList","protoGenerator","Generator","_invoke","GenStateSuspendedStart","GenStateExecuting","GenStateCompleted","doneResult","delegateResult","maybeInvokeDelegate","ContinueSentinel","_sent","dispatchException","abrupt","record","tryCatch","GenStateSuspendedYield","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","resultName","nextLoc","pushTryEntry","locs","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iterable","iteratorMethod","isGeneratorFunction","genFun","ctor","awrap","skipTempReset","rootRecord","rval","exception","loc","caught","hasCatch","hasFinally","finallyEntry","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","propName","propFullName","getShim","isRequired","ReactPropTypes","symbol","any","arrayOf","instanceOf","objectOf","oneOfType","shape","exact","checkPropTypes","PropTypes","b64","lens","getLens","validLen","placeHoldersLen","tmp","Arr","_byteLength","curByte","revLookup","uint8","extraBytes","parts","maxChunkLength","len2","encodeChunk","output","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN"],"mappings":"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","file":"static/js/2.4bed757e.chunk.js","sourcesContent":["module.exports = require(\"regenerator-runtime\");\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.min.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom.production.min.js');\n} else {\n  module.exports = require('./cjs/react-dom.development.js');\n}\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","import React, { createContext, memo } from \"react\";\r\nimport { node, object, func } from \"prop-types\";\r\nimport { Glue42Web } from \"@glue42/web\";\r\nimport { Glue42 } from \"@glue42/desktop\";\r\nimport { useGlueInit } from \"./useGlueInit\";\r\nimport { GlueProviderProps, Glue42ReactFactory } from \"../react-hooks\";\r\n\r\nexport const GlueContext = createContext<Glue42Web.API | Glue42.Glue>(null);\r\n\r\nconst getGlueFactory = (): Glue42ReactFactory => {\r\n    return (window as any).GlueWeb || (window as any).Glue;\r\n};\r\n\r\nexport const GlueProvider: React.FC<GlueProviderProps> = memo(\r\n    ({ children, fallback = null, config = {}, glueFactory }) => {\r\n        const factory = glueFactory || getGlueFactory();\r\n        const glue = useGlueInit(config, factory);\r\n        return glue ? (\r\n            <GlueContext.Provider value={glue}>{children}</GlueContext.Provider>\r\n        ) : (\r\n            <>{fallback}</>\r\n        );\r\n    }\r\n);\r\n\r\nGlueProvider.propTypes = {\r\n    children: node,\r\n    config: object,\r\n    glueFactory: func,\r\n    fallback: node,\r\n};\r\n\r\nGlueProvider.displayName = \"GlueProvider\";\r\n","import { useEffect, useState } from \"react\";\r\nimport { useGlueInitProps } from \"../react-hooks\";\r\n\r\nexport const useGlueInit: useGlueInitProps = (config, glueFactory) => {\r\n    const [glue, setGlue] = useState(null);\r\n    useEffect(() => {\r\n        const initialize = async () => {\r\n            try {\r\n                const glue = await glueFactory(config);\r\n                setGlue(glue);\r\n            } catch (e) {\r\n                console.error(e);\r\n            }\r\n        };\r\n        initialize();\r\n    }, []);\r\n    return glue;\r\n};\r\n","import unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","\"use strict\";\r\nfunction createRegistry(options) {\r\n    if (options && options.errorHandling\r\n        && typeof options.errorHandling !== \"function\"\r\n        && options.errorHandling !== \"log\"\r\n        && options.errorHandling !== \"silent\"\r\n        && options.errorHandling !== \"throw\") {\r\n        throw new Error(\"Invalid options passed to createRegistry. Prop errorHandling should be [\\\"log\\\" | \\\"silent\\\" | \\\"throw\\\" | (err) => void], but \" + typeof options.errorHandling + \" was passed\");\r\n    }\r\n    var _userErrorHandler = options && typeof options.errorHandling === \"function\" && options.errorHandling;\r\n    var callbacks = {};\r\n    function add(key, callback, replayArgumentsArr) {\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey) {\r\n            callbacksForKey = [];\r\n            callbacks[key] = callbacksForKey;\r\n        }\r\n        callbacksForKey.push(callback);\r\n        if (replayArgumentsArr) {\r\n            setTimeout(function () {\r\n                replayArgumentsArr.forEach(function (replayArgument) {\r\n                    var _a;\r\n                    if ((_a = callbacks[key]) === null || _a === void 0 ? void 0 : _a.includes(callback)) {\r\n                        try {\r\n                            if (Array.isArray(replayArgument)) {\r\n                                callback.apply(undefined, replayArgument);\r\n                            }\r\n                            else {\r\n                                callback.apply(undefined, [replayArgument]);\r\n                            }\r\n                        }\r\n                        catch (err) {\r\n                            _handleError(err, key);\r\n                        }\r\n                    }\r\n                });\r\n            }, 0);\r\n        }\r\n        return function () {\r\n            var allForKey = callbacks[key];\r\n            if (!allForKey) {\r\n                return;\r\n            }\r\n            allForKey = allForKey.reduce(function (acc, element, index) {\r\n                if (!(element === callback && acc.length === index)) {\r\n                    acc.push(element);\r\n                }\r\n                return acc;\r\n            }, []);\r\n            callbacks[key] = allForKey;\r\n        };\r\n    }\r\n    function execute(key) {\r\n        var argumentsArr = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            argumentsArr[_i - 1] = arguments[_i];\r\n        }\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey || callbacksForKey.length === 0) {\r\n            return [];\r\n        }\r\n        var results = [];\r\n        callbacksForKey.forEach(function (callback) {\r\n            try {\r\n                var result = callback.apply(undefined, argumentsArr);\r\n                results.push(result);\r\n            }\r\n            catch (err) {\r\n                results.push(undefined);\r\n                _handleError(err, key);\r\n            }\r\n        });\r\n        return results;\r\n    }\r\n    function _handleError(exceptionArtifact, key) {\r\n        var errParam = exceptionArtifact instanceof Error ? exceptionArtifact : new Error(exceptionArtifact);\r\n        if (_userErrorHandler) {\r\n            _userErrorHandler(errParam);\r\n            return;\r\n        }\r\n        var msg = \"[ERROR] callback-registry: User callback for key \\\"\" + key + \"\\\" failed: \" + errParam.stack;\r\n        if (options) {\r\n            switch (options.errorHandling) {\r\n                case \"log\":\r\n                    return console.error(msg);\r\n                case \"silent\":\r\n                    return;\r\n                case \"throw\":\r\n                    throw new Error(msg);\r\n            }\r\n        }\r\n        console.error(msg);\r\n    }\r\n    function clear() {\r\n        callbacks = {};\r\n    }\r\n    function clearKey(key) {\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey) {\r\n            return;\r\n        }\r\n        delete callbacks[key];\r\n    }\r\n    return {\r\n        add: add,\r\n        execute: execute,\r\n        clear: clear,\r\n        clearKey: clearKey\r\n    };\r\n}\r\n;\r\ncreateRegistry.default = createRegistry;\r\nmodule.exports = createRegistry;\r\n//# sourceMappingURL=index.js.map","/**\r\n * Wraps values in an `Ok` type.\r\n *\r\n * Example: `ok(5) // => {ok: true, result: 5}`\r\n */\r\nvar ok = function (result) { return ({ ok: true, result: result }); };\r\n/**\r\n * Typeguard for `Ok`.\r\n */\r\nvar isOk = function (r) { return r.ok === true; };\r\n/**\r\n * Wraps errors in an `Err` type.\r\n *\r\n * Example: `err('on fire') // => {ok: false, error: 'on fire'}`\r\n */\r\nvar err = function (error) { return ({ ok: false, error: error }); };\r\n/**\r\n * Typeguard for `Err`.\r\n */\r\nvar isErr = function (r) { return r.ok === false; };\r\n/**\r\n * Create a `Promise` that either resolves with the result of `Ok` or rejects\r\n * with the error of `Err`.\r\n */\r\nvar asPromise = function (r) {\r\n    return r.ok === true ? Promise.resolve(r.result) : Promise.reject(r.error);\r\n};\r\n/**\r\n * Unwraps a `Result` and returns either the result of an `Ok`, or\r\n * `defaultValue`.\r\n *\r\n * Example:\r\n * ```\r\n * Result.withDefault(5, number().run(json))\r\n * ```\r\n *\r\n * It would be nice if `Decoder` had an instance method that mirrored this\r\n * function. Such a method would look something like this:\r\n * ```\r\n * class Decoder<A> {\r\n *   runWithDefault = (defaultValue: A, json: any): A =>\r\n *     Result.withDefault(defaultValue, this.run(json));\r\n * }\r\n *\r\n * number().runWithDefault(5, json)\r\n * ```\r\n * Unfortunately, the type of `defaultValue: A` on the method causes issues\r\n * with type inference on  the `object` decoder in some situations. While these\r\n * inference issues can be solved by providing the optional type argument for\r\n * `object`s, the extra trouble and confusion doesn't seem worth it.\r\n */\r\nvar withDefault = function (defaultValue, r) {\r\n    return r.ok === true ? r.result : defaultValue;\r\n};\r\n/**\r\n * Return the successful result, or throw an error.\r\n */\r\nvar withException = function (r) {\r\n    if (r.ok === true) {\r\n        return r.result;\r\n    }\r\n    else {\r\n        throw r.error;\r\n    }\r\n};\r\n/**\r\n * Given an array of `Result`s, return the successful values.\r\n */\r\nvar successes = function (results) {\r\n    return results.reduce(function (acc, r) { return (r.ok === true ? acc.concat(r.result) : acc); }, []);\r\n};\r\n/**\r\n * Apply `f` to the result of an `Ok`, or pass the error through.\r\n */\r\nvar map = function (f, r) {\r\n    return r.ok === true ? ok(f(r.result)) : r;\r\n};\r\n/**\r\n * Apply `f` to the result of two `Ok`s, or pass an error through. If both\r\n * `Result`s are errors then the first one is returned.\r\n */\r\nvar map2 = function (f, ar, br) {\r\n    return ar.ok === false ? ar :\r\n        br.ok === false ? br :\r\n            ok(f(ar.result, br.result));\r\n};\r\n/**\r\n * Apply `f` to the error of an `Err`, or pass the success through.\r\n */\r\nvar mapError = function (f, r) {\r\n    return r.ok === true ? r : err(f(r.error));\r\n};\r\n/**\r\n * Chain together a sequence of computations that may fail, similar to a\r\n * `Promise`. If the first computation fails then the error will propagate\r\n * through. If it succeeds, then `f` will be applied to the value, returning a\r\n * new `Result`.\r\n */\r\nvar andThen = function (f, r) {\r\n    return r.ok === true ? f(r.result) : r;\r\n};\r\n\r\n\r\nvar result = Object.freeze({\r\n\tok: ok,\r\n\tisOk: isOk,\r\n\terr: err,\r\n\tisErr: isErr,\r\n\tasPromise: asPromise,\r\n\twithDefault: withDefault,\r\n\twithException: withException,\r\n\tsuccesses: successes,\r\n\tmap: map,\r\n\tmap2: map2,\r\n\tmapError: mapError,\r\n\tandThen: andThen\r\n});\r\n\r\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\n\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nfunction isEqual(a, b) {\r\n    if (a === b) {\r\n        return true;\r\n    }\r\n    if (a === null && b === null) {\r\n        return true;\r\n    }\r\n    if (typeof (a) !== typeof (b)) {\r\n        return false;\r\n    }\r\n    if (typeof (a) === 'object') {\r\n        // Array\r\n        if (Array.isArray(a)) {\r\n            if (!Array.isArray(b)) {\r\n                return false;\r\n            }\r\n            if (a.length !== b.length) {\r\n                return false;\r\n            }\r\n            for (var i = 0; i < a.length; i++) {\r\n                if (!isEqual(a[i], b[i])) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n        // Hash table\r\n        var keys = Object.keys(a);\r\n        if (keys.length !== Object.keys(b).length) {\r\n            return false;\r\n        }\r\n        for (var i = 0; i < keys.length; i++) {\r\n            if (!b.hasOwnProperty(keys[i])) {\r\n                return false;\r\n            }\r\n            if (!isEqual(a[keys[i]], b[keys[i]])) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n}\r\n/**\r\n * Type guard for `DecoderError`. One use case of the type guard is in the\r\n * `catch` of a promise. Typescript types the error argument of `catch` as\r\n * `any`, so when dealing with a decoder as a promise you may need to\r\n * distinguish between a `DecoderError` and an error string.\r\n */\r\nvar isDecoderError = function (a) {\r\n    return a.kind === 'DecoderError' && typeof a.at === 'string' && typeof a.message === 'string';\r\n};\r\n/*\r\n * Helpers\r\n */\r\nvar isJsonArray = function (json) { return Array.isArray(json); };\r\nvar isJsonObject = function (json) {\r\n    return typeof json === 'object' && json !== null && !isJsonArray(json);\r\n};\r\nvar typeString = function (json) {\r\n    switch (typeof json) {\r\n        case 'string':\r\n            return 'a string';\r\n        case 'number':\r\n            return 'a number';\r\n        case 'boolean':\r\n            return 'a boolean';\r\n        case 'undefined':\r\n            return 'undefined';\r\n        case 'object':\r\n            if (json instanceof Array) {\r\n                return 'an array';\r\n            }\r\n            else if (json === null) {\r\n                return 'null';\r\n            }\r\n            else {\r\n                return 'an object';\r\n            }\r\n        default:\r\n            return JSON.stringify(json);\r\n    }\r\n};\r\nvar expectedGot = function (expected, got) {\r\n    return \"expected \" + expected + \", got \" + typeString(got);\r\n};\r\nvar printPath = function (paths) {\r\n    return paths.map(function (path) { return (typeof path === 'string' ? \".\" + path : \"[\" + path + \"]\"); }).join('');\r\n};\r\nvar prependAt = function (newAt, _a) {\r\n    var at = _a.at, rest = __rest(_a, [\"at\"]);\r\n    return (__assign({ at: newAt + (at || '') }, rest));\r\n};\r\n/**\r\n * Decoders transform json objects with unknown structure into known and\r\n * verified forms. You can create objects of type `Decoder<A>` with either the\r\n * primitive decoder functions, such as `boolean()` and `string()`, or by\r\n * applying higher-order decoders to the primitives, such as `array(boolean())`\r\n * or `dict(string())`.\r\n *\r\n * Each of the decoder functions are available both as a static method on\r\n * `Decoder` and as a function alias -- for example the string decoder is\r\n * defined at `Decoder.string()`, but is also aliased to `string()`. Using the\r\n * function aliases exported with the library is recommended.\r\n *\r\n * `Decoder` exposes a number of 'run' methods, which all decode json in the\r\n * same way, but communicate success and failure in different ways. The `map`\r\n * and `andThen` methods modify decoders without having to call a 'run' method.\r\n *\r\n * Alternatively, the main decoder `run()` method returns an object of type\r\n * `Result<A, DecoderError>`. This library provides a number of helper\r\n * functions for dealing with the `Result` type, so you can do all the same\r\n * things with a `Result` as with the decoder methods.\r\n */\r\nvar Decoder = /** @class */ (function () {\r\n    /**\r\n     * The Decoder class constructor is kept private to separate the internal\r\n     * `decode` function from the external `run` function. The distinction\r\n     * between the two functions is that `decode` returns a\r\n     * `Partial<DecoderError>` on failure, which contains an unfinished error\r\n     * report. When `run` is called on a decoder, the relevant series of `decode`\r\n     * calls is made, and then on failure the resulting `Partial<DecoderError>`\r\n     * is turned into a `DecoderError` by filling in the missing information.\r\n     *\r\n     * While hiding the constructor may seem restrictive, leveraging the\r\n     * provided decoder combinators and helper functions such as\r\n     * `andThen` and `map` should be enough to build specialized decoders as\r\n     * needed.\r\n     */\r\n    function Decoder(decode) {\r\n        var _this = this;\r\n        this.decode = decode;\r\n        /**\r\n         * Run the decoder and return a `Result` with either the decoded value or a\r\n         * `DecoderError` containing the json input, the location of the error, and\r\n         * the error message.\r\n         *\r\n         * Examples:\r\n         * ```\r\n         * number().run(12)\r\n         * // => {ok: true, result: 12}\r\n         *\r\n         * string().run(9001)\r\n         * // =>\r\n         * // {\r\n         * //   ok: false,\r\n         * //   error: {\r\n         * //     kind: 'DecoderError',\r\n         * //     input: 9001,\r\n         * //     at: 'input',\r\n         * //     message: 'expected a string, got 9001'\r\n         * //   }\r\n         * // }\r\n         * ```\r\n         */\r\n        this.run = function (json) {\r\n            return mapError(function (error) { return ({\r\n                kind: 'DecoderError',\r\n                input: json,\r\n                at: 'input' + (error.at || ''),\r\n                message: error.message || ''\r\n            }); }, _this.decode(json));\r\n        };\r\n        /**\r\n         * Run the decoder as a `Promise`.\r\n         */\r\n        this.runPromise = function (json) { return asPromise(_this.run(json)); };\r\n        /**\r\n         * Run the decoder and return the value on success, or throw an exception\r\n         * with a formatted error string.\r\n         */\r\n        this.runWithException = function (json) { return withException(_this.run(json)); };\r\n        /**\r\n         * Construct a new decoder that applies a transformation to the decoded\r\n         * result. If the decoder succeeds then `f` will be applied to the value. If\r\n         * it fails the error will propagated through.\r\n         *\r\n         * Example:\r\n         * ```\r\n         * number().map(x => x * 5).run(10)\r\n         * // => {ok: true, result: 50}\r\n         * ```\r\n         */\r\n        this.map = function (f) {\r\n            return new Decoder(function (json) { return map(f, _this.decode(json)); });\r\n        };\r\n        /**\r\n         * Chain together a sequence of decoders. The first decoder will run, and\r\n         * then the function will determine what decoder to run second. If the result\r\n         * of the first decoder succeeds then `f` will be applied to the decoded\r\n         * value. If it fails the error will propagate through.\r\n         *\r\n         * This is a very powerful method -- it can act as both the `map` and `where`\r\n         * methods, can improve error messages for edge cases, and can be used to\r\n         * make a decoder for custom types.\r\n         *\r\n         * Example of adding an error message:\r\n         * ```\r\n         * const versionDecoder = valueAt(['version'], number());\r\n         * const infoDecoder3 = object({a: boolean()});\r\n         *\r\n         * const decoder = versionDecoder.andThen(version => {\r\n         *   switch (version) {\r\n         *     case 3:\r\n         *       return infoDecoder3;\r\n         *     default:\r\n         *       return fail(`Unable to decode info, version ${version} is not supported.`);\r\n         *   }\r\n         * });\r\n         *\r\n         * decoder.run({version: 3, a: true})\r\n         * // => {ok: true, result: {a: true}}\r\n         *\r\n         * decoder.run({version: 5, x: 'abc'})\r\n         * // =>\r\n         * // {\r\n         * //   ok: false,\r\n         * //   error: {... message: 'Unable to decode info, version 5 is not supported.'}\r\n         * // }\r\n         * ```\r\n         *\r\n         * Example of decoding a custom type:\r\n         * ```\r\n         * // nominal type for arrays with a length of at least one\r\n         * type NonEmptyArray<T> = T[] & { __nonEmptyArrayBrand__: void };\r\n         *\r\n         * const nonEmptyArrayDecoder = <T>(values: Decoder<T>): Decoder<NonEmptyArray<T>> =>\r\n         *   array(values).andThen(arr =>\r\n         *     arr.length > 0\r\n         *       ? succeed(createNonEmptyArray(arr))\r\n         *       : fail(`expected a non-empty array, got an empty array`)\r\n         *   );\r\n         * ```\r\n         */\r\n        this.andThen = function (f) {\r\n            return new Decoder(function (json) {\r\n                return andThen(function (value) { return f(value).decode(json); }, _this.decode(json));\r\n            });\r\n        };\r\n        /**\r\n         * Add constraints to a decoder _without_ changing the resulting type. The\r\n         * `test` argument is a predicate function which returns true for valid\r\n         * inputs. When `test` fails on an input, the decoder fails with the given\r\n         * `errorMessage`.\r\n         *\r\n         * ```\r\n         * const chars = (length: number): Decoder<string> =>\r\n         *   string().where(\r\n         *     (s: string) => s.length === length,\r\n         *     `expected a string of length ${length}`\r\n         *   );\r\n         *\r\n         * chars(5).run('12345')\r\n         * // => {ok: true, result: '12345'}\r\n         *\r\n         * chars(2).run('HELLO')\r\n         * // => {ok: false, error: {... message: 'expected a string of length 2'}}\r\n         *\r\n         * chars(12).run(true)\r\n         * // => {ok: false, error: {... message: 'expected a string, got a boolean'}}\r\n         * ```\r\n         */\r\n        this.where = function (test, errorMessage) {\r\n            return _this.andThen(function (value) { return (test(value) ? Decoder.succeed(value) : Decoder.fail(errorMessage)); });\r\n        };\r\n    }\r\n    /**\r\n     * Decoder primitive that validates strings, and fails on all other input.\r\n     */\r\n    Decoder.string = function () {\r\n        return new Decoder(function (json) {\r\n            return typeof json === 'string'\r\n                ? ok(json)\r\n                : err({ message: expectedGot('a string', json) });\r\n        });\r\n    };\r\n    /**\r\n     * Decoder primitive that validates numbers, and fails on all other input.\r\n     */\r\n    Decoder.number = function () {\r\n        return new Decoder(function (json) {\r\n            return typeof json === 'number'\r\n                ? ok(json)\r\n                : err({ message: expectedGot('a number', json) });\r\n        });\r\n    };\r\n    /**\r\n     * Decoder primitive that validates booleans, and fails on all other input.\r\n     */\r\n    Decoder.boolean = function () {\r\n        return new Decoder(function (json) {\r\n            return typeof json === 'boolean'\r\n                ? ok(json)\r\n                : err({ message: expectedGot('a boolean', json) });\r\n        });\r\n    };\r\n    Decoder.constant = function (value) {\r\n        return new Decoder(function (json) {\r\n            return isEqual(json, value)\r\n                ? ok(value)\r\n                : err({ message: \"expected \" + JSON.stringify(value) + \", got \" + JSON.stringify(json) });\r\n        });\r\n    };\r\n    Decoder.object = function (decoders) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonObject(json) && decoders) {\r\n                var obj = {};\r\n                for (var key in decoders) {\r\n                    if (decoders.hasOwnProperty(key)) {\r\n                        var r = decoders[key].decode(json[key]);\r\n                        if (r.ok === true) {\r\n                            // tslint:disable-next-line:strict-type-predicates\r\n                            if (r.result !== undefined) {\r\n                                obj[key] = r.result;\r\n                            }\r\n                        }\r\n                        else if (json[key] === undefined) {\r\n                            return err({ message: \"the key '\" + key + \"' is required but was not present\" });\r\n                        }\r\n                        else {\r\n                            return err(prependAt(\".\" + key, r.error));\r\n                        }\r\n                    }\r\n                }\r\n                return ok(obj);\r\n            }\r\n            else if (isJsonObject(json)) {\r\n                return ok(json);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot('an object', json) });\r\n            }\r\n        });\r\n    };\r\n    Decoder.array = function (decoder) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonArray(json) && decoder) {\r\n                var decodeValue_1 = function (v, i) {\r\n                    return mapError(function (err$$1) { return prependAt(\"[\" + i + \"]\", err$$1); }, decoder.decode(v));\r\n                };\r\n                return json.reduce(function (acc, v, i) {\r\n                    return map2(function (arr, result) { return arr.concat([result]); }, acc, decodeValue_1(v, i));\r\n                }, ok([]));\r\n            }\r\n            else if (isJsonArray(json)) {\r\n                return ok(json);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot('an array', json) });\r\n            }\r\n        });\r\n    };\r\n    Decoder.tuple = function (decoders) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonArray(json)) {\r\n                if (json.length !== decoders.length) {\r\n                    return err({\r\n                        message: \"expected a tuple of length \" + decoders.length + \", got one of length \" + json.length\r\n                    });\r\n                }\r\n                var result = [];\r\n                for (var i = 0; i < decoders.length; i++) {\r\n                    var nth = decoders[i].decode(json[i]);\r\n                    if (nth.ok) {\r\n                        result[i] = nth.result;\r\n                    }\r\n                    else {\r\n                        return err(prependAt(\"[\" + i + \"]\", nth.error));\r\n                    }\r\n                }\r\n                return ok(result);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot(\"a tuple of length \" + decoders.length, json) });\r\n            }\r\n        });\r\n    };\r\n    Decoder.union = function (ad, bd) {\r\n        var decoders = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            decoders[_i - 2] = arguments[_i];\r\n        }\r\n        return Decoder.oneOf.apply(Decoder, [ad, bd].concat(decoders));\r\n    };\r\n    Decoder.intersection = function (ad, bd) {\r\n        var ds = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            ds[_i - 2] = arguments[_i];\r\n        }\r\n        return new Decoder(function (json) {\r\n            return [ad, bd].concat(ds).reduce(function (acc, decoder) { return map2(Object.assign, acc, decoder.decode(json)); }, ok({}));\r\n        });\r\n    };\r\n    /**\r\n     * Escape hatch to bypass validation. Always succeeds and types the result as\r\n     * `any`. Useful for defining decoders incrementally, particularly for\r\n     * complex objects.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * interface User {\r\n     *   name: string;\r\n     *   complexUserData: ComplexType;\r\n     * }\r\n     *\r\n     * const userDecoder: Decoder<User> = object({\r\n     *   name: string(),\r\n     *   complexUserData: anyJson()\r\n     * });\r\n     * ```\r\n     */\r\n    Decoder.anyJson = function () { return new Decoder(function (json) { return ok(json); }); };\r\n    /**\r\n     * Decoder identity function which always succeeds and types the result as\r\n     * `unknown`.\r\n     */\r\n    Decoder.unknownJson = function () {\r\n        return new Decoder(function (json) { return ok(json); });\r\n    };\r\n    /**\r\n     * Decoder for json objects where the keys are unknown strings, but the values\r\n     * should all be of the same type.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * dict(number()).run({chocolate: 12, vanilla: 10, mint: 37});\r\n     * // => {ok: true, result: {chocolate: 12, vanilla: 10, mint: 37}}\r\n     * ```\r\n     */\r\n    Decoder.dict = function (decoder) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonObject(json)) {\r\n                var obj = {};\r\n                for (var key in json) {\r\n                    if (json.hasOwnProperty(key)) {\r\n                        var r = decoder.decode(json[key]);\r\n                        if (r.ok === true) {\r\n                            obj[key] = r.result;\r\n                        }\r\n                        else {\r\n                            return err(prependAt(\".\" + key, r.error));\r\n                        }\r\n                    }\r\n                }\r\n                return ok(obj);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot('an object', json) });\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Decoder for values that may be `undefined`. This is primarily helpful for\r\n     * decoding interfaces with optional fields.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * interface User {\r\n     *   id: number;\r\n     *   isOwner?: boolean;\r\n     * }\r\n     *\r\n     * const decoder: Decoder<User> = object({\r\n     *   id: number(),\r\n     *   isOwner: optional(boolean())\r\n     * });\r\n     * ```\r\n     */\r\n    Decoder.optional = function (decoder) {\r\n        return new Decoder(function (json) { return (json === undefined || json === null ? ok(undefined) : decoder.decode(json)); });\r\n    };\r\n    /**\r\n     * Decoder that attempts to run each decoder in `decoders` and either succeeds\r\n     * with the first successful decoder, or fails after all decoders have failed.\r\n     *\r\n     * Note that `oneOf` expects the decoders to all have the same return type,\r\n     * while `union` creates a decoder for the union type of all the input\r\n     * decoders.\r\n     *\r\n     * Examples:\r\n     * ```\r\n     * oneOf(string(), number().map(String))\r\n     * oneOf(constant('start'), constant('stop'), succeed('unknown'))\r\n     * ```\r\n     */\r\n    Decoder.oneOf = function () {\r\n        var decoders = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            decoders[_i] = arguments[_i];\r\n        }\r\n        return new Decoder(function (json) {\r\n            var errors = [];\r\n            for (var i = 0; i < decoders.length; i++) {\r\n                var r = decoders[i].decode(json);\r\n                if (r.ok === true) {\r\n                    return r;\r\n                }\r\n                else {\r\n                    errors[i] = r.error;\r\n                }\r\n            }\r\n            var errorsList = errors\r\n                .map(function (error) { return \"at error\" + (error.at || '') + \": \" + error.message; })\r\n                .join('\", \"');\r\n            return err({\r\n                message: \"expected a value matching one of the decoders, got the errors [\\\"\" + errorsList + \"\\\"]\"\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Decoder that always succeeds with either the decoded value, or a fallback\r\n     * default value.\r\n     */\r\n    Decoder.withDefault = function (defaultValue, decoder) {\r\n        return new Decoder(function (json) {\r\n            return ok(withDefault(defaultValue, decoder.decode(json)));\r\n        });\r\n    };\r\n    /**\r\n     * Decoder that pulls a specific field out of a json structure, instead of\r\n     * decoding and returning the full structure. The `paths` array describes the\r\n     * object keys and array indices to traverse, so that values can be pulled out\r\n     * of a nested structure.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * const decoder = valueAt(['a', 'b', 0], string());\r\n     *\r\n     * decoder.run({a: {b: ['surprise!']}})\r\n     * // => {ok: true, result: 'surprise!'}\r\n     *\r\n     * decoder.run({a: {x: 'cats'}})\r\n     * // => {ok: false, error: {... at: 'input.a.b[0]' message: 'path does not exist'}}\r\n     * ```\r\n     *\r\n     * Note that the `decoder` is ran on the value found at the last key in the\r\n     * path, even if the last key is not found. This allows the `optional`\r\n     * decoder to succeed when appropriate.\r\n     * ```\r\n     * const optionalDecoder = valueAt(['a', 'b', 'c'], optional(string()));\r\n     *\r\n     * optionalDecoder.run({a: {b: {c: 'surprise!'}}})\r\n     * // => {ok: true, result: 'surprise!'}\r\n     *\r\n     * optionalDecoder.run({a: {b: 'cats'}})\r\n     * // => {ok: false, error: {... at: 'input.a.b.c' message: 'expected an object, got \"cats\"'}\r\n     *\r\n     * optionalDecoder.run({a: {b: {z: 1}}})\r\n     * // => {ok: true, result: undefined}\r\n     * ```\r\n     */\r\n    Decoder.valueAt = function (paths, decoder) {\r\n        return new Decoder(function (json) {\r\n            var jsonAtPath = json;\r\n            for (var i = 0; i < paths.length; i++) {\r\n                if (jsonAtPath === undefined) {\r\n                    return err({\r\n                        at: printPath(paths.slice(0, i + 1)),\r\n                        message: 'path does not exist'\r\n                    });\r\n                }\r\n                else if (typeof paths[i] === 'string' && !isJsonObject(jsonAtPath)) {\r\n                    return err({\r\n                        at: printPath(paths.slice(0, i + 1)),\r\n                        message: expectedGot('an object', jsonAtPath)\r\n                    });\r\n                }\r\n                else if (typeof paths[i] === 'number' && !isJsonArray(jsonAtPath)) {\r\n                    return err({\r\n                        at: printPath(paths.slice(0, i + 1)),\r\n                        message: expectedGot('an array', jsonAtPath)\r\n                    });\r\n                }\r\n                else {\r\n                    jsonAtPath = jsonAtPath[paths[i]];\r\n                }\r\n            }\r\n            return mapError(function (error) {\r\n                return jsonAtPath === undefined\r\n                    ? { at: printPath(paths), message: 'path does not exist' }\r\n                    : prependAt(printPath(paths), error);\r\n            }, decoder.decode(jsonAtPath));\r\n        });\r\n    };\r\n    /**\r\n     * Decoder that ignores the input json and always succeeds with `fixedValue`.\r\n     */\r\n    Decoder.succeed = function (fixedValue) {\r\n        return new Decoder(function (json) { return ok(fixedValue); });\r\n    };\r\n    /**\r\n     * Decoder that ignores the input json and always fails with `errorMessage`.\r\n     */\r\n    Decoder.fail = function (errorMessage) {\r\n        return new Decoder(function (json) { return err({ message: errorMessage }); });\r\n    };\r\n    /**\r\n     * Decoder that allows for validating recursive data structures. Unlike with\r\n     * functions, decoders assigned to variables can't reference themselves\r\n     * before they are fully defined. We can avoid prematurely referencing the\r\n     * decoder by wrapping it in a function that won't be called until use, at\r\n     * which point the decoder has been defined.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * interface Comment {\r\n     *   msg: string;\r\n     *   replies: Comment[];\r\n     * }\r\n     *\r\n     * const decoder: Decoder<Comment> = object({\r\n     *   msg: string(),\r\n     *   replies: lazy(() => array(decoder))\r\n     * });\r\n     * ```\r\n     */\r\n    Decoder.lazy = function (mkDecoder) {\r\n        return new Decoder(function (json) { return mkDecoder().decode(json); });\r\n    };\r\n    return Decoder;\r\n}());\r\n\r\n/* tslint:disable:variable-name */\r\n/** See `Decoder.string` */\r\nvar string = Decoder.string;\r\n/** See `Decoder.number` */\r\nvar number = Decoder.number;\r\n/** See `Decoder.boolean` */\r\nvar boolean = Decoder.boolean;\r\n/** See `Decoder.anyJson` */\r\nvar anyJson = Decoder.anyJson;\r\n/** See `Decoder.unknownJson` */\r\nvar unknownJson = Decoder.unknownJson;\r\n/** See `Decoder.constant` */\r\nvar constant = Decoder.constant;\r\n/** See `Decoder.object` */\r\nvar object = Decoder.object;\r\n/** See `Decoder.array` */\r\nvar array = Decoder.array;\r\n/** See `Decoder.tuple` */\r\nvar tuple = Decoder.tuple;\r\n/** See `Decoder.dict` */\r\nvar dict = Decoder.dict;\r\n/** See `Decoder.optional` */\r\nvar optional = Decoder.optional;\r\n/** See `Decoder.oneOf` */\r\nvar oneOf = Decoder.oneOf;\r\n/** See `Decoder.union` */\r\nvar union = Decoder.union;\r\n/** See `Decoder.intersection` */\r\nvar intersection = Decoder.intersection;\r\n/** See `Decoder.withDefault` */\r\nvar withDefault$1 = Decoder.withDefault;\r\n/** See `Decoder.valueAt` */\r\nvar valueAt = Decoder.valueAt;\r\n/** See `Decoder.succeed` */\r\nvar succeed = Decoder.succeed;\r\n/** See `Decoder.fail` */\r\nvar fail = Decoder.fail;\r\n/** See `Decoder.lazy` */\r\nvar lazy = Decoder.lazy;\r\n\r\nexport { result as Result, Decoder, isDecoderError, string, number, boolean, anyJson, unknownJson, constant, object, array, tuple, dict, optional, oneOf, union, intersection, withDefault$1 as withDefault, valueAt, succeed, fail, lazy };\r\n//# sourceMappingURL=index.es5.js.map\r\n","import { Glue42Workspaces } from \"@glue42/workspaces-api\";\r\nimport { Decoder, string, number, object, constant, oneOf, optional, array, boolean, anyJson, lazy } from \"decoder-validate\";\r\nimport { Glue42Web } from \"../../web\";\r\nimport { AppHelloSuccess, ApplicationData, ApplicationStartConfig, AppManagerOperationTypes, BaseApplicationData, BasicInstanceData, InstanceData } from \"../appManager/protocol\";\r\nimport { AllLayoutsFullConfig, AllLayoutsSummariesResult, GetAllLayoutsConfig, LayoutsOperationTypes, OptionalSimpleLayoutResult, SimpleLayoutConfig, SimpleLayoutResult } from \"../layouts/protocol\";\r\nimport { HelloSuccess, OpenWindowConfig, CoreWindowData, WindowHello, WindowOperationTypes, SimpleWindowCommand, WindowTitleConfig, WindowBoundsResult, WindowMoveResizeConfig, WindowUrlResult } from \"../windows/protocol\";\r\nimport { LibDomains } from \"./types\";\r\n\r\nexport const nonEmptyStringDecoder: Decoder<string> = string().where((s) => s.length > 0, \"Expected a non-empty string\");\r\nexport const nonNegativeNumberDecoder: Decoder<number> = number().where((num) => num >= 0, \"Expected a non-negative number\");\r\n\r\nexport const libDomainDecoder: Decoder<LibDomains> = oneOf<\"windows\" | \"appManager\" | \"layouts\">(\r\n    constant(\"windows\"),\r\n    constant(\"appManager\"),\r\n    constant(\"layouts\")\r\n);\r\n\r\nexport const windowOperationTypesDecoder: Decoder<WindowOperationTypes> = oneOf<\"openWindow\" | \"getBounds\" | \"windowHello\" | \"windowAdded\" | \"windowRemoved\" | \"getUrl\" | \"moveResize\" | \"focus\" | \"close\" | \"getTitle\" | \"setTitle\">(\r\n    constant(\"openWindow\"),\r\n    constant(\"windowHello\"),\r\n    constant(\"windowAdded\"),\r\n    constant(\"windowRemoved\"),\r\n    constant(\"getBounds\"),\r\n    constant(\"getUrl\"),\r\n    constant(\"moveResize\"),\r\n    constant(\"focus\"),\r\n    constant(\"close\"),\r\n    constant(\"getTitle\"),\r\n    constant(\"setTitle\")\r\n);\r\n\r\nexport const appManagerOperationTypesDecoder: Decoder<AppManagerOperationTypes> = oneOf<\"appHello\" | \"applicationAdded\" |\"applicationRemoved\" | \"applicationChanged\" | \"instanceStarted\" | \"instanceStopped\" | \"applicationStart\" | \"instanceStop\">(\r\n    constant(\"appHello\"),\r\n    constant(\"applicationAdded\"),\r\n    constant(\"applicationRemoved\"),\r\n    constant(\"applicationChanged\"),\r\n    constant(\"instanceStarted\"),\r\n    constant(\"instanceStopped\"), \r\n    constant(\"applicationStart\"),\r\n    constant(\"instanceStop\")\r\n);\r\n\r\nexport const layoutsOperationTypesDecoder: Decoder<LayoutsOperationTypes> = oneOf<\"layoutAdded\" | \"layoutChanged\" | \"layoutRemoved\" | \"get\" | \"getAll\" | \"export\" | \"import\" | \"remove\">(\r\n    constant(\"layoutAdded\"),\r\n    constant(\"layoutChanged\"),\r\n    constant(\"layoutRemoved\"),\r\n    constant(\"get\"),\r\n    constant(\"getAll\"),\r\n    constant(\"export\"),\r\n    constant(\"import\"),\r\n    constant(\"remove\")\r\n);\r\n\r\nexport const windowRelativeDirectionDecoder: Decoder<Glue42Web.Windows.RelativeDirection> = oneOf<\"top\" | \"left\" | \"right\" | \"bottom\">(\r\n    constant(\"top\"),\r\n    constant(\"left\"),\r\n    constant(\"right\"),\r\n    constant(\"bottom\")\r\n);\r\n\r\nexport const windowOpenSettingsDecoder: Decoder<Glue42Web.Windows.Settings | undefined> = optional(object({\r\n    top: optional(number()),\r\n    left: optional(number()),\r\n    width: optional(nonNegativeNumberDecoder),\r\n    height: optional(nonNegativeNumberDecoder),\r\n    context: optional(anyJson()),\r\n    relativeTo: optional(nonEmptyStringDecoder),\r\n    relativeDirection: optional(windowRelativeDirectionDecoder)\r\n}));\r\n\r\n\r\nexport const openWindowConfigDecoder: Decoder<OpenWindowConfig> = object({\r\n    name: nonEmptyStringDecoder,\r\n    url: nonEmptyStringDecoder,\r\n    options: windowOpenSettingsDecoder\r\n});\r\n\r\nexport const windowHelloDecoder: Decoder<WindowHello> = object({\r\n    windowId: optional(nonEmptyStringDecoder)\r\n});\r\n\r\nexport const coreWindowDataDecoder: Decoder<CoreWindowData> = object({\r\n    windowId: nonEmptyStringDecoder,\r\n    name: nonEmptyStringDecoder\r\n});\r\n\r\nexport const simpleWindowDecoder: Decoder<SimpleWindowCommand> = object({\r\n    windowId: nonEmptyStringDecoder\r\n});\r\n\r\nexport const helloSuccessDecoder: Decoder<HelloSuccess> = object({\r\n    windows: array(coreWindowDataDecoder),\r\n    isWorkspaceFrame: boolean()\r\n});\r\n\r\n\r\nexport const windowTitleConfigDecoder: Decoder<WindowTitleConfig> = object({\r\n    windowId: nonEmptyStringDecoder,\r\n    title: nonEmptyStringDecoder\r\n});\r\n\r\nexport const windowMoveResizeConfigDecoder: Decoder<WindowMoveResizeConfig> = object({\r\n    windowId: nonEmptyStringDecoder,\r\n    top: optional(number()),\r\n    left: optional(number()),\r\n    width: optional(nonNegativeNumberDecoder),\r\n    height: optional(nonNegativeNumberDecoder),\r\n    relative: optional(boolean())\r\n});\r\n\r\nexport const windowBoundsResultDecoder: Decoder<WindowBoundsResult> = object({\r\n    windowId: nonEmptyStringDecoder,\r\n    bounds: object({\r\n        top: number(),\r\n        left: number(),\r\n        width: nonNegativeNumberDecoder,\r\n        height: nonNegativeNumberDecoder\r\n    })\r\n});\r\n\r\nexport const windowUrlResultDecoder: Decoder<WindowUrlResult> = object({\r\n    windowId: nonEmptyStringDecoder,\r\n    url: nonEmptyStringDecoder\r\n});\r\n\r\nexport const anyDecoder: Decoder<unknown> = anyJson();\r\n\r\nexport const boundsDecoder: Decoder<Partial<Glue42Web.Windows.Bounds>> = object({\r\n    top: optional(number()),\r\n    left: optional(number()),\r\n    width: optional(nonNegativeNumberDecoder),\r\n    height: optional(nonNegativeNumberDecoder)\r\n});\r\n\r\nexport const instanceDataDecoder: Decoder<InstanceData> = object({\r\n    id: nonEmptyStringDecoder,\r\n    applicationName: nonEmptyStringDecoder\r\n});\r\n\r\nexport const applicationDataDecoder: Decoder<ApplicationData> = object({\r\n    name: nonEmptyStringDecoder,\r\n    instances: array(instanceDataDecoder),\r\n    userProperties: optional(anyJson()),\r\n    title: optional(nonEmptyStringDecoder),\r\n    version: optional(nonEmptyStringDecoder),\r\n    icon: optional(nonEmptyStringDecoder),\r\n    caption: optional(nonEmptyStringDecoder)\r\n});\r\n\r\nexport const baseApplicationDataDecoder: Decoder<BaseApplicationData> = object({\r\n    name: nonEmptyStringDecoder,\r\n    userProperties: anyJson(),\r\n    title: optional(nonEmptyStringDecoder),\r\n    version: optional(nonEmptyStringDecoder),\r\n    icon: optional(nonEmptyStringDecoder),\r\n    caption: optional(nonEmptyStringDecoder)\r\n});\r\n\r\nexport const appHelloSuccessDecoder: Decoder<AppHelloSuccess> = object({\r\n    apps: array(applicationDataDecoder)\r\n});\r\n\r\nexport const basicInstanceDataDecoder: Decoder<BasicInstanceData> = object({\r\n    id: nonEmptyStringDecoder\r\n});\r\n\r\nexport const applicationStartConfigDecoder: Decoder<ApplicationStartConfig> = object({\r\n    name: nonEmptyStringDecoder,\r\n    waitForAGMReady: boolean(),\r\n    context: optional(anyJson()),\r\n    top: optional(number()),\r\n    left: optional(number()),\r\n    width: optional(nonNegativeNumberDecoder),\r\n    height: optional(nonNegativeNumberDecoder),\r\n    relativeTo: optional(nonEmptyStringDecoder),\r\n    relativeDirection: optional(oneOf<\"top\" | \"left\" | \"right\" | \"bottom\">(\r\n        constant(\"top\"),\r\n        constant(\"left\"),\r\n        constant(\"right\"),\r\n        constant(\"bottom\")\r\n    ))\r\n});\r\n\r\nexport const layoutTypeDecoder: Decoder<Glue42Web.Layouts.LayoutType> = oneOf<\"Global\" | \"Activity\" | \"ApplicationDefault\" | \"Swimlane\" | \"Workspace\">(\r\n    constant(\"Global\"),\r\n    constant(\"Activity\"),\r\n    constant(\"ApplicationDefault\"),\r\n    constant(\"Swimlane\"),\r\n    constant(\"Workspace\")\r\n);\r\n\r\nexport const componentTypeDecoder: Decoder<Glue42Web.Layouts.ComponentType> = oneOf<\"application\" | \"activity\">(\r\n    constant(\"application\"),\r\n    constant(\"activity\")\r\n);\r\n\r\nexport const windowLayoutComponentDecoder: Decoder<Glue42Web.Layouts.WindowComponent> = object({\r\n    type: constant(\"window\"),\r\n    componentType: componentTypeDecoder,\r\n    state: object({\r\n        name: anyJson(),\r\n        context: anyJson(),\r\n        url: nonEmptyStringDecoder,\r\n        bounds: anyJson(),\r\n        id: nonEmptyStringDecoder,\r\n        parentId: optional(nonEmptyStringDecoder),\r\n        main: boolean()\r\n    })\r\n});\r\n\r\nexport const windowLayoutItemDecoder: Decoder<Glue42Workspaces.WindowLayoutItem> = object({\r\n    type: constant(\"window\"),\r\n    config: object({\r\n        appName: nonEmptyStringDecoder,\r\n        url: optional(nonEmptyStringDecoder)\r\n    })\r\n});\r\n\r\nexport const groupLayoutItemDecoder: Decoder<Glue42Workspaces.GroupLayoutItem> = object({\r\n    type: constant(\"group\"),\r\n    config: anyJson(),\r\n    children: array(oneOf<Glue42Workspaces.WindowLayoutItem>(\r\n        windowLayoutItemDecoder\r\n    ))\r\n});\r\n\r\nexport const columnLayoutItemDecoder: Decoder<Glue42Workspaces.ColumnLayoutItem> = object({\r\n    type: constant(\"column\"),\r\n    config: anyJson(),\r\n    children: array(oneOf<Glue42Workspaces.RowLayoutItem | Glue42Workspaces.ColumnLayoutItem | Glue42Workspaces.GroupLayoutItem | Glue42Workspaces.WindowLayoutItem>(\r\n        groupLayoutItemDecoder,\r\n        windowLayoutItemDecoder,\r\n        lazy(() => columnLayoutItemDecoder),\r\n        // eslint-disable-next-line @typescript-eslint/no-use-before-define\r\n        lazy(() => rowLayoutItemDecoder)\r\n    ))\r\n});\r\n\r\nexport const rowLayoutItemDecoder: Decoder<Glue42Workspaces.RowLayoutItem> = object({\r\n    type: constant(\"row\"),\r\n    config: anyJson(),\r\n    children: array(oneOf<Glue42Workspaces.RowLayoutItem | Glue42Workspaces.ColumnLayoutItem | Glue42Workspaces.GroupLayoutItem | Glue42Workspaces.WindowLayoutItem>(\r\n        columnLayoutItemDecoder,\r\n        groupLayoutItemDecoder,\r\n        windowLayoutItemDecoder,\r\n        lazy(() => rowLayoutItemDecoder)\r\n    ))\r\n});\r\n\r\nexport const workspaceLayoutComponentDecoder: Decoder<Glue42Workspaces.WorkspaceComponent> = object({\r\n    type: constant(\"Workspace\"),\r\n    state: object({\r\n        config: anyJson(),\r\n        context: anyJson(),\r\n        children: array(oneOf<Glue42Workspaces.RowLayoutItem | Glue42Workspaces.ColumnLayoutItem | Glue42Workspaces.GroupLayoutItem | Glue42Workspaces.WindowLayoutItem>(\r\n            rowLayoutItemDecoder,\r\n            columnLayoutItemDecoder,\r\n            groupLayoutItemDecoder,\r\n            windowLayoutItemDecoder\r\n        ))\r\n    })\r\n});\r\n\r\nexport const glueLayoutDecoder: Decoder<Glue42Web.Layouts.Layout> = object({\r\n    name: nonEmptyStringDecoder,\r\n    type: layoutTypeDecoder,\r\n    components: array(oneOf<Glue42Web.Layouts.WindowComponent | Glue42Workspaces.WorkspaceComponent>(\r\n        windowLayoutComponentDecoder,\r\n        workspaceLayoutComponentDecoder\r\n    )),\r\n    context: optional(anyJson()),\r\n    metadata: optional(anyJson())\r\n});\r\n\r\nexport const newLayoutOptionsDecoder: Decoder<Glue42Web.Layouts.NewLayoutOptions> = object({\r\n    name: nonEmptyStringDecoder,\r\n    context: optional(anyJson()),\r\n    metadata: optional(anyJson())\r\n});\r\n\r\nexport const restoreOptionsDecoder: Decoder<Glue42Web.Layouts.RestoreOptions> = object({\r\n    name: nonEmptyStringDecoder,\r\n    context: optional(anyJson()),\r\n    closeRunningInstance: optional(boolean())\r\n});\r\n\r\nexport const layoutSummaryDecoder: Decoder<Glue42Web.Layouts.LayoutSummary> = object({\r\n    name: nonEmptyStringDecoder,\r\n    type: layoutTypeDecoder,\r\n    context: optional(anyJson()),\r\n    metadata: optional(anyJson())\r\n});\r\n\r\nexport const simpleLayoutConfigDecoder: Decoder<SimpleLayoutConfig> = object({\r\n    name: nonEmptyStringDecoder,\r\n    type: layoutTypeDecoder\r\n});\r\n\r\nexport const getAllLayoutsConfigDecoder: Decoder<GetAllLayoutsConfig> = object({\r\n    type: layoutTypeDecoder\r\n});\r\n\r\nexport const allLayoutsFullConfigDecoder: Decoder<AllLayoutsFullConfig> = object({\r\n    layouts: array(glueLayoutDecoder)\r\n});\r\n\r\nexport const allLayoutsSummariesResultDecoder: Decoder<AllLayoutsSummariesResult> = object({\r\n    summaries: array(layoutSummaryDecoder)\r\n});\r\n\r\nexport const simpleLayoutResult: Decoder<SimpleLayoutResult> = object({\r\n    layout: glueLayoutDecoder\r\n});\r\n\r\nexport const optionalSimpleLayoutResult: Decoder<OptionalSimpleLayoutResult> = object({\r\n    layout: optional(glueLayoutDecoder)\r\n});\r\n","export const GlueWebPlatformControlName = \"T42.Web.Platform.Control\";\r\n\r\nexport const GlueWebPlatformStreamName = \"T42.Web.Platform.Stream\";\r\n\r\nexport const GlueClientControlName = \"T42.Web.Client.Control\"; ","import { Glue42Core } from \"@glue42/core\";\r\nimport { libDomainDecoder } from \"../shared/decoders\";\r\nimport { PromisePlus } from \"../shared/promise-plus\";\r\nimport { BridgeOperation, LibController, LibDomains } from \"../shared/types\";\r\nimport { GlueClientControlName, GlueWebPlatformControlName, GlueWebPlatformStreamName } from \"./constants\";\r\n// todo - subscribe for connection state?\r\nexport class GlueBridge {\r\n    private readonly platformMethodTimeoutMs = 10000;\r\n    private controllers!: { [key in LibDomains]: LibController };\r\n    private sub!: Glue42Core.AGM.Subscription;\r\n\r\n    constructor(private readonly coreGlue: Glue42Core.GlueCore) { }\r\n\r\n    public get contextLib(): Glue42Core.Contexts.API {\r\n        return this.coreGlue.contexts;\r\n    }\r\n\r\n    public get interopInstance(): string | undefined {\r\n        return this.coreGlue.interop.instance.instance;\r\n    }\r\n\r\n    public async start(controllers: { [key in LibDomains]: LibController }): Promise<void> {\r\n        this.controllers = controllers;\r\n\r\n        await Promise.all([\r\n            this.checkWaitMethod(GlueWebPlatformControlName),\r\n            this.checkWaitMethod(GlueWebPlatformStreamName)\r\n        ]);\r\n\r\n        const [sub] = await Promise.all([\r\n            this.coreGlue.interop.subscribe(GlueWebPlatformStreamName),\r\n            this.coreGlue.interop.registerAsync(GlueClientControlName, (args, _, success, error) => this.passMessageController(args, success, error))\r\n        ]);\r\n\r\n        this.sub = sub;\r\n\r\n        this.sub.onData((pkg) => this.passMessageController(pkg.data));\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    public async send<OutBound, InBound>(domain: LibDomains, operation: BridgeOperation, operationData: OutBound): Promise<InBound> {\r\n\r\n        if (operation.dataDecoder) {\r\n            try {\r\n                operation.dataDecoder.runWithException(operationData);\r\n            } catch (error) {\r\n                throw new Error(`Unexpected internal outgoing validation error: ${error.message}, for operation: ${operation.name} and input: ${JSON.stringify(error.input)}`);\r\n            }\r\n        }\r\n\r\n        let operationResult;\r\n\r\n        try {\r\n            operationResult = await this.transmitMessage(domain, operation, operationData);\r\n\r\n            if (operation.resultDecoder) {\r\n                operationResult = operation.resultDecoder.runWithException(operationResult);\r\n            }\r\n\r\n        } catch (error) {\r\n            if (error.kind) {\r\n                throw new Error(`Unexpected internal incoming validation error: ${error.message}, for operation: ${operation.name} and input: ${JSON.stringify(error.input)}`);\r\n            }\r\n            throw new Error(error.message);\r\n        }\r\n\r\n        return operationResult;\r\n    }\r\n\r\n    private checkWaitMethod(name: string): Promise<void> {\r\n        return PromisePlus<void>((resolve) => {\r\n\r\n            const hasMethod = this.coreGlue.interop.methods().some((method) => method.name === name);\r\n\r\n            if (hasMethod) {\r\n                return resolve();\r\n            }\r\n\r\n            const unSub = this.coreGlue.interop.methodAdded((method) => {\r\n                if (method.name === name) {\r\n                    unSub();\r\n                    resolve();\r\n                }\r\n            });\r\n\r\n        }, this.platformMethodTimeoutMs, `Cannot initiate Glue Web, because a system method's discovery timed out: ${name}`);\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    private passMessageController(args: any, success?: (args?: any) => void, error?: (error?: string | object | undefined) => void): void {\r\n        const decodeResult = libDomainDecoder.run(args.domain);\r\n\r\n        if (!decodeResult.ok) {\r\n            if (error) {\r\n                error(`Cannot execute this client control, because of domain validation error: ${JSON.stringify(decodeResult.error)}`);\r\n            }\r\n            return;\r\n        }\r\n\r\n        const domain = decodeResult.result;\r\n\r\n        this.controllers[domain]\r\n            .handleBridgeMessage(args)\r\n            .then((resolutionData: unknown) => {\r\n                if (success) {\r\n                    success(resolutionData);\r\n                }\r\n            })\r\n            .catch((err: string | object | undefined) => {\r\n                if (error) {\r\n                    error(err);\r\n                }\r\n                console.warn(err);\r\n            });\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    private async transmitMessage(domain: string, operation: BridgeOperation, data: any): Promise<any> {\r\n\r\n        const messageData = { domain, data, operation: operation.name };\r\n\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        let invocationResult: Glue42Core.Interop.InvocationResult<any>;\r\n        const baseErrorMessage = `Internal Platform Communication Error. Attempted operation: ${JSON.stringify(operation.name)} with data: ${JSON.stringify(data)}. `;\r\n\r\n        try {\r\n            invocationResult = await this.coreGlue.interop.invoke(GlueWebPlatformControlName, messageData);\r\n\r\n            if (!invocationResult) {\r\n                throw new Error(\"Received unsupported result from the platform - empty result\");\r\n            }\r\n\r\n            if (!Array.isArray(invocationResult.all_return_values) || invocationResult.all_return_values.length === 0) {\r\n                throw new Error(\"Received unsupported result from the platform - empty values collection\");\r\n            }\r\n\r\n        } catch (error) {\r\n            if (error && error.all_errors && error.all_errors.length) {\r\n                // IMPORTANT: Do NOT change the `Inner message:` string, because it is used by other programs to extract the inner message of a communication error\r\n                const invocationErrorMessage = error.all_errors[0].message;\r\n                throw new Error(`${baseErrorMessage} -> Inner message: ${invocationErrorMessage}`);\r\n\r\n            }\r\n            // IMPORTANT: Do NOT change the `Inner message:` string, because it is used by other programs to extract the inner message of a communication error\r\n            throw new Error(`${baseErrorMessage} -> Inner message: ${error.message}`);\r\n        }\r\n\r\n        return invocationResult.all_return_values[0].returned;\r\n    }\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { METHODS, webPlatformMethodName, webPlatformWspStreamName } from \"./constants\";\r\nimport { promisePlus } from \"../shared/promisePlus\";\r\nimport { WorkspaceEventType } from \"../types/subscription\";\r\nimport { InteropAPI, Subscription, InvocationResult } from \"../types/glue\";\r\nimport { Glue42Core } from \"@glue42/core\";\r\n\r\nexport class InteropTransport {\r\n\r\n    private readonly defaultTransportTimeout: number = 30000;\r\n    private coreEventMethodInitiated = false;\r\n    private corePlatformSubPromise: Promise<Glue42Core.Interop.Subscription>;\r\n\r\n    constructor(private readonly agm: InteropAPI) { }\r\n\r\n    public async initiate(actualWindowId: string): Promise<void> {\r\n\r\n        if (window.glue42gd) {\r\n            await Promise.all(\r\n                Object.values(METHODS).map((method) => {\r\n\r\n                    return this.verifyMethodLive(method.name);\r\n                })\r\n            );\r\n\r\n            return;\r\n        }\r\n\r\n        await Promise.all([\r\n            this.verifyMethodLive(webPlatformMethodName),\r\n            this.verifyMethodLive(webPlatformWspStreamName)\r\n        ]);\r\n\r\n        await this.transmitControl(\"frameHello\", { windowId: actualWindowId });\r\n    }\r\n\r\n    public coreSubscriptionReady(eventCallback: (args?: any) => void): Promise<Glue42Core.Interop.Subscription> {\r\n        if (!this.coreEventMethodInitiated) {\r\n            this.subscribePlatform(eventCallback);\r\n        }\r\n        return this.corePlatformSubPromise;\r\n    }\r\n\r\n    public subscribePlatform(eventCallback: (args?: any) => void): void {\r\n        this.coreEventMethodInitiated = true;\r\n\r\n        this.corePlatformSubPromise = this.agm.subscribe(webPlatformWspStreamName);\r\n\r\n        this.corePlatformSubPromise\r\n            .then((sub) => {\r\n                sub.onData((data) => eventCallback(data.data));\r\n            });\r\n    }\r\n\r\n    public async subscribe(streamName: string, streamBranch: string, streamType: WorkspaceEventType): Promise<Subscription> {\r\n\r\n        const subscriptionArgs = {\r\n            branch: streamBranch,\r\n            type: streamType\r\n        };\r\n\r\n        let subscription: Subscription;\r\n\r\n        try {\r\n            subscription = await this.agm.subscribe(streamName, { arguments: subscriptionArgs });\r\n        } catch (error) {\r\n            const message = `Internal subscription error! Error details: stream - ${streamName}, branch: ${streamBranch}. Internal message: ${error.message}`;\r\n            throw new Error(message);\r\n        }\r\n\r\n        return subscription;\r\n    }\r\n\r\n    public async transmitControl(operation: string, operationArguments: any): Promise<any> {\r\n\r\n        const invocationArguments = window.glue42gd ? { operation, operationArguments } : { operation, domain: \"workspaces\", data: operationArguments };\r\n        const methodName = window.glue42gd ? METHODS.control.name : webPlatformMethodName;\r\n\r\n        let invocationResult: InvocationResult<any>;\r\n        const baseErrorMessage = `Internal Workspaces Communication Error. Attempted operation: ${JSON.stringify(invocationArguments)}. `;\r\n\r\n        // using the 0 index of the errors and values collections, because we expect only one server and\r\n        // this is to safeguard in case in future we decide to deprecate the default returned/message properties in favor of using only collections\r\n        try {\r\n            invocationResult = await this.agm.invoke(methodName, invocationArguments, \"best\", { methodResponseTimeoutMs: this.defaultTransportTimeout });\r\n\r\n            if (!invocationResult) {\r\n                throw new Error(\"Received unsupported result from GD - empty result\");\r\n            }\r\n\r\n            if (!Array.isArray(invocationResult.all_return_values) || invocationResult.all_return_values.length === 0) {\r\n                throw new Error(\"Received unsupported result from GD - empty values collection\");\r\n            }\r\n\r\n        } catch (error) {\r\n            if (error && error.all_errors && error.all_errors.length) {\r\n                // IMPORTANT: Do NOT change the `Inner message:` string, because it is used by other programs to extract the inner message of a communication error\r\n                const invocationErrorMessage = error.all_errors[0].message;\r\n                throw new Error(`${baseErrorMessage} -> Inner message: ${invocationErrorMessage}`);\r\n\r\n            }\r\n            // IMPORTANT: Do NOT change the `Inner message:` string, because it is used by other programs to extract the inner message of a communication error\r\n            throw new Error(`${baseErrorMessage} -> Inner message: ${error.message}`);\r\n        }\r\n\r\n        return invocationResult.all_return_values[0].returned;\r\n    }\r\n\r\n    private verifyMethodLive(name: string): Promise<void> {\r\n        return promisePlus(() => {\r\n            return new Promise((resolve) => {\r\n                const hasMethod = this.agm.methods().some((method) => method.name === name);\r\n\r\n                if (hasMethod) {\r\n                    resolve();\r\n                    return;\r\n                }\r\n\r\n                let unsubscribe = this.agm.methodAdded((method) => {\r\n                    if (method.name !== name) {\r\n                        return;\r\n                    }\r\n\r\n                    if (unsubscribe) {\r\n                        unsubscribe();\r\n                        unsubscribe = null;\r\n                    } else {\r\n                        setTimeout(() => {\r\n                            if (unsubscribe) {\r\n                                unsubscribe();\r\n                            }\r\n                        }, 0);\r\n                    }\r\n                    resolve();\r\n                });\r\n            });\r\n        }, 15000, \"Timeout waiting for the Workspaces communication channels\");\r\n    }\r\n}\r\n","export const promisePlus = <T>(promise: () => Promise<T>, timeoutMilliseconds: number, timeoutMessage?: string): Promise<T> => {\n    return new Promise<T>((resolve, reject) => {\n\n        let promiseActive = true;\n\n        const timeout = setTimeout(() => {\n            if (!promiseActive) {\n                return;\n            }\n            promiseActive = false;\n            const message = timeoutMessage || `Promise timeout hit: ${timeoutMilliseconds}`;\n\n            reject(message);\n        }, timeoutMilliseconds);\n\n        promise()\n            .then((result) => {\n                if (!promiseActive) {\n                    return;\n                }\n                promiseActive = false;\n                clearTimeout(timeout);\n                resolve(result);\n            })\n            .catch((error) => {\n                if (!promiseActive) {\n                    return;\n                }\n                promiseActive = false;\n                clearTimeout(timeout);\n                reject(error);\n            });\n    });\n};\n","import { BaseBuilder } from \"./baseBuilder\";\nimport { ChildBuilder } from \"../types/builders\";\nimport { Glue42Workspaces } from \"../../workspaces\";\n\ninterface PrivateData {\n    definition: Glue42Workspaces.BoxDefinition;\n    base: BaseBuilder;\n    children: ChildBuilder[];\n}\n\nconst privateData = new WeakMap<ParentBuilder, PrivateData>();\n\nexport class ParentBuilder implements ParentBuilder {\n\n    constructor(\n        definition: Glue42Workspaces.BoxDefinition,\n        base: BaseBuilder\n    ) {\n        const children = base.wrapChildren(definition.children);\n\n        delete definition.children;\n\n        privateData.set(this, { base, children, definition });\n    }\n\n    public get type(): \"column\" | \"row\" | \"group\" {\n        return privateData.get(this).definition.type;\n    }\n\n    public addColumn(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\n        const base = privateData.get(this).base;\n\n        return base.add(\"column\", privateData.get(this).children, definition);\n    }\n\n    public addRow(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\n        const base = privateData.get(this).base;\n\n        return base.add(\"row\", privateData.get(this).children, definition);\n    }\n\n    public addGroup(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\n        const base = privateData.get(this).base;\n\n        return base.add(\"group\", privateData.get(this).children, definition);\n    }\n\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): ParentBuilder {\n        const base = privateData.get(this).base;\n\n        base.addWindow(privateData.get(this).children, definition);\n\n        return this;\n    }\n\n    public serialize(): Glue42Workspaces.BoxDefinition {\n        const definition = privateData.get(this).definition;\n        definition.children = privateData.get(this).base.serializeChildren(privateData.get(this).children);\n        return definition;\n    }\n\n}\n","import { ParentBuilder } from \"./parentBuilder\";\nimport { ChildDefinition, ChildBuilder } from \"../types/builders\";\nimport { parentDefinitionDecoder, swimlaneWindowDefinitionDecoder } from \"../shared/decoders\";\nimport { Glue42Workspaces } from \"../../workspaces\";\nimport { WorkspaceBuilder } from \"./workspaceBuilder\";\n\nexport class BaseBuilder {\n\n    constructor(\n        private readonly getBuilder: (config: Glue42Workspaces.BuilderConfig) => ParentBuilder | WorkspaceBuilder,\n    ) { }\n\n    public wrapChildren(children: ChildDefinition[]): ChildBuilder[] {\n        return children.map((child) => {\n            if (child.type === \"window\") {\n                return child;\n            }\n\n            return this.getBuilder({ type: child.type, definition: child }) as ParentBuilder;\n        });\n    }\n\n    public add(type: \"row\" | \"column\" | \"group\", children: ChildBuilder[], definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\n        const validatedDefinition = parentDefinitionDecoder.runWithException(definition);\n\n        const childBuilder = this.getBuilder({ type, definition: validatedDefinition }) as ParentBuilder;\n\n        children.push(childBuilder);\n\n        return childBuilder;\n    }\n\n    public addWindow(children: ChildBuilder[], definition: Glue42Workspaces.WorkspaceWindowDefinition): void {\n        const validatedDefinition = swimlaneWindowDefinitionDecoder.runWithException(definition);\n\n        validatedDefinition.type = \"window\";\n\n        children.push(validatedDefinition);\n    }\n\n    public serializeChildren(children: ChildBuilder[]): ChildDefinition[] {\n        return children.map((child) => {\n            if (child instanceof ParentBuilder) {\n                return child.serialize();\n            } else {\n                return child as Glue42Workspaces.WorkspaceWindowDefinition;\n            }\n        });\n    }\n}\n","import { BaseBuilder } from \"./baseBuilder\";\nimport { ChildBuilder } from \"../types/builders\";\nimport { ParentBuilder } from \"./parentBuilder\";\nimport { workspaceBuilderCreateConfigDecoder, nonNegativeNumberDecoder } from \"../shared/decoders\";\nimport { Glue42Workspaces } from \"../../workspaces\";\nimport { WorkspacesController } from \"../types/controller\";\n\ninterface PrivateData {\n    definition: Glue42Workspaces.WorkspaceDefinition;\n    children: ChildBuilder[];\n    base: BaseBuilder;\n    controller: WorkspacesController;\n}\n\nconst privateData = new WeakMap<WorkspaceBuilder, PrivateData>();\n\nexport class WorkspaceBuilder implements WorkspaceBuilder {\n\n    constructor(\n        definition: Glue42Workspaces.WorkspaceDefinition,\n        base: BaseBuilder,\n        controller: WorkspacesController\n    ) {\n        const children = base.wrapChildren(definition.children);\n\n        delete definition.children;\n\n        privateData.set(this, { base, children, definition, controller });\n    }\n\n    public addColumn(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\n        const children = privateData.get(this).children;\n\n        const areAllColumns = children.every((child) => child instanceof ParentBuilder && child.type === \"column\");\n\n        if (!areAllColumns) {\n            throw new Error(\"Cannot add a column to this workspace, because there are already children of another type\");\n        }\n\n        const base = privateData.get(this).base;\n\n        return base.add(\"column\", children, definition);\n    }\n\n    public addRow(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\n        const children = privateData.get(this).children;\n\n        const areAllRows = children.every((child) => child instanceof ParentBuilder && child.type === \"row\");\n\n        if (!areAllRows) {\n            throw new Error(\"Cannot add a row to this workspace, because there are already children of another type\");\n        }\n\n        const base = privateData.get(this).base;\n\n        return base.add(\"row\", children, definition);\n    }\n\n    public addGroup(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\n        const children = privateData.get(this).children;\n\n        if (children.length !== 0) {\n            throw new Error(\"Cannot add a group to this workspace, because there are already defined children.\");\n        }\n\n        const base = privateData.get(this).base;\n\n        return base.add(\"group\", children, definition);\n    }\n\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): WorkspaceBuilder {\n        const children = privateData.get(this).children;\n\n        if (children.length !== 0) {\n            throw new Error(\"Cannot add a window to this workspace, because there are already defined children.\");\n        }\n\n        const base = privateData.get(this).base;\n\n        base.addWindow(children, definition);\n\n        return this;\n    }\n\n    public getChildAt(index: number): ChildBuilder {\n        nonNegativeNumberDecoder.runWithException(index);\n        const data = privateData.get(this).children;\n\n        return data[index];\n    }\n\n    public async create(config?: Glue42Workspaces.WorkspaceCreateConfig): Promise<Glue42Workspaces.Workspace> {\n        const saveConfig = workspaceBuilderCreateConfigDecoder.runWithException(config);\n\n        const definition = privateData.get(this).definition;\n        definition.children = privateData.get(this).base.serializeChildren(privateData.get(this).children);\n\n        const controller = privateData.get(this).controller;\n\n        return controller.createWorkspace(definition, saveConfig);\n    }\n}\n","import { Base } from \"./base/base\";\nimport { Glue42Workspaces } from \"../../workspaces.d\";\n\ninterface PrivateData {\n    base: Base;\n}\n\nconst privateData = new WeakMap<Row, PrivateData>();\n\nconst getBase = (model: Row): Base => {\n    return privateData.get(model).base;\n};\n\nexport class Row implements Glue42Workspaces.Row {\n\n    constructor(base: Base) {\n        privateData.set(this, { base });\n    }\n\n    public get type(): \"row\" {\n        return \"row\";\n    }\n\n    public get id(): string {\n        return getBase(this).getId(this);\n    }\n\n    public get frameId(): string {\n        return getBase(this).getFrameId(this);\n    }\n\n    public get workspaceId(): string {\n        return getBase(this).getWorkspaceId(this);\n    }\n\n    public get positionIndex(): number {\n        return getBase(this).getPositionIndex(this);\n    }\n\n    public get children(): Glue42Workspaces.WorkspaceElement[] {\n        return getBase(this).getAllChildren(this);\n    }\n    public get parent(): Glue42Workspaces.Workspace | Glue42Workspaces.WorkspaceBox {\n        return getBase(this).getMyParent(this);\n    }\n    public get frame(): Glue42Workspaces.Frame {\n        return getBase(this).getMyFrame(this);\n    }\n    public get workspace(): Glue42Workspaces.Workspace {\n        return getBase(this).getMyWorkspace(this);\n    }\n\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): Promise<Glue42Workspaces.WorkspaceWindow> {\n        return getBase(this).addWindow(this, definition, \"row\");\n    }\n\n    public async addGroup(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Group> {\n        if (definition?.type && definition.type !== \"group\") {\n            throw new Error(`Expected a group definition, but received ${definition.type}`);\n        }\n        return getBase(this).addParent<Glue42Workspaces.Group>(this, \"group\", \"row\", definition);\n    }\n\n    public async addColumn(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Column> {\n        if (definition?.type && definition.type !== \"column\") {\n            throw new Error(`Expected a column definition, but received ${definition.type}`);\n        }\n        return getBase(this).addParent<Glue42Workspaces.Column>(this, \"column\", \"row\", definition);\n    }\n\n    public async addRow(): Promise<Row> {\n        throw new Error(\"Adding rows as row children is not supported\");\n    }\n\n    public removeChild(predicate: (child: Glue42Workspaces.WorkspaceElement) => boolean): Promise<void> {\n        return getBase(this).removeChild(this, predicate);\n    }\n\n    public maximize(): Promise<void> {\n        return getBase(this).maximize(this);\n    }\n\n    public restore(): Promise<void> {\n        return getBase(this).restore(this);\n    }\n\n    public close(): Promise<void> {\n        return getBase(this).close(this);\n    }\n\n}\n","import { Base } from \"./base/base\";\nimport { Glue42Workspaces } from \"../../workspaces.d\";\n\ninterface PrivateData {\n    base: Base;\n}\n\nconst privateData = new WeakMap<Column, PrivateData>();\n\nconst getBase = (model: Column): Base => {\n    return privateData.get(model).base;\n};\n\nexport class Column implements Glue42Workspaces.Column {\n\n    constructor(base: Base) {\n        privateData.set(this, { base });\n    }\n\n    public get type(): \"column\" {\n        return \"column\";\n    }\n\n    public get id(): string {\n        return getBase(this).getId(this);\n    }\n\n    public get frameId(): string {\n        return getBase(this).getFrameId(this);\n    }\n\n    public get workspaceId(): string {\n        return getBase(this).getWorkspaceId(this);\n    }\n\n    public get positionIndex(): number {\n        return getBase(this).getPositionIndex(this);\n    }\n\n    public get children(): Glue42Workspaces.WorkspaceElement[] {\n        return getBase(this).getAllChildren(this);\n    }\n    public get parent(): Glue42Workspaces.Workspace | Glue42Workspaces.WorkspaceBox {\n        return getBase(this).getMyParent(this);\n    }\n    public get frame(): Glue42Workspaces.Frame {\n        return getBase(this).getMyFrame(this);\n    }\n    public get workspace(): Glue42Workspaces.Workspace {\n        return getBase(this).getMyWorkspace(this);\n    }\n\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): Promise<Glue42Workspaces.WorkspaceWindow> {\n        return getBase(this).addWindow(this, definition, \"column\");\n    }\n\n    public async addGroup(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Group> {\n        if (definition?.type && definition.type !== \"group\") {\n            throw new Error(`Expected a group definition, but received ${definition.type}`);\n        }\n        return getBase(this).addParent<Glue42Workspaces.Group>(this, \"group\", \"column\", definition);\n    }\n\n    public async addColumn(definition?: Glue42Workspaces.BoxDefinition): Promise<Column> {\n        throw new Error(\"Adding columns as column children is not supported\");\n        return getBase(this).addParent<Column>(this, \"column\", \"column\", definition);\n    }\n\n    public async addRow(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Row> {\n        if (definition?.type && definition.type !== \"row\") {\n            throw new Error(`Expected a row definition, but received ${definition.type}`);\n        }\n        return getBase(this).addParent<Glue42Workspaces.Row>(this, \"row\", \"column\", definition);\n    }\n\n    public removeChild(predicate: (child: Glue42Workspaces.WorkspaceElement) => boolean): Promise<void> {\n        return getBase(this).removeChild(this, predicate);\n    }\n\n    public maximize(): Promise<void> {\n        return getBase(this).maximize(this);\n    }\n\n    public restore(): Promise<void> {\n        return getBase(this).restore(this);\n    }\n\n    public close(): Promise<void> {\n        return getBase(this).close(this);\n    }\n\n}\n","import { Base } from \"./base/base\";\nimport { Glue42Workspaces } from \"../../workspaces.d\";\n\ninterface PrivateData {\n    base: Base;\n}\n\nconst privateData = new WeakMap<Group, PrivateData>();\n\nconst getBase = (model: Group): Base => {\n    return privateData.get(model).base;\n};\n\nexport class Group implements Glue42Workspaces.Group {\n\n    constructor(base: Base) {\n        privateData.set(this, { base });\n    }\n\n    public get type(): \"group\" {\n        return \"group\";\n    }\n\n    public get id(): string {\n        return getBase(this).getId(this);\n    }\n\n    public get frameId(): string {\n        return getBase(this).getFrameId(this);\n    }\n\n    public get workspaceId(): string {\n        return getBase(this).getWorkspaceId(this);\n    }\n\n    public get positionIndex(): number {\n        return getBase(this).getPositionIndex(this);\n    }\n\n    public get children(): Glue42Workspaces.WorkspaceElement[] {\n        return getBase(this).getAllChildren(this);\n    }\n    public get parent(): Glue42Workspaces.Workspace | Glue42Workspaces.WorkspaceBox {\n        return getBase(this).getMyParent(this);\n    }\n    public get frame(): Glue42Workspaces.Frame {\n        return getBase(this).getMyFrame(this);\n    }\n    public get workspace(): Glue42Workspaces.Workspace {\n        return getBase(this).getMyWorkspace(this);\n    }\n\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): Promise<Glue42Workspaces.WorkspaceWindow> {\n        return getBase(this).addWindow(this, definition, \"group\");\n    }\n\n    public async addGroup(): Promise<Group> {\n        throw new Error(\"Adding groups as group child is not supported\");\n    }\n\n    public async addColumn(): Promise<Glue42Workspaces.Column> {\n        throw new Error(\"Adding columns as group child is not supported\");\n    }\n\n    public async addRow(): Promise<Glue42Workspaces.Row> {\n        throw new Error(\"Adding rows as group child is not supported\");\n    }\n\n    public removeChild(predicate: (child: Glue42Workspaces.WorkspaceElement) => boolean): Promise<void> {\n        return getBase(this).removeChild(this, predicate);\n    }\n\n    public maximize(): Promise<void> {\n        return getBase(this).maximize(this);\n    }\n\n    public restore(): Promise<void> {\n        return getBase(this).restore(this);\n    }\n\n    public close(): Promise<void> {\n        return getBase(this).close(this);\n    }\n\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { WorkspaceSnapshotResult, WindowStreamData } from \"../types/protocol\";\nimport { checkThrowCallback, nonEmptyStringDecoder } from \"../shared/decoders\";\nimport { PrivateDataManager } from \"../shared/privateDataManager\";\nimport { FrameCreateConfig } from \"../types/ioc\";\nimport { Window } from \"./window\";\nimport { Frame } from \"./frame\";\nimport { Row } from \"./row\";\nimport { Column } from \"./column\";\nimport { Group } from \"./group\";\nimport { SubscriptionConfig } from \"../types/subscription\";\nimport { WorkspacePrivateData } from \"../types/privateData\";\nimport { Glue42Workspaces } from \"../../workspaces\";\n\ninterface PrivateData {\n    manager: PrivateDataManager;\n}\n\nconst data = new WeakMap<Workspace, PrivateData>();\n\nconst getData = (model: Workspace): WorkspacePrivateData => {\n    return data.get(model).manager.getWorkspaceData(model);\n};\n\nconst getDataManager = (model: Workspace): PrivateDataManager => {\n    return data.get(model).manager;\n};\n\nexport class Workspace implements Glue42Workspaces.Workspace {\n\n    constructor(dataManager: PrivateDataManager) {\n        data.set(this, { manager: dataManager });\n    }\n\n    public get id(): string {\n        return getData(this).id;\n    }\n\n    public get frameId(): string {\n        return getData(this).config.frameId;\n    }\n\n    public get positionIndex(): number {\n        return getData(this).config.positionIndex;\n    }\n\n    public get title(): string {\n        return getData(this).config.title;\n    }\n\n    public get layoutName(): string | undefined {\n        return getData(this).config.layoutName;\n    }\n\n    public get children(): Glue42Workspaces.WorkspaceElement[] {\n        return getData(this).children;\n    }\n\n    public get frame(): Frame {\n        return getData(this).frame;\n    }\n\n    public async removeChild(predicate: (child: Glue42Workspaces.WorkspaceElement) => boolean): Promise<void> {\n        checkThrowCallback(predicate);\n        const child = this.children.find(predicate);\n        if (!child) {\n            return;\n        }\n        await child.close();\n        await this.refreshReference();\n    }\n\n    public async remove(predicate: (child: Glue42Workspaces.WorkspaceElement) => boolean): Promise<void> {\n        checkThrowCallback(predicate);\n        const controller = getData(this).controller;\n\n        const child = controller.iterateFindChild(this.children, predicate);\n\n        await child.close();\n\n        await this.refreshReference();\n    }\n\n    public async focus(): Promise<void> {\n        await getData(this).controller.focusItem(this.id);\n        await this.refreshReference();\n    }\n\n    public async close(): Promise<void> {\n        const controller = getData(this).controller;\n\n        const workspaces = await getData(this).frame.workspaces();\n\n        const shouldCloseFrame = workspaces.length === 1 && workspaces.every((wsp) => wsp.id === this.id);\n\n        if (shouldCloseFrame) {\n            return this.frame.close();\n        }\n\n        await controller.closeItem(this.id);\n    }\n\n    public snapshot(): Promise<Glue42Workspaces.WorkspaceSnapshot> {\n        return getData(this).controller.getSnapshot(this.id, \"workspace\");\n    }\n\n    public async saveLayout(name: string, config?: { saveContext?: boolean }): Promise<void> {\n        nonEmptyStringDecoder.runWithException(name);\n        await getData(this).controller.saveLayout({name, workspaceId: this.id, saveContext: config?.saveContext});\n    }\n\n    public async setTitle(title: string): Promise<void> {\n        nonEmptyStringDecoder.runWithException(title);\n        const controller = getData(this).controller;\n\n        await controller.setItemTitle(this.id, title);\n        await this.refreshReference();\n    }\n\n    public getContext(): Promise<any> {\n        const controller = getData(this).controller;\n        return controller.getWorkspaceContext(this.id);\n    }\n\n    public setContext(data: any): Promise<void> {\n        const controller = getData(this).controller;\n        return controller.setWorkspaceContext(this.id, data);\n    }\n\n    public updateContext(data: any): Promise<void> {\n        const controller = getData(this).controller;\n        return controller.updateWorkspaceContext(this.id, data);\n    }\n\n    public onContextUpdated(callback: (data: any) => void): Promise<Glue42Workspaces.Unsubscribe> {\n        const controller = getData(this).controller;\n        return controller.subscribeWorkspaceContextUpdated(this.id, callback);\n    }\n\n    public async refreshReference(): Promise<void> {\n        const newSnapshot = (await getData(this).controller.getSnapshot(this.id, \"workspace\")) as WorkspaceSnapshotResult;\n\n        const existingChildren = newSnapshot.children.reduce<Glue42Workspaces.WorkspaceElement[]>((foundChildren, child) => {\n            let foundChild: Glue42Workspaces.WorkspaceElement;\n            if (child.type === \"window\") {\n                foundChild = this.getWindow((swimlaneWindow) => swimlaneWindow.id === child.id);\n            } else {\n                foundChild = this.getBox((parent) => parent.id === child.id);\n            }\n\n            if (foundChild) {\n                foundChildren.push(foundChild);\n            }\n\n            return foundChildren;\n        }, []);\n\n        const newChildren = getData(this).controller.refreshChildren({\n            existingChildren,\n            workspace: this,\n            parent: this,\n            children: newSnapshot.children\n        });\n\n        const currentFrame = this.frame;\n        let actualFrame: Frame;\n\n        if (currentFrame.id === newSnapshot.config.frameId) {\n            getDataManager(this).remapFrame(currentFrame, newSnapshot.frameSummary);\n            actualFrame = currentFrame;\n        } else {\n            const frameCreateConfig: FrameCreateConfig = {\n                summary: newSnapshot.frameSummary\n            };\n            const newFrame = getData(this).ioc.getModel<\"frame\">(\"frame\", frameCreateConfig);\n            actualFrame = newFrame;\n        }\n\n        getDataManager(this).remapWorkspace(this, {\n            config: newSnapshot.config,\n            children: newChildren,\n            frame: actualFrame\n        });\n    }\n\n    public getBox(predicate: (box: Glue42Workspaces.WorkspaceBox) => boolean): Glue42Workspaces.WorkspaceBox {\n        checkThrowCallback(predicate);\n        const children = getData(this).children;\n        const controller = getData(this).controller;\n\n        return controller.iterateFindChild(children, (child) => child.type !== \"window\" && predicate(child)) as Glue42Workspaces.WorkspaceBox;\n    }\n\n    public getAllBoxes(predicate?: (parent: Glue42Workspaces.WorkspaceBox) => boolean): Glue42Workspaces.WorkspaceBox[] {\n        checkThrowCallback(predicate, true);\n        const children = getData(this).children;\n        const controller = getData(this).controller;\n\n        const allParents = controller.iterateFilterChildren(children, (child) => child.type !== \"window\") as Glue42Workspaces.WorkspaceBox[];\n\n        if (!predicate) {\n            return allParents;\n        }\n\n        return allParents.filter(predicate);\n    }\n\n    public getRow(predicate: (row: Row) => boolean): Row {\n        checkThrowCallback(predicate);\n        return this.getBox((parent) => parent.type === \"row\" && predicate(parent)) as Row;\n    }\n\n    public getAllRows(predicate?: (row: Row) => boolean): Row[] {\n        checkThrowCallback(predicate, true);\n        if (predicate) {\n            return this.getAllBoxes((parent) => parent.type === \"row\" && predicate(parent)) as Row[];\n        }\n        return this.getAllBoxes((parent) => parent.type === \"row\") as Row[];\n    }\n\n    public getColumn(predicate: (column: Column) => boolean): Column {\n        checkThrowCallback(predicate);\n        return this.getBox((parent) => parent.type === \"column\" && predicate(parent)) as Column;\n    }\n\n    public getAllColumns(predicate?: (columns: Column) => boolean): Column[] {\n        checkThrowCallback(predicate, true);\n        if (predicate) {\n            return this.getAllBoxes((parent) => parent.type === \"column\" && predicate(parent)) as Column[];\n        }\n        return this.getAllBoxes((parent) => parent.type === \"column\") as Column[];\n    }\n\n    public getGroup(predicate: (group: Group) => boolean): Group {\n        checkThrowCallback(predicate);\n        return this.getBox((parent) => parent.type === \"group\" && predicate(parent)) as Group;\n    }\n\n    public getAllGroups(predicate?: (group: Group) => boolean): Group[] {\n        checkThrowCallback(predicate, true);\n        if (predicate) {\n            return this.getAllBoxes((parent) => parent.type === \"group\" && predicate(parent)) as Group[];\n        }\n        return this.getAllBoxes((parent) => parent.type === \"group\") as Group[];\n    }\n\n    public getWindow(predicate: (window: Glue42Workspaces.WorkspaceWindow) => boolean): Glue42Workspaces.WorkspaceWindow {\n        checkThrowCallback(predicate);\n        const children = getData(this).children;\n        const controller = getData(this).controller;\n\n        return controller.iterateFindChild(children, (child) => child.type === \"window\" && predicate(child)) as Window;\n    }\n\n    public getAllWindows(predicate?: (window: Glue42Workspaces.WorkspaceWindow) => boolean): Glue42Workspaces.WorkspaceWindow[] {\n        checkThrowCallback(predicate, true);\n        const children = getData(this).children;\n        const controller = getData(this).controller;\n\n        const allWindows = controller.iterateFilterChildren(children, (child) => child.type === \"window\") as Window[];\n\n        if (!predicate) {\n            return allWindows;\n        }\n\n        return allWindows.filter(predicate);\n    }\n\n    public addRow(definition?: Glue42Workspaces.BoxDefinition): Promise<Row> {\n        return getData(this).base.addParent<Row>(this, \"row\", \"workspace\", definition);\n    }\n\n    public addColumn(definition?: Glue42Workspaces.BoxDefinition): Promise<Column> {\n        return getData(this).base.addParent<Column>(this, \"column\", \"workspace\", definition);\n    }\n\n    public addGroup(definition?: Glue42Workspaces.BoxDefinition): Promise<Group> {\n        return getData(this).base.addParent<Group>(this, \"group\", \"workspace\", definition);\n    }\n\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): Promise<Glue42Workspaces.WorkspaceWindow> {\n        return getData(this).base.addWindow(this, definition, \"workspace\");\n    }\n\n    public async bundleToRow(): Promise<void> {\n        await getData(this).controller.bundleTo(\"row\", this.id);\n        await this.refreshReference();\n    }\n\n    public async bundleToColumn(): Promise<void> {\n        await getData(this).controller.bundleTo(\"column\", this.id);\n        await this.refreshReference();\n    }\n\n    public async onClosed(callback: () => void): Promise<Glue42Workspaces.Unsubscribe> {\n        checkThrowCallback(callback);\n        const id = getData(this).id;\n\n        const wrappedCallback = async (): Promise<void> => {\n            // await this.refreshReference();\n            callback();\n        };\n        const config: SubscriptionConfig = {\n            action: \"closed\",\n            eventType: \"workspace\",\n            scope: \"workspace\",\n            scopeId: id,\n            callback: wrappedCallback\n        };\n\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\n        return unsubscribe;\n    }\n\n    public async onWindowAdded(callback: (window: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> {\n        checkThrowCallback(callback);\n        const id = getData(this).id;\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\n            await this.refreshReference();\n            const windowParent = this.getBox((parent) => parent.id === payload.windowSummary.parentId);\n\n            const foundWindow = windowParent.children.find((child) => {\n\n                return child.type === \"window\" && child.positionIndex === payload.windowSummary.config.positionIndex;\n            });\n            callback(foundWindow as Window);\n        };\n\n        const config: SubscriptionConfig = {\n            action: \"added\",\n            eventType: \"window\",\n            scope: \"workspace\",\n            scopeId: id,\n            callback: wrappedCallback\n        };\n\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\n        return unsubscribe;\n    }\n\n    public async onWindowRemoved(callback: (removed: { windowId?: string; workspaceId: string; frameId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> {\n        checkThrowCallback(callback);\n        const id = getData(this).id;\n\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\n            await this.refreshReference();\n            const { windowId, workspaceId, frameId } = payload.windowSummary.config;\n            callback({ windowId, workspaceId, frameId });\n        };\n\n        const config: SubscriptionConfig = {\n            action: \"removed\",\n            eventType: \"window\",\n            scope: \"workspace\",\n            scopeId: id,\n            callback: wrappedCallback\n        };\n\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\n        return unsubscribe;\n    }\n\n    public async onWindowLoaded(callback: (window: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> {\n        checkThrowCallback(callback);\n        const id = getData(this).id;\n\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\n            await this.refreshReference();\n            const foundWindow = this.getWindow((win) => {\n                return win.id && win.id === payload.windowSummary.config.windowId;\n            });\n            callback(foundWindow);\n        };\n\n        const config: SubscriptionConfig = {\n            action: \"loaded\",\n            eventType: \"window\",\n            scope: \"workspace\",\n            scopeId: id,\n            callback: wrappedCallback\n        };\n\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\n        return unsubscribe;\n    }\n}\n","import { checkThrowCallback, nonEmptyStringDecoder } from \"../shared//decoders\";\nimport { SubscriptionConfig } from \"../types/subscription\";\nimport { PrivateDataManager } from \"../shared/privateDataManager\";\nimport { Row } from \"./row\";\nimport { Column } from \"./column\";\nimport { Group } from \"./group\";\nimport { WindowPrivateData } from \"../types/privateData\";\nimport { Glue42Workspaces } from \"../../workspaces\";\nimport { GDWindow } from \"../types/glue\";\n\ninterface PrivateData {\n    manager: PrivateDataManager;\n}\n\nconst data = new WeakMap<Window, PrivateData>();\n\nconst getData = (model: Window): WindowPrivateData => {\n    return data.get(model).manager.getWindowData(model);\n};\n\nexport class Window implements Glue42Workspaces.WorkspaceWindow {\n\n    constructor(dataManager: PrivateDataManager) {\n        data.set(this, { manager: dataManager });\n    }\n\n    public get id(): string {\n        return getData(this).config.windowId;\n    }\n\n    public get type(): \"window\" {\n        return \"window\";\n    }\n\n    public get frameId(): string {\n        return getData(this).frame.id;\n    }\n\n    public get workspaceId(): string {\n        return getData(this).workspace.id;\n    }\n\n    public get positionIndex(): number {\n        return getData(this).config.positionIndex;\n    }\n\n    public get isMaximized(): boolean {\n        return getData(this).config.isMaximized;\n    }\n\n    public get isLoaded(): boolean {\n        return getData(this).controller.checkIsWindowLoaded(this.id);\n    }\n\n    public get focused(): boolean {\n        return getData(this).config.isFocused;\n    }\n\n    public get title(): string {\n        return getData(this).config.title;\n    }\n\n    public get workspace(): Glue42Workspaces.Workspace {\n        return getData(this).workspace;\n    }\n\n    public get frame(): Glue42Workspaces.Frame {\n        return getData(this).frame;\n    }\n\n    public get parent(): Glue42Workspaces.Workspace | Glue42Workspaces.Workspace | Row | Column | Group {\n        return getData(this).parent;\n    }\n\n    public get appName(): string {\n        return getData(this).config.appName;\n    }\n\n    public async forceLoad(): Promise<void> {\n        if (this.isLoaded) {\n            return;\n        }\n        const controller = getData(this).controller;\n        const itemId = getData(this).id;\n\n        const windowId = await controller.forceLoadWindow(itemId);\n\n        getData(this).config.windowId = windowId;\n    }\n\n    public async focus(): Promise<void> {\n        const id = getData(this).id;\n        const controller = getData(this).controller;\n\n        await controller.focusItem(id);\n    }\n\n    public async close(): Promise<void> {\n\n        const id = getData(this).id;\n        const controller = getData(this).controller;\n\n        await controller.closeItem(id);\n\n        await getData(this)\n            .parent\n            .removeChild((child) => child.id === id);\n    }\n\n    public async setTitle(title: string): Promise<void> {\n        nonEmptyStringDecoder.runWithException(title);\n\n        const itemId = getData(this).id;\n        const controller = getData(this).controller;\n\n        await controller.setItemTitle(itemId, title);\n    }\n\n    public async maximize(): Promise<void> {\n        const id = getData(this).id;\n        const controller = getData(this).controller;\n\n        await controller.maximizeItem(id);\n    }\n\n    public async restore(): Promise<void> {\n        const id = getData(this).id;\n        const controller = getData(this).controller;\n\n        await controller.restoreItem(id);\n    }\n\n    public async eject(): Promise<GDWindow> {\n        if (!this.isLoaded) {\n            throw new Error(\"Cannot eject this window, because it is not loaded yet\");\n        }\n        const itemId: string = getData(this).id;\n\n        const newWindowId: string = await getData(this).controller.ejectWindow(itemId);\n\n        getData(this).config.windowId = newWindowId;\n\n        return this.getGdWindow();\n    }\n\n    public getGdWindow(): GDWindow {\n\n        if (!this.isLoaded) {\n            throw new Error(\"Cannot fetch this GD window, because the window is not yet loaded\");\n        }\n\n        const myId = getData(this).config.windowId;\n        const controller = getData(this).controller;\n\n        return controller.getGDWindow(myId);\n    }\n\n    public async moveTo(parent: Row | Column | Group): Promise<void> {\n        if (!(parent instanceof Row || parent instanceof Column || parent instanceof Group)) {\n            throw new Error(\"Cannot add to the provided parent, because the provided parent is not an instance of Row, Column or Group\");\n        }\n\n        const myId = getData(this).id;\n        const controller = getData(this).controller;\n\n        const foundParent = await controller.getParent((p) => p.id === parent.id);\n\n        if (!foundParent) {\n            throw new Error(\"Cannot move the window to the selected parent, because this parent does not exist.\");\n        }\n\n        return controller.moveWindowTo(myId, parent.id);\n    }\n\n    public async onRemoved(callback: () => void): Promise<Glue42Workspaces.Unsubscribe> {\n        checkThrowCallback(callback);\n        const id = getData(this).id;\n        const wrappedCallback = async (): Promise<void> => {\n            await this.workspace.refreshReference();\n            callback();\n        };\n        const config: SubscriptionConfig = {\n            callback: wrappedCallback,\n            action: \"removed\",\n            eventType: \"window\",\n            scope: \"window\"\n        };\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\n        return unsubscribe;\n    }\n}\n","import { checkThrowCallback, nonEmptyStringDecoder, restoreWorkspaceConfigDecoder, workspaceDefinitionDecoder, workspaceBuilderCreateConfigDecoder, resizeConfigDecoder, moveConfigDecoder } from \"../shared/decoders\";\r\nimport { SubscriptionConfig } from \"../types/subscription\";\r\nimport { PrivateDataManager } from \"../shared/privateDataManager\";\r\nimport { FrameStreamData, WorkspaceStreamData, WindowStreamData } from \"../types/protocol\";\r\nimport { Glue42Workspaces } from \"../../workspaces.d\";\r\nimport { FramePrivateData } from \"../types/privateData\";\r\n\r\ninterface PrivateData {\r\n    manager: PrivateDataManager;\r\n}\r\n\r\nconst data = new WeakMap<Frame, PrivateData>();\r\n\r\nconst getData = (model: Frame): FramePrivateData => {\r\n    return data.get(model).manager.getFrameData(model);\r\n};\r\n\r\nexport class Frame implements Glue42Workspaces.Frame {\r\n\r\n    constructor(dataManager: PrivateDataManager) {\r\n        data.set(this, { manager: dataManager });\r\n    }\r\n\r\n    public get id(): string {\r\n        return getData(this).summary.id;\r\n    }\r\n\r\n    public resize(config: Glue42Workspaces.ResizeConfig): Promise<void> {\r\n        const validatedConfig = resizeConfigDecoder.runWithException(config);\r\n        const myId = getData(this).summary.id;\r\n\r\n        return getData(this).controller.resizeItem(myId, validatedConfig);\r\n    }\r\n\r\n    public move(config: Glue42Workspaces.MoveConfig): Promise<void> {\r\n        const validatedConfig = moveConfigDecoder.runWithException(config);\r\n\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.moveFrame(myId, validatedConfig);\r\n    }\r\n\r\n    public focus(): Promise<void> {\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.focusItem(myId);\r\n    }\r\n\r\n    public async state(): Promise<Glue42Workspaces.FrameState> {\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.getFrameState(myId);\r\n    }\r\n\r\n    public async minimize(): Promise<void> {\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.changeFrameState(myId, \"minimized\");\r\n    }\r\n\r\n    public async maximize(): Promise<void> {\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.changeFrameState(myId, \"maximized\");\r\n    }\r\n\r\n    public async restore(): Promise<void> {\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.changeFrameState(myId, \"normal\");\r\n    }\r\n\r\n    public close(): Promise<void> {\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.closeItem(myId);\r\n    }\r\n\r\n    public snapshot(): Promise<Glue42Workspaces.FrameSnapshot> {\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.getSnapshot(myId, \"frame\");\r\n    }\r\n\r\n    public async workspaces(): Promise<Glue42Workspaces.Workspace[]> {\r\n        const controller = getData(this).controller;\r\n        return controller.getWorkspaces((wsp) => wsp.frameId === this.id);\r\n    }\r\n\r\n    public async restoreWorkspace(name: string, options?: Glue42Workspaces.RestoreWorkspaceConfig): Promise<Glue42Workspaces.Workspace> {\r\n        nonEmptyStringDecoder.runWithException(name);\r\n        const validatedOptions = restoreWorkspaceConfigDecoder.runWithException(options);\r\n\r\n        return getData(this).controller.restoreWorkspace(name, validatedOptions);\r\n    }\r\n\r\n    public createWorkspace(definition: Glue42Workspaces.WorkspaceDefinition, config?: Glue42Workspaces.WorkspaceCreateConfig): Promise<Glue42Workspaces.Workspace> {\r\n        const validatedDefinition = workspaceDefinitionDecoder.runWithException(definition);\r\n        const validatedConfig = workspaceBuilderCreateConfigDecoder.runWithException(config);\r\n\r\n        return getData(this).controller.createWorkspace(validatedDefinition, validatedConfig);\r\n    }\r\n\r\n    public async onClosed(callback: (closed: { frameId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (payload: FrameStreamData): void => {\r\n            callback({ frameId: payload.frameSummary.id });\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"closed\",\r\n            eventType: \"frame\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onMaximized(callback: () => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (): void => {\r\n            callback();\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"maximized\",\r\n            eventType: \"frame\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onMinimized(callback: () => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (): void => {\r\n            callback();\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"minimized\",\r\n            eventType: \"frame\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onNormal(callback: () => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (): void => {\r\n            callback();\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"normal\",\r\n            eventType: \"frame\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWorkspaceOpened(callback: (workspace: Glue42Workspaces.Workspace) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = async (payload: WorkspaceStreamData): Promise<void> => {\r\n            const workspace = await getData(this).controller.getWorkspace((wsp) => wsp.id === payload.workspaceSummary.id);\r\n            callback(workspace);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"opened\",\r\n            eventType: \"workspace\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWorkspaceSelected(callback: (workspace: Glue42Workspaces.Workspace) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = async (payload: WorkspaceStreamData): Promise<void> => {\r\n            const workspace = await getData(this).controller.getWorkspace((wsp) => wsp.id === payload.workspaceSummary.id);\r\n            callback(workspace);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"selected\",\r\n            eventType: \"workspace\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWorkspaceClosed(callback: (closed: { frameId: string; workspaceId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (payload: WorkspaceStreamData): void => {\r\n            callback({ frameId: payload.frameSummary.id, workspaceId: payload.workspaceSummary.id });\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"closed\",\r\n            eventType: \"workspace\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWindowAdded(callback: (window: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            const foundParent = await getData(this).controller.getParent((parent) => parent.id === payload.windowSummary.parentId);\r\n            const foundWindow = foundParent.children.find((child) => child.type === \"window\" && child.positionIndex === payload.windowSummary.config.positionIndex);\r\n            callback(foundWindow as Glue42Workspaces.WorkspaceWindow);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"added\",\r\n            eventType: \"window\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWindowRemoved(callback: (removed: { windowId?: string; workspaceId: string; frameId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (payload: WindowStreamData): void => {\r\n            const { windowId, workspaceId, frameId } = payload.windowSummary.config;\r\n            callback({ windowId, workspaceId, frameId });\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"removed\",\r\n            eventType: \"window\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWindowLoaded(callback: (window: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            const foundParent = await getData(this).controller.getParent((parent) => {\r\n                return parent.id === payload.windowSummary.parentId;\r\n            });\r\n            const foundWindow = foundParent.children.find((child) => child.type === \"window\" && child.positionIndex === payload.windowSummary.config.positionIndex);\r\n            callback(foundWindow as Glue42Workspaces.WorkspaceWindow);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"loaded\",\r\n            eventType: \"window\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n}\r\n","import { Row } from \"../models/row\";\nimport { Column } from \"../models/column\";\nimport { Group } from \"../models/group\";\nimport { ParentPrivateData, WorkspacePrivateData, WindowPrivateData, FramePrivateData, RemapChildData, RemapWorkspaceData } from \"../types/privateData\";\nimport { Workspace } from \"../models/workspace\";\nimport { Window } from \"../models/window\";\nimport { Frame } from \"../models/frame\";\nimport { SwimlaneWindowSnapshotConfig, ParentSnapshotConfig, FrameSummaryResult } from \"../types/protocol\";\nimport { Child } from \"../types/builders\";\n\nexport class PrivateDataManager {\n    private readonly parentsData = new WeakMap<Row | Column | Group, ParentPrivateData>();\n    private readonly workspacesData = new WeakMap<Workspace, WorkspacePrivateData>();\n    private readonly windowsData = new WeakMap<Window, WindowPrivateData>();\n    private readonly framesData = new WeakMap<Frame, FramePrivateData>();\n    // Without this collection there is no way to get a window instance before its loaded\n    // e.g addWindow returns a window however this window doesn't have a placement id needed for force load\n    private readonly windowPlacementIdData: { [key: string]: Window } = {};\n\n    public deleteData<T>(model: T): void {\n        if (model instanceof Window) {\n            const keyForDeleting =\n                Object.keys(this.windowPlacementIdData)\n                    .find((k) => this.windowPlacementIdData[k] === model);\n\n            if (keyForDeleting) {\n                delete this.windowPlacementIdData[keyForDeleting];\n            }\n\n            this.windowsData.delete(model);\n        }\n\n        if (model instanceof Workspace) {\n            this.workspacesData.delete(model);\n        }\n\n        if (model instanceof Row || model instanceof Column || model instanceof Group) {\n            this.parentsData.delete(model);\n        }\n\n        if (model instanceof Frame) {\n            this.framesData.delete(model);\n        }\n    }\n\n    public setWindowData(model: Window, data: WindowPrivateData): void {\n\n        this.windowPlacementIdData[data.id] = model;\n        this.windowsData.set(model, data);\n    }\n\n    public setWorkspaceData(model: Workspace, data: WorkspacePrivateData): void {\n        this.workspacesData.set(model, data);\n    }\n\n    public setParentData(model: Row | Column | Group, data: ParentPrivateData): void {\n        this.parentsData.set(model, data);\n    }\n\n    public setFrameData(model: Frame, data: FramePrivateData): void {\n        this.framesData.set(model, data);\n    }\n\n    public getWindowData(model: Window): WindowPrivateData {\n        return this.windowsData.get(model);\n    }\n\n    public getWindowByPlacementId(placementId: string): Window {\n        return this.windowPlacementIdData[placementId];\n    }\n\n    public getWorkspaceData(model: Workspace): WorkspacePrivateData {\n        return this.workspacesData.get(model);\n    }\n\n    public getParentData(model: Row | Column | Group): ParentPrivateData {\n        return this.parentsData.get(model);\n    }\n\n    public getFrameData(model: Frame): FramePrivateData {\n        return this.framesData.get(model);\n    }\n\n    public remapChild(model: Child, newData: RemapChildData): void {\n        if (model instanceof Window) {\n            const data = this.windowsData.get(model);\n            data.parent = newData.parent || data.parent;\n            data.config = newData.config as SwimlaneWindowSnapshotConfig || data.config;\n        }\n\n        if (model instanceof Row || model instanceof Column || model instanceof Group) {\n            const data = this.parentsData.get(model);\n            data.parent = newData.parent || data.parent;\n            data.config = newData.config as ParentSnapshotConfig || data.config;\n            data.children = newData.children || data.children;\n        }\n    }\n\n    public remapFrame(model: Frame, newData: FrameSummaryResult): void {\n        const data = this.framesData.get(model);\n        data.summary = newData;\n    }\n\n    public remapWorkspace(model: Workspace, newData: RemapWorkspaceData): void {\n        const data = this.workspacesData.get(model);\n        data.frame = newData.frame || data.frame;\n        data.config = newData.config || data.config;\n        data.children = newData.children || data.children;\n    }\n}\n","import { Workspace } from \"../workspace\";\nimport { ParentBuilder } from \"../../builders/parentBuilder\";\nimport { strictParentDefinitionDecoder, swimlaneWindowDefinitionDecoder, checkThrowCallback } from \"../../shared/decoders\";\nimport { SubParent, AllParentTypes, Child, SubParentTypes, AllParent } from \"../../types/builders\";\nimport { PrivateDataManager } from \"../../shared/privateDataManager\";\nimport { ParentPrivateData, WorkspacePrivateData } from \"../../types/privateData\";\nimport { Window } from \"../../models/window\";\nimport { Glue42Workspaces } from \"../../../workspaces\";\n\ninterface PrivateData {\n    manager: PrivateDataManager;\n}\n\nconst data = new WeakMap<Base, PrivateData>();\n\nconst getData = (base: Base, model: AllParentTypes): WorkspacePrivateData | ParentPrivateData => {\n    const manager = data.get(base).manager;\n\n    if (model instanceof Workspace) {\n        return manager.getWorkspaceData(model);\n    }\n\n    return data.get(base).manager.getParentData(model);\n};\n\nconst getWindowFromPlacementId = (base: Base, placemenId: string): Window => {\n    const manager = data.get(base).manager;\n\n    return manager.getWindowByPlacementId(placemenId);\n};\n\nexport class Base {\n    public frameId: string;\n    public workspaceId: string;\n    public positionIndex: number;\n\n    constructor(dataManager: PrivateDataManager) {\n        data.set(this, { manager: dataManager });\n    }\n\n    public getId(model: AllParentTypes): string {\n        return getData(this, model).id;\n    }\n\n    public getPositionIndex(model: AllParentTypes): number {\n        return getData(this, model).config.positionIndex;\n    }\n\n    public getWorkspaceId(model: AllParentTypes): string {\n        const privateData = getData(this, model) as ParentPrivateData;\n        return privateData.config.workspaceId || privateData.workspace.id;\n    }\n\n    public getFrameId(model: AllParentTypes): string {\n        return getData(this, model).frame.id;\n    }\n\n    public getAllChildren(model: AllParentTypes, predicate?: (child: Child) => boolean): Child[] {\n        checkThrowCallback(predicate, true);\n        const children = getData(this, model).children;\n\n        if (typeof predicate === \"undefined\") {\n            return children;\n        }\n\n        return children.filter(predicate);\n    }\n\n    public getMyParent(model: AllParentTypes): AllParentTypes {\n        if (model instanceof Workspace) {\n            return;\n        }\n        return (getData(this, model) as ParentPrivateData).parent;\n    }\n\n    public getMyFrame(model: AllParentTypes): Glue42Workspaces.Frame {\n        return getData(this, model).frame;\n    }\n\n    public getMyWorkspace(model: AllParentTypes): Workspace {\n        if (model instanceof Workspace) {\n            return;\n        }\n        return (getData(this, model) as ParentPrivateData).workspace;\n    }\n\n    public async addWindow(model: AllParentTypes, definition: Glue42Workspaces.WorkspaceWindowDefinition, parentType: AllParent): Promise<Glue42Workspaces.WorkspaceWindow> {\n        if (!definition.appName && !definition.windowId) {\n            throw new Error(\"The window definition should contain either an appName or a windowId\");\n        }\n\n        const validatedDefinition = swimlaneWindowDefinitionDecoder.runWithException(definition);\n        const controller = getData(this, model).controller;\n\n        const operationResult = await controller.add(\"window\", getData(this, model).id, parentType, validatedDefinition);\n\n        if (model instanceof Workspace) {\n            await model.refreshReference();\n            return getWindowFromPlacementId(this, operationResult.itemId);\n        }\n\n        await this.getMyWorkspace(model).refreshReference();\n\n        return getWindowFromPlacementId(this, operationResult.itemId);\n    }\n\n    public async addParent<T>(model: AllParentTypes, typeToAdd: SubParent, parentType: AllParent, definition?: Glue42Workspaces.BoxDefinition | ParentBuilder): Promise<T> {\n        const parentDefinition = this.transformDefinition(typeToAdd, definition);\n        const controller = getData(this, model).controller;\n\n        const newParentId = (await controller.add(\"container\", getData(this, model).id, parentType, parentDefinition)).itemId;\n\n        if (model instanceof Workspace) {\n            await model.refreshReference();\n            return model.getBox((parent) => parent.id === newParentId) as unknown as T;\n        }\n\n        const myWorkspace = this.getMyWorkspace(model);\n        await myWorkspace.refreshReference();\n\n        return myWorkspace.getBox((parent) => parent.id === newParentId) as unknown as T;\n    }\n\n    public async removeChild(model: AllParentTypes, predicate: (child: Child) => boolean): Promise<void> {\n        checkThrowCallback(predicate);\n        const child = this.getAllChildren(model).find(predicate);\n        if (!child) {\n            return;\n        }\n\n        await child.close();\n\n        if (model instanceof Workspace) {\n\n            await model.refreshReference();\n            return;\n        }\n\n        await this.getMyWorkspace(model).refreshReference();\n    }\n\n    public async maximize(model: AllParentTypes): Promise<void> {\n        const controller = getData(this, model).controller;\n\n        await controller.maximizeItem(getData(this, model).id);\n    }\n\n    public async restore(model: AllParentTypes): Promise<void> {\n        const controller = getData(this, model).controller;\n\n        await controller.restoreItem(getData(this, model).id);\n    }\n\n    public async close(model: SubParentTypes): Promise<void> {\n        const modelData = getData(this, model) as ParentPrivateData;\n\n        const controller = getData(this, model).controller;\n\n        await controller.closeItem(modelData.id);\n\n        if (modelData.parent instanceof Workspace) {\n            await modelData.parent.refreshReference();\n        } else {\n            await this.getMyWorkspace(modelData.parent).refreshReference();\n        }\n    }\n\n    private transformDefinition(type: \"group\" | \"row\" | \"column\", definition?: Glue42Workspaces.BoxDefinition | ParentBuilder): Glue42Workspaces.BoxDefinition {\n        let parentDefinition: Glue42Workspaces.BoxDefinition;\n\n        if (typeof definition === \"undefined\") {\n            parentDefinition = { type, children: [] };\n        } else if (definition instanceof ParentBuilder) {\n            parentDefinition = definition.serialize();\n        } else {\n            if (typeof definition.type === \"undefined\") {\n                definition.type = type;\n            }\n            parentDefinition = strictParentDefinitionDecoder.runWithException(definition);\n            parentDefinition.children = parentDefinition.children || [];\n        }\n\n        return parentDefinition;\n    }\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Workspace } from \"../models/workspace\";\r\nimport { WorkspaceSnapshotResult, WorkspaceCreateConfigProtocol, FrameSummaryResult, AddItemResult, WorkspaceSummariesResult, WorkspaceSummaryResult, SimpleWindowOperationSuccessResult, FrameSnapshotResult, SwimlaneWindowSnapshotConfig, ParentSnapshotConfig } from \"../types/protocol\";\r\nimport { OPERATIONS } from \"../communication/constants\";\r\nimport { FrameCreateConfig, WorkspaceIoCCreateConfig, WindowCreateConfig, ParentCreateConfig } from \"../types/ioc\";\r\nimport { IoC } from \"../shared/ioc\";\r\nimport { Bridge } from \"../communication/bridge\";\r\nimport { GDWindow, WindowsAPI, ContextsAPI, LayoutsAPI } from \"../types/glue\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { Frame } from \"../models/frame\";\r\nimport { RefreshChildrenConfig } from \"../types/privateData\";\r\nimport { Child } from \"../types/builders\";\r\nimport { PrivateDataManager } from \"../shared/privateDataManager\";\r\nimport { Window } from \"../models/window\";\r\nimport { UnsubscribeFunction } from \"callback-registry\";\r\n\r\nexport class BaseController {\r\n\r\n    constructor(\r\n        private readonly ioc: IoC,\r\n        private readonly windows: WindowsAPI,\r\n        private readonly contexts: ContextsAPI,\r\n        private readonly layouts: LayoutsAPI,\r\n    ) { }\r\n\r\n    private get bridge(): Bridge {\r\n        return this.ioc.bridge;\r\n    }\r\n\r\n    private get privateDataManager(): PrivateDataManager {\r\n        return this.ioc.privateDataManager;\r\n    }\r\n\r\n    public checkIsWindowLoaded(windowId: string): boolean {\r\n        return windowId && this.windows.list().some((win) => win.id === windowId);\r\n    }\r\n\r\n    public async createWorkspace(createConfig: WorkspaceCreateConfigProtocol): Promise<Workspace> {\r\n        const snapshot = await this.bridge.send<WorkspaceSnapshotResult>(OPERATIONS.createWorkspace.name, createConfig);\r\n\r\n        const frameConfig: FrameCreateConfig = {\r\n            summary: snapshot.frameSummary\r\n        };\r\n        const frame = this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n        const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n        return this.ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n    }\r\n\r\n    public async restoreWorkspace(name: string, options: Glue42Workspaces.RestoreWorkspaceConfig): Promise<Workspace> {\r\n        const snapshot = await this.bridge.send<WorkspaceSnapshotResult>(OPERATIONS.openWorkspace.name, { name, restoreOptions: options });\r\n\r\n        const frameSummary = await this.bridge.send<FrameSummaryResult>(OPERATIONS.getFrameSummary.name, { itemId: snapshot.config.frameId });\r\n\r\n        const frameConfig: FrameCreateConfig = {\r\n            summary: frameSummary\r\n        };\r\n        const frame = this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n        const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n        return this.ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n    }\r\n\r\n    public async add(type: \"container\" | \"window\", parentId: string, parentType: \"row\" | \"column\" | \"group\" | \"workspace\", definition: Glue42Workspaces.WorkspaceWindowDefinition | Glue42Workspaces.BoxDefinition): Promise<AddItemResult> {\r\n        let operationName: string;\r\n        const operationArgs = { definition, parentId, parentType };\r\n\r\n        if (type === \"window\") {\r\n            operationName = OPERATIONS.addWindow.name;\r\n        } else if (type === \"container\") {\r\n            operationName = OPERATIONS.addContainer.name;\r\n        } else {\r\n            throw new Error(`Unrecognized add type: ${type}`);\r\n        }\r\n\r\n        return await this.bridge.send<AddItemResult>(operationName, operationArgs);\r\n    }\r\n\r\n    public async getFrame(windowId: string): Promise<Frame> {\r\n        const frameSummary = await this.bridge.send<FrameSummaryResult>(OPERATIONS.getFrameSummary.name, { itemId: windowId });\r\n\r\n        const frameConfig: FrameCreateConfig = {\r\n            summary: frameSummary\r\n        };\r\n        return this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n    }\r\n\r\n    public getFrames(allFrameSummaries: FrameSummaryResult[], predicate?: (frame: Frame) => boolean): Frame[] {\r\n\r\n        return allFrameSummaries.reduce<Frame[]>((frames, frameSummary) => {\r\n\r\n            const frameConfig: FrameCreateConfig = {\r\n                summary: frameSummary\r\n            };\r\n            const frameToCheck = this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n            if (!predicate || predicate(frameToCheck)) {\r\n                frames.push(frameToCheck);\r\n            }\r\n\r\n            return frames;\r\n        }, []);\r\n    }\r\n\r\n    public getAllWorkspaceSummaries(...bridgeResults: WorkspaceSummariesResult[]): Glue42Workspaces.WorkspaceSummary[] {\r\n\r\n        const allSummaries = bridgeResults.reduce<WorkspaceSummaryResult[]>((summaries, summaryResult) => {\r\n            summaries.push(...summaryResult.summaries);\r\n            return summaries;\r\n        }, []);\r\n\r\n        return allSummaries.map<Glue42Workspaces.WorkspaceSummary>((summary) => {\r\n            return {\r\n                id: summary.id,\r\n                frameId: summary.config.frameId,\r\n                positionIndex: summary.config.positionIndex,\r\n                title: summary.config.title,\r\n                layoutName: summary.config.layoutName\r\n            };\r\n        });\r\n    }\r\n\r\n    public handleOnSaved(callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): UnsubscribeFunction {\r\n        const wrappedCallback = (layout: Glue42Workspaces.WorkspaceLayout): void => {\r\n            if (layout.type !== \"Workspace\") {\r\n                return;\r\n            }\r\n\r\n            callback(layout);\r\n        };\r\n\r\n        const addedUnSub: UnsubscribeFunction = this.layouts.onAdded(wrappedCallback);\r\n        const changedUnSub: UnsubscribeFunction = this.layouts.onChanged(wrappedCallback);\r\n\r\n        return (): void => {\r\n            addedUnSub();\r\n            changedUnSub();\r\n        };\r\n    }\r\n\r\n    public handleOnRemoved(callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): UnsubscribeFunction {\r\n        const wrappedCallback = (layout: Glue42Workspaces.WorkspaceLayout): void => {\r\n            if (layout.type !== \"Workspace\") {\r\n                return;\r\n            }\r\n\r\n            callback(layout);\r\n        };\r\n\r\n        return this.layouts.onRemoved(wrappedCallback);\r\n    }\r\n\r\n    public async fetchWorkspace(workspaceId: string): Promise<Workspace> {\r\n\r\n        const snapshot = await this.bridge.send<WorkspaceSnapshotResult>(OPERATIONS.getWorkspaceSnapshot.name, { itemId: workspaceId });\r\n\r\n        const frameConfig: FrameCreateConfig = {\r\n            summary: snapshot.frameSummary\r\n        };\r\n\r\n        const frame = this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n        const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n        return this.ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n\r\n    }\r\n\r\n    public async bundleTo(type: \"row\" | \"column\", workspaceId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.bundleWorkspace.name, { type, workspaceId });\r\n    }\r\n\r\n    public getWorkspaceContext(workspaceId: string): Promise<any> {\r\n        const contextName = `___workspace___${workspaceId}`;\r\n        return this.contexts.get(contextName);\r\n    }\r\n\r\n    public setWorkspaceContext(workspaceId: string, data: any): Promise<void> {\r\n        const contextName = `___workspace___${workspaceId}`;\r\n        return this.contexts.set(contextName, data);\r\n    }\r\n\r\n    public updateWorkspaceContext(workspaceId: string, data: any): Promise<void> {\r\n        const contextName = `___workspace___${workspaceId}`;\r\n        return this.contexts.update(contextName, data);\r\n    }\r\n\r\n    public subscribeWorkspaceContextUpdated(workspaceId: string, callback: (data: any) => void): Promise<UnsubscribeFunction> {\r\n        const contextName = `___workspace___${workspaceId}`;\r\n        return this.contexts.subscribe(contextName, callback);\r\n    }\r\n\r\n    public async restoreItem(itemId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.restoreItem.name, { itemId });\r\n    }\r\n\r\n    public async maximizeItem(itemId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.maximizeItem.name, { itemId });\r\n    }\r\n\r\n    public async focusItem(itemId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.focusItem.name, { itemId });\r\n    }\r\n\r\n    public async closeItem(itemId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.closeItem.name, { itemId });\r\n    }\r\n\r\n    public async resizeItem(itemId: string, config: Glue42Workspaces.ResizeConfig): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.resizeItem.name, Object.assign({}, { itemId }, config));\r\n    }\r\n\r\n    public async moveFrame(itemId: string, config: Glue42Workspaces.MoveConfig): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.moveFrame.name, Object.assign({}, { itemId }, config));\r\n    }\r\n\r\n    public getGDWindow(itemId: string): GDWindow {\r\n        return this.windows.list().find((gdWindow) => gdWindow.id === itemId);\r\n    }\r\n\r\n    public async forceLoadWindow(itemId: string): Promise<string> {\r\n        const controlResult = await this.bridge.send<SimpleWindowOperationSuccessResult>(OPERATIONS.forceLoadWindow.name, { itemId });\r\n\r\n        return controlResult.windowId;\r\n    }\r\n\r\n    public async ejectWindow(itemId: string): Promise<SimpleWindowOperationSuccessResult> {\r\n        return await this.bridge.send<SimpleWindowOperationSuccessResult>(OPERATIONS.ejectWindow.name, { itemId });\r\n    }\r\n\r\n    public async moveWindowTo(itemId: string, newParentId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.moveWindowTo.name, { itemId, containerId: newParentId });\r\n    }\r\n\r\n    public async getSnapshot(itemId: string, type: \"workspace\" | \"frame\"): Promise<WorkspaceSnapshotResult | FrameSnapshotResult> {\r\n        let result: WorkspaceSnapshotResult | FrameSnapshotResult;\r\n\r\n        if (type === \"workspace\") {\r\n            result = await this.bridge.send<WorkspaceSnapshotResult>(OPERATIONS.getWorkspaceSnapshot.name, { itemId });\r\n        } else if (type === \"frame\") {\r\n            result = await this.bridge.send<FrameSnapshotResult>(OPERATIONS.getFrameSnapshot.name, { itemId });\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    public async setItemTitle(itemId: string, title: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.setItemTitle.name, { itemId, title });\r\n    }\r\n\r\n    public refreshChildren(config: RefreshChildrenConfig): Child[] {\r\n        const { parent, children, existingChildren, workspace } = config;\r\n        if (parent instanceof Window) {\r\n            return;\r\n        }\r\n\r\n        const newChildren = children.map((newChildSnapshot) => {\r\n            let childToAdd = existingChildren.find((c) => c.id === newChildSnapshot.id);\r\n            const childType = newChildSnapshot.type;\r\n\r\n            if (childToAdd) {\r\n                this.privateDataManager.remapChild(childToAdd, {\r\n                    parent,\r\n                    children: [],\r\n                    config: newChildSnapshot.config\r\n                });\r\n            } else {\r\n                if (childType === \"window\") {\r\n                    const createConfig: WindowCreateConfig = {\r\n                        id: newChildSnapshot.id,\r\n                        parent,\r\n                        frame: workspace.frame,\r\n                        workspace,\r\n                        config: newChildSnapshot.config as SwimlaneWindowSnapshotConfig\r\n                    };\r\n                    childToAdd = this.ioc.getModel<\"child\">(childType, createConfig);\r\n                } else {\r\n                    const createConfig: ParentCreateConfig = {\r\n                        id: newChildSnapshot.id,\r\n                        children: [],\r\n                        parent,\r\n                        frame: workspace.frame,\r\n                        workspace,\r\n                        config: newChildSnapshot.config as ParentSnapshotConfig\r\n                    };\r\n                    childToAdd = this.ioc.getModel<\"child\">(childType, createConfig);\r\n                }\r\n\r\n            }\r\n\r\n            if (childType !== \"window\") {\r\n                this.refreshChildren({\r\n                    workspace, existingChildren,\r\n                    children: newChildSnapshot.children,\r\n                    parent: childToAdd\r\n                });\r\n            }\r\n\r\n            return childToAdd;\r\n        });\r\n\r\n        if (parent instanceof Workspace) {\r\n            return newChildren;\r\n        } else {\r\n            this.privateDataManager.remapChild(parent, { children: newChildren });\r\n            return newChildren;\r\n        }\r\n    }\r\n\r\n    public iterateFindChild(children: Child[], predicate: (child: Child) => boolean): Child {\r\n        let foundChild = children.find((child) => predicate(child));\r\n\r\n        if (foundChild) {\r\n            return foundChild;\r\n        }\r\n\r\n        children.some((child) => {\r\n            if (child instanceof Window) {\r\n                return false;\r\n            }\r\n\r\n            foundChild = this.iterateFindChild(child.children, predicate);\r\n\r\n            if (foundChild) {\r\n                return true;\r\n            }\r\n        });\r\n\r\n        return foundChild;\r\n    }\r\n\r\n    public iterateFilterChildren(children: Child[], predicate: (child: Child) => boolean): Child[] {\r\n        const foundChildren = children.filter((child) => predicate(child));\r\n\r\n        const grandChildren = children.reduce<Child[]>((innerFound, child) => {\r\n            if (child instanceof Window) {\r\n                return innerFound;\r\n            }\r\n\r\n            innerFound.push(...this.iterateFilterChildren(child.children, predicate));\r\n\r\n            return innerFound;\r\n        }, []);\r\n\r\n        foundChildren.push(...grandChildren);\r\n\r\n        return foundChildren;\r\n    }\r\n\r\n    public notifyWindowAdded(windowId: string): Promise<void> {\r\n        return new Promise((resolve) => {\r\n\r\n            const alreadyPresent: boolean = this.windows.list().some((win) => win.id === windowId);\r\n\r\n            if (alreadyPresent) {\r\n                return resolve();\r\n            }\r\n\r\n            const unsubscribe: UnsubscribeFunction = this.windows.onWindowAdded((win) => {\r\n\r\n                if (win.id !== windowId) {\r\n                    return;\r\n                }\r\n\r\n                if (unsubscribe) {\r\n                    unsubscribe();\r\n                }\r\n\r\n                resolve();\r\n            });\r\n        });\r\n    }\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Bridge } from \"../communication/bridge\";\r\nimport { IsWindowInSwimlaneResult, WorkspaceCreateConfigProtocol, WorkspaceSnapshotResult, FrameSummariesResult, WorkspaceSummariesResult, LayoutSummariesResult, ExportedLayoutsResult, FrameSnapshotResult, AddItemResult, WindowStreamData, FrameStateResult } from \"../types/protocol\";\r\nimport { OPERATIONS } from \"../communication/constants\";\r\nimport { SubscriptionConfig, WorkspaceEventType, WorkspaceEventAction } from \"../types/subscription\";\r\nimport { Workspace } from \"../models/workspace\";\r\nimport { Frame } from \"../models/frame\";\r\nimport { Child } from \"../types/builders\";\r\nimport { RefreshChildrenConfig } from \"../types/privateData\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { WorkspacesController } from \"../types/controller\";\r\nimport { GDWindow } from \"../types/glue\";\r\nimport { BaseController } from \"./base\";\r\nimport { UnsubscribeFunction } from \"callback-registry\";\r\n\r\nexport class MainController implements WorkspacesController {\r\n\r\n    constructor(\r\n        private readonly bridge: Bridge,\r\n        private readonly base: BaseController\r\n    ) { }\r\n\r\n    public checkIsWindowLoaded(windowId: string): boolean {\r\n        return this.base.checkIsWindowLoaded(windowId);\r\n    }\r\n\r\n    public async checkIsInSwimlane(windowId: string): Promise<boolean> {\r\n\r\n        const controlResult = await this.bridge.send<IsWindowInSwimlaneResult>(OPERATIONS.isWindowInWorkspace.name, { itemId: windowId });\r\n\r\n        return controlResult.inWorkspace;\r\n    }\r\n\r\n    public async createWorkspace(definition: Glue42Workspaces.WorkspaceDefinition, saveConfig?: Glue42Workspaces.WorkspaceCreateConfig): Promise<Workspace> {\r\n        const createConfig: WorkspaceCreateConfigProtocol = Object.assign({}, definition, { saveConfig });\r\n\r\n        return await this.base.createWorkspace(createConfig);\r\n    }\r\n\r\n    public async restoreWorkspace(name: string, options?: Glue42Workspaces.RestoreWorkspaceConfig): Promise<Workspace> {\r\n        const allLayouts = await this.getLayoutSummaries();\r\n\r\n        const layoutExists = allLayouts.some((summary) => summary.name === name);\r\n\r\n        if (!layoutExists) {\r\n            throw new Error(`This layout: ${name} cannot be restored, because it doesn't exist.`);\r\n        }\r\n\r\n        if (options?.frameId) {\r\n            const allFrameSummaries = await this.bridge.send<FrameSummariesResult>(OPERATIONS.getAllFramesSummaries.name);\r\n\r\n            const foundMatchingFrame = allFrameSummaries.summaries.some((summary) => summary.id === options.frameId);\r\n\r\n            if (!foundMatchingFrame) {\r\n                throw new Error(`Cannot reuse the frame with id: ${options.frameId}, because there is no frame with that ID found`);\r\n            }\r\n        }\r\n\r\n        return await this.base.restoreWorkspace(name, options);\r\n    }\r\n\r\n    public async add(type: \"container\" | \"window\", parentId: string, parentType: \"row\" | \"column\" | \"group\" | \"workspace\", definition: Glue42Workspaces.WorkspaceWindowDefinition | Glue42Workspaces.BoxDefinition): Promise<AddItemResult> {\r\n        return await this.base.add(type, parentId, parentType, definition);\r\n    }\r\n\r\n    public processLocalSubscription(config: SubscriptionConfig, levelId: string): Promise<Glue42Workspaces.Unsubscribe> {\r\n        return window.glue42gd ?\r\n            this.handleEnterpriseLocalSubscription(config, levelId) :\r\n            this.handleCoreLocalSubscription(config, levelId);\r\n    }\r\n\r\n    public processGlobalSubscription(callback: (callbackData: unknown) => void, eventType: WorkspaceEventType, action: WorkspaceEventAction): Promise<Glue42Workspaces.Unsubscribe> {\r\n        return window.glue42gd ?\r\n            this.handleEnterpriseGlobalSubscription(callback, eventType, action) :\r\n            this.handleCoreGlobalSubscription(callback, eventType, action);\r\n    }\r\n\r\n    public async getFrame(selector: { windowId?: string; predicate?: (frame: Frame) => boolean }): Promise<Frame> {\r\n\r\n        if (selector.windowId) {\r\n            return await this.base.getFrame(selector.windowId);\r\n        }\r\n\r\n        if (selector.predicate) {\r\n            return (await this.getFrames(selector.predicate))[0];\r\n        }\r\n\r\n        throw new Error(`The provided selector is not valid: ${JSON.stringify(selector)}`);\r\n    }\r\n\r\n    public async getFrames(predicate?: (frame: Frame) => boolean): Promise<Frame[]> {\r\n\r\n        const allFrameSummaries = await this.bridge.send<FrameSummariesResult>(OPERATIONS.getAllFramesSummaries.name);\r\n\r\n        return this.base.getFrames(allFrameSummaries.summaries, predicate);\r\n    }\r\n\r\n    public async getWorkspace(predicate: (workspace: Workspace) => boolean): Promise<Workspace> {\r\n        let foundWorkspace: Workspace;\r\n\r\n        await this.iterateWorkspaces((wsp, end) => {\r\n            if (predicate(wsp)) {\r\n                foundWorkspace = wsp;\r\n                end();\r\n            }\r\n        });\r\n\r\n        return foundWorkspace;\r\n    }\r\n\r\n    public async getWorkspaces(predicate?: (workspace: Workspace) => boolean): Promise<Workspace[]> {\r\n        const matchingWorkspaces: Workspace[] = [] as Workspace[];\r\n\r\n        await this.iterateWorkspaces((wsp) => {\r\n            if (!predicate || predicate(wsp)) {\r\n                matchingWorkspaces.push(wsp);\r\n            }\r\n        });\r\n\r\n        return matchingWorkspaces;\r\n    }\r\n\r\n    public async getAllWorkspaceSummaries(): Promise<Glue42Workspaces.WorkspaceSummary[]> {\r\n\r\n        const allSummariesResult = await this.bridge.send<WorkspaceSummariesResult>(OPERATIONS.getAllWorkspacesSummaries.name, {});\r\n\r\n        return this.base.getAllWorkspaceSummaries(allSummariesResult);\r\n    }\r\n\r\n    public async getWindow(predicate: (swimlaneWindow: Glue42Workspaces.WorkspaceWindow) => boolean): Promise<Glue42Workspaces.WorkspaceWindow> {\r\n        let resultWindow: Glue42Workspaces.WorkspaceWindow;\r\n\r\n        await this.iterateWorkspaces((wsp, end) => {\r\n            const foundWindow = wsp.getWindow(predicate);\r\n\r\n            if (foundWindow) {\r\n                resultWindow = foundWindow;\r\n                end();\r\n            }\r\n        });\r\n\r\n        return resultWindow;\r\n    }\r\n\r\n    public async getParent(predicate: (parent: Glue42Workspaces.WorkspaceBox) => boolean): Promise<Glue42Workspaces.WorkspaceBox> {\r\n        let resultParent: Glue42Workspaces.WorkspaceBox;\r\n\r\n        await this.iterateWorkspaces((wsp, end) => {\r\n\r\n            const foundParent = wsp.getBox(predicate);\r\n\r\n            if (foundParent) {\r\n                resultParent = foundParent;\r\n                end();\r\n            }\r\n        });\r\n\r\n        return resultParent;\r\n    }\r\n\r\n    public async getLayoutSummaries(): Promise<Glue42Workspaces.WorkspaceLayoutSummary[]> {\r\n        const allLayouts = await this.bridge.send<LayoutSummariesResult>(OPERATIONS.getAllLayoutsSummaries.name);\r\n        return allLayouts.summaries;\r\n    }\r\n\r\n    public async deleteLayout(name: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.deleteLayout.name, { name });\r\n    }\r\n\r\n    public async exportLayout(predicate?: (layout: Glue42Workspaces.WorkspaceLayout) => boolean): Promise<Glue42Workspaces.WorkspaceLayout[]> {\r\n        const allLayoutsResult = await this.bridge.send<ExportedLayoutsResult>(OPERATIONS.exportAllLayouts.name);\r\n        return allLayoutsResult.layouts.reduce<Glue42Workspaces.WorkspaceLayout[]>((matchingLayouts, layout) => {\r\n\r\n            if (!predicate || predicate(layout)) {\r\n                matchingLayouts.push(layout);\r\n            }\r\n\r\n            return matchingLayouts;\r\n        }, []);\r\n    }\r\n\r\n    public async saveLayout(config: Glue42Workspaces.WorkspaceLayoutSaveConfig): Promise<Glue42Workspaces.WorkspaceLayout> {\r\n        return await this.bridge.send(OPERATIONS.saveLayout.name, config);\r\n    }\r\n\r\n    public async importLayout(layouts: Glue42Workspaces.WorkspaceLayout[]): Promise<void> {\r\n        await Promise.all(layouts.map((layout) => this.bridge.send(OPERATIONS.importLayout.name, layout)));\r\n    }\r\n\r\n    public handleOnSaved(callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): UnsubscribeFunction {\r\n        return this.base.handleOnSaved(callback);\r\n    }\r\n\r\n    public handleOnRemoved(callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): UnsubscribeFunction {\r\n        return this.base.handleOnRemoved(callback);\r\n    }\r\n\r\n    public async bundleTo(type: \"row\" | \"column\", workspaceId: string): Promise<void> {\r\n        return await this.base.bundleTo(type, workspaceId);\r\n    }\r\n\r\n    public getWorkspaceContext(workspaceId: string): Promise<any> {\r\n        return this.base.getWorkspaceContext(workspaceId);\r\n    }\r\n\r\n    public setWorkspaceContext(workspaceId: string, data: any): Promise<void> {\r\n        return this.base.setWorkspaceContext(workspaceId, data);\r\n    }\r\n\r\n    public updateWorkspaceContext(workspaceId: string, data: any): Promise<void> {\r\n        return this.base.updateWorkspaceContext(workspaceId, data);\r\n    }\r\n\r\n    public subscribeWorkspaceContextUpdated(workspaceId: string, callback: (data: any) => void): Promise<import(\"callback-registry\").UnsubscribeFunction> {\r\n        return this.base.subscribeWorkspaceContextUpdated(workspaceId, callback);\r\n    }\r\n\r\n    public async restoreItem(itemId: string): Promise<void> {\r\n        return await this.base.restoreItem(itemId);\r\n    }\r\n\r\n    public async maximizeItem(itemId: string): Promise<void> {\r\n        return await this.base.maximizeItem(itemId);\r\n    }\r\n\r\n    public async focusItem(itemId: string): Promise<void> {\r\n        return await this.base.focusItem(itemId);\r\n    }\r\n\r\n    public async changeFrameState(frameId: string, state: Glue42Workspaces.FrameState): Promise<void> {\r\n        await this.bridge.send<void>(OPERATIONS.changeFrameState.name, { frameId, requestedState: state });\r\n    }\r\n\r\n    public async getFrameState(frameId: string): Promise<Glue42Workspaces.FrameState> {\r\n        const frameResult = await this.bridge.send<FrameStateResult>(OPERATIONS.getFrameState.name, { itemId: frameId });\r\n        return frameResult.state;\r\n    }\r\n\r\n    public async closeItem(itemId: string): Promise<void> {\r\n        return await this.base.closeItem(itemId);\r\n    }\r\n\r\n    public async resizeItem(itemId: string, config: Glue42Workspaces.ResizeConfig): Promise<void> {\r\n        return await this.base.resizeItem(itemId, config);\r\n    }\r\n\r\n    public async moveFrame(itemId: string, config: Glue42Workspaces.MoveConfig): Promise<void> {\r\n        return await this.base.moveFrame(itemId, config);\r\n    }\r\n\r\n    public getGDWindow(itemId: string): GDWindow {\r\n        return this.base.getGDWindow(itemId);\r\n    }\r\n\r\n    public async forceLoadWindow(itemId: string): Promise<string> {\r\n        const windowId = await this.base.forceLoadWindow(itemId);\r\n\r\n        await this.base.notifyWindowAdded(windowId);\r\n\r\n        return windowId;\r\n    }\r\n\r\n    public async ejectWindow(itemId: string): Promise<string> {\r\n        const windowId: string = (await this.base.ejectWindow(itemId)).windowId;\r\n\r\n        await this.base.notifyWindowAdded(windowId);\r\n\r\n        return windowId;\r\n    }\r\n\r\n    public async moveWindowTo(itemId: string, newParentId: string): Promise<void> {\r\n        return await this.base.moveWindowTo(itemId, newParentId);\r\n    }\r\n\r\n    public async getSnapshot(itemId: string, type: \"workspace\" | \"frame\"): Promise<WorkspaceSnapshotResult | FrameSnapshotResult> {\r\n        return await this.base.getSnapshot(itemId, type);\r\n    }\r\n\r\n    public async setItemTitle(itemId: string, title: string): Promise<void> {\r\n        return await this.base.setItemTitle(itemId, title);\r\n    }\r\n\r\n    public refreshChildren(config: RefreshChildrenConfig): Child[] {\r\n        return this.base.refreshChildren(config);\r\n    }\r\n\r\n    public iterateFindChild(children: Child[], predicate: (child: Child) => boolean): Child {\r\n        return this.base.iterateFindChild(children, predicate);\r\n    }\r\n\r\n    public iterateFilterChildren(children: Child[], predicate: (child: Child) => boolean): Child[] {\r\n        return this.base.iterateFilterChildren(children, predicate);\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    private async handleCoreLocalSubscription(config: SubscriptionConfig, levelId: string): Promise<Glue42Workspaces.Unsubscribe> {\r\n        await this.bridge.createCoreEventSubscription();\r\n\r\n        config.scopeId = config.scopeId || levelId;\r\n\r\n        if (config.eventType === \"window\" && config.action === \"loaded\") {\r\n            const originalCB = config.callback;\r\n\r\n            const wrappedCB = async (callbackData: WindowStreamData): Promise<void> => {\r\n\r\n                await this.base.notifyWindowAdded(callbackData.windowSummary.config.windowId);\r\n\r\n                originalCB(callbackData);\r\n            };\r\n\r\n            config.callback = wrappedCB;\r\n        }\r\n\r\n        return this.bridge.handleCoreSubscription(config);\r\n    }\r\n\r\n    private handleEnterpriseLocalSubscription(config: SubscriptionConfig, levelId: string): Promise<Glue42Workspaces.Unsubscribe> {\r\n        config.scopeId = config.scopeId || levelId;\r\n\r\n        if (config.eventType === \"window\" && config.action === \"loaded\") {\r\n            const originalCB = config.callback;\r\n\r\n            const wrappedCB = async (callbackData: WindowStreamData): Promise<void> => {\r\n                await this.base.notifyWindowAdded(callbackData.windowSummary.config.windowId);\r\n                originalCB(callbackData);\r\n            };\r\n\r\n            config.callback = wrappedCB;\r\n        }\r\n\r\n        return this.bridge.subscribe(config);\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    private async handleCoreGlobalSubscription(callback: (callbackData: unknown) => void, eventType: WorkspaceEventType, action: WorkspaceEventAction): Promise<Glue42Workspaces.Unsubscribe> {\r\n        await this.bridge.createCoreEventSubscription();\r\n\r\n        const config: SubscriptionConfig = {\r\n            eventType, callback, action,\r\n            scope: \"global\",\r\n        };\r\n\r\n        if (eventType === \"window\" && action === \"loaded\") {\r\n            const wrappedCB = async (callbackData: WindowStreamData): Promise<void> => {\r\n\r\n                await this.base.notifyWindowAdded(callbackData.windowSummary.config.windowId);\r\n\r\n                callback(callbackData);\r\n            };\r\n\r\n            config.callback = wrappedCB;\r\n        }\r\n\r\n        return this.bridge.handleCoreSubscription(config);\r\n    }\r\n\r\n    private handleEnterpriseGlobalSubscription(callback: (callbackData: unknown) => void, eventType: WorkspaceEventType, action: WorkspaceEventAction): Promise<Glue42Workspaces.Unsubscribe> {\r\n        const config: SubscriptionConfig = {\r\n            eventType, callback, action,\r\n            scope: \"global\",\r\n        };\r\n\r\n        if (eventType === \"window\" && action === \"loaded\") {\r\n            const wrappedCB = async (callbackData: WindowStreamData): Promise<void> => {\r\n\r\n                await this.base.notifyWindowAdded(callbackData.windowSummary.config.windowId);\r\n\r\n                callback(callbackData);\r\n            };\r\n\r\n            config.callback = wrappedCB;\r\n        }\r\n\r\n        return this.bridge.subscribe(config);\r\n    }\r\n\r\n    private async iterateWorkspaces(callback: (workspace: Workspace, end: () => void) => void): Promise<void> {\r\n        let ended = false;\r\n\r\n        const end = (): void => { ended = true; };\r\n\r\n        const workspaceSummaries = await this.getAllWorkspaceSummaries();\r\n\r\n        for (const summary of workspaceSummaries) {\r\n            if (ended) {\r\n                return;\r\n            }\r\n\r\n            const wsp = await this.base.fetchWorkspace(summary.id);\r\n\r\n            callback(wsp, end);\r\n        }\r\n    }\r\n}\r\n","import { WebWindowModel } from \"../windows/webWindow\";\r\nimport { LibController, LibDomains } from \"./types\";\r\nimport { WindowsController } from \"../windows/controller\";\r\nimport { Glue42Core } from \"@glue42/core\";\r\nimport { GlueBridge } from \"../communication/bridge\";\r\nimport { AppManagerController } from \"../appManager/controller\";\r\nimport { WindowProjection } from \"../windows/protocol\";\r\nimport { ApplicationData, InstanceData } from \"../appManager/protocol\";\r\nimport { Glue42Web } from \"../../web\";\r\nimport { InstanceModel } from \"../appManager/instance\";\r\nimport { ApplicationModel } from \"../appManager/application\";\r\nimport { LayoutsController } from \"../layouts/controller\";\r\n\r\n\r\nexport class IoC {\r\n    private _windowsControllerInstance!: WindowsController;\r\n    private _appManagerControllerInstance!: AppManagerController;\r\n    private _layoutsControllerInstance!: LayoutsController;\r\n    private _bridgeInstance!: GlueBridge;\r\n\r\n    public controllers: { [key in LibDomains]: LibController } = {\r\n        windows: this.windowsController,\r\n        appManager: this.appManagerController,\r\n        layouts: this.layoutsController\r\n    }\r\n\r\n    constructor(private readonly coreGlue: Glue42Core.GlueCore) { }\r\n\r\n    public get windowsController(): WindowsController {\r\n        if (!this._windowsControllerInstance) {\r\n            this._windowsControllerInstance = new WindowsController();\r\n        }\r\n\r\n        return this._windowsControllerInstance;\r\n    }\r\n\r\n    public get appManagerController(): AppManagerController {\r\n        if (!this._appManagerControllerInstance) {\r\n            this._appManagerControllerInstance = new AppManagerController();\r\n        }\r\n\r\n        return this._appManagerControllerInstance;\r\n    }\r\n\r\n    public get layoutsController(): LayoutsController {\r\n        if (!this._layoutsControllerInstance) {\r\n            this._layoutsControllerInstance = new LayoutsController();\r\n        }\r\n\r\n        return this._layoutsControllerInstance;\r\n    }\r\n\r\n    public get bridge(): GlueBridge {\r\n        if (!this._bridgeInstance) {\r\n            this._bridgeInstance = new GlueBridge(this.coreGlue);\r\n        }\r\n\r\n        return this._bridgeInstance;\r\n    }\r\n\r\n    public async buildWebWindow(id: string, name: string): Promise<WindowProjection> {\r\n\r\n        const model = new WebWindowModel(id, name, this.bridge);\r\n\r\n        const api = await model.toApi();\r\n\r\n        return { id, model, api };\r\n    }\r\n\r\n    public async buildApplication(app: ApplicationData): Promise<Glue42Web.AppManager.Application> {\r\n\r\n        const application = (new ApplicationModel(app, [], this.appManagerController)).toApi();\r\n\r\n        const instances = app.instances.map((instanceData) => this.buildInstance(instanceData, application));\r\n\r\n        application.instances.push(...instances);\r\n\r\n        return application;\r\n    }\r\n\r\n    public buildInstance(instanceData: InstanceData, app: Glue42Web.AppManager.Application): Glue42Web.AppManager.Instance {\r\n        return (new InstanceModel(instanceData, this.bridge, app)).toApi();\r\n    }\r\n}","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { IoC } from \"./shared/ioc\";\nimport { checkThrowCallback, nonEmptyStringDecoder, workspaceLayoutDecoder, workspaceDefinitionDecoder, workspaceBuilderCreateConfigDecoder, builderConfigDecoder, restoreWorkspaceConfigDecoder, workspaceLayoutSaveConfigDecoder } from \"./shared/decoders\";\nimport { FrameStreamData, WorkspaceStreamData, WorkspaceSnapshotResult, WindowStreamData } from \"./types/protocol\";\nimport { FrameCreateConfig, WorkspaceIoCCreateConfig } from \"./types/ioc\";\nimport { Glue42Workspaces } from \"./../workspaces\";\nimport { WorkspacesController } from \"./types/controller\";\n\nexport const composeAPI = (glue: any, ioc: IoC): Glue42Workspaces.API => {\n\n    const controller: WorkspacesController = ioc.controller;\n\n    const inWorkspace = (): Promise<boolean> => {\n        const myId: string = glue.windows.my().id;\n\n        if (!myId) {\n            throw new Error(\"Cannot get my frame, because my id is undefined.\");\n        }\n\n        return controller.checkIsInSwimlane(myId);\n    };\n\n    const getBuilder = (config: Glue42Workspaces.BuilderConfig): Glue42Workspaces.WorkspaceBuilder | Glue42Workspaces.BoxBuilder => {\n        const validatedConfig = builderConfigDecoder.runWithException(config);\n\n        return ioc.getBuilder(validatedConfig);\n    };\n\n    const getMyFrame = async (): Promise<Glue42Workspaces.Frame> => {\n        const windowId: string = glue.windows.my().id;\n\n        if (!windowId) {\n            throw new Error(\"Cannot get my frame, because my id is undefined.\");\n        }\n\n        const isInSwimlane = await controller.checkIsInSwimlane(windowId);\n\n        if (!isInSwimlane) {\n            throw new Error(\"Cannot fetch your frame, because this window is not in a workspace\");\n        }\n\n        return controller.getFrame({ windowId });\n    };\n\n    const getFrame = async (predicate: (frame: Glue42Workspaces.Frame) => boolean): Promise<Glue42Workspaces.Frame> => {\n        checkThrowCallback(predicate);\n\n        return controller.getFrame({ predicate });\n    };\n\n    const getAllFrames = async (predicate?: (frame: Glue42Workspaces.Frame) => boolean): Promise<Glue42Workspaces.Frame[]> => {\n        checkThrowCallback(predicate, true);\n\n        return controller.getFrames(predicate);\n    };\n\n    const getAllWorkspacesSummaries = (): Promise<Glue42Workspaces.WorkspaceSummary[]> => {\n        return controller.getAllWorkspaceSummaries();\n    };\n\n    const getMyWorkspace = async (): Promise<Glue42Workspaces.Workspace> => {\n        const myId: string = glue.windows.my().id;\n\n        if (!myId) {\n            throw new Error(\"Cannot get my workspace, because my id is undefined.\");\n        }\n\n        const isInSwimlane = await controller.checkIsInSwimlane(myId);\n\n        if (!isInSwimlane) {\n            throw new Error(\"Cannot fetch your workspace, because this window is not in a workspace\");\n        }\n\n        return (await controller.getWorkspaces((wsp) => !!wsp.getWindow((w) => w.id === myId)))[0];\n    };\n\n    const getWorkspace = async (predicate: (workspace: Glue42Workspaces.Workspace) => boolean): Promise<Glue42Workspaces.Workspace> => {\n        checkThrowCallback(predicate);\n        return (await controller.getWorkspaces(predicate))[0];\n    };\n\n    const getAllWorkspaces = (predicate?: (workspace: Glue42Workspaces.Workspace) => boolean): Promise<Glue42Workspaces.Workspace[]> => {\n        checkThrowCallback(predicate, true);\n        return controller.getWorkspaces(predicate);\n    };\n\n    const getWindow = async (predicate: (swimlaneWindow: Glue42Workspaces.WorkspaceWindow) => boolean): Promise<Glue42Workspaces.WorkspaceWindow> => {\n        checkThrowCallback(predicate);\n        return controller.getWindow(predicate);\n    };\n\n    const getParent = async (predicate: (parent: Glue42Workspaces.WorkspaceBox) => boolean): Promise<Glue42Workspaces.WorkspaceBox> => {\n        checkThrowCallback(predicate);\n        return controller.getParent(predicate);\n    };\n\n    const restoreWorkspace = async (name: string, options?: Glue42Workspaces.RestoreWorkspaceConfig): Promise<Glue42Workspaces.Workspace> => {\n        nonEmptyStringDecoder.runWithException(name);\n        const validatedOptions = restoreWorkspaceConfigDecoder.runWithException(options);\n        return controller.restoreWorkspace(name, validatedOptions);\n    };\n\n    const createWorkspace = async (definition: Glue42Workspaces.WorkspaceDefinition, saveConfig?: Glue42Workspaces.WorkspaceCreateConfig): Promise<Glue42Workspaces.Workspace> => {\n        const validatedDefinition = workspaceDefinitionDecoder.runWithException(definition);\n        const validatedConfig = workspaceBuilderCreateConfigDecoder.runWithException(saveConfig);\n\n        return controller.createWorkspace(validatedDefinition, validatedConfig);\n    };\n\n    const layouts = {\n        getSummaries: (): Promise<Glue42Workspaces.WorkspaceLayoutSummary[]> => {\n            return controller.getLayoutSummaries();\n        },\n        delete: async (name: string): Promise<void> => {\n            nonEmptyStringDecoder.runWithException(name);\n            return controller.deleteLayout(name);\n        },\n        export: async (predicate?: (layout: Glue42Workspaces.WorkspaceLayout) => boolean): Promise<Glue42Workspaces.WorkspaceLayout[]> => {\n            checkThrowCallback(predicate, true);\n            return controller.exportLayout(predicate);\n        },\n        import: async (layouts: Glue42Workspaces.WorkspaceLayout[]): Promise<void> => {\n\n            if (!Array.isArray(layouts)) {\n                throw new Error(`The provided layouts argument is not an array: ${JSON.stringify(layouts)}`);\n            }\n\n            layouts.forEach((layout) => workspaceLayoutDecoder.runWithException(layout));\n            return controller.importLayout(layouts);\n        },\n        save: async (config: Glue42Workspaces.WorkspaceLayoutSaveConfig): Promise<Glue42Workspaces.WorkspaceLayout> => {\n            const verifiedConfig = workspaceLayoutSaveConfigDecoder.runWithException(config);\n            return controller.saveLayout(verifiedConfig);\n        },\n        onSaved: async (callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): Promise<Glue42Workspaces.Unsubscribe> => {\n            checkThrowCallback(callback);\n\n            return controller.handleOnSaved(callback);\n        },\n        onRemoved: async (callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): Promise<Glue42Workspaces.Unsubscribe> => {\n            checkThrowCallback(callback);\n\n            return controller.handleOnRemoved(callback);\n        }\n    };\n\n    const onFrameOpened = async (callback: (frame: Glue42Workspaces.Frame) => void): Promise<Glue42Workspaces.Unsubscribe> => {\n        checkThrowCallback(callback);\n\n        const wrappedCallback = (payload: FrameStreamData): void => {\n            const frameConfig: FrameCreateConfig = {\n                summary: payload.frameSummary\n            };\n            const frame = ioc.getModel<\"frame\">(\"frame\", frameConfig);\n            callback(frame);\n        };\n\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"frame\", \"opened\");\n        return unsubscribe;\n    };\n\n    const onFrameClosed = async (callback: (closed: { frameId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> => {\n        checkThrowCallback(callback);\n        const wrappedCallback = (payload: FrameStreamData): void => {\n            callback({ frameId: payload.frameSummary.id });\n        };\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"frame\", \"closed\");\n        return unsubscribe;\n    };\n\n    const onWorkspaceOpened = async (callback: (workspace: Glue42Workspaces.Workspace) => void): Promise<Glue42Workspaces.Unsubscribe> => {\n\n        checkThrowCallback(callback);\n        const wrappedCallback = async (payload: WorkspaceStreamData): Promise<void> => {\n            const frameConfig: FrameCreateConfig = {\n                summary: payload.frameSummary\n            };\n            const frame = ioc.getModel<\"frame\">(\"frame\", frameConfig);\n\n            const snapshot = (await controller.getSnapshot(payload.workspaceSummary.id, \"workspace\")) as WorkspaceSnapshotResult;\n\n            const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\n\n            const workspace = ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\n\n            callback(workspace);\n        };\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"workspace\", \"opened\");\n        return unsubscribe;\n    };\n\n    const onWorkspaceClosed = async (callback: (closed: { frameId: string; workspaceId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> => {\n        checkThrowCallback(callback);\n\n        const wrappedCallback = (payload: WorkspaceStreamData): void => {\n            callback({ frameId: payload.frameSummary.id, workspaceId: payload.workspaceSummary.id });\n        };\n\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"workspace\", \"closed\");\n        return unsubscribe;\n    };\n\n    const onWindowAdded = async (callback: (swimlaneWindow: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> => {\n        checkThrowCallback(callback);\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\n            const snapshot = (await controller.getSnapshot(payload.windowSummary.config.workspaceId, \"workspace\")) as WorkspaceSnapshotResult;\n\n            const frameConfig: FrameCreateConfig = {\n                summary: snapshot.frameSummary\n            };\n            const frame = ioc.getModel<\"frame\">(\"frame\", frameConfig);\n\n            const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\n\n            const workspace = ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\n\n            const windowParent = workspace.getBox((parent) => parent.id === payload.windowSummary.parentId);\n            const foundWindow = windowParent.children.find((child) => child.type === \"window\" && child.positionIndex === payload.windowSummary.config.positionIndex);\n\n            callback(foundWindow as Glue42Workspaces.WorkspaceWindow);\n        };\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"window\", \"added\");\n        return unsubscribe;\n    };\n\n    const onWindowLoaded = async (callback: (swimlaneWindow: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> => {\n        checkThrowCallback(callback);\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\n            const snapshot = (await controller.getSnapshot(payload.windowSummary.config.workspaceId, \"workspace\")) as WorkspaceSnapshotResult;\n\n            const frameConfig: FrameCreateConfig = {\n                summary: snapshot.frameSummary\n            };\n            const frame = ioc.getModel<\"frame\">(\"frame\", frameConfig);\n\n            const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\n\n            const workspace = ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\n\n            const foundWindow = workspace.getWindow((win) => win.id && win.id === payload.windowSummary.config.windowId);\n\n            callback(foundWindow);\n        };\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"window\", \"loaded\");\n        return unsubscribe;\n    };\n\n    const onWindowRemoved = async (callback: (removed: { windowId: string; workspaceId: string; frameId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> => {\n        checkThrowCallback(callback);\n        const wrappedCallback = (payload: WindowStreamData): void => {\n            const { windowId, workspaceId, frameId } = payload.windowSummary.config;\n            callback({ windowId, workspaceId, frameId });\n        };\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"window\", \"removed\");\n        return unsubscribe;\n    };\n\n    return {\n        inWorkspace,\n        getBuilder,\n        getMyFrame,\n        getFrame,\n        getAllFrames,\n        getAllWorkspacesSummaries,\n        getMyWorkspace,\n        getWorkspace,\n        getAllWorkspaces,\n        getWindow,\n        getBox: getParent,\n        restoreWorkspace,\n        createWorkspace,\n        layouts,\n        onFrameOpened,\n        onFrameClosed,\n        onWorkspaceOpened,\n        onWorkspaceClosed,\n        onWindowAdded,\n        onWindowLoaded,\n        onWindowRemoved,\n    };\n};\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\n\r\nimport { createFactoryFunction } from \"./web\";\r\nimport createGlueCore from \"@glue42/core\";\r\nimport { version } from \"../package.json\";\r\n\r\nconst glueWebFactory = createFactoryFunction(createGlueCore);\r\n\r\n// attach to window object\r\nif (typeof window !== \"undefined\") {\r\n    const windowAny = window as any;\r\n    windowAny.GlueWeb = glueWebFactory;\r\n    delete windowAny.GlueCore;\r\n}\r\n\r\n(glueWebFactory as any).version = version;\r\n\r\nexport default glueWebFactory;\r\n","/**\r\n * A collection of shims that provide minimal functionality of the ES6 collections.\r\n *\r\n * These implementations are not meant to be used outside of the ResizeObserver\r\n * modules as they cover only a limited range of use cases.\r\n */\r\n/* eslint-disable require-jsdoc, valid-jsdoc */\r\nvar MapShim = (function () {\r\n    if (typeof Map !== 'undefined') {\r\n        return Map;\r\n    }\r\n    /**\r\n     * Returns index in provided array that matches the specified key.\r\n     *\r\n     * @param {Array<Array>} arr\r\n     * @param {*} key\r\n     * @returns {number}\r\n     */\r\n    function getIndex(arr, key) {\r\n        var result = -1;\r\n        arr.some(function (entry, index) {\r\n            if (entry[0] === key) {\r\n                result = index;\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n        return result;\r\n    }\r\n    return /** @class */ (function () {\r\n        function class_1() {\r\n            this.__entries__ = [];\r\n        }\r\n        Object.defineProperty(class_1.prototype, \"size\", {\r\n            /**\r\n             * @returns {boolean}\r\n             */\r\n            get: function () {\r\n                return this.__entries__.length;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        /**\r\n         * @param {*} key\r\n         * @returns {*}\r\n         */\r\n        class_1.prototype.get = function (key) {\r\n            var index = getIndex(this.__entries__, key);\r\n            var entry = this.__entries__[index];\r\n            return entry && entry[1];\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @param {*} value\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.set = function (key, value) {\r\n            var index = getIndex(this.__entries__, key);\r\n            if (~index) {\r\n                this.__entries__[index][1] = value;\r\n            }\r\n            else {\r\n                this.__entries__.push([key, value]);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.delete = function (key) {\r\n            var entries = this.__entries__;\r\n            var index = getIndex(entries, key);\r\n            if (~index) {\r\n                entries.splice(index, 1);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.has = function (key) {\r\n            return !!~getIndex(this.__entries__, key);\r\n        };\r\n        /**\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.clear = function () {\r\n            this.__entries__.splice(0);\r\n        };\r\n        /**\r\n         * @param {Function} callback\r\n         * @param {*} [ctx=null]\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.forEach = function (callback, ctx) {\r\n            if (ctx === void 0) { ctx = null; }\r\n            for (var _i = 0, _a = this.__entries__; _i < _a.length; _i++) {\r\n                var entry = _a[_i];\r\n                callback.call(ctx, entry[1], entry[0]);\r\n            }\r\n        };\r\n        return class_1;\r\n    }());\r\n})();\n\n/**\r\n * Detects whether window and document objects are available in current environment.\r\n */\r\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && window.document === document;\n\n// Returns global object of a current environment.\r\nvar global$1 = (function () {\r\n    if (typeof global !== 'undefined' && global.Math === Math) {\r\n        return global;\r\n    }\r\n    if (typeof self !== 'undefined' && self.Math === Math) {\r\n        return self;\r\n    }\r\n    if (typeof window !== 'undefined' && window.Math === Math) {\r\n        return window;\r\n    }\r\n    // eslint-disable-next-line no-new-func\r\n    return Function('return this')();\r\n})();\n\n/**\r\n * A shim for the requestAnimationFrame which falls back to the setTimeout if\r\n * first one is not supported.\r\n *\r\n * @returns {number} Requests' identifier.\r\n */\r\nvar requestAnimationFrame$1 = (function () {\r\n    if (typeof requestAnimationFrame === 'function') {\r\n        // It's required to use a bounded function because IE sometimes throws\r\n        // an \"Invalid calling object\" error if rAF is invoked without the global\r\n        // object on the left hand side.\r\n        return requestAnimationFrame.bind(global$1);\r\n    }\r\n    return function (callback) { return setTimeout(function () { return callback(Date.now()); }, 1000 / 60); };\r\n})();\n\n// Defines minimum timeout before adding a trailing call.\r\nvar trailingTimeout = 2;\r\n/**\r\n * Creates a wrapper function which ensures that provided callback will be\r\n * invoked only once during the specified delay period.\r\n *\r\n * @param {Function} callback - Function to be invoked after the delay period.\r\n * @param {number} delay - Delay after which to invoke callback.\r\n * @returns {Function}\r\n */\r\nfunction throttle (callback, delay) {\r\n    var leadingCall = false, trailingCall = false, lastCallTime = 0;\r\n    /**\r\n     * Invokes the original callback function and schedules new invocation if\r\n     * the \"proxy\" was called during current request.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function resolvePending() {\r\n        if (leadingCall) {\r\n            leadingCall = false;\r\n            callback();\r\n        }\r\n        if (trailingCall) {\r\n            proxy();\r\n        }\r\n    }\r\n    /**\r\n     * Callback invoked after the specified delay. It will further postpone\r\n     * invocation of the original function delegating it to the\r\n     * requestAnimationFrame.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function timeoutCallback() {\r\n        requestAnimationFrame$1(resolvePending);\r\n    }\r\n    /**\r\n     * Schedules invocation of the original function.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function proxy() {\r\n        var timeStamp = Date.now();\r\n        if (leadingCall) {\r\n            // Reject immediately following calls.\r\n            if (timeStamp - lastCallTime < trailingTimeout) {\r\n                return;\r\n            }\r\n            // Schedule new call to be in invoked when the pending one is resolved.\r\n            // This is important for \"transitions\" which never actually start\r\n            // immediately so there is a chance that we might miss one if change\r\n            // happens amids the pending invocation.\r\n            trailingCall = true;\r\n        }\r\n        else {\r\n            leadingCall = true;\r\n            trailingCall = false;\r\n            setTimeout(timeoutCallback, delay);\r\n        }\r\n        lastCallTime = timeStamp;\r\n    }\r\n    return proxy;\r\n}\n\n// Minimum delay before invoking the update of observers.\r\nvar REFRESH_DELAY = 20;\r\n// A list of substrings of CSS properties used to find transition events that\r\n// might affect dimensions of observed elements.\r\nvar transitionKeys = ['top', 'right', 'bottom', 'left', 'width', 'height', 'size', 'weight'];\r\n// Check if MutationObserver is available.\r\nvar mutationObserverSupported = typeof MutationObserver !== 'undefined';\r\n/**\r\n * Singleton controller class which handles updates of ResizeObserver instances.\r\n */\r\nvar ResizeObserverController = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserverController.\r\n     *\r\n     * @private\r\n     */\r\n    function ResizeObserverController() {\r\n        /**\r\n         * Indicates whether DOM listeners have been added.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.connected_ = false;\r\n        /**\r\n         * Tells that controller has subscribed for Mutation Events.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.mutationEventsAdded_ = false;\r\n        /**\r\n         * Keeps reference to the instance of MutationObserver.\r\n         *\r\n         * @private {MutationObserver}\r\n         */\r\n        this.mutationsObserver_ = null;\r\n        /**\r\n         * A list of connected observers.\r\n         *\r\n         * @private {Array<ResizeObserverSPI>}\r\n         */\r\n        this.observers_ = [];\r\n        this.onTransitionEnd_ = this.onTransitionEnd_.bind(this);\r\n        this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);\r\n    }\r\n    /**\r\n     * Adds observer to observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be added.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.addObserver = function (observer) {\r\n        if (!~this.observers_.indexOf(observer)) {\r\n            this.observers_.push(observer);\r\n        }\r\n        // Add listeners if they haven't been added yet.\r\n        if (!this.connected_) {\r\n            this.connect_();\r\n        }\r\n    };\r\n    /**\r\n     * Removes observer from observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be removed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.removeObserver = function (observer) {\r\n        var observers = this.observers_;\r\n        var index = observers.indexOf(observer);\r\n        // Remove observer if it's present in registry.\r\n        if (~index) {\r\n            observers.splice(index, 1);\r\n        }\r\n        // Remove listeners if controller has no connected observers.\r\n        if (!observers.length && this.connected_) {\r\n            this.disconnect_();\r\n        }\r\n    };\r\n    /**\r\n     * Invokes the update of observers. It will continue running updates insofar\r\n     * it detects changes.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.refresh = function () {\r\n        var changesDetected = this.updateObservers_();\r\n        // Continue running updates if changes have been detected as there might\r\n        // be future ones caused by CSS transitions.\r\n        if (changesDetected) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Updates every observer from observers list and notifies them of queued\r\n     * entries.\r\n     *\r\n     * @private\r\n     * @returns {boolean} Returns \"true\" if any observer has detected changes in\r\n     *      dimensions of it's elements.\r\n     */\r\n    ResizeObserverController.prototype.updateObservers_ = function () {\r\n        // Collect observers that have active observations.\r\n        var activeObservers = this.observers_.filter(function (observer) {\r\n            return observer.gatherActive(), observer.hasActive();\r\n        });\r\n        // Deliver notifications in a separate cycle in order to avoid any\r\n        // collisions between observers, e.g. when multiple instances of\r\n        // ResizeObserver are tracking the same element and the callback of one\r\n        // of them changes content dimensions of the observed target. Sometimes\r\n        // this may result in notifications being blocked for the rest of observers.\r\n        activeObservers.forEach(function (observer) { return observer.broadcastActive(); });\r\n        return activeObservers.length > 0;\r\n    };\r\n    /**\r\n     * Initializes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.connect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already added.\r\n        if (!isBrowser || this.connected_) {\r\n            return;\r\n        }\r\n        // Subscription to the \"Transitionend\" event is used as a workaround for\r\n        // delayed transitions. This way it's possible to capture at least the\r\n        // final state of an element.\r\n        document.addEventListener('transitionend', this.onTransitionEnd_);\r\n        window.addEventListener('resize', this.refresh);\r\n        if (mutationObserverSupported) {\r\n            this.mutationsObserver_ = new MutationObserver(this.refresh);\r\n            this.mutationsObserver_.observe(document, {\r\n                attributes: true,\r\n                childList: true,\r\n                characterData: true,\r\n                subtree: true\r\n            });\r\n        }\r\n        else {\r\n            document.addEventListener('DOMSubtreeModified', this.refresh);\r\n            this.mutationEventsAdded_ = true;\r\n        }\r\n        this.connected_ = true;\r\n    };\r\n    /**\r\n     * Removes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.disconnect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already removed.\r\n        if (!isBrowser || !this.connected_) {\r\n            return;\r\n        }\r\n        document.removeEventListener('transitionend', this.onTransitionEnd_);\r\n        window.removeEventListener('resize', this.refresh);\r\n        if (this.mutationsObserver_) {\r\n            this.mutationsObserver_.disconnect();\r\n        }\r\n        if (this.mutationEventsAdded_) {\r\n            document.removeEventListener('DOMSubtreeModified', this.refresh);\r\n        }\r\n        this.mutationsObserver_ = null;\r\n        this.mutationEventsAdded_ = false;\r\n        this.connected_ = false;\r\n    };\r\n    /**\r\n     * \"Transitionend\" event handler.\r\n     *\r\n     * @private\r\n     * @param {TransitionEvent} event\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.onTransitionEnd_ = function (_a) {\r\n        var _b = _a.propertyName, propertyName = _b === void 0 ? '' : _b;\r\n        // Detect whether transition may affect dimensions of an element.\r\n        var isReflowProperty = transitionKeys.some(function (key) {\r\n            return !!~propertyName.indexOf(key);\r\n        });\r\n        if (isReflowProperty) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Returns instance of the ResizeObserverController.\r\n     *\r\n     * @returns {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.getInstance = function () {\r\n        if (!this.instance_) {\r\n            this.instance_ = new ResizeObserverController();\r\n        }\r\n        return this.instance_;\r\n    };\r\n    /**\r\n     * Holds reference to the controller's instance.\r\n     *\r\n     * @private {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.instance_ = null;\r\n    return ResizeObserverController;\r\n}());\n\n/**\r\n * Defines non-writable/enumerable properties of the provided target object.\r\n *\r\n * @param {Object} target - Object for which to define properties.\r\n * @param {Object} props - Properties to be defined.\r\n * @returns {Object} Target object.\r\n */\r\nvar defineConfigurable = (function (target, props) {\r\n    for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\r\n        var key = _a[_i];\r\n        Object.defineProperty(target, key, {\r\n            value: props[key],\r\n            enumerable: false,\r\n            writable: false,\r\n            configurable: true\r\n        });\r\n    }\r\n    return target;\r\n});\n\n/**\r\n * Returns the global object associated with provided element.\r\n *\r\n * @param {Object} target\r\n * @returns {Object}\r\n */\r\nvar getWindowOf = (function (target) {\r\n    // Assume that the element is an instance of Node, which means that it\r\n    // has the \"ownerDocument\" property from which we can retrieve a\r\n    // corresponding global object.\r\n    var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView;\r\n    // Return the local global object if it's not possible extract one from\r\n    // provided element.\r\n    return ownerGlobal || global$1;\r\n});\n\n// Placeholder of an empty content rectangle.\r\nvar emptyRect = createRectInit(0, 0, 0, 0);\r\n/**\r\n * Converts provided string to a number.\r\n *\r\n * @param {number|string} value\r\n * @returns {number}\r\n */\r\nfunction toFloat(value) {\r\n    return parseFloat(value) || 0;\r\n}\r\n/**\r\n * Extracts borders size from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @param {...string} positions - Borders positions (top, right, ...)\r\n * @returns {number}\r\n */\r\nfunction getBordersSize(styles) {\r\n    var positions = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        positions[_i - 1] = arguments[_i];\r\n    }\r\n    return positions.reduce(function (size, position) {\r\n        var value = styles['border-' + position + '-width'];\r\n        return size + toFloat(value);\r\n    }, 0);\r\n}\r\n/**\r\n * Extracts paddings sizes from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @returns {Object} Paddings box.\r\n */\r\nfunction getPaddings(styles) {\r\n    var positions = ['top', 'right', 'bottom', 'left'];\r\n    var paddings = {};\r\n    for (var _i = 0, positions_1 = positions; _i < positions_1.length; _i++) {\r\n        var position = positions_1[_i];\r\n        var value = styles['padding-' + position];\r\n        paddings[position] = toFloat(value);\r\n    }\r\n    return paddings;\r\n}\r\n/**\r\n * Calculates content rectangle of provided SVG element.\r\n *\r\n * @param {SVGGraphicsElement} target - Element content rectangle of which needs\r\n *      to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getSVGContentRect(target) {\r\n    var bbox = target.getBBox();\r\n    return createRectInit(0, 0, bbox.width, bbox.height);\r\n}\r\n/**\r\n * Calculates content rectangle of provided HTMLElement.\r\n *\r\n * @param {HTMLElement} target - Element for which to calculate the content rectangle.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getHTMLElementContentRect(target) {\r\n    // Client width & height properties can't be\r\n    // used exclusively as they provide rounded values.\r\n    var clientWidth = target.clientWidth, clientHeight = target.clientHeight;\r\n    // By this condition we can catch all non-replaced inline, hidden and\r\n    // detached elements. Though elements with width & height properties less\r\n    // than 0.5 will be discarded as well.\r\n    //\r\n    // Without it we would need to implement separate methods for each of\r\n    // those cases and it's not possible to perform a precise and performance\r\n    // effective test for hidden elements. E.g. even jQuery's ':visible' filter\r\n    // gives wrong results for elements with width & height less than 0.5.\r\n    if (!clientWidth && !clientHeight) {\r\n        return emptyRect;\r\n    }\r\n    var styles = getWindowOf(target).getComputedStyle(target);\r\n    var paddings = getPaddings(styles);\r\n    var horizPad = paddings.left + paddings.right;\r\n    var vertPad = paddings.top + paddings.bottom;\r\n    // Computed styles of width & height are being used because they are the\r\n    // only dimensions available to JS that contain non-rounded values. It could\r\n    // be possible to utilize the getBoundingClientRect if only it's data wasn't\r\n    // affected by CSS transformations let alone paddings, borders and scroll bars.\r\n    var width = toFloat(styles.width), height = toFloat(styles.height);\r\n    // Width & height include paddings and borders when the 'border-box' box\r\n    // model is applied (except for IE).\r\n    if (styles.boxSizing === 'border-box') {\r\n        // Following conditions are required to handle Internet Explorer which\r\n        // doesn't include paddings and borders to computed CSS dimensions.\r\n        //\r\n        // We can say that if CSS dimensions + paddings are equal to the \"client\"\r\n        // properties then it's either IE, and thus we don't need to subtract\r\n        // anything, or an element merely doesn't have paddings/borders styles.\r\n        if (Math.round(width + horizPad) !== clientWidth) {\r\n            width -= getBordersSize(styles, 'left', 'right') + horizPad;\r\n        }\r\n        if (Math.round(height + vertPad) !== clientHeight) {\r\n            height -= getBordersSize(styles, 'top', 'bottom') + vertPad;\r\n        }\r\n    }\r\n    // Following steps can't be applied to the document's root element as its\r\n    // client[Width/Height] properties represent viewport area of the window.\r\n    // Besides, it's as well not necessary as the <html> itself neither has\r\n    // rendered scroll bars nor it can be clipped.\r\n    if (!isDocumentElement(target)) {\r\n        // In some browsers (only in Firefox, actually) CSS width & height\r\n        // include scroll bars size which can be removed at this step as scroll\r\n        // bars are the only difference between rounded dimensions + paddings\r\n        // and \"client\" properties, though that is not always true in Chrome.\r\n        var vertScrollbar = Math.round(width + horizPad) - clientWidth;\r\n        var horizScrollbar = Math.round(height + vertPad) - clientHeight;\r\n        // Chrome has a rather weird rounding of \"client\" properties.\r\n        // E.g. for an element with content width of 314.2px it sometimes gives\r\n        // the client width of 315px and for the width of 314.7px it may give\r\n        // 314px. And it doesn't happen all the time. So just ignore this delta\r\n        // as a non-relevant.\r\n        if (Math.abs(vertScrollbar) !== 1) {\r\n            width -= vertScrollbar;\r\n        }\r\n        if (Math.abs(horizScrollbar) !== 1) {\r\n            height -= horizScrollbar;\r\n        }\r\n    }\r\n    return createRectInit(paddings.left, paddings.top, width, height);\r\n}\r\n/**\r\n * Checks whether provided element is an instance of the SVGGraphicsElement.\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nvar isSVGGraphicsElement = (function () {\r\n    // Some browsers, namely IE and Edge, don't have the SVGGraphicsElement\r\n    // interface.\r\n    if (typeof SVGGraphicsElement !== 'undefined') {\r\n        return function (target) { return target instanceof getWindowOf(target).SVGGraphicsElement; };\r\n    }\r\n    // If it's so, then check that element is at least an instance of the\r\n    // SVGElement and that it has the \"getBBox\" method.\r\n    // eslint-disable-next-line no-extra-parens\r\n    return function (target) { return (target instanceof getWindowOf(target).SVGElement &&\r\n        typeof target.getBBox === 'function'); };\r\n})();\r\n/**\r\n * Checks whether provided element is a document element (<html>).\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nfunction isDocumentElement(target) {\r\n    return target === getWindowOf(target).document.documentElement;\r\n}\r\n/**\r\n * Calculates an appropriate content rectangle for provided html or svg element.\r\n *\r\n * @param {Element} target - Element content rectangle of which needs to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getContentRect(target) {\r\n    if (!isBrowser) {\r\n        return emptyRect;\r\n    }\r\n    if (isSVGGraphicsElement(target)) {\r\n        return getSVGContentRect(target);\r\n    }\r\n    return getHTMLElementContentRect(target);\r\n}\r\n/**\r\n * Creates rectangle with an interface of the DOMRectReadOnly.\r\n * Spec: https://drafts.fxtf.org/geometry/#domrectreadonly\r\n *\r\n * @param {DOMRectInit} rectInit - Object with rectangle's x/y coordinates and dimensions.\r\n * @returns {DOMRectReadOnly}\r\n */\r\nfunction createReadOnlyRect(_a) {\r\n    var x = _a.x, y = _a.y, width = _a.width, height = _a.height;\r\n    // If DOMRectReadOnly is available use it as a prototype for the rectangle.\r\n    var Constr = typeof DOMRectReadOnly !== 'undefined' ? DOMRectReadOnly : Object;\r\n    var rect = Object.create(Constr.prototype);\r\n    // Rectangle's properties are not writable and non-enumerable.\r\n    defineConfigurable(rect, {\r\n        x: x, y: y, width: width, height: height,\r\n        top: y,\r\n        right: x + width,\r\n        bottom: height + y,\r\n        left: x\r\n    });\r\n    return rect;\r\n}\r\n/**\r\n * Creates DOMRectInit object based on the provided dimensions and the x/y coordinates.\r\n * Spec: https://drafts.fxtf.org/geometry/#dictdef-domrectinit\r\n *\r\n * @param {number} x - X coordinate.\r\n * @param {number} y - Y coordinate.\r\n * @param {number} width - Rectangle's width.\r\n * @param {number} height - Rectangle's height.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction createRectInit(x, y, width, height) {\r\n    return { x: x, y: y, width: width, height: height };\r\n}\n\n/**\r\n * Class that is responsible for computations of the content rectangle of\r\n * provided DOM element and for keeping track of it's changes.\r\n */\r\nvar ResizeObservation = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObservation.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     */\r\n    function ResizeObservation(target) {\r\n        /**\r\n         * Broadcasted width of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastWidth = 0;\r\n        /**\r\n         * Broadcasted height of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastHeight = 0;\r\n        /**\r\n         * Reference to the last observed content rectangle.\r\n         *\r\n         * @private {DOMRectInit}\r\n         */\r\n        this.contentRect_ = createRectInit(0, 0, 0, 0);\r\n        this.target = target;\r\n    }\r\n    /**\r\n     * Updates content rectangle and tells whether it's width or height properties\r\n     * have changed since the last broadcast.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObservation.prototype.isActive = function () {\r\n        var rect = getContentRect(this.target);\r\n        this.contentRect_ = rect;\r\n        return (rect.width !== this.broadcastWidth ||\r\n            rect.height !== this.broadcastHeight);\r\n    };\r\n    /**\r\n     * Updates 'broadcastWidth' and 'broadcastHeight' properties with a data\r\n     * from the corresponding properties of the last observed content rectangle.\r\n     *\r\n     * @returns {DOMRectInit} Last observed content rectangle.\r\n     */\r\n    ResizeObservation.prototype.broadcastRect = function () {\r\n        var rect = this.contentRect_;\r\n        this.broadcastWidth = rect.width;\r\n        this.broadcastHeight = rect.height;\r\n        return rect;\r\n    };\r\n    return ResizeObservation;\r\n}());\n\nvar ResizeObserverEntry = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObserverEntry.\r\n     *\r\n     * @param {Element} target - Element that is being observed.\r\n     * @param {DOMRectInit} rectInit - Data of the element's content rectangle.\r\n     */\r\n    function ResizeObserverEntry(target, rectInit) {\r\n        var contentRect = createReadOnlyRect(rectInit);\r\n        // According to the specification following properties are not writable\r\n        // and are also not enumerable in the native implementation.\r\n        //\r\n        // Property accessors are not being used as they'd require to define a\r\n        // private WeakMap storage which may cause memory leaks in browsers that\r\n        // don't support this type of collections.\r\n        defineConfigurable(this, { target: target, contentRect: contentRect });\r\n    }\r\n    return ResizeObserverEntry;\r\n}());\n\nvar ResizeObserverSPI = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback function that is invoked\r\n     *      when one of the observed elements changes it's content dimensions.\r\n     * @param {ResizeObserverController} controller - Controller instance which\r\n     *      is responsible for the updates of observer.\r\n     * @param {ResizeObserver} callbackCtx - Reference to the public\r\n     *      ResizeObserver instance which will be passed to callback function.\r\n     */\r\n    function ResizeObserverSPI(callback, controller, callbackCtx) {\r\n        /**\r\n         * Collection of resize observations that have detected changes in dimensions\r\n         * of elements.\r\n         *\r\n         * @private {Array<ResizeObservation>}\r\n         */\r\n        this.activeObservations_ = [];\r\n        /**\r\n         * Registry of the ResizeObservation instances.\r\n         *\r\n         * @private {Map<Element, ResizeObservation>}\r\n         */\r\n        this.observations_ = new MapShim();\r\n        if (typeof callback !== 'function') {\r\n            throw new TypeError('The callback provided as parameter 1 is not a function.');\r\n        }\r\n        this.callback_ = callback;\r\n        this.controller_ = controller;\r\n        this.callbackCtx_ = callbackCtx;\r\n    }\r\n    /**\r\n     * Starts observing provided element.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.observe = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is already being observed.\r\n        if (observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.set(target, new ResizeObservation(target));\r\n        this.controller_.addObserver(this);\r\n        // Force the update of observations.\r\n        this.controller_.refresh();\r\n    };\r\n    /**\r\n     * Stops observing provided element.\r\n     *\r\n     * @param {Element} target - Element to stop observing.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.unobserve = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is not being observed.\r\n        if (!observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.delete(target);\r\n        if (!observations.size) {\r\n            this.controller_.removeObserver(this);\r\n        }\r\n    };\r\n    /**\r\n     * Stops observing all elements.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.disconnect = function () {\r\n        this.clearActive();\r\n        this.observations_.clear();\r\n        this.controller_.removeObserver(this);\r\n    };\r\n    /**\r\n     * Collects observation instances the associated element of which has changed\r\n     * it's content rectangle.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.gatherActive = function () {\r\n        var _this = this;\r\n        this.clearActive();\r\n        this.observations_.forEach(function (observation) {\r\n            if (observation.isActive()) {\r\n                _this.activeObservations_.push(observation);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Invokes initial callback function with a list of ResizeObserverEntry\r\n     * instances collected from active resize observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.broadcastActive = function () {\r\n        // Do nothing if observer doesn't have active observations.\r\n        if (!this.hasActive()) {\r\n            return;\r\n        }\r\n        var ctx = this.callbackCtx_;\r\n        // Create ResizeObserverEntry instance for every active observation.\r\n        var entries = this.activeObservations_.map(function (observation) {\r\n            return new ResizeObserverEntry(observation.target, observation.broadcastRect());\r\n        });\r\n        this.callback_.call(ctx, entries, ctx);\r\n        this.clearActive();\r\n    };\r\n    /**\r\n     * Clears the collection of active observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.clearActive = function () {\r\n        this.activeObservations_.splice(0);\r\n    };\r\n    /**\r\n     * Tells whether observer has active observations.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObserverSPI.prototype.hasActive = function () {\r\n        return this.activeObservations_.length > 0;\r\n    };\r\n    return ResizeObserverSPI;\r\n}());\n\n// Registry of internal observers. If WeakMap is not available use current shim\r\n// for the Map collection as it has all required methods and because WeakMap\r\n// can't be fully polyfilled anyway.\r\nvar observers = typeof WeakMap !== 'undefined' ? new WeakMap() : new MapShim();\r\n/**\r\n * ResizeObserver API. Encapsulates the ResizeObserver SPI implementation\r\n * exposing only those methods and properties that are defined in the spec.\r\n */\r\nvar ResizeObserver = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback that is invoked when\r\n     *      dimensions of the observed elements change.\r\n     */\r\n    function ResizeObserver(callback) {\r\n        if (!(this instanceof ResizeObserver)) {\r\n            throw new TypeError('Cannot call a class as a function.');\r\n        }\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        var controller = ResizeObserverController.getInstance();\r\n        var observer = new ResizeObserverSPI(callback, controller, this);\r\n        observers.set(this, observer);\r\n    }\r\n    return ResizeObserver;\r\n}());\r\n// Expose public methods of ResizeObserver.\r\n[\r\n    'observe',\r\n    'unobserve',\r\n    'disconnect'\r\n].forEach(function (method) {\r\n    ResizeObserver.prototype[method] = function () {\r\n        var _a;\r\n        return (_a = observers.get(this))[method].apply(_a, arguments);\r\n    };\r\n});\n\nvar index = (function () {\r\n    // Export existing implementation if available.\r\n    if (typeof global$1.ResizeObserver !== 'undefined') {\r\n        return global$1.ResizeObserver;\r\n    }\r\n    return ResizeObserver;\r\n})();\n\nexport default index;\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import React from \"react\";\r\n\r\nconst HeaderButton: React.FC<{ title: string, className: string }> = ({ title, className, children, ...props }) => {\r\n    return (\r\n        <li {...props} title={title} className={className}>\r\n            {children}\r\n        </li>\r\n    )\r\n};\r\n\r\nexport default HeaderButton;\r\n","import React from \"react\";\r\nimport { ApplicationItemProps } from \"../../../types/internal\";\r\n\r\n\r\nconst ApplicationItem: React.FC<ApplicationItemProps> = ({ appName, onClick }) => {\r\n    return (\r\n        <a onClick={onClick} className=\"list-group-item list-group-item-action px-3\" href=\"#\">\r\n            {appName}\r\n        </a>\r\n    )\r\n};\r\n\r\nexport default ApplicationItem;","import React, { useEffect } from \"react\";\r\nimport { ApplicationListProps } from \"../../../types/internal\";\r\nimport ApplicationItem from \"./ApplicationItem\";\r\n\r\nconst ApplicationsList: React.FC<ApplicationListProps> = ({ glue, inLane, parent, hidePopup, searchTerm, updatePopupHeight, filterApps }) => {\r\n    const hasFlag = (app: any) => app?.userProperties?.includeInWorkspaces ?? app?.userProperties?.includeInCanvas;\r\n    const isFromSupportedType = (a: any) => !a.type || (a.type !== \"activity\" &&\r\n        a.type !== \"canvas\" &&\r\n        a.type !== \"workspaces\" &&\r\n        a.type !== \"node\");\r\n\r\n    const defaultFilter = (a: any) => !a.isActivity &&\r\n        !a.isShell &&\r\n        isFromSupportedType(a) && hasFlag(a);\r\n\r\n    const filter = filterApps || defaultFilter;\r\n\r\n    const workspacesFriendlyApps: any[] = glue.appManager.applications().filter(filter);\r\n\r\n    const getElementOnClick = (appName: string) => {\r\n        return async () => {\r\n            try {\r\n                if (parent.type === \"group\" && !inLane) {\r\n                    await parent.addWindow({ type: \"window\", appName });\r\n                } else if (parent.type === \"group\" && inLane) {\r\n                    await parent.parent.addGroup({ type: \"group\", children: [{ type: \"window\", appName }] });\r\n                } else if (parent.type !== \"group\" && !inLane) {\r\n                    await parent.addGroup({ type: \"group\", children: [{ type: \"window\", appName }] });\r\n                } else {\r\n                    await parent.addWindow({ type: \"window\", appName });\r\n                }\r\n            } catch (error) {\r\n                console.warn(error);\r\n            }\r\n\r\n            hidePopup();\r\n        };\r\n    }\r\n\r\n    useEffect(() => {\r\n        updatePopupHeight();\r\n    }, []);\r\n\r\n    return (\r\n        <nav id=\"applicationsList\" className=\"nav list-group\">\r\n            {workspacesFriendlyApps\r\n                .filter((a) => (a.title || a.name).toLowerCase().indexOf(searchTerm.toLowerCase()) !== -1)\r\n                .map((app: any, i) => {\r\n                    return <ApplicationItem\r\n                        key={i}\r\n                        onClick={() => { getElementOnClick(app.name)() }}\r\n                        appName={app.title || app.name} />\r\n                })}\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default ApplicationsList;","import React, { useEffect } from \"react\";\r\nimport { ContainerSwitchProps } from \"../../../types/internal\";\r\n\r\nconst ContainerSwitch: React.FC<ContainerSwitchProps> = ({ inLane, setInLane, parent }) => {\r\n    let wordInLabel = \"\";\r\n    if (!parent.type) {\r\n        wordInLabel = `workspace`;\r\n    } else if (parent.type === \"group\" && !parent.children.length) {\r\n        wordInLabel = \"\";\r\n    } else if (parent.type === \"group\") {\r\n        wordInLabel = `${parent.parent.type || \"\"}`;\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (!wordInLabel || wordInLabel === \"workspace\") {\r\n            setInLane(false);\r\n        }\r\n    }, [wordInLabel])\r\n\r\n    if (!wordInLabel || wordInLabel === \"workspace\") {\r\n        return null;\r\n    }\r\n\r\n    const labelToPut = `This ${wordInLabel[0].toUpperCase() + wordInLabel.substring(1)}`;\r\n\r\n    return (\r\n        <div className=\"form-group\">\r\n            <label htmlFor=\"Application placement\">Application Placement</label>\r\n            <div className=\"btn-group d-flex mb-2\" role=\"group\" aria-label=\"Application placement\">\r\n                <button\r\n                    onClick={() => setInLane(true)}\r\n                    type=\"button\"\r\n                    id=\"laneButton\"\r\n                    className={`btn btn-outline-primary w-100 ${inLane ? \"active\" : \"\"}`}>\r\n                    {labelToPut}\r\n                </button>\r\n                <button\r\n                    onClick={() => setInLane(false)}\r\n                    type=\"button\"\r\n                    id=\"tabGroupButton\"\r\n                    className={`btn btn-outline-primary w-100 ${!inLane ? \"active\" : \"\"}`}>\r\n                    This Tab Group\r\n            </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ContainerSwitch;","import { GlueContext } from \"@glue42/react-hooks\";\r\nimport React, { useContext } from \"react\"\r\n\r\nconst withGlueInstance = <T extends { glue?: any }>(WrappedComponent: React.ComponentType<T>) => {\r\n    return (props: T) => {\r\n        const glue = props.glue || (window as any).glue || useContext(GlueContext);\r\n        if (!glue) {\r\n            throw new Error(\"An instance of Glue is not provided\");\r\n        }\r\n        return (\r\n            <WrappedComponent {...Object.assign({}, props, { glue })} />\r\n        )\r\n    }\r\n}\r\n\r\nexport default withGlueInstance;","import React, { useEffect, useState } from \"react\";\r\nimport { AddApplicationPopupProps } from \"../../../types/internal\";\r\nimport ApplicationsList from \"./ApplicationsList\";\r\nimport ContainerSwitch from \"./ContainerSwitch\";\r\nimport withGlueInstance from \"../../../withGlueInstance\";\r\n\r\ndeclare const window: Window & { glue?: any };\r\n\r\nconst AddApplicationPopup: React.FC<AddApplicationPopupProps> = ({ workspaceId, boxId, hidePopup, resizePopup, glue, frameId, filterApps, ...props }) => {\r\n    const [inLane, setInLane] = useState(false);\r\n    const [parent, setParent] = useState(undefined);\r\n    const [searchTerm, setSearchTerm] = useState(\"\");\r\n    const containerRef = React.createRef<HTMLDivElement>();\r\n\r\n    useEffect(() => {\r\n        let shouldUpdate = true;\r\n        glue.workspaces.getAllWorkspaces().then((allWorkspaces: any) => {\r\n            const myWorkspace = allWorkspaces.find((w: any) => w.id === workspaceId);\r\n            const parent = myWorkspace.getBox((p: any) => p.id === boxId) || myWorkspace;\r\n\r\n            if (!shouldUpdate) {\r\n                return;\r\n            }\r\n            setParent(parent);\r\n        });\r\n\r\n        return () => {\r\n            shouldUpdate = false;\r\n        }\r\n    }, [boxId, workspaceId]);\r\n\r\n    const refreshPopupHeight = () => {\r\n        const containerHeight = containerRef.current?.getBoundingClientRect().height;\r\n        resizePopup({\r\n            width: 300,\r\n            height: containerHeight\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        refreshPopupHeight();\r\n    }, [searchTerm, parent]);\r\n\r\n    return (\r\n        <div {...props} ref={containerRef} className=\"container-fluid add-application\">\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h5 className=\"border-bottom border-secondary pb-1 my-3\">Add Application</h5>\r\n                </div>\r\n            </div>\r\n            <div id=\"applicationPlacementSection\" className=\"row\">\r\n                <div className=\"col\">\r\n                    {parent && <ContainerSwitch\r\n                        inLane={inLane}\r\n                        setInLane={setInLane}\r\n                        parent={parent} />}\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <div className=\"input-group position-relative mb-2\">\r\n                        <input type=\"text\" id=\"appSearch\" className=\"form-control pr-4\" placeholder=\"Search pplication\"\r\n                            value={searchTerm} onChange={(e) => setSearchTerm(e.target.value)} aria-label=\"Search pplication\" aria-describedby=\"\" />\r\n                        <div className=\"icon-search\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <div className=\"applications mb-2\">\r\n                        <ApplicationsList\r\n                            glue={glue}\r\n                            hidePopup={hidePopup}\r\n                            inLane={inLane}\r\n                            parent={parent}\r\n                            searchTerm={searchTerm}\r\n                            filterApps={filterApps}\r\n                            updatePopupHeight={() => { refreshPopupHeight() }}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withGlueInstance(AddApplicationPopup);","import React from \"react\";\r\nimport { getFeedbackErrorMessage } from \"./helpers\";\r\n\r\nconst Feedback: React.FC<{ errMessage: string }> = ({ errMessage }) => {\r\n    const message = getFeedbackErrorMessage(errMessage);\r\n    return (\r\n        <div className=\"row\">\r\n            <div className=\"col\">\r\n                <div id=\"feedbackContainer\" className=\"d-flex flex-row pb-2\">\r\n                    <div className=\"invalid-feedback mt-0 d-block\">\r\n                        {message || \"Something went wrong.\"}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Feedback;","export const getFeedbackErrorMessage = (message: string) => {\r\n    const innerMessageRegex = /Inner message:\\s+(.+)/gm;\r\n    const regexResult = innerMessageRegex.exec(message);\r\n    const innerMessage = (regexResult && regexResult[1]) || message;\r\n\r\n    return innerMessage;\r\n}","import React from \"react\";\r\nimport { WorkspaceLayoutItemProps } from \"../../../types/internal\";\r\n\r\nconst WorkspaceLayoutItem: React.FC<WorkspaceLayoutItemProps> = ({ name, onClick, onCloseClick }) => {\r\n    return (\r\n        <a onClick={onClick} className=\"list-group-item list-group-item-action ry-2\" href=\"#\">\r\n            <div className=\"align-items-center workspace d-flex flex-row\">\r\n                <div className=\"workspace__icon mr-2\"></div>\r\n                <div className=\"workspace__description\">\r\n                    <h5 className=\"mb-0 text-truncate\">{name}</h5>\r\n                </div>\r\n                <div onClick={onCloseClick} className=\"close-icon ml-auto\"></div>\r\n            </div>\r\n        </a>\r\n    );\r\n}\r\n\r\n\r\nexport default WorkspaceLayoutItem;","import React, { useEffect, useState } from \"react\";\r\nimport { WorkspaceLayoutsListProps } from \"../../../types/internal\";\r\nimport WorkspaceLayoutItem from \"./WorkspaceLayoutItem\";\r\n\r\nconst WorkspaceLayoutsList: React.FC<WorkspaceLayoutsListProps> = ({ glue, frameId, showFeedback, hidePopup, resizePopup }) => {\r\n    const [layoutSummaries, setLayoutSummaries] = useState([] as any[]);\r\n\r\n    const getSummaries = () => {\r\n        return glue.workspaces.layouts.getSummaries();\r\n    };\r\n\r\n    useEffect(() => {\r\n        let shouldUpdate = true;\r\n        getSummaries().then((s: any) => {\r\n            if (!shouldUpdate) {\r\n                return;\r\n            }\r\n            setLayoutSummaries(s);\r\n        });\r\n        return () => {\r\n            shouldUpdate = false;\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        resizePopup();\r\n    }, [layoutSummaries]);\r\n\r\n    const getOnClickCallback = (layoutName: string) => {\r\n        return () => {\r\n            glue.workspaces.restoreWorkspace(layoutName, { frameId, title: layoutName }).catch((e: Error) => {\r\n                showFeedback(e.message);\r\n            }).finally(() => {\r\n                hidePopup();\r\n            });\r\n        };\r\n    };\r\n\r\n    const getOnCloseClickCallback = (layoutName: string) => {\r\n        return () => {\r\n            glue.workspaces.layouts.delete(layoutName).catch((e: Error) => {\r\n                showFeedback(e.message);\r\n            }).then(() => {\r\n                getSummaries().then((s: any) => { setLayoutSummaries(s); });\r\n            });\r\n        };\r\n    }\r\n\r\n    return (\r\n        <nav id=\"workspacesList\" className=\"nav flex-column\">\r\n            {layoutSummaries.map((summary, i) => {\r\n                return <WorkspaceLayoutItem\r\n                    key={i}\r\n                    name={summary.name}\r\n                    onClick={() => getOnClickCallback(summary.name)()}\r\n                    onCloseClick={(e) => { e.stopPropagation(); getOnCloseClickCallback(summary.name)(); }}\r\n                />\r\n            })}\r\n        </nav>\r\n    );\r\n}\r\n\r\nexport default WorkspaceLayoutsList;","import React, { useEffect, useState } from \"react\";\r\nimport { AddWorkspacePopupProps } from \"../../../types/internal\";\r\nimport Feedback from \"../Feedback\";\r\nimport WorkspaceLayoutsList from \"./WorkspaceLayoutsList\";\r\nimport withGlueInstance from \"../../../withGlueInstance\";\r\n\r\nconst AddWorkspacePopup: React.FC<AddWorkspacePopupProps> = ({ frameId, hidePopup, resizePopup, glue, ...props }) => {\r\n    const [feedbackText, setFeedbackText] = useState<string | undefined>(undefined);\r\n    const containerRef = React.createRef<HTMLDivElement>();\r\n\r\n    const resizePopupWithContainerHeight = () => {\r\n        const containerHeight = containerRef.current?.getBoundingClientRect().height;\r\n        resizePopup({\r\n            width: 300,\r\n            height: containerHeight\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        resizePopupWithContainerHeight();\r\n    }, [feedbackText]);\r\n    const onCreateNewClicked = () => {\r\n        glue.workspaces.createWorkspace({\r\n            children: [],\r\n            frame: {\r\n                reuseFrameId: frameId\r\n            }\r\n        });\r\n        hidePopup();\r\n    }\r\n\r\n    return (\r\n        <div {...props} ref={containerRef} className=\"container-fluid add-workspace\">\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h5 className=\"border-bottom border-secondary pb-1 my-3\">Add Workspace</h5>\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h5 onClick={onCreateNewClicked} itemType=\"h5\" id=\"createNewButton\" className=\"btn btn-primary mb-3 w-100\">Create New</h5>\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h3>Load Workspace</h3>\r\n                    <div className=\"workspaces mb-2\">\r\n                        <WorkspaceLayoutsList\r\n                            frameId={frameId}\r\n                            glue={glue}\r\n                            showFeedback={setFeedbackText}\r\n                            hidePopup={hidePopup}\r\n                            resizePopup={resizePopupWithContainerHeight}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {feedbackText && <Feedback errMessage={feedbackText} />}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default withGlueInstance(AddWorkspacePopup);","import React, { useEffect } from \"react\";\r\nimport { SaveContextCheckboxProps } from \"../../../types/internal\";\r\n\r\nconst SaveContextCheckbox: React.FC<SaveContextCheckboxProps> = ({ changeChecked, refreshHeight }) => {\r\n    const inputRef = React.createRef<HTMLInputElement>();\r\n\r\n    useEffect(() => {\r\n        refreshHeight();\r\n    }, []);\r\n\r\n    const onInputChanged = () => {\r\n        if (!inputRef?.current) {\r\n            return;\r\n        }\r\n\r\n        changeChecked(inputRef.current.checked);\r\n    }\r\n\r\n    return (\r\n        <div className=\"form-check\">\r\n            <input onChange={onInputChanged} ref={inputRef} className=\"form-check-input\" type=\"checkbox\" value=\"\" id=\"saveContextCheckbox\" />\r\n            <label className=\"form-check-label\" htmlFor=\"saveContextCheckbox\">Save context</label>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default SaveContextCheckbox;","import React, { useEffect, useState } from \"react\";\r\nimport { SaveWorkspaceButtonProps } from \"../../../types/internal\";\r\n\r\nconst SaveWorkspaceButton: React.FC<SaveWorkspaceButtonProps> = ({ workspaceId,\r\n    inputValue,\r\n    clearInput,\r\n    showFeedback,\r\n    shouldSaveContext,\r\n    hideFeedback,\r\n    glue,\r\n    hidePopup,\r\n    buildMode }) => {\r\n    const [shouldSave, setShouldSave] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (!shouldSave) {\r\n            return;\r\n        }\r\n        let shouldUpdate = true;\r\n        let workspace: any;\r\n        const workspaceName = inputValue;\r\n        glue.workspaces.getAllWorkspaces().then((allWorkspaces: any) => {\r\n            workspace = allWorkspaces.find((w: any) => w.id === workspaceId);\r\n\r\n            return glue.workspaces.layouts.save({\r\n                name: workspaceName,\r\n                workspaceId: workspace.id,\r\n                saveContext: shouldSaveContext\r\n            });\r\n        }).then(() => {\r\n            return workspace.setTitle(workspaceName);\r\n        }).catch((error: Error) => {\r\n            if (shouldUpdate) {\r\n                showFeedback(error.message)\r\n            }\r\n        }).finally(() => {\r\n            if (shouldUpdate) {\r\n                clearInput();\r\n                setShouldSave(false);\r\n                hidePopup();\r\n            }\r\n        });\r\n\r\n        return () => {\r\n            shouldUpdate = false;\r\n        }\r\n    }, [shouldSave]);\r\n\r\n    const exportJson = (layout: object, name: string) => {\r\n        const downloadElement = document.createElement(\"a\");\r\n        const data = \"text/json;charset=utf-8,\" + encodeURIComponent(JSON.stringify(layout));\r\n\r\n        document.body.append(downloadElement);\r\n        downloadElement.setAttribute(\"href\", \"data:\" + data);\r\n        downloadElement.setAttribute(\"download\", `${name}.txt`);\r\n        downloadElement.click();\r\n        downloadElement.remove();\r\n    }\r\n\r\n    const generateLayout = async (name: string, workspaceId: string) => {\r\n        const instance = glue.agm.instance;\r\n        const payload = { operation: \"generateLayout\", operationArguments: { name, workspaceId } };\r\n\r\n        return (await glue.agm.invoke(\"T42.Workspaces.Control\", payload, instance || \"best\")).returned;\r\n    }\r\n\r\n    const onClick = () => {\r\n        const workspaceName = inputValue;\r\n\r\n        if (workspaceId && !buildMode) {\r\n            hideFeedback();\r\n            if (!workspaceName) {\r\n                showFeedback(\"Please provide a valid name\");\r\n                return;\r\n            }\r\n\r\n            if (shouldSave) {\r\n                return;\r\n            }\r\n\r\n            setShouldSave(true);\r\n        } else if (workspaceId) {\r\n            generateLayout(workspaceName, workspaceId).then((layout) => {\r\n                exportJson(layout, workspaceName);\r\n            }).catch((err) => {\r\n                showFeedback(err.message);\r\n            });\r\n        }\r\n    }\r\n\r\n    return (<button onClick={onClick} id=\"saveButton\" type=\"button\" className=\"btn btn-primary\">\r\n        {buildMode ? \"Download\" : \"Save\"}\r\n    </button>);\r\n};\r\n\r\nexport default SaveWorkspaceButton;","import React, {\r\n    useContext,\r\n    useEffect,\r\n    useLayoutEffect,\r\n    useState\r\n} from \"react\";\r\nimport { SaveWorkspacePopupProps } from \"../../../types/internal\";\r\nimport Feedback from \"../Feedback\";\r\nimport SaveContextCheckbox from \"./SaveContextCheckbox\";\r\nimport SaveWorkspaceButton from \"./SaveWorkspaceButton\";\r\nimport withGlueInstance from \"../../../withGlueInstance\";\r\n\r\nconst SaveWorkspacePopup: React.FC<SaveWorkspacePopupProps> = ({ workspaceId, resizePopup, hidePopup, buildMode, glue, ...props }) => {\r\n    const inputRef = React.createRef<HTMLInputElement>();\r\n    const containerRef = React.createRef<HTMLDivElement>();\r\n\r\n    const [shouldSaveContext, setShouldSaveContext] = useState(false);\r\n    const [feedbackMessage, setFeedbackMessage] = useState(\"\");\r\n    const [workspaceName, setWorkspaceName] = useState(\"\");\r\n\r\n    const refreshHeight = () => {\r\n        if (!containerRef?.current) {\r\n            return;\r\n        }\r\n\r\n        const bounds = containerRef.current.getBoundingClientRect();\r\n        resizePopup({\r\n            height: bounds.height,\r\n            width: 300\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        refreshHeight();\r\n    }, [feedbackMessage, workspaceId]);\r\n\r\n    useEffect(() => {\r\n        let shouldUpdate = true;\r\n        \r\n        glue.workspaces.getAllWorkspaces().then((allWorkspaces: any[]) => {\r\n            const myWorkspace = allWorkspaces.find((w) => w.id === workspaceId);\r\n            if (shouldUpdate) {\r\n                setWorkspaceName(myWorkspace.layoutName || \"\");\r\n            }\r\n        });\r\n\r\n        return () => {\r\n            shouldUpdate = false;\r\n        }\r\n    }, [workspaceId]);\r\n\r\n    const clearInput = () => {\r\n        setWorkspaceName(\"\");\r\n    }\r\n\r\n    return (\r\n        <div {...props} onClick={(e) => e.stopPropagation()} ref={containerRef} className=\"container-fluid save-workspace\">\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h5 className=\"border-bottom border-secondary pb-1 my-3\">Save Workspace</h5>\r\n                </div>\r\n            </div>\r\n            <div className=\"row mb-2\">\r\n                <div className=\"col\">\r\n                    <input ref={inputRef}\r\n                        value={workspaceName}\r\n                        onChange={(e) => setWorkspaceName(e.target.value)}\r\n                        onClick={(e) => setFeedbackMessage(\"\")}\r\n                        className=\"form-control mr-1\"\r\n                        type=\"text\"\r\n                        placeholder=\"Workspace name\"\r\n                        id=\"js-workspace-name\" />\r\n                </div>\r\n            </div>\r\n            <div className=\"row  align-items-center pb-2\">\r\n                <div className=\"col\">\r\n                    {!buildMode &&\r\n                        <SaveContextCheckbox\r\n                            changeChecked={(v) => setShouldSaveContext(v)}\r\n                            refreshHeight={refreshHeight}\r\n                        />}\r\n                </div>\r\n\r\n                <div className=\"col  text-right\">\r\n                    <SaveWorkspaceButton\r\n                        clearInput={clearInput}\r\n                        inputValue={workspaceName}\r\n                        workspaceId={workspaceId}\r\n                        shouldSaveContext={shouldSaveContext}\r\n                        showFeedback={setFeedbackMessage}\r\n                        hideFeedback={() => setFeedbackMessage(\"\")}\r\n                        hidePopup={hidePopup}\r\n                        buildMode={buildMode}\r\n                        glue={glue}\r\n                    />\r\n                </div>\r\n            </div>\r\n            {feedbackMessage && <Feedback errMessage={feedbackMessage} />}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default withGlueInstance(SaveWorkspacePopup);","/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\nfunction t(t,e,n,i){return new(n||(n=Promise))((function(o,s){function r(t){try{c(i.next(t))}catch(t){s(t)}}function a(t){try{c(i.throw(t))}catch(t){s(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,a)}c((i=i.apply(t,e||[])).next())}))}var e=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:{};function n(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error(\"Dynamic requires are not currently supported by @rollup/plugin-commonjs\")}(null==e&&n.path)}},n.exports),n.exports}var i=n((function(t,e){!function(e){var n={config:{},container:{},controls:{},errors:{},items:{},utils:{}};n.utils.F=function(){},n.utils.extend=function(t,e){t.prototype=n.utils.createObject(e.prototype),t.prototype.contructor=t},n.utils.createObject=function(t){return\"function\"==typeof Object.create?Object.create(t):(n.utils.F.prototype=t,new n.utils.F)},n.utils.objectKeys=function(t){var e,n;if(\"function\"==typeof Object.keys)return Object.keys(t);for(n in e=[],t)e.push(n);return e},n.utils.getHashValue=function(t){var e=location.hash.match(new RegExp(t+\"=([^&]*)\"));return e?e[1]:null},n.utils.getQueryStringParam=function(t){if(window.location.hash)return n.utils.getHashValue(t);if(!window.location.search)return null;var e,i,o=window.location.search.substr(1).split(\"&\"),s={};for(i=0;i<o.length;i++)s[(e=o[i].split(\"=\"))[0]]=e[1];return s[t]||null},n.utils.copy=function(t,e){for(var n in e)t[n]=e[n];return t},n.utils.animFrame=function(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)})((function(){t()}))},n.utils.indexOf=function(t,e){if(!(e instanceof Array))throw new Error(\"Haystack is not an Array\");if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},\"function\"!=typeof/./&&\"object\"!=typeof Int8Array?n.utils.isFunction=function(t){return\"function\"==typeof t||!1}:n.utils.isFunction=function(t){return\"[object Function]\"===toString.call(t)},n.utils.fnBind=function(t,e,n){if(void 0!==Function.prototype.bind)return Function.prototype.bind.apply(t,[e].concat(n||[]));var i=function(){var o=(n||[]).concat(Array.prototype.slice.call(arguments,0));if(!(this instanceof i))return t.apply(e,o);t.apply(this,o)};return i.prototype=t.prototype,i},n.utils.removeFromArray=function(t,e){var i=n.utils.indexOf(t,e);if(-1===i)throw new Error(\"Can't remove item from array. Item is not in the array\");e.splice(i,1)},n.utils.now=function(){return\"function\"==typeof Date.now?Date.now():(new Date).getTime()},n.utils.getUniqueId=function(){return(1e15*Math.random()).toString(36).replace(\".\",\"\")},n.utils.filterXss=function(t,e){var n=t.replace(/javascript/gi,\"j&#97;vascript\").replace(/expression/gi,\"expr&#101;ssion\").replace(/onload/gi,\"onlo&#97;d\").replace(/script/gi,\"&#115;cript\").replace(/onerror/gi,\"on&#101;rror\");return!0===e?n:n.replace(/>/g,\"&gt;\").replace(/</g,\"&lt;\")},n.utils.stripTags=function(t){return e.trim(t.replace(/(<([^>]+)>)/gi,\"\"))},n.utils.EventEmitter=function(){this._mSubscriptions={},this._mSubscriptions[n.utils.EventEmitter.ALL_EVENT]=[],this.on=function(t,e,i){if(!n.utils.isFunction(e))throw new Error(\"Tried to listen to event \"+t+\" with non-function callback \"+e);this._mSubscriptions[t]||(this._mSubscriptions[t]=[]),this._mSubscriptions[t].push({fn:e,ctx:i})},this.emit=function(t){var e,i,o;o=Array.prototype.slice.call(arguments,1);var s=this._mSubscriptions[t];if(s)for(s=s.slice(),e=0;e<s.length;e++)i=s[e].ctx||{},s[e].fn.apply(i,o);o.unshift(t);var r=this._mSubscriptions[n.utils.EventEmitter.ALL_EVENT].slice();for(e=0;e<r.length;e++)i=r[e].ctx||{},r[e].fn.apply(i,o)},this.unbind=function(t,e,n){if(this._mSubscriptions[t]){var i,o=!1;for(i=0;i<this._mSubscriptions[t].length;i++)e&&this._mSubscriptions[t][i].fn!==e||n&&n!==this._mSubscriptions[t][i].ctx||(this._mSubscriptions[t].splice(i,1),o=!0);if(!1===o)throw new Error(\"Nothing to unbind for \"+t)}},this.off=this.unbind,this.trigger=this.emit},n.utils.EventEmitter.ALL_EVENT=\"__all\",n.utils.DragListener=function(t,i){n.utils.EventEmitter.call(this),this._eElement=e(t),this._oDocument=e(document),this._eBody=e(document.body),this._nButtonCode=i||0,this._nDelay=200,this._nDistance=10,this._nX=0,this._nY=0,this._nOriginalX=0,this._nOriginalY=0,this._bDragging=!1,this._fMove=n.utils.fnBind(this.onMouseMove,this),this._fUp=n.utils.fnBind(this.onMouseUp,this),this._fDown=n.utils.fnBind(this.onMouseDown,this),this._eElement.on(\"mousedown touchstart\",this._fDown)},n.utils.DragListener.timeout=null,n.utils.copy(n.utils.DragListener.prototype,{destroy:function(){this._eElement.unbind(\"mousedown touchstart\",this._fDown),this._oDocument.unbind(\"mouseup touchend\",this._fUp),this._eElement=null,this._oDocument=null,this._eBody=null},onMouseDown:function(t){if(t.preventDefault(),0==t.button||\"touchstart\"===t.type){var e=this._getCoordinates(t);this._nOriginalX=e.x,this._nOriginalY=e.y,this._oDocument.on(\"mousemove touchmove\",this._fMove),this._oDocument.one(\"mouseup touchend\",this._fUp),this._timeout=setTimeout(n.utils.fnBind((function(){this._startDrag(t)}),this),this._nDelay)}},onMouseMove:function(t){if(null!=this._timeout){t.preventDefault();var e=this._getCoordinates(t);this._nX=e.x-this._nOriginalX,this._nY=e.y-this._nOriginalY,!1===this._bDragging&&(Math.abs(this._nX)>this._nDistance||Math.abs(this._nY)>this._nDistance)&&(clearTimeout(this._timeout),this._startDrag(t)),this._bDragging&&this.emit(\"drag\",this._nX,this._nY,t)}},onMouseUp:function(t){null!=this._timeout&&(clearTimeout(this._timeout),this._eBody.removeClass(\"lm_dragging\"),this._eElement.removeClass(\"lm_dragging\"),this._oDocument.find(\"iframe\").css(\"pointer-events\",\"\"),this._oDocument.unbind(\"mousemove touchmove\",this._fMove),this._oDocument.unbind(\"mouseup touchend\",this._fUp),!0===this._bDragging&&(this._bDragging=!1,this.emit(\"dragStop\",t,this._nOriginalX+this._nX)))},_startDrag:function(t){this._bDragging=!0,this._eBody.addClass(\"lm_dragging\"),this._eElement.addClass(\"lm_dragging\"),this._oDocument.find(\"iframe\").css(\"pointer-events\",\"none\"),this.emit(\"dragStart\",this._nOriginalX,this._nOriginalY,t)},_getCoordinates:function(t){return{x:(t=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0]:t).pageX,y:t.pageY}}}),n.LayoutManager=function(t,i,o){if(!e&&window.$&&(e=window.$),!e||\"function\"!=typeof e.noConflict){throw'Please either expose $ on GoldenLayout\\'s scope (e.g. window) or add \"jquery\" to ',\"your paths when using RequireJS/AMD\",new Error('jQuery is missing as dependency for GoldenLayout. Please either expose $ on GoldenLayout\\'s scope (e.g. window) or add \"jquery\" to your paths when using RequireJS/AMD')}n.utils.EventEmitter.call(this),this.isInitialised=!1,this._isFullPage=!1,this._resizeTimeoutId=null,this._components={\"lm-react-component\":n.utils.ReactComponentHandler},this._itemAreas=[],this._resizeFunction=n.utils.fnBind(this._onResize,this),this._unloadFunction=n.utils.fnBind(this._onUnload,this),this._maximizedItem=null,this._maximizePlaceholder=e('<div class=\"lm_maximise_place\"></div>'),this._creationTimeoutPassed=!1,this._subWindowsCreated=!1,this._dragSources=[],this._dragProxies=[],this._updatingColumnsResponsive=!1,this._firstLoad=!0,this._componentFactory=o,this.width=null,this.height=null,this.root=null,this.openPopouts=[],this.selectedItem=null,this.isSubWindow=!1,this.eventHub=new n.utils.EventHub(this),this.config=this._createConfig(t),this.container=i,this.dropTargetIndicator=null,this.transitionIndicator=null,this.tabDropPlaceholder=e('<div class=\"lm_drop_tab_placeholder\"></div>'),!0===this.isSubWindow&&e(\"body\").css(\"visibility\",\"hidden\"),this._typeToItem={column:n.utils.fnBind(n.items.RowOrColumn,this,[!0]),row:n.utils.fnBind(n.items.RowOrColumn,this,[!1]),stack:n.items.Stack,component:n.items.Component}},n.LayoutManager.__lm=n,n.LayoutManager.minifyConfig=function(t){return(new n.utils.ConfigMinifier).minifyConfig(t)},n.LayoutManager.unminifyConfig=function(t){return(new n.utils.ConfigMinifier).unminifyConfig(t)},n.utils.copy(n.LayoutManager.prototype,{registerComponent:function(t,e){if(\"function\"!=typeof e)throw new Error(\"Please register a constructor function\");if(void 0!==this._components[t])throw new Error(\"Component \"+t+\" is already registered\");this._components[t]=e},toConfig:function(t){var e,i,o;if(!1===this.isInitialised)throw new Error(\"Can't create config, layout not yet initialised\");if(t&&!(t instanceof n.items.AbstractContentItem))throw new Error(\"Root must be a ContentItem\");for((e={settings:n.utils.copy({},this.config.settings),dimensions:n.utils.copy({},this.config.dimensions),labels:n.utils.copy({},this.config.labels),context:n.utils.copy({},this.config.context),workspacesOptions:n.utils.copy({},this.config.workspacesOptions)}).content=[],(i=function(t,e){var n,o;for(n in e.config)\"content\"!==n&&(t[n]=e.config[n]);if(e.contentItems.length)for(t.content=[],o=0;o<e.contentItems.length;o++)t.content[o]={},i(t.content[o],e.contentItems[o])})(e,t?{contentItems:[t]}:this.root),this._$reconcilePopoutWindows(),e.openPopouts=[],o=0;o<this.openPopouts.length;o++)e.openPopouts.push(this.openPopouts[o].toConfig());return e.maximizedItemId=this._maximizedItem?\"__glMaximised\":null,e},getComponent:function(t){if(void 0===this._components[t])throw new n.errors.ConfigurationError('Unknown component \"'+t+'\"');return this._components[t]},init:function(){if(!1===this._subWindowsCreated&&(this._createSubWindows(),this._subWindowsCreated=!0),\"loading\"!==document.readyState&&null!==document.body){if(!0===this.isSubWindow&&!1===this._creationTimeoutPassed)return setTimeout(n.utils.fnBind(this.init,this),7),void(this._creationTimeoutPassed=!0);!0===this.isSubWindow&&this._adjustToWindowMode(),this._setContainer(),this.dropTargetIndicator=new n.controls.DropTargetIndicator(this.container),this.transitionIndicator=new n.controls.TransitionIndicator,this.updateSize(),this._create(this.config),this._bindEvents(),this.isInitialised=!0,this._adjustColumnsResponsive(),this.emit(\"initialised\")}else e(document).ready(n.utils.fnBind(this.init,this))},updateSize:function(t,e){2===arguments.length?(this.width=t,this.height=e):(this.width=this.container.width(),this.height=this.container.height()),!0===this.isInitialised&&(this.root.callDownwards(\"setSize\",[this.width,this.height]),this._maximizedItem&&(this._maximizedItem.element.width(t),this._maximizedItem.element.height(e),this._maximizedItem.callDownwards(\"setSize\")),this._adjustColumnsResponsive())},destroy:function(){!1!==this.isInitialised&&(this._onUnload(),e(window).off(\"resize\",this._resizeFunction),e(window).off(\"unload beforeunload\",this._unloadFunction),this.root.callDownwards(\"_$destroy\",[],!0),this.root.contentItems=[],this.tabDropPlaceholder.remove(),this.dropTargetIndicator.destroy(),this.transitionIndicator.destroy(),this.eventHub.destroy(),this._dragSources.forEach((function(t){\"function\"==typeof t._dragListener.destroy&&t._dragListener.destroy(),t._element=null,t._itemConfig=null,t._dragListener=null})),this._dragSources=[])},createContentItem:function(t,e){var i;if(\"string\"!=typeof t.type)throw new n.errors.ConfigurationError(\"Missing parameter 'type'\",t);if(\"react-component\"===t.type&&(t.type=\"component\",t.componentName=\"lm-react-component\"),!this._typeToItem[t.type])throw i=\"Unknown type '\"+t.type+\"'. Valid types are \"+n.utils.objectKeys(this._typeToItem).join(\",\"),new n.errors.ConfigurationError(i);return\"component\"!==t.type||e instanceof n.items.Stack||!e||!0===this.isSubWindow&&e instanceof n.items.Root||(t={type:\"stack\",width:t.width,height:t.height,content:[t]}),new this._typeToItem[t.type](this,t,e)},createPopout:function(t,e,i,o){var s,r,a,c,l,d,h=t,u=t instanceof n.items.AbstractContentItem,p=this;if(i=i||null,u){for(h=this.toConfig(t).content,i=n.utils.getUniqueId(),c=t.parent,l=t;1===c.contentItems.length&&!c.isRoot;)c=c.parent,l=l.parent;c.addId(i),isNaN(o)&&(o=n.utils.indexOf(l,c.contentItems))}else h instanceof Array||(h=[h]);return!e&&u&&(s=window.screenX||window.screenLeft,r=window.screenY||window.screenTop,e={left:s+(a=t.element.offset()).left,top:r+a.top,width:t.element.width(),height:t.element.height()}),e||u||(e={left:window.screenX||window.screenLeft+20,top:window.screenY||window.screenTop+20,width:500,height:309}),u&&t.remove(),(d=new n.controls.BrowserPopout(h,e,i,o,this)).on(\"initialised\",(function(){p.emit(\"windowOpened\",d)})),d.on(\"closed\",(function(){p._$reconcilePopoutWindows()})),this.openPopouts.push(d),d},createDragSource:function(t,i,o){this.config.settings.constrainDragToContainer=!1;var s=new n.controls.DragSource(e(t),i,this,o);return this._dragSources.push(s),s},selectItem:function(t,e){if(!0!==this.config.settings.selectionEnabled)throw new Error(\"Please set selectionEnabled to true to use this feature\");t!==this.selectedItem&&(null!==this.selectedItem&&this.selectedItem.deselect(),t&&!0!==e&&t.select(),this.selectedItem=t,this.emit(\"selectionChanged\",t))},_$maximiseItem:function(t){null!==this._maximizedItem&&this._$minimizeItem(this._maximizedItem),this._maximizedItem=t,this._maximizedItem.addId(\"__glMaximised\"),t.element.addClass(\"lm_maximised\"),t.element.after(this._maximizePlaceholder),this.root.element.prepend(t.element),t.element.width(this.container.width()),t.element.height(this.container.height()),t.callDownwards(\"setSize\"),this._maximizedItem.emit(\"maximized\"),this.emit(\"stateChanged\")},_$minimiseItem:function(t){t.element.removeClass(\"lm_maximised\"),t.removeId(\"__glMaximised\"),this._maximizePlaceholder.after(t.element),this._maximizePlaceholder.remove(),t.parent.callDownwards(\"setSize\"),this._maximizedItem=null,t.emit(\"minimized\"),this.emit(\"stateChanged\")},_$closeWindow:function(){window.setTimeout((function(){window.close()}),1)},_$getArea:function(t,e){var n,i,o=1/0,s=null;for(n=0;n<this._itemAreas.length;n++)t>(i=this._itemAreas[n]).x1&&t<i.x2&&e>i.y1&&e<i.y2&&o>i.surface&&(o=i.surface,s=i);return s},_$createRootItemAreas:function(){var t={y2:0,x2:0,y1:\"y2\",x1:\"x2\"};for(var e in t){var n=this.root._$getArea();n.side=e,n[e]=t[e]?n[t[e]]-50:\"y2\"===e?50+this.root.element.offset().top:50,n.surface=(n.x2-n.x1)*(n.y2-n.y1),this._itemAreas.push(n)}},_$calculateItemAreas:function(){var t,e,i=this._getAllContentItems();if(this._itemAreas=[],1!==i.length){for(this._$createRootItemAreas(),t=0;t<i.length;t++)if(i[t].isStack&&null!==(e=i[t]._$getArea()))if(e instanceof Array)this._itemAreas=this._itemAreas.concat(e);else{this._itemAreas.push(e);var o={};n.utils.copy(o,e),n.utils.copy(o,e.contentItem._contentAreaDimensions.header.highlightArea),o.surface=(o.x2-o.x1)*(o.y2-o.y1),this._itemAreas.push(o)}\"workspace\"===this.config.settings.mode&&(this._itemAreas=[this._itemAreas[this._itemAreas.length-1]])}else this._itemAreas.push(this.root._$getArea())},_$normalizeContentItem:function(t,i){if(!t)throw new Error(\"No content item defined\");if(n.utils.isFunction(t)&&(t=t()),t instanceof n.items.AbstractContentItem)return t;if(e.isPlainObject(t)&&t.type){var o=this.createContentItem(t,i);return o.callDownwards(\"_$init\"),o}throw new Error(\"Invalid contentItem\")},_$reconcilePopoutWindows:function(){var t,e=[];for(t=0;t<this.openPopouts.length;t++)!1===this.openPopouts[t].getWindow().closed?e.push(this.openPopouts[t]):this.emit(\"windowClosed\",this.openPopouts[t]);this.openPopouts.length!==e.length&&(this.emit(\"stateChanged\"),this.openPopouts=e)},_getAllContentItems:function(){var t=[],e=function(n){if(t.push(n),n.contentItems instanceof Array)for(var i=0;i<n.contentItems.length;i++)e(n.contentItems[i])};return e(this.root),t},_bindEvents:function(){this._isFullPage&&e(window).resize(this._resizeFunction),e(window).on(\"unload beforeunload\",this._unloadFunction)},_onResize:function(){clearTimeout(this._resizeTimeoutId),this._resizeTimeoutId=setTimeout(n.utils.fnBind(this.updateSize,this),100)},_createConfig:function(t){var i=n.utils.getQueryStringParam(\"gl-window\");i&&(this.isSubWindow=!0,t=localStorage.getItem(i),t=JSON.parse(t),t=(new n.utils.ConfigMinifier).unminifyConfig(t),localStorage.removeItem(i)),t=e.extend(!0,{},n.config.defaultConfig,t);var o=function(t){for(var e in t)\"props\"!==e&&\"object\"==typeof t[e]?o(t[e]):\"type\"===e&&\"react-component\"===t[e]&&(t.type=\"component\",t.componentName=\"lm-react-component\")};return o(t),!1===t.settings.hasHeaders&&(t.dimensions.headerHeight=0),t},_adjustToWindowMode:function(){var t=e('<div class=\"lm_popin\" title=\"'+this.config.labels.popin+'\"><div class=\"lm_icon\"></div><div class=\"lm_bg\"></div></div>');t.click(n.utils.fnBind((function(){this.emit(\"popIn\")}),this)),document.title=n.utils.stripTags(this.config.content[0].title),e(\"head\").append(e(\"body link, body style, template, .gl_keep\")),this.container=e(\"body\").html(\"\").css(\"visibility\",\"visible\").append(t);document.body.offsetHeight;window.__glInstance=this},_createSubWindows:function(){var t,e;for(t=0;t<this.config.openPopouts.length;t++)e=this.config.openPopouts[t],this.createPopout(e.content,e.dimensions,e.parentId,e.indexInParent)},_setContainer:function(){var t=e(this.container||\"body\");if(0===t.length)throw new Error(\"GoldenLayout container not found\");if(t.length>1)throw new Error(\"GoldenLayout more than one container element specified\");t[0]===document.body&&(this._isFullPage=!0,e(\"html, body\").css({height:\"100%\",margin:0,padding:0,overflow:\"hidden\"})),this.container=t},_create:function(t){var e;if(!(t.content instanceof Array))throw e=void 0===t.content?\"Missing setting 'content' on top level of configuration\":\"Configuration parameter 'content' must be an array\",new n.errors.ConfigurationError(e,t);if(t.content.length>1)throw e=\"Top level content can't contain more then one element.\",new n.errors.ConfigurationError(e,t);this.root=new n.items.Root(this,{content:t.content},this.container),this.root.callDownwards(\"_$init\"),\"__glMaximised\"===t.maximizedItemId&&this.root.getItemsById(t.maximizedItemId)[0].toggleMaximise()},_onUnload:function(){if(!0===this.config.settings.closePopoutsOnUnload)for(var t=0;t<this.openPopouts.length;t++)this.openPopouts[t].close()},_adjustColumnsResponsive:function(){if(this._useResponsiveLayout()&&!this._updatingColumnsResponsive&&this.config.dimensions&&this.config.dimensions.minItemWidth&&0!==this.root.contentItems.length&&this.root.contentItems[0].isRow){this._firstLoad=!1;var t=this.root.contentItems[0].contentItems.length;if(!(t<=1)){var e=this.config.dimensions.minItemWidth;if(!(t*e<=this.width)&&this.container.is(\":visible\")){this._updatingColumnsResponsive=!0;for(var n=t-Math.max(Math.floor(this.width/e),1),i=this.root.contentItems[0],o=this._findAllStackContainers()[0],s=0;s<n;s++){var r=i.contentItems[i.contentItems.length-1];this._addChildContentItemsToContainer(o,r)}this._updatingColumnsResponsive=!1}}}else this._firstLoad=!1},_useResponsiveLayout:function(){return this.config.settings&&(\"always\"==this.config.settings.responsiveMode||\"onload\"==this.config.settings.responsiveMode&&this._firstLoad)},_addChildContentItemsToContainer:function(t,e){\"stack\"===e.type?e.contentItems.forEach((function(n){t.addChild(n),e.removeChild(n,!0)})):e.contentItems.forEach(n.utils.fnBind((function(e){this._addChildContentItemsToContainer(t,e)}),this))},_findAllStackContainers:function(){var t=[];return this._findAllStackContainersRecursive(t,this.root),t},_findAllStackContainersRecursive:function(t,e){e.contentItems.forEach(n.utils.fnBind((function(e){\"stack\"==e.type?t.push(e):e.isComponent||this._findAllStackContainersRecursive(t,e)}),this))}}),n.LayoutManager.default=n.LayoutManager,t.exports=n.LayoutManager,window.GoldenLayout=n.LayoutManager,n.config.defaultConfig={openPopouts:[],settings:{hasHeaders:!0,constrainDragToContainer:!0,reorderEnabled:!0,selectionEnabled:!1,popoutWholeStack:!1,blockedPopoutsThrowError:!0,closePopoutsOnUnload:!0,showMinimizeIcon:!1,showPopoutIcon:!0,showMaximizeIcon:!0,showCloseIcon:!0,responsiveMode:\"always\",tabOverlapAllowance:0,reorderOnTabMenuClick:!0,tabControlOffset:10,mode:\"default\"},dimensions:{borderWidth:5,borderGrabWidth:15,minItemHeight:10,minItemWidth:10,headerHeight:20,dragProxyWidth:500,dragProxyHeight:500},labels:{close:\"close\",maximize:\"maximize\",restore:\"restore\",minimize:\"minimize\",popout:\"eject\",popin:\"pop in\",tabDropdown:\"additional tabs\"},workspacesOptions:{}},n.config.itemDefaultConfig={isClosable:!0,reorderEnabled:!0,title:\"\",workspacesConfig:{}},n.container.ItemContainer=function(t,i,o){n.utils.EventEmitter.call(this),this.width=null,this.height=null,this.title=t.componentName,this.parent=i,this.layoutManager=o,this.isHidden=!1,this._config=t,this._element=e(['<div class=\"lm_item_container\">','<div class=\"lm_content\"></div>',\"</div>\"].join(\"\")),this._contentElement=this._element.find(\".lm_content\")},n.utils.copy(n.container.ItemContainer.prototype,{getElement:function(){return this._contentElement},hide:function(){this.emit(\"hide\"),this.isHidden=!0,this._element.hide()},show:function(){this.emit(\"show\"),this.isHidden=!1,this._element.show(),0==this.height&&0==this.width||this.emit(\"shown\")},setSize:function(t,e){for(var n,i,o,s,r=this.parent,a=this;!r.isColumn&&!r.isRow;)if(a=r,(r=r.parent).isRoot)return!1;for(n=(\"height\"===(i=r.isColumn?\"height\":\"width\")?e:t)/(this[i]*(1/(a.config[i]/100)))*100,o=(a.config[i]-n)/(r.contentItems.length-1),s=0;s<r.contentItems.length;s++)r.contentItems[s]===a?r.contentItems[s].config[i]=n:r.contentItems[s].config[i]+=o;return r.callDownwards(\"setSize\"),!0},close:function(){this._config.isClosable&&(this.emit(\"close\"),this.parent.close())},getState:function(){return this._config.componentState},extendState:function(t){this.setState(e.extend(!0,this.getState(),t))},setState:function(t){this._config.componentState=t,this.parent.emitBubblingEvent(\"stateChanged\")},setTitle:function(t){this.parent.setTitle(t)},_$setSize:function(t,e){if(t!==this.width||e!==this.height){this.width=t,this.height=e;var n=this._contentElement[0],i=n.offsetWidth-n.clientWidth,o=n.offsetHeight-n.clientHeight;this._contentElement.width(this.width-i).height(this.height-o),this.emit(\"resize\")}}}),n.controls.BrowserPopout=function(t,e,i,o,s){n.utils.EventEmitter.call(this),this.isInitialised=!1,this._config=t,this._dimensions=e,this._parentId=i,this._indexInParent=o,this._layoutManager=s,this._popoutWindow=null,this._id=null,this._createWindow()},n.utils.copy(n.controls.BrowserPopout.prototype,{toConfig:function(){if(!1===this.isInitialised)throw new Error(\"Can't create config, layout not yet initialised\");return{dimensions:{width:this.getGlInstance().width,height:this.getGlInstance().height,left:this._popoutWindow.screenX||this._popoutWindow.screenLeft,top:this._popoutWindow.screenY||this._popoutWindow.screenTop},content:this.getGlInstance().toConfig().content,parentId:this._parentId,indexInParent:this._indexInParent}},getGlInstance:function(){return this._popoutWindow.__glInstance},getWindow:function(){return this._popoutWindow},close:function(){if(this.getGlInstance())this.getGlInstance()._$closeWindow();else try{this.getWindow().close()}catch(t){}},popIn:function(){var t,n;this._indexInParent;this._parentId&&(t=e.extend(!0,{},this.getGlInstance().toConfig()).content[0],(n=this._layoutManager.root.getItemsById(this._parentId)[0])||(n=this._layoutManager.root.contentItems.length>0?this._layoutManager.root.contentItems[0]:this._layoutManager.root)),n.addChild(t,this._indexInParent),this.close()},_createWindow:function(){var t,i=this._createUrl(),o=Math.floor(1e6*Math.random()).toString(36),s=this._serializeWindowOptions({width:this._dimensions.width,height:this._dimensions.height,innerWidth:this._dimensions.width,innerHeight:this._dimensions.height,menubar:\"no\",toolbar:\"no\",location:\"no\",personalbar:\"no\",resizable:\"yes\",scrollbars:\"no\",status:\"no\"});if(this._popoutWindow=window.open(i,o,s),this._popoutWindow)e(this._popoutWindow).on(\"load\",n.utils.fnBind(this._positionWindow,this)).on(\"unload beforeunload\",n.utils.fnBind(this._onClose,this)),t=setInterval(n.utils.fnBind((function(){this._popoutWindow.__glInstance&&this._popoutWindow.__glInstance.isInitialised&&(this._onInitialised(),clearInterval(t))}),this),10);else if(!0===this._layoutManager.config.settings.blockedPopoutsThrowError){var r=new Error(\"Popout blocked\");throw r.type=\"popoutBlocked\",r}},_serializeWindowOptions:function(t){var e,n=[];for(e in t)n.push(e+\"=\"+t[e]);return n.join(\",\")},_createUrl:function(){var t,e={content:this._config},i=\"gl-window-config-\"+n.utils.getUniqueId();e=(new n.utils.ConfigMinifier).minifyConfig(e);try{localStorage.setItem(i,JSON.stringify(e))}catch(t){throw new Error(\"Error while writing to localStorage \"+t.toString())}return 1===(t=document.location.href.split(\"?\")).length?t[0]+\"?gl-window=\"+i:document.location.href+\"&gl-window=\"+i},_positionWindow:function(){this._popoutWindow.moveTo(this._dimensions.left,this._dimensions.top),this._popoutWindow.focus()},_onInitialised:function(){this.isInitialised=!0,this.getGlInstance().on(\"popIn\",this.popIn,this),this.emit(\"initialised\")},_onClose:function(){setTimeout(n.utils.fnBind(this.emit,this,[\"closed\"]),50)}}),n.controls.DragProxy=function(t,i,o,s,r,a){n.utils.EventEmitter.call(this),this._dragListener=o,this._layoutManager=s,this._contentItem=r,this._originalParent=a,this._area=null,this._lastValidArea=null,this._dragListener.on(\"drag\",this._onDrag,this),this._dragListener.on(\"dragStop\",this._onDrop,this),this.element=e(n.controls.DragProxy._template),a&&a._side&&(this._sided=a._sided,this.element.addClass(\"lm_\"+a._side),[\"right\",\"bottom\"].indexOf(a._side)>=0&&this.element.find(\".lm_content\").after(this.element.find(\".lm_header\"))),this.element.css({left:t,top:i}),this.element.find(\".lm_tab\").attr(\"title\",n.utils.stripTags(this._contentItem.config.title)),this.element.find(\".lm_title\").html(this._contentItem.config.title),this.childElementContainer=this.element.find(\".lm_content\"),this.childElementContainer.append(r.element),this._originalParent&&this._originalParent.layoutManager.config&&this._originalParent.layoutManager.config.settings&&this._originalParent.layoutManager.config.settings.disableDragProxy&&this.element.find(\".lm_content\").css(\"display\",\"none\"),this._updateTree(),this._layoutManager._$calculateItemAreas(),this._setDimensions(),e(document.body).append(this.element);var c=this._layoutManager.container.offset();this._minX=c.left,this._minY=c.top,this._maxX=this._layoutManager.container.width()+this._minX,this._maxY=this._layoutManager.container.height()+this._minY,this._width=this._layoutManager.config.dimensions.dragProxyWidth,this._height=this._layoutManager.config.dimensions.dragProxyHeight,this._setDropPosition(t,i)},n.controls.DragProxy._template='<div class=\"lm_dragProxy\"><div class=\"lm_header\"><ul class=\"lm_tabs\"><li class=\"lm_tab lm_active\"><i class=\"lm_left\"></i><span class=\"lm_title\"></span><i class=\"lm_right\"></i></li></ul></div><div class=\"lm_content\"></div></div>',n.utils.copy(n.controls.DragProxy.prototype,{_onDrag:function(t,e,n){var i=(n=n.originalEvent&&n.originalEvent.touches?n.originalEvent.touches[0]:n).pageX,o=n.pageY;(i>this._minX&&i<this._maxX&&o>this._minY&&o<this._maxY||!0!==this._layoutManager.config.settings.constrainDragToContainer)&&this._setDropPosition(i,o)},_setDropPosition:function(t,e){this.element.css({left:t,top:e}),this._area=this._layoutManager._$getArea(t,e),null!==this._area&&(this._lastValidArea=this._area,this._area.contentItem._$highlightDropZone(t,e,this._area))},_onDrop:function(t){this._layoutManager.dropTargetIndicator.hide(),this.element.find(\".lm_content\").css(\"display\",\"\"),null===this._area||t&&t.canceled?null===this._lastValidArea||t&&t.canceled?!this._originalParent||t&&t.canceled?this._contentItem._$destroy():this._originalParent.addChild(this._contentItem):this._lastValidArea.contentItem._$onDrop(this._contentItem,this._lastValidArea):(this._area.contentItem._$onDrop(this._contentItem,this._area),this._originalParent&&this._area.contentItem!==this._originalParent&&this._layoutManager.emit(\"parentChanged\",this._contentItem,this._originalParent)),this.element.remove();const e=this._layoutManager._dragProxies.indexOf(this);e>-1&&this._layoutManager._dragProxies.splice(e,1),this._layoutManager.emit(\"itemDropped\",this._contentItem)},_updateTree:function(){this._contentItem.parent&&this._contentItem.parent.removeChild(this._contentItem,!0),this._contentItem._$setParent(this)},_setDimensions:function(){this._contentItem.callDownwards(\"_$show\")}}),n.controls.DragSource=function(t,e,n,i){this._element=t,this._itemConfig=e,this._layoutManager=n,this._dragListener=null,this._createDragListener(i)},n.utils.copy(n.controls.DragSource.prototype,{_createDragListener:function(t){null!==this._dragListener&&this._dragListener.destroy(),this._dragListener=t||new n.utils.DragListener(this._element),\"function\"==typeof this._dragListener.on&&(this._dragListener.on(\"dragStart\",this._onDragStart,this),this._dragListener.on(\"dragStop\",this._createDragListener,this))},_onDragStart:function(t,i){var o=this._itemConfig;n.utils.isFunction(o)&&(o=o());var s=this._layoutManager._$normalizeContentItem(e.extend(!0,{},o)),r=new n.controls.DragProxy(t,i,this._dragListener,this._layoutManager,s,null);this._layoutManager.transitionIndicator.transitionElements(this._element,r.element)}}),n.controls.DropTargetIndicator=function(){this.element=e(n.controls.DropTargetIndicator._template),e(document.body).append(this.element)},n.controls.DropTargetIndicator._template='<div class=\"lm_dropTargetIndicator\"><div class=\"lm_inner\"><span></span><span></span><span></span></div></div>',n.utils.copy(n.controls.DropTargetIndicator.prototype,{destroy:function(){this.element.remove()},highlight:function(t,e,n,i){this.highlightArea({x1:t,y1:e,x2:n,y2:i})},highlightArea:function(t){this.element.css({left:t.x1,top:t.y1,width:t.x2-t.x1,height:t.y2-t.y1}).show()},hide:function(){this.element.hide()}}),n.controls.Header=function(t,i){if(n.utils.EventEmitter.call(this),this.layoutManager=t,this.element=e(n.controls.Header._template),!0===this.layoutManager.config.settings.selectionEnabled&&(this.element.addClass(\"lm_selectable\"),this.element.on(\"click touchstart\",n.utils.fnBind(this._onHeaderClick,this))),\"workspace\"===this.layoutManager.config.settings.mode&&this.element.addClass(\"header_double\"),\"workspace\"===this.layoutManager.config.settings.mode&&this.layoutManager._componentFactory){const t=this.element.children(\".lm_controls\")[0],e=this.element.children(\".lm_workspace_controls\")[0],n=this.element.children(\".lm_logo\")[0];this.layoutManager._componentFactory.createLogo&&this.layoutManager._componentFactory.createLogo({domNode:n}),this.layoutManager._componentFactory.createAddWorkspace&&this.layoutManager._componentFactory.createAddWorkspace({domNode:e}),this.layoutManager._componentFactory.createSystemButtons&&this.layoutManager._componentFactory.createSystemButtons({domNode:t})}this.tabsContainer=this.element.find(\".lm_tabs\"),this.tabDropdownContainer=this.element.find(\".lm_tabdropdown_list\"),this.tabDropdownContainer.hide(),this.controlsContainer=this.element.find(\".lm_controls\"),this.workspaceControlsContainer=\"workspace\"===this.layoutManager.config.settings.mode?this.element.find(\".lm_workspace_controls\"):void 0,this.tabsControlsContainer=\"workspace\"!==this.layoutManager.config.settings.mode?this.element.find(\".lm_tabs_controls\"):void 0,this.parent=i,this.parent.on(\"resize\",this._updateTabSizesWithoutDropdown,this),this.tabs=[],this.activeContentItem=null,this.closeButton=null,this.tabDropdownButton=null,this.hideAdditionalTabsDropdown=n.utils.fnBind(this._hideAdditionalTabsDropdown,this),e(document).mouseup(this.hideAdditionalTabsDropdown),this._lastVisibleTabIndex=-1,this._tabControlOffset=this.layoutManager.config.settings.tabControlOffset,\"workspace\"===this.layoutManager.config.settings.mode&&this.layoutManager._componentFactory&&this.layoutManager._componentFactory.createSystemButtons||this._createControls()},n.controls.Header._template=['<div class=\"lm_header\">','<div class=\"lm_logo\"></div>','<ul class=\"lm_tabs\"></ul>','<ul class=\"lm_workspace_controls\"></ul>','<ul class=\"lm_tabs_controls\"></ul>','<div class=\"move_area\"></div>','<ul class=\"lm_controls\"></ul>','<ul class=\"lm_tabdropdown_list\"></ul>',\"</div>\"].join(\"\"),n.utils.copy(n.controls.Header.prototype,{createTab:function(t,e){var i,o;for(o=0;o<this.tabs.length;o++)if(this.tabs[o].contentItem===t)return;if(i=new n.controls.Tab(this,t),0===this.tabs.length)return this.tabs.push(i),void this.tabsContainer.append(i.element);void 0===e&&(e=this.tabs.length),e>0?this.tabs[e-1].element.after(i.element):this.tabs[0].element.before(i.element),this.tabs.splice(e,0,i),this._updateTabSizesWithoutDropdown()},removeTab:function(t){for(var e=0;e<this.tabs.length;e++)if(this.tabs[e].contentItem===t)return this.tabs[e]._$destroy(),void this.tabs.splice(e,1);throw new Error(\"contentItem is not controlled by this header\")},setActiveContentItem:function(t){var e,n,i,o;for(e=0;e<this.tabs.length;e++)i=this.tabs[e].contentItem===t,this.tabs[e].setActive(i),!0===i&&(this.activeContentItem=t,this.parent.config.activeItemIndex=e);if(this.layoutManager.config.settings.reorderOnTabMenuClick&&-1!==this._lastVisibleTabIndex&&this.parent.config.activeItemIndex>this._lastVisibleTabIndex){for(o=this.tabs[this.parent.config.activeItemIndex],n=this.parent.config.activeItemIndex;n>0;n--)this.tabs[n]=this.tabs[n-1];this.tabs[0]=o,this.parent.config.activeItemIndex=0}this._updateTabSizesWithoutDropdown(),this.parent.emitBubblingEvent(\"stateChanged\")},position:function(t){var e=this.parent._header.show;return e&&!this.parent._side&&(e=\"top\"),void 0!==t&&this.parent._header.show!=t&&(this.parent._header.show=t,this.parent._setupHeaderPosition()),e},_$setClosable:function(t){return!(!this.closeButton||!this._isClosable())&&(this.closeButton.element[t?\"show\":\"hide\"](),!0)},_$destroy:function(){this.emit(\"destroy\",this);for(var t=0;t<this.tabs.length;t++)this.tabs[t]._$destroy();e(document).off(\"mouseup\",this.hideAdditionalTabsDropdown),this.element.remove()},_getHeaderSetting:function(t){if(t in this.parent._header)return this.parent._header[t]},_createControls:function(){var t,e,i,o,s,r,a,c,l;l=n.utils.fnBind(this._showAdditionalTabsDropdown,this),c=this.layoutManager.config.labels.tabDropdown,this.tabDropdownButton=new n.controls.HeaderButton(this,c,\"lm_tabdropdown\",l),this.tabDropdownButton.element.hide(),this._getHeaderSetting(\"popout\")&&(e=n.utils.fnBind(this._onPopoutClick,this),i=this._getHeaderSetting(\"popout\"),new n.controls.HeaderButton(this,i,\"lm_popout\",e)),this._getHeaderSetting(\"minimize\")&&(minimizeLabel=this._getHeaderSetting(\"minimize\"),minimizeButton=new n.controls.HeaderButton(this,minimizeLabel,\"lm_minimise\",void 0)),this._getHeaderSetting(\"maximize\")&&(\"workspace\"!==this.layoutManager.config.settings.mode&&(r=n.utils.fnBind(this.parent.toggleMaximise,this.parent)),o=this._getHeaderSetting(\"maximize\"),a=new n.controls.HeaderButton(this,o,\"lm_maximise\",r),s=this._getHeaderSetting(\"restore\"),this.parent.on(\"maximized\",(function(){a.element.attr(\"title\",s)})),this.parent.on(\"minimized\",(function(){a.element.attr(\"title\",o)}))),this._isClosable()&&(\"workspace\"!==this.layoutManager.config.settings.mode&&(t=n.utils.fnBind(this.parent.remove,this.parent)),i=this._getHeaderSetting(\"close\"),this.closeButton=new n.controls.HeaderButton(this,i,\"lm_close\",t))},_showAdditionalTabsDropdown:function(){this.tabDropdownContainer.show()},_hideAdditionalTabsDropdown:function(t){this.tabDropdownContainer.hide()},_isClosable:function(){return this.parent.config.isClosable&&this.layoutManager.config.settings.showCloseIcon},_onPopoutClick:function(){this.parent.emit(\"popoutRequested\")},_onHeaderClick:function(t){t.target===this.element[0]&&this.parent.select()},_updateTabSizes:function(t){if(0!==this.tabs.length){this.tabDropdownButton.element.toggle(!0===t);this.element.css(!this.parent._sided?\"width\":\"height\",\"\");var e,n,i,o,s=this.element.outerWidth()-this.controlsContainer.outerWidth()-this._tabControlOffset,r=0,a=0,c=0,l=this.layoutManager.config.settings.tabOverlapAllowance,d=!1,h=this.activeContentItem?this.tabs.indexOf(this.activeContentItem.tab):0,u=this.tabs[h];for(this.parent._sided&&(s=this.element.outerHeight()-this.controlsContainer.outerHeight()-this._tabControlOffset),this._lastVisibleTabIndex=-1,n=0;n<this.tabs.length;n++)if(e=this.tabs[n].element,this.tabsContainer.append(e),r+=e.outerWidth()+parseInt(e.css(\"margin-right\"),10),(a=h<=n?r:r+u.element.outerWidth()+parseInt(u.element.css(\"margin-right\"),10))>s){if(d)n===h&&(e.css({\"z-index\":\"auto\",\"margin-left\":\"\"}),this.tabsContainer.append(e));else if((c=h>0&&h<=n?(a-s)/(n-1):(a-s)/n)<l){for(i=0;i<=n;i++)o=i!==h&&0!==i?\"-\"+c+\"px\":\"\",this.tabs[i].element.css({\"z-index\":n-i,\"margin-left\":o});this._lastVisibleTabIndex=n,this.tabsContainer.append(e)}else d=!0;if(d&&n!==h){if(!t)return void this._updateTabSizes(!0);e.css({\"z-index\":\"auto\",\"margin-left\":\"\"}),this.tabDropdownContainer.append(e)}}else this._lastVisibleTabIndex=n,e.css({\"z-index\":\"auto\",\"margin-left\":\"\"}),this.tabsContainer.append(e)}},_updateTabSizesWithoutDropdown:function(t){if(0!==this.tabs.length){this.element.css(!this.parent._sided?\"width\":\"height\",\"\");this.element.outerWidth(),this.controlsContainer.outerWidth(),this._tabControlOffset;var e,n,i=0,o=(this.layoutManager.config.settings.tabOverlapAllowance,this.activeContentItem?this.tabs.indexOf(this.activeContentItem.tab):0),s=this.tabs[o];for(this.parent._sided&&this.element.outerHeight()-this.controlsContainer.outerHeight()-this._tabControlOffset,n=0;n<this.tabs.length;n++)e=this.tabs[n].element,this.tabsContainer.append(e),i+=e.outerWidth()+parseInt(e.css(\"margin-right\"),10),o<=n?i:i+s.element.outerWidth()+parseInt(s.element.css(\"margin-right\"),10),e.css({\"z-index\":\"auto\",\"margin-left\":\"\"}),this.tabsContainer.append(e)}}}),n.controls.HeaderButton=function(t,n,i,o){this._header=t,this.element=e('<li class=\"'+i+'\" title=\"'+n+'\"></li>'),this._header.on(\"destroy\",this._$destroy,this),this._action=o,this.element.on(\"click touchstart\",this._action),this._header.controlsContainer.append(this.element)},n.utils.copy(n.controls.HeaderButton.prototype,{_$destroy:function(){this.element.off(),this.element.remove()}}),n.controls.Splitter=function(t,e,i){this._isVertical=t,this._size=e,this._grabSize=i<e?e:i,this.element=this._createElement(),this._dragListener=new n.utils.DragListener(this.element)},n.utils.copy(n.controls.Splitter.prototype,{on:function(t,e,n){this._dragListener.on(t,e,n)},_$destroy:function(){this.element.remove()},_createElement:function(){var t=e('<div class=\"lm_drag_handle\"></div>'),n=e('<div class=\"lm_splitter\"></div>');n.append(t);var i=this._grabSize-this._size,o=i/2;return this._isVertical?(t.css(\"top\",-o),t.css(\"height\",this._size+i),n.addClass(\"lm_vertical\"),n.height(this._size)):(t.css(\"left\",-o),t.css(\"width\",this._size+i),n.addClass(\"lm_horizontal\"),n.width(this._size)),n}}),n.controls.Tab=function(t,i){this.header=t,this.contentItem=i,this.element=e(n.controls.Tab._template),this.titleElement=this.element.find(\".lm_title\"),this.closeElement=this.element.find(\".lm_close_tab\"),this.closeElement[i.config.isClosable?\"show\":\"hide\"](),this.isActive=!1,this.setTitle(i.config.title),this.contentItem.on(\"titleChanged\",this.setTitle,this),this._layoutManager=this.contentItem.layoutManager,!0===this._layoutManager.config.settings.reorderEnabled&&!0===i.config.reorderEnabled&&(this._dragListener=new n.utils.DragListener(this.element),this._dragListener.on(\"dragStart\",this._onDragStart,this),this.contentItem.on(\"destroy\",this._dragListener.destroy,this._dragListener)),this._onTabClickFn=n.utils.fnBind(this._onTabClick,this),this._onCloseClickFn=n.utils.fnBind(this._onCloseClick,this),\"workspace\"===this._layoutManager.config.settings.mode&&i.config.noTabHeader&&this.element.hide(),this.element.on(\"mousedown touchstart\",this._onTabClickFn),this.contentItem.config.isClosable?(this.closeElement.on(\"click touchstart\",this._onCloseClickFn),this.closeElement.on(\"mousedown\",this._onCloseMousedown)):this.closeElement.remove(),this.contentItem.tab=this,this.contentItem.emit(\"tab\",this),this.contentItem.layoutManager.emit(\"tabCreated\",this),this.contentItem.isComponent&&(this.contentItem.container.tab=this,this.contentItem.container.emit(\"tab\",this))},n.controls.Tab._template='<li class=\"lm_tab\"><i class=\"lm_left\"></i><span class=\"lm_title\"></span><div class=\"lm_close_tab\"></div><i class=\"lm_right\"></i></li>',n.utils.copy(n.controls.Tab.prototype,{setTitle:function(t){this.element.attr(\"title\",n.utils.stripTags(t)),this.titleElement.html(t)},onCloseClick:void 0,setActive:function(t){t!==this.isActive&&(this.isActive=t,t?this.element.addClass(\"lm_active\"):this.element.removeClass(\"lm_active\"))},_$destroy:function(){this.element.off(\"mousedown touchstart\",this._onTabClickFn),this.closeElement.off(\"click touchstart\",this._onCloseClickFn),this._dragListener&&(this.contentItem.off(\"destroy\",this._dragListener.destroy,this._dragListener),this._dragListener.off(\"dragStart\",this._onDragStart),this._dragListener=null),this.element.remove()},_onDragStart:function(t,e){!0===this.contentItem.parent.isMaximized&&this.contentItem.parent.toggleMaximise();const i=\"workspace\"===this.contentItem.layoutManager.config.settings.mode,o=this.contentItem.parent.header.tabs.length<2,s=!this.contentItem.config.windowId&&!this.contentItem.config.componentState.windowId;if(i&&o)return;if(!i&&s)return;const r=new n.controls.DragProxy(t,e,this._dragListener,this._layoutManager,this.contentItem,this.header.parent);this._layoutManager._dragProxies.push(r)},_onTabClick:function(t){if(0===t.button||\"touchstart\"===t.type){var e=this.header.parent.getActiveContentItem();this.contentItem!==e&&this.header.parent.setActiveContentItem(this.contentItem)}else 1===t.button&&this.contentItem.config.isClosable&&this._onCloseClick(t)},_onCloseClick:function(t){this.contentItem.layoutManager.emit(\"tabCloseRequested\",this),this.onCloseClick&&this.onCloseClick(t)},_onCloseMousedown:function(t){t.stopPropagation()}}),n.controls.TransitionIndicator=function(){this._element=e('<div class=\"lm_transition_indicator\"></div>'),e(document.body).append(this._element),this._toElement=null,this._fromDimensions=null,this._totalAnimationDuration=200,this._animationStartTime=null},n.utils.copy(n.controls.TransitionIndicator.prototype,{destroy:function(){this._element.remove()},transitionElements:function(t,e){},_nextAnimationFrame:function(){var t,e=this._measure(this._toElement),i=(n.utils.now()-this._animationStartTime)/this._totalAnimationDuration,o={};if(i>=1)this._element.hide();else{for(t in e.opacity=0,this._fromDimensions)o[t]=this._fromDimensions[t]+(e[t]-this._fromDimensions[t])*i;this._element.css(o),n.utils.animFrame(n.utils.fnBind(this._nextAnimationFrame,this))}},_measure:function(t){var e=t.offset();return{left:e.left,top:e.top,width:t.outerWidth(),height:t.outerHeight()}}}),n.errors.ConfigurationError=function(t,e){Error.call(this),this.name=\"Configuration Error\",this.message=t,this.node=e},n.errors.ConfigurationError.prototype=new Error,n.items.AbstractContentItem=function(t,e,i){n.utils.EventEmitter.call(this),this.config=this._extendItemNode(e),this.type=e.type,this.contentItems=[],this.parent=i,this.isInitialised=!1,this.isMaximized=!1,this.isRoot=!1,this.isRow=!1,this.isColumn=!1,this.isStack=!1,this.isComponent=!1,this.isVisible=!0,this.layoutManager=t,this._pendingEventPropagations={},this._throttledEvents=[\"stateChanged\"],this.on(n.utils.EventEmitter.ALL_EVENT,this._propagateEvent,this),e.content&&this._createContentItems(e)},n.utils.copy(n.items.AbstractContentItem.prototype,{setSize:function(){throw new Error(\"Abstract Method\")},callDownwards:function(t,e,n,i){var o;for(!0!==n&&!0!==i&&this[t].apply(this,e||[]),o=0;o<this.contentItems.length;o++)this.contentItems[o].callDownwards(t,e,n);!0===n&&!0!==i&&this[t].apply(this,e||[])},removeChild:function(t,e){var i=n.utils.indexOf(t,this.contentItems);if(-1===i)throw new Error(\"Can't remove child item. Unknown content item\");!0!==e&&this.contentItems[i]._$destroy(),this.contentItems.splice(i,1),this.config.content.splice(i,1),this.contentItems.length>0?this.callDownwards(\"setSize\"):this instanceof n.items.Root||!0!==this.config.isClosable||this.parent.removeChild(this)},addChild:function(t,e){void 0===e&&(e=this.contentItems.length),this.contentItems.splice(e,0,t),void 0===this.config.content&&(this.config.content=[]),this.config.content.splice(e,0,t.config),t.parent=this,!0===t.parent.isInitialised&&!1===t.isInitialised&&t._$init()},replaceChild:function(t,e,i){e=this.layoutManager._$normalizeContentItem(e);var o=n.utils.indexOf(t,this.contentItems),s=t.element[0].parentNode;if(-1===o)throw new Error(\"Can't replace child. oldChild is not child of this\");s.replaceChild(e.element[0],t.element[0]);const r=t.isVisible;!0===i&&(t.parent=null,t._$destroy()),this.contentItems[o]=e,e.parent=this,this.isStack&&(this.header.tabs[o].contentItem=e),!0===e.parent.isInitialised&&!1===e.isInitialised&&e._$init(),r||e._$hide(),this.callDownwards(\"setSize\")},remove:function(){this.parent.removeChild(this)},popout:function(){var t=this.layoutManager.createPopout(this);return this.emitBubblingEvent(\"stateChanged\"),t},toggleMaximise:function(t){t&&t.preventDefault(),!0===this.isMaximized?this.layoutManager._$minimiseItem(this):this.layoutManager._$maximiseItem(this),this.isMaximized=!this.isMaximized,this.emitBubblingEvent(\"stateChanged\")},select:function(){this.layoutManager.selectedItem!==this&&(this.layoutManager.selectItem(this,!0),this.element.addClass(\"lm_selected\"))},deselect:function(){this.layoutManager.selectedItem===this&&(this.layoutManager.selectedItem=null,this.element.removeClass(\"lm_selected\"))},setTitle:function(t){this.config.title=t,this.emit(\"titleChanged\",t),this.emit(\"stateChanged\")},hasId:function(t){return!!this.config.id&&(\"string\"==typeof this.config.id?this.config.id===t:this.config.id instanceof Array?-1!==n.utils.indexOf(t,this.config.id):void 0)},addId:function(t){this.hasId(t)||(this.config.id?\"string\"==typeof this.config.id?this.config.id=[this.config.id,t]:this.config.id instanceof Array&&this.config.id.push(t):this.config.id=t)},removeId:function(t){if(!this.hasId(t))throw new Error(\"Id not found\");if(\"string\"==typeof this.config.id)delete this.config.id;else if(this.config.id instanceof Array){var e=n.utils.indexOf(t,this.config.id);this.config.id.splice(e,1)}},getItemsByFilter:function(t){var e=[],n=function(i){for(var o=0;o<i.contentItems.length;o++)!0===t(i.contentItems[o])&&e.push(i.contentItems[o]),n(i.contentItems[o])};return n(this),e},getItemsById:function(t){return this.getItemsByFilter((function(e){return e.config.id instanceof Array?-1!==n.utils.indexOf(t,e.config.id):e.config.id===t}))},getItemsByType:function(t){return this._$getItemsByProperty(\"type\",t)},getComponentsByName:function(t){var e,n=this._$getItemsByProperty(\"componentName\",t),i=[];for(e=0;e<n.length;e++)i.push(n[e].instance&&0!==Object.keys(n[e].instance).length?n[e].instance:n[e]);return i},_$getItemsByProperty:function(t,e){return this.getItemsByFilter((function(n){return n[t]===e}))},_$setParent:function(t){this.parent=t},_$highlightDropZone:function(t,e,n){this.layoutManager.dropTargetIndicator.highlightArea(n)},_$onDrop:function(t){this.addChild(t)},_$hide:function(){this._callOnActiveComponents(\"hide\"),this.element.hide(),this.isVisible=!1,this.layoutManager.updateSize()},_$show:function(){this._callOnActiveComponents(\"show\"),this.element.show(),this.isVisible=!0,this.layoutManager.updateSize()},_callOnActiveComponents:function(t){var e,n,i=this.getItemsByType(\"stack\");for(n=0;n<i.length;n++)(e=i[n].getActiveContentItem())&&e.isComponent&&e.container[t]()},_$destroy:function(){this.emitBubblingEvent(\"beforeItemDestroyed\"),this.callDownwards(\"_$destroy\",[],!0,!0),this.element.remove(),this.emitBubblingEvent(\"itemDestroyed\")},_$getArea:function(t){var e=(t=t||this.element).offset(),n=t.width(),i=t.height();return{x1:e.left,y1:e.top,x2:e.left+n,y2:e.top+i,surface:n*i,contentItem:this}},_$init:function(){var t;for(this.setSize(),t=0;t<this.contentItems.length;t++)this.childElementContainer.append(this.contentItems[t].element);this.isInitialised=!0,this.emitBubblingEvent(\"itemCreated\"),this.emitBubblingEvent(this.type+\"Created\")},emitBubblingEvent:function(t){var e=new n.utils.BubblingEvent(t,this);this.emit(t,e)},_createContentItems:function(t){var e,i;if(!(t.content instanceof Array))throw new n.errors.ConfigurationError(\"content must be an Array\",t);for(i=0;i<t.content.length;i++)e=this.layoutManager.createContentItem(t.content[i],this),this.contentItems.push(e)},_extendItemNode:function(t){for(var e in n.config.itemDefaultConfig)void 0===t[e]&&(t[e]=n.config.itemDefaultConfig[e]);return t},_propagateEvent:function(t,e){e instanceof n.utils.BubblingEvent&&!1===e.isPropagationStopped&&!0===this.isInitialised&&(!1===this.isRoot&&this.parent?this.parent.emit.apply(this.parent,Array.prototype.slice.call(arguments,0)):this._scheduleEventPropagationToLayoutManager(t,e))},_scheduleEventPropagationToLayoutManager:function(t,e){-1===n.utils.indexOf(t,this._throttledEvents)?this.layoutManager.emit(t,e.origin):!0!==this._pendingEventPropagations[t]&&(this._pendingEventPropagations[t]=!0,n.utils.animFrame(n.utils.fnBind(this._propagateEventToLayoutManager,this,[t,e])))},_propagateEventToLayoutManager:function(t,e){this._pendingEventPropagations[t]=!1,this.layoutManager.emit(t,e)}}),n.items.Component=function(t,i,o){n.items.AbstractContentItem.call(this,t,i,o);var s=t.getComponent(this.config.componentName),r=e.extend(!0,{},this.config.componentState||{});r.componentName=this.config.componentName,this.componentName=this.config.componentName,\"\"===this.config.title&&(this.config.title=this.config.componentName),this.isComponent=!0,this.container=new n.container.ItemContainer(this.config,this,t),this.instance=new s(this.container,r),this.element=this.container._element},n.utils.extend(n.items.Component,n.items.AbstractContentItem),n.utils.copy(n.items.Component.prototype,{close:function(){this.parent.removeChild(this)},setSize:function(){this.element.is(\":visible\")&&(this.emit(\"size-changed\",{width:this.element.width(),height:this.element.height()}),this.container._$setSize(this.element.width(),this.element.height()))},_$init:function(){n.items.AbstractContentItem.prototype._$init.call(this),this.container.emit(\"open\")},_$hide:function(){this.container.hide(),n.items.AbstractContentItem.prototype._$hide.call(this)},_$show:function(){this.container.show(),n.items.AbstractContentItem.prototype._$show.call(this)},_$shown:function(){this.container.shown(),n.items.AbstractContentItem.prototype._$shown.call(this)},_$destroy:function(){this.container.emit(\"destroy\",this),n.items.AbstractContentItem.prototype._$destroy.call(this)},_$getArea:function(){return null}}),n.items.Root=function(t,i,o){n.items.AbstractContentItem.call(this,t,i,null),this.isRoot=!0,this.type=\"root\",this.element=e('<div class=\"lm_goldenlayout lm_item lm_root\"></div>'),this.childElementContainer=this.element,this._containerElement=o,this._containerElement.append(this.element)},n.utils.extend(n.items.Root,n.items.AbstractContentItem),n.utils.copy(n.items.Root.prototype,{addChild:function(t){if(this.contentItems.length>0)throw new Error(\"Root node can only have a single child\");t=this.layoutManager._$normalizeContentItem(t,this),this.childElementContainer.append(t.element),n.items.AbstractContentItem.prototype.addChild.call(this,t),this.callDownwards(\"setSize\"),this.emitBubblingEvent(\"stateChanged\")},setSize:function(t,e){t=void 0===t?this._containerElement.width():t,e=void 0===e?this._containerElement.height():e,this.element.width(t),this.element.height(e),this.contentItems[0]&&(this.contentItems[0].element.width(t),this.contentItems[0].element.height(e))},_$highlightDropZone:function(t,e,i){this.layoutManager.tabDropPlaceholder.remove(),n.items.AbstractContentItem.prototype._$highlightDropZone.apply(this,arguments)},_$onDrop:function(t,e){var i;if(t.isComponent&&((i=this.layoutManager.createContentItem({type:\"stack\",header:t.config.header||{}},this))._$init(),i.addChild(t),t=i),this.contentItems.length){var o=\"x\"==e.side[0]?\"row\":\"column\",s=\"x\"==e.side[0]?\"width\":\"height\",r=\"2\"==e.side[1],a=this.contentItems[0];if(!a instanceof n.items.RowOrColumn||a.type!=o){var c=this.layoutManager.createContentItem({type:o},this);this.replaceChild(a,c),c.addChild(t,r?0:void 0,!0),c.addChild(a,r?void 0:0,!0),a.config[s]=50,t.config[s]=50,c.callDownwards(\"setSize\")}else{var l=a.contentItems[r?0:a.contentItems.length-1];a.addChild(t,r?0:void 0,!0),l.config[s]*=.5,t.config[s]=l.config[s],a.callDownwards(\"setSize\")}}else this.addChild(t)}}),n.items.RowOrColumn=function(t,i,o,s){n.items.AbstractContentItem.call(this,i,o,s),this.isRow=!t,this.isColumn=t,this.element=e('<div class=\"lm_item lm_'+(t?\"column\":\"row\")+'\"></div>'),this.childElementContainer=this.element,this._splitterSize=i.config.dimensions.borderWidth,this._splitterGrabSize=i.config.dimensions.borderGrabWidth,this._isColumn=t,this._dimension=t?\"height\":\"width\",this._splitter=[],this._splitterPosition=null,this._splitterMinPosition=null,this._splitterMaxPosition=null,this._layoutManager=i},n.utils.extend(n.items.RowOrColumn,n.items.AbstractContentItem),n.utils.copy(n.items.RowOrColumn.prototype,{addChild:function(t,e,i){var o,s,r,a;if(t=this.layoutManager._$normalizeContentItem(t,this),void 0===e&&(e=this.contentItems.length),this.contentItems.length>0?(a=this._createSplitter(Math.max(0,e-1)).element,e>0?(this.contentItems[e-1].element.after(a),a.after(t.element)):(this.contentItems[0].element.before(a),a.before(t.element))):this.childElementContainer.append(t.element),n.items.AbstractContentItem.prototype.addChild.call(this,t,e),o=1/this.contentItems.length*100,!0!==i){for(r=0;r<this.contentItems.length;r++)this.contentItems[r]===t?t.config[this._dimension]=o:(s=this.contentItems[r].config[this._dimension]*=(100-o)/100,this.contentItems[r].config[this._dimension]=s);this.callDownwards(\"setSize\"),this.emitBubblingEvent(\"stateChanged\")}else this.emitBubblingEvent(\"stateChanged\")},removeChild:function(t,e){var i,o,s=t.config[this._dimension],r=n.utils.indexOf(t,this.contentItems),a=Math.max(r-1,0);if(-1===r)throw new Error(\"Can't remove child. ContentItem is not child of this Row or Column\");for(this._splitter[a]&&(this._splitter[a]._$destroy(),this._splitter.splice(a,1)),i=0;i<this.contentItems.length;i++)this.contentItems[i]!==t&&(this.contentItems[i].config[this._dimension]+=s/(this.contentItems.length-1));n.items.AbstractContentItem.prototype.removeChild.call(this,t,e),1===this.contentItems.length&&!0===this.config.isClosable?(o=this.contentItems[0],this.contentItems=[],this.parent.replaceChild(this,o,!0)):(this.callDownwards(\"setSize\"),this.emitBubblingEvent(\"stateChanged\"))},replaceChild:function(t,e){var i=t.config[this._dimension];e.config=e.config||{},e.config[this._dimension]=i,n.items.AbstractContentItem.prototype.replaceChild.call(this,t,e),this.callDownwards(\"setSize\"),this.emitBubblingEvent(\"stateChanged\")},setSize:function(){this.contentItems.length>0&&(this._calculateRelativeSizes(),this._setAbsoluteSizes()),this.emitBubblingEvent(\"stateChanged\"),this.emit(\"resize\")},_$init:function(){var t;if(!0!==this.isInitialised)for(n.items.AbstractContentItem.prototype._$init.call(this),t=0;t<this.contentItems.length-1;t++)this.contentItems[t].element.after(this._createSplitter(t).element)},_setAbsoluteSizes:function(){var t,e=this._calculateAbsoluteSizes();for(t=0;t<this.contentItems.length;t++)e.additionalPixel-t>0&&e.itemSizes[t]++,this._isColumn?(this.contentItems[t].element.width(e.totalWidth),this.contentItems[t].element.height(e.itemSizes[t])):(this.contentItems[t].element.width(e.itemSizes[t]),this.contentItems[t].element.height(e.totalHeight))},_calculateAbsoluteSizes:function(){var t,e,n=(this.contentItems.length-1)*this._splitterSize,i=this.element.width(),o=this.element.height(),s=0,r=[];for(this._isColumn?o-=n:i-=n,t=0;t<this.contentItems.length;t++)s+=e=this._isColumn?Math.floor(o*(this.contentItems[t].config.height/100)):Math.floor(i*(this.contentItems[t].config.width/100)),r.push(e);return{itemSizes:r,additionalPixel:Math.floor((this._isColumn?o:i)-s),totalWidth:i,totalHeight:o}},_calculateRelativeSizes:function(){var t,e=0,n=[],i=this._isColumn?\"height\":\"width\";for(t=0;t<this.contentItems.length;t++)void 0!==this.contentItems[t].config[i]?e+=this.contentItems[t].config[i]:n.push(this.contentItems[t]);if(100!==Math.round(e))if(Math.round(e)<100&&n.length>0){for(t=0;t<n.length;t++)n[t].config[i]=(100-e)/n.length;this._respectMinItemWidth()}else{if(Math.round(e)>100)for(t=0;t<n.length;t++)n[t].config[i]=50,e+=50;for(t=0;t<this.contentItems.length;t++)this.contentItems[t].config[i]=this.contentItems[t].config[i]/e*100;this._respectMinItemWidth()}else this._respectMinItemWidth()},_respectMinItemWidth:function(){var t,e,n,i,o=this.layoutManager.config.dimensions&&this.layoutManager.config.dimensions.minItemWidth||0,s=[],r=0,a=0,c=0,l=0,d=[];if(!(this._isColumn||!o||this.contentItems.length<=1)){t=this._calculateAbsoluteSizes();for(var h=0;h<this.contentItems.length;h++)this.contentItems[h],(l=t.itemSizes[h])<o?(a+=o-l,i={width:o}):(r+=l-o,i={width:l},s.push(i)),d.push(i);if(!(0===a||a>r)){for(e=a/r,c=a,h=0;h<s.length;h++)i=s[h],c-=n=Math.round((i.width-o)*e),i.width-=n;for(0!==c&&(d[d.length-1].width-=c),h=0;h<this.contentItems.length;h++)this.contentItems[h].config.width=d[h].width/t.totalWidth*100}}},_createSplitter:function(t){var e;return(e=new n.controls.Splitter(this._isColumn,this._splitterSize,this._splitterGrabSize)).on(\"drag\",n.utils.fnBind(this._onSplitterDrag,this,[e]),this),e.on(\"dragStop\",n.utils.fnBind(this._onSplitterDragStop,this,[e]),this),e.on(\"dragStart\",n.utils.fnBind(this._onSplitterDragStart,this,[e]),this),this._splitter.splice(t,0,e),e},_getItemsForSplitter:function(t){var e=n.utils.indexOf(t,this._splitter);return{before:this.contentItems[e],after:this.contentItems[e+1]}},_getMinimumDimensions:function(t){for(var e=0,n=0,i=0;i<t.length;++i)e=Math.max(t[i].minWidth||0,e),n=Math.max(t[i].minHeight||0,n);return{horizontal:e,vertical:n}},_onSplitterDragStart:function(t){var e=this._getItemsForSplitter(t),n=this.layoutManager.config.dimensions[this._isColumn?\"minItemHeight\":\"minItemWidth\"],i=this._getMinimumDimensions(e.before.config.content),o=this._isColumn?i.vertical:i.horizontal,s=this._getMinimumDimensions(e.after.config.content),r=this._isColumn?s.vertical:s.horizontal;this._splitterPosition=0,this._splitterMinPosition=-1*(e.before.element[this._dimension]()-(o||n)),this._splitterMaxPosition=e.after.element[this._dimension]()-(r||n)},_onSplitterDrag:function(t,e,n){var i=this._isColumn?n:e;i>this._splitterMinPosition&&i<this._splitterMaxPosition&&(this._splitterPosition=i,t.element.css(this._isColumn?\"top\":\"left\",i)),this._layoutManager.emit(\"splitterDragged\",t)},_onSplitterDragStop:function(t){var e=this._getItemsForSplitter(t),i=e.before.element[this._dimension](),o=e.after.element[this._dimension](),s=(this._splitterPosition+i)/(i+o),r=e.before.config[this._dimension]+e.after.config[this._dimension];e.before.config[this._dimension]=s*r,e.after.config[this._dimension]=(1-s)*r,t.element.css({top:0,left:0}),n.utils.animFrame(n.utils.fnBind(this.callDownwards,this,[\"setSize\"])),this._layoutManager.emit(\"splitterDragStopped\",t)}}),n.items.Stack=function(t,i,o){n.items.AbstractContentItem.call(this,t,i,o),this.element=e('<div class=\"lm_item lm_stack\"></div>'),this._activeContentItem=null;var s=t.config;this._header={show:!0===s.settings.hasHeaders&&!1!==i.hasHeaders,popout:s.settings.showPopoutIcon&&s.labels.popout,maximize:s.settings.showMaximizeIcon&&s.labels.maximize,minimize:s.settings.showMinimizeIcon&&s.labels.minimize,close:s.settings.showCloseIcon&&s.labels.close},s.header&&n.utils.copy(this._header,s.header),i.header&&n.utils.copy(this._header,i.header),i.content&&i.content[0]&&i.content[0].header&&n.utils.copy(this._header,i.content[0].header),this._dropZones={},this._dropSegment=null,this._contentAreaDimensions=null,this._dropIndex=null,this.isStack=!0,this.childElementContainer=e('<div class=\"lm_items\"></div>'),this.header=new n.controls.Header(t,this),this.element.append(this.header.element),this.element.append(this.childElementContainer),this._setupHeaderPosition(),this._$validateClosability()},n.utils.extend(n.items.Stack,n.items.AbstractContentItem),n.utils.copy(n.items.Stack.prototype,{setSize:function(){var t,e=this._header.show?this.header.element.height():0,n=this.element.width()-(this._sided?e:0),i=this.element.height()-(this._sided?0:e);for(this.childElementContainer.width(n),this.childElementContainer.height(i),t=0;t<this.contentItems.length;t++)this.contentItems[t].element.width(n).height(i);this.emit(\"resize\"),this.emitBubblingEvent(\"stateChanged\")},_$init:function(){var t,e;if(!0!==this.isInitialised){for(n.items.AbstractContentItem.prototype._$init.call(this),t=0;t<this.contentItems.length;t++)this.header.createTab(this.contentItems[t]),this.contentItems[t]._$hide();if(this.contentItems.length>0){if(!(e=this.contentItems[this.config.activeItemIndex||0]))throw new Error(\"Configured activeItemIndex out of bounds\");this.setActiveContentItem(e)}}},setActiveContentItem:function(t){if(-1===n.utils.indexOf(t,this.contentItems))throw new Error(\"contentItem is not a child of this stack\");const e=this._activeContentItem;null!==this._activeContentItem&&this._activeContentItem._$hide(),this._activeContentItem=t,this.header.setActiveContentItem(t),t._$show(),this.emit(\"activeContentItemChanged\",t),this.layoutManager.emit(\"activeContentItemChanged\",t),e&&e.emit(\"focusLost\"),this.emitBubblingEvent(\"stateChanged\")},getActiveContentItem:function(){return this.header.activeContentItem},addChild:function(t,i,o=!0){t=this.layoutManager._$normalizeContentItem(t,this),n.items.AbstractContentItem.prototype.addChild.call(this,t,i),this.childElementContainer.append(t.element),this.header.createTab(t,i),e(this.layoutManager.container).is(\":visible\")&&o?this.setActiveContentItem(t):t._$hide(),this.callDownwards(\"setSize\"),this._$validateClosability(),this.emitBubblingEvent(\"stateChanged\")},removeChild:function(t,e){var i=n.utils.indexOf(t,this.contentItems);n.items.AbstractContentItem.prototype.removeChild.call(this,t,e),this.header.removeTab(t),this.header.activeContentItem===t&&(this.contentItems.length>0?this.setActiveContentItem(this.contentItems[Math.max(i-1,0)]):this._activeContentItem=null),this._$validateClosability(),this.emitBubblingEvent(\"stateChanged\")},_$validateClosability:function(){var t,e,n;for(t=this.header._isClosable(),n=0,e=this.contentItems.length;n<e&&t;n++)t=this.contentItems[n].config.isClosable;this.header._$setClosable(t)},_$destroy:function(){n.items.AbstractContentItem.prototype._$destroy.call(this),this.header._$destroy()},_$onDrop:function(t){if(\"header\"===this._dropSegment)return this._resetHeaderDropZone(),void this.addChild(t,this._dropIndex);if(\"body\"!==this._dropSegment){var e,i,o,s=\"top\"===this._dropSegment||\"bottom\"===this._dropSegment,r=\"left\"===this._dropSegment||\"right\"===this._dropSegment,a=\"top\"===this._dropSegment||\"left\"===this._dropSegment,c=s&&this.parent.isColumn||r&&this.parent.isRow,l=s?\"column\":\"row\",d=s?\"height\":\"width\";t.isComponent&&((i=this.layoutManager.createContentItem({type:\"stack\",header:t.config.header||{}},this))._$init(),i.addChild(t),t=i),c?(e=n.utils.indexOf(this,this.parent.contentItems),this.parent.addChild(t,a?e:e+1,!0),this.config[d]*=.5,t.config[d]=this.config[d],this.parent.callDownwards(\"setSize\")):(l=s?\"column\":\"row\",o=this.layoutManager.createContentItem({type:l},this),this.parent.replaceChild(this,o),o.addChild(t,a?0:void 0,!0),o.addChild(this,a?void 0:0,!0),this.config[d]=50,t.config[d]=50,o.callDownwards(\"setSize\"))}else this.addChild(t)},_$highlightDropZone:function(t,e){var n,i;for(n in this._contentAreaDimensions)if((i=this._contentAreaDimensions[n].hoverArea).x1<t&&i.x2>t&&i.y1<e&&i.y2>e)return void(\"header\"===n?(this._dropSegment=\"header\",this._highlightHeaderDropZone(this._sided?e:t)):(this._resetHeaderDropZone(),this._highlightBodyDropZone(n)))},_$getArea:function(){if(!1===this.element.is(\":visible\"))return null;var t=n.items.AbstractContentItem.prototype._$getArea,e=t.call(this,this.header.element),i=t.call(this,this.childElementContainer),o=i.x2-i.x1,s=i.y2-i.y1;return this._contentAreaDimensions={header:{hoverArea:{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2},highlightArea:{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2}}},this._activeContentItem&&!1===this._activeContentItem.isComponent?e:0===this.contentItems.length?(this._contentAreaDimensions.body={hoverArea:{x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2},highlightArea:{x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2}},t.call(this,this.element)):(\"workspace\"!==this.layoutManager.config.settings.mode&&(this._contentAreaDimensions.left={hoverArea:{x1:i.x1,y1:i.y1,x2:i.x1+.25*o,y2:i.y2},highlightArea:{x1:i.x1,y1:i.y1,x2:i.x1+.5*o,y2:i.y2}},this._contentAreaDimensions.top={hoverArea:{x1:i.x1+.25*o,y1:i.y1,x2:i.x1+.75*o,y2:i.y1+.5*s},highlightArea:{x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y1+.5*s}},this._contentAreaDimensions.right={hoverArea:{x1:i.x1+.75*o,y1:i.y1,x2:i.x2,y2:i.y2},highlightArea:{x1:i.x1+.5*o,y1:i.y1,x2:i.x2,y2:i.y2}},this._contentAreaDimensions.bottom={hoverArea:{x1:i.x1+.25*o,y1:i.y1+.5*s,x2:i.x1+.75*o,y2:i.y2},highlightArea:{x1:i.x1,y1:i.y1+.5*s,x2:i.x2,y2:i.y2}}),t.call(this,this.element))},_highlightHeaderDropZone:function(t){var e,n,i,o,s,r,a,c,l=this.header.tabs.length,d=!1;if(0===l)return a=this.header.element.offset(),void this.layoutManager.dropTargetIndicator.highlightArea({x1:a.left,x2:a.left+100,y1:a.top+this.header.element.height()-20,y2:a.top+this.header.element.height()});for(e=0;e<l;e++)if(s=(n=this.header.tabs[e].element).offset(),this._sided?(o=s.top,i=s.left,c=n.height()):(o=s.left,i=s.top,c=n.width()),t>o&&t<o+c){d=!0;break}if(!(!1===d&&t<o)){if(t<o+c/2?(this._dropIndex=e,n.before(this.layoutManager.tabDropPlaceholder)):(this._dropIndex=Math.min(e+1,l),n.after(this.layoutManager.tabDropPlaceholder)),this._sided)return placeHolderTop=this.layoutManager.tabDropPlaceholder.offset().top,void this.layoutManager.dropTargetIndicator.highlightArea({x1:i,x2:i+n.innerHeight(),y1:placeHolderTop,y2:placeHolderTop+this.layoutManager.tabDropPlaceholder.width()});r=this.layoutManager.tabDropPlaceholder.offset().left,this.layoutManager.dropTargetIndicator.highlightArea({x1:r,x2:r+this.layoutManager.tabDropPlaceholder.width(),y1:i,y2:i+n.innerHeight()})}},_resetHeaderDropZone:function(){this.layoutManager.tabDropPlaceholder.remove()},_setupHeaderPosition:function(){var t=[\"right\",\"left\",\"bottom\"].indexOf(this._header.show)>=0&&this._header.show;if(this.header.element.toggle(!!this._header.show),this._side=t,this._sided=[\"right\",\"left\"].indexOf(this._side)>=0,this.element.removeClass(\"lm_left lm_right lm_bottom\"),this._side&&this.element.addClass(\"lm_\"+this._side),this.element.find(\".lm_header\").length&&this.childElementContainer){var e=[\"right\",\"bottom\"].indexOf(this._side)>=0?\"before\":\"after\";this.header.element[e](this.childElementContainer),this.callDownwards(\"setSize\")}},_highlightBodyDropZone:function(t){var e=this._contentAreaDimensions[t].highlightArea;this.layoutManager.dropTargetIndicator.highlightArea(e),this._dropSegment=t}}),n.utils.BubblingEvent=function(t,e){this.name=t,this.origin=e,this.isPropagationStopped=!1},n.utils.BubblingEvent.prototype.stopPropagation=function(){this.isPropagationStopped=!0},n.utils.ConfigMinifier=function(){if(this._keys=[\"settings\",\"hasHeaders\",\"constrainDragToContainer\",\"selectionEnabled\",\"dimensions\",\"borderWidth\",\"minItemHeight\",\"minItemWidth\",\"headerHeight\",\"dragProxyWidth\",\"dragProxyHeight\",\"labels\",\"close\",\"maximize\",\"minimize\",\"popout\",\"content\",\"componentName\",\"componentState\",\"id\",\"width\",\"type\",\"height\",\"isClosable\",\"title\",\"popoutWholeStack\",\"openPopouts\",\"parentId\",\"activeItemIndex\",\"reorderEnabled\",\"borderGrabWidth\"],this._keys.length>36)throw new Error(\"Too many keys in config minifier map\");this._values=[!0,!1,\"row\",\"column\",\"stack\",\"component\",\"close\",\"maximize\",\"minimize\",\"open in new window\"]},n.utils.copy(n.utils.ConfigMinifier.prototype,{minifyConfig:function(t){var e={};return this._nextLevel(t,e,\"_min\"),e},unminifyConfig:function(t){var e={};return this._nextLevel(t,e,\"_max\"),e},_nextLevel:function(t,e,n){var i,o;for(i in t)t instanceof Array&&(i=parseInt(i,10)),t.hasOwnProperty(i)&&(o=this[n](i,this._keys),\"object\"==typeof t[i]?(e[o]=t[i]instanceof Array?[]:{},this._nextLevel(t[i],e[o],n)):e[o]=this[n](t[i],this._values))},_min:function(t,e){if(\"string\"==typeof t&&1===t.length)return\"___\"+t;var i=n.utils.indexOf(t,e);return-1===i?t:i.toString(36)},_max:function(t,e){return\"string\"==typeof t&&1===t.length?e[parseInt(t,36)]:\"string\"==typeof t&&\"___\"===t.substr(0,3)?t[3]:t}}),n.utils.EventHub=function(t){n.utils.EventEmitter.call(this),this._layoutManager=t,this._dontPropagateToParent=null,this._childEventSource=null,this.on(n.utils.EventEmitter.ALL_EVENT,n.utils.fnBind(this._onEventFromThis,this)),this._boundOnEventFromChild=n.utils.fnBind(this._onEventFromChild,this),e(window).on(\"gl_child_event\",this._boundOnEventFromChild)},n.utils.EventHub.prototype._onEventFromThis=function(){var t=Array.prototype.slice.call(arguments);this._layoutManager.isSubWindow&&t[0]!==this._dontPropagateToParent&&this._propagateToParent(t),this._propagateToChildren(t),this._dontPropagateToParent=null,this._childEventSource=null},n.utils.EventHub.prototype._$onEventFromParent=function(t){this._dontPropagateToParent=t[0],this.emit.apply(this,t)},n.utils.EventHub.prototype._onEventFromChild=function(t){this._childEventSource=t.originalEvent.__gl,this.emit.apply(this,t.originalEvent.__glArgs)},n.utils.EventHub.prototype._propagateToParent=function(t){var e,n=\"gl_child_event\";document.createEvent?(e=window.opener.document.createEvent(\"HTMLEvents\")).initEvent(n,!0,!0):(e=window.opener.document.createEventObject()).eventType=n,e.eventName=n,e.__glArgs=t,e.__gl=this._layoutManager,document.createEvent?window.opener.dispatchEvent(e):window.opener.fireEvent(\"on\"+e.eventType,e)},n.utils.EventHub.prototype._propagateToChildren=function(t){var e,n;for(n=0;n<this._layoutManager.openPopouts.length;n++)(e=this._layoutManager.openPopouts[n].getGlInstance())&&e!==this._childEventSource&&e.eventHub._$onEventFromParent(t)},n.utils.EventHub.prototype.destroy=function(){e(window).off(\"gl_child_event\",this._boundOnEventFromChild)},n.utils.ReactComponentHandler=function(t,e){this._reactComponent=null,this._originalComponentWillUpdate=null,this._container=t,this._initialState=e,this._reactClass=this._getReactClass(),this._container.on(\"open\",this._render,this),this._container.on(\"destroy\",this._destroy,this)},n.utils.copy(n.utils.ReactComponentHandler.prototype,{_render:function(){this._reactComponent=ReactDOM.render(this._getReactComponent(),this._container.getElement()[0]),this._originalComponentWillUpdate=this._reactComponent.componentWillUpdate||function(){},this._reactComponent.componentWillUpdate=this._onUpdate.bind(this),this._container.getState()&&this._reactComponent.setState(this._container.getState())},_destroy:function(){ReactDOM.unmountComponentAtNode(this._container.getElement()[0]),this._container.off(\"open\",this._render,this),this._container.off(\"destroy\",this._destroy,this)},_onUpdate:function(t,e){this._container.setState(e),this._originalComponentWillUpdate.call(this._reactComponent,t,e)},_getReactClass:function(){var t,e=this._container._config.component;if(!e)throw new Error(\"No react component name. type: react-component needs a field `component`\");if(!(t=this._container.layoutManager.getComponent(e)))throw new Error('React component \"'+e+'\" not found. Please register all components with GoldenLayout using `registerComponent(name, component)`');return t},_getReactComponent:function(){var t={glEventHub:this._container.layoutManager.eventHub,glContainer:this._container},n=e.extend(t,this._container._config.props);return React.createElement(this._reactClass,n)}})}(window.$)}));function o(t){if(t&&t.errorHandling&&\"function\"!=typeof t.errorHandling&&\"log\"!==t.errorHandling&&\"silent\"!==t.errorHandling&&\"throw\"!==t.errorHandling)throw new Error('Invalid options passed to createRegistry. Prop errorHandling should be [\"log\" | \"silent\" | \"throw\" | (err) => void], but '+typeof t.errorHandling+\" was passed\");var e=t&&\"function\"==typeof t.errorHandling&&t.errorHandling,n={};function i(n,i){var o=n instanceof Error?n:new Error(n);if(e)e(o);else{var s='[ERROR] callback-registry: User callback for key \"'+i+'\" failed: '+o.stack;if(t)switch(t.errorHandling){case\"log\":return console.error(s);case\"silent\":return;case\"throw\":throw new Error(s)}console.error(s)}}return{add:function(t,e,o){var s=n[t];return s||(s=[],n[t]=s),s.push(e),o&&setTimeout((function(){o.forEach((function(o){var s;if(null===(s=n[t])||void 0===s?void 0:s.includes(e))try{Array.isArray(o)?e.apply(void 0,o):e.apply(void 0,[o])}catch(e){i(e,t)}}))}),0),function(){var i=n[t];i&&(0===(i=i.reduce((function(t,n,i){return n===e&&t.length===i||t.push(n),t}),[])).length?delete n[t]:n[t]=i)}},execute:function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];var s=n[t];if(!s||0===s.length)return[];var r=[];return s.forEach((function(n){try{var o=n.apply(void 0,e);r.push(o)}catch(e){r.push(void 0),i(e,t)}})),r},clear:function(){n={}},clearKey:function(t){n[t]&&delete n[t]}}}o.default=o;var s=o;const r=t=>Array.isArray(t)?t[0]:t,a=(t=[])=>{const e=t=>\"component\"===t.type?t.id?[t]:[]:t.content.reduce(((t,n)=>t=[...t,...e(n)]),[]);return t.reduce(((t,n)=>[...t,...e(n)]),[])},c=t=>{const e=$(t)[0].getBoundingClientRect();return{x:Math.round(e.x),y:Math.round(e.y),left:Math.round(e.left),top:Math.round(e.top),width:Math.round(e.width),height:Math.round(e.height)}},l=t=>\"___workspace___\"+t;var d=new class{constructor(){this._idToLayout={}}get layouts(){return Object.values(this._idToLayout)}get workspaceIds(){return Object.keys(this._idToLayout)}get workspaceTitles(){return this.workspaceIds.map((t=>this.getWorkspaceTitle(t)))}set workspaceLayout(t){this._workspaceLayout=t}get workspaceLayout(){return this._workspaceLayout}get workspaceLayoutHeader(){return this._workspaceLayout.root.contentItems[0].header}getWorkspaceLayoutItemById(t){return this.workspaceLayout.root.getItemsById(t)[0]}getById(t){return t=r(t),this._idToLayout[t]}getByContainerId(t){return this._idToLayout[t]||this.getByContainerIdCore(t)}getWorkspaceTitle(t){const e=this.workspaceLayout.root.getItemsById(t)[0];return(null==e?void 0:e.tab.titleElement[0].innerText)||(null==e?void 0:e.config.title)}removeById(t){delete this._idToLayout[t]}removeLayout(t){this._idToLayout[t].layout.destroy(),this._idToLayout[t].layout=void 0}addOrUpdate(t,e,n){const i=this.getById(t);if(i)return i.layout=n,void(i.windows=e);this._idToLayout[t]={id:t,windows:e,layout:n}}getWindow(t){const e=r(t);return this.layouts.reduce(((t,n)=>t||n.windows.find((t=>t.id===e))),void 0)}getActiveWorkspace(){const t=this.workspaceLayout.root.contentItems[0].getActiveContentItem().config.id;return this.getById(t)}addWindow(t,e){const n=this.getById(e);n.windows=n.windows.filter((e=>e.id!==t.id)),n.windows.push(t)}getByWindowId(t){return t=r(t),this.layouts.find((e=>e.windows.some((e=>e.id===t))))}getWindowContentItem(t){const e=this.layouts.filter((t=>t.layout)).reduce(((e,n)=>e||n.layout.root.getItemsById(t)[0]),void 0);if(e&&e.isComponent)return e;const n=this.layouts.filter((t=>t.layout)).reduce(((e,n)=>e||n.layout.root.getItemsByFilter((e=>e.isComponent&&e.config.componentState.windowId===t))[0]),void 0);return(null==n?void 0:n.isComponent)?n:void 0}getContainer(t){return this.layouts.reduce(((t,e)=>(e.layout&&t.push(e.layout),t)),[]).reduce(((e,n)=>e||n.root.getItemsById(t)[0]),void 0)}getWorkspaceContext(t){var e,n,i;const o=this.getById(t);return null===(i=null===(n=null===(e=null==o?void 0:o.layout)||void 0===e?void 0:e.config)||void 0===n?void 0:n.workspacesOptions)||void 0===i?void 0:i.context}getWorkspaceContentItem(t){return this.workspaceLayout.root.getItemsById(t)[0]}getByContainerIdCore(t){return this.layouts.reduce(((t,e)=>(e.layout&&t.push(e),t)),[]).find((e=>e.layout.root.getItemsById(t)[0]))}};class h{init(t){this.containerElement=$(t)[0],this.setupEvents()}setupEvents(){const t=new MutationObserver((t=>{Array.from(t).forEach((t=>{if(\"childList\"===t.type&&t.target.classList.contains(\"lm_tabs\")){const e=$(t.target);this.handleTabCountChanged(e,Array.from(t.removedNodes))}else if(\"attributes\"===t.type&&t.target.classList.contains(\"lm_stack\")&&\"style\"===t.attributeName){const e=$(t.target);this.handleTabHeaderResized(e)}}))}));return t.observe(this.containerElement,{childList:!0,subtree:!0,attributes:!0,attributeFilter:[\"style\"],attributeOldValue:!1,characterData:!1,characterDataOldValue:!1}),()=>{t.disconnect()}}handleTabCountChanged(t,e){const n=t.children(),i=this.visibleTabs($(t));t.css(\"max-width\",200*i.length+\"px\");const o=t.width()/i.length;Array.from(n).forEach((t=>{$(t).children(\".lm_title\").css(\"max-width\",.75*o+\"px\"),e.length&&this.refreshTabClasses(t)}))}handleTabHeaderResized(t){const e=t.children(\".lm_header\").children(\".lm_tabs\"),n=this.visibleTabs($(e)),i=e.width()/n.length;Array.from(e.children()).forEach((t=>{$(t).children(\".lm_title\").css(\"max-width\",.65*i+\"px\"),this.refreshTabClasses(t)}))}refreshTabClasses(t){const e=$(t).outerWidth(),n=t.classList;e>=25&&e<35?(n.contains(\"lm_tab_mini\")&&n.remove(\"lm_tab_mini\"),n.add(\"lm_tab_small\")):e>=35?(n.remove(\"lm_tab_small\"),n.contains(\"lm_tab_mini\")&&n.remove(\"lm_tab_mini\")):e<25&&(n.remove(\"lm_tab_small\"),n.add(\"lm_tab_mini\"))}visibleTabs(t){return Array.from(t.children()).filter((t=>$(t).is(\":visible\")))}}var u=new class{constructor(){this.visibilityState={logo:void 0,addWorkspace:void 0,systemButtons:void 0,workspaceContents:[]},this.componentsFactory={},this._decoratedFactory={},this.callbackRegistry=s(),this.observer=new MutationObserver((t=>{Array.from(t).forEach((t=>{const e=t.target,n=this.getWorkspaceIdFromContents(e),i=\"none\"===e.style.display?\"workspace-contents-hidden\":\"workspace-contents-shown\";this.callbackRegistry.execute(i,n)}))}))}get decoratedFactory(){return this._decoratedFactory}init(t,e){this.componentsFactory=e,(null==e?void 0:e.createAddWorkspace)&&(this.decoratedFactory.createAddWorkspace=(...e)=>(this.visibilityState.addWorkspace=[...e,t],this.componentsFactory.createAddWorkspace(...this.visibilityState.addWorkspace))),(null==e?void 0:e.createLogo)&&(this.decoratedFactory.createLogo=(...e)=>(this.visibilityState.logo=[...e,t],this.componentsFactory.createLogo(...this.visibilityState.logo))),(null==e?void 0:e.createSystemButtons)&&(this.decoratedFactory.createSystemButtons=(...n)=>(this.visibilityState.systemButtons=[...n,t],e.createSystemButtons(...this.visibilityState.systemButtons))),(null==e?void 0:e.createWorkspaceContents)&&(this.decoratedFactory.createWorkspaceContents=(...t)=>{var n;return this.visibilityState.workspaceContents.push([...t]),this.subscribeForWorkspaceContentsVisibility(null===(n=t[0])||void 0===n?void 0:n.workspaceId),e.createWorkspaceContents(...t)})}reInitialize(t){(null==t?void 0:t.createAddWorkspace)&&this.visibilityState.addWorkspace&&t.createAddWorkspace(...this.visibilityState.addWorkspace),(null==t?void 0:t.createLogo)&&this.visibilityState.logo&&t.createLogo(...this.visibilityState.logo),(null==t?void 0:t.createSystemButtons)&&this.visibilityState.systemButtons&&t.createSystemButtons(...this.visibilityState.systemButtons),(null==t?void 0:t.createWorkspaceContents)&&this.visibilityState.workspaceContents.forEach((e=>{t.createWorkspaceContents(...e)})),this.componentsFactory=t}onWorkspaceContentsShown(t){this.callbackRegistry.add(\"workspace-contents-shown\",t)}onWorkspaceContentsHidden(t){this.callbackRegistry.add(\"workspace-contents-hidden\",t)}subscribeForWorkspaceContentsVisibility(t){const e=document.getElementById(\"nestHere\"+t);e&&this.observer.observe(e,{attributes:!0,attributeFilter:[\"style\"]})}getWorkspaceIdFromContents(t){return t.id.split(\"nestHere\")[1]}};const p=require(\"resize-observer-polyfill\").default||require(\"resize-observer-polyfill\");class m{constructor(t,e,n,i){this._maximizedId=\"__glMaximised\",this._workspaceLayoutElementId=\"#outter-layout-container\",this._registry=s(),this._emptyVisibleWindowName=\"emptyVisibleWindow\",this._stackMaximizeLabel=\"maximize\",this._stackRestoreLabel=\"restore\",this._options=n,this._emitter=t,this._stateResolver=e,this._configFactory=i}get emitter(){return this._emitter}get bounds(){return c(document.getElementById(\"outter-layout-container\"))}init(e){return t(this,void 0,void 0,(function*(){this._frameId=e.frameId;(new h).init(this._workspaceLayoutElementId),yield this.initWorkspaceConfig(e.workspaceLayout),this.refreshLayoutSize(),yield Promise.all(e.workspaceConfigs.map((e=>t(this,void 0,void 0,(function*(){yield this.initWorkspaceContents(e.id,e.config),this.emitter.raiseEvent(\"workspace-added\",{workspace:d.getById(e.id)})}))))),this.setupOuterLayout(),d.workspaceIds.forEach((t=>{this.setupContentLayouts(t)}))}))}addWindow(e,n){return t(this,void 0,void 0,(function*(){n=n||r(d.workspaceLayout.root.contentItems[0].getActiveContentItem().config.id);const t=d.getByContainerId(n);if(!t.layout)return this.hideAddButton(t.id),void(yield this.initWorkspaceContents(t.id,e));const i=t.layout._maximizedItem;i&&i.toggleMaximise();let o=t.layout.root.getItemsByFilter((t=>t.isColumn||t.isRow))[0];n&&n!==t.id&&(o=t.layout.root.getItemsById(n)[0]),o||(o=t.layout.root.getItemsByFilter((t=>t.isStack))[0]);const{placementId:s,windowId:c,url:l,appName:h}=this.getWindowInfoFromConfig(e);this.registerWindowComponent(t.layout,r(s));const u=o.getComponentsByName(this._emptyVisibleWindowName)[0];return new Promise((n=>{var i;const r=this.emitter.onContentComponentCreated((t=>{t.config.id===s&&(r(),n())}));if(\"stack\"===t.layout.root.contentItems[0].type&&\"component\"!==e.type&&(e=a([e])[0]),u&&!(null===(i=u.parent.config.workspacesConfig)||void 0===i?void 0:i.wrapper)){const t=this._configFactory.wrapInGroup([e]);return t.workspacesConfig.wrapper=!1,void u.parent.parent.replaceChild(u.parent,t)}u?u.parent.replaceChild(u,e):o.addChild(e)}))}))}addContainer(e,n){var i;return t(this,void 0,void 0,(function*(){const t=d.getByContainerId(n);if(!t.layout){const n=e.id||this._configFactory.getId();return e&&(e.id=n),this.hideAddButton(t.id),yield this.initWorkspaceContents(t.id,e),r(n)}const o=t.layout._maximizedItem;o&&o.toggleMaximise();let s=t.layout.root.getItemsByFilter((t=>t.isColumn||t.isRow))[0];if(n&&(s=t.layout.root.getItemsById(n)[0]),s||(s=t.layout.root.getItemsByFilter((t=>t.isStack))[0]),t.id===n&&(\"column\"===e.type||\"stack\"===e.type?this.bundleWorkspace(t.id,\"row\"):\"row\"===e.type&&this.bundleWorkspace(t.id,\"column\"),s=t.layout.root.contentItems[0]),e.content&&a(e.content).forEach((e=>{this.registerWindowComponent(t.layout,r(e.id))})),\"component\"===s.type)throw new Error(\"The target item for add container can't be a component\");const c=s.contentItems.find((t=>\"stack\"===t.type&&!0===t.config.workspacesConfig.wrapper)),l=(null===(i=null==c?void 0:c.contentItems[0])||void 0===i?void 0:i.config.componentName)===this._emptyVisibleWindowName;return new Promise(((n,i)=>{let o=()=>{};const a=setTimeout((()=>{o(),i(`Component with id ${e.id} could not be created in 10000ms`)}),1e4);if(o=this.emitter.onContentItemCreated(((i,s)=>{i===t.id&&s.type===e.type&&(n(r(s.config.id)),o(),clearTimeout(a))})),1===(null==c?void 0:c.contentItems.length)&&l){const t=s.getComponentsByName(this._emptyVisibleWindowName)[0];t.parent.replaceChild(t,e)}else s.addChild(e)}))}))}closeContainer(t){(d.getByContainerId(t)||d.getByWindowId(t)).layout.root.getItemsById(t)[0].remove()}bundleWorkspace(t,e){const n=d.getById(t),i=n.layout.root.contentItems.map((t=>this._stateResolver.getContainerConfig(t.config.id))),o=n.layout.root.contentItems[0],s={type:e,content:i,workspacesConfig:{}};n.layout.root.replaceChild(o,s)}hideAddButton(t){$(\"#nestHere\"+t).children(\".add-button\").hide()}showAddButton(t){$(\"#nestHere\"+t).children(\".add-button\").show()}addWorkspace(e,n){var i,o;return t(this,void 0,void 0,(function*(){const t=d.workspaceLayout.root.getItemsByFilter((t=>t.isStack))[0],s={componentName:this._configFactory.getWorkspaceLayoutComponentName(e),type:\"component\",workspacesConfig:{},id:e,noTabHeader:null===(i=n.workspacesOptions)||void 0===i?void 0:i.noTabHeader,title:(null===(o=null==n?void 0:n.workspacesOptions)||void 0===o?void 0:o.title)||this._configFactory.getWorkspaceTitle(d.workspaceTitles)};this.registerWorkspaceComponent(e),t.addChild(s,void 0,!s.noTabHeader),yield this.initWorkspaceContents(e,n),this.setupContentLayouts(e),this.emitter.raiseEvent(\"workspace-added\",{workspace:d.getById(e)})}))}removeWorkspace(t){const e=d.getWorkspaceLayoutItemById(t);if(!e)throw new Error(\"Could find workspace to remove with id \"+t);d.removeById(t),e.remove()}changeTheme(t){const e=document.getElementsByTagName(\"html\")[0];\"light\"===t?e.classList.contains(t)||(e.classList.remove(\"dark\"),e.classList.add(t)):e.classList.contains(t)||(e.classList.remove(\"light\"),e.classList.add(t));const n=$(\"link[href='./dist/glue42-light-theme.css']\");(0===n.length?$(\"link[href='./dist/glue42-dark-theme.css']\"):n).attr(\"href\",`./dist/glue42-${t}-theme.css`)}getDragElement(){return $(\".lm_dragProxy\")[0]}setDragElementSize(t,e){const n=this.getDragElement();if(n){n.setAttribute(\"width\",t+\"px\"),n.setAttribute(\"height\",e+\"px\");const i=$(n).children(\".lm_content\").children(\".lm_item_container\")[0];i.setAttribute(\"width\",t+\"px\"),i.setAttribute(\"height\",e+\"px\"),i.setAttribute(\"style\",\"\")}else{const n=new MutationObserver((i=>{let o;Array.from(i).forEach((t=>{const e=$(t.addedNodes);o||(o=e.find(\".lm_dragProxy\"))})),o&&(n.disconnect(),this.setDragElementSize(t,e))}));n.observe($(\"body\")[0],{childList:!0,subtree:!0})}}removeLayoutElement(t){let e;return d.layouts.filter((t=>t.layout)).forEach((n=>{const i=n.layout.root.getItemsById(t)[0];i&&n.windows.find((e=>e.id===t))&&(n.windows=n.windows.filter((e=>e.id!==t)),i.remove(),e=n)})),e}setWindowTitle(t,e){const n=d.getWindowContentItem(t);n.setTitle(e),n.config.componentState.title=e}setWorkspaceTitle(t,e){d.getWorkspaceLayoutItemById(t).setTitle(e)}focusWindow(t){const e=d.layouts.find((e=>e.windows.some((e=>e.id===t)))).layout.root.getItemsById(t)[0];e.parent.setActiveContentItem(e)}focusWorkspace(t){const e=d.getWorkspaceLayoutItemById(t);e.parent.setActiveContentItem(e)}maximizeWindow(t){const e=d.layouts.find((e=>e.windows.some((e=>e.id===t)))).layout.root.getItemsById(t)[0];e.parent.hasId(this._maximizedId)||e.parent.toggleMaximise()}restoreWindow(t){const e=d.layouts.find((e=>e.windows.some((e=>e.id===t)))).layout.root.getItemsById(t)[0];e.parent.hasId(this._maximizedId)&&e.parent.toggleMaximise()}showLoadedWindow(e,n){return t(this,void 0,void 0,(function*(){yield this.waitForWindowContainer(e);const t=d.getWindowContentItem(e),i=d.getByWindowId(e),o=t.config;o.componentState.windowId=n,i.windows.find((t=>t.id===e)).windowId=n,t.parent.replaceChild(t,o)}))}isWindowVisible(t){t=r(t);return d.getWindowContentItem(t).parent.getActiveContentItem().config.id===t}initWorkspaceContents(t,e){if(!e||\"component\"!==e.type&&!e.content.length)return d.addOrUpdate(t,[]),this.showAddButton(t),Promise.resolve();const n=((t,e)=>{let n,i,o=0;const s=setTimeout((()=>{i()}),e||1e4);return{reject:t=>{clearTimeout(s),i(t)},signal:()=>{o++,o>=t&&(clearTimeout(s),n())},promise:new Promise(((t,e)=>{n=t,i=e}))}})(2);e.settings||(e.settings=this._configFactory.getDefaultWorkspaceSettings()),e.type&&\"workspace\"!==e.type&&(e={settings:this._configFactory.getDefaultWorkspaceSettings(),content:[{type:\"column\",content:[e],workspacesConfig:{}}]}),\"component\"!==e.type&&\"stack\"===e.content[0].type&&(e=Object.assign(Object.assign({},e),{content:[{type:\"column\",content:e.content,workspacesConfig:{}}]}));const o=new i(e,$(\"#nestHere\"+t));d.addOrUpdate(t,[]),this.registerEmptyWindowComponent(o,t),a(e.content).forEach((t=>{this.registerWindowComponent(o,r(t.id))}));const s=$(\"#nestHere\"+t);return o.on(\"initialised\",(()=>{const e=a(o.toConfig().content);d.addOrUpdate(t,e.map((t=>{const e=o.root.getItemsById(r(t.id))[0].element;return{id:r(t.id),bounds:c(e),windowId:t.componentState.windowId}})),o),this.emitter.raiseEventWithDynamicName(\"content-layout-initialised-\"+t),this.emitter.raiseEvent(\"content-layout-init\",{layout:o});const i=s.width(),l=s.height();o.updateSize(i,l),n.signal()})),o.on(\"stateChanged\",(()=>{this.emitter.raiseEvent(\"content-layout-state-changed\",{layoutId:t})})),o.on(\"itemCreated\",(e=>{var n;if(e.isComponent)e.on(\"size-changed\",(()=>{const n=d.getById(t).windows.find((t=>t.id===e.config.id));n&&(n.bounds=c(e.element));const i=e.config.id;this.emitter.raiseEvent(\"content-item-resized\",{target:e.element[0],id:r(i)})})),(e.config.componentName===this._emptyVisibleWindowName||(null===(n=e.parent)||void 0===n?void 0:n.config.workspacesConfig.wrapper))&&e.tab.header.position(!1);else{if(e.isRoot)return void(e.id&&e.id.length||e.addId(t));e.config.id&&e.config.id.length||e.addId(this._configFactory.getId())}this.emitter.raiseEvent(\"content-item-created\",{workspaceId:t,item:e})})),o.on(\"stackCreated\",(e=>{const n=document.createElement(\"li\");n.classList.add(\"lm_add_button\"),n.onclick=i=>{i.stopPropagation(),this.emitter.raiseEvent(\"add-button-clicked\",{args:{laneId:r(e.config.id),workspaceId:t,bounds:c(n)}})};const i=$(e.element).children(\".lm_header\").children(\".lm_controls\").children(\".lm_maximise\");i.addClass(\"workspace_content\"),e.on(\"maximized\",(()=>{i.addClass(\"lm_restore\"),i.attr(\"title\",this._stackRestoreLabel),this.emitter.raiseEvent(\"stack-maximized\",{stack:e})})),e.on(\"minimized\",(()=>{i.removeClass(\"lm_restore\"),i.attr(\"title\",this._stackMaximizeLabel),this.emitter.raiseEvent(\"stack-restored\",{stack:e})})),this._options.disableCustomButtons||e.header.controlsContainer.prepend($(n)),e.on(\"activeContentItemChanged\",(()=>{const t=e.getActiveContentItem();if(!t.isComponent)return;const n=t.config.id,i=[{id:r(t.config.id),bounds:c(t.element),windowId:t.config.componentState.windowId,appName:t.config.componentState.appName,url:t.config.componentState.url}],o=e.header.tabs.reduce(((t,e)=>{const n=e.contentItem.config;if(\"component\"===n.type){const i={id:r(n.id),bounds:c(e.contentItem.element),windowId:n.componentState.windowId,appName:n.componentState.appName,url:n.componentState.url};t.push(i)}return t}),[]).filter((t=>t.id!==n));this.emitter.raiseEvent(\"selection-changed\",{toBack:o,toFront:i})})),e.on(\"popoutRequested\",(()=>{const t=e.getActiveContentItem();this.emitter.raiseEvent(\"eject-requested\",{item:t})}))})),o.on(\"tabCreated\",(t=>{t._dragListener.on(\"drag\",(()=>{this.emitter.raiseEvent(\"tab-drag\",{tab:t})})),t._dragListener.on(\"dragStart\",(()=>{this.emitter.raiseEvent(\"tab-drag-start\",{tab:t})})),t._dragListener.on(\"dragEnd\",(()=>{this.emitter.raiseEvent(\"tab-drag-end\",{tab:t})})),t.element.mousedown((()=>{this.emitter.raiseEvent(\"tab-element-mouse-down\",{tab:t})})),this.refreshTabSizeClass(t)})),o.on(\"tabCloseRequested\",(t=>{this.emitter.raiseEvent(\"tab-close-requested\",{item:t.contentItem})})),o.on(\"componentCreated\",(e=>{const i=this.emitter.raiseEvent(\"content-component-created\",{component:e,workspaceId:t});Array.isArray(i)?Promise.all(i).then((()=>{n.signal()})).catch((t=>n.reject(t))):i.then((()=>{n.signal()})).catch((t=>n.reject(t)))})),o.init(),n.promise}initWorkspaceConfig(e){return new Promise((n=>{e.settings.selectionEnabled=!0,d.workspaceLayout=new i(e,$(this._workspaceLayoutElementId),u.decoratedFactory);new p((t=>{Array.from(t).forEach((t=>{this.emitter.raiseEvent(\"outer-layout-container-resized\",{target:t.target})}))})).observe($(\"#outter-layout-container\")[0]),e.content[0].content.forEach((t=>{const e=t.id;this.registerWorkspaceComponent(r(e))})),d.workspaceLayout.on(\"initialised\",(()=>{this.emitter.raiseEvent(\"workspace-layout-initialised\",{}),n()})),d.workspaceLayout.on(\"stackCreated\",(e=>{var n;const i=e.header.controlsContainer.children(\".lm_close\")[0];i&&(i.onclick=()=>{this.emitter.raiseEvent(\"close-frame\",{})});const o=e.header.element[0];if(new MutationObserver((()=>{const t=this.getElementByClass(o,\"lm_add_button\");t&&u.decoratedFactory.createAddWorkspace&&(t.onclick=e=>{e.stopPropagation(),this.emitter.raiseEvent(\"workspace-add-button-clicked\",{bounds:c(t)})})})).observe(e.header.element[0],{attributes:!1,childList:!0,subtree:!0}),!this._options.disableCustomButtons&&!(null===(n=u.decoratedFactory)||void 0===n?void 0:n.createAddWorkspace)){const t=document.createElement(\"li\");t.classList.add(\"lm_add_button\"),t.onclick=t=>{t.stopPropagation(),this._emitter.raiseEvent(\"workspace-add-button-clicked\",{})},e.header.workspaceControlsContainer.prepend($(t))}if(!u.decoratedFactory.createLogo){const t=document.createElement(\"span\");t.classList.add(\"logo_type\");const n=e.header.element[0].getElementsByClassName(\"lm_logo\")[0];n&&n.appendChild(t)}e.on(\"activeContentItemChanged\",(()=>t(this,void 0,void 0,(function*(){if(0===d.workspaceIds.length)return;const t=e.getActiveContentItem().config.id;yield this.waitForLayout(r(t));const n=d.workspaceIds.reduce(((t,e)=>[...t,...d.getById(e).windows]),[]);this.emitter.raiseEvent(\"workspace-selection-changed\",{workspace:d.getById(t),toBack:n})}))))})),d.workspaceLayout.on(\"itemCreated\",(t=>{t.isComponent&&t.on(\"size-changed\",(()=>{this.emitter.raiseEvent(\"workspace-content-container-resized\",{target:t,id:r(t.config.id)}),this.emitter.raiseEventWithDynamicName(\"workspace-content-container-resized-\"+t.config.id,t)}))})),d.workspaceLayout.on(\"tabCreated\",(t=>{const e=document.createElement(\"div\");e.classList.add(\"lm_saveButton\"),e.onclick=e=>{e.stopPropagation(),this.emitter.raiseEvent(\"workspace-save-requested\",{workspaceId:r(t.contentItem.config.id)})},this._options.disableCustomButtons||t.element[0].prepend(e),this.refreshTabSizeClass(t)})),d.workspaceLayout.on(\"tabCloseRequested\",(t=>{this.emitter.raiseEvent(\"workspace-tab-close-requested\",{workspace:d.getById(t.contentItem.config.id)})})),d.workspaceLayout.init()}))}setupOuterLayout(){this.emitter.onOuterLayoutContainerResized((t=>{d.workspaceLayout.updateSize($(t).width(),$(t).height())}))}setupContentLayouts(t){this.emitter.onContentContainerResized((e=>{const n=d.getById(t).layout;n&&n.updateSize($(e.element).width(),$(e.element).height())}),t)}registerWindowComponent(t,e){this.registerComponent(t,\"app\"+e,(t=>{const n=document.createElement(\"div\");n.setAttribute(\"style\",\"height:100%;\"),n.id=\"app\"+e,t.getElement().append(n)}))}registerEmptyWindowComponent(t,e){this.registerComponent(t,this._emptyVisibleWindowName,(t=>{const n=document.createElement(\"div\");n.classList.add(\"empty-container-background\");const i=document.createElement(\"button\");i.classList.add(\"add-button\"),i.onclick=n=>{n.stopPropagation();const o=t.tab.contentItem,s=\"stack\"===o.parent.type?\"group\":o.parent.type;o.parent.config.workspacesConfig.wrapper?this.emitter.raiseEvent(\"add-button-clicked\",{args:{laneId:r(o.parent.parent.config.id),workspaceId:e,parentType:o.parent.parent.type,bounds:c(i)}}):this.emitter.raiseEvent(\"add-button-clicked\",{args:{laneId:r(o.parent.config.id),workspaceId:e,parentType:s,bounds:c(i)}})},n.append(i),t.getElement().append(n)}))}registerWorkspaceComponent(t){this.registerComponent(d.workspaceLayout,this._configFactory.getWorkspaceLayoutComponentName(t),(e=>{var n,i;const o=document.createElement(\"div\");o.setAttribute(\"style\",\"height:calc(100% - 1px); width:calc(100% - 1px);\"),o.id=\"nestHere\"+t;const s=document.createElement(\"button\");s.classList.add(\"add-button\"),s.onclick=n=>{n.stopPropagation();const i=e.tab.contentItem;this.emitter.raiseEvent(\"add-button-clicked\",{args:{laneId:r(i.parent.id),workspaceId:t,bounds:c(s)}})},o.appendChild(s),(null===(n=u.decoratedFactory)||void 0===n?void 0:n.createWorkspaceContents)?(document.body.append(o),o.style.display=\"none\",null===(i=u.decoratedFactory)||void 0===i||i.createWorkspaceContents({workspaceId:t,domNode:e.getElement()[0]})):e.getElement().append(o),$(s).hide()}))}registerComponent(t,e,n){try{t.registerComponent(e,(function(t,e){n&&n(t,e)}))}catch(t){console.log(\"Tried to register and already existing component - \"+e)}}waitForLayout(t){return new Promise((e=>{const n=this._registry.add(\"content-layout-initialised-\"+t,(()=>{e(),n()}));d.getById(t)&&(e(),n())}))}waitForWindowContainer(t){return new Promise((e=>{const n=this.emitter.onContentComponentCreated((i=>{i.config.id===t&&(e(),n())}));d.getWindowContentItem(t)&&(e(),n())}))}getWindowInfoFromConfig(t){return\"component\"!==t.type?this.getWindowInfoFromConfig(t.content[0]):{placementId:r(t.id),windowId:t.componentState.windowId,appName:t.componentState.appName,url:t.componentState.url}}refreshLayoutSize(){const t=c($(this._workspaceLayoutElementId));d.workspaceLayout.updateSize(t.width,t.height)}refreshTabSizeClass(t){const e=t.header.tabs,n=e.map((t=>t.element)).some((t=>t.hasClass(\"lm_tab_small\"))),i=e.map((t=>t.element)).some((t=>t.hasClass(\"lm_tab_mini\")));n&&t.element.addClass(\"lm_tab_small\"),i&&t.element.addClass(\"lm_tab_mini\")}getElementByClass(t,e){const n=t.getElementsByClassName(e);if(n.length>1)throw new Error(`Multiple elements with class ${e} in element with id ${t.id} and class ${t.className} are not supported`);return n[0]}}class f{constructor(t){this._registry=t}onWorkspaceLayoutInit(t){return this._registry.add(\"workspace-layout-initialised\",t)}onContentLayoutInit(t){return this._registry.add(\"content-layout-init\",t)}onOuterLayoutContainerResized(t){return this._registry.add(\"outer-layout-container-resized\",t)}onContentContainerResized(t,e){return e?this._registry.add(\"workspace-content-container-resized-\"+e,t):this._registry.add(\"workspace-content-container-resized\",t)}onContentItemResized(t){return this._registry.add(\"content-item-resized\",t)}onContentComponentCreated(t){return this._registry.add(\"content-component-created\",t)}onFrameCloseRequested(t){return this._registry.add(\"close-frame\",t)}onRestoreRequested(t){return this._registry.add(\"restore-frame\",t)}onMaximizeRequested(t){return this._registry.add(\"maximize-frame\",t)}onMinimizeRequested(t){return this._registry.add(\"minimize-frame\",t)}onMoveAreaChanged(t){return this._registry.add(\"move-area-changed\",t)}onTabCloseRequested(t){return this._registry.add(\"tab-close-requested\",t)}onTabDragStart(t){return this._registry.add(\"tab-drag-start\",t)}onTabDrag(t){return this._registry.add(\"tab-drag\",t)}onTabDragEnd(t){return this._registry.add(\"tab-drag-end\",t)}onTabElementMouseDown(t){return this._registry.add(\"tab-element-mouse-down\",t)}onSelectionChanged(t){return this._registry.add(\"selection-changed\",t)}onWorkspaceAdded(t){return this._registry.add(\"workspace-added\",t)}onWorkspaceSelectionChanged(t){return this._registry.add(\"workspace-selection-changed\",t)}onWorkspaceTabCloseRequested(t){return this._registry.add(\"workspace-tab-close-requested\",t)}onAddButtonClicked(t){return this._registry.add(\"add-button-clicked\",t)}onContentLayoutStateChanged(t){return this._registry.add(\"content-layout-state-changed\",t)}onContentItemCreated(t){return this._registry.add(\"content-item-created\",t)}onWorkspaceAddButtonClicked(t){return this._registry.add(\"workspace-add-button-clicked\",t)}onWorkspaceSaveRequested(t){return this._registry.add(\"workspace-save-requested\",t)}onStackMaximized(t){return this._registry.add(\"stack-maximized\",t)}onStackRestored(t){return this._registry.add(\"stack-restored\",t)}onEjectRequested(t){return this._registry.add(\"eject-requested\",t)}raiseEvent(t,e){const n=this._registry.execute(t,...Object.values(e));return Array.isArray(n)&&n.some((t=>t&&t.then))||n&&!Array.isArray(n)&&n.then?n:Promise.resolve(n)}raiseEventWithDynamicName(t,...e){this._registry.execute(t,...e)}}var g=1;var y,v,w,_={nextValue:function(){return(g=(9301*g+49297)%233280)/233280},seed:function(t){g=t}},b=\"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-\";function C(){w=!1}function I(t){if(t){if(t!==y){if(t.length!==b.length)throw new Error(\"Custom alphabet for shortid must be \"+b.length+\" unique characters. You submitted \"+t.length+\" characters: \"+t);var e=t.split(\"\").filter((function(t,e,n){return e!==n.lastIndexOf(t)}));if(e.length)throw new Error(\"Custom alphabet for shortid must be \"+b.length+\" unique characters. These characters were not unique: \"+e.join(\", \"));y=t,C()}}else y!==b&&(y=b,C())}function x(){return w||(w=function(){y||I(b);for(var t,e=y.split(\"\"),n=[],i=_.nextValue();e.length>0;)i=_.nextValue(),t=Math.floor(i*e.length),n.push(e.splice(t,1)[0]);return n.join(\"\")}())}var k={get:function(){return y||b},characters:function(t){return I(t),y},seed:function(t){_.seed(t),v!==t&&(C(),v=t)},lookup:function(t){return x()[t]},shuffled:x},E=\"object\"==typeof window&&(window.crypto||window.msCrypto),S=E&&E.getRandomValues?function(t){return E.getRandomValues(new Uint8Array(t))}:function(t){for(var e=[],n=0;n<t;n++)e.push(Math.floor(256*Math.random()));return e},T=function(t,e,n){for(var i=(2<<Math.log(e.length-1)/Math.LN2)-1,o=-~(1.6*i*n/e.length),s=\"\";;)for(var r=t(o),a=o;a--;)if((s+=e[r[a]&i]||\"\").length===+n)return s};var W,A,D=function(t){for(var e,n=0,i=\"\";!e;)i+=T(S,k.get(),1),e=t<Math.pow(16,n+1),n++;return i};var P=function(t){var e=\"\",n=Math.floor(.001*(Date.now()-1567752802062));return n===A?W++:(W=0,A=n),e+=D(7),e+=D(t),W>0&&(e+=D(W)),e+=D(n)};var L=function(t){return!(!t||\"string\"!=typeof t||t.length<6)&&!new RegExp(\"[^\"+k.get().replace(/[|\\\\{}()[\\]^$+*?.-]/g,\"\\\\$&\")+\"]\").test(t)},M=n((function(t){var e=0;function n(){return P(e)}t.exports=n,t.exports.generate=n,t.exports.seed=function(e){return k.seed(e),t.exports},t.exports.worker=function(n){return e=n,t.exports},t.exports.characters=function(t){return void 0!==t&&k.characters(t),k.shuffled()},t.exports.isValid=L}));class F{constructor(t){this._registry=s(),this._idToFrame={},this._glue=t}startFrame(e,n,i,o,s){return t(this,void 0,void 0,(function*(){if(s=s||M.generate(),this._idToFrame[e])return this._idToFrame[e];const t=this._glue.windows.findById(s);if(t)try{yield t.close()}catch(t){}if(!n)throw new Error(`The url of window with itemId ${e} is undefined`);const i=document.createElement(\"iframe\");if(i.name=s,i.src=n,document.body.appendChild(i),$(i).on(\"load\",(()=>{try{const t=i.contentDocument||i.contentWindow.document;t.onclick=()=>{this._registry.execute(\"frame-content-clicked\",{})};const n=t.querySelector(\"title\"),o=new MutationObserver((()=>{this._registry.execute(\"window-title-changed\",e,t.title)})),s={childList:!0};n&&o.observe(n,s),t.title&&this._registry.execute(\"window-title-changed\",e,t.title)}catch(t){console.warn(t)}})),this._registry.execute(\"frameLoaded\",e),i.setAttribute(\"id\",e),$(i).css(\"position\",\"absolute\"),this._idToFrame[e]=i,yield this.waitForWindow(s),o){this._glue.windows.findById(s).setContext(o)}return i}))}moveFrame(t,e){const n=this._idToFrame[t],i=$(n);i.css(\"top\",e.top+\"px\"),i.css(\"left\",e.left+\"px\"),i.css(\"width\",e.width+\"px\"),i.css(\"height\",e.height+\"px\")}selectionChanged(t,e){e.forEach((t=>{$(this._idToFrame[t]).css(\"z-index\",\"-1\")})),t.forEach((t=>{$(this._idToFrame[t]).hasClass(\"maximized-active-tab\")?$(this._idToFrame[t]).css(\"z-index\",\"42\"):$(this._idToFrame[t]).css(\"z-index\",\"19\")}))}maximizeTab(t){$(this._idToFrame[t]).addClass(\"maximized-active-tab\")}restoreTab(t){$(this._idToFrame[t]).removeClass(\"maximized-active-tab\")}selectionChangedDeep(t,e){e.forEach((t=>{$(this._idToFrame[t]).css(\"z-index\",\"-1\")})),t.forEach((t=>{$(this._idToFrame[t]).hasClass(\"maximized-active-tab\")?$(this._idToFrame[t]).css(\"z-index\",\"42\"):$(this._idToFrame[t]).css(\"z-index\",\"19\")}))}bringToFront(t){$(this._idToFrame[t]).css(\"z-index\",\"999\")}remove(t){const e=this._idToFrame[t];if(e){delete this._idToFrame[t];try{e.contentWindow.dispatchEvent(new Event(\"beforeunload\"))}catch(t){console.warn(t)}e.remove()}}onFrameLoaded(t){return this._registry.add(\"frameLoaded\",t)}onFrameContentClicked(t){return this._registry.add(\"frame-content-clicked\",t)}onWindowTitleChanged(t){return this._registry.add(\"window-title-changed\",t)}waitForWindow(t){return new Promise(((e,n)=>{let i=()=>{};const o=setTimeout((()=>{n(`Window with id ${t} did not appear in 5000ms`),i()}),5e3);i=this._glue.windows.onWindowAdded((n=>{n.id===t&&(i(),e(),clearTimeout(o))}));this._glue.windows.list().find((e=>e.id===t))&&(e(),i(),clearTimeout(o))}))}}var z=new class{constructor(){this.LAST_SESSION_KEY=\"lastSession\"}get(t){return JSON.parse(localStorage.getItem(t))}set(t,e){localStorage.setItem(t,JSON.stringify(e))}};var B=new class{get config(){return this._config}loadConfig(){const t=new URLSearchParams(window.location.search),e=t.get(\"emptyFrame\"),n=t.get(\"disableCustomButtons\"),i=t.get(\"workspaceName\"),o=t.get(\"workspaceNames\"),s=t.get(\"context\"),r=t.get(\"build\");let a,c=[];try{c=JSON.parse(o)||c}catch(t){}try{a=JSON.parse(s)}catch(t){}i&&c.push(i);const l={emptyFrame:null!=e&&void 0!==e,disableCustomButtons:null!=n&&void 0!==n,workspaceNames:c,context:a,build:null!=r};return this._config=l,this.cleanUpUrl(),l}cleanUpUrl(){const t=this.removeQueryParams(window.location.search,[\"emptyFrame\"]);window.history.replaceState(null,document.title,window.location.origin+window.location.pathname+t)}removeQueryParams(t,e){return e.forEach((e=>{const n=new URLSearchParams(t),i=n.get(e);Array.from(n.keys()).indexOf(e)>-1&&(t=t.replace(`${e}=${i}`,\"\"))})),\"&\"===t[t.length-1]&&(t=t.substr(0,t.length-1)),t=(t=t.replace(\"&&\",\"&\")).replace(\"?&\",\"?\")}};class N{constructor(t,e,n,i){this.resolver=t,this._glue=e,this._configFactory=n,this._configConverter=i,this._layoutsType=\"Workspace\",this._layoutComponentType=\"Workspace\"}getInitialConfig(){var e;return t(this,void 0,void 0,(function*(){if(this._initialWorkspaceConfig)return this._configFactory.generateInitialConfig([this._initialWorkspaceConfig]);const n=B.config;if(n.workspaceNames&&n.workspaceNames.length){const e=(yield Promise.all(n.workspaceNames.map((e=>t(this,void 0,void 0,(function*(){return yield this.getWorkspaceByName(e)})))))).map((t=>(t.config.workspacesOptions=t.config.workspacesOptions||{},t.config.workspacesOptions.context=t.layoutData.context,t.config))).filter((t=>t));if(e.length)return e.forEach(((t,e)=>{t.id=this._configFactory.getId(),t.workspacesOptions=t.workspacesOptions||{},n.context&&t.workspacesOptions.context?t.workspacesOptions.context=Object.assign(t.workspacesOptions.context,n.context):n.context&&(t.workspacesOptions.context=n.context),t.workspacesOptions.layoutName=n.workspaceNames[e]})),this._configFactory.generateInitialConfig(e)}else if(!(null===(e=B.config)||void 0===e?void 0:e.build)){const t=this.getLastSession();if(t&&t.length)return t.forEach((t=>{t&&(t.id=this._configFactory.getId())})),this._configFactory.generateInitialConfig(t)}return this._configFactory.getDefaultFrameConfig()}))}getLastSession(){return(z.get(z.LAST_SESSION_KEY)||[]).map((t=>(this.addWorkspaceIds(t),this.addWindowIds(t),this._configConverter.convertToRendererConfig(t))))}getSavedWorkspaceNames(){return t(this,void 0,void 0,(function*(){return(yield this._glue.layouts.getAll(this._layoutsType)).filter((t=>t.type===this._layoutsType)).map((t=>t.name))}))}export(){return t(this,void 0,void 0,(function*(){return this._glue.layouts.export(this._layoutsType)}))}getWorkspaceByName(e){return t(this,void 0,void 0,(function*(){const t=yield this._glue.layouts.get(e,this._layoutsType),n=t.components[0].state,i=this._configConverter.convertToRendererConfig(n);return this.addWorkspaceIds(i),this.addWindowIds(i),{config:i,layoutData:{metadata:t.metadata,name:e,context:n.context}}}))}delete(e){return t(this,void 0,void 0,(function*(){yield this._glue.layouts.remove(this._layoutsType,e)}))}save(e){return t(this,void 0,void 0,(function*(){const{workspace:t,title:n,name:i,saveContext:o}=e;if(!t.layout)throw new Error(\"An empty layout cannot be saved\");t.layout.config.workspacesOptions.name=i;const s=yield this.saveWorkspaceCore(t);n&&(s.config.title=n);let r={};if(o)try{r=(yield this.getWorkspaceContext(t.id))||{}}catch(t){}const a={name:i,type:this._layoutsType,metadata:{},components:[{type:this._layoutComponentType,state:{children:s.children,config:s.config,context:r}}]};return yield this._glue.layouts.import([a]),a}))}generateLayout(e,n){return t(this,void 0,void 0,(function*(){if(!n.layout)throw new Error(\"An empty layout cannot be generated\");n.layout.config.workspacesOptions.name=e;const t=yield this.saveWorkspaceCore(n);return{name:e,type:this._layoutsType,metadata:{},components:[{type:this._layoutComponentType,state:{children:t.children,config:t.config,context:{}}}]}}))}saveWorkspacesFrame(e){return t(this,void 0,void 0,(function*(){const t=e.map((t=>this.saveWorkspaceCoreSync(t))),n=yield Promise.all(t);z.set(z.LAST_SESSION_KEY,n)}))}setInitialWorkspaceConfig(t){this._initialWorkspaceConfig=t}saveWorkspaceCore(e){return t(this,void 0,void 0,(function*(){if(!e.layout)return;const t=this.resolver.getWorkspaceConfig(e.id);this.removeWorkspaceIds(t),yield this.applyWindowLayoutState(t);const n=this._configConverter.convertToAPIConfig(t);return this.removeWorkspaceItemIds(n),this.windowSummariesToWindowLayout(n),this.addWindowUrlsToWindows(n),this.workspaceSummaryToWorkspaceLayout(n),n}))}saveWorkspaceCoreSync(t){if(!t.layout)return;const e=this.resolver.getWorkspaceConfig(t.id);this.removeWorkspaceIds(e);const n=this._configConverter.convertToAPIConfig(e);return this.removeWorkspaceItemIds(n),this.windowSummariesToWindowLayout(n),this.addWindowUrlsToWindows(n),this.workspaceSummaryToWorkspaceLayout(n),n}windowSummariesToWindowLayout(t){const e=t=>{if(\"window\"===t.type)return delete t.config.isMaximized,delete t.config.isLoaded,delete t.config.isFocused,delete t.config.windowId,delete t.config.workspaceId,delete t.config.frameId,delete t.config.positionIndex,void(t.config.appName&&delete t.config.url);t.children.forEach((t=>e(t)))};e(t)}addWindowContexts(e){return t(this,void 0,void 0,(function*(){const n=e=>t(this,void 0,void 0,(function*(){if(\"window\"!==e.type)yield Promise.all(e.children.map((t=>n(t))));else if(e.config.windowId){const t=this._glue.windows.findById(e.config.windowId);if(t){const n=yield t.getContext();e.config.context=Object.assign({},e.config.context||{},n)}}}));yield n(e)}))}workspaceSummaryToWorkspaceLayout(t){(null==t?void 0:t.config)&&(delete t.config.frameId,delete t.config.positionIndex)}addWindowUrlsToWindows(t){const e=t=>{var n,i;if(\"window\"!==t.type||t.config.url||t.config.appName)\"window\"!==t.type&&t.children.forEach((t=>e(t)));else{const e=this._glue.appManager.application(t.config.appName);t.config.url=null===(i=null===(n=null==e?void 0:e.userProperties)||void 0===n?void 0:n.details)||void 0===i?void 0:i.url}};e(t)}addWorkspaceIds(t){if(!t)return;const e=t=>{t.id=this._configFactory.getId(),t.type&&\"component\"===t.type&&(t.componentName=\"app\"+t.id),\"component\"!==t.type&&t.content&&t.content.forEach((t=>e(t)))};e(t)}addWindowIds(t){if(!t)return;const e=t=>{\"component\"===t.type&&(t.componentState.windowId=this._configFactory.getId()),\"component\"!==t.type&&t.content&&t.content.forEach((t=>e(t)))};e(t)}removeWorkspaceIds(t){const e=t=>{\"id\"in t&&delete t.id,\"component\"===(null==t?void 0:t.type)&&(t.componentName=\"placeHolderId\",t.title=\"placeHolderId\"),\"component\"!==t.type&&t.content&&t.content.forEach((t=>e(t)))};e(t)}removeWorkspaceItemIds(t){const e=t=>{var n;\"id\"in t&&delete t.id,\"window\"!==t.type&&(null===(n=t.children)||void 0===n||n.forEach((t=>e(t))))};e(t)}applyWindowLayoutState(e){return t(this,void 0,void 0,(function*(){const n=e=>t(this,void 0,void 0,(function*(){if(\"component\"===e.type){const t=yield this.getWindowLayoutState(e.windowId);e.componentState.layoutState=t}else e.content.forEach((t=>n(t)))}));yield Promise.all(e.content.map((e=>t(this,void 0,void 0,(function*(){yield n(e)})))))}))}getWorkspaceContext(e){return t(this,void 0,void 0,(function*(){return yield this._glue.contexts.get(l(e))}))}getWindowLayoutState(e){return t(this,void 0,void 0,(function*(){return Promise.resolve({windowId:e})}))}}class O{constructor(t,e){this._frameId=t,this._layoutEventEmitter=e}getWindowSummary(e){return t(this,void 0,void 0,(function*(){e=Array.isArray(e)?e[0]:e;let t=d.getWindowContentItem(e);return t||(yield this.waitForWindowContentItem(e),t=d.getWindowContentItem(e)),this.getWindowSummaryCore(t,e)}))}getWindowSummarySync(t,e){t=Array.isArray(t)?t[0]:t;const n=e||d.getWindowContentItem(t);return this.getWindowSummaryCore(n,t)}getWorkspaceConfig(t){const e=d.getById(t);if(!e)throw new Error(\"Could find workspace to remove with id \"+t);const n=e.layout?e.layout.toConfig():{workspacesOptions:{},content:[],id:t};return n.workspacesOptions.frameId=this._frameId,n.workspacesOptions.positionIndex=this.getWorkspaceTabIndex(t),n.workspacesOptions.title||(n.workspacesOptions.title=d.getWorkspaceTitle(t)),n.workspacesOptions.name=n.workspacesOptions.name||n.workspacesOptions.title,this.transformComponentsToWindowSummary(n),this.transformParentsToContainerSummary(n),n}getWorkspaceSummary(t){const e=this.getWorkspaceConfig(t),n=this.getWorkspaceTabIndex(t),i={frameId:this._frameId,positionIndex:n,title:d.getWorkspaceTitle(t),name:e.workspacesOptions.name||d.getWorkspaceTitle(t)};return e.workspacesOptions.layoutName&&(i.layoutName=e.workspacesOptions.layoutName),{config:i,id:t}}isWindowMaximized(t){const e=r(t),n=d.getWindowContentItem(e);return null==n?void 0:n.parent.isMaximized}isWindowSelected(t){const e=r(t),n=d.getWindowContentItem(e);return(null==n?void 0:n.parent.getActiveContentItem().config.id)===e}getContainerSummary(t){var e;t=r(t);const n=d.getByContainerId(t),i=d.getContainer(t),o=null===(e=i.parent)||void 0===e?void 0:e.contentItems.indexOf(i);return{itemId:t,config:{workspaceId:n.id,frameId:this._frameId,positionIndex:o||0}}}getContainerSummaryByReference(t,e){var n;const i=null===(n=t.parent)||void 0===n?void 0:n.contentItems.indexOf(t);return{itemId:r(t.config.id),config:{workspaceId:e,frameId:this._frameId,positionIndex:i||0}}}getContainerConfig(t){t=r(t);const e=(d.getByContainerId(t)||d.getByWindowId(t)).layout.toConfig();return this.findElementInConfig(t,e)}isWindowInWorkspace(t){return!!d.getWindowContentItem(t)}getFrameSnapshot(){const t=d.workspaceIds.map((t=>this.getWorkspaceSummary(t)));return{id:this._frameId,config:{},workspaces:t}}getSnapshot(t){try{return this.getWorkspaceConfig(t)}catch(t){return this.getFrameSnapshot()}}findElementInConfig(t,e){const n=e=>{if(e.id===t)return[e];return(\"component\"!==e.type?e.content:[]).reduce(((t,e)=>[...t,...n(e)]),[])};return n(e).find((t=>t.id))}getWorkspaceTabIndex(t){var e;const n=null===(e=d.workspaceLayout.root.getItemsById(t)[0])||void 0===e?void 0:e.parent;if(!n)return 0;return n.header.tabs.findIndex((e=>e.contentItem.config.id===t))}getWindowSummaryCore(t,e){const n=t.parent.getActiveContentItem().config.id===t.config.id,i=void 0!==t.config.componentState.windowId,o=t.parent.contentItems.indexOf(t),s=d.getByWindowId(e).id,{appName:a,url:c,windowId:l}=t.config.componentState,h=this.getUserFriendlyParent(t);return{itemId:r(t.config.id),parentId:r(h.config.id),config:{frameId:this._frameId,isFocused:n,isLoaded:i,positionIndex:o,workspaceId:s,windowId:l,isMaximized:this.isWindowMaximized(l),appName:a,url:c,title:t.config.title}}}getUserFriendlyParent(t){return t.parent?t.parent.config.workspacesConfig.wrapper?this.getUserFriendlyParent(t.parent):t.parent:t}transformComponentsToWindowSummary(t){var e;if(\"component\"!==t.type||\"emptyVisibleWindow\"!==t.componentName){if(\"component\"===t.type){const e=this.getWindowSummarySync(t.id);return t.workspacesConfig=t.workspacesConfig||{},void(t.workspacesConfig=Object.assign(Object.assign({},t.workspacesConfig),e.config))}null===(e=t.content)||void 0===e||e.map((t=>this.transformComponentsToWindowSummary(t)))}}transformParentsToContainerSummary(t){var e;if(\"component\"!==t.type){if(\"stack\"===t.type||\"row\"===t.type||\"column\"===t.type){const e=this.getContainerSummary(t.id);t.workspacesConfig=t.workspacesConfig||{},t.workspacesConfig=Object.assign(Object.assign({},t.workspacesConfig),e.config)}null===(e=t.content)||void 0===e||e.map((t=>this.transformParentsToContainerSummary(t)))}}waitForWindowContentItem(t){return new Promise((e=>{const n=this._layoutEventEmitter.onContentComponentCreated((i=>{i.config.id===t&&(n(),e())}));d.getWindowContentItem(t)&&(n(),e())}))}}class R{constructor(){this._pattern=/^Untitled ([0-9]+)$/}getTitle(t,e=0){const n=t.filter((t=>this._pattern.test(t))).map((t=>parseInt(this._pattern.exec(t)[1],10)));return\"Untitled \"+((n.length?n.sort(((t,e)=>t-e))[n.length-1]:0)+1+e)}}class H{constructor(t){this._titleGenerator=new R,this._defaultWorkspaceLayoutSettings={showCloseIcon:!1,showMaximizeIcon:!1,showPopoutIcon:!1,disableDragProxy:!0,mode:\"workspace\"},this._glue=t}createEmptyVisibleWindowConfig(){return Object.assign(Object.assign({},this.createWindowConfigurationCore()),{componentState:{header:!1}})}createGDWindowConfig(t){const e=this.createWindowConfigurationCore(t.id);return Object.assign(Object.assign({},e),{componentName:\"app\"+e.id,windowId:t.windowId,title:t.title,componentState:{windowId:t.windowId,appName:t.appName,url:t.url,title:t.title,context:t.context}})}createApiWindow(t){return{id:Array.isArray(t.id)?t.id[0]:t.id,type:\"window\",config:{windowId:t.windowId,isMaximized:t.isMaximized,isLoaded:void 0!==t.windowId,isFocused:t.isFocused,appName:t.appName,url:t.url,title:t.title,workspaceId:t.workspaceId,frameId:t.frameId,positionIndex:t.positionIndex}}}getWorkspaceLayoutComponentName(t){return\"workspace\"+t}getWorkspaceTitle(t){return this._titleGenerator.getTitle(t)}getId(){return M.generate()}getDefaultWorkspaceSettings(){return{mode:\"default\",showCloseIcon:!1,showPopoutIcon:!0}}getDefaultFrameConfig(){const t=M.generate();return{frameId:void 0,workspaceConfigs:[{id:t,config:this.getDefaultWorkspaceConfig()}],workspaceLayout:{settings:this._defaultWorkspaceLayoutSettings,content:[{type:\"stack\",content:[{type:\"component\",id:t,componentName:this.getWorkspaceLayoutComponentName(t),componentState:{},workspacesConfig:{},title:this.getWorkspaceTitle(d.workspaceTitles)}],workspacesConfig:{}}]}}}getDefaultWorkspaceConfig(){}generateInitialConfig(t){const e={settings:this._defaultWorkspaceLayoutSettings,content:[{type:\"stack\",content:t.map((t=>{var e,n,i;const o=M.generate();return{workspacesConfig:{},type:\"component\",id:(null==t?void 0:t.id)||o,componentName:this.getWorkspaceLayoutComponentName(r(null==t?void 0:t.id)||o),componentState:{},noTabHeader:null===(e=null==t?void 0:t.workspacesOptions)||void 0===e?void 0:e.noTabHeader,title:(null===(n=null==t?void 0:t.workspacesOptions)||void 0===n?void 0:n.title)||(null===(i=null==t?void 0:t.workspacesOptions)||void 0===i?void 0:i.name)||this.getWorkspaceTitle(d.workspaceIds)}})),workspacesConfig:{}}]};return{frameId:void 0,workspaceConfigs:t.map(((t,n)=>{let i=null==t?void 0:t.id;return i||\"component\"===e.content[0].type||(i=e.content[0].content[n].id),{id:i,config:t}})),workspaceLayout:e}}wrapInGroup(t){return this.wrap(t,\"stack\")}getAppNameFromWindowId(t){const e=this._glue.appManager.instances().find((e=>e.agm.windowId===t));return null==e?void 0:e.application.name}createWindowConfigurationCore(t){return{workspacesConfig:{},type:\"component\",id:t||this.getId(),componentName:\"emptyVisibleWindow\"}}wrap(t,e){return{workspacesConfig:{wrapper:!0},type:e,content:t}}}class j{constructor(){this.registry=s()}onFrameEvent(t){return this.registry.add(\"frame\",t)}onWindowEvent(t){return this.registry.add(\"window\",t)}onContainerEvent(t){return this.registry.add(\"container\",t)}onWorkspaceEvent(t){return this.registry.add(\"workspace\",t)}raiseFrameEvent(t){this.registry.execute(\"frame\",t.action,t.payload)}raiseWindowEvent(t){this.registry.execute(\"window\",t.action,t.payload)}raiseContainerEvent(t){this.registry.execute(\"container\",t.action,t.payload)}raiseWorkspaceEvent(t){this.registry.execute(\"workspace\",t.action,t.payload)}}class q{constructor(t){this._configFactory=t,this.flat=t=>t.reduce(((t,e)=>[...t,...Array.isArray(e)?e:[e]]),[])}convertToRendererConfig(t){if(t)return this.convertToRendererConfigCore(t,void 0)}convertToAPIConfig(t){if(t)return this.convertToApiConfigCore(t)}convertToRendererConfigCore(t,e){var n,i,o,s,r;let a={type:t.type,content:[],workspacesOptions:t.config||{}};if(\"workspace\"!==t.type&&t.type||(a=this.applyDefaultRendererConfig({content:[],workspacesOptions:t.config})),\"workspace\"===t.type||!t.type){const e=t,{children:n}=e;return n.length>1&&n.every((t=>\"column\"===t.type))?a.content.push(this.wrap(n.map((t=>this.convertToRendererConfigCore(t,e))),\"row\")):n.length>1&&n.every((t=>\"row\"===t.type))?a.content.push(this.wrap(n.map((t=>this.convertToRendererConfigCore(t,e))),\"column\")):a.content.push(...n.map((t=>this.convertToRendererConfigCore(t,e)))),a}if(\"column\"===t.type||\"row\"===t.type)return a.content.push(...t.children.map((e=>this.convertToRendererConfigCore(e,t)))),0===a.content.length&&a.content.push(this.getGroupWithEmptyVisibleWindow()),a;if(\"group\"===t.type)return a.type=\"stack\",a.content.push(...t.children.map((e=>this.convertToRendererConfigCore(e,t)))),0===a.content.length&&a.content.push(this._configFactory.createEmptyVisibleWindowConfig()),a;if(\"window\"===t.type){let a=(null===(n=t.config)||void 0===n?void 0:n.appName)||t.appName;const c=null===(i=t.config)||void 0===i?void 0:i.windowId;!a&&c&&(a=this._configFactory.getAppNameFromWindowId(c));const l=this._configFactory.createGDWindowConfig({windowId:c,id:t.id,appName:a,url:(null===(o=t.config)||void 0===o?void 0:o.url)||t.url,title:(null===(s=t.config)||void 0===s?void 0:s.title)||t.title,context:(null===(r=t.config)||void 0===r?void 0:r.context)||t.context});return\"group\"!==e.type?(l.componentState.header=!1,this.wrap([l],\"stack\")):l}}convertToApiConfigCore(t){if(!t.type||\"workspace\"===t.type){t=t;const e=this.flat(t.content.map((t=>this.convertToApiConfigCore(t))));return{id:r(t.id),config:t.workspacesOptions,children:e}}if(\"component\"===t.type&&\"emptyVisibleWindow\"===t.componentName)return[];if(\"component\"!==t.type&&t.workspacesConfig&&t.workspacesConfig.wrapper)return this.flat(t.content.map((t=>this.convertToApiConfigCore(t))));if(\"component\"===t.type){const e=t.workspacesConfig;return this._configFactory.createApiWindow({id:t.id,isFocused:!1,isMaximized:e.isMaximized,windowId:t.componentState.windowId,appName:t.componentState.appName,url:t.componentState.url,frameId:e.frameId,workspaceId:e.workspaceId,title:e.title,positionIndex:e.positionIndex})}return{id:r(t.id),type:\"stack\"===t.type?\"group\":t.type,children:this.flat(t.content.map((t=>this.convertToApiConfigCore(t)))),config:{}}}wrap(t,e){return{workspacesConfig:{wrapper:!0},type:e,content:t}}applyDefaultRendererConfig(t){return Object.assign({settings:Object.assign({},this._configFactory.getDefaultWorkspaceSettings())},t)}getGroupWithEmptyVisibleWindow(){return this.wrap([this._configFactory.createEmptyVisibleWindowConfig()],\"stack\")}}class U{constructor(t,e,n){this._externalPopupManager=t,this._componentPopupManager=e,this._componentFactory=n}showAddWindowPopup(e,n){var i;return t(this,void 0,void 0,(function*(){return(null===(i=this._componentFactory)||void 0===i?void 0:i.createAddApplicationPopup)?this._componentPopupManager.showAddWindowPopup(e,n):this._externalPopupManager.showAddWindowPopup(e,n)}))}showOpenWorkspacePopup(e,n){var i;return t(this,void 0,void 0,(function*(){return(null===(i=this._componentFactory)||void 0===i?void 0:i.createAddWorkspacePopup)?this._componentPopupManager.showOpenWorkspacePopup(e):this._externalPopupManager.showOpenWorkspacePopup(e,n)}))}showSaveWorkspacePopup(e,n){var i;return t(this,void 0,void 0,(function*(){return(null===(i=this._componentFactory)||void 0===i?void 0:i.createSaveWorkspacePopup)?this._componentPopupManager.showSaveWorkspacePopup(e,n):this._externalPopupManager.showSaveWorkspacePopup(e,n)}))}hidePopup(){this._externalPopupManager.hidePopup(),this._componentFactory&&this._componentPopupManager.hidePopup()}}class V{constructor(t){this._addApplicationType=\"addApplication\",this._openWorkspaceType=\"openWorkspace\",this._saveWorkspaceType=\"saveWorkspace\",this._showPopupMethod=\"T42.Workspaces.ShowPopup\",this._glue=t,this.initPopup(),this.registerHideMethod(),this.registerResizeMethod()}showAddWindowPopup(e,n){return t(this,void 0,void 0,(function*(){this.hidePopup();const t=yield this.getPopupSize(this._addApplicationType,n);this.showElement(this._popup,e,t)}))}showOpenWorkspacePopup(e,n){return t(this,void 0,void 0,(function*(){this.hidePopup();const t=yield this.getPopupSize(this._openWorkspaceType,n);this.showElement(this._popup,e,t)}))}showSaveWorkspacePopup(e,n){return t(this,void 0,void 0,(function*(){this.hidePopup();const t=yield this.getPopupSize(this._saveWorkspaceType,n);this.showElement(this._popup,e,t)}))}hidePopup(){$(this._popup).css(\"visibility\",\"hidden\")}initPopup(){}showElement(t,e,n){$(t).css(\"visibility\",\"visible\").css(\"top\",e.top+\"px\").css(\"left\",e.left+\"px\"),n.height&&$(t).css(\"height\",n.height+\"px\"),n.width&&$(t).css(\"width\",n.width+\"px\");const i=t.getBoundingClientRect(),o=document.body.getBoundingClientRect(),s=o.width-i.right-10,r=o.height-i.bottom-10;s<0&&$(t).css(\"left\",e.left+s),r<0&&$(t).css(\"top\",e.top+r)}resizePopup(t){const e=$(this._popup);t.height&&e.css(\"height\",t.height+\"px\"),t.width&&e.css(\"width\",t.width+\"px\");const n=this._popup.getBoundingClientRect(),i=document.body.getBoundingClientRect(),o=i.width-n.right-10,s=i.height-n.bottom-10;if(o<0){const t=e.css(\"left\"),n=parseInt(t.substring(0,t.length-2));e.css(\"left\",n+o)}if(s<0){const t=e.css(\"top\"),n=parseInt(t.substring(0,t.length-2));e.css(\"top\",n+s)}}getPopupSize(e,n){return t(this,void 0,void 0,(function*(){const t=this.getPopupInteropId(),i=this._glue.agm.servers().find((e=>e.peerId===t));return(yield this._glue.agm.invoke(this._showPopupMethod,{type:e,payload:n},i)).returned}))}registerHideMethod(){this._glue.agm.register(\"T42.Workspaces.HidePopup\",(()=>{this.hidePopup()}))}registerResizeMethod(){this._glue.agm.register(\"T42.Workspaces.ResizePopup\",(t=>{this.resizePopup(t.size)}))}getPopupInteropId(){try{return this._popup.contentWindow.interopId||\"best\"}catch(t){console.warn(\"Could not get the popup interop id using best\")}return\"best\"}getPopupWindowTemplate(t){return`<iframe id=\"popup\" src=\"${t}\" class=\"popup\"></iframe>`}}class G{constructor(t,e){this._addApplicationType=\"addApplication\",this._openWorkspaceType=\"openWorkspace\",this._saveWorkspaceType=\"saveWorkspace\",this._popupSizes={[this._addApplicationType]:{height:200,width:200},[this._openWorkspaceType]:{height:200,width:200},[this._saveWorkspaceType]:{height:200,width:200}},this.hidePopup=()=>(document.body.onclick=void 0,$(this._popup).css(\"visibility\",\"hidden\"),new Promise((t=>{var e;(null===(e=this._componentFactory)||void 0===e?void 0:e.hideSystemPopups)?this._componentFactory.hideSystemPopups(t):t()}))),this._componentFactory=t,this._frameId=e,this.initPopup()}showAddWindowPopup(e,{workspaceId:n,parentType:i,boxId:o}){return t(this,void 0,void 0,(function*(){yield this.showInternalAddAppPopup(e,o,n,i)}))}showOpenWorkspacePopup(e){return t(this,void 0,void 0,(function*(){yield this.showInternalOpenWorkspacePopup(e)}))}showSaveWorkspacePopup(e,n){return t(this,void 0,void 0,(function*(){yield this.showInternalSaveWorkspacePopup(e,n)}))}showInternalSaveWorkspacePopup(e,n){return t(this,void 0,void 0,(function*(){yield this.hidePopup();const t=this.getPopupSize(this._saveWorkspaceType);this.showElement(this._popup,e,t),this._componentFactory.createSaveWorkspacePopup({domNode:this._popup,resizePopup:t=>this.resizePopup(t,this._saveWorkspaceType,$(this._popup)),hidePopup:this.hidePopup,workspaceId:n.workspaceId,buildMode:n.buildMode})}))}showInternalOpenWorkspacePopup(e){return t(this,void 0,void 0,(function*(){yield this.hidePopup();const t=this.getPopupSize(this._openWorkspaceType);this.showElement(this._popup,e,t),this._componentFactory.createAddWorkspacePopup({domNode:this._popup,frameId:this._frameId,hidePopup:this.hidePopup,resizePopup:t=>this.resizePopup(t,this._openWorkspaceType,$(this._popup))})}))}showInternalAddAppPopup(e,n,i,o){return t(this,void 0,void 0,(function*(){yield this.hidePopup();const t=this.getPopupSize(this._addApplicationType);this.showElement(this._popup,e,t),this._componentFactory.createAddApplicationPopup({domNode:this._popup,boxId:n,parentType:o,resizePopup:t=>this.resizePopup(t,this._addApplicationType,$(this._popup)),hidePopup:this.hidePopup,workspaceId:i,frameId:this._frameId})}))}initPopup(){this._popup=document.createElement(\"div\"),this._popup.classList.add(\"workspaces-system-popup\"),document.body.appendChild(this._popup)}showElement(t,e,n){document.body.onclick=t=>{-1===t.composedPath().indexOf(this._popup)&&this.hidePopup()},$(t).css(\"visibility\",\"visible\").css(\"top\",e.top+\"px\").css(\"left\",e.left+\"px\"),n.height&&$(t).css(\"height\",n.height+\"px\"),n.width&&$(t).css(\"width\",n.width+\"px\");const i=t.getBoundingClientRect(),o=document.body.getBoundingClientRect(),s=o.width-i.right-10,r=o.height-i.bottom-10;s<0&&$(t).css(\"left\",e.left+s),r<0&&$(t).css(\"top\",e.top+r)}resizePopup(t,e,n){t.height&&(n.css(\"height\",t.height+\"px\"),this._popupSizes[e].height=t.height),t.width&&(n.css(\"width\",t.width+\"px\"),this._popupSizes[e].width=t.width);const i=n[0].getBoundingClientRect(),o=document.body.getBoundingClientRect(),s=o.width-i.right-10,r=o.height-i.bottom-10;if(s<0){const t=n.css(\"left\"),e=parseInt(t.substring(0,t.length-2),10);n.css(\"left\",e+s)}if(r<0){const t=n.css(\"top\"),e=parseInt(t.substring(0,t.length-2),10);n.css(\"top\",e+r)}}getPopupSize(t){return this._popupSizes[t]}}var X=new class{constructor(){this._isLayoutInitialized=!1,this._initPromise=Promise.resolve(),this._workspacesEventEmitter=new j,this._titleGenerator=new R,this.getComponentBounds=()=>this._controller.bounds,this.subscribeForWindowClicked=t=>this._frameController.onFrameContentClicked(t),this.cleanUp=()=>{var t;if(null===(t=B.config)||void 0===t?void 0:t.build)return;const e=[],n=d.workspaceIds.map((t=>{const n=d.getById(t);return e.push(...n.windows.map((t=>this.stateResolver.getWindowSummarySync(t.id)))),this.stateResolver.getWorkspaceSummary(t)}));e.forEach((t=>{this.workspacesEventEmitter.raiseWindowEvent({action:\"removed\",payload:{windowSummary:t}})})),n.forEach((t=>{this.workspacesEventEmitter.raiseWorkspaceEvent({action:\"closed\",payload:{frameSummary:{id:this._frameId},workspaceSummary:t}})}));const i=d.layouts.filter((t=>{var e,n,i;return!(null===(i=null===(n=null===(e=t.layout)||void 0===e?void 0:e.config)||void 0===n?void 0:n.workspacesOptions)||void 0===i?void 0:i.noTabHeader)}));this._layoutsManager.saveWorkspacesFrame(i),this.workspacesEventEmitter.raiseFrameEvent({action:\"closed\",payload:{frameSummary:{id:this._frameId}}})}}get stateResolver(){return this._stateResolver}get workspacesEventEmitter(){return this._workspacesEventEmitter}get initPromise(){return this._initPromise}get initialized(){return this._initialized}get frameId(){return this._frameId}init(t,e,n){this._glue=t;const i=B.loadConfig();if(this._initialized)return void u.reInitialize(n);this._initialized=!0,this._frameId=e,this._configFactory=new H(t);const o=new q(this._configFactory);u.init(this._frameId,n);const r=new f(s());return this._stateResolver=new O(this._frameId,r),this._controller=new m(r,this._stateResolver,i,this._configFactory),this._frameController=new F(t),this._layoutsManager=new N(this.stateResolver,t,this._configFactory,o),this._popupManager=new U(new V(t),new G(n,e),n),i.emptyFrame||this.initLayout(),{cleanUp:this.cleanUp}}saveWorkspace(e,n,i){return t(this,void 0,void 0,(function*(){const t=d.getById(n)||d.getActiveWorkspace(),o=yield this._layoutsManager.save({name:e,workspace:t,title:e,saveContext:i});return t.layout.config.workspacesOptions.layoutName=e,t.layout.config.workspacesOptions.noTabHeader&&delete t.layout.config.workspacesOptions.noTabHeader,d.getWorkspaceLayoutItemById(n).setTitle(e),o}))}openWorkspace(e,n){return t(this,void 0,void 0,(function*(){const t=yield this._layoutsManager.getWorkspaceByName(e),i=t.config;return i.workspacesOptions.context=t.layoutData.context,(null==n?void 0:n.context)&&i.workspacesOptions.context?i.workspacesOptions.context=Object.assign(t.layoutData.context,null==n?void 0:n.context):(null==n?void 0:n.context)&&(i.workspacesOptions.context=null==n?void 0:n.context),(null==n?void 0:n.title)&&(i.workspacesOptions.title=null==n?void 0:n.title),i&&i.workspacesOptions&&!i.workspacesOptions.name&&(i.workspacesOptions.name=e),i&&(i.workspacesOptions=i.workspacesOptions||{},i.workspacesOptions.layoutName=t.layoutData.name),i&&void 0!==(null==n?void 0:n.noTabHeader)&&(i.workspacesOptions=i.workspacesOptions||{},i.workspacesOptions.noTabHeader=null==n?void 0:n.noTabHeader),this._isLayoutInitialized?e?(i.id=this._configFactory.getId(),yield this.addWorkspace(r(i.id),i),r(i.id)):void 0:(this._layoutsManager.setInitialWorkspaceConfig(i),this._initPromise=this.initLayout(),yield this._initPromise,r(i.id))}))}exportAllLayouts(){return this._layoutsManager.export()}deleteLayout(t){this._layoutsManager.delete(t)}maximizeItem(t){this._controller.maximizeWindow(t)}restoreItem(t){this._controller.restoreWindow(t)}closeItem(t){const e=d.getWindow(t),n=d.getContainer(t);if(this._frameId===t)d.workspaceIds.forEach((t=>this.closeWorkspace(d.getById(t))));else if(e){const e=d.getWindowContentItem(t);this.closeTab(e)}else if(n)this._controller.closeContainer(t);else{const e=d.getById(t);this.closeWorkspace(e)}}addContainer(t,e){return this._controller.addContainer(t,e)}addWindow(t,e){const n=d.getContainer(e);return n&&\"stack\"===n.type||\"component\"!==t.type||(t=this._configFactory.wrapInGroup([t])),this._controller.addWindow(t,e)}setItemTitle(t,e){d.getById(t)?this._controller.setWorkspaceTitle(t,e):this._controller.setWindowTitle(t,e)}eject(e){return t(this,void 0,void 0,(function*(){const{appName:t,url:n,windowId:i}=e.config.componentState,o=d.getWorkspaceContext(d.getByWindowId(e.config.id).id),s=this._glue.windows.findById(i),a=s?yield s.getContext():o;this.closeItem(r(e.config.id));const c=this.getUrlByAppName(t)||n;return{windowId:(yield this._glue.windows.open(t,c,{context:a})).id}}))}createWorkspace(e){return t(this,void 0,void 0,(function*(){if(!this._isLayoutInitialized)return e.id=this._configFactory.getId(),this._layoutsManager.setInitialWorkspaceConfig(e),this._initPromise=this.initLayout(),yield this._initPromise,r(e.id);const t=this._configFactory.getId();return yield this.addWorkspace(t,e),t}))}loadWindow(e){return t(this,void 0,void 0,(function*(){let t=d.getWindowContentItem(e),{windowId:n}=t.config.componentState;return n||(yield this.waitForFrameLoaded(e),t=d.getWindowContentItem(e),n=t.config.componentState.windowId),new Promise(((t,i)=>{n||i(`The window id of ${e} is missing`);let o=()=>{};const s=setTimeout((()=>{i(`Could not load window ${n} for 5000ms`),o()}),5e3);o=this._glue.windows.onWindowAdded((e=>{e.id===n&&(t({windowId:n}),o(),clearTimeout(s))}));this._glue.windows.list().find((t=>t.id===n))&&(t({windowId:n}),o(),clearTimeout(s))}))}))}focusItem(e){return t(this,void 0,void 0,(function*(){const t=d.getById(e);this._frameId===e?yield this._glue.windows.my().focus():t?this._controller.focusWorkspace(t.id):this._controller.focusWindow(e)}))}bundleWorkspace(t,e){this._controller.bundleWorkspace(t,e)}move(t){return this._glue.windows.my().moveTo(t.y,t.x)}getFrameSummary(t){const e=d.getByContainerId(t)||d.getByWindowId(t)||d.getById(t),n=this._frameId===t;return{id:e||n?this._frameId:\"none\"}}moveWindowTo(e,n){return t(this,void 0,void 0,(function*(){if(!(d.getByContainerId(n)||d.getById(n)))throw new Error(`Could not find container ${n} in frame ${this._frameId}`);const t=d.getWindowContentItem(e);if(!t)throw new Error(`Could not find window ${e} in frame ${this._frameId}`);return this.closeTab(t),this._controller.addWindow(t.config,n)}))}generateWorkspaceLayout(t,e){const n=d.getById(e);if(!n)throw new Error(\"Could not find workspace with id \"+e);return this._layoutsManager.generateLayout(t,n)}initLayout(){return t(this,void 0,void 0,(function*(){const t=yield this._layoutsManager.getInitialConfig();this.subscribeForPopups(),this.subscribeForLayout(),this._isLayoutInitialized=!0,yield Promise.all(t.workspaceConfigs.map((t=>{var e,n;return this._glue.contexts.set(l(t.id),(null===(n=null===(e=t.config)||void 0===e?void 0:e.workspacesOptions)||void 0===n?void 0:n.context)||{})}))),yield this._controller.init({frameId:this._frameId,workspaceLayout:t.workspaceLayout,workspaceConfigs:t.workspaceConfigs}),d.layouts.map((t=>t.layout)).filter((t=>t)).forEach((t=>this.reportLayoutStructure(t))),B.config.emptyFrame&&this._workspacesEventEmitter.raiseFrameEvent({action:\"opened\",payload:{frameSummary:{id:this._frameId}}})}))}subscribeForLayout(){this._controller.emitter.onContentComponentCreated(((e,n)=>t(this,void 0,void 0,(function*(){var t,i;if(\"emptyVisibleWindow\"===e.config.componentName)return;const o=d.getById(n),s=c(e.element),{componentState:a}=e.config,{windowId:l,title:h,appName:u}=a,p=r(e.config.id),m=this.getTitleByAppName(u),f=h||m||u,g=null===(t=null==e?void 0:e.config.componentState)||void 0===t?void 0:t.context;let y=this.getUrlByAppName(a.appName)||a.url;const v=!d.getWindow(p);if(d.addWindow({id:p,bounds:s,windowId:l,url:y,appName:u},o.id),(null===(i=e.config.componentState)||void 0===i?void 0:i.context)&&delete e.config.componentState.context,!y&&l){const t=this._glue.windows.list().find((t=>t.id===l));y=yield t.getURL();d.getWindow(p).url=y}if(e.config.componentState.url=y,f&&e.setTitle(f),v){const t=this.stateResolver.getWindowSummarySync(p,e);this.workspacesEventEmitter.raiseWindowEvent({action:\"added\",payload:{windowSummary:t}})}try{const t=yield this._frameController.startFrame(p,y,void 0,g,l);e.config.componentState.windowId=t.name,this._frameController.moveFrame(p,c(e.element)),v&&this._workspacesEventEmitter.raiseWindowEvent({action:\"loaded\",payload:{windowSummary:yield this.stateResolver.getWindowSummary(p)}})}catch(t){e.config.componentState.windowId=void 0,y?this._frameController.moveFrame(p,c(e.element)):this.closeTab(e);if(!d.getById(n))throw new Error(`Workspace ${n} failed ot initialize because none of the specified windows were able to load\\n                    Internal error: ${t}`)}})))),this._controller.emitter.onContentItemResized(((t,e)=>{this._frameController.moveFrame(e,c(t))})),this._controller.emitter.onTabCloseRequested((e=>t(this,void 0,void 0,(function*(){const t=d.getByWindowId(r(e.config.id));this.closeTab(e),this._controller.removeLayoutElement(r(e.config.id)),this._frameController.remove(r(e.config.id)),t.windows.length||this.checkForEmptyWorkspace(t)})))),this._controller.emitter.onWorkspaceTabCloseRequested((t=>{this.closeWorkspace(t)})),this._controller.emitter.onTabElementMouseDown((t=>{const e=c(t.contentItem.element),n=Math.min(e.width,800),i=Math.min(e.height,600);this._controller.setDragElementSize(n,i)})),this._controller.emitter.onTabDragStart((t=>{const e=this._controller.getDragElement();new MutationObserver((e=>{Array.from(e).forEach((e=>{if(\"attributes\"===e.type){const e=$(this._controller.getDragElement()).children(\".lm_content\").children(\".lm_item_container\"),n=c(e[0]),i=r(t.contentItem.config.id);this._frameController.moveFrame(i,n),this._frameController.bringToFront(i)}}))})).observe(e,{attributes:!0})})),this._controller.emitter.onTabDragEnd((t=>{const e=t.header.tabs.filter((e=>e.contentItem.config.id!==t.contentItem.config.id));this._frameController.selectionChanged([r(t.contentItem.id)],e.map((t=>r(t.contentItem.id))))})),this._controller.emitter.onSelectionChanged(((e,n)=>t(this,void 0,void 0,(function*(){this._frameController.selectionChanged(n.map((t=>t.id)),e.map((t=>t.id)))})))),this._controller.emitter.onWorkspaceAdded((t=>{var e;const n=d.workspaceIds.filter((e=>e!==t.id)).reduce(((t,e)=>[...t,...d.getById(e).windows]),[]);if(this._workspacesEventEmitter.raiseWorkspaceEvent({action:\"opened\",payload:{frameSummary:{id:this._frameId},workspaceSummary:this.stateResolver.getWorkspaceSummary(t.id)}}),d.getActiveWorkspace().id===t.id){if(this._workspacesEventEmitter.raiseWorkspaceEvent({action:\"selected\",payload:{frameSummary:{id:this._frameId},workspaceSummary:this.stateResolver.getWorkspaceSummary(t.id)}}),!t.layout)return void this._frameController.selectionChangedDeep([],n.map((t=>t.id)));const e=a(t.layout.toConfig().content);this._frameController.selectionChangedDeep(e.map((t=>r(t.id))),n.map((t=>t.id)))}if(!t.layout)return;const i=t.layout.config.workspacesOptions,o=i.title||i.name;o&&(null===(e=d.getWorkspaceLayoutItemById(t.id))||void 0===e||e.setTitle(o))})),this._controller.emitter.onWorkspaceSelectionChanged(((t,e)=>{if(!t.layout)return this._frameController.selectionChangedDeep([],e.map((t=>t.id))),void this._workspacesEventEmitter.raiseWorkspaceEvent({action:\"selected\",payload:{frameSummary:{id:this._frameId},workspaceSummary:this.stateResolver.getWorkspaceSummary(t.id)}});const n=a(t.layout.toConfig().content).filter((t=>this._controller.isWindowVisible(t.id)));this._frameController.selectionChangedDeep(n.map((t=>r(t.id))),e.map((t=>t.id))),this._workspacesEventEmitter.raiseWorkspaceEvent({action:\"selected\",payload:{frameSummary:{id:this._frameId},workspaceSummary:this.stateResolver.getWorkspaceSummary(t.id)}})})),this._controller.emitter.onAddButtonClicked((({laneId:e,workspaceId:n,bounds:i,parentType:o})=>t(this,void 0,void 0,(function*(){const t={boxId:e,workspaceId:n,parentType:o,frameId:this._frameId,peerId:this._glue.agm.instance.peerId,domNode:void 0,resizePopup:void 0,hidePopup:void 0};yield this._popupManager.showAddWindowPopup(i,t)})))),this._controller.emitter.onContentLayoutInit((t=>{this.reportLayoutStructure(t)})),this._controller.emitter.onWorkspaceAddButtonClicked((()=>t(this,void 0,void 0,(function*(){const t={frameId:this._frameId,peerId:this._glue.agm.instance.peerId},e=d.workspaceLayoutHeader.element.find(\".lm_workspace_controls\").find(\".lm_add_button\"),n=c(e);yield this._popupManager.showOpenWorkspacePopup(n,t)})))),this._controller.emitter.onWorkspaceSaveRequested((e=>t(this,void 0,void 0,(function*(){const t={frameId:this._frameId,workspaceId:e,peerId:this._glue.agm.instance.peerId,buildMode:B.config.build,domNode:void 0,resizePopup:void 0,hidePopup:void 0},n=d.getWorkspaceLayoutItemById(e).tab.element.find(\".lm_saveButton\"),i=c(n);yield this._popupManager.showSaveWorkspacePopup(i,t)})))),this._controller.emitter.onStackMaximized((t=>{const e=t.getActiveContentItem(),n=t.contentItems.map((t=>r(t.config.id)));t.contentItems.forEach((t=>{this._frameController.maximizeTab(r(t.config.id))})),this._frameController.selectionChanged([r(e.config.id)],n)})),this._controller.emitter.onStackRestored((t=>{const e=t.getActiveContentItem(),n=t.contentItems.map((t=>r(t.config.id)));t.contentItems.forEach((t=>{this._frameController.restoreTab(r(t.config.id))})),this._frameController.selectionChanged([r(e.config.id)],n)})),this._controller.emitter.onEjectRequested((t=>{if(!t.isComponent)throw new Error(\"Can't eject item of type \"+t.type);return this.eject(t)})),u.onWorkspaceContentsShown((t=>{const e=d.getActiveWorkspace();if(!(null==e?void 0:e.layout)||t!==e.id)return;const n=d.getWorkspaceContentItem(t),i=c(n.element);e.layout.updateSize(i.width,i.height);const o=e.layout.root.getItemsByFilter((t=>\"stack\"===t.type));this._frameController.selectionChangedDeep(o.map((t=>r(t.getActiveContentItem().config.id))),[])})),u.onWorkspaceContentsHidden((t=>{const e=d.getById(t);(null==e?void 0:e.layout)&&t===e.id&&this._frameController.selectionChangedDeep([],e.windows.map((t=>t.id)))}))}subscribeForPopups(){this._frameController.onFrameContentClicked((()=>{this._popupManager.hidePopup()})),this._frameController.onWindowTitleChanged(((t,e)=>{this.setItemTitle(t,e)}))}reportLayoutStructure(t){a(t.toConfig().content).forEach((e=>{const n=t.root.getItemsById(e.id)[0];this._frameController.moveFrame(r(n.config.id),c(n.element))}))}closeTab(t){const e=r(t.config.id),n=d.getByWindowId(e),i=this.stateResolver.getWindowSummarySync(e);this._controller.removeLayoutElement(e),this._frameController.remove(e),this.workspacesEventEmitter.raiseWindowEvent({action:\"removed\",payload:{windowSummary:i}}),n.windows.length||this.checkForEmptyWorkspace(n)}closeWorkspace(t){if(!t)throw new Error(\"Could not find a workspace to close\");const e=this.stateResolver.getWorkspaceSummary(t.id),n=t.windows.map((t=>{if(d.getWindowContentItem(t.id))return this.stateResolver.getWindowSummarySync(t.id)})).filter((t=>t));t.windows.forEach((t=>this._frameController.remove(t.id))),this.checkForEmptyWorkspace(t),n.forEach((t=>{this.workspacesEventEmitter.raiseWindowEvent({action:\"removed\",payload:{windowSummary:t}})})),this.workspacesEventEmitter.raiseWorkspaceEvent({action:\"closed\",payload:{workspaceSummary:e,frameSummary:{id:this._frameId}}})}addWorkspace(e,n){var i;return t(this,void 0,void 0,(function*(){yield this._glue.contexts.set(l(e),(null===(i=null==n?void 0:n.workspacesOptions)||void 0===i?void 0:i.context)||{}),yield this._controller.addWorkspace(e,n)}))}checkForEmptyWorkspace(t){var e;if(1===d.layouts.length){t.windows=[],null===(e=t.layout)||void 0===e||e.destroy(),t.layout=void 0,this._controller.showAddButton(t.id);const n=d.getWorkspaceTitle(t.id),i=this._configFactory.getWorkspaceTitle(d.workspaceTitles.filter((t=>t!==n)));this._controller.setWorkspaceTitle(t.id,i)}else this._controller.removeWorkspace(t.id)}waitForFrameLoaded(t){return new Promise(((e,n)=>{let i=()=>{};const o=setTimeout((()=>{i(),n(`Did not hear frame loaded for ${t} in 5000ms`)}),5e3);i=this.workspacesEventEmitter.onWindowEvent(((n,s)=>{\"loaded\"===n&&s.windowSummary.itemId===t&&(e(),clearTimeout(o),i())}))}))}getUrlByAppName(t){var e,n,i,o;return null===(o=null===(i=null===(n=null===(e=this._glue.appManager)||void 0===e?void 0:e.application(t))||void 0===n?void 0:n.userProperties)||void 0===i?void 0:i.details)||void 0===o?void 0:o.url}getTitleByAppName(t){var e,n;return null===(n=null===(e=this._glue.appManager)||void 0===e?void 0:e.application(t))||void 0===n?void 0:n.title}};var Y=new class{constructor(){this._workspacesControlMethod=\"T42.Workspaces.Control\",this._workspacesEventMethod=\"T42.Workspaces.Events\",this._inDisposing=!1,this.handleControl=(e,n,i,o)=>t(this,void 0,void 0,(function*(){try{switch(yield X.initPromise,e.operation){case\"isWindowInWorkspace\":i(this.handleIsWindowInWorkspace(e.operationArguments));break;case\"addWindow\":i(yield this.handleAddWindow(e.operationArguments));break;case\"addContainer\":i(yield this.handleAddContainer(e.operationArguments));break;case\"getWorkspaceSnapshot\":i(this.handleGetWorkspaceSnapshot(e.operationArguments));break;case\"openWorkspace\":i(yield this.handleOpenWorkspace(e.operationArguments));break;case\"saveLayout\":i(yield this.handleSaveLayout(e.operationArguments));break;case\"exportAllLayouts\":i(yield this.handleExportAllLayouts());break;case\"deleteLayout\":this.handleDeleteLayout(e.operationArguments),i(void 0);break;case\"getAllWorkspacesSummaries\":i(this.handleGetAllWorkspaceSummaries());break;case\"maximizeItem\":this.handleMaximizeItem(e.operationArguments),i(void 0);break;case\"restoreItem\":this.handleRestoreItem(e.operationArguments),i(void 0);break;case\"closeItem\":this.handleCloseItem(e.operationArguments),i(void 0);break;case\"setItemTitle\":yield this.handleSetItemTitle(e.operationArguments),i(void 0);break;case\"addWorkspaceChildren\":yield this.handleAddWorkspaceChildren(e.operationArguments),i(void 0);break;case\"ejectWindow\":i(yield this.handleEject(e.operationArguments));break;case\"createWorkspace\":i(yield this.handleCreateWorkspace(e.operationArguments));break;case\"forceLoadWindow\":i(yield this.handleForceLoadWindow(e.operationArguments));break;case\"focusItem\":yield this.handleFocusItem(e.operationArguments),i(void 0);break;case\"bundleWorkspace\":this.handleBundleWorkspace(e.operationArguments),i(void 0);break;case\"getFrameSummary\":i(yield this.handleGetFrameSummary(e.operationArguments));break;case\"moveFrame\":yield this.handleMoveFrame(e.operationArguments),i(void 0);break;case\"getFrameSnapshot\":i(yield this.handleGetFrameSnapshot());break;case\"getSnapshot\":i(yield this.handleGetSnapshot(e.operationArguments));break;case\"moveWindowTo\":yield this.handleMoveWindowTo(e.operationArguments),i(void 0);break;case\"generateLayout\":i(yield this.handleGenerateLayout(e.operationArguments));break;case\"ping\":i(this.handlePing());break;default:o(\"Invalid operation - \"+e.operation)}}catch(t){o(t.message)}}))}init(e,n){return t(this,void 0,void 0,(function*(){this._frameId=n,this._glue=e,this._configFactory=new H(e),this._converter=new q(this._configFactory),this._glue&&(yield this.registerAgmMethods())}))}dispose(){this._inDisposing=!0}subscribeForWorkspaceEvents(){X.workspacesEventEmitter.onFrameEvent(((t,e)=>{this.publishEventData(t,e,\"frame\")})),X.workspacesEventEmitter.onWindowEvent(((t,e)=>{this.publishEventData(t,e,\"window\")})),X.workspacesEventEmitter.onWorkspaceEvent(((t,e)=>{this.publishEventData(t,e,\"workspace\")})),X.workspacesEventEmitter.onContainerEvent(((t,e)=>{this.publishEventData(t,e,\"box\")}))}registerAgmMethods(){return t(this,void 0,void 0,(function*(){yield this._glue.agm.registerAsync({name:this._workspacesControlMethod},this.handleControl)}))}handleOpenWorkspace(e){return t(this,void 0,void 0,(function*(){const t=yield X.openWorkspace(e.name,e.restoreOptions),n=X.stateResolver.getWorkspaceConfig(t),i=this._converter.convertToAPIConfig(n);return{id:i.id,children:i.children,config:i.config,frameSummary:{id:this._frameId}}}))}handleExportAllLayouts(){return t(this,void 0,void 0,(function*(){return{layouts:yield X.exportAllLayouts()}}))}handleSaveLayout(e){return t(this,void 0,void 0,(function*(){return yield X.saveWorkspace(e.name,e.workspaceId,e.saveContext)}))}handleDeleteLayout(t){X.deleteLayout(t.name)}handleGetWorkspaceSnapshot(t){const e=d.getById(t.itemId),n=X.stateResolver.getWorkspaceConfig(e.id),i=this._converter.convertToAPIConfig(n);return{id:i.id,children:i.children,config:i.config,frameSummary:{id:this._frameId}}}handleGetAllWorkspaceSummaries(){return{summaries:d.layouts.map((t=>X.stateResolver.getWorkspaceSummary(t.id)))}}handleCloseItem(t){X.closeItem(t.itemId)}handleRestoreItem(t){X.restoreItem(t.itemId)}handleMaximizeItem(t){X.maximizeItem(t.itemId)}handleAddContainer(e){return t(this,void 0,void 0,(function*(){const t=this._converter.convertToRendererConfig(e.definition);if(\"workspace\"===t.type)throw new Error(\"Unsuccessful conversion\");const n={id:r(t.id),content:t.content,type:t.type,workspacesConfig:t.workspacesConfig};return{itemId:yield X.addContainer(n,e.parentId)}}))}handleAddWindow(e){return t(this,void 0,void 0,(function*(){const t=this._configFactory.createGDWindowConfig({windowId:e.definition.windowId,id:void 0,appName:e.definition.appName,url:e.definition.url,context:e.definition.context});if(e.definition.windowId){const n=this._glue.windows.list().find((t=>t.id===e.definition.windowId)),i=yield n.getURL();t.componentState.url=i,t.componentState.appName=this._configFactory.getAppNameFromWindowId(n.id)}return yield X.addWindow(t,e.parentId),{itemId:r(t.id)}}))}handleSetItemTitle(t){X.setItemTitle(t.itemId,t.title)}handleAddWorkspaceChildren(e){return t(this,void 0,void 0,(function*(){const t=e.children.some((t=>\"row\"===t.type)),n=e.children.some((t=>\"column\"===t.type));if(n&&t)throw new Error(\"Can't add both row and column workspace children\");let i={type:\"column\",children:e.children};n&&(i={type:\"row\",children:e.children});const o=this._converter.convertToRendererConfig(i);yield X.addContainer(o,e.workspaceId)}))}handleEject(e){return t(this,void 0,void 0,(function*(){const t=d.getWindowContentItem(e.itemId);if(!t)throw new Error(\"Could not find item \"+e.itemId);return yield X.eject(t)}))}handleCreateWorkspace(e){return t(this,void 0,void 0,(function*(){const t=this._converter.convertToRendererConfig(e),n=yield X.createWorkspace(t),i=this._converter.convertToAPIConfig(X.stateResolver.getWorkspaceConfig(n));return{id:i.id,children:i.children,config:i.config,frameSummary:{id:this._frameId}}}))}handleForceLoadWindow(e){return t(this,void 0,void 0,(function*(){return yield X.loadWindow(e.itemId)}))}handleFocusItem(t){return X.focusItem(t.itemId)}handleBundleWorkspace(t){return X.bundleWorkspace(t.workspaceId,t.type)}handleIsWindowInWorkspace(t){return{inWorkspace:X.stateResolver.isWindowInWorkspace(t.itemId)}}handleGetFrameSummary(e){return t(this,void 0,void 0,(function*(){return X.getFrameSummary(e.itemId)}))}handleMoveFrame(e){return t(this,void 0,void 0,(function*(){yield X.move(e.location)}))}handleGetFrameSnapshot(){return X.stateResolver.getFrameSnapshot()}handleGetSnapshot(e){return t(this,void 0,void 0,(function*(){return X.stateResolver.getSnapshot(e.itemId)}))}handleMoveWindowTo(e){return t(this,void 0,void 0,(function*(){return X.moveWindowTo(e.itemId,e.containerId)}))}handleGenerateLayout(t){return X.generateWorkspaceLayout(t.name,t.workspaceId)}handlePing(){return{live:!this._inDisposing}}publishEventData(t,e,n){if(this._glue.agm.methods().some((t=>t.name===this._workspacesEventMethod))){const i={action:t,type:n,payload:e};this._glue.agm.invoke(this._workspacesEventMethod,i,\"all\").catch((()=>{}))}}},J=n((function(t){\n/*!\n * jQuery JavaScript Library v3.5.1\n * https://jquery.com/\n *\n * Includes Sizzle.js\n * https://sizzlejs.com/\n *\n * Copyright JS Foundation and other contributors\n * Released under the MIT license\n * https://jquery.org/license\n *\n * Date: 2020-05-04T22:49Z\n */\n!function(e,n){t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error(\"jQuery requires a window with a document\");return n(t)}}(\"undefined\"!=typeof window?window:e,(function(t,e){var n=[],i=Object.getPrototypeOf,o=n.slice,s=n.flat?function(t){return n.flat.call(t)}:function(t){return n.concat.apply([],t)},r=n.push,a=n.indexOf,c={},l=c.toString,d=c.hasOwnProperty,h=d.toString,u=h.call(Object),p={},m=function(t){return\"function\"==typeof t&&\"number\"!=typeof t.nodeType},f=function(t){return null!=t&&t===t.window},g=t.document,y={type:!0,src:!0,nonce:!0,noModule:!0};function v(t,e,n){var i,o,s=(n=n||g).createElement(\"script\");if(s.text=t,e)for(i in y)(o=e[i]||e.getAttribute&&e.getAttribute(i))&&s.setAttribute(i,o);n.head.appendChild(s).parentNode.removeChild(s)}function w(t){return null==t?t+\"\":\"object\"==typeof t||\"function\"==typeof t?c[l.call(t)]||\"object\":typeof t}var _=\"3.5.1\",b=function(t,e){return new b.fn.init(t,e)};function C(t){var e=!!t&&\"length\"in t&&t.length,n=w(t);return!m(t)&&!f(t)&&(\"array\"===n||0===e||\"number\"==typeof e&&e>0&&e-1 in t)}b.fn=b.prototype={jquery:_,constructor:b,length:0,toArray:function(){return o.call(this)},get:function(t){return null==t?o.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=b.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return b.each(this,t)},map:function(t){return this.pushStack(b.map(this,(function(e,n){return t.call(e,n,e)})))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(b.grep(this,(function(t,e){return(e+1)%2})))},odd:function(){return this.pushStack(b.grep(this,(function(t,e){return e%2})))},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:r,sort:n.sort,splice:n.splice},b.extend=b.fn.extend=function(){var t,e,n,i,o,s,r=arguments[0]||{},a=1,c=arguments.length,l=!1;for(\"boolean\"==typeof r&&(l=r,r=arguments[a]||{},a++),\"object\"==typeof r||m(r)||(r={}),a===c&&(r=this,a--);a<c;a++)if(null!=(t=arguments[a]))for(e in t)i=t[e],\"__proto__\"!==e&&r!==i&&(l&&i&&(b.isPlainObject(i)||(o=Array.isArray(i)))?(n=r[e],s=o&&!Array.isArray(n)?[]:o||b.isPlainObject(n)?n:{},o=!1,r[e]=b.extend(l,s,i)):void 0!==i&&(r[e]=i));return r},b.extend({expando:\"jQuery\"+(_+Math.random()).replace(/\\D/g,\"\"),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||\"[object Object]\"!==l.call(t))&&(!(e=i(t))||\"function\"==typeof(n=d.call(e,\"constructor\")&&e.constructor)&&h.call(n)===u)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,n){v(t,{nonce:e&&e.nonce},n)},each:function(t,e){var n,i=0;if(C(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},makeArray:function(t,e){var n=e||[];return null!=t&&(C(Object(t))?b.merge(n,\"string\"==typeof t?[t]:t):r.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:a.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,o=t.length;i<n;i++)t[o++]=e[i];return t.length=o,t},grep:function(t,e,n){for(var i=[],o=0,s=t.length,r=!n;o<s;o++)!e(t[o],o)!==r&&i.push(t[o]);return i},map:function(t,e,n){var i,o,r=0,a=[];if(C(t))for(i=t.length;r<i;r++)null!=(o=e(t[r],r,n))&&a.push(o);else for(r in t)null!=(o=e(t[r],r,n))&&a.push(o);return s(a)},guid:1,support:p}),\"function\"==typeof Symbol&&(b.fn[Symbol.iterator]=n[Symbol.iterator]),b.each(\"Boolean Number String Function Array Date RegExp Object Error Symbol\".split(\" \"),(function(t,e){c[\"[object \"+e+\"]\"]=e.toLowerCase()}));var I=\n/*!\n * Sizzle CSS Selector Engine v2.3.5\n * https://sizzlejs.com/\n *\n * Copyright JS Foundation and other contributors\n * Released under the MIT license\n * https://js.foundation/\n *\n * Date: 2020-03-14\n */\nfunction(t){var e,n,i,o,s,r,a,c,l,d,h,u,p,m,f,g,y,v,w,_=\"sizzle\"+1*new Date,b=t.document,C=0,I=0,x=ct(),k=ct(),E=ct(),S=ct(),T=function(t,e){return t===e&&(h=!0),0},W={}.hasOwnProperty,A=[],D=A.pop,P=A.push,L=A.push,M=A.slice,F=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},z=\"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped\",B=\"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",N=\"(?:\\\\\\\\[\\\\da-fA-F]{1,6}[\\\\x20\\\\t\\\\r\\\\n\\\\f]?|\\\\\\\\[^\\\\r\\\\n\\\\f]|[\\\\w-]|[^\\0-\\\\x7f])+\",O=\"\\\\[[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(\"+N+\")(?:\"+B+\"*([*^$|!~]?=)\"+B+\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\"+N+\"))|)\"+B+\"*\\\\]\",$=\":(\"+N+\")(?:\\\\((('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\"+O+\")*)|.*)\\\\)|)\",R=new RegExp(B+\"+\",\"g\"),H=new RegExp(\"^[\\\\x20\\\\t\\\\r\\\\n\\\\f]+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)[\\\\x20\\\\t\\\\r\\\\n\\\\f]+$\",\"g\"),j=new RegExp(\"^[\\\\x20\\\\t\\\\r\\\\n\\\\f]*,[\\\\x20\\\\t\\\\r\\\\n\\\\f]*\"),q=new RegExp(\"^[\\\\x20\\\\t\\\\r\\\\n\\\\f]*([>+~]|[\\\\x20\\\\t\\\\r\\\\n\\\\f])[\\\\x20\\\\t\\\\r\\\\n\\\\f]*\"),U=new RegExp(B+\"|>\"),V=new RegExp($),G=new RegExp(\"^\"+N+\"$\"),X={ID:new RegExp(\"^#(\"+N+\")\"),CLASS:new RegExp(\"^\\\\.(\"+N+\")\"),TAG:new RegExp(\"^(\"+N+\"|[*])\"),ATTR:new RegExp(\"^\"+O),PSEUDO:new RegExp(\"^\"+$),CHILD:new RegExp(\"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\([\\\\x20\\\\t\\\\r\\\\n\\\\f]*(even|odd|(([+-]|)(\\\\d*)n|)[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(?:([+-]|)[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(\\\\d+)|))[\\\\x20\\\\t\\\\r\\\\n\\\\f]*\\\\)|)\",\"i\"),bool:new RegExp(\"^(?:\"+z+\")$\",\"i\"),needsContext:new RegExp(\"^[\\\\x20\\\\t\\\\r\\\\n\\\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\([\\\\x20\\\\t\\\\r\\\\n\\\\f]*((?:-\\\\d)?\\\\d*)[\\\\x20\\\\t\\\\r\\\\n\\\\f]*\\\\)|)(?=[^-]|$)\",\"i\")},Y=/HTML$/i,J=/^(?:input|select|textarea|button)$/i,Z=/^h\\d$/i,Q=/^[^{]+\\{\\s*\\[native \\w/,K=/^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,tt=/[+~]/,et=new RegExp(\"\\\\\\\\[\\\\da-fA-F]{1,6}[\\\\x20\\\\t\\\\r\\\\n\\\\f]?|\\\\\\\\([^\\\\r\\\\n\\\\f])\",\"g\"),nt=function(t,e){var n=\"0x\"+t.slice(1)-65536;return e||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},it=/([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\0-\\x1f\\x7f-\\uFFFF\\w-]/g,ot=function(t,e){return e?\"\\0\"===t?\"\":t.slice(0,-1)+\"\\\\\"+t.charCodeAt(t.length-1).toString(16)+\" \":\"\\\\\"+t},st=function(){u()},rt=_t((function(t){return!0===t.disabled&&\"fieldset\"===t.nodeName.toLowerCase()}),{dir:\"parentNode\",next:\"legend\"});try{L.apply(A=M.call(b.childNodes),b.childNodes),A[b.childNodes.length].nodeType}catch(t){L={apply:A.length?function(t,e){P.apply(t,M.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function at(t,e,i,o){var s,a,l,d,h,m,y,v=e&&e.ownerDocument,b=e?e.nodeType:9;if(i=i||[],\"string\"!=typeof t||!t||1!==b&&9!==b&&11!==b)return i;if(!o&&(u(e),e=e||p,f)){if(11!==b&&(h=K.exec(t)))if(s=h[1]){if(9===b){if(!(l=e.getElementById(s)))return i;if(l.id===s)return i.push(l),i}else if(v&&(l=v.getElementById(s))&&w(e,l)&&l.id===s)return i.push(l),i}else{if(h[2])return L.apply(i,e.getElementsByTagName(t)),i;if((s=h[3])&&n.getElementsByClassName&&e.getElementsByClassName)return L.apply(i,e.getElementsByClassName(s)),i}if(n.qsa&&!S[t+\" \"]&&(!g||!g.test(t))&&(1!==b||\"object\"!==e.nodeName.toLowerCase())){if(y=t,v=e,1===b&&(U.test(t)||q.test(t))){for((v=tt.test(t)&&yt(e.parentNode)||e)===e&&n.scope||((d=e.getAttribute(\"id\"))?d=d.replace(it,ot):e.setAttribute(\"id\",d=_)),a=(m=r(t)).length;a--;)m[a]=(d?\"#\"+d:\":scope\")+\" \"+wt(m[a]);y=m.join(\",\")}try{return L.apply(i,v.querySelectorAll(y)),i}catch(e){S(t,!0)}finally{d===_&&e.removeAttribute(\"id\")}}}return c(t.replace(H,\"$1\"),e,i,o)}function ct(){var t=[];return function e(n,o){return t.push(n+\" \")>i.cacheLength&&delete e[t.shift()],e[n+\" \"]=o}}function lt(t){return t[_]=!0,t}function dt(t){var e=p.createElement(\"fieldset\");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ht(t,e){for(var n=t.split(\"|\"),o=n.length;o--;)i.attrHandle[n[o]]=e}function ut(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function pt(t){return function(e){return\"input\"===e.nodeName.toLowerCase()&&e.type===t}}function mt(t){return function(e){var n=e.nodeName.toLowerCase();return(\"input\"===n||\"button\"===n)&&e.type===t}}function ft(t){return function(e){return\"form\"in e?e.parentNode&&!1===e.disabled?\"label\"in e?\"label\"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&rt(e)===t:e.disabled===t:\"label\"in e&&e.disabled===t}}function gt(t){return lt((function(e){return e=+e,lt((function(n,i){for(var o,s=t([],n.length,e),r=s.length;r--;)n[o=s[r]]&&(n[o]=!(i[o]=n[o]))}))}))}function yt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=at.support={},s=at.isXML=function(t){var e=t.namespaceURI,n=(t.ownerDocument||t).documentElement;return!Y.test(e||n&&n.nodeName||\"HTML\")},u=at.setDocument=function(t){var e,o,r=t?t.ownerDocument||t:b;return r!=p&&9===r.nodeType&&r.documentElement?(m=(p=r).documentElement,f=!s(p),b!=p&&(o=p.defaultView)&&o.top!==o&&(o.addEventListener?o.addEventListener(\"unload\",st,!1):o.attachEvent&&o.attachEvent(\"onunload\",st)),n.scope=dt((function(t){return m.appendChild(t).appendChild(p.createElement(\"div\")),void 0!==t.querySelectorAll&&!t.querySelectorAll(\":scope fieldset div\").length})),n.attributes=dt((function(t){return t.className=\"i\",!t.getAttribute(\"className\")})),n.getElementsByTagName=dt((function(t){return t.appendChild(p.createComment(\"\")),!t.getElementsByTagName(\"*\").length})),n.getElementsByClassName=Q.test(p.getElementsByClassName),n.getById=dt((function(t){return m.appendChild(t).id=_,!p.getElementsByName||!p.getElementsByName(_).length})),n.getById?(i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){return t.getAttribute(\"id\")===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&f){var n=e.getElementById(t);return n?[n]:[]}}):(i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode(\"id\");return n&&n.value===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&f){var n,i,o,s=e.getElementById(t);if(s){if((n=s.getAttributeNode(\"id\"))&&n.value===t)return[s];for(o=e.getElementsByName(t),i=0;s=o[i++];)if((n=s.getAttributeNode(\"id\"))&&n.value===t)return[s]}return[]}}),i.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],o=0,s=e.getElementsByTagName(t);if(\"*\"===t){for(;n=s[o++];)1===n.nodeType&&i.push(n);return i}return s},i.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&f)return e.getElementsByClassName(t)},y=[],g=[],(n.qsa=Q.test(p.querySelectorAll))&&(dt((function(t){var e;m.appendChild(t).innerHTML=\"<a id='\"+_+\"'></a><select id='\"+_+\"-\\r\\\\' msallowcapture=''><option selected=''></option></select>\",t.querySelectorAll(\"[msallowcapture^='']\").length&&g.push(\"[*^$]=[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(?:''|\\\"\\\")\"),t.querySelectorAll(\"[selected]\").length||g.push(\"\\\\[[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(?:value|\"+z+\")\"),t.querySelectorAll(\"[id~=\"+_+\"-]\").length||g.push(\"~=\"),(e=p.createElement(\"input\")).setAttribute(\"name\",\"\"),t.appendChild(e),t.querySelectorAll(\"[name='']\").length||g.push(\"\\\\[[\\\\x20\\\\t\\\\r\\\\n\\\\f]*name[\\\\x20\\\\t\\\\r\\\\n\\\\f]*=[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(?:''|\\\"\\\")\"),t.querySelectorAll(\":checked\").length||g.push(\":checked\"),t.querySelectorAll(\"a#\"+_+\"+*\").length||g.push(\".#.+[+~]\"),t.querySelectorAll(\"\\\\\\f\"),g.push(\"[\\\\r\\\\n\\\\f]\")})),dt((function(t){t.innerHTML=\"<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>\";var e=p.createElement(\"input\");e.setAttribute(\"type\",\"hidden\"),t.appendChild(e).setAttribute(\"name\",\"D\"),t.querySelectorAll(\"[name=d]\").length&&g.push(\"name[\\\\x20\\\\t\\\\r\\\\n\\\\f]*[*^$|!~]?=\"),2!==t.querySelectorAll(\":enabled\").length&&g.push(\":enabled\",\":disabled\"),m.appendChild(t).disabled=!0,2!==t.querySelectorAll(\":disabled\").length&&g.push(\":enabled\",\":disabled\"),t.querySelectorAll(\"*,:x\"),g.push(\",.*:\")}))),(n.matchesSelector=Q.test(v=m.matches||m.webkitMatchesSelector||m.mozMatchesSelector||m.oMatchesSelector||m.msMatchesSelector))&&dt((function(t){n.disconnectedMatch=v.call(t,\"*\"),v.call(t,\"[s!='']:x\"),y.push(\"!=\",$)})),g=g.length&&new RegExp(g.join(\"|\")),y=y.length&&new RegExp(y.join(\"|\")),e=Q.test(m.compareDocumentPosition),w=e||Q.test(m.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},T=e?function(t,e){if(t===e)return h=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===i?t==p||t.ownerDocument==b&&w(b,t)?-1:e==p||e.ownerDocument==b&&w(b,e)?1:d?F(d,t)-F(d,e):0:4&i?-1:1)}:function(t,e){if(t===e)return h=!0,0;var n,i=0,o=t.parentNode,s=e.parentNode,r=[t],a=[e];if(!o||!s)return t==p?-1:e==p?1:o?-1:s?1:d?F(d,t)-F(d,e):0;if(o===s)return ut(t,e);for(n=t;n=n.parentNode;)r.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;r[i]===a[i];)i++;return i?ut(r[i],a[i]):r[i]==b?-1:a[i]==b?1:0},p):p},at.matches=function(t,e){return at(t,null,null,e)},at.matchesSelector=function(t,e){if(u(t),n.matchesSelector&&f&&!S[e+\" \"]&&(!y||!y.test(e))&&(!g||!g.test(e)))try{var i=v.call(t,e);if(i||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){S(e,!0)}return at(e,p,null,[t]).length>0},at.contains=function(t,e){return(t.ownerDocument||t)!=p&&u(t),w(t,e)},at.attr=function(t,e){(t.ownerDocument||t)!=p&&u(t);var o=i.attrHandle[e.toLowerCase()],s=o&&W.call(i.attrHandle,e.toLowerCase())?o(t,e,!f):void 0;return void 0!==s?s:n.attributes||!f?t.getAttribute(e):(s=t.getAttributeNode(e))&&s.specified?s.value:null},at.escape=function(t){return(t+\"\").replace(it,ot)},at.error=function(t){throw new Error(\"Syntax error, unrecognized expression: \"+t)},at.uniqueSort=function(t){var e,i=[],o=0,s=0;if(h=!n.detectDuplicates,d=!n.sortStable&&t.slice(0),t.sort(T),h){for(;e=t[s++];)e===t[s]&&(o=i.push(s));for(;o--;)t.splice(i[o],1)}return d=null,t},o=at.getText=function(t){var e,n=\"\",i=0,s=t.nodeType;if(s){if(1===s||9===s||11===s){if(\"string\"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=o(t)}else if(3===s||4===s)return t.nodeValue}else for(;e=t[i++];)n+=o(e);return n},(i=at.selectors={cacheLength:50,createPseudo:lt,match:X,attrHandle:{},find:{},relative:{\">\":{dir:\"parentNode\",first:!0},\" \":{dir:\"parentNode\"},\"+\":{dir:\"previousSibling\",first:!0},\"~\":{dir:\"previousSibling\"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,nt),t[3]=(t[3]||t[4]||t[5]||\"\").replace(et,nt),\"~=\"===t[2]&&(t[3]=\" \"+t[3]+\" \"),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),\"nth\"===t[1].slice(0,3)?(t[3]||at.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*(\"even\"===t[3]||\"odd\"===t[3])),t[5]=+(t[7]+t[8]||\"odd\"===t[3])):t[3]&&at.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return X.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||\"\":n&&V.test(n)&&(e=r(n,!0))&&(e=n.indexOf(\")\",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,nt).toLowerCase();return\"*\"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=x[t+\" \"];return e||(e=new RegExp(\"(^|[\\\\x20\\\\t\\\\r\\\\n\\\\f])\"+t+\"(\"+B+\"|$)\"))&&x(t,(function(t){return e.test(\"string\"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute(\"class\")||\"\")}))},ATTR:function(t,e,n){return function(i){var o=at.attr(i,t);return null==o?\"!=\"===e:!e||(o+=\"\",\"=\"===e?o===n:\"!=\"===e?o!==n:\"^=\"===e?n&&0===o.indexOf(n):\"*=\"===e?n&&o.indexOf(n)>-1:\"$=\"===e?n&&o.slice(-n.length)===n:\"~=\"===e?(\" \"+o.replace(R,\" \")+\" \").indexOf(n)>-1:\"|=\"===e&&(o===n||o.slice(0,n.length+1)===n+\"-\"))}},CHILD:function(t,e,n,i,o){var s=\"nth\"!==t.slice(0,3),r=\"last\"!==t.slice(-4),a=\"of-type\"===e;return 1===i&&0===o?function(t){return!!t.parentNode}:function(e,n,c){var l,d,h,u,p,m,f=s!==r?\"nextSibling\":\"previousSibling\",g=e.parentNode,y=a&&e.nodeName.toLowerCase(),v=!c&&!a,w=!1;if(g){if(s){for(;f;){for(u=e;u=u[f];)if(a?u.nodeName.toLowerCase()===y:1===u.nodeType)return!1;m=f=\"only\"===t&&!m&&\"nextSibling\"}return!0}if(m=[r?g.firstChild:g.lastChild],r&&v){for(w=(p=(l=(d=(h=(u=g)[_]||(u[_]={}))[u.uniqueID]||(h[u.uniqueID]={}))[t]||[])[0]===C&&l[1])&&l[2],u=p&&g.childNodes[p];u=++p&&u&&u[f]||(w=p=0)||m.pop();)if(1===u.nodeType&&++w&&u===e){d[t]=[C,p,w];break}}else if(v&&(w=p=(l=(d=(h=(u=e)[_]||(u[_]={}))[u.uniqueID]||(h[u.uniqueID]={}))[t]||[])[0]===C&&l[1]),!1===w)for(;(u=++p&&u&&u[f]||(w=p=0)||m.pop())&&((a?u.nodeName.toLowerCase()!==y:1!==u.nodeType)||!++w||(v&&((d=(h=u[_]||(u[_]={}))[u.uniqueID]||(h[u.uniqueID]={}))[t]=[C,w]),u!==e)););return(w-=o)===i||w%i==0&&w/i>=0}}},PSEUDO:function(t,e){var n,o=i.pseudos[t]||i.setFilters[t.toLowerCase()]||at.error(\"unsupported pseudo: \"+t);return o[_]?o(e):o.length>1?(n=[t,t,\"\",e],i.setFilters.hasOwnProperty(t.toLowerCase())?lt((function(t,n){for(var i,s=o(t,e),r=s.length;r--;)t[i=F(t,s[r])]=!(n[i]=s[r])})):function(t){return o(t,0,n)}):o}},pseudos:{not:lt((function(t){var e=[],n=[],i=a(t.replace(H,\"$1\"));return i[_]?lt((function(t,e,n,o){for(var s,r=i(t,null,o,[]),a=t.length;a--;)(s=r[a])&&(t[a]=!(e[a]=s))})):function(t,o,s){return e[0]=t,i(e,null,s,n),e[0]=null,!n.pop()}})),has:lt((function(t){return function(e){return at(t,e).length>0}})),contains:lt((function(t){return t=t.replace(et,nt),function(e){return(e.textContent||o(e)).indexOf(t)>-1}})),lang:lt((function(t){return G.test(t||\"\")||at.error(\"unsupported lang: \"+t),t=t.replace(et,nt).toLowerCase(),function(e){var n;do{if(n=f?e.lang:e.getAttribute(\"xml:lang\")||e.getAttribute(\"lang\"))return(n=n.toLowerCase())===t||0===n.indexOf(t+\"-\")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===m},focus:function(t){return t===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:ft(!1),disabled:ft(!0),checked:function(t){var e=t.nodeName.toLowerCase();return\"input\"===e&&!!t.checked||\"option\"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!i.pseudos.empty(t)},header:function(t){return Z.test(t.nodeName)},input:function(t){return J.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return\"input\"===e&&\"button\"===t.type||\"button\"===e},text:function(t){var e;return\"input\"===t.nodeName.toLowerCase()&&\"text\"===t.type&&(null==(e=t.getAttribute(\"type\"))||\"text\"===e.toLowerCase())},first:gt((function(){return[0]})),last:gt((function(t,e){return[e-1]})),eq:gt((function(t,e,n){return[n<0?n+e:n]})),even:gt((function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t})),odd:gt((function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t})),lt:gt((function(t,e,n){for(var i=n<0?n+e:n>e?e:n;--i>=0;)t.push(i);return t})),gt:gt((function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t}))}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[e]=pt(e);for(e in{submit:!0,reset:!0})i.pseudos[e]=mt(e);function vt(){}function wt(t){for(var e=0,n=t.length,i=\"\";e<n;e++)i+=t[e].value;return i}function _t(t,e,n){var i=e.dir,o=e.next,s=o||i,r=n&&\"parentNode\"===s,a=I++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,o);return!1}:function(e,n,c){var l,d,h,u=[C,a];if(c){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,c))return!0}else for(;e=e[i];)if(1===e.nodeType||r)if(d=(h=e[_]||(e[_]={}))[e.uniqueID]||(h[e.uniqueID]={}),o&&o===e.nodeName.toLowerCase())e=e[i]||e;else{if((l=d[s])&&l[0]===C&&l[1]===a)return u[2]=l[2];if(d[s]=u,u[2]=t(e,n,c))return!0}return!1}}function bt(t){return t.length>1?function(e,n,i){for(var o=t.length;o--;)if(!t[o](e,n,i))return!1;return!0}:t[0]}function Ct(t,e,n,i,o){for(var s,r=[],a=0,c=t.length,l=null!=e;a<c;a++)(s=t[a])&&(n&&!n(s,i,o)||(r.push(s),l&&e.push(a)));return r}function It(t,e,n,i,o,s){return i&&!i[_]&&(i=It(i)),o&&!o[_]&&(o=It(o,s)),lt((function(s,r,a,c){var l,d,h,u=[],p=[],m=r.length,f=s||function(t,e,n){for(var i=0,o=e.length;i<o;i++)at(t,e[i],n);return n}(e||\"*\",a.nodeType?[a]:a,[]),g=!t||!s&&e?f:Ct(f,u,t,a,c),y=n?o||(s?t:m||i)?[]:r:g;if(n&&n(g,y,a,c),i)for(l=Ct(y,p),i(l,[],a,c),d=l.length;d--;)(h=l[d])&&(y[p[d]]=!(g[p[d]]=h));if(s){if(o||t){if(o){for(l=[],d=y.length;d--;)(h=y[d])&&l.push(g[d]=h);o(null,y=[],l,c)}for(d=y.length;d--;)(h=y[d])&&(l=o?F(s,h):u[d])>-1&&(s[l]=!(r[l]=h))}}else y=Ct(y===r?y.splice(m,y.length):y),o?o(null,r,y,c):L.apply(r,y)}))}function xt(t){for(var e,n,o,s=t.length,r=i.relative[t[0].type],a=r||i.relative[\" \"],c=r?1:0,d=_t((function(t){return t===e}),a,!0),h=_t((function(t){return F(e,t)>-1}),a,!0),u=[function(t,n,i){var o=!r&&(i||n!==l)||((e=n).nodeType?d(t,n,i):h(t,n,i));return e=null,o}];c<s;c++)if(n=i.relative[t[c].type])u=[_t(bt(u),n)];else{if((n=i.filter[t[c].type].apply(null,t[c].matches))[_]){for(o=++c;o<s&&!i.relative[t[o].type];o++);return It(c>1&&bt(u),c>1&&wt(t.slice(0,c-1).concat({value:\" \"===t[c-2].type?\"*\":\"\"})).replace(H,\"$1\"),n,c<o&&xt(t.slice(c,o)),o<s&&xt(t=t.slice(o)),o<s&&wt(t))}u.push(n)}return bt(u)}return vt.prototype=i.filters=i.pseudos,i.setFilters=new vt,r=at.tokenize=function(t,e){var n,o,s,r,a,c,l,d=k[t+\" \"];if(d)return e?0:d.slice(0);for(a=t,c=[],l=i.preFilter;a;){for(r in n&&!(o=j.exec(a))||(o&&(a=a.slice(o[0].length)||a),c.push(s=[])),n=!1,(o=q.exec(a))&&(n=o.shift(),s.push({value:n,type:o[0].replace(H,\" \")}),a=a.slice(n.length)),i.filter)!(o=X[r].exec(a))||l[r]&&!(o=l[r](o))||(n=o.shift(),s.push({value:n,type:r,matches:o}),a=a.slice(n.length));if(!n)break}return e?a.length:a?at.error(t):k(t,c).slice(0)},a=at.compile=function(t,e){var n,o=[],s=[],a=E[t+\" \"];if(!a){for(e||(e=r(t)),n=e.length;n--;)(a=xt(e[n]))[_]?o.push(a):s.push(a);(a=E(t,function(t,e){var n=e.length>0,o=t.length>0,s=function(s,r,a,c,d){var h,m,g,y=0,v=\"0\",w=s&&[],_=[],b=l,I=s||o&&i.find.TAG(\"*\",d),x=C+=null==b?1:Math.random()||.1,k=I.length;for(d&&(l=r==p||r||d);v!==k&&null!=(h=I[v]);v++){if(o&&h){for(m=0,r||h.ownerDocument==p||(u(h),a=!f);g=t[m++];)if(g(h,r||p,a)){c.push(h);break}d&&(C=x)}n&&((h=!g&&h)&&y--,s&&w.push(h))}if(y+=v,n&&v!==y){for(m=0;g=e[m++];)g(w,_,r,a);if(s){if(y>0)for(;v--;)w[v]||_[v]||(_[v]=D.call(c));_=Ct(_)}L.apply(c,_),d&&!s&&_.length>0&&y+e.length>1&&at.uniqueSort(c)}return d&&(C=x,l=b),w};return n?lt(s):s}(s,o))).selector=t}return a},c=at.select=function(t,e,n,o){var s,c,l,d,h,u=\"function\"==typeof t&&t,p=!o&&r(t=u.selector||t);if(n=n||[],1===p.length){if((c=p[0]=p[0].slice(0)).length>2&&\"ID\"===(l=c[0]).type&&9===e.nodeType&&f&&i.relative[c[1].type]){if(!(e=(i.find.ID(l.matches[0].replace(et,nt),e)||[])[0]))return n;u&&(e=e.parentNode),t=t.slice(c.shift().value.length)}for(s=X.needsContext.test(t)?0:c.length;s--&&(l=c[s],!i.relative[d=l.type]);)if((h=i.find[d])&&(o=h(l.matches[0].replace(et,nt),tt.test(c[0].type)&&yt(e.parentNode)||e))){if(c.splice(s,1),!(t=o.length&&wt(c)))return L.apply(n,o),n;break}}return(u||a(t,p))(o,e,!f,n,!e||tt.test(t)&&yt(e.parentNode)||e),n},n.sortStable=_.split(\"\").sort(T).join(\"\")===_,n.detectDuplicates=!!h,u(),n.sortDetached=dt((function(t){return 1&t.compareDocumentPosition(p.createElement(\"fieldset\"))})),dt((function(t){return t.innerHTML=\"<a href='#'></a>\",\"#\"===t.firstChild.getAttribute(\"href\")}))||ht(\"type|href|height|width\",(function(t,e,n){if(!n)return t.getAttribute(e,\"type\"===e.toLowerCase()?1:2)})),n.attributes&&dt((function(t){return t.innerHTML=\"<input/>\",t.firstChild.setAttribute(\"value\",\"\"),\"\"===t.firstChild.getAttribute(\"value\")}))||ht(\"value\",(function(t,e,n){if(!n&&\"input\"===t.nodeName.toLowerCase())return t.defaultValue})),dt((function(t){return null==t.getAttribute(\"disabled\")}))||ht(z,(function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null})),at}(t);b.find=I,b.expr=I.selectors,b.expr[\":\"]=b.expr.pseudos,b.uniqueSort=b.unique=I.uniqueSort,b.text=I.getText,b.isXMLDoc=I.isXML,b.contains=I.contains,b.escapeSelector=I.escape;var x=function(t,e,n){for(var i=[],o=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&b(t).is(n))break;i.push(t)}return i},k=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},E=b.expr.match.needsContext;function S(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var T=/^<([a-z][^\\/\\0>:\\x20\\t\\r\\n\\f]*)[\\x20\\t\\r\\n\\f]*\\/?>(?:<\\/\\1>|)$/i;function W(t,e,n){return m(e)?b.grep(t,(function(t,i){return!!e.call(t,i,t)!==n})):e.nodeType?b.grep(t,(function(t){return t===e!==n})):\"string\"!=typeof e?b.grep(t,(function(t){return a.call(e,t)>-1!==n})):b.filter(e,t,n)}b.filter=function(t,e,n){var i=e[0];return n&&(t=\":not(\"+t+\")\"),1===e.length&&1===i.nodeType?b.find.matchesSelector(i,t)?[i]:[]:b.find.matches(t,b.grep(e,(function(t){return 1===t.nodeType})))},b.fn.extend({find:function(t){var e,n,i=this.length,o=this;if(\"string\"!=typeof t)return this.pushStack(b(t).filter((function(){for(e=0;e<i;e++)if(b.contains(o[e],this))return!0})));for(n=this.pushStack([]),e=0;e<i;e++)b.find(t,o[e],n);return i>1?b.uniqueSort(n):n},filter:function(t){return this.pushStack(W(this,t||[],!1))},not:function(t){return this.pushStack(W(this,t||[],!0))},is:function(t){return!!W(this,\"string\"==typeof t&&E.test(t)?b(t):t||[],!1).length}});var A,D=/^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]+))$/;(b.fn.init=function(t,e,n){var i,o;if(!t)return this;if(n=n||A,\"string\"==typeof t){if(!(i=\"<\"===t[0]&&\">\"===t[t.length-1]&&t.length>=3?[null,t,null]:D.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof b?e[0]:e,b.merge(this,b.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:g,!0)),T.test(i[1])&&b.isPlainObject(e))for(i in e)m(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(o=g.getElementById(i[2]))&&(this[0]=o,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):m(t)?void 0!==n.ready?n.ready(t):t(b):b.makeArray(t,this)}).prototype=b.fn,A=b(g);var P=/^(?:parents|prev(?:Until|All))/,L={children:!0,contents:!0,next:!0,prev:!0};function M(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}b.fn.extend({has:function(t){var e=b(t,this),n=e.length;return this.filter((function(){for(var t=0;t<n;t++)if(b.contains(this,e[t]))return!0}))},closest:function(t,e){var n,i=0,o=this.length,s=[],r=\"string\"!=typeof t&&b(t);if(!E.test(t))for(;i<o;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(r?r.index(n)>-1:1===n.nodeType&&b.find.matchesSelector(n,t))){s.push(n);break}return this.pushStack(s.length>1?b.uniqueSort(s):s)},index:function(t){return t?\"string\"==typeof t?a.call(b(t),this[0]):a.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(b.uniqueSort(b.merge(this.get(),b(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),b.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return x(t,\"parentNode\")},parentsUntil:function(t,e,n){return x(t,\"parentNode\",n)},next:function(t){return M(t,\"nextSibling\")},prev:function(t){return M(t,\"previousSibling\")},nextAll:function(t){return x(t,\"nextSibling\")},prevAll:function(t){return x(t,\"previousSibling\")},nextUntil:function(t,e,n){return x(t,\"nextSibling\",n)},prevUntil:function(t,e,n){return x(t,\"previousSibling\",n)},siblings:function(t){return k((t.parentNode||{}).firstChild,t)},children:function(t){return k(t.firstChild)},contents:function(t){return null!=t.contentDocument&&i(t.contentDocument)?t.contentDocument:(S(t,\"template\")&&(t=t.content||t),b.merge([],t.childNodes))}},(function(t,e){b.fn[t]=function(n,i){var o=b.map(this,e,n);return\"Until\"!==t.slice(-5)&&(i=n),i&&\"string\"==typeof i&&(o=b.filter(i,o)),this.length>1&&(L[t]||b.uniqueSort(o),P.test(t)&&o.reverse()),this.pushStack(o)}}));var F=/[^\\x20\\t\\r\\n\\f]+/g;function z(t){return t}function B(t){throw t}function N(t,e,n,i){var o;try{t&&m(o=t.promise)?o.call(t).done(e).fail(n):t&&m(o=t.then)?o.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}b.Callbacks=function(t){t=\"string\"==typeof t?function(t){var e={};return b.each(t.match(F)||[],(function(t,n){e[n]=!0})),e}(t):b.extend({},t);var e,n,i,o,s=[],r=[],a=-1,c=function(){for(o=o||t.once,i=e=!0;r.length;a=-1)for(n=r.shift();++a<s.length;)!1===s[a].apply(n[0],n[1])&&t.stopOnFalse&&(a=s.length,n=!1);t.memory||(n=!1),e=!1,o&&(s=n?[]:\"\")},l={add:function(){return s&&(n&&!e&&(a=s.length-1,r.push(n)),function e(n){b.each(n,(function(n,i){m(i)?t.unique&&l.has(i)||s.push(i):i&&i.length&&\"string\"!==w(i)&&e(i)}))}(arguments),n&&!e&&c()),this},remove:function(){return b.each(arguments,(function(t,e){for(var n;(n=b.inArray(e,s,n))>-1;)s.splice(n,1),n<=a&&a--})),this},has:function(t){return t?b.inArray(t,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return o=r=[],s=n=\"\",this},disabled:function(){return!s},lock:function(){return o=r=[],n||e||(s=n=\"\"),this},locked:function(){return!!o},fireWith:function(t,n){return o||(n=[t,(n=n||[]).slice?n.slice():n],r.push(n),e||c()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!i}};return l},b.extend({Deferred:function(e){var n=[[\"notify\",\"progress\",b.Callbacks(\"memory\"),b.Callbacks(\"memory\"),2],[\"resolve\",\"done\",b.Callbacks(\"once memory\"),b.Callbacks(\"once memory\"),0,\"resolved\"],[\"reject\",\"fail\",b.Callbacks(\"once memory\"),b.Callbacks(\"once memory\"),1,\"rejected\"]],i=\"pending\",o={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},catch:function(t){return o.then(null,t)},pipe:function(){var t=arguments;return b.Deferred((function(e){b.each(n,(function(n,i){var o=m(t[i[4]])&&t[i[4]];s[i[1]]((function(){var t=o&&o.apply(this,arguments);t&&m(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[i[0]+\"With\"](this,o?[t]:arguments)}))})),t=null})).promise()},then:function(e,i,o){var s=0;function r(e,n,i,o){return function(){var a=this,c=arguments,l=function(){var t,l;if(!(e<s)){if((t=i.apply(a,c))===n.promise())throw new TypeError(\"Thenable self-resolution\");l=t&&(\"object\"==typeof t||\"function\"==typeof t)&&t.then,m(l)?o?l.call(t,r(s,n,z,o),r(s,n,B,o)):(s++,l.call(t,r(s,n,z,o),r(s,n,B,o),r(s,n,z,n.notifyWith))):(i!==z&&(a=void 0,c=[t]),(o||n.resolveWith)(a,c))}},d=o?l:function(){try{l()}catch(t){b.Deferred.exceptionHook&&b.Deferred.exceptionHook(t,d.stackTrace),e+1>=s&&(i!==B&&(a=void 0,c=[t]),n.rejectWith(a,c))}};e?d():(b.Deferred.getStackHook&&(d.stackTrace=b.Deferred.getStackHook()),t.setTimeout(d))}}return b.Deferred((function(t){n[0][3].add(r(0,t,m(o)?o:z,t.notifyWith)),n[1][3].add(r(0,t,m(e)?e:z)),n[2][3].add(r(0,t,m(i)?i:B))})).promise()},promise:function(t){return null!=t?b.extend(t,o):o}},s={};return b.each(n,(function(t,e){var r=e[2],a=e[5];o[e[1]]=r.add,a&&r.add((function(){i=a}),n[3-t][2].disable,n[3-t][3].disable,n[0][2].lock,n[0][3].lock),r.add(e[3].fire),s[e[0]]=function(){return s[e[0]+\"With\"](this===s?void 0:this,arguments),this},s[e[0]+\"With\"]=r.fireWith})),o.promise(s),e&&e.call(s,s),s},when:function(t){var e=arguments.length,n=e,i=Array(n),s=o.call(arguments),r=b.Deferred(),a=function(t){return function(n){i[t]=this,s[t]=arguments.length>1?o.call(arguments):n,--e||r.resolveWith(i,s)}};if(e<=1&&(N(t,r.done(a(n)).resolve,r.reject,!e),\"pending\"===r.state()||m(s[n]&&s[n].then)))return r.then();for(;n--;)N(s[n],a(n),r.reject);return r.promise()}});var O=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;b.Deferred.exceptionHook=function(e,n){t.console&&t.console.warn&&e&&O.test(e.name)&&t.console.warn(\"jQuery.Deferred exception: \"+e.message,e.stack,n)},b.readyException=function(e){t.setTimeout((function(){throw e}))};var $=b.Deferred();function R(){g.removeEventListener(\"DOMContentLoaded\",R),t.removeEventListener(\"load\",R),b.ready()}b.fn.ready=function(t){return $.then(t).catch((function(t){b.readyException(t)})),this},b.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--b.readyWait:b.isReady)||(b.isReady=!0,!0!==t&&--b.readyWait>0||$.resolveWith(g,[b]))}}),b.ready.then=$.then,\"complete\"===g.readyState||\"loading\"!==g.readyState&&!g.documentElement.doScroll?t.setTimeout(b.ready):(g.addEventListener(\"DOMContentLoaded\",R),t.addEventListener(\"load\",R));var H=function(t,e,n,i,o,s,r){var a=0,c=t.length,l=null==n;if(\"object\"===w(n))for(a in o=!0,n)H(t,e,a,n[a],!0,s,r);else if(void 0!==i&&(o=!0,m(i)||(r=!0),l&&(r?(e.call(t,i),e=null):(l=e,e=function(t,e,n){return l.call(b(t),n)})),e))for(;a<c;a++)e(t[a],n,r?i:i.call(t[a],a,e(t[a],n)));return o?t:l?e.call(t):c?e(t[0],n):s},j=/^-ms-/,q=/-([a-z])/g;function U(t,e){return e.toUpperCase()}function V(t){return t.replace(j,\"ms-\").replace(q,U)}var G=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function X(){this.expando=b.expando+X.uid++}X.uid=1,X.prototype={cache:function(t){var e=t[this.expando];return e||(e={},G(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,o=this.cache(t);if(\"string\"==typeof e)o[V(e)]=n;else for(i in e)o[V(i)]=e[i];return o},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][V(e)]},access:function(t,e,n){return void 0===e||e&&\"string\"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){n=(e=Array.isArray(e)?e.map(V):(e=V(e))in i?[e]:e.match(F)||[]).length;for(;n--;)delete i[e[n]]}(void 0===e||b.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!b.isEmptyObject(e)}};var Y=new X,J=new X,Z=/^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,Q=/[A-Z]/g;function K(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i=\"data-\"+e.replace(Q,\"-$&\").toLowerCase(),\"string\"==typeof(n=t.getAttribute(i))){try{n=function(t){return\"true\"===t||\"false\"!==t&&(\"null\"===t?null:t===+t+\"\"?+t:Z.test(t)?JSON.parse(t):t)}(n)}catch(t){}J.set(t,e,n)}else n=void 0;return n}b.extend({hasData:function(t){return J.hasData(t)||Y.hasData(t)},data:function(t,e,n){return J.access(t,e,n)},removeData:function(t,e){J.remove(t,e)},_data:function(t,e,n){return Y.access(t,e,n)},_removeData:function(t,e){Y.remove(t,e)}}),b.fn.extend({data:function(t,e){var n,i,o,s=this[0],r=s&&s.attributes;if(void 0===t){if(this.length&&(o=J.get(s),1===s.nodeType&&!Y.get(s,\"hasDataAttrs\"))){for(n=r.length;n--;)r[n]&&0===(i=r[n].name).indexOf(\"data-\")&&(i=V(i.slice(5)),K(s,i,o[i]));Y.set(s,\"hasDataAttrs\",!0)}return o}return\"object\"==typeof t?this.each((function(){J.set(this,t)})):H(this,(function(e){var n;if(s&&void 0===e)return void 0!==(n=J.get(s,t))||void 0!==(n=K(s,t))?n:void 0;this.each((function(){J.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){J.remove(this,t)}))}}),b.extend({queue:function(t,e,n){var i;if(t)return e=(e||\"fx\")+\"queue\",i=Y.get(t,e),n&&(!i||Array.isArray(n)?i=Y.access(t,e,b.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||\"fx\";var n=b.queue(t,e),i=n.length,o=n.shift(),s=b._queueHooks(t,e);\"inprogress\"===o&&(o=n.shift(),i--),o&&(\"fx\"===e&&n.unshift(\"inprogress\"),delete s.stop,o.call(t,(function(){b.dequeue(t,e)}),s)),!i&&s&&s.empty.fire()},_queueHooks:function(t,e){var n=e+\"queueHooks\";return Y.get(t,n)||Y.access(t,n,{empty:b.Callbacks(\"once memory\").add((function(){Y.remove(t,[e+\"queue\",n])}))})}}),b.fn.extend({queue:function(t,e){var n=2;return\"string\"!=typeof t&&(e=t,t=\"fx\",n--),arguments.length<n?b.queue(this[0],t):void 0===e?this:this.each((function(){var n=b.queue(this,t,e);b._queueHooks(this,t),\"fx\"===t&&\"inprogress\"!==n[0]&&b.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){b.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||\"fx\",[])},promise:function(t,e){var n,i=1,o=b.Deferred(),s=this,r=this.length,a=function(){--i||o.resolveWith(s,[s])};for(\"string\"!=typeof t&&(e=t,t=void 0),t=t||\"fx\";r--;)(n=Y.get(s[r],t+\"queueHooks\"))&&n.empty&&(i++,n.empty.add(a));return a(),o.promise(e)}});var tt=/[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/.source,et=new RegExp(\"^(?:([+-])=|)(\"+tt+\")([a-z%]*)$\",\"i\"),nt=[\"Top\",\"Right\",\"Bottom\",\"Left\"],it=g.documentElement,ot=function(t){return b.contains(t.ownerDocument,t)},st={composed:!0};it.getRootNode&&(ot=function(t){return b.contains(t.ownerDocument,t)||t.getRootNode(st)===t.ownerDocument});var rt=function(t,e){return\"none\"===(t=e||t).style.display||\"\"===t.style.display&&ot(t)&&\"none\"===b.css(t,\"display\")};function at(t,e,n,i){var o,s,r=20,a=i?function(){return i.cur()}:function(){return b.css(t,e,\"\")},c=a(),l=n&&n[3]||(b.cssNumber[e]?\"\":\"px\"),d=t.nodeType&&(b.cssNumber[e]||\"px\"!==l&&+c)&&et.exec(b.css(t,e));if(d&&d[3]!==l){for(c/=2,l=l||d[3],d=+c||1;r--;)b.style(t,e,d+l),(1-s)*(1-(s=a()/c||.5))<=0&&(r=0),d/=s;d*=2,b.style(t,e,d+l),n=n||[]}return n&&(d=+d||+c||0,o=n[1]?d+(n[1]+1)*n[2]:+n[2],i&&(i.unit=l,i.start=d,i.end=o)),o}var ct={};function lt(t){var e,n=t.ownerDocument,i=t.nodeName,o=ct[i];return o||(e=n.body.appendChild(n.createElement(i)),o=b.css(e,\"display\"),e.parentNode.removeChild(e),\"none\"===o&&(o=\"block\"),ct[i]=o,o)}function dt(t,e){for(var n,i,o=[],s=0,r=t.length;s<r;s++)(i=t[s]).style&&(n=i.style.display,e?(\"none\"===n&&(o[s]=Y.get(i,\"display\")||null,o[s]||(i.style.display=\"\")),\"\"===i.style.display&&rt(i)&&(o[s]=lt(i))):\"none\"!==n&&(o[s]=\"none\",Y.set(i,\"display\",n)));for(s=0;s<r;s++)null!=o[s]&&(t[s].style.display=o[s]);return t}b.fn.extend({show:function(){return dt(this,!0)},hide:function(){return dt(this)},toggle:function(t){return\"boolean\"==typeof t?t?this.show():this.hide():this.each((function(){rt(this)?b(this).show():b(this).hide()}))}});var ht,ut,pt=/^(?:checkbox|radio)$/i,mt=/<([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]*)/i,ft=/^$|^module$|\\/(?:java|ecma)script/i;ht=g.createDocumentFragment().appendChild(g.createElement(\"div\")),(ut=g.createElement(\"input\")).setAttribute(\"type\",\"radio\"),ut.setAttribute(\"checked\",\"checked\"),ut.setAttribute(\"name\",\"t\"),ht.appendChild(ut),p.checkClone=ht.cloneNode(!0).cloneNode(!0).lastChild.checked,ht.innerHTML=\"<textarea>x</textarea>\",p.noCloneChecked=!!ht.cloneNode(!0).lastChild.defaultValue,ht.innerHTML=\"<option></option>\",p.option=!!ht.lastChild;var gt={thead:[1,\"<table>\",\"</table>\"],col:[2,\"<table><colgroup>\",\"</colgroup></table>\"],tr:[2,\"<table><tbody>\",\"</tbody></table>\"],td:[3,\"<table><tbody><tr>\",\"</tr></tbody></table>\"],_default:[0,\"\",\"\"]};function yt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||\"*\"):void 0!==t.querySelectorAll?t.querySelectorAll(e||\"*\"):[],void 0===e||e&&S(t,e)?b.merge([t],n):n}function vt(t,e){for(var n=0,i=t.length;n<i;n++)Y.set(t[n],\"globalEval\",!e||Y.get(e[n],\"globalEval\"))}gt.tbody=gt.tfoot=gt.colgroup=gt.caption=gt.thead,gt.th=gt.td,p.option||(gt.optgroup=gt.option=[1,\"<select multiple='multiple'>\",\"</select>\"]);var wt=/<|&#?\\w+;/;function _t(t,e,n,i,o){for(var s,r,a,c,l,d,h=e.createDocumentFragment(),u=[],p=0,m=t.length;p<m;p++)if((s=t[p])||0===s)if(\"object\"===w(s))b.merge(u,s.nodeType?[s]:s);else if(wt.test(s)){for(r=r||h.appendChild(e.createElement(\"div\")),a=(mt.exec(s)||[\"\",\"\"])[1].toLowerCase(),c=gt[a]||gt._default,r.innerHTML=c[1]+b.htmlPrefilter(s)+c[2],d=c[0];d--;)r=r.lastChild;b.merge(u,r.childNodes),(r=h.firstChild).textContent=\"\"}else u.push(e.createTextNode(s));for(h.textContent=\"\",p=0;s=u[p++];)if(i&&b.inArray(s,i)>-1)o&&o.push(s);else if(l=ot(s),r=yt(h.appendChild(s),\"script\"),l&&vt(r),n)for(d=0;s=r[d++];)ft.test(s.type||\"\")&&n.push(s);return h}var bt=/^key/,Ct=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,It=/^([^.]*)(?:\\.(.+)|)/;function xt(){return!0}function kt(){return!1}function Et(t,e){return t===function(){try{return g.activeElement}catch(t){}}()==(\"focus\"===e)}function St(t,e,n,i,o,s){var r,a;if(\"object\"==typeof e){for(a in\"string\"!=typeof n&&(i=i||n,n=void 0),e)St(t,a,n,i,e[a],s);return t}if(null==i&&null==o?(o=n,i=n=void 0):null==o&&(\"string\"==typeof n?(o=i,i=void 0):(o=i,i=n,n=void 0)),!1===o)o=kt;else if(!o)return t;return 1===s&&(r=o,(o=function(t){return b().off(t),r.apply(this,arguments)}).guid=r.guid||(r.guid=b.guid++)),t.each((function(){b.event.add(this,e,o,i,n)}))}function Tt(t,e,n){n?(Y.set(t,e,!1),b.event.add(t,e,{namespace:!1,handler:function(t){var i,s,r=Y.get(this,e);if(1&t.isTrigger&&this[e]){if(r.length)(b.event.special[e]||{}).delegateType&&t.stopPropagation();else if(r=o.call(arguments),Y.set(this,e,r),i=n(this,e),this[e](),r!==(s=Y.get(this,e))||i?Y.set(this,e,!1):s={},r!==s)return t.stopImmediatePropagation(),t.preventDefault(),s.value}else r.length&&(Y.set(this,e,{value:b.event.trigger(b.extend(r[0],b.Event.prototype),r.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===Y.get(t,e)&&b.event.add(t,e,xt)}b.event={global:{},add:function(t,e,n,i,o){var s,r,a,c,l,d,h,u,p,m,f,g=Y.get(t);if(G(t))for(n.handler&&(n=(s=n).handler,o=s.selector),o&&b.find.matchesSelector(it,o),n.guid||(n.guid=b.guid++),(c=g.events)||(c=g.events=Object.create(null)),(r=g.handle)||(r=g.handle=function(e){return void 0!==b&&b.event.triggered!==e.type?b.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||\"\").match(F)||[\"\"]).length;l--;)p=f=(a=It.exec(e[l])||[])[1],m=(a[2]||\"\").split(\".\").sort(),p&&(h=b.event.special[p]||{},p=(o?h.delegateType:h.bindType)||p,h=b.event.special[p]||{},d=b.extend({type:p,origType:f,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&b.expr.match.needsContext.test(o),namespace:m.join(\".\")},s),(u=c[p])||((u=c[p]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,i,m,r)||t.addEventListener&&t.addEventListener(p,r)),h.add&&(h.add.call(t,d),d.handler.guid||(d.handler.guid=n.guid)),o?u.splice(u.delegateCount++,0,d):u.push(d),b.event.global[p]=!0)},remove:function(t,e,n,i,o){var s,r,a,c,l,d,h,u,p,m,f,g=Y.hasData(t)&&Y.get(t);if(g&&(c=g.events)){for(l=(e=(e||\"\").match(F)||[\"\"]).length;l--;)if(p=f=(a=It.exec(e[l])||[])[1],m=(a[2]||\"\").split(\".\").sort(),p){for(h=b.event.special[p]||{},u=c[p=(i?h.delegateType:h.bindType)||p]||[],a=a[2]&&new RegExp(\"(^|\\\\.)\"+m.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"),r=s=u.length;s--;)d=u[s],!o&&f!==d.origType||n&&n.guid!==d.guid||a&&!a.test(d.namespace)||i&&i!==d.selector&&(\"**\"!==i||!d.selector)||(u.splice(s,1),d.selector&&u.delegateCount--,h.remove&&h.remove.call(t,d));r&&!u.length&&(h.teardown&&!1!==h.teardown.call(t,m,g.handle)||b.removeEvent(t,p,g.handle),delete c[p])}else for(p in c)b.event.remove(t,p+e[l],n,i,!0);b.isEmptyObject(c)&&Y.remove(t,\"handle events\")}},dispatch:function(t){var e,n,i,o,s,r,a=new Array(arguments.length),c=b.event.fix(t),l=(Y.get(this,\"events\")||Object.create(null))[c.type]||[],d=b.event.special[c.type]||{};for(a[0]=c,e=1;e<arguments.length;e++)a[e]=arguments[e];if(c.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,c)){for(r=b.event.handlers.call(this,c,l),e=0;(o=r[e++])&&!c.isPropagationStopped();)for(c.currentTarget=o.elem,n=0;(s=o.handlers[n++])&&!c.isImmediatePropagationStopped();)c.rnamespace&&!1!==s.namespace&&!c.rnamespace.test(s.namespace)||(c.handleObj=s,c.data=s.data,void 0!==(i=((b.event.special[s.origType]||{}).handle||s.handler).apply(o.elem,a))&&!1===(c.result=i)&&(c.preventDefault(),c.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,c),c.result}},handlers:function(t,e){var n,i,o,s,r,a=[],c=e.delegateCount,l=t.target;if(c&&l.nodeType&&!(\"click\"===t.type&&t.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(\"click\"!==t.type||!0!==l.disabled)){for(s=[],r={},n=0;n<c;n++)void 0===r[o=(i=e[n]).selector+\" \"]&&(r[o]=i.needsContext?b(o,this).index(l)>-1:b.find(o,this,null,[l]).length),r[o]&&s.push(i);s.length&&a.push({elem:l,handlers:s})}return l=this,c<e.length&&a.push({elem:l,handlers:e.slice(c)}),a},addProp:function(t,e){Object.defineProperty(b.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[b.expando]?t:new b.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return pt.test(e.type)&&e.click&&S(e,\"input\")&&Tt(e,\"click\",xt),!1},trigger:function(t){var e=this||t;return pt.test(e.type)&&e.click&&S(e,\"input\")&&Tt(e,\"click\"),!0},_default:function(t){var e=t.target;return pt.test(e.type)&&e.click&&S(e,\"input\")&&Y.get(e,\"click\")||S(e,\"a\")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},b.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},b.Event=function(t,e){if(!(this instanceof b.Event))return new b.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?xt:kt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&b.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[b.expando]=!0},b.Event.prototype={constructor:b.Event,isDefaultPrevented:kt,isPropagationStopped:kt,isImmediatePropagationStopped:kt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=xt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=xt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=xt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},b.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&bt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Ct.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},b.event.addProp),b.each({focus:\"focusin\",blur:\"focusout\"},(function(t,e){b.event.special[t]={setup:function(){return Tt(this,t,Et),!1},trigger:function(){return Tt(this,t),!0},delegateType:e}})),b.each({mouseenter:\"mouseover\",mouseleave:\"mouseout\",pointerenter:\"pointerover\",pointerleave:\"pointerout\"},(function(t,e){b.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,o=t.relatedTarget,s=t.handleObj;return o&&(o===i||b.contains(i,o))||(t.type=s.origType,n=s.handler.apply(this,arguments),t.type=e),n}}})),b.fn.extend({on:function(t,e,n,i){return St(this,t,e,n,i)},one:function(t,e,n,i){return St(this,t,e,n,i,1)},off:function(t,e,n){var i,o;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,b(t.delegateTarget).off(i.namespace?i.origType+\".\"+i.namespace:i.origType,i.selector,i.handler),this;if(\"object\"==typeof t){for(o in t)this.off(o,e,t[o]);return this}return!1!==e&&\"function\"!=typeof e||(n=e,e=void 0),!1===n&&(n=kt),this.each((function(){b.event.remove(this,t,n,e)}))}});var Wt=/<script|<style|<link/i,At=/checked\\s*(?:[^=]|=\\s*.checked.)/i,Dt=/^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g;function Pt(t,e){return S(t,\"table\")&&S(11!==e.nodeType?e:e.firstChild,\"tr\")&&b(t).children(\"tbody\")[0]||t}function Lt(t){return t.type=(null!==t.getAttribute(\"type\"))+\"/\"+t.type,t}function Mt(t){return\"true/\"===(t.type||\"\").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute(\"type\"),t}function Ft(t,e){var n,i,o,s,r,a;if(1===e.nodeType){if(Y.hasData(t)&&(a=Y.get(t).events))for(o in Y.remove(e,\"handle events\"),a)for(n=0,i=a[o].length;n<i;n++)b.event.add(e,o,a[o][n]);J.hasData(t)&&(s=J.access(t),r=b.extend({},s),J.set(e,r))}}function zt(t,e){var n=e.nodeName.toLowerCase();\"input\"===n&&pt.test(t.type)?e.checked=t.checked:\"input\"!==n&&\"textarea\"!==n||(e.defaultValue=t.defaultValue)}function Bt(t,e,n,i){e=s(e);var o,r,a,c,l,d,h=0,u=t.length,f=u-1,g=e[0],y=m(g);if(y||u>1&&\"string\"==typeof g&&!p.checkClone&&At.test(g))return t.each((function(o){var s=t.eq(o);y&&(e[0]=g.call(this,o,s.html())),Bt(s,e,n,i)}));if(u&&(r=(o=_t(e,t[0].ownerDocument,!1,t,i)).firstChild,1===o.childNodes.length&&(o=r),r||i)){for(c=(a=b.map(yt(o,\"script\"),Lt)).length;h<u;h++)l=o,h!==f&&(l=b.clone(l,!0,!0),c&&b.merge(a,yt(l,\"script\"))),n.call(t[h],l,h);if(c)for(d=a[a.length-1].ownerDocument,b.map(a,Mt),h=0;h<c;h++)l=a[h],ft.test(l.type||\"\")&&!Y.access(l,\"globalEval\")&&b.contains(d,l)&&(l.src&&\"module\"!==(l.type||\"\").toLowerCase()?b._evalUrl&&!l.noModule&&b._evalUrl(l.src,{nonce:l.nonce||l.getAttribute(\"nonce\")},d):v(l.textContent.replace(Dt,\"\"),l,d))}return t}function Nt(t,e,n){for(var i,o=e?b.filter(e,t):t,s=0;null!=(i=o[s]);s++)n||1!==i.nodeType||b.cleanData(yt(i)),i.parentNode&&(n&&ot(i)&&vt(yt(i,\"script\")),i.parentNode.removeChild(i));return t}b.extend({htmlPrefilter:function(t){return t},clone:function(t,e,n){var i,o,s,r,a=t.cloneNode(!0),c=ot(t);if(!(p.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||b.isXMLDoc(t)))for(r=yt(a),i=0,o=(s=yt(t)).length;i<o;i++)zt(s[i],r[i]);if(e)if(n)for(s=s||yt(t),r=r||yt(a),i=0,o=s.length;i<o;i++)Ft(s[i],r[i]);else Ft(t,a);return(r=yt(a,\"script\")).length>0&&vt(r,!c&&yt(t,\"script\")),a},cleanData:function(t){for(var e,n,i,o=b.event.special,s=0;void 0!==(n=t[s]);s++)if(G(n)){if(e=n[Y.expando]){if(e.events)for(i in e.events)o[i]?b.event.remove(n,i):b.removeEvent(n,i,e.handle);n[Y.expando]=void 0}n[J.expando]&&(n[J.expando]=void 0)}}}),b.fn.extend({detach:function(t){return Nt(this,t,!0)},remove:function(t){return Nt(this,t)},text:function(t){return H(this,(function(t){return void 0===t?b.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return Bt(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Pt(this,t).appendChild(t)}))},prepend:function(){return Bt(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Pt(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return Bt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return Bt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(b.cleanData(yt(t,!1)),t.textContent=\"\");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return b.clone(this,t,e)}))},html:function(t){return H(this,(function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if(\"string\"==typeof t&&!Wt.test(t)&&!gt[(mt.exec(t)||[\"\",\"\"])[1].toLowerCase()]){t=b.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(b.cleanData(yt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return Bt(this,arguments,(function(e){var n=this.parentNode;b.inArray(this,t)<0&&(b.cleanData(yt(this)),n&&n.replaceChild(e,this))}),t)}}),b.each({appendTo:\"append\",prependTo:\"prepend\",insertBefore:\"before\",insertAfter:\"after\",replaceAll:\"replaceWith\"},(function(t,e){b.fn[t]=function(t){for(var n,i=[],o=b(t),s=o.length-1,a=0;a<=s;a++)n=a===s?this:this.clone(!0),b(o[a])[e](n),r.apply(i,n.get());return this.pushStack(i)}}));var Ot=new RegExp(\"^(\"+tt+\")(?!px)[a-z%]+$\",\"i\"),$t=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)},Rt=function(t,e,n){var i,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];for(o in i=n.call(t),e)t.style[o]=s[o];return i},Ht=new RegExp(nt.join(\"|\"),\"i\");function jt(t,e,n){var i,o,s,r,a=t.style;return(n=n||$t(t))&&(\"\"!==(r=n.getPropertyValue(e)||n[e])||ot(t)||(r=b.style(t,e)),!p.pixelBoxStyles()&&Ot.test(r)&&Ht.test(e)&&(i=a.width,o=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=r,r=n.width,a.width=i,a.minWidth=o,a.maxWidth=s)),void 0!==r?r+\"\":r}function qt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function e(){if(d){l.style.cssText=\"position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0\",d.style.cssText=\"position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%\",it.appendChild(l).appendChild(d);var e=t.getComputedStyle(d);i=\"1%\"!==e.top,c=12===n(e.marginLeft),d.style.right=\"60%\",r=36===n(e.right),o=36===n(e.width),d.style.position=\"absolute\",s=12===n(d.offsetWidth/3),it.removeChild(l),d=null}}function n(t){return Math.round(parseFloat(t))}var i,o,s,r,a,c,l=g.createElement(\"div\"),d=g.createElement(\"div\");d.style&&(d.style.backgroundClip=\"content-box\",d.cloneNode(!0).style.backgroundClip=\"\",p.clearCloneStyle=\"content-box\"===d.style.backgroundClip,b.extend(p,{boxSizingReliable:function(){return e(),o},pixelBoxStyles:function(){return e(),r},pixelPosition:function(){return e(),i},reliableMarginLeft:function(){return e(),c},scrollboxSize:function(){return e(),s},reliableTrDimensions:function(){var e,n,i,o;return null==a&&(e=g.createElement(\"table\"),n=g.createElement(\"tr\"),i=g.createElement(\"div\"),e.style.cssText=\"position:absolute;left:-11111px\",n.style.height=\"1px\",i.style.height=\"9px\",it.appendChild(e).appendChild(n).appendChild(i),o=t.getComputedStyle(n),a=parseInt(o.height)>3,it.removeChild(e)),a}}))}();var Ut=[\"Webkit\",\"Moz\",\"ms\"],Vt=g.createElement(\"div\").style,Gt={};function Xt(t){var e=b.cssProps[t]||Gt[t];return e||(t in Vt?t:Gt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),n=Ut.length;n--;)if((t=Ut[n]+e)in Vt)return t}(t)||t)}var Yt=/^(none|table(?!-c[ea]).+)/,Jt=/^--/,Zt={position:\"absolute\",visibility:\"hidden\",display:\"block\"},Qt={letterSpacing:\"0\",fontWeight:\"400\"};function Kt(t,e,n){var i=et.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||\"px\"):e}function te(t,e,n,i,o,s){var r=\"width\"===e?1:0,a=0,c=0;if(n===(i?\"border\":\"content\"))return 0;for(;r<4;r+=2)\"margin\"===n&&(c+=b.css(t,n+nt[r],!0,o)),i?(\"content\"===n&&(c-=b.css(t,\"padding\"+nt[r],!0,o)),\"margin\"!==n&&(c-=b.css(t,\"border\"+nt[r]+\"Width\",!0,o))):(c+=b.css(t,\"padding\"+nt[r],!0,o),\"padding\"!==n?c+=b.css(t,\"border\"+nt[r]+\"Width\",!0,o):a+=b.css(t,\"border\"+nt[r]+\"Width\",!0,o));return!i&&s>=0&&(c+=Math.max(0,Math.ceil(t[\"offset\"+e[0].toUpperCase()+e.slice(1)]-s-c-a-.5))||0),c}function ee(t,e,n){var i=$t(t),o=(!p.boxSizingReliable()||n)&&\"border-box\"===b.css(t,\"boxSizing\",!1,i),s=o,r=jt(t,e,i),a=\"offset\"+e[0].toUpperCase()+e.slice(1);if(Ot.test(r)){if(!n)return r;r=\"auto\"}return(!p.boxSizingReliable()&&o||!p.reliableTrDimensions()&&S(t,\"tr\")||\"auto\"===r||!parseFloat(r)&&\"inline\"===b.css(t,\"display\",!1,i))&&t.getClientRects().length&&(o=\"border-box\"===b.css(t,\"boxSizing\",!1,i),(s=a in t)&&(r=t[a])),(r=parseFloat(r)||0)+te(t,e,n||(o?\"border\":\"content\"),s,i,r)+\"px\"}function ne(t,e,n,i,o){return new ne.prototype.init(t,e,n,i,o)}b.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=jt(t,\"opacity\");return\"\"===n?\"1\":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,s,r,a=V(e),c=Jt.test(e),l=t.style;if(c||(e=Xt(a)),r=b.cssHooks[e]||b.cssHooks[a],void 0===n)return r&&\"get\"in r&&void 0!==(o=r.get(t,!1,i))?o:l[e];\"string\"===(s=typeof n)&&(o=et.exec(n))&&o[1]&&(n=at(t,e,o),s=\"number\"),null!=n&&n==n&&(\"number\"!==s||c||(n+=o&&o[3]||(b.cssNumber[a]?\"\":\"px\")),p.clearCloneStyle||\"\"!==n||0!==e.indexOf(\"background\")||(l[e]=\"inherit\"),r&&\"set\"in r&&void 0===(n=r.set(t,n,i))||(c?l.setProperty(e,n):l[e]=n))}},css:function(t,e,n,i){var o,s,r,a=V(e);return Jt.test(e)||(e=Xt(a)),(r=b.cssHooks[e]||b.cssHooks[a])&&\"get\"in r&&(o=r.get(t,!0,n)),void 0===o&&(o=jt(t,e,i)),\"normal\"===o&&e in Qt&&(o=Qt[e]),\"\"===n||n?(s=parseFloat(o),!0===n||isFinite(s)?s||0:o):o}}),b.each([\"height\",\"width\"],(function(t,e){b.cssHooks[e]={get:function(t,n,i){if(n)return!Yt.test(b.css(t,\"display\"))||t.getClientRects().length&&t.getBoundingClientRect().width?ee(t,e,i):Rt(t,Zt,(function(){return ee(t,e,i)}))},set:function(t,n,i){var o,s=$t(t),r=!p.scrollboxSize()&&\"absolute\"===s.position,a=(r||i)&&\"border-box\"===b.css(t,\"boxSizing\",!1,s),c=i?te(t,e,i,a,s):0;return a&&r&&(c-=Math.ceil(t[\"offset\"+e[0].toUpperCase()+e.slice(1)]-parseFloat(s[e])-te(t,e,\"border\",!1,s)-.5)),c&&(o=et.exec(n))&&\"px\"!==(o[3]||\"px\")&&(t.style[e]=n,n=b.css(t,e)),Kt(0,n,c)}}})),b.cssHooks.marginLeft=qt(p.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(jt(t,\"marginLeft\"))||t.getBoundingClientRect().left-Rt(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+\"px\"})),b.each({margin:\"\",padding:\"\",border:\"Width\"},(function(t,e){b.cssHooks[t+e]={expand:function(n){for(var i=0,o={},s=\"string\"==typeof n?n.split(\" \"):[n];i<4;i++)o[t+nt[i]+e]=s[i]||s[i-2]||s[0];return o}},\"margin\"!==t&&(b.cssHooks[t+e].set=Kt)})),b.fn.extend({css:function(t,e){return H(this,(function(t,e,n){var i,o,s={},r=0;if(Array.isArray(e)){for(i=$t(t),o=e.length;r<o;r++)s[e[r]]=b.css(t,e[r],!1,i);return s}return void 0!==n?b.style(t,e,n):b.css(t,e)}),t,e,arguments.length>1)}}),b.Tween=ne,ne.prototype={constructor:ne,init:function(t,e,n,i,o,s){this.elem=t,this.prop=n,this.easing=o||b.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=s||(b.cssNumber[n]?\"\":\"px\")},cur:function(){var t=ne.propHooks[this.prop];return t&&t.get?t.get(this):ne.propHooks._default.get(this)},run:function(t){var e,n=ne.propHooks[this.prop];return this.options.duration?this.pos=e=b.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ne.propHooks._default.set(this),this}},ne.prototype.init.prototype=ne.prototype,ne.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=b.css(t.elem,t.prop,\"\"))&&\"auto\"!==e?e:0},set:function(t){b.fx.step[t.prop]?b.fx.step[t.prop](t):1!==t.elem.nodeType||!b.cssHooks[t.prop]&&null==t.elem.style[Xt(t.prop)]?t.elem[t.prop]=t.now:b.style(t.elem,t.prop,t.now+t.unit)}}},ne.propHooks.scrollTop=ne.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},b.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:\"swing\"},b.fx=ne.prototype.init,b.fx.step={};var ie,oe,se=/^(?:toggle|show|hide)$/,re=/queueHooks$/;function ae(){oe&&(!1===g.hidden&&t.requestAnimationFrame?t.requestAnimationFrame(ae):t.setTimeout(ae,b.fx.interval),b.fx.tick())}function ce(){return t.setTimeout((function(){ie=void 0})),ie=Date.now()}function le(t,e){var n,i=0,o={height:t};for(e=e?1:0;i<4;i+=2-e)o[\"margin\"+(n=nt[i])]=o[\"padding\"+n]=t;return e&&(o.opacity=o.width=t),o}function de(t,e,n){for(var i,o=(he.tweeners[e]||[]).concat(he.tweeners[\"*\"]),s=0,r=o.length;s<r;s++)if(i=o[s].call(n,e,t))return i}function he(t,e,n){var i,o,s=0,r=he.prefilters.length,a=b.Deferred().always((function(){delete c.elem})),c=function(){if(o)return!1;for(var e=ie||ce(),n=Math.max(0,l.startTime+l.duration-e),i=1-(n/l.duration||0),s=0,r=l.tweens.length;s<r;s++)l.tweens[s].run(i);return a.notifyWith(t,[l,i,n]),i<1&&r?n:(r||a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l]),!1)},l=a.promise({elem:t,props:b.extend({},e),opts:b.extend(!0,{specialEasing:{},easing:b.easing._default},n),originalProperties:e,originalOptions:n,startTime:ie||ce(),duration:n.duration,tweens:[],createTween:function(e,n){var i=b.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(i),i},stop:function(e){var n=0,i=e?l.tweens.length:0;if(o)return this;for(o=!0;n<i;n++)l.tweens[n].run(1);return e?(a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l,e])):a.rejectWith(t,[l,e]),this}}),d=l.props;for(!function(t,e){var n,i,o,s,r;for(n in t)if(o=e[i=V(n)],s=t[n],Array.isArray(s)&&(o=s[1],s=t[n]=s[0]),n!==i&&(t[i]=s,delete t[n]),(r=b.cssHooks[i])&&\"expand\"in r)for(n in s=r.expand(s),delete t[i],s)n in t||(t[n]=s[n],e[n]=o);else e[i]=o}(d,l.opts.specialEasing);s<r;s++)if(i=he.prefilters[s].call(l,t,d,l.opts))return m(i.stop)&&(b._queueHooks(l.elem,l.opts.queue).stop=i.stop.bind(i)),i;return b.map(d,de,l),m(l.opts.start)&&l.opts.start.call(t,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),b.fx.timer(b.extend(c,{elem:t,anim:l,queue:l.opts.queue})),l}b.Animation=b.extend(he,{tweeners:{\"*\":[function(t,e){var n=this.createTween(t,e);return at(n.elem,t,et.exec(e),n),n}]},tweener:function(t,e){m(t)?(e=t,t=[\"*\"]):t=t.match(F);for(var n,i=0,o=t.length;i<o;i++)n=t[i],he.tweeners[n]=he.tweeners[n]||[],he.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var i,o,s,r,a,c,l,d,h=\"width\"in e||\"height\"in e,u=this,p={},m=t.style,f=t.nodeType&&rt(t),g=Y.get(t,\"fxshow\");for(i in n.queue||(null==(r=b._queueHooks(t,\"fx\")).unqueued&&(r.unqueued=0,a=r.empty.fire,r.empty.fire=function(){r.unqueued||a()}),r.unqueued++,u.always((function(){u.always((function(){r.unqueued--,b.queue(t,\"fx\").length||r.empty.fire()}))}))),e)if(o=e[i],se.test(o)){if(delete e[i],s=s||\"toggle\"===o,o===(f?\"hide\":\"show\")){if(\"show\"!==o||!g||void 0===g[i])continue;f=!0}p[i]=g&&g[i]||b.style(t,i)}if((c=!b.isEmptyObject(e))||!b.isEmptyObject(p))for(i in h&&1===t.nodeType&&(n.overflow=[m.overflow,m.overflowX,m.overflowY],null==(l=g&&g.display)&&(l=Y.get(t,\"display\")),\"none\"===(d=b.css(t,\"display\"))&&(l?d=l:(dt([t],!0),l=t.style.display||l,d=b.css(t,\"display\"),dt([t]))),(\"inline\"===d||\"inline-block\"===d&&null!=l)&&\"none\"===b.css(t,\"float\")&&(c||(u.done((function(){m.display=l})),null==l&&(d=m.display,l=\"none\"===d?\"\":d)),m.display=\"inline-block\")),n.overflow&&(m.overflow=\"hidden\",u.always((function(){m.overflow=n.overflow[0],m.overflowX=n.overflow[1],m.overflowY=n.overflow[2]}))),c=!1,p)c||(g?\"hidden\"in g&&(f=g.hidden):g=Y.access(t,\"fxshow\",{display:l}),s&&(g.hidden=!f),f&&dt([t],!0),u.done((function(){for(i in f||dt([t]),Y.remove(t,\"fxshow\"),p)b.style(t,i,p[i])}))),c=de(f?g[i]:0,i,u),i in g||(g[i]=c.start,f&&(c.end=c.start,c.start=0))}],prefilter:function(t,e){e?he.prefilters.unshift(t):he.prefilters.push(t)}}),b.speed=function(t,e,n){var i=t&&\"object\"==typeof t?b.extend({},t):{complete:n||!n&&e||m(t)&&t,duration:t,easing:n&&e||e&&!m(e)&&e};return b.fx.off?i.duration=0:\"number\"!=typeof i.duration&&(i.duration in b.fx.speeds?i.duration=b.fx.speeds[i.duration]:i.duration=b.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue=\"fx\"),i.old=i.complete,i.complete=function(){m(i.old)&&i.old.call(this),i.queue&&b.dequeue(this,i.queue)},i},b.fn.extend({fadeTo:function(t,e,n,i){return this.filter(rt).css(\"opacity\",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var o=b.isEmptyObject(t),s=b.speed(e,n,i),r=function(){var e=he(this,b.extend({},t),s);(o||Y.get(this,\"finish\"))&&e.stop(!0)};return r.finish=r,o||!1===s.queue?this.each(r):this.queue(s.queue,r)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return\"string\"!=typeof t&&(n=e,e=t,t=void 0),e&&this.queue(t||\"fx\",[]),this.each((function(){var e=!0,o=null!=t&&t+\"queueHooks\",s=b.timers,r=Y.get(this);if(o)r[o]&&r[o].stop&&i(r[o]);else for(o in r)r[o]&&r[o].stop&&re.test(o)&&i(r[o]);for(o=s.length;o--;)s[o].elem!==this||null!=t&&s[o].queue!==t||(s[o].anim.stop(n),e=!1,s.splice(o,1));!e&&n||b.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||\"fx\"),this.each((function(){var e,n=Y.get(this),i=n[t+\"queue\"],o=n[t+\"queueHooks\"],s=b.timers,r=i?i.length:0;for(n.finish=!0,b.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=s.length;e--;)s[e].elem===this&&s[e].queue===t&&(s[e].anim.stop(!0),s.splice(e,1));for(e=0;e<r;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish}))}}),b.each([\"toggle\",\"show\",\"hide\"],(function(t,e){var n=b.fn[e];b.fn[e]=function(t,i,o){return null==t||\"boolean\"==typeof t?n.apply(this,arguments):this.animate(le(e,!0),t,i,o)}})),b.each({slideDown:le(\"show\"),slideUp:le(\"hide\"),slideToggle:le(\"toggle\"),fadeIn:{opacity:\"show\"},fadeOut:{opacity:\"hide\"},fadeToggle:{opacity:\"toggle\"}},(function(t,e){b.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}})),b.timers=[],b.fx.tick=function(){var t,e=0,n=b.timers;for(ie=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||b.fx.stop(),ie=void 0},b.fx.timer=function(t){b.timers.push(t),b.fx.start()},b.fx.interval=13,b.fx.start=function(){oe||(oe=!0,ae())},b.fx.stop=function(){oe=null},b.fx.speeds={slow:600,fast:200,_default:400},b.fn.delay=function(e,n){return e=b.fx&&b.fx.speeds[e]||e,n=n||\"fx\",this.queue(n,(function(n,i){var o=t.setTimeout(n,e);i.stop=function(){t.clearTimeout(o)}}))},function(){var t=g.createElement(\"input\"),e=g.createElement(\"select\").appendChild(g.createElement(\"option\"));t.type=\"checkbox\",p.checkOn=\"\"!==t.value,p.optSelected=e.selected,(t=g.createElement(\"input\")).value=\"t\",t.type=\"radio\",p.radioValue=\"t\"===t.value}();var ue,pe=b.expr.attrHandle;b.fn.extend({attr:function(t,e){return H(this,b.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){b.removeAttr(this,t)}))}}),b.extend({attr:function(t,e,n){var i,o,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===t.getAttribute?b.prop(t,e,n):(1===s&&b.isXMLDoc(t)||(o=b.attrHooks[e.toLowerCase()]||(b.expr.match.bool.test(e)?ue:void 0)),void 0!==n?null===n?void b.removeAttr(t,e):o&&\"set\"in o&&void 0!==(i=o.set(t,n,e))?i:(t.setAttribute(e,n+\"\"),n):o&&\"get\"in o&&null!==(i=o.get(t,e))?i:null==(i=b.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!p.radioValue&&\"radio\"===e&&S(t,\"input\")){var n=t.value;return t.setAttribute(\"type\",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,o=e&&e.match(F);if(o&&1===t.nodeType)for(;n=o[i++];)t.removeAttribute(n)}}),ue={set:function(t,e,n){return!1===e?b.removeAttr(t,n):t.setAttribute(n,n),n}},b.each(b.expr.match.bool.source.match(/\\w+/g),(function(t,e){var n=pe[e]||b.find.attr;pe[e]=function(t,e,i){var o,s,r=e.toLowerCase();return i||(s=pe[r],pe[r]=o,o=null!=n(t,e,i)?r:null,pe[r]=s),o}}));var me=/^(?:input|select|textarea|button)$/i,fe=/^(?:a|area)$/i;function ge(t){return(t.match(F)||[]).join(\" \")}function ye(t){return t.getAttribute&&t.getAttribute(\"class\")||\"\"}function ve(t){return Array.isArray(t)?t:\"string\"==typeof t&&t.match(F)||[]}b.fn.extend({prop:function(t,e){return H(this,b.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[b.propFix[t]||t]}))}}),b.extend({prop:function(t,e,n){var i,o,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&b.isXMLDoc(t)||(e=b.propFix[e]||e,o=b.propHooks[e]),void 0!==n?o&&\"set\"in o&&void 0!==(i=o.set(t,n,e))?i:t[e]=n:o&&\"get\"in o&&null!==(i=o.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=b.find.attr(t,\"tabindex\");return e?parseInt(e,10):me.test(t.nodeName)||fe.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:\"htmlFor\",class:\"className\"}}),p.optSelected||(b.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),b.each([\"tabIndex\",\"readOnly\",\"maxLength\",\"cellSpacing\",\"cellPadding\",\"rowSpan\",\"colSpan\",\"useMap\",\"frameBorder\",\"contentEditable\"],(function(){b.propFix[this.toLowerCase()]=this})),b.fn.extend({addClass:function(t){var e,n,i,o,s,r,a,c=0;if(m(t))return this.each((function(e){b(this).addClass(t.call(this,e,ye(this)))}));if((e=ve(t)).length)for(;n=this[c++];)if(o=ye(n),i=1===n.nodeType&&\" \"+ge(o)+\" \"){for(r=0;s=e[r++];)i.indexOf(\" \"+s+\" \")<0&&(i+=s+\" \");o!==(a=ge(i))&&n.setAttribute(\"class\",a)}return this},removeClass:function(t){var e,n,i,o,s,r,a,c=0;if(m(t))return this.each((function(e){b(this).removeClass(t.call(this,e,ye(this)))}));if(!arguments.length)return this.attr(\"class\",\"\");if((e=ve(t)).length)for(;n=this[c++];)if(o=ye(n),i=1===n.nodeType&&\" \"+ge(o)+\" \"){for(r=0;s=e[r++];)for(;i.indexOf(\" \"+s+\" \")>-1;)i=i.replace(\" \"+s+\" \",\" \");o!==(a=ge(i))&&n.setAttribute(\"class\",a)}return this},toggleClass:function(t,e){var n=typeof t,i=\"string\"===n||Array.isArray(t);return\"boolean\"==typeof e&&i?e?this.addClass(t):this.removeClass(t):m(t)?this.each((function(n){b(this).toggleClass(t.call(this,n,ye(this),e),e)})):this.each((function(){var e,o,s,r;if(i)for(o=0,s=b(this),r=ve(t);e=r[o++];)s.hasClass(e)?s.removeClass(e):s.addClass(e);else void 0!==t&&\"boolean\"!==n||((e=ye(this))&&Y.set(this,\"__className__\",e),this.setAttribute&&this.setAttribute(\"class\",e||!1===t?\"\":Y.get(this,\"__className__\")||\"\"))}))},hasClass:function(t){var e,n,i=0;for(e=\" \"+t+\" \";n=this[i++];)if(1===n.nodeType&&(\" \"+ge(ye(n))+\" \").indexOf(e)>-1)return!0;return!1}});var we=/\\r/g;b.fn.extend({val:function(t){var e,n,i,o=this[0];return arguments.length?(i=m(t),this.each((function(n){var o;1===this.nodeType&&(null==(o=i?t.call(this,n,b(this).val()):t)?o=\"\":\"number\"==typeof o?o+=\"\":Array.isArray(o)&&(o=b.map(o,(function(t){return null==t?\"\":t+\"\"}))),(e=b.valHooks[this.type]||b.valHooks[this.nodeName.toLowerCase()])&&\"set\"in e&&void 0!==e.set(this,o,\"value\")||(this.value=o))}))):o?(e=b.valHooks[o.type]||b.valHooks[o.nodeName.toLowerCase()])&&\"get\"in e&&void 0!==(n=e.get(o,\"value\"))?n:\"string\"==typeof(n=o.value)?n.replace(we,\"\"):null==n?\"\":n:void 0}}),b.extend({valHooks:{option:{get:function(t){var e=b.find.attr(t,\"value\");return null!=e?e:ge(b.text(t))}},select:{get:function(t){var e,n,i,o=t.options,s=t.selectedIndex,r=\"select-one\"===t.type,a=r?null:[],c=r?s+1:o.length;for(i=s<0?c:r?s:0;i<c;i++)if(((n=o[i]).selected||i===s)&&!n.disabled&&(!n.parentNode.disabled||!S(n.parentNode,\"optgroup\"))){if(e=b(n).val(),r)return e;a.push(e)}return a},set:function(t,e){for(var n,i,o=t.options,s=b.makeArray(e),r=o.length;r--;)((i=o[r]).selected=b.inArray(b.valHooks.option.get(i),s)>-1)&&(n=!0);return n||(t.selectedIndex=-1),s}}}}),b.each([\"radio\",\"checkbox\"],(function(){b.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=b.inArray(b(t).val(),e)>-1}},p.checkOn||(b.valHooks[this].get=function(t){return null===t.getAttribute(\"value\")?\"on\":t.value})})),p.focusin=\"onfocusin\"in t;var _e=/^(?:focusinfocus|focusoutblur)$/,be=function(t){t.stopPropagation()};b.extend(b.event,{trigger:function(e,n,i,o){var s,r,a,c,l,h,u,p,y=[i||g],v=d.call(e,\"type\")?e.type:e,w=d.call(e,\"namespace\")?e.namespace.split(\".\"):[];if(r=p=a=i=i||g,3!==i.nodeType&&8!==i.nodeType&&!_e.test(v+b.event.triggered)&&(v.indexOf(\".\")>-1&&(w=v.split(\".\"),v=w.shift(),w.sort()),l=v.indexOf(\":\")<0&&\"on\"+v,(e=e[b.expando]?e:new b.Event(v,\"object\"==typeof e&&e)).isTrigger=o?2:3,e.namespace=w.join(\".\"),e.rnamespace=e.namespace?new RegExp(\"(^|\\\\.)\"+w.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:b.makeArray(n,[e]),u=b.event.special[v]||{},o||!u.trigger||!1!==u.trigger.apply(i,n))){if(!o&&!u.noBubble&&!f(i)){for(c=u.delegateType||v,_e.test(c+v)||(r=r.parentNode);r;r=r.parentNode)y.push(r),a=r;a===(i.ownerDocument||g)&&y.push(a.defaultView||a.parentWindow||t)}for(s=0;(r=y[s++])&&!e.isPropagationStopped();)p=r,e.type=s>1?c:u.bindType||v,(h=(Y.get(r,\"events\")||Object.create(null))[e.type]&&Y.get(r,\"handle\"))&&h.apply(r,n),(h=l&&r[l])&&h.apply&&G(r)&&(e.result=h.apply(r,n),!1===e.result&&e.preventDefault());return e.type=v,o||e.isDefaultPrevented()||u._default&&!1!==u._default.apply(y.pop(),n)||!G(i)||l&&m(i[v])&&!f(i)&&((a=i[l])&&(i[l]=null),b.event.triggered=v,e.isPropagationStopped()&&p.addEventListener(v,be),i[v](),e.isPropagationStopped()&&p.removeEventListener(v,be),b.event.triggered=void 0,a&&(i[l]=a)),e.result}},simulate:function(t,e,n){var i=b.extend(new b.Event,n,{type:t,isSimulated:!0});b.event.trigger(i,null,e)}}),b.fn.extend({trigger:function(t,e){return this.each((function(){b.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var n=this[0];if(n)return b.event.trigger(t,e,n,!0)}}),p.focusin||b.each({focus:\"focusin\",blur:\"focusout\"},(function(t,e){var n=function(t){b.event.simulate(e,t.target,b.event.fix(t))};b.event.special[e]={setup:function(){var i=this.ownerDocument||this.document||this,o=Y.access(i,e);o||i.addEventListener(t,n,!0),Y.access(i,e,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,o=Y.access(i,e)-1;o?Y.access(i,e,o):(i.removeEventListener(t,n,!0),Y.remove(i,e))}}}));var Ce=t.location,Ie={guid:Date.now()},xe=/\\?/;b.parseXML=function(e){var n;if(!e||\"string\"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,\"text/xml\")}catch(t){n=void 0}return n&&!n.getElementsByTagName(\"parsererror\").length||b.error(\"Invalid XML: \"+e),n};var ke=/\\[\\]$/,Ee=/\\r?\\n/g,Se=/^(?:submit|button|image|reset|file)$/i,Te=/^(?:input|select|textarea|keygen)/i;function We(t,e,n,i){var o;if(Array.isArray(e))b.each(e,(function(e,o){n||ke.test(t)?i(t,o):We(t+\"[\"+(\"object\"==typeof o&&null!=o?e:\"\")+\"]\",o,n,i)}));else if(n||\"object\"!==w(e))i(t,e);else for(o in e)We(t+\"[\"+o+\"]\",e[o],n,i)}b.param=function(t,e){var n,i=[],o=function(t,e){var n=m(e)?e():e;i[i.length]=encodeURIComponent(t)+\"=\"+encodeURIComponent(null==n?\"\":n)};if(null==t)return\"\";if(Array.isArray(t)||t.jquery&&!b.isPlainObject(t))b.each(t,(function(){o(this.name,this.value)}));else for(n in t)We(n,t[n],e,o);return i.join(\"&\")},b.fn.extend({serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=b.prop(this,\"elements\");return t?b.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!b(this).is(\":disabled\")&&Te.test(this.nodeName)&&!Se.test(t)&&(this.checked||!pt.test(t))})).map((function(t,e){var n=b(this).val();return null==n?null:Array.isArray(n)?b.map(n,(function(t){return{name:e.name,value:t.replace(Ee,\"\\r\\n\")}})):{name:e.name,value:n.replace(Ee,\"\\r\\n\")}})).get()}});var Ae=/%20/g,De=/#.*$/,Pe=/([?&])_=[^&]*/,Le=/^(.*?):[ \\t]*([^\\r\\n]*)$/gm,Me=/^(?:GET|HEAD)$/,Fe=/^\\/\\//,ze={},Be={},Ne=\"*/\".concat(\"*\"),Oe=g.createElement(\"a\");function $e(t){return function(e,n){\"string\"!=typeof e&&(n=e,e=\"*\");var i,o=0,s=e.toLowerCase().match(F)||[];if(m(n))for(;i=s[o++];)\"+\"===i[0]?(i=i.slice(1)||\"*\",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function Re(t,e,n,i){var o={},s=t===Be;function r(a){var c;return o[a]=!0,b.each(t[a]||[],(function(t,a){var l=a(e,n,i);return\"string\"!=typeof l||s||o[l]?s?!(c=l):void 0:(e.dataTypes.unshift(l),r(l),!1)})),c}return r(e.dataTypes[0])||!o[\"*\"]&&r(\"*\")}function He(t,e){var n,i,o=b.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((o[n]?t:i||(i={}))[n]=e[n]);return i&&b.extend(!0,t,i),t}Oe.href=Ce.href,b.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ce.href,type:\"GET\",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ce.protocol),global:!0,processData:!0,async:!0,contentType:\"application/x-www-form-urlencoded; charset=UTF-8\",accepts:{\"*\":Ne,text:\"text/plain\",html:\"text/html\",xml:\"application/xml, text/xml\",json:\"application/json, text/javascript\"},contents:{xml:/\\bxml\\b/,html:/\\bhtml/,json:/\\bjson\\b/},responseFields:{xml:\"responseXML\",text:\"responseText\",json:\"responseJSON\"},converters:{\"* text\":String,\"text html\":!0,\"text json\":JSON.parse,\"text xml\":b.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?He(He(t,b.ajaxSettings),e):He(b.ajaxSettings,t)},ajaxPrefilter:$e(ze),ajaxTransport:$e(Be),ajax:function(e,n){\"object\"==typeof e&&(n=e,e=void 0),n=n||{};var i,o,s,r,a,c,l,d,h,u,p=b.ajaxSetup({},n),m=p.context||p,f=p.context&&(m.nodeType||m.jquery)?b(m):b.event,y=b.Deferred(),v=b.Callbacks(\"once memory\"),w=p.statusCode||{},_={},C={},I=\"canceled\",x={readyState:0,getResponseHeader:function(t){var e;if(l){if(!r)for(r={};e=Le.exec(s);)r[e[1].toLowerCase()+\" \"]=(r[e[1].toLowerCase()+\" \"]||[]).concat(e[2]);e=r[t.toLowerCase()+\" \"]}return null==e?null:e.join(\", \")},getAllResponseHeaders:function(){return l?s:null},setRequestHeader:function(t,e){return null==l&&(t=C[t.toLowerCase()]=C[t.toLowerCase()]||t,_[t]=e),this},overrideMimeType:function(t){return null==l&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(l)x.always(t[x.status]);else for(e in t)w[e]=[w[e],t[e]];return this},abort:function(t){var e=t||I;return i&&i.abort(e),k(0,e),this}};if(y.promise(x),p.url=((e||p.url||Ce.href)+\"\").replace(Fe,Ce.protocol+\"//\"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=(p.dataType||\"*\").toLowerCase().match(F)||[\"\"],null==p.crossDomain){c=g.createElement(\"a\");try{c.href=p.url,c.href=c.href,p.crossDomain=Oe.protocol+\"//\"+Oe.host!=c.protocol+\"//\"+c.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&\"string\"!=typeof p.data&&(p.data=b.param(p.data,p.traditional)),Re(ze,p,n,x),l)return x;for(h in(d=b.event&&p.global)&&0==b.active++&&b.event.trigger(\"ajaxStart\"),p.type=p.type.toUpperCase(),p.hasContent=!Me.test(p.type),o=p.url.replace(De,\"\"),p.hasContent?p.data&&p.processData&&0===(p.contentType||\"\").indexOf(\"application/x-www-form-urlencoded\")&&(p.data=p.data.replace(Ae,\"+\")):(u=p.url.slice(o.length),p.data&&(p.processData||\"string\"==typeof p.data)&&(o+=(xe.test(o)?\"&\":\"?\")+p.data,delete p.data),!1===p.cache&&(o=o.replace(Pe,\"$1\"),u=(xe.test(o)?\"&\":\"?\")+\"_=\"+Ie.guid+++u),p.url=o+u),p.ifModified&&(b.lastModified[o]&&x.setRequestHeader(\"If-Modified-Since\",b.lastModified[o]),b.etag[o]&&x.setRequestHeader(\"If-None-Match\",b.etag[o])),(p.data&&p.hasContent&&!1!==p.contentType||n.contentType)&&x.setRequestHeader(\"Content-Type\",p.contentType),x.setRequestHeader(\"Accept\",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+(\"*\"!==p.dataTypes[0]?\", \"+Ne+\"; q=0.01\":\"\"):p.accepts[\"*\"]),p.headers)x.setRequestHeader(h,p.headers[h]);if(p.beforeSend&&(!1===p.beforeSend.call(m,x,p)||l))return x.abort();if(I=\"abort\",v.add(p.complete),x.done(p.success),x.fail(p.error),i=Re(Be,p,n,x)){if(x.readyState=1,d&&f.trigger(\"ajaxSend\",[x,p]),l)return x;p.async&&p.timeout>0&&(a=t.setTimeout((function(){x.abort(\"timeout\")}),p.timeout));try{l=!1,i.send(_,k)}catch(t){if(l)throw t;k(-1,t)}}else k(-1,\"No Transport\");function k(e,n,r,c){var h,u,g,_,C,I=n;l||(l=!0,a&&t.clearTimeout(a),i=void 0,s=c||\"\",x.readyState=e>0?4:0,h=e>=200&&e<300||304===e,r&&(_=function(t,e,n){for(var i,o,s,r,a=t.contents,c=t.dataTypes;\"*\"===c[0];)c.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader(\"Content-Type\"));if(i)for(o in a)if(a[o]&&a[o].test(i)){c.unshift(o);break}if(c[0]in n)s=c[0];else{for(o in n){if(!c[0]||t.converters[o+\" \"+c[0]]){s=o;break}r||(r=o)}s=s||r}if(s)return s!==c[0]&&c.unshift(s),n[s]}(p,x,r)),!h&&b.inArray(\"script\",p.dataTypes)>-1&&(p.converters[\"text script\"]=function(){}),_=function(t,e,n,i){var o,s,r,a,c,l={},d=t.dataTypes.slice();if(d[1])for(r in t.converters)l[r.toLowerCase()]=t.converters[r];for(s=d.shift();s;)if(t.responseFields[s]&&(n[t.responseFields[s]]=e),!c&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),c=s,s=d.shift())if(\"*\"===s)s=c;else if(\"*\"!==c&&c!==s){if(!(r=l[c+\" \"+s]||l[\"* \"+s]))for(o in l)if((a=o.split(\" \"))[1]===s&&(r=l[c+\" \"+a[0]]||l[\"* \"+a[0]])){!0===r?r=l[o]:!0!==l[o]&&(s=a[0],d.unshift(a[1]));break}if(!0!==r)if(r&&t.throws)e=r(e);else try{e=r(e)}catch(t){return{state:\"parsererror\",error:r?t:\"No conversion from \"+c+\" to \"+s}}}return{state:\"success\",data:e}}(p,_,x,h),h?(p.ifModified&&((C=x.getResponseHeader(\"Last-Modified\"))&&(b.lastModified[o]=C),(C=x.getResponseHeader(\"etag\"))&&(b.etag[o]=C)),204===e||\"HEAD\"===p.type?I=\"nocontent\":304===e?I=\"notmodified\":(I=_.state,u=_.data,h=!(g=_.error))):(g=I,!e&&I||(I=\"error\",e<0&&(e=0))),x.status=e,x.statusText=(n||I)+\"\",h?y.resolveWith(m,[u,I,x]):y.rejectWith(m,[x,I,g]),x.statusCode(w),w=void 0,d&&f.trigger(h?\"ajaxSuccess\":\"ajaxError\",[x,p,h?u:g]),v.fireWith(m,[x,I]),d&&(f.trigger(\"ajaxComplete\",[x,p]),--b.active||b.event.trigger(\"ajaxStop\")))}return x},getJSON:function(t,e,n){return b.get(t,e,n,\"json\")},getScript:function(t,e){return b.get(t,void 0,e,\"script\")}}),b.each([\"get\",\"post\"],(function(t,e){b[e]=function(t,n,i,o){return m(n)&&(o=o||i,i=n,n=void 0),b.ajax(b.extend({url:t,type:e,dataType:o,data:n,success:i},b.isPlainObject(t)&&t))}})),b.ajaxPrefilter((function(t){var e;for(e in t.headers)\"content-type\"===e.toLowerCase()&&(t.contentType=t.headers[e]||\"\")})),b._evalUrl=function(t,e,n){return b.ajax({url:t,type:\"GET\",dataType:\"script\",cache:!0,async:!1,global:!1,converters:{\"text script\":function(){}},dataFilter:function(t){b.globalEval(t,e,n)}})},b.fn.extend({wrapAll:function(t){var e;return this[0]&&(m(t)&&(t=t.call(this[0])),e=b(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return m(t)?this.each((function(e){b(this).wrapInner(t.call(this,e))})):this.each((function(){var e=b(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)}))},wrap:function(t){var e=m(t);return this.each((function(n){b(this).wrapAll(e?t.call(this,n):t)}))},unwrap:function(t){return this.parent(t).not(\"body\").each((function(){b(this).replaceWith(this.childNodes)})),this}}),b.expr.pseudos.hidden=function(t){return!b.expr.pseudos.visible(t)},b.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},b.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(t){}};var je={0:200,1223:204},qe=b.ajaxSettings.xhr();p.cors=!!qe&&\"withCredentials\"in qe,p.ajax=qe=!!qe,b.ajaxTransport((function(e){var n,i;if(p.cors||qe&&!e.crossDomain)return{send:function(o,s){var r,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)a[r]=e.xhrFields[r];for(r in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||o[\"X-Requested-With\"]||(o[\"X-Requested-With\"]=\"XMLHttpRequest\"),o)a.setRequestHeader(r,o[r]);n=function(t){return function(){n&&(n=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,\"abort\"===t?a.abort():\"error\"===t?\"number\"!=typeof a.status?s(0,\"error\"):s(a.status,a.statusText):s(je[a.status]||a.status,a.statusText,\"text\"!==(a.responseType||\"text\")||\"string\"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),i=a.onerror=a.ontimeout=n(\"error\"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout((function(){n&&i()}))},n=n(\"abort\");try{a.send(e.hasContent&&e.data||null)}catch(t){if(n)throw t}},abort:function(){n&&n()}}})),b.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),b.ajaxSetup({accepts:{script:\"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript\"},contents:{script:/\\b(?:java|ecma)script\\b/},converters:{\"text script\":function(t){return b.globalEval(t),t}}}),b.ajaxPrefilter(\"script\",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type=\"GET\")})),b.ajaxTransport(\"script\",(function(t){var e,n;if(t.crossDomain||t.scriptAttrs)return{send:function(i,o){e=b(\"<script>\").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on(\"load error\",n=function(t){e.remove(),n=null,t&&o(\"error\"===t.type?404:200,t.type)}),g.head.appendChild(e[0])},abort:function(){n&&n()}}}));var Ue,Ve=[],Ge=/(=)\\?(?=&|$)|\\?\\?/;b.ajaxSetup({jsonp:\"callback\",jsonpCallback:function(){var t=Ve.pop()||b.expando+\"_\"+Ie.guid++;return this[t]=!0,t}}),b.ajaxPrefilter(\"json jsonp\",(function(e,n,i){var o,s,r,a=!1!==e.jsonp&&(Ge.test(e.url)?\"url\":\"string\"==typeof e.data&&0===(e.contentType||\"\").indexOf(\"application/x-www-form-urlencoded\")&&Ge.test(e.data)&&\"data\");if(a||\"jsonp\"===e.dataTypes[0])return o=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Ge,\"$1\"+o):!1!==e.jsonp&&(e.url+=(xe.test(e.url)?\"&\":\"?\")+e.jsonp+\"=\"+o),e.converters[\"script json\"]=function(){return r||b.error(o+\" was not called\"),r[0]},e.dataTypes[0]=\"json\",s=t[o],t[o]=function(){r=arguments},i.always((function(){void 0===s?b(t).removeProp(o):t[o]=s,e[o]&&(e.jsonpCallback=n.jsonpCallback,Ve.push(o)),r&&m(s)&&s(r[0]),r=s=void 0})),\"script\"})),p.createHTMLDocument=((Ue=g.implementation.createHTMLDocument(\"\").body).innerHTML=\"<form></form><form></form>\",2===Ue.childNodes.length),b.parseHTML=function(t,e,n){return\"string\"!=typeof t?[]:(\"boolean\"==typeof e&&(n=e,e=!1),e||(p.createHTMLDocument?((i=(e=g.implementation.createHTMLDocument(\"\")).createElement(\"base\")).href=g.location.href,e.head.appendChild(i)):e=g),s=!n&&[],(o=T.exec(t))?[e.createElement(o[1])]:(o=_t([t],e,s),s&&s.length&&b(s).remove(),b.merge([],o.childNodes)));var i,o,s},b.fn.load=function(t,e,n){var i,o,s,r=this,a=t.indexOf(\" \");return a>-1&&(i=ge(t.slice(a)),t=t.slice(0,a)),m(e)?(n=e,e=void 0):e&&\"object\"==typeof e&&(o=\"POST\"),r.length>0&&b.ajax({url:t,type:o||\"GET\",dataType:\"html\",data:e}).done((function(t){s=arguments,r.html(i?b(\"<div>\").append(b.parseHTML(t)).find(i):t)})).always(n&&function(t,e){r.each((function(){n.apply(this,s||[t.responseText,e,t])}))}),this},b.expr.pseudos.animated=function(t){return b.grep(b.timers,(function(e){return t===e.elem})).length},b.offset={setOffset:function(t,e,n){var i,o,s,r,a,c,l=b.css(t,\"position\"),d=b(t),h={};\"static\"===l&&(t.style.position=\"relative\"),a=d.offset(),s=b.css(t,\"top\"),c=b.css(t,\"left\"),(\"absolute\"===l||\"fixed\"===l)&&(s+c).indexOf(\"auto\")>-1?(r=(i=d.position()).top,o=i.left):(r=parseFloat(s)||0,o=parseFloat(c)||0),m(e)&&(e=e.call(t,n,b.extend({},a))),null!=e.top&&(h.top=e.top-a.top+r),null!=e.left&&(h.left=e.left-a.left+o),\"using\"in e?e.using.call(t,h):(\"number\"==typeof h.top&&(h.top+=\"px\"),\"number\"==typeof h.left&&(h.left+=\"px\"),d.css(h))}},b.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){b.offset.setOffset(this,t,e)}));var e,n,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],o={top:0,left:0};if(\"fixed\"===b.css(i,\"position\"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&\"static\"===b.css(t,\"position\");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((o=b(t).offset()).top+=b.css(t,\"borderTopWidth\",!0),o.left+=b.css(t,\"borderLeftWidth\",!0))}return{top:e.top-o.top-b.css(i,\"marginTop\",!0),left:e.left-o.left-b.css(i,\"marginLeft\",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&\"static\"===b.css(t,\"position\");)t=t.offsetParent;return t||it}))}}),b.each({scrollLeft:\"pageXOffset\",scrollTop:\"pageYOffset\"},(function(t,e){var n=\"pageYOffset\"===e;b.fn[t]=function(i){return H(this,(function(t,i,o){var s;if(f(t)?s=t:9===t.nodeType&&(s=t.defaultView),void 0===o)return s?s[e]:t[i];s?s.scrollTo(n?s.pageXOffset:o,n?o:s.pageYOffset):t[i]=o}),t,i,arguments.length)}})),b.each([\"top\",\"left\"],(function(t,e){b.cssHooks[e]=qt(p.pixelPosition,(function(t,n){if(n)return n=jt(t,e),Ot.test(n)?b(t).position()[e]+\"px\":n}))})),b.each({Height:\"height\",Width:\"width\"},(function(t,e){b.each({padding:\"inner\"+t,content:e,\"\":\"outer\"+t},(function(n,i){b.fn[i]=function(o,s){var r=arguments.length&&(n||\"boolean\"!=typeof o),a=n||(!0===o||!0===s?\"margin\":\"border\");return H(this,(function(e,n,o){var s;return f(e)?0===i.indexOf(\"outer\")?e[\"inner\"+t]:e.document.documentElement[\"client\"+t]:9===e.nodeType?(s=e.documentElement,Math.max(e.body[\"scroll\"+t],s[\"scroll\"+t],e.body[\"offset\"+t],s[\"offset\"+t],s[\"client\"+t])):void 0===o?b.css(e,n,a):b.style(e,n,o,a)}),e,r?o:void 0,r)}}))})),b.each([\"ajaxStart\",\"ajaxStop\",\"ajaxComplete\",\"ajaxError\",\"ajaxSuccess\",\"ajaxSend\"],(function(t,e){b.fn[e]=function(t){return this.on(e,t)}})),b.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,\"**\"):this.off(e,t||\"**\",n)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),b.each(\"blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu\".split(\" \"),(function(t,e){b.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}));var Xe=/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g;b.proxy=function(t,e){var n,i,s;if(\"string\"==typeof e&&(n=t[e],e=t,t=n),m(t))return i=o.call(arguments,2),(s=function(){return t.apply(e||this,i.concat(o.call(arguments)))}).guid=t.guid=t.guid||b.guid++,s},b.holdReady=function(t){t?b.readyWait++:b.ready(!0)},b.isArray=Array.isArray,b.parseJSON=JSON.parse,b.nodeName=S,b.isFunction=m,b.isWindow=f,b.camelCase=V,b.type=w,b.now=Date.now,b.isNumeric=function(t){var e=b.type(t);return(\"number\"===e||\"string\"===e)&&!isNaN(t-parseFloat(t))},b.trim=function(t){return null==t?\"\":(t+\"\").replace(Xe,\"\")};var Ye=t.jQuery,Je=t.$;return b.noConflict=function(e){return t.$===b&&(t.$=Je),e&&t.jQuery===b&&(t.jQuery=Ye),b},void 0===e&&(t.jQuery=t.$=b),b}))}));let Z;window.$=J,window.addEventListener(\"beforeunload\",(()=>{Y.dispose(),Z&&Z()}));const Q={init:(t,e)=>{if(X.initialized)return void X.init(t,t.agm.instance.peerId,e);Y.subscribeForWorkspaceEvents();const n=X.init(t,t.agm.instance.peerId,e);return Z=n.cleanUp,Y.init(t,t.agm.instance.peerId).then((()=>{B.config.emptyFrame||X.workspacesEventEmitter.raiseFrameEvent({action:\"opened\",payload:{frameSummary:{id:t.agm.instance.peerId}}})})).catch(console.warn),X},getFrameId:()=>X.frameId,notifyMoveAreaChanged:()=>{},getComponentBounds:()=>X.getComponentBounds(),registerPopup:t=>\"\",removePopup:t=>{},removePopupById:t=>{},unmount:()=>{},subscribeForWindowFocused:t=>X.subscribeForWindowClicked(t),notifyWorkspacePopupChanged:t=>{}};export default Q;\n//# sourceMappingURL=export.js.map\n","import workspacesManager from \"@glue42/workspaces-ui-core\";\r\nimport { Bounds, WorkspacesManager } from \"./types/internal\";\r\n\r\ndeclare const window: Window & { workspacesManager: WorkspacesManager };\r\n\r\nclass WorkspacesManagerDecorator {\r\n    public init(glue: any, componentFactory: any) {\r\n        if (window.workspacesManager) {\r\n            window.workspacesManager.init(componentFactory);\r\n        } else {\r\n            workspacesManager.init(glue, componentFactory);\r\n        }\r\n    }\r\n\r\n    public getFrameId() {\r\n      return  (window.workspacesManager || workspacesManager).getFrameId();\r\n    }\r\n\r\n    public notifyMoveAreaChanged() {\r\n        (window.workspacesManager || workspacesManager).notifyMoveAreaChanged();\r\n    }\r\n\r\n    public notifyWorkspacePopupChanged(element: HTMLElement): string {\r\n        return (window.workspacesManager || workspacesManager).notifyWorkspacePopupChanged(element);\r\n    }\r\n\r\n    public getComponentBounds(): Bounds {\r\n        return (window.workspacesManager || workspacesManager).getComponentBounds();\r\n    }\r\n\r\n    public registerPopup(element: HTMLElement): string {\r\n        return (window.workspacesManager || workspacesManager).registerPopup(element);\r\n    }\r\n\r\n    public removePopup(element: HTMLElement): void {\r\n        return (window.workspacesManager || workspacesManager).removePopup(element);\r\n    }\r\n\r\n    public removePopupById(elementId: string): void {\r\n        return (window.workspacesManager || workspacesManager).removePopupById(elementId);\r\n    }\r\n\r\n    public subscribeForWindowFocused(cb: () => any): () => void {\r\n        return (window.workspacesManager || workspacesManager).subscribeForWindowFocused(cb);\r\n    }\r\n\r\n    public unmount(): void {\r\n        return (window.workspacesManager || workspacesManager).unmount();\r\n    }\r\n}\r\n\r\nexport default new WorkspacesManagerDecorator();","import React, { useEffect, useLayoutEffect, forwardRef, useState, useRef, useImperativeHandle } from 'react';\nimport ReactDOM from 'react-dom';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar useOnEscape = function useOnEscape(handler, active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  useEffect(function () {\n    if (!active) return;\n\n    var listener = function listener(event) {\n      // check if key is an Escape\n      if (event.key === 'Escape') handler();\n    };\n\n    document.addEventListener('keyup', listener);\n    return function () {\n      if (!active) return;\n      document.removeEventListener('keyup', listener);\n    };\n  }, [handler, active]);\n};\nvar useRepositionOnResize = function useRepositionOnResize(handler, active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  useEffect(function () {\n    if (!active) return;\n\n    var listener = function listener() {\n      handler();\n    };\n\n    window.addEventListener('resize', listener);\n    return function () {\n      if (!active) return;\n      window.removeEventListener('resize', listener);\n    };\n  }, [handler, active]);\n};\nvar useOnClickOutside = function useOnClickOutside(ref, handler, active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  useEffect(function () {\n    if (!active) return;\n\n    var listener = function listener(event) {\n      // Do nothing if clicking ref's element or descendent elements\n      var refs = Array.isArray(ref) ? ref : [ref];\n      var contains = false;\n      refs.forEach(function (r) {\n        if (!r.current || r.current.contains(event.target)) {\n          contains = true;\n          return;\n        }\n      });\n      event.stopPropagation();\n      if (!contains) handler();\n    };\n\n    document.addEventListener('mousedown', listener);\n    document.addEventListener('touchstart', listener);\n    return function () {\n      if (!active) return;\n      document.removeEventListener('mousedown', listener);\n      document.removeEventListener('touchstart', listener);\n    };\n  }, [ref, handler, active]);\n}; // Make sure that user is not able TAB out of the Modal content on Open\n\nvar useTabbing = function useTabbing(contentRef, active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  useEffect(function () {\n    if (!active) return;\n\n    var listener = function listener(event) {\n      // check if key is an Tab\n      if (event.keyCode === 9) {\n        var _contentRef$current;\n\n        var els = contentRef === null || contentRef === void 0 ? void 0 : (_contentRef$current = contentRef.current) === null || _contentRef$current === void 0 ? void 0 : _contentRef$current.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex=\"0\"]');\n        var focusableEls = Array.prototype.slice.call(els);\n\n        if (focusableEls.length === 1) {\n          event.preventDefault();\n          return;\n        }\n\n        var firstFocusableEl = focusableEls[0];\n        var lastFocusableEl = focusableEls[focusableEls.length - 1];\n\n        if (event.shiftKey && document.activeElement === firstFocusableEl) {\n          event.preventDefault();\n          lastFocusableEl.focus();\n        } else if (document.activeElement === lastFocusableEl) {\n          event.preventDefault();\n          firstFocusableEl.focus();\n        }\n      }\n    };\n\n    document.addEventListener('keydown', listener);\n    return function () {\n      if (!active) return;\n      document.removeEventListener('keydown', listener);\n    };\n  }, [contentRef, active]);\n};\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;\n\nvar Style = {\n  popupContent: {\n    tooltip: {\n      position: 'absolute',\n      zIndex: 999\n    },\n    modal: {\n      position: 'relative',\n      margin: 'auto'\n    }\n  },\n  popupArrow: {\n    height: '8px',\n    width: '16px',\n    position: 'absolute',\n    background: 'transparent',\n    color: '#FFF',\n    zIndex: -1\n  },\n  overlay: {\n    tooltip: {\n      position: 'fixed',\n      top: '0',\n      bottom: '0',\n      left: '0',\n      right: '0',\n      zIndex: 999\n    },\n    modal: {\n      position: 'fixed',\n      top: '0',\n      bottom: '0',\n      left: '0',\n      right: '0',\n      display: 'flex',\n      zIndex: 999\n    }\n  }\n};\n\nvar POSITION_TYPES = ['top left', 'top center', 'top right', 'right top', 'right center', 'right bottom', 'bottom left', 'bottom center', 'bottom right', 'left top', 'left center', 'left bottom'];\n\nvar getCoordinatesForPosition = function getCoordinatesForPosition(triggerBounding, ContentBounding, position, //PopupPosition | PopupPosition[],\narrow, _ref) {\n  var offsetX = _ref.offsetX,\n      offsetY = _ref.offsetY;\n  var margin = arrow ? 8 : 0;\n  var args = position.split(' '); // the step N 1 : center the popup content => ok\n\n  var CenterTop = triggerBounding.top + triggerBounding.height / 2;\n  var CenterLeft = triggerBounding.left + triggerBounding.width / 2;\n  var height = ContentBounding.height,\n      width = ContentBounding.width;\n  var top = CenterTop - height / 2;\n  var left = CenterLeft - width / 2;\n  var transform = '';\n  var arrowTop = '0%';\n  var arrowLeft = '0%'; // the  step N 2 : => ok\n\n  switch (args[0]) {\n    case 'top':\n      top -= height / 2 + triggerBounding.height / 2 + margin;\n      transform = \"rotate(180deg)  translateX(50%)\";\n      arrowTop = '100%';\n      arrowLeft = '50%';\n      break;\n\n    case 'bottom':\n      top += height / 2 + triggerBounding.height / 2 + margin;\n      transform = \"rotate(0deg) translateY(-100%) translateX(-50%)\";\n      arrowLeft = '50%';\n      break;\n\n    case 'left':\n      left -= width / 2 + triggerBounding.width / 2 + margin;\n      transform = \" rotate(90deg)  translateY(50%) translateX(-25%)\";\n      arrowLeft = '100%';\n      arrowTop = '50%';\n      break;\n\n    case 'right':\n      left += width / 2 + triggerBounding.width / 2 + margin;\n      transform = \"rotate(-90deg)  translateY(-150%) translateX(25%)\";\n      arrowTop = '50%';\n      break;\n  }\n\n  switch (args[1]) {\n    case 'top':\n      top = triggerBounding.top;\n      arrowTop = triggerBounding.height / 2 + \"px\";\n      break;\n\n    case 'bottom':\n      top = triggerBounding.top - height + triggerBounding.height;\n      arrowTop = height - triggerBounding.height / 2 + \"px\";\n      break;\n\n    case 'left':\n      left = triggerBounding.left;\n      arrowLeft = triggerBounding.width / 2 + \"px\";\n      break;\n\n    case 'right':\n      left = triggerBounding.left - width + triggerBounding.width;\n      arrowLeft = width - triggerBounding.width / 2 + \"px\";\n      break;\n  }\n\n  top = args[0] === 'top' ? top - offsetY : top + offsetY;\n  left = args[0] === 'left' ? left - offsetX : left + offsetX;\n  return {\n    top: top,\n    left: left,\n    transform: transform,\n    arrowLeft: arrowLeft,\n    arrowTop: arrowTop\n  };\n};\n\nvar getTooltipBoundary = function getTooltipBoundary(keepTooltipInside) {\n  // add viewport\n  var boundingBox = {\n    top: 0,\n    left: 0,\n\n    /* eslint-disable-next-line no-undef */\n    width: window.innerWidth,\n\n    /* eslint-disable-next-line no-undef */\n    height: window.innerHeight\n  };\n\n  if (typeof keepTooltipInside === 'string') {\n    /* eslint-disable-next-line no-undef */\n    var selector = document.querySelector(keepTooltipInside);\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (selector === null) throw new Error(keepTooltipInside + \" selector does not exist : keepTooltipInside must be a valid html selector 'class' or 'Id'  or a boolean value\");\n    }\n\n    if (selector !== null) boundingBox = selector.getBoundingClientRect();\n  }\n\n  return boundingBox;\n};\n\nvar calculatePosition = function calculatePosition(triggerBounding, ContentBounding, position, arrow, _ref2, keepTooltipInside) {\n  var offsetX = _ref2.offsetX,\n      offsetY = _ref2.offsetY;\n  var bestCoords = {\n    arrowLeft: '0%',\n    arrowTop: '0%',\n    left: 0,\n    top: 0,\n    transform: 'rotate(135deg)'\n  };\n  var i = 0;\n  var wrapperBox = getTooltipBoundary(keepTooltipInside);\n  var positions = Array.isArray(position) ? position : [position]; // keepTooltipInside would be activated if the  keepTooltipInside exist or the position is Array\n\n  if (keepTooltipInside || Array.isArray(position)) positions = [].concat(positions, POSITION_TYPES); // add viewPort for WarpperBox\n  // wrapperBox.top = wrapperBox.top + window.scrollY;\n  // wrapperBox.left = wrapperBox.left + window.scrollX;\n\n  while (i < positions.length) {\n    bestCoords = getCoordinatesForPosition(triggerBounding, ContentBounding, positions[i], arrow, {\n      offsetX: offsetX,\n      offsetY: offsetY\n    });\n    var contentBox = {\n      top: bestCoords.top,\n      left: bestCoords.left,\n      width: ContentBounding.width,\n      height: ContentBounding.height\n    };\n\n    if (contentBox.top <= wrapperBox.top || contentBox.left <= wrapperBox.left || contentBox.top + contentBox.height >= wrapperBox.top + wrapperBox.height || contentBox.left + contentBox.width >= wrapperBox.left + wrapperBox.width) {\n      i++;\n    } else {\n      break;\n    }\n  }\n\n  return bestCoords;\n};\n\nvar popupIdCounter = 0;\n\nvar getRootPopup = function getRootPopup() {\n  var PopupRoot = document.getElementById('popup-root');\n\n  if (PopupRoot === null) {\n    PopupRoot = document.createElement('div');\n    PopupRoot.setAttribute('id', 'popup-root');\n    document.body.appendChild(PopupRoot);\n  }\n\n  return PopupRoot;\n};\n\nvar Popup = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var _ref$trigger = _ref.trigger,\n      trigger = _ref$trigger === void 0 ? null : _ref$trigger,\n      _ref$onOpen = _ref.onOpen,\n      onOpen = _ref$onOpen === void 0 ? function () {} : _ref$onOpen,\n      _ref$onClose = _ref.onClose,\n      onClose = _ref$onClose === void 0 ? function () {} : _ref$onClose,\n      _ref$defaultOpen = _ref.defaultOpen,\n      defaultOpen = _ref$defaultOpen === void 0 ? false : _ref$defaultOpen,\n      _ref$open = _ref.open,\n      open = _ref$open === void 0 ? undefined : _ref$open,\n      _ref$disabled = _ref.disabled,\n      disabled = _ref$disabled === void 0 ? false : _ref$disabled,\n      _ref$nested = _ref.nested,\n      nested = _ref$nested === void 0 ? false : _ref$nested,\n      _ref$closeOnDocumentC = _ref.closeOnDocumentClick,\n      closeOnDocumentClick = _ref$closeOnDocumentC === void 0 ? true : _ref$closeOnDocumentC,\n      _ref$repositionOnResi = _ref.repositionOnResize,\n      repositionOnResize = _ref$repositionOnResi === void 0 ? true : _ref$repositionOnResi,\n      _ref$closeOnEscape = _ref.closeOnEscape,\n      closeOnEscape = _ref$closeOnEscape === void 0 ? true : _ref$closeOnEscape,\n      _ref$on = _ref.on,\n      on = _ref$on === void 0 ? ['click'] : _ref$on,\n      _ref$contentStyle = _ref.contentStyle,\n      contentStyle = _ref$contentStyle === void 0 ? {} : _ref$contentStyle,\n      _ref$arrowStyle = _ref.arrowStyle,\n      arrowStyle = _ref$arrowStyle === void 0 ? {} : _ref$arrowStyle,\n      _ref$overlayStyle = _ref.overlayStyle,\n      overlayStyle = _ref$overlayStyle === void 0 ? {} : _ref$overlayStyle,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? '' : _ref$className,\n      _ref$position = _ref.position,\n      position = _ref$position === void 0 ? 'bottom center' : _ref$position,\n      _ref$modal = _ref.modal,\n      modal = _ref$modal === void 0 ? false : _ref$modal,\n      _ref$lockScroll = _ref.lockScroll,\n      lockScroll = _ref$lockScroll === void 0 ? false : _ref$lockScroll,\n      _ref$arrow = _ref.arrow,\n      arrow = _ref$arrow === void 0 ? true : _ref$arrow,\n      _ref$offsetX = _ref.offsetX,\n      offsetX = _ref$offsetX === void 0 ? 0 : _ref$offsetX,\n      _ref$offsetY = _ref.offsetY,\n      offsetY = _ref$offsetY === void 0 ? 0 : _ref$offsetY,\n      _ref$mouseEnterDelay = _ref.mouseEnterDelay,\n      mouseEnterDelay = _ref$mouseEnterDelay === void 0 ? 100 : _ref$mouseEnterDelay,\n      _ref$mouseLeaveDelay = _ref.mouseLeaveDelay,\n      mouseLeaveDelay = _ref$mouseLeaveDelay === void 0 ? 100 : _ref$mouseLeaveDelay,\n      _ref$keepTooltipInsid = _ref.keepTooltipInside,\n      keepTooltipInside = _ref$keepTooltipInsid === void 0 ? false : _ref$keepTooltipInsid,\n      children = _ref.children;\n\n  var _useState = useState(open || defaultOpen),\n      isOpen = _useState[0],\n      setIsOpen = _useState[1];\n\n  var triggerRef = useRef(null);\n  var contentRef = useRef(null);\n  var arrowRef = useRef(null);\n  var focusedElBeforeOpen = useRef(null);\n  var popupId = useRef(\"popup-\" + ++popupIdCounter);\n  var isModal = modal ? true : !trigger;\n  var timeOut = useRef(0);\n  useIsomorphicLayoutEffect(function () {\n    if (isOpen) {\n      focusedElBeforeOpen.current = document.activeElement;\n      setPosition();\n      focusContentOnOpen(); // for accessibility\n\n      lockScrolll();\n    } else {\n      resetScroll();\n    }\n\n    return function () {\n      clearTimeout(timeOut.current);\n    };\n  }, [isOpen]); // for uncontrolled popup we need to sync isOpen with open prop\n\n  useEffect(function () {\n    if (typeof open === 'boolean') {\n      if (open) openPopup();else closePopup();\n    }\n  }, [open, disabled]);\n\n  var openPopup = function openPopup() {\n    if (isOpen || disabled) return;\n    setIsOpen(true);\n    setTimeout(onOpen, 0);\n  };\n\n  var closePopup = function closePopup() {\n    if (!isOpen || disabled) return;\n    setIsOpen(false);\n    if (isModal) focusedElBeforeOpen.current.focus();\n    setTimeout(onClose, 0);\n  };\n\n  var togglePopup = function togglePopup(event) {\n    event === null || event === void 0 ? void 0 : event.stopPropagation();\n    if (!isOpen) openPopup();else closePopup();\n  };\n\n  var onMouseEnter = function onMouseEnter() {\n    clearTimeout(timeOut.current);\n    timeOut.current = setTimeout(openPopup, mouseEnterDelay);\n  };\n\n  var onContextMenu = function onContextMenu(event) {\n    event === null || event === void 0 ? void 0 : event.preventDefault();\n    togglePopup();\n  };\n\n  var onMouseLeave = function onMouseLeave() {\n    clearTimeout(timeOut.current);\n    timeOut.current = setTimeout(closePopup, mouseLeaveDelay);\n  };\n\n  var lockScrolll = function lockScrolll() {\n    if (isModal && lockScroll) document.getElementsByTagName('body')[0].style.overflow = 'hidden'; // migrate to document.body\n  };\n\n  var resetScroll = function resetScroll() {\n    if (isModal && lockScroll) document.getElementsByTagName('body')[0].style.overflow = 'auto';\n  };\n\n  var focusContentOnOpen = function focusContentOnOpen() {\n    var _contentRef$current;\n\n    var focusableEls = contentRef === null || contentRef === void 0 ? void 0 : (_contentRef$current = contentRef.current) === null || _contentRef$current === void 0 ? void 0 : _contentRef$current.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex=\"0\"]');\n    var firstEl = Array.prototype.slice.call(focusableEls)[0];\n    firstEl === null || firstEl === void 0 ? void 0 : firstEl.focus();\n  };\n\n  useImperativeHandle(ref, function () {\n    return {\n      open: function open() {\n        openPopup();\n      },\n      close: function close() {\n        closePopup();\n      },\n      toggle: function toggle() {\n        togglePopup();\n      }\n    };\n  }); // set Position\n\n  var setPosition = function setPosition() {\n    if (isModal || !isOpen) return;\n    if (!(triggerRef === null || triggerRef === void 0 ? void 0 : triggerRef.current) || !(triggerRef === null || triggerRef === void 0 ? void 0 : triggerRef.current) || !(contentRef === null || contentRef === void 0 ? void 0 : contentRef.current)) return; /// show error as one of ref is undefined\n\n    var trigger = triggerRef.current.getBoundingClientRect();\n    var content = contentRef.current.getBoundingClientRect();\n    var cords = calculatePosition(trigger, content, position, arrow, {\n      offsetX: offsetX,\n      offsetY: offsetY\n    }, keepTooltipInside);\n    contentRef.current.style.top = cords.top + window.scrollY + \"px\";\n    contentRef.current.style.left = cords.left + window.scrollX + \"px\";\n\n    if (arrow && !!arrowRef.current) {\n      var _arrowStyle$top, _arrowStyle$left;\n\n      arrowRef.current.style.transform = cords.transform;\n      arrowRef.current.style.setProperty('-ms-transform', cords.transform);\n      arrowRef.current.style.setProperty('-webkit-transform', cords.transform);\n      arrowRef.current.style.top = ((_arrowStyle$top = arrowStyle.top) === null || _arrowStyle$top === void 0 ? void 0 : _arrowStyle$top.toString()) || cords.arrowTop;\n      arrowRef.current.style.left = ((_arrowStyle$left = arrowStyle.left) === null || _arrowStyle$left === void 0 ? void 0 : _arrowStyle$left.toString()) || cords.arrowLeft;\n    }\n  }; // hooks\n\n\n  useOnEscape(closePopup, closeOnEscape); // can be optimized if we disabled for hover\n\n  useTabbing(contentRef, isOpen && isModal);\n  useRepositionOnResize(setPosition, repositionOnResize);\n  useOnClickOutside(!!trigger ? [contentRef, triggerRef] : [contentRef], closePopup, closeOnDocumentClick && !nested); // we need to add a ne\n  // render the trigger element and add events\n\n  var renderTrigger = function renderTrigger() {\n    var triggerProps = {\n      key: 'T',\n      ref: triggerRef,\n      'aria-describedby': popupId.current\n    };\n    var onAsArray = Array.isArray(on) ? on : [on];\n\n    for (var i = 0, len = onAsArray.length; i < len; i++) {\n      switch (onAsArray[i]) {\n        case 'click':\n          triggerProps.onClick = togglePopup;\n          break;\n\n        case 'right-click':\n          triggerProps.onContextMenu = onContextMenu;\n          break;\n\n        case 'hover':\n          triggerProps.onMouseEnter = onMouseEnter;\n          triggerProps.onMouseLeave = onMouseLeave;\n          break;\n\n        case 'focus':\n          triggerProps.onFocus = onMouseEnter;\n          triggerProps.onBlur = onMouseLeave;\n          break;\n      }\n    }\n\n    if (typeof trigger === 'function') {\n      var comp = trigger(isOpen);\n      return !!trigger && React.cloneElement(comp, triggerProps);\n    }\n\n    return !!trigger && React.cloneElement(trigger, triggerProps);\n  };\n\n  var addWarperAction = function addWarperAction() {\n    var popupContentStyle = isModal ? Style.popupContent.modal : Style.popupContent.tooltip;\n    var childrenElementProps = {\n      className: \"popup-content \" + (className !== '' ? className.split(' ').map(function (c) {\n        return c + \"-content\";\n      }).join(' ') : ''),\n      style: _extends({}, popupContentStyle, contentStyle, {\n        pointerEvents: 'auto'\n      }),\n      ref: contentRef,\n      onClick: function onClick(e) {\n        e.stopPropagation();\n      }\n    };\n\n    if (!modal && on.indexOf('hover') >= 0) {\n      childrenElementProps.onMouseEnter = onMouseEnter;\n      childrenElementProps.onMouseLeave = onMouseLeave;\n    }\n\n    return childrenElementProps;\n  };\n\n  var renderContent = function renderContent() {\n    return React.createElement(\"div\", Object.assign({}, addWarperAction(), {\n      key: \"C\",\n      role: isModal ? 'dialog' : 'tooltip',\n      id: popupId.current\n    }), arrow && !isModal && React.createElement(\"div\", {\n      ref: arrowRef,\n      style: Style.popupArrow\n    }, React.createElement(\"svg\", {\n      \"data-testid\": \"arrow\",\n      className: \"popup-arrow \" + (className !== '' ? className.split(' ').map(function (c) {\n        return c + \"-arrow\";\n      }).join(' ') : ''),\n      viewBox: \"0 0 32 16\",\n      style: _extends({\n        position: 'absolute'\n      }, arrowStyle)\n    }, React.createElement(\"path\", {\n      d: \"M16 0l16 16H0z\",\n      fill: \"currentcolor\"\n    }))), children && typeof children === 'function' ? children(closePopup, isOpen) : children);\n  };\n\n  var overlay = !(on.indexOf('hover') >= 0);\n  var ovStyle = isModal ? Style.overlay.modal : Style.overlay.tooltip;\n  var content = [overlay && React.createElement(\"div\", {\n    key: \"O\",\n    \"data-testid\": \"overlay\",\n    \"data-popup\": isModal ? 'modal' : 'tooltip',\n    className: \"popup-overlay \" + (className !== '' ? className.split(' ').map(function (c) {\n      return c + \"-overlay\";\n    }).join(' ') : ''),\n    style: _extends({}, ovStyle, overlayStyle, {\n      pointerEvents: closeOnDocumentClick && nested || isModal ? 'auto' : 'none'\n    }),\n    onClick: closeOnDocumentClick && nested ? closePopup : undefined,\n    tabIndex: -1\n  }, isModal && renderContent()), !isModal && renderContent()];\n  return React.createElement(React.Fragment, null, renderTrigger(), isOpen && ReactDOM.createPortal(content, getRootPopup()));\n});\n\nexport default Popup;\nexport { Popup };\n//# sourceMappingURL=reactjs-popup.esm.js.map\n","import React, { useEffect, useState } from \"react\";\r\nimport { WorkspacePopupProps } from \"./types/internal\";\r\nimport Popup from \"reactjs-popup\";\r\nimport WorkspacePopupContent from \"./WorkspaceContentPopup\";\r\nimport { PopupActions } from \"reactjs-popup/dist/types\";\r\n\r\nconst WorkspacePopup: React.FC<WorkspacePopupProps> = ({ children, innerContentStyle, popupRef, ...props }) => {\r\n    const ref = popupRef || React.createRef<PopupActions>();\r\n    const [shouldClose, setShouldClose] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (!shouldClose) {\r\n            return;\r\n        }\r\n\r\n        ref.current?.close();\r\n        setShouldClose(false);\r\n    }, [shouldClose]);\r\n\r\n    return (\r\n        <Popup ref={ref} {...props}>\r\n            <WorkspacePopupContent innerContentStyle={innerContentStyle} close={() => setShouldClose(true)} children={children} />\r\n        </Popup>\r\n    )\r\n}\r\n\r\nexport default WorkspacePopup;","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { PortalProps } from \"./types/internal\";\r\n\r\nclass Portal extends React.Component<PortalProps> {\r\n    render() {\r\n        return ReactDOM.createPortal(this.props.children, this.props.domNode);\r\n    }\r\n}\r\n\r\nexport default Portal;","import React from \"react\";\r\nimport { WorkspacesWrapperProps } from \"./types/internal\";\r\nimport withGlueInstance from \"./withGlueInstance\";\r\nimport workspacesManager from \"./workspacesManager\";\r\n\r\nconst templateId = \"workspaces-react-wrapper-template\";\r\nconst workspacesInnerContainerId = \"outter-layout-container\";\r\n\r\nclass WorkspacesWrapper extends React.Component<WorkspacesWrapperProps> {\r\n    containerRef: HTMLElement | null;\r\n\r\n    componentDidMount() {\r\n        let placeholder = document.getElementById(templateId) as HTMLTemplateElement;\r\n        if (!placeholder) {\r\n            const template = document.createElement(\"template\");\r\n            template.id = templateId;\r\n            const glContainer = document.createElement(\"div\");\r\n\r\n            glContainer.id = workspacesInnerContainerId;\r\n            glContainer.style.overflow = \"hidden\";\r\n            glContainer.style.width = \"100%\";\r\n            glContainer.style.height = \"100%\";\r\n            template.content.appendChild(glContainer);\r\n            document.body.appendChild(template);\r\n            placeholder = template;\r\n        }\r\n        if (!this.containerRef) {\r\n            return;\r\n        }\r\n        this.containerRef.appendChild(placeholder.content);\r\n\r\n        const componentFactory = {\r\n            createLogo: this.props.onCreateLogoRequested,\r\n            createAddWorkspace: this.props.onCreateAddWorkspaceRequested,\r\n            createSystemButtons: this.props.onCreateSystemButtonsRequested,\r\n            createWorkspaceContents: this.props.onCreateWorkspaceContentsRequested,\r\n            createSaveWorkspacePopup: this.props.onCreateSaveWorkspacePopupRequested,\r\n            createAddApplicationPopup: this.props.onCreateAddApplicationPopupRequested,\r\n            createAddWorkspacePopup: this.props.onCreateAddWorkspacePopupRequested,\r\n            hideSystemPopups: this.props.onHideSystemPopupsRequested,\r\n            externalPopupApplications: this.props.externalPopupApplications\r\n        };\r\n        workspacesManager.init(this.props.glue, componentFactory);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        let placeholder = document.getElementById(templateId) as HTMLTemplateElement;\r\n\r\n        if (!this.containerRef) {\r\n            return;\r\n        }\r\n\r\n        placeholder?.content.appendChild(this.containerRef.children[0]);\r\n\r\n        workspacesManager.unmount();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div ref={(r) => this.containerRef = r} style={{ overflow: \"hidden\", width: \"100%\", height: \"100%\" }}>\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withGlueInstance(WorkspacesWrapper);","import React from \"react\";\r\nimport AddApplicationPopup from \"./defaultComponents/popups/addApplication/AddApplicationPopup\";\r\nimport AddWorkspacePopup from \"./defaultComponents/popups/addWorkspace/AddWorkspacePopup\";\r\nimport SaveWorkspacePopup from \"./defaultComponents/popups/saveWorkspace/SaveWorkspacePopup\";\r\nimport Portal from \"./Portal\";\r\nimport { AddApplicationPopupProps, CreateElementRequestOptions, ElementCreationWrapperState, AddWorkspacePopupProps, SaveWorkspacePopupProps, WorkspacesProps, CreateWorkspaceContentsRequestOptions } from \"./types/internal\";\r\nimport WorkspacesWrapper from \"./WorkspacesWrapper\";\r\n\r\nclass WorkspacesElementCreationWrapper extends React.Component<WorkspacesProps, ElementCreationWrapperState> {\r\n    constructor(props: WorkspacesProps) {\r\n        super(props);\r\n        this.state = {\r\n            logo: undefined,\r\n            addWorkspace: undefined,\r\n            systemButtons: undefined,\r\n            workspaceContents: [],\r\n            saveWorkspacePopup: undefined,\r\n            addApplicationPopup: undefined,\r\n            addWorkspacePopup: undefined\r\n        }\r\n    }\r\n\r\n    onCreateLogoRequested = (options: CreateElementRequestOptions) => {\r\n        if (options === this.state.logo) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                logo: options\r\n            }\r\n        });\r\n    }\r\n\r\n    onCreateAddWorkspaceRequested = (options: CreateElementRequestOptions) => {\r\n        if (options === this.state.addWorkspace) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                addWorkspace: options\r\n            }\r\n        });\r\n    }\r\n\r\n    onCreateSystemButtonsRequested = (options: CreateElementRequestOptions) => {\r\n        if (options === this.state.systemButtons) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                systemButtons: options\r\n            }\r\n        });\r\n    }\r\n\r\n    onCreateWorkspaceContentsRequested = (options: CreateWorkspaceContentsRequestOptions) => {\r\n        if (this.state.workspaceContents.some(wc => wc.domNode === options.domNode)) {\r\n            return;\r\n        }\r\n\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                workspaceContents: [\r\n                    ...s.workspaceContents,\r\n                    options\r\n                ]\r\n            }\r\n        });\r\n    }\r\n\r\n    onCreateSaveWorkspaceRequested = (options: CreateElementRequestOptions & SaveWorkspacePopupProps) => {\r\n        if (options === this.state.saveWorkspacePopup) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                saveWorkspacePopup: options\r\n            }\r\n        }, options.callback);\r\n    }\r\n\r\n    onCreateAddApplicationRequested = (options: CreateElementRequestOptions & AddApplicationPopupProps) => {\r\n        if (options === this.state.addApplicationPopup) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                addApplicationPopup: options\r\n            }\r\n        }, options.callback);\r\n    }\r\n\r\n    onCreateAddWorkspacePopupRequested = (options: CreateElementRequestOptions & AddWorkspacePopupProps) => {\r\n        if (options === this.state.addWorkspacePopup) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                addWorkspacePopup: options\r\n            }\r\n        }, options.callback);\r\n    }\r\n\r\n    onHideSystemPopups = (cb: () => void) => {\r\n        this.setState((s) => ({\r\n            ...s,\r\n            addApplicationPopup: undefined,\r\n            saveWorkspacePopup: undefined,\r\n            addWorkspacePopup: undefined\r\n        }), cb);\r\n    }\r\n\r\n    renderLogoComponent = () => {\r\n        const LogoCustomElement = this.props.components?.header?.LogoComponent;\r\n        if (!LogoCustomElement || (!this.state.logo || !this.state.logo.domNode)) {\r\n            return;\r\n        }\r\n\r\n        const { domNode, callback, ...options } = this.state.logo;\r\n        return <Portal domNode={domNode}><LogoCustomElement {...options} /></Portal>\r\n    }\r\n\r\n    renderAddWorkspaceComponent = () => {\r\n        const AddWorkspaceCustomComponent = this.props.components?.header?.AddWorkspaceComponent;\r\n\r\n        if (!AddWorkspaceCustomComponent || (!this.state.addWorkspace || !this.state.addWorkspace.domNode)) {\r\n            return;\r\n        }\r\n\r\n        const { domNode, callback, ...options } = this.state.addWorkspace;\r\n        return <Portal domNode={domNode}><AddWorkspaceCustomComponent {...options} /></Portal>\r\n    }\r\n\r\n    renderSystemButtonsComponent = () => {\r\n        const SystemButtonsCustomComponent = this.props.components?.header?.SystemButtonsComponent;\r\n        if (!SystemButtonsCustomComponent || (!this.state.systemButtons || !this.state.systemButtons.domNode)) {\r\n            return;\r\n        }\r\n\r\n        const { domNode, callback, ...options } = this.state.systemButtons;\r\n\r\n        return <Portal domNode={domNode}><SystemButtonsCustomComponent {...options} /></Portal>\r\n    }\r\n\r\n    renderWorskpaceContents = () => {\r\n        const WorkspaceContentsComponent = this.props.components?.WorkspaceContents;\r\n\r\n        return this.state.workspaceContents.map((wc) => {\r\n            if (!WorkspaceContentsComponent || !wc.domNode) {\r\n                return;\r\n            }\r\n\r\n            const { domNode, callback, ...options } = wc;\r\n            return <Portal key={options.workspaceId} domNode={domNode}><WorkspaceContentsComponent {...options} /></Portal>\r\n        });\r\n    }\r\n\r\n    renderSaveWorkspacePopupComponent = () => {\r\n        const SaveWorkspaceCustomComponent = this.props.components?.popups?.SaveWorkspaceComponent || SaveWorkspacePopup;\r\n        if (!SaveWorkspaceCustomComponent || (!this.state.saveWorkspacePopup || !this.state.saveWorkspacePopup.domNode)) {\r\n            return;\r\n        }\r\n\r\n        const { domNode, ...options } = this.state.saveWorkspacePopup;\r\n\r\n        return <Portal domNode={domNode}><SaveWorkspaceCustomComponent glue={this.props.glue} {...options} /></Portal>\r\n    }\r\n\r\n    renderAddApplicationPopupComponent = () => {\r\n        const AddApplicationCustomComponent = this.props.components?.popups?.AddApplicationComponent || AddApplicationPopup;\r\n        if (!AddApplicationCustomComponent || (!this.state.addApplicationPopup || !this.state.addApplicationPopup.domNode)) {\r\n            return;\r\n        }\r\n\r\n        const { domNode, ...options } = this.state.addApplicationPopup;\r\n\r\n        return <Portal domNode={domNode}><AddApplicationCustomComponent glue={this.props.glue} {...options} /></Portal>\r\n    }\r\n\r\n    renderAddWorkspacePopupComponent = () => {\r\n        const AddWorkspaceCustomComponent = this.props.components?.popups?.AddWorkspaceComponent || AddWorkspacePopup;\r\n        if (!AddWorkspaceCustomComponent || (!this.state.addWorkspacePopup || !this.state.addWorkspacePopup.domNode)) {\r\n            return;\r\n        }\r\n        const { domNode, callback, ...options } = this.state.addWorkspacePopup;\r\n\r\n        return <Portal domNode={domNode}><AddWorkspaceCustomComponent glue={this.props.glue} {...options} /></Portal>\r\n    }\r\n\r\n    render() {\r\n        const { components, glue, ...additionalProperties } = this.props;\r\n        const addApplicationComponent = components?.popups?.AddApplicationComponent || AddApplicationPopup;\r\n        const saveWorkspaceComponent = components?.popups?.SaveWorkspaceComponent || SaveWorkspacePopup;\r\n        const addWorkspaceComponent = components?.popups?.AddWorkspaceComponent || AddWorkspacePopup;\r\n\r\n        const onCreateAddApplicationRequested = addApplicationComponent && typeof addApplicationComponent !== \"string\" ?\r\n            this.onCreateAddApplicationRequested : undefined;\r\n\r\n        const onCreateAddWorkspacePopupRequested = addWorkspaceComponent && typeof addWorkspaceComponent !== \"string\" ?\r\n            this.onCreateAddWorkspacePopupRequested : undefined;\r\n\r\n        const onCreateSaveWorkspaceRequested = saveWorkspaceComponent && typeof saveWorkspaceComponent !== \"string\" ?\r\n            this.onCreateSaveWorkspaceRequested : undefined;\r\n\r\n        const addApplication = typeof addApplicationComponent === \"string\" ? addApplicationComponent : undefined;\r\n        const saveWorkspace = typeof saveWorkspaceComponent === \"string\" ? saveWorkspaceComponent : undefined;\r\n        const addWorkspace = typeof addWorkspaceComponent === \"string\" ? addWorkspaceComponent : undefined;\r\n\r\n        const externalPopupApplications = {\r\n            addApplication,\r\n            saveWorkspace,\r\n            addWorkspace\r\n        }\r\n\r\n        return (\r\n            <div {...additionalProperties} style={{ overflow: \"hidden\", width: \"100%\", height: \"100%\" }}>\r\n                {this.renderLogoComponent()}\r\n                {this.renderAddWorkspaceComponent()}\r\n                {this.renderSystemButtonsComponent()}\r\n                {this.renderWorskpaceContents()}\r\n                {this.renderSaveWorkspacePopupComponent()}\r\n                {this.renderAddApplicationPopupComponent()}\r\n                {this.renderAddWorkspacePopupComponent()}\r\n                <WorkspacesWrapper\r\n                    onCreateSystemButtonsRequested={components?.header?.SystemButtonsComponent ? this.onCreateSystemButtonsRequested : undefined}\r\n                    onCreateAddWorkspaceRequested={components?.header?.AddWorkspaceComponent ? this.onCreateAddWorkspaceRequested : undefined}\r\n                    onCreateLogoRequested={components?.header?.LogoComponent ? this.onCreateLogoRequested : undefined}\r\n                    onCreateWorkspaceContentsRequested={components?.WorkspaceContents ? this.onCreateWorkspaceContentsRequested : undefined}\r\n                    onCreateSaveWorkspacePopupRequested={onCreateSaveWorkspaceRequested}\r\n                    onCreateAddApplicationPopupRequested={onCreateAddApplicationRequested}\r\n                    onCreateAddWorkspacePopupRequested={onCreateAddWorkspacePopupRequested}\r\n                    onHideSystemPopupsRequested={this.onHideSystemPopups}\r\n                    externalPopupApplications={externalPopupApplications}\r\n                    glue={glue}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default WorkspacesElementCreationWrapper;\r\n","import AddWorkspaceButton from './defaultComponents/AddWorkspaceButton';\r\nimport CloseFrameButton from './defaultComponents/CloseFrameButton';\r\nimport GlueLogo from './defaultComponents/GlueLogo';\r\nimport MaximizeFrameButton from './defaultComponents/MaximizeFrameButton';\r\nimport MinimizeFrameButton from './defaultComponents/MinimizeFrameButton';\r\nimport AddApplicationPopup from './defaultComponents/popups/addApplication/AddApplicationPopup';\r\nimport AddWorkspacePopup from './defaultComponents/popups/addWorkspace/AddWorkspacePopup';\r\nimport SaveWorkspacePopup from './defaultComponents/popups/saveWorkspace/SaveWorkspacePopup';\r\nimport WorkspaceContents from \"./defaultComponents/WorkspaceContents\";\r\nimport useWorkspacePopup from './useWorkspacePopup';\r\nimport useWorkspaceWindowClicked from './useWorkspaceWindowClicked';\r\n\r\nimport WorkspacePopup from './WorkspacePopup';\r\nimport {\r\n    Bounds,\r\n    WorkspacesManager,\r\n    WorkspacesProps,\r\n    AddWorkspaceButtonProps,\r\n    MaximizeFrameButtonProps,\r\n    MinimizeFrameButtonProps,\r\n    SaveWorkspacePopupComponentProps,\r\n    AddWorkspacePopupComponentProps,\r\n    AddApplicationPopupComponentProps,\r\n    AddWorkspacePopupProps,\r\n    SaveWorkspacePopupProps,\r\n    AddApplicationPopupProps,\r\n    WorkspaceContentsProps\r\n} from './types/internal';\r\nimport WorkspacesElementCreationWrapper from './WorkspacesElementCreationWrapper'\r\nimport workspacesManager from './workspacesManager';\r\n\r\nexport {\r\n    SaveWorkspacePopup,\r\n    AddWorkspacePopup,\r\n    AddApplicationPopup,\r\n    CloseFrameButton,\r\n    GlueLogo,\r\n    MaximizeFrameButton,\r\n    MinimizeFrameButton,\r\n    AddWorkspaceButton,\r\n    WorkspacePopup,\r\n    useWorkspacePopup,\r\n    useWorkspaceWindowClicked,\r\n    WorkspaceContents\r\n};\r\nexport const notifyMoveAreaChanged: () => void = () => workspacesManager?.notifyMoveAreaChanged();\r\nexport const getComponentBounds: () => Bounds = () => workspacesManager?.getComponentBounds();\r\nexport const getFrameId: () => string = () => workspacesManager?.getFrameId();\r\n\r\nexport {\r\n    WorkspacesProps,\r\n    Bounds,\r\n    AddWorkspaceButtonProps,\r\n    MaximizeFrameButtonProps,\r\n    MinimizeFrameButtonProps,\r\n    SaveWorkspacePopupComponentProps,\r\n    AddWorkspacePopupComponentProps,\r\n    AddApplicationPopupComponentProps,\r\n    AddWorkspacePopupProps,\r\n    SaveWorkspacePopupProps,\r\n    AddApplicationPopupProps,\r\n    WorkspaceContentsProps\r\n};\r\nexport default WorkspacesElementCreationWrapper;","(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, (global.desktop = global.desktop || {}, global.desktop.browser = factory()));\n}(this, (function () { 'use strict';\n\n    /*! *****************************************************************************\r\n    Copyright (c) Microsoft Corporation. All rights reserved.\r\n    Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\n    this file except in compliance with the License. You may obtain a copy of the\r\n    License at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\n    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\n    MERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\n    See the Apache Version 2.0 License for specific language governing permissions\r\n    and limitations under the License.\r\n    ***************************************************************************** */\r\n    /* global Reflect, Promise */\r\n\r\n    var extendStatics = function(d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n\r\n    function __extends(d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    }\r\n\r\n    var __assign = function() {\r\n        __assign = Object.assign || function __assign(t) {\r\n            for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n                s = arguments[i];\r\n                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n            }\r\n            return t;\r\n        };\r\n        return __assign.apply(this, arguments);\r\n    };\r\n\r\n    function __awaiter(thisArg, _arguments, P, generator) {\r\n        return new (P || (P = Promise))(function (resolve, reject) {\r\n            function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n            function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n            function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n        });\r\n    }\r\n\r\n    function __generator(thisArg, body) {\r\n        var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n        return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n        function verb(n) { return function (v) { return step([n, v]); }; }\r\n        function step(op) {\r\n            if (f) throw new TypeError(\"Generator is already executing.\");\r\n            while (_) try {\r\n                if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n                if (y = 0, t) op = [op[0] & 2, t.value];\r\n                switch (op[0]) {\r\n                    case 0: case 1: t = op; break;\r\n                    case 4: _.label++; return { value: op[1], done: false };\r\n                    case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                    case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                    default:\r\n                        if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                        if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                        if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                        if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                        if (t[2]) _.ops.pop();\r\n                        _.trys.pop(); continue;\r\n                }\r\n                op = body.call(thisArg, _);\r\n            } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n            if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n        }\r\n    }\n\n    /*! *****************************************************************************\r\n    Copyright (c) Microsoft Corporation. All rights reserved.\r\n    Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\n    this file except in compliance with the License. You may obtain a copy of the\r\n    License at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\n    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\n    MERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\n    See the Apache Version 2.0 License for specific language governing permissions\r\n    and limitations under the License.\r\n    ***************************************************************************** */\r\n    /* global Reflect, Promise */\r\n\r\n    var extendStatics$1 = function(d, b) {\r\n        extendStatics$1 = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics$1(d, b);\r\n    };\r\n\r\n    function __extends$1(d, b) {\r\n        extendStatics$1(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    }\r\n\r\n    var __assign$1 = function() {\r\n        __assign$1 = Object.assign || function __assign(t) {\r\n            for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n                s = arguments[i];\r\n                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n            }\r\n            return t;\r\n        };\r\n        return __assign$1.apply(this, arguments);\r\n    };\r\n\r\n    function __awaiter$1(thisArg, _arguments, P, generator) {\r\n        return new (P || (P = Promise))(function (resolve, reject) {\r\n            function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n            function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n            function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n        });\r\n    }\r\n\r\n    function __generator$1(thisArg, body) {\r\n        var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n        return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n        function verb(n) { return function (v) { return step([n, v]); }; }\r\n        function step(op) {\r\n            if (f) throw new TypeError(\"Generator is already executing.\");\r\n            while (_) try {\r\n                if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n                if (y = 0, t) op = [op[0] & 2, t.value];\r\n                switch (op[0]) {\r\n                    case 0: case 1: t = op; break;\r\n                    case 4: _.label++; return { value: op[1], done: false };\r\n                    case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                    case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                    default:\r\n                        if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                        if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                        if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                        if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                        if (t[2]) _.ops.pop();\r\n                        _.trys.pop(); continue;\r\n                }\r\n                op = body.call(thisArg, _);\r\n            } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n            if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n        }\r\n    }\r\n\r\n    function __spreadArrays() {\r\n        for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n        for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n            for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n                r[k] = a[j];\r\n        return r;\r\n    }\n\n    var MetricTypes = {\r\n        STRING: 1,\r\n        NUMBER: 2,\r\n        TIMESTAMP: 3,\r\n        OBJECT: 4\r\n    };\n\n    function getMetricTypeByValue(metric) {\r\n        if (metric.type === MetricTypes.TIMESTAMP) {\r\n            return \"timestamp\";\r\n        }\r\n        else if (metric.type === MetricTypes.NUMBER) {\r\n            return \"number\";\r\n        }\r\n        else if (metric.type === MetricTypes.STRING) {\r\n            return \"string\";\r\n        }\r\n        else if (metric.type === MetricTypes.OBJECT) {\r\n            return \"object\";\r\n        }\r\n        return \"unknown\";\r\n    }\r\n    function getTypeByValue(value) {\r\n        if (value.constructor === Date) {\r\n            return \"timestamp\";\r\n        }\r\n        else if (typeof value === \"number\") {\r\n            return \"number\";\r\n        }\r\n        else if (typeof value === \"string\") {\r\n            return \"string\";\r\n        }\r\n        else if (typeof value === \"object\") {\r\n            return \"object\";\r\n        }\r\n        else {\r\n            return \"string\";\r\n        }\r\n    }\r\n    function serializeMetric(metric) {\r\n        var serializedMetrics = {};\r\n        var type = getMetricTypeByValue(metric);\r\n        if (type === \"object\") {\r\n            var values = Object.keys(metric.value).reduce(function (memo, key) {\r\n                var innerType = getTypeByValue(metric.value[key]);\r\n                if (innerType === \"object\") {\r\n                    var composite = defineNestedComposite(metric.value[key]);\r\n                    memo[key] = {\r\n                        type: \"object\",\r\n                        description: \"\",\r\n                        context: {},\r\n                        composite: composite,\r\n                    };\r\n                }\r\n                else {\r\n                    memo[key] = {\r\n                        type: innerType,\r\n                        description: \"\",\r\n                        context: {},\r\n                    };\r\n                }\r\n                return memo;\r\n            }, {});\r\n            serializedMetrics.composite = values;\r\n        }\r\n        serializedMetrics.name = normalizeMetricName(metric.path.join(\"/\") + \"/\" + metric.name);\r\n        serializedMetrics.type = type;\r\n        serializedMetrics.description = metric.description;\r\n        serializedMetrics.context = {};\r\n        return serializedMetrics;\r\n    }\r\n    function defineNestedComposite(values) {\r\n        return Object.keys(values).reduce(function (memo, key) {\r\n            var type = getTypeByValue(values[key]);\r\n            if (type === \"object\") {\r\n                memo[key] = {\r\n                    type: \"object\",\r\n                    description: \"\",\r\n                    context: {},\r\n                    composite: defineNestedComposite(values[key]),\r\n                };\r\n            }\r\n            else {\r\n                memo[key] = {\r\n                    type: type,\r\n                    description: \"\",\r\n                    context: {},\r\n                };\r\n            }\r\n            return memo;\r\n        }, {});\r\n    }\r\n    function normalizeMetricName(name) {\r\n        if (typeof name !== \"undefined\" && name.length > 0 && name[0] !== \"/\") {\r\n            return \"/\" + name;\r\n        }\r\n        else {\r\n            return name;\r\n        }\r\n    }\r\n    function getMetricValueByType(metric) {\r\n        var type = getMetricTypeByValue(metric);\r\n        if (type === \"timestamp\") {\r\n            return Date.now();\r\n        }\r\n        else {\r\n            return publishNestedComposite(metric.value);\r\n        }\r\n    }\r\n    function publishNestedComposite(values) {\r\n        if (typeof values !== \"object\") {\r\n            return values;\r\n        }\r\n        return Object.keys(values).reduce(function (memo, key) {\r\n            var value = values[key];\r\n            if (typeof value === \"object\" && value.constructor !== Date) {\r\n                memo[key] = publishNestedComposite(value);\r\n            }\r\n            else if (value.constructor === Date) {\r\n                memo[key] = new Date(value).getTime();\r\n            }\r\n            else if (value.constructor === Boolean) {\r\n                memo[key] = value.toString();\r\n            }\r\n            else {\r\n                memo[key] = value;\r\n            }\r\n            return memo;\r\n        }, {});\r\n    }\r\n    function flatten(arr) {\r\n        return arr.reduce(function (flat, toFlatten) {\r\n            return flat.concat(Array.isArray(toFlatten) ? flatten(toFlatten) : toFlatten);\r\n        }, []);\r\n    }\r\n    function getHighestState(arr) {\r\n        return arr.sort(function (a, b) {\r\n            if (!a.state) {\r\n                return 1;\r\n            }\r\n            if (!b.state) {\r\n                return -1;\r\n            }\r\n            return b.state - a.state;\r\n        })[0];\r\n    }\r\n    function aggregateDescription(arr) {\r\n        var msg = \"\";\r\n        arr.forEach(function (m, idx, a) {\r\n            var path = m.path.join(\".\");\r\n            if (idx === a.length - 1) {\r\n                msg += path + \".\" + m.name + \": \" + m.description;\r\n            }\r\n            else {\r\n                msg += path + \".\" + m.name + \": \" + m.description + \",\";\r\n            }\r\n        });\r\n        if (msg.length > 100) {\r\n            return msg.slice(0, 100) + \"...\";\r\n        }\r\n        else {\r\n            return msg;\r\n        }\r\n    }\r\n    function composeMsgForRootStateMetric(system) {\r\n        var aggregatedState = system.root.getAggregateState();\r\n        var merged = flatten(aggregatedState);\r\n        var highestState = getHighestState(merged);\r\n        var aggregateDesc = aggregateDescription(merged);\r\n        return {\r\n            description: aggregateDesc,\r\n            value: highestState.state,\r\n        };\r\n    }\n\n    function gw3 (connection, config) {\r\n        var _this = this;\r\n        if (!connection || typeof connection !== \"object\") {\r\n            throw new Error(\"Connection is required parameter\");\r\n        }\r\n        var joinPromise;\r\n        var session;\r\n        var init = function (repo) {\r\n            var resolveReadyPromise;\r\n            joinPromise = new Promise(function (resolve) {\r\n                resolveReadyPromise = resolve;\r\n            });\r\n            session = connection.domain(\"metrics\");\r\n            session.onJoined(function (reconnect) {\r\n                if (!reconnect && resolveReadyPromise) {\r\n                    resolveReadyPromise();\r\n                    resolveReadyPromise = undefined;\r\n                }\r\n                var rootStateMetric = {\r\n                    name: \"/State\",\r\n                    type: \"object\",\r\n                    composite: {\r\n                        Description: {\r\n                            type: \"string\",\r\n                            description: \"\",\r\n                        },\r\n                        Value: {\r\n                            type: \"number\",\r\n                            description: \"\",\r\n                        },\r\n                    },\r\n                    description: \"System state\",\r\n                    context: {},\r\n                };\r\n                var defineRootMetricsMsg = {\r\n                    type: \"define\",\r\n                    metrics: [rootStateMetric],\r\n                };\r\n                session.send(defineRootMetricsMsg);\r\n                if (reconnect) {\r\n                    replayRepo(repo);\r\n                }\r\n            });\r\n            session.join({\r\n                system: config.system,\r\n                service: config.service,\r\n                instance: config.instance\r\n            });\r\n        };\r\n        var replayRepo = function (repo) {\r\n            replaySystem(repo.root);\r\n        };\r\n        var replaySystem = function (system) {\r\n            createSystem(system);\r\n            system.metrics.forEach(function (m) {\r\n                createMetric(m);\r\n            });\r\n            system.subSystems.forEach(function (ss) {\r\n                replaySystem(ss);\r\n            });\r\n        };\r\n        var createSystem = function (system) { return __awaiter$1(_this, void 0, void 0, function () {\r\n            var metric, createMetricsMsg;\r\n            return __generator$1(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (system.parent === undefined) {\r\n                            return [2];\r\n                        }\r\n                        return [4, joinPromise];\r\n                    case 1:\r\n                        _a.sent();\r\n                        metric = {\r\n                            name: normalizeMetricName(system.path.join(\"/\") + \"/\" + system.name + \"/State\"),\r\n                            type: \"object\",\r\n                            composite: {\r\n                                Description: {\r\n                                    type: \"string\",\r\n                                    description: \"\",\r\n                                },\r\n                                Value: {\r\n                                    type: \"number\",\r\n                                    description: \"\",\r\n                                },\r\n                            },\r\n                            description: \"System state\",\r\n                            context: {},\r\n                        };\r\n                        createMetricsMsg = {\r\n                            type: \"define\",\r\n                            metrics: [metric],\r\n                        };\r\n                        session.send(createMetricsMsg);\r\n                        return [2];\r\n                }\r\n            });\r\n        }); };\r\n        var updateSystem = function (system, state) { return __awaiter$1(_this, void 0, void 0, function () {\r\n            var shadowedUpdateMetric, stateObj, rootMetric;\r\n            return __generator$1(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4, joinPromise];\r\n                    case 1:\r\n                        _a.sent();\r\n                        shadowedUpdateMetric = {\r\n                            type: \"publish\",\r\n                            values: [{\r\n                                    name: normalizeMetricName(system.path.join(\"/\") + \"/\" + system.name + \"/State\"),\r\n                                    value: {\r\n                                        Description: state.description,\r\n                                        Value: state.state,\r\n                                    },\r\n                                    timestamp: Date.now(),\r\n                                }],\r\n                        };\r\n                        session.send(shadowedUpdateMetric);\r\n                        stateObj = composeMsgForRootStateMetric(system);\r\n                        rootMetric = {\r\n                            type: \"publish\",\r\n                            peer_id: connection.peerId,\r\n                            values: [{\r\n                                    name: \"/State\",\r\n                                    value: {\r\n                                        Description: stateObj.description,\r\n                                        Value: stateObj.value,\r\n                                    },\r\n                                    timestamp: Date.now(),\r\n                                }],\r\n                        };\r\n                        session.send(rootMetric);\r\n                        return [2];\r\n                }\r\n            });\r\n        }); };\r\n        var createMetric = function (metric) { return __awaiter$1(_this, void 0, void 0, function () {\r\n            var metricClone, m, createMetricsMsg;\r\n            return __generator$1(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        metricClone = cloneMetric(metric);\r\n                        return [4, joinPromise];\r\n                    case 1:\r\n                        _a.sent();\r\n                        m = serializeMetric(metricClone);\r\n                        createMetricsMsg = {\r\n                            type: \"define\",\r\n                            metrics: [m],\r\n                        };\r\n                        session.send(createMetricsMsg);\r\n                        if (typeof metricClone.value !== \"undefined\") {\r\n                            updateMetricCore(metricClone);\r\n                        }\r\n                        return [2];\r\n                }\r\n            });\r\n        }); };\r\n        var updateMetric = function (metric) { return __awaiter$1(_this, void 0, void 0, function () {\r\n            var metricClone;\r\n            return __generator$1(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        metricClone = cloneMetric(metric);\r\n                        return [4, joinPromise];\r\n                    case 1:\r\n                        _a.sent();\r\n                        updateMetricCore(metricClone);\r\n                        return [2];\r\n                }\r\n            });\r\n        }); };\r\n        var updateMetricCore = function (metric) {\r\n            if (canUpdate()) {\r\n                var value = getMetricValueByType(metric);\r\n                var publishMetricsMsg = {\r\n                    type: \"publish\",\r\n                    values: [{\r\n                            name: normalizeMetricName(metric.path.join(\"/\") + \"/\" + metric.name),\r\n                            value: value,\r\n                            timestamp: Date.now(),\r\n                        }],\r\n                };\r\n                return session.sendFireAndForget(publishMetricsMsg);\r\n            }\r\n            return Promise.resolve();\r\n        };\r\n        var cloneMetric = function (metric) {\r\n            var metricClone = __assign$1({}, metric);\r\n            if (typeof metric.value === \"object\" && metric.value !== null) {\r\n                metricClone.value = __assign$1({}, metric.value);\r\n            }\r\n            return metricClone;\r\n        };\r\n        var canUpdate = function () {\r\n            var _a;\r\n            try {\r\n                var func = (_a = config.canUpdateMetric) !== null && _a !== void 0 ? _a : (function () { return true; });\r\n                return func();\r\n            }\r\n            catch (_b) {\r\n                return true;\r\n            }\r\n        };\r\n        return {\r\n            init: init,\r\n            createSystem: createSystem,\r\n            updateSystem: updateSystem,\r\n            createMetric: createMetric,\r\n            updateMetric: updateMetric,\r\n        };\r\n    }\n\n    var Helpers = {\r\n        validate: function (definition, parent, transport) {\r\n            if (definition === null || typeof definition !== \"object\") {\r\n                throw new Error(\"Missing definition\");\r\n            }\r\n            if (parent === null || typeof parent !== \"object\") {\r\n                throw new Error(\"Missing parent\");\r\n            }\r\n            if (transport === null || typeof transport !== \"object\") {\r\n                throw new Error(\"Missing transport\");\r\n            }\r\n        },\r\n    };\n\n    var BaseMetric = (function () {\r\n        function BaseMetric(definition, system, transport, value, type) {\r\n            this.definition = definition;\r\n            this.system = system;\r\n            this.transport = transport;\r\n            this.value = value;\r\n            this.type = type;\r\n            this.path = [];\r\n            Helpers.validate(definition, system, transport);\r\n            this.path = system.path.slice(0);\r\n            this.path.push(system.name);\r\n            this.name = definition.name;\r\n            this.description = definition.description;\r\n            transport.createMetric(this);\r\n        }\r\n        Object.defineProperty(BaseMetric.prototype, \"repo\", {\r\n            get: function () {\r\n                var _a;\r\n                return (_a = this.system) === null || _a === void 0 ? void 0 : _a.repo;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(BaseMetric.prototype, \"id\", {\r\n            get: function () { return this.system.path + \"/\" + name; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        BaseMetric.prototype.update = function (newValue) {\r\n            this.value = newValue;\r\n            return this.transport.updateMetric(this);\r\n        };\r\n        return BaseMetric;\r\n    }());\n\n    var NumberMetric = (function (_super) {\r\n        __extends$1(NumberMetric, _super);\r\n        function NumberMetric(definition, system, transport, value) {\r\n            return _super.call(this, definition, system, transport, value, MetricTypes.NUMBER) || this;\r\n        }\r\n        NumberMetric.prototype.incrementBy = function (num) {\r\n            this.update(this.value + num);\r\n        };\r\n        NumberMetric.prototype.increment = function () {\r\n            this.incrementBy(1);\r\n        };\r\n        NumberMetric.prototype.decrement = function () {\r\n            this.incrementBy(-1);\r\n        };\r\n        NumberMetric.prototype.decrementBy = function (num) {\r\n            this.incrementBy(num * -1);\r\n        };\r\n        return NumberMetric;\r\n    }(BaseMetric));\n\n    var ObjectMetric = (function (_super) {\r\n        __extends$1(ObjectMetric, _super);\r\n        function ObjectMetric(definition, system, transport, value) {\r\n            return _super.call(this, definition, system, transport, value, MetricTypes.OBJECT) || this;\r\n        }\r\n        ObjectMetric.prototype.update = function (newValue) {\r\n            this.mergeValues(newValue);\r\n            return this.transport.updateMetric(this);\r\n        };\r\n        ObjectMetric.prototype.mergeValues = function (values) {\r\n            var _this = this;\r\n            return Object.keys(this.value).forEach(function (k) {\r\n                if (typeof values[k] !== \"undefined\") {\r\n                    _this.value[k] = values[k];\r\n                }\r\n            });\r\n        };\r\n        return ObjectMetric;\r\n    }(BaseMetric));\n\n    var StringMetric = (function (_super) {\r\n        __extends$1(StringMetric, _super);\r\n        function StringMetric(definition, system, transport, value) {\r\n            return _super.call(this, definition, system, transport, value, MetricTypes.STRING) || this;\r\n        }\r\n        return StringMetric;\r\n    }(BaseMetric));\n\n    var TimestampMetric = (function (_super) {\r\n        __extends$1(TimestampMetric, _super);\r\n        function TimestampMetric(definition, system, transport, value) {\r\n            return _super.call(this, definition, system, transport, value, MetricTypes.TIMESTAMP) || this;\r\n        }\r\n        TimestampMetric.prototype.now = function () {\r\n            this.update(new Date());\r\n        };\r\n        return TimestampMetric;\r\n    }(BaseMetric));\n\n    function system(name, repo, protocol, parent, description) {\r\n        if (!repo) {\r\n            throw new Error(\"Repository is required\");\r\n        }\r\n        if (!protocol) {\r\n            throw new Error(\"Transport is required\");\r\n        }\r\n        var _transport = protocol;\r\n        var _name = name;\r\n        var _description = description || \"\";\r\n        var _repo = repo;\r\n        var _parent = parent;\r\n        var _path = _buildPath(parent);\r\n        var _state = {};\r\n        var id = _arrayToString(_path, \"/\") + name;\r\n        var root = repo.root;\r\n        var _subSystems = [];\r\n        var _metrics = [];\r\n        function subSystem(nameSystem, descriptionSystem) {\r\n            if (!nameSystem || nameSystem.length === 0) {\r\n                throw new Error(\"name is required\");\r\n            }\r\n            var match = _subSystems.filter(function (s) { return s.name === nameSystem; });\r\n            if (match.length > 0) {\r\n                return match[0];\r\n            }\r\n            var _system = system(nameSystem, _repo, _transport, me, descriptionSystem);\r\n            _subSystems.push(_system);\r\n            return _system;\r\n        }\r\n        function setState(state, stateDescription) {\r\n            _state = { state: state, description: stateDescription };\r\n            _transport.updateSystem(me, _state);\r\n        }\r\n        function stringMetric(definition, value) {\r\n            return _getOrCreateMetric(definition, MetricTypes.STRING, value, function (metricDef) { return new StringMetric(metricDef, me, _transport, value); });\r\n        }\r\n        function numberMetric(definition, value) {\r\n            return _getOrCreateMetric(definition, MetricTypes.NUMBER, value, function (metricDef) { return new NumberMetric(metricDef, me, _transport, value); });\r\n        }\r\n        function objectMetric(definition, value) {\r\n            return _getOrCreateMetric(definition, MetricTypes.OBJECT, value, function (metricDef) { return new ObjectMetric(metricDef, me, _transport, value); });\r\n        }\r\n        function timestampMetric(definition, value) {\r\n            return _getOrCreateMetric(definition, MetricTypes.TIMESTAMP, value, function (metricDef) { return new TimestampMetric(metricDef, me, _transport, value); });\r\n        }\r\n        function _getOrCreateMetric(metricObject, expectedType, value, createMetric) {\r\n            var metricDef = { name: \"\" };\r\n            if (typeof metricObject === \"string\") {\r\n                metricDef = { name: metricObject };\r\n            }\r\n            else {\r\n                metricDef = metricObject;\r\n            }\r\n            var matching = _metrics.filter(function (shadowedMetric) { return shadowedMetric.name === metricDef.name; });\r\n            if (matching.length > 0) {\r\n                var existing = matching[0];\r\n                if (existing.type !== expectedType) {\r\n                    throw new Error(\"A metric named \" + metricDef.name + \" is already defined with different type.\");\r\n                }\r\n                if (typeof value !== \"undefined\") {\r\n                    existing\r\n                        .update(value)\r\n                        .catch(function () { });\r\n                }\r\n                return existing;\r\n            }\r\n            var metric = createMetric(metricDef);\r\n            _metrics.push(metric);\r\n            return metric;\r\n        }\r\n        function _buildPath(shadowedSystem) {\r\n            if (!shadowedSystem || !shadowedSystem.parent) {\r\n                return [];\r\n            }\r\n            var path = _buildPath(shadowedSystem.parent);\r\n            path.push(shadowedSystem.name);\r\n            return path;\r\n        }\r\n        function _arrayToString(path, separator) {\r\n            return ((path && path.length > 0) ? path.join(separator) : \"\");\r\n        }\r\n        function getAggregateState() {\r\n            var aggState = [];\r\n            if (Object.keys(_state).length > 0) {\r\n                aggState.push({\r\n                    name: _name,\r\n                    path: _path,\r\n                    state: _state.state,\r\n                    description: _state.description,\r\n                });\r\n            }\r\n            _subSystems.forEach(function (shadowedSubSystem) {\r\n                var result = shadowedSubSystem.getAggregateState();\r\n                if (result.length > 0) {\r\n                    aggState.push.apply(aggState, result);\r\n                }\r\n            });\r\n            return aggState;\r\n        }\r\n        var me = {\r\n            get name() {\r\n                return _name;\r\n            },\r\n            get description() {\r\n                return _description;\r\n            },\r\n            get repo() {\r\n                return _repo;\r\n            },\r\n            get parent() {\r\n                return _parent;\r\n            },\r\n            path: _path,\r\n            id: id,\r\n            root: root,\r\n            get subSystems() {\r\n                return _subSystems;\r\n            },\r\n            get metrics() {\r\n                return _metrics;\r\n            },\r\n            subSystem: subSystem,\r\n            getState: function () {\r\n                return _state;\r\n            },\r\n            setState: setState,\r\n            stringMetric: stringMetric,\r\n            timestampMetric: timestampMetric,\r\n            objectMetric: objectMetric,\r\n            numberMetric: numberMetric,\r\n            getAggregateState: getAggregateState,\r\n        };\r\n        _transport.createSystem(me);\r\n        return me;\r\n    }\n\n    var Repository = (function () {\r\n        function Repository(options, protocol) {\r\n            protocol.init(this);\r\n            this.root = system(\"\", this, protocol);\r\n            this.addSystemMetrics(this.root, options.clickStream || options.clickStream === undefined);\r\n        }\r\n        Repository.prototype.addSystemMetrics = function (rootSystem, useClickStream) {\r\n            if (typeof navigator !== \"undefined\") {\r\n                rootSystem.stringMetric(\"UserAgent\", navigator.userAgent);\r\n            }\r\n            if (useClickStream && typeof document !== \"undefined\") {\r\n                var clickStream_1 = rootSystem.subSystem(\"ClickStream\");\r\n                var documentClickHandler = function (e) {\r\n                    if (!e.target) {\r\n                        return;\r\n                    }\r\n                    var target = e.target;\r\n                    clickStream_1.objectMetric(\"LastBrowserEvent\", {\r\n                        type: \"click\",\r\n                        timestamp: new Date(),\r\n                        target: {\r\n                            className: e.target ? target.className : \"\",\r\n                            id: target.id,\r\n                            type: \"<\" + target.tagName.toLowerCase() + \">\",\r\n                            href: target.href || \"\",\r\n                        },\r\n                    });\r\n                };\r\n                clickStream_1.objectMetric(\"Page\", {\r\n                    title: document.title,\r\n                    page: window.location.href,\r\n                });\r\n                if (document.addEventListener) {\r\n                    document.addEventListener(\"click\", documentClickHandler);\r\n                }\r\n                else {\r\n                    document.attachEvent(\"onclick\", documentClickHandler);\r\n                }\r\n            }\r\n            var startTime = rootSystem.stringMetric(\"StartTime\", (new Date()).toString());\r\n            var urlMetric = rootSystem.stringMetric(\"StartURL\", \"\");\r\n            var appNameMetric = rootSystem.stringMetric(\"AppName\", \"\");\r\n            if (typeof window !== \"undefined\") {\r\n                if (typeof window.location !== \"undefined\") {\r\n                    var startUrl = window.location.href;\r\n                    urlMetric.update(startUrl);\r\n                }\r\n                if (typeof window.glue42gd !== \"undefined\") {\r\n                    appNameMetric.update(window.glue42gd.appName);\r\n                }\r\n            }\r\n        };\r\n        return Repository;\r\n    }());\n\n    var NullProtocol = (function () {\r\n        function NullProtocol() {\r\n        }\r\n        NullProtocol.prototype.init = function (repo) {\r\n        };\r\n        NullProtocol.prototype.createSystem = function (system) {\r\n            return Promise.resolve();\r\n        };\r\n        NullProtocol.prototype.updateSystem = function (metric, state) {\r\n            return Promise.resolve();\r\n        };\r\n        NullProtocol.prototype.createMetric = function (metric) {\r\n            return Promise.resolve();\r\n        };\r\n        NullProtocol.prototype.updateMetric = function (metric) {\r\n            return Promise.resolve();\r\n        };\r\n        return NullProtocol;\r\n    }());\n\n    var PerfTracker = (function () {\r\n        function PerfTracker(api, initialPublishTimeout, publishInterval) {\r\n            this.api = api;\r\n            this.lastCount = 0;\r\n            this.initialPublishTimeout = 10 * 1000;\r\n            this.publishInterval = 60 * 1000;\r\n            this.initialPublishTimeout = initialPublishTimeout !== null && initialPublishTimeout !== void 0 ? initialPublishTimeout : this.initialPublishTimeout;\r\n            this.publishInterval = publishInterval !== null && publishInterval !== void 0 ? publishInterval : this.publishInterval;\r\n            this.scheduleCollection();\r\n            this.system = this.api.subSystem(\"performance\", \"Performance data published by the web application\");\r\n        }\r\n        PerfTracker.prototype.scheduleCollection = function () {\r\n            var _this = this;\r\n            setTimeout(function () {\r\n                _this.collect();\r\n                setInterval(function () {\r\n                    _this.collect();\r\n                }, _this.publishInterval);\r\n            }, this.initialPublishTimeout);\r\n        };\r\n        PerfTracker.prototype.collect = function () {\r\n            try {\r\n                this.collectMemory();\r\n                this.collectEntries();\r\n            }\r\n            catch (_a) {\r\n            }\r\n        };\r\n        PerfTracker.prototype.collectMemory = function () {\r\n            var memory = window.performance.memory;\r\n            this.system.stringMetric(\"memory\", JSON.stringify({\r\n                totalJSHeapSize: memory.totalJSHeapSize,\r\n                usedJSHeapSize: memory.usedJSHeapSize\r\n            }));\r\n        };\r\n        PerfTracker.prototype.collectEntries = function () {\r\n            var allEntries = window.performance.getEntries();\r\n            if (allEntries.length <= this.lastCount) {\r\n                return;\r\n            }\r\n            this.lastCount = allEntries.length;\r\n            this.system.stringMetric(\"entries\", JSON.stringify(allEntries));\r\n        };\r\n        return PerfTracker;\r\n    }());\n\n    var metrics = (function (options) {\r\n        var protocol;\r\n        if (!options.connection || typeof options.connection !== \"object\") {\r\n            protocol = new NullProtocol();\r\n        }\r\n        else {\r\n            protocol = gw3(options.connection, options);\r\n        }\r\n        var repo = new Repository(options, protocol);\r\n        var rootSystem = repo.root;\r\n        if (!options.disableAutoAppSystem) {\r\n            rootSystem = rootSystem.subSystem(\"App\");\r\n        }\r\n        var api = addFAVSupport(rootSystem);\r\n        initPerf(api, options.pagePerformanceMetrics);\r\n        return api;\r\n    });\r\n    var perf;\r\n    function initPerf(api, config) {\r\n        var _a, _b;\r\n        if (typeof window === \"undefined\") {\r\n            return;\r\n        }\r\n        var perfConfig = (_b = (_a = window === null || window === void 0 ? void 0 : window.glue42gd) === null || _a === void 0 ? void 0 : _a.metrics) === null || _b === void 0 ? void 0 : _b.pagePerformanceMetrics;\r\n        if (perfConfig) {\r\n            config = perfConfig;\r\n        }\r\n        if (config === null || config === void 0 ? void 0 : config.enabled) {\r\n            perf = new PerfTracker(api, config.initialPublishTimeout, config.publishInterval);\r\n        }\r\n    }\r\n    function addFAVSupport(system) {\r\n        var reportingSystem = system.subSystem(\"reporting\");\r\n        var def = {\r\n            name: \"features\"\r\n        };\r\n        var featureMetric;\r\n        var featureMetricFunc = function (name, action, payload) {\r\n            if (typeof name === \"undefined\" || name === \"\") {\r\n                throw new Error(\"name is mandatory\");\r\n            }\r\n            else if (typeof action === \"undefined\" || action === \"\") {\r\n                throw new Error(\"action is mandatory\");\r\n            }\r\n            else if (typeof payload === \"undefined\" || payload === \"\") {\r\n                throw new Error(\"payload is mandatory\");\r\n            }\r\n            if (!featureMetric) {\r\n                featureMetric = reportingSystem.objectMetric(def, { name: name, action: action, payload: payload });\r\n            }\r\n            else {\r\n                featureMetric.update({\r\n                    name: name,\r\n                    action: action,\r\n                    payload: payload\r\n                });\r\n            }\r\n        };\r\n        system.featureMetric = featureMetricFunc;\r\n        return system;\r\n    }\n\n    function createRegistry(options) {\r\n        if (options && options.errorHandling\r\n            && typeof options.errorHandling !== \"function\"\r\n            && options.errorHandling !== \"log\"\r\n            && options.errorHandling !== \"silent\"\r\n            && options.errorHandling !== \"throw\") {\r\n            throw new Error(\"Invalid options passed to createRegistry. Prop errorHandling should be [\\\"log\\\" | \\\"silent\\\" | \\\"throw\\\" | (err) => void], but \" + typeof options.errorHandling + \" was passed\");\r\n        }\r\n        var _userErrorHandler = options && typeof options.errorHandling === \"function\" && options.errorHandling;\r\n        var callbacks = {};\r\n        function add(key, callback, replayArgumentsArr) {\r\n            var callbacksForKey = callbacks[key];\r\n            if (!callbacksForKey) {\r\n                callbacksForKey = [];\r\n                callbacks[key] = callbacksForKey;\r\n            }\r\n            callbacksForKey.push(callback);\r\n            if (replayArgumentsArr) {\r\n                setTimeout(function () {\r\n                    replayArgumentsArr.forEach(function (replayArgument) {\r\n                        var _a;\r\n                        if ((_a = callbacks[key]) === null || _a === void 0 ? void 0 : _a.includes(callback)) {\r\n                            try {\r\n                                if (Array.isArray(replayArgument)) {\r\n                                    callback.apply(undefined, replayArgument);\r\n                                }\r\n                                else {\r\n                                    callback.apply(undefined, [replayArgument]);\r\n                                }\r\n                            }\r\n                            catch (err) {\r\n                                _handleError(err, key);\r\n                            }\r\n                        }\r\n                    });\r\n                }, 0);\r\n            }\r\n            return function () {\r\n                var allForKey = callbacks[key];\r\n                if (!allForKey) {\r\n                    return;\r\n                }\r\n                allForKey = allForKey.reduce(function (acc, element, index) {\r\n                    if (!(element === callback && acc.length === index)) {\r\n                        acc.push(element);\r\n                    }\r\n                    return acc;\r\n                }, []);\r\n                if (allForKey.length === 0) {\r\n                    delete callbacks[key];\r\n                }\r\n                else {\r\n                    callbacks[key] = allForKey;\r\n                }\r\n            };\r\n        }\r\n        function execute(key) {\r\n            var argumentsArr = [];\r\n            for (var _i = 1; _i < arguments.length; _i++) {\r\n                argumentsArr[_i - 1] = arguments[_i];\r\n            }\r\n            var callbacksForKey = callbacks[key];\r\n            if (!callbacksForKey || callbacksForKey.length === 0) {\r\n                return [];\r\n            }\r\n            var results = [];\r\n            callbacksForKey.forEach(function (callback) {\r\n                try {\r\n                    var result = callback.apply(undefined, argumentsArr);\r\n                    results.push(result);\r\n                }\r\n                catch (err) {\r\n                    results.push(undefined);\r\n                    _handleError(err, key);\r\n                }\r\n            });\r\n            return results;\r\n        }\r\n        function _handleError(exceptionArtifact, key) {\r\n            var errParam = exceptionArtifact instanceof Error ? exceptionArtifact : new Error(exceptionArtifact);\r\n            if (_userErrorHandler) {\r\n                _userErrorHandler(errParam);\r\n                return;\r\n            }\r\n            var msg = \"[ERROR] callback-registry: User callback for key \\\"\" + key + \"\\\" failed: \" + errParam.stack;\r\n            if (options) {\r\n                switch (options.errorHandling) {\r\n                    case \"log\":\r\n                        return console.error(msg);\r\n                    case \"silent\":\r\n                        return;\r\n                    case \"throw\":\r\n                        throw new Error(msg);\r\n                }\r\n            }\r\n            console.error(msg);\r\n        }\r\n        function clear() {\r\n            callbacks = {};\r\n        }\r\n        function clearKey(key) {\r\n            var callbacksForKey = callbacks[key];\r\n            if (!callbacksForKey) {\r\n                return;\r\n            }\r\n            delete callbacks[key];\r\n        }\r\n        return {\r\n            add: add,\r\n            execute: execute,\r\n            clear: clear,\r\n            clearKey: clearKey\r\n        };\r\n    }\r\n    createRegistry.default = createRegistry;\r\n    var lib = createRegistry;\n\n    var InProcTransport = (function () {\r\n        function InProcTransport(settings, logger) {\r\n            var _this = this;\r\n            this.registry = lib();\r\n            this.gw = settings.facade;\r\n            this.gw.connect(function (_client, message) {\r\n                _this.messageHandler(message);\r\n            }).then(function (client) {\r\n                _this.client = client;\r\n            });\r\n        }\r\n        Object.defineProperty(InProcTransport.prototype, \"isObjectBasedTransport\", {\r\n            get: function () {\r\n                return true;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        InProcTransport.prototype.sendObject = function (msg) {\r\n            if (this.client) {\r\n                this.client.send(msg);\r\n                return Promise.resolve(undefined);\r\n            }\r\n            else {\r\n                return Promise.reject(\"not connected\");\r\n            }\r\n        };\r\n        InProcTransport.prototype.send = function (_msg) {\r\n            return Promise.reject(\"not supported\");\r\n        };\r\n        InProcTransport.prototype.onMessage = function (callback) {\r\n            return this.registry.add(\"onMessage\", callback);\r\n        };\r\n        InProcTransport.prototype.onConnectedChanged = function (callback) {\r\n            callback(true);\r\n        };\r\n        InProcTransport.prototype.close = function () {\r\n            return Promise.resolve();\r\n        };\r\n        InProcTransport.prototype.open = function () {\r\n            return Promise.resolve();\r\n        };\r\n        InProcTransport.prototype.name = function () {\r\n            return \"in-memory\";\r\n        };\r\n        InProcTransport.prototype.reconnect = function () {\r\n            return Promise.resolve();\r\n        };\r\n        InProcTransport.prototype.messageHandler = function (msg) {\r\n            this.registry.execute(\"onMessage\", msg);\r\n        };\r\n        return InProcTransport;\r\n    }());\n\n    var SharedWorkerTransport = (function () {\r\n        function SharedWorkerTransport(workerFile, logger) {\r\n            var _this = this;\r\n            this.logger = logger;\r\n            this.registry = lib();\r\n            this.worker = new SharedWorker(workerFile);\r\n            this.worker.port.onmessage = function (e) {\r\n                _this.messageHandler(e.data);\r\n            };\r\n        }\r\n        Object.defineProperty(SharedWorkerTransport.prototype, \"isObjectBasedTransport\", {\r\n            get: function () {\r\n                return true;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        SharedWorkerTransport.prototype.sendObject = function (msg) {\r\n            this.worker.port.postMessage(msg);\r\n            return Promise.resolve();\r\n        };\r\n        SharedWorkerTransport.prototype.send = function (_msg) {\r\n            return Promise.reject(\"not supported\");\r\n        };\r\n        SharedWorkerTransport.prototype.onMessage = function (callback) {\r\n            return this.registry.add(\"onMessage\", callback);\r\n        };\r\n        SharedWorkerTransport.prototype.onConnectedChanged = function (callback) {\r\n            callback(true);\r\n        };\r\n        SharedWorkerTransport.prototype.close = function () {\r\n            return Promise.resolve();\r\n        };\r\n        SharedWorkerTransport.prototype.open = function () {\r\n            return Promise.resolve();\r\n        };\r\n        SharedWorkerTransport.prototype.name = function () {\r\n            return \"shared-worker\";\r\n        };\r\n        SharedWorkerTransport.prototype.reconnect = function () {\r\n            return Promise.resolve();\r\n        };\r\n        SharedWorkerTransport.prototype.messageHandler = function (msg) {\r\n            this.registry.execute(\"onMessage\", msg);\r\n        };\r\n        return SharedWorkerTransport;\r\n    }());\n\n    var Utils = (function () {\r\n        function Utils() {\r\n        }\r\n        Utils.getGDMajorVersion = function () {\r\n            if (typeof window === \"undefined\") {\r\n                return undefined;\r\n            }\r\n            if (!window.glueDesktop) {\r\n                return undefined;\r\n            }\r\n            if (!window.glueDesktop.version) {\r\n                return undefined;\r\n            }\r\n            var ver = Number(window.glueDesktop.version.substr(0, 1));\r\n            return isNaN(ver) ? undefined : ver;\r\n        };\r\n        Utils.isNode = function () {\r\n            if (typeof Utils._isNode !== \"undefined\") {\r\n                return Utils._isNode;\r\n            }\r\n            if (typeof window !== \"undefined\") {\r\n                Utils._isNode = false;\r\n                return false;\r\n            }\r\n            try {\r\n                Utils._isNode = Object.prototype.toString.call(global.process) === \"[object process]\";\r\n            }\r\n            catch (e) {\r\n                Utils._isNode = false;\r\n            }\r\n            return Utils._isNode;\r\n        };\r\n        return Utils;\r\n    }());\n\n    var PromiseWrapper = (function () {\r\n        function PromiseWrapper() {\r\n            var _this = this;\r\n            this.rejected = false;\r\n            this.resolved = false;\r\n            this.promise = new Promise(function (resolve, reject) {\r\n                _this.resolve = function (t) {\r\n                    _this.resolved = true;\r\n                    resolve(t);\r\n                };\r\n                _this.reject = function (err) {\r\n                    _this.rejected = true;\r\n                    reject(err);\r\n                };\r\n            });\r\n        }\r\n        PromiseWrapper.delay = function (time) {\r\n            return new Promise(function (resolve) { return setTimeout(resolve, time); });\r\n        };\r\n        Object.defineProperty(PromiseWrapper.prototype, \"ended\", {\r\n            get: function () {\r\n                return this.rejected || this.resolved;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        return PromiseWrapper;\r\n    }());\n\n    var timers = {};\r\n    function getAllTimers() {\r\n        return timers;\r\n    }\r\n    function timer (timerName) {\r\n        var existing = timers[timerName];\r\n        if (existing) {\r\n            return existing;\r\n        }\r\n        var marks = [];\r\n        function now() {\r\n            return new Date().getTime();\r\n        }\r\n        var startTime = now();\r\n        mark(\"start\", startTime);\r\n        var endTime;\r\n        var period;\r\n        function stop() {\r\n            endTime = now();\r\n            mark(\"end\", endTime);\r\n            period = endTime - startTime;\r\n            return period;\r\n        }\r\n        function mark(name, time) {\r\n            var currentTime = time !== null && time !== void 0 ? time : now();\r\n            var diff = 0;\r\n            if (marks.length > 0) {\r\n                diff = currentTime - marks[marks.length - 1].time;\r\n            }\r\n            marks.push({ name: name, time: currentTime, diff: diff });\r\n        }\r\n        var timerObj = {\r\n            get startTime() {\r\n                return startTime;\r\n            },\r\n            get endTime() {\r\n                return endTime;\r\n            },\r\n            get period() {\r\n                return period;\r\n            },\r\n            stop: stop,\r\n            mark: mark,\r\n            marks: marks\r\n        };\r\n        timers[timerName] = timerObj;\r\n        return timerObj;\r\n    }\n\n    var WebSocketConstructor = Utils.isNode() ? null : window.WebSocket;\r\n    var WS = (function () {\r\n        function WS(settings, logger) {\r\n            this.startupTimer = timer(\"connection\");\r\n            this._running = true;\r\n            this._registry = lib();\r\n            this.wsRequests = [];\r\n            this.settings = settings;\r\n            this.logger = logger;\r\n            if (!this.settings.ws) {\r\n                throw new Error(\"ws is missing\");\r\n            }\r\n        }\r\n        WS.prototype.onMessage = function (callback) {\r\n            return this._registry.add(\"onMessage\", callback);\r\n        };\r\n        WS.prototype.send = function (msg, options) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.waitForSocketConnection(function () {\r\n                    var _a;\r\n                    try {\r\n                        (_a = _this.ws) === null || _a === void 0 ? void 0 : _a.send(msg);\r\n                        resolve();\r\n                    }\r\n                    catch (e) {\r\n                        reject(e);\r\n                    }\r\n                }, reject);\r\n            });\r\n        };\r\n        WS.prototype.open = function () {\r\n            var _this = this;\r\n            this.logger.info(\"opening ws...\");\r\n            this._running = true;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.waitForSocketConnection(resolve, reject);\r\n            });\r\n        };\r\n        WS.prototype.close = function () {\r\n            this._running = false;\r\n            if (this.ws) {\r\n                this.ws.close();\r\n            }\r\n            return Promise.resolve();\r\n        };\r\n        WS.prototype.onConnectedChanged = function (callback) {\r\n            return this._registry.add(\"onConnectedChanged\", callback);\r\n        };\r\n        WS.prototype.name = function () {\r\n            return \"ws \" + this.settings.ws;\r\n        };\r\n        WS.prototype.reconnect = function () {\r\n            var _a;\r\n            (_a = this.ws) === null || _a === void 0 ? void 0 : _a.close();\r\n            var pw = new PromiseWrapper();\r\n            this.waitForSocketConnection(function () {\r\n                pw.resolve();\r\n            });\r\n            return pw.promise;\r\n        };\r\n        WS.prototype.waitForSocketConnection = function (callback, failed) {\r\n            var _a;\r\n            failed = failed !== null && failed !== void 0 ? failed : (function () { });\r\n            if (!this._running) {\r\n                failed(\"wait for socket on \" + this.settings.ws + \" failed - socket closed by user\");\r\n                return;\r\n            }\r\n            if (((_a = this.ws) === null || _a === void 0 ? void 0 : _a.readyState) === 1) {\r\n                callback();\r\n                return;\r\n            }\r\n            this.wsRequests.push({ callback: callback, failed: failed });\r\n            if (this.wsRequests.length > 1) {\r\n                return;\r\n            }\r\n            this.openSocket();\r\n        };\r\n        WS.prototype.openSocket = function (retryInterval, retriesLeft) {\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var _a;\r\n                var _this = this;\r\n                return __generator$1(this, function (_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            this.startupTimer.mark(\"opening-socket\");\r\n                            if (retryInterval === undefined) {\r\n                                retryInterval = this.settings.reconnectInterval;\r\n                            }\r\n                            if (retriesLeft !== undefined) {\r\n                                if (retriesLeft === 0) {\r\n                                    this.notifyForSocketState(\"wait for socket on \" + this.settings.ws + \" failed - no more retries left\");\r\n                                    return [2];\r\n                                }\r\n                                this.logger.debug(\"will retry \" + retriesLeft + \" more times (every \" + retryInterval + \" ms)\");\r\n                            }\r\n                            _b.label = 1;\r\n                        case 1:\r\n                            _b.trys.push([1, 3, , 4]);\r\n                            return [4, this.initiateSocket()];\r\n                        case 2:\r\n                            _b.sent();\r\n                            this.startupTimer.mark(\"socket-initiated\");\r\n                            this.notifyForSocketState();\r\n                            return [3, 4];\r\n                        case 3:\r\n                            _a = _b.sent();\r\n                            setTimeout(function () {\r\n                                var retries = retriesLeft === undefined ? undefined : retriesLeft - 1;\r\n                                _this.openSocket(retryInterval, retries);\r\n                            }, retryInterval);\r\n                            return [3, 4];\r\n                        case 4: return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        WS.prototype.initiateSocket = function () {\r\n            var _this = this;\r\n            var pw = new PromiseWrapper();\r\n            this.logger.debug(\"initiating ws to \" + this.settings.ws + \"...\");\r\n            this.ws = new WebSocketConstructor(this.settings.ws || \"\");\r\n            this.ws.onerror = function (err) {\r\n                var reason = \"\";\r\n                try {\r\n                    reason = JSON.stringify(err);\r\n                }\r\n                catch (error) {\r\n                    var seen_1 = new WeakSet();\r\n                    var replacer = function (key, value) {\r\n                        if (typeof value === \"object\" && value !== null) {\r\n                            if (seen_1.has(value)) {\r\n                                return;\r\n                            }\r\n                            seen_1.add(value);\r\n                        }\r\n                        return value;\r\n                    };\r\n                    reason = JSON.stringify(err, replacer);\r\n                }\r\n                pw.reject(\"error\");\r\n                _this.notifyStatusChanged(false, reason);\r\n            };\r\n            this.ws.onclose = function (err) {\r\n                _this.logger.info(\"ws closed \" + err);\r\n                pw.reject(\"closed\");\r\n                _this.notifyStatusChanged(false);\r\n            };\r\n            this.ws.onopen = function () {\r\n                var _a;\r\n                _this.startupTimer.mark(\"ws-opened\");\r\n                _this.logger.info(\"ws opened \" + ((_a = _this.settings.identity) === null || _a === void 0 ? void 0 : _a.application));\r\n                pw.resolve();\r\n                _this.notifyStatusChanged(true);\r\n            };\r\n            this.ws.onmessage = function (message) {\r\n                _this._registry.execute(\"onMessage\", message.data);\r\n            };\r\n            return pw.promise;\r\n        };\r\n        WS.prototype.notifyForSocketState = function (error) {\r\n            this.wsRequests.forEach(function (wsRequest) {\r\n                if (error) {\r\n                    if (wsRequest.failed) {\r\n                        wsRequest.failed(error);\r\n                    }\r\n                }\r\n                else {\r\n                    wsRequest.callback();\r\n                }\r\n            });\r\n            this.wsRequests = [];\r\n        };\r\n        WS.prototype.notifyStatusChanged = function (status, reason) {\r\n            this._registry.execute(\"onConnectedChanged\", status, reason);\r\n        };\r\n        return WS;\r\n    }());\n\n    function createCommonjsModule(fn, module) {\n    \treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n    }\n\n    // Found this seed-based random generator somewhere\n    // Based on The Central Randomizer 1.3 (C) 1997 by Paul Houle (houle@msc.cornell.edu)\n\n    var seed = 1;\n\n    /**\n     * return a random number based on a seed\n     * @param seed\n     * @returns {number}\n     */\n    function getNextValue() {\n        seed = (seed * 9301 + 49297) % 233280;\n        return seed/(233280.0);\n    }\n\n    function setSeed(_seed_) {\n        seed = _seed_;\n    }\n\n    var randomFromSeed = {\n        nextValue: getNextValue,\n        seed: setSeed\n    };\n\n    var ORIGINAL = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-';\n    var alphabet;\n    var previousSeed;\n\n    var shuffled;\n\n    function reset() {\n        shuffled = false;\n    }\n\n    function setCharacters(_alphabet_) {\n        if (!_alphabet_) {\n            if (alphabet !== ORIGINAL) {\n                alphabet = ORIGINAL;\n                reset();\n            }\n            return;\n        }\n\n        if (_alphabet_ === alphabet) {\n            return;\n        }\n\n        if (_alphabet_.length !== ORIGINAL.length) {\n            throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. You submitted ' + _alphabet_.length + ' characters: ' + _alphabet_);\n        }\n\n        var unique = _alphabet_.split('').filter(function(item, ind, arr){\n           return ind !== arr.lastIndexOf(item);\n        });\n\n        if (unique.length) {\n            throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. These characters were not unique: ' + unique.join(', '));\n        }\n\n        alphabet = _alphabet_;\n        reset();\n    }\n\n    function characters(_alphabet_) {\n        setCharacters(_alphabet_);\n        return alphabet;\n    }\n\n    function setSeed$1(seed) {\n        randomFromSeed.seed(seed);\n        if (previousSeed !== seed) {\n            reset();\n            previousSeed = seed;\n        }\n    }\n\n    function shuffle() {\n        if (!alphabet) {\n            setCharacters(ORIGINAL);\n        }\n\n        var sourceArray = alphabet.split('');\n        var targetArray = [];\n        var r = randomFromSeed.nextValue();\n        var characterIndex;\n\n        while (sourceArray.length > 0) {\n            r = randomFromSeed.nextValue();\n            characterIndex = Math.floor(r * sourceArray.length);\n            targetArray.push(sourceArray.splice(characterIndex, 1)[0]);\n        }\n        return targetArray.join('');\n    }\n\n    function getShuffled() {\n        if (shuffled) {\n            return shuffled;\n        }\n        shuffled = shuffle();\n        return shuffled;\n    }\n\n    /**\n     * lookup shuffled letter\n     * @param index\n     * @returns {string}\n     */\n    function lookup(index) {\n        var alphabetShuffled = getShuffled();\n        return alphabetShuffled[index];\n    }\n\n    var alphabet_1 = {\n        characters: characters,\n        seed: setSeed$1,\n        lookup: lookup,\n        shuffled: getShuffled\n    };\n\n    var crypto = typeof window === 'object' && (window.crypto || window.msCrypto); // IE 11 uses window.msCrypto\n\n    function randomByte() {\n        if (!crypto || !crypto.getRandomValues) {\n            return Math.floor(Math.random() * 256) & 0x30;\n        }\n        var dest = new Uint8Array(1);\n        crypto.getRandomValues(dest);\n        return dest[0] & 0x30;\n    }\n\n    var randomByteBrowser = randomByte;\n\n    function encode(lookup, number) {\n        var loopCounter = 0;\n        var done;\n\n        var str = '';\n\n        while (!done) {\n            str = str + lookup( ( (number >> (4 * loopCounter)) & 0x0f ) | randomByteBrowser() );\n            done = number < (Math.pow(16, loopCounter + 1 ) );\n            loopCounter++;\n        }\n        return str;\n    }\n\n    var encode_1 = encode;\n\n    /**\n     * Decode the id to get the version and worker\n     * Mainly for debugging and testing.\n     * @param id - the shortid-generated id.\n     */\n    function decode(id) {\n        var characters = alphabet_1.shuffled();\n        return {\n            version: characters.indexOf(id.substr(0, 1)) & 0x0f,\n            worker: characters.indexOf(id.substr(1, 1)) & 0x0f\n        };\n    }\n\n    var decode_1 = decode;\n\n    function isShortId(id) {\n        if (!id || typeof id !== 'string' || id.length < 6 ) {\n            return false;\n        }\n\n        var characters = alphabet_1.characters();\n        var len = id.length;\n        for(var i = 0; i < len;i++) {\n            if (characters.indexOf(id[i]) === -1) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    var isValid = isShortId;\n\n    var lib$1 = createCommonjsModule(function (module) {\n\n\n\n\n\n\n    // Ignore all milliseconds before a certain time to reduce the size of the date entropy without sacrificing uniqueness.\n    // This number should be updated every year or so to keep the generated id short.\n    // To regenerate `new Date() - 0` and bump the version. Always bump the version!\n    var REDUCE_TIME = 1459707606518;\n\n    // don't change unless we change the algos or REDUCE_TIME\n    // must be an integer and less than 16\n    var version = 6;\n\n    // if you are using cluster or multiple servers use this to make each instance\n    // has a unique value for worker\n    // Note: I don't know if this is automatically set when using third\n    // party cluster solutions such as pm2.\n    var clusterWorkerId =  0;\n\n    // Counter is used when shortid is called multiple times in one second.\n    var counter;\n\n    // Remember the last time shortid was called in case counter is needed.\n    var previousSeconds;\n\n    /**\n     * Generate unique id\n     * Returns string id\n     */\n    function generate() {\n\n        var str = '';\n\n        var seconds = Math.floor((Date.now() - REDUCE_TIME) * 0.001);\n\n        if (seconds === previousSeconds) {\n            counter++;\n        } else {\n            counter = 0;\n            previousSeconds = seconds;\n        }\n\n        str = str + encode_1(alphabet_1.lookup, version);\n        str = str + encode_1(alphabet_1.lookup, clusterWorkerId);\n        if (counter > 0) {\n            str = str + encode_1(alphabet_1.lookup, counter);\n        }\n        str = str + encode_1(alphabet_1.lookup, seconds);\n\n        return str;\n    }\n\n\n    /**\n     * Set the seed.\n     * Highly recommended if you don't want people to try to figure out your id schema.\n     * exposed as shortid.seed(int)\n     * @param seed Integer value to seed the random alphabet.  ALWAYS USE THE SAME SEED or you might get overlaps.\n     */\n    function seed(seedValue) {\n        alphabet_1.seed(seedValue);\n        return module.exports;\n    }\n\n    /**\n     * Set the cluster worker or machine id\n     * exposed as shortid.worker(int)\n     * @param workerId worker must be positive integer.  Number less than 16 is recommended.\n     * returns shortid module so it can be chained.\n     */\n    function worker(workerId) {\n        clusterWorkerId = workerId;\n        return module.exports;\n    }\n\n    /**\n     *\n     * sets new characters to use in the alphabet\n     * returns the shuffled alphabet\n     */\n    function characters(newCharacters) {\n        if (newCharacters !== undefined) {\n            alphabet_1.characters(newCharacters);\n        }\n\n        return alphabet_1.shuffled();\n    }\n\n\n    // Export all other functions as properties of the generate function\n    module.exports = generate;\n    module.exports.generate = generate;\n    module.exports.seed = seed;\n    module.exports.worker = worker;\n    module.exports.characters = characters;\n    module.exports.decode = decode_1;\n    module.exports.isValid = isValid;\n    });\n    var lib_1 = lib$1.generate;\n    var lib_2 = lib$1.seed;\n    var lib_3 = lib$1.worker;\n    var lib_4 = lib$1.characters;\n    var lib_5 = lib$1.decode;\n    var lib_6 = lib$1.isValid;\n\n    var shortid = lib$1;\n\n    function domainSession (domain, connection, logger, successMessages, errorMessages) {\r\n        if (domain == null) {\r\n            domain = \"global\";\r\n        }\r\n        successMessages = successMessages || [\"success\"];\r\n        errorMessages = errorMessages || [\"error\"];\r\n        var isJoined = false;\r\n        var tryReconnecting = false;\r\n        var _latestOptions;\r\n        var _connectionOn = false;\r\n        var callbacks = lib();\r\n        connection.disconnected(handleConnectionDisconnected);\r\n        connection.loggedIn(handleConnectionLoggedIn);\r\n        connection.on(\"success\", function (msg) { return handleSuccessMessage(msg); });\r\n        connection.on(\"error\", function (msg) { return handleErrorMessage(msg); });\r\n        connection.on(\"result\", function (msg) { return handleSuccessMessage(msg); });\r\n        if (successMessages) {\r\n            successMessages.forEach(function (sm) {\r\n                connection.on(sm, function (msg) { return handleSuccessMessage(msg); });\r\n            });\r\n        }\r\n        if (errorMessages) {\r\n            errorMessages.forEach(function (sm) {\r\n                connection.on(sm, function (msg) { return handleErrorMessage(msg); });\r\n            });\r\n        }\r\n        var requestsMap = {};\r\n        function join(options) {\r\n            _latestOptions = options;\r\n            return new Promise(function (resolve, reject) {\r\n                if (isJoined) {\r\n                    resolve();\r\n                    return;\r\n                }\r\n                var joinPromise;\r\n                if (domain === \"global\") {\r\n                    joinPromise = _connectionOn ? Promise.resolve({}) : Promise.reject(\"not connected to gateway\");\r\n                }\r\n                else {\r\n                    logger.debug(\"joining domain \" + domain);\r\n                    var joinMsg = {\r\n                        type: \"join\",\r\n                        destination: domain,\r\n                        domain: \"global\",\r\n                        options: options,\r\n                    };\r\n                    joinPromise = send(joinMsg);\r\n                }\r\n                joinPromise\r\n                    .then(function () {\r\n                    handleJoined();\r\n                    resolve();\r\n                })\r\n                    .catch(function (err) {\r\n                    logger.debug(\"error joining \" + domain + \" domain: \" + JSON.stringify(err));\r\n                    reject(err);\r\n                });\r\n            });\r\n        }\r\n        function leave() {\r\n            if (domain === \"global\") {\r\n                return Promise.resolve();\r\n            }\r\n            logger.debug(\"stopping session \" + domain + \"...\");\r\n            var leaveMsg = {\r\n                type: \"leave\",\r\n                destination: domain,\r\n                domain: \"global\",\r\n            };\r\n            tryReconnecting = false;\r\n            return send(leaveMsg).then(function () {\r\n                isJoined = false;\r\n                callbacks.execute(\"onLeft\");\r\n            });\r\n        }\r\n        function handleJoined() {\r\n            logger.debug(\"did join \" + domain);\r\n            isJoined = true;\r\n            var wasReconnect = tryReconnecting;\r\n            tryReconnecting = false;\r\n            callbacks.execute(\"onJoined\", wasReconnect);\r\n        }\r\n        function handleConnectionDisconnected() {\r\n            _connectionOn = false;\r\n            logger.debug(\"connection is down\");\r\n            isJoined = false;\r\n            tryReconnecting = true;\r\n            callbacks.execute(\"onLeft\", { disconnected: true });\r\n        }\r\n        function handleConnectionLoggedIn() {\r\n            _connectionOn = true;\r\n            if (tryReconnecting) {\r\n                logger.debug(\"connection is now up - trying to reconnect...\");\r\n                join(_latestOptions);\r\n            }\r\n        }\r\n        function onJoined(callback) {\r\n            if (isJoined) {\r\n                callback(false);\r\n            }\r\n            return callbacks.add(\"onJoined\", callback);\r\n        }\r\n        function onLeft(callback) {\r\n            if (!isJoined) {\r\n                callback();\r\n            }\r\n            return callbacks.add(\"onLeft\", callback);\r\n        }\r\n        function handleErrorMessage(msg) {\r\n            if (domain !== msg.domain) {\r\n                return;\r\n            }\r\n            var requestId = msg.request_id;\r\n            if (!requestId) {\r\n                return;\r\n            }\r\n            var entry = requestsMap[requestId];\r\n            if (!entry) {\r\n                return;\r\n            }\r\n            entry.error(msg);\r\n        }\r\n        function handleSuccessMessage(msg) {\r\n            if (msg.domain !== domain) {\r\n                return;\r\n            }\r\n            var requestId = msg.request_id;\r\n            if (!requestId) {\r\n                return;\r\n            }\r\n            var entry = requestsMap[requestId];\r\n            if (!entry) {\r\n                return;\r\n            }\r\n            entry.success(msg);\r\n        }\r\n        function getNextRequestId() {\r\n            return shortid();\r\n        }\r\n        function send(msg, tag, options) {\r\n            options = options || {};\r\n            msg.request_id = msg.request_id || getNextRequestId();\r\n            msg.domain = msg.domain || domain;\r\n            if (!options.skipPeerId) {\r\n                msg.peer_id = connection.peerId;\r\n            }\r\n            var requestId = msg.request_id;\r\n            return new Promise(function (resolve, reject) {\r\n                requestsMap[requestId] = {\r\n                    success: function (successMsg) {\r\n                        delete requestsMap[requestId];\r\n                        successMsg._tag = tag;\r\n                        resolve(successMsg);\r\n                    },\r\n                    error: function (errorMsg) {\r\n                        logger.warn(\"GW error - \" + JSON.stringify(errorMsg) + \" for request \" + JSON.stringify(msg));\r\n                        delete requestsMap[requestId];\r\n                        errorMsg._tag = tag;\r\n                        reject(errorMsg);\r\n                    },\r\n                };\r\n                connection\r\n                    .send(msg, options)\r\n                    .catch(function (err) {\r\n                    requestsMap[requestId].error({ err: err });\r\n                });\r\n            });\r\n        }\r\n        function sendFireAndForget(msg) {\r\n            msg.request_id = msg.request_id ? msg.request_id : getNextRequestId();\r\n            msg.domain = msg.domain || domain;\r\n            msg.peer_id = connection.peerId;\r\n            return connection.send(msg);\r\n        }\r\n        return {\r\n            join: join,\r\n            leave: leave,\r\n            onJoined: onJoined,\r\n            onLeft: onLeft,\r\n            send: send,\r\n            sendFireAndForget: sendFireAndForget,\r\n            on: function (type, callback) {\r\n                connection.on(type, function (msg) {\r\n                    if (msg.domain !== domain) {\r\n                        return;\r\n                    }\r\n                    try {\r\n                        callback(msg);\r\n                    }\r\n                    catch (e) {\r\n                        logger.error(\"Callback  failed: \" + e + \" \\n \" + e.stack + \" \\n msg was: \" + JSON.stringify(msg), e);\r\n                    }\r\n                });\r\n            },\r\n            loggedIn: function (callback) { return connection.loggedIn(callback); },\r\n            connected: function (callback) { return connection.connected(callback); },\r\n            disconnected: function (callback) { return connection.disconnected(callback); },\r\n            get peerId() {\r\n                return connection.peerId;\r\n            },\r\n            get domain() {\r\n                return domain;\r\n            },\r\n        };\r\n    }\n\n    var GW3ProtocolImpl = (function () {\r\n        function GW3ProtocolImpl(connection, settings, logger) {\r\n            var _this = this;\r\n            this.connection = connection;\r\n            this.settings = settings;\r\n            this.logger = logger;\r\n            this.protocolVersion = 3;\r\n            this.datePrefix = \"#T42_DATE#\";\r\n            this.datePrefixLen = this.datePrefix.length;\r\n            this.dateMinLen = this.datePrefixLen + 1;\r\n            this.datePrefixFirstChar = this.datePrefix[0];\r\n            this.registry = lib();\r\n            this._isLoggedIn = false;\r\n            this.shouldTryLogin = true;\r\n            this.initialLogin = true;\r\n            this.initialLoginAttempts = 3;\r\n            this.sessions = [];\r\n            connection.disconnected(function () {\r\n                _this.handleDisconnected();\r\n            });\r\n            this.ping();\r\n        }\r\n        Object.defineProperty(GW3ProtocolImpl.prototype, \"isLoggedIn\", {\r\n            get: function () {\r\n                return this._isLoggedIn;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        GW3ProtocolImpl.prototype.processStringMessage = function (message) {\r\n            var _this = this;\r\n            var msg = JSON.parse(message, function (key, value) {\r\n                if (typeof value !== \"string\") {\r\n                    return value;\r\n                }\r\n                if (value.length < _this.dateMinLen) {\r\n                    return value;\r\n                }\r\n                if (value[0] !== _this.datePrefixFirstChar) {\r\n                    return value;\r\n                }\r\n                if (value.substring(0, _this.datePrefixLen) !== _this.datePrefix) {\r\n                    return value;\r\n                }\r\n                try {\r\n                    var milliseconds = parseInt(value.substring(_this.datePrefixLen, value.length), 10);\r\n                    if (isNaN(milliseconds)) {\r\n                        return value;\r\n                    }\r\n                    return new Date(milliseconds);\r\n                }\r\n                catch (ex) {\r\n                    return value;\r\n                }\r\n            });\r\n            return {\r\n                msg: msg,\r\n                msgType: msg.type,\r\n            };\r\n        };\r\n        GW3ProtocolImpl.prototype.createStringMessage = function (message) {\r\n            var oldToJson = Date.prototype.toJSON;\r\n            try {\r\n                var datePrefix_1 = this.datePrefix;\r\n                Date.prototype.toJSON = function () {\r\n                    return datePrefix_1 + this.getTime();\r\n                };\r\n                var result = JSON.stringify(message);\r\n                return result;\r\n            }\r\n            finally {\r\n                Date.prototype.toJSON = oldToJson;\r\n            }\r\n        };\r\n        GW3ProtocolImpl.prototype.processObjectMessage = function (message) {\r\n            if (!message.type) {\r\n                throw new Error(\"Object should have type property\");\r\n            }\r\n            return {\r\n                msg: message,\r\n                msgType: message.type,\r\n            };\r\n        };\r\n        GW3ProtocolImpl.prototype.createObjectMessage = function (message) {\r\n            return message;\r\n        };\r\n        GW3ProtocolImpl.prototype.login = function (config, reconnect) {\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var authentication, token, e_1, _a, helloMsg, sendOptions, welcomeMsg, msg, token, _b, err_1;\r\n                return __generator$1(this, function (_c) {\r\n                    switch (_c.label) {\r\n                        case 0:\r\n                            this.logger.debug(\"logging in...\");\r\n                            this.loginConfig = config;\r\n                            if (!this.loginConfig) {\r\n                                this.loginConfig = { username: \"\", password: \"\" };\r\n                            }\r\n                            this.shouldTryLogin = true;\r\n                            authentication = {};\r\n                            this.connection.gatewayToken = config.gatewayToken;\r\n                            if (!config.gatewayToken) return [3, 5];\r\n                            if (!reconnect) return [3, 4];\r\n                            _c.label = 1;\r\n                        case 1:\r\n                            _c.trys.push([1, 3, , 4]);\r\n                            return [4, this.getNewGWToken()];\r\n                        case 2:\r\n                            token = _c.sent();\r\n                            config.gatewayToken = token;\r\n                            return [3, 4];\r\n                        case 3:\r\n                            e_1 = _c.sent();\r\n                            this.logger.warn(\"failed to get GW token when reconnecting \" + ((e_1 === null || e_1 === void 0 ? void 0 : e_1.message) || e_1));\r\n                            return [3, 4];\r\n                        case 4:\r\n                            authentication.method = \"gateway-token\";\r\n                            authentication.token = config.gatewayToken;\r\n                            this.connection.gatewayToken = config.gatewayToken;\r\n                            return [3, 10];\r\n                        case 5:\r\n                            if (!(config.flowName === \"sspi\")) return [3, 9];\r\n                            authentication.provider = \"win\";\r\n                            authentication.method = \"access-token\";\r\n                            if (!(config.flowCallback && config.sessionId)) return [3, 7];\r\n                            _a = authentication;\r\n                            return [4, config.flowCallback(config.sessionId, null)];\r\n                        case 6:\r\n                            _a.token =\r\n                                (_c.sent())\r\n                                    .data\r\n                                    .toString(\"base64\");\r\n                            return [3, 8];\r\n                        case 7: throw new Error(\"Invalid SSPI config\");\r\n                        case 8: return [3, 10];\r\n                        case 9:\r\n                            if (config.token) {\r\n                                authentication.method = \"access-token\";\r\n                                authentication.token = config.token;\r\n                            }\r\n                            else if (config.username) {\r\n                                authentication.method = \"secret\";\r\n                                authentication.login = config.username;\r\n                                authentication.secret = config.password;\r\n                            }\r\n                            else {\r\n                                throw new Error(\"invalid auth message\" + JSON.stringify(config));\r\n                            }\r\n                            _c.label = 10;\r\n                        case 10:\r\n                            helloMsg = {\r\n                                type: \"hello\",\r\n                                identity: this.settings.identity,\r\n                                authentication: authentication\r\n                            };\r\n                            if (config.sessionId) {\r\n                                helloMsg.request_id = config.sessionId;\r\n                            }\r\n                            this.globalDomain = domainSession(\"global\", this.connection, this.logger.subLogger(\"global-domain\"), [\r\n                                \"welcome\",\r\n                                \"token\",\r\n                                \"authentication-request\"\r\n                            ]);\r\n                            sendOptions = { skipPeerId: true };\r\n                            if (this.initialLogin) {\r\n                                sendOptions.retryInterval = this.settings.reconnectInterval;\r\n                                sendOptions.maxRetries = this.settings.reconnectAttempts;\r\n                            }\r\n                            _c.label = 11;\r\n                        case 11:\r\n                            _c.trys.push([11, 19, 20, 21]);\r\n                            welcomeMsg = void 0;\r\n                            _c.label = 12;\r\n                        case 12:\r\n                            return [4, this.globalDomain.send(helloMsg, undefined, sendOptions)];\r\n                        case 13:\r\n                            msg = _c.sent();\r\n                            if (!(msg.type === \"authentication-request\")) return [3, 16];\r\n                            token = Buffer.from(msg.authentication.token, \"base64\");\r\n                            if (!(config.flowCallback && config.sessionId)) return [3, 15];\r\n                            _b = helloMsg.authentication;\r\n                            return [4, config.flowCallback(config.sessionId, token)];\r\n                        case 14:\r\n                            _b.token =\r\n                                (_c.sent())\r\n                                    .data\r\n                                    .toString(\"base64\");\r\n                            _c.label = 15;\r\n                        case 15:\r\n                            helloMsg.request_id = config.sessionId;\r\n                            return [3, 12];\r\n                        case 16:\r\n                            if (msg.type === \"welcome\") {\r\n                                welcomeMsg = msg;\r\n                                return [3, 18];\r\n                            }\r\n                            else if (msg.type === \"error\") {\r\n                                throw new Error(\"Authentication failed: \" + msg.reason);\r\n                            }\r\n                            else {\r\n                                throw new Error(\"Unexpected message type during authentication: \" + msg.type);\r\n                            }\r\n                        case 17: return [3, 12];\r\n                        case 18:\r\n                            this.initialLogin = false;\r\n                            this.logger.info(\"login successful with peerId \" + welcomeMsg.peer_id);\r\n                            this.connection.peerId = welcomeMsg.peer_id;\r\n                            this.connection.resolvedIdentity = welcomeMsg.resolved_identity;\r\n                            this.connection.availableDomains = welcomeMsg.available_domains;\r\n                            if (welcomeMsg.options) {\r\n                                this.connection.token = welcomeMsg.options.access_token;\r\n                                this.connection.info = welcomeMsg.options.info;\r\n                            }\r\n                            this.setLoggedIn(true);\r\n                            return [2, welcomeMsg.resolved_identity];\r\n                        case 19:\r\n                            err_1 = _c.sent();\r\n                            this.logger.error(\"error sending hello message - \" + (err_1.message || err_1.msg || err_1.reason || err_1), err_1);\r\n                            throw err_1;\r\n                        case 20:\r\n                            if (config && config.flowCallback && config.sessionId) {\r\n                                config.flowCallback(config.sessionId, null);\r\n                            }\r\n                            return [7];\r\n                        case 21: return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GW3ProtocolImpl.prototype.logout = function () {\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var promises;\r\n                return __generator$1(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            this.logger.debug(\"logging out...\");\r\n                            this.shouldTryLogin = false;\r\n                            if (this.pingTimer) {\r\n                                clearTimeout(this.pingTimer);\r\n                            }\r\n                            promises = this.sessions.map(function (session) {\r\n                                session.leave();\r\n                            });\r\n                            return [4, Promise.all(promises)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GW3ProtocolImpl.prototype.loggedIn = function (callback) {\r\n            if (this._isLoggedIn) {\r\n                callback();\r\n            }\r\n            return this.registry.add(\"onLoggedIn\", callback);\r\n        };\r\n        GW3ProtocolImpl.prototype.domain = function (domainName, domainLogger, successMessages, errorMessages) {\r\n            var session = this.sessions.filter(function (s) { return s.domain === domainName; })[0];\r\n            if (!session) {\r\n                session = domainSession(domainName, this.connection, domainLogger, successMessages, errorMessages);\r\n                this.sessions.push(session);\r\n            }\r\n            return session;\r\n        };\r\n        GW3ProtocolImpl.prototype.handleDisconnected = function () {\r\n            var _this = this;\r\n            this.setLoggedIn(false);\r\n            var tryToLogin = this.shouldTryLogin;\r\n            if (tryToLogin && this.initialLogin) {\r\n                if (this.initialLoginAttempts <= 0) {\r\n                    return;\r\n                }\r\n                this.initialLoginAttempts--;\r\n            }\r\n            this.logger.debug(\"disconnected - will try new login?\" + this.shouldTryLogin);\r\n            if (this.shouldTryLogin) {\r\n                if (!this.loginConfig) {\r\n                    throw new Error(\"no login info\");\r\n                }\r\n                this.connection.login(this.loginConfig, true)\r\n                    .catch(function () {\r\n                    setTimeout(_this.handleDisconnected, 1000);\r\n                });\r\n            }\r\n        };\r\n        GW3ProtocolImpl.prototype.setLoggedIn = function (value) {\r\n            this._isLoggedIn = value;\r\n            if (this._isLoggedIn) {\r\n                this.registry.execute(\"onLoggedIn\");\r\n            }\r\n        };\r\n        GW3ProtocolImpl.prototype.ping = function () {\r\n            var _this = this;\r\n            if (!this.shouldTryLogin) {\r\n                return;\r\n            }\r\n            if (this._isLoggedIn) {\r\n                this.connection.send({ type: \"ping\" });\r\n            }\r\n            this.pingTimer = setTimeout(function () {\r\n                _this.ping();\r\n            }, 30 * 1000);\r\n        };\r\n        GW3ProtocolImpl.prototype.authToken = function () {\r\n            var createTokenReq = {\r\n                type: \"create-token\"\r\n            };\r\n            if (!this.globalDomain) {\r\n                return Promise.reject(new Error(\"no global domain session\"));\r\n            }\r\n            return this.globalDomain.send(createTokenReq)\r\n                .then(function (res) {\r\n                return res.token;\r\n            });\r\n        };\r\n        GW3ProtocolImpl.prototype.getNewGWToken = function () {\r\n            if (typeof window !== undefined) {\r\n                var glue42gd = window.glue42gd;\r\n                if (glue42gd) {\r\n                    return glue42gd.getGWToken();\r\n                }\r\n            }\r\n            return Promise.reject(new Error(\"not running in GD\"));\r\n        };\r\n        return GW3ProtocolImpl;\r\n    }());\n\n    var MessageReplayerImpl = (function () {\r\n        function MessageReplayerImpl(specs) {\r\n            this.specsNames = [];\r\n            this.messages = {};\r\n            this.subs = {};\r\n            this.subsRefCount = {};\r\n            this.specs = {};\r\n            for (var _i = 0, specs_1 = specs; _i < specs_1.length; _i++) {\r\n                var spec = specs_1[_i];\r\n                this.specs[spec.name] = spec;\r\n                this.specsNames.push(spec.name);\r\n            }\r\n        }\r\n        MessageReplayerImpl.prototype.init = function (connection) {\r\n            var _this = this;\r\n            this.connection = connection;\r\n            for (var _i = 0, _a = this.specsNames; _i < _a.length; _i++) {\r\n                var name_1 = _a[_i];\r\n                var _loop_1 = function (type) {\r\n                    var refCount = this_1.subsRefCount[type];\r\n                    if (!refCount) {\r\n                        refCount = 0;\r\n                    }\r\n                    refCount += 1;\r\n                    this_1.subsRefCount[type] = refCount;\r\n                    if (refCount > 1) {\r\n                        return \"continue\";\r\n                    }\r\n                    var sub = connection.on(type, function (msg) { return _this.processMessage(type, msg); });\r\n                    this_1.subs[type] = sub;\r\n                };\r\n                var this_1 = this;\r\n                for (var _b = 0, _c = this.specs[name_1].types; _b < _c.length; _b++) {\r\n                    var type = _c[_b];\r\n                    _loop_1(type);\r\n                }\r\n            }\r\n        };\r\n        MessageReplayerImpl.prototype.processMessage = function (type, msg) {\r\n            if (this.isDone || !msg) {\r\n                return;\r\n            }\r\n            for (var _i = 0, _a = this.specsNames; _i < _a.length; _i++) {\r\n                var name_2 = _a[_i];\r\n                if (this.specs[name_2].types.indexOf(type) !== -1) {\r\n                    var messages = this.messages[name_2] || [];\r\n                    this.messages[name_2] = messages;\r\n                    messages.push(msg);\r\n                }\r\n            }\r\n        };\r\n        MessageReplayerImpl.prototype.drain = function (name, callback) {\r\n            var _a;\r\n            if (callback) {\r\n                (this.messages[name] || []).forEach(callback);\r\n            }\r\n            delete this.messages[name];\r\n            for (var _i = 0, _b = this.specs[name].types; _i < _b.length; _i++) {\r\n                var type = _b[_i];\r\n                this.subsRefCount[type] -= 1;\r\n                if (this.subsRefCount[type] <= 0) {\r\n                    (_a = this.connection) === null || _a === void 0 ? void 0 : _a.off(this.subs[type]);\r\n                    delete this.subs[type];\r\n                    delete this.subsRefCount[type];\r\n                }\r\n            }\r\n            delete this.specs[name];\r\n            if (!this.specs.length) {\r\n                this.isDone = true;\r\n            }\r\n        };\r\n        return MessageReplayerImpl;\r\n    }());\n\n    var Connection = (function () {\r\n        function Connection(settings, logger) {\r\n            this.settings = settings;\r\n            this.logger = logger;\r\n            this.messageHandlers = {};\r\n            this.ids = 1;\r\n            this.registry = lib();\r\n            this._connected = false;\r\n            this.isTrace = false;\r\n            settings = settings || {};\r\n            settings.reconnectAttempts = settings.reconnectAttempts || 10;\r\n            settings.reconnectInterval = settings.reconnectInterval || 1000;\r\n            if (settings.inproc) {\r\n                this.transport = new InProcTransport(settings.inproc, logger.subLogger(\"inMemory\"));\r\n            }\r\n            else if (settings.sharedWorker) {\r\n                this.transport = new SharedWorkerTransport(settings.sharedWorker, logger.subLogger(\"shared-worker\"));\r\n            }\r\n            else if (settings.ws !== undefined) {\r\n                this.transport = new WS(settings, logger.subLogger(\"ws\"));\r\n            }\r\n            else {\r\n                throw new Error(\"No connection information specified\");\r\n            }\r\n            this.isTrace = logger.canPublish(\"trace\");\r\n            logger.info(\"starting with \" + this.transport.name() + \" transport\");\r\n            this.protocol = new GW3ProtocolImpl(this, settings, logger.subLogger(\"protocol\"));\r\n            this.transport.onConnectedChanged(this.handleConnectionChanged.bind(this));\r\n            this.transport.onMessage(this.handleTransportMessage.bind(this));\r\n            if (settings.replaySpecs && settings.replaySpecs.length) {\r\n                this.replayer = new MessageReplayerImpl(settings.replaySpecs);\r\n                this.replayer.init(this);\r\n            }\r\n        }\r\n        Object.defineProperty(Connection.prototype, \"protocolVersion\", {\r\n            get: function () {\r\n                var _a;\r\n                return (_a = this.protocol) === null || _a === void 0 ? void 0 : _a.protocolVersion;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Connection.prototype.send = function (message, options) {\r\n            if (this.transport.sendObject &&\r\n                this.transport.isObjectBasedTransport) {\r\n                var msg = this.protocol.createObjectMessage(message);\r\n                if (this.isTrace) {\r\n                    this.logger.trace(\">> \" + JSON.stringify(msg));\r\n                }\r\n                return this.transport.sendObject(msg, options);\r\n            }\r\n            else {\r\n                var strMessage = this.protocol.createStringMessage(message);\r\n                if (this.isTrace) {\r\n                    this.logger.trace(\">> \" + strMessage);\r\n                }\r\n                return this.transport.send(strMessage, options);\r\n            }\r\n        };\r\n        Connection.prototype.on = function (type, messageHandler) {\r\n            type = type.toLowerCase();\r\n            if (this.messageHandlers[type] === undefined) {\r\n                this.messageHandlers[type] = {};\r\n            }\r\n            var id = this.ids++;\r\n            this.messageHandlers[type][id] = messageHandler;\r\n            return {\r\n                type: type,\r\n                id: id,\r\n            };\r\n        };\r\n        Connection.prototype.off = function (info) {\r\n            delete this.messageHandlers[info.type.toLowerCase()][info.id];\r\n        };\r\n        Object.defineProperty(Connection.prototype, \"isConnected\", {\r\n            get: function () {\r\n                return this.protocol.isLoggedIn;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Connection.prototype.connected = function (callback) {\r\n            var _this = this;\r\n            return this.protocol.loggedIn(function () {\r\n                callback(_this.settings.ws || _this.settings.sharedWorker || \"\");\r\n            });\r\n        };\r\n        Connection.prototype.disconnected = function (callback) {\r\n            return this.registry.add(\"disconnected\", callback);\r\n        };\r\n        Connection.prototype.login = function (authRequest, reconnect) {\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var identity;\r\n                return __generator$1(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.transport.open()];\r\n                        case 1:\r\n                            _a.sent();\r\n                            timer(\"connection\").mark(\"transport-opened\");\r\n                            identity = this.protocol.login(authRequest, reconnect);\r\n                            timer(\"connection\").mark(\"protocol-logged-in\");\r\n                            return [2, identity];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Connection.prototype.logout = function () {\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                return __generator$1(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.protocol.logout()];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [4, this.transport.close()];\r\n                        case 2:\r\n                            _a.sent();\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Connection.prototype.loggedIn = function (callback) {\r\n            return this.protocol.loggedIn(callback);\r\n        };\r\n        Connection.prototype.domain = function (domain, successMessages, errorMessages) {\r\n            return this.protocol.domain(domain, this.logger.subLogger(\"domain=\" + domain), successMessages, errorMessages);\r\n        };\r\n        Connection.prototype.authToken = function () {\r\n            return this.protocol.authToken();\r\n        };\r\n        Connection.prototype.reconnect = function () {\r\n            return this.transport.reconnect();\r\n        };\r\n        Connection.prototype.distributeMessage = function (message, type) {\r\n            var _this = this;\r\n            var handlers = this.messageHandlers[type.toLowerCase()];\r\n            if (handlers !== undefined) {\r\n                Object.keys(handlers).forEach(function (handlerId) {\r\n                    var handler = handlers[handlerId];\r\n                    if (handler !== undefined) {\r\n                        try {\r\n                            handler(message);\r\n                        }\r\n                        catch (error) {\r\n                            try {\r\n                                _this.logger.error(\"Message handler failed with \" + error.stack, error);\r\n                            }\r\n                            catch (loggerError) {\r\n                                console.log(\"Message handler failed\", error);\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        };\r\n        Connection.prototype.handleConnectionChanged = function (connected) {\r\n            if (this._connected === connected) {\r\n                return;\r\n            }\r\n            this._connected = connected;\r\n            if (connected) {\r\n                this.registry.execute(\"connected\");\r\n            }\r\n            else {\r\n                this.registry.execute(\"disconnected\");\r\n            }\r\n        };\r\n        Connection.prototype.handleTransportMessage = function (msg) {\r\n            var msgObj;\r\n            if (typeof msg === \"string\") {\r\n                msgObj = this.protocol.processStringMessage(msg);\r\n            }\r\n            else {\r\n                msgObj = this.protocol.processObjectMessage(msg);\r\n            }\r\n            if (this.isTrace) {\r\n                this.logger.trace(\"<< \" + JSON.stringify(msgObj));\r\n            }\r\n            this.distributeMessage(msgObj.msg, msgObj.msgType);\r\n        };\r\n        return Connection;\r\n    }());\n\n    var order = [\"trace\", \"debug\", \"info\", \"warn\", \"error\", \"off\"];\r\n    var Logger = (function () {\r\n        function Logger(name, parent, logFn) {\r\n            this.name = name;\r\n            this.parent = parent;\r\n            this.subLoggers = [];\r\n            this.logFn = console;\r\n            this.customLogFn = false;\r\n            this.name = name;\r\n            if (parent) {\r\n                this.path = parent.path + \".\" + name;\r\n            }\r\n            else {\r\n                this.path = name;\r\n            }\r\n            this.loggerFullName = \"[\" + this.path + \"]\";\r\n            this.includeTimeAndLevel = !logFn;\r\n            if (logFn) {\r\n                this.logFn = logFn;\r\n                this.customLogFn = true;\r\n            }\r\n        }\r\n        Logger.prototype.subLogger = function (name) {\r\n            var existingSub = this.subLoggers.filter(function (subLogger) {\r\n                return subLogger.name === name;\r\n            })[0];\r\n            if (existingSub !== undefined) {\r\n                return existingSub;\r\n            }\r\n            Object.keys(this).forEach(function (key) {\r\n                if (key === name) {\r\n                    throw new Error(\"This sub logger name is not allowed.\");\r\n                }\r\n            });\r\n            var sub = new Logger(name, this, this.customLogFn ? this.logFn : undefined);\r\n            this.subLoggers.push(sub);\r\n            return sub;\r\n        };\r\n        Logger.prototype.publishLevel = function (level) {\r\n            var _a;\r\n            if (level) {\r\n                this._publishLevel = level;\r\n            }\r\n            return this._publishLevel || ((_a = this.parent) === null || _a === void 0 ? void 0 : _a.publishLevel());\r\n        };\r\n        Logger.prototype.consoleLevel = function (level) {\r\n            var _a;\r\n            if (level) {\r\n                this._consoleLevel = level;\r\n            }\r\n            return this._consoleLevel || ((_a = this.parent) === null || _a === void 0 ? void 0 : _a.consoleLevel());\r\n        };\r\n        Logger.prototype.log = function (message, level, error) {\r\n            this.publishMessage(level || \"info\", message, error);\r\n        };\r\n        Logger.prototype.trace = function (message) {\r\n            this.log(message, \"trace\");\r\n        };\r\n        Logger.prototype.debug = function (message) {\r\n            this.log(message, \"debug\");\r\n        };\r\n        Logger.prototype.info = function (message) {\r\n            this.log(message, \"info\");\r\n        };\r\n        Logger.prototype.warn = function (message) {\r\n            this.log(message, \"warn\");\r\n        };\r\n        Logger.prototype.error = function (message, err) {\r\n            this.log(message, \"error\");\r\n        };\r\n        Logger.prototype.canPublish = function (level, compareWith) {\r\n            var levelIdx = order.indexOf(level);\r\n            var restrictionIdx = order.indexOf(compareWith || this.consoleLevel() || \"trace\");\r\n            return levelIdx >= restrictionIdx;\r\n        };\r\n        Logger.prototype.publishMessage = function (level, message, error) {\r\n            var loggerName = this.loggerFullName;\r\n            if (level === \"error\" && !error) {\r\n                var e = new Error();\r\n                if (e.stack) {\r\n                    message =\r\n                        message +\r\n                            \"\\n\" +\r\n                            e.stack\r\n                                .split(\"\\n\")\r\n                                .slice(3)\r\n                                .join(\"\\n\");\r\n                }\r\n            }\r\n            if (this.canPublish(level, this.publishLevel())) {\r\n                var interop = Logger.Interop;\r\n                if (interop) {\r\n                    try {\r\n                        if (interop.methods({ name: Logger.InteropMethodName }).length > 0) {\r\n                            interop.invoke(Logger.InteropMethodName, {\r\n                                msg: \"\" + message,\r\n                                logger: loggerName,\r\n                                level: level\r\n                            });\r\n                        }\r\n                    }\r\n                    catch (_a) {\r\n                    }\r\n                }\r\n            }\r\n            if (this.canPublish(level)) {\r\n                var prefix = \"\";\r\n                if (this.includeTimeAndLevel) {\r\n                    var date = new Date();\r\n                    var time = date.getHours() + \":\" + date.getMinutes() + \":\" + date.getSeconds() + \":\" + date.getMilliseconds();\r\n                    prefix = \"[\" + time + \"] [\" + level + \"] \";\r\n                }\r\n                var toPrint = \"\" + prefix + loggerName + \": \" + message;\r\n                switch (level) {\r\n                    case \"trace\":\r\n                        this.logFn.debug(toPrint);\r\n                        break;\r\n                    case \"debug\":\r\n                        if (this.logFn.debug) {\r\n                            this.logFn.debug(toPrint);\r\n                        }\r\n                        else {\r\n                            this.logFn.log(toPrint);\r\n                        }\r\n                        break;\r\n                    case \"info\":\r\n                        this.logFn.info(toPrint);\r\n                        break;\r\n                    case \"warn\":\r\n                        this.logFn.warn(toPrint);\r\n                        break;\r\n                    case \"error\":\r\n                        this.logFn.error(toPrint, error);\r\n                        break;\r\n                }\r\n            }\r\n        };\r\n        Logger.InteropMethodName = \"T42.AppLogger.Log\";\r\n        return Logger;\r\n    }());\n\n    var GW_MESSAGE_CREATE_CONTEXT = \"create-context\";\r\n    var GW_MESSAGE_ACTIVITY_CREATED = \"created\";\r\n    var GW_MESSAGE_ACTIVITY_DESTROYED = \"destroyed\";\r\n    var GW_MESSAGE_CONTEXT_CREATED = \"context-created\";\r\n    var GW_MESSAGE_CONTEXT_ADDED = \"context-added\";\r\n    var GW_MESSAGE_SUBSCRIBE_CONTEXT = \"subscribe-context\";\r\n    var GW_MESSAGE_SUBSCRIBED_CONTEXT = \"subscribed-context\";\r\n    var GW_MESSAGE_UNSUBSCRIBE_CONTEXT = \"unsubscribe-context\";\r\n    var GW_MESSAGE_DESTROY_CONTEXT = \"destroy-context\";\r\n    var GW_MESSAGE_CONTEXT_DESTROYED = \"context-destroyed\";\r\n    var GW_MESSAGE_UPDATE_CONTEXT = \"update-context\";\r\n    var GW_MESSAGE_CONTEXT_UPDATED = \"context-updated\";\r\n    var GW_MESSAGE_JOINED_ACTIVITY = \"joined\";\n\n    var ContextMessageReplaySpec = {\r\n        get name() {\r\n            return \"context\";\r\n        },\r\n        get types() {\r\n            return [\r\n                GW_MESSAGE_CREATE_CONTEXT,\r\n                GW_MESSAGE_ACTIVITY_CREATED,\r\n                GW_MESSAGE_ACTIVITY_DESTROYED,\r\n                GW_MESSAGE_CONTEXT_CREATED,\r\n                GW_MESSAGE_CONTEXT_ADDED,\r\n                GW_MESSAGE_SUBSCRIBE_CONTEXT,\r\n                GW_MESSAGE_SUBSCRIBED_CONTEXT,\r\n                GW_MESSAGE_UNSUBSCRIBE_CONTEXT,\r\n                GW_MESSAGE_DESTROY_CONTEXT,\r\n                GW_MESSAGE_CONTEXT_DESTROYED,\r\n                GW_MESSAGE_UPDATE_CONTEXT,\r\n                GW_MESSAGE_CONTEXT_UPDATED,\r\n                GW_MESSAGE_JOINED_ACTIVITY\r\n            ];\r\n        }\r\n    };\n\n    var version = \"5.2.6\";\n\n    function prepareConfig (configuration, ext, glue42gd) {\r\n        var _a, _b, _c, _d, _e;\r\n        var nodeStartingContext;\r\n        if (Utils.isNode()) {\r\n            var startingContextString = process.env._GD_STARTING_CONTEXT_;\r\n            if (startingContextString) {\r\n                try {\r\n                    nodeStartingContext = JSON.parse(startingContextString);\r\n                }\r\n                catch (_f) {\r\n                }\r\n            }\r\n        }\r\n        function getConnection() {\r\n            var _a, _b, _c, _d;\r\n            var gwConfig = configuration.gateway;\r\n            var protocolVersion = (_a = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.protocolVersion) !== null && _a !== void 0 ? _a : 3;\r\n            var reconnectInterval = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.reconnectInterval;\r\n            var reconnectAttempts = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.reconnectAttempts;\r\n            var defaultWs = \"ws://localhost:8385\";\r\n            var ws = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.ws;\r\n            var sharedWorker = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.sharedWorker;\r\n            var inproc = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.inproc;\r\n            if (glue42gd) {\r\n                ws = glue42gd.gwURL;\r\n            }\r\n            if (Utils.isNode() && nodeStartingContext && nodeStartingContext.gwURL) {\r\n                ws = nodeStartingContext.gwURL;\r\n            }\r\n            if (!ws && !sharedWorker && !inproc) {\r\n                ws = defaultWs;\r\n            }\r\n            var instanceId;\r\n            var windowId;\r\n            var pid;\r\n            var environment;\r\n            var region;\r\n            var appName = getApplication();\r\n            var uniqueAppName = appName;\r\n            if (typeof glue42gd !== \"undefined\") {\r\n                windowId = glue42gd.windowId;\r\n                pid = glue42gd.pid;\r\n                if (glue42gd.env) {\r\n                    environment = glue42gd.env.env;\r\n                    region = glue42gd.env.region;\r\n                }\r\n                uniqueAppName = (_b = glue42gd.application) !== null && _b !== void 0 ? _b : \"glue-app\";\r\n                instanceId = glue42gd.appInstanceId;\r\n            }\r\n            else if (Utils.isNode()) {\r\n                pid = process.pid;\r\n                if (nodeStartingContext) {\r\n                    environment = nodeStartingContext.env;\r\n                    region = nodeStartingContext.region;\r\n                    instanceId = nodeStartingContext.instanceId;\r\n                }\r\n            }\r\n            else {\r\n                windowId = window.name || shortid();\r\n            }\r\n            var replaySpecs = (_d = (_c = configuration.gateway) === null || _c === void 0 ? void 0 : _c.replaySpecs) !== null && _d !== void 0 ? _d : [];\r\n            replaySpecs.push(ContextMessageReplaySpec);\r\n            return {\r\n                identity: {\r\n                    application: uniqueAppName,\r\n                    applicationName: appName,\r\n                    windowId: windowId,\r\n                    instance: instanceId,\r\n                    process: pid,\r\n                    region: region,\r\n                    environment: environment,\r\n                    api: ext.version || version\r\n                },\r\n                reconnectInterval: reconnectInterval,\r\n                ws: ws,\r\n                sharedWorker: sharedWorker,\r\n                inproc: inproc,\r\n                protocolVersion: protocolVersion,\r\n                reconnectAttempts: reconnectAttempts,\r\n                replaySpecs: replaySpecs,\r\n            };\r\n        }\r\n        function getApplication() {\r\n            if (configuration.application) {\r\n                return configuration.application;\r\n            }\r\n            if (glue42gd) {\r\n                return glue42gd.applicationName;\r\n            }\r\n            var uid = shortid();\r\n            if (Utils.isNode()) {\r\n                if (nodeStartingContext) {\r\n                    return nodeStartingContext.applicationConfig.name;\r\n                }\r\n                return \"NodeJS\" + uid;\r\n            }\r\n            if (typeof window !== \"undefined\" && typeof document !== \"undefined\") {\r\n                return document.title + (\" (\" + uid + \")\");\r\n            }\r\n            return uid;\r\n        }\r\n        function getAuth() {\r\n            var _a, _b;\r\n            if (typeof configuration.auth === \"string\") {\r\n                return {\r\n                    token: configuration.auth\r\n                };\r\n            }\r\n            if (configuration.auth) {\r\n                return configuration.auth;\r\n            }\r\n            if (Utils.isNode() && nodeStartingContext && nodeStartingContext.gwToken) {\r\n                return {\r\n                    gatewayToken: nodeStartingContext.gwToken\r\n                };\r\n            }\r\n            if (((_a = configuration.gateway) === null || _a === void 0 ? void 0 : _a.inproc) || ((_b = configuration.gateway) === null || _b === void 0 ? void 0 : _b.sharedWorker)) {\r\n                return {\r\n                    username: \"glue42\", password: \"glue42\"\r\n                };\r\n            }\r\n        }\r\n        function getLogger() {\r\n            var _a, _b;\r\n            var config = configuration.logger;\r\n            var defaultLevel = \"warn\";\r\n            if (!config) {\r\n                config = defaultLevel;\r\n            }\r\n            var gdConsoleLevel;\r\n            if (glue42gd) {\r\n                gdConsoleLevel = glue42gd.consoleLogLevel;\r\n            }\r\n            if (typeof config === \"string\") {\r\n                return { console: gdConsoleLevel !== null && gdConsoleLevel !== void 0 ? gdConsoleLevel : config, publish: defaultLevel };\r\n            }\r\n            return {\r\n                console: (_a = gdConsoleLevel !== null && gdConsoleLevel !== void 0 ? gdConsoleLevel : config.console) !== null && _a !== void 0 ? _a : defaultLevel,\r\n                publish: (_b = config.publish) !== null && _b !== void 0 ? _b : defaultLevel\r\n            };\r\n        }\r\n        var connection = getConnection();\r\n        var application = getApplication();\r\n        if (typeof window !== \"undefined\") {\r\n            var windowAsAny = window;\r\n            var containerApplication = windowAsAny.htmlContainer ?\r\n                windowAsAny.htmlContainer.containerName + \".\" + windowAsAny.htmlContainer.application : (_a = windowAsAny === null || windowAsAny === void 0 ? void 0 : windowAsAny.glue42gd) === null || _a === void 0 ? void 0 : _a.application;\r\n            if (containerApplication) {\r\n                application = containerApplication;\r\n            }\r\n        }\r\n        return {\r\n            bus: (_b = configuration.bus) !== null && _b !== void 0 ? _b : false,\r\n            application: application,\r\n            auth: getAuth(),\r\n            logger: getLogger(),\r\n            connection: connection,\r\n            metrics: (_c = configuration.metrics) !== null && _c !== void 0 ? _c : true,\r\n            contexts: (_d = configuration.contexts) !== null && _d !== void 0 ? _d : true,\r\n            version: ext.version || version,\r\n            libs: (_e = ext.libs) !== null && _e !== void 0 ? _e : [],\r\n            customLogger: configuration.customLogger\r\n        };\r\n    }\n\n    var GW3ContextData = (function () {\r\n        function GW3ContextData(contextId, name, isAnnounced, activityId) {\r\n            this.updateCallbacks = {};\r\n            this.contextId = contextId;\r\n            this.name = name;\r\n            this.isAnnounced = isAnnounced;\r\n            this.activityId = activityId;\r\n            this.context = {};\r\n        }\r\n        GW3ContextData.prototype.hasCallbacks = function () {\r\n            return Object.keys(this.updateCallbacks).length > 0;\r\n        };\r\n        GW3ContextData.prototype.getState = function () {\r\n            if (this.isAnnounced && this.hasCallbacks()) {\r\n                return 3;\r\n            }\r\n            if (this.isAnnounced) {\r\n                return 2;\r\n            }\r\n            if (this.hasCallbacks()) {\r\n                return 1;\r\n            }\r\n            return 0;\r\n        };\r\n        return GW3ContextData;\r\n    }());\n\n    function applyContextDelta(context, delta, logger) {\r\n        try {\r\n            if (logger === null || logger === void 0 ? void 0 : logger.canPublish(\"trace\")) {\r\n                logger === null || logger === void 0 ? void 0 : logger.trace(\"applying context delta \" + JSON.stringify(delta) + \" on context \" + JSON.stringify(context));\r\n            }\r\n            if (!delta) {\r\n                return context;\r\n            }\r\n            if (delta.reset) {\r\n                context = __assign$1({}, delta.reset);\r\n                return context;\r\n            }\r\n            context = deepClone(context, undefined);\r\n            if (delta.commands) {\r\n                for (var _i = 0, _a = delta.commands; _i < _a.length; _i++) {\r\n                    var command = _a[_i];\r\n                    if (command.type === \"remove\") {\r\n                        deletePath(context, command.path);\r\n                    }\r\n                    else if (command.type === \"set\") {\r\n                        setValueToPath(context, command.value, command.path);\r\n                    }\r\n                }\r\n                return context;\r\n            }\r\n            var added_1 = delta.added;\r\n            var updated_1 = delta.updated;\r\n            var removed = delta.removed;\r\n            if (added_1) {\r\n                Object.keys(added_1).forEach(function (key) {\r\n                    context[key] = added_1[key];\r\n                });\r\n            }\r\n            if (updated_1) {\r\n                Object.keys(updated_1).forEach(function (key) {\r\n                    mergeObjectsProperties(key, context, updated_1);\r\n                });\r\n            }\r\n            if (removed) {\r\n                removed.forEach(function (key) {\r\n                    delete context[key];\r\n                });\r\n            }\r\n            return context;\r\n        }\r\n        catch (e) {\r\n            logger === null || logger === void 0 ? void 0 : logger.error(\"error applying context delta \" + JSON.stringify(delta) + \" on context \" + JSON.stringify(context), e);\r\n            return context;\r\n        }\r\n    }\r\n    function deepClone(obj, hash) {\r\n        hash = hash || new WeakMap();\r\n        if (Object(obj) !== obj) {\r\n            return obj;\r\n        }\r\n        if (obj instanceof Set) {\r\n            return new Set(obj);\r\n        }\r\n        if (hash.has(obj)) {\r\n            return hash.get(obj);\r\n        }\r\n        var result = obj instanceof Date ? new Date(obj)\r\n            : obj instanceof RegExp ? new RegExp(obj.source, obj.flags)\r\n                : obj.constructor ? new obj.constructor()\r\n                    : Object.create(null);\r\n        hash.set(obj, result);\r\n        if (obj instanceof Map) {\r\n            Array.from(obj, function (_a) {\r\n                var key = _a[0], val = _a[1];\r\n                return result.set(key, deepClone(val, hash));\r\n            });\r\n        }\r\n        return Object.assign.apply(Object, __spreadArrays([result], Object.keys(obj).map(function (key) {\r\n            var _a;\r\n            return (_a = {}, _a[key] = deepClone(obj[key], hash), _a);\r\n        })));\r\n    }\r\n    var mergeObjectsProperties = function (key, what, withWhat) {\r\n        var right = withWhat[key];\r\n        if (right === undefined) {\r\n            return what;\r\n        }\r\n        var left = what[key];\r\n        if (!left || !right) {\r\n            what[key] = right;\r\n            return what;\r\n        }\r\n        if (typeof left === \"string\" ||\r\n            typeof left === \"number\" ||\r\n            typeof left === \"boolean\" ||\r\n            typeof right === \"string\" ||\r\n            typeof right === \"number\" ||\r\n            typeof right === \"boolean\" ||\r\n            Array.isArray(left) ||\r\n            Array.isArray(right)) {\r\n            what[key] = right;\r\n            return what;\r\n        }\r\n        what[key] = Object.assign({}, left, right);\r\n        return what;\r\n    };\r\n    function deepEqual(x, y) {\r\n        if (x === y) {\r\n            return true;\r\n        }\r\n        if (!(x instanceof Object) || !(y instanceof Object)) {\r\n            return false;\r\n        }\r\n        if (x.constructor !== y.constructor) {\r\n            return false;\r\n        }\r\n        for (var p in x) {\r\n            if (!x.hasOwnProperty(p)) {\r\n                continue;\r\n            }\r\n            if (!y.hasOwnProperty(p)) {\r\n                return false;\r\n            }\r\n            if (x[p] === y[p]) {\r\n                continue;\r\n            }\r\n            if (typeof (x[p]) !== \"object\") {\r\n                return false;\r\n            }\r\n            if (!deepEqual(x[p], y[p])) {\r\n                return false;\r\n            }\r\n        }\r\n        for (var p in y) {\r\n            if (y.hasOwnProperty(p) && !x.hasOwnProperty(p)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    function setValueToPath(obj, value, path) {\r\n        var pathArr = path.split(\".\");\r\n        var i;\r\n        for (i = 0; i < pathArr.length - 1; i++) {\r\n            if (!obj[pathArr[i]]) {\r\n                obj[pathArr[i]] = {};\r\n            }\r\n            if (typeof obj[pathArr[i]] !== \"object\") {\r\n                obj[pathArr[i]] = {};\r\n            }\r\n            obj = obj[pathArr[i]];\r\n        }\r\n        obj[pathArr[i]] = value;\r\n    }\r\n    function deletePath(obj, path) {\r\n        var pathArr = path.split(\".\");\r\n        var i;\r\n        for (i = 0; i < pathArr.length - 1; i++) {\r\n            if (!obj[pathArr[i]]) {\r\n                return;\r\n            }\r\n            obj = obj[pathArr[i]];\r\n        }\r\n        delete obj[pathArr[i]];\r\n    }\n\n    var GW3Bridge = (function () {\r\n        function GW3Bridge(config) {\r\n            var _this = this;\r\n            var _a;\r\n            this._contextNameToData = {};\r\n            this._gw3Subscriptions = [];\r\n            this._nextCallbackSubscriptionNumber = 0;\r\n            this._contextNameToId = {};\r\n            this._contextIdToName = {};\r\n            this._protocolVersion = undefined;\r\n            this._connection = config.connection;\r\n            this._logger = config.logger;\r\n            this._gw3Session = this._connection.domain(\"global\", [\r\n                GW_MESSAGE_CONTEXT_CREATED,\r\n                GW_MESSAGE_SUBSCRIBED_CONTEXT,\r\n                GW_MESSAGE_CONTEXT_DESTROYED,\r\n                GW_MESSAGE_CONTEXT_UPDATED,\r\n            ]);\r\n            this.subscribeToContextCreatedMessages();\r\n            this.subscribeToContextUpdatedMessages();\r\n            this.subscribeToContextDestroyedMessages();\r\n            (_a = this._connection.replayer) === null || _a === void 0 ? void 0 : _a.drain(ContextMessageReplaySpec.name, function (message) {\r\n                var type = message.type;\r\n                if (!type) {\r\n                    return;\r\n                }\r\n                if (type === GW_MESSAGE_CONTEXT_CREATED ||\r\n                    type === GW_MESSAGE_CONTEXT_ADDED ||\r\n                    type === GW_MESSAGE_ACTIVITY_CREATED) {\r\n                    _this.handleContextCreatedMessage(message);\r\n                }\r\n                else if (type === GW_MESSAGE_SUBSCRIBED_CONTEXT ||\r\n                    type === GW_MESSAGE_CONTEXT_UPDATED ||\r\n                    type === GW_MESSAGE_JOINED_ACTIVITY) {\r\n                    _this.handleContextUpdatedMessage(message);\r\n                }\r\n                else if (type === GW_MESSAGE_CONTEXT_DESTROYED ||\r\n                    type === GW_MESSAGE_ACTIVITY_DESTROYED) {\r\n                    _this.handleContextDestroyedMessage(message);\r\n                }\r\n            });\r\n        }\r\n        Object.defineProperty(GW3Bridge.prototype, \"protocolVersion\", {\r\n            get: function () {\r\n                var _a;\r\n                if (!this._protocolVersion) {\r\n                    var contextsDomainInfo = this._connection.availableDomains.find(function (d) { return d.uri === \"context\"; });\r\n                    this._protocolVersion = (_a = contextsDomainInfo === null || contextsDomainInfo === void 0 ? void 0 : contextsDomainInfo.version) !== null && _a !== void 0 ? _a : 1;\r\n                }\r\n                return this._protocolVersion;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(GW3Bridge.prototype, \"setPathSupported\", {\r\n            get: function () {\r\n                return this.protocolVersion >= 2;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        GW3Bridge.prototype.dispose = function () {\r\n            for (var _i = 0, _a = this._gw3Subscriptions; _i < _a.length; _i++) {\r\n                var sub = _a[_i];\r\n                this._connection.off(sub);\r\n            }\r\n            this._gw3Subscriptions.length = 0;\r\n            for (var contextName in this._contextNameToData) {\r\n                if (this._contextNameToId.hasOwnProperty(contextName)) {\r\n                    delete this._contextNameToData[contextName];\r\n                }\r\n            }\r\n        };\r\n        GW3Bridge.prototype.createContext = function (name, data) {\r\n            var _this = this;\r\n            return this._gw3Session\r\n                .send({\r\n                type: GW_MESSAGE_CREATE_CONTEXT,\r\n                domain: \"global\",\r\n                name: name,\r\n                data: data,\r\n                lifetime: \"retained\",\r\n            })\r\n                .then(function (createContextMsg) {\r\n                _this._contextNameToId[name] = createContextMsg.context_id;\r\n                _this._contextIdToName[createContextMsg.context_id] = name;\r\n                var contextData = _this._contextNameToData[name] || new GW3ContextData(createContextMsg.context_id, name, true, undefined);\r\n                contextData.isAnnounced = true;\r\n                contextData.name = name;\r\n                contextData.contextId = createContextMsg.context_id;\r\n                contextData.context = data;\r\n                _this._contextNameToData[name] = contextData;\r\n                return createContextMsg.context_id;\r\n            });\r\n        };\r\n        GW3Bridge.prototype.all = function () {\r\n            var _this = this;\r\n            return Object.keys(this._contextNameToData)\r\n                .filter(function (name) { return _this._contextNameToData[name].isAnnounced; });\r\n        };\r\n        GW3Bridge.prototype.update = function (name, delta) {\r\n            var _a;\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var contextData, currentContext, calculatedDelta;\r\n                var _this = this;\r\n                return __generator$1(this, function (_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            contextData = this._contextNameToData[name];\r\n                            if (!contextData || !contextData.isAnnounced) {\r\n                                return [2, this.createContext(name, delta)];\r\n                            }\r\n                            currentContext = contextData.context;\r\n                            if (!!contextData.hasCallbacks()) return [3, 2];\r\n                            return [4, this.get(contextData.name)];\r\n                        case 1:\r\n                            currentContext = _b.sent();\r\n                            _b.label = 2;\r\n                        case 2:\r\n                            calculatedDelta = this.protocolVersion === 2 ?\r\n                                this.calculateContextDeltaV2(currentContext, delta) :\r\n                                this.calculateContextDeltaV1(currentContext, delta);\r\n                            if (!Object.keys(calculatedDelta.added).length\r\n                                && !Object.keys(calculatedDelta.updated).length\r\n                                && !calculatedDelta.removed.length\r\n                                && !((_a = calculatedDelta.commands) === null || _a === void 0 ? void 0 : _a.length)) {\r\n                                return [2, Promise.resolve()];\r\n                            }\r\n                            return [2, this._gw3Session\r\n                                    .send({\r\n                                    type: GW_MESSAGE_UPDATE_CONTEXT,\r\n                                    domain: \"global\",\r\n                                    context_id: contextData.contextId,\r\n                                    delta: calculatedDelta,\r\n                                }, {}, { skipPeerId: false })\r\n                                    .then(function (gwResponse) {\r\n                                    _this.handleUpdated(contextData, calculatedDelta, {\r\n                                        updaterId: gwResponse.peer_id\r\n                                    });\r\n                                })];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GW3Bridge.prototype.set = function (name, data) {\r\n            var _this = this;\r\n            var contextData = this._contextNameToData[name];\r\n            if (!contextData || !contextData.isAnnounced) {\r\n                return this.createContext(name, data);\r\n            }\r\n            return this._gw3Session\r\n                .send({\r\n                type: GW_MESSAGE_UPDATE_CONTEXT,\r\n                domain: \"global\",\r\n                context_id: contextData.contextId,\r\n                delta: { reset: data },\r\n            }, {}, { skipPeerId: false })\r\n                .then(function (gwResponse) {\r\n                _this.handleUpdated(contextData, { reset: data, added: {}, removed: [], updated: {} }, { updaterId: gwResponse.peer_id });\r\n            });\r\n        };\r\n        GW3Bridge.prototype.setPath = function (name, path, value) {\r\n            if (!this.setPathSupported) {\r\n                return Promise.reject(\"glue.contexts.setPath operation is not supported, use Glue42 3.10 or later\");\r\n            }\r\n            return this.setPaths(name, [{ path: path, value: value }]);\r\n        };\r\n        GW3Bridge.prototype.setPaths = function (name, pathValues) {\r\n            var _this = this;\r\n            if (!this.setPathSupported) {\r\n                return Promise.reject(\"glue.contexts.setPaths operation is not supported, use Glue42 3.10 or later\");\r\n            }\r\n            var contextData = this._contextNameToData[name];\r\n            if (!contextData || !contextData.isAnnounced) {\r\n                var obj = {};\r\n                for (var _i = 0, pathValues_1 = pathValues; _i < pathValues_1.length; _i++) {\r\n                    var pathValue = pathValues_1[_i];\r\n                    setValueToPath(obj, pathValue.value, pathValue.path);\r\n                }\r\n                return this.createContext(name, obj);\r\n            }\r\n            var commands = [];\r\n            for (var _a = 0, pathValues_2 = pathValues; _a < pathValues_2.length; _a++) {\r\n                var pathValue = pathValues_2[_a];\r\n                if (pathValue.value === null) {\r\n                    commands.push({ type: \"remove\", path: pathValue.path });\r\n                }\r\n                else {\r\n                    commands.push({ type: \"set\", path: pathValue.path, value: pathValue.value });\r\n                }\r\n            }\r\n            return this._gw3Session\r\n                .send({\r\n                type: GW_MESSAGE_UPDATE_CONTEXT,\r\n                domain: \"global\",\r\n                context_id: contextData.contextId,\r\n                delta: { commands: commands }\r\n            }, {}, { skipPeerId: false })\r\n                .then(function (gwResponse) {\r\n                _this.handleUpdated(contextData, { added: {}, removed: [], updated: {}, commands: commands }, { updaterId: gwResponse.peer_id });\r\n            });\r\n        };\r\n        GW3Bridge.prototype.get = function (name) {\r\n            var _this = this;\r\n            var _a;\r\n            var contextData = this._contextNameToData[name];\r\n            if (!contextData || !contextData.isAnnounced) {\r\n                return Promise.resolve({});\r\n            }\r\n            if (contextData && !contextData.hasCallbacks()) {\r\n                return new Promise(function (resolve, _) { return __awaiter$1(_this, void 0, void 0, function () {\r\n                    var _this = this;\r\n                    return __generator$1(this, function (_a) {\r\n                        this.subscribe(name, function (data, _d, _r, un) {\r\n                            _this.unsubscribe(un);\r\n                            resolve(data);\r\n                        });\r\n                        return [2];\r\n                    });\r\n                }); });\r\n            }\r\n            var context = (_a = contextData === null || contextData === void 0 ? void 0 : contextData.context) !== null && _a !== void 0 ? _a : {};\r\n            return Promise.resolve(context);\r\n        };\r\n        GW3Bridge.prototype.subscribe = function (name, callback) {\r\n            var thisCallbackSubscriptionNumber = this._nextCallbackSubscriptionNumber;\r\n            this._nextCallbackSubscriptionNumber += 1;\r\n            var contextData = this._contextNameToData[name];\r\n            if (!contextData ||\r\n                !contextData.isAnnounced) {\r\n                contextData = contextData || new GW3ContextData(undefined, name, false, undefined);\r\n                this._contextNameToData[name] = contextData;\r\n                contextData.updateCallbacks[thisCallbackSubscriptionNumber] = callback;\r\n                return Promise.resolve(thisCallbackSubscriptionNumber);\r\n            }\r\n            var hadCallbacks = contextData.hasCallbacks();\r\n            contextData.updateCallbacks[thisCallbackSubscriptionNumber] = callback;\r\n            if (!hadCallbacks) {\r\n                if (!contextData.joinedActivity) {\r\n                    if (contextData.context && contextData.sentExplicitSubscription) {\r\n                        var clone = deepClone(contextData.context);\r\n                        callback(clone, clone, [], thisCallbackSubscriptionNumber);\r\n                        return Promise.resolve(thisCallbackSubscriptionNumber);\r\n                    }\r\n                    return this.sendSubscribe(contextData)\r\n                        .then(function () { return thisCallbackSubscriptionNumber; });\r\n                }\r\n                else {\r\n                    var clone = deepClone(contextData.context);\r\n                    callback(clone, clone, [], thisCallbackSubscriptionNumber);\r\n                    return Promise.resolve(thisCallbackSubscriptionNumber);\r\n                }\r\n            }\r\n            else {\r\n                var clone = deepClone(contextData.context);\r\n                callback(clone, clone, [], thisCallbackSubscriptionNumber);\r\n                return Promise.resolve(thisCallbackSubscriptionNumber);\r\n            }\r\n        };\r\n        GW3Bridge.prototype.unsubscribe = function (subscriptionKey) {\r\n            for (var _i = 0, _a = Object.keys(this._contextNameToData); _i < _a.length; _i++) {\r\n                var name_1 = _a[_i];\r\n                var contextId = this._contextNameToId[name_1];\r\n                var contextData = this._contextNameToData[name_1];\r\n                if (!contextData) {\r\n                    return;\r\n                }\r\n                var hadCallbacks = contextData.hasCallbacks();\r\n                delete contextData.updateCallbacks[subscriptionKey];\r\n                if (contextData.isAnnounced &&\r\n                    hadCallbacks &&\r\n                    !contextData.hasCallbacks() &&\r\n                    contextData.sentExplicitSubscription) {\r\n                    this.sendUnsubscribe(contextData);\r\n                }\r\n                if (!contextData.isAnnounced &&\r\n                    !contextData.hasCallbacks()) {\r\n                    delete this._contextNameToData[name_1];\r\n                }\r\n            }\r\n        };\r\n        GW3Bridge.prototype.destroy = function (name) {\r\n            var contextData = this._contextNameToData[name];\r\n            if (!contextData) {\r\n                return Promise.reject(\"context with \" + name + \" does not exist\");\r\n            }\r\n            return this._gw3Session\r\n                .send({\r\n                type: GW_MESSAGE_DESTROY_CONTEXT,\r\n                domain: \"global\",\r\n                context_id: contextData.contextId,\r\n            }).then(function (_) { return undefined; });\r\n        };\r\n        GW3Bridge.prototype.handleUpdated = function (contextData, delta, extraData) {\r\n            var oldContext = contextData.context;\r\n            contextData.context = applyContextDelta(contextData.context, delta, this._logger);\r\n            if (this._contextNameToData[contextData.name] === contextData &&\r\n                !deepEqual(oldContext, contextData.context)) {\r\n                this.invokeUpdateCallbacks(contextData, delta, extraData);\r\n            }\r\n        };\r\n        GW3Bridge.prototype.subscribeToContextCreatedMessages = function () {\r\n            var createdMessageTypes = [\r\n                GW_MESSAGE_CONTEXT_ADDED,\r\n                GW_MESSAGE_CONTEXT_CREATED,\r\n                GW_MESSAGE_ACTIVITY_CREATED,\r\n            ];\r\n            for (var _i = 0, createdMessageTypes_1 = createdMessageTypes; _i < createdMessageTypes_1.length; _i++) {\r\n                var createdMessageType = createdMessageTypes_1[_i];\r\n                var sub = this._connection.on(createdMessageType, this.handleContextCreatedMessage.bind(this));\r\n                this._gw3Subscriptions.push(sub);\r\n            }\r\n        };\r\n        GW3Bridge.prototype.handleContextCreatedMessage = function (contextCreatedMsg) {\r\n            var createdMessageType = contextCreatedMsg.type;\r\n            if (createdMessageType === GW_MESSAGE_ACTIVITY_CREATED) {\r\n                this._contextNameToId[contextCreatedMsg.activity_id] = contextCreatedMsg.context_id;\r\n                this._contextIdToName[contextCreatedMsg.context_id] = contextCreatedMsg.activity_id;\r\n            }\r\n            else if (createdMessageType === GW_MESSAGE_CONTEXT_ADDED) {\r\n                this._contextNameToId[contextCreatedMsg.name] = contextCreatedMsg.context_id;\r\n                this._contextIdToName[contextCreatedMsg.context_id] = contextCreatedMsg.name;\r\n            }\r\n            else ;\r\n            var name = this._contextIdToName[contextCreatedMsg.context_id];\r\n            if (!name) {\r\n                throw new Error(\"Received created event for context with unknown name: \" + contextCreatedMsg.context_id);\r\n            }\r\n            if (!this._contextNameToId[name]) {\r\n                throw new Error(\"Received created event for context with unknown id: \" + contextCreatedMsg.context_id);\r\n            }\r\n            var contextData = this._contextNameToData[name];\r\n            if (contextData) {\r\n                if (contextData.isAnnounced) {\r\n                    return;\r\n                }\r\n                else {\r\n                    if (!contextData.hasCallbacks()) {\r\n                        throw new Error(\"Assertion failure: contextData.hasCallbacks()\");\r\n                    }\r\n                    contextData.isAnnounced = true;\r\n                    contextData.contextId = contextCreatedMsg.context_id;\r\n                    contextData.activityId = contextCreatedMsg.activity_id;\r\n                    if (!contextData.sentExplicitSubscription) {\r\n                        this.sendSubscribe(contextData);\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                this._contextNameToData[name] = contextData =\r\n                    new GW3ContextData(contextCreatedMsg.context_id, name, true, contextCreatedMsg.activity_id);\r\n            }\r\n        };\r\n        GW3Bridge.prototype.subscribeToContextUpdatedMessages = function () {\r\n            var updatedMessageTypes = [\r\n                GW_MESSAGE_CONTEXT_UPDATED,\r\n                GW_MESSAGE_SUBSCRIBED_CONTEXT,\r\n                GW_MESSAGE_JOINED_ACTIVITY,\r\n            ];\r\n            for (var _i = 0, updatedMessageTypes_1 = updatedMessageTypes; _i < updatedMessageTypes_1.length; _i++) {\r\n                var updatedMessageType = updatedMessageTypes_1[_i];\r\n                var sub = this._connection.on(updatedMessageType, this.handleContextUpdatedMessage.bind(this));\r\n                this._gw3Subscriptions.push(sub);\r\n            }\r\n        };\r\n        GW3Bridge.prototype.handleContextUpdatedMessage = function (contextUpdatedMsg) {\r\n            var updatedMessageType = contextUpdatedMsg.type;\r\n            var contextId = contextUpdatedMsg.context_id;\r\n            var contextData = this._contextNameToData[this._contextIdToName[contextId]];\r\n            var justSeen = !contextData || !contextData.isAnnounced;\r\n            if (updatedMessageType === GW_MESSAGE_JOINED_ACTIVITY) {\r\n                if (!contextData) {\r\n                    contextData = new GW3ContextData(contextId, contextUpdatedMsg.activity_id, true, contextUpdatedMsg.activity_id);\r\n                    this._contextNameToData[contextUpdatedMsg.activity_id] = contextData;\r\n                    this._contextIdToName[contextId] = contextUpdatedMsg.activity_id;\r\n                    this._contextNameToId[contextUpdatedMsg.activity_id] = contextId;\r\n                }\r\n                else {\r\n                    contextData.contextId = contextId;\r\n                    contextData.isAnnounced = true;\r\n                    contextData.activityId = contextUpdatedMsg.activity_id;\r\n                }\r\n                contextData.joinedActivity = true;\r\n            }\r\n            else {\r\n                if (!contextData || !contextData.isAnnounced) {\r\n                    if (updatedMessageType === GW_MESSAGE_SUBSCRIBED_CONTEXT) {\r\n                        contextData = contextData || new GW3ContextData(contextId, contextUpdatedMsg.name, true, undefined);\r\n                        contextData.sentExplicitSubscription = true;\r\n                        this._contextNameToData[contextUpdatedMsg.name] = contextData;\r\n                        this._contextIdToName[contextId] = contextUpdatedMsg.name;\r\n                        this._contextNameToId[contextUpdatedMsg.name] = contextId;\r\n                    }\r\n                    else {\r\n                        this._logger.error(\"Received 'update' for unknown context: \" + contextId);\r\n                    }\r\n                    return;\r\n                }\r\n            }\r\n            var oldContext = contextData.context;\r\n            if (updatedMessageType === GW_MESSAGE_SUBSCRIBED_CONTEXT) {\r\n                contextData.context = contextUpdatedMsg.data || {};\r\n            }\r\n            else if (updatedMessageType === GW_MESSAGE_JOINED_ACTIVITY) {\r\n                contextData.context = contextUpdatedMsg.context_snapshot || {};\r\n            }\r\n            else if (updatedMessageType === GW_MESSAGE_CONTEXT_UPDATED) {\r\n                contextData.context = applyContextDelta(contextData.context, contextUpdatedMsg.delta, this._logger);\r\n            }\r\n            else {\r\n                throw new Error(\"Unrecognized context update message \" + updatedMessageType);\r\n            }\r\n            if (justSeen ||\r\n                !deepEqual(contextData.context, oldContext) ||\r\n                updatedMessageType === GW_MESSAGE_SUBSCRIBED_CONTEXT) {\r\n                this.invokeUpdateCallbacks(contextData, contextUpdatedMsg.delta, { updaterId: contextUpdatedMsg.updater_id });\r\n            }\r\n        };\r\n        GW3Bridge.prototype.invokeUpdateCallbacks = function (contextData, delta, extraData) {\r\n            delta = delta || { added: {}, updated: {}, reset: {}, removed: [] };\r\n            if (delta.commands) {\r\n                delta.added = delta.updated = delta.reset = {};\r\n                delta.removed = [];\r\n                for (var _i = 0, _a = delta.commands; _i < _a.length; _i++) {\r\n                    var command = _a[_i];\r\n                    if (command.type === \"remove\") {\r\n                        if (command.path.indexOf(\".\") === -1) {\r\n                            delta.removed.push(command.path);\r\n                        }\r\n                        setValueToPath(delta.updated, null, command.path);\r\n                    }\r\n                    else if (command.type === \"set\") {\r\n                        setValueToPath(delta.updated, command.value, command.path);\r\n                    }\r\n                }\r\n            }\r\n            for (var updateCallbackIndex in contextData.updateCallbacks) {\r\n                if (contextData.updateCallbacks.hasOwnProperty(updateCallbackIndex)) {\r\n                    try {\r\n                        var updateCallback = contextData.updateCallbacks[updateCallbackIndex];\r\n                        updateCallback(deepClone(contextData.context), Object.assign({}, delta.added || {}, delta.updated || {}, delta.reset || {}), delta.removed, parseInt(updateCallbackIndex, 10), extraData);\r\n                    }\r\n                    catch (err) {\r\n                        this._logger.debug(\"callback error: \" + JSON.stringify(err));\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        GW3Bridge.prototype.subscribeToContextDestroyedMessages = function () {\r\n            var destroyedMessageTypes = [\r\n                GW_MESSAGE_CONTEXT_DESTROYED,\r\n                GW_MESSAGE_ACTIVITY_DESTROYED,\r\n            ];\r\n            for (var _i = 0, destroyedMessageTypes_1 = destroyedMessageTypes; _i < destroyedMessageTypes_1.length; _i++) {\r\n                var destroyedMessageType = destroyedMessageTypes_1[_i];\r\n                var sub = this._connection.on(destroyedMessageType, this.handleContextDestroyedMessage.bind(this));\r\n                this._gw3Subscriptions.push(sub);\r\n            }\r\n        };\r\n        GW3Bridge.prototype.handleContextDestroyedMessage = function (destroyedMsg) {\r\n            var destroyedMessageType = destroyedMsg.type;\r\n            var contextId;\r\n            var name;\r\n            if (destroyedMessageType === GW_MESSAGE_ACTIVITY_DESTROYED) {\r\n                name = destroyedMsg.activity_id;\r\n                contextId = this._contextNameToId[name];\r\n                if (!contextId) {\r\n                    this._logger.error(\"Received 'destroyed' for unknown activity: \" + destroyedMsg.activity_id);\r\n                    return;\r\n                }\r\n            }\r\n            else {\r\n                contextId = destroyedMsg.context_id;\r\n                name = this._contextIdToName[contextId];\r\n                if (!name) {\r\n                    this._logger.error(\"Received 'destroyed' for unknown context: \" + destroyedMsg.context_id);\r\n                    return;\r\n                }\r\n            }\r\n            delete this._contextIdToName[contextId];\r\n            delete this._contextNameToId[name];\r\n            var contextData = this._contextNameToData[name];\r\n            delete this._contextNameToData[name];\r\n            if (!contextData || !contextData.isAnnounced) {\r\n                this._logger.error(\"Received 'destroyed' for unknown context: \" + contextId);\r\n                return;\r\n            }\r\n        };\r\n        GW3Bridge.prototype.sendSubscribe = function (contextData) {\r\n            contextData.sentExplicitSubscription = true;\r\n            return this._gw3Session\r\n                .send({\r\n                type: GW_MESSAGE_SUBSCRIBE_CONTEXT,\r\n                domain: \"global\",\r\n                context_id: contextData.contextId,\r\n            }).then(function (_) { return undefined; });\r\n        };\r\n        GW3Bridge.prototype.sendUnsubscribe = function (contextData) {\r\n            contextData.sentExplicitSubscription = false;\r\n            return this._gw3Session\r\n                .send({\r\n                type: GW_MESSAGE_UNSUBSCRIBE_CONTEXT,\r\n                domain: \"global\",\r\n                context_id: contextData.contextId,\r\n            }).then(function (_) { return undefined; });\r\n        };\r\n        GW3Bridge.prototype.calculateContextDeltaV1 = function (from, to) {\r\n            var delta = { added: {}, updated: {}, removed: [], reset: undefined };\r\n            if (from) {\r\n                for (var _i = 0, _a = Object.keys(from); _i < _a.length; _i++) {\r\n                    var x = _a[_i];\r\n                    if (Object.keys(to).indexOf(x) !== -1\r\n                        && to[x] !== null\r\n                        && !deepEqual(from[x], to[x])) {\r\n                        delta.updated[x] = to[x];\r\n                    }\r\n                }\r\n            }\r\n            for (var _b = 0, _c = Object.keys(to); _b < _c.length; _b++) {\r\n                var x = _c[_b];\r\n                if (!from || (Object.keys(from).indexOf(x) === -1)) {\r\n                    if (to[x] !== null) {\r\n                        delta.added[x] = to[x];\r\n                    }\r\n                }\r\n                else if (to[x] === null) {\r\n                    delta.removed.push(x);\r\n                }\r\n            }\r\n            return delta;\r\n        };\r\n        GW3Bridge.prototype.calculateContextDeltaV2 = function (from, to) {\r\n            var _a, _b;\r\n            var delta = { added: {}, updated: {}, removed: [], reset: undefined, commands: [] };\r\n            for (var _i = 0, _c = Object.keys(to); _i < _c.length; _i++) {\r\n                var x = _c[_i];\r\n                if (to[x] !== null) {\r\n                    var fromX = from ? from[x] : null;\r\n                    if (!deepEqual(fromX, to[x])) {\r\n                        (_a = delta.commands) === null || _a === void 0 ? void 0 : _a.push({ type: \"set\", path: x, value: to[x] });\r\n                    }\r\n                }\r\n                else {\r\n                    (_b = delta.commands) === null || _b === void 0 ? void 0 : _b.push({ type: \"remove\", path: x });\r\n                }\r\n            }\r\n            return delta;\r\n        };\r\n        return GW3Bridge;\r\n    }());\n\n    var ContextsModule = (function () {\r\n        function ContextsModule(config) {\r\n            this._bridge = new GW3Bridge(config);\r\n        }\r\n        ContextsModule.prototype.all = function () {\r\n            return this._bridge.all();\r\n        };\r\n        ContextsModule.prototype.update = function (name, data) {\r\n            this.checkName(name);\r\n            this.checkData(data);\r\n            return this._bridge.update(name, data);\r\n        };\r\n        ContextsModule.prototype.set = function (name, data) {\r\n            this.checkName(name);\r\n            this.checkData(data);\r\n            return this._bridge.set(name, data);\r\n        };\r\n        ContextsModule.prototype.setPath = function (name, path, data) {\r\n            this.checkName(name);\r\n            this.checkPath(path);\r\n            var isTopLevelPath = path === \"\";\r\n            if (isTopLevelPath) {\r\n                this.checkData(data);\r\n                return this.set(name, data);\r\n            }\r\n            return this._bridge.setPath(name, path, data);\r\n        };\r\n        ContextsModule.prototype.setPaths = function (name, paths) {\r\n            this.checkName(name);\r\n            if (!Array.isArray(paths)) {\r\n                throw new Error(\"Please provide the paths as an array of PathValues!\");\r\n            }\r\n            for (var _i = 0, paths_1 = paths; _i < paths_1.length; _i++) {\r\n                var _a = paths_1[_i], path = _a.path, value = _a.value;\r\n                this.checkPath(path);\r\n                var isTopLevelPath = path === \"\";\r\n                if (isTopLevelPath) {\r\n                    this.checkData(value);\r\n                }\r\n            }\r\n            return this._bridge.setPaths(name, paths);\r\n        };\r\n        ContextsModule.prototype.subscribe = function (name, callback) {\r\n            var _this = this;\r\n            this.checkName(name);\r\n            if (typeof callback !== \"function\") {\r\n                throw new Error(\"Please provide the callback as a function!\");\r\n            }\r\n            return this._bridge\r\n                .subscribe(name, function (data, delta, removed, key, extraData) { return callback(data, delta, removed, function () { return _this._bridge.unsubscribe(key); }, extraData); })\r\n                .then(function (key) {\r\n                return function () {\r\n                    _this._bridge.unsubscribe(key);\r\n                };\r\n            });\r\n        };\r\n        ContextsModule.prototype.get = function (name) {\r\n            this.checkName(name);\r\n            return this._bridge.get(name);\r\n        };\r\n        ContextsModule.prototype.ready = function () {\r\n            return Promise.resolve(this);\r\n        };\r\n        ContextsModule.prototype.destroy = function (name) {\r\n            this.checkName(name);\r\n            return this._bridge.destroy(name);\r\n        };\r\n        Object.defineProperty(ContextsModule.prototype, \"setPathSupported\", {\r\n            get: function () {\r\n                return this._bridge.setPathSupported;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ContextsModule.prototype.checkName = function (name) {\r\n            if (typeof name !== \"string\" || name === \"\") {\r\n                throw new Error(\"Please provide the name as a non-empty string!\");\r\n            }\r\n        };\r\n        ContextsModule.prototype.checkPath = function (path) {\r\n            if (typeof path !== \"string\") {\r\n                throw new Error(\"Please provide the path as a dot delimited string!\");\r\n            }\r\n        };\r\n        ContextsModule.prototype.checkData = function (data) {\r\n            if (typeof data !== \"object\") {\r\n                throw new Error(\"Please provide the data as an object!\");\r\n            }\r\n        };\r\n        return ContextsModule;\r\n    }());\n\n    function promisify (promise, successCallback, errorCallback) {\r\n        if (typeof successCallback !== \"function\" && typeof errorCallback !== \"function\") {\r\n            return promise;\r\n        }\r\n        if (typeof successCallback !== \"function\") {\r\n            successCallback = function () { };\r\n        }\r\n        else if (typeof errorCallback !== \"function\") {\r\n            errorCallback = function () { };\r\n        }\r\n        return promise.then(successCallback, errorCallback);\r\n    }\n\n    function rejectAfter(ms, promise, error) {\r\n        if (ms === void 0) { ms = 0; }\r\n        var timeout;\r\n        promise.finally(function () {\r\n            if (timeout) {\r\n                clearTimeout(timeout);\r\n            }\r\n        });\r\n        return new Promise(function (resolve, reject) {\r\n            timeout = setTimeout(function () { return reject(error); }, ms);\r\n        });\r\n    }\n\n    var InvokeStatus;\r\n    (function (InvokeStatus) {\r\n        InvokeStatus[InvokeStatus[\"Success\"] = 0] = \"Success\";\r\n        InvokeStatus[InvokeStatus[\"Error\"] = 1] = \"Error\";\r\n    })(InvokeStatus || (InvokeStatus = {}));\r\n    var Client = (function () {\r\n        function Client(protocol, repo, instance, configuration) {\r\n            this.protocol = protocol;\r\n            this.repo = repo;\r\n            this.instance = instance;\r\n            this.configuration = configuration;\r\n        }\r\n        Client.prototype.subscribe = function (method, options, successCallback, errorCallback, existingSub) {\r\n            var _this = this;\r\n            var callProtocolSubscribe = function (targetServers, stream, successProxy, errorProxy) {\r\n                var _a;\r\n                options.methodResponseTimeout = (_a = options.methodResponseTimeout) !== null && _a !== void 0 ? _a : options.waitTimeoutMs;\r\n                _this.protocol.client.subscribe(stream, options, targetServers, successProxy, errorProxy, existingSub);\r\n            };\r\n            var promise = new Promise(function (resolve, reject) {\r\n                var successProxy = function (sub) {\r\n                    resolve(sub);\r\n                };\r\n                var errorProxy = function (err) {\r\n                    reject(err);\r\n                };\r\n                if (!method) {\r\n                    reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n                    return;\r\n                }\r\n                var methodDef;\r\n                if (typeof method === \"string\") {\r\n                    methodDef = { name: method };\r\n                }\r\n                else {\r\n                    methodDef = method;\r\n                }\r\n                if (!methodDef.name) {\r\n                    reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n                    return;\r\n                }\r\n                if (options === undefined) {\r\n                    options = {};\r\n                }\r\n                var target = options.target;\r\n                if (target === undefined) {\r\n                    target = \"best\";\r\n                }\r\n                if (typeof target === \"string\" && target !== \"all\" && target !== \"best\") {\r\n                    reject(new Error(\"\\\"\" + target + \"\\\" is not a valid target. Valid targets are \\\"all\\\", \\\"best\\\", or an instance.\"));\r\n                    return;\r\n                }\r\n                if (options.methodResponseTimeout === undefined) {\r\n                    options.methodResponseTimeout = options.method_response_timeout;\r\n                    if (options.methodResponseTimeout === undefined) {\r\n                        options.methodResponseTimeout = _this.configuration.methodResponseTimeout;\r\n                    }\r\n                }\r\n                if (options.waitTimeoutMs === undefined) {\r\n                    options.waitTimeoutMs = options.wait_for_method_timeout;\r\n                    if (options.waitTimeoutMs === undefined) {\r\n                        options.waitTimeoutMs = _this.configuration.waitTimeoutMs;\r\n                    }\r\n                }\r\n                var delayStep = 500;\r\n                var delayTillNow = 0;\r\n                var currentServers = _this.getServerMethodsByFilterAndTarget(methodDef, target);\r\n                if (currentServers.length > 0) {\r\n                    callProtocolSubscribe(currentServers, currentServers[0].methods[0], successProxy, errorProxy);\r\n                }\r\n                else {\r\n                    var retry_1 = function () {\r\n                        if (!target || !(options.waitTimeoutMs)) {\r\n                            return;\r\n                        }\r\n                        delayTillNow += delayStep;\r\n                        currentServers = _this.getServerMethodsByFilterAndTarget(methodDef, target);\r\n                        if (currentServers.length > 0) {\r\n                            var streamInfo = currentServers[0].methods[0];\r\n                            callProtocolSubscribe(currentServers, streamInfo, successProxy, errorProxy);\r\n                        }\r\n                        else if (delayTillNow >= options.waitTimeoutMs) {\r\n                            var def = typeof method === \"string\" ? { name: method } : method;\r\n                            callProtocolSubscribe(currentServers, def, successProxy, errorProxy);\r\n                        }\r\n                        else {\r\n                            setTimeout(retry_1, delayStep);\r\n                        }\r\n                    };\r\n                    setTimeout(retry_1, delayStep);\r\n                }\r\n            });\r\n            return promisify(promise, successCallback, errorCallback);\r\n        };\r\n        Client.prototype.servers = function (methodFilter) {\r\n            var filterCopy = methodFilter === undefined\r\n                ? undefined\r\n                : __assign$1({}, methodFilter);\r\n            return this.getServers(filterCopy).map(function (serverMethodMap) {\r\n                return serverMethodMap.server.instance;\r\n            });\r\n        };\r\n        Client.prototype.methods = function (methodFilter) {\r\n            if (typeof methodFilter === \"string\") {\r\n                methodFilter = { name: methodFilter };\r\n            }\r\n            else {\r\n                methodFilter = __assign$1({}, methodFilter);\r\n            }\r\n            return this.getMethods(methodFilter);\r\n        };\r\n        Client.prototype.methodsForInstance = function (instance) {\r\n            return this.getMethodsForInstance(instance);\r\n        };\r\n        Client.prototype.methodAdded = function (callback) {\r\n            return this.repo.onMethodAdded(callback);\r\n        };\r\n        Client.prototype.methodRemoved = function (callback) {\r\n            return this.repo.onMethodRemoved(callback);\r\n        };\r\n        Client.prototype.serverAdded = function (callback) {\r\n            return this.repo.onServerAdded(callback);\r\n        };\r\n        Client.prototype.serverRemoved = function (callback) {\r\n            return this.repo.onServerRemoved(function (server, reason) {\r\n                callback(server, reason);\r\n            });\r\n        };\r\n        Client.prototype.serverMethodAdded = function (callback) {\r\n            return this.repo.onServerMethodAdded(function (server, method) {\r\n                callback({ server: server, method: method });\r\n            });\r\n        };\r\n        Client.prototype.serverMethodRemoved = function (callback) {\r\n            return this.repo.onServerMethodRemoved(function (server, method) {\r\n                callback({ server: server, method: method });\r\n            });\r\n        };\r\n        Client.prototype.invoke = function (methodFilter, argumentObj, target, additionalOptions, success, error) {\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var getInvokePromise;\r\n                var _this = this;\r\n                return __generator$1(this, function (_a) {\r\n                    getInvokePromise = function () { return __awaiter$1(_this, void 0, void 0, function () {\r\n                        var methodDefinition, serversMethodMap, err_1, method, errorObj, timeout, additionalOptionsCopy, invokePromises, invocationMessages, results, allRejected;\r\n                        var _this = this;\r\n                        var _a;\r\n                        return __generator$1(this, function (_b) {\r\n                            switch (_b.label) {\r\n                                case 0:\r\n                                    if (typeof methodFilter === \"string\") {\r\n                                        methodDefinition = { name: methodFilter };\r\n                                    }\r\n                                    else {\r\n                                        methodDefinition = __assign$1({}, methodFilter);\r\n                                    }\r\n                                    if (!methodDefinition.name) {\r\n                                        return [2, Promise.reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\")];\r\n                                    }\r\n                                    if (!argumentObj) {\r\n                                        argumentObj = {};\r\n                                    }\r\n                                    if (!target) {\r\n                                        target = \"best\";\r\n                                    }\r\n                                    if (typeof target === \"string\" && target !== \"all\" && target !== \"best\" && target !== \"skipMine\") {\r\n                                        return [2, Promise.reject(new Error(\"\\\"\" + target + \"\\\" is not a valid target. Valid targets are \\\"all\\\" and \\\"best\\\".\"))];\r\n                                    }\r\n                                    if (!additionalOptions) {\r\n                                        additionalOptions = {};\r\n                                    }\r\n                                    if (additionalOptions.methodResponseTimeoutMs === undefined) {\r\n                                        additionalOptions.methodResponseTimeoutMs = additionalOptions.method_response_timeout;\r\n                                        if (additionalOptions.methodResponseTimeoutMs === undefined) {\r\n                                            additionalOptions.methodResponseTimeoutMs = this.configuration.methodResponseTimeout;\r\n                                        }\r\n                                    }\r\n                                    if (additionalOptions.waitTimeoutMs === undefined) {\r\n                                        additionalOptions.waitTimeoutMs = additionalOptions.wait_for_method_timeout;\r\n                                        if (additionalOptions.waitTimeoutMs === undefined) {\r\n                                            additionalOptions.waitTimeoutMs = this.configuration.waitTimeoutMs;\r\n                                        }\r\n                                    }\r\n                                    if (additionalOptions.waitTimeoutMs !== undefined && typeof additionalOptions.waitTimeoutMs !== \"number\") {\r\n                                        return [2, Promise.reject(new Error(\"\\\"\" + additionalOptions.waitTimeoutMs + \"\\\" is not a valid number for \\\"waitTimeoutMs\\\" \"))];\r\n                                    }\r\n                                    if (typeof argumentObj !== \"object\") {\r\n                                        return [2, Promise.reject(new Error(\"The method arguments must be an object. method: \" + methodDefinition.name))];\r\n                                    }\r\n                                    serversMethodMap = this.getServerMethodsByFilterAndTarget(methodDefinition, target);\r\n                                    if (!(serversMethodMap.length === 0)) return [3, 4];\r\n                                    _b.label = 1;\r\n                                case 1:\r\n                                    _b.trys.push([1, 3, , 4]);\r\n                                    return [4, this.tryToAwaitForMethods(methodDefinition, target, additionalOptions)];\r\n                                case 2:\r\n                                    serversMethodMap = _b.sent();\r\n                                    return [3, 4];\r\n                                case 3:\r\n                                    err_1 = _b.sent();\r\n                                    method = __assign$1(__assign$1({}, methodDefinition), { getServers: function () { return []; }, supportsStreaming: false, objectTypes: (_a = methodDefinition.objectTypes) !== null && _a !== void 0 ? _a : [] });\r\n                                    errorObj = {\r\n                                        method: method,\r\n                                        called_with: argumentObj,\r\n                                        message: \"Can not find a method matching \" + JSON.stringify(methodFilter) + \" with server filter \" + JSON.stringify(target),\r\n                                        executed_by: undefined,\r\n                                        returned: undefined,\r\n                                        status: undefined,\r\n                                    };\r\n                                    return [2, Promise.reject(errorObj)];\r\n                                case 4:\r\n                                    timeout = additionalOptions.methodResponseTimeoutMs;\r\n                                    additionalOptionsCopy = additionalOptions;\r\n                                    invokePromises = serversMethodMap.map(function (serversMethodPair) {\r\n                                        var invId = shortid();\r\n                                        var method = serversMethodPair.methods[0];\r\n                                        var server = serversMethodPair.server;\r\n                                        var invokePromise = _this.protocol.client.invoke(invId, method, argumentObj, server, additionalOptionsCopy);\r\n                                        return Promise.race([\r\n                                            invokePromise,\r\n                                            rejectAfter(timeout, invokePromise, {\r\n                                                invocationId: invId,\r\n                                                message: \"Invocation timeout (\" + timeout + \" ms) reached for method name: \" + (method === null || method === void 0 ? void 0 : method.name) + \", target instance: \" + JSON.stringify(server.instance) + \", options: \" + JSON.stringify(additionalOptionsCopy),\r\n                                                status: InvokeStatus.Error,\r\n                                            })\r\n                                        ]);\r\n                                    });\r\n                                    return [4, Promise.all(invokePromises)];\r\n                                case 5:\r\n                                    invocationMessages = _b.sent();\r\n                                    results = this.getInvocationResultObj(invocationMessages, methodDefinition, argumentObj);\r\n                                    allRejected = invocationMessages.every(function (result) { return result.status === InvokeStatus.Error; });\r\n                                    if (allRejected) {\r\n                                        return [2, Promise.reject(results)];\r\n                                    }\r\n                                    return [2, results];\r\n                            }\r\n                        });\r\n                    }); };\r\n                    return [2, promisify(getInvokePromise(), success, error)];\r\n                });\r\n            });\r\n        };\r\n        Client.prototype.getInvocationResultObj = function (invocationResults, method, calledWith) {\r\n            var all_return_values = invocationResults\r\n                .filter(function (invokeMessage) { return invokeMessage.status === InvokeStatus.Success; })\r\n                .reduce(function (allValues, currentValue) {\r\n                allValues = __spreadArrays(allValues, [\r\n                    {\r\n                        executed_by: currentValue.instance,\r\n                        returned: currentValue.result,\r\n                        called_with: calledWith,\r\n                        method: method,\r\n                        message: currentValue.message,\r\n                        status: currentValue.status,\r\n                    }\r\n                ]);\r\n                return allValues;\r\n            }, []);\r\n            var all_errors = invocationResults\r\n                .filter(function (invokeMessage) { return invokeMessage.status === InvokeStatus.Error; })\r\n                .reduce(function (allErrors, currError) {\r\n                allErrors = __spreadArrays(allErrors, [\r\n                    {\r\n                        executed_by: currError.instance,\r\n                        called_with: calledWith,\r\n                        name: method.name,\r\n                        message: currError.message,\r\n                    }\r\n                ]);\r\n                return allErrors;\r\n            }, []);\r\n            var invResult = invocationResults[0];\r\n            var result = {\r\n                method: method,\r\n                called_with: calledWith,\r\n                returned: invResult.result,\r\n                executed_by: invResult.instance,\r\n                all_return_values: all_return_values,\r\n                all_errors: all_errors,\r\n                message: invResult.message,\r\n                status: invResult.status\r\n            };\r\n            return result;\r\n        };\r\n        Client.prototype.tryToAwaitForMethods = function (methodDefinition, target, additionalOptions) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                if (additionalOptions.waitTimeoutMs === 0) {\r\n                    reject();\r\n                    return;\r\n                }\r\n                var delayStep = 500;\r\n                var delayTillNow = 0;\r\n                var retry = function () {\r\n                    delayTillNow += delayStep;\r\n                    var serversMethodMap = _this.getServerMethodsByFilterAndTarget(methodDefinition, target);\r\n                    if (serversMethodMap.length > 0) {\r\n                        clearInterval(interval);\r\n                        resolve(serversMethodMap);\r\n                    }\r\n                    else if (delayTillNow >= (additionalOptions.waitTimeoutMs || 10000)) {\r\n                        clearInterval(interval);\r\n                        reject();\r\n                        return;\r\n                    }\r\n                };\r\n                var interval = setInterval(retry, delayStep);\r\n            });\r\n        };\r\n        Client.prototype.filterByTarget = function (target, serverMethodMap) {\r\n            var _this = this;\r\n            if (typeof target === \"string\") {\r\n                if (target === \"all\") {\r\n                    return __spreadArrays(serverMethodMap);\r\n                }\r\n                else if (target === \"best\") {\r\n                    var localMachine = serverMethodMap\r\n                        .find(function (s) { return s.server.instance.isLocal; });\r\n                    if (localMachine) {\r\n                        return [localMachine];\r\n                    }\r\n                    if (serverMethodMap[0] !== undefined) {\r\n                        return [serverMethodMap[0]];\r\n                    }\r\n                }\r\n                else if (target === \"skipMine\") {\r\n                    return serverMethodMap.filter(function (_a) {\r\n                        var server = _a.server;\r\n                        return server.instance.peerId !== _this.instance.peerId;\r\n                    });\r\n                }\r\n            }\r\n            else {\r\n                var targetArray = void 0;\r\n                if (!Array.isArray(target)) {\r\n                    targetArray = [target];\r\n                }\r\n                else {\r\n                    targetArray = target;\r\n                }\r\n                var allServersMatching = targetArray.reduce(function (matches, filter) {\r\n                    var myMatches = serverMethodMap.filter(function (serverMethodPair) {\r\n                        return _this.instanceMatch(filter, serverMethodPair.server.instance);\r\n                    });\r\n                    return matches.concat(myMatches);\r\n                }, []);\r\n                return allServersMatching;\r\n            }\r\n            return [];\r\n        };\r\n        Client.prototype.instanceMatch = function (instanceFilter, instanceDefinition) {\r\n            return this.containsProps(instanceFilter, instanceDefinition);\r\n        };\r\n        Client.prototype.methodMatch = function (methodFilter, methodDefinition) {\r\n            return this.containsProps(methodFilter, methodDefinition);\r\n        };\r\n        Client.prototype.containsProps = function (filter, repoMethod) {\r\n            var filterProps = Object.keys(filter)\r\n                .filter(function (prop) {\r\n                return filter[prop] !== undefined\r\n                    && typeof filter[prop] !== \"function\"\r\n                    && prop !== \"object_types\"\r\n                    && prop !== \"display_name\"\r\n                    && prop !== \"id\"\r\n                    && prop !== \"gatewayId\"\r\n                    && prop !== \"identifier\"\r\n                    && prop[0] !== \"_\";\r\n            });\r\n            return filterProps.reduce(function (isMatch, prop) {\r\n                var filterValue = filter[prop];\r\n                var repoMethodValue = repoMethod[prop];\r\n                if (prop === \"objectTypes\") {\r\n                    var containsAllFromFilter = function (filterObjTypes, repoObjectTypes) {\r\n                        var objTypeToContains = filterObjTypes.reduce(function (object, objType) {\r\n                            object[objType] = false;\r\n                            return object;\r\n                        }, {});\r\n                        repoObjectTypes.forEach(function (repoObjType) {\r\n                            if (objTypeToContains[repoObjType] !== undefined) {\r\n                                objTypeToContains[repoObjType] = true;\r\n                            }\r\n                        });\r\n                        var filterIsFullfilled = function () { return Object.keys(objTypeToContains).reduce(function (isFullfiled, objType) {\r\n                            if (!objTypeToContains[objType]) {\r\n                                isFullfiled = false;\r\n                            }\r\n                            return isFullfiled;\r\n                        }, true); };\r\n                        return filterIsFullfilled();\r\n                    };\r\n                    if (filterValue.length > repoMethodValue.length\r\n                        || containsAllFromFilter(filterValue, repoMethodValue) === false) {\r\n                        isMatch = false;\r\n                    }\r\n                }\r\n                else if (String(filterValue).toLowerCase() !== String(repoMethodValue).toLowerCase()) {\r\n                    isMatch = false;\r\n                }\r\n                return isMatch;\r\n            }, true);\r\n        };\r\n        Client.prototype.getMethods = function (methodFilter) {\r\n            var _this = this;\r\n            if (methodFilter === undefined) {\r\n                return this.repo.getMethods();\r\n            }\r\n            var methods = this.repo.getMethods().filter(function (method) {\r\n                return _this.methodMatch(methodFilter, method);\r\n            });\r\n            return methods;\r\n        };\r\n        Client.prototype.getMethodsForInstance = function (instanceFilter) {\r\n            var _this = this;\r\n            var allServers = this.repo.getServers();\r\n            var matchingServers = allServers.filter(function (server) {\r\n                return _this.instanceMatch(instanceFilter, server.instance);\r\n            });\r\n            if (matchingServers.length === 0) {\r\n                return [];\r\n            }\r\n            var resultMethodsObject = {};\r\n            if (matchingServers.length === 1) {\r\n                resultMethodsObject = matchingServers[0].methods;\r\n            }\r\n            else {\r\n                matchingServers.forEach(function (server) {\r\n                    Object.keys(server.methods).forEach(function (methodKey) {\r\n                        var method = server.methods[methodKey];\r\n                        resultMethodsObject[method.identifier] = method;\r\n                    });\r\n                });\r\n            }\r\n            return Object.keys(resultMethodsObject)\r\n                .map(function (key) {\r\n                return resultMethodsObject[key];\r\n            });\r\n        };\r\n        Client.prototype.getServers = function (methodFilter) {\r\n            var _this = this;\r\n            var servers = this.repo.getServers();\r\n            if (methodFilter === undefined) {\r\n                return servers.map(function (server) {\r\n                    return { server: server, methods: [] };\r\n                });\r\n            }\r\n            return servers.reduce(function (prev, current) {\r\n                var methodsForServer = _this.repo.getServerMethodsById(current.id);\r\n                var matchingMethods = methodsForServer.filter(function (method) {\r\n                    return _this.methodMatch(methodFilter, method);\r\n                });\r\n                if (matchingMethods.length > 0) {\r\n                    prev.push({ server: current, methods: matchingMethods });\r\n                }\r\n                return prev;\r\n            }, []);\r\n        };\r\n        Client.prototype.getServerMethodsByFilterAndTarget = function (methodFilter, target) {\r\n            var serversMethodMap = this.getServers(methodFilter);\r\n            return this.filterByTarget(target, serversMethodMap);\r\n        };\r\n        return Client;\r\n    }());\n\n    var ServerSubscription = (function () {\r\n        function ServerSubscription(protocol, repoMethod, subscription) {\r\n            this.protocol = protocol;\r\n            this.repoMethod = repoMethod;\r\n            this.subscription = subscription;\r\n        }\r\n        Object.defineProperty(ServerSubscription.prototype, \"stream\", {\r\n            get: function () {\r\n                if (!this.repoMethod.stream) {\r\n                    throw new Error(\"no stream\");\r\n                }\r\n                return this.repoMethod.stream;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ServerSubscription.prototype, \"arguments\", {\r\n            get: function () { return this.subscription.arguments || {}; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ServerSubscription.prototype, \"branchKey\", {\r\n            get: function () { return this.subscription.branchKey; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ServerSubscription.prototype, \"instance\", {\r\n            get: function () {\r\n                if (!this.subscription.instance) {\r\n                    throw new Error(\"no instance\");\r\n                }\r\n                return this.subscription.instance;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ServerSubscription.prototype.close = function () {\r\n            this.protocol.server.closeSingleSubscription(this.repoMethod, this.subscription);\r\n        };\r\n        ServerSubscription.prototype.push = function (data) {\r\n            this.protocol.server.pushDataToSingle(this.repoMethod, this.subscription, data);\r\n        };\r\n        return ServerSubscription;\r\n    }());\n\n    var Request = (function () {\r\n        function Request(protocol, repoMethod, requestContext) {\r\n            this.protocol = protocol;\r\n            this.repoMethod = repoMethod;\r\n            this.requestContext = requestContext;\r\n            this.arguments = requestContext.arguments;\r\n            this.instance = requestContext.instance;\r\n        }\r\n        Request.prototype.accept = function () {\r\n            this.protocol.server.acceptRequestOnBranch(this.requestContext, this.repoMethod, \"\");\r\n        };\r\n        Request.prototype.acceptOnBranch = function (branch) {\r\n            this.protocol.server.acceptRequestOnBranch(this.requestContext, this.repoMethod, branch);\r\n        };\r\n        Request.prototype.reject = function (reason) {\r\n            this.protocol.server.rejectRequest(this.requestContext, this.repoMethod, reason);\r\n        };\r\n        return Request;\r\n    }());\n\n    var ServerStreaming = (function () {\r\n        function ServerStreaming(protocol, server) {\r\n            var _this = this;\r\n            this.protocol = protocol;\r\n            this.server = server;\r\n            protocol.server.onSubRequest(function (rc, rm) { return _this.handleSubRequest(rc, rm); });\r\n            protocol.server.onSubAdded(function (sub, rm) { return _this.handleSubAdded(sub, rm); });\r\n            protocol.server.onSubRemoved(function (sub, rm) { return _this.handleSubRemoved(sub, rm); });\r\n        }\r\n        ServerStreaming.prototype.handleSubRequest = function (requestContext, repoMethod) {\r\n            if (!(repoMethod &&\r\n                repoMethod.streamCallbacks &&\r\n                typeof repoMethod.streamCallbacks.subscriptionRequestHandler === \"function\")) {\r\n                return;\r\n            }\r\n            var request = new Request(this.protocol, repoMethod, requestContext);\r\n            repoMethod.streamCallbacks.subscriptionRequestHandler(request);\r\n        };\r\n        ServerStreaming.prototype.handleSubAdded = function (subscription, repoMethod) {\r\n            if (!(repoMethod &&\r\n                repoMethod.streamCallbacks &&\r\n                typeof repoMethod.streamCallbacks.subscriptionAddedHandler === \"function\")) {\r\n                return;\r\n            }\r\n            var sub = new ServerSubscription(this.protocol, repoMethod, subscription);\r\n            repoMethod.streamCallbacks.subscriptionAddedHandler(sub);\r\n        };\r\n        ServerStreaming.prototype.handleSubRemoved = function (subscription, repoMethod) {\r\n            if (!(repoMethod &&\r\n                repoMethod.streamCallbacks &&\r\n                typeof repoMethod.streamCallbacks.subscriptionRemovedHandler === \"function\")) {\r\n                return;\r\n            }\r\n            var sub = new ServerSubscription(this.protocol, repoMethod, subscription);\r\n            repoMethod.streamCallbacks.subscriptionRemovedHandler(sub);\r\n        };\r\n        return ServerStreaming;\r\n    }());\n\n    var ServerBranch = (function () {\r\n        function ServerBranch(key, protocol, repoMethod) {\r\n            this.key = key;\r\n            this.protocol = protocol;\r\n            this.repoMethod = repoMethod;\r\n        }\r\n        ServerBranch.prototype.subscriptions = function () {\r\n            var _this = this;\r\n            var subList = this.protocol.server.getSubscriptionList(this.repoMethod, this.key);\r\n            return subList.map(function (sub) {\r\n                return new ServerSubscription(_this.protocol, _this.repoMethod, sub);\r\n            });\r\n        };\r\n        ServerBranch.prototype.close = function () {\r\n            this.protocol.server.closeAllSubscriptions(this.repoMethod, this.key);\r\n        };\r\n        ServerBranch.prototype.push = function (data) {\r\n            this.protocol.server.pushData(this.repoMethod, data, [this.key]);\r\n        };\r\n        return ServerBranch;\r\n    }());\n\n    var ServerStream = (function () {\r\n        function ServerStream(_protocol, _repoMethod, _server) {\r\n            this._protocol = _protocol;\r\n            this._repoMethod = _repoMethod;\r\n            this._server = _server;\r\n            this.name = this._repoMethod.definition.name;\r\n        }\r\n        ServerStream.prototype.branches = function (key) {\r\n            var _this = this;\r\n            var bList = this._protocol.server.getBranchList(this._repoMethod);\r\n            if (key) {\r\n                if (bList.indexOf(key) > -1) {\r\n                    return new ServerBranch(key, this._protocol, this._repoMethod);\r\n                }\r\n                return undefined;\r\n            }\r\n            else {\r\n                return bList.map(function (branchKey) {\r\n                    return new ServerBranch(branchKey, _this._protocol, _this._repoMethod);\r\n                });\r\n            }\r\n        };\r\n        ServerStream.prototype.branch = function (key) {\r\n            return this.branches(key);\r\n        };\r\n        ServerStream.prototype.subscriptions = function () {\r\n            var _this = this;\r\n            var subList = this._protocol.server.getSubscriptionList(this._repoMethod);\r\n            return subList.map(function (sub) {\r\n                return new ServerSubscription(_this._protocol, _this._repoMethod, sub);\r\n            });\r\n        };\r\n        Object.defineProperty(ServerStream.prototype, \"definition\", {\r\n            get: function () {\r\n                var def2 = this._repoMethod.definition;\r\n                return {\r\n                    accepts: def2.accepts,\r\n                    description: def2.description,\r\n                    displayName: def2.displayName,\r\n                    name: def2.name,\r\n                    objectTypes: def2.objectTypes,\r\n                    returns: def2.returns,\r\n                    supportsStreaming: def2.supportsStreaming,\r\n                };\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ServerStream.prototype.close = function () {\r\n            this._protocol.server.closeAllSubscriptions(this._repoMethod);\r\n            this._server.unregister(this._repoMethod.definition, true);\r\n        };\r\n        ServerStream.prototype.push = function (data, branches) {\r\n            if (typeof branches !== \"string\" && !Array.isArray(branches) && branches !== undefined) {\r\n                throw new Error(\"invalid branches should be string or string array\");\r\n            }\r\n            if (typeof data !== \"object\") {\r\n                throw new Error(\"Invalid arguments. Data must be an object.\");\r\n            }\r\n            this._protocol.server.pushData(this._repoMethod, data, branches);\r\n        };\r\n        ServerStream.prototype.updateRepoMethod = function (repoMethod) {\r\n            this._repoMethod = repoMethod;\r\n        };\r\n        return ServerStream;\r\n    }());\n\n    var Server = (function () {\r\n        function Server(protocol, serverRepository) {\r\n            this.protocol = protocol;\r\n            this.serverRepository = serverRepository;\r\n            this.invocations = 0;\r\n            this.currentlyUnregistering = {};\r\n            this.streaming = new ServerStreaming(protocol, this);\r\n            this.protocol.server.onInvoked(this.onMethodInvoked.bind(this));\r\n        }\r\n        Server.prototype.createStream = function (streamDef, callbacks, successCallback, errorCallback, existingStream) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                if (!streamDef) {\r\n                    reject(\"The stream name must be unique! Please, provide either a unique string for a stream name to \\u201Cglue.interop.createStream()\\u201D or a \\u201CmethodDefinition\\u201D object with a unique \\u201Cname\\u201D property for the stream.\");\r\n                    return;\r\n                }\r\n                var streamMethodDefinition;\r\n                if (typeof streamDef === \"string\") {\r\n                    streamMethodDefinition = { name: \"\" + streamDef };\r\n                }\r\n                else {\r\n                    streamMethodDefinition = __assign$1({}, streamDef);\r\n                }\r\n                if (!streamMethodDefinition.name) {\r\n                    return reject(\"The \\u201Cname\\u201D property is required for the \\u201CstreamDefinition\\u201D object and must be unique. Stream definition: \" + JSON.stringify(streamMethodDefinition));\r\n                }\r\n                var nameAlreadyExists = _this.serverRepository.getList()\r\n                    .some(function (serverMethod) { return serverMethod.definition.name === streamMethodDefinition.name; });\r\n                if (nameAlreadyExists) {\r\n                    return reject(\"A stream with the name \\\"\" + streamMethodDefinition.name + \"\\\" already exists! Please, provide a unique name for the stream.\");\r\n                }\r\n                streamMethodDefinition.supportsStreaming = true;\r\n                if (!callbacks) {\r\n                    callbacks = {};\r\n                }\r\n                if (typeof callbacks.subscriptionRequestHandler !== \"function\") {\r\n                    callbacks.subscriptionRequestHandler = function (request) {\r\n                        request.accept();\r\n                    };\r\n                }\r\n                var repoMethod = _this.serverRepository.add({\r\n                    definition: streamMethodDefinition,\r\n                    streamCallbacks: callbacks,\r\n                    protocolState: {},\r\n                });\r\n                _this.protocol.server.createStream(repoMethod)\r\n                    .then(function () {\r\n                    var streamUserObject;\r\n                    if (existingStream) {\r\n                        streamUserObject = existingStream;\r\n                        existingStream.updateRepoMethod(repoMethod);\r\n                    }\r\n                    else {\r\n                        streamUserObject = new ServerStream(_this.protocol, repoMethod, _this);\r\n                    }\r\n                    repoMethod.stream = streamUserObject;\r\n                    resolve(streamUserObject);\r\n                })\r\n                    .catch(function (err) {\r\n                    if (repoMethod.repoId) {\r\n                        _this.serverRepository.remove(repoMethod.repoId);\r\n                    }\r\n                    reject(err);\r\n                });\r\n            });\r\n            return promisify(promise, successCallback, errorCallback);\r\n        };\r\n        Server.prototype.register = function (methodDefinition, callback) {\r\n            var _this = this;\r\n            if (!methodDefinition) {\r\n                return Promise.reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n            }\r\n            if (typeof callback !== \"function\") {\r\n                return Promise.reject(\"The second parameter must be a callback function. Method: \" + (typeof methodDefinition === \"string\" ? methodDefinition : methodDefinition.name));\r\n            }\r\n            var wrappedCallbackFunction = function (context, resultCallback) { return __awaiter$1(_this, void 0, void 0, function () {\r\n                var result, resultValue, e_1;\r\n                return __generator$1(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            _a.trys.push([0, 4, , 5]);\r\n                            result = callback(context.args, context.instance);\r\n                            if (!(result && typeof result.then === \"function\")) return [3, 2];\r\n                            return [4, result];\r\n                        case 1:\r\n                            resultValue = _a.sent();\r\n                            resultCallback(undefined, resultValue);\r\n                            return [3, 3];\r\n                        case 2:\r\n                            resultCallback(undefined, result);\r\n                            _a.label = 3;\r\n                        case 3: return [3, 5];\r\n                        case 4:\r\n                            e_1 = _a.sent();\r\n                            if (!e_1) {\r\n                                e_1 = \"\";\r\n                            }\r\n                            resultCallback(e_1, e_1);\r\n                            return [3, 5];\r\n                        case 5: return [2];\r\n                    }\r\n                });\r\n            }); };\r\n            wrappedCallbackFunction.userCallback = callback;\r\n            return this.registerCore(methodDefinition, wrappedCallbackFunction);\r\n        };\r\n        Server.prototype.registerAsync = function (methodDefinition, callback) {\r\n            if (!methodDefinition) {\r\n                return Promise.reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n            }\r\n            if (typeof callback !== \"function\") {\r\n                return Promise.reject(\"The second parameter must be a callback function. Method: \" + (typeof methodDefinition === \"string\" ? methodDefinition : methodDefinition.name));\r\n            }\r\n            var wrappedCallback = function (context, resultCallback) {\r\n                try {\r\n                    var resultCalled_1 = false;\r\n                    var success = function (result) {\r\n                        if (!resultCalled_1) {\r\n                            resultCallback(undefined, result);\r\n                        }\r\n                        resultCalled_1 = true;\r\n                    };\r\n                    var error = function (e) {\r\n                        if (!resultCalled_1) {\r\n                            if (!e) {\r\n                                e = \"\";\r\n                            }\r\n                            resultCallback(e, e);\r\n                        }\r\n                        resultCalled_1 = true;\r\n                    };\r\n                    var methodResult = callback(context.args, context.instance, success, error);\r\n                    if (methodResult && typeof methodResult.then === \"function\") {\r\n                        methodResult\r\n                            .then(success)\r\n                            .catch(error);\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    resultCallback(e, undefined);\r\n                }\r\n            };\r\n            wrappedCallback.userCallbackAsync = callback;\r\n            return this.registerCore(methodDefinition, wrappedCallback);\r\n        };\r\n        Server.prototype.unregister = function (methodFilter, forStream) {\r\n            if (forStream === void 0) { forStream = false; }\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var methodDefinition, methodToBeRemoved;\r\n                return __generator$1(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (methodFilter === undefined) {\r\n                                return [2, Promise.reject(\"Please, provide either a unique string for a name or an object containing a \\u201Cname\\u201D property.\")];\r\n                            }\r\n                            if (!(typeof methodFilter === \"function\")) return [3, 2];\r\n                            return [4, this.unregisterWithPredicate(methodFilter, forStream)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2];\r\n                        case 2:\r\n                            if (typeof methodFilter === \"string\") {\r\n                                methodDefinition = { name: methodFilter };\r\n                            }\r\n                            else {\r\n                                methodDefinition = methodFilter;\r\n                            }\r\n                            if (methodDefinition.name === undefined) {\r\n                                return [2, Promise.reject(\"Method name is required. Cannot find a method if the method name is undefined!\")];\r\n                            }\r\n                            methodToBeRemoved = this.serverRepository.getList().find(function (serverMethod) {\r\n                                return serverMethod.definition.name === methodDefinition.name\r\n                                    && (serverMethod.definition.supportsStreaming || false) === forStream;\r\n                            });\r\n                            if (!methodToBeRemoved) {\r\n                                return [2, Promise.reject(\"Method with a name \\\"\" + methodDefinition.name + \"\\\" does not exist or is not registered by your application!\")];\r\n                            }\r\n                            return [4, this.removeMethodsOrStreams([methodToBeRemoved])];\r\n                        case 3:\r\n                            _a.sent();\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Server.prototype.unregisterWithPredicate = function (filterPredicate, forStream) {\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var methodsOrStreamsToRemove;\r\n                return __generator$1(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            methodsOrStreamsToRemove = this.serverRepository.getList()\r\n                                .filter(function (sm) { return filterPredicate(sm.definition); })\r\n                                .filter(function (serverMethod) {\r\n                                return (serverMethod.definition.supportsStreaming || false) === forStream;\r\n                            });\r\n                            if (!methodsOrStreamsToRemove || methodsOrStreamsToRemove.length === 0) {\r\n                                return [2, Promise.reject(\"Could not find a \" + (forStream ? \"stream\" : \"method\") + \" matching the specified condition!\")];\r\n                            }\r\n                            return [4, this.removeMethodsOrStreams(methodsOrStreamsToRemove)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Server.prototype.removeMethodsOrStreams = function (methodsToRemove) {\r\n            var _this = this;\r\n            var methodUnregPromises = [];\r\n            methodsToRemove.forEach(function (method) {\r\n                var promise = _this.protocol.server.unregister(method)\r\n                    .then(function () {\r\n                    if (method.repoId) {\r\n                        _this.serverRepository.remove(method.repoId);\r\n                    }\r\n                });\r\n                methodUnregPromises.push(promise);\r\n                _this.addAsCurrentlyUnregistering(method.definition.name, promise);\r\n            });\r\n            return Promise.all(methodUnregPromises);\r\n        };\r\n        Server.prototype.addAsCurrentlyUnregistering = function (methodName, promise) {\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var timeout;\r\n                var _this = this;\r\n                return __generator$1(this, function (_a) {\r\n                    timeout = new Promise(function (resolve) { return setTimeout(resolve, 5000); });\r\n                    this.currentlyUnregistering[methodName] = Promise.race([promise, timeout]).then(function () {\r\n                        delete _this.currentlyUnregistering[methodName];\r\n                    });\r\n                    return [2];\r\n                });\r\n            });\r\n        };\r\n        Server.prototype.registerCore = function (method, theFunction) {\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var methodDefinition, unregisterInProgress, nameAlreadyExists, repoMethod;\r\n                var _this = this;\r\n                return __generator$1(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (typeof method === \"string\") {\r\n                                methodDefinition = { name: \"\" + method };\r\n                            }\r\n                            else {\r\n                                methodDefinition = __assign$1({}, method);\r\n                            }\r\n                            if (!methodDefinition.name) {\r\n                                return [2, Promise.reject(\"Please, provide a (unique) string value for the \\u201Cname\\u201D property in the \\u201CmethodDefinition\\u201D object: \" + JSON.stringify(method))];\r\n                            }\r\n                            unregisterInProgress = this.currentlyUnregistering[methodDefinition.name];\r\n                            if (!unregisterInProgress) return [3, 2];\r\n                            return [4, unregisterInProgress];\r\n                        case 1:\r\n                            _a.sent();\r\n                            _a.label = 2;\r\n                        case 2:\r\n                            nameAlreadyExists = this.serverRepository.getList()\r\n                                .some(function (serverMethod) { return serverMethod.definition.name === methodDefinition.name; });\r\n                            if (nameAlreadyExists) {\r\n                                return [2, Promise.reject(\"A method with the name \\\"\" + methodDefinition.name + \"\\\" already exists! Please, provide a unique name for the method.\")];\r\n                            }\r\n                            if (methodDefinition.supportsStreaming) {\r\n                                return [2, Promise.reject(\"When you create methods with \\u201Cglue.interop.register()\\u201D or \\u201Cglue.interop.registerAsync()\\u201D the property \\u201CsupportsStreaming\\u201D cannot be \\u201Ctrue\\u201D. If you want \\u201C\" + methodDefinition.name + \"\\u201D to be a stream, please use the \\u201Cglue.interop.createStream()\\u201D method.\")];\r\n                            }\r\n                            repoMethod = this.serverRepository.add({\r\n                                definition: methodDefinition,\r\n                                theFunction: theFunction,\r\n                                protocolState: {},\r\n                            });\r\n                            return [2, this.protocol.server.register(repoMethod)\r\n                                    .catch(function (err) {\r\n                                    if (repoMethod === null || repoMethod === void 0 ? void 0 : repoMethod.repoId) {\r\n                                        _this.serverRepository.remove(repoMethod.repoId);\r\n                                    }\r\n                                    throw err;\r\n                                })];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Server.prototype.onMethodInvoked = function (methodToExecute, invocationId, invocationArgs) {\r\n            var _this = this;\r\n            if (!methodToExecute || !methodToExecute.theFunction) {\r\n                return;\r\n            }\r\n            methodToExecute.theFunction(invocationArgs, function (err, result) {\r\n                if (err !== undefined && err !== null) {\r\n                    if (err.message && typeof err.message === \"string\") {\r\n                        err = err.message;\r\n                    }\r\n                    else if (typeof err !== \"string\") {\r\n                        try {\r\n                            err = JSON.stringify(err);\r\n                        }\r\n                        catch (unStrException) {\r\n                            err = \"un-stringifyable error in onMethodInvoked! Top level prop names: \" + Object.keys(err);\r\n                        }\r\n                    }\r\n                }\r\n                if (!result) {\r\n                    result = {};\r\n                }\r\n                else if (typeof result !== \"object\" || Array.isArray(result)) {\r\n                    result = { _value: result };\r\n                }\r\n                _this.protocol.server.methodInvocationResult(methodToExecute, invocationId, err, result);\r\n            });\r\n        };\r\n        return Server;\r\n    }());\n\n    var InstanceWrapper = (function () {\r\n        function InstanceWrapper(instance, connection) {\r\n            var _this = this;\r\n            this.wrapped = {\r\n                getMethods: getMethods,\r\n                getStreams: getStreams,\r\n            };\r\n            if (instance) {\r\n                this.refreshWrappedObject(instance);\r\n            }\r\n            if (connection) {\r\n                connection.loggedIn(function () {\r\n                    _this.refresh(connection);\r\n                });\r\n                this.refresh(connection);\r\n            }\r\n        }\r\n        InstanceWrapper.prototype.unwrap = function () {\r\n            return this.wrapped;\r\n        };\r\n        InstanceWrapper.prototype.refresh = function (connection) {\r\n            if (!connection) {\r\n                return;\r\n            }\r\n            var resolvedIdentity = connection === null || connection === void 0 ? void 0 : connection.resolvedIdentity;\r\n            var instance = Object.assign({}, resolvedIdentity !== null && resolvedIdentity !== void 0 ? resolvedIdentity : {}, { peerId: connection === null || connection === void 0 ? void 0 : connection.peerId });\r\n            this.refreshWrappedObject(instance);\r\n        };\r\n        InstanceWrapper.prototype.refreshWrappedObject = function (resolvedIdentity) {\r\n            var _a, _b, _c;\r\n            this.wrapped.user = resolvedIdentity.user;\r\n            this.wrapped.instance = resolvedIdentity.instance;\r\n            this.wrapped.application = (_a = resolvedIdentity.application) !== null && _a !== void 0 ? _a : shortid();\r\n            this.wrapped.applicationName = resolvedIdentity.applicationName;\r\n            this.wrapped.pid = (_c = (_b = resolvedIdentity.pid) !== null && _b !== void 0 ? _b : resolvedIdentity.process) !== null && _c !== void 0 ? _c : Math.floor(Math.random() * 10000000000);\r\n            this.wrapped.machine = resolvedIdentity.machine;\r\n            this.wrapped.environment = resolvedIdentity.environment;\r\n            this.wrapped.region = resolvedIdentity.region;\r\n            this.wrapped.windowId = resolvedIdentity.windowId;\r\n            this.wrapped.isLocal = true;\r\n            this.wrapped.api = resolvedIdentity.api;\r\n            this.wrapped.service = resolvedIdentity.service;\r\n            this.wrapped.peerId = resolvedIdentity.peerId;\r\n        };\r\n        return InstanceWrapper;\r\n    }());\r\n    function getMethods() {\r\n        var _a;\r\n        return (_a = InstanceWrapper.API) === null || _a === void 0 ? void 0 : _a.methodsForInstance(this);\r\n    }\r\n    function getStreams() {\r\n        var _a;\r\n        return (_a = InstanceWrapper.API) === null || _a === void 0 ? void 0 : _a.methodsForInstance(this).filter(function (m) { return m.supportsStreaming; });\r\n    }\n\n    var ClientRepository = (function () {\r\n        function ClientRepository(logger) {\r\n            this.logger = logger;\r\n            this.servers = {};\r\n            this.methodsCount = {};\r\n            this.callbacks = lib();\r\n        }\r\n        ClientRepository.prototype.addServer = function (info, serverId) {\r\n            this.logger.debug(\"adding server \" + serverId);\r\n            var current = this.servers[serverId];\r\n            if (current) {\r\n                return current.id;\r\n            }\r\n            var wrapper = new InstanceWrapper(info);\r\n            var serverEntry = {\r\n                id: serverId,\r\n                methods: {},\r\n                instance: wrapper.unwrap(),\r\n                wrapper: wrapper,\r\n            };\r\n            this.servers[serverId] = serverEntry;\r\n            this.callbacks.execute(\"onServerAdded\", serverEntry.instance);\r\n            return serverId;\r\n        };\r\n        ClientRepository.prototype.removeServerById = function (id, reason) {\r\n            var _this = this;\r\n            var server = this.servers[id];\r\n            if (!server) {\r\n                this.logger.warn(\"not aware of server \" + id + \", my state \" + JSON.stringify(Object.keys(this.servers)));\r\n                return;\r\n            }\r\n            else {\r\n                this.logger.debug(\"removing server \" + id);\r\n            }\r\n            Object.keys(server.methods).forEach(function (methodId) {\r\n                _this.removeServerMethod(id, methodId);\r\n            });\r\n            delete this.servers[id];\r\n            this.callbacks.execute(\"onServerRemoved\", server.instance, reason);\r\n        };\r\n        ClientRepository.prototype.addServerMethod = function (serverId, method) {\r\n            var server = this.servers[serverId];\r\n            if (!server) {\r\n                throw new Error(\"server does not exists\");\r\n            }\r\n            if (server.methods[method.id]) {\r\n                return;\r\n            }\r\n            var identifier = this.createMethodIdentifier(method);\r\n            var that = this;\r\n            var methodDefinition = {\r\n                identifier: identifier,\r\n                gatewayId: method.id,\r\n                name: method.name,\r\n                displayName: method.display_name,\r\n                description: method.description,\r\n                version: method.version,\r\n                objectTypes: method.object_types || [],\r\n                accepts: method.input_signature,\r\n                returns: method.result_signature,\r\n                supportsStreaming: typeof method.flags !== \"undefined\" ? method.flags.streaming : false,\r\n                getServers: function () {\r\n                    return that.getServersByMethod(identifier);\r\n                }\r\n            };\r\n            methodDefinition.object_types = methodDefinition.objectTypes;\r\n            methodDefinition.display_name = methodDefinition.displayName;\r\n            methodDefinition.version = methodDefinition.version;\r\n            server.methods[method.id] = methodDefinition;\r\n            if (!this.methodsCount[identifier]) {\r\n                this.methodsCount[identifier] = 0;\r\n                this.callbacks.execute(\"onMethodAdded\", methodDefinition);\r\n            }\r\n            this.methodsCount[identifier] = this.methodsCount[identifier] + 1;\r\n            this.callbacks.execute(\"onServerMethodAdded\", server.instance, methodDefinition);\r\n            return methodDefinition;\r\n        };\r\n        ClientRepository.prototype.removeServerMethod = function (serverId, methodId) {\r\n            var server = this.servers[serverId];\r\n            if (!server) {\r\n                throw new Error(\"server does not exists\");\r\n            }\r\n            var method = server.methods[methodId];\r\n            delete server.methods[methodId];\r\n            this.methodsCount[method.identifier] = this.methodsCount[method.identifier] - 1;\r\n            if (this.methodsCount[method.identifier] === 0) {\r\n                this.callbacks.execute(\"onMethodRemoved\", method);\r\n            }\r\n            this.callbacks.execute(\"onServerMethodRemoved\", server.instance, method);\r\n        };\r\n        ClientRepository.prototype.getMethods = function () {\r\n            var _this = this;\r\n            var allMethods = {};\r\n            Object.keys(this.servers).forEach(function (serverId) {\r\n                var server = _this.servers[serverId];\r\n                Object.keys(server.methods).forEach(function (methodId) {\r\n                    var method = server.methods[methodId];\r\n                    allMethods[method.identifier] = method;\r\n                });\r\n            });\r\n            var methodsAsArray = Object.keys(allMethods).map(function (id) {\r\n                return allMethods[id];\r\n            });\r\n            return methodsAsArray;\r\n        };\r\n        ClientRepository.prototype.getServers = function () {\r\n            var _this = this;\r\n            var allServers = [];\r\n            Object.keys(this.servers).forEach(function (serverId) {\r\n                var server = _this.servers[serverId];\r\n                allServers.push(server);\r\n            });\r\n            return allServers;\r\n        };\r\n        ClientRepository.prototype.getServerMethodsById = function (serverId) {\r\n            var server = this.servers[serverId];\r\n            return Object.keys(server.methods).map(function (id) {\r\n                return server.methods[id];\r\n            });\r\n        };\r\n        ClientRepository.prototype.onServerAdded = function (callback) {\r\n            var unsubscribeFunc = this.callbacks.add(\"onServerAdded\", callback);\r\n            var serversWithMethodsToReplay = this.getServers().map(function (s) { return s.instance; });\r\n            return this.returnUnsubWithDelayedReplay(unsubscribeFunc, serversWithMethodsToReplay, callback);\r\n        };\r\n        ClientRepository.prototype.onMethodAdded = function (callback) {\r\n            var unsubscribeFunc = this.callbacks.add(\"onMethodAdded\", callback);\r\n            var methodsToReplay = this.getMethods();\r\n            return this.returnUnsubWithDelayedReplay(unsubscribeFunc, methodsToReplay, callback);\r\n        };\r\n        ClientRepository.prototype.onServerMethodAdded = function (callback) {\r\n            var unsubscribeFunc = this.callbacks.add(\"onServerMethodAdded\", callback);\r\n            var unsubCalled = false;\r\n            var servers = this.getServers();\r\n            setTimeout(function () {\r\n                servers.forEach(function (server) {\r\n                    var methods = server.methods;\r\n                    Object.keys(methods).forEach(function (methodId) {\r\n                        if (!unsubCalled) {\r\n                            callback(server.instance, methods[methodId]);\r\n                        }\r\n                    });\r\n                });\r\n            }, 0);\r\n            return function () {\r\n                unsubCalled = true;\r\n                unsubscribeFunc();\r\n            };\r\n        };\r\n        ClientRepository.prototype.onMethodRemoved = function (callback) {\r\n            var unsubscribeFunc = this.callbacks.add(\"onMethodRemoved\", callback);\r\n            return unsubscribeFunc;\r\n        };\r\n        ClientRepository.prototype.onServerRemoved = function (callback) {\r\n            var unsubscribeFunc = this.callbacks.add(\"onServerRemoved\", callback);\r\n            return unsubscribeFunc;\r\n        };\r\n        ClientRepository.prototype.onServerMethodRemoved = function (callback) {\r\n            var unsubscribeFunc = this.callbacks.add(\"onServerMethodRemoved\", callback);\r\n            return unsubscribeFunc;\r\n        };\r\n        ClientRepository.prototype.getServerById = function (id) {\r\n            return this.servers[id];\r\n        };\r\n        ClientRepository.prototype.reset = function () {\r\n            var _this = this;\r\n            Object.keys(this.servers).forEach(function (key) {\r\n                _this.removeServerById(key, \"reset\");\r\n            });\r\n            this.servers = {};\r\n            this.methodsCount = {};\r\n        };\r\n        ClientRepository.prototype.createMethodIdentifier = function (methodInfo) {\r\n            var accepts = methodInfo.input_signature !== undefined ? methodInfo.input_signature : \"\";\r\n            var returns = methodInfo.result_signature !== undefined ? methodInfo.result_signature : \"\";\r\n            return (methodInfo.name + accepts + returns).toLowerCase();\r\n        };\r\n        ClientRepository.prototype.getServersByMethod = function (identifier) {\r\n            var _this = this;\r\n            var allServers = [];\r\n            Object.keys(this.servers).forEach(function (serverId) {\r\n                var server = _this.servers[serverId];\r\n                Object.keys(server.methods).forEach(function (methodId) {\r\n                    var methodInfo = server.methods[methodId];\r\n                    if (methodInfo.identifier === identifier) {\r\n                        allServers.push(server.instance);\r\n                    }\r\n                });\r\n            });\r\n            return allServers;\r\n        };\r\n        ClientRepository.prototype.returnUnsubWithDelayedReplay = function (unsubscribeFunc, collectionToReplay, callback) {\r\n            var unsubCalled = false;\r\n            setTimeout(function () {\r\n                collectionToReplay.forEach(function (item) {\r\n                    if (!unsubCalled) {\r\n                        callback(item);\r\n                    }\r\n                });\r\n            }, 0);\r\n            return function () {\r\n                unsubCalled = true;\r\n                unsubscribeFunc();\r\n            };\r\n        };\r\n        return ClientRepository;\r\n    }());\n\n    var ServerRepository = (function () {\r\n        function ServerRepository() {\r\n            this.nextId = 0;\r\n            this.methods = [];\r\n        }\r\n        ServerRepository.prototype.add = function (method) {\r\n            method.repoId = String(this.nextId);\r\n            this.nextId += 1;\r\n            this.methods.push(method);\r\n            return method;\r\n        };\r\n        ServerRepository.prototype.remove = function (repoId) {\r\n            if (typeof repoId !== \"string\") {\r\n                return new TypeError(\"Expecting a string\");\r\n            }\r\n            this.methods = this.methods.filter(function (m) {\r\n                return m.repoId !== repoId;\r\n            });\r\n        };\r\n        ServerRepository.prototype.getById = function (id) {\r\n            if (typeof id !== \"string\") {\r\n                return undefined;\r\n            }\r\n            return this.methods.find(function (m) {\r\n                return m.repoId === id;\r\n            });\r\n        };\r\n        ServerRepository.prototype.getList = function () {\r\n            return this.methods.map(function (m) { return m; });\r\n        };\r\n        ServerRepository.prototype.length = function () {\r\n            return this.methods.length;\r\n        };\r\n        ServerRepository.prototype.reset = function () {\r\n            this.methods = [];\r\n        };\r\n        return ServerRepository;\r\n    }());\n\n    var SUBSCRIPTION_REQUEST = \"onSubscriptionRequest\";\r\n    var SUBSCRIPTION_ADDED = \"onSubscriptionAdded\";\r\n    var SUBSCRIPTION_REMOVED = \"onSubscriptionRemoved\";\r\n    var ServerStreaming$1 = (function () {\r\n        function ServerStreaming(session, repository, serverRepository) {\r\n            var _this = this;\r\n            this.session = session;\r\n            this.repository = repository;\r\n            this.serverRepository = serverRepository;\r\n            this.ERR_URI_SUBSCRIPTION_FAILED = \"com.tick42.agm.errors.subscription.failure\";\r\n            this.callbacks = lib();\r\n            this.nextStreamId = 0;\r\n            session.on(\"add-interest\", function (msg) {\r\n                _this.handleAddInterest(msg);\r\n            });\r\n            session.on(\"remove-interest\", function (msg) {\r\n                _this.handleRemoveInterest(msg);\r\n            });\r\n        }\r\n        ServerStreaming.prototype.acceptRequestOnBranch = function (requestContext, streamingMethod, branch) {\r\n            if (typeof branch !== \"string\") {\r\n                branch = \"\";\r\n            }\r\n            if (typeof streamingMethod.protocolState.subscriptionsMap !== \"object\") {\r\n                throw new TypeError(\"The streaming method is missing its subscriptions.\");\r\n            }\r\n            if (!Array.isArray(streamingMethod.protocolState.branchKeyToStreamIdMap)) {\r\n                throw new TypeError(\"The streaming method is missing its branches.\");\r\n            }\r\n            var streamId = this.getStreamId(streamingMethod, branch);\r\n            var key = requestContext.msg.subscription_id;\r\n            var subscription = {\r\n                id: key,\r\n                arguments: requestContext.arguments,\r\n                instance: requestContext.instance,\r\n                branchKey: branch,\r\n                streamId: streamId,\r\n                subscribeMsg: requestContext.msg,\r\n            };\r\n            streamingMethod.protocolState.subscriptionsMap[key] = subscription;\r\n            this.session.sendFireAndForget({\r\n                type: \"accepted\",\r\n                subscription_id: key,\r\n                stream_id: streamId,\r\n            });\r\n            this.callbacks.execute(SUBSCRIPTION_ADDED, subscription, streamingMethod);\r\n        };\r\n        ServerStreaming.prototype.rejectRequest = function (requestContext, streamingMethod, reason) {\r\n            if (typeof reason !== \"string\") {\r\n                reason = \"\";\r\n            }\r\n            this.sendSubscriptionFailed(\"Subscription rejected by user. \" + reason, requestContext.msg.subscription_id);\r\n        };\r\n        ServerStreaming.prototype.pushData = function (streamingMethod, data, branches) {\r\n            var _this = this;\r\n            if (typeof streamingMethod !== \"object\" || !Array.isArray(streamingMethod.protocolState.branchKeyToStreamIdMap)) {\r\n                return;\r\n            }\r\n            if (typeof data !== \"object\") {\r\n                throw new Error(\"Invalid arguments. Data must be an object.\");\r\n            }\r\n            if (typeof branches === \"string\") {\r\n                branches = [branches];\r\n            }\r\n            else if (!Array.isArray(branches) || branches.length <= 0) {\r\n                branches = [];\r\n            }\r\n            var streamIdList = streamingMethod.protocolState.branchKeyToStreamIdMap\r\n                .filter(function (br) {\r\n                if (!branches || branches.length === 0) {\r\n                    return true;\r\n                }\r\n                return branches.indexOf(br.key) >= 0;\r\n            }).map(function (br) {\r\n                return br.streamId;\r\n            });\r\n            streamIdList.forEach(function (streamId) {\r\n                var publishMessage = {\r\n                    type: \"publish\",\r\n                    stream_id: streamId,\r\n                    data: data,\r\n                };\r\n                _this.session.sendFireAndForget(publishMessage);\r\n            });\r\n        };\r\n        ServerStreaming.prototype.pushDataToSingle = function (method, subscription, data) {\r\n            if (typeof data !== \"object\") {\r\n                throw new Error(\"Invalid arguments. Data must be an object.\");\r\n            }\r\n            var postMessage = {\r\n                type: \"post\",\r\n                subscription_id: subscription.id,\r\n                data: data,\r\n            };\r\n            this.session.sendFireAndForget(postMessage);\r\n        };\r\n        ServerStreaming.prototype.closeSingleSubscription = function (streamingMethod, subscription) {\r\n            if (streamingMethod.protocolState.subscriptionsMap) {\r\n                delete streamingMethod.protocolState.subscriptionsMap[subscription.id];\r\n            }\r\n            var dropSubscriptionMessage = {\r\n                type: \"drop-subscription\",\r\n                subscription_id: subscription.id,\r\n                reason: \"Server dropping a single subscription\",\r\n            };\r\n            this.session.sendFireAndForget(dropSubscriptionMessage);\r\n            var subscriber = subscription.instance;\r\n            this.callbacks.execute(SUBSCRIPTION_REMOVED, subscription, streamingMethod);\r\n        };\r\n        ServerStreaming.prototype.closeMultipleSubscriptions = function (streamingMethod, branchKey) {\r\n            var _this = this;\r\n            if (typeof streamingMethod !== \"object\" || typeof streamingMethod.protocolState.subscriptionsMap !== \"object\") {\r\n                return;\r\n            }\r\n            if (!streamingMethod.protocolState.subscriptionsMap) {\r\n                return;\r\n            }\r\n            var subscriptionsMap = streamingMethod.protocolState.subscriptionsMap;\r\n            var subscriptionsToClose = Object.keys(subscriptionsMap)\r\n                .map(function (key) {\r\n                return subscriptionsMap[key];\r\n            });\r\n            if (typeof branchKey === \"string\") {\r\n                subscriptionsToClose = subscriptionsToClose.filter(function (sub) {\r\n                    return sub.branchKey === branchKey;\r\n                });\r\n            }\r\n            subscriptionsToClose.forEach(function (subscription) {\r\n                delete subscriptionsMap[subscription.id];\r\n                var drop = {\r\n                    type: \"drop-subscription\",\r\n                    subscription_id: subscription.id,\r\n                    reason: \"Server dropping all subscriptions on stream_id: \" + subscription.streamId,\r\n                };\r\n                _this.session.sendFireAndForget(drop);\r\n            });\r\n        };\r\n        ServerStreaming.prototype.getSubscriptionList = function (streamingMethod, branchKey) {\r\n            if (typeof streamingMethod !== \"object\") {\r\n                return [];\r\n            }\r\n            var subscriptions = [];\r\n            if (!streamingMethod.protocolState.subscriptionsMap) {\r\n                return [];\r\n            }\r\n            var subscriptionsMap = streamingMethod.protocolState.subscriptionsMap;\r\n            var allSubscriptions = Object.keys(subscriptionsMap)\r\n                .map(function (key) {\r\n                return subscriptionsMap[key];\r\n            });\r\n            if (typeof branchKey !== \"string\") {\r\n                subscriptions = allSubscriptions;\r\n            }\r\n            else {\r\n                subscriptions = allSubscriptions.filter(function (sub) {\r\n                    return sub.branchKey === branchKey;\r\n                });\r\n            }\r\n            return subscriptions;\r\n        };\r\n        ServerStreaming.prototype.getBranchList = function (streamingMethod) {\r\n            if (typeof streamingMethod !== \"object\") {\r\n                return [];\r\n            }\r\n            if (!streamingMethod.protocolState.subscriptionsMap) {\r\n                return [];\r\n            }\r\n            var subscriptionsMap = streamingMethod.protocolState.subscriptionsMap;\r\n            var allSubscriptions = Object.keys(subscriptionsMap)\r\n                .map(function (key) {\r\n                return subscriptionsMap[key];\r\n            });\r\n            var result = [];\r\n            allSubscriptions.forEach(function (sub) {\r\n                var branch = \"\";\r\n                if (typeof sub === \"object\" && typeof sub.branchKey === \"string\") {\r\n                    branch = sub.branchKey;\r\n                }\r\n                if (result.indexOf(branch) === -1) {\r\n                    result.push(branch);\r\n                }\r\n            });\r\n            return result;\r\n        };\r\n        ServerStreaming.prototype.onSubAdded = function (callback) {\r\n            this.onSubscriptionLifetimeEvent(SUBSCRIPTION_ADDED, callback);\r\n        };\r\n        ServerStreaming.prototype.onSubRequest = function (callback) {\r\n            this.onSubscriptionLifetimeEvent(SUBSCRIPTION_REQUEST, callback);\r\n        };\r\n        ServerStreaming.prototype.onSubRemoved = function (callback) {\r\n            this.onSubscriptionLifetimeEvent(SUBSCRIPTION_REMOVED, callback);\r\n        };\r\n        ServerStreaming.prototype.handleRemoveInterest = function (msg) {\r\n            var streamingMethod = this.serverRepository.getById(msg.method_id);\r\n            if (typeof msg.subscription_id !== \"string\" ||\r\n                typeof streamingMethod !== \"object\") {\r\n                return;\r\n            }\r\n            if (!streamingMethod.protocolState.subscriptionsMap) {\r\n                return;\r\n            }\r\n            if (typeof streamingMethod.protocolState.subscriptionsMap[msg.subscription_id] !== \"object\") {\r\n                return;\r\n            }\r\n            var subscription = streamingMethod.protocolState.subscriptionsMap[msg.subscription_id];\r\n            delete streamingMethod.protocolState.subscriptionsMap[msg.subscription_id];\r\n            this.callbacks.execute(SUBSCRIPTION_REMOVED, subscription, streamingMethod);\r\n        };\r\n        ServerStreaming.prototype.onSubscriptionLifetimeEvent = function (eventName, handlerFunc) {\r\n            this.callbacks.add(eventName, handlerFunc);\r\n        };\r\n        ServerStreaming.prototype.getNextStreamId = function () {\r\n            return this.nextStreamId++ + \"\";\r\n        };\r\n        ServerStreaming.prototype.handleAddInterest = function (msg) {\r\n            var caller = this.repository.getServerById(msg.caller_id);\r\n            var instance = caller.instance;\r\n            var requestContext = {\r\n                msg: msg,\r\n                arguments: msg.arguments_kv || {},\r\n                instance: instance,\r\n            };\r\n            var streamingMethod = this.serverRepository.getById(msg.method_id);\r\n            if (streamingMethod === undefined) {\r\n                var errorMsg = \"No method with id \" + msg.method_id + \" on this server.\";\r\n                this.sendSubscriptionFailed(errorMsg, msg.subscription_id);\r\n                return;\r\n            }\r\n            if (streamingMethod.protocolState.subscriptionsMap &&\r\n                streamingMethod.protocolState.subscriptionsMap[msg.subscription_id]) {\r\n                this.sendSubscriptionFailed(\"A subscription with id \" + msg.subscription_id + \" already exists.\", msg.subscription_id);\r\n                return;\r\n            }\r\n            this.callbacks.execute(SUBSCRIPTION_REQUEST, requestContext, streamingMethod);\r\n        };\r\n        ServerStreaming.prototype.sendSubscriptionFailed = function (reason, subscriptionId) {\r\n            var errorMessage = {\r\n                type: \"error\",\r\n                reason_uri: this.ERR_URI_SUBSCRIPTION_FAILED,\r\n                reason: reason,\r\n                request_id: subscriptionId,\r\n            };\r\n            this.session.sendFireAndForget(errorMessage);\r\n        };\r\n        ServerStreaming.prototype.getStreamId = function (streamingMethod, branchKey) {\r\n            if (typeof branchKey !== \"string\") {\r\n                branchKey = \"\";\r\n            }\r\n            if (!streamingMethod.protocolState.branchKeyToStreamIdMap) {\r\n                throw new Error(\"streaming \" + streamingMethod.definition.name + \" method without protocol state\");\r\n            }\r\n            var needleBranch = streamingMethod.protocolState.branchKeyToStreamIdMap.filter(function (branch) {\r\n                return branch.key === branchKey;\r\n            })[0];\r\n            var streamId = (needleBranch ? needleBranch.streamId : undefined);\r\n            if (typeof streamId !== \"string\" || streamId === \"\") {\r\n                streamId = this.getNextStreamId();\r\n                streamingMethod.protocolState.branchKeyToStreamIdMap.push({ key: branchKey, streamId: streamId });\r\n            }\r\n            return streamId;\r\n        };\r\n        return ServerStreaming;\r\n    }());\n\n    var ServerProtocol = (function () {\r\n        function ServerProtocol(session, clientRepository, serverRepository, logger) {\r\n            var _this = this;\r\n            this.session = session;\r\n            this.clientRepository = clientRepository;\r\n            this.serverRepository = serverRepository;\r\n            this.logger = logger;\r\n            this.callbacks = lib();\r\n            this.streaming = new ServerStreaming$1(session, clientRepository, serverRepository);\r\n            this.session.on(\"invoke\", function (msg) { return _this.handleInvokeMessage(msg); });\r\n        }\r\n        ServerProtocol.prototype.createStream = function (repoMethod) {\r\n            repoMethod.protocolState.subscriptionsMap = {};\r\n            repoMethod.protocolState.branchKeyToStreamIdMap = [];\r\n            return this.register(repoMethod, true);\r\n        };\r\n        ServerProtocol.prototype.register = function (repoMethod, isStreaming) {\r\n            var _this = this;\r\n            var methodDef = repoMethod.definition;\r\n            var flags = { streaming: isStreaming || false };\r\n            var registerMsg = {\r\n                type: \"register\",\r\n                methods: [{\r\n                        id: repoMethod.repoId,\r\n                        name: methodDef.name,\r\n                        display_name: methodDef.displayName,\r\n                        description: methodDef.description,\r\n                        version: methodDef.version,\r\n                        flags: flags,\r\n                        object_types: methodDef.objectTypes || methodDef.object_types,\r\n                        input_signature: methodDef.accepts,\r\n                        result_signature: methodDef.returns,\r\n                        restrictions: undefined,\r\n                    }],\r\n            };\r\n            return this.session.send(registerMsg, { methodId: repoMethod.repoId })\r\n                .then(function () {\r\n                _this.logger.debug(\"registered method \" + repoMethod.definition.name + \" with id \" + repoMethod.repoId);\r\n            })\r\n                .catch(function (msg) {\r\n                _this.logger.warn(\"failed to register method \" + repoMethod.definition.name + \" with id \" + repoMethod.repoId + \" - \" + JSON.stringify(msg));\r\n                throw msg;\r\n            });\r\n        };\r\n        ServerProtocol.prototype.onInvoked = function (callback) {\r\n            this.callbacks.add(\"onInvoked\", callback);\r\n        };\r\n        ServerProtocol.prototype.methodInvocationResult = function (method, invocationId, err, result) {\r\n            var msg;\r\n            if (err || err === \"\") {\r\n                msg = {\r\n                    type: \"error\",\r\n                    request_id: invocationId,\r\n                    reason_uri: \"agm.errors.client_error\",\r\n                    reason: err,\r\n                    context: result,\r\n                    peer_id: undefined,\r\n                };\r\n            }\r\n            else {\r\n                msg = {\r\n                    type: \"yield\",\r\n                    invocation_id: invocationId,\r\n                    peer_id: this.session.peerId,\r\n                    result: result,\r\n                    request_id: undefined,\r\n                };\r\n            }\r\n            this.session.sendFireAndForget(msg);\r\n        };\r\n        ServerProtocol.prototype.unregister = function (method) {\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var msg;\r\n                return __generator$1(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            msg = {\r\n                                type: \"unregister\",\r\n                                methods: [method.repoId],\r\n                            };\r\n                            return [4, this.session.send(msg)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ServerProtocol.prototype.getBranchList = function (method) {\r\n            return this.streaming.getBranchList(method);\r\n        };\r\n        ServerProtocol.prototype.getSubscriptionList = function (method, branchKey) {\r\n            return this.streaming.getSubscriptionList(method, branchKey);\r\n        };\r\n        ServerProtocol.prototype.closeAllSubscriptions = function (method, branchKey) {\r\n            this.streaming.closeMultipleSubscriptions(method, branchKey);\r\n        };\r\n        ServerProtocol.prototype.pushData = function (method, data, branches) {\r\n            this.streaming.pushData(method, data, branches);\r\n        };\r\n        ServerProtocol.prototype.pushDataToSingle = function (method, subscription, data) {\r\n            this.streaming.pushDataToSingle(method, subscription, data);\r\n        };\r\n        ServerProtocol.prototype.closeSingleSubscription = function (method, subscription) {\r\n            this.streaming.closeSingleSubscription(method, subscription);\r\n        };\r\n        ServerProtocol.prototype.acceptRequestOnBranch = function (requestContext, method, branch) {\r\n            this.streaming.acceptRequestOnBranch(requestContext, method, branch);\r\n        };\r\n        ServerProtocol.prototype.rejectRequest = function (requestContext, method, reason) {\r\n            this.streaming.rejectRequest(requestContext, method, reason);\r\n        };\r\n        ServerProtocol.prototype.onSubRequest = function (callback) {\r\n            this.streaming.onSubRequest(callback);\r\n        };\r\n        ServerProtocol.prototype.onSubAdded = function (callback) {\r\n            this.streaming.onSubAdded(callback);\r\n        };\r\n        ServerProtocol.prototype.onSubRemoved = function (callback) {\r\n            this.streaming.onSubRemoved(callback);\r\n        };\r\n        ServerProtocol.prototype.handleInvokeMessage = function (msg) {\r\n            var invocationId = msg.invocation_id;\r\n            var callerId = msg.caller_id;\r\n            var methodId = msg.method_id;\r\n            var args = msg.arguments_kv;\r\n            var methodList = this.serverRepository.getList();\r\n            var method = methodList.filter(function (m) {\r\n                return m.repoId === methodId;\r\n            })[0];\r\n            if (method === undefined) {\r\n                return;\r\n            }\r\n            var client = this.clientRepository.getServerById(callerId).instance;\r\n            var invocationArgs = { args: args, instance: client };\r\n            this.callbacks.execute(\"onInvoked\", method, invocationId, invocationArgs);\r\n        };\r\n        return ServerProtocol;\r\n    }());\n\n    var UserSubscription = (function () {\r\n        function UserSubscription(repository, subscriptionData) {\r\n            this.repository = repository;\r\n            this.subscriptionData = subscriptionData;\r\n        }\r\n        Object.defineProperty(UserSubscription.prototype, \"requestArguments\", {\r\n            get: function () {\r\n                return this.subscriptionData.params.arguments || {};\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(UserSubscription.prototype, \"servers\", {\r\n            get: function () {\r\n                var _this = this;\r\n                return this.subscriptionData.trackedServers\r\n                    .filter(function (pair) { return pair.subscriptionId; })\r\n                    .map(function (pair) { return _this.repository.getServerById(pair.serverId).instance; });\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(UserSubscription.prototype, \"serverInstance\", {\r\n            get: function () {\r\n                return this.servers[0];\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(UserSubscription.prototype, \"stream\", {\r\n            get: function () {\r\n                return this.subscriptionData.method;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        UserSubscription.prototype.onData = function (dataCallback) {\r\n            if (typeof dataCallback !== \"function\") {\r\n                throw new TypeError(\"The data callback must be a function.\");\r\n            }\r\n            this.subscriptionData.handlers.onData.push(dataCallback);\r\n            if (this.subscriptionData.handlers.onData.length === 1 && this.subscriptionData.queued.data.length > 0) {\r\n                this.subscriptionData.queued.data.forEach(function (dataItem) {\r\n                    dataCallback(dataItem);\r\n                });\r\n            }\r\n        };\r\n        UserSubscription.prototype.onClosed = function (closedCallback) {\r\n            if (typeof closedCallback !== \"function\") {\r\n                throw new TypeError(\"The callback must be a function.\");\r\n            }\r\n            this.subscriptionData.handlers.onClosed.push(closedCallback);\r\n        };\r\n        UserSubscription.prototype.onFailed = function (callback) {\r\n        };\r\n        UserSubscription.prototype.onConnected = function (callback) {\r\n            if (typeof callback !== \"function\") {\r\n                throw new TypeError(\"The callback must be a function.\");\r\n            }\r\n            this.subscriptionData.handlers.onConnected.push(callback);\r\n        };\r\n        UserSubscription.prototype.close = function () {\r\n            this.subscriptionData.close();\r\n        };\r\n        UserSubscription.prototype.setNewSubscription = function (newSub) {\r\n            this.subscriptionData = newSub;\r\n        };\r\n        return UserSubscription;\r\n    }());\n\n    var STATUS_AWAITING_ACCEPT = \"awaitingAccept\";\r\n    var STATUS_SUBSCRIBED = \"subscribed\";\r\n    var ERR_MSG_SUB_FAILED = \"Subscription failed.\";\r\n    var ERR_MSG_SUB_REJECTED = \"Subscription rejected.\";\r\n    var ON_CLOSE_MSG_SERVER_INIT = \"ServerInitiated\";\r\n    var ON_CLOSE_MSG_CLIENT_INIT = \"ClientInitiated\";\r\n    var ClientStreaming = (function () {\r\n        function ClientStreaming(session, repository, logger) {\r\n            var _this = this;\r\n            this.session = session;\r\n            this.repository = repository;\r\n            this.logger = logger;\r\n            this.subscriptionsList = {};\r\n            this.subscriptionIdToLocalKeyMap = {};\r\n            this.nextSubLocalKey = 0;\r\n            this.handleErrorSubscribing = function (errorResponse) {\r\n                var tag = errorResponse._tag;\r\n                var subLocalKey = tag.subLocalKey;\r\n                var pendingSub = _this.subscriptionsList[subLocalKey];\r\n                if (typeof pendingSub !== \"object\") {\r\n                    return;\r\n                }\r\n                pendingSub.trackedServers = pendingSub.trackedServers.filter(function (server) {\r\n                    return server.serverId !== tag.serverId;\r\n                });\r\n                if (pendingSub.trackedServers.length <= 0) {\r\n                    clearTimeout(pendingSub.timeoutId);\r\n                    if (pendingSub.status === STATUS_AWAITING_ACCEPT) {\r\n                        var reason = (typeof errorResponse.reason === \"string\" && errorResponse.reason !== \"\") ?\r\n                            ' Publisher said \"' + errorResponse.reason + '\".' :\r\n                            \" No reason given.\";\r\n                        var callArgs = typeof pendingSub.params.arguments === \"object\" ?\r\n                            JSON.stringify(pendingSub.params.arguments) :\r\n                            \"{}\";\r\n                        pendingSub.error({\r\n                            message: ERR_MSG_SUB_REJECTED + reason + \" Called with:\" + callArgs,\r\n                            called_with: pendingSub.params.arguments,\r\n                            method: pendingSub.method,\r\n                        });\r\n                    }\r\n                    else if (pendingSub.status === STATUS_SUBSCRIBED) {\r\n                        _this.callOnClosedHandlers(pendingSub);\r\n                    }\r\n                    delete _this.subscriptionsList[subLocalKey];\r\n                }\r\n            };\r\n            this.handleSubscribed = function (msg) {\r\n                var subLocalKey = msg._tag.subLocalKey;\r\n                var pendingSub = _this.subscriptionsList[subLocalKey];\r\n                if (typeof pendingSub !== \"object\") {\r\n                    return;\r\n                }\r\n                var serverId = msg._tag.serverId;\r\n                var acceptingServer = pendingSub.trackedServers\r\n                    .filter(function (server) {\r\n                    return server.serverId === serverId;\r\n                })[0];\r\n                if (typeof acceptingServer !== \"object\") {\r\n                    return;\r\n                }\r\n                acceptingServer.subscriptionId = msg.subscription_id;\r\n                _this.subscriptionIdToLocalKeyMap[msg.subscription_id] = subLocalKey;\r\n                var isFirstResponse = (pendingSub.status === STATUS_AWAITING_ACCEPT);\r\n                pendingSub.status = STATUS_SUBSCRIBED;\r\n                if (isFirstResponse) {\r\n                    var reconnect = false;\r\n                    var sub = pendingSub.subscription;\r\n                    if (sub) {\r\n                        sub.setNewSubscription(pendingSub);\r\n                        pendingSub.success(sub);\r\n                        reconnect = true;\r\n                    }\r\n                    else {\r\n                        sub = new UserSubscription(_this.repository, pendingSub);\r\n                        pendingSub.subscription = sub;\r\n                        pendingSub.success(sub);\r\n                    }\r\n                    for (var _i = 0, _a = pendingSub.handlers.onConnected; _i < _a.length; _i++) {\r\n                        var handler = _a[_i];\r\n                        try {\r\n                            handler(sub.serverInstance, reconnect);\r\n                        }\r\n                        catch (e) {\r\n                        }\r\n                    }\r\n                }\r\n            };\r\n            this.handleEventData = function (msg) {\r\n                var subLocalKey = _this.subscriptionIdToLocalKeyMap[msg.subscription_id];\r\n                if (typeof subLocalKey === \"undefined\") {\r\n                    return;\r\n                }\r\n                var subscription = _this.subscriptionsList[subLocalKey];\r\n                if (typeof subscription !== \"object\") {\r\n                    return;\r\n                }\r\n                var trackedServersFound = subscription.trackedServers.filter(function (server) {\r\n                    return server.subscriptionId === msg.subscription_id;\r\n                });\r\n                if (trackedServersFound.length !== 1) {\r\n                    return;\r\n                }\r\n                var isPrivateData = msg.oob;\r\n                var sendingServerId = trackedServersFound[0].serverId;\r\n                var receivedStreamData = function () {\r\n                    return {\r\n                        data: msg.data,\r\n                        server: _this.repository.getServerById(sendingServerId).instance,\r\n                        requestArguments: subscription.params.arguments,\r\n                        message: undefined,\r\n                        private: isPrivateData,\r\n                    };\r\n                };\r\n                var onDataHandlers = subscription.handlers.onData;\r\n                var queuedData = subscription.queued.data;\r\n                if (onDataHandlers.length > 0) {\r\n                    onDataHandlers.forEach(function (callback) {\r\n                        if (typeof callback === \"function\") {\r\n                            callback(receivedStreamData());\r\n                        }\r\n                    });\r\n                }\r\n                else {\r\n                    queuedData.push(receivedStreamData());\r\n                }\r\n            };\r\n            this.handleSubscriptionCancelled = function (msg) {\r\n                var subLocalKey = _this.subscriptionIdToLocalKeyMap[msg.subscription_id];\r\n                if (typeof subLocalKey === \"undefined\") {\r\n                    return;\r\n                }\r\n                var subscription = _this.subscriptionsList[subLocalKey];\r\n                if (typeof subscription !== \"object\") {\r\n                    return;\r\n                }\r\n                var expectedNewLength = subscription.trackedServers.length - 1;\r\n                subscription.trackedServers = subscription.trackedServers.filter(function (server) {\r\n                    if (server.subscriptionId === msg.subscription_id) {\r\n                        subscription.queued.closers.push(server.serverId);\r\n                        return false;\r\n                    }\r\n                    else {\r\n                        return true;\r\n                    }\r\n                });\r\n                if (subscription.trackedServers.length !== expectedNewLength) {\r\n                    return;\r\n                }\r\n                if (subscription.trackedServers.length <= 0) {\r\n                    clearTimeout(subscription.timeoutId);\r\n                    _this.callOnClosedHandlers(subscription);\r\n                    delete _this.subscriptionsList[subLocalKey];\r\n                }\r\n                delete _this.subscriptionIdToLocalKeyMap[msg.subscription_id];\r\n            };\r\n            session.on(\"subscribed\", this.handleSubscribed);\r\n            session.on(\"event\", this.handleEventData);\r\n            session.on(\"subscription-cancelled\", this.handleSubscriptionCancelled);\r\n        }\r\n        ClientStreaming.prototype.subscribe = function (streamingMethod, params, targetServers, success, error, existingSub) {\r\n            var _this = this;\r\n            if (targetServers.length === 0) {\r\n                error({\r\n                    method: streamingMethod,\r\n                    called_with: params.arguments,\r\n                    message: ERR_MSG_SUB_FAILED + \" No available servers matched the target params.\",\r\n                });\r\n                return;\r\n            }\r\n            var subLocalKey = this.getNextSubscriptionLocalKey();\r\n            var pendingSub = this.registerSubscription(subLocalKey, streamingMethod, params, success, error, params.methodResponseTimeout || 10000, existingSub);\r\n            if (typeof pendingSub !== \"object\") {\r\n                error({\r\n                    method: streamingMethod,\r\n                    called_with: params.arguments,\r\n                    message: ERR_MSG_SUB_FAILED + \" Unable to register the user callbacks.\",\r\n                });\r\n                return;\r\n            }\r\n            targetServers.forEach(function (target) {\r\n                var serverId = target.server.id;\r\n                var method = target.methods.find(function (m) { return m.name === streamingMethod.name; });\r\n                if (!method) {\r\n                    _this.logger.error(\"can not find method \" + streamingMethod.name + \" for target \" + target.server.id);\r\n                    return;\r\n                }\r\n                pendingSub.trackedServers.push({\r\n                    serverId: serverId,\r\n                    subscriptionId: undefined,\r\n                });\r\n                var msg = {\r\n                    type: \"subscribe\",\r\n                    server_id: serverId,\r\n                    method_id: method.gatewayId,\r\n                    arguments_kv: params.arguments,\r\n                };\r\n                _this.session.send(msg, { serverId: serverId, subLocalKey: subLocalKey })\r\n                    .then(function (m) { return _this.handleSubscribed(m); })\r\n                    .catch(function (err) { return _this.handleErrorSubscribing(err); });\r\n            });\r\n        };\r\n        ClientStreaming.prototype.drainSubscriptions = function () {\r\n            var existing = Object.values(this.subscriptionsList);\r\n            this.subscriptionsList = {};\r\n            this.subscriptionIdToLocalKeyMap = {};\r\n            return existing;\r\n        };\r\n        ClientStreaming.prototype.getNextSubscriptionLocalKey = function () {\r\n            var current = this.nextSubLocalKey;\r\n            this.nextSubLocalKey += 1;\r\n            return current;\r\n        };\r\n        ClientStreaming.prototype.registerSubscription = function (subLocalKey, method, params, success, error, timeout, existingSub) {\r\n            var _this = this;\r\n            var subsInfo = {\r\n                localKey: subLocalKey,\r\n                status: STATUS_AWAITING_ACCEPT,\r\n                method: method,\r\n                params: params,\r\n                success: success,\r\n                error: error,\r\n                trackedServers: [],\r\n                handlers: {\r\n                    onData: (existingSub === null || existingSub === void 0 ? void 0 : existingSub.handlers.onData) || [],\r\n                    onClosed: (existingSub === null || existingSub === void 0 ? void 0 : existingSub.handlers.onClosed) || [],\r\n                    onConnected: (existingSub === null || existingSub === void 0 ? void 0 : existingSub.handlers.onConnected) || [],\r\n                },\r\n                queued: {\r\n                    data: [],\r\n                    closers: [],\r\n                },\r\n                timeoutId: undefined,\r\n                close: function () { return _this.closeSubscription(subLocalKey); },\r\n                subscription: existingSub === null || existingSub === void 0 ? void 0 : existingSub.subscription\r\n            };\r\n            if (!existingSub) {\r\n                if (params.onData) {\r\n                    subsInfo.handlers.onData.push(params.onData);\r\n                }\r\n                if (params.onClosed) {\r\n                    subsInfo.handlers.onClosed.push(params.onClosed);\r\n                }\r\n                if (params.onConnected) {\r\n                    subsInfo.handlers.onConnected.push(params.onConnected);\r\n                }\r\n            }\r\n            this.subscriptionsList[subLocalKey] = subsInfo;\r\n            subsInfo.timeoutId = setTimeout(function () {\r\n                if (_this.subscriptionsList[subLocalKey] === undefined) {\r\n                    return;\r\n                }\r\n                var pendingSub = _this.subscriptionsList[subLocalKey];\r\n                if (pendingSub.status === STATUS_AWAITING_ACCEPT) {\r\n                    error({\r\n                        method: method,\r\n                        called_with: params.arguments,\r\n                        message: ERR_MSG_SUB_FAILED + \" Subscription attempt timed out after \" + timeout + \" ms.\",\r\n                    });\r\n                    delete _this.subscriptionsList[subLocalKey];\r\n                }\r\n                else if (pendingSub.status === STATUS_SUBSCRIBED && pendingSub.trackedServers.length > 0) {\r\n                    pendingSub.trackedServers = pendingSub.trackedServers.filter(function (server) {\r\n                        return (typeof server.subscriptionId !== \"undefined\");\r\n                    });\r\n                    delete pendingSub.timeoutId;\r\n                    if (pendingSub.trackedServers.length <= 0) {\r\n                        _this.callOnClosedHandlers(pendingSub);\r\n                        delete _this.subscriptionsList[subLocalKey];\r\n                    }\r\n                }\r\n            }, timeout);\r\n            return subsInfo;\r\n        };\r\n        ClientStreaming.prototype.callOnClosedHandlers = function (subscription, reason) {\r\n            var closersCount = subscription.queued.closers.length;\r\n            var closingServerId = (closersCount > 0) ? subscription.queued.closers[closersCount - 1] : null;\r\n            var closingServer;\r\n            if (closingServerId !== undefined && typeof closingServerId === \"string\") {\r\n                closingServer = this.repository.getServerById(closingServerId).instance;\r\n            }\r\n            subscription.handlers.onClosed.forEach(function (callback) {\r\n                if (typeof callback !== \"function\") {\r\n                    return;\r\n                }\r\n                callback({\r\n                    message: reason || ON_CLOSE_MSG_SERVER_INIT,\r\n                    requestArguments: subscription.params.arguments || {},\r\n                    server: closingServer,\r\n                    stream: subscription.method,\r\n                });\r\n            });\r\n        };\r\n        ClientStreaming.prototype.closeSubscription = function (subLocalKey) {\r\n            var _this = this;\r\n            var subscription = this.subscriptionsList[subLocalKey];\r\n            if (typeof subscription !== \"object\") {\r\n                return;\r\n            }\r\n            subscription.trackedServers.forEach(function (server) {\r\n                if (typeof server.subscriptionId === \"undefined\") {\r\n                    return;\r\n                }\r\n                subscription.queued.closers.push(server.serverId);\r\n                _this.session.sendFireAndForget({\r\n                    type: \"unsubscribe\",\r\n                    subscription_id: server.subscriptionId,\r\n                    reason_uri: \"\",\r\n                    reason: ON_CLOSE_MSG_CLIENT_INIT,\r\n                });\r\n                delete _this.subscriptionIdToLocalKeyMap[server.subscriptionId];\r\n            });\r\n            subscription.trackedServers = [];\r\n            this.callOnClosedHandlers(subscription, ON_CLOSE_MSG_CLIENT_INIT);\r\n            delete this.subscriptionsList[subLocalKey];\r\n        };\r\n        return ClientStreaming;\r\n    }());\n\n    var ClientProtocol = (function () {\r\n        function ClientProtocol(session, repository, logger) {\r\n            var _this = this;\r\n            this.session = session;\r\n            this.repository = repository;\r\n            this.logger = logger;\r\n            session.on(\"peer-added\", function (msg) { return _this.handlePeerAdded(msg); });\r\n            session.on(\"peer-removed\", function (msg) { return _this.handlePeerRemoved(msg); });\r\n            session.on(\"methods-added\", function (msg) { return _this.handleMethodsAddedMessage(msg); });\r\n            session.on(\"methods-removed\", function (msg) { return _this.handleMethodsRemovedMessage(msg); });\r\n            this.streaming = new ClientStreaming(session, repository, logger);\r\n        }\r\n        ClientProtocol.prototype.subscribe = function (stream, options, targetServers, success, error, existingSub) {\r\n            this.streaming.subscribe(stream, options, targetServers, success, error, existingSub);\r\n        };\r\n        ClientProtocol.prototype.invoke = function (id, method, args, target) {\r\n            var _this = this;\r\n            var serverId = target.id;\r\n            var methodId = method.gatewayId;\r\n            var msg = {\r\n                type: \"call\",\r\n                server_id: serverId,\r\n                method_id: methodId,\r\n                arguments_kv: args,\r\n            };\r\n            return this.session.send(msg, { invocationId: id, serverId: serverId })\r\n                .then(function (m) { return _this.handleResultMessage(m); })\r\n                .catch(function (err) { return _this.handleInvocationError(err); });\r\n        };\r\n        ClientProtocol.prototype.drainSubscriptions = function () {\r\n            return this.streaming.drainSubscriptions();\r\n        };\r\n        ClientProtocol.prototype.handlePeerAdded = function (msg) {\r\n            var newPeerId = msg.new_peer_id;\r\n            var remoteId = msg.identity;\r\n            var isLocal = msg.meta ? msg.meta.local : true;\r\n            var pid = Number(remoteId.process);\r\n            var serverInfo = {\r\n                machine: remoteId.machine,\r\n                pid: isNaN(pid) ? remoteId.process : pid,\r\n                instance: remoteId.instance,\r\n                application: remoteId.application,\r\n                applicationName: remoteId.applicationName,\r\n                environment: remoteId.environment,\r\n                region: remoteId.region,\r\n                user: remoteId.user,\r\n                windowId: remoteId.windowId,\r\n                peerId: newPeerId,\r\n                api: remoteId.api,\r\n                isLocal: isLocal\r\n            };\r\n            this.repository.addServer(serverInfo, newPeerId);\r\n        };\r\n        ClientProtocol.prototype.handlePeerRemoved = function (msg) {\r\n            var removedPeerId = msg.removed_id;\r\n            var reason = msg.reason;\r\n            this.repository.removeServerById(removedPeerId, reason);\r\n        };\r\n        ClientProtocol.prototype.handleMethodsAddedMessage = function (msg) {\r\n            var _this = this;\r\n            var serverId = msg.server_id;\r\n            var methods = msg.methods;\r\n            methods.forEach(function (method) {\r\n                _this.repository.addServerMethod(serverId, method);\r\n            });\r\n        };\r\n        ClientProtocol.prototype.handleMethodsRemovedMessage = function (msg) {\r\n            var _this = this;\r\n            var serverId = msg.server_id;\r\n            var methodIdList = msg.methods;\r\n            var server = this.repository.getServerById(serverId);\r\n            var serverMethodKeys = Object.keys(server.methods);\r\n            serverMethodKeys.forEach(function (methodKey) {\r\n                var method = server.methods[methodKey];\r\n                if (methodIdList.indexOf(method.gatewayId) > -1) {\r\n                    _this.repository.removeServerMethod(serverId, methodKey);\r\n                }\r\n            });\r\n        };\r\n        ClientProtocol.prototype.handleResultMessage = function (msg) {\r\n            var invocationId = msg._tag.invocationId;\r\n            var result = msg.result;\r\n            var serverId = msg._tag.serverId;\r\n            var server = this.repository.getServerById(serverId);\r\n            return {\r\n                invocationId: invocationId,\r\n                result: result,\r\n                instance: server.instance,\r\n                status: InvokeStatus.Success,\r\n                message: \"\"\r\n            };\r\n        };\r\n        ClientProtocol.prototype.handleInvocationError = function (msg) {\r\n            this.logger.debug(\"handle invocation error \" + JSON.stringify(msg));\r\n            if (\"_tag\" in msg) {\r\n                var invocationId = msg._tag.invocationId;\r\n                var serverId = msg._tag.serverId;\r\n                var server = this.repository.getServerById(serverId);\r\n                var message = msg.reason;\r\n                var context_1 = msg.context;\r\n                return {\r\n                    invocationId: invocationId,\r\n                    result: context_1,\r\n                    instance: server.instance,\r\n                    status: InvokeStatus.Error,\r\n                    message: message\r\n                };\r\n            }\r\n            else {\r\n                return {\r\n                    invocationId: \"\",\r\n                    message: msg.message,\r\n                    status: InvokeStatus.Error,\r\n                    error: msg\r\n                };\r\n            }\r\n        };\r\n        return ClientProtocol;\r\n    }());\n\n    function gW3ProtocolFactory (instance, connection, clientRepository, serverRepository, libConfig, interop) {\r\n        var logger = libConfig.logger.subLogger(\"gw3-protocol\");\r\n        var resolveReadyPromise;\r\n        var readyPromise = new Promise(function (resolve) {\r\n            resolveReadyPromise = resolve;\r\n        });\r\n        var session = connection.domain(\"agm\", [\"subscribed\"]);\r\n        var server = new ServerProtocol(session, clientRepository, serverRepository, logger.subLogger(\"server\"));\r\n        var client = new ClientProtocol(session, clientRepository, logger.subLogger(\"client\"));\r\n        function handleReconnect() {\r\n            logger.info(\"reconnected - will replay registered methods and subscriptions\");\r\n            var existingSubscriptions = client.drainSubscriptions();\r\n            for (var _i = 0, existingSubscriptions_1 = existingSubscriptions; _i < existingSubscriptions_1.length; _i++) {\r\n                var sub = existingSubscriptions_1[_i];\r\n                var methodInfo = sub.method;\r\n                var params = Object.assign({}, sub.params);\r\n                logger.info(\"trying to re-subscribe to method \" + methodInfo.name);\r\n                interop.client.subscribe(methodInfo, params, undefined, undefined, sub);\r\n            }\r\n            var registeredMethods = serverRepository.getList();\r\n            serverRepository.reset();\r\n            for (var _a = 0, registeredMethods_1 = registeredMethods; _a < registeredMethods_1.length; _a++) {\r\n                var method = registeredMethods_1[_a];\r\n                var def = method.definition;\r\n                logger.info(\"re-publishing method \" + def.name);\r\n                if (method.stream) {\r\n                    interop.server.createStream(def, method.streamCallbacks, undefined, undefined, method.stream);\r\n                }\r\n                else if (method.theFunction && method.theFunction.userCallback) {\r\n                    interop.register(def, method.theFunction.userCallback);\r\n                }\r\n                else if (method.theFunction && method.theFunction.userCallbackAsync) {\r\n                    interop.registerAsync(def, method.theFunction.userCallbackAsync);\r\n                }\r\n            }\r\n        }\r\n        function handleInitialJoin() {\r\n            if (resolveReadyPromise) {\r\n                resolveReadyPromise({\r\n                    client: client,\r\n                    server: server,\r\n                });\r\n                resolveReadyPromise = undefined;\r\n            }\r\n        }\r\n        session.onJoined(function (reconnect) {\r\n            clientRepository.addServer(instance, connection.peerId);\r\n            if (reconnect) {\r\n                handleReconnect();\r\n            }\r\n            else {\r\n                handleInitialJoin();\r\n            }\r\n        });\r\n        session.onLeft(function () {\r\n            clientRepository.reset();\r\n        });\r\n        session.join();\r\n        return readyPromise;\r\n    }\n\n    var Interop = (function () {\r\n        function Interop(configuration) {\r\n            var _this = this;\r\n            if (typeof configuration === \"undefined\") {\r\n                throw new Error(\"configuration is required\");\r\n            }\r\n            if (typeof configuration.connection === \"undefined\") {\r\n                throw new Error(\"configuration.connections is required\");\r\n            }\r\n            var connection = configuration.connection;\r\n            if (typeof configuration.methodResponseTimeout !== \"number\") {\r\n                configuration.methodResponseTimeout = 30 * 1000;\r\n            }\r\n            if (typeof configuration.waitTimeoutMs !== \"number\") {\r\n                configuration.waitTimeoutMs = 30 * 1000;\r\n            }\r\n            InstanceWrapper.API = this;\r\n            this.instance = new InstanceWrapper(undefined, connection).unwrap();\r\n            this.clientRepository = new ClientRepository(configuration.logger.subLogger(\"cRep\"));\r\n            this.serverRepository = new ServerRepository();\r\n            var protocolPromise;\r\n            if (connection.protocolVersion === 3) {\r\n                protocolPromise = gW3ProtocolFactory(this.instance, connection, this.clientRepository, this.serverRepository, configuration, this);\r\n            }\r\n            else {\r\n                throw new Error(\"protocol \" + connection.protocolVersion + \" not supported\");\r\n            }\r\n            this.readyPromise = protocolPromise.then(function (protocol) {\r\n                _this.protocol = protocol;\r\n                _this.client = new Client(_this.protocol, _this.clientRepository, _this.instance, configuration);\r\n                _this.server = new Server(_this.protocol, _this.serverRepository);\r\n                return _this;\r\n            });\r\n        }\r\n        Interop.prototype.ready = function () {\r\n            return this.readyPromise;\r\n        };\r\n        Interop.prototype.serverRemoved = function (callback) {\r\n            return this.client.serverRemoved(callback);\r\n        };\r\n        Interop.prototype.serverAdded = function (callback) {\r\n            return this.client.serverAdded(callback);\r\n        };\r\n        Interop.prototype.serverMethodRemoved = function (callback) {\r\n            return this.client.serverMethodRemoved(callback);\r\n        };\r\n        Interop.prototype.serverMethodAdded = function (callback) {\r\n            return this.client.serverMethodAdded(callback);\r\n        };\r\n        Interop.prototype.methodRemoved = function (callback) {\r\n            return this.client.methodRemoved(callback);\r\n        };\r\n        Interop.prototype.methodAdded = function (callback) {\r\n            return this.client.methodAdded(callback);\r\n        };\r\n        Interop.prototype.methodsForInstance = function (instance) {\r\n            return this.client.methodsForInstance(instance);\r\n        };\r\n        Interop.prototype.methods = function (methodFilter) {\r\n            return this.client.methods(methodFilter);\r\n        };\r\n        Interop.prototype.servers = function (methodFilter) {\r\n            return this.client.servers(methodFilter);\r\n        };\r\n        Interop.prototype.subscribe = function (method, options, successCallback, errorCallback) {\r\n            return this.client.subscribe(method, options, successCallback, errorCallback);\r\n        };\r\n        Interop.prototype.createStream = function (streamDef, callbacks, successCallback, errorCallback) {\r\n            return this.server.createStream(streamDef, callbacks, successCallback, errorCallback);\r\n        };\r\n        Interop.prototype.unregister = function (methodFilter) {\r\n            return this.server.unregister(methodFilter);\r\n        };\r\n        Interop.prototype.registerAsync = function (methodDefinition, callback) {\r\n            return this.server.registerAsync(methodDefinition, callback);\r\n        };\r\n        Interop.prototype.register = function (methodDefinition, callback) {\r\n            return this.server.register(methodDefinition, callback);\r\n        };\r\n        Interop.prototype.invoke = function (methodFilter, argumentObj, target, additionalOptions, success, error) {\r\n            return this.client.invoke(methodFilter, argumentObj, target, additionalOptions, success, error);\r\n        };\r\n        return Interop;\r\n    }());\n\n    var successMessages = [\"subscribed\", \"success\"];\r\n    var MessageBus = (function () {\r\n        function MessageBus(connection, logger) {\r\n            var _this = this;\r\n            this.publish = function (topic, data, options) {\r\n                var _a = options || {}, routingKey = _a.routingKey, target = _a.target;\r\n                var args = _this.removeEmptyValues({\r\n                    type: \"publish\",\r\n                    topic: topic,\r\n                    data: data,\r\n                    peer_id: _this.peerId,\r\n                    routing_key: routingKey,\r\n                    target_identity: target\r\n                });\r\n                _this.session.send(args);\r\n            };\r\n            this.subscribe = function (topic, callback, options) {\r\n                return new Promise(function (resolve, reject) {\r\n                    var _a = options || {}, routingKey = _a.routingKey, target = _a.target;\r\n                    var args = _this.removeEmptyValues({\r\n                        type: \"subscribe\",\r\n                        topic: topic,\r\n                        peer_id: _this.peerId,\r\n                        routing_key: routingKey,\r\n                        source: target\r\n                    });\r\n                    _this.session.send(args)\r\n                        .then(function (response) {\r\n                        var subscription_id = response.subscription_id;\r\n                        _this.subscriptions.push({ subscription_id: subscription_id, topic: topic, callback: callback, source: target });\r\n                        resolve({\r\n                            unsubscribe: function () {\r\n                                _this.session.send({ type: \"unsubscribe\", subscription_id: subscription_id, peer_id: _this.peerId });\r\n                                _this.subscriptions = _this.subscriptions.filter(function (s) { return s.subscription_id !== subscription_id; });\r\n                                return Promise.resolve();\r\n                            }\r\n                        });\r\n                    })\r\n                        .catch(function (error) { return reject(error); });\r\n                });\r\n            };\r\n            this.watchOnEvent = function () {\r\n                _this.session.on(\"event\", function (args) {\r\n                    var data = args.data, subscription_id = args.subscription_id;\r\n                    var source = args[\"publisher-identity\"];\r\n                    var subscription = _this.subscriptions.find(function (s) { return s.subscription_id === subscription_id; });\r\n                    if (subscription) {\r\n                        if (!subscription.source) {\r\n                            subscription.callback(data, subscription.topic, source);\r\n                        }\r\n                        else {\r\n                            if (_this.keysMatch(subscription.source, source)) {\r\n                                subscription.callback(data, subscription.topic, source);\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n            };\r\n            this.connection = connection;\r\n            this.logger = logger;\r\n            this.peerId = connection.peerId;\r\n            this.subscriptions = [];\r\n            this.session = connection.domain(\"bus\", successMessages);\r\n            this.readyPromise = this.session.join();\r\n            this.readyPromise.then(function () {\r\n                _this.watchOnEvent();\r\n            });\r\n        }\r\n        MessageBus.prototype.ready = function () {\r\n            return this.readyPromise;\r\n        };\r\n        MessageBus.prototype.removeEmptyValues = function (obj) {\r\n            var cleaned = {};\r\n            Object.keys(obj).forEach(function (key) {\r\n                if (obj[key] !== undefined && obj[key] !== null) {\r\n                    cleaned[key] = obj[key];\r\n                }\r\n            });\r\n            return cleaned;\r\n        };\r\n        MessageBus.prototype.keysMatch = function (obj1, obj2) {\r\n            var keysObj1 = Object.keys(obj1);\r\n            var allMatch = true;\r\n            keysObj1.forEach(function (key) {\r\n                if (obj1[key] !== obj2[key]) {\r\n                    allMatch = false;\r\n                }\r\n            });\r\n            return allMatch;\r\n        };\r\n        return MessageBus;\r\n    }());\n\n    var GlueCore = function (userConfig, ext) {\r\n        var gdVersion = Utils.getGDMajorVersion();\r\n        var glue42gd;\r\n        var preloadPromise = Promise.resolve();\r\n        if (gdVersion) {\r\n            if (gdVersion < 3) {\r\n                throw new Error(\"GD v2 is not supported. Use v4 of the API to run in that context.\");\r\n            }\r\n            else if (gdVersion >= 3) {\r\n                glue42gd = window.glue42gd;\r\n                preloadPromise = window.gdPreloadPromise || preloadPromise;\r\n            }\r\n        }\r\n        var glueInitTimer = timer(\"glue\");\r\n        userConfig = userConfig || {};\r\n        ext = ext || {};\r\n        var internalConfig = prepareConfig(userConfig, ext, glue42gd);\r\n        var _connection;\r\n        var _interop;\r\n        var _logger;\r\n        var _metrics;\r\n        var _contexts;\r\n        var _bus;\r\n        var _allowTrace;\r\n        var libs = {};\r\n        function registerLib(name, inner, t) {\r\n            _allowTrace = _logger.canPublish(\"trace\");\r\n            if (_allowTrace) {\r\n                _logger.trace(\"registering \" + name + \" module\");\r\n            }\r\n            var done = function () {\r\n                inner.initTime = t.stop();\r\n                inner.initEndTime = t.endTime;\r\n                inner.marks = t.marks;\r\n                if (_allowTrace) {\r\n                    _logger.trace(name + \" is ready - \" + (t.endTime - t.startTime));\r\n                }\r\n            };\r\n            inner.initStartTime = t.startTime;\r\n            if (inner.ready) {\r\n                inner.ready().then(function () {\r\n                    done();\r\n                });\r\n            }\r\n            else {\r\n                done();\r\n            }\r\n            if (!Array.isArray(name)) {\r\n                name = [name];\r\n            }\r\n            name.forEach(function (n) {\r\n                libs[n] = inner;\r\n                GlueCore[n] = inner;\r\n            });\r\n        }\r\n        function setupConnection() {\r\n            var initTimer = timer(\"connection\");\r\n            _connection = new Connection(internalConfig.connection, _logger.subLogger(\"connection\"));\r\n            var authPromise = Promise.resolve(internalConfig.auth);\r\n            if (internalConfig.connection && !internalConfig.auth) {\r\n                if (glue42gd) {\r\n                    authPromise = glue42gd.getGWToken()\r\n                        .then(function (token) {\r\n                        return {\r\n                            gatewayToken: token\r\n                        };\r\n                    });\r\n                }\r\n                else {\r\n                    authPromise = Promise.reject(\"You need to provide auth information\");\r\n                }\r\n            }\r\n            return authPromise\r\n                .then(function (authConfig) {\r\n                initTimer.mark(\"auth-promise-resolved\");\r\n                var authRequest;\r\n                if (Object.prototype.toString.call(authConfig) === \"[object Object]\") {\r\n                    authRequest = authConfig;\r\n                }\r\n                else {\r\n                    throw new Error(\"Invalid auth object - \" + JSON.stringify(authConfig));\r\n                }\r\n                return _connection.login(authRequest);\r\n            })\r\n                .then(function () {\r\n                registerLib(\"connection\", _connection, initTimer);\r\n                return internalConfig;\r\n            })\r\n                .catch(function (e) {\r\n                if (_connection) {\r\n                    _connection.logout();\r\n                }\r\n                throw e;\r\n            });\r\n        }\r\n        function setupLogger() {\r\n            var _a;\r\n            var initTimer = timer(\"logger\");\r\n            _logger = new Logger(\"\" + ((_a = internalConfig.connection.identity) === null || _a === void 0 ? void 0 : _a.application), undefined, internalConfig.customLogger);\r\n            _logger.consoleLevel(internalConfig.logger.console);\r\n            _logger.publishLevel(internalConfig.logger.publish);\r\n            if (_logger.canPublish(\"debug\")) {\r\n                _logger.debug(\"initializing glue...\");\r\n            }\r\n            registerLib(\"logger\", _logger, initTimer);\r\n            return Promise.resolve(undefined);\r\n        }\r\n        function setupMetrics() {\r\n            var _a, _b, _c, _d;\r\n            var initTimer = timer(\"metrics\");\r\n            var config = internalConfig.metrics;\r\n            var metricsPublishingEnabledFunc = glue42gd === null || glue42gd === void 0 ? void 0 : glue42gd.getMetricsPublishingEnabled;\r\n            var identity = internalConfig.connection.identity;\r\n            var canUpdateMetric = metricsPublishingEnabledFunc ? metricsPublishingEnabledFunc : function () { return true; };\r\n            var disableAutoAppSystem = (_a = (typeof config !== \"boolean\" && config.disableAutoAppSystem)) !== null && _a !== void 0 ? _a : false;\r\n            _metrics = metrics({\r\n                connection: config ? _connection : undefined,\r\n                logger: _logger.subLogger(\"metrics\"),\r\n                canUpdateMetric: canUpdateMetric,\r\n                system: \"Glue42\",\r\n                service: (_b = identity === null || identity === void 0 ? void 0 : identity.service) !== null && _b !== void 0 ? _b : \"metrics-service\",\r\n                instance: (_d = (_c = identity === null || identity === void 0 ? void 0 : identity.instance) !== null && _c !== void 0 ? _c : identity === null || identity === void 0 ? void 0 : identity.windowId) !== null && _d !== void 0 ? _d : shortid(),\r\n                disableAutoAppSystem: disableAutoAppSystem,\r\n                pagePerformanceMetrics: typeof config !== \"boolean\" ? config === null || config === void 0 ? void 0 : config.pagePerformanceMetrics : undefined\r\n            });\r\n            registerLib(\"metrics\", _metrics, initTimer);\r\n            return Promise.resolve();\r\n        }\r\n        function setupInterop() {\r\n            var initTimer = timer(\"interop\");\r\n            var agmConfig = {\r\n                connection: _connection,\r\n                logger: _logger.subLogger(\"interop\"),\r\n            };\r\n            _interop = new Interop(agmConfig);\r\n            Logger.Interop = _interop;\r\n            registerLib([\"interop\", \"agm\"], _interop, initTimer);\r\n            return Promise.resolve();\r\n        }\r\n        function setupContexts() {\r\n            var hasActivities = (internalConfig.activities && _connection.protocolVersion === 3);\r\n            var needsContexts = internalConfig.contexts || hasActivities;\r\n            if (needsContexts) {\r\n                var initTimer = timer(\"contexts\");\r\n                _contexts = new ContextsModule({\r\n                    connection: _connection,\r\n                    logger: _logger.subLogger(\"contexts\")\r\n                });\r\n                registerLib(\"contexts\", _contexts, initTimer);\r\n                return _contexts;\r\n            }\r\n            else {\r\n                var replayer = _connection.replayer;\r\n                if (replayer) {\r\n                    replayer.drain(ContextMessageReplaySpec.name);\r\n                }\r\n            }\r\n        }\r\n        function setupBus() {\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var initTimer;\r\n                return __generator$1(this, function (_a) {\r\n                    if (!internalConfig.bus) {\r\n                        return [2, Promise.resolve()];\r\n                    }\r\n                    initTimer = timer(\"bus\");\r\n                    _bus = new MessageBus(_connection, _logger.subLogger(\"bus\"));\r\n                    registerLib(\"bus\", _bus, initTimer);\r\n                    return [2, Promise.resolve()];\r\n                });\r\n            });\r\n        }\r\n        function setupExternalLibs(externalLibs) {\r\n            try {\r\n                externalLibs.forEach(function (lib) {\r\n                    setupExternalLib(lib.name, lib.create);\r\n                });\r\n                return Promise.resolve();\r\n            }\r\n            catch (e) {\r\n                return Promise.reject(e);\r\n            }\r\n        }\r\n        function setupExternalLib(name, createCallback) {\r\n            var initTimer = timer(name);\r\n            var lib = createCallback(libs);\r\n            if (lib) {\r\n                registerLib(name, lib, initTimer);\r\n            }\r\n        }\r\n        function waitForLibs() {\r\n            var libsReadyPromises = Object.keys(libs).map(function (key) {\r\n                var lib = libs[key];\r\n                return lib.ready ?\r\n                    lib.ready() : Promise.resolve();\r\n            });\r\n            return Promise.all(libsReadyPromises);\r\n        }\r\n        function constructGlueObject() {\r\n            var feedbackFunc = function (feedbackInfo) {\r\n                if (!_interop) {\r\n                    return;\r\n                }\r\n                _interop.invoke(\"T42.ACS.Feedback\", feedbackInfo, \"best\");\r\n            };\r\n            var info = {\r\n                coreVersion: version,\r\n                version: internalConfig.version\r\n            };\r\n            glueInitTimer.stop();\r\n            var glue = {\r\n                feedback: feedbackFunc,\r\n                info: info,\r\n                logger: _logger,\r\n                interop: _interop,\r\n                agm: _interop,\r\n                connection: _connection,\r\n                metrics: _metrics,\r\n                contexts: _contexts,\r\n                bus: _bus,\r\n                version: internalConfig.version,\r\n                userConfig: userConfig,\r\n                done: function () {\r\n                    _logger === null || _logger === void 0 ? void 0 : _logger.info(\"done called by user...\");\r\n                    return _connection.logout();\r\n                }\r\n            };\r\n            glue.performance = {\r\n                get glueVer() {\r\n                    return internalConfig.version;\r\n                },\r\n                get glueConfig() {\r\n                    return JSON.stringify(userConfig);\r\n                },\r\n                get browser() {\r\n                    return window.performance.timing.toJSON();\r\n                },\r\n                get memory() {\r\n                    return window.performance.memory;\r\n                },\r\n                get initTimes() {\r\n                    var all = getAllTimers();\r\n                    return Object.keys(all).map(function (key) {\r\n                        var t = all[key];\r\n                        return {\r\n                            name: key,\r\n                            duration: t.endTime - t.startTime,\r\n                            marks: t.marks\r\n                        };\r\n                    });\r\n                }\r\n            };\r\n            Object.keys(libs).forEach(function (key) {\r\n                var lib = libs[key];\r\n                glue[key] = lib;\r\n            });\r\n            glue.config = {};\r\n            Object.keys(internalConfig).forEach(function (k) {\r\n                glue.config[k] = internalConfig[k];\r\n            });\r\n            if (ext && ext.extOptions) {\r\n                Object.keys(ext.extOptions).forEach(function (k) {\r\n                    glue.config[k] = ext === null || ext === void 0 ? void 0 : ext.extOptions[k];\r\n                });\r\n            }\r\n            if (ext === null || ext === void 0 ? void 0 : ext.enrichGlue) {\r\n                ext.enrichGlue(glue);\r\n            }\r\n            if (glue42gd && glue42gd.updatePerfData) {\r\n                glue42gd.updatePerfData(glue.performance);\r\n            }\r\n            if (glue.agm) {\r\n                var deprecatedDecorator = function (fn, wrong, proper) {\r\n                    return function () {\r\n                        glue.logger.warn(\"glue.js - 'glue.agm.\" + wrong + \"' method is deprecated, use 'glue.interop.\" + proper + \"' instead.\");\r\n                        fn.apply(glue.agm, arguments);\r\n                    };\r\n                };\r\n                var agmAny = glue.agm;\r\n                agmAny.method_added = deprecatedDecorator(glue.agm.methodAdded, \"method_added\", \"methodAdded\");\r\n                agmAny.method_removed = deprecatedDecorator(glue.agm.methodRemoved, \"method_removed\", \"methodRemoved\");\r\n                agmAny.server_added = deprecatedDecorator(glue.agm.serverAdded, \"server_added\", \"serverAdded\");\r\n                agmAny.server_method_aded = deprecatedDecorator(glue.agm.serverMethodAdded, \"server_method_aded\", \"serverMethodAdded\");\r\n                agmAny.server_method_removed = deprecatedDecorator(glue.agm.serverMethodRemoved, \"server_method_removed\", \"serverMethodRemoved\");\r\n            }\r\n            return glue;\r\n        }\r\n        return preloadPromise\r\n            .then(setupLogger)\r\n            .then(setupConnection)\r\n            .then(function () { return Promise.all([setupMetrics(), setupInterop(), setupContexts(), setupBus()]); })\r\n            .then(function () { return _interop.readyPromise; })\r\n            .then(function () {\r\n            return setupExternalLibs(internalConfig.libs || []);\r\n        })\r\n            .then(waitForLibs)\r\n            .then(constructGlueObject)\r\n            .catch(function (err) {\r\n            return Promise.reject({\r\n                err: err,\r\n                libs: libs\r\n            });\r\n        });\r\n    };\r\n    if (typeof window !== \"undefined\") {\r\n        window.GlueCore = GlueCore;\r\n    }\r\n    GlueCore.version = version;\r\n    GlueCore.default = GlueCore;\n\n    var ActivityEntity = (function () {\r\n        function ActivityEntity(id) {\r\n            this._id = id;\r\n        }\r\n        Object.defineProperty(ActivityEntity.prototype, \"id\", {\r\n            get: function () {\r\n                return this._id;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ActivityEntity.prototype._update = function (other) {\r\n            if (other._id !== this._id) {\r\n                throw Error(\"Can not update from entity with different id.\");\r\n            }\r\n            this._updateCore(other);\r\n        };\r\n        ActivityEntity.prototype._updateCore = function (other) {\r\n            return;\r\n        };\r\n        ActivityEntity.prototype._beforeDelete = function (other) {\r\n            return;\r\n        };\r\n        return ActivityEntity;\r\n    }());\n\n    function isString(arg) {\r\n        return typeof arg === \"string\";\r\n    }\r\n    function isObject(arg) {\r\n        return typeof arg === \"object\" && arg !== null;\r\n    }\r\n    function isArray(arg) {\r\n        if (Array.isArray) {\r\n            return Array.isArray(arg);\r\n        }\r\n        return toString.call(arg) === \"[object Array]\";\r\n    }\r\n    function isUndefined(arg) {\r\n        return typeof arg === \"undefined\";\r\n    }\r\n    function isUndefinedOrNull(arg) {\r\n        return !arg || typeof arg === \"undefined\";\r\n    }\r\n    function isFunction(arg) {\r\n        return !!(arg && arg.constructor && arg.call && arg.apply);\r\n    }\r\n    function some(array, predicate) {\r\n        for (var index = 0; index < array.length; index++) {\r\n            if (predicate(array[index], index)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    function ifNotUndefined(what, doWithIt) {\r\n        if (typeof what !== \"undefined\") {\r\n            doWithIt(what);\r\n        }\r\n    }\r\n    function promisify$1(promise, successCallback, errorCallback) {\r\n        if (typeof successCallback !== \"function\" && typeof errorCallback !== \"function\") {\r\n            return promise;\r\n        }\r\n        if (typeof successCallback !== \"function\") {\r\n            successCallback = function () { return; };\r\n        }\r\n        else if (typeof errorCallback !== \"function\") {\r\n            errorCallback = function () { return; };\r\n        }\r\n        promise.then(successCallback, errorCallback);\r\n    }\n\n    var ActivityType = (function (_super) {\r\n        __extends(ActivityType, _super);\r\n        function ActivityType(name, ownerWindow, helperWindows, description) {\r\n            var _this = _super.call(this, name) || this;\r\n            _this._name = name;\r\n            _this._description = description;\r\n            _this._ownerWindow = ownerWindow;\r\n            _this._helperWindows = helperWindows || [];\r\n            return _this;\r\n        }\r\n        Object.defineProperty(ActivityType.prototype, \"name\", {\r\n            get: function () {\r\n                return this._name;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityType.prototype, \"description\", {\r\n            get: function () {\r\n                return this._description;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityType.prototype, \"helperWindows\", {\r\n            get: function () {\r\n                var _this = this;\r\n                return this._helperWindows.map(function (hw) { return _this.covertToWindowDef(hw); });\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityType.prototype, \"ownerWindow\", {\r\n            get: function () {\r\n                return this.covertToWindowDef(this._ownerWindow);\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ActivityType.prototype.initiate = function (context, callback, configuration) {\r\n            return this._manager.initiate(this._name, context, callback, configuration);\r\n        };\r\n        ActivityType.prototype._updateCore = function (other) {\r\n            var _this = this;\r\n            _super.prototype._updateCore.call(this, other);\r\n            ifNotUndefined(other._description, function (x) { return _this._description = x; });\r\n            ifNotUndefined(other._ownerWindow, function (x) { return _this._ownerWindow = x; });\r\n            ifNotUndefined(other._helperWindows, function (x) { return _this._helperWindows = x; });\r\n        };\r\n        ActivityType.prototype.covertToWindowDef = function (windowType) {\r\n            var _a, _b, _c, _d;\r\n            return {\r\n                type: (_b = (_a = windowType) === null || _a === void 0 ? void 0 : _a.id) === null || _b === void 0 ? void 0 : _b.type,\r\n                name: (_d = (_c = windowType) === null || _c === void 0 ? void 0 : _c.id) === null || _d === void 0 ? void 0 : _d.name\r\n            };\r\n        };\r\n        return ActivityType;\r\n    }(ActivityEntity));\n\n    var WindowType = (function (_super) {\r\n        __extends(WindowType, _super);\r\n        function WindowType(name, appByWindowTypeGetter) {\r\n            var _this = _super.call(this, name) || this;\r\n            _this._name = name;\r\n            _this._appByWindowTypeGetter = appByWindowTypeGetter;\r\n            return _this;\r\n        }\r\n        Object.defineProperty(WindowType.prototype, \"name\", {\r\n            get: function () {\r\n                return this._name;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(WindowType.prototype, \"config\", {\r\n            get: function () {\r\n                return this._appByWindowTypeGetter(this._name);\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(WindowType.prototype, \"windows\", {\r\n            get: function () {\r\n                return this._manager.getWindows({ type: this._name });\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        WindowType.prototype.create = function (activity, configuration) {\r\n            var definition = Object.assign({ type: this.name, name: this.name, isIndependent: false }, configuration);\r\n            return this._manager.createWindow(activity, definition);\r\n        };\r\n        return WindowType;\r\n    }(ActivityEntity));\n\n    var EntityEvent = (function () {\r\n        function EntityEvent(entitiy, context) {\r\n            this.entity = entitiy;\r\n            this.context = context;\r\n        }\r\n        return EntityEvent;\r\n    }());\r\n    var EntityEventContext = (function () {\r\n        function EntityEventContext(eventType) {\r\n            this.type = eventType;\r\n        }\r\n        return EntityEventContext;\r\n    }());\r\n    var ActivityStatusChangeEventContext = (function (_super) {\r\n        __extends(ActivityStatusChangeEventContext, _super);\r\n        function ActivityStatusChangeEventContext(newStatus, oldStatus) {\r\n            var _this = _super.call(this, EntityEventType.StatusChange) || this;\r\n            _this.newStatus = newStatus;\r\n            _this.oldStatus = oldStatus;\r\n            return _this;\r\n        }\r\n        return ActivityStatusChangeEventContext;\r\n    }(EntityEventContext));\r\n    var ActivityContextChangedEventContext = (function (_super) {\r\n        __extends(ActivityContextChangedEventContext, _super);\r\n        function ActivityContextChangedEventContext(context, updated, removed) {\r\n            var _this = _super.call(this, EntityEventType.ActivityContextChange) || this;\r\n            _this.context = typeof context === \"string\" ? JSON.parse(context) : context;\r\n            _this.updated = updated;\r\n            _this.removed = removed;\r\n            return _this;\r\n        }\r\n        return ActivityContextChangedEventContext;\r\n    }(EntityEventContext));\r\n    var EntityEventType = (function () {\r\n        function EntityEventType() {\r\n        }\r\n        EntityEventType.Added = \"added\";\r\n        EntityEventType.Removed = \"removed\";\r\n        EntityEventType.Updated = \"updated\";\r\n        EntityEventType.Closed = \"closed\";\r\n        EntityEventType.StatusChange = \"statusChange\";\r\n        EntityEventType.ActivityContextChange = \"activityContextUpdate\";\r\n        EntityEventType.ActivityWindowEvent = \"activityWindowEvent\";\r\n        EntityEventType.ActivityWindowJoinedActivity = \"joined\";\r\n        EntityEventType.ActivityWindowLeftActivity = \"left\";\r\n        return EntityEventType;\r\n    }());\r\n    var ActivityState = (function () {\r\n        function ActivityState() {\r\n        }\r\n        ActivityState.Created = \"created\";\r\n        ActivityState.Started = \"started\";\r\n        ActivityState.Destroyed = \"destroyed\";\r\n        return ActivityState;\r\n    }());\n\n    var ActivityAGM = (function () {\r\n        function ActivityAGM(activity) {\r\n            this._activity = activity;\r\n        }\r\n        ActivityAGM.prototype.register = function (definition, handler) {\r\n            this._ensureHasAgm();\r\n            ActivityAGM.AGM.register(definition, handler);\r\n        };\r\n        ActivityAGM.prototype.servers = function () {\r\n            this._ensureHasAgm();\r\n            if (isUndefinedOrNull(this._activity)) {\r\n                return [];\r\n            }\r\n            return this._activity.windows.map(function (w) {\r\n                return w.instance;\r\n            });\r\n        };\r\n        ActivityAGM.prototype.methods = function () {\r\n            var _this = this;\r\n            this._ensureHasAgm();\r\n            if (isUndefinedOrNull(this._activity)) {\r\n                return [];\r\n            }\r\n            var windows = this._activity.windows;\r\n            var methodNames = [];\r\n            var methods = [];\r\n            windows.forEach(function (window) {\r\n                var windowMethods = _this.methodsForWindow(window);\r\n                windowMethods.forEach(function (currentWindowMethod) {\r\n                    if (methodNames.indexOf(currentWindowMethod.name) === -1) {\r\n                        methodNames.push(currentWindowMethod.name);\r\n                        methods.push(currentWindowMethod);\r\n                    }\r\n                });\r\n            });\r\n            return methods;\r\n        };\r\n        ActivityAGM.prototype.methodsForWindow = function (window) {\r\n            this._ensureHasAgm();\r\n            if (!window.instance) {\r\n                return [];\r\n            }\r\n            return ActivityAGM.AGM.methodsForInstance(window.instance);\r\n        };\r\n        ActivityAGM.prototype.invoke = function (methodName, arg, target, options, success, error) {\r\n            this._ensureHasAgm();\r\n            var activityServers = this.servers();\r\n            var serversToInvokeAgainst = [];\r\n            if (isUndefinedOrNull(target)) {\r\n                target = \"activity.all\";\r\n            }\r\n            if (isString(target)) {\r\n                if (target === \"activity.all\") {\r\n                    serversToInvokeAgainst = activityServers;\r\n                }\r\n                else if (target === \"activity.best\") {\r\n                    var potentialTargets = activityServers.filter(function (server) {\r\n                        var methods = ActivityAGM.AGM.methodsForInstance(server);\r\n                        return methods.filter(function (m) {\r\n                            return m.name === methodName;\r\n                        }).length > 0;\r\n                    });\r\n                    if (potentialTargets.length > 0) {\r\n                        serversToInvokeAgainst = [potentialTargets[0]];\r\n                    }\r\n                }\r\n                else if (target === \"all\" || target === \"best\") {\r\n                    return promisify$1(ActivityAGM.AGM.invoke(methodName, arg, target, options), success, error);\r\n                }\r\n                else {\r\n                    throw new Error(\"Invalid invoke target \" + target);\r\n                }\r\n            }\r\n            else if (isArray(target)) {\r\n                if (target.length >= 0) {\r\n                    var firstElem = target[0];\r\n                    if (this._isInstance(firstElem)) {\r\n                        serversToInvokeAgainst = target.map(function (instance) { return instance; });\r\n                    }\r\n                    else if (this._isActivityWindow(firstElem)) {\r\n                        serversToInvokeAgainst = target.map(function (win) { return win.instance; });\r\n                    }\r\n                    else {\r\n                        throw new Error(\"Unknown target object\");\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                if (this._isInstance(target)) {\r\n                    serversToInvokeAgainst = [target];\r\n                }\r\n                else if (this._isActivityWindow(target)) {\r\n                    serversToInvokeAgainst = [target.instance];\r\n                }\r\n                else {\r\n                    throw new Error(\"Unknown target object\");\r\n                }\r\n            }\r\n            throw new Error(\"Not implemented\");\r\n        };\r\n        ActivityAGM.prototype.unregister = function (definition) {\r\n            this._ensureHasAgm();\r\n            return ActivityAGM.AGM.unregister(definition);\r\n        };\r\n        ActivityAGM.prototype.createStream = function (methodDefinition, subscriptionAddedHandler, subscriptionRemovedHandler) {\r\n            this._ensureHasAgm();\r\n            ActivityAGM.AGM.createStream(methodDefinition, {\r\n                subscriptionAddedHandler: subscriptionAddedHandler,\r\n                subscriptionRemovedHandler: subscriptionRemovedHandler,\r\n                subscriptionRequestHandler: undefined\r\n            });\r\n        };\r\n        ActivityAGM.prototype.subscribe = function (methodDefinition, parameters, target) {\r\n            this._ensureHasAgm();\r\n            return ActivityAGM.AGM.subscribe(methodDefinition, parameters);\r\n        };\r\n        ActivityAGM.prototype._ensureHasAgm = function () {\r\n            if (isUndefinedOrNull(ActivityAGM.AGM)) {\r\n                throw new Error(\"Agm should be configured to be used in activity\");\r\n            }\r\n        };\r\n        ActivityAGM.prototype._isInstance = function (obj) {\r\n            return obj.application !== undefined;\r\n        };\r\n        ActivityAGM.prototype._isActivityWindow = function (obj) {\r\n            return obj.instance !== undefined;\r\n        };\r\n        return ActivityAGM;\r\n    }());\n\n    var AttachedActivityDescriptor = (function () {\r\n        function AttachedActivityDescriptor(manager, ownerActivityId, state) {\r\n            this._manager = manager;\r\n            this._ownerActivityId = ownerActivityId;\r\n            this._state = state;\r\n        }\r\n        Object.defineProperty(AttachedActivityDescriptor.prototype, \"ownerId\", {\r\n            get: function () {\r\n                return this._state.ownerId;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(AttachedActivityDescriptor.prototype, \"windowIds\", {\r\n            get: function () {\r\n                return this._state.windowIds;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(AttachedActivityDescriptor.prototype, \"frameColor\", {\r\n            get: function () {\r\n                return this._state.frameColor;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(AttachedActivityDescriptor.prototype, \"context\", {\r\n            get: function () {\r\n                return this._state.context;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(AttachedActivityDescriptor.prototype, \"tag\", {\r\n            get: function () {\r\n                return this._state.tag;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        AttachedActivityDescriptor.prototype.detach = function (descriptor) {\r\n            var _this = this;\r\n            descriptor = descriptor || {};\r\n            var merged = {};\r\n            Object.keys(this._state).forEach(function (prop) {\r\n                merged[prop] = _this._state[prop];\r\n            });\r\n            merged.context = descriptor.context || merged.context;\r\n            merged.frameColor = descriptor.frameColor || merged.frameColor;\r\n            return this._manager.detachActivities(this._ownerActivityId, merged);\r\n        };\r\n        return AttachedActivityDescriptor;\r\n    }());\n\n    var nextTick = function (cb) {\r\n        setTimeout(cb, 0);\r\n    };\r\n    function nodeify(promise, callback) {\r\n        if (!isFunction(callback)) {\r\n            return promise;\r\n        }\r\n        promise.then(function (resp) {\r\n            nextTick(function () {\r\n                callback(null, resp);\r\n            });\r\n        }, function (err) {\r\n            nextTick(function () {\r\n                callback(err, null);\r\n            });\r\n        });\r\n    }\n\n    var Activity = (function (_super) {\r\n        __extends(Activity, _super);\r\n        function Activity(id, actType, status, context, ownerId) {\r\n            var _this = _super.call(this, id) || this;\r\n            _this._id = id;\r\n            _this._actType = actType;\r\n            _this._status = status;\r\n            _this._context = context;\r\n            _this._ownerId = ownerId;\r\n            _this._agm = new ActivityAGM(_this);\r\n            return _this;\r\n        }\r\n        Object.defineProperty(Activity.prototype, \"type\", {\r\n            get: function () {\r\n                if (this._manager) {\r\n                    return this._manager.getActivityType(this._actType);\r\n                }\r\n                return undefined;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Activity.prototype, \"context\", {\r\n            get: function () {\r\n                return this._context;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Activity.prototype, \"status\", {\r\n            get: function () {\r\n                return this._status;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Activity.prototype, \"owner\", {\r\n            get: function () {\r\n                if (!this._ownerId) {\r\n                    return null;\r\n                }\r\n                return this._manager.getWindows({ id: this._ownerId })[0];\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Activity.prototype, \"windows\", {\r\n            get: function () {\r\n                return this._manager.getWindows({ activityId: this._id });\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Activity.prototype, \"agm\", {\r\n            get: function () {\r\n                return this._agm;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Activity.prototype.addWindow = function (window, callback) {\r\n            return this._manager.addWindowToActivity(this, window, callback);\r\n        };\r\n        Activity.prototype.createWindow = function (windowType, callback) {\r\n            return this._manager.createWindow(this, windowType, callback);\r\n        };\r\n        Activity.prototype.createStackedWindows = function (windowTypes, timeout, callback) {\r\n            return this._manager.createStackedWindows(this, windowTypes, timeout, callback);\r\n        };\r\n        Activity.prototype.leave = function (window, callback) {\r\n            return this._manager.leaveWindowFromActivity(this, window, callback);\r\n        };\r\n        Activity.prototype.getWindowsByType = function (windowType) {\r\n            var filter = { activityId: this._id, type: windowType };\r\n            return this._manager.getWindows(filter);\r\n        };\r\n        Activity.prototype.setContext = function (context, callback) {\r\n            return this._manager.setActivityContext(this, context, callback);\r\n        };\r\n        Activity.prototype.updateContext = function (context, callback) {\r\n            return this._manager.updateActivityContext(this, context, callback);\r\n        };\r\n        Activity.prototype.onStatusChange = function (handler) {\r\n            var _this = this;\r\n            return this._manager.subscribeActivityEvents(function (a, ns, os) {\r\n                if (a.id === _this.id) {\r\n                    handler(a, ns, os);\r\n                }\r\n            });\r\n        };\r\n        Activity.prototype.onWindowEvent = function (handler) {\r\n            var _this = this;\r\n            return this._manager.subscribeWindowEvents(function (a, w, e) {\r\n                if (a.id === _this.id) {\r\n                    handler(a, w, e);\r\n                }\r\n            });\r\n        };\r\n        Activity.prototype.onContextChanged = function (handler) {\r\n            var _this = this;\r\n            this._manager.subscribeActivityContextChanged(function (act, context, updated, removed) {\r\n                if (act.id === _this.id) {\r\n                    handler(context, updated, removed, act);\r\n                }\r\n            });\r\n            try {\r\n                handler(this.context, this.context, [], this);\r\n            }\r\n            catch (e) {\r\n                return;\r\n            }\r\n        };\r\n        Activity.prototype.stop = function () {\r\n            this._manager.stopActivity(this);\r\n        };\r\n        Activity.prototype.clone = function (options) {\r\n            return this._manager.clone(this, options);\r\n        };\r\n        Activity.prototype.attach = function (activity, tag) {\r\n            var activityId;\r\n            if (typeof activity === \"string\") {\r\n                activityId = activity;\r\n            }\r\n            else {\r\n                activityId = activity.id;\r\n            }\r\n            return this._manager.attachActivities(activityId, this.id, tag);\r\n        };\r\n        Activity.prototype.onActivityAttached = function (callback) {\r\n            var _this = this;\r\n            this._manager.subscribeActivitiesAttached(function (newActId, oldActId, descriptor) {\r\n                if (newActId !== _this._id) {\r\n                    return;\r\n                }\r\n                callback(descriptor);\r\n            });\r\n        };\r\n        Activity.prototype.onDetached = function (callback) {\r\n            var _this = this;\r\n            this._manager.subscribeActivitiesDetached(function (newAct, originalActivity, state) {\r\n                if (originalActivity.id !== _this._id) {\r\n                    return;\r\n                }\r\n                callback(newAct, state);\r\n            });\r\n        };\r\n        Activity.prototype._updateCore = function (other) {\r\n            var _this = this;\r\n            _super.prototype._updateCore.call(this, other);\r\n            ifNotUndefined(other._actType, function (x) { return _this._actType = x; });\r\n            ifNotUndefined(other._context, function (x) { return _this._context = x; });\r\n            ifNotUndefined(other._ownerId, function (x) { return _this._ownerId = x; });\r\n            if (other._status && (!this._status || (this._status.state !== other._status.state))) {\r\n                this._status = other._status;\r\n            }\r\n        };\r\n        Activity.prototype._updateDescriptors = function (allStates) {\r\n            var _this = this;\r\n            this._attached = allStates.map(function (s) {\r\n                return new AttachedActivityDescriptor(_this._manager, _this._id, s);\r\n            });\r\n        };\r\n        Object.defineProperty(Activity.prototype, \"attached\", {\r\n            get: function () {\r\n                return this._attached;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Activity.prototype.setFrameColor = function (color, callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                var callbacksToWait = _this.windows.length;\r\n                if (callbacksToWait === 0) {\r\n                    resolve(_this);\r\n                }\r\n                _this.windows.forEach(function (w) {\r\n                    w.underlyingWindow.setFrameColor(color, function () {\r\n                        callbacksToWait--;\r\n                        if (callbacksToWait <= 0) {\r\n                            resolve(_this);\r\n                        }\r\n                    });\r\n                });\r\n                setTimeout(function () {\r\n                    if (callbacksToWait > 0) {\r\n                        reject(_this.id + \" - timed out waiting for setFrameColor with\" + color);\r\n                    }\r\n                }, 5000);\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        Activity.prototype.getFrameColor = function () {\r\n            if (!this.windows || this.windows.length === 0) {\r\n                return \"\";\r\n            }\r\n            return this.windows[0].underlyingWindow.frameColor;\r\n        };\r\n        return Activity;\r\n    }(ActivityEntity));\n\n    var LogLevel = (function () {\r\n        function LogLevel() {\r\n        }\r\n        LogLevel.Trace = \"trace\";\r\n        LogLevel.Debug = \"debug\";\r\n        LogLevel.Info = \"info\";\r\n        LogLevel.Warn = \"warn\";\r\n        LogLevel.Error = \"error\";\r\n        return LogLevel;\r\n    }());\r\n    var Logger$1 = (function () {\r\n        function Logger(name) {\r\n            this._name = name;\r\n            if (!isUndefinedOrNull(Logger.GlueLogger)) {\r\n                this._glueLogger = Logger.GlueLogger.subLogger(name);\r\n            }\r\n        }\r\n        Logger.GetNamed = function (name) {\r\n            return new Logger(name);\r\n        };\r\n        Logger.Get = function (owner) {\r\n            return new Logger(Logger.GetTypeName(owner));\r\n        };\r\n        Logger.prototype.trace = function (message) {\r\n            if (!isUndefinedOrNull(this._glueLogger)) {\r\n                this._glueLogger.trace(message);\r\n            }\r\n            else {\r\n                if (Logger.Level === LogLevel.Trace) {\r\n                    console.info(this._getMessage(message, LogLevel.Trace));\r\n                }\r\n            }\r\n        };\r\n        Logger.prototype.debug = function (message) {\r\n            if (!isUndefinedOrNull(this._glueLogger)) {\r\n                this._glueLogger.debug(message);\r\n            }\r\n            else {\r\n                if (Logger.Level === LogLevel.Debug ||\r\n                    Logger.Level === LogLevel.Trace) {\r\n                    console.info(this._getMessage(message, LogLevel.Debug));\r\n                }\r\n            }\r\n        };\r\n        Logger.prototype.info = function (message) {\r\n            if (!isUndefinedOrNull(this._glueLogger)) {\r\n                this._glueLogger.info(message);\r\n            }\r\n            else {\r\n                if (Logger.Level === LogLevel.Debug ||\r\n                    Logger.Level === LogLevel.Trace ||\r\n                    Logger.Level === LogLevel.Info) {\r\n                    console.info(this._getMessage(message, LogLevel.Info));\r\n                }\r\n            }\r\n        };\r\n        Logger.prototype.warn = function (message) {\r\n            if (!isUndefinedOrNull(this._glueLogger)) {\r\n                this._glueLogger.warn(message);\r\n            }\r\n            else {\r\n                if (Logger.Level === LogLevel.Debug ||\r\n                    Logger.Level === LogLevel.Trace ||\r\n                    Logger.Level === LogLevel.Info ||\r\n                    Logger.Level === LogLevel.Warn) {\r\n                    console.info(this._getMessage(message, LogLevel.Info));\r\n                }\r\n            }\r\n        };\r\n        Logger.prototype.error = function (message) {\r\n            if (!isUndefinedOrNull(this._glueLogger)) {\r\n                this._glueLogger.error(message);\r\n            }\r\n            else {\r\n                console.error(this._getMessage(message, LogLevel.Error));\r\n                console.trace();\r\n            }\r\n        };\r\n        Logger.prototype._getMessage = function (message, level) {\r\n            return \"[\" + level + \"] \" + this._name + \" - \" + message;\r\n        };\r\n        Logger.GetTypeName = function (object) {\r\n            var funcNameRegex = /function (.{1,})\\(/;\r\n            var results = (funcNameRegex).exec(object.constructor.toString());\r\n            return (results && results.length > 1) ? results[1] : \"\";\r\n        };\r\n        Logger.Level = LogLevel.Info;\r\n        return Logger;\r\n    }());\n\n    var ActivityWindow = (function (_super) {\r\n        __extends(ActivityWindow, _super);\r\n        function ActivityWindow(id, name, type, activityId, instance, isIndependent, windowGetter, hcWindowId) {\r\n            var _this = _super.call(this, id) || this;\r\n            _this._logger = Logger$1.Get(\"window\");\r\n            _this._type = type;\r\n            _this._activityId = activityId;\r\n            _this._name = name;\r\n            _this._instance = instance;\r\n            _this._isIndependent = isIndependent;\r\n            _this._windowGetter = windowGetter;\r\n            _this._hcWindowId = hcWindowId;\r\n            return _this;\r\n        }\r\n        ActivityWindow.prototype.getBounds = function () {\r\n            return this._manager.getWindowBounds(this.id);\r\n        };\r\n        Object.defineProperty(ActivityWindow.prototype, \"name\", {\r\n            get: function () {\r\n                return this._name;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityWindow.prototype, \"isIndependent\", {\r\n            get: function () {\r\n                return this._isIndependent;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityWindow.prototype, \"type\", {\r\n            get: function () {\r\n                if (this._manager) {\r\n                    return this._manager.getWindowType(this._type);\r\n                }\r\n                return undefined;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityWindow.prototype, \"activity\", {\r\n            get: function () {\r\n                if (isUndefined(this._activityId)) {\r\n                    return undefined;\r\n                }\r\n                return this._manager.getActivityById(this._activityId);\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityWindow.prototype, \"isOwner\", {\r\n            get: function () {\r\n                var act = this.activity;\r\n                if (isUndefined(act)) {\r\n                    return false;\r\n                }\r\n                return act.owner.id === this.id;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ActivityWindow.prototype.setVisible = function (isVisible, callback) {\r\n            return this._manager.setWindowVisibility(this.id, isVisible);\r\n        };\r\n        ActivityWindow.prototype.activate = function (focus) {\r\n            return this._manager.activateWindow(this.id, focus);\r\n        };\r\n        ActivityWindow.prototype.setBounds = function (bounds, callback) {\r\n            return this._manager.setWindowBounds(this.id, bounds, callback);\r\n        };\r\n        ActivityWindow.prototype.close = function () {\r\n            return this._manager.closeWindow(this.id);\r\n        };\r\n        Object.defineProperty(ActivityWindow.prototype, \"instance\", {\r\n            get: function () {\r\n                return this._instance;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityWindow.prototype, \"underlyingWindow\", {\r\n            get: function () {\r\n                var window = this._windowGetter();\r\n                if (!window) {\r\n                    return {\r\n                        id: this._hcWindowId\r\n                    };\r\n                }\r\n                return window;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ActivityWindow.prototype.onActivityJoined = function (callback) {\r\n            this._subscribeForActivityWindowEvent(EntityEventType.ActivityWindowJoinedActivity, callback);\r\n        };\r\n        ActivityWindow.prototype.onActivityRemoved = function (callback) {\r\n            this._subscribeForActivityWindowEvent(EntityEventType.ActivityWindowLeftActivity, callback);\r\n        };\r\n        ActivityWindow.prototype._updateCore = function (other) {\r\n            var _this = this;\r\n            ifNotUndefined(other._activityId, function (x) { return _this._activityId = x; });\r\n            ifNotUndefined(other._isIndependent, function (x) { return _this._isIndependent = x; });\r\n            ifNotUndefined(other._hcWindowId, function (x) { return _this._hcWindowId = x; });\r\n            ifNotUndefined(other._type, function (x) { return _this._type = x; });\r\n            ifNotUndefined(other._name, function (x) { return _this._name = x; });\r\n            if (!isUndefinedOrNull(other._instance)) {\r\n                this._instance = other._instance;\r\n            }\r\n        };\r\n        ActivityWindow.prototype._subscribeForActivityWindowEvent = function (eventName, callback) {\r\n            var _this = this;\r\n            this._manager.subscribeWindowEvents(function (activity, window, event) {\r\n                if (window.id !== _this.id) {\r\n                    return;\r\n                }\r\n                if (event === eventName) {\r\n                    callback(activity);\r\n                }\r\n            });\r\n        };\r\n        ActivityWindow.prototype._beforeDelete = function (other) {\r\n            this._hcWindowId = other._hcWindowId;\r\n        };\r\n        return ActivityWindow;\r\n    }(ActivityEntity));\n\n    var ActivityStatus = (function () {\r\n        function ActivityStatus(state, message, time) {\r\n            this.state = state;\r\n            this.message = message;\r\n            this.time = time;\r\n        }\r\n        ActivityStatus.prototype.getState = function () {\r\n            return this.state;\r\n        };\r\n        ActivityStatus.prototype.getMessage = function () {\r\n            return this.message;\r\n        };\r\n        ActivityStatus.prototype.getTime = function () {\r\n            return this.time;\r\n        };\r\n        return ActivityStatus;\r\n    }());\n\n    var gwMmessageError = \"error\";\r\n    var gwMessageAddActivityTypes = \"add-types\";\r\n    var gwMmessageActivityTypesAdded = \"types-added\";\r\n    var gwMessageRemoveActivityTypes = \"remove-types\";\r\n    var gwMessageActivityTypesRemoved = \"types-removed\";\r\n    var gwMessageActivityCreated = \"created\";\r\n    var gwMessageActivityDestroyed = \"destroyed\";\r\n    var gwMessageActivityInitiated = \"initiated\";\r\n    var gwMmessageJoinActivity = \"join-activity\";\r\n    var gwMessageJoinedActivity = \"joined\";\r\n    var gwMessageActivityJoined = \"activity-joined\";\r\n    var gwMessageLeaveActivity = \"leave-activity\";\r\n    var gwMessageActivityLeft = \"left\";\r\n    var gwNmessageMergeActivities = \"merge\";\r\n    var gwMessageSplitActivities = \"split\";\r\n    var gwMessageOwnerChanged = \"owner-changed\";\r\n    var gwMessageAddPeerFactories = \"add-peer-factories\";\r\n    var gwMessagePeerFactoriesAdded = \"peer-factories-added\";\r\n    var gwMessageRemovePeerFactories = \"remove-peer-factories\";\r\n    var gwMessagePeerFactoriesRemoved = \"peer-factories-removed\";\r\n    var gwMessageCreateActivity = \"create\";\r\n    var gwMessageCreatePeer = \"create-peer\";\r\n    var gwMessagePeerRequested = \"peer-requested\";\r\n    var gwMessageReady = \"ready\";\r\n    var gwMessagePeerCreated = \"peer-created\";\r\n    var gwMessageDestroyActivity = \"destroy\";\r\n    var gwMessageDisposePeer = \"dispose-peer\";\r\n    var gwMessageDestroyPeer = \"destroy-peer\";\r\n    var GW3Bridge$1 = (function () {\r\n        function GW3Bridge(config) {\r\n            var _this = this;\r\n            this._activityChangeCallbacks = [];\r\n            this._activityTypeStatusChangeCallbacks = [];\r\n            this._activityWindowChangeCallbacks = [];\r\n            this._windowTypeStatusChangeCallbacks = [];\r\n            this._peerIdAndFactoryIdToPeerType = {};\r\n            this._peerFactoriesRegisteredByUs = {};\r\n            this._gw3Subscriptions = [];\r\n            this._contextSubscriptions = {};\r\n            this._activityTypesInitiatedFromMe = {};\r\n            this._config = config;\r\n            this._connection = config.connection;\r\n            this._logger = config.logger;\r\n            this._contexts = config.contexts;\r\n            this._windows = config.windows;\r\n            this._sessionJoinedPromise = new Promise(function (resolve) {\r\n                _this._sessionJoinedPromiseResolve = resolve;\r\n            });\r\n            this._activityJoinedPromise = new Promise(function (resolve) {\r\n                _this._activityJoinedPromiseResolve = resolve;\r\n            });\r\n            if (!this._config.activityId) {\r\n                this._activityJoinedPromiseResolve({});\r\n            }\r\n            this._gw3Session = this._connection.domain(\"activity\", [\"joined\", \"initiated\", \"peer-created\", \"token\"]);\r\n            if (typeof window !== \"undefined\") {\r\n                var glue42gd_1 = window.glue42gd;\r\n                if (glue42gd_1 && typeof glue42gd_1.addRefreshHandler === \"function\") {\r\n                    glue42gd_1.addRefreshHandler(function (success, error) {\r\n                        _this._gw3Session\r\n                            .send({\r\n                            type: \"reload\"\r\n                        })\r\n                            .then(function (msg) {\r\n                            if (!msg.token) {\r\n                                error(\"Expected gateway token for refreshing.\");\r\n                                return;\r\n                            }\r\n                            try {\r\n                                glue42gd_1.setGWToken(msg.token);\r\n                            }\r\n                            catch (e) {\r\n                                error(e.message || e);\r\n                                return;\r\n                            }\r\n                            success();\r\n                        }, error);\r\n                    });\r\n                }\r\n            }\r\n        }\r\n        GW3Bridge.activityTypeGwMessageEntityToActivityType = function (entity, description) {\r\n            var nameToWindowType = function (windowName) {\r\n                return new WindowType(windowName, undefined);\r\n            };\r\n            return new ActivityType(entity.name, entity.owner_type && nameToWindowType(entity.owner_type), entity.helper_types && entity.helper_types.map(nameToWindowType), description);\r\n        };\r\n        GW3Bridge.peerFactoryGwMessageEntityToWindowType = function (entity) {\r\n            return new WindowType(entity.peer_type, function (_) { return undefined; });\r\n        };\r\n        GW3Bridge.activityGwMessageToActivity = function (msg, status) {\r\n            var ownerId = msg.owner !== undefined ? msg.owner.peer_id : msg.owner_id;\r\n            return new Activity(msg.activity_id, msg.activity_type, status, msg.context_snapshot, ownerId);\r\n        };\r\n        GW3Bridge.activityToActivityStatusChangeEvent = function (act) {\r\n            return new EntityEvent(act, new ActivityStatusChangeEventContext(act.status, undefined));\r\n        };\r\n        Object.defineProperty(GW3Bridge.prototype, \"bridgeType\", {\r\n            get: function () {\r\n                return \"GW3\";\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        GW3Bridge.prototype.init = function () {\r\n            var _this = this;\r\n            this.forwardActivityTypeMessagesToStatusEventHandlers();\r\n            this.subscribe(gwMessageActivityCreated, this.handleActivityCreatedMessage);\r\n            this.subscribe(gwMessageActivityDestroyed, this.handleActivityDestroyedMessage);\r\n            this.forwardActivityMessagesToStatusEventHandlers();\r\n            this.forwardActivityCreatedAndJoinedActivityToActivityWindowEventHandlers();\r\n            this.forwardPeerFactoryMessagesToStatusEventHandlers();\r\n            this.forwardPeerFactoryMessagesToPeerFactoryRequests();\r\n            this.subscribe(gwMessagePeerFactoriesAdded, this.handlePeerFactoriesAdded);\r\n            this.subscribe(gwMessagePeerFactoriesRemoved, this.handlePeerFactoriesRemoved);\r\n            this.forwardActivityWindowMessagesToEventHandlers();\r\n            this.subscribe(gwMessageDisposePeer, function () {\r\n                if (_this._config.disposeRequestHandling === \"dispose\") {\r\n                    _this.dispose();\r\n                    return;\r\n                }\r\n                if (_this._config.disposeRequestHandling === \"exit\") {\r\n                    if (_this._windows && typeof _this._windows.my() !== \"undefined\") {\r\n                        _this._windows.my().close();\r\n                        return;\r\n                    }\r\n                    if (typeof window !== \"undefined\" && typeof window.close === \"function\") {\r\n                        window.close();\r\n                        return;\r\n                    }\r\n                    if (typeof process !== \"undefined\" && typeof process.exit === \"function\") {\r\n                        process.exit();\r\n                        return;\r\n                    }\r\n                }\r\n            });\r\n            this._gw3Session.onJoined(function () {\r\n                if (_this._config.mode === \"trackMyOnly\" ||\r\n                    _this._config.mode === \"trackMyTypeAndInitiatedFromMe\") {\r\n                    _this._sessionJoinedPromiseResolve(_this);\r\n                }\r\n                else {\r\n                    _this._gw3Session\r\n                        .send({\r\n                        type: \"subscribe\",\r\n                        activity_types: (_this._config.mode === \"trackAll\" ? [] :\r\n                            _this._config.mode === \"trackTypes\" ? _this._config.typesToTrack : [])\r\n                    })\r\n                        .then(function () {\r\n                        _this._sessionJoinedPromiseResolve(_this);\r\n                    });\r\n                }\r\n            });\r\n            this._gw3Session.join();\r\n        };\r\n        GW3Bridge.prototype.dispose = function () {\r\n            var _this = this;\r\n            this._gw3Subscriptions.forEach(function (sub) { return sub && _this._connection.off(sub); });\r\n            this._gw3Subscriptions.length = 0;\r\n        };\r\n        GW3Bridge.prototype.ready = function () {\r\n            return Promise.all([this._sessionJoinedPromise, this._activityJoinedPromise]);\r\n        };\r\n        GW3Bridge.prototype.initReady = function () {\r\n            return this._sessionJoinedPromise;\r\n        };\r\n        GW3Bridge.prototype.onActivityTypeStatusChange = function (callback) {\r\n            this._activityTypeStatusChangeCallbacks.push(callback);\r\n        };\r\n        GW3Bridge.prototype.registerActivityType = function (activityTypeName, ownerWindow, helperWindows, config, description) {\r\n            var _this = this;\r\n            var entity = {};\r\n            entity.name = activityTypeName;\r\n            var toActivityPeerConfig = function (windowDefinition) { return ({ type: windowDefinition.type, name: windowDefinition.name, configuration: windowDefinition }); };\r\n            entity.owner_type = toActivityPeerConfig(ownerWindow);\r\n            entity.helper_types = helperWindows.map(toActivityPeerConfig);\r\n            return this._gw3Session\r\n                .send({\r\n                type: gwMessageAddActivityTypes,\r\n                types: [entity]\r\n            })\r\n                .then(function () {\r\n                var activityType = GW3Bridge.activityTypeGwMessageEntityToActivityType(entity, description);\r\n                _this.invokeCallbacks(_this._activityTypeStatusChangeCallbacks, new EntityEvent(activityType, new EntityEventContext(EntityEventType.Added)), gwMessageAddActivityTypes);\r\n                return activityType;\r\n            });\r\n        };\r\n        GW3Bridge.prototype.unregisterActivityType = function (activityTypeName) {\r\n            var _this = this;\r\n            return this._gw3Session\r\n                .send({\r\n                type: gwMessageRemoveActivityTypes,\r\n                types: [activityTypeName]\r\n            })\r\n                .then(function () {\r\n                var activityType = new ActivityType(activityTypeName, undefined, undefined, undefined);\r\n                _this.invokeCallbacks(_this._activityTypeStatusChangeCallbacks, new EntityEvent(activityType, new EntityEventContext(EntityEventType.Removed)), gwMessageAddActivityTypes);\r\n            });\r\n        };\r\n        GW3Bridge.prototype.onWindowTypeStatusChange = function (callback) {\r\n            this._windowTypeStatusChangeCallbacks.push(callback);\r\n        };\r\n        GW3Bridge.prototype.registerWindowFactory = function (windowType, factory, parameters) {\r\n            var _this = this;\r\n            if (this._peerFactoriesRegisteredByUs[windowType]) {\r\n                return Promise.reject(new Error(\"Factory for windowType \" + windowType + \" already registered.\"));\r\n            }\r\n            this._peerFactoriesRegisteredByUs[windowType] = factory;\r\n            var entity = {\r\n                id: windowType,\r\n                peer_type: windowType,\r\n                configuration: parameters\r\n            };\r\n            return this._gw3Session.send({\r\n                type: gwMessageAddPeerFactories,\r\n                factories: [entity]\r\n            })\r\n                .then(function () {\r\n                _this.invokeCallbacks(_this._windowTypeStatusChangeCallbacks, new EntityEvent(GW3Bridge.peerFactoryGwMessageEntityToWindowType(entity), new EntityEventContext(EntityEventType.Added)), gwMessageAddPeerFactories);\r\n            })\r\n                .catch(function () {\r\n                delete _this._peerFactoriesRegisteredByUs[windowType];\r\n            });\r\n        };\r\n        GW3Bridge.prototype.unregisterWindowFactory = function (windowType) {\r\n            var _this = this;\r\n            var factory = this._peerFactoriesRegisteredByUs[windowType];\r\n            if (!factory) {\r\n                return Promise.reject(new Error(\"Factory for windowType \" + windowType + \" not registered.\"));\r\n            }\r\n            delete this._peerFactoriesRegisteredByUs[windowType];\r\n            return this._gw3Session.send({\r\n                type: gwMessageRemovePeerFactories,\r\n                factory_ids: [windowType]\r\n            }).then(function () {\r\n                _this.invokeCallbacks(_this._windowTypeStatusChangeCallbacks, new EntityEvent(new WindowType(windowType, undefined), new EntityEventContext(EntityEventType.Removed)), gwMessageAddPeerFactories);\r\n            });\r\n        };\r\n        GW3Bridge.prototype.onActivityStatusChange = function (callback) {\r\n            this._activityChangeCallbacks.push(callback);\r\n        };\r\n        GW3Bridge.prototype.initiateActivity = function (activityType, context, configuration) {\r\n            var _this = this;\r\n            var initiateMsg = {\r\n                type: gwMessageCreateActivity,\r\n                activity_type: activityType,\r\n                initial_context: context,\r\n            };\r\n            if (this.isOverrideTypeDefinition(configuration)) {\r\n                initiateMsg.types_override = {\r\n                    owner_type: { type: configuration.owner.type, name: configuration.owner.name, configuration: configuration.owner },\r\n                    helper_types: configuration.helpers && configuration.helpers.map(function (wd) { return ({ type: wd.type, name: wd.name, configuration: wd }); })\r\n                };\r\n            }\r\n            else {\r\n                initiateMsg.configuration = configuration && configuration.map(function (wd) { return ({ type: wd.type, name: wd.name, configuration: wd }); });\r\n            }\r\n            return this.sendCreateAndMapResultingMessagesToPromise(initiateMsg, gwMessageActivityInitiated, function (msg, requestId) { return msg.request_id === requestId; }, gwMessageActivityCreated, function (msg, requestId, initMsg) { return msg.activity_id === initMsg.activity_id; }, gwMessageActivityDestroyed, function (msg, requestId, initMsg) { return msg.activity_id === initMsg.activity_id; }, function (msg) { return msg.activity_id; }).then(function (id) {\r\n                if (_this._config.mode === \"trackMyTypeAndInitiatedFromMe\") {\r\n                    if (!_this._activityTypesInitiatedFromMe[activityType]) {\r\n                        _this._activityTypesInitiatedFromMe[activityType] = true;\r\n                        return _this._gw3Session\r\n                            .send({\r\n                            type: \"subscribe\",\r\n                            activity_types: [activityType]\r\n                        })\r\n                            .then(function () {\r\n                            return id;\r\n                        });\r\n                    }\r\n                }\r\n                return id;\r\n            });\r\n        };\r\n        GW3Bridge.prototype.stopActivity = function (activity) {\r\n            return this._gw3Session.send({\r\n                type: gwMessageDestroyActivity,\r\n                activity_id: activity.id,\r\n                reason_uri: \"com.tick42.glue.activity.constants.destroyReason.general\",\r\n                reason: \"Destroying activity\"\r\n            }).then(function (_) { return true; });\r\n        };\r\n        GW3Bridge.prototype.updateActivityContext = function (activity, context, fullReplace, removedKeys) {\r\n            if (fullReplace) {\r\n                return this._contexts.set(activity.id, context);\r\n            }\r\n            else {\r\n                removedKeys = removedKeys || [];\r\n                for (var _i = 0, removedKeys_1 = removedKeys; _i < removedKeys_1.length; _i++) {\r\n                    var x = removedKeys_1[_i];\r\n                    context[x] = null;\r\n                }\r\n                return this._contexts.update(activity.id, context);\r\n            }\r\n        };\r\n        GW3Bridge.prototype.announceWindow = function (windowType, activityWindowId) {\r\n            throw new Error(\"Invalid operation 'announceWindow' for GW3 protocol\");\r\n        };\r\n        GW3Bridge.prototype.registerWindow = function (type, name, independent) {\r\n            var shouldSendReady = typeof this._connection.gatewayToken !== \"undefined\";\r\n            var peerId = this._connection.peerId;\r\n            if (typeof window !== \"undefined\") {\r\n                var glue42gd = window.glue42gd;\r\n                if (glue42gd) {\r\n                    shouldSendReady = typeof glue42gd.activityInfo !== \"undefined\";\r\n                }\r\n            }\r\n            if (shouldSendReady) {\r\n                this._gw3Session.send({\r\n                    type: gwMessageReady,\r\n                });\r\n            }\r\n            this.invokeCallbacks(this._activityWindowChangeCallbacks, new EntityEvent(new ActivityWindow(peerId, name, type, undefined, this.getAgmInstance(peerId), independent, this.generateWindowGetter(peerId), undefined), new EntityEventContext(EntityEventType.Added)), \"register window\");\r\n            return Promise.resolve(peerId);\r\n        };\r\n        GW3Bridge.prototype.onActivityWindowChange = function (callback) {\r\n            this._activityWindowChangeCallbacks.push(callback);\r\n        };\r\n        GW3Bridge.prototype.createWindow = function (activityId, windowDefinition) {\r\n            var _this = this;\r\n            if (!windowDefinition.layout) {\r\n                if (windowDefinition.left || windowDefinition.width || windowDefinition.height || windowDefinition.top) {\r\n                    windowDefinition.layout = {\r\n                        mode: \"pixels\",\r\n                        cellSize: 1,\r\n                    };\r\n                }\r\n            }\r\n            return this.sendCreateAndMapResultingMessagesToPromise({\r\n                type: gwMessageCreatePeer,\r\n                peer_type: windowDefinition.type,\r\n                peer_name: windowDefinition.name || windowDefinition.type,\r\n                configuration: windowDefinition,\r\n                activity_id: activityId,\r\n            }, undefined, undefined, gwMessagePeerCreated, function (msg, requestId) { return msg.request_id === requestId; }, undefined, undefined, function (msg) { return msg.created_id; })\r\n                .then(function (id) {\r\n                if (!activityId) {\r\n                    return;\r\n                }\r\n                return _this.joinActivity(activityId, id, windowDefinition.name)\r\n                    .then(function () {\r\n                    return id;\r\n                });\r\n            });\r\n        };\r\n        GW3Bridge.prototype.closeWindow = function (id) {\r\n            return this._gw3Session.send({\r\n                type: gwMessageDestroyPeer,\r\n                destroy_peer_id: id\r\n            }).then(function (_) { return undefined; });\r\n        };\r\n        GW3Bridge.prototype.getAnnouncementInfo = function () {\r\n            var activityId = this._config.activityId || (this._config.announcementInfo && this._config.announcementInfo.activityId);\r\n            var activityWindowType = (this._config.announcementInfo && this._config.announcementInfo.activityWindowType);\r\n            var activityWindowIndependent = (this._config.announcementInfo && this._config.announcementInfo.activityWindowIndependent);\r\n            var activityWindowName = (this._config.announcementInfo && this._config.announcementInfo.activityWindowName);\r\n            if (typeof window !== \"undefined\" &&\r\n                typeof window.location !== \"undefined\" &&\r\n                window.location.search &&\r\n                typeof URLSearchParams === \"function\") {\r\n                var searchParams = new URLSearchParams(location.search.slice(1));\r\n                activityWindowType = activityWindowType || searchParams.get(\"t42PeerType\");\r\n                activityWindowType = activityWindowType || searchParams.get(\"t42ActivityWindowType\");\r\n                if (typeof activityWindowIndependent === \"undefined\") {\r\n                    activityWindowIndependent = searchParams.get(\"t42ActivityWindowIndependent\");\r\n                }\r\n                activityWindowName = activityWindowName || searchParams.get(\"t42ActivityWindowName\");\r\n                activityId = activityId || searchParams.get(\"t42ActivityId\");\r\n            }\r\n            activityWindowType = activityWindowType || \"unknown\";\r\n            activityWindowIndependent = activityWindowIndependent || false;\r\n            activityWindowName = activityWindowName || this._connection.peerId;\r\n            return {\r\n                activityWindowId: undefined,\r\n                activityId: activityId,\r\n                activityWindowType: activityWindowType,\r\n                activityWindowIndependent: activityWindowIndependent,\r\n                activityWindowName: activityWindowName,\r\n            };\r\n        };\r\n        GW3Bridge.prototype.joinActivity = function (activityId, windowId, name) {\r\n            var _this = this;\r\n            var maybeName = (name && { name: name }) || {};\r\n            return this._gw3Session.send(__assign({ type: gwMmessageJoinActivity, target_id: windowId, activity_id: activityId }, maybeName)).then(function () {\r\n                _this.invokeCallbacks(_this._activityWindowChangeCallbacks, new EntityEvent(new ActivityWindow(windowId, undefined, undefined, activityId, _this.getAgmInstance(windowId), undefined, _this.generateWindowGetter(windowId), undefined), new EntityEventContext(EntityEventType.ActivityWindowJoinedActivity)), \"activity joined - ActivityWindow\");\r\n                _this.invokeCallbacks(_this._activityChangeCallbacks, new EntityEvent(new Activity(activityId, undefined, new ActivityStatus(\"created\", undefined, undefined), undefined, undefined), new EntityEventContext(EntityEventType.Updated)), \"activity joined - Activity\");\r\n            });\r\n        };\r\n        GW3Bridge.prototype.leaveActivity = function (activityId, windowId) {\r\n            var _this = this;\r\n            return this._gw3Session.send({\r\n                type: gwMessageLeaveActivity,\r\n                target_id: windowId,\r\n                activity_id: activityId\r\n            }).then(function () {\r\n                _this.invokeCallbacks(_this._activityWindowChangeCallbacks, new EntityEvent(new ActivityWindow(windowId, undefined, undefined, null, _this.getAgmInstance(windowId), undefined, _this.generateWindowGetter(windowId), undefined), new EntityEventContext(EntityEventType.ActivityWindowLeftActivity)), \"activity left - ActivityWindow\");\r\n                _this.invokeCallbacks(_this._activityChangeCallbacks, new EntityEvent(new Activity(activityId, undefined, new ActivityStatus(\"created\", undefined, undefined), undefined, undefined), new EntityEventContext(EntityEventType.Updated)), \"activity left - Activity\");\r\n            });\r\n        };\r\n        GW3Bridge.prototype.getActivityTypes = function () {\r\n            return Promise.resolve([]);\r\n        };\r\n        GW3Bridge.prototype.getWindowTypes = function () {\r\n            return Promise.resolve([]);\r\n        };\r\n        GW3Bridge.prototype.getActivities = function () {\r\n            return Promise.resolve([]);\r\n        };\r\n        GW3Bridge.prototype.getActivityWindows = function () {\r\n            return Promise.resolve([]);\r\n        };\r\n        GW3Bridge.prototype.createStackedWindows = function (id, windowDefinitions, timeout) {\r\n            return undefined;\r\n        };\r\n        GW3Bridge.prototype.getWindowBounds = function (id) {\r\n            return undefined;\r\n        };\r\n        GW3Bridge.prototype.setWindowBounds = function (id, bounds) {\r\n            return undefined;\r\n        };\r\n        GW3Bridge.prototype.activateWindow = function (id, focus) {\r\n            return undefined;\r\n        };\r\n        GW3Bridge.prototype.setWindowVisibility = function (id, visible) {\r\n            return undefined;\r\n        };\r\n        GW3Bridge.prototype.cloneActivity = function (id, cloneOptions) {\r\n            return undefined;\r\n        };\r\n        GW3Bridge.prototype.attachActivities = function (from, to, tag) {\r\n            return this._gw3Session.send({\r\n                type: gwNmessageMergeActivities,\r\n                into: to,\r\n                merge: from\r\n            });\r\n        };\r\n        GW3Bridge.prototype.detachActivities = function (activityId, newActivityInfo) {\r\n            return this._gw3Session.send({\r\n                type: gwMessageSplitActivities,\r\n                from: activityId,\r\n            }).then(function () { return \"\"; });\r\n        };\r\n        GW3Bridge.prototype.onActivitiesAttached = function (callback) {\r\n        };\r\n        GW3Bridge.prototype.onActivitiesDetached = function (callback) {\r\n        };\r\n        GW3Bridge.prototype.onActivityAttachedDescriptorsRefreshed = function (callback) {\r\n        };\r\n        GW3Bridge.prototype.getAttachedDescriptors = function () {\r\n            return Promise.resolve([]);\r\n        };\r\n        GW3Bridge.prototype.getRandomRequestId = function () {\r\n            return this._connection.peerId + \":\" + Math.floor(Math.random() * 1e9) + \"\";\r\n        };\r\n        GW3Bridge.prototype.forwardAddedAndRemovedMessagesToEventHandler = function (addedMessageType, removedMessageType, mapper, handlers) {\r\n            var getGetEntityEvent = function (isAdded) { return function (entity) { return new EntityEvent(entity, new EntityEventContext(isAdded ?\r\n                EntityEventType.Added :\r\n                EntityEventType.Removed)); }; };\r\n            var sub1;\r\n            var sub2;\r\n            sub1 = addedMessageType && this.forwardMessageToEventHandler(addedMessageType, function (msg) { return mapper(msg, true); }, getGetEntityEvent(true), handlers);\r\n            sub2 = removedMessageType && this.forwardMessageToEventHandler(removedMessageType, function (msg) { return mapper(msg, false); }, getGetEntityEvent(false), handlers);\r\n            return [sub1, sub2].filter(function (x) { return x; });\r\n        };\r\n        GW3Bridge.prototype.forwardMessageToEventHandler = function (messageType, mapper, getEntityEvent, handler) {\r\n            return this.subscribe(messageType, function (msg) {\r\n                mapper(msg)\r\n                    .forEach(function (ent) {\r\n                    return handler.forEach(function (h) { return h(getEntityEvent(ent, msg)); });\r\n                });\r\n            });\r\n        };\r\n        GW3Bridge.prototype.sendCreateAndMapResultingMessagesToPromise = function (msg, initiatedMessageType, initiatedMessageFilter, createdMessageType, createdMessageFilter, cancelledMessageType, cancelledMessageFilter, createdMessageToPromiseResolution) {\r\n            var _this = this;\r\n            var reqId = this.getRandomRequestId();\r\n            var resolveCreatedPromise;\r\n            var rejectCreatedPromise;\r\n            var createdPromise = new Promise(function (resolve, reject) {\r\n                resolveCreatedPromise = resolve;\r\n                rejectCreatedPromise = reject;\r\n            });\r\n            var initiatedMessageAck = null;\r\n            var initiatedSubscription;\r\n            var createdSubscription;\r\n            var cancelledSubscription;\r\n            var errorSubscription;\r\n            var dropSubscriptions = function () {\r\n                _this.dropSubscription(initiatedSubscription);\r\n                _this.dropSubscription(createdSubscription);\r\n                _this.dropSubscription(cancelledSubscription);\r\n                _this.dropSubscription(errorSubscription);\r\n            };\r\n            initiatedSubscription = initiatedMessageType &&\r\n                this.subscribe(initiatedMessageType, function (msg4) {\r\n                    if (!initiatedMessageFilter(msg4, reqId)) {\r\n                        return;\r\n                    }\r\n                    initiatedMessageAck = msg4;\r\n                    _this.dropSubscription(initiatedSubscription);\r\n                });\r\n            createdSubscription =\r\n                this.subscribe(createdMessageType, function (msg1) {\r\n                    if (!createdMessageFilter(msg1, reqId, initiatedMessageAck)) {\r\n                        return;\r\n                    }\r\n                    resolveCreatedPromise(createdMessageToPromiseResolution(msg1));\r\n                });\r\n            cancelledSubscription = cancelledMessageType &&\r\n                this.subscribe(cancelledMessageType, function (msg2) {\r\n                    if (!cancelledMessageFilter(msg2, reqId, initiatedMessageAck)) {\r\n                        return;\r\n                    }\r\n                    rejectCreatedPromise(msg2);\r\n                });\r\n            errorSubscription = cancelledMessageType &&\r\n                this.subscribe(gwMmessageError, function (msg3) {\r\n                    if (msg3.request_id !== reqId) {\r\n                        return;\r\n                    }\r\n                    rejectCreatedPromise(msg3);\r\n                });\r\n            msg.request_id = reqId;\r\n            var toReturn = this._gw3Session\r\n                .send(msg)\r\n                .then(function () {\r\n                return createdPromise;\r\n            });\r\n            toReturn.then(dropSubscriptions, dropSubscriptions);\r\n            return toReturn;\r\n        };\r\n        GW3Bridge.prototype.peerFactoryIdAndOwnerIdToWindowType = function (factoryId, ownerId) {\r\n            var peerType = this._peerIdAndFactoryIdToPeerType[ownerId + \":\" + factoryId];\r\n            if (!peerType) {\r\n                return null;\r\n            }\r\n            else {\r\n                return new WindowType(peerType, undefined);\r\n            }\r\n        };\r\n        GW3Bridge.prototype.subscribe = function (messageType, handler) {\r\n            var _this = this;\r\n            var sub = this._connection.on(messageType, function (msg) { return handler.bind(_this)(msg); });\r\n            this._gw3Subscriptions.push(sub);\r\n            return sub;\r\n        };\r\n        GW3Bridge.prototype.dropSubscription = function (subscription) {\r\n            if (subscription) {\r\n                this._connection.off(subscription);\r\n                delete this._gw3Subscriptions[this._gw3Subscriptions.indexOf(subscription)];\r\n            }\r\n        };\r\n        GW3Bridge.prototype.invokeCallbacks = function (callbacks, event, description) {\r\n            var _this = this;\r\n            callbacks.forEach(function (cb) {\r\n                try {\r\n                    cb(event);\r\n                }\r\n                catch (err) {\r\n                    _this._logger.error(\"Error in \" + (description || event.context.type) + \" callback: \" + JSON.stringify(err));\r\n                }\r\n            });\r\n        };\r\n        GW3Bridge.prototype.handleActivityCreatedMessage = function (msg) {\r\n            if (!msg.context_id) {\r\n                this._logger.error(\"Activity created with unknown context_id: \" + msg.activity_id);\r\n            }\r\n            else {\r\n                if (!this._contextSubscriptions[msg.activity_id]) {\r\n                    this.subscribeToContext(msg);\r\n                }\r\n            }\r\n        };\r\n        GW3Bridge.prototype.subscribeToContext = function (msg) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var activityId, _a, _b;\r\n                var _this = this;\r\n                return __generator(this, function (_c) {\r\n                    switch (_c.label) {\r\n                        case 0:\r\n                            activityId = msg.activity_id;\r\n                            _a = this._contextSubscriptions;\r\n                            _b = activityId;\r\n                            return [4, this._contexts.subscribe(activityId, function (data, updated, removed) {\r\n                                    var event = new EntityEvent(new Activity(activityId, undefined, undefined, data, undefined), new ActivityContextChangedEventContext(data, updated, removed));\r\n                                    _this.invokeCallbacks(_this._activityChangeCallbacks, event, \"context updated\");\r\n                                })];\r\n                        case 1:\r\n                            _a[_b] =\r\n                                _c.sent();\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GW3Bridge.prototype.handleActivityDestroyedMessage = function (msg) {\r\n            var unsubscribeContext = this._contextSubscriptions[msg.activity_id];\r\n            if (typeof unsubscribeContext === \"function\") {\r\n                unsubscribeContext();\r\n            }\r\n            delete this._contextSubscriptions[msg.activity_id];\r\n        };\r\n        GW3Bridge.prototype.handlePeerFactoriesAdded = function (msg) {\r\n            var _this = this;\r\n            msg.factories.forEach(function (entity) {\r\n                _this._peerIdAndFactoryIdToPeerType[msg.owner_id + \":\" + entity.id] = entity.peer_type;\r\n            });\r\n        };\r\n        GW3Bridge.prototype.handlePeerFactoriesRemoved = function (msg) {\r\n            var _this = this;\r\n            msg.factory_ids.forEach(function (factoryId) {\r\n                delete _this._peerIdAndFactoryIdToPeerType[msg.owner_id + \":\" + factoryId];\r\n            });\r\n        };\r\n        GW3Bridge.prototype.forwardActivityTypeMessagesToStatusEventHandlers = function () {\r\n            this.forwardAddedAndRemovedMessagesToEventHandler(gwMmessageActivityTypesAdded, gwMessageActivityTypesRemoved, function (msg, isAdded) { return isAdded\r\n                ? msg.types.map(function (t) { return GW3Bridge.activityTypeGwMessageEntityToActivityType(t, undefined); })\r\n                : msg.types.map(function (t) { return new ActivityType(t.name, undefined, undefined, undefined); }); }, this._activityTypeStatusChangeCallbacks);\r\n        };\r\n        GW3Bridge.prototype.forwardActivityCreatedAndJoinedActivityToActivityWindowEventHandlers = function () {\r\n            var _this = this;\r\n            for (var _i = 0, _a = [gwMessageActivityCreated, gwMessageJoinedActivity, gwMessageOwnerChanged]; _i < _a.length; _i++) {\r\n                var activityCreatedMessage = _a[_i];\r\n                this.forwardMessageToEventHandler(activityCreatedMessage, function (msg) {\r\n                    return ([msg.owner || __assign(__assign({}, msg), { type: msg.peer_type, name: msg.peer_name, peer_id: msg.owner_id })])\r\n                        .concat(msg.participants || [])\r\n                        .map(function (info) { return new ActivityWindow(info.peer_id, info.name, info.type, msg.activity_id, _this.getAgmInstance(info.peer_id), undefined, _this.generateWindowGetter(info.peer_id), undefined); });\r\n                }, function (ent, msg) { return new EntityEvent(ent, new EntityEventContext(EntityEventType.ActivityWindowJoinedActivity)); }, this._activityWindowChangeCallbacks);\r\n            }\r\n        };\r\n        GW3Bridge.prototype.forwardActivityMessagesToStatusEventHandlers = function () {\r\n            for (var _i = 0, _a = [gwMessageActivityCreated, gwMessageJoinedActivity]; _i < _a.length; _i++) {\r\n                var createdMessage = _a[_i];\r\n                this.forwardMessageToEventHandler(createdMessage, function (msg) { return [GW3Bridge.activityGwMessageToActivity(msg, new ActivityStatus(\"started\", \"\", new Date()))]; }, function (ent, msg) { return GW3Bridge.activityToActivityStatusChangeEvent(ent); }, this._activityChangeCallbacks);\r\n            }\r\n            this.forwardMessageToEventHandler(gwMessageActivityDestroyed, function (msg) { return [GW3Bridge.activityGwMessageToActivity(msg, new ActivityStatus(\"destroyed\", msg.reason, new Date()))]; }, function (ent, msg) { return GW3Bridge.activityToActivityStatusChangeEvent(ent); }, this._activityChangeCallbacks);\r\n            this.forwardMessageToEventHandler(gwMessageActivityInitiated, function (msg) { return [GW3Bridge.activityGwMessageToActivity(msg, new ActivityStatus(\"created\", \"\", new Date()))]; }, function (ent, msg) { return GW3Bridge.activityToActivityStatusChangeEvent(ent); }, this._activityChangeCallbacks);\r\n            this.forwardMessageToEventHandler(gwMessageOwnerChanged, function (msg) { return [GW3Bridge.activityGwMessageToActivity(msg, new ActivityStatus(\"created\", \"\", new Date()))]; }, function (ent, msg) { return GW3Bridge.activityToActivityStatusChangeEvent(ent); }, this._activityChangeCallbacks);\r\n        };\r\n        GW3Bridge.prototype.forwardPeerFactoryMessagesToStatusEventHandlers = function () {\r\n            var _this = this;\r\n            this.forwardAddedAndRemovedMessagesToEventHandler(gwMessagePeerFactoriesAdded, gwMessagePeerFactoriesRemoved, function (msg, isAdded) { return isAdded\r\n                ? msg.factories.map(GW3Bridge.peerFactoryGwMessageEntityToWindowType)\r\n                : msg.factory_ids.map(function (id) { return _this.peerFactoryIdAndOwnerIdToWindowType(id, msg.owner_id); }).filter(function (x) { return x != null; }); }, this._windowTypeStatusChangeCallbacks);\r\n        };\r\n        GW3Bridge.prototype.forwardPeerFactoryMessagesToPeerFactoryRequests = function () {\r\n            var _this = this;\r\n            this.subscribe(gwMessagePeerRequested, function (msg) {\r\n                var factory = _this._peerFactoriesRegisteredByUs[msg.peer_factory];\r\n                if (!factory) {\r\n                    _this._gw3Session.send({\r\n                        type: gwMmessageError,\r\n                        request_id: msg.request_id,\r\n                        reason: \"Unknown peer factory \" + msg.peer_factory\r\n                    });\r\n                    return;\r\n                }\r\n                try {\r\n                    var configuration = msg.configuration || {};\r\n                    configuration.gateway_token = configuration.gateway_token || msg.gateway_token;\r\n                    configuration.peer_factory = configuration.peer_factory || msg.peer_factory;\r\n                    var promise = factory({\r\n                        activityId: msg.activity && msg.activity.id,\r\n                        activityType: msg.activity && msg.activity.type,\r\n                        type: msg.configuration && msg.configuration.type,\r\n                        gwToken: configuration.gateway_token,\r\n                        configuration: configuration\r\n                    });\r\n                    if (promise && promise.then && promise.catch) {\r\n                        promise.catch(function (err) { return _this._gw3Session.send({\r\n                            type: gwMmessageError,\r\n                            request_id: msg.request_id,\r\n                            reason: err && (err.message || JSON.stringify(err))\r\n                        }); });\r\n                    }\r\n                }\r\n                catch (err) {\r\n                    _this._gw3Session.send({\r\n                        type: gwMmessageError,\r\n                        request_id: msg.request_id,\r\n                        reason: err && (err.message || JSON.stringify(err))\r\n                    });\r\n                }\r\n            });\r\n        };\r\n        GW3Bridge.prototype.forwardActivityWindowMessagesToEventHandlers = function () {\r\n            var _this = this;\r\n            var _loop_1 = function (joinedMessage) {\r\n                this_1.subscribe(joinedMessage, function (msg) {\r\n                    var joinedId = (joinedMessage === gwMessageActivityJoined) ? msg.joined_id : msg.peer_id;\r\n                    var joinedType = (joinedMessage === gwMessageActivityJoined) ? msg.joined_type : msg.peer_type;\r\n                    var joinedName = (joinedMessage === gwMessageActivityJoined) ? msg.joined_name : msg.peer_name;\r\n                    var entity = new ActivityWindow(joinedId, joinedName, joinedType, msg.activity_id, _this.getAgmInstance(joinedId), undefined, _this.generateWindowGetter(joinedId), undefined);\r\n                    if (!_this._contextSubscriptions[msg.activity_id]) {\r\n                        _this.subscribeToContext(msg).then(function () {\r\n                            if (joinedMessage === gwMessageJoinedActivity) {\r\n                                _this._activityJoinedPromiseResolve({});\r\n                            }\r\n                        });\r\n                    }\r\n                    else if (joinedMessage === gwMessageJoinedActivity) {\r\n                        _this._activityJoinedPromiseResolve({});\r\n                    }\r\n                    _this.invokeCallbacks(_this._activityWindowChangeCallbacks, new EntityEvent(entity, new EntityEventContext(EntityEventType.ActivityWindowJoinedActivity)), joinedMessage);\r\n                });\r\n            };\r\n            var this_1 = this;\r\n            for (var _i = 0, _a = [gwMessageActivityJoined, gwMessageJoinedActivity]; _i < _a.length; _i++) {\r\n                var joinedMessage = _a[_i];\r\n                _loop_1(joinedMessage);\r\n            }\r\n            this.subscribe(gwMessageActivityLeft, function (msg) {\r\n                var entity = new ActivityWindow(msg.left_id, undefined, undefined, null, _this.getAgmInstance(msg.left_id), undefined, _this.generateWindowGetter(msg.left_id), undefined);\r\n                _this.invokeCallbacks(_this._activityWindowChangeCallbacks, new EntityEvent(entity, new EntityEventContext(EntityEventType.ActivityWindowLeftActivity)), gwMessageActivityLeft);\r\n            });\r\n            this.forwardAddedAndRemovedMessagesToEventHandler(gwMessagePeerCreated, undefined, function (msg) { return [\r\n                new ActivityWindow(msg.created_id, undefined, undefined, undefined, undefined, undefined, _this.generateWindowGetter(msg.created_id), undefined)\r\n            ]; }, this._activityWindowChangeCallbacks);\r\n        };\r\n        GW3Bridge.prototype.getAgmInstance = function (id) {\r\n            return this._config.agm.servers().find(function (s) { return s.peerId === id || s.windowId === id; });\r\n        };\r\n        GW3Bridge.prototype.generateWindowGetter = function (peerId) {\r\n            var _this = this;\r\n            return function () {\r\n                var server = _this.getAgmInstance(peerId);\r\n                if (!server) {\r\n                    return;\r\n                }\r\n                var windowId = server.windowId;\r\n                return _this._config.windows.list().filter(function (w) { return w.id === windowId; })[0];\r\n            };\r\n        };\r\n        GW3Bridge.prototype.isOverrideTypeDefinition = function (value) {\r\n            if (typeof value === \"undefined\") {\r\n                return false;\r\n            }\r\n            if (value.owner) {\r\n                return true;\r\n            }\r\n            return false;\r\n        };\r\n        return GW3Bridge;\r\n    }());\n\n    var ActivityMy = (function () {\r\n        function ActivityMy(manager, windows) {\r\n            var _this = this;\r\n            this._myAttached = [];\r\n            this._myDetached = [];\r\n            this._myAttachedTo = [];\r\n            this._myDetachedFrom = [];\r\n            this._myActivityFrameColorChanged = [];\r\n            this._myActivityJoinedCallbacks = [];\r\n            this._myActivityRemovedCallbacks = [];\r\n            this._myContextUpdateCallbacks = [];\r\n            this._logger = Logger$1.Get(this);\r\n            this._m = manager;\r\n            manager.ready()\r\n                .then(function (am) {\r\n                am.subscribeActivityContextChanged(_this._subscribeMyContextChanged.bind(_this));\r\n                am.subscribeWindowEvents(_this._subscribeMyWindowEvent.bind(_this));\r\n                am.subscribeActivitiesAttached(_this._subscribeActivitiesAttached.bind(_this));\r\n                am.subscribeActivitiesDetached(_this._subscribeActivitiesDetached.bind(_this));\r\n                if (windows) {\r\n                    windows.onWindowFrameColorChanged(_this._subscribeWindowFrameColorChanged.bind(_this));\r\n                }\r\n            });\r\n        }\r\n        Object.defineProperty(ActivityMy.prototype, \"window\", {\r\n            get: function () {\r\n                if (isUndefinedOrNull(this._w)) {\r\n                    var announcedWindows = this._m.announcedWindows;\r\n                    if (announcedWindows.length > 0) {\r\n                        this._w = announcedWindows[0];\r\n                    }\r\n                }\r\n                return this._w;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityMy.prototype, \"activity\", {\r\n            get: function () {\r\n                var myWin = this.window;\r\n                if (isUndefinedOrNull(myWin)) {\r\n                    return undefined;\r\n                }\r\n                return myWin.activity;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ActivityMy.prototype.createWindow = function (windowType) {\r\n            return this._m.createWindow(this.activity, windowType);\r\n        };\r\n        ActivityMy.prototype.createStackedWindows = function (windowTypes, timeout) {\r\n            return this._m.createStackedWindows(this.activity, windowTypes, timeout);\r\n        };\r\n        Object.defineProperty(ActivityMy.prototype, \"context\", {\r\n            get: function () {\r\n                var activity = this.activity;\r\n                if (isUndefined(activity)) {\r\n                    return {};\r\n                }\r\n                return activity.context;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ActivityMy.prototype.updateContext = function (context, callback) {\r\n            var activity = this.activity;\r\n            if (isUndefined(activity)) {\r\n                return new Promise(function (resolve, reject) {\r\n                    reject(\"Not in activity\");\r\n                });\r\n            }\r\n            return activity.updateContext(context, callback);\r\n        };\r\n        ActivityMy.prototype.setContext = function (context, callback) {\r\n            var activity = this.activity;\r\n            if (isUndefined(activity)) {\r\n                return new Promise(function (resolve, reject) {\r\n                    reject(\"Not in activity\");\r\n                });\r\n            }\r\n            return activity.setContext(context, callback);\r\n        };\r\n        ActivityMy.prototype.onActivityJoined = function (callback) {\r\n            this._myActivityJoinedCallbacks.push(callback);\r\n            var myWin = this.window;\r\n            if (!isUndefinedOrNull(myWin) && !isUndefinedOrNull(myWin.activity)) {\r\n                callback(myWin.activity);\r\n            }\r\n        };\r\n        ActivityMy.prototype.onActivityLeft = function (callback) {\r\n            this._myActivityRemovedCallbacks.push(callback);\r\n        };\r\n        ActivityMy.prototype.onContextChanged = function (callback) {\r\n            this._myContextUpdateCallbacks.push(callback);\r\n            var myWin = this.window;\r\n            if (isUndefinedOrNull(myWin)) {\r\n                return;\r\n            }\r\n            var activity = myWin.activity;\r\n            if (isUndefinedOrNull(activity)) {\r\n                return;\r\n            }\r\n            callback(activity.context, activity.context, [], activity);\r\n        };\r\n        ActivityMy.prototype.clone = function (options, callback) {\r\n            var act = this.activity;\r\n            return this._m.clone(act, options, callback);\r\n        };\r\n        ActivityMy.prototype.attach = function (activity, tag) {\r\n            var activityId;\r\n            if (typeof activity === \"string\") {\r\n                activityId = activity;\r\n            }\r\n            else {\r\n                activityId = activity.id;\r\n            }\r\n            return this._m.attachActivities(activityId, this.activity.id, tag);\r\n        };\r\n        ActivityMy.prototype.onActivityAttached = function (callback) {\r\n            this._myAttached.push(callback);\r\n        };\r\n        ActivityMy.prototype.onActivityDetached = function (callback) {\r\n            this._myDetached.push(callback);\r\n        };\r\n        ActivityMy.prototype.onAttachedToActivity = function (callback) {\r\n            this._myAttachedTo.push(callback);\r\n        };\r\n        ActivityMy.prototype.onDetachedFromActivity = function (callback) {\r\n            this._myDetachedFrom.push(callback);\r\n        };\r\n        Object.defineProperty(ActivityMy.prototype, \"attached\", {\r\n            get: function () {\r\n                if (!this.activity) {\r\n                    return [];\r\n                }\r\n                return this.activity.attached;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ActivityMy.prototype.setFrameColor = function (color, callback) {\r\n            if (this.activity) {\r\n                return this.activity.setFrameColor(color, callback);\r\n            }\r\n            else {\r\n                return Promise.resolve(null);\r\n            }\r\n        };\r\n        ActivityMy.prototype.getFrameColor = function () {\r\n            if (this.activity) {\r\n                return this.activity.getFrameColor();\r\n            }\r\n            return \"\";\r\n        };\r\n        ActivityMy.prototype.onFrameColorChanged = function (callback) {\r\n            this._myActivityFrameColorChanged.push(callback);\r\n        };\r\n        ActivityMy.prototype._subscribeMyContextChanged = function (activity, context, delta, removed) {\r\n            var myWin = this.window;\r\n            if (isUndefinedOrNull(myWin)) {\r\n                return;\r\n            }\r\n            var myActivity = myWin.activity;\r\n            if (isUndefinedOrNull(myActivity)) {\r\n                return;\r\n            }\r\n            if (activity.id !== myActivity.id) {\r\n                return;\r\n            }\r\n            this._notifyMyContextChanged(activity, context, delta, removed);\r\n        };\r\n        ActivityMy.prototype._subscribeMyWindowEvent = function (activity, window, event) {\r\n            if (isUndefinedOrNull(this.window)) {\r\n                return;\r\n            }\r\n            if (this.window.id !== window.id) {\r\n                return;\r\n            }\r\n            if (event === EntityEventType.ActivityWindowJoinedActivity) {\r\n                this._notifyMyWindowEvent(activity, this._myActivityJoinedCallbacks);\r\n                this._notifyMyContextChanged(activity, activity.context, null, null);\r\n            }\r\n            else if (event === EntityEventType.ActivityWindowLeftActivity) {\r\n                this._notifyMyWindowEvent(activity, this._myActivityRemovedCallbacks);\r\n            }\r\n        };\r\n        ActivityMy.prototype._notifyMyWindowEvent = function (activity, callbackStore) {\r\n            var _this = this;\r\n            callbackStore.forEach(function (element) {\r\n                try {\r\n                    element(activity, event);\r\n                }\r\n                catch (e) {\r\n                    _this._logger.warn(\"error in user callback \" + e);\r\n                }\r\n            });\r\n        };\r\n        ActivityMy.prototype._notifyMyContextChanged = function (activity, context, delta, removed) {\r\n            var _this = this;\r\n            delta = delta || {};\r\n            removed = removed || [];\r\n            this._myContextUpdateCallbacks.forEach(function (element) {\r\n                try {\r\n                    element(context, delta, removed, activity);\r\n                }\r\n                catch (e) {\r\n                    _this._logger.warn(\"error in user callback \" + e);\r\n                }\r\n            });\r\n        };\r\n        ActivityMy.prototype._notifyAttached = function (state) {\r\n            var _this = this;\r\n            this._myAttached.forEach(function (cb) {\r\n                try {\r\n                    cb(state);\r\n                }\r\n                catch (e) {\r\n                    _this._logger.warn(\"error in user callback \" + e);\r\n                }\r\n            });\r\n        };\r\n        ActivityMy.prototype._notifyDetached = function (state) {\r\n            var _this = this;\r\n            this._myDetached.forEach(function (cb) {\r\n                try {\r\n                    cb(state);\r\n                }\r\n                catch (e) {\r\n                    _this._logger.warn(\"error in user callback \" + e);\r\n                }\r\n            });\r\n        };\r\n        ActivityMy.prototype._notifyAttachedTo = function (state) {\r\n            var _this = this;\r\n            this._myAttachedTo.forEach(function (cb) {\r\n                try {\r\n                    cb(_this.activity, state);\r\n                }\r\n                catch (e) {\r\n                    _this._logger.warn(\"error in user callback \" + e);\r\n                }\r\n            });\r\n        };\r\n        ActivityMy.prototype._notifyDetachedFrom = function (detached, existing, state) {\r\n            var _this = this;\r\n            this._myDetachedFrom.forEach(function (cb) {\r\n                try {\r\n                    cb(detached, existing, state);\r\n                }\r\n                catch (e) {\r\n                    _this._logger.warn(\"error in user callback \" + e);\r\n                }\r\n            });\r\n        };\r\n        ActivityMy.prototype._subscribeActivitiesAttached = function (newAct, state) {\r\n            var myWin = this.window;\r\n            if (isUndefinedOrNull(myWin)) {\r\n                return;\r\n            }\r\n            var myActivity = myWin.activity;\r\n            if (isUndefinedOrNull(myActivity)) {\r\n                return;\r\n            }\r\n            if (newAct.id !== myActivity.id) {\r\n                return;\r\n            }\r\n            if (state.windowIds.indexOf(myWin.id) >= 0) {\r\n                this._notifyAttachedTo(state);\r\n                return;\r\n            }\r\n            this._notifyAttached(state);\r\n        };\r\n        ActivityMy.prototype._subscribeActivitiesDetached = function (newAct, oldAct, state) {\r\n            var myWin = this.window;\r\n            if (isUndefinedOrNull(myWin)) {\r\n                return;\r\n            }\r\n            var myActivity = myWin.activity;\r\n            if (isUndefinedOrNull(myActivity)) {\r\n                return;\r\n            }\r\n            if (oldAct.id === myActivity.id) {\r\n                this._notifyDetached(state);\r\n            }\r\n            if (newAct.id === myActivity.id) {\r\n                this._notifyDetachedFrom(newAct, oldAct, state);\r\n            }\r\n        };\r\n        ActivityMy.prototype._subscribeWindowFrameColorChanged = function (window) {\r\n            var act = this.activity;\r\n            if (!act) {\r\n                return;\r\n            }\r\n            if (!act.owner) {\r\n                return;\r\n            }\r\n            if (act.owner.underlyingWindow.id === window.id) {\r\n                this._myActivityFrameColorChanged.forEach(function (callback) {\r\n                    callback(window.frameColor);\r\n                });\r\n            }\r\n        };\r\n        return ActivityMy;\r\n    }());\n\n    var ReadyMarker = (function () {\r\n        function ReadyMarker(name, signalsToWait) {\r\n            this._logger = Logger$1.Get(\"ReadyMarker [\" + name + \"]\");\r\n            this._logger.debug(\"Initializing ready marker for '\" + name + \"' with \" + signalsToWait + \" signals to wait\");\r\n            if (signalsToWait <= 0) {\r\n                throw new Error(\"Invalid signal number. Should be > 0\");\r\n            }\r\n            this._signals = signalsToWait;\r\n            this._callbacks = [];\r\n            this._name = name;\r\n        }\r\n        ReadyMarker.prototype.setCallback = function (callback) {\r\n            if (this.isSet()) {\r\n                callback(undefined);\r\n                return;\r\n            }\r\n            else if (this.isError()) {\r\n                callback(this._error);\r\n                return;\r\n            }\r\n            this._callbacks.push(callback);\r\n        };\r\n        ReadyMarker.prototype.signal = function (message) {\r\n            this._logger.debug(\"Signaled - \" + message + \" - signals left \" + (this._signals - 1));\r\n            this._signals--;\r\n            if (this._signals < 0) {\r\n                throw new Error(\"Error in ready marker '\" + this._name + \" - signals are \" + this._signals);\r\n            }\r\n            if (this.isSet()) {\r\n                this._callbacks.forEach(function (callback) {\r\n                    callback(undefined);\r\n                });\r\n            }\r\n        };\r\n        ReadyMarker.prototype.error = function (error) {\r\n            this._error = error;\r\n            this._callbacks.forEach(function (errorCallback) {\r\n                errorCallback(error);\r\n            });\r\n        };\r\n        ReadyMarker.prototype.isSet = function () {\r\n            if (this.isError()) {\r\n                return false;\r\n            }\r\n            return this._signals === 0;\r\n        };\r\n        ReadyMarker.prototype.isError = function () {\r\n            return !isUndefined(this._error);\r\n        };\r\n        ReadyMarker.prototype.getError = function () {\r\n            return this._error;\r\n        };\r\n        return ReadyMarker;\r\n    }());\n\n    var EntityObservableCollection = (function () {\r\n        function EntityObservableCollection(processNew) {\r\n            this._items = {};\r\n            this._listeners = [];\r\n            this._processNew = processNew;\r\n        }\r\n        EntityObservableCollection.prototype.addOne = function (item) {\r\n            this.add([item]);\r\n        };\r\n        EntityObservableCollection.prototype.add = function (items) {\r\n            var _this = this;\r\n            items.forEach(function (element) {\r\n                _this.process(new EntityEvent(element, new EntityEventContext(EntityEventType.Added)));\r\n            });\r\n        };\r\n        EntityObservableCollection.prototype.process = function (event) {\r\n            var context = event.context;\r\n            var type = context.type;\r\n            var entity = event.entity;\r\n            if (type === EntityEventType.StatusChange &&\r\n                !context.oldStatus) {\r\n                var act = this._items[entity.id];\r\n                if (act) {\r\n                    context.oldStatus = act.status;\r\n                }\r\n            }\r\n            if (type === EntityEventType.StatusChange &&\r\n                context.oldStatus &&\r\n                context.newStatus &&\r\n                context.oldStatus.state ===\r\n                    context.newStatus.state) {\r\n                context.type = EntityEventType.Updated;\r\n            }\r\n            if (typeof htmlContainer === \"undefined\") {\r\n                if (type === EntityEventType.ActivityWindowJoinedActivity &&\r\n                    this._items[entity.id] &&\r\n                    this._items[entity.id].activity) {\r\n                    context.type = EntityEventType.Updated;\r\n                }\r\n                if (type === EntityEventType.ActivityWindowLeftActivity &&\r\n                    this._items[entity.id] &&\r\n                    !this._items[entity.id].activity) {\r\n                    context.type = EntityEventType.Updated;\r\n                }\r\n            }\r\n            var internalEntity = this._updateInternalCollections(entity, type, context);\r\n            this._notifyListeners(internalEntity, context);\r\n            return internalEntity;\r\n        };\r\n        EntityObservableCollection.prototype.get = function () {\r\n            var result = [];\r\n            for (var key in this._items) {\r\n                if (this._items.hasOwnProperty(key)) {\r\n                    var element = this._items[key];\r\n                    result.push(element);\r\n                }\r\n            }\r\n            return result;\r\n        };\r\n        EntityObservableCollection.prototype.getByName = function (name) {\r\n            for (var key in this._items) {\r\n                if (key === name) {\r\n                    return this._items[key];\r\n                }\r\n            }\r\n            return undefined;\r\n        };\r\n        EntityObservableCollection.prototype.getOrWait = function (name) {\r\n            var _this = this;\r\n            return new Promise(function (resolve) {\r\n                var entityAddedHandler = function (entity) {\r\n                    if (entity.id !== name) {\r\n                        return;\r\n                    }\r\n                    resolve(entity);\r\n                    _this.unsubscribe(entityAddedHandler);\r\n                };\r\n                _this.subscribe(entityAddedHandler);\r\n                var window = _this.getByName(name);\r\n                if (window) {\r\n                    _this.unsubscribe(entityAddedHandler);\r\n                    resolve(window);\r\n                    return;\r\n                }\r\n            });\r\n        };\r\n        EntityObservableCollection.prototype.subscribe = function (handler) {\r\n            var _this = this;\r\n            this._listeners.push(handler);\r\n            Object.keys(this._items).forEach(function (key) {\r\n                var element = _this._items[key];\r\n                handler(element, new EntityEventContext(EntityEventType.Added.toString()));\r\n            });\r\n            return function () {\r\n                _this.unsubscribe(handler);\r\n            };\r\n        };\r\n        EntityObservableCollection.prototype.unsubscribe = function (handler) {\r\n            var index = this._listeners.indexOf(handler);\r\n            if (index !== -1) {\r\n                this._listeners.splice(index, 1);\r\n            }\r\n        };\r\n        EntityObservableCollection.prototype._notifyListeners = function (entity, context) {\r\n            this._listeners.forEach(function (listener) {\r\n                try {\r\n                    listener(entity, context);\r\n                }\r\n                catch (e) {\r\n                    return;\r\n                }\r\n            });\r\n        };\r\n        EntityObservableCollection.prototype._updateInternalCollections = function (entity, type, context) {\r\n            var entityAsAny = entity;\r\n            var isActivityDestroy = (type === EntityEventType.StatusChange &&\r\n                entityAsAny.status &&\r\n                entityAsAny.status.state === ActivityState.Destroyed) ||\r\n                (type === EntityEventType.StatusChange &&\r\n                    context &&\r\n                    context.newStatus &&\r\n                    context.newStatus.state === ActivityState.Destroyed);\r\n            var isWindowClose = type === EntityEventType.Closed;\r\n            var isTypeRemove = type === EntityEventType.Removed && typeof entityAsAny.isIndependent === \"undefined\";\r\n            if (isTypeRemove || isWindowClose || isActivityDestroy) {\r\n                var oldEntity = this._items[entity.id];\r\n                delete this._items[entity.id];\r\n                this._processNew(entity);\r\n                if (oldEntity) {\r\n                    entity._beforeDelete(oldEntity);\r\n                }\r\n                return entity;\r\n            }\r\n            else {\r\n                var key = entity.id;\r\n                if (!this._items.hasOwnProperty(key)) {\r\n                    this._processNew(entity);\r\n                    this._items[entity.id] = entity;\r\n                }\r\n                else {\r\n                    this._items[entity.id]._update(entity);\r\n                }\r\n            }\r\n            return this._items[entity.id];\r\n        };\r\n        return EntityObservableCollection;\r\n    }());\n\n    var ActivityManager = (function () {\r\n        function ActivityManager(bridge, autoAnnounce, windows) {\r\n            var _this = this;\r\n            this._logger = Logger$1.Get(\"activityManager\");\r\n            this._announcedWindows = [];\r\n            this._attachedCallbacks = [];\r\n            this._detachedCallbacks = [];\r\n            this._frameColorChangesCallbacks = [];\r\n            this._windowHandlers = [];\r\n            this._bridge = bridge;\r\n            this._activityTypes = new EntityObservableCollection(function (e) { return _this._grabEntity(e); });\r\n            this._windowTypes = new EntityObservableCollection(function (e) { return _this._grabEntity(e); });\r\n            this._activities = new EntityObservableCollection(function (e) { return _this._grabEntity(e); });\r\n            this._windows = new EntityObservableCollection(function (e) { return _this._grabEntity(e); });\r\n            this._dataReadyMarker = new ReadyMarker(\"Activity Manager Data\", [\"GetActivityTypes\", \"GetWindowTypes\", \"GetActivities\", \"GetWindows\"].length);\r\n            this._descriptorsMarker = new ReadyMarker(\"Attached Activities Descriptors\", [\"GetDescriptors\"].length);\r\n            if (autoAnnounce) {\r\n                this._readyMarker = new ReadyMarker(\"Activity Manager Announce\", [\"Announcement\"].length);\r\n                this._dataReadyMarker.setCallback(function (dataErr) {\r\n                    if (dataErr) {\r\n                        _this._readyMarker.error(dataErr);\r\n                    }\r\n                    _this._descriptorsMarker.setCallback(function (err) {\r\n                        if (err) {\r\n                            _this._readyMarker.error(err);\r\n                        }\r\n                        _this._logger.debug(\"Auto announcing window\");\r\n                        _this.announceWindow()\r\n                            .then(function (w) {\r\n                            _this._announcedWindows.push(w);\r\n                            _this._readyMarker.signal(\"Successfully announced window with id '\" + w.id + \"'\");\r\n                        })\r\n                            .catch(function (errCatch) {\r\n                            _this._logger.debug(\"Will not announce window - \" + errCatch);\r\n                            _this._readyMarker.signal();\r\n                        });\r\n                    });\r\n                    _this.refreshDescriptors();\r\n                });\r\n            }\r\n            else {\r\n                this._readyMarker = this._dataReadyMarker;\r\n            }\r\n            this._bridge.onActivitiesAttached(function (e) {\r\n                _this._handleActivitiesAttached(e);\r\n            });\r\n            this._bridge.onActivitiesDetached(function (e) {\r\n                _this._handleActivitiesDetached(e);\r\n            });\r\n            this._bridge.onActivityAttachedDescriptorsRefreshed(function (e) {\r\n                _this._handleActivityDescriptorsRefreshed(e);\r\n            });\r\n            if (windows) {\r\n                windows.onWindowFrameColorChanged(this._handleWindowFrameColorChanged.bind(this));\r\n            }\r\n            this._bridge.init();\r\n            this._subscribeForData();\r\n            this._bridge\r\n                .initReady()\r\n                .then(function (aw) {\r\n                _this._getInitialData();\r\n            })\r\n                .catch(function (error) {\r\n                console.log(error);\r\n            });\r\n        }\r\n        Object.defineProperty(ActivityManager.prototype, \"usingHc\", {\r\n            get: function () {\r\n                return this._bridge.bridgeType === \"HC\";\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityManager.prototype, \"announcedWindows\", {\r\n            get: function () {\r\n                return this._announcedWindows;\r\n            },\r\n            set: function (v) {\r\n                throw new Error(\"not allowed\");\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ActivityManager.prototype.ready = function (callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                _this._readyMarker.setCallback(function (err) {\r\n                    if (!err) {\r\n                        resolve(_this);\r\n                    }\r\n                    else {\r\n                        reject(_this._readyMarker.getError());\r\n                    }\r\n                });\r\n            });\r\n            return nodeify(Promise.all([this._bridge.ready(), promise]).then(function () { return _this; }), callback);\r\n        };\r\n        ActivityManager.prototype.getActivityTypes = function () {\r\n            return this._activityTypes.get();\r\n        };\r\n        ActivityManager.prototype.getActivityType = function (name) {\r\n            return this._activityTypes.getByName(name);\r\n        };\r\n        ActivityManager.prototype.registerActivityType = function (activityTypeName, ownerWindowType, helperWindowTypes, config, description, callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                if (isUndefinedOrNull(activityTypeName)) {\r\n                    reject(\"activityTypeName argument can not be undefined\");\r\n                    return;\r\n                }\r\n                if (!isString(activityTypeName)) {\r\n                    reject(\"activityTypeName should be string\");\r\n                    return;\r\n                }\r\n                var actType = _this.getActivityType(activityTypeName);\r\n                if (!isUndefinedOrNull(actType)) {\r\n                    reject(\"Activity type '\" + activityTypeName + \"' already exists\");\r\n                    return;\r\n                }\r\n                var ownerDefinition;\r\n                if (isUndefined(ownerWindowType)) {\r\n                    reject(\"Owner window type can not be undefined\");\r\n                    return;\r\n                }\r\n                if (isString(ownerWindowType)) {\r\n                    ownerDefinition = { type: ownerWindowType, name: \"\", isIndependent: false, arguments: {} };\r\n                }\r\n                else {\r\n                    ownerDefinition = ownerWindowType;\r\n                }\r\n                var helperDefinitions = [];\r\n                if (!isUndefined(helperWindowTypes) && isArray(helperWindowTypes)) {\r\n                    for (var index in helperWindowTypes) {\r\n                        var item = helperWindowTypes[index];\r\n                        if (isString(item)) {\r\n                            var definition = {\r\n                                type: item,\r\n                                name: \"\",\r\n                                isIndependent: false,\r\n                                arguments: {},\r\n                                relativeTo: \"\",\r\n                                relativeDirection: \"\",\r\n                                windowStyleAttributes: {}\r\n                            };\r\n                            helperDefinitions.push(definition);\r\n                        }\r\n                        else {\r\n                            helperDefinitions.push(item);\r\n                        }\r\n                    }\r\n                }\r\n                _this._bridge\r\n                    .registerActivityType(activityTypeName, ownerDefinition, helperDefinitions, config, description)\r\n                    .then(function (activityType) {\r\n                    _this._grabEntity(activityType);\r\n                    resolve(activityType);\r\n                })\r\n                    .catch(function (error) {\r\n                    reject(error);\r\n                });\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.unregisterActivityType = function (type, callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                var actType = _this.getActivityType(type);\r\n                if (isUndefined(actType)) {\r\n                    reject(\"Activity type '\" + type + \"' does not exists\");\r\n                    return;\r\n                }\r\n                _this._bridge.unregisterActivityType(type).then(function () { return resolve(actType); }, reject);\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.initiate = function (activityType, context, callback, configuration) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                var actType = _this.getActivityType(activityType);\r\n                if (isUndefined(actType)) {\r\n                    reject(\"Activity type '\" + activityType + \"' does not exists\");\r\n                    return;\r\n                }\r\n                _this._bridge\r\n                    .initiateActivity(activityType, context, configuration)\r\n                    .then(function (actId) {\r\n                    _this._activities\r\n                        .getOrWait(actId)\r\n                        .then(function (act) {\r\n                        resolve(act);\r\n                    })\r\n                        .catch(function (err) { return reject(err); });\r\n                })\r\n                    .catch(function (err) {\r\n                    reject(err);\r\n                });\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.subscribeActivityTypeEvents = function (handler) {\r\n            this._activityTypes.subscribe(function (at, context) {\r\n                handler(at, context.type);\r\n            });\r\n        };\r\n        ActivityManager.prototype.getWindowTypes = function () {\r\n            return this._windowTypes.get();\r\n        };\r\n        ActivityManager.prototype.getWindowType = function (name) {\r\n            return this._windowTypes.getByName(name);\r\n        };\r\n        ActivityManager.prototype.registerWindowFactory = function (windowType, factoryMethod, callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                if (isUndefinedOrNull(windowType)) {\r\n                    reject(\"no windowType specified\");\r\n                    return;\r\n                }\r\n                if (isObject(windowType)) {\r\n                    windowType = windowType.getName();\r\n                }\r\n                else if (!isString(windowType)) {\r\n                    reject(\"windowType should be string or object that has getName method\");\r\n                    return;\r\n                }\r\n                _this._bridge\r\n                    .registerWindowFactory(windowType, factoryMethod)\r\n                    .then(function (v) {\r\n                    resolve(v);\r\n                })\r\n                    .catch(function (err) {\r\n                    reject(err);\r\n                });\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.unregisterWindowFactory = function (windowType, callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                if (isUndefinedOrNull(windowType)) {\r\n                    reject(\"no windowType specified\");\r\n                    return;\r\n                }\r\n                if (!isString(windowType)) {\r\n                    reject(\"windowType should be a string\");\r\n                    return;\r\n                }\r\n                _this._bridge\r\n                    .unregisterWindowFactory(windowType)\r\n                    .then(function (v) {\r\n                    resolve(v);\r\n                })\r\n                    .catch(function (err) {\r\n                    reject(err);\r\n                });\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.getActivities = function (activityType) {\r\n            var act = this._activities.get();\r\n            act = act.filter(function (a) { return a._ownerId; });\r\n            if (!activityType) {\r\n                return act;\r\n            }\r\n            var types = activityType;\r\n            if (isString(activityType)) {\r\n                types = [activityType];\r\n            }\r\n            else if (activityType instanceof ActivityType) {\r\n                types = [activityType.name];\r\n            }\r\n            else if (activityType instanceof Array) ;\r\n            else {\r\n                throw new Error(\"Invalid input argument 'activityType' = \" + activityType);\r\n            }\r\n            return act.filter(function (at) {\r\n                var type = at.type;\r\n                return some(types, function (t) {\r\n                    return type.id === t.id;\r\n                });\r\n            });\r\n        };\r\n        ActivityManager.prototype.getActivityById = function (id) {\r\n            return this._activities.getByName(id);\r\n        };\r\n        ActivityManager.prototype.announceWindow = function (activityWindowId, windowType) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                var announcementInfo = _this._bridge.getAnnouncementInfo();\r\n                if (isUndefined(activityWindowId)) {\r\n                    activityWindowId = announcementInfo.activityWindowId;\r\n                }\r\n                if (isUndefined(windowType)) {\r\n                    windowType = announcementInfo.activityWindowType;\r\n                }\r\n                if (isUndefinedOrNull(windowType)) {\r\n                    throw new Error(\"Can not announce - unknown windowType\");\r\n                }\r\n                var activityId = announcementInfo && announcementInfo.activityId;\r\n                if (isUndefinedOrNull(activityWindowId)) {\r\n                    _this._logger.debug(\"Registering window with type:'\" + windowType + \"', name:'\" + announcementInfo.activityWindowName + \"', ind.:'\" + announcementInfo.activityWindowIndependent + \"'\");\r\n                    _this._bridge.registerWindow(windowType, announcementInfo.activityWindowName, announcementInfo.activityWindowIndependent)\r\n                        .then(_this._windows.getOrWait.bind(_this._windows))\r\n                        .then(function (w) {\r\n                        if (activityId) {\r\n                            return _this._activities.getOrWait(activityId).then(function (_) { return w; });\r\n                        }\r\n                        else {\r\n                            return w;\r\n                        }\r\n                    })\r\n                        .then(function (w) {\r\n                        resolve(w);\r\n                    })\r\n                        .catch(function (err) {\r\n                        _this._logger.error(err);\r\n                    });\r\n                }\r\n                else {\r\n                    _this._logger.debug(\"Announcing window with id '\" + activityWindowId + \"' and type '\" + windowType + \"'\");\r\n                    var currentWindow = _this._windows.getByName(activityWindowId);\r\n                    if (!isUndefinedOrNull(currentWindow)) {\r\n                        _this._logger.debug(\"Window with id '\" + activityWindowId + \"' already announced - reusing the window\");\r\n                        resolve(currentWindow);\r\n                        return;\r\n                    }\r\n                    var windowEventHandler_1 = function (a, w, e) {\r\n                        if (activityWindowId === w.id) {\r\n                            if (e === EntityEventType.ActivityWindowJoinedActivity) {\r\n                                var activity = w.activity;\r\n                                if (isUndefined(activity)) {\r\n                                    reject(\"UNDEFINED ACTIVITY\");\r\n                                }\r\n                                _this._logger.trace(\"Got joined event for id '\" + activityWindowId + \"'\");\r\n                                resolve(w);\r\n                                _this.unsubscribeWindowEvents(windowEventHandler_1);\r\n                            }\r\n                        }\r\n                    };\r\n                    _this.subscribeWindowEvents(windowEventHandler_1);\r\n                    _this._logger.trace(\"Waiting for joined event for id '\" + activityWindowId + \"'\");\r\n                    _this._bridge.announceWindow(windowType, activityWindowId);\r\n                }\r\n            });\r\n            return promise;\r\n        };\r\n        ActivityManager.prototype.subscribeWindowTypeEvents = function (handler) {\r\n            this._windowTypes.subscribe(function (wt, context) {\r\n                handler(wt, context.type);\r\n            });\r\n        };\r\n        ActivityManager.prototype.subscribeActivityEvents = function (handler) {\r\n            var _this = this;\r\n            return this._activities.subscribe(function (act, context) {\r\n                if (context.type === EntityEventType.StatusChange) {\r\n                    var p = context;\r\n                    handler(act, p.newStatus, p.oldStatus);\r\n                }\r\n                if (context.type === EntityEventType.Removed ||\r\n                    (context.type === EntityEventType.StatusChange &&\r\n                        context.newStatus.getState() === ActivityState.Destroyed)) {\r\n                    for (var _i = 0, _a = _this._windows.get(); _i < _a.length; _i++) {\r\n                        var window_1 = _a[_i];\r\n                        if (window_1.activity && window_1.activity.id === act.id) {\r\n                            _this._windows.process(new EntityEvent(window_1, new EntityEventContext(EntityEventType.ActivityWindowLeftActivity)));\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        };\r\n        ActivityManager.prototype.subscribeWindowEvents = function (handler) {\r\n            var wrappingHandler = function (window, context) {\r\n                var eventType = context.type;\r\n                if (eventType === EntityEventType.Added) {\r\n                    eventType = \"opened\";\r\n                }\r\n                handler(window.activity, window, eventType);\r\n            };\r\n            this._windowHandlers.push([handler, wrappingHandler]);\r\n            return this._windows.subscribe(wrappingHandler);\r\n        };\r\n        ActivityManager.prototype.unsubscribeWindowEvents = function (handler) {\r\n            var found = this._windowHandlers.find(function (pair) { return pair[0] === handler; });\r\n            if (found) {\r\n                this._windowHandlers.splice(this._windowHandlers.indexOf(found), 1);\r\n                this._windows.unsubscribe(found[1]);\r\n            }\r\n        };\r\n        ActivityManager.prototype.createWindow = function (activity, windowTypeOrConfiguration, callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                if (isUndefinedOrNull(windowTypeOrConfiguration)) {\r\n                    reject(\"windowType is undefined\");\r\n                }\r\n                var windowDefinition;\r\n                if (isString(windowTypeOrConfiguration)) {\r\n                    windowDefinition = { type: windowTypeOrConfiguration, name: \"\", isIndependent: false, arguments: {} };\r\n                }\r\n                else if (windowTypeOrConfiguration instanceof WindowType) {\r\n                    windowDefinition = {\r\n                        type: windowTypeOrConfiguration.type || windowTypeOrConfiguration.id,\r\n                        name: windowTypeOrConfiguration.name || windowTypeOrConfiguration.type || windowTypeOrConfiguration.id,\r\n                        isIndependent: false\r\n                    };\r\n                }\r\n                else {\r\n                    var invalidKeys_1 = [\"url\"];\r\n                    var filteredWindowTypeOrConfiguration_1 = {};\r\n                    Object.keys(windowTypeOrConfiguration).forEach(function (key) {\r\n                        if (invalidKeys_1.indexOf(key) === -1) {\r\n                            filteredWindowTypeOrConfiguration_1[key] = windowTypeOrConfiguration[key];\r\n                        }\r\n                    });\r\n                    windowDefinition = filteredWindowTypeOrConfiguration_1;\r\n                }\r\n                var relativeToWindow;\r\n                if (!isUndefinedOrNull(windowDefinition.relativeTo)) {\r\n                    relativeToWindow = windowDefinition.relativeTo;\r\n                    if (typeof relativeToWindow === \"string\") {\r\n                        var windows = _this.getWindows({ type: relativeToWindow });\r\n                        if (!isUndefinedOrNull(windows) && windows.length > 0) {\r\n                            windowDefinition.relativeTo = windows[0].id;\r\n                        }\r\n                    }\r\n                    else if (!isUndefinedOrNull(relativeToWindow.type)) {\r\n                        var windows = _this.getWindows({ type: relativeToWindow.type });\r\n                        if (!isUndefinedOrNull(windows) && windows.length > 0) {\r\n                            windowDefinition.relativeTo = windows[0].id;\r\n                        }\r\n                    }\r\n                    else if (!isUndefinedOrNull(relativeToWindow.windowId)) {\r\n                        windowDefinition.relativeTo = relativeToWindow.windowId;\r\n                    }\r\n                }\r\n                _this._bridge.createWindow(activity && activity.id, windowDefinition)\r\n                    .then(function (wid) {\r\n                    _this._logger.debug(\"Window created, waiting for window entity with id \" + wid);\r\n                    var handler = function (window, context) {\r\n                        if (window.id === wid && (!activity || window.activity)) {\r\n                            _this._logger.debug(\"Got entity window with id \" + wid);\r\n                            resolve(window);\r\n                            _this._windows.unsubscribe(handler);\r\n                        }\r\n                    };\r\n                    _this._windows.subscribe(handler);\r\n                })\r\n                    .catch(function (err) {\r\n                    reject(err);\r\n                });\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.createStackedWindows = function (activity, relativeWindowTypes, timeout, callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                if (isUndefinedOrNull(activity)) {\r\n                    reject(\"activity is undefined\");\r\n                }\r\n                if (isUndefinedOrNull(relativeWindowTypes)) {\r\n                    reject(\"relativeWindowTypes is undefined\");\r\n                }\r\n                if (!Array.isArray(relativeWindowTypes)) {\r\n                    reject(\"relativeWindowTypes has to be an array\");\r\n                }\r\n                if (isUndefinedOrNull(timeout)) {\r\n                    timeout = 20000;\r\n                }\r\n                var windowDefinitions = [];\r\n                relativeWindowTypes.forEach(function (element) {\r\n                    var windowDefinition;\r\n                    if (isString(element)) {\r\n                        windowDefinition = { type: element, name: \"\", isIndependent: false, arguments: {} };\r\n                    }\r\n                    else {\r\n                        windowDefinition = element;\r\n                    }\r\n                    windowDefinition.stackedWindow = true;\r\n                    windowDefinition.timeout = timeout;\r\n                    var relativeToWindow;\r\n                    if (!isUndefinedOrNull(windowDefinition.relativeTo)) {\r\n                        relativeToWindow = windowDefinition.relativeTo;\r\n                        if (!isUndefinedOrNull(relativeToWindow.type)) {\r\n                            windowDefinition.relativeTo = relativeToWindow.type;\r\n                        }\r\n                        else if (!isUndefinedOrNull(relativeToWindow.windowId)) {\r\n                            var windows = _this.getWindows({ id: relativeToWindow.windowId });\r\n                            if (!isUndefinedOrNull(windows) && windows.length > 0) {\r\n                                windowDefinition.relativeTo = windows[0].type.name;\r\n                            }\r\n                        }\r\n                    }\r\n                    windowDefinitions.push(windowDefinition);\r\n                });\r\n                var tasks = [];\r\n                windowDefinitions.forEach(function (wd) { return tasks.push(_this.createWindow(activity, wd)); });\r\n                Promise.all(tasks).then(resolve).catch(reject);\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.addWindowToActivity = function (activity, window, callback) {\r\n            var toReturn = this._bridge.joinActivity(activity.id, window.id)\r\n                .then(function () { return window; });\r\n            nodeify(toReturn, callback);\r\n            return toReturn;\r\n        };\r\n        ActivityManager.prototype.leaveWindowFromActivity = function (activity, window, callback) {\r\n            var toReturn = this._bridge.leaveActivity(activity.id, window.id)\r\n                .then(function () { return window; });\r\n            nodeify(toReturn, callback);\r\n            return toReturn;\r\n        };\r\n        ActivityManager.prototype.setActivityContext = function (activity, context, callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                if (isUndefinedOrNull(activity)) {\r\n                    reject(\"activity can not be null\");\r\n                }\r\n                _this._bridge\r\n                    .updateActivityContext(activity, context, true)\r\n                    .then(function (_) {\r\n                    resolve(activity);\r\n                })\r\n                    .catch(function (err) {\r\n                    reject(err);\r\n                });\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.updateActivityContext = function (activity, context, callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                if (isUndefinedOrNull(activity)) {\r\n                    reject(\"activity can not be null\");\r\n                }\r\n                var removedKeys = [];\r\n                for (var key in context) {\r\n                    if (context.hasOwnProperty(key) && context[key] === null) {\r\n                        removedKeys.push(key);\r\n                    }\r\n                }\r\n                for (var _i = 0, removedKeys_1 = removedKeys; _i < removedKeys_1.length; _i++) {\r\n                    var removedKey = removedKeys_1[_i];\r\n                    delete context[removedKey];\r\n                }\r\n                _this._bridge\r\n                    .updateActivityContext(activity, context, false, removedKeys)\r\n                    .then(function (_) {\r\n                    resolve(activity);\r\n                })\r\n                    .catch(function (err) {\r\n                    reject(err);\r\n                });\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.subscribeActivityContextChanged = function (handler) {\r\n            this._activities.subscribe(function (act, context) {\r\n                if (context.type === EntityEventType.ActivityContextChange) {\r\n                    var updateContext = context;\r\n                    handler(act, updateContext.context, updateContext.updated, updateContext.removed);\r\n                }\r\n            });\r\n        };\r\n        ActivityManager.prototype.stopActivity = function (activity, callback) {\r\n            var promise = this._bridge.stopActivity(activity);\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.getWindows = function (filter) {\r\n            if (isUndefined(filter)) {\r\n                return this._windows.get();\r\n            }\r\n            if (!isUndefined(filter.id)) {\r\n                return [this._windows.getByName(filter.id)];\r\n            }\r\n            var allWindows = this._windows.get();\r\n            return allWindows.filter(function (w) {\r\n                if (!isUndefined(filter.type) && w.type.id !== filter.type) {\r\n                    return false;\r\n                }\r\n                if (!isUndefined(filter.name) && w.name !== filter.name) {\r\n                    return false;\r\n                }\r\n                if (!isUndefined(filter.activityId)) {\r\n                    if (isUndefinedOrNull(w.activity)) {\r\n                        return false;\r\n                    }\r\n                    if (w.activity.id !== filter.activityId) {\r\n                        return false;\r\n                    }\r\n                }\r\n                return true;\r\n            });\r\n        };\r\n        ActivityManager.prototype.getWindowBounds = function (id) {\r\n            return this._bridge.getWindowBounds(id);\r\n        };\r\n        ActivityManager.prototype.setWindowBounds = function (id, bounds, callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                _this._bridge.setWindowBounds(id, bounds)\r\n                    .then(function () { return resolve(); })\r\n                    .catch(function (err) { return reject(err); });\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.closeWindow = function (id) {\r\n            return this._bridge.closeWindow(id);\r\n        };\r\n        ActivityManager.prototype.activateWindow = function (id, focus) {\r\n            return this._bridge.activateWindow(id, focus);\r\n        };\r\n        ActivityManager.prototype.setWindowVisibility = function (id, visible) {\r\n            return this._bridge.setWindowVisibility(id, visible);\r\n        };\r\n        ActivityManager.prototype.clone = function (activity, cloneOptions, callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                if (!activity) {\r\n                    reject(\"activity can not be null\");\r\n                }\r\n                _this._bridge.cloneActivity(activity.id, cloneOptions)\r\n                    .then(function (activityId) {\r\n                    _this._activities\r\n                        .getOrWait(activityId)\r\n                        .then(function (act) {\r\n                        resolve(act);\r\n                    })\r\n                        .catch(function (err) { return reject(err); });\r\n                })\r\n                    .catch(function (err) { return reject(err); });\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.attachActivities = function (from, to, tag, callback) {\r\n            var _this = this;\r\n            tag = tag || {};\r\n            var promise = new Promise(function (resolve, reject) {\r\n                var fromActivity = _this._activities.getByName(from);\r\n                if (!fromActivity) {\r\n                    reject(\"can not find activity with id \" + from);\r\n                    return;\r\n                }\r\n                var toActivity = _this._activities.getByName(to);\r\n                if (!toActivity) {\r\n                    reject(\"can not find activity with id \" + to);\r\n                    return;\r\n                }\r\n                return _this._bridge.attachActivities(from, to, tag)\r\n                    .then(function (data) {\r\n                    var newActId = data.to;\r\n                    var state = data.descriptor;\r\n                    var allStates = data.descriptors;\r\n                    _this._activities.getOrWait(newActId).then(function (act) {\r\n                        act._updateDescriptors(allStates);\r\n                        var stateWrapped = act.attached.filter(function (u) { return u.ownerId === state.ownerId; })[0];\r\n                        resolve(stateWrapped);\r\n                    });\r\n                })\r\n                    .catch(function (err) {\r\n                    reject(err);\r\n                });\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.detachActivities = function (activityId, descriptor, callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                return _this._bridge.detachActivities(activityId, descriptor)\r\n                    .then(function () {\r\n                    var oldActId = undefined;\r\n                    var newActId = undefined;\r\n                    var descriptors = undefined;\r\n                    _this._activities\r\n                        .getOrWait(oldActId)\r\n                        .then(function (oldAct) {\r\n                        oldAct._updateDescriptors(descriptors);\r\n                        _this._activities\r\n                            .getOrWait(newActId)\r\n                            .then(function (newAct) {\r\n                            resolve(newAct);\r\n                        });\r\n                    })\r\n                        .catch(function (err) { return reject(err); });\r\n                })\r\n                    .catch(function (err) {\r\n                    reject(err);\r\n                });\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.subscribeActivitiesAttached = function (callback) {\r\n            this._attachedCallbacks.push(callback);\r\n        };\r\n        ActivityManager.prototype.subscribeActivitiesDetached = function (callback) {\r\n            this._detachedCallbacks.push(callback);\r\n        };\r\n        ActivityManager.prototype.subscribeActivityFrameColorChanged = function (callback) {\r\n            this._frameColorChangesCallbacks.push(callback);\r\n        };\r\n        ActivityManager.prototype._grabEntity = function (entity) {\r\n            entity._manager = this;\r\n        };\r\n        ActivityManager.prototype._getInitialData = function () {\r\n            var _this = this;\r\n            this._logger.debug(\"Request initial data...\");\r\n            this._bridge.getActivityTypes()\r\n                .then(function (at) {\r\n                _this._activityTypes.add(at);\r\n                _this._dataReadyMarker.signal(\"Got act types\");\r\n            })\r\n                .catch(function (error) {\r\n                _this._logger.error(error);\r\n                _this._dataReadyMarker.error(\"Can not initialize ActivityManager - error getting activity types -\" + error);\r\n            });\r\n            this._bridge.getWindowTypes()\r\n                .then(function (wt) {\r\n                _this._windowTypes.add(wt);\r\n                _this._dataReadyMarker.signal(\"Got window types\");\r\n            })\r\n                .catch(function (error) {\r\n                _this._logger.error(error);\r\n                _this._dataReadyMarker.error(\"Can not initialize ActivityManager - error getting window types  \" + error);\r\n            });\r\n            this._bridge.getActivities()\r\n                .then(function (ac) {\r\n                _this._activities.add(ac);\r\n                _this._dataReadyMarker.signal(\"Got activities\");\r\n            })\r\n                .catch(function (error) {\r\n                _this._logger.error(error);\r\n                _this._dataReadyMarker.error(\"Can not initialize ActivityManager - error getting activity instances -\" + error);\r\n            });\r\n            this._bridge.getActivityWindows()\r\n                .then(function (aw) {\r\n                _this._windows.add(aw);\r\n                _this._dataReadyMarker.signal(\"Got windows\");\r\n            })\r\n                .catch(function (error) {\r\n                _this._logger.error(error);\r\n                _this._dataReadyMarker.error(\"Can not initialize ActivityManager - error getting activity windows -\" + error);\r\n            });\r\n        };\r\n        ActivityManager.prototype._subscribeForData = function () {\r\n            var _this = this;\r\n            this._logger.debug(\"Subscribe for data...\");\r\n            this._bridge.onActivityTypeStatusChange(function (event) {\r\n                _this._activityTypes.process(event);\r\n            });\r\n            this._bridge.onWindowTypeStatusChange(function (event) {\r\n                _this._windowTypes.process(event);\r\n            });\r\n            this._bridge.onActivityWindowChange(function (event) {\r\n                _this._windows.process(event);\r\n            });\r\n            this._bridge.onActivityStatusChange(function (event) {\r\n                _this._activities.process(event);\r\n            });\r\n        };\r\n        ActivityManager.prototype._handleActivitiesAttached = function (data) {\r\n            var _this = this;\r\n            var newActId = data.to;\r\n            var descriptor = data.descriptor;\r\n            var descriptors = data.descriptors;\r\n            this._activities.getOrWait(newActId).then(function (act) {\r\n                act._updateDescriptors(descriptors);\r\n                var descriptorAsObjectFromAPI = act.attached.filter(function (u) { return u.ownerId === descriptor.ownerId; })[0];\r\n                _this._attachedCallbacks.forEach(function (callback) {\r\n                    try {\r\n                        callback(act, descriptorAsObjectFromAPI);\r\n                    }\r\n                    catch (err) {\r\n                        return;\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ActivityManager.prototype._handleActivitiesDetached = function (data) {\r\n            var _this = this;\r\n            var oldActId = data.oldActivityId;\r\n            var newActId = data.newActivityId;\r\n            var descriptors = data.descriptors;\r\n            var descriptor = data.descriptor;\r\n            this._activities.getOrWait(oldActId).then(function (oldAct) {\r\n                oldAct._updateDescriptors(descriptors);\r\n                _this._activities.getOrWait(newActId).then(function (newAct) {\r\n                    _this._detachedCallbacks.forEach(function (callback) {\r\n                        try {\r\n                            callback(newAct, oldAct, descriptor);\r\n                        }\r\n                        catch (err) {\r\n                            return;\r\n                        }\r\n                    });\r\n                });\r\n            });\r\n        };\r\n        ActivityManager.prototype._handleActivityDescriptorsRefreshed = function (data) {\r\n            var id = data.id;\r\n            var descriptors = data.descriptors;\r\n            var act = this._activities.getByName(id);\r\n            if (act) {\r\n                act._updateDescriptors(descriptors);\r\n            }\r\n        };\r\n        ActivityManager.prototype.refreshDescriptors = function () {\r\n            var _this = this;\r\n            this._bridge.getAttachedDescriptors()\r\n                .then(function (map) {\r\n                if (map) {\r\n                    Object.keys(map).forEach(function (key) {\r\n                        var actId = key;\r\n                        var descriptors = map[key];\r\n                        var act = _this._activities.getByName(actId);\r\n                        if (act) {\r\n                            act._updateDescriptors(descriptors);\r\n                        }\r\n                    });\r\n                }\r\n                _this._descriptorsMarker.signal(\"Successfully got descriptors\");\r\n            })\r\n                .catch(function (err) {\r\n                _this._descriptorsMarker.error(\"failed to get descriptors - \" + err);\r\n            });\r\n        };\r\n        ActivityManager.prototype._handleWindowFrameColorChanged = function (win) {\r\n            if (!win.activityId) {\r\n                return;\r\n            }\r\n            var act = this._activities.getByName(win.activityId);\r\n            if (!act) {\r\n                return;\r\n            }\r\n            if (!act.owner) {\r\n                return;\r\n            }\r\n            if (act.owner.underlyingWindow.id !== win.id) {\r\n                return;\r\n            }\r\n            this._frameColorChangesCallbacks.forEach(function (callback) {\r\n                try {\r\n                    callback(act, win.frameColor);\r\n                }\r\n                catch (e) {\r\n                    return;\r\n                }\r\n            });\r\n        };\r\n        return ActivityManager;\r\n    }());\n\n    var ActivityManagementAPI = (function () {\r\n        function ActivityManagementAPI(manager, my) {\r\n            this._m = manager;\r\n            this._my = my;\r\n            this.activityTypes = {\r\n                get: this._getActivityTypesWrapper.bind(this),\r\n                register: this._m.registerActivityType.bind(this._m),\r\n                unregister: this._m.unregisterActivityType.bind(this._m),\r\n                subscribe: this._m.subscribeActivityTypeEvents.bind(this._m),\r\n                unsubscribe: undefined,\r\n                initiate: this._m.initiate.bind(this._m)\r\n            };\r\n            this.windowTypes = {\r\n                get: this._getWindowTypesWrapper.bind(this),\r\n                registerFactory: this._m.registerWindowFactory.bind(this._m),\r\n                unregisterFactory: this._m.unregisterWindowFactory.bind(this._m),\r\n                subscribe: this._m.subscribeWindowTypeEvents.bind(this._m),\r\n                unsubscribe: undefined\r\n            };\r\n            this.windows = {\r\n                get: this._m.getWindows.bind(this._m),\r\n                subscribe: this._m.subscribeWindowEvents.bind(this._m),\r\n                announce: this._m.announceWindow.bind(this._m),\r\n                unsubscribe: undefined,\r\n                create: this._m.createWindow.bind(this._m)\r\n            };\r\n            this.instances = {\r\n                get: this._m.getActivities.bind(this._m),\r\n                subscribe: this._m.subscribeActivityEvents.bind(this._m),\r\n                unsubscribe: undefined\r\n            };\r\n        }\r\n        ActivityManagementAPI.prototype.onAttached = function (callback) {\r\n            this._m.subscribeActivitiesAttached(callback);\r\n        };\r\n        ActivityManagementAPI.prototype.onDetached = function (callback) {\r\n            this._m.subscribeActivitiesDetached(callback);\r\n        };\r\n        ActivityManagementAPI.prototype.onActivityFrameColorChanged = function (callback) {\r\n            this._m.subscribeActivityFrameColorChanged(callback);\r\n        };\r\n        ActivityManagementAPI.prototype._getActivityTypesWrapper = function (name) {\r\n            if (isUndefined(name)) {\r\n                return this._m.getActivityTypes();\r\n            }\r\n            return this._m.getActivityType(name);\r\n        };\r\n        ActivityManagementAPI.prototype._getWindowTypesWrapper = function (name) {\r\n            if (isUndefined(name)) {\r\n                return this._m.getWindowTypes();\r\n            }\r\n            return this._m.getWindowType(name);\r\n        };\r\n        return ActivityManagementAPI;\r\n    }());\n\n    var ActivityAPI = (function () {\r\n        function ActivityAPI(manager, my) {\r\n            this._mgr = manager;\r\n            this._my = my;\r\n            this.all = new ActivityManagementAPI(manager, my);\r\n        }\r\n        ActivityAPI.prototype.ready = function (callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                _this._mgr.ready()\r\n                    .then(function () {\r\n                    resolve(_this);\r\n                })\r\n                    .catch(function (err) {\r\n                    reject(err);\r\n                });\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        Object.defineProperty(ActivityAPI.prototype, \"my\", {\r\n            get: function () {\r\n                return this._my;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityAPI.prototype, \"aware\", {\r\n            get: function () {\r\n                return this._my.window !== undefined;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityAPI.prototype, \"inActivity\", {\r\n            get: function () {\r\n                return this.aware && this._my.activity !== undefined;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityAPI.prototype, \"agm\", {\r\n            get: function () {\r\n                if (!this.aware) {\r\n                    return undefined;\r\n                }\r\n                if (!this.inActivity) {\r\n                    return new ActivityAGM(null);\r\n                }\r\n                return this._my.activity.agm;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ActivityAPI.prototype.getAvailableFrameColors = function () {\r\n            return [];\r\n        };\r\n        return ActivityAPI;\r\n    }());\n\n    var ActivityModule = (function () {\r\n        function ActivityModule(config) {\r\n            var _this = this;\r\n            if (!config) {\r\n                throw new Error(\"config can not be null\");\r\n            }\r\n            if (!isUndefined(config.logLevel)) {\r\n                Logger$1.Level = config.logLevel;\r\n            }\r\n            if (!isUndefinedOrNull(config.logger)) {\r\n                Logger$1.GlueLogger = config.logger;\r\n            }\r\n            var bridge;\r\n            this._isUsingHCImplementation = config.gdMajorVersion === 2;\r\n            this._isUsingGW3Implementation = ActivityModule.checkIsUsingGW3Implementation(config.connection);\r\n            if (this._isUsingHCImplementation) {\r\n                throw new Error(\"GD2 not supported\");\r\n            }\r\n            else if (this._isUsingGW3Implementation) {\r\n                bridge = new GW3Bridge$1(config);\r\n            }\r\n            else {\r\n                throw new Error(\"Unable to instantiate activity bridge implementation\");\r\n            }\r\n            if (!bridge) {\r\n                throw new Error(\"A bridge to native activity is needed to create activity lib.\");\r\n            }\r\n            ActivityAGM.AGM = config.agm;\r\n            var activityManager = new ActivityManager(bridge, !config.disableAutoAnnounce, config.windows);\r\n            var my = new ActivityMy(activityManager, config.windows);\r\n            this._api = new ActivityAPI(activityManager, my);\r\n            this._readyPromise = activityManager.ready().then(function (_) { return _this; });\r\n        }\r\n        ActivityModule.checkIsUsingGW3Implementation = function (connection) {\r\n            return connection.protocolVersion === 3;\r\n        };\r\n        Object.defineProperty(ActivityModule.prototype, \"api\", {\r\n            get: function () {\r\n                return this._api;\r\n            },\r\n            set: function (value) {\r\n                this._api = value;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityModule.prototype, \"isUsingHCImplementation\", {\r\n            get: function () {\r\n                return this._isUsingHCImplementation;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityModule.prototype, \"isUsingGW3Implementation\", {\r\n            get: function () {\r\n                return this._isUsingGW3Implementation;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ActivityModule.prototype.ready = function (callback) {\r\n            return nodeify(this._readyPromise, callback);\r\n        };\r\n        return ActivityModule;\r\n    }());\n\n    var ShutdownMethodName = \"T42.ACS.Shutdown\";\r\n    var RestartMethodName = \"T42.ACS.Restart\";\r\n    var GetConfigurationRegionMethodName = \"T42.ACS.GetConfigurationRegion\";\r\n    var SetConfigurationRegionMethodName = \"T42.ACS.SetConfigurationRegion\";\r\n    var GetUserMethodName = \"T42.ACS.GetUser\";\r\n    var GetBranchesMethodName = \"T42.ACS.GetBranches\";\r\n    var GetCurrentBranchMethodName = \"T42.ACS.GetCurrentBranch\";\r\n    var SetCurrentBranchMethodName = \"T42.ACS.SetCurrentBranch\";\r\n    var GetFunctionalEntitlementMethodName = \"T42.ACS.GetFunctionalEntitlement\";\r\n    var CanIMethodName = \"T42.ACS.CanI\";\r\n    var StartApplicationMethodName = \"T42.ACS.StartApplication\";\r\n    var StopApplicationMethodName = \"T42.ACS.StopApplication\";\r\n    var ActivateApplicationMethodName = \"T42.ACS.ActivateApplication\";\r\n    var OnEventMethodName = \"T42.ACS.OnEvent\";\r\n    var GetApplicationsMethodName = \"T42.ACS.GetApplications\";\n\n    function createRegistry$1(options) {\r\n        if (options && options.errorHandling\r\n            && typeof options.errorHandling !== \"function\"\r\n            && options.errorHandling !== \"log\"\r\n            && options.errorHandling !== \"silent\"\r\n            && options.errorHandling !== \"throw\") {\r\n            throw new Error(\"Invalid options passed to createRegistry. Prop errorHandling should be [\\\"log\\\" | \\\"silent\\\" | \\\"throw\\\" | (err) => void], but \" + typeof options.errorHandling + \" was passed\");\r\n        }\r\n        var _userErrorHandler = options && typeof options.errorHandling === \"function\" && options.errorHandling;\r\n        var callbacks = {};\r\n        function add(key, callback, replayArgumentsArr) {\r\n            var callbacksForKey = callbacks[key];\r\n            if (!callbacksForKey) {\r\n                callbacksForKey = [];\r\n                callbacks[key] = callbacksForKey;\r\n            }\r\n            callbacksForKey.push(callback);\r\n            if (replayArgumentsArr) {\r\n                setTimeout(function () {\r\n                    replayArgumentsArr.forEach(function (replayArgument) {\r\n                        var _a;\r\n                        if ((_a = callbacks[key]) === null || _a === void 0 ? void 0 : _a.includes(callback)) {\r\n                            try {\r\n                                if (Array.isArray(replayArgument)) {\r\n                                    callback.apply(undefined, replayArgument);\r\n                                }\r\n                                else {\r\n                                    callback.apply(undefined, [replayArgument]);\r\n                                }\r\n                            }\r\n                            catch (err) {\r\n                                _handleError(err, key);\r\n                            }\r\n                        }\r\n                    });\r\n                }, 0);\r\n            }\r\n            return function () {\r\n                var allForKey = callbacks[key];\r\n                if (!allForKey) {\r\n                    return;\r\n                }\r\n                allForKey = allForKey.reduce(function (acc, element, index) {\r\n                    if (!(element === callback && acc.length === index)) {\r\n                        acc.push(element);\r\n                    }\r\n                    return acc;\r\n                }, []);\r\n                if (allForKey.length === 0) {\r\n                    delete callbacks[key];\r\n                }\r\n                else {\r\n                    callbacks[key] = allForKey;\r\n                }\r\n            };\r\n        }\r\n        function execute(key) {\r\n            var argumentsArr = [];\r\n            for (var _i = 1; _i < arguments.length; _i++) {\r\n                argumentsArr[_i - 1] = arguments[_i];\r\n            }\r\n            var callbacksForKey = callbacks[key];\r\n            if (!callbacksForKey || callbacksForKey.length === 0) {\r\n                return [];\r\n            }\r\n            var results = [];\r\n            callbacksForKey.forEach(function (callback) {\r\n                try {\r\n                    var result = callback.apply(undefined, argumentsArr);\r\n                    results.push(result);\r\n                }\r\n                catch (err) {\r\n                    results.push(undefined);\r\n                    _handleError(err, key);\r\n                }\r\n            });\r\n            return results;\r\n        }\r\n        function _handleError(exceptionArtifact, key) {\r\n            var errParam = exceptionArtifact instanceof Error ? exceptionArtifact : new Error(exceptionArtifact);\r\n            if (_userErrorHandler) {\r\n                _userErrorHandler(errParam);\r\n                return;\r\n            }\r\n            var msg = \"[ERROR] callback-registry: User callback for key \\\"\" + key + \"\\\" failed: \" + errParam.stack;\r\n            if (options) {\r\n                switch (options.errorHandling) {\r\n                    case \"log\":\r\n                        return console.error(msg);\r\n                    case \"silent\":\r\n                        return;\r\n                    case \"throw\":\r\n                        throw new Error(msg);\r\n                }\r\n            }\r\n            console.error(msg);\r\n        }\r\n        function clear() {\r\n            callbacks = {};\r\n        }\r\n        function clearKey(key) {\r\n            var callbacksForKey = callbacks[key];\r\n            if (!callbacksForKey) {\r\n                return;\r\n            }\r\n            delete callbacks[key];\r\n        }\r\n        return {\r\n            add: add,\r\n            execute: execute,\r\n            clear: clear,\r\n            clearKey: clearKey\r\n        };\r\n    }\r\n    createRegistry$1.default = createRegistry$1;\r\n    var lib$2 = createRegistry$1;\n\n    function objectValues(source) {\r\n        if (!source) {\r\n            return [];\r\n        }\r\n        return Object.keys(source).map(function (key) { return source[key]; });\r\n    }\r\n    function objectClone(obj) {\r\n        var result;\r\n        try {\r\n            result = JSON.parse(JSON.stringify(obj || {}));\r\n        }\r\n        catch (error) {\r\n            result = {};\r\n        }\r\n        return result;\r\n    }\n\n    var ApplicationImpl = (function () {\r\n        function ApplicationImpl(_appManager, _name, _agm) {\r\n            var _this = this;\r\n            this._appManager = _appManager;\r\n            this._name = _name;\r\n            this._agm = _agm;\r\n            this._registry = lib$2();\r\n            _appManager.onInstanceStarted(function (instance) {\r\n                if (instance.application && instance.application.name !== _this._name) {\r\n                    return;\r\n                }\r\n                _this._registry.execute(\"instanceStarted\", instance);\r\n            });\r\n            _appManager.onInstanceStopped(function (instance) {\r\n                if (instance.application && instance.application.name !== _this._name) {\r\n                    return;\r\n                }\r\n                _this._registry.execute(\"instanceStopped\", instance);\r\n            });\r\n            _appManager.onAppRemoved(function (app) {\r\n                if (app.name !== _this._name) {\r\n                    return;\r\n                }\r\n                _this._registry.execute(\"appRemoved\", app);\r\n            });\r\n            _appManager.onAppChanged(function (app) {\r\n                if (app.name !== _this._name) {\r\n                    return;\r\n                }\r\n                _this._registry.execute(\"appChanged\", app);\r\n            });\r\n            _appManager.onAppAvailable(function (app) {\r\n                if (app.name !== _this._name) {\r\n                    return;\r\n                }\r\n                _this._registry.execute(\"appAvailable\", app);\r\n            });\r\n            _appManager.onAppUnavailable(function (app) {\r\n                if (app.name !== _this._name) {\r\n                    return;\r\n                }\r\n                _this._registry.execute(\"appUnavailable\", app);\r\n            });\r\n        }\r\n        Object.defineProperty(ApplicationImpl.prototype, \"name\", {\r\n            get: function () { return this._name; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"title\", {\r\n            get: function () { return this._props.Title; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"version\", {\r\n            get: function () { return this._props.Version; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"autoStart\", {\r\n            get: function () { return this._props.AutoStart; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"isShell\", {\r\n            get: function () { return this._props.IsShell; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"caption\", {\r\n            get: function () { return this._props.Caption; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"hidden\", {\r\n            get: function () { return this._props.IsHidden; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"container\", {\r\n            get: function () { return this._props.ApplicationName; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"activityType\", {\r\n            get: function () { return this._props.ActivityType; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"activityWindowType\", {\r\n            get: function () { return this._props.ActivityWindowType; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"windowSettings\", {\r\n            get: function () {\r\n                if (!this._props.Arguments) {\r\n                    return {};\r\n                }\r\n                return objectClone(this._props.Arguments);\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"allowMultiple\", {\r\n            get: function () { return this._props.AllowMultiple; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"available\", {\r\n            get: function () { return this._props.IsReady || true; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"icon\", {\r\n            get: function () { return this._props.Icon; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"iconURL\", {\r\n            get: function () { return this._props.IconUrl; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"sortOrder\", {\r\n            get: function () { return this._props.SortOrder; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"userProperties\", {\r\n            get: function () {\r\n                if (!this._props.UserProperties) {\r\n                    return {};\r\n                }\r\n                return objectClone(this._props.UserProperties);\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"isActivity\", {\r\n            get: function () {\r\n                return this._props.ActivityType !== undefined && this._props.ActivityType !== \"\";\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"configuration\", {\r\n            get: function () {\r\n                return {\r\n                    autoStart: this._props.AutoStart,\r\n                    caption: this._props.Caption,\r\n                    hidden: this._props.IsHidden,\r\n                    container: this._props.ApplicationName,\r\n                    activityType: this._props.ActivityType,\r\n                    allowMultiple: this._props.AllowMultiple\r\n                };\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"instances\", {\r\n            get: function () {\r\n                var _this = this;\r\n                return this._appManager.instances().filter(function (instance) { return instance.application.name === _this._name; });\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"type\", {\r\n            get: function () {\r\n                return this._props.Type;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"mode\", {\r\n            get: function () {\r\n                if (!this._props) {\r\n                    return \"unknown\";\r\n                }\r\n                if (this._props.Mode && typeof this._props.Mode === \"string\") {\r\n                    return this._props.Mode.toLowerCase();\r\n                }\r\n                if (this.isActivity) {\r\n                    return \"unknown\";\r\n                }\r\n                if (this._props.Arguments && this._props.Arguments.mode && typeof this._props.Arguments.mode === \"string\") {\r\n                    return this._props.Arguments.mode.toLowerCase();\r\n                }\r\n                var styleAttributes = this._props.WindowStyleAttributes;\r\n                if (styleAttributes) {\r\n                    styleAttributes = styleAttributes.split(\" \").join(\"\");\r\n                    var searchFor = \"mode:\\\"\";\r\n                    var modeIndex = styleAttributes.indexOf(searchFor);\r\n                    if (modeIndex !== -1) {\r\n                        var startModeIndex = modeIndex + searchFor.length;\r\n                        var stopModeIndex = styleAttributes.indexOf(\"\\\"\", startModeIndex);\r\n                        var style = styleAttributes.substr(startModeIndex, stopModeIndex - startModeIndex);\r\n                        if (style && typeof style === \"string\") {\r\n                            return style.toLowerCase();\r\n                        }\r\n                    }\r\n                }\r\n                return \"flat\";\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ApplicationImpl.prototype.updateFromProps = function (props) {\r\n            var _this = this;\r\n            if (!this._props) {\r\n                this._props = { Name: props.Name };\r\n            }\r\n            Object.keys(props).forEach(function (key) {\r\n                _this._props[key] = props[key];\r\n            });\r\n        };\r\n        ApplicationImpl.prototype.start = function (context, options) {\r\n            var _this = this;\r\n            var name = this._name;\r\n            var startTimeout = 10000;\r\n            return new Promise(function (resolve, reject) {\r\n                options = options || {};\r\n                context = context || {};\r\n                var waitForAGMInstance = true;\r\n                var waitForApplicationInstance = function (id) {\r\n                    var check = function () {\r\n                        var filtered = _this._appManager.instances().filter(function (i) { return i.id === id; });\r\n                        var result;\r\n                        if (filtered.length === 2) {\r\n                            result = filtered[0].isActivityInstance ? filtered[0] : filtered[1];\r\n                        }\r\n                        else {\r\n                            result = filtered[0];\r\n                        }\r\n                        if (result && waitForAGMInstance) {\r\n                            if (result.agm) {\r\n                                return result;\r\n                            }\r\n                            else {\r\n                                return undefined;\r\n                            }\r\n                        }\r\n                        return result;\r\n                    };\r\n                    var unsub;\r\n                    var timeout = setTimeout(function () {\r\n                        if (unsub) {\r\n                            unsub();\r\n                        }\r\n                        reject(\"timeout\");\r\n                    }, startTimeout);\r\n                    var waitFunc = function (i) {\r\n                        if (i.id !== id) {\r\n                            return;\r\n                        }\r\n                        if (unsub) {\r\n                            unsub();\r\n                            unsub = undefined;\r\n                        }\r\n                        clearTimeout(timeout);\r\n                        setTimeout(function () {\r\n                            resolve(check());\r\n                        }, 1);\r\n                    };\r\n                    {\r\n                        unsub = _this._appManager.onInstanceAgmServerReady(waitFunc);\r\n                    }\r\n                    var instances = check();\r\n                    if (instances) {\r\n                        if (unsub) {\r\n                            unsub();\r\n                            unsub = undefined;\r\n                        }\r\n                        clearTimeout(timeout);\r\n                        resolve(instances);\r\n                    }\r\n                };\r\n                _this._agm.invoke(StartApplicationMethodName, {\r\n                    Name: name,\r\n                    Context: context,\r\n                    Options: options\r\n                }, \"best\", {\r\n                    methodResponseTimeoutMs: startTimeout\r\n                }, function (result) {\r\n                    var acsResult = result.returned && result.returned.Instance_0\r\n                        ? result.returned.Instance_0\r\n                        : result.returned;\r\n                    if (acsResult && acsResult.Id) {\r\n                        if (_this._appManager.mode === \"startOnly\") {\r\n                            var instance = _this._appManager.handleInstanceStarted(acsResult);\r\n                            resolve(instance);\r\n                        }\r\n                        else {\r\n                            waitForApplicationInstance(acsResult.Id);\r\n                        }\r\n                    }\r\n                    else {\r\n                        resolve(undefined);\r\n                    }\r\n                }, function (err) {\r\n                    reject(err);\r\n                });\r\n            });\r\n        };\r\n        ApplicationImpl.prototype.onInstanceStarted = function (callback) {\r\n            this._registry.add(\"instanceStarted\", callback);\r\n        };\r\n        ApplicationImpl.prototype.onInstanceStopped = function (callback) {\r\n            this._registry.add(\"instanceStopped\", callback);\r\n        };\r\n        ApplicationImpl.prototype.onAvailable = function (callback) {\r\n            this._registry.add(\"appAvailable\", callback);\r\n        };\r\n        ApplicationImpl.prototype.onUnavailable = function (callback) {\r\n            this._registry.add(\"appUnavailable\", callback);\r\n        };\r\n        ApplicationImpl.prototype.onChanged = function (callback) {\r\n            this._registry.add(\"appChanged\", callback);\r\n        };\r\n        ApplicationImpl.prototype.onRemoved = function (callback) {\r\n            this._registry.add(\"appRemoved\", callback);\r\n        };\r\n        return ApplicationImpl;\r\n    }());\n\n    var InstanceImpl = (function () {\r\n        function InstanceImpl(_id, _appName, _appManager, _agm, _activities, _windows, startFailed) {\r\n            var _this = this;\r\n            this._id = _id;\r\n            this._appName = _appName;\r\n            this._appManager = _appManager;\r\n            this._agm = _agm;\r\n            this._activities = _activities;\r\n            this._windows = _windows;\r\n            this.onAgmReady = this._addToRegistry(\"agmReady\");\r\n            this.onStopped = this._addToRegistry(\"stopped\");\r\n            this._registry = lib$2();\r\n            if (startFailed) {\r\n                return;\r\n            }\r\n            this._unsubscribeInstanceStopped = this._appManager.onInstanceStopped(function (instance) {\r\n                if (instance.id !== _this._id) {\r\n                    return;\r\n                }\r\n                _this._registry.execute(\"stopped\", instance);\r\n            });\r\n            this._unsubscribeInstanceAgmServerReady = this._appManager.onInstanceAgmServerReady(function (instance) {\r\n                if (instance.id !== _this._id) {\r\n                    return;\r\n                }\r\n                _this._registry.execute(\"agmReady\", instance);\r\n            });\r\n        }\r\n        Object.defineProperty(InstanceImpl.prototype, \"id\", {\r\n            get: function () { return this._id; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"application\", {\r\n            get: function () { return this._appManager.application(this._appName); },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"activity\", {\r\n            get: function () {\r\n                var _this = this;\r\n                if (!this._activities) {\r\n                    throw new Error(\"This method requires glue.activities library to be enabled.\");\r\n                }\r\n                return this._activities.all.instances.get()\r\n                    .filter(function (activityInstance) { return activityInstance.id === _this._activityId; })[0];\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"isActivityOwner\", {\r\n            get: function () { return this._isActivityOwner; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"activityInstances\", {\r\n            get: function () {\r\n                var _this = this;\r\n                return this._appManager.instances().filter(function (i) {\r\n                    return i.application.type !== \"activity\" &&\r\n                        i.activityId &&\r\n                        i.activityId === _this._activityId;\r\n                });\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"activityOwnerInstance\", {\r\n            get: function () {\r\n                if (!this._activityId) {\r\n                    return undefined;\r\n                }\r\n                return this.activityInstances.filter(function (inst) { var _a; return (_a = inst) === null || _a === void 0 ? void 0 : _a.isActivityOwner; })[0];\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"window\", {\r\n            get: function () {\r\n                var _this = this;\r\n                if (!this._windows) {\r\n                    throw new Error(\"This method requires glue.windows library to be enabled.\");\r\n                }\r\n                var win = this._windows.list().filter(function (w) { return w.id === _this._id; })[0];\r\n                if (!win && this.activity && this.activityOwnerInstance) {\r\n                    win = this.activityOwnerInstance.window;\r\n                }\r\n                return win;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"context\", {\r\n            get: function () {\r\n                var _a, _b, _c;\r\n                return _c = (_a = this._startUpContext, (_a !== null && _a !== void 0 ? _a : (_b = this.window) === null || _b === void 0 ? void 0 : _b.context)), (_c !== null && _c !== void 0 ? _c : {});\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"title\", {\r\n            get: function () { return this._title; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"isActivityInstance\", {\r\n            get: function () { return this._isActivityInstance; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"activityId\", {\r\n            get: function () { return this._activityId; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"inActivity\", {\r\n            get: function () { return this._inActivity; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"isSingleWindowApp\", {\r\n            get: function () { return !this._inActivity; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"agm\", {\r\n            get: function () {\r\n                return this._agmInstance;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        InstanceImpl.prototype.updateFromProps = function (props) {\r\n            this._startUpContext = props.Context;\r\n            this._title = props.Title;\r\n            this._isActivityInstance = false;\r\n            if (props.ActivityId && props.ActivityId !== \"\") {\r\n                this._activityId = props.ActivityId;\r\n                this._isActivityInstance = true;\r\n            }\r\n            this._isActivityOwner = props.IsActivityOwner;\r\n            if (!this._activityId && this._startUpContext && this._startUpContext.activityId) {\r\n                this._activityId = this._startUpContext.activityId;\r\n            }\r\n            this._inActivity = Boolean(this._activityId);\r\n            this.updateAgmInstanceFromProps(props);\r\n        };\r\n        InstanceImpl.prototype.updateAgmInstanceFromProps = function (props) {\r\n            if (!props.AgmServers) {\r\n                return;\r\n            }\r\n            if (props.GD3) {\r\n                var agmInstances = props.AgmServers;\r\n                if (agmInstances) {\r\n                    this._agmInstance = agmInstances[0];\r\n                }\r\n            }\r\n            else {\r\n                var gdAgmServers = props.AgmServers;\r\n                var propsAgmServer = Object.keys(gdAgmServers)[0];\r\n                if (!propsAgmServer) {\r\n                    return;\r\n                }\r\n                var propsAgm = gdAgmServers[propsAgmServer];\r\n                this._agmInstance = {\r\n                    machine: propsAgm.machineName,\r\n                    user: propsAgm.userName,\r\n                    environment: propsAgm.environment,\r\n                    application: propsAgm.applicationName,\r\n                };\r\n            }\r\n        };\r\n        InstanceImpl.prototype.stop = function () {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                var unsubscribe = _this._appManager.onInstanceStopped(function (instance) {\r\n                    if (instance.id === _this._id) {\r\n                        unsubscribe();\r\n                        resolve();\r\n                    }\r\n                });\r\n                _this._agm.invoke(StopApplicationMethodName, {\r\n                    Name: _this._appName,\r\n                    Id: _this._id\r\n                })\r\n                    .then(function () {\r\n                    if (_this._appManager.mode === \"startOnly\") {\r\n                        _this._appManager.handleInstanceStopped({\r\n                            Name: _this._appName,\r\n                            Id: _this.id,\r\n                            Context: undefined,\r\n                            Title: undefined,\r\n                            ActivityId: undefined,\r\n                            IsActivityOwner: undefined,\r\n                            AgmServers: undefined\r\n                        });\r\n                        resolve();\r\n                    }\r\n                })\r\n                    .catch(function (err) { return reject(err); });\r\n            });\r\n        };\r\n        InstanceImpl.prototype.activate = function () {\r\n            return this._agm.invoke(ActivateApplicationMethodName, { Name: this._appName, Id: this._id });\r\n        };\r\n        InstanceImpl.prototype.done = function () {\r\n            this._registry.clear();\r\n            this._unsubscribeInstanceAgmServerReady();\r\n            this._unsubscribeInstanceStopped();\r\n        };\r\n        InstanceImpl.prototype.getContext = function () {\r\n            return Promise.resolve(this.context);\r\n        };\r\n        InstanceImpl.prototype._addToRegistry = function (key) {\r\n            var _this = this;\r\n            return function (callback) {\r\n                _this._registry.add(key, callback);\r\n            };\r\n        };\r\n        return InstanceImpl;\r\n    }());\n\n    var AppManagerImpl = (function () {\r\n        function AppManagerImpl(mode, _agm, _activities, _windows, _logger, _gdMajorVersion) {\r\n            var _this = this;\r\n            this.mode = mode;\r\n            this._agm = _agm;\r\n            this._activities = _activities;\r\n            this._windows = _windows;\r\n            this._logger = _logger;\r\n            this._gdMajorVersion = _gdMajorVersion;\r\n            this._apps = {};\r\n            this._instances = [];\r\n            this._registry = lib$2();\r\n            this.application = function (name) {\r\n                return _this._apps[name];\r\n            };\r\n            this.applications = function () {\r\n                return Object.keys(_this._apps).map(function (k) { return _this._apps[k]; });\r\n            };\r\n            this.instances = function () {\r\n                return _this._instances;\r\n            };\r\n            this.getMyInstance = function () {\r\n                if (_this._gdMajorVersion >= 3) {\r\n                    var instanceId_1 = window.glue42gd.appInstanceId;\r\n                    return _this._instances.filter(function (i) { return i.id === instanceId_1; })[0];\r\n                }\r\n                return undefined;\r\n            };\r\n            this.handleAppAdded = function (props) {\r\n                var id = _this._getAppId(props);\r\n                _this._logger.trace(\"adding app \" + id);\r\n                _this._apps[id] = new ApplicationImpl(_this, id, _this._agm);\r\n                var app = _this._updateAppFromProps(props);\r\n                _this._registry.execute(\"appAdded\", app);\r\n            };\r\n            this.handleAppUpdated = function (props) {\r\n                var app = _this._updateAppFromProps(props);\r\n                _this._registry.execute(\"appChanged\", app);\r\n            };\r\n            this.handleAppRemoved = function (props) {\r\n                var id = _this._getAppId(props);\r\n                _this._logger.trace(\"removing app \" + id);\r\n                var app = _this.application(id);\r\n                _this._instances = _this._instances.filter(function (i) { return i.application.name !== app.name; });\r\n                delete _this._apps[id];\r\n                _this._registry.execute(\"appRemoved\", app);\r\n            };\r\n            this.handleAppReady = function (props) {\r\n                var id = _this._getAppId(props);\r\n                var app = _this._getAppOrThrow(id);\r\n                app.updateFromProps(props);\r\n                if (app.available) {\r\n                    _this._registry.execute(\"appAvailable\", app);\r\n                }\r\n                else {\r\n                    _this._registry.execute(\"appUnavailable\", app);\r\n                }\r\n            };\r\n            this.handleInstanceStarted = function (props) {\r\n                _this._logger.trace(\"started app \" + props.Name + \" \" + props.Id);\r\n                var id = _this._getInstanceId(props);\r\n                var appName = _this._getInstanceAppName(props);\r\n                var instance = new InstanceImpl(id, appName, _this, _this._agm, _this._activities, _this._windows);\r\n                _this._updateInstanceFromProps(instance, props);\r\n                _this._instances.push(instance);\r\n                _this._registry.execute(\"instanceStarted\", instance);\r\n                return instance;\r\n            };\r\n            this.handleInstanceStopped = function (props) {\r\n                _this._logger.trace(\"failed to start app \" + props.Name + \" \" + props.Id);\r\n                var id = _this._getInstanceId(props);\r\n                var appName = _this._getInstanceAppName(props);\r\n                var instance = _this._getInstanceOrThrow(id, appName);\r\n                _this._instances = _this._instances.filter(function (i) { return !_this._matchInstance(i, id, appName); });\r\n                _this._registry.execute(\"instanceStopped\", instance);\r\n                instance.done();\r\n            };\r\n            this.handleInstanceAgmServerReady = function (props) {\r\n                var id = _this._getInstanceId(props);\r\n                var appName = _this._getInstanceAppName(props);\r\n                var instance = _this._getInstanceOrThrow(id, appName);\r\n                instance.updateAgmInstanceFromProps(props);\r\n                _this._registry.execute(\"instanceAgmServerReady\", instance);\r\n            };\r\n            this.handleInstanceStartFailed = function (props) {\r\n                var id = _this._getInstanceId(props);\r\n                var appName = _this._getInstanceAppName(props);\r\n                var startFailed = true;\r\n                var instance = new InstanceImpl(id, appName, undefined, undefined, undefined, undefined, startFailed);\r\n                _this._updateInstanceFromProps(instance, props);\r\n                _this._registry.execute(\"instanceStartFailed\", instance);\r\n            };\r\n            this.handleInstanceUpdated = function (props) {\r\n                var id = _this._getInstanceId(props);\r\n                var app = _this._getInstanceAppName(props);\r\n                var instance = _this._getInstanceOrThrow(id, app);\r\n                _this._updateInstanceFromProps(instance, props);\r\n            };\r\n            this.onInstanceStarted = function (callback) {\r\n                return _this._registry.add(\"instanceStarted\", callback, _this._instances);\r\n            };\r\n            this.onInstanceStartFailed = function (callback) {\r\n                return _this._registry.add(\"instanceStartFailed\", callback);\r\n            };\r\n            this.onInstanceStopped = function (callback) {\r\n                return _this._registry.add(\"instanceStopped\", callback);\r\n            };\r\n            this.onInstanceUpdated = function (callback) {\r\n                return _this._registry.add(\"instanceChanged\", callback);\r\n            };\r\n            this.onInstanceAgmServerReady = function (callback) {\r\n                return _this._registry.add(\"instanceAgmServerReady\", callback);\r\n            };\r\n            this.onAppAdded = function (callback) {\r\n                return _this._registry.add(\"appAdded\", callback, Object.values(_this._apps));\r\n            };\r\n            this.onAppRemoved = function (callback) {\r\n                return _this._registry.add(\"appRemoved\", callback);\r\n            };\r\n            this.onAppAvailable = function (callback) {\r\n                return _this._registry.add(\"appAvailable\", callback);\r\n            };\r\n            this.onAppUnavailable = function (callback) {\r\n                return _this._registry.add(\"appUnavailable\", callback);\r\n            };\r\n            this.onAppChanged = function (callback) {\r\n                return _this._registry.add(\"appChanged\", callback);\r\n            };\r\n        }\r\n        AppManagerImpl.prototype._getAppOrThrow = function (id) {\r\n            var result = this.application(id);\r\n            if (!result) {\r\n                throw Error(\"app with id \" + id + \" not found\");\r\n            }\r\n            return result;\r\n        };\r\n        AppManagerImpl.prototype._getAppId = function (props) {\r\n            return props.Name;\r\n        };\r\n        AppManagerImpl.prototype._matchInstance = function (instance, id, appName) {\r\n            return instance.id === id && instance.application.name === appName;\r\n        };\r\n        AppManagerImpl.prototype._getInstanceByIdAndName = function (id, appName) {\r\n            var _this = this;\r\n            return this._instances.filter(function (i) { return _this._matchInstance(i, id, appName); })[0];\r\n        };\r\n        AppManagerImpl.prototype._getInstanceOrThrow = function (id, appName) {\r\n            var result = this._getInstanceByIdAndName(id, appName);\r\n            if (!result) {\r\n                throw Error(\"instance with id \" + id + \" not found\");\r\n            }\r\n            return result;\r\n        };\r\n        AppManagerImpl.prototype._getInstanceId = function (props) {\r\n            return props.Id;\r\n        };\r\n        AppManagerImpl.prototype._getInstanceAppName = function (props) {\r\n            return props.Name;\r\n        };\r\n        AppManagerImpl.prototype._updateAppFromProps = function (props) {\r\n            var id = this._getAppId(props);\r\n            this._logger.trace(\"updating app with  + \" + id + \", \" + props);\r\n            var app = this._getAppOrThrow(id);\r\n            app.updateFromProps(props);\r\n            return app;\r\n        };\r\n        AppManagerImpl.prototype._updateInstanceFromProps = function (instance, props) {\r\n            this._logger.trace(\"updating instance with \" + this._getInstanceId(props) + \" for app \" + this._getInstanceAppName(props));\r\n            instance.updateFromProps(props);\r\n        };\r\n        return AppManagerImpl;\r\n    }());\n\n    function promisify$2(promise, successCallback, errorCallback) {\r\n        var isFunction = function (arg) {\r\n            return !!(arg && arg.constructor && arg.call && arg.apply);\r\n        };\r\n        if (!isFunction(successCallback) && !isFunction(errorCallback)) {\r\n            return promise;\r\n        }\r\n        if (!isFunction(successCallback)) {\r\n            successCallback = function () {\r\n            };\r\n        }\r\n        else if (!isFunction(errorCallback)) {\r\n            errorCallback = function () {\r\n            };\r\n        }\r\n        promise.then(successCallback, errorCallback);\r\n    }\r\n    var EntitlementsImpl = (function () {\r\n        function EntitlementsImpl(_agm) {\r\n            var _this = this;\r\n            this._agm = _agm;\r\n            this._registry = lib$2();\r\n            this.handleBranchModified = function (branch) {\r\n                _this._registry.execute(\"branchChanged\", branch);\r\n            };\r\n            this.handleBranchesModified = function (branches) {\r\n                _this._registry.execute(\"branchesChanged\", branches);\r\n            };\r\n            this.getRegion = function (success, error) {\r\n                return promisify$2(_this._agmInvoke(GetConfigurationRegionMethodName, function (e) { return e.returned.Region; }), success, error);\r\n            };\r\n            this.getBranches = function (success, error) {\r\n                var promise = _this._agmInvoke(GetBranchesMethodName, function (e) {\r\n                    var obj = e.returned.Branches;\r\n                    return Object.keys(obj).map(function (key) { return obj[key]; });\r\n                });\r\n                return promisify$2(promise, success, error);\r\n            };\r\n            this.getCurrentBranch = function (success, error) {\r\n                var promise = _this._agmInvoke(GetCurrentBranchMethodName, function (e) { return e.returned.Branch; }, undefined);\r\n                return promisify$2(promise, success, error);\r\n            };\r\n            this.setRegion = function (region, success, error) {\r\n                var promise = _this._agmInvoke(SetConfigurationRegionMethodName, function (e) { return e.returned.ResultMessage; }, { Region: region });\r\n                return promisify$2(promise, success, error);\r\n            };\r\n            this.setCurrentBranch = function (branch, success, error) {\r\n                var promise = _this._agmInvoke(SetCurrentBranchMethodName, function (e) { return e.returned.ResultMessage; }, { Branch: branch });\r\n                return promisify$2(promise, success, error);\r\n            };\r\n            this.currentUser = function (success, error) {\r\n                var promise = _this._agmInvoke(GetUserMethodName);\r\n                return promisify$2(promise, success, error);\r\n            };\r\n            this.getFunctionalEntitlement = function (funct, success, error) {\r\n                var promise = _this._agmInvoke(GetFunctionalEntitlementMethodName, function (e) { return e.returned.Entitlement; }, { Function: funct });\r\n                return promisify$2(promise, success, error);\r\n            };\r\n            this.getFunctionalEntitlementBranch = function (funct, branch, success, error) {\r\n                var promise = _this._agmInvoke(GetFunctionalEntitlementMethodName, function (e) { return e.returned.Entitlement; }, { Function: funct, Branch: branch });\r\n                return promisify$2(promise, success, error);\r\n            };\r\n            this.canI = function (func, success, error) {\r\n                var promise = _this._agmInvoke(CanIMethodName, function (e) { return e.returned.Result; }, { Function: func });\r\n                return promisify$2(promise, success, error);\r\n            };\r\n            this.canIBranch = function (func, branch, success, error) {\r\n                var promise = _this._agmInvoke(CanIMethodName, function (e) { return e.returned.Result; }, { Function: func, Branch: branch });\r\n                return promisify$2(promise, success, error);\r\n            };\r\n            this.onBranchesChanged = function (callback) {\r\n                _this._registry.add(\"branchesChanged\", callback);\r\n            };\r\n            this.onBranchChanged = function (callback) {\r\n                _this._registry.add(\"branchChanged\", callback);\r\n            };\r\n            this.exit = function (options) {\r\n                return _this._agmInvoke(ShutdownMethodName, null, options);\r\n            };\r\n            this.restart = function (options) {\r\n                return _this._agmInvoke(RestartMethodName, null, options);\r\n            };\r\n            this._agmInvoke = function (method, transformFunction, args) {\r\n                args = args || {};\r\n                return new Promise(function (resolve, reject) {\r\n                    var errHandler = function (error) { return reject(error); };\r\n                    _this._agm.invoke(method, args)\r\n                        .then(function (result) {\r\n                        if (!transformFunction) {\r\n                            transformFunction = function (d) { return d.returned; };\r\n                        }\r\n                        resolve(transformFunction(result));\r\n                    })\r\n                        .catch(errHandler);\r\n                });\r\n            };\r\n        }\r\n        return EntitlementsImpl;\r\n    }());\n\n    function snapshot(agm, appManager) {\r\n        return new Promise(function (resolve, reject) {\r\n            agm.invoke(GetApplicationsMethodName, { skipIcon: true })\r\n                .then(function (response) {\r\n                var data = response.returned;\r\n                if (!data) {\r\n                    resolve();\r\n                }\r\n                var applications = data.applications;\r\n                if (!applications) {\r\n                    resolve();\r\n                }\r\n                objectValues(applications).map(function (item) { return appManager.handleAppAdded(item); });\r\n                resolve();\r\n            })\r\n                .catch(function (err) { return reject(\"Error getting application snapshot: \" + err.message); });\r\n        });\r\n    }\n\n    var OnBranchChangedEvent = \"OnBranchChanged\";\r\n    var OnBranchesModifiedEvent = \"OnBranchesModified\";\r\n    var OnApplicationAddedEvent = \"OnApplicationAdded\";\r\n    var OnApplicationRemovedEvent = \"OnApplicationRemoved\";\r\n    var OnApplicationChangedEvent = \"OnApplicationChanged\";\r\n    var OnApplicationReadyEvent = \"OnApplicationReady\";\r\n    var OnApplicationStartedEvent = \"OnApplicationStarted\";\r\n    var OnApplicationAgmServerReadyEvent = \"OnApplicationAgmServerReady\";\r\n    var OnApplicationUpdatedEvent = \"OnApplicationUpdated\";\r\n    var OnApplicationStoppedEvent = \"OnApplicationStopped\";\r\n    var OnApplicationStartFailedEvent = \"OnApplicationStartFailed\";\n\n    function createDataSubscription(agm, applications, entitlements, skipIcons) {\r\n        var subscription;\r\n        var start = function () {\r\n            var resolveFunc;\r\n            var rejectFunc;\r\n            var resultPromise = new Promise(function (resolve, reject) {\r\n                resolveFunc = resolve;\r\n                rejectFunc = reject;\r\n            });\r\n            agm.subscribe(OnEventMethodName, { arguments: { skipIcon: skipIcons }, waitTimeoutMs: 10000 })\r\n                .then(function (s) {\r\n                subscription = s;\r\n                subscription.onData(function (streamData) {\r\n                    var events = streamData.data;\r\n                    objectValues(events[OnApplicationAddedEvent])\r\n                        .map(function (item) { return applications.handleAppAdded(item); });\r\n                    objectValues(events[OnApplicationChangedEvent])\r\n                        .map(function (item) { return applications.handleAppUpdated(item); });\r\n                    objectValues(events[OnApplicationRemovedEvent])\r\n                        .map(function (item) { return applications.handleAppRemoved(item); });\r\n                    objectValues(events[OnApplicationReadyEvent])\r\n                        .map(function (item) { return applications.handleAppReady(item); });\r\n                    objectValues(events[OnApplicationStartedEvent])\r\n                        .map(function (item) { return applications.handleInstanceStarted(item); });\r\n                    objectValues(events[OnApplicationStartFailedEvent])\r\n                        .map(function (item) { return applications.handleInstanceStartFailed(item); });\r\n                    objectValues(events[OnApplicationStoppedEvent])\r\n                        .map(function (item) { return applications.handleInstanceStopped(item); });\r\n                    objectValues(events[OnApplicationUpdatedEvent])\r\n                        .map(function (item) { return applications.handleInstanceUpdated(item); });\r\n                    objectValues(events[OnApplicationAgmServerReadyEvent])\r\n                        .map(function (item) { return applications.handleInstanceAgmServerReady(item); });\r\n                    objectValues(events[OnBranchChangedEvent])\r\n                        .map(function (item) { return entitlements.handleBranchModified(item); });\r\n                    objectValues(events[OnBranchesModifiedEvent])\r\n                        .map(function (item) { return entitlements.handleBranchesModified(item); });\r\n                    resolveFunc();\r\n                });\r\n                subscription.onFailed(function (err) { return rejectFunc(err); });\r\n            })\r\n                .catch(function (err) { return rejectFunc(\"Error subscribing for \" + OnEventMethodName + \" stream. Err: \" + err); });\r\n            return resultPromise;\r\n        };\r\n        var stop = function () {\r\n            if (subscription) {\r\n                subscription.close();\r\n            }\r\n        };\r\n        return {\r\n            start: start,\r\n            stop: stop\r\n        };\r\n    }\n\n    var AppManagerFactory = (function (config) {\r\n        if (!config) {\r\n            throw Error(\"config not set\");\r\n        }\r\n        if (!config.agm) {\r\n            throw Error(\"config.agm is missing\");\r\n        }\r\n        var START_ONLY = \"startOnly\";\r\n        var SKIP_ICONS = \"skipIcons\";\r\n        var FULL = \"full\";\r\n        var mode = config.mode || START_ONLY;\r\n        if (mode !== START_ONLY && mode !== SKIP_ICONS && mode !== FULL) {\r\n            throw new Error(\"Invalid mode for appManager lib - \" + mode + \" is not supported\");\r\n        }\r\n        var activities = config.activities;\r\n        var agm = config.agm;\r\n        var logger = config.logger;\r\n        var windows = config.windows;\r\n        var appManager = new AppManagerImpl(mode, agm, activities, windows, logger.subLogger(\"applications\"), config.gdMajorVersion);\r\n        var entitlements = new EntitlementsImpl(agm);\r\n        var readyPromise;\r\n        if (mode === START_ONLY) {\r\n            readyPromise = snapshot(agm, appManager);\r\n        }\r\n        else {\r\n            var subscription = createDataSubscription(agm, appManager, entitlements, mode === SKIP_ICONS);\r\n            readyPromise = subscription.start();\r\n        }\r\n        var api = {\r\n            ready: function () { return readyPromise; },\r\n            applications: appManager.applications,\r\n            application: appManager.application,\r\n            onAppAdded: appManager.onAppAdded,\r\n            onAppRemoved: appManager.onAppRemoved,\r\n            onAppChanged: appManager.onAppChanged,\r\n            onAppAvailable: appManager.onAppAvailable,\r\n            onAppUnavailable: appManager.onAppUnavailable,\r\n            instances: appManager.instances,\r\n            get myInstance() {\r\n                return appManager.getMyInstance();\r\n            },\r\n            onInstanceStarted: appManager.onInstanceStarted,\r\n            onInstanceStopped: appManager.onInstanceStopped,\r\n            onInstanceUpdated: appManager.onInstanceUpdated,\r\n            onInstanceStartFailed: appManager.onInstanceStartFailed,\r\n            getRegion: entitlements.getRegion,\r\n            getBranches: entitlements.getBranches,\r\n            getCurrentBranch: entitlements.getCurrentBranch,\r\n            getFunctionalEntitlement: entitlements.getFunctionalEntitlement,\r\n            getFunctionalEntitlementBranch: entitlements.getFunctionalEntitlementBranch,\r\n            setCurrentBranch: entitlements.setCurrentBranch,\r\n            setRegion: entitlements.setRegion,\r\n            currentUser: entitlements.currentUser,\r\n            canI: entitlements.canI,\r\n            canIBranch: entitlements.canIBranch,\r\n            onBranchesChanged: entitlements.onBranchesChanged,\r\n            exit: entitlements.exit,\r\n            restart: entitlements.restart\r\n        };\r\n        return api;\r\n    });\n\n    var WindowStore = (function () {\r\n        function WindowStore() {\r\n            this.waitForTimeoutInMilliseconds = 60000;\r\n            this._windows = {};\r\n            this._pendingWindows = {};\r\n            this._pendingWindowsStates = {};\r\n            this._registry = lib$2();\r\n        }\r\n        WindowStore.prototype.init = function (logger) {\r\n            this._logger = logger;\r\n        };\r\n        WindowStore.prototype.get = function (id) {\r\n            return this._windows[id] || this._pendingWindows[id];\r\n        };\r\n        WindowStore.prototype.getIfReady = function (id) {\r\n            return this._windows[id];\r\n        };\r\n        Object.defineProperty(WindowStore.prototype, \"list\", {\r\n            get: function () {\r\n                return this._windows;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        WindowStore.prototype.add = function (window) {\r\n            var isExist = this._pendingWindows[window.API.id] ? true : false;\r\n            if (isExist) {\r\n                this._logger.error(\"trying to add window with id \" + window.API.id + \" from windowStore, which already exists\");\r\n                return;\r\n            }\r\n            var remote = window.API.windowType === \"remote\";\r\n            this._pendingWindows[window.API.id] = window;\r\n            this._pendingWindowsStates[window.API.id] = {\r\n                ready: false,\r\n                urlChanged: remote,\r\n            };\r\n            this._registry.execute(\"on-added\", window);\r\n        };\r\n        WindowStore.prototype.remove = function (window) {\r\n            delete this._windows[window.API.id];\r\n            delete this._pendingWindows[window.API.id];\r\n            delete this._pendingWindowsStates[window.API.id];\r\n            this._registry.execute(\"on-removed\", window);\r\n        };\r\n        WindowStore.prototype.setReadyState = function (windowId) {\r\n            var targetWindowState = this._pendingWindowsStates[windowId];\r\n            if (typeof targetWindowState === \"undefined\") {\r\n                return;\r\n            }\r\n            targetWindowState.ready = true;\r\n            if (targetWindowState.urlChanged) {\r\n                this.markReadyToShow(windowId);\r\n            }\r\n        };\r\n        WindowStore.prototype.setUrlChangedState = function (windowId) {\r\n            var targetWindowState = this._pendingWindowsStates[windowId];\r\n            if (typeof targetWindowState === \"undefined\") {\r\n                return;\r\n            }\r\n            targetWindowState.urlChanged = true;\r\n            if (targetWindowState.ready) {\r\n                this.markReadyToShow(windowId);\r\n            }\r\n        };\r\n        WindowStore.prototype.waitFor = function (id) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                var un;\r\n                var timeout = setTimeout(function () {\r\n                    un();\r\n                    reject(\"waitFor timed out.\");\r\n                }, _this.waitForTimeoutInMilliseconds);\r\n                var win = _this._windows[id];\r\n                if (win) {\r\n                    clearTimeout(timeout);\r\n                    resolve(win);\r\n                }\r\n                else {\r\n                    un = _this.onReadyWindow(function (w) {\r\n                        if (w.API.id !== id) {\r\n                            return;\r\n                        }\r\n                        clearTimeout(timeout);\r\n                        un();\r\n                        resolve(w);\r\n                    });\r\n                }\r\n            });\r\n        };\r\n        WindowStore.prototype.onReadyWindow = function (callback) {\r\n            return this._registry.add(\"on-ready\", callback);\r\n        };\r\n        WindowStore.prototype.onAdded = function (callback) {\r\n            return this._registry.add(\"on-added\", callback);\r\n        };\r\n        WindowStore.prototype.onRemoved = function (callback) {\r\n            return this._registry.add(\"on-removed\", callback);\r\n        };\r\n        WindowStore.prototype.markReadyToShow = function (windowId) {\r\n            if (this._pendingWindows[windowId]) {\r\n                this._windows[windowId] = this._pendingWindows[windowId];\r\n                delete this._pendingWindows[windowId];\r\n                delete this._pendingWindowsStates[windowId];\r\n            }\r\n            this._registry.execute(\"on-ready\", this._windows[windowId]);\r\n        };\r\n        return WindowStore;\r\n    }());\r\n    var windowStore = new WindowStore();\n\n    var Utils$1 = (function () {\r\n        function Utils() {\r\n        }\r\n        Utils.getGDMajorVersion = function () {\r\n            if (typeof window === \"undefined\") {\r\n                return -1;\r\n            }\r\n            if (!window.glueDesktop) {\r\n                return -1;\r\n            }\r\n            if (!window.glueDesktop.version) {\r\n                return -1;\r\n            }\r\n            var ver = Number(window.glueDesktop.version.substr(0, 1));\r\n            return isNaN(ver) ? -1 : ver;\r\n        };\r\n        Utils.callbackifyPromise = function (action, successCallback, errorCallback) {\r\n            var fail = function (error) {\r\n                var msg = error;\r\n                if (error instanceof Error) {\r\n                    msg = error.message;\r\n                }\r\n                if (typeof errorCallback === \"function\") {\r\n                    errorCallback(msg);\r\n                    return;\r\n                }\r\n                return Promise.reject(msg);\r\n            };\r\n            try {\r\n                return action()\r\n                    .then(function (result) {\r\n                    if (typeof successCallback === \"function\") {\r\n                        successCallback(result);\r\n                    }\r\n                    return result;\r\n                })\r\n                    .catch(function (error) {\r\n                    return fail(error);\r\n                });\r\n            }\r\n            catch (err) {\r\n                return fail(err);\r\n            }\r\n        };\r\n        Utils.getMonitor = function (bounds, displays) {\r\n            var _this = this;\r\n            var monitorsSortedByOverlap = displays.map(function (m) {\r\n                var left = m.left, top = m.top, width = m.workingAreaWidth, height = m.workingAreaHeight;\r\n                var overlap = _this.calculateTotalOverlap({ left: left, top: top, width: width, height: height }, bounds);\r\n                return {\r\n                    monitor: m,\r\n                    totalOverlap: overlap\r\n                };\r\n            }).sort(function (a, b) { return b.totalOverlap - a.totalOverlap; });\r\n            return monitorsSortedByOverlap[0].monitor;\r\n        };\r\n        Utils.getDisplayCenterOfScreen = function (a, display) {\r\n            var left = Math.floor(Math.max(display.left, (display.left + (display.workingAreaWidth - a.width) / 2)));\r\n            var top = Math.floor(Math.max(display.top, (display.top + (display.workingAreaHeight - a.height) / 2)));\r\n            return {\r\n                top: top,\r\n                left: left\r\n            };\r\n        };\r\n        Utils.calculateTotalOverlap = function (r1, r2) {\r\n            var r1x = r1.left;\r\n            var r1y = r1.top;\r\n            var r1xMax = r1x + r1.width;\r\n            var r1yMax = r1y + r1.height;\r\n            var r2x = r2.left;\r\n            var r2y = r2.top;\r\n            var r2xMax = r2x + r2.width;\r\n            var r2yMax = r2y + r2.height;\r\n            var xOverlap = Math.max(0, Math.min(r1xMax, r2xMax) - Math.max(r1x, r2x));\r\n            var yOverlap = Math.max(0, Math.min(r1yMax, r2yMax) - Math.max(r1y, r2y));\r\n            return xOverlap * yOverlap;\r\n        };\r\n        return Utils;\r\n    }());\n\n    var windowFactory = (function (id, options, executor, logger, appManagerGetter, agm, registry) {\r\n        var _a;\r\n        var _registry = (registry !== null && registry !== void 0 ? registry : lib$2());\r\n        var _logger = logger.subLogger(\"window \" + id);\r\n        var _name = options.name;\r\n        var _mode = options.mode;\r\n        var _url = options.url;\r\n        var _title = options.title;\r\n        var _context = options.context || {};\r\n        var _bounds = options.bounds;\r\n        var _frameColor = options.frameColor;\r\n        var _focus = options.focus;\r\n        var _neighbours = options.neighbours || {};\r\n        var _groupId = options.groupId;\r\n        var _isGroupHeaderVisible = options.isGroupHeaderVisible;\r\n        var _isTabHeaderVisible = options.isTabHeaderVisible;\r\n        var _isTabSelected = options.isTabSelected;\r\n        var _settings = options.settings;\r\n        var _isVisible = options.isVisible;\r\n        var _isSticky = (_a = options.settings) === null || _a === void 0 ? void 0 : _a.isSticky;\r\n        var isCollapsed = options.isCollapsed;\r\n        var _windowState = options.state;\r\n        var _tabGroupId = options.tabGroupId;\r\n        var _isLocked = options.isLocked;\r\n        var _group;\r\n        var resultWindow;\r\n        var _frameButtons = [];\r\n        var _zoomFactor = options.zoomFactor;\r\n        function close(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.close(resultWindow)\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function navigate(newUrl, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.navigate(resultWindow, newUrl)\r\n                    .then(function () {\r\n                    if (newUrl === _url) {\r\n                        if (typeof success === \"function\") {\r\n                            success(resultWindow);\r\n                        }\r\n                        return resolve(resultWindow);\r\n                    }\r\n                    var un = onUrlChanged(function (url, win) {\r\n                        if (win.id === id && url === win.url) {\r\n                            if (typeof success === \"function\") {\r\n                                success(resultWindow);\r\n                            }\r\n                            un();\r\n                            resolve(resultWindow);\r\n                        }\r\n                    });\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function setStyle(style, success, error) {\r\n            if (!style || Object.keys(style).length === 0 || Object.keys(style).every(function (key) { return !key; })) {\r\n                var errMessage = \"Invalid style arguments: \" + JSON.stringify(style);\r\n                error(errMessage);\r\n                return Promise.reject(new Error(errMessage));\r\n            }\r\n            if (style && style.focus !== undefined) {\r\n                if (typeof style.focus !== \"boolean\") {\r\n                    var errMessage = \"Focus must be boolean. Currently only focus true is supported ! \" + JSON.stringify(style);\r\n                    error(errMessage);\r\n                    return Promise.reject(new Error(errMessage));\r\n                }\r\n                else if (style.focus === false) {\r\n                    _logger.warn(\"Focus false is not supported ! \");\r\n                }\r\n            }\r\n            if (style && style.hidden !== undefined && typeof style.hidden !== \"boolean\") {\r\n                var errMessage = \"Hidden must be boolean ! provided: \" + JSON.stringify(style);\r\n                error(errMessage);\r\n                return Promise.reject(new Error(errMessage));\r\n            }\r\n            return Utils$1.callbackifyPromise(function () { return executor.setStyle(resultWindow, style); }, success, error);\r\n        }\r\n        function resetButtons(buttons, success, error) {\r\n            return Utils$1.callbackifyPromise(function () { return executor.resetButtons(resultWindow, buttons); }, success, error);\r\n        }\r\n        function setOnTop(onTop, success, error) {\r\n            if (this.onTop === onTop) {\r\n                var errMessage = \"OnTop setting is already set to '\" + onTop + \"'\";\r\n                error(errMessage);\r\n                return Promise.reject(new Error(errMessage));\r\n            }\r\n            return Utils$1.callbackifyPromise(function () { return executor.setOnTop(resultWindow, onTop); }, success, error);\r\n        }\r\n        function setSizeConstraints(constraints, success, error) {\r\n            if (!constraints || Object.keys(constraints).every(function (value) { return value === undefined; })) {\r\n                var errMessage = \"Invalid Constraints: \" + JSON.stringify(constraints);\r\n                error(errMessage);\r\n                return Promise.reject(new Error(errMessage));\r\n            }\r\n            return Utils$1.callbackifyPromise(function () { return executor.setSizeConstraints(resultWindow, constraints); }, success, error);\r\n        }\r\n        function setTitle(newTitle, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.setTitle(resultWindow, newTitle)\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function setSticky(isSticky, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.setSticky(resultWindow, isSticky)\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function moveResize(dimensions, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                var resolveImmediately = areBoundsEqual(dimensions, _bounds);\r\n                var isDone = false;\r\n                var done = function () {\r\n                    if (isDone) {\r\n                        return;\r\n                    }\r\n                    isDone = true;\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                    if (unsubscribeBoundsChanged) {\r\n                        unsubscribeBoundsChanged();\r\n                        unsubscribeBoundsChanged = undefined;\r\n                    }\r\n                    if (resolveTimeout) {\r\n                        clearTimeout(resolveTimeout);\r\n                        resolveTimeout = undefined;\r\n                    }\r\n                };\r\n                var resolveTimeout;\r\n                var unsubscribeBoundsChanged;\r\n                if (!resolveImmediately) {\r\n                    unsubscribeBoundsChanged = onBoundsChanged(function (win) {\r\n                        if (win.id !== resultWindow.id) {\r\n                            return;\r\n                        }\r\n                        if (!areBoundsEqual(dimensions, win.bounds)) {\r\n                            return;\r\n                        }\r\n                        done();\r\n                    });\r\n                }\r\n                executor.moveResize(resultWindow, dimensions)\r\n                    .then(function () {\r\n                    if (resolveImmediately) {\r\n                        done();\r\n                        return;\r\n                    }\r\n                    resolveTimeout = setTimeout(function () {\r\n                        done();\r\n                    }, 1000);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function addFrameButton(buttonInfo, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                if (typeof buttonInfo === \"undefined\") {\r\n                    if (typeof error === \"function\") {\r\n                        error(\"No button info\");\r\n                        return;\r\n                    }\r\n                    reject(\"No button info\");\r\n                    return;\r\n                }\r\n                if (buttonInfo.buttonId === undefined) {\r\n                    if (typeof error === \"function\") {\r\n                        error(\"No buttonId\");\r\n                        return;\r\n                    }\r\n                    reject(\"No buttonId\");\r\n                    return;\r\n                }\r\n                if (buttonInfo.imageBase64 === undefined) {\r\n                    if (typeof error === \"function\") {\r\n                        error(\"No imageBase64\");\r\n                        return;\r\n                    }\r\n                    reject(\"No imageBase64\");\r\n                    return;\r\n                }\r\n                executor.addFrameButton(resultWindow, buttonInfo)\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function removeFrameButton(buttonId, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                if (buttonId === undefined || buttonId === \"\") {\r\n                    if (typeof error === \"function\") {\r\n                        error(\"No buttonId\");\r\n                        return;\r\n                    }\r\n                    reject(\"No buttonId\");\r\n                    return;\r\n                }\r\n                executor.removeFrameButton(resultWindow, buttonId)\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function activate(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.activate(resultWindow)\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function focus(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.focus(resultWindow)\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function maximizeRestore(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                var currEvent = _windowState === \"normal\" ? onMaximized : onNormal;\r\n                executor.maximizeRestore(resultWindow)\r\n                    .then(function () {\r\n                    var un = currEvent(function () {\r\n                        if (typeof success === \"function\") {\r\n                            success(resultWindow);\r\n                        }\r\n                        if (un) {\r\n                            un();\r\n                        }\r\n                        resolve(resultWindow);\r\n                    });\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function maximize(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.maximize(resultWindow)\r\n                    .then(function () {\r\n                    if (_windowState === \"maximized\") {\r\n                        if (typeof success === \"function\") {\r\n                            success(resultWindow);\r\n                        }\r\n                        return resolve(resultWindow);\r\n                    }\r\n                    var un = onMaximized(function (win) {\r\n                        if (win.id === id && win.state === \"maximized\") {\r\n                            if (typeof success === \"function\") {\r\n                                success(resultWindow);\r\n                            }\r\n                            un();\r\n                            resolve(resultWindow);\r\n                        }\r\n                    });\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function restore(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.restore(resultWindow)\r\n                    .then(function () {\r\n                    if (_windowState === \"normal\") {\r\n                        if (typeof success === \"function\") {\r\n                            success(resultWindow);\r\n                        }\r\n                        return resolve(resultWindow);\r\n                    }\r\n                    var un = onNormal(function (win) {\r\n                        if (id === win.id && win.state === \"normal\") {\r\n                            if (typeof success === \"function\") {\r\n                                success(resultWindow);\r\n                            }\r\n                            un();\r\n                            resolve(resultWindow);\r\n                        }\r\n                    });\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function minimize(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.minimize(resultWindow)\r\n                    .then(function () {\r\n                    if (_windowState === \"minimized\") {\r\n                        if (typeof success === \"function\") {\r\n                            success(resultWindow);\r\n                        }\r\n                        return resolve(resultWindow);\r\n                    }\r\n                    var un = onMinimized(function (win) {\r\n                        if (id === win.id && win.state === \"minimized\") {\r\n                            if (typeof success === \"function\") {\r\n                                success(resultWindow);\r\n                            }\r\n                            un();\r\n                            return resolve(resultWindow);\r\n                        }\r\n                    });\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function collapse(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                if (isCollapsed) {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    return resolve(resultWindow);\r\n                }\r\n                executor.collapse(resultWindow)\r\n                    .then(function () {\r\n                    if (isCollapsed) {\r\n                        if (typeof success === \"function\") {\r\n                            success(resultWindow);\r\n                        }\r\n                        return resolve(resultWindow);\r\n                    }\r\n                    var un = onCollapsed(function (win) {\r\n                        if (win.id === id) {\r\n                            if (typeof success === \"function\") {\r\n                                success(resultWindow);\r\n                            }\r\n                            un();\r\n                            resolve(resultWindow);\r\n                        }\r\n                    });\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function expand(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                if (!isCollapsed) {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    return resolve(resultWindow);\r\n                }\r\n                executor.expand(resultWindow)\r\n                    .then(function () {\r\n                    if (!isCollapsed) {\r\n                        if (typeof success === \"function\") {\r\n                            success(resultWindow);\r\n                        }\r\n                        return resolve(resultWindow);\r\n                    }\r\n                    var un = onExpanded(function (win) {\r\n                        if (win.id === id) {\r\n                            if (typeof success === \"function\") {\r\n                                success(resultWindow);\r\n                            }\r\n                            un();\r\n                            resolve(resultWindow);\r\n                        }\r\n                    });\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function toggleCollapse(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                var currEvent = isCollapsed ? onExpanded : onCollapsed;\r\n                executor.toggleCollapse(resultWindow)\r\n                    .then(function () {\r\n                    currEvent(function (win) {\r\n                        if (win.id === id) {\r\n                            if (typeof success === \"function\") {\r\n                                success(resultWindow);\r\n                            }\r\n                            resolve(resultWindow);\r\n                        }\r\n                    });\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function snap(target, direction, success, error) {\r\n            var targetWindowGroup;\r\n            if (!target) {\r\n                return Promise.reject(\"Please specify a target window! calledWith: \" + target);\r\n            }\r\n            if (typeof target === \"string\") {\r\n                var targetWindow = windowStore.get(target);\r\n                if (!targetWindow) {\r\n                    return Promise.reject(new Error(\"Invalid target parameter or no such window. Invoked with:  \" + target));\r\n                }\r\n                targetWindowGroup = targetWindow.API.group;\r\n            }\r\n            else {\r\n                targetWindowGroup = target.group;\r\n            }\r\n            return Promise.all([\r\n                waitForMyWindowToJoinTargetGroup(targetWindowGroup),\r\n                executor.snap(resultWindow, target, direction)\r\n            ])\r\n                .then(function () {\r\n                if (typeof success === \"function\") {\r\n                    success(resultWindow);\r\n                }\r\n                return resultWindow;\r\n            })\r\n                .catch(function (e) {\r\n                if (typeof error === \"function\") {\r\n                    error(e);\r\n                }\r\n                return e;\r\n            });\r\n        }\r\n        function waitForMyWindowToJoinTargetGroup(targetGroup) {\r\n            return new Promise(function (resolve, reject) {\r\n                var unsub = targetGroup.onWindowAdded(function (_, window) {\r\n                    if (resultWindow.id === window.id) {\r\n                        unsub();\r\n                        resolve();\r\n                    }\r\n                });\r\n            });\r\n        }\r\n        function attachTab(tab, index, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                var sourceWindowId;\r\n                var targetWindowId = resultWindow.id;\r\n                var errorMessage = \"Invalid tab parameter - should be an object with property id or a string. Invoked for source window id:\" + resultWindow.id;\r\n                if (!tab) {\r\n                    reject(errorMessage);\r\n                    return;\r\n                }\r\n                if (typeof tab === \"string\") {\r\n                    sourceWindowId = tab;\r\n                }\r\n                else if (typeof tab.id !== \"undefined\") {\r\n                    sourceWindowId = tab.id;\r\n                }\r\n                else {\r\n                    reject(errorMessage);\r\n                    return;\r\n                }\r\n                var argsForSend = {\r\n                    sourceWindowId: sourceWindowId,\r\n                    targetWindowId: targetWindowId,\r\n                };\r\n                if (index) {\r\n                    argsForSend.index = index;\r\n                }\r\n                var sourceWin = windowStore.get(argsForSend.sourceWindowId).API;\r\n                var un = sourceWin.onAttached(function (win) {\r\n                    if (win.id === sourceWin.id) {\r\n                        if (typeof success === \"function\") {\r\n                            success(resultWindow);\r\n                        }\r\n                        un();\r\n                        resolve(resultWindow);\r\n                    }\r\n                });\r\n                executor.attachTab(resultWindow, argsForSend)\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    un();\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function detachTab(opt, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                var argsForSend = { windowId: resultWindow.id };\r\n                var _options = opt || {};\r\n                if (typeof _options.relativeTo !== \"undefined\") {\r\n                    if (typeof _options.relativeTo === \"string\") {\r\n                        argsForSend.relativeTo = _options.relativeTo;\r\n                    }\r\n                    else if (typeof _options.relativeTo.id !== \"undefined\") {\r\n                        argsForSend.relativeTo = _options.relativeTo.id;\r\n                    }\r\n                    if (typeof _options.relativeDirection !== \"undefined\") {\r\n                        argsForSend.relativeDirection = _options.relativeDirection;\r\n                    }\r\n                    if (typeof _options.width !== \"undefined\") {\r\n                        argsForSend.width = _options.width;\r\n                    }\r\n                    if (typeof _options.height !== \"undefined\") {\r\n                        argsForSend.height = _options.height;\r\n                    }\r\n                }\r\n                if (typeof _options.bounds !== \"undefined\") {\r\n                    argsForSend.bounds = _options.bounds;\r\n                }\r\n                if (typeof _options.hideTabHeader !== \"undefined\") {\r\n                    argsForSend.hideTabHeader = _options.hideTabHeader;\r\n                }\r\n                var visibilityChangeHeard = false;\r\n                var detachedHeard = false;\r\n                var unVisibility = _registry.add(\"frame-attached\", (function (win) {\r\n                    var isVisibilityCorrect = _options.hideTabHeader === undefined || _options.hideTabHeader !== win.isTabHeaderVisible;\r\n                    if (id === win.id && isVisibilityCorrect) {\r\n                        visibilityChangeHeard = true;\r\n                        unVisibility();\r\n                        if (detachedHeard) {\r\n                            if (typeof success === \"function\") {\r\n                                success(resultWindow);\r\n                            }\r\n                            resolve(resultWindow);\r\n                            if (typeof unDetached === \"function\") {\r\n                                unDetached();\r\n                            }\r\n                        }\r\n                    }\r\n                }));\r\n                var unDetached = onDetached(function (win) {\r\n                    if (id === win.id) {\r\n                        detachedHeard = true;\r\n                        unDetached();\r\n                        if (visibilityChangeHeard) {\r\n                            if (typeof success === \"function\") {\r\n                                success(resultWindow);\r\n                            }\r\n                            resolve(resultWindow);\r\n                            if (typeof unVisibility === \"function\") {\r\n                                unVisibility();\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n                executor.detachTab(resultWindow, argsForSend)\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    unDetached();\r\n                    unVisibility();\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function setVisible(toBeVisible, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.setVisible(resultWindow, toBeVisible)\r\n                    .then(function () {\r\n                    var isVisibilityCorrect = toBeVisible === undefined ? _isVisible === true : _isVisible === toBeVisible;\r\n                    if (isVisibilityCorrect) {\r\n                        if (typeof success === \"function\") {\r\n                            success(resultWindow);\r\n                        }\r\n                        return resolve(resultWindow);\r\n                    }\r\n                    var un = onVisibilityChanged(function (win) {\r\n                        isVisibilityCorrect = toBeVisible === undefined ? win.isVisible === true : win.isVisible === toBeVisible;\r\n                        if (win.id === id && isVisibilityCorrect) {\r\n                            if (typeof success === \"function\") {\r\n                                success(resultWindow);\r\n                            }\r\n                            un();\r\n                            resolve(resultWindow);\r\n                        }\r\n                    });\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function showLoader(loader) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.showLoader(resultWindow, loader)\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function hideLoader() {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.hideLoader(resultWindow)\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function updateContext(context, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.updateContext(resultWindow, context)\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function lock(success, error) {\r\n            if (resultWindow.isLocked) {\r\n                if (typeof success === \"function\") {\r\n                    success(resultWindow);\r\n                }\r\n                return Promise.resolve(resultWindow);\r\n            }\r\n            return new Promise(function (resolve, reject) {\r\n                executor.lock(resultWindow)\r\n                    .then(function () { return waitForLockingChanged(); })\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function unlock(success, error) {\r\n            if (!resultWindow.isLocked) {\r\n                if (typeof success === \"function\") {\r\n                    success(resultWindow);\r\n                }\r\n                return Promise.resolve(resultWindow);\r\n            }\r\n            return new Promise(function (resolve, reject) {\r\n                executor.unlock(resultWindow)\r\n                    .then(function () { return waitForLockingChanged(); })\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function waitForLockingChanged() {\r\n            return new Promise(function (resolve) {\r\n                var un = onLockingChanged(function (window) {\r\n                    if (window.id === resultWindow.id) {\r\n                        un();\r\n                        resolve();\r\n                    }\r\n                });\r\n            });\r\n        }\r\n        function getIcon(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.getIcon(resultWindow)\r\n                    .then(function (icon) {\r\n                    if (typeof success === \"function\") {\r\n                        success(icon);\r\n                    }\r\n                    resolve(icon);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function setIcon(base64Image, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.setIcon(resultWindow, base64Image)\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function setFrameColor(frameColor, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.setFrameColor(resultWindow, frameColor)\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function setTabHeaderVisible(toBeTabHeaderVisible, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.setTabHeaderVisible(resultWindow, toBeTabHeaderVisible)\r\n                    .then(function () {\r\n                    if (_isTabHeaderVisible === toBeTabHeaderVisible) {\r\n                        if (typeof success === \"function\") {\r\n                            success(resultWindow);\r\n                        }\r\n                        return resolve(resultWindow);\r\n                    }\r\n                    var un = onTabHeaderVisibilityChanged(function (win) {\r\n                        if (win.id === id && win.isTabHeaderVisible === toBeTabHeaderVisible) {\r\n                            if (typeof success === \"function\") {\r\n                                success(resultWindow);\r\n                            }\r\n                            un();\r\n                            resolve(resultWindow);\r\n                        }\r\n                    });\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function setTabTooltip(tooltip) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    if (!tooltip) {\r\n                        throw new Error(tooltip + \" is null or undefined\");\r\n                    }\r\n                    return [2, executor.setTabTooltip(resultWindow, tooltip)];\r\n                });\r\n            });\r\n        }\r\n        function showPopup(config) {\r\n            return executor.showPopup(resultWindow, config);\r\n        }\r\n        function createFlydown(config) {\r\n            return executor.createFlydown(resultWindow.id, config);\r\n        }\r\n        function setModalState(isModal) {\r\n            return executor.setModalState(resultWindow.id, isModal || false);\r\n        }\r\n        function zoomIn(success, error) {\r\n            return Utils$1.callbackifyPromise(function () {\r\n                return executor.zoomIn(resultWindow);\r\n            }, success, error);\r\n        }\r\n        function zoomOut(success, error) {\r\n            return Utils$1.callbackifyPromise(function () {\r\n                return executor.zoomOut(resultWindow);\r\n            }, success, error);\r\n        }\r\n        function setZoomFactor(zoomFactor, success, error) {\r\n            return Utils$1.callbackifyPromise(function () {\r\n                if (isNaN(zoomFactor)) {\r\n                    throw new Error(\"zoomFactor is not a number\");\r\n                }\r\n                return executor.setZoomFactor(resultWindow, zoomFactor);\r\n            }, success, error);\r\n        }\r\n        function showDevTools() {\r\n            return executor.showDevTools(resultWindow);\r\n        }\r\n        function capture(captureOptions) {\r\n            return executor.capture(resultWindow, captureOptions);\r\n        }\r\n        function flash(suppliedOptions, mode) {\r\n            var flashOptions = {\r\n                shouldFlash: true,\r\n                mode: \"auto\"\r\n            };\r\n            if (typeof suppliedOptions === \"boolean\") {\r\n                flashOptions.shouldFlash = suppliedOptions;\r\n            }\r\n            if (typeof mode !== \"undefined\") {\r\n                flashOptions.mode = mode;\r\n            }\r\n            return executor.flash(resultWindow, flashOptions);\r\n        }\r\n        function print(printOptions) {\r\n            return executor.print(resultWindow, printOptions);\r\n        }\r\n        function printToPDF(printToPDFOptions) {\r\n            return executor.printToPDF(resultWindow, printToPDFOptions);\r\n        }\r\n        function onTitleChanged(callback) {\r\n            callback(resultWindow.title, resultWindow);\r\n            return _registry.add(\"onTitleChanged\", callback);\r\n        }\r\n        function onClose(callback) {\r\n            return _registry.add(\"onClose\", callback);\r\n        }\r\n        function onUrlChanged(callback) {\r\n            return _registry.add(\"onUrlChanged\", callback);\r\n        }\r\n        function onFrameButtonAdded(callback) {\r\n            return _registry.add(\"onFrameButtonAdded\", callback);\r\n        }\r\n        function onFrameButtonRemoved(callback) {\r\n            return _registry.add(\"onFrameButtonRemoved\", callback);\r\n        }\r\n        function onFrameButtonClicked(callback) {\r\n            return _registry.add(\"onFrameButtonClicked\", callback);\r\n        }\r\n        function onCollapsed(callback) {\r\n            if (isCollapsed) {\r\n                callback(resultWindow);\r\n            }\r\n            return _registry.add(\"collapsed\", callback);\r\n        }\r\n        function onExpanded(callback) {\r\n            if (!isCollapsed) {\r\n                callback(resultWindow);\r\n            }\r\n            return _registry.add(\"expanded\", callback);\r\n        }\r\n        function onMaximized(callback) {\r\n            if (_windowState === \"maximized\") {\r\n                callback(resultWindow);\r\n            }\r\n            return _registry.add(\"maximized\", callback);\r\n        }\r\n        function onMinimized(callback) {\r\n            if (_windowState === \"minimized\") {\r\n                callback(resultWindow);\r\n            }\r\n            return _registry.add(\"minimized\", callback);\r\n        }\r\n        function onNormal(callback) {\r\n            if (_windowState === \"normal\") {\r\n                callback(resultWindow);\r\n            }\r\n            return _registry.add(\"normal\", callback);\r\n        }\r\n        function onAttached(callback) {\r\n            return _registry.add(\"attached\", callback);\r\n        }\r\n        function onDetached(callback) {\r\n            return _registry.add(\"detached\", callback);\r\n        }\r\n        function onVisibilityChanged(callback) {\r\n            return _registry.add(\"visibility-changed\", callback);\r\n        }\r\n        function onContextUpdated(callback) {\r\n            return _registry.add(\"context-updated\", callback);\r\n        }\r\n        function onLockingChanged(callback) {\r\n            return _registry.add(\"lock-changed\", callback);\r\n        }\r\n        function onBoundsChanged(callback) {\r\n            return _registry.add(\"bounds-changed\", callback);\r\n        }\r\n        function onFocusChanged(callback) {\r\n            return _registry.add(\"focus-changed\", callback);\r\n        }\r\n        function onStickyChanged(callback) {\r\n            return _registry.add(\"sticky-changed\", callback);\r\n        }\r\n        function onFrameColorChanged(callback) {\r\n            return _registry.add(\"frame-color-changed\", callback);\r\n        }\r\n        function onTabHeaderVisibilityChanged(callback) {\r\n            return _registry.add(\"tab-header-visibility-changed\", callback);\r\n        }\r\n        function onWindowAttached(callback) {\r\n            return _registry.add(\"window-attached\", callback);\r\n        }\r\n        function onWindowDetached(callback) {\r\n            return _registry.add(\"window-detached\", callback);\r\n        }\r\n        function onGroupChanged(callback) {\r\n            return _registry.add(\"group-changed\", callback);\r\n        }\r\n        function onTabSelectionChanged(callback) {\r\n            return _registry.add(\"tab-selection-changed\", callback);\r\n        }\r\n        function onClosing(callback) {\r\n            if (!isFunction(callback)) {\r\n                throw new Error(\"callback should be a function\");\r\n            }\r\n            var callbackWrap = function (success, error) {\r\n                var promise = callback();\r\n                if (promise && promise.then) {\r\n                    promise.then(success).catch(error);\r\n                }\r\n                else {\r\n                    success();\r\n                }\r\n            };\r\n            return executor.onClosing(callbackWrap, id);\r\n        }\r\n        function onRefreshing(callback) {\r\n            if (!isFunction(callback)) {\r\n                throw new Error(\"callback should be a function\");\r\n            }\r\n            var callbackWrap = function (success, error, prevent) {\r\n                var promise = callback(prevent);\r\n                if (promise && promise.then) {\r\n                    promise.then(success).catch(error);\r\n                }\r\n                else {\r\n                    success();\r\n                }\r\n            };\r\n            return executor.onRefreshing(callbackWrap, id);\r\n        }\r\n        function onZoomFactorChanged(callback) {\r\n            if (!isFunction(callback)) {\r\n                throw new Error(\"callback should be a function\");\r\n            }\r\n            return _registry.add(\"zoom-factor-changed\", callback);\r\n        }\r\n        function handleTitleChanged(newTitle) {\r\n            _title = newTitle;\r\n            _registry.execute(\"onTitleChanged\", newTitle, resultWindow);\r\n        }\r\n        function handleUrlChanged(newUrl) {\r\n            _url = newUrl;\r\n            _registry.execute(\"onUrlChanged\", newUrl, resultWindow);\r\n        }\r\n        function handleVisibilityChanged(isVisible) {\r\n            if (isVisible === _isVisible) {\r\n                return;\r\n            }\r\n            _isVisible = isVisible;\r\n            _registry.execute(\"visibility-changed\", resultWindow);\r\n        }\r\n        function handleWindowSettingsChanged(settings) {\r\n            _settings = settings;\r\n            _registry.execute(\"settings-changed\", resultWindow);\r\n        }\r\n        function handleContextUpdated(context) {\r\n            _context = context;\r\n            _registry.execute(\"context-updated\", _context, resultWindow);\r\n        }\r\n        function handleWindowClose() {\r\n            if (resultWindow.id === undefined) {\r\n                return;\r\n            }\r\n            resultWindow.id = undefined;\r\n            _registry.execute(\"onClose\", resultWindow);\r\n        }\r\n        function handleFrameButtonAdded(frameButton) {\r\n            var buttonObj = [\"buttonId\", \"imageBase64\", \"order\", \"tooltip\"].reduce(function (memo, k) {\r\n                memo[k] = frameButton[k];\r\n                return memo;\r\n            }, {});\r\n            var frameButtonsIds = _frameButtons.map(function (btn) {\r\n                return btn.buttonId;\r\n            });\r\n            if (frameButtonsIds.indexOf(frameButton.buttonId) === -1) {\r\n                _frameButtons.push(buttonObj);\r\n            }\r\n            _registry.execute(\"onFrameButtonAdded\", buttonObj, resultWindow);\r\n        }\r\n        function handleFrameButtonRemoved(frameButtonId) {\r\n            var button;\r\n            _frameButtons = _frameButtons.reduce(function (memo, btn) {\r\n                if (btn.buttonId === frameButtonId) {\r\n                    button = btn;\r\n                }\r\n                else {\r\n                    memo.push(btn);\r\n                }\r\n                return memo;\r\n            }, []);\r\n            if (button !== undefined) {\r\n                _registry.execute(\"onFrameButtonRemoved\", button, resultWindow);\r\n            }\r\n        }\r\n        function handleFrameButtonClicked(frameButton) {\r\n            var button = _frameButtons.filter(function (btn) {\r\n                return btn.buttonId === frameButton.buttonId;\r\n            });\r\n            if (button.length > 0) {\r\n                _registry.execute(\"onFrameButtonClicked\", button[0], resultWindow);\r\n            }\r\n        }\r\n        function handleWindowChangeState(state) {\r\n            if (state === \"collapsed\") {\r\n                isCollapsed = true;\r\n            }\r\n            else if (state === \"expanded\") {\r\n                isCollapsed = false;\r\n            }\r\n            else {\r\n                _windowState = state;\r\n            }\r\n            _registry.execute(state, resultWindow);\r\n        }\r\n        function handleFrameIsLockedChanged(isLocked) {\r\n            _isLocked = isLocked;\r\n            _registry.execute(\"lock-changed\", resultWindow);\r\n        }\r\n        function handleBoundsChanged(bounds) {\r\n            if (_bounds.top === bounds.top && _bounds.left === bounds.left && _bounds.width === bounds.width && _bounds.height === bounds.height) {\r\n                return;\r\n            }\r\n            _bounds.top = bounds.top;\r\n            _bounds.left = bounds.left;\r\n            _bounds.width = bounds.width;\r\n            _bounds.height = bounds.height;\r\n            _registry.execute(\"bounds-changed\", resultWindow);\r\n        }\r\n        function handleFocusChanged(isFocused) {\r\n            _focus = isFocused;\r\n            _registry.execute(\"focus-changed\", resultWindow);\r\n        }\r\n        function handleIsStickyChanged(isSticky) {\r\n            _isSticky = isSticky;\r\n            _registry.execute(\"sticky-changed\", isSticky, resultWindow);\r\n        }\r\n        function handleFrameColorChanged(frameColor) {\r\n            _frameColor = frameColor;\r\n            _registry.execute(\"frame-color-changed\", resultWindow);\r\n        }\r\n        function handleFrameAttached(tabGroupId, isTabHeaderVisible) {\r\n            _tabGroupId = tabGroupId;\r\n            _isTabHeaderVisible = isTabHeaderVisible;\r\n            _registry.execute(\"frame-attached\", resultWindow);\r\n        }\r\n        function handleCompositionChanged(neighbours, groupId) {\r\n            _neighbours = neighbours || {};\r\n            _groupId = groupId;\r\n        }\r\n        function handleGroupHeaderVisibilityChanged(isGroupHeaderVisible) {\r\n            _isGroupHeaderVisible = isGroupHeaderVisible;\r\n        }\r\n        function handleTabHeaderVisibilityChanged(isTabHeaderVisible) {\r\n            if (_isTabHeaderVisible !== isTabHeaderVisible) {\r\n                _isTabHeaderVisible = isTabHeaderVisible;\r\n                _registry.execute(\"tab-header-visibility-changed\", resultWindow);\r\n            }\r\n        }\r\n        function handleFrameSelectionChanged(newWindow, prevWindow) {\r\n            var selectedWindow;\r\n            if (typeof newWindow !== \"undefined\" && newWindow === id) {\r\n                _isTabSelected = true;\r\n                selectedWindow = resultWindow;\r\n            }\r\n            else {\r\n                _isTabSelected = false;\r\n                selectedWindow = windowStore.get(newWindow) ? windowStore.get(newWindow).API : undefined;\r\n            }\r\n            var previousWindow = windowStore.get(prevWindow) ? windowStore.get(prevWindow).API : undefined;\r\n            if (_isTabSelected && previousWindow) {\r\n                var un_1 = previousWindow.onTabSelectionChanged(function (newWin, prevWin) {\r\n                    if ((prevWin && prevWin.id) === previousWindow.id) {\r\n                        un_1();\r\n                        _registry.execute(\"tab-selection-changed\", selectedWindow, previousWindow, resultWindow);\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                _registry.execute(\"tab-selection-changed\", selectedWindow, previousWindow, resultWindow);\r\n            }\r\n        }\r\n        function handleAttached(newTabGroupId, tabHeaderVisible) {\r\n            _tabGroupId = newTabGroupId;\r\n            _isTabHeaderVisible = tabHeaderVisible;\r\n            _registry.execute(\"attached\", resultWindow);\r\n        }\r\n        function handleWindowAttached(win) {\r\n            _registry.execute(\"window-attached\", win);\r\n        }\r\n        function handleDetached(tabGroupId) {\r\n            _tabGroupId = tabGroupId;\r\n            var un = _registry.add(\"frame-attached\", function (win) {\r\n                if (win.id === id) {\r\n                    un();\r\n                    _registry.execute(\"detached\", resultWindow);\r\n                }\r\n            });\r\n        }\r\n        function handleWindowDetached(win) {\r\n            _registry.execute(\"window-detached\", win);\r\n        }\r\n        function handleZoomFactorChanged(zoomFactor) {\r\n            _zoomFactor = zoomFactor;\r\n            _registry.execute(\"zoom-factor-changed\", resultWindow);\r\n        }\r\n        function handleGroupChanged(newGroup, oldGroup) {\r\n            _logger.trace(\"handle group changed to win: \" + id + \" with group id: \" + newGroup.id);\r\n            _group = newGroup;\r\n            _groupId = newGroup.id;\r\n            _registry.execute(\"group-changed\", resultWindow, newGroup, oldGroup);\r\n        }\r\n        function handleGroupAssociation(group) {\r\n            if (group) {\r\n                _logger.trace(\"setting group to win: \" + id + \" with group id: \" + group.id);\r\n            }\r\n            _group = group;\r\n        }\r\n        function getAllTabs() {\r\n            var allWindows = windowStore.list;\r\n            if (_mode.toLowerCase() !== \"tab\") {\r\n                return [];\r\n            }\r\n            return Object.keys(allWindows).reduce(function (memo, win) {\r\n                var window = allWindows[win];\r\n                if (window\r\n                    && window.API.tabGroupId\r\n                    && typeof window.API.tabGroupId !== \"undefined\"\r\n                    && typeof resultWindow.tabGroupId !== \"undefined\"\r\n                    && window.API.tabGroupId === resultWindow.tabGroupId) {\r\n                    memo.push(window.API);\r\n                }\r\n                return memo;\r\n            }, []);\r\n        }\r\n        function mapWindowIdsToWindowObjects(windowIdArr) {\r\n            return windowIdArr.reduce(function (memo, winId) {\r\n                var window = windowStore.get(winId);\r\n                if (window) {\r\n                    memo.push(window.API);\r\n                }\r\n                return memo;\r\n            }, []);\r\n        }\r\n        function getNeighboursByDirection(direction) {\r\n            var windowIds = _neighbours[direction];\r\n            if (typeof windowIds !== \"undefined\") {\r\n                return mapWindowIdsToWindowObjects(windowIds);\r\n            }\r\n        }\r\n        function getApplicationName() {\r\n            if (_context._APPLICATION_NAME) {\r\n                return _context._APPLICATION_NAME;\r\n            }\r\n            if (_context && _context._t42 && _context._t42.application) {\r\n                return _context._t42.application;\r\n            }\r\n            var info = getWindowInfo();\r\n            if (!info) {\r\n                return undefined;\r\n            }\r\n            return info.applicationName;\r\n        }\r\n        function getWindowInfo() {\r\n            if (typeof window !== \"undefined\" && window.glue42gd && window.glue42gd.getWindowInfo) {\r\n                var info = window.glue42gd.getWindowInfo(id);\r\n                if (!info) {\r\n                    return undefined;\r\n                }\r\n                else {\r\n                    return info;\r\n                }\r\n            }\r\n        }\r\n        function areBoundsEqual(requested, current) {\r\n            var height = requested.height;\r\n            var width = requested.width;\r\n            if (requested.height < _settings.minHeight) {\r\n                height = _settings.minHeight;\r\n            }\r\n            if (requested.height > _settings.maxHeight) {\r\n                height = _settings.maxHeight;\r\n            }\r\n            if (requested.width < _settings.minWidth) {\r\n                width = _settings.minWidth;\r\n            }\r\n            if (requested.width > _settings.maxWidth) {\r\n                width = _settings.maxWidth;\r\n            }\r\n            var areHeightsEqual = height ? current.height === height : true;\r\n            var areWidthsEqual = width ? current.width === width : true;\r\n            var areLeftsEqual = requested.left ? current.left === requested.left : true;\r\n            var areTopsEqual = requested.top ? current.top === requested.top : true;\r\n            return areHeightsEqual && areWidthsEqual && areLeftsEqual && areTopsEqual;\r\n        }\r\n        resultWindow = {\r\n            get name() {\r\n                return _name;\r\n            },\r\n            get application() {\r\n                var appManager = appManagerGetter();\r\n                return appManager ? appManager.application(getApplicationName()) : undefined;\r\n            },\r\n            get hostInstance() {\r\n                return executor.hostInstance;\r\n            },\r\n            get agmInstance() {\r\n                var _this = this;\r\n                if (typeof window !== \"undefined\" && window.glue42gd) {\r\n                    return agm.servers().find(function (s) { return s.windowId === _this.id; });\r\n                }\r\n                var appName = getApplicationName();\r\n                return appName ? { application: appName } : undefined;\r\n            },\r\n            get url() {\r\n                return _url;\r\n            },\r\n            id: id,\r\n            get title() {\r\n                return _title;\r\n            },\r\n            get windowStyleAttributes() {\r\n                return _settings;\r\n            },\r\n            get settings() {\r\n                return _settings;\r\n            },\r\n            get tabGroupId() {\r\n                return _mode.toLowerCase() === \"tab\" ? _tabGroupId : undefined;\r\n            },\r\n            get frameButtons() {\r\n                return _frameButtons;\r\n            },\r\n            get mode() {\r\n                return _mode;\r\n            },\r\n            get state() {\r\n                return _windowState;\r\n            },\r\n            get isCollapsed() {\r\n                return isCollapsed;\r\n            },\r\n            get isVisible() {\r\n                return _isVisible;\r\n            },\r\n            get isLocked() {\r\n                return _isLocked;\r\n            },\r\n            get context() {\r\n                return _context;\r\n            },\r\n            get bounds() {\r\n                return _bounds;\r\n            },\r\n            get minHeight() {\r\n                return _settings.minHeight;\r\n            },\r\n            get maxHeight() {\r\n                return _settings.maxHeight;\r\n            },\r\n            get minWidth() {\r\n                return _settings.minWidth;\r\n            },\r\n            get maxWidth() {\r\n                return _settings.maxWidth;\r\n            },\r\n            get isFocused() {\r\n                return _focus;\r\n            },\r\n            get frameColor() {\r\n                return _frameColor;\r\n            },\r\n            get opened() {\r\n                return resultWindow.id !== undefined;\r\n            },\r\n            get group() {\r\n                return _group;\r\n            },\r\n            get groupId() {\r\n                return _groupId;\r\n            },\r\n            get isSticky() {\r\n                return _isSticky;\r\n            },\r\n            get topNeighbours() {\r\n                return getNeighboursByDirection(\"top\");\r\n            },\r\n            get leftNeighbours() {\r\n                return getNeighboursByDirection(\"left\");\r\n            },\r\n            get rightNeighbours() {\r\n                return getNeighboursByDirection(\"right\");\r\n            },\r\n            get bottomNeighbours() {\r\n                return getNeighboursByDirection(\"bottom\");\r\n            },\r\n            get isGroupHeaderVisible() {\r\n                return _isGroupHeaderVisible;\r\n            },\r\n            get activityId() {\r\n                if (_context._t42) {\r\n                    return _context._t42.activityId;\r\n                }\r\n                var info = getWindowInfo();\r\n                if (!info) {\r\n                    return undefined;\r\n                }\r\n                return info.activityId;\r\n            },\r\n            get activityWindowId() {\r\n                if (_context._t42) {\r\n                    return _context._t42.activityWindowId;\r\n                }\r\n                var info = getWindowInfo();\r\n                if (!info) {\r\n                    return undefined;\r\n                }\r\n                return info.activityWindowId;\r\n            },\r\n            get windowType() {\r\n                return options.windowType || \"electron\";\r\n            },\r\n            get zoomFactor() {\r\n                return _zoomFactor;\r\n            },\r\n            get screen() {\r\n                if (typeof window !== \"undefined\" && window.glue42gd) {\r\n                    return Utils$1.getMonitor(resultWindow.bounds, window.glue42gd.monitors);\r\n                }\r\n                return undefined;\r\n            },\r\n            maximize: maximize,\r\n            restore: restore,\r\n            minimize: minimize,\r\n            maximizeRestore: maximizeRestore,\r\n            collapse: collapse,\r\n            expand: expand,\r\n            toggleCollapse: toggleCollapse,\r\n            focus: focus,\r\n            activate: activate,\r\n            moveResize: moveResize,\r\n            setTitle: setTitle,\r\n            setStyle: setStyle,\r\n            setOnTop: setOnTop,\r\n            resetButtons: resetButtons,\r\n            setSizeConstraints: setSizeConstraints,\r\n            navigate: navigate,\r\n            addFrameButton: addFrameButton,\r\n            removeFrameButton: removeFrameButton,\r\n            setVisible: setVisible,\r\n            show: function () { return setVisible(true); },\r\n            hide: function () { return setVisible(false); },\r\n            center: function (screen) { return moveResize(Utils$1.getDisplayCenterOfScreen(resultWindow.bounds, screen || resultWindow.screen)); },\r\n            close: close,\r\n            snap: snap,\r\n            showLoader: showLoader,\r\n            hideLoader: hideLoader,\r\n            updateContext: updateContext,\r\n            lock: lock,\r\n            unlock: unlock,\r\n            getIcon: getIcon,\r\n            setIcon: setIcon,\r\n            setFrameColor: setFrameColor,\r\n            setTabTooltip: setTabTooltip,\r\n            attachTab: attachTab,\r\n            detachTab: detachTab,\r\n            setTabHeaderVisible: setTabHeaderVisible,\r\n            showPopup: showPopup,\r\n            createFlydown: createFlydown,\r\n            setModalState: setModalState,\r\n            setZoomFactor: setZoomFactor,\r\n            zoomIn: zoomIn,\r\n            zoomOut: zoomOut,\r\n            showDevTools: showDevTools,\r\n            capture: capture,\r\n            flash: flash,\r\n            setSticky: setSticky,\r\n            print: print,\r\n            printToPDF: printToPDF,\r\n            onClose: onClose,\r\n            onUrlChanged: onUrlChanged,\r\n            onTitleChanged: onTitleChanged,\r\n            onFrameButtonAdded: onFrameButtonAdded,\r\n            onFrameButtonRemoved: onFrameButtonRemoved,\r\n            onFrameButtonClicked: onFrameButtonClicked,\r\n            onCollapsed: onCollapsed,\r\n            onExpanded: onExpanded,\r\n            onMinimized: onMinimized,\r\n            onMaximized: onMaximized,\r\n            onNormal: onNormal,\r\n            onAttached: onAttached,\r\n            onDetached: onDetached,\r\n            onVisibilityChanged: onVisibilityChanged,\r\n            onContextUpdated: onContextUpdated,\r\n            onLockingChanged: onLockingChanged,\r\n            onBoundsChanged: onBoundsChanged,\r\n            onFrameColorChanged: onFrameColorChanged,\r\n            onFocusChanged: onFocusChanged,\r\n            onStickyChanged: onStickyChanged,\r\n            onGroupChanged: onGroupChanged,\r\n            onWindowAttached: onWindowAttached,\r\n            onWindowDetached: onWindowDetached,\r\n            onTabSelectionChanged: onTabSelectionChanged,\r\n            onTabHeaderVisibilityChanged: onTabHeaderVisibilityChanged,\r\n            onClosing: onClosing,\r\n            onRefreshing: onRefreshing,\r\n            onZoomFactorChanged: onZoomFactorChanged,\r\n            get tabs() {\r\n                return getAllTabs();\r\n            },\r\n            get isTabHeaderVisible() {\r\n                return _isTabHeaderVisible;\r\n            },\r\n            get isTabSelected() {\r\n                return _isTabSelected;\r\n            },\r\n            getURL: function () {\r\n                return Promise.resolve(_url);\r\n            },\r\n            getTitle: function () {\r\n                return Promise.resolve(_title);\r\n            },\r\n            getBounds: function () {\r\n                return Promise.resolve(_bounds);\r\n            },\r\n            getContext: function () {\r\n                return Promise.resolve(_context);\r\n            },\r\n            setContext: function (context) {\r\n                return updateContext(context);\r\n            },\r\n            resizeTo: function (width, height) {\r\n                return moveResize({ width: width, height: height });\r\n            },\r\n            moveTo: function (top, left) {\r\n                return moveResize({ top: top, left: left });\r\n            },\r\n            getParentWindow: function () {\r\n                var _a;\r\n                return __awaiter(this, void 0, void 0, function () {\r\n                    var myParentId;\r\n                    return __generator(this, function (_b) {\r\n                        myParentId = _settings.parentInstanceId;\r\n                        if (!myParentId) {\r\n                            return [2, undefined];\r\n                        }\r\n                        return [2, (_a = windowStore.list[myParentId]) === null || _a === void 0 ? void 0 : _a.API];\r\n                    });\r\n                });\r\n            },\r\n            getChildWindows: function () {\r\n                return __awaiter(this, void 0, void 0, function () {\r\n                    return __generator(this, function (_a) {\r\n                        return [2, Object.keys(windowStore.list)\r\n                                .map(function (key) { return windowStore.list[key].API; })\r\n                                .filter(function (w) {\r\n                                var parentId = w.settings.parentInstanceId;\r\n                                return parentId === id;\r\n                            })];\r\n                    });\r\n                });\r\n            }\r\n        };\r\n        var events = {\r\n            handleWindowClose: handleWindowClose,\r\n            handleWindowChangeState: handleWindowChangeState,\r\n            handleTitleChanged: handleTitleChanged,\r\n            handleVisibilityChanged: handleVisibilityChanged,\r\n            handleUrlChanged: handleUrlChanged,\r\n            handleWindowSettingsChanged: handleWindowSettingsChanged,\r\n            handleContextUpdated: handleContextUpdated,\r\n            handleFrameIsLockedChanged: handleFrameIsLockedChanged,\r\n            handleBoundsChanged: handleBoundsChanged,\r\n            handleFocusChanged: handleFocusChanged,\r\n            handleFrameButtonAdded: handleFrameButtonAdded,\r\n            handleFrameButtonRemoved: handleFrameButtonRemoved,\r\n            handleFrameButtonClicked: handleFrameButtonClicked,\r\n            handleFrameColorChanged: handleFrameColorChanged,\r\n            handleFrameAttached: handleFrameAttached,\r\n            handleFrameSelectionChanged: handleFrameSelectionChanged,\r\n            handleCompositionChanged: handleCompositionChanged,\r\n            handleGroupHeaderVisibilityChanged: handleGroupHeaderVisibilityChanged,\r\n            handleTabHeaderVisibilityChanged: handleTabHeaderVisibilityChanged,\r\n            handleGroupChanged: handleGroupChanged,\r\n            handleGroupAssociation: handleGroupAssociation,\r\n            handleAttached: handleAttached,\r\n            handleDetached: handleDetached,\r\n            handleWindowAttached: handleWindowAttached,\r\n            handleWindowDetached: handleWindowDetached,\r\n            handleZoomFactorChanged: handleZoomFactorChanged,\r\n            handleIsStickyChanged: handleIsStickyChanged,\r\n        };\r\n        return {\r\n            API: resultWindow,\r\n            Events: events,\r\n            Registry: _registry\r\n        };\r\n    });\n\n    var GDExecutor = (function () {\r\n        function GDExecutor() {\r\n            this._registry = lib$2();\r\n        }\r\n        Object.defineProperty(GDExecutor.prototype, \"hostInstance\", {\r\n            get: function () {\r\n                return this.agmTarget;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        GDExecutor.prototype.init = function (agm, instance) {\r\n            this.agm = agm;\r\n            this.agmTarget = instance;\r\n        };\r\n        GDExecutor.prototype.close = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"close\", { windowId: resultWindow.id })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.navigate = function (resultWindow, newUrl) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"navigate\", {\r\n                    windowId: resultWindow.id,\r\n                    options: {\r\n                        url: newUrl\r\n                    }\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.setStyle = function (resultWindow, style) {\r\n            var _a;\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var stylePromises, wait, toBeVisible, toolTip, maxWidth, maxHeight, minWidth, minHeight, allowClose, allowCollapse, allowLockUnlock, allowMaximize, allowMinimize;\r\n                return __generator(this, function (_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            stylePromises = [];\r\n                            wait = function (promise) { return stylePromises.push(promise); };\r\n                            if (style.focus !== undefined && !resultWindow.isFocused) {\r\n                                wait(resultWindow.focus());\r\n                            }\r\n                            if (style.hidden !== undefined) {\r\n                                toBeVisible = !style.hidden;\r\n                                wait(resultWindow.setVisible(toBeVisible));\r\n                            }\r\n                            if (style.onTop !== undefined) {\r\n                                wait(resultWindow.setOnTop(style.onTop));\r\n                            }\r\n                            if (style.tabTooltip !== undefined || style.tabToolTip !== undefined) {\r\n                                toolTip = (_a = style.tabTooltip, (_a !== null && _a !== void 0 ? _a : style.tabToolTip));\r\n                                wait(resultWindow.setTabTooltip(toolTip));\r\n                            }\r\n                            maxWidth = style.maxWidth, maxHeight = style.maxHeight, minWidth = style.minWidth, minHeight = style.minHeight, allowClose = style.allowClose, allowCollapse = style.allowCollapse, allowLockUnlock = style.allowLockUnlock, allowMaximize = style.allowMaximize, allowMinimize = style.allowMinimize;\r\n                            wait(resultWindow.setSizeConstraints({ maxWidth: maxWidth, maxHeight: maxHeight, minWidth: minWidth, minHeight: minHeight }));\r\n                            wait(resultWindow.resetButtons({ allowClose: allowClose, allowCollapse: allowCollapse, allowLockUnlock: allowLockUnlock, allowMaximize: allowMaximize, allowMinimize: allowMinimize }));\r\n                            return [4, Promise.all(stylePromises)];\r\n                        case 1:\r\n                            _b.sent();\r\n                            return [2, resultWindow];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.setSizeConstraints = function (resultWindow, constraints) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"setSizeConstraints\", {\r\n                    windowId: resultWindow.id,\r\n                    options: constraints\r\n                }).then(function () {\r\n                    resolve(resultWindow);\r\n                }).catch(reject);\r\n            });\r\n        };\r\n        GDExecutor.prototype.setTabTooltip = function (w, tabToolTip) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.execute(\"setTabTooltip\", { windowId: w.id, options: { tabToolTip: tabToolTip } })];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2, w];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.resetButtons = function (resultWindow, buttonsConfig) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"resetButtons\", {\r\n                    windowId: resultWindow.id,\r\n                    options: buttonsConfig\r\n                }).then(function () {\r\n                    resolve(resultWindow);\r\n                }).catch(reject);\r\n            });\r\n        };\r\n        GDExecutor.prototype.setOnTop = function (resultWindow, onTop) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"setOnTop\", {\r\n                    windowId: resultWindow.id,\r\n                    options: { onTop: onTop }\r\n                }).then(function () {\r\n                    resolve(resultWindow);\r\n                }).catch(reject);\r\n            });\r\n        };\r\n        GDExecutor.prototype.setTitle = function (resultWindow, newTitle) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                var options = {\r\n                    windowId: resultWindow.id,\r\n                    options: {\r\n                        title: newTitle\r\n                    }\r\n                };\r\n                _this.execute(\"setTitle\", options)\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.setSticky = function (resultWindow, isSticky) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                var options = {\r\n                    windowId: resultWindow.id,\r\n                    options: {\r\n                        isSticky: isSticky\r\n                    }\r\n                };\r\n                _this.execute(\"setSticky\", options)\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.moveResize = function (resultWindow, dimensions) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"moveResize\", {\r\n                    windowId: resultWindow.id,\r\n                    options: {\r\n                        bounds: dimensions\r\n                    }\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.addFrameButton = function (resultWindow, buttonInfo) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"addButton\", {\r\n                    windowId: resultWindow.id,\r\n                    options: buttonInfo\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.removeFrameButton = function (resultWindow, buttonId) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"removeButton\", {\r\n                    windowId: resultWindow.id,\r\n                    options: buttonId\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.activate = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"activate\", { windowId: resultWindow.id })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.focus = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"focus\", { windowId: resultWindow.id })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.maximizeRestore = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"maximizeRestore\", { windowId: resultWindow.id })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.maximize = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"maximize\", { windowId: resultWindow.id })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.restore = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"restore\", { windowId: resultWindow.id })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.minimize = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"minimize\", { windowId: resultWindow.id })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.collapse = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"collapse\", { windowId: resultWindow.id })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.expand = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"expand\", { windowId: resultWindow.id })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.toggleCollapse = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"toggleCollapse\", { windowId: resultWindow.id })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.snap = function (resultWindow, target, direction) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                var sourceWindowId = resultWindow.id;\r\n                var targetWindowId;\r\n                var errorMessage = \"Invalid target parameter - should be an object with property id or a string. Invoked for source window id:\" +\r\n                    resultWindow.id;\r\n                if (!target) {\r\n                    reject(errorMessage);\r\n                    return;\r\n                }\r\n                if (typeof target === \"string\") {\r\n                    targetWindowId = target;\r\n                }\r\n                else if (typeof target.id !== \"undefined\") {\r\n                    targetWindowId = target.id;\r\n                }\r\n                else {\r\n                    reject(errorMessage);\r\n                    return;\r\n                }\r\n                var args = {\r\n                    targetWindowId: targetWindowId\r\n                };\r\n                if (direction) {\r\n                    args.snappingEdge = direction;\r\n                }\r\n                _this.execute(\"snap\", {\r\n                    windowId: resultWindow.id,\r\n                    options: args\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.attachTab = function (resultWindow, options) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"attachTab\", {\r\n                    windowId: resultWindow.id,\r\n                    options: options\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.detachTab = function (resultWindow, options) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"detachTab\", {\r\n                    windowId: resultWindow.id,\r\n                    options: options\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.setVisible = function (resultWindow, toBeVisible) {\r\n            var _this = this;\r\n            if (toBeVisible === void 0) { toBeVisible = true; }\r\n            return new Promise(function (resolve, reject) {\r\n                var command;\r\n                if (toBeVisible) {\r\n                    command = \"show\";\r\n                }\r\n                else {\r\n                    command = \"hide\";\r\n                }\r\n                _this.execute(command, { windowId: resultWindow.id })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.showLoader = function (resultWindow, loader) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"showLoadingAnimation\", { windowId: resultWindow.id, options: loader })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.hideLoader = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"hideLoadingAnimation\", { windowId: resultWindow.id })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.updateContext = function (resultWindow, context) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"updateContext\", {\r\n                    windowId: resultWindow.id,\r\n                    context: context,\r\n                    replace: Object.keys(resultWindow.context).length > 0 ? false : true\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.lock = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"lockUnlock\", {\r\n                    windowId: resultWindow.id,\r\n                    options: {\r\n                        lock: true\r\n                    }\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.unlock = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"lockUnlock\", {\r\n                    windowId: resultWindow.id,\r\n                    options: {\r\n                        lock: false\r\n                    }\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.getIcon = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"getIcon\", {\r\n                    windowId: resultWindow.id,\r\n                    options: {}\r\n                })\r\n                    .then(function (result) {\r\n                    resolve(result.icon);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.setIcon = function (resultWindow, base64Image) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"setIcon\", {\r\n                    windowId: resultWindow.id,\r\n                    options: {\r\n                        dataURL: base64Image\r\n                    }\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.setFrameColor = function (resultWindow, frameColor) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"setFrameColor\", {\r\n                    windowId: resultWindow.id,\r\n                    options: {\r\n                        frameColor: frameColor\r\n                    }\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.setTabHeaderVisible = function (resultWindow, toBeTabHeaderVisible) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"setTabHeaderVisible\", {\r\n                    windowId: resultWindow.id,\r\n                    options: {\r\n                        toShow: toBeTabHeaderVisible\r\n                    }\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.showPopup = function (targetWindow, options) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var optionsCopy, reformatedOptions;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (!options) {\r\n                                return [2, Promise.reject(\"The options object is not valid!\")];\r\n                            }\r\n                            optionsCopy = __assign({}, options);\r\n                            if (!optionsCopy.targetLocation) {\r\n                                optionsCopy.targetLocation = \"bottom\";\r\n                            }\r\n                            reformatedOptions = __assign(__assign({}, optionsCopy), { popupBounds: optionsCopy.size, targetId: targetWindow.id, popupId: optionsCopy.windowId });\r\n                            return [4, this.execute(\"showPopupWindow\", {\r\n                                    windowId: targetWindow.id,\r\n                                    options: reformatedOptions\r\n                                })];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2, targetWindow];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.createFlydown = function (windowId, options) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var optionsCopy, fullOptions;\r\n                var _this = this;\r\n                return __generator(this, function (_a) {\r\n                    if (!options) {\r\n                        return [2, Promise.reject(\"The options object is not valid!\")];\r\n                    }\r\n                    optionsCopy = __assign({}, options);\r\n                    if (!optionsCopy.horizontalOffset) {\r\n                        optionsCopy.horizontalOffset = 0;\r\n                    }\r\n                    if (!optionsCopy.verticalOffset) {\r\n                        optionsCopy.verticalOffset = 0;\r\n                    }\r\n                    fullOptions = this.reformatFlydownOptions(windowId, optionsCopy);\r\n                    return [2, this.execute(\"setFlydownArea\", { windowId: windowId, options: fullOptions }).then(function () {\r\n                            var zoneIds = fullOptions.zones.map(function (z) { return z.id; });\r\n                            fullOptions.zones.forEach(function (z) {\r\n                                var callback = typeof (z.flydownSize) === \"function\" ?\r\n                                    z.flydownSize : function () { return z.flydownSize; };\r\n                                if (options.size instanceof Function && z.flydownSize) {\r\n                                    callback = function (data, cancel) { return __awaiter(_this, void 0, void 0, function () {\r\n                                        var result;\r\n                                        return __generator(this, function (_a) {\r\n                                            switch (_a.label) {\r\n                                                case 0:\r\n                                                    if (!(options.size instanceof Function)) return [3, 2];\r\n                                                    return [4, options.size(data, cancel)];\r\n                                                case 1:\r\n                                                    result = _a.sent();\r\n                                                    _a.label = 2;\r\n                                                case 2:\r\n                                                    if (!(z.flydownSize instanceof Function && z.flydownSize !== options.size)) return [3, 4];\r\n                                                    return [4, z.flydownSize(data, cancel)];\r\n                                                case 3: return [2, (_a.sent()) || result];\r\n                                                case 4: return [2, result || z.flydownSize];\r\n                                            }\r\n                                        });\r\n                                    }); };\r\n                                }\r\n                                _this._registry.clearKey(fullOptions.targetId + \"_\" + z.id);\r\n                                _this._registry.add(fullOptions.targetId + \"_\" + z.id, callback);\r\n                            });\r\n                            return {\r\n                                destroy: function () { return _this.clearFlydownArea(fullOptions.targetId, zoneIds); },\r\n                                options: optionsCopy\r\n                            };\r\n                        })];\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.setModalState = function (windowId, isModal) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    return [2, this.execute(\"setModalState\", { windowId: windowId, options: { isModal: isModal } })];\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.handleFlydownBoundsRequested = function (targetId, data) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var cancelCallback, callbackData, responses, defaultResponse, response, responseOptions;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            cancelCallback = function () { return data.cancel = true; };\r\n                            callbackData = {\r\n                                zoneId: data.flydownId,\r\n                                flydownWindowBounds: data.flydownWindowBounds,\r\n                                flydownWindowId: data.flydownWindowId,\r\n                            };\r\n                            return [4, Promise.all(this._registry.execute(targetId + \"_\" + data.flydownId, callbackData, cancelCallback))];\r\n                        case 1:\r\n                            responses = _a.sent();\r\n                            if (responses.length === 1) {\r\n                                defaultResponse = { height: 0, width: 0, top: 0, left: 0 };\r\n                                response = typeof (responses[0]) === \"object\" && !Array.isArray(responses[0]) ? responses[0] : defaultResponse;\r\n                                responseOptions = __assign(__assign({}, data), { flydownWindowBounds: response });\r\n                                return [2, responseOptions];\r\n                            }\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.zoomIn = function (window) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.execute(\"zoomIn\", {\r\n                                windowId: window.id,\r\n                            })];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2, window];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.zoomOut = function (window) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.execute(\"zoomOut\", {\r\n                                windowId: window.id,\r\n                            })];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2, window];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.setZoomFactor = function (window, zoomFactor) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.execute(\"setZoomFactor\", {\r\n                                windowId: window.id,\r\n                                options: {\r\n                                    zoomFactor: zoomFactor\r\n                                }\r\n                            })];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2, window];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.showDevTools = function (window) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.execute(\"showDevTools\", {\r\n                                windowId: window.id,\r\n                            })];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2, window];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.capture = function (window, options) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var base64screenshot;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.execute(\"captureScreenshot\", { windowId: window.id, options: __assign({}, options) })];\r\n                        case 1:\r\n                            base64screenshot = (_a.sent()).data;\r\n                            return [2, base64screenshot];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.captureGroup = function (windowIds, options) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var base64screenshot;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.execute(\"captureGroupScreenshot\", { windowId: windowIds[0], options: __assign({ groupWindowIds: windowIds }, options) })];\r\n                        case 1:\r\n                            base64screenshot = (_a.sent()).data;\r\n                            return [2, base64screenshot];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.flash = function (resultWindow, options) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.execute(\"flash\", { windowId: resultWindow.id, options: __assign({}, options) })];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2, resultWindow];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.configure = function (windowId, options) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    return [2, this.execute(\"configure\", { windowId: windowId, options: __assign({}, options) })];\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.print = function (resultWindow, options) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.execute(\"print\", { windowId: resultWindow.id, options: __assign({}, options) })];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2, resultWindow];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.printToPDF = function (resultWindow, options) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var filePath;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.execute(\"printToPDF\", { windowId: resultWindow.id, options: __assign({}, options) })];\r\n                        case 1:\r\n                            filePath = (_a.sent()).filePath;\r\n                            return [2, filePath];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.execute = function (command, options) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                var args = __assign(__assign({}, options), { command: command });\r\n                _this.agm\r\n                    .invoke(\"T42.Wnd.Execute\", args, _this.agmTarget)\r\n                    .then(function (i) {\r\n                    if (i.returned && i.returned.errorMsg) {\r\n                        reject(i);\r\n                    }\r\n                    else {\r\n                        resolve(i.returned);\r\n                    }\r\n                })\r\n                    .catch(function (i) {\r\n                    reject(i);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.setGroupHeaderVisible = function (windowId, toShow) {\r\n            return this.execute(\"setGroupHeaderVisibility\", {\r\n                windowId: windowId,\r\n                options: {\r\n                    toShow: toShow\r\n                }\r\n            });\r\n        };\r\n        GDExecutor.prototype.getGroupTitle = function (windowId) {\r\n            return this.execute(\"getGroupTitle\", {\r\n                windowId: windowId,\r\n                options: {}\r\n            }).then(function (r) { return r.title; });\r\n        };\r\n        GDExecutor.prototype.setGroupTitle = function (windowId, title) {\r\n            return this.execute(\"setGroupTitle\", {\r\n                windowId: windowId,\r\n                options: {\r\n                    title: title\r\n                }\r\n            });\r\n        };\r\n        GDExecutor.prototype.onClosing = function (callback, id) {\r\n            var glue42gd = typeof window !== \"undefined\" && window.glue42gd;\r\n            if (glue42gd) {\r\n                return glue42gd.addCloseHandler(callback, id);\r\n            }\r\n        };\r\n        GDExecutor.prototype.onRefreshing = function (callback, id) {\r\n            var glue42gd = typeof window !== \"undefined\" && window.glue42gd;\r\n            if (glue42gd) {\r\n                return glue42gd.addRefreshHandler(callback, id);\r\n            }\r\n        };\r\n        GDExecutor.prototype.reformatFlydownOptions = function (windowId, options) {\r\n            var assignGeneralIfUnassigned = function (zone, prop) {\r\n                if (options[prop] && (zone[prop] === undefined || zone[prop] === null)) {\r\n                    var valueFromOptions = options[prop];\r\n                    zone[prop] = valueFromOptions;\r\n                }\r\n            };\r\n            var zones = options.zones.map(function (z) {\r\n                assignGeneralIfUnassigned(z, \"windowId\");\r\n                assignGeneralIfUnassigned(z, \"targetLocation\");\r\n                if (options.size && (z.flydownSize === undefined || z.flydownSize === null)) {\r\n                    z.flydownSize = options.size;\r\n                }\r\n                z.flydownBounds = z.flydownSize;\r\n                z.flydownId = z.windowId;\r\n                if (!z.targetLocation) {\r\n                    z.targetLocation = \"bottom\";\r\n                }\r\n                return z;\r\n            });\r\n            return __assign(__assign({}, options), { zones: zones, targetId: windowId, flydownBounds: options.size, flydownActiveArea: options.activeArea });\r\n        };\r\n        GDExecutor.prototype.clearFlydownArea = function (windowId, areaIds) {\r\n            var _this = this;\r\n            return this.execute(\"clearFlydownWindowArea\", {\r\n                windowId: windowId,\r\n                options: {}\r\n            }).then(function () {\r\n                areaIds.forEach(function (id) {\r\n                    _this._registry.clearKey(windowId + \"_\" + id);\r\n                });\r\n            });\r\n        };\r\n        return GDExecutor;\r\n    }());\r\n    var executor = new GDExecutor();\n\n    function getWindowsByTabGroupId(windowId, tabGroupId) {\r\n        var windows = windowStore.list;\r\n        return Object.keys(windows).reduce(function (memo, id) {\r\n            var win = windows[id];\r\n            if (win.API.tabGroupId === tabGroupId && win.API.id !== windowId) {\r\n                memo[id] = win;\r\n            }\r\n            return memo;\r\n        }, {});\r\n    }\n\n    var GDEnvironment = (function () {\r\n        function GDEnvironment(agm, logger, appManagerGetter, instance, wndId) {\r\n            this._registry = lib$2();\r\n            this._waitTimeout = 10000;\r\n            this._agm = agm;\r\n            this._logger = logger.subLogger(\"gd-env\");\r\n            this._agmInstance = this.normalizeInstance(instance);\r\n            this._windowId = wndId;\r\n            this._appManagerGetter = appManagerGetter;\r\n        }\r\n        GDEnvironment.prototype.init = function () {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                if (typeof _this._agmInstance === \"undefined\") {\r\n                    _this._agmInstance = \"best\";\r\n                }\r\n                _this._agm.registerAsync(\"T42.Wnd.OnEventWithResponse\", function (args, caller, success, err) {\r\n                    _this.respondToEvent(args).then(success).catch(err);\r\n                });\r\n                var streamPromise = new Promise(function (streamResolve, streamReject) {\r\n                    _this._agm.subscribe(\"T42.Wnd.OnEvent\", {\r\n                        waitTimeoutMs: _this._waitTimeout,\r\n                        target: _this._agmInstance,\r\n                        onData: function (streamData) {\r\n                            _this.updateWindow(streamData.data, resolve);\r\n                        },\r\n                        onConnected: function (instance) {\r\n                            _this._agmInstance = _this.normalizeInstance(instance);\r\n                            executor.init(_this._agm, _this._agmInstance);\r\n                        }\r\n                    }).catch(function (err) {\r\n                        reject(\"Can not subscribe for stream T42.Wnd.OnEvent. Err: \" + err);\r\n                    });\r\n                });\r\n            });\r\n        };\r\n        Object.defineProperty(GDEnvironment.prototype, \"executor\", {\r\n            get: function () {\r\n                return executor;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        GDEnvironment.prototype.open = function (name, url, options, success, error) {\r\n            options = options || {};\r\n            var copyOptions = __assign({}, options);\r\n            if (name === undefined) {\r\n                error({ message: \"The name is undefined\" });\r\n                return;\r\n            }\r\n            if (copyOptions.relativeTo !== undefined && typeof copyOptions.relativeTo !== \"string\") {\r\n                copyOptions.relativeTo = copyOptions.relativeTo.id || \"\";\r\n            }\r\n            copyOptions.name = name;\r\n            copyOptions.url = url;\r\n            copyOptions.windowState = options.windowState || options.state;\r\n            delete copyOptions.state;\r\n            this._agm.invoke(\"T42.Wnd.Create\", copyOptions, this._agmInstance)\r\n                .then(function (message) {\r\n                if (message.returned !== undefined) {\r\n                    var id = message.returned.id;\r\n                    success(id);\r\n                }\r\n                else {\r\n                    error({ message: \"failed to execute T42.Wnd.Create - unknown reason\" });\r\n                }\r\n            })\r\n                .catch(error);\r\n        };\r\n        GDEnvironment.prototype.createFlydown = function (windowId, options) {\r\n            return this.executor.createFlydown(windowId, options);\r\n        };\r\n        GDEnvironment.prototype.showPopup = function (windowId, options) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var window;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            window = windowStore.get(windowId);\r\n                            return [4, this.executor.showPopup(window.API, options)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDEnvironment.prototype.tabAttached = function (callback) {\r\n            return this._registry.add(\"tab-attached\", callback);\r\n        };\r\n        GDEnvironment.prototype.tabDetached = function (callback) {\r\n            return this._registry.add(\"tab-detached\", callback);\r\n        };\r\n        GDEnvironment.prototype.onWindowFrameColorChanged = function (callback) {\r\n            return this._registry.add(\"frame-color-changed\", callback);\r\n        };\r\n        GDEnvironment.prototype.onEvent = function (callback) {\r\n            return this._registry.add(\"window-event\", callback);\r\n        };\r\n        GDEnvironment.prototype.my = function () {\r\n            return this._windowId;\r\n        };\r\n        GDEnvironment.prototype.execute = function (command, windowId, options) {\r\n            return this._agm.invoke(\"T42.Wnd.Execute\", {\r\n                command: command,\r\n                options: options,\r\n                windowId: windowId,\r\n            });\r\n        };\r\n        GDEnvironment.prototype.setGroupHeaderVisible = function (windowId, toShow) {\r\n            return this._agm.invoke(\"T42.Wnd.SetGroupHeaderVisible\", {\r\n                windowId: windowId,\r\n                toShow: toShow,\r\n            }, this._agmInstance);\r\n        };\r\n        GDEnvironment.prototype.onCompositionChanged = function (callback) {\r\n            return this._registry.add(\"composition-changed\", callback);\r\n        };\r\n        GDEnvironment.prototype.onGroupHeaderVisibilityChanged = function (callback) {\r\n            return this._registry.add(\"group-header-changed\", callback);\r\n        };\r\n        GDEnvironment.prototype.onWindowGotFocus = function (callback) {\r\n            return this._registry.add(\"got-focus\", callback);\r\n        };\r\n        GDEnvironment.prototype.onWindowLostFocus = function (callback) {\r\n            return this._registry.add(\"lost-focus\", callback);\r\n        };\r\n        GDEnvironment.prototype.normalizeInstance = function (instance) {\r\n            if (!instance) {\r\n                return undefined;\r\n            }\r\n            return {\r\n                application: instance.application,\r\n                machine: instance.machine,\r\n                user: instance.user,\r\n            };\r\n        };\r\n        GDEnvironment.prototype.respondToEvent = function (args) {\r\n            if (args.type === \"ShowFlydownBoundsRequested\") {\r\n                return this.executor.handleFlydownBoundsRequested(args.data.windowId, args.data);\r\n            }\r\n            return Promise.reject(\"There isn't a handler for \" + args.type);\r\n        };\r\n        GDEnvironment.prototype.updateWindow = function (windowInfo, readyResolve) {\r\n            var _this = this;\r\n            var extendedStreamEvent = this.getExtendedStreamEvent(windowInfo);\r\n            if (windowInfo.type === \"Snapshot\") {\r\n                var windowInfoFullInfoEvent = windowInfo;\r\n                windowInfoFullInfoEvent.windows.forEach(function (w) {\r\n                    var win = _this.createWindow(w.id, w);\r\n                    windowStore.markReadyToShow(win.API.id);\r\n                    _this._registry.execute(\"window-event\", extendedStreamEvent);\r\n                });\r\n                readyResolve(this);\r\n                return;\r\n            }\r\n            if (windowInfo.type === \"Created\") {\r\n                var windowInfoCreatedEvent = windowInfo;\r\n                var win = this.createWindow(windowInfoCreatedEvent.windowId, windowInfoCreatedEvent.data || {});\r\n                windowStore.setReadyState(win.API.id);\r\n                this._registry.execute(\"window-event\", extendedStreamEvent);\r\n                return;\r\n            }\r\n            var windowObjectAndEvents = windowStore.get(windowInfo.windowId);\r\n            if (!windowObjectAndEvents) {\r\n                this._logger.error(\"received update for unknown window. Stream:', \" + JSON.stringify(windowInfo, null, 4));\r\n                return;\r\n            }\r\n            var theWindow = windowObjectAndEvents.API;\r\n            var theWindowEvents = windowObjectAndEvents.Events;\r\n            if (windowInfo.type === \"BoundsChanged\") {\r\n                var windowInfoBoundsChangedEvent = windowInfo;\r\n                theWindowEvents.handleBoundsChanged(windowInfoBoundsChangedEvent.data);\r\n            }\r\n            if (windowInfo.type === \"UrlChanged\") {\r\n                var windowInfoUrlChangedEvent = windowInfo;\r\n                windowStore.setUrlChangedState(windowInfoUrlChangedEvent.windowId);\r\n                theWindowEvents.handleUrlChanged(windowInfoUrlChangedEvent.data);\r\n            }\r\n            if (windowInfo.type === \"TitleChanged\") {\r\n                var windowInfoTitleChanged = windowInfo;\r\n                theWindowEvents.handleTitleChanged(windowInfoTitleChanged.data);\r\n            }\r\n            if (windowInfo.type === \"IsStickyChanged\") {\r\n                var windowInfoIsStickyChangedChanged = windowInfo;\r\n                theWindowEvents.handleIsStickyChanged(windowInfoIsStickyChangedChanged.data);\r\n            }\r\n            if (windowInfo.type === \"VisibilityChanged\") {\r\n                theWindowEvents.handleVisibilityChanged(windowInfo.data);\r\n            }\r\n            if (windowInfo.type === \"ContextChanged\") {\r\n                theWindowEvents.handleContextUpdated(windowInfo.data);\r\n            }\r\n            if (windowInfo.type === \"StateChanged\") {\r\n                theWindowEvents.handleWindowChangeState(windowInfo.data);\r\n            }\r\n            if (windowInfo.type === \"FrameColorChanged\") {\r\n                theWindowEvents.handleFrameColorChanged(windowInfo.data);\r\n                this._registry.execute(\"frame-color-changed\", theWindow);\r\n            }\r\n            if (windowInfo.type === \"CompositionChanged\") {\r\n                var windowInfoCompositionChanged = windowInfo;\r\n                theWindowEvents.handleCompositionChanged(windowInfoCompositionChanged.data.neighbors, windowInfoCompositionChanged.data.groupId);\r\n                this._registry.execute(\"composition-changed\", windowInfoCompositionChanged.data);\r\n            }\r\n            if (windowInfo.type === \"GroupHeaderVisibilityChanged\") {\r\n                var info = windowInfo;\r\n                theWindowEvents.handleGroupHeaderVisibilityChanged(info.data.groupHeaderVisible);\r\n                this._registry.execute(\"group-header-changed\", info.data);\r\n            }\r\n            if (windowInfo.type === \"FocusChanged\") {\r\n                var windowInfoFocusChanged = windowInfo;\r\n                this.focusChanged(theWindowEvents, theWindow, windowInfoFocusChanged.data);\r\n            }\r\n            if (windowInfo.type === \"WindowFrameChanged\") {\r\n                theWindowEvents.handleFrameAttached(windowInfo.data.frameId, windowInfo.data.isTabHeaderVisible);\r\n                this._registry.execute(\"frame-changed\");\r\n            }\r\n            if (windowInfo.type === \"WindowFrameAdded\") {\r\n                theWindowEvents.handleAttached(windowInfo.data.frameId, windowInfo.data.isTabHeaderVisible);\r\n                var winsToBeNotified_1 = getWindowsByTabGroupId(theWindow.id, windowInfo.data.frameId);\r\n                Object.keys(winsToBeNotified_1).forEach(function (id) {\r\n                    var win = winsToBeNotified_1[id];\r\n                    win.Events.handleWindowAttached(theWindow);\r\n                });\r\n                this._registry.execute(\"tab-attached\", theWindow, windowInfo.data.frameId, windowInfo.data.isTabHeaderVisible);\r\n            }\r\n            if (windowInfo.type === \"WindowFrameRemoved\") {\r\n                var oldTabGroupId = theWindow.tabGroupId;\r\n                theWindowEvents.handleDetached(windowInfo.data.frameId);\r\n                var winsToBeNotified_2 = getWindowsByTabGroupId(theWindow.id, oldTabGroupId);\r\n                Object.keys(winsToBeNotified_2).forEach(function (id) {\r\n                    var win = winsToBeNotified_2[id];\r\n                    win.Events.handleWindowDetached(theWindow);\r\n                });\r\n                var un_1 = this._registry.add(\"frame-changed\", function () {\r\n                    un_1();\r\n                    _this._registry.execute(\"tab-detached\", theWindow, windowInfo.data.frameId, theWindow.tabGroupId);\r\n                });\r\n            }\r\n            if (windowInfo.type === \"TabHeaderVisibilityChanged\") {\r\n                theWindowEvents.handleTabHeaderVisibilityChanged(windowInfo.data.isTabHeaderVisible);\r\n            }\r\n            if (windowInfo.type === \"FrameSelectionChanged\") {\r\n                theWindowEvents.handleFrameSelectionChanged(windowInfo.data.newWindowId, windowInfo.data.prevWindowId);\r\n            }\r\n            if (windowInfo.type === \"ButtonClicked\") {\r\n                theWindowEvents.handleFrameButtonClicked(windowInfo.data);\r\n            }\r\n            if (windowInfo.type === \"ButtonAdded\") {\r\n                theWindowEvents.handleFrameButtonAdded(windowInfo.data);\r\n            }\r\n            if (windowInfo.type === \"ButtonRemoved\") {\r\n                theWindowEvents.handleFrameButtonRemoved(windowInfo.data);\r\n            }\r\n            if (windowInfo.type === \"WindowZoomFactorChanged\") {\r\n                theWindowEvents.handleZoomFactorChanged(windowInfo.data);\r\n            }\r\n            if (windowInfo.type === \"Closed\") {\r\n                windowStore.remove(windowObjectAndEvents);\r\n                theWindowEvents.handleWindowClose();\r\n            }\r\n            if (windowInfo.type === \"FrameIsLockedChanged\") {\r\n                theWindowEvents.handleFrameIsLockedChanged(windowInfo.data);\r\n            }\r\n            this._registry.execute(\"window-event\", extendedStreamEvent);\r\n        };\r\n        GDEnvironment.prototype.createWindow = function (windowId, options) {\r\n            var _a;\r\n            var wrapper = windowStore.get(windowId);\r\n            var windowObjAndEvents = windowFactory(windowId, this.mapToWindowConstructorOptions(options), executor, this._logger, this._appManagerGetter, this._agm, (_a = wrapper) === null || _a === void 0 ? void 0 : _a.Registry);\r\n            windowStore.add(windowObjAndEvents);\r\n            return windowObjAndEvents;\r\n        };\r\n        GDEnvironment.prototype.focusChanged = function (theWindowEvents, theWindow, focus) {\r\n            theWindowEvents.handleFocusChanged(focus);\r\n            if (focus) {\r\n                this._registry.execute(\"got-focus\", theWindow);\r\n            }\r\n            else {\r\n                this._registry.execute(\"lost-focus\", theWindow);\r\n            }\r\n        };\r\n        GDEnvironment.prototype.mapToWindowConstructorOptions = function (args) {\r\n            return {\r\n                name: args.name,\r\n                context: args.context,\r\n                bounds: args.bounds,\r\n                url: args.url,\r\n                title: args.title,\r\n                isVisible: args.isVisible,\r\n                focus: args.isFocused,\r\n                state: args.state,\r\n                frameColor: args.frameColor,\r\n                groupId: args.groupId,\r\n                neighbours: args.neighbors,\r\n                isFocused: args.isFocused,\r\n                isGroupHeaderVisible: args.groupHeaderVisible,\r\n                isCollapsed: args.isCollapsed,\r\n                tabGroupId: args.frameId,\r\n                mode: args.mode,\r\n                isTabHeaderVisible: args.isTabHeaderVisible,\r\n                isTabSelected: args.isActiveTab,\r\n                settings: args.settings,\r\n                windowType: args.windowType,\r\n                zoomFactor: args.zoomFactor,\r\n                isLocked: args.isLocked,\r\n            };\r\n        };\r\n        GDEnvironment.prototype.getExtendedStreamEvent = function (streamEvent) {\r\n            try {\r\n                var result = __assign({ state: streamEvent.type, windowName: windowStore.get(streamEvent.windowId).API.name }, streamEvent);\r\n                if (result.state === \"WindowFrameAdded\") {\r\n                    result.state = \"TabAttached\";\r\n                }\r\n                if (result.state === \"StateChanged\") {\r\n                    result.state = result.data.charAt(0).toUpperCase() + result.data.slice(1);\r\n                }\r\n                if (result.state === \"ButtonAdded\") {\r\n                    result.state = \"FrameButtonAdded\";\r\n                }\r\n                if (result.state === \"ButtonRemoved\") {\r\n                    result.state = \"FrameButtonRemoved\";\r\n                }\r\n                return result;\r\n            }\r\n            catch (error) {\r\n                return streamEvent;\r\n            }\r\n        };\r\n        return GDEnvironment;\r\n    }());\n\n    var envDetector = (function (agm, logger, appManagerGetter, gdMajorVersion) {\r\n        var _logger = logger;\r\n        return new Promise(function (resolve, reject) {\r\n            if (gdMajorVersion === 2) {\r\n                _logger.trace(\"running in HC\");\r\n                throw new Error(\"GD2 not supported\");\r\n            }\r\n            else if (gdMajorVersion >= 3) {\r\n                _logger.trace(\"running in GD 3\");\r\n                var gd = new GDEnvironment(agm, _logger, appManagerGetter, undefined, window.glue42gd.windowId);\r\n                gd.init()\r\n                    .then(resolve)\r\n                    .catch(reject);\r\n            }\r\n            else {\r\n                var gdPromise = new GDEnvironment(agm, _logger, appManagerGetter).init();\r\n                var wait = function (ms) { return new Promise(function (res, rej) { return setTimeout(function () { rej(\"timeout waiting for streams\"); }, ms); }); };\r\n                Promise.race([gdPromise, wait(10000)])\r\n                    .then(resolve)\r\n                    .catch(reject);\r\n            }\r\n        });\r\n    });\n\n    var groupFactory = (function (id, executor) {\r\n        var _registry = lib$2();\r\n        var _windowsId = [];\r\n        function addWindow(winId) {\r\n            if (_windowsId.indexOf(winId) === -1) {\r\n                _windowsId.push(winId);\r\n                var window_1 = windowStore.get(winId);\r\n                window_1.Events.handleGroupAssociation(groupObject);\r\n                _registry.execute(\"window-added\", groupObject, window_1.API);\r\n            }\r\n        }\r\n        function removeWindow(winId) {\r\n            var index = _windowsId.indexOf(winId);\r\n            if (index !== -1) {\r\n                _windowsId.splice(index, 1);\r\n                var window_2 = _mapToWindowObject(winId);\r\n                _registry.execute(\"window-removed\", groupObject, window_2);\r\n            }\r\n        }\r\n        function find(window, success) {\r\n            var winId;\r\n            if (typeof window === \"string\") {\r\n                winId = window;\r\n            }\r\n            else {\r\n                winId = window.id;\r\n            }\r\n            var index = _windowsId.indexOf(winId);\r\n            if (index !== -1) {\r\n                var mappedWindow = _mapToWindowObject(_windowsId[index]);\r\n                if (typeof success === \"function\") {\r\n                    success(mappedWindow);\r\n                }\r\n                return mappedWindow;\r\n            }\r\n        }\r\n        function windows(success) {\r\n            var mappedWindows = _mapToWindowObjects();\r\n            if (typeof success === \"function\") {\r\n                success(mappedWindows);\r\n            }\r\n            return mappedWindows;\r\n        }\r\n        function showHeader(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                Promise.all([\r\n                    executor.setGroupHeaderVisible(_windowsId[0], true),\r\n                    waitForHeaderVisibilityChanged()\r\n                ])\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(groupObject);\r\n                    }\r\n                    resolve(groupObject);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function hideHeader(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                Promise.all([\r\n                    executor.setGroupHeaderVisible(_windowsId[0], false),\r\n                    waitForHeaderVisibilityChanged()\r\n                ])\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(groupObject);\r\n                    }\r\n                    resolve(groupObject);\r\n                })\r\n                    .catch(function (e) {\r\n                    return;\r\n                });\r\n            });\r\n        }\r\n        function getTitle() {\r\n            return executor.getGroupTitle(_windowsId[0]);\r\n        }\r\n        function setTitle(title) {\r\n            return executor.setGroupTitle(_windowsId[0], title);\r\n        }\r\n        function capture(captureOptions) {\r\n            return executor.captureGroup(_windowsId, captureOptions);\r\n        }\r\n        function waitForHeaderVisibilityChanged() {\r\n            return new Promise(function (resolve, reject) {\r\n                var unsub = onHeaderVisibilityChanged(function (group) {\r\n                    unsub();\r\n                    resolve();\r\n                });\r\n            });\r\n        }\r\n        function execute(command, options, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.execute(command, options)\r\n                    .then(function (w) {\r\n                    if (typeof success === \"function\") {\r\n                        success(groupObject);\r\n                    }\r\n                    resolve(groupObject);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function handleGroupHeaderVisibilityChanged(windowInfo) {\r\n            _registry.execute(\"header-visibility-changed\", groupObject);\r\n        }\r\n        function _mapToWindowObjects() {\r\n            var winObjects = [];\r\n            _windowsId.forEach(function (winId) {\r\n                var windowObject = _mapToWindowObject(winId);\r\n                if (typeof windowObject !== \"undefined\") {\r\n                    winObjects.push(windowObject);\r\n                }\r\n            });\r\n            return winObjects;\r\n        }\r\n        function _mapToWindowObject(windowId) {\r\n            return windowStore.get(windowId) ? windowStore.get(windowId).API : undefined;\r\n        }\r\n        function _getGroupHeaderVisibility() {\r\n            var windowWithHiddenHeader = _mapToWindowObjects().find(function (w) { return !w.isGroupHeaderVisible; });\r\n            var _isGroupHeaderVisible = windowWithHiddenHeader === undefined;\r\n            return _isGroupHeaderVisible;\r\n        }\r\n        function onHeaderVisibilityChanged(callback) {\r\n            return _registry.add(\"header-visibility-changed\", callback);\r\n        }\r\n        function onWindowAdded(callback) {\r\n            return _registry.add(\"window-added\", callback);\r\n        }\r\n        function onWindowRemoved(callback) {\r\n            return _registry.add(\"window-removed\", callback);\r\n        }\r\n        var groupObject = {\r\n            id: id,\r\n            get windows() {\r\n                return windows();\r\n            },\r\n            find: find,\r\n            get isHeaderVisible() {\r\n                return _getGroupHeaderVisibility();\r\n            },\r\n            showHeader: showHeader,\r\n            hideHeader: hideHeader,\r\n            getTitle: getTitle,\r\n            setTitle: setTitle,\r\n            capture: capture,\r\n            maximize: function (success, error) {\r\n                return execute(\"maximize\", { groupId: id }, success);\r\n            },\r\n            restore: function (success, error) {\r\n                return execute(\"restore\", { groupId: id }, success);\r\n            },\r\n            onHeaderVisibilityChanged: onHeaderVisibilityChanged,\r\n            onWindowAdded: onWindowAdded,\r\n            onWindowRemoved: onWindowRemoved,\r\n        };\r\n        var internal = {\r\n            addWindow: addWindow,\r\n            removeWindow: removeWindow,\r\n            handleGroupHeaderVisibilityChanged: handleGroupHeaderVisibilityChanged,\r\n        };\r\n        return {\r\n            groupAPI: groupObject,\r\n            groupInternal: internal,\r\n        };\r\n    });\n\n    var groupsFactory = (function (environment, logger) {\r\n        var _logger = logger.subLogger(\"groups\");\r\n        var _registry = lib$2();\r\n        var _groups = {};\r\n        var heardForWindowsCounter = -1;\r\n        var windows = windowStore.list;\r\n        Object.keys(windows).forEach(function (k) {\r\n            addNewWindow(windows[k]);\r\n        });\r\n        environment.onCompositionChanged(function (windowInfo) {\r\n            handleCompositionChanged(windowInfo);\r\n        });\r\n        environment.onGroupHeaderVisibilityChanged(function (windowInfo) {\r\n            var windowId = windowInfo.windowId;\r\n            var group = findGroupByWindow(windowId);\r\n            if (typeof group !== \"undefined\") {\r\n                var groupEvents = _groups[group.id];\r\n                if (heardForWindowsCounter === -1) {\r\n                    heardForWindowsCounter = group.windows.length;\r\n                }\r\n                heardForWindowsCounter--;\r\n                if (heardForWindowsCounter === 0) {\r\n                    heardForWindowsCounter = -1;\r\n                    groupEvents.groupInternal.handleGroupHeaderVisibilityChanged(windowInfo);\r\n                }\r\n            }\r\n        });\r\n        windowStore.onAdded(function (win) {\r\n            addNewWindow(win);\r\n        });\r\n        windowStore.onRemoved(function (win) {\r\n            removeWindow(win);\r\n        });\r\n        function my() {\r\n            return findGroupByWindow(environment.my());\r\n        }\r\n        function list(success) {\r\n            var result = Object.keys(_groups).map(function (groupId) {\r\n                if (_groups[groupId]) {\r\n                    return _groups[groupId].groupAPI;\r\n                }\r\n            });\r\n            if (typeof success === \"function\") {\r\n                success(result);\r\n            }\r\n            return result;\r\n        }\r\n        function findGroupByWindow(winId, success) {\r\n            var windowId;\r\n            if (typeof winId === \"undefined\") {\r\n                logger.debug(\"trying to find a group by a window, but winId is undefined\");\r\n                return;\r\n            }\r\n            if (typeof winId === \"string\") {\r\n                windowId = winId;\r\n            }\r\n            else {\r\n                windowId = winId.id;\r\n            }\r\n            var groupFound;\r\n            Object.keys(_groups).forEach(function (groupId) {\r\n                var group = _groups[groupId].groupAPI;\r\n                if (group.find(windowId) !== undefined) {\r\n                    groupFound = group;\r\n                    return;\r\n                }\r\n            });\r\n            if (typeof success === \"function\") {\r\n                success(groupFound);\r\n            }\r\n            return groupFound;\r\n        }\r\n        function onWindowMoved(callback) {\r\n            return _registry.add(\"window-moved\", callback);\r\n        }\r\n        function createOrGetGroup(groupId) {\r\n            if (!_groups.hasOwnProperty(groupId)) {\r\n                var createdGroup = groupFactory(groupId, environment.executor);\r\n                _groups[groupId] = createdGroup;\r\n                return createdGroup;\r\n            }\r\n            else {\r\n                return _groups[groupId];\r\n            }\r\n        }\r\n        function deleteGroup(groupId) {\r\n            if (_groups.hasOwnProperty(groupId) && typeof _groups[groupId] !== \"undefined\") {\r\n                if (_groups[groupId].groupAPI.windows.length === 0) {\r\n                    delete _groups[groupId];\r\n                }\r\n            }\r\n        }\r\n        function addNewWindow(win) {\r\n            _logger.trace(\"Adding new window \" + win.API.id + \" to win.API.groupId \" + win.API.groupId);\r\n            var group = addWindow(win);\r\n            if (group) {\r\n                _logger.trace(\"handleGroupAssociation \" + win.API.id + \" to group.groupAPI.id \" + group.groupAPI.id);\r\n                win.Events.handleGroupAssociation(group.groupAPI);\r\n            }\r\n        }\r\n        function addWindow(win, groupId) {\r\n            var windowGroupId = groupId || win.API.groupId;\r\n            var windowId = win.API.id;\r\n            if (typeof windowGroupId === \"undefined\" || typeof windowId === \"undefined\") {\r\n                _logger.debug(\"trying to add a window without group - winId: \" + windowId);\r\n                return;\r\n            }\r\n            var group = createOrGetGroup(windowGroupId);\r\n            group.groupInternal.addWindow(windowId);\r\n            return group;\r\n        }\r\n        function removeWindow(win, groupId) {\r\n            var windowId = win.API.id;\r\n            var windowGroupId = groupId || win.API.groupId;\r\n            if (typeof windowGroupId !== \"undefined\") {\r\n                var group = _groups[windowGroupId];\r\n                group.groupInternal.removeWindow(windowId);\r\n                win.Events.handleGroupAssociation(undefined);\r\n                deleteGroup(windowGroupId);\r\n            }\r\n        }\r\n        function handleCompositionChanged(windowInfo) {\r\n            var newGroupId = windowInfo.groupId;\r\n            var windowId = windowInfo.windowId;\r\n            var oldGroup = findGroupByWindow(windowId);\r\n            var oldGroupId = oldGroup ? oldGroup.id : undefined;\r\n            _logger.trace(\"handleCompositionChanged newGroupId: \" + newGroupId + \" windowId: \" + windowId + \" oldGroup: \" + oldGroupId);\r\n            if (oldGroupId === newGroupId) {\r\n                _logger.trace(\"handleCompositionChanged newGroupId: \" + newGroupId + \" windowId: \" + windowId + \" oldGroup: \" + oldGroupId + \" are the same - returning...\");\r\n                return;\r\n            }\r\n            var win = windowStore.get(windowId) || windowStore.get(windowId);\r\n            var newGroup = addWindow(win, newGroupId);\r\n            if (oldGroup) {\r\n                removeWindow(win, oldGroupId);\r\n                _registry.execute(\"window-moved\", windowId, oldGroup, newGroupId);\r\n            }\r\n            win.Events.handleGroupChanged(newGroup.groupAPI, oldGroup);\r\n        }\r\n        var groups = {\r\n            get my() {\r\n                return my();\r\n            },\r\n            list: list,\r\n            findGroupByWindow: findGroupByWindow,\r\n        };\r\n        var events = { onWindowMoved: onWindowMoved };\r\n        return {\r\n            groupsAPI: groups,\r\n            groupsEvents: events,\r\n        };\r\n    });\n\n    var WindowsFactory = (function (agm, logger, appManagerGetter, gdMajorVersion) {\r\n        var _registry = lib$2();\r\n        var _logger = logger;\r\n        var groups;\r\n        var environment;\r\n        windowStore.init(_logger);\r\n        var isReady = new Promise(function (resolve, reject) {\r\n            envDetector(agm, _logger, appManagerGetter, gdMajorVersion)\r\n                .then(function (env) {\r\n                environment = env;\r\n                groups = groupsFactory(env, _logger);\r\n                resolve();\r\n            })\r\n                .catch(function (e) {\r\n                var err = \"Environment detector fails with: \" + e;\r\n                _logger.error(err);\r\n                reject(err);\r\n            });\r\n        });\r\n        function ready() {\r\n            return isReady;\r\n        }\r\n        function my() {\r\n            var myWindow = windowStore.getIfReady(environment.my());\r\n            return myWindow ? myWindow.API : undefined;\r\n        }\r\n        function open(name, url, options, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                var errorHandler = function (errorResponse) {\r\n                    if (typeof error === \"function\") {\r\n                        error(errorResponse);\r\n                    }\r\n                    reject(errorResponse);\r\n                };\r\n                var successHandler = function (id) {\r\n                    windowStore.waitFor(id)\r\n                        .then(function (win) {\r\n                        if (typeof success === \"function\") {\r\n                            success(win.API);\r\n                        }\r\n                        resolve(win.API);\r\n                        if (win.API.windowType === \"electron\") {\r\n                            win.Events.handleUrlChanged(win.API.url);\r\n                        }\r\n                    })\r\n                        .catch(errorHandler);\r\n                };\r\n                environment.open(name, url, options, successHandler, errorHandler);\r\n            });\r\n        }\r\n        function find(name, success, error) {\r\n            var windows = windowStore.list;\r\n            var windowsForListing = Object.keys(windows).reduce(function (memo, winId) {\r\n                var window = windows[winId];\r\n                if (window && window.API.name === name) {\r\n                    memo.push(window.API);\r\n                }\r\n                return memo;\r\n            }, []);\r\n            if (typeof success !== \"function\") {\r\n                return windowsForListing[0];\r\n            }\r\n            if (windowsForListing.length > 0) {\r\n                success(windowsForListing[0]);\r\n            }\r\n            else {\r\n                if (typeof error === \"function\") {\r\n                    error(\"There is no window with name:\" + name);\r\n                }\r\n            }\r\n        }\r\n        function findById(id, success, error) {\r\n            var windows = windowStore.list;\r\n            var windowsForListing = Object.keys(windows).reduce(function (memo, winId) {\r\n                var window = windows[winId];\r\n                if (typeof window !== \"undefined\" && window.API.id === id) {\r\n                    memo.push(window.API);\r\n                }\r\n                return memo;\r\n            }, []);\r\n            if (typeof success !== \"function\") {\r\n                return windowsForListing[0];\r\n            }\r\n            if (windowsForListing.length > 0) {\r\n                success(windowsForListing[0]);\r\n            }\r\n            else {\r\n                if (typeof error === \"function\") {\r\n                    error(\"There is no window with such id:\" + id);\r\n                }\r\n            }\r\n        }\r\n        function list(success) {\r\n            var windows = windowStore.list;\r\n            var windowsForListing = Object.keys(windows)\r\n                .map(function (k) {\r\n                return windows[k].API;\r\n            });\r\n            if (typeof success !== \"function\") {\r\n                return windowsForListing;\r\n            }\r\n            success(windowsForListing);\r\n        }\r\n        function configure(options) {\r\n            var win = my();\r\n            var winId = win ? win.id : \"\";\r\n            return executor.configure(winId, options);\r\n        }\r\n        function windowAdded(callback) {\r\n            return _registry.add(\"window-added\", callback);\r\n        }\r\n        function windowRemoved(callback) {\r\n            return _registry.add(\"window-removed\", callback);\r\n        }\r\n        function tabAttached(callback) {\r\n            return isReady.then(function () {\r\n                environment.tabAttached(callback);\r\n            });\r\n        }\r\n        function tabDetached(callback) {\r\n            return isReady.then(function () {\r\n                environment.tabDetached(callback);\r\n            });\r\n        }\r\n        function onWindowFrameColorChanged(callback) {\r\n            return isReady.then(function () {\r\n                return environment.onWindowFrameColorChanged(callback);\r\n            });\r\n        }\r\n        function onWindowGotFocus(callback) {\r\n            var unsubscribe;\r\n            isReady.then(function () {\r\n                unsubscribe = environment.onWindowGotFocus(callback);\r\n            });\r\n            return function () {\r\n                if (unsubscribe) {\r\n                    unsubscribe();\r\n                }\r\n            };\r\n        }\r\n        function onWindowLostFocus(callback) {\r\n            var unsubscribe;\r\n            isReady.then(function () {\r\n                unsubscribe = environment.onWindowLostFocus(callback);\r\n            });\r\n            return function () {\r\n                if (unsubscribe) {\r\n                    unsubscribe();\r\n                }\r\n            };\r\n        }\r\n        function onEvent(callback) {\r\n            var unsubFunc;\r\n            var unsubscribed = false;\r\n            isReady.then(function () {\r\n                if (unsubscribed) {\r\n                    return;\r\n                }\r\n                unsubFunc = environment.onEvent(callback);\r\n            });\r\n            return function () {\r\n                unsubscribed = true;\r\n                if (unsubFunc) {\r\n                    unsubFunc();\r\n                }\r\n            };\r\n        }\r\n        function createFlydown(targetId, config) {\r\n            return environment.createFlydown(targetId, config);\r\n        }\r\n        function showPopup(targetId, config) {\r\n            return environment.showPopup(targetId, config);\r\n        }\r\n        function handleWindowAdded(w) {\r\n            _registry.execute(\"window-added\", w.API);\r\n        }\r\n        function handleWindowRemoved(w) {\r\n            _registry.execute(\"window-removed\", w.API);\r\n        }\r\n        windowStore.onReadyWindow(handleWindowAdded);\r\n        windowStore.onRemoved(handleWindowRemoved);\r\n        return {\r\n            my: my,\r\n            open: open,\r\n            find: find,\r\n            findById: findById,\r\n            list: list,\r\n            ready: ready,\r\n            onWindowAdded: windowAdded,\r\n            windowAdded: windowAdded,\r\n            onWindowRemoved: windowRemoved,\r\n            windowRemoved: windowRemoved,\r\n            onTabAttached: tabAttached,\r\n            onTabDetached: tabDetached,\r\n            onWindowFrameColorChanged: onWindowFrameColorChanged,\r\n            get groups() {\r\n                return groups.groupsAPI;\r\n            },\r\n            onWindowGotFocus: onWindowGotFocus,\r\n            onWindowLostFocus: onWindowLostFocus,\r\n            onEvent: onEvent,\r\n            createFlydown: createFlydown,\r\n            showPopup: showPopup,\r\n            configure: configure\r\n        };\r\n    });\n\n    var LayoutStore = (function () {\r\n        function LayoutStore() {\r\n            this.layouts = [];\r\n        }\r\n        LayoutStore.prototype.removeWhere = function (condition) {\r\n            this.layouts = this.layouts.filter(condition);\r\n        };\r\n        LayoutStore.prototype.add = function (item) {\r\n            this.layouts.push(item);\r\n        };\r\n        Object.defineProperty(LayoutStore.prototype, \"all\", {\r\n            get: function () {\r\n                return this.layouts;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        LayoutStore.prototype.where = function (condition) {\r\n            return this.layouts.filter(condition);\r\n        };\r\n        LayoutStore.prototype.first = function (condition) {\r\n            return this.where(condition)[0];\r\n        };\r\n        return LayoutStore;\r\n    }());\r\n    var store = new LayoutStore();\n\n    function createCommonjsModule$1(fn, module) {\n    \treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n    }\n\n    // Found this seed-based random generator somewhere\n    // Based on The Central Randomizer 1.3 (C) 1997 by Paul Houle (houle@msc.cornell.edu)\n\n    var seed$1 = 1;\n\n    /**\n     * return a random number based on a seed\n     * @param seed\n     * @returns {number}\n     */\n    function getNextValue$1() {\n        seed$1 = (seed$1 * 9301 + 49297) % 233280;\n        return seed$1/(233280.0);\n    }\n\n    function setSeed$2(_seed_) {\n        seed$1 = _seed_;\n    }\n\n    var randomFromSeed$1 = {\n        nextValue: getNextValue$1,\n        seed: setSeed$2\n    };\n\n    var ORIGINAL$1 = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-';\n    var alphabet$1;\n    var previousSeed$1;\n\n    var shuffled$1;\n\n    function reset$1() {\n        shuffled$1 = false;\n    }\n\n    function setCharacters$1(_alphabet_) {\n        if (!_alphabet_) {\n            if (alphabet$1 !== ORIGINAL$1) {\n                alphabet$1 = ORIGINAL$1;\n                reset$1();\n            }\n            return;\n        }\n\n        if (_alphabet_ === alphabet$1) {\n            return;\n        }\n\n        if (_alphabet_.length !== ORIGINAL$1.length) {\n            throw new Error('Custom alphabet for shortid must be ' + ORIGINAL$1.length + ' unique characters. You submitted ' + _alphabet_.length + ' characters: ' + _alphabet_);\n        }\n\n        var unique = _alphabet_.split('').filter(function(item, ind, arr){\n           return ind !== arr.lastIndexOf(item);\n        });\n\n        if (unique.length) {\n            throw new Error('Custom alphabet for shortid must be ' + ORIGINAL$1.length + ' unique characters. These characters were not unique: ' + unique.join(', '));\n        }\n\n        alphabet$1 = _alphabet_;\n        reset$1();\n    }\n\n    function characters$1(_alphabet_) {\n        setCharacters$1(_alphabet_);\n        return alphabet$1;\n    }\n\n    function setSeed$3(seed) {\n        randomFromSeed$1.seed(seed);\n        if (previousSeed$1 !== seed) {\n            reset$1();\n            previousSeed$1 = seed;\n        }\n    }\n\n    function shuffle$1() {\n        if (!alphabet$1) {\n            setCharacters$1(ORIGINAL$1);\n        }\n\n        var sourceArray = alphabet$1.split('');\n        var targetArray = [];\n        var r = randomFromSeed$1.nextValue();\n        var characterIndex;\n\n        while (sourceArray.length > 0) {\n            r = randomFromSeed$1.nextValue();\n            characterIndex = Math.floor(r * sourceArray.length);\n            targetArray.push(sourceArray.splice(characterIndex, 1)[0]);\n        }\n        return targetArray.join('');\n    }\n\n    function getShuffled$1() {\n        if (shuffled$1) {\n            return shuffled$1;\n        }\n        shuffled$1 = shuffle$1();\n        return shuffled$1;\n    }\n\n    /**\n     * lookup shuffled letter\n     * @param index\n     * @returns {string}\n     */\n    function lookup$1(index) {\n        var alphabetShuffled = getShuffled$1();\n        return alphabetShuffled[index];\n    }\n\n    var alphabet_1$1 = {\n        characters: characters$1,\n        seed: setSeed$3,\n        lookup: lookup$1,\n        shuffled: getShuffled$1\n    };\n\n    var crypto$1 = typeof window === 'object' && (window.crypto || window.msCrypto); // IE 11 uses window.msCrypto\n\n    function randomByte$1() {\n        if (!crypto$1 || !crypto$1.getRandomValues) {\n            return Math.floor(Math.random() * 256) & 0x30;\n        }\n        var dest = new Uint8Array(1);\n        crypto$1.getRandomValues(dest);\n        return dest[0] & 0x30;\n    }\n\n    var randomByteBrowser$1 = randomByte$1;\n\n    function encode$1(lookup, number) {\n        var loopCounter = 0;\n        var done;\n\n        var str = '';\n\n        while (!done) {\n            str = str + lookup( ( (number >> (4 * loopCounter)) & 0x0f ) | randomByteBrowser$1() );\n            done = number < (Math.pow(16, loopCounter + 1 ) );\n            loopCounter++;\n        }\n        return str;\n    }\n\n    var encode_1$1 = encode$1;\n\n    /**\n     * Decode the id to get the version and worker\n     * Mainly for debugging and testing.\n     * @param id - the shortid-generated id.\n     */\n    function decode$1(id) {\n        var characters = alphabet_1$1.shuffled();\n        return {\n            version: characters.indexOf(id.substr(0, 1)) & 0x0f,\n            worker: characters.indexOf(id.substr(1, 1)) & 0x0f\n        };\n    }\n\n    var decode_1$1 = decode$1;\n\n    // Ignore all milliseconds before a certain time to reduce the size of the date entropy without sacrificing uniqueness.\n    // This number should be updated every year or so to keep the generated id short.\n    // To regenerate `new Date() - 0` and bump the version. Always bump the version!\n    var REDUCE_TIME = 1459707606518;\n\n    // don't change unless we change the algos or REDUCE_TIME\n    // must be an integer and less than 16\n    var version$1 = 6;\n\n    // Counter is used when shortid is called multiple times in one second.\n    var counter;\n\n    // Remember the last time shortid was called in case counter is needed.\n    var previousSeconds;\n\n    /**\n     * Generate unique id\n     * Returns string id\n     */\n    function build(clusterWorkerId) {\n\n        var str = '';\n\n        var seconds = Math.floor((Date.now() - REDUCE_TIME) * 0.001);\n\n        if (seconds === previousSeconds) {\n            counter++;\n        } else {\n            counter = 0;\n            previousSeconds = seconds;\n        }\n\n        str = str + encode_1$1(alphabet_1$1.lookup, version$1);\n        str = str + encode_1$1(alphabet_1$1.lookup, clusterWorkerId);\n        if (counter > 0) {\n            str = str + encode_1$1(alphabet_1$1.lookup, counter);\n        }\n        str = str + encode_1$1(alphabet_1$1.lookup, seconds);\n\n        return str;\n    }\n\n    var build_1 = build;\n\n    function isShortId$1(id) {\n        if (!id || typeof id !== 'string' || id.length < 6 ) {\n            return false;\n        }\n\n        var characters = alphabet_1$1.characters();\n        var len = id.length;\n        for(var i = 0; i < len;i++) {\n            if (characters.indexOf(id[i]) === -1) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    var isValid$1 = isShortId$1;\n\n    var lib$3 = createCommonjsModule$1(function (module) {\n\n\n\n\n\n\n\n    // if you are using cluster or multiple servers use this to make each instance\n    // has a unique value for worker\n    // Note: I don't know if this is automatically set when using third\n    // party cluster solutions such as pm2.\n    var clusterWorkerId =  0;\n\n    /**\n     * Set the seed.\n     * Highly recommended if you don't want people to try to figure out your id schema.\n     * exposed as shortid.seed(int)\n     * @param seed Integer value to seed the random alphabet.  ALWAYS USE THE SAME SEED or you might get overlaps.\n     */\n    function seed(seedValue) {\n        alphabet_1$1.seed(seedValue);\n        return module.exports;\n    }\n\n    /**\n     * Set the cluster worker or machine id\n     * exposed as shortid.worker(int)\n     * @param workerId worker must be positive integer.  Number less than 16 is recommended.\n     * returns shortid module so it can be chained.\n     */\n    function worker(workerId) {\n        clusterWorkerId = workerId;\n        return module.exports;\n    }\n\n    /**\n     *\n     * sets new characters to use in the alphabet\n     * returns the shuffled alphabet\n     */\n    function characters(newCharacters) {\n        if (newCharacters !== undefined) {\n            alphabet_1$1.characters(newCharacters);\n        }\n\n        return alphabet_1$1.shuffled();\n    }\n\n    /**\n     * Generate unique id\n     * Returns string id\n     */\n    function generate() {\n      return build_1(clusterWorkerId);\n    }\n\n    // Export all other functions as properties of the generate function\n    module.exports = generate;\n    module.exports.generate = generate;\n    module.exports.seed = seed;\n    module.exports.worker = worker;\n    module.exports.characters = characters;\n    module.exports.decode = decode_1$1;\n    module.exports.isValid = isValid$1;\n    });\n    var lib_1$1 = lib$3.generate;\n    var lib_2$1 = lib$3.seed;\n    var lib_3$1 = lib$3.worker;\n    var lib_4$1 = lib$3.characters;\n    var lib_5$1 = lib$3.decode;\n    var lib_6$1 = lib$3.isValid;\n\n    var shortid$1 = lib$3;\n\n    var SaveContextMethodName = \"T42.HC.GetSaveContext\";\r\n    var ContextProvider = (function () {\r\n        function ContextProvider(config, activitiesGetter, callbacks, logger) {\r\n            this.config = config;\r\n            this.activitiesGetter = activitiesGetter;\r\n            this.callbacks = callbacks;\r\n            this.logger = logger;\r\n            this.interop = config.agm;\r\n            this.registerRequestMethods();\r\n        }\r\n        ContextProvider.prototype.onSaveRequested = function (callback) {\r\n            return this.callbacks.add(\"saveRequested\", callback);\r\n        };\r\n        ContextProvider.prototype.isActivityOwner = function () {\r\n            if (typeof htmlContainer !== \"undefined\") {\r\n                var context_1 = htmlContainer.getContext();\r\n                return context_1 && context_1._t42 && context_1._t42.activityIsOwner;\r\n            }\r\n            var activities = this.activitiesGetter();\r\n            if (!activities) {\r\n                return false;\r\n            }\r\n            if (!activities.inActivity) {\r\n                return false;\r\n            }\r\n            var myWindow = activities.my.window;\r\n            var myActivity = activities.my.activity;\r\n            if (!myActivity && !myWindow) {\r\n                return false;\r\n            }\r\n            return myActivity.owner.id === myWindow.id;\r\n        };\r\n        ContextProvider.prototype.registerRequestMethods = function () {\r\n            var _this = this;\r\n            this.interop.register(SaveContextMethodName, function (args) {\r\n                var _a, _b, _c;\r\n                var usersCbs = _this.callbacks.execute(\"saveRequested\", args);\r\n                if (((_a = usersCbs) === null || _a === void 0 ? void 0 : _a.length) > 1) {\r\n                    _this.logger.warn(\"Multiple subscriptions for \\\"glue.layouts.onSaveRequested\\\" - only the first one will be used\");\r\n                }\r\n                var requestResult = usersCbs[0];\r\n                var autoSaveWindowContext = _this.config.autoSaveWindowContext;\r\n                if (autoSaveWindowContext) {\r\n                    return { autoSaveWindowContext: autoSaveWindowContext };\r\n                }\r\n                var result = { windowContext: (_b = requestResult) === null || _b === void 0 ? void 0 : _b.windowContext, activityContext: undefined };\r\n                if (_this.isActivityOwner()) {\r\n                    result.activityContext = (_c = requestResult) === null || _c === void 0 ? void 0 : _c.activityContext;\r\n                }\r\n                return result;\r\n            });\r\n        };\r\n        return ContextProvider;\r\n    }());\n\n    function transformACSLayout(something) {\r\n        if (!something) {\r\n            return something;\r\n        }\r\n        if (Array.isArray(something)) {\r\n            return something.map(function (item) {\r\n                return transformACSLayout(item);\r\n            });\r\n        }\r\n        if (typeof something === \"string\" || typeof something === \"number\" || typeof something === \"boolean\") {\r\n            return something;\r\n        }\r\n        var initial = {};\r\n        return Object.keys(something).reduce(function (accumulator, current) {\r\n            var value = something[current];\r\n            var convertedValue = transformACSLayout(value);\r\n            var key = current;\r\n            if (current[0].toLowerCase() !== current[0]) {\r\n                key = current[0].toLowerCase() + current.substr(1);\r\n            }\r\n            accumulator[key] = convertedValue;\r\n            return accumulator;\r\n        }, initial);\r\n    }\n\n    var LayoutImpl = (function () {\r\n        function LayoutImpl(data) {\r\n            this.name = data.name;\r\n            this.type = data.type;\r\n            this.components = data.components;\r\n            this.context = data.context;\r\n            this.metadata = data.metadata;\r\n            this.version = data.version;\r\n        }\r\n        return LayoutImpl;\r\n    }());\n\n    var LayoutsAPIImpl = (function () {\r\n        function LayoutsAPIImpl(config, stream, callbacks, logger) {\r\n            this.config = config;\r\n            this.stream = stream;\r\n            this.callbacks = callbacks;\r\n            this.appManager = config.appManager;\r\n            this.onEvent = stream.onEvent;\r\n            this.provider = new ContextProvider(config, config.activityGetter, callbacks, logger);\r\n            stream.subscribe();\r\n        }\r\n        LayoutsAPIImpl.prototype.setDefaultGlobal = function (name) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.config.agm.invoke(\"T42.ACS.SelectDefaultLayout\", { name: name })];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.clearDefaultGlobal = function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.config.agm.invoke(\"T42.ACS.DeselectDefaultLayout\")];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.getDefaultGlobal = function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var result, layout;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.config.agm.invoke(\"T42.ACS.GetDefaultLayout\")];\r\n                        case 1:\r\n                            result = _a.sent();\r\n                            layout = result.returned;\r\n                            if (!layout) {\r\n                                return [2, undefined];\r\n                            }\r\n                            if (this.isSlimMode()) {\r\n                                return [2, layout];\r\n                            }\r\n                            return [2, this.list().find(function (l) { return l.name === layout.name && l.type === \"Global\"; })];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.ready = function () {\r\n            if (this.config.mode === \"fullWaitSnapshot\") {\r\n                return this.stream.gotSnapshot;\r\n            }\r\n            return this.stream.ready;\r\n        };\r\n        LayoutsAPIImpl.prototype.save = function (layout) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.verifyNotSlimMode();\r\n                if (!layout.name) {\r\n                    throw Error(\"layout.name argument is required\");\r\n                }\r\n                if (!layout.type) {\r\n                    layout.type = \"Global\";\r\n                }\r\n                if (layout.activityId) {\r\n                    layout.type = \"Activity\";\r\n                }\r\n                if (typeof layout.ignoreHidden === \"undefined\") {\r\n                    layout.ignoreHidden = true;\r\n                }\r\n                var layoutObject = {\r\n                    name: layout.name,\r\n                    actIds: [],\r\n                    appIds: [],\r\n                    type: layout.type,\r\n                    context: layout.context,\r\n                    metadata: layout.metadata || {},\r\n                    options: { ignoreLayoutRestrictions: false },\r\n                };\r\n                if (layout.type === \"Activity\") {\r\n                    var actId = layout.activityId;\r\n                    if (!actId) {\r\n                        if (!_this.appManager.myInstance.inActivity) {\r\n                            throw new Error(\"Current application is not in activity. Can not save activity layout for it\");\r\n                        }\r\n                        actId = _this.appManager.myInstance.activityId;\r\n                    }\r\n                    layoutObject.actIds.push(actId);\r\n                    layoutObject.options = { ignoreLayoutRestrictions: true };\r\n                }\r\n                else if (layout.type === \"Global\") {\r\n                    if (_this.config.gdMajorVersion === 2) {\r\n                        var instances = _this.appManager.instances();\r\n                        if (layout.ignoreHidden) {\r\n                            instances = instances.filter(function (i) { return _this.isVisibleWindow(i); });\r\n                        }\r\n                        if (layout.ignoreMyInstance && _this.appManager.myInstance) {\r\n                            instances = instances.filter(function (i) { return i.id !== _this.appManager.myInstance.id; });\r\n                        }\r\n                        instances.reduce(function (prev, current) {\r\n                            if (!current.id) {\r\n                                return prev;\r\n                            }\r\n                            if (current.inActivity) {\r\n                                var actId = current.activityId;\r\n                                if (prev.actIds.indexOf(actId) === -1) {\r\n                                    prev.actIds.push(actId);\r\n                                }\r\n                            }\r\n                            else {\r\n                                prev.appIds.push(current.id);\r\n                            }\r\n                            return prev;\r\n                        }, layoutObject);\r\n                    }\r\n                    else {\r\n                        layoutObject.autoCollectApps = true;\r\n                    }\r\n                }\r\n                else {\r\n                    throw new Error(\"layout type \" + layout.type + \" not supported\");\r\n                }\r\n                _this.invokeMethodAndTrack(\"T42.ACS.SaveLayout\", layoutObject, resolve, reject);\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.restore = function (options) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.verifyNotSlimMode();\r\n                if (typeof options === \"undefined\") {\r\n                    throw Error(\"options argument is required\");\r\n                }\r\n                if (!options.name) {\r\n                    throw Error(\"options.name argument is required\");\r\n                }\r\n                if (!options.type) {\r\n                    options.type = \"Global\";\r\n                }\r\n                if (options.activityIdToJoin) {\r\n                    options.type = \"Activity\";\r\n                }\r\n                if (typeof options.restoreActivityOwner === \"undefined\") {\r\n                    options.restoreActivityOwner = false;\r\n                }\r\n                if (typeof options.ignoreActivityWindowTypes === \"undefined\") {\r\n                    options.ignoreActivityWindowTypes = [];\r\n                }\r\n                if (typeof options.setActivityContext === \"undefined\") {\r\n                    options.setActivityContext = true;\r\n                }\r\n                if (typeof options.closeRunningInstance === \"undefined\") {\r\n                    if (options.type === \"Global\") {\r\n                        options.closeRunningInstance = true;\r\n                    }\r\n                    else if (options.type === \"Activity\") {\r\n                        options.closeRunningInstance = false;\r\n                    }\r\n                }\r\n                if (typeof options.reuseWindows === \"undefined\") {\r\n                    options.reuseWindows = true;\r\n                }\r\n                options.context = options.context || {};\r\n                var t42 = {\r\n                    restoreOptions: {\r\n                        activityToJoin: options.activityIdToJoin,\r\n                        setActivityContext: options.setActivityContext,\r\n                        ignoreActivityWindowTypes: options.ignoreActivityWindowTypes,\r\n                        restoreActivityOwner: options.restoreActivityOwner,\r\n                        closeOldWindows: options.closeRunningInstance,\r\n                        reuseExistingWindows: options.reuseWindows\r\n                    }\r\n                };\r\n                var arg = {\r\n                    type: options.type,\r\n                    name: options.name,\r\n                    context: options.context,\r\n                    toClose: [],\r\n                    splash: options.splash\r\n                };\r\n                if (_this.config.gdMajorVersion === 2) {\r\n                    if (options.closeRunningInstance) {\r\n                        arg.toClose = _this.getInstancesToClose(options);\r\n                    }\r\n                }\r\n                if (options.timeout) {\r\n                    arg.timeout = options.timeout;\r\n                }\r\n                arg.context._t42 = t42;\r\n                _this.invokeMethodAndTrack(\"T42.ACS.RestoreLayout\", arg, resolve, reject, true);\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.remove = function (type, name) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.verifyNotSlimMode();\r\n                if (!name) {\r\n                    throw Error(\"name argument is required\");\r\n                }\r\n                if (!type) {\r\n                    throw Error(\"type argument is required\");\r\n                }\r\n                var msg = {\r\n                    type: type,\r\n                    name: name,\r\n                };\r\n                _this.invokeMethodAndTrack(\"T42.ACS.RemoveLayout\", msg, resolve, reject);\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.list = function () {\r\n            this.verifyNotSlimMode();\r\n            return store.all;\r\n        };\r\n        LayoutsAPIImpl.prototype.import = function (layouts, mode) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.verifyNotSlimMode();\r\n                var msg = {\r\n                    mode: mode || \"replace\",\r\n                    layouts: layouts\r\n                };\r\n                _this.invokeMethodAndTrack(\"T42.ACS.ImportLayouts\", msg, resolve, reject, true);\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.export = function () {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                var handleResult = function (result) {\r\n                    var layouts = _this.getObjectValues(result.Layouts).map(function (t) { return new LayoutImpl(transformACSLayout(t)); });\r\n                    resolve(layouts);\r\n                };\r\n                _this.invokeMethodAndTrack(\"T42.ACS.ExportLayouts\", {}, handleResult, reject, true);\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.rename = function (layout, newName) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.verifyNotSlimMode();\r\n                if (!layout) {\r\n                    throw Error(\"layout argument is required\");\r\n                }\r\n                if (!layout.name) {\r\n                    throw Error(\"name argument is required\");\r\n                }\r\n                if (!layout.type) {\r\n                    throw Error(\"type argument is required\");\r\n                }\r\n                var msg = { type: layout.type, oldName: layout.name, newName: newName };\r\n                _this.invokeMethodAndTrack(\"T42.ACS.RenameLayout\", msg, resolve, reject);\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.updateMetadata = function (layout) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                if (!layout) {\r\n                    throw Error(\"layout argument is required\");\r\n                }\r\n                if (!layout.name) {\r\n                    throw Error(\"name argument is required\");\r\n                }\r\n                if (!layout.type) {\r\n                    throw Error(\"type argument is required\");\r\n                }\r\n                if (!layout.metadata) {\r\n                    throw Error(\"metadata argument is required\");\r\n                }\r\n                var layoutObject = {\r\n                    name: layout.name,\r\n                    type: layout.type,\r\n                    metadata: layout.metadata\r\n                };\r\n                _this.invokeMethodAndTrack(\"T42.ACS.UpdateMetadata\", layoutObject, resolve, reject, true);\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.hibernate = function (name, options) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                if (!name) {\r\n                    return reject(\"name cannot be empty\");\r\n                }\r\n                options = options || {};\r\n                var request = {\r\n                    name: name,\r\n                    type: \"Global\",\r\n                    context: options.context || {},\r\n                    metadata: options.metadata || {},\r\n                };\r\n                _this.invokeMethodAndTrack(\"T42.ACS.HibernateLayout\", request, resolve, reject, true);\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.resume = function (name, context, options) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                if (!name) {\r\n                    return reject(\"name cannot be empty\");\r\n                }\r\n                var request = __assign({ name: name, type: \"Global\", context: context }, options);\r\n                _this.invokeMethodAndTrack(\"T42.ACS.ResumeLayout\", request, resolve, reject, true);\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.getCurrentLayout = function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var result, layout;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.config.agm.invoke(\"T42.ACS.GetCurrentLayout\", {}, \"best\", { methodResponseTimeoutMs: 120 * 1000 })];\r\n                        case 1:\r\n                            result = _a.sent();\r\n                            layout = result.returned.layout;\r\n                            if (!layout) {\r\n                                return [2, undefined];\r\n                            }\r\n                            if (!this.isSlimMode()) {\r\n                                layout = this.list().find(function (l) { return l.name === layout.name && l.type === layout.type; });\r\n                            }\r\n                            return [2, layout];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.onAdded = function (callback) {\r\n            var result = this.callbacks.add(\"added\", callback);\r\n            if (store.all.length > 0) {\r\n                store.all.forEach(function (layout) {\r\n                    try {\r\n                        callback(layout);\r\n                    }\r\n                    catch (err) { }\r\n                });\r\n            }\r\n            return result;\r\n        };\r\n        LayoutsAPIImpl.prototype.onRemoved = function (callback) {\r\n            return this.callbacks.add(\"removed\", callback);\r\n        };\r\n        LayoutsAPIImpl.prototype.onChanged = function (callback) {\r\n            return this.callbacks.add(\"changed\", callback);\r\n        };\r\n        LayoutsAPIImpl.prototype.onRestored = function (callback) {\r\n            return this.callbacks.add(\"restored\", callback);\r\n        };\r\n        LayoutsAPIImpl.prototype.onRenamed = function (callback) {\r\n            return this.callbacks.add(\"renamed\", callback);\r\n        };\r\n        LayoutsAPIImpl.prototype.onEvent = function (callback) {\r\n            return this.stream.onEvent(callback);\r\n        };\r\n        LayoutsAPIImpl.prototype.onSaveRequested = function (callback) {\r\n            return this.provider.onSaveRequested(callback);\r\n        };\r\n        LayoutsAPIImpl.prototype.updateAppContextInCurrent = function (context) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                if (context && typeof context !== \"object\") {\r\n                    reject(\"context must be an object\");\r\n                }\r\n                context = (context !== null && context !== void 0 ? context : {});\r\n                var request = {\r\n                    context: context\r\n                };\r\n                _this.invokeMethodAndTrack(\"T42.ACS.UpdateLayoutComponentContext\", request, resolve, reject, true);\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.updateDefaultContext = function (context) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                if (context && typeof context !== \"object\") {\r\n                    reject(\"context must be an object\");\r\n                }\r\n                context = (context !== null && context !== void 0 ? context : {});\r\n                var request = {\r\n                    context: context\r\n                };\r\n                _this.invokeMethodAndTrack(\"T42.ACS.UpdateDefaultContext\", request, resolve, reject, true);\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.isSlimMode = function () {\r\n            return this.config.mode === \"slim\";\r\n        };\r\n        LayoutsAPIImpl.prototype.verifyNotSlimMode = function () {\r\n            if (this.isSlimMode()) {\r\n                throw Error(\"Operation not allowed in slim mode. Run in full mode.\");\r\n            }\r\n        };\r\n        LayoutsAPIImpl.prototype.isVisibleWindow = function (instance) {\r\n            if (instance.application.type === \"exe\" || instance.application.type === \"node\") {\r\n                return true;\r\n            }\r\n            if (instance.application.type === \"activity\") {\r\n                return true;\r\n            }\r\n            if (!instance || !instance.window) {\r\n                return false;\r\n            }\r\n            return instance.window.isVisible;\r\n        };\r\n        LayoutsAPIImpl.prototype.invokeMethodAndTrack = function (methodName, args, resolve, reject, skipStreamEvent) {\r\n            var streamEventReceived = skipStreamEvent;\r\n            var agmResult;\r\n            var token = shortid$1();\r\n            args.token = token;\r\n            var handleResult = function () {\r\n                if (streamEventReceived && agmResult) {\r\n                    resolve(agmResult);\r\n                }\r\n            };\r\n            if (!skipStreamEvent) {\r\n                this.stream.waitFor(token)\r\n                    .then(function () {\r\n                    streamEventReceived = true;\r\n                    handleResult();\r\n                })\r\n                    .catch(function (err) {\r\n                    reject(err);\r\n                });\r\n            }\r\n            var responseHandler = function (result) {\r\n                if (!result.returned) {\r\n                    reject(\"No result from method \" + methodName);\r\n                }\r\n                if (result.returned.status && (result.returned.status !== \"Success\" && result.returned.status !== \"PartialSuccess\")) {\r\n                    reject(result.returned);\r\n                }\r\n                agmResult = result.returned;\r\n                handleResult();\r\n            };\r\n            this.config.agm.invoke(methodName, args, \"best\", { methodResponseTimeoutMs: 120 * 1000 })\r\n                .then(responseHandler)\r\n                .catch(function (err) { return reject(err); });\r\n        };\r\n        LayoutsAPIImpl.prototype.getInstancesToClose = function (options) {\r\n            var _this = this;\r\n            var instances = [];\r\n            var shellApp = this.appManager.applications().filter(function (a) { return a.isShell; })[0];\r\n            var shellApplicationName = shellApp ? shellApp.name : \"AppManager\";\r\n            this.appManager.instances().forEach(function (i) {\r\n                if (_this.appManager.myInstance && i.id === _this.appManager.myInstance.id) {\r\n                    return;\r\n                }\r\n                if (i.application.name === shellApplicationName) {\r\n                    return;\r\n                }\r\n                if (!_this.isVisibleWindow(i)) {\r\n                    return;\r\n                }\r\n                if (options.type === \"Activity\") {\r\n                    if (i.activityId !== options.activityIdToJoin) {\r\n                        return;\r\n                    }\r\n                }\r\n                instances.push({ application: i.application.name, instance: i.id });\r\n            });\r\n            return instances;\r\n        };\r\n        LayoutsAPIImpl.prototype.getObjectValues = function (obj) {\r\n            if (!obj) {\r\n                return [];\r\n            }\r\n            return Object.keys(obj).map(function (k) { return obj[k]; });\r\n        };\r\n        return LayoutsAPIImpl;\r\n    }());\n\n    var ACSStream = (function () {\r\n        function ACSStream(agm, callbacks) {\r\n            var _this = this;\r\n            this.agm = agm;\r\n            this.callbacks = callbacks;\r\n            this.ready = new Promise(function (resolve, reject) {\r\n                _this.resolveReady = resolve;\r\n                _this.rejectReady = reject;\r\n            });\r\n            this.gotSnapshot = new Promise(function (resolve, reject) {\r\n                _this.resolveGotSnapshot = resolve;\r\n                _this.rejectGotSnapshot = reject;\r\n            });\r\n        }\r\n        ACSStream.prototype.subscribe = function (noRetry) {\r\n            var _this = this;\r\n            var transform = function (obj) {\r\n                return _this.getObjectValues(obj).map(function (t) { return transformACSLayout(t); });\r\n            };\r\n            if (!this.checkForLayoutEventMethod()) {\r\n                if (noRetry) {\r\n                    this.resolveReady();\r\n                }\r\n                setTimeout(function () {\r\n                    _this.subscribe(true);\r\n                }, 500);\r\n            }\r\n            else {\r\n                this.agm.subscribe(\"T42.ACS.OnLayoutEvent\", { waitTimeoutMs: 10000 })\r\n                    .then(function (subs) {\r\n                    subs.onData(function (args) {\r\n                        var data = args.data;\r\n                        if (data.IsSnapshot) {\r\n                            _this.resolveGotSnapshot();\r\n                        }\r\n                        _this.addLayouts(transform(data.OnLayoutAdded));\r\n                        _this.removeLayouts(transform(data.OnLayoutRemoved));\r\n                        _this.changeLayouts(transform(data.OnLayoutChanged));\r\n                        _this.renameLayouts(transform(data.OnLayoutRenamed));\r\n                        _this.restoredLayout(transform(data.OnLayoutRestored));\r\n                        _this.callbacks.execute(\"streamEvent\", data);\r\n                    });\r\n                    subs.onFailed(function (err) {\r\n                        var msg = \"can not subscribe to T42.ACS.OnLayoutEvent \" + err;\r\n                        _this.rejectReady(msg);\r\n                        _this.rejectGotSnapshot(msg);\r\n                    });\r\n                    _this.resolveReady();\r\n                })\r\n                    .catch(function (err) {\r\n                    var msg = \"Error subscribing for T42.ACS.OnLayoutEvent stream. Err: \" + err;\r\n                    _this.rejectReady(msg);\r\n                    _this.rejectGotSnapshot(msg);\r\n                });\r\n            }\r\n        };\r\n        ACSStream.prototype.onEvent = function (callback) {\r\n            return this.callbacks.add(\"streamEvent\", callback);\r\n        };\r\n        ACSStream.prototype.waitFor = function (token, timeout) {\r\n            var _this = this;\r\n            if (!timeout) {\r\n                timeout = 10000;\r\n            }\r\n            return new Promise(function (resolve, reject) {\r\n                var done = false;\r\n                var unsubscribe = _this.onEvent(function (streamEvent) {\r\n                    if (streamEvent.Token === token) {\r\n                        done = true;\r\n                        unsubscribe();\r\n                        resolve();\r\n                    }\r\n                });\r\n                setTimeout(function () {\r\n                    if (!done) {\r\n                        reject(\"timed out\");\r\n                    }\r\n                }, timeout);\r\n            });\r\n        };\r\n        ACSStream.prototype.checkForLayoutEventMethod = function () {\r\n            try {\r\n                return this.agm\r\n                    .methods()\r\n                    .map(function (m) { return m.name; })\r\n                    .indexOf(\"T42.ACS.OnLayoutEvent\") !== -1;\r\n            }\r\n            catch (e) {\r\n                return false;\r\n            }\r\n        };\r\n        ACSStream.prototype.addLayouts = function (layoutsData) {\r\n            var _this = this;\r\n            if (!layoutsData) {\r\n                return;\r\n            }\r\n            layoutsData.forEach(function (layoutData) {\r\n                var layout = new LayoutImpl(layoutData);\r\n                store.add(layout);\r\n                _this.callbacks.execute(\"added\", layout);\r\n            });\r\n        };\r\n        ACSStream.prototype.removeLayouts = function (removedLayouts) {\r\n            var _this = this;\r\n            if (!removedLayouts) {\r\n                return;\r\n            }\r\n            removedLayouts.forEach(function (removedLayout) {\r\n                store.removeWhere(function (existingLayout) { return !_this.compareLayouts(existingLayout, removedLayout); });\r\n                _this.callbacks.execute(\"removed\", removedLayout);\r\n            });\r\n        };\r\n        ACSStream.prototype.changeLayouts = function (changedLayouts) {\r\n            var _this = this;\r\n            if (!changedLayouts) {\r\n                return;\r\n            }\r\n            changedLayouts.forEach(function (changedLayout) {\r\n                store.removeWhere(function (existingLayout) { return !_this.compareLayouts(existingLayout, changedLayout); });\r\n                store.add(new LayoutImpl(changedLayout));\r\n                _this.callbacks.execute(\"changed\", changedLayout);\r\n            });\r\n        };\r\n        ACSStream.prototype.renameLayouts = function (renamedLayouts) {\r\n            var _this = this;\r\n            if (!renamedLayouts) {\r\n                return;\r\n            }\r\n            renamedLayouts.forEach(function (renamedLayout) {\r\n                var existingLayout = store.first(function (current) { return _this.compareLayouts(current, { type: renamedLayout.type, name: renamedLayout.oldName }); });\r\n                if (!existingLayout) {\r\n                    throw Error(\"received rename event for unknown layout with type \" + renamedLayout.type + \" and name \" + renamedLayout.oldName);\r\n                }\r\n                existingLayout.name = renamedLayout.newName;\r\n                _this.callbacks.execute(\"renamed\", existingLayout);\r\n            });\r\n        };\r\n        ACSStream.prototype.compareLayouts = function (layout1, layout2) {\r\n            return layout1.name === layout2.name && layout1.type === layout2.type;\r\n        };\r\n        ACSStream.prototype.getObjectValues = function (obj) {\r\n            if (!obj) {\r\n                return [];\r\n            }\r\n            return Object.keys(obj).map(function (k) { return obj[k]; });\r\n        };\r\n        ACSStream.prototype.restoredLayout = function (restoredLayouts) {\r\n            var _this = this;\r\n            if (!restoredLayouts) {\r\n                return;\r\n            }\r\n            restoredLayouts.forEach(function (restoredLayout) {\r\n                var existingLayout = store.first(function (current) { return _this.compareLayouts(current, { type: restoredLayout.type, name: restoredLayout.name }); });\r\n                _this.callbacks.execute(\"restored\", existingLayout);\r\n            });\r\n        };\r\n        return ACSStream;\r\n    }());\n\n    function streamNull () {\r\n        return {\r\n            ready: Promise.resolve(undefined),\r\n            subscribe: function () { },\r\n            onEvent: function (callback) { return function () { }; },\r\n            waitFor: function (token, timeout) { return Promise.resolve(undefined); },\r\n            gotSnapshot: Promise.resolve(undefined),\r\n        };\r\n    }\n\n    function LayoutsFactory (config) {\r\n        if (!config.agm) {\r\n            throw Error(\"config.agm is required\");\r\n        }\r\n        if (!config.logger) {\r\n            throw Error(\"config.logger is required\");\r\n        }\r\n        config.mode = config.mode || \"slim\";\r\n        var logger = config.logger;\r\n        var callbacks = lib$2();\r\n        var acsStream;\r\n        if (config.mode === \"full\" || \"fullWaitSnapshot\") {\r\n            acsStream = new ACSStream(config.agm, callbacks);\r\n        }\r\n        else {\r\n            acsStream = streamNull();\r\n        }\r\n        return new LayoutsAPIImpl(config, acsStream, callbacks, logger);\r\n    }\n\n    var T42DisplayCommand = \"T42.Displays.Command\";\r\n    var DisplayManager = (function () {\r\n        function DisplayManager(_agm, _logger) {\r\n            var _this = this;\r\n            this._agm = _agm;\r\n            this._logger = _logger;\r\n            this.all = function () { return __awaiter(_this, void 0, void 0, function () {\r\n                var displays;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.callGD(DisplayCommand.GetAll, {})];\r\n                        case 1:\r\n                            displays = _a.sent();\r\n                            return [2, displays.map(this.decorateDisplay)];\r\n                    }\r\n                });\r\n            }); };\r\n            this.get = function (id) { return __awaiter(_this, void 0, void 0, function () {\r\n                var display;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.callGD(DisplayCommand.Get, { id: id })];\r\n                        case 1:\r\n                            display = _a.sent();\r\n                            return [2, this.decorateDisplay(display)];\r\n                    }\r\n                });\r\n            }); };\r\n            this.getPrimary = function () { return __awaiter(_this, void 0, void 0, function () {\r\n                var primary;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.all()];\r\n                        case 1:\r\n                            primary = (_a.sent()).find(function (d) { return d.isPrimary; });\r\n                            return [2, primary];\r\n                    }\r\n                });\r\n            }); };\r\n            this.capture = function (options) { return __awaiter(_this, void 0, void 0, function () {\r\n                var screenshot;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.callGD(DisplayCommand.Capture, __assign({}, options))];\r\n                        case 1:\r\n                            screenshot = _a.sent();\r\n                            return [2, screenshot];\r\n                    }\r\n                });\r\n            }); };\r\n            this.captureAll = function (options) { return __awaiter(_this, void 0, void 0, function () {\r\n                var screenshots;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.callGD(DisplayCommand.CaptureAll, __assign({}, options))];\r\n                        case 1:\r\n                            screenshots = _a.sent();\r\n                            return [2, screenshots];\r\n                    }\r\n                });\r\n            }); };\r\n            this.getMousePosition = function () { return __awaiter(_this, void 0, void 0, function () {\r\n                var point;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.callGD(DisplayCommand.GetMousePosition)];\r\n                        case 1:\r\n                            point = _a.sent();\r\n                            return [2, point];\r\n                    }\r\n                });\r\n            }); };\r\n            this.callGD = function (command, options) { return __awaiter(_this, void 0, void 0, function () {\r\n                var invocationResult;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this._agm.invoke(T42DisplayCommand, { options: __assign({}, options), command: command })];\r\n                        case 1:\r\n                            invocationResult = _a.sent();\r\n                            return [2, invocationResult.returned.data];\r\n                    }\r\n                });\r\n            }); };\r\n            this.decorateDisplay = function (original) {\r\n                return __assign(__assign({}, original), { capture: function (size) { return _this.capture({ id: original.id, size: size }); } });\r\n            };\r\n        }\r\n        return DisplayManager;\r\n    }());\r\n    var DisplayCommand;\r\n    (function (DisplayCommand) {\r\n        DisplayCommand[\"Capture\"] = \"capture\";\r\n        DisplayCommand[\"CaptureAll\"] = \"captureAll\";\r\n        DisplayCommand[\"GetAll\"] = \"getAll\";\r\n        DisplayCommand[\"Get\"] = \"get\";\r\n        DisplayCommand[\"GetMousePosition\"] = \"getMousePosition\";\r\n    })(DisplayCommand || (DisplayCommand = {}));\n\n    var interop;\r\n    var windowId;\r\n    function setupAGM(interopLib, channels) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        interop = interopLib;\r\n                        if (typeof window !== \"undefined\") {\r\n                            if (window.glue42gd) {\r\n                                windowId = window.glue42gd.windowId;\r\n                            }\r\n                        }\r\n                        if (!windowId) {\r\n                            return [2];\r\n                        }\r\n                        return [4, interop.register(\"T42.Channels.Command\", function (args) {\r\n                                var command = args.command;\r\n                                if (!command) {\r\n                                    throw new Error(\"missing command argument\");\r\n                                }\r\n                                if (command === \"join\") {\r\n                                    var id = args.channel;\r\n                                    if (!id) {\r\n                                        throw new Error(\"missing argument id\");\r\n                                    }\r\n                                    channels.joinNoSelectorSwitch(id);\r\n                                    return;\r\n                                }\r\n                                if (command === \"leave\") {\r\n                                    channels.leaveNoSelectorSwitch();\r\n                                    return;\r\n                                }\r\n                                if (command === \"get\") {\r\n                                    var id = channels.current();\r\n                                    return { id: id };\r\n                                }\r\n                                throw new Error(\"unknown command \" + command);\r\n                            })];\r\n                    case 1:\r\n                        _a.sent();\r\n                        interop.invoke(\"T42.Channels.Announce\", { swId: windowId, instance: interop.instance.instance });\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    }\r\n    function switchChannel(channel, id) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                interop.invoke(\"T42.Channels.Announce\", {\r\n                    swId: (id !== null && id !== void 0 ? id : windowId),\r\n                    command: \"switchChannel\",\r\n                    data: { newChannel: channel }\r\n                });\r\n                return [2];\r\n            });\r\n        });\r\n    }\n\n    var CONTEXT_PREFIX = \"___channel___\";\r\n    var SharedContextSubscriber = (function () {\r\n        function SharedContextSubscriber(contexts) {\r\n            this.contexts = contexts;\r\n        }\r\n        SharedContextSubscriber.prototype.subscribe = function (callback) {\r\n            this.callback = callback;\r\n        };\r\n        SharedContextSubscriber.prototype.subscribeFor = function (name, callback) {\r\n            if (!this.isChannel(name)) {\r\n                return Promise.reject(new Error(\"Channel with name: \" + name + \" doesn't exist!\"));\r\n            }\r\n            var contextName = this.createContextName(name);\r\n            return this.contexts.subscribe(contextName, function (data, _, __, ___, extraData) {\r\n                var _a;\r\n                callback(data.data, data, (_a = extraData) === null || _a === void 0 ? void 0 : _a.updaterId);\r\n            });\r\n        };\r\n        SharedContextSubscriber.prototype.switchChannel = function (name) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var contextName, _a;\r\n                var _this = this;\r\n                return __generator(this, function (_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            this.unsubscribe();\r\n                            contextName = this.createContextName(name);\r\n                            _a = this;\r\n                            return [4, this.contexts.subscribe(contextName, function (data, _, __, ___, extraData) {\r\n                                    var _a;\r\n                                    if (_this.callback) {\r\n                                        _this.callback(data.data, data, (_a = extraData) === null || _a === void 0 ? void 0 : _a.updaterId);\r\n                                    }\r\n                                })];\r\n                        case 1:\r\n                            _a.unsubscribeFunc = _b.sent();\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        SharedContextSubscriber.prototype.unsubscribe = function () {\r\n            if (this.unsubscribeFunc) {\r\n                this.unsubscribeFunc();\r\n            }\r\n        };\r\n        SharedContextSubscriber.prototype.all = function () {\r\n            var contextNames = this.contexts.all();\r\n            var channelContextNames = contextNames.filter(function (contextName) { return contextName.startsWith(CONTEXT_PREFIX); });\r\n            var channelNames = channelContextNames.map(function (channelContextName) { return channelContextName.substr(CONTEXT_PREFIX.length); });\r\n            return channelNames;\r\n        };\r\n        SharedContextSubscriber.prototype.getContextData = function (name) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                if (!_this.isChannel(name)) {\r\n                    return reject(new Error(\"A channel with name: \" + name + \" doesn't exist!\"));\r\n                }\r\n                var contextName = _this.createContextName(name);\r\n                _this.contexts.subscribe(contextName, function (data) {\r\n                    resolve(data);\r\n                }).then(function (unsubscribeFunc) { return unsubscribeFunc(); });\r\n            });\r\n        };\r\n        SharedContextSubscriber.prototype.updateChannel = function (name, data) {\r\n            var contextName = this.createContextName(name);\r\n            return this.contexts.update(contextName, data);\r\n        };\r\n        SharedContextSubscriber.prototype.updateData = function (name, data) {\r\n            var contextName = this.createContextName(name);\r\n            if (this.contexts.setPathSupported) {\r\n                var pathValues = Object.keys(data).map(function (key) {\r\n                    return {\r\n                        path: \"data.\" + key,\r\n                        value: data[key]\r\n                    };\r\n                });\r\n                return this.contexts.setPaths(contextName, pathValues);\r\n            }\r\n            else {\r\n                return this.contexts.update(contextName, { data: data });\r\n            }\r\n        };\r\n        SharedContextSubscriber.prototype.isChannel = function (name) {\r\n            return this.all().some(function (channelName) { return channelName === name; });\r\n        };\r\n        SharedContextSubscriber.prototype.createContextName = function (name) {\r\n            return CONTEXT_PREFIX + name;\r\n        };\r\n        return SharedContextSubscriber;\r\n    }());\n\n    var ChannelsImpl = (function () {\r\n        function ChannelsImpl(shared) {\r\n            this.shared = shared;\r\n            this.subsKey = \"subs\";\r\n            this.changedKey = \"changed\";\r\n            this.registry = lib$2();\r\n            this.shared.subscribe(this.handler.bind(this));\r\n        }\r\n        ChannelsImpl.prototype.subscribe = function (callback) {\r\n            if (typeof callback !== \"function\") {\r\n                throw new Error(\"Please provide the callback as a function!\");\r\n            }\r\n            return this.registry.add(this.subsKey, callback);\r\n        };\r\n        ChannelsImpl.prototype.subscribeFor = function (name, callback) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var unsubscribeFunc;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (typeof name !== \"string\") {\r\n                                throw new Error(\"Please provide the name as a string!\");\r\n                            }\r\n                            if (typeof callback !== \"function\") {\r\n                                throw new Error(\"Please provide the callback as a function!\");\r\n                            }\r\n                            return [4, this.shared.subscribeFor(name, callback)];\r\n                        case 1:\r\n                            unsubscribeFunc = _a.sent();\r\n                            return [2, unsubscribeFunc];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ChannelsImpl.prototype.publish = function (data, name) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    if (typeof data !== \"object\") {\r\n                        throw new Error(\"Please provide the data as an object!\");\r\n                    }\r\n                    if (name) {\r\n                        if (typeof name !== \"string\") {\r\n                            throw new Error(\"Please provide the name as a string!\");\r\n                        }\r\n                        if (!this.shared.isChannel(name)) {\r\n                            return [2, Promise.reject(new Error(\"A channel with name: \" + name + \" doesn't exist!\"))];\r\n                        }\r\n                        return [2, this.shared.updateData(name, data)];\r\n                    }\r\n                    if (!this.currentContext) {\r\n                        throw new Error(\"Not joined to any channel!\");\r\n                    }\r\n                    return [2, this.shared.updateData(this.currentContext, data)];\r\n                });\r\n            });\r\n        };\r\n        ChannelsImpl.prototype.all = function () {\r\n            var channelNames = this.shared.all();\r\n            return Promise.resolve(channelNames);\r\n        };\r\n        ChannelsImpl.prototype.list = function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var channelNames, channelContexts;\r\n                var _this = this;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.all()];\r\n                        case 1:\r\n                            channelNames = _a.sent();\r\n                            return [4, Promise.all(channelNames.map(function (channelName) { return _this.get(channelName); }))];\r\n                        case 2:\r\n                            channelContexts = _a.sent();\r\n                            return [2, channelContexts];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ChannelsImpl.prototype.get = function (name) {\r\n            if (typeof name !== \"string\") {\r\n                return Promise.reject(new Error(\"Please provide the channel name as a string!\"));\r\n            }\r\n            return this.shared.getContextData(name);\r\n        };\r\n        ChannelsImpl.prototype.join = function (name) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    return [2, this.joinCore(name)];\r\n                });\r\n            });\r\n        };\r\n        ChannelsImpl.prototype.joinNoSelectorSwitch = function (name) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    return [2, this.joinCore(name, false)];\r\n                });\r\n            });\r\n        };\r\n        ChannelsImpl.prototype.leave = function () {\r\n            return this.leaveCore();\r\n        };\r\n        ChannelsImpl.prototype.leaveNoSelectorSwitch = function () {\r\n            return this.leaveCore(false);\r\n        };\r\n        ChannelsImpl.prototype.current = function () {\r\n            return this.currentContext;\r\n        };\r\n        ChannelsImpl.prototype.my = function () {\r\n            return this.current();\r\n        };\r\n        ChannelsImpl.prototype.changed = function (callback) {\r\n            if (typeof callback !== \"function\") {\r\n                throw new Error(\"Please provide the callback as a function!\");\r\n            }\r\n            return this.registry.add(this.changedKey, callback);\r\n        };\r\n        ChannelsImpl.prototype.onChanged = function (callback) {\r\n            return this.changed(callback);\r\n        };\r\n        ChannelsImpl.prototype.add = function (info) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var context;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (typeof info !== \"object\") {\r\n                                throw new Error(\"Please provide the info as an object!\");\r\n                            }\r\n                            if (typeof info.name === \"undefined\") {\r\n                                throw new Error(\"info.name is missing!\");\r\n                            }\r\n                            if (typeof info.name !== \"string\") {\r\n                                throw new Error(\"Please provide the info.name as a string!\");\r\n                            }\r\n                            if (typeof info.meta === \"undefined\") {\r\n                                throw new Error(\"info.meta is missing!\");\r\n                            }\r\n                            if (typeof info.meta !== \"object\") {\r\n                                throw new Error(\"Please provide the info.meta as an object!\");\r\n                            }\r\n                            if (typeof info.meta.color === \"undefined\") {\r\n                                throw new Error(\"info.meta.color is missing!\");\r\n                            }\r\n                            if (typeof info.meta.color !== \"string\") {\r\n                                throw new Error(\"Please provide the info.meta.color as a string!\");\r\n                            }\r\n                            context = {\r\n                                name: info.name,\r\n                                meta: info.meta || {},\r\n                                data: info.data || {}\r\n                            };\r\n                            return [4, this.shared.updateChannel(info.name, context)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2, context];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ChannelsImpl.prototype.handler = function (data, context, updaterId) {\r\n            this.registry.execute(this.subsKey, data, context, updaterId);\r\n        };\r\n        ChannelsImpl.prototype.joinCore = function (name, changeSelector) {\r\n            if (changeSelector === void 0) { changeSelector = true; }\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var doesChannelExist, channelExistsPromise;\r\n                var _this = this;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (typeof name !== \"string\") {\r\n                                throw new Error(\"Please provide the channel name as a string!\");\r\n                            }\r\n                            if (name === this.currentContext) {\r\n                                return [2];\r\n                            }\r\n                            doesChannelExist = function (channelName) {\r\n                                var channelNames = _this.shared.all();\r\n                                return channelNames.includes(channelName);\r\n                            };\r\n                            if (!!doesChannelExist(name)) return [3, 2];\r\n                            channelExistsPromise = new Promise(function (resolve, reject) {\r\n                                var timeoutId;\r\n                                var intervalId = setInterval(function () {\r\n                                    if (doesChannelExist(name)) {\r\n                                        clearTimeout(timeoutId);\r\n                                        clearInterval(intervalId);\r\n                                        resolve();\r\n                                    }\r\n                                }, 100);\r\n                                timeoutId = setTimeout(function () {\r\n                                    clearInterval(intervalId);\r\n                                    return reject(new Error(\"A channel with name: \" + name + \" doesn't exist!\"));\r\n                                }, 3000);\r\n                            });\r\n                            return [4, channelExistsPromise];\r\n                        case 1:\r\n                            _a.sent();\r\n                            _a.label = 2;\r\n                        case 2:\r\n                            this.currentContext = name;\r\n                            return [4, this.shared.switchChannel(name)];\r\n                        case 3:\r\n                            _a.sent();\r\n                            if (changeSelector) {\r\n                                switchChannel(name);\r\n                            }\r\n                            this.registry.execute(this.changedKey, name);\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ChannelsImpl.prototype.leaveCore = function (changeSelector) {\r\n            if (changeSelector === void 0) { changeSelector = true; }\r\n            this.currentContext = undefined;\r\n            this.registry.execute(this.changedKey, undefined);\r\n            this.shared.unsubscribe();\r\n            if (changeSelector) {\r\n                switchChannel();\r\n            }\r\n            return Promise.resolve();\r\n        };\r\n        return ChannelsImpl;\r\n    }());\n\n    function factory(contexts, agm) {\r\n        var sharedContexts = new SharedContextSubscriber(contexts);\r\n        var channels = new ChannelsImpl(sharedContexts);\r\n        setupAGM(agm, channels);\r\n        return {\r\n            subscribe: channels.subscribe.bind(channels),\r\n            subscribeFor: channels.subscribeFor.bind(channels),\r\n            publish: channels.publish.bind(channels),\r\n            all: channels.all.bind(channels),\r\n            list: channels.list.bind(channels),\r\n            get: channels.get.bind(channels),\r\n            join: channels.join.bind(channels),\r\n            leave: channels.leave.bind(channels),\r\n            current: channels.current.bind(channels),\r\n            my: channels.my.bind(channels),\r\n            changed: channels.changed.bind(channels),\r\n            onChanged: channels.onChanged.bind(channels),\r\n            add: channels.add.bind(channels),\r\n            ready: function () { return contexts.ready(); }\r\n        };\r\n    }\n\n    var CommandMethod = \"T42.Hotkeys.Command\";\r\n    var InvokeMethod = \"T42.Hotkeys.Invoke\";\r\n    var RegisterCommand = \"register\";\r\n    var UnregisterCommand = \"unregister\";\r\n    var UnregisterAllCommand = \"unregisterAll\";\r\n    var HotkeysImpl = (function () {\r\n        function HotkeysImpl(agm) {\r\n            this.agm = agm;\r\n            this.registry = lib$2();\r\n            this.firstHotkey = true;\r\n            this.hotkeys = new Map();\r\n        }\r\n        HotkeysImpl.prototype.register = function (info, callback) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var hkToLower;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (typeof info === \"undefined\") {\r\n                                throw new Error(\"Hotkey parameter missing\");\r\n                            }\r\n                            if (typeof info === \"string\") {\r\n                                info = {\r\n                                    hotkey: info\r\n                                };\r\n                            }\r\n                            else {\r\n                                if (!info.hotkey) {\r\n                                    throw new Error(\"Info's hotkey parameter missing\");\r\n                                }\r\n                                info = {\r\n                                    hotkey: info.hotkey,\r\n                                    description: info.description\r\n                                };\r\n                            }\r\n                            hkToLower = this.formatHotkey(info.hotkey);\r\n                            if (this.hotkeys.has(hkToLower)) {\r\n                                throw new Error(\"Shortcut for \" + hkToLower + \" already registered\");\r\n                            }\r\n                            if (!this.firstHotkey) return [3, 2];\r\n                            this.firstHotkey = false;\r\n                            return [4, this.registerInvokeAGMMethod()];\r\n                        case 1:\r\n                            _a.sent();\r\n                            _a.label = 2;\r\n                        case 2:\r\n                            this.registry.add(hkToLower, callback);\r\n                            return [4, this.agm.invoke(CommandMethod, { command: RegisterCommand, hotkey: hkToLower, description: info.description })];\r\n                        case 3:\r\n                            _a.sent();\r\n                            this.hotkeys.set(hkToLower, info);\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        HotkeysImpl.prototype.unregister = function (hotkey) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var hkToLower;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (typeof hotkey === \"undefined\") {\r\n                                throw new Error(\"hotkey parameter missing\");\r\n                            }\r\n                            if (typeof hotkey !== \"string\") {\r\n                                throw new Error(\"hotkey parameter must be string\");\r\n                            }\r\n                            hkToLower = this.formatHotkey(hotkey);\r\n                            return [4, this.agm.invoke(CommandMethod, { command: UnregisterCommand, hotkey: hkToLower })];\r\n                        case 1:\r\n                            _a.sent();\r\n                            this.hotkeys.delete(hkToLower);\r\n                            this.registry.clearKey(hkToLower);\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        HotkeysImpl.prototype.unregisterAll = function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.agm.invoke(CommandMethod, { command: UnregisterAllCommand })];\r\n                        case 1:\r\n                            _a.sent();\r\n                            this.hotkeys.clear();\r\n                            this.registry.clear();\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        HotkeysImpl.prototype.isRegistered = function (hotkey) {\r\n            var hkToLower = this.formatHotkey(hotkey);\r\n            return this.hotkeys.has(hkToLower);\r\n        };\r\n        HotkeysImpl.prototype.registerInvokeAGMMethod = function () {\r\n            var _this = this;\r\n            this.agm.register(InvokeMethod, function (args) {\r\n                var hkToLower = args.key.toLowerCase();\r\n                var info = _this.hotkeys.get(hkToLower);\r\n                _this.registry.execute(hkToLower, info);\r\n            });\r\n        };\r\n        HotkeysImpl.prototype.formatHotkey = function (hotkey) {\r\n            if (hotkey) {\r\n                return hotkey.replace(/\\s/g, \"\").toLowerCase();\r\n            }\r\n        };\r\n        return HotkeysImpl;\r\n    }());\n\n    function factory$1(agm) {\r\n        var hotkeys = new HotkeysImpl(agm);\r\n        return {\r\n            register: hotkeys.register.bind(hotkeys),\r\n            unregister: hotkeys.unregister.bind(hotkeys),\r\n            unregisterAll: hotkeys.unregisterAll.bind(hotkeys),\r\n            isRegistered: hotkeys.isRegistered.bind(hotkeys),\r\n            ready: function () { return Promise.resolve(); }\r\n        };\r\n    }\n\n    var version$2 = \"5.3.2\";\n\n    var prepareConfig$1 = (function (options) {\r\n        function getLibConfig(value, defaultMode, trueMode) {\r\n            if (typeof value === \"boolean\" && !value) {\r\n                return undefined;\r\n            }\r\n            var mode = getModeAsString(value, defaultMode, trueMode);\r\n            if (typeof value === \"object\") {\r\n                value.mode = mode;\r\n                return value;\r\n            }\r\n            return {\r\n                mode: mode,\r\n            };\r\n        }\r\n        function getModeAsString(value, defaultMode, trueMode) {\r\n            if (typeof value === \"object\") {\r\n                return getModeAsString(value.mode, defaultMode, trueMode) + \"\";\r\n            }\r\n            else if (typeof value === \"undefined\") {\r\n                if (typeof defaultMode === \"boolean\" && !defaultMode) {\r\n                    return undefined;\r\n                }\r\n                else {\r\n                    return defaultMode + \"\";\r\n                }\r\n            }\r\n            else if (typeof value === \"boolean\") {\r\n                if (value) {\r\n                    return ((trueMode === undefined) ? defaultMode : trueMode) + \"\";\r\n                }\r\n                else {\r\n                    return undefined;\r\n                }\r\n            }\r\n            return value + \"\";\r\n        }\r\n        var appDefaultMode = false;\r\n        var appDefaultTrueMode = \"startOnly\";\r\n        var activitiesDefaultMode = \"trackMyTypeAndInitiatedFromMe\";\r\n        var layoutsDefaultMode = \"slim\";\r\n        return {\r\n            layouts: getLibConfig(options.layouts, layoutsDefaultMode),\r\n            activities: getLibConfig(options.activities, activitiesDefaultMode),\r\n            appManager: getLibConfig(options.appManager, appDefaultMode, appDefaultTrueMode),\r\n            windows: getLibConfig(options.windows, true),\r\n            channels: getLibConfig(options.channels || false, false),\r\n            displays: getLibConfig(options.displays, true)\r\n        };\r\n    });\n\n    var Glue42Notification = (function () {\r\n        function Glue42Notification(options) {\r\n            this.options = options;\r\n            this.callbacks = lib$2();\r\n            this.actions = options.actions;\r\n            this.body = options.body;\r\n            this.badge = options.badge;\r\n            this.data = options.data;\r\n            this.dir = options.dir;\r\n            this.icon = options.icon;\r\n            this.image = options.image;\r\n            this.lang = options.lang;\r\n            this.renotify = options.renotify;\r\n            this.requireInteraction = options.requireInteraction;\r\n            this.silent = options.silent;\r\n            this.tag = options.tag;\r\n            this.timestamp = options.timestamp;\r\n            this.title = options.title;\r\n        }\r\n        Glue42Notification.prototype.close = function () {\r\n            throw new Error(\"Method not implemented.\");\r\n        };\r\n        Glue42Notification.prototype.addEventListener = function (type, listener, options) {\r\n            this.callbacks.add(type, listener);\r\n        };\r\n        Glue42Notification.prototype.removeEventListener = function (type, listener, options) {\r\n        };\r\n        Glue42Notification.prototype.dispatchEvent = function (event) {\r\n            this.callbacks.execute(event.type, event);\r\n            return true;\r\n        };\r\n        return Glue42Notification;\r\n    }());\n\n    var STARTING_INDEX = 0;\r\n    var Notifications = (function () {\r\n        function Notifications(interop) {\r\n            this.interop = interop;\r\n            this.methodsRegistered = false;\r\n            this.methodNameRoot = \"T42.Notifications.Handler-\" + shortid$1();\r\n            this.nextId = 0;\r\n            this.notifications = {};\r\n        }\r\n        Object.defineProperty(Notifications.prototype, \"maxActions\", {\r\n            get: function () {\r\n                return 2;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Notifications.prototype.raise = function (options) {\r\n            var _a, _b;\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var bunchOfPromises, index, id, notification, validActions, index, _loop_1, this_1, _i, validActions_1, action, g42notification;\r\n                return __generator(this, function (_c) {\r\n                    switch (_c.label) {\r\n                        case 0:\r\n                            if (!options) {\r\n                                throw new Error(\"invalid options - should be an object\");\r\n                            }\r\n                            if (!options.title) {\r\n                                throw new Error(\"invalid options - should have title\");\r\n                            }\r\n                            if (!!this.methodsRegistered) return [3, 2];\r\n                            bunchOfPromises = [];\r\n                            for (index = STARTING_INDEX; index < this.maxActions; index++) {\r\n                                bunchOfPromises.push(this.interop.register(this.methodNameRoot + \"_\" + index, this.handleNotificationAction.bind(this)));\r\n                            }\r\n                            return [4, Promise.all(bunchOfPromises)];\r\n                        case 1:\r\n                            _c.sent();\r\n                            this.methodsRegistered = true;\r\n                            _c.label = 2;\r\n                        case 2:\r\n                            id = String(this.nextId++);\r\n                            notification = {\r\n                                title: options.title,\r\n                                severity: \"Medium\",\r\n                                description: options.body,\r\n                                glueRoutingDetailMethodName: this.methodNameRoot + \"_\" + STARTING_INDEX,\r\n                                actions: [],\r\n                                source: id\r\n                            };\r\n                            if (options.actions) {\r\n                                validActions = options.actions.slice(0, this.maxActions);\r\n                                index = STARTING_INDEX;\r\n                                _loop_1 = function (action) {\r\n                                    var args = {\r\n                                        g42notificationId: id,\r\n                                        g42action: action.action,\r\n                                        g42interopMethod: (_a = action.interop) === null || _a === void 0 ? void 0 : _a.method,\r\n                                        g42interopTarget: (_b = action.interop) === null || _b === void 0 ? void 0 : _b.target,\r\n                                    };\r\n                                    var parameters = Object.keys(args).map(function (key) {\r\n                                        var value = args[key];\r\n                                        return {\r\n                                            name: key,\r\n                                            value: {\r\n                                                stringValue: value\r\n                                            }\r\n                                        };\r\n                                    });\r\n                                    var glueAction = {\r\n                                        name: this_1.methodNameRoot + \"_\" + index,\r\n                                        description: action.title,\r\n                                        displayName: action.title,\r\n                                        parameters: parameters\r\n                                    };\r\n                                    notification.actions.push(glueAction);\r\n                                    index++;\r\n                                };\r\n                                this_1 = this;\r\n                                for (_i = 0, validActions_1 = validActions; _i < validActions_1.length; _i++) {\r\n                                    action = validActions_1[_i];\r\n                                    _loop_1(action);\r\n                                }\r\n                            }\r\n                            return [4, this.interop.invoke(\"T42.GNS.Publish.RaiseNotification\", { notification: notification })];\r\n                        case 3:\r\n                            _c.sent();\r\n                            g42notification = new Glue42Notification(options);\r\n                            this.notifications[id] = g42notification;\r\n                            return [2, g42notification];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Notifications.prototype.handleNotificationAction = function (args) {\r\n            if (args.g42notificationId) {\r\n                var payload_1 = args;\r\n                var id = payload_1.g42notificationId;\r\n                var notification = this.notifications[id];\r\n                if (!notification) {\r\n                    return;\r\n                }\r\n                var event_1 = new Event(\"onaction\");\r\n                event_1.action = payload_1.g42action;\r\n                if (notification.onaction) {\r\n                    notification.onaction(event_1);\r\n                }\r\n                var actionDefinition = (notification.actions || []).find(function (item) { return item.action === payload_1.g42action; });\r\n                var actionInterop = actionDefinition.interop;\r\n                if (actionInterop) {\r\n                    this.interop.invoke(actionInterop.method, actionInterop.arguments || {}, actionInterop.target || \"best\");\r\n                }\r\n                notification.dispatchEvent(event_1);\r\n            }\r\n            else if (args.notification && args.notification.source) {\r\n                var id = args.notification.source;\r\n                var notification = this.notifications[id];\r\n                if (!notification) {\r\n                    return;\r\n                }\r\n                var event_2 = new Event(\"onclick\");\r\n                if (notification.onclick) {\r\n                    notification.onclick(event_2);\r\n                }\r\n                var clickInterop = notification.options.clickInterop;\r\n                if (clickInterop) {\r\n                    this.interop.invoke(clickInterop.method, clickInterop.arguments || {}, clickInterop.target || \"best\");\r\n                }\r\n                notification.dispatchEvent(event_2);\r\n            }\r\n        };\r\n        return Notifications;\r\n    }());\n\n    var ThemesConfigurationMethodName = \"T42.Themes.Configuration\";\r\n    var ThemesImpl = (function () {\r\n        function ThemesImpl(core) {\r\n            this.core = core;\r\n            this.registry = lib$2();\r\n            this.isSubscribed = false;\r\n            this.getConfiguration();\r\n        }\r\n        ThemesImpl.prototype.list = function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.getConfiguration()];\r\n                        case 1:\r\n                            _a.sent();\r\n                            if (!this.getMethodName) {\r\n                                throw new Error(\"not supported\");\r\n                            }\r\n                            return [4, this.getAll()];\r\n                        case 2: return [2, (_a.sent()).returned.all];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ThemesImpl.prototype.getCurrent = function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var all;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.getConfiguration()];\r\n                        case 1:\r\n                            _a.sent();\r\n                            if (!this.getMethodName) {\r\n                                throw new Error(\"not supported\");\r\n                            }\r\n                            return [4, this.getAll()];\r\n                        case 2:\r\n                            all = _a.sent();\r\n                            return [2, all.returned.all.find(function (t) { return t.name === all.returned.selected; })];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ThemesImpl.prototype.select = function (theme) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.getConfiguration()];\r\n                        case 1:\r\n                            _a.sent();\r\n                            if (!this.setMethodName) {\r\n                                throw new Error(\"not supported\");\r\n                            }\r\n                            return [4, this.core.interop.invoke(this.setMethodName, { theme: theme })];\r\n                        case 2:\r\n                            _a.sent();\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ThemesImpl.prototype.onChanged = function (callback) {\r\n            this.subscribe();\r\n            return this.registry.add(\"changed\", callback);\r\n        };\r\n        ThemesImpl.prototype.getConfiguration = function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var config, error_1;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            _a.trys.push([0, 2, , 3]);\r\n                            if (this.sharedContextName) {\r\n                                return [2];\r\n                            }\r\n                            return [4, this.core.interop.invoke(ThemesConfigurationMethodName)];\r\n                        case 1:\r\n                            config = _a.sent();\r\n                            this.sharedContextName = config.returned.sharedContextName;\r\n                            this.getMethodName = config.returned.getThemesMethodName;\r\n                            this.setMethodName = config.returned.setThemesMethodName;\r\n                            return [3, 3];\r\n                        case 2:\r\n                            error_1 = _a.sent();\r\n                            return [2];\r\n                        case 3: return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ThemesImpl.prototype.getAll = function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.getConfiguration()];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [4, this.core.interop.invoke(this.getMethodName)];\r\n                        case 2: return [2, _a.sent()];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ThemesImpl.prototype.subscribe = function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var _this = this;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.getConfiguration()];\r\n                        case 1:\r\n                            _a.sent();\r\n                            if (this.isSubscribed) {\r\n                                return [2];\r\n                            }\r\n                            this.isSubscribed = true;\r\n                            this.core.contexts.subscribe(this.sharedContextName, function (data) {\r\n                                if (data && data.all && data.selected) {\r\n                                    _this.registry.execute(\"changed\", data.all.find(function (t) { return t.name === data.selected; }));\r\n                                }\r\n                            });\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        return ThemesImpl;\r\n    }());\n\n    function factory$2(core) {\r\n        var themes = new ThemesImpl(core);\r\n        return {\r\n            list: themes.list.bind(themes),\r\n            getCurrent: themes.getCurrent.bind(themes),\r\n            select: themes.select.bind(themes),\r\n            onChanged: themes.onChanged.bind(themes),\r\n            ready: function () { return Promise.resolve(); },\r\n        };\r\n    }\n\n    var GLUE42_FDC3_INTENTS_METHOD_PREFIX = \"Tick42.FDC3.Intents.\";\r\n    var Intents = (function () {\r\n        function Intents(interop, windows, logger) {\r\n            this.interop = interop;\r\n            this.windows = windows;\r\n            this.logger = logger;\r\n        }\r\n        Intents.prototype.find = function (intentFilter) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var intents, ctToLower_1;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.all()];\r\n                        case 1:\r\n                            intents = _a.sent();\r\n                            if (typeof intentFilter === \"undefined\") {\r\n                                return [2, intents];\r\n                            }\r\n                            if (typeof intentFilter === \"string\") {\r\n                                return [2, intents.filter(function (intent) { return intent.name === intentFilter; })];\r\n                            }\r\n                            if (typeof intentFilter !== \"object\") {\r\n                                throw new Error(\"Please provide the intentFilter as a string or an object!\");\r\n                            }\r\n                            if (intentFilter.contextType) {\r\n                                ctToLower_1 = intentFilter.contextType.toLowerCase();\r\n                                intents = intents.filter(function (intent) { return intent.handlers.some(function (handler) { var _a; return (_a = handler.contextTypes) === null || _a === void 0 ? void 0 : _a.some(function (ct) { return ct.toLowerCase() === ctToLower_1; }); }); });\r\n                            }\r\n                            if (intentFilter.name) {\r\n                                intents = intents.filter(function (intent) { return intent.name === intentFilter.name; });\r\n                            }\r\n                            return [2, intents];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Intents.prototype.raise = function (intent) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var intentName, intentDef, isDynamicIntent, target, handler, anAppHandler, anInstanceHandler, instanceId, result;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if ((typeof intent !== \"string\" && typeof intent !== \"object\") || (typeof intent === \"object\" && typeof intent.intent !== \"string\")) {\r\n                                throw new Error(\"Please provide the intent as a string or an object with an intent property!\");\r\n                            }\r\n                            if (typeof intent === \"string\") {\r\n                                intent = {\r\n                                    intent: intent\r\n                                };\r\n                            }\r\n                            intentName = intent.intent;\r\n                            return [4, this.get(intentName)];\r\n                        case 1:\r\n                            intentDef = _a.sent();\r\n                            if (typeof intentDef === \"undefined\") {\r\n                                throw new Error(\"Intent \" + intentName + \" not found.\");\r\n                            }\r\n                            isDynamicIntent = !intentDef.handlers.some(function (intentDefHandler) { return intentDefHandler.type === \"app\"; });\r\n                            target = intent.target || (isDynamicIntent ? \"reuse\" : \"startNew\");\r\n                            anAppHandler = intentDef.handlers.find(function (intentHandler) { return intentHandler.type === \"app\"; });\r\n                            if (target === \"startNew\") {\r\n                                handler = anAppHandler;\r\n                            }\r\n                            else if (target === \"reuse\") {\r\n                                anInstanceHandler = intentDef.handlers.find(function (intentHandler) { return intentHandler.type === \"instance\"; });\r\n                                handler = anInstanceHandler || anAppHandler;\r\n                            }\r\n                            else if (target.instance) {\r\n                                handler = intentDef.handlers.find(function (intentHandler) { return intentHandler.type === \"instance\" && intentHandler.instanceId === target.instance; });\r\n                            }\r\n                            else if (target.app) {\r\n                                handler = intentDef.handlers.find(function (intentHandler) { return intentHandler.type === \"app\" && intentHandler.applicationName === target.app; });\r\n                            }\r\n                            else {\r\n                                throw new Error(\"Invalid intent target: \" + JSON.stringify(target));\r\n                            }\r\n                            if (!handler) {\r\n                                throw new Error(\"Can not raise intent for request \" + JSON.stringify(intent) + \" - can not find intent handler.\");\r\n                            }\r\n                            instanceId = handler.instanceId;\r\n                            if (!(handler.type === \"app\")) return [3, 3];\r\n                            return [4, this.startApp(handler.applicationName, intent.options)];\r\n                        case 2:\r\n                            instanceId = _a.sent();\r\n                            _a.label = 3;\r\n                        case 3: return [4, this.raiseIntentToInstance(instanceId, intentName, intent.context)];\r\n                        case 4:\r\n                            result = _a.sent();\r\n                            result.request = intent;\r\n                            result.handler = handler;\r\n                            return [2, result];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Intents.prototype.all = function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var result, apps_1, intents_1, appsWithIntents, _i, appsWithIntents_1, app, _a, _b, intentDef, intent, handler, _loop_1, _c, _d, server, e_1;\r\n                var _this = this;\r\n                return __generator(this, function (_e) {\r\n                    switch (_e.label) {\r\n                        case 0:\r\n                            _e.trys.push([0, 6, , 7]);\r\n                            return [4, this.interop.invoke(\"T42.ACS.GetApplications\", { withIntentsInfo: true })];\r\n                        case 1:\r\n                            result = _e.sent();\r\n                            apps_1 = result.returned.applications;\r\n                            intents_1 = {};\r\n                            appsWithIntents = apps_1.filter(function (app) { return app.intents && app.intents.length > 0; });\r\n                            for (_i = 0, appsWithIntents_1 = appsWithIntents; _i < appsWithIntents_1.length; _i++) {\r\n                                app = appsWithIntents_1[_i];\r\n                                for (_a = 0, _b = app.intents; _a < _b.length; _a++) {\r\n                                    intentDef = _b[_a];\r\n                                    intent = intents_1[intentDef.name];\r\n                                    if (!intent) {\r\n                                        intent = {\r\n                                            name: intentDef.name,\r\n                                            handlers: [],\r\n                                        };\r\n                                        intents_1[intentDef.name] = intent;\r\n                                    }\r\n                                    handler = {\r\n                                        applicationName: app.name,\r\n                                        applicationTitle: app.title,\r\n                                        applicationDescription: app.caption,\r\n                                        displayName: intentDef.displayName,\r\n                                        contextTypes: intentDef.contexts,\r\n                                        applicationIcon: app.icon,\r\n                                        type: \"app\"\r\n                                    };\r\n                                    intent.handlers.push(handler);\r\n                                }\r\n                            }\r\n                            _loop_1 = function (server) {\r\n                                return __generator(this, function (_a) {\r\n                                    switch (_a.label) {\r\n                                        case 0: return [4, Promise.all(server.getMethods()\r\n                                                .filter(function (method) { return method.name.startsWith(GLUE42_FDC3_INTENTS_METHOD_PREFIX); })\r\n                                                .map(function (method) { return __awaiter(_this, void 0, void 0, function () {\r\n                                                var intentName, intent, info, app, appIntent, window, title, handler;\r\n                                                var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\r\n                                                return __generator(this, function (_l) {\r\n                                                    switch (_l.label) {\r\n                                                        case 0:\r\n                                                            intentName = method.name.replace(GLUE42_FDC3_INTENTS_METHOD_PREFIX, \"\");\r\n                                                            intent = intents_1[intentName];\r\n                                                            if (!intent) {\r\n                                                                intent = {\r\n                                                                    name: intentName,\r\n                                                                    handlers: [],\r\n                                                                };\r\n                                                                intents_1[intentName] = intent;\r\n                                                            }\r\n                                                            if (method.description) {\r\n                                                                try {\r\n                                                                    info = JSON.parse(method.description);\r\n                                                                }\r\n                                                                catch (_m) { }\r\n                                                            }\r\n                                                            app = apps_1.find(function (appWithIntents) { return appWithIntents.name === server.application; });\r\n                                                            if (app && app.intents) {\r\n                                                                appIntent = app.intents.find(function (appDefIntent) { return appDefIntent.name === intentName; });\r\n                                                            }\r\n                                                            window = this.windows.findById(server.windowId);\r\n                                                            return [4, ((_a = window) === null || _a === void 0 ? void 0 : _a.getTitle())];\r\n                                                        case 1:\r\n                                                            title = _l.sent();\r\n                                                            handler = {\r\n                                                                instanceId: server.instance,\r\n                                                                applicationName: server.application,\r\n                                                                applicationIcon: ((_b = info) === null || _b === void 0 ? void 0 : _b.icon) || ((_c = app) === null || _c === void 0 ? void 0 : _c.icon),\r\n                                                                applicationTitle: (_d = app) === null || _d === void 0 ? void 0 : _d.title,\r\n                                                                applicationDescription: ((_e = info) === null || _e === void 0 ? void 0 : _e.description) || ((_f = app) === null || _f === void 0 ? void 0 : _f.caption),\r\n                                                                displayName: ((_g = info) === null || _g === void 0 ? void 0 : _g.displayName) || ((_h = appIntent) === null || _h === void 0 ? void 0 : _h.displayName),\r\n                                                                contextTypes: ((_j = info) === null || _j === void 0 ? void 0 : _j.contextTypes) || ((_k = appIntent) === null || _k === void 0 ? void 0 : _k.contexts),\r\n                                                                instanceTitle: title,\r\n                                                                type: \"instance\"\r\n                                                            };\r\n                                                            intent.handlers.push(handler);\r\n                                                            return [2];\r\n                                                    }\r\n                                                });\r\n                                            }); }))];\r\n                                        case 1:\r\n                                            _a.sent();\r\n                                            return [2];\r\n                                    }\r\n                                });\r\n                            };\r\n                            _c = 0, _d = this.interop.servers();\r\n                            _e.label = 2;\r\n                        case 2:\r\n                            if (!(_c < _d.length)) return [3, 5];\r\n                            server = _d[_c];\r\n                            return [5, _loop_1(server)];\r\n                        case 3:\r\n                            _e.sent();\r\n                            _e.label = 4;\r\n                        case 4:\r\n                            _c++;\r\n                            return [3, 2];\r\n                        case 5: return [2, Object.values(intents_1)];\r\n                        case 6:\r\n                            e_1 = _e.sent();\r\n                            this.logger.error(\"Failed to get the applications!\", e_1);\r\n                            return [2, []];\r\n                        case 7: return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Intents.prototype.addIntentListener = function (intent, handler) {\r\n            var _this = this;\r\n            if ((typeof intent !== \"string\" && typeof intent !== \"object\") || (typeof intent === \"object\" && typeof intent.intent !== \"string\")) {\r\n                throw new Error(\"Please provide the intent as a string or an object with an intent property!\");\r\n            }\r\n            if (typeof handler !== \"function\") {\r\n                throw new Error(\"Please provide the handler as a function!\");\r\n            }\r\n            var result = { unsubscribe: function () { return console.log(\"Could not unsubscribe!\"); } };\r\n            var intentName = typeof intent === \"string\" ? intent : intent.intent;\r\n            var methodName = \"\" + GLUE42_FDC3_INTENTS_METHOD_PREFIX + intentName;\r\n            var methodDescription = typeof intent === \"string\" ? undefined : JSON.stringify(intent);\r\n            this.interop.register({ name: methodName, description: methodDescription }, function (args) {\r\n                return handler(args);\r\n            }).then(function () {\r\n                result.unsubscribe = function () {\r\n                    _this.interop.unregister(methodName);\r\n                };\r\n            });\r\n            return result;\r\n        };\r\n        Intents.prototype.get = function (intent) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.all()];\r\n                        case 1: return [2, (_a.sent()).find(function (registeredIntent) { return registeredIntent.name === intent; })];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Intents.prototype.startApp = function (application, options) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var result;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.interop.invoke(\"T42.ACS.StartApplication\", { Name: application, options: options })];\r\n                        case 1:\r\n                            result = _a.sent();\r\n                            return [2, result.returned.Id];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Intents.prototype.raiseIntentToInstance = function (instanceId, intent, context) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var methodName, interopServer, method, result;\r\n                var _this = this;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            methodName = \"\" + GLUE42_FDC3_INTENTS_METHOD_PREFIX + intent;\r\n                            interopServer = this.interop.servers().find(function (server) { return server.instance === instanceId; });\r\n                            if (!!interopServer) return [3, 2];\r\n                            return [4, (new Promise(function (resolve, reject) {\r\n                                    var timeoutId;\r\n                                    var unsub = _this.interop.serverAdded(function (server) {\r\n                                        if (server.instance === instanceId) {\r\n                                            interopServer = server;\r\n                                            resolve();\r\n                                            clearTimeout(timeoutId);\r\n                                            unsub();\r\n                                        }\r\n                                    });\r\n                                    timeoutId = setTimeout(function () {\r\n                                        unsub();\r\n                                        reject(new Error(\"Can not find interop server for instance \" + instanceId));\r\n                                    }, 30 * 1000);\r\n                                }))];\r\n                        case 1:\r\n                            _a.sent();\r\n                            _a.label = 2;\r\n                        case 2:\r\n                            method = interopServer.getMethods().find(function (registeredMethod) { return registeredMethod.name === methodName; });\r\n                            if (!!method) return [3, 4];\r\n                            return [4, (new Promise(function (resolve, reject) {\r\n                                    var timeoutId;\r\n                                    var unsub = _this.interop.methodAdded(function (addedMethod) {\r\n                                        if (addedMethod.name === methodName) {\r\n                                            resolve();\r\n                                            clearTimeout(timeoutId);\r\n                                            unsub();\r\n                                        }\r\n                                    });\r\n                                    timeoutId = setTimeout(function () {\r\n                                        unsub();\r\n                                        reject(new Error(\"Can not find interop method \" + methodName + \" for instance \" + instanceId));\r\n                                    }, 10 * 1000);\r\n                                }))];\r\n                        case 3:\r\n                            _a.sent();\r\n                            _a.label = 4;\r\n                        case 4: return [4, this.interop.invoke(methodName, context, { instance: instanceId })];\r\n                        case 5:\r\n                            result = _a.sent();\r\n                            return [2, {\r\n                                    result: result.returned\r\n                                }];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        return Intents;\r\n    }());\n\n    var instances = [];\r\n    var factory$3 = function (options) { return __awaiter(void 0, void 0, void 0, function () {\r\n        function createWindows(core) {\r\n            if (glueConfig.windows) {\r\n                var windowsLogger = getLibLogger(\"windows\", core.logger, glueConfig.windows);\r\n                _windows = WindowsFactory(core.agm, windowsLogger, function () {\r\n                    return _appManager;\r\n                }, gdMajorVersion);\r\n                debugLog(_windows);\r\n                return _windows;\r\n            }\r\n        }\r\n        function createActivities(core) {\r\n            var _a, _b;\r\n            if (glueConfig.activities) {\r\n                if (ActivityModule.checkIsUsingGW3Implementation && ActivityModule.checkIsUsingGW3Implementation(core.connection)) {\r\n                    var activityLogger = getLibLogger(\"activity\", core.logger, glueConfig.activities);\r\n                    _activity = new ActivityModule({\r\n                        connection: core.connection,\r\n                        contexts: core.contexts,\r\n                        agm: core.agm,\r\n                        logger: activityLogger,\r\n                        logLevel: \"info\",\r\n                        disableAutoAnnounce: false,\r\n                        disposeRequestHandling: \"exit\",\r\n                        announcementInfo: null,\r\n                        windows: _windows,\r\n                        appManagerGetter: function () {\r\n                            return _appManager;\r\n                        },\r\n                        mode: glueConfig.activities.mode,\r\n                        typesToTrack: glueConfig.activities.typesToTrack,\r\n                        activityId: (_b = (_a = glue42gd) === null || _a === void 0 ? void 0 : _a.activityInfo) === null || _b === void 0 ? void 0 : _b.activityId,\r\n                        gdMajorVersion: gdMajorVersion\r\n                    }).api;\r\n                    debugLog(_activity);\r\n                    return _activity;\r\n                }\r\n            }\r\n        }\r\n        function createAppManager(core) {\r\n            if (!glueConfig.appManager) {\r\n                return;\r\n            }\r\n            var logger = getLibLogger(\"appManager\", core.logger, glueConfig.appManager);\r\n            _appManager = AppManagerFactory({\r\n                agm: core.agm,\r\n                windows: _windows,\r\n                logger: logger,\r\n                activities: _activity,\r\n                mode: glueConfig.appManager.mode,\r\n                gdMajorVersion: gdMajorVersion\r\n            });\r\n            debugLog(_appManager);\r\n            return _appManager;\r\n        }\r\n        function createLayouts(core) {\r\n            var _a;\r\n            if (!glueConfig.layouts) {\r\n                return;\r\n            }\r\n            var logger = getLibLogger(\"layouts\", core.logger, glueConfig.layouts);\r\n            var layoutsConfig = glueConfig.layouts;\r\n            var lay = LayoutsFactory({\r\n                agm: core.agm,\r\n                appManager: _appManager,\r\n                activityGetter: function () { return _activity; },\r\n                logger: logger,\r\n                mode: layoutsConfig.mode,\r\n                autoSaveWindowContext: (_a = layoutsConfig.autoSaveWindowContext, (_a !== null && _a !== void 0 ? _a : false)),\r\n                gdMajorVersion: gdMajorVersion\r\n            });\r\n            debugLog(lay);\r\n            return lay;\r\n        }\r\n        function createChannels(core) {\r\n            if (!glueConfig.channels) {\r\n                return;\r\n            }\r\n            if (!core.contexts) {\r\n                return;\r\n            }\r\n            var channelsAPI = factory(core.contexts, core.agm);\r\n            debugLog(channelsAPI);\r\n            return channelsAPI;\r\n        }\r\n        function createHotkeys(core) {\r\n            var hotkeysAPI = factory$1(core.agm);\r\n            debugLog(hotkeysAPI);\r\n            return hotkeysAPI;\r\n        }\r\n        function createIntents(core) {\r\n            var intentsAPI = new Intents(core.agm, _windows, core.logger.subLogger(\"intents\"));\r\n            debugLog(intentsAPI);\r\n            return intentsAPI;\r\n        }\r\n        function createNotifications(core) {\r\n            var notificationsAPI = new Notifications(core.interop);\r\n            debugLog(notificationsAPI);\r\n            return notificationsAPI;\r\n        }\r\n        function createDisplaysApi(core) {\r\n            if (glueConfig.displays) {\r\n                var displaysLogger = getLibLogger(\"displays\", core.logger, glueConfig.displays);\r\n                _displays = new DisplayManager(core.agm, displaysLogger);\r\n                debugLog(_displays);\r\n                return _displays;\r\n            }\r\n        }\r\n        function createThemes(core) {\r\n            if (!core.contexts) {\r\n                return;\r\n            }\r\n            var themesAPI = factory$2(core);\r\n            debugLog(themesAPI);\r\n            return themesAPI;\r\n        }\r\n        function getLibLogger(loggerName, logger, config) {\r\n            var newLogger = logger.subLogger(loggerName);\r\n            if (config && config.logger) {\r\n                var loggerConfig = config.logger;\r\n                if (loggerConfig.console) {\r\n                    newLogger.consoleLevel(loggerConfig.console);\r\n                }\r\n                if (loggerConfig.publish) {\r\n                    newLogger.publishLevel(loggerConfig.publish);\r\n                }\r\n            }\r\n            return newLogger;\r\n        }\r\n        function debugLog(entry) {\r\n            currentLog.push(entry);\r\n        }\r\n        var glue42gd, gdMajorVersion, glueConfig, _appManager, _activity, _windows, _displays, ext, currentLog, glueApi;\r\n        var _a;\r\n        return __generator(this, function (_b) {\r\n            switch (_b.label) {\r\n                case 0:\r\n                    glue42gd = typeof window !== \"undefined\" && window.glue42gd;\r\n                    if (glue42gd) {\r\n                        if (instances.length > 0) {\r\n                            return [2, instances[0]];\r\n                        }\r\n                    }\r\n                    gdMajorVersion = Utils$1.getGDMajorVersion();\r\n                    options = options || {};\r\n                    glueConfig = prepareConfig$1(options);\r\n                    options.gateway = options.gateway || {};\r\n                    ext = {\r\n                        libs: [\r\n                            { name: \"windows\", create: createWindows },\r\n                            { name: \"activities\", create: createActivities },\r\n                            { name: \"appManager\", create: createAppManager },\r\n                            { name: \"layouts\", create: createLayouts },\r\n                            { name: \"channels\", create: createChannels },\r\n                            { name: \"hotkeys\", create: createHotkeys },\r\n                            { name: \"displays\", create: createDisplaysApi },\r\n                            { name: \"intents\", create: createIntents },\r\n                            { name: \"notifications\", create: createNotifications },\r\n                            { name: \"themes\", create: createThemes }\r\n                        ],\r\n                        version: version$2,\r\n                        enrichGlue: function (glue) {\r\n                            glue.config.activities = glueConfig.activities;\r\n                            glue.config.windows = glueConfig.windows;\r\n                            glue.config.appManager = glueConfig.appManager;\r\n                            glue.config.layouts = glueConfig.layouts;\r\n                            glue.config.channels = glueConfig.channels;\r\n                            glue.config.displays = glueConfig.displays;\r\n                        },\r\n                    };\r\n                    currentLog = [];\r\n                    if (typeof window !== \"undefined\") {\r\n                        if (!window.glueFactoryLog) {\r\n                            window.glueFactoryLog = [];\r\n                        }\r\n                        window.glueFactoryLog.push(currentLog);\r\n                    }\r\n                    return [4, GlueCore(options, ext)];\r\n                case 1:\r\n                    glueApi = (_b.sent());\r\n                    instances.push(glueApi);\r\n                    if (!(Array.isArray((_a = options) === null || _a === void 0 ? void 0 : _a.libraries) && options.libraries.length)) return [3, 3];\r\n                    return [4, Promise.all(options.libraries.map(function (lib) { return lib(glueApi, options); }))];\r\n                case 2:\r\n                    _b.sent();\r\n                    _b.label = 3;\r\n                case 3: return [2, glueApi];\r\n            }\r\n        });\r\n    }); };\r\n    factory$3.coreVersion = GlueCore.version;\r\n    factory$3.version = version$2;\r\n    factory$3.instances = instances;\n\n    var whatToExpose = factory$3;\r\n    var shouldSetToWindow = true;\r\n    if (typeof window !== \"undefined\") {\r\n        var glue42gd = window.glue42gd;\r\n        if (glue42gd && glue42gd.autoInjected) {\r\n            whatToExpose = window.Glue;\r\n            shouldSetToWindow = false;\r\n        }\r\n        if (shouldSetToWindow) {\r\n            window.Glue = whatToExpose;\r\n        }\r\n        delete window.GlueCore;\r\n    }\r\n    whatToExpose.default = whatToExpose;\r\n    var whatToExpose$1 = whatToExpose;\n\n    return whatToExpose$1;\n\n})));\n//# sourceMappingURL=desktop.browser.js.map\n","/* eslint-disable @typescript-eslint/no-unused-vars */\r\n\r\nimport { Glue42Web } from \"../../web\";\r\n\r\nconst defaultConfig = {\r\n    logger: \"trace\",\r\n    gateway: { webPlatform: {} },\r\n    libraries: []\r\n};\r\n\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\nexport const parseConfig = (config?: Glue42Web.Config): any => {\r\n    return Object.assign({}, defaultConfig, config);\r\n};","import { Glue42Web } from \"../../web\";\r\nimport { openWindowConfigDecoder, coreWindowDataDecoder, windowHelloDecoder, helloSuccessDecoder, simpleWindowDecoder, windowBoundsResultDecoder, windowUrlResultDecoder, windowMoveResizeConfigDecoder, windowTitleConfigDecoder } from \"../shared/decoders\";\r\nimport { BridgeOperation } from \"../shared/types\";\r\nimport { WebWindowModel } from \"./webWindow\";\r\n\r\nexport type WindowOperationTypes = \"openWindow\" | \"getBounds\" |\r\n    \"windowHello\" | \"windowAdded\" | \"windowRemoved\" | \"getUrl\" |\r\n    \"moveResize\" | \"focus\" | \"close\" | \"getTitle\" | \"setTitle\";\r\n\r\nexport const operations: { [key in WindowOperationTypes]: BridgeOperation } = {\r\n    openWindow: { name: \"openWindow\", dataDecoder: openWindowConfigDecoder, resultDecoder: coreWindowDataDecoder },\r\n    windowHello: { name: \"windowHello\", dataDecoder: windowHelloDecoder, resultDecoder: helloSuccessDecoder },\r\n    windowAdded: { name: \"windowAdded\", dataDecoder: coreWindowDataDecoder },\r\n    windowRemoved: { name: \"windowRemoved\", dataDecoder: simpleWindowDecoder },\r\n    getBounds: { name: \"getBounds\", dataDecoder: simpleWindowDecoder, resultDecoder: windowBoundsResultDecoder },\r\n    getUrl: { name: \"getUrl\", dataDecoder: simpleWindowDecoder, resultDecoder: windowUrlResultDecoder },\r\n    moveResize: { name: \"moveResize\", dataDecoder: windowMoveResizeConfigDecoder },\r\n    focus: { name: \"focus\", dataDecoder: simpleWindowDecoder },\r\n    close: { name: \"close\", dataDecoder: simpleWindowDecoder },\r\n    getTitle: { name: \"getTitle\", dataDecoder: simpleWindowDecoder, resultDecoder: windowTitleConfigDecoder },\r\n    setTitle: { name: \"setTitle\", dataDecoder: windowTitleConfigDecoder }\r\n};\r\n\r\nexport interface WindowProjection {\r\n    id: string;\r\n    model: WebWindowModel;\r\n    api: Glue42Web.Windows.WebWindow;\r\n}\r\n\r\nexport interface WindowHello {\r\n    windowId?: string;\r\n}\r\n\r\nexport interface OpenWindowConfig {\r\n    name: string;\r\n    url: string;\r\n    options?: Glue42Web.Windows.Settings;\r\n}\r\n\r\nexport interface SimpleWindowCommand {\r\n    windowId: string;\r\n}\r\n\r\nexport interface WindowTitleConfig {\r\n    windowId: string;\r\n    title: string;\r\n}\r\n\r\nexport interface WindowMoveResizeConfig {\r\n    windowId: string;\r\n    top?: number;\r\n    left?: number;\r\n    width?: number;\r\n    height?: number;\r\n    relative?: boolean;\r\n}\r\n\r\nexport interface HelloSuccess {\r\n    windows: CoreWindowData[];\r\n    isWorkspaceFrame: boolean;\r\n}\r\n\r\nexport interface CoreWindowData {\r\n    windowId: string;\r\n    name: string;\r\n}\r\n\r\nexport interface WindowBoundsResult {\r\n    windowId: string;\r\n    bounds: Glue42Web.Windows.Bounds;\r\n}\r\n\r\nexport interface WindowUrlResult {\r\n    windowId: string;\r\n    url: string;\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { number } from \"decoder-validate\";\r\nimport { Glue42Web } from \"../../web\";\r\nimport { GlueBridge } from \"../communication/bridge\";\r\nimport { anyDecoder, boundsDecoder, nonEmptyStringDecoder, nonNegativeNumberDecoder } from \"../shared/decoders\";\r\nimport { operations, SimpleWindowCommand, WindowBoundsResult, WindowMoveResizeConfig, WindowTitleConfig, WindowUrlResult } from \"./protocol\";\r\nimport {\r\n    default as CallbackRegistryFactory,\r\n    CallbackRegistry,\r\n    UnsubscribeFunction,\r\n} from \"callback-registry\";\r\n\r\nexport class WebWindowModel {\r\n    private readonly registry: CallbackRegistry = CallbackRegistryFactory();\r\n    private readonly myCtxKey: string;\r\n    private ctxUnsubscribe: UnsubscribeFunction | undefined;\r\n    private me!: Glue42Web.Windows.WebWindow;\r\n\r\n    constructor(private readonly _id: string, private readonly _name: string, private readonly _bridge: GlueBridge) {\r\n        this.myCtxKey = `___window___${this.id}`;\r\n    }\r\n\r\n    public get id(): string {\r\n        return this._id.slice();\r\n    }\r\n\r\n    public get name(): string {\r\n        return this._name.slice();\r\n    }\r\n\r\n    public clean(): void {\r\n        if (this.ctxUnsubscribe) {\r\n            this.ctxUnsubscribe();\r\n        }\r\n    }\r\n\r\n    public async toApi(): Promise<Glue42Web.Windows.WebWindow> {\r\n\r\n        this.ctxUnsubscribe = await this._bridge.contextLib.subscribe(this.myCtxKey, (data) => this.registry.execute(\"context-updated\", data));\r\n\r\n        const api = {\r\n            id: this.id,\r\n            name: this.name,\r\n            getURL: this.getURL.bind(this),\r\n            moveResize: this.moveResize.bind(this),\r\n            resizeTo: this.resizeTo.bind(this),\r\n            moveTo: this.moveTo.bind(this),\r\n            focus: this.focus.bind(this),\r\n            close: this.close.bind(this),\r\n            getTitle: this.getTitle.bind(this),\r\n            setTitle: this.setTitle.bind(this),\r\n            getBounds: this.getBounds.bind(this),\r\n            getContext: this.getContext.bind(this),\r\n            updateContext: this.updateContext.bind(this),\r\n            setContext: this.setContext.bind(this),\r\n            onContextUpdated: this.onContextUpdated.bind(this)\r\n        };\r\n        \r\n        this.me = Object.freeze(api);\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private async getURL(): Promise<string> {\r\n        const result = await this._bridge.send<SimpleWindowCommand, WindowUrlResult>(\"windows\", operations.getUrl, { windowId: this.id });\r\n\r\n        return result.url;\r\n    }\r\n\r\n    private async moveResize(dimension: Partial<Glue42Web.Windows.Bounds>): Promise<Glue42Web.Windows.WebWindow> {\r\n        const targetBounds = boundsDecoder.runWithException(dimension);\r\n\r\n        const commandArgs = Object.assign({}, targetBounds, { windowId: this.id, relative: false });\r\n\r\n        await this._bridge.send<WindowMoveResizeConfig, void>(\"windows\", operations.moveResize, commandArgs);\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private async resizeTo(width?: number, height?: number): Promise<Glue42Web.Windows.WebWindow> {\r\n        if (typeof width === \"undefined\" && typeof height === \"undefined\") {\r\n            return this.me;\r\n        }\r\n\r\n        if (typeof width !== \"undefined\") {\r\n            nonNegativeNumberDecoder.runWithException(width);\r\n        }\r\n\r\n        if (typeof height !== \"undefined\") {\r\n            nonNegativeNumberDecoder.runWithException(height);\r\n        }\r\n\r\n        const commandArgs = Object.assign({}, { width, height }, { windowId: this.id, relative: true });\r\n\r\n        await this._bridge.send<WindowMoveResizeConfig, void>(\"windows\", operations.moveResize, commandArgs);\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private async moveTo(top?: number, left?: number): Promise<Glue42Web.Windows.WebWindow> {\r\n        if (typeof top === \"undefined\" && typeof left === \"undefined\") {\r\n            return this.me;\r\n        }\r\n\r\n        if (typeof top !== \"undefined\") {\r\n            number().runWithException(top);\r\n        }\r\n\r\n        if (typeof left !== \"undefined\") {\r\n            number().runWithException(left);\r\n        }\r\n\r\n        const commandArgs = Object.assign({}, { top, left }, { windowId: this.id, relative: true });\r\n\r\n        await this._bridge.send<WindowMoveResizeConfig, void>(\"windows\", operations.moveResize, commandArgs);\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private async focus(): Promise<Glue42Web.Windows.WebWindow> {\r\n        await this._bridge.send<SimpleWindowCommand, void>(\"windows\", operations.focus, { windowId: this.id });\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private async close(): Promise<Glue42Web.Windows.WebWindow> {\r\n        await this._bridge.send<SimpleWindowCommand, void>(\"windows\", operations.close, { windowId: this.id });\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private async getTitle(): Promise<string> {\r\n        const result = await this._bridge.send<SimpleWindowCommand, WindowTitleConfig>(\"windows\", operations.getTitle, { windowId: this.id });\r\n\r\n        return result.title;\r\n    }\r\n\r\n    private async setTitle(title: string): Promise<Glue42Web.Windows.WebWindow> {\r\n        const ttl = nonEmptyStringDecoder.runWithException(title);\r\n\r\n        await this._bridge.send<WindowTitleConfig, void>(\"windows\", operations.setTitle, { windowId: this.id, title: ttl });\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private async getBounds(): Promise<Glue42Web.Windows.Bounds> {\r\n        const result = await this._bridge.send<SimpleWindowCommand, WindowBoundsResult>(\"windows\", operations.getBounds, { windowId: this.id });\r\n\r\n        return result.bounds;\r\n    }\r\n\r\n    private async getContext(): Promise<any> {\r\n        return this._bridge.contextLib.get(this.myCtxKey);\r\n    }\r\n\r\n    private async updateContext(context: any): Promise<Glue42Web.Windows.WebWindow> {\r\n        const ctx = anyDecoder.runWithException(context);\r\n\r\n        await this._bridge.contextLib.update(this.myCtxKey, ctx);\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private async setContext(context: any): Promise<Glue42Web.Windows.WebWindow> {\r\n        const ctx = anyDecoder.runWithException(context);\r\n\r\n        await this._bridge.contextLib.set(this.myCtxKey, ctx);\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private onContextUpdated(callback: (context: any, window: Glue42Web.Windows.WebWindow) => void): UnsubscribeFunction {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"Cannot subscribe to context changes, because the provided callback is not a function\");\r\n        }\r\n\r\n        const wrappedCallback = (data: any): void => {\r\n            callback(data, this.me);\r\n        };\r\n\r\n        return this.registry.add(\"context-updated\", wrappedCallback);\r\n    }\r\n\r\n}","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Glue42Core } from \"@glue42/core\";\r\nimport { Glue42Web } from \"../../web\";\r\nimport { GlueBridge } from \"../communication/bridge\";\r\nimport { nonEmptyStringDecoder, windowOpenSettingsDecoder, windowOperationTypesDecoder } from \"../shared/decoders\";\r\nimport { LibController } from \"../shared/types\";\r\nimport { HelloSuccess, OpenWindowConfig, CoreWindowData, WindowHello, operations, WindowBoundsResult, WindowTitleConfig, WindowUrlResult, WindowMoveResizeConfig, WindowProjection } from \"./protocol\";\r\nimport {\r\n    default as CallbackRegistryFactory,\r\n    CallbackRegistry,\r\n    UnsubscribeFunction,\r\n} from \"callback-registry\";\r\nimport { IoC } from \"../shared/ioc\";\r\n\r\nexport class WindowsController implements LibController {\r\n\r\n    private readonly registry: CallbackRegistry = CallbackRegistryFactory();\r\n    private platformRegistration!: Promise<void>;\r\n    private ioc!: IoC;\r\n    private bridge!: GlueBridge;\r\n    private publicWindowId!: string;\r\n    private actualWindowId: string | undefined;\r\n    private allWindowProjections: WindowProjection[] = [];\r\n    private me!: Glue42Web.Windows.WebWindow;\r\n    private logger!: Glue42Web.Logger.API;\r\n\r\n    public async start(coreGlue: Glue42Core.GlueCore, ioc: IoC): Promise<void> {\r\n\r\n        this.logger = coreGlue.logger.subLogger(\"windows.controller.web\");\r\n\r\n        this.logger.trace(\"starting the web windows controller\");\r\n\r\n        this.publicWindowId = (coreGlue as any).connection.transport.publicWindowId;\r\n        this.actualWindowId = coreGlue.interop.instance.windowId;\r\n\r\n        this.addWindowOperationExecutors();\r\n\r\n        this.ioc = ioc;\r\n        this.bridge = ioc.bridge;\r\n\r\n        this.logger.trace(`set the public window id: ${this.publicWindowId} and actual window id: ${this.actualWindowId}, set the bridge operations and ioc, registering with the platform now`);\r\n\r\n        this.platformRegistration = this.registerWithPlatform();\r\n\r\n        await this.platformRegistration;\r\n\r\n        this.logger.trace(\"registration with the platform successful, attaching the windows property to glue and returning\");\r\n\r\n        const api = this.toApi();\r\n\r\n        (coreGlue as Glue42Web.API).windows = api;\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    public async handleBridgeMessage(args: any): Promise<void> {\r\n        await this.platformRegistration;\r\n\r\n        const operationName = windowOperationTypesDecoder.runWithException(args.operation);\r\n\r\n        const operation = operations[operationName];\r\n\r\n        if (!operation.execute) {\r\n            return;\r\n        }\r\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n        let operationData: any = args.data;\r\n\r\n        if (operation.dataDecoder) {\r\n            operationData = operation.dataDecoder.runWithException(args.data);\r\n        }\r\n\r\n        return await operation.execute(operationData);\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    private async open(name: string, url: string, options?: Glue42Web.Windows.Settings): Promise<Glue42Web.Windows.WebWindow> {\r\n        nonEmptyStringDecoder.runWithException(name);\r\n        nonEmptyStringDecoder.runWithException(url);\r\n        const settings = windowOpenSettingsDecoder.runWithException(options);\r\n\r\n        const windowSuccess = await this.bridge.send<OpenWindowConfig, CoreWindowData>(\"windows\", operations.openWindow, { name, url, options: settings });\r\n\r\n        const projection = await this.ioc.buildWebWindow(windowSuccess.windowId, windowSuccess.name);\r\n\r\n        return projection.api;\r\n    }\r\n\r\n    private list(): Glue42Web.Windows.WebWindow[] {\r\n        return this.allWindowProjections.map((projection) => projection.api);\r\n    }\r\n\r\n    private findById(id: string): Glue42Web.Windows.WebWindow | undefined {\r\n        nonEmptyStringDecoder.runWithException(id);\r\n\r\n        return this.allWindowProjections.find((projection) => projection.id === id)?.api;\r\n    }\r\n\r\n    private toApi(): Glue42Web.Windows.API {\r\n        return {\r\n            open: this.open.bind(this),\r\n            my: this.my.bind(this),\r\n            list: this.list.bind(this),\r\n            findById: this.findById.bind(this),\r\n            onWindowAdded: this.onWindowAdded.bind(this),\r\n            onWindowRemoved: this.onWindowRemoved.bind(this)\r\n        };\r\n    }\r\n\r\n    private addWindowOperationExecutors(): void {\r\n        operations.windowAdded.execute = this.handleWindowAdded.bind(this);\r\n        operations.windowRemoved.execute = this.handleWindowRemoved.bind(this);\r\n        operations.getBounds.execute = this.handleGetBounds.bind(this);\r\n        operations.getTitle.execute = this.handleGetTitle.bind(this);\r\n        operations.getUrl.execute = this.handleGetUrl.bind(this);\r\n        operations.moveResize.execute = this.handleMoveResize.bind(this);\r\n        operations.setTitle.execute = this.handleSetTitle.bind(this);\r\n    }\r\n\r\n    private my(): Glue42Web.Windows.WebWindow {\r\n        return Object.assign({}, this.me);\r\n    }\r\n\r\n    private onWindowAdded(callback: (window: Glue42Web.Windows.WebWindow) => void): UnsubscribeFunction {\r\n        return this.registry.add(\"window-added\", callback);\r\n    }\r\n\r\n    private onWindowRemoved(callback: (window: Glue42Web.Windows.WebWindow) => void): UnsubscribeFunction {\r\n        return this.registry.add(\"window-removed\", callback);\r\n    }\r\n\r\n    private async sayHello(): Promise<HelloSuccess> {\r\n        const helloSuccess = await this.bridge.send<WindowHello, HelloSuccess>(\"windows\", operations.windowHello, { windowId: this.actualWindowId });\r\n\r\n        return helloSuccess;\r\n    }\r\n\r\n    private async registerWithPlatform(): Promise<void> {\r\n\r\n        const { windows, isWorkspaceFrame } = await this.sayHello();\r\n\r\n        this.logger.trace(\"the platform responded to the hello message\");\r\n\r\n        if (!isWorkspaceFrame) {\r\n            this.logger.trace(\"i am not treated as a workspace frame, setting my window\");\r\n\r\n            const myWindow = windows.find((w) => w.windowId === this.publicWindowId);\r\n\r\n            if (!myWindow) {\r\n                throw new Error(\"Cannot initialize the window library, because I received no information about me from the platform\");\r\n            }\r\n\r\n            this.me = (await this.ioc.buildWebWindow(this.publicWindowId, myWindow.name)).api;\r\n        }\r\n\r\n        const currentWindows = await Promise.all(windows.map((w) => this.ioc.buildWebWindow(w.windowId, w.name)));\r\n\r\n        this.logger.trace(\"all windows projections are completed, building the list collection\");\r\n\r\n        this.allWindowProjections.push(...currentWindows);\r\n    }\r\n\r\n    private async handleWindowAdded(data: CoreWindowData): Promise<void> {\r\n        if (this.allWindowProjections.some((projection) => projection.id === data.windowId)) {\r\n            return;\r\n        }\r\n\r\n        const webWindowProjection = await this.ioc.buildWebWindow(data.windowId, data.name);\r\n        this.allWindowProjections.push(webWindowProjection);\r\n\r\n        this.registry.execute(\"window-added\", webWindowProjection.api);\r\n    }\r\n\r\n    private async handleWindowRemoved(data: CoreWindowData): Promise<void> {\r\n        const removed = this.allWindowProjections.find((w) => w.id === data.windowId);\r\n\r\n        if (!removed) {\r\n            return;\r\n        }\r\n\r\n        this.allWindowProjections = this.allWindowProjections.filter((w) => w.id !== data.windowId);\r\n\r\n        removed.model.clean();\r\n\r\n        this.registry.execute(\"window-removed\", removed.api);\r\n    }\r\n\r\n    private async handleGetBounds(): Promise<WindowBoundsResult> {\r\n        return {\r\n            windowId: this.me.id,\r\n            bounds: {\r\n                top: window.screenTop,\r\n                left: window.screenLeft,\r\n                width: window.innerWidth,\r\n                height: window.innerHeight\r\n            }\r\n        };\r\n    }\r\n\r\n    private async handleGetTitle(): Promise<WindowTitleConfig> {\r\n        return {\r\n            windowId: this.me.id,\r\n            title: document.title\r\n        };\r\n    }\r\n\r\n    private async handleGetUrl(): Promise<WindowUrlResult> {\r\n        return {\r\n            windowId: this.me.id,\r\n            url: window.location.href\r\n        };\r\n    }\r\n\r\n    private async handleMoveResize(config: WindowMoveResizeConfig): Promise<void> {\r\n\r\n        const targetTop = typeof config.top === \"number\" ? config.top :\r\n            config.relative ? 0 : window.screenTop;\r\n\r\n        const targetLeft = typeof config.left === \"number\" ? config.left :\r\n            config.relative ? 0 : window.screenLeft;\r\n\r\n        const targetHeight = typeof config.height === \"number\" ? config.height :\r\n            config.relative ? 0 : window.innerHeight;\r\n\r\n        const targetWidth = typeof config.width === \"number\" ? config.width :\r\n            config.relative ? 0 : window.innerWidth;\r\n\r\n        const moveMethod = config.relative ? window.moveBy : window.moveTo;\r\n        const resizeMethod = config.relative ? window.resizeBy : window.resizeTo;\r\n\r\n        moveMethod(targetTop, targetLeft);\r\n        resizeMethod(targetWidth, targetHeight);\r\n    }\r\n\r\n    private async handleSetTitle(config: WindowTitleConfig): Promise<void> {\r\n        document.title = config.title;\r\n    }\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\n\r\nexport const PromiseWrap = <T>(promise: () => Promise<T>, timeoutMilliseconds: number, timeoutMessage?: string): Promise<T> => {\r\n    return new Promise<T>((resolve, reject) => {\r\n\r\n        let promiseActive = true;\r\n\r\n        const timeout = setTimeout(() => {\r\n            if (!promiseActive) {\r\n                return;\r\n            }\r\n            promiseActive = false;\r\n            const message = timeoutMessage || `Promise timeout hit: ${timeoutMilliseconds}`;\r\n\r\n            reject(message);\r\n        }, timeoutMilliseconds);\r\n\r\n        promise()\r\n            .then((result) => {\r\n                if (!promiseActive) {\r\n                    return;\r\n                }\r\n                promiseActive = false;\r\n                clearTimeout(timeout);\r\n                resolve(result);\r\n            })\r\n            .catch((error) => {\r\n                if (!promiseActive) {\r\n                    return;\r\n                }\r\n                promiseActive = false;\r\n                clearTimeout(timeout);\r\n                reject(error);\r\n            });\r\n    });\r\n};\r\n\r\nexport const PromisePlus = <T>(executor: (resolve: (value?: T | PromiseLike<T> | undefined) => void, reject: (reason?: any) => void) => void, timeoutMilliseconds: number, timeoutMessage?: string): Promise<T> => {\r\n\r\n    return new Promise<T>((resolve, reject) => {\r\n        const timeout = setTimeout(() => {\r\n\r\n            const message = timeoutMessage || `Promise timeout hit: ${timeoutMilliseconds}`;\r\n\r\n            reject(message);\r\n        }, timeoutMilliseconds);\r\n\r\n        const providedPromise = new Promise<T>(executor);\r\n\r\n        providedPromise\r\n            .then((result) => {\r\n                clearTimeout(timeout);\r\n                resolve(result);\r\n            })\r\n            .catch((error) => {\r\n                clearTimeout(timeout);\r\n                reject(error);\r\n            });\r\n    });\r\n\r\n};\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { appHelloSuccessDecoder, applicationStartConfigDecoder, baseApplicationDataDecoder, basicInstanceDataDecoder, instanceDataDecoder, windowHelloDecoder } from \"../shared/decoders\";\r\nimport { BridgeOperation } from \"../shared/types\";\r\n\r\nexport type AppManagerOperationTypes = \"appHello\" | \"applicationAdded\" |\r\n    \"applicationRemoved\" | \"applicationChanged\" | \"instanceStarted\" | \"instanceStopped\" |\r\n    \"applicationStart\" | \"instanceStop\";\r\n\r\nexport const operations: { [key in AppManagerOperationTypes]: BridgeOperation } = {\r\n    appHello: { name: \"appHello\", dataDecoder: windowHelloDecoder, resultDecoder: appHelloSuccessDecoder },\r\n    applicationAdded: { name: \"applicationAdded\", dataDecoder: baseApplicationDataDecoder },\r\n    applicationRemoved: { name: \"applicationRemoved\", dataDecoder: baseApplicationDataDecoder },\r\n    applicationChanged: { name: \"applicationChanged\", dataDecoder: baseApplicationDataDecoder },\r\n    instanceStarted: { name: \"instanceStarted\", dataDecoder: instanceDataDecoder },\r\n    instanceStopped: { name: \"instanceStopped\", dataDecoder: instanceDataDecoder },\r\n    applicationStart: { name: \"applicationStart\", dataDecoder: applicationStartConfigDecoder, resultDecoder: instanceDataDecoder },\r\n    instanceStop: { name: \"instanceStop\", dataDecoder: basicInstanceDataDecoder }\r\n};\r\n\r\nexport interface InstanceData {\r\n    id: string;\r\n    applicationName: string;\r\n}\r\n\r\nexport interface BaseApplicationData {\r\n    name: string;\r\n    userProperties: any;\r\n    title?: string;\r\n    version?: string;\r\n    icon?: string;\r\n    caption?: string;\r\n}\r\n\r\nexport interface ApplicationData extends BaseApplicationData {\r\n    instances: InstanceData[];\r\n}\r\n\r\nexport interface AppHelloSuccess {\r\n    apps: ApplicationData[];\r\n}\r\n\r\nexport interface ApplicationStartConfig {\r\n    name: string;\r\n    waitForAGMReady: boolean;\r\n    context?: any;\r\n    top?: number;\r\n    left?: number;\r\n    width?: number;\r\n    height?: number;\r\n    relativeTo?: string;\r\n    relativeDirection?: \"top\" | \"left\" | \"right\" | \"bottom\";\r\n}\r\n\r\nexport interface BasicInstanceData {\r\n    id: string;\r\n}\r\n","/* eslint-disable @typescript-eslint/no-unused-vars */\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Glue42Core } from \"@glue42/core\";\r\nimport { Glue42Web } from \"../../web\";\r\nimport { GlueBridge } from \"../communication/bridge\";\r\nimport { appManagerOperationTypesDecoder, nonEmptyStringDecoder } from \"../shared/decoders\";\r\nimport { IoC } from \"../shared/ioc\";\r\nimport { LibController } from \"../shared/types\";\r\nimport { WindowHello } from \"../windows/protocol\";\r\nimport { AppHelloSuccess, ApplicationData, ApplicationStartConfig, InstanceData, operations } from \"./protocol\";\r\nimport {\r\n    default as CallbackRegistryFactory,\r\n    CallbackRegistry,\r\n    UnsubscribeFunction,\r\n} from \"callback-registry\";\r\n\r\nexport class AppManagerController implements LibController {\r\n    private readonly registry: CallbackRegistry = CallbackRegistryFactory();\r\n    private ioc!: IoC;\r\n    private bridge!: GlueBridge;\r\n    private publicWindowId!: string;\r\n    private actualWindowId: string | undefined;\r\n    private me: Glue42Web.AppManager.Instance | undefined;\r\n    private applications: Glue42Web.AppManager.Application[] = [];\r\n    private instances: Glue42Web.AppManager.Instance[] = [];\r\n    private platformRegistration!: Promise<void>;\r\n    private logger!: Glue42Web.Logger.API;\r\n\r\n    public async start(coreGlue: Glue42Core.GlueCore, ioc: IoC): Promise<void> {\r\n        this.logger = coreGlue.logger.subLogger(\"appManger.controller.web\");\r\n\r\n        this.logger.trace(\"starting the web appManager controller\");\r\n\r\n        this.publicWindowId = (coreGlue as any).connection.transport.publicWindowId;\r\n        this.actualWindowId = coreGlue.interop.instance.windowId;\r\n\r\n        this.addOperationsExecutors();\r\n\r\n        this.ioc = ioc;\r\n        this.bridge = ioc.bridge;\r\n\r\n        this.platformRegistration = this.registerWithPlatform();\r\n\r\n        await this.platformRegistration;\r\n\r\n        this.logger.trace(\"registration with the platform successful, attaching the appManager property to glue and returning\");\r\n\r\n        const api = this.toApi();\r\n\r\n        (coreGlue as Glue42Web.API).appManager = api;\r\n    }\r\n\r\n    public async handleBridgeMessage(args: any): Promise<void> {\r\n        await this.platformRegistration;\r\n\r\n        const operationName = appManagerOperationTypesDecoder.runWithException(args.operation);\r\n\r\n        const operation = operations[operationName];\r\n\r\n        if (!operation.execute) {\r\n            return;\r\n        }\r\n\r\n        let operationData: any = args.data;\r\n\r\n        if (operation.dataDecoder) {\r\n            operationData = operation.dataDecoder.runWithException(args.data);\r\n        }\r\n\r\n        return await operation.execute(operationData);\r\n    }\r\n\r\n    public onInstanceStarted(callback: (instance: Glue42Web.AppManager.Instance) => any): UnsubscribeFunction {\r\n        return this.registry.add(\"instance-started\", callback);\r\n    }\r\n\r\n    public onInstanceStopped(callback: (instance: Glue42Web.AppManager.Instance) => any): UnsubscribeFunction {\r\n        return this.registry.add(\"instance-stopped\", callback);\r\n    }\r\n\r\n    public async startApplication(appName: string, context?: object, options?: Glue42Web.AppManager.ApplicationStartOptions): Promise<Glue42Web.AppManager.Instance> {\r\n        const startOptions: ApplicationStartConfig = {\r\n            name: appName,\r\n            waitForAGMReady: options?.waitForAGMReady ?? true,\r\n            context,\r\n            top: options?.top,\r\n            left: options?.left,\r\n            width: options?.width,\r\n            height: options?.height,\r\n            relativeTo: options?.relativeTo,\r\n            relativeDirection: options?.relativeDirection\r\n        };\r\n\r\n        const openResult = await this.bridge.send<ApplicationStartConfig, InstanceData>(\"appManager\", operations.applicationStart, startOptions);\r\n\r\n        const app = this.applications.find((a) => a.name === openResult.applicationName) as Glue42Web.AppManager.Application;\r\n\r\n        return this.ioc.buildInstance(openResult, app);\r\n    }\r\n\r\n    private toApi(): Glue42Web.AppManager.API {\r\n        const api: Glue42Web.AppManager.API = {\r\n            myInstance: this.me as unknown as Glue42Web.AppManager.Instance,\r\n            application: this.getApplication.bind(this),\r\n            applications: this.getApplications.bind(this),\r\n            instances: this.getInstances.bind(this),\r\n            onAppAdded: this.onAppAdded.bind(this),\r\n            onAppChanged: this.onAppChanged.bind(this),\r\n            onAppRemoved: this.onAppRemoved.bind(this),\r\n            onInstanceStarted: this.onInstanceStarted.bind(this),\r\n            onInstanceStopped: this.onInstanceStopped.bind(this)\r\n        };\r\n\r\n        return Object.freeze(api);\r\n    }\r\n\r\n    private addOperationsExecutors(): void {\r\n        operations.applicationAdded.execute = this.handleApplicationAddedMessage.bind(this);\r\n        operations.applicationRemoved.execute = this.handleApplicationRemovedMessage.bind(this);\r\n        operations.applicationChanged.execute = this.handleApplicationChangedMessage.bind(this);\r\n        operations.instanceStarted.execute = this.handleInstanceStartedMessage.bind(this);\r\n        operations.instanceStopped.execute = this.handleInstanceStoppedMessage.bind(this);\r\n    }\r\n\r\n    private onAppAdded(callback: (app: Glue42Web.AppManager.Application) => any): UnsubscribeFunction {\r\n        return this.registry.add(\"application-added\", callback);\r\n    }\r\n\r\n    private onAppRemoved(callback: (app: Glue42Web.AppManager.Application) => any): UnsubscribeFunction {\r\n        return this.registry.add(\"application-removed\", callback);\r\n    }\r\n\r\n    private onAppChanged(callback: (app: Glue42Web.AppManager.Application) => any): UnsubscribeFunction {\r\n        return this.registry.add(\"application-changed\", callback);\r\n    }\r\n\r\n\r\n    private async handleApplicationAddedMessage(appData: ApplicationData): Promise<void> {\r\n\r\n        if (this.applications.some((app) => app.name === appData.name)) {\r\n            return;\r\n        }\r\n\r\n        const app = await this.ioc.buildApplication(appData);\r\n\r\n        const instances = this.instances.filter((instance) => instance.application.name === app.name);\r\n\r\n        app.instances.push(...instances);\r\n\r\n        this.applications.push(app);\r\n\r\n        this.registry.execute(\"application-added\", app);\r\n    }\r\n\r\n    private async handleApplicationRemovedMessage(appData: ApplicationData): Promise<void> {\r\n        const appIndex = this.applications.findIndex((app) => app.name === appData.name);\r\n\r\n        if (appIndex < 0) {\r\n            return;\r\n        }\r\n\r\n        const app = this.applications[appIndex];\r\n\r\n        this.applications.splice(appIndex, 1);\r\n\r\n        this.registry.execute(\"application-removed\", app);\r\n    }\r\n\r\n    private async handleApplicationChangedMessage(appData: ApplicationData): Promise<void> {\r\n        const app = this.applications.find((app) => app.name === appData.name);\r\n\r\n        if (!app) {\r\n            return this.handleApplicationAddedMessage(appData);\r\n        }\r\n\r\n        app.title = appData.title as string;\r\n        app.version = appData.version as string;\r\n        app.icon = appData.icon as string;\r\n        app.caption = appData.caption as string;\r\n        app.userProperties = appData.userProperties;\r\n\r\n        this.registry.execute(\"application-changed\", app);\r\n    }\r\n\r\n    private async handleInstanceStartedMessage(instanceData: InstanceData): Promise<void> {\r\n        if (this.instances.some((instance) => instance.id === instanceData.id)) {\r\n            return;\r\n        }\r\n\r\n        const application = this.applications.find((app) => app.name === instanceData.applicationName);\r\n\r\n        if (!application) {\r\n            throw new Error(`Cannot add instance: ${instanceData.id}, because there is no application definition associated with it`);\r\n        }\r\n\r\n        const instance = this.ioc.buildInstance(instanceData, application);\r\n\r\n        this.instances.push(instance);\r\n        application.instances.push(instance);\r\n\r\n        this.registry.execute(\"instance-started\", instance);\r\n    }\r\n\r\n    private async handleInstanceStoppedMessage(instanceData: InstanceData): Promise<void> {\r\n        const instance = this.instances.find((i) => i.id === instanceData.id);\r\n\r\n        if (instance) {\r\n            const instIdx = this.instances.findIndex((inst) => inst.id === instanceData.id);\r\n            this.instances.splice(instIdx, 1);\r\n        }\r\n\r\n        const application = this.applications.find((app) => app.instances.some((inst) => inst.id === instanceData.id));\r\n\r\n        if (application) {\r\n            const instIdxApps = application.instances.findIndex((inst) => inst.id === instanceData.id);\r\n            application.instances.splice(instIdxApps, 1);\r\n        }\r\n\r\n        if (!instance) {\r\n            return;\r\n        }\r\n\r\n        this.registry.execute(\"instance-stopped\", instance);\r\n    }\r\n\r\n    private getApplication(name: string): Glue42Web.AppManager.Application {\r\n        const verifiedName = nonEmptyStringDecoder.runWithException(name);\r\n\r\n        return this.applications.find((app) => app.name === verifiedName) as Glue42Web.AppManager.Application;\r\n    }\r\n\r\n    private getApplications(): Glue42Web.AppManager.Application[] {\r\n        return this.applications.slice();\r\n    }\r\n\r\n    private getInstances(): Glue42Web.AppManager.Instance[] {\r\n        return this.instances.slice();\r\n    }\r\n\r\n    private async registerWithPlatform(): Promise<void> {\r\n        const result = await this.bridge.send<WindowHello, AppHelloSuccess>(\"appManager\", operations.appHello, { windowId: this.actualWindowId });\r\n\r\n        this.logger.trace(\"the platform responded to the hello message with a full list of apps\");\r\n\r\n        this.applications = await Promise.all(result.apps.map((app) => this.ioc.buildApplication(app)));\r\n\r\n        this.instances = this.applications.reduce<Glue42Web.AppManager.Instance[]>((instancesSoFar, app) => {\r\n\r\n            instancesSoFar.push(...app.instances);\r\n\r\n            return instancesSoFar;\r\n        }, []);\r\n\r\n        this.me = this.findMyInstance();\r\n\r\n        this.logger.trace(`all applications were parsed and saved. I am ${this.me ? \"NOT a\" : \"a\"} valid instance`);\r\n    }\r\n\r\n    private findMyInstance(): Glue42Web.AppManager.Instance | undefined {\r\n        for (const app of this.applications) {\r\n            const foundInstance = app.instances.find((instance) => instance.id === this.publicWindowId);\r\n\r\n            if (foundInstance) {\r\n                return foundInstance;\r\n            }\r\n        }\r\n    }\r\n}\r\n","import { Glue42Web } from \"../../web\";\r\nimport { GlueBridge } from \"../communication/bridge\";\r\nimport { BasicInstanceData, InstanceData, operations } from \"./protocol\";\r\n\r\nexport class InstanceModel {\r\n    private me!: Glue42Web.AppManager.Instance;\r\n    private readonly myCtxKey: string;\r\n\r\n    constructor(private readonly data: InstanceData, private readonly bridge: GlueBridge, private readonly application: Glue42Web.AppManager.Application) {\r\n        this.myCtxKey = `___instance___${this.data.id}`;\r\n    }\r\n\r\n    public toApi(): Glue42Web.AppManager.Instance {\r\n        const api: Glue42Web.AppManager.Instance = {\r\n            id: this.data.id,\r\n            agm: { windowId: this.data.id },\r\n            application: this.application,\r\n            stop: this.stop.bind(this),\r\n            getContext: this.getContext.bind(this)\r\n        };\r\n\r\n        this.me = Object.freeze(api);\r\n\r\n        return this.me;\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    private async getContext(): Promise<any> {\r\n        return this.bridge.contextLib.get(this.myCtxKey);\r\n    }\r\n\r\n    private async stop(): Promise<void> {\r\n        await this.bridge.send<BasicInstanceData, void>(\"appManager\", operations.instanceStop, { id: this.data.id });\r\n    }\r\n}","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Glue42Web } from \"../../web\";\r\nimport { AppManagerController } from \"./controller\";\r\nimport { ApplicationData } from \"./protocol\";\r\n\r\nexport class ApplicationModel {\r\n    private me!: Glue42Web.AppManager.Application;\r\n\r\n    constructor(\r\n        private readonly data: ApplicationData,\r\n        private readonly instances: Glue42Web.AppManager.Instance[],\r\n        private readonly controller: AppManagerController,\r\n    ) { }\r\n\r\n    public toApi(): Glue42Web.AppManager.Application {\r\n        const api: Glue42Web.AppManager.Application = {\r\n            name: this.data.name,\r\n            title: this.data.title as string,\r\n            version: this.data.version as string,\r\n            icon: this.data.icon as string,\r\n            caption: this.data.caption as string,\r\n            userProperties: this.data.userProperties,\r\n            instances: this.instances,\r\n            start: this.start.bind(this),\r\n            onInstanceStarted: this.onInstanceStarted.bind(this),\r\n            onInstanceStopped: this.onInstanceStopped.bind(this)\r\n        };\r\n\r\n        this.me = Object.freeze(api);\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private onInstanceStarted(callback: (instance: Glue42Web.AppManager.Instance) => any): () => void {\r\n\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"OnInstanceStarted requires a single argument of type function\");\r\n        }\r\n\r\n        return this.controller.onInstanceStarted((instance) => {\r\n            if (instance.application.name === this.data.name) {\r\n                callback(instance);\r\n            }\r\n        });\r\n    }\r\n\r\n    private onInstanceStopped(callback: (instance: Glue42Web.AppManager.Instance) => any): () => void {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"OnInstanceStarted requires a single argument of type function\");\r\n        }\r\n\r\n        return this.controller.onInstanceStopped((instance) => {\r\n            if (instance.application.name === this.data.name) {\r\n                callback(instance);\r\n            }\r\n        });\r\n    }\r\n\r\n    private async start(context?: object, options?: Glue42Web.AppManager.ApplicationStartOptions): Promise<Glue42Web.AppManager.Instance> {\r\n        // todo: validation\r\n        return this.controller.startApplication(this.data.name, context, options);\r\n    }\r\n}","import { Glue42Web } from \"../../web\";\r\nimport { allLayoutsFullConfigDecoder, allLayoutsSummariesResultDecoder, getAllLayoutsConfigDecoder, glueLayoutDecoder, optionalSimpleLayoutResult, simpleLayoutConfigDecoder } from \"../shared/decoders\";\r\nimport { BridgeOperation } from \"../shared/types\";\r\n\r\nexport type LayoutsOperationTypes = \"layoutAdded\" | \"layoutChanged\" | \"layoutRemoved\" |\r\n    \"get\" | \"getAll\" | \"export\" | \"import\" | \"remove\";\r\n\r\nexport const operations: { [key in LayoutsOperationTypes]: BridgeOperation } = {\r\n    layoutAdded: { name: \"layoutAdded\", dataDecoder: glueLayoutDecoder },\r\n    layoutChanged: { name: \"layoutChanged\", dataDecoder: glueLayoutDecoder },\r\n    layoutRemoved: { name: \"layoutRemoved\", dataDecoder: glueLayoutDecoder },\r\n    get: { name: \"get\", dataDecoder: simpleLayoutConfigDecoder, resultDecoder: optionalSimpleLayoutResult },\r\n    getAll: { name: \"getAll\", dataDecoder: getAllLayoutsConfigDecoder, resultDecoder: allLayoutsSummariesResultDecoder },\r\n    export: { name: \"export\", dataDecoder: getAllLayoutsConfigDecoder, resultDecoder: allLayoutsFullConfigDecoder },\r\n    import: { name: \"import\", dataDecoder: allLayoutsFullConfigDecoder },\r\n    remove: { name: \"remove\", dataDecoder: simpleLayoutConfigDecoder }\r\n};\r\n\r\nexport interface SimpleLayoutConfig {\r\n    name: string;\r\n    type: Glue42Web.Layouts.LayoutType;\r\n}\r\n\r\nexport interface GetAllLayoutsConfig {\r\n    type: Glue42Web.Layouts.LayoutType;\r\n}\r\n\r\nexport interface AllLayoutsFullConfig {\r\n    layouts: Glue42Web.Layouts.Layout[];\r\n}\r\n\r\nexport interface AllLayoutsSummariesResult {\r\n    summaries: Glue42Web.Layouts.LayoutSummary[];\r\n}\r\n\r\nexport interface SimpleLayoutResult {\r\n    layout: Glue42Web.Layouts.Layout;\r\n}\r\n\r\nexport interface OptionalSimpleLayoutResult {\r\n    layout?: Glue42Web.Layouts.Layout;\r\n}","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Glue42Core } from \"@glue42/core\";\r\nimport { IoC } from \"../shared/ioc\";\r\nimport { LibController } from \"../shared/types\";\r\nimport {\r\n    default as CallbackRegistryFactory,\r\n    CallbackRegistry,\r\n    UnsubscribeFunction,\r\n} from \"callback-registry\";\r\nimport { Glue42Web } from \"../../web\";\r\nimport { GlueBridge } from \"../communication/bridge\";\r\nimport { glueLayoutDecoder, layoutsOperationTypesDecoder, layoutTypeDecoder, newLayoutOptionsDecoder, nonEmptyStringDecoder, restoreOptionsDecoder } from \"../shared/decoders\";\r\nimport { AllLayoutsFullConfig, AllLayoutsSummariesResult, GetAllLayoutsConfig, operations, OptionalSimpleLayoutResult, SimpleLayoutConfig } from \"./protocol\";\r\n\r\nexport class LayoutsController implements LibController {\r\n    private readonly registry: CallbackRegistry = CallbackRegistryFactory();\r\n    private bridge!: GlueBridge;\r\n    private logger!: Glue42Web.Logger.API;\r\n\r\n    public async start(coreGlue: Glue42Core.GlueCore, ioc: IoC): Promise<void> {\r\n        this.logger = coreGlue.logger.subLogger(\"layouts.controller.web\");\r\n\r\n        this.logger.trace(\"starting the web layouts controller\");\r\n\r\n        this.bridge = ioc.bridge;\r\n\r\n        this.addOperationsExecutors();\r\n\r\n        const api = this.toApi();\r\n\r\n        this.logger.trace(\"no need for platform registration, attaching the layouts property to glue and returning\");\r\n\r\n        (coreGlue as Glue42Web.API).layouts = api;\r\n    }\r\n\r\n    public async handleBridgeMessage(args: any): Promise<void> {\r\n        const operationName = layoutsOperationTypesDecoder.runWithException(args.operation);\r\n\r\n        const operation = operations[operationName];\r\n\r\n        if (!operation.execute) {\r\n            return;\r\n        }\r\n\r\n        let operationData: any = args.data;\r\n\r\n        if (operation.dataDecoder) {\r\n            operationData = operation.dataDecoder.runWithException(args.data);\r\n        }\r\n\r\n        return await operation.execute(operationData);\r\n    }\r\n\r\n    private toApi(): Glue42Web.Layouts.API {\r\n        const api: Glue42Web.Layouts.API = {\r\n            get: this.get.bind(this),\r\n            getAll: this.getAll.bind(this),\r\n            export: this.export.bind(this),\r\n            import: this.import.bind(this),\r\n            save: this.save.bind(this),\r\n            restore: this.restore.bind(this),\r\n            remove: this.remove.bind(this),\r\n            onAdded: this.onAdded.bind(this),\r\n            onChanged: this.onChanged.bind(this),\r\n            onRemoved: this.onRemoved.bind(this)\r\n        };\r\n\r\n        return Object.freeze(api);\r\n    }\r\n\r\n    private addOperationsExecutors(): void {\r\n        operations.layoutAdded.execute = this.handleOnAdded.bind(this);\r\n        operations.layoutChanged.execute = this.handleOnChanged.bind(this);\r\n        operations.layoutRemoved.execute = this.handleOnRemoved.bind(this);\r\n    }\r\n\r\n    private async get(name: string, type: Glue42Web.Layouts.LayoutType): Promise<Glue42Web.Layouts.Layout | undefined> {\r\n        nonEmptyStringDecoder.runWithException(name);\r\n        layoutTypeDecoder.runWithException(type);\r\n\r\n        const result = await this.bridge.send<SimpleLayoutConfig, OptionalSimpleLayoutResult>(\"layouts\", operations.get, { name, type });\r\n\r\n        return result.layout;\r\n    }\r\n\r\n    private async getAll(type: Glue42Web.Layouts.LayoutType): Promise<Glue42Web.Layouts.LayoutSummary[]> {\r\n        layoutTypeDecoder.runWithException(type);\r\n\r\n        const result = await this.bridge.send<GetAllLayoutsConfig, AllLayoutsSummariesResult>(\"layouts\", operations.getAll, { type });\r\n\r\n        return result.summaries;\r\n    }\r\n\r\n    private async export(type?: Glue42Web.Layouts.LayoutType): Promise<Glue42Web.Layouts.Layout[]> {\r\n        if (type) {\r\n            layoutTypeDecoder.runWithException(type);\r\n        }\r\n\r\n        // supports only workspaces for the moment\r\n        const result = await this.bridge.send<GetAllLayoutsConfig, AllLayoutsFullConfig>(\"layouts\", operations.export, { type: \"Workspace\" });\r\n\r\n        return result.layouts;\r\n    }\r\n\r\n    private async import(layouts: Glue42Web.Layouts.Layout[]): Promise<void> {\r\n        layouts.forEach((layout) => glueLayoutDecoder.runWithException(layout));\r\n\r\n        await this.bridge.send<AllLayoutsFullConfig, void>(\"layouts\", operations.import, { layouts });\r\n    }\r\n\r\n    private async save(layout: Glue42Web.Layouts.NewLayoutOptions): Promise<Glue42Web.Layouts.Layout> {\r\n        newLayoutOptionsDecoder.runWithException(layout);\r\n\r\n        throw new Error(\"Save is not supported in Core at the moment\");\r\n    }\r\n\r\n    private async restore(options: Glue42Web.Layouts.RestoreOptions): Promise<void> {\r\n        restoreOptionsDecoder.runWithException(options);\r\n\r\n        throw new Error(\"Restore is not supported in Core at the moment\");\r\n    }\r\n\r\n    private async remove(type: Glue42Web.Layouts.LayoutType, name: string): Promise<void> {\r\n        layoutTypeDecoder.runWithException(type);\r\n        nonEmptyStringDecoder.runWithException(name);\r\n\r\n        await this.bridge.send<SimpleLayoutConfig, void>(\"layouts\", operations.remove, { type, name });\r\n    }\r\n\r\n    private onAdded(callback: (layout: Glue42Web.Layouts.Layout) => void): UnsubscribeFunction {\r\n        return this.registry.add(operations.layoutAdded.name, callback);\r\n    }\r\n\r\n    private onChanged(callback: (layout: Glue42Web.Layouts.Layout) => void): UnsubscribeFunction {\r\n        return this.registry.add(operations.layoutChanged.name, callback);\r\n    }\r\n\r\n    private onRemoved(callback: (layout: Glue42Web.Layouts.Layout) => void): UnsubscribeFunction {\r\n        return this.registry.add(operations.layoutRemoved.name, callback);\r\n    }\r\n\r\n    private async handleOnAdded(layout: Glue42Web.Layouts.Layout): Promise<void> {\r\n        this.registry.execute(operations.layoutAdded.name, layout);\r\n    }\r\n\r\n    private async handleOnChanged(layout: Glue42Web.Layouts.Layout): Promise<void> {\r\n        this.registry.execute(operations.layoutChanged.name, layout);\r\n    }\r\n\r\n    private async handleOnRemoved(layout: Glue42Web.Layouts.Layout): Promise<void> {\r\n        this.registry.execute(operations.layoutRemoved.name, layout);\r\n    }\r\n}","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nfunction __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\n\nvar MetricTypes = {\r\n    STRING: 1,\r\n    NUMBER: 2,\r\n    TIMESTAMP: 3,\r\n    OBJECT: 4\r\n};\n\nfunction getMetricTypeByValue(metric) {\r\n    if (metric.type === MetricTypes.TIMESTAMP) {\r\n        return \"timestamp\";\r\n    }\r\n    else if (metric.type === MetricTypes.NUMBER) {\r\n        return \"number\";\r\n    }\r\n    else if (metric.type === MetricTypes.STRING) {\r\n        return \"string\";\r\n    }\r\n    else if (metric.type === MetricTypes.OBJECT) {\r\n        return \"object\";\r\n    }\r\n    return \"unknown\";\r\n}\r\nfunction getTypeByValue(value) {\r\n    if (value.constructor === Date) {\r\n        return \"timestamp\";\r\n    }\r\n    else if (typeof value === \"number\") {\r\n        return \"number\";\r\n    }\r\n    else if (typeof value === \"string\") {\r\n        return \"string\";\r\n    }\r\n    else if (typeof value === \"object\") {\r\n        return \"object\";\r\n    }\r\n    else {\r\n        return \"string\";\r\n    }\r\n}\r\nfunction serializeMetric(metric) {\r\n    var serializedMetrics = {};\r\n    var type = getMetricTypeByValue(metric);\r\n    if (type === \"object\") {\r\n        var values = Object.keys(metric.value).reduce(function (memo, key) {\r\n            var innerType = getTypeByValue(metric.value[key]);\r\n            if (innerType === \"object\") {\r\n                var composite = defineNestedComposite(metric.value[key]);\r\n                memo[key] = {\r\n                    type: \"object\",\r\n                    description: \"\",\r\n                    context: {},\r\n                    composite: composite,\r\n                };\r\n            }\r\n            else {\r\n                memo[key] = {\r\n                    type: innerType,\r\n                    description: \"\",\r\n                    context: {},\r\n                };\r\n            }\r\n            return memo;\r\n        }, {});\r\n        serializedMetrics.composite = values;\r\n    }\r\n    serializedMetrics.name = normalizeMetricName(metric.path.join(\"/\") + \"/\" + metric.name);\r\n    serializedMetrics.type = type;\r\n    serializedMetrics.description = metric.description;\r\n    serializedMetrics.context = {};\r\n    return serializedMetrics;\r\n}\r\nfunction defineNestedComposite(values) {\r\n    return Object.keys(values).reduce(function (memo, key) {\r\n        var type = getTypeByValue(values[key]);\r\n        if (type === \"object\") {\r\n            memo[key] = {\r\n                type: \"object\",\r\n                description: \"\",\r\n                context: {},\r\n                composite: defineNestedComposite(values[key]),\r\n            };\r\n        }\r\n        else {\r\n            memo[key] = {\r\n                type: type,\r\n                description: \"\",\r\n                context: {},\r\n            };\r\n        }\r\n        return memo;\r\n    }, {});\r\n}\r\nfunction normalizeMetricName(name) {\r\n    if (typeof name !== \"undefined\" && name.length > 0 && name[0] !== \"/\") {\r\n        return \"/\" + name;\r\n    }\r\n    else {\r\n        return name;\r\n    }\r\n}\r\nfunction getMetricValueByType(metric) {\r\n    var type = getMetricTypeByValue(metric);\r\n    if (type === \"timestamp\") {\r\n        return Date.now();\r\n    }\r\n    else {\r\n        return publishNestedComposite(metric.value);\r\n    }\r\n}\r\nfunction publishNestedComposite(values) {\r\n    if (typeof values !== \"object\") {\r\n        return values;\r\n    }\r\n    return Object.keys(values).reduce(function (memo, key) {\r\n        var value = values[key];\r\n        if (typeof value === \"object\" && value.constructor !== Date) {\r\n            memo[key] = publishNestedComposite(value);\r\n        }\r\n        else if (value.constructor === Date) {\r\n            memo[key] = new Date(value).getTime();\r\n        }\r\n        else if (value.constructor === Boolean) {\r\n            memo[key] = value.toString();\r\n        }\r\n        else {\r\n            memo[key] = value;\r\n        }\r\n        return memo;\r\n    }, {});\r\n}\r\nfunction flatten(arr) {\r\n    return arr.reduce(function (flat, toFlatten) {\r\n        return flat.concat(Array.isArray(toFlatten) ? flatten(toFlatten) : toFlatten);\r\n    }, []);\r\n}\r\nfunction getHighestState(arr) {\r\n    return arr.sort(function (a, b) {\r\n        if (!a.state) {\r\n            return 1;\r\n        }\r\n        if (!b.state) {\r\n            return -1;\r\n        }\r\n        return b.state - a.state;\r\n    })[0];\r\n}\r\nfunction aggregateDescription(arr) {\r\n    var msg = \"\";\r\n    arr.forEach(function (m, idx, a) {\r\n        var path = m.path.join(\".\");\r\n        if (idx === a.length - 1) {\r\n            msg += path + \".\" + m.name + \": \" + m.description;\r\n        }\r\n        else {\r\n            msg += path + \".\" + m.name + \": \" + m.description + \",\";\r\n        }\r\n    });\r\n    if (msg.length > 100) {\r\n        return msg.slice(0, 100) + \"...\";\r\n    }\r\n    else {\r\n        return msg;\r\n    }\r\n}\r\nfunction composeMsgForRootStateMetric(system) {\r\n    var aggregatedState = system.root.getAggregateState();\r\n    var merged = flatten(aggregatedState);\r\n    var highestState = getHighestState(merged);\r\n    var aggregateDesc = aggregateDescription(merged);\r\n    return {\r\n        description: aggregateDesc,\r\n        value: highestState.state,\r\n    };\r\n}\n\nfunction gw3 (connection, config) {\r\n    var _this = this;\r\n    if (!connection || typeof connection !== \"object\") {\r\n        throw new Error(\"Connection is required parameter\");\r\n    }\r\n    var joinPromise;\r\n    var session;\r\n    var init = function (repo) {\r\n        var resolveReadyPromise;\r\n        joinPromise = new Promise(function (resolve) {\r\n            resolveReadyPromise = resolve;\r\n        });\r\n        session = connection.domain(\"metrics\");\r\n        session.onJoined(function (reconnect) {\r\n            if (!reconnect && resolveReadyPromise) {\r\n                resolveReadyPromise();\r\n                resolveReadyPromise = undefined;\r\n            }\r\n            var rootStateMetric = {\r\n                name: \"/State\",\r\n                type: \"object\",\r\n                composite: {\r\n                    Description: {\r\n                        type: \"string\",\r\n                        description: \"\",\r\n                    },\r\n                    Value: {\r\n                        type: \"number\",\r\n                        description: \"\",\r\n                    },\r\n                },\r\n                description: \"System state\",\r\n                context: {},\r\n            };\r\n            var defineRootMetricsMsg = {\r\n                type: \"define\",\r\n                metrics: [rootStateMetric],\r\n            };\r\n            session.send(defineRootMetricsMsg);\r\n            if (reconnect) {\r\n                replayRepo(repo);\r\n            }\r\n        });\r\n        session.join({\r\n            system: config.system,\r\n            service: config.service,\r\n            instance: config.instance\r\n        });\r\n    };\r\n    var replayRepo = function (repo) {\r\n        replaySystem(repo.root);\r\n    };\r\n    var replaySystem = function (system) {\r\n        createSystem(system);\r\n        system.metrics.forEach(function (m) {\r\n            createMetric(m);\r\n        });\r\n        system.subSystems.forEach(function (ss) {\r\n            replaySystem(ss);\r\n        });\r\n    };\r\n    var createSystem = function (system) { return __awaiter(_this, void 0, void 0, function () {\r\n        var metric, createMetricsMsg;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    if (system.parent === undefined) {\r\n                        return [2];\r\n                    }\r\n                    return [4, joinPromise];\r\n                case 1:\r\n                    _a.sent();\r\n                    metric = {\r\n                        name: normalizeMetricName(system.path.join(\"/\") + \"/\" + system.name + \"/State\"),\r\n                        type: \"object\",\r\n                        composite: {\r\n                            Description: {\r\n                                type: \"string\",\r\n                                description: \"\",\r\n                            },\r\n                            Value: {\r\n                                type: \"number\",\r\n                                description: \"\",\r\n                            },\r\n                        },\r\n                        description: \"System state\",\r\n                        context: {},\r\n                    };\r\n                    createMetricsMsg = {\r\n                        type: \"define\",\r\n                        metrics: [metric],\r\n                    };\r\n                    session.send(createMetricsMsg);\r\n                    return [2];\r\n            }\r\n        });\r\n    }); };\r\n    var updateSystem = function (system, state) { return __awaiter(_this, void 0, void 0, function () {\r\n        var shadowedUpdateMetric, stateObj, rootMetric;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4, joinPromise];\r\n                case 1:\r\n                    _a.sent();\r\n                    shadowedUpdateMetric = {\r\n                        type: \"publish\",\r\n                        values: [{\r\n                                name: normalizeMetricName(system.path.join(\"/\") + \"/\" + system.name + \"/State\"),\r\n                                value: {\r\n                                    Description: state.description,\r\n                                    Value: state.state,\r\n                                },\r\n                                timestamp: Date.now(),\r\n                            }],\r\n                    };\r\n                    session.send(shadowedUpdateMetric);\r\n                    stateObj = composeMsgForRootStateMetric(system);\r\n                    rootMetric = {\r\n                        type: \"publish\",\r\n                        peer_id: connection.peerId,\r\n                        values: [{\r\n                                name: \"/State\",\r\n                                value: {\r\n                                    Description: stateObj.description,\r\n                                    Value: stateObj.value,\r\n                                },\r\n                                timestamp: Date.now(),\r\n                            }],\r\n                    };\r\n                    session.send(rootMetric);\r\n                    return [2];\r\n            }\r\n        });\r\n    }); };\r\n    var createMetric = function (metric) { return __awaiter(_this, void 0, void 0, function () {\r\n        var metricClone, m, createMetricsMsg;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    metricClone = cloneMetric(metric);\r\n                    return [4, joinPromise];\r\n                case 1:\r\n                    _a.sent();\r\n                    m = serializeMetric(metricClone);\r\n                    createMetricsMsg = {\r\n                        type: \"define\",\r\n                        metrics: [m],\r\n                    };\r\n                    session.send(createMetricsMsg);\r\n                    if (typeof metricClone.value !== \"undefined\") {\r\n                        updateMetricCore(metricClone);\r\n                    }\r\n                    return [2];\r\n            }\r\n        });\r\n    }); };\r\n    var updateMetric = function (metric) { return __awaiter(_this, void 0, void 0, function () {\r\n        var metricClone;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    metricClone = cloneMetric(metric);\r\n                    return [4, joinPromise];\r\n                case 1:\r\n                    _a.sent();\r\n                    updateMetricCore(metricClone);\r\n                    return [2];\r\n            }\r\n        });\r\n    }); };\r\n    var updateMetricCore = function (metric) {\r\n        if (canUpdate()) {\r\n            var value = getMetricValueByType(metric);\r\n            var publishMetricsMsg = {\r\n                type: \"publish\",\r\n                values: [{\r\n                        name: normalizeMetricName(metric.path.join(\"/\") + \"/\" + metric.name),\r\n                        value: value,\r\n                        timestamp: Date.now(),\r\n                    }],\r\n            };\r\n            return session.sendFireAndForget(publishMetricsMsg);\r\n        }\r\n        return Promise.resolve();\r\n    };\r\n    var cloneMetric = function (metric) {\r\n        var metricClone = __assign({}, metric);\r\n        if (typeof metric.value === \"object\" && metric.value !== null) {\r\n            metricClone.value = __assign({}, metric.value);\r\n        }\r\n        return metricClone;\r\n    };\r\n    var canUpdate = function () {\r\n        var _a;\r\n        try {\r\n            var func = (_a = config.canUpdateMetric) !== null && _a !== void 0 ? _a : (function () { return true; });\r\n            return func();\r\n        }\r\n        catch (_b) {\r\n            return true;\r\n        }\r\n    };\r\n    return {\r\n        init: init,\r\n        createSystem: createSystem,\r\n        updateSystem: updateSystem,\r\n        createMetric: createMetric,\r\n        updateMetric: updateMetric,\r\n    };\r\n}\n\nvar Helpers = {\r\n    validate: function (definition, parent, transport) {\r\n        if (definition === null || typeof definition !== \"object\") {\r\n            throw new Error(\"Missing definition\");\r\n        }\r\n        if (parent === null || typeof parent !== \"object\") {\r\n            throw new Error(\"Missing parent\");\r\n        }\r\n        if (transport === null || typeof transport !== \"object\") {\r\n            throw new Error(\"Missing transport\");\r\n        }\r\n    },\r\n};\n\nvar BaseMetric = (function () {\r\n    function BaseMetric(definition, system, transport, value, type) {\r\n        this.definition = definition;\r\n        this.system = system;\r\n        this.transport = transport;\r\n        this.value = value;\r\n        this.type = type;\r\n        this.path = [];\r\n        Helpers.validate(definition, system, transport);\r\n        this.path = system.path.slice(0);\r\n        this.path.push(system.name);\r\n        this.name = definition.name;\r\n        this.description = definition.description;\r\n        transport.createMetric(this);\r\n    }\r\n    Object.defineProperty(BaseMetric.prototype, \"repo\", {\r\n        get: function () {\r\n            var _a;\r\n            return (_a = this.system) === null || _a === void 0 ? void 0 : _a.repo;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(BaseMetric.prototype, \"id\", {\r\n        get: function () { return this.system.path + \"/\" + name; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    BaseMetric.prototype.update = function (newValue) {\r\n        this.value = newValue;\r\n        return this.transport.updateMetric(this);\r\n    };\r\n    return BaseMetric;\r\n}());\n\nvar NumberMetric = (function (_super) {\r\n    __extends(NumberMetric, _super);\r\n    function NumberMetric(definition, system, transport, value) {\r\n        return _super.call(this, definition, system, transport, value, MetricTypes.NUMBER) || this;\r\n    }\r\n    NumberMetric.prototype.incrementBy = function (num) {\r\n        this.update(this.value + num);\r\n    };\r\n    NumberMetric.prototype.increment = function () {\r\n        this.incrementBy(1);\r\n    };\r\n    NumberMetric.prototype.decrement = function () {\r\n        this.incrementBy(-1);\r\n    };\r\n    NumberMetric.prototype.decrementBy = function (num) {\r\n        this.incrementBy(num * -1);\r\n    };\r\n    return NumberMetric;\r\n}(BaseMetric));\n\nvar ObjectMetric = (function (_super) {\r\n    __extends(ObjectMetric, _super);\r\n    function ObjectMetric(definition, system, transport, value) {\r\n        return _super.call(this, definition, system, transport, value, MetricTypes.OBJECT) || this;\r\n    }\r\n    ObjectMetric.prototype.update = function (newValue) {\r\n        this.mergeValues(newValue);\r\n        return this.transport.updateMetric(this);\r\n    };\r\n    ObjectMetric.prototype.mergeValues = function (values) {\r\n        var _this = this;\r\n        return Object.keys(this.value).forEach(function (k) {\r\n            if (typeof values[k] !== \"undefined\") {\r\n                _this.value[k] = values[k];\r\n            }\r\n        });\r\n    };\r\n    return ObjectMetric;\r\n}(BaseMetric));\n\nvar StringMetric = (function (_super) {\r\n    __extends(StringMetric, _super);\r\n    function StringMetric(definition, system, transport, value) {\r\n        return _super.call(this, definition, system, transport, value, MetricTypes.STRING) || this;\r\n    }\r\n    return StringMetric;\r\n}(BaseMetric));\n\nvar TimestampMetric = (function (_super) {\r\n    __extends(TimestampMetric, _super);\r\n    function TimestampMetric(definition, system, transport, value) {\r\n        return _super.call(this, definition, system, transport, value, MetricTypes.TIMESTAMP) || this;\r\n    }\r\n    TimestampMetric.prototype.now = function () {\r\n        this.update(new Date());\r\n    };\r\n    return TimestampMetric;\r\n}(BaseMetric));\n\nfunction system(name, repo, protocol, parent, description) {\r\n    if (!repo) {\r\n        throw new Error(\"Repository is required\");\r\n    }\r\n    if (!protocol) {\r\n        throw new Error(\"Transport is required\");\r\n    }\r\n    var _transport = protocol;\r\n    var _name = name;\r\n    var _description = description || \"\";\r\n    var _repo = repo;\r\n    var _parent = parent;\r\n    var _path = _buildPath(parent);\r\n    var _state = {};\r\n    var id = _arrayToString(_path, \"/\") + name;\r\n    var root = repo.root;\r\n    var _subSystems = [];\r\n    var _metrics = [];\r\n    function subSystem(nameSystem, descriptionSystem) {\r\n        if (!nameSystem || nameSystem.length === 0) {\r\n            throw new Error(\"name is required\");\r\n        }\r\n        var match = _subSystems.filter(function (s) { return s.name === nameSystem; });\r\n        if (match.length > 0) {\r\n            return match[0];\r\n        }\r\n        var _system = system(nameSystem, _repo, _transport, me, descriptionSystem);\r\n        _subSystems.push(_system);\r\n        return _system;\r\n    }\r\n    function setState(state, stateDescription) {\r\n        _state = { state: state, description: stateDescription };\r\n        _transport.updateSystem(me, _state);\r\n    }\r\n    function stringMetric(definition, value) {\r\n        return _getOrCreateMetric(definition, MetricTypes.STRING, value, function (metricDef) { return new StringMetric(metricDef, me, _transport, value); });\r\n    }\r\n    function numberMetric(definition, value) {\r\n        return _getOrCreateMetric(definition, MetricTypes.NUMBER, value, function (metricDef) { return new NumberMetric(metricDef, me, _transport, value); });\r\n    }\r\n    function objectMetric(definition, value) {\r\n        return _getOrCreateMetric(definition, MetricTypes.OBJECT, value, function (metricDef) { return new ObjectMetric(metricDef, me, _transport, value); });\r\n    }\r\n    function timestampMetric(definition, value) {\r\n        return _getOrCreateMetric(definition, MetricTypes.TIMESTAMP, value, function (metricDef) { return new TimestampMetric(metricDef, me, _transport, value); });\r\n    }\r\n    function _getOrCreateMetric(metricObject, expectedType, value, createMetric) {\r\n        var metricDef = { name: \"\" };\r\n        if (typeof metricObject === \"string\") {\r\n            metricDef = { name: metricObject };\r\n        }\r\n        else {\r\n            metricDef = metricObject;\r\n        }\r\n        var matching = _metrics.filter(function (shadowedMetric) { return shadowedMetric.name === metricDef.name; });\r\n        if (matching.length > 0) {\r\n            var existing = matching[0];\r\n            if (existing.type !== expectedType) {\r\n                throw new Error(\"A metric named \" + metricDef.name + \" is already defined with different type.\");\r\n            }\r\n            if (typeof value !== \"undefined\") {\r\n                existing\r\n                    .update(value)\r\n                    .catch(function () { });\r\n            }\r\n            return existing;\r\n        }\r\n        var metric = createMetric(metricDef);\r\n        _metrics.push(metric);\r\n        return metric;\r\n    }\r\n    function _buildPath(shadowedSystem) {\r\n        if (!shadowedSystem || !shadowedSystem.parent) {\r\n            return [];\r\n        }\r\n        var path = _buildPath(shadowedSystem.parent);\r\n        path.push(shadowedSystem.name);\r\n        return path;\r\n    }\r\n    function _arrayToString(path, separator) {\r\n        return ((path && path.length > 0) ? path.join(separator) : \"\");\r\n    }\r\n    function getAggregateState() {\r\n        var aggState = [];\r\n        if (Object.keys(_state).length > 0) {\r\n            aggState.push({\r\n                name: _name,\r\n                path: _path,\r\n                state: _state.state,\r\n                description: _state.description,\r\n            });\r\n        }\r\n        _subSystems.forEach(function (shadowedSubSystem) {\r\n            var result = shadowedSubSystem.getAggregateState();\r\n            if (result.length > 0) {\r\n                aggState.push.apply(aggState, result);\r\n            }\r\n        });\r\n        return aggState;\r\n    }\r\n    var me = {\r\n        get name() {\r\n            return _name;\r\n        },\r\n        get description() {\r\n            return _description;\r\n        },\r\n        get repo() {\r\n            return _repo;\r\n        },\r\n        get parent() {\r\n            return _parent;\r\n        },\r\n        path: _path,\r\n        id: id,\r\n        root: root,\r\n        get subSystems() {\r\n            return _subSystems;\r\n        },\r\n        get metrics() {\r\n            return _metrics;\r\n        },\r\n        subSystem: subSystem,\r\n        getState: function () {\r\n            return _state;\r\n        },\r\n        setState: setState,\r\n        stringMetric: stringMetric,\r\n        timestampMetric: timestampMetric,\r\n        objectMetric: objectMetric,\r\n        numberMetric: numberMetric,\r\n        getAggregateState: getAggregateState,\r\n    };\r\n    _transport.createSystem(me);\r\n    return me;\r\n}\n\nvar Repository = (function () {\r\n    function Repository(options, protocol) {\r\n        protocol.init(this);\r\n        this.root = system(\"\", this, protocol);\r\n        this.addSystemMetrics(this.root, options.clickStream || options.clickStream === undefined);\r\n    }\r\n    Repository.prototype.addSystemMetrics = function (rootSystem, useClickStream) {\r\n        if (typeof navigator !== \"undefined\") {\r\n            rootSystem.stringMetric(\"UserAgent\", navigator.userAgent);\r\n        }\r\n        if (useClickStream && typeof document !== \"undefined\") {\r\n            var clickStream_1 = rootSystem.subSystem(\"ClickStream\");\r\n            var documentClickHandler = function (e) {\r\n                if (!e.target) {\r\n                    return;\r\n                }\r\n                var target = e.target;\r\n                clickStream_1.objectMetric(\"LastBrowserEvent\", {\r\n                    type: \"click\",\r\n                    timestamp: new Date(),\r\n                    target: {\r\n                        className: e.target ? target.className : \"\",\r\n                        id: target.id,\r\n                        type: \"<\" + target.tagName.toLowerCase() + \">\",\r\n                        href: target.href || \"\",\r\n                    },\r\n                });\r\n            };\r\n            clickStream_1.objectMetric(\"Page\", {\r\n                title: document.title,\r\n                page: window.location.href,\r\n            });\r\n            if (document.addEventListener) {\r\n                document.addEventListener(\"click\", documentClickHandler);\r\n            }\r\n            else {\r\n                document.attachEvent(\"onclick\", documentClickHandler);\r\n            }\r\n        }\r\n        var startTime = rootSystem.stringMetric(\"StartTime\", (new Date()).toString());\r\n        var urlMetric = rootSystem.stringMetric(\"StartURL\", \"\");\r\n        var appNameMetric = rootSystem.stringMetric(\"AppName\", \"\");\r\n        if (typeof window !== \"undefined\") {\r\n            if (typeof window.location !== \"undefined\") {\r\n                var startUrl = window.location.href;\r\n                urlMetric.update(startUrl);\r\n            }\r\n            if (typeof window.glue42gd !== \"undefined\") {\r\n                appNameMetric.update(window.glue42gd.appName);\r\n            }\r\n        }\r\n    };\r\n    return Repository;\r\n}());\n\nvar NullProtocol = (function () {\r\n    function NullProtocol() {\r\n    }\r\n    NullProtocol.prototype.init = function (repo) {\r\n    };\r\n    NullProtocol.prototype.createSystem = function (system) {\r\n        return Promise.resolve();\r\n    };\r\n    NullProtocol.prototype.updateSystem = function (metric, state) {\r\n        return Promise.resolve();\r\n    };\r\n    NullProtocol.prototype.createMetric = function (metric) {\r\n        return Promise.resolve();\r\n    };\r\n    NullProtocol.prototype.updateMetric = function (metric) {\r\n        return Promise.resolve();\r\n    };\r\n    return NullProtocol;\r\n}());\n\nvar PerfTracker = (function () {\r\n    function PerfTracker(api, initialPublishTimeout, publishInterval) {\r\n        this.api = api;\r\n        this.lastCount = 0;\r\n        this.initialPublishTimeout = 10 * 1000;\r\n        this.publishInterval = 60 * 1000;\r\n        this.initialPublishTimeout = initialPublishTimeout !== null && initialPublishTimeout !== void 0 ? initialPublishTimeout : this.initialPublishTimeout;\r\n        this.publishInterval = publishInterval !== null && publishInterval !== void 0 ? publishInterval : this.publishInterval;\r\n        this.scheduleCollection();\r\n        this.system = this.api.subSystem(\"performance\", \"Performance data published by the web application\");\r\n    }\r\n    PerfTracker.prototype.scheduleCollection = function () {\r\n        var _this = this;\r\n        setTimeout(function () {\r\n            _this.collect();\r\n            setInterval(function () {\r\n                _this.collect();\r\n            }, _this.publishInterval);\r\n        }, this.initialPublishTimeout);\r\n    };\r\n    PerfTracker.prototype.collect = function () {\r\n        try {\r\n            this.collectMemory();\r\n            this.collectEntries();\r\n        }\r\n        catch (_a) {\r\n        }\r\n    };\r\n    PerfTracker.prototype.collectMemory = function () {\r\n        var memory = window.performance.memory;\r\n        this.system.stringMetric(\"memory\", JSON.stringify({\r\n            totalJSHeapSize: memory.totalJSHeapSize,\r\n            usedJSHeapSize: memory.usedJSHeapSize\r\n        }));\r\n    };\r\n    PerfTracker.prototype.collectEntries = function () {\r\n        var allEntries = window.performance.getEntries();\r\n        if (allEntries.length <= this.lastCount) {\r\n            return;\r\n        }\r\n        this.lastCount = allEntries.length;\r\n        this.system.stringMetric(\"entries\", JSON.stringify(allEntries));\r\n    };\r\n    return PerfTracker;\r\n}());\n\nvar metrics = (function (options) {\r\n    var protocol;\r\n    if (!options.connection || typeof options.connection !== \"object\") {\r\n        protocol = new NullProtocol();\r\n    }\r\n    else {\r\n        protocol = gw3(options.connection, options);\r\n    }\r\n    var repo = new Repository(options, protocol);\r\n    var rootSystem = repo.root;\r\n    if (!options.disableAutoAppSystem) {\r\n        rootSystem = rootSystem.subSystem(\"App\");\r\n    }\r\n    var api = addFAVSupport(rootSystem);\r\n    initPerf(api, options.pagePerformanceMetrics);\r\n    return api;\r\n});\r\nvar perf;\r\nfunction initPerf(api, config) {\r\n    var _a, _b;\r\n    if (typeof window === \"undefined\") {\r\n        return;\r\n    }\r\n    var perfConfig = (_b = (_a = window === null || window === void 0 ? void 0 : window.glue42gd) === null || _a === void 0 ? void 0 : _a.metrics) === null || _b === void 0 ? void 0 : _b.pagePerformanceMetrics;\r\n    if (perfConfig) {\r\n        config = perfConfig;\r\n    }\r\n    if (config === null || config === void 0 ? void 0 : config.enabled) {\r\n        perf = new PerfTracker(api, config.initialPublishTimeout, config.publishInterval);\r\n    }\r\n}\r\nfunction addFAVSupport(system) {\r\n    var reportingSystem = system.subSystem(\"reporting\");\r\n    var def = {\r\n        name: \"features\"\r\n    };\r\n    var featureMetric;\r\n    var featureMetricFunc = function (name, action, payload) {\r\n        if (typeof name === \"undefined\" || name === \"\") {\r\n            throw new Error(\"name is mandatory\");\r\n        }\r\n        else if (typeof action === \"undefined\" || action === \"\") {\r\n            throw new Error(\"action is mandatory\");\r\n        }\r\n        else if (typeof payload === \"undefined\" || payload === \"\") {\r\n            throw new Error(\"payload is mandatory\");\r\n        }\r\n        if (!featureMetric) {\r\n            featureMetric = reportingSystem.objectMetric(def, { name: name, action: action, payload: payload });\r\n        }\r\n        else {\r\n            featureMetric.update({\r\n                name: name,\r\n                action: action,\r\n                payload: payload\r\n            });\r\n        }\r\n    };\r\n    system.featureMetric = featureMetricFunc;\r\n    return system;\r\n}\n\nfunction createRegistry(options) {\r\n    if (options && options.errorHandling\r\n        && typeof options.errorHandling !== \"function\"\r\n        && options.errorHandling !== \"log\"\r\n        && options.errorHandling !== \"silent\"\r\n        && options.errorHandling !== \"throw\") {\r\n        throw new Error(\"Invalid options passed to createRegistry. Prop errorHandling should be [\\\"log\\\" | \\\"silent\\\" | \\\"throw\\\" | (err) => void], but \" + typeof options.errorHandling + \" was passed\");\r\n    }\r\n    var _userErrorHandler = options && typeof options.errorHandling === \"function\" && options.errorHandling;\r\n    var callbacks = {};\r\n    function add(key, callback, replayArgumentsArr) {\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey) {\r\n            callbacksForKey = [];\r\n            callbacks[key] = callbacksForKey;\r\n        }\r\n        callbacksForKey.push(callback);\r\n        if (replayArgumentsArr) {\r\n            setTimeout(function () {\r\n                replayArgumentsArr.forEach(function (replayArgument) {\r\n                    var _a;\r\n                    if ((_a = callbacks[key]) === null || _a === void 0 ? void 0 : _a.includes(callback)) {\r\n                        try {\r\n                            if (Array.isArray(replayArgument)) {\r\n                                callback.apply(undefined, replayArgument);\r\n                            }\r\n                            else {\r\n                                callback.apply(undefined, [replayArgument]);\r\n                            }\r\n                        }\r\n                        catch (err) {\r\n                            _handleError(err, key);\r\n                        }\r\n                    }\r\n                });\r\n            }, 0);\r\n        }\r\n        return function () {\r\n            var allForKey = callbacks[key];\r\n            if (!allForKey) {\r\n                return;\r\n            }\r\n            allForKey = allForKey.reduce(function (acc, element, index) {\r\n                if (!(element === callback && acc.length === index)) {\r\n                    acc.push(element);\r\n                }\r\n                return acc;\r\n            }, []);\r\n            if (allForKey.length === 0) {\r\n                delete callbacks[key];\r\n            }\r\n            else {\r\n                callbacks[key] = allForKey;\r\n            }\r\n        };\r\n    }\r\n    function execute(key) {\r\n        var argumentsArr = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            argumentsArr[_i - 1] = arguments[_i];\r\n        }\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey || callbacksForKey.length === 0) {\r\n            return [];\r\n        }\r\n        var results = [];\r\n        callbacksForKey.forEach(function (callback) {\r\n            try {\r\n                var result = callback.apply(undefined, argumentsArr);\r\n                results.push(result);\r\n            }\r\n            catch (err) {\r\n                results.push(undefined);\r\n                _handleError(err, key);\r\n            }\r\n        });\r\n        return results;\r\n    }\r\n    function _handleError(exceptionArtifact, key) {\r\n        var errParam = exceptionArtifact instanceof Error ? exceptionArtifact : new Error(exceptionArtifact);\r\n        if (_userErrorHandler) {\r\n            _userErrorHandler(errParam);\r\n            return;\r\n        }\r\n        var msg = \"[ERROR] callback-registry: User callback for key \\\"\" + key + \"\\\" failed: \" + errParam.stack;\r\n        if (options) {\r\n            switch (options.errorHandling) {\r\n                case \"log\":\r\n                    return console.error(msg);\r\n                case \"silent\":\r\n                    return;\r\n                case \"throw\":\r\n                    throw new Error(msg);\r\n            }\r\n        }\r\n        console.error(msg);\r\n    }\r\n    function clear() {\r\n        callbacks = {};\r\n    }\r\n    function clearKey(key) {\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey) {\r\n            return;\r\n        }\r\n        delete callbacks[key];\r\n    }\r\n    return {\r\n        add: add,\r\n        execute: execute,\r\n        clear: clear,\r\n        clearKey: clearKey\r\n    };\r\n}\r\ncreateRegistry.default = createRegistry;\r\nvar lib = createRegistry;\n\nvar InProcTransport = (function () {\r\n    function InProcTransport(settings, logger) {\r\n        var _this = this;\r\n        this.registry = lib();\r\n        this.gw = settings.facade;\r\n        this.gw.connect(function (_client, message) {\r\n            _this.messageHandler(message);\r\n        }).then(function (client) {\r\n            _this.client = client;\r\n        });\r\n    }\r\n    Object.defineProperty(InProcTransport.prototype, \"isObjectBasedTransport\", {\r\n        get: function () {\r\n            return true;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    InProcTransport.prototype.sendObject = function (msg) {\r\n        if (this.client) {\r\n            this.client.send(msg);\r\n            return Promise.resolve(undefined);\r\n        }\r\n        else {\r\n            return Promise.reject(\"not connected\");\r\n        }\r\n    };\r\n    InProcTransport.prototype.send = function (_msg) {\r\n        return Promise.reject(\"not supported\");\r\n    };\r\n    InProcTransport.prototype.onMessage = function (callback) {\r\n        return this.registry.add(\"onMessage\", callback);\r\n    };\r\n    InProcTransport.prototype.onConnectedChanged = function (callback) {\r\n        callback(true);\r\n    };\r\n    InProcTransport.prototype.close = function () {\r\n        return Promise.resolve();\r\n    };\r\n    InProcTransport.prototype.open = function () {\r\n        return Promise.resolve();\r\n    };\r\n    InProcTransport.prototype.name = function () {\r\n        return \"in-memory\";\r\n    };\r\n    InProcTransport.prototype.reconnect = function () {\r\n        return Promise.resolve();\r\n    };\r\n    InProcTransport.prototype.messageHandler = function (msg) {\r\n        this.registry.execute(\"onMessage\", msg);\r\n    };\r\n    return InProcTransport;\r\n}());\n\nvar SharedWorkerTransport = (function () {\r\n    function SharedWorkerTransport(workerFile, logger) {\r\n        var _this = this;\r\n        this.logger = logger;\r\n        this.registry = lib();\r\n        this.worker = new SharedWorker(workerFile);\r\n        this.worker.port.onmessage = function (e) {\r\n            _this.messageHandler(e.data);\r\n        };\r\n    }\r\n    Object.defineProperty(SharedWorkerTransport.prototype, \"isObjectBasedTransport\", {\r\n        get: function () {\r\n            return true;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    SharedWorkerTransport.prototype.sendObject = function (msg) {\r\n        this.worker.port.postMessage(msg);\r\n        return Promise.resolve();\r\n    };\r\n    SharedWorkerTransport.prototype.send = function (_msg) {\r\n        return Promise.reject(\"not supported\");\r\n    };\r\n    SharedWorkerTransport.prototype.onMessage = function (callback) {\r\n        return this.registry.add(\"onMessage\", callback);\r\n    };\r\n    SharedWorkerTransport.prototype.onConnectedChanged = function (callback) {\r\n        callback(true);\r\n    };\r\n    SharedWorkerTransport.prototype.close = function () {\r\n        return Promise.resolve();\r\n    };\r\n    SharedWorkerTransport.prototype.open = function () {\r\n        return Promise.resolve();\r\n    };\r\n    SharedWorkerTransport.prototype.name = function () {\r\n        return \"shared-worker\";\r\n    };\r\n    SharedWorkerTransport.prototype.reconnect = function () {\r\n        return Promise.resolve();\r\n    };\r\n    SharedWorkerTransport.prototype.messageHandler = function (msg) {\r\n        this.registry.execute(\"onMessage\", msg);\r\n    };\r\n    return SharedWorkerTransport;\r\n}());\n\nvar Utils = (function () {\r\n    function Utils() {\r\n    }\r\n    Utils.getGDMajorVersion = function () {\r\n        if (typeof window === \"undefined\") {\r\n            return undefined;\r\n        }\r\n        if (!window.glueDesktop) {\r\n            return undefined;\r\n        }\r\n        if (!window.glueDesktop.version) {\r\n            return undefined;\r\n        }\r\n        var ver = Number(window.glueDesktop.version.substr(0, 1));\r\n        return isNaN(ver) ? undefined : ver;\r\n    };\r\n    Utils.isNode = function () {\r\n        if (typeof Utils._isNode !== \"undefined\") {\r\n            return Utils._isNode;\r\n        }\r\n        if (typeof window !== \"undefined\") {\r\n            Utils._isNode = false;\r\n            return false;\r\n        }\r\n        try {\r\n            Utils._isNode = Object.prototype.toString.call(global.process) === \"[object process]\";\r\n        }\r\n        catch (e) {\r\n            Utils._isNode = false;\r\n        }\r\n        return Utils._isNode;\r\n    };\r\n    return Utils;\r\n}());\n\nvar PromiseWrapper = (function () {\r\n    function PromiseWrapper() {\r\n        var _this = this;\r\n        this.rejected = false;\r\n        this.resolved = false;\r\n        this.promise = new Promise(function (resolve, reject) {\r\n            _this.resolve = function (t) {\r\n                _this.resolved = true;\r\n                resolve(t);\r\n            };\r\n            _this.reject = function (err) {\r\n                _this.rejected = true;\r\n                reject(err);\r\n            };\r\n        });\r\n    }\r\n    PromiseWrapper.delay = function (time) {\r\n        return new Promise(function (resolve) { return setTimeout(resolve, time); });\r\n    };\r\n    Object.defineProperty(PromiseWrapper.prototype, \"ended\", {\r\n        get: function () {\r\n            return this.rejected || this.resolved;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return PromiseWrapper;\r\n}());\n\nvar timers = {};\r\nfunction getAllTimers() {\r\n    return timers;\r\n}\r\nfunction timer (timerName) {\r\n    var existing = timers[timerName];\r\n    if (existing) {\r\n        return existing;\r\n    }\r\n    var marks = [];\r\n    function now() {\r\n        return new Date().getTime();\r\n    }\r\n    var startTime = now();\r\n    mark(\"start\", startTime);\r\n    var endTime;\r\n    var period;\r\n    function stop() {\r\n        endTime = now();\r\n        mark(\"end\", endTime);\r\n        period = endTime - startTime;\r\n        return period;\r\n    }\r\n    function mark(name, time) {\r\n        var currentTime = time !== null && time !== void 0 ? time : now();\r\n        var diff = 0;\r\n        if (marks.length > 0) {\r\n            diff = currentTime - marks[marks.length - 1].time;\r\n        }\r\n        marks.push({ name: name, time: currentTime, diff: diff });\r\n    }\r\n    var timerObj = {\r\n        get startTime() {\r\n            return startTime;\r\n        },\r\n        get endTime() {\r\n            return endTime;\r\n        },\r\n        get period() {\r\n            return period;\r\n        },\r\n        stop: stop,\r\n        mark: mark,\r\n        marks: marks\r\n    };\r\n    timers[timerName] = timerObj;\r\n    return timerObj;\r\n}\n\nvar WebSocketConstructor = Utils.isNode() ? require(\"ws\") : window.WebSocket;\r\nvar WS = (function () {\r\n    function WS(settings, logger) {\r\n        this.startupTimer = timer(\"connection\");\r\n        this._running = true;\r\n        this._registry = lib();\r\n        this.wsRequests = [];\r\n        this.settings = settings;\r\n        this.logger = logger;\r\n        if (!this.settings.ws) {\r\n            throw new Error(\"ws is missing\");\r\n        }\r\n    }\r\n    WS.prototype.onMessage = function (callback) {\r\n        return this._registry.add(\"onMessage\", callback);\r\n    };\r\n    WS.prototype.send = function (msg, options) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this.waitForSocketConnection(function () {\r\n                var _a;\r\n                try {\r\n                    (_a = _this.ws) === null || _a === void 0 ? void 0 : _a.send(msg);\r\n                    resolve();\r\n                }\r\n                catch (e) {\r\n                    reject(e);\r\n                }\r\n            }, reject);\r\n        });\r\n    };\r\n    WS.prototype.open = function () {\r\n        var _this = this;\r\n        this.logger.info(\"opening ws...\");\r\n        this._running = true;\r\n        return new Promise(function (resolve, reject) {\r\n            _this.waitForSocketConnection(resolve, reject);\r\n        });\r\n    };\r\n    WS.prototype.close = function () {\r\n        this._running = false;\r\n        if (this.ws) {\r\n            this.ws.close();\r\n        }\r\n        return Promise.resolve();\r\n    };\r\n    WS.prototype.onConnectedChanged = function (callback) {\r\n        return this._registry.add(\"onConnectedChanged\", callback);\r\n    };\r\n    WS.prototype.name = function () {\r\n        return \"ws \" + this.settings.ws;\r\n    };\r\n    WS.prototype.reconnect = function () {\r\n        var _a;\r\n        (_a = this.ws) === null || _a === void 0 ? void 0 : _a.close();\r\n        var pw = new PromiseWrapper();\r\n        this.waitForSocketConnection(function () {\r\n            pw.resolve();\r\n        });\r\n        return pw.promise;\r\n    };\r\n    WS.prototype.waitForSocketConnection = function (callback, failed) {\r\n        var _a;\r\n        failed = failed !== null && failed !== void 0 ? failed : (function () { });\r\n        if (!this._running) {\r\n            failed(\"wait for socket on \" + this.settings.ws + \" failed - socket closed by user\");\r\n            return;\r\n        }\r\n        if (((_a = this.ws) === null || _a === void 0 ? void 0 : _a.readyState) === 1) {\r\n            callback();\r\n            return;\r\n        }\r\n        this.wsRequests.push({ callback: callback, failed: failed });\r\n        if (this.wsRequests.length > 1) {\r\n            return;\r\n        }\r\n        this.openSocket();\r\n    };\r\n    WS.prototype.openSocket = function (retryInterval, retriesLeft) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _a;\r\n            var _this = this;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        this.startupTimer.mark(\"opening-socket\");\r\n                        if (retryInterval === undefined) {\r\n                            retryInterval = this.settings.reconnectInterval;\r\n                        }\r\n                        if (retriesLeft !== undefined) {\r\n                            if (retriesLeft === 0) {\r\n                                this.notifyForSocketState(\"wait for socket on \" + this.settings.ws + \" failed - no more retries left\");\r\n                                return [2];\r\n                            }\r\n                            this.logger.debug(\"will retry \" + retriesLeft + \" more times (every \" + retryInterval + \" ms)\");\r\n                        }\r\n                        _b.label = 1;\r\n                    case 1:\r\n                        _b.trys.push([1, 3, , 4]);\r\n                        return [4, this.initiateSocket()];\r\n                    case 2:\r\n                        _b.sent();\r\n                        this.startupTimer.mark(\"socket-initiated\");\r\n                        this.notifyForSocketState();\r\n                        return [3, 4];\r\n                    case 3:\r\n                        _a = _b.sent();\r\n                        setTimeout(function () {\r\n                            var retries = retriesLeft === undefined ? undefined : retriesLeft - 1;\r\n                            _this.openSocket(retryInterval, retries);\r\n                        }, retryInterval);\r\n                        return [3, 4];\r\n                    case 4: return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    WS.prototype.initiateSocket = function () {\r\n        var _this = this;\r\n        var pw = new PromiseWrapper();\r\n        this.logger.debug(\"initiating ws to \" + this.settings.ws + \"...\");\r\n        this.ws = new WebSocketConstructor(this.settings.ws || \"\");\r\n        this.ws.onerror = function (err) {\r\n            var reason = \"\";\r\n            try {\r\n                reason = JSON.stringify(err);\r\n            }\r\n            catch (error) {\r\n                var seen_1 = new WeakSet();\r\n                var replacer = function (key, value) {\r\n                    if (typeof value === \"object\" && value !== null) {\r\n                        if (seen_1.has(value)) {\r\n                            return;\r\n                        }\r\n                        seen_1.add(value);\r\n                    }\r\n                    return value;\r\n                };\r\n                reason = JSON.stringify(err, replacer);\r\n            }\r\n            pw.reject(\"error\");\r\n            _this.notifyStatusChanged(false, reason);\r\n        };\r\n        this.ws.onclose = function (err) {\r\n            _this.logger.info(\"ws closed \" + err);\r\n            pw.reject(\"closed\");\r\n            _this.notifyStatusChanged(false);\r\n        };\r\n        this.ws.onopen = function () {\r\n            var _a;\r\n            _this.startupTimer.mark(\"ws-opened\");\r\n            _this.logger.info(\"ws opened \" + ((_a = _this.settings.identity) === null || _a === void 0 ? void 0 : _a.application));\r\n            pw.resolve();\r\n            _this.notifyStatusChanged(true);\r\n        };\r\n        this.ws.onmessage = function (message) {\r\n            _this._registry.execute(\"onMessage\", message.data);\r\n        };\r\n        return pw.promise;\r\n    };\r\n    WS.prototype.notifyForSocketState = function (error) {\r\n        this.wsRequests.forEach(function (wsRequest) {\r\n            if (error) {\r\n                if (wsRequest.failed) {\r\n                    wsRequest.failed(error);\r\n                }\r\n            }\r\n            else {\r\n                wsRequest.callback();\r\n            }\r\n        });\r\n        this.wsRequests = [];\r\n    };\r\n    WS.prototype.notifyStatusChanged = function (status, reason) {\r\n        this._registry.execute(\"onConnectedChanged\", status, reason);\r\n    };\r\n    return WS;\r\n}());\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\n// Found this seed-based random generator somewhere\n// Based on The Central Randomizer 1.3 (C) 1997 by Paul Houle (houle@msc.cornell.edu)\n\nvar seed = 1;\n\n/**\n * return a random number based on a seed\n * @param seed\n * @returns {number}\n */\nfunction getNextValue() {\n    seed = (seed * 9301 + 49297) % 233280;\n    return seed/(233280.0);\n}\n\nfunction setSeed(_seed_) {\n    seed = _seed_;\n}\n\nvar randomFromSeed = {\n    nextValue: getNextValue,\n    seed: setSeed\n};\n\nvar ORIGINAL = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-';\nvar alphabet;\nvar previousSeed;\n\nvar shuffled;\n\nfunction reset() {\n    shuffled = false;\n}\n\nfunction setCharacters(_alphabet_) {\n    if (!_alphabet_) {\n        if (alphabet !== ORIGINAL) {\n            alphabet = ORIGINAL;\n            reset();\n        }\n        return;\n    }\n\n    if (_alphabet_ === alphabet) {\n        return;\n    }\n\n    if (_alphabet_.length !== ORIGINAL.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. You submitted ' + _alphabet_.length + ' characters: ' + _alphabet_);\n    }\n\n    var unique = _alphabet_.split('').filter(function(item, ind, arr){\n       return ind !== arr.lastIndexOf(item);\n    });\n\n    if (unique.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. These characters were not unique: ' + unique.join(', '));\n    }\n\n    alphabet = _alphabet_;\n    reset();\n}\n\nfunction characters(_alphabet_) {\n    setCharacters(_alphabet_);\n    return alphabet;\n}\n\nfunction setSeed$1(seed) {\n    randomFromSeed.seed(seed);\n    if (previousSeed !== seed) {\n        reset();\n        previousSeed = seed;\n    }\n}\n\nfunction shuffle() {\n    if (!alphabet) {\n        setCharacters(ORIGINAL);\n    }\n\n    var sourceArray = alphabet.split('');\n    var targetArray = [];\n    var r = randomFromSeed.nextValue();\n    var characterIndex;\n\n    while (sourceArray.length > 0) {\n        r = randomFromSeed.nextValue();\n        characterIndex = Math.floor(r * sourceArray.length);\n        targetArray.push(sourceArray.splice(characterIndex, 1)[0]);\n    }\n    return targetArray.join('');\n}\n\nfunction getShuffled() {\n    if (shuffled) {\n        return shuffled;\n    }\n    shuffled = shuffle();\n    return shuffled;\n}\n\n/**\n * lookup shuffled letter\n * @param index\n * @returns {string}\n */\nfunction lookup(index) {\n    var alphabetShuffled = getShuffled();\n    return alphabetShuffled[index];\n}\n\nvar alphabet_1 = {\n    characters: characters,\n    seed: setSeed$1,\n    lookup: lookup,\n    shuffled: getShuffled\n};\n\nvar crypto = typeof window === 'object' && (window.crypto || window.msCrypto); // IE 11 uses window.msCrypto\n\nfunction randomByte() {\n    if (!crypto || !crypto.getRandomValues) {\n        return Math.floor(Math.random() * 256) & 0x30;\n    }\n    var dest = new Uint8Array(1);\n    crypto.getRandomValues(dest);\n    return dest[0] & 0x30;\n}\n\nvar randomByteBrowser = randomByte;\n\nfunction encode(lookup, number) {\n    var loopCounter = 0;\n    var done;\n\n    var str = '';\n\n    while (!done) {\n        str = str + lookup( ( (number >> (4 * loopCounter)) & 0x0f ) | randomByteBrowser() );\n        done = number < (Math.pow(16, loopCounter + 1 ) );\n        loopCounter++;\n    }\n    return str;\n}\n\nvar encode_1 = encode;\n\n/**\n * Decode the id to get the version and worker\n * Mainly for debugging and testing.\n * @param id - the shortid-generated id.\n */\nfunction decode(id) {\n    var characters = alphabet_1.shuffled();\n    return {\n        version: characters.indexOf(id.substr(0, 1)) & 0x0f,\n        worker: characters.indexOf(id.substr(1, 1)) & 0x0f\n    };\n}\n\nvar decode_1 = decode;\n\nfunction isShortId(id) {\n    if (!id || typeof id !== 'string' || id.length < 6 ) {\n        return false;\n    }\n\n    var characters = alphabet_1.characters();\n    var len = id.length;\n    for(var i = 0; i < len;i++) {\n        if (characters.indexOf(id[i]) === -1) {\n            return false;\n        }\n    }\n    return true;\n}\n\nvar isValid = isShortId;\n\nvar lib$1 = createCommonjsModule(function (module) {\n\n\n\n\n\n\n// Ignore all milliseconds before a certain time to reduce the size of the date entropy without sacrificing uniqueness.\n// This number should be updated every year or so to keep the generated id short.\n// To regenerate `new Date() - 0` and bump the version. Always bump the version!\nvar REDUCE_TIME = 1459707606518;\n\n// don't change unless we change the algos or REDUCE_TIME\n// must be an integer and less than 16\nvar version = 6;\n\n// if you are using cluster or multiple servers use this to make each instance\n// has a unique value for worker\n// Note: I don't know if this is automatically set when using third\n// party cluster solutions such as pm2.\nvar clusterWorkerId =  0;\n\n// Counter is used when shortid is called multiple times in one second.\nvar counter;\n\n// Remember the last time shortid was called in case counter is needed.\nvar previousSeconds;\n\n/**\n * Generate unique id\n * Returns string id\n */\nfunction generate() {\n\n    var str = '';\n\n    var seconds = Math.floor((Date.now() - REDUCE_TIME) * 0.001);\n\n    if (seconds === previousSeconds) {\n        counter++;\n    } else {\n        counter = 0;\n        previousSeconds = seconds;\n    }\n\n    str = str + encode_1(alphabet_1.lookup, version);\n    str = str + encode_1(alphabet_1.lookup, clusterWorkerId);\n    if (counter > 0) {\n        str = str + encode_1(alphabet_1.lookup, counter);\n    }\n    str = str + encode_1(alphabet_1.lookup, seconds);\n\n    return str;\n}\n\n\n/**\n * Set the seed.\n * Highly recommended if you don't want people to try to figure out your id schema.\n * exposed as shortid.seed(int)\n * @param seed Integer value to seed the random alphabet.  ALWAYS USE THE SAME SEED or you might get overlaps.\n */\nfunction seed(seedValue) {\n    alphabet_1.seed(seedValue);\n    return module.exports;\n}\n\n/**\n * Set the cluster worker or machine id\n * exposed as shortid.worker(int)\n * @param workerId worker must be positive integer.  Number less than 16 is recommended.\n * returns shortid module so it can be chained.\n */\nfunction worker(workerId) {\n    clusterWorkerId = workerId;\n    return module.exports;\n}\n\n/**\n *\n * sets new characters to use in the alphabet\n * returns the shuffled alphabet\n */\nfunction characters(newCharacters) {\n    if (newCharacters !== undefined) {\n        alphabet_1.characters(newCharacters);\n    }\n\n    return alphabet_1.shuffled();\n}\n\n\n// Export all other functions as properties of the generate function\nmodule.exports = generate;\nmodule.exports.generate = generate;\nmodule.exports.seed = seed;\nmodule.exports.worker = worker;\nmodule.exports.characters = characters;\nmodule.exports.decode = decode_1;\nmodule.exports.isValid = isValid;\n});\nvar lib_1 = lib$1.generate;\nvar lib_2 = lib$1.seed;\nvar lib_3 = lib$1.worker;\nvar lib_4 = lib$1.characters;\nvar lib_5 = lib$1.decode;\nvar lib_6 = lib$1.isValid;\n\nvar shortid = lib$1;\n\nfunction domainSession (domain, connection, logger, successMessages, errorMessages) {\r\n    if (domain == null) {\r\n        domain = \"global\";\r\n    }\r\n    successMessages = successMessages || [\"success\"];\r\n    errorMessages = errorMessages || [\"error\"];\r\n    var isJoined = false;\r\n    var tryReconnecting = false;\r\n    var _latestOptions;\r\n    var _connectionOn = false;\r\n    var callbacks = lib();\r\n    connection.disconnected(handleConnectionDisconnected);\r\n    connection.loggedIn(handleConnectionLoggedIn);\r\n    connection.on(\"success\", function (msg) { return handleSuccessMessage(msg); });\r\n    connection.on(\"error\", function (msg) { return handleErrorMessage(msg); });\r\n    connection.on(\"result\", function (msg) { return handleSuccessMessage(msg); });\r\n    if (successMessages) {\r\n        successMessages.forEach(function (sm) {\r\n            connection.on(sm, function (msg) { return handleSuccessMessage(msg); });\r\n        });\r\n    }\r\n    if (errorMessages) {\r\n        errorMessages.forEach(function (sm) {\r\n            connection.on(sm, function (msg) { return handleErrorMessage(msg); });\r\n        });\r\n    }\r\n    var requestsMap = {};\r\n    function join(options) {\r\n        _latestOptions = options;\r\n        return new Promise(function (resolve, reject) {\r\n            if (isJoined) {\r\n                resolve();\r\n                return;\r\n            }\r\n            var joinPromise;\r\n            if (domain === \"global\") {\r\n                joinPromise = _connectionOn ? Promise.resolve({}) : Promise.reject(\"not connected to gateway\");\r\n            }\r\n            else {\r\n                logger.debug(\"joining domain \" + domain);\r\n                var joinMsg = {\r\n                    type: \"join\",\r\n                    destination: domain,\r\n                    domain: \"global\",\r\n                    options: options,\r\n                };\r\n                joinPromise = send(joinMsg);\r\n            }\r\n            joinPromise\r\n                .then(function () {\r\n                handleJoined();\r\n                resolve();\r\n            })\r\n                .catch(function (err) {\r\n                logger.debug(\"error joining \" + domain + \" domain: \" + JSON.stringify(err));\r\n                reject(err);\r\n            });\r\n        });\r\n    }\r\n    function leave() {\r\n        if (domain === \"global\") {\r\n            return Promise.resolve();\r\n        }\r\n        logger.debug(\"stopping session \" + domain + \"...\");\r\n        var leaveMsg = {\r\n            type: \"leave\",\r\n            destination: domain,\r\n            domain: \"global\",\r\n        };\r\n        tryReconnecting = false;\r\n        return send(leaveMsg).then(function () {\r\n            isJoined = false;\r\n            callbacks.execute(\"onLeft\");\r\n        });\r\n    }\r\n    function handleJoined() {\r\n        logger.debug(\"did join \" + domain);\r\n        isJoined = true;\r\n        var wasReconnect = tryReconnecting;\r\n        tryReconnecting = false;\r\n        callbacks.execute(\"onJoined\", wasReconnect);\r\n    }\r\n    function handleConnectionDisconnected() {\r\n        _connectionOn = false;\r\n        logger.debug(\"connection is down\");\r\n        isJoined = false;\r\n        tryReconnecting = true;\r\n        callbacks.execute(\"onLeft\", { disconnected: true });\r\n    }\r\n    function handleConnectionLoggedIn() {\r\n        _connectionOn = true;\r\n        if (tryReconnecting) {\r\n            logger.debug(\"connection is now up - trying to reconnect...\");\r\n            join(_latestOptions);\r\n        }\r\n    }\r\n    function onJoined(callback) {\r\n        if (isJoined) {\r\n            callback(false);\r\n        }\r\n        return callbacks.add(\"onJoined\", callback);\r\n    }\r\n    function onLeft(callback) {\r\n        if (!isJoined) {\r\n            callback();\r\n        }\r\n        return callbacks.add(\"onLeft\", callback);\r\n    }\r\n    function handleErrorMessage(msg) {\r\n        if (domain !== msg.domain) {\r\n            return;\r\n        }\r\n        var requestId = msg.request_id;\r\n        if (!requestId) {\r\n            return;\r\n        }\r\n        var entry = requestsMap[requestId];\r\n        if (!entry) {\r\n            return;\r\n        }\r\n        entry.error(msg);\r\n    }\r\n    function handleSuccessMessage(msg) {\r\n        if (msg.domain !== domain) {\r\n            return;\r\n        }\r\n        var requestId = msg.request_id;\r\n        if (!requestId) {\r\n            return;\r\n        }\r\n        var entry = requestsMap[requestId];\r\n        if (!entry) {\r\n            return;\r\n        }\r\n        entry.success(msg);\r\n    }\r\n    function getNextRequestId() {\r\n        return shortid();\r\n    }\r\n    function send(msg, tag, options) {\r\n        options = options || {};\r\n        msg.request_id = msg.request_id || getNextRequestId();\r\n        msg.domain = msg.domain || domain;\r\n        if (!options.skipPeerId) {\r\n            msg.peer_id = connection.peerId;\r\n        }\r\n        var requestId = msg.request_id;\r\n        return new Promise(function (resolve, reject) {\r\n            requestsMap[requestId] = {\r\n                success: function (successMsg) {\r\n                    delete requestsMap[requestId];\r\n                    successMsg._tag = tag;\r\n                    resolve(successMsg);\r\n                },\r\n                error: function (errorMsg) {\r\n                    logger.warn(\"GW error - \" + JSON.stringify(errorMsg) + \" for request \" + JSON.stringify(msg));\r\n                    delete requestsMap[requestId];\r\n                    errorMsg._tag = tag;\r\n                    reject(errorMsg);\r\n                },\r\n            };\r\n            connection\r\n                .send(msg, options)\r\n                .catch(function (err) {\r\n                requestsMap[requestId].error({ err: err });\r\n            });\r\n        });\r\n    }\r\n    function sendFireAndForget(msg) {\r\n        msg.request_id = msg.request_id ? msg.request_id : getNextRequestId();\r\n        msg.domain = msg.domain || domain;\r\n        msg.peer_id = connection.peerId;\r\n        return connection.send(msg);\r\n    }\r\n    return {\r\n        join: join,\r\n        leave: leave,\r\n        onJoined: onJoined,\r\n        onLeft: onLeft,\r\n        send: send,\r\n        sendFireAndForget: sendFireAndForget,\r\n        on: function (type, callback) {\r\n            connection.on(type, function (msg) {\r\n                if (msg.domain !== domain) {\r\n                    return;\r\n                }\r\n                try {\r\n                    callback(msg);\r\n                }\r\n                catch (e) {\r\n                    logger.error(\"Callback  failed: \" + e + \" \\n \" + e.stack + \" \\n msg was: \" + JSON.stringify(msg), e);\r\n                }\r\n            });\r\n        },\r\n        loggedIn: function (callback) { return connection.loggedIn(callback); },\r\n        connected: function (callback) { return connection.connected(callback); },\r\n        disconnected: function (callback) { return connection.disconnected(callback); },\r\n        get peerId() {\r\n            return connection.peerId;\r\n        },\r\n        get domain() {\r\n            return domain;\r\n        },\r\n    };\r\n}\n\nvar GW3ProtocolImpl = (function () {\r\n    function GW3ProtocolImpl(connection, settings, logger) {\r\n        var _this = this;\r\n        this.connection = connection;\r\n        this.settings = settings;\r\n        this.logger = logger;\r\n        this.protocolVersion = 3;\r\n        this.datePrefix = \"#T42_DATE#\";\r\n        this.datePrefixLen = this.datePrefix.length;\r\n        this.dateMinLen = this.datePrefixLen + 1;\r\n        this.datePrefixFirstChar = this.datePrefix[0];\r\n        this.registry = lib();\r\n        this._isLoggedIn = false;\r\n        this.shouldTryLogin = true;\r\n        this.initialLogin = true;\r\n        this.initialLoginAttempts = 3;\r\n        this.sessions = [];\r\n        connection.disconnected(function () {\r\n            _this.handleDisconnected();\r\n        });\r\n        this.ping();\r\n    }\r\n    Object.defineProperty(GW3ProtocolImpl.prototype, \"isLoggedIn\", {\r\n        get: function () {\r\n            return this._isLoggedIn;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    GW3ProtocolImpl.prototype.processStringMessage = function (message) {\r\n        var _this = this;\r\n        var msg = JSON.parse(message, function (key, value) {\r\n            if (typeof value !== \"string\") {\r\n                return value;\r\n            }\r\n            if (value.length < _this.dateMinLen) {\r\n                return value;\r\n            }\r\n            if (value[0] !== _this.datePrefixFirstChar) {\r\n                return value;\r\n            }\r\n            if (value.substring(0, _this.datePrefixLen) !== _this.datePrefix) {\r\n                return value;\r\n            }\r\n            try {\r\n                var milliseconds = parseInt(value.substring(_this.datePrefixLen, value.length), 10);\r\n                if (isNaN(milliseconds)) {\r\n                    return value;\r\n                }\r\n                return new Date(milliseconds);\r\n            }\r\n            catch (ex) {\r\n                return value;\r\n            }\r\n        });\r\n        return {\r\n            msg: msg,\r\n            msgType: msg.type,\r\n        };\r\n    };\r\n    GW3ProtocolImpl.prototype.createStringMessage = function (message) {\r\n        var oldToJson = Date.prototype.toJSON;\r\n        try {\r\n            var datePrefix_1 = this.datePrefix;\r\n            Date.prototype.toJSON = function () {\r\n                return datePrefix_1 + this.getTime();\r\n            };\r\n            var result = JSON.stringify(message);\r\n            return result;\r\n        }\r\n        finally {\r\n            Date.prototype.toJSON = oldToJson;\r\n        }\r\n    };\r\n    GW3ProtocolImpl.prototype.processObjectMessage = function (message) {\r\n        if (!message.type) {\r\n            throw new Error(\"Object should have type property\");\r\n        }\r\n        return {\r\n            msg: message,\r\n            msgType: message.type,\r\n        };\r\n    };\r\n    GW3ProtocolImpl.prototype.createObjectMessage = function (message) {\r\n        return message;\r\n    };\r\n    GW3ProtocolImpl.prototype.login = function (config, reconnect) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var authentication, token, e_1, _a, helloMsg, sendOptions, welcomeMsg, msg, token, _b, err_1;\r\n            return __generator(this, function (_c) {\r\n                switch (_c.label) {\r\n                    case 0:\r\n                        this.logger.debug(\"logging in...\");\r\n                        this.loginConfig = config;\r\n                        if (!this.loginConfig) {\r\n                            this.loginConfig = { username: \"\", password: \"\" };\r\n                        }\r\n                        this.shouldTryLogin = true;\r\n                        authentication = {};\r\n                        this.connection.gatewayToken = config.gatewayToken;\r\n                        if (!config.gatewayToken) return [3, 5];\r\n                        if (!reconnect) return [3, 4];\r\n                        _c.label = 1;\r\n                    case 1:\r\n                        _c.trys.push([1, 3, , 4]);\r\n                        return [4, this.getNewGWToken()];\r\n                    case 2:\r\n                        token = _c.sent();\r\n                        config.gatewayToken = token;\r\n                        return [3, 4];\r\n                    case 3:\r\n                        e_1 = _c.sent();\r\n                        this.logger.warn(\"failed to get GW token when reconnecting \" + ((e_1 === null || e_1 === void 0 ? void 0 : e_1.message) || e_1));\r\n                        return [3, 4];\r\n                    case 4:\r\n                        authentication.method = \"gateway-token\";\r\n                        authentication.token = config.gatewayToken;\r\n                        this.connection.gatewayToken = config.gatewayToken;\r\n                        return [3, 10];\r\n                    case 5:\r\n                        if (!(config.flowName === \"sspi\")) return [3, 9];\r\n                        authentication.provider = \"win\";\r\n                        authentication.method = \"access-token\";\r\n                        if (!(config.flowCallback && config.sessionId)) return [3, 7];\r\n                        _a = authentication;\r\n                        return [4, config.flowCallback(config.sessionId, null)];\r\n                    case 6:\r\n                        _a.token =\r\n                            (_c.sent())\r\n                                .data\r\n                                .toString(\"base64\");\r\n                        return [3, 8];\r\n                    case 7: throw new Error(\"Invalid SSPI config\");\r\n                    case 8: return [3, 10];\r\n                    case 9:\r\n                        if (config.token) {\r\n                            authentication.method = \"access-token\";\r\n                            authentication.token = config.token;\r\n                        }\r\n                        else if (config.username) {\r\n                            authentication.method = \"secret\";\r\n                            authentication.login = config.username;\r\n                            authentication.secret = config.password;\r\n                        }\r\n                        else {\r\n                            throw new Error(\"invalid auth message\" + JSON.stringify(config));\r\n                        }\r\n                        _c.label = 10;\r\n                    case 10:\r\n                        helloMsg = {\r\n                            type: \"hello\",\r\n                            identity: this.settings.identity,\r\n                            authentication: authentication\r\n                        };\r\n                        if (config.sessionId) {\r\n                            helloMsg.request_id = config.sessionId;\r\n                        }\r\n                        this.globalDomain = domainSession(\"global\", this.connection, this.logger.subLogger(\"global-domain\"), [\r\n                            \"welcome\",\r\n                            \"token\",\r\n                            \"authentication-request\"\r\n                        ]);\r\n                        sendOptions = { skipPeerId: true };\r\n                        if (this.initialLogin) {\r\n                            sendOptions.retryInterval = this.settings.reconnectInterval;\r\n                            sendOptions.maxRetries = this.settings.reconnectAttempts;\r\n                        }\r\n                        _c.label = 11;\r\n                    case 11:\r\n                        _c.trys.push([11, 19, 20, 21]);\r\n                        welcomeMsg = void 0;\r\n                        _c.label = 12;\r\n                    case 12:\r\n                        return [4, this.globalDomain.send(helloMsg, undefined, sendOptions)];\r\n                    case 13:\r\n                        msg = _c.sent();\r\n                        if (!(msg.type === \"authentication-request\")) return [3, 16];\r\n                        token = Buffer.from(msg.authentication.token, \"base64\");\r\n                        if (!(config.flowCallback && config.sessionId)) return [3, 15];\r\n                        _b = helloMsg.authentication;\r\n                        return [4, config.flowCallback(config.sessionId, token)];\r\n                    case 14:\r\n                        _b.token =\r\n                            (_c.sent())\r\n                                .data\r\n                                .toString(\"base64\");\r\n                        _c.label = 15;\r\n                    case 15:\r\n                        helloMsg.request_id = config.sessionId;\r\n                        return [3, 12];\r\n                    case 16:\r\n                        if (msg.type === \"welcome\") {\r\n                            welcomeMsg = msg;\r\n                            return [3, 18];\r\n                        }\r\n                        else if (msg.type === \"error\") {\r\n                            throw new Error(\"Authentication failed: \" + msg.reason);\r\n                        }\r\n                        else {\r\n                            throw new Error(\"Unexpected message type during authentication: \" + msg.type);\r\n                        }\r\n                    case 17: return [3, 12];\r\n                    case 18:\r\n                        this.initialLogin = false;\r\n                        this.logger.debug(\"login successful with peerId \" + welcomeMsg.peer_id);\r\n                        this.connection.peerId = welcomeMsg.peer_id;\r\n                        this.connection.resolvedIdentity = welcomeMsg.resolved_identity;\r\n                        this.connection.availableDomains = welcomeMsg.available_domains;\r\n                        if (welcomeMsg.options) {\r\n                            this.connection.token = welcomeMsg.options.access_token;\r\n                            this.connection.info = welcomeMsg.options.info;\r\n                        }\r\n                        this.setLoggedIn(true);\r\n                        return [2, welcomeMsg.resolved_identity];\r\n                    case 19:\r\n                        err_1 = _c.sent();\r\n                        this.logger.error(\"error sending hello message - \" + (err_1.message || err_1.msg || err_1.reason || err_1), err_1);\r\n                        throw err_1;\r\n                    case 20:\r\n                        if (config && config.flowCallback && config.sessionId) {\r\n                            config.flowCallback(config.sessionId, null);\r\n                        }\r\n                        return [7];\r\n                    case 21: return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    GW3ProtocolImpl.prototype.logout = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var promises;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        this.logger.debug(\"logging out...\");\r\n                        this.shouldTryLogin = false;\r\n                        if (this.pingTimer) {\r\n                            clearTimeout(this.pingTimer);\r\n                        }\r\n                        promises = this.sessions.map(function (session) {\r\n                            session.leave();\r\n                        });\r\n                        return [4, Promise.all(promises)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    GW3ProtocolImpl.prototype.loggedIn = function (callback) {\r\n        if (this._isLoggedIn) {\r\n            callback();\r\n        }\r\n        return this.registry.add(\"onLoggedIn\", callback);\r\n    };\r\n    GW3ProtocolImpl.prototype.domain = function (domainName, domainLogger, successMessages, errorMessages) {\r\n        var session = this.sessions.filter(function (s) { return s.domain === domainName; })[0];\r\n        if (!session) {\r\n            session = domainSession(domainName, this.connection, domainLogger, successMessages, errorMessages);\r\n            this.sessions.push(session);\r\n        }\r\n        return session;\r\n    };\r\n    GW3ProtocolImpl.prototype.handleDisconnected = function () {\r\n        var _this = this;\r\n        this.setLoggedIn(false);\r\n        var tryToLogin = this.shouldTryLogin;\r\n        if (tryToLogin && this.initialLogin) {\r\n            if (this.initialLoginAttempts <= 0) {\r\n                return;\r\n            }\r\n            this.initialLoginAttempts--;\r\n        }\r\n        this.logger.debug(\"disconnected - will try new login?\" + this.shouldTryLogin);\r\n        if (this.shouldTryLogin) {\r\n            if (!this.loginConfig) {\r\n                throw new Error(\"no login info\");\r\n            }\r\n            this.connection.login(this.loginConfig, true)\r\n                .catch(function () {\r\n                setTimeout(_this.handleDisconnected.bind(_this), _this.settings.reconnectInterval || 1000);\r\n            });\r\n        }\r\n    };\r\n    GW3ProtocolImpl.prototype.setLoggedIn = function (value) {\r\n        this._isLoggedIn = value;\r\n        if (this._isLoggedIn) {\r\n            this.registry.execute(\"onLoggedIn\");\r\n        }\r\n    };\r\n    GW3ProtocolImpl.prototype.ping = function () {\r\n        var _this = this;\r\n        if (!this.shouldTryLogin) {\r\n            return;\r\n        }\r\n        if (this._isLoggedIn) {\r\n            this.connection.send({ type: \"ping\" });\r\n        }\r\n        this.pingTimer = setTimeout(function () {\r\n            _this.ping();\r\n        }, 30 * 1000);\r\n    };\r\n    GW3ProtocolImpl.prototype.authToken = function () {\r\n        var createTokenReq = {\r\n            type: \"create-token\"\r\n        };\r\n        if (!this.globalDomain) {\r\n            return Promise.reject(new Error(\"no global domain session\"));\r\n        }\r\n        return this.globalDomain.send(createTokenReq)\r\n            .then(function (res) {\r\n            return res.token;\r\n        });\r\n    };\r\n    GW3ProtocolImpl.prototype.getNewGWToken = function () {\r\n        if (typeof window !== undefined) {\r\n            var glue42gd = window.glue42gd;\r\n            if (glue42gd) {\r\n                return glue42gd.getGWToken();\r\n            }\r\n        }\r\n        return Promise.reject(new Error(\"not running in GD\"));\r\n    };\r\n    return GW3ProtocolImpl;\r\n}());\n\nvar MessageReplayerImpl = (function () {\r\n    function MessageReplayerImpl(specs) {\r\n        this.specsNames = [];\r\n        this.messages = {};\r\n        this.subs = {};\r\n        this.subsRefCount = {};\r\n        this.specs = {};\r\n        for (var _i = 0, specs_1 = specs; _i < specs_1.length; _i++) {\r\n            var spec = specs_1[_i];\r\n            this.specs[spec.name] = spec;\r\n            this.specsNames.push(spec.name);\r\n        }\r\n    }\r\n    MessageReplayerImpl.prototype.init = function (connection) {\r\n        var _this = this;\r\n        this.connection = connection;\r\n        for (var _i = 0, _a = this.specsNames; _i < _a.length; _i++) {\r\n            var name_1 = _a[_i];\r\n            var _loop_1 = function (type) {\r\n                var refCount = this_1.subsRefCount[type];\r\n                if (!refCount) {\r\n                    refCount = 0;\r\n                }\r\n                refCount += 1;\r\n                this_1.subsRefCount[type] = refCount;\r\n                if (refCount > 1) {\r\n                    return \"continue\";\r\n                }\r\n                var sub = connection.on(type, function (msg) { return _this.processMessage(type, msg); });\r\n                this_1.subs[type] = sub;\r\n            };\r\n            var this_1 = this;\r\n            for (var _b = 0, _c = this.specs[name_1].types; _b < _c.length; _b++) {\r\n                var type = _c[_b];\r\n                _loop_1(type);\r\n            }\r\n        }\r\n    };\r\n    MessageReplayerImpl.prototype.processMessage = function (type, msg) {\r\n        if (this.isDone || !msg) {\r\n            return;\r\n        }\r\n        for (var _i = 0, _a = this.specsNames; _i < _a.length; _i++) {\r\n            var name_2 = _a[_i];\r\n            if (this.specs[name_2].types.indexOf(type) !== -1) {\r\n                var messages = this.messages[name_2] || [];\r\n                this.messages[name_2] = messages;\r\n                messages.push(msg);\r\n            }\r\n        }\r\n    };\r\n    MessageReplayerImpl.prototype.drain = function (name, callback) {\r\n        var _a;\r\n        if (callback) {\r\n            (this.messages[name] || []).forEach(callback);\r\n        }\r\n        delete this.messages[name];\r\n        for (var _i = 0, _b = this.specs[name].types; _i < _b.length; _i++) {\r\n            var type = _b[_i];\r\n            this.subsRefCount[type] -= 1;\r\n            if (this.subsRefCount[type] <= 0) {\r\n                (_a = this.connection) === null || _a === void 0 ? void 0 : _a.off(this.subs[type]);\r\n                delete this.subs[type];\r\n                delete this.subsRefCount[type];\r\n            }\r\n        }\r\n        delete this.specs[name];\r\n        if (!this.specs.length) {\r\n            this.isDone = true;\r\n        }\r\n    };\r\n    return MessageReplayerImpl;\r\n}());\n\nvar PromisePlus = function (executor, timeoutMilliseconds, timeoutMessage) {\r\n    return new Promise(function (resolve, reject) {\r\n        var timeout = setTimeout(function () {\r\n            var message = timeoutMessage || \"Promise timeout hit: \" + timeoutMilliseconds;\r\n            reject(message);\r\n        }, timeoutMilliseconds);\r\n        var providedPromise = new Promise(executor);\r\n        providedPromise\r\n            .then(function (result) {\r\n            clearTimeout(timeout);\r\n            resolve(result);\r\n        })\r\n            .catch(function (error) {\r\n            clearTimeout(timeout);\r\n            reject(error);\r\n        });\r\n    });\r\n};\n\nvar WebPlatformTransport = (function () {\r\n    function WebPlatformTransport(settings, logger, identity) {\r\n        this.settings = settings;\r\n        this.logger = logger;\r\n        this.identity = identity;\r\n        this.parentReady = false;\r\n        this.iAmConnected = false;\r\n        this.rejected = false;\r\n        this.children = [];\r\n        this.parentPingTimeout = 3000;\r\n        this.connectionRequestTimeout = 5000;\r\n        this.defaultTargetString = \"*\";\r\n        this.registry = lib();\r\n        this.messages = {\r\n            connectionAccepted: { name: \"connectionAccepted\", handle: this.handleConnectionAccepted.bind(this) },\r\n            connectionRejected: { name: \"connectionRejected\", handle: this.handleConnectionRejected.bind(this) },\r\n            connectionRequest: { name: \"connectionRequest\", handle: this.handleConnectionRequest.bind(this) },\r\n            parentReady: { name: \"parentReady\", handle: this.handleParentReady.bind(this) },\r\n            parentPing: { name: \"parentPing\", handle: this.handleParentPing.bind(this) },\r\n            platformPing: { name: \"platformPing\", handle: this.handlePlatformPing.bind(this) },\r\n            platformUnload: { name: \"platformUnload\", handle: this.handlePlatformUnload.bind(this) },\r\n            platformReady: { name: \"platformReady\", handle: this.handlePlatformReady.bind(this) },\r\n            clientUnload: { name: \"clientUnload\", handle: this.handleClientUnload.bind(this) }\r\n        };\r\n        this.setUpMessageListener();\r\n        this.setUpUnload();\r\n        if (!this.settings.port) {\r\n            this.parent = window.opener || window.top;\r\n            this.parentType = window.opener ? \"opener\" :\r\n                window.name.indexOf(\"#wsp\") !== -1 ? \"workspace\" : \"top\";\r\n        }\r\n    }\r\n    Object.defineProperty(WebPlatformTransport.prototype, \"transportWindowId\", {\r\n        get: function () {\r\n            return this.publicWindowId;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    WebPlatformTransport.prototype.sendObject = function (msg) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                if (!this.port) {\r\n                    throw new Error(\"Cannot send message, because the port was not opened yet\");\r\n                }\r\n                this.port.postMessage(msg);\r\n                return [2];\r\n            });\r\n        });\r\n    };\r\n    Object.defineProperty(WebPlatformTransport.prototype, \"isObjectBasedTransport\", {\r\n        get: function () {\r\n            return true;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    WebPlatformTransport.prototype.onMessage = function (callback) {\r\n        return this.registry.add(\"onMessage\", callback);\r\n    };\r\n    WebPlatformTransport.prototype.send = function () {\r\n        return Promise.reject(\"not supported\");\r\n    };\r\n    WebPlatformTransport.prototype.onConnectedChanged = function (callback) {\r\n        return this.registry.add(\"onConnectedChanged\", callback);\r\n    };\r\n    WebPlatformTransport.prototype.open = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        this.logger.debug(\"opening a connection to the web platform gateway.\");\r\n                        return [4, this.connect()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        this.notifyStatusChanged(true);\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.close = function () {\r\n        return Promise.resolve();\r\n    };\r\n    WebPlatformTransport.prototype.name = function () {\r\n        return \"web-platform\";\r\n    };\r\n    WebPlatformTransport.prototype.reconnect = function () {\r\n        return Promise.resolve();\r\n    };\r\n    WebPlatformTransport.prototype.connect = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (this.parentReady) {\r\n                            this.logger.debug(\"cancelling connection attempt, because this client's parent has already given a ready signal\");\r\n                            return [2];\r\n                        }\r\n                        if (this.settings.port) {\r\n                            this.logger.debug(\"opening an internal web platform connection\");\r\n                            this.port = this.settings.port;\r\n                            this.publicWindowId = this.settings.windowId;\r\n                            if (this.identity) {\r\n                                this.identity.windowId = this.publicWindowId;\r\n                            }\r\n                            this.port.onmessage = function (event) { return _this.registry.execute(\"onMessage\", event.data); };\r\n                            this.logger.debug(\"internal web platform connection completed\");\r\n                            return [2];\r\n                        }\r\n                        if (!this.parentType || !this.parent) {\r\n                            throw new Error(\"Cannot initiate a connection, because there is no opener, no top and no port.\");\r\n                        }\r\n                        this.logger.debug(\"opening a \" + (this.parentType === \"opener\" ? \"child\" : \"grandchild\") + \" client web platform connection\");\r\n                        return [4, this.waitParent(this.parent, this.parentType)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [4, this.initiateRemoteConnection(this.parent, this.parentType)];\r\n                    case 2:\r\n                        _a.sent();\r\n                        this.logger.debug(\"the \" + (this.parentType === \"opener\" ? \"child\" : \"grandchild\") + \" client is connected\");\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.initiateRemoteConnection = function (target, parentType) {\r\n        var _this = this;\r\n        return PromisePlus(function (resolve, reject) {\r\n            _this.connectionResolve = resolve;\r\n            _this.connectionReject = reject;\r\n            _this.myClientId = shortid();\r\n            var bridgeInstanceId = _this.parentType === \"workspace\" ? window.name.substring(0, window.name.indexOf(\"#wsp\")) : window.name;\r\n            var request = {\r\n                glue42core: {\r\n                    type: _this.messages.connectionRequest.name,\r\n                    clientId: _this.myClientId,\r\n                    clientType: parentType === \"top\" ? \"grandChild\" : \"child\",\r\n                    bridgeInstanceId: bridgeInstanceId\r\n                }\r\n            };\r\n            _this.logger.debug(\"sending connection request to \" + parentType);\r\n            target.postMessage(request, _this.defaultTargetString);\r\n        }, this.connectionRequestTimeout, \"The connection to the opener/top window timed out\");\r\n    };\r\n    WebPlatformTransport.prototype.waitParent = function (target, parentType) {\r\n        var _this = this;\r\n        return PromisePlus(function (resolve) {\r\n            _this.parentPingResolve = resolve;\r\n            var message = {\r\n                glue42core: {\r\n                    type: parentType === \"opener\" ? _this.messages.platformPing.name : _this.messages.parentPing.name\r\n                }\r\n            };\r\n            _this.logger.debug(\"checking for \" + parentType + \" window availability\");\r\n            target.postMessage(message, _this.defaultTargetString);\r\n        }, this.parentPingTimeout, \"Cannot initiate glue, because this window was not opened or created by a glue client\");\r\n    };\r\n    WebPlatformTransport.prototype.setUpMessageListener = function () {\r\n        var _this = this;\r\n        if (this.settings.port) {\r\n            this.logger.debug(\"skipping generic message listener, because this is an internal client\");\r\n            return;\r\n        }\r\n        window.addEventListener(\"message\", function (event) {\r\n            var _a;\r\n            var data = (_a = event.data) === null || _a === void 0 ? void 0 : _a.glue42core;\r\n            if (!data || _this.rejected) {\r\n                return;\r\n            }\r\n            if (!_this.checkMessageTypeValid(data.type)) {\r\n                _this.logger.error(\"cannot handle the incoming glue42 core message, because the type is invalid: \" + data.type);\r\n                return;\r\n            }\r\n            var messageType = data.type;\r\n            _this.logger.debug(\"received valid glue42core message of type: \" + messageType);\r\n            _this.messages[messageType].handle(event);\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.setUpUnload = function () {\r\n        var _this = this;\r\n        if (this.settings.port) {\r\n            this.logger.debug(\"skipping unload event listener, because this is an internal client\");\r\n            return;\r\n        }\r\n        window.addEventListener(\"beforeunload\", function () {\r\n            var _a, _b;\r\n            var message = {\r\n                glue42core: {\r\n                    type: _this.messages.clientUnload.name,\r\n                    data: {\r\n                        clientId: _this.myClientId,\r\n                        ownWindowId: (_a = _this.identity) === null || _a === void 0 ? void 0 : _a.windowId\r\n                    }\r\n                }\r\n            };\r\n            if (_this.parent) {\r\n                _this.parent.postMessage(message, _this.defaultTargetString);\r\n            }\r\n            (_b = _this.port) === null || _b === void 0 ? void 0 : _b.postMessage(message);\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.handleParentReady = function () {\r\n        this.logger.debug(\"handling the ready signal from the parent, by resoling the pending promise.\");\r\n        this.parentReady = true;\r\n        if (this.parentPingResolve) {\r\n            this.parentPingResolve();\r\n            delete this.parentPingResolve;\r\n            return;\r\n        }\r\n        this.logger.debug(\"silently handling the ready signal from the top parent, because there is no defined promise\");\r\n    };\r\n    WebPlatformTransport.prototype.handlePlatformReady = function () {\r\n        this.logger.debug(\"the web platform gave the ready signal\");\r\n        this.parentReady = true;\r\n        if (this.parentPingResolve) {\r\n            this.parentPingResolve();\r\n            delete this.parentPingResolve;\r\n            return;\r\n        }\r\n        this.logger.debug(\"silently handling the ready signal from the top parent, because there is no defined promise\");\r\n    };\r\n    WebPlatformTransport.prototype.handleConnectionAccepted = function (event) {\r\n        var _a;\r\n        var data = (_a = event.data) === null || _a === void 0 ? void 0 : _a.glue42core;\r\n        if (this.myClientId === data.clientId) {\r\n            return this.handleAcceptanceOfMyRequest(data);\r\n        }\r\n        return this.handleAcceptanceOfGrandChildRequest(data, event);\r\n    };\r\n    WebPlatformTransport.prototype.handleAcceptanceOfMyRequest = function (data) {\r\n        var _this = this;\r\n        this.logger.debug(\"handling a connection accepted signal targeted at me.\");\r\n        if (!data.port) {\r\n            this.logger.error(\"cannot set up my connection, because I was not provided with a port\");\r\n            return;\r\n        }\r\n        this.publicWindowId = this.parentType === \"opener\" ? window.name :\r\n            this.parentType === \"top\" ? data.parentWindowId :\r\n                window.name.substring(0, window.name.indexOf(\"#wsp\"));\r\n        if (this.identity && this.parentType !== \"top\") {\r\n            this.identity.windowId = this.publicWindowId;\r\n        }\r\n        if (this.identity && data.appName) {\r\n            this.identity.application = data.appName;\r\n            this.identity.applicationName = data.appName;\r\n        }\r\n        this.port = data.port;\r\n        this.port.onmessage = function (e) { return _this.registry.execute(\"onMessage\", e.data); };\r\n        if (this.connectionResolve) {\r\n            this.logger.debug(\"my connection is set up, calling the connection resolve.\");\r\n            this.connectionResolve();\r\n            delete this.connectionResolve;\r\n            return;\r\n        }\r\n        this.logger.error(\"unable to call the connection resolve, because no connection promise was found\");\r\n    };\r\n    WebPlatformTransport.prototype.handleAcceptanceOfGrandChildRequest = function (data, event) {\r\n        this.logger.debug(\"handling a connection accepted signal targeted at a grandchild: \" + data.clientId);\r\n        var child = this.children.find(function (c) { return c.grandChildId === data.clientId; });\r\n        if (!child) {\r\n            this.logger.error(\"cannot handle connection accepted for grandchild: \" + data.clientId + \", because there is no grandchild with this id\");\r\n            return;\r\n        }\r\n        child.connected = true;\r\n        this.logger.debug(\"the grandchild connection for \" + data.clientId + \" is set up, forwarding the success message and the gateway port\");\r\n        data.parentWindowId = this.publicWindowId;\r\n        child.source.postMessage(event.data, child.origin, [data.port]);\r\n        return;\r\n    };\r\n    WebPlatformTransport.prototype.handleConnectionRejected = function () {\r\n        this.logger.debug(\"handling a connection rejection. Most likely the reason is that this window was not created by a glue API call\");\r\n        if (this.connectionReject) {\r\n            this.connectionReject(\"The platform connection was rejected. Most likely because this window was not created by a glue API call\");\r\n            delete this.connectionReject;\r\n        }\r\n    };\r\n    WebPlatformTransport.prototype.handleConnectionRequest = function (event) {\r\n        var source = event.source;\r\n        var data = event.data.glue42core;\r\n        if (!data.clientType || data.clientType !== \"grandChild\") {\r\n            return this.rejectConnectionRequest(source, event.origin, \"rejecting a connection request, because the source was not opened by a glue API call\");\r\n        }\r\n        if (!data.clientId) {\r\n            return this.rejectConnectionRequest(source, event.origin, \"rejecting a connection request, because the source did not provide a valid id\");\r\n        }\r\n        if (this.parentType !== \"opener\" || !this.parent) {\r\n            return this.rejectConnectionRequest(source, event.origin, \"Cannot forward the connection request, because no direct connection to the platform was found\");\r\n        }\r\n        this.logger.debug(\"handling a connection request for a grandchild: \" + data.clientId);\r\n        this.children.push({ grandChildId: data.clientId, source: source, connected: false, origin: event.origin });\r\n        this.logger.debug(\"grandchild: \" + data.clientId + \" is prepared, forwarding connection request to the platform\");\r\n        this.parent.postMessage(event.data, this.defaultTargetString);\r\n    };\r\n    WebPlatformTransport.prototype.handleParentPing = function (event) {\r\n        if (!this.parentReady) {\r\n            this.logger.debug(\"my parent is not ready, I am ignoring the parent ping\");\r\n            return;\r\n        }\r\n        if (!this.iAmConnected) {\r\n            this.logger.debug(\"i am not fully connected yet, I am ignoring the parent ping\");\r\n            return;\r\n        }\r\n        var message = {\r\n            glue42core: {\r\n                type: this.messages.parentReady.name\r\n            }\r\n        };\r\n        var source = event.source;\r\n        this.logger.debug(\"responding to a parent ping with a ready message\");\r\n        source.postMessage(message, event.origin);\r\n    };\r\n    WebPlatformTransport.prototype.handlePlatformUnload = function (event) {\r\n        this.logger.debug(\"detected a web platform unload\");\r\n        this.parentReady = false;\r\n        if (this.children.length) {\r\n            this.logger.debug(\"forwarding the platform unload to all known children and starting platform discovery polling\");\r\n            this.children.forEach(function (child) { return child.source.postMessage(event.data, child.origin); });\r\n        }\r\n        this.notifyStatusChanged(false, \"Gateway unloaded\");\r\n    };\r\n    WebPlatformTransport.prototype.handleClientUnload = function (event) {\r\n        var data = event.data.glue42core;\r\n        if (!data.clientId) {\r\n            this.logger.warn(\"cannot process grand child unload, because the provided id was not valid\");\r\n            return;\r\n        }\r\n        var foundChild = this.children.find(function (child) { return child.grandChildId === data.clientId; });\r\n        if (!foundChild) {\r\n            this.logger.warn(\"cannot process grand child unload, because this client is unaware of this grandchild\");\r\n            return;\r\n        }\r\n        this.logger.debug(\"handling grandchild unload for id: \" + data.clientId);\r\n        this.children = this.children.filter(function (child) { return child.grandChildId !== data.clientId; });\r\n    };\r\n    WebPlatformTransport.prototype.handlePlatformPing = function () {\r\n        this.logger.error(\"cannot handle platform ping, because this is not a platform calls handling component\");\r\n    };\r\n    WebPlatformTransport.prototype.notifyStatusChanged = function (status, reason) {\r\n        this.iAmConnected = status;\r\n        this.registry.execute(\"onConnectedChanged\", status, reason);\r\n    };\r\n    WebPlatformTransport.prototype.checkMessageTypeValid = function (typeToValidate) {\r\n        return typeof typeToValidate === \"string\" && !!this.messages[typeToValidate];\r\n    };\r\n    WebPlatformTransport.prototype.rejectConnectionRequest = function (source, origin, reason) {\r\n        this.rejected = true;\r\n        this.logger.error(reason);\r\n        var rejection = {\r\n            glue42core: {\r\n                type: this.messages.connectionRejected.name\r\n            }\r\n        };\r\n        source.postMessage(rejection, origin);\r\n    };\r\n    return WebPlatformTransport;\r\n}());\n\nvar Connection = (function () {\r\n    function Connection(settings, logger) {\r\n        this.settings = settings;\r\n        this.logger = logger;\r\n        this.messageHandlers = {};\r\n        this.ids = 1;\r\n        this.registry = lib();\r\n        this._connected = false;\r\n        this.isTrace = false;\r\n        settings = settings || {};\r\n        settings.reconnectAttempts = settings.reconnectAttempts || 10;\r\n        settings.reconnectInterval = settings.reconnectInterval || 1000;\r\n        if (settings.inproc) {\r\n            this.transport = new InProcTransport(settings.inproc, logger.subLogger(\"inMemory\"));\r\n        }\r\n        else if (settings.sharedWorker) {\r\n            this.transport = new SharedWorkerTransport(settings.sharedWorker, logger.subLogger(\"shared-worker\"));\r\n        }\r\n        else if (settings.webPlatform) {\r\n            this.transport = new WebPlatformTransport(settings.webPlatform, logger.subLogger(\"web-platform\"), settings.identity);\r\n        }\r\n        else if (settings.ws !== undefined) {\r\n            this.transport = new WS(settings, logger.subLogger(\"ws\"));\r\n        }\r\n        else {\r\n            throw new Error(\"No connection information specified\");\r\n        }\r\n        this.isTrace = logger.canPublish(\"trace\");\r\n        logger.debug(\"starting with \" + this.transport.name() + \" transport\");\r\n        this.protocol = new GW3ProtocolImpl(this, settings, logger.subLogger(\"protocol\"));\r\n        this.transport.onConnectedChanged(this.handleConnectionChanged.bind(this));\r\n        this.transport.onMessage(this.handleTransportMessage.bind(this));\r\n        if (settings.replaySpecs && settings.replaySpecs.length) {\r\n            this.replayer = new MessageReplayerImpl(settings.replaySpecs);\r\n            this.replayer.init(this);\r\n        }\r\n    }\r\n    Object.defineProperty(Connection.prototype, \"protocolVersion\", {\r\n        get: function () {\r\n            var _a;\r\n            return (_a = this.protocol) === null || _a === void 0 ? void 0 : _a.protocolVersion;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Connection.prototype.send = function (message, options) {\r\n        if (this.transport.sendObject &&\r\n            this.transport.isObjectBasedTransport) {\r\n            var msg = this.protocol.createObjectMessage(message);\r\n            if (this.isTrace) {\r\n                this.logger.trace(\">> \" + JSON.stringify(msg));\r\n            }\r\n            return this.transport.sendObject(msg, options);\r\n        }\r\n        else {\r\n            var strMessage = this.protocol.createStringMessage(message);\r\n            if (this.isTrace) {\r\n                this.logger.trace(\">> \" + strMessage);\r\n            }\r\n            return this.transport.send(strMessage, options);\r\n        }\r\n    };\r\n    Connection.prototype.on = function (type, messageHandler) {\r\n        type = type.toLowerCase();\r\n        if (this.messageHandlers[type] === undefined) {\r\n            this.messageHandlers[type] = {};\r\n        }\r\n        var id = this.ids++;\r\n        this.messageHandlers[type][id] = messageHandler;\r\n        return {\r\n            type: type,\r\n            id: id,\r\n        };\r\n    };\r\n    Connection.prototype.off = function (info) {\r\n        delete this.messageHandlers[info.type.toLowerCase()][info.id];\r\n    };\r\n    Object.defineProperty(Connection.prototype, \"isConnected\", {\r\n        get: function () {\r\n            return this.protocol.isLoggedIn;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Connection.prototype.connected = function (callback) {\r\n        var _this = this;\r\n        return this.protocol.loggedIn(function () {\r\n            callback(_this.settings.ws || _this.settings.sharedWorker || \"\");\r\n        });\r\n    };\r\n    Connection.prototype.disconnected = function (callback) {\r\n        return this.registry.add(\"disconnected\", callback);\r\n    };\r\n    Connection.prototype.login = function (authRequest, reconnect) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var identity;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4, this.transport.open()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        timer(\"connection\").mark(\"transport-opened\");\r\n                        identity = this.protocol.login(authRequest, reconnect);\r\n                        timer(\"connection\").mark(\"protocol-logged-in\");\r\n                        return [2, identity];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Connection.prototype.logout = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4, this.protocol.logout()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [4, this.transport.close()];\r\n                    case 2:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Connection.prototype.loggedIn = function (callback) {\r\n        return this.protocol.loggedIn(callback);\r\n    };\r\n    Connection.prototype.domain = function (domain, successMessages, errorMessages) {\r\n        return this.protocol.domain(domain, this.logger.subLogger(\"domain=\" + domain), successMessages, errorMessages);\r\n    };\r\n    Connection.prototype.authToken = function () {\r\n        return this.protocol.authToken();\r\n    };\r\n    Connection.prototype.reconnect = function () {\r\n        return this.transport.reconnect();\r\n    };\r\n    Connection.prototype.distributeMessage = function (message, type) {\r\n        var _this = this;\r\n        var handlers = this.messageHandlers[type.toLowerCase()];\r\n        if (handlers !== undefined) {\r\n            Object.keys(handlers).forEach(function (handlerId) {\r\n                var handler = handlers[handlerId];\r\n                if (handler !== undefined) {\r\n                    try {\r\n                        handler(message);\r\n                    }\r\n                    catch (error) {\r\n                        try {\r\n                            _this.logger.error(\"Message handler failed with \" + error.stack, error);\r\n                        }\r\n                        catch (loggerError) {\r\n                            console.log(\"Message handler failed\", error);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    };\r\n    Connection.prototype.handleConnectionChanged = function (connected) {\r\n        if (this._connected === connected) {\r\n            return;\r\n        }\r\n        this._connected = connected;\r\n        if (connected) {\r\n            this.registry.execute(\"connected\");\r\n        }\r\n        else {\r\n            this.registry.execute(\"disconnected\");\r\n        }\r\n    };\r\n    Connection.prototype.handleTransportMessage = function (msg) {\r\n        var msgObj;\r\n        if (typeof msg === \"string\") {\r\n            msgObj = this.protocol.processStringMessage(msg);\r\n        }\r\n        else {\r\n            msgObj = this.protocol.processObjectMessage(msg);\r\n        }\r\n        if (this.isTrace) {\r\n            this.logger.trace(\"<< \" + JSON.stringify(msgObj));\r\n        }\r\n        this.distributeMessage(msgObj.msg, msgObj.msgType);\r\n    };\r\n    return Connection;\r\n}());\n\nvar order = [\"trace\", \"debug\", \"info\", \"warn\", \"error\", \"off\"];\r\nvar Logger = (function () {\r\n    function Logger(name, parent, logFn) {\r\n        this.name = name;\r\n        this.parent = parent;\r\n        this.subLoggers = [];\r\n        this.logFn = console;\r\n        this.customLogFn = false;\r\n        this.name = name;\r\n        if (parent) {\r\n            this.path = parent.path + \".\" + name;\r\n        }\r\n        else {\r\n            this.path = name;\r\n        }\r\n        this.loggerFullName = \"[\" + this.path + \"]\";\r\n        this.includeTimeAndLevel = !logFn;\r\n        if (logFn) {\r\n            this.logFn = logFn;\r\n            this.customLogFn = true;\r\n        }\r\n    }\r\n    Logger.prototype.subLogger = function (name) {\r\n        var existingSub = this.subLoggers.filter(function (subLogger) {\r\n            return subLogger.name === name;\r\n        })[0];\r\n        if (existingSub !== undefined) {\r\n            return existingSub;\r\n        }\r\n        Object.keys(this).forEach(function (key) {\r\n            if (key === name) {\r\n                throw new Error(\"This sub logger name is not allowed.\");\r\n            }\r\n        });\r\n        var sub = new Logger(name, this, this.customLogFn ? this.logFn : undefined);\r\n        this.subLoggers.push(sub);\r\n        return sub;\r\n    };\r\n    Logger.prototype.publishLevel = function (level) {\r\n        var _a;\r\n        if (level) {\r\n            this._publishLevel = level;\r\n        }\r\n        return this._publishLevel || ((_a = this.parent) === null || _a === void 0 ? void 0 : _a.publishLevel());\r\n    };\r\n    Logger.prototype.consoleLevel = function (level) {\r\n        var _a;\r\n        if (level) {\r\n            this._consoleLevel = level;\r\n        }\r\n        return this._consoleLevel || ((_a = this.parent) === null || _a === void 0 ? void 0 : _a.consoleLevel());\r\n    };\r\n    Logger.prototype.log = function (message, level, error) {\r\n        this.publishMessage(level || \"info\", message, error);\r\n    };\r\n    Logger.prototype.trace = function (message) {\r\n        this.log(message, \"trace\");\r\n    };\r\n    Logger.prototype.debug = function (message) {\r\n        this.log(message, \"debug\");\r\n    };\r\n    Logger.prototype.info = function (message) {\r\n        this.log(message, \"info\");\r\n    };\r\n    Logger.prototype.warn = function (message) {\r\n        this.log(message, \"warn\");\r\n    };\r\n    Logger.prototype.error = function (message, err) {\r\n        this.log(message, \"error\");\r\n    };\r\n    Logger.prototype.canPublish = function (level, compareWith) {\r\n        var levelIdx = order.indexOf(level);\r\n        var restrictionIdx = order.indexOf(compareWith || this.consoleLevel() || \"trace\");\r\n        return levelIdx >= restrictionIdx;\r\n    };\r\n    Logger.prototype.publishMessage = function (level, message, error) {\r\n        var loggerName = this.loggerFullName;\r\n        if (level === \"error\" && !error) {\r\n            var e = new Error();\r\n            if (e.stack) {\r\n                message =\r\n                    message +\r\n                        \"\\n\" +\r\n                        e.stack\r\n                            .split(\"\\n\")\r\n                            .slice(3)\r\n                            .join(\"\\n\");\r\n            }\r\n        }\r\n        if (this.canPublish(level, this.publishLevel())) {\r\n            var interop = Logger.Interop;\r\n            if (interop) {\r\n                try {\r\n                    if (interop.methods({ name: Logger.InteropMethodName }).length > 0) {\r\n                        interop.invoke(Logger.InteropMethodName, {\r\n                            msg: \"\" + message,\r\n                            logger: loggerName,\r\n                            level: level\r\n                        });\r\n                    }\r\n                }\r\n                catch (_a) {\r\n                }\r\n            }\r\n        }\r\n        if (this.canPublish(level)) {\r\n            var prefix = \"\";\r\n            if (this.includeTimeAndLevel) {\r\n                var date = new Date();\r\n                var time = date.getHours() + \":\" + date.getMinutes() + \":\" + date.getSeconds() + \":\" + date.getMilliseconds();\r\n                prefix = \"[\" + time + \"] [\" + level + \"] \";\r\n            }\r\n            var toPrint = \"\" + prefix + loggerName + \": \" + message;\r\n            switch (level) {\r\n                case \"trace\":\r\n                    this.logFn.debug(toPrint);\r\n                    break;\r\n                case \"debug\":\r\n                    if (this.logFn.debug) {\r\n                        this.logFn.debug(toPrint);\r\n                    }\r\n                    else {\r\n                        this.logFn.log(toPrint);\r\n                    }\r\n                    break;\r\n                case \"info\":\r\n                    this.logFn.info(toPrint);\r\n                    break;\r\n                case \"warn\":\r\n                    this.logFn.warn(toPrint);\r\n                    break;\r\n                case \"error\":\r\n                    this.logFn.error(toPrint, error);\r\n                    break;\r\n            }\r\n        }\r\n    };\r\n    Logger.InteropMethodName = \"T42.AppLogger.Log\";\r\n    return Logger;\r\n}());\n\nvar GW_MESSAGE_CREATE_CONTEXT = \"create-context\";\r\nvar GW_MESSAGE_ACTIVITY_CREATED = \"created\";\r\nvar GW_MESSAGE_ACTIVITY_DESTROYED = \"destroyed\";\r\nvar GW_MESSAGE_CONTEXT_CREATED = \"context-created\";\r\nvar GW_MESSAGE_CONTEXT_ADDED = \"context-added\";\r\nvar GW_MESSAGE_SUBSCRIBE_CONTEXT = \"subscribe-context\";\r\nvar GW_MESSAGE_SUBSCRIBED_CONTEXT = \"subscribed-context\";\r\nvar GW_MESSAGE_UNSUBSCRIBE_CONTEXT = \"unsubscribe-context\";\r\nvar GW_MESSAGE_DESTROY_CONTEXT = \"destroy-context\";\r\nvar GW_MESSAGE_CONTEXT_DESTROYED = \"context-destroyed\";\r\nvar GW_MESSAGE_UPDATE_CONTEXT = \"update-context\";\r\nvar GW_MESSAGE_CONTEXT_UPDATED = \"context-updated\";\r\nvar GW_MESSAGE_JOINED_ACTIVITY = \"joined\";\n\nvar ContextMessageReplaySpec = {\r\n    get name() {\r\n        return \"context\";\r\n    },\r\n    get types() {\r\n        return [\r\n            GW_MESSAGE_CREATE_CONTEXT,\r\n            GW_MESSAGE_ACTIVITY_CREATED,\r\n            GW_MESSAGE_ACTIVITY_DESTROYED,\r\n            GW_MESSAGE_CONTEXT_CREATED,\r\n            GW_MESSAGE_CONTEXT_ADDED,\r\n            GW_MESSAGE_SUBSCRIBE_CONTEXT,\r\n            GW_MESSAGE_SUBSCRIBED_CONTEXT,\r\n            GW_MESSAGE_UNSUBSCRIBE_CONTEXT,\r\n            GW_MESSAGE_DESTROY_CONTEXT,\r\n            GW_MESSAGE_CONTEXT_DESTROYED,\r\n            GW_MESSAGE_UPDATE_CONTEXT,\r\n            GW_MESSAGE_CONTEXT_UPDATED,\r\n            GW_MESSAGE_JOINED_ACTIVITY\r\n        ];\r\n    }\r\n};\n\nvar version = \"5.2.7\";\n\nfunction prepareConfig (configuration, ext, glue42gd) {\r\n    var _a, _b, _c, _d, _e;\r\n    var nodeStartingContext;\r\n    if (Utils.isNode()) {\r\n        var startingContextString = process.env._GD_STARTING_CONTEXT_;\r\n        if (startingContextString) {\r\n            try {\r\n                nodeStartingContext = JSON.parse(startingContextString);\r\n            }\r\n            catch (_f) {\r\n            }\r\n        }\r\n    }\r\n    function getConnection() {\r\n        var _a, _b, _c, _d, _e;\r\n        var gwConfig = configuration.gateway;\r\n        var protocolVersion = (_a = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.protocolVersion) !== null && _a !== void 0 ? _a : 3;\r\n        var reconnectInterval = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.reconnectInterval;\r\n        var reconnectAttempts = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.reconnectAttempts;\r\n        var defaultWs = \"ws://localhost:8385\";\r\n        var ws = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.ws;\r\n        var sharedWorker = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.sharedWorker;\r\n        var inproc = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.inproc;\r\n        var webPlatform = (_b = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.webPlatform) !== null && _b !== void 0 ? _b : undefined;\r\n        if (glue42gd) {\r\n            ws = glue42gd.gwURL;\r\n        }\r\n        if (Utils.isNode() && nodeStartingContext && nodeStartingContext.gwURL) {\r\n            ws = nodeStartingContext.gwURL;\r\n        }\r\n        if (!ws && !sharedWorker && !inproc) {\r\n            ws = defaultWs;\r\n        }\r\n        var instanceId;\r\n        var windowId;\r\n        var pid;\r\n        var environment;\r\n        var region;\r\n        var appName = getApplication();\r\n        var uniqueAppName = appName;\r\n        if (typeof glue42gd !== \"undefined\") {\r\n            windowId = glue42gd.windowId;\r\n            pid = glue42gd.pid;\r\n            if (glue42gd.env) {\r\n                environment = glue42gd.env.env;\r\n                region = glue42gd.env.region;\r\n            }\r\n            uniqueAppName = (_c = glue42gd.application) !== null && _c !== void 0 ? _c : \"glue-app\";\r\n            instanceId = glue42gd.appInstanceId;\r\n        }\r\n        else if (Utils.isNode()) {\r\n            pid = process.pid;\r\n            if (nodeStartingContext) {\r\n                environment = nodeStartingContext.env;\r\n                region = nodeStartingContext.region;\r\n                instanceId = nodeStartingContext.instanceId;\r\n            }\r\n        }\r\n        else ;\r\n        var replaySpecs = (_e = (_d = configuration.gateway) === null || _d === void 0 ? void 0 : _d.replaySpecs) !== null && _e !== void 0 ? _e : [];\r\n        replaySpecs.push(ContextMessageReplaySpec);\r\n        return {\r\n            identity: {\r\n                application: uniqueAppName,\r\n                applicationName: appName,\r\n                windowId: windowId,\r\n                instance: instanceId,\r\n                process: pid,\r\n                region: region,\r\n                environment: environment,\r\n                api: ext.version || version\r\n            },\r\n            reconnectInterval: reconnectInterval,\r\n            ws: ws,\r\n            sharedWorker: sharedWorker,\r\n            webPlatform: webPlatform,\r\n            inproc: inproc,\r\n            protocolVersion: protocolVersion,\r\n            reconnectAttempts: reconnectAttempts,\r\n            replaySpecs: replaySpecs,\r\n        };\r\n    }\r\n    function getApplication() {\r\n        if (configuration.application) {\r\n            return configuration.application;\r\n        }\r\n        if (glue42gd) {\r\n            return glue42gd.applicationName;\r\n        }\r\n        var uid = shortid();\r\n        if (Utils.isNode()) {\r\n            if (nodeStartingContext) {\r\n                return nodeStartingContext.applicationConfig.name;\r\n            }\r\n            return \"NodeJS\" + uid;\r\n        }\r\n        if (typeof window !== \"undefined\" && typeof document !== \"undefined\") {\r\n            return document.title + (\" (\" + uid + \")\");\r\n        }\r\n        return uid;\r\n    }\r\n    function getAuth() {\r\n        var _a, _b, _c;\r\n        if (typeof configuration.auth === \"string\") {\r\n            return {\r\n                token: configuration.auth\r\n            };\r\n        }\r\n        if (configuration.auth) {\r\n            return configuration.auth;\r\n        }\r\n        if (Utils.isNode() && nodeStartingContext && nodeStartingContext.gwToken) {\r\n            return {\r\n                gatewayToken: nodeStartingContext.gwToken\r\n            };\r\n        }\r\n        if (((_a = configuration.gateway) === null || _a === void 0 ? void 0 : _a.webPlatform) || ((_b = configuration.gateway) === null || _b === void 0 ? void 0 : _b.inproc) || ((_c = configuration.gateway) === null || _c === void 0 ? void 0 : _c.sharedWorker)) {\r\n            return {\r\n                username: \"glue42\", password: \"glue42\"\r\n            };\r\n        }\r\n    }\r\n    function getLogger() {\r\n        var _a, _b;\r\n        var config = configuration.logger;\r\n        var defaultLevel = \"warn\";\r\n        if (!config) {\r\n            config = defaultLevel;\r\n        }\r\n        var gdConsoleLevel;\r\n        if (glue42gd) {\r\n            gdConsoleLevel = glue42gd.consoleLogLevel;\r\n        }\r\n        if (typeof config === \"string\") {\r\n            return { console: gdConsoleLevel !== null && gdConsoleLevel !== void 0 ? gdConsoleLevel : config, publish: defaultLevel };\r\n        }\r\n        return {\r\n            console: (_a = gdConsoleLevel !== null && gdConsoleLevel !== void 0 ? gdConsoleLevel : config.console) !== null && _a !== void 0 ? _a : defaultLevel,\r\n            publish: (_b = config.publish) !== null && _b !== void 0 ? _b : defaultLevel\r\n        };\r\n    }\r\n    var connection = getConnection();\r\n    var application = getApplication();\r\n    if (typeof window !== \"undefined\") {\r\n        var windowAsAny = window;\r\n        var containerApplication = windowAsAny.htmlContainer ?\r\n            windowAsAny.htmlContainer.containerName + \".\" + windowAsAny.htmlContainer.application : (_a = windowAsAny === null || windowAsAny === void 0 ? void 0 : windowAsAny.glue42gd) === null || _a === void 0 ? void 0 : _a.application;\r\n        if (containerApplication) {\r\n            application = containerApplication;\r\n        }\r\n    }\r\n    return {\r\n        bus: (_b = configuration.bus) !== null && _b !== void 0 ? _b : false,\r\n        application: application,\r\n        auth: getAuth(),\r\n        logger: getLogger(),\r\n        connection: connection,\r\n        metrics: (_c = configuration.metrics) !== null && _c !== void 0 ? _c : true,\r\n        contexts: (_d = configuration.contexts) !== null && _d !== void 0 ? _d : true,\r\n        version: ext.version || version,\r\n        libs: (_e = ext.libs) !== null && _e !== void 0 ? _e : [],\r\n        customLogger: configuration.customLogger\r\n    };\r\n}\n\nvar GW3ContextData = (function () {\r\n    function GW3ContextData(contextId, name, isAnnounced, activityId) {\r\n        this.updateCallbacks = {};\r\n        this.contextId = contextId;\r\n        this.name = name;\r\n        this.isAnnounced = isAnnounced;\r\n        this.activityId = activityId;\r\n        this.context = {};\r\n    }\r\n    GW3ContextData.prototype.hasCallbacks = function () {\r\n        return Object.keys(this.updateCallbacks).length > 0;\r\n    };\r\n    GW3ContextData.prototype.getState = function () {\r\n        if (this.isAnnounced && this.hasCallbacks()) {\r\n            return 3;\r\n        }\r\n        if (this.isAnnounced) {\r\n            return 2;\r\n        }\r\n        if (this.hasCallbacks()) {\r\n            return 1;\r\n        }\r\n        return 0;\r\n    };\r\n    return GW3ContextData;\r\n}());\n\nfunction applyContextDelta(context, delta, logger) {\r\n    try {\r\n        if (logger === null || logger === void 0 ? void 0 : logger.canPublish(\"trace\")) {\r\n            logger === null || logger === void 0 ? void 0 : logger.trace(\"applying context delta \" + JSON.stringify(delta) + \" on context \" + JSON.stringify(context));\r\n        }\r\n        if (!delta) {\r\n            return context;\r\n        }\r\n        if (delta.reset) {\r\n            context = __assign({}, delta.reset);\r\n            return context;\r\n        }\r\n        context = deepClone(context, undefined);\r\n        if (delta.commands) {\r\n            for (var _i = 0, _a = delta.commands; _i < _a.length; _i++) {\r\n                var command = _a[_i];\r\n                if (command.type === \"remove\") {\r\n                    deletePath(context, command.path);\r\n                }\r\n                else if (command.type === \"set\") {\r\n                    setValueToPath(context, command.value, command.path);\r\n                }\r\n            }\r\n            return context;\r\n        }\r\n        var added_1 = delta.added;\r\n        var updated_1 = delta.updated;\r\n        var removed = delta.removed;\r\n        if (added_1) {\r\n            Object.keys(added_1).forEach(function (key) {\r\n                context[key] = added_1[key];\r\n            });\r\n        }\r\n        if (updated_1) {\r\n            Object.keys(updated_1).forEach(function (key) {\r\n                mergeObjectsProperties(key, context, updated_1);\r\n            });\r\n        }\r\n        if (removed) {\r\n            removed.forEach(function (key) {\r\n                delete context[key];\r\n            });\r\n        }\r\n        return context;\r\n    }\r\n    catch (e) {\r\n        logger === null || logger === void 0 ? void 0 : logger.error(\"error applying context delta \" + JSON.stringify(delta) + \" on context \" + JSON.stringify(context), e);\r\n        return context;\r\n    }\r\n}\r\nfunction deepClone(obj, hash) {\r\n    hash = hash || new WeakMap();\r\n    if (Object(obj) !== obj) {\r\n        return obj;\r\n    }\r\n    if (obj instanceof Set) {\r\n        return new Set(obj);\r\n    }\r\n    if (hash.has(obj)) {\r\n        return hash.get(obj);\r\n    }\r\n    var result = obj instanceof Date ? new Date(obj)\r\n        : obj instanceof RegExp ? new RegExp(obj.source, obj.flags)\r\n            : obj.constructor ? new obj.constructor()\r\n                : Object.create(null);\r\n    hash.set(obj, result);\r\n    if (obj instanceof Map) {\r\n        Array.from(obj, function (_a) {\r\n            var key = _a[0], val = _a[1];\r\n            return result.set(key, deepClone(val, hash));\r\n        });\r\n    }\r\n    return Object.assign.apply(Object, __spreadArrays([result], Object.keys(obj).map(function (key) {\r\n        var _a;\r\n        return (_a = {}, _a[key] = deepClone(obj[key], hash), _a);\r\n    })));\r\n}\r\nvar mergeObjectsProperties = function (key, what, withWhat) {\r\n    var right = withWhat[key];\r\n    if (right === undefined) {\r\n        return what;\r\n    }\r\n    var left = what[key];\r\n    if (!left || !right) {\r\n        what[key] = right;\r\n        return what;\r\n    }\r\n    if (typeof left === \"string\" ||\r\n        typeof left === \"number\" ||\r\n        typeof left === \"boolean\" ||\r\n        typeof right === \"string\" ||\r\n        typeof right === \"number\" ||\r\n        typeof right === \"boolean\" ||\r\n        Array.isArray(left) ||\r\n        Array.isArray(right)) {\r\n        what[key] = right;\r\n        return what;\r\n    }\r\n    what[key] = Object.assign({}, left, right);\r\n    return what;\r\n};\r\nfunction deepEqual(x, y) {\r\n    if (x === y) {\r\n        return true;\r\n    }\r\n    if (!(x instanceof Object) || !(y instanceof Object)) {\r\n        return false;\r\n    }\r\n    if (x.constructor !== y.constructor) {\r\n        return false;\r\n    }\r\n    for (var p in x) {\r\n        if (!x.hasOwnProperty(p)) {\r\n            continue;\r\n        }\r\n        if (!y.hasOwnProperty(p)) {\r\n            return false;\r\n        }\r\n        if (x[p] === y[p]) {\r\n            continue;\r\n        }\r\n        if (typeof (x[p]) !== \"object\") {\r\n            return false;\r\n        }\r\n        if (!deepEqual(x[p], y[p])) {\r\n            return false;\r\n        }\r\n    }\r\n    for (var p in y) {\r\n        if (y.hasOwnProperty(p) && !x.hasOwnProperty(p)) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\nfunction setValueToPath(obj, value, path) {\r\n    var pathArr = path.split(\".\");\r\n    var i;\r\n    for (i = 0; i < pathArr.length - 1; i++) {\r\n        if (!obj[pathArr[i]]) {\r\n            obj[pathArr[i]] = {};\r\n        }\r\n        if (typeof obj[pathArr[i]] !== \"object\") {\r\n            obj[pathArr[i]] = {};\r\n        }\r\n        obj = obj[pathArr[i]];\r\n    }\r\n    obj[pathArr[i]] = value;\r\n}\r\nfunction deletePath(obj, path) {\r\n    var pathArr = path.split(\".\");\r\n    var i;\r\n    for (i = 0; i < pathArr.length - 1; i++) {\r\n        if (!obj[pathArr[i]]) {\r\n            return;\r\n        }\r\n        obj = obj[pathArr[i]];\r\n    }\r\n    delete obj[pathArr[i]];\r\n}\n\nvar GW3Bridge = (function () {\r\n    function GW3Bridge(config) {\r\n        var _this = this;\r\n        var _a;\r\n        this._contextNameToData = {};\r\n        this._gw3Subscriptions = [];\r\n        this._nextCallbackSubscriptionNumber = 0;\r\n        this._contextNameToId = {};\r\n        this._contextIdToName = {};\r\n        this._protocolVersion = undefined;\r\n        this._connection = config.connection;\r\n        this._logger = config.logger;\r\n        this._gw3Session = this._connection.domain(\"global\", [\r\n            GW_MESSAGE_CONTEXT_CREATED,\r\n            GW_MESSAGE_SUBSCRIBED_CONTEXT,\r\n            GW_MESSAGE_CONTEXT_DESTROYED,\r\n            GW_MESSAGE_CONTEXT_UPDATED,\r\n        ]);\r\n        this.subscribeToContextCreatedMessages();\r\n        this.subscribeToContextUpdatedMessages();\r\n        this.subscribeToContextDestroyedMessages();\r\n        (_a = this._connection.replayer) === null || _a === void 0 ? void 0 : _a.drain(ContextMessageReplaySpec.name, function (message) {\r\n            var type = message.type;\r\n            if (!type) {\r\n                return;\r\n            }\r\n            if (type === GW_MESSAGE_CONTEXT_CREATED ||\r\n                type === GW_MESSAGE_CONTEXT_ADDED ||\r\n                type === GW_MESSAGE_ACTIVITY_CREATED) {\r\n                _this.handleContextCreatedMessage(message);\r\n            }\r\n            else if (type === GW_MESSAGE_SUBSCRIBED_CONTEXT ||\r\n                type === GW_MESSAGE_CONTEXT_UPDATED ||\r\n                type === GW_MESSAGE_JOINED_ACTIVITY) {\r\n                _this.handleContextUpdatedMessage(message);\r\n            }\r\n            else if (type === GW_MESSAGE_CONTEXT_DESTROYED ||\r\n                type === GW_MESSAGE_ACTIVITY_DESTROYED) {\r\n                _this.handleContextDestroyedMessage(message);\r\n            }\r\n        });\r\n    }\r\n    Object.defineProperty(GW3Bridge.prototype, \"protocolVersion\", {\r\n        get: function () {\r\n            var _a;\r\n            if (!this._protocolVersion) {\r\n                var contextsDomainInfo = this._connection.availableDomains.find(function (d) { return d.uri === \"context\"; });\r\n                this._protocolVersion = (_a = contextsDomainInfo === null || contextsDomainInfo === void 0 ? void 0 : contextsDomainInfo.version) !== null && _a !== void 0 ? _a : 1;\r\n            }\r\n            return this._protocolVersion;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(GW3Bridge.prototype, \"setPathSupported\", {\r\n        get: function () {\r\n            return this.protocolVersion >= 2;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    GW3Bridge.prototype.dispose = function () {\r\n        for (var _i = 0, _a = this._gw3Subscriptions; _i < _a.length; _i++) {\r\n            var sub = _a[_i];\r\n            this._connection.off(sub);\r\n        }\r\n        this._gw3Subscriptions.length = 0;\r\n        for (var contextName in this._contextNameToData) {\r\n            if (this._contextNameToId.hasOwnProperty(contextName)) {\r\n                delete this._contextNameToData[contextName];\r\n            }\r\n        }\r\n    };\r\n    GW3Bridge.prototype.createContext = function (name, data) {\r\n        var _this = this;\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_CREATE_CONTEXT,\r\n            domain: \"global\",\r\n            name: name,\r\n            data: data,\r\n            lifetime: \"retained\",\r\n        })\r\n            .then(function (createContextMsg) {\r\n            _this._contextNameToId[name] = createContextMsg.context_id;\r\n            _this._contextIdToName[createContextMsg.context_id] = name;\r\n            var contextData = _this._contextNameToData[name] || new GW3ContextData(createContextMsg.context_id, name, true, undefined);\r\n            contextData.isAnnounced = true;\r\n            contextData.name = name;\r\n            contextData.contextId = createContextMsg.context_id;\r\n            contextData.context = data;\r\n            _this._contextNameToData[name] = contextData;\r\n            return createContextMsg.context_id;\r\n        });\r\n    };\r\n    GW3Bridge.prototype.all = function () {\r\n        var _this = this;\r\n        return Object.keys(this._contextNameToData)\r\n            .filter(function (name) { return _this._contextNameToData[name].isAnnounced; });\r\n    };\r\n    GW3Bridge.prototype.update = function (name, delta) {\r\n        var _a;\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var contextData, currentContext, calculatedDelta;\r\n            var _this = this;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        contextData = this._contextNameToData[name];\r\n                        if (!contextData || !contextData.isAnnounced) {\r\n                            return [2, this.createContext(name, delta)];\r\n                        }\r\n                        currentContext = contextData.context;\r\n                        if (!!contextData.hasCallbacks()) return [3, 2];\r\n                        return [4, this.get(contextData.name)];\r\n                    case 1:\r\n                        currentContext = _b.sent();\r\n                        _b.label = 2;\r\n                    case 2:\r\n                        calculatedDelta = this.protocolVersion === 2 ?\r\n                            this.calculateContextDeltaV2(currentContext, delta) :\r\n                            this.calculateContextDeltaV1(currentContext, delta);\r\n                        if (!Object.keys(calculatedDelta.added).length\r\n                            && !Object.keys(calculatedDelta.updated).length\r\n                            && !calculatedDelta.removed.length\r\n                            && !((_a = calculatedDelta.commands) === null || _a === void 0 ? void 0 : _a.length)) {\r\n                            return [2, Promise.resolve()];\r\n                        }\r\n                        return [2, this._gw3Session\r\n                                .send({\r\n                                type: GW_MESSAGE_UPDATE_CONTEXT,\r\n                                domain: \"global\",\r\n                                context_id: contextData.contextId,\r\n                                delta: calculatedDelta,\r\n                            }, {}, { skipPeerId: false })\r\n                                .then(function (gwResponse) {\r\n                                _this.handleUpdated(contextData, calculatedDelta, {\r\n                                    updaterId: gwResponse.peer_id\r\n                                });\r\n                            })];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    GW3Bridge.prototype.set = function (name, data) {\r\n        var _this = this;\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData || !contextData.isAnnounced) {\r\n            return this.createContext(name, data);\r\n        }\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_UPDATE_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n            delta: { reset: data },\r\n        }, {}, { skipPeerId: false })\r\n            .then(function (gwResponse) {\r\n            _this.handleUpdated(contextData, { reset: data, added: {}, removed: [], updated: {} }, { updaterId: gwResponse.peer_id });\r\n        });\r\n    };\r\n    GW3Bridge.prototype.setPath = function (name, path, value) {\r\n        if (!this.setPathSupported) {\r\n            return Promise.reject(\"glue.contexts.setPath operation is not supported, use Glue42 3.10 or later\");\r\n        }\r\n        return this.setPaths(name, [{ path: path, value: value }]);\r\n    };\r\n    GW3Bridge.prototype.setPaths = function (name, pathValues) {\r\n        var _this = this;\r\n        if (!this.setPathSupported) {\r\n            return Promise.reject(\"glue.contexts.setPaths operation is not supported, use Glue42 3.10 or later\");\r\n        }\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData || !contextData.isAnnounced) {\r\n            var obj = {};\r\n            for (var _i = 0, pathValues_1 = pathValues; _i < pathValues_1.length; _i++) {\r\n                var pathValue = pathValues_1[_i];\r\n                setValueToPath(obj, pathValue.value, pathValue.path);\r\n            }\r\n            return this.createContext(name, obj);\r\n        }\r\n        var commands = [];\r\n        for (var _a = 0, pathValues_2 = pathValues; _a < pathValues_2.length; _a++) {\r\n            var pathValue = pathValues_2[_a];\r\n            if (pathValue.value === null) {\r\n                commands.push({ type: \"remove\", path: pathValue.path });\r\n            }\r\n            else {\r\n                commands.push({ type: \"set\", path: pathValue.path, value: pathValue.value });\r\n            }\r\n        }\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_UPDATE_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n            delta: { commands: commands }\r\n        }, {}, { skipPeerId: false })\r\n            .then(function (gwResponse) {\r\n            _this.handleUpdated(contextData, { added: {}, removed: [], updated: {}, commands: commands }, { updaterId: gwResponse.peer_id });\r\n        });\r\n    };\r\n    GW3Bridge.prototype.get = function (name) {\r\n        var _this = this;\r\n        var _a;\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData || !contextData.isAnnounced) {\r\n            return Promise.resolve({});\r\n        }\r\n        if (contextData && !contextData.hasCallbacks()) {\r\n            return new Promise(function (resolve, _) { return __awaiter(_this, void 0, void 0, function () {\r\n                var _this = this;\r\n                return __generator(this, function (_a) {\r\n                    this.subscribe(name, function (data, _d, _r, un) {\r\n                        _this.unsubscribe(un);\r\n                        resolve(data);\r\n                    });\r\n                    return [2];\r\n                });\r\n            }); });\r\n        }\r\n        var context = (_a = contextData === null || contextData === void 0 ? void 0 : contextData.context) !== null && _a !== void 0 ? _a : {};\r\n        return Promise.resolve(context);\r\n    };\r\n    GW3Bridge.prototype.subscribe = function (name, callback) {\r\n        var thisCallbackSubscriptionNumber = this._nextCallbackSubscriptionNumber;\r\n        this._nextCallbackSubscriptionNumber += 1;\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData ||\r\n            !contextData.isAnnounced) {\r\n            contextData = contextData || new GW3ContextData(undefined, name, false, undefined);\r\n            this._contextNameToData[name] = contextData;\r\n            contextData.updateCallbacks[thisCallbackSubscriptionNumber] = callback;\r\n            return Promise.resolve(thisCallbackSubscriptionNumber);\r\n        }\r\n        var hadCallbacks = contextData.hasCallbacks();\r\n        contextData.updateCallbacks[thisCallbackSubscriptionNumber] = callback;\r\n        if (!hadCallbacks) {\r\n            if (!contextData.joinedActivity) {\r\n                if (contextData.context && contextData.sentExplicitSubscription) {\r\n                    var clone = deepClone(contextData.context);\r\n                    callback(clone, clone, [], thisCallbackSubscriptionNumber);\r\n                    return Promise.resolve(thisCallbackSubscriptionNumber);\r\n                }\r\n                return this.sendSubscribe(contextData)\r\n                    .then(function () { return thisCallbackSubscriptionNumber; });\r\n            }\r\n            else {\r\n                var clone = deepClone(contextData.context);\r\n                callback(clone, clone, [], thisCallbackSubscriptionNumber);\r\n                return Promise.resolve(thisCallbackSubscriptionNumber);\r\n            }\r\n        }\r\n        else {\r\n            var clone = deepClone(contextData.context);\r\n            callback(clone, clone, [], thisCallbackSubscriptionNumber);\r\n            return Promise.resolve(thisCallbackSubscriptionNumber);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.unsubscribe = function (subscriptionKey) {\r\n        for (var _i = 0, _a = Object.keys(this._contextNameToData); _i < _a.length; _i++) {\r\n            var name_1 = _a[_i];\r\n            var contextId = this._contextNameToId[name_1];\r\n            var contextData = this._contextNameToData[name_1];\r\n            if (!contextData) {\r\n                return;\r\n            }\r\n            var hadCallbacks = contextData.hasCallbacks();\r\n            delete contextData.updateCallbacks[subscriptionKey];\r\n            if (contextData.isAnnounced &&\r\n                hadCallbacks &&\r\n                !contextData.hasCallbacks() &&\r\n                contextData.sentExplicitSubscription) {\r\n                this.sendUnsubscribe(contextData);\r\n            }\r\n            if (!contextData.isAnnounced &&\r\n                !contextData.hasCallbacks()) {\r\n                delete this._contextNameToData[name_1];\r\n            }\r\n        }\r\n    };\r\n    GW3Bridge.prototype.destroy = function (name) {\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData) {\r\n            return Promise.reject(\"context with \" + name + \" does not exist\");\r\n        }\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_DESTROY_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n        }).then(function (_) { return undefined; });\r\n    };\r\n    GW3Bridge.prototype.handleUpdated = function (contextData, delta, extraData) {\r\n        var oldContext = contextData.context;\r\n        contextData.context = applyContextDelta(contextData.context, delta, this._logger);\r\n        if (this._contextNameToData[contextData.name] === contextData &&\r\n            !deepEqual(oldContext, contextData.context)) {\r\n            this.invokeUpdateCallbacks(contextData, delta, extraData);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.subscribeToContextCreatedMessages = function () {\r\n        var createdMessageTypes = [\r\n            GW_MESSAGE_CONTEXT_ADDED,\r\n            GW_MESSAGE_CONTEXT_CREATED,\r\n            GW_MESSAGE_ACTIVITY_CREATED,\r\n        ];\r\n        for (var _i = 0, createdMessageTypes_1 = createdMessageTypes; _i < createdMessageTypes_1.length; _i++) {\r\n            var createdMessageType = createdMessageTypes_1[_i];\r\n            var sub = this._connection.on(createdMessageType, this.handleContextCreatedMessage.bind(this));\r\n            this._gw3Subscriptions.push(sub);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.handleContextCreatedMessage = function (contextCreatedMsg) {\r\n        var createdMessageType = contextCreatedMsg.type;\r\n        if (createdMessageType === GW_MESSAGE_ACTIVITY_CREATED) {\r\n            this._contextNameToId[contextCreatedMsg.activity_id] = contextCreatedMsg.context_id;\r\n            this._contextIdToName[contextCreatedMsg.context_id] = contextCreatedMsg.activity_id;\r\n        }\r\n        else if (createdMessageType === GW_MESSAGE_CONTEXT_ADDED) {\r\n            this._contextNameToId[contextCreatedMsg.name] = contextCreatedMsg.context_id;\r\n            this._contextIdToName[contextCreatedMsg.context_id] = contextCreatedMsg.name;\r\n        }\r\n        else ;\r\n        var name = this._contextIdToName[contextCreatedMsg.context_id];\r\n        if (!name) {\r\n            throw new Error(\"Received created event for context with unknown name: \" + contextCreatedMsg.context_id);\r\n        }\r\n        if (!this._contextNameToId[name]) {\r\n            throw new Error(\"Received created event for context with unknown id: \" + contextCreatedMsg.context_id);\r\n        }\r\n        var contextData = this._contextNameToData[name];\r\n        if (contextData) {\r\n            if (contextData.isAnnounced) {\r\n                return;\r\n            }\r\n            else {\r\n                if (!contextData.hasCallbacks()) {\r\n                    throw new Error(\"Assertion failure: contextData.hasCallbacks()\");\r\n                }\r\n                contextData.isAnnounced = true;\r\n                contextData.contextId = contextCreatedMsg.context_id;\r\n                contextData.activityId = contextCreatedMsg.activity_id;\r\n                if (!contextData.sentExplicitSubscription) {\r\n                    this.sendSubscribe(contextData);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            this._contextNameToData[name] = contextData =\r\n                new GW3ContextData(contextCreatedMsg.context_id, name, true, contextCreatedMsg.activity_id);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.subscribeToContextUpdatedMessages = function () {\r\n        var updatedMessageTypes = [\r\n            GW_MESSAGE_CONTEXT_UPDATED,\r\n            GW_MESSAGE_SUBSCRIBED_CONTEXT,\r\n            GW_MESSAGE_JOINED_ACTIVITY,\r\n        ];\r\n        for (var _i = 0, updatedMessageTypes_1 = updatedMessageTypes; _i < updatedMessageTypes_1.length; _i++) {\r\n            var updatedMessageType = updatedMessageTypes_1[_i];\r\n            var sub = this._connection.on(updatedMessageType, this.handleContextUpdatedMessage.bind(this));\r\n            this._gw3Subscriptions.push(sub);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.handleContextUpdatedMessage = function (contextUpdatedMsg) {\r\n        var updatedMessageType = contextUpdatedMsg.type;\r\n        var contextId = contextUpdatedMsg.context_id;\r\n        var contextData = this._contextNameToData[this._contextIdToName[contextId]];\r\n        var justSeen = !contextData || !contextData.isAnnounced;\r\n        if (updatedMessageType === GW_MESSAGE_JOINED_ACTIVITY) {\r\n            if (!contextData) {\r\n                contextData = new GW3ContextData(contextId, contextUpdatedMsg.activity_id, true, contextUpdatedMsg.activity_id);\r\n                this._contextNameToData[contextUpdatedMsg.activity_id] = contextData;\r\n                this._contextIdToName[contextId] = contextUpdatedMsg.activity_id;\r\n                this._contextNameToId[contextUpdatedMsg.activity_id] = contextId;\r\n            }\r\n            else {\r\n                contextData.contextId = contextId;\r\n                contextData.isAnnounced = true;\r\n                contextData.activityId = contextUpdatedMsg.activity_id;\r\n            }\r\n            contextData.joinedActivity = true;\r\n        }\r\n        else {\r\n            if (!contextData || !contextData.isAnnounced) {\r\n                if (updatedMessageType === GW_MESSAGE_SUBSCRIBED_CONTEXT) {\r\n                    contextData = contextData || new GW3ContextData(contextId, contextUpdatedMsg.name, true, undefined);\r\n                    contextData.sentExplicitSubscription = true;\r\n                    this._contextNameToData[contextUpdatedMsg.name] = contextData;\r\n                    this._contextIdToName[contextId] = contextUpdatedMsg.name;\r\n                    this._contextNameToId[contextUpdatedMsg.name] = contextId;\r\n                }\r\n                else {\r\n                    this._logger.error(\"Received 'update' for unknown context: \" + contextId);\r\n                }\r\n                return;\r\n            }\r\n        }\r\n        var oldContext = contextData.context;\r\n        if (updatedMessageType === GW_MESSAGE_SUBSCRIBED_CONTEXT) {\r\n            contextData.context = contextUpdatedMsg.data || {};\r\n        }\r\n        else if (updatedMessageType === GW_MESSAGE_JOINED_ACTIVITY) {\r\n            contextData.context = contextUpdatedMsg.context_snapshot || {};\r\n        }\r\n        else if (updatedMessageType === GW_MESSAGE_CONTEXT_UPDATED) {\r\n            contextData.context = applyContextDelta(contextData.context, contextUpdatedMsg.delta, this._logger);\r\n        }\r\n        else {\r\n            throw new Error(\"Unrecognized context update message \" + updatedMessageType);\r\n        }\r\n        if (justSeen ||\r\n            !deepEqual(contextData.context, oldContext) ||\r\n            updatedMessageType === GW_MESSAGE_SUBSCRIBED_CONTEXT) {\r\n            this.invokeUpdateCallbacks(contextData, contextUpdatedMsg.delta, { updaterId: contextUpdatedMsg.updater_id });\r\n        }\r\n    };\r\n    GW3Bridge.prototype.invokeUpdateCallbacks = function (contextData, delta, extraData) {\r\n        delta = delta || { added: {}, updated: {}, reset: {}, removed: [] };\r\n        if (delta.commands) {\r\n            delta.added = delta.updated = delta.reset = {};\r\n            delta.removed = [];\r\n            for (var _i = 0, _a = delta.commands; _i < _a.length; _i++) {\r\n                var command = _a[_i];\r\n                if (command.type === \"remove\") {\r\n                    if (command.path.indexOf(\".\") === -1) {\r\n                        delta.removed.push(command.path);\r\n                    }\r\n                    setValueToPath(delta.updated, null, command.path);\r\n                }\r\n                else if (command.type === \"set\") {\r\n                    setValueToPath(delta.updated, command.value, command.path);\r\n                }\r\n            }\r\n        }\r\n        for (var updateCallbackIndex in contextData.updateCallbacks) {\r\n            if (contextData.updateCallbacks.hasOwnProperty(updateCallbackIndex)) {\r\n                try {\r\n                    var updateCallback = contextData.updateCallbacks[updateCallbackIndex];\r\n                    updateCallback(deepClone(contextData.context), Object.assign({}, delta.added || {}, delta.updated || {}, delta.reset || {}), delta.removed, parseInt(updateCallbackIndex, 10), extraData);\r\n                }\r\n                catch (err) {\r\n                    this._logger.debug(\"callback error: \" + JSON.stringify(err));\r\n                }\r\n            }\r\n        }\r\n    };\r\n    GW3Bridge.prototype.subscribeToContextDestroyedMessages = function () {\r\n        var destroyedMessageTypes = [\r\n            GW_MESSAGE_CONTEXT_DESTROYED,\r\n            GW_MESSAGE_ACTIVITY_DESTROYED,\r\n        ];\r\n        for (var _i = 0, destroyedMessageTypes_1 = destroyedMessageTypes; _i < destroyedMessageTypes_1.length; _i++) {\r\n            var destroyedMessageType = destroyedMessageTypes_1[_i];\r\n            var sub = this._connection.on(destroyedMessageType, this.handleContextDestroyedMessage.bind(this));\r\n            this._gw3Subscriptions.push(sub);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.handleContextDestroyedMessage = function (destroyedMsg) {\r\n        var destroyedMessageType = destroyedMsg.type;\r\n        var contextId;\r\n        var name;\r\n        if (destroyedMessageType === GW_MESSAGE_ACTIVITY_DESTROYED) {\r\n            name = destroyedMsg.activity_id;\r\n            contextId = this._contextNameToId[name];\r\n            if (!contextId) {\r\n                this._logger.error(\"Received 'destroyed' for unknown activity: \" + destroyedMsg.activity_id);\r\n                return;\r\n            }\r\n        }\r\n        else {\r\n            contextId = destroyedMsg.context_id;\r\n            name = this._contextIdToName[contextId];\r\n            if (!name) {\r\n                this._logger.error(\"Received 'destroyed' for unknown context: \" + destroyedMsg.context_id);\r\n                return;\r\n            }\r\n        }\r\n        delete this._contextIdToName[contextId];\r\n        delete this._contextNameToId[name];\r\n        var contextData = this._contextNameToData[name];\r\n        delete this._contextNameToData[name];\r\n        if (!contextData || !contextData.isAnnounced) {\r\n            this._logger.error(\"Received 'destroyed' for unknown context: \" + contextId);\r\n            return;\r\n        }\r\n    };\r\n    GW3Bridge.prototype.sendSubscribe = function (contextData) {\r\n        contextData.sentExplicitSubscription = true;\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_SUBSCRIBE_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n        }).then(function (_) { return undefined; });\r\n    };\r\n    GW3Bridge.prototype.sendUnsubscribe = function (contextData) {\r\n        contextData.sentExplicitSubscription = false;\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_UNSUBSCRIBE_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n        }).then(function (_) { return undefined; });\r\n    };\r\n    GW3Bridge.prototype.calculateContextDeltaV1 = function (from, to) {\r\n        var delta = { added: {}, updated: {}, removed: [], reset: undefined };\r\n        if (from) {\r\n            for (var _i = 0, _a = Object.keys(from); _i < _a.length; _i++) {\r\n                var x = _a[_i];\r\n                if (Object.keys(to).indexOf(x) !== -1\r\n                    && to[x] !== null\r\n                    && !deepEqual(from[x], to[x])) {\r\n                    delta.updated[x] = to[x];\r\n                }\r\n            }\r\n        }\r\n        for (var _b = 0, _c = Object.keys(to); _b < _c.length; _b++) {\r\n            var x = _c[_b];\r\n            if (!from || (Object.keys(from).indexOf(x) === -1)) {\r\n                if (to[x] !== null) {\r\n                    delta.added[x] = to[x];\r\n                }\r\n            }\r\n            else if (to[x] === null) {\r\n                delta.removed.push(x);\r\n            }\r\n        }\r\n        return delta;\r\n    };\r\n    GW3Bridge.prototype.calculateContextDeltaV2 = function (from, to) {\r\n        var _a, _b;\r\n        var delta = { added: {}, updated: {}, removed: [], reset: undefined, commands: [] };\r\n        for (var _i = 0, _c = Object.keys(to); _i < _c.length; _i++) {\r\n            var x = _c[_i];\r\n            if (to[x] !== null) {\r\n                var fromX = from ? from[x] : null;\r\n                if (!deepEqual(fromX, to[x])) {\r\n                    (_a = delta.commands) === null || _a === void 0 ? void 0 : _a.push({ type: \"set\", path: x, value: to[x] });\r\n                }\r\n            }\r\n            else {\r\n                (_b = delta.commands) === null || _b === void 0 ? void 0 : _b.push({ type: \"remove\", path: x });\r\n            }\r\n        }\r\n        return delta;\r\n    };\r\n    return GW3Bridge;\r\n}());\n\nvar ContextsModule = (function () {\r\n    function ContextsModule(config) {\r\n        this._bridge = new GW3Bridge(config);\r\n    }\r\n    ContextsModule.prototype.all = function () {\r\n        return this._bridge.all();\r\n    };\r\n    ContextsModule.prototype.update = function (name, data) {\r\n        this.checkName(name);\r\n        this.checkData(data);\r\n        return this._bridge.update(name, data);\r\n    };\r\n    ContextsModule.prototype.set = function (name, data) {\r\n        this.checkName(name);\r\n        this.checkData(data);\r\n        return this._bridge.set(name, data);\r\n    };\r\n    ContextsModule.prototype.setPath = function (name, path, data) {\r\n        this.checkName(name);\r\n        this.checkPath(path);\r\n        var isTopLevelPath = path === \"\";\r\n        if (isTopLevelPath) {\r\n            this.checkData(data);\r\n            return this.set(name, data);\r\n        }\r\n        return this._bridge.setPath(name, path, data);\r\n    };\r\n    ContextsModule.prototype.setPaths = function (name, paths) {\r\n        this.checkName(name);\r\n        if (!Array.isArray(paths)) {\r\n            throw new Error(\"Please provide the paths as an array of PathValues!\");\r\n        }\r\n        for (var _i = 0, paths_1 = paths; _i < paths_1.length; _i++) {\r\n            var _a = paths_1[_i], path = _a.path, value = _a.value;\r\n            this.checkPath(path);\r\n            var isTopLevelPath = path === \"\";\r\n            if (isTopLevelPath) {\r\n                this.checkData(value);\r\n            }\r\n        }\r\n        return this._bridge.setPaths(name, paths);\r\n    };\r\n    ContextsModule.prototype.subscribe = function (name, callback) {\r\n        var _this = this;\r\n        this.checkName(name);\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"Please provide the callback as a function!\");\r\n        }\r\n        return this._bridge\r\n            .subscribe(name, function (data, delta, removed, key, extraData) { return callback(data, delta, removed, function () { return _this._bridge.unsubscribe(key); }, extraData); })\r\n            .then(function (key) {\r\n            return function () {\r\n                _this._bridge.unsubscribe(key);\r\n            };\r\n        });\r\n    };\r\n    ContextsModule.prototype.get = function (name) {\r\n        this.checkName(name);\r\n        return this._bridge.get(name);\r\n    };\r\n    ContextsModule.prototype.ready = function () {\r\n        return Promise.resolve(this);\r\n    };\r\n    ContextsModule.prototype.destroy = function (name) {\r\n        this.checkName(name);\r\n        return this._bridge.destroy(name);\r\n    };\r\n    Object.defineProperty(ContextsModule.prototype, \"setPathSupported\", {\r\n        get: function () {\r\n            return this._bridge.setPathSupported;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ContextsModule.prototype.checkName = function (name) {\r\n        if (typeof name !== \"string\" || name === \"\") {\r\n            throw new Error(\"Please provide the name as a non-empty string!\");\r\n        }\r\n    };\r\n    ContextsModule.prototype.checkPath = function (path) {\r\n        if (typeof path !== \"string\") {\r\n            throw new Error(\"Please provide the path as a dot delimited string!\");\r\n        }\r\n    };\r\n    ContextsModule.prototype.checkData = function (data) {\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Please provide the data as an object!\");\r\n        }\r\n    };\r\n    return ContextsModule;\r\n}());\n\nfunction promisify (promise, successCallback, errorCallback) {\r\n    if (typeof successCallback !== \"function\" && typeof errorCallback !== \"function\") {\r\n        return promise;\r\n    }\r\n    if (typeof successCallback !== \"function\") {\r\n        successCallback = function () { };\r\n    }\r\n    else if (typeof errorCallback !== \"function\") {\r\n        errorCallback = function () { };\r\n    }\r\n    return promise.then(successCallback, errorCallback);\r\n}\n\nfunction rejectAfter(ms, promise, error) {\r\n    if (ms === void 0) { ms = 0; }\r\n    var timeout;\r\n    promise.finally(function () {\r\n        if (timeout) {\r\n            clearTimeout(timeout);\r\n        }\r\n    });\r\n    return new Promise(function (resolve, reject) {\r\n        timeout = setTimeout(function () { return reject(error); }, ms);\r\n    });\r\n}\n\nvar InvokeStatus;\r\n(function (InvokeStatus) {\r\n    InvokeStatus[InvokeStatus[\"Success\"] = 0] = \"Success\";\r\n    InvokeStatus[InvokeStatus[\"Error\"] = 1] = \"Error\";\r\n})(InvokeStatus || (InvokeStatus = {}));\r\nvar Client = (function () {\r\n    function Client(protocol, repo, instance, configuration) {\r\n        this.protocol = protocol;\r\n        this.repo = repo;\r\n        this.instance = instance;\r\n        this.configuration = configuration;\r\n    }\r\n    Client.prototype.subscribe = function (method, options, successCallback, errorCallback, existingSub) {\r\n        var _this = this;\r\n        var callProtocolSubscribe = function (targetServers, stream, successProxy, errorProxy) {\r\n            var _a;\r\n            options.methodResponseTimeout = (_a = options.methodResponseTimeout) !== null && _a !== void 0 ? _a : options.waitTimeoutMs;\r\n            _this.protocol.client.subscribe(stream, options, targetServers, successProxy, errorProxy, existingSub);\r\n        };\r\n        var promise = new Promise(function (resolve, reject) {\r\n            var successProxy = function (sub) {\r\n                resolve(sub);\r\n            };\r\n            var errorProxy = function (err) {\r\n                reject(err);\r\n            };\r\n            if (!method) {\r\n                reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n                return;\r\n            }\r\n            var methodDef;\r\n            if (typeof method === \"string\") {\r\n                methodDef = { name: method };\r\n            }\r\n            else {\r\n                methodDef = method;\r\n            }\r\n            if (!methodDef.name) {\r\n                reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n                return;\r\n            }\r\n            if (options === undefined) {\r\n                options = {};\r\n            }\r\n            var target = options.target;\r\n            if (target === undefined) {\r\n                target = \"best\";\r\n            }\r\n            if (typeof target === \"string\" && target !== \"all\" && target !== \"best\") {\r\n                reject(new Error(\"\\\"\" + target + \"\\\" is not a valid target. Valid targets are \\\"all\\\", \\\"best\\\", or an instance.\"));\r\n                return;\r\n            }\r\n            if (options.methodResponseTimeout === undefined) {\r\n                options.methodResponseTimeout = options.method_response_timeout;\r\n                if (options.methodResponseTimeout === undefined) {\r\n                    options.methodResponseTimeout = _this.configuration.methodResponseTimeout;\r\n                }\r\n            }\r\n            if (options.waitTimeoutMs === undefined) {\r\n                options.waitTimeoutMs = options.wait_for_method_timeout;\r\n                if (options.waitTimeoutMs === undefined) {\r\n                    options.waitTimeoutMs = _this.configuration.waitTimeoutMs;\r\n                }\r\n            }\r\n            var delayStep = 500;\r\n            var delayTillNow = 0;\r\n            var currentServers = _this.getServerMethodsByFilterAndTarget(methodDef, target);\r\n            if (currentServers.length > 0) {\r\n                callProtocolSubscribe(currentServers, currentServers[0].methods[0], successProxy, errorProxy);\r\n            }\r\n            else {\r\n                var retry_1 = function () {\r\n                    if (!target || !(options.waitTimeoutMs)) {\r\n                        return;\r\n                    }\r\n                    delayTillNow += delayStep;\r\n                    currentServers = _this.getServerMethodsByFilterAndTarget(methodDef, target);\r\n                    if (currentServers.length > 0) {\r\n                        var streamInfo = currentServers[0].methods[0];\r\n                        callProtocolSubscribe(currentServers, streamInfo, successProxy, errorProxy);\r\n                    }\r\n                    else if (delayTillNow >= options.waitTimeoutMs) {\r\n                        var def = typeof method === \"string\" ? { name: method } : method;\r\n                        callProtocolSubscribe(currentServers, def, successProxy, errorProxy);\r\n                    }\r\n                    else {\r\n                        setTimeout(retry_1, delayStep);\r\n                    }\r\n                };\r\n                setTimeout(retry_1, delayStep);\r\n            }\r\n        });\r\n        return promisify(promise, successCallback, errorCallback);\r\n    };\r\n    Client.prototype.servers = function (methodFilter) {\r\n        var filterCopy = methodFilter === undefined\r\n            ? undefined\r\n            : __assign({}, methodFilter);\r\n        return this.getServers(filterCopy).map(function (serverMethodMap) {\r\n            return serverMethodMap.server.instance;\r\n        });\r\n    };\r\n    Client.prototype.methods = function (methodFilter) {\r\n        if (typeof methodFilter === \"string\") {\r\n            methodFilter = { name: methodFilter };\r\n        }\r\n        else {\r\n            methodFilter = __assign({}, methodFilter);\r\n        }\r\n        return this.getMethods(methodFilter);\r\n    };\r\n    Client.prototype.methodsForInstance = function (instance) {\r\n        return this.getMethodsForInstance(instance);\r\n    };\r\n    Client.prototype.methodAdded = function (callback) {\r\n        return this.repo.onMethodAdded(callback);\r\n    };\r\n    Client.prototype.methodRemoved = function (callback) {\r\n        return this.repo.onMethodRemoved(callback);\r\n    };\r\n    Client.prototype.serverAdded = function (callback) {\r\n        return this.repo.onServerAdded(callback);\r\n    };\r\n    Client.prototype.serverRemoved = function (callback) {\r\n        return this.repo.onServerRemoved(function (server, reason) {\r\n            callback(server, reason);\r\n        });\r\n    };\r\n    Client.prototype.serverMethodAdded = function (callback) {\r\n        return this.repo.onServerMethodAdded(function (server, method) {\r\n            callback({ server: server, method: method });\r\n        });\r\n    };\r\n    Client.prototype.serverMethodRemoved = function (callback) {\r\n        return this.repo.onServerMethodRemoved(function (server, method) {\r\n            callback({ server: server, method: method });\r\n        });\r\n    };\r\n    Client.prototype.invoke = function (methodFilter, argumentObj, target, additionalOptions, success, error) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var getInvokePromise;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                getInvokePromise = function () { return __awaiter(_this, void 0, void 0, function () {\r\n                    var methodDefinition, serversMethodMap, err_1, method, errorObj, timeout, additionalOptionsCopy, invokePromises, invocationMessages, results, allRejected;\r\n                    var _this = this;\r\n                    var _a;\r\n                    return __generator(this, function (_b) {\r\n                        switch (_b.label) {\r\n                            case 0:\r\n                                if (typeof methodFilter === \"string\") {\r\n                                    methodDefinition = { name: methodFilter };\r\n                                }\r\n                                else {\r\n                                    methodDefinition = __assign({}, methodFilter);\r\n                                }\r\n                                if (!methodDefinition.name) {\r\n                                    return [2, Promise.reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\")];\r\n                                }\r\n                                if (!argumentObj) {\r\n                                    argumentObj = {};\r\n                                }\r\n                                if (!target) {\r\n                                    target = \"best\";\r\n                                }\r\n                                if (typeof target === \"string\" && target !== \"all\" && target !== \"best\" && target !== \"skipMine\") {\r\n                                    return [2, Promise.reject(new Error(\"\\\"\" + target + \"\\\" is not a valid target. Valid targets are \\\"all\\\" and \\\"best\\\".\"))];\r\n                                }\r\n                                if (!additionalOptions) {\r\n                                    additionalOptions = {};\r\n                                }\r\n                                if (additionalOptions.methodResponseTimeoutMs === undefined) {\r\n                                    additionalOptions.methodResponseTimeoutMs = additionalOptions.method_response_timeout;\r\n                                    if (additionalOptions.methodResponseTimeoutMs === undefined) {\r\n                                        additionalOptions.methodResponseTimeoutMs = this.configuration.methodResponseTimeout;\r\n                                    }\r\n                                }\r\n                                if (additionalOptions.waitTimeoutMs === undefined) {\r\n                                    additionalOptions.waitTimeoutMs = additionalOptions.wait_for_method_timeout;\r\n                                    if (additionalOptions.waitTimeoutMs === undefined) {\r\n                                        additionalOptions.waitTimeoutMs = this.configuration.waitTimeoutMs;\r\n                                    }\r\n                                }\r\n                                if (additionalOptions.waitTimeoutMs !== undefined && typeof additionalOptions.waitTimeoutMs !== \"number\") {\r\n                                    return [2, Promise.reject(new Error(\"\\\"\" + additionalOptions.waitTimeoutMs + \"\\\" is not a valid number for \\\"waitTimeoutMs\\\" \"))];\r\n                                }\r\n                                if (typeof argumentObj !== \"object\") {\r\n                                    return [2, Promise.reject(new Error(\"The method arguments must be an object. method: \" + methodDefinition.name))];\r\n                                }\r\n                                serversMethodMap = this.getServerMethodsByFilterAndTarget(methodDefinition, target);\r\n                                if (!(serversMethodMap.length === 0)) return [3, 4];\r\n                                _b.label = 1;\r\n                            case 1:\r\n                                _b.trys.push([1, 3, , 4]);\r\n                                return [4, this.tryToAwaitForMethods(methodDefinition, target, additionalOptions)];\r\n                            case 2:\r\n                                serversMethodMap = _b.sent();\r\n                                return [3, 4];\r\n                            case 3:\r\n                                err_1 = _b.sent();\r\n                                method = __assign(__assign({}, methodDefinition), { getServers: function () { return []; }, supportsStreaming: false, objectTypes: (_a = methodDefinition.objectTypes) !== null && _a !== void 0 ? _a : [] });\r\n                                errorObj = {\r\n                                    method: method,\r\n                                    called_with: argumentObj,\r\n                                    message: \"Can not find a method matching \" + JSON.stringify(methodFilter) + \" with server filter \" + JSON.stringify(target),\r\n                                    executed_by: undefined,\r\n                                    returned: undefined,\r\n                                    status: undefined,\r\n                                };\r\n                                return [2, Promise.reject(errorObj)];\r\n                            case 4:\r\n                                timeout = additionalOptions.methodResponseTimeoutMs;\r\n                                additionalOptionsCopy = additionalOptions;\r\n                                invokePromises = serversMethodMap.map(function (serversMethodPair) {\r\n                                    var invId = shortid();\r\n                                    var method = serversMethodPair.methods[0];\r\n                                    var server = serversMethodPair.server;\r\n                                    var invokePromise = _this.protocol.client.invoke(invId, method, argumentObj, server, additionalOptionsCopy);\r\n                                    return Promise.race([\r\n                                        invokePromise,\r\n                                        rejectAfter(timeout, invokePromise, {\r\n                                            invocationId: invId,\r\n                                            message: \"Invocation timeout (\" + timeout + \" ms) reached for method name: \" + (method === null || method === void 0 ? void 0 : method.name) + \", target instance: \" + JSON.stringify(server.instance) + \", options: \" + JSON.stringify(additionalOptionsCopy),\r\n                                            status: InvokeStatus.Error,\r\n                                        })\r\n                                    ]);\r\n                                });\r\n                                return [4, Promise.all(invokePromises)];\r\n                            case 5:\r\n                                invocationMessages = _b.sent();\r\n                                results = this.getInvocationResultObj(invocationMessages, methodDefinition, argumentObj);\r\n                                allRejected = invocationMessages.every(function (result) { return result.status === InvokeStatus.Error; });\r\n                                if (allRejected) {\r\n                                    return [2, Promise.reject(results)];\r\n                                }\r\n                                return [2, results];\r\n                        }\r\n                    });\r\n                }); };\r\n                return [2, promisify(getInvokePromise(), success, error)];\r\n            });\r\n        });\r\n    };\r\n    Client.prototype.getInvocationResultObj = function (invocationResults, method, calledWith) {\r\n        var all_return_values = invocationResults\r\n            .filter(function (invokeMessage) { return invokeMessage.status === InvokeStatus.Success; })\r\n            .reduce(function (allValues, currentValue) {\r\n            allValues = __spreadArrays(allValues, [\r\n                {\r\n                    executed_by: currentValue.instance,\r\n                    returned: currentValue.result,\r\n                    called_with: calledWith,\r\n                    method: method,\r\n                    message: currentValue.message,\r\n                    status: currentValue.status,\r\n                }\r\n            ]);\r\n            return allValues;\r\n        }, []);\r\n        var all_errors = invocationResults\r\n            .filter(function (invokeMessage) { return invokeMessage.status === InvokeStatus.Error; })\r\n            .reduce(function (allErrors, currError) {\r\n            allErrors = __spreadArrays(allErrors, [\r\n                {\r\n                    executed_by: currError.instance,\r\n                    called_with: calledWith,\r\n                    name: method.name,\r\n                    message: currError.message,\r\n                }\r\n            ]);\r\n            return allErrors;\r\n        }, []);\r\n        var invResult = invocationResults[0];\r\n        var result = {\r\n            method: method,\r\n            called_with: calledWith,\r\n            returned: invResult.result,\r\n            executed_by: invResult.instance,\r\n            all_return_values: all_return_values,\r\n            all_errors: all_errors,\r\n            message: invResult.message,\r\n            status: invResult.status\r\n        };\r\n        return result;\r\n    };\r\n    Client.prototype.tryToAwaitForMethods = function (methodDefinition, target, additionalOptions) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            if (additionalOptions.waitTimeoutMs === 0) {\r\n                reject();\r\n                return;\r\n            }\r\n            var delayStep = 500;\r\n            var delayTillNow = 0;\r\n            var retry = function () {\r\n                delayTillNow += delayStep;\r\n                var serversMethodMap = _this.getServerMethodsByFilterAndTarget(methodDefinition, target);\r\n                if (serversMethodMap.length > 0) {\r\n                    clearInterval(interval);\r\n                    resolve(serversMethodMap);\r\n                }\r\n                else if (delayTillNow >= (additionalOptions.waitTimeoutMs || 10000)) {\r\n                    clearInterval(interval);\r\n                    reject();\r\n                    return;\r\n                }\r\n            };\r\n            var interval = setInterval(retry, delayStep);\r\n        });\r\n    };\r\n    Client.prototype.filterByTarget = function (target, serverMethodMap) {\r\n        var _this = this;\r\n        if (typeof target === \"string\") {\r\n            if (target === \"all\") {\r\n                return __spreadArrays(serverMethodMap);\r\n            }\r\n            else if (target === \"best\") {\r\n                var localMachine = serverMethodMap\r\n                    .find(function (s) { return s.server.instance.isLocal; });\r\n                if (localMachine) {\r\n                    return [localMachine];\r\n                }\r\n                if (serverMethodMap[0] !== undefined) {\r\n                    return [serverMethodMap[0]];\r\n                }\r\n            }\r\n            else if (target === \"skipMine\") {\r\n                return serverMethodMap.filter(function (_a) {\r\n                    var server = _a.server;\r\n                    return server.instance.peerId !== _this.instance.peerId;\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            var targetArray = void 0;\r\n            if (!Array.isArray(target)) {\r\n                targetArray = [target];\r\n            }\r\n            else {\r\n                targetArray = target;\r\n            }\r\n            var allServersMatching = targetArray.reduce(function (matches, filter) {\r\n                var myMatches = serverMethodMap.filter(function (serverMethodPair) {\r\n                    return _this.instanceMatch(filter, serverMethodPair.server.instance);\r\n                });\r\n                return matches.concat(myMatches);\r\n            }, []);\r\n            return allServersMatching;\r\n        }\r\n        return [];\r\n    };\r\n    Client.prototype.instanceMatch = function (instanceFilter, instanceDefinition) {\r\n        return this.containsProps(instanceFilter, instanceDefinition);\r\n    };\r\n    Client.prototype.methodMatch = function (methodFilter, methodDefinition) {\r\n        return this.containsProps(methodFilter, methodDefinition);\r\n    };\r\n    Client.prototype.containsProps = function (filter, repoMethod) {\r\n        var filterProps = Object.keys(filter)\r\n            .filter(function (prop) {\r\n            return filter[prop] !== undefined\r\n                && typeof filter[prop] !== \"function\"\r\n                && prop !== \"object_types\"\r\n                && prop !== \"display_name\"\r\n                && prop !== \"id\"\r\n                && prop !== \"gatewayId\"\r\n                && prop !== \"identifier\"\r\n                && prop[0] !== \"_\";\r\n        });\r\n        return filterProps.reduce(function (isMatch, prop) {\r\n            var filterValue = filter[prop];\r\n            var repoMethodValue = repoMethod[prop];\r\n            if (prop === \"objectTypes\") {\r\n                var containsAllFromFilter = function (filterObjTypes, repoObjectTypes) {\r\n                    var objTypeToContains = filterObjTypes.reduce(function (object, objType) {\r\n                        object[objType] = false;\r\n                        return object;\r\n                    }, {});\r\n                    repoObjectTypes.forEach(function (repoObjType) {\r\n                        if (objTypeToContains[repoObjType] !== undefined) {\r\n                            objTypeToContains[repoObjType] = true;\r\n                        }\r\n                    });\r\n                    var filterIsFullfilled = function () { return Object.keys(objTypeToContains).reduce(function (isFullfiled, objType) {\r\n                        if (!objTypeToContains[objType]) {\r\n                            isFullfiled = false;\r\n                        }\r\n                        return isFullfiled;\r\n                    }, true); };\r\n                    return filterIsFullfilled();\r\n                };\r\n                if (filterValue.length > repoMethodValue.length\r\n                    || containsAllFromFilter(filterValue, repoMethodValue) === false) {\r\n                    isMatch = false;\r\n                }\r\n            }\r\n            else if (String(filterValue).toLowerCase() !== String(repoMethodValue).toLowerCase()) {\r\n                isMatch = false;\r\n            }\r\n            return isMatch;\r\n        }, true);\r\n    };\r\n    Client.prototype.getMethods = function (methodFilter) {\r\n        var _this = this;\r\n        if (methodFilter === undefined) {\r\n            return this.repo.getMethods();\r\n        }\r\n        var methods = this.repo.getMethods().filter(function (method) {\r\n            return _this.methodMatch(methodFilter, method);\r\n        });\r\n        return methods;\r\n    };\r\n    Client.prototype.getMethodsForInstance = function (instanceFilter) {\r\n        var _this = this;\r\n        var allServers = this.repo.getServers();\r\n        var matchingServers = allServers.filter(function (server) {\r\n            return _this.instanceMatch(instanceFilter, server.instance);\r\n        });\r\n        if (matchingServers.length === 0) {\r\n            return [];\r\n        }\r\n        var resultMethodsObject = {};\r\n        if (matchingServers.length === 1) {\r\n            resultMethodsObject = matchingServers[0].methods;\r\n        }\r\n        else {\r\n            matchingServers.forEach(function (server) {\r\n                Object.keys(server.methods).forEach(function (methodKey) {\r\n                    var method = server.methods[methodKey];\r\n                    resultMethodsObject[method.identifier] = method;\r\n                });\r\n            });\r\n        }\r\n        return Object.keys(resultMethodsObject)\r\n            .map(function (key) {\r\n            return resultMethodsObject[key];\r\n        });\r\n    };\r\n    Client.prototype.getServers = function (methodFilter) {\r\n        var _this = this;\r\n        var servers = this.repo.getServers();\r\n        if (methodFilter === undefined) {\r\n            return servers.map(function (server) {\r\n                return { server: server, methods: [] };\r\n            });\r\n        }\r\n        return servers.reduce(function (prev, current) {\r\n            var methodsForServer = _this.repo.getServerMethodsById(current.id);\r\n            var matchingMethods = methodsForServer.filter(function (method) {\r\n                return _this.methodMatch(methodFilter, method);\r\n            });\r\n            if (matchingMethods.length > 0) {\r\n                prev.push({ server: current, methods: matchingMethods });\r\n            }\r\n            return prev;\r\n        }, []);\r\n    };\r\n    Client.prototype.getServerMethodsByFilterAndTarget = function (methodFilter, target) {\r\n        var serversMethodMap = this.getServers(methodFilter);\r\n        return this.filterByTarget(target, serversMethodMap);\r\n    };\r\n    return Client;\r\n}());\n\nvar ServerSubscription = (function () {\r\n    function ServerSubscription(protocol, repoMethod, subscription) {\r\n        this.protocol = protocol;\r\n        this.repoMethod = repoMethod;\r\n        this.subscription = subscription;\r\n    }\r\n    Object.defineProperty(ServerSubscription.prototype, \"stream\", {\r\n        get: function () {\r\n            if (!this.repoMethod.stream) {\r\n                throw new Error(\"no stream\");\r\n            }\r\n            return this.repoMethod.stream;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ServerSubscription.prototype, \"arguments\", {\r\n        get: function () { return this.subscription.arguments || {}; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ServerSubscription.prototype, \"branchKey\", {\r\n        get: function () { return this.subscription.branchKey; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ServerSubscription.prototype, \"instance\", {\r\n        get: function () {\r\n            if (!this.subscription.instance) {\r\n                throw new Error(\"no instance\");\r\n            }\r\n            return this.subscription.instance;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ServerSubscription.prototype.close = function () {\r\n        this.protocol.server.closeSingleSubscription(this.repoMethod, this.subscription);\r\n    };\r\n    ServerSubscription.prototype.push = function (data) {\r\n        this.protocol.server.pushDataToSingle(this.repoMethod, this.subscription, data);\r\n    };\r\n    return ServerSubscription;\r\n}());\n\nvar Request = (function () {\r\n    function Request(protocol, repoMethod, requestContext) {\r\n        this.protocol = protocol;\r\n        this.repoMethod = repoMethod;\r\n        this.requestContext = requestContext;\r\n        this.arguments = requestContext.arguments;\r\n        this.instance = requestContext.instance;\r\n    }\r\n    Request.prototype.accept = function () {\r\n        this.protocol.server.acceptRequestOnBranch(this.requestContext, this.repoMethod, \"\");\r\n    };\r\n    Request.prototype.acceptOnBranch = function (branch) {\r\n        this.protocol.server.acceptRequestOnBranch(this.requestContext, this.repoMethod, branch);\r\n    };\r\n    Request.prototype.reject = function (reason) {\r\n        this.protocol.server.rejectRequest(this.requestContext, this.repoMethod, reason);\r\n    };\r\n    return Request;\r\n}());\n\nvar ServerStreaming = (function () {\r\n    function ServerStreaming(protocol, server) {\r\n        var _this = this;\r\n        this.protocol = protocol;\r\n        this.server = server;\r\n        protocol.server.onSubRequest(function (rc, rm) { return _this.handleSubRequest(rc, rm); });\r\n        protocol.server.onSubAdded(function (sub, rm) { return _this.handleSubAdded(sub, rm); });\r\n        protocol.server.onSubRemoved(function (sub, rm) { return _this.handleSubRemoved(sub, rm); });\r\n    }\r\n    ServerStreaming.prototype.handleSubRequest = function (requestContext, repoMethod) {\r\n        if (!(repoMethod &&\r\n            repoMethod.streamCallbacks &&\r\n            typeof repoMethod.streamCallbacks.subscriptionRequestHandler === \"function\")) {\r\n            return;\r\n        }\r\n        var request = new Request(this.protocol, repoMethod, requestContext);\r\n        repoMethod.streamCallbacks.subscriptionRequestHandler(request);\r\n    };\r\n    ServerStreaming.prototype.handleSubAdded = function (subscription, repoMethod) {\r\n        if (!(repoMethod &&\r\n            repoMethod.streamCallbacks &&\r\n            typeof repoMethod.streamCallbacks.subscriptionAddedHandler === \"function\")) {\r\n            return;\r\n        }\r\n        var sub = new ServerSubscription(this.protocol, repoMethod, subscription);\r\n        repoMethod.streamCallbacks.subscriptionAddedHandler(sub);\r\n    };\r\n    ServerStreaming.prototype.handleSubRemoved = function (subscription, repoMethod) {\r\n        if (!(repoMethod &&\r\n            repoMethod.streamCallbacks &&\r\n            typeof repoMethod.streamCallbacks.subscriptionRemovedHandler === \"function\")) {\r\n            return;\r\n        }\r\n        var sub = new ServerSubscription(this.protocol, repoMethod, subscription);\r\n        repoMethod.streamCallbacks.subscriptionRemovedHandler(sub);\r\n    };\r\n    return ServerStreaming;\r\n}());\n\nvar ServerBranch = (function () {\r\n    function ServerBranch(key, protocol, repoMethod) {\r\n        this.key = key;\r\n        this.protocol = protocol;\r\n        this.repoMethod = repoMethod;\r\n    }\r\n    ServerBranch.prototype.subscriptions = function () {\r\n        var _this = this;\r\n        var subList = this.protocol.server.getSubscriptionList(this.repoMethod, this.key);\r\n        return subList.map(function (sub) {\r\n            return new ServerSubscription(_this.protocol, _this.repoMethod, sub);\r\n        });\r\n    };\r\n    ServerBranch.prototype.close = function () {\r\n        this.protocol.server.closeAllSubscriptions(this.repoMethod, this.key);\r\n    };\r\n    ServerBranch.prototype.push = function (data) {\r\n        this.protocol.server.pushData(this.repoMethod, data, [this.key]);\r\n    };\r\n    return ServerBranch;\r\n}());\n\nvar ServerStream = (function () {\r\n    function ServerStream(_protocol, _repoMethod, _server) {\r\n        this._protocol = _protocol;\r\n        this._repoMethod = _repoMethod;\r\n        this._server = _server;\r\n        this.name = this._repoMethod.definition.name;\r\n    }\r\n    ServerStream.prototype.branches = function (key) {\r\n        var _this = this;\r\n        var bList = this._protocol.server.getBranchList(this._repoMethod);\r\n        if (key) {\r\n            if (bList.indexOf(key) > -1) {\r\n                return new ServerBranch(key, this._protocol, this._repoMethod);\r\n            }\r\n            return undefined;\r\n        }\r\n        else {\r\n            return bList.map(function (branchKey) {\r\n                return new ServerBranch(branchKey, _this._protocol, _this._repoMethod);\r\n            });\r\n        }\r\n    };\r\n    ServerStream.prototype.branch = function (key) {\r\n        return this.branches(key);\r\n    };\r\n    ServerStream.prototype.subscriptions = function () {\r\n        var _this = this;\r\n        var subList = this._protocol.server.getSubscriptionList(this._repoMethod);\r\n        return subList.map(function (sub) {\r\n            return new ServerSubscription(_this._protocol, _this._repoMethod, sub);\r\n        });\r\n    };\r\n    Object.defineProperty(ServerStream.prototype, \"definition\", {\r\n        get: function () {\r\n            var def2 = this._repoMethod.definition;\r\n            return {\r\n                accepts: def2.accepts,\r\n                description: def2.description,\r\n                displayName: def2.displayName,\r\n                name: def2.name,\r\n                objectTypes: def2.objectTypes,\r\n                returns: def2.returns,\r\n                supportsStreaming: def2.supportsStreaming,\r\n            };\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ServerStream.prototype.close = function () {\r\n        this._protocol.server.closeAllSubscriptions(this._repoMethod);\r\n        this._server.unregister(this._repoMethod.definition, true);\r\n    };\r\n    ServerStream.prototype.push = function (data, branches) {\r\n        if (typeof branches !== \"string\" && !Array.isArray(branches) && branches !== undefined) {\r\n            throw new Error(\"invalid branches should be string or string array\");\r\n        }\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Invalid arguments. Data must be an object.\");\r\n        }\r\n        this._protocol.server.pushData(this._repoMethod, data, branches);\r\n    };\r\n    ServerStream.prototype.updateRepoMethod = function (repoMethod) {\r\n        this._repoMethod = repoMethod;\r\n    };\r\n    return ServerStream;\r\n}());\n\nvar Server = (function () {\r\n    function Server(protocol, serverRepository) {\r\n        this.protocol = protocol;\r\n        this.serverRepository = serverRepository;\r\n        this.invocations = 0;\r\n        this.currentlyUnregistering = {};\r\n        this.streaming = new ServerStreaming(protocol, this);\r\n        this.protocol.server.onInvoked(this.onMethodInvoked.bind(this));\r\n    }\r\n    Server.prototype.createStream = function (streamDef, callbacks, successCallback, errorCallback, existingStream) {\r\n        var _this = this;\r\n        var promise = new Promise(function (resolve, reject) {\r\n            if (!streamDef) {\r\n                reject(\"The stream name must be unique! Please, provide either a unique string for a stream name to \\u201Cglue.interop.createStream()\\u201D or a \\u201CmethodDefinition\\u201D object with a unique \\u201Cname\\u201D property for the stream.\");\r\n                return;\r\n            }\r\n            var streamMethodDefinition;\r\n            if (typeof streamDef === \"string\") {\r\n                streamMethodDefinition = { name: \"\" + streamDef };\r\n            }\r\n            else {\r\n                streamMethodDefinition = __assign({}, streamDef);\r\n            }\r\n            if (!streamMethodDefinition.name) {\r\n                return reject(\"The \\u201Cname\\u201D property is required for the \\u201CstreamDefinition\\u201D object and must be unique. Stream definition: \" + JSON.stringify(streamMethodDefinition));\r\n            }\r\n            var nameAlreadyExists = _this.serverRepository.getList()\r\n                .some(function (serverMethod) { return serverMethod.definition.name === streamMethodDefinition.name; });\r\n            if (nameAlreadyExists) {\r\n                return reject(\"A stream with the name \\\"\" + streamMethodDefinition.name + \"\\\" already exists! Please, provide a unique name for the stream.\");\r\n            }\r\n            streamMethodDefinition.supportsStreaming = true;\r\n            if (!callbacks) {\r\n                callbacks = {};\r\n            }\r\n            if (typeof callbacks.subscriptionRequestHandler !== \"function\") {\r\n                callbacks.subscriptionRequestHandler = function (request) {\r\n                    request.accept();\r\n                };\r\n            }\r\n            var repoMethod = _this.serverRepository.add({\r\n                definition: streamMethodDefinition,\r\n                streamCallbacks: callbacks,\r\n                protocolState: {},\r\n            });\r\n            _this.protocol.server.createStream(repoMethod)\r\n                .then(function () {\r\n                var streamUserObject;\r\n                if (existingStream) {\r\n                    streamUserObject = existingStream;\r\n                    existingStream.updateRepoMethod(repoMethod);\r\n                }\r\n                else {\r\n                    streamUserObject = new ServerStream(_this.protocol, repoMethod, _this);\r\n                }\r\n                repoMethod.stream = streamUserObject;\r\n                resolve(streamUserObject);\r\n            })\r\n                .catch(function (err) {\r\n                if (repoMethod.repoId) {\r\n                    _this.serverRepository.remove(repoMethod.repoId);\r\n                }\r\n                reject(err);\r\n            });\r\n        });\r\n        return promisify(promise, successCallback, errorCallback);\r\n    };\r\n    Server.prototype.register = function (methodDefinition, callback) {\r\n        var _this = this;\r\n        if (!methodDefinition) {\r\n            return Promise.reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n        }\r\n        if (typeof callback !== \"function\") {\r\n            return Promise.reject(\"The second parameter must be a callback function. Method: \" + (typeof methodDefinition === \"string\" ? methodDefinition : methodDefinition.name));\r\n        }\r\n        var wrappedCallbackFunction = function (context, resultCallback) { return __awaiter(_this, void 0, void 0, function () {\r\n            var result, resultValue, e_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 4, , 5]);\r\n                        result = callback(context.args, context.instance);\r\n                        if (!(result && typeof result.then === \"function\")) return [3, 2];\r\n                        return [4, result];\r\n                    case 1:\r\n                        resultValue = _a.sent();\r\n                        resultCallback(undefined, resultValue);\r\n                        return [3, 3];\r\n                    case 2:\r\n                        resultCallback(undefined, result);\r\n                        _a.label = 3;\r\n                    case 3: return [3, 5];\r\n                    case 4:\r\n                        e_1 = _a.sent();\r\n                        if (!e_1) {\r\n                            e_1 = \"\";\r\n                        }\r\n                        resultCallback(e_1, e_1);\r\n                        return [3, 5];\r\n                    case 5: return [2];\r\n                }\r\n            });\r\n        }); };\r\n        wrappedCallbackFunction.userCallback = callback;\r\n        return this.registerCore(methodDefinition, wrappedCallbackFunction);\r\n    };\r\n    Server.prototype.registerAsync = function (methodDefinition, callback) {\r\n        if (!methodDefinition) {\r\n            return Promise.reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n        }\r\n        if (typeof callback !== \"function\") {\r\n            return Promise.reject(\"The second parameter must be a callback function. Method: \" + (typeof methodDefinition === \"string\" ? methodDefinition : methodDefinition.name));\r\n        }\r\n        var wrappedCallback = function (context, resultCallback) {\r\n            try {\r\n                var resultCalled_1 = false;\r\n                var success = function (result) {\r\n                    if (!resultCalled_1) {\r\n                        resultCallback(undefined, result);\r\n                    }\r\n                    resultCalled_1 = true;\r\n                };\r\n                var error = function (e) {\r\n                    if (!resultCalled_1) {\r\n                        if (!e) {\r\n                            e = \"\";\r\n                        }\r\n                        resultCallback(e, e);\r\n                    }\r\n                    resultCalled_1 = true;\r\n                };\r\n                var methodResult = callback(context.args, context.instance, success, error);\r\n                if (methodResult && typeof methodResult.then === \"function\") {\r\n                    methodResult\r\n                        .then(success)\r\n                        .catch(error);\r\n                }\r\n            }\r\n            catch (e) {\r\n                resultCallback(e, undefined);\r\n            }\r\n        };\r\n        wrappedCallback.userCallbackAsync = callback;\r\n        return this.registerCore(methodDefinition, wrappedCallback);\r\n    };\r\n    Server.prototype.unregister = function (methodFilter, forStream) {\r\n        if (forStream === void 0) { forStream = false; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var methodDefinition, methodToBeRemoved;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (methodFilter === undefined) {\r\n                            return [2, Promise.reject(\"Please, provide either a unique string for a name or an object containing a \\u201Cname\\u201D property.\")];\r\n                        }\r\n                        if (!(typeof methodFilter === \"function\")) return [3, 2];\r\n                        return [4, this.unregisterWithPredicate(methodFilter, forStream)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2];\r\n                    case 2:\r\n                        if (typeof methodFilter === \"string\") {\r\n                            methodDefinition = { name: methodFilter };\r\n                        }\r\n                        else {\r\n                            methodDefinition = methodFilter;\r\n                        }\r\n                        if (methodDefinition.name === undefined) {\r\n                            return [2, Promise.reject(\"Method name is required. Cannot find a method if the method name is undefined!\")];\r\n                        }\r\n                        methodToBeRemoved = this.serverRepository.getList().find(function (serverMethod) {\r\n                            return serverMethod.definition.name === methodDefinition.name\r\n                                && (serverMethod.definition.supportsStreaming || false) === forStream;\r\n                        });\r\n                        if (!methodToBeRemoved) {\r\n                            return [2, Promise.reject(\"Method with a name \\\"\" + methodDefinition.name + \"\\\" does not exist or is not registered by your application!\")];\r\n                        }\r\n                        return [4, this.removeMethodsOrStreams([methodToBeRemoved])];\r\n                    case 3:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Server.prototype.unregisterWithPredicate = function (filterPredicate, forStream) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var methodsOrStreamsToRemove;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        methodsOrStreamsToRemove = this.serverRepository.getList()\r\n                            .filter(function (sm) { return filterPredicate(sm.definition); })\r\n                            .filter(function (serverMethod) {\r\n                            return (serverMethod.definition.supportsStreaming || false) === forStream;\r\n                        });\r\n                        if (!methodsOrStreamsToRemove || methodsOrStreamsToRemove.length === 0) {\r\n                            return [2, Promise.reject(\"Could not find a \" + (forStream ? \"stream\" : \"method\") + \" matching the specified condition!\")];\r\n                        }\r\n                        return [4, this.removeMethodsOrStreams(methodsOrStreamsToRemove)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Server.prototype.removeMethodsOrStreams = function (methodsToRemove) {\r\n        var _this = this;\r\n        var methodUnregPromises = [];\r\n        methodsToRemove.forEach(function (method) {\r\n            var promise = _this.protocol.server.unregister(method)\r\n                .then(function () {\r\n                if (method.repoId) {\r\n                    _this.serverRepository.remove(method.repoId);\r\n                }\r\n            });\r\n            methodUnregPromises.push(promise);\r\n            _this.addAsCurrentlyUnregistering(method.definition.name, promise);\r\n        });\r\n        return Promise.all(methodUnregPromises);\r\n    };\r\n    Server.prototype.addAsCurrentlyUnregistering = function (methodName, promise) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var timeout;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                timeout = new Promise(function (resolve) { return setTimeout(resolve, 5000); });\r\n                this.currentlyUnregistering[methodName] = Promise.race([promise, timeout]).then(function () {\r\n                    delete _this.currentlyUnregistering[methodName];\r\n                });\r\n                return [2];\r\n            });\r\n        });\r\n    };\r\n    Server.prototype.registerCore = function (method, theFunction) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var methodDefinition, unregisterInProgress, nameAlreadyExists, repoMethod;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (typeof method === \"string\") {\r\n                            methodDefinition = { name: \"\" + method };\r\n                        }\r\n                        else {\r\n                            methodDefinition = __assign({}, method);\r\n                        }\r\n                        if (!methodDefinition.name) {\r\n                            return [2, Promise.reject(\"Please, provide a (unique) string value for the \\u201Cname\\u201D property in the \\u201CmethodDefinition\\u201D object: \" + JSON.stringify(method))];\r\n                        }\r\n                        unregisterInProgress = this.currentlyUnregistering[methodDefinition.name];\r\n                        if (!unregisterInProgress) return [3, 2];\r\n                        return [4, unregisterInProgress];\r\n                    case 1:\r\n                        _a.sent();\r\n                        _a.label = 2;\r\n                    case 2:\r\n                        nameAlreadyExists = this.serverRepository.getList()\r\n                            .some(function (serverMethod) { return serverMethod.definition.name === methodDefinition.name; });\r\n                        if (nameAlreadyExists) {\r\n                            return [2, Promise.reject(\"A method with the name \\\"\" + methodDefinition.name + \"\\\" already exists! Please, provide a unique name for the method.\")];\r\n                        }\r\n                        if (methodDefinition.supportsStreaming) {\r\n                            return [2, Promise.reject(\"When you create methods with \\u201Cglue.interop.register()\\u201D or \\u201Cglue.interop.registerAsync()\\u201D the property \\u201CsupportsStreaming\\u201D cannot be \\u201Ctrue\\u201D. If you want \\u201C\" + methodDefinition.name + \"\\u201D to be a stream, please use the \\u201Cglue.interop.createStream()\\u201D method.\")];\r\n                        }\r\n                        repoMethod = this.serverRepository.add({\r\n                            definition: methodDefinition,\r\n                            theFunction: theFunction,\r\n                            protocolState: {},\r\n                        });\r\n                        return [2, this.protocol.server.register(repoMethod)\r\n                                .catch(function (err) {\r\n                                if (repoMethod === null || repoMethod === void 0 ? void 0 : repoMethod.repoId) {\r\n                                    _this.serverRepository.remove(repoMethod.repoId);\r\n                                }\r\n                                throw err;\r\n                            })];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Server.prototype.onMethodInvoked = function (methodToExecute, invocationId, invocationArgs) {\r\n        var _this = this;\r\n        if (!methodToExecute || !methodToExecute.theFunction) {\r\n            return;\r\n        }\r\n        methodToExecute.theFunction(invocationArgs, function (err, result) {\r\n            if (err !== undefined && err !== null) {\r\n                if (err.message && typeof err.message === \"string\") {\r\n                    err = err.message;\r\n                }\r\n                else if (typeof err !== \"string\") {\r\n                    try {\r\n                        err = JSON.stringify(err);\r\n                    }\r\n                    catch (unStrException) {\r\n                        err = \"un-stringifyable error in onMethodInvoked! Top level prop names: \" + Object.keys(err);\r\n                    }\r\n                }\r\n            }\r\n            if (!result) {\r\n                result = {};\r\n            }\r\n            else if (typeof result !== \"object\" || Array.isArray(result)) {\r\n                result = { _value: result };\r\n            }\r\n            _this.protocol.server.methodInvocationResult(methodToExecute, invocationId, err, result);\r\n        });\r\n    };\r\n    return Server;\r\n}());\n\nvar InstanceWrapper = (function () {\r\n    function InstanceWrapper(instance, connection) {\r\n        var _this = this;\r\n        this.wrapped = {\r\n            getMethods: getMethods,\r\n            getStreams: getStreams,\r\n        };\r\n        if (instance) {\r\n            this.refreshWrappedObject(instance);\r\n        }\r\n        if (connection) {\r\n            connection.loggedIn(function () {\r\n                _this.refresh(connection);\r\n            });\r\n            this.refresh(connection);\r\n        }\r\n    }\r\n    InstanceWrapper.prototype.unwrap = function () {\r\n        return this.wrapped;\r\n    };\r\n    InstanceWrapper.prototype.refresh = function (connection) {\r\n        if (!connection) {\r\n            return;\r\n        }\r\n        var resolvedIdentity = connection === null || connection === void 0 ? void 0 : connection.resolvedIdentity;\r\n        var instance = Object.assign({}, resolvedIdentity !== null && resolvedIdentity !== void 0 ? resolvedIdentity : {}, { peerId: connection === null || connection === void 0 ? void 0 : connection.peerId });\r\n        this.refreshWrappedObject(instance);\r\n    };\r\n    InstanceWrapper.prototype.refreshWrappedObject = function (resolvedIdentity) {\r\n        var _a, _b, _c;\r\n        this.wrapped.user = resolvedIdentity.user;\r\n        this.wrapped.instance = resolvedIdentity.instance;\r\n        this.wrapped.application = (_a = resolvedIdentity.application) !== null && _a !== void 0 ? _a : shortid();\r\n        this.wrapped.applicationName = resolvedIdentity.applicationName;\r\n        this.wrapped.pid = (_c = (_b = resolvedIdentity.pid) !== null && _b !== void 0 ? _b : resolvedIdentity.process) !== null && _c !== void 0 ? _c : Math.floor(Math.random() * 10000000000);\r\n        this.wrapped.machine = resolvedIdentity.machine;\r\n        this.wrapped.environment = resolvedIdentity.environment;\r\n        this.wrapped.region = resolvedIdentity.region;\r\n        this.wrapped.windowId = resolvedIdentity.windowId;\r\n        this.wrapped.isLocal = true;\r\n        this.wrapped.api = resolvedIdentity.api;\r\n        this.wrapped.service = resolvedIdentity.service;\r\n        this.wrapped.peerId = resolvedIdentity.peerId;\r\n    };\r\n    return InstanceWrapper;\r\n}());\r\nfunction getMethods() {\r\n    var _a;\r\n    return (_a = InstanceWrapper.API) === null || _a === void 0 ? void 0 : _a.methodsForInstance(this);\r\n}\r\nfunction getStreams() {\r\n    var _a;\r\n    return (_a = InstanceWrapper.API) === null || _a === void 0 ? void 0 : _a.methodsForInstance(this).filter(function (m) { return m.supportsStreaming; });\r\n}\n\nvar ClientRepository = (function () {\r\n    function ClientRepository(logger) {\r\n        this.logger = logger;\r\n        this.servers = {};\r\n        this.methodsCount = {};\r\n        this.callbacks = lib();\r\n    }\r\n    ClientRepository.prototype.addServer = function (info, serverId) {\r\n        this.logger.debug(\"adding server \" + serverId);\r\n        var current = this.servers[serverId];\r\n        if (current) {\r\n            return current.id;\r\n        }\r\n        var wrapper = new InstanceWrapper(info);\r\n        var serverEntry = {\r\n            id: serverId,\r\n            methods: {},\r\n            instance: wrapper.unwrap(),\r\n            wrapper: wrapper,\r\n        };\r\n        this.servers[serverId] = serverEntry;\r\n        this.callbacks.execute(\"onServerAdded\", serverEntry.instance);\r\n        return serverId;\r\n    };\r\n    ClientRepository.prototype.removeServerById = function (id, reason) {\r\n        var _this = this;\r\n        var server = this.servers[id];\r\n        if (!server) {\r\n            this.logger.warn(\"not aware of server \" + id + \", my state \" + JSON.stringify(Object.keys(this.servers)));\r\n            return;\r\n        }\r\n        else {\r\n            this.logger.debug(\"removing server \" + id);\r\n        }\r\n        Object.keys(server.methods).forEach(function (methodId) {\r\n            _this.removeServerMethod(id, methodId);\r\n        });\r\n        delete this.servers[id];\r\n        this.callbacks.execute(\"onServerRemoved\", server.instance, reason);\r\n    };\r\n    ClientRepository.prototype.addServerMethod = function (serverId, method) {\r\n        var server = this.servers[serverId];\r\n        if (!server) {\r\n            throw new Error(\"server does not exists\");\r\n        }\r\n        if (server.methods[method.id]) {\r\n            return;\r\n        }\r\n        var identifier = this.createMethodIdentifier(method);\r\n        var that = this;\r\n        var methodDefinition = {\r\n            identifier: identifier,\r\n            gatewayId: method.id,\r\n            name: method.name,\r\n            displayName: method.display_name,\r\n            description: method.description,\r\n            version: method.version,\r\n            objectTypes: method.object_types || [],\r\n            accepts: method.input_signature,\r\n            returns: method.result_signature,\r\n            supportsStreaming: typeof method.flags !== \"undefined\" ? method.flags.streaming : false,\r\n            getServers: function () {\r\n                return that.getServersByMethod(identifier);\r\n            }\r\n        };\r\n        methodDefinition.object_types = methodDefinition.objectTypes;\r\n        methodDefinition.display_name = methodDefinition.displayName;\r\n        methodDefinition.version = methodDefinition.version;\r\n        server.methods[method.id] = methodDefinition;\r\n        if (!this.methodsCount[identifier]) {\r\n            this.methodsCount[identifier] = 0;\r\n            this.callbacks.execute(\"onMethodAdded\", methodDefinition);\r\n        }\r\n        this.methodsCount[identifier] = this.methodsCount[identifier] + 1;\r\n        this.callbacks.execute(\"onServerMethodAdded\", server.instance, methodDefinition);\r\n        return methodDefinition;\r\n    };\r\n    ClientRepository.prototype.removeServerMethod = function (serverId, methodId) {\r\n        var server = this.servers[serverId];\r\n        if (!server) {\r\n            throw new Error(\"server does not exists\");\r\n        }\r\n        var method = server.methods[methodId];\r\n        delete server.methods[methodId];\r\n        this.methodsCount[method.identifier] = this.methodsCount[method.identifier] - 1;\r\n        if (this.methodsCount[method.identifier] === 0) {\r\n            this.callbacks.execute(\"onMethodRemoved\", method);\r\n        }\r\n        this.callbacks.execute(\"onServerMethodRemoved\", server.instance, method);\r\n    };\r\n    ClientRepository.prototype.getMethods = function () {\r\n        var _this = this;\r\n        var allMethods = {};\r\n        Object.keys(this.servers).forEach(function (serverId) {\r\n            var server = _this.servers[serverId];\r\n            Object.keys(server.methods).forEach(function (methodId) {\r\n                var method = server.methods[methodId];\r\n                allMethods[method.identifier] = method;\r\n            });\r\n        });\r\n        var methodsAsArray = Object.keys(allMethods).map(function (id) {\r\n            return allMethods[id];\r\n        });\r\n        return methodsAsArray;\r\n    };\r\n    ClientRepository.prototype.getServers = function () {\r\n        var _this = this;\r\n        var allServers = [];\r\n        Object.keys(this.servers).forEach(function (serverId) {\r\n            var server = _this.servers[serverId];\r\n            allServers.push(server);\r\n        });\r\n        return allServers;\r\n    };\r\n    ClientRepository.prototype.getServerMethodsById = function (serverId) {\r\n        var server = this.servers[serverId];\r\n        return Object.keys(server.methods).map(function (id) {\r\n            return server.methods[id];\r\n        });\r\n    };\r\n    ClientRepository.prototype.onServerAdded = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onServerAdded\", callback);\r\n        var serversWithMethodsToReplay = this.getServers().map(function (s) { return s.instance; });\r\n        return this.returnUnsubWithDelayedReplay(unsubscribeFunc, serversWithMethodsToReplay, callback);\r\n    };\r\n    ClientRepository.prototype.onMethodAdded = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onMethodAdded\", callback);\r\n        var methodsToReplay = this.getMethods();\r\n        return this.returnUnsubWithDelayedReplay(unsubscribeFunc, methodsToReplay, callback);\r\n    };\r\n    ClientRepository.prototype.onServerMethodAdded = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onServerMethodAdded\", callback);\r\n        var unsubCalled = false;\r\n        var servers = this.getServers();\r\n        setTimeout(function () {\r\n            servers.forEach(function (server) {\r\n                var methods = server.methods;\r\n                Object.keys(methods).forEach(function (methodId) {\r\n                    if (!unsubCalled) {\r\n                        callback(server.instance, methods[methodId]);\r\n                    }\r\n                });\r\n            });\r\n        }, 0);\r\n        return function () {\r\n            unsubCalled = true;\r\n            unsubscribeFunc();\r\n        };\r\n    };\r\n    ClientRepository.prototype.onMethodRemoved = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onMethodRemoved\", callback);\r\n        return unsubscribeFunc;\r\n    };\r\n    ClientRepository.prototype.onServerRemoved = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onServerRemoved\", callback);\r\n        return unsubscribeFunc;\r\n    };\r\n    ClientRepository.prototype.onServerMethodRemoved = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onServerMethodRemoved\", callback);\r\n        return unsubscribeFunc;\r\n    };\r\n    ClientRepository.prototype.getServerById = function (id) {\r\n        return this.servers[id];\r\n    };\r\n    ClientRepository.prototype.reset = function () {\r\n        var _this = this;\r\n        Object.keys(this.servers).forEach(function (key) {\r\n            _this.removeServerById(key, \"reset\");\r\n        });\r\n        this.servers = {};\r\n        this.methodsCount = {};\r\n    };\r\n    ClientRepository.prototype.createMethodIdentifier = function (methodInfo) {\r\n        var accepts = methodInfo.input_signature !== undefined ? methodInfo.input_signature : \"\";\r\n        var returns = methodInfo.result_signature !== undefined ? methodInfo.result_signature : \"\";\r\n        return (methodInfo.name + accepts + returns).toLowerCase();\r\n    };\r\n    ClientRepository.prototype.getServersByMethod = function (identifier) {\r\n        var _this = this;\r\n        var allServers = [];\r\n        Object.keys(this.servers).forEach(function (serverId) {\r\n            var server = _this.servers[serverId];\r\n            Object.keys(server.methods).forEach(function (methodId) {\r\n                var methodInfo = server.methods[methodId];\r\n                if (methodInfo.identifier === identifier) {\r\n                    allServers.push(server.instance);\r\n                }\r\n            });\r\n        });\r\n        return allServers;\r\n    };\r\n    ClientRepository.prototype.returnUnsubWithDelayedReplay = function (unsubscribeFunc, collectionToReplay, callback) {\r\n        var unsubCalled = false;\r\n        setTimeout(function () {\r\n            collectionToReplay.forEach(function (item) {\r\n                if (!unsubCalled) {\r\n                    callback(item);\r\n                }\r\n            });\r\n        }, 0);\r\n        return function () {\r\n            unsubCalled = true;\r\n            unsubscribeFunc();\r\n        };\r\n    };\r\n    return ClientRepository;\r\n}());\n\nvar ServerRepository = (function () {\r\n    function ServerRepository() {\r\n        this.nextId = 0;\r\n        this.methods = [];\r\n    }\r\n    ServerRepository.prototype.add = function (method) {\r\n        method.repoId = String(this.nextId);\r\n        this.nextId += 1;\r\n        this.methods.push(method);\r\n        return method;\r\n    };\r\n    ServerRepository.prototype.remove = function (repoId) {\r\n        if (typeof repoId !== \"string\") {\r\n            return new TypeError(\"Expecting a string\");\r\n        }\r\n        this.methods = this.methods.filter(function (m) {\r\n            return m.repoId !== repoId;\r\n        });\r\n    };\r\n    ServerRepository.prototype.getById = function (id) {\r\n        if (typeof id !== \"string\") {\r\n            return undefined;\r\n        }\r\n        return this.methods.find(function (m) {\r\n            return m.repoId === id;\r\n        });\r\n    };\r\n    ServerRepository.prototype.getList = function () {\r\n        return this.methods.map(function (m) { return m; });\r\n    };\r\n    ServerRepository.prototype.length = function () {\r\n        return this.methods.length;\r\n    };\r\n    ServerRepository.prototype.reset = function () {\r\n        this.methods = [];\r\n    };\r\n    return ServerRepository;\r\n}());\n\nvar SUBSCRIPTION_REQUEST = \"onSubscriptionRequest\";\r\nvar SUBSCRIPTION_ADDED = \"onSubscriptionAdded\";\r\nvar SUBSCRIPTION_REMOVED = \"onSubscriptionRemoved\";\r\nvar ServerStreaming$1 = (function () {\r\n    function ServerStreaming(session, repository, serverRepository) {\r\n        var _this = this;\r\n        this.session = session;\r\n        this.repository = repository;\r\n        this.serverRepository = serverRepository;\r\n        this.ERR_URI_SUBSCRIPTION_FAILED = \"com.tick42.agm.errors.subscription.failure\";\r\n        this.callbacks = lib();\r\n        this.nextStreamId = 0;\r\n        session.on(\"add-interest\", function (msg) {\r\n            _this.handleAddInterest(msg);\r\n        });\r\n        session.on(\"remove-interest\", function (msg) {\r\n            _this.handleRemoveInterest(msg);\r\n        });\r\n    }\r\n    ServerStreaming.prototype.acceptRequestOnBranch = function (requestContext, streamingMethod, branch) {\r\n        if (typeof branch !== \"string\") {\r\n            branch = \"\";\r\n        }\r\n        if (typeof streamingMethod.protocolState.subscriptionsMap !== \"object\") {\r\n            throw new TypeError(\"The streaming method is missing its subscriptions.\");\r\n        }\r\n        if (!Array.isArray(streamingMethod.protocolState.branchKeyToStreamIdMap)) {\r\n            throw new TypeError(\"The streaming method is missing its branches.\");\r\n        }\r\n        var streamId = this.getStreamId(streamingMethod, branch);\r\n        var key = requestContext.msg.subscription_id;\r\n        var subscription = {\r\n            id: key,\r\n            arguments: requestContext.arguments,\r\n            instance: requestContext.instance,\r\n            branchKey: branch,\r\n            streamId: streamId,\r\n            subscribeMsg: requestContext.msg,\r\n        };\r\n        streamingMethod.protocolState.subscriptionsMap[key] = subscription;\r\n        this.session.sendFireAndForget({\r\n            type: \"accepted\",\r\n            subscription_id: key,\r\n            stream_id: streamId,\r\n        });\r\n        this.callbacks.execute(SUBSCRIPTION_ADDED, subscription, streamingMethod);\r\n    };\r\n    ServerStreaming.prototype.rejectRequest = function (requestContext, streamingMethod, reason) {\r\n        if (typeof reason !== \"string\") {\r\n            reason = \"\";\r\n        }\r\n        this.sendSubscriptionFailed(\"Subscription rejected by user. \" + reason, requestContext.msg.subscription_id);\r\n    };\r\n    ServerStreaming.prototype.pushData = function (streamingMethod, data, branches) {\r\n        var _this = this;\r\n        if (typeof streamingMethod !== \"object\" || !Array.isArray(streamingMethod.protocolState.branchKeyToStreamIdMap)) {\r\n            return;\r\n        }\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Invalid arguments. Data must be an object.\");\r\n        }\r\n        if (typeof branches === \"string\") {\r\n            branches = [branches];\r\n        }\r\n        else if (!Array.isArray(branches) || branches.length <= 0) {\r\n            branches = [];\r\n        }\r\n        var streamIdList = streamingMethod.protocolState.branchKeyToStreamIdMap\r\n            .filter(function (br) {\r\n            if (!branches || branches.length === 0) {\r\n                return true;\r\n            }\r\n            return branches.indexOf(br.key) >= 0;\r\n        }).map(function (br) {\r\n            return br.streamId;\r\n        });\r\n        streamIdList.forEach(function (streamId) {\r\n            var publishMessage = {\r\n                type: \"publish\",\r\n                stream_id: streamId,\r\n                data: data,\r\n            };\r\n            _this.session.sendFireAndForget(publishMessage);\r\n        });\r\n    };\r\n    ServerStreaming.prototype.pushDataToSingle = function (method, subscription, data) {\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Invalid arguments. Data must be an object.\");\r\n        }\r\n        var postMessage = {\r\n            type: \"post\",\r\n            subscription_id: subscription.id,\r\n            data: data,\r\n        };\r\n        this.session.sendFireAndForget(postMessage);\r\n    };\r\n    ServerStreaming.prototype.closeSingleSubscription = function (streamingMethod, subscription) {\r\n        if (streamingMethod.protocolState.subscriptionsMap) {\r\n            delete streamingMethod.protocolState.subscriptionsMap[subscription.id];\r\n        }\r\n        var dropSubscriptionMessage = {\r\n            type: \"drop-subscription\",\r\n            subscription_id: subscription.id,\r\n            reason: \"Server dropping a single subscription\",\r\n        };\r\n        this.session.sendFireAndForget(dropSubscriptionMessage);\r\n        var subscriber = subscription.instance;\r\n        this.callbacks.execute(SUBSCRIPTION_REMOVED, subscription, streamingMethod);\r\n    };\r\n    ServerStreaming.prototype.closeMultipleSubscriptions = function (streamingMethod, branchKey) {\r\n        var _this = this;\r\n        if (typeof streamingMethod !== \"object\" || typeof streamingMethod.protocolState.subscriptionsMap !== \"object\") {\r\n            return;\r\n        }\r\n        if (!streamingMethod.protocolState.subscriptionsMap) {\r\n            return;\r\n        }\r\n        var subscriptionsMap = streamingMethod.protocolState.subscriptionsMap;\r\n        var subscriptionsToClose = Object.keys(subscriptionsMap)\r\n            .map(function (key) {\r\n            return subscriptionsMap[key];\r\n        });\r\n        if (typeof branchKey === \"string\") {\r\n            subscriptionsToClose = subscriptionsToClose.filter(function (sub) {\r\n                return sub.branchKey === branchKey;\r\n            });\r\n        }\r\n        subscriptionsToClose.forEach(function (subscription) {\r\n            delete subscriptionsMap[subscription.id];\r\n            var drop = {\r\n                type: \"drop-subscription\",\r\n                subscription_id: subscription.id,\r\n                reason: \"Server dropping all subscriptions on stream_id: \" + subscription.streamId,\r\n            };\r\n            _this.session.sendFireAndForget(drop);\r\n        });\r\n    };\r\n    ServerStreaming.prototype.getSubscriptionList = function (streamingMethod, branchKey) {\r\n        if (typeof streamingMethod !== \"object\") {\r\n            return [];\r\n        }\r\n        var subscriptions = [];\r\n        if (!streamingMethod.protocolState.subscriptionsMap) {\r\n            return [];\r\n        }\r\n        var subscriptionsMap = streamingMethod.protocolState.subscriptionsMap;\r\n        var allSubscriptions = Object.keys(subscriptionsMap)\r\n            .map(function (key) {\r\n            return subscriptionsMap[key];\r\n        });\r\n        if (typeof branchKey !== \"string\") {\r\n            subscriptions = allSubscriptions;\r\n        }\r\n        else {\r\n            subscriptions = allSubscriptions.filter(function (sub) {\r\n                return sub.branchKey === branchKey;\r\n            });\r\n        }\r\n        return subscriptions;\r\n    };\r\n    ServerStreaming.prototype.getBranchList = function (streamingMethod) {\r\n        if (typeof streamingMethod !== \"object\") {\r\n            return [];\r\n        }\r\n        if (!streamingMethod.protocolState.subscriptionsMap) {\r\n            return [];\r\n        }\r\n        var subscriptionsMap = streamingMethod.protocolState.subscriptionsMap;\r\n        var allSubscriptions = Object.keys(subscriptionsMap)\r\n            .map(function (key) {\r\n            return subscriptionsMap[key];\r\n        });\r\n        var result = [];\r\n        allSubscriptions.forEach(function (sub) {\r\n            var branch = \"\";\r\n            if (typeof sub === \"object\" && typeof sub.branchKey === \"string\") {\r\n                branch = sub.branchKey;\r\n            }\r\n            if (result.indexOf(branch) === -1) {\r\n                result.push(branch);\r\n            }\r\n        });\r\n        return result;\r\n    };\r\n    ServerStreaming.prototype.onSubAdded = function (callback) {\r\n        this.onSubscriptionLifetimeEvent(SUBSCRIPTION_ADDED, callback);\r\n    };\r\n    ServerStreaming.prototype.onSubRequest = function (callback) {\r\n        this.onSubscriptionLifetimeEvent(SUBSCRIPTION_REQUEST, callback);\r\n    };\r\n    ServerStreaming.prototype.onSubRemoved = function (callback) {\r\n        this.onSubscriptionLifetimeEvent(SUBSCRIPTION_REMOVED, callback);\r\n    };\r\n    ServerStreaming.prototype.handleRemoveInterest = function (msg) {\r\n        var streamingMethod = this.serverRepository.getById(msg.method_id);\r\n        if (typeof msg.subscription_id !== \"string\" ||\r\n            typeof streamingMethod !== \"object\") {\r\n            return;\r\n        }\r\n        if (!streamingMethod.protocolState.subscriptionsMap) {\r\n            return;\r\n        }\r\n        if (typeof streamingMethod.protocolState.subscriptionsMap[msg.subscription_id] !== \"object\") {\r\n            return;\r\n        }\r\n        var subscription = streamingMethod.protocolState.subscriptionsMap[msg.subscription_id];\r\n        delete streamingMethod.protocolState.subscriptionsMap[msg.subscription_id];\r\n        this.callbacks.execute(SUBSCRIPTION_REMOVED, subscription, streamingMethod);\r\n    };\r\n    ServerStreaming.prototype.onSubscriptionLifetimeEvent = function (eventName, handlerFunc) {\r\n        this.callbacks.add(eventName, handlerFunc);\r\n    };\r\n    ServerStreaming.prototype.getNextStreamId = function () {\r\n        return this.nextStreamId++ + \"\";\r\n    };\r\n    ServerStreaming.prototype.handleAddInterest = function (msg) {\r\n        var caller = this.repository.getServerById(msg.caller_id);\r\n        var instance = caller.instance;\r\n        var requestContext = {\r\n            msg: msg,\r\n            arguments: msg.arguments_kv || {},\r\n            instance: instance,\r\n        };\r\n        var streamingMethod = this.serverRepository.getById(msg.method_id);\r\n        if (streamingMethod === undefined) {\r\n            var errorMsg = \"No method with id \" + msg.method_id + \" on this server.\";\r\n            this.sendSubscriptionFailed(errorMsg, msg.subscription_id);\r\n            return;\r\n        }\r\n        if (streamingMethod.protocolState.subscriptionsMap &&\r\n            streamingMethod.protocolState.subscriptionsMap[msg.subscription_id]) {\r\n            this.sendSubscriptionFailed(\"A subscription with id \" + msg.subscription_id + \" already exists.\", msg.subscription_id);\r\n            return;\r\n        }\r\n        this.callbacks.execute(SUBSCRIPTION_REQUEST, requestContext, streamingMethod);\r\n    };\r\n    ServerStreaming.prototype.sendSubscriptionFailed = function (reason, subscriptionId) {\r\n        var errorMessage = {\r\n            type: \"error\",\r\n            reason_uri: this.ERR_URI_SUBSCRIPTION_FAILED,\r\n            reason: reason,\r\n            request_id: subscriptionId,\r\n        };\r\n        this.session.sendFireAndForget(errorMessage);\r\n    };\r\n    ServerStreaming.prototype.getStreamId = function (streamingMethod, branchKey) {\r\n        if (typeof branchKey !== \"string\") {\r\n            branchKey = \"\";\r\n        }\r\n        if (!streamingMethod.protocolState.branchKeyToStreamIdMap) {\r\n            throw new Error(\"streaming \" + streamingMethod.definition.name + \" method without protocol state\");\r\n        }\r\n        var needleBranch = streamingMethod.protocolState.branchKeyToStreamIdMap.filter(function (branch) {\r\n            return branch.key === branchKey;\r\n        })[0];\r\n        var streamId = (needleBranch ? needleBranch.streamId : undefined);\r\n        if (typeof streamId !== \"string\" || streamId === \"\") {\r\n            streamId = this.getNextStreamId();\r\n            streamingMethod.protocolState.branchKeyToStreamIdMap.push({ key: branchKey, streamId: streamId });\r\n        }\r\n        return streamId;\r\n    };\r\n    return ServerStreaming;\r\n}());\n\nvar ServerProtocol = (function () {\r\n    function ServerProtocol(session, clientRepository, serverRepository, logger) {\r\n        var _this = this;\r\n        this.session = session;\r\n        this.clientRepository = clientRepository;\r\n        this.serverRepository = serverRepository;\r\n        this.logger = logger;\r\n        this.callbacks = lib();\r\n        this.streaming = new ServerStreaming$1(session, clientRepository, serverRepository);\r\n        this.session.on(\"invoke\", function (msg) { return _this.handleInvokeMessage(msg); });\r\n    }\r\n    ServerProtocol.prototype.createStream = function (repoMethod) {\r\n        repoMethod.protocolState.subscriptionsMap = {};\r\n        repoMethod.protocolState.branchKeyToStreamIdMap = [];\r\n        return this.register(repoMethod, true);\r\n    };\r\n    ServerProtocol.prototype.register = function (repoMethod, isStreaming) {\r\n        var _this = this;\r\n        var methodDef = repoMethod.definition;\r\n        var flags = { streaming: isStreaming || false };\r\n        var registerMsg = {\r\n            type: \"register\",\r\n            methods: [{\r\n                    id: repoMethod.repoId,\r\n                    name: methodDef.name,\r\n                    display_name: methodDef.displayName,\r\n                    description: methodDef.description,\r\n                    version: methodDef.version,\r\n                    flags: flags,\r\n                    object_types: methodDef.objectTypes || methodDef.object_types,\r\n                    input_signature: methodDef.accepts,\r\n                    result_signature: methodDef.returns,\r\n                    restrictions: undefined,\r\n                }],\r\n        };\r\n        return this.session.send(registerMsg, { methodId: repoMethod.repoId })\r\n            .then(function () {\r\n            _this.logger.debug(\"registered method \" + repoMethod.definition.name + \" with id \" + repoMethod.repoId);\r\n        })\r\n            .catch(function (msg) {\r\n            _this.logger.warn(\"failed to register method \" + repoMethod.definition.name + \" with id \" + repoMethod.repoId + \" - \" + JSON.stringify(msg));\r\n            throw msg;\r\n        });\r\n    };\r\n    ServerProtocol.prototype.onInvoked = function (callback) {\r\n        this.callbacks.add(\"onInvoked\", callback);\r\n    };\r\n    ServerProtocol.prototype.methodInvocationResult = function (method, invocationId, err, result) {\r\n        var msg;\r\n        if (err || err === \"\") {\r\n            msg = {\r\n                type: \"error\",\r\n                request_id: invocationId,\r\n                reason_uri: \"agm.errors.client_error\",\r\n                reason: err,\r\n                context: result,\r\n                peer_id: undefined,\r\n            };\r\n        }\r\n        else {\r\n            msg = {\r\n                type: \"yield\",\r\n                invocation_id: invocationId,\r\n                peer_id: this.session.peerId,\r\n                result: result,\r\n                request_id: undefined,\r\n            };\r\n        }\r\n        this.session.sendFireAndForget(msg);\r\n    };\r\n    ServerProtocol.prototype.unregister = function (method) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var msg;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        msg = {\r\n                            type: \"unregister\",\r\n                            methods: [method.repoId],\r\n                        };\r\n                        return [4, this.session.send(msg)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    ServerProtocol.prototype.getBranchList = function (method) {\r\n        return this.streaming.getBranchList(method);\r\n    };\r\n    ServerProtocol.prototype.getSubscriptionList = function (method, branchKey) {\r\n        return this.streaming.getSubscriptionList(method, branchKey);\r\n    };\r\n    ServerProtocol.prototype.closeAllSubscriptions = function (method, branchKey) {\r\n        this.streaming.closeMultipleSubscriptions(method, branchKey);\r\n    };\r\n    ServerProtocol.prototype.pushData = function (method, data, branches) {\r\n        this.streaming.pushData(method, data, branches);\r\n    };\r\n    ServerProtocol.prototype.pushDataToSingle = function (method, subscription, data) {\r\n        this.streaming.pushDataToSingle(method, subscription, data);\r\n    };\r\n    ServerProtocol.prototype.closeSingleSubscription = function (method, subscription) {\r\n        this.streaming.closeSingleSubscription(method, subscription);\r\n    };\r\n    ServerProtocol.prototype.acceptRequestOnBranch = function (requestContext, method, branch) {\r\n        this.streaming.acceptRequestOnBranch(requestContext, method, branch);\r\n    };\r\n    ServerProtocol.prototype.rejectRequest = function (requestContext, method, reason) {\r\n        this.streaming.rejectRequest(requestContext, method, reason);\r\n    };\r\n    ServerProtocol.prototype.onSubRequest = function (callback) {\r\n        this.streaming.onSubRequest(callback);\r\n    };\r\n    ServerProtocol.prototype.onSubAdded = function (callback) {\r\n        this.streaming.onSubAdded(callback);\r\n    };\r\n    ServerProtocol.prototype.onSubRemoved = function (callback) {\r\n        this.streaming.onSubRemoved(callback);\r\n    };\r\n    ServerProtocol.prototype.handleInvokeMessage = function (msg) {\r\n        var invocationId = msg.invocation_id;\r\n        var callerId = msg.caller_id;\r\n        var methodId = msg.method_id;\r\n        var args = msg.arguments_kv;\r\n        var methodList = this.serverRepository.getList();\r\n        var method = methodList.filter(function (m) {\r\n            return m.repoId === methodId;\r\n        })[0];\r\n        if (method === undefined) {\r\n            return;\r\n        }\r\n        var client = this.clientRepository.getServerById(callerId).instance;\r\n        var invocationArgs = { args: args, instance: client };\r\n        this.callbacks.execute(\"onInvoked\", method, invocationId, invocationArgs);\r\n    };\r\n    return ServerProtocol;\r\n}());\n\nvar UserSubscription = (function () {\r\n    function UserSubscription(repository, subscriptionData) {\r\n        this.repository = repository;\r\n        this.subscriptionData = subscriptionData;\r\n    }\r\n    Object.defineProperty(UserSubscription.prototype, \"requestArguments\", {\r\n        get: function () {\r\n            return this.subscriptionData.params.arguments || {};\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(UserSubscription.prototype, \"servers\", {\r\n        get: function () {\r\n            var _this = this;\r\n            return this.subscriptionData.trackedServers\r\n                .filter(function (pair) { return pair.subscriptionId; })\r\n                .map(function (pair) { return _this.repository.getServerById(pair.serverId).instance; });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(UserSubscription.prototype, \"serverInstance\", {\r\n        get: function () {\r\n            return this.servers[0];\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(UserSubscription.prototype, \"stream\", {\r\n        get: function () {\r\n            return this.subscriptionData.method;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    UserSubscription.prototype.onData = function (dataCallback) {\r\n        if (typeof dataCallback !== \"function\") {\r\n            throw new TypeError(\"The data callback must be a function.\");\r\n        }\r\n        this.subscriptionData.handlers.onData.push(dataCallback);\r\n        if (this.subscriptionData.handlers.onData.length === 1 && this.subscriptionData.queued.data.length > 0) {\r\n            this.subscriptionData.queued.data.forEach(function (dataItem) {\r\n                dataCallback(dataItem);\r\n            });\r\n        }\r\n    };\r\n    UserSubscription.prototype.onClosed = function (closedCallback) {\r\n        if (typeof closedCallback !== \"function\") {\r\n            throw new TypeError(\"The callback must be a function.\");\r\n        }\r\n        this.subscriptionData.handlers.onClosed.push(closedCallback);\r\n    };\r\n    UserSubscription.prototype.onFailed = function (callback) {\r\n    };\r\n    UserSubscription.prototype.onConnected = function (callback) {\r\n        if (typeof callback !== \"function\") {\r\n            throw new TypeError(\"The callback must be a function.\");\r\n        }\r\n        this.subscriptionData.handlers.onConnected.push(callback);\r\n    };\r\n    UserSubscription.prototype.close = function () {\r\n        this.subscriptionData.close();\r\n    };\r\n    UserSubscription.prototype.setNewSubscription = function (newSub) {\r\n        this.subscriptionData = newSub;\r\n    };\r\n    return UserSubscription;\r\n}());\n\nvar STATUS_AWAITING_ACCEPT = \"awaitingAccept\";\r\nvar STATUS_SUBSCRIBED = \"subscribed\";\r\nvar ERR_MSG_SUB_FAILED = \"Subscription failed.\";\r\nvar ERR_MSG_SUB_REJECTED = \"Subscription rejected.\";\r\nvar ON_CLOSE_MSG_SERVER_INIT = \"ServerInitiated\";\r\nvar ON_CLOSE_MSG_CLIENT_INIT = \"ClientInitiated\";\r\nvar ClientStreaming = (function () {\r\n    function ClientStreaming(session, repository, logger) {\r\n        var _this = this;\r\n        this.session = session;\r\n        this.repository = repository;\r\n        this.logger = logger;\r\n        this.subscriptionsList = {};\r\n        this.subscriptionIdToLocalKeyMap = {};\r\n        this.nextSubLocalKey = 0;\r\n        this.handleErrorSubscribing = function (errorResponse) {\r\n            var tag = errorResponse._tag;\r\n            var subLocalKey = tag.subLocalKey;\r\n            var pendingSub = _this.subscriptionsList[subLocalKey];\r\n            if (typeof pendingSub !== \"object\") {\r\n                return;\r\n            }\r\n            pendingSub.trackedServers = pendingSub.trackedServers.filter(function (server) {\r\n                return server.serverId !== tag.serverId;\r\n            });\r\n            if (pendingSub.trackedServers.length <= 0) {\r\n                clearTimeout(pendingSub.timeoutId);\r\n                if (pendingSub.status === STATUS_AWAITING_ACCEPT) {\r\n                    var reason = (typeof errorResponse.reason === \"string\" && errorResponse.reason !== \"\") ?\r\n                        ' Publisher said \"' + errorResponse.reason + '\".' :\r\n                        \" No reason given.\";\r\n                    var callArgs = typeof pendingSub.params.arguments === \"object\" ?\r\n                        JSON.stringify(pendingSub.params.arguments) :\r\n                        \"{}\";\r\n                    pendingSub.error({\r\n                        message: ERR_MSG_SUB_REJECTED + reason + \" Called with:\" + callArgs,\r\n                        called_with: pendingSub.params.arguments,\r\n                        method: pendingSub.method,\r\n                    });\r\n                }\r\n                else if (pendingSub.status === STATUS_SUBSCRIBED) {\r\n                    _this.callOnClosedHandlers(pendingSub);\r\n                }\r\n                delete _this.subscriptionsList[subLocalKey];\r\n            }\r\n        };\r\n        this.handleSubscribed = function (msg) {\r\n            var subLocalKey = msg._tag.subLocalKey;\r\n            var pendingSub = _this.subscriptionsList[subLocalKey];\r\n            if (typeof pendingSub !== \"object\") {\r\n                return;\r\n            }\r\n            var serverId = msg._tag.serverId;\r\n            var acceptingServer = pendingSub.trackedServers\r\n                .filter(function (server) {\r\n                return server.serverId === serverId;\r\n            })[0];\r\n            if (typeof acceptingServer !== \"object\") {\r\n                return;\r\n            }\r\n            acceptingServer.subscriptionId = msg.subscription_id;\r\n            _this.subscriptionIdToLocalKeyMap[msg.subscription_id] = subLocalKey;\r\n            var isFirstResponse = (pendingSub.status === STATUS_AWAITING_ACCEPT);\r\n            pendingSub.status = STATUS_SUBSCRIBED;\r\n            if (isFirstResponse) {\r\n                var reconnect = false;\r\n                var sub = pendingSub.subscription;\r\n                if (sub) {\r\n                    sub.setNewSubscription(pendingSub);\r\n                    pendingSub.success(sub);\r\n                    reconnect = true;\r\n                }\r\n                else {\r\n                    sub = new UserSubscription(_this.repository, pendingSub);\r\n                    pendingSub.subscription = sub;\r\n                    pendingSub.success(sub);\r\n                }\r\n                for (var _i = 0, _a = pendingSub.handlers.onConnected; _i < _a.length; _i++) {\r\n                    var handler = _a[_i];\r\n                    try {\r\n                        handler(sub.serverInstance, reconnect);\r\n                    }\r\n                    catch (e) {\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        this.handleEventData = function (msg) {\r\n            var subLocalKey = _this.subscriptionIdToLocalKeyMap[msg.subscription_id];\r\n            if (typeof subLocalKey === \"undefined\") {\r\n                return;\r\n            }\r\n            var subscription = _this.subscriptionsList[subLocalKey];\r\n            if (typeof subscription !== \"object\") {\r\n                return;\r\n            }\r\n            var trackedServersFound = subscription.trackedServers.filter(function (server) {\r\n                return server.subscriptionId === msg.subscription_id;\r\n            });\r\n            if (trackedServersFound.length !== 1) {\r\n                return;\r\n            }\r\n            var isPrivateData = msg.oob;\r\n            var sendingServerId = trackedServersFound[0].serverId;\r\n            var receivedStreamData = function () {\r\n                return {\r\n                    data: msg.data,\r\n                    server: _this.repository.getServerById(sendingServerId).instance,\r\n                    requestArguments: subscription.params.arguments,\r\n                    message: undefined,\r\n                    private: isPrivateData,\r\n                };\r\n            };\r\n            var onDataHandlers = subscription.handlers.onData;\r\n            var queuedData = subscription.queued.data;\r\n            if (onDataHandlers.length > 0) {\r\n                onDataHandlers.forEach(function (callback) {\r\n                    if (typeof callback === \"function\") {\r\n                        callback(receivedStreamData());\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                queuedData.push(receivedStreamData());\r\n            }\r\n        };\r\n        this.handleSubscriptionCancelled = function (msg) {\r\n            var subLocalKey = _this.subscriptionIdToLocalKeyMap[msg.subscription_id];\r\n            if (typeof subLocalKey === \"undefined\") {\r\n                return;\r\n            }\r\n            var subscription = _this.subscriptionsList[subLocalKey];\r\n            if (typeof subscription !== \"object\") {\r\n                return;\r\n            }\r\n            var expectedNewLength = subscription.trackedServers.length - 1;\r\n            subscription.trackedServers = subscription.trackedServers.filter(function (server) {\r\n                if (server.subscriptionId === msg.subscription_id) {\r\n                    subscription.queued.closers.push(server.serverId);\r\n                    return false;\r\n                }\r\n                else {\r\n                    return true;\r\n                }\r\n            });\r\n            if (subscription.trackedServers.length !== expectedNewLength) {\r\n                return;\r\n            }\r\n            if (subscription.trackedServers.length <= 0) {\r\n                clearTimeout(subscription.timeoutId);\r\n                _this.callOnClosedHandlers(subscription);\r\n                delete _this.subscriptionsList[subLocalKey];\r\n            }\r\n            delete _this.subscriptionIdToLocalKeyMap[msg.subscription_id];\r\n        };\r\n        session.on(\"subscribed\", this.handleSubscribed);\r\n        session.on(\"event\", this.handleEventData);\r\n        session.on(\"subscription-cancelled\", this.handleSubscriptionCancelled);\r\n    }\r\n    ClientStreaming.prototype.subscribe = function (streamingMethod, params, targetServers, success, error, existingSub) {\r\n        var _this = this;\r\n        if (targetServers.length === 0) {\r\n            error({\r\n                method: streamingMethod,\r\n                called_with: params.arguments,\r\n                message: ERR_MSG_SUB_FAILED + \" No available servers matched the target params.\",\r\n            });\r\n            return;\r\n        }\r\n        var subLocalKey = this.getNextSubscriptionLocalKey();\r\n        var pendingSub = this.registerSubscription(subLocalKey, streamingMethod, params, success, error, params.methodResponseTimeout || 10000, existingSub);\r\n        if (typeof pendingSub !== \"object\") {\r\n            error({\r\n                method: streamingMethod,\r\n                called_with: params.arguments,\r\n                message: ERR_MSG_SUB_FAILED + \" Unable to register the user callbacks.\",\r\n            });\r\n            return;\r\n        }\r\n        targetServers.forEach(function (target) {\r\n            var serverId = target.server.id;\r\n            var method = target.methods.find(function (m) { return m.name === streamingMethod.name; });\r\n            if (!method) {\r\n                _this.logger.error(\"can not find method \" + streamingMethod.name + \" for target \" + target.server.id);\r\n                return;\r\n            }\r\n            pendingSub.trackedServers.push({\r\n                serverId: serverId,\r\n                subscriptionId: undefined,\r\n            });\r\n            var msg = {\r\n                type: \"subscribe\",\r\n                server_id: serverId,\r\n                method_id: method.gatewayId,\r\n                arguments_kv: params.arguments,\r\n            };\r\n            _this.session.send(msg, { serverId: serverId, subLocalKey: subLocalKey })\r\n                .then(function (m) { return _this.handleSubscribed(m); })\r\n                .catch(function (err) { return _this.handleErrorSubscribing(err); });\r\n        });\r\n    };\r\n    ClientStreaming.prototype.drainSubscriptions = function () {\r\n        var existing = Object.values(this.subscriptionsList);\r\n        this.subscriptionsList = {};\r\n        this.subscriptionIdToLocalKeyMap = {};\r\n        return existing;\r\n    };\r\n    ClientStreaming.prototype.getNextSubscriptionLocalKey = function () {\r\n        var current = this.nextSubLocalKey;\r\n        this.nextSubLocalKey += 1;\r\n        return current;\r\n    };\r\n    ClientStreaming.prototype.registerSubscription = function (subLocalKey, method, params, success, error, timeout, existingSub) {\r\n        var _this = this;\r\n        var subsInfo = {\r\n            localKey: subLocalKey,\r\n            status: STATUS_AWAITING_ACCEPT,\r\n            method: method,\r\n            params: params,\r\n            success: success,\r\n            error: error,\r\n            trackedServers: [],\r\n            handlers: {\r\n                onData: (existingSub === null || existingSub === void 0 ? void 0 : existingSub.handlers.onData) || [],\r\n                onClosed: (existingSub === null || existingSub === void 0 ? void 0 : existingSub.handlers.onClosed) || [],\r\n                onConnected: (existingSub === null || existingSub === void 0 ? void 0 : existingSub.handlers.onConnected) || [],\r\n            },\r\n            queued: {\r\n                data: [],\r\n                closers: [],\r\n            },\r\n            timeoutId: undefined,\r\n            close: function () { return _this.closeSubscription(subLocalKey); },\r\n            subscription: existingSub === null || existingSub === void 0 ? void 0 : existingSub.subscription\r\n        };\r\n        if (!existingSub) {\r\n            if (params.onData) {\r\n                subsInfo.handlers.onData.push(params.onData);\r\n            }\r\n            if (params.onClosed) {\r\n                subsInfo.handlers.onClosed.push(params.onClosed);\r\n            }\r\n            if (params.onConnected) {\r\n                subsInfo.handlers.onConnected.push(params.onConnected);\r\n            }\r\n        }\r\n        this.subscriptionsList[subLocalKey] = subsInfo;\r\n        subsInfo.timeoutId = setTimeout(function () {\r\n            if (_this.subscriptionsList[subLocalKey] === undefined) {\r\n                return;\r\n            }\r\n            var pendingSub = _this.subscriptionsList[subLocalKey];\r\n            if (pendingSub.status === STATUS_AWAITING_ACCEPT) {\r\n                error({\r\n                    method: method,\r\n                    called_with: params.arguments,\r\n                    message: ERR_MSG_SUB_FAILED + \" Subscription attempt timed out after \" + timeout + \" ms.\",\r\n                });\r\n                delete _this.subscriptionsList[subLocalKey];\r\n            }\r\n            else if (pendingSub.status === STATUS_SUBSCRIBED && pendingSub.trackedServers.length > 0) {\r\n                pendingSub.trackedServers = pendingSub.trackedServers.filter(function (server) {\r\n                    return (typeof server.subscriptionId !== \"undefined\");\r\n                });\r\n                delete pendingSub.timeoutId;\r\n                if (pendingSub.trackedServers.length <= 0) {\r\n                    _this.callOnClosedHandlers(pendingSub);\r\n                    delete _this.subscriptionsList[subLocalKey];\r\n                }\r\n            }\r\n        }, timeout);\r\n        return subsInfo;\r\n    };\r\n    ClientStreaming.prototype.callOnClosedHandlers = function (subscription, reason) {\r\n        var closersCount = subscription.queued.closers.length;\r\n        var closingServerId = (closersCount > 0) ? subscription.queued.closers[closersCount - 1] : null;\r\n        var closingServer;\r\n        if (closingServerId !== undefined && typeof closingServerId === \"string\") {\r\n            closingServer = this.repository.getServerById(closingServerId).instance;\r\n        }\r\n        subscription.handlers.onClosed.forEach(function (callback) {\r\n            if (typeof callback !== \"function\") {\r\n                return;\r\n            }\r\n            callback({\r\n                message: reason || ON_CLOSE_MSG_SERVER_INIT,\r\n                requestArguments: subscription.params.arguments || {},\r\n                server: closingServer,\r\n                stream: subscription.method,\r\n            });\r\n        });\r\n    };\r\n    ClientStreaming.prototype.closeSubscription = function (subLocalKey) {\r\n        var _this = this;\r\n        var subscription = this.subscriptionsList[subLocalKey];\r\n        if (typeof subscription !== \"object\") {\r\n            return;\r\n        }\r\n        subscription.trackedServers.forEach(function (server) {\r\n            if (typeof server.subscriptionId === \"undefined\") {\r\n                return;\r\n            }\r\n            subscription.queued.closers.push(server.serverId);\r\n            _this.session.sendFireAndForget({\r\n                type: \"unsubscribe\",\r\n                subscription_id: server.subscriptionId,\r\n                reason_uri: \"\",\r\n                reason: ON_CLOSE_MSG_CLIENT_INIT,\r\n            });\r\n            delete _this.subscriptionIdToLocalKeyMap[server.subscriptionId];\r\n        });\r\n        subscription.trackedServers = [];\r\n        this.callOnClosedHandlers(subscription, ON_CLOSE_MSG_CLIENT_INIT);\r\n        delete this.subscriptionsList[subLocalKey];\r\n    };\r\n    return ClientStreaming;\r\n}());\n\nvar ClientProtocol = (function () {\r\n    function ClientProtocol(session, repository, logger) {\r\n        var _this = this;\r\n        this.session = session;\r\n        this.repository = repository;\r\n        this.logger = logger;\r\n        session.on(\"peer-added\", function (msg) { return _this.handlePeerAdded(msg); });\r\n        session.on(\"peer-removed\", function (msg) { return _this.handlePeerRemoved(msg); });\r\n        session.on(\"methods-added\", function (msg) { return _this.handleMethodsAddedMessage(msg); });\r\n        session.on(\"methods-removed\", function (msg) { return _this.handleMethodsRemovedMessage(msg); });\r\n        this.streaming = new ClientStreaming(session, repository, logger);\r\n    }\r\n    ClientProtocol.prototype.subscribe = function (stream, options, targetServers, success, error, existingSub) {\r\n        this.streaming.subscribe(stream, options, targetServers, success, error, existingSub);\r\n    };\r\n    ClientProtocol.prototype.invoke = function (id, method, args, target) {\r\n        var _this = this;\r\n        var serverId = target.id;\r\n        var methodId = method.gatewayId;\r\n        var msg = {\r\n            type: \"call\",\r\n            server_id: serverId,\r\n            method_id: methodId,\r\n            arguments_kv: args,\r\n        };\r\n        return this.session.send(msg, { invocationId: id, serverId: serverId })\r\n            .then(function (m) { return _this.handleResultMessage(m); })\r\n            .catch(function (err) { return _this.handleInvocationError(err); });\r\n    };\r\n    ClientProtocol.prototype.drainSubscriptions = function () {\r\n        return this.streaming.drainSubscriptions();\r\n    };\r\n    ClientProtocol.prototype.handlePeerAdded = function (msg) {\r\n        var newPeerId = msg.new_peer_id;\r\n        var remoteId = msg.identity;\r\n        var isLocal = msg.meta ? msg.meta.local : true;\r\n        var pid = Number(remoteId.process);\r\n        var serverInfo = {\r\n            machine: remoteId.machine,\r\n            pid: isNaN(pid) ? remoteId.process : pid,\r\n            instance: remoteId.instance,\r\n            application: remoteId.application,\r\n            applicationName: remoteId.applicationName,\r\n            environment: remoteId.environment,\r\n            region: remoteId.region,\r\n            user: remoteId.user,\r\n            windowId: remoteId.windowId,\r\n            peerId: newPeerId,\r\n            api: remoteId.api,\r\n            isLocal: isLocal\r\n        };\r\n        this.repository.addServer(serverInfo, newPeerId);\r\n    };\r\n    ClientProtocol.prototype.handlePeerRemoved = function (msg) {\r\n        var removedPeerId = msg.removed_id;\r\n        var reason = msg.reason;\r\n        this.repository.removeServerById(removedPeerId, reason);\r\n    };\r\n    ClientProtocol.prototype.handleMethodsAddedMessage = function (msg) {\r\n        var _this = this;\r\n        var serverId = msg.server_id;\r\n        var methods = msg.methods;\r\n        methods.forEach(function (method) {\r\n            _this.repository.addServerMethod(serverId, method);\r\n        });\r\n    };\r\n    ClientProtocol.prototype.handleMethodsRemovedMessage = function (msg) {\r\n        var _this = this;\r\n        var serverId = msg.server_id;\r\n        var methodIdList = msg.methods;\r\n        var server = this.repository.getServerById(serverId);\r\n        var serverMethodKeys = Object.keys(server.methods);\r\n        serverMethodKeys.forEach(function (methodKey) {\r\n            var method = server.methods[methodKey];\r\n            if (methodIdList.indexOf(method.gatewayId) > -1) {\r\n                _this.repository.removeServerMethod(serverId, methodKey);\r\n            }\r\n        });\r\n    };\r\n    ClientProtocol.prototype.handleResultMessage = function (msg) {\r\n        var invocationId = msg._tag.invocationId;\r\n        var result = msg.result;\r\n        var serverId = msg._tag.serverId;\r\n        var server = this.repository.getServerById(serverId);\r\n        return {\r\n            invocationId: invocationId,\r\n            result: result,\r\n            instance: server.instance,\r\n            status: InvokeStatus.Success,\r\n            message: \"\"\r\n        };\r\n    };\r\n    ClientProtocol.prototype.handleInvocationError = function (msg) {\r\n        this.logger.debug(\"handle invocation error \" + JSON.stringify(msg));\r\n        if (\"_tag\" in msg) {\r\n            var invocationId = msg._tag.invocationId;\r\n            var serverId = msg._tag.serverId;\r\n            var server = this.repository.getServerById(serverId);\r\n            var message = msg.reason;\r\n            var context_1 = msg.context;\r\n            return {\r\n                invocationId: invocationId,\r\n                result: context_1,\r\n                instance: server.instance,\r\n                status: InvokeStatus.Error,\r\n                message: message\r\n            };\r\n        }\r\n        else {\r\n            return {\r\n                invocationId: \"\",\r\n                message: msg.message,\r\n                status: InvokeStatus.Error,\r\n                error: msg\r\n            };\r\n        }\r\n    };\r\n    return ClientProtocol;\r\n}());\n\nfunction gW3ProtocolFactory (instance, connection, clientRepository, serverRepository, libConfig, interop) {\r\n    var logger = libConfig.logger.subLogger(\"gw3-protocol\");\r\n    var resolveReadyPromise;\r\n    var readyPromise = new Promise(function (resolve) {\r\n        resolveReadyPromise = resolve;\r\n    });\r\n    var session = connection.domain(\"agm\", [\"subscribed\"]);\r\n    var server = new ServerProtocol(session, clientRepository, serverRepository, logger.subLogger(\"server\"));\r\n    var client = new ClientProtocol(session, clientRepository, logger.subLogger(\"client\"));\r\n    function handleReconnect() {\r\n        logger.info(\"reconnected - will replay registered methods and subscriptions\");\r\n        var existingSubscriptions = client.drainSubscriptions();\r\n        for (var _i = 0, existingSubscriptions_1 = existingSubscriptions; _i < existingSubscriptions_1.length; _i++) {\r\n            var sub = existingSubscriptions_1[_i];\r\n            var methodInfo = sub.method;\r\n            var params = Object.assign({}, sub.params);\r\n            logger.info(\"trying to re-subscribe to method \" + methodInfo.name);\r\n            interop.client.subscribe(methodInfo, params, undefined, undefined, sub);\r\n        }\r\n        var registeredMethods = serverRepository.getList();\r\n        serverRepository.reset();\r\n        for (var _a = 0, registeredMethods_1 = registeredMethods; _a < registeredMethods_1.length; _a++) {\r\n            var method = registeredMethods_1[_a];\r\n            var def = method.definition;\r\n            logger.info(\"re-publishing method \" + def.name);\r\n            if (method.stream) {\r\n                interop.server.createStream(def, method.streamCallbacks, undefined, undefined, method.stream);\r\n            }\r\n            else if (method.theFunction && method.theFunction.userCallback) {\r\n                interop.register(def, method.theFunction.userCallback);\r\n            }\r\n            else if (method.theFunction && method.theFunction.userCallbackAsync) {\r\n                interop.registerAsync(def, method.theFunction.userCallbackAsync);\r\n            }\r\n        }\r\n    }\r\n    function handleInitialJoin() {\r\n        if (resolveReadyPromise) {\r\n            resolveReadyPromise({\r\n                client: client,\r\n                server: server,\r\n            });\r\n            resolveReadyPromise = undefined;\r\n        }\r\n    }\r\n    session.onJoined(function (reconnect) {\r\n        clientRepository.addServer(instance, connection.peerId);\r\n        if (reconnect) {\r\n            handleReconnect();\r\n        }\r\n        else {\r\n            handleInitialJoin();\r\n        }\r\n    });\r\n    session.onLeft(function () {\r\n        clientRepository.reset();\r\n    });\r\n    session.join();\r\n    return readyPromise;\r\n}\n\nvar Interop = (function () {\r\n    function Interop(configuration) {\r\n        var _this = this;\r\n        if (typeof configuration === \"undefined\") {\r\n            throw new Error(\"configuration is required\");\r\n        }\r\n        if (typeof configuration.connection === \"undefined\") {\r\n            throw new Error(\"configuration.connections is required\");\r\n        }\r\n        var connection = configuration.connection;\r\n        if (typeof configuration.methodResponseTimeout !== \"number\") {\r\n            configuration.methodResponseTimeout = 30 * 1000;\r\n        }\r\n        if (typeof configuration.waitTimeoutMs !== \"number\") {\r\n            configuration.waitTimeoutMs = 30 * 1000;\r\n        }\r\n        InstanceWrapper.API = this;\r\n        this.instance = new InstanceWrapper(undefined, connection).unwrap();\r\n        this.clientRepository = new ClientRepository(configuration.logger.subLogger(\"cRep\"));\r\n        this.serverRepository = new ServerRepository();\r\n        var protocolPromise;\r\n        if (connection.protocolVersion === 3) {\r\n            protocolPromise = gW3ProtocolFactory(this.instance, connection, this.clientRepository, this.serverRepository, configuration, this);\r\n        }\r\n        else {\r\n            throw new Error(\"protocol \" + connection.protocolVersion + \" not supported\");\r\n        }\r\n        this.readyPromise = protocolPromise.then(function (protocol) {\r\n            _this.protocol = protocol;\r\n            _this.client = new Client(_this.protocol, _this.clientRepository, _this.instance, configuration);\r\n            _this.server = new Server(_this.protocol, _this.serverRepository);\r\n            return _this;\r\n        });\r\n    }\r\n    Interop.prototype.ready = function () {\r\n        return this.readyPromise;\r\n    };\r\n    Interop.prototype.serverRemoved = function (callback) {\r\n        return this.client.serverRemoved(callback);\r\n    };\r\n    Interop.prototype.serverAdded = function (callback) {\r\n        return this.client.serverAdded(callback);\r\n    };\r\n    Interop.prototype.serverMethodRemoved = function (callback) {\r\n        return this.client.serverMethodRemoved(callback);\r\n    };\r\n    Interop.prototype.serverMethodAdded = function (callback) {\r\n        return this.client.serverMethodAdded(callback);\r\n    };\r\n    Interop.prototype.methodRemoved = function (callback) {\r\n        return this.client.methodRemoved(callback);\r\n    };\r\n    Interop.prototype.methodAdded = function (callback) {\r\n        return this.client.methodAdded(callback);\r\n    };\r\n    Interop.prototype.methodsForInstance = function (instance) {\r\n        return this.client.methodsForInstance(instance);\r\n    };\r\n    Interop.prototype.methods = function (methodFilter) {\r\n        return this.client.methods(methodFilter);\r\n    };\r\n    Interop.prototype.servers = function (methodFilter) {\r\n        return this.client.servers(methodFilter);\r\n    };\r\n    Interop.prototype.subscribe = function (method, options, successCallback, errorCallback) {\r\n        return this.client.subscribe(method, options, successCallback, errorCallback);\r\n    };\r\n    Interop.prototype.createStream = function (streamDef, callbacks, successCallback, errorCallback) {\r\n        return this.server.createStream(streamDef, callbacks, successCallback, errorCallback);\r\n    };\r\n    Interop.prototype.unregister = function (methodFilter) {\r\n        return this.server.unregister(methodFilter);\r\n    };\r\n    Interop.prototype.registerAsync = function (methodDefinition, callback) {\r\n        return this.server.registerAsync(methodDefinition, callback);\r\n    };\r\n    Interop.prototype.register = function (methodDefinition, callback) {\r\n        return this.server.register(methodDefinition, callback);\r\n    };\r\n    Interop.prototype.invoke = function (methodFilter, argumentObj, target, additionalOptions, success, error) {\r\n        return this.client.invoke(methodFilter, argumentObj, target, additionalOptions, success, error);\r\n    };\r\n    return Interop;\r\n}());\n\nvar successMessages = [\"subscribed\", \"success\"];\r\nvar MessageBus = (function () {\r\n    function MessageBus(connection, logger) {\r\n        var _this = this;\r\n        this.publish = function (topic, data, options) {\r\n            var _a = options || {}, routingKey = _a.routingKey, target = _a.target;\r\n            var args = _this.removeEmptyValues({\r\n                type: \"publish\",\r\n                topic: topic,\r\n                data: data,\r\n                peer_id: _this.peerId,\r\n                routing_key: routingKey,\r\n                target_identity: target\r\n            });\r\n            _this.session.send(args);\r\n        };\r\n        this.subscribe = function (topic, callback, options) {\r\n            return new Promise(function (resolve, reject) {\r\n                var _a = options || {}, routingKey = _a.routingKey, target = _a.target;\r\n                var args = _this.removeEmptyValues({\r\n                    type: \"subscribe\",\r\n                    topic: topic,\r\n                    peer_id: _this.peerId,\r\n                    routing_key: routingKey,\r\n                    source: target\r\n                });\r\n                _this.session.send(args)\r\n                    .then(function (response) {\r\n                    var subscription_id = response.subscription_id;\r\n                    _this.subscriptions.push({ subscription_id: subscription_id, topic: topic, callback: callback, source: target });\r\n                    resolve({\r\n                        unsubscribe: function () {\r\n                            _this.session.send({ type: \"unsubscribe\", subscription_id: subscription_id, peer_id: _this.peerId });\r\n                            _this.subscriptions = _this.subscriptions.filter(function (s) { return s.subscription_id !== subscription_id; });\r\n                            return Promise.resolve();\r\n                        }\r\n                    });\r\n                })\r\n                    .catch(function (error) { return reject(error); });\r\n            });\r\n        };\r\n        this.watchOnEvent = function () {\r\n            _this.session.on(\"event\", function (args) {\r\n                var data = args.data, subscription_id = args.subscription_id;\r\n                var source = args[\"publisher-identity\"];\r\n                var subscription = _this.subscriptions.find(function (s) { return s.subscription_id === subscription_id; });\r\n                if (subscription) {\r\n                    if (!subscription.source) {\r\n                        subscription.callback(data, subscription.topic, source);\r\n                    }\r\n                    else {\r\n                        if (_this.keysMatch(subscription.source, source)) {\r\n                            subscription.callback(data, subscription.topic, source);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        };\r\n        this.connection = connection;\r\n        this.logger = logger;\r\n        this.peerId = connection.peerId;\r\n        this.subscriptions = [];\r\n        this.session = connection.domain(\"bus\", successMessages);\r\n        this.readyPromise = this.session.join();\r\n        this.readyPromise.then(function () {\r\n            _this.watchOnEvent();\r\n        });\r\n    }\r\n    MessageBus.prototype.ready = function () {\r\n        return this.readyPromise;\r\n    };\r\n    MessageBus.prototype.removeEmptyValues = function (obj) {\r\n        var cleaned = {};\r\n        Object.keys(obj).forEach(function (key) {\r\n            if (obj[key] !== undefined && obj[key] !== null) {\r\n                cleaned[key] = obj[key];\r\n            }\r\n        });\r\n        return cleaned;\r\n    };\r\n    MessageBus.prototype.keysMatch = function (obj1, obj2) {\r\n        var keysObj1 = Object.keys(obj1);\r\n        var allMatch = true;\r\n        keysObj1.forEach(function (key) {\r\n            if (obj1[key] !== obj2[key]) {\r\n                allMatch = false;\r\n            }\r\n        });\r\n        return allMatch;\r\n    };\r\n    return MessageBus;\r\n}());\n\nvar GlueCore = function (userConfig, ext) {\r\n    var gdVersion = Utils.getGDMajorVersion();\r\n    var glue42gd;\r\n    var preloadPromise = Promise.resolve();\r\n    if (gdVersion) {\r\n        if (gdVersion < 3) {\r\n            throw new Error(\"GD v2 is not supported. Use v4 of the API to run in that context.\");\r\n        }\r\n        else if (gdVersion >= 3) {\r\n            glue42gd = window.glue42gd;\r\n            preloadPromise = window.gdPreloadPromise || preloadPromise;\r\n        }\r\n    }\r\n    var glueInitTimer = timer(\"glue\");\r\n    userConfig = userConfig || {};\r\n    ext = ext || {};\r\n    var internalConfig = prepareConfig(userConfig, ext, glue42gd);\r\n    var _connection;\r\n    var _interop;\r\n    var _logger;\r\n    var _metrics;\r\n    var _contexts;\r\n    var _bus;\r\n    var _allowTrace;\r\n    var libs = {};\r\n    function registerLib(name, inner, t) {\r\n        _allowTrace = _logger.canPublish(\"trace\");\r\n        if (_allowTrace) {\r\n            _logger.trace(\"registering \" + name + \" module\");\r\n        }\r\n        var done = function () {\r\n            inner.initTime = t.stop();\r\n            inner.initEndTime = t.endTime;\r\n            inner.marks = t.marks;\r\n            if (_allowTrace) {\r\n                _logger.trace(name + \" is ready - \" + (t.endTime - t.startTime));\r\n            }\r\n        };\r\n        inner.initStartTime = t.startTime;\r\n        if (inner.ready) {\r\n            inner.ready().then(function () {\r\n                done();\r\n            });\r\n        }\r\n        else {\r\n            done();\r\n        }\r\n        if (!Array.isArray(name)) {\r\n            name = [name];\r\n        }\r\n        name.forEach(function (n) {\r\n            libs[n] = inner;\r\n            GlueCore[n] = inner;\r\n        });\r\n    }\r\n    function setupConnection() {\r\n        var initTimer = timer(\"connection\");\r\n        _connection = new Connection(internalConfig.connection, _logger.subLogger(\"connection\"));\r\n        var authPromise = Promise.resolve(internalConfig.auth);\r\n        if (internalConfig.connection && !internalConfig.auth) {\r\n            if (glue42gd) {\r\n                authPromise = glue42gd.getGWToken()\r\n                    .then(function (token) {\r\n                    return {\r\n                        gatewayToken: token\r\n                    };\r\n                });\r\n            }\r\n            else {\r\n                authPromise = Promise.reject(\"You need to provide auth information\");\r\n            }\r\n        }\r\n        return authPromise\r\n            .then(function (authConfig) {\r\n            initTimer.mark(\"auth-promise-resolved\");\r\n            var authRequest;\r\n            if (Object.prototype.toString.call(authConfig) === \"[object Object]\") {\r\n                authRequest = authConfig;\r\n            }\r\n            else {\r\n                throw new Error(\"Invalid auth object - \" + JSON.stringify(authConfig));\r\n            }\r\n            return _connection.login(authRequest);\r\n        })\r\n            .then(function () {\r\n            registerLib(\"connection\", _connection, initTimer);\r\n            return internalConfig;\r\n        })\r\n            .catch(function (e) {\r\n            if (_connection) {\r\n                _connection.logout();\r\n            }\r\n            throw e;\r\n        });\r\n    }\r\n    function setupLogger() {\r\n        var _a;\r\n        var initTimer = timer(\"logger\");\r\n        _logger = new Logger(\"\" + ((_a = internalConfig.connection.identity) === null || _a === void 0 ? void 0 : _a.application), undefined, internalConfig.customLogger);\r\n        _logger.consoleLevel(internalConfig.logger.console);\r\n        _logger.publishLevel(internalConfig.logger.publish);\r\n        if (_logger.canPublish(\"debug\")) {\r\n            _logger.debug(\"initializing glue...\");\r\n        }\r\n        registerLib(\"logger\", _logger, initTimer);\r\n        return Promise.resolve(undefined);\r\n    }\r\n    function setupMetrics() {\r\n        var _a, _b, _c, _d;\r\n        var initTimer = timer(\"metrics\");\r\n        var config = internalConfig.metrics;\r\n        var metricsPublishingEnabledFunc = glue42gd === null || glue42gd === void 0 ? void 0 : glue42gd.getMetricsPublishingEnabled;\r\n        var identity = internalConfig.connection.identity;\r\n        var canUpdateMetric = metricsPublishingEnabledFunc ? metricsPublishingEnabledFunc : function () { return true; };\r\n        var disableAutoAppSystem = (_a = (typeof config !== \"boolean\" && config.disableAutoAppSystem)) !== null && _a !== void 0 ? _a : false;\r\n        _metrics = metrics({\r\n            connection: config ? _connection : undefined,\r\n            logger: _logger.subLogger(\"metrics\"),\r\n            canUpdateMetric: canUpdateMetric,\r\n            system: \"Glue42\",\r\n            service: (_b = identity === null || identity === void 0 ? void 0 : identity.service) !== null && _b !== void 0 ? _b : \"metrics-service\",\r\n            instance: (_d = (_c = identity === null || identity === void 0 ? void 0 : identity.instance) !== null && _c !== void 0 ? _c : identity === null || identity === void 0 ? void 0 : identity.windowId) !== null && _d !== void 0 ? _d : shortid(),\r\n            disableAutoAppSystem: disableAutoAppSystem,\r\n            pagePerformanceMetrics: typeof config !== \"boolean\" ? config === null || config === void 0 ? void 0 : config.pagePerformanceMetrics : undefined\r\n        });\r\n        registerLib(\"metrics\", _metrics, initTimer);\r\n        return Promise.resolve();\r\n    }\r\n    function setupInterop() {\r\n        var initTimer = timer(\"interop\");\r\n        var agmConfig = {\r\n            connection: _connection,\r\n            logger: _logger.subLogger(\"interop\"),\r\n        };\r\n        _interop = new Interop(agmConfig);\r\n        Logger.Interop = _interop;\r\n        registerLib([\"interop\", \"agm\"], _interop, initTimer);\r\n        return Promise.resolve();\r\n    }\r\n    function setupContexts() {\r\n        var hasActivities = (internalConfig.activities && _connection.protocolVersion === 3);\r\n        var needsContexts = internalConfig.contexts || hasActivities;\r\n        if (needsContexts) {\r\n            var initTimer = timer(\"contexts\");\r\n            _contexts = new ContextsModule({\r\n                connection: _connection,\r\n                logger: _logger.subLogger(\"contexts\")\r\n            });\r\n            registerLib(\"contexts\", _contexts, initTimer);\r\n            return _contexts;\r\n        }\r\n        else {\r\n            var replayer = _connection.replayer;\r\n            if (replayer) {\r\n                replayer.drain(ContextMessageReplaySpec.name);\r\n            }\r\n        }\r\n    }\r\n    function setupBus() {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var initTimer;\r\n            return __generator(this, function (_a) {\r\n                if (!internalConfig.bus) {\r\n                    return [2, Promise.resolve()];\r\n                }\r\n                initTimer = timer(\"bus\");\r\n                _bus = new MessageBus(_connection, _logger.subLogger(\"bus\"));\r\n                registerLib(\"bus\", _bus, initTimer);\r\n                return [2, Promise.resolve()];\r\n            });\r\n        });\r\n    }\r\n    function setupExternalLibs(externalLibs) {\r\n        try {\r\n            externalLibs.forEach(function (lib) {\r\n                setupExternalLib(lib.name, lib.create);\r\n            });\r\n            return Promise.resolve();\r\n        }\r\n        catch (e) {\r\n            return Promise.reject(e);\r\n        }\r\n    }\r\n    function setupExternalLib(name, createCallback) {\r\n        var initTimer = timer(name);\r\n        var lib = createCallback(libs);\r\n        if (lib) {\r\n            registerLib(name, lib, initTimer);\r\n        }\r\n    }\r\n    function waitForLibs() {\r\n        var libsReadyPromises = Object.keys(libs).map(function (key) {\r\n            var lib = libs[key];\r\n            return lib.ready ?\r\n                lib.ready() : Promise.resolve();\r\n        });\r\n        return Promise.all(libsReadyPromises);\r\n    }\r\n    function constructGlueObject() {\r\n        var feedbackFunc = function (feedbackInfo) {\r\n            if (!_interop) {\r\n                return;\r\n            }\r\n            _interop.invoke(\"T42.ACS.Feedback\", feedbackInfo, \"best\");\r\n        };\r\n        var info = {\r\n            coreVersion: version,\r\n            version: internalConfig.version\r\n        };\r\n        glueInitTimer.stop();\r\n        var glue = {\r\n            feedback: feedbackFunc,\r\n            info: info,\r\n            logger: _logger,\r\n            interop: _interop,\r\n            agm: _interop,\r\n            connection: _connection,\r\n            metrics: _metrics,\r\n            contexts: _contexts,\r\n            bus: _bus,\r\n            version: internalConfig.version,\r\n            userConfig: userConfig,\r\n            done: function () {\r\n                _logger === null || _logger === void 0 ? void 0 : _logger.info(\"done called by user...\");\r\n                return _connection.logout();\r\n            }\r\n        };\r\n        glue.performance = {\r\n            get glueVer() {\r\n                return internalConfig.version;\r\n            },\r\n            get glueConfig() {\r\n                return JSON.stringify(userConfig);\r\n            },\r\n            get browser() {\r\n                return window.performance.timing.toJSON();\r\n            },\r\n            get memory() {\r\n                return window.performance.memory;\r\n            },\r\n            get initTimes() {\r\n                var all = getAllTimers();\r\n                return Object.keys(all).map(function (key) {\r\n                    var t = all[key];\r\n                    return {\r\n                        name: key,\r\n                        duration: t.endTime - t.startTime,\r\n                        marks: t.marks\r\n                    };\r\n                });\r\n            }\r\n        };\r\n        Object.keys(libs).forEach(function (key) {\r\n            var lib = libs[key];\r\n            glue[key] = lib;\r\n        });\r\n        glue.config = {};\r\n        Object.keys(internalConfig).forEach(function (k) {\r\n            glue.config[k] = internalConfig[k];\r\n        });\r\n        if (ext && ext.extOptions) {\r\n            Object.keys(ext.extOptions).forEach(function (k) {\r\n                glue.config[k] = ext === null || ext === void 0 ? void 0 : ext.extOptions[k];\r\n            });\r\n        }\r\n        if (ext === null || ext === void 0 ? void 0 : ext.enrichGlue) {\r\n            ext.enrichGlue(glue);\r\n        }\r\n        if (glue42gd && glue42gd.updatePerfData) {\r\n            glue42gd.updatePerfData(glue.performance);\r\n        }\r\n        if (glue.agm) {\r\n            var deprecatedDecorator = function (fn, wrong, proper) {\r\n                return function () {\r\n                    glue.logger.warn(\"glue.js - 'glue.agm.\" + wrong + \"' method is deprecated, use 'glue.interop.\" + proper + \"' instead.\");\r\n                    fn.apply(glue.agm, arguments);\r\n                };\r\n            };\r\n            var agmAny = glue.agm;\r\n            agmAny.method_added = deprecatedDecorator(glue.agm.methodAdded, \"method_added\", \"methodAdded\");\r\n            agmAny.method_removed = deprecatedDecorator(glue.agm.methodRemoved, \"method_removed\", \"methodRemoved\");\r\n            agmAny.server_added = deprecatedDecorator(glue.agm.serverAdded, \"server_added\", \"serverAdded\");\r\n            agmAny.server_method_aded = deprecatedDecorator(glue.agm.serverMethodAdded, \"server_method_aded\", \"serverMethodAdded\");\r\n            agmAny.server_method_removed = deprecatedDecorator(glue.agm.serverMethodRemoved, \"server_method_removed\", \"serverMethodRemoved\");\r\n        }\r\n        return glue;\r\n    }\r\n    return preloadPromise\r\n        .then(setupLogger)\r\n        .then(setupConnection)\r\n        .then(function () { return Promise.all([setupMetrics(), setupInterop(), setupContexts(), setupBus()]); })\r\n        .then(function () { return _interop.readyPromise; })\r\n        .then(function () {\r\n        return setupExternalLibs(internalConfig.libs || []);\r\n    })\r\n        .then(waitForLibs)\r\n        .then(constructGlueObject)\r\n        .catch(function (err) {\r\n        return Promise.reject({\r\n            err: err,\r\n            libs: libs\r\n        });\r\n    });\r\n};\r\nif (typeof window !== \"undefined\") {\r\n    window.GlueCore = GlueCore;\r\n}\r\nGlueCore.version = version;\r\nGlueCore.default = GlueCore;\n\nexport default GlueCore;\n//# sourceMappingURL=core.es.js.map\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\n/* eslint-disable @typescript-eslint/no-unused-vars */\r\n/* tslint:disable:no-console no-empty */\r\nimport { GlueCoreFactoryFunction } from \"@glue42/core\";\r\nimport { Glue42 } from \"@glue42/desktop\";\r\nimport { Glue42Web, GlueWebFactoryFunction } from \"../web\";\r\nimport { parseConfig } from \"./config\";\r\nimport { enterprise } from \"./enterprise\";\r\nimport { IoC } from \"./shared/ioc\";\r\nimport { PromiseWrap } from \"./shared/promise-plus\";\r\n\r\n/** This function creates the factory function which is the default export of the library */\r\nexport const createFactoryFunction = (coreFactoryFunction: GlueCoreFactoryFunction): GlueWebFactoryFunction => {\r\n\r\n    return async (userConfig?: Glue42Web.Config): Promise<Glue42Web.API | Glue42.Glue> => {\r\n\r\n        const config = parseConfig(userConfig);\r\n\r\n        if (window.glue42gd) {\r\n            return enterprise(config);\r\n        }\r\n\r\n        const glue = await PromiseWrap<Glue42Web.API>(() => coreFactoryFunction(config) as Promise<Glue42Web.API>, 30000, \"Glue Web initialization timed out\");\r\n\r\n        const logger = glue.logger.subLogger(\"web.main.controller\");\r\n\r\n        const ioc = new IoC(glue);\r\n\r\n        await ioc.bridge.start(ioc.controllers);\r\n        \r\n        logger.trace(\"the bridge has been started, initializing all controllers\");\r\n\r\n        await Promise.all(Object.values(ioc.controllers).map((controller) => controller.start(glue, ioc)));\r\n\r\n        logger.trace(\"all controllers reported started, starting all additional libraries\");\r\n\r\n        await Promise.all(config.libraries.map((lib: any) => lib(glue, config)));\r\n\r\n        logger.trace(\"all libraries were started, glue is ready, returning it\");\r\n\r\n        return glue;\r\n    };\r\n};\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\n/* eslint-disable @typescript-eslint/no-unused-vars */\r\nimport { Glue42 } from \"@glue42/desktop\";\r\n\r\nexport const enterprise = (config: any): Glue42.Glue => {\r\n    return {} as Glue42.Glue;\r\n};","/** @license React v17.0.1\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';require(\"object-assign\");var f=require(\"react\"),g=60103;exports.Fragment=60107;if(\"function\"===typeof Symbol&&Symbol.for){var h=Symbol.for;g=h(\"react.element\");exports.Fragment=h(\"react.fragment\")}var m=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n=Object.prototype.hasOwnProperty,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,k){var b,d={},e=null,l=null;void 0!==k&&(e=\"\"+k);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(l=a.ref);for(b in a)n.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:g,type:c,key:e,ref:l,props:d,_owner:m.current}}exports.jsx=q;exports.jsxs=q;\n","/** @license React v17.0.1\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var l=require(\"object-assign\"),n=60103,p=60106;exports.Fragment=60107;exports.StrictMode=60108;exports.Profiler=60114;var q=60109,r=60110,t=60112;exports.Suspense=60113;var u=60115,v=60116;\nif(\"function\"===typeof Symbol&&Symbol.for){var w=Symbol.for;n=w(\"react.element\");p=w(\"react.portal\");exports.Fragment=w(\"react.fragment\");exports.StrictMode=w(\"react.strict_mode\");exports.Profiler=w(\"react.profiler\");q=w(\"react.provider\");r=w(\"react.context\");t=w(\"react.forward_ref\");exports.Suspense=w(\"react.suspense\");u=w(\"react.memo\");v=w(\"react.lazy\")}var x=\"function\"===typeof Symbol&&Symbol.iterator;\nfunction y(a){if(null===a||\"object\"!==typeof a)return null;a=x&&a[x]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}function z(a){for(var b=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,c=1;c<arguments.length;c++)b+=\"&args[]=\"+encodeURIComponent(arguments[c]);return\"Minified React error #\"+a+\"; visit \"+b+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}\nvar A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B={};function C(a,b,c){this.props=a;this.context=b;this.refs=B;this.updater=c||A}C.prototype.isReactComponent={};C.prototype.setState=function(a,b){if(\"object\"!==typeof a&&\"function\"!==typeof a&&null!=a)throw Error(z(85));this.updater.enqueueSetState(this,a,b,\"setState\")};C.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,\"forceUpdate\")};\nfunction D(){}D.prototype=C.prototype;function E(a,b,c){this.props=a;this.context=b;this.refs=B;this.updater=c||A}var F=E.prototype=new D;F.constructor=E;l(F,C.prototype);F.isPureReactComponent=!0;var G={current:null},H=Object.prototype.hasOwnProperty,I={key:!0,ref:!0,__self:!0,__source:!0};\nfunction J(a,b,c){var e,d={},k=null,h=null;if(null!=b)for(e in void 0!==b.ref&&(h=b.ref),void 0!==b.key&&(k=\"\"+b.key),b)H.call(b,e)&&!I.hasOwnProperty(e)&&(d[e]=b[e]);var g=arguments.length-2;if(1===g)d.children=c;else if(1<g){for(var f=Array(g),m=0;m<g;m++)f[m]=arguments[m+2];d.children=f}if(a&&a.defaultProps)for(e in g=a.defaultProps,g)void 0===d[e]&&(d[e]=g[e]);return{$$typeof:n,type:a,key:k,ref:h,props:d,_owner:G.current}}\nfunction K(a,b){return{$$typeof:n,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}function L(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===n}function escape(a){var b={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+a.replace(/[=:]/g,function(a){return b[a]})}var M=/\\/+/g;function N(a,b){return\"object\"===typeof a&&null!==a&&null!=a.key?escape(\"\"+a.key):b.toString(36)}\nfunction O(a,b,c,e,d){var k=typeof a;if(\"undefined\"===k||\"boolean\"===k)a=null;var h=!1;if(null===a)h=!0;else switch(k){case \"string\":case \"number\":h=!0;break;case \"object\":switch(a.$$typeof){case n:case p:h=!0}}if(h)return h=a,d=d(h),a=\"\"===e?\".\"+N(h,0):e,Array.isArray(d)?(c=\"\",null!=a&&(c=a.replace(M,\"$&/\")+\"/\"),O(d,b,c,\"\",function(a){return a})):null!=d&&(L(d)&&(d=K(d,c+(!d.key||h&&h.key===d.key?\"\":(\"\"+d.key).replace(M,\"$&/\")+\"/\")+a)),b.push(d)),1;h=0;e=\"\"===e?\".\":e+\":\";if(Array.isArray(a))for(var g=\n0;g<a.length;g++){k=a[g];var f=e+N(k,g);h+=O(k,b,c,f,d)}else if(f=y(a),\"function\"===typeof f)for(a=f.call(a),g=0;!(k=a.next()).done;)k=k.value,f=e+N(k,g++),h+=O(k,b,c,f,d);else if(\"object\"===k)throw b=\"\"+a,Error(z(31,\"[object Object]\"===b?\"object with keys {\"+Object.keys(a).join(\", \")+\"}\":b));return h}function P(a,b,c){if(null==a)return a;var e=[],d=0;O(a,e,\"\",\"\",function(a){return b.call(c,a,d++)});return e}\nfunction Q(a){if(-1===a._status){var b=a._result;b=b();a._status=0;a._result=b;b.then(function(b){0===a._status&&(b=b.default,a._status=1,a._result=b)},function(b){0===a._status&&(a._status=2,a._result=b)})}if(1===a._status)return a._result;throw a._result;}var R={current:null};function S(){var a=R.current;if(null===a)throw Error(z(321));return a}var T={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:G,IsSomeRendererActing:{current:!1},assign:l};\nexports.Children={map:P,forEach:function(a,b,c){P(a,function(){b.apply(this,arguments)},c)},count:function(a){var b=0;P(a,function(){b++});return b},toArray:function(a){return P(a,function(a){return a})||[]},only:function(a){if(!L(a))throw Error(z(143));return a}};exports.Component=C;exports.PureComponent=E;exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T;\nexports.cloneElement=function(a,b,c){if(null===a||void 0===a)throw Error(z(267,a));var e=l({},a.props),d=a.key,k=a.ref,h=a._owner;if(null!=b){void 0!==b.ref&&(k=b.ref,h=G.current);void 0!==b.key&&(d=\"\"+b.key);if(a.type&&a.type.defaultProps)var g=a.type.defaultProps;for(f in b)H.call(b,f)&&!I.hasOwnProperty(f)&&(e[f]=void 0===b[f]&&void 0!==g?g[f]:b[f])}var f=arguments.length-2;if(1===f)e.children=c;else if(1<f){g=Array(f);for(var m=0;m<f;m++)g[m]=arguments[m+2];e.children=g}return{$$typeof:n,type:a.type,\nkey:d,ref:k,props:e,_owner:h}};exports.createContext=function(a,b){void 0===b&&(b=null);a={$$typeof:r,_calculateChangedBits:b,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null};a.Provider={$$typeof:q,_context:a};return a.Consumer=a};exports.createElement=J;exports.createFactory=function(a){var b=J.bind(null,a);b.type=a;return b};exports.createRef=function(){return{current:null}};exports.forwardRef=function(a){return{$$typeof:t,render:a}};exports.isValidElement=L;\nexports.lazy=function(a){return{$$typeof:v,_payload:{_status:-1,_result:a},_init:Q}};exports.memo=function(a,b){return{$$typeof:u,type:a,compare:void 0===b?null:b}};exports.useCallback=function(a,b){return S().useCallback(a,b)};exports.useContext=function(a,b){return S().useContext(a,b)};exports.useDebugValue=function(){};exports.useEffect=function(a,b){return S().useEffect(a,b)};exports.useImperativeHandle=function(a,b,c){return S().useImperativeHandle(a,b,c)};\nexports.useLayoutEffect=function(a,b){return S().useLayoutEffect(a,b)};exports.useMemo=function(a,b){return S().useMemo(a,b)};exports.useReducer=function(a,b,c){return S().useReducer(a,b,c)};exports.useRef=function(a){return S().useRef(a)};exports.useState=function(a){return S().useState(a)};exports.version=\"17.0.1\";\n","/** @license React v17.0.1\n * react-dom.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n/*\n Modernizr 3.0.0pre (Custom Build) | MIT\n*/\n'use strict';var aa=require(\"react\"),m=require(\"object-assign\"),r=require(\"scheduler\");function y(a){for(var b=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,c=1;c<arguments.length;c++)b+=\"&args[]=\"+encodeURIComponent(arguments[c]);return\"Minified React error #\"+a+\"; visit \"+b+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}if(!aa)throw Error(y(227));var ba=new Set,ca={};function da(a,b){ea(a,b);ea(a+\"Capture\",b)}\nfunction ea(a,b){ca[a]=b;for(a=0;a<b.length;a++)ba.add(b[a])}\nvar fa=!(\"undefined\"===typeof window||\"undefined\"===typeof window.document||\"undefined\"===typeof window.document.createElement),ha=/^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$/,ia=Object.prototype.hasOwnProperty,\nja={},ka={};function la(a){if(ia.call(ka,a))return!0;if(ia.call(ja,a))return!1;if(ha.test(a))return ka[a]=!0;ja[a]=!0;return!1}function ma(a,b,c,d){if(null!==c&&0===c.type)return!1;switch(typeof b){case \"function\":case \"symbol\":return!0;case \"boolean\":if(d)return!1;if(null!==c)return!c.acceptsBooleans;a=a.toLowerCase().slice(0,5);return\"data-\"!==a&&\"aria-\"!==a;default:return!1}}\nfunction na(a,b,c,d){if(null===b||\"undefined\"===typeof b||ma(a,b,c,d))return!0;if(d)return!1;if(null!==c)switch(c.type){case 3:return!b;case 4:return!1===b;case 5:return isNaN(b);case 6:return isNaN(b)||1>b}return!1}function B(a,b,c,d,e,f,g){this.acceptsBooleans=2===b||3===b||4===b;this.attributeName=d;this.attributeNamespace=e;this.mustUseProperty=c;this.propertyName=a;this.type=b;this.sanitizeURL=f;this.removeEmptyString=g}var D={};\n\"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style\".split(\" \").forEach(function(a){D[a]=new B(a,0,!1,a,null,!1,!1)});[[\"acceptCharset\",\"accept-charset\"],[\"className\",\"class\"],[\"htmlFor\",\"for\"],[\"httpEquiv\",\"http-equiv\"]].forEach(function(a){var b=a[0];D[b]=new B(b,1,!1,a[1],null,!1,!1)});[\"contentEditable\",\"draggable\",\"spellCheck\",\"value\"].forEach(function(a){D[a]=new B(a,2,!1,a.toLowerCase(),null,!1,!1)});\n[\"autoReverse\",\"externalResourcesRequired\",\"focusable\",\"preserveAlpha\"].forEach(function(a){D[a]=new B(a,2,!1,a,null,!1,!1)});\"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope\".split(\" \").forEach(function(a){D[a]=new B(a,3,!1,a.toLowerCase(),null,!1,!1)});\n[\"checked\",\"multiple\",\"muted\",\"selected\"].forEach(function(a){D[a]=new B(a,3,!0,a,null,!1,!1)});[\"capture\",\"download\"].forEach(function(a){D[a]=new B(a,4,!1,a,null,!1,!1)});[\"cols\",\"rows\",\"size\",\"span\"].forEach(function(a){D[a]=new B(a,6,!1,a,null,!1,!1)});[\"rowSpan\",\"start\"].forEach(function(a){D[a]=new B(a,5,!1,a.toLowerCase(),null,!1,!1)});var oa=/[\\-:]([a-z])/g;function pa(a){return a[1].toUpperCase()}\n\"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height\".split(\" \").forEach(function(a){var b=a.replace(oa,\npa);D[b]=new B(b,1,!1,a,null,!1,!1)});\"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type\".split(\" \").forEach(function(a){var b=a.replace(oa,pa);D[b]=new B(b,1,!1,a,\"http://www.w3.org/1999/xlink\",!1,!1)});[\"xml:base\",\"xml:lang\",\"xml:space\"].forEach(function(a){var b=a.replace(oa,pa);D[b]=new B(b,1,!1,a,\"http://www.w3.org/XML/1998/namespace\",!1,!1)});[\"tabIndex\",\"crossOrigin\"].forEach(function(a){D[a]=new B(a,1,!1,a.toLowerCase(),null,!1,!1)});\nD.xlinkHref=new B(\"xlinkHref\",1,!1,\"xlink:href\",\"http://www.w3.org/1999/xlink\",!0,!1);[\"src\",\"href\",\"action\",\"formAction\"].forEach(function(a){D[a]=new B(a,1,!1,a.toLowerCase(),null,!0,!0)});\nfunction qa(a,b,c,d){var e=D.hasOwnProperty(b)?D[b]:null;var f=null!==e?0===e.type:d?!1:!(2<b.length)||\"o\"!==b[0]&&\"O\"!==b[0]||\"n\"!==b[1]&&\"N\"!==b[1]?!1:!0;f||(na(b,c,e,d)&&(c=null),d||null===e?la(b)&&(null===c?a.removeAttribute(b):a.setAttribute(b,\"\"+c)):e.mustUseProperty?a[e.propertyName]=null===c?3===e.type?!1:\"\":c:(b=e.attributeName,d=e.attributeNamespace,null===c?a.removeAttribute(b):(e=e.type,c=3===e||4===e&&!0===c?\"\":\"\"+c,d?a.setAttributeNS(d,b,c):a.setAttribute(b,c))))}\nvar ra=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sa=60103,ta=60106,ua=60107,wa=60108,xa=60114,ya=60109,za=60110,Aa=60112,Ba=60113,Ca=60120,Da=60115,Ea=60116,Fa=60121,Ga=60128,Ha=60129,Ia=60130,Ja=60131;\nif(\"function\"===typeof Symbol&&Symbol.for){var E=Symbol.for;sa=E(\"react.element\");ta=E(\"react.portal\");ua=E(\"react.fragment\");wa=E(\"react.strict_mode\");xa=E(\"react.profiler\");ya=E(\"react.provider\");za=E(\"react.context\");Aa=E(\"react.forward_ref\");Ba=E(\"react.suspense\");Ca=E(\"react.suspense_list\");Da=E(\"react.memo\");Ea=E(\"react.lazy\");Fa=E(\"react.block\");E(\"react.scope\");Ga=E(\"react.opaque.id\");Ha=E(\"react.debug_trace_mode\");Ia=E(\"react.offscreen\");Ja=E(\"react.legacy_hidden\")}\nvar Ka=\"function\"===typeof Symbol&&Symbol.iterator;function La(a){if(null===a||\"object\"!==typeof a)return null;a=Ka&&a[Ka]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}var Ma;function Na(a){if(void 0===Ma)try{throw Error();}catch(c){var b=c.stack.trim().match(/\\n( *(at )?)/);Ma=b&&b[1]||\"\"}return\"\\n\"+Ma+a}var Oa=!1;\nfunction Pa(a,b){if(!a||Oa)return\"\";Oa=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(b)if(b=function(){throw Error();},Object.defineProperty(b.prototype,\"props\",{set:function(){throw Error();}}),\"object\"===typeof Reflect&&Reflect.construct){try{Reflect.construct(b,[])}catch(k){var d=k}Reflect.construct(a,[],b)}else{try{b.call()}catch(k){d=k}a.call(b.prototype)}else{try{throw Error();}catch(k){d=k}a()}}catch(k){if(k&&d&&\"string\"===typeof k.stack){for(var e=k.stack.split(\"\\n\"),\nf=d.stack.split(\"\\n\"),g=e.length-1,h=f.length-1;1<=g&&0<=h&&e[g]!==f[h];)h--;for(;1<=g&&0<=h;g--,h--)if(e[g]!==f[h]){if(1!==g||1!==h){do if(g--,h--,0>h||e[g]!==f[h])return\"\\n\"+e[g].replace(\" at new \",\" at \");while(1<=g&&0<=h)}break}}}finally{Oa=!1,Error.prepareStackTrace=c}return(a=a?a.displayName||a.name:\"\")?Na(a):\"\"}\nfunction Qa(a){switch(a.tag){case 5:return Na(a.type);case 16:return Na(\"Lazy\");case 13:return Na(\"Suspense\");case 19:return Na(\"SuspenseList\");case 0:case 2:case 15:return a=Pa(a.type,!1),a;case 11:return a=Pa(a.type.render,!1),a;case 22:return a=Pa(a.type._render,!1),a;case 1:return a=Pa(a.type,!0),a;default:return\"\"}}\nfunction Ra(a){if(null==a)return null;if(\"function\"===typeof a)return a.displayName||a.name||null;if(\"string\"===typeof a)return a;switch(a){case ua:return\"Fragment\";case ta:return\"Portal\";case xa:return\"Profiler\";case wa:return\"StrictMode\";case Ba:return\"Suspense\";case Ca:return\"SuspenseList\"}if(\"object\"===typeof a)switch(a.$$typeof){case za:return(a.displayName||\"Context\")+\".Consumer\";case ya:return(a._context.displayName||\"Context\")+\".Provider\";case Aa:var b=a.render;b=b.displayName||b.name||\"\";\nreturn a.displayName||(\"\"!==b?\"ForwardRef(\"+b+\")\":\"ForwardRef\");case Da:return Ra(a.type);case Fa:return Ra(a._render);case Ea:b=a._payload;a=a._init;try{return Ra(a(b))}catch(c){}}return null}function Sa(a){switch(typeof a){case \"boolean\":case \"number\":case \"object\":case \"string\":case \"undefined\":return a;default:return\"\"}}function Ta(a){var b=a.type;return(a=a.nodeName)&&\"input\"===a.toLowerCase()&&(\"checkbox\"===b||\"radio\"===b)}\nfunction Ua(a){var b=Ta(a)?\"checked\":\"value\",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,b),d=\"\"+a[b];if(!a.hasOwnProperty(b)&&\"undefined\"!==typeof c&&\"function\"===typeof c.get&&\"function\"===typeof c.set){var e=c.get,f=c.set;Object.defineProperty(a,b,{configurable:!0,get:function(){return e.call(this)},set:function(a){d=\"\"+a;f.call(this,a)}});Object.defineProperty(a,b,{enumerable:c.enumerable});return{getValue:function(){return d},setValue:function(a){d=\"\"+a},stopTracking:function(){a._valueTracker=\nnull;delete a[b]}}}}function Va(a){a._valueTracker||(a._valueTracker=Ua(a))}function Wa(a){if(!a)return!1;var b=a._valueTracker;if(!b)return!0;var c=b.getValue();var d=\"\";a&&(d=Ta(a)?a.checked?\"true\":\"false\":a.value);a=d;return a!==c?(b.setValue(a),!0):!1}function Xa(a){a=a||(\"undefined\"!==typeof document?document:void 0);if(\"undefined\"===typeof a)return null;try{return a.activeElement||a.body}catch(b){return a.body}}\nfunction Ya(a,b){var c=b.checked;return m({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=c?c:a._wrapperState.initialChecked})}function Za(a,b){var c=null==b.defaultValue?\"\":b.defaultValue,d=null!=b.checked?b.checked:b.defaultChecked;c=Sa(null!=b.value?b.value:c);a._wrapperState={initialChecked:d,initialValue:c,controlled:\"checkbox\"===b.type||\"radio\"===b.type?null!=b.checked:null!=b.value}}function $a(a,b){b=b.checked;null!=b&&qa(a,\"checked\",b,!1)}\nfunction ab(a,b){$a(a,b);var c=Sa(b.value),d=b.type;if(null!=c)if(\"number\"===d){if(0===c&&\"\"===a.value||a.value!=c)a.value=\"\"+c}else a.value!==\"\"+c&&(a.value=\"\"+c);else if(\"submit\"===d||\"reset\"===d){a.removeAttribute(\"value\");return}b.hasOwnProperty(\"value\")?bb(a,b.type,c):b.hasOwnProperty(\"defaultValue\")&&bb(a,b.type,Sa(b.defaultValue));null==b.checked&&null!=b.defaultChecked&&(a.defaultChecked=!!b.defaultChecked)}\nfunction cb(a,b,c){if(b.hasOwnProperty(\"value\")||b.hasOwnProperty(\"defaultValue\")){var d=b.type;if(!(\"submit\"!==d&&\"reset\"!==d||void 0!==b.value&&null!==b.value))return;b=\"\"+a._wrapperState.initialValue;c||b===a.value||(a.value=b);a.defaultValue=b}c=a.name;\"\"!==c&&(a.name=\"\");a.defaultChecked=!!a._wrapperState.initialChecked;\"\"!==c&&(a.name=c)}\nfunction bb(a,b,c){if(\"number\"!==b||Xa(a.ownerDocument)!==a)null==c?a.defaultValue=\"\"+a._wrapperState.initialValue:a.defaultValue!==\"\"+c&&(a.defaultValue=\"\"+c)}function db(a){var b=\"\";aa.Children.forEach(a,function(a){null!=a&&(b+=a)});return b}function eb(a,b){a=m({children:void 0},b);if(b=db(b.children))a.children=b;return a}\nfunction fb(a,b,c,d){a=a.options;if(b){b={};for(var e=0;e<c.length;e++)b[\"$\"+c[e]]=!0;for(c=0;c<a.length;c++)e=b.hasOwnProperty(\"$\"+a[c].value),a[c].selected!==e&&(a[c].selected=e),e&&d&&(a[c].defaultSelected=!0)}else{c=\"\"+Sa(c);b=null;for(e=0;e<a.length;e++){if(a[e].value===c){a[e].selected=!0;d&&(a[e].defaultSelected=!0);return}null!==b||a[e].disabled||(b=a[e])}null!==b&&(b.selected=!0)}}\nfunction gb(a,b){if(null!=b.dangerouslySetInnerHTML)throw Error(y(91));return m({},b,{value:void 0,defaultValue:void 0,children:\"\"+a._wrapperState.initialValue})}function hb(a,b){var c=b.value;if(null==c){c=b.children;b=b.defaultValue;if(null!=c){if(null!=b)throw Error(y(92));if(Array.isArray(c)){if(!(1>=c.length))throw Error(y(93));c=c[0]}b=c}null==b&&(b=\"\");c=b}a._wrapperState={initialValue:Sa(c)}}\nfunction ib(a,b){var c=Sa(b.value),d=Sa(b.defaultValue);null!=c&&(c=\"\"+c,c!==a.value&&(a.value=c),null==b.defaultValue&&a.defaultValue!==c&&(a.defaultValue=c));null!=d&&(a.defaultValue=\"\"+d)}function jb(a){var b=a.textContent;b===a._wrapperState.initialValue&&\"\"!==b&&null!==b&&(a.value=b)}var kb={html:\"http://www.w3.org/1999/xhtml\",mathml:\"http://www.w3.org/1998/Math/MathML\",svg:\"http://www.w3.org/2000/svg\"};\nfunction lb(a){switch(a){case \"svg\":return\"http://www.w3.org/2000/svg\";case \"math\":return\"http://www.w3.org/1998/Math/MathML\";default:return\"http://www.w3.org/1999/xhtml\"}}function mb(a,b){return null==a||\"http://www.w3.org/1999/xhtml\"===a?lb(b):\"http://www.w3.org/2000/svg\"===a&&\"foreignObject\"===b?\"http://www.w3.org/1999/xhtml\":a}\nvar nb,ob=function(a){return\"undefined\"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(b,c,d,e){MSApp.execUnsafeLocalFunction(function(){return a(b,c,d,e)})}:a}(function(a,b){if(a.namespaceURI!==kb.svg||\"innerHTML\"in a)a.innerHTML=b;else{nb=nb||document.createElement(\"div\");nb.innerHTML=\"<svg>\"+b.valueOf().toString()+\"</svg>\";for(b=nb.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;b.firstChild;)a.appendChild(b.firstChild)}});\nfunction pb(a,b){if(b){var c=a.firstChild;if(c&&c===a.lastChild&&3===c.nodeType){c.nodeValue=b;return}}a.textContent=b}\nvar qb={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,\nfloodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rb=[\"Webkit\",\"ms\",\"Moz\",\"O\"];Object.keys(qb).forEach(function(a){rb.forEach(function(b){b=b+a.charAt(0).toUpperCase()+a.substring(1);qb[b]=qb[a]})});function sb(a,b,c){return null==b||\"boolean\"===typeof b||\"\"===b?\"\":c||\"number\"!==typeof b||0===b||qb.hasOwnProperty(a)&&qb[a]?(\"\"+b).trim():b+\"px\"}\nfunction tb(a,b){a=a.style;for(var c in b)if(b.hasOwnProperty(c)){var d=0===c.indexOf(\"--\"),e=sb(c,b[c],d);\"float\"===c&&(c=\"cssFloat\");d?a.setProperty(c,e):a[c]=e}}var ub=m({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});\nfunction vb(a,b){if(b){if(ub[a]&&(null!=b.children||null!=b.dangerouslySetInnerHTML))throw Error(y(137,a));if(null!=b.dangerouslySetInnerHTML){if(null!=b.children)throw Error(y(60));if(!(\"object\"===typeof b.dangerouslySetInnerHTML&&\"__html\"in b.dangerouslySetInnerHTML))throw Error(y(61));}if(null!=b.style&&\"object\"!==typeof b.style)throw Error(y(62));}}\nfunction wb(a,b){if(-1===a.indexOf(\"-\"))return\"string\"===typeof b.is;switch(a){case \"annotation-xml\":case \"color-profile\":case \"font-face\":case \"font-face-src\":case \"font-face-uri\":case \"font-face-format\":case \"font-face-name\":case \"missing-glyph\":return!1;default:return!0}}function xb(a){a=a.target||a.srcElement||window;a.correspondingUseElement&&(a=a.correspondingUseElement);return 3===a.nodeType?a.parentNode:a}var yb=null,zb=null,Ab=null;\nfunction Bb(a){if(a=Cb(a)){if(\"function\"!==typeof yb)throw Error(y(280));var b=a.stateNode;b&&(b=Db(b),yb(a.stateNode,a.type,b))}}function Eb(a){zb?Ab?Ab.push(a):Ab=[a]:zb=a}function Fb(){if(zb){var a=zb,b=Ab;Ab=zb=null;Bb(a);if(b)for(a=0;a<b.length;a++)Bb(b[a])}}function Gb(a,b){return a(b)}function Hb(a,b,c,d,e){return a(b,c,d,e)}function Ib(){}var Jb=Gb,Kb=!1,Lb=!1;function Mb(){if(null!==zb||null!==Ab)Ib(),Fb()}\nfunction Nb(a,b,c){if(Lb)return a(b,c);Lb=!0;try{return Jb(a,b,c)}finally{Lb=!1,Mb()}}\nfunction Ob(a,b){var c=a.stateNode;if(null===c)return null;var d=Db(c);if(null===d)return null;c=d[b];a:switch(b){case \"onClick\":case \"onClickCapture\":case \"onDoubleClick\":case \"onDoubleClickCapture\":case \"onMouseDown\":case \"onMouseDownCapture\":case \"onMouseMove\":case \"onMouseMoveCapture\":case \"onMouseUp\":case \"onMouseUpCapture\":case \"onMouseEnter\":(d=!d.disabled)||(a=a.type,d=!(\"button\"===a||\"input\"===a||\"select\"===a||\"textarea\"===a));a=!d;break a;default:a=!1}if(a)return null;if(c&&\"function\"!==\ntypeof c)throw Error(y(231,b,typeof c));return c}var Pb=!1;if(fa)try{var Qb={};Object.defineProperty(Qb,\"passive\",{get:function(){Pb=!0}});window.addEventListener(\"test\",Qb,Qb);window.removeEventListener(\"test\",Qb,Qb)}catch(a){Pb=!1}function Rb(a,b,c,d,e,f,g,h,k){var l=Array.prototype.slice.call(arguments,3);try{b.apply(c,l)}catch(n){this.onError(n)}}var Sb=!1,Tb=null,Ub=!1,Vb=null,Wb={onError:function(a){Sb=!0;Tb=a}};function Xb(a,b,c,d,e,f,g,h,k){Sb=!1;Tb=null;Rb.apply(Wb,arguments)}\nfunction Yb(a,b,c,d,e,f,g,h,k){Xb.apply(this,arguments);if(Sb){if(Sb){var l=Tb;Sb=!1;Tb=null}else throw Error(y(198));Ub||(Ub=!0,Vb=l)}}function Zb(a){var b=a,c=a;if(a.alternate)for(;b.return;)b=b.return;else{a=b;do b=a,0!==(b.flags&1026)&&(c=b.return),a=b.return;while(a)}return 3===b.tag?c:null}function $b(a){if(13===a.tag){var b=a.memoizedState;null===b&&(a=a.alternate,null!==a&&(b=a.memoizedState));if(null!==b)return b.dehydrated}return null}function ac(a){if(Zb(a)!==a)throw Error(y(188));}\nfunction bc(a){var b=a.alternate;if(!b){b=Zb(a);if(null===b)throw Error(y(188));return b!==a?null:a}for(var c=a,d=b;;){var e=c.return;if(null===e)break;var f=e.alternate;if(null===f){d=e.return;if(null!==d){c=d;continue}break}if(e.child===f.child){for(f=e.child;f;){if(f===c)return ac(e),a;if(f===d)return ac(e),b;f=f.sibling}throw Error(y(188));}if(c.return!==d.return)c=e,d=f;else{for(var g=!1,h=e.child;h;){if(h===c){g=!0;c=e;d=f;break}if(h===d){g=!0;d=e;c=f;break}h=h.sibling}if(!g){for(h=f.child;h;){if(h===\nc){g=!0;c=f;d=e;break}if(h===d){g=!0;d=f;c=e;break}h=h.sibling}if(!g)throw Error(y(189));}}if(c.alternate!==d)throw Error(y(190));}if(3!==c.tag)throw Error(y(188));return c.stateNode.current===c?a:b}function cc(a){a=bc(a);if(!a)return null;for(var b=a;;){if(5===b.tag||6===b.tag)return b;if(b.child)b.child.return=b,b=b.child;else{if(b===a)break;for(;!b.sibling;){if(!b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}}return null}\nfunction dc(a,b){for(var c=a.alternate;null!==b;){if(b===a||b===c)return!0;b=b.return}return!1}var ec,fc,gc,hc,ic=!1,jc=[],kc=null,lc=null,mc=null,nc=new Map,oc=new Map,pc=[],qc=\"mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit\".split(\" \");\nfunction rc(a,b,c,d,e){return{blockedOn:a,domEventName:b,eventSystemFlags:c|16,nativeEvent:e,targetContainers:[d]}}function sc(a,b){switch(a){case \"focusin\":case \"focusout\":kc=null;break;case \"dragenter\":case \"dragleave\":lc=null;break;case \"mouseover\":case \"mouseout\":mc=null;break;case \"pointerover\":case \"pointerout\":nc.delete(b.pointerId);break;case \"gotpointercapture\":case \"lostpointercapture\":oc.delete(b.pointerId)}}\nfunction tc(a,b,c,d,e,f){if(null===a||a.nativeEvent!==f)return a=rc(b,c,d,e,f),null!==b&&(b=Cb(b),null!==b&&fc(b)),a;a.eventSystemFlags|=d;b=a.targetContainers;null!==e&&-1===b.indexOf(e)&&b.push(e);return a}\nfunction uc(a,b,c,d,e){switch(b){case \"focusin\":return kc=tc(kc,a,b,c,d,e),!0;case \"dragenter\":return lc=tc(lc,a,b,c,d,e),!0;case \"mouseover\":return mc=tc(mc,a,b,c,d,e),!0;case \"pointerover\":var f=e.pointerId;nc.set(f,tc(nc.get(f)||null,a,b,c,d,e));return!0;case \"gotpointercapture\":return f=e.pointerId,oc.set(f,tc(oc.get(f)||null,a,b,c,d,e)),!0}return!1}\nfunction vc(a){var b=wc(a.target);if(null!==b){var c=Zb(b);if(null!==c)if(b=c.tag,13===b){if(b=$b(c),null!==b){a.blockedOn=b;hc(a.lanePriority,function(){r.unstable_runWithPriority(a.priority,function(){gc(c)})});return}}else if(3===b&&c.stateNode.hydrate){a.blockedOn=3===c.tag?c.stateNode.containerInfo:null;return}}a.blockedOn=null}\nfunction xc(a){if(null!==a.blockedOn)return!1;for(var b=a.targetContainers;0<b.length;){var c=yc(a.domEventName,a.eventSystemFlags,b[0],a.nativeEvent);if(null!==c)return b=Cb(c),null!==b&&fc(b),a.blockedOn=c,!1;b.shift()}return!0}function zc(a,b,c){xc(a)&&c.delete(b)}\nfunction Ac(){for(ic=!1;0<jc.length;){var a=jc[0];if(null!==a.blockedOn){a=Cb(a.blockedOn);null!==a&&ec(a);break}for(var b=a.targetContainers;0<b.length;){var c=yc(a.domEventName,a.eventSystemFlags,b[0],a.nativeEvent);if(null!==c){a.blockedOn=c;break}b.shift()}null===a.blockedOn&&jc.shift()}null!==kc&&xc(kc)&&(kc=null);null!==lc&&xc(lc)&&(lc=null);null!==mc&&xc(mc)&&(mc=null);nc.forEach(zc);oc.forEach(zc)}\nfunction Bc(a,b){a.blockedOn===b&&(a.blockedOn=null,ic||(ic=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ac)))}\nfunction Cc(a){function b(b){return Bc(b,a)}if(0<jc.length){Bc(jc[0],a);for(var c=1;c<jc.length;c++){var d=jc[c];d.blockedOn===a&&(d.blockedOn=null)}}null!==kc&&Bc(kc,a);null!==lc&&Bc(lc,a);null!==mc&&Bc(mc,a);nc.forEach(b);oc.forEach(b);for(c=0;c<pc.length;c++)d=pc[c],d.blockedOn===a&&(d.blockedOn=null);for(;0<pc.length&&(c=pc[0],null===c.blockedOn);)vc(c),null===c.blockedOn&&pc.shift()}\nfunction Dc(a,b){var c={};c[a.toLowerCase()]=b.toLowerCase();c[\"Webkit\"+a]=\"webkit\"+b;c[\"Moz\"+a]=\"moz\"+b;return c}var Ec={animationend:Dc(\"Animation\",\"AnimationEnd\"),animationiteration:Dc(\"Animation\",\"AnimationIteration\"),animationstart:Dc(\"Animation\",\"AnimationStart\"),transitionend:Dc(\"Transition\",\"TransitionEnd\")},Fc={},Gc={};\nfa&&(Gc=document.createElement(\"div\").style,\"AnimationEvent\"in window||(delete Ec.animationend.animation,delete Ec.animationiteration.animation,delete Ec.animationstart.animation),\"TransitionEvent\"in window||delete Ec.transitionend.transition);function Hc(a){if(Fc[a])return Fc[a];if(!Ec[a])return a;var b=Ec[a],c;for(c in b)if(b.hasOwnProperty(c)&&c in Gc)return Fc[a]=b[c];return a}\nvar Ic=Hc(\"animationend\"),Jc=Hc(\"animationiteration\"),Kc=Hc(\"animationstart\"),Lc=Hc(\"transitionend\"),Mc=new Map,Nc=new Map,Oc=[\"abort\",\"abort\",Ic,\"animationEnd\",Jc,\"animationIteration\",Kc,\"animationStart\",\"canplay\",\"canPlay\",\"canplaythrough\",\"canPlayThrough\",\"durationchange\",\"durationChange\",\"emptied\",\"emptied\",\"encrypted\",\"encrypted\",\"ended\",\"ended\",\"error\",\"error\",\"gotpointercapture\",\"gotPointerCapture\",\"load\",\"load\",\"loadeddata\",\"loadedData\",\"loadedmetadata\",\"loadedMetadata\",\"loadstart\",\"loadStart\",\n\"lostpointercapture\",\"lostPointerCapture\",\"playing\",\"playing\",\"progress\",\"progress\",\"seeking\",\"seeking\",\"stalled\",\"stalled\",\"suspend\",\"suspend\",\"timeupdate\",\"timeUpdate\",Lc,\"transitionEnd\",\"waiting\",\"waiting\"];function Pc(a,b){for(var c=0;c<a.length;c+=2){var d=a[c],e=a[c+1];e=\"on\"+(e[0].toUpperCase()+e.slice(1));Nc.set(d,b);Mc.set(d,e);da(e,[d])}}var Qc=r.unstable_now;Qc();var F=8;\nfunction Rc(a){if(0!==(1&a))return F=15,1;if(0!==(2&a))return F=14,2;if(0!==(4&a))return F=13,4;var b=24&a;if(0!==b)return F=12,b;if(0!==(a&32))return F=11,32;b=192&a;if(0!==b)return F=10,b;if(0!==(a&256))return F=9,256;b=3584&a;if(0!==b)return F=8,b;if(0!==(a&4096))return F=7,4096;b=4186112&a;if(0!==b)return F=6,b;b=62914560&a;if(0!==b)return F=5,b;if(a&67108864)return F=4,67108864;if(0!==(a&134217728))return F=3,134217728;b=805306368&a;if(0!==b)return F=2,b;if(0!==(1073741824&a))return F=1,1073741824;\nF=8;return a}function Sc(a){switch(a){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function Tc(a){switch(a){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(y(358,a));}}\nfunction Uc(a,b){var c=a.pendingLanes;if(0===c)return F=0;var d=0,e=0,f=a.expiredLanes,g=a.suspendedLanes,h=a.pingedLanes;if(0!==f)d=f,e=F=15;else if(f=c&134217727,0!==f){var k=f&~g;0!==k?(d=Rc(k),e=F):(h&=f,0!==h&&(d=Rc(h),e=F))}else f=c&~g,0!==f?(d=Rc(f),e=F):0!==h&&(d=Rc(h),e=F);if(0===d)return 0;d=31-Vc(d);d=c&((0>d?0:1<<d)<<1)-1;if(0!==b&&b!==d&&0===(b&g)){Rc(b);if(e<=F)return b;F=e}b=a.entangledLanes;if(0!==b)for(a=a.entanglements,b&=d;0<b;)c=31-Vc(b),e=1<<c,d|=a[c],b&=~e;return d}\nfunction Wc(a){a=a.pendingLanes&-1073741825;return 0!==a?a:a&1073741824?1073741824:0}function Xc(a,b){switch(a){case 15:return 1;case 14:return 2;case 12:return a=Yc(24&~b),0===a?Xc(10,b):a;case 10:return a=Yc(192&~b),0===a?Xc(8,b):a;case 8:return a=Yc(3584&~b),0===a&&(a=Yc(4186112&~b),0===a&&(a=512)),a;case 2:return b=Yc(805306368&~b),0===b&&(b=268435456),b}throw Error(y(358,a));}function Yc(a){return a&-a}function Zc(a){for(var b=[],c=0;31>c;c++)b.push(a);return b}\nfunction $c(a,b,c){a.pendingLanes|=b;var d=b-1;a.suspendedLanes&=d;a.pingedLanes&=d;a=a.eventTimes;b=31-Vc(b);a[b]=c}var Vc=Math.clz32?Math.clz32:ad,bd=Math.log,cd=Math.LN2;function ad(a){return 0===a?32:31-(bd(a)/cd|0)|0}var dd=r.unstable_UserBlockingPriority,ed=r.unstable_runWithPriority,fd=!0;function gd(a,b,c,d){Kb||Ib();var e=hd,f=Kb;Kb=!0;try{Hb(e,a,b,c,d)}finally{(Kb=f)||Mb()}}function id(a,b,c,d){ed(dd,hd.bind(null,a,b,c,d))}\nfunction hd(a,b,c,d){if(fd){var e;if((e=0===(b&4))&&0<jc.length&&-1<qc.indexOf(a))a=rc(null,a,b,c,d),jc.push(a);else{var f=yc(a,b,c,d);if(null===f)e&&sc(a,d);else{if(e){if(-1<qc.indexOf(a)){a=rc(f,a,b,c,d);jc.push(a);return}if(uc(f,a,b,c,d))return;sc(a,d)}jd(a,b,d,null,c)}}}}\nfunction yc(a,b,c,d){var e=xb(d);e=wc(e);if(null!==e){var f=Zb(e);if(null===f)e=null;else{var g=f.tag;if(13===g){e=$b(f);if(null!==e)return e;e=null}else if(3===g){if(f.stateNode.hydrate)return 3===f.tag?f.stateNode.containerInfo:null;e=null}else f!==e&&(e=null)}}jd(a,b,d,e,c);return null}var kd=null,ld=null,md=null;\nfunction nd(){if(md)return md;var a,b=ld,c=b.length,d,e=\"value\"in kd?kd.value:kd.textContent,f=e.length;for(a=0;a<c&&b[a]===e[a];a++);var g=c-a;for(d=1;d<=g&&b[c-d]===e[f-d];d++);return md=e.slice(a,1<d?1-d:void 0)}function od(a){var b=a.keyCode;\"charCode\"in a?(a=a.charCode,0===a&&13===b&&(a=13)):a=b;10===a&&(a=13);return 32<=a||13===a?a:0}function pd(){return!0}function qd(){return!1}\nfunction rd(a){function b(b,d,e,f,g){this._reactName=b;this._targetInst=e;this.type=d;this.nativeEvent=f;this.target=g;this.currentTarget=null;for(var c in a)a.hasOwnProperty(c)&&(b=a[c],this[c]=b?b(f):f[c]);this.isDefaultPrevented=(null!=f.defaultPrevented?f.defaultPrevented:!1===f.returnValue)?pd:qd;this.isPropagationStopped=qd;return this}m(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():\"unknown\"!==typeof a.returnValue&&\n(a.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():\"unknown\"!==typeof a.cancelBubble&&(a.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd});return b}\nvar sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=m({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=m({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(a){return void 0===a.relatedTarget?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){if(\"movementX\"in\na)return a.movementX;a!==yd&&(yd&&\"mousemove\"===a.type?(wd=a.screenX-yd.screenX,xd=a.screenY-yd.screenY):xd=wd=0,yd=a);return wd},movementY:function(a){return\"movementY\"in a?a.movementY:xd}}),Bd=rd(Ad),Cd=m({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=m({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=m({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=m({},sd,{clipboardData:function(a){return\"clipboardData\"in a?a.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=m({},sd,{data:0}),Ld=rd(Kd),Md={Esc:\"Escape\",\nSpacebar:\" \",Left:\"ArrowLeft\",Up:\"ArrowUp\",Right:\"ArrowRight\",Down:\"ArrowDown\",Del:\"Delete\",Win:\"OS\",Menu:\"ContextMenu\",Apps:\"ContextMenu\",Scroll:\"ScrollLock\",MozPrintableKey:\"Unidentified\"},Nd={8:\"Backspace\",9:\"Tab\",12:\"Clear\",13:\"Enter\",16:\"Shift\",17:\"Control\",18:\"Alt\",19:\"Pause\",20:\"CapsLock\",27:\"Escape\",32:\" \",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"ArrowLeft\",38:\"ArrowUp\",39:\"ArrowRight\",40:\"ArrowDown\",45:\"Insert\",46:\"Delete\",112:\"F1\",113:\"F2\",114:\"F3\",115:\"F4\",116:\"F5\",117:\"F6\",118:\"F7\",\n119:\"F8\",120:\"F9\",121:\"F10\",122:\"F11\",123:\"F12\",144:\"NumLock\",145:\"ScrollLock\",224:\"Meta\"},Od={Alt:\"altKey\",Control:\"ctrlKey\",Meta:\"metaKey\",Shift:\"shiftKey\"};function Pd(a){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(a):(a=Od[a])?!!b[a]:!1}function zd(){return Pd}\nvar Qd=m({},ud,{key:function(a){if(a.key){var b=Md[a.key]||a.key;if(\"Unidentified\"!==b)return b}return\"keypress\"===a.type?(a=od(a),13===a?\"Enter\":String.fromCharCode(a)):\"keydown\"===a.type||\"keyup\"===a.type?Nd[a.keyCode]||\"Unidentified\":\"\"},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(a){return\"keypress\"===a.type?od(a):0},keyCode:function(a){return\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0},which:function(a){return\"keypress\"===\na.type?od(a):\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0}}),Rd=rd(Qd),Sd=m({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=m({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=m({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=m({},Ad,{deltaX:function(a){return\"deltaX\"in a?a.deltaX:\"wheelDeltaX\"in a?-a.wheelDeltaX:0},\ndeltaY:function(a){return\"deltaY\"in a?a.deltaY:\"wheelDeltaY\"in a?-a.wheelDeltaY:\"wheelDelta\"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=fa&&\"CompositionEvent\"in window,be=null;fa&&\"documentMode\"in document&&(be=document.documentMode);var ce=fa&&\"TextEvent\"in window&&!be,de=fa&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;\nfunction ge(a,b){switch(a){case \"keyup\":return-1!==$d.indexOf(b.keyCode);case \"keydown\":return 229!==b.keyCode;case \"keypress\":case \"mousedown\":case \"focusout\":return!0;default:return!1}}function he(a){a=a.detail;return\"object\"===typeof a&&\"data\"in a?a.data:null}var ie=!1;function je(a,b){switch(a){case \"compositionend\":return he(b);case \"keypress\":if(32!==b.which)return null;fe=!0;return ee;case \"textInput\":return a=b.data,a===ee&&fe?null:a;default:return null}}\nfunction ke(a,b){if(ie)return\"compositionend\"===a||!ae&&ge(a,b)?(a=nd(),md=ld=kd=null,ie=!1,a):null;switch(a){case \"paste\":return null;case \"keypress\":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case \"compositionend\":return de&&\"ko\"!==b.locale?null:b.data;default:return null}}\nvar le={color:!0,date:!0,datetime:!0,\"datetime-local\":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return\"input\"===b?!!le[a.type]:\"textarea\"===b?!0:!1}function ne(a,b,c,d){Eb(d);b=oe(b,\"onChange\");0<b.length&&(c=new td(\"onChange\",\"change\",null,c,d),a.push({event:c,listeners:b}))}var pe=null,qe=null;function re(a){se(a,0)}function te(a){var b=ue(a);if(Wa(b))return a}\nfunction ve(a,b){if(\"change\"===a)return b}var we=!1;if(fa){var xe;if(fa){var ye=\"oninput\"in document;if(!ye){var ze=document.createElement(\"div\");ze.setAttribute(\"oninput\",\"return;\");ye=\"function\"===typeof ze.oninput}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent(\"onpropertychange\",Be),qe=pe=null)}function Be(a){if(\"value\"===a.propertyName&&te(qe)){var b=[];ne(b,qe,a,xb(a));a=re;if(Kb)a(b);else{Kb=!0;try{Gb(a,b)}finally{Kb=!1,Mb()}}}}\nfunction Ce(a,b,c){\"focusin\"===a?(Ae(),pe=b,qe=c,pe.attachEvent(\"onpropertychange\",Be)):\"focusout\"===a&&Ae()}function De(a){if(\"selectionchange\"===a||\"keyup\"===a||\"keydown\"===a)return te(qe)}function Ee(a,b){if(\"click\"===a)return te(b)}function Fe(a,b){if(\"input\"===a||\"change\"===a)return te(b)}function Ge(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var He=\"function\"===typeof Object.is?Object.is:Ge,Ie=Object.prototype.hasOwnProperty;\nfunction Je(a,b){if(He(a,b))return!0;if(\"object\"!==typeof a||null===a||\"object\"!==typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++)if(!Ie.call(b,c[d])||!He(a[c[d]],b[c[d]]))return!1;return!0}function Ke(a){for(;a&&a.firstChild;)a=a.firstChild;return a}\nfunction Le(a,b){var c=Ke(a);a=0;for(var d;c;){if(3===c.nodeType){d=a+c.textContent.length;if(a<=b&&d>=b)return{node:c,offset:b-a};a=d}a:{for(;c;){if(c.nextSibling){c=c.nextSibling;break a}c=c.parentNode}c=void 0}c=Ke(c)}}function Me(a,b){return a&&b?a===b?!0:a&&3===a.nodeType?!1:b&&3===b.nodeType?Me(a,b.parentNode):\"contains\"in a?a.contains(b):a.compareDocumentPosition?!!(a.compareDocumentPosition(b)&16):!1:!1}\nfunction Ne(){for(var a=window,b=Xa();b instanceof a.HTMLIFrameElement;){try{var c=\"string\"===typeof b.contentWindow.location.href}catch(d){c=!1}if(c)a=b.contentWindow;else break;b=Xa(a.document)}return b}function Oe(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&(\"input\"===b&&(\"text\"===a.type||\"search\"===a.type||\"tel\"===a.type||\"url\"===a.type||\"password\"===a.type)||\"textarea\"===b||\"true\"===a.contentEditable)}\nvar Pe=fa&&\"documentMode\"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;\nfunction Ue(a,b,c){var d=c.window===c?c.document:9===c.nodeType?c:c.ownerDocument;Te||null==Qe||Qe!==Xa(d)||(d=Qe,\"selectionStart\"in d&&Oe(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Se&&Je(Se,d)||(Se=d,d=oe(Re,\"onSelect\"),0<d.length&&(b=new td(\"onSelect\",\"select\",null,b,c),a.push({event:b,listeners:d}),b.target=Qe)))}\nPc(\"cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange\".split(\" \"),\n0);Pc(\"drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel\".split(\" \"),1);Pc(Oc,2);for(var Ve=\"change selectionchange textInput compositionstart compositionend compositionupdate\".split(\" \"),We=0;We<Ve.length;We++)Nc.set(Ve[We],0);ea(\"onMouseEnter\",[\"mouseout\",\"mouseover\"]);\nea(\"onMouseLeave\",[\"mouseout\",\"mouseover\"]);ea(\"onPointerEnter\",[\"pointerout\",\"pointerover\"]);ea(\"onPointerLeave\",[\"pointerout\",\"pointerover\"]);da(\"onChange\",\"change click focusin focusout input keydown keyup selectionchange\".split(\" \"));da(\"onSelect\",\"focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange\".split(\" \"));da(\"onBeforeInput\",[\"compositionend\",\"keypress\",\"textInput\",\"paste\"]);da(\"onCompositionEnd\",\"compositionend focusout keydown keypress keyup mousedown\".split(\" \"));\nda(\"onCompositionStart\",\"compositionstart focusout keydown keypress keyup mousedown\".split(\" \"));da(\"onCompositionUpdate\",\"compositionupdate focusout keydown keypress keyup mousedown\".split(\" \"));var Xe=\"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting\".split(\" \"),Ye=new Set(\"cancel close invalid load scroll toggle\".split(\" \").concat(Xe));\nfunction Ze(a,b,c){var d=a.type||\"unknown-event\";a.currentTarget=c;Yb(d,b,void 0,a);a.currentTarget=null}\nfunction se(a,b){b=0!==(b&4);for(var c=0;c<a.length;c++){var d=a[c],e=d.event;d=d.listeners;a:{var f=void 0;if(b)for(var g=d.length-1;0<=g;g--){var h=d[g],k=h.instance,l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;Ze(e,h,l);f=k}else for(g=0;g<d.length;g++){h=d[g];k=h.instance;l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;Ze(e,h,l);f=k}}}if(Ub)throw a=Vb,Ub=!1,Vb=null,a;}\nfunction G(a,b){var c=$e(b),d=a+\"__bubble\";c.has(d)||(af(b,a,2,!1),c.add(d))}var bf=\"_reactListening\"+Math.random().toString(36).slice(2);function cf(a){a[bf]||(a[bf]=!0,ba.forEach(function(b){Ye.has(b)||df(b,!1,a,null);df(b,!0,a,null)}))}\nfunction df(a,b,c,d){var e=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,f=c;\"selectionchange\"===a&&9!==c.nodeType&&(f=c.ownerDocument);if(null!==d&&!b&&Ye.has(a)){if(\"scroll\"!==a)return;e|=2;f=d}var g=$e(f),h=a+\"__\"+(b?\"capture\":\"bubble\");g.has(h)||(b&&(e|=4),af(f,a,e,b),g.add(h))}\nfunction af(a,b,c,d){var e=Nc.get(b);switch(void 0===e?2:e){case 0:e=gd;break;case 1:e=id;break;default:e=hd}c=e.bind(null,b,c,a);e=void 0;!Pb||\"touchstart\"!==b&&\"touchmove\"!==b&&\"wheel\"!==b||(e=!0);d?void 0!==e?a.addEventListener(b,c,{capture:!0,passive:e}):a.addEventListener(b,c,!0):void 0!==e?a.addEventListener(b,c,{passive:e}):a.addEventListener(b,c,!1)}\nfunction jd(a,b,c,d,e){var f=d;if(0===(b&1)&&0===(b&2)&&null!==d)a:for(;;){if(null===d)return;var g=d.tag;if(3===g||4===g){var h=d.stateNode.containerInfo;if(h===e||8===h.nodeType&&h.parentNode===e)break;if(4===g)for(g=d.return;null!==g;){var k=g.tag;if(3===k||4===k)if(k=g.stateNode.containerInfo,k===e||8===k.nodeType&&k.parentNode===e)return;g=g.return}for(;null!==h;){g=wc(h);if(null===g)return;k=g.tag;if(5===k||6===k){d=f=g;continue a}h=h.parentNode}}d=d.return}Nb(function(){var d=f,e=xb(c),g=[];\na:{var h=Mc.get(a);if(void 0!==h){var k=td,x=a;switch(a){case \"keypress\":if(0===od(c))break a;case \"keydown\":case \"keyup\":k=Rd;break;case \"focusin\":x=\"focus\";k=Fd;break;case \"focusout\":x=\"blur\";k=Fd;break;case \"beforeblur\":case \"afterblur\":k=Fd;break;case \"click\":if(2===c.button)break a;case \"auxclick\":case \"dblclick\":case \"mousedown\":case \"mousemove\":case \"mouseup\":case \"mouseout\":case \"mouseover\":case \"contextmenu\":k=Bd;break;case \"drag\":case \"dragend\":case \"dragenter\":case \"dragexit\":case \"dragleave\":case \"dragover\":case \"dragstart\":case \"drop\":k=\nDd;break;case \"touchcancel\":case \"touchend\":case \"touchmove\":case \"touchstart\":k=Vd;break;case Ic:case Jc:case Kc:k=Hd;break;case Lc:k=Xd;break;case \"scroll\":k=vd;break;case \"wheel\":k=Zd;break;case \"copy\":case \"cut\":case \"paste\":k=Jd;break;case \"gotpointercapture\":case \"lostpointercapture\":case \"pointercancel\":case \"pointerdown\":case \"pointermove\":case \"pointerout\":case \"pointerover\":case \"pointerup\":k=Td}var w=0!==(b&4),z=!w&&\"scroll\"===a,u=w?null!==h?h+\"Capture\":null:h;w=[];for(var t=d,q;null!==\nt;){q=t;var v=q.stateNode;5===q.tag&&null!==v&&(q=v,null!==u&&(v=Ob(t,u),null!=v&&w.push(ef(t,v,q))));if(z)break;t=t.return}0<w.length&&(h=new k(h,x,null,c,e),g.push({event:h,listeners:w}))}}if(0===(b&7)){a:{h=\"mouseover\"===a||\"pointerover\"===a;k=\"mouseout\"===a||\"pointerout\"===a;if(h&&0===(b&16)&&(x=c.relatedTarget||c.fromElement)&&(wc(x)||x[ff]))break a;if(k||h){h=e.window===e?e:(h=e.ownerDocument)?h.defaultView||h.parentWindow:window;if(k){if(x=c.relatedTarget||c.toElement,k=d,x=x?wc(x):null,null!==\nx&&(z=Zb(x),x!==z||5!==x.tag&&6!==x.tag))x=null}else k=null,x=d;if(k!==x){w=Bd;v=\"onMouseLeave\";u=\"onMouseEnter\";t=\"mouse\";if(\"pointerout\"===a||\"pointerover\"===a)w=Td,v=\"onPointerLeave\",u=\"onPointerEnter\",t=\"pointer\";z=null==k?h:ue(k);q=null==x?h:ue(x);h=new w(v,t+\"leave\",k,c,e);h.target=z;h.relatedTarget=q;v=null;wc(e)===d&&(w=new w(u,t+\"enter\",x,c,e),w.target=q,w.relatedTarget=z,v=w);z=v;if(k&&x)b:{w=k;u=x;t=0;for(q=w;q;q=gf(q))t++;q=0;for(v=u;v;v=gf(v))q++;for(;0<t-q;)w=gf(w),t--;for(;0<q-t;)u=\ngf(u),q--;for(;t--;){if(w===u||null!==u&&w===u.alternate)break b;w=gf(w);u=gf(u)}w=null}else w=null;null!==k&&hf(g,h,k,w,!1);null!==x&&null!==z&&hf(g,z,x,w,!0)}}}a:{h=d?ue(d):window;k=h.nodeName&&h.nodeName.toLowerCase();if(\"select\"===k||\"input\"===k&&\"file\"===h.type)var J=ve;else if(me(h))if(we)J=Fe;else{J=De;var K=Ce}else(k=h.nodeName)&&\"input\"===k.toLowerCase()&&(\"checkbox\"===h.type||\"radio\"===h.type)&&(J=Ee);if(J&&(J=J(a,d))){ne(g,J,c,e);break a}K&&K(a,h,d);\"focusout\"===a&&(K=h._wrapperState)&&\nK.controlled&&\"number\"===h.type&&bb(h,\"number\",h.value)}K=d?ue(d):window;switch(a){case \"focusin\":if(me(K)||\"true\"===K.contentEditable)Qe=K,Re=d,Se=null;break;case \"focusout\":Se=Re=Qe=null;break;case \"mousedown\":Te=!0;break;case \"contextmenu\":case \"mouseup\":case \"dragend\":Te=!1;Ue(g,c,e);break;case \"selectionchange\":if(Pe)break;case \"keydown\":case \"keyup\":Ue(g,c,e)}var Q;if(ae)b:{switch(a){case \"compositionstart\":var L=\"onCompositionStart\";break b;case \"compositionend\":L=\"onCompositionEnd\";break b;\ncase \"compositionupdate\":L=\"onCompositionUpdate\";break b}L=void 0}else ie?ge(a,c)&&(L=\"onCompositionEnd\"):\"keydown\"===a&&229===c.keyCode&&(L=\"onCompositionStart\");L&&(de&&\"ko\"!==c.locale&&(ie||\"onCompositionStart\"!==L?\"onCompositionEnd\"===L&&ie&&(Q=nd()):(kd=e,ld=\"value\"in kd?kd.value:kd.textContent,ie=!0)),K=oe(d,L),0<K.length&&(L=new Ld(L,a,null,c,e),g.push({event:L,listeners:K}),Q?L.data=Q:(Q=he(c),null!==Q&&(L.data=Q))));if(Q=ce?je(a,c):ke(a,c))d=oe(d,\"onBeforeInput\"),0<d.length&&(e=new Ld(\"onBeforeInput\",\n\"beforeinput\",null,c,e),g.push({event:e,listeners:d}),e.data=Q)}se(g,b)})}function ef(a,b,c){return{instance:a,listener:b,currentTarget:c}}function oe(a,b){for(var c=b+\"Capture\",d=[];null!==a;){var e=a,f=e.stateNode;5===e.tag&&null!==f&&(e=f,f=Ob(a,c),null!=f&&d.unshift(ef(a,f,e)),f=Ob(a,b),null!=f&&d.push(ef(a,f,e)));a=a.return}return d}function gf(a){if(null===a)return null;do a=a.return;while(a&&5!==a.tag);return a?a:null}\nfunction hf(a,b,c,d,e){for(var f=b._reactName,g=[];null!==c&&c!==d;){var h=c,k=h.alternate,l=h.stateNode;if(null!==k&&k===d)break;5===h.tag&&null!==l&&(h=l,e?(k=Ob(c,f),null!=k&&g.unshift(ef(c,k,h))):e||(k=Ob(c,f),null!=k&&g.push(ef(c,k,h))));c=c.return}0!==g.length&&a.push({event:b,listeners:g})}function jf(){}var kf=null,lf=null;function mf(a,b){switch(a){case \"button\":case \"input\":case \"select\":case \"textarea\":return!!b.autoFocus}return!1}\nfunction nf(a,b){return\"textarea\"===a||\"option\"===a||\"noscript\"===a||\"string\"===typeof b.children||\"number\"===typeof b.children||\"object\"===typeof b.dangerouslySetInnerHTML&&null!==b.dangerouslySetInnerHTML&&null!=b.dangerouslySetInnerHTML.__html}var of=\"function\"===typeof setTimeout?setTimeout:void 0,pf=\"function\"===typeof clearTimeout?clearTimeout:void 0;function qf(a){1===a.nodeType?a.textContent=\"\":9===a.nodeType&&(a=a.body,null!=a&&(a.textContent=\"\"))}\nfunction rf(a){for(;null!=a;a=a.nextSibling){var b=a.nodeType;if(1===b||3===b)break}return a}function sf(a){a=a.previousSibling;for(var b=0;a;){if(8===a.nodeType){var c=a.data;if(\"$\"===c||\"$!\"===c||\"$?\"===c){if(0===b)return a;b--}else\"/$\"===c&&b++}a=a.previousSibling}return null}var tf=0;function uf(a){return{$$typeof:Ga,toString:a,valueOf:a}}var vf=Math.random().toString(36).slice(2),wf=\"__reactFiber$\"+vf,xf=\"__reactProps$\"+vf,ff=\"__reactContainer$\"+vf,yf=\"__reactEvents$\"+vf;\nfunction wc(a){var b=a[wf];if(b)return b;for(var c=a.parentNode;c;){if(b=c[ff]||c[wf]){c=b.alternate;if(null!==b.child||null!==c&&null!==c.child)for(a=sf(a);null!==a;){if(c=a[wf])return c;a=sf(a)}return b}a=c;c=a.parentNode}return null}function Cb(a){a=a[wf]||a[ff];return!a||5!==a.tag&&6!==a.tag&&13!==a.tag&&3!==a.tag?null:a}function ue(a){if(5===a.tag||6===a.tag)return a.stateNode;throw Error(y(33));}function Db(a){return a[xf]||null}\nfunction $e(a){var b=a[yf];void 0===b&&(b=a[yf]=new Set);return b}var zf=[],Af=-1;function Bf(a){return{current:a}}function H(a){0>Af||(a.current=zf[Af],zf[Af]=null,Af--)}function I(a,b){Af++;zf[Af]=a.current;a.current=b}var Cf={},M=Bf(Cf),N=Bf(!1),Df=Cf;\nfunction Ef(a,b){var c=a.type.contextTypes;if(!c)return Cf;var d=a.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===b)return d.__reactInternalMemoizedMaskedChildContext;var e={},f;for(f in c)e[f]=b[f];d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=e);return e}function Ff(a){a=a.childContextTypes;return null!==a&&void 0!==a}function Gf(){H(N);H(M)}function Hf(a,b,c){if(M.current!==Cf)throw Error(y(168));I(M,b);I(N,c)}\nfunction If(a,b,c){var d=a.stateNode;a=b.childContextTypes;if(\"function\"!==typeof d.getChildContext)return c;d=d.getChildContext();for(var e in d)if(!(e in a))throw Error(y(108,Ra(b)||\"Unknown\",e));return m({},c,d)}function Jf(a){a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Cf;Df=M.current;I(M,a);I(N,N.current);return!0}function Kf(a,b,c){var d=a.stateNode;if(!d)throw Error(y(169));c?(a=If(a,b,Df),d.__reactInternalMemoizedMergedChildContext=a,H(N),H(M),I(M,a)):H(N);I(N,c)}\nvar Lf=null,Mf=null,Nf=r.unstable_runWithPriority,Of=r.unstable_scheduleCallback,Pf=r.unstable_cancelCallback,Qf=r.unstable_shouldYield,Rf=r.unstable_requestPaint,Sf=r.unstable_now,Tf=r.unstable_getCurrentPriorityLevel,Uf=r.unstable_ImmediatePriority,Vf=r.unstable_UserBlockingPriority,Wf=r.unstable_NormalPriority,Xf=r.unstable_LowPriority,Yf=r.unstable_IdlePriority,Zf={},$f=void 0!==Rf?Rf:function(){},ag=null,bg=null,cg=!1,dg=Sf(),O=1E4>dg?Sf:function(){return Sf()-dg};\nfunction eg(){switch(Tf()){case Uf:return 99;case Vf:return 98;case Wf:return 97;case Xf:return 96;case Yf:return 95;default:throw Error(y(332));}}function fg(a){switch(a){case 99:return Uf;case 98:return Vf;case 97:return Wf;case 96:return Xf;case 95:return Yf;default:throw Error(y(332));}}function gg(a,b){a=fg(a);return Nf(a,b)}function hg(a,b,c){a=fg(a);return Of(a,b,c)}function ig(){if(null!==bg){var a=bg;bg=null;Pf(a)}jg()}\nfunction jg(){if(!cg&&null!==ag){cg=!0;var a=0;try{var b=ag;gg(99,function(){for(;a<b.length;a++){var c=b[a];do c=c(!0);while(null!==c)}});ag=null}catch(c){throw null!==ag&&(ag=ag.slice(a+1)),Of(Uf,ig),c;}finally{cg=!1}}}var kg=ra.ReactCurrentBatchConfig;function lg(a,b){if(a&&a.defaultProps){b=m({},b);a=a.defaultProps;for(var c in a)void 0===b[c]&&(b[c]=a[c]);return b}return b}var mg=Bf(null),ng=null,og=null,pg=null;function qg(){pg=og=ng=null}\nfunction rg(a){var b=mg.current;H(mg);a.type._context._currentValue=b}function sg(a,b){for(;null!==a;){var c=a.alternate;if((a.childLanes&b)===b)if(null===c||(c.childLanes&b)===b)break;else c.childLanes|=b;else a.childLanes|=b,null!==c&&(c.childLanes|=b);a=a.return}}function tg(a,b){ng=a;pg=og=null;a=a.dependencies;null!==a&&null!==a.firstContext&&(0!==(a.lanes&b)&&(ug=!0),a.firstContext=null)}\nfunction vg(a,b){if(pg!==a&&!1!==b&&0!==b){if(\"number\"!==typeof b||1073741823===b)pg=a,b=1073741823;b={context:a,observedBits:b,next:null};if(null===og){if(null===ng)throw Error(y(308));og=b;ng.dependencies={lanes:0,firstContext:b,responders:null}}else og=og.next=b}return a._currentValue}var wg=!1;function xg(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}\nfunction yg(a,b){a=a.updateQueue;b.updateQueue===a&&(b.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function zg(a,b){return{eventTime:a,lane:b,tag:0,payload:null,callback:null,next:null}}function Ag(a,b){a=a.updateQueue;if(null!==a){a=a.shared;var c=a.pending;null===c?b.next=b:(b.next=c.next,c.next=b);a.pending=b}}\nfunction Bg(a,b){var c=a.updateQueue,d=a.alternate;if(null!==d&&(d=d.updateQueue,c===d)){var e=null,f=null;c=c.firstBaseUpdate;if(null!==c){do{var g={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};null===f?e=f=g:f=f.next=g;c=c.next}while(null!==c);null===f?e=f=b:f=f.next=b}else e=f=b;c={baseState:d.baseState,firstBaseUpdate:e,lastBaseUpdate:f,shared:d.shared,effects:d.effects};a.updateQueue=c;return}a=c.lastBaseUpdate;null===a?c.firstBaseUpdate=b:a.next=\nb;c.lastBaseUpdate=b}\nfunction Cg(a,b,c,d){var e=a.updateQueue;wg=!1;var f=e.firstBaseUpdate,g=e.lastBaseUpdate,h=e.shared.pending;if(null!==h){e.shared.pending=null;var k=h,l=k.next;k.next=null;null===g?f=l:g.next=l;g=k;var n=a.alternate;if(null!==n){n=n.updateQueue;var A=n.lastBaseUpdate;A!==g&&(null===A?n.firstBaseUpdate=l:A.next=l,n.lastBaseUpdate=k)}}if(null!==f){A=e.baseState;g=0;n=l=k=null;do{h=f.lane;var p=f.eventTime;if((d&h)===h){null!==n&&(n=n.next={eventTime:p,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,\nnext:null});a:{var C=a,x=f;h=b;p=c;switch(x.tag){case 1:C=x.payload;if(\"function\"===typeof C){A=C.call(p,A,h);break a}A=C;break a;case 3:C.flags=C.flags&-4097|64;case 0:C=x.payload;h=\"function\"===typeof C?C.call(p,A,h):C;if(null===h||void 0===h)break a;A=m({},A,h);break a;case 2:wg=!0}}null!==f.callback&&(a.flags|=32,h=e.effects,null===h?e.effects=[f]:h.push(f))}else p={eventTime:p,lane:h,tag:f.tag,payload:f.payload,callback:f.callback,next:null},null===n?(l=n=p,k=A):n=n.next=p,g|=h;f=f.next;if(null===\nf)if(h=e.shared.pending,null===h)break;else f=h.next,h.next=null,e.lastBaseUpdate=h,e.shared.pending=null}while(1);null===n&&(k=A);e.baseState=k;e.firstBaseUpdate=l;e.lastBaseUpdate=n;Dg|=g;a.lanes=g;a.memoizedState=A}}function Eg(a,b,c){a=b.effects;b.effects=null;if(null!==a)for(b=0;b<a.length;b++){var d=a[b],e=d.callback;if(null!==e){d.callback=null;d=c;if(\"function\"!==typeof e)throw Error(y(191,e));e.call(d)}}}var Fg=(new aa.Component).refs;\nfunction Gg(a,b,c,d){b=a.memoizedState;c=c(d,b);c=null===c||void 0===c?b:m({},b,c);a.memoizedState=c;0===a.lanes&&(a.updateQueue.baseState=c)}\nvar Kg={isMounted:function(a){return(a=a._reactInternals)?Zb(a)===a:!1},enqueueSetState:function(a,b,c){a=a._reactInternals;var d=Hg(),e=Ig(a),f=zg(d,e);f.payload=b;void 0!==c&&null!==c&&(f.callback=c);Ag(a,f);Jg(a,e,d)},enqueueReplaceState:function(a,b,c){a=a._reactInternals;var d=Hg(),e=Ig(a),f=zg(d,e);f.tag=1;f.payload=b;void 0!==c&&null!==c&&(f.callback=c);Ag(a,f);Jg(a,e,d)},enqueueForceUpdate:function(a,b){a=a._reactInternals;var c=Hg(),d=Ig(a),e=zg(c,d);e.tag=2;void 0!==b&&null!==b&&(e.callback=\nb);Ag(a,e);Jg(a,d,c)}};function Lg(a,b,c,d,e,f,g){a=a.stateNode;return\"function\"===typeof a.shouldComponentUpdate?a.shouldComponentUpdate(d,f,g):b.prototype&&b.prototype.isPureReactComponent?!Je(c,d)||!Je(e,f):!0}\nfunction Mg(a,b,c){var d=!1,e=Cf;var f=b.contextType;\"object\"===typeof f&&null!==f?f=vg(f):(e=Ff(b)?Df:M.current,d=b.contextTypes,f=(d=null!==d&&void 0!==d)?Ef(a,e):Cf);b=new b(c,f);a.memoizedState=null!==b.state&&void 0!==b.state?b.state:null;b.updater=Kg;a.stateNode=b;b._reactInternals=a;d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=e,a.__reactInternalMemoizedMaskedChildContext=f);return b}\nfunction Ng(a,b,c,d){a=b.state;\"function\"===typeof b.componentWillReceiveProps&&b.componentWillReceiveProps(c,d);\"function\"===typeof b.UNSAFE_componentWillReceiveProps&&b.UNSAFE_componentWillReceiveProps(c,d);b.state!==a&&Kg.enqueueReplaceState(b,b.state,null)}\nfunction Og(a,b,c,d){var e=a.stateNode;e.props=c;e.state=a.memoizedState;e.refs=Fg;xg(a);var f=b.contextType;\"object\"===typeof f&&null!==f?e.context=vg(f):(f=Ff(b)?Df:M.current,e.context=Ef(a,f));Cg(a,c,e,d);e.state=a.memoizedState;f=b.getDerivedStateFromProps;\"function\"===typeof f&&(Gg(a,b,f,c),e.state=a.memoizedState);\"function\"===typeof b.getDerivedStateFromProps||\"function\"===typeof e.getSnapshotBeforeUpdate||\"function\"!==typeof e.UNSAFE_componentWillMount&&\"function\"!==typeof e.componentWillMount||\n(b=e.state,\"function\"===typeof e.componentWillMount&&e.componentWillMount(),\"function\"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),b!==e.state&&Kg.enqueueReplaceState(e,e.state,null),Cg(a,c,e,d),e.state=a.memoizedState);\"function\"===typeof e.componentDidMount&&(a.flags|=4)}var Pg=Array.isArray;\nfunction Qg(a,b,c){a=c.ref;if(null!==a&&\"function\"!==typeof a&&\"object\"!==typeof a){if(c._owner){c=c._owner;if(c){if(1!==c.tag)throw Error(y(309));var d=c.stateNode}if(!d)throw Error(y(147,a));var e=\"\"+a;if(null!==b&&null!==b.ref&&\"function\"===typeof b.ref&&b.ref._stringRef===e)return b.ref;b=function(a){var b=d.refs;b===Fg&&(b=d.refs={});null===a?delete b[e]:b[e]=a};b._stringRef=e;return b}if(\"string\"!==typeof a)throw Error(y(284));if(!c._owner)throw Error(y(290,a));}return a}\nfunction Rg(a,b){if(\"textarea\"!==a.type)throw Error(y(31,\"[object Object]\"===Object.prototype.toString.call(b)?\"object with keys {\"+Object.keys(b).join(\", \")+\"}\":b));}\nfunction Sg(a){function b(b,c){if(a){var d=b.lastEffect;null!==d?(d.nextEffect=c,b.lastEffect=c):b.firstEffect=b.lastEffect=c;c.nextEffect=null;c.flags=8}}function c(c,d){if(!a)return null;for(;null!==d;)b(c,d),d=d.sibling;return null}function d(a,b){for(a=new Map;null!==b;)null!==b.key?a.set(b.key,b):a.set(b.index,b),b=b.sibling;return a}function e(a,b){a=Tg(a,b);a.index=0;a.sibling=null;return a}function f(b,c,d){b.index=d;if(!a)return c;d=b.alternate;if(null!==d)return d=d.index,d<c?(b.flags=2,\nc):d;b.flags=2;return c}function g(b){a&&null===b.alternate&&(b.flags=2);return b}function h(a,b,c,d){if(null===b||6!==b.tag)return b=Ug(c,a.mode,d),b.return=a,b;b=e(b,c);b.return=a;return b}function k(a,b,c,d){if(null!==b&&b.elementType===c.type)return d=e(b,c.props),d.ref=Qg(a,b,c),d.return=a,d;d=Vg(c.type,c.key,c.props,null,a.mode,d);d.ref=Qg(a,b,c);d.return=a;return d}function l(a,b,c,d){if(null===b||4!==b.tag||b.stateNode.containerInfo!==c.containerInfo||b.stateNode.implementation!==c.implementation)return b=\nWg(c,a.mode,d),b.return=a,b;b=e(b,c.children||[]);b.return=a;return b}function n(a,b,c,d,f){if(null===b||7!==b.tag)return b=Xg(c,a.mode,d,f),b.return=a,b;b=e(b,c);b.return=a;return b}function A(a,b,c){if(\"string\"===typeof b||\"number\"===typeof b)return b=Ug(\"\"+b,a.mode,c),b.return=a,b;if(\"object\"===typeof b&&null!==b){switch(b.$$typeof){case sa:return c=Vg(b.type,b.key,b.props,null,a.mode,c),c.ref=Qg(a,null,b),c.return=a,c;case ta:return b=Wg(b,a.mode,c),b.return=a,b}if(Pg(b)||La(b))return b=Xg(b,\na.mode,c,null),b.return=a,b;Rg(a,b)}return null}function p(a,b,c,d){var e=null!==b?b.key:null;if(\"string\"===typeof c||\"number\"===typeof c)return null!==e?null:h(a,b,\"\"+c,d);if(\"object\"===typeof c&&null!==c){switch(c.$$typeof){case sa:return c.key===e?c.type===ua?n(a,b,c.props.children,d,e):k(a,b,c,d):null;case ta:return c.key===e?l(a,b,c,d):null}if(Pg(c)||La(c))return null!==e?null:n(a,b,c,d,null);Rg(a,c)}return null}function C(a,b,c,d,e){if(\"string\"===typeof d||\"number\"===typeof d)return a=a.get(c)||\nnull,h(b,a,\"\"+d,e);if(\"object\"===typeof d&&null!==d){switch(d.$$typeof){case sa:return a=a.get(null===d.key?c:d.key)||null,d.type===ua?n(b,a,d.props.children,e,d.key):k(b,a,d,e);case ta:return a=a.get(null===d.key?c:d.key)||null,l(b,a,d,e)}if(Pg(d)||La(d))return a=a.get(c)||null,n(b,a,d,e,null);Rg(b,d)}return null}function x(e,g,h,k){for(var l=null,t=null,u=g,z=g=0,q=null;null!==u&&z<h.length;z++){u.index>z?(q=u,u=null):q=u.sibling;var n=p(e,u,h[z],k);if(null===n){null===u&&(u=q);break}a&&u&&null===\nn.alternate&&b(e,u);g=f(n,g,z);null===t?l=n:t.sibling=n;t=n;u=q}if(z===h.length)return c(e,u),l;if(null===u){for(;z<h.length;z++)u=A(e,h[z],k),null!==u&&(g=f(u,g,z),null===t?l=u:t.sibling=u,t=u);return l}for(u=d(e,u);z<h.length;z++)q=C(u,e,z,h[z],k),null!==q&&(a&&null!==q.alternate&&u.delete(null===q.key?z:q.key),g=f(q,g,z),null===t?l=q:t.sibling=q,t=q);a&&u.forEach(function(a){return b(e,a)});return l}function w(e,g,h,k){var l=La(h);if(\"function\"!==typeof l)throw Error(y(150));h=l.call(h);if(null==\nh)throw Error(y(151));for(var t=l=null,u=g,z=g=0,q=null,n=h.next();null!==u&&!n.done;z++,n=h.next()){u.index>z?(q=u,u=null):q=u.sibling;var w=p(e,u,n.value,k);if(null===w){null===u&&(u=q);break}a&&u&&null===w.alternate&&b(e,u);g=f(w,g,z);null===t?l=w:t.sibling=w;t=w;u=q}if(n.done)return c(e,u),l;if(null===u){for(;!n.done;z++,n=h.next())n=A(e,n.value,k),null!==n&&(g=f(n,g,z),null===t?l=n:t.sibling=n,t=n);return l}for(u=d(e,u);!n.done;z++,n=h.next())n=C(u,e,z,n.value,k),null!==n&&(a&&null!==n.alternate&&\nu.delete(null===n.key?z:n.key),g=f(n,g,z),null===t?l=n:t.sibling=n,t=n);a&&u.forEach(function(a){return b(e,a)});return l}return function(a,d,f,h){var k=\"object\"===typeof f&&null!==f&&f.type===ua&&null===f.key;k&&(f=f.props.children);var l=\"object\"===typeof f&&null!==f;if(l)switch(f.$$typeof){case sa:a:{l=f.key;for(k=d;null!==k;){if(k.key===l){switch(k.tag){case 7:if(f.type===ua){c(a,k.sibling);d=e(k,f.props.children);d.return=a;a=d;break a}break;default:if(k.elementType===f.type){c(a,k.sibling);\nd=e(k,f.props);d.ref=Qg(a,k,f);d.return=a;a=d;break a}}c(a,k);break}else b(a,k);k=k.sibling}f.type===ua?(d=Xg(f.props.children,a.mode,h,f.key),d.return=a,a=d):(h=Vg(f.type,f.key,f.props,null,a.mode,h),h.ref=Qg(a,d,f),h.return=a,a=h)}return g(a);case ta:a:{for(k=f.key;null!==d;){if(d.key===k)if(4===d.tag&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){c(a,d.sibling);d=e(d,f.children||[]);d.return=a;a=d;break a}else{c(a,d);break}else b(a,d);d=d.sibling}d=\nWg(f,a.mode,h);d.return=a;a=d}return g(a)}if(\"string\"===typeof f||\"number\"===typeof f)return f=\"\"+f,null!==d&&6===d.tag?(c(a,d.sibling),d=e(d,f),d.return=a,a=d):(c(a,d),d=Ug(f,a.mode,h),d.return=a,a=d),g(a);if(Pg(f))return x(a,d,f,h);if(La(f))return w(a,d,f,h);l&&Rg(a,f);if(\"undefined\"===typeof f&&!k)switch(a.tag){case 1:case 22:case 0:case 11:case 15:throw Error(y(152,Ra(a.type)||\"Component\"));}return c(a,d)}}var Yg=Sg(!0),Zg=Sg(!1),$g={},ah=Bf($g),bh=Bf($g),ch=Bf($g);\nfunction dh(a){if(a===$g)throw Error(y(174));return a}function eh(a,b){I(ch,b);I(bh,a);I(ah,$g);a=b.nodeType;switch(a){case 9:case 11:b=(b=b.documentElement)?b.namespaceURI:mb(null,\"\");break;default:a=8===a?b.parentNode:b,b=a.namespaceURI||null,a=a.tagName,b=mb(b,a)}H(ah);I(ah,b)}function fh(){H(ah);H(bh);H(ch)}function gh(a){dh(ch.current);var b=dh(ah.current);var c=mb(b,a.type);b!==c&&(I(bh,a),I(ah,c))}function hh(a){bh.current===a&&(H(ah),H(bh))}var P=Bf(0);\nfunction ih(a){for(var b=a;null!==b;){if(13===b.tag){var c=b.memoizedState;if(null!==c&&(c=c.dehydrated,null===c||\"$?\"===c.data||\"$!\"===c.data))return b}else if(19===b.tag&&void 0!==b.memoizedProps.revealOrder){if(0!==(b.flags&64))return b}else if(null!==b.child){b.child.return=b;b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}return null}var jh=null,kh=null,lh=!1;\nfunction mh(a,b){var c=nh(5,null,null,0);c.elementType=\"DELETED\";c.type=\"DELETED\";c.stateNode=b;c.return=a;c.flags=8;null!==a.lastEffect?(a.lastEffect.nextEffect=c,a.lastEffect=c):a.firstEffect=a.lastEffect=c}function oh(a,b){switch(a.tag){case 5:var c=a.type;b=1!==b.nodeType||c.toLowerCase()!==b.nodeName.toLowerCase()?null:b;return null!==b?(a.stateNode=b,!0):!1;case 6:return b=\"\"===a.pendingProps||3!==b.nodeType?null:b,null!==b?(a.stateNode=b,!0):!1;case 13:return!1;default:return!1}}\nfunction ph(a){if(lh){var b=kh;if(b){var c=b;if(!oh(a,b)){b=rf(c.nextSibling);if(!b||!oh(a,b)){a.flags=a.flags&-1025|2;lh=!1;jh=a;return}mh(jh,c)}jh=a;kh=rf(b.firstChild)}else a.flags=a.flags&-1025|2,lh=!1,jh=a}}function qh(a){for(a=a.return;null!==a&&5!==a.tag&&3!==a.tag&&13!==a.tag;)a=a.return;jh=a}\nfunction rh(a){if(a!==jh)return!1;if(!lh)return qh(a),lh=!0,!1;var b=a.type;if(5!==a.tag||\"head\"!==b&&\"body\"!==b&&!nf(b,a.memoizedProps))for(b=kh;b;)mh(a,b),b=rf(b.nextSibling);qh(a);if(13===a.tag){a=a.memoizedState;a=null!==a?a.dehydrated:null;if(!a)throw Error(y(317));a:{a=a.nextSibling;for(b=0;a;){if(8===a.nodeType){var c=a.data;if(\"/$\"===c){if(0===b){kh=rf(a.nextSibling);break a}b--}else\"$\"!==c&&\"$!\"!==c&&\"$?\"!==c||b++}a=a.nextSibling}kh=null}}else kh=jh?rf(a.stateNode.nextSibling):null;return!0}\nfunction sh(){kh=jh=null;lh=!1}var th=[];function uh(){for(var a=0;a<th.length;a++)th[a]._workInProgressVersionPrimary=null;th.length=0}var vh=ra.ReactCurrentDispatcher,wh=ra.ReactCurrentBatchConfig,xh=0,R=null,S=null,T=null,yh=!1,zh=!1;function Ah(){throw Error(y(321));}function Bh(a,b){if(null===b)return!1;for(var c=0;c<b.length&&c<a.length;c++)if(!He(a[c],b[c]))return!1;return!0}\nfunction Ch(a,b,c,d,e,f){xh=f;R=b;b.memoizedState=null;b.updateQueue=null;b.lanes=0;vh.current=null===a||null===a.memoizedState?Dh:Eh;a=c(d,e);if(zh){f=0;do{zh=!1;if(!(25>f))throw Error(y(301));f+=1;T=S=null;b.updateQueue=null;vh.current=Fh;a=c(d,e)}while(zh)}vh.current=Gh;b=null!==S&&null!==S.next;xh=0;T=S=R=null;yh=!1;if(b)throw Error(y(300));return a}function Hh(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===T?R.memoizedState=T=a:T=T.next=a;return T}\nfunction Ih(){if(null===S){var a=R.alternate;a=null!==a?a.memoizedState:null}else a=S.next;var b=null===T?R.memoizedState:T.next;if(null!==b)T=b,S=a;else{if(null===a)throw Error(y(310));S=a;a={memoizedState:S.memoizedState,baseState:S.baseState,baseQueue:S.baseQueue,queue:S.queue,next:null};null===T?R.memoizedState=T=a:T=T.next=a}return T}function Jh(a,b){return\"function\"===typeof b?b(a):b}\nfunction Kh(a){var b=Ih(),c=b.queue;if(null===c)throw Error(y(311));c.lastRenderedReducer=a;var d=S,e=d.baseQueue,f=c.pending;if(null!==f){if(null!==e){var g=e.next;e.next=f.next;f.next=g}d.baseQueue=e=f;c.pending=null}if(null!==e){e=e.next;d=d.baseState;var h=g=f=null,k=e;do{var l=k.lane;if((xh&l)===l)null!==h&&(h=h.next={lane:0,action:k.action,eagerReducer:k.eagerReducer,eagerState:k.eagerState,next:null}),d=k.eagerReducer===a?k.eagerState:a(d,k.action);else{var n={lane:l,action:k.action,eagerReducer:k.eagerReducer,\neagerState:k.eagerState,next:null};null===h?(g=h=n,f=d):h=h.next=n;R.lanes|=l;Dg|=l}k=k.next}while(null!==k&&k!==e);null===h?f=d:h.next=g;He(d,b.memoizedState)||(ug=!0);b.memoizedState=d;b.baseState=f;b.baseQueue=h;c.lastRenderedState=d}return[b.memoizedState,c.dispatch]}\nfunction Lh(a){var b=Ih(),c=b.queue;if(null===c)throw Error(y(311));c.lastRenderedReducer=a;var d=c.dispatch,e=c.pending,f=b.memoizedState;if(null!==e){c.pending=null;var g=e=e.next;do f=a(f,g.action),g=g.next;while(g!==e);He(f,b.memoizedState)||(ug=!0);b.memoizedState=f;null===b.baseQueue&&(b.baseState=f);c.lastRenderedState=f}return[f,d]}\nfunction Mh(a,b,c){var d=b._getVersion;d=d(b._source);var e=b._workInProgressVersionPrimary;if(null!==e)a=e===d;else if(a=a.mutableReadLanes,a=(xh&a)===a)b._workInProgressVersionPrimary=d,th.push(b);if(a)return c(b._source);th.push(b);throw Error(y(350));}\nfunction Nh(a,b,c,d){var e=U;if(null===e)throw Error(y(349));var f=b._getVersion,g=f(b._source),h=vh.current,k=h.useState(function(){return Mh(e,b,c)}),l=k[1],n=k[0];k=T;var A=a.memoizedState,p=A.refs,C=p.getSnapshot,x=A.source;A=A.subscribe;var w=R;a.memoizedState={refs:p,source:b,subscribe:d};h.useEffect(function(){p.getSnapshot=c;p.setSnapshot=l;var a=f(b._source);if(!He(g,a)){a=c(b._source);He(n,a)||(l(a),a=Ig(w),e.mutableReadLanes|=a&e.pendingLanes);a=e.mutableReadLanes;e.entangledLanes|=a;for(var d=\ne.entanglements,h=a;0<h;){var k=31-Vc(h),v=1<<k;d[k]|=a;h&=~v}}},[c,b,d]);h.useEffect(function(){return d(b._source,function(){var a=p.getSnapshot,c=p.setSnapshot;try{c(a(b._source));var d=Ig(w);e.mutableReadLanes|=d&e.pendingLanes}catch(q){c(function(){throw q;})}})},[b,d]);He(C,c)&&He(x,b)&&He(A,d)||(a={pending:null,dispatch:null,lastRenderedReducer:Jh,lastRenderedState:n},a.dispatch=l=Oh.bind(null,R,a),k.queue=a,k.baseQueue=null,n=Mh(e,b,c),k.memoizedState=k.baseState=n);return n}\nfunction Ph(a,b,c){var d=Ih();return Nh(d,a,b,c)}function Qh(a){var b=Hh();\"function\"===typeof a&&(a=a());b.memoizedState=b.baseState=a;a=b.queue={pending:null,dispatch:null,lastRenderedReducer:Jh,lastRenderedState:a};a=a.dispatch=Oh.bind(null,R,a);return[b.memoizedState,a]}\nfunction Rh(a,b,c,d){a={tag:a,create:b,destroy:c,deps:d,next:null};b=R.updateQueue;null===b?(b={lastEffect:null},R.updateQueue=b,b.lastEffect=a.next=a):(c=b.lastEffect,null===c?b.lastEffect=a.next=a:(d=c.next,c.next=a,a.next=d,b.lastEffect=a));return a}function Sh(a){var b=Hh();a={current:a};return b.memoizedState=a}function Th(){return Ih().memoizedState}function Uh(a,b,c,d){var e=Hh();R.flags|=a;e.memoizedState=Rh(1|b,c,void 0,void 0===d?null:d)}\nfunction Vh(a,b,c,d){var e=Ih();d=void 0===d?null:d;var f=void 0;if(null!==S){var g=S.memoizedState;f=g.destroy;if(null!==d&&Bh(d,g.deps)){Rh(b,c,f,d);return}}R.flags|=a;e.memoizedState=Rh(1|b,c,f,d)}function Wh(a,b){return Uh(516,4,a,b)}function Xh(a,b){return Vh(516,4,a,b)}function Yh(a,b){return Vh(4,2,a,b)}function Zh(a,b){if(\"function\"===typeof b)return a=a(),b(a),function(){b(null)};if(null!==b&&void 0!==b)return a=a(),b.current=a,function(){b.current=null}}\nfunction $h(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return Vh(4,2,Zh.bind(null,b,a),c)}function ai(){}function bi(a,b){var c=Ih();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Bh(b,d[1]))return d[0];c.memoizedState=[a,b];return a}function ci(a,b){var c=Ih();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Bh(b,d[1]))return d[0];a=a();c.memoizedState=[a,b];return a}\nfunction di(a,b){var c=eg();gg(98>c?98:c,function(){a(!0)});gg(97<c?97:c,function(){var c=wh.transition;wh.transition=1;try{a(!1),b()}finally{wh.transition=c}})}\nfunction Oh(a,b,c){var d=Hg(),e=Ig(a),f={lane:e,action:c,eagerReducer:null,eagerState:null,next:null},g=b.pending;null===g?f.next=f:(f.next=g.next,g.next=f);b.pending=f;g=a.alternate;if(a===R||null!==g&&g===R)zh=yh=!0;else{if(0===a.lanes&&(null===g||0===g.lanes)&&(g=b.lastRenderedReducer,null!==g))try{var h=b.lastRenderedState,k=g(h,c);f.eagerReducer=g;f.eagerState=k;if(He(k,h))return}catch(l){}finally{}Jg(a,e,d)}}\nvar Gh={readContext:vg,useCallback:Ah,useContext:Ah,useEffect:Ah,useImperativeHandle:Ah,useLayoutEffect:Ah,useMemo:Ah,useReducer:Ah,useRef:Ah,useState:Ah,useDebugValue:Ah,useDeferredValue:Ah,useTransition:Ah,useMutableSource:Ah,useOpaqueIdentifier:Ah,unstable_isNewReconciler:!1},Dh={readContext:vg,useCallback:function(a,b){Hh().memoizedState=[a,void 0===b?null:b];return a},useContext:vg,useEffect:Wh,useImperativeHandle:function(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return Uh(4,2,Zh.bind(null,\nb,a),c)},useLayoutEffect:function(a,b){return Uh(4,2,a,b)},useMemo:function(a,b){var c=Hh();b=void 0===b?null:b;a=a();c.memoizedState=[a,b];return a},useReducer:function(a,b,c){var d=Hh();b=void 0!==c?c(b):b;d.memoizedState=d.baseState=b;a=d.queue={pending:null,dispatch:null,lastRenderedReducer:a,lastRenderedState:b};a=a.dispatch=Oh.bind(null,R,a);return[d.memoizedState,a]},useRef:Sh,useState:Qh,useDebugValue:ai,useDeferredValue:function(a){var b=Qh(a),c=b[0],d=b[1];Wh(function(){var b=wh.transition;\nwh.transition=1;try{d(a)}finally{wh.transition=b}},[a]);return c},useTransition:function(){var a=Qh(!1),b=a[0];a=di.bind(null,a[1]);Sh(a);return[a,b]},useMutableSource:function(a,b,c){var d=Hh();d.memoizedState={refs:{getSnapshot:b,setSnapshot:null},source:a,subscribe:c};return Nh(d,a,b,c)},useOpaqueIdentifier:function(){if(lh){var a=!1,b=uf(function(){a||(a=!0,c(\"r:\"+(tf++).toString(36)));throw Error(y(355));}),c=Qh(b)[1];0===(R.mode&2)&&(R.flags|=516,Rh(5,function(){c(\"r:\"+(tf++).toString(36))},\nvoid 0,null));return b}b=\"r:\"+(tf++).toString(36);Qh(b);return b},unstable_isNewReconciler:!1},Eh={readContext:vg,useCallback:bi,useContext:vg,useEffect:Xh,useImperativeHandle:$h,useLayoutEffect:Yh,useMemo:ci,useReducer:Kh,useRef:Th,useState:function(){return Kh(Jh)},useDebugValue:ai,useDeferredValue:function(a){var b=Kh(Jh),c=b[0],d=b[1];Xh(function(){var b=wh.transition;wh.transition=1;try{d(a)}finally{wh.transition=b}},[a]);return c},useTransition:function(){var a=Kh(Jh)[0];return[Th().current,\na]},useMutableSource:Ph,useOpaqueIdentifier:function(){return Kh(Jh)[0]},unstable_isNewReconciler:!1},Fh={readContext:vg,useCallback:bi,useContext:vg,useEffect:Xh,useImperativeHandle:$h,useLayoutEffect:Yh,useMemo:ci,useReducer:Lh,useRef:Th,useState:function(){return Lh(Jh)},useDebugValue:ai,useDeferredValue:function(a){var b=Lh(Jh),c=b[0],d=b[1];Xh(function(){var b=wh.transition;wh.transition=1;try{d(a)}finally{wh.transition=b}},[a]);return c},useTransition:function(){var a=Lh(Jh)[0];return[Th().current,\na]},useMutableSource:Ph,useOpaqueIdentifier:function(){return Lh(Jh)[0]},unstable_isNewReconciler:!1},ei=ra.ReactCurrentOwner,ug=!1;function fi(a,b,c,d){b.child=null===a?Zg(b,null,c,d):Yg(b,a.child,c,d)}function gi(a,b,c,d,e){c=c.render;var f=b.ref;tg(b,e);d=Ch(a,b,c,d,f,e);if(null!==a&&!ug)return b.updateQueue=a.updateQueue,b.flags&=-517,a.lanes&=~e,hi(a,b,e);b.flags|=1;fi(a,b,d,e);return b.child}\nfunction ii(a,b,c,d,e,f){if(null===a){var g=c.type;if(\"function\"===typeof g&&!ji(g)&&void 0===g.defaultProps&&null===c.compare&&void 0===c.defaultProps)return b.tag=15,b.type=g,ki(a,b,g,d,e,f);a=Vg(c.type,null,d,b,b.mode,f);a.ref=b.ref;a.return=b;return b.child=a}g=a.child;if(0===(e&f)&&(e=g.memoizedProps,c=c.compare,c=null!==c?c:Je,c(e,d)&&a.ref===b.ref))return hi(a,b,f);b.flags|=1;a=Tg(g,d);a.ref=b.ref;a.return=b;return b.child=a}\nfunction ki(a,b,c,d,e,f){if(null!==a&&Je(a.memoizedProps,d)&&a.ref===b.ref)if(ug=!1,0!==(f&e))0!==(a.flags&16384)&&(ug=!0);else return b.lanes=a.lanes,hi(a,b,f);return li(a,b,c,d,f)}\nfunction mi(a,b,c){var d=b.pendingProps,e=d.children,f=null!==a?a.memoizedState:null;if(\"hidden\"===d.mode||\"unstable-defer-without-hiding\"===d.mode)if(0===(b.mode&4))b.memoizedState={baseLanes:0},ni(b,c);else if(0!==(c&1073741824))b.memoizedState={baseLanes:0},ni(b,null!==f?f.baseLanes:c);else return a=null!==f?f.baseLanes|c:c,b.lanes=b.childLanes=1073741824,b.memoizedState={baseLanes:a},ni(b,a),null;else null!==f?(d=f.baseLanes|c,b.memoizedState=null):d=c,ni(b,d);fi(a,b,e,c);return b.child}\nfunction oi(a,b){var c=b.ref;if(null===a&&null!==c||null!==a&&a.ref!==c)b.flags|=128}function li(a,b,c,d,e){var f=Ff(c)?Df:M.current;f=Ef(b,f);tg(b,e);c=Ch(a,b,c,d,f,e);if(null!==a&&!ug)return b.updateQueue=a.updateQueue,b.flags&=-517,a.lanes&=~e,hi(a,b,e);b.flags|=1;fi(a,b,c,e);return b.child}\nfunction pi(a,b,c,d,e){if(Ff(c)){var f=!0;Jf(b)}else f=!1;tg(b,e);if(null===b.stateNode)null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2),Mg(b,c,d),Og(b,c,d,e),d=!0;else if(null===a){var g=b.stateNode,h=b.memoizedProps;g.props=h;var k=g.context,l=c.contextType;\"object\"===typeof l&&null!==l?l=vg(l):(l=Ff(c)?Df:M.current,l=Ef(b,l));var n=c.getDerivedStateFromProps,A=\"function\"===typeof n||\"function\"===typeof g.getSnapshotBeforeUpdate;A||\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\n\"function\"!==typeof g.componentWillReceiveProps||(h!==d||k!==l)&&Ng(b,g,d,l);wg=!1;var p=b.memoizedState;g.state=p;Cg(b,d,g,e);k=b.memoizedState;h!==d||p!==k||N.current||wg?(\"function\"===typeof n&&(Gg(b,c,n,d),k=b.memoizedState),(h=wg||Lg(b,c,h,d,p,k,l))?(A||\"function\"!==typeof g.UNSAFE_componentWillMount&&\"function\"!==typeof g.componentWillMount||(\"function\"===typeof g.componentWillMount&&g.componentWillMount(),\"function\"===typeof g.UNSAFE_componentWillMount&&g.UNSAFE_componentWillMount()),\"function\"===\ntypeof g.componentDidMount&&(b.flags|=4)):(\"function\"===typeof g.componentDidMount&&(b.flags|=4),b.memoizedProps=d,b.memoizedState=k),g.props=d,g.state=k,g.context=l,d=h):(\"function\"===typeof g.componentDidMount&&(b.flags|=4),d=!1)}else{g=b.stateNode;yg(a,b);h=b.memoizedProps;l=b.type===b.elementType?h:lg(b.type,h);g.props=l;A=b.pendingProps;p=g.context;k=c.contextType;\"object\"===typeof k&&null!==k?k=vg(k):(k=Ff(c)?Df:M.current,k=Ef(b,k));var C=c.getDerivedStateFromProps;(n=\"function\"===typeof C||\n\"function\"===typeof g.getSnapshotBeforeUpdate)||\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\"function\"!==typeof g.componentWillReceiveProps||(h!==A||p!==k)&&Ng(b,g,d,k);wg=!1;p=b.memoizedState;g.state=p;Cg(b,d,g,e);var x=b.memoizedState;h!==A||p!==x||N.current||wg?(\"function\"===typeof C&&(Gg(b,c,C,d),x=b.memoizedState),(l=wg||Lg(b,c,l,d,p,x,k))?(n||\"function\"!==typeof g.UNSAFE_componentWillUpdate&&\"function\"!==typeof g.componentWillUpdate||(\"function\"===typeof g.componentWillUpdate&&g.componentWillUpdate(d,\nx,k),\"function\"===typeof g.UNSAFE_componentWillUpdate&&g.UNSAFE_componentWillUpdate(d,x,k)),\"function\"===typeof g.componentDidUpdate&&(b.flags|=4),\"function\"===typeof g.getSnapshotBeforeUpdate&&(b.flags|=256)):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&p===a.memoizedState||(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&p===a.memoizedState||(b.flags|=256),b.memoizedProps=d,b.memoizedState=x),g.props=d,g.state=x,g.context=k,d=l):(\"function\"!==typeof g.componentDidUpdate||\nh===a.memoizedProps&&p===a.memoizedState||(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&p===a.memoizedState||(b.flags|=256),d=!1)}return qi(a,b,c,d,f,e)}\nfunction qi(a,b,c,d,e,f){oi(a,b);var g=0!==(b.flags&64);if(!d&&!g)return e&&Kf(b,c,!1),hi(a,b,f);d=b.stateNode;ei.current=b;var h=g&&\"function\"!==typeof c.getDerivedStateFromError?null:d.render();b.flags|=1;null!==a&&g?(b.child=Yg(b,a.child,null,f),b.child=Yg(b,null,h,f)):fi(a,b,h,f);b.memoizedState=d.state;e&&Kf(b,c,!0);return b.child}function ri(a){var b=a.stateNode;b.pendingContext?Hf(a,b.pendingContext,b.pendingContext!==b.context):b.context&&Hf(a,b.context,!1);eh(a,b.containerInfo)}\nvar si={dehydrated:null,retryLane:0};\nfunction ti(a,b,c){var d=b.pendingProps,e=P.current,f=!1,g;(g=0!==(b.flags&64))||(g=null!==a&&null===a.memoizedState?!1:0!==(e&2));g?(f=!0,b.flags&=-65):null!==a&&null===a.memoizedState||void 0===d.fallback||!0===d.unstable_avoidThisFallback||(e|=1);I(P,e&1);if(null===a){void 0!==d.fallback&&ph(b);a=d.children;e=d.fallback;if(f)return a=ui(b,a,e,c),b.child.memoizedState={baseLanes:c},b.memoizedState=si,a;if(\"number\"===typeof d.unstable_expectedLoadTime)return a=ui(b,a,e,c),b.child.memoizedState={baseLanes:c},\nb.memoizedState=si,b.lanes=33554432,a;c=vi({mode:\"visible\",children:a},b.mode,c,null);c.return=b;return b.child=c}if(null!==a.memoizedState){if(f)return d=wi(a,b,d.children,d.fallback,c),f=b.child,e=a.child.memoizedState,f.memoizedState=null===e?{baseLanes:c}:{baseLanes:e.baseLanes|c},f.childLanes=a.childLanes&~c,b.memoizedState=si,d;c=xi(a,b,d.children,c);b.memoizedState=null;return c}if(f)return d=wi(a,b,d.children,d.fallback,c),f=b.child,e=a.child.memoizedState,f.memoizedState=null===e?{baseLanes:c}:\n{baseLanes:e.baseLanes|c},f.childLanes=a.childLanes&~c,b.memoizedState=si,d;c=xi(a,b,d.children,c);b.memoizedState=null;return c}function ui(a,b,c,d){var e=a.mode,f=a.child;b={mode:\"hidden\",children:b};0===(e&2)&&null!==f?(f.childLanes=0,f.pendingProps=b):f=vi(b,e,0,null);c=Xg(c,e,d,null);f.return=a;c.return=a;f.sibling=c;a.child=f;return c}\nfunction xi(a,b,c,d){var e=a.child;a=e.sibling;c=Tg(e,{mode:\"visible\",children:c});0===(b.mode&2)&&(c.lanes=d);c.return=b;c.sibling=null;null!==a&&(a.nextEffect=null,a.flags=8,b.firstEffect=b.lastEffect=a);return b.child=c}\nfunction wi(a,b,c,d,e){var f=b.mode,g=a.child;a=g.sibling;var h={mode:\"hidden\",children:c};0===(f&2)&&b.child!==g?(c=b.child,c.childLanes=0,c.pendingProps=h,g=c.lastEffect,null!==g?(b.firstEffect=c.firstEffect,b.lastEffect=g,g.nextEffect=null):b.firstEffect=b.lastEffect=null):c=Tg(g,h);null!==a?d=Tg(a,d):(d=Xg(d,f,e,null),d.flags|=2);d.return=b;c.return=b;c.sibling=d;b.child=c;return d}function yi(a,b){a.lanes|=b;var c=a.alternate;null!==c&&(c.lanes|=b);sg(a.return,b)}\nfunction zi(a,b,c,d,e,f){var g=a.memoizedState;null===g?a.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:e,lastEffect:f}:(g.isBackwards=b,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=c,g.tailMode=e,g.lastEffect=f)}\nfunction Ai(a,b,c){var d=b.pendingProps,e=d.revealOrder,f=d.tail;fi(a,b,d.children,c);d=P.current;if(0!==(d&2))d=d&1|2,b.flags|=64;else{if(null!==a&&0!==(a.flags&64))a:for(a=b.child;null!==a;){if(13===a.tag)null!==a.memoizedState&&yi(a,c);else if(19===a.tag)yi(a,c);else if(null!==a.child){a.child.return=a;a=a.child;continue}if(a===b)break a;for(;null===a.sibling;){if(null===a.return||a.return===b)break a;a=a.return}a.sibling.return=a.return;a=a.sibling}d&=1}I(P,d);if(0===(b.mode&2))b.memoizedState=\nnull;else switch(e){case \"forwards\":c=b.child;for(e=null;null!==c;)a=c.alternate,null!==a&&null===ih(a)&&(e=c),c=c.sibling;c=e;null===c?(e=b.child,b.child=null):(e=c.sibling,c.sibling=null);zi(b,!1,e,c,f,b.lastEffect);break;case \"backwards\":c=null;e=b.child;for(b.child=null;null!==e;){a=e.alternate;if(null!==a&&null===ih(a)){b.child=e;break}a=e.sibling;e.sibling=c;c=e;e=a}zi(b,!0,c,null,f,b.lastEffect);break;case \"together\":zi(b,!1,null,null,void 0,b.lastEffect);break;default:b.memoizedState=null}return b.child}\nfunction hi(a,b,c){null!==a&&(b.dependencies=a.dependencies);Dg|=b.lanes;if(0!==(c&b.childLanes)){if(null!==a&&b.child!==a.child)throw Error(y(153));if(null!==b.child){a=b.child;c=Tg(a,a.pendingProps);b.child=c;for(c.return=b;null!==a.sibling;)a=a.sibling,c=c.sibling=Tg(a,a.pendingProps),c.return=b;c.sibling=null}return b.child}return null}var Bi,Ci,Di,Ei;\nBi=function(a,b){for(var c=b.child;null!==c;){if(5===c.tag||6===c.tag)a.appendChild(c.stateNode);else if(4!==c.tag&&null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return}c.sibling.return=c.return;c=c.sibling}};Ci=function(){};\nDi=function(a,b,c,d){var e=a.memoizedProps;if(e!==d){a=b.stateNode;dh(ah.current);var f=null;switch(c){case \"input\":e=Ya(a,e);d=Ya(a,d);f=[];break;case \"option\":e=eb(a,e);d=eb(a,d);f=[];break;case \"select\":e=m({},e,{value:void 0});d=m({},d,{value:void 0});f=[];break;case \"textarea\":e=gb(a,e);d=gb(a,d);f=[];break;default:\"function\"!==typeof e.onClick&&\"function\"===typeof d.onClick&&(a.onclick=jf)}vb(c,d);var g;c=null;for(l in e)if(!d.hasOwnProperty(l)&&e.hasOwnProperty(l)&&null!=e[l])if(\"style\"===\nl){var h=e[l];for(g in h)h.hasOwnProperty(g)&&(c||(c={}),c[g]=\"\")}else\"dangerouslySetInnerHTML\"!==l&&\"children\"!==l&&\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&\"autoFocus\"!==l&&(ca.hasOwnProperty(l)?f||(f=[]):(f=f||[]).push(l,null));for(l in d){var k=d[l];h=null!=e?e[l]:void 0;if(d.hasOwnProperty(l)&&k!==h&&(null!=k||null!=h))if(\"style\"===l)if(h){for(g in h)!h.hasOwnProperty(g)||k&&k.hasOwnProperty(g)||(c||(c={}),c[g]=\"\");for(g in k)k.hasOwnProperty(g)&&h[g]!==k[g]&&(c||\n(c={}),c[g]=k[g])}else c||(f||(f=[]),f.push(l,c)),c=k;else\"dangerouslySetInnerHTML\"===l?(k=k?k.__html:void 0,h=h?h.__html:void 0,null!=k&&h!==k&&(f=f||[]).push(l,k)):\"children\"===l?\"string\"!==typeof k&&\"number\"!==typeof k||(f=f||[]).push(l,\"\"+k):\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&(ca.hasOwnProperty(l)?(null!=k&&\"onScroll\"===l&&G(\"scroll\",a),f||h===k||(f=[])):\"object\"===typeof k&&null!==k&&k.$$typeof===Ga?k.toString():(f=f||[]).push(l,k))}c&&(f=f||[]).push(\"style\",\nc);var l=f;if(b.updateQueue=l)b.flags|=4}};Ei=function(a,b,c,d){c!==d&&(b.flags|=4)};function Fi(a,b){if(!lh)switch(a.tailMode){case \"hidden\":b=a.tail;for(var c=null;null!==b;)null!==b.alternate&&(c=b),b=b.sibling;null===c?a.tail=null:c.sibling=null;break;case \"collapsed\":c=a.tail;for(var d=null;null!==c;)null!==c.alternate&&(d=c),c=c.sibling;null===d?b||null===a.tail?a.tail=null:a.tail.sibling=null:d.sibling=null}}\nfunction Gi(a,b,c){var d=b.pendingProps;switch(b.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Ff(b.type)&&Gf(),null;case 3:fh();H(N);H(M);uh();d=b.stateNode;d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null);if(null===a||null===a.child)rh(b)?b.flags|=4:d.hydrate||(b.flags|=256);Ci(b);return null;case 5:hh(b);var e=dh(ch.current);c=b.type;if(null!==a&&null!=b.stateNode)Di(a,b,c,d,e),a.ref!==b.ref&&(b.flags|=128);else{if(!d){if(null===\nb.stateNode)throw Error(y(166));return null}a=dh(ah.current);if(rh(b)){d=b.stateNode;c=b.type;var f=b.memoizedProps;d[wf]=b;d[xf]=f;switch(c){case \"dialog\":G(\"cancel\",d);G(\"close\",d);break;case \"iframe\":case \"object\":case \"embed\":G(\"load\",d);break;case \"video\":case \"audio\":for(a=0;a<Xe.length;a++)G(Xe[a],d);break;case \"source\":G(\"error\",d);break;case \"img\":case \"image\":case \"link\":G(\"error\",d);G(\"load\",d);break;case \"details\":G(\"toggle\",d);break;case \"input\":Za(d,f);G(\"invalid\",d);break;case \"select\":d._wrapperState=\n{wasMultiple:!!f.multiple};G(\"invalid\",d);break;case \"textarea\":hb(d,f),G(\"invalid\",d)}vb(c,f);a=null;for(var g in f)f.hasOwnProperty(g)&&(e=f[g],\"children\"===g?\"string\"===typeof e?d.textContent!==e&&(a=[\"children\",e]):\"number\"===typeof e&&d.textContent!==\"\"+e&&(a=[\"children\",\"\"+e]):ca.hasOwnProperty(g)&&null!=e&&\"onScroll\"===g&&G(\"scroll\",d));switch(c){case \"input\":Va(d);cb(d,f,!0);break;case \"textarea\":Va(d);jb(d);break;case \"select\":case \"option\":break;default:\"function\"===typeof f.onClick&&(d.onclick=\njf)}d=a;b.updateQueue=d;null!==d&&(b.flags|=4)}else{g=9===e.nodeType?e:e.ownerDocument;a===kb.html&&(a=lb(c));a===kb.html?\"script\"===c?(a=g.createElement(\"div\"),a.innerHTML=\"<script>\\x3c/script>\",a=a.removeChild(a.firstChild)):\"string\"===typeof d.is?a=g.createElement(c,{is:d.is}):(a=g.createElement(c),\"select\"===c&&(g=a,d.multiple?g.multiple=!0:d.size&&(g.size=d.size))):a=g.createElementNS(a,c);a[wf]=b;a[xf]=d;Bi(a,b,!1,!1);b.stateNode=a;g=wb(c,d);switch(c){case \"dialog\":G(\"cancel\",a);G(\"close\",a);\ne=d;break;case \"iframe\":case \"object\":case \"embed\":G(\"load\",a);e=d;break;case \"video\":case \"audio\":for(e=0;e<Xe.length;e++)G(Xe[e],a);e=d;break;case \"source\":G(\"error\",a);e=d;break;case \"img\":case \"image\":case \"link\":G(\"error\",a);G(\"load\",a);e=d;break;case \"details\":G(\"toggle\",a);e=d;break;case \"input\":Za(a,d);e=Ya(a,d);G(\"invalid\",a);break;case \"option\":e=eb(a,d);break;case \"select\":a._wrapperState={wasMultiple:!!d.multiple};e=m({},d,{value:void 0});G(\"invalid\",a);break;case \"textarea\":hb(a,d);e=\ngb(a,d);G(\"invalid\",a);break;default:e=d}vb(c,e);var h=e;for(f in h)if(h.hasOwnProperty(f)){var k=h[f];\"style\"===f?tb(a,k):\"dangerouslySetInnerHTML\"===f?(k=k?k.__html:void 0,null!=k&&ob(a,k)):\"children\"===f?\"string\"===typeof k?(\"textarea\"!==c||\"\"!==k)&&pb(a,k):\"number\"===typeof k&&pb(a,\"\"+k):\"suppressContentEditableWarning\"!==f&&\"suppressHydrationWarning\"!==f&&\"autoFocus\"!==f&&(ca.hasOwnProperty(f)?null!=k&&\"onScroll\"===f&&G(\"scroll\",a):null!=k&&qa(a,f,k,g))}switch(c){case \"input\":Va(a);cb(a,d,!1);\nbreak;case \"textarea\":Va(a);jb(a);break;case \"option\":null!=d.value&&a.setAttribute(\"value\",\"\"+Sa(d.value));break;case \"select\":a.multiple=!!d.multiple;f=d.value;null!=f?fb(a,!!d.multiple,f,!1):null!=d.defaultValue&&fb(a,!!d.multiple,d.defaultValue,!0);break;default:\"function\"===typeof e.onClick&&(a.onclick=jf)}mf(c,d)&&(b.flags|=4)}null!==b.ref&&(b.flags|=128)}return null;case 6:if(a&&null!=b.stateNode)Ei(a,b,a.memoizedProps,d);else{if(\"string\"!==typeof d&&null===b.stateNode)throw Error(y(166));\nc=dh(ch.current);dh(ah.current);rh(b)?(d=b.stateNode,c=b.memoizedProps,d[wf]=b,d.nodeValue!==c&&(b.flags|=4)):(d=(9===c.nodeType?c:c.ownerDocument).createTextNode(d),d[wf]=b,b.stateNode=d)}return null;case 13:H(P);d=b.memoizedState;if(0!==(b.flags&64))return b.lanes=c,b;d=null!==d;c=!1;null===a?void 0!==b.memoizedProps.fallback&&rh(b):c=null!==a.memoizedState;if(d&&!c&&0!==(b.mode&2))if(null===a&&!0!==b.memoizedProps.unstable_avoidThisFallback||0!==(P.current&1))0===V&&(V=3);else{if(0===V||3===V)V=\n4;null===U||0===(Dg&134217727)&&0===(Hi&134217727)||Ii(U,W)}if(d||c)b.flags|=4;return null;case 4:return fh(),Ci(b),null===a&&cf(b.stateNode.containerInfo),null;case 10:return rg(b),null;case 17:return Ff(b.type)&&Gf(),null;case 19:H(P);d=b.memoizedState;if(null===d)return null;f=0!==(b.flags&64);g=d.rendering;if(null===g)if(f)Fi(d,!1);else{if(0!==V||null!==a&&0!==(a.flags&64))for(a=b.child;null!==a;){g=ih(a);if(null!==g){b.flags|=64;Fi(d,!1);f=g.updateQueue;null!==f&&(b.updateQueue=f,b.flags|=4);\nnull===d.lastEffect&&(b.firstEffect=null);b.lastEffect=d.lastEffect;d=c;for(c=b.child;null!==c;)f=c,a=d,f.flags&=2,f.nextEffect=null,f.firstEffect=null,f.lastEffect=null,g=f.alternate,null===g?(f.childLanes=0,f.lanes=a,f.child=null,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,a=g.dependencies,\nf.dependencies=null===a?null:{lanes:a.lanes,firstContext:a.firstContext}),c=c.sibling;I(P,P.current&1|2);return b.child}a=a.sibling}null!==d.tail&&O()>Ji&&(b.flags|=64,f=!0,Fi(d,!1),b.lanes=33554432)}else{if(!f)if(a=ih(g),null!==a){if(b.flags|=64,f=!0,c=a.updateQueue,null!==c&&(b.updateQueue=c,b.flags|=4),Fi(d,!0),null===d.tail&&\"hidden\"===d.tailMode&&!g.alternate&&!lh)return b=b.lastEffect=d.lastEffect,null!==b&&(b.nextEffect=null),null}else 2*O()-d.renderingStartTime>Ji&&1073741824!==c&&(b.flags|=\n64,f=!0,Fi(d,!1),b.lanes=33554432);d.isBackwards?(g.sibling=b.child,b.child=g):(c=d.last,null!==c?c.sibling=g:b.child=g,d.last=g)}return null!==d.tail?(c=d.tail,d.rendering=c,d.tail=c.sibling,d.lastEffect=b.lastEffect,d.renderingStartTime=O(),c.sibling=null,b=P.current,I(P,f?b&1|2:b&1),c):null;case 23:case 24:return Ki(),null!==a&&null!==a.memoizedState!==(null!==b.memoizedState)&&\"unstable-defer-without-hiding\"!==d.mode&&(b.flags|=4),null}throw Error(y(156,b.tag));}\nfunction Li(a){switch(a.tag){case 1:Ff(a.type)&&Gf();var b=a.flags;return b&4096?(a.flags=b&-4097|64,a):null;case 3:fh();H(N);H(M);uh();b=a.flags;if(0!==(b&64))throw Error(y(285));a.flags=b&-4097|64;return a;case 5:return hh(a),null;case 13:return H(P),b=a.flags,b&4096?(a.flags=b&-4097|64,a):null;case 19:return H(P),null;case 4:return fh(),null;case 10:return rg(a),null;case 23:case 24:return Ki(),null;default:return null}}\nfunction Mi(a,b){try{var c=\"\",d=b;do c+=Qa(d),d=d.return;while(d);var e=c}catch(f){e=\"\\nError generating stack: \"+f.message+\"\\n\"+f.stack}return{value:a,source:b,stack:e}}function Ni(a,b){try{console.error(b.value)}catch(c){setTimeout(function(){throw c;})}}var Oi=\"function\"===typeof WeakMap?WeakMap:Map;function Pi(a,b,c){c=zg(-1,c);c.tag=3;c.payload={element:null};var d=b.value;c.callback=function(){Qi||(Qi=!0,Ri=d);Ni(a,b)};return c}\nfunction Si(a,b,c){c=zg(-1,c);c.tag=3;var d=a.type.getDerivedStateFromError;if(\"function\"===typeof d){var e=b.value;c.payload=function(){Ni(a,b);return d(e)}}var f=a.stateNode;null!==f&&\"function\"===typeof f.componentDidCatch&&(c.callback=function(){\"function\"!==typeof d&&(null===Ti?Ti=new Set([this]):Ti.add(this),Ni(a,b));var c=b.stack;this.componentDidCatch(b.value,{componentStack:null!==c?c:\"\"})});return c}var Ui=\"function\"===typeof WeakSet?WeakSet:Set;\nfunction Vi(a){var b=a.ref;if(null!==b)if(\"function\"===typeof b)try{b(null)}catch(c){Wi(a,c)}else b.current=null}function Xi(a,b){switch(b.tag){case 0:case 11:case 15:case 22:return;case 1:if(b.flags&256&&null!==a){var c=a.memoizedProps,d=a.memoizedState;a=b.stateNode;b=a.getSnapshotBeforeUpdate(b.elementType===b.type?c:lg(b.type,c),d);a.__reactInternalSnapshotBeforeUpdate=b}return;case 3:b.flags&256&&qf(b.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(y(163));}\nfunction Yi(a,b,c){switch(c.tag){case 0:case 11:case 15:case 22:b=c.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){a=b=b.next;do{if(3===(a.tag&3)){var d=a.create;a.destroy=d()}a=a.next}while(a!==b)}b=c.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){a=b=b.next;do{var e=a;d=e.next;e=e.tag;0!==(e&4)&&0!==(e&1)&&(Zi(c,a),$i(c,a));a=d}while(a!==b)}return;case 1:a=c.stateNode;c.flags&4&&(null===b?a.componentDidMount():(d=c.elementType===c.type?b.memoizedProps:lg(c.type,b.memoizedProps),a.componentDidUpdate(d,\nb.memoizedState,a.__reactInternalSnapshotBeforeUpdate)));b=c.updateQueue;null!==b&&Eg(c,b,a);return;case 3:b=c.updateQueue;if(null!==b){a=null;if(null!==c.child)switch(c.child.tag){case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}Eg(c,b,a)}return;case 5:a=c.stateNode;null===b&&c.flags&4&&mf(c.type,c.memoizedProps)&&a.focus();return;case 6:return;case 4:return;case 12:return;case 13:null===c.memoizedState&&(c=c.alternate,null!==c&&(c=c.memoizedState,null!==c&&(c=c.dehydrated,null!==c&&Cc(c))));\nreturn;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(y(163));}\nfunction aj(a,b){for(var c=a;;){if(5===c.tag){var d=c.stateNode;if(b)d=d.style,\"function\"===typeof d.setProperty?d.setProperty(\"display\",\"none\",\"important\"):d.display=\"none\";else{d=c.stateNode;var e=c.memoizedProps.style;e=void 0!==e&&null!==e&&e.hasOwnProperty(\"display\")?e.display:null;d.style.display=sb(\"display\",e)}}else if(6===c.tag)c.stateNode.nodeValue=b?\"\":c.memoizedProps;else if((23!==c.tag&&24!==c.tag||null===c.memoizedState||c===a)&&null!==c.child){c.child.return=c;c=c.child;continue}if(c===\na)break;for(;null===c.sibling;){if(null===c.return||c.return===a)return;c=c.return}c.sibling.return=c.return;c=c.sibling}}\nfunction bj(a,b){if(Mf&&\"function\"===typeof Mf.onCommitFiberUnmount)try{Mf.onCommitFiberUnmount(Lf,b)}catch(f){}switch(b.tag){case 0:case 11:case 14:case 15:case 22:a=b.updateQueue;if(null!==a&&(a=a.lastEffect,null!==a)){var c=a=a.next;do{var d=c,e=d.destroy;d=d.tag;if(void 0!==e)if(0!==(d&4))Zi(b,c);else{d=b;try{e()}catch(f){Wi(d,f)}}c=c.next}while(c!==a)}break;case 1:Vi(b);a=b.stateNode;if(\"function\"===typeof a.componentWillUnmount)try{a.props=b.memoizedProps,a.state=b.memoizedState,a.componentWillUnmount()}catch(f){Wi(b,\nf)}break;case 5:Vi(b);break;case 4:cj(a,b)}}function dj(a){a.alternate=null;a.child=null;a.dependencies=null;a.firstEffect=null;a.lastEffect=null;a.memoizedProps=null;a.memoizedState=null;a.pendingProps=null;a.return=null;a.updateQueue=null}function ej(a){return 5===a.tag||3===a.tag||4===a.tag}\nfunction fj(a){a:{for(var b=a.return;null!==b;){if(ej(b))break a;b=b.return}throw Error(y(160));}var c=b;b=c.stateNode;switch(c.tag){case 5:var d=!1;break;case 3:b=b.containerInfo;d=!0;break;case 4:b=b.containerInfo;d=!0;break;default:throw Error(y(161));}c.flags&16&&(pb(b,\"\"),c.flags&=-17);a:b:for(c=a;;){for(;null===c.sibling;){if(null===c.return||ej(c.return)){c=null;break a}c=c.return}c.sibling.return=c.return;for(c=c.sibling;5!==c.tag&&6!==c.tag&&18!==c.tag;){if(c.flags&2)continue b;if(null===\nc.child||4===c.tag)continue b;else c.child.return=c,c=c.child}if(!(c.flags&2)){c=c.stateNode;break a}}d?gj(a,c,b):hj(a,c,b)}\nfunction gj(a,b,c){var d=a.tag,e=5===d||6===d;if(e)a=e?a.stateNode:a.stateNode.instance,b?8===c.nodeType?c.parentNode.insertBefore(a,b):c.insertBefore(a,b):(8===c.nodeType?(b=c.parentNode,b.insertBefore(a,c)):(b=c,b.appendChild(a)),c=c._reactRootContainer,null!==c&&void 0!==c||null!==b.onclick||(b.onclick=jf));else if(4!==d&&(a=a.child,null!==a))for(gj(a,b,c),a=a.sibling;null!==a;)gj(a,b,c),a=a.sibling}\nfunction hj(a,b,c){var d=a.tag,e=5===d||6===d;if(e)a=e?a.stateNode:a.stateNode.instance,b?c.insertBefore(a,b):c.appendChild(a);else if(4!==d&&(a=a.child,null!==a))for(hj(a,b,c),a=a.sibling;null!==a;)hj(a,b,c),a=a.sibling}\nfunction cj(a,b){for(var c=b,d=!1,e,f;;){if(!d){d=c.return;a:for(;;){if(null===d)throw Error(y(160));e=d.stateNode;switch(d.tag){case 5:f=!1;break a;case 3:e=e.containerInfo;f=!0;break a;case 4:e=e.containerInfo;f=!0;break a}d=d.return}d=!0}if(5===c.tag||6===c.tag){a:for(var g=a,h=c,k=h;;)if(bj(g,k),null!==k.child&&4!==k.tag)k.child.return=k,k=k.child;else{if(k===h)break a;for(;null===k.sibling;){if(null===k.return||k.return===h)break a;k=k.return}k.sibling.return=k.return;k=k.sibling}f?(g=e,h=c.stateNode,\n8===g.nodeType?g.parentNode.removeChild(h):g.removeChild(h)):e.removeChild(c.stateNode)}else if(4===c.tag){if(null!==c.child){e=c.stateNode.containerInfo;f=!0;c.child.return=c;c=c.child;continue}}else if(bj(a,c),null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return;4===c.tag&&(d=!1)}c.sibling.return=c.return;c=c.sibling}}\nfunction ij(a,b){switch(b.tag){case 0:case 11:case 14:case 15:case 22:var c=b.updateQueue;c=null!==c?c.lastEffect:null;if(null!==c){var d=c=c.next;do 3===(d.tag&3)&&(a=d.destroy,d.destroy=void 0,void 0!==a&&a()),d=d.next;while(d!==c)}return;case 1:return;case 5:c=b.stateNode;if(null!=c){d=b.memoizedProps;var e=null!==a?a.memoizedProps:d;a=b.type;var f=b.updateQueue;b.updateQueue=null;if(null!==f){c[xf]=d;\"input\"===a&&\"radio\"===d.type&&null!=d.name&&$a(c,d);wb(a,e);b=wb(a,d);for(e=0;e<f.length;e+=\n2){var g=f[e],h=f[e+1];\"style\"===g?tb(c,h):\"dangerouslySetInnerHTML\"===g?ob(c,h):\"children\"===g?pb(c,h):qa(c,g,h,b)}switch(a){case \"input\":ab(c,d);break;case \"textarea\":ib(c,d);break;case \"select\":a=c._wrapperState.wasMultiple,c._wrapperState.wasMultiple=!!d.multiple,f=d.value,null!=f?fb(c,!!d.multiple,f,!1):a!==!!d.multiple&&(null!=d.defaultValue?fb(c,!!d.multiple,d.defaultValue,!0):fb(c,!!d.multiple,d.multiple?[]:\"\",!1))}}}return;case 6:if(null===b.stateNode)throw Error(y(162));b.stateNode.nodeValue=\nb.memoizedProps;return;case 3:c=b.stateNode;c.hydrate&&(c.hydrate=!1,Cc(c.containerInfo));return;case 12:return;case 13:null!==b.memoizedState&&(jj=O(),aj(b.child,!0));kj(b);return;case 19:kj(b);return;case 17:return;case 23:case 24:aj(b,null!==b.memoizedState);return}throw Error(y(163));}function kj(a){var b=a.updateQueue;if(null!==b){a.updateQueue=null;var c=a.stateNode;null===c&&(c=a.stateNode=new Ui);b.forEach(function(b){var d=lj.bind(null,a,b);c.has(b)||(c.add(b),b.then(d,d))})}}\nfunction mj(a,b){return null!==a&&(a=a.memoizedState,null===a||null!==a.dehydrated)?(b=b.memoizedState,null!==b&&null===b.dehydrated):!1}var nj=Math.ceil,oj=ra.ReactCurrentDispatcher,pj=ra.ReactCurrentOwner,X=0,U=null,Y=null,W=0,qj=0,rj=Bf(0),V=0,sj=null,tj=0,Dg=0,Hi=0,uj=0,vj=null,jj=0,Ji=Infinity;function wj(){Ji=O()+500}var Z=null,Qi=!1,Ri=null,Ti=null,xj=!1,yj=null,zj=90,Aj=[],Bj=[],Cj=null,Dj=0,Ej=null,Fj=-1,Gj=0,Hj=0,Ij=null,Jj=!1;function Hg(){return 0!==(X&48)?O():-1!==Fj?Fj:Fj=O()}\nfunction Ig(a){a=a.mode;if(0===(a&2))return 1;if(0===(a&4))return 99===eg()?1:2;0===Gj&&(Gj=tj);if(0!==kg.transition){0!==Hj&&(Hj=null!==vj?vj.pendingLanes:0);a=Gj;var b=4186112&~Hj;b&=-b;0===b&&(a=4186112&~a,b=a&-a,0===b&&(b=8192));return b}a=eg();0!==(X&4)&&98===a?a=Xc(12,Gj):(a=Sc(a),a=Xc(a,Gj));return a}\nfunction Jg(a,b,c){if(50<Dj)throw Dj=0,Ej=null,Error(y(185));a=Kj(a,b);if(null===a)return null;$c(a,b,c);a===U&&(Hi|=b,4===V&&Ii(a,W));var d=eg();1===b?0!==(X&8)&&0===(X&48)?Lj(a):(Mj(a,c),0===X&&(wj(),ig())):(0===(X&4)||98!==d&&99!==d||(null===Cj?Cj=new Set([a]):Cj.add(a)),Mj(a,c));vj=a}function Kj(a,b){a.lanes|=b;var c=a.alternate;null!==c&&(c.lanes|=b);c=a;for(a=a.return;null!==a;)a.childLanes|=b,c=a.alternate,null!==c&&(c.childLanes|=b),c=a,a=a.return;return 3===c.tag?c.stateNode:null}\nfunction Mj(a,b){for(var c=a.callbackNode,d=a.suspendedLanes,e=a.pingedLanes,f=a.expirationTimes,g=a.pendingLanes;0<g;){var h=31-Vc(g),k=1<<h,l=f[h];if(-1===l){if(0===(k&d)||0!==(k&e)){l=b;Rc(k);var n=F;f[h]=10<=n?l+250:6<=n?l+5E3:-1}}else l<=b&&(a.expiredLanes|=k);g&=~k}d=Uc(a,a===U?W:0);b=F;if(0===d)null!==c&&(c!==Zf&&Pf(c),a.callbackNode=null,a.callbackPriority=0);else{if(null!==c){if(a.callbackPriority===b)return;c!==Zf&&Pf(c)}15===b?(c=Lj.bind(null,a),null===ag?(ag=[c],bg=Of(Uf,jg)):ag.push(c),\nc=Zf):14===b?c=hg(99,Lj.bind(null,a)):(c=Tc(b),c=hg(c,Nj.bind(null,a)));a.callbackPriority=b;a.callbackNode=c}}\nfunction Nj(a){Fj=-1;Hj=Gj=0;if(0!==(X&48))throw Error(y(327));var b=a.callbackNode;if(Oj()&&a.callbackNode!==b)return null;var c=Uc(a,a===U?W:0);if(0===c)return null;var d=c;var e=X;X|=16;var f=Pj();if(U!==a||W!==d)wj(),Qj(a,d);do try{Rj();break}catch(h){Sj(a,h)}while(1);qg();oj.current=f;X=e;null!==Y?d=0:(U=null,W=0,d=V);if(0!==(tj&Hi))Qj(a,0);else if(0!==d){2===d&&(X|=64,a.hydrate&&(a.hydrate=!1,qf(a.containerInfo)),c=Wc(a),0!==c&&(d=Tj(a,c)));if(1===d)throw b=sj,Qj(a,0),Ii(a,c),Mj(a,O()),b;a.finishedWork=\na.current.alternate;a.finishedLanes=c;switch(d){case 0:case 1:throw Error(y(345));case 2:Uj(a);break;case 3:Ii(a,c);if((c&62914560)===c&&(d=jj+500-O(),10<d)){if(0!==Uc(a,0))break;e=a.suspendedLanes;if((e&c)!==c){Hg();a.pingedLanes|=a.suspendedLanes&e;break}a.timeoutHandle=of(Uj.bind(null,a),d);break}Uj(a);break;case 4:Ii(a,c);if((c&4186112)===c)break;d=a.eventTimes;for(e=-1;0<c;){var g=31-Vc(c);f=1<<g;g=d[g];g>e&&(e=g);c&=~f}c=e;c=O()-c;c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3E3>c?3E3:4320>\nc?4320:1960*nj(c/1960))-c;if(10<c){a.timeoutHandle=of(Uj.bind(null,a),c);break}Uj(a);break;case 5:Uj(a);break;default:throw Error(y(329));}}Mj(a,O());return a.callbackNode===b?Nj.bind(null,a):null}function Ii(a,b){b&=~uj;b&=~Hi;a.suspendedLanes|=b;a.pingedLanes&=~b;for(a=a.expirationTimes;0<b;){var c=31-Vc(b),d=1<<c;a[c]=-1;b&=~d}}\nfunction Lj(a){if(0!==(X&48))throw Error(y(327));Oj();if(a===U&&0!==(a.expiredLanes&W)){var b=W;var c=Tj(a,b);0!==(tj&Hi)&&(b=Uc(a,b),c=Tj(a,b))}else b=Uc(a,0),c=Tj(a,b);0!==a.tag&&2===c&&(X|=64,a.hydrate&&(a.hydrate=!1,qf(a.containerInfo)),b=Wc(a),0!==b&&(c=Tj(a,b)));if(1===c)throw c=sj,Qj(a,0),Ii(a,b),Mj(a,O()),c;a.finishedWork=a.current.alternate;a.finishedLanes=b;Uj(a);Mj(a,O());return null}\nfunction Vj(){if(null!==Cj){var a=Cj;Cj=null;a.forEach(function(a){a.expiredLanes|=24&a.pendingLanes;Mj(a,O())})}ig()}function Wj(a,b){var c=X;X|=1;try{return a(b)}finally{X=c,0===X&&(wj(),ig())}}function Xj(a,b){var c=X;X&=-2;X|=8;try{return a(b)}finally{X=c,0===X&&(wj(),ig())}}function ni(a,b){I(rj,qj);qj|=b;tj|=b}function Ki(){qj=rj.current;H(rj)}\nfunction Qj(a,b){a.finishedWork=null;a.finishedLanes=0;var c=a.timeoutHandle;-1!==c&&(a.timeoutHandle=-1,pf(c));if(null!==Y)for(c=Y.return;null!==c;){var d=c;switch(d.tag){case 1:d=d.type.childContextTypes;null!==d&&void 0!==d&&Gf();break;case 3:fh();H(N);H(M);uh();break;case 5:hh(d);break;case 4:fh();break;case 13:H(P);break;case 19:H(P);break;case 10:rg(d);break;case 23:case 24:Ki()}c=c.return}U=a;Y=Tg(a.current,null);W=qj=tj=b;V=0;sj=null;uj=Hi=Dg=0}\nfunction Sj(a,b){do{var c=Y;try{qg();vh.current=Gh;if(yh){for(var d=R.memoizedState;null!==d;){var e=d.queue;null!==e&&(e.pending=null);d=d.next}yh=!1}xh=0;T=S=R=null;zh=!1;pj.current=null;if(null===c||null===c.return){V=1;sj=b;Y=null;break}a:{var f=a,g=c.return,h=c,k=b;b=W;h.flags|=2048;h.firstEffect=h.lastEffect=null;if(null!==k&&\"object\"===typeof k&&\"function\"===typeof k.then){var l=k;if(0===(h.mode&2)){var n=h.alternate;n?(h.updateQueue=n.updateQueue,h.memoizedState=n.memoizedState,h.lanes=n.lanes):\n(h.updateQueue=null,h.memoizedState=null)}var A=0!==(P.current&1),p=g;do{var C;if(C=13===p.tag){var x=p.memoizedState;if(null!==x)C=null!==x.dehydrated?!0:!1;else{var w=p.memoizedProps;C=void 0===w.fallback?!1:!0!==w.unstable_avoidThisFallback?!0:A?!1:!0}}if(C){var z=p.updateQueue;if(null===z){var u=new Set;u.add(l);p.updateQueue=u}else z.add(l);if(0===(p.mode&2)){p.flags|=64;h.flags|=16384;h.flags&=-2981;if(1===h.tag)if(null===h.alternate)h.tag=17;else{var t=zg(-1,1);t.tag=2;Ag(h,t)}h.lanes|=1;break a}k=\nvoid 0;h=b;var q=f.pingCache;null===q?(q=f.pingCache=new Oi,k=new Set,q.set(l,k)):(k=q.get(l),void 0===k&&(k=new Set,q.set(l,k)));if(!k.has(h)){k.add(h);var v=Yj.bind(null,f,l,h);l.then(v,v)}p.flags|=4096;p.lanes=b;break a}p=p.return}while(null!==p);k=Error((Ra(h.type)||\"A React component\")+\" suspended while rendering, but no fallback UI was specified.\\n\\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.\")}5!==V&&(V=2);k=Mi(k,h);p=\ng;do{switch(p.tag){case 3:f=k;p.flags|=4096;b&=-b;p.lanes|=b;var J=Pi(p,f,b);Bg(p,J);break a;case 1:f=k;var K=p.type,Q=p.stateNode;if(0===(p.flags&64)&&(\"function\"===typeof K.getDerivedStateFromError||null!==Q&&\"function\"===typeof Q.componentDidCatch&&(null===Ti||!Ti.has(Q)))){p.flags|=4096;b&=-b;p.lanes|=b;var L=Si(p,f,b);Bg(p,L);break a}}p=p.return}while(null!==p)}Zj(c)}catch(va){b=va;Y===c&&null!==c&&(Y=c=c.return);continue}break}while(1)}\nfunction Pj(){var a=oj.current;oj.current=Gh;return null===a?Gh:a}function Tj(a,b){var c=X;X|=16;var d=Pj();U===a&&W===b||Qj(a,b);do try{ak();break}catch(e){Sj(a,e)}while(1);qg();X=c;oj.current=d;if(null!==Y)throw Error(y(261));U=null;W=0;return V}function ak(){for(;null!==Y;)bk(Y)}function Rj(){for(;null!==Y&&!Qf();)bk(Y)}function bk(a){var b=ck(a.alternate,a,qj);a.memoizedProps=a.pendingProps;null===b?Zj(a):Y=b;pj.current=null}\nfunction Zj(a){var b=a;do{var c=b.alternate;a=b.return;if(0===(b.flags&2048)){c=Gi(c,b,qj);if(null!==c){Y=c;return}c=b;if(24!==c.tag&&23!==c.tag||null===c.memoizedState||0!==(qj&1073741824)||0===(c.mode&4)){for(var d=0,e=c.child;null!==e;)d|=e.lanes|e.childLanes,e=e.sibling;c.childLanes=d}null!==a&&0===(a.flags&2048)&&(null===a.firstEffect&&(a.firstEffect=b.firstEffect),null!==b.lastEffect&&(null!==a.lastEffect&&(a.lastEffect.nextEffect=b.firstEffect),a.lastEffect=b.lastEffect),1<b.flags&&(null!==\na.lastEffect?a.lastEffect.nextEffect=b:a.firstEffect=b,a.lastEffect=b))}else{c=Li(b);if(null!==c){c.flags&=2047;Y=c;return}null!==a&&(a.firstEffect=a.lastEffect=null,a.flags|=2048)}b=b.sibling;if(null!==b){Y=b;return}Y=b=a}while(null!==b);0===V&&(V=5)}function Uj(a){var b=eg();gg(99,dk.bind(null,a,b));return null}\nfunction dk(a,b){do Oj();while(null!==yj);if(0!==(X&48))throw Error(y(327));var c=a.finishedWork;if(null===c)return null;a.finishedWork=null;a.finishedLanes=0;if(c===a.current)throw Error(y(177));a.callbackNode=null;var d=c.lanes|c.childLanes,e=d,f=a.pendingLanes&~e;a.pendingLanes=e;a.suspendedLanes=0;a.pingedLanes=0;a.expiredLanes&=e;a.mutableReadLanes&=e;a.entangledLanes&=e;e=a.entanglements;for(var g=a.eventTimes,h=a.expirationTimes;0<f;){var k=31-Vc(f),l=1<<k;e[k]=0;g[k]=-1;h[k]=-1;f&=~l}null!==\nCj&&0===(d&24)&&Cj.has(a)&&Cj.delete(a);a===U&&(Y=U=null,W=0);1<c.flags?null!==c.lastEffect?(c.lastEffect.nextEffect=c,d=c.firstEffect):d=c:d=c.firstEffect;if(null!==d){e=X;X|=32;pj.current=null;kf=fd;g=Ne();if(Oe(g)){if(\"selectionStart\"in g)h={start:g.selectionStart,end:g.selectionEnd};else a:if(h=(h=g.ownerDocument)&&h.defaultView||window,(l=h.getSelection&&h.getSelection())&&0!==l.rangeCount){h=l.anchorNode;f=l.anchorOffset;k=l.focusNode;l=l.focusOffset;try{h.nodeType,k.nodeType}catch(va){h=null;\nbreak a}var n=0,A=-1,p=-1,C=0,x=0,w=g,z=null;b:for(;;){for(var u;;){w!==h||0!==f&&3!==w.nodeType||(A=n+f);w!==k||0!==l&&3!==w.nodeType||(p=n+l);3===w.nodeType&&(n+=w.nodeValue.length);if(null===(u=w.firstChild))break;z=w;w=u}for(;;){if(w===g)break b;z===h&&++C===f&&(A=n);z===k&&++x===l&&(p=n);if(null!==(u=w.nextSibling))break;w=z;z=w.parentNode}w=u}h=-1===A||-1===p?null:{start:A,end:p}}else h=null;h=h||{start:0,end:0}}else h=null;lf={focusedElem:g,selectionRange:h};fd=!1;Ij=null;Jj=!1;Z=d;do try{ek()}catch(va){if(null===\nZ)throw Error(y(330));Wi(Z,va);Z=Z.nextEffect}while(null!==Z);Ij=null;Z=d;do try{for(g=a;null!==Z;){var t=Z.flags;t&16&&pb(Z.stateNode,\"\");if(t&128){var q=Z.alternate;if(null!==q){var v=q.ref;null!==v&&(\"function\"===typeof v?v(null):v.current=null)}}switch(t&1038){case 2:fj(Z);Z.flags&=-3;break;case 6:fj(Z);Z.flags&=-3;ij(Z.alternate,Z);break;case 1024:Z.flags&=-1025;break;case 1028:Z.flags&=-1025;ij(Z.alternate,Z);break;case 4:ij(Z.alternate,Z);break;case 8:h=Z;cj(g,h);var J=h.alternate;dj(h);null!==\nJ&&dj(J)}Z=Z.nextEffect}}catch(va){if(null===Z)throw Error(y(330));Wi(Z,va);Z=Z.nextEffect}while(null!==Z);v=lf;q=Ne();t=v.focusedElem;g=v.selectionRange;if(q!==t&&t&&t.ownerDocument&&Me(t.ownerDocument.documentElement,t)){null!==g&&Oe(t)&&(q=g.start,v=g.end,void 0===v&&(v=q),\"selectionStart\"in t?(t.selectionStart=q,t.selectionEnd=Math.min(v,t.value.length)):(v=(q=t.ownerDocument||document)&&q.defaultView||window,v.getSelection&&(v=v.getSelection(),h=t.textContent.length,J=Math.min(g.start,h),g=void 0===\ng.end?J:Math.min(g.end,h),!v.extend&&J>g&&(h=g,g=J,J=h),h=Le(t,J),f=Le(t,g),h&&f&&(1!==v.rangeCount||v.anchorNode!==h.node||v.anchorOffset!==h.offset||v.focusNode!==f.node||v.focusOffset!==f.offset)&&(q=q.createRange(),q.setStart(h.node,h.offset),v.removeAllRanges(),J>g?(v.addRange(q),v.extend(f.node,f.offset)):(q.setEnd(f.node,f.offset),v.addRange(q))))));q=[];for(v=t;v=v.parentNode;)1===v.nodeType&&q.push({element:v,left:v.scrollLeft,top:v.scrollTop});\"function\"===typeof t.focus&&t.focus();for(t=\n0;t<q.length;t++)v=q[t],v.element.scrollLeft=v.left,v.element.scrollTop=v.top}fd=!!kf;lf=kf=null;a.current=c;Z=d;do try{for(t=a;null!==Z;){var K=Z.flags;K&36&&Yi(t,Z.alternate,Z);if(K&128){q=void 0;var Q=Z.ref;if(null!==Q){var L=Z.stateNode;switch(Z.tag){case 5:q=L;break;default:q=L}\"function\"===typeof Q?Q(q):Q.current=q}}Z=Z.nextEffect}}catch(va){if(null===Z)throw Error(y(330));Wi(Z,va);Z=Z.nextEffect}while(null!==Z);Z=null;$f();X=e}else a.current=c;if(xj)xj=!1,yj=a,zj=b;else for(Z=d;null!==Z;)b=\nZ.nextEffect,Z.nextEffect=null,Z.flags&8&&(K=Z,K.sibling=null,K.stateNode=null),Z=b;d=a.pendingLanes;0===d&&(Ti=null);1===d?a===Ej?Dj++:(Dj=0,Ej=a):Dj=0;c=c.stateNode;if(Mf&&\"function\"===typeof Mf.onCommitFiberRoot)try{Mf.onCommitFiberRoot(Lf,c,void 0,64===(c.current.flags&64))}catch(va){}Mj(a,O());if(Qi)throw Qi=!1,a=Ri,Ri=null,a;if(0!==(X&8))return null;ig();return null}\nfunction ek(){for(;null!==Z;){var a=Z.alternate;Jj||null===Ij||(0!==(Z.flags&8)?dc(Z,Ij)&&(Jj=!0):13===Z.tag&&mj(a,Z)&&dc(Z,Ij)&&(Jj=!0));var b=Z.flags;0!==(b&256)&&Xi(a,Z);0===(b&512)||xj||(xj=!0,hg(97,function(){Oj();return null}));Z=Z.nextEffect}}function Oj(){if(90!==zj){var a=97<zj?97:zj;zj=90;return gg(a,fk)}return!1}function $i(a,b){Aj.push(b,a);xj||(xj=!0,hg(97,function(){Oj();return null}))}function Zi(a,b){Bj.push(b,a);xj||(xj=!0,hg(97,function(){Oj();return null}))}\nfunction fk(){if(null===yj)return!1;var a=yj;yj=null;if(0!==(X&48))throw Error(y(331));var b=X;X|=32;var c=Bj;Bj=[];for(var d=0;d<c.length;d+=2){var e=c[d],f=c[d+1],g=e.destroy;e.destroy=void 0;if(\"function\"===typeof g)try{g()}catch(k){if(null===f)throw Error(y(330));Wi(f,k)}}c=Aj;Aj=[];for(d=0;d<c.length;d+=2){e=c[d];f=c[d+1];try{var h=e.create;e.destroy=h()}catch(k){if(null===f)throw Error(y(330));Wi(f,k)}}for(h=a.current.firstEffect;null!==h;)a=h.nextEffect,h.nextEffect=null,h.flags&8&&(h.sibling=\nnull,h.stateNode=null),h=a;X=b;ig();return!0}function gk(a,b,c){b=Mi(c,b);b=Pi(a,b,1);Ag(a,b);b=Hg();a=Kj(a,1);null!==a&&($c(a,1,b),Mj(a,b))}\nfunction Wi(a,b){if(3===a.tag)gk(a,a,b);else for(var c=a.return;null!==c;){if(3===c.tag){gk(c,a,b);break}else if(1===c.tag){var d=c.stateNode;if(\"function\"===typeof c.type.getDerivedStateFromError||\"function\"===typeof d.componentDidCatch&&(null===Ti||!Ti.has(d))){a=Mi(b,a);var e=Si(c,a,1);Ag(c,e);e=Hg();c=Kj(c,1);if(null!==c)$c(c,1,e),Mj(c,e);else if(\"function\"===typeof d.componentDidCatch&&(null===Ti||!Ti.has(d)))try{d.componentDidCatch(b,a)}catch(f){}break}}c=c.return}}\nfunction Yj(a,b,c){var d=a.pingCache;null!==d&&d.delete(b);b=Hg();a.pingedLanes|=a.suspendedLanes&c;U===a&&(W&c)===c&&(4===V||3===V&&(W&62914560)===W&&500>O()-jj?Qj(a,0):uj|=c);Mj(a,b)}function lj(a,b){var c=a.stateNode;null!==c&&c.delete(b);b=0;0===b&&(b=a.mode,0===(b&2)?b=1:0===(b&4)?b=99===eg()?1:2:(0===Gj&&(Gj=tj),b=Yc(62914560&~Gj),0===b&&(b=4194304)));c=Hg();a=Kj(a,b);null!==a&&($c(a,b,c),Mj(a,c))}var ck;\nck=function(a,b,c){var d=b.lanes;if(null!==a)if(a.memoizedProps!==b.pendingProps||N.current)ug=!0;else if(0!==(c&d))ug=0!==(a.flags&16384)?!0:!1;else{ug=!1;switch(b.tag){case 3:ri(b);sh();break;case 5:gh(b);break;case 1:Ff(b.type)&&Jf(b);break;case 4:eh(b,b.stateNode.containerInfo);break;case 10:d=b.memoizedProps.value;var e=b.type._context;I(mg,e._currentValue);e._currentValue=d;break;case 13:if(null!==b.memoizedState){if(0!==(c&b.child.childLanes))return ti(a,b,c);I(P,P.current&1);b=hi(a,b,c);return null!==\nb?b.sibling:null}I(P,P.current&1);break;case 19:d=0!==(c&b.childLanes);if(0!==(a.flags&64)){if(d)return Ai(a,b,c);b.flags|=64}e=b.memoizedState;null!==e&&(e.rendering=null,e.tail=null,e.lastEffect=null);I(P,P.current);if(d)break;else return null;case 23:case 24:return b.lanes=0,mi(a,b,c)}return hi(a,b,c)}else ug=!1;b.lanes=0;switch(b.tag){case 2:d=b.type;null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2);a=b.pendingProps;e=Ef(b,M.current);tg(b,c);e=Ch(null,b,d,a,e,c);b.flags|=1;if(\"object\"===\ntypeof e&&null!==e&&\"function\"===typeof e.render&&void 0===e.$$typeof){b.tag=1;b.memoizedState=null;b.updateQueue=null;if(Ff(d)){var f=!0;Jf(b)}else f=!1;b.memoizedState=null!==e.state&&void 0!==e.state?e.state:null;xg(b);var g=d.getDerivedStateFromProps;\"function\"===typeof g&&Gg(b,d,g,a);e.updater=Kg;b.stateNode=e;e._reactInternals=b;Og(b,d,a,c);b=qi(null,b,d,!0,f,c)}else b.tag=0,fi(null,b,e,c),b=b.child;return b;case 16:e=b.elementType;a:{null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2);\na=b.pendingProps;f=e._init;e=f(e._payload);b.type=e;f=b.tag=hk(e);a=lg(e,a);switch(f){case 0:b=li(null,b,e,a,c);break a;case 1:b=pi(null,b,e,a,c);break a;case 11:b=gi(null,b,e,a,c);break a;case 14:b=ii(null,b,e,lg(e.type,a),d,c);break a}throw Error(y(306,e,\"\"));}return b;case 0:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:lg(d,e),li(a,b,d,e,c);case 1:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:lg(d,e),pi(a,b,d,e,c);case 3:ri(b);d=b.updateQueue;if(null===a||null===d)throw Error(y(282));\nd=b.pendingProps;e=b.memoizedState;e=null!==e?e.element:null;yg(a,b);Cg(b,d,null,c);d=b.memoizedState.element;if(d===e)sh(),b=hi(a,b,c);else{e=b.stateNode;if(f=e.hydrate)kh=rf(b.stateNode.containerInfo.firstChild),jh=b,f=lh=!0;if(f){a=e.mutableSourceEagerHydrationData;if(null!=a)for(e=0;e<a.length;e+=2)f=a[e],f._workInProgressVersionPrimary=a[e+1],th.push(f);c=Zg(b,null,d,c);for(b.child=c;c;)c.flags=c.flags&-3|1024,c=c.sibling}else fi(a,b,d,c),sh();b=b.child}return b;case 5:return gh(b),null===a&&\nph(b),d=b.type,e=b.pendingProps,f=null!==a?a.memoizedProps:null,g=e.children,nf(d,e)?g=null:null!==f&&nf(d,f)&&(b.flags|=16),oi(a,b),fi(a,b,g,c),b.child;case 6:return null===a&&ph(b),null;case 13:return ti(a,b,c);case 4:return eh(b,b.stateNode.containerInfo),d=b.pendingProps,null===a?b.child=Yg(b,null,d,c):fi(a,b,d,c),b.child;case 11:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:lg(d,e),gi(a,b,d,e,c);case 7:return fi(a,b,b.pendingProps,c),b.child;case 8:return fi(a,b,b.pendingProps.children,\nc),b.child;case 12:return fi(a,b,b.pendingProps.children,c),b.child;case 10:a:{d=b.type._context;e=b.pendingProps;g=b.memoizedProps;f=e.value;var h=b.type._context;I(mg,h._currentValue);h._currentValue=f;if(null!==g)if(h=g.value,f=He(h,f)?0:(\"function\"===typeof d._calculateChangedBits?d._calculateChangedBits(h,f):1073741823)|0,0===f){if(g.children===e.children&&!N.current){b=hi(a,b,c);break a}}else for(h=b.child,null!==h&&(h.return=b);null!==h;){var k=h.dependencies;if(null!==k){g=h.child;for(var l=\nk.firstContext;null!==l;){if(l.context===d&&0!==(l.observedBits&f)){1===h.tag&&(l=zg(-1,c&-c),l.tag=2,Ag(h,l));h.lanes|=c;l=h.alternate;null!==l&&(l.lanes|=c);sg(h.return,c);k.lanes|=c;break}l=l.next}}else g=10===h.tag?h.type===b.type?null:h.child:h.child;if(null!==g)g.return=h;else for(g=h;null!==g;){if(g===b){g=null;break}h=g.sibling;if(null!==h){h.return=g.return;g=h;break}g=g.return}h=g}fi(a,b,e.children,c);b=b.child}return b;case 9:return e=b.type,f=b.pendingProps,d=f.children,tg(b,c),e=vg(e,\nf.unstable_observedBits),d=d(e),b.flags|=1,fi(a,b,d,c),b.child;case 14:return e=b.type,f=lg(e,b.pendingProps),f=lg(e.type,f),ii(a,b,e,f,d,c);case 15:return ki(a,b,b.type,b.pendingProps,d,c);case 17:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:lg(d,e),null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2),b.tag=1,Ff(d)?(a=!0,Jf(b)):a=!1,tg(b,c),Mg(b,d,e),Og(b,d,e,c),qi(null,b,d,!0,a,c);case 19:return Ai(a,b,c);case 23:return mi(a,b,c);case 24:return mi(a,b,c)}throw Error(y(156,b.tag));\n};function ik(a,b,c,d){this.tag=a;this.key=c;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=b;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=d;this.flags=0;this.lastEffect=this.firstEffect=this.nextEffect=null;this.childLanes=this.lanes=0;this.alternate=null}function nh(a,b,c,d){return new ik(a,b,c,d)}function ji(a){a=a.prototype;return!(!a||!a.isReactComponent)}\nfunction hk(a){if(\"function\"===typeof a)return ji(a)?1:0;if(void 0!==a&&null!==a){a=a.$$typeof;if(a===Aa)return 11;if(a===Da)return 14}return 2}\nfunction Tg(a,b){var c=a.alternate;null===c?(c=nh(a.tag,b,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=b,c.type=a.type,c.flags=0,c.nextEffect=null,c.firstEffect=null,c.lastEffect=null);c.childLanes=a.childLanes;c.lanes=a.lanes;c.child=a.child;c.memoizedProps=a.memoizedProps;c.memoizedState=a.memoizedState;c.updateQueue=a.updateQueue;b=a.dependencies;c.dependencies=null===b?null:{lanes:b.lanes,firstContext:b.firstContext};\nc.sibling=a.sibling;c.index=a.index;c.ref=a.ref;return c}\nfunction Vg(a,b,c,d,e,f){var g=2;d=a;if(\"function\"===typeof a)ji(a)&&(g=1);else if(\"string\"===typeof a)g=5;else a:switch(a){case ua:return Xg(c.children,e,f,b);case Ha:g=8;e|=16;break;case wa:g=8;e|=1;break;case xa:return a=nh(12,c,b,e|8),a.elementType=xa,a.type=xa,a.lanes=f,a;case Ba:return a=nh(13,c,b,e),a.type=Ba,a.elementType=Ba,a.lanes=f,a;case Ca:return a=nh(19,c,b,e),a.elementType=Ca,a.lanes=f,a;case Ia:return vi(c,e,f,b);case Ja:return a=nh(24,c,b,e),a.elementType=Ja,a.lanes=f,a;default:if(\"object\"===\ntypeof a&&null!==a)switch(a.$$typeof){case ya:g=10;break a;case za:g=9;break a;case Aa:g=11;break a;case Da:g=14;break a;case Ea:g=16;d=null;break a;case Fa:g=22;break a}throw Error(y(130,null==a?a:typeof a,\"\"));}b=nh(g,c,b,e);b.elementType=a;b.type=d;b.lanes=f;return b}function Xg(a,b,c,d){a=nh(7,a,d,b);a.lanes=c;return a}function vi(a,b,c,d){a=nh(23,a,d,b);a.elementType=Ia;a.lanes=c;return a}function Ug(a,b,c){a=nh(6,a,null,b);a.lanes=c;return a}\nfunction Wg(a,b,c){b=nh(4,null!==a.children?a.children:[],a.key,b);b.lanes=c;b.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation};return b}\nfunction jk(a,b,c){this.tag=b;this.containerInfo=a;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=-1;this.pendingContext=this.context=null;this.hydrate=c;this.callbackNode=null;this.callbackPriority=0;this.eventTimes=Zc(0);this.expirationTimes=Zc(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=Zc(0);this.mutableSourceEagerHydrationData=null}\nfunction kk(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:ta,key:null==d?null:\"\"+d,children:a,containerInfo:b,implementation:c}}\nfunction lk(a,b,c,d){var e=b.current,f=Hg(),g=Ig(e);a:if(c){c=c._reactInternals;b:{if(Zb(c)!==c||1!==c.tag)throw Error(y(170));var h=c;do{switch(h.tag){case 3:h=h.stateNode.context;break b;case 1:if(Ff(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break b}}h=h.return}while(null!==h);throw Error(y(171));}if(1===c.tag){var k=c.type;if(Ff(k)){c=If(c,k,h);break a}}c=h}else c=Cf;null===b.context?b.context=c:b.pendingContext=c;b=zg(f,g);b.payload={element:a};d=void 0===d?null:d;null!==\nd&&(b.callback=d);Ag(e,b);Jg(e,g,f);return g}function mk(a){a=a.current;if(!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function nk(a,b){a=a.memoizedState;if(null!==a&&null!==a.dehydrated){var c=a.retryLane;a.retryLane=0!==c&&c<b?c:b}}function ok(a,b){nk(a,b);(a=a.alternate)&&nk(a,b)}function pk(){return null}\nfunction qk(a,b,c){var d=null!=c&&null!=c.hydrationOptions&&c.hydrationOptions.mutableSources||null;c=new jk(a,b,null!=c&&!0===c.hydrate);b=nh(3,null,null,2===b?7:1===b?3:0);c.current=b;b.stateNode=c;xg(b);a[ff]=c.current;cf(8===a.nodeType?a.parentNode:a);if(d)for(a=0;a<d.length;a++){b=d[a];var e=b._getVersion;e=e(b._source);null==c.mutableSourceEagerHydrationData?c.mutableSourceEagerHydrationData=[b,e]:c.mutableSourceEagerHydrationData.push(b,e)}this._internalRoot=c}\nqk.prototype.render=function(a){lk(a,this._internalRoot,null,null)};qk.prototype.unmount=function(){var a=this._internalRoot,b=a.containerInfo;lk(null,a,null,function(){b[ff]=null})};function rk(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType&&(8!==a.nodeType||\" react-mount-point-unstable \"!==a.nodeValue))}\nfunction sk(a,b){b||(b=a?9===a.nodeType?a.documentElement:a.firstChild:null,b=!(!b||1!==b.nodeType||!b.hasAttribute(\"data-reactroot\")));if(!b)for(var c;c=a.lastChild;)a.removeChild(c);return new qk(a,0,b?{hydrate:!0}:void 0)}\nfunction tk(a,b,c,d,e){var f=c._reactRootContainer;if(f){var g=f._internalRoot;if(\"function\"===typeof e){var h=e;e=function(){var a=mk(g);h.call(a)}}lk(b,g,a,e)}else{f=c._reactRootContainer=sk(c,d);g=f._internalRoot;if(\"function\"===typeof e){var k=e;e=function(){var a=mk(g);k.call(a)}}Xj(function(){lk(b,g,a,e)})}return mk(g)}ec=function(a){if(13===a.tag){var b=Hg();Jg(a,4,b);ok(a,4)}};fc=function(a){if(13===a.tag){var b=Hg();Jg(a,67108864,b);ok(a,67108864)}};\ngc=function(a){if(13===a.tag){var b=Hg(),c=Ig(a);Jg(a,c,b);ok(a,c)}};hc=function(a,b){return b()};\nyb=function(a,b,c){switch(b){case \"input\":ab(a,c);b=c.name;if(\"radio\"===c.type&&null!=b){for(c=a;c.parentNode;)c=c.parentNode;c=c.querySelectorAll(\"input[name=\"+JSON.stringify(\"\"+b)+'][type=\"radio\"]');for(b=0;b<c.length;b++){var d=c[b];if(d!==a&&d.form===a.form){var e=Db(d);if(!e)throw Error(y(90));Wa(d);ab(d,e)}}}break;case \"textarea\":ib(a,c);break;case \"select\":b=c.value,null!=b&&fb(a,!!c.multiple,b,!1)}};Gb=Wj;\nHb=function(a,b,c,d,e){var f=X;X|=4;try{return gg(98,a.bind(null,b,c,d,e))}finally{X=f,0===X&&(wj(),ig())}};Ib=function(){0===(X&49)&&(Vj(),Oj())};Jb=function(a,b){var c=X;X|=2;try{return a(b)}finally{X=c,0===X&&(wj(),ig())}};function uk(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!rk(b))throw Error(y(200));return kk(a,b,null,c)}var vk={Events:[Cb,ue,Db,Eb,Fb,Oj,{current:!1}]},wk={findFiberByHostInstance:wc,bundleType:0,version:\"17.0.1\",rendererPackageName:\"react-dom\"};\nvar xk={bundleType:wk.bundleType,version:wk.version,rendererPackageName:wk.rendererPackageName,rendererConfig:wk.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ra.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){a=cc(a);return null===a?null:a.stateNode},findFiberByHostInstance:wk.findFiberByHostInstance||\npk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(\"undefined\"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var yk=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yk.isDisabled&&yk.supportsFiber)try{Lf=yk.inject(xk),Mf=yk}catch(a){}}exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vk;exports.createPortal=uk;\nexports.findDOMNode=function(a){if(null==a)return null;if(1===a.nodeType)return a;var b=a._reactInternals;if(void 0===b){if(\"function\"===typeof a.render)throw Error(y(188));throw Error(y(268,Object.keys(a)));}a=cc(b);a=null===a?null:a.stateNode;return a};exports.flushSync=function(a,b){var c=X;if(0!==(c&48))return a(b);X|=1;try{if(a)return gg(99,a.bind(null,b))}finally{X=c,ig()}};exports.hydrate=function(a,b,c){if(!rk(b))throw Error(y(200));return tk(null,a,b,!0,c)};\nexports.render=function(a,b,c){if(!rk(b))throw Error(y(200));return tk(null,a,b,!1,c)};exports.unmountComponentAtNode=function(a){if(!rk(a))throw Error(y(40));return a._reactRootContainer?(Xj(function(){tk(null,null,a,!1,function(){a._reactRootContainer=null;a[ff]=null})}),!0):!1};exports.unstable_batchedUpdates=Wj;exports.unstable_createPortal=function(a,b){return uk(a,b,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)};\nexports.unstable_renderSubtreeIntoContainer=function(a,b,c,d){if(!rk(c))throw Error(y(200));if(null==a||void 0===a._reactInternals)throw Error(y(38));return tk(a,b,c,!1,d)};exports.version=\"17.0.1\";\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/scheduler.production.min.js');\n} else {\n  module.exports = require('./cjs/scheduler.development.js');\n}\n","/** @license React v0.20.1\n * scheduler.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f,g,h,k;if(\"object\"===typeof performance&&\"function\"===typeof performance.now){var l=performance;exports.unstable_now=function(){return l.now()}}else{var p=Date,q=p.now();exports.unstable_now=function(){return p.now()-q}}\nif(\"undefined\"===typeof window||\"function\"!==typeof MessageChannel){var t=null,u=null,w=function(){if(null!==t)try{var a=exports.unstable_now();t(!0,a);t=null}catch(b){throw setTimeout(w,0),b;}};f=function(a){null!==t?setTimeout(f,0,a):(t=a,setTimeout(w,0))};g=function(a,b){u=setTimeout(a,b)};h=function(){clearTimeout(u)};exports.unstable_shouldYield=function(){return!1};k=exports.unstable_forceFrameRate=function(){}}else{var x=window.setTimeout,y=window.clearTimeout;if(\"undefined\"!==typeof console){var z=\nwindow.cancelAnimationFrame;\"function\"!==typeof window.requestAnimationFrame&&console.error(\"This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills\");\"function\"!==typeof z&&console.error(\"This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills\")}var A=!1,B=null,C=-1,D=5,E=0;exports.unstable_shouldYield=function(){return exports.unstable_now()>=\nE};k=function(){};exports.unstable_forceFrameRate=function(a){0>a||125<a?console.error(\"forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported\"):D=0<a?Math.floor(1E3/a):5};var F=new MessageChannel,G=F.port2;F.port1.onmessage=function(){if(null!==B){var a=exports.unstable_now();E=a+D;try{B(!0,a)?G.postMessage(null):(A=!1,B=null)}catch(b){throw G.postMessage(null),b;}}else A=!1};f=function(a){B=a;A||(A=!0,G.postMessage(null))};g=function(a,b){C=\nx(function(){a(exports.unstable_now())},b)};h=function(){y(C);C=-1}}function H(a,b){var c=a.length;a.push(b);a:for(;;){var d=c-1>>>1,e=a[d];if(void 0!==e&&0<I(e,b))a[d]=b,a[c]=e,c=d;else break a}}function J(a){a=a[0];return void 0===a?null:a}\nfunction K(a){var b=a[0];if(void 0!==b){var c=a.pop();if(c!==b){a[0]=c;a:for(var d=0,e=a.length;d<e;){var m=2*(d+1)-1,n=a[m],v=m+1,r=a[v];if(void 0!==n&&0>I(n,c))void 0!==r&&0>I(r,n)?(a[d]=r,a[v]=c,d=v):(a[d]=n,a[m]=c,d=m);else if(void 0!==r&&0>I(r,c))a[d]=r,a[v]=c,d=v;else break a}}return b}return null}function I(a,b){var c=a.sortIndex-b.sortIndex;return 0!==c?c:a.id-b.id}var L=[],M=[],N=1,O=null,P=3,Q=!1,R=!1,S=!1;\nfunction T(a){for(var b=J(M);null!==b;){if(null===b.callback)K(M);else if(b.startTime<=a)K(M),b.sortIndex=b.expirationTime,H(L,b);else break;b=J(M)}}function U(a){S=!1;T(a);if(!R)if(null!==J(L))R=!0,f(V);else{var b=J(M);null!==b&&g(U,b.startTime-a)}}\nfunction V(a,b){R=!1;S&&(S=!1,h());Q=!0;var c=P;try{T(b);for(O=J(L);null!==O&&(!(O.expirationTime>b)||a&&!exports.unstable_shouldYield());){var d=O.callback;if(\"function\"===typeof d){O.callback=null;P=O.priorityLevel;var e=d(O.expirationTime<=b);b=exports.unstable_now();\"function\"===typeof e?O.callback=e:O===J(L)&&K(L);T(b)}else K(L);O=J(L)}if(null!==O)var m=!0;else{var n=J(M);null!==n&&g(U,n.startTime-b);m=!1}return m}finally{O=null,P=c,Q=!1}}var W=k;exports.unstable_IdlePriority=5;\nexports.unstable_ImmediatePriority=1;exports.unstable_LowPriority=4;exports.unstable_NormalPriority=3;exports.unstable_Profiling=null;exports.unstable_UserBlockingPriority=2;exports.unstable_cancelCallback=function(a){a.callback=null};exports.unstable_continueExecution=function(){R||Q||(R=!0,f(V))};exports.unstable_getCurrentPriorityLevel=function(){return P};exports.unstable_getFirstCallbackNode=function(){return J(L)};\nexports.unstable_next=function(a){switch(P){case 1:case 2:case 3:var b=3;break;default:b=P}var c=P;P=b;try{return a()}finally{P=c}};exports.unstable_pauseExecution=function(){};exports.unstable_requestPaint=W;exports.unstable_runWithPriority=function(a,b){switch(a){case 1:case 2:case 3:case 4:case 5:break;default:a=3}var c=P;P=a;try{return b()}finally{P=c}};\nexports.unstable_scheduleCallback=function(a,b,c){var d=exports.unstable_now();\"object\"===typeof c&&null!==c?(c=c.delay,c=\"number\"===typeof c&&0<c?d+c:d):c=d;switch(a){case 1:var e=-1;break;case 2:e=250;break;case 5:e=1073741823;break;case 4:e=1E4;break;default:e=5E3}e=c+e;a={id:N++,callback:b,priorityLevel:a,startTime:c,expirationTime:e,sortIndex:-1};c>d?(a.sortIndex=c,H(M,a),null===J(L)&&a===J(M)&&(S?h():S=!0,g(U,c-d))):(a.sortIndex=e,H(L,a),R||Q||(R=!0,f(V)));return a};\nexports.unstable_wrapCallback=function(a){var b=P;return function(){var c=P;P=b;try{return a.apply(this,arguments)}finally{P=c}}};\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(\n      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)\n    ))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","'use strict';\n\nmodule.exports = function () {\n  throw new Error(\n    'ws does not work in the browser. Browser clients must use the native ' +\n      'WebSocket object'\n  );\n};\n"],"sourceRoot":""}