{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js","../node_modules/react/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../node_modules/webpack/buildin/global.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/react/jsx-runtime.js","../node_modules/react-dom/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js","../../../src/Glue.tsx","../../../src/useGlueInit.ts","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/prop-types/index.js","../node_modules/object-assign/index.js","../node_modules/process/browser.js","../../node_modules/callback-registry/lib/index.js","../../node_modules/decoder-validate/dist/index.es5.js","../../src/shared/decoders.ts","../../src/communication/constants.ts","../../src/communication/bridge.ts","../../src/communication/interop-transport.ts","../../src/shared/promisePlus.ts","../../src/builders/parentBuilder.ts","../../src/builders/baseBuilder.ts","../../src/builders/workspaceBuilder.ts","../../src/models/row.ts","../../src/models/column.ts","../../src/models/group.ts","../../src/models/workspace.ts","../../src/models/window.ts","../../src/models/frame.ts","../../src/shared/privateDataManager.ts","../../src/models/base/base.ts","../../src/controllers/base.ts","../../src/controllers/main.ts","../../src/shared/ioc.ts","../../src/main.ts","../../src/index.ts","../node_modules/buffer/index.js","../../node_modules/tslib/tslib.es6.js","../../src/defaultComponents/HeaderButton.tsx","../../src/defaultComponents/popups/addApplication/ApplicationItem.tsx","../../src/defaultComponents/popups/addApplication/ApplicationsList.tsx","../../src/defaultComponents/popups/addApplication/ContainerSwitch.tsx","../../src/withGlueInstance.tsx","../../src/defaultComponents/popups/addApplication/AddApplicationPopup.tsx","../../src/defaultComponents/popups/Feedback.tsx","../../src/defaultComponents/popups/helpers.ts","../../src/defaultComponents/popups/addWorkspace/WorkspaceLayoutItem.tsx","../../src/defaultComponents/popups/addWorkspace/WorkspaceLayoutsList.tsx","../../src/defaultComponents/popups/addWorkspace/AddWorkspacePopup.tsx","../../src/defaultComponents/popups/saveWorkspace/SaveContextCheckbox.tsx","../../src/defaultComponents/popups/saveWorkspace/SaveWorkspaceButton.tsx","../../src/defaultComponents/popups/saveWorkspace/SaveWorkspacePopup.tsx","../../../workspaces-ui-core/dist/export.js","../../src/workspacesManager.ts","../../node_modules/reactjs-popup/dist/reactjs-popup.esm.js","../../src/WorkspacePopup.tsx","../../src/Portal.tsx","../../src/WorkspacesWrapper.tsx","../../src/WorkspacesElementCreationWrapper.tsx","../../src/index.tsx","../node_modules/@glue42/desktop/dist/desktop.browser.js","../node_modules/@glue42/web/dist/web.es.js","../node_modules/react/cjs/react-jsx-runtime.production.min.js","../node_modules/react/cjs/react.production.min.js","../node_modules/react-dom/cjs/react-dom.production.min.js","../node_modules/scheduler/index.js","../node_modules/scheduler/cjs/scheduler.production.min.js","../node_modules/timers-browserify/main.js","../node_modules/setimmediate/setImmediate.js","../node_modules/regenerator-runtime/runtime.js","../node_modules/prop-types/factoryWithThrowingShims.js","../node_modules/prop-types/lib/ReactPropTypesSecret.js","../node_modules/base64-js/index.js","../node_modules/ieee754/index.js","../node_modules/isarray/index.js","../node_modules/ws/browser.js"],"names":["module","exports","require","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","from","unsupportedIterableToArray","g","this","Function","e","window","_slicedToArray","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","err","_unsupportedIterableToArray","o","minLen","n","toString","call","slice","constructor","name","test","checkDCE","__REACT_DEVTOOLS_GLOBAL_HOOK__","console","error","_arrayLikeToArray","len","arr2","MapShim","Map","getIndex","result","some","entry","index","class_1","__entries__","get","set","delete","entries","splice","has","clear","forEach","callback","ctx","_a","isBrowser","document","global$1","global","Math","self","requestAnimationFrame$1","requestAnimationFrame","bind","setTimeout","Date","now","transitionKeys","mutationObserverSupported","MutationObserver","ResizeObserverController","connected_","mutationEventsAdded_","mutationsObserver_","observers_","onTransitionEnd_","refresh","delay","leadingCall","trailingCall","lastCallTime","resolvePending","proxy","timeoutCallback","timeStamp","throttle","addObserver","observer","indexOf","connect_","removeObserver","observers","disconnect_","updateObservers_","activeObservers","filter","gatherActive","hasActive","broadcastActive","addEventListener","observe","attributes","childList","characterData","subtree","removeEventListener","disconnect","_b","propertyName","getInstance","instance_","defineConfigurable","keys","getWindowOf","ownerDocument","defaultView","emptyRect","createRectInit","toFloat","parseFloat","getBordersSize","styles","positions","arguments","reduce","size","position","getHTMLElementContentRect","clientWidth","clientHeight","getComputedStyle","paddings","positions_1","getPaddings","horizPad","left","right","vertPad","top","bottom","width","height","boxSizing","round","documentElement","isDocumentElement","vertScrollbar","horizScrollbar","abs","isSVGGraphicsElement","SVGGraphicsElement","SVGElement","getBBox","getContentRect","bbox","getSVGContentRect","x","y","ResizeObservation","broadcastWidth","broadcastHeight","contentRect_","isActive","rect","broadcastRect","ResizeObserverEntry","rectInit","contentRect","Constr","DOMRectReadOnly","create","createReadOnlyRect","ResizeObserverSPI","controller","callbackCtx","activeObservations_","observations_","callback_","controller_","callbackCtx_","Element","observations","unobserve","clearActive","_this","observation","map","WeakMap","ResizeObserver","method","apply","GlueContext","GlueProvider","children","fallback","settings","glue","setGlue","a","web","webPlatform","Error","glue42gd","desktop","factory","Glue","config","GlueWeb","GlueWebPlatform","factoryResult","useGlueInit","Provider","propTypes","displayName","_createForOfIteratorHelper","allowArrayLike","it","F","s","f","normalCompletion","didErr","step","_e2","_defineProperty","obj","getOwnPropertySymbols","hasOwnProperty","propIsEnumerable","propertyIsEnumerable","toObject","val","assign","test1","String","getOwnPropertyNames","test2","fromCharCode","join","test3","split","letter","shouldUseNative","source","symbols","to","cachedSetTimeout","cachedClearTimeout","process","defaultSetTimout","defaultClearTimeout","runTimeout","fun","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","concat","drainQueue","timeout","run","marker","runClearTimeout","Item","array","noop","nextTick","args","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","createRegistry","options","errorHandling","_userErrorHandler","callbacks","_handleError","exceptionArtifact","errParam","msg","stack","add","callbacksForKey","allForKey","acc","element","execute","argumentsArr","results","clearKey","default","ok","asPromise","r","Promise","resolve","reject","withDefault","defaultValue","withException","map2","ar","br","mapError","andThen","freeze","isOk","isErr","successes","t","p","isEqual","b","isJsonArray","json","isJsonObject","expectedGot","expected","got","JSON","stringify","typeString","printPath","paths","path","prependAt","newAt","at","rest","__rest","Decoder","decode","kind","input","message","runPromise","runWithException","where","errorMessage","succeed","fail","string","number","boolean","constant","object","decoders","decoder","v","err$$1","decodeValue_1","tuple","nth","union","ad","bd","oneOf","intersection","ds","anyJson","unknownJson","dict","optional","errors","errorsList","valueAt","jsonAtPath","fixedValue","lazy","mkDecoder","nonEmptyStringDecoder","nonNegativeNumberDecoder","num","isWindowInSwimlaneResultDecoder","inWorkspace","allParentDecoder","subParentDecoder","frameStateDecoder","checkThrowCallback","allowUndefined","argumentType","workspaceBuilderCreateConfigDecoder","saveLayout","deleteLayoutConfigDecoder","swimlaneWindowDefinitionDecoder","type","appName","windowId","context","strictSwimlaneWindowDefinitionDecoder","parentDefinitionDecoder","strictParentDefinitionDecoder","newFrameConfigDecoder","toLowerCase","bounds","loadingStrategyDecoder","restoreWorkspaceConfigDecoder","app","loadingStrategy","reuseWorkspaceId","frameId","lockdown","activateFrame","newFrame","noTabHeader","inMemoryLayout","openWorkspaceConfigDecoder","restoreOptions","workspaceDefinitionDecoder","isFocused","frame","reuseFrameId","builderConfigDecoder","definition","workspaceCreateConfigDecoder","saveConfig","getFrameSummaryConfigDecoder","itemId","frameSummaryDecoder","id","eventTypeDecoder","positionIndex","focused","layoutName","workspaceId","streamRequestArgumentsDecoder","branch","workspaceEventActionDecoder","workspaceConfigResultDecoder","isHibernated","isSelected","allowDrop","allowExtract","allowSplitters","showCloseButton","showSaveButton","allowDropLeft","allowDropTop","allowDropRight","allowDropBottom","showAddWindowButtons","showEjectButtons","showWindowCloseButtons","baseChildSnapshotConfigDecoder","parentSnapshotConfigDecoder","swimlaneWindowSnapshotConfigDecoder","isMaximized","customWorkspaceSubParentSnapshotDecoder","customWorkspaceChildSnapshotDecoder","customWorkspaceWindowSnapshotDecoder","workspaceSnapshotResultDecoder","frameSummary","windowLayoutItemDecoder","url","groupLayoutItemDecoder","columnLayoutItemDecoder","rowLayoutItemDecoder","workspaceLayoutDecoder","metadata","components","state","workspacesImportLayoutDecoder","layout","mode","exportedLayoutsResultDecoder","layouts","frameSummaryResultDecoder","frameSummariesResultDecoder","summaries","workspaceSummaryResultDecoder","workspaceSummariesResultDecoder","frameSnapshotResultDecoder","workspaces","layoutSummaryDecoder","layoutSummariesDecoder","simpleWindowOperationSuccessResultDecoder","voidResultDecoder","frameStateResultDecoder","resizeConfigDecoder","relative","moveConfigDecoder","simpleItemConfigDecoder","frameStateConfigDecoder","requestedState","setItemTitleConfigDecoder","moveWindowConfigDecoder","containerId","resizeItemConfigDecoder","moveFrameConfigDecoder","addWindowConfigDecoder","parentId","parentType","addContainerConfigDecoder","addItemResultDecoder","pingResultDecoder","live","bundleConfigDecoder","containerSummaryResultDecoder","frameStreamDataDecoder","workspaceStreamDataDecoder","workspaceSummary","containerStreamDataDecoder","containerSummary","windowStreamDataDecoder","windowSummary","workspaceLayoutSaveConfigDecoder","saveContext","workspaceSelectorDecoder","workspaceLockConfigDecoder","lockWorkspaceDecoder","windowLockConfigDecoder","lockWindowDecoder","windowPlacementId","rowLockConfigDecoder","columnLockConfigDecoder","groupLockConfigDecoder","showMaximizeButton","showEjectButton","showAddWindowButton","lockRowDecoder","lockColumnDecoder","lockGroupDecoder","lockContainerDecoder","webPlatformMethodName","webPlatformWspStreamName","METHODS","control","isStream","frameStream","workspaceStream","containerStream","windowStream","STREAMS","payloadDecoder","workspace","container","OPERATIONS","ping","resultDecoder","isWindowInWorkspace","argsDecoder","createWorkspace","getAllFramesSummaries","getFrameSummary","getAllWorkspacesSummaries","getWorkspaceSnapshot","getAllLayoutsSummaries","openWorkspace","deleteLayout","importLayout","exportAllLayouts","restoreItem","maximizeItem","focusItem","closeItem","resizeItem","changeFrameState","getFrameState","moveFrame","getFrameSnapshot","forceLoadWindow","ejectWindow","setItemTitle","moveWindowTo","addWindow","addContainer","bundleWorkspace","hibernateWorkspace","resumeWorkspace","lockWorkspace","lockWindow","lockContainer","Bridge","transport","registry","activeSubscriptions","coreSubscriptionReady","handleCoreEvent","registryKey","eventType","action","scope","scopeId","scopeConfig","receivedIds","checkScopeMatch","operationName","operationArgs","operationDefinition","values","find","operation","transmitControl","operationResultRaw","operationResult","activeSub","getActiveSubscription","getRegistryKey","stream","subscribe","getBranchKey","gdSub","onData","streamData","data","requestedArgumentsResult","requestArguments","actionResult","streamType","validatedPayload","payload","keyToExecute","level","levelId","callbacksCount","unsubscribe","close","verifiedAction","verifiedType","verifiedPayload","warn","InteropTransport","agm","defaultTransportTimeout","coreEventMethodInitiated","actualWindowId","all","verifyMethodLive","eventCallback","subscribePlatform","corePlatformSubPromise","then","sub","streamName","streamBranch","subscriptionArgs","subscription","operationArguments","invocationArguments","domain","methodName","baseErrorMessage","invoke","methodResponseTimeoutMs","invocationResult","all_return_values","all_errors","invocationErrorMessage","returned","promise","timeoutMilliseconds","timeoutMessage","methods","methodAdded","promiseActive","catch","privateData","ParentBuilder","base","wrapChildren","serializeChildren","BaseBuilder","getBuilder","child","validatedDefinition","childBuilder","serialize","WorkspaceBuilder","every","getBase","model","Row","addParent","predicate","removeChild","maximize","restore","lockConfigResult","verifiedConfig","getId","getFrameId","getWorkspaceId","getPositionIndex","getAllChildren","getMyParent","getMyFrame","getMyWorkspace","getAllowDrop","Column","Group","getAllowExtract","getShowMaximizeButton","getShowEjectButton","getShowAddWindowButton","getData","manager","getWorkspaceData","getDataManager","Workspace","dataManager","refreshReference","iterateFindChild","wsp","getSnapshot","getWorkspaceContext","setWorkspaceContext","updateWorkspaceContext","subscribeWorkspaceContextUpdated","newSnapshot","currentChildrenFlat","flatChildren","newChildren","refreshChildren","existingChildren","parent","currentFrame","remapFrame","actualFrame","frameCreateConfig","summary","ioc","getModel","remapWorkspace","allParents","iterateFilterChildren","getBox","getAllBoxes","allWindows","bundleTo","currentLockConfig","processLocalSubscription","windowParent","foundWindow","getWindow","win","getWindowData","Window","isLoaded","newWindowId","getGdWindow","myId","getGDWindow","getParent","checkIsWindowLoaded","getFrameData","Frame","validatedConfig","getWorkspaces","validatedOptions","restoreWorkspace","getWorkspace","foundParent","PrivateDataManager","parentsData","workspacesData","windowsData","framesData","windowPlacementIdData","keyForDeleting","k","placementId","newData","getParentData","getWindowFromPlacementId","placemenId","getWindowByPlacementId","Base","typeToAdd","parentDefinition","transformDefinition","newParentId","myWorkspace","modelData","BaseController","windows","contexts","list","createConfig","bridge","send","snapshot","frameConfig","workspaceConfig","allFrameSummaries","frames","frameToCheck","bridgeResults","allSummaries","summaryResult","wrappedCallback","addedUnSub","onAdded","changedUnSub","onChanged","onRemoved","contextName","update","gdWindow","controlResult","newChildSnapshot","childToAdd","elementId","privateDataManager","remapChild","foundChild","foundChildren","grandChildren","innerFound","onWindowAdded","MainController","getLayoutSummaries","allLayouts","handleEnterpriseLocalSubscription","handleCoreLocalSubscription","handleEnterpriseGlobalSubscription","handleCoreGlobalSubscription","selector","getFrame","getFrames","iterateWorkspaces","end","foundWorkspace","matchingWorkspaces","allSummariesResult","getAllWorkspaceSummaries","resultWindow","resultParent","allLayoutsResult","matchingLayouts","handleOnSaved","handleOnRemoved","frameResult","notifyWindowAdded","soFar","createCoreEventSubscription","originalCB","wrappedCB","callbackData","handleCoreSubscription","ended","workspaceSummaries","fetchWorkspace","IoC","initiate","frameData","setFrameData","windowPrivateData","newWindow","setWindowData","newParent","parentBase","builtChildren","buildChildren","parentPrivateData","setParentData","newWorkspace","workspacePrivateData","setWorkspaceData","baseBuilder","_baseController","_controllerInstance","baseController","_bridgeInstance","CallbackFactory","_transportInstance","_privateDataManagerInstance","_parentBaseInstance","composeAPI","my","checkIsInSwimlane","getAllFrames","w","getAllWorkspaces","getSummaries","export","exportLayout","import","save","onSaved","onFrameOpened","processGlobalSubscription","onFrameClosed","onWorkspaceOpened","onWorkspaceClosed","onWindowLoaded","onWindowRemoved","factoryFunction","interop","GlueWorkspaces","base64","ieee754","kMaxLength","Buffer","TYPED_ARRAY_SUPPORT","createBuffer","that","RangeError","Uint8Array","__proto__","arg","encodingOrOffset","allocUnsafe","ArrayBuffer","byteOffset","byteLength","fromArrayLike","fromArrayBuffer","encoding","isEncoding","actual","write","fromString","isBuffer","checked","copy","buffer","fromObject","assertSize","isView","loweredCase","utf8ToBytes","base64ToBytes","slowToString","start","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","m","bidirectionalIndexOf","isNaN","arrayIndexOf","lastIndexOf","indexSize","arrLength","valLength","read","buf","readUInt16BE","foundIndex","found","j","hexWrite","offset","Number","remaining","strLen","parsed","parseInt","substr","utf8Write","blitBuffer","asciiWrite","str","byteArray","charCodeAt","asciiToBytes","latin1Write","base64Write","ucs2Write","units","c","hi","lo","utf16leToBytes","fromByteArray","min","res","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","MAX_ARGUMENTS_LENGTH","decodeCodePointsArray","SlowBuffer","alloc","INSPECT_MAX_BYTES","foo","subarray","typedArraySupport","poolSize","_augment","species","fill","allocUnsafeSlow","_isBuffer","compare","pos","swap16","swap32","swap64","equals","inspect","max","match","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","toJSON","ret","out","toHex","bytes","checkOffset","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","floor","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","code","INVALID_BASE64_RE","Infinity","leadSurrogate","toByteArray","trim","replace","stringtrim","base64clean","src","dst","extendStatics","d","setPrototypeOf","__extends","__","__assign","__awaiter","thisArg","_arguments","P","generator","fulfilled","rejected","__generator","body","_","label","sent","trys","ops","verb","throw","return","op","pop","__spreadArrays","il","jl","ApplicationItem","onClick","React","preventDefault","className","ApplicationsList","inLane","hidePopup","searchTerm","updatePopupHeight","filterApps","isActivity","isShell","userProperties","includeInWorkspaces","includeInCanvas","workspacesFriendlyApps","appManager","applications","useEffect","workspaceWindow","focus","unsub","addGroup","newGroup","error_1","ContainerSwitch","setInLane","wordInLabel","labelToPut","toUpperCase","substring","htmlFor","role","withGlueInstance","WrappedComponent","useContext","boxId","resizePopup","useState","_c","setParent","setSearchTerm","containerRef","createRef","shouldUpdate","allWorkspaces","refreshPopupHeight","containerHeight","current","getBoundingClientRect","ref","placeholder","onChange","Feedback","regexResult","exec","getFeedbackErrorMessage","WorkspaceLayoutItem","onCloseClick","WorkspaceLayoutsList","showFeedback","layoutSummaries","setLayoutSummaries","stopPropagation","feedbackText","setFeedbackText","resizePopupWithContainerHeight","itemType","errMessage","SaveContextCheckbox","changeChecked","refreshHeight","inputRef","SaveWorkspaceButton","inputValue","clearInput","shouldSaveContext","hideFeedback","buildMode","shouldSave","setShouldSave","workspaceName","setTitle","downloadElement","createElement","encodeURIComponent","append","setAttribute","click","remove","setShouldSaveContext","feedbackMessage","setFeedbackMessage","setWorkspaceName","globalThis","controls","items","utils","extend","createObject","contructor","objectKeys","getHashValue","location","hash","RegExp","getQueryStringParam","search","animFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","Int8Array","isFunction","fnBind","removeFromArray","getTime","getUniqueId","random","filterXss","stripTags","EventEmitter","_mSubscriptions","ALL_EVENT","fn","unshift","unbind","trigger","DragListener","_eElement","_oDocument","_eBody","_nButtonCode","_nDelay","_nDistance","_nX","_nY","_nOriginalX","_nOriginalY","_bDragging","_fMove","onMouseMove","_fUp","onMouseUp","_fDown","onMouseDown","destroy","button","_getCoordinates","one","_timeout","_startDrag","removeClass","css","addClass","originalEvent","touches","pageX","pageY","LayoutManager","$","noConflict","isInitialised","_isFullPage","_resizeTimeoutId","_components","lm-react-component","ReactComponentHandler","_itemAreas","_resizeFunction","_onResize","_unloadFunction","_onUnload","_maximizedItem","_maximizePlaceholder","_creationTimeoutPassed","_subWindowsCreated","_dragSources","_dragProxies","_updatingColumnsResponsive","_firstLoad","_componentFactory","root","openPopouts","selectedItem","isSubWindow","eventHub","EventHub","_createConfig","dropTargetIndicator","transitionIndicator","tabDropPlaceholder","_typeToItem","column","RowOrColumn","row","Stack","component","Component","__lm","minifyConfig","ConfigMinifier","unminifyConfig","registerComponent","toConfig","AbstractContentItem","dimensions","labels","workspacesOptions","content","contentItems","_$reconcilePopoutWindows","maximizedItemId","getComponent","ConfigurationError","init","_createSubWindows","readyState","_adjustToWindowMode","_setContainer","DropTargetIndicator","TransitionIndicator","updateSize","_create","_bindEvents","_adjustColumnsResponsive","ready","callDownwards","_dragListener","_element","_itemConfig","createContentItem","componentName","Root","createPopout","l","h","u","isRoot","addId","screenX","screenLeft","screenY","screenTop","BrowserPopout","createDragSource","constrainDragToContainer","DragSource","selectItem","selectionEnabled","deselect","select","_$maximiseItem","_$minimizeItem","after","prepend","_$minimiseItem","removeId","_$closeWindow","_$getArea","x1","x2","y1","y2","surface","_$createRootItemAreas","side","_$calculateItemAreas","_getAllContentItems","isStack","workspacesConfig","contentItem","_contentAreaDimensions","header","highlightArea","_$normalizeContentItem","isPlainObject","closed","resize","localStorage","getItem","parse","removeItem","defaultConfig","hasHeaders","headerHeight","popin","html","offsetHeight","__glInstance","indexInParent","margin","padding","overflow","getItemsById","toggleMaximise","closePopoutsOnUnload","_useResponsiveLayout","minItemWidth","isRow","is","_findAllStackContainers","_addChildContentItemsToContainer","responsiveMode","addChild","_findAllStackContainersRecursive","isComponent","GoldenLayout","reorderEnabled","popoutWholeStack","blockedPopoutsThrowError","showMinimizeIcon","showPopoutIcon","showMaximizeIcon","showCloseIcon","tabOverlapAllowance","reorderOnTabMenuClick","tabControlOffset","borderWidth","borderGrabWidth","minItemHeight","dragProxyWidth","dragProxyHeight","minimize","popout","tabDropdown","itemDefaultConfig","isClosable","ItemContainer","layoutManager","isHidden","_config","_contentElement","getElement","hide","show","setSize","isColumn","getState","componentState","extendState","setState","emitBubblingEvent","_$setSize","offsetWidth","node","_dimensions","_parentId","_indexInParent","_layoutManager","_popoutWindow","_id","_createWindow","getGlInstance","popIn","_createUrl","_serializeWindowOptions","innerWidth","innerHeight","menubar","toolbar","personalbar","resizable","scrollbars","status","open","_positionWindow","_onClose","setInterval","_onInitialised","clearInterval","setItem","href","moveTo","DragProxy","_contentItem","_originalParent","_area","_lastValidArea","_onDrag","_onDrop","_template","_side","_sided","attr","childElementContainer","disableDragProxy","_updateTree","_setDimensions","_minX","_minY","_maxX","_maxY","_width","_height","_setDropPosition","_$highlightDropZone","canceled","_$destroy","_$onDrop","_$setParent","_createDragListener","_onDragStart","transitionElements","highlight","Header","_onHeaderClick","createLogo","domNode","createAddWorkspace","createSystemButtons","tabsContainer","tabDropdownContainer","controlsContainer","workspaceControlsContainer","tabsControlsContainer","_updateTabSizesWithoutDropdown","tabs","activeContentItem","closeButton","tabDropdownButton","hideAdditionalTabsDropdown","_hideAdditionalTabsDropdown","mouseup","_lastVisibleTabIndex","_tabControlOffset","_createControls","createTab","Tab","before","removeTab","setActiveContentItem","setActive","activeItemIndex","_header","_setupHeaderPosition","_$setClosable","_isClosable","_getHeaderSetting","_showAdditionalTabsDropdown","HeaderButton","_onPopoutClick","minimizeLabel","minimizeButton","_updateTabSizes","toggle","outerWidth","tab","outerHeight","z-index","margin-left","_action","Splitter","_isVertical","_size","_grabSize","_createElement","titleElement","closeElement","_onTabClickFn","_onTabClick","_onCloseClickFn","_onCloseClick","_onCloseMousedown","getActiveContentItem","_toElement","_fromDimensions","_totalAnimationDuration","_animationStartTime","_nextAnimationFrame","_measure","opacity","_extendItemNode","isVisible","_pendingEventPropagations","_throttledEvents","_propagateEvent","_createContentItems","_$init","replaceChild","parentNode","_$hide","hasId","getItemsByFilter","getItemsByType","_$getItemsByProperty","getComponentsByName","_callOnActiveComponents","_$show","BubblingEvent","isPropagationStopped","_scheduleEventPropagationToLayoutManager","origin","_propagateEventToLayoutManager","_$shown","shown","_containerElement","_splitterSize","_splitterGrabSize","_isColumn","_dimension","_splitter","_splitterPosition","_splitterMinPosition","_splitterMaxPosition","_createSplitter","_calculateRelativeSizes","_setAbsoluteSizes","_calculateAbsoluteSizes","additionalPixel","itemSizes","totalWidth","totalHeight","_respectMinItemWidth","_onSplitterDrag","_onSplitterDragStop","_onSplitterDragStart","_getItemsForSplitter","_getMinimumDimensions","minWidth","minHeight","horizontal","vertical","_activeContentItem","_dropZones","_dropSegment","_dropIndex","_$validateClosability","_resetHeaderDropZone","hoverArea","_highlightHeaderDropZone","_highlightBodyDropZone","placeHolderTop","_keys","_values","_nextLevel","_min","_max","_dontPropagateToParent","_childEventSource","_onEventFromThis","_boundOnEventFromChild","_onEventFromChild","_propagateToParent","_propagateToChildren","_$onEventFromParent","__gl","__glArgs","createEvent","opener","initEvent","createEventObject","eventName","dispatchEvent","fireEvent","_reactComponent","_originalComponentWillUpdate","_container","_initialState","_reactClass","_getReactClass","_render","_destroy","ReactDOM","render","_getReactComponent","componentWillUpdate","_onUpdate","unmountComponentAtNode","glEventHub","glContainer","[object Object]","_idToLayout","workspaceLayout","getByContainerIdCore","innerText","getById","mergeWindows","hibernatedWindows","lastActive","getWorkspaceContentItem","workspaceTitles","workspaceIds","getWorkspaceTitle","_workspaceLayout","containerElement","setupEvents","classList","contains","handleTabCountChanged","removedNodes","attributeName","handleTabHeaderResized","attributeFilter","attributeOldValue","characterDataOldValue","visibleTabs","refreshTabClasses","visibilityState","logo","addWorkspace","systemButtons","workspaceContents","componentsFactory","_decoratedFactory","callbackRegistry","getWorkspaceIdFromContents","style","display","decoratedFactory","createWorkspaceContents","subscribeForWorkspaceContentsVisibility","subscribeForWorkspaceContentsResize","getElementById","windowContentItem","getByWindowId","getUserFriendlyParent","wrapper","getSummaryCore","containerContentItem","populateChildrenAllowDrop","populateChildrenAllowExtact","getByContainerId","getUserFriendlyType","findElementInConfig","stateResolver","workspaceContentItem","getWindowSummarySync","transformComponentsToWindowSummary","getContainerSummary","transformParentsToContainerSummary","lastFocusedWindowId","focusedWindowId","focusedGroupId","isWindowSelected","hibernateConfig","tabIndex","findIndex","populateChildrenAllowExtract","populateChildrenShowAddWindowButtons","populateChildrenShowEjectButtons","populateChildrenShowWindowCloseButtons","hibernatedWorkspaceIconLabel","getWorkspaceTabElement","hasClass","HibernationIconClass","SaveWorkspaceButtonLabel","getWindowContentItem","getContainer","showWindowCloseButton","hideWindowCloseButton","hideEjectButton","hideAddWindowButton","E","C","_maximizedId","_workspaceLayoutElementId","_registry","_emptyVisibleWindowName","_stackMaximizeLabel","_stackRestoreLabel","_options","_emitter","_stateResolver","_configFactory","_frameId","_showLoadingIndicator","showLoadingIndicator","initWorkspaceConfig","refreshLayoutSize","workspaceConfigs","initWorkspaceContents","emitter","raiseEvent","setupOuterLayout","setupContentLayouts","isWorkspaceHibernated","hideAddButton","getWindowInfoFromConfig","registerWindowComponent","applyLockConfig","onContentComponentCreated","wrapInGroup","onContentItemCreated","getContainerConfig","getWorkspaceLayoutComponentName","registerWorkspaceComponent","hideWorkspaceCloseButton","hideWorkspaceSaveButton","removeLayout","getWorkspaceLayoutItemById","removeById","getElementsByTagName","getDragElement","addedNodes","setDragElementSize","waitForWindowContainer","getElementsByClassName","showWorkspaceSaveButton","showWorkspaceCloseButton","hideWindowCloseButtons","hideEjectButtons","hideAddWindowButtons","hideMaximizeButton","addOrUpdate","showAddButton","signal","getDefaultWorkspaceSettings","registerEmptyWindowComponent","raiseEventWithDynamicName","layoutId","item","onclick","laneId","disableCustomButtons","toBack","toFront","refreshTabSizeClass","isWindowLoaded","getElementByClass","appendChild","waitForLayout","composedPath","activeElement","blur","onOuterLayoutContainerResized","onContentContainerResized","log","I","W","S","T","B","A","O","D","characters","seed","lookup","shuffled","L","crypto","msCrypto","M","getRandomValues","LN2","z","N","generate","worker","isValid","H","_idToFrame","_glue","startCore","contentWindow","postMessage","glue42core","setImmediate","loading","waitForWindow","q","LAST_SESSION_KEY","sessionStorage","U","URLSearchParams","emptyFrame","workspaceNames","build","cleanUpUrl","removeQueryParams","history","replaceState","pathname","G","resolver","_configConverter","_layoutsType","_layoutComponentType","_initialWorkspaceConfig","generateInitialConfig","getWorkspaceByName","layoutData","getLastSession","getDefaultFrameConfig","workspacesFrameCache","addWorkspaceIds","convertToRendererConfig","getAll","saveWorkspaceCore","saveWorkspaceCoreSync","getWorkspaceConfig","removeWorkspaceIds","applyWindowLayoutState","convertToAPIConfig","removeWorkspaceItemIds","windowSummariesToWindowLayout","addWindowUrlsToWindows","workspaceSummaryToWorkspaceLayout","findById","getContext","application","details","getWindowLayoutState","layoutState","V","_layoutEventEmitter","frameController","waitForWindowContentItem","getWorkspaceSummary","hasFrame","X","_pattern","sort","Y","_titleGenerator","_defaultWorkspaceLayoutSettings","createWindowConfigurationCore","getTitle","getDefaultWorkspaceConfig","wrap","instances","J","Z","flat","convertToRendererConfigCore","convertToApiConfigCore","applyDefaultRendererConfig","getGroupWithEmptyVisibleWindow","convertSizeToRendererConfigSafely","createEmptyVisibleWindowConfig","activeTabIndex","getAppNameFromWindowId","createGDWindowConfig","createApiWindow","Q","_externalPopupManager","_componentPopupManager","createAddApplicationPopup","showAddWindowPopup","createAddWorkspacePopup","showOpenWorkspacePopup","createSaveWorkspacePopup","showSaveWorkspacePopup","K","_addApplicationType","_openWorkspaceType","_saveWorkspaceType","_showPopupMethod","initPopup","registerHideMethod","registerResizeMethod","getPopupSize","showElement","_popup","getPopupInteropId","servers","interopId","tt","_popupSizes","hideSystemPopups","showInternalAddAppPopup","showInternalOpenWorkspacePopup","showInternalSaveWorkspacePopup","onblur","tagName","et","askForSettings","nt","_frameController","_manager","_delayedExecutor","WAIT_FOR_WINDOWS_TIMEOUT","idToWindowPromise","onFrameRemoved","defaultStrategy","getComponentsByVisibility","visibleComponents","getSettings","startExecution","notImmediatelyVisibleComponents","batchSize","delayed","batch","executionInterval","interval","initialDelay","initialOffsetInterval","waitFor","onLoaded","onFailed","getTitleByAppName","vaidateTitle","getUrlByAppName","getURL","workspacesEventEmitter","raiseWindowEvent","notifyFrameWillStart","startFrame","getWindowSummary","getAppNameByWindowId","raiseFailed","closeTab","ot","actionsInProgress","splitInBatches","executeBatch","_isLayoutInitialized","_initPromise","_workspacesEventEmitter","getComponentBounds","_controller","subscribeForWindowClicked","onFrameContentClicked","cleanUp","_isDisposing","extractWindowSummariesFromSnapshot","_applicationFactory","notifyFrameWillClose","raiseWorkspaceEvent","_layoutsManager","saveWorkspacesFrame","raiseFrameEvent","_facade","loadConfig","_initialized","_popupManager","initLayout","reInitialize","getActiveWorkspace","reinitializeWorkspace","setInitialWorkspaceConfig","maximizeWindow","restoreWindow","closeWorkspace","closeContainer","setWorkspaceTitle","setWindowTitle","reuseId","waitForFrameLoaded","focusWorkspace","focusWindow","removeLayoutElement","removeWindow","generateLayout","showSaveIcon","disableWorkspaceDrop","enableWorkspaceDrop","disableWorkspaceExtract","enableWorkspaceExtract","disableSplitters","enableSplitters","disableWorkspaceCloseButton","enableWorkspaceCloseButton","disableWorkspaceSaveButton","enableWorkspaceSaveButton","disableWorkspaceAddWindowButtons","enableWorkspaceAddWindowButtons","disableWorkspaceEjectButtons","enableWorkspaceEjectButtons","disableWorkspaceWindowCloseButtons","enableWorkspaceWindowCloseButtons","handleColumnLockRequested","handleRowLockRequested","handleGroupLockRequested","disableWindowExtract","enableWindowExtract","disableWindowCloseButton","enableWindowCloseButton","showHibernationIcon","checkForEmptyWorkspace","getInitialConfig","subscribeForPopups","subscribeForLayout","showDelayedIndicator","getLoadingStrategy","handleWindows","reportLayoutStructure","onContentItemResized","onTabCloseRequested","onWorkspaceTabCloseRequested","onTabElementMouseDown","onTabDragStart","bringToFront","onTabDragEnd","selectionChanged","onSelectionChanged","onWorkspaceAdded","selectionChangedDeep","onWorkspaceSelectionChanged","isWindowVisible","onAddButtonClicked","peerId","onContentLayoutInit","onWorkspaceAddButtonClicked","workspaceLayoutHeader","onWorkspaceSaveRequested","onStackMaximized","maximizeTab","onStackRestored","restoreTab","onEjectRequested","eject","onComponentSelectedInWorkspace","onWorkspaceContainerResized","refreshWorkspaceSize","onWorkspaceContentsShown","onWorkspaceContentsHidden","onWorkspaceEvent","onWindowTitleChanged","onFrameLoaded","hideLoadingIndicator","closeHibernatedWorkspaceCore","closeWorkspaceCore","startDelayed","startDirect","startLazy","isPlatformFrame","executeAfterControlIsDone","removeWorkspace","onWindowEvent","disableGroupExtract","enableGroupExtract","disableGroupAddWindowButton","enableGroupAddWindowButton","disableGroupEjectButton","enableGroupEjectButton","disableGroupMaximizeButton","enableGroupMaximizeButton","disableGroupDrop","enableGroupDrop","disableRowDrop","enableRowDrop","disableColumnDrop","enableColumnDrop","st","_workspacesControlMethod","_workspacesEventMethod","_inDisposing","_controlPromise","handleControlCore","initPromise","handleIsWindowInWorkspace","handleAddWindow","handleAddContainer","handleGetWorkspaceSnapshot","handleOpenWorkspace","handleSaveLayout","handleExportAllLayouts","handleDeleteLayout","handleGetAllWorkspaceSummaries","handleMaximizeItem","handleRestoreItem","handleCloseItem","handleSetItemTitle","handleAddWorkspaceChildren","handleEject","handleCreateWorkspace","handleForceLoadWindow","handleFocusItem","handleBundleWorkspace","handleGetFrameSummary","handleMoveFrame","handleGetFrameSnapshot","handleGetSnapshot","handleMoveWindowTo","handleGenerateLayout","handlePing","handleHibernateWorkspace","handleResumeWorkspace","handleLockWorkspace","handleLockContainer","handleLockWindow","handleControl","_converter","registerAgmMethods","onFrameEvent","publishEventData","onContainerEvent","finally","registerAsync","saveWorkspace","loadWindow","move","generateWorkspaceLayout","rt","getPrototypeOf","nodeType","nonce","noModule","text","getAttribute","head","jquery","toArray","pushStack","merge","prevObject","each","first","eq","last","even","grep","odd","expando","isReady","isEmptyObject","globalEval","makeArray","inArray","guid","support","ct","R","ID","CLASS","TAG","ATTR","PSEUDO","CHILD","bool","needsContext","_t","disabled","nodeName","childNodes","qsa","wt","vt","querySelectorAll","removeAttribute","cacheLength","shift","lt","dt","ht","attrHandle","ut","sourceIndex","nextSibling","pt","ft","mt","isDisabled","gt","isXML","namespaceURI","setDocument","attachEvent","createComment","getElementsByName","getAttributeNode","innerHTML","matchesSelector","matches","webkitMatchesSelector","mozMatchesSelector","oMatchesSelector","msMatchesSelector","disconnectedMatch","compareDocumentPosition","sortDetached","specified","escape","uniqueSort","detectDuplicates","sortStable","getText","textContent","firstChild","nodeValue","selectors","createPseudo",">"," ","+","~","preFilter","lastChild","uniqueID","pseudos","setFilters","not","lang","hasFocus","enabled","selected","selectedIndex","empty","radio","checkbox","file","password","image","submit","reset","yt","Ct","It","bt","kt","filters","tokenize","compile","expr","unique","isXMLDoc","escapeSelector","parseHTML","contents","prev","closest","prevAll","addBack","parents","parentsUntil","nextAll","nextUntil","prevUntil","siblings","contentDocument","reverse","Callbacks","stopOnFalse","memory","disable","lock","locked","fireWith","fire","fired","Deferred","always","pipe","progress","notify","notifyWith","resolveWith","exceptionHook","stackTrace","rejectWith","getStackHook","when","readyException","readyWait","doScroll","uid","cache","access","hasData","removeData","_data","_removeData","dequeue","_queueHooks","stop","clearQueue","composed","getRootNode","cur","cssNumber","unit","createDocumentFragment","checkClone","cloneNode","noCloneChecked","option","thead","col","tr","td","_default","tbody","tfoot","colgroup","caption","th","optgroup","htmlPrefilter","createTextNode","xt","Et","Wt","event","St","namespace","handler","isTrigger","special","delegateType","stopImmediatePropagation","Event","events","handle","triggered","dispatch","bindType","origType","delegateCount","setup","teardown","removeEvent","fix","delegateTarget","preDispatch","handlers","currentTarget","elem","isImmediatePropagationStopped","rnamespace","handleObj","postDispatch","addProp","load","noBubble","beforeunload","returnValue","isDefaultPrevented","defaultPrevented","relatedTarget","isSimulated","altKey","bubbles","cancelable","changedTouches","ctrlKey","detail","eventPhase","metaKey","shiftKey","view","char","charCode","keyCode","buttons","clientX","clientY","offsetX","offsetY","pointerId","pointerType","targetTouches","toElement","which","mouseenter","mouseleave","pointerenter","pointerleave","Tt","Bt","At","Dt","Lt","Mt","Pt","Ot","Ft","clone","_evalUrl","zt","cleanData","detach","insertBefore","replaceWith","appendTo","prependTo","insertAfter","replaceAll","$t","Rt","Nt","jt","Ht","getPropertyValue","pixelBoxStyles","maxWidth","qt","cssText","marginLeft","backgroundClip","clearCloneStyle","boxSizingReliable","pixelPosition","reliableMarginLeft","scrollboxSize","reliableTrDimensions","Ut","Gt","Vt","Xt","cssProps","Yt","Jt","Zt","visibility","Qt","letterSpacing","fontWeight","Kt","te","ceil","ee","getClientRects","ne","cssHooks","animationIterationCount","columnCount","fillOpacity","flexGrow","flexShrink","gridArea","gridColumn","gridColumnEnd","gridColumnStart","gridRow","gridRowEnd","gridRowStart","lineHeight","order","orphans","widows","zIndex","zoom","setProperty","border","expand","Tween","prop","easing","propHooks","duration","fx","scrollTop","scrollLeft","linear","swing","cos","PI","oe","ie","se","re","ae","hidden","tick","ce","le","de","he","tweeners","prefilters","startTime","tweens","opts","specialEasing","originalProperties","originalOptions","createTween","complete","timer","anim","Animation","*","tweener","unqueued","overflowX","overflowY","prefilter","speed","speeds","old","fadeTo","animate","finish","timers","slideDown","slideUp","slideToggle","fadeIn","fadeOut","fadeToggle","slow","fast","checkOn","optSelected","radioValue","ue","pe","removeAttr","attrHooks","fe","me","ge","we","ye","removeProp","propFix","for","class","toggleClass","ve","valHooks","focusin","Ce","parentWindow","simulate","triggerHandler","Ie","be","ke","parseXML","DOMParser","parseFromString","xe","Ee","We","Se","Te","param","serializeArray","Be","Ae","De","Le","Me","Pe","Oe","Fe","ze","$e","Re","Ne","dataTypes","je","ajaxSettings","flatOptions","active","lastModified","etag","isLocal","protocol","processData","async","contentType","accepts","xml","responseFields","converters","* text","text html","text json","text xml","ajaxSetup","ajaxPrefilter","ajaxTransport","ajax","statusCode","getResponseHeader","getAllResponseHeaders","setRequestHeader","overrideMimeType","mimeType","abort","dataType","crossDomain","host","traditional","hasContent","ifModified","headers","beforeSend","success","dataFilter","throws","statusText","getJSON","getScript","text script","wrapAll","firstElementChild","wrapInner","unwrap","visible","xhr","XMLHttpRequest","He","0","1223","qe","cors","username","xhrFields","onload","onerror","onabort","ontimeout","onreadystatechange","responseType","responseText","binary","response","script","scriptAttrs","charset","scriptCharset","Ue","Ge","Ve","jsonp","jsonpCallback","createHTMLDocument","implementation","animated","setOffset","using","pageYOffset","pageXOffset","offsetParent","scrollTo","Height","Width","delegate","undelegate","hover","Xe","holdReady","parseJSON","isWindow","camelCase","isNumeric","Ye","jQuery","Je","dispose","initialized","subscribeForWorkspaceEvents","notifyMoveAreaChanged","registerPopup","removePopup","removePopupById","unmount","subscribeForWindowFocused","notifyWorkspacePopupChanged","requestFocus","WorkspacesManagerDecorator","componentFactory","workspacesManager","cb","_extends","useIsomorphicLayoutEffect","useLayoutEffect","Style","popupContent","tooltip","modal","popupArrow","background","color","overlay","POSITION_TYPES","getCoordinatesForPosition","triggerBounding","ContentBounding","arrow","_ref","CenterTop","CenterLeft","transform","arrowTop","arrowLeft","popupIdCounter","forwardRef","_ref$trigger","_ref$onOpen","onOpen","_ref$onClose","onClose","_ref$defaultOpen","defaultOpen","_ref$open","_ref$disabled","_ref$nested","nested","_ref$closeOnDocumentC","closeOnDocumentClick","_ref$repositionOnResi","repositionOnResize","_ref$closeOnEscape","closeOnEscape","_ref$on","_ref$contentStyle","contentStyle","_ref$arrowStyle","arrowStyle","_ref$overlayStyle","overlayStyle","_ref$className","_ref$position","_ref$modal","_ref$lockScroll","lockScroll","_ref$arrow","_ref$offsetX","_ref$offsetY","_ref$mouseEnterDelay","mouseEnterDelay","_ref$mouseLeaveDelay","mouseLeaveDelay","_ref$keepTooltipInsid","keepTooltipInside","_useState","isOpen","setIsOpen","triggerRef","useRef","contentRef","arrowRef","focusedElBeforeOpen","popupId","isModal","timeOut","setPosition","focusContentOnOpen","lockScrolll","resetScroll","openPopup","closePopup","togglePopup","onMouseEnter","onContextMenu","onMouseLeave","_contentRef$current","focusableEls","firstEl","useImperativeHandle","_arrowStyle$top","_arrowStyle$left","cords","_ref2","bestCoords","wrapperBox","boundingBox","querySelector","contentBox","calculatePosition","scrollY","scrollX","listener","els","firstFocusableEl","lastFocusableEl","refs","PopupRoot","renderContent","popupContentStyle","childrenElementProps","pointerEvents","data-testid","viewBox","ovStyle","data-popup","Fragment","triggerProps","aria-describedby","onAsArray","onFocus","onBlur","comp","cloneElement","createPortal","Portal","templateId","WorkspacesWrapper","template","onCreateLogoRequested","onCreateAddWorkspaceRequested","onCreateSystemButtonsRequested","onCreateWorkspaceContentsRequested","onCreateSaveWorkspacePopupRequested","onCreateAddApplicationPopupRequested","onCreateAddWorkspacePopupRequested","onHideSystemPopupsRequested","externalPopupApplications","_super","saveWorkspacePopup","addApplicationPopup","addWorkspacePopup","LogoCustomElement","LogoComponent","AddWorkspaceCustomComponent","AddWorkspaceComponent","SystemButtonsCustomComponent","SystemButtonsComponent","WorkspaceContentsComponent","WorkspaceContents","wc","SaveWorkspaceCustomComponent","popups","SaveWorkspaceComponent","SaveWorkspacePopup","AddApplicationCustomComponent","AddApplicationComponent","AddApplicationPopup","AddWorkspacePopup","WorkspacesElementCreationWrapper","_g","additionalProperties","addApplicationComponent","saveWorkspaceComponent","addWorkspaceComponent","onCreateAddApplicationRequested","onCreateSaveWorkspaceRequested","addApplication","renderLogoComponent","renderAddWorkspaceComponent","renderSystemButtonsComponent","renderWorskpaceContents","renderSaveWorkspacePopupComponent","renderAddApplicationPopupComponent","renderAddWorkspacePopupComponent","onHideSystemPopups","extendStatics$1","__extends$1","__assign$1","__awaiter$1","__generator$1","MetricTypes","getMetricTypeByValue","metric","getTypeByValue","serializeMetric","serializedMetrics","memo","innerType","composite","defineNestedComposite","description","normalizeMetricName","getMetricValueByType","publishNestedComposite","Boolean","flatten","toFlatten","composeMsgForRootStateMetric","system","merged","getAggregateState","highestState","idx","aggregateDescription","Helpers","BaseMetric","createMetric","repo","newValue","updateMetric","NumberMetric","incrementBy","increment","decrement","decrementBy","ObjectMetric","mergeValues","StringMetric","TimestampMetric","separator","_transport","_name","_description","_repo","_parent","_path","_buildPath","shadowedSystem","_state","_subSystems","_metrics","_getOrCreateMetric","metricObject","expectedType","metricDef","matching","shadowedMetric","existing","subSystem","nameSystem","descriptionSystem","_system","stateDescription","updateSystem","stringMetric","timestampMetric","objectMetric","numberMetric","aggState","shadowedSubSystem","createSystem","Repository","addSystemMetrics","clickStream","rootSystem","useClickStream","navigator","userAgent","clickStream_1","documentClickHandler","timestamp","page","urlMetric","appNameMetric","startUrl","NullProtocol","PerfTracker","api","initialPublishTimeout","publishInterval","lastCount","scheduleCollection","collect","collectMemory","collectEntries","performance","totalJSHeapSize","usedJSHeapSize","allEntries","getEntries","jsonfiedEntries","metrics","connection","joinPromise","session","replayRepo","replaySystem","subSystems","ss","createMetricsMsg","Description","Value","metricClone","cloneMetric","updateMetricCore","canUpdate","publishMetricsMsg","sendFireAndForget","canUpdateMetric","resolveReadyPromise","onJoined","reconnect","defineRootMetricsMsg","service","shadowedUpdateMetric","stateObj","rootMetric","peer_id","gw3","disableAutoAppSystem","featureMetric","reportingSystem","def","featureMetricFunc","addFAVSupport","perfConfig","pagePerformanceMetrics","initPerf","replayArgumentsArr","replayArgument","lib","InProcTransport","logger","gw","facade","connect","_client","messageHandler","client","sendObject","_msg","onMessage","onConnectedChanged","SharedWorkerTransport","workerFile","SharedWorker","port","onmessage","Utils","getGDMajorVersion","glueDesktop","ver","isNode","_isNode","PromiseWrapper","resolved","time","timerName","marks","endTime","period","mark","currentTime","diff","timerObj","alphabet","previousSeed","WebSocketConstructor","WebSocket","WS","startupTimer","_running","wsRequests","ws","waitForSocketConnection","info","pw","failed","openSocket","retryInterval","retriesLeft","reconnectInterval","notifyForSocketState","debug","initiateSocket","retries","reason","seen_1","WeakSet","notifyStatusChanged","onclose","onopen","identity","wsRequest","randomFromSeed","nextValue","_seed_","ORIGINAL","setCharacters","_alphabet_","ind","getShuffled","characterIndex","sourceArray","targetArray","shuffle","alphabet_1","randomByteBrowser","dest","encode_1","loopCounter","decode_1","lib$1","createCommonjsModule","counter","previousSeconds","clusterWorkerId","seconds","seedValue","workerId","newCharacters","shortid","domainSession","successMessages","errorMessages","_latestOptions","isJoined","tryReconnecting","_connectionOn","disconnected","loggedIn","handleSuccessMessage","handleErrorMessage","sm","requestsMap","destination","wasReconnect","handleJoined","requestId","request_id","getNextRequestId","tag","skipPeerId","successMsg","_tag","errorMsg","leave","onLeft","connected","GW3ProtocolImpl","protocolVersion","datePrefix","datePrefixLen","dateMinLen","datePrefixFirstChar","_isLoggedIn","shouldTryLogin","initialLogin","initialLoginAttempts","sessions","handleDisconnected","processStringMessage","milliseconds","ex","msgType","createStringMessage","oldToJson","datePrefix_1","processObjectMessage","createObjectMessage","login","authentication","e_1","helloMsg","sendOptions","welcomeMsg","token","err_1","loginConfig","gatewayToken","getNewGWToken","flowName","provider","flowCallback","sessionId","secret","globalDomain","subLogger","maxRetries","reconnectAttempts","resolvedIdentity","resolved_identity","availableDomains","available_domains","access_token","setLoggedIn","logout","promises","pingTimer","domainName","domainLogger","authToken","getGWToken","MessageReplayerImpl","specs","specsNames","messages","subs","subsRefCount","specs_1","spec","name_1","_loop_1","refCount","this_1","processMessage","types","isDone","name_2","drain","PromisePlus","executor","WebPlatformTransport","parentReady","iAmConnected","parentPingTimeout","connectionRequestTimeout","defaultTargetString","connectionAccepted","handleConnectionAccepted","connectionRejected","handleConnectionRejected","connectionRequest","handleConnectionRequest","handleParentReady","parentPing","handleParentPing","platformPing","handlePlatformPing","platformUnload","handlePlatformUnload","platformReady","handlePlatformReady","clientUnload","handleClientUnload","manualUnload","handleManualUnload","setUpMessageListener","setUpUnload","publicWindowId","waitParent","initiateRemoteConnection","connectionResolve","connectionReject","myClientId","bridgeInstanceId","request","clientId","clientType","parentPingResolve","checkMessageTypeValid","messageType","ownWindowId","handleAcceptanceOfMyRequest","handleAcceptanceOfGrandChildRequest","parentWindowId","applicationName","grandChildId","rejectConnectionRequest","typeToValidate","rejection","Connection","messageHandlers","ids","_connected","isTrace","inproc","sharedWorker","canPublish","handleConnectionChanged","handleTransportMessage","replaySpecs","replayer","isObjectBasedTransport","trace","strMessage","isLoggedIn","authRequest","distributeMessage","handlerId","loggerError","msgObj","Logger","logFn","subLoggers","customLogFn","loggerFullName","includeTimeAndLevel","existingSub","publishLevel","_publishLevel","consoleLevel","_consoleLevel","publishMessage","compareWith","loggerName","Interop","InteropMethodName","prefix","date","getHours","getMinutes","getSeconds","getMilliseconds","toPrint","GW_MESSAGE_CREATE_CONTEXT","GW_MESSAGE_ACTIVITY_CREATED","GW_MESSAGE_ACTIVITY_DESTROYED","GW_MESSAGE_CONTEXT_CREATED","GW_MESSAGE_CONTEXT_ADDED","GW_MESSAGE_SUBSCRIBE_CONTEXT","GW_MESSAGE_SUBSCRIBED_CONTEXT","GW_MESSAGE_UNSUBSCRIBE_CONTEXT","GW_MESSAGE_DESTROY_CONTEXT","GW_MESSAGE_CONTEXT_DESTROYED","GW_MESSAGE_UPDATE_CONTEXT","GW_MESSAGE_CONTEXT_UPDATED","GW_MESSAGE_JOINED_ACTIVITY","ContextMessageReplaySpec","GW3ContextData","contextId","isAnnounced","activityId","updateCallbacks","hasCallbacks","applyContextDelta","delta","deepClone","commands","command","deletePath","setValueToPath","added_1","added","updated_1","updated","removed","mergeObjectsProperties","Set","flags","what","withWhat","deepEqual","pathArr","isSubset","superObj","subObj","ele","InvokeStatus","GW3Bridge","_contextNameToData","_gw3Subscriptions","_nextCallbackSubscriptionNumber","_contextNameToId","_contextIdToName","_protocolVersion","_connection","_logger","_gw3Session","subscribeToContextCreatedMessages","subscribeToContextUpdatedMessages","subscribeToContextDestroyedMessages","handleContextCreatedMessage","handleContextUpdatedMessage","handleContextDestroyedMessage","contextsDomainInfo","uri","createContext","lifetime","createContextMsg","context_id","contextData","currentContext","calculatedDelta","calculateContextDeltaV2","calculateContextDeltaV1","gwResponse","handleUpdated","updaterId","setPath","setPathSupported","setPaths","pathValues","pathValues_1","pathValue","pathValues_2","_r","un","thisCallbackSubscriptionNumber","hadCallbacks","joinedActivity","sentExplicitSubscription","sendSubscribe","subscriptionKey","sendUnsubscribe","extraData","oldContext","invokeUpdateCallbacks","createdMessageTypes_1","createdMessageType","contextCreatedMsg","activity_id","updatedMessageTypes_1","updatedMessageType","contextUpdatedMsg","justSeen","context_snapshot","updater_id","updateCallbackIndex","updateCallback","destroyedMessageTypes_1","destroyedMessageType","destroyedMsg","ContextsModule","_bridge","checkName","checkData","checkPath","paths_1","promisify","successCallback","errorCallback","rejectAfter","ms","clearTimeoutIfThere","Client","configuration","callProtocolSubscribe","targetServers","successProxy","errorProxy","methodResponseTimeout","waitTimeoutMs","methodDef","method_response_timeout","wait_for_method_timeout","delayTillNow","currentServers","getServerMethodsByFilterAndTarget","retry_1","streamInfo","methodFilter","filterCopy","getServers","serverMethodMap","server","getMethods","methodsForInstance","getMethodsForInstance","onMethodAdded","methodRemoved","onMethodRemoved","serverAdded","onServerAdded","serverRemoved","onServerRemoved","serverMethodAdded","onServerMethodAdded","serverMethodRemoved","onServerMethodRemoved","argumentObj","additionalOptions","methodDefinition","serversMethodMap","errorObj","additionalOptionsCopy","invokePromises","invocationMessages","tryToAwaitForMethods","supportsStreaming","objectTypes","called_with","executed_by","serversMethodPair","invId","invokePromise","race","invocationId","getInvocationResultObj","invocationResults","calledWith","invokeMessage","Success","allValues","currentValue","allErrors","currError","invResult","filterByTarget","myMatches","serverMethodPair","instanceMatch","localMachine","instanceFilter","instanceDefinition","containsProps","methodMatch","repoMethod","isMatch","filterValue","repoMethodValue","filterValueEl","matchingServers","resultMethodsObject","methodKey","identifier","matchingMethods","ServerSubscription","branchKey","closeSingleSubscription","pushDataToSingle","Request","requestContext","accept","acceptRequestOnBranch","acceptOnBranch","rejectRequest","ServerStreaming","onSubRequest","rc","rm","handleSubRequest","onSubAdded","handleSubAdded","onSubRemoved","handleSubRemoved","streamCallbacks","subscriptionRequestHandler","subscriptionAddedHandler","subscriptionRemovedHandler","ServerBranch","subscriptions","getSubscriptionList","closeAllSubscriptions","pushData","ServerStream","_protocol","_repoMethod","_server","branches","bList","getBranchList","def2","returns","unregister","updateRepoMethod","Server","serverRepository","invocations","currentlyUnregistering","streaming","onInvoked","onMethodInvoked","createStream","streamDef","existingStream","streamMethodDefinition","getList","serverMethod","protocolState","streamUserObject","repoId","register","wrappedCallbackFunction","resultCallback","resultValue","userCallback","registerCore","resultCalled_1","methodResult","userCallbackAsync","forStream","methodToBeRemoved","unregisterWithPredicate","removeMethodsOrStreams","filterPredicate","methodsOrStreamsToRemove","methodsToRemove","methodUnregPromises","addAsCurrentlyUnregistering","theFunction","unregisterInProgress","methodToExecute","invocationArgs","unStrException","_value","methodInvocationResult","InstanceWrapper","API","wrapped","getStreams","refreshWrappedObject","user","pid","machine","environment","region","hideMethodSystemFlags","ClientRepository","methodsCount","myServer","unwrappedInstance","addServer","serverId","serverEntry","removeServerById","methodId","removeServerMethod","addServerMethod","createMethodIdentifier","gatewayId","display_name","object_types","input_signature","result_signature","getServersByMethod","clientMethodDefinition","extractMethodsFromServers","hideServerMethodSystemFlags","unsubscribeFunc","serversWithMethodsToReplay","returnUnsubWithDelayedReplay","methodsToReplay","unsubCalled","getServerById","methodInfo","allServers","collectionToReplay","clientMethods","ServerRepository","nextId","SUBSCRIPTION_REQUEST","SUBSCRIPTION_ADDED","SUBSCRIPTION_REMOVED","ServerStreaming$1","repository","ERR_URI_SUBSCRIPTION_FAILED","nextStreamId","handleAddInterest","handleRemoveInterest","streamingMethod","subscriptionsMap","branchKeyToStreamIdMap","streamId","getStreamId","subscription_id","subscribeMsg","stream_id","sendSubscriptionFailed","dropSubscriptionMessage","closeMultipleSubscriptions","subscriptionsToClose","drop","allSubscriptions","onSubscriptionLifetimeEvent","method_id","handlerFunc","getNextStreamId","caller_id","arguments_kv","subscriptionId","reason_uri","needleBranch","ServerProtocol","clientRepository","handleInvokeMessage","isStreaming","registerMsg","restrictions","invocation_id","callerId","UserSubscription","subscriptionData","params","trackedServers","pair","dataCallback","queued","dataItem","onClosed","closedCallback","onConnected","setNewSubscription","newSub","STATUS_AWAITING_ACCEPT","STATUS_SUBSCRIBED","ERR_MSG_SUB_FAILED","ON_CLOSE_MSG_CLIENT_INIT","ClientStreaming","subscriptionsList","subscriptionIdToLocalKeyMap","nextSubLocalKey","handleErrorSubscribing","errorResponse","subLocalKey","pendingSub","timeoutId","callArgs","callOnClosedHandlers","handleSubscribed","acceptingServer","isFirstResponse","serverInstance","handleEventData","trackedServersFound","isPrivateData","oob","sendingServerId","receivedStreamData","private","onDataHandlers","queuedData","handleSubscriptionCancelled","expectedNewLength","closers","getNextSubscriptionLocalKey","registerSubscription","server_id","drainSubscriptions","subsInfo","localKey","closeSubscription","closingServer","closersCount","closingServerId","ClientProtocol","handlePeerAdded","handlePeerRemoved","handleMethodsAddedMessage","handleMethodsRemovedMessage","handleResultMessage","handleInvocationError","newPeerId","new_peer_id","remoteId","meta","local","serverInfo","removedPeerId","removed_id","methodIdList","gW3ProtocolFactory","libConfig","readyPromise","existingSubscriptions_1","registeredMethods","registeredMethods_1","handleReconnect","protocolPromise","waitForMethod","MessageBus","publish","topic","routingKey","removeEmptyValues","routing_key","target_identity","watchOnEvent","keysMatch","cleaned","obj1","obj2","keysObj1","allMatch","GlueCore","userConfig","gdVersion","preloadPromise","gdPreloadPromise","_interop","_contexts","_bus","_allowTrace","glueInitTimer","internalConfig","nodeStartingContext","startingContextString","_GD_STARTING_CONTEXT_","_f","getApplication","applicationConfig","instanceId","gwConfig","gateway","gwURL","uniqueAppName","appInstanceId","getConnection","windowAsAny","containerApplication","htmlContainer","containerName","bus","auth","gwToken","getAuth","gdConsoleLevel","defaultLevel","consoleLogLevel","getLogger","libs","customLogger","prepareConfig","registerLib","inner","initTime","initEndTime","initStartTime","setupMetrics","initTimer","metricsPublishingEnabledFunc","getMetricsPublishingEnabled","setupInterop","agmConfig","setupContexts","hasActivities","activities","setupBus","setupExternalLibs","externalLibs","createCallback","setupExternalLib","authPromise","authConfig","libsReadyPromises","coreVersion","feedback","feedbackInfo","timing","extOptions","enrichGlue","updatePerfData","deprecatedDecorator","wrong","proper","agmAny","method_added","method_removed","server_added","server_method_aded","server_method_removed","ActivityEntity","_update","other","_updateCore","_beforeDelete","isString","isUndefined","isUndefinedOrNull","ifNotUndefined","doWithIt","ActivityType","ownerWindow","helperWindows","_ownerWindow","_helperWindows","hw","covertToWindowDef","windowType","WindowType","appByWindowTypeGetter","_appByWindowTypeGetter","getWindows","activity","isIndependent","createWindow","EntityEvent","entitiy","entity","EntityEventContext","ActivityStatusChangeEventContext","newStatus","oldStatus","EntityEventType","StatusChange","ActivityContextChangedEventContext","ActivityContextChange","Added","Removed","Updated","Closed","ActivityWindowEvent","ActivityWindowJoinedActivity","ActivityWindowLeftActivity","ActivityState","Created","Started","Destroyed","ActivityAGM","_activity","_ensureHasAgm","AGM","methodNames","methodsForWindow","currentWindowMethod","activityServers","promisify$1","potentialTargets","firstElem","_isInstance","_isActivityWindow","parameters","AttachedActivityDescriptor","ownerActivityId","_ownerActivityId","ownerId","windowIds","frameColor","detachActivities","nodeify","resp","Activity","actType","_actType","_status","_context","_ownerId","_agm","getActivityType","addWindowToActivity","createStackedWindows","windowTypes","leaveWindowFromActivity","getWindowsByType","setContext","setActivityContext","updateContext","updateActivityContext","onStatusChange","subscribeActivityEvents","ns","os","subscribeWindowEvents","onContextChanged","subscribeActivityContextChanged","act","stopActivity","attach","attachActivities","onActivityAttached","subscribeActivitiesAttached","newActId","oldActId","onDetached","subscribeActivitiesDetached","newAct","originalActivity","_updateDescriptors","allStates","_attached","setFrameColor","callbacksToWait","underlyingWindow","getFrameColor","LogLevel","Trace","Debug","Info","Warn","Logger$1","GlueLogger","_glueLogger","GetNamed","Get","owner","GetTypeName","Level","_getMessage","ActivityWindow","windowGetter","hcWindowId","_type","_activityId","_instance","_isIndependent","_windowGetter","_hcWindowId","getBounds","getWindowBounds","getWindowType","getActivityById","setVisible","setWindowVisibility","activate","activateWindow","setBounds","setWindowBounds","closeWindow","onActivityJoined","_subscribeForActivityWindowEvent","onActivityRemoved","ActivityStatus","getMessage","gwMmessageError","gwMessageAddActivityTypes","gwMessageActivityCreated","gwMessageActivityDestroyed","gwMessageActivityInitiated","gwMessageJoinedActivity","gwMessageActivityJoined","gwMessageActivityLeft","gwMessageOwnerChanged","gwMessageAddPeerFactories","gwMessagePeerFactoriesAdded","gwMessagePeerFactoriesRemoved","gwMessagePeerCreated","GW3Bridge$1","_activityChangeCallbacks","_activityTypeStatusChangeCallbacks","_activityWindowChangeCallbacks","_windowTypeStatusChangeCallbacks","_peerIdAndFactoryIdToPeerType","_peerFactoriesRegisteredByUs","_contextSubscriptions","_activityTypesInitiatedFromMe","_windows","_sessionJoinedPromise","_sessionJoinedPromiseResolve","_activityJoinedPromise","_activityJoinedPromiseResolve","glue42gd_1","addRefreshHandler","setGWToken","activityTypeGwMessageEntityToActivityType","nameToWindowType","windowName","owner_type","helper_types","peerFactoryGwMessageEntityToWindowType","peer_type","activityGwMessageToActivity","owner_id","activity_type","activityToActivityStatusChangeEvent","forwardActivityTypeMessagesToStatusEventHandlers","handleActivityCreatedMessage","handleActivityDestroyedMessage","forwardActivityMessagesToStatusEventHandlers","forwardActivityCreatedAndJoinedActivityToActivityWindowEventHandlers","forwardPeerFactoryMessagesToStatusEventHandlers","forwardPeerFactoryMessagesToPeerFactoryRequests","handlePeerFactoriesAdded","handlePeerFactoriesRemoved","forwardActivityWindowMessagesToEventHandlers","disposeRequestHandling","exit","activity_types","typesToTrack","initReady","onActivityTypeStatusChange","registerActivityType","activityTypeName","toActivityPeerConfig","windowDefinition","activityType","invokeCallbacks","unregisterActivityType","onWindowTypeStatusChange","registerWindowFactory","factories","unregisterWindowFactory","factory_ids","onActivityStatusChange","initiateActivity","initiateMsg","initial_context","isOverrideTypeDefinition","types_override","helpers","wd","sendCreateAndMapResultingMessagesToPromise","initMsg","fullReplace","removedKeys","removedKeys_1","announceWindow","activityWindowId","registerWindow","independent","shouldSendReady","activityInfo","getAgmInstance","generateWindowGetter","onActivityWindowChange","cellSize","peer_name","created_id","joinActivity","destroy_peer_id","getAnnouncementInfo","announcementInfo","activityWindowType","activityWindowIndependent","activityWindowName","searchParams","maybeName","target_id","leaveActivity","getActivityTypes","getWindowTypes","getActivities","getActivityWindows","windowDefinitions","cloneActivity","cloneOptions","into","newActivityInfo","onActivitiesAttached","onActivitiesDetached","onActivityAttachedDescriptorsRefreshed","getAttachedDescriptors","getRandomRequestId","forwardAddedAndRemovedMessagesToEventHandler","addedMessageType","removedMessageType","mapper","getGetEntityEvent","isAdded","forwardMessageToEventHandler","getEntityEvent","ent","initiatedMessageType","initiatedMessageFilter","createdMessageFilter","cancelledMessageType","cancelledMessageFilter","createdMessageToPromiseResolution","resolveCreatedPromise","rejectCreatedPromise","initiatedSubscription","createdSubscription","cancelledSubscription","errorSubscription","reqId","createdPromise","initiatedMessageAck","dropSubscriptions","dropSubscription","msg4","msg1","msg2","msg3","toReturn","peerFactoryIdAndOwnerIdToWindowType","factoryId","peerType","subscribeToContext","unsubscribeContext","activityCreatedMessage","participants","createdMessage","peer_factory","gateway_token","joinedMessage","joinedId","joined_id","joinedType","joined_type","joinedName","joined_name","left_id","ActivityMy","_myAttached","_myDetached","_myAttachedTo","_myDetachedFrom","_myActivityFrameColorChanged","_myActivityJoinedCallbacks","_myActivityRemovedCallbacks","_myContextUpdateCallbacks","_m","am","_subscribeMyContextChanged","_subscribeMyWindowEvent","_subscribeActivitiesAttached","_subscribeActivitiesDetached","onWindowFrameColorChanged","_subscribeWindowFrameColorChanged","_w","announcedWindows","myWin","onActivityLeft","onActivityDetached","onAttachedToActivity","onDetachedFromActivity","attached","onFrameColorChanged","myActivity","_notifyMyContextChanged","_notifyMyWindowEvent","callbackStore","_notifyAttached","_notifyDetached","_notifyAttachedTo","_notifyDetachedFrom","detached","oldAct","ReadyMarker","signalsToWait","_signals","_callbacks","setCallback","isSet","isError","_error","getError","EntityObservableCollection","processNew","_items","_listeners","_processNew","addOne","internalEntity","_updateInternalCollections","_notifyListeners","getByName","getOrWait","entityAddedHandler","entityAsAny","isActivityDestroy","isWindowClose","oldEntity","ActivityManager","autoAnnounce","_announcedWindows","_attachedCallbacks","_detachedCallbacks","_frameColorChangesCallbacks","_windowHandlers","_activityTypes","_grabEntity","_windowTypes","_activities","_dataReadyMarker","_descriptorsMarker","_readyMarker","dataErr","errCatch","refreshDescriptors","_handleActivitiesAttached","_handleActivitiesDetached","_handleActivityDescriptorsRefreshed","_handleWindowFrameColorChanged","_subscribeForData","aw","_getInitialData","bridgeType","ownerWindowType","helperWindowTypes","ownerDefinition","helperDefinitions","relativeTo","relativeDirection","windowStyleAttributes","actId","subscribeActivityTypeEvents","factoryMethod","getName","currentWindow","windowEventHandler_1","unsubscribeWindowEvents","subscribeWindowTypeEvents","window_1","wrappingHandler","windowTypeOrConfiguration","relativeToWindow","invalidKeys_1","filteredWindowTypeOrConfiguration_1","wid","relativeWindowTypes","stackedWindow","tasks","removedKey","descriptors","stateWrapped","subscribeActivityFrameColorChanged","ac","descriptorAsObjectFromAPI","oldActivityId","newActivityId","ActivityManagementAPI","_my","activityTypes","_getActivityTypesWrapper","_getWindowTypesWrapper","registerFactory","unregisterFactory","announce","onAttached","onActivityFrameColorChanged","ActivityAPI","_mgr","aware","inActivity","getAvailableFrameColors","ActivityModule","logLevel","_isUsingHCImplementation","gdMajorVersion","_isUsingGW3Implementation","checkIsUsingGW3Implementation","activityManager","disableAutoAnnounce","_api","_readyPromise","GetFunctionalEntitlementMethodName","CanIMethodName","OnEventMethodName","createRegistry$1","lib$2","objectValues","objectClone","ApplicationImpl","_appManager","onInstanceStarted","onInstanceStopped","onAppRemoved","onAppChanged","onAppAvailable","onAppUnavailable","_props","Title","Version","AutoStart","IsShell","Caption","IsHidden","ApplicationName","ActivityWindowType","Arguments","AllowMultiple","IsReady","Icon","IconUrl","SortOrder","UserProperties","autoStart","allowMultiple","Type","Mode","styleAttributes","WindowStyleAttributes","searchFor","modeIndex","startModeIndex","stopModeIndex","updateFromProps","Name","waitForAGMInstance","waitForAGMReady","Context","Options","acsResult","Instance_0","Id","handleInstanceStarted","check","filtered","isActivityInstance","waitFunc","onInstanceAgmServerReady","waitForApplicationInstance","onAvailable","onUnavailable","InstanceImpl","_appName","startFailed","onAgmReady","_addToRegistry","onStopped","_unsubscribeInstanceStopped","_unsubscribeInstanceAgmServerReady","activityInstance","_isActivityOwner","activityInstances","inst","isActivityOwner","activityOwnerInstance","_startUpContext","_title","_isActivityInstance","_inActivity","_agmInstance","ActivityId","IsActivityOwner","updateAgmInstanceFromProps","AgmServers","GD3","agmInstances","gdAgmServers","propsAgmServer","propsAgm","machineName","userName","handleInstanceStopped","AppManagerImpl","_gdMajorVersion","_apps","_instances","getMyInstance","instanceId_1","handleAppAdded","_getAppId","_updateAppFromProps","handleAppUpdated","handleAppRemoved","handleAppReady","_getAppOrThrow","available","_getInstanceId","_getInstanceAppName","_updateInstanceFromProps","_getInstanceOrThrow","_matchInstance","handleInstanceAgmServerReady","handleInstanceStartFailed","handleInstanceUpdated","onInstanceStartFailed","onInstanceUpdated","onAppAdded","_getInstanceByIdAndName","promisify$2","EntitlementsImpl","_isMethodRegistered","handleBranchModified","handleBranchesModified","getRegion","_agmInvoke","Region","getBranches","Branches","getCurrentBranch","Branch","setRegion","ResultMessage","setCurrentBranch","currentUser","getFunctionalEntitlement","funct","Entitlement","getFunctionalEntitlementBranch","canI","func","Result","canIBranch","onBranchesChanged","onBranchChanged","onShuttingDown","registerMethod","restart","transformFunction","InMemoryStoreCommandMethodName","InMemoryStore","apps","createAppDef","AppManagerFactory","START_ONLY","SKIP_ICONS","entitlements","skipIcon","skipIcons","resolveFunc","rejectFunc","resultPromise","createDataSubscription","inMemory","windowStore","WindowStore","waitForTimeoutInMilliseconds","_pendingWindows","_pendingWindowsStates","getIfReady","remote","urlChanged","setReadyState","targetWindowState","markReadyToShow","setUrlChangedState","onReadyWindow","Utils$1","callbackifyPromise","getMonitor","displays","workingAreaWidth","workingAreaHeight","monitor","totalOverlap","calculateTotalOverlap","getDisplayCenterOfScreen","r1","r2","r1x","r1y","r1xMax","r1yMax","r2x","r2y","r2xMax","r2yMax","windowFactory","appManagerGetter","displayAPIGetter","_group","_mode","_url","_bounds","_frameColor","_focus","_neighbours","neighbours","_groupId","groupId","_isGroupHeaderVisible","isGroupHeaderVisible","_isTabHeaderVisible","isTabHeaderVisible","_isTabSelected","isTabSelected","_settings","_isVisible","_isSticky","isSticky","isCollapsed","_windowState","_tabGroupId","tabGroupId","_isLocked","isLocked","_frameButtons","_zoomFactor","zoomFactor","_placementSettings","placementSettings","moveResize","resolveTimeout","unsubscribeBoundsChanged","resolveImmediately","areBoundsEqual","onBoundsChanged","toBeVisible","onVisibilityChanged","onContextUpdated","waitForLockingChanged","onLockingChanged","onTitleChanged","onUrlChanged","onFrameButtonAdded","onFrameButtonRemoved","onCollapsed","onExpanded","onMaximized","onMinimized","onNormal","onFocusChanged","onTabHeaderVisibilityChanged","onGroupChanged","getNeighboursByDirection","direction","winId","getApplicationName","_APPLICATION_NAME","_t42","getWindowInfo","requested","maxHeight","areHeightsEqual","areWidthsEqual","areLeftsEqual","areTopsEqual","handleWindowClose","handleWindowChangeState","handleTitleChanged","newTitle","handleVisibilityChanged","handleUrlChanged","newUrl","handleWindowSettingsChanged","handleContextUpdated","handleFrameIsLockedChanged","handleBoundsChanged","handleFocusChanged","handleFrameButtonAdded","frameButton","buttonObj","btn","buttonId","handleFrameButtonRemoved","frameButtonId","handleFrameButtonClicked","handleFrameColorChanged","handleFrameAttached","handleFrameSelectionChanged","prevWindow","selectedWindow","previousWindow","un_1","onTabSelectionChanged","newWin","prevWin","handleCompositionChanged","handleGroupHeaderVisibilityChanged","handleTabHeaderVisibilityChanged","handleGroupChanged","oldGroup","handleGroupAssociation","group","handleAttached","newTabGroupId","tabHeaderVisible","handleDetached","handleWindowAttached","handleWindowDetached","handleZoomFactorChanged","handleIsStickyChanged","handlePlacementSettingsChanged","displayAPI_1","index_1","hostInstance","monitors","maximizeRestore","collapse","toggleCollapse","setStyle","setOnTop","onTop","resetButtons","setSizeConstraints","constraints","navigate","addFrameButton","buttonInfo","imageBase64","removeFrameButton","center","screen","snap","targetWindowGroup","targetWindow","targetGroup","showLoader","loader","hideLoader","unlock","getIcon","icon","setIcon","base64Image","setTabTooltip","attachTab","sourceWindowId","targetWindowId","argsForSend","detachTab","opt","hideTabHeader","visibilityChangeHeard","detachedHeard","unVisibility","isVisibilityCorrect","unDetached","setTabHeaderVisible","toBeTabHeaderVisible","showPopup","createFlydown","setModalState","setZoomFactor","zoomIn","zoomOut","showDevTools","capture","captureOptions","flash","suppliedOptions","flashOptions","shouldFlash","setSticky","print","printOptions","printToPDF","printToPDFOptions","place","ungroup","ungroupOptions","unGroupChanged","onFrameButtonClicked","onStickyChanged","onWindowAttached","onWindowDetached","onClosing","onRefreshing","prevent","onZoomFactorChanged","onPlacementSettingsChanged","onNeighboursChanged","getAllTabs","resizeTo","getParentWindow","myParentId","parentInstanceId","getChildWindows","Events","Registry","GDExecutor","agmTarget","stylePromises","wait","toolTip","allowClose","allowCollapse","allowLockUnlock","allowMaximize","allowMinimize","tabTooltip","tabToolTip","buttonsConfig","snappingEdge","dataURL","toShow","optionsCopy","reformatedOptions","targetLocation","popupBounds","targetId","fullOptions","horizontalOffset","verticalOffset","reformatFlydownOptions","zoneIds","zones","flydownSize","cancel","clearFlydownArea","handleFlydownBoundsRequested","cancelCallback","responses","defaultResponse","zoneId","flydownId","flydownWindowBounds","flydownWindowId","captureGroup","groupWindowIds","configure","filePath","setGroupHeaderVisible","getGroupTitle","setGroupTitle","addCloseHandler","assignGeneralIfUnassigned","zone","valueFromOptions","flydownBounds","flydownActiveArea","activeArea","areaIds","getWindowsByTabGroupId","alphabet$1","previousSeed$1","shuffled$1","GDEnvironment","wndId","_waitTimeout","normalizeInstance","_windowId","_appManagerGetter","_displayAPIGetter","caller","respondToEvent","streamResolve","streamReject","updateWindow","copyOptions","windowState","tabAttached","tabDetached","onEvent","onCompositionChanged","onGroupHeaderVisibilityChanged","onWindowGotFocus","onWindowLostFocus","windowInfo","readyResolve","extendedStreamEvent","getExtendedStreamEvent","windowInfoCreatedEvent","windowObjectAndEvents","theWindow","theWindowEvents","windowInfoBoundsChangedEvent","windowInfoUrlChangedEvent","windowInfoTitleChanged","windowInfoIsStickyChangedChanged","windowInfoCompositionChanged","neighbors","groupHeaderVisible","windowInfoFocusChanged","focusChanged","winsToBeNotified_1","oldTabGroupId","winsToBeNotified_2","prevWindowId","windowObjAndEvents","mapToWindowConstructorOptions","isActiveTab","streamEvent","charAt","groupFactory","_windowsId","waitForHeaderVisibilityChanged","onHeaderVisibilityChanged","groupObject","_mapToWindowObjects","winObjects","windowObject","_mapToWindowObject","mappedWindows","mappedWindow","showHeader","hideHeader","groupAPI","groupInternal","window_2","groupsFactory","_groups","heardForWindowsCounter","findGroupByWindow","groupFound","addNewWindow","windowGroupId","createdGroup","createOrGetGroup","deleteGroup","newGroupId","oldGroupId","groupEvents","groupsAPI","groupsEvents","onWindowMoved","WindowsFactory","groups","gdPromise","rej","envDetector","myWindow","windowAdded","windowRemoved","errorHandler","windowsForListing","onTabAttached","unsubFunc","unsubscribed","onTabDetached","store","LayoutStore","removeWhere","condition","seed$1","randomFromSeed$1","ORIGINAL$1","reset$1","setCharacters$1","getShuffled$1","shuffle$1","alphabet_1$1","crypto$1","randomByteBrowser$1","encode_1$1","decode_1$1","build_1","isValid$1","lib$3","createCommonjsModule$1","shortid$1","ContextProvider","activitiesGetter","registerRequestMethods","onSaveRequested","context_1","activityIsOwner","usersCbs","requestResult","autoSaveWindowContext","windowContext","activityContext","transformACSLayout","something","accumulator","convertedValue","LayoutImpl","LayoutsAPIImpl","activityGetter","setDefaultGlobal","clearDefaultGlobal","getDefaultGlobal","isSlimMode","gotSnapshot","verifyNotSlimMode","ignoreHidden","layoutObject","actIds","appIds","ignoreLayoutRestrictions","myInstance","isVisibleWindow","ignoreMyInstance","autoCollectApps","invokeMethodAndTrack","activityIdToJoin","restoreActivityOwner","ignoreActivityWindowTypes","closeRunningInstance","reuseWindows","t42","activityToJoin","closeOldWindows","reuseExistingWindows","toClose","splash","getInstancesToClose","layoutType","getObjectValues","Layouts","rename","newName","oldName","updateMetadata","hibernate","resume","getCurrentLayout","onRestored","onRenamed","updateAppContextInCurrent","updateDefaultContext","skipStreamEvent","agmResult","streamEventReceived","handleResult","shellApp","shellApplicationName","ACSStream","resolveReady","rejectReady","resolveGotSnapshot","rejectGotSnapshot","noRetry","checkForLayoutEventMethod","IsSnapshot","addLayouts","OnLayoutAdded","removeLayouts","OnLayoutRemoved","changeLayouts","OnLayoutChanged","renameLayouts","OnLayoutRenamed","restoredLayout","OnLayoutRestored","Token","layoutsData","removedLayouts","removedLayout","existingLayout","compareLayouts","changedLayouts","changedLayout","renamedLayouts","renamedLayout","layout1","layout2","restoredLayouts","LayoutsFactory","acsStream","DisplayCommand","DisplayManager","callGD","GetAll","decorateDisplay","getPrimary","isPrimary","Capture","captureAll","CaptureAll","getMousePosition","GetMousePosition","original","switchChannel","channel","swId","newChannel","CONTEXT_PREFIX","SharedContextSubscriber","subscribeFor","isChannel","createContextName","___","startsWith","channelContextName","getContextData","updateChannel","updateData","channelName","ChannelsImpl","shared","subsKey","changedKey","channelNames","joinCore","joinNoSelectorSwitch","leaveCore","leaveNoSelectorSwitch","changed","changeSelector","doesChannelExist","intervalId","sharedContexts","channels","interopLib","setupAGM","initInfo","CommandMethod","HotkeysImpl","firstHotkey","hotkeys","hkToLower","hotkey","formatHotkey","registerInvokeAGMMethod","unregisterAll","isRegistered","version$2","prepareConfig$1","getLibConfig","defaultMode","trueMode","getModeAsString","Glue42Notification","actions","badge","renotify","requireInteraction","silent","Notifications","methodsRegistered","methodNameRoot","notifications","raise","bunchOfPromises","notification","validActions","validActions_1","g42notification","maxActions","handleNotificationAction","severity","glueRoutingDetailMethodName","g42notificationId","g42action","g42interopMethod","g42interopTarget","stringValue","glueAction","payload_1","event_1","onaction","actionInterop","event_2","clickInterop","ThemesImpl","core","isSubscribed","getConfiguration","getMethodName","getCurrent","theme","setMethodName","sharedContextName","getThemesMethodName","setThemesMethodName","GLUE42_FDC3_INTENTS_METHOD_PREFIX","Intents","intentFilter","intents","ctToLower_1","intent","contextType","contextTypes","intentName","intentDef","isDynamicIntent","anAppHandler","anInstanceHandler","intentDefHandler","intentHandler","startApp","raiseIntentToInstance","appsWithIntents","appsWithIntents_1","serverWindowIds","T42WndGetInfo","windowsInfos","servers_1","withIntentsInfo","applicationTitle","applicationDescription","applicationIcon","serverWindowId","appIntent","appWithIntents","appDefIntent","windowsIdToTitle","instanceTitle","addIntentListener","intentFlag","registeredIntent","interopServer","registeredMethod","addedMethod","windowsInfo","InitInfo","numberOfCalls","getPromise","factory$3","factoryCore","createWindows","glueConfig","windowsLogger","getLibLogger","debugLog","_displays","createActivities","activityLogger","createAppManager","createLayouts","layoutsConfig","lay","createChannels","channelsAPI","createHotkeys","hotkeysAPI","factory$1","createIntents","intentsAPI","createNotifications","notificationsAPI","createDisplaysApi","displaysLogger","createThemes","themesAPI","themes","factory$2","newLogger","loggerConfig","currentLog","glueApi","glueFactoryLog","libraries","whatToExpose","shouldSetToWindow","autoInjected","parseConfig","combined","systemLogger","checkSingleton","glue42CoreNamespace","webStarted","enterprise","enterpriseConfig","__rest$1","libDomainDecoder","windowOperationTypesDecoder","appManagerOperationTypesDecoder","layoutsOperationTypesDecoder","windowRelativeDirectionDecoder","windowOpenSettingsDecoder","openWindowConfigDecoder","windowHelloDecoder","coreWindowDataDecoder","simpleWindowDecoder","helloSuccessDecoder","isWorkspaceFrame","windowTitleConfigDecoder","windowMoveResizeConfigDecoder","windowBoundsResultDecoder","windowUrlResultDecoder","anyDecoder","boundsDecoder","instanceDataDecoder","applicationDetailsDecoder","intentDefinitionDecoder","customConfig","fdc3AppDefinitionDecoder","appId","manifest","manifestType","contactEmail","supportEmail","publisher","images","icons","applicationDefinitionDecoder","customProperties","allApplicationDefinitionsDecoder","appRemoveConfigDecoder","definitions","appsExportOperationDecoder","applicationDataDecoder","baseApplicationDataDecoder","appHelloSuccessDecoder","basicInstanceDataDecoder","applicationStartConfigDecoder","layoutTypeDecoder","componentTypeDecoder","windowLayoutComponentDecoder","componentType","main","workspaceLayoutComponentDecoder","glueLayoutDecoder","newLayoutOptionsDecoder","restoreOptionsDecoder","simpleLayoutConfigDecoder","getAllLayoutsConfigDecoder","allLayoutsFullConfigDecoder","importModeDecoder","layoutsImportConfigDecoder","allLayoutsSummariesResultDecoder","optionalSimpleLayoutResult","intentsOperationTypesDecoder","intentHandlerDecoder","intentDecoder","intentTargetDecoder","intentContextDecoder","wrappedIntentsDecoder","intentFilterDecoder","findFilterDecoder","wrappedIntentFilterDecoder","intentRequestDecoder","raiseRequestDecoder","intentResultDecoder","addIntentListenerRequestDecoder","addIntentListenerIntentDecoder","channelNameDecoder","operations","openWindow","dataDecoder","windowHello","getUrl","WebWindowModel","myCtxKey","ctxUnsubscribe","contextLib","dimension","targetBounds","commandArgs","ttl","WindowsController","allWindowProjections","coreGlue","addWindowOperationExecutors","platformRegistration","registerWithPlatform","toApi","operationData","windowSuccess","buildWebWindow","projection","handleWindowAdded","handleWindowRemoved","handleGetBounds","handleGetTitle","handleGetUrl","handleMoveResize","handleSetTitle","helloSuccess","sayHello","currentWindows","webWindowProjection","clean","targetTop","targetLeft","targetHeight","targetWidth","moveMethod","moveBy","resizeMethod","resizeBy","PromiseWrap","GlueWebPlatformControlName","GlueWebPlatformStreamName","GlueBridge","platformMethodTimeoutMs","controllers","checkWaitMethod","passMessageController","pkg","transmitMessage","unSub","decodeResult","handleBridgeMessage","resolutionData","messageData","operations$1","appHello","applicationAdded","applicationRemoved","applicationChanged","instanceStarted","instanceStopped","applicationStart","instanceStop","AppManagerController","addOperationsExecutors","startOptions","openResult","buildInstance","getApplications","getInstances","handleApplicationAddedMessage","handleApplicationRemovedMessage","handleApplicationChangedMessage","handleInstanceStartedMessage","handleInstanceStoppedMessage","appData","buildApplication","appIndex","instanceData","instIdx","instIdxApps","parseResult","valid","invalid","imported","verifiedName","instancesSoFar","findMyInstance","foundInstance","InstanceModel","getInteropInstance","ApplicationModel","startApplication","operations$2","layoutAdded","layoutChanged","layoutRemoved","LayoutsController","handleOnAdded","handleOnChanged","NotificationsController","permissionPromise","Notification","permission","requestPermission","raiseUsingWebApi","interopOptions","operations$3","getIntents","findIntent","raiseIntent","IntentsController","myIntents","GlueWebIntentsPrefix","requestObj","subscribed","intentFilterObj","ChannelsController","GlueWebChannelsPrefix","SubsKey","ChangedKey","currentChannelName","getAllChannelNames","channelContexts","switchToChannel","operations$4","getEnvironment","SystemController","setEnvironment","windowsController","appManagerController","layoutsController","notificationsController","intentsController","channelsController","systemController","applicationInstances","_windowsControllerInstance","_appManagerControllerInstance","_layoutsControllerInstance","_notificationsControllerInstance","_intentsControllerInstance","_systemControllerInstance","_channelsControllerInstance","lib$1$1","PromisePlus$1","version$1","getInvokePromise","coreFactoryFunction","glueWebFactory","windowAny","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","ReactCurrentOwner","__self","__source","defaultProps","$$typeof","_owner","jsx","jsxs","StrictMode","Profiler","Suspense","isMounted","enqueueForceUpdate","enqueueReplaceState","enqueueSetState","updater","isReactComponent","forceUpdate","isPureReactComponent","_result","ReactCurrentDispatcher","ReactCurrentBatchConfig","transition","IsSomeRendererActing","Children","count","only","PureComponent","_calculateChangedBits","_currentValue","_currentValue2","_threadCount","Consumer","createFactory","isValidElement","_payload","_init","useCallback","useDebugValue","useMemo","useReducer","aa","ba","ca","da","ea","fa","ha","ia","ja","ka","acceptsBooleans","attributeNamespace","mustUseProperty","sanitizeURL","removeEmptyString","oa","pa","qa","ma","na","la","setAttributeNS","xlinkHref","ra","sa","ta","ua","wa","xa","ya","za","Aa","Ba","Ca","Da","Ea","Fa","Ga","Ha","Ia","Ja","Ma","Ka","La","Na","Oa","Pa","prepareStackTrace","Reflect","construct","Qa","Ra","Sa","Ta","Va","_valueTracker","getOwnPropertyDescriptor","getValue","setValue","stopTracking","Ua","Wa","Xa","Ya","defaultChecked","_wrapperState","initialChecked","Za","initialValue","controlled","$a","ab","bb","eb","db","fb","defaultSelected","gb","dangerouslySetInnerHTML","hb","ib","jb","kb","lb","mb","nb","ob","valueOf","MSApp","execUnsafeLocalFunction","pb","qb","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columns","flex","flexPositive","flexNegative","flexOrder","gridRowSpan","gridColumnSpan","lineClamp","tabSize","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","rb","sb","tb","ub","menuitem","area","embed","hr","img","keygen","link","track","wbr","vb","wb","xb","srcElement","correspondingUseElement","yb","zb","Ab","Bb","Cb","stateNode","Db","Eb","Fb","Gb","Hb","Ib","Jb","Kb","Lb","Mb","Ob","Pb","Qb","Rb","onError","Sb","Tb","Ub","Vb","Wb","Xb","Zb","alternate","$b","memoizedState","dehydrated","cc","sibling","bc","dc","ec","fc","gc","hc","ic","jc","kc","lc","mc","nc","oc","pc","qc","blockedOn","domEventName","eventSystemFlags","nativeEvent","targetContainers","sc","tc","vc","lanePriority","unstable_runWithPriority","priority","hydrate","containerInfo","xc","yc","zc","Ac","Bc","unstable_scheduleCallback","unstable_NormalPriority","Cc","Dc","Ec","animationend","animationiteration","animationstart","transitionend","Fc","Gc","Hc","animation","Ic","Jc","Kc","Lc","Mc","Nc","Oc","Pc","Qc","unstable_now","Rc","Uc","pendingLanes","expiredLanes","suspendedLanes","pingedLanes","Vc","entangledLanes","entanglements","Wc","Xc","Yc","Zc","$c","eventTimes","clz32","cd","dd","unstable_UserBlockingPriority","ed","fd","gd","hd","uc","jd","kd","ld","md","nd","od","pd","qd","rd","_reactName","_targetInst","cancelBubble","persist","isPersistent","xd","yd","sd","isTrusted","ud","vd","Ad","getModifierState","zd","fromElement","movementX","movementY","Bd","Dd","dataTransfer","Fd","Hd","animationName","elapsedTime","pseudoElement","Jd","clipboardData","Ld","Md","Esc","Spacebar","Left","Up","Right","Down","Del","Win","Menu","Apps","Scroll","MozPrintableKey","Nd","8","9","12","13","16","17","18","19","20","27","32","33","34","35","36","37","38","39","40","45","46","112","113","114","115","116","117","118","119","120","121","122","123","144","145","224","Od","Alt","Control","Meta","Shift","Pd","Rd","repeat","locale","Td","pressure","tangentialPressure","tiltX","tiltY","twist","Vd","Xd","Zd","deltaX","wheelDeltaX","deltaY","wheelDeltaY","wheelDelta","deltaZ","deltaMode","$d","documentMode","datetime","email","month","range","tel","week","oninput","detachEvent","Ke","HTMLIFrameElement","contentEditable","Qe","selectionStart","selectionEnd","anchorNode","getSelection","anchorOffset","focusNode","focusOffset","Ze","Yb","af","bf","cf","df","passive","Nb","ef","ff","gf","hf","jf","kf","lf","mf","autoFocus","nf","__html","of","pf","qf","rf","sf","previousSibling","tf","vf","wf","xf","yf","zf","Af","Bf","Cf","Df","Ef","__reactInternalMemoizedUnmaskedChildContext","__reactInternalMemoizedMaskedChildContext","Ff","childContextTypes","Gf","Hf","If","getChildContext","Jf","__reactInternalMemoizedMergedChildContext","Kf","Lf","Mf","Nf","Of","Pf","unstable_cancelCallback","Qf","unstable_shouldYield","Rf","unstable_requestPaint","Sf","Tf","unstable_getCurrentPriorityLevel","Uf","unstable_ImmediatePriority","Vf","Wf","Xf","unstable_LowPriority","Yf","unstable_IdlePriority","Zf","$f","ag","bg","cg","dg","eg","fg","gg","hg","ig","jg","kg","lg","mg","ng","og","pg","qg","rg","sg","childLanes","tg","dependencies","firstContext","lanes","ug","vg","observedBits","responders","wg","xg","updateQueue","baseState","firstBaseUpdate","lastBaseUpdate","pending","effects","yg","zg","eventTime","lane","Ag","Bg","Cg","Dg","Eg","Fg","Gg","Kg","_reactInternals","Hg","Ig","Jg","Lg","shouldComponentUpdate","Mg","Ng","componentWillReceiveProps","UNSAFE_componentWillReceiveProps","Og","getDerivedStateFromProps","getSnapshotBeforeUpdate","UNSAFE_componentWillMount","componentWillMount","componentDidMount","Pg","Qg","_stringRef","Rg","Sg","lastEffect","nextEffect","firstEffect","Tg","Ug","elementType","Vg","Wg","Xg","Yg","Zg","$g","ah","bh","ch","dh","eh","fh","gh","hh","ih","memoizedProps","revealOrder","jh","kh","lh","mh","nh","oh","pendingProps","ph","qh","rh","sh","uh","_workInProgressVersionPrimary","vh","wh","xh","yh","zh","Ah","Bh","Ch","Dh","Eh","Fh","Gh","Hh","baseQueue","Ih","Jh","Kh","lastRenderedReducer","eagerReducer","eagerState","lastRenderedState","Lh","Mh","_getVersion","_source","mutableReadLanes","Nh","setSnapshot","Oh","Ph","Qh","Rh","deps","Sh","Th","Uh","Vh","Wh","Xh","Yh","Zh","$h","ai","bi","ci","di","readContext","useDeferredValue","useTransition","useMutableSource","useOpaqueIdentifier","unstable_isNewReconciler","uf","ei","fi","gi","ii","ji","ki","li","mi","baseLanes","ni","oi","pi","UNSAFE_componentWillUpdate","componentDidUpdate","qi","getDerivedStateFromError","ri","pendingContext","Bi","Di","Ei","si","retryLane","ti","unstable_avoidThisFallback","ui","unstable_expectedLoadTime","vi","wi","xi","yi","zi","isBackwards","rendering","renderingStartTime","tail","tailMode","Ai","Fi","Gi","wasMultiple","multiple","createElementNS","Hi","Ii","Ji","Ki","Li","Mi","Ni","Oi","Pi","Qi","Ri","Si","componentDidCatch","Ti","componentStack","Ui","Vi","Wi","Xi","__reactInternalSnapshotBeforeUpdate","Yi","Zi","$i","aj","bj","onCommitFiberUnmount","componentWillUnmount","cj","dj","ej","fj","gj","hj","_reactRootContainer","ij","jj","kj","lj","mj","nj","oj","pj","qj","rj","sj","tj","uj","vj","wj","ck","xj","yj","zj","Aj","Bj","Cj","Dj","Ej","Fj","Gj","Hj","Ij","Jj","Sc","Kj","Lj","Mj","callbackNode","expirationTimes","callbackPriority","Tc","Nj","Oj","Pj","Qj","Rj","Sj","Tj","finishedWork","finishedLanes","Uj","timeoutHandle","Wj","Xj","pingCache","Yj","Zj","va","ak","bk","dk","rangeCount","focusedElem","selectionRange","ek","createRange","setStart","removeAllRanges","addRange","setEnd","onCommitFiberRoot","fk","gk","ik","pendingChildren","jk","mutableSourceEagerHydrationData","kk","lk","mk","nk","qk","hydrationOptions","mutableSources","_internalRoot","rk","tk","hasAttribute","sk","uk","hk","unstable_observedBits","form","Vj","vk","wk","findFiberByHostInstance","bundleType","rendererPackageName","xk","rendererConfig","overrideHookState","overrideHookStateDeletePath","overrideHookStateRenamePath","overrideProps","overridePropsDeletePath","overridePropsRenamePath","setSuspenseHandler","scheduleUpdate","currentDispatcherRef","findHostInstanceByFiber","findHostInstancesForRefresh","scheduleRefresh","scheduleRoot","setRefreshHandler","getCurrentFiber","yk","supportsFiber","inject","findDOMNode","flushSync","unstable_batchedUpdates","unstable_createPortal","unstable_renderSubtreeIntoContainer","MessageChannel","unstable_forceFrameRate","cancelAnimationFrame","port2","port1","sortIndex","expirationTime","priorityLevel","unstable_Profiling","unstable_continueExecution","unstable_getFirstCallbackNode","unstable_next","unstable_pauseExecution","unstable_wrapCallback","Timeout","clearFn","_clearFn","unref","enroll","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","_onTimeout","clearImmediate","registerImmediate","nextHandle","tasksByHandle","currentlyRunningATask","doc","attachTo","runIfPresent","importScripts","postMessageIsAsynchronous","oldOnMessage","canUsePostMessage","messagePrefix","onGlobalMessage","installPostMessageImplementation","installMessageChannelImplementation","installReadyStateChangeImplementation","task","runtime","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","innerFn","outerFn","tryLocsList","protoGenerator","Generator","_invoke","GenStateSuspendedStart","GenStateExecuting","GenStateCompleted","doneResult","delegateResult","maybeInvokeDelegate","ContinueSentinel","_sent","dispatchException","abrupt","record","tryCatch","GenStateSuspendedYield","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","resultName","nextLoc","pushTryEntry","locs","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iterable","iteratorMethod","isGeneratorFunction","genFun","ctor","awrap","skipTempReset","rootRecord","rval","exception","loc","caught","hasCatch","hasFinally","finallyEntry","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","propName","propFullName","getShim","isRequired","ReactPropTypes","symbol","any","arrayOf","instanceOf","objectOf","oneOfType","shape","exact","checkPropTypes","PropTypes","b64","lens","getLens","validLen","placeHoldersLen","tmp","Arr","_byteLength","curByte","revLookup","uint8","extraBytes","parts","maxChunkLength","len2","encodeChunk","output","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN"],"mappings":"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","file":"static/js/2.0945e06d.chunk.js","sourcesContent":["module.exports = require(\"regenerator-runtime\");\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.min.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom.production.min.js');\n} else {\n  module.exports = require('./cjs/react-dom.development.js');\n}\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","/**\r\n * A collection of shims that provide minimal functionality of the ES6 collections.\r\n *\r\n * These implementations are not meant to be used outside of the ResizeObserver\r\n * modules as they cover only a limited range of use cases.\r\n */\r\n/* eslint-disable require-jsdoc, valid-jsdoc */\r\nvar MapShim = (function () {\r\n    if (typeof Map !== 'undefined') {\r\n        return Map;\r\n    }\r\n    /**\r\n     * Returns index in provided array that matches the specified key.\r\n     *\r\n     * @param {Array<Array>} arr\r\n     * @param {*} key\r\n     * @returns {number}\r\n     */\r\n    function getIndex(arr, key) {\r\n        var result = -1;\r\n        arr.some(function (entry, index) {\r\n            if (entry[0] === key) {\r\n                result = index;\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n        return result;\r\n    }\r\n    return /** @class */ (function () {\r\n        function class_1() {\r\n            this.__entries__ = [];\r\n        }\r\n        Object.defineProperty(class_1.prototype, \"size\", {\r\n            /**\r\n             * @returns {boolean}\r\n             */\r\n            get: function () {\r\n                return this.__entries__.length;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        /**\r\n         * @param {*} key\r\n         * @returns {*}\r\n         */\r\n        class_1.prototype.get = function (key) {\r\n            var index = getIndex(this.__entries__, key);\r\n            var entry = this.__entries__[index];\r\n            return entry && entry[1];\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @param {*} value\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.set = function (key, value) {\r\n            var index = getIndex(this.__entries__, key);\r\n            if (~index) {\r\n                this.__entries__[index][1] = value;\r\n            }\r\n            else {\r\n                this.__entries__.push([key, value]);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.delete = function (key) {\r\n            var entries = this.__entries__;\r\n            var index = getIndex(entries, key);\r\n            if (~index) {\r\n                entries.splice(index, 1);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.has = function (key) {\r\n            return !!~getIndex(this.__entries__, key);\r\n        };\r\n        /**\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.clear = function () {\r\n            this.__entries__.splice(0);\r\n        };\r\n        /**\r\n         * @param {Function} callback\r\n         * @param {*} [ctx=null]\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.forEach = function (callback, ctx) {\r\n            if (ctx === void 0) { ctx = null; }\r\n            for (var _i = 0, _a = this.__entries__; _i < _a.length; _i++) {\r\n                var entry = _a[_i];\r\n                callback.call(ctx, entry[1], entry[0]);\r\n            }\r\n        };\r\n        return class_1;\r\n    }());\r\n})();\n\n/**\r\n * Detects whether window and document objects are available in current environment.\r\n */\r\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && window.document === document;\n\n// Returns global object of a current environment.\r\nvar global$1 = (function () {\r\n    if (typeof global !== 'undefined' && global.Math === Math) {\r\n        return global;\r\n    }\r\n    if (typeof self !== 'undefined' && self.Math === Math) {\r\n        return self;\r\n    }\r\n    if (typeof window !== 'undefined' && window.Math === Math) {\r\n        return window;\r\n    }\r\n    // eslint-disable-next-line no-new-func\r\n    return Function('return this')();\r\n})();\n\n/**\r\n * A shim for the requestAnimationFrame which falls back to the setTimeout if\r\n * first one is not supported.\r\n *\r\n * @returns {number} Requests' identifier.\r\n */\r\nvar requestAnimationFrame$1 = (function () {\r\n    if (typeof requestAnimationFrame === 'function') {\r\n        // It's required to use a bounded function because IE sometimes throws\r\n        // an \"Invalid calling object\" error if rAF is invoked without the global\r\n        // object on the left hand side.\r\n        return requestAnimationFrame.bind(global$1);\r\n    }\r\n    return function (callback) { return setTimeout(function () { return callback(Date.now()); }, 1000 / 60); };\r\n})();\n\n// Defines minimum timeout before adding a trailing call.\r\nvar trailingTimeout = 2;\r\n/**\r\n * Creates a wrapper function which ensures that provided callback will be\r\n * invoked only once during the specified delay period.\r\n *\r\n * @param {Function} callback - Function to be invoked after the delay period.\r\n * @param {number} delay - Delay after which to invoke callback.\r\n * @returns {Function}\r\n */\r\nfunction throttle (callback, delay) {\r\n    var leadingCall = false, trailingCall = false, lastCallTime = 0;\r\n    /**\r\n     * Invokes the original callback function and schedules new invocation if\r\n     * the \"proxy\" was called during current request.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function resolvePending() {\r\n        if (leadingCall) {\r\n            leadingCall = false;\r\n            callback();\r\n        }\r\n        if (trailingCall) {\r\n            proxy();\r\n        }\r\n    }\r\n    /**\r\n     * Callback invoked after the specified delay. It will further postpone\r\n     * invocation of the original function delegating it to the\r\n     * requestAnimationFrame.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function timeoutCallback() {\r\n        requestAnimationFrame$1(resolvePending);\r\n    }\r\n    /**\r\n     * Schedules invocation of the original function.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function proxy() {\r\n        var timeStamp = Date.now();\r\n        if (leadingCall) {\r\n            // Reject immediately following calls.\r\n            if (timeStamp - lastCallTime < trailingTimeout) {\r\n                return;\r\n            }\r\n            // Schedule new call to be in invoked when the pending one is resolved.\r\n            // This is important for \"transitions\" which never actually start\r\n            // immediately so there is a chance that we might miss one if change\r\n            // happens amids the pending invocation.\r\n            trailingCall = true;\r\n        }\r\n        else {\r\n            leadingCall = true;\r\n            trailingCall = false;\r\n            setTimeout(timeoutCallback, delay);\r\n        }\r\n        lastCallTime = timeStamp;\r\n    }\r\n    return proxy;\r\n}\n\n// Minimum delay before invoking the update of observers.\r\nvar REFRESH_DELAY = 20;\r\n// A list of substrings of CSS properties used to find transition events that\r\n// might affect dimensions of observed elements.\r\nvar transitionKeys = ['top', 'right', 'bottom', 'left', 'width', 'height', 'size', 'weight'];\r\n// Check if MutationObserver is available.\r\nvar mutationObserverSupported = typeof MutationObserver !== 'undefined';\r\n/**\r\n * Singleton controller class which handles updates of ResizeObserver instances.\r\n */\r\nvar ResizeObserverController = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserverController.\r\n     *\r\n     * @private\r\n     */\r\n    function ResizeObserverController() {\r\n        /**\r\n         * Indicates whether DOM listeners have been added.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.connected_ = false;\r\n        /**\r\n         * Tells that controller has subscribed for Mutation Events.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.mutationEventsAdded_ = false;\r\n        /**\r\n         * Keeps reference to the instance of MutationObserver.\r\n         *\r\n         * @private {MutationObserver}\r\n         */\r\n        this.mutationsObserver_ = null;\r\n        /**\r\n         * A list of connected observers.\r\n         *\r\n         * @private {Array<ResizeObserverSPI>}\r\n         */\r\n        this.observers_ = [];\r\n        this.onTransitionEnd_ = this.onTransitionEnd_.bind(this);\r\n        this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);\r\n    }\r\n    /**\r\n     * Adds observer to observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be added.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.addObserver = function (observer) {\r\n        if (!~this.observers_.indexOf(observer)) {\r\n            this.observers_.push(observer);\r\n        }\r\n        // Add listeners if they haven't been added yet.\r\n        if (!this.connected_) {\r\n            this.connect_();\r\n        }\r\n    };\r\n    /**\r\n     * Removes observer from observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be removed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.removeObserver = function (observer) {\r\n        var observers = this.observers_;\r\n        var index = observers.indexOf(observer);\r\n        // Remove observer if it's present in registry.\r\n        if (~index) {\r\n            observers.splice(index, 1);\r\n        }\r\n        // Remove listeners if controller has no connected observers.\r\n        if (!observers.length && this.connected_) {\r\n            this.disconnect_();\r\n        }\r\n    };\r\n    /**\r\n     * Invokes the update of observers. It will continue running updates insofar\r\n     * it detects changes.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.refresh = function () {\r\n        var changesDetected = this.updateObservers_();\r\n        // Continue running updates if changes have been detected as there might\r\n        // be future ones caused by CSS transitions.\r\n        if (changesDetected) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Updates every observer from observers list and notifies them of queued\r\n     * entries.\r\n     *\r\n     * @private\r\n     * @returns {boolean} Returns \"true\" if any observer has detected changes in\r\n     *      dimensions of it's elements.\r\n     */\r\n    ResizeObserverController.prototype.updateObservers_ = function () {\r\n        // Collect observers that have active observations.\r\n        var activeObservers = this.observers_.filter(function (observer) {\r\n            return observer.gatherActive(), observer.hasActive();\r\n        });\r\n        // Deliver notifications in a separate cycle in order to avoid any\r\n        // collisions between observers, e.g. when multiple instances of\r\n        // ResizeObserver are tracking the same element and the callback of one\r\n        // of them changes content dimensions of the observed target. Sometimes\r\n        // this may result in notifications being blocked for the rest of observers.\r\n        activeObservers.forEach(function (observer) { return observer.broadcastActive(); });\r\n        return activeObservers.length > 0;\r\n    };\r\n    /**\r\n     * Initializes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.connect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already added.\r\n        if (!isBrowser || this.connected_) {\r\n            return;\r\n        }\r\n        // Subscription to the \"Transitionend\" event is used as a workaround for\r\n        // delayed transitions. This way it's possible to capture at least the\r\n        // final state of an element.\r\n        document.addEventListener('transitionend', this.onTransitionEnd_);\r\n        window.addEventListener('resize', this.refresh);\r\n        if (mutationObserverSupported) {\r\n            this.mutationsObserver_ = new MutationObserver(this.refresh);\r\n            this.mutationsObserver_.observe(document, {\r\n                attributes: true,\r\n                childList: true,\r\n                characterData: true,\r\n                subtree: true\r\n            });\r\n        }\r\n        else {\r\n            document.addEventListener('DOMSubtreeModified', this.refresh);\r\n            this.mutationEventsAdded_ = true;\r\n        }\r\n        this.connected_ = true;\r\n    };\r\n    /**\r\n     * Removes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.disconnect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already removed.\r\n        if (!isBrowser || !this.connected_) {\r\n            return;\r\n        }\r\n        document.removeEventListener('transitionend', this.onTransitionEnd_);\r\n        window.removeEventListener('resize', this.refresh);\r\n        if (this.mutationsObserver_) {\r\n            this.mutationsObserver_.disconnect();\r\n        }\r\n        if (this.mutationEventsAdded_) {\r\n            document.removeEventListener('DOMSubtreeModified', this.refresh);\r\n        }\r\n        this.mutationsObserver_ = null;\r\n        this.mutationEventsAdded_ = false;\r\n        this.connected_ = false;\r\n    };\r\n    /**\r\n     * \"Transitionend\" event handler.\r\n     *\r\n     * @private\r\n     * @param {TransitionEvent} event\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.onTransitionEnd_ = function (_a) {\r\n        var _b = _a.propertyName, propertyName = _b === void 0 ? '' : _b;\r\n        // Detect whether transition may affect dimensions of an element.\r\n        var isReflowProperty = transitionKeys.some(function (key) {\r\n            return !!~propertyName.indexOf(key);\r\n        });\r\n        if (isReflowProperty) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Returns instance of the ResizeObserverController.\r\n     *\r\n     * @returns {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.getInstance = function () {\r\n        if (!this.instance_) {\r\n            this.instance_ = new ResizeObserverController();\r\n        }\r\n        return this.instance_;\r\n    };\r\n    /**\r\n     * Holds reference to the controller's instance.\r\n     *\r\n     * @private {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.instance_ = null;\r\n    return ResizeObserverController;\r\n}());\n\n/**\r\n * Defines non-writable/enumerable properties of the provided target object.\r\n *\r\n * @param {Object} target - Object for which to define properties.\r\n * @param {Object} props - Properties to be defined.\r\n * @returns {Object} Target object.\r\n */\r\nvar defineConfigurable = (function (target, props) {\r\n    for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\r\n        var key = _a[_i];\r\n        Object.defineProperty(target, key, {\r\n            value: props[key],\r\n            enumerable: false,\r\n            writable: false,\r\n            configurable: true\r\n        });\r\n    }\r\n    return target;\r\n});\n\n/**\r\n * Returns the global object associated with provided element.\r\n *\r\n * @param {Object} target\r\n * @returns {Object}\r\n */\r\nvar getWindowOf = (function (target) {\r\n    // Assume that the element is an instance of Node, which means that it\r\n    // has the \"ownerDocument\" property from which we can retrieve a\r\n    // corresponding global object.\r\n    var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView;\r\n    // Return the local global object if it's not possible extract one from\r\n    // provided element.\r\n    return ownerGlobal || global$1;\r\n});\n\n// Placeholder of an empty content rectangle.\r\nvar emptyRect = createRectInit(0, 0, 0, 0);\r\n/**\r\n * Converts provided string to a number.\r\n *\r\n * @param {number|string} value\r\n * @returns {number}\r\n */\r\nfunction toFloat(value) {\r\n    return parseFloat(value) || 0;\r\n}\r\n/**\r\n * Extracts borders size from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @param {...string} positions - Borders positions (top, right, ...)\r\n * @returns {number}\r\n */\r\nfunction getBordersSize(styles) {\r\n    var positions = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        positions[_i - 1] = arguments[_i];\r\n    }\r\n    return positions.reduce(function (size, position) {\r\n        var value = styles['border-' + position + '-width'];\r\n        return size + toFloat(value);\r\n    }, 0);\r\n}\r\n/**\r\n * Extracts paddings sizes from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @returns {Object} Paddings box.\r\n */\r\nfunction getPaddings(styles) {\r\n    var positions = ['top', 'right', 'bottom', 'left'];\r\n    var paddings = {};\r\n    for (var _i = 0, positions_1 = positions; _i < positions_1.length; _i++) {\r\n        var position = positions_1[_i];\r\n        var value = styles['padding-' + position];\r\n        paddings[position] = toFloat(value);\r\n    }\r\n    return paddings;\r\n}\r\n/**\r\n * Calculates content rectangle of provided SVG element.\r\n *\r\n * @param {SVGGraphicsElement} target - Element content rectangle of which needs\r\n *      to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getSVGContentRect(target) {\r\n    var bbox = target.getBBox();\r\n    return createRectInit(0, 0, bbox.width, bbox.height);\r\n}\r\n/**\r\n * Calculates content rectangle of provided HTMLElement.\r\n *\r\n * @param {HTMLElement} target - Element for which to calculate the content rectangle.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getHTMLElementContentRect(target) {\r\n    // Client width & height properties can't be\r\n    // used exclusively as they provide rounded values.\r\n    var clientWidth = target.clientWidth, clientHeight = target.clientHeight;\r\n    // By this condition we can catch all non-replaced inline, hidden and\r\n    // detached elements. Though elements with width & height properties less\r\n    // than 0.5 will be discarded as well.\r\n    //\r\n    // Without it we would need to implement separate methods for each of\r\n    // those cases and it's not possible to perform a precise and performance\r\n    // effective test for hidden elements. E.g. even jQuery's ':visible' filter\r\n    // gives wrong results for elements with width & height less than 0.5.\r\n    if (!clientWidth && !clientHeight) {\r\n        return emptyRect;\r\n    }\r\n    var styles = getWindowOf(target).getComputedStyle(target);\r\n    var paddings = getPaddings(styles);\r\n    var horizPad = paddings.left + paddings.right;\r\n    var vertPad = paddings.top + paddings.bottom;\r\n    // Computed styles of width & height are being used because they are the\r\n    // only dimensions available to JS that contain non-rounded values. It could\r\n    // be possible to utilize the getBoundingClientRect if only it's data wasn't\r\n    // affected by CSS transformations let alone paddings, borders and scroll bars.\r\n    var width = toFloat(styles.width), height = toFloat(styles.height);\r\n    // Width & height include paddings and borders when the 'border-box' box\r\n    // model is applied (except for IE).\r\n    if (styles.boxSizing === 'border-box') {\r\n        // Following conditions are required to handle Internet Explorer which\r\n        // doesn't include paddings and borders to computed CSS dimensions.\r\n        //\r\n        // We can say that if CSS dimensions + paddings are equal to the \"client\"\r\n        // properties then it's either IE, and thus we don't need to subtract\r\n        // anything, or an element merely doesn't have paddings/borders styles.\r\n        if (Math.round(width + horizPad) !== clientWidth) {\r\n            width -= getBordersSize(styles, 'left', 'right') + horizPad;\r\n        }\r\n        if (Math.round(height + vertPad) !== clientHeight) {\r\n            height -= getBordersSize(styles, 'top', 'bottom') + vertPad;\r\n        }\r\n    }\r\n    // Following steps can't be applied to the document's root element as its\r\n    // client[Width/Height] properties represent viewport area of the window.\r\n    // Besides, it's as well not necessary as the <html> itself neither has\r\n    // rendered scroll bars nor it can be clipped.\r\n    if (!isDocumentElement(target)) {\r\n        // In some browsers (only in Firefox, actually) CSS width & height\r\n        // include scroll bars size which can be removed at this step as scroll\r\n        // bars are the only difference between rounded dimensions + paddings\r\n        // and \"client\" properties, though that is not always true in Chrome.\r\n        var vertScrollbar = Math.round(width + horizPad) - clientWidth;\r\n        var horizScrollbar = Math.round(height + vertPad) - clientHeight;\r\n        // Chrome has a rather weird rounding of \"client\" properties.\r\n        // E.g. for an element with content width of 314.2px it sometimes gives\r\n        // the client width of 315px and for the width of 314.7px it may give\r\n        // 314px. And it doesn't happen all the time. So just ignore this delta\r\n        // as a non-relevant.\r\n        if (Math.abs(vertScrollbar) !== 1) {\r\n            width -= vertScrollbar;\r\n        }\r\n        if (Math.abs(horizScrollbar) !== 1) {\r\n            height -= horizScrollbar;\r\n        }\r\n    }\r\n    return createRectInit(paddings.left, paddings.top, width, height);\r\n}\r\n/**\r\n * Checks whether provided element is an instance of the SVGGraphicsElement.\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nvar isSVGGraphicsElement = (function () {\r\n    // Some browsers, namely IE and Edge, don't have the SVGGraphicsElement\r\n    // interface.\r\n    if (typeof SVGGraphicsElement !== 'undefined') {\r\n        return function (target) { return target instanceof getWindowOf(target).SVGGraphicsElement; };\r\n    }\r\n    // If it's so, then check that element is at least an instance of the\r\n    // SVGElement and that it has the \"getBBox\" method.\r\n    // eslint-disable-next-line no-extra-parens\r\n    return function (target) { return (target instanceof getWindowOf(target).SVGElement &&\r\n        typeof target.getBBox === 'function'); };\r\n})();\r\n/**\r\n * Checks whether provided element is a document element (<html>).\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nfunction isDocumentElement(target) {\r\n    return target === getWindowOf(target).document.documentElement;\r\n}\r\n/**\r\n * Calculates an appropriate content rectangle for provided html or svg element.\r\n *\r\n * @param {Element} target - Element content rectangle of which needs to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getContentRect(target) {\r\n    if (!isBrowser) {\r\n        return emptyRect;\r\n    }\r\n    if (isSVGGraphicsElement(target)) {\r\n        return getSVGContentRect(target);\r\n    }\r\n    return getHTMLElementContentRect(target);\r\n}\r\n/**\r\n * Creates rectangle with an interface of the DOMRectReadOnly.\r\n * Spec: https://drafts.fxtf.org/geometry/#domrectreadonly\r\n *\r\n * @param {DOMRectInit} rectInit - Object with rectangle's x/y coordinates and dimensions.\r\n * @returns {DOMRectReadOnly}\r\n */\r\nfunction createReadOnlyRect(_a) {\r\n    var x = _a.x, y = _a.y, width = _a.width, height = _a.height;\r\n    // If DOMRectReadOnly is available use it as a prototype for the rectangle.\r\n    var Constr = typeof DOMRectReadOnly !== 'undefined' ? DOMRectReadOnly : Object;\r\n    var rect = Object.create(Constr.prototype);\r\n    // Rectangle's properties are not writable and non-enumerable.\r\n    defineConfigurable(rect, {\r\n        x: x, y: y, width: width, height: height,\r\n        top: y,\r\n        right: x + width,\r\n        bottom: height + y,\r\n        left: x\r\n    });\r\n    return rect;\r\n}\r\n/**\r\n * Creates DOMRectInit object based on the provided dimensions and the x/y coordinates.\r\n * Spec: https://drafts.fxtf.org/geometry/#dictdef-domrectinit\r\n *\r\n * @param {number} x - X coordinate.\r\n * @param {number} y - Y coordinate.\r\n * @param {number} width - Rectangle's width.\r\n * @param {number} height - Rectangle's height.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction createRectInit(x, y, width, height) {\r\n    return { x: x, y: y, width: width, height: height };\r\n}\n\n/**\r\n * Class that is responsible for computations of the content rectangle of\r\n * provided DOM element and for keeping track of it's changes.\r\n */\r\nvar ResizeObservation = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObservation.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     */\r\n    function ResizeObservation(target) {\r\n        /**\r\n         * Broadcasted width of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastWidth = 0;\r\n        /**\r\n         * Broadcasted height of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastHeight = 0;\r\n        /**\r\n         * Reference to the last observed content rectangle.\r\n         *\r\n         * @private {DOMRectInit}\r\n         */\r\n        this.contentRect_ = createRectInit(0, 0, 0, 0);\r\n        this.target = target;\r\n    }\r\n    /**\r\n     * Updates content rectangle and tells whether it's width or height properties\r\n     * have changed since the last broadcast.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObservation.prototype.isActive = function () {\r\n        var rect = getContentRect(this.target);\r\n        this.contentRect_ = rect;\r\n        return (rect.width !== this.broadcastWidth ||\r\n            rect.height !== this.broadcastHeight);\r\n    };\r\n    /**\r\n     * Updates 'broadcastWidth' and 'broadcastHeight' properties with a data\r\n     * from the corresponding properties of the last observed content rectangle.\r\n     *\r\n     * @returns {DOMRectInit} Last observed content rectangle.\r\n     */\r\n    ResizeObservation.prototype.broadcastRect = function () {\r\n        var rect = this.contentRect_;\r\n        this.broadcastWidth = rect.width;\r\n        this.broadcastHeight = rect.height;\r\n        return rect;\r\n    };\r\n    return ResizeObservation;\r\n}());\n\nvar ResizeObserverEntry = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObserverEntry.\r\n     *\r\n     * @param {Element} target - Element that is being observed.\r\n     * @param {DOMRectInit} rectInit - Data of the element's content rectangle.\r\n     */\r\n    function ResizeObserverEntry(target, rectInit) {\r\n        var contentRect = createReadOnlyRect(rectInit);\r\n        // According to the specification following properties are not writable\r\n        // and are also not enumerable in the native implementation.\r\n        //\r\n        // Property accessors are not being used as they'd require to define a\r\n        // private WeakMap storage which may cause memory leaks in browsers that\r\n        // don't support this type of collections.\r\n        defineConfigurable(this, { target: target, contentRect: contentRect });\r\n    }\r\n    return ResizeObserverEntry;\r\n}());\n\nvar ResizeObserverSPI = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback function that is invoked\r\n     *      when one of the observed elements changes it's content dimensions.\r\n     * @param {ResizeObserverController} controller - Controller instance which\r\n     *      is responsible for the updates of observer.\r\n     * @param {ResizeObserver} callbackCtx - Reference to the public\r\n     *      ResizeObserver instance which will be passed to callback function.\r\n     */\r\n    function ResizeObserverSPI(callback, controller, callbackCtx) {\r\n        /**\r\n         * Collection of resize observations that have detected changes in dimensions\r\n         * of elements.\r\n         *\r\n         * @private {Array<ResizeObservation>}\r\n         */\r\n        this.activeObservations_ = [];\r\n        /**\r\n         * Registry of the ResizeObservation instances.\r\n         *\r\n         * @private {Map<Element, ResizeObservation>}\r\n         */\r\n        this.observations_ = new MapShim();\r\n        if (typeof callback !== 'function') {\r\n            throw new TypeError('The callback provided as parameter 1 is not a function.');\r\n        }\r\n        this.callback_ = callback;\r\n        this.controller_ = controller;\r\n        this.callbackCtx_ = callbackCtx;\r\n    }\r\n    /**\r\n     * Starts observing provided element.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.observe = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is already being observed.\r\n        if (observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.set(target, new ResizeObservation(target));\r\n        this.controller_.addObserver(this);\r\n        // Force the update of observations.\r\n        this.controller_.refresh();\r\n    };\r\n    /**\r\n     * Stops observing provided element.\r\n     *\r\n     * @param {Element} target - Element to stop observing.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.unobserve = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is not being observed.\r\n        if (!observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.delete(target);\r\n        if (!observations.size) {\r\n            this.controller_.removeObserver(this);\r\n        }\r\n    };\r\n    /**\r\n     * Stops observing all elements.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.disconnect = function () {\r\n        this.clearActive();\r\n        this.observations_.clear();\r\n        this.controller_.removeObserver(this);\r\n    };\r\n    /**\r\n     * Collects observation instances the associated element of which has changed\r\n     * it's content rectangle.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.gatherActive = function () {\r\n        var _this = this;\r\n        this.clearActive();\r\n        this.observations_.forEach(function (observation) {\r\n            if (observation.isActive()) {\r\n                _this.activeObservations_.push(observation);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Invokes initial callback function with a list of ResizeObserverEntry\r\n     * instances collected from active resize observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.broadcastActive = function () {\r\n        // Do nothing if observer doesn't have active observations.\r\n        if (!this.hasActive()) {\r\n            return;\r\n        }\r\n        var ctx = this.callbackCtx_;\r\n        // Create ResizeObserverEntry instance for every active observation.\r\n        var entries = this.activeObservations_.map(function (observation) {\r\n            return new ResizeObserverEntry(observation.target, observation.broadcastRect());\r\n        });\r\n        this.callback_.call(ctx, entries, ctx);\r\n        this.clearActive();\r\n    };\r\n    /**\r\n     * Clears the collection of active observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.clearActive = function () {\r\n        this.activeObservations_.splice(0);\r\n    };\r\n    /**\r\n     * Tells whether observer has active observations.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObserverSPI.prototype.hasActive = function () {\r\n        return this.activeObservations_.length > 0;\r\n    };\r\n    return ResizeObserverSPI;\r\n}());\n\n// Registry of internal observers. If WeakMap is not available use current shim\r\n// for the Map collection as it has all required methods and because WeakMap\r\n// can't be fully polyfilled anyway.\r\nvar observers = typeof WeakMap !== 'undefined' ? new WeakMap() : new MapShim();\r\n/**\r\n * ResizeObserver API. Encapsulates the ResizeObserver SPI implementation\r\n * exposing only those methods and properties that are defined in the spec.\r\n */\r\nvar ResizeObserver = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback that is invoked when\r\n     *      dimensions of the observed elements change.\r\n     */\r\n    function ResizeObserver(callback) {\r\n        if (!(this instanceof ResizeObserver)) {\r\n            throw new TypeError('Cannot call a class as a function.');\r\n        }\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        var controller = ResizeObserverController.getInstance();\r\n        var observer = new ResizeObserverSPI(callback, controller, this);\r\n        observers.set(this, observer);\r\n    }\r\n    return ResizeObserver;\r\n}());\r\n// Expose public methods of ResizeObserver.\r\n[\r\n    'observe',\r\n    'unobserve',\r\n    'disconnect'\r\n].forEach(function (method) {\r\n    ResizeObserver.prototype[method] = function () {\r\n        var _a;\r\n        return (_a = observers.get(this))[method].apply(_a, arguments);\r\n    };\r\n});\n\nvar index = (function () {\r\n    // Export existing implementation if available.\r\n    if (typeof global$1.ResizeObserver !== 'undefined') {\r\n        return global$1.ResizeObserver;\r\n    }\r\n    return ResizeObserver;\r\n})();\n\nexport default index;\n","import React, { createContext, memo } from 'react';\r\nimport { node, object } from 'prop-types';\r\nimport { Glue42Web } from '@glue42/web';\r\nimport { Glue42 } from '@glue42/desktop';\r\nimport { useGlueInit } from './useGlueInit';\r\nimport { GlueProviderProps } from '../react-hooks';\r\n\r\nexport const GlueContext = createContext<Glue42Web.API | Glue42.Glue>(null);\r\n\r\nexport const GlueProvider: React.FC<GlueProviderProps> = memo(\r\n    ({ children, fallback = null, settings = {} }) => {\r\n        \r\n        const glue = useGlueInit(settings);\r\n\r\n        return glue ? (\r\n            <GlueContext.Provider value={glue}>{children}</GlueContext.Provider>\r\n        ) : (\r\n            <>{fallback}</>\r\n        );\r\n    }\r\n);\r\n\r\nGlueProvider.propTypes = {\r\n    children: node,\r\n    settings: object,\r\n    fallback: node,\r\n};\r\n\r\nGlueProvider.displayName = 'GlueProvider';\r\n","import { useEffect, useState } from \"react\";\r\nimport { UseGlueInitFunc } from \"../react-hooks\";\r\n\r\nexport const useGlueInit: UseGlueInitFunc = (settings) => {\r\n    const [glue, setGlue] = useState(null);\r\n    useEffect(() => {\r\n        const initialize = async () => {\r\n            try {\r\n                if (settings.web && settings.webPlatform) {\r\n                    throw new Error(\"Cannot initialize, because the settings are over-specified: defined are both web and webPlatform. Please set one or the other\");\r\n                }\r\n\r\n                const isEnterprise = typeof (window as any).glue42gd !== \"undefined\";\r\n\r\n                if (isEnterprise) {\r\n                    const factory = settings.desktop?.factory || settings.web?.factory || settings.webPlatform?.factory || (window as any).Glue;\r\n                    const config = settings.desktop?.config || settings.web?.config || settings.webPlatform?.config;\r\n\r\n                    const factoryResult = await factory(config);\r\n\r\n                    setGlue(factoryResult.glue || factoryResult);\r\n                    return;\r\n                }\r\n\r\n                const config = settings.web?.config || settings.webPlatform?.config;\r\n                const factory = settings.web?.factory || settings.webPlatform?.factory || (window as any).GlueWeb || (window as any).GlueWebPlatform;\r\n\r\n                const factoryResult = await factory(config);\r\n\r\n                setGlue(factoryResult.glue || factoryResult);\r\n            } catch (e) {\r\n                console.error(e);\r\n            }\r\n        };\r\n        initialize();\r\n    }, []);\r\n    return glue;\r\n};\r\n","import unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","\"use strict\";\r\nfunction createRegistry(options) {\r\n    if (options && options.errorHandling\r\n        && typeof options.errorHandling !== \"function\"\r\n        && options.errorHandling !== \"log\"\r\n        && options.errorHandling !== \"silent\"\r\n        && options.errorHandling !== \"throw\") {\r\n        throw new Error(\"Invalid options passed to createRegistry. Prop errorHandling should be [\\\"log\\\" | \\\"silent\\\" | \\\"throw\\\" | (err) => void], but \" + typeof options.errorHandling + \" was passed\");\r\n    }\r\n    var _userErrorHandler = options && typeof options.errorHandling === \"function\" && options.errorHandling;\r\n    var callbacks = {};\r\n    function add(key, callback) {\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey) {\r\n            callbacksForKey = [];\r\n            callbacks[key] = callbacksForKey;\r\n        }\r\n        callbacksForKey.push(callback);\r\n        return function () {\r\n            var allForKey = callbacks[key];\r\n            if (!allForKey) {\r\n                return;\r\n            }\r\n            allForKey = allForKey.reduce(function (acc, element, index) {\r\n                if (!(element === callback && acc.length === index)) {\r\n                    acc.push(element);\r\n                }\r\n                return acc;\r\n            }, []);\r\n            callbacks[key] = allForKey;\r\n        };\r\n    }\r\n    function execute(key) {\r\n        var argumentsArr = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            argumentsArr[_i - 1] = arguments[_i];\r\n        }\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey || callbacksForKey.length === 0) {\r\n            return [];\r\n        }\r\n        var results = [];\r\n        callbacksForKey.forEach(function (callback) {\r\n            try {\r\n                var result = callback.apply(undefined, argumentsArr);\r\n                results.push(result);\r\n            }\r\n            catch (err) {\r\n                results.push(undefined);\r\n                _handleError(err, key);\r\n            }\r\n        });\r\n        return results;\r\n    }\r\n    function _handleError(exceptionArtifact, key) {\r\n        var errParam = exceptionArtifact instanceof Error ? exceptionArtifact : new Error(exceptionArtifact);\r\n        if (_userErrorHandler) {\r\n            _userErrorHandler(errParam);\r\n            return;\r\n        }\r\n        var msg = \"[ERROR] callback-registry: User callback for key \\\"\" + key + \"\\\" failed: \" + errParam.stack;\r\n        if (options) {\r\n            switch (options.errorHandling) {\r\n                case \"log\":\r\n                    return console.error(msg);\r\n                case \"silent\":\r\n                    return;\r\n                case \"throw\":\r\n                    throw new Error(msg);\r\n            }\r\n        }\r\n        console.error(msg);\r\n    }\r\n    function clear() {\r\n        callbacks = {};\r\n    }\r\n    function clearKey(key) {\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey) {\r\n            return;\r\n        }\r\n        delete callbacks[key];\r\n    }\r\n    return {\r\n        add: add,\r\n        execute: execute,\r\n        clear: clear,\r\n        clearKey: clearKey\r\n    };\r\n}\r\n;\r\ncreateRegistry.default = createRegistry;\r\nmodule.exports = createRegistry;\r\n//# sourceMappingURL=index.js.map","/**\r\n * Wraps values in an `Ok` type.\r\n *\r\n * Example: `ok(5) // => {ok: true, result: 5}`\r\n */\r\nvar ok = function (result) { return ({ ok: true, result: result }); };\r\n/**\r\n * Typeguard for `Ok`.\r\n */\r\nvar isOk = function (r) { return r.ok === true; };\r\n/**\r\n * Wraps errors in an `Err` type.\r\n *\r\n * Example: `err('on fire') // => {ok: false, error: 'on fire'}`\r\n */\r\nvar err = function (error) { return ({ ok: false, error: error }); };\r\n/**\r\n * Typeguard for `Err`.\r\n */\r\nvar isErr = function (r) { return r.ok === false; };\r\n/**\r\n * Create a `Promise` that either resolves with the result of `Ok` or rejects\r\n * with the error of `Err`.\r\n */\r\nvar asPromise = function (r) {\r\n    return r.ok === true ? Promise.resolve(r.result) : Promise.reject(r.error);\r\n};\r\n/**\r\n * Unwraps a `Result` and returns either the result of an `Ok`, or\r\n * `defaultValue`.\r\n *\r\n * Example:\r\n * ```\r\n * Result.withDefault(5, number().run(json))\r\n * ```\r\n *\r\n * It would be nice if `Decoder` had an instance method that mirrored this\r\n * function. Such a method would look something like this:\r\n * ```\r\n * class Decoder<A> {\r\n *   runWithDefault = (defaultValue: A, json: any): A =>\r\n *     Result.withDefault(defaultValue, this.run(json));\r\n * }\r\n *\r\n * number().runWithDefault(5, json)\r\n * ```\r\n * Unfortunately, the type of `defaultValue: A` on the method causes issues\r\n * with type inference on  the `object` decoder in some situations. While these\r\n * inference issues can be solved by providing the optional type argument for\r\n * `object`s, the extra trouble and confusion doesn't seem worth it.\r\n */\r\nvar withDefault = function (defaultValue, r) {\r\n    return r.ok === true ? r.result : defaultValue;\r\n};\r\n/**\r\n * Return the successful result, or throw an error.\r\n */\r\nvar withException = function (r) {\r\n    if (r.ok === true) {\r\n        return r.result;\r\n    }\r\n    else {\r\n        throw r.error;\r\n    }\r\n};\r\n/**\r\n * Given an array of `Result`s, return the successful values.\r\n */\r\nvar successes = function (results) {\r\n    return results.reduce(function (acc, r) { return (r.ok === true ? acc.concat(r.result) : acc); }, []);\r\n};\r\n/**\r\n * Apply `f` to the result of an `Ok`, or pass the error through.\r\n */\r\nvar map = function (f, r) {\r\n    return r.ok === true ? ok(f(r.result)) : r;\r\n};\r\n/**\r\n * Apply `f` to the result of two `Ok`s, or pass an error through. If both\r\n * `Result`s are errors then the first one is returned.\r\n */\r\nvar map2 = function (f, ar, br) {\r\n    return ar.ok === false ? ar :\r\n        br.ok === false ? br :\r\n            ok(f(ar.result, br.result));\r\n};\r\n/**\r\n * Apply `f` to the error of an `Err`, or pass the success through.\r\n */\r\nvar mapError = function (f, r) {\r\n    return r.ok === true ? r : err(f(r.error));\r\n};\r\n/**\r\n * Chain together a sequence of computations that may fail, similar to a\r\n * `Promise`. If the first computation fails then the error will propagate\r\n * through. If it succeeds, then `f` will be applied to the value, returning a\r\n * new `Result`.\r\n */\r\nvar andThen = function (f, r) {\r\n    return r.ok === true ? f(r.result) : r;\r\n};\r\n\r\n\r\nvar result = Object.freeze({\r\n\tok: ok,\r\n\tisOk: isOk,\r\n\terr: err,\r\n\tisErr: isErr,\r\n\tasPromise: asPromise,\r\n\twithDefault: withDefault,\r\n\twithException: withException,\r\n\tsuccesses: successes,\r\n\tmap: map,\r\n\tmap2: map2,\r\n\tmapError: mapError,\r\n\tandThen: andThen\r\n});\r\n\r\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\n\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nfunction isEqual(a, b) {\r\n    if (a === b) {\r\n        return true;\r\n    }\r\n    if (a === null && b === null) {\r\n        return true;\r\n    }\r\n    if (typeof (a) !== typeof (b)) {\r\n        return false;\r\n    }\r\n    if (typeof (a) === 'object') {\r\n        // Array\r\n        if (Array.isArray(a)) {\r\n            if (!Array.isArray(b)) {\r\n                return false;\r\n            }\r\n            if (a.length !== b.length) {\r\n                return false;\r\n            }\r\n            for (var i = 0; i < a.length; i++) {\r\n                if (!isEqual(a[i], b[i])) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n        // Hash table\r\n        var keys = Object.keys(a);\r\n        if (keys.length !== Object.keys(b).length) {\r\n            return false;\r\n        }\r\n        for (var i = 0; i < keys.length; i++) {\r\n            if (!b.hasOwnProperty(keys[i])) {\r\n                return false;\r\n            }\r\n            if (!isEqual(a[keys[i]], b[keys[i]])) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n}\r\n/**\r\n * Type guard for `DecoderError`. One use case of the type guard is in the\r\n * `catch` of a promise. Typescript types the error argument of `catch` as\r\n * `any`, so when dealing with a decoder as a promise you may need to\r\n * distinguish between a `DecoderError` and an error string.\r\n */\r\nvar isDecoderError = function (a) {\r\n    return a.kind === 'DecoderError' && typeof a.at === 'string' && typeof a.message === 'string';\r\n};\r\n/*\r\n * Helpers\r\n */\r\nvar isJsonArray = function (json) { return Array.isArray(json); };\r\nvar isJsonObject = function (json) {\r\n    return typeof json === 'object' && json !== null && !isJsonArray(json);\r\n};\r\nvar typeString = function (json) {\r\n    switch (typeof json) {\r\n        case 'string':\r\n            return 'a string';\r\n        case 'number':\r\n            return 'a number';\r\n        case 'boolean':\r\n            return 'a boolean';\r\n        case 'undefined':\r\n            return 'undefined';\r\n        case 'object':\r\n            if (json instanceof Array) {\r\n                return 'an array';\r\n            }\r\n            else if (json === null) {\r\n                return 'null';\r\n            }\r\n            else {\r\n                return 'an object';\r\n            }\r\n        default:\r\n            return JSON.stringify(json);\r\n    }\r\n};\r\nvar expectedGot = function (expected, got) {\r\n    return \"expected \" + expected + \", got \" + typeString(got);\r\n};\r\nvar printPath = function (paths) {\r\n    return paths.map(function (path) { return (typeof path === 'string' ? \".\" + path : \"[\" + path + \"]\"); }).join('');\r\n};\r\nvar prependAt = function (newAt, _a) {\r\n    var at = _a.at, rest = __rest(_a, [\"at\"]);\r\n    return (__assign({ at: newAt + (at || '') }, rest));\r\n};\r\n/**\r\n * Decoders transform json objects with unknown structure into known and\r\n * verified forms. You can create objects of type `Decoder<A>` with either the\r\n * primitive decoder functions, such as `boolean()` and `string()`, or by\r\n * applying higher-order decoders to the primitives, such as `array(boolean())`\r\n * or `dict(string())`.\r\n *\r\n * Each of the decoder functions are available both as a static method on\r\n * `Decoder` and as a function alias -- for example the string decoder is\r\n * defined at `Decoder.string()`, but is also aliased to `string()`. Using the\r\n * function aliases exported with the library is recommended.\r\n *\r\n * `Decoder` exposes a number of 'run' methods, which all decode json in the\r\n * same way, but communicate success and failure in different ways. The `map`\r\n * and `andThen` methods modify decoders without having to call a 'run' method.\r\n *\r\n * Alternatively, the main decoder `run()` method returns an object of type\r\n * `Result<A, DecoderError>`. This library provides a number of helper\r\n * functions for dealing with the `Result` type, so you can do all the same\r\n * things with a `Result` as with the decoder methods.\r\n */\r\nvar Decoder = /** @class */ (function () {\r\n    /**\r\n     * The Decoder class constructor is kept private to separate the internal\r\n     * `decode` function from the external `run` function. The distinction\r\n     * between the two functions is that `decode` returns a\r\n     * `Partial<DecoderError>` on failure, which contains an unfinished error\r\n     * report. When `run` is called on a decoder, the relevant series of `decode`\r\n     * calls is made, and then on failure the resulting `Partial<DecoderError>`\r\n     * is turned into a `DecoderError` by filling in the missing information.\r\n     *\r\n     * While hiding the constructor may seem restrictive, leveraging the\r\n     * provided decoder combinators and helper functions such as\r\n     * `andThen` and `map` should be enough to build specialized decoders as\r\n     * needed.\r\n     */\r\n    function Decoder(decode) {\r\n        var _this = this;\r\n        this.decode = decode;\r\n        /**\r\n         * Run the decoder and return a `Result` with either the decoded value or a\r\n         * `DecoderError` containing the json input, the location of the error, and\r\n         * the error message.\r\n         *\r\n         * Examples:\r\n         * ```\r\n         * number().run(12)\r\n         * // => {ok: true, result: 12}\r\n         *\r\n         * string().run(9001)\r\n         * // =>\r\n         * // {\r\n         * //   ok: false,\r\n         * //   error: {\r\n         * //     kind: 'DecoderError',\r\n         * //     input: 9001,\r\n         * //     at: 'input',\r\n         * //     message: 'expected a string, got 9001'\r\n         * //   }\r\n         * // }\r\n         * ```\r\n         */\r\n        this.run = function (json) {\r\n            return mapError(function (error) { return ({\r\n                kind: 'DecoderError',\r\n                input: json,\r\n                at: 'input' + (error.at || ''),\r\n                message: error.message || ''\r\n            }); }, _this.decode(json));\r\n        };\r\n        /**\r\n         * Run the decoder as a `Promise`.\r\n         */\r\n        this.runPromise = function (json) { return asPromise(_this.run(json)); };\r\n        /**\r\n         * Run the decoder and return the value on success, or throw an exception\r\n         * with a formatted error string.\r\n         */\r\n        this.runWithException = function (json) { return withException(_this.run(json)); };\r\n        /**\r\n         * Construct a new decoder that applies a transformation to the decoded\r\n         * result. If the decoder succeeds then `f` will be applied to the value. If\r\n         * it fails the error will propagated through.\r\n         *\r\n         * Example:\r\n         * ```\r\n         * number().map(x => x * 5).run(10)\r\n         * // => {ok: true, result: 50}\r\n         * ```\r\n         */\r\n        this.map = function (f) {\r\n            return new Decoder(function (json) { return map(f, _this.decode(json)); });\r\n        };\r\n        /**\r\n         * Chain together a sequence of decoders. The first decoder will run, and\r\n         * then the function will determine what decoder to run second. If the result\r\n         * of the first decoder succeeds then `f` will be applied to the decoded\r\n         * value. If it fails the error will propagate through.\r\n         *\r\n         * This is a very powerful method -- it can act as both the `map` and `where`\r\n         * methods, can improve error messages for edge cases, and can be used to\r\n         * make a decoder for custom types.\r\n         *\r\n         * Example of adding an error message:\r\n         * ```\r\n         * const versionDecoder = valueAt(['version'], number());\r\n         * const infoDecoder3 = object({a: boolean()});\r\n         *\r\n         * const decoder = versionDecoder.andThen(version => {\r\n         *   switch (version) {\r\n         *     case 3:\r\n         *       return infoDecoder3;\r\n         *     default:\r\n         *       return fail(`Unable to decode info, version ${version} is not supported.`);\r\n         *   }\r\n         * });\r\n         *\r\n         * decoder.run({version: 3, a: true})\r\n         * // => {ok: true, result: {a: true}}\r\n         *\r\n         * decoder.run({version: 5, x: 'abc'})\r\n         * // =>\r\n         * // {\r\n         * //   ok: false,\r\n         * //   error: {... message: 'Unable to decode info, version 5 is not supported.'}\r\n         * // }\r\n         * ```\r\n         *\r\n         * Example of decoding a custom type:\r\n         * ```\r\n         * // nominal type for arrays with a length of at least one\r\n         * type NonEmptyArray<T> = T[] & { __nonEmptyArrayBrand__: void };\r\n         *\r\n         * const nonEmptyArrayDecoder = <T>(values: Decoder<T>): Decoder<NonEmptyArray<T>> =>\r\n         *   array(values).andThen(arr =>\r\n         *     arr.length > 0\r\n         *       ? succeed(createNonEmptyArray(arr))\r\n         *       : fail(`expected a non-empty array, got an empty array`)\r\n         *   );\r\n         * ```\r\n         */\r\n        this.andThen = function (f) {\r\n            return new Decoder(function (json) {\r\n                return andThen(function (value) { return f(value).decode(json); }, _this.decode(json));\r\n            });\r\n        };\r\n        /**\r\n         * Add constraints to a decoder _without_ changing the resulting type. The\r\n         * `test` argument is a predicate function which returns true for valid\r\n         * inputs. When `test` fails on an input, the decoder fails with the given\r\n         * `errorMessage`.\r\n         *\r\n         * ```\r\n         * const chars = (length: number): Decoder<string> =>\r\n         *   string().where(\r\n         *     (s: string) => s.length === length,\r\n         *     `expected a string of length ${length}`\r\n         *   );\r\n         *\r\n         * chars(5).run('12345')\r\n         * // => {ok: true, result: '12345'}\r\n         *\r\n         * chars(2).run('HELLO')\r\n         * // => {ok: false, error: {... message: 'expected a string of length 2'}}\r\n         *\r\n         * chars(12).run(true)\r\n         * // => {ok: false, error: {... message: 'expected a string, got a boolean'}}\r\n         * ```\r\n         */\r\n        this.where = function (test, errorMessage) {\r\n            return _this.andThen(function (value) { return (test(value) ? Decoder.succeed(value) : Decoder.fail(errorMessage)); });\r\n        };\r\n    }\r\n    /**\r\n     * Decoder primitive that validates strings, and fails on all other input.\r\n     */\r\n    Decoder.string = function () {\r\n        return new Decoder(function (json) {\r\n            return typeof json === 'string'\r\n                ? ok(json)\r\n                : err({ message: expectedGot('a string', json) });\r\n        });\r\n    };\r\n    /**\r\n     * Decoder primitive that validates numbers, and fails on all other input.\r\n     */\r\n    Decoder.number = function () {\r\n        return new Decoder(function (json) {\r\n            return typeof json === 'number'\r\n                ? ok(json)\r\n                : err({ message: expectedGot('a number', json) });\r\n        });\r\n    };\r\n    /**\r\n     * Decoder primitive that validates booleans, and fails on all other input.\r\n     */\r\n    Decoder.boolean = function () {\r\n        return new Decoder(function (json) {\r\n            return typeof json === 'boolean'\r\n                ? ok(json)\r\n                : err({ message: expectedGot('a boolean', json) });\r\n        });\r\n    };\r\n    Decoder.constant = function (value) {\r\n        return new Decoder(function (json) {\r\n            return isEqual(json, value)\r\n                ? ok(value)\r\n                : err({ message: \"expected \" + JSON.stringify(value) + \", got \" + JSON.stringify(json) });\r\n        });\r\n    };\r\n    Decoder.object = function (decoders) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonObject(json) && decoders) {\r\n                var obj = {};\r\n                for (var key in decoders) {\r\n                    if (decoders.hasOwnProperty(key)) {\r\n                        var r = decoders[key].decode(json[key]);\r\n                        if (r.ok === true) {\r\n                            // tslint:disable-next-line:strict-type-predicates\r\n                            if (r.result !== undefined) {\r\n                                obj[key] = r.result;\r\n                            }\r\n                        }\r\n                        else if (json[key] === undefined) {\r\n                            return err({ message: \"the key '\" + key + \"' is required but was not present\" });\r\n                        }\r\n                        else {\r\n                            return err(prependAt(\".\" + key, r.error));\r\n                        }\r\n                    }\r\n                }\r\n                return ok(obj);\r\n            }\r\n            else if (isJsonObject(json)) {\r\n                return ok(json);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot('an object', json) });\r\n            }\r\n        });\r\n    };\r\n    Decoder.array = function (decoder) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonArray(json) && decoder) {\r\n                var decodeValue_1 = function (v, i) {\r\n                    return mapError(function (err$$1) { return prependAt(\"[\" + i + \"]\", err$$1); }, decoder.decode(v));\r\n                };\r\n                return json.reduce(function (acc, v, i) {\r\n                    return map2(function (arr, result) { return arr.concat([result]); }, acc, decodeValue_1(v, i));\r\n                }, ok([]));\r\n            }\r\n            else if (isJsonArray(json)) {\r\n                return ok(json);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot('an array', json) });\r\n            }\r\n        });\r\n    };\r\n    Decoder.tuple = function (decoders) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonArray(json)) {\r\n                if (json.length !== decoders.length) {\r\n                    return err({\r\n                        message: \"expected a tuple of length \" + decoders.length + \", got one of length \" + json.length\r\n                    });\r\n                }\r\n                var result = [];\r\n                for (var i = 0; i < decoders.length; i++) {\r\n                    var nth = decoders[i].decode(json[i]);\r\n                    if (nth.ok) {\r\n                        result[i] = nth.result;\r\n                    }\r\n                    else {\r\n                        return err(prependAt(\"[\" + i + \"]\", nth.error));\r\n                    }\r\n                }\r\n                return ok(result);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot(\"a tuple of length \" + decoders.length, json) });\r\n            }\r\n        });\r\n    };\r\n    Decoder.union = function (ad, bd) {\r\n        var decoders = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            decoders[_i - 2] = arguments[_i];\r\n        }\r\n        return Decoder.oneOf.apply(Decoder, [ad, bd].concat(decoders));\r\n    };\r\n    Decoder.intersection = function (ad, bd) {\r\n        var ds = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            ds[_i - 2] = arguments[_i];\r\n        }\r\n        return new Decoder(function (json) {\r\n            return [ad, bd].concat(ds).reduce(function (acc, decoder) { return map2(Object.assign, acc, decoder.decode(json)); }, ok({}));\r\n        });\r\n    };\r\n    /**\r\n     * Escape hatch to bypass validation. Always succeeds and types the result as\r\n     * `any`. Useful for defining decoders incrementally, particularly for\r\n     * complex objects.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * interface User {\r\n     *   name: string;\r\n     *   complexUserData: ComplexType;\r\n     * }\r\n     *\r\n     * const userDecoder: Decoder<User> = object({\r\n     *   name: string(),\r\n     *   complexUserData: anyJson()\r\n     * });\r\n     * ```\r\n     */\r\n    Decoder.anyJson = function () { return new Decoder(function (json) { return ok(json); }); };\r\n    /**\r\n     * Decoder identity function which always succeeds and types the result as\r\n     * `unknown`.\r\n     */\r\n    Decoder.unknownJson = function () {\r\n        return new Decoder(function (json) { return ok(json); });\r\n    };\r\n    /**\r\n     * Decoder for json objects where the keys are unknown strings, but the values\r\n     * should all be of the same type.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * dict(number()).run({chocolate: 12, vanilla: 10, mint: 37});\r\n     * // => {ok: true, result: {chocolate: 12, vanilla: 10, mint: 37}}\r\n     * ```\r\n     */\r\n    Decoder.dict = function (decoder) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonObject(json)) {\r\n                var obj = {};\r\n                for (var key in json) {\r\n                    if (json.hasOwnProperty(key)) {\r\n                        var r = decoder.decode(json[key]);\r\n                        if (r.ok === true) {\r\n                            obj[key] = r.result;\r\n                        }\r\n                        else {\r\n                            return err(prependAt(\".\" + key, r.error));\r\n                        }\r\n                    }\r\n                }\r\n                return ok(obj);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot('an object', json) });\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Decoder for values that may be `undefined`. This is primarily helpful for\r\n     * decoding interfaces with optional fields.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * interface User {\r\n     *   id: number;\r\n     *   isOwner?: boolean;\r\n     * }\r\n     *\r\n     * const decoder: Decoder<User> = object({\r\n     *   id: number(),\r\n     *   isOwner: optional(boolean())\r\n     * });\r\n     * ```\r\n     */\r\n    Decoder.optional = function (decoder) {\r\n        return new Decoder(function (json) { return (json === undefined || json === null ? ok(undefined) : decoder.decode(json)); });\r\n    };\r\n    /**\r\n     * Decoder that attempts to run each decoder in `decoders` and either succeeds\r\n     * with the first successful decoder, or fails after all decoders have failed.\r\n     *\r\n     * Note that `oneOf` expects the decoders to all have the same return type,\r\n     * while `union` creates a decoder for the union type of all the input\r\n     * decoders.\r\n     *\r\n     * Examples:\r\n     * ```\r\n     * oneOf(string(), number().map(String))\r\n     * oneOf(constant('start'), constant('stop'), succeed('unknown'))\r\n     * ```\r\n     */\r\n    Decoder.oneOf = function () {\r\n        var decoders = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            decoders[_i] = arguments[_i];\r\n        }\r\n        return new Decoder(function (json) {\r\n            var errors = [];\r\n            for (var i = 0; i < decoders.length; i++) {\r\n                var r = decoders[i].decode(json);\r\n                if (r.ok === true) {\r\n                    return r;\r\n                }\r\n                else {\r\n                    errors[i] = r.error;\r\n                }\r\n            }\r\n            var errorsList = errors\r\n                .map(function (error) { return \"at error\" + (error.at || '') + \": \" + error.message; })\r\n                .join('\", \"');\r\n            return err({\r\n                message: \"expected a value matching one of the decoders, got the errors [\\\"\" + errorsList + \"\\\"]\"\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Decoder that always succeeds with either the decoded value, or a fallback\r\n     * default value.\r\n     */\r\n    Decoder.withDefault = function (defaultValue, decoder) {\r\n        return new Decoder(function (json) {\r\n            return ok(withDefault(defaultValue, decoder.decode(json)));\r\n        });\r\n    };\r\n    /**\r\n     * Decoder that pulls a specific field out of a json structure, instead of\r\n     * decoding and returning the full structure. The `paths` array describes the\r\n     * object keys and array indices to traverse, so that values can be pulled out\r\n     * of a nested structure.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * const decoder = valueAt(['a', 'b', 0], string());\r\n     *\r\n     * decoder.run({a: {b: ['surprise!']}})\r\n     * // => {ok: true, result: 'surprise!'}\r\n     *\r\n     * decoder.run({a: {x: 'cats'}})\r\n     * // => {ok: false, error: {... at: 'input.a.b[0]' message: 'path does not exist'}}\r\n     * ```\r\n     *\r\n     * Note that the `decoder` is ran on the value found at the last key in the\r\n     * path, even if the last key is not found. This allows the `optional`\r\n     * decoder to succeed when appropriate.\r\n     * ```\r\n     * const optionalDecoder = valueAt(['a', 'b', 'c'], optional(string()));\r\n     *\r\n     * optionalDecoder.run({a: {b: {c: 'surprise!'}}})\r\n     * // => {ok: true, result: 'surprise!'}\r\n     *\r\n     * optionalDecoder.run({a: {b: 'cats'}})\r\n     * // => {ok: false, error: {... at: 'input.a.b.c' message: 'expected an object, got \"cats\"'}\r\n     *\r\n     * optionalDecoder.run({a: {b: {z: 1}}})\r\n     * // => {ok: true, result: undefined}\r\n     * ```\r\n     */\r\n    Decoder.valueAt = function (paths, decoder) {\r\n        return new Decoder(function (json) {\r\n            var jsonAtPath = json;\r\n            for (var i = 0; i < paths.length; i++) {\r\n                if (jsonAtPath === undefined) {\r\n                    return err({\r\n                        at: printPath(paths.slice(0, i + 1)),\r\n                        message: 'path does not exist'\r\n                    });\r\n                }\r\n                else if (typeof paths[i] === 'string' && !isJsonObject(jsonAtPath)) {\r\n                    return err({\r\n                        at: printPath(paths.slice(0, i + 1)),\r\n                        message: expectedGot('an object', jsonAtPath)\r\n                    });\r\n                }\r\n                else if (typeof paths[i] === 'number' && !isJsonArray(jsonAtPath)) {\r\n                    return err({\r\n                        at: printPath(paths.slice(0, i + 1)),\r\n                        message: expectedGot('an array', jsonAtPath)\r\n                    });\r\n                }\r\n                else {\r\n                    jsonAtPath = jsonAtPath[paths[i]];\r\n                }\r\n            }\r\n            return mapError(function (error) {\r\n                return jsonAtPath === undefined\r\n                    ? { at: printPath(paths), message: 'path does not exist' }\r\n                    : prependAt(printPath(paths), error);\r\n            }, decoder.decode(jsonAtPath));\r\n        });\r\n    };\r\n    /**\r\n     * Decoder that ignores the input json and always succeeds with `fixedValue`.\r\n     */\r\n    Decoder.succeed = function (fixedValue) {\r\n        return new Decoder(function (json) { return ok(fixedValue); });\r\n    };\r\n    /**\r\n     * Decoder that ignores the input json and always fails with `errorMessage`.\r\n     */\r\n    Decoder.fail = function (errorMessage) {\r\n        return new Decoder(function (json) { return err({ message: errorMessage }); });\r\n    };\r\n    /**\r\n     * Decoder that allows for validating recursive data structures. Unlike with\r\n     * functions, decoders assigned to variables can't reference themselves\r\n     * before they are fully defined. We can avoid prematurely referencing the\r\n     * decoder by wrapping it in a function that won't be called until use, at\r\n     * which point the decoder has been defined.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * interface Comment {\r\n     *   msg: string;\r\n     *   replies: Comment[];\r\n     * }\r\n     *\r\n     * const decoder: Decoder<Comment> = object({\r\n     *   msg: string(),\r\n     *   replies: lazy(() => array(decoder))\r\n     * });\r\n     * ```\r\n     */\r\n    Decoder.lazy = function (mkDecoder) {\r\n        return new Decoder(function (json) { return mkDecoder().decode(json); });\r\n    };\r\n    return Decoder;\r\n}());\r\n\r\n/* tslint:disable:variable-name */\r\n/** See `Decoder.string` */\r\nvar string = Decoder.string;\r\n/** See `Decoder.number` */\r\nvar number = Decoder.number;\r\n/** See `Decoder.boolean` */\r\nvar boolean = Decoder.boolean;\r\n/** See `Decoder.anyJson` */\r\nvar anyJson = Decoder.anyJson;\r\n/** See `Decoder.unknownJson` */\r\nvar unknownJson = Decoder.unknownJson;\r\n/** See `Decoder.constant` */\r\nvar constant = Decoder.constant;\r\n/** See `Decoder.object` */\r\nvar object = Decoder.object;\r\n/** See `Decoder.array` */\r\nvar array = Decoder.array;\r\n/** See `Decoder.tuple` */\r\nvar tuple = Decoder.tuple;\r\n/** See `Decoder.dict` */\r\nvar dict = Decoder.dict;\r\n/** See `Decoder.optional` */\r\nvar optional = Decoder.optional;\r\n/** See `Decoder.oneOf` */\r\nvar oneOf = Decoder.oneOf;\r\n/** See `Decoder.union` */\r\nvar union = Decoder.union;\r\n/** See `Decoder.intersection` */\r\nvar intersection = Decoder.intersection;\r\n/** See `Decoder.withDefault` */\r\nvar withDefault$1 = Decoder.withDefault;\r\n/** See `Decoder.valueAt` */\r\nvar valueAt = Decoder.valueAt;\r\n/** See `Decoder.succeed` */\r\nvar succeed = Decoder.succeed;\r\n/** See `Decoder.fail` */\r\nvar fail = Decoder.fail;\r\n/** See `Decoder.lazy` */\r\nvar lazy = Decoder.lazy;\r\n\r\nexport { result as Result, Decoder, isDecoderError, string, number, boolean, anyJson, unknownJson, constant, object, array, tuple, dict, optional, oneOf, union, intersection, withDefault$1 as withDefault, valueAt, succeed, fail, lazy };\r\n//# sourceMappingURL=index.es5.js.map\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\n/* eslint-disable @typescript-eslint/no-use-before-define */\r\nimport { Decoder, object, boolean, string, optional, array, oneOf, constant, lazy, number, anyJson, intersection } from \"decoder-validate\";\r\nimport {\r\n    IsWindowInSwimlaneResult,\r\n    WorkspaceSnapshotResult,\r\n    ChildSnapshotResult,\r\n    WorkspaceConfigResult,\r\n    FrameSummaryResult,\r\n    WorkspaceCreateConfigProtocol,\r\n    GetFrameSummaryConfig,\r\n    WorkspaceSummaryResult,\r\n    LayoutSummariesResult,\r\n    LayoutSummary,\r\n    OpenWorkspaceConfig,\r\n    FrameSummariesResult,\r\n    WorkspaceSummariesResult,\r\n    ExportedLayoutsResult,\r\n    DeleteLayoutConfig,\r\n    SimpleItemConfig,\r\n    ResizeItemConfig,\r\n    MoveFrameConfig,\r\n    FrameSnapshotResult,\r\n    BaseChildSnapshotConfig,\r\n    ParentSnapshotConfig,\r\n    SwimlaneWindowSnapshotConfig,\r\n    SimpleWindowOperationSuccessResult,\r\n    SetItemTitleConfig,\r\n    MoveWindowConfig,\r\n    AddWindowConfig,\r\n    AddContainerConfig,\r\n    AddItemResult,\r\n    BundleConfig,\r\n    WorkspaceStreamData,\r\n    FrameStreamData,\r\n    ContainerStreamData,\r\n    ContainerSummaryResult,\r\n    WindowStreamData,\r\n    PingResult,\r\n    FrameStateConfig,\r\n    FrameStateResult,\r\n    WorkspaceSelector,\r\n    LockWorkspaceConfig,\r\n    LockWindowConfig,\r\n    LockContainerConfig,\r\n    SubParentSnapshotResult,\r\n    WindowSnapshotResult,\r\n    LockRowConfig,\r\n    LockColumnConfig,\r\n    LockGroupConfig\r\n} from \"../types/protocol\";\r\nimport { WorkspaceEventType, WorkspaceEventAction } from \"../types/subscription\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { ColumnLockConfig, GroupLockConfig, RowLockConfig, WorkspaceLockConfig, WorkspaceWindowLockConfig } from \"../types/temp\";\r\n\r\nexport const nonEmptyStringDecoder: Decoder<string> = string().where((s) => s.length > 0, \"Expected a non-empty string\");\r\nexport const nonNegativeNumberDecoder: Decoder<number> = number().where((num) => num >= 0, \"Expected a non-negative number\");\r\n\r\nexport const isWindowInSwimlaneResultDecoder: Decoder<IsWindowInSwimlaneResult> = object({\r\n    inWorkspace: boolean()\r\n});\r\n\r\nexport const allParentDecoder: Decoder<\"workspace\" | \"row\" | \"column\" | \"group\"> = oneOf<\"workspace\" | \"row\" | \"column\" | \"group\">(\r\n    constant(\"workspace\"),\r\n    constant(\"row\"),\r\n    constant(\"column\"),\r\n    constant(\"group\")\r\n);\r\n\r\nexport const subParentDecoder: Decoder<\"row\" | \"column\" | \"group\"> = oneOf<\"row\" | \"column\" | \"group\">(\r\n    constant(\"row\"),\r\n    constant(\"column\"),\r\n    constant(\"group\")\r\n);\r\n\r\nexport const frameStateDecoder: Decoder<\"maximized\" | \"minimized\" | \"normal\"> = oneOf<\"maximized\" | \"minimized\" | \"normal\">(\r\n    constant(\"maximized\"),\r\n    constant(\"minimized\"),\r\n    constant(\"normal\")\r\n);\r\n\r\nexport const checkThrowCallback = (callback: unknown, allowUndefined?: boolean): void => {\r\n    const argumentType = typeof callback;\r\n\r\n    if (allowUndefined && argumentType !== \"function\" && argumentType !== \"undefined\") {\r\n        throw new Error(`Provided argument must be either undefined or of type function, provided: ${argumentType}`);\r\n    }\r\n\r\n    if (!allowUndefined && argumentType !== \"function\") {\r\n        throw new Error(`Provided argument must be of type function, provided: ${argumentType}`);\r\n    }\r\n};\r\n\r\nexport const workspaceBuilderCreateConfigDecoder: Decoder<Glue42Workspaces.WorkspaceCreateConfig> = optional(object({\r\n    saveLayout: optional(boolean())\r\n}));\r\n\r\nexport const deleteLayoutConfigDecoder: Decoder<DeleteLayoutConfig> = object({\r\n    name: nonEmptyStringDecoder\r\n});\r\n\r\n\r\nexport const swimlaneWindowDefinitionDecoder: Decoder<Glue42Workspaces.WorkspaceWindowDefinition> = object({\r\n    type: optional(constant(\"window\")),\r\n    appName: optional(nonEmptyStringDecoder),\r\n    windowId: optional(nonEmptyStringDecoder),\r\n    context: optional(anyJson())\r\n});\r\n\r\nexport const strictSwimlaneWindowDefinitionDecoder: Decoder<Glue42Workspaces.WorkspaceWindowDefinition> = object({\r\n    type: constant(\"window\"),\r\n    appName: optional(nonEmptyStringDecoder),\r\n    windowId: optional(nonEmptyStringDecoder),\r\n    context: optional(anyJson())\r\n});\r\n\r\nexport const parentDefinitionDecoder: Decoder<Glue42Workspaces.BoxDefinition> = optional(object({\r\n    type: optional(subParentDecoder),\r\n    children: optional(\r\n        lazy(() => array(\r\n            oneOf<Glue42Workspaces.WorkspaceWindowDefinition | Glue42Workspaces.BoxDefinition>(\r\n                swimlaneWindowDefinitionDecoder,\r\n                parentDefinitionDecoder\r\n            )\r\n        ))\r\n    )\r\n}));\r\n\r\nexport const strictParentDefinitionDecoder: Decoder<Glue42Workspaces.BoxDefinition> = object({\r\n    type: subParentDecoder,\r\n    children: optional(\r\n        lazy(() => array(\r\n            oneOf<Glue42Workspaces.WorkspaceWindowDefinition | Glue42Workspaces.BoxDefinition>(\r\n                strictSwimlaneWindowDefinitionDecoder,\r\n                strictParentDefinitionDecoder\r\n            )\r\n        ))\r\n    )\r\n});\r\n\r\nexport const stateDecoder: Decoder<\"maximized\" | \"normal\"> = oneOf<\"maximized\" | \"normal\">(\r\n    (string().where((s) => s.toLowerCase() === \"maximized\", \"Expected a case insensitive variation of 'maximized'\") as Decoder<\"maximized\">),\r\n    (string().where((s) => s.toLowerCase() === \"normal\", \"Expected a case insensitive variation of 'normal'\") as Decoder<\"normal\">)\r\n);\r\n\r\nexport const newFrameConfigDecoder: Decoder<Glue42Workspaces.NewFrameConfig> = object({\r\n    bounds: optional(object({\r\n        left: optional(number()),\r\n        top: optional(number()),\r\n        width: optional(nonNegativeNumberDecoder),\r\n        height: optional(nonNegativeNumberDecoder)\r\n    }))\r\n});\r\n\r\nexport const loadingStrategyDecoder: Decoder<Glue42Workspaces.LoadingStrategy> = oneOf<\"direct\" | \"delayed\" | \"lazy\">(\r\n    constant(\"direct\"),\r\n    constant(\"delayed\"),\r\n    constant(\"lazy\")\r\n);\r\n\r\nexport const restoreWorkspaceConfigDecoder: Decoder<Glue42Workspaces.RestoreWorkspaceConfig> = optional(object({\r\n    app: optional(nonEmptyStringDecoder),\r\n    context: optional(anyJson()),\r\n    loadingStrategy: optional(loadingStrategyDecoder),\r\n    title: optional(nonEmptyStringDecoder),\r\n    reuseWorkspaceId: optional(nonEmptyStringDecoder),\r\n    frameId: optional(nonEmptyStringDecoder),\r\n    lockdown: optional(boolean()),\r\n    activateFrame: optional(boolean()),\r\n    newFrame: optional(oneOf<Glue42Workspaces.NewFrameConfig | boolean>(\r\n        newFrameConfigDecoder,\r\n        boolean()\r\n    )),\r\n    noTabHeader: optional(boolean()),\r\n    inMemoryLayout: optional(boolean())\r\n}));\r\n\r\nexport const openWorkspaceConfigDecoder: Decoder<OpenWorkspaceConfig> = object({\r\n    name: nonEmptyStringDecoder,\r\n    restoreOptions: optional(restoreWorkspaceConfigDecoder)\r\n});\r\n\r\nexport const workspaceDefinitionDecoder: Decoder<Glue42Workspaces.WorkspaceDefinition> = object({\r\n    children: optional(array(oneOf<Glue42Workspaces.WorkspaceWindowDefinition | Glue42Workspaces.BoxDefinition>(\r\n        swimlaneWindowDefinitionDecoder,\r\n        parentDefinitionDecoder\r\n    ))),\r\n    context: optional(anyJson()),\r\n    config: optional(object({\r\n        title: optional(nonEmptyStringDecoder),\r\n        position: optional(nonNegativeNumberDecoder),\r\n        isFocused: optional(boolean()),\r\n        noTabHeader: optional(boolean()),\r\n        reuseWorkspaceId: optional(nonEmptyStringDecoder),\r\n        loadingStrategy: optional(loadingStrategyDecoder)\r\n    })),\r\n    frame: optional(object({\r\n        reuseFrameId: optional(nonEmptyStringDecoder),\r\n        newFrame: optional(oneOf<boolean | Glue42Workspaces.NewFrameConfig>(\r\n            boolean(),\r\n            newFrameConfigDecoder\r\n        ))\r\n    }))\r\n});\r\n\r\nexport const builderConfigDecoder: Decoder<Glue42Workspaces.BuilderConfig> = object({\r\n    type: allParentDecoder,\r\n    definition: optional(oneOf<Glue42Workspaces.WorkspaceDefinition | Glue42Workspaces.BoxDefinition>(\r\n        workspaceDefinitionDecoder,\r\n        parentDefinitionDecoder\r\n    ))\r\n});\r\n\r\nexport const workspaceCreateConfigDecoder: Decoder<WorkspaceCreateConfigProtocol> = intersection(\r\n    workspaceDefinitionDecoder,\r\n    object({\r\n        saveConfig: optional(object({\r\n            saveLayout: optional(boolean())\r\n        }))\r\n    })\r\n);\r\n\r\nexport const getFrameSummaryConfigDecoder: Decoder<GetFrameSummaryConfig> = object({\r\n    itemId: nonEmptyStringDecoder\r\n});\r\n\r\nexport const frameSummaryDecoder: Decoder<FrameSummaryResult> = object({\r\n    id: nonEmptyStringDecoder\r\n});\r\n\r\nexport const workspaceSummaryDecoder: Decoder<Glue42Workspaces.WorkspaceSummary> = object({\r\n    id: nonEmptyStringDecoder,\r\n    frameId: nonEmptyStringDecoder,\r\n    positionIndex: number(),\r\n    title: nonEmptyStringDecoder,\r\n    focused: boolean(),\r\n    layoutName: optional(nonEmptyStringDecoder)\r\n});\r\n\r\nexport const containerSummaryDecoder: Decoder<Glue42Workspaces.BoxSummary> = object({\r\n    type: subParentDecoder,\r\n    id: nonEmptyStringDecoder,\r\n    frameId: nonEmptyStringDecoder,\r\n    workspaceId: nonEmptyStringDecoder,\r\n    positionIndex: number()\r\n});\r\n\r\nexport const eventTypeDecoder: Decoder<WorkspaceEventType> = oneOf<\"frame\" | \"workspace\" | \"container\" | \"window\">(\r\n    constant(\"frame\"),\r\n    constant(\"workspace\"),\r\n    constant(\"container\"),\r\n    constant(\"window\")\r\n);\r\n\r\nexport const streamRequestArgumentsDecoder: Decoder<{ type: WorkspaceEventType; branch: string }> = object({\r\n    type: eventTypeDecoder,\r\n    branch: nonEmptyStringDecoder\r\n});\r\n\r\nexport const workspaceEventActionDecoder: Decoder<WorkspaceEventAction> = oneOf<\"opened\" | \"closing\" | \"closed\" | \"focus\" | \"added\" | \"loaded\" | \"removed\" | \"childrenUpdate\" | \"containerChange\" | \"maximized\" | \"minimized\" | \"normal\" | \"selected\">(\r\n    constant(\"opened\"),\r\n    constant(\"closing\"),\r\n    constant(\"closed\"),\r\n    constant(\"focus\"),\r\n    constant(\"added\"),\r\n    constant(\"loaded\"),\r\n    constant(\"removed\"),\r\n    constant(\"childrenUpdate\"),\r\n    constant(\"containerChange\"),\r\n    constant(\"maximized\"),\r\n    constant(\"minimized\"),\r\n    constant(\"normal\"),\r\n    constant(\"selected\")\r\n);\r\n\r\nexport const workspaceConfigResultDecoder: Decoder<WorkspaceConfigResult> = object({\r\n    frameId: nonEmptyStringDecoder,\r\n    title: nonEmptyStringDecoder,\r\n    positionIndex: nonNegativeNumberDecoder,\r\n    name: nonEmptyStringDecoder,\r\n    layoutName: optional(nonEmptyStringDecoder),\r\n    isHibernated: optional(boolean()), // to support backwards comptability with older versions of GD\r\n    isSelected: optional(boolean()), // to support backwards comptability with older versions of GD\r\n    allowDrop: optional(boolean()),\r\n    allowExtract: optional(boolean()),\r\n    allowSplitters: optional(boolean()),\r\n    showCloseButton: optional(boolean()),\r\n    showSaveButton: optional(boolean()),\r\n    allowDropLeft: optional(boolean()),\r\n    allowDropTop: optional(boolean()),\r\n    allowDropRight: optional(boolean()),\r\n    allowDropBottom: optional(boolean()),\r\n    showAddWindowButtons: optional(boolean()),\r\n    showEjectButtons: optional(boolean()),\r\n    showWindowCloseButtons: optional(boolean()),\r\n});\r\n\r\n// todo: remove number positionIndex when fixed\r\nexport const baseChildSnapshotConfigDecoder: Decoder<BaseChildSnapshotConfig> = object({\r\n    frameId: nonEmptyStringDecoder,\r\n    workspaceId: nonEmptyStringDecoder,\r\n    positionIndex: number()\r\n});\r\n\r\nexport const parentSnapshotConfigDecoder: Decoder<ParentSnapshotConfig> = anyJson();\r\n\r\n// todo: remove optional isMaximized when fixed\r\nexport const swimlaneWindowSnapshotConfigDecoder: Decoder<SwimlaneWindowSnapshotConfig> = intersection(\r\n    baseChildSnapshotConfigDecoder,\r\n    object({\r\n        windowId: optional(nonEmptyStringDecoder),\r\n        isMaximized: optional(boolean()),\r\n        isFocused: boolean(),\r\n        title: optional(string()),\r\n        appName: optional(nonEmptyStringDecoder),\r\n        allowExtract: optional(boolean()),\r\n        showCloseButton: optional(boolean())\r\n    })\r\n) as any;\r\n\r\nexport const customWorkspaceSubParentSnapshotDecoder: Decoder<SubParentSnapshotResult> = object({\r\n    id: optional(nonEmptyStringDecoder),\r\n    config: parentSnapshotConfigDecoder,\r\n    children: optional(lazy(() => array(customWorkspaceChildSnapshotDecoder))),\r\n    type: oneOf<\"row\" | \"column\" | \"group\">(\r\n        constant(\"row\"),\r\n        constant(\"column\"),\r\n        constant(\"group\")\r\n    )\r\n});\r\n\r\nexport const customWorkspaceWindowSnapshotDecoder: Decoder<WindowSnapshotResult> = object({\r\n    id: optional(nonEmptyStringDecoder),\r\n    config: swimlaneWindowSnapshotConfigDecoder,\r\n    type: constant(\"window\")\r\n});\r\n\r\nexport const customWorkspaceChildSnapshotDecoder: Decoder<ChildSnapshotResult> = oneOf<WindowSnapshotResult | SubParentSnapshotResult>(\r\n    customWorkspaceWindowSnapshotDecoder,\r\n    customWorkspaceSubParentSnapshotDecoder);\r\n\r\nexport const childSnapshotResultDecoder: Decoder<ChildSnapshotResult> = customWorkspaceChildSnapshotDecoder;\r\n\r\nexport const workspaceSnapshotResultDecoder: Decoder<WorkspaceSnapshotResult> = object({\r\n    id: nonEmptyStringDecoder,\r\n    config: workspaceConfigResultDecoder,\r\n    children: array(childSnapshotResultDecoder),\r\n    frameSummary: frameSummaryDecoder\r\n});\r\n\r\nexport const windowLayoutItemDecoder: Decoder<Glue42Workspaces.WindowLayoutItem> = object({\r\n    type: constant(\"window\"),\r\n    config: object({\r\n        appName: nonEmptyStringDecoder,\r\n        url: optional(nonEmptyStringDecoder),\r\n        title: optional(string()),\r\n        allowExtract: optional(boolean()),\r\n        showCloseButton: optional(boolean())\r\n    })\r\n});\r\n\r\nexport const groupLayoutItemDecoder: Decoder<Glue42Workspaces.GroupLayoutItem> = object({\r\n    type: constant(\"group\"),\r\n    config: anyJson(),\r\n    children: array(oneOf<Glue42Workspaces.WindowLayoutItem>(\r\n        windowLayoutItemDecoder\r\n    ))\r\n});\r\n\r\nexport const columnLayoutItemDecoder: Decoder<Glue42Workspaces.ColumnLayoutItem> = object({\r\n    type: constant(\"column\"),\r\n    config: anyJson(),\r\n    children: array(oneOf<Glue42Workspaces.RowLayoutItem | Glue42Workspaces.ColumnLayoutItem | Glue42Workspaces.GroupLayoutItem | Glue42Workspaces.WindowLayoutItem>(\r\n        groupLayoutItemDecoder,\r\n        windowLayoutItemDecoder,\r\n        lazy(() => columnLayoutItemDecoder),\r\n        lazy(() => rowLayoutItemDecoder)\r\n    ))\r\n});\r\n\r\nexport const rowLayoutItemDecoder: Decoder<Glue42Workspaces.RowLayoutItem> = object({\r\n    type: constant(\"row\"),\r\n    config: anyJson(),\r\n    children: array(oneOf<Glue42Workspaces.RowLayoutItem | Glue42Workspaces.ColumnLayoutItem | Glue42Workspaces.GroupLayoutItem | Glue42Workspaces.WindowLayoutItem>(\r\n        columnLayoutItemDecoder,\r\n        groupLayoutItemDecoder,\r\n        windowLayoutItemDecoder,\r\n        lazy(() => rowLayoutItemDecoder)\r\n    ))\r\n});\r\n\r\nexport const workspaceLayoutDecoder: Decoder<Glue42Workspaces.WorkspaceLayout> = object({\r\n    name: nonEmptyStringDecoder,\r\n    type: constant(\"Workspace\"),\r\n    metadata: optional(anyJson()),\r\n    components: array(object({\r\n        type: constant(\"Workspace\"),\r\n        state: object({\r\n            config: anyJson(),\r\n            context: anyJson(),\r\n            children: array(oneOf<Glue42Workspaces.RowLayoutItem | Glue42Workspaces.ColumnLayoutItem | Glue42Workspaces.GroupLayoutItem | Glue42Workspaces.WindowLayoutItem>(\r\n                rowLayoutItemDecoder,\r\n                columnLayoutItemDecoder,\r\n                groupLayoutItemDecoder,\r\n                windowLayoutItemDecoder\r\n            ))\r\n        })\r\n    }))\r\n});\r\n\r\nexport const workspacesImportLayoutDecoder: Decoder<{ layout: Glue42Workspaces.WorkspaceLayout; mode: \"replace\" | \"merge\" }> = object({\r\n    layout: workspaceLayoutDecoder,\r\n    mode: oneOf<\"replace\" | \"merge\">(\r\n        constant(\"replace\"),\r\n        constant(\"merge\")\r\n    )\r\n});\r\n\r\nexport const exportedLayoutsResultDecoder: Decoder<ExportedLayoutsResult> = object({\r\n    layouts: array(workspaceLayoutDecoder)\r\n});\r\n\r\nexport const frameSummaryResultDecoder: Decoder<FrameSummaryResult> = object({\r\n    id: nonEmptyStringDecoder,\r\n});\r\n\r\nexport const frameSummariesResultDecoder: Decoder<FrameSummariesResult> = object({\r\n    summaries: array(frameSummaryResultDecoder)\r\n});\r\n\r\nexport const workspaceSummaryResultDecoder: Decoder<WorkspaceSummaryResult> = object({\r\n    id: nonEmptyStringDecoder,\r\n    config: workspaceConfigResultDecoder\r\n});\r\n\r\nexport const workspaceSummariesResultDecoder: Decoder<WorkspaceSummariesResult> = object({\r\n    summaries: array(workspaceSummaryResultDecoder)\r\n});\r\n\r\nexport const frameSnapshotResultDecoder: Decoder<FrameSnapshotResult> = object({\r\n    id: nonEmptyStringDecoder,\r\n    config: anyJson(),\r\n    workspaces: array(workspaceSnapshotResultDecoder)\r\n});\r\n\r\nexport const layoutSummaryDecoder: Decoder<LayoutSummary> = object({\r\n    name: nonEmptyStringDecoder\r\n});\r\n\r\nexport const layoutSummariesDecoder: Decoder<LayoutSummariesResult> = object({\r\n    summaries: array(layoutSummaryDecoder)\r\n});\r\n\r\nexport const simpleWindowOperationSuccessResultDecoder: Decoder<SimpleWindowOperationSuccessResult> = object({\r\n    windowId: nonEmptyStringDecoder\r\n});\r\n\r\nexport const voidResultDecoder: Decoder<{}> = anyJson();\r\n\r\nexport const frameStateResultDecoder: Decoder<FrameStateResult> = object({\r\n    state: frameStateDecoder\r\n});\r\n\r\nexport const resizeConfigDecoder: Decoder<Glue42Workspaces.ResizeConfig> = object({\r\n    width: optional(nonNegativeNumberDecoder),\r\n    height: optional(nonNegativeNumberDecoder),\r\n    relative: optional(boolean())\r\n});\r\n\r\nexport const moveConfigDecoder: Decoder<Glue42Workspaces.MoveConfig> = object({\r\n    top: optional(number()),\r\n    left: optional(number()),\r\n    relative: optional(boolean())\r\n});\r\n\r\nexport const simpleItemConfigDecoder: Decoder<SimpleItemConfig> = object({\r\n    itemId: nonEmptyStringDecoder\r\n});\r\n\r\nexport const frameStateConfigDecoder: Decoder<FrameStateConfig> = object({\r\n    frameId: nonEmptyStringDecoder,\r\n    requestedState: frameStateDecoder\r\n});\r\n\r\nexport const setItemTitleConfigDecoder: Decoder<SetItemTitleConfig> = object({\r\n    itemId: nonEmptyStringDecoder,\r\n    title: nonEmptyStringDecoder\r\n});\r\n\r\nexport const moveWindowConfigDecoder: Decoder<MoveWindowConfig> = object({\r\n    itemId: nonEmptyStringDecoder,\r\n    containerId: nonEmptyStringDecoder\r\n});\r\n\r\nexport const resizeItemConfigDecoder: Decoder<ResizeItemConfig> = intersection(\r\n    simpleItemConfigDecoder,\r\n    resizeConfigDecoder\r\n);\r\n\r\nexport const moveFrameConfigDecoder: Decoder<MoveFrameConfig> = intersection(\r\n    simpleItemConfigDecoder,\r\n    moveConfigDecoder\r\n);\r\n\r\nexport const simpleParentDecoder: Decoder<{ id: string; type: \"row\" | \"column\" | \"group\" }> = object({\r\n    id: nonEmptyStringDecoder,\r\n    type: subParentDecoder\r\n});\r\n\r\nexport const addWindowConfigDecoder: Decoder<AddWindowConfig> = object({\r\n    definition: swimlaneWindowDefinitionDecoder,\r\n    parentId: nonEmptyStringDecoder,\r\n    parentType: allParentDecoder\r\n});\r\n\r\nexport const addContainerConfigDecoder: Decoder<AddContainerConfig> = object({\r\n    definition: strictParentDefinitionDecoder,\r\n    parentId: nonEmptyStringDecoder,\r\n    parentType: allParentDecoder\r\n});\r\n\r\nexport const addItemResultDecoder: Decoder<AddItemResult> = object({\r\n    itemId: nonEmptyStringDecoder,\r\n    windowId: optional(nonEmptyStringDecoder)\r\n});\r\n\r\nexport const pingResultDecoder: Decoder<PingResult> = object({\r\n    live: boolean()\r\n});\r\n\r\nexport const bundleConfigDecoder: Decoder<BundleConfig> = object({\r\n    type: oneOf<\"row\" | \"column\">(\r\n        constant(\"row\"),\r\n        constant(\"column\")\r\n    ),\r\n    workspaceId: nonEmptyStringDecoder\r\n});\r\n\r\nexport const containerSummaryResultDecoder: Decoder<ContainerSummaryResult> = object({\r\n    itemId: nonEmptyStringDecoder,\r\n    config: parentSnapshotConfigDecoder\r\n});\r\n\r\nexport const frameStreamDataDecoder: Decoder<FrameStreamData> = object({\r\n    frameSummary: frameSummaryDecoder\r\n});\r\n\r\nexport const workspaceStreamDataDecoder: Decoder<WorkspaceStreamData> = object({\r\n    workspaceSummary: workspaceSummaryResultDecoder,\r\n    frameSummary: frameSummaryDecoder\r\n});\r\n\r\nexport const containerStreamDataDecoder: Decoder<ContainerStreamData> = object({\r\n    containerSummary: containerSummaryResultDecoder\r\n});\r\n\r\nexport const windowStreamDataDecoder: Decoder<WindowStreamData> = object({\r\n    windowSummary: object({\r\n        itemId: nonEmptyStringDecoder,\r\n        parentId: nonEmptyStringDecoder,\r\n        config: swimlaneWindowSnapshotConfigDecoder\r\n    })\r\n});\r\n\r\nexport const workspaceLayoutSaveConfigDecoder: Decoder<Glue42Workspaces.WorkspaceLayoutSaveConfig> = object({\r\n    name: nonEmptyStringDecoder,\r\n    workspaceId: nonEmptyStringDecoder,\r\n    saveContext: optional(boolean())\r\n});\r\n\r\nexport const workspaceSelectorDecoder: Decoder<WorkspaceSelector> = object({\r\n    workspaceId: nonEmptyStringDecoder,\r\n});\r\n\r\nexport const workspaceLockConfigDecoder: Decoder<WorkspaceLockConfig> = object({\r\n    allowDrop: optional(boolean()),\r\n    allowDropLeft: optional(boolean()),\r\n    allowDropTop: optional(boolean()),\r\n    allowDropRight: optional(boolean()),\r\n    allowDropBottom: optional(boolean()),\r\n    allowExtract: optional(boolean()),\r\n    allowSplitters: optional(boolean()),\r\n    showCloseButton: optional(boolean()),\r\n    showSaveButton: optional(boolean()),\r\n    showWindowCloseButtons: optional(boolean()),\r\n    showAddWindowButtons: optional(boolean()),\r\n    showEjectButtons: optional(boolean()),\r\n});\r\n\r\nexport const lockWorkspaceDecoder: Decoder<LockWorkspaceConfig> = object({\r\n    workspaceId: nonEmptyStringDecoder,\r\n    config: optional(workspaceLockConfigDecoder)\r\n});\r\n\r\nexport const windowLockConfigDecoder: Decoder<WorkspaceWindowLockConfig> = object({\r\n    allowExtract: optional(boolean()),\r\n    showCloseButton: optional(boolean())\r\n});\r\n\r\nexport const lockWindowDecoder: Decoder<LockWindowConfig> = object({\r\n    windowPlacementId: nonEmptyStringDecoder,\r\n    config: optional(windowLockConfigDecoder)\r\n});\r\n\r\nexport const rowLockConfigDecoder: Decoder<RowLockConfig> = object({\r\n    allowDrop: optional(boolean()),\r\n});\r\n\r\nexport const columnLockConfigDecoder: Decoder<ColumnLockConfig> = object({\r\n    allowDrop: optional(boolean()),\r\n});\r\n\r\nexport const groupLockConfigDecoder: Decoder<GroupLockConfig> = object({\r\n    allowExtract: optional(boolean()),\r\n    allowDrop: optional(boolean()),\r\n    showMaximizeButton: optional(boolean()),\r\n    showEjectButton: optional(boolean()),\r\n    showAddWindowButton: optional(boolean()),\r\n});\r\n\r\nexport const lockRowDecoder: Decoder<LockRowConfig> = object({\r\n    itemId: nonEmptyStringDecoder,\r\n    type: constant(\"row\"),\r\n    config: optional(rowLockConfigDecoder)\r\n});\r\n\r\nexport const lockColumnDecoder: Decoder<LockColumnConfig> = object({\r\n    itemId: nonEmptyStringDecoder,\r\n    type: constant(\"column\"),\r\n    config: optional(columnLockConfigDecoder)\r\n});\r\n\r\nexport const lockGroupDecoder: Decoder<LockGroupConfig> = object({\r\n    itemId: nonEmptyStringDecoder,\r\n    type: constant(\"group\"),\r\n    config: optional(groupLockConfigDecoder)\r\n});\r\n\r\n\r\nexport const lockContainerDecoder: Decoder<LockContainerConfig> = oneOf<LockGroupConfig | LockColumnConfig | LockRowConfig>(lockRowDecoder, lockColumnDecoder, lockGroupDecoder);\r\n","import {\r\n    isWindowInSwimlaneResultDecoder,\r\n    frameSummaryDecoder,\r\n    workspaceSnapshotResultDecoder,\r\n    frameSummariesResultDecoder,\r\n    workspaceCreateConfigDecoder,\r\n    getFrameSummaryConfigDecoder,\r\n    layoutSummariesDecoder,\r\n    openWorkspaceConfigDecoder,\r\n    workspaceSummariesResultDecoder,\r\n    voidResultDecoder,\r\n    exportedLayoutsResultDecoder,\r\n    workspaceLayoutDecoder,\r\n    deleteLayoutConfigDecoder,\r\n    simpleItemConfigDecoder,\r\n    resizeItemConfigDecoder,\r\n    moveFrameConfigDecoder,\r\n    frameSnapshotResultDecoder,\r\n    simpleWindowOperationSuccessResultDecoder,\r\n    setItemTitleConfigDecoder,\r\n    moveWindowConfigDecoder,\r\n    addWindowConfigDecoder,\r\n    addContainerConfigDecoder,\r\n    addItemResultDecoder,\r\n    bundleConfigDecoder,\r\n    workspaceStreamDataDecoder,\r\n    frameStreamDataDecoder,\r\n    containerStreamDataDecoder,\r\n    windowStreamDataDecoder,\r\n    workspaceLayoutSaveConfigDecoder,\r\n    pingResultDecoder,\r\n    frameStateConfigDecoder,\r\n    frameStateResultDecoder,\r\n    workspacesImportLayoutDecoder,\r\n    workspaceSelectorDecoder,\r\n    lockWorkspaceDecoder,\r\n    lockWindowDecoder,\r\n    lockContainerDecoder\r\n} from \"../shared/decoders\";\r\nimport { ControlOperation, StreamOperation } from \"../types/protocol\";\r\nimport { WorkspaceEventType } from \"../types/subscription\";\r\n\r\ntype OperationsTypes = \"isWindowInWorkspace\" |\r\n    \"createWorkspace\" |\r\n    \"getAllFramesSummaries\" |\r\n    \"getFrameSummary\" |\r\n    \"getAllWorkspacesSummaries\" |\r\n    \"getWorkspaceSnapshot\" |\r\n    \"getAllLayoutsSummaries\" |\r\n    \"openWorkspace\" |\r\n    \"deleteLayout\" |\r\n    \"saveLayout\" |\r\n    \"importLayout\" |\r\n    \"exportAllLayouts\" |\r\n    \"restoreItem\" |\r\n    \"maximizeItem\" |\r\n    \"focusItem\" |\r\n    \"closeItem\" |\r\n    \"resizeItem\" |\r\n    \"moveFrame\" |\r\n    \"getFrameSnapshot\" |\r\n    \"forceLoadWindow\" |\r\n    \"ejectWindow\" |\r\n    \"setItemTitle\" |\r\n    \"moveWindowTo\" |\r\n    \"addWindow\" |\r\n    \"addContainer\" |\r\n    \"bundleWorkspace\" |\r\n    \"ping\" |\r\n    \"changeFrameState\" |\r\n    \"getFrameState\" |\r\n    \"hibernateWorkspace\" |\r\n    \"resumeWorkspace\" |\r\n    \"lockWorkspace\" |\r\n    \"lockWindow\" |\r\n    \"lockContainer\";\r\ntype MethodsTypes = \"control\" | \"frameStream\" | \"workspaceStream\" | \"containerStream\" | \"windowStream\";\r\n\r\nexport const webPlatformMethodName = \"T42.Web.Platform.Control\";\r\nexport const webPlatformWspStreamName = \"T42.Web.Platform.WSP.Stream\";\r\n\r\nexport const METHODS: { [key in MethodsTypes]: { name: string; isStream: boolean } } = {\r\n    control: { name: \"T42.Workspaces.Control\", isStream: false },\r\n    frameStream: { name: \"T42.Workspaces.Stream.Frame\", isStream: true },\r\n    workspaceStream: { name: \"T42.Workspaces.Stream.Workspace\", isStream: true },\r\n    containerStream: { name: \"T42.Workspaces.Stream.Container\", isStream: true },\r\n    windowStream: { name: \"T42.Workspaces.Stream.Window\", isStream: true }\r\n};\r\n\r\nexport const STREAMS: { [key in WorkspaceEventType]: StreamOperation } = {\r\n    frame: { name: \"T42.Workspaces.Stream.Frame\", payloadDecoder: frameStreamDataDecoder },\r\n    workspace: { name: \"T42.Workspaces.Stream.Workspace\", payloadDecoder: workspaceStreamDataDecoder },\r\n    container: { name: \"T42.Workspaces.Stream.Container\", payloadDecoder: containerStreamDataDecoder },\r\n    window: { name: \"T42.Workspaces.Stream.Window\", payloadDecoder: windowStreamDataDecoder }\r\n};\r\n\r\nexport const OPERATIONS: { [key in OperationsTypes]: ControlOperation } = {\r\n    ping: { name: \"ping\", resultDecoder: pingResultDecoder },\r\n    isWindowInWorkspace: { name: \"isWindowInWorkspace\", argsDecoder: simpleItemConfigDecoder, resultDecoder: isWindowInSwimlaneResultDecoder },\r\n    createWorkspace: { name: \"createWorkspace\", resultDecoder: workspaceSnapshotResultDecoder, argsDecoder: workspaceCreateConfigDecoder },\r\n    getAllFramesSummaries: { name: \"getAllFramesSummaries\", resultDecoder: frameSummariesResultDecoder },\r\n    getFrameSummary: { name: \"getFrameSummary\", resultDecoder: frameSummaryDecoder, argsDecoder: getFrameSummaryConfigDecoder },\r\n    getAllWorkspacesSummaries: { name: \"getAllWorkspacesSummaries\", resultDecoder: workspaceSummariesResultDecoder },\r\n    getWorkspaceSnapshot: { name: \"getWorkspaceSnapshot\", resultDecoder: workspaceSnapshotResultDecoder, argsDecoder: simpleItemConfigDecoder },\r\n    getAllLayoutsSummaries: { name: \"getAllLayoutsSummaries\", resultDecoder: layoutSummariesDecoder },\r\n    openWorkspace: { name: \"openWorkspace\", argsDecoder: openWorkspaceConfigDecoder, resultDecoder: workspaceSnapshotResultDecoder },\r\n    deleteLayout: { name: \"deleteLayout\", resultDecoder: voidResultDecoder, argsDecoder: deleteLayoutConfigDecoder },\r\n    saveLayout: { name: \"saveLayout\", resultDecoder: workspaceLayoutDecoder, argsDecoder: workspaceLayoutSaveConfigDecoder },\r\n    importLayout: { name: \"importLayout\", resultDecoder: voidResultDecoder, argsDecoder: workspacesImportLayoutDecoder },\r\n    exportAllLayouts: { name: \"exportAllLayouts\", resultDecoder: exportedLayoutsResultDecoder },\r\n    restoreItem: { name: \"restoreItem\", argsDecoder: simpleItemConfigDecoder, resultDecoder: voidResultDecoder },\r\n    maximizeItem: { name: \"maximizeItem\", argsDecoder: simpleItemConfigDecoder, resultDecoder: voidResultDecoder },\r\n    focusItem: { name: \"focusItem\", argsDecoder: simpleItemConfigDecoder, resultDecoder: voidResultDecoder },\r\n    closeItem: { name: \"closeItem\", argsDecoder: simpleItemConfigDecoder, resultDecoder: voidResultDecoder },\r\n    resizeItem: { name: \"resizeItem\", argsDecoder: resizeItemConfigDecoder, resultDecoder: voidResultDecoder },\r\n    changeFrameState: { name: \"changeFrameState\", argsDecoder: frameStateConfigDecoder, resultDecoder: voidResultDecoder },\r\n    getFrameState: { name: \"getFrameState\", argsDecoder: simpleItemConfigDecoder, resultDecoder: frameStateResultDecoder },\r\n    moveFrame: { name: \"moveFrame\", argsDecoder: moveFrameConfigDecoder, resultDecoder: voidResultDecoder },\r\n    getFrameSnapshot: { name: \"getFrameSnapshot\", argsDecoder: simpleItemConfigDecoder, resultDecoder: frameSnapshotResultDecoder },\r\n    forceLoadWindow: { name: \"forceLoadWindow\", argsDecoder: simpleItemConfigDecoder, resultDecoder: simpleWindowOperationSuccessResultDecoder },\r\n    ejectWindow: { name: \"ejectWindow\", argsDecoder: simpleItemConfigDecoder, resultDecoder: simpleWindowOperationSuccessResultDecoder },\r\n    setItemTitle: { name: \"setItemTitle\", argsDecoder: setItemTitleConfigDecoder, resultDecoder: voidResultDecoder },\r\n    moveWindowTo: { name: \"moveWindowTo\", argsDecoder: moveWindowConfigDecoder, resultDecoder: voidResultDecoder },\r\n    addWindow: { name: \"addWindow\", argsDecoder: addWindowConfigDecoder, resultDecoder: addItemResultDecoder },\r\n    addContainer: { name: \"addContainer\", argsDecoder: addContainerConfigDecoder, resultDecoder: addItemResultDecoder },\r\n    bundleWorkspace: { name: \"bundleWorkspace\", argsDecoder: bundleConfigDecoder, resultDecoder: voidResultDecoder },\r\n    hibernateWorkspace: { name: \"hibernateWorkspace\", argsDecoder: workspaceSelectorDecoder, resultDecoder: voidResultDecoder },\r\n    resumeWorkspace: { name: \"resumeWorkspace\", argsDecoder: workspaceSelectorDecoder, resultDecoder: voidResultDecoder },\r\n    lockWorkspace: { name: \"lockWorkspace\", argsDecoder: lockWorkspaceDecoder, resultDecoder: voidResultDecoder },\r\n    lockWindow: { name: \"lockWindow\", argsDecoder: lockWindowDecoder, resultDecoder: voidResultDecoder },\r\n    lockContainer: { name: \"lockContainer\", argsDecoder: lockContainerDecoder, resultDecoder: voidResultDecoder }\r\n};\r\n","import { CallbackRegistry, UnsubscribeFunction } from \"callback-registry\";\r\nimport { SubscriptionConfig, ActiveSubscription, WorkspaceEventType, WorkspaceEventAction, WorkspacePayload, WorkspaceEventScope } from \"../types/subscription\";\r\nimport { STREAMS } from \"./constants\";\r\nimport { OPERATIONS } from \"./constants\";\r\nimport { eventTypeDecoder, streamRequestArgumentsDecoder, workspaceEventActionDecoder } from \"../shared/decoders\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { InteropTransport } from \"./interop-transport\";\r\n\r\nexport class Bridge {\r\n\r\n    private readonly activeSubscriptions: ActiveSubscription[] = [];\r\n\r\n    constructor(\r\n        private readonly transport: InteropTransport,\r\n        private readonly registry: CallbackRegistry\r\n    ) { }\r\n\r\n    public async createCoreEventSubscription(): Promise<void> {\r\n        await this.transport.coreSubscriptionReady(this.handleCoreEvent.bind(this));\r\n    }\r\n\r\n    public handleCoreSubscription(config: SubscriptionConfig): UnsubscribeFunction {\r\n        const registryKey = `${config.eventType}-${config.action}`;\r\n        const scope = config.scope;\r\n        const scopeId = config.scopeId;\r\n\r\n        return this.registry.add(registryKey, (args) => {\r\n            const scopeConfig = {\r\n                type: scope,\r\n                id: scopeId\r\n            };\r\n\r\n            const receivedIds = {\r\n                frame: args.frameSummary?.id || args.windowSummary?.config.frameId,\r\n                workspace: args.workspaceSummary?.id || args.windowSummary?.config.workspaceId,\r\n                window: args.windowSummary?.config.windowId\r\n            };\r\n\r\n            const shouldInvokeCallback = this.checkScopeMatch(scopeConfig, receivedIds);\r\n\r\n            if (!shouldInvokeCallback) {\r\n                return;\r\n            }\r\n\r\n            config.callback(args);\r\n        });\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    public async send<T>(operationName: string, operationArgs?: any): Promise<T> {\r\n\r\n        const operationDefinition = Object.values(OPERATIONS).find((operation) => operation.name === operationName);\r\n\r\n        if (!operationDefinition) {\r\n            throw new Error(`Cannot find definition for operation name: ${operationName}`);\r\n        }\r\n\r\n        if (operationDefinition.argsDecoder) {\r\n            try {\r\n                operationDefinition.argsDecoder.runWithException(operationArgs);\r\n            } catch (error) {\r\n                throw new Error(`Unexpected internal outgoing validation error: ${error.message}, for input: ${JSON.stringify(error.input)}, for operation ${operationName}`);\r\n            }\r\n        }\r\n\r\n        let operationResult;\r\n\r\n        try {\r\n            const operationResultRaw = await this.transport.transmitControl(operationDefinition.name, operationArgs);\r\n            operationResult = operationDefinition.resultDecoder.runWithException(operationResultRaw);\r\n        } catch (error) {\r\n            if (error.kind) {\r\n                throw new Error(`Unexpected internal incoming validation error: ${error.message}, for input: ${JSON.stringify(error.input)}, for operation ${operationName}`);\r\n            }\r\n            throw new Error(error.message);\r\n        }\r\n\r\n        return operationResult;\r\n    }\r\n\r\n    public async subscribe(config: SubscriptionConfig): Promise<Glue42Workspaces.Unsubscribe> {\r\n        let activeSub = this.getActiveSubscription(config);\r\n        const registryKey = this.getRegistryKey(config);\r\n\r\n        if (!activeSub) {\r\n            const stream = STREAMS[config.eventType];\r\n            const gdSub = await this.transport.subscribe(stream.name, this.getBranchKey(config), config.eventType);\r\n\r\n            gdSub.onData((streamData) => {\r\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                const data = streamData.data as { action: string; payload: any };\r\n\r\n                // important to decode without exception, because we do not want to throw an exception here\r\n                const requestedArgumentsResult = streamRequestArgumentsDecoder.run(streamData.requestArguments);\r\n                const actionResult = workspaceEventActionDecoder.run(data.action);\r\n\r\n                if (!requestedArgumentsResult.ok || !actionResult.ok) {\r\n                    return;\r\n                }\r\n\r\n                const streamType = requestedArgumentsResult.result.type;\r\n                const branch = requestedArgumentsResult.result.branch;\r\n\r\n                const validatedPayload = STREAMS[streamType].payloadDecoder.run(data.payload);\r\n\r\n                if (!validatedPayload.ok) {\r\n                    return;\r\n                }\r\n\r\n                const keyToExecute = `${streamType}-${branch}-${actionResult.result}`;\r\n                this.registry.execute(keyToExecute, validatedPayload.result);\r\n            });\r\n\r\n            activeSub = {\r\n                streamType: config.eventType,\r\n                level: config.scope,\r\n                levelId: config.scopeId,\r\n                callbacksCount: 0,\r\n                gdSub\r\n            };\r\n\r\n            this.activeSubscriptions.push(activeSub);\r\n        }\r\n\r\n        const unsubscribe = this.registry.add(registryKey, config.callback);\r\n\r\n        ++activeSub.callbacksCount;\r\n\r\n        return (): void => {\r\n            unsubscribe();\r\n\r\n            --activeSub.callbacksCount;\r\n\r\n            if (activeSub.callbacksCount === 0) {\r\n                activeSub.gdSub.close();\r\n                this.activeSubscriptions.splice(this.activeSubscriptions.indexOf(activeSub), 1);\r\n            }\r\n        };\r\n    }\r\n\r\n    private checkScopeMatch(scope: { type: WorkspaceEventScope; id?: string }, receivedIds: { frame: string; workspace: string; window: string }): boolean {\r\n\r\n        if (scope.type === \"global\") {\r\n            return true;\r\n        }\r\n\r\n        if (scope.type === \"frame\" && scope.id === receivedIds.frame) {\r\n            return true;\r\n        }\r\n\r\n        if (scope.type === \"workspace\" && scope.id === receivedIds.workspace) {\r\n            return true;\r\n        }\r\n\r\n        if (scope.type === \"window\" && scope.id === receivedIds.window) {\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    private handleCoreEvent(args: any): void {\r\n        const data = args.data;\r\n        try {\r\n            const verifiedAction: WorkspaceEventAction = workspaceEventActionDecoder.runWithException(data.action);\r\n            const verifiedType: WorkspaceEventType = eventTypeDecoder.runWithException(data.type);\r\n            const verifiedPayload: WorkspacePayload = STREAMS[verifiedType].payloadDecoder.runWithException(data.payload);\r\n\r\n            const registryKey = `${verifiedType}-${verifiedAction}`;\r\n\r\n            this.registry.execute(registryKey, verifiedPayload);\r\n        } catch (error) {\r\n            console.warn(`Cannot handle event with data ${JSON.stringify(data)}, because of validation error: ${error.message}`);\r\n        }\r\n    }\r\n\r\n    private getBranchKey(config: SubscriptionConfig): string {\r\n        return config.scope === \"global\" ? config.scope : `${config.scope}_${config.scopeId}`;\r\n    }\r\n\r\n    private getRegistryKey(config: SubscriptionConfig): string {\r\n        return `${config.eventType}-${this.getBranchKey(config)}-${config.action}`;\r\n    }\r\n\r\n    private getActiveSubscription(config: SubscriptionConfig): ActiveSubscription {\r\n        return this.activeSubscriptions\r\n            .find((activeSub) => activeSub.streamType === config.eventType &&\r\n                activeSub.level === config.scope &&\r\n                activeSub.levelId === config.scopeId\r\n            );\r\n    }\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { METHODS, webPlatformMethodName, webPlatformWspStreamName } from \"./constants\";\r\nimport { promisePlus } from \"../shared/promisePlus\";\r\nimport { WorkspaceEventType } from \"../types/subscription\";\r\nimport { InteropAPI, Subscription, InvocationResult } from \"../types/glue\";\r\nimport { Glue42Core } from \"@glue42/core\";\r\n\r\nexport class InteropTransport {\r\n\r\n    private readonly defaultTransportTimeout: number = 30000;\r\n    private coreEventMethodInitiated = false;\r\n    private corePlatformSubPromise: Promise<Glue42Core.Interop.Subscription>;\r\n\r\n    constructor(private readonly agm: InteropAPI) { }\r\n\r\n    public async initiate(actualWindowId: string): Promise<void> {\r\n\r\n        if (window.glue42gd) {\r\n            await Promise.all(\r\n                Object.values(METHODS).map((method) => {\r\n\r\n                    return this.verifyMethodLive(method.name);\r\n                })\r\n            );\r\n\r\n            return;\r\n        }\r\n\r\n        await Promise.all([\r\n            this.verifyMethodLive(webPlatformMethodName),\r\n            this.verifyMethodLive(webPlatformWspStreamName)\r\n        ]);\r\n\r\n        await this.transmitControl(\"frameHello\", { windowId: actualWindowId });\r\n    }\r\n\r\n    public coreSubscriptionReady(eventCallback: (args?: any) => void): Promise<Glue42Core.Interop.Subscription> {\r\n        if (!this.coreEventMethodInitiated) {\r\n            this.subscribePlatform(eventCallback);\r\n        }\r\n        return this.corePlatformSubPromise;\r\n    }\r\n\r\n    public subscribePlatform(eventCallback: (args?: any) => void): void {\r\n        this.coreEventMethodInitiated = true;\r\n\r\n        this.corePlatformSubPromise = this.agm.subscribe(webPlatformWspStreamName);\r\n\r\n        this.corePlatformSubPromise\r\n            .then((sub) => {\r\n                sub.onData((data) => eventCallback(data.data));\r\n            });\r\n    }\r\n\r\n    public async subscribe(streamName: string, streamBranch: string, streamType: WorkspaceEventType): Promise<Subscription> {\r\n\r\n        const subscriptionArgs = {\r\n            branch: streamBranch,\r\n            type: streamType\r\n        };\r\n\r\n        let subscription: Subscription;\r\n\r\n        try {\r\n            subscription = await this.agm.subscribe(streamName, { arguments: subscriptionArgs });\r\n        } catch (error) {\r\n            const message = `Internal subscription error! Error details: stream - ${streamName}, branch: ${streamBranch}. Internal message: ${error.message}`;\r\n            throw new Error(message);\r\n        }\r\n\r\n        return subscription;\r\n    }\r\n\r\n    public async transmitControl(operation: string, operationArguments: any): Promise<any> {\r\n\r\n        const invocationArguments = window.glue42gd ? { operation, operationArguments } : { operation, domain: \"workspaces\", data: operationArguments };\r\n        const methodName = window.glue42gd ? METHODS.control.name : webPlatformMethodName;\r\n\r\n        let invocationResult: InvocationResult<any>;\r\n        const baseErrorMessage = `Internal Workspaces Communication Error. Attempted operation: ${JSON.stringify(invocationArguments)}. `;\r\n\r\n        // using the 0 index of the errors and values collections, because we expect only one server and\r\n        // this is to safeguard in case in future we decide to deprecate the default returned/message properties in favor of using only collections\r\n        try {\r\n            invocationResult = await this.agm.invoke(methodName, invocationArguments, \"best\", { methodResponseTimeoutMs: this.defaultTransportTimeout });\r\n\r\n            if (!invocationResult) {\r\n                throw new Error(\"Received unsupported result from GD - empty result\");\r\n            }\r\n\r\n            if (!Array.isArray(invocationResult.all_return_values) || invocationResult.all_return_values.length === 0) {\r\n                throw new Error(\"Received unsupported result from GD - empty values collection\");\r\n            }\r\n\r\n        } catch (error) {\r\n            if (error && error.all_errors && error.all_errors.length) {\r\n                // IMPORTANT: Do NOT change the `Inner message:` string, because it is used by other programs to extract the inner message of a communication error\r\n                const invocationErrorMessage = error.all_errors[0].message;\r\n                throw new Error(`${baseErrorMessage} -> Inner message: ${invocationErrorMessage}`);\r\n\r\n            }\r\n            // IMPORTANT: Do NOT change the `Inner message:` string, because it is used by other programs to extract the inner message of a communication error\r\n            throw new Error(`${baseErrorMessage} -> Inner message: ${error.message}`);\r\n        }\r\n\r\n        return invocationResult.all_return_values[0].returned;\r\n    }\r\n\r\n    private verifyMethodLive(name: string): Promise<void> {\r\n        return promisePlus(() => {\r\n            return new Promise((resolve) => {\r\n                const hasMethod = this.agm.methods().some((method) => method.name === name);\r\n\r\n                if (hasMethod) {\r\n                    resolve();\r\n                    return;\r\n                }\r\n\r\n                let unsubscribe = this.agm.methodAdded((method) => {\r\n                    if (method.name !== name) {\r\n                        return;\r\n                    }\r\n\r\n                    if (unsubscribe) {\r\n                        unsubscribe();\r\n                        unsubscribe = null;\r\n                    } else {\r\n                        setTimeout(() => {\r\n                            if (unsubscribe) {\r\n                                unsubscribe();\r\n                            }\r\n                        }, 0);\r\n                    }\r\n                    resolve();\r\n                });\r\n            });\r\n        }, 15000, \"Timeout waiting for the Workspaces communication channels\");\r\n    }\r\n}\r\n","export const promisePlus = <T>(promise: () => Promise<T>, timeoutMilliseconds: number, timeoutMessage?: string): Promise<T> => {\r\n    return new Promise<T>((resolve, reject) => {\r\n\r\n        let promiseActive = true;\r\n\r\n        const timeout = setTimeout(() => {\r\n            if (!promiseActive) {\r\n                return;\r\n            }\r\n            promiseActive = false;\r\n            const message = timeoutMessage || `Promise timeout hit: ${timeoutMilliseconds}`;\r\n\r\n            reject(message);\r\n        }, timeoutMilliseconds);\r\n\r\n        promise()\r\n            .then((result) => {\r\n                if (!promiseActive) {\r\n                    return;\r\n                }\r\n                promiseActive = false;\r\n                clearTimeout(timeout);\r\n                resolve(result);\r\n            })\r\n            .catch((error) => {\r\n                if (!promiseActive) {\r\n                    return;\r\n                }\r\n                promiseActive = false;\r\n                clearTimeout(timeout);\r\n                reject(error);\r\n            });\r\n    });\r\n};\r\n","import { BaseBuilder } from \"./baseBuilder\";\r\nimport { ChildBuilder } from \"../types/builders\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\n\r\ninterface PrivateData {\r\n    definition: Glue42Workspaces.BoxDefinition;\r\n    base: BaseBuilder;\r\n    children: ChildBuilder[];\r\n}\r\n\r\nconst privateData = new WeakMap<ParentBuilder, PrivateData>();\r\n\r\nexport class ParentBuilder implements ParentBuilder {\r\n\r\n    constructor(\r\n        definition: Glue42Workspaces.BoxDefinition,\r\n        base: BaseBuilder\r\n    ) {\r\n        const children = base.wrapChildren(definition.children);\r\n\r\n        delete definition.children;\r\n\r\n        privateData.set(this, { base, children, definition });\r\n    }\r\n\r\n    public get type(): \"column\" | \"row\" | \"group\" {\r\n        return privateData.get(this).definition.type;\r\n    }\r\n\r\n    public addColumn(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\r\n        const base = privateData.get(this).base;\r\n\r\n        return base.add(\"column\", privateData.get(this).children, definition);\r\n    }\r\n\r\n    public addRow(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\r\n        const base = privateData.get(this).base;\r\n\r\n        return base.add(\"row\", privateData.get(this).children, definition);\r\n    }\r\n\r\n    public addGroup(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\r\n        const base = privateData.get(this).base;\r\n\r\n        return base.add(\"group\", privateData.get(this).children, definition);\r\n    }\r\n\r\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): ParentBuilder {\r\n        const base = privateData.get(this).base;\r\n\r\n        base.addWindow(privateData.get(this).children, definition);\r\n\r\n        return this;\r\n    }\r\n\r\n    public serialize(): Glue42Workspaces.BoxDefinition {\r\n        const definition = privateData.get(this).definition;\r\n        definition.children = privateData.get(this).base.serializeChildren(privateData.get(this).children);\r\n        return definition;\r\n    }\r\n\r\n}\r\n","import { ParentBuilder } from \"./parentBuilder\";\r\nimport { ChildDefinition, ChildBuilder } from \"../types/builders\";\r\nimport { parentDefinitionDecoder, swimlaneWindowDefinitionDecoder } from \"../shared/decoders\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { WorkspaceBuilder } from \"./workspaceBuilder\";\r\n\r\nexport class BaseBuilder {\r\n\r\n    constructor(\r\n        private readonly getBuilder: (config: Glue42Workspaces.BuilderConfig) => ParentBuilder | WorkspaceBuilder,\r\n    ) { }\r\n\r\n    public wrapChildren(children: ChildDefinition[]): ChildBuilder[] {\r\n        return children.map((child) => {\r\n            if (child.type === \"window\") {\r\n                return child;\r\n            }\r\n\r\n            return this.getBuilder({ type: child.type, definition: child }) as ParentBuilder;\r\n        });\r\n    }\r\n\r\n    public add(type: \"row\" | \"column\" | \"group\", children: ChildBuilder[], definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\r\n        const validatedDefinition = parentDefinitionDecoder.runWithException(definition);\r\n\r\n        const childBuilder = this.getBuilder({ type, definition: validatedDefinition }) as ParentBuilder;\r\n\r\n        children.push(childBuilder);\r\n\r\n        return childBuilder;\r\n    }\r\n\r\n    public addWindow(children: ChildBuilder[], definition: Glue42Workspaces.WorkspaceWindowDefinition): void {\r\n        const validatedDefinition = swimlaneWindowDefinitionDecoder.runWithException(definition);\r\n\r\n        validatedDefinition.type = \"window\";\r\n\r\n        children.push(validatedDefinition);\r\n    }\r\n\r\n    public serializeChildren(children: ChildBuilder[]): ChildDefinition[] {\r\n        return children.map((child) => {\r\n            if (child instanceof ParentBuilder) {\r\n                return child.serialize();\r\n            } else {\r\n                return child as Glue42Workspaces.WorkspaceWindowDefinition;\r\n            }\r\n        });\r\n    }\r\n}\r\n","import { BaseBuilder } from \"./baseBuilder\";\r\nimport { ChildBuilder } from \"../types/builders\";\r\nimport { ParentBuilder } from \"./parentBuilder\";\r\nimport { workspaceBuilderCreateConfigDecoder, nonNegativeNumberDecoder } from \"../shared/decoders\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { WorkspacesController } from \"../types/controller\";\r\n\r\ninterface PrivateData {\r\n    definition: Glue42Workspaces.WorkspaceDefinition;\r\n    children: ChildBuilder[];\r\n    base: BaseBuilder;\r\n    controller: WorkspacesController;\r\n}\r\n\r\nconst privateData = new WeakMap<WorkspaceBuilder, PrivateData>();\r\n\r\nexport class WorkspaceBuilder implements WorkspaceBuilder {\r\n\r\n    constructor(\r\n        definition: Glue42Workspaces.WorkspaceDefinition,\r\n        base: BaseBuilder,\r\n        controller: WorkspacesController\r\n    ) {\r\n        const children = base.wrapChildren(definition.children);\r\n\r\n        delete definition.children;\r\n\r\n        privateData.set(this, { base, children, definition, controller });\r\n    }\r\n\r\n    public addColumn(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\r\n        const children = privateData.get(this).children;\r\n\r\n        const areAllColumns = children.every((child) => child instanceof ParentBuilder && child.type === \"column\");\r\n\r\n        if (!areAllColumns) {\r\n            throw new Error(\"Cannot add a column to this workspace, because there are already children of another type\");\r\n        }\r\n\r\n        const base = privateData.get(this).base;\r\n\r\n        return base.add(\"column\", children, definition);\r\n    }\r\n\r\n    public addRow(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\r\n        const children = privateData.get(this).children;\r\n\r\n        const areAllRows = children.every((child) => child instanceof ParentBuilder && child.type === \"row\");\r\n\r\n        if (!areAllRows) {\r\n            throw new Error(\"Cannot add a row to this workspace, because there are already children of another type\");\r\n        }\r\n\r\n        const base = privateData.get(this).base;\r\n\r\n        return base.add(\"row\", children, definition);\r\n    }\r\n\r\n    public addGroup(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\r\n        const children = privateData.get(this).children;\r\n\r\n        if (children.length !== 0) {\r\n            throw new Error(\"Cannot add a group to this workspace, because there are already defined children.\");\r\n        }\r\n\r\n        const base = privateData.get(this).base;\r\n\r\n        return base.add(\"group\", children, definition);\r\n    }\r\n\r\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): WorkspaceBuilder {\r\n        const children = privateData.get(this).children;\r\n\r\n        if (children.length !== 0) {\r\n            throw new Error(\"Cannot add a window to this workspace, because there are already defined children.\");\r\n        }\r\n\r\n        const base = privateData.get(this).base;\r\n\r\n        base.addWindow(children, definition);\r\n\r\n        return this;\r\n    }\r\n\r\n    public getChildAt(index: number): ChildBuilder {\r\n        nonNegativeNumberDecoder.runWithException(index);\r\n        const data = privateData.get(this).children;\r\n\r\n        return data[index];\r\n    }\r\n\r\n    public async create(config?: Glue42Workspaces.WorkspaceCreateConfig): Promise<Glue42Workspaces.Workspace> {\r\n        const saveConfig = workspaceBuilderCreateConfigDecoder.runWithException(config);\r\n\r\n        const definition = privateData.get(this).definition;\r\n        definition.children = privateData.get(this).base.serializeChildren(privateData.get(this).children);\r\n\r\n        const controller = privateData.get(this).controller;\r\n\r\n        return controller.createWorkspace(definition, saveConfig);\r\n    }\r\n}\r\n","import { Base } from \"./base/base\";\r\nimport { Glue42Workspaces } from \"../../workspaces.d\";\r\nimport { rowLockConfigDecoder } from \"../shared/decoders\";\r\nimport { RowLockConfig } from \"../types/temp\";\r\n\r\ninterface PrivateData {\r\n    base: Base;\r\n}\r\n\r\nconst privateData = new WeakMap<Row, PrivateData>();\r\n\r\nconst getBase = (model: Row): Base => {\r\n    return privateData.get(model).base;\r\n};\r\n\r\nexport class Row implements Glue42Workspaces.Row {\r\n\r\n    constructor(base: Base) {\r\n        privateData.set(this, { base });\r\n    }\r\n\r\n    public get type(): \"row\" {\r\n        return \"row\";\r\n    }\r\n\r\n    public get id(): string {\r\n        return getBase(this).getId(this);\r\n    }\r\n\r\n    public get frameId(): string {\r\n        return getBase(this).getFrameId(this);\r\n    }\r\n\r\n    public get workspaceId(): string {\r\n        return getBase(this).getWorkspaceId(this);\r\n    }\r\n\r\n    public get positionIndex(): number {\r\n        return getBase(this).getPositionIndex(this);\r\n    }\r\n\r\n    public get children(): Glue42Workspaces.WorkspaceElement[] {\r\n        return getBase(this).getAllChildren(this);\r\n    }\r\n    public get parent(): Glue42Workspaces.Workspace | Glue42Workspaces.WorkspaceBox {\r\n        return getBase(this).getMyParent(this);\r\n    }\r\n    public get frame(): Glue42Workspaces.Frame {\r\n        return getBase(this).getMyFrame(this);\r\n    }\r\n    public get workspace(): Glue42Workspaces.Workspace {\r\n        return getBase(this).getMyWorkspace(this);\r\n    }\r\n    public get allowDrop(): boolean {\r\n        return getBase(this).getAllowDrop(this);\r\n    }\r\n\r\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): Promise<Glue42Workspaces.WorkspaceWindow> {\r\n        return getBase(this).addWindow(this, definition, \"row\");\r\n    }\r\n\r\n    public async addGroup(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Group> {\r\n        if (definition?.type && definition.type !== \"group\") {\r\n            throw new Error(`Expected a group definition, but received ${definition.type}`);\r\n        }\r\n        return getBase(this).addParent<Glue42Workspaces.Group>(this, \"group\", \"row\", definition);\r\n    }\r\n\r\n    public async addColumn(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Column> {\r\n        if (definition?.type && definition.type !== \"column\") {\r\n            throw new Error(`Expected a column definition, but received ${definition.type}`);\r\n        }\r\n        return getBase(this).addParent<Glue42Workspaces.Column>(this, \"column\", \"row\", definition);\r\n    }\r\n\r\n    public async addRow(): Promise<Row> {\r\n        throw new Error(\"Adding rows as row children is not supported\");\r\n    }\r\n\r\n    public removeChild(predicate: (child: Glue42Workspaces.WorkspaceElement) => boolean): Promise<void> {\r\n        return getBase(this).removeChild(this, predicate);\r\n    }\r\n\r\n    public maximize(): Promise<void> {\r\n        return getBase(this).maximize(this);\r\n    }\r\n\r\n    public restore(): Promise<void> {\r\n        return getBase(this).restore(this);\r\n    }\r\n\r\n    public close(): Promise<void> {\r\n        return getBase(this).close(this);\r\n    }\r\n\r\n    public lock(config?: RowLockConfig | ((config: RowLockConfig) => RowLockConfig)): Promise<void> {\r\n        let lockConfigResult = undefined;\r\n\r\n        if (typeof config === \"function\") {\r\n            const currentLockConfig = {\r\n                allowDrop: this.allowDrop,\r\n            };\r\n\r\n            lockConfigResult = config(currentLockConfig);\r\n        } else {\r\n            lockConfigResult = config;\r\n        }\r\n\r\n        const verifiedConfig = lockConfigResult === undefined ? undefined : rowLockConfigDecoder.runWithException(lockConfigResult);\r\n\r\n        return getBase(this).lockContainer(this, verifiedConfig);\r\n    }\r\n\r\n}\r\n","import { Base } from \"./base/base\";\r\nimport { Glue42Workspaces } from \"../../workspaces.d\";\r\nimport { columnLockConfigDecoder } from \"../shared/decoders\";\r\nimport { ColumnLockConfig } from \"../types/temp\";\r\n\r\ninterface PrivateData {\r\n    base: Base;\r\n}\r\n\r\nconst privateData = new WeakMap<Column, PrivateData>();\r\n\r\nconst getBase = (model: Column): Base => {\r\n    return privateData.get(model).base;\r\n};\r\n\r\nexport class Column implements Glue42Workspaces.Column {\r\n\r\n    constructor(base: Base) {\r\n        privateData.set(this, { base });\r\n    }\r\n\r\n    public get type(): \"column\" {\r\n        return \"column\";\r\n    }\r\n\r\n    public get id(): string {\r\n        return getBase(this).getId(this);\r\n    }\r\n\r\n    public get frameId(): string {\r\n        return getBase(this).getFrameId(this);\r\n    }\r\n\r\n    public get workspaceId(): string {\r\n        return getBase(this).getWorkspaceId(this);\r\n    }\r\n\r\n    public get positionIndex(): number {\r\n        return getBase(this).getPositionIndex(this);\r\n    }\r\n\r\n    public get children(): Glue42Workspaces.WorkspaceElement[] {\r\n        return getBase(this).getAllChildren(this);\r\n    }\r\n    public get parent(): Glue42Workspaces.Workspace | Glue42Workspaces.WorkspaceBox {\r\n        return getBase(this).getMyParent(this);\r\n    }\r\n    public get frame(): Glue42Workspaces.Frame {\r\n        return getBase(this).getMyFrame(this);\r\n    }\r\n    public get workspace(): Glue42Workspaces.Workspace {\r\n        return getBase(this).getMyWorkspace(this);\r\n    }\r\n    public get allowDrop(): boolean {\r\n        return getBase(this).getAllowDrop(this);\r\n    }\r\n\r\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): Promise<Glue42Workspaces.WorkspaceWindow> {\r\n        return getBase(this).addWindow(this, definition, \"column\");\r\n    }\r\n\r\n    public async addGroup(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Group> {\r\n        if (definition?.type && definition.type !== \"group\") {\r\n            throw new Error(`Expected a group definition, but received ${definition.type}`);\r\n        }\r\n        return getBase(this).addParent<Glue42Workspaces.Group>(this, \"group\", \"column\", definition);\r\n    }\r\n\r\n    public async addColumn(definition?: Glue42Workspaces.BoxDefinition): Promise<Column> {\r\n        throw new Error(\"Adding columns as column children is not supported\");\r\n        return getBase(this).addParent<Column>(this, \"column\", \"column\", definition);\r\n    }\r\n\r\n    public async addRow(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Row> {\r\n        if (definition?.type && definition.type !== \"row\") {\r\n            throw new Error(`Expected a row definition, but received ${definition.type}`);\r\n        }\r\n        return getBase(this).addParent<Glue42Workspaces.Row>(this, \"row\", \"column\", definition);\r\n    }\r\n\r\n    public removeChild(predicate: (child: Glue42Workspaces.WorkspaceElement) => boolean): Promise<void> {\r\n        return getBase(this).removeChild(this, predicate);\r\n    }\r\n\r\n    public maximize(): Promise<void> {\r\n        return getBase(this).maximize(this);\r\n    }\r\n\r\n    public restore(): Promise<void> {\r\n        return getBase(this).restore(this);\r\n    }\r\n\r\n    public close(): Promise<void> {\r\n        return getBase(this).close(this);\r\n    }\r\n\r\n    public lock(config?: ColumnLockConfig | ((config: ColumnLockConfig) => ColumnLockConfig)): Promise<void> {\r\n        let lockConfigResult = undefined;\r\n\r\n        if (typeof config === \"function\") {\r\n            const currentLockConfig = {\r\n                allowDrop: this.allowDrop,\r\n            };\r\n\r\n            lockConfigResult = config(currentLockConfig);\r\n\r\n        } else {\r\n            lockConfigResult = config;\r\n        }\r\n        const verifiedConfig = lockConfigResult === undefined ? undefined : columnLockConfigDecoder.runWithException(lockConfigResult);\r\n        return getBase(this).lockContainer(this, verifiedConfig);\r\n    }\r\n}\r\n","import { Base } from \"./base/base\";\r\nimport { Glue42Workspaces } from \"../../workspaces.d\";\r\nimport { groupLockConfigDecoder } from \"../shared/decoders\";\r\nimport { GroupLockConfig } from \"../types/temp\";\r\n\r\ninterface PrivateData {\r\n    base: Base;\r\n}\r\n\r\nconst privateData = new WeakMap<Group, PrivateData>();\r\n\r\nconst getBase = (model: Group): Base => {\r\n    return privateData.get(model).base;\r\n};\r\n\r\nexport class Group implements Glue42Workspaces.Group {\r\n\r\n    constructor(base: Base) {\r\n        privateData.set(this, { base });\r\n    }\r\n\r\n    public get type(): \"group\" {\r\n        return \"group\";\r\n    }\r\n\r\n    public get id(): string {\r\n        return getBase(this).getId(this);\r\n    }\r\n\r\n    public get frameId(): string {\r\n        return getBase(this).getFrameId(this);\r\n    }\r\n\r\n    public get workspaceId(): string {\r\n        return getBase(this).getWorkspaceId(this);\r\n    }\r\n\r\n    public get positionIndex(): number {\r\n        return getBase(this).getPositionIndex(this);\r\n    }\r\n\r\n    public get children(): Glue42Workspaces.WorkspaceElement[] {\r\n        return getBase(this).getAllChildren(this);\r\n    }\r\n    public get parent(): Glue42Workspaces.Workspace | Glue42Workspaces.WorkspaceBox {\r\n        return getBase(this).getMyParent(this);\r\n    }\r\n    public get frame(): Glue42Workspaces.Frame {\r\n        return getBase(this).getMyFrame(this);\r\n    }\r\n    public get workspace(): Glue42Workspaces.Workspace {\r\n        return getBase(this).getMyWorkspace(this);\r\n    }\r\n    public get allowExtract(): boolean {\r\n        return getBase(this).getAllowExtract(this);\r\n    }\r\n\r\n    public get allowDrop(): boolean {\r\n        return getBase(this).getAllowDrop(this);\r\n    }\r\n\r\n    public get showMaximizeButton(): boolean {\r\n        return getBase(this).getShowMaximizeButton(this);\r\n    }\r\n\r\n    public get showEjectButton(): boolean {\r\n        return getBase(this).getShowEjectButton(this);\r\n    }\r\n\r\n    public get showAddWindowButton(): boolean {\r\n        return getBase(this).getShowAddWindowButton(this);\r\n    }\r\n\r\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): Promise<Glue42Workspaces.WorkspaceWindow> {\r\n        return getBase(this).addWindow(this, definition, \"group\");\r\n    }\r\n\r\n    public async addGroup(): Promise<Group> {\r\n        throw new Error(\"Adding groups as group child is not supported\");\r\n    }\r\n\r\n    public async addColumn(): Promise<Glue42Workspaces.Column> {\r\n        throw new Error(\"Adding columns as group child is not supported\");\r\n    }\r\n\r\n    public async addRow(): Promise<Glue42Workspaces.Row> {\r\n        throw new Error(\"Adding rows as group child is not supported\");\r\n    }\r\n\r\n    public removeChild(predicate: (child: Glue42Workspaces.WorkspaceElement) => boolean): Promise<void> {\r\n        return getBase(this).removeChild(this, predicate);\r\n    }\r\n\r\n    public maximize(): Promise<void> {\r\n        return getBase(this).maximize(this);\r\n    }\r\n\r\n    public restore(): Promise<void> {\r\n        return getBase(this).restore(this);\r\n    }\r\n\r\n    public close(): Promise<void> {\r\n        return getBase(this).close(this);\r\n    }\r\n\r\n    public lock(config?: GroupLockConfig | ((config: GroupLockConfig) => GroupLockConfig)): Promise<void> {\r\n        let lockConfigResult = undefined;\r\n\r\n        if (typeof config === \"function\") {\r\n            const currentLockConfig = {\r\n                allowDrop: this.allowDrop,\r\n                allowExtract: this.allowExtract,\r\n                showAddWindowButton: this.showAddWindowButton,\r\n                showEjectButton: this.showEjectButton,\r\n                showMaximizeButton: this.showMaximizeButton\r\n            };\r\n\r\n            lockConfigResult = config(currentLockConfig);\r\n        } else {\r\n            lockConfigResult = config;\r\n        }\r\n        const verifiedConfig = lockConfigResult === undefined ? undefined : groupLockConfigDecoder.runWithException(lockConfigResult);\r\n        return getBase(this).lockContainer(this, verifiedConfig);\r\n    }\r\n\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { WorkspaceSnapshotResult, WindowStreamData } from \"../types/protocol\";\r\nimport { checkThrowCallback, nonEmptyStringDecoder, workspaceLockConfigDecoder } from \"../shared/decoders\";\r\nimport { PrivateDataManager } from \"../shared/privateDataManager\";\r\nimport { FrameCreateConfig } from \"../types/ioc\";\r\nimport { Frame } from \"./frame\";\r\nimport { SubscriptionConfig } from \"../types/subscription\";\r\nimport { WorkspacePrivateData } from \"../types/privateData\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { WorkspaceLockConfig } from \"../types/temp\";\r\n\r\ninterface PrivateData {\r\n    manager: PrivateDataManager;\r\n}\r\n\r\nconst data = new WeakMap<Workspace, PrivateData>();\r\n\r\nconst getData = (model: Workspace): WorkspacePrivateData => {\r\n    return data.get(model).manager.getWorkspaceData(model);\r\n};\r\n\r\nconst getDataManager = (model: Workspace): PrivateDataManager => {\r\n    return data.get(model).manager;\r\n};\r\n\r\nexport class Workspace implements Glue42Workspaces.Workspace {\r\n\r\n    constructor(dataManager: PrivateDataManager) {\r\n        data.set(this, { manager: dataManager });\r\n    }\r\n\r\n    public get id(): string {\r\n        return getData(this).id;\r\n    }\r\n\r\n    public get frameId(): string {\r\n        return getData(this).config.frameId;\r\n    }\r\n\r\n    public get positionIndex(): number {\r\n        return getData(this).config.positionIndex;\r\n    }\r\n\r\n    public get title(): string {\r\n        return getData(this).config.title;\r\n    }\r\n\r\n    public get layoutName(): string | undefined {\r\n        return getData(this).config.layoutName;\r\n    }\r\n\r\n    public get isHibernated(): boolean {\r\n        return getData(this).config.isHibernated;\r\n    }\r\n\r\n    public get children(): Glue42Workspaces.WorkspaceElement[] {\r\n        return getData(this).children;\r\n    }\r\n\r\n    public get frame(): Frame {\r\n        return getData(this).frame;\r\n    }\r\n\r\n    public get allowSplitters(): boolean {\r\n        return getData(this).config.allowSplitters;\r\n    }\r\n\r\n    public get allowDrop(): boolean {\r\n        return getData(this).config.allowDrop;\r\n    }\r\n\r\n    public get allowDropLeft(): boolean {\r\n        return getData(this).config.allowDropLeft;\r\n    }\r\n\r\n    public get allowDropTop(): boolean {\r\n        return getData(this).config.allowDropTop;\r\n    }\r\n\r\n    public get allowDropRight(): boolean {\r\n        return getData(this).config.allowDropRight;\r\n    }\r\n\r\n    public get allowDropBottom(): boolean {\r\n        return getData(this).config.allowDropBottom;\r\n    }\r\n\r\n    public get allowExtract(): boolean {\r\n        return getData(this).config.allowExtract;\r\n    }\r\n\r\n    public get showCloseButton(): boolean {\r\n        return getData(this).config.showCloseButton;\r\n    }\r\n\r\n    public get showSaveButton(): boolean {\r\n        return getData(this).config.showSaveButton;\r\n    }\r\n\r\n    public get showWindowCloseButtons(): boolean {\r\n        return getData(this).config.showWindowCloseButtons;\r\n    }\r\n\r\n    public get showEjectButtons(): boolean {\r\n        return getData(this).config.showEjectButtons;\r\n    }\r\n\r\n    public get showAddWindowButtons(): boolean {\r\n        return getData(this).config.showAddWindowButtons;\r\n    }\r\n\r\n    public async removeChild(predicate: (child: Glue42Workspaces.WorkspaceElement) => boolean): Promise<void> {\r\n        checkThrowCallback(predicate);\r\n        const child = this.children.find(predicate);\r\n        if (!child) {\r\n            return;\r\n        }\r\n        await child.close();\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async remove(predicate: (child: Glue42Workspaces.WorkspaceElement) => boolean): Promise<void> {\r\n        checkThrowCallback(predicate);\r\n        const controller = getData(this).controller;\r\n\r\n        const child = controller.iterateFindChild(this.children, predicate);\r\n\r\n        await child.close();\r\n\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async focus(): Promise<void> {\r\n        await getData(this).controller.focusItem(this.id);\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async close(): Promise<void> {\r\n        const controller = getData(this).controller;\r\n\r\n        const workspaces = await getData(this).frame.workspaces();\r\n\r\n        const shouldCloseFrame = workspaces.length === 1 && workspaces.every((wsp) => wsp.id === this.id);\r\n\r\n        if (shouldCloseFrame) {\r\n            return this.frame.close();\r\n        }\r\n\r\n        await controller.closeItem(this.id);\r\n    }\r\n\r\n    public snapshot(): Promise<Glue42Workspaces.WorkspaceSnapshot> {\r\n        return getData(this).controller.getSnapshot(this.id, \"workspace\");\r\n    }\r\n\r\n    public async saveLayout(name: string, config?: { saveContext?: boolean }): Promise<void> {\r\n        nonEmptyStringDecoder.runWithException(name);\r\n        await getData(this).controller.saveLayout({ name, workspaceId: this.id, saveContext: config?.saveContext });\r\n    }\r\n\r\n    public async setTitle(title: string): Promise<void> {\r\n        nonEmptyStringDecoder.runWithException(title);\r\n        const controller = getData(this).controller;\r\n\r\n        await controller.setItemTitle(this.id, title);\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public getContext(): Promise<any> {\r\n        const controller = getData(this).controller;\r\n        return controller.getWorkspaceContext(this.id);\r\n    }\r\n\r\n    public setContext(data: any): Promise<void> {\r\n        const controller = getData(this).controller;\r\n        return controller.setWorkspaceContext(this.id, data);\r\n    }\r\n\r\n    public updateContext(data: any): Promise<void> {\r\n        const controller = getData(this).controller;\r\n        return controller.updateWorkspaceContext(this.id, data);\r\n    }\r\n\r\n    public onContextUpdated(callback: (data: any) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        const controller = getData(this).controller;\r\n        return controller.subscribeWorkspaceContextUpdated(this.id, callback);\r\n    }\r\n\r\n    public async refreshReference(): Promise<void> {\r\n        const newSnapshot = (await getData(this).controller.getSnapshot(this.id, \"workspace\")) as WorkspaceSnapshotResult;\r\n\r\n        const currentChildrenFlat = getData(this).controller.flatChildren(getData(this).children);\r\n\r\n        const newChildren = getData(this).controller.refreshChildren({\r\n            existingChildren: currentChildrenFlat,\r\n            workspace: this,\r\n            parent: this,\r\n            children: newSnapshot.children\r\n        });\r\n\r\n        const currentFrame = this.frame;\r\n        let actualFrame: Frame;\r\n\r\n        if (currentFrame.id === newSnapshot.config.frameId) {\r\n            getDataManager(this).remapFrame(currentFrame, newSnapshot.frameSummary);\r\n            actualFrame = currentFrame;\r\n        } else {\r\n            const frameCreateConfig: FrameCreateConfig = {\r\n                summary: newSnapshot.frameSummary\r\n            };\r\n            const newFrame = getData(this).ioc.getModel<\"frame\">(\"frame\", frameCreateConfig);\r\n            actualFrame = newFrame;\r\n        }\r\n\r\n        getDataManager(this).remapWorkspace(this, {\r\n            config: newSnapshot.config,\r\n            children: newChildren,\r\n            frame: actualFrame\r\n        });\r\n    }\r\n\r\n    public getBox(predicate: (box: Glue42Workspaces.WorkspaceBox) => boolean): Glue42Workspaces.WorkspaceBox {\r\n        checkThrowCallback(predicate);\r\n        const children = getData(this).children;\r\n        const controller = getData(this).controller;\r\n\r\n        return controller.iterateFindChild(children, (child) => child.type !== \"window\" && predicate(child)) as Glue42Workspaces.WorkspaceBox;\r\n    }\r\n\r\n    public getAllBoxes(predicate?: (parent: Glue42Workspaces.WorkspaceBox) => boolean): Glue42Workspaces.WorkspaceBox[] {\r\n        checkThrowCallback(predicate, true);\r\n        const children = getData(this).children;\r\n        const controller = getData(this).controller;\r\n\r\n        const allParents = controller.iterateFilterChildren(children, (child) => child.type !== \"window\") as Glue42Workspaces.WorkspaceBox[];\r\n\r\n        if (!predicate) {\r\n            return allParents;\r\n        }\r\n\r\n        return allParents.filter(predicate);\r\n    }\r\n\r\n    public getRow(predicate: (row: Glue42Workspaces.Row) => boolean): Glue42Workspaces.Row {\r\n        checkThrowCallback(predicate);\r\n        return this.getBox((parent) => parent.type === \"row\" && predicate(parent)) as Glue42Workspaces.Row;\r\n    }\r\n\r\n    public getAllRows(predicate?: (row: Glue42Workspaces.Row) => boolean): Glue42Workspaces.Row[] {\r\n        checkThrowCallback(predicate, true);\r\n        if (predicate) {\r\n            return this.getAllBoxes((parent) => parent.type === \"row\" && predicate(parent)) as Glue42Workspaces.Row[];\r\n        }\r\n        return this.getAllBoxes((parent) => parent.type === \"row\") as Glue42Workspaces.Row[];\r\n    }\r\n\r\n    public getColumn(predicate: (column: Glue42Workspaces.Column) => boolean): Glue42Workspaces.Column {\r\n        checkThrowCallback(predicate);\r\n        return this.getBox((parent) => parent.type === \"column\" && predicate(parent)) as Glue42Workspaces.Column;\r\n    }\r\n\r\n    public getAllColumns(predicate?: (columns: Glue42Workspaces.Column) => boolean): Glue42Workspaces.Column[] {\r\n        checkThrowCallback(predicate, true);\r\n        if (predicate) {\r\n            return this.getAllBoxes((parent) => parent.type === \"column\" && predicate(parent)) as Glue42Workspaces.Column[];\r\n        }\r\n        return this.getAllBoxes((parent) => parent.type === \"column\") as Glue42Workspaces.Column[];\r\n    }\r\n\r\n    public getGroup(predicate: (group: Glue42Workspaces.Group) => boolean): Glue42Workspaces.Group {\r\n        checkThrowCallback(predicate);\r\n        return this.getBox((parent) => parent.type === \"group\" && predicate(parent)) as Glue42Workspaces.Group;\r\n    }\r\n\r\n    public getAllGroups(predicate?: (group: Glue42Workspaces.Group) => boolean): Glue42Workspaces.Group[] {\r\n        checkThrowCallback(predicate, true);\r\n        if (predicate) {\r\n            return this.getAllBoxes((parent) => parent.type === \"group\" && predicate(parent)) as Glue42Workspaces.Group[];\r\n        }\r\n        return this.getAllBoxes((parent) => parent.type === \"group\") as Glue42Workspaces.Group[];\r\n    }\r\n\r\n    public getWindow(predicate: (window: Glue42Workspaces.WorkspaceWindow) => boolean): Glue42Workspaces.WorkspaceWindow {\r\n        checkThrowCallback(predicate);\r\n        const children = getData(this).children;\r\n        const controller = getData(this).controller;\r\n\r\n        return controller.iterateFindChild(children, (child) => child.type === \"window\" && predicate(child)) as Glue42Workspaces.WorkspaceWindow;\r\n    }\r\n\r\n    public getAllWindows(predicate?: (window: Glue42Workspaces.WorkspaceWindow) => boolean): Glue42Workspaces.WorkspaceWindow[] {\r\n        checkThrowCallback(predicate, true);\r\n        const children = getData(this).children;\r\n        const controller = getData(this).controller;\r\n\r\n        const allWindows = controller.iterateFilterChildren(children, (child) => child.type === \"window\") as Glue42Workspaces.WorkspaceWindow[];\r\n\r\n        if (!predicate) {\r\n            return allWindows;\r\n        }\r\n\r\n        return allWindows.filter(predicate);\r\n    }\r\n\r\n    public addRow(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Row> {\r\n        return getData(this).base.addParent<Glue42Workspaces.Row>(this, \"row\", \"workspace\", definition);\r\n    }\r\n\r\n    public addColumn(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Column> {\r\n        return getData(this).base.addParent<Glue42Workspaces.Column>(this, \"column\", \"workspace\", definition);\r\n    }\r\n\r\n    public addGroup(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Group> {\r\n        return getData(this).base.addParent<Glue42Workspaces.Group>(this, \"group\", \"workspace\", definition);\r\n    }\r\n\r\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): Promise<Glue42Workspaces.WorkspaceWindow> {\r\n        return getData(this).base.addWindow(this, definition, \"workspace\");\r\n    }\r\n\r\n    public async bundleToRow(): Promise<void> {\r\n        await getData(this).controller.bundleTo(\"row\", this.id);\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async bundleToColumn(): Promise<void> {\r\n        await getData(this).controller.bundleTo(\"column\", this.id);\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async hibernate(): Promise<void> {\r\n        await getData(this).controller.hibernateWorkspace(this.id);\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async resume(): Promise<void> {\r\n        await getData(this).controller.resumeWorkspace(this.id);\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async lock(config?: WorkspaceLockConfig | ((config: WorkspaceLockConfig) => WorkspaceLockConfig)): Promise<void> {\r\n        let lockConfigResult = undefined;\r\n\r\n        if (typeof config === \"function\") {\r\n            const currentLockConfig = {\r\n                allowDrop: this.allowDrop,\r\n                allowDropLeft: this.allowDropLeft,\r\n                allowDropTop: this.allowDropTop,\r\n                allowDropRight: this.allowDropRight,\r\n                allowDropBottom: this.allowDropBottom,\r\n                allowExtract: this.allowExtract,\r\n                allowSplitters: this.allowSplitters,\r\n                showCloseButton: this.showCloseButton,\r\n                showSaveButton: this.showSaveButton,\r\n                showAddWindowButtons: this.showAddWindowButtons,\r\n                showEjectButtons: this.showEjectButtons,\r\n                showWindowCloseButtons: this.showWindowCloseButtons\r\n            };\r\n\r\n            lockConfigResult = config(currentLockConfig);\r\n        } else {\r\n            lockConfigResult = config;\r\n        }\r\n\r\n        const verifiedConfig = lockConfigResult === undefined ? undefined : workspaceLockConfigDecoder.runWithException(lockConfigResult);\r\n\r\n        await getData(this).controller.lockWorkspace(this.id, verifiedConfig);\r\n        await this.refreshReference();\r\n    }\r\n\r\n\r\n    public async onClosed(callback: () => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const id = getData(this).id;\r\n\r\n        const wrappedCallback = async (): Promise<void> => {\r\n            // await this.refreshReference();\r\n            callback();\r\n        };\r\n        const config: SubscriptionConfig = {\r\n            action: \"closed\",\r\n            eventType: \"workspace\",\r\n            scope: \"workspace\",\r\n            scopeId: id,\r\n            callback: wrappedCallback\r\n        };\r\n\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWindowAdded(callback: (window: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const id = getData(this).id;\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            await this.refreshReference();\r\n            const windowParent = this.getBox((parent) => parent.id === payload.windowSummary.parentId);\r\n\r\n            const foundWindow = windowParent.children.find((child) => {\r\n\r\n                return child.type === \"window\" && child.positionIndex === payload.windowSummary.config.positionIndex;\r\n            });\r\n            callback(foundWindow as Glue42Workspaces.WorkspaceWindow);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            action: \"added\",\r\n            eventType: \"window\",\r\n            scope: \"workspace\",\r\n            scopeId: id,\r\n            callback: wrappedCallback\r\n        };\r\n\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWindowRemoved(callback: (removed: { windowId?: string; workspaceId: string; frameId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const id = getData(this).id;\r\n\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            await this.refreshReference();\r\n            const { windowId, workspaceId, frameId } = payload.windowSummary.config;\r\n            callback({ windowId, workspaceId, frameId });\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            action: \"removed\",\r\n            eventType: \"window\",\r\n            scope: \"workspace\",\r\n            scopeId: id,\r\n            callback: wrappedCallback\r\n        };\r\n\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWindowLoaded(callback: (window: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const id = getData(this).id;\r\n\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            await this.refreshReference();\r\n            const foundWindow = this.getWindow((win) => {\r\n                return win.id && win.id === payload.windowSummary.config.windowId;\r\n            });\r\n            callback(foundWindow);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            action: \"loaded\",\r\n            eventType: \"window\",\r\n            scope: \"workspace\",\r\n            scopeId: id,\r\n            callback: wrappedCallback\r\n        };\r\n\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\r\n        return unsubscribe;\r\n    }\r\n}\r\n","import { checkThrowCallback, nonEmptyStringDecoder, windowLockConfigDecoder } from \"../shared//decoders\";\r\nimport { SubscriptionConfig } from \"../types/subscription\";\r\nimport { PrivateDataManager } from \"../shared/privateDataManager\";\r\nimport { WindowPrivateData } from \"../types/privateData\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { GDWindow } from \"../types/glue\";\r\nimport { Row } from \"./row\";\r\nimport { Column } from \"./column\";\r\nimport { Group } from \"./group\";\r\nimport { WorkspaceWindowLockConfig } from \"../types/temp\";\r\n\r\ninterface PrivateData {\r\n    manager: PrivateDataManager;\r\n}\r\n\r\nconst data = new WeakMap<Window, PrivateData>();\r\n\r\nconst getData = (model: Window): WindowPrivateData => {\r\n    return data.get(model).manager.getWindowData(model);\r\n};\r\n\r\nexport class Window implements Glue42Workspaces.WorkspaceWindow {\r\n\r\n    constructor(dataManager: PrivateDataManager) {\r\n        data.set(this, { manager: dataManager });\r\n    }\r\n\r\n    public get id(): string {\r\n        return getData(this).config.windowId;\r\n    }\r\n\r\n    public get elementId(): string {\r\n        return getData(this).id;\r\n    }\r\n\r\n    public get type(): \"window\" {\r\n        return \"window\";\r\n    }\r\n\r\n    public get frameId(): string {\r\n        return getData(this).frame.id;\r\n    }\r\n\r\n    public get workspaceId(): string {\r\n        return getData(this).workspace.id;\r\n    }\r\n\r\n    public get positionIndex(): number {\r\n        return getData(this).config.positionIndex;\r\n    }\r\n\r\n    public get isMaximized(): boolean {\r\n        return getData(this).config.isMaximized;\r\n    }\r\n\r\n    public get isLoaded(): boolean {\r\n        return getData(this).controller.checkIsWindowLoaded(this.id);\r\n    }\r\n\r\n    public get focused(): boolean {\r\n        return getData(this).config.isFocused;\r\n    }\r\n\r\n    public get title(): string {\r\n        return getData(this).config.title;\r\n    }\r\n\r\n    public get allowExtract(): boolean {\r\n        return getData(this).config.allowExtract;\r\n    }\r\n\r\n    public get showCloseButton(): boolean {\r\n        return getData(this).config.showCloseButton;\r\n    }\r\n\r\n    public get workspace(): Glue42Workspaces.Workspace {\r\n        return getData(this).workspace;\r\n    }\r\n\r\n    public get frame(): Glue42Workspaces.Frame {\r\n        return getData(this).frame;\r\n    }\r\n\r\n    public get parent(): Glue42Workspaces.Workspace | Glue42Workspaces.Row | Glue42Workspaces.Column | Glue42Workspaces.Group {\r\n        return getData(this).parent;\r\n    }\r\n\r\n    public get appName(): string {\r\n        return getData(this).config.appName;\r\n    }\r\n\r\n    public async forceLoad(): Promise<void> {\r\n        if (this.isLoaded) {\r\n            return;\r\n        }\r\n        const controller = getData(this).controller;\r\n        const itemId = getData(this).id;\r\n\r\n        const windowId = await controller.forceLoadWindow(itemId);\r\n\r\n        getData(this).config.windowId = windowId;\r\n\r\n        await this.workspace.refreshReference();\r\n    }\r\n\r\n    public async focus(): Promise<void> {\r\n        const id = getData(this).id;\r\n        const controller = getData(this).controller;\r\n\r\n        await controller.focusItem(id);\r\n\r\n        await this.workspace.refreshReference();\r\n    }\r\n\r\n    public async close(): Promise<void> {\r\n        const id = getData(this).id;\r\n        const controller = getData(this).controller;\r\n\r\n        await controller.closeItem(id);\r\n\r\n        await getData(this)\r\n            .parent\r\n            .removeChild((child) => child.id === id);\r\n\r\n        await this.workspace.refreshReference();\r\n    }\r\n\r\n    public async setTitle(title: string): Promise<void> {\r\n        nonEmptyStringDecoder.runWithException(title);\r\n\r\n        const itemId = getData(this).id;\r\n        const controller = getData(this).controller;\r\n\r\n        await controller.setItemTitle(itemId, title);\r\n\r\n        await this.workspace.refreshReference();\r\n    }\r\n\r\n    public async maximize(): Promise<void> {\r\n        const id = getData(this).id;\r\n        const controller = getData(this).controller;\r\n\r\n        await controller.maximizeItem(id);\r\n\r\n        await this.workspace.refreshReference();\r\n    }\r\n\r\n    public async restore(): Promise<void> {\r\n        const id = getData(this).id;\r\n        const controller = getData(this).controller;\r\n\r\n        await controller.restoreItem(id);\r\n\r\n        await this.workspace.refreshReference();\r\n    }\r\n\r\n    public async eject(): Promise<GDWindow> {\r\n        if (!this.isLoaded) {\r\n            throw new Error(\"Cannot eject this window, because it is not loaded yet\");\r\n        }\r\n        const itemId: string = getData(this).id;\r\n\r\n        const newWindowId: string = await getData(this).controller.ejectWindow(itemId);\r\n\r\n        getData(this).config.windowId = newWindowId;\r\n\r\n        await this.workspace.refreshReference();\r\n\r\n        return this.getGdWindow();\r\n    }\r\n\r\n    public getGdWindow(): GDWindow {\r\n        if (!this.isLoaded) {\r\n            throw new Error(\"Cannot fetch this GD window, because the window is not yet loaded\");\r\n        }\r\n\r\n        const myId = getData(this).config.windowId;\r\n        const controller = getData(this).controller;\r\n\r\n        return controller.getGDWindow(myId);\r\n    }\r\n\r\n    public async moveTo(parent: Glue42Workspaces.Row | Glue42Workspaces.Column | Glue42Workspaces.Group): Promise<void> {\r\n        if (!(parent instanceof Row || parent instanceof Column || parent instanceof Group)) {\r\n            throw new Error(\"Cannot add to the provided parent, because the provided parent is not an instance of Row, Column or Group\");\r\n        }\r\n\r\n        const myId = getData(this).id;\r\n        const controller = getData(this).controller;\r\n\r\n        const foundParent = await controller.getParent((p) => p.id === parent.id);\r\n\r\n        if (!foundParent) {\r\n            throw new Error(\"Cannot move the window to the selected parent, because this parent does not exist.\");\r\n        }\r\n\r\n        await controller.moveWindowTo(myId, parent.id);\r\n\r\n        await this.workspace.refreshReference();\r\n    }\r\n\r\n    public async lock(config?: WorkspaceWindowLockConfig | ((config: WorkspaceWindowLockConfig) => WorkspaceWindowLockConfig)): Promise<void> {\r\n        let lockConfigResult = undefined;\r\n\r\n        if (typeof config === \"function\") {\r\n            const currentLockConfig = {\r\n                allowExtract: this.allowExtract,\r\n                showCloseButton: this.showCloseButton\r\n            };\r\n            lockConfigResult = config(currentLockConfig);\r\n        } else {\r\n            lockConfigResult = config;\r\n        }\r\n\r\n        const verifiedConfig = lockConfigResult === undefined ? undefined : windowLockConfigDecoder.runWithException(lockConfigResult);\r\n        const windowPlacementId = getData(this).id;\r\n        await getData(this).controller.lockWindow(windowPlacementId, verifiedConfig);\r\n        await this.workspace.refreshReference();\r\n    }\r\n\r\n    public async onRemoved(callback: () => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const id = getData(this).id;\r\n        const wrappedCallback = async (): Promise<void> => {\r\n            await this.workspace.refreshReference();\r\n            callback();\r\n        };\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"removed\",\r\n            eventType: \"window\",\r\n            scope: \"window\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\r\n        return unsubscribe;\r\n    }\r\n}\r\n","import { checkThrowCallback, nonEmptyStringDecoder, restoreWorkspaceConfigDecoder, workspaceDefinitionDecoder, workspaceBuilderCreateConfigDecoder, resizeConfigDecoder, moveConfigDecoder } from \"../shared/decoders\";\r\nimport { SubscriptionConfig } from \"../types/subscription\";\r\nimport { PrivateDataManager } from \"../shared/privateDataManager\";\r\nimport { FrameStreamData, WorkspaceStreamData, WindowStreamData } from \"../types/protocol\";\r\nimport { Glue42Workspaces } from \"../../workspaces.d\";\r\nimport { FramePrivateData } from \"../types/privateData\";\r\n\r\ninterface PrivateData {\r\n    manager: PrivateDataManager;\r\n}\r\n\r\nconst data = new WeakMap<Frame, PrivateData>();\r\n\r\nconst getData = (model: Frame): FramePrivateData => {\r\n    return data.get(model).manager.getFrameData(model);\r\n};\r\n\r\nexport class Frame implements Glue42Workspaces.Frame {\r\n\r\n    constructor(dataManager: PrivateDataManager) {\r\n        data.set(this, { manager: dataManager });\r\n    }\r\n\r\n    public get id(): string {\r\n        return getData(this).summary.id;\r\n    }\r\n\r\n    public resize(config: Glue42Workspaces.ResizeConfig): Promise<void> {\r\n        const validatedConfig = resizeConfigDecoder.runWithException(config);\r\n        const myId = getData(this).summary.id;\r\n\r\n        return getData(this).controller.resizeItem(myId, validatedConfig);\r\n    }\r\n\r\n    public move(config: Glue42Workspaces.MoveConfig): Promise<void> {\r\n        const validatedConfig = moveConfigDecoder.runWithException(config);\r\n\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.moveFrame(myId, validatedConfig);\r\n    }\r\n\r\n    public focus(): Promise<void> {\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.focusItem(myId);\r\n    }\r\n\r\n    public async state(): Promise<Glue42Workspaces.FrameState> {\r\n        if (!window.glue42gd) {\r\n            throw new Error(\"State operations are not supported in Glue42 Core\");\r\n        }\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.getFrameState(myId);\r\n    }\r\n\r\n    public async minimize(): Promise<void> {\r\n        if (!window.glue42gd) {\r\n            throw new Error(\"State operations are not supported in Glue42 Core\");\r\n        }\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.changeFrameState(myId, \"minimized\");\r\n    }\r\n\r\n    public async maximize(): Promise<void> {\r\n        if (!window.glue42gd) {\r\n            throw new Error(\"State operations are not supported in Glue42 Core\");\r\n        }\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.changeFrameState(myId, \"maximized\");\r\n    }\r\n\r\n    public async restore(): Promise<void> {\r\n        if (!window.glue42gd) {\r\n            throw new Error(\"State operations are not supported in Glue42 Core\");\r\n        }\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.changeFrameState(myId, \"normal\");\r\n    }\r\n\r\n    public close(): Promise<void> {\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.closeItem(myId);\r\n    }\r\n\r\n    public snapshot(): Promise<Glue42Workspaces.FrameSnapshot> {\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.getSnapshot(myId, \"frame\");\r\n    }\r\n\r\n    public async workspaces(): Promise<Glue42Workspaces.Workspace[]> {\r\n        const controller = getData(this).controller;\r\n        return controller.getWorkspaces((wsp) => wsp.frameId === this.id);\r\n    }\r\n\r\n    public async restoreWorkspace(name: string, options?: Glue42Workspaces.RestoreWorkspaceConfig): Promise<Glue42Workspaces.Workspace> {\r\n        nonEmptyStringDecoder.runWithException(name);\r\n        const validatedOptions = restoreWorkspaceConfigDecoder.runWithException(options);\r\n\r\n        return getData(this).controller.restoreWorkspace(name, validatedOptions);\r\n    }\r\n\r\n    public createWorkspace(definition: Glue42Workspaces.WorkspaceDefinition, config?: Glue42Workspaces.WorkspaceCreateConfig): Promise<Glue42Workspaces.Workspace> {\r\n        const validatedDefinition = workspaceDefinitionDecoder.runWithException(definition);\r\n        const validatedConfig = workspaceBuilderCreateConfigDecoder.runWithException(config);\r\n\r\n        return getData(this).controller.createWorkspace(validatedDefinition, validatedConfig);\r\n    }\r\n\r\n    public async onClosed(callback: (closed: { frameId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (payload: FrameStreamData): void => {\r\n            callback({ frameId: payload.frameSummary.id });\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"closed\",\r\n            eventType: \"frame\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onMaximized(callback: () => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (): void => {\r\n            callback();\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"maximized\",\r\n            eventType: \"frame\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onMinimized(callback: () => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (): void => {\r\n            callback();\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"minimized\",\r\n            eventType: \"frame\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onNormal(callback: () => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (): void => {\r\n            callback();\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"normal\",\r\n            eventType: \"frame\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWorkspaceOpened(callback: (workspace: Glue42Workspaces.Workspace) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = async (payload: WorkspaceStreamData): Promise<void> => {\r\n            const workspace = await getData(this).controller.getWorkspace((wsp) => wsp.id === payload.workspaceSummary.id);\r\n            callback(workspace);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"opened\",\r\n            eventType: \"workspace\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWorkspaceSelected(callback: (workspace: Glue42Workspaces.Workspace) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = async (payload: WorkspaceStreamData): Promise<void> => {\r\n            const workspace = await getData(this).controller.getWorkspace((wsp) => wsp.id === payload.workspaceSummary.id);\r\n            callback(workspace);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"selected\",\r\n            eventType: \"workspace\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWorkspaceClosed(callback: (closed: { frameId: string; workspaceId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (payload: WorkspaceStreamData): void => {\r\n            callback({ frameId: payload.frameSummary.id, workspaceId: payload.workspaceSummary.id });\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"closed\",\r\n            eventType: \"workspace\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWindowAdded(callback: (window: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            const foundParent = await getData(this).controller.getParent((parent) => parent.id === payload.windowSummary.parentId);\r\n            const foundWindow = foundParent.children.find((child) => child.type === \"window\" && child.positionIndex === payload.windowSummary.config.positionIndex);\r\n            callback(foundWindow as Glue42Workspaces.WorkspaceWindow);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"added\",\r\n            eventType: \"window\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWindowRemoved(callback: (removed: { windowId?: string; workspaceId: string; frameId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (payload: WindowStreamData): void => {\r\n            const { windowId, workspaceId, frameId } = payload.windowSummary.config;\r\n            callback({ windowId, workspaceId, frameId });\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"removed\",\r\n            eventType: \"window\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWindowLoaded(callback: (window: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            const foundParent = await getData(this).controller.getParent((parent) => {\r\n                return parent.id === payload.windowSummary.parentId;\r\n            });\r\n            const foundWindow = foundParent.children.find((child) => child.type === \"window\" && child.positionIndex === payload.windowSummary.config.positionIndex);\r\n            callback(foundWindow as Glue42Workspaces.WorkspaceWindow);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"loaded\",\r\n            eventType: \"window\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n}\r\n","import { Row } from \"../models/row\";\r\nimport { Column } from \"../models/column\";\r\nimport { Group } from \"../models/group\";\r\nimport { ParentPrivateData, WorkspacePrivateData, WindowPrivateData, FramePrivateData, RemapChildData, RemapWorkspaceData } from \"../types/privateData\";\r\nimport { Workspace } from \"../models/workspace\";\r\nimport { Window } from \"../models/window\";\r\nimport { Frame } from \"../models/frame\";\r\nimport { SwimlaneWindowSnapshotConfig, ParentSnapshotConfig, FrameSummaryResult } from \"../types/protocol\";\r\nimport { Child, SubParentTypes } from \"../types/builders\";\r\n\r\nexport class PrivateDataManager {\r\n    private readonly parentsData = new WeakMap<SubParentTypes, ParentPrivateData>();\r\n    private readonly workspacesData = new WeakMap<Workspace, WorkspacePrivateData>();\r\n    private readonly windowsData = new WeakMap<Window, WindowPrivateData>();\r\n    private readonly framesData = new WeakMap<Frame, FramePrivateData>();\r\n    // Without this collection there is no way to get a window instance before its loaded\r\n    // e.g addWindow returns a window however this window doesn't have a placement id needed for force load\r\n    private readonly windowPlacementIdData: { [key: string]: Window } = {};\r\n\r\n    public deleteData<T>(model: T): void {\r\n        if (model instanceof Window) {\r\n            const keyForDeleting =\r\n                Object.keys(this.windowPlacementIdData)\r\n                    .find((k) => this.windowPlacementIdData[k] === model);\r\n\r\n            if (keyForDeleting) {\r\n                delete this.windowPlacementIdData[keyForDeleting];\r\n            }\r\n\r\n            this.windowsData.delete(model);\r\n        }\r\n\r\n        if (model instanceof Workspace) {\r\n            this.workspacesData.delete(model);\r\n        }\r\n\r\n        if (model instanceof Row || model instanceof Column || model instanceof Group) {\r\n            this.parentsData.delete(model);\r\n        }\r\n\r\n        if (model instanceof Frame) {\r\n            this.framesData.delete(model);\r\n        }\r\n    }\r\n\r\n    public setWindowData(model: Window, data: WindowPrivateData): void {\r\n\r\n        this.windowPlacementIdData[data.id] = model;\r\n        this.windowsData.set(model, data);\r\n    }\r\n\r\n    public setWorkspaceData(model: Workspace, data: WorkspacePrivateData): void {\r\n        this.workspacesData.set(model, data);\r\n    }\r\n\r\n    public setParentData(model: SubParentTypes, data: ParentPrivateData): void {\r\n        this.parentsData.set(model, data);\r\n    }\r\n\r\n    public setFrameData(model: Frame, data: FramePrivateData): void {\r\n        this.framesData.set(model, data);\r\n    }\r\n\r\n    public getWindowData(model: Window): WindowPrivateData {\r\n        return this.windowsData.get(model);\r\n    }\r\n\r\n    public getWindowByPlacementId(placementId: string): Window {\r\n        return this.windowPlacementIdData[placementId];\r\n    }\r\n\r\n    public getWorkspaceData(model: Workspace): WorkspacePrivateData {\r\n        return this.workspacesData.get(model);\r\n    }\r\n\r\n    public getParentData(model: SubParentTypes): ParentPrivateData {\r\n        return this.parentsData.get(model);\r\n    }\r\n\r\n    public getFrameData(model: Frame): FramePrivateData {\r\n        return this.framesData.get(model);\r\n    }\r\n\r\n    public remapChild(model: Child, newData: RemapChildData): void {\r\n        if (model instanceof Window) {\r\n            const data = this.windowsData.get(model);\r\n            data.parent = newData.parent || data.parent;\r\n            data.config = newData.config as SwimlaneWindowSnapshotConfig || data.config;\r\n        }\r\n\r\n        if (model instanceof Row || model instanceof Column || model instanceof Group) {\r\n            const data = this.parentsData.get(model);\r\n            data.parent = newData.parent || data.parent;\r\n            data.config = newData.config as ParentSnapshotConfig || data.config;\r\n            data.children = newData.children || data.children;\r\n        }\r\n    }\r\n\r\n    public remapFrame(model: Frame, newData: FrameSummaryResult): void {\r\n        const data = this.framesData.get(model);\r\n        data.summary = newData;\r\n    }\r\n\r\n    public remapWorkspace(model: Workspace, newData: RemapWorkspaceData): void {\r\n        const data = this.workspacesData.get(model);\r\n        data.frame = newData.frame || data.frame;\r\n        data.config = newData.config || data.config;\r\n        data.children = newData.children || data.children;\r\n    }\r\n}\r\n","import { Workspace } from \"../workspace\";\r\nimport { ParentBuilder } from \"../../builders/parentBuilder\";\r\nimport { strictParentDefinitionDecoder, swimlaneWindowDefinitionDecoder, checkThrowCallback } from \"../../shared/decoders\";\r\nimport { SubParent, AllParentTypes, Child, SubParentTypes, AllParent, ContainerLockConfig } from \"../../types/builders\";\r\nimport { PrivateDataManager } from \"../../shared/privateDataManager\";\r\nimport { ParentPrivateData, WorkspacePrivateData } from \"../../types/privateData\";\r\nimport { Window } from \"../../models/window\";\r\nimport { Glue42Workspaces } from \"../../../workspaces\";\r\nimport { Group } from \"../group\";\r\n\r\ninterface PrivateData {\r\n    manager: PrivateDataManager;\r\n}\r\n\r\nconst data = new WeakMap<Base, PrivateData>();\r\n\r\nconst getData = (base: Base, model: AllParentTypes): WorkspacePrivateData | ParentPrivateData => {\r\n    const manager = data.get(base).manager;\r\n\r\n    if (model instanceof Workspace) {\r\n        return manager.getWorkspaceData(model);\r\n    }\r\n\r\n    return data.get(base).manager.getParentData(model as SubParentTypes);\r\n};\r\n\r\nconst getWindowFromPlacementId = (base: Base, placemenId: string): Window => {\r\n    const manager = data.get(base).manager;\r\n\r\n    return manager.getWindowByPlacementId(placemenId);\r\n};\r\n\r\nexport class Base {\r\n    public frameId: string;\r\n    public workspaceId: string;\r\n    public positionIndex: number;\r\n\r\n    constructor(dataManager: PrivateDataManager) {\r\n        data.set(this, { manager: dataManager });\r\n    }\r\n\r\n    public getId(model: AllParentTypes): string {\r\n        return getData(this, model).id;\r\n    }\r\n\r\n    public getPositionIndex(model: AllParentTypes): number {\r\n        return getData(this, model).config.positionIndex;\r\n    }\r\n\r\n    public getWorkspaceId(model: AllParentTypes): string {\r\n        const privateData = getData(this, model) as ParentPrivateData;\r\n        return privateData.config.workspaceId || privateData.workspace.id;\r\n    }\r\n\r\n    public getFrameId(model: AllParentTypes): string {\r\n        return getData(this, model).frame.id;\r\n    }\r\n\r\n    public getAllChildren(model: AllParentTypes, predicate?: (child: Child) => boolean): Child[] {\r\n        checkThrowCallback(predicate, true);\r\n        const children = getData(this, model).children;\r\n\r\n        if (typeof predicate === \"undefined\") {\r\n            return children;\r\n        }\r\n\r\n        return children.filter(predicate);\r\n    }\r\n\r\n    public getMyParent(model: AllParentTypes): AllParentTypes {\r\n        if (model instanceof Workspace) {\r\n            return;\r\n        }\r\n        return (getData(this, model) as ParentPrivateData).parent;\r\n    }\r\n\r\n    public getMyFrame(model: AllParentTypes): Glue42Workspaces.Frame {\r\n        return getData(this, model).frame;\r\n    }\r\n\r\n    public getMyWorkspace(model: AllParentTypes): Workspace {\r\n        if (model instanceof Workspace) {\r\n            return;\r\n        }\r\n        return (getData(this, model) as ParentPrivateData).workspace;\r\n    }\r\n\r\n    public async addWindow(model: AllParentTypes, definition: Glue42Workspaces.WorkspaceWindowDefinition, parentType: AllParent): Promise<Glue42Workspaces.WorkspaceWindow> {\r\n        if (!definition.appName && !definition.windowId) {\r\n            throw new Error(\"The window definition should contain either an appName or a windowId\");\r\n        }\r\n\r\n        const validatedDefinition = swimlaneWindowDefinitionDecoder.runWithException(definition);\r\n        const controller = getData(this, model).controller;\r\n\r\n        const operationResult = await controller.add(\"window\", getData(this, model).id, parentType, validatedDefinition);\r\n\r\n        if (model instanceof Workspace) {\r\n            await model.refreshReference();\r\n            return getWindowFromPlacementId(this, operationResult.itemId);\r\n        }\r\n\r\n        await this.getMyWorkspace(model).refreshReference();\r\n\r\n        return getWindowFromPlacementId(this, operationResult.itemId);\r\n    }\r\n\r\n    public async addParent<T>(model: AllParentTypes, typeToAdd: SubParent, parentType: AllParent, definition?: Glue42Workspaces.BoxDefinition | ParentBuilder): Promise<T> {\r\n        const parentDefinition = this.transformDefinition(typeToAdd, definition);\r\n        const controller = getData(this, model).controller;\r\n\r\n        const newParentId = (await controller.add(\"container\", getData(this, model).id, parentType, parentDefinition)).itemId;\r\n\r\n        if (model instanceof Workspace) {\r\n            await model.refreshReference();\r\n            return model.getBox((parent) => parent.id === newParentId) as unknown as T;\r\n        }\r\n\r\n        const myWorkspace = this.getMyWorkspace(model);\r\n        await myWorkspace.refreshReference();\r\n\r\n        return myWorkspace.getBox((parent) => parent.id === newParentId) as unknown as T;\r\n    }\r\n\r\n    public async removeChild(model: AllParentTypes, predicate: (child: Child) => boolean): Promise<void> {\r\n        checkThrowCallback(predicate);\r\n        const child = this.getAllChildren(model).find(predicate);\r\n        if (!child) {\r\n            return;\r\n        }\r\n\r\n        await child.close();\r\n\r\n        if (model instanceof Workspace) {\r\n\r\n            await model.refreshReference();\r\n            return;\r\n        }\r\n\r\n        await this.getMyWorkspace(model).refreshReference();\r\n    }\r\n\r\n    public async maximize(model: AllParentTypes): Promise<void> {\r\n        const controller = getData(this, model).controller;\r\n\r\n        await controller.maximizeItem(getData(this, model).id);\r\n    }\r\n\r\n    public async restore(model: AllParentTypes): Promise<void> {\r\n        const controller = getData(this, model).controller;\r\n\r\n        await controller.restoreItem(getData(this, model).id);\r\n    }\r\n\r\n    public async close(model: SubParentTypes): Promise<void> {\r\n        const modelData = getData(this, model) as ParentPrivateData;\r\n\r\n        const controller = getData(this, model).controller;\r\n\r\n        await controller.closeItem(modelData.id);\r\n\r\n        if (modelData.parent instanceof Workspace) {\r\n            await modelData.parent.refreshReference();\r\n        } else {\r\n            await this.getMyWorkspace(modelData.parent).refreshReference();\r\n        }\r\n    }\r\n\r\n    public async lockContainer(model: SubParentTypes, config?: ContainerLockConfig) {\r\n        const modelData = getData(this, model) as ParentPrivateData;\r\n\r\n        const controller = getData(this, model).controller;\r\n\r\n        await controller.lockContainer(modelData.id, model.type, config);\r\n\r\n        if (modelData.parent instanceof Workspace) {\r\n            await modelData.parent.refreshReference();\r\n        } else {\r\n            await this.getMyWorkspace(modelData.parent).refreshReference();\r\n        }\r\n    }\r\n\r\n    public getAllowDrop(model: SubParentTypes) {\r\n        return getData(this, model).config.allowDrop;\r\n    }\r\n\r\n    public getAllowExtract(model: Group) {\r\n        const privateData = getData(this, model);\r\n        if (privateData.type !== \"group\") {\r\n            throw new Error(`Cannot get allow extract from private data${privateData.type} with config ${privateData.type !== \"workspace\" ? privateData.config.type : \"\"}`);\r\n        }\r\n        return privateData.config.allowExtract;\r\n    }\r\n\r\n    public getShowMaximizeButton(model: Group) {\r\n        const privateData = getData(this, model);\r\n        if (privateData.type !== \"group\") {\r\n            throw new Error(`Cannot get show maximize button from private data${privateData.type} with config ${privateData.type !== \"workspace\" ? privateData.config.type : \"\"}`);\r\n        }\r\n        return privateData.config.showMaximizeButton;\r\n    }\r\n\r\n    public getShowEjectButton(model: Group) {\r\n        const privateData = getData(this, model);\r\n        if (privateData.type !== \"group\") {\r\n            throw new Error(`Cannot get show eject button from private data${privateData.type} with config ${privateData.type !== \"workspace\" ? privateData.config.type : \"\"}`);\r\n        }\r\n        return privateData.config.showEjectButton;\r\n    }\r\n\r\n    public getShowAddWindowButton(model: Group) {\r\n        const privateData = getData(this, model);\r\n        if (privateData.type !== \"group\") {\r\n            throw new Error(`Cannot get add window button from private data${privateData.type} with config ${privateData.type !== \"workspace\" ? privateData.config.type : \"\"}`);\r\n        }\r\n        return privateData.config.showAddWindowButton;\r\n    }\r\n\r\n    private transformDefinition(type: \"group\" | \"row\" | \"column\", definition?: Glue42Workspaces.BoxDefinition | ParentBuilder): Glue42Workspaces.BoxDefinition {\r\n        let parentDefinition: Glue42Workspaces.BoxDefinition;\r\n\r\n        if (typeof definition === \"undefined\") {\r\n            parentDefinition = { type, children: [] };\r\n        } else if (definition instanceof ParentBuilder) {\r\n            parentDefinition = definition.serialize();\r\n        } else {\r\n            if (typeof definition.type === \"undefined\") {\r\n                definition.type = type;\r\n            }\r\n            parentDefinition = strictParentDefinitionDecoder.runWithException(definition);\r\n            parentDefinition.children = parentDefinition.children || [];\r\n        }\r\n\r\n        return parentDefinition;\r\n    }\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Workspace } from \"../models/workspace\";\r\nimport { WorkspaceSnapshotResult, WorkspaceCreateConfigProtocol, FrameSummaryResult, AddItemResult, WorkspaceSummariesResult, WorkspaceSummaryResult, SimpleWindowOperationSuccessResult, FrameSnapshotResult } from \"../types/protocol\";\r\nimport { OPERATIONS } from \"../communication/constants\";\r\nimport { FrameCreateConfig, WorkspaceIoCCreateConfig, WindowCreateConfig, ParentCreateConfig } from \"../types/ioc\";\r\nimport { IoC } from \"../shared/ioc\";\r\nimport { Bridge } from \"../communication/bridge\";\r\nimport { GDWindow, WindowsAPI, ContextsAPI, LayoutsAPI } from \"../types/glue\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { Frame } from \"../models/frame\";\r\nimport { RefreshChildrenConfig } from \"../types/privateData\";\r\nimport { AllParentTypes, Child, ContainerLockConfig, SubParentTypes } from \"../types/builders\";\r\nimport { PrivateDataManager } from \"../shared/privateDataManager\";\r\nimport { Window } from \"../models/window\";\r\nimport { UnsubscribeFunction } from \"callback-registry\";\r\nimport { WorkspaceLockConfig, WorkspaceWindowLockConfig } from \"../types/temp\";\r\n\r\nexport class BaseController {\r\n\r\n    constructor(\r\n        private readonly ioc: IoC,\r\n        private readonly windows: WindowsAPI,\r\n        private readonly contexts: ContextsAPI,\r\n        private readonly layouts: LayoutsAPI,\r\n    ) { }\r\n\r\n    private get bridge(): Bridge {\r\n        return this.ioc.bridge;\r\n    }\r\n\r\n    private get privateDataManager(): PrivateDataManager {\r\n        return this.ioc.privateDataManager;\r\n    }\r\n\r\n    public checkIsWindowLoaded(windowId: string): boolean {\r\n        return windowId && this.windows.list().some((win) => win.id === windowId);\r\n    }\r\n\r\n    public async createWorkspace(createConfig: WorkspaceCreateConfigProtocol): Promise<Workspace> {\r\n        const snapshot = await this.bridge.send<WorkspaceSnapshotResult>(OPERATIONS.createWorkspace.name, createConfig);\r\n\r\n        const frameConfig: FrameCreateConfig = {\r\n            summary: snapshot.frameSummary\r\n        };\r\n        const frame = this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n        const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n        return this.ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n    }\r\n\r\n    public async restoreWorkspace(name: string, options: Glue42Workspaces.RestoreWorkspaceConfig): Promise<Workspace> {\r\n        const snapshot = await this.bridge.send<WorkspaceSnapshotResult>(OPERATIONS.openWorkspace.name, { name, restoreOptions: options });\r\n\r\n        const frameSummary = await this.bridge.send<FrameSummaryResult>(OPERATIONS.getFrameSummary.name, { itemId: snapshot.config.frameId });\r\n\r\n        const frameConfig: FrameCreateConfig = {\r\n            summary: frameSummary\r\n        };\r\n        const frame = this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n        const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n        return this.ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n    }\r\n\r\n    public async add(type: \"container\" | \"window\", parentId: string, parentType: \"row\" | \"column\" | \"group\" | \"workspace\", definition: Glue42Workspaces.WorkspaceWindowDefinition | Glue42Workspaces.BoxDefinition): Promise<AddItemResult> {\r\n        let operationName: string;\r\n        const operationArgs = { definition, parentId, parentType };\r\n\r\n        if (type === \"window\") {\r\n            operationName = OPERATIONS.addWindow.name;\r\n        } else if (type === \"container\") {\r\n            operationName = OPERATIONS.addContainer.name;\r\n        } else {\r\n            throw new Error(`Unrecognized add type: ${type}`);\r\n        }\r\n\r\n        return await this.bridge.send<AddItemResult>(operationName, operationArgs);\r\n    }\r\n\r\n    public async getFrame(windowId: string): Promise<Frame> {\r\n        const frameSummary = await this.bridge.send<FrameSummaryResult>(OPERATIONS.getFrameSummary.name, { itemId: windowId });\r\n\r\n        const frameConfig: FrameCreateConfig = {\r\n            summary: frameSummary\r\n        };\r\n        return this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n    }\r\n\r\n    public getFrames(allFrameSummaries: FrameSummaryResult[], predicate?: (frame: Frame) => boolean): Frame[] {\r\n\r\n        return allFrameSummaries.reduce<Frame[]>((frames, frameSummary) => {\r\n\r\n            const frameConfig: FrameCreateConfig = {\r\n                summary: frameSummary\r\n            };\r\n            const frameToCheck = this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n            if (!predicate || predicate(frameToCheck)) {\r\n                frames.push(frameToCheck);\r\n            }\r\n\r\n            return frames;\r\n        }, []);\r\n    }\r\n\r\n    public getAllWorkspaceSummaries(...bridgeResults: WorkspaceSummariesResult[]): Glue42Workspaces.WorkspaceSummary[] {\r\n\r\n        const allSummaries = bridgeResults.reduce<WorkspaceSummaryResult[]>((summaries, summaryResult) => {\r\n            summaries.push(...summaryResult.summaries);\r\n            return summaries;\r\n        }, []);\r\n\r\n        return allSummaries.map<Glue42Workspaces.WorkspaceSummary>((summary) => {\r\n            return {\r\n                id: summary.id,\r\n                frameId: summary.config.frameId,\r\n                positionIndex: summary.config.positionIndex,\r\n                title: summary.config.title,\r\n                layoutName: summary.config.layoutName\r\n            };\r\n        });\r\n    }\r\n\r\n    public handleOnSaved(callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): UnsubscribeFunction {\r\n        const wrappedCallback = (layout: Glue42Workspaces.WorkspaceLayout): void => {\r\n            if (layout.type !== \"Workspace\") {\r\n                return;\r\n            }\r\n\r\n            callback(layout);\r\n        };\r\n\r\n        const addedUnSub: UnsubscribeFunction = this.layouts.onAdded(wrappedCallback);\r\n        const changedUnSub: UnsubscribeFunction = this.layouts.onChanged(wrappedCallback);\r\n\r\n        return (): void => {\r\n            addedUnSub();\r\n            changedUnSub();\r\n        };\r\n    }\r\n\r\n    public handleOnRemoved(callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): UnsubscribeFunction {\r\n        const wrappedCallback = (layout: Glue42Workspaces.WorkspaceLayout): void => {\r\n            if (layout.type !== \"Workspace\") {\r\n                return;\r\n            }\r\n\r\n            callback(layout);\r\n        };\r\n\r\n        return this.layouts.onRemoved(wrappedCallback);\r\n    }\r\n\r\n    public async fetchWorkspace(workspaceId: string): Promise<Workspace> {\r\n\r\n        const snapshot = await this.bridge.send<WorkspaceSnapshotResult>(OPERATIONS.getWorkspaceSnapshot.name, { itemId: workspaceId });\r\n\r\n        const frameConfig: FrameCreateConfig = {\r\n            summary: snapshot.frameSummary\r\n        };\r\n\r\n        const frame = this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n        const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n        return this.ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n\r\n    }\r\n\r\n    public async bundleTo(type: \"row\" | \"column\", workspaceId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.bundleWorkspace.name, { type, workspaceId });\r\n    }\r\n\r\n    public getWorkspaceContext(workspaceId: string): Promise<any> {\r\n        const contextName = `___workspace___${workspaceId}`;\r\n        return this.contexts.get(contextName);\r\n    }\r\n\r\n    public setWorkspaceContext(workspaceId: string, data: any): Promise<void> {\r\n        const contextName = `___workspace___${workspaceId}`;\r\n        return this.contexts.set(contextName, data);\r\n    }\r\n\r\n    public updateWorkspaceContext(workspaceId: string, data: any): Promise<void> {\r\n        const contextName = `___workspace___${workspaceId}`;\r\n        return this.contexts.update(contextName, data);\r\n    }\r\n\r\n    public subscribeWorkspaceContextUpdated(workspaceId: string, callback: (data: any) => void): Promise<UnsubscribeFunction> {\r\n        const contextName = `___workspace___${workspaceId}`;\r\n        return this.contexts.subscribe(contextName, callback);\r\n    }\r\n\r\n    public async restoreItem(itemId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.restoreItem.name, { itemId });\r\n    }\r\n\r\n    public async maximizeItem(itemId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.maximizeItem.name, { itemId });\r\n    }\r\n\r\n    public async focusItem(itemId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.focusItem.name, { itemId });\r\n    }\r\n\r\n    public async closeItem(itemId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.closeItem.name, { itemId });\r\n    }\r\n\r\n    public async resizeItem(itemId: string, config: Glue42Workspaces.ResizeConfig): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.resizeItem.name, Object.assign({}, { itemId }, config));\r\n    }\r\n\r\n    public async moveFrame(itemId: string, config: Glue42Workspaces.MoveConfig): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.moveFrame.name, Object.assign({}, { itemId }, config));\r\n    }\r\n\r\n    public getGDWindow(itemId: string): GDWindow {\r\n        return this.windows.list().find((gdWindow) => gdWindow.id === itemId);\r\n    }\r\n\r\n    public async forceLoadWindow(itemId: string): Promise<string> {\r\n        const controlResult = await this.bridge.send<SimpleWindowOperationSuccessResult>(OPERATIONS.forceLoadWindow.name, { itemId });\r\n\r\n        return controlResult.windowId;\r\n    }\r\n\r\n    public async ejectWindow(itemId: string): Promise<SimpleWindowOperationSuccessResult> {\r\n        return await this.bridge.send<SimpleWindowOperationSuccessResult>(OPERATIONS.ejectWindow.name, { itemId });\r\n    }\r\n\r\n    public async moveWindowTo(itemId: string, newParentId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.moveWindowTo.name, { itemId, containerId: newParentId });\r\n    }\r\n\r\n    public async getSnapshot(itemId: string, type: \"workspace\" | \"frame\"): Promise<WorkspaceSnapshotResult | FrameSnapshotResult> {\r\n        let result: WorkspaceSnapshotResult | FrameSnapshotResult;\r\n\r\n        if (type === \"workspace\") {\r\n            result = await this.bridge.send<WorkspaceSnapshotResult>(OPERATIONS.getWorkspaceSnapshot.name, { itemId });\r\n        } else if (type === \"frame\") {\r\n            result = await this.bridge.send<FrameSnapshotResult>(OPERATIONS.getFrameSnapshot.name, { itemId });\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    public async setItemTitle(itemId: string, title: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.setItemTitle.name, { itemId, title });\r\n    }\r\n\r\n    public refreshChildren(config: RefreshChildrenConfig): Child[] {\r\n        const { parent, children, existingChildren, workspace } = config;\r\n        if (parent instanceof Window || (parent as Glue42Workspaces.WorkspaceWindow).type === \"window\") {\r\n            return;\r\n        }\r\n\r\n        const newChildren = children.map((newChildSnapshot) => {\r\n            let childToAdd = existingChildren.find((child) => {\r\n                return child.type === \"window\" ? child.elementId === newChildSnapshot.id : child.id === newChildSnapshot.id;\r\n            });\r\n\r\n            if (childToAdd) {\r\n                this.privateDataManager.remapChild(childToAdd, {\r\n                    parent: parent as AllParentTypes,\r\n                    children: [],\r\n                    config: newChildSnapshot.config\r\n                });\r\n            } else {\r\n                let createConfig: WindowCreateConfig | ParentCreateConfig;\r\n                \r\n                if (newChildSnapshot.type === \"window\") {\r\n                    createConfig = {\r\n                        id: newChildSnapshot.id,\r\n                        parent: parent as AllParentTypes,\r\n                        frame: workspace.frame,\r\n                        workspace,\r\n                        config: newChildSnapshot.config,\r\n                    } as WindowCreateConfig;\r\n                } else {\r\n                    createConfig = {\r\n                        id: newChildSnapshot.id,\r\n                        parent: parent as AllParentTypes,\r\n                        frame: workspace.frame,\r\n                        workspace,\r\n                        config: newChildSnapshot.config,\r\n                        children: []\r\n                    } as ParentCreateConfig;\r\n                }\r\n\r\n                childToAdd = this.ioc.getModel<\"child\">(newChildSnapshot.type, createConfig);\r\n            }\r\n\r\n            if (newChildSnapshot.type !== \"window\") {\r\n                this.refreshChildren({\r\n                    workspace, existingChildren,\r\n                    children: newChildSnapshot.children,\r\n                    parent: childToAdd\r\n                });\r\n            }\r\n\r\n            return childToAdd;\r\n        });\r\n\r\n        if (parent instanceof Workspace) {\r\n            return newChildren;\r\n        } else {\r\n            this.privateDataManager.remapChild(parent as SubParentTypes, { children: newChildren });\r\n            return newChildren;\r\n        }\r\n    }\r\n\r\n    public iterateFindChild(children: Child[], predicate: (child: Child) => boolean): Child {\r\n        let foundChild = children.find((child) => predicate(child));\r\n\r\n        if (foundChild) {\r\n            return foundChild;\r\n        }\r\n\r\n        children.some((child) => {\r\n            if (child instanceof Window) {\r\n                return false;\r\n            }\r\n\r\n            foundChild = this.iterateFindChild((child as SubParentTypes).children, predicate);\r\n\r\n            if (foundChild) {\r\n                return true;\r\n            }\r\n        });\r\n\r\n        return foundChild;\r\n    }\r\n\r\n    public iterateFilterChildren(children: Child[], predicate: (child: Child) => boolean): Child[] {\r\n        const foundChildren = children.filter((child) => predicate(child));\r\n\r\n        const grandChildren = children.reduce<Child[]>((innerFound, child) => {\r\n            if (child instanceof Window) {\r\n                return innerFound;\r\n            }\r\n\r\n            innerFound.push(...this.iterateFilterChildren((child as SubParentTypes).children, predicate));\r\n\r\n            return innerFound;\r\n        }, []);\r\n\r\n        foundChildren.push(...grandChildren);\r\n\r\n        return foundChildren;\r\n    }\r\n\r\n    public notifyWindowAdded(windowId: string): Promise<void> {\r\n        return new Promise((resolve) => {\r\n\r\n            const alreadyPresent: boolean = this.windows.list().some((win) => win.id === windowId);\r\n\r\n            if (alreadyPresent) {\r\n                return resolve();\r\n            }\r\n\r\n            const unsubscribe: UnsubscribeFunction = this.windows.onWindowAdded((win) => {\r\n\r\n                if (win.id !== windowId) {\r\n                    return;\r\n                }\r\n\r\n                if (unsubscribe) {\r\n                    unsubscribe();\r\n                }\r\n\r\n                resolve();\r\n            });\r\n        });\r\n    }\r\n\r\n    public async hibernateWorkspace(workspaceId: string): Promise<void> {\r\n        await this.bridge.send<void>(OPERATIONS.hibernateWorkspace.name, { workspaceId });\r\n    }\r\n\r\n    public async resumeWorkspace(workspaceId: string): Promise<void> {\r\n        await this.bridge.send<void>(OPERATIONS.resumeWorkspace.name, { workspaceId });\r\n    }\r\n\r\n    public async lockWorkspace(workspaceId: string, config?: WorkspaceLockConfig): Promise<void> {\r\n        await this.bridge.send<void>(OPERATIONS.lockWorkspace.name, { workspaceId, config });\r\n    }\r\n\r\n    public async lockWindow(windowPlacementId: string, config?: WorkspaceWindowLockConfig): Promise<void> {\r\n        await this.bridge.send<void>(OPERATIONS.lockWindow.name, { windowPlacementId, config });\r\n    }\r\n\r\n    public async lockContainer(itemId: string, type: SubParentTypes[\"type\"], config?: ContainerLockConfig): Promise<void> {\r\n        await this.bridge.send<void>(OPERATIONS.lockContainer.name, { itemId, type, config });\r\n    }\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Bridge } from \"../communication/bridge\";\r\nimport { IsWindowInSwimlaneResult, WorkspaceCreateConfigProtocol, WorkspaceSnapshotResult, FrameSummariesResult, WorkspaceSummariesResult, LayoutSummariesResult, ExportedLayoutsResult, FrameSnapshotResult, AddItemResult, WindowStreamData, FrameStateResult } from \"../types/protocol\";\r\nimport { OPERATIONS } from \"../communication/constants\";\r\nimport { SubscriptionConfig, WorkspaceEventType, WorkspaceEventAction } from \"../types/subscription\";\r\nimport { Workspace } from \"../models/workspace\";\r\nimport { Frame } from \"../models/frame\";\r\nimport { Child, ContainerLockConfig, SubParentTypes } from \"../types/builders\";\r\nimport { RefreshChildrenConfig } from \"../types/privateData\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { WorkspacesController } from \"../types/controller\";\r\nimport { GDWindow } from \"../types/glue\";\r\nimport { BaseController } from \"./base\";\r\nimport { UnsubscribeFunction } from \"callback-registry\";\r\nimport { WorkspaceLockConfig, WorkspaceWindowLockConfig } from \"../types/temp\";\r\n\r\nexport class MainController implements WorkspacesController {\r\n\r\n    constructor(\r\n        private readonly bridge: Bridge,\r\n        private readonly base: BaseController\r\n    ) { }\r\n\r\n    public checkIsWindowLoaded(windowId: string): boolean {\r\n        return this.base.checkIsWindowLoaded(windowId);\r\n    }\r\n\r\n    public async checkIsInSwimlane(windowId: string): Promise<boolean> {\r\n\r\n        const controlResult = await this.bridge.send<IsWindowInSwimlaneResult>(OPERATIONS.isWindowInWorkspace.name, { itemId: windowId });\r\n\r\n        return controlResult.inWorkspace;\r\n    }\r\n\r\n    public async createWorkspace(definition: Glue42Workspaces.WorkspaceDefinition, saveConfig?: Glue42Workspaces.WorkspaceCreateConfig): Promise<Workspace> {\r\n        const createConfig: WorkspaceCreateConfigProtocol = Object.assign({}, definition, { saveConfig });\r\n\r\n        return await this.base.createWorkspace(createConfig);\r\n    }\r\n\r\n    public async restoreWorkspace(name: string, options?: Glue42Workspaces.RestoreWorkspaceConfig): Promise<Workspace> {\r\n        const allLayouts = await this.getLayoutSummaries();\r\n\r\n        const layoutExists = allLayouts.some((summary) => summary.name === name);\r\n\r\n        if (!layoutExists) {\r\n            throw new Error(`This layout: ${name} cannot be restored, because it doesn't exist.`);\r\n        }\r\n\r\n        if (options?.frameId) {\r\n            const allFrameSummaries = await this.bridge.send<FrameSummariesResult>(OPERATIONS.getAllFramesSummaries.name);\r\n\r\n            const foundMatchingFrame = allFrameSummaries.summaries.some((summary) => summary.id === options.frameId);\r\n\r\n            if (!foundMatchingFrame) {\r\n                throw new Error(`Cannot reuse the frame with id: ${options.frameId}, because there is no frame with that ID found`);\r\n            }\r\n        }\r\n\r\n        return await this.base.restoreWorkspace(name, options);\r\n    }\r\n\r\n    public async add(type: \"container\" | \"window\", parentId: string, parentType: \"row\" | \"column\" | \"group\" | \"workspace\", definition: Glue42Workspaces.WorkspaceWindowDefinition | Glue42Workspaces.BoxDefinition): Promise<AddItemResult> {\r\n        return await this.base.add(type, parentId, parentType, definition);\r\n    }\r\n\r\n    public processLocalSubscription(config: SubscriptionConfig, levelId: string): Promise<Glue42Workspaces.Unsubscribe> {\r\n        return window.glue42gd ?\r\n            this.handleEnterpriseLocalSubscription(config, levelId) :\r\n            this.handleCoreLocalSubscription(config, levelId);\r\n    }\r\n\r\n    public processGlobalSubscription(callback: (callbackData: unknown) => void, eventType: WorkspaceEventType, action: WorkspaceEventAction): Promise<Glue42Workspaces.Unsubscribe> {\r\n        return window.glue42gd ?\r\n            this.handleEnterpriseGlobalSubscription(callback, eventType, action) :\r\n            this.handleCoreGlobalSubscription(callback, eventType, action);\r\n    }\r\n\r\n    public async getFrame(selector: { windowId?: string; predicate?: (frame: Frame) => boolean }): Promise<Frame> {\r\n\r\n        if (selector.windowId) {\r\n            return await this.base.getFrame(selector.windowId);\r\n        }\r\n\r\n        if (selector.predicate) {\r\n            return (await this.getFrames(selector.predicate))[0];\r\n        }\r\n\r\n        throw new Error(`The provided selector is not valid: ${JSON.stringify(selector)}`);\r\n    }\r\n\r\n    public async getFrames(predicate?: (frame: Frame) => boolean): Promise<Frame[]> {\r\n\r\n        const allFrameSummaries = await this.bridge.send<FrameSummariesResult>(OPERATIONS.getAllFramesSummaries.name);\r\n\r\n        return this.base.getFrames(allFrameSummaries.summaries, predicate);\r\n    }\r\n\r\n    public async getWorkspace(predicate: (workspace: Workspace) => boolean): Promise<Workspace> {\r\n        let foundWorkspace: Workspace;\r\n\r\n        await this.iterateWorkspaces((wsp, end) => {\r\n            if (predicate(wsp)) {\r\n                foundWorkspace = wsp;\r\n                end();\r\n            }\r\n        });\r\n\r\n        return foundWorkspace;\r\n    }\r\n\r\n    public async getWorkspaces(predicate?: (workspace: Workspace) => boolean): Promise<Workspace[]> {\r\n        const matchingWorkspaces: Workspace[] = [] as Workspace[];\r\n\r\n        await this.iterateWorkspaces((wsp) => {\r\n            if (!predicate || predicate(wsp)) {\r\n                matchingWorkspaces.push(wsp);\r\n            }\r\n        });\r\n\r\n        return matchingWorkspaces;\r\n    }\r\n\r\n    public async getAllWorkspaceSummaries(): Promise<Glue42Workspaces.WorkspaceSummary[]> {\r\n\r\n        const allSummariesResult = await this.bridge.send<WorkspaceSummariesResult>(OPERATIONS.getAllWorkspacesSummaries.name, {});\r\n\r\n        return this.base.getAllWorkspaceSummaries(allSummariesResult);\r\n    }\r\n\r\n    public async getWindow(predicate: (swimlaneWindow: Glue42Workspaces.WorkspaceWindow) => boolean): Promise<Glue42Workspaces.WorkspaceWindow> {\r\n        let resultWindow: Glue42Workspaces.WorkspaceWindow;\r\n\r\n        await this.iterateWorkspaces((wsp, end) => {\r\n            const foundWindow = wsp.getWindow(predicate);\r\n\r\n            if (foundWindow) {\r\n                resultWindow = foundWindow;\r\n                end();\r\n            }\r\n        });\r\n\r\n        return resultWindow;\r\n    }\r\n\r\n    public async getParent(predicate: (parent: Glue42Workspaces.WorkspaceBox) => boolean): Promise<Glue42Workspaces.WorkspaceBox> {\r\n        let resultParent: Glue42Workspaces.WorkspaceBox;\r\n\r\n        await this.iterateWorkspaces((wsp, end) => {\r\n\r\n            const foundParent = wsp.getBox(predicate);\r\n\r\n            if (foundParent) {\r\n                resultParent = foundParent;\r\n                end();\r\n            }\r\n        });\r\n\r\n        return resultParent;\r\n    }\r\n\r\n    public async getLayoutSummaries(): Promise<Glue42Workspaces.WorkspaceLayoutSummary[]> {\r\n        const allLayouts = await this.bridge.send<LayoutSummariesResult>(OPERATIONS.getAllLayoutsSummaries.name);\r\n        return allLayouts.summaries;\r\n    }\r\n\r\n    public async deleteLayout(name: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.deleteLayout.name, { name });\r\n    }\r\n\r\n    public async exportLayout(predicate?: (layout: Glue42Workspaces.WorkspaceLayout) => boolean): Promise<Glue42Workspaces.WorkspaceLayout[]> {\r\n        const allLayoutsResult = await this.bridge.send<ExportedLayoutsResult>(OPERATIONS.exportAllLayouts.name);\r\n        return allLayoutsResult.layouts.reduce<Glue42Workspaces.WorkspaceLayout[]>((matchingLayouts, layout) => {\r\n\r\n            if (!predicate || predicate(layout)) {\r\n                matchingLayouts.push(layout);\r\n            }\r\n\r\n            return matchingLayouts;\r\n        }, []);\r\n    }\r\n\r\n    public async saveLayout(config: Glue42Workspaces.WorkspaceLayoutSaveConfig): Promise<Glue42Workspaces.WorkspaceLayout> {\r\n        return await this.bridge.send(OPERATIONS.saveLayout.name, config);\r\n    }\r\n\r\n    public async importLayout(layouts: Glue42Workspaces.WorkspaceLayout[], mode: \"replace\" | \"merge\"): Promise<void> {\r\n\r\n        await Promise.all(layouts.map((layout) => this.bridge.send(OPERATIONS.importLayout.name, { layout, mode })));\r\n    }\r\n\r\n    public handleOnSaved(callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): UnsubscribeFunction {\r\n        return this.base.handleOnSaved(callback);\r\n    }\r\n\r\n    public handleOnRemoved(callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): UnsubscribeFunction {\r\n        return this.base.handleOnRemoved(callback);\r\n    }\r\n\r\n    public async bundleTo(type: \"row\" | \"column\", workspaceId: string): Promise<void> {\r\n        return await this.base.bundleTo(type, workspaceId);\r\n    }\r\n\r\n    public getWorkspaceContext(workspaceId: string): Promise<any> {\r\n        return this.base.getWorkspaceContext(workspaceId);\r\n    }\r\n\r\n    public setWorkspaceContext(workspaceId: string, data: any): Promise<void> {\r\n        return this.base.setWorkspaceContext(workspaceId, data);\r\n    }\r\n\r\n    public updateWorkspaceContext(workspaceId: string, data: any): Promise<void> {\r\n        return this.base.updateWorkspaceContext(workspaceId, data);\r\n    }\r\n\r\n    public subscribeWorkspaceContextUpdated(workspaceId: string, callback: (data: any) => void): Promise<import(\"callback-registry\").UnsubscribeFunction> {\r\n        return this.base.subscribeWorkspaceContextUpdated(workspaceId, callback);\r\n    }\r\n\r\n    public async restoreItem(itemId: string): Promise<void> {\r\n        return await this.base.restoreItem(itemId);\r\n    }\r\n\r\n    public async maximizeItem(itemId: string): Promise<void> {\r\n        return await this.base.maximizeItem(itemId);\r\n    }\r\n\r\n    public async focusItem(itemId: string): Promise<void> {\r\n        return await this.base.focusItem(itemId);\r\n    }\r\n\r\n    public async changeFrameState(frameId: string, state: Glue42Workspaces.FrameState): Promise<void> {\r\n        await this.bridge.send<void>(OPERATIONS.changeFrameState.name, { frameId, requestedState: state });\r\n    }\r\n\r\n    public async getFrameState(frameId: string): Promise<Glue42Workspaces.FrameState> {\r\n        const frameResult = await this.bridge.send<FrameStateResult>(OPERATIONS.getFrameState.name, { itemId: frameId });\r\n        return frameResult.state;\r\n    }\r\n\r\n    public async closeItem(itemId: string): Promise<void> {\r\n        return await this.base.closeItem(itemId);\r\n    }\r\n\r\n    public async resizeItem(itemId: string, config: Glue42Workspaces.ResizeConfig): Promise<void> {\r\n        return await this.base.resizeItem(itemId, config);\r\n    }\r\n\r\n    public async moveFrame(itemId: string, config: Glue42Workspaces.MoveConfig): Promise<void> {\r\n        return await this.base.moveFrame(itemId, config);\r\n    }\r\n\r\n    public getGDWindow(itemId: string): GDWindow {\r\n        return this.base.getGDWindow(itemId);\r\n    }\r\n\r\n    public async forceLoadWindow(itemId: string): Promise<string> {\r\n        const windowId = await this.base.forceLoadWindow(itemId);\r\n\r\n        await this.base.notifyWindowAdded(windowId);\r\n\r\n        return windowId;\r\n    }\r\n\r\n    public async ejectWindow(itemId: string): Promise<string> {\r\n        const windowId: string = (await this.base.ejectWindow(itemId)).windowId;\r\n\r\n        await this.base.notifyWindowAdded(windowId);\r\n\r\n        return windowId;\r\n    }\r\n\r\n    public async moveWindowTo(itemId: string, newParentId: string): Promise<void> {\r\n        return await this.base.moveWindowTo(itemId, newParentId);\r\n    }\r\n\r\n    public async getSnapshot(itemId: string, type: \"workspace\" | \"frame\"): Promise<WorkspaceSnapshotResult | FrameSnapshotResult> {\r\n        return await this.base.getSnapshot(itemId, type);\r\n    }\r\n\r\n    public async setItemTitle(itemId: string, title: string): Promise<void> {\r\n        return await this.base.setItemTitle(itemId, title);\r\n    }\r\n\r\n    public flatChildren(children: Child[]): Child[] {\r\n        return children.reduce<Child[]>((soFar, child) => {\r\n\r\n            soFar.push(child);\r\n\r\n            if (child.type !== \"window\") {\r\n                soFar.push(...this.flatChildren(child.children));\r\n            }\r\n\r\n            return soFar;\r\n        }, []);\r\n    }\r\n\r\n    public refreshChildren(config: RefreshChildrenConfig): Child[] {\r\n        return this.base.refreshChildren(config);\r\n    }\r\n\r\n    public iterateFindChild(children: Child[], predicate: (child: Child) => boolean): Child {\r\n        return this.base.iterateFindChild(children, predicate);\r\n    }\r\n\r\n    public iterateFilterChildren(children: Child[], predicate: (child: Child) => boolean): Child[] {\r\n        return this.base.iterateFilterChildren(children, predicate);\r\n    }\r\n\r\n    public hibernateWorkspace(workspaceId: string): Promise<void> {\r\n        return this.base.hibernateWorkspace(workspaceId);\r\n    }\r\n\r\n    public resumeWorkspace(workspaceId: string): Promise<void> {\r\n        return this.base.resumeWorkspace(workspaceId);\r\n    }\r\n\r\n    public lockWorkspace(workspaceId: string, config?: WorkspaceLockConfig): Promise<void> {\r\n        return this.base.lockWorkspace(workspaceId, config);\r\n    }\r\n\r\n    public lockWindow(windowPlacementId: string, config?: WorkspaceWindowLockConfig): Promise<void> {\r\n        return this.base.lockWindow(windowPlacementId, config);\r\n    }\r\n\r\n    public lockContainer(itemId: string, type: SubParentTypes[\"type\"], config?: ContainerLockConfig): Promise<void> {\r\n        return this.base.lockContainer(itemId, type, config);\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    private async handleCoreLocalSubscription(config: SubscriptionConfig, levelId: string): Promise<Glue42Workspaces.Unsubscribe> {\r\n        await this.bridge.createCoreEventSubscription();\r\n\r\n        config.scopeId = config.scopeId || levelId;\r\n\r\n        if (config.eventType === \"window\" && config.action === \"loaded\") {\r\n            const originalCB = config.callback;\r\n\r\n            const wrappedCB = async (callbackData: WindowStreamData): Promise<void> => {\r\n\r\n                await this.base.notifyWindowAdded(callbackData.windowSummary.config.windowId);\r\n\r\n                originalCB(callbackData);\r\n            };\r\n\r\n            config.callback = wrappedCB;\r\n        }\r\n\r\n        return this.bridge.handleCoreSubscription(config);\r\n    }\r\n\r\n    private handleEnterpriseLocalSubscription(config: SubscriptionConfig, levelId: string): Promise<Glue42Workspaces.Unsubscribe> {\r\n        config.scopeId = config.scopeId || levelId;\r\n\r\n        if (config.eventType === \"window\" && config.action === \"loaded\") {\r\n            const originalCB = config.callback;\r\n\r\n            const wrappedCB = async (callbackData: WindowStreamData): Promise<void> => {\r\n                await this.base.notifyWindowAdded(callbackData.windowSummary.config.windowId);\r\n                originalCB(callbackData);\r\n            };\r\n\r\n            config.callback = wrappedCB;\r\n        }\r\n\r\n        return this.bridge.subscribe(config);\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    private async handleCoreGlobalSubscription(callback: (callbackData: unknown) => void, eventType: WorkspaceEventType, action: WorkspaceEventAction): Promise<Glue42Workspaces.Unsubscribe> {\r\n        await this.bridge.createCoreEventSubscription();\r\n\r\n        const config: SubscriptionConfig = {\r\n            eventType, callback, action,\r\n            scope: \"global\",\r\n        };\r\n\r\n        if (eventType === \"window\" && action === \"loaded\") {\r\n            const wrappedCB = async (callbackData: WindowStreamData): Promise<void> => {\r\n\r\n                await this.base.notifyWindowAdded(callbackData.windowSummary.config.windowId);\r\n\r\n                callback(callbackData);\r\n            };\r\n\r\n            config.callback = wrappedCB;\r\n        }\r\n\r\n        return this.bridge.handleCoreSubscription(config);\r\n    }\r\n\r\n    private handleEnterpriseGlobalSubscription(callback: (callbackData: unknown) => void, eventType: WorkspaceEventType, action: WorkspaceEventAction): Promise<Glue42Workspaces.Unsubscribe> {\r\n        const config: SubscriptionConfig = {\r\n            eventType, callback, action,\r\n            scope: \"global\",\r\n        };\r\n\r\n        if (eventType === \"window\" && action === \"loaded\") {\r\n            const wrappedCB = async (callbackData: WindowStreamData): Promise<void> => {\r\n\r\n                await this.base.notifyWindowAdded(callbackData.windowSummary.config.windowId);\r\n\r\n                callback(callbackData);\r\n            };\r\n\r\n            config.callback = wrappedCB;\r\n        }\r\n\r\n        return this.bridge.subscribe(config);\r\n    }\r\n\r\n    private async iterateWorkspaces(callback: (workspace: Workspace, end: () => void) => void): Promise<void> {\r\n        let ended = false;\r\n\r\n        const end = (): void => { ended = true; };\r\n\r\n        const workspaceSummaries = await this.getAllWorkspaceSummaries();\r\n\r\n        for (const summary of workspaceSummaries) {\r\n            if (ended) {\r\n                return;\r\n            }\r\n\r\n            const wsp = await this.base.fetchWorkspace(summary.id);\r\n\r\n            callback(wsp, end);\r\n        }\r\n    }\r\n}\r\n","/*eslint indent: [2, 4, {\"SwitchCase\": 1}]*/\r\nimport CallbackFactory from \"callback-registry\";\r\nimport { Bridge } from \"../communication/bridge\";\r\nimport { InteropTransport } from \"../communication/interop-transport\";\r\nimport { BaseBuilder } from \"../builders/baseBuilder\";\r\nimport { ParentBuilder } from \"../builders/parentBuilder\";\r\nimport { WorkspaceBuilder } from \"../builders/workspaceBuilder\";\r\nimport { ModelMaps, ModelTypes, FramePrivateData, WindowPrivateData, WorkspacePrivateData, ParentPrivateData } from \"../types/privateData\";\r\nimport { PrivateDataManager } from \"./privateDataManager\";\r\nimport { FrameCreateConfig, ModelCreateConfig, WindowCreateConfig, WorkspaceIoCCreateConfig, ParentCreateConfig } from \"../types/ioc\";\r\nimport { Frame } from \"../models/frame\";\r\nimport { Window } from \"../models/window\";\r\nimport { Workspace } from \"../models/workspace\";\r\nimport { ChildSnapshotResult } from \"../types/protocol\";\r\nimport { AllParentTypes, Child } from \"../types/builders\";\r\nimport { Row } from \"../models/row\";\r\nimport { Column } from \"../models/column\";\r\nimport { Group } from \"../models/group\";\r\nimport { Base } from \"../models/base/base\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { WorkspacesController } from \"../types/controller\";\r\nimport { InteropAPI, WindowsAPI, LayoutsAPI, ContextsAPI } from \"../types/glue\";\r\nimport { BaseController } from \"../controllers/base\";\r\nimport { MainController } from \"../controllers/main\";\r\n\r\nexport class IoC {\r\n\r\n    private _controllerInstance: WorkspacesController;\r\n    private _bridgeInstance: Bridge;\r\n    private _transportInstance: InteropTransport;\r\n    private _privateDataManagerInstance: PrivateDataManager;\r\n    private _parentBaseInstance: Base;\r\n    private _baseController: BaseController;\r\n\r\n    constructor(\r\n        private readonly agm: InteropAPI,\r\n        private readonly windows: WindowsAPI,\r\n        private readonly layouts: LayoutsAPI,\r\n        private readonly contexts: ContextsAPI\r\n    ) { }\r\n\r\n    public get baseController(): BaseController {\r\n        if (!this._baseController) {\r\n            this._baseController = new BaseController(this, this.windows, this.contexts, this.layouts);\r\n        }\r\n\r\n        return this._baseController;\r\n    }\r\n\r\n    public get controller(): WorkspacesController {\r\n        if (!this._controllerInstance) {\r\n            this._controllerInstance = new MainController(this.bridge, this.baseController);\r\n        }\r\n        return this._controllerInstance;\r\n    }\r\n\r\n    public get bridge(): Bridge {\r\n        if (!this._bridgeInstance) {\r\n            this._bridgeInstance = new Bridge(this.transport, CallbackFactory());\r\n        }\r\n        return this._bridgeInstance;\r\n    }\r\n\r\n    public get transport(): InteropTransport {\r\n\r\n        if (!this._transportInstance) {\r\n            this._transportInstance = new InteropTransport(this.agm);\r\n        }\r\n\r\n        return this._transportInstance;\r\n    }\r\n\r\n    public get privateDataManager(): PrivateDataManager {\r\n        if (!this._privateDataManagerInstance) {\r\n            this._privateDataManagerInstance = new PrivateDataManager();\r\n        }\r\n        return this._privateDataManagerInstance;\r\n    }\r\n\r\n    public get parentBase(): Base {\r\n        if (!this._parentBaseInstance) {\r\n            this._parentBaseInstance = new Base(this.privateDataManager);\r\n        }\r\n        return this._parentBaseInstance;\r\n    }\r\n\r\n    public async initiate(actualWindowId: string): Promise<void> {\r\n        await this.transport.initiate(actualWindowId);\r\n    }\r\n\r\n    public getModel<T extends ModelTypes>(type: ModelTypes, createConfig: ModelCreateConfig): ModelMaps[T] {\r\n        switch (type) {\r\n            case \"frame\": {\r\n                const newFrame = new Frame(this.privateDataManager);\r\n\r\n                const { summary } = createConfig as FrameCreateConfig;\r\n\r\n                const frameData: FramePrivateData = { summary, controller: this.controller };\r\n\r\n                this.privateDataManager.setFrameData(newFrame, frameData);\r\n\r\n                return newFrame as ModelMaps[T];\r\n            }\r\n            case \"window\": {\r\n                const { id, parent, frame, workspace, config } = createConfig as WindowCreateConfig;\r\n\r\n                const windowPrivateData: WindowPrivateData = {\r\n                    type: \"window\",\r\n                    controller: this.controller,\r\n                    config, id, parent, frame, workspace\r\n                };\r\n\r\n                const newWindow = new Window(this.privateDataManager);\r\n\r\n                this.privateDataManager.setWindowData(newWindow, windowPrivateData);\r\n\r\n                return newWindow as ModelMaps[T];\r\n            }\r\n            case \"row\":\r\n            case \"column\":\r\n            case \"group\": {\r\n                const { id, children, parent, frame, workspace, config } = createConfig as ParentCreateConfig;\r\n\r\n                const newParent = type === \"column\" ? new Column(this.parentBase) :\r\n                    type === \"row\" ? new Row(this.parentBase) : new Group(this.parentBase);\r\n\r\n                const builtChildren = this.buildChildren(children, frame, workspace, newParent);\r\n\r\n                const parentPrivateData = {\r\n                    id, parent, frame, workspace,\r\n                    config,\r\n                    type,\r\n                    controller: this.controller,\r\n                    children: builtChildren,\r\n                };\r\n\r\n                this.privateDataManager.setParentData(newParent, parentPrivateData as ParentPrivateData);\r\n\r\n                return newParent as ModelMaps[T];\r\n            }\r\n            case \"workspace\": {\r\n                const { snapshot, frame } = createConfig as WorkspaceIoCCreateConfig;\r\n\r\n                const newWorkspace = new Workspace(this.privateDataManager);\r\n\r\n                const children = this.buildChildren(snapshot.children, frame, newWorkspace, newWorkspace);\r\n\r\n                const workspacePrivateData: WorkspacePrivateData = {\r\n                    id: snapshot.id,\r\n                    type: \"workspace\",\r\n                    config: snapshot.config,\r\n                    base: this.parentBase,\r\n                    controller: this.controller,\r\n                    children, frame, ioc: this\r\n                };\r\n\r\n                this.privateDataManager.setWorkspaceData(newWorkspace, workspacePrivateData);\r\n                return newWorkspace as ModelMaps[T];\r\n            }\r\n            default: throw new Error(`Unrecognized type: ${type}`);\r\n        }\r\n    }\r\n\r\n    public getBuilder(config: Glue42Workspaces.BuilderConfig): WorkspaceBuilder | ParentBuilder {\r\n        config.definition = config.definition || {};\r\n\r\n        if (!Array.isArray(config.definition.children)) {\r\n            config.definition.children = [];\r\n        }\r\n\r\n        const baseBuilder = new BaseBuilder(this.getBuilder.bind(this));\r\n\r\n        switch (config.type) {\r\n            case \"workspace\": {\r\n                return new WorkspaceBuilder(config.definition as Glue42Workspaces.WorkspaceDefinition, baseBuilder, this.controller);\r\n            }\r\n            case \"row\":\r\n            case \"column\":\r\n            case \"group\": {\r\n                (config.definition as Glue42Workspaces.BoxDefinition).type = config.type;\r\n                return new ParentBuilder(config.definition, baseBuilder);\r\n            }\r\n            default: throw new Error(`Unexpected Builder creation error, provided config: ${JSON.stringify(config)}`);\r\n        }\r\n    }\r\n\r\n    private buildChildren(children: ChildSnapshotResult[], frame: Frame, workspace: Glue42Workspaces.Workspace, parent: AllParentTypes): Child[] {\r\n        return children.map<Child>((child) => {\r\n            switch (child.type) {\r\n                case \"window\": return this.getModel<\"window\">(\"window\", {\r\n                    id: child.id,\r\n                    config: child.config,\r\n                    frame, workspace, parent\r\n                } as WindowCreateConfig);\r\n                case \"column\": return this.getModel<\"column\">(child.type, {\r\n                    id: child.id,\r\n                    config: child.config,\r\n                    children: child.children,\r\n                    frame, workspace, parent\r\n                } as ParentCreateConfig);\r\n                case \"row\": return this.getModel<\"row\">(child.type, {\r\n                    id: child.id,\r\n                    config: child.config,\r\n                    children: child.children,\r\n                    frame, workspace, parent\r\n                } as ParentCreateConfig);\r\n                case \"group\": return this.getModel<\"group\">(child.type, {\r\n                    id: child.id,\r\n                    config: child.config,\r\n                    children: child.children,\r\n                    frame, workspace, parent\r\n                } as ParentCreateConfig);\r\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                default: throw new Error(`Unsupported child type: ${(child as any).type}`);\r\n            }\r\n        });\r\n    }\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { IoC } from \"./shared/ioc\";\r\nimport { checkThrowCallback, nonEmptyStringDecoder, workspaceLayoutDecoder, workspaceDefinitionDecoder, workspaceBuilderCreateConfigDecoder, builderConfigDecoder, restoreWorkspaceConfigDecoder, workspaceLayoutSaveConfigDecoder } from \"./shared/decoders\";\r\nimport { FrameStreamData, WorkspaceStreamData, WorkspaceSnapshotResult, WindowStreamData } from \"./types/protocol\";\r\nimport { FrameCreateConfig, WorkspaceIoCCreateConfig } from \"./types/ioc\";\r\nimport { Glue42Workspaces } from \"./../workspaces\";\r\nimport { WorkspacesController } from \"./types/controller\";\r\n\r\nexport const composeAPI = (glue: any, ioc: IoC): Glue42Workspaces.API => {\r\n\r\n    const controller: WorkspacesController = ioc.controller;\r\n\r\n    const inWorkspace = (): Promise<boolean> => {\r\n        const myId: string = glue.windows.my().id;\r\n\r\n        if (!myId) {\r\n            throw new Error(\"Cannot get my frame, because my id is undefined.\");\r\n        }\r\n\r\n        return controller.checkIsInSwimlane(myId);\r\n    };\r\n\r\n    const getBuilder = (config: Glue42Workspaces.BuilderConfig): Glue42Workspaces.WorkspaceBuilder | Glue42Workspaces.BoxBuilder => {\r\n        const validatedConfig = builderConfigDecoder.runWithException(config);\r\n\r\n        return ioc.getBuilder(validatedConfig);\r\n    };\r\n\r\n    const getMyFrame = async (): Promise<Glue42Workspaces.Frame> => {\r\n        const windowId: string = glue.windows.my().id;\r\n\r\n        if (!windowId) {\r\n            throw new Error(\"Cannot get my frame, because my id is undefined.\");\r\n        }\r\n\r\n        const isInSwimlane = await controller.checkIsInSwimlane(windowId);\r\n\r\n        if (!isInSwimlane) {\r\n            throw new Error(\"Cannot fetch your frame, because this window is not in a workspace\");\r\n        }\r\n\r\n        return controller.getFrame({ windowId });\r\n    };\r\n\r\n    const getFrame = async (predicate: (frame: Glue42Workspaces.Frame) => boolean): Promise<Glue42Workspaces.Frame> => {\r\n        checkThrowCallback(predicate);\r\n\r\n        return controller.getFrame({ predicate });\r\n    };\r\n\r\n    const getAllFrames = async (predicate?: (frame: Glue42Workspaces.Frame) => boolean): Promise<Glue42Workspaces.Frame[]> => {\r\n        checkThrowCallback(predicate, true);\r\n\r\n        return controller.getFrames(predicate);\r\n    };\r\n\r\n    const getAllWorkspacesSummaries = (): Promise<Glue42Workspaces.WorkspaceSummary[]> => {\r\n        return controller.getAllWorkspaceSummaries();\r\n    };\r\n\r\n    const getMyWorkspace = async (): Promise<Glue42Workspaces.Workspace> => {\r\n        const myId: string = glue.windows.my().id;\r\n\r\n        if (!myId) {\r\n            throw new Error(\"Cannot get my workspace, because my id is undefined.\");\r\n        }\r\n\r\n        const isInSwimlane = await controller.checkIsInSwimlane(myId);\r\n\r\n        if (!isInSwimlane) {\r\n            throw new Error(\"Cannot fetch your workspace, because this window is not in a workspace\");\r\n        }\r\n\r\n        return (await controller.getWorkspaces((wsp) => !!wsp.getWindow((w) => w.id === myId)))[0];\r\n    };\r\n\r\n    const getWorkspace = async (predicate: (workspace: Glue42Workspaces.Workspace) => boolean): Promise<Glue42Workspaces.Workspace> => {\r\n        checkThrowCallback(predicate);\r\n        return (await controller.getWorkspaces(predicate))[0];\r\n    };\r\n\r\n    const getAllWorkspaces = (predicate?: (workspace: Glue42Workspaces.Workspace) => boolean): Promise<Glue42Workspaces.Workspace[]> => {\r\n        checkThrowCallback(predicate, true);\r\n        return controller.getWorkspaces(predicate);\r\n    };\r\n\r\n    const getWindow = async (predicate: (swimlaneWindow: Glue42Workspaces.WorkspaceWindow) => boolean): Promise<Glue42Workspaces.WorkspaceWindow> => {\r\n        checkThrowCallback(predicate);\r\n        return controller.getWindow(predicate);\r\n    };\r\n\r\n    const getParent = async (predicate: (parent: Glue42Workspaces.WorkspaceBox) => boolean): Promise<Glue42Workspaces.WorkspaceBox> => {\r\n        checkThrowCallback(predicate);\r\n        return controller.getParent(predicate);\r\n    };\r\n\r\n    const restoreWorkspace = async (name: string, options?: Glue42Workspaces.RestoreWorkspaceConfig): Promise<Glue42Workspaces.Workspace> => {\r\n        nonEmptyStringDecoder.runWithException(name);\r\n        const validatedOptions = restoreWorkspaceConfigDecoder.runWithException(options);\r\n        return controller.restoreWorkspace(name, validatedOptions);\r\n    };\r\n\r\n    const createWorkspace = async (definition: Glue42Workspaces.WorkspaceDefinition, saveConfig?: Glue42Workspaces.WorkspaceCreateConfig): Promise<Glue42Workspaces.Workspace> => {\r\n        const validatedDefinition = workspaceDefinitionDecoder.runWithException(definition);\r\n        const validatedConfig = workspaceBuilderCreateConfigDecoder.runWithException(saveConfig);\r\n\r\n        return controller.createWorkspace(validatedDefinition, validatedConfig);\r\n    };\r\n\r\n    const layouts = {\r\n        getSummaries: (): Promise<Glue42Workspaces.WorkspaceLayoutSummary[]> => {\r\n            return controller.getLayoutSummaries();\r\n        },\r\n        delete: async (name: string): Promise<void> => {\r\n            nonEmptyStringDecoder.runWithException(name);\r\n            return controller.deleteLayout(name);\r\n        },\r\n        export: async (predicate?: (layout: Glue42Workspaces.WorkspaceLayout) => boolean): Promise<Glue42Workspaces.WorkspaceLayout[]> => {\r\n            checkThrowCallback(predicate, true);\r\n            return controller.exportLayout(predicate);\r\n        },\r\n        import: async (layouts: Glue42Workspaces.WorkspaceLayout[], mode: \"replace\" | \"merge\" = \"replace\"): Promise<void> => {\r\n\r\n            if (!Array.isArray(layouts)) {\r\n                throw new Error(`The provided layouts argument is not an array: ${JSON.stringify(layouts)}`);\r\n            }\r\n\r\n            layouts.forEach((layout) => workspaceLayoutDecoder.runWithException(layout));\r\n            return controller.importLayout(layouts, mode);\r\n        },\r\n        save: async (config: Glue42Workspaces.WorkspaceLayoutSaveConfig): Promise<Glue42Workspaces.WorkspaceLayout> => {\r\n            const verifiedConfig = workspaceLayoutSaveConfigDecoder.runWithException(config);\r\n            return controller.saveLayout(verifiedConfig);\r\n        },\r\n        onSaved: async (callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n            checkThrowCallback(callback);\r\n\r\n            return controller.handleOnSaved(callback);\r\n        },\r\n        onRemoved: async (callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n            checkThrowCallback(callback);\r\n\r\n            return controller.handleOnRemoved(callback);\r\n        }\r\n    };\r\n\r\n    const onFrameOpened = async (callback: (frame: Glue42Workspaces.Frame) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n        checkThrowCallback(callback);\r\n\r\n        const wrappedCallback = (payload: FrameStreamData): void => {\r\n            const frameConfig: FrameCreateConfig = {\r\n                summary: payload.frameSummary\r\n            };\r\n            const frame = ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n            callback(frame);\r\n        };\r\n\r\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"frame\", \"opened\");\r\n        return unsubscribe;\r\n    };\r\n\r\n    const onFrameClosed = async (callback: (closed: { frameId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n        checkThrowCallback(callback);\r\n        const wrappedCallback = (payload: FrameStreamData): void => {\r\n            callback({ frameId: payload.frameSummary.id });\r\n        };\r\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"frame\", \"closed\");\r\n        return unsubscribe;\r\n    };\r\n\r\n    const onWorkspaceOpened = async (callback: (workspace: Glue42Workspaces.Workspace) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n\r\n        checkThrowCallback(callback);\r\n        const wrappedCallback = async (payload: WorkspaceStreamData): Promise<void> => {\r\n            const frameConfig: FrameCreateConfig = {\r\n                summary: payload.frameSummary\r\n            };\r\n            const frame = ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n            const snapshot = (await controller.getSnapshot(payload.workspaceSummary.id, \"workspace\")) as WorkspaceSnapshotResult;\r\n\r\n            const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n            const workspace = ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n\r\n            callback(workspace);\r\n        };\r\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"workspace\", \"opened\");\r\n        return unsubscribe;\r\n    };\r\n\r\n    const onWorkspaceClosed = async (callback: (closed: { frameId: string; workspaceId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n        checkThrowCallback(callback);\r\n\r\n        const wrappedCallback = (payload: WorkspaceStreamData): void => {\r\n            callback({ frameId: payload.frameSummary.id, workspaceId: payload.workspaceSummary.id });\r\n        };\r\n\r\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"workspace\", \"closed\");\r\n        return unsubscribe;\r\n    };\r\n\r\n    const onWindowAdded = async (callback: (swimlaneWindow: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n        checkThrowCallback(callback);\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            const snapshot = (await controller.getSnapshot(payload.windowSummary.config.workspaceId, \"workspace\")) as WorkspaceSnapshotResult;\r\n\r\n            const frameConfig: FrameCreateConfig = {\r\n                summary: snapshot.frameSummary\r\n            };\r\n            const frame = ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n            const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n            const workspace = ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n\r\n            const windowParent = workspace.getBox((parent) => parent.id === payload.windowSummary.parentId);\r\n            const foundWindow = windowParent.children.find((child) => child.type === \"window\" && child.positionIndex === payload.windowSummary.config.positionIndex);\r\n\r\n            callback(foundWindow as Glue42Workspaces.WorkspaceWindow);\r\n        };\r\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"window\", \"added\");\r\n        return unsubscribe;\r\n    };\r\n\r\n    const onWindowLoaded = async (callback: (swimlaneWindow: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n        checkThrowCallback(callback);\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            const snapshot = (await controller.getSnapshot(payload.windowSummary.config.workspaceId, \"workspace\")) as WorkspaceSnapshotResult;\r\n\r\n            const frameConfig: FrameCreateConfig = {\r\n                summary: snapshot.frameSummary\r\n            };\r\n            const frame = ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n            const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n            const workspace = ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n\r\n            const foundWindow = workspace.getWindow((win) => win.id && win.id === payload.windowSummary.config.windowId);\r\n\r\n            callback(foundWindow);\r\n        };\r\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"window\", \"loaded\");\r\n        return unsubscribe;\r\n    };\r\n\r\n    const onWindowRemoved = async (callback: (removed: { windowId: string; workspaceId: string; frameId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n        checkThrowCallback(callback);\r\n        const wrappedCallback = (payload: WindowStreamData): void => {\r\n            const { windowId, workspaceId, frameId } = payload.windowSummary.config;\r\n            callback({ windowId, workspaceId, frameId });\r\n        };\r\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"window\", \"removed\");\r\n        return unsubscribe;\r\n    };\r\n\r\n    return {\r\n        inWorkspace,\r\n        getBuilder,\r\n        getMyFrame,\r\n        getFrame,\r\n        getAllFrames,\r\n        getAllWorkspacesSummaries,\r\n        getMyWorkspace,\r\n        getWorkspace,\r\n        getAllWorkspaces,\r\n        getWindow,\r\n        getBox: getParent,\r\n        restoreWorkspace,\r\n        createWorkspace,\r\n        layouts,\r\n        onFrameOpened,\r\n        onFrameClosed,\r\n        onWorkspaceOpened,\r\n        onWorkspaceClosed,\r\n        onWindowAdded,\r\n        onWindowLoaded,\r\n        onWindowRemoved,\r\n    };\r\n};\r\n","import { IoC } from \"./shared/ioc\";\r\nimport { composeAPI } from \"./main\";\r\nimport { WorkspacesFactoryFunction } from \"../workspaces\";\r\n\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\nconst factoryFunction: WorkspacesFactoryFunction = async (glue: any): Promise<void> => {\r\n\r\n    const ioc = new IoC(glue.agm, glue.windows, glue.layouts, glue.contexts);\r\n\r\n    const actualWindowId = glue.interop.instance.windowId;\r\n\r\n    await ioc.initiate(actualWindowId);\r\n\r\n    glue.workspaces = composeAPI(glue, ioc);\r\n};\r\n\r\n// attach to window object\r\nif (typeof window !== \"undefined\") {\r\n    /* eslint-disable @typescript-eslint/no-explicit-any */\r\n    (window as any).GlueWorkspaces = factoryFunction;\r\n}\r\n\r\nexport default factoryFunction;\r\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import React from \"react\";\r\n\r\nconst HeaderButton: React.FC<{ title: string, className: string }> = ({ title, className, children, ...props }) => {\r\n    return (\r\n        <li {...props} title={title} className={className}>\r\n            {children}\r\n        </li>\r\n    )\r\n};\r\n\r\nexport default HeaderButton;\r\n","import React from \"react\";\r\nimport { ApplicationItemProps } from \"../../../types/internal\";\r\n\r\nconst ApplicationItem: React.FC<ApplicationItemProps> = ({ appName, onClick }) => {\r\n    return (\r\n        <a onClick={(e) => {\r\n            e.preventDefault();\r\n            if (typeof onClick === \"function\") {\r\n                return onClick(e);\r\n            }\r\n        }} className=\"list-group-item list-group-item-action px-3\">\r\n            {appName}\r\n        </a>\r\n    )\r\n};\r\n\r\nexport default ApplicationItem;","import React, { useEffect } from \"react\";\r\nimport { ApplicationListProps } from \"../../../types/internal\";\r\nimport ApplicationItem from \"./ApplicationItem\";\r\n\r\nconst ApplicationsList: React.FC<ApplicationListProps> = ({ glue, inLane, parent, hidePopup, searchTerm, updatePopupHeight, filterApps }) => {\r\n    const hasFlag = (app: any) => app?.userProperties?.includeInWorkspaces ?? app?.userProperties?.includeInCanvas;\r\n    const isFromSupportedType = (a: any) => !a.type || (a.type !== \"activity\" &&\r\n        a.type !== \"canvas\" &&\r\n        a.type !== \"workspaces\" &&\r\n        a.type !== \"node\");\r\n\r\n    const defaultFilter = (a: any) => !a.isActivity &&\r\n        !a.isShell &&\r\n        isFromSupportedType(a) && hasFlag(a);\r\n\r\n    const filter = filterApps || defaultFilter;\r\n\r\n    const workspacesFriendlyApps: any[] = glue.appManager.applications().filter(filter);\r\n\r\n    const getElementOnClick = (appName: string) => {\r\n        return async () => {\r\n            let workspaceWindow: any;\r\n            let unsub: any;\r\n\r\n            const callback = (w: any) => {\r\n                if (!workspaceWindow) {\r\n                    unsub();\r\n                } else if (workspaceWindow.id === w.id) {\r\n                    w.focus();\r\n                    unsub();\r\n                }\r\n            }\r\n            if (!parent.type) {\r\n                unsub = await parent.onWindowLoaded(callback);\r\n            } else {\r\n                unsub = await parent.workspace.onWindowLoaded(callback);\r\n            }\r\n\r\n            try {\r\n                if (parent.type === \"group\" && inLane) {\r\n                    const newGroup = await parent.parent.addGroup({ type: \"group\", children: [{ type: \"window\", appName }] });\r\n                    workspaceWindow = newGroup.children[0];\r\n                } else if (parent.type !== \"group\" && !inLane) {\r\n                    const newGroup = await parent.addGroup({ type: \"group\", children: [{ type: \"window\", appName }] });\r\n                    workspaceWindow = newGroup.children[0];\r\n                } else {\r\n                    workspaceWindow = await parent.addWindow({ type: \"window\", appName });\r\n                }  \r\n            } catch (error) {\r\n                console.warn(error);\r\n            }\r\n\r\n            hidePopup();\r\n        };\r\n    }\r\n\r\n    useEffect(() => {\r\n        updatePopupHeight();\r\n    }, []);\r\n\r\n    return (\r\n        <nav id=\"applicationsList\" className=\"nav list-group\">\r\n            {workspacesFriendlyApps\r\n                .filter((a) => (a.title || a.name).toLowerCase().indexOf(searchTerm.toLowerCase()) !== -1)\r\n                .map((app: any, i) => {\r\n                    return <ApplicationItem\r\n                        key={i}\r\n                        onClick={() => { getElementOnClick(app.name)() }}\r\n                        appName={app.title || app.name} />\r\n                })}\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default ApplicationsList;","import React, { useEffect } from \"react\";\r\nimport { ContainerSwitchProps } from \"../../../types/internal\";\r\n\r\nconst ContainerSwitch: React.FC<ContainerSwitchProps> = ({ inLane, setInLane, parent }) => {\r\n    let wordInLabel = \"\";\r\n    if (!parent.type) {\r\n        wordInLabel = `workspace`;\r\n    } else if (parent.type === \"group\" && !parent.children.length) {\r\n        wordInLabel = \"\";\r\n    } else if (parent.type === \"group\") {\r\n        wordInLabel = `${parent.parent.type || \"\"}`;\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (!wordInLabel || wordInLabel === \"workspace\") {\r\n            setInLane(false);\r\n        }\r\n    }, [wordInLabel])\r\n\r\n    if (!wordInLabel || wordInLabel === \"workspace\") {\r\n        return null;\r\n    }\r\n\r\n    const labelToPut = `This ${wordInLabel[0].toUpperCase() + wordInLabel.substring(1)}`;\r\n\r\n    return (\r\n        <div className=\"form-group\">\r\n            <label htmlFor=\"Application placement\">Application Placement</label>\r\n            <div className=\"btn-group d-flex mb-2\" role=\"group\" aria-label=\"Application placement\">\r\n                <button\r\n                    onClick={() => setInLane(true)}\r\n                    type=\"button\"\r\n                    id=\"laneButton\"\r\n                    className={`btn btn-outline-primary w-100 ${inLane ? \"active\" : \"\"}`}>\r\n                    {labelToPut}\r\n                </button>\r\n                <button\r\n                    onClick={() => setInLane(false)}\r\n                    type=\"button\"\r\n                    id=\"tabGroupButton\"\r\n                    className={`btn btn-outline-primary w-100 ${!inLane ? \"active\" : \"\"}`}>\r\n                    This Tab Group\r\n            </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ContainerSwitch;","import { GlueContext } from \"@glue42/react-hooks\";\r\nimport React, { useContext } from \"react\"\r\n\r\nconst withGlueInstance = <T extends { glue?: any }>(WrappedComponent: React.ComponentType<T>) => {\r\n    return (props: T) => {\r\n        const glue = props.glue || (window as any).glue || useContext(GlueContext);\r\n        if (!glue) {\r\n            throw new Error(\"An instance of Glue is not provided\");\r\n        }\r\n        return (\r\n            <WrappedComponent {...Object.assign({}, props, { glue })} />\r\n        )\r\n    }\r\n}\r\n\r\nexport default withGlueInstance;","import React, { useEffect, useState } from \"react\";\r\nimport { AddApplicationPopupProps } from \"../../../types/internal\";\r\nimport ApplicationsList from \"./ApplicationsList\";\r\nimport ContainerSwitch from \"./ContainerSwitch\";\r\nimport withGlueInstance from \"../../../withGlueInstance\";\r\n\r\ndeclare const window: Window & { glue?: any };\r\n\r\nconst AddApplicationPopup: React.FC<AddApplicationPopupProps> = ({ workspaceId, boxId, hidePopup, resizePopup, glue, frameId, filterApps, ...props }) => {\r\n    const [inLane, setInLane] = useState(false);\r\n    const [parent, setParent] = useState(undefined);\r\n    const [searchTerm, setSearchTerm] = useState(\"\");\r\n    const containerRef = React.createRef<HTMLDivElement>();\r\n\r\n    useEffect(() => {\r\n        let shouldUpdate = true;\r\n        glue.workspaces.getAllWorkspaces().then((allWorkspaces: any) => {\r\n            const myWorkspace = allWorkspaces.find((w: any) => w.id === workspaceId);\r\n            const parent = myWorkspace.getBox((p: any) => p.id === boxId) || myWorkspace;\r\n\r\n            if (!shouldUpdate) {\r\n                return;\r\n            }\r\n            setParent(parent);\r\n        });\r\n\r\n        return () => {\r\n            shouldUpdate = false;\r\n        }\r\n    }, [boxId, workspaceId]);\r\n\r\n    const refreshPopupHeight = () => {\r\n        const containerHeight = containerRef.current?.getBoundingClientRect().height;\r\n        resizePopup({\r\n            width: 300,\r\n            height: containerHeight\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        refreshPopupHeight();\r\n    }, [searchTerm, parent]);\r\n\r\n    return (\r\n        <div {...props} ref={containerRef} className=\"container-fluid add-application\">\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h5 className=\"border-bottom border-secondary pb-1 my-3\">Add Application</h5>\r\n                </div>\r\n            </div>\r\n            <div id=\"applicationPlacementSection\" className=\"row\">\r\n                <div className=\"col\">\r\n                    {parent && <ContainerSwitch\r\n                        inLane={inLane}\r\n                        setInLane={setInLane}\r\n                        parent={parent} />}\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <div className=\"input-group position-relative mb-2\">\r\n                        <input type=\"text\" id=\"appSearch\" className=\"form-control pr-4\" placeholder=\"Search аpplication\"\r\n                            value={searchTerm} onChange={(e) => setSearchTerm(e.target.value)} aria-label=\"Search аpplication\" aria-describedby=\"\" />\r\n                        <div className=\"icon-search\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <div className=\"applications mb-2\">\r\n                        <ApplicationsList\r\n                            glue={glue}\r\n                            hidePopup={hidePopup}\r\n                            inLane={inLane}\r\n                            parent={parent}\r\n                            searchTerm={searchTerm}\r\n                            filterApps={filterApps}\r\n                            updatePopupHeight={() => { refreshPopupHeight() }}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withGlueInstance(AddApplicationPopup);","import React from \"react\";\r\nimport { getFeedbackErrorMessage } from \"./helpers\";\r\n\r\nconst Feedback: React.FC<{ errMessage: string }> = ({ errMessage }) => {\r\n    const message = getFeedbackErrorMessage(errMessage);\r\n    return (\r\n        <div className=\"row\">\r\n            <div className=\"col\">\r\n                <div id=\"feedbackContainer\" className=\"d-flex flex-row pb-2\">\r\n                    <div className=\"invalid-feedback mt-0 d-block\">\r\n                        {message || \"Something went wrong.\"}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Feedback;","export const getFeedbackErrorMessage = (message: string) => {\r\n    const innerMessageRegex = /Inner message:\\s+(.+)/gm;\r\n    const regexResult = innerMessageRegex.exec(message);\r\n    const innerMessage = (regexResult && regexResult[1]) || message;\r\n\r\n    return innerMessage;\r\n}","import React from \"react\";\r\nimport { WorkspaceLayoutItemProps } from \"../../../types/internal\";\r\n\r\nconst WorkspaceLayoutItem: React.FC<WorkspaceLayoutItemProps> = ({ name, onClick, onCloseClick }) => {\r\n    return (\r\n        <a onClick={(e) => {\r\n            e.preventDefault();\r\n            if (typeof onClick === \"function\") {\r\n                return onClick(e);\r\n            }\r\n        }} className=\"list-group-item list-group-item-action ry-2\">\r\n            <div className=\"align-items-center workspace d-flex flex-row\">\r\n                <div className=\"workspace__icon mr-2\"></div>\r\n                <div className=\"workspace__description\">\r\n                    <h5 className=\"mb-0 text-truncate\">{name}</h5>\r\n                </div>\r\n                <div onClick={onCloseClick} className=\"close-icon ml-auto\"></div>\r\n            </div>\r\n        </a>\r\n    );\r\n}\r\n\r\n\r\nexport default WorkspaceLayoutItem;","import React, { useEffect, useState } from \"react\";\r\nimport { WorkspaceLayoutsListProps } from \"../../../types/internal\";\r\nimport WorkspaceLayoutItem from \"./WorkspaceLayoutItem\";\r\n\r\nconst WorkspaceLayoutsList: React.FC<WorkspaceLayoutsListProps> = ({ glue, frameId, showFeedback, hidePopup, resizePopup }) => {\r\n    const [layoutSummaries, setLayoutSummaries] = useState([] as any[]);\r\n\r\n    const getSummaries = () => {\r\n        return glue.workspaces.layouts.getSummaries();\r\n    };\r\n\r\n    useEffect(() => {\r\n        let shouldUpdate = true;\r\n        getSummaries().then((s: any) => {\r\n            if (!shouldUpdate) {\r\n                return;\r\n            }\r\n            setLayoutSummaries(s);\r\n        });\r\n        return () => {\r\n            shouldUpdate = false;\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        resizePopup();\r\n    }, [layoutSummaries]);\r\n\r\n    const getOnClickCallback = (layoutName: string) => {\r\n        return () => {\r\n            glue.workspaces.restoreWorkspace(layoutName, { frameId, title: layoutName }).catch((e: Error) => {\r\n                showFeedback(e.message);\r\n            }).finally(() => {\r\n                hidePopup();\r\n            });\r\n        };\r\n    };\r\n\r\n    const getOnCloseClickCallback = (layoutName: string) => {\r\n        return () => {\r\n            glue.workspaces.layouts.delete(layoutName).catch((e: Error) => {\r\n                showFeedback(e.message);\r\n            }).then(() => {\r\n                getSummaries().then((s: any) => { setLayoutSummaries(s); });\r\n            });\r\n        };\r\n    }\r\n\r\n    return (\r\n        <nav id=\"workspacesList\" className=\"nav flex-column\">\r\n            {layoutSummaries.map((summary, i) => {\r\n                return <WorkspaceLayoutItem\r\n                    key={i}\r\n                    name={summary.name}\r\n                    onClick={() => getOnClickCallback(summary.name)()}\r\n                    onCloseClick={(e) => { e.stopPropagation(); getOnCloseClickCallback(summary.name)(); }}\r\n                />\r\n            })}\r\n        </nav>\r\n    );\r\n}\r\n\r\nexport default WorkspaceLayoutsList;","import React, { useEffect, useState } from \"react\";\r\nimport { AddWorkspacePopupProps } from \"../../../types/internal\";\r\nimport Feedback from \"../Feedback\";\r\nimport WorkspaceLayoutsList from \"./WorkspaceLayoutsList\";\r\nimport withGlueInstance from \"../../../withGlueInstance\";\r\n\r\nconst AddWorkspacePopup: React.FC<AddWorkspacePopupProps> = ({ frameId, hidePopup, resizePopup, glue, ...props }) => {\r\n    const [feedbackText, setFeedbackText] = useState<string | undefined>(undefined);\r\n    const containerRef = React.createRef<HTMLDivElement>();\r\n\r\n    const resizePopupWithContainerHeight = () => {\r\n        const containerHeight = containerRef.current?.getBoundingClientRect().height;\r\n        resizePopup({\r\n            width: 300,\r\n            height: containerHeight\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        resizePopupWithContainerHeight();\r\n    }, [feedbackText]);\r\n    const onCreateNewClicked = () => {\r\n        glue.workspaces.createWorkspace({\r\n            children: [],\r\n            frame: {\r\n                reuseFrameId: frameId\r\n            }\r\n        });\r\n        hidePopup();\r\n    }\r\n\r\n    return (\r\n        <div {...props} ref={containerRef} className=\"container-fluid add-workspace\">\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h5 className=\"border-bottom border-secondary pb-1 my-3\">Add Workspace</h5>\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h5 onClick={onCreateNewClicked} itemType=\"h5\" id=\"createNewButton\" className=\"btn btn-primary mb-3 w-100\">Create New</h5>\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h3>Load Workspace</h3>\r\n                    <div className=\"workspaces mb-2\">\r\n                        <WorkspaceLayoutsList\r\n                            frameId={frameId}\r\n                            glue={glue}\r\n                            showFeedback={setFeedbackText}\r\n                            hidePopup={hidePopup}\r\n                            resizePopup={resizePopupWithContainerHeight}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {feedbackText && <Feedback errMessage={feedbackText} />}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default withGlueInstance(AddWorkspacePopup);","import React, { useEffect } from \"react\";\r\nimport { SaveContextCheckboxProps } from \"../../../types/internal\";\r\n\r\nconst SaveContextCheckbox: React.FC<SaveContextCheckboxProps> = ({ changeChecked, refreshHeight }) => {\r\n    const inputRef = React.createRef<HTMLInputElement>();\r\n\r\n    useEffect(() => {\r\n        refreshHeight();\r\n    }, []);\r\n\r\n    const onInputChanged = () => {\r\n        if (!inputRef?.current) {\r\n            return;\r\n        }\r\n\r\n        changeChecked(inputRef.current.checked);\r\n    }\r\n\r\n    return (\r\n        <div className=\"form-check\">\r\n            <input onChange={onInputChanged} ref={inputRef} className=\"form-check-input\" type=\"checkbox\" value=\"\" id=\"saveContextCheckbox\" />\r\n            <label className=\"form-check-label\" htmlFor=\"saveContextCheckbox\">Save context</label>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default SaveContextCheckbox;","import React, { useEffect, useState } from \"react\";\r\nimport { SaveWorkspaceButtonProps } from \"../../../types/internal\";\r\n\r\nconst SaveWorkspaceButton: React.FC<SaveWorkspaceButtonProps> = ({ workspaceId,\r\n    inputValue,\r\n    clearInput,\r\n    showFeedback,\r\n    shouldSaveContext,\r\n    hideFeedback,\r\n    glue,\r\n    hidePopup,\r\n    buildMode }) => {\r\n    const [shouldSave, setShouldSave] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (!shouldSave) {\r\n            return;\r\n        }\r\n        let shouldUpdate = true;\r\n        let workspace: any;\r\n        const workspaceName = inputValue;\r\n        glue.workspaces.getAllWorkspaces().then((allWorkspaces: any) => {\r\n            workspace = allWorkspaces.find((w: any) => w.id === workspaceId);\r\n\r\n            return glue.workspaces.layouts.save({\r\n                name: workspaceName,\r\n                workspaceId: workspace.id,\r\n                saveContext: shouldSaveContext\r\n            });\r\n        }).then(() => {\r\n            return workspace.setTitle(workspaceName);\r\n        }).catch((error: Error) => {\r\n            if (shouldUpdate) {\r\n                showFeedback(error.message)\r\n            }\r\n        }).finally(() => {\r\n            if (shouldUpdate) {\r\n                clearInput();\r\n                setShouldSave(false);\r\n                hidePopup();\r\n            }\r\n        });\r\n\r\n        return () => {\r\n            shouldUpdate = false;\r\n        }\r\n    }, [shouldSave]);\r\n\r\n    const exportJson = (layout: object, name: string) => {\r\n        const downloadElement = document.createElement(\"a\");\r\n        const data = \"text/json;charset=utf-8,\" + encodeURIComponent(JSON.stringify(layout));\r\n\r\n        document.body.append(downloadElement);\r\n        downloadElement.setAttribute(\"href\", \"data:\" + data);\r\n        downloadElement.setAttribute(\"download\", `${name}.txt`);\r\n        downloadElement.click();\r\n        downloadElement.remove();\r\n    }\r\n\r\n    const generateLayout = async (name: string, workspaceId: string) => {\r\n        const instance = glue.agm.instance;\r\n        const payload = { operation: \"generateLayout\", operationArguments: { name, workspaceId } };\r\n\r\n        return (await glue.agm.invoke(\"T42.Workspaces.Control\", payload, instance || \"best\")).returned;\r\n    }\r\n\r\n    const onClick = () => {\r\n        const workspaceName = inputValue;\r\n\r\n        if (workspaceId && !buildMode) {\r\n            hideFeedback();\r\n            if (!workspaceName) {\r\n                showFeedback(\"Please provide a valid name\");\r\n                return;\r\n            }\r\n\r\n            if (shouldSave) {\r\n                return;\r\n            }\r\n\r\n            setShouldSave(true);\r\n        } else if (workspaceId) {\r\n            generateLayout(workspaceName, workspaceId).then((layout) => {\r\n                exportJson(layout, workspaceName);\r\n            }).catch((err) => {\r\n                showFeedback(err.message);\r\n            });\r\n        }\r\n    }\r\n\r\n    return (<button onClick={onClick} id=\"saveButton\" type=\"button\" className=\"btn btn-primary\">\r\n        {buildMode ? \"Download\" : \"Save\"}\r\n    </button>);\r\n};\r\n\r\nexport default SaveWorkspaceButton;","import React, {\r\n    useContext,\r\n    useEffect,\r\n    useLayoutEffect,\r\n    useState\r\n} from \"react\";\r\nimport { SaveWorkspacePopupProps } from \"../../../types/internal\";\r\nimport Feedback from \"../Feedback\";\r\nimport SaveContextCheckbox from \"./SaveContextCheckbox\";\r\nimport SaveWorkspaceButton from \"./SaveWorkspaceButton\";\r\nimport withGlueInstance from \"../../../withGlueInstance\";\r\n\r\nconst SaveWorkspacePopup: React.FC<SaveWorkspacePopupProps> = ({ workspaceId, resizePopup, hidePopup, buildMode, glue, ...props }) => {\r\n    const inputRef = React.createRef<HTMLInputElement>();\r\n    const containerRef = React.createRef<HTMLDivElement>();\r\n\r\n    const [shouldSaveContext, setShouldSaveContext] = useState(false);\r\n    const [feedbackMessage, setFeedbackMessage] = useState(\"\");\r\n    const [workspaceName, setWorkspaceName] = useState(\"\");\r\n\r\n    const refreshHeight = () => {\r\n        if (!containerRef?.current) {\r\n            return;\r\n        }\r\n\r\n        const bounds = containerRef.current.getBoundingClientRect();\r\n        resizePopup({\r\n            height: bounds.height,\r\n            width: 300\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        refreshHeight();\r\n    }, [feedbackMessage, workspaceId]);\r\n\r\n    useEffect(() => {\r\n        let shouldUpdate = true;\r\n        \r\n        glue.workspaces.getAllWorkspaces().then((allWorkspaces: any[]) => {\r\n            const myWorkspace = allWorkspaces.find((w) => w.id === workspaceId);\r\n            if (shouldUpdate) {\r\n                setWorkspaceName(myWorkspace.layoutName || \"\");\r\n            }\r\n        });\r\n\r\n        return () => {\r\n            shouldUpdate = false;\r\n        }\r\n    }, [workspaceId]);\r\n\r\n    const clearInput = () => {\r\n        setWorkspaceName(\"\");\r\n    }\r\n\r\n    return (\r\n        <div {...props} onClick={(e) => e.stopPropagation()} ref={containerRef} className=\"container-fluid save-workspace\">\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h5 className=\"border-bottom border-secondary pb-1 my-3\">Save Workspace</h5>\r\n                </div>\r\n            </div>\r\n            <div className=\"row mb-2\">\r\n                <div className=\"col\">\r\n                    <input ref={inputRef}\r\n                        value={workspaceName}\r\n                        onChange={(e) => setWorkspaceName(e.target.value)}\r\n                        onClick={(e) => setFeedbackMessage(\"\")}\r\n                        className=\"form-control mr-1\"\r\n                        type=\"text\"\r\n                        placeholder=\"Workspace name\"\r\n                        id=\"js-workspace-name\" />\r\n                </div>\r\n            </div>\r\n            <div className=\"row  align-items-center pb-2\">\r\n                <div className=\"col\">\r\n                    {!buildMode &&\r\n                        <SaveContextCheckbox\r\n                            changeChecked={(v) => setShouldSaveContext(v)}\r\n                            refreshHeight={refreshHeight}\r\n                        />}\r\n                </div>\r\n\r\n                <div className=\"col  text-right\">\r\n                    <SaveWorkspaceButton\r\n                        clearInput={clearInput}\r\n                        inputValue={workspaceName}\r\n                        workspaceId={workspaceId}\r\n                        shouldSaveContext={shouldSaveContext}\r\n                        showFeedback={setFeedbackMessage}\r\n                        hideFeedback={() => setFeedbackMessage(\"\")}\r\n                        hidePopup={hidePopup}\r\n                        buildMode={buildMode}\r\n                        glue={glue}\r\n                    />\r\n                </div>\r\n            </div>\r\n            {feedbackMessage && <Feedback errMessage={feedbackMessage} />}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default withGlueInstance(SaveWorkspacePopup);","/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\nfunction t(t,e,n,o){return new(n||(n=Promise))((function(i,s){function r(t){try{c(o.next(t))}catch(t){s(t)}}function a(t){try{c(o.throw(t))}catch(t){s(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,a)}c((o=o.apply(t,e||[])).next())}))}var e=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:{};function n(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error(\"Dynamic requires are not currently supported by @rollup/plugin-commonjs\")}(null==e&&n.path)}},n.exports),n.exports}var o=n((function(t,e){!function(e){var n={config:{},container:{},controls:{},errors:{},items:{},utils:{}};n.utils.F=function(){},n.utils.extend=function(t,e){t.prototype=n.utils.createObject(e.prototype),t.prototype.contructor=t},n.utils.createObject=function(t){return\"function\"==typeof Object.create?Object.create(t):(n.utils.F.prototype=t,new n.utils.F)},n.utils.objectKeys=function(t){var e,n;if(\"function\"==typeof Object.keys)return Object.keys(t);for(n in e=[],t)e.push(n);return e},n.utils.getHashValue=function(t){var e=location.hash.match(new RegExp(t+\"=([^&]*)\"));return e?e[1]:null},n.utils.getQueryStringParam=function(t){if(window.location.hash)return n.utils.getHashValue(t);if(!window.location.search)return null;var e,o,i=window.location.search.substr(1).split(\"&\"),s={};for(o=0;o<i.length;o++)s[(e=i[o].split(\"=\"))[0]]=e[1];return s[t]||null},n.utils.copy=function(t,e){for(var n in e)t[n]=e[n];return t},n.utils.animFrame=function(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)})((function(){t()}))},n.utils.indexOf=function(t,e){if(!(e instanceof Array))throw new Error(\"Haystack is not an Array\");if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},\"function\"!=typeof/./&&\"object\"!=typeof Int8Array?n.utils.isFunction=function(t){return\"function\"==typeof t||!1}:n.utils.isFunction=function(t){return\"[object Function]\"===toString.call(t)},n.utils.fnBind=function(t,e,n){if(void 0!==Function.prototype.bind)return Function.prototype.bind.apply(t,[e].concat(n||[]));var o=function(){var i=(n||[]).concat(Array.prototype.slice.call(arguments,0));if(!(this instanceof o))return t.apply(e,i);t.apply(this,i)};return o.prototype=t.prototype,o},n.utils.removeFromArray=function(t,e){var o=n.utils.indexOf(t,e);if(-1===o)throw new Error(\"Can't remove item from array. Item is not in the array\");e.splice(o,1)},n.utils.now=function(){return\"function\"==typeof Date.now?Date.now():(new Date).getTime()},n.utils.getUniqueId=function(){return(1e15*Math.random()).toString(36).replace(\".\",\"\")},n.utils.filterXss=function(t,e){var n=t.replace(/javascript/gi,\"j&#97;vascript\").replace(/expression/gi,\"expr&#101;ssion\").replace(/onload/gi,\"onlo&#97;d\").replace(/script/gi,\"&#115;cript\").replace(/onerror/gi,\"on&#101;rror\");return!0===e?n:n.replace(/>/g,\"&gt;\").replace(/</g,\"&lt;\")},n.utils.stripTags=function(t){return e.trim(t.replace(/(<([^>]+)>)/gi,\"\"))},n.utils.EventEmitter=function(){this._mSubscriptions={},this._mSubscriptions[n.utils.EventEmitter.ALL_EVENT]=[],this.on=function(t,e,o){if(!n.utils.isFunction(e))throw new Error(\"Tried to listen to event \"+t+\" with non-function callback \"+e);this._mSubscriptions[t]||(this._mSubscriptions[t]=[]),this._mSubscriptions[t].push({fn:e,ctx:o})},this.emit=function(t){var e,o,i;i=Array.prototype.slice.call(arguments,1);var s=this._mSubscriptions[t];if(s)for(s=s.slice(),e=0;e<s.length;e++)o=s[e].ctx||{},s[e].fn.apply(o,i);i.unshift(t);var r=this._mSubscriptions[n.utils.EventEmitter.ALL_EVENT].slice();for(e=0;e<r.length;e++)o=r[e].ctx||{},r[e].fn.apply(o,i)},this.unbind=function(t,e,n){if(this._mSubscriptions[t]){var o,i=!1;for(o=0;o<this._mSubscriptions[t].length;o++)e&&this._mSubscriptions[t][o].fn!==e||n&&n!==this._mSubscriptions[t][o].ctx||(this._mSubscriptions[t].splice(o,1),i=!0);if(!1===i)throw new Error(\"Nothing to unbind for \"+t)}},this.off=this.unbind,this.trigger=this.emit},n.utils.EventEmitter.ALL_EVENT=\"__all\",n.utils.DragListener=function(t,o){n.utils.EventEmitter.call(this),this._eElement=e(t),this._oDocument=e(document),this._eBody=e(document.body),this._nButtonCode=o||0,this._nDelay=200,this._nDistance=10,this._nX=0,this._nY=0,this._nOriginalX=0,this._nOriginalY=0,this._bDragging=!1,this._fMove=n.utils.fnBind(this.onMouseMove,this),this._fUp=n.utils.fnBind(this.onMouseUp,this),this._fDown=n.utils.fnBind(this.onMouseDown,this),this._eElement.on(\"mousedown touchstart\",this._fDown)},n.utils.DragListener.timeout=null,n.utils.copy(n.utils.DragListener.prototype,{destroy:function(){this._eElement.unbind(\"mousedown touchstart\",this._fDown),this._oDocument.unbind(\"mouseup touchend\",this._fUp),this._eElement=null,this._oDocument=null,this._eBody=null},onMouseDown:function(t){if(t.preventDefault(),0==t.button||\"touchstart\"===t.type){var e=this._getCoordinates(t);this._nOriginalX=e.x,this._nOriginalY=e.y,this._oDocument.on(\"mousemove touchmove\",this._fMove),this._oDocument.one(\"mouseup touchend\",this._fUp),this._timeout=setTimeout(n.utils.fnBind((function(){this._startDrag(t)}),this),this._nDelay)}},onMouseMove:function(t){if(null!=this._timeout){t.preventDefault();var e=this._getCoordinates(t);this._nX=e.x-this._nOriginalX,this._nY=e.y-this._nOriginalY,!1===this._bDragging&&(Math.abs(this._nX)>this._nDistance||Math.abs(this._nY)>this._nDistance)&&(clearTimeout(this._timeout),this._startDrag(t)),this._bDragging&&this.emit(\"drag\",this._nX,this._nY,t)}},onMouseUp:function(t){null!=this._timeout&&(clearTimeout(this._timeout),this._eBody.removeClass(\"lm_dragging\"),this._eElement.removeClass(\"lm_dragging\"),this._oDocument.find(\"iframe\").css(\"pointer-events\",\"\"),this._oDocument.unbind(\"mousemove touchmove\",this._fMove),this._oDocument.unbind(\"mouseup touchend\",this._fUp),!0===this._bDragging&&(this._bDragging=!1,this.emit(\"dragStop\",t,this._nOriginalX+this._nX)))},_startDrag:function(t){this._bDragging=!0,this._eBody.addClass(\"lm_dragging\"),this._eElement.addClass(\"lm_dragging\"),this._oDocument.find(\"iframe\").css(\"pointer-events\",\"none\"),this.emit(\"dragStart\",this._nOriginalX,this._nOriginalY,t)},_getCoordinates:function(t){return{x:(t=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0]:t).pageX,y:t.pageY}}}),n.LayoutManager=function(t,o,i){if(!e&&window.$&&(e=window.$),!e||\"function\"!=typeof e.noConflict){throw'Please either expose $ on GoldenLayout\\'s scope (e.g. window) or add \"jquery\" to ',\"your paths when using RequireJS/AMD\",new Error('jQuery is missing as dependency for GoldenLayout. Please either expose $ on GoldenLayout\\'s scope (e.g. window) or add \"jquery\" to your paths when using RequireJS/AMD')}n.utils.EventEmitter.call(this),this.isInitialised=!1,this._isFullPage=!1,this._resizeTimeoutId=null,this._components={\"lm-react-component\":n.utils.ReactComponentHandler},this._itemAreas=[],this._resizeFunction=n.utils.fnBind(this._onResize,this),this._unloadFunction=n.utils.fnBind(this._onUnload,this),this._maximizedItem=null,this._maximizePlaceholder=e('<div class=\"lm_maximise_place\"></div>'),this._creationTimeoutPassed=!1,this._subWindowsCreated=!1,this._dragSources=[],this._dragProxies=[],this._updatingColumnsResponsive=!1,this._firstLoad=!0,this._componentFactory=i,this.width=null,this.height=null,this.root=null,this.openPopouts=[],this.selectedItem=null,this.isSubWindow=!1,this.eventHub=new n.utils.EventHub(this),this.config=this._createConfig(t),this.container=o,this.dropTargetIndicator=null,this.transitionIndicator=null,this.tabDropPlaceholder=e('<div class=\"lm_drop_tab_placeholder\"></div>'),!0===this.isSubWindow&&e(\"body\").css(\"visibility\",\"hidden\"),this._typeToItem={column:n.utils.fnBind(n.items.RowOrColumn,this,[!0]),row:n.utils.fnBind(n.items.RowOrColumn,this,[!1]),stack:n.items.Stack,component:n.items.Component}},n.LayoutManager.__lm=n,n.LayoutManager.minifyConfig=function(t){return(new n.utils.ConfigMinifier).minifyConfig(t)},n.LayoutManager.unminifyConfig=function(t){return(new n.utils.ConfigMinifier).unminifyConfig(t)},n.utils.copy(n.LayoutManager.prototype,{registerComponent:function(t,e){if(\"function\"!=typeof e)throw new Error(\"Please register a constructor function\");if(void 0!==this._components[t])throw new Error(\"Component \"+t+\" is already registered\");this._components[t]=e},toConfig:function(t){var e,o,i;if(!1===this.isInitialised)throw new Error(\"Can't create config, layout not yet initialised\");if(t&&!(t instanceof n.items.AbstractContentItem))throw new Error(\"Root must be a ContentItem\");for((e={settings:n.utils.copy({},this.config.settings),dimensions:n.utils.copy({},this.config.dimensions),labels:n.utils.copy({},this.config.labels),context:n.utils.copy({},this.config.context),workspacesOptions:n.utils.copy({},this.config.workspacesOptions)}).content=[],(o=function(t,e){var n,i;for(n in e.config)\"content\"!==n&&(t[n]=e.config[n]);if(e.contentItems.length)for(t.content=[],i=0;i<e.contentItems.length;i++)t.content[i]={},o(t.content[i],e.contentItems[i])})(e,t?{contentItems:[t]}:this.root),this._$reconcilePopoutWindows(),e.openPopouts=[],i=0;i<this.openPopouts.length;i++)e.openPopouts.push(this.openPopouts[i].toConfig());return e.maximizedItemId=this._maximizedItem?\"__glMaximised\":null,e},getComponent:function(t){if(void 0===this._components[t])throw new n.errors.ConfigurationError('Unknown component \"'+t+'\"');return this._components[t]},init:function(){if(!1===this._subWindowsCreated&&(this._createSubWindows(),this._subWindowsCreated=!0),\"loading\"!==document.readyState&&null!==document.body){if(!0===this.isSubWindow&&!1===this._creationTimeoutPassed)return setTimeout(n.utils.fnBind(this.init,this),7),void(this._creationTimeoutPassed=!0);!0===this.isSubWindow&&this._adjustToWindowMode(),this._setContainer(),this.dropTargetIndicator=new n.controls.DropTargetIndicator(this.container),this.transitionIndicator=new n.controls.TransitionIndicator,this.updateSize(),this._create(this.config),this._bindEvents(),this.isInitialised=!0,this._adjustColumnsResponsive(),this.emit(\"initialised\")}else e(document).ready(n.utils.fnBind(this.init,this))},updateSize:function(t,e){2===arguments.length?(this.width=t,this.height=e):(this.width=this.container.width(),this.height=this.container.height()),!0===this.isInitialised&&(this.root.callDownwards(\"setSize\",[this.width,this.height]),this._maximizedItem&&(this._maximizedItem.element.width(this.width),this._maximizedItem.element.height(this.height),this._maximizedItem.callDownwards(\"setSize\")),this._adjustColumnsResponsive())},destroy:function(){!1!==this.isInitialised&&(this._onUnload(),e(window).off(\"resize\",this._resizeFunction),e(window).off(\"unload beforeunload\",this._unloadFunction),this.root.callDownwards(\"_$destroy\",[],!0),this.root.contentItems=[],this.tabDropPlaceholder.remove(),this.dropTargetIndicator.destroy(),this.transitionIndicator.destroy(),this.eventHub.destroy(),this._dragSources.forEach((function(t){\"function\"==typeof t._dragListener.destroy&&t._dragListener.destroy(),t._element=null,t._itemConfig=null,t._dragListener=null})),this._dragSources=[])},createContentItem:function(t,e){var o;if(\"string\"!=typeof t.type)throw new n.errors.ConfigurationError(\"Missing parameter 'type'\",t);if(\"react-component\"===t.type&&(t.type=\"component\",t.componentName=\"lm-react-component\"),!this._typeToItem[t.type])throw o=\"Unknown type '\"+t.type+\"'. Valid types are \"+n.utils.objectKeys(this._typeToItem).join(\",\"),new n.errors.ConfigurationError(o);return\"component\"!==t.type||e instanceof n.items.Stack||!e||!0===this.isSubWindow&&e instanceof n.items.Root||(t={type:\"stack\",width:t.width,height:t.height,content:[t]}),new this._typeToItem[t.type](this,t,e)},createPopout:function(t,e,o,i){var s,r,a,c,l,d,h=t,u=t instanceof n.items.AbstractContentItem,p=this;if(o=o||null,u){for(h=this.toConfig(t).content,o=n.utils.getUniqueId(),c=t.parent,l=t;1===c.contentItems.length&&!c.isRoot;)c=c.parent,l=l.parent;c.addId(o),isNaN(i)&&(i=n.utils.indexOf(l,c.contentItems))}else h instanceof Array||(h=[h]);return!e&&u&&(s=window.screenX||window.screenLeft,r=window.screenY||window.screenTop,e={left:s+(a=t.element.offset()).left,top:r+a.top,width:t.element.width(),height:t.element.height()}),e||u||(e={left:window.screenX||window.screenLeft+20,top:window.screenY||window.screenTop+20,width:500,height:309}),u&&t.remove(),(d=new n.controls.BrowserPopout(h,e,o,i,this)).on(\"initialised\",(function(){p.emit(\"windowOpened\",d)})),d.on(\"closed\",(function(){p._$reconcilePopoutWindows()})),this.openPopouts.push(d),d},createDragSource:function(t,o,i){this.config.settings.constrainDragToContainer=!1;var s=new n.controls.DragSource(e(t),o,this,i);return this._dragSources.push(s),s},selectItem:function(t,e){if(!0!==this.config.settings.selectionEnabled)throw new Error(\"Please set selectionEnabled to true to use this feature\");t!==this.selectedItem&&(null!==this.selectedItem&&this.selectedItem.deselect(),t&&!0!==e&&t.select(),this.selectedItem=t,this.emit(\"selectionChanged\",t))},_$maximiseItem:function(t){null!==this._maximizedItem&&this._$minimizeItem(this._maximizedItem),this._maximizedItem=t,this._maximizedItem.addId(\"__glMaximised\"),t.element.addClass(\"lm_maximised\"),t.element.after(this._maximizePlaceholder),this.root.element.prepend(t.element),t.element.width(this.container.width()),t.element.height(this.container.height()),t.callDownwards(\"setSize\"),this._maximizedItem.emit(\"maximized\"),this.emit(\"stateChanged\")},_$minimiseItem:function(t){t.element.removeClass(\"lm_maximised\"),t.removeId(\"__glMaximised\"),this._maximizePlaceholder.after(t.element),this._maximizePlaceholder.remove(),t.parent.callDownwards(\"setSize\"),this._maximizedItem=null,t.emit(\"minimized\"),this.emit(\"stateChanged\")},_$closeWindow:function(){window.setTimeout((function(){window.close()}),1)},_$getArea:function(t,e){var n,o,i=1/0,s=null;for(n=0;n<this._itemAreas.length;n++)t>(o=this._itemAreas[n]).x1&&t<o.x2&&e>o.y1&&e<o.y2&&i>o.surface&&(i=o.surface,s=o);return s},_$createRootItemAreas:function(){const{allowDrop:t,allowDropLeft:e,allowDropTop:n,allowDropRight:o,allowDropBottom:i}=this.config.workspacesOptions;if(!1!==t||!0===e||!0===n||!0===o||!0===i){var s={y2:0,x2:0,y1:\"y2\",x1:\"x2\"};for(var r in s){var a=this.root._$getArea();a.side=r,a[r]=s[r]?a[s[r]]-50:\"y2\"===r?50+this.root.element.offset().top:50,a.surface=(a.x2-a.x1)*(a.y2-a.y1),this._itemAreas.push(a)}(!1===e||!1===t&&!0!==e)&&(this._itemAreas[1]=void 0),(!1===n||!1===t&&!0!==n)&&(this._itemAreas[0]=void 0),(!1===o||!1===t&&!0!==o)&&(this._itemAreas[3]=void 0),(!1===i||!1===t&&!0!==i)&&(this._itemAreas[2]=void 0),this._itemAreas=this._itemAreas.filter((t=>void 0!==t))}},_$calculateItemAreas:function(){var t,e,o=this._getAllContentItems();if(this._itemAreas=[],1!==o.length){for(this._$createRootItemAreas(),t=0;t<o.length;t++){if(!o[t].isStack)continue;const s=o[t].config.workspacesConfig&&!0===o[t].config.workspacesConfig.allowDrop;if(!1===this.config.workspacesOptions.allowDrop&&!s)return;if((!o[t].config.workspacesConfig||!1!==o[t].config.workspacesConfig.allowDrop)&&null!==(e=o[t]._$getArea()))if(e instanceof Array)this._itemAreas=this._itemAreas.concat(e);else{this._itemAreas.push(e);var i={};n.utils.copy(i,e),n.utils.copy(i,e.contentItem._contentAreaDimensions.header.highlightArea),i.surface=(i.x2-i.x1)*(i.y2-i.y1),this._itemAreas.push(i)}}\"workspace\"===this.config.settings.mode&&(this._itemAreas=[this._itemAreas[this._itemAreas.length-1]])}else this._itemAreas.push(this.root._$getArea())},_$normalizeContentItem:function(t,o){if(!t)throw new Error(\"No content item defined\");if(n.utils.isFunction(t)&&(t=t()),t instanceof n.items.AbstractContentItem)return t;if(e.isPlainObject(t)&&t.type){var i=this.createContentItem(t,o);return i.callDownwards(\"_$init\"),i}throw new Error(\"Invalid contentItem\")},_$reconcilePopoutWindows:function(){var t,e=[];for(t=0;t<this.openPopouts.length;t++)!1===this.openPopouts[t].getWindow().closed?e.push(this.openPopouts[t]):this.emit(\"windowClosed\",this.openPopouts[t]);this.openPopouts.length!==e.length&&(this.emit(\"stateChanged\"),this.openPopouts=e)},_getAllContentItems:function(){var t=[],e=function(n){if(t.push(n),n.contentItems instanceof Array)for(var o=0;o<n.contentItems.length;o++)e(n.contentItems[o])};return e(this.root),t},_bindEvents:function(){this._isFullPage&&e(window).resize(this._resizeFunction),e(window).on(\"unload beforeunload\",this._unloadFunction)},_onResize:function(){clearTimeout(this._resizeTimeoutId),this._resizeTimeoutId=setTimeout(n.utils.fnBind(this.updateSize,this),100)},_createConfig:function(t){var o=n.utils.getQueryStringParam(\"gl-window\");o&&(this.isSubWindow=!0,t=localStorage.getItem(o),t=JSON.parse(t),t=(new n.utils.ConfigMinifier).unminifyConfig(t),localStorage.removeItem(o)),t=e.extend(!0,{},n.config.defaultConfig,t);var i=function(t){for(var e in t)\"props\"!==e&&\"object\"==typeof t[e]?i(t[e]):\"type\"===e&&\"react-component\"===t[e]&&(t.type=\"component\",t.componentName=\"lm-react-component\")};return i(t),!1===t.settings.hasHeaders&&(t.dimensions.headerHeight=0),t},_adjustToWindowMode:function(){var t=e('<div class=\"lm_popin\" title=\"'+this.config.labels.popin+'\"><div class=\"lm_icon\"></div><div class=\"lm_bg\"></div></div>');t.click(n.utils.fnBind((function(){this.emit(\"popIn\")}),this)),document.title=n.utils.stripTags(this.config.content[0].title),e(\"head\").append(e(\"body link, body style, template, .gl_keep\")),this.container=e(\"body\").html(\"\").css(\"visibility\",\"visible\").append(t);document.body.offsetHeight;window.__glInstance=this},_createSubWindows:function(){var t,e;for(t=0;t<this.config.openPopouts.length;t++)e=this.config.openPopouts[t],this.createPopout(e.content,e.dimensions,e.parentId,e.indexInParent)},_setContainer:function(){var t=e(this.container||\"body\");if(0===t.length)throw new Error(\"GoldenLayout container not found\");if(t.length>1)throw new Error(\"GoldenLayout more than one container element specified\");t[0]===document.body&&(this._isFullPage=!0,e(\"html, body\").css({height:\"100%\",margin:0,padding:0,overflow:\"hidden\"})),this.container=t},_create:function(t){var e;if(!(t.content instanceof Array))throw e=void 0===t.content?\"Missing setting 'content' on top level of configuration\":\"Configuration parameter 'content' must be an array\",new n.errors.ConfigurationError(e,t);if(t.content.length>1)throw e=\"Top level content can't contain more then one element.\",new n.errors.ConfigurationError(e,t);this.root=new n.items.Root(this,{content:t.content},this.container),this.root.callDownwards(\"_$init\"),\"__glMaximised\"===t.maximizedItemId&&this.root.getItemsById(t.maximizedItemId)[0].toggleMaximise()},_onUnload:function(){if(!0===this.config.settings.closePopoutsOnUnload)for(var t=0;t<this.openPopouts.length;t++)this.openPopouts[t].close()},_adjustColumnsResponsive:function(){if(this._useResponsiveLayout()&&!this._updatingColumnsResponsive&&this.config.dimensions&&this.config.dimensions.minItemWidth&&0!==this.root.contentItems.length&&this.root.contentItems[0].isRow){this._firstLoad=!1;var t=this.root.contentItems[0].contentItems.length;if(!(t<=1)){var e=this.config.dimensions.minItemWidth;if(!(t*e<=this.width)&&this.container.is(\":visible\")){this._updatingColumnsResponsive=!0;for(var n=t-Math.max(Math.floor(this.width/e),1),o=this.root.contentItems[0],i=this._findAllStackContainers()[0],s=0;s<n;s++){var r=o.contentItems[o.contentItems.length-1];this._addChildContentItemsToContainer(i,r)}this._updatingColumnsResponsive=!1}}}else this._firstLoad=!1},_useResponsiveLayout:function(){return this.config.settings&&(\"always\"==this.config.settings.responsiveMode||\"onload\"==this.config.settings.responsiveMode&&this._firstLoad)},_addChildContentItemsToContainer:function(t,e){\"stack\"===e.type?e.contentItems.forEach((function(n){t.addChild(n),e.removeChild(n,!0)})):e.contentItems.forEach(n.utils.fnBind((function(e){this._addChildContentItemsToContainer(t,e)}),this))},_findAllStackContainers:function(){var t=[];return this._findAllStackContainersRecursive(t,this.root),t},_findAllStackContainersRecursive:function(t,e){e.contentItems.forEach(n.utils.fnBind((function(e){\"stack\"==e.type?t.push(e):e.isComponent||this._findAllStackContainersRecursive(t,e)}),this))}}),n.LayoutManager.default=n.LayoutManager,t.exports=n.LayoutManager,window.GoldenLayout=n.LayoutManager,n.config.defaultConfig={openPopouts:[],settings:{hasHeaders:!0,constrainDragToContainer:!0,reorderEnabled:!0,selectionEnabled:!1,popoutWholeStack:!1,blockedPopoutsThrowError:!0,closePopoutsOnUnload:!0,showMinimizeIcon:!1,showPopoutIcon:!0,showMaximizeIcon:!0,showCloseIcon:!0,responsiveMode:\"always\",tabOverlapAllowance:0,reorderOnTabMenuClick:!0,tabControlOffset:10,mode:\"default\"},dimensions:{borderWidth:5,borderGrabWidth:15,minItemHeight:10,minItemWidth:10,headerHeight:20,dragProxyWidth:500,dragProxyHeight:500},labels:{close:\"close\",maximize:\"maximize\",restore:\"restore\",minimize:\"minimize\",popout:\"eject\",popin:\"pop in\",tabDropdown:\"additional tabs\"},workspacesOptions:{}},n.config.itemDefaultConfig={isClosable:!0,reorderEnabled:!0,title:\"\",workspacesConfig:{}},n.container.ItemContainer=function(t,o,i){n.utils.EventEmitter.call(this),this.width=null,this.height=null,this.title=t.componentName,this.parent=o,this.layoutManager=i,this.isHidden=!1,this._config=t,this._element=e(['<div class=\"lm_item_container\">','<div class=\"lm_content\"></div>',\"</div>\"].join(\"\")),this._contentElement=this._element.find(\".lm_content\")},n.utils.copy(n.container.ItemContainer.prototype,{getElement:function(){return this._contentElement},hide:function(){this.emit(\"hide\"),this.isHidden=!0,this._element.hide()},show:function(){this.emit(\"show\"),this.isHidden=!1,this._element.show(),0==this.height&&0==this.width||this.emit(\"shown\")},setSize:function(t,e){for(var n,o,i,s,r=this.parent,a=this;!r.isColumn&&!r.isRow;)if(a=r,(r=r.parent).isRoot)return!1;for(n=(\"height\"===(o=r.isColumn?\"height\":\"width\")?e:t)/(this[o]*(1/(a.config[o]/100)))*100,i=(a.config[o]-n)/(r.contentItems.length-1),s=0;s<r.contentItems.length;s++)r.contentItems[s]===a?r.contentItems[s].config[o]=n:r.contentItems[s].config[o]+=i;return r.callDownwards(\"setSize\"),!0},close:function(){this._config.isClosable&&(this.emit(\"close\"),this.parent.close())},getState:function(){return this._config.componentState},extendState:function(t){this.setState(e.extend(!0,this.getState(),t))},setState:function(t){this._config.componentState=t,this.parent.emitBubblingEvent(\"stateChanged\")},setTitle:function(t){this.parent.setTitle(t)},_$setSize:function(t,e){if(t!==this.width||e!==this.height){this.width=t,this.height=e;var n=this._contentElement[0],o=n.offsetWidth-n.clientWidth,i=n.offsetHeight-n.clientHeight;this._contentElement.width(this.width-o).height(this.height-i),this.emit(\"resize\")}}}),n.errors.ConfigurationError=function(t,e){Error.call(this),this.name=\"Configuration Error\",this.message=t,this.node=e},n.errors.ConfigurationError.prototype=new Error,n.controls.BrowserPopout=function(t,e,o,i,s){n.utils.EventEmitter.call(this),this.isInitialised=!1,this._config=t,this._dimensions=e,this._parentId=o,this._indexInParent=i,this._layoutManager=s,this._popoutWindow=null,this._id=null,this._createWindow()},n.utils.copy(n.controls.BrowserPopout.prototype,{toConfig:function(){if(!1===this.isInitialised)throw new Error(\"Can't create config, layout not yet initialised\");return{dimensions:{width:this.getGlInstance().width,height:this.getGlInstance().height,left:this._popoutWindow.screenX||this._popoutWindow.screenLeft,top:this._popoutWindow.screenY||this._popoutWindow.screenTop},content:this.getGlInstance().toConfig().content,parentId:this._parentId,indexInParent:this._indexInParent}},getGlInstance:function(){return this._popoutWindow.__glInstance},getWindow:function(){return this._popoutWindow},close:function(){if(this.getGlInstance())this.getGlInstance()._$closeWindow();else try{this.getWindow().close()}catch(t){}},popIn:function(){var t,n;this._indexInParent;this._parentId&&(t=e.extend(!0,{},this.getGlInstance().toConfig()).content[0],(n=this._layoutManager.root.getItemsById(this._parentId)[0])||(n=this._layoutManager.root.contentItems.length>0?this._layoutManager.root.contentItems[0]:this._layoutManager.root)),n.addChild(t,this._indexInParent),this.close()},_createWindow:function(){var t,o=this._createUrl(),i=Math.floor(1e6*Math.random()).toString(36),s=this._serializeWindowOptions({width:this._dimensions.width,height:this._dimensions.height,innerWidth:this._dimensions.width,innerHeight:this._dimensions.height,menubar:\"no\",toolbar:\"no\",location:\"no\",personalbar:\"no\",resizable:\"yes\",scrollbars:\"no\",status:\"no\"});if(this._popoutWindow=window.open(o,i,s),this._popoutWindow)e(this._popoutWindow).on(\"load\",n.utils.fnBind(this._positionWindow,this)).on(\"unload beforeunload\",n.utils.fnBind(this._onClose,this)),t=setInterval(n.utils.fnBind((function(){this._popoutWindow.__glInstance&&this._popoutWindow.__glInstance.isInitialised&&(this._onInitialised(),clearInterval(t))}),this),10);else if(!0===this._layoutManager.config.settings.blockedPopoutsThrowError){var r=new Error(\"Popout blocked\");throw r.type=\"popoutBlocked\",r}},_serializeWindowOptions:function(t){var e,n=[];for(e in t)n.push(e+\"=\"+t[e]);return n.join(\",\")},_createUrl:function(){var t,e={content:this._config},o=\"gl-window-config-\"+n.utils.getUniqueId();e=(new n.utils.ConfigMinifier).minifyConfig(e);try{localStorage.setItem(o,JSON.stringify(e))}catch(t){throw new Error(\"Error while writing to localStorage \"+t.toString())}return 1===(t=document.location.href.split(\"?\")).length?t[0]+\"?gl-window=\"+o:document.location.href+\"&gl-window=\"+o},_positionWindow:function(){this._popoutWindow.moveTo(this._dimensions.left,this._dimensions.top),this._popoutWindow.focus()},_onInitialised:function(){this.isInitialised=!0,this.getGlInstance().on(\"popIn\",this.popIn,this),this.emit(\"initialised\")},_onClose:function(){setTimeout(n.utils.fnBind(this.emit,this,[\"closed\"]),50)}}),n.controls.DragProxy=function(t,o,i,s,r,a){n.utils.EventEmitter.call(this),this._dragListener=i,this._layoutManager=s,this._contentItem=r,this._originalParent=a,this._area=null,this._lastValidArea=null,this._dragListener.on(\"drag\",this._onDrag,this),this._dragListener.on(\"dragStop\",this._onDrop,this),this.element=e(n.controls.DragProxy._template),a&&a._side&&(this._sided=a._sided,this.element.addClass(\"lm_\"+a._side),[\"right\",\"bottom\"].indexOf(a._side)>=0&&this.element.find(\".lm_content\").after(this.element.find(\".lm_header\"))),this.element.css({left:t,top:o}),this.element.find(\".lm_tab\").attr(\"title\",n.utils.stripTags(this._contentItem.config.title)),this.element.find(\".lm_title\").html(this._contentItem.config.title),this.childElementContainer=this.element.find(\".lm_content\"),this.childElementContainer.append(r.element),this._originalParent&&this._originalParent.layoutManager.config&&this._originalParent.layoutManager.config.settings&&this._originalParent.layoutManager.config.settings.disableDragProxy&&this.element.find(\".lm_content\").css(\"display\",\"none\"),this._updateTree(),this._layoutManager._$calculateItemAreas(),this._setDimensions(),e(document.body).append(this.element);var c=this._layoutManager.container.offset();this._minX=c.left,this._minY=c.top,this._maxX=this._layoutManager.container.width()+this._minX,this._maxY=this._layoutManager.container.height()+this._minY,this._width=this._layoutManager.config.dimensions.dragProxyWidth,this._height=this._layoutManager.config.dimensions.dragProxyHeight,this._setDropPosition(t,o)},n.controls.DragProxy._template='<div class=\"lm_dragProxy\"><div class=\"lm_header\"><ul class=\"lm_tabs\"><li class=\"lm_tab lm_active\"><i class=\"lm_left\"></i><span class=\"lm_title\"></span><i class=\"lm_right\"></i></li></ul></div><div class=\"lm_content\"></div></div>',n.utils.copy(n.controls.DragProxy.prototype,{_onDrag:function(t,e,n){var o=(n=n.originalEvent&&n.originalEvent.touches?n.originalEvent.touches[0]:n).pageX,i=n.pageY;(o>this._minX&&o<this._maxX&&i>this._minY&&i<this._maxY||!0!==this._layoutManager.config.settings.constrainDragToContainer)&&this._setDropPosition(o,i)},_setDropPosition:function(t,e){this.element.css({left:t,top:e}),this._area=this._layoutManager._$getArea(t,e),null!==this._area?(this._lastValidArea=this._area,this._area.contentItem._$highlightDropZone(t,e,this._area)):null!==this._lastValidArea&&(this._lastValidArea.contentItem._$highlightDropZone(t,e,this._area),this._lastValidArea=this._area)},_onDrop:function(t){this._layoutManager.dropTargetIndicator.hide(),this.element.find(\".lm_content\").css(\"display\",\"\"),null===this._area||t&&t.canceled?null===this._lastValidArea||t&&t.canceled?!this._originalParent||t&&t.canceled?this._contentItem._$destroy():this._originalParent.addChild(this._contentItem):this._lastValidArea.contentItem._$onDrop(this._contentItem,this._lastValidArea):(this._area.contentItem._$onDrop(this._contentItem,this._area),this._originalParent&&this._area.contentItem!==this._originalParent&&this._layoutManager.emit(\"parentChanged\",this._contentItem,this._originalParent)),this.element.remove();const e=this._layoutManager._dragProxies.indexOf(this);e>-1&&this._layoutManager._dragProxies.splice(e,1),this._layoutManager.emit(\"itemDropped\",this._contentItem)},_updateTree:function(){this._contentItem.parent&&this._contentItem.parent.removeChild(this._contentItem,!0),this._contentItem._$setParent(this)},_setDimensions:function(){this._contentItem.callDownwards(\"_$show\")}}),n.controls.DragSource=function(t,e,n,o){this._element=t,this._itemConfig=e,this._layoutManager=n,this._dragListener=null,this._createDragListener(o)},n.utils.copy(n.controls.DragSource.prototype,{_createDragListener:function(t){null!==this._dragListener&&this._dragListener.destroy(),this._dragListener=t||new n.utils.DragListener(this._element),\"function\"==typeof this._dragListener.on&&(this._dragListener.on(\"dragStart\",this._onDragStart,this),this._dragListener.on(\"dragStop\",this._createDragListener,this))},_onDragStart:function(t,o){var i=this._itemConfig;n.utils.isFunction(i)&&(i=i());var s=this._layoutManager._$normalizeContentItem(e.extend(!0,{},i)),r=new n.controls.DragProxy(t,o,this._dragListener,this._layoutManager,s,null);this._layoutManager.transitionIndicator.transitionElements(this._element,r.element)}}),n.controls.DropTargetIndicator=function(){this.element=e(n.controls.DropTargetIndicator._template),e(document.body).append(this.element)},n.controls.DropTargetIndicator._template='<div class=\"lm_dropTargetIndicator\"><div class=\"lm_inner\"><span></span><span></span><span></span></div></div>',n.utils.copy(n.controls.DropTargetIndicator.prototype,{destroy:function(){this.element.remove()},highlight:function(t,e,n,o){this.highlightArea({x1:t,y1:e,x2:n,y2:o})},highlightArea:function(t){t?this.element.css({left:t.x1,top:t.y1,width:t.x2-t.x1,height:t.y2-t.y1}).show():this.element.hide()},hide:function(){this.element.hide()}}),n.controls.Header=function(t,o){if(n.utils.EventEmitter.call(this),this.layoutManager=t,this.element=e(n.controls.Header._template),!0===this.layoutManager.config.settings.selectionEnabled&&(this.element.addClass(\"lm_selectable\"),this.element.on(\"click touchstart\",n.utils.fnBind(this._onHeaderClick,this))),\"workspace\"===this.layoutManager.config.settings.mode&&this.element.addClass(\"header_double\"),\"workspace\"===this.layoutManager.config.settings.mode&&this.layoutManager._componentFactory){const t=this.element.children(\".lm_controls\")[0],e=this.element.children(\".lm_workspace_controls\")[0],n=this.element.children(\".lm_logo\")[0];this.layoutManager._componentFactory.createLogo&&this.layoutManager._componentFactory.createLogo({domNode:n}),this.layoutManager._componentFactory.createAddWorkspace&&this.layoutManager._componentFactory.createAddWorkspace({domNode:e}),this.layoutManager._componentFactory.createSystemButtons&&this.layoutManager._componentFactory.createSystemButtons({domNode:t})}this.tabsContainer=this.element.find(\".lm_tabs\"),this.tabDropdownContainer=this.element.find(\".lm_tabdropdown_list\"),this.tabDropdownContainer.hide(),this.controlsContainer=this.element.find(\".lm_controls\"),this.workspaceControlsContainer=\"workspace\"===this.layoutManager.config.settings.mode?this.element.find(\".lm_workspace_controls\"):void 0,this.tabsControlsContainer=\"workspace\"!==this.layoutManager.config.settings.mode?this.element.find(\".lm_tabs_controls\"):void 0,this.parent=o,this.parent.on(\"resize\",this._updateTabSizesWithoutDropdown,this),this.tabs=[],this.activeContentItem=null,this.closeButton=null,this.tabDropdownButton=null,this.hideAdditionalTabsDropdown=n.utils.fnBind(this._hideAdditionalTabsDropdown,this),e(document).mouseup(this.hideAdditionalTabsDropdown),this._lastVisibleTabIndex=-1,this._tabControlOffset=this.layoutManager.config.settings.tabControlOffset,\"workspace\"===this.layoutManager.config.settings.mode&&this.layoutManager._componentFactory&&this.layoutManager._componentFactory.createSystemButtons||this._createControls()},n.controls.Header._template=['<div class=\"lm_header\">','<div class=\"lm_logo\"></div>','<ul class=\"lm_tabs\"></ul>','<ul class=\"lm_workspace_controls\"></ul>','<ul class=\"lm_tabs_controls\"></ul>','<div class=\"move_area\"></div>','<ul class=\"lm_controls\"></ul>','<ul class=\"lm_tabdropdown_list\"></ul>',\"</div>\"].join(\"\"),n.utils.copy(n.controls.Header.prototype,{createTab:function(t,e){var o,i;for(i=0;i<this.tabs.length;i++)if(this.tabs[i].contentItem===t)return;if(o=new n.controls.Tab(this,t),0===this.tabs.length)return this.tabs.push(o),void this.tabsContainer.append(o.element);void 0===e&&(e=this.tabs.length),e>0?this.tabs[e-1].element.after(o.element):this.tabs[0].element.before(o.element),this.tabs.splice(e,0,o),this._updateTabSizesWithoutDropdown()},removeTab:function(t){for(var e=0;e<this.tabs.length;e++)if(this.tabs[e].contentItem===t)return this.tabs[e]._$destroy(),void this.tabs.splice(e,1);throw new Error(\"contentItem is not controlled by this header\")},setActiveContentItem:function(t){var e,n,o,i;for(e=0;e<this.tabs.length;e++)o=this.tabs[e].contentItem===t,this.tabs[e].setActive(o),!0===o&&(this.activeContentItem=t,this.parent.config.activeItemIndex=e);if(this.layoutManager.config.settings.reorderOnTabMenuClick&&-1!==this._lastVisibleTabIndex&&this.parent.config.activeItemIndex>this._lastVisibleTabIndex){for(i=this.tabs[this.parent.config.activeItemIndex],n=this.parent.config.activeItemIndex;n>0;n--)this.tabs[n]=this.tabs[n-1];this.tabs[0]=i,this.parent.config.activeItemIndex=0}this._updateTabSizesWithoutDropdown(),this.parent.emitBubblingEvent(\"stateChanged\")},position:function(t){var e=this.parent._header.show;return e&&!this.parent._side&&(e=\"top\"),void 0!==t&&this.parent._header.show!=t&&(this.parent._header.show=t,this.parent._setupHeaderPosition()),e},_$setClosable:function(t){return!(!this.closeButton||!this._isClosable())&&(this.closeButton.element[t?\"show\":\"hide\"](),!0)},_$destroy:function(){this.emit(\"destroy\",this);for(var t=0;t<this.tabs.length;t++)this.tabs[t]._$destroy();e(document).off(\"mouseup\",this.hideAdditionalTabsDropdown),this.element.remove()},_getHeaderSetting:function(t){if(t in this.parent._header)return this.parent._header[t]},_createControls:function(){var t,e,o,i,s,r,a,c,l;l=n.utils.fnBind(this._showAdditionalTabsDropdown,this),c=this.layoutManager.config.labels.tabDropdown,this.tabDropdownButton=new n.controls.HeaderButton(this,c,\"lm_tabdropdown\",l),this.tabDropdownButton.element.hide(),this._getHeaderSetting(\"popout\")&&(e=n.utils.fnBind(this._onPopoutClick,this),o=this._getHeaderSetting(\"popout\"),new n.controls.HeaderButton(this,o,\"lm_popout\",e)),this._getHeaderSetting(\"minimize\")&&(minimizeLabel=this._getHeaderSetting(\"minimize\"),minimizeButton=new n.controls.HeaderButton(this,minimizeLabel,\"lm_minimise\",void 0)),this._getHeaderSetting(\"maximize\")&&(\"workspace\"!==this.layoutManager.config.settings.mode&&(r=n.utils.fnBind(this.parent.toggleMaximise,this.parent)),i=this._getHeaderSetting(\"maximize\"),a=new n.controls.HeaderButton(this,i,\"lm_maximise\",r),s=this._getHeaderSetting(\"restore\"),this.parent.on(\"maximized\",(function(){a.element.attr(\"title\",s)})),this.parent.on(\"minimized\",(function(){a.element.attr(\"title\",i)}))),this._isClosable()&&(\"workspace\"!==this.layoutManager.config.settings.mode&&(t=n.utils.fnBind(this.parent.remove,this.parent)),o=this._getHeaderSetting(\"close\"),this.closeButton=new n.controls.HeaderButton(this,o,\"lm_close\",t))},_showAdditionalTabsDropdown:function(){this.tabDropdownContainer.show()},_hideAdditionalTabsDropdown:function(t){this.tabDropdownContainer.hide()},_isClosable:function(){return this.parent.config.isClosable&&this.layoutManager.config.settings.showCloseIcon},_onPopoutClick:function(){this.parent.emit(\"popoutRequested\")},_onHeaderClick:function(t){t.target===this.element[0]&&this.parent.select()},_updateTabSizes:function(t){if(0!==this.tabs.length){this.tabDropdownButton.element.toggle(!0===t);this.element.css(!this.parent._sided?\"width\":\"height\",\"\");var e,n,o,i,s=this.element.outerWidth()-this.controlsContainer.outerWidth()-this._tabControlOffset,r=0,a=0,c=0,l=this.layoutManager.config.settings.tabOverlapAllowance,d=!1,h=this.activeContentItem?this.tabs.indexOf(this.activeContentItem.tab):0,u=this.tabs[h];for(this.parent._sided&&(s=this.element.outerHeight()-this.controlsContainer.outerHeight()-this._tabControlOffset),this._lastVisibleTabIndex=-1,n=0;n<this.tabs.length;n++)if(e=this.tabs[n].element,this.tabsContainer.append(e),r+=e.outerWidth()+parseInt(e.css(\"margin-right\"),10),(a=h<=n?r:r+u.element.outerWidth()+parseInt(u.element.css(\"margin-right\"),10))>s){if(d)n===h&&(e.css({\"z-index\":\"auto\",\"margin-left\":\"\"}),this.tabsContainer.append(e));else if((c=h>0&&h<=n?(a-s)/(n-1):(a-s)/n)<l){for(o=0;o<=n;o++)i=o!==h&&0!==o?\"-\"+c+\"px\":\"\",this.tabs[o].element.css({\"z-index\":n-o,\"margin-left\":i});this._lastVisibleTabIndex=n,this.tabsContainer.append(e)}else d=!0;if(d&&n!==h){if(!t)return void this._updateTabSizes(!0);e.css({\"z-index\":\"auto\",\"margin-left\":\"\"}),this.tabDropdownContainer.append(e)}}else this._lastVisibleTabIndex=n,e.css({\"z-index\":\"auto\",\"margin-left\":\"\"}),this.tabsContainer.append(e)}},_updateTabSizesWithoutDropdown:function(t){if(0!==this.tabs.length){this.element.css(!this.parent._sided?\"width\":\"height\",\"\");this.element.outerWidth(),this.controlsContainer.outerWidth(),this._tabControlOffset;var e,n,o=0,i=(this.layoutManager.config.settings.tabOverlapAllowance,this.activeContentItem?this.tabs.indexOf(this.activeContentItem.tab):0),s=this.tabs[i];for(this.parent._sided&&this.element.outerHeight()-this.controlsContainer.outerHeight()-this._tabControlOffset,n=0;n<this.tabs.length;n++)e=this.tabs[n].element,this.tabsContainer.append(e),o+=e.outerWidth()+parseInt(e.css(\"margin-right\"),10),i<=n?o:o+s.element.outerWidth()+parseInt(s.element.css(\"margin-right\"),10),e.css({\"z-index\":\"auto\",\"margin-left\":\"\"}),this.tabsContainer.append(e)}}}),n.controls.HeaderButton=function(t,n,o,i){this._header=t,this.element=e('<li class=\"'+o+'\" title=\"'+n+'\"></li>'),this._header.on(\"destroy\",this._$destroy,this),this._action=i,this.element.on(\"click touchstart\",this._action),this._header.controlsContainer.append(this.element)},n.utils.copy(n.controls.HeaderButton.prototype,{_$destroy:function(){this.element.off(),this.element.remove()}}),n.controls.Splitter=function(t,e,o){this._isVertical=t,this._size=e,this._grabSize=o<e?e:o,this.element=this._createElement(),this._dragListener=new n.utils.DragListener(this.element)},n.utils.copy(n.controls.Splitter.prototype,{on:function(t,e,n){this._dragListener.on(t,e,n)},_$destroy:function(){this.element.remove()},_createElement:function(){var t=e('<div class=\"lm_drag_handle\"></div>'),n=e('<div class=\"lm_splitter\"></div>');n.append(t);var o=this._grabSize-this._size,i=o/2;return this._isVertical?(t.css(\"top\",-i),t.css(\"height\",this._size+o),n.addClass(\"lm_vertical\"),n.height(this._size)):(t.css(\"left\",-i),t.css(\"width\",this._size+o),n.addClass(\"lm_horizontal\"),n.width(this._size)),n}}),n.controls.Tab=function(t,o){this.header=t,this.contentItem=o,this.element=e(n.controls.Tab._template),this.titleElement=this.element.find(\".lm_title\"),this.closeElement=this.element.find(\".lm_close_tab\"),this.closeElement[o.config.isClosable?\"show\":\"hide\"](),this.isActive=!1,this.setTitle(o.config.title),this.contentItem.on(\"titleChanged\",this.setTitle,this),this._layoutManager=this.contentItem.layoutManager,!0===this._layoutManager.config.settings.reorderEnabled&&!0===o.config.reorderEnabled&&(this._dragListener=new n.utils.DragListener(this.element),this._dragListener.on(\"dragStart\",this._onDragStart,this),this.contentItem.on(\"destroy\",this._dragListener.destroy,this._dragListener)),this._onTabClickFn=n.utils.fnBind(this._onTabClick,this),this._onCloseClickFn=n.utils.fnBind(this._onCloseClick,this),\"workspace\"===this._layoutManager.config.settings.mode&&o.config.noTabHeader&&this.element.hide(),this.element.on(\"mousedown touchstart\",this._onTabClickFn),this.contentItem.config.isClosable?(this.closeElement.on(\"click touchstart\",this._onCloseClickFn),this.closeElement.on(\"mousedown\",this._onCloseMousedown)):this.closeElement.remove(),this.contentItem.tab=this,this.contentItem.emit(\"tab\",this),this.contentItem.layoutManager.emit(\"tabCreated\",this),this.contentItem.isComponent&&(this.contentItem.container.tab=this,this.contentItem.container.emit(\"tab\",this))},n.controls.Tab._template='<li class=\"lm_tab\"><i class=\"lm_left\"></i><span class=\"lm_title\"></span><div class=\"lm_close_tab\"></div><i class=\"lm_right\"></i></li>',n.utils.copy(n.controls.Tab.prototype,{setTitle:function(t){this.element.attr(\"title\",n.utils.stripTags(t)),this.titleElement.html(t)},onCloseClick:void 0,setActive:function(t){t!==this.isActive&&(this.isActive=t,t?this.element.addClass(\"lm_active\"):this.element.removeClass(\"lm_active\"))},_$destroy:function(){this.element.off(\"mousedown touchstart\",this._onTabClickFn),this.closeElement.off(\"click touchstart\",this._onCloseClickFn),this._dragListener&&(this.contentItem.off(\"destroy\",this._dragListener.destroy,this._dragListener),this._dragListener.off(\"dragStart\",this._onDragStart),this._dragListener=null),this.element.remove()},_onDragStart:function(t,e){!0===this.contentItem.parent.isMaximized&&this.contentItem.parent.toggleMaximise();const o=\"workspace\"===this.contentItem.layoutManager.config.settings.mode,i=this.contentItem.parent.header.tabs.length<2,s=!this.contentItem.config.windowId&&this.contentItem.config.componentState&&!this.contentItem.config.componentState.windowId;if(o&&i)return;if(!o&&s)return;if(this._layoutManager.config&&!1===this._layoutManager.config.workspacesOptions.allowExtract&&this.contentItem.config.workspacesConfig&&!0!==this.contentItem.config.workspacesConfig.allowExtract)return;if(this.contentItem.config.workspacesConfig&&!1===this.contentItem.config.workspacesConfig.allowExtract)return;const r=new n.controls.DragProxy(t,e,this._dragListener,this._layoutManager,this.contentItem,this.header.parent);this._layoutManager._dragProxies.push(r)},_onTabClick:function(t){if(0===t.button||\"touchstart\"===t.type){var e=this.header.parent.getActiveContentItem();this.contentItem!==e&&this.header.parent.setActiveContentItem(this.contentItem)}else 1===t.button&&this.contentItem.config.isClosable&&this._onCloseClick(t)},_onCloseClick:function(t){this.contentItem.layoutManager.emit(\"tabCloseRequested\",this),this.onCloseClick&&this.onCloseClick(t)},_onCloseMousedown:function(t){t.stopPropagation()}}),n.controls.TransitionIndicator=function(){this._element=e('<div class=\"lm_transition_indicator\"></div>'),e(document.body).append(this._element),this._toElement=null,this._fromDimensions=null,this._totalAnimationDuration=200,this._animationStartTime=null},n.utils.copy(n.controls.TransitionIndicator.prototype,{destroy:function(){this._element.remove()},transitionElements:function(t,e){},_nextAnimationFrame:function(){var t,e=this._measure(this._toElement),o=(n.utils.now()-this._animationStartTime)/this._totalAnimationDuration,i={};if(o>=1)this._element.hide();else{for(t in e.opacity=0,this._fromDimensions)i[t]=this._fromDimensions[t]+(e[t]-this._fromDimensions[t])*o;this._element.css(i),n.utils.animFrame(n.utils.fnBind(this._nextAnimationFrame,this))}},_measure:function(t){var e=t.offset();return{left:e.left,top:e.top,width:t.outerWidth(),height:t.outerHeight()}}}),n.items.AbstractContentItem=function(t,e,o){n.utils.EventEmitter.call(this),this.config=this._extendItemNode(e),this.type=e.type,this.contentItems=[],this.parent=o,this.isInitialised=!1,this.isMaximized=!1,this.isRoot=!1,this.isRow=!1,this.isColumn=!1,this.isStack=!1,this.isComponent=!1,this.isVisible=!0,this.layoutManager=t,this._pendingEventPropagations={},this._throttledEvents=[\"stateChanged\"],this.on(n.utils.EventEmitter.ALL_EVENT,this._propagateEvent,this),e.content&&this._createContentItems(e)},n.utils.copy(n.items.AbstractContentItem.prototype,{setSize:function(){throw new Error(\"Abstract Method\")},callDownwards:function(t,e,n,o){var i;for(!0!==n&&!0!==o&&this[t].apply(this,e||[]),i=0;i<this.contentItems.length;i++)this.contentItems[i].callDownwards(t,e,n);!0===n&&!0!==o&&this[t].apply(this,e||[])},removeChild:function(t,e){var o=n.utils.indexOf(t,this.contentItems);if(-1===o)throw new Error(\"Can't remove child item. Unknown content item\");!0!==e&&this.contentItems[o]._$destroy(),this.contentItems.splice(o,1),this.config.content.splice(o,1),this.contentItems.length>0?this.callDownwards(\"setSize\"):this instanceof n.items.Root||!0!==this.config.isClosable||this.parent.removeChild(this)},addChild:function(t,e){void 0===e&&(e=this.contentItems.length),this.contentItems.splice(e,0,t),void 0===this.config.content&&(this.config.content=[]),this.config.content.splice(e,0,t.config),t.parent=this,!0===t.parent.isInitialised&&!1===t.isInitialised&&t._$init()},replaceChild:function(t,e,o){e=this.layoutManager._$normalizeContentItem(e);var i=n.utils.indexOf(t,this.contentItems),s=t.element[0].parentNode;if(-1===i)throw new Error(\"Can't replace child. oldChild is not child of this\");s.replaceChild(e.element[0],t.element[0]);const r=t.isVisible;!0===o&&(t.parent=null,t._$destroy()),this.contentItems[i]=e,e.parent=this,this.isStack&&(this.header.tabs[i].contentItem=e),!0===e.parent.isInitialised&&!1===e.isInitialised&&e._$init(),r||e._$hide(),this.callDownwards(\"setSize\")},remove:function(){this.parent.removeChild(this)},popout:function(){var t=this.layoutManager.createPopout(this);return this.emitBubblingEvent(\"stateChanged\"),t},toggleMaximise:function(t){t&&t.preventDefault(),!0===this.isMaximized?this.layoutManager._$minimiseItem(this):this.layoutManager._$maximiseItem(this),this.isMaximized=!this.isMaximized,this.emitBubblingEvent(\"stateChanged\")},select:function(){this.layoutManager.selectedItem!==this&&(this.layoutManager.selectItem(this,!0),this.element.addClass(\"lm_selected\"))},deselect:function(){this.layoutManager.selectedItem===this&&(this.layoutManager.selectedItem=null,this.element.removeClass(\"lm_selected\"))},setTitle:function(t){this.config.title=t,this.emit(\"titleChanged\",t),this.emit(\"stateChanged\")},hasId:function(t){return!!this.config.id&&(\"string\"==typeof this.config.id?this.config.id===t:this.config.id instanceof Array?-1!==n.utils.indexOf(t,this.config.id):void 0)},addId:function(t){this.hasId(t)||(this.config.id?\"string\"==typeof this.config.id?this.config.id=[this.config.id,t]:this.config.id instanceof Array&&this.config.id.push(t):this.config.id=t)},removeId:function(t){if(!this.hasId(t))throw new Error(\"Id not found\");if(\"string\"==typeof this.config.id)delete this.config.id;else if(this.config.id instanceof Array){var e=n.utils.indexOf(t,this.config.id);this.config.id.splice(e,1)}},getItemsByFilter:function(t){var e=[],n=function(o){for(var i=0;i<o.contentItems.length;i++)!0===t(o.contentItems[i])&&e.push(o.contentItems[i]),n(o.contentItems[i])};return n(this),e},getItemsById:function(t){return this.getItemsByFilter((function(e){return e.config.id instanceof Array?-1!==n.utils.indexOf(t,e.config.id):e.config.id===t}))},getItemsByType:function(t){return this._$getItemsByProperty(\"type\",t)},getComponentsByName:function(t){var e,n=this._$getItemsByProperty(\"componentName\",t),o=[];for(e=0;e<n.length;e++)o.push(n[e].instance&&0!==Object.keys(n[e].instance).length?n[e].instance:n[e]);return o},_$getItemsByProperty:function(t,e){return this.getItemsByFilter((function(n){return n[t]===e}))},_$setParent:function(t){this.parent=t},_$highlightDropZone:function(t,e,n){this.layoutManager.dropTargetIndicator.highlightArea(n)},_$onDrop:function(t){this.addChild(t)},_$hide:function(){this._callOnActiveComponents(\"hide\"),this.element.hide(),this.isVisible=!1,this.layoutManager.updateSize()},_$show:function(){this._callOnActiveComponents(\"show\"),this.element.show(),this.isVisible=!0,this.layoutManager.updateSize()},_callOnActiveComponents:function(t){var e,n,o=this.getItemsByType(\"stack\");for(n=0;n<o.length;n++)(e=o[n].getActiveContentItem())&&e.isComponent&&e.container[t]()},_$destroy:function(){this.emitBubblingEvent(\"beforeItemDestroyed\"),this.callDownwards(\"_$destroy\",[],!0,!0),this.element.remove(),this.emitBubblingEvent(\"itemDestroyed\")},_$getArea:function(t){var e=(t=t||this.element).offset(),n=t.width(),o=t.height();return{x1:e.left,y1:e.top,x2:e.left+n,y2:e.top+o,surface:n*o,contentItem:this}},_$init:function(){var t;for(this.setSize(),t=0;t<this.contentItems.length;t++)this.childElementContainer.append(this.contentItems[t].element);this.isInitialised=!0,this.emitBubblingEvent(\"itemCreated\"),this.emitBubblingEvent(this.type+\"Created\")},emitBubblingEvent:function(t){var e=new n.utils.BubblingEvent(t,this);this.emit(t,e)},_createContentItems:function(t){var e,o;if(!(t.content instanceof Array))throw new n.errors.ConfigurationError(\"content must be an Array\",t);for(o=0;o<t.content.length;o++)e=this.layoutManager.createContentItem(t.content[o],this),this.contentItems.push(e)},_extendItemNode:function(t){for(var e in n.config.itemDefaultConfig)void 0===t[e]&&(t[e]=n.config.itemDefaultConfig[e]);return t},_propagateEvent:function(t,e){e instanceof n.utils.BubblingEvent&&!1===e.isPropagationStopped&&!0===this.isInitialised&&(!1===this.isRoot&&this.parent?this.parent.emit.apply(this.parent,Array.prototype.slice.call(arguments,0)):this._scheduleEventPropagationToLayoutManager(t,e))},_scheduleEventPropagationToLayoutManager:function(t,e){-1===n.utils.indexOf(t,this._throttledEvents)?this.layoutManager.emit(t,e.origin):!0!==this._pendingEventPropagations[t]&&(this._pendingEventPropagations[t]=!0,n.utils.animFrame(n.utils.fnBind(this._propagateEventToLayoutManager,this,[t,e])))},_propagateEventToLayoutManager:function(t,e){this._pendingEventPropagations[t]=!1,this.layoutManager.emit(t,e)}}),n.items.Component=function(t,o,i){n.items.AbstractContentItem.call(this,t,o,i);var s=t.getComponent(this.config.componentName),r=e.extend(!0,{},this.config.componentState||{});r.componentName=this.config.componentName,this.componentName=this.config.componentName,\"\"===this.config.title&&(this.config.title=this.config.componentName),this.isComponent=!0,this.container=new n.container.ItemContainer(this.config,this,t),this.instance=new s(this.container,r),this.element=this.container._element},n.utils.extend(n.items.Component,n.items.AbstractContentItem),n.utils.copy(n.items.Component.prototype,{close:function(){this.parent.removeChild(this)},setSize:function(){this.element.is(\":visible\")&&(this.emit(\"size-changed\",{width:this.element.width(),height:this.element.height()}),this.container._$setSize(this.element.width(),this.element.height()))},_$init:function(){n.items.AbstractContentItem.prototype._$init.call(this),this.container.emit(\"open\")},_$hide:function(){this.container.hide(),n.items.AbstractContentItem.prototype._$hide.call(this)},_$show:function(){this.container.show(),n.items.AbstractContentItem.prototype._$show.call(this)},_$shown:function(){this.container.shown(),n.items.AbstractContentItem.prototype._$shown.call(this)},_$destroy:function(){this.container.emit(\"destroy\",this),n.items.AbstractContentItem.prototype._$destroy.call(this)},_$getArea:function(){return null}}),n.items.Root=function(t,o,i){n.items.AbstractContentItem.call(this,t,o,null),this.isRoot=!0,this.type=\"root\",this.element=e('<div class=\"lm_goldenlayout lm_item lm_root\"></div>'),this.childElementContainer=this.element,this._containerElement=i,this._containerElement.append(this.element)},n.utils.extend(n.items.Root,n.items.AbstractContentItem),n.utils.copy(n.items.Root.prototype,{addChild:function(t){if(this.contentItems.length>0)throw new Error(\"Root node can only have a single child\");t=this.layoutManager._$normalizeContentItem(t,this),this.childElementContainer.append(t.element),n.items.AbstractContentItem.prototype.addChild.call(this,t),this.callDownwards(\"setSize\"),this.emitBubblingEvent(\"stateChanged\")},setSize:function(t,e){t=void 0===t?this._containerElement.width():t,e=void 0===e?this._containerElement.height():e,this.element.width(t),this.element.height(e),this.contentItems[0]&&(this.contentItems[0].element.width(t),this.contentItems[0].element.height(e))},_$highlightDropZone:function(t,e,o){this.layoutManager.tabDropPlaceholder.remove(),n.items.AbstractContentItem.prototype._$highlightDropZone.apply(this,arguments)},_$onDrop:function(t,e){var o;if(t.isComponent&&((o=this.layoutManager.createContentItem({type:\"stack\",header:t.config.header||{}},this))._$init(),o.addChild(t),t=o),this.contentItems.length){var i=\"x\"==e.side[0]?\"row\":\"column\",s=\"x\"==e.side[0]?\"width\":\"height\",r=\"2\"==e.side[1],a=this.contentItems[0];if(!a instanceof n.items.RowOrColumn||a.type!=i){var c=this.layoutManager.createContentItem({type:i},this);this.replaceChild(a,c),c.addChild(t,r?0:void 0,!0),c.addChild(a,r?void 0:0,!0),a.config[s]=50,t.config[s]=50,c.callDownwards(\"setSize\")}else{var l=a.contentItems[r?0:a.contentItems.length-1];a.addChild(t,r?0:void 0,!0),l.config[s]*=.5,t.config[s]=l.config[s],a.callDownwards(\"setSize\")}}else this.addChild(t)}}),n.items.RowOrColumn=function(t,o,i,s){n.items.AbstractContentItem.call(this,o,i,s),this.isRow=!t,this.isColumn=t,this.element=e('<div class=\"lm_item lm_'+(t?\"column\":\"row\")+'\"></div>'),this.childElementContainer=this.element,this._splitterSize=o.config.dimensions.borderWidth,this._splitterGrabSize=o.config.dimensions.borderGrabWidth,this._isColumn=t,this._dimension=t?\"height\":\"width\",this._splitter=[],this._splitterPosition=null,this._splitterMinPosition=null,this._splitterMaxPosition=null,this._layoutManager=o},n.utils.extend(n.items.RowOrColumn,n.items.AbstractContentItem),n.utils.copy(n.items.RowOrColumn.prototype,{addChild:function(t,e,o){var i,s,r,a;if(t=this.layoutManager._$normalizeContentItem(t,this),void 0===e&&(e=this.contentItems.length),this.contentItems.length>0?(a=this._createSplitter(Math.max(0,e-1)).element,e>0?(this.contentItems[e-1].element.after(a),a.after(t.element)):(this.contentItems[0].element.before(a),a.before(t.element))):this.childElementContainer.append(t.element),n.items.AbstractContentItem.prototype.addChild.call(this,t,e),i=1/this.contentItems.length*100,!0!==o){for(r=0;r<this.contentItems.length;r++)this.contentItems[r]===t?t.config[this._dimension]=i:(s=this.contentItems[r].config[this._dimension]*=(100-i)/100,this.contentItems[r].config[this._dimension]=s);this.callDownwards(\"setSize\"),this.emitBubblingEvent(\"stateChanged\")}else this.emitBubblingEvent(\"stateChanged\")},removeChild:function(t,e){var o,i,s=t.config[this._dimension],r=n.utils.indexOf(t,this.contentItems),a=Math.max(r-1,0);if(-1===r)throw new Error(\"Can't remove child. ContentItem is not child of this Row or Column\");for(this._splitter[a]&&(this._splitter[a]._$destroy(),this._splitter.splice(a,1)),o=0;o<this.contentItems.length;o++)this.contentItems[o]!==t&&(this.contentItems[o].config[this._dimension]+=s/(this.contentItems.length-1));n.items.AbstractContentItem.prototype.removeChild.call(this,t,e),1===this.contentItems.length&&!0===this.config.isClosable?(i=this.contentItems[0],this.contentItems=[],this.parent.replaceChild(this,i,!0)):(this.callDownwards(\"setSize\"),this.emitBubblingEvent(\"stateChanged\"))},replaceChild:function(t,e){var o=t.config[this._dimension];e.config=e.config||{},e.config[this._dimension]=o,n.items.AbstractContentItem.prototype.replaceChild.call(this,t,e),this.callDownwards(\"setSize\"),this.emitBubblingEvent(\"stateChanged\")},setSize:function(){this.contentItems.length>0&&(this._calculateRelativeSizes(),this._setAbsoluteSizes()),this.emitBubblingEvent(\"stateChanged\"),this.emit(\"resize\")},_$init:function(){var t;if(!0!==this.isInitialised)for(n.items.AbstractContentItem.prototype._$init.call(this),t=0;t<this.contentItems.length-1;t++)this.contentItems[t].element.after(this._createSplitter(t).element)},_setAbsoluteSizes:function(){var t,e=this._calculateAbsoluteSizes();for(t=0;t<this.contentItems.length;t++)e.additionalPixel-t>0&&e.itemSizes[t]++,this._isColumn?(this.contentItems[t].element.width(e.totalWidth),this.contentItems[t].element.height(e.itemSizes[t])):(this.contentItems[t].element.width(e.itemSizes[t]),this.contentItems[t].element.height(e.totalHeight))},_calculateAbsoluteSizes:function(){var t,e,n=(this.contentItems.length-1)*this._splitterSize,o=this.element.width(),i=this.element.height(),s=0,r=[];for(this._isColumn?i-=n:o-=n,t=0;t<this.contentItems.length;t++)s+=e=this._isColumn?Math.floor(i*(this.contentItems[t].config.height/100)):Math.floor(o*(this.contentItems[t].config.width/100)),r.push(e);return{itemSizes:r,additionalPixel:Math.floor((this._isColumn?i:o)-s),totalWidth:o,totalHeight:i}},_calculateRelativeSizes:function(){var t,e=0,n=[],o=this._isColumn?\"height\":\"width\";for(t=0;t<this.contentItems.length;t++)void 0!==this.contentItems[t].config[o]?e+=this.contentItems[t].config[o]:n.push(this.contentItems[t]);if(100!==Math.round(e))if(Math.round(e)<100&&n.length>0){for(t=0;t<n.length;t++)n[t].config[o]=(100-e)/n.length;this._respectMinItemWidth()}else{if(Math.round(e)>100)for(t=0;t<n.length;t++)n[t].config[o]=50,e+=50;for(t=0;t<this.contentItems.length;t++)this.contentItems[t].config[o]=this.contentItems[t].config[o]/e*100;this._respectMinItemWidth()}else this._respectMinItemWidth()},_respectMinItemWidth:function(){var t,e,n,o,i=this.layoutManager.config.dimensions&&this.layoutManager.config.dimensions.minItemWidth||0,s=[],r=0,a=0,c=0,l=0,d=[];if(!(this._isColumn||!i||this.contentItems.length<=1)){t=this._calculateAbsoluteSizes();for(var h=0;h<this.contentItems.length;h++)this.contentItems[h],(l=t.itemSizes[h])<i?(a+=i-l,o={width:i}):(r+=l-i,o={width:l},s.push(o)),d.push(o);if(!(0===a||a>r)){for(e=a/r,c=a,h=0;h<s.length;h++)o=s[h],c-=n=Math.round((o.width-i)*e),o.width-=n;for(0!==c&&(d[d.length-1].width-=c),h=0;h<this.contentItems.length;h++)this.contentItems[h].config.width=d[h].width/t.totalWidth*100}}},_createSplitter:function(t){var e;return(e=new n.controls.Splitter(this._isColumn,this._splitterSize,this._splitterGrabSize)).on(\"drag\",n.utils.fnBind(this._onSplitterDrag,this,[e]),this),e.on(\"dragStop\",n.utils.fnBind(this._onSplitterDragStop,this,[e]),this),e.on(\"dragStart\",n.utils.fnBind(this._onSplitterDragStart,this,[e]),this),this._splitter.splice(t,0,e),e},_getItemsForSplitter:function(t){var e=n.utils.indexOf(t,this._splitter);return{before:this.contentItems[e],after:this.contentItems[e+1]}},_getMinimumDimensions:function(t){for(var e=0,n=0,o=0;o<t.length;++o)e=Math.max(t[o].minWidth||0,e),n=Math.max(t[o].minHeight||0,n);return{horizontal:e,vertical:n}},_onSplitterDragStart:function(t){var e=this._getItemsForSplitter(t),n=this.layoutManager.config.dimensions[this._isColumn?\"minItemHeight\":\"minItemWidth\"],o=this._getMinimumDimensions(e.before.config.content),i=this._isColumn?o.vertical:o.horizontal,s=this._getMinimumDimensions(e.after.config.content),r=this._isColumn?s.vertical:s.horizontal;this._splitterPosition=0,this._splitterMinPosition=-1*(e.before.element[this._dimension]()-(i||n)),this._splitterMaxPosition=e.after.element[this._dimension]()-(r||n)},_onSplitterDrag:function(t,e,n){if(!this._layoutManager.config||!1!==this._layoutManager.config.workspacesOptions.allowSplitters){var o=this._isColumn?n:e;o>this._splitterMinPosition&&o<this._splitterMaxPosition&&(this._splitterPosition=o,t.element.css(this._isColumn?\"top\":\"left\",o)),this._layoutManager.emit(\"splitterDragged\",t)}},_onSplitterDragStop:function(t){if(!this._layoutManager.config||!1!==this._layoutManager.config.workspacesOptions.allowSplitters){var e=this._getItemsForSplitter(t),o=e.before.element[this._dimension](),i=e.after.element[this._dimension](),s=(this._splitterPosition+o)/(o+i),r=e.before.config[this._dimension]+e.after.config[this._dimension];e.before.config[this._dimension]=s*r,e.after.config[this._dimension]=(1-s)*r,t.element.css({top:0,left:0}),n.utils.animFrame(n.utils.fnBind(this.callDownwards,this,[\"setSize\"])),this._layoutManager.emit(\"splitterDragStopped\",t)}}}),n.items.Stack=function(t,o,i){n.items.AbstractContentItem.call(this,t,o,i),this.element=e('<div class=\"lm_item lm_stack\"></div>'),this._activeContentItem=null;var s=t.config;this._header={show:!0===s.settings.hasHeaders&&!1!==o.hasHeaders,popout:s.settings.showPopoutIcon&&s.labels.popout,maximize:s.settings.showMaximizeIcon&&s.labels.maximize,minimize:s.settings.showMinimizeIcon&&s.labels.minimize,close:s.settings.showCloseIcon&&s.labels.close},s.header&&n.utils.copy(this._header,s.header),o.header&&n.utils.copy(this._header,o.header),o.content&&o.content[0]&&o.content[0].header&&n.utils.copy(this._header,o.content[0].header),this._dropZones={},this._dropSegment=null,this._contentAreaDimensions=null,this._dropIndex=null,this.isStack=!0,this.childElementContainer=e('<div class=\"lm_items\"></div>'),this.header=new n.controls.Header(t,this),this.element.append(this.header.element),this.element.append(this.childElementContainer),this._setupHeaderPosition(),this._$validateClosability()},n.utils.extend(n.items.Stack,n.items.AbstractContentItem),n.utils.copy(n.items.Stack.prototype,{setSize:function(){var t,e=this._header.show?this.header.element.height():0,n=this.element.width()-(this._sided?e:0),o=this.element.height()-(this._sided?0:e);for(this.childElementContainer.width(n),this.childElementContainer.height(o),t=0;t<this.contentItems.length;t++)this.contentItems[t].element.width(n).height(o);this.emit(\"resize\"),this.emitBubblingEvent(\"stateChanged\")},_$init:function(){var t,e;if(!0!==this.isInitialised){for(n.items.AbstractContentItem.prototype._$init.call(this),t=0;t<this.contentItems.length;t++)this.header.createTab(this.contentItems[t]),this.contentItems[t]._$hide();if(this.contentItems.length>0){if(!(e=this.contentItems[this.config.activeItemIndex||0]))throw new Error(\"Configured activeItemIndex out of bounds\");this.setActiveContentItem(e)}}},setActiveContentItem:function(t){if(-1===n.utils.indexOf(t,this.contentItems))throw new Error(\"contentItem is not a child of this stack\");const e=this._activeContentItem;null!==this._activeContentItem&&this._activeContentItem._$hide(),this._activeContentItem=t,this.header.setActiveContentItem(t),t._$show(),this.emit(\"activeContentItemChanged\",t),this.layoutManager.emit(\"activeContentItemChanged\",t),e&&e.emit(\"focusLost\"),this.emitBubblingEvent(\"stateChanged\")},getActiveContentItem:function(){return this.header.activeContentItem},addChild:function(t,o,i=!0){t=this.layoutManager._$normalizeContentItem(t,this),n.items.AbstractContentItem.prototype.addChild.call(this,t,o),this.childElementContainer.append(t.element),this.header.createTab(t,o),e(this.layoutManager.container).is(\":visible\")&&i?this.setActiveContentItem(t):t._$hide(),this.callDownwards(\"setSize\"),this._$validateClosability(),this.emitBubblingEvent(\"stateChanged\")},removeChild:function(t,e){var o=n.utils.indexOf(t,this.contentItems);n.items.AbstractContentItem.prototype.removeChild.call(this,t,e),this.header.removeTab(t),this.header.activeContentItem===t&&(this.contentItems.length>0?this.setActiveContentItem(this.contentItems[Math.max(o-1,0)]):this._activeContentItem=null),this._$validateClosability(),this.emitBubblingEvent(\"stateChanged\")},_$validateClosability:function(){var t,e,n;for(t=this.header._isClosable(),n=0,e=this.contentItems.length;n<e&&t;n++)t=this.contentItems[n].config.isClosable;this.header._$setClosable(t)},_$destroy:function(){n.items.AbstractContentItem.prototype._$destroy.call(this),this.header._$destroy()},_$onDrop:function(t){if(\"header\"===this._dropSegment)return this._resetHeaderDropZone(),void this.addChild(t,this._dropIndex);if(\"body\"!==this._dropSegment){var e,o,i,s=\"top\"===this._dropSegment||\"bottom\"===this._dropSegment,r=\"left\"===this._dropSegment||\"right\"===this._dropSegment,a=\"top\"===this._dropSegment||\"left\"===this._dropSegment,c=s&&this.parent.isColumn||r&&this.parent.isRow,l=s?\"column\":\"row\",d=s?\"height\":\"width\";t.isComponent&&((o=this.layoutManager.createContentItem({type:\"stack\",header:t.config.header||{}},this))._$init(),o.addChild(t),t=o),c?(e=n.utils.indexOf(this,this.parent.contentItems),this.parent.addChild(t,a?e:e+1,!0),this.config[d]*=.5,t.config[d]=this.config[d],this.parent.callDownwards(\"setSize\")):(l=s?\"column\":\"row\",i=this.layoutManager.createContentItem({type:l},this),this.parent.replaceChild(this,i),i.addChild(t,a?0:void 0,!0),i.addChild(this,a?void 0:0,!0),this.config[d]=50,t.config[d]=50,i.callDownwards(\"setSize\"))}else this.addChild(t)},_$highlightDropZone:function(t,e){var n,o;for(n in this._contentAreaDimensions)if((o=this._contentAreaDimensions[n].hoverArea).x1<t&&o.x2>t&&o.y1<e&&o.y2>e)return void(\"header\"===n?(this._dropSegment=\"header\",this._highlightHeaderDropZone(this._sided?e:t)):(this._resetHeaderDropZone(),this._highlightBodyDropZone(n)));this.layoutManager.dropTargetIndicator.highlightArea(null)},_$getArea:function(){if(!1===this.element.is(\":visible\"))return null;var t=n.items.AbstractContentItem.prototype._$getArea,e=t.call(this,this.header.element),o=t.call(this,this.childElementContainer),i=o.x2-o.x1,s=o.y2-o.y1;return this._contentAreaDimensions={header:{hoverArea:{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2},highlightArea:{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2}}},this._activeContentItem&&!1===this._activeContentItem.isComponent?e:0===this.contentItems.length?(this._contentAreaDimensions.body={hoverArea:{x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2},highlightArea:{x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2}},t.call(this,this.element)):(\"workspace\"!==this.layoutManager.config.settings.mode&&(this._contentAreaDimensions.left={hoverArea:{x1:o.x1,y1:o.y1,x2:o.x1+.25*i,y2:o.y2},highlightArea:{x1:o.x1,y1:o.y1,x2:o.x1+.5*i,y2:o.y2}},this._contentAreaDimensions.top={hoverArea:{x1:o.x1+.25*i,y1:o.y1,x2:o.x1+.75*i,y2:o.y1+.5*s},highlightArea:{x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y1+.5*s}},this._contentAreaDimensions.right={hoverArea:{x1:o.x1+.75*i,y1:o.y1,x2:o.x2,y2:o.y2},highlightArea:{x1:o.x1+.5*i,y1:o.y1,x2:o.x2,y2:o.y2}},this._contentAreaDimensions.bottom={hoverArea:{x1:o.x1+.25*i,y1:o.y1+.5*s,x2:o.x1+.75*i,y2:o.y2},highlightArea:{x1:o.x1,y1:o.y1+.5*s,x2:o.x2,y2:o.y2}}),t.call(this,this.element))},_highlightHeaderDropZone:function(t){var e,n,o,i,s,r,a,c,l=this.header.tabs.length,d=!1;if(0===l)return a=this.header.element.offset(),void this.layoutManager.dropTargetIndicator.highlightArea({x1:a.left,x2:a.left+100,y1:a.top+this.header.element.height()-20,y2:a.top+this.header.element.height()});for(e=0;e<l;e++)if(s=(n=this.header.tabs[e].element).offset(),this._sided?(i=s.top,o=s.left,c=n.height()):(i=s.left,o=s.top,c=n.width()),t>i&&t<i+c){d=!0;break}if(!(!1===d&&t<i)){if(t<i+c/2?(this._dropIndex=e,n.before(this.layoutManager.tabDropPlaceholder)):(this._dropIndex=Math.min(e+1,l),n.after(this.layoutManager.tabDropPlaceholder)),this._sided)return placeHolderTop=this.layoutManager.tabDropPlaceholder.offset().top,void this.layoutManager.dropTargetIndicator.highlightArea({x1:o,x2:o+n.innerHeight(),y1:placeHolderTop,y2:placeHolderTop+this.layoutManager.tabDropPlaceholder.width()});r=this.layoutManager.tabDropPlaceholder.offset().left,this.layoutManager.dropTargetIndicator.highlightArea({x1:r,x2:r+this.layoutManager.tabDropPlaceholder.width(),y1:o,y2:o+n.innerHeight()})}},_resetHeaderDropZone:function(){this.layoutManager.tabDropPlaceholder.remove()},_setupHeaderPosition:function(){var t=[\"right\",\"left\",\"bottom\"].indexOf(this._header.show)>=0&&this._header.show;if(this.header.element.toggle(!!this._header.show),this._side=t,this._sided=[\"right\",\"left\"].indexOf(this._side)>=0,this.element.removeClass(\"lm_left lm_right lm_bottom\"),this._side&&this.element.addClass(\"lm_\"+this._side),this.element.find(\".lm_header\").length&&this.childElementContainer){var e=[\"right\",\"bottom\"].indexOf(this._side)>=0?\"before\":\"after\";this.header.element[e](this.childElementContainer),this.callDownwards(\"setSize\")}},_highlightBodyDropZone:function(t){var e=this._contentAreaDimensions[t].highlightArea;this.layoutManager.dropTargetIndicator.highlightArea(e),this._dropSegment=t}}),n.utils.BubblingEvent=function(t,e){this.name=t,this.origin=e,this.isPropagationStopped=!1},n.utils.BubblingEvent.prototype.stopPropagation=function(){this.isPropagationStopped=!0},n.utils.ConfigMinifier=function(){if(this._keys=[\"settings\",\"hasHeaders\",\"constrainDragToContainer\",\"selectionEnabled\",\"dimensions\",\"borderWidth\",\"minItemHeight\",\"minItemWidth\",\"headerHeight\",\"dragProxyWidth\",\"dragProxyHeight\",\"labels\",\"close\",\"maximize\",\"minimize\",\"popout\",\"content\",\"componentName\",\"componentState\",\"id\",\"width\",\"type\",\"height\",\"isClosable\",\"title\",\"popoutWholeStack\",\"openPopouts\",\"parentId\",\"activeItemIndex\",\"reorderEnabled\",\"borderGrabWidth\"],this._keys.length>36)throw new Error(\"Too many keys in config minifier map\");this._values=[!0,!1,\"row\",\"column\",\"stack\",\"component\",\"close\",\"maximize\",\"minimize\",\"open in new window\"]},n.utils.copy(n.utils.ConfigMinifier.prototype,{minifyConfig:function(t){var e={};return this._nextLevel(t,e,\"_min\"),e},unminifyConfig:function(t){var e={};return this._nextLevel(t,e,\"_max\"),e},_nextLevel:function(t,e,n){var o,i;for(o in t)t instanceof Array&&(o=parseInt(o,10)),t.hasOwnProperty(o)&&(i=this[n](o,this._keys),\"object\"==typeof t[o]?(e[i]=t[o]instanceof Array?[]:{},this._nextLevel(t[o],e[i],n)):e[i]=this[n](t[o],this._values))},_min:function(t,e){if(\"string\"==typeof t&&1===t.length)return\"___\"+t;var o=n.utils.indexOf(t,e);return-1===o?t:o.toString(36)},_max:function(t,e){return\"string\"==typeof t&&1===t.length?e[parseInt(t,36)]:\"string\"==typeof t&&\"___\"===t.substr(0,3)?t[3]:t}}),n.utils.EventHub=function(t){n.utils.EventEmitter.call(this),this._layoutManager=t,this._dontPropagateToParent=null,this._childEventSource=null,this.on(n.utils.EventEmitter.ALL_EVENT,n.utils.fnBind(this._onEventFromThis,this)),this._boundOnEventFromChild=n.utils.fnBind(this._onEventFromChild,this),e(window).on(\"gl_child_event\",this._boundOnEventFromChild)},n.utils.EventHub.prototype._onEventFromThis=function(){var t=Array.prototype.slice.call(arguments);this._layoutManager.isSubWindow&&t[0]!==this._dontPropagateToParent&&this._propagateToParent(t),this._propagateToChildren(t),this._dontPropagateToParent=null,this._childEventSource=null},n.utils.EventHub.prototype._$onEventFromParent=function(t){this._dontPropagateToParent=t[0],this.emit.apply(this,t)},n.utils.EventHub.prototype._onEventFromChild=function(t){this._childEventSource=t.originalEvent.__gl,this.emit.apply(this,t.originalEvent.__glArgs)},n.utils.EventHub.prototype._propagateToParent=function(t){var e,n=\"gl_child_event\";document.createEvent?(e=window.opener.document.createEvent(\"HTMLEvents\")).initEvent(n,!0,!0):(e=window.opener.document.createEventObject()).eventType=n,e.eventName=n,e.__glArgs=t,e.__gl=this._layoutManager,document.createEvent?window.opener.dispatchEvent(e):window.opener.fireEvent(\"on\"+e.eventType,e)},n.utils.EventHub.prototype._propagateToChildren=function(t){var e,n;for(n=0;n<this._layoutManager.openPopouts.length;n++)(e=this._layoutManager.openPopouts[n].getGlInstance())&&e!==this._childEventSource&&e.eventHub._$onEventFromParent(t)},n.utils.EventHub.prototype.destroy=function(){e(window).off(\"gl_child_event\",this._boundOnEventFromChild)},n.utils.ReactComponentHandler=function(t,e){this._reactComponent=null,this._originalComponentWillUpdate=null,this._container=t,this._initialState=e,this._reactClass=this._getReactClass(),this._container.on(\"open\",this._render,this),this._container.on(\"destroy\",this._destroy,this)},n.utils.copy(n.utils.ReactComponentHandler.prototype,{_render:function(){this._reactComponent=ReactDOM.render(this._getReactComponent(),this._container.getElement()[0]),this._originalComponentWillUpdate=this._reactComponent.componentWillUpdate||function(){},this._reactComponent.componentWillUpdate=this._onUpdate.bind(this),this._container.getState()&&this._reactComponent.setState(this._container.getState())},_destroy:function(){ReactDOM.unmountComponentAtNode(this._container.getElement()[0]),this._container.off(\"open\",this._render,this),this._container.off(\"destroy\",this._destroy,this)},_onUpdate:function(t,e){this._container.setState(e),this._originalComponentWillUpdate.call(this._reactComponent,t,e)},_getReactClass:function(){var t,e=this._container._config.component;if(!e)throw new Error(\"No react component name. type: react-component needs a field `component`\");if(!(t=this._container.layoutManager.getComponent(e)))throw new Error('React component \"'+e+'\" not found. Please register all components with GoldenLayout using `registerComponent(name, component)`');return t},_getReactComponent:function(){var t={glEventHub:this._container.layoutManager.eventHub,glContainer:this._container},n=e.extend(t,this._container._config.props);return React.createElement(this._reactClass,n)}})}(window.$)}));function i(t){if(t&&t.errorHandling&&\"function\"!=typeof t.errorHandling&&\"log\"!==t.errorHandling&&\"silent\"!==t.errorHandling&&\"throw\"!==t.errorHandling)throw new Error('Invalid options passed to createRegistry. Prop errorHandling should be [\"log\" | \"silent\" | \"throw\" | (err) => void], but '+typeof t.errorHandling+\" was passed\");var e=t&&\"function\"==typeof t.errorHandling&&t.errorHandling,n={};function o(n,o){var i=n instanceof Error?n:new Error(n);if(e)e(i);else{var s='[ERROR] callback-registry: User callback for key \"'+o+'\" failed: '+i.stack;if(t)switch(t.errorHandling){case\"log\":return console.error(s);case\"silent\":return;case\"throw\":throw new Error(s)}console.error(s)}}return{add:function(t,e,i){var s=n[t];return s||(s=[],n[t]=s),s.push(e),i&&setTimeout((function(){i.forEach((function(i){var s;if(null===(s=n[t])||void 0===s?void 0:s.includes(e))try{Array.isArray(i)?e.apply(void 0,i):e.apply(void 0,[i])}catch(e){o(e,t)}}))}),0),function(){var o=n[t];o&&(0===(o=o.reduce((function(t,n,o){return n===e&&t.length===o||t.push(n),t}),[])).length?delete n[t]:n[t]=o)}},execute:function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var s=n[t];if(!s||0===s.length)return[];var r=[];return s.forEach((function(n){try{var i=n.apply(void 0,e);r.push(i)}catch(e){r.push(void 0),o(e,t)}})),r},clear:function(){n={}},clearKey:function(t){n[t]&&delete n[t]}}}i.default=i;var s=i;const r=t=>Array.isArray(t)?t[0]:t,a=(t=[])=>{const e=t=>\"component\"===t.type?t.id?[t]:[]:t.content.reduce(((t,n)=>t=[...t,...e(n)]),[]);return t.reduce(((t,n)=>[...t,...e(n)]),[])},c=t=>{const e=t=>{if(\"component\"===t.type)return t.id?[t]:[];return[...t.content.reduce(((t,n)=>t=[...t,...e(n)]),[]),t]};return t.reduce(((t,n)=>[...t,...e(n)]),[])},l=t=>{const e=$(t)[0].getBoundingClientRect();return{x:Math.round(e.x),y:Math.round(e.y),left:Math.round(e.left),top:Math.round(e.top),width:Math.round(e.width),height:Math.round(e.height)}},d=t=>\"___workspace___\"+t;var h=new class{constructor(){this._idToLayout={}}get layouts(){return Object.values(this._idToLayout)}get workspaceIds(){return Object.keys(this._idToLayout)}get workspaceTitles(){return this.workspaceIds.map((t=>this.getWorkspaceTitle(t)))}set workspaceLayout(t){this._workspaceLayout=t}get workspaceLayout(){return this._workspaceLayout}get workspaceLayoutHeader(){return this._workspaceLayout.root.contentItems[0].header}getWorkspaceLayoutItemById(t){return this.workspaceLayout.root.getItemsById(t)[0]}getById(t){return t=r(t),this._idToLayout[t]}getByContainerId(t){return t=r(t),this._idToLayout[t]||this.getByContainerIdCore(t)}getWorkspaceTitle(t){const e=this.workspaceLayout.root.getItemsById(t)[0];return(null==e?void 0:e.tab.titleElement[0].innerText)||(null==e?void 0:e.config.title)}removeById(t){delete this._idToLayout[t]}removeLayout(t){var e;null===(e=this._idToLayout[t].layout)||void 0===e||e.destroy(),this._idToLayout[t].layout=void 0}addOrUpdate(t,e,n){const o=this.getById(t);if(o)return o.layout=n,void(o.windows=this.mergeWindows(o.windows,e));this._idToLayout[t]={id:t,windows:e,layout:n,hibernatedWindows:[],lastActive:Date.now()}}getWindow(t){const e=r(t);return this.layouts.reduce(((t,n)=>t||n.windows.find((t=>t.id===e||t.windowId===e))),void 0)}getActiveWorkspace(){const t=this.workspaceLayout.root.contentItems[0].getActiveContentItem().config.id;return this.getById(t)}addWindow(t,e){const n=this.getById(e);n.windows=n.windows.filter((e=>e.id!==t.id)),n.windows.push(t)}removeWindow(t,e){const n=this.getById(e);n.windows=n.windows.filter((e=>e.id!==t.id))}getByWindowId(t){t=r(t);const e=this.layouts.find((e=>e.windows.some((e=>e.id===t||e.windowId===t))));return e||this.layouts.find((e=>!!(null==e?void 0:e.layout)&&e.layout.root.getItemsById(t)[0]))}getWindowContentItem(t){const e=this.layouts.filter((t=>t.layout)).reduce(((e,n)=>e||n.layout.root.getItemsById(t)[0]),void 0);if(e&&e.isComponent)return e;const n=this.layouts.filter((t=>t.layout)).reduce(((e,n)=>e||n.layout.root.getItemsByFilter((e=>e.isComponent&&e.config.componentState.windowId===t))[0]),void 0);return(null==n?void 0:n.isComponent)?n:void 0}getContainer(t){t=r(t);return this.layouts.reduce(((t,e)=>(e.layout&&t.push(e.layout),t)),[]).reduce(((e,n)=>{const o=n.root.getItemsById(t)[0];return\"component\"===(null==o?void 0:o.type)?e:e||o}),void 0)}getWorkspaceContext(t){var e,n,o;const i=this.getById(t);return null===(o=null===(n=null===(e=null==i?void 0:i.layout)||void 0===e?void 0:e.config)||void 0===n?void 0:n.workspacesOptions)||void 0===o?void 0:o.context}getWorkspaceContentItem(t){return this.workspaceLayout.root.getItemsById(t)[0]}getWorkspaceTabElement(t){var e;return null===(e=this.getWorkspaceContentItem(t))||void 0===e?void 0:e.tab}getByContainerIdCore(t){return this.layouts.reduce(((t,e)=>(e.layout&&t.push(e),t)),[]).find((e=>e.layout.root.getItemsById(t)[0]))}mergeWindows(t,e){return e.map((e=>{let n=e.windowId;if(!n){const o=t.find((t=>t.id===e.id));n=null==o?void 0:o.windowId}return Object.assign(Object.assign({},e),{windowId:n})}))}};class u{init(t){this.containerElement=$(t)[0],this.setupEvents()}setupEvents(){const t=new MutationObserver((t=>{Array.from(t).forEach((t=>{if(\"childList\"===t.type&&t.target.classList.contains(\"lm_tabs\")){const e=$(t.target);this.handleTabCountChanged(e,Array.from(t.removedNodes))}else if(\"attributes\"===t.type&&t.target.classList.contains(\"lm_stack\")&&\"style\"===t.attributeName){const e=$(t.target);this.handleTabHeaderResized(e)}}))}));return t.observe(this.containerElement,{childList:!0,subtree:!0,attributes:!0,attributeFilter:[\"style\"],attributeOldValue:!1,characterData:!1,characterDataOldValue:!1}),()=>{t.disconnect()}}handleTabCountChanged(t,e){const n=t.children(),o=this.visibleTabs($(t));t.css(\"max-width\",200*o.length+\"px\");const i=t.width()/o.length;Array.from(n).forEach((t=>{$(t).children(\".lm_title\").css(\"max-width\",.75*i+\"px\"),e.length&&this.refreshTabClasses(t)}))}handleTabHeaderResized(t){const e=t.children(\".lm_header\").children(\".lm_tabs\"),n=this.visibleTabs($(e)),o=e.width()/n.length;Array.from(e.children()).forEach((t=>{$(t).children(\".lm_title\").css(\"max-width\",.65*o+\"px\"),this.refreshTabClasses(t)}))}refreshTabClasses(t){const e=$(t).outerWidth(),n=t.classList;e>=25&&e<35?(n.contains(\"lm_tab_mini\")&&n.remove(\"lm_tab_mini\"),n.add(\"lm_tab_small\")):e>=35?(n.remove(\"lm_tab_small\"),n.contains(\"lm_tab_mini\")&&n.remove(\"lm_tab_mini\")):e<25&&(n.remove(\"lm_tab_small\"),n.add(\"lm_tab_mini\"))}visibleTabs(t){return Array.from(t.children()).filter((t=>$(t).is(\":visible\")))}}const p=require(\"resize-observer-polyfill\").default||require(\"resize-observer-polyfill\");var f=new class{constructor(){this.visibilityState={logo:void 0,addWorkspace:void 0,systemButtons:void 0,workspaceContents:[]},this.componentsFactory={},this._decoratedFactory={},this.callbackRegistry=s(),this.observer=new MutationObserver((t=>{Array.from(t).forEach((t=>{const e=t.target,n=this.getWorkspaceIdFromContents(e),o=\"none\"===e.style.display?\"workspace-contents-hidden\":\"workspace-contents-shown\";this.callbackRegistry.execute(o,n)}))}))}get decoratedFactory(){return this._decoratedFactory}init(t,e){this.componentsFactory=e,(null==e?void 0:e.createAddWorkspace)&&(this.decoratedFactory.createAddWorkspace=(...e)=>(this.visibilityState.addWorkspace=[...e,t],this.componentsFactory.createAddWorkspace(...this.visibilityState.addWorkspace))),(null==e?void 0:e.createLogo)&&(this.decoratedFactory.createLogo=(...e)=>(this.visibilityState.logo=[...e,t],this.componentsFactory.createLogo(...this.visibilityState.logo))),(null==e?void 0:e.createSystemButtons)&&(this.decoratedFactory.createSystemButtons=(...n)=>(this.visibilityState.systemButtons=[...n,t],e.createSystemButtons(...this.visibilityState.systemButtons))),(null==e?void 0:e.createWorkspaceContents)&&(this.decoratedFactory.createWorkspaceContents=(...t)=>{var n,o;return this.visibilityState.workspaceContents.push([...t]),this.subscribeForWorkspaceContentsVisibility(null===(n=t[0])||void 0===n?void 0:n.workspaceId),this.subscribeForWorkspaceContentsResize(null===(o=t[0])||void 0===o?void 0:o.workspaceId),e.createWorkspaceContents(...t)})}reInitialize(t){(null==t?void 0:t.createAddWorkspace)&&this.visibilityState.addWorkspace&&t.createAddWorkspace(...this.visibilityState.addWorkspace),(null==t?void 0:t.createLogo)&&this.visibilityState.logo&&t.createLogo(...this.visibilityState.logo),(null==t?void 0:t.createSystemButtons)&&this.visibilityState.systemButtons&&t.createSystemButtons(...this.visibilityState.systemButtons),(null==t?void 0:t.createWorkspaceContents)&&this.visibilityState.workspaceContents.forEach((e=>{t.createWorkspaceContents(...e)})),this.componentsFactory=t}onWorkspaceContentsShown(t){this.callbackRegistry.add(\"workspace-contents-shown\",t)}onWorkspaceContentsHidden(t){this.callbackRegistry.add(\"workspace-contents-hidden\",t)}onWorkspaceContentsResized(t){this.callbackRegistry.add(\"workspace-contents-resized\",t)}subscribeForWorkspaceContentsVisibility(t){const e=document.getElementById(\"nestHere\"+t);e&&this.observer.observe(e,{attributes:!0,attributeFilter:[\"style\"]})}subscribeForWorkspaceContentsResize(t){const e=document.getElementById(\"nestHere\"+t);if(!e)return;new p((()=>{this.callbackRegistry.execute(\"workspace-contents-resized\",t)})).observe(e)}getWorkspaceIdFromContents(t){return t.id.split(\"nestHere\")[1]}};class m{constructor(t,e){this.windowContentItem=t,this.frameId=e}get allowExtract(){var t;return null===(t=this.windowContentItem.config.workspacesConfig.allowExtract)||void 0===t||t}set allowExtract(t){this.windowContentItem.config.workspacesConfig.allowExtract=t}get showCloseButton(){var t;return null===(t=this.windowContentItem.config.workspacesConfig.showCloseButton)||void 0===t||t}set showCloseButton(t){this.windowContentItem.config.workspacesConfig.showCloseButton=t}get isMaximized(){var t,e,n;return!!(null===(t=this.windowContentItem)||void 0===t?void 0:t.parent)&&(null===(n=null===(e=this.windowContentItem)||void 0===e?void 0:e.parent)||void 0===n?void 0:n.isMaximized)}get isSelected(){var t;return r(null===(t=this.windowContentItem)||void 0===t?void 0:t.parent.getActiveContentItem().config.id)===r(this.windowContentItem.config.id)}get index(){var t;return(null===(t=this.windowContentItem.parent)||void 0===t?void 0:t.contentItems.indexOf(this.windowContentItem))||0}get isTabless(){var t,e,n;const o=null===(t=this.windowContentItem)||void 0===t?void 0:t.parent;return!!(null===(n=null===(e=null==o?void 0:o.config)||void 0===e?void 0:e.workspacesConfig)||void 0===n?void 0:n.wrapper)}get summary(){return this.getSummaryCore(this.windowContentItem,r(this.windowContentItem.config.id))}get config(){var t;return null===(t=this.windowContentItem)||void 0===t?void 0:t.config}getSummaryCore(t,e){var n;const o=t.parent.getActiveContentItem().config.id===t.config.id,i=void 0!==t.config.componentState.windowId,s=this.index,a=null===(n=h.getByWindowId(e))||void 0===n?void 0:n.id,{appName:c,url:l,windowId:d}=t.config.componentState,u=this.getUserFriendlyParent(t);return{itemId:r(t.config.id),parentId:r(u.config.id),config:{frameId:this.frameId,isFocused:o,isLoaded:i,positionIndex:s,workspaceId:a,windowId:d,isMaximized:this.isMaximized,appName:c,url:l,title:t.config.title,allowExtract:this.allowExtract,showCloseButton:this.showCloseButton}}}getUserFriendlyParent(t){var e,n,o;return t.parent?(null===(o=null===(n=null===(e=t.parent)||void 0===e?void 0:e.config)||void 0===n?void 0:n.workspacesConfig)||void 0===o?void 0:o.wrapper)?this.getUserFriendlyParent(t.parent):t.parent:t}}class g{constructor(t,e,n){this.containerContentItem=t,this.frameId=e,this.workspaceId=n}get allowDrop(){var t;return null===(t=this.containerContentItem.config.workspacesConfig.allowDrop)||void 0===t||t}set allowDrop(t){this.containerContentItem.config.workspacesConfig.allowDrop=t,this.populateChildrenAllowDrop(t)}get allowExtract(){var t;return null===(t=this.containerContentItem.config.workspacesConfig.allowExtract)||void 0===t||t}set allowExtract(t){this.containerContentItem.config.workspacesConfig.allowExtract=t,this.populateChildrenAllowExtact(t)}get showMaximizeButton(){var t;if(\"stack\"!==this.containerContentItem.config.type)throw new Error(`Accessing showMaximizeButton of container ${this.containerContentItem.type} ${this.containerContentItem.config.id} the property is available only for stacks`);return null===(t=this.containerContentItem.config.workspacesConfig.showMaximizeButton)||void 0===t||t}set showMaximizeButton(t){if(\"stack\"!==this.containerContentItem.config.type)throw new Error(`Setting showMaximizeButton of container ${this.containerContentItem.type} ${this.containerContentItem.config.id} the property is available only for stacks`);this.containerContentItem.config.workspacesConfig.showMaximizeButton=t}get showEjectButton(){var t;if(\"stack\"!==this.containerContentItem.config.type)throw new Error(`Accessing showEjectButton of container ${this.containerContentItem.type} ${this.containerContentItem.config.id} the property is available only for stacks`);return null===(t=this.containerContentItem.config.workspacesConfig.showEjectButton)||void 0===t||t}set showEjectButton(t){if(\"stack\"!==this.containerContentItem.config.type)throw new Error(`Setting showEjectButton of container ${this.containerContentItem.type} ${this.containerContentItem.config.id} the property is available only for stacks`);this.containerContentItem.config.workspacesConfig.showEjectButton=t}get showAddWindowButton(){var t;if(\"stack\"!==this.containerContentItem.config.type)throw new Error(`Accessing showAddWindowButton of container ${this.containerContentItem.type} ${this.containerContentItem.config.id} the property is available only for stacks`);return null===(t=this.containerContentItem.config.workspacesConfig.showAddWindowButton)||void 0===t||t}set showAddWindowButton(t){if(\"stack\"!==this.containerContentItem.config.type)throw new Error(`Setting showAddWindowButton of container ${this.containerContentItem.type} ${this.containerContentItem.config.id} the property is available only for stacks`);this.containerContentItem.config.workspacesConfig.showAddWindowButton=t}get positionIndex(){var t,e;return(null===(e=null===(t=this.containerContentItem)||void 0===t?void 0:t.parent)||void 0===e?void 0:e.contentItems.indexOf(this.containerContentItem))||0}get summary(){var t,e,n;const o=null!==(t=this.workspaceId)&&void 0!==t?t:null===(e=h.getByContainerId(r(this.containerContentItem.config.id)))||void 0===e?void 0:e.id,i=this.getUserFriendlyType((null===(n=this.containerContentItem)||void 0===n?void 0:n.type)||\"workspace\");let s={workspaceId:o,frameId:this.frameId,positionIndex:this.positionIndex,allowDrop:this.allowDrop};return\"group\"===(\"window\"===i?void 0:i)&&(s=Object.assign(Object.assign({},s),{allowExtract:this.allowExtract,showMaximizeButton:this.showMaximizeButton,showEjectButton:this.showEjectButton,showAddWindowButton:this.showAddWindowButton})),{itemId:r(this.containerContentItem.config.id),type:\"window\"===i?void 0:i,config:s}}get config(){const t=(h.getByContainerId(this.containerContentItem.config.id)||h.getByWindowId(r(this.containerContentItem.config.id))).layout.toConfig();return this.findElementInConfig(r(this.containerContentItem.config.id),t)}populateChildrenAllowDrop(t){const e=n=>{n.forEach((n=>{if(\"component\"===n.type)return;new g(n,this.frameId).allowDrop=t,e(n.contentItems)}))};e(this.containerContentItem.contentItems)}populateChildrenAllowExtact(t){const e=n=>{n.forEach((n=>{if(\"component\"!==n.type){if(\"stack\"===n.type){new g(n,this.frameId).allowExtract=t}e(n.contentItems)}else{new m(n,this.frameId).allowExtract=t}}))};e(this.containerContentItem.contentItems)}getUserFriendlyType(t){return\"stack\"===t?\"group\":\"root\"===t?\"workspace\":\"component\"===t?\"window\":t}findElementInConfig(t,e){const n=e=>{if(r(e.id)===t)return[e];return(e.content||[]).reduce(((t,e)=>[...t,...n(e)]),[])};return n(e).find((t=>t.id))}}class w{constructor(t,e,n,o){this.stateResolver=t,this.workspace=e,this.workspaceContentItem=n,this.frameId=o}get id(){return this.workspace.id}get title(){const t=this.workspaceContentItem;return t.config.title||t.config.componentName}get lastFocusedWindowId(){var t,e,n,o,i,s;if(!(null===(t=this.workspace)||void 0===t?void 0:t.layout))return;const a=null===(n=null===(e=this.workspace.layout.config)||void 0===e?void 0:e.workspacesOptions)||void 0===n?void 0:n.focusedWindowId;if(a)return a;{const t=null===(i=null===(o=this.workspace.layout.config)||void 0===o?void 0:o.workspacesOptions)||void 0===i?void 0:i.focusedGroupId,e=this.workspace.layout.root.getItemsById(t)[0];if(e&&\"component\"!==e.type&&e.contentItems.length){const t=e.contentItems[e.contentItems.length-1].config.id;return r(t)}}return null===(s=this.workspace.windows.filter((t=>this.stateResolver.isWindowSelected(r(t.id))))[0])||void 0===s?void 0:s.id}get isSelected(){const t=h.workspaceLayout.root.getItemsById(this.workspace.id)[0].parent.getActiveContentItem();return r(t.config.id)===this.workspace.id}get isHibernated(){return void 0!==this.workspace.hibernateConfig&&null!==typeof this.workspace.hibernateConfig}get tabIndex(){return h.workspaceLayout.root.getItemsById(this.workspace.id)[0].parent.header.tabs.findIndex((t=>r(t.contentItem.config.id)===this.workspace.id))}get config(){const t=this.workspace;if(this.isHibernated)return t.hibernateConfig;const e=t.layout?t.layout.toConfig():{workspacesOptions:{},content:[],id:t.id};return e.workspacesOptions.frameId=this.frameId,e.workspacesOptions.positionIndex=this.tabIndex,e.workspacesOptions.isHibernated=this.isHibernated,e.workspacesOptions.isSelected=this.isSelected,e.workspacesOptions.allowDrop=this.allowDrop,e.workspacesOptions.allowDropLeft=this.allowDropLeft,e.workspacesOptions.allowDropTop=this.allowDropTop,e.workspacesOptions.allowDropRight=this.allowDropRight,e.workspacesOptions.allowDropBottom=this.allowDropBottom,e.workspacesOptions.allowExtract=this.allowExtract,e.workspacesOptions.showCloseButton=this.showCloseButton,e.workspacesOptions.showSaveButton=this.showSaveButton,e.workspacesOptions.allowSplitters=this.allowSplitters,e.workspacesOptions.showAddWindowButtons=this.showAddWindowButtons,e.workspacesOptions.showEjectButtons=this.showEjectButtons,e.workspacesOptions.showWindowCloseButtons=this.showWindowCloseButtons,e.workspacesOptions.lastActive=t.lastActive,e.workspacesOptions.title||(e.workspacesOptions.title=h.getWorkspaceTitle(t.id)),e.workspacesOptions.name=e.workspacesOptions.name||e.workspacesOptions.title,this.transformComponentsToWindowSummary(e),this.transformParentsToContainerSummary(e),e}get summary(){const t=this.config,e=this.tabIndex,n={frameId:this.frameId,positionIndex:e,title:t.workspacesOptions.title||t.title,name:t.workspacesOptions.name||h.getWorkspaceTitle(this.workspace.id),layoutName:t.workspacesOptions.layoutName,isHibernated:this.isHibernated,isSelected:this.isSelected,lastActive:this.workspace.lastActive,allowDrop:this.allowDrop,allowDropLeft:this.allowDropLeft,allowDropTop:this.allowDropTop,allowDropRight:this.allowDropRight,allowDropBottom:this.allowDropBottom,allowExtract:this.allowExtract,allowSplitters:this.allowSplitters,showCloseButton:this.showCloseButton,showSaveButton:this.showSaveButton,showAddWindowButtons:this.showAddWindowButtons,showEjectButtons:this.showEjectButtons,showWindowCloseButtons:this.showWindowCloseButtons};return t.workspacesOptions.layoutName&&(n.layoutName=t.workspacesOptions.layoutName),{config:n,id:this.workspace.id}}get allowDrop(){var t;let e;return e=(null===(t=this.workspace)||void 0===t?void 0:t.layout)?this.workspace.layout.config.workspacesOptions.allowDrop:this.workspaceContentItem.config.workspacesConfig.allowDrop,null==e||e}set allowDrop(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.allowDrop=t),this.workspaceContentItem.config.workspacesConfig.allowDrop=t,this.populateChildrenAllowDrop(t)}get allowDropLeft(){var t;let e;return e=(null===(t=this.workspace)||void 0===t?void 0:t.layout)?this.workspace.layout.config.workspacesOptions.allowDropLeft:this.workspaceContentItem.config.workspacesConfig.allowDropLeft,null==e||e}set allowDropLeft(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.allowDropLeft=t),this.workspaceContentItem.config.workspacesConfig.allowDropLeft=t}get allowDropTop(){var t;let e;return e=(null===(t=this.workspace)||void 0===t?void 0:t.layout)?this.workspace.layout.config.workspacesOptions.allowDropTop:this.workspaceContentItem.config.workspacesConfig.allowDropTop,null==e||e}set allowDropTop(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.allowDropTop=t),this.workspaceContentItem.config.workspacesConfig.allowDropTop=t}get allowDropRight(){var t;let e;return e=(null===(t=this.workspace)||void 0===t?void 0:t.layout)?this.workspace.layout.config.workspacesOptions.allowDropRight:this.workspaceContentItem.config.workspacesConfig.allowDropRight,null==e||e}set allowDropRight(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.allowDropRight=t),this.workspaceContentItem.config.workspacesConfig.allowDropRight=t}get allowDropBottom(){var t;let e;return e=(null===(t=this.workspace)||void 0===t?void 0:t.layout)?this.workspace.layout.config.workspacesOptions.allowDropBottom:this.workspaceContentItem.config.workspacesConfig.allowDropBottom,null==e||e}set allowDropBottom(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.allowDropBottom=t),this.workspaceContentItem.config.workspacesConfig.allowDropBottom=t}get allowExtract(){var t;let e;return e=(null===(t=this.workspace)||void 0===t?void 0:t.layout)?this.workspace.layout.config.workspacesOptions.allowExtract:this.workspaceContentItem.config.workspacesConfig.allowExtract,null==e||e}set allowExtract(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.allowExtract=t),this.workspaceContentItem.config.workspacesConfig.allowExtract=t,this.populateChildrenAllowExtract(t)}get allowSplitters(){var t;let e;return e=(null===(t=this.workspace)||void 0===t?void 0:t.layout)?this.workspace.layout.config.workspacesOptions.allowSplitters:this.workspaceContentItem.config.workspacesConfig.allowSplitters,null==e||e}set allowSplitters(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.allowSplitters=t),this.workspaceContentItem.config.workspacesConfig.allowSplitters=t}get showSaveButton(){var t;let e;return e=(null===(t=this.workspace)||void 0===t?void 0:t.layout)?this.workspace.layout.config.workspacesOptions.showSaveButton:this.workspaceContentItem.config.workspacesConfig.showSaveButton,null==e||e}set showSaveButton(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.showSaveButton=t),this.workspaceContentItem.config.workspacesConfig.showSaveButton=t}get showCloseButton(){var t;let e;return e=(null===(t=this.workspace)||void 0===t?void 0:t.layout)?this.workspace.layout.config.workspacesOptions.showCloseButton:this.workspaceContentItem.config.workspacesConfig.showCloseButton,null==e||e}set showCloseButton(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.showCloseButton=t),this.workspaceContentItem.config.workspacesConfig.showCloseButton=t}get showAddWindowButtons(){var t;let e;return e=(null===(t=this.workspace)||void 0===t?void 0:t.layout)?this.workspace.layout.config.workspacesOptions.showAddWindowButtons:this.workspaceContentItem.config.workspacesConfig.showAddWindowButtons,null==e||e}set showAddWindowButtons(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.showAddWindowButtons=t),this.workspaceContentItem.config.workspacesConfig.showAddWindowButtons=t,this.populateChildrenShowAddWindowButtons(t)}get showEjectButtons(){var t;let e;return e=(null===(t=this.workspace)||void 0===t?void 0:t.layout)?this.workspace.layout.config.workspacesOptions.showEjectButtons:this.workspaceContentItem.config.workspacesConfig.showEjectButtons,null==e||e}set showEjectButtons(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.showEjectButtons=t),this.workspaceContentItem.config.workspacesConfig.showEjectButtons=t,this.populateChildrenShowEjectButtons(t)}get showWindowCloseButtons(){var t;let e;return e=(null===(t=this.workspace)||void 0===t?void 0:t.layout)?this.workspace.layout.config.workspacesOptions.showWindowCloseButtons:this.workspaceContentItem.config.workspacesConfig.showWindowCloseButtons,null==e||e}set showWindowCloseButtons(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.showWindowCloseButtons=t),this.workspaceContentItem.config.workspacesConfig.showWindowCloseButtons=t,this.populateChildrenShowWindowCloseButtons(t)}transformComponentsToWindowSummary(t){var e;if(\"component\"!==t.type||\"emptyVisibleWindow\"!==t.componentName){if(\"component\"===t.type){const e=this.stateResolver.getWindowSummarySync(t.id);return t.workspacesConfig=t.workspacesConfig||{},void(t.workspacesConfig=Object.assign(Object.assign({},t.workspacesConfig),e.config))}null===(e=t.content)||void 0===e||e.map((t=>this.transformComponentsToWindowSummary(t)))}}transformParentsToContainerSummary(t){var e;if(\"component\"!==t.type){if(\"stack\"===t.type||\"row\"===t.type||\"column\"===t.type){const e=this.stateResolver.getContainerSummary(t.id);t.workspacesConfig=t.workspacesConfig||{},t.workspacesConfig=Object.assign(Object.assign({},t.workspacesConfig),e.config)}null===(e=t.content)||void 0===e||e.map((t=>this.transformParentsToContainerSummary(t)))}}populateChildrenAllowDrop(t){const{layout:e}=this.workspace;if(!e)return;const n=e=>{if(\"component\"===e.type)return;new g(e,this.frameId,this.workspace.id).allowDrop=t,e.contentItems.forEach((t=>{n(t)}))};e.root.contentItems.forEach((t=>{n(t)}))}populateChildrenAllowExtract(t){const{layout:e}=this.workspace;if(!e)return;const n=e=>{if(\"component\"!==e.type){if(\"stack\"===e.type){new g(e,this.frameId,this.workspace.id).allowExtract=t}e.contentItems.forEach((t=>{n(t)}))}else{new m(e,this.frameId).allowExtract=t}};e.root.contentItems.forEach((t=>{n(t)}))}populateChildrenShowAddWindowButtons(t){const{layout:e}=this.workspace;if(!e)return;const n=e=>{if(\"component\"!==e.type){if(\"stack\"===e.type){new g(e,this.frameId,this.workspace.id).showAddWindowButton=t}e.contentItems.forEach((t=>{n(t)}))}};e.root.contentItems.forEach((t=>{n(t)}))}populateChildrenShowEjectButtons(t){const{layout:e}=this.workspace;if(!e)return;const n=e=>{if(\"component\"!==e.type){if(\"stack\"===e.type){new g(e,this.frameId,this.workspace.id).showEjectButton=t}e.contentItems.forEach((t=>{n(t)}))}};e.root.contentItems.forEach((t=>{n(t)}))}populateChildrenShowWindowCloseButtons(t){const{layout:e}=this.workspace;if(!e)return;const n=e=>{if(\"component\"!==e.type)e.contentItems.forEach((t=>{n(t)}));else{new m(e,this.frameId).showCloseButton=t}};e.root.contentItems.forEach((t=>{n(t)}))}}class y{constructor(){this.hibernatedWorkspaceIconLabel=\"hibernated\"}showWorkspaceSaveButton(t){const e=h.getWorkspaceTabElement(t);e.element.hasClass(y.HibernationIconClass)||e.element.children(\".lm_saveButton\").show()}hideWorkspaceSaveButton(t){const e=h.getWorkspaceTabElement(t);e.element.hasClass(y.HibernationIconClass)||e.element.children(\".lm_saveButton\").hide()}showHibernationIcon(t){const e=h.getWorkspaceTabElement(t);if(!e)return;const n=e.element.children(\".lm_saveButton\");n.is(\":visible\")||n.show(),n.addClass(y.HibernationIconClass),n.attr(\"title\",this.hibernatedWorkspaceIconLabel)}showSaveIcon(t){const e=h.getWorkspaceTabElement(t),n=h.getById(t);if(!e)return;const o=e.element.children(\".lm_saveButton\");o.removeClass(y.HibernationIconClass),o.attr(\"title\",y.SaveWorkspaceButtonLabel),n.layout&&!1===n.layout.config.workspacesOptions.showSaveButton&&o.hide()}showWorkspaceCloseButton(t){const e=h.getWorkspaceTabElement(t);if(!e)return;e.element.children(\".lm_close_tab\").show()}hideWorkspaceCloseButton(t){const e=h.getWorkspaceTabElement(t);if(!e)return;e.element.children(\".lm_close_tab\").hide()}makeContentInvisible(){$(\".lm_item_container .lm_content .lm_item_container .lm_content\").addClass(\"transparent-color\")}showWindowCloseButton(t){let e;e=\"string\"==typeof t?h.getWindowContentItem(t):t,e.tab.closeElement.show()}hideWindowCloseButton(t){let e;e=\"string\"==typeof t?h.getWindowContentItem(t):t,e.tab.closeElement.hide()}showMaximizeButton(t){let e;if(e=\"string\"==typeof t?h.getContainer(t):t,\"stack\"!==e.type)throw new Error(`Cannot show maximize button of ${e.type} ${e.config.id}`);const n=e.header.element.children(\".lm_controls\").children(\".lm_maximise\");n&&n.show()}hideMaximizeButton(t){let e;if(e=\"string\"==typeof t?h.getContainer(t):t,\"stack\"!==e.type)throw new Error(`Cannot hide maximize button of ${e.type} ${e.config.id}`);const n=e.header.element.children(\".lm_controls\").children(\".lm_maximise\");n&&n.hide()}showEjectButton(t){let e;if(e=\"string\"==typeof t?h.getContainer(t):t,\"stack\"!==e.type)throw new Error(`Cannot show eject button of ${e.type} ${e.config.id}`);const n=e.header.element.children(\".lm_controls\").children(\".lm_popout\");n&&n.show()}hideEjectButton(t){let e;if(e=\"string\"==typeof t?h.getContainer(t):t,\"stack\"!==e.type)throw new Error(`Cannot hide eject button of ${e.type} ${e.config.id}`);const n=e.header.element.children(\".lm_controls\").children(\".lm_popout\");n&&n.hide()}showAddWindowButton(t){let e;if(e=\"string\"==typeof t?h.getContainer(t):t,\"stack\"!==e.type)throw new Error(`Cannot show add window button of ${e.type} ${e.config.id}`);if(!1===e.config.workspacesConfig.showAddWindowButton)return;const n=e.header.element.children(\".lm_controls\").children(\".lm_add_button\");n&&n.show()}hideAddWindowButton(t){let e;if(e=\"string\"==typeof t?h.getContainer(t):t,\"stack\"!==e.type)throw new Error(`Cannot hide add window button of ${e.type} ${e.config.id}`);const n=e.header.element.children(\".lm_controls\").children(\".lm_add_button\");n&&n.hide()}showWindowCloseButtons(t){const e=h.getById(t);if(!(null==e?void 0:e.layout))return;e.layout.root.getItemsByType(\"component\").forEach((t=>{this.showWindowCloseButton(r(t.config.id))}))}hideWindowCloseButtons(t){const e=h.getById(t);if(!(null==e?void 0:e.layout))return;e.layout.root.getItemsByType(\"component\").forEach((t=>{this.hideWindowCloseButton(r(t.config.id))}))}showEjectButtons(t){const e=h.getById(t);if(!(null==e?void 0:e.layout))return;e.layout.root.getItemsByType(\"stack\").forEach((t=>{this.showEjectButton(r(t.config.id))}))}hideEjectButtons(t){const e=h.getById(t);if(!(null==e?void 0:e.layout))return;e.layout.root.getItemsByType(\"stack\").forEach((t=>{this.hideEjectButton(r(t.config.id))}))}showAddWindowButtons(t){const e=h.getById(t);if(!(null==e?void 0:e.layout))return;e.layout.root.getItemsByType(\"stack\").forEach((t=>{this.showAddWindowButton(r(t.config.id))}))}hideAddWindowButtons(t){const e=h.getById(t);if(!(null==e?void 0:e.layout))return;e.layout.root.getItemsByType(\"stack\").forEach((t=>{this.hideAddWindowButton(r(t.config.id))}))}}y.HibernationIconClass=\"lm_hibernationIcon\",y.SaveWorkspaceButtonLabel=\"save\";var v=new y;const _=require(\"resize-observer-polyfill\").default||require(\"resize-observer-polyfill\");class C{constructor(t,e,n,o){this._maximizedId=\"__glMaximised\",this._workspaceLayoutElementId=\"#outter-layout-container\",this._registry=s(),this._emptyVisibleWindowName=\"emptyVisibleWindow\",this._stackMaximizeLabel=\"maximize\",this._stackRestoreLabel=\"restore\",this._options=n,this._emitter=t,this._stateResolver=e,this._configFactory=o}get emitter(){return this._emitter}get bounds(){return l(document.getElementById(\"outter-layout-container\"))}init(e){return t(this,void 0,void 0,(function*(){this._frameId=e.frameId,this._showLoadingIndicator=e.showLoadingIndicator;(new u).init(this._workspaceLayoutElementId),yield this.initWorkspaceConfig(e.workspaceLayout),this.refreshLayoutSize(),yield Promise.all(e.workspaceConfigs.map((e=>t(this,void 0,void 0,(function*(){yield this.initWorkspaceContents(e.id,e.config,!1),this.emitter.raiseEvent(\"workspace-added\",{workspace:h.getById(e.id)})}))))),this.setupOuterLayout(),h.workspaceIds.forEach((t=>{this.setupContentLayouts(t)}))}))}addWindow(e,n){return t(this,void 0,void 0,(function*(){n=n||r(h.workspaceLayout.root.contentItems[0].getActiveContentItem().config.id);const t=h.getByContainerId(n);if(this._stateResolver.isWorkspaceHibernated(t.id))throw new Error(`Could not add window to ${t.id} because its hibernated`);if(!t.layout)return this.hideAddButton(t.id),void(yield this.initWorkspaceContents(t.id,e,!0));const o=t.layout._maximizedItem;o&&o.toggleMaximise();let i=t.layout.root.getItemsByFilter((t=>t.isColumn||t.isRow))[0];n&&n!==t.id&&(i=t.layout.root.getItemsById(n)[0]),i||(i=t.layout.root.getItemsByFilter((t=>t.isStack))[0]);const{placementId:s,windowId:l,url:d,appName:u}=this.getWindowInfoFromConfig(e);this.registerWindowComponent(t.layout,r(s));const p=i.getComponentsByName(this._emptyVisibleWindowName)[0],f=h.getWorkspaceContentItem(t.id),m=new w(this._stateResolver,t,f,this._frameId);if(\"component\"===e.type)this.applyLockConfig(e,i,m,n===t.id);else{[...c(e.content),e].forEach((e=>{this.applyLockConfig(e,i,m,n===t.id)}))}return new Promise((n=>{var o;const r=this.emitter.onContentComponentCreated((t=>{t.config.id===s&&(r(),n())}));if(\"stack\"===t.layout.root.contentItems[0].type&&\"component\"!==e.type&&(e=a([e])[0]),p&&!(null===(o=p.parent.config.workspacesConfig)||void 0===o?void 0:o.wrapper)){const t=this._configFactory.wrapInGroup([e]);return t.workspacesConfig.wrapper=!1,void p.parent.parent.replaceChild(p.parent,t)}p?p.parent.replaceChild(p,e):i.addChild(e)}))}))}addContainer(e,n){var o;return t(this,void 0,void 0,(function*(){const t=h.getByContainerId(n);if(this._stateResolver.isWorkspaceHibernated(t.id))throw new Error(`Could not add container to ${t.id} because its hibernated`);if(!t.layout){const n=e.id||this._configFactory.getId();return e&&(e.id=n),this.hideAddButton(t.id),yield this.initWorkspaceContents(t.id,e,!0),r(n)}const i=t.layout._maximizedItem;i&&i.toggleMaximise();let s=t.layout.root.getItemsByFilter((t=>t.isColumn||t.isRow))[0];if(n&&(s=t.layout.root.getItemsById(n)[0]),s||(s=t.layout.root.getItemsByFilter((t=>t.isStack))[0]),t.id===n&&(\"column\"===e.type||\"stack\"===e.type?this.bundleWorkspace(t.id,\"row\"):\"row\"===e.type&&this.bundleWorkspace(t.id,\"column\"),s=t.layout.root.contentItems[0]),e.content&&a(e.content).forEach((e=>{this.registerWindowComponent(t.layout,r(e.id))})),e.content){const o=[...c(e.content),e],i=h.getWorkspaceContentItem(t.id),r=new w(this._stateResolver,t,i,this._frameId);o.forEach((e=>{this.applyLockConfig(e,s,r,n===t.id)}))}if(\"component\"===s.type)throw new Error(\"The target item for add container can't be a component\");const l=s.contentItems.find((t=>\"stack\"===t.type&&!0===t.config.workspacesConfig.wrapper)),d=(null===(o=null==l?void 0:l.contentItems[0])||void 0===o?void 0:o.config.componentName)===this._emptyVisibleWindowName;return new Promise(((n,o)=>{let i=()=>{};const a=setTimeout((()=>{i(),o(`Component with id ${e.id} could not be created in 10000ms`)}),1e4);if(i=this.emitter.onContentItemCreated(((o,s)=>{o===t.id&&s.type===e.type&&(n(r(s.config.id)),i(),clearTimeout(a))})),1===(null==l?void 0:l.contentItems.length)&&d){const t=s.getComponentsByName(this._emptyVisibleWindowName)[0];t.parent.replaceChild(t,e)}else s.addChild(e)}))}))}closeContainer(t){const e=h.getByContainerId(t)||h.getByWindowId(t);if(!e)throw new Error(`Could not find container ${t} to close in any workspace`);e.layout.root.getItemsById(t)[0].remove()}bundleWorkspace(t,e){const n=h.getById(t),o=n.layout.root.contentItems.map((t=>this._stateResolver.getContainerConfig(t.config.id))),i=n.layout.root.contentItems[0],s={type:e,content:o,workspacesConfig:{}};n.layout.root.replaceChild(i,s)}hideAddButton(t){$(\"#nestHere\"+t).children(\".add-button\").hide()}showAddButton(t){$(\"#nestHere\"+t).children(\".add-button\").show()}addWorkspace(e,n){var o,i;return t(this,void 0,void 0,(function*(){const t=h.workspaceLayout.root.getItemsByFilter((t=>t.isStack))[0],s={componentName:this._configFactory.getWorkspaceLayoutComponentName(e),type:\"component\",workspacesConfig:{},id:e,noTabHeader:null===(o=n.workspacesOptions)||void 0===o?void 0:o.noTabHeader,title:(null===(i=null==n?void 0:n.workspacesOptions)||void 0===i?void 0:i.title)||this._configFactory.getWorkspaceTitle(h.workspaceTitles)};this.registerWorkspaceComponent(e),t.addChild(s,void 0,!s.noTabHeader),yield this.initWorkspaceContents(e,n,!1);const r=new w(this._stateResolver,h.getById(e),h.getWorkspaceContentItem(e),this._frameId);!1===r.showCloseButton&&v.hideWorkspaceCloseButton(e),!1===r.showSaveButton&&v.hideWorkspaceSaveButton(e),this.setupContentLayouts(e),this.emitter.raiseEvent(\"workspace-added\",{workspace:h.getById(e)})}))}reinitializeWorkspace(t,e){var n;return h.removeLayout(t),(null===(n=e.workspacesOptions)||void 0===n?void 0:n.reuseWorkspaceId)&&delete e.workspacesOptions.reuseWorkspaceId,this.initWorkspaceContents(t,e,!1)}removeWorkspace(t){const e=h.getWorkspaceLayoutItemById(t);if(!e)throw new Error(\"Could find workspace to remove with id \"+t);h.removeById(t),e.remove()}changeTheme(t){const e=document.getElementsByTagName(\"html\")[0];\"light\"===t?e.classList.contains(t)||(e.classList.remove(\"dark\"),e.classList.add(t)):e.classList.contains(t)||(e.classList.remove(\"light\"),e.classList.add(t));const n=$(\"link[href='./dist/glue42-light-theme.css']\");(0===n.length?$(\"link[href='./dist/glue42-dark-theme.css']\"):n).attr(\"href\",`./dist/glue42-${t}-theme.css`)}getDragElement(){return $(\".lm_dragProxy\")[0]}setDragElementSize(t,e){const n=this.getDragElement();if(n){n.setAttribute(\"width\",t+\"px\"),n.setAttribute(\"height\",e+\"px\");const o=$(n).children(\".lm_content\").children(\".lm_item_container\")[0];o.setAttribute(\"width\",t+\"px\"),o.setAttribute(\"height\",e+\"px\"),o.setAttribute(\"style\",\"\")}else{const n=new MutationObserver((o=>{let i;Array.from(o).forEach((t=>{const e=$(t.addedNodes);i||(i=e.find(\".lm_dragProxy\"))})),i&&(n.disconnect(),this.setDragElementSize(t,e))}));n.observe($(\"body\")[0],{childList:!0,subtree:!0})}}removeLayoutElement(t){let e;return h.layouts.filter((t=>t.layout)).forEach((n=>{const o=n.layout.root.getItemsById(t)[0];o&&n.windows.find((e=>e.id===t))&&(n.windows=n.windows.filter((e=>e.id!==t)),o.remove(),e=n)})),e}setWindowTitle(t,e){const n=h.getWindowContentItem(t);if(!n)throw new Error(`Could not find window ${t} to change its title to ${e}`);n.setTitle(e),n.config.componentState.title=e}setWorkspaceTitle(t,e){h.getWorkspaceLayoutItemById(t).setTitle(e)}focusWindow(t){const e=h.getByWindowId(t);if(!e)throw new Error(\"Could not find workspace for window \"+t);if(this._stateResolver.isWorkspaceHibernated(e.id))throw new Error(`Could not focus window ${t} because the workspace ${e.id} is hibernated`);const n=e.layout.root.getItemsById(t)[0];n.parent.setActiveContentItem(n)}focusWorkspace(t){const e=h.getWorkspaceLayoutItemById(t);e.parent.setActiveContentItem(e)}maximizeWindow(t){const e=h.getByWindowId(t);if(!e)throw new Error(\"Could not find workspace for window \"+t);if(this._stateResolver.isWorkspaceHibernated(e.id))throw new Error(`Could not maximize window ${t} because the workspace ${e.id} is hibernated`);const n=e.layout.root.getItemsById(t)[0];n.parent.hasId(this._maximizedId)||n.parent.toggleMaximise()}restoreWindow(t){const e=h.getByWindowId(t);if(!e)throw new Error(\"Could not find workspace for window \"+t);if(this._stateResolver.isWorkspaceHibernated(e.id))throw new Error(`Could not restore window ${t} because the workspace ${e.id} is hibernated`);const n=e.layout.root.getItemsById(t)[0];n.parent.hasId(this._maximizedId)&&n.parent.toggleMaximise()}showLoadedWindow(e,n){return t(this,void 0,void 0,(function*(){yield this.waitForWindowContainer(e);const t=h.getWindowContentItem(e),o=h.getByWindowId(e),i=t.config;i.componentState.windowId=n,o.windows.find((t=>t.id===e)).windowId=n,t.parent.replaceChild(t,i)}))}isWindowVisible(t){t=r(t);const e=h.getWindowContentItem(t).parent;return 1===e.contentItems.length||e.getActiveContentItem().config.id===t}showHibernationIcon(t){var e;const n=null===(e=h.getWorkspaceContentItem(t))||void 0===e?void 0:e.tab;if(!n)return;const o=n.element.children(\".lm_saveButton\");o.addClass(\"lm_hibernationIcon\"),o.attr(\"title\",\"hibernated\")}showSaveIcon(t){var e;const n=null===(e=h.getWorkspaceContentItem(t))||void 0===e?void 0:e.tab;if(!n)return void console.error(\"Could not find the tab for\",t);const o=n.element.children(\".lm_saveButton\");o.removeClass(\"lm_hibernationIcon\"),o.attr(\"title\",\"save\")}hideLoadingIndicator(t){const e=h.getWindowContentItem(t);if(e){const t=e.tab.element[0].getElementsByClassName(\"lm_hibernationIcon\")[0];null==t||t.remove()}}refreshWorkspaceSize(t){const e=document.getElementById(\"nestHere\"+t),n=h.getById(t);if(e&&n.layout){const t=l(e);n.layout.updateSize(t.width,t.height)}}enableWorkspaceDrop(t,e){const n=h.getWorkspaceContentItem(t),o=h.getById(t),i=new w(this._stateResolver,o,n,this._frameId);i.allowDrop=e.allowDrop,i.allowDropLeft=e.allowDropLeft,i.allowDropTop=e.allowDropTop,i.allowDropRight=e.allowDropRight,i.allowDropBottom=e.allowDropBottom}disableWorkspaceDrop(t,e){const n=h.getWorkspaceContentItem(t),o=h.getById(t),i=new w(this._stateResolver,o,n,this._frameId);i.allowDropLeft=e.allowDropLeft,i.allowDropTop=e.allowDropTop,i.allowDropRight=e.allowDropRight,i.allowDropBottom=e.allowDropBottom}enableWorkspaceSaveButton(t){const e=h.getById(t),n=h.getWorkspaceContentItem(t);new w(this._stateResolver,e,n,this._frameId).showSaveButton=!0,v.showWorkspaceSaveButton(t)}disableWorkspaceSaveButton(t){const e=h.getById(t),n=h.getWorkspaceContentItem(t);new w(this._stateResolver,e,n,this._frameId).showSaveButton=!1,v.hideWorkspaceSaveButton(t)}enableWorkspaceCloseButton(t){const e=h.getById(t),n=h.getWorkspaceContentItem(t);new w(this._stateResolver,e,n,this._frameId).showCloseButton=!0,v.showWorkspaceCloseButton(t)}disableWorkspaceCloseButton(t){const e=h.getById(t),n=h.getWorkspaceContentItem(t);new w(this._stateResolver,e,n,this._frameId).showCloseButton=!1,v.hideWorkspaceCloseButton(t)}enableSplitters(t){const e=h.getById(t),n=h.getWorkspaceContentItem(t);new w(this._stateResolver,e,n,this._frameId).allowSplitters=!0}disableSplitters(t){const e=h.getById(t),n=h.getWorkspaceContentItem(t);new w(this._stateResolver,e,n,this._frameId).allowSplitters=!1}enableWorkspaceExtract(t){const e=h.getById(t),n=h.getWorkspaceContentItem(t);new w(this._stateResolver,e,n,this._frameId).allowExtract=!0}disableWorkspaceExtract(t){const e=h.getById(t),n=h.getWorkspaceContentItem(t);new w(this._stateResolver,e,n,this._frameId).allowExtract=!1}enableWorkspaceWindowCloseButtons(t){const e=h.getById(t),n=h.getWorkspaceContentItem(t);new w(this._stateResolver,e,n,this._frameId).showWindowCloseButtons=!0,v.showWindowCloseButtons(t)}disableWorkspaceWindowCloseButtons(t){const e=h.getById(t),n=h.getWorkspaceContentItem(t);new w(this._stateResolver,e,n,this._frameId).showWindowCloseButtons=!1,v.hideWindowCloseButtons(t)}enableWorkspaceEjectButtons(t){const e=h.getById(t),n=h.getWorkspaceContentItem(t);new w(this._stateResolver,e,n,this._frameId).showEjectButtons=!0,v.showEjectButtons(t)}disableWorkspaceEjectButtons(t){const e=h.getById(t),n=h.getWorkspaceContentItem(t);new w(this._stateResolver,e,n,this._frameId).showEjectButtons=!1,v.hideEjectButtons(t)}enableWorkspaceAddWindowButtons(t){const e=h.getById(t),n=h.getWorkspaceContentItem(t);new w(this._stateResolver,e,n,this._frameId).showAddWindowButtons=!0,v.showAddWindowButtons(t)}disableWorkspaceAddWindowButtons(t){const e=h.getById(t),n=h.getWorkspaceContentItem(t);new w(this._stateResolver,e,n,this._frameId).showAddWindowButtons=!1,v.hideAddWindowButtons(t)}enableWindowExtract(t,e){const n=h.getWindowContentItem(t);new m(n,this._frameId).allowExtract=e}disableWindowExtract(t){const e=h.getWindowContentItem(t);new m(e,this._frameId).allowExtract=!1}enableWindowCloseButton(t,e){const n=h.getWindowContentItem(t);new m(n,this._frameId).showCloseButton=e;const o=h.getByWindowId(t),i=h.getWorkspaceContentItem(o.id);new w(this._stateResolver,o,i,this._frameId).showCloseButton&&v.showWindowCloseButton(t)}disableWindowCloseButton(t){const e=h.getWindowContentItem(t);new m(e,this._frameId).showCloseButton=!1,v.hideWindowCloseButton(t)}enableColumnDrop(t,e){const n=h.getContainer(t);if(\"column\"!==n.type)throw new Error(`Expected item with type column but received ${n.type} ${t}`);new g(n,this._frameId).allowDrop=e}disableColumnDrop(t){const e=h.getContainer(t);if(\"column\"!==e.type)throw new Error(`Expected item with type column but received ${e.type} ${t}`);new g(e,this._frameId).allowDrop=!1}enableRowDrop(t,e){const n=h.getContainer(t);if(\"row\"!==n.type)throw new Error(`Expected item with type row but received ${n.type} ${t}`);new g(n,this._frameId).allowDrop=e}disableRowDrop(t){const e=h.getContainer(t);if(\"row\"!==e.type)throw new Error(`Expected item with type row but received ${e.type} ${t}`);new g(e,this._frameId).allowDrop=!1}enableGroupDrop(t,e){const n=h.getContainer(t);if(\"stack\"!==n.type)throw new Error(`Expected item with type stack but received ${n.type} ${t}`);new g(n,this._frameId).allowDrop=e}disableGroupDrop(t){const e=h.getContainer(t);if(\"stack\"!==e.type)throw new Error(`Expected item with type stack but received ${e.type} ${t}`);new g(e,this._frameId).allowDrop=!1}enableGroupMaximizeButton(t,e){const n=h.getContainer(t);if(\"stack\"!==n.type)throw new Error(`Expected item with type stack but received ${n.type} ${t}`);new g(n,this._frameId).showMaximizeButton=e,v.showMaximizeButton(t)}disableGroupMaximizeButton(t){const e=h.getContainer(t);if(\"stack\"!==e.type)throw new Error(`Expected item with type stack but received ${e.type} ${t}`);new g(e,this._frameId).showMaximizeButton=!1,v.hideMaximizeButton(t)}enableGroupEjectButton(t,e){const n=h.getContainer(t);if(\"stack\"!==n.type)throw new Error(`Expected item with type stack but received ${n.type} ${t}`);new g(n,this._frameId).showEjectButton=e,v.showEjectButton(t)}disableGroupEjectButton(t){const e=h.getContainer(t);if(\"stack\"!==e.type)throw new Error(`Expected item with type stack but received ${e.type} ${t}`);new g(e,this._frameId).showEjectButton=!1,v.hideEjectButton(t)}enableGroupAddWindowButton(t,e){const n=h.getContainer(t);if(\"stack\"!==n.type)throw new Error(`Expected item with type stack but received ${n.type} ${t}`);new g(n,this._frameId).showAddWindowButton=e,v.showAddWindowButton(t)}disableGroupAddWindowButton(t){const e=h.getContainer(t);if(\"stack\"!==e.type)throw new Error(`Expected item with type stack but received ${e.type} ${t}`);new g(e,this._frameId).showAddWindowButton=!1,v.hideAddWindowButton(t)}enableGroupExtract(t,e){const n=h.getContainer(t);if(\"stack\"!==n.type)throw new Error(`Expected item with type stack but received ${n.type} ${t}`);new g(n,this._frameId).allowExtract=e}disableGroupExtract(t){const e=h.getContainer(t);if(\"stack\"!==e.type)throw new Error(`Expected item with type stack but received ${e.type} ${t}`);new g(e,this._frameId).allowExtract=!1}initWorkspaceContents(t,e,n){if(!e||\"component\"!==e.type&&!e.content.length)return h.addOrUpdate(t,[]),this.showAddButton(t),Promise.resolve();const i=((t,e)=>{let n,o,i=0;const s=setTimeout((()=>{o()}),e||1e4);return{reject:t=>{clearTimeout(s),o(t)},signal:()=>{i++,i>=t&&(clearTimeout(s),n())},promise:new Promise(((t,e)=>{n=t,o=e}))}})(2);e.settings||(e.settings=this._configFactory.getDefaultWorkspaceSettings()),e.type&&\"workspace\"!==e.type&&(e={settings:this._configFactory.getDefaultWorkspaceSettings(),content:[{type:\"column\",content:[e],workspacesConfig:{}}]}),\"component\"!==e.type&&\"stack\"===e.content[0].type&&(e=Object.assign(Object.assign({},e),{content:[{type:\"column\",content:e.content,workspacesConfig:{}}]}));const s=h.getWorkspaceContentItem(t),c=s.config.workspacesConfig,d=e.workspacesOptions,u=n?Object.assign({},c,d):d;s.config.workspacesConfig=u,e.workspacesOptions=u;const p=new o(e,$(\"#nestHere\"+t));h.addOrUpdate(t,[]),this.registerEmptyWindowComponent(p,t),a(e.content).forEach((t=>{this.registerWindowComponent(p,r(t.id))}));const f=$(\"#nestHere\"+t);return new _((()=>{this.emitter.raiseEvent(\"workspace-container-resized\",{workspaceId:t})})).observe(f[0]),p.on(\"initialised\",(()=>{const e=a(p.toConfig().content);h.addOrUpdate(t,e.map((t=>{const e=p.root.getItemsById(r(t.id))[0].element;return{id:r(t.id),bounds:l(e),windowId:t.componentState.windowId}})),p),this.emitter.raiseEventWithDynamicName(\"content-layout-initialised-\"+t),this.emitter.raiseEvent(\"content-layout-init\",{layout:p});const n=f.width(),o=f.height();p.updateSize(n,o),i.signal()})),p.on(\"stateChanged\",(()=>{this.emitter.raiseEvent(\"content-layout-state-changed\",{layoutId:t})})),p.on(\"itemCreated\",(e=>{var n;if(e.isComponent)e.on(\"size-changed\",(()=>{const n=h.getById(t).windows.find((t=>t.id===e.config.id));n&&(n.bounds=l(e.element));const o=e.config.id;this.emitter.raiseEvent(\"content-item-resized\",{target:e.element[0],id:r(o)})})),(e.config.componentName===this._emptyVisibleWindowName||(null===(n=e.parent)||void 0===n?void 0:n.config.workspacesConfig.wrapper))&&e.tab.header.position(!1);else{if(e.isRoot)return void(e.id&&e.id.length||e.addId(t));e.config.id&&e.config.id.length||e.addId(this._configFactory.getId())}this.emitter.raiseEvent(\"content-item-created\",{workspaceId:t,item:e})})),p.on(\"stackCreated\",(e=>{const n=new g(e,this._frameId),o=document.createElement(\"li\");o.classList.add(\"lm_add_button\"),o.onclick=n=>{n.stopPropagation(),this.emitter.raiseEvent(\"add-button-clicked\",{args:{laneId:r(e.config.id),workspaceId:t,bounds:l(o)}})};const i=$(e.element).children(\".lm_header\").children(\".lm_controls\").children(\".lm_maximise\");i.addClass(\"workspace_content\"),!1===n.showMaximizeButton&&v.hideMaximizeButton(e);e.element.children(\".lm_header\").children(\".lm_controls\").children(\".lm_popout\")[0];!1===p.config.workspacesOptions.showEjectButtons&&!0!==n.showEjectButton&&v.hideAddWindowButton(e),!1===n.showEjectButton&&v.hideEjectButton(e),e.on(\"maximized\",(()=>{i.addClass(\"lm_restore\"),i.attr(\"title\",this._stackRestoreLabel),this.emitter.raiseEvent(\"stack-maximized\",{stack:e})})),e.on(\"minimized\",(()=>{i.removeClass(\"lm_restore\"),i.attr(\"title\",this._stackMaximizeLabel),this.emitter.raiseEvent(\"stack-restored\",{stack:e})})),this._options.disableCustomButtons||e.header.controlsContainer.prepend($(o)),!1===p.config.workspacesOptions.showAddWindowButtons&&!0!==n.showAddWindowButton&&v.hideAddWindowButton(e),!1===n.showAddWindowButton&&v.hideAddWindowButton(e),e.on(\"activeContentItemChanged\",(()=>{const t=e.getActiveContentItem();if(!t.isComponent)return;const n=t.config.id,o=[{id:r(t.config.id),bounds:l(t.element),windowId:t.config.componentState.windowId,appName:t.config.componentState.appName,url:t.config.componentState.url}],i=e.header.tabs.reduce(((t,e)=>{const n=e.contentItem.config;if(\"component\"===n.type){const o={id:r(n.id),bounds:l(e.contentItem.element),windowId:n.componentState.windowId,appName:n.componentState.appName,url:n.componentState.url};t.push(o)}return t}),[]).filter((t=>t.id!==n));this.emitter.raiseEvent(\"selection-changed\",{toBack:i,toFront:o})})),e.on(\"popoutRequested\",(()=>{const t=e.getActiveContentItem();this.emitter.raiseEvent(\"eject-requested\",{item:t})}))})),p.on(\"tabCreated\",(t=>{if(t._dragListener.on(\"drag\",(()=>{this.emitter.raiseEvent(\"tab-drag\",{tab:t})})),t._dragListener.on(\"dragStart\",(()=>{this.emitter.raiseEvent(\"tab-drag-start\",{tab:t})})),t._dragListener.on(\"dragEnd\",(()=>{this.emitter.raiseEvent(\"tab-drag-end\",{tab:t})})),t.element.on(\"mousedown\",(()=>{this.emitter.raiseEvent(\"tab-element-mouse-down\",{tab:t})})),this.refreshTabSizeClass(t),this._showLoadingIndicator&&\"component\"===(null==t?void 0:t.contentItem.type)&&!this._stateResolver.isWindowLoaded(t.contentItem.config.id)){const e=document.createElement(\"div\");e.classList.add(\"lm_saveButton\",\"lm_hibernationIcon\"),t.element[0].prepend(e)}if(!t.contentItem.isComponent)return;const e=new m(t.contentItem,this._frameId);!1===p.config.workspacesOptions.showWindowCloseButtons&&!0!==e.showCloseButton&&v.hideWindowCloseButton(t.contentItem),!1===e.showCloseButton&&v.hideWindowCloseButton(t.contentItem)})),p.on(\"tabCloseRequested\",(t=>{this.emitter.raiseEvent(\"tab-close-requested\",{item:t.contentItem})})),p.on(\"componentCreated\",(e=>{const n=this.emitter.raiseEvent(\"content-component-created\",{component:e,workspaceId:t});Array.isArray(n)?Promise.all(n).then((()=>{i.signal()})).catch((t=>i.reject(t))):n.then((()=>{i.signal()})).catch((t=>i.reject(t)))})),p.on(\"activeContentItemChanged\",(e=>{this.emitter.raiseEvent(\"workspace-global-selection-changed\",{component:e,workspaceId:t})})),p.init(),i.promise}initWorkspaceConfig(e){return new Promise((n=>{e.settings.selectionEnabled=!0,h.workspaceLayout=new o(e,$(this._workspaceLayoutElementId),f.decoratedFactory);new _((t=>{Array.from(t).forEach((t=>{this.emitter.raiseEvent(\"outer-layout-container-resized\",{target:t.target})}))})).observe($(\"#outter-layout-container\")[0]),e.content[0].content.forEach((t=>{const e=t.id;this.registerWorkspaceComponent(r(e))})),h.workspaceLayout.on(\"initialised\",(()=>{this.emitter.raiseEvent(\"workspace-layout-initialised\",{}),n()})),h.workspaceLayout.on(\"stackCreated\",(e=>{var n;const o=e.header.controlsContainer.children(\".lm_close\")[0];o&&(o.onclick=()=>{this.emitter.raiseEvent(\"close-frame\",{})});const i=e.header.element[0];if(new MutationObserver((()=>{const t=this.getElementByClass(i,\"lm_add_button\");t&&f.decoratedFactory.createAddWorkspace&&(t.onclick=e=>{e.stopPropagation(),this.emitter.raiseEvent(\"workspace-add-button-clicked\",{bounds:l(t)})})})).observe(e.header.element[0],{attributes:!1,childList:!0,subtree:!0}),!this._options.disableCustomButtons&&!(null===(n=f.decoratedFactory)||void 0===n?void 0:n.createAddWorkspace)){const t=document.createElement(\"li\");t.classList.add(\"lm_add_button\"),t.onclick=t=>{t.stopPropagation(),this._emitter.raiseEvent(\"workspace-add-button-clicked\",{})},e.header.workspaceControlsContainer.prepend($(t))}if(!f.decoratedFactory.createLogo){const t=document.createElement(\"span\");t.classList.add(\"logo_type\");const n=e.header.element[0].getElementsByClassName(\"lm_logo\")[0];n&&n.appendChild(t)}e.on(\"activeContentItemChanged\",(()=>t(this,void 0,void 0,(function*(){if(0===h.workspaceIds.length)return;const t=e.getActiveContentItem().config.id;yield this.waitForLayout(r(t));const n=h.workspaceIds.reduce(((t,e)=>[...t,...h.getById(e).windows]),[]);this.emitter.raiseEvent(\"workspace-selection-changed\",{workspace:h.getById(t),toBack:n})}))))})),h.workspaceLayout.on(\"itemCreated\",(t=>{t.isComponent&&t.on(\"size-changed\",(()=>{this.emitter.raiseEvent(\"workspace-content-container-resized\",{target:t,id:r(t.config.id)}),this.emitter.raiseEventWithDynamicName(\"workspace-content-container-resized-\"+t.config.id,t)}))})),h.workspaceLayout.on(\"tabCreated\",(t=>{const e=document.createElement(\"div\");e.classList.add(\"lm_saveButton\"),e.onclick=e=>{this.emitter.raiseEvent(\"workspace-save-requested\",{workspaceId:r(t.contentItem.config.id)})},this._options.disableCustomButtons||(t.element[0].prepend(e),t.element[0].onclick=t=>{-1!==t.composedPath().indexOf(e)&&document.activeElement.blur(),t.stopPropagation()}),this.refreshTabSizeClass(t)})),h.workspaceLayout.on(\"tabCloseRequested\",(t=>{this.emitter.raiseEvent(\"workspace-tab-close-requested\",{workspace:h.getById(t.contentItem.config.id)})})),h.workspaceLayout.init()}))}setupOuterLayout(){this.emitter.onOuterLayoutContainerResized((t=>{h.workspaceLayout.updateSize($(t).width(),$(t).height())}))}setupContentLayouts(t){this.emitter.onContentContainerResized((e=>{const n=h.getById(t).layout;if(n){const e=$(\"#nestHere\"+t),o=l(e[0]);n.updateSize(o.width,o.height)}}),t)}registerWindowComponent(t,e){this.registerComponent(t,\"app\"+e,(t=>{const n=document.createElement(\"div\");n.setAttribute(\"style\",\"height:100%;\"),n.id=\"app\"+e,t.getElement().append(n)}))}registerEmptyWindowComponent(t,e){this.registerComponent(t,this._emptyVisibleWindowName,(t=>{const n=document.createElement(\"div\");n.classList.add(\"empty-container-background\");const o=document.createElement(\"button\");o.classList.add(\"add-button\"),o.onclick=n=>{n.stopPropagation();const i=t.tab.contentItem,s=\"stack\"===i.parent.type?\"group\":i.parent.type;i.parent.config.workspacesConfig.wrapper?this.emitter.raiseEvent(\"add-button-clicked\",{args:{laneId:r(i.parent.parent.config.id),workspaceId:e,parentType:i.parent.parent.type,bounds:l(o)}}):this.emitter.raiseEvent(\"add-button-clicked\",{args:{laneId:r(i.parent.config.id),workspaceId:e,parentType:s,bounds:l(o)}})},n.append(o),t.getElement().append(n)}))}registerWorkspaceComponent(t){this.registerComponent(h.workspaceLayout,this._configFactory.getWorkspaceLayoutComponentName(t),(e=>{var n,o;const i=document.createElement(\"div\");i.setAttribute(\"style\",\"height:calc(100% - 1px); width:calc(100% - 1px);\"),i.id=\"nestHere\"+t;const s=document.createElement(\"button\");s.classList.add(\"add-button\"),s.onclick=n=>{n.stopPropagation();const o=e.tab.contentItem;this.emitter.raiseEvent(\"add-button-clicked\",{args:{laneId:r(o.parent.id),workspaceId:t,bounds:l(s)}})},i.appendChild(s),(null===(n=f.decoratedFactory)||void 0===n?void 0:n.createWorkspaceContents)?(document.body.append(i),i.style.display=\"none\",null===(o=f.decoratedFactory)||void 0===o||o.createWorkspaceContents({workspaceId:t,domNode:e.getElement()[0]})):e.getElement().append(i),$(s).hide()}))}registerComponent(t,e,n){try{t.registerComponent(e,(function(t,e){n&&n(t,e)}))}catch(t){console.log(\"Tried to register and already existing component - \"+e)}}waitForLayout(t){return new Promise((e=>{const n=this._registry.add(\"content-layout-initialised-\"+t,(()=>{e(),n()}));h.getById(t)&&(e(),n())}))}waitForWindowContainer(t){return new Promise((e=>{const n=this.emitter.onContentComponentCreated((o=>{o.config.id===t&&(e(),n())}));h.getWindowContentItem(t)&&(e(),n())}))}getWindowInfoFromConfig(t){return\"component\"!==t.type?this.getWindowInfoFromConfig(t.content[0]):{placementId:r(t.id),windowId:t.componentState.windowId,appName:t.componentState.appName,url:t.componentState.url}}refreshLayoutSize(){const t=l($(this._workspaceLayoutElementId));h.workspaceLayout.updateSize(t.width,t.height)}refreshTabSizeClass(t){const e=t.header.tabs,n=e.map((t=>t.element)).some((t=>t.hasClass(\"lm_tab_small\"))),o=e.map((t=>t.element)).some((t=>t.hasClass(\"lm_tab_mini\")));n&&t.element.addClass(\"lm_tab_small\"),o&&t.element.addClass(\"lm_tab_mini\")}getElementByClass(t,e){const n=t.getElementsByClassName(e);if(n.length>1)throw new Error(`Multiple elements with class ${e} in element with id ${t.id} and class ${t.className} are not supported`);return n[0]}applyLockConfig(t,e,n,o){var i,s,r;const a=o?n.allowDrop:e.config.workspacesConfig.allowDrop;if(\"stack\"===t.type){if(void 0===t.workspacesConfig.allowDrop&&(t.workspacesConfig.allowDrop=null!==(i=t.workspacesConfig.allowDrop)&&void 0!==i?i:a),void 0===t.workspacesConfig.allowExtract){const e=n.allowExtract;t.workspacesConfig.allowExtract=null!==(s=t.workspacesConfig.allowExtract)&&void 0!==s?s:e}void 0===t.workspacesConfig.showAddWindowButton&&(t.workspacesConfig.showAddWindowButton=n.showAddWindowButtons),void 0===t.workspacesConfig.showEjectButton&&(t.workspacesConfig.showEjectButton=n.showEjectButtons)}else if(\"row\"===t.type||\"column\"===t.type)void 0===t.workspacesConfig.allowDrop&&(t.workspacesConfig.allowDrop=null!==(r=t.workspacesConfig.allowDrop)&&void 0!==r?r:a);else if(\"component\"===t.type){if(void 0===t.workspacesConfig.allowExtract){const i=o?n.allowExtract:e.config.workspacesConfig.allowExtract;t.workspacesConfig.allowExtract=i}void 0===t.workspacesConfig.showCloseButton&&(t.workspacesConfig.allowExtract=n.showWindowCloseButtons)}}}class I{constructor(t){this._registry=t}onWorkspaceLayoutInit(t){return this._registry.add(\"workspace-layout-initialised\",t)}onContentLayoutInit(t){return this._registry.add(\"content-layout-init\",t)}onOuterLayoutContainerResized(t){return this._registry.add(\"outer-layout-container-resized\",t)}onContentContainerResized(t,e){return e?this._registry.add(\"workspace-content-container-resized-\"+e,t):this._registry.add(\"workspace-content-container-resized\",t)}onWorkspaceContainerResized(t){return this._registry.add(\"workspace-container-resized\",t)}onContentItemResized(t){return this._registry.add(\"content-item-resized\",t)}onContentComponentCreated(t){return this._registry.add(\"content-component-created\",t)}onFrameCloseRequested(t){return this._registry.add(\"close-frame\",t)}onRestoreRequested(t){return this._registry.add(\"restore-frame\",t)}onMaximizeRequested(t){return this._registry.add(\"maximize-frame\",t)}onMinimizeRequested(t){return this._registry.add(\"minimize-frame\",t)}onMoveAreaChanged(t){return this._registry.add(\"move-area-changed\",t)}onTabCloseRequested(t){return this._registry.add(\"tab-close-requested\",t)}onTabDragStart(t){return this._registry.add(\"tab-drag-start\",t)}onTabDrag(t){return this._registry.add(\"tab-drag\",t)}onTabDragEnd(t){return this._registry.add(\"tab-drag-end\",t)}onTabElementMouseDown(t){return this._registry.add(\"tab-element-mouse-down\",t)}onSelectionChanged(t){return this._registry.add(\"selection-changed\",t)}onWorkspaceAdded(t){return this._registry.add(\"workspace-added\",t)}onWorkspaceSelectionChanged(t){return this._registry.add(\"workspace-selection-changed\",t)}onWorkspaceTabCloseRequested(t){return this._registry.add(\"workspace-tab-close-requested\",t)}onAddButtonClicked(t){return this._registry.add(\"add-button-clicked\",t)}onContentLayoutStateChanged(t){return this._registry.add(\"content-layout-state-changed\",t)}onContentItemCreated(t){return this._registry.add(\"content-item-created\",t)}onWorkspaceAddButtonClicked(t){return this._registry.add(\"workspace-add-button-clicked\",t)}onWorkspaceSaveRequested(t){return this._registry.add(\"workspace-save-requested\",t)}onStackMaximized(t){return this._registry.add(\"stack-maximized\",t)}onStackRestored(t){return this._registry.add(\"stack-restored\",t)}onEjectRequested(t){return this._registry.add(\"eject-requested\",t)}onComponentSelectedInWorkspace(t){return this._registry.add(\"workspace-global-selection-changed\",t)}raiseEvent(t,e){const n=this._registry.execute(t,...Object.values(e));return Array.isArray(n)&&n.some((t=>t&&t.then))||n&&!Array.isArray(n)&&n.then?n:Promise.resolve(n)}raiseEventWithDynamicName(t,...e){this._registry.execute(t,...e)}}var b=1;var k,x,E,W={nextValue:function(){return(b=(9301*b+49297)%233280)/233280},seed:function(t){b=t}},S=\"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-\";function T(){E=!1}function B(t){if(t){if(t!==k){if(t.length!==S.length)throw new Error(\"Custom alphabet for shortid must be \"+S.length+\" unique characters. You submitted \"+t.length+\" characters: \"+t);var e=t.split(\"\").filter((function(t,e,n){return e!==n.lastIndexOf(t)}));if(e.length)throw new Error(\"Custom alphabet for shortid must be \"+S.length+\" unique characters. These characters were not unique: \"+e.join(\", \"));k=t,T()}}else k!==S&&(k=S,T())}function A(){return E||(E=function(){k||B(S);for(var t,e=k.split(\"\"),n=[],o=W.nextValue();e.length>0;)o=W.nextValue(),t=Math.floor(o*e.length),n.push(e.splice(t,1)[0]);return n.join(\"\")}())}var D={get:function(){return k||S},characters:function(t){return B(t),k},seed:function(t){W.seed(t),x!==t&&(T(),x=t)},lookup:function(t){return A()[t]},shuffled:A},L=\"object\"==typeof window&&(window.crypto||window.msCrypto),M=L&&L.getRandomValues?function(t){return L.getRandomValues(new Uint8Array(t))}:function(t){for(var e=[],n=0;n<t;n++)e.push(Math.floor(256*Math.random()));return e},P=function(t,e,n){for(var o=(2<<Math.log(e.length-1)/Math.LN2)-1,i=-~(1.6*o*n/e.length),s=\"\";;)for(var r=t(i),a=i;a--;)if((s+=e[r[a]&o]||\"\").length===+n)return s};var O,F,z=function(t){for(var e,n=0,o=\"\";!e;)o+=P(M,D.get(),1),e=t<Math.pow(16,n+1),n++;return o};var R=function(t){var e=\"\",n=Math.floor(.001*(Date.now()-1567752802062));return n===F?O++:(O=0,F=n),e+=z(7),e+=z(t),O>0&&(e+=z(O)),e+=z(n)};var N=function(t){return!(!t||\"string\"!=typeof t||t.length<6)&&!new RegExp(\"[^\"+D.get().replace(/[|\\\\{}()[\\]^$+*?.-]/g,\"\\\\$&\")+\"]\").test(t)},j=n((function(t){var e=0;function n(){return R(e)}t.exports=n,t.exports.generate=n,t.exports.seed=function(e){return D.seed(e),t.exports},t.exports.worker=function(n){return e=n,t.exports},t.exports.characters=function(t){return void 0!==t&&D.characters(t),D.shuffled()},t.exports.isValid=N}));class H{constructor(t){this._registry=s(),this._idToFrame={},this._glue=t}startFrame(e,n,o,i){return t(this,void 0,void 0,(function*(){return this.startCore(e,n,o,i)}))}moveFrame(t,e){const n=this._idToFrame[t],o=$(n);0!==e.width&&0!==e.height&&(o.css(\"top\",e.top+\"px\"),o.css(\"left\",e.left+\"px\")),o.css(\"width\",e.width+\"px\"),o.css(\"height\",e.height+\"px\")}selectionChanged(t,e){e.forEach((t=>{$(this._idToFrame[t]).css(\"z-index\",\"-1\")})),t.forEach((t=>{$(this._idToFrame[t]).hasClass(\"maximized-active-tab\")?$(this._idToFrame[t]).css(\"z-index\",\"42\"):$(this._idToFrame[t]).css(\"z-index\",\"19\")}))}maximizeTab(t){$(this._idToFrame[t]).addClass(\"maximized-active-tab\")}restoreTab(t){$(this._idToFrame[t]).removeClass(\"maximized-active-tab\")}selectionChangedDeep(t,e){e.forEach((t=>{$(this._idToFrame[t]).css(\"z-index\",\"-1\")})),t.forEach((t=>{$(this._idToFrame[t]).hasClass(\"maximized-active-tab\")?$(this._idToFrame[t]).css(\"z-index\",\"42\"):$(this._idToFrame[t]).css(\"z-index\",\"19\")}))}bringToFront(t){$(this._idToFrame[t]).css(\"z-index\",\"999\")}remove(t){const e=this._idToFrame[t];e&&(delete this._idToFrame[t],e.contentWindow.postMessage({glue42core:{type:\"manualUnload\"}},\"*\"),setImmediate((()=>{e.remove(),this._registry.execute(\"frame-removed\",t)})))}onFrameLoaded(t){return this._registry.add(\"frameLoaded\",t)}onFrameRemoved(t){return this._registry.add(\"frame-removed\",t)}onFrameContentClicked(t){return this._registry.add(\"frame-content-clicked\",t)}onWindowTitleChanged(t){return this._registry.add(\"window-title-changed\",t)}hasFrame(t){return!!this._idToFrame[t]}startCore(e,n,o,i){return t(this,void 0,void 0,(function*(){if(i=i||j.generate(),this._idToFrame[e])return this._idToFrame[e];if(!n)throw new Error(`The url of window with itemId ${e} is undefined`);const t=document.createElement(\"iframe\");return t.name=i+\"#wsp\",t.loading=\"lazy\",t.style.top=\"30000px\",t.style.width=\"30000px\",t.style.width=\"0px\",t.style.height=\"0px\",t.src=n,document.body.appendChild(t),this._registry.execute(\"frameLoaded\",e),t.setAttribute(\"id\",e),$(t).css(\"position\",\"absolute\"),this._idToFrame[e]=t,yield this.waitForWindow(i),t}))}waitForWindow(t){return new Promise(((e,n)=>{let o=()=>{};const i=setTimeout((()=>{n(`Window with id ${t} did not appear in 5000ms`),o()}),5e3);o=this._glue.windows.onWindowAdded((n=>{n.id===t&&(o(),e(),clearTimeout(i))}));this._glue.windows.list().find((e=>e.id===t))&&(e(),o(),clearTimeout(i))}))}}var q=new class{constructor(){this.LAST_SESSION_KEY=\"lastSession\"}get(t){return JSON.parse(sessionStorage.getItem(t))}set(t,e){sessionStorage.setItem(t,JSON.stringify(e))}};var U=new class{get config(){return this._config}loadConfig(){const t=new URLSearchParams(window.location.search),e=t.get(\"emptyFrame\"),n=t.get(\"disableCustomButtons\"),o=t.get(\"workspaceName\"),i=t.get(\"workspaceNames\"),s=t.get(\"context\"),r=t.get(\"build\");let a,c=[];try{c=JSON.parse(i)||c}catch(t){}try{a=JSON.parse(s)}catch(t){}o&&c.push(o);const l={emptyFrame:null!=e&&void 0!==e,disableCustomButtons:null!=n&&void 0!==n,workspaceNames:c,context:a,build:null!=r};return this._config=l,this.cleanUpUrl(),l}cleanUpUrl(){const t=this.removeQueryParams(window.location.search,[\"emptyFrame\"]);window.history.replaceState(null,document.title,window.location.origin+window.location.pathname+t)}removeQueryParams(t,e){return e.forEach((e=>{const n=new URLSearchParams(t),o=n.get(e);Array.from(n.keys()).indexOf(e)>-1&&(t=t.replace(`${e}=${o}`,\"\"))})),\"&\"===t[t.length-1]&&(t=t.substr(0,t.length-1)),t=(t=t.replace(\"&&\",\"&\")).replace(\"?&\",\"?\")}};class G{constructor(t,e,n,o){this.resolver=t,this._glue=e,this._configFactory=n,this._configConverter=o,this._layoutsType=\"Workspace\",this._layoutComponentType=\"Workspace\"}getInitialConfig(){var e;return t(this,void 0,void 0,(function*(){if(this._initialWorkspaceConfig)return this._configFactory.generateInitialConfig([this._initialWorkspaceConfig]);const n=U.config;if(n.workspaceNames&&n.workspaceNames.length){const e=(yield Promise.all(n.workspaceNames.map((e=>t(this,void 0,void 0,(function*(){return yield this.getWorkspaceByName(e)})))))).map((t=>(t.config.workspacesOptions=t.config.workspacesOptions||{},t.config.workspacesOptions.context=t.layoutData.context,t.config))).filter((t=>t));if(e.length)return e.forEach(((t,e)=>{t.id=this._configFactory.getId(),t.workspacesOptions=t.workspacesOptions||{},n.context&&t.workspacesOptions.context?t.workspacesOptions.context=Object.assign(t.workspacesOptions.context,n.context):n.context&&(t.workspacesOptions.context=n.context),t.workspacesOptions.layoutName=n.workspaceNames[e]})),this._configFactory.generateInitialConfig(e)}else if(!(null===(e=U.config)||void 0===e?void 0:e.build)){const t=this.getLastSession();if(t&&t.length)return t.forEach((t=>{t&&(t.id=this._configFactory.getId())})),this._configFactory.generateInitialConfig(t)}return this._configFactory.getDefaultFrameConfig()}))}getLastSession(){var t,e;if(!(null===(e=null===(t=window.glue42core)||void 0===t?void 0:t.workspacesFrameCache)||void 0===e||e))return;return(q.get(q.LAST_SESSION_KEY)||[]).map((t=>(this.addWorkspaceIds(t),this._configConverter.convertToRendererConfig(t))))}getSavedWorkspaceNames(){return t(this,void 0,void 0,(function*(){return(yield this._glue.layouts.getAll(this._layoutsType)).filter((t=>t.type===this._layoutsType)).map((t=>t.name))}))}export(){return t(this,void 0,void 0,(function*(){return this._glue.layouts.export(this._layoutsType)}))}getWorkspaceByName(e){var n;return t(this,void 0,void 0,(function*(){const t=yield this._glue.layouts.get(e,this._layoutsType),o=t.components[0].state,i=this._configConverter.convertToRendererConfig(o);return this.addWorkspaceIds(i),{config:i,layoutData:{metadata:t.metadata,name:e,context:null!==(n=o.context)&&void 0!==n?n:{}}}}))}delete(e){return t(this,void 0,void 0,(function*(){yield this._glue.layouts.remove(this._layoutsType,e)}))}save(e){var n;return t(this,void 0,void 0,(function*(){const{workspace:t,name:o,saveContext:i}=e;if(!t.layout&&!t.hibernateConfig)throw new Error(\"An empty layout cannot be saved\");((null===(n=t.layout)||void 0===n?void 0:n.config)||t.hibernateConfig).workspacesOptions.name=o;const s=yield this.saveWorkspaceCore(t);s.config.title&&delete s.config.title;let r=void 0;if(i)try{r=yield this.getWorkspaceContext(t.id)}catch(t){}const a={name:o,type:this._layoutsType,metadata:{},components:[{type:this._layoutComponentType,state:{children:s.children,config:s.config,context:null!=r?r:{}}}]};return yield this._glue.layouts.import([a],\"merge\"),a}))}generateLayout(e,n){return t(this,void 0,void 0,(function*(){if(!n.layout)throw new Error(\"An empty layout cannot be generated\");n.layout.config.workspacesOptions.name=e;const t=yield this.saveWorkspaceCore(n);return t.config.title&&delete t.config.title,{name:e,type:this._layoutsType,metadata:{},components:[{type:this._layoutComponentType,state:{children:t.children,config:t.config,context:{}}}]}}))}saveWorkspacesFrame(e){var n,o;return t(this,void 0,void 0,(function*(){if(!(null===(o=null===(n=window.glue42core)||void 0===n?void 0:n.workspacesFrameCache)||void 0===o||o))return;const t=e.map((t=>this.saveWorkspaceCoreSync(t))),i=yield Promise.all(t);q.set(q.LAST_SESSION_KEY,i)}))}setInitialWorkspaceConfig(t){this._initialWorkspaceConfig=t}saveWorkspaceCore(e){return t(this,void 0,void 0,(function*(){if(!e.layout&&!e.hibernateConfig)return;const t=this.resolver.getWorkspaceConfig(e.id);t.workspacesOptions.layoutName&&delete t.workspacesOptions.layoutName,this.removeWorkspaceIds(t),yield this.applyWindowLayoutState(t);const n=this._configConverter.convertToAPIConfig(t);return this.removeWorkspaceItemIds(n),this.windowSummariesToWindowLayout(n),this.addWindowUrlsToWindows(n),this.workspaceSummaryToWorkspaceLayout(n),n}))}saveWorkspaceCoreSync(t){if(!t.layout&&!t.hibernateConfig)return;const e=this.resolver.getWorkspaceConfig(t.id);this.removeWorkspaceIds(e);const n=this._configConverter.convertToAPIConfig(e);return this.removeWorkspaceItemIds(n),this.windowSummariesToWindowLayout(n),this.addWindowUrlsToWindows(n),this.workspaceSummaryToWorkspaceLayout(n),n}windowSummariesToWindowLayout(t){const e=t=>{if(\"window\"===t.type)return delete t.config.isMaximized,delete t.config.isLoaded,delete t.config.isFocused,delete t.config.windowId,delete t.config.workspaceId,delete t.config.frameId,delete t.config.positionIndex,void(t.config.appName&&delete t.config.url);t.children.forEach((t=>e(t)))};e(t)}addWindowContexts(e){return t(this,void 0,void 0,(function*(){const n=e=>t(this,void 0,void 0,(function*(){if(\"window\"!==e.type)yield Promise.all(e.children.map((t=>n(t))));else if(e.config.windowId){const t=this._glue.windows.findById(e.config.windowId);if(t){const n=yield t.getContext();e.config.context=Object.assign({},e.config.context||{},n)}}}));yield n(e)}))}workspaceSummaryToWorkspaceLayout(t){(null==t?void 0:t.config)&&(delete t.config.frameId,delete t.config.positionIndex)}addWindowUrlsToWindows(t){const e=t=>{var n,o;if(\"window\"!==t.type||t.config.url||t.config.appName)\"window\"!==t.type&&t.children.forEach((t=>e(t)));else{const e=this._glue.appManager.application(t.config.appName);t.config.url=null===(o=null===(n=null==e?void 0:e.userProperties)||void 0===n?void 0:n.details)||void 0===o?void 0:o.url}};e(t)}addWorkspaceIds(t){if(!t)return;const e=t=>{t.id=this._configFactory.getId(),t.type&&\"component\"===t.type&&(t.componentName=\"app\"+t.id),\"component\"!==t.type&&t.content&&t.content.forEach((t=>e(t)))};e(t)}addWindowIds(t){if(!t)return;const e=t=>{\"component\"===t.type&&(t.componentState.windowId=this._configFactory.getId()),\"component\"!==t.type&&t.content&&t.content.forEach((t=>e(t)))};e(t)}removeWorkspaceIds(t){const e=t=>{\"id\"in t&&delete t.id,\"component\"===(null==t?void 0:t.type)&&(t.componentName=\"placeHolderId\",t.title=\"placeHolderId\"),\"component\"!==t.type&&t.content&&t.content.forEach((t=>e(t)))};e(t)}removeWorkspaceItemIds(t){const e=t=>{var n;\"id\"in t&&delete t.id,\"window\"!==t.type&&(null===(n=t.children)||void 0===n||n.forEach((t=>e(t))))};e(t)}applyWindowLayoutState(e){return t(this,void 0,void 0,(function*(){const n=e=>t(this,void 0,void 0,(function*(){if(\"component\"===e.type){const t=yield this.getWindowLayoutState(e.windowId);e.componentState.layoutState=t}else e.content.forEach((t=>n(t)))}));yield Promise.all(e.content.map((e=>t(this,void 0,void 0,(function*(){yield n(e)})))))}))}getWorkspaceContext(e){return t(this,void 0,void 0,(function*(){return yield this._glue.contexts.get(d(e))}))}getWindowLayoutState(e){return t(this,void 0,void 0,(function*(){return Promise.resolve({windowId:e})}))}}class V{constructor(t,e,n){this._frameId=t,this._layoutEventEmitter=e,this.frameController=n}getWindowSummary(e){return t(this,void 0,void 0,(function*(){e=Array.isArray(e)?e[0]:e;let t=h.getWindowContentItem(e);t||(yield this.waitForWindowContentItem(e),t=h.getWindowContentItem(e));return new m(t,this._frameId).summary}))}getWindowSummarySync(t,e){t=Array.isArray(t)?t[0]:t;const n=e||h.getWindowContentItem(t);return new m(n,this._frameId).summary}getWorkspaceConfig(t){const e=h.getById(t);if(!e)throw new Error(\"Could find workspace to remove with id \"+t);return new w(this,e,h.getWorkspaceContentItem(e.id),this._frameId).config}getWorkspaceSummary(t){return new w(this,h.getById(t),h.getWorkspaceContentItem(t),this._frameId).summary}isWindowMaximized(t){const e=r(t),n=h.getWindowContentItem(e);return new m(n,this._frameId).isMaximized}isWindowSelected(t){const e=r(t),n=h.getWindowContentItem(e);return new m(n,this._frameId).isSelected}isWorkspaceSelected(t){const e=h.getById(t),n=h.getWorkspaceContentItem(t);return new w(this,e,n,this._frameId).isSelected}isWorkspaceHibernated(t){const e=h.getById(t);if(!e)throw new Error(`Could not find workspace ${t} in ${this._frameId} to check if hibernated`);const n=h.getWorkspaceContentItem(e.id);return new w(this,e,n,this._frameId).isHibernated}getContainerSummary(t){t=r(t);const e=h.getContainer(t);return new g(e,this._frameId).summary}getContainerSummaryByReference(t,e){if(\"component\"===t.type)throw new Error(`Tried to get container summary from item ${t.type} ${t.config.id}`);return new g(t,this._frameId,e).summary}getContainerConfig(t){const e=h.getContainer(t);return new g(e,this._frameId).config}isWindowInWorkspace(t){return!!h.getWindowContentItem(t)}getFrameSnapshot(){const t=h.workspaceIds.map((t=>this.getWorkspaceSummary(t)));return{id:this._frameId,config:{},workspaces:t}}getSnapshot(t){try{return this.getWorkspaceConfig(t)}catch(t){return this.getFrameSnapshot()}}extractWindowSummariesFromSnapshot(t){const e=[],n=(t,o)=>{\"component\"!==t.type?t.content.forEach((e=>n(e,r(t.id)))):e.push({itemId:r(t.id),parentId:o,config:t.workspacesConfig})};return n(t,void 0),e}isWindowLoaded(t){return this.frameController.hasFrame(r(t))}waitForWindowContentItem(t){return new Promise((e=>{const n=this._layoutEventEmitter.onContentComponentCreated((o=>{o.config.id===t&&(n(),e())}));h.getWindowContentItem(t)&&(n(),e())}))}}class X{constructor(){this._pattern=/^Untitled ([0-9]+)$/}getTitle(t,e=0){const n=t.filter((t=>this._pattern.test(t))).map((t=>parseInt(this._pattern.exec(t)[1],10)));return\"Untitled \"+((n.length?n.sort(((t,e)=>t-e))[n.length-1]:0)+1+e)}}class Y{constructor(t){this._titleGenerator=new X,this._defaultWorkspaceLayoutSettings={showCloseIcon:!1,showMaximizeIcon:!1,showPopoutIcon:!1,disableDragProxy:!0,mode:\"workspace\"},this._glue=t}createEmptyVisibleWindowConfig(){return Object.assign(Object.assign({},this.createWindowConfigurationCore()),{componentState:{header:!1}})}createGDWindowConfig(t){const e=this.createWindowConfigurationCore(t.id),n={allowExtract:t.allowExtract,showCloseButton:t.showCloseButton};return Object.assign(Object.assign({},e),{componentName:\"app\"+e.id,windowId:t.windowId,title:t.title,componentState:{windowId:t.windowId,appName:t.appName,url:t.url,title:t.title,context:t.context},workspacesConfig:n})}createApiWindow(t){return{id:Array.isArray(t.id)?t.id[0]:t.id,type:\"window\",config:{windowId:t.windowId,isMaximized:t.isMaximized,isLoaded:void 0!==t.windowId,isFocused:t.isFocused,appName:t.appName,url:t.url,title:t.title,workspaceId:t.workspaceId,frameId:t.frameId,positionIndex:t.positionIndex,allowExtract:t.allowExtract,showCloseButton:t.showCloseButton}}}getWorkspaceLayoutComponentName(t){return\"workspace\"+t}getWorkspaceTitle(t){return this._titleGenerator.getTitle(t)}getId(){return j.generate()}getDefaultWorkspaceSettings(){return{mode:\"default\",showCloseIcon:!1,showPopoutIcon:!0}}getDefaultFrameConfig(){const t=j.generate();return{frameId:void 0,workspaceConfigs:[{id:t,config:this.getDefaultWorkspaceConfig()}],workspaceLayout:{settings:this._defaultWorkspaceLayoutSettings,content:[{type:\"stack\",content:[{type:\"component\",id:t,componentName:this.getWorkspaceLayoutComponentName(t),componentState:{},workspacesConfig:{},title:this.getWorkspaceTitle(h.workspaceTitles)}],workspacesConfig:{}}]}}}getDefaultWorkspaceConfig(){}generateInitialConfig(t){const e={settings:this._defaultWorkspaceLayoutSettings,content:[{type:\"stack\",content:t.map((t=>{var e,n,o;const i=j.generate();return{workspacesConfig:{},type:\"component\",id:(null==t?void 0:t.id)||i,componentName:this.getWorkspaceLayoutComponentName(r(null==t?void 0:t.id)||i),componentState:{},noTabHeader:null===(e=null==t?void 0:t.workspacesOptions)||void 0===e?void 0:e.noTabHeader,title:(null===(n=null==t?void 0:t.workspacesOptions)||void 0===n?void 0:n.title)||(null===(o=null==t?void 0:t.workspacesOptions)||void 0===o?void 0:o.name)||this.getWorkspaceTitle(h.workspaceIds)}})),workspacesConfig:{}}]};return{frameId:void 0,workspaceConfigs:t.map(((t,n)=>{let o=null==t?void 0:t.id;return o||\"component\"===e.content[0].type||(o=e.content[0].content[n].id),{id:o,config:t}})),workspaceLayout:e}}wrapInGroup(t){return this.wrap(t,\"stack\")}getAppNameFromWindowId(t){const e=this._glue.appManager.instances().find((e=>e.agm.windowId===t));return null==e?void 0:e.application.name}createWindowConfigurationCore(t){return{workspacesConfig:{},type:\"component\",id:t||this.getId(),componentName:\"emptyVisibleWindow\"}}wrap(t,e){return{workspacesConfig:{wrapper:!0},type:e,content:t}}}class J{constructor(){this.registry=s()}onFrameEvent(t){return this.registry.add(\"frame\",t)}onWindowEvent(t){return this.registry.add(\"window\",t)}onContainerEvent(t){return this.registry.add(\"container\",t)}onWorkspaceEvent(t){return this.registry.add(\"workspace\",t)}raiseFrameEvent(t){this.registry.execute(\"frame\",t.action,t.payload)}raiseWindowEvent(t){this.registry.execute(\"window\",t.action,t.payload)}raiseContainerEvent(t){this.registry.execute(\"container\",t.action,t.payload)}raiseWorkspaceEvent(t){this.registry.execute(\"workspace\",t.action,t.payload)}}class Z{constructor(t){this._configFactory=t,this.flat=t=>t.reduce(((t,e)=>[...t,...Array.isArray(e)?e:[e]]),[])}convertToRendererConfig(t){if(t)return this.convertToRendererConfigCore(t,void 0)}convertToAPIConfig(t){if(t)return this.convertToApiConfigCore(t)}convertToRendererConfigCore(t,e){var n,o,i,s,r,a,c,l,d,h,u,p,f,m,g,w,y,v,_,C;let I={type:t.type,content:[],workspacesOptions:t.config||{}};if(\"workspace\"!==t.type&&t.type||(I=this.applyDefaultRendererConfig({content:[],workspacesOptions:t.config})),\"workspace\"===t.type||!t.type){const e=t,{children:n}=e;return n.length>1&&n.every((t=>\"column\"===t.type))?I.content.push(this.wrap(n.map((t=>this.convertToRendererConfigCore(t,e))),\"row\")):n.length>1&&n.every((t=>\"row\"===t.type))?I.content.push(this.wrap(n.map((t=>this.convertToRendererConfigCore(t,e))),\"column\")):I.content.push(...n.map((t=>this.convertToRendererConfigCore(t,e)))),I}if(\"column\"===t.type||\"row\"===t.type)return I.content.push(...t.children.map((e=>this.convertToRendererConfigCore(e,t)))),0===I.content.length&&I.content.push(this.getGroupWithEmptyVisibleWindow()),I.workspacesConfig||(I.workspacesConfig={}),I.workspacesConfig.allowDrop=null===(n=t.config)||void 0===n?void 0:n.allowDrop,I.width=this.convertSizeToRendererConfigSafely(null===(o=t.config)||void 0===o?void 0:o.width),I.height=this.convertSizeToRendererConfigSafely(null===(i=t.config)||void 0===i?void 0:i.height),I;if(\"group\"===t.type)return I.type=\"stack\",I.content.push(...t.children.map((e=>this.convertToRendererConfigCore(e,t)))),0===I.content.length&&I.content.push(this._configFactory.createEmptyVisibleWindowConfig()),I.workspacesConfig||(I.workspacesConfig={}),I.workspacesConfig.allowDrop=null===(s=t.config)||void 0===s?void 0:s.allowDrop,I.workspacesConfig.allowExtract=null===(r=t.config)||void 0===r?void 0:r.allowExtract,I.workspacesConfig.showMaximizeButton=null===(a=t.config)||void 0===a?void 0:a.showMaximizeButton,I.workspacesConfig.showEjectButton=null===(c=t.config)||void 0===c?void 0:c.showEjectButton,I.workspacesConfig.showAddWindowButton=null===(l=t.config)||void 0===l?void 0:l.showAddWindowButton,I.activeItemIndex=null===(d=t.config)||void 0===d?void 0:d.activeTabIndex,I.width=this.convertSizeToRendererConfigSafely(null===(h=t.config)||void 0===h?void 0:h.width),I.height=this.convertSizeToRendererConfigSafely(null===(u=t.config)||void 0===u?void 0:u.height),I;if(\"window\"===t.type){let n=(null===(p=t.config)||void 0===p?void 0:p.appName)||t.appName;const o=null===(f=t.config)||void 0===f?void 0:f.windowId;!n&&o&&(n=this._configFactory.getAppNameFromWindowId(o));const i=this._configFactory.createGDWindowConfig({windowId:o,id:t.id,appName:n,url:(null===(m=t.config)||void 0===m?void 0:m.url)||t.url,title:(null===(g=t.config)||void 0===g?void 0:g.title)||t.title,context:(null===(w=t.config)||void 0===w?void 0:w.context)||t.context,allowExtract:null!==(v=null===(y=null==t?void 0:t.config)||void 0===y?void 0:y.allowExtract)&&void 0!==v?v:t.allowExtract,showCloseButton:null!==(C=null===(_=null==t?void 0:t.config)||void 0===_?void 0:_.showCloseButton)&&void 0!==C?C:t.showCloseButton});return\"group\"!==e.type?(i.componentState.header=!1,this.wrap([i],\"stack\")):i}}convertToApiConfigCore(t){var e,n,o,i,s,a,c,l;if(!t.type||\"workspace\"===t.type){t=t;const e=this.flat(t.content.map((t=>this.convertToApiConfigCore(t))));return{id:r(t.id),config:t.workspacesOptions,children:e}}if(\"component\"===t.type&&\"emptyVisibleWindow\"===t.componentName)return[];if(\"component\"!==t.type&&t.workspacesConfig&&t.workspacesConfig.wrapper)return this.flat(t.content.map((t=>this.convertToApiConfigCore(t))));if(\"component\"===t.type){const e=t.workspacesConfig;return this._configFactory.createApiWindow({id:t.id,isFocused:!1,isMaximized:e.isMaximized,windowId:t.componentState.windowId,appName:t.componentState.appName,url:t.componentState.url,frameId:e.frameId,workspaceId:e.workspaceId,title:e.title,positionIndex:e.positionIndex,allowExtract:e.allowExtract,showCloseButton:e.showCloseButton})}const d=t,h={id:r(t.id),type:\"stack\"===t.type?\"group\":t.type,children:this.flat(t.content.map((t=>this.convertToApiConfigCore(t)))),config:{positionIndex:null===(e=d.workspacesConfig)||void 0===e?void 0:e.positionIndex,frameId:null===(n=d.workspacesConfig)||void 0===n?void 0:n.frameId,workspaceId:null===(o=d.workspacesConfig)||void 0===o?void 0:o.workspaceId,activeTabIndex:d.activeItemIndex,width:d.width,height:d.height,allowDrop:null===(i=d.workspacesConfig)||void 0===i?void 0:i.allowDrop,allowExtract:null===(s=d.workspacesConfig)||void 0===s?void 0:s.allowExtract,showMaximizeButton:null===(a=d.workspacesConfig)||void 0===a?void 0:a.showMaximizeButton,showEjectButton:null===(c=d.workspacesConfig)||void 0===c?void 0:c.showEjectButton,showAddWindowButton:null===(l=d.workspacesConfig)||void 0===l?void 0:l.showAddWindowButton}};return\"group\"!==h.type&&(delete h.config.allowExtract,delete h.config.showMaximizeButton,delete h.config.showEjectButton,delete h.config.showAddWindowButton),h}wrap(t,e){return{workspacesConfig:{wrapper:!0},type:e,content:t}}applyDefaultRendererConfig(t){return Object.assign({settings:Object.assign({},this._configFactory.getDefaultWorkspaceSettings())},t)}getGroupWithEmptyVisibleWindow(){return this.wrap([this._configFactory.createEmptyVisibleWindowConfig()],\"stack\")}convertSizeToRendererConfigSafely(t){return t>0?t:void 0}}class Q{constructor(t,e,n){this._externalPopupManager=t,this._componentPopupManager=e,this._componentFactory=n}showAddWindowPopup(e,n){var o;return t(this,void 0,void 0,(function*(){return(null===(o=this._componentFactory)||void 0===o?void 0:o.createAddApplicationPopup)?this._componentPopupManager.showAddWindowPopup(e,n):this._externalPopupManager.showAddWindowPopup(e,n)}))}showOpenWorkspacePopup(e,n){var o;return t(this,void 0,void 0,(function*(){return(null===(o=this._componentFactory)||void 0===o?void 0:o.createAddWorkspacePopup)?this._componentPopupManager.showOpenWorkspacePopup(e):this._externalPopupManager.showOpenWorkspacePopup(e,n)}))}showSaveWorkspacePopup(e,n){var o;return t(this,void 0,void 0,(function*(){return(null===(o=this._componentFactory)||void 0===o?void 0:o.createSaveWorkspacePopup)?this._componentPopupManager.showSaveWorkspacePopup(e,n):this._externalPopupManager.showSaveWorkspacePopup(e,n)}))}hidePopup(){this._externalPopupManager.hidePopup(),this._componentFactory&&this._componentPopupManager.hidePopup()}}class K{constructor(t){this._addApplicationType=\"addApplication\",this._openWorkspaceType=\"openWorkspace\",this._saveWorkspaceType=\"saveWorkspace\",this._showPopupMethod=\"T42.Workspaces.ShowPopup\",this._glue=t,this.initPopup(),this.registerHideMethod(),this.registerResizeMethod()}showAddWindowPopup(e,n){return t(this,void 0,void 0,(function*(){this.hidePopup();const t=yield this.getPopupSize(this._addApplicationType,n);this.showElement(this._popup,e,t)}))}showOpenWorkspacePopup(e,n){return t(this,void 0,void 0,(function*(){this.hidePopup();const t=yield this.getPopupSize(this._openWorkspaceType,n);this.showElement(this._popup,e,t)}))}showSaveWorkspacePopup(e,n){return t(this,void 0,void 0,(function*(){this.hidePopup();const t=yield this.getPopupSize(this._saveWorkspaceType,n);this.showElement(this._popup,e,t)}))}hidePopup(){$(this._popup).css(\"visibility\",\"hidden\")}initPopup(){}showElement(t,e,n){$(t).css(\"visibility\",\"visible\").css(\"top\",e.top+\"px\").css(\"left\",e.left+\"px\"),n.height&&$(t).css(\"height\",n.height+\"px\"),n.width&&$(t).css(\"width\",n.width+\"px\");const o=t.getBoundingClientRect(),i=document.body.getBoundingClientRect(),s=i.width-o.right-10,r=i.height-o.bottom-10;s<0&&$(t).css(\"left\",e.left+s),r<0&&$(t).css(\"top\",e.top+r)}resizePopup(t){const e=$(this._popup);t.height&&e.css(\"height\",t.height+\"px\"),t.width&&e.css(\"width\",t.width+\"px\");const n=this._popup.getBoundingClientRect(),o=document.body.getBoundingClientRect(),i=o.width-n.right-10,s=o.height-n.bottom-10;if(i<0){const t=e.css(\"left\"),n=parseInt(t.substring(0,t.length-2));e.css(\"left\",n+i)}if(s<0){const t=e.css(\"top\"),n=parseInt(t.substring(0,t.length-2));e.css(\"top\",n+s)}}getPopupSize(e,n){return t(this,void 0,void 0,(function*(){const t=this.getPopupInteropId(),o=this._glue.agm.servers().find((e=>e.windowId===t));return(yield this._glue.agm.invoke(this._showPopupMethod,{type:e,payload:n},o)).returned}))}registerHideMethod(){}registerResizeMethod(){}getPopupInteropId(){try{return this._popup.contentWindow.interopId||\"best\"}catch(t){console.warn(\"Could not get the popup interop id using best\")}return\"best\"}getPopupWindowTemplate(t){return`<iframe id=\"popup\" src=\"${t}\" class=\"popup\"></iframe>`}}class tt{constructor(t,e){this._addApplicationType=\"addApplication\",this._openWorkspaceType=\"openWorkspace\",this._saveWorkspaceType=\"saveWorkspace\",this._popupSizes={[this._addApplicationType]:{height:200,width:200},[this._openWorkspaceType]:{height:200,width:200},[this._saveWorkspaceType]:{height:200,width:200}},this.hidePopup=()=>(document.body.onclick=void 0,$(this._popup).css(\"visibility\",\"hidden\"),new Promise((t=>{var e;(null===(e=this._componentFactory)||void 0===e?void 0:e.hideSystemPopups)?this._componentFactory.hideSystemPopups(t):t()}))),this._componentFactory=t,this._frameId=e,this.initPopup()}showAddWindowPopup(e,{workspaceId:n,parentType:o,boxId:i}){return t(this,void 0,void 0,(function*(){yield this.showInternalAddAppPopup(e,i,n,o)}))}showOpenWorkspacePopup(e){return t(this,void 0,void 0,(function*(){yield this.showInternalOpenWorkspacePopup(e)}))}showSaveWorkspacePopup(e,n){return t(this,void 0,void 0,(function*(){yield this.showInternalSaveWorkspacePopup(e,n)}))}showInternalSaveWorkspacePopup(e,n){return t(this,void 0,void 0,(function*(){yield this.hidePopup();const t=this.getPopupSize(this._saveWorkspaceType);this.showElement(this._popup,e,t),this._componentFactory.createSaveWorkspacePopup({domNode:this._popup,resizePopup:t=>this.resizePopup(t,this._saveWorkspaceType,$(this._popup)),hidePopup:this.hidePopup,workspaceId:n.workspaceId,buildMode:n.buildMode})}))}showInternalOpenWorkspacePopup(e){return t(this,void 0,void 0,(function*(){yield this.hidePopup();const t=this.getPopupSize(this._openWorkspaceType);this.showElement(this._popup,e,t),this._componentFactory.createAddWorkspacePopup({domNode:this._popup,frameId:this._frameId,hidePopup:this.hidePopup,resizePopup:t=>this.resizePopup(t,this._openWorkspaceType,$(this._popup))})}))}showInternalAddAppPopup(e,n,o,i){return t(this,void 0,void 0,(function*(){yield this.hidePopup();const t=this.getPopupSize(this._addApplicationType);this.showElement(this._popup,e,t),this._componentFactory.createAddApplicationPopup({domNode:this._popup,boxId:n,resizePopup:t=>this.resizePopup(t,this._addApplicationType,$(this._popup)),hidePopup:this.hidePopup,workspaceId:o,frameId:this._frameId})}))}initPopup(){this._popup=document.createElement(\"div\"),this._popup.classList.add(\"workspaces-system-popup\"),document.body.appendChild(this._popup)}showElement(t,e,n){document.body.onclick=t=>{-1===t.composedPath().indexOf(this._popup)&&this.hidePopup()},document.body.onblur=t=>{\"iframe\"===document.activeElement.tagName.toLowerCase()&&this.hidePopup()},$(t).css(\"visibility\",\"visible\").css(\"top\",e.top+\"px\").css(\"left\",e.left+\"px\"),n.height&&$(t).css(\"height\",n.height+\"px\"),n.width&&$(t).css(\"width\",n.width+\"px\");const o=t.getBoundingClientRect(),i=document.body.getBoundingClientRect(),s=i.width-o.right-10,r=i.height-o.bottom-10;s<0&&$(t).css(\"left\",e.left+s),r<0&&$(t).css(\"top\",e.top+r)}resizePopup(t,e,n){t.height&&(n.css(\"height\",t.height+\"px\"),this._popupSizes[e].height=t.height),t.width&&(n.css(\"width\",t.width+\"px\"),this._popupSizes[e].width=t.width);const o=n[0].getBoundingClientRect(),i=document.body.getBoundingClientRect(),s=i.width-o.right-10,r=i.height-o.bottom-10;if(s<0){const t=n.css(\"left\"),e=parseInt(t.substring(0,t.length-2),10);n.css(\"left\",e+s)}if(r<0){const t=n.css(\"top\"),e=parseInt(t.substring(0,t.length-2),10);n.css(\"top\",e+r)}}getPopupSize(t){return this._popupSizes[t]}}var et=new class{getSettings(e){return t(this,void 0,void 0,(function*(){return this.settings||(this.settings=yield this.askForSettings(e)),this.settings}))}askForSettings(e){return t(this,void 0,void 0,(function*(){return(yield e.interop.invoke(\"T42.Web.Platform.Control\",{domain:\"workspaces\",operation:\"getWorkspacesConfig\",data:{}})).returned}))}};class nt{constructor(t,e,n,o,i){this._glue=t,this._stateResolver=e,this._frameController=n,this._manager=o,this._delayedExecutor=i,this.registry=s(),this.WAIT_FOR_WINDOWS_TIMEOUT=3e4,this.idToWindowPromise={}}start(e,n){return t(this,void 0,void 0,(function*(){if(\"emptyVisibleWindow\"===e.config.componentName)return;if(this.idToWindowPromise[r(e.config.id)])return this.idToWindowPromise[r(e.config.id)];const t=h.getById(n);if(!t)return;const o=this.startCore(e,t);this.idToWindowPromise[r(e.config.id)]=o;const i=this._frameController.onFrameRemoved((t=>{t===r(e.config.id)&&(i(),delete this.idToWindowPromise[t])}));return o}))}getLoadingStrategy(t,e,n){var o,i;return(null==n?void 0:n.loadingStrategy)?n.loadingStrategy:(null===(o=null==e?void 0:e.workspacesOptions)||void 0===o?void 0:o.loadingStrategy)?e.workspacesOptions.loadingStrategy:(null==t?void 0:t.loadingStrategy)?null===(i=null==t?void 0:t.loadingStrategy)||void 0===i?void 0:i.defaultStrategy:void 0}startLazy(e){return t(this,void 0,void 0,(function*(){const t=h.getById(e);if(!(null==t?void 0:t.layout))return;const n=t.layout.root.getItemsByType(\"component\"),o=this.getComponentsByVisibility(n.map((t=>t)));return Promise.all(o.visibleComponents.map((t=>this.start(t,e))))}))}startDelayed(e){return t(this,void 0,void 0,(function*(){const t=h.getById(e);if(!(null==t?void 0:t.layout))return;const n=t.layout.root.getItemsByType(\"component\"),o=this.getComponentsByVisibility(n.map((t=>t))),i=o.visibleComponents.map((t=>this.start(t,e))),s=(yield et.getSettings(this._glue)).loadingStrategy;return Promise.all(i).then((()=>{var t,n,i;return this._delayedExecutor.startExecution(o.notImmediatelyVisibleComponents.map((t=>({id:r(t.config.id),action:()=>this.start(t,e)}))),{batchSize:(null===(t=null==s?void 0:s.delayed)||void 0===t?void 0:t.batch)||1,executionInterval:(null===(n=null==s?void 0:s.delayed)||void 0===n?void 0:n.interval)||5e3,initialDelay:(null===(i=null==s?void 0:s.delayed)||void 0===i?void 0:i.initialOffsetInterval)||1e3})}))}))}startDirect(e){return t(this,void 0,void 0,(function*(){const t=h.getById(e);if(!(null==t?void 0:t.layout))return;const n=t.layout.root.getItemsByType(\"component\");yield Promise.all(n.map((t=>this.start(t,e))))}))}notifyFrameWillClose(t,e){return this._glue.interop.invoke(\"T42.Web.Platform.Control\",{domain:e?\"appManager\":\"windows\",operation:e?\"unregisterWorkspaceApp\":\"unregisterWorkspaceWindow\",data:{windowId:t}})}onStarted(t){return this.registry.add(\"on-started\",t)}onLoaded(t){return this.registry.add(\"on-loaded\",t)}onFailed(t){return this.registry.add(\"on-failed\",t)}waitForWindows(t,e){return new Promise(((n,o)=>{let i,s=()=>{},a=()=>{};const[c,l]=this.waitFor(e.length,(()=>{n(),s(),a(),clearTimeout(i)}));i=setTimeout((()=>{o(`Waiting for windows ${JSON.stringify(e)} in workspace ${t}, but only heard ${JSON.stringify(l())} in ${this.WAIT_FOR_WINDOWS_TIMEOUT} seconds`)}),this.WAIT_FOR_WINDOWS_TIMEOUT),s=this.onLoaded((({summary:n})=>{n.config.workspaceId===t&&e.includes(n.itemId)&&c(n.itemId)})),a=this.onFailed((n=>{n.workspaceId===t&&e.includes(r(n.component.config.id))&&c(n.component.config.id)}))}))}getUrlByAppName(t){var e,n,o,i;if(t)return null===(i=null===(o=null===(n=null===(e=this._glue.appManager)||void 0===e?void 0:e.application(t))||void 0===n?void 0:n.userProperties)||void 0===o?void 0:o.details)||void 0===i?void 0:i.url}raiseStarted(t){this.registry.execute(\"on-started\",{summary:t})}raiseLoaded(t){this.registry.execute(\"on-loaded\",{summary:t})}raiseFailed(t,e){this.registry.execute(\"on-failed\",{component:t,workspaceId:e})}getTitleByAppName(t){var e,n;if(t)return null===(n=null===(e=this._glue.appManager)||void 0===e?void 0:e.application(t))||void 0===n?void 0:n.title}getAppNameByWindowId(t){var e,n,o,i;return null===(i=null===(o=null===(n=null===(e=this._glue.appManager)||void 0===e?void 0:e.instances())||void 0===n?void 0:n.find((e=>e.id===t)))||void 0===o?void 0:o.application)||void 0===i?void 0:i.name}notifyFrameWillStart(t,e,n,o){return this._glue.interop.invoke(\"T42.Web.Platform.Control\",{domain:e?\"appManager\":\"windows\",operation:e?\"registerWorkspaceApp\":\"registerWorkspaceWindow\",data:{name:`${e||\"window\"}_${t}`,windowId:t,frameId:this._manager.frameId,appName:e,context:n,title:o}})}waitFor(t,e){let n=[];return[o=>{n.push(o),n.length===t&&e()},()=>n]}vaidateTitle(t){if(null==t?void 0:t.length)return t}getComponentsByVisibility(t){const e=t.filter((t=>this._stateResolver.isWindowSelected(t.config.id))),n=t.filter((t=>!e.includes(t)));return{visibleComponents:e,notImmediatelyVisibleComponents:n}}startCore(e,n){var o,i;return t(this,void 0,void 0,(function*(){const t=l(e.element),{componentState:s}=e.config,{title:a,appName:c}=s;let{windowId:d}=s;const u=r(e.config.id),p=this.getTitleByAppName(c),f=this.vaidateTitle(a)||this.vaidateTitle(p)||this.vaidateTitle(c)||\"Glue\",m=null===(o=null==e?void 0:e.config.componentState)||void 0===o?void 0:o.context;let g=this.getUrlByAppName(s.appName)||s.url;const w=!h.getWindow(u)||!h.getWindow(u).windowId,y=n.hibernatedWindows.some((t=>t.id===r(e.config.id)));if(h.addWindow({id:u,bounds:t,windowId:d,url:g,appName:c},n.id),!g&&d){const t=this._glue.windows.list().find((t=>t.id===d));g=yield t.getURL();h.getWindow(u).url=g}if(d=d||j.generate(),(null===(i=e.config.componentState)||void 0===i?void 0:i.context)&&delete e.config.componentState.context,e.config.componentState.url=g,f&&e.setTitle(f),w&&!y){const t=this._stateResolver.getWindowSummarySync(u,e);this._manager.workspacesEventEmitter.raiseWindowEvent({action:\"added\",payload:{windowSummary:t}});const n=this._glue.windows.findById(d);if(n)try{yield n.close()}catch(t){}}try{yield this.notifyFrameWillStart(d,c,m,f),yield this._frameController.startFrame(u,g,void 0,d);const t=h.getWindow(u);e.config.componentState.windowId=d,t.windowId=d;if(this._glue.windows.findById(d).getTitle().then((t=>{this.vaidateTitle(f)&&e.setTitle(t)})).catch((t=>{console.warn(\"Failed while setting the window title\",t)})),this._frameController.moveFrame(u,l(e.element)),w&&!y&&this._manager.workspacesEventEmitter.raiseWindowEvent({action:\"loaded\",payload:{windowSummary:yield this._stateResolver.getWindowSummary(u)}}),!c){const n=this.getAppNameByWindowId(d);if(!e.config.componentState)throw new Error(`Invalid state - the created component ${u} with windowId ${d} is missing its state object`);e.config.componentState.appName=n,t.appName=n}}catch(t){this.raiseFailed(e,n.id),e.config.componentState.windowId=void 0,g?this._frameController.moveFrame(u,l(e.element)):this._manager.closeTab(e,!1);if(!h.getById(n.id))throw new Error(`Workspace ${n.id} failed ot initialize because none of the specified windows were able to load\\n                Internal error: ${t}`)}finally{n.hibernatedWindows=n.hibernatedWindows.filter((t=>t.id!==r(e.config.id)))}}))}}class ot{constructor(){this.actionsInProgress=[]}startExecution(e,n){return t(this,void 0,void 0,(function*(){const o=this.splitInBatches(e,n.batchSize);yield this.waitFor(n.initialDelay);return o.reduce(((e,o)=>t(this,void 0,void 0,(function*(){const t=yield e;return t.push(...yield this.executeBatch(o)),yield this.waitFor(n.executionInterval),Promise.resolve(t)}))),Promise.resolve([])).then((()=>{this.actionsInProgress=[]}))}))}isActionInProgress(t){return this.actionsInProgress.some((e=>e.id===t))}executeBatch(t){return this.actionsInProgress=t,Promise.all(t.map((t=>t.action())))}splitInBatches(t,e){return t.reduce(((t,n,o)=>{if(o%e==0)t.push([n]);else{const e=t.pop();e.push(n),t.push(e)}return t}),[])}waitFor(t){return new Promise((e=>{setTimeout((()=>{e()}),t)}))}}var it=new class{constructor(){this._isLayoutInitialized=!1,this._initPromise=Promise.resolve(),this._workspacesEventEmitter=new J,this._titleGenerator=new X,this.getComponentBounds=()=>this._controller.bounds,this.subscribeForWindowClicked=t=>this._frameController?this._frameController.onFrameContentClicked(t):(console.warn(\"Your subscription to window clicked wasn't successful, because the Workspaces library isn't initialized yet\"),()=>{}),this.cleanUp=()=>{var t;if(this._isDisposing=!0,null===(t=U.config)||void 0===t?void 0:t.build)return;const e=[],n=h.workspaceIds.map((t=>{const n=h.getById(t);e.push(...n.windows.map((t=>this.stateResolver.getWindowSummarySync(t.id))));const o=this.stateResolver.getWorkspaceConfig(t),i=this.stateResolver.extractWindowSummariesFromSnapshot(o);return e.push(...i),this.stateResolver.getWorkspaceSummary(t)}));e.forEach((t=>{this._applicationFactory.notifyFrameWillClose(t.config.windowId,t.config.appName).catch((t=>{})),this.workspacesEventEmitter.raiseWindowEvent({action:\"removed\",payload:{windowSummary:t}})})),n.forEach((t=>{this.workspacesEventEmitter.raiseWorkspaceEvent({action:\"closed\",payload:{frameSummary:{id:this._frameId},workspaceSummary:t}})}));const o=h.layouts.filter((t=>{var e,n,o;return!(null===(o=null===(n=null===(e=t.layout)||void 0===e?void 0:e.config)||void 0===n?void 0:n.workspacesOptions)||void 0===o?void 0:o.noTabHeader)}));this._layoutsManager.saveWorkspacesFrame(o),this.workspacesEventEmitter.raiseFrameEvent({action:\"closed\",payload:{frameSummary:{id:this._frameId}}})}}get stateResolver(){return this._stateResolver}get workspacesEventEmitter(){return this._workspacesEventEmitter}get initPromise(){return this._initPromise}get initialized(){return this._initialized}get frameId(){return this._frameId}init(t,e,n,o){this._glue=t,this._facade=n;const i=U.loadConfig();if(this._initialized)return void f.reInitialize(o);this._initialized=!0,this._frameId=e,this._configFactory=new Y(t);const r=new Z(this._configFactory);f.init(this._frameId,o),this._frameController=new H(t);const a=new I(s());return this._stateResolver=new V(this._frameId,a,this._frameController),this._controller=new C(a,this._stateResolver,i,this._configFactory),this._applicationFactory=new nt(t,this.stateResolver,this._frameController,this,new ot),this._layoutsManager=new G(this.stateResolver,t,this._configFactory,r),this._popupManager=new Q(new K(t),new tt(o,e),o),i.emptyFrame||this.initLayout(),{cleanUp:this.cleanUp}}saveWorkspace(e,n,o){var i;return t(this,void 0,void 0,(function*(){const t=h.getById(n)||h.getActiveWorkspace(),s=yield this._layoutsManager.save({name:e,workspace:t,title:h.getWorkspaceTitle(t.id),saveContext:o}),r=(null===(i=t.layout)||void 0===i?void 0:i.config)||t.hibernateConfig;return r.workspacesOptions.layoutName=e,r.workspacesOptions.noTabHeader&&delete r.workspacesOptions.noTabHeader,s}))}openWorkspace(e,n){var o;return t(this,void 0,void 0,(function*(){const t=yield this._layoutsManager.getWorkspaceByName(e),i=t.config;if(i.workspacesOptions.context=t.layoutData.context,(null==n?void 0:n.context)&&i.workspacesOptions.context?i.workspacesOptions.context=Object.assign(t.layoutData.context,null==n?void 0:n.context):(null==n?void 0:n.context)&&(i.workspacesOptions.context=null==n?void 0:n.context),i.workspacesOptions.title=(null==n?void 0:n.title)||e,i&&i.workspacesOptions&&!i.workspacesOptions.name&&(i.workspacesOptions.name=e),i&&(i.workspacesOptions=i.workspacesOptions||{},i.workspacesOptions.layoutName=t.layoutData.name),i&&n&&(i.workspacesOptions.loadingStrategy=n.loadingStrategy),i&&void 0!==(null==n?void 0:n.noTabHeader)&&(i.workspacesOptions=i.workspacesOptions||{},i.workspacesOptions.noTabHeader=null==n?void 0:n.noTabHeader),!this._isLayoutInitialized)return this._layoutsManager.setInitialWorkspaceConfig(i),this._initPromise=this.initLayout(),yield this._initPromise,r(i.id);if(e){if(i.id=(null==n?void 0:n.reuseWorkspaceId)||this._configFactory.getId(),null==n?void 0:n.reuseWorkspaceId){h.getById(i.id).windows.map((t=>h.getWindowContentItem(t.id))).filter((t=>t)).map((t=>this.closeTab(t,!1))),yield this.reinitializeWorkspace(i.id,i),(null===(o=i.workspacesOptions)||void 0===o?void 0:o.context)&&(yield this._glue.contexts.set(d(i.id),i.workspacesOptions.context))}else yield this.addWorkspace(r(i.id),i);return r(i.id)}}))}exportAllLayouts(){return this._layoutsManager.export()}deleteLayout(t){this._layoutsManager.delete(t)}maximizeItem(t){this._controller.maximizeWindow(t)}restoreItem(t){this._controller.restoreWindow(t)}closeItem(t){const e=h.getWindow(t),n=h.getContainer(t);if(this._frameId===t)h.workspaceIds.forEach((t=>this.closeWorkspace(h.getById(t))));else if(e){const e=h.getWindowContentItem(t);if(!e)throw new Error(`Could not find item ${t} to close`);this.closeTab(e)}else if(n)this._controller.closeContainer(t);else{const e=h.getById(t);this.closeWorkspace(e)}}addContainer(e,n){return t(this,void 0,void 0,(function*(){const o=yield this._controller.addContainer(e,n),i=a(e.content),s=h.getById(n)||h.getByContainerId(n);return Promise.all(i.map((e=>t(this,void 0,void 0,(function*(){const t=h.getWindowContentItem(r(e.id));yield this._applicationFactory.start(t,s.id)}))))),o}))}addWindow(e,n){return t(this,void 0,void 0,(function*(){const t=h.getContainer(n);t&&\"stack\"===t.type||\"component\"!==e.type||(e=this._configFactory.wrapInGroup([e])),yield this._controller.addWindow(e,n);const o=h.getById(n)||h.getByContainerId(n),i=a([e]),s=h.getWindowContentItem(r(i[0].id));this._applicationFactory.start(s,o.id)}))}setItemTitle(t,e){h.getById(t)?this._controller.setWorkspaceTitle(t,e):this._controller.setWindowTitle(t,e)}eject(e){return t(this,void 0,void 0,(function*(){const{appName:t,url:n,windowId:o}=e.config.componentState,i=h.getWorkspaceContext(h.getByWindowId(e.config.id).id),s=this._glue.windows.findById(o),a=s?yield s.getContext():i;if(this.closeItem(r(e.config.id)),t){const e=o?{reuseId:o}:void 0;return{windowId:(yield this._glue.appManager.application(t).start(a,e)).id}}const c=this._applicationFactory.getUrlByAppName(t)||n;return{windowId:(yield this._glue.windows.open(`${t}_${o}`,c,{context:a,windowId:o})).id}}))}createWorkspace(e){var n,o,i,s;return t(this,void 0,void 0,(function*(){if(!this._isLayoutInitialized)return e.id=this._configFactory.getId(),this._layoutsManager.setInitialWorkspaceConfig(e),this._initPromise=this.initLayout(),yield this._initPromise,r(e.id);const t=(null===(n=e.workspacesOptions)||void 0===n?void 0:n.reuseWorkspaceId)||this._configFactory.getId();if(null===(o=e.workspacesOptions)||void 0===o?void 0:o.reuseWorkspaceId){const n=h.getById(t);if(!n)throw new Error(`Could not find workspace ${null===(i=e.workspacesOptions)||void 0===i?void 0:i.reuseWorkspaceId} to reuse`);n.windows.map((t=>h.getWindowContentItem(t.id))).filter((t=>t)).map((t=>this.closeTab(t,!1))),yield this.reinitializeWorkspace(t,e),yield this._glue.contexts.set(d(t),null!==(s=e.workspacesOptions.context)&&void 0!==s?s:{})}else yield this.addWorkspace(t,e);return t}))}loadWindow(e){return t(this,void 0,void 0,(function*(){let t=h.getWindowContentItem(e);if(!t)throw new Error(`Could not find window ${e} to load`);let{windowId:n}=t.config.componentState;const o=h.getByWindowId(e);return this.stateResolver.isWindowLoaded(e)||\"component\"!==t.type||(this._applicationFactory.start(t,o.id),yield this.waitForFrameLoaded(e),t=h.getWindowContentItem(e),n=t.config.componentState.windowId),new Promise(((t,o)=>{n||o(`The window id of ${e} is missing`);let i=()=>{};const s=setTimeout((()=>{o(`Could not load window ${n} for 5000ms`),i()}),5e3);i=this._glue.windows.onWindowAdded((e=>{e.id===n&&(t({windowId:n}),i(),clearTimeout(s))}));this._glue.windows.list().find((t=>t.id===n))&&(t({windowId:n}),i(),clearTimeout(s))}))}))}focusItem(e){return t(this,void 0,void 0,(function*(){const t=h.getById(e);this._frameId===e||(t?(t.hibernateConfig&&(yield this.resumeWorkspace(t.id)),this._controller.focusWorkspace(t.id)):this._controller.focusWindow(e))}))}bundleWorkspace(t,e){if(this._stateResolver.isWorkspaceHibernated(t))throw new Error(`Could not bundle workspace ${t} because its hibernated`);this._controller.bundleWorkspace(t,e)}move(t){return this._glue.windows.my().moveTo(t.y,t.x)}getFrameSummary(t){const e=h.getByContainerId(t)||h.getByWindowId(t)||h.getById(t),n=this._frameId===t;return{id:e||n?this._frameId:\"none\"}}moveWindowTo(e,n){return t(this,void 0,void 0,(function*(){const t=h.getByWindowId(e),o=h.getByContainerId(n)||h.getById(n);if(!o)throw new Error(`Could not find container ${n} in frame ${this._frameId}`);if(!t)throw new Error(`Could not find window ${e} in frame ${this._frameId}`);if(this._stateResolver.isWorkspaceHibernated(o.id))throw new Error(`Could not move window ${e} to workspace ${o.id} because its hibernated`);if(this._stateResolver.isWorkspaceHibernated(t.id))throw new Error(`Could not move window ${e} from workspace ${t.id} because its hibernated`);const i=h.getWindowContentItem(e);if(!i)throw new Error(`Could not find window ${e} in frame ${this._frameId}`);const s=t.windows.find((t=>t.id===e||t.windowId===e));this._controller.removeLayoutElement(e),h.removeWindow(s,t.id),h.addWindow(s,o.id),yield this._controller.addWindow(i.config,n)}))}generateWorkspaceLayout(t,e){const n=h.getById(e);if(!n)throw new Error(\"Could not find workspace with id \"+e);return this._layoutsManager.generateLayout(t,n)}resumeWorkspace(e){return t(this,void 0,void 0,(function*(){const t=h.getById(e);if(!t)throw new Error(`Could not find workspace ${e} in any of the frames`);const n=t.hibernateConfig;n.workspacesOptions||(n.workspacesOptions={}),n.workspacesOptions.reuseWorkspaceId=e,yield this.createWorkspace(n),t.hibernateConfig=void 0,this._controller.showSaveIcon(e)}))}lockWorkspace(t){var e,n,o,i;t.config||(t.config={allowDrop:!1,allowDropLeft:!1,allowDropTop:!1,allowDropRight:!1,allowDropBottom:!1,allowExtract:!1,allowSplitters:!1,showCloseButton:!1,showSaveButton:!1,showWindowCloseButtons:!1,showEjectButtons:!1,showAddWindowButtons:!1}),Object.keys(t.config).forEach((e=>{const n=t.config;void 0===n[e]&&(n[e]=!0)})),void 0!==t.config.allowDrop&&(t.config.allowDropLeft=null!==(e=t.config.allowDropLeft)&&void 0!==e?e:t.config.allowDrop,t.config.allowDropTop=null!==(n=t.config.allowDropTop)&&void 0!==n?n:t.config.allowDrop,t.config.allowDropRight=null!==(o=t.config.allowDropRight)&&void 0!==o?o:t.config.allowDrop,t.config.allowDropBottom=null!==(i=t.config.allowDropBottom)&&void 0!==i?i:t.config.allowDrop);const{allowDrop:s,allowExtract:r,allowSplitters:a,showCloseButton:c,showSaveButton:l,showAddWindowButtons:d,showWindowCloseButtons:h,showEjectButtons:u}=t.config,{workspaceId:p}=t;!1===s?this._controller.disableWorkspaceDrop(p,t.config):this._controller.enableWorkspaceDrop(p,t.config),!1===r?this._controller.disableWorkspaceExtract(p):this._controller.enableWorkspaceExtract(p),!1===a?this._controller.disableSplitters(p):this._controller.enableSplitters(p),!1===c?this._controller.disableWorkspaceCloseButton(p):this._controller.enableWorkspaceCloseButton(p),!1===l?this._controller.disableWorkspaceSaveButton(p):this._controller.enableWorkspaceSaveButton(p),!1===d?this._controller.disableWorkspaceAddWindowButtons(p):this._controller.enableWorkspaceAddWindowButtons(p),!1===u?this._controller.disableWorkspaceEjectButtons(p):this._controller.enableWorkspaceEjectButtons(p),!1===h?this._controller.disableWorkspaceWindowCloseButtons(p):this._controller.enableWorkspaceWindowCloseButtons(p)}lockContainer(t){switch((t.config||\"column\"!==t.type)&&(t.config||\"row\"!==t.type)?t.config||\"group\"!==t.type||(t.config={allowDrop:!1,allowExtract:!1,showAddWindowButton:!1,showEjectButton:!1,showMaximizeButton:!1}):t.config={allowDrop:!1},Object.keys(t.config).forEach((e=>{const n=t.config;void 0===n[e]&&(n[e]=!0)})),t.type){case\"column\":this.handleColumnLockRequested(t);break;case\"row\":this.handleRowLockRequested(t);break;case\"group\":this.handleGroupLockRequested(t)}}lockWindow(t){t.config||(t.config={allowExtract:!1,showCloseButton:!1}),Object.keys(t.config).forEach((e=>{const n=t.config;void 0===n[e]&&(n[e]=!0)}));const{allowExtract:e,showCloseButton:n}=t.config,{windowPlacementId:o}=t;!1===e?this._controller.disableWindowExtract(o):this._controller.enableWindowExtract(o,e),!1===n?this._controller.disableWindowCloseButton(o):this._controller.enableWindowCloseButton(o,n);const i=h.getByWindowId(o);(null==i?void 0:i.layout)&&i.layout.updateSize()}hibernateWorkspace(e){return t(this,void 0,void 0,(function*(){const t=h.getById(e);if(h.getActiveWorkspace().id===t.id)throw new Error(`Cannot hibernate workspace ${t.id} because its active`);if(this.stateResolver.isWorkspaceHibernated(e))throw new Error(`Cannot hibernate workspace ${e} because it has already been hibernated`);if(!t.layout)throw new Error(`Cannot hibernate workspace ${t.id} because its empty`);const n=yield this.stateResolver.getWorkspaceConfig(t.id);return t.hibernatedWindows=t.windows,n.workspacesOptions.isHibernated=!0,t.hibernateConfig=n,t.windows.map((t=>h.getWindowContentItem(t.id))).forEach((t=>this.closeTab(t,!1))),h.removeLayout(t.id),this._controller.showHibernationIcon(e),n}))}closeTab(t,e=!0){const n=r(t.config.id),o=h.getByWindowId(n),i=this.stateResolver.getWindowSummarySync(n);this._controller.removeLayoutElement(n),this._frameController.remove(n),this._applicationFactory.notifyFrameWillClose(i.config.windowId,i.config.appName).catch((t=>{})),o.hibernatedWindows.some((t=>i.itemId===t.id))||this.workspacesEventEmitter.raiseWindowEvent({action:\"removed\",payload:{windowSummary:i}}),!o.windows.length&&e&&this.checkForEmptyWorkspace(o)}unmount(){try{this._popupManager.hidePopup()}catch(t){console.warn(t)}}initLayout(){var e;return t(this,void 0,void 0,(function*(){const t=yield et.getSettings(this._glue),n=yield this._layoutsManager.getInitialConfig();this.subscribeForPopups(),this.subscribeForLayout(),this._isLayoutInitialized=!0,yield Promise.all(n.workspaceConfigs.map((t=>{var e,n;return this._glue.contexts.set(d(t.id),(null===(n=null===(e=t.config)||void 0===e?void 0:e.workspacesOptions)||void 0===n?void 0:n.context)||{})}))),yield this._controller.init({frameId:this._frameId,workspaceLayout:n.workspaceLayout,workspaceConfigs:n.workspaceConfigs,showLoadingIndicator:(null===(e=null==t?void 0:t.loadingStrategy)||void 0===e?void 0:e.showDelayedIndicator)||!1}),Promise.all(h.workspaceIds.map((e=>{const o=this._applicationFactory.getLoadingStrategy(t,n.workspaceConfigs[0].config);return this.handleWindows(e,o)}))),h.layouts.map((t=>t.layout)).filter((t=>t)).forEach((t=>this.reportLayoutStructure(t))),U.config.emptyFrame&&this._workspacesEventEmitter.raiseFrameEvent({action:\"opened\",payload:{frameSummary:{id:this._frameId}}})}))}reinitializeWorkspace(e,n){return t(this,void 0,void 0,(function*(){yield this._controller.reinitializeWorkspace(e,n);const t=yield et.getSettings(this._glue),o=this._applicationFactory.getLoadingStrategy(t,n);this.handleWindows(e,o)}))}subscribeForLayout(){this._controller.emitter.onContentItemResized(((t,e)=>{this._frameController.moveFrame(e,l(t))})),this._controller.emitter.onTabCloseRequested((e=>t(this,void 0,void 0,(function*(){const t=h.getByWindowId(r(e.config.id));this.closeTab(e),this._controller.removeLayoutElement(r(e.config.id)),this._frameController.remove(r(e.config.id)),t.windows.length||this.checkForEmptyWorkspace(t)})))),this._controller.emitter.onWorkspaceTabCloseRequested((t=>{this.closeWorkspace(t)})),this._controller.emitter.onTabElementMouseDown((t=>{const e=l(t.contentItem.element),n=Math.min(e.width,800),o=Math.min(e.height,600);this._controller.setDragElementSize(n,o)})),this._controller.emitter.onTabDragStart((t=>{const e=this._controller.getDragElement(),n=new MutationObserver((e=>{Array.from(e).forEach((e=>{if(\"attributes\"===e.type){const e=$(this._controller.getDragElement()).children(\".lm_content\").children(\".lm_item_container\"),n=l(e[0]),o=r(t.contentItem.config.id);this._frameController.moveFrame(o,n),this._frameController.bringToFront(o)}}))}));e&&n.observe(e,{attributes:!0})})),this._controller.emitter.onTabDragEnd((t=>{const e=t.header.tabs.filter((e=>e.contentItem.config.id!==t.contentItem.config.id));this._frameController.selectionChanged([r(t.contentItem.id)],e.map((t=>r(t.contentItem.id))))})),this._controller.emitter.onSelectionChanged(((e,n)=>t(this,void 0,void 0,(function*(){this._popupManager.hidePopup(),this._frameController.selectionChanged(n.map((t=>t.id)),e.map((t=>t.id)))})))),this._controller.emitter.onWorkspaceAdded((t=>{var e;const n=h.workspaceIds.filter((e=>e!==t.id)).reduce(((t,e)=>[...t,...h.getById(e).windows]),[]);if(this._workspacesEventEmitter.raiseWorkspaceEvent({action:\"opened\",payload:{frameSummary:{id:this._frameId},workspaceSummary:this.stateResolver.getWorkspaceSummary(t.id)}}),h.getActiveWorkspace().id===t.id){if(this._workspacesEventEmitter.raiseWorkspaceEvent({action:\"selected\",payload:{frameSummary:{id:this._frameId},workspaceSummary:this.stateResolver.getWorkspaceSummary(t.id)}}),!t.layout)return void this._frameController.selectionChangedDeep([],n.map((t=>t.id)));const e=a(t.layout.toConfig().content);this._frameController.selectionChangedDeep(e.map((t=>r(t.id))),n.map((t=>t.id)))}if(!t.layout)return;const o=t.layout.config.workspacesOptions,i=o.title||o.name;i&&(null===(e=h.getWorkspaceLayoutItemById(t.id))||void 0===e||e.setTitle(i))})),this._controller.emitter.onWorkspaceSelectionChanged(((t,e)=>{if(this._popupManager.hidePopup(),!t.layout)return this._frameController.selectionChangedDeep([],e.map((t=>t.id))),this._workspacesEventEmitter.raiseWorkspaceEvent({action:\"selected\",payload:{frameSummary:{id:this._frameId},workspaceSummary:this.stateResolver.getWorkspaceSummary(t.id)}}),void(t.hibernateConfig&&this.resumeWorkspace(t.id));const n=a(t.layout.toConfig().content).filter((t=>this._controller.isWindowVisible(t.id)));this._frameController.selectionChangedDeep(n.map((t=>r(t.id))),e.map((t=>t.id))),this._workspacesEventEmitter.raiseWorkspaceEvent({action:\"selected\",payload:{frameSummary:{id:this._frameId},workspaceSummary:this.stateResolver.getWorkspaceSummary(t.id)}})})),this._controller.emitter.onAddButtonClicked((({laneId:e,workspaceId:n,bounds:o,parentType:i})=>t(this,void 0,void 0,(function*(){const t={boxId:e,workspaceId:n,parentType:i,frameId:this._frameId,peerId:this._glue.agm.instance.peerId,domNode:void 0,resizePopup:void 0,hidePopup:void 0};yield this._popupManager.showAddWindowPopup(o,t)})))),this._controller.emitter.onContentLayoutInit((t=>{this.reportLayoutStructure(t)})),this._controller.emitter.onWorkspaceAddButtonClicked((()=>t(this,void 0,void 0,(function*(){const t={frameId:this._frameId,peerId:this._glue.agm.instance.windowId},e=h.workspaceLayoutHeader.element.find(\".lm_workspace_controls\").find(\".lm_add_button\"),n=l(e);yield this._popupManager.showOpenWorkspacePopup(n,t)})))),this._controller.emitter.onWorkspaceSaveRequested((e=>t(this,void 0,void 0,(function*(){const t={frameId:this._frameId,workspaceId:e,peerId:this._glue.agm.instance.peerId,buildMode:U.config.build,domNode:void 0,resizePopup:void 0,hidePopup:void 0},n=h.getWorkspaceLayoutItemById(e).tab.element.find(\".lm_saveButton\"),o=l(n);yield this._popupManager.showSaveWorkspacePopup(o,t)})))),this._controller.emitter.onStackMaximized((t=>{const e=t.getActiveContentItem(),n=t.contentItems.map((t=>r(t.config.id)));t.contentItems.forEach((t=>{this._frameController.maximizeTab(r(t.config.id))})),this._frameController.selectionChanged([r(e.config.id)],n)})),this._controller.emitter.onStackRestored((t=>{const e=t.getActiveContentItem(),n=t.contentItems.map((t=>r(t.config.id)));t.contentItems.forEach((t=>{this._frameController.restoreTab(r(t.config.id))})),this._frameController.selectionChanged([r(e.config.id)],n)})),this._controller.emitter.onEjectRequested((t=>{if(!t.isComponent)throw new Error(\"Can't eject item of type \"+t.type);return this.eject(t)})),this._controller.emitter.onComponentSelectedInWorkspace(((t,e)=>{this._applicationFactory.start(t,e)}));const e={};this._controller.emitter.onWorkspaceContainerResized((t=>{const n=r(t);e[n]&&clearTimeout(e[n]),e[n]=setTimeout((()=>{this._controller.refreshWorkspaceSize(n)}),16)}));let n=void 0;f.onWorkspaceContentsShown((t=>{const e=h.getActiveWorkspace();if(!(null==e?void 0:e.layout)||t!==e.id)return;n&&clearTimeout(n),n=setTimeout((()=>{const t=$(\"#nestHere\"+e.id),n=l(t[0]);e.layout.updateSize(n.width,n.height)}),50);const o=e.layout.root.getItemsByFilter((t=>\"stack\"===t.type));this._frameController.selectionChangedDeep(o.map((t=>r(t.getActiveContentItem().config.id))),[])})),f.onWorkspaceContentsHidden((t=>{const e=h.getById(t);(null==e?void 0:e.layout)&&t===e.id&&this._frameController.selectionChangedDeep([],e.windows.map((t=>t.id)))})),this.workspacesEventEmitter.onWorkspaceEvent(((t,e)=>{const n=h.getById(e.workspaceSummary.id);n&&(n.lastActive=Date.now())}))}subscribeForPopups(){this._frameController.onFrameContentClicked((()=>{this._popupManager.hidePopup()})),this._frameController.onWindowTitleChanged(((t,e)=>{this.setItemTitle(t,e)})),this._frameController.onFrameLoaded((t=>{this._controller.hideLoadingIndicator(t)}))}reportLayoutStructure(t){a(t.toConfig().content).forEach((e=>{const n=t.root.getItemsById(e.id)[0];this._frameController.moveFrame(r(n.config.id),l(n.element))}))}closeWorkspace(t){if(!t)throw new Error(\"Could not find a workspace to close\");t.hibernateConfig?this.closeHibernatedWorkspaceCore(t):this.closeWorkspaceCore(t)}closeWorkspaceCore(t){const e=this.stateResolver.getWorkspaceSummary(t.id),n=t.windows.map((t=>{if(h.getWindowContentItem(t.id))return this.stateResolver.getWindowSummarySync(t.id)})).filter((t=>t));t.windows.forEach((t=>this._frameController.remove(t.id)));const o=this.checkForEmptyWorkspace(t);n.forEach((t=>{this._applicationFactory.notifyFrameWillClose(t.config.windowId,t.config.appName).catch((t=>{})),this.workspacesEventEmitter.raiseWindowEvent({action:\"removed\",payload:{windowSummary:t}})})),o||this.workspacesEventEmitter.raiseWorkspaceEvent({action:\"closed\",payload:{workspaceSummary:e,frameSummary:{id:this._frameId}}})}closeHibernatedWorkspaceCore(t){const e=this.stateResolver.getWorkspaceSummary(t.id),n=this.stateResolver.getSnapshot(t.id),o=this.stateResolver.extractWindowSummariesFromSnapshot(n);t.windows.forEach((t=>this._frameController.remove(t.id)));const i=this.checkForEmptyWorkspace(t);o.forEach((t=>{this._applicationFactory.notifyFrameWillClose(t.config.windowId,t.config.appName).catch((t=>{})),this.workspacesEventEmitter.raiseWindowEvent({action:\"removed\",payload:{windowSummary:t}})})),i||this.workspacesEventEmitter.raiseWorkspaceEvent({action:\"closed\",payload:{workspaceSummary:e,frameSummary:{id:this._frameId}}})}addWorkspace(e,n){var o;return t(this,void 0,void 0,(function*(){yield this._glue.contexts.set(d(e),(null===(o=null==n?void 0:n.workspacesOptions)||void 0===o?void 0:o.context)||{}),yield this._controller.addWorkspace(e,n);const t=yield et.getSettings(this._glue),i=this._applicationFactory.getLoadingStrategy(t,n);this.handleWindows(e,i)}))}handleWindows(e,n){return t(this,void 0,void 0,(function*(){switch(n){case\"delayed\":yield this._applicationFactory.startDelayed(e);break;case\"direct\":yield this._applicationFactory.startDirect(e);break;case\"lazy\":yield this._applicationFactory.startLazy(e)}}))}checkForEmptyWorkspace(t){var e;if(1===h.layouts.length){if(this._isLayoutInitialized&&window.glue42core.isPlatformFrame){t.windows=[],null===(e=t.layout)||void 0===e||e.destroy(),t.layout=void 0,this._controller.showAddButton(t.id);const n=h.getWorkspaceTitle(t.id),o=this._configFactory.getWorkspaceTitle(h.workspaceTitles.filter((t=>t!==n)));return this._controller.setWorkspaceTitle(t.id,o),!0}if(this._isLayoutInitialized){try{this._facade.executeAfterControlIsDone((()=>{window.close()}))}catch(t){}return!0}}else this._controller.removeWorkspace(t.id);return!1}waitForFrameLoaded(t){return new Promise(((e,n)=>{let o=()=>{};const i=setTimeout((()=>{o(),n(`Did not hear frame loaded for ${t} in 5000ms`)}),5e3);o=this.workspacesEventEmitter.onWindowEvent(((n,s)=>{\"loaded\"===n&&s.windowSummary.itemId===t&&(e(),clearTimeout(i),o())})),this.stateResolver.isWindowLoaded(t)&&(e(),clearTimeout(i),o())}))}handleGroupLockRequested(t){const{allowExtract:e,showAddWindowButton:n,showEjectButton:o,showMaximizeButton:i,allowDrop:s}=t.config;!1===e?this._controller.disableGroupExtract(t.itemId):this._controller.enableGroupExtract(t.itemId,e),!1===n?this._controller.disableGroupAddWindowButton(t.itemId):this._controller.enableGroupAddWindowButton(t.itemId,n),!1===o?this._controller.disableGroupEjectButton(t.itemId):this._controller.enableGroupEjectButton(t.itemId,o),!1===i?this._controller.disableGroupMaximizeButton(t.itemId):this._controller.enableGroupMaximizeButton(t.itemId,i),!1===s?this._controller.disableGroupDrop(t.itemId):this._controller.enableGroupDrop(t.itemId,s);const r=h.getByContainerId(t.itemId);(null==r?void 0:r.layout)&&r.layout.updateSize()}handleRowLockRequested(t){const{allowDrop:e}=t.config;!1===e?this._controller.disableRowDrop(t.itemId):this._controller.enableRowDrop(t.itemId,e)}handleColumnLockRequested(t){const{allowDrop:e}=t.config;!1===e?this._controller.disableColumnDrop(t.itemId):this._controller.enableColumnDrop(t.itemId,e)}};var st=new class{constructor(){this._workspacesControlMethod=\"T42.Workspaces.Control\",this._workspacesEventMethod=\"T42.Workspaces.Events\",this._inDisposing=!1,this._controlPromise=Promise.resolve(),this.handleControlCore=(e,n,o,i)=>t(this,void 0,void 0,(function*(){try{switch(yield it.initPromise,e.operation){case\"isWindowInWorkspace\":o(this.handleIsWindowInWorkspace(e.operationArguments));break;case\"addWindow\":o(yield this.handleAddWindow(e.operationArguments));break;case\"addContainer\":o(yield this.handleAddContainer(e.operationArguments));break;case\"getWorkspaceSnapshot\":o(this.handleGetWorkspaceSnapshot(e.operationArguments));break;case\"openWorkspace\":o(yield this.handleOpenWorkspace(e.operationArguments));break;case\"saveLayout\":o(yield this.handleSaveLayout(e.operationArguments));break;case\"exportAllLayouts\":o(yield this.handleExportAllLayouts());break;case\"deleteLayout\":this.handleDeleteLayout(e.operationArguments),o(void 0);break;case\"getAllWorkspacesSummaries\":o(this.handleGetAllWorkspaceSummaries());break;case\"maximizeItem\":this.handleMaximizeItem(e.operationArguments),o(void 0);break;case\"restoreItem\":this.handleRestoreItem(e.operationArguments),o(void 0);break;case\"closeItem\":this.handleCloseItem(e.operationArguments),o(void 0);break;case\"setItemTitle\":yield this.handleSetItemTitle(e.operationArguments),o(void 0);break;case\"addWorkspaceChildren\":yield this.handleAddWorkspaceChildren(e.operationArguments),o(void 0);break;case\"ejectWindow\":o(yield this.handleEject(e.operationArguments));break;case\"createWorkspace\":o(yield this.handleCreateWorkspace(e.operationArguments));break;case\"forceLoadWindow\":o(yield this.handleForceLoadWindow(e.operationArguments));break;case\"focusItem\":yield this.handleFocusItem(e.operationArguments),o(void 0);break;case\"bundleWorkspace\":this.handleBundleWorkspace(e.operationArguments),o(void 0);break;case\"getFrameSummary\":o(yield this.handleGetFrameSummary(e.operationArguments));break;case\"moveFrame\":yield this.handleMoveFrame(e.operationArguments),o(void 0);break;case\"getFrameSnapshot\":o(yield this.handleGetFrameSnapshot());break;case\"getSnapshot\":o(yield this.handleGetSnapshot(e.operationArguments));break;case\"moveWindowTo\":yield this.handleMoveWindowTo(e.operationArguments),o(void 0);break;case\"generateLayout\":o(yield this.handleGenerateLayout(e.operationArguments));break;case\"ping\":o(this.handlePing());break;case\"hibernateWorkspace\":yield this.handleHibernateWorkspace(e.operationArguments),o(void 0);break;case\"resumeWorkspace\":yield this.handleResumeWorkspace(e.operationArguments),o(void 0);break;case\"lockWorkspace\":this.handleLockWorkspace(e.operationArguments),o(void 0);break;case\"lockContainer\":this.handleLockContainer(e.operationArguments),o(void 0);break;case\"lockWindow\":this.handleLockWindow(e.operationArguments),o(void 0);break;default:i(\"Invalid operation - \"+e.operation)}}catch(t){i(t.message),console.warn(t)}})),this.handleControl=(e,n,o,i)=>t(this,void 0,void 0,(function*(){const t=this.handleControlCore(e,n,o,i);this._controlPromise=t,yield t}))}init(e,n){return t(this,void 0,void 0,(function*(){this._frameId=n,this._glue=e,this._configFactory=new Y(e),this._converter=new Z(this._configFactory),this._glue&&(yield this.registerAgmMethods())}))}dispose(){this._inDisposing=!0}subscribeForWorkspaceEvents(){it.workspacesEventEmitter.onFrameEvent(((t,e)=>{this.publishEventData(t,e,\"frame\")})),it.workspacesEventEmitter.onWindowEvent(((t,e)=>{this.publishEventData(t,e,\"window\")})),it.workspacesEventEmitter.onWorkspaceEvent(((t,e)=>{this.publishEventData(t,e,\"workspace\")})),it.workspacesEventEmitter.onContainerEvent(((t,e)=>{this.publishEventData(t,e,\"box\")}))}executeAfterControlIsDone(t){this._controlPromise.finally((()=>t()))}registerAgmMethods(){return t(this,void 0,void 0,(function*(){yield this._glue.agm.registerAsync({name:this._workspacesControlMethod},this.handleControl)}))}handleOpenWorkspace(e){return t(this,void 0,void 0,(function*(){const t=yield it.openWorkspace(e.name,e.restoreOptions),n=it.stateResolver.getWorkspaceConfig(t),o=this._converter.convertToAPIConfig(n);return{id:o.id,children:o.children,config:o.config,frameSummary:{id:this._frameId}}}))}handleExportAllLayouts(){return t(this,void 0,void 0,(function*(){return{layouts:yield it.exportAllLayouts()}}))}handleSaveLayout(e){return t(this,void 0,void 0,(function*(){return yield it.saveWorkspace(e.name,e.workspaceId,e.saveContext)}))}handleDeleteLayout(t){it.deleteLayout(t.name)}handleGetWorkspaceSnapshot(t){const e=h.getById(t.itemId),n=it.stateResolver.getWorkspaceConfig(e.id),o=this._converter.convertToAPIConfig(n);return{id:o.id,children:o.children,config:o.config,frameSummary:{id:this._frameId}}}handleGetAllWorkspaceSummaries(){return{summaries:h.layouts.map((t=>it.stateResolver.getWorkspaceSummary(t.id)))}}handleCloseItem(t){it.closeItem(t.itemId)}handleRestoreItem(t){it.restoreItem(t.itemId)}handleMaximizeItem(t){it.maximizeItem(t.itemId)}handleAddContainer(e){return t(this,void 0,void 0,(function*(){const t=this._converter.convertToRendererConfig(e.definition);if(\"workspace\"===t.type)throw new Error(\"Unsuccessful conversion\");const n={id:r(t.id),content:t.content,type:t.type,workspacesConfig:t.workspacesConfig};return{itemId:yield it.addContainer(n,e.parentId)}}))}handleAddWindow(e){return t(this,void 0,void 0,(function*(){const t=this._configFactory.createGDWindowConfig({windowId:e.definition.windowId,id:void 0,appName:e.definition.appName,url:e.definition.url,context:e.definition.context,allowExtract:void 0,showCloseButton:void 0});if(e.definition.windowId){const n=this._glue.windows.list().find((t=>t.id===e.definition.windowId)),o=yield n.getURL();t.componentState.url=o,t.componentState.appName=this._configFactory.getAppNameFromWindowId(n.id)}return yield it.addWindow(t,e.parentId),{itemId:r(t.id)}}))}handleSetItemTitle(t){it.setItemTitle(t.itemId,t.title)}handleAddWorkspaceChildren(e){return t(this,void 0,void 0,(function*(){const t=e.children.some((t=>\"row\"===t.type)),n=e.children.some((t=>\"column\"===t.type));if(n&&t)throw new Error(\"Can't add both row and column workspace children\");let o={type:\"column\",children:e.children};n&&(o={type:\"row\",children:e.children});const i=this._converter.convertToRendererConfig(o);yield it.addContainer(i,e.workspaceId)}))}handleEject(e){return t(this,void 0,void 0,(function*(){const t=h.getWindowContentItem(e.itemId);if(!t)throw new Error(\"Could not find item \"+e.itemId);return yield it.eject(t)}))}handleCreateWorkspace(e){return t(this,void 0,void 0,(function*(){e.config||(e.config={}),e.config.context=e.config.context||e.context;const t=this._converter.convertToRendererConfig(e),n=yield it.createWorkspace(t),o=this._converter.convertToAPIConfig(it.stateResolver.getWorkspaceConfig(n));return{id:o.id,children:o.children,config:o.config,frameSummary:{id:this._frameId}}}))}handleForceLoadWindow(e){return t(this,void 0,void 0,(function*(){return yield it.loadWindow(e.itemId)}))}handleFocusItem(t){return it.focusItem(t.itemId)}handleBundleWorkspace(t){return it.bundleWorkspace(t.workspaceId,t.type)}handleIsWindowInWorkspace(t){return{inWorkspace:it.stateResolver.isWindowInWorkspace(t.itemId)}}handleGetFrameSummary(e){return t(this,void 0,void 0,(function*(){return it.getFrameSummary(e.itemId)}))}handleMoveFrame(e){return t(this,void 0,void 0,(function*(){yield it.move(e.location)}))}handleGetFrameSnapshot(){return it.stateResolver.getFrameSnapshot()}handleGetSnapshot(e){return t(this,void 0,void 0,(function*(){return it.stateResolver.getSnapshot(e.itemId)}))}handleMoveWindowTo(e){return t(this,void 0,void 0,(function*(){return it.moveWindowTo(e.itemId,e.containerId)}))}handleGenerateLayout(t){return it.generateWorkspaceLayout(t.name,t.workspaceId)}handlePing(){return{live:!this._inDisposing}}handleHibernateWorkspace(e){return t(this,void 0,void 0,(function*(){return it.hibernateWorkspace(e.workspaceId)}))}handleResumeWorkspace(e){return t(this,void 0,void 0,(function*(){return it.resumeWorkspace(e.workspaceId)}))}handleLockWorkspace(t){return it.lockWorkspace(t)}handleLockWindow(t){return it.lockWindow(t)}handleLockContainer(t){return it.lockContainer(t)}publishEventData(t,e,n){if(this._glue.agm.methods().some((t=>t.name===this._workspacesEventMethod))){const o={action:t,type:n,payload:e};this._glue.agm.invoke(this._workspacesEventMethod,o).catch((()=>{}))}}},rt=n((function(t){\n/*!\n * jQuery JavaScript Library v3.5.1\n * https://jquery.com/\n *\n * Includes Sizzle.js\n * https://sizzlejs.com/\n *\n * Copyright JS Foundation and other contributors\n * Released under the MIT license\n * https://jquery.org/license\n *\n * Date: 2020-05-04T22:49Z\n */\n!function(e,n){t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error(\"jQuery requires a window with a document\");return n(t)}}(\"undefined\"!=typeof window?window:e,(function(t,e){var n=[],o=Object.getPrototypeOf,i=n.slice,s=n.flat?function(t){return n.flat.call(t)}:function(t){return n.concat.apply([],t)},r=n.push,a=n.indexOf,c={},l=c.toString,d=c.hasOwnProperty,h=d.toString,u=h.call(Object),p={},f=function(t){return\"function\"==typeof t&&\"number\"!=typeof t.nodeType},m=function(t){return null!=t&&t===t.window},g=t.document,w={type:!0,src:!0,nonce:!0,noModule:!0};function y(t,e,n){var o,i,s=(n=n||g).createElement(\"script\");if(s.text=t,e)for(o in w)(i=e[o]||e.getAttribute&&e.getAttribute(o))&&s.setAttribute(o,i);n.head.appendChild(s).parentNode.removeChild(s)}function v(t){return null==t?t+\"\":\"object\"==typeof t||\"function\"==typeof t?c[l.call(t)]||\"object\":typeof t}var _=\"3.5.1\",C=function(t,e){return new C.fn.init(t,e)};function I(t){var e=!!t&&\"length\"in t&&t.length,n=v(t);return!f(t)&&!m(t)&&(\"array\"===n||0===e||\"number\"==typeof e&&e>0&&e-1 in t)}C.fn=C.prototype={jquery:_,constructor:C,length:0,toArray:function(){return i.call(this)},get:function(t){return null==t?i.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=C.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return C.each(this,t)},map:function(t){return this.pushStack(C.map(this,(function(e,n){return t.call(e,n,e)})))},slice:function(){return this.pushStack(i.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(C.grep(this,(function(t,e){return(e+1)%2})))},odd:function(){return this.pushStack(C.grep(this,(function(t,e){return e%2})))},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:r,sort:n.sort,splice:n.splice},C.extend=C.fn.extend=function(){var t,e,n,o,i,s,r=arguments[0]||{},a=1,c=arguments.length,l=!1;for(\"boolean\"==typeof r&&(l=r,r=arguments[a]||{},a++),\"object\"==typeof r||f(r)||(r={}),a===c&&(r=this,a--);a<c;a++)if(null!=(t=arguments[a]))for(e in t)o=t[e],\"__proto__\"!==e&&r!==o&&(l&&o&&(C.isPlainObject(o)||(i=Array.isArray(o)))?(n=r[e],s=i&&!Array.isArray(n)?[]:i||C.isPlainObject(n)?n:{},i=!1,r[e]=C.extend(l,s,o)):void 0!==o&&(r[e]=o));return r},C.extend({expando:\"jQuery\"+(_+Math.random()).replace(/\\D/g,\"\"),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||\"[object Object]\"!==l.call(t))&&(!(e=o(t))||\"function\"==typeof(n=d.call(e,\"constructor\")&&e.constructor)&&h.call(n)===u)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,n){y(t,{nonce:e&&e.nonce},n)},each:function(t,e){var n,o=0;if(I(t))for(n=t.length;o<n&&!1!==e.call(t[o],o,t[o]);o++);else for(o in t)if(!1===e.call(t[o],o,t[o]))break;return t},makeArray:function(t,e){var n=e||[];return null!=t&&(I(Object(t))?C.merge(n,\"string\"==typeof t?[t]:t):r.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:a.call(e,t,n)},merge:function(t,e){for(var n=+e.length,o=0,i=t.length;o<n;o++)t[i++]=e[o];return t.length=i,t},grep:function(t,e,n){for(var o=[],i=0,s=t.length,r=!n;i<s;i++)!e(t[i],i)!==r&&o.push(t[i]);return o},map:function(t,e,n){var o,i,r=0,a=[];if(I(t))for(o=t.length;r<o;r++)null!=(i=e(t[r],r,n))&&a.push(i);else for(r in t)null!=(i=e(t[r],r,n))&&a.push(i);return s(a)},guid:1,support:p}),\"function\"==typeof Symbol&&(C.fn[Symbol.iterator]=n[Symbol.iterator]),C.each(\"Boolean Number String Function Array Date RegExp Object Error Symbol\".split(\" \"),(function(t,e){c[\"[object \"+e+\"]\"]=e.toLowerCase()}));var b=\n/*!\n * Sizzle CSS Selector Engine v2.3.5\n * https://sizzlejs.com/\n *\n * Copyright JS Foundation and other contributors\n * Released under the MIT license\n * https://js.foundation/\n *\n * Date: 2020-03-14\n */\nfunction(t){var e,n,o,i,s,r,a,c,l,d,h,u,p,f,m,g,w,y,v,_=\"sizzle\"+1*new Date,C=t.document,I=0,b=0,k=ct(),x=ct(),E=ct(),W=ct(),S=function(t,e){return t===e&&(h=!0),0},T={}.hasOwnProperty,B=[],A=B.pop,D=B.push,L=B.push,M=B.slice,P=function(t,e){for(var n=0,o=t.length;n<o;n++)if(t[n]===e)return n;return-1},O=\"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped\",F=\"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",z=\"(?:\\\\\\\\[\\\\da-fA-F]{1,6}[\\\\x20\\\\t\\\\r\\\\n\\\\f]?|\\\\\\\\[^\\\\r\\\\n\\\\f]|[\\\\w-]|[^\\0-\\\\x7f])+\",$=\"\\\\[[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(\"+z+\")(?:\"+F+\"*([*^$|!~]?=)\"+F+\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\"+z+\"))|)\"+F+\"*\\\\]\",R=\":(\"+z+\")(?:\\\\((('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\"+$+\")*)|.*)\\\\)|)\",N=new RegExp(F+\"+\",\"g\"),j=new RegExp(\"^[\\\\x20\\\\t\\\\r\\\\n\\\\f]+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)[\\\\x20\\\\t\\\\r\\\\n\\\\f]+$\",\"g\"),H=new RegExp(\"^[\\\\x20\\\\t\\\\r\\\\n\\\\f]*,[\\\\x20\\\\t\\\\r\\\\n\\\\f]*\"),q=new RegExp(\"^[\\\\x20\\\\t\\\\r\\\\n\\\\f]*([>+~]|[\\\\x20\\\\t\\\\r\\\\n\\\\f])[\\\\x20\\\\t\\\\r\\\\n\\\\f]*\"),U=new RegExp(F+\"|>\"),G=new RegExp(R),V=new RegExp(\"^\"+z+\"$\"),X={ID:new RegExp(\"^#(\"+z+\")\"),CLASS:new RegExp(\"^\\\\.(\"+z+\")\"),TAG:new RegExp(\"^(\"+z+\"|[*])\"),ATTR:new RegExp(\"^\"+$),PSEUDO:new RegExp(\"^\"+R),CHILD:new RegExp(\"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\([\\\\x20\\\\t\\\\r\\\\n\\\\f]*(even|odd|(([+-]|)(\\\\d*)n|)[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(?:([+-]|)[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(\\\\d+)|))[\\\\x20\\\\t\\\\r\\\\n\\\\f]*\\\\)|)\",\"i\"),bool:new RegExp(\"^(?:\"+O+\")$\",\"i\"),needsContext:new RegExp(\"^[\\\\x20\\\\t\\\\r\\\\n\\\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\([\\\\x20\\\\t\\\\r\\\\n\\\\f]*((?:-\\\\d)?\\\\d*)[\\\\x20\\\\t\\\\r\\\\n\\\\f]*\\\\)|)(?=[^-]|$)\",\"i\")},Y=/HTML$/i,J=/^(?:input|select|textarea|button)$/i,Z=/^h\\d$/i,Q=/^[^{]+\\{\\s*\\[native \\w/,K=/^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,tt=/[+~]/,et=new RegExp(\"\\\\\\\\[\\\\da-fA-F]{1,6}[\\\\x20\\\\t\\\\r\\\\n\\\\f]?|\\\\\\\\([^\\\\r\\\\n\\\\f])\",\"g\"),nt=function(t,e){var n=\"0x\"+t.slice(1)-65536;return e||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},ot=/([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\0-\\x1f\\x7f-\\uFFFF\\w-]/g,it=function(t,e){return e?\"\\0\"===t?\"�\":t.slice(0,-1)+\"\\\\\"+t.charCodeAt(t.length-1).toString(16)+\" \":\"\\\\\"+t},st=function(){u()},rt=_t((function(t){return!0===t.disabled&&\"fieldset\"===t.nodeName.toLowerCase()}),{dir:\"parentNode\",next:\"legend\"});try{L.apply(B=M.call(C.childNodes),C.childNodes),B[C.childNodes.length].nodeType}catch(t){L={apply:B.length?function(t,e){D.apply(t,M.call(e))}:function(t,e){for(var n=t.length,o=0;t[n++]=e[o++];);t.length=n-1}}}function at(t,e,o,i){var s,a,l,d,h,f,w,y=e&&e.ownerDocument,C=e?e.nodeType:9;if(o=o||[],\"string\"!=typeof t||!t||1!==C&&9!==C&&11!==C)return o;if(!i&&(u(e),e=e||p,m)){if(11!==C&&(h=K.exec(t)))if(s=h[1]){if(9===C){if(!(l=e.getElementById(s)))return o;if(l.id===s)return o.push(l),o}else if(y&&(l=y.getElementById(s))&&v(e,l)&&l.id===s)return o.push(l),o}else{if(h[2])return L.apply(o,e.getElementsByTagName(t)),o;if((s=h[3])&&n.getElementsByClassName&&e.getElementsByClassName)return L.apply(o,e.getElementsByClassName(s)),o}if(n.qsa&&!W[t+\" \"]&&(!g||!g.test(t))&&(1!==C||\"object\"!==e.nodeName.toLowerCase())){if(w=t,y=e,1===C&&(U.test(t)||q.test(t))){for((y=tt.test(t)&&wt(e.parentNode)||e)===e&&n.scope||((d=e.getAttribute(\"id\"))?d=d.replace(ot,it):e.setAttribute(\"id\",d=_)),a=(f=r(t)).length;a--;)f[a]=(d?\"#\"+d:\":scope\")+\" \"+vt(f[a]);w=f.join(\",\")}try{return L.apply(o,y.querySelectorAll(w)),o}catch(e){W(t,!0)}finally{d===_&&e.removeAttribute(\"id\")}}}return c(t.replace(j,\"$1\"),e,o,i)}function ct(){var t=[];return function e(n,i){return t.push(n+\" \")>o.cacheLength&&delete e[t.shift()],e[n+\" \"]=i}}function lt(t){return t[_]=!0,t}function dt(t){var e=p.createElement(\"fieldset\");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ht(t,e){for(var n=t.split(\"|\"),i=n.length;i--;)o.attrHandle[n[i]]=e}function ut(t,e){var n=e&&t,o=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(o)return o;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function pt(t){return function(e){return\"input\"===e.nodeName.toLowerCase()&&e.type===t}}function ft(t){return function(e){var n=e.nodeName.toLowerCase();return(\"input\"===n||\"button\"===n)&&e.type===t}}function mt(t){return function(e){return\"form\"in e?e.parentNode&&!1===e.disabled?\"label\"in e?\"label\"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&rt(e)===t:e.disabled===t:\"label\"in e&&e.disabled===t}}function gt(t){return lt((function(e){return e=+e,lt((function(n,o){for(var i,s=t([],n.length,e),r=s.length;r--;)n[i=s[r]]&&(n[i]=!(o[i]=n[i]))}))}))}function wt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=at.support={},s=at.isXML=function(t){var e=t.namespaceURI,n=(t.ownerDocument||t).documentElement;return!Y.test(e||n&&n.nodeName||\"HTML\")},u=at.setDocument=function(t){var e,i,r=t?t.ownerDocument||t:C;return r!=p&&9===r.nodeType&&r.documentElement?(f=(p=r).documentElement,m=!s(p),C!=p&&(i=p.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener(\"unload\",st,!1):i.attachEvent&&i.attachEvent(\"onunload\",st)),n.scope=dt((function(t){return f.appendChild(t).appendChild(p.createElement(\"div\")),void 0!==t.querySelectorAll&&!t.querySelectorAll(\":scope fieldset div\").length})),n.attributes=dt((function(t){return t.className=\"i\",!t.getAttribute(\"className\")})),n.getElementsByTagName=dt((function(t){return t.appendChild(p.createComment(\"\")),!t.getElementsByTagName(\"*\").length})),n.getElementsByClassName=Q.test(p.getElementsByClassName),n.getById=dt((function(t){return f.appendChild(t).id=_,!p.getElementsByName||!p.getElementsByName(_).length})),n.getById?(o.filter.ID=function(t){var e=t.replace(et,nt);return function(t){return t.getAttribute(\"id\")===e}},o.find.ID=function(t,e){if(void 0!==e.getElementById&&m){var n=e.getElementById(t);return n?[n]:[]}}):(o.filter.ID=function(t){var e=t.replace(et,nt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode(\"id\");return n&&n.value===e}},o.find.ID=function(t,e){if(void 0!==e.getElementById&&m){var n,o,i,s=e.getElementById(t);if(s){if((n=s.getAttributeNode(\"id\"))&&n.value===t)return[s];for(i=e.getElementsByName(t),o=0;s=i[o++];)if((n=s.getAttributeNode(\"id\"))&&n.value===t)return[s]}return[]}}),o.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,o=[],i=0,s=e.getElementsByTagName(t);if(\"*\"===t){for(;n=s[i++];)1===n.nodeType&&o.push(n);return o}return s},o.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&m)return e.getElementsByClassName(t)},w=[],g=[],(n.qsa=Q.test(p.querySelectorAll))&&(dt((function(t){var e;f.appendChild(t).innerHTML=\"<a id='\"+_+\"'></a><select id='\"+_+\"-\\r\\\\' msallowcapture=''><option selected=''></option></select>\",t.querySelectorAll(\"[msallowcapture^='']\").length&&g.push(\"[*^$]=[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(?:''|\\\"\\\")\"),t.querySelectorAll(\"[selected]\").length||g.push(\"\\\\[[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(?:value|\"+O+\")\"),t.querySelectorAll(\"[id~=\"+_+\"-]\").length||g.push(\"~=\"),(e=p.createElement(\"input\")).setAttribute(\"name\",\"\"),t.appendChild(e),t.querySelectorAll(\"[name='']\").length||g.push(\"\\\\[[\\\\x20\\\\t\\\\r\\\\n\\\\f]*name[\\\\x20\\\\t\\\\r\\\\n\\\\f]*=[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(?:''|\\\"\\\")\"),t.querySelectorAll(\":checked\").length||g.push(\":checked\"),t.querySelectorAll(\"a#\"+_+\"+*\").length||g.push(\".#.+[+~]\"),t.querySelectorAll(\"\\\\\\f\"),g.push(\"[\\\\r\\\\n\\\\f]\")})),dt((function(t){t.innerHTML=\"<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>\";var e=p.createElement(\"input\");e.setAttribute(\"type\",\"hidden\"),t.appendChild(e).setAttribute(\"name\",\"D\"),t.querySelectorAll(\"[name=d]\").length&&g.push(\"name[\\\\x20\\\\t\\\\r\\\\n\\\\f]*[*^$|!~]?=\"),2!==t.querySelectorAll(\":enabled\").length&&g.push(\":enabled\",\":disabled\"),f.appendChild(t).disabled=!0,2!==t.querySelectorAll(\":disabled\").length&&g.push(\":enabled\",\":disabled\"),t.querySelectorAll(\"*,:x\"),g.push(\",.*:\")}))),(n.matchesSelector=Q.test(y=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&dt((function(t){n.disconnectedMatch=y.call(t,\"*\"),y.call(t,\"[s!='']:x\"),w.push(\"!=\",R)})),g=g.length&&new RegExp(g.join(\"|\")),w=w.length&&new RegExp(w.join(\"|\")),e=Q.test(f.compareDocumentPosition),v=e||Q.test(f.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,o=e&&e.parentNode;return t===o||!(!o||1!==o.nodeType||!(n.contains?n.contains(o):t.compareDocumentPosition&&16&t.compareDocumentPosition(o)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},S=e?function(t,e){if(t===e)return h=!0,0;var o=!t.compareDocumentPosition-!e.compareDocumentPosition;return o||(1&(o=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===o?t==p||t.ownerDocument==C&&v(C,t)?-1:e==p||e.ownerDocument==C&&v(C,e)?1:d?P(d,t)-P(d,e):0:4&o?-1:1)}:function(t,e){if(t===e)return h=!0,0;var n,o=0,i=t.parentNode,s=e.parentNode,r=[t],a=[e];if(!i||!s)return t==p?-1:e==p?1:i?-1:s?1:d?P(d,t)-P(d,e):0;if(i===s)return ut(t,e);for(n=t;n=n.parentNode;)r.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;r[o]===a[o];)o++;return o?ut(r[o],a[o]):r[o]==C?-1:a[o]==C?1:0},p):p},at.matches=function(t,e){return at(t,null,null,e)},at.matchesSelector=function(t,e){if(u(t),n.matchesSelector&&m&&!W[e+\" \"]&&(!w||!w.test(e))&&(!g||!g.test(e)))try{var o=y.call(t,e);if(o||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return o}catch(t){W(e,!0)}return at(e,p,null,[t]).length>0},at.contains=function(t,e){return(t.ownerDocument||t)!=p&&u(t),v(t,e)},at.attr=function(t,e){(t.ownerDocument||t)!=p&&u(t);var i=o.attrHandle[e.toLowerCase()],s=i&&T.call(o.attrHandle,e.toLowerCase())?i(t,e,!m):void 0;return void 0!==s?s:n.attributes||!m?t.getAttribute(e):(s=t.getAttributeNode(e))&&s.specified?s.value:null},at.escape=function(t){return(t+\"\").replace(ot,it)},at.error=function(t){throw new Error(\"Syntax error, unrecognized expression: \"+t)},at.uniqueSort=function(t){var e,o=[],i=0,s=0;if(h=!n.detectDuplicates,d=!n.sortStable&&t.slice(0),t.sort(S),h){for(;e=t[s++];)e===t[s]&&(i=o.push(s));for(;i--;)t.splice(o[i],1)}return d=null,t},i=at.getText=function(t){var e,n=\"\",o=0,s=t.nodeType;if(s){if(1===s||9===s||11===s){if(\"string\"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=i(t)}else if(3===s||4===s)return t.nodeValue}else for(;e=t[o++];)n+=i(e);return n},(o=at.selectors={cacheLength:50,createPseudo:lt,match:X,attrHandle:{},find:{},relative:{\">\":{dir:\"parentNode\",first:!0},\" \":{dir:\"parentNode\"},\"+\":{dir:\"previousSibling\",first:!0},\"~\":{dir:\"previousSibling\"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,nt),t[3]=(t[3]||t[4]||t[5]||\"\").replace(et,nt),\"~=\"===t[2]&&(t[3]=\" \"+t[3]+\" \"),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),\"nth\"===t[1].slice(0,3)?(t[3]||at.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*(\"even\"===t[3]||\"odd\"===t[3])),t[5]=+(t[7]+t[8]||\"odd\"===t[3])):t[3]&&at.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return X.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||\"\":n&&G.test(n)&&(e=r(n,!0))&&(e=n.indexOf(\")\",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,nt).toLowerCase();return\"*\"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=k[t+\" \"];return e||(e=new RegExp(\"(^|[\\\\x20\\\\t\\\\r\\\\n\\\\f])\"+t+\"(\"+F+\"|$)\"))&&k(t,(function(t){return e.test(\"string\"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute(\"class\")||\"\")}))},ATTR:function(t,e,n){return function(o){var i=at.attr(o,t);return null==i?\"!=\"===e:!e||(i+=\"\",\"=\"===e?i===n:\"!=\"===e?i!==n:\"^=\"===e?n&&0===i.indexOf(n):\"*=\"===e?n&&i.indexOf(n)>-1:\"$=\"===e?n&&i.slice(-n.length)===n:\"~=\"===e?(\" \"+i.replace(N,\" \")+\" \").indexOf(n)>-1:\"|=\"===e&&(i===n||i.slice(0,n.length+1)===n+\"-\"))}},CHILD:function(t,e,n,o,i){var s=\"nth\"!==t.slice(0,3),r=\"last\"!==t.slice(-4),a=\"of-type\"===e;return 1===o&&0===i?function(t){return!!t.parentNode}:function(e,n,c){var l,d,h,u,p,f,m=s!==r?\"nextSibling\":\"previousSibling\",g=e.parentNode,w=a&&e.nodeName.toLowerCase(),y=!c&&!a,v=!1;if(g){if(s){for(;m;){for(u=e;u=u[m];)if(a?u.nodeName.toLowerCase()===w:1===u.nodeType)return!1;f=m=\"only\"===t&&!f&&\"nextSibling\"}return!0}if(f=[r?g.firstChild:g.lastChild],r&&y){for(v=(p=(l=(d=(h=(u=g)[_]||(u[_]={}))[u.uniqueID]||(h[u.uniqueID]={}))[t]||[])[0]===I&&l[1])&&l[2],u=p&&g.childNodes[p];u=++p&&u&&u[m]||(v=p=0)||f.pop();)if(1===u.nodeType&&++v&&u===e){d[t]=[I,p,v];break}}else if(y&&(v=p=(l=(d=(h=(u=e)[_]||(u[_]={}))[u.uniqueID]||(h[u.uniqueID]={}))[t]||[])[0]===I&&l[1]),!1===v)for(;(u=++p&&u&&u[m]||(v=p=0)||f.pop())&&((a?u.nodeName.toLowerCase()!==w:1!==u.nodeType)||!++v||(y&&((d=(h=u[_]||(u[_]={}))[u.uniqueID]||(h[u.uniqueID]={}))[t]=[I,v]),u!==e)););return(v-=i)===o||v%o==0&&v/o>=0}}},PSEUDO:function(t,e){var n,i=o.pseudos[t]||o.setFilters[t.toLowerCase()]||at.error(\"unsupported pseudo: \"+t);return i[_]?i(e):i.length>1?(n=[t,t,\"\",e],o.setFilters.hasOwnProperty(t.toLowerCase())?lt((function(t,n){for(var o,s=i(t,e),r=s.length;r--;)t[o=P(t,s[r])]=!(n[o]=s[r])})):function(t){return i(t,0,n)}):i}},pseudos:{not:lt((function(t){var e=[],n=[],o=a(t.replace(j,\"$1\"));return o[_]?lt((function(t,e,n,i){for(var s,r=o(t,null,i,[]),a=t.length;a--;)(s=r[a])&&(t[a]=!(e[a]=s))})):function(t,i,s){return e[0]=t,o(e,null,s,n),e[0]=null,!n.pop()}})),has:lt((function(t){return function(e){return at(t,e).length>0}})),contains:lt((function(t){return t=t.replace(et,nt),function(e){return(e.textContent||i(e)).indexOf(t)>-1}})),lang:lt((function(t){return V.test(t||\"\")||at.error(\"unsupported lang: \"+t),t=t.replace(et,nt).toLowerCase(),function(e){var n;do{if(n=m?e.lang:e.getAttribute(\"xml:lang\")||e.getAttribute(\"lang\"))return(n=n.toLowerCase())===t||0===n.indexOf(t+\"-\")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===f},focus:function(t){return t===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:mt(!1),disabled:mt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return\"input\"===e&&!!t.checked||\"option\"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!o.pseudos.empty(t)},header:function(t){return Z.test(t.nodeName)},input:function(t){return J.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return\"input\"===e&&\"button\"===t.type||\"button\"===e},text:function(t){var e;return\"input\"===t.nodeName.toLowerCase()&&\"text\"===t.type&&(null==(e=t.getAttribute(\"type\"))||\"text\"===e.toLowerCase())},first:gt((function(){return[0]})),last:gt((function(t,e){return[e-1]})),eq:gt((function(t,e,n){return[n<0?n+e:n]})),even:gt((function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t})),odd:gt((function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t})),lt:gt((function(t,e,n){for(var o=n<0?n+e:n>e?e:n;--o>=0;)t.push(o);return t})),gt:gt((function(t,e,n){for(var o=n<0?n+e:n;++o<e;)t.push(o);return t}))}}).pseudos.nth=o.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})o.pseudos[e]=pt(e);for(e in{submit:!0,reset:!0})o.pseudos[e]=ft(e);function yt(){}function vt(t){for(var e=0,n=t.length,o=\"\";e<n;e++)o+=t[e].value;return o}function _t(t,e,n){var o=e.dir,i=e.next,s=i||o,r=n&&\"parentNode\"===s,a=b++;return e.first?function(e,n,i){for(;e=e[o];)if(1===e.nodeType||r)return t(e,n,i);return!1}:function(e,n,c){var l,d,h,u=[I,a];if(c){for(;e=e[o];)if((1===e.nodeType||r)&&t(e,n,c))return!0}else for(;e=e[o];)if(1===e.nodeType||r)if(d=(h=e[_]||(e[_]={}))[e.uniqueID]||(h[e.uniqueID]={}),i&&i===e.nodeName.toLowerCase())e=e[o]||e;else{if((l=d[s])&&l[0]===I&&l[1]===a)return u[2]=l[2];if(d[s]=u,u[2]=t(e,n,c))return!0}return!1}}function Ct(t){return t.length>1?function(e,n,o){for(var i=t.length;i--;)if(!t[i](e,n,o))return!1;return!0}:t[0]}function It(t,e,n,o,i){for(var s,r=[],a=0,c=t.length,l=null!=e;a<c;a++)(s=t[a])&&(n&&!n(s,o,i)||(r.push(s),l&&e.push(a)));return r}function bt(t,e,n,o,i,s){return o&&!o[_]&&(o=bt(o)),i&&!i[_]&&(i=bt(i,s)),lt((function(s,r,a,c){var l,d,h,u=[],p=[],f=r.length,m=s||function(t,e,n){for(var o=0,i=e.length;o<i;o++)at(t,e[o],n);return n}(e||\"*\",a.nodeType?[a]:a,[]),g=!t||!s&&e?m:It(m,u,t,a,c),w=n?i||(s?t:f||o)?[]:r:g;if(n&&n(g,w,a,c),o)for(l=It(w,p),o(l,[],a,c),d=l.length;d--;)(h=l[d])&&(w[p[d]]=!(g[p[d]]=h));if(s){if(i||t){if(i){for(l=[],d=w.length;d--;)(h=w[d])&&l.push(g[d]=h);i(null,w=[],l,c)}for(d=w.length;d--;)(h=w[d])&&(l=i?P(s,h):u[d])>-1&&(s[l]=!(r[l]=h))}}else w=It(w===r?w.splice(f,w.length):w),i?i(null,r,w,c):L.apply(r,w)}))}function kt(t){for(var e,n,i,s=t.length,r=o.relative[t[0].type],a=r||o.relative[\" \"],c=r?1:0,d=_t((function(t){return t===e}),a,!0),h=_t((function(t){return P(e,t)>-1}),a,!0),u=[function(t,n,o){var i=!r&&(o||n!==l)||((e=n).nodeType?d(t,n,o):h(t,n,o));return e=null,i}];c<s;c++)if(n=o.relative[t[c].type])u=[_t(Ct(u),n)];else{if((n=o.filter[t[c].type].apply(null,t[c].matches))[_]){for(i=++c;i<s&&!o.relative[t[i].type];i++);return bt(c>1&&Ct(u),c>1&&vt(t.slice(0,c-1).concat({value:\" \"===t[c-2].type?\"*\":\"\"})).replace(j,\"$1\"),n,c<i&&kt(t.slice(c,i)),i<s&&kt(t=t.slice(i)),i<s&&vt(t))}u.push(n)}return Ct(u)}return yt.prototype=o.filters=o.pseudos,o.setFilters=new yt,r=at.tokenize=function(t,e){var n,i,s,r,a,c,l,d=x[t+\" \"];if(d)return e?0:d.slice(0);for(a=t,c=[],l=o.preFilter;a;){for(r in n&&!(i=H.exec(a))||(i&&(a=a.slice(i[0].length)||a),c.push(s=[])),n=!1,(i=q.exec(a))&&(n=i.shift(),s.push({value:n,type:i[0].replace(j,\" \")}),a=a.slice(n.length)),o.filter)!(i=X[r].exec(a))||l[r]&&!(i=l[r](i))||(n=i.shift(),s.push({value:n,type:r,matches:i}),a=a.slice(n.length));if(!n)break}return e?a.length:a?at.error(t):x(t,c).slice(0)},a=at.compile=function(t,e){var n,i=[],s=[],a=E[t+\" \"];if(!a){for(e||(e=r(t)),n=e.length;n--;)(a=kt(e[n]))[_]?i.push(a):s.push(a);(a=E(t,function(t,e){var n=e.length>0,i=t.length>0,s=function(s,r,a,c,d){var h,f,g,w=0,y=\"0\",v=s&&[],_=[],C=l,b=s||i&&o.find.TAG(\"*\",d),k=I+=null==C?1:Math.random()||.1,x=b.length;for(d&&(l=r==p||r||d);y!==x&&null!=(h=b[y]);y++){if(i&&h){for(f=0,r||h.ownerDocument==p||(u(h),a=!m);g=t[f++];)if(g(h,r||p,a)){c.push(h);break}d&&(I=k)}n&&((h=!g&&h)&&w--,s&&v.push(h))}if(w+=y,n&&y!==w){for(f=0;g=e[f++];)g(v,_,r,a);if(s){if(w>0)for(;y--;)v[y]||_[y]||(_[y]=A.call(c));_=It(_)}L.apply(c,_),d&&!s&&_.length>0&&w+e.length>1&&at.uniqueSort(c)}return d&&(I=k,l=C),v};return n?lt(s):s}(s,i))).selector=t}return a},c=at.select=function(t,e,n,i){var s,c,l,d,h,u=\"function\"==typeof t&&t,p=!i&&r(t=u.selector||t);if(n=n||[],1===p.length){if((c=p[0]=p[0].slice(0)).length>2&&\"ID\"===(l=c[0]).type&&9===e.nodeType&&m&&o.relative[c[1].type]){if(!(e=(o.find.ID(l.matches[0].replace(et,nt),e)||[])[0]))return n;u&&(e=e.parentNode),t=t.slice(c.shift().value.length)}for(s=X.needsContext.test(t)?0:c.length;s--&&(l=c[s],!o.relative[d=l.type]);)if((h=o.find[d])&&(i=h(l.matches[0].replace(et,nt),tt.test(c[0].type)&&wt(e.parentNode)||e))){if(c.splice(s,1),!(t=i.length&&vt(c)))return L.apply(n,i),n;break}}return(u||a(t,p))(i,e,!m,n,!e||tt.test(t)&&wt(e.parentNode)||e),n},n.sortStable=_.split(\"\").sort(S).join(\"\")===_,n.detectDuplicates=!!h,u(),n.sortDetached=dt((function(t){return 1&t.compareDocumentPosition(p.createElement(\"fieldset\"))})),dt((function(t){return t.innerHTML=\"<a href='#'></a>\",\"#\"===t.firstChild.getAttribute(\"href\")}))||ht(\"type|href|height|width\",(function(t,e,n){if(!n)return t.getAttribute(e,\"type\"===e.toLowerCase()?1:2)})),n.attributes&&dt((function(t){return t.innerHTML=\"<input/>\",t.firstChild.setAttribute(\"value\",\"\"),\"\"===t.firstChild.getAttribute(\"value\")}))||ht(\"value\",(function(t,e,n){if(!n&&\"input\"===t.nodeName.toLowerCase())return t.defaultValue})),dt((function(t){return null==t.getAttribute(\"disabled\")}))||ht(O,(function(t,e,n){var o;if(!n)return!0===t[e]?e.toLowerCase():(o=t.getAttributeNode(e))&&o.specified?o.value:null})),at}(t);C.find=b,C.expr=b.selectors,C.expr[\":\"]=C.expr.pseudos,C.uniqueSort=C.unique=b.uniqueSort,C.text=b.getText,C.isXMLDoc=b.isXML,C.contains=b.contains,C.escapeSelector=b.escape;var k=function(t,e,n){for(var o=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&C(t).is(n))break;o.push(t)}return o},x=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},E=C.expr.match.needsContext;function W(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var S=/^<([a-z][^\\/\\0>:\\x20\\t\\r\\n\\f]*)[\\x20\\t\\r\\n\\f]*\\/?>(?:<\\/\\1>|)$/i;function T(t,e,n){return f(e)?C.grep(t,(function(t,o){return!!e.call(t,o,t)!==n})):e.nodeType?C.grep(t,(function(t){return t===e!==n})):\"string\"!=typeof e?C.grep(t,(function(t){return a.call(e,t)>-1!==n})):C.filter(e,t,n)}C.filter=function(t,e,n){var o=e[0];return n&&(t=\":not(\"+t+\")\"),1===e.length&&1===o.nodeType?C.find.matchesSelector(o,t)?[o]:[]:C.find.matches(t,C.grep(e,(function(t){return 1===t.nodeType})))},C.fn.extend({find:function(t){var e,n,o=this.length,i=this;if(\"string\"!=typeof t)return this.pushStack(C(t).filter((function(){for(e=0;e<o;e++)if(C.contains(i[e],this))return!0})));for(n=this.pushStack([]),e=0;e<o;e++)C.find(t,i[e],n);return o>1?C.uniqueSort(n):n},filter:function(t){return this.pushStack(T(this,t||[],!1))},not:function(t){return this.pushStack(T(this,t||[],!0))},is:function(t){return!!T(this,\"string\"==typeof t&&E.test(t)?C(t):t||[],!1).length}});var B,A=/^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]+))$/;(C.fn.init=function(t,e,n){var o,i;if(!t)return this;if(n=n||B,\"string\"==typeof t){if(!(o=\"<\"===t[0]&&\">\"===t[t.length-1]&&t.length>=3?[null,t,null]:A.exec(t))||!o[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(o[1]){if(e=e instanceof C?e[0]:e,C.merge(this,C.parseHTML(o[1],e&&e.nodeType?e.ownerDocument||e:g,!0)),S.test(o[1])&&C.isPlainObject(e))for(o in e)f(this[o])?this[o](e[o]):this.attr(o,e[o]);return this}return(i=g.getElementById(o[2]))&&(this[0]=i,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):f(t)?void 0!==n.ready?n.ready(t):t(C):C.makeArray(t,this)}).prototype=C.fn,B=C(g);var D=/^(?:parents|prev(?:Until|All))/,L={children:!0,contents:!0,next:!0,prev:!0};function M(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}C.fn.extend({has:function(t){var e=C(t,this),n=e.length;return this.filter((function(){for(var t=0;t<n;t++)if(C.contains(this,e[t]))return!0}))},closest:function(t,e){var n,o=0,i=this.length,s=[],r=\"string\"!=typeof t&&C(t);if(!E.test(t))for(;o<i;o++)for(n=this[o];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(r?r.index(n)>-1:1===n.nodeType&&C.find.matchesSelector(n,t))){s.push(n);break}return this.pushStack(s.length>1?C.uniqueSort(s):s)},index:function(t){return t?\"string\"==typeof t?a.call(C(t),this[0]):a.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(C.uniqueSort(C.merge(this.get(),C(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),C.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return k(t,\"parentNode\")},parentsUntil:function(t,e,n){return k(t,\"parentNode\",n)},next:function(t){return M(t,\"nextSibling\")},prev:function(t){return M(t,\"previousSibling\")},nextAll:function(t){return k(t,\"nextSibling\")},prevAll:function(t){return k(t,\"previousSibling\")},nextUntil:function(t,e,n){return k(t,\"nextSibling\",n)},prevUntil:function(t,e,n){return k(t,\"previousSibling\",n)},siblings:function(t){return x((t.parentNode||{}).firstChild,t)},children:function(t){return x(t.firstChild)},contents:function(t){return null!=t.contentDocument&&o(t.contentDocument)?t.contentDocument:(W(t,\"template\")&&(t=t.content||t),C.merge([],t.childNodes))}},(function(t,e){C.fn[t]=function(n,o){var i=C.map(this,e,n);return\"Until\"!==t.slice(-5)&&(o=n),o&&\"string\"==typeof o&&(i=C.filter(o,i)),this.length>1&&(L[t]||C.uniqueSort(i),D.test(t)&&i.reverse()),this.pushStack(i)}}));var P=/[^\\x20\\t\\r\\n\\f]+/g;function O(t){return t}function F(t){throw t}function z(t,e,n,o){var i;try{t&&f(i=t.promise)?i.call(t).done(e).fail(n):t&&f(i=t.then)?i.call(t,e,n):e.apply(void 0,[t].slice(o))}catch(t){n.apply(void 0,[t])}}C.Callbacks=function(t){t=\"string\"==typeof t?function(t){var e={};return C.each(t.match(P)||[],(function(t,n){e[n]=!0})),e}(t):C.extend({},t);var e,n,o,i,s=[],r=[],a=-1,c=function(){for(i=i||t.once,o=e=!0;r.length;a=-1)for(n=r.shift();++a<s.length;)!1===s[a].apply(n[0],n[1])&&t.stopOnFalse&&(a=s.length,n=!1);t.memory||(n=!1),e=!1,i&&(s=n?[]:\"\")},l={add:function(){return s&&(n&&!e&&(a=s.length-1,r.push(n)),function e(n){C.each(n,(function(n,o){f(o)?t.unique&&l.has(o)||s.push(o):o&&o.length&&\"string\"!==v(o)&&e(o)}))}(arguments),n&&!e&&c()),this},remove:function(){return C.each(arguments,(function(t,e){for(var n;(n=C.inArray(e,s,n))>-1;)s.splice(n,1),n<=a&&a--})),this},has:function(t){return t?C.inArray(t,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return i=r=[],s=n=\"\",this},disabled:function(){return!s},lock:function(){return i=r=[],n||e||(s=n=\"\"),this},locked:function(){return!!i},fireWith:function(t,n){return i||(n=[t,(n=n||[]).slice?n.slice():n],r.push(n),e||c()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!o}};return l},C.extend({Deferred:function(e){var n=[[\"notify\",\"progress\",C.Callbacks(\"memory\"),C.Callbacks(\"memory\"),2],[\"resolve\",\"done\",C.Callbacks(\"once memory\"),C.Callbacks(\"once memory\"),0,\"resolved\"],[\"reject\",\"fail\",C.Callbacks(\"once memory\"),C.Callbacks(\"once memory\"),1,\"rejected\"]],o=\"pending\",i={state:function(){return o},always:function(){return s.done(arguments).fail(arguments),this},catch:function(t){return i.then(null,t)},pipe:function(){var t=arguments;return C.Deferred((function(e){C.each(n,(function(n,o){var i=f(t[o[4]])&&t[o[4]];s[o[1]]((function(){var t=i&&i.apply(this,arguments);t&&f(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[o[0]+\"With\"](this,i?[t]:arguments)}))})),t=null})).promise()},then:function(e,o,i){var s=0;function r(e,n,o,i){return function(){var a=this,c=arguments,l=function(){var t,l;if(!(e<s)){if((t=o.apply(a,c))===n.promise())throw new TypeError(\"Thenable self-resolution\");l=t&&(\"object\"==typeof t||\"function\"==typeof t)&&t.then,f(l)?i?l.call(t,r(s,n,O,i),r(s,n,F,i)):(s++,l.call(t,r(s,n,O,i),r(s,n,F,i),r(s,n,O,n.notifyWith))):(o!==O&&(a=void 0,c=[t]),(i||n.resolveWith)(a,c))}},d=i?l:function(){try{l()}catch(t){C.Deferred.exceptionHook&&C.Deferred.exceptionHook(t,d.stackTrace),e+1>=s&&(o!==F&&(a=void 0,c=[t]),n.rejectWith(a,c))}};e?d():(C.Deferred.getStackHook&&(d.stackTrace=C.Deferred.getStackHook()),t.setTimeout(d))}}return C.Deferred((function(t){n[0][3].add(r(0,t,f(i)?i:O,t.notifyWith)),n[1][3].add(r(0,t,f(e)?e:O)),n[2][3].add(r(0,t,f(o)?o:F))})).promise()},promise:function(t){return null!=t?C.extend(t,i):i}},s={};return C.each(n,(function(t,e){var r=e[2],a=e[5];i[e[1]]=r.add,a&&r.add((function(){o=a}),n[3-t][2].disable,n[3-t][3].disable,n[0][2].lock,n[0][3].lock),r.add(e[3].fire),s[e[0]]=function(){return s[e[0]+\"With\"](this===s?void 0:this,arguments),this},s[e[0]+\"With\"]=r.fireWith})),i.promise(s),e&&e.call(s,s),s},when:function(t){var e=arguments.length,n=e,o=Array(n),s=i.call(arguments),r=C.Deferred(),a=function(t){return function(n){o[t]=this,s[t]=arguments.length>1?i.call(arguments):n,--e||r.resolveWith(o,s)}};if(e<=1&&(z(t,r.done(a(n)).resolve,r.reject,!e),\"pending\"===r.state()||f(s[n]&&s[n].then)))return r.then();for(;n--;)z(s[n],a(n),r.reject);return r.promise()}});var $=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;C.Deferred.exceptionHook=function(e,n){t.console&&t.console.warn&&e&&$.test(e.name)&&t.console.warn(\"jQuery.Deferred exception: \"+e.message,e.stack,n)},C.readyException=function(e){t.setTimeout((function(){throw e}))};var R=C.Deferred();function N(){g.removeEventListener(\"DOMContentLoaded\",N),t.removeEventListener(\"load\",N),C.ready()}C.fn.ready=function(t){return R.then(t).catch((function(t){C.readyException(t)})),this},C.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--C.readyWait:C.isReady)||(C.isReady=!0,!0!==t&&--C.readyWait>0||R.resolveWith(g,[C]))}}),C.ready.then=R.then,\"complete\"===g.readyState||\"loading\"!==g.readyState&&!g.documentElement.doScroll?t.setTimeout(C.ready):(g.addEventListener(\"DOMContentLoaded\",N),t.addEventListener(\"load\",N));var j=function(t,e,n,o,i,s,r){var a=0,c=t.length,l=null==n;if(\"object\"===v(n))for(a in i=!0,n)j(t,e,a,n[a],!0,s,r);else if(void 0!==o&&(i=!0,f(o)||(r=!0),l&&(r?(e.call(t,o),e=null):(l=e,e=function(t,e,n){return l.call(C(t),n)})),e))for(;a<c;a++)e(t[a],n,r?o:o.call(t[a],a,e(t[a],n)));return i?t:l?e.call(t):c?e(t[0],n):s},H=/^-ms-/,q=/-([a-z])/g;function U(t,e){return e.toUpperCase()}function G(t){return t.replace(H,\"ms-\").replace(q,U)}var V=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function X(){this.expando=C.expando+X.uid++}X.uid=1,X.prototype={cache:function(t){var e=t[this.expando];return e||(e={},V(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var o,i=this.cache(t);if(\"string\"==typeof e)i[G(e)]=n;else for(o in e)i[G(o)]=e[o];return i},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][G(e)]},access:function(t,e,n){return void 0===e||e&&\"string\"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,o=t[this.expando];if(void 0!==o){if(void 0!==e){n=(e=Array.isArray(e)?e.map(G):(e=G(e))in o?[e]:e.match(P)||[]).length;for(;n--;)delete o[e[n]]}(void 0===e||C.isEmptyObject(o))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!C.isEmptyObject(e)}};var Y=new X,J=new X,Z=/^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,Q=/[A-Z]/g;function K(t,e,n){var o;if(void 0===n&&1===t.nodeType)if(o=\"data-\"+e.replace(Q,\"-$&\").toLowerCase(),\"string\"==typeof(n=t.getAttribute(o))){try{n=function(t){return\"true\"===t||\"false\"!==t&&(\"null\"===t?null:t===+t+\"\"?+t:Z.test(t)?JSON.parse(t):t)}(n)}catch(t){}J.set(t,e,n)}else n=void 0;return n}C.extend({hasData:function(t){return J.hasData(t)||Y.hasData(t)},data:function(t,e,n){return J.access(t,e,n)},removeData:function(t,e){J.remove(t,e)},_data:function(t,e,n){return Y.access(t,e,n)},_removeData:function(t,e){Y.remove(t,e)}}),C.fn.extend({data:function(t,e){var n,o,i,s=this[0],r=s&&s.attributes;if(void 0===t){if(this.length&&(i=J.get(s),1===s.nodeType&&!Y.get(s,\"hasDataAttrs\"))){for(n=r.length;n--;)r[n]&&0===(o=r[n].name).indexOf(\"data-\")&&(o=G(o.slice(5)),K(s,o,i[o]));Y.set(s,\"hasDataAttrs\",!0)}return i}return\"object\"==typeof t?this.each((function(){J.set(this,t)})):j(this,(function(e){var n;if(s&&void 0===e)return void 0!==(n=J.get(s,t))||void 0!==(n=K(s,t))?n:void 0;this.each((function(){J.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){J.remove(this,t)}))}}),C.extend({queue:function(t,e,n){var o;if(t)return e=(e||\"fx\")+\"queue\",o=Y.get(t,e),n&&(!o||Array.isArray(n)?o=Y.access(t,e,C.makeArray(n)):o.push(n)),o||[]},dequeue:function(t,e){e=e||\"fx\";var n=C.queue(t,e),o=n.length,i=n.shift(),s=C._queueHooks(t,e);\"inprogress\"===i&&(i=n.shift(),o--),i&&(\"fx\"===e&&n.unshift(\"inprogress\"),delete s.stop,i.call(t,(function(){C.dequeue(t,e)}),s)),!o&&s&&s.empty.fire()},_queueHooks:function(t,e){var n=e+\"queueHooks\";return Y.get(t,n)||Y.access(t,n,{empty:C.Callbacks(\"once memory\").add((function(){Y.remove(t,[e+\"queue\",n])}))})}}),C.fn.extend({queue:function(t,e){var n=2;return\"string\"!=typeof t&&(e=t,t=\"fx\",n--),arguments.length<n?C.queue(this[0],t):void 0===e?this:this.each((function(){var n=C.queue(this,t,e);C._queueHooks(this,t),\"fx\"===t&&\"inprogress\"!==n[0]&&C.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){C.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||\"fx\",[])},promise:function(t,e){var n,o=1,i=C.Deferred(),s=this,r=this.length,a=function(){--o||i.resolveWith(s,[s])};for(\"string\"!=typeof t&&(e=t,t=void 0),t=t||\"fx\";r--;)(n=Y.get(s[r],t+\"queueHooks\"))&&n.empty&&(o++,n.empty.add(a));return a(),i.promise(e)}});var tt=/[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/.source,et=new RegExp(\"^(?:([+-])=|)(\"+tt+\")([a-z%]*)$\",\"i\"),nt=[\"Top\",\"Right\",\"Bottom\",\"Left\"],ot=g.documentElement,it=function(t){return C.contains(t.ownerDocument,t)},st={composed:!0};ot.getRootNode&&(it=function(t){return C.contains(t.ownerDocument,t)||t.getRootNode(st)===t.ownerDocument});var rt=function(t,e){return\"none\"===(t=e||t).style.display||\"\"===t.style.display&&it(t)&&\"none\"===C.css(t,\"display\")};function at(t,e,n,o){var i,s,r=20,a=o?function(){return o.cur()}:function(){return C.css(t,e,\"\")},c=a(),l=n&&n[3]||(C.cssNumber[e]?\"\":\"px\"),d=t.nodeType&&(C.cssNumber[e]||\"px\"!==l&&+c)&&et.exec(C.css(t,e));if(d&&d[3]!==l){for(c/=2,l=l||d[3],d=+c||1;r--;)C.style(t,e,d+l),(1-s)*(1-(s=a()/c||.5))<=0&&(r=0),d/=s;d*=2,C.style(t,e,d+l),n=n||[]}return n&&(d=+d||+c||0,i=n[1]?d+(n[1]+1)*n[2]:+n[2],o&&(o.unit=l,o.start=d,o.end=i)),i}var ct={};function lt(t){var e,n=t.ownerDocument,o=t.nodeName,i=ct[o];return i||(e=n.body.appendChild(n.createElement(o)),i=C.css(e,\"display\"),e.parentNode.removeChild(e),\"none\"===i&&(i=\"block\"),ct[o]=i,i)}function dt(t,e){for(var n,o,i=[],s=0,r=t.length;s<r;s++)(o=t[s]).style&&(n=o.style.display,e?(\"none\"===n&&(i[s]=Y.get(o,\"display\")||null,i[s]||(o.style.display=\"\")),\"\"===o.style.display&&rt(o)&&(i[s]=lt(o))):\"none\"!==n&&(i[s]=\"none\",Y.set(o,\"display\",n)));for(s=0;s<r;s++)null!=i[s]&&(t[s].style.display=i[s]);return t}C.fn.extend({show:function(){return dt(this,!0)},hide:function(){return dt(this)},toggle:function(t){return\"boolean\"==typeof t?t?this.show():this.hide():this.each((function(){rt(this)?C(this).show():C(this).hide()}))}});var ht,ut,pt=/^(?:checkbox|radio)$/i,ft=/<([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]*)/i,mt=/^$|^module$|\\/(?:java|ecma)script/i;ht=g.createDocumentFragment().appendChild(g.createElement(\"div\")),(ut=g.createElement(\"input\")).setAttribute(\"type\",\"radio\"),ut.setAttribute(\"checked\",\"checked\"),ut.setAttribute(\"name\",\"t\"),ht.appendChild(ut),p.checkClone=ht.cloneNode(!0).cloneNode(!0).lastChild.checked,ht.innerHTML=\"<textarea>x</textarea>\",p.noCloneChecked=!!ht.cloneNode(!0).lastChild.defaultValue,ht.innerHTML=\"<option></option>\",p.option=!!ht.lastChild;var gt={thead:[1,\"<table>\",\"</table>\"],col:[2,\"<table><colgroup>\",\"</colgroup></table>\"],tr:[2,\"<table><tbody>\",\"</tbody></table>\"],td:[3,\"<table><tbody><tr>\",\"</tr></tbody></table>\"],_default:[0,\"\",\"\"]};function wt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||\"*\"):void 0!==t.querySelectorAll?t.querySelectorAll(e||\"*\"):[],void 0===e||e&&W(t,e)?C.merge([t],n):n}function yt(t,e){for(var n=0,o=t.length;n<o;n++)Y.set(t[n],\"globalEval\",!e||Y.get(e[n],\"globalEval\"))}gt.tbody=gt.tfoot=gt.colgroup=gt.caption=gt.thead,gt.th=gt.td,p.option||(gt.optgroup=gt.option=[1,\"<select multiple='multiple'>\",\"</select>\"]);var vt=/<|&#?\\w+;/;function _t(t,e,n,o,i){for(var s,r,a,c,l,d,h=e.createDocumentFragment(),u=[],p=0,f=t.length;p<f;p++)if((s=t[p])||0===s)if(\"object\"===v(s))C.merge(u,s.nodeType?[s]:s);else if(vt.test(s)){for(r=r||h.appendChild(e.createElement(\"div\")),a=(ft.exec(s)||[\"\",\"\"])[1].toLowerCase(),c=gt[a]||gt._default,r.innerHTML=c[1]+C.htmlPrefilter(s)+c[2],d=c[0];d--;)r=r.lastChild;C.merge(u,r.childNodes),(r=h.firstChild).textContent=\"\"}else u.push(e.createTextNode(s));for(h.textContent=\"\",p=0;s=u[p++];)if(o&&C.inArray(s,o)>-1)i&&i.push(s);else if(l=it(s),r=wt(h.appendChild(s),\"script\"),l&&yt(r),n)for(d=0;s=r[d++];)mt.test(s.type||\"\")&&n.push(s);return h}var Ct=/^key/,It=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,bt=/^([^.]*)(?:\\.(.+)|)/;function kt(){return!0}function xt(){return!1}function Et(t,e){return t===function(){try{return g.activeElement}catch(t){}}()==(\"focus\"===e)}function Wt(t,e,n,o,i,s){var r,a;if(\"object\"==typeof e){for(a in\"string\"!=typeof n&&(o=o||n,n=void 0),e)Wt(t,a,n,o,e[a],s);return t}if(null==o&&null==i?(i=n,o=n=void 0):null==i&&(\"string\"==typeof n?(i=o,o=void 0):(i=o,o=n,n=void 0)),!1===i)i=xt;else if(!i)return t;return 1===s&&(r=i,(i=function(t){return C().off(t),r.apply(this,arguments)}).guid=r.guid||(r.guid=C.guid++)),t.each((function(){C.event.add(this,e,i,o,n)}))}function St(t,e,n){n?(Y.set(t,e,!1),C.event.add(t,e,{namespace:!1,handler:function(t){var o,s,r=Y.get(this,e);if(1&t.isTrigger&&this[e]){if(r.length)(C.event.special[e]||{}).delegateType&&t.stopPropagation();else if(r=i.call(arguments),Y.set(this,e,r),o=n(this,e),this[e](),r!==(s=Y.get(this,e))||o?Y.set(this,e,!1):s={},r!==s)return t.stopImmediatePropagation(),t.preventDefault(),s.value}else r.length&&(Y.set(this,e,{value:C.event.trigger(C.extend(r[0],C.Event.prototype),r.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===Y.get(t,e)&&C.event.add(t,e,kt)}C.event={global:{},add:function(t,e,n,o,i){var s,r,a,c,l,d,h,u,p,f,m,g=Y.get(t);if(V(t))for(n.handler&&(n=(s=n).handler,i=s.selector),i&&C.find.matchesSelector(ot,i),n.guid||(n.guid=C.guid++),(c=g.events)||(c=g.events=Object.create(null)),(r=g.handle)||(r=g.handle=function(e){return void 0!==C&&C.event.triggered!==e.type?C.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||\"\").match(P)||[\"\"]).length;l--;)p=m=(a=bt.exec(e[l])||[])[1],f=(a[2]||\"\").split(\".\").sort(),p&&(h=C.event.special[p]||{},p=(i?h.delegateType:h.bindType)||p,h=C.event.special[p]||{},d=C.extend({type:p,origType:m,data:o,handler:n,guid:n.guid,selector:i,needsContext:i&&C.expr.match.needsContext.test(i),namespace:f.join(\".\")},s),(u=c[p])||((u=c[p]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,o,f,r)||t.addEventListener&&t.addEventListener(p,r)),h.add&&(h.add.call(t,d),d.handler.guid||(d.handler.guid=n.guid)),i?u.splice(u.delegateCount++,0,d):u.push(d),C.event.global[p]=!0)},remove:function(t,e,n,o,i){var s,r,a,c,l,d,h,u,p,f,m,g=Y.hasData(t)&&Y.get(t);if(g&&(c=g.events)){for(l=(e=(e||\"\").match(P)||[\"\"]).length;l--;)if(p=m=(a=bt.exec(e[l])||[])[1],f=(a[2]||\"\").split(\".\").sort(),p){for(h=C.event.special[p]||{},u=c[p=(o?h.delegateType:h.bindType)||p]||[],a=a[2]&&new RegExp(\"(^|\\\\.)\"+f.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"),r=s=u.length;s--;)d=u[s],!i&&m!==d.origType||n&&n.guid!==d.guid||a&&!a.test(d.namespace)||o&&o!==d.selector&&(\"**\"!==o||!d.selector)||(u.splice(s,1),d.selector&&u.delegateCount--,h.remove&&h.remove.call(t,d));r&&!u.length&&(h.teardown&&!1!==h.teardown.call(t,f,g.handle)||C.removeEvent(t,p,g.handle),delete c[p])}else for(p in c)C.event.remove(t,p+e[l],n,o,!0);C.isEmptyObject(c)&&Y.remove(t,\"handle events\")}},dispatch:function(t){var e,n,o,i,s,r,a=new Array(arguments.length),c=C.event.fix(t),l=(Y.get(this,\"events\")||Object.create(null))[c.type]||[],d=C.event.special[c.type]||{};for(a[0]=c,e=1;e<arguments.length;e++)a[e]=arguments[e];if(c.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,c)){for(r=C.event.handlers.call(this,c,l),e=0;(i=r[e++])&&!c.isPropagationStopped();)for(c.currentTarget=i.elem,n=0;(s=i.handlers[n++])&&!c.isImmediatePropagationStopped();)c.rnamespace&&!1!==s.namespace&&!c.rnamespace.test(s.namespace)||(c.handleObj=s,c.data=s.data,void 0!==(o=((C.event.special[s.origType]||{}).handle||s.handler).apply(i.elem,a))&&!1===(c.result=o)&&(c.preventDefault(),c.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,c),c.result}},handlers:function(t,e){var n,o,i,s,r,a=[],c=e.delegateCount,l=t.target;if(c&&l.nodeType&&!(\"click\"===t.type&&t.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(\"click\"!==t.type||!0!==l.disabled)){for(s=[],r={},n=0;n<c;n++)void 0===r[i=(o=e[n]).selector+\" \"]&&(r[i]=o.needsContext?C(i,this).index(l)>-1:C.find(i,this,null,[l]).length),r[i]&&s.push(o);s.length&&a.push({elem:l,handlers:s})}return l=this,c<e.length&&a.push({elem:l,handlers:e.slice(c)}),a},addProp:function(t,e){Object.defineProperty(C.Event.prototype,t,{enumerable:!0,configurable:!0,get:f(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[C.expando]?t:new C.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return pt.test(e.type)&&e.click&&W(e,\"input\")&&St(e,\"click\",kt),!1},trigger:function(t){var e=this||t;return pt.test(e.type)&&e.click&&W(e,\"input\")&&St(e,\"click\"),!0},_default:function(t){var e=t.target;return pt.test(e.type)&&e.click&&W(e,\"input\")&&Y.get(e,\"click\")||W(e,\"a\")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},C.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},C.Event=function(t,e){if(!(this instanceof C.Event))return new C.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?kt:xt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&C.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[C.expando]=!0},C.Event.prototype={constructor:C.Event,isDefaultPrevented:xt,isPropagationStopped:xt,isImmediatePropagationStopped:xt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=kt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=kt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=kt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},C.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Ct.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&It.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},C.event.addProp),C.each({focus:\"focusin\",blur:\"focusout\"},(function(t,e){C.event.special[t]={setup:function(){return St(this,t,Et),!1},trigger:function(){return St(this,t),!0},delegateType:e}})),C.each({mouseenter:\"mouseover\",mouseleave:\"mouseout\",pointerenter:\"pointerover\",pointerleave:\"pointerout\"},(function(t,e){C.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,o=this,i=t.relatedTarget,s=t.handleObj;return i&&(i===o||C.contains(o,i))||(t.type=s.origType,n=s.handler.apply(this,arguments),t.type=e),n}}})),C.fn.extend({on:function(t,e,n,o){return Wt(this,t,e,n,o)},one:function(t,e,n,o){return Wt(this,t,e,n,o,1)},off:function(t,e,n){var o,i;if(t&&t.preventDefault&&t.handleObj)return o=t.handleObj,C(t.delegateTarget).off(o.namespace?o.origType+\".\"+o.namespace:o.origType,o.selector,o.handler),this;if(\"object\"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return!1!==e&&\"function\"!=typeof e||(n=e,e=void 0),!1===n&&(n=xt),this.each((function(){C.event.remove(this,t,n,e)}))}});var Tt=/<script|<style|<link/i,Bt=/checked\\s*(?:[^=]|=\\s*.checked.)/i,At=/^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g;function Dt(t,e){return W(t,\"table\")&&W(11!==e.nodeType?e:e.firstChild,\"tr\")&&C(t).children(\"tbody\")[0]||t}function Lt(t){return t.type=(null!==t.getAttribute(\"type\"))+\"/\"+t.type,t}function Mt(t){return\"true/\"===(t.type||\"\").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute(\"type\"),t}function Pt(t,e){var n,o,i,s,r,a;if(1===e.nodeType){if(Y.hasData(t)&&(a=Y.get(t).events))for(i in Y.remove(e,\"handle events\"),a)for(n=0,o=a[i].length;n<o;n++)C.event.add(e,i,a[i][n]);J.hasData(t)&&(s=J.access(t),r=C.extend({},s),J.set(e,r))}}function Ot(t,e){var n=e.nodeName.toLowerCase();\"input\"===n&&pt.test(t.type)?e.checked=t.checked:\"input\"!==n&&\"textarea\"!==n||(e.defaultValue=t.defaultValue)}function Ft(t,e,n,o){e=s(e);var i,r,a,c,l,d,h=0,u=t.length,m=u-1,g=e[0],w=f(g);if(w||u>1&&\"string\"==typeof g&&!p.checkClone&&Bt.test(g))return t.each((function(i){var s=t.eq(i);w&&(e[0]=g.call(this,i,s.html())),Ft(s,e,n,o)}));if(u&&(r=(i=_t(e,t[0].ownerDocument,!1,t,o)).firstChild,1===i.childNodes.length&&(i=r),r||o)){for(c=(a=C.map(wt(i,\"script\"),Lt)).length;h<u;h++)l=i,h!==m&&(l=C.clone(l,!0,!0),c&&C.merge(a,wt(l,\"script\"))),n.call(t[h],l,h);if(c)for(d=a[a.length-1].ownerDocument,C.map(a,Mt),h=0;h<c;h++)l=a[h],mt.test(l.type||\"\")&&!Y.access(l,\"globalEval\")&&C.contains(d,l)&&(l.src&&\"module\"!==(l.type||\"\").toLowerCase()?C._evalUrl&&!l.noModule&&C._evalUrl(l.src,{nonce:l.nonce||l.getAttribute(\"nonce\")},d):y(l.textContent.replace(At,\"\"),l,d))}return t}function zt(t,e,n){for(var o,i=e?C.filter(e,t):t,s=0;null!=(o=i[s]);s++)n||1!==o.nodeType||C.cleanData(wt(o)),o.parentNode&&(n&&it(o)&&yt(wt(o,\"script\")),o.parentNode.removeChild(o));return t}C.extend({htmlPrefilter:function(t){return t},clone:function(t,e,n){var o,i,s,r,a=t.cloneNode(!0),c=it(t);if(!(p.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||C.isXMLDoc(t)))for(r=wt(a),o=0,i=(s=wt(t)).length;o<i;o++)Ot(s[o],r[o]);if(e)if(n)for(s=s||wt(t),r=r||wt(a),o=0,i=s.length;o<i;o++)Pt(s[o],r[o]);else Pt(t,a);return(r=wt(a,\"script\")).length>0&&yt(r,!c&&wt(t,\"script\")),a},cleanData:function(t){for(var e,n,o,i=C.event.special,s=0;void 0!==(n=t[s]);s++)if(V(n)){if(e=n[Y.expando]){if(e.events)for(o in e.events)i[o]?C.event.remove(n,o):C.removeEvent(n,o,e.handle);n[Y.expando]=void 0}n[J.expando]&&(n[J.expando]=void 0)}}}),C.fn.extend({detach:function(t){return zt(this,t,!0)},remove:function(t){return zt(this,t)},text:function(t){return j(this,(function(t){return void 0===t?C.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return Ft(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Dt(this,t).appendChild(t)}))},prepend:function(){return Ft(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Dt(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return Ft(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return Ft(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(C.cleanData(wt(t,!1)),t.textContent=\"\");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return C.clone(this,t,e)}))},html:function(t){return j(this,(function(t){var e=this[0]||{},n=0,o=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if(\"string\"==typeof t&&!Tt.test(t)&&!gt[(ft.exec(t)||[\"\",\"\"])[1].toLowerCase()]){t=C.htmlPrefilter(t);try{for(;n<o;n++)1===(e=this[n]||{}).nodeType&&(C.cleanData(wt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return Ft(this,arguments,(function(e){var n=this.parentNode;C.inArray(this,t)<0&&(C.cleanData(wt(this)),n&&n.replaceChild(e,this))}),t)}}),C.each({appendTo:\"append\",prependTo:\"prepend\",insertBefore:\"before\",insertAfter:\"after\",replaceAll:\"replaceWith\"},(function(t,e){C.fn[t]=function(t){for(var n,o=[],i=C(t),s=i.length-1,a=0;a<=s;a++)n=a===s?this:this.clone(!0),C(i[a])[e](n),r.apply(o,n.get());return this.pushStack(o)}}));var $t=new RegExp(\"^(\"+tt+\")(?!px)[a-z%]+$\",\"i\"),Rt=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)},Nt=function(t,e,n){var o,i,s={};for(i in e)s[i]=t.style[i],t.style[i]=e[i];for(i in o=n.call(t),e)t.style[i]=s[i];return o},jt=new RegExp(nt.join(\"|\"),\"i\");function Ht(t,e,n){var o,i,s,r,a=t.style;return(n=n||Rt(t))&&(\"\"!==(r=n.getPropertyValue(e)||n[e])||it(t)||(r=C.style(t,e)),!p.pixelBoxStyles()&&$t.test(r)&&jt.test(e)&&(o=a.width,i=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=r,r=n.width,a.width=o,a.minWidth=i,a.maxWidth=s)),void 0!==r?r+\"\":r}function qt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function e(){if(d){l.style.cssText=\"position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0\",d.style.cssText=\"position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%\",ot.appendChild(l).appendChild(d);var e=t.getComputedStyle(d);o=\"1%\"!==e.top,c=12===n(e.marginLeft),d.style.right=\"60%\",r=36===n(e.right),i=36===n(e.width),d.style.position=\"absolute\",s=12===n(d.offsetWidth/3),ot.removeChild(l),d=null}}function n(t){return Math.round(parseFloat(t))}var o,i,s,r,a,c,l=g.createElement(\"div\"),d=g.createElement(\"div\");d.style&&(d.style.backgroundClip=\"content-box\",d.cloneNode(!0).style.backgroundClip=\"\",p.clearCloneStyle=\"content-box\"===d.style.backgroundClip,C.extend(p,{boxSizingReliable:function(){return e(),i},pixelBoxStyles:function(){return e(),r},pixelPosition:function(){return e(),o},reliableMarginLeft:function(){return e(),c},scrollboxSize:function(){return e(),s},reliableTrDimensions:function(){var e,n,o,i;return null==a&&(e=g.createElement(\"table\"),n=g.createElement(\"tr\"),o=g.createElement(\"div\"),e.style.cssText=\"position:absolute;left:-11111px\",n.style.height=\"1px\",o.style.height=\"9px\",ot.appendChild(e).appendChild(n).appendChild(o),i=t.getComputedStyle(n),a=parseInt(i.height)>3,ot.removeChild(e)),a}}))}();var Ut=[\"Webkit\",\"Moz\",\"ms\"],Gt=g.createElement(\"div\").style,Vt={};function Xt(t){var e=C.cssProps[t]||Vt[t];return e||(t in Gt?t:Vt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),n=Ut.length;n--;)if((t=Ut[n]+e)in Gt)return t}(t)||t)}var Yt=/^(none|table(?!-c[ea]).+)/,Jt=/^--/,Zt={position:\"absolute\",visibility:\"hidden\",display:\"block\"},Qt={letterSpacing:\"0\",fontWeight:\"400\"};function Kt(t,e,n){var o=et.exec(e);return o?Math.max(0,o[2]-(n||0))+(o[3]||\"px\"):e}function te(t,e,n,o,i,s){var r=\"width\"===e?1:0,a=0,c=0;if(n===(o?\"border\":\"content\"))return 0;for(;r<4;r+=2)\"margin\"===n&&(c+=C.css(t,n+nt[r],!0,i)),o?(\"content\"===n&&(c-=C.css(t,\"padding\"+nt[r],!0,i)),\"margin\"!==n&&(c-=C.css(t,\"border\"+nt[r]+\"Width\",!0,i))):(c+=C.css(t,\"padding\"+nt[r],!0,i),\"padding\"!==n?c+=C.css(t,\"border\"+nt[r]+\"Width\",!0,i):a+=C.css(t,\"border\"+nt[r]+\"Width\",!0,i));return!o&&s>=0&&(c+=Math.max(0,Math.ceil(t[\"offset\"+e[0].toUpperCase()+e.slice(1)]-s-c-a-.5))||0),c}function ee(t,e,n){var o=Rt(t),i=(!p.boxSizingReliable()||n)&&\"border-box\"===C.css(t,\"boxSizing\",!1,o),s=i,r=Ht(t,e,o),a=\"offset\"+e[0].toUpperCase()+e.slice(1);if($t.test(r)){if(!n)return r;r=\"auto\"}return(!p.boxSizingReliable()&&i||!p.reliableTrDimensions()&&W(t,\"tr\")||\"auto\"===r||!parseFloat(r)&&\"inline\"===C.css(t,\"display\",!1,o))&&t.getClientRects().length&&(i=\"border-box\"===C.css(t,\"boxSizing\",!1,o),(s=a in t)&&(r=t[a])),(r=parseFloat(r)||0)+te(t,e,n||(i?\"border\":\"content\"),s,o,r)+\"px\"}function ne(t,e,n,o,i){return new ne.prototype.init(t,e,n,o,i)}C.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Ht(t,\"opacity\");return\"\"===n?\"1\":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,o){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,s,r,a=G(e),c=Jt.test(e),l=t.style;if(c||(e=Xt(a)),r=C.cssHooks[e]||C.cssHooks[a],void 0===n)return r&&\"get\"in r&&void 0!==(i=r.get(t,!1,o))?i:l[e];\"string\"===(s=typeof n)&&(i=et.exec(n))&&i[1]&&(n=at(t,e,i),s=\"number\"),null!=n&&n==n&&(\"number\"!==s||c||(n+=i&&i[3]||(C.cssNumber[a]?\"\":\"px\")),p.clearCloneStyle||\"\"!==n||0!==e.indexOf(\"background\")||(l[e]=\"inherit\"),r&&\"set\"in r&&void 0===(n=r.set(t,n,o))||(c?l.setProperty(e,n):l[e]=n))}},css:function(t,e,n,o){var i,s,r,a=G(e);return Jt.test(e)||(e=Xt(a)),(r=C.cssHooks[e]||C.cssHooks[a])&&\"get\"in r&&(i=r.get(t,!0,n)),void 0===i&&(i=Ht(t,e,o)),\"normal\"===i&&e in Qt&&(i=Qt[e]),\"\"===n||n?(s=parseFloat(i),!0===n||isFinite(s)?s||0:i):i}}),C.each([\"height\",\"width\"],(function(t,e){C.cssHooks[e]={get:function(t,n,o){if(n)return!Yt.test(C.css(t,\"display\"))||t.getClientRects().length&&t.getBoundingClientRect().width?ee(t,e,o):Nt(t,Zt,(function(){return ee(t,e,o)}))},set:function(t,n,o){var i,s=Rt(t),r=!p.scrollboxSize()&&\"absolute\"===s.position,a=(r||o)&&\"border-box\"===C.css(t,\"boxSizing\",!1,s),c=o?te(t,e,o,a,s):0;return a&&r&&(c-=Math.ceil(t[\"offset\"+e[0].toUpperCase()+e.slice(1)]-parseFloat(s[e])-te(t,e,\"border\",!1,s)-.5)),c&&(i=et.exec(n))&&\"px\"!==(i[3]||\"px\")&&(t.style[e]=n,n=C.css(t,e)),Kt(0,n,c)}}})),C.cssHooks.marginLeft=qt(p.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(Ht(t,\"marginLeft\"))||t.getBoundingClientRect().left-Nt(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+\"px\"})),C.each({margin:\"\",padding:\"\",border:\"Width\"},(function(t,e){C.cssHooks[t+e]={expand:function(n){for(var o=0,i={},s=\"string\"==typeof n?n.split(\" \"):[n];o<4;o++)i[t+nt[o]+e]=s[o]||s[o-2]||s[0];return i}},\"margin\"!==t&&(C.cssHooks[t+e].set=Kt)})),C.fn.extend({css:function(t,e){return j(this,(function(t,e,n){var o,i,s={},r=0;if(Array.isArray(e)){for(o=Rt(t),i=e.length;r<i;r++)s[e[r]]=C.css(t,e[r],!1,o);return s}return void 0!==n?C.style(t,e,n):C.css(t,e)}),t,e,arguments.length>1)}}),C.Tween=ne,ne.prototype={constructor:ne,init:function(t,e,n,o,i,s){this.elem=t,this.prop=n,this.easing=i||C.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=o,this.unit=s||(C.cssNumber[n]?\"\":\"px\")},cur:function(){var t=ne.propHooks[this.prop];return t&&t.get?t.get(this):ne.propHooks._default.get(this)},run:function(t){var e,n=ne.propHooks[this.prop];return this.options.duration?this.pos=e=C.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ne.propHooks._default.set(this),this}},ne.prototype.init.prototype=ne.prototype,ne.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=C.css(t.elem,t.prop,\"\"))&&\"auto\"!==e?e:0},set:function(t){C.fx.step[t.prop]?C.fx.step[t.prop](t):1!==t.elem.nodeType||!C.cssHooks[t.prop]&&null==t.elem.style[Xt(t.prop)]?t.elem[t.prop]=t.now:C.style(t.elem,t.prop,t.now+t.unit)}}},ne.propHooks.scrollTop=ne.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},C.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:\"swing\"},C.fx=ne.prototype.init,C.fx.step={};var oe,ie,se=/^(?:toggle|show|hide)$/,re=/queueHooks$/;function ae(){ie&&(!1===g.hidden&&t.requestAnimationFrame?t.requestAnimationFrame(ae):t.setTimeout(ae,C.fx.interval),C.fx.tick())}function ce(){return t.setTimeout((function(){oe=void 0})),oe=Date.now()}function le(t,e){var n,o=0,i={height:t};for(e=e?1:0;o<4;o+=2-e)i[\"margin\"+(n=nt[o])]=i[\"padding\"+n]=t;return e&&(i.opacity=i.width=t),i}function de(t,e,n){for(var o,i=(he.tweeners[e]||[]).concat(he.tweeners[\"*\"]),s=0,r=i.length;s<r;s++)if(o=i[s].call(n,e,t))return o}function he(t,e,n){var o,i,s=0,r=he.prefilters.length,a=C.Deferred().always((function(){delete c.elem})),c=function(){if(i)return!1;for(var e=oe||ce(),n=Math.max(0,l.startTime+l.duration-e),o=1-(n/l.duration||0),s=0,r=l.tweens.length;s<r;s++)l.tweens[s].run(o);return a.notifyWith(t,[l,o,n]),o<1&&r?n:(r||a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l]),!1)},l=a.promise({elem:t,props:C.extend({},e),opts:C.extend(!0,{specialEasing:{},easing:C.easing._default},n),originalProperties:e,originalOptions:n,startTime:oe||ce(),duration:n.duration,tweens:[],createTween:function(e,n){var o=C.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(o),o},stop:function(e){var n=0,o=e?l.tweens.length:0;if(i)return this;for(i=!0;n<o;n++)l.tweens[n].run(1);return e?(a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l,e])):a.rejectWith(t,[l,e]),this}}),d=l.props;for(!function(t,e){var n,o,i,s,r;for(n in t)if(i=e[o=G(n)],s=t[n],Array.isArray(s)&&(i=s[1],s=t[n]=s[0]),n!==o&&(t[o]=s,delete t[n]),(r=C.cssHooks[o])&&\"expand\"in r)for(n in s=r.expand(s),delete t[o],s)n in t||(t[n]=s[n],e[n]=i);else e[o]=i}(d,l.opts.specialEasing);s<r;s++)if(o=he.prefilters[s].call(l,t,d,l.opts))return f(o.stop)&&(C._queueHooks(l.elem,l.opts.queue).stop=o.stop.bind(o)),o;return C.map(d,de,l),f(l.opts.start)&&l.opts.start.call(t,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),C.fx.timer(C.extend(c,{elem:t,anim:l,queue:l.opts.queue})),l}C.Animation=C.extend(he,{tweeners:{\"*\":[function(t,e){var n=this.createTween(t,e);return at(n.elem,t,et.exec(e),n),n}]},tweener:function(t,e){f(t)?(e=t,t=[\"*\"]):t=t.match(P);for(var n,o=0,i=t.length;o<i;o++)n=t[o],he.tweeners[n]=he.tweeners[n]||[],he.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var o,i,s,r,a,c,l,d,h=\"width\"in e||\"height\"in e,u=this,p={},f=t.style,m=t.nodeType&&rt(t),g=Y.get(t,\"fxshow\");for(o in n.queue||(null==(r=C._queueHooks(t,\"fx\")).unqueued&&(r.unqueued=0,a=r.empty.fire,r.empty.fire=function(){r.unqueued||a()}),r.unqueued++,u.always((function(){u.always((function(){r.unqueued--,C.queue(t,\"fx\").length||r.empty.fire()}))}))),e)if(i=e[o],se.test(i)){if(delete e[o],s=s||\"toggle\"===i,i===(m?\"hide\":\"show\")){if(\"show\"!==i||!g||void 0===g[o])continue;m=!0}p[o]=g&&g[o]||C.style(t,o)}if((c=!C.isEmptyObject(e))||!C.isEmptyObject(p))for(o in h&&1===t.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(l=g&&g.display)&&(l=Y.get(t,\"display\")),\"none\"===(d=C.css(t,\"display\"))&&(l?d=l:(dt([t],!0),l=t.style.display||l,d=C.css(t,\"display\"),dt([t]))),(\"inline\"===d||\"inline-block\"===d&&null!=l)&&\"none\"===C.css(t,\"float\")&&(c||(u.done((function(){f.display=l})),null==l&&(d=f.display,l=\"none\"===d?\"\":d)),f.display=\"inline-block\")),n.overflow&&(f.overflow=\"hidden\",u.always((function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}))),c=!1,p)c||(g?\"hidden\"in g&&(m=g.hidden):g=Y.access(t,\"fxshow\",{display:l}),s&&(g.hidden=!m),m&&dt([t],!0),u.done((function(){for(o in m||dt([t]),Y.remove(t,\"fxshow\"),p)C.style(t,o,p[o])}))),c=de(m?g[o]:0,o,u),o in g||(g[o]=c.start,m&&(c.end=c.start,c.start=0))}],prefilter:function(t,e){e?he.prefilters.unshift(t):he.prefilters.push(t)}}),C.speed=function(t,e,n){var o=t&&\"object\"==typeof t?C.extend({},t):{complete:n||!n&&e||f(t)&&t,duration:t,easing:n&&e||e&&!f(e)&&e};return C.fx.off?o.duration=0:\"number\"!=typeof o.duration&&(o.duration in C.fx.speeds?o.duration=C.fx.speeds[o.duration]:o.duration=C.fx.speeds._default),null!=o.queue&&!0!==o.queue||(o.queue=\"fx\"),o.old=o.complete,o.complete=function(){f(o.old)&&o.old.call(this),o.queue&&C.dequeue(this,o.queue)},o},C.fn.extend({fadeTo:function(t,e,n,o){return this.filter(rt).css(\"opacity\",0).show().end().animate({opacity:e},t,n,o)},animate:function(t,e,n,o){var i=C.isEmptyObject(t),s=C.speed(e,n,o),r=function(){var e=he(this,C.extend({},t),s);(i||Y.get(this,\"finish\"))&&e.stop(!0)};return r.finish=r,i||!1===s.queue?this.each(r):this.queue(s.queue,r)},stop:function(t,e,n){var o=function(t){var e=t.stop;delete t.stop,e(n)};return\"string\"!=typeof t&&(n=e,e=t,t=void 0),e&&this.queue(t||\"fx\",[]),this.each((function(){var e=!0,i=null!=t&&t+\"queueHooks\",s=C.timers,r=Y.get(this);if(i)r[i]&&r[i].stop&&o(r[i]);else for(i in r)r[i]&&r[i].stop&&re.test(i)&&o(r[i]);for(i=s.length;i--;)s[i].elem!==this||null!=t&&s[i].queue!==t||(s[i].anim.stop(n),e=!1,s.splice(i,1));!e&&n||C.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||\"fx\"),this.each((function(){var e,n=Y.get(this),o=n[t+\"queue\"],i=n[t+\"queueHooks\"],s=C.timers,r=o?o.length:0;for(n.finish=!0,C.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=s.length;e--;)s[e].elem===this&&s[e].queue===t&&(s[e].anim.stop(!0),s.splice(e,1));for(e=0;e<r;e++)o[e]&&o[e].finish&&o[e].finish.call(this);delete n.finish}))}}),C.each([\"toggle\",\"show\",\"hide\"],(function(t,e){var n=C.fn[e];C.fn[e]=function(t,o,i){return null==t||\"boolean\"==typeof t?n.apply(this,arguments):this.animate(le(e,!0),t,o,i)}})),C.each({slideDown:le(\"show\"),slideUp:le(\"hide\"),slideToggle:le(\"toggle\"),fadeIn:{opacity:\"show\"},fadeOut:{opacity:\"hide\"},fadeToggle:{opacity:\"toggle\"}},(function(t,e){C.fn[t]=function(t,n,o){return this.animate(e,t,n,o)}})),C.timers=[],C.fx.tick=function(){var t,e=0,n=C.timers;for(oe=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||C.fx.stop(),oe=void 0},C.fx.timer=function(t){C.timers.push(t),C.fx.start()},C.fx.interval=13,C.fx.start=function(){ie||(ie=!0,ae())},C.fx.stop=function(){ie=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fn.delay=function(e,n){return e=C.fx&&C.fx.speeds[e]||e,n=n||\"fx\",this.queue(n,(function(n,o){var i=t.setTimeout(n,e);o.stop=function(){t.clearTimeout(i)}}))},function(){var t=g.createElement(\"input\"),e=g.createElement(\"select\").appendChild(g.createElement(\"option\"));t.type=\"checkbox\",p.checkOn=\"\"!==t.value,p.optSelected=e.selected,(t=g.createElement(\"input\")).value=\"t\",t.type=\"radio\",p.radioValue=\"t\"===t.value}();var ue,pe=C.expr.attrHandle;C.fn.extend({attr:function(t,e){return j(this,C.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){C.removeAttr(this,t)}))}}),C.extend({attr:function(t,e,n){var o,i,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===t.getAttribute?C.prop(t,e,n):(1===s&&C.isXMLDoc(t)||(i=C.attrHooks[e.toLowerCase()]||(C.expr.match.bool.test(e)?ue:void 0)),void 0!==n?null===n?void C.removeAttr(t,e):i&&\"set\"in i&&void 0!==(o=i.set(t,n,e))?o:(t.setAttribute(e,n+\"\"),n):i&&\"get\"in i&&null!==(o=i.get(t,e))?o:null==(o=C.find.attr(t,e))?void 0:o)},attrHooks:{type:{set:function(t,e){if(!p.radioValue&&\"radio\"===e&&W(t,\"input\")){var n=t.value;return t.setAttribute(\"type\",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,o=0,i=e&&e.match(P);if(i&&1===t.nodeType)for(;n=i[o++];)t.removeAttribute(n)}}),ue={set:function(t,e,n){return!1===e?C.removeAttr(t,n):t.setAttribute(n,n),n}},C.each(C.expr.match.bool.source.match(/\\w+/g),(function(t,e){var n=pe[e]||C.find.attr;pe[e]=function(t,e,o){var i,s,r=e.toLowerCase();return o||(s=pe[r],pe[r]=i,i=null!=n(t,e,o)?r:null,pe[r]=s),i}}));var fe=/^(?:input|select|textarea|button)$/i,me=/^(?:a|area)$/i;function ge(t){return(t.match(P)||[]).join(\" \")}function we(t){return t.getAttribute&&t.getAttribute(\"class\")||\"\"}function ye(t){return Array.isArray(t)?t:\"string\"==typeof t&&t.match(P)||[]}C.fn.extend({prop:function(t,e){return j(this,C.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[C.propFix[t]||t]}))}}),C.extend({prop:function(t,e,n){var o,i,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&C.isXMLDoc(t)||(e=C.propFix[e]||e,i=C.propHooks[e]),void 0!==n?i&&\"set\"in i&&void 0!==(o=i.set(t,n,e))?o:t[e]=n:i&&\"get\"in i&&null!==(o=i.get(t,e))?o:t[e]},propHooks:{tabIndex:{get:function(t){var e=C.find.attr(t,\"tabindex\");return e?parseInt(e,10):fe.test(t.nodeName)||me.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:\"htmlFor\",class:\"className\"}}),p.optSelected||(C.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),C.each([\"tabIndex\",\"readOnly\",\"maxLength\",\"cellSpacing\",\"cellPadding\",\"rowSpan\",\"colSpan\",\"useMap\",\"frameBorder\",\"contentEditable\"],(function(){C.propFix[this.toLowerCase()]=this})),C.fn.extend({addClass:function(t){var e,n,o,i,s,r,a,c=0;if(f(t))return this.each((function(e){C(this).addClass(t.call(this,e,we(this)))}));if((e=ye(t)).length)for(;n=this[c++];)if(i=we(n),o=1===n.nodeType&&\" \"+ge(i)+\" \"){for(r=0;s=e[r++];)o.indexOf(\" \"+s+\" \")<0&&(o+=s+\" \");i!==(a=ge(o))&&n.setAttribute(\"class\",a)}return this},removeClass:function(t){var e,n,o,i,s,r,a,c=0;if(f(t))return this.each((function(e){C(this).removeClass(t.call(this,e,we(this)))}));if(!arguments.length)return this.attr(\"class\",\"\");if((e=ye(t)).length)for(;n=this[c++];)if(i=we(n),o=1===n.nodeType&&\" \"+ge(i)+\" \"){for(r=0;s=e[r++];)for(;o.indexOf(\" \"+s+\" \")>-1;)o=o.replace(\" \"+s+\" \",\" \");i!==(a=ge(o))&&n.setAttribute(\"class\",a)}return this},toggleClass:function(t,e){var n=typeof t,o=\"string\"===n||Array.isArray(t);return\"boolean\"==typeof e&&o?e?this.addClass(t):this.removeClass(t):f(t)?this.each((function(n){C(this).toggleClass(t.call(this,n,we(this),e),e)})):this.each((function(){var e,i,s,r;if(o)for(i=0,s=C(this),r=ye(t);e=r[i++];)s.hasClass(e)?s.removeClass(e):s.addClass(e);else void 0!==t&&\"boolean\"!==n||((e=we(this))&&Y.set(this,\"__className__\",e),this.setAttribute&&this.setAttribute(\"class\",e||!1===t?\"\":Y.get(this,\"__className__\")||\"\"))}))},hasClass:function(t){var e,n,o=0;for(e=\" \"+t+\" \";n=this[o++];)if(1===n.nodeType&&(\" \"+ge(we(n))+\" \").indexOf(e)>-1)return!0;return!1}});var ve=/\\r/g;C.fn.extend({val:function(t){var e,n,o,i=this[0];return arguments.length?(o=f(t),this.each((function(n){var i;1===this.nodeType&&(null==(i=o?t.call(this,n,C(this).val()):t)?i=\"\":\"number\"==typeof i?i+=\"\":Array.isArray(i)&&(i=C.map(i,(function(t){return null==t?\"\":t+\"\"}))),(e=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()])&&\"set\"in e&&void 0!==e.set(this,i,\"value\")||(this.value=i))}))):i?(e=C.valHooks[i.type]||C.valHooks[i.nodeName.toLowerCase()])&&\"get\"in e&&void 0!==(n=e.get(i,\"value\"))?n:\"string\"==typeof(n=i.value)?n.replace(ve,\"\"):null==n?\"\":n:void 0}}),C.extend({valHooks:{option:{get:function(t){var e=C.find.attr(t,\"value\");return null!=e?e:ge(C.text(t))}},select:{get:function(t){var e,n,o,i=t.options,s=t.selectedIndex,r=\"select-one\"===t.type,a=r?null:[],c=r?s+1:i.length;for(o=s<0?c:r?s:0;o<c;o++)if(((n=i[o]).selected||o===s)&&!n.disabled&&(!n.parentNode.disabled||!W(n.parentNode,\"optgroup\"))){if(e=C(n).val(),r)return e;a.push(e)}return a},set:function(t,e){for(var n,o,i=t.options,s=C.makeArray(e),r=i.length;r--;)((o=i[r]).selected=C.inArray(C.valHooks.option.get(o),s)>-1)&&(n=!0);return n||(t.selectedIndex=-1),s}}}}),C.each([\"radio\",\"checkbox\"],(function(){C.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=C.inArray(C(t).val(),e)>-1}},p.checkOn||(C.valHooks[this].get=function(t){return null===t.getAttribute(\"value\")?\"on\":t.value})})),p.focusin=\"onfocusin\"in t;var _e=/^(?:focusinfocus|focusoutblur)$/,Ce=function(t){t.stopPropagation()};C.extend(C.event,{trigger:function(e,n,o,i){var s,r,a,c,l,h,u,p,w=[o||g],y=d.call(e,\"type\")?e.type:e,v=d.call(e,\"namespace\")?e.namespace.split(\".\"):[];if(r=p=a=o=o||g,3!==o.nodeType&&8!==o.nodeType&&!_e.test(y+C.event.triggered)&&(y.indexOf(\".\")>-1&&(v=y.split(\".\"),y=v.shift(),v.sort()),l=y.indexOf(\":\")<0&&\"on\"+y,(e=e[C.expando]?e:new C.Event(y,\"object\"==typeof e&&e)).isTrigger=i?2:3,e.namespace=v.join(\".\"),e.rnamespace=e.namespace?new RegExp(\"(^|\\\\.)\"+v.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"):null,e.result=void 0,e.target||(e.target=o),n=null==n?[e]:C.makeArray(n,[e]),u=C.event.special[y]||{},i||!u.trigger||!1!==u.trigger.apply(o,n))){if(!i&&!u.noBubble&&!m(o)){for(c=u.delegateType||y,_e.test(c+y)||(r=r.parentNode);r;r=r.parentNode)w.push(r),a=r;a===(o.ownerDocument||g)&&w.push(a.defaultView||a.parentWindow||t)}for(s=0;(r=w[s++])&&!e.isPropagationStopped();)p=r,e.type=s>1?c:u.bindType||y,(h=(Y.get(r,\"events\")||Object.create(null))[e.type]&&Y.get(r,\"handle\"))&&h.apply(r,n),(h=l&&r[l])&&h.apply&&V(r)&&(e.result=h.apply(r,n),!1===e.result&&e.preventDefault());return e.type=y,i||e.isDefaultPrevented()||u._default&&!1!==u._default.apply(w.pop(),n)||!V(o)||l&&f(o[y])&&!m(o)&&((a=o[l])&&(o[l]=null),C.event.triggered=y,e.isPropagationStopped()&&p.addEventListener(y,Ce),o[y](),e.isPropagationStopped()&&p.removeEventListener(y,Ce),C.event.triggered=void 0,a&&(o[l]=a)),e.result}},simulate:function(t,e,n){var o=C.extend(new C.Event,n,{type:t,isSimulated:!0});C.event.trigger(o,null,e)}}),C.fn.extend({trigger:function(t,e){return this.each((function(){C.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var n=this[0];if(n)return C.event.trigger(t,e,n,!0)}}),p.focusin||C.each({focus:\"focusin\",blur:\"focusout\"},(function(t,e){var n=function(t){C.event.simulate(e,t.target,C.event.fix(t))};C.event.special[e]={setup:function(){var o=this.ownerDocument||this.document||this,i=Y.access(o,e);i||o.addEventListener(t,n,!0),Y.access(o,e,(i||0)+1)},teardown:function(){var o=this.ownerDocument||this.document||this,i=Y.access(o,e)-1;i?Y.access(o,e,i):(o.removeEventListener(t,n,!0),Y.remove(o,e))}}}));var Ie=t.location,be={guid:Date.now()},ke=/\\?/;C.parseXML=function(e){var n;if(!e||\"string\"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,\"text/xml\")}catch(t){n=void 0}return n&&!n.getElementsByTagName(\"parsererror\").length||C.error(\"Invalid XML: \"+e),n};var xe=/\\[\\]$/,Ee=/\\r?\\n/g,We=/^(?:submit|button|image|reset|file)$/i,Se=/^(?:input|select|textarea|keygen)/i;function Te(t,e,n,o){var i;if(Array.isArray(e))C.each(e,(function(e,i){n||xe.test(t)?o(t,i):Te(t+\"[\"+(\"object\"==typeof i&&null!=i?e:\"\")+\"]\",i,n,o)}));else if(n||\"object\"!==v(e))o(t,e);else for(i in e)Te(t+\"[\"+i+\"]\",e[i],n,o)}C.param=function(t,e){var n,o=[],i=function(t,e){var n=f(e)?e():e;o[o.length]=encodeURIComponent(t)+\"=\"+encodeURIComponent(null==n?\"\":n)};if(null==t)return\"\";if(Array.isArray(t)||t.jquery&&!C.isPlainObject(t))C.each(t,(function(){i(this.name,this.value)}));else for(n in t)Te(n,t[n],e,i);return o.join(\"&\")},C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=C.prop(this,\"elements\");return t?C.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!C(this).is(\":disabled\")&&Se.test(this.nodeName)&&!We.test(t)&&(this.checked||!pt.test(t))})).map((function(t,e){var n=C(this).val();return null==n?null:Array.isArray(n)?C.map(n,(function(t){return{name:e.name,value:t.replace(Ee,\"\\r\\n\")}})):{name:e.name,value:n.replace(Ee,\"\\r\\n\")}})).get()}});var Be=/%20/g,Ae=/#.*$/,De=/([?&])_=[^&]*/,Le=/^(.*?):[ \\t]*([^\\r\\n]*)$/gm,Me=/^(?:GET|HEAD)$/,Pe=/^\\/\\//,Oe={},Fe={},ze=\"*/\".concat(\"*\"),$e=g.createElement(\"a\");function Re(t){return function(e,n){\"string\"!=typeof e&&(n=e,e=\"*\");var o,i=0,s=e.toLowerCase().match(P)||[];if(f(n))for(;o=s[i++];)\"+\"===o[0]?(o=o.slice(1)||\"*\",(t[o]=t[o]||[]).unshift(n)):(t[o]=t[o]||[]).push(n)}}function Ne(t,e,n,o){var i={},s=t===Fe;function r(a){var c;return i[a]=!0,C.each(t[a]||[],(function(t,a){var l=a(e,n,o);return\"string\"!=typeof l||s||i[l]?s?!(c=l):void 0:(e.dataTypes.unshift(l),r(l),!1)})),c}return r(e.dataTypes[0])||!i[\"*\"]&&r(\"*\")}function je(t,e){var n,o,i=C.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((i[n]?t:o||(o={}))[n]=e[n]);return o&&C.extend(!0,t,o),t}$e.href=Ie.href,C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ie.href,type:\"GET\",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ie.protocol),global:!0,processData:!0,async:!0,contentType:\"application/x-www-form-urlencoded; charset=UTF-8\",accepts:{\"*\":ze,text:\"text/plain\",html:\"text/html\",xml:\"application/xml, text/xml\",json:\"application/json, text/javascript\"},contents:{xml:/\\bxml\\b/,html:/\\bhtml/,json:/\\bjson\\b/},responseFields:{xml:\"responseXML\",text:\"responseText\",json:\"responseJSON\"},converters:{\"* text\":String,\"text html\":!0,\"text json\":JSON.parse,\"text xml\":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?je(je(t,C.ajaxSettings),e):je(C.ajaxSettings,t)},ajaxPrefilter:Re(Oe),ajaxTransport:Re(Fe),ajax:function(e,n){\"object\"==typeof e&&(n=e,e=void 0),n=n||{};var o,i,s,r,a,c,l,d,h,u,p=C.ajaxSetup({},n),f=p.context||p,m=p.context&&(f.nodeType||f.jquery)?C(f):C.event,w=C.Deferred(),y=C.Callbacks(\"once memory\"),v=p.statusCode||{},_={},I={},b=\"canceled\",k={readyState:0,getResponseHeader:function(t){var e;if(l){if(!r)for(r={};e=Le.exec(s);)r[e[1].toLowerCase()+\" \"]=(r[e[1].toLowerCase()+\" \"]||[]).concat(e[2]);e=r[t.toLowerCase()+\" \"]}return null==e?null:e.join(\", \")},getAllResponseHeaders:function(){return l?s:null},setRequestHeader:function(t,e){return null==l&&(t=I[t.toLowerCase()]=I[t.toLowerCase()]||t,_[t]=e),this},overrideMimeType:function(t){return null==l&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(l)k.always(t[k.status]);else for(e in t)v[e]=[v[e],t[e]];return this},abort:function(t){var e=t||b;return o&&o.abort(e),x(0,e),this}};if(w.promise(k),p.url=((e||p.url||Ie.href)+\"\").replace(Pe,Ie.protocol+\"//\"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=(p.dataType||\"*\").toLowerCase().match(P)||[\"\"],null==p.crossDomain){c=g.createElement(\"a\");try{c.href=p.url,c.href=c.href,p.crossDomain=$e.protocol+\"//\"+$e.host!=c.protocol+\"//\"+c.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&\"string\"!=typeof p.data&&(p.data=C.param(p.data,p.traditional)),Ne(Oe,p,n,k),l)return k;for(h in(d=C.event&&p.global)&&0==C.active++&&C.event.trigger(\"ajaxStart\"),p.type=p.type.toUpperCase(),p.hasContent=!Me.test(p.type),i=p.url.replace(Ae,\"\"),p.hasContent?p.data&&p.processData&&0===(p.contentType||\"\").indexOf(\"application/x-www-form-urlencoded\")&&(p.data=p.data.replace(Be,\"+\")):(u=p.url.slice(i.length),p.data&&(p.processData||\"string\"==typeof p.data)&&(i+=(ke.test(i)?\"&\":\"?\")+p.data,delete p.data),!1===p.cache&&(i=i.replace(De,\"$1\"),u=(ke.test(i)?\"&\":\"?\")+\"_=\"+be.guid+++u),p.url=i+u),p.ifModified&&(C.lastModified[i]&&k.setRequestHeader(\"If-Modified-Since\",C.lastModified[i]),C.etag[i]&&k.setRequestHeader(\"If-None-Match\",C.etag[i])),(p.data&&p.hasContent&&!1!==p.contentType||n.contentType)&&k.setRequestHeader(\"Content-Type\",p.contentType),k.setRequestHeader(\"Accept\",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+(\"*\"!==p.dataTypes[0]?\", \"+ze+\"; q=0.01\":\"\"):p.accepts[\"*\"]),p.headers)k.setRequestHeader(h,p.headers[h]);if(p.beforeSend&&(!1===p.beforeSend.call(f,k,p)||l))return k.abort();if(b=\"abort\",y.add(p.complete),k.done(p.success),k.fail(p.error),o=Ne(Fe,p,n,k)){if(k.readyState=1,d&&m.trigger(\"ajaxSend\",[k,p]),l)return k;p.async&&p.timeout>0&&(a=t.setTimeout((function(){k.abort(\"timeout\")}),p.timeout));try{l=!1,o.send(_,x)}catch(t){if(l)throw t;x(-1,t)}}else x(-1,\"No Transport\");function x(e,n,r,c){var h,u,g,_,I,b=n;l||(l=!0,a&&t.clearTimeout(a),o=void 0,s=c||\"\",k.readyState=e>0?4:0,h=e>=200&&e<300||304===e,r&&(_=function(t,e,n){for(var o,i,s,r,a=t.contents,c=t.dataTypes;\"*\"===c[0];)c.shift(),void 0===o&&(o=t.mimeType||e.getResponseHeader(\"Content-Type\"));if(o)for(i in a)if(a[i]&&a[i].test(o)){c.unshift(i);break}if(c[0]in n)s=c[0];else{for(i in n){if(!c[0]||t.converters[i+\" \"+c[0]]){s=i;break}r||(r=i)}s=s||r}if(s)return s!==c[0]&&c.unshift(s),n[s]}(p,k,r)),!h&&C.inArray(\"script\",p.dataTypes)>-1&&(p.converters[\"text script\"]=function(){}),_=function(t,e,n,o){var i,s,r,a,c,l={},d=t.dataTypes.slice();if(d[1])for(r in t.converters)l[r.toLowerCase()]=t.converters[r];for(s=d.shift();s;)if(t.responseFields[s]&&(n[t.responseFields[s]]=e),!c&&o&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),c=s,s=d.shift())if(\"*\"===s)s=c;else if(\"*\"!==c&&c!==s){if(!(r=l[c+\" \"+s]||l[\"* \"+s]))for(i in l)if((a=i.split(\" \"))[1]===s&&(r=l[c+\" \"+a[0]]||l[\"* \"+a[0]])){!0===r?r=l[i]:!0!==l[i]&&(s=a[0],d.unshift(a[1]));break}if(!0!==r)if(r&&t.throws)e=r(e);else try{e=r(e)}catch(t){return{state:\"parsererror\",error:r?t:\"No conversion from \"+c+\" to \"+s}}}return{state:\"success\",data:e}}(p,_,k,h),h?(p.ifModified&&((I=k.getResponseHeader(\"Last-Modified\"))&&(C.lastModified[i]=I),(I=k.getResponseHeader(\"etag\"))&&(C.etag[i]=I)),204===e||\"HEAD\"===p.type?b=\"nocontent\":304===e?b=\"notmodified\":(b=_.state,u=_.data,h=!(g=_.error))):(g=b,!e&&b||(b=\"error\",e<0&&(e=0))),k.status=e,k.statusText=(n||b)+\"\",h?w.resolveWith(f,[u,b,k]):w.rejectWith(f,[k,b,g]),k.statusCode(v),v=void 0,d&&m.trigger(h?\"ajaxSuccess\":\"ajaxError\",[k,p,h?u:g]),y.fireWith(f,[k,b]),d&&(m.trigger(\"ajaxComplete\",[k,p]),--C.active||C.event.trigger(\"ajaxStop\")))}return k},getJSON:function(t,e,n){return C.get(t,e,n,\"json\")},getScript:function(t,e){return C.get(t,void 0,e,\"script\")}}),C.each([\"get\",\"post\"],(function(t,e){C[e]=function(t,n,o,i){return f(n)&&(i=i||o,o=n,n=void 0),C.ajax(C.extend({url:t,type:e,dataType:i,data:n,success:o},C.isPlainObject(t)&&t))}})),C.ajaxPrefilter((function(t){var e;for(e in t.headers)\"content-type\"===e.toLowerCase()&&(t.contentType=t.headers[e]||\"\")})),C._evalUrl=function(t,e,n){return C.ajax({url:t,type:\"GET\",dataType:\"script\",cache:!0,async:!1,global:!1,converters:{\"text script\":function(){}},dataFilter:function(t){C.globalEval(t,e,n)}})},C.fn.extend({wrapAll:function(t){var e;return this[0]&&(f(t)&&(t=t.call(this[0])),e=C(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return f(t)?this.each((function(e){C(this).wrapInner(t.call(this,e))})):this.each((function(){var e=C(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)}))},wrap:function(t){var e=f(t);return this.each((function(n){C(this).wrapAll(e?t.call(this,n):t)}))},unwrap:function(t){return this.parent(t).not(\"body\").each((function(){C(this).replaceWith(this.childNodes)})),this}}),C.expr.pseudos.hidden=function(t){return!C.expr.pseudos.visible(t)},C.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},C.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(t){}};var He={0:200,1223:204},qe=C.ajaxSettings.xhr();p.cors=!!qe&&\"withCredentials\"in qe,p.ajax=qe=!!qe,C.ajaxTransport((function(e){var n,o;if(p.cors||qe&&!e.crossDomain)return{send:function(i,s){var r,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)a[r]=e.xhrFields[r];for(r in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||i[\"X-Requested-With\"]||(i[\"X-Requested-With\"]=\"XMLHttpRequest\"),i)a.setRequestHeader(r,i[r]);n=function(t){return function(){n&&(n=o=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,\"abort\"===t?a.abort():\"error\"===t?\"number\"!=typeof a.status?s(0,\"error\"):s(a.status,a.statusText):s(He[a.status]||a.status,a.statusText,\"text\"!==(a.responseType||\"text\")||\"string\"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),o=a.onerror=a.ontimeout=n(\"error\"),void 0!==a.onabort?a.onabort=o:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout((function(){n&&o()}))},n=n(\"abort\");try{a.send(e.hasContent&&e.data||null)}catch(t){if(n)throw t}},abort:function(){n&&n()}}})),C.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),C.ajaxSetup({accepts:{script:\"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript\"},contents:{script:/\\b(?:java|ecma)script\\b/},converters:{\"text script\":function(t){return C.globalEval(t),t}}}),C.ajaxPrefilter(\"script\",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type=\"GET\")})),C.ajaxTransport(\"script\",(function(t){var e,n;if(t.crossDomain||t.scriptAttrs)return{send:function(o,i){e=C(\"<script>\").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on(\"load error\",n=function(t){e.remove(),n=null,t&&i(\"error\"===t.type?404:200,t.type)}),g.head.appendChild(e[0])},abort:function(){n&&n()}}}));var Ue,Ge=[],Ve=/(=)\\?(?=&|$)|\\?\\?/;C.ajaxSetup({jsonp:\"callback\",jsonpCallback:function(){var t=Ge.pop()||C.expando+\"_\"+be.guid++;return this[t]=!0,t}}),C.ajaxPrefilter(\"json jsonp\",(function(e,n,o){var i,s,r,a=!1!==e.jsonp&&(Ve.test(e.url)?\"url\":\"string\"==typeof e.data&&0===(e.contentType||\"\").indexOf(\"application/x-www-form-urlencoded\")&&Ve.test(e.data)&&\"data\");if(a||\"jsonp\"===e.dataTypes[0])return i=e.jsonpCallback=f(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Ve,\"$1\"+i):!1!==e.jsonp&&(e.url+=(ke.test(e.url)?\"&\":\"?\")+e.jsonp+\"=\"+i),e.converters[\"script json\"]=function(){return r||C.error(i+\" was not called\"),r[0]},e.dataTypes[0]=\"json\",s=t[i],t[i]=function(){r=arguments},o.always((function(){void 0===s?C(t).removeProp(i):t[i]=s,e[i]&&(e.jsonpCallback=n.jsonpCallback,Ge.push(i)),r&&f(s)&&s(r[0]),r=s=void 0})),\"script\"})),p.createHTMLDocument=((Ue=g.implementation.createHTMLDocument(\"\").body).innerHTML=\"<form></form><form></form>\",2===Ue.childNodes.length),C.parseHTML=function(t,e,n){return\"string\"!=typeof t?[]:(\"boolean\"==typeof e&&(n=e,e=!1),e||(p.createHTMLDocument?((o=(e=g.implementation.createHTMLDocument(\"\")).createElement(\"base\")).href=g.location.href,e.head.appendChild(o)):e=g),s=!n&&[],(i=S.exec(t))?[e.createElement(i[1])]:(i=_t([t],e,s),s&&s.length&&C(s).remove(),C.merge([],i.childNodes)));var o,i,s},C.fn.load=function(t,e,n){var o,i,s,r=this,a=t.indexOf(\" \");return a>-1&&(o=ge(t.slice(a)),t=t.slice(0,a)),f(e)?(n=e,e=void 0):e&&\"object\"==typeof e&&(i=\"POST\"),r.length>0&&C.ajax({url:t,type:i||\"GET\",dataType:\"html\",data:e}).done((function(t){s=arguments,r.html(o?C(\"<div>\").append(C.parseHTML(t)).find(o):t)})).always(n&&function(t,e){r.each((function(){n.apply(this,s||[t.responseText,e,t])}))}),this},C.expr.pseudos.animated=function(t){return C.grep(C.timers,(function(e){return t===e.elem})).length},C.offset={setOffset:function(t,e,n){var o,i,s,r,a,c,l=C.css(t,\"position\"),d=C(t),h={};\"static\"===l&&(t.style.position=\"relative\"),a=d.offset(),s=C.css(t,\"top\"),c=C.css(t,\"left\"),(\"absolute\"===l||\"fixed\"===l)&&(s+c).indexOf(\"auto\")>-1?(r=(o=d.position()).top,i=o.left):(r=parseFloat(s)||0,i=parseFloat(c)||0),f(e)&&(e=e.call(t,n,C.extend({},a))),null!=e.top&&(h.top=e.top-a.top+r),null!=e.left&&(h.left=e.left-a.left+i),\"using\"in e?e.using.call(t,h):(\"number\"==typeof h.top&&(h.top+=\"px\"),\"number\"==typeof h.left&&(h.left+=\"px\"),d.css(h))}},C.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){C.offset.setOffset(this,t,e)}));var e,n,o=this[0];return o?o.getClientRects().length?(e=o.getBoundingClientRect(),n=o.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,o=this[0],i={top:0,left:0};if(\"fixed\"===C.css(o,\"position\"))e=o.getBoundingClientRect();else{for(e=this.offset(),n=o.ownerDocument,t=o.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&\"static\"===C.css(t,\"position\");)t=t.parentNode;t&&t!==o&&1===t.nodeType&&((i=C(t).offset()).top+=C.css(t,\"borderTopWidth\",!0),i.left+=C.css(t,\"borderLeftWidth\",!0))}return{top:e.top-i.top-C.css(o,\"marginTop\",!0),left:e.left-i.left-C.css(o,\"marginLeft\",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&\"static\"===C.css(t,\"position\");)t=t.offsetParent;return t||ot}))}}),C.each({scrollLeft:\"pageXOffset\",scrollTop:\"pageYOffset\"},(function(t,e){var n=\"pageYOffset\"===e;C.fn[t]=function(o){return j(this,(function(t,o,i){var s;if(m(t)?s=t:9===t.nodeType&&(s=t.defaultView),void 0===i)return s?s[e]:t[o];s?s.scrollTo(n?s.pageXOffset:i,n?i:s.pageYOffset):t[o]=i}),t,o,arguments.length)}})),C.each([\"top\",\"left\"],(function(t,e){C.cssHooks[e]=qt(p.pixelPosition,(function(t,n){if(n)return n=Ht(t,e),$t.test(n)?C(t).position()[e]+\"px\":n}))})),C.each({Height:\"height\",Width:\"width\"},(function(t,e){C.each({padding:\"inner\"+t,content:e,\"\":\"outer\"+t},(function(n,o){C.fn[o]=function(i,s){var r=arguments.length&&(n||\"boolean\"!=typeof i),a=n||(!0===i||!0===s?\"margin\":\"border\");return j(this,(function(e,n,i){var s;return m(e)?0===o.indexOf(\"outer\")?e[\"inner\"+t]:e.document.documentElement[\"client\"+t]:9===e.nodeType?(s=e.documentElement,Math.max(e.body[\"scroll\"+t],s[\"scroll\"+t],e.body[\"offset\"+t],s[\"offset\"+t],s[\"client\"+t])):void 0===i?C.css(e,n,a):C.style(e,n,i,a)}),e,r?i:void 0,r)}}))})),C.each([\"ajaxStart\",\"ajaxStop\",\"ajaxComplete\",\"ajaxError\",\"ajaxSuccess\",\"ajaxSend\"],(function(t,e){C.fn[e]=function(t){return this.on(e,t)}})),C.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,o){return this.on(e,t,n,o)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,\"**\"):this.off(e,t||\"**\",n)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),C.each(\"blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu\".split(\" \"),(function(t,e){C.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}));var Xe=/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g;C.proxy=function(t,e){var n,o,s;if(\"string\"==typeof e&&(n=t[e],e=t,t=n),f(t))return o=i.call(arguments,2),(s=function(){return t.apply(e||this,o.concat(i.call(arguments)))}).guid=t.guid=t.guid||C.guid++,s},C.holdReady=function(t){t?C.readyWait++:C.ready(!0)},C.isArray=Array.isArray,C.parseJSON=JSON.parse,C.nodeName=W,C.isFunction=f,C.isWindow=m,C.camelCase=G,C.type=v,C.now=Date.now,C.isNumeric=function(t){var e=C.type(t);return(\"number\"===e||\"string\"===e)&&!isNaN(t-parseFloat(t))},C.trim=function(t){return null==t?\"\":(t+\"\").replace(Xe,\"\")};var Ye=t.jQuery,Je=t.$;return C.noConflict=function(e){return t.$===C&&(t.$=Je),e&&t.jQuery===C&&(t.jQuery=Ye),C},void 0===e&&(t.jQuery=t.$=C),C}))}));let at;window.$=rt,window.addEventListener(\"beforeunload\",(()=>(st.dispose(),at&&at(),\"Are you sure you want to leave? changes will be lost\")));const ct={init:(t,e)=>{if(it.initialized)return void it.init(t,t.agm.instance.windowId,st,e);st.subscribeForWorkspaceEvents();const n=it.init(t,t.agm.instance.windowId,st,e);return at=n.cleanUp,st.init(t,t.agm.instance.windowId).then((()=>{U.config.emptyFrame||it.workspacesEventEmitter.raiseFrameEvent({action:\"opened\",payload:{frameSummary:{id:t.agm.instance.windowId}}})})).catch(console.warn),it},getFrameId:()=>it.frameId,notifyMoveAreaChanged:()=>{},getComponentBounds:()=>it.getComponentBounds(),registerPopup:t=>\"\",removePopup:t=>{},removePopupById:t=>{},unmount:()=>{it.unmount()},subscribeForWindowFocused:t=>it.subscribeForWindowClicked(t),notifyWorkspacePopupChanged:t=>{},requestFocus:()=>{}};export default ct;\n//# sourceMappingURL=export.js.map\n","import workspacesManager from \"@glue42/workspaces-ui-core\";\r\nimport { Bounds, WorkspacesManager } from \"./types/internal\";\r\n\r\ndeclare const window: Window & { workspacesManager: WorkspacesManager };\r\n\r\nclass WorkspacesManagerDecorator {\r\n    public init(glue: any, componentFactory: any) {\r\n        if (window.workspacesManager) {\r\n            window.workspacesManager.init(componentFactory);\r\n        } else {\r\n            workspacesManager.init(glue, componentFactory);\r\n        }\r\n    }\r\n\r\n    public getFrameId() {\r\n        return (window.workspacesManager || workspacesManager).getFrameId();\r\n    }\r\n\r\n    public notifyMoveAreaChanged() {\r\n        (window.workspacesManager || workspacesManager).notifyMoveAreaChanged();\r\n    }\r\n\r\n    public notifyWorkspacePopupChanged(element: HTMLElement): string {\r\n        return (window.workspacesManager || workspacesManager).notifyWorkspacePopupChanged(element);\r\n    }\r\n\r\n    public getComponentBounds(): Bounds {\r\n        return (window.workspacesManager || workspacesManager).getComponentBounds();\r\n    }\r\n\r\n    public registerPopup(element: HTMLElement): string {\r\n        return (window.workspacesManager || workspacesManager).registerPopup(element);\r\n    }\r\n\r\n    public removePopup(element: HTMLElement): void {\r\n        return (window.workspacesManager || workspacesManager).removePopup(element);\r\n    }\r\n\r\n    public removePopupById(elementId: string): void {\r\n        return (window.workspacesManager || workspacesManager).removePopupById(elementId);\r\n    }\r\n\r\n    public subscribeForWindowFocused(cb: () => any): () => void {\r\n        return (window.workspacesManager || workspacesManager).subscribeForWindowFocused(cb);\r\n    }\r\n\r\n    public unmount(): void {\r\n        return (window.workspacesManager || workspacesManager).unmount();\r\n    }\r\n\r\n    public requestFocus(): void {\r\n        return (window.workspacesManager || workspacesManager).requestFocus();\r\n    }\r\n}\r\n\r\nexport default new WorkspacesManagerDecorator();","import React, { useEffect, useLayoutEffect, forwardRef, useState, useRef, useImperativeHandle } from 'react';\nimport ReactDOM from 'react-dom';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar useOnEscape = function useOnEscape(handler, active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  useEffect(function () {\n    if (!active) return;\n\n    var listener = function listener(event) {\n      // check if key is an Escape\n      if (event.key === 'Escape') handler();\n    };\n\n    document.addEventListener('keyup', listener);\n    return function () {\n      if (!active) return;\n      document.removeEventListener('keyup', listener);\n    };\n  }, [handler, active]);\n};\nvar useRepositionOnResize = function useRepositionOnResize(handler, active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  useEffect(function () {\n    if (!active) return;\n\n    var listener = function listener() {\n      handler();\n    };\n\n    window.addEventListener('resize', listener);\n    return function () {\n      if (!active) return;\n      window.removeEventListener('resize', listener);\n    };\n  }, [handler, active]);\n};\nvar useOnClickOutside = function useOnClickOutside(ref, handler, active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  useEffect(function () {\n    if (!active) return;\n\n    var listener = function listener(event) {\n      // Do nothing if clicking ref's element or descendent elements\n      var refs = Array.isArray(ref) ? ref : [ref];\n      var contains = false;\n      refs.forEach(function (r) {\n        if (!r.current || r.current.contains(event.target)) {\n          contains = true;\n          return;\n        }\n      });\n      event.stopPropagation();\n      if (!contains) handler();\n    };\n\n    document.addEventListener('mousedown', listener);\n    document.addEventListener('touchstart', listener);\n    return function () {\n      if (!active) return;\n      document.removeEventListener('mousedown', listener);\n      document.removeEventListener('touchstart', listener);\n    };\n  }, [ref, handler, active]);\n}; // Make sure that user is not able TAB out of the Modal content on Open\n\nvar useTabbing = function useTabbing(contentRef, active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  useEffect(function () {\n    if (!active) return;\n\n    var listener = function listener(event) {\n      // check if key is an Tab\n      if (event.keyCode === 9) {\n        var _contentRef$current;\n\n        var els = contentRef === null || contentRef === void 0 ? void 0 : (_contentRef$current = contentRef.current) === null || _contentRef$current === void 0 ? void 0 : _contentRef$current.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex=\"0\"]');\n        var focusableEls = Array.prototype.slice.call(els);\n\n        if (focusableEls.length === 1) {\n          event.preventDefault();\n          return;\n        }\n\n        var firstFocusableEl = focusableEls[0];\n        var lastFocusableEl = focusableEls[focusableEls.length - 1];\n\n        if (event.shiftKey && document.activeElement === firstFocusableEl) {\n          event.preventDefault();\n          lastFocusableEl.focus();\n        } else if (document.activeElement === lastFocusableEl) {\n          event.preventDefault();\n          firstFocusableEl.focus();\n        }\n      }\n    };\n\n    document.addEventListener('keydown', listener);\n    return function () {\n      if (!active) return;\n      document.removeEventListener('keydown', listener);\n    };\n  }, [contentRef, active]);\n};\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;\n\nvar Style = {\n  popupContent: {\n    tooltip: {\n      position: 'absolute',\n      zIndex: 999\n    },\n    modal: {\n      position: 'relative',\n      margin: 'auto'\n    }\n  },\n  popupArrow: {\n    height: '8px',\n    width: '16px',\n    position: 'absolute',\n    background: 'transparent',\n    color: '#FFF',\n    zIndex: -1\n  },\n  overlay: {\n    tooltip: {\n      position: 'fixed',\n      top: '0',\n      bottom: '0',\n      left: '0',\n      right: '0',\n      zIndex: 999\n    },\n    modal: {\n      position: 'fixed',\n      top: '0',\n      bottom: '0',\n      left: '0',\n      right: '0',\n      display: 'flex',\n      zIndex: 999\n    }\n  }\n};\n\nvar POSITION_TYPES = ['top left', 'top center', 'top right', 'right top', 'right center', 'right bottom', 'bottom left', 'bottom center', 'bottom right', 'left top', 'left center', 'left bottom'];\n\nvar getCoordinatesForPosition = function getCoordinatesForPosition(triggerBounding, ContentBounding, position, //PopupPosition | PopupPosition[],\narrow, _ref) {\n  var offsetX = _ref.offsetX,\n      offsetY = _ref.offsetY;\n  var margin = arrow ? 8 : 0;\n  var args = position.split(' '); // the step N 1 : center the popup content => ok\n\n  var CenterTop = triggerBounding.top + triggerBounding.height / 2;\n  var CenterLeft = triggerBounding.left + triggerBounding.width / 2;\n  var height = ContentBounding.height,\n      width = ContentBounding.width;\n  var top = CenterTop - height / 2;\n  var left = CenterLeft - width / 2;\n  var transform = '';\n  var arrowTop = '0%';\n  var arrowLeft = '0%'; // the  step N 2 : => ok\n\n  switch (args[0]) {\n    case 'top':\n      top -= height / 2 + triggerBounding.height / 2 + margin;\n      transform = \"rotate(180deg)  translateX(50%)\";\n      arrowTop = '100%';\n      arrowLeft = '50%';\n      break;\n\n    case 'bottom':\n      top += height / 2 + triggerBounding.height / 2 + margin;\n      transform = \"rotate(0deg) translateY(-100%) translateX(-50%)\";\n      arrowLeft = '50%';\n      break;\n\n    case 'left':\n      left -= width / 2 + triggerBounding.width / 2 + margin;\n      transform = \" rotate(90deg)  translateY(50%) translateX(-25%)\";\n      arrowLeft = '100%';\n      arrowTop = '50%';\n      break;\n\n    case 'right':\n      left += width / 2 + triggerBounding.width / 2 + margin;\n      transform = \"rotate(-90deg)  translateY(-150%) translateX(25%)\";\n      arrowTop = '50%';\n      break;\n  }\n\n  switch (args[1]) {\n    case 'top':\n      top = triggerBounding.top;\n      arrowTop = triggerBounding.height / 2 + \"px\";\n      break;\n\n    case 'bottom':\n      top = triggerBounding.top - height + triggerBounding.height;\n      arrowTop = height - triggerBounding.height / 2 + \"px\";\n      break;\n\n    case 'left':\n      left = triggerBounding.left;\n      arrowLeft = triggerBounding.width / 2 + \"px\";\n      break;\n\n    case 'right':\n      left = triggerBounding.left - width + triggerBounding.width;\n      arrowLeft = width - triggerBounding.width / 2 + \"px\";\n      break;\n  }\n\n  top = args[0] === 'top' ? top - offsetY : top + offsetY;\n  left = args[0] === 'left' ? left - offsetX : left + offsetX;\n  return {\n    top: top,\n    left: left,\n    transform: transform,\n    arrowLeft: arrowLeft,\n    arrowTop: arrowTop\n  };\n};\n\nvar getTooltipBoundary = function getTooltipBoundary(keepTooltipInside) {\n  // add viewport\n  var boundingBox = {\n    top: 0,\n    left: 0,\n\n    /* eslint-disable-next-line no-undef */\n    width: window.innerWidth,\n\n    /* eslint-disable-next-line no-undef */\n    height: window.innerHeight\n  };\n\n  if (typeof keepTooltipInside === 'string') {\n    /* eslint-disable-next-line no-undef */\n    var selector = document.querySelector(keepTooltipInside);\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (selector === null) throw new Error(keepTooltipInside + \" selector does not exist : keepTooltipInside must be a valid html selector 'class' or 'Id'  or a boolean value\");\n    }\n\n    if (selector !== null) boundingBox = selector.getBoundingClientRect();\n  }\n\n  return boundingBox;\n};\n\nvar calculatePosition = function calculatePosition(triggerBounding, ContentBounding, position, arrow, _ref2, keepTooltipInside) {\n  var offsetX = _ref2.offsetX,\n      offsetY = _ref2.offsetY;\n  var bestCoords = {\n    arrowLeft: '0%',\n    arrowTop: '0%',\n    left: 0,\n    top: 0,\n    transform: 'rotate(135deg)'\n  };\n  var i = 0;\n  var wrapperBox = getTooltipBoundary(keepTooltipInside);\n  var positions = Array.isArray(position) ? position : [position]; // keepTooltipInside would be activated if the  keepTooltipInside exist or the position is Array\n\n  if (keepTooltipInside || Array.isArray(position)) positions = [].concat(positions, POSITION_TYPES); // add viewPort for WarpperBox\n  // wrapperBox.top = wrapperBox.top + window.scrollY;\n  // wrapperBox.left = wrapperBox.left + window.scrollX;\n\n  while (i < positions.length) {\n    bestCoords = getCoordinatesForPosition(triggerBounding, ContentBounding, positions[i], arrow, {\n      offsetX: offsetX,\n      offsetY: offsetY\n    });\n    var contentBox = {\n      top: bestCoords.top,\n      left: bestCoords.left,\n      width: ContentBounding.width,\n      height: ContentBounding.height\n    };\n\n    if (contentBox.top <= wrapperBox.top || contentBox.left <= wrapperBox.left || contentBox.top + contentBox.height >= wrapperBox.top + wrapperBox.height || contentBox.left + contentBox.width >= wrapperBox.left + wrapperBox.width) {\n      i++;\n    } else {\n      break;\n    }\n  }\n\n  return bestCoords;\n};\n\nvar popupIdCounter = 0;\n\nvar getRootPopup = function getRootPopup() {\n  var PopupRoot = document.getElementById('popup-root');\n\n  if (PopupRoot === null) {\n    PopupRoot = document.createElement('div');\n    PopupRoot.setAttribute('id', 'popup-root');\n    document.body.appendChild(PopupRoot);\n  }\n\n  return PopupRoot;\n};\n\nvar Popup = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var _ref$trigger = _ref.trigger,\n      trigger = _ref$trigger === void 0 ? null : _ref$trigger,\n      _ref$onOpen = _ref.onOpen,\n      onOpen = _ref$onOpen === void 0 ? function () {} : _ref$onOpen,\n      _ref$onClose = _ref.onClose,\n      onClose = _ref$onClose === void 0 ? function () {} : _ref$onClose,\n      _ref$defaultOpen = _ref.defaultOpen,\n      defaultOpen = _ref$defaultOpen === void 0 ? false : _ref$defaultOpen,\n      _ref$open = _ref.open,\n      open = _ref$open === void 0 ? undefined : _ref$open,\n      _ref$disabled = _ref.disabled,\n      disabled = _ref$disabled === void 0 ? false : _ref$disabled,\n      _ref$nested = _ref.nested,\n      nested = _ref$nested === void 0 ? false : _ref$nested,\n      _ref$closeOnDocumentC = _ref.closeOnDocumentClick,\n      closeOnDocumentClick = _ref$closeOnDocumentC === void 0 ? true : _ref$closeOnDocumentC,\n      _ref$repositionOnResi = _ref.repositionOnResize,\n      repositionOnResize = _ref$repositionOnResi === void 0 ? true : _ref$repositionOnResi,\n      _ref$closeOnEscape = _ref.closeOnEscape,\n      closeOnEscape = _ref$closeOnEscape === void 0 ? true : _ref$closeOnEscape,\n      _ref$on = _ref.on,\n      on = _ref$on === void 0 ? ['click'] : _ref$on,\n      _ref$contentStyle = _ref.contentStyle,\n      contentStyle = _ref$contentStyle === void 0 ? {} : _ref$contentStyle,\n      _ref$arrowStyle = _ref.arrowStyle,\n      arrowStyle = _ref$arrowStyle === void 0 ? {} : _ref$arrowStyle,\n      _ref$overlayStyle = _ref.overlayStyle,\n      overlayStyle = _ref$overlayStyle === void 0 ? {} : _ref$overlayStyle,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? '' : _ref$className,\n      _ref$position = _ref.position,\n      position = _ref$position === void 0 ? 'bottom center' : _ref$position,\n      _ref$modal = _ref.modal,\n      modal = _ref$modal === void 0 ? false : _ref$modal,\n      _ref$lockScroll = _ref.lockScroll,\n      lockScroll = _ref$lockScroll === void 0 ? false : _ref$lockScroll,\n      _ref$arrow = _ref.arrow,\n      arrow = _ref$arrow === void 0 ? true : _ref$arrow,\n      _ref$offsetX = _ref.offsetX,\n      offsetX = _ref$offsetX === void 0 ? 0 : _ref$offsetX,\n      _ref$offsetY = _ref.offsetY,\n      offsetY = _ref$offsetY === void 0 ? 0 : _ref$offsetY,\n      _ref$mouseEnterDelay = _ref.mouseEnterDelay,\n      mouseEnterDelay = _ref$mouseEnterDelay === void 0 ? 100 : _ref$mouseEnterDelay,\n      _ref$mouseLeaveDelay = _ref.mouseLeaveDelay,\n      mouseLeaveDelay = _ref$mouseLeaveDelay === void 0 ? 100 : _ref$mouseLeaveDelay,\n      _ref$keepTooltipInsid = _ref.keepTooltipInside,\n      keepTooltipInside = _ref$keepTooltipInsid === void 0 ? false : _ref$keepTooltipInsid,\n      children = _ref.children;\n\n  var _useState = useState(open || defaultOpen),\n      isOpen = _useState[0],\n      setIsOpen = _useState[1];\n\n  var triggerRef = useRef(null);\n  var contentRef = useRef(null);\n  var arrowRef = useRef(null);\n  var focusedElBeforeOpen = useRef(null);\n  var popupId = useRef(\"popup-\" + ++popupIdCounter);\n  var isModal = modal ? true : !trigger;\n  var timeOut = useRef(0);\n  useIsomorphicLayoutEffect(function () {\n    if (isOpen) {\n      focusedElBeforeOpen.current = document.activeElement;\n      setPosition();\n      focusContentOnOpen(); // for accessibility\n\n      lockScrolll();\n    } else {\n      resetScroll();\n    }\n\n    return function () {\n      clearTimeout(timeOut.current);\n    };\n  }, [isOpen]); // for uncontrolled popup we need to sync isOpen with open prop\n\n  useEffect(function () {\n    if (typeof open === 'boolean') {\n      if (open) openPopup();else closePopup();\n    }\n  }, [open, disabled]);\n\n  var openPopup = function openPopup() {\n    if (isOpen || disabled) return;\n    setIsOpen(true);\n    setTimeout(onOpen, 0);\n  };\n\n  var closePopup = function closePopup() {\n    if (!isOpen || disabled) return;\n    setIsOpen(false);\n    if (isModal) focusedElBeforeOpen.current.focus();\n    setTimeout(onClose, 0);\n  };\n\n  var togglePopup = function togglePopup(event) {\n    event === null || event === void 0 ? void 0 : event.stopPropagation();\n    if (!isOpen) openPopup();else closePopup();\n  };\n\n  var onMouseEnter = function onMouseEnter() {\n    clearTimeout(timeOut.current);\n    timeOut.current = setTimeout(openPopup, mouseEnterDelay);\n  };\n\n  var onContextMenu = function onContextMenu(event) {\n    event === null || event === void 0 ? void 0 : event.preventDefault();\n    togglePopup();\n  };\n\n  var onMouseLeave = function onMouseLeave() {\n    clearTimeout(timeOut.current);\n    timeOut.current = setTimeout(closePopup, mouseLeaveDelay);\n  };\n\n  var lockScrolll = function lockScrolll() {\n    if (isModal && lockScroll) document.getElementsByTagName('body')[0].style.overflow = 'hidden'; // migrate to document.body\n  };\n\n  var resetScroll = function resetScroll() {\n    if (isModal && lockScroll) document.getElementsByTagName('body')[0].style.overflow = 'auto';\n  };\n\n  var focusContentOnOpen = function focusContentOnOpen() {\n    var _contentRef$current;\n\n    var focusableEls = contentRef === null || contentRef === void 0 ? void 0 : (_contentRef$current = contentRef.current) === null || _contentRef$current === void 0 ? void 0 : _contentRef$current.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex=\"0\"]');\n    var firstEl = Array.prototype.slice.call(focusableEls)[0];\n    firstEl === null || firstEl === void 0 ? void 0 : firstEl.focus();\n  };\n\n  useImperativeHandle(ref, function () {\n    return {\n      open: function open() {\n        openPopup();\n      },\n      close: function close() {\n        closePopup();\n      },\n      toggle: function toggle() {\n        togglePopup();\n      }\n    };\n  }); // set Position\n\n  var setPosition = function setPosition() {\n    if (isModal || !isOpen) return;\n    if (!(triggerRef === null || triggerRef === void 0 ? void 0 : triggerRef.current) || !(triggerRef === null || triggerRef === void 0 ? void 0 : triggerRef.current) || !(contentRef === null || contentRef === void 0 ? void 0 : contentRef.current)) return; /// show error as one of ref is undefined\n\n    var trigger = triggerRef.current.getBoundingClientRect();\n    var content = contentRef.current.getBoundingClientRect();\n    var cords = calculatePosition(trigger, content, position, arrow, {\n      offsetX: offsetX,\n      offsetY: offsetY\n    }, keepTooltipInside);\n    contentRef.current.style.top = cords.top + window.scrollY + \"px\";\n    contentRef.current.style.left = cords.left + window.scrollX + \"px\";\n\n    if (arrow && !!arrowRef.current) {\n      var _arrowStyle$top, _arrowStyle$left;\n\n      arrowRef.current.style.transform = cords.transform;\n      arrowRef.current.style.setProperty('-ms-transform', cords.transform);\n      arrowRef.current.style.setProperty('-webkit-transform', cords.transform);\n      arrowRef.current.style.top = ((_arrowStyle$top = arrowStyle.top) === null || _arrowStyle$top === void 0 ? void 0 : _arrowStyle$top.toString()) || cords.arrowTop;\n      arrowRef.current.style.left = ((_arrowStyle$left = arrowStyle.left) === null || _arrowStyle$left === void 0 ? void 0 : _arrowStyle$left.toString()) || cords.arrowLeft;\n    }\n  }; // hooks\n\n\n  useOnEscape(closePopup, closeOnEscape); // can be optimized if we disabled for hover\n\n  useTabbing(contentRef, isOpen && isModal);\n  useRepositionOnResize(setPosition, repositionOnResize);\n  useOnClickOutside(!!trigger ? [contentRef, triggerRef] : [contentRef], closePopup, closeOnDocumentClick && !nested); // we need to add a ne\n  // render the trigger element and add events\n\n  var renderTrigger = function renderTrigger() {\n    var triggerProps = {\n      key: 'T',\n      ref: triggerRef,\n      'aria-describedby': popupId.current\n    };\n    var onAsArray = Array.isArray(on) ? on : [on];\n\n    for (var i = 0, len = onAsArray.length; i < len; i++) {\n      switch (onAsArray[i]) {\n        case 'click':\n          triggerProps.onClick = togglePopup;\n          break;\n\n        case 'right-click':\n          triggerProps.onContextMenu = onContextMenu;\n          break;\n\n        case 'hover':\n          triggerProps.onMouseEnter = onMouseEnter;\n          triggerProps.onMouseLeave = onMouseLeave;\n          break;\n\n        case 'focus':\n          triggerProps.onFocus = onMouseEnter;\n          triggerProps.onBlur = onMouseLeave;\n          break;\n      }\n    }\n\n    if (typeof trigger === 'function') {\n      var comp = trigger(isOpen);\n      return !!trigger && React.cloneElement(comp, triggerProps);\n    }\n\n    return !!trigger && React.cloneElement(trigger, triggerProps);\n  };\n\n  var addWarperAction = function addWarperAction() {\n    var popupContentStyle = isModal ? Style.popupContent.modal : Style.popupContent.tooltip;\n    var childrenElementProps = {\n      className: \"popup-content \" + (className !== '' ? className.split(' ').map(function (c) {\n        return c + \"-content\";\n      }).join(' ') : ''),\n      style: _extends({}, popupContentStyle, contentStyle, {\n        pointerEvents: 'auto'\n      }),\n      ref: contentRef,\n      onClick: function onClick(e) {\n        e.stopPropagation();\n      }\n    };\n\n    if (!modal && on.indexOf('hover') >= 0) {\n      childrenElementProps.onMouseEnter = onMouseEnter;\n      childrenElementProps.onMouseLeave = onMouseLeave;\n    }\n\n    return childrenElementProps;\n  };\n\n  var renderContent = function renderContent() {\n    return React.createElement(\"div\", Object.assign({}, addWarperAction(), {\n      key: \"C\",\n      role: isModal ? 'dialog' : 'tooltip',\n      id: popupId.current\n    }), arrow && !isModal && React.createElement(\"div\", {\n      ref: arrowRef,\n      style: Style.popupArrow\n    }, React.createElement(\"svg\", {\n      \"data-testid\": \"arrow\",\n      className: \"popup-arrow \" + (className !== '' ? className.split(' ').map(function (c) {\n        return c + \"-arrow\";\n      }).join(' ') : ''),\n      viewBox: \"0 0 32 16\",\n      style: _extends({\n        position: 'absolute'\n      }, arrowStyle)\n    }, React.createElement(\"path\", {\n      d: \"M16 0l16 16H0z\",\n      fill: \"currentcolor\"\n    }))), children && typeof children === 'function' ? children(closePopup, isOpen) : children);\n  };\n\n  var overlay = !(on.indexOf('hover') >= 0);\n  var ovStyle = isModal ? Style.overlay.modal : Style.overlay.tooltip;\n  var content = [overlay && React.createElement(\"div\", {\n    key: \"O\",\n    \"data-testid\": \"overlay\",\n    \"data-popup\": isModal ? 'modal' : 'tooltip',\n    className: \"popup-overlay \" + (className !== '' ? className.split(' ').map(function (c) {\n      return c + \"-overlay\";\n    }).join(' ') : ''),\n    style: _extends({}, ovStyle, overlayStyle, {\n      pointerEvents: closeOnDocumentClick && nested || isModal ? 'auto' : 'none'\n    }),\n    onClick: closeOnDocumentClick && nested ? closePopup : undefined,\n    tabIndex: -1\n  }, isModal && renderContent()), !isModal && renderContent()];\n  return React.createElement(React.Fragment, null, renderTrigger(), isOpen && ReactDOM.createPortal(content, getRootPopup()));\n});\n\nexport default Popup;\nexport { Popup };\n//# sourceMappingURL=reactjs-popup.esm.js.map\n","import React, { useEffect, useState } from \"react\";\r\nimport { WorkspacePopupProps } from \"./types/internal\";\r\nimport Popup from \"reactjs-popup\";\r\nimport WorkspacePopupContent from \"./WorkspaceContentPopup\";\r\nimport { PopupActions } from \"reactjs-popup/dist/types\";\r\n\r\nconst WorkspacePopup: React.FC<WorkspacePopupProps> = ({ children, innerContentStyle, popupRef, ...props }) => {\r\n    const ref = popupRef || React.createRef<PopupActions>();\r\n    const [shouldClose, setShouldClose] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (!shouldClose) {\r\n            return;\r\n        }\r\n\r\n        ref.current?.close();\r\n        setShouldClose(false);\r\n    }, [shouldClose]);\r\n\r\n    return (\r\n        <Popup ref={ref} {...props}>\r\n            <WorkspacePopupContent innerContentStyle={innerContentStyle} close={() => setShouldClose(true)} children={children} />\r\n        </Popup>\r\n    )\r\n}\r\n\r\nexport default WorkspacePopup;","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { PortalProps } from \"./types/internal\";\r\n\r\nclass Portal extends React.Component<PortalProps> {\r\n    render() {\r\n        return ReactDOM.createPortal(this.props.children, this.props.domNode);\r\n    }\r\n}\r\n\r\nexport default Portal;","import React from \"react\";\r\nimport { WorkspacesWrapperProps } from \"./types/internal\";\r\nimport withGlueInstance from \"./withGlueInstance\";\r\nimport workspacesManager from \"./workspacesManager\";\r\n\r\nconst templateId = \"workspaces-react-wrapper-template\";\r\nconst workspacesInnerContainerId = \"outter-layout-container\";\r\n\r\nclass WorkspacesWrapper extends React.Component<WorkspacesWrapperProps> {\r\n    containerRef: HTMLElement | null;\r\n\r\n    componentDidMount() {\r\n        let placeholder = document.getElementById(templateId) as HTMLTemplateElement;\r\n        if (!placeholder) {\r\n            const template = document.createElement(\"template\");\r\n            template.id = templateId;\r\n            const glContainer = document.createElement(\"div\");\r\n\r\n            glContainer.id = workspacesInnerContainerId;\r\n            glContainer.style.overflow = \"hidden\";\r\n            glContainer.style.width = \"100%\";\r\n            glContainer.style.height = \"100%\";\r\n            template.content.appendChild(glContainer);\r\n            document.body.appendChild(template);\r\n            placeholder = template;\r\n        }\r\n        if (!this.containerRef) {\r\n            return;\r\n        }\r\n        this.containerRef.appendChild(placeholder.content);\r\n\r\n        const componentFactory = {\r\n            createLogo: this.props.onCreateLogoRequested,\r\n            createAddWorkspace: this.props.onCreateAddWorkspaceRequested,\r\n            createSystemButtons: this.props.onCreateSystemButtonsRequested,\r\n            createWorkspaceContents: this.props.onCreateWorkspaceContentsRequested,\r\n            createSaveWorkspacePopup: this.props.onCreateSaveWorkspacePopupRequested,\r\n            createAddApplicationPopup: this.props.onCreateAddApplicationPopupRequested,\r\n            createAddWorkspacePopup: this.props.onCreateAddWorkspacePopupRequested,\r\n            hideSystemPopups: this.props.onHideSystemPopupsRequested,\r\n            externalPopupApplications: this.props.externalPopupApplications\r\n        };\r\n        workspacesManager.init(this.props.glue, componentFactory);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        let placeholder = document.getElementById(templateId) as HTMLTemplateElement;\r\n\r\n        if (!this.containerRef) {\r\n            return;\r\n        }\r\n\r\n        placeholder?.content.appendChild(this.containerRef.children[0]);\r\n\r\n        workspacesManager.unmount();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div ref={(r) => this.containerRef = r} style={{ overflow: \"hidden\", width: \"100%\", height: \"100%\" }}>\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withGlueInstance(WorkspacesWrapper);","import React from \"react\";\r\nimport AddApplicationPopup from \"./defaultComponents/popups/addApplication/AddApplicationPopup\";\r\nimport AddWorkspacePopup from \"./defaultComponents/popups/addWorkspace/AddWorkspacePopup\";\r\nimport SaveWorkspacePopup from \"./defaultComponents/popups/saveWorkspace/SaveWorkspacePopup\";\r\nimport Portal from \"./Portal\";\r\nimport { AddApplicationPopupProps, CreateElementRequestOptions, ElementCreationWrapperState, AddWorkspacePopupProps, SaveWorkspacePopupProps, WorkspacesProps, CreateWorkspaceContentsRequestOptions } from \"./types/internal\";\r\nimport WorkspacesWrapper from \"./WorkspacesWrapper\";\r\n\r\nclass WorkspacesElementCreationWrapper extends React.Component<WorkspacesProps, ElementCreationWrapperState> {\r\n    constructor(props: WorkspacesProps) {\r\n        super(props);\r\n        this.state = {\r\n            logo: undefined,\r\n            addWorkspace: undefined,\r\n            systemButtons: undefined,\r\n            workspaceContents: [],\r\n            saveWorkspacePopup: undefined,\r\n            addApplicationPopup: undefined,\r\n            addWorkspacePopup: undefined\r\n        }\r\n    }\r\n\r\n    onCreateLogoRequested = (options: CreateElementRequestOptions) => {\r\n        if (options === this.state.logo) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                logo: options\r\n            }\r\n        });\r\n    }\r\n\r\n    onCreateAddWorkspaceRequested = (options: CreateElementRequestOptions) => {\r\n        if (options === this.state.addWorkspace) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                addWorkspace: options\r\n            }\r\n        });\r\n    }\r\n\r\n    onCreateSystemButtonsRequested = (options: CreateElementRequestOptions) => {\r\n        if (options === this.state.systemButtons) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                systemButtons: options\r\n            }\r\n        });\r\n    }\r\n\r\n    onCreateWorkspaceContentsRequested = (options: CreateWorkspaceContentsRequestOptions) => {\r\n        if (this.state.workspaceContents.some(wc => wc.domNode === options.domNode)) {\r\n            return;\r\n        }\r\n\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                workspaceContents: [\r\n                    ...s.workspaceContents,\r\n                    options\r\n                ]\r\n            }\r\n        });\r\n    }\r\n\r\n    onCreateSaveWorkspaceRequested = (options: CreateElementRequestOptions & SaveWorkspacePopupProps) => {\r\n        if (options === this.state.saveWorkspacePopup) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                saveWorkspacePopup: options\r\n            }\r\n        }, options.callback);\r\n    }\r\n\r\n    onCreateAddApplicationRequested = (options: CreateElementRequestOptions & AddApplicationPopupProps) => {\r\n        if (options === this.state.addApplicationPopup) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                addApplicationPopup: options\r\n            }\r\n        }, options.callback);\r\n    }\r\n\r\n    onCreateAddWorkspacePopupRequested = (options: CreateElementRequestOptions & AddWorkspacePopupProps) => {\r\n        if (options === this.state.addWorkspacePopup) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                addWorkspacePopup: options\r\n            }\r\n        }, options.callback);\r\n    }\r\n\r\n    onHideSystemPopups = (cb: () => void) => {\r\n        this.setState((s) => ({\r\n            ...s,\r\n            addApplicationPopup: undefined,\r\n            saveWorkspacePopup: undefined,\r\n            addWorkspacePopup: undefined\r\n        }), cb);\r\n    }\r\n\r\n    renderLogoComponent = () => {\r\n        const LogoCustomElement = this.props.components?.header?.LogoComponent;\r\n        if (!LogoCustomElement || (!this.state.logo || !this.state.logo.domNode)) {\r\n            return;\r\n        }\r\n\r\n        const { domNode, callback, ...options } = this.state.logo;\r\n        return <Portal domNode={domNode}><LogoCustomElement {...options} /></Portal>\r\n    }\r\n\r\n    renderAddWorkspaceComponent = () => {\r\n        const AddWorkspaceCustomComponent = this.props.components?.header?.AddWorkspaceComponent;\r\n\r\n        if (!AddWorkspaceCustomComponent || (!this.state.addWorkspace || !this.state.addWorkspace.domNode)) {\r\n            return;\r\n        }\r\n\r\n        const { domNode, callback, ...options } = this.state.addWorkspace;\r\n        return <Portal domNode={domNode}><AddWorkspaceCustomComponent {...options} /></Portal>\r\n    }\r\n\r\n    renderSystemButtonsComponent = () => {\r\n        const SystemButtonsCustomComponent = this.props.components?.header?.SystemButtonsComponent;\r\n        if (!SystemButtonsCustomComponent || (!this.state.systemButtons || !this.state.systemButtons.domNode)) {\r\n            return;\r\n        }\r\n\r\n        const { domNode, callback, ...options } = this.state.systemButtons;\r\n\r\n        return <Portal domNode={domNode}><SystemButtonsCustomComponent {...options} /></Portal>\r\n    }\r\n\r\n    renderWorskpaceContents = () => {\r\n        const WorkspaceContentsComponent = this.props.components?.WorkspaceContents;\r\n\r\n        return this.state.workspaceContents.map((wc) => {\r\n            if (!WorkspaceContentsComponent || !wc.domNode) {\r\n                return;\r\n            }\r\n\r\n            const { domNode, callback, ...options } = wc;\r\n            return <Portal key={options.workspaceId} domNode={domNode}><WorkspaceContentsComponent {...options} /></Portal>\r\n        });\r\n    }\r\n\r\n    renderSaveWorkspacePopupComponent = () => {\r\n        const SaveWorkspaceCustomComponent = this.props.components?.popups?.SaveWorkspaceComponent || SaveWorkspacePopup;\r\n        if (!SaveWorkspaceCustomComponent || (!this.state.saveWorkspacePopup || !this.state.saveWorkspacePopup.domNode)) {\r\n            return;\r\n        }\r\n\r\n        const { domNode, ...options } = this.state.saveWorkspacePopup;\r\n\r\n        return <Portal domNode={domNode}><SaveWorkspaceCustomComponent glue={this.props.glue} {...options} /></Portal>\r\n    }\r\n\r\n    renderAddApplicationPopupComponent = () => {\r\n        const AddApplicationCustomComponent = this.props.components?.popups?.AddApplicationComponent || AddApplicationPopup;\r\n        if (!AddApplicationCustomComponent || (!this.state.addApplicationPopup || !this.state.addApplicationPopup.domNode)) {\r\n            return;\r\n        }\r\n\r\n        const { domNode, ...options } = this.state.addApplicationPopup;\r\n\r\n        return <Portal domNode={domNode}><AddApplicationCustomComponent glue={this.props.glue} {...options} /></Portal>\r\n    }\r\n\r\n    renderAddWorkspacePopupComponent = () => {\r\n        const AddWorkspaceCustomComponent = this.props.components?.popups?.AddWorkspaceComponent || AddWorkspacePopup;\r\n        if (!AddWorkspaceCustomComponent || (!this.state.addWorkspacePopup || !this.state.addWorkspacePopup.domNode)) {\r\n            return;\r\n        }\r\n        const { domNode, callback, ...options } = this.state.addWorkspacePopup;\r\n\r\n        return <Portal domNode={domNode}><AddWorkspaceCustomComponent glue={this.props.glue} {...options} /></Portal>\r\n    }\r\n\r\n    render() {\r\n        const { components, glue, ...additionalProperties } = this.props;\r\n        const addApplicationComponent = components?.popups?.AddApplicationComponent || AddApplicationPopup;\r\n        const saveWorkspaceComponent = components?.popups?.SaveWorkspaceComponent || SaveWorkspacePopup;\r\n        const addWorkspaceComponent = components?.popups?.AddWorkspaceComponent || AddWorkspacePopup;\r\n\r\n        const onCreateAddApplicationRequested = addApplicationComponent && typeof addApplicationComponent !== \"string\" ?\r\n            this.onCreateAddApplicationRequested : undefined;\r\n\r\n        const onCreateAddWorkspacePopupRequested = addWorkspaceComponent && typeof addWorkspaceComponent !== \"string\" ?\r\n            this.onCreateAddWorkspacePopupRequested : undefined;\r\n\r\n        const onCreateSaveWorkspaceRequested = saveWorkspaceComponent && typeof saveWorkspaceComponent !== \"string\" ?\r\n            this.onCreateSaveWorkspaceRequested : undefined;\r\n\r\n        const addApplication = typeof addApplicationComponent === \"string\" ? addApplicationComponent : undefined;\r\n        const saveWorkspace = typeof saveWorkspaceComponent === \"string\" ? saveWorkspaceComponent : undefined;\r\n        const addWorkspace = typeof addWorkspaceComponent === \"string\" ? addWorkspaceComponent : undefined;\r\n\r\n        const externalPopupApplications = {\r\n            addApplication,\r\n            saveWorkspace,\r\n            addWorkspace\r\n        }\r\n\r\n        return (\r\n            <div {...additionalProperties} style={{ overflow: \"hidden\", width: \"100%\", height: \"100%\" }}>\r\n                {this.renderLogoComponent()}\r\n                {this.renderAddWorkspaceComponent()}\r\n                {this.renderSystemButtonsComponent()}\r\n                {this.renderWorskpaceContents()}\r\n                {this.renderSaveWorkspacePopupComponent()}\r\n                {this.renderAddApplicationPopupComponent()}\r\n                {this.renderAddWorkspacePopupComponent()}\r\n                <WorkspacesWrapper\r\n                    onCreateSystemButtonsRequested={components?.header?.SystemButtonsComponent ? this.onCreateSystemButtonsRequested : undefined}\r\n                    onCreateAddWorkspaceRequested={components?.header?.AddWorkspaceComponent ? this.onCreateAddWorkspaceRequested : undefined}\r\n                    onCreateLogoRequested={components?.header?.LogoComponent ? this.onCreateLogoRequested : undefined}\r\n                    onCreateWorkspaceContentsRequested={components?.WorkspaceContents ? this.onCreateWorkspaceContentsRequested : undefined}\r\n                    onCreateSaveWorkspacePopupRequested={onCreateSaveWorkspaceRequested}\r\n                    onCreateAddApplicationPopupRequested={onCreateAddApplicationRequested}\r\n                    onCreateAddWorkspacePopupRequested={onCreateAddWorkspacePopupRequested}\r\n                    onHideSystemPopupsRequested={this.onHideSystemPopups}\r\n                    externalPopupApplications={externalPopupApplications}\r\n                    glue={glue}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default WorkspacesElementCreationWrapper;\r\n","import AddWorkspaceButton from './defaultComponents/AddWorkspaceButton';\r\nimport CloseFrameButton from './defaultComponents/CloseFrameButton';\r\nimport GlueLogo from './defaultComponents/GlueLogo';\r\nimport MaximizeFrameButton from './defaultComponents/MaximizeFrameButton';\r\nimport MinimizeFrameButton from './defaultComponents/MinimizeFrameButton';\r\nimport AddApplicationPopup from './defaultComponents/popups/addApplication/AddApplicationPopup';\r\nimport AddWorkspacePopup from './defaultComponents/popups/addWorkspace/AddWorkspacePopup';\r\nimport SaveWorkspacePopup from './defaultComponents/popups/saveWorkspace/SaveWorkspacePopup';\r\nimport WorkspaceContents from \"./defaultComponents/WorkspaceContents\";\r\nimport useWorkspacePopup from './useWorkspacePopup';\r\nimport useWorkspaceWindowClicked from './useWorkspaceWindowClicked';\r\n\r\nimport WorkspacePopup from './WorkspacePopup';\r\nimport {\r\n    Bounds,\r\n    WorkspacesManager,\r\n    WorkspacesProps,\r\n    AddWorkspaceButtonProps,\r\n    MaximizeFrameButtonProps,\r\n    MinimizeFrameButtonProps,\r\n    SaveWorkspacePopupComponentProps,\r\n    AddWorkspacePopupComponentProps,\r\n    AddApplicationPopupComponentProps,\r\n    AddWorkspacePopupProps,\r\n    SaveWorkspacePopupProps,\r\n    AddApplicationPopupProps,\r\n    WorkspaceContentsProps\r\n} from './types/internal';\r\nimport WorkspacesElementCreationWrapper from './WorkspacesElementCreationWrapper'\r\nimport workspacesManager from './workspacesManager';\r\n\r\nexport {\r\n    SaveWorkspacePopup,\r\n    AddWorkspacePopup,\r\n    AddApplicationPopup,\r\n    CloseFrameButton,\r\n    GlueLogo,\r\n    MaximizeFrameButton,\r\n    MinimizeFrameButton,\r\n    AddWorkspaceButton,\r\n    WorkspacePopup,\r\n    useWorkspacePopup,\r\n    useWorkspaceWindowClicked,\r\n    WorkspaceContents\r\n};\r\nexport const notifyMoveAreaChanged: () => void = () => workspacesManager?.notifyMoveAreaChanged();\r\nexport const getComponentBounds: () => Bounds = () => workspacesManager?.getComponentBounds();\r\nexport const getFrameId: () => string = () => workspacesManager?.getFrameId();\r\nexport const requestFocus: () => void = () => workspacesManager?.requestFocus();\r\n\r\nexport {\r\n    WorkspacesProps,\r\n    Bounds,\r\n    AddWorkspaceButtonProps,\r\n    MaximizeFrameButtonProps,\r\n    MinimizeFrameButtonProps,\r\n    SaveWorkspacePopupComponentProps,\r\n    AddWorkspacePopupComponentProps,\r\n    AddApplicationPopupComponentProps,\r\n    AddWorkspacePopupProps,\r\n    SaveWorkspacePopupProps,\r\n    AddApplicationPopupProps,\r\n    WorkspaceContentsProps\r\n};\r\nexport default WorkspacesElementCreationWrapper;","(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, (global.desktop = global.desktop || {}, global.desktop.browser = factory()));\n}(this, (function () { 'use strict';\n\n    /*! *****************************************************************************\r\n    Copyright (c) Microsoft Corporation. All rights reserved.\r\n    Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\n    this file except in compliance with the License. You may obtain a copy of the\r\n    License at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\n    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\n    MERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\n    See the Apache Version 2.0 License for specific language governing permissions\r\n    and limitations under the License.\r\n    ***************************************************************************** */\r\n    /* global Reflect, Promise */\r\n\r\n    var extendStatics = function(d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n\r\n    function __extends(d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    }\r\n\r\n    var __assign = function() {\r\n        __assign = Object.assign || function __assign(t) {\r\n            for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n                s = arguments[i];\r\n                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n            }\r\n            return t;\r\n        };\r\n        return __assign.apply(this, arguments);\r\n    };\r\n\r\n    function __rest(s, e) {\r\n        var t = {};\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n            t[p] = s[p];\r\n        if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n            for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n                if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                    t[p[i]] = s[p[i]];\r\n            }\r\n        return t;\r\n    }\r\n\r\n    function __awaiter(thisArg, _arguments, P, generator) {\r\n        return new (P || (P = Promise))(function (resolve, reject) {\r\n            function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n            function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n            function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n        });\r\n    }\r\n\r\n    function __generator(thisArg, body) {\r\n        var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n        return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n        function verb(n) { return function (v) { return step([n, v]); }; }\r\n        function step(op) {\r\n            if (f) throw new TypeError(\"Generator is already executing.\");\r\n            while (_) try {\r\n                if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n                if (y = 0, t) op = [op[0] & 2, t.value];\r\n                switch (op[0]) {\r\n                    case 0: case 1: t = op; break;\r\n                    case 4: _.label++; return { value: op[1], done: false };\r\n                    case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                    case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                    default:\r\n                        if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                        if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                        if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                        if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                        if (t[2]) _.ops.pop();\r\n                        _.trys.pop(); continue;\r\n                }\r\n                op = body.call(thisArg, _);\r\n            } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n            if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n        }\r\n    }\n\n    /*! *****************************************************************************\r\n    Copyright (c) Microsoft Corporation. All rights reserved.\r\n    Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\n    this file except in compliance with the License. You may obtain a copy of the\r\n    License at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\n    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\n    MERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\n    See the Apache Version 2.0 License for specific language governing permissions\r\n    and limitations under the License.\r\n    ***************************************************************************** */\r\n    /* global Reflect, Promise */\r\n\r\n    var extendStatics$1 = function(d, b) {\r\n        extendStatics$1 = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics$1(d, b);\r\n    };\r\n\r\n    function __extends$1(d, b) {\r\n        extendStatics$1(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    }\r\n\r\n    var __assign$1 = function() {\r\n        __assign$1 = Object.assign || function __assign(t) {\r\n            for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n                s = arguments[i];\r\n                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n            }\r\n            return t;\r\n        };\r\n        return __assign$1.apply(this, arguments);\r\n    };\r\n\r\n    function __awaiter$1(thisArg, _arguments, P, generator) {\r\n        return new (P || (P = Promise))(function (resolve, reject) {\r\n            function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n            function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n            function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n        });\r\n    }\r\n\r\n    function __generator$1(thisArg, body) {\r\n        var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n        return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n        function verb(n) { return function (v) { return step([n, v]); }; }\r\n        function step(op) {\r\n            if (f) throw new TypeError(\"Generator is already executing.\");\r\n            while (_) try {\r\n                if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n                if (y = 0, t) op = [op[0] & 2, t.value];\r\n                switch (op[0]) {\r\n                    case 0: case 1: t = op; break;\r\n                    case 4: _.label++; return { value: op[1], done: false };\r\n                    case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                    case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                    default:\r\n                        if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                        if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                        if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                        if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                        if (t[2]) _.ops.pop();\r\n                        _.trys.pop(); continue;\r\n                }\r\n                op = body.call(thisArg, _);\r\n            } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n            if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n        }\r\n    }\r\n\r\n    function __spreadArrays() {\r\n        for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n        for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n            for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n                r[k] = a[j];\r\n        return r;\r\n    }\n\n    var MetricTypes = {\r\n        STRING: 1,\r\n        NUMBER: 2,\r\n        TIMESTAMP: 3,\r\n        OBJECT: 4\r\n    };\n\n    function getMetricTypeByValue(metric) {\r\n        if (metric.type === MetricTypes.TIMESTAMP) {\r\n            return \"timestamp\";\r\n        }\r\n        else if (metric.type === MetricTypes.NUMBER) {\r\n            return \"number\";\r\n        }\r\n        else if (metric.type === MetricTypes.STRING) {\r\n            return \"string\";\r\n        }\r\n        else if (metric.type === MetricTypes.OBJECT) {\r\n            return \"object\";\r\n        }\r\n        return \"unknown\";\r\n    }\r\n    function getTypeByValue(value) {\r\n        if (value.constructor === Date) {\r\n            return \"timestamp\";\r\n        }\r\n        else if (typeof value === \"number\") {\r\n            return \"number\";\r\n        }\r\n        else if (typeof value === \"string\") {\r\n            return \"string\";\r\n        }\r\n        else if (typeof value === \"object\") {\r\n            return \"object\";\r\n        }\r\n        else {\r\n            return \"string\";\r\n        }\r\n    }\r\n    function serializeMetric(metric) {\r\n        var serializedMetrics = {};\r\n        var type = getMetricTypeByValue(metric);\r\n        if (type === \"object\") {\r\n            var values = Object.keys(metric.value).reduce(function (memo, key) {\r\n                var innerType = getTypeByValue(metric.value[key]);\r\n                if (innerType === \"object\") {\r\n                    var composite = defineNestedComposite(metric.value[key]);\r\n                    memo[key] = {\r\n                        type: \"object\",\r\n                        description: \"\",\r\n                        context: {},\r\n                        composite: composite,\r\n                    };\r\n                }\r\n                else {\r\n                    memo[key] = {\r\n                        type: innerType,\r\n                        description: \"\",\r\n                        context: {},\r\n                    };\r\n                }\r\n                return memo;\r\n            }, {});\r\n            serializedMetrics.composite = values;\r\n        }\r\n        serializedMetrics.name = normalizeMetricName(metric.path.join(\"/\") + \"/\" + metric.name);\r\n        serializedMetrics.type = type;\r\n        serializedMetrics.description = metric.description;\r\n        serializedMetrics.context = {};\r\n        return serializedMetrics;\r\n    }\r\n    function defineNestedComposite(values) {\r\n        return Object.keys(values).reduce(function (memo, key) {\r\n            var type = getTypeByValue(values[key]);\r\n            if (type === \"object\") {\r\n                memo[key] = {\r\n                    type: \"object\",\r\n                    description: \"\",\r\n                    context: {},\r\n                    composite: defineNestedComposite(values[key]),\r\n                };\r\n            }\r\n            else {\r\n                memo[key] = {\r\n                    type: type,\r\n                    description: \"\",\r\n                    context: {},\r\n                };\r\n            }\r\n            return memo;\r\n        }, {});\r\n    }\r\n    function normalizeMetricName(name) {\r\n        if (typeof name !== \"undefined\" && name.length > 0 && name[0] !== \"/\") {\r\n            return \"/\" + name;\r\n        }\r\n        else {\r\n            return name;\r\n        }\r\n    }\r\n    function getMetricValueByType(metric) {\r\n        var type = getMetricTypeByValue(metric);\r\n        if (type === \"timestamp\") {\r\n            return Date.now();\r\n        }\r\n        else {\r\n            return publishNestedComposite(metric.value);\r\n        }\r\n    }\r\n    function publishNestedComposite(values) {\r\n        if (typeof values !== \"object\") {\r\n            return values;\r\n        }\r\n        return Object.keys(values).reduce(function (memo, key) {\r\n            var value = values[key];\r\n            if (typeof value === \"object\" && value.constructor !== Date) {\r\n                memo[key] = publishNestedComposite(value);\r\n            }\r\n            else if (value.constructor === Date) {\r\n                memo[key] = new Date(value).getTime();\r\n            }\r\n            else if (value.constructor === Boolean) {\r\n                memo[key] = value.toString();\r\n            }\r\n            else {\r\n                memo[key] = value;\r\n            }\r\n            return memo;\r\n        }, {});\r\n    }\r\n    function flatten(arr) {\r\n        return arr.reduce(function (flat, toFlatten) {\r\n            return flat.concat(Array.isArray(toFlatten) ? flatten(toFlatten) : toFlatten);\r\n        }, []);\r\n    }\r\n    function getHighestState(arr) {\r\n        return arr.sort(function (a, b) {\r\n            if (!a.state) {\r\n                return 1;\r\n            }\r\n            if (!b.state) {\r\n                return -1;\r\n            }\r\n            return b.state - a.state;\r\n        })[0];\r\n    }\r\n    function aggregateDescription(arr) {\r\n        var msg = \"\";\r\n        arr.forEach(function (m, idx, a) {\r\n            var path = m.path.join(\".\");\r\n            if (idx === a.length - 1) {\r\n                msg += path + \".\" + m.name + \": \" + m.description;\r\n            }\r\n            else {\r\n                msg += path + \".\" + m.name + \": \" + m.description + \",\";\r\n            }\r\n        });\r\n        if (msg.length > 100) {\r\n            return msg.slice(0, 100) + \"...\";\r\n        }\r\n        else {\r\n            return msg;\r\n        }\r\n    }\r\n    function composeMsgForRootStateMetric(system) {\r\n        var aggregatedState = system.root.getAggregateState();\r\n        var merged = flatten(aggregatedState);\r\n        var highestState = getHighestState(merged);\r\n        var aggregateDesc = aggregateDescription(merged);\r\n        return {\r\n            description: aggregateDesc,\r\n            value: highestState.state,\r\n        };\r\n    }\n\n    function gw3 (connection, config) {\r\n        var _this = this;\r\n        if (!connection || typeof connection !== \"object\") {\r\n            throw new Error(\"Connection is required parameter\");\r\n        }\r\n        var joinPromise;\r\n        var session;\r\n        var init = function (repo) {\r\n            var resolveReadyPromise;\r\n            joinPromise = new Promise(function (resolve) {\r\n                resolveReadyPromise = resolve;\r\n            });\r\n            session = connection.domain(\"metrics\");\r\n            session.onJoined(function (reconnect) {\r\n                if (!reconnect && resolveReadyPromise) {\r\n                    resolveReadyPromise();\r\n                    resolveReadyPromise = undefined;\r\n                }\r\n                var rootStateMetric = {\r\n                    name: \"/State\",\r\n                    type: \"object\",\r\n                    composite: {\r\n                        Description: {\r\n                            type: \"string\",\r\n                            description: \"\",\r\n                        },\r\n                        Value: {\r\n                            type: \"number\",\r\n                            description: \"\",\r\n                        },\r\n                    },\r\n                    description: \"System state\",\r\n                    context: {},\r\n                };\r\n                var defineRootMetricsMsg = {\r\n                    type: \"define\",\r\n                    metrics: [rootStateMetric],\r\n                };\r\n                session.send(defineRootMetricsMsg);\r\n                if (reconnect) {\r\n                    replayRepo(repo);\r\n                }\r\n            });\r\n            session.join({\r\n                system: config.system,\r\n                service: config.service,\r\n                instance: config.instance\r\n            });\r\n        };\r\n        var replayRepo = function (repo) {\r\n            replaySystem(repo.root);\r\n        };\r\n        var replaySystem = function (system) {\r\n            createSystem(system);\r\n            system.metrics.forEach(function (m) {\r\n                createMetric(m);\r\n            });\r\n            system.subSystems.forEach(function (ss) {\r\n                replaySystem(ss);\r\n            });\r\n        };\r\n        var createSystem = function (system) { return __awaiter$1(_this, void 0, void 0, function () {\r\n            var metric, createMetricsMsg;\r\n            return __generator$1(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (system.parent === undefined) {\r\n                            return [2];\r\n                        }\r\n                        return [4, joinPromise];\r\n                    case 1:\r\n                        _a.sent();\r\n                        metric = {\r\n                            name: normalizeMetricName(system.path.join(\"/\") + \"/\" + system.name + \"/State\"),\r\n                            type: \"object\",\r\n                            composite: {\r\n                                Description: {\r\n                                    type: \"string\",\r\n                                    description: \"\",\r\n                                },\r\n                                Value: {\r\n                                    type: \"number\",\r\n                                    description: \"\",\r\n                                },\r\n                            },\r\n                            description: \"System state\",\r\n                            context: {},\r\n                        };\r\n                        createMetricsMsg = {\r\n                            type: \"define\",\r\n                            metrics: [metric],\r\n                        };\r\n                        session.send(createMetricsMsg);\r\n                        return [2];\r\n                }\r\n            });\r\n        }); };\r\n        var updateSystem = function (system, state) { return __awaiter$1(_this, void 0, void 0, function () {\r\n            var shadowedUpdateMetric, stateObj, rootMetric;\r\n            return __generator$1(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4, joinPromise];\r\n                    case 1:\r\n                        _a.sent();\r\n                        shadowedUpdateMetric = {\r\n                            type: \"publish\",\r\n                            values: [{\r\n                                    name: normalizeMetricName(system.path.join(\"/\") + \"/\" + system.name + \"/State\"),\r\n                                    value: {\r\n                                        Description: state.description,\r\n                                        Value: state.state,\r\n                                    },\r\n                                    timestamp: Date.now(),\r\n                                }],\r\n                        };\r\n                        session.send(shadowedUpdateMetric);\r\n                        stateObj = composeMsgForRootStateMetric(system);\r\n                        rootMetric = {\r\n                            type: \"publish\",\r\n                            peer_id: connection.peerId,\r\n                            values: [{\r\n                                    name: \"/State\",\r\n                                    value: {\r\n                                        Description: stateObj.description,\r\n                                        Value: stateObj.value,\r\n                                    },\r\n                                    timestamp: Date.now(),\r\n                                }],\r\n                        };\r\n                        session.send(rootMetric);\r\n                        return [2];\r\n                }\r\n            });\r\n        }); };\r\n        var createMetric = function (metric) { return __awaiter$1(_this, void 0, void 0, function () {\r\n            var metricClone, m, createMetricsMsg;\r\n            return __generator$1(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        metricClone = cloneMetric(metric);\r\n                        return [4, joinPromise];\r\n                    case 1:\r\n                        _a.sent();\r\n                        m = serializeMetric(metricClone);\r\n                        createMetricsMsg = {\r\n                            type: \"define\",\r\n                            metrics: [m],\r\n                        };\r\n                        session.send(createMetricsMsg);\r\n                        if (typeof metricClone.value !== \"undefined\") {\r\n                            updateMetricCore(metricClone);\r\n                        }\r\n                        return [2];\r\n                }\r\n            });\r\n        }); };\r\n        var updateMetric = function (metric) { return __awaiter$1(_this, void 0, void 0, function () {\r\n            var metricClone;\r\n            return __generator$1(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        metricClone = cloneMetric(metric);\r\n                        return [4, joinPromise];\r\n                    case 1:\r\n                        _a.sent();\r\n                        updateMetricCore(metricClone);\r\n                        return [2];\r\n                }\r\n            });\r\n        }); };\r\n        var updateMetricCore = function (metric) {\r\n            if (canUpdate()) {\r\n                var value = getMetricValueByType(metric);\r\n                var publishMetricsMsg = {\r\n                    type: \"publish\",\r\n                    values: [{\r\n                            name: normalizeMetricName(metric.path.join(\"/\") + \"/\" + metric.name),\r\n                            value: value,\r\n                            timestamp: Date.now(),\r\n                        }],\r\n                };\r\n                return session.sendFireAndForget(publishMetricsMsg);\r\n            }\r\n            return Promise.resolve();\r\n        };\r\n        var cloneMetric = function (metric) {\r\n            var metricClone = __assign$1({}, metric);\r\n            if (typeof metric.value === \"object\" && metric.value !== null) {\r\n                metricClone.value = __assign$1({}, metric.value);\r\n            }\r\n            return metricClone;\r\n        };\r\n        var canUpdate = function () {\r\n            var _a;\r\n            try {\r\n                var func = (_a = config.canUpdateMetric) !== null && _a !== void 0 ? _a : (function () { return true; });\r\n                return func();\r\n            }\r\n            catch (_b) {\r\n                return true;\r\n            }\r\n        };\r\n        return {\r\n            init: init,\r\n            createSystem: createSystem,\r\n            updateSystem: updateSystem,\r\n            createMetric: createMetric,\r\n            updateMetric: updateMetric,\r\n        };\r\n    }\n\n    var Helpers = {\r\n        validate: function (definition, parent, transport) {\r\n            if (definition === null || typeof definition !== \"object\") {\r\n                throw new Error(\"Missing definition\");\r\n            }\r\n            if (parent === null || typeof parent !== \"object\") {\r\n                throw new Error(\"Missing parent\");\r\n            }\r\n            if (transport === null || typeof transport !== \"object\") {\r\n                throw new Error(\"Missing transport\");\r\n            }\r\n        },\r\n    };\n\n    var BaseMetric = (function () {\r\n        function BaseMetric(definition, system, transport, value, type) {\r\n            this.definition = definition;\r\n            this.system = system;\r\n            this.transport = transport;\r\n            this.value = value;\r\n            this.type = type;\r\n            this.path = [];\r\n            Helpers.validate(definition, system, transport);\r\n            this.path = system.path.slice(0);\r\n            this.path.push(system.name);\r\n            this.name = definition.name;\r\n            this.description = definition.description;\r\n            transport.createMetric(this);\r\n        }\r\n        Object.defineProperty(BaseMetric.prototype, \"repo\", {\r\n            get: function () {\r\n                var _a;\r\n                return (_a = this.system) === null || _a === void 0 ? void 0 : _a.repo;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(BaseMetric.prototype, \"id\", {\r\n            get: function () { return this.system.path + \"/\" + name; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        BaseMetric.prototype.update = function (newValue) {\r\n            this.value = newValue;\r\n            return this.transport.updateMetric(this);\r\n        };\r\n        return BaseMetric;\r\n    }());\n\n    var NumberMetric = (function (_super) {\r\n        __extends$1(NumberMetric, _super);\r\n        function NumberMetric(definition, system, transport, value) {\r\n            return _super.call(this, definition, system, transport, value, MetricTypes.NUMBER) || this;\r\n        }\r\n        NumberMetric.prototype.incrementBy = function (num) {\r\n            this.update(this.value + num);\r\n        };\r\n        NumberMetric.prototype.increment = function () {\r\n            this.incrementBy(1);\r\n        };\r\n        NumberMetric.prototype.decrement = function () {\r\n            this.incrementBy(-1);\r\n        };\r\n        NumberMetric.prototype.decrementBy = function (num) {\r\n            this.incrementBy(num * -1);\r\n        };\r\n        return NumberMetric;\r\n    }(BaseMetric));\n\n    var ObjectMetric = (function (_super) {\r\n        __extends$1(ObjectMetric, _super);\r\n        function ObjectMetric(definition, system, transport, value) {\r\n            return _super.call(this, definition, system, transport, value, MetricTypes.OBJECT) || this;\r\n        }\r\n        ObjectMetric.prototype.update = function (newValue) {\r\n            this.mergeValues(newValue);\r\n            return this.transport.updateMetric(this);\r\n        };\r\n        ObjectMetric.prototype.mergeValues = function (values) {\r\n            var _this = this;\r\n            return Object.keys(this.value).forEach(function (k) {\r\n                if (typeof values[k] !== \"undefined\") {\r\n                    _this.value[k] = values[k];\r\n                }\r\n            });\r\n        };\r\n        return ObjectMetric;\r\n    }(BaseMetric));\n\n    var StringMetric = (function (_super) {\r\n        __extends$1(StringMetric, _super);\r\n        function StringMetric(definition, system, transport, value) {\r\n            return _super.call(this, definition, system, transport, value, MetricTypes.STRING) || this;\r\n        }\r\n        return StringMetric;\r\n    }(BaseMetric));\n\n    var TimestampMetric = (function (_super) {\r\n        __extends$1(TimestampMetric, _super);\r\n        function TimestampMetric(definition, system, transport, value) {\r\n            return _super.call(this, definition, system, transport, value, MetricTypes.TIMESTAMP) || this;\r\n        }\r\n        TimestampMetric.prototype.now = function () {\r\n            this.update(new Date());\r\n        };\r\n        return TimestampMetric;\r\n    }(BaseMetric));\n\n    function system(name, repo, protocol, parent, description) {\r\n        if (!repo) {\r\n            throw new Error(\"Repository is required\");\r\n        }\r\n        if (!protocol) {\r\n            throw new Error(\"Transport is required\");\r\n        }\r\n        var _transport = protocol;\r\n        var _name = name;\r\n        var _description = description || \"\";\r\n        var _repo = repo;\r\n        var _parent = parent;\r\n        var _path = _buildPath(parent);\r\n        var _state = {};\r\n        var id = _arrayToString(_path, \"/\") + name;\r\n        var root = repo.root;\r\n        var _subSystems = [];\r\n        var _metrics = [];\r\n        function subSystem(nameSystem, descriptionSystem) {\r\n            if (!nameSystem || nameSystem.length === 0) {\r\n                throw new Error(\"name is required\");\r\n            }\r\n            var match = _subSystems.filter(function (s) { return s.name === nameSystem; });\r\n            if (match.length > 0) {\r\n                return match[0];\r\n            }\r\n            var _system = system(nameSystem, _repo, _transport, me, descriptionSystem);\r\n            _subSystems.push(_system);\r\n            return _system;\r\n        }\r\n        function setState(state, stateDescription) {\r\n            _state = { state: state, description: stateDescription };\r\n            _transport.updateSystem(me, _state);\r\n        }\r\n        function stringMetric(definition, value) {\r\n            return _getOrCreateMetric(definition, MetricTypes.STRING, value, function (metricDef) { return new StringMetric(metricDef, me, _transport, value); });\r\n        }\r\n        function numberMetric(definition, value) {\r\n            return _getOrCreateMetric(definition, MetricTypes.NUMBER, value, function (metricDef) { return new NumberMetric(metricDef, me, _transport, value); });\r\n        }\r\n        function objectMetric(definition, value) {\r\n            return _getOrCreateMetric(definition, MetricTypes.OBJECT, value, function (metricDef) { return new ObjectMetric(metricDef, me, _transport, value); });\r\n        }\r\n        function timestampMetric(definition, value) {\r\n            return _getOrCreateMetric(definition, MetricTypes.TIMESTAMP, value, function (metricDef) { return new TimestampMetric(metricDef, me, _transport, value); });\r\n        }\r\n        function _getOrCreateMetric(metricObject, expectedType, value, createMetric) {\r\n            var metricDef = { name: \"\" };\r\n            if (typeof metricObject === \"string\") {\r\n                metricDef = { name: metricObject };\r\n            }\r\n            else {\r\n                metricDef = metricObject;\r\n            }\r\n            var matching = _metrics.filter(function (shadowedMetric) { return shadowedMetric.name === metricDef.name; });\r\n            if (matching.length > 0) {\r\n                var existing = matching[0];\r\n                if (existing.type !== expectedType) {\r\n                    throw new Error(\"A metric named \" + metricDef.name + \" is already defined with different type.\");\r\n                }\r\n                if (typeof value !== \"undefined\") {\r\n                    existing\r\n                        .update(value)\r\n                        .catch(function () { });\r\n                }\r\n                return existing;\r\n            }\r\n            var metric = createMetric(metricDef);\r\n            _metrics.push(metric);\r\n            return metric;\r\n        }\r\n        function _buildPath(shadowedSystem) {\r\n            if (!shadowedSystem || !shadowedSystem.parent) {\r\n                return [];\r\n            }\r\n            var path = _buildPath(shadowedSystem.parent);\r\n            path.push(shadowedSystem.name);\r\n            return path;\r\n        }\r\n        function _arrayToString(path, separator) {\r\n            return ((path && path.length > 0) ? path.join(separator) : \"\");\r\n        }\r\n        function getAggregateState() {\r\n            var aggState = [];\r\n            if (Object.keys(_state).length > 0) {\r\n                aggState.push({\r\n                    name: _name,\r\n                    path: _path,\r\n                    state: _state.state,\r\n                    description: _state.description,\r\n                });\r\n            }\r\n            _subSystems.forEach(function (shadowedSubSystem) {\r\n                var result = shadowedSubSystem.getAggregateState();\r\n                if (result.length > 0) {\r\n                    aggState.push.apply(aggState, result);\r\n                }\r\n            });\r\n            return aggState;\r\n        }\r\n        var me = {\r\n            get name() {\r\n                return _name;\r\n            },\r\n            get description() {\r\n                return _description;\r\n            },\r\n            get repo() {\r\n                return _repo;\r\n            },\r\n            get parent() {\r\n                return _parent;\r\n            },\r\n            path: _path,\r\n            id: id,\r\n            root: root,\r\n            get subSystems() {\r\n                return _subSystems;\r\n            },\r\n            get metrics() {\r\n                return _metrics;\r\n            },\r\n            subSystem: subSystem,\r\n            getState: function () {\r\n                return _state;\r\n            },\r\n            setState: setState,\r\n            stringMetric: stringMetric,\r\n            timestampMetric: timestampMetric,\r\n            objectMetric: objectMetric,\r\n            numberMetric: numberMetric,\r\n            getAggregateState: getAggregateState,\r\n        };\r\n        _transport.createSystem(me);\r\n        return me;\r\n    }\n\n    var Repository = (function () {\r\n        function Repository(options, protocol) {\r\n            protocol.init(this);\r\n            this.root = system(\"\", this, protocol);\r\n            this.addSystemMetrics(this.root, options.clickStream || options.clickStream === undefined);\r\n        }\r\n        Repository.prototype.addSystemMetrics = function (rootSystem, useClickStream) {\r\n            if (typeof navigator !== \"undefined\") {\r\n                rootSystem.stringMetric(\"UserAgent\", navigator.userAgent);\r\n            }\r\n            if (useClickStream && typeof document !== \"undefined\") {\r\n                var clickStream_1 = rootSystem.subSystem(\"ClickStream\");\r\n                var documentClickHandler = function (e) {\r\n                    if (!e.target) {\r\n                        return;\r\n                    }\r\n                    var target = e.target;\r\n                    clickStream_1.objectMetric(\"LastBrowserEvent\", {\r\n                        type: \"click\",\r\n                        timestamp: new Date(),\r\n                        target: {\r\n                            className: e.target ? target.className : \"\",\r\n                            id: target.id,\r\n                            type: \"<\" + target.tagName.toLowerCase() + \">\",\r\n                            href: target.href || \"\",\r\n                        },\r\n                    });\r\n                };\r\n                clickStream_1.objectMetric(\"Page\", {\r\n                    title: document.title,\r\n                    page: window.location.href,\r\n                });\r\n                if (document.addEventListener) {\r\n                    document.addEventListener(\"click\", documentClickHandler);\r\n                }\r\n                else {\r\n                    document.attachEvent(\"onclick\", documentClickHandler);\r\n                }\r\n            }\r\n            var startTime = rootSystem.stringMetric(\"StartTime\", (new Date()).toString());\r\n            var urlMetric = rootSystem.stringMetric(\"StartURL\", \"\");\r\n            var appNameMetric = rootSystem.stringMetric(\"AppName\", \"\");\r\n            if (typeof window !== \"undefined\") {\r\n                if (typeof window.location !== \"undefined\") {\r\n                    var startUrl = window.location.href;\r\n                    urlMetric.update(startUrl);\r\n                }\r\n                if (typeof window.glue42gd !== \"undefined\") {\r\n                    appNameMetric.update(window.glue42gd.appName);\r\n                }\r\n            }\r\n        };\r\n        return Repository;\r\n    }());\n\n    var NullProtocol = (function () {\r\n        function NullProtocol() {\r\n        }\r\n        NullProtocol.prototype.init = function (repo) {\r\n        };\r\n        NullProtocol.prototype.createSystem = function (system) {\r\n            return Promise.resolve();\r\n        };\r\n        NullProtocol.prototype.updateSystem = function (metric, state) {\r\n            return Promise.resolve();\r\n        };\r\n        NullProtocol.prototype.createMetric = function (metric) {\r\n            return Promise.resolve();\r\n        };\r\n        NullProtocol.prototype.updateMetric = function (metric) {\r\n            return Promise.resolve();\r\n        };\r\n        return NullProtocol;\r\n    }());\n\n    var PerfTracker = (function () {\r\n        function PerfTracker(api, initialPublishTimeout, publishInterval) {\r\n            this.api = api;\r\n            this.lastCount = 0;\r\n            this.initialPublishTimeout = 10 * 1000;\r\n            this.publishInterval = 60 * 1000;\r\n            this.initialPublishTimeout = initialPublishTimeout !== null && initialPublishTimeout !== void 0 ? initialPublishTimeout : this.initialPublishTimeout;\r\n            this.publishInterval = publishInterval !== null && publishInterval !== void 0 ? publishInterval : this.publishInterval;\r\n            this.scheduleCollection();\r\n            this.system = this.api.subSystem(\"performance\", \"Performance data published by the web application\");\r\n        }\r\n        PerfTracker.prototype.scheduleCollection = function () {\r\n            var _this = this;\r\n            setTimeout(function () {\r\n                _this.collect();\r\n                setInterval(function () {\r\n                    _this.collect();\r\n                }, _this.publishInterval);\r\n            }, this.initialPublishTimeout);\r\n        };\r\n        PerfTracker.prototype.collect = function () {\r\n            try {\r\n                this.collectMemory();\r\n                this.collectEntries();\r\n            }\r\n            catch (_a) {\r\n            }\r\n        };\r\n        PerfTracker.prototype.collectMemory = function () {\r\n            var memory = window.performance.memory;\r\n            this.system.stringMetric(\"memory\", JSON.stringify({\r\n                totalJSHeapSize: memory.totalJSHeapSize,\r\n                usedJSHeapSize: memory.usedJSHeapSize\r\n            }));\r\n        };\r\n        PerfTracker.prototype.collectEntries = function () {\r\n            var allEntries = window.performance.getEntries();\r\n            if (allEntries.length <= this.lastCount) {\r\n                return;\r\n            }\r\n            this.lastCount = allEntries.length;\r\n            var jsonfiedEntries = allEntries.map(function (i) { return i.toJSON(); });\r\n            this.system.stringMetric(\"entries\", JSON.stringify(jsonfiedEntries));\r\n        };\r\n        return PerfTracker;\r\n    }());\n\n    var metrics = (function (options) {\r\n        var protocol;\r\n        if (!options.connection || typeof options.connection !== \"object\") {\r\n            protocol = new NullProtocol();\r\n        }\r\n        else {\r\n            protocol = gw3(options.connection, options);\r\n        }\r\n        var repo = new Repository(options, protocol);\r\n        var rootSystem = repo.root;\r\n        if (!options.disableAutoAppSystem) {\r\n            rootSystem = rootSystem.subSystem(\"App\");\r\n        }\r\n        var api = addFAVSupport(rootSystem);\r\n        initPerf(api, options.pagePerformanceMetrics);\r\n        return api;\r\n    });\r\n    var perf;\r\n    function initPerf(api, config) {\r\n        var _a, _b;\r\n        if (typeof window === \"undefined\") {\r\n            return;\r\n        }\r\n        var perfConfig = (_b = (_a = window === null || window === void 0 ? void 0 : window.glue42gd) === null || _a === void 0 ? void 0 : _a.metrics) === null || _b === void 0 ? void 0 : _b.pagePerformanceMetrics;\r\n        if (perfConfig) {\r\n            config = perfConfig;\r\n        }\r\n        if (config === null || config === void 0 ? void 0 : config.enabled) {\r\n            perf = new PerfTracker(api, config.initialPublishTimeout, config.publishInterval);\r\n        }\r\n    }\r\n    function addFAVSupport(system) {\r\n        var reportingSystem = system.subSystem(\"reporting\");\r\n        var def = {\r\n            name: \"features\"\r\n        };\r\n        var featureMetric;\r\n        var featureMetricFunc = function (name, action, payload) {\r\n            if (typeof name === \"undefined\" || name === \"\") {\r\n                throw new Error(\"name is mandatory\");\r\n            }\r\n            else if (typeof action === \"undefined\" || action === \"\") {\r\n                throw new Error(\"action is mandatory\");\r\n            }\r\n            else if (typeof payload === \"undefined\" || payload === \"\") {\r\n                throw new Error(\"payload is mandatory\");\r\n            }\r\n            if (!featureMetric) {\r\n                featureMetric = reportingSystem.objectMetric(def, { name: name, action: action, payload: payload });\r\n            }\r\n            else {\r\n                featureMetric.update({\r\n                    name: name,\r\n                    action: action,\r\n                    payload: payload\r\n                });\r\n            }\r\n        };\r\n        system.featureMetric = featureMetricFunc;\r\n        return system;\r\n    }\n\n    function createRegistry(options) {\r\n        if (options && options.errorHandling\r\n            && typeof options.errorHandling !== \"function\"\r\n            && options.errorHandling !== \"log\"\r\n            && options.errorHandling !== \"silent\"\r\n            && options.errorHandling !== \"throw\") {\r\n            throw new Error(\"Invalid options passed to createRegistry. Prop errorHandling should be [\\\"log\\\" | \\\"silent\\\" | \\\"throw\\\" | (err) => void], but \" + typeof options.errorHandling + \" was passed\");\r\n        }\r\n        var _userErrorHandler = options && typeof options.errorHandling === \"function\" && options.errorHandling;\r\n        var callbacks = {};\r\n        function add(key, callback, replayArgumentsArr) {\r\n            var callbacksForKey = callbacks[key];\r\n            if (!callbacksForKey) {\r\n                callbacksForKey = [];\r\n                callbacks[key] = callbacksForKey;\r\n            }\r\n            callbacksForKey.push(callback);\r\n            if (replayArgumentsArr) {\r\n                setTimeout(function () {\r\n                    replayArgumentsArr.forEach(function (replayArgument) {\r\n                        var _a;\r\n                        if ((_a = callbacks[key]) === null || _a === void 0 ? void 0 : _a.includes(callback)) {\r\n                            try {\r\n                                if (Array.isArray(replayArgument)) {\r\n                                    callback.apply(undefined, replayArgument);\r\n                                }\r\n                                else {\r\n                                    callback.apply(undefined, [replayArgument]);\r\n                                }\r\n                            }\r\n                            catch (err) {\r\n                                _handleError(err, key);\r\n                            }\r\n                        }\r\n                    });\r\n                }, 0);\r\n            }\r\n            return function () {\r\n                var allForKey = callbacks[key];\r\n                if (!allForKey) {\r\n                    return;\r\n                }\r\n                allForKey = allForKey.reduce(function (acc, element, index) {\r\n                    if (!(element === callback && acc.length === index)) {\r\n                        acc.push(element);\r\n                    }\r\n                    return acc;\r\n                }, []);\r\n                if (allForKey.length === 0) {\r\n                    delete callbacks[key];\r\n                }\r\n                else {\r\n                    callbacks[key] = allForKey;\r\n                }\r\n            };\r\n        }\r\n        function execute(key) {\r\n            var argumentsArr = [];\r\n            for (var _i = 1; _i < arguments.length; _i++) {\r\n                argumentsArr[_i - 1] = arguments[_i];\r\n            }\r\n            var callbacksForKey = callbacks[key];\r\n            if (!callbacksForKey || callbacksForKey.length === 0) {\r\n                return [];\r\n            }\r\n            var results = [];\r\n            callbacksForKey.forEach(function (callback) {\r\n                try {\r\n                    var result = callback.apply(undefined, argumentsArr);\r\n                    results.push(result);\r\n                }\r\n                catch (err) {\r\n                    results.push(undefined);\r\n                    _handleError(err, key);\r\n                }\r\n            });\r\n            return results;\r\n        }\r\n        function _handleError(exceptionArtifact, key) {\r\n            var errParam = exceptionArtifact instanceof Error ? exceptionArtifact : new Error(exceptionArtifact);\r\n            if (_userErrorHandler) {\r\n                _userErrorHandler(errParam);\r\n                return;\r\n            }\r\n            var msg = \"[ERROR] callback-registry: User callback for key \\\"\" + key + \"\\\" failed: \" + errParam.stack;\r\n            if (options) {\r\n                switch (options.errorHandling) {\r\n                    case \"log\":\r\n                        return console.error(msg);\r\n                    case \"silent\":\r\n                        return;\r\n                    case \"throw\":\r\n                        throw new Error(msg);\r\n                }\r\n            }\r\n            console.error(msg);\r\n        }\r\n        function clear() {\r\n            callbacks = {};\r\n        }\r\n        function clearKey(key) {\r\n            var callbacksForKey = callbacks[key];\r\n            if (!callbacksForKey) {\r\n                return;\r\n            }\r\n            delete callbacks[key];\r\n        }\r\n        return {\r\n            add: add,\r\n            execute: execute,\r\n            clear: clear,\r\n            clearKey: clearKey\r\n        };\r\n    }\r\n    createRegistry.default = createRegistry;\r\n    var lib = createRegistry;\n\n    var InProcTransport = (function () {\r\n        function InProcTransport(settings, logger) {\r\n            var _this = this;\r\n            this.registry = lib();\r\n            this.gw = settings.facade;\r\n            this.gw.connect(function (_client, message) {\r\n                _this.messageHandler(message);\r\n            }).then(function (client) {\r\n                _this.client = client;\r\n            });\r\n        }\r\n        Object.defineProperty(InProcTransport.prototype, \"isObjectBasedTransport\", {\r\n            get: function () {\r\n                return true;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        InProcTransport.prototype.sendObject = function (msg) {\r\n            if (this.client) {\r\n                this.client.send(msg);\r\n                return Promise.resolve(undefined);\r\n            }\r\n            else {\r\n                return Promise.reject(\"not connected\");\r\n            }\r\n        };\r\n        InProcTransport.prototype.send = function (_msg) {\r\n            return Promise.reject(\"not supported\");\r\n        };\r\n        InProcTransport.prototype.onMessage = function (callback) {\r\n            return this.registry.add(\"onMessage\", callback);\r\n        };\r\n        InProcTransport.prototype.onConnectedChanged = function (callback) {\r\n            callback(true);\r\n        };\r\n        InProcTransport.prototype.close = function () {\r\n            return Promise.resolve();\r\n        };\r\n        InProcTransport.prototype.open = function () {\r\n            return Promise.resolve();\r\n        };\r\n        InProcTransport.prototype.name = function () {\r\n            return \"in-memory\";\r\n        };\r\n        InProcTransport.prototype.reconnect = function () {\r\n            return Promise.resolve();\r\n        };\r\n        InProcTransport.prototype.messageHandler = function (msg) {\r\n            this.registry.execute(\"onMessage\", msg);\r\n        };\r\n        return InProcTransport;\r\n    }());\n\n    var SharedWorkerTransport = (function () {\r\n        function SharedWorkerTransport(workerFile, logger) {\r\n            var _this = this;\r\n            this.logger = logger;\r\n            this.registry = lib();\r\n            this.worker = new SharedWorker(workerFile);\r\n            this.worker.port.onmessage = function (e) {\r\n                _this.messageHandler(e.data);\r\n            };\r\n        }\r\n        Object.defineProperty(SharedWorkerTransport.prototype, \"isObjectBasedTransport\", {\r\n            get: function () {\r\n                return true;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        SharedWorkerTransport.prototype.sendObject = function (msg) {\r\n            this.worker.port.postMessage(msg);\r\n            return Promise.resolve();\r\n        };\r\n        SharedWorkerTransport.prototype.send = function (_msg) {\r\n            return Promise.reject(\"not supported\");\r\n        };\r\n        SharedWorkerTransport.prototype.onMessage = function (callback) {\r\n            return this.registry.add(\"onMessage\", callback);\r\n        };\r\n        SharedWorkerTransport.prototype.onConnectedChanged = function (callback) {\r\n            callback(true);\r\n        };\r\n        SharedWorkerTransport.prototype.close = function () {\r\n            return Promise.resolve();\r\n        };\r\n        SharedWorkerTransport.prototype.open = function () {\r\n            return Promise.resolve();\r\n        };\r\n        SharedWorkerTransport.prototype.name = function () {\r\n            return \"shared-worker\";\r\n        };\r\n        SharedWorkerTransport.prototype.reconnect = function () {\r\n            return Promise.resolve();\r\n        };\r\n        SharedWorkerTransport.prototype.messageHandler = function (msg) {\r\n            this.registry.execute(\"onMessage\", msg);\r\n        };\r\n        return SharedWorkerTransport;\r\n    }());\n\n    var Utils = (function () {\r\n        function Utils() {\r\n        }\r\n        Utils.getGDMajorVersion = function () {\r\n            if (typeof window === \"undefined\") {\r\n                return undefined;\r\n            }\r\n            if (!window.glueDesktop) {\r\n                return undefined;\r\n            }\r\n            if (!window.glueDesktop.version) {\r\n                return undefined;\r\n            }\r\n            var ver = Number(window.glueDesktop.version.substr(0, 1));\r\n            return isNaN(ver) ? undefined : ver;\r\n        };\r\n        Utils.isNode = function () {\r\n            if (typeof Utils._isNode !== \"undefined\") {\r\n                return Utils._isNode;\r\n            }\r\n            if (typeof window !== \"undefined\") {\r\n                Utils._isNode = false;\r\n                return false;\r\n            }\r\n            try {\r\n                Utils._isNode = Object.prototype.toString.call(global.process) === \"[object process]\";\r\n            }\r\n            catch (e) {\r\n                Utils._isNode = false;\r\n            }\r\n            return Utils._isNode;\r\n        };\r\n        return Utils;\r\n    }());\n\n    var PromiseWrapper = (function () {\r\n        function PromiseWrapper() {\r\n            var _this = this;\r\n            this.rejected = false;\r\n            this.resolved = false;\r\n            this.promise = new Promise(function (resolve, reject) {\r\n                _this.resolve = function (t) {\r\n                    _this.resolved = true;\r\n                    resolve(t);\r\n                };\r\n                _this.reject = function (err) {\r\n                    _this.rejected = true;\r\n                    reject(err);\r\n                };\r\n            });\r\n        }\r\n        PromiseWrapper.delay = function (time) {\r\n            return new Promise(function (resolve) { return setTimeout(resolve, time); });\r\n        };\r\n        Object.defineProperty(PromiseWrapper.prototype, \"ended\", {\r\n            get: function () {\r\n                return this.rejected || this.resolved;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        return PromiseWrapper;\r\n    }());\n\n    var timers = {};\r\n    function getAllTimers() {\r\n        return timers;\r\n    }\r\n    function timer (timerName) {\r\n        var existing = timers[timerName];\r\n        if (existing) {\r\n            return existing;\r\n        }\r\n        var marks = [];\r\n        function now() {\r\n            return new Date().getTime();\r\n        }\r\n        var startTime = now();\r\n        mark(\"start\", startTime);\r\n        var endTime;\r\n        var period;\r\n        function stop() {\r\n            endTime = now();\r\n            mark(\"end\", endTime);\r\n            period = endTime - startTime;\r\n            return period;\r\n        }\r\n        function mark(name, time) {\r\n            var currentTime = time !== null && time !== void 0 ? time : now();\r\n            var diff = 0;\r\n            if (marks.length > 0) {\r\n                diff = currentTime - marks[marks.length - 1].time;\r\n            }\r\n            marks.push({ name: name, time: currentTime, diff: diff });\r\n        }\r\n        var timerObj = {\r\n            get startTime() {\r\n                return startTime;\r\n            },\r\n            get endTime() {\r\n                return endTime;\r\n            },\r\n            get period() {\r\n                return period;\r\n            },\r\n            stop: stop,\r\n            mark: mark,\r\n            marks: marks\r\n        };\r\n        timers[timerName] = timerObj;\r\n        return timerObj;\r\n    }\n\n    var WebSocketConstructor = Utils.isNode() ? null : window.WebSocket;\r\n    var WS = (function () {\r\n        function WS(settings, logger) {\r\n            this.startupTimer = timer(\"connection\");\r\n            this._running = true;\r\n            this._registry = lib();\r\n            this.wsRequests = [];\r\n            this.settings = settings;\r\n            this.logger = logger;\r\n            if (!this.settings.ws) {\r\n                throw new Error(\"ws is missing\");\r\n            }\r\n        }\r\n        WS.prototype.onMessage = function (callback) {\r\n            return this._registry.add(\"onMessage\", callback);\r\n        };\r\n        WS.prototype.send = function (msg, options) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.waitForSocketConnection(function () {\r\n                    var _a;\r\n                    try {\r\n                        (_a = _this.ws) === null || _a === void 0 ? void 0 : _a.send(msg);\r\n                        resolve();\r\n                    }\r\n                    catch (e) {\r\n                        reject(e);\r\n                    }\r\n                }, reject);\r\n            });\r\n        };\r\n        WS.prototype.open = function () {\r\n            var _this = this;\r\n            this.logger.info(\"opening ws...\");\r\n            this._running = true;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.waitForSocketConnection(resolve, reject);\r\n            });\r\n        };\r\n        WS.prototype.close = function () {\r\n            this._running = false;\r\n            if (this.ws) {\r\n                this.ws.close();\r\n            }\r\n            return Promise.resolve();\r\n        };\r\n        WS.prototype.onConnectedChanged = function (callback) {\r\n            return this._registry.add(\"onConnectedChanged\", callback);\r\n        };\r\n        WS.prototype.name = function () {\r\n            return \"ws \" + this.settings.ws;\r\n        };\r\n        WS.prototype.reconnect = function () {\r\n            var _a;\r\n            (_a = this.ws) === null || _a === void 0 ? void 0 : _a.close();\r\n            var pw = new PromiseWrapper();\r\n            this.waitForSocketConnection(function () {\r\n                pw.resolve();\r\n            });\r\n            return pw.promise;\r\n        };\r\n        WS.prototype.waitForSocketConnection = function (callback, failed) {\r\n            var _a;\r\n            failed = failed !== null && failed !== void 0 ? failed : (function () { });\r\n            if (!this._running) {\r\n                failed(\"wait for socket on \" + this.settings.ws + \" failed - socket closed by user\");\r\n                return;\r\n            }\r\n            if (((_a = this.ws) === null || _a === void 0 ? void 0 : _a.readyState) === 1) {\r\n                callback();\r\n                return;\r\n            }\r\n            this.wsRequests.push({ callback: callback, failed: failed });\r\n            if (this.wsRequests.length > 1) {\r\n                return;\r\n            }\r\n            this.openSocket();\r\n        };\r\n        WS.prototype.openSocket = function (retryInterval, retriesLeft) {\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var _a;\r\n                var _this = this;\r\n                return __generator$1(this, function (_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            this.startupTimer.mark(\"opening-socket\");\r\n                            if (retryInterval === undefined) {\r\n                                retryInterval = this.settings.reconnectInterval;\r\n                            }\r\n                            if (retriesLeft !== undefined) {\r\n                                if (retriesLeft === 0) {\r\n                                    this.notifyForSocketState(\"wait for socket on \" + this.settings.ws + \" failed - no more retries left\");\r\n                                    return [2];\r\n                                }\r\n                                this.logger.debug(\"will retry \" + retriesLeft + \" more times (every \" + retryInterval + \" ms)\");\r\n                            }\r\n                            _b.label = 1;\r\n                        case 1:\r\n                            _b.trys.push([1, 3, , 4]);\r\n                            return [4, this.initiateSocket()];\r\n                        case 2:\r\n                            _b.sent();\r\n                            this.startupTimer.mark(\"socket-initiated\");\r\n                            this.notifyForSocketState();\r\n                            return [3, 4];\r\n                        case 3:\r\n                            _a = _b.sent();\r\n                            setTimeout(function () {\r\n                                var retries = retriesLeft === undefined ? undefined : retriesLeft - 1;\r\n                                _this.openSocket(retryInterval, retries);\r\n                            }, retryInterval);\r\n                            return [3, 4];\r\n                        case 4: return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        WS.prototype.initiateSocket = function () {\r\n            var _this = this;\r\n            var pw = new PromiseWrapper();\r\n            this.logger.debug(\"initiating ws to \" + this.settings.ws + \"...\");\r\n            this.ws = new WebSocketConstructor(this.settings.ws || \"\");\r\n            this.ws.onerror = function (err) {\r\n                var reason = \"\";\r\n                try {\r\n                    reason = JSON.stringify(err);\r\n                }\r\n                catch (error) {\r\n                    var seen_1 = new WeakSet();\r\n                    var replacer = function (key, value) {\r\n                        if (typeof value === \"object\" && value !== null) {\r\n                            if (seen_1.has(value)) {\r\n                                return;\r\n                            }\r\n                            seen_1.add(value);\r\n                        }\r\n                        return value;\r\n                    };\r\n                    reason = JSON.stringify(err, replacer);\r\n                }\r\n                pw.reject(\"error\");\r\n                _this.notifyStatusChanged(false, reason);\r\n            };\r\n            this.ws.onclose = function (err) {\r\n                _this.logger.info(\"ws closed \" + err);\r\n                pw.reject(\"closed\");\r\n                _this.notifyStatusChanged(false);\r\n            };\r\n            this.ws.onopen = function () {\r\n                var _a;\r\n                _this.startupTimer.mark(\"ws-opened\");\r\n                _this.logger.info(\"ws opened \" + ((_a = _this.settings.identity) === null || _a === void 0 ? void 0 : _a.application));\r\n                pw.resolve();\r\n                _this.notifyStatusChanged(true);\r\n            };\r\n            this.ws.onmessage = function (message) {\r\n                _this._registry.execute(\"onMessage\", message.data);\r\n            };\r\n            return pw.promise;\r\n        };\r\n        WS.prototype.notifyForSocketState = function (error) {\r\n            this.wsRequests.forEach(function (wsRequest) {\r\n                if (error) {\r\n                    if (wsRequest.failed) {\r\n                        wsRequest.failed(error);\r\n                    }\r\n                }\r\n                else {\r\n                    wsRequest.callback();\r\n                }\r\n            });\r\n            this.wsRequests = [];\r\n        };\r\n        WS.prototype.notifyStatusChanged = function (status, reason) {\r\n            this._registry.execute(\"onConnectedChanged\", status, reason);\r\n        };\r\n        return WS;\r\n    }());\n\n    function createCommonjsModule(fn, module) {\n    \treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n    }\n\n    // Found this seed-based random generator somewhere\n    // Based on The Central Randomizer 1.3 (C) 1997 by Paul Houle (houle@msc.cornell.edu)\n\n    var seed = 1;\n\n    /**\n     * return a random number based on a seed\n     * @param seed\n     * @returns {number}\n     */\n    function getNextValue() {\n        seed = (seed * 9301 + 49297) % 233280;\n        return seed/(233280.0);\n    }\n\n    function setSeed(_seed_) {\n        seed = _seed_;\n    }\n\n    var randomFromSeed = {\n        nextValue: getNextValue,\n        seed: setSeed\n    };\n\n    var ORIGINAL = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-';\n    var alphabet;\n    var previousSeed;\n\n    var shuffled;\n\n    function reset() {\n        shuffled = false;\n    }\n\n    function setCharacters(_alphabet_) {\n        if (!_alphabet_) {\n            if (alphabet !== ORIGINAL) {\n                alphabet = ORIGINAL;\n                reset();\n            }\n            return;\n        }\n\n        if (_alphabet_ === alphabet) {\n            return;\n        }\n\n        if (_alphabet_.length !== ORIGINAL.length) {\n            throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. You submitted ' + _alphabet_.length + ' characters: ' + _alphabet_);\n        }\n\n        var unique = _alphabet_.split('').filter(function(item, ind, arr){\n           return ind !== arr.lastIndexOf(item);\n        });\n\n        if (unique.length) {\n            throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. These characters were not unique: ' + unique.join(', '));\n        }\n\n        alphabet = _alphabet_;\n        reset();\n    }\n\n    function characters(_alphabet_) {\n        setCharacters(_alphabet_);\n        return alphabet;\n    }\n\n    function setSeed$1(seed) {\n        randomFromSeed.seed(seed);\n        if (previousSeed !== seed) {\n            reset();\n            previousSeed = seed;\n        }\n    }\n\n    function shuffle() {\n        if (!alphabet) {\n            setCharacters(ORIGINAL);\n        }\n\n        var sourceArray = alphabet.split('');\n        var targetArray = [];\n        var r = randomFromSeed.nextValue();\n        var characterIndex;\n\n        while (sourceArray.length > 0) {\n            r = randomFromSeed.nextValue();\n            characterIndex = Math.floor(r * sourceArray.length);\n            targetArray.push(sourceArray.splice(characterIndex, 1)[0]);\n        }\n        return targetArray.join('');\n    }\n\n    function getShuffled() {\n        if (shuffled) {\n            return shuffled;\n        }\n        shuffled = shuffle();\n        return shuffled;\n    }\n\n    /**\n     * lookup shuffled letter\n     * @param index\n     * @returns {string}\n     */\n    function lookup(index) {\n        var alphabetShuffled = getShuffled();\n        return alphabetShuffled[index];\n    }\n\n    var alphabet_1 = {\n        characters: characters,\n        seed: setSeed$1,\n        lookup: lookup,\n        shuffled: getShuffled\n    };\n\n    var crypto = typeof window === 'object' && (window.crypto || window.msCrypto); // IE 11 uses window.msCrypto\n\n    function randomByte() {\n        if (!crypto || !crypto.getRandomValues) {\n            return Math.floor(Math.random() * 256) & 0x30;\n        }\n        var dest = new Uint8Array(1);\n        crypto.getRandomValues(dest);\n        return dest[0] & 0x30;\n    }\n\n    var randomByteBrowser = randomByte;\n\n    function encode(lookup, number) {\n        var loopCounter = 0;\n        var done;\n\n        var str = '';\n\n        while (!done) {\n            str = str + lookup( ( (number >> (4 * loopCounter)) & 0x0f ) | randomByteBrowser() );\n            done = number < (Math.pow(16, loopCounter + 1 ) );\n            loopCounter++;\n        }\n        return str;\n    }\n\n    var encode_1 = encode;\n\n    /**\n     * Decode the id to get the version and worker\n     * Mainly for debugging and testing.\n     * @param id - the shortid-generated id.\n     */\n    function decode(id) {\n        var characters = alphabet_1.shuffled();\n        return {\n            version: characters.indexOf(id.substr(0, 1)) & 0x0f,\n            worker: characters.indexOf(id.substr(1, 1)) & 0x0f\n        };\n    }\n\n    var decode_1 = decode;\n\n    function isShortId(id) {\n        if (!id || typeof id !== 'string' || id.length < 6 ) {\n            return false;\n        }\n\n        var characters = alphabet_1.characters();\n        var len = id.length;\n        for(var i = 0; i < len;i++) {\n            if (characters.indexOf(id[i]) === -1) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    var isValid = isShortId;\n\n    var lib$1 = createCommonjsModule(function (module) {\n\n\n\n\n\n\n    // Ignore all milliseconds before a certain time to reduce the size of the date entropy without sacrificing uniqueness.\n    // This number should be updated every year or so to keep the generated id short.\n    // To regenerate `new Date() - 0` and bump the version. Always bump the version!\n    var REDUCE_TIME = 1459707606518;\n\n    // don't change unless we change the algos or REDUCE_TIME\n    // must be an integer and less than 16\n    var version = 6;\n\n    // if you are using cluster or multiple servers use this to make each instance\n    // has a unique value for worker\n    // Note: I don't know if this is automatically set when using third\n    // party cluster solutions such as pm2.\n    var clusterWorkerId =  0;\n\n    // Counter is used when shortid is called multiple times in one second.\n    var counter;\n\n    // Remember the last time shortid was called in case counter is needed.\n    var previousSeconds;\n\n    /**\n     * Generate unique id\n     * Returns string id\n     */\n    function generate() {\n\n        var str = '';\n\n        var seconds = Math.floor((Date.now() - REDUCE_TIME) * 0.001);\n\n        if (seconds === previousSeconds) {\n            counter++;\n        } else {\n            counter = 0;\n            previousSeconds = seconds;\n        }\n\n        str = str + encode_1(alphabet_1.lookup, version);\n        str = str + encode_1(alphabet_1.lookup, clusterWorkerId);\n        if (counter > 0) {\n            str = str + encode_1(alphabet_1.lookup, counter);\n        }\n        str = str + encode_1(alphabet_1.lookup, seconds);\n\n        return str;\n    }\n\n\n    /**\n     * Set the seed.\n     * Highly recommended if you don't want people to try to figure out your id schema.\n     * exposed as shortid.seed(int)\n     * @param seed Integer value to seed the random alphabet.  ALWAYS USE THE SAME SEED or you might get overlaps.\n     */\n    function seed(seedValue) {\n        alphabet_1.seed(seedValue);\n        return module.exports;\n    }\n\n    /**\n     * Set the cluster worker or machine id\n     * exposed as shortid.worker(int)\n     * @param workerId worker must be positive integer.  Number less than 16 is recommended.\n     * returns shortid module so it can be chained.\n     */\n    function worker(workerId) {\n        clusterWorkerId = workerId;\n        return module.exports;\n    }\n\n    /**\n     *\n     * sets new characters to use in the alphabet\n     * returns the shuffled alphabet\n     */\n    function characters(newCharacters) {\n        if (newCharacters !== undefined) {\n            alphabet_1.characters(newCharacters);\n        }\n\n        return alphabet_1.shuffled();\n    }\n\n\n    // Export all other functions as properties of the generate function\n    module.exports = generate;\n    module.exports.generate = generate;\n    module.exports.seed = seed;\n    module.exports.worker = worker;\n    module.exports.characters = characters;\n    module.exports.decode = decode_1;\n    module.exports.isValid = isValid;\n    });\n    var lib_1 = lib$1.generate;\n    var lib_2 = lib$1.seed;\n    var lib_3 = lib$1.worker;\n    var lib_4 = lib$1.characters;\n    var lib_5 = lib$1.decode;\n    var lib_6 = lib$1.isValid;\n\n    var shortid = lib$1;\n\n    function domainSession (domain, connection, logger, successMessages, errorMessages) {\r\n        if (domain == null) {\r\n            domain = \"global\";\r\n        }\r\n        successMessages = successMessages || [\"success\"];\r\n        errorMessages = errorMessages || [\"error\"];\r\n        var isJoined = false;\r\n        var tryReconnecting = false;\r\n        var _latestOptions;\r\n        var _connectionOn = false;\r\n        var callbacks = lib();\r\n        connection.disconnected(handleConnectionDisconnected);\r\n        connection.loggedIn(handleConnectionLoggedIn);\r\n        connection.on(\"success\", function (msg) { return handleSuccessMessage(msg); });\r\n        connection.on(\"error\", function (msg) { return handleErrorMessage(msg); });\r\n        connection.on(\"result\", function (msg) { return handleSuccessMessage(msg); });\r\n        if (successMessages) {\r\n            successMessages.forEach(function (sm) {\r\n                connection.on(sm, function (msg) { return handleSuccessMessage(msg); });\r\n            });\r\n        }\r\n        if (errorMessages) {\r\n            errorMessages.forEach(function (sm) {\r\n                connection.on(sm, function (msg) { return handleErrorMessage(msg); });\r\n            });\r\n        }\r\n        var requestsMap = {};\r\n        function join(options) {\r\n            _latestOptions = options;\r\n            return new Promise(function (resolve, reject) {\r\n                if (isJoined) {\r\n                    resolve();\r\n                    return;\r\n                }\r\n                var joinPromise;\r\n                if (domain === \"global\") {\r\n                    joinPromise = _connectionOn ? Promise.resolve({}) : Promise.reject(\"not connected to gateway\");\r\n                }\r\n                else {\r\n                    logger.debug(\"joining domain \" + domain);\r\n                    var joinMsg = {\r\n                        type: \"join\",\r\n                        destination: domain,\r\n                        domain: \"global\",\r\n                        options: options,\r\n                    };\r\n                    joinPromise = send(joinMsg);\r\n                }\r\n                joinPromise\r\n                    .then(function () {\r\n                    handleJoined();\r\n                    resolve();\r\n                })\r\n                    .catch(function (err) {\r\n                    logger.debug(\"error joining \" + domain + \" domain: \" + JSON.stringify(err));\r\n                    reject(err);\r\n                });\r\n            });\r\n        }\r\n        function leave() {\r\n            if (domain === \"global\") {\r\n                return Promise.resolve();\r\n            }\r\n            logger.debug(\"stopping session \" + domain + \"...\");\r\n            var leaveMsg = {\r\n                type: \"leave\",\r\n                destination: domain,\r\n                domain: \"global\",\r\n            };\r\n            tryReconnecting = false;\r\n            return send(leaveMsg).then(function () {\r\n                isJoined = false;\r\n                callbacks.execute(\"onLeft\");\r\n            });\r\n        }\r\n        function handleJoined() {\r\n            logger.debug(\"did join \" + domain);\r\n            isJoined = true;\r\n            var wasReconnect = tryReconnecting;\r\n            tryReconnecting = false;\r\n            callbacks.execute(\"onJoined\", wasReconnect);\r\n        }\r\n        function handleConnectionDisconnected() {\r\n            _connectionOn = false;\r\n            logger.debug(\"connection is down\");\r\n            isJoined = false;\r\n            tryReconnecting = true;\r\n            callbacks.execute(\"onLeft\", { disconnected: true });\r\n        }\r\n        function handleConnectionLoggedIn() {\r\n            _connectionOn = true;\r\n            if (tryReconnecting) {\r\n                logger.debug(\"connection is now up - trying to reconnect...\");\r\n                join(_latestOptions);\r\n            }\r\n        }\r\n        function onJoined(callback) {\r\n            if (isJoined) {\r\n                callback(false);\r\n            }\r\n            return callbacks.add(\"onJoined\", callback);\r\n        }\r\n        function onLeft(callback) {\r\n            if (!isJoined) {\r\n                callback();\r\n            }\r\n            return callbacks.add(\"onLeft\", callback);\r\n        }\r\n        function handleErrorMessage(msg) {\r\n            if (domain !== msg.domain) {\r\n                return;\r\n            }\r\n            var requestId = msg.request_id;\r\n            if (!requestId) {\r\n                return;\r\n            }\r\n            var entry = requestsMap[requestId];\r\n            if (!entry) {\r\n                return;\r\n            }\r\n            entry.error(msg);\r\n        }\r\n        function handleSuccessMessage(msg) {\r\n            if (msg.domain !== domain) {\r\n                return;\r\n            }\r\n            var requestId = msg.request_id;\r\n            if (!requestId) {\r\n                return;\r\n            }\r\n            var entry = requestsMap[requestId];\r\n            if (!entry) {\r\n                return;\r\n            }\r\n            entry.success(msg);\r\n        }\r\n        function getNextRequestId() {\r\n            return shortid();\r\n        }\r\n        function send(msg, tag, options) {\r\n            options = options || {};\r\n            msg.request_id = msg.request_id || getNextRequestId();\r\n            msg.domain = msg.domain || domain;\r\n            if (!options.skipPeerId) {\r\n                msg.peer_id = connection.peerId;\r\n            }\r\n            var requestId = msg.request_id;\r\n            return new Promise(function (resolve, reject) {\r\n                requestsMap[requestId] = {\r\n                    success: function (successMsg) {\r\n                        delete requestsMap[requestId];\r\n                        successMsg._tag = tag;\r\n                        resolve(successMsg);\r\n                    },\r\n                    error: function (errorMsg) {\r\n                        logger.warn(\"GW error - \" + JSON.stringify(errorMsg) + \" for request \" + JSON.stringify(msg));\r\n                        delete requestsMap[requestId];\r\n                        errorMsg._tag = tag;\r\n                        reject(errorMsg);\r\n                    },\r\n                };\r\n                connection\r\n                    .send(msg, options)\r\n                    .catch(function (err) {\r\n                    requestsMap[requestId].error({ err: err });\r\n                });\r\n            });\r\n        }\r\n        function sendFireAndForget(msg) {\r\n            msg.request_id = msg.request_id ? msg.request_id : getNextRequestId();\r\n            msg.domain = msg.domain || domain;\r\n            msg.peer_id = connection.peerId;\r\n            return connection.send(msg);\r\n        }\r\n        return {\r\n            join: join,\r\n            leave: leave,\r\n            onJoined: onJoined,\r\n            onLeft: onLeft,\r\n            send: send,\r\n            sendFireAndForget: sendFireAndForget,\r\n            on: function (type, callback) {\r\n                connection.on(type, function (msg) {\r\n                    if (msg.domain !== domain) {\r\n                        return;\r\n                    }\r\n                    try {\r\n                        callback(msg);\r\n                    }\r\n                    catch (e) {\r\n                        logger.error(\"Callback  failed: \" + e + \" \\n \" + e.stack + \" \\n msg was: \" + JSON.stringify(msg), e);\r\n                    }\r\n                });\r\n            },\r\n            loggedIn: function (callback) { return connection.loggedIn(callback); },\r\n            connected: function (callback) { return connection.connected(callback); },\r\n            disconnected: function (callback) { return connection.disconnected(callback); },\r\n            get peerId() {\r\n                return connection.peerId;\r\n            },\r\n            get domain() {\r\n                return domain;\r\n            },\r\n        };\r\n    }\n\n    var GW3ProtocolImpl = (function () {\r\n        function GW3ProtocolImpl(connection, settings, logger) {\r\n            var _this = this;\r\n            this.connection = connection;\r\n            this.settings = settings;\r\n            this.logger = logger;\r\n            this.protocolVersion = 3;\r\n            this.datePrefix = \"#T42_DATE#\";\r\n            this.datePrefixLen = this.datePrefix.length;\r\n            this.dateMinLen = this.datePrefixLen + 1;\r\n            this.datePrefixFirstChar = this.datePrefix[0];\r\n            this.registry = lib();\r\n            this._isLoggedIn = false;\r\n            this.shouldTryLogin = true;\r\n            this.initialLogin = true;\r\n            this.initialLoginAttempts = 3;\r\n            this.sessions = [];\r\n            connection.disconnected(function () {\r\n                _this.handleDisconnected();\r\n            });\r\n            this.ping();\r\n        }\r\n        Object.defineProperty(GW3ProtocolImpl.prototype, \"isLoggedIn\", {\r\n            get: function () {\r\n                return this._isLoggedIn;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        GW3ProtocolImpl.prototype.processStringMessage = function (message) {\r\n            var _this = this;\r\n            var msg = JSON.parse(message, function (key, value) {\r\n                if (typeof value !== \"string\") {\r\n                    return value;\r\n                }\r\n                if (value.length < _this.dateMinLen) {\r\n                    return value;\r\n                }\r\n                if (value[0] !== _this.datePrefixFirstChar) {\r\n                    return value;\r\n                }\r\n                if (value.substring(0, _this.datePrefixLen) !== _this.datePrefix) {\r\n                    return value;\r\n                }\r\n                try {\r\n                    var milliseconds = parseInt(value.substring(_this.datePrefixLen, value.length), 10);\r\n                    if (isNaN(milliseconds)) {\r\n                        return value;\r\n                    }\r\n                    return new Date(milliseconds);\r\n                }\r\n                catch (ex) {\r\n                    return value;\r\n                }\r\n            });\r\n            return {\r\n                msg: msg,\r\n                msgType: msg.type,\r\n            };\r\n        };\r\n        GW3ProtocolImpl.prototype.createStringMessage = function (message) {\r\n            var oldToJson = Date.prototype.toJSON;\r\n            try {\r\n                var datePrefix_1 = this.datePrefix;\r\n                Date.prototype.toJSON = function () {\r\n                    return datePrefix_1 + this.getTime();\r\n                };\r\n                var result = JSON.stringify(message);\r\n                return result;\r\n            }\r\n            finally {\r\n                Date.prototype.toJSON = oldToJson;\r\n            }\r\n        };\r\n        GW3ProtocolImpl.prototype.processObjectMessage = function (message) {\r\n            if (!message.type) {\r\n                throw new Error(\"Object should have type property\");\r\n            }\r\n            return {\r\n                msg: message,\r\n                msgType: message.type,\r\n            };\r\n        };\r\n        GW3ProtocolImpl.prototype.createObjectMessage = function (message) {\r\n            return message;\r\n        };\r\n        GW3ProtocolImpl.prototype.login = function (config, reconnect) {\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var authentication, token, e_1, _a, helloMsg, sendOptions, welcomeMsg, msg, token, _b, err_1;\r\n                return __generator$1(this, function (_c) {\r\n                    switch (_c.label) {\r\n                        case 0:\r\n                            this.logger.debug(\"logging in...\");\r\n                            this.loginConfig = config;\r\n                            if (!this.loginConfig) {\r\n                                this.loginConfig = { username: \"\", password: \"\" };\r\n                            }\r\n                            this.shouldTryLogin = true;\r\n                            authentication = {};\r\n                            this.connection.gatewayToken = config.gatewayToken;\r\n                            if (!config.gatewayToken) return [3, 5];\r\n                            if (!reconnect) return [3, 4];\r\n                            _c.label = 1;\r\n                        case 1:\r\n                            _c.trys.push([1, 3, , 4]);\r\n                            return [4, this.getNewGWToken()];\r\n                        case 2:\r\n                            token = _c.sent();\r\n                            config.gatewayToken = token;\r\n                            return [3, 4];\r\n                        case 3:\r\n                            e_1 = _c.sent();\r\n                            this.logger.warn(\"failed to get GW token when reconnecting \" + ((e_1 === null || e_1 === void 0 ? void 0 : e_1.message) || e_1));\r\n                            return [3, 4];\r\n                        case 4:\r\n                            authentication.method = \"gateway-token\";\r\n                            authentication.token = config.gatewayToken;\r\n                            this.connection.gatewayToken = config.gatewayToken;\r\n                            return [3, 10];\r\n                        case 5:\r\n                            if (!(config.flowName === \"sspi\")) return [3, 9];\r\n                            authentication.provider = \"win\";\r\n                            authentication.method = \"access-token\";\r\n                            if (!(config.flowCallback && config.sessionId)) return [3, 7];\r\n                            _a = authentication;\r\n                            return [4, config.flowCallback(config.sessionId, null)];\r\n                        case 6:\r\n                            _a.token =\r\n                                (_c.sent())\r\n                                    .data\r\n                                    .toString(\"base64\");\r\n                            return [3, 8];\r\n                        case 7: throw new Error(\"Invalid SSPI config\");\r\n                        case 8: return [3, 10];\r\n                        case 9:\r\n                            if (config.token) {\r\n                                authentication.method = \"access-token\";\r\n                                authentication.token = config.token;\r\n                            }\r\n                            else if (config.username) {\r\n                                authentication.method = \"secret\";\r\n                                authentication.login = config.username;\r\n                                authentication.secret = config.password;\r\n                            }\r\n                            else {\r\n                                throw new Error(\"invalid auth message\" + JSON.stringify(config));\r\n                            }\r\n                            _c.label = 10;\r\n                        case 10:\r\n                            helloMsg = {\r\n                                type: \"hello\",\r\n                                identity: this.settings.identity,\r\n                                authentication: authentication\r\n                            };\r\n                            if (config.sessionId) {\r\n                                helloMsg.request_id = config.sessionId;\r\n                            }\r\n                            this.globalDomain = domainSession(\"global\", this.connection, this.logger.subLogger(\"global-domain\"), [\r\n                                \"welcome\",\r\n                                \"token\",\r\n                                \"authentication-request\"\r\n                            ]);\r\n                            sendOptions = { skipPeerId: true };\r\n                            if (this.initialLogin) {\r\n                                sendOptions.retryInterval = this.settings.reconnectInterval;\r\n                                sendOptions.maxRetries = this.settings.reconnectAttempts;\r\n                            }\r\n                            _c.label = 11;\r\n                        case 11:\r\n                            _c.trys.push([11, 19, 20, 21]);\r\n                            welcomeMsg = void 0;\r\n                            _c.label = 12;\r\n                        case 12:\r\n                            return [4, this.globalDomain.send(helloMsg, undefined, sendOptions)];\r\n                        case 13:\r\n                            msg = _c.sent();\r\n                            if (!(msg.type === \"authentication-request\")) return [3, 16];\r\n                            token = Buffer.from(msg.authentication.token, \"base64\");\r\n                            if (!(config.flowCallback && config.sessionId)) return [3, 15];\r\n                            _b = helloMsg.authentication;\r\n                            return [4, config.flowCallback(config.sessionId, token)];\r\n                        case 14:\r\n                            _b.token =\r\n                                (_c.sent())\r\n                                    .data\r\n                                    .toString(\"base64\");\r\n                            _c.label = 15;\r\n                        case 15:\r\n                            helloMsg.request_id = config.sessionId;\r\n                            return [3, 12];\r\n                        case 16:\r\n                            if (msg.type === \"welcome\") {\r\n                                welcomeMsg = msg;\r\n                                return [3, 18];\r\n                            }\r\n                            else if (msg.type === \"error\") {\r\n                                throw new Error(\"Authentication failed: \" + msg.reason);\r\n                            }\r\n                            else {\r\n                                throw new Error(\"Unexpected message type during authentication: \" + msg.type);\r\n                            }\r\n                        case 17: return [3, 12];\r\n                        case 18:\r\n                            this.initialLogin = false;\r\n                            this.logger.debug(\"login successful with peerId \" + welcomeMsg.peer_id);\r\n                            this.connection.peerId = welcomeMsg.peer_id;\r\n                            this.connection.resolvedIdentity = welcomeMsg.resolved_identity;\r\n                            this.connection.availableDomains = welcomeMsg.available_domains;\r\n                            if (welcomeMsg.options) {\r\n                                this.connection.token = welcomeMsg.options.access_token;\r\n                                this.connection.info = welcomeMsg.options.info;\r\n                            }\r\n                            this.setLoggedIn(true);\r\n                            return [2, welcomeMsg.resolved_identity];\r\n                        case 19:\r\n                            err_1 = _c.sent();\r\n                            this.logger.error(\"error sending hello message - \" + (err_1.message || err_1.msg || err_1.reason || err_1), err_1);\r\n                            throw err_1;\r\n                        case 20:\r\n                            if (config && config.flowCallback && config.sessionId) {\r\n                                config.flowCallback(config.sessionId, null);\r\n                            }\r\n                            return [7];\r\n                        case 21: return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GW3ProtocolImpl.prototype.logout = function () {\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var promises;\r\n                return __generator$1(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            this.logger.debug(\"logging out...\");\r\n                            this.shouldTryLogin = false;\r\n                            if (this.pingTimer) {\r\n                                clearTimeout(this.pingTimer);\r\n                            }\r\n                            promises = this.sessions.map(function (session) {\r\n                                session.leave();\r\n                            });\r\n                            return [4, Promise.all(promises)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GW3ProtocolImpl.prototype.loggedIn = function (callback) {\r\n            if (this._isLoggedIn) {\r\n                callback();\r\n            }\r\n            return this.registry.add(\"onLoggedIn\", callback);\r\n        };\r\n        GW3ProtocolImpl.prototype.domain = function (domainName, domainLogger, successMessages, errorMessages) {\r\n            var session = this.sessions.filter(function (s) { return s.domain === domainName; })[0];\r\n            if (!session) {\r\n                session = domainSession(domainName, this.connection, domainLogger, successMessages, errorMessages);\r\n                this.sessions.push(session);\r\n            }\r\n            return session;\r\n        };\r\n        GW3ProtocolImpl.prototype.handleDisconnected = function () {\r\n            var _this = this;\r\n            this.setLoggedIn(false);\r\n            var tryToLogin = this.shouldTryLogin;\r\n            if (tryToLogin && this.initialLogin) {\r\n                if (this.initialLoginAttempts <= 0) {\r\n                    return;\r\n                }\r\n                this.initialLoginAttempts--;\r\n            }\r\n            this.logger.debug(\"disconnected - will try new login?\" + this.shouldTryLogin);\r\n            if (this.shouldTryLogin) {\r\n                if (!this.loginConfig) {\r\n                    throw new Error(\"no login info\");\r\n                }\r\n                this.connection.login(this.loginConfig, true)\r\n                    .catch(function () {\r\n                    setTimeout(_this.handleDisconnected.bind(_this), _this.settings.reconnectInterval || 1000);\r\n                });\r\n            }\r\n        };\r\n        GW3ProtocolImpl.prototype.setLoggedIn = function (value) {\r\n            this._isLoggedIn = value;\r\n            if (this._isLoggedIn) {\r\n                this.registry.execute(\"onLoggedIn\");\r\n            }\r\n        };\r\n        GW3ProtocolImpl.prototype.ping = function () {\r\n            var _this = this;\r\n            if (!this.shouldTryLogin) {\r\n                return;\r\n            }\r\n            if (this._isLoggedIn) {\r\n                this.connection.send({ type: \"ping\" });\r\n            }\r\n            this.pingTimer = setTimeout(function () {\r\n                _this.ping();\r\n            }, 30 * 1000);\r\n        };\r\n        GW3ProtocolImpl.prototype.authToken = function () {\r\n            var createTokenReq = {\r\n                type: \"create-token\"\r\n            };\r\n            if (!this.globalDomain) {\r\n                return Promise.reject(new Error(\"no global domain session\"));\r\n            }\r\n            return this.globalDomain.send(createTokenReq)\r\n                .then(function (res) {\r\n                return res.token;\r\n            });\r\n        };\r\n        GW3ProtocolImpl.prototype.getNewGWToken = function () {\r\n            if (typeof window !== undefined) {\r\n                var glue42gd = window.glue42gd;\r\n                if (glue42gd) {\r\n                    return glue42gd.getGWToken();\r\n                }\r\n            }\r\n            return Promise.reject(new Error(\"not running in GD\"));\r\n        };\r\n        return GW3ProtocolImpl;\r\n    }());\n\n    var MessageReplayerImpl = (function () {\r\n        function MessageReplayerImpl(specs) {\r\n            this.specsNames = [];\r\n            this.messages = {};\r\n            this.subs = {};\r\n            this.subsRefCount = {};\r\n            this.specs = {};\r\n            for (var _i = 0, specs_1 = specs; _i < specs_1.length; _i++) {\r\n                var spec = specs_1[_i];\r\n                this.specs[spec.name] = spec;\r\n                this.specsNames.push(spec.name);\r\n            }\r\n        }\r\n        MessageReplayerImpl.prototype.init = function (connection) {\r\n            var _this = this;\r\n            this.connection = connection;\r\n            for (var _i = 0, _a = this.specsNames; _i < _a.length; _i++) {\r\n                var name_1 = _a[_i];\r\n                var _loop_1 = function (type) {\r\n                    var refCount = this_1.subsRefCount[type];\r\n                    if (!refCount) {\r\n                        refCount = 0;\r\n                    }\r\n                    refCount += 1;\r\n                    this_1.subsRefCount[type] = refCount;\r\n                    if (refCount > 1) {\r\n                        return \"continue\";\r\n                    }\r\n                    var sub = connection.on(type, function (msg) { return _this.processMessage(type, msg); });\r\n                    this_1.subs[type] = sub;\r\n                };\r\n                var this_1 = this;\r\n                for (var _b = 0, _c = this.specs[name_1].types; _b < _c.length; _b++) {\r\n                    var type = _c[_b];\r\n                    _loop_1(type);\r\n                }\r\n            }\r\n        };\r\n        MessageReplayerImpl.prototype.processMessage = function (type, msg) {\r\n            if (this.isDone || !msg) {\r\n                return;\r\n            }\r\n            for (var _i = 0, _a = this.specsNames; _i < _a.length; _i++) {\r\n                var name_2 = _a[_i];\r\n                if (this.specs[name_2].types.indexOf(type) !== -1) {\r\n                    var messages = this.messages[name_2] || [];\r\n                    this.messages[name_2] = messages;\r\n                    messages.push(msg);\r\n                }\r\n            }\r\n        };\r\n        MessageReplayerImpl.prototype.drain = function (name, callback) {\r\n            var _a;\r\n            if (callback) {\r\n                (this.messages[name] || []).forEach(callback);\r\n            }\r\n            delete this.messages[name];\r\n            for (var _i = 0, _b = this.specs[name].types; _i < _b.length; _i++) {\r\n                var type = _b[_i];\r\n                this.subsRefCount[type] -= 1;\r\n                if (this.subsRefCount[type] <= 0) {\r\n                    (_a = this.connection) === null || _a === void 0 ? void 0 : _a.off(this.subs[type]);\r\n                    delete this.subs[type];\r\n                    delete this.subsRefCount[type];\r\n                }\r\n            }\r\n            delete this.specs[name];\r\n            if (!this.specs.length) {\r\n                this.isDone = true;\r\n            }\r\n        };\r\n        return MessageReplayerImpl;\r\n    }());\n\n    var PromisePlus = function (executor, timeoutMilliseconds, timeoutMessage) {\r\n        return new Promise(function (resolve, reject) {\r\n            var timeout = setTimeout(function () {\r\n                var message = timeoutMessage || \"Promise timeout hit: \" + timeoutMilliseconds;\r\n                reject(message);\r\n            }, timeoutMilliseconds);\r\n            var providedPromise = new Promise(executor);\r\n            providedPromise\r\n                .then(function (result) {\r\n                clearTimeout(timeout);\r\n                resolve(result);\r\n            })\r\n                .catch(function (error) {\r\n                clearTimeout(timeout);\r\n                reject(error);\r\n            });\r\n        });\r\n    };\n\n    var WebPlatformTransport = (function () {\r\n        function WebPlatformTransport(settings, logger, identity) {\r\n            this.settings = settings;\r\n            this.logger = logger;\r\n            this.identity = identity;\r\n            this.parentReady = false;\r\n            this.iAmConnected = false;\r\n            this.rejected = false;\r\n            this.children = [];\r\n            this.parentPingTimeout = 3000;\r\n            this.connectionRequestTimeout = 5000;\r\n            this.defaultTargetString = \"*\";\r\n            this.registry = lib();\r\n            this.messages = {\r\n                connectionAccepted: { name: \"connectionAccepted\", handle: this.handleConnectionAccepted.bind(this) },\r\n                connectionRejected: { name: \"connectionRejected\", handle: this.handleConnectionRejected.bind(this) },\r\n                connectionRequest: { name: \"connectionRequest\", handle: this.handleConnectionRequest.bind(this) },\r\n                parentReady: { name: \"parentReady\", handle: this.handleParentReady.bind(this) },\r\n                parentPing: { name: \"parentPing\", handle: this.handleParentPing.bind(this) },\r\n                platformPing: { name: \"platformPing\", handle: this.handlePlatformPing.bind(this) },\r\n                platformUnload: { name: \"platformUnload\", handle: this.handlePlatformUnload.bind(this) },\r\n                platformReady: { name: \"platformReady\", handle: this.handlePlatformReady.bind(this) },\r\n                clientUnload: { name: \"clientUnload\", handle: this.handleClientUnload.bind(this) },\r\n                manualUnload: { name: \"manualUnload\", handle: this.handleManualUnload.bind(this) }\r\n            };\r\n            this.setUpMessageListener();\r\n            this.setUpUnload();\r\n            if (!this.settings.port) {\r\n                this.parent = window.opener || window.top;\r\n                this.parentType = window.opener ? \"opener\" :\r\n                    window.name.indexOf(\"#wsp\") !== -1 ? \"workspace\" : \"top\";\r\n            }\r\n        }\r\n        Object.defineProperty(WebPlatformTransport.prototype, \"transportWindowId\", {\r\n            get: function () {\r\n                return this.publicWindowId;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        WebPlatformTransport.prototype.sendObject = function (msg) {\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                return __generator$1(this, function (_a) {\r\n                    if (!this.port) {\r\n                        throw new Error(\"Cannot send message, because the port was not opened yet\");\r\n                    }\r\n                    this.port.postMessage(msg);\r\n                    return [2];\r\n                });\r\n            });\r\n        };\r\n        Object.defineProperty(WebPlatformTransport.prototype, \"isObjectBasedTransport\", {\r\n            get: function () {\r\n                return true;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        WebPlatformTransport.prototype.onMessage = function (callback) {\r\n            return this.registry.add(\"onMessage\", callback);\r\n        };\r\n        WebPlatformTransport.prototype.send = function () {\r\n            return Promise.reject(\"not supported\");\r\n        };\r\n        WebPlatformTransport.prototype.onConnectedChanged = function (callback) {\r\n            return this.registry.add(\"onConnectedChanged\", callback);\r\n        };\r\n        WebPlatformTransport.prototype.open = function () {\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                return __generator$1(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            this.logger.debug(\"opening a connection to the web platform gateway.\");\r\n                            return [4, this.connect()];\r\n                        case 1:\r\n                            _a.sent();\r\n                            this.notifyStatusChanged(true);\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        WebPlatformTransport.prototype.close = function () {\r\n            return Promise.resolve();\r\n        };\r\n        WebPlatformTransport.prototype.name = function () {\r\n            return \"web-platform\";\r\n        };\r\n        WebPlatformTransport.prototype.reconnect = function () {\r\n            return Promise.resolve();\r\n        };\r\n        WebPlatformTransport.prototype.connect = function () {\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var _this = this;\r\n                return __generator$1(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (this.parentReady) {\r\n                                this.logger.debug(\"cancelling connection attempt, because this client's parent has already given a ready signal\");\r\n                                return [2];\r\n                            }\r\n                            if (this.settings.port) {\r\n                                this.logger.debug(\"opening an internal web platform connection\");\r\n                                this.port = this.settings.port;\r\n                                this.publicWindowId = this.settings.windowId;\r\n                                if (this.identity) {\r\n                                    this.identity.windowId = this.publicWindowId;\r\n                                }\r\n                                this.port.onmessage = function (event) { return _this.registry.execute(\"onMessage\", event.data); };\r\n                                this.logger.debug(\"internal web platform connection completed\");\r\n                                return [2];\r\n                            }\r\n                            if (!this.parentType || !this.parent) {\r\n                                throw new Error(\"Cannot initiate a connection, because there is no opener, no top and no port.\");\r\n                            }\r\n                            this.logger.debug(\"opening a \" + (this.parentType === \"opener\" ? \"child\" : \"grandchild\") + \" client web platform connection\");\r\n                            return [4, this.waitParent(this.parent, this.parentType)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [4, this.initiateRemoteConnection(this.parent, this.parentType)];\r\n                        case 2:\r\n                            _a.sent();\r\n                            this.logger.debug(\"the \" + (this.parentType === \"opener\" ? \"child\" : \"grandchild\") + \" client is connected\");\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        WebPlatformTransport.prototype.initiateRemoteConnection = function (target, parentType) {\r\n            var _this = this;\r\n            return PromisePlus(function (resolve, reject) {\r\n                _this.connectionResolve = resolve;\r\n                _this.connectionReject = reject;\r\n                _this.myClientId = shortid();\r\n                var bridgeInstanceId = _this.parentType === \"workspace\" ? window.name.substring(0, window.name.indexOf(\"#wsp\")) : window.name;\r\n                var request = {\r\n                    glue42core: {\r\n                        type: _this.messages.connectionRequest.name,\r\n                        clientId: _this.myClientId,\r\n                        clientType: parentType === \"top\" || parentType === \"workspace\" ? \"grandChild\" : \"child\",\r\n                        bridgeInstanceId: bridgeInstanceId\r\n                    }\r\n                };\r\n                _this.logger.debug(\"sending connection request to \" + parentType);\r\n                target.postMessage(request, _this.defaultTargetString);\r\n            }, this.connectionRequestTimeout, \"The connection to the opener/top window timed out\");\r\n        };\r\n        WebPlatformTransport.prototype.waitParent = function (target, parentType) {\r\n            var _this = this;\r\n            return PromisePlus(function (resolve) {\r\n                _this.parentPingResolve = resolve;\r\n                var message = {\r\n                    glue42core: {\r\n                        type: parentType === \"opener\" ? _this.messages.platformPing.name : _this.messages.parentPing.name\r\n                    }\r\n                };\r\n                _this.logger.debug(\"checking for \" + parentType + \" window availability\");\r\n                target.postMessage(message, _this.defaultTargetString);\r\n            }, this.parentPingTimeout, \"Cannot initiate glue, because this window was not opened or created by a glue client\");\r\n        };\r\n        WebPlatformTransport.prototype.setUpMessageListener = function () {\r\n            var _this = this;\r\n            if (this.settings.port) {\r\n                this.logger.debug(\"skipping generic message listener, because this is an internal client\");\r\n                return;\r\n            }\r\n            window.addEventListener(\"message\", function (event) {\r\n                var _a;\r\n                var data = (_a = event.data) === null || _a === void 0 ? void 0 : _a.glue42core;\r\n                if (!data || _this.rejected) {\r\n                    return;\r\n                }\r\n                if (!_this.checkMessageTypeValid(data.type)) {\r\n                    _this.logger.error(\"cannot handle the incoming glue42 core message, because the type is invalid: \" + data.type);\r\n                    return;\r\n                }\r\n                var messageType = data.type;\r\n                _this.logger.debug(\"received valid glue42core message of type: \" + messageType);\r\n                _this.messages[messageType].handle(event);\r\n            });\r\n        };\r\n        WebPlatformTransport.prototype.setUpUnload = function () {\r\n            var _this = this;\r\n            if (this.settings.port) {\r\n                this.logger.debug(\"skipping unload event listener, because this is an internal client\");\r\n                return;\r\n            }\r\n            window.addEventListener(\"beforeunload\", function () {\r\n                var _a, _b;\r\n                var message = {\r\n                    glue42core: {\r\n                        type: _this.messages.clientUnload.name,\r\n                        data: {\r\n                            clientId: _this.myClientId,\r\n                            ownWindowId: (_a = _this.identity) === null || _a === void 0 ? void 0 : _a.windowId\r\n                        }\r\n                    }\r\n                };\r\n                if (_this.parent) {\r\n                    _this.parent.postMessage(message, _this.defaultTargetString);\r\n                }\r\n                (_b = _this.port) === null || _b === void 0 ? void 0 : _b.postMessage(message);\r\n            });\r\n        };\r\n        WebPlatformTransport.prototype.handleParentReady = function () {\r\n            this.logger.debug(\"handling the ready signal from the parent, by resoling the pending promise.\");\r\n            this.parentReady = true;\r\n            if (this.parentPingResolve) {\r\n                this.parentPingResolve();\r\n                delete this.parentPingResolve;\r\n                return;\r\n            }\r\n            this.logger.debug(\"silently handling the ready signal from the top parent, because there is no defined promise\");\r\n        };\r\n        WebPlatformTransport.prototype.handlePlatformReady = function () {\r\n            this.logger.debug(\"the web platform gave the ready signal\");\r\n            this.parentReady = true;\r\n            if (this.parentPingResolve) {\r\n                this.parentPingResolve();\r\n                delete this.parentPingResolve;\r\n                return;\r\n            }\r\n            this.logger.debug(\"silently handling the ready signal from the top parent, because there is no defined promise\");\r\n        };\r\n        WebPlatformTransport.prototype.handleConnectionAccepted = function (event) {\r\n            var _a;\r\n            var data = (_a = event.data) === null || _a === void 0 ? void 0 : _a.glue42core;\r\n            if (this.myClientId === data.clientId) {\r\n                return this.handleAcceptanceOfMyRequest(data);\r\n            }\r\n            return this.handleAcceptanceOfGrandChildRequest(data, event);\r\n        };\r\n        WebPlatformTransport.prototype.handleAcceptanceOfMyRequest = function (data) {\r\n            var _this = this;\r\n            this.logger.debug(\"handling a connection accepted signal targeted at me.\");\r\n            if (!data.port) {\r\n                this.logger.error(\"cannot set up my connection, because I was not provided with a port\");\r\n                return;\r\n            }\r\n            this.publicWindowId = this.parentType === \"opener\" ? window.name :\r\n                this.parentType === \"top\" ? data.parentWindowId :\r\n                    window.name.substring(0, window.name.indexOf(\"#wsp\"));\r\n            if (this.identity && this.parentType !== \"top\") {\r\n                this.identity.windowId = this.publicWindowId;\r\n            }\r\n            if (this.identity && data.appName) {\r\n                this.identity.application = data.appName;\r\n                this.identity.applicationName = data.appName;\r\n            }\r\n            this.port = data.port;\r\n            this.port.onmessage = function (e) { return _this.registry.execute(\"onMessage\", e.data); };\r\n            if (this.connectionResolve) {\r\n                this.logger.debug(\"my connection is set up, calling the connection resolve.\");\r\n                this.connectionResolve();\r\n                delete this.connectionResolve;\r\n                return;\r\n            }\r\n            this.logger.error(\"unable to call the connection resolve, because no connection promise was found\");\r\n        };\r\n        WebPlatformTransport.prototype.handleAcceptanceOfGrandChildRequest = function (data, event) {\r\n            this.logger.debug(\"handling a connection accepted signal targeted at a grandchild: \" + data.clientId);\r\n            var child = this.children.find(function (c) { return c.grandChildId === data.clientId; });\r\n            if (!child) {\r\n                this.logger.error(\"cannot handle connection accepted for grandchild: \" + data.clientId + \", because there is no grandchild with this id\");\r\n                return;\r\n            }\r\n            child.connected = true;\r\n            this.logger.debug(\"the grandchild connection for \" + data.clientId + \" is set up, forwarding the success message and the gateway port\");\r\n            data.parentWindowId = this.publicWindowId;\r\n            child.source.postMessage(event.data, child.origin, [data.port]);\r\n            return;\r\n        };\r\n        WebPlatformTransport.prototype.handleConnectionRejected = function () {\r\n            this.logger.debug(\"handling a connection rejection. Most likely the reason is that this window was not created by a glue API call\");\r\n            if (this.connectionReject) {\r\n                this.connectionReject(\"The platform connection was rejected. Most likely because this window was not created by a glue API call\");\r\n                delete this.connectionReject;\r\n            }\r\n        };\r\n        WebPlatformTransport.prototype.handleConnectionRequest = function (event) {\r\n            var source = event.source;\r\n            var data = event.data.glue42core;\r\n            if (!data.clientType || data.clientType !== \"grandChild\") {\r\n                return this.rejectConnectionRequest(source, event.origin, \"rejecting a connection request, because the source was not opened by a glue API call\");\r\n            }\r\n            if (!data.clientId) {\r\n                return this.rejectConnectionRequest(source, event.origin, \"rejecting a connection request, because the source did not provide a valid id\");\r\n            }\r\n            if (this.parentType !== \"opener\" || !this.parent) {\r\n                return this.rejectConnectionRequest(source, event.origin, \"Cannot forward the connection request, because no direct connection to the platform was found\");\r\n            }\r\n            this.logger.debug(\"handling a connection request for a grandchild: \" + data.clientId);\r\n            this.children.push({ grandChildId: data.clientId, source: source, connected: false, origin: event.origin });\r\n            this.logger.debug(\"grandchild: \" + data.clientId + \" is prepared, forwarding connection request to the platform\");\r\n            this.parent.postMessage(event.data, this.defaultTargetString);\r\n        };\r\n        WebPlatformTransport.prototype.handleParentPing = function (event) {\r\n            if (!this.parentReady) {\r\n                this.logger.debug(\"my parent is not ready, I am ignoring the parent ping\");\r\n                return;\r\n            }\r\n            if (!this.iAmConnected) {\r\n                this.logger.debug(\"i am not fully connected yet, I am ignoring the parent ping\");\r\n                return;\r\n            }\r\n            var message = {\r\n                glue42core: {\r\n                    type: this.messages.parentReady.name\r\n                }\r\n            };\r\n            var source = event.source;\r\n            this.logger.debug(\"responding to a parent ping with a ready message\");\r\n            source.postMessage(message, event.origin);\r\n        };\r\n        WebPlatformTransport.prototype.handlePlatformUnload = function (event) {\r\n            this.logger.debug(\"detected a web platform unload\");\r\n            this.parentReady = false;\r\n            if (this.children.length) {\r\n                this.logger.debug(\"forwarding the platform unload to all known children and starting platform discovery polling\");\r\n                this.children.forEach(function (child) { return child.source.postMessage(event.data, child.origin); });\r\n            }\r\n            this.notifyStatusChanged(false, \"Gateway unloaded\");\r\n        };\r\n        WebPlatformTransport.prototype.handleManualUnload = function () {\r\n            var _a, _b;\r\n            var message = {\r\n                glue42core: {\r\n                    type: this.messages.clientUnload.name,\r\n                    data: {\r\n                        clientId: this.myClientId,\r\n                        ownWindowId: (_a = this.identity) === null || _a === void 0 ? void 0 : _a.windowId\r\n                    }\r\n                }\r\n            };\r\n            if (this.parent) {\r\n                this.parent.postMessage(message, this.defaultTargetString);\r\n            }\r\n            (_b = this.port) === null || _b === void 0 ? void 0 : _b.postMessage(message);\r\n        };\r\n        WebPlatformTransport.prototype.handleClientUnload = function (event) {\r\n            var data = event.data.glue42core;\r\n            var clientId = data === null || data === void 0 ? void 0 : data.data.clientId;\r\n            if (!clientId) {\r\n                this.logger.warn(\"cannot process grand child unload, because the provided id was not valid\");\r\n                return;\r\n            }\r\n            var foundChild = this.children.find(function (child) { return child.grandChildId === clientId; });\r\n            if (!foundChild) {\r\n                this.logger.warn(\"cannot process grand child unload, because this client is unaware of this grandchild\");\r\n                return;\r\n            }\r\n            this.logger.debug(\"handling grandchild unload for id: \" + clientId);\r\n            this.children = this.children.filter(function (child) { return child.grandChildId !== clientId; });\r\n        };\r\n        WebPlatformTransport.prototype.handlePlatformPing = function () {\r\n            this.logger.error(\"cannot handle platform ping, because this is not a platform calls handling component\");\r\n        };\r\n        WebPlatformTransport.prototype.notifyStatusChanged = function (status, reason) {\r\n            this.iAmConnected = status;\r\n            this.registry.execute(\"onConnectedChanged\", status, reason);\r\n        };\r\n        WebPlatformTransport.prototype.checkMessageTypeValid = function (typeToValidate) {\r\n            return typeof typeToValidate === \"string\" && !!this.messages[typeToValidate];\r\n        };\r\n        WebPlatformTransport.prototype.rejectConnectionRequest = function (source, origin, reason) {\r\n            this.rejected = true;\r\n            this.logger.error(reason);\r\n            var rejection = {\r\n                glue42core: {\r\n                    type: this.messages.connectionRejected.name\r\n                }\r\n            };\r\n            source.postMessage(rejection, origin);\r\n        };\r\n        return WebPlatformTransport;\r\n    }());\n\n    var Connection = (function () {\r\n        function Connection(settings, logger) {\r\n            this.settings = settings;\r\n            this.logger = logger;\r\n            this.messageHandlers = {};\r\n            this.ids = 1;\r\n            this.registry = lib();\r\n            this._connected = false;\r\n            this.isTrace = false;\r\n            settings = settings || {};\r\n            settings.reconnectAttempts = settings.reconnectAttempts || 10;\r\n            settings.reconnectInterval = settings.reconnectInterval || 1000;\r\n            if (settings.inproc) {\r\n                this.transport = new InProcTransport(settings.inproc, logger.subLogger(\"inMemory\"));\r\n            }\r\n            else if (settings.sharedWorker) {\r\n                this.transport = new SharedWorkerTransport(settings.sharedWorker, logger.subLogger(\"shared-worker\"));\r\n            }\r\n            else if (settings.webPlatform) {\r\n                this.transport = new WebPlatformTransport(settings.webPlatform, logger.subLogger(\"web-platform\"), settings.identity);\r\n            }\r\n            else if (settings.ws !== undefined) {\r\n                this.transport = new WS(settings, logger.subLogger(\"ws\"));\r\n            }\r\n            else {\r\n                throw new Error(\"No connection information specified\");\r\n            }\r\n            this.isTrace = logger.canPublish(\"trace\");\r\n            logger.debug(\"starting with \" + this.transport.name() + \" transport\");\r\n            this.protocol = new GW3ProtocolImpl(this, settings, logger.subLogger(\"protocol\"));\r\n            this.transport.onConnectedChanged(this.handleConnectionChanged.bind(this));\r\n            this.transport.onMessage(this.handleTransportMessage.bind(this));\r\n            if (settings.replaySpecs && settings.replaySpecs.length) {\r\n                this.replayer = new MessageReplayerImpl(settings.replaySpecs);\r\n                this.replayer.init(this);\r\n            }\r\n        }\r\n        Object.defineProperty(Connection.prototype, \"protocolVersion\", {\r\n            get: function () {\r\n                var _a;\r\n                return (_a = this.protocol) === null || _a === void 0 ? void 0 : _a.protocolVersion;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Connection.prototype.send = function (message, options) {\r\n            if (this.transport.sendObject &&\r\n                this.transport.isObjectBasedTransport) {\r\n                var msg = this.protocol.createObjectMessage(message);\r\n                if (this.isTrace) {\r\n                    this.logger.trace(\">> \" + JSON.stringify(msg));\r\n                }\r\n                return this.transport.sendObject(msg, options);\r\n            }\r\n            else {\r\n                var strMessage = this.protocol.createStringMessage(message);\r\n                if (this.isTrace) {\r\n                    this.logger.trace(\">> \" + strMessage);\r\n                }\r\n                return this.transport.send(strMessage, options);\r\n            }\r\n        };\r\n        Connection.prototype.on = function (type, messageHandler) {\r\n            type = type.toLowerCase();\r\n            if (this.messageHandlers[type] === undefined) {\r\n                this.messageHandlers[type] = {};\r\n            }\r\n            var id = this.ids++;\r\n            this.messageHandlers[type][id] = messageHandler;\r\n            return {\r\n                type: type,\r\n                id: id,\r\n            };\r\n        };\r\n        Connection.prototype.off = function (info) {\r\n            delete this.messageHandlers[info.type.toLowerCase()][info.id];\r\n        };\r\n        Object.defineProperty(Connection.prototype, \"isConnected\", {\r\n            get: function () {\r\n                return this.protocol.isLoggedIn;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Connection.prototype.connected = function (callback) {\r\n            var _this = this;\r\n            return this.protocol.loggedIn(function () {\r\n                callback(_this.settings.ws || _this.settings.sharedWorker || \"\");\r\n            });\r\n        };\r\n        Connection.prototype.disconnected = function (callback) {\r\n            return this.registry.add(\"disconnected\", callback);\r\n        };\r\n        Connection.prototype.login = function (authRequest, reconnect) {\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var identity;\r\n                return __generator$1(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.transport.open()];\r\n                        case 1:\r\n                            _a.sent();\r\n                            timer(\"connection\").mark(\"transport-opened\");\r\n                            identity = this.protocol.login(authRequest, reconnect);\r\n                            timer(\"connection\").mark(\"protocol-logged-in\");\r\n                            return [2, identity];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Connection.prototype.logout = function () {\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                return __generator$1(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.protocol.logout()];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [4, this.transport.close()];\r\n                        case 2:\r\n                            _a.sent();\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Connection.prototype.loggedIn = function (callback) {\r\n            return this.protocol.loggedIn(callback);\r\n        };\r\n        Connection.prototype.domain = function (domain, successMessages, errorMessages) {\r\n            return this.protocol.domain(domain, this.logger.subLogger(\"domain=\" + domain), successMessages, errorMessages);\r\n        };\r\n        Connection.prototype.authToken = function () {\r\n            return this.protocol.authToken();\r\n        };\r\n        Connection.prototype.reconnect = function () {\r\n            return this.transport.reconnect();\r\n        };\r\n        Connection.prototype.distributeMessage = function (message, type) {\r\n            var _this = this;\r\n            var handlers = this.messageHandlers[type.toLowerCase()];\r\n            if (handlers !== undefined) {\r\n                Object.keys(handlers).forEach(function (handlerId) {\r\n                    var handler = handlers[handlerId];\r\n                    if (handler !== undefined) {\r\n                        try {\r\n                            handler(message);\r\n                        }\r\n                        catch (error) {\r\n                            try {\r\n                                _this.logger.error(\"Message handler failed with \" + error.stack, error);\r\n                            }\r\n                            catch (loggerError) {\r\n                                console.log(\"Message handler failed\", error);\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        };\r\n        Connection.prototype.handleConnectionChanged = function (connected) {\r\n            if (this._connected === connected) {\r\n                return;\r\n            }\r\n            this._connected = connected;\r\n            if (connected) {\r\n                this.registry.execute(\"connected\");\r\n            }\r\n            else {\r\n                this.registry.execute(\"disconnected\");\r\n            }\r\n        };\r\n        Connection.prototype.handleTransportMessage = function (msg) {\r\n            var msgObj;\r\n            if (typeof msg === \"string\") {\r\n                msgObj = this.protocol.processStringMessage(msg);\r\n            }\r\n            else {\r\n                msgObj = this.protocol.processObjectMessage(msg);\r\n            }\r\n            if (this.isTrace) {\r\n                this.logger.trace(\"<< \" + JSON.stringify(msgObj));\r\n            }\r\n            this.distributeMessage(msgObj.msg, msgObj.msgType);\r\n        };\r\n        return Connection;\r\n    }());\n\n    var order = [\"trace\", \"debug\", \"info\", \"warn\", \"error\", \"off\"];\r\n    var Logger = (function () {\r\n        function Logger(name, parent, logFn) {\r\n            this.name = name;\r\n            this.parent = parent;\r\n            this.subLoggers = [];\r\n            this.logFn = console;\r\n            this.customLogFn = false;\r\n            this.name = name;\r\n            if (parent) {\r\n                this.path = parent.path + \".\" + name;\r\n            }\r\n            else {\r\n                this.path = name;\r\n            }\r\n            this.loggerFullName = \"[\" + this.path + \"]\";\r\n            this.includeTimeAndLevel = !logFn;\r\n            if (logFn) {\r\n                this.logFn = logFn;\r\n                this.customLogFn = true;\r\n            }\r\n        }\r\n        Logger.prototype.subLogger = function (name) {\r\n            var existingSub = this.subLoggers.filter(function (subLogger) {\r\n                return subLogger.name === name;\r\n            })[0];\r\n            if (existingSub !== undefined) {\r\n                return existingSub;\r\n            }\r\n            Object.keys(this).forEach(function (key) {\r\n                if (key === name) {\r\n                    throw new Error(\"This sub logger name is not allowed.\");\r\n                }\r\n            });\r\n            var sub = new Logger(name, this, this.customLogFn ? this.logFn : undefined);\r\n            this.subLoggers.push(sub);\r\n            return sub;\r\n        };\r\n        Logger.prototype.publishLevel = function (level) {\r\n            var _a;\r\n            if (level) {\r\n                this._publishLevel = level;\r\n            }\r\n            return this._publishLevel || ((_a = this.parent) === null || _a === void 0 ? void 0 : _a.publishLevel());\r\n        };\r\n        Logger.prototype.consoleLevel = function (level) {\r\n            var _a;\r\n            if (level) {\r\n                this._consoleLevel = level;\r\n            }\r\n            return this._consoleLevel || ((_a = this.parent) === null || _a === void 0 ? void 0 : _a.consoleLevel());\r\n        };\r\n        Logger.prototype.log = function (message, level, error) {\r\n            this.publishMessage(level || \"info\", message, error);\r\n        };\r\n        Logger.prototype.trace = function (message) {\r\n            this.log(message, \"trace\");\r\n        };\r\n        Logger.prototype.debug = function (message) {\r\n            this.log(message, \"debug\");\r\n        };\r\n        Logger.prototype.info = function (message) {\r\n            this.log(message, \"info\");\r\n        };\r\n        Logger.prototype.warn = function (message) {\r\n            this.log(message, \"warn\");\r\n        };\r\n        Logger.prototype.error = function (message, err) {\r\n            this.log(message, \"error\");\r\n        };\r\n        Logger.prototype.canPublish = function (level, compareWith) {\r\n            var levelIdx = order.indexOf(level);\r\n            var restrictionIdx = order.indexOf(compareWith || this.consoleLevel() || \"trace\");\r\n            return levelIdx >= restrictionIdx;\r\n        };\r\n        Logger.prototype.publishMessage = function (level, message, error) {\r\n            var loggerName = this.loggerFullName;\r\n            if (level === \"error\" && !error) {\r\n                var e = new Error();\r\n                if (e.stack) {\r\n                    message =\r\n                        message +\r\n                            \"\\n\" +\r\n                            e.stack\r\n                                .split(\"\\n\")\r\n                                .slice(3)\r\n                                .join(\"\\n\");\r\n                }\r\n            }\r\n            if (this.canPublish(level, this.publishLevel())) {\r\n                var interop = Logger.Interop;\r\n                if (interop) {\r\n                    try {\r\n                        if (interop.methods({ name: Logger.InteropMethodName }).length > 0) {\r\n                            interop.invoke(Logger.InteropMethodName, {\r\n                                msg: \"\" + message,\r\n                                logger: loggerName,\r\n                                level: level\r\n                            });\r\n                        }\r\n                    }\r\n                    catch (_a) {\r\n                    }\r\n                }\r\n            }\r\n            if (this.canPublish(level)) {\r\n                var prefix = \"\";\r\n                if (this.includeTimeAndLevel) {\r\n                    var date = new Date();\r\n                    var time = date.getHours() + \":\" + date.getMinutes() + \":\" + date.getSeconds() + \":\" + date.getMilliseconds();\r\n                    prefix = \"[\" + time + \"] [\" + level + \"] \";\r\n                }\r\n                var toPrint = \"\" + prefix + loggerName + \": \" + message;\r\n                switch (level) {\r\n                    case \"trace\":\r\n                        this.logFn.debug(toPrint);\r\n                        break;\r\n                    case \"debug\":\r\n                        if (this.logFn.debug) {\r\n                            this.logFn.debug(toPrint);\r\n                        }\r\n                        else {\r\n                            this.logFn.log(toPrint);\r\n                        }\r\n                        break;\r\n                    case \"info\":\r\n                        this.logFn.info(toPrint);\r\n                        break;\r\n                    case \"warn\":\r\n                        this.logFn.warn(toPrint);\r\n                        break;\r\n                    case \"error\":\r\n                        this.logFn.error(toPrint, error);\r\n                        break;\r\n                }\r\n            }\r\n        };\r\n        Logger.InteropMethodName = \"T42.AppLogger.Log\";\r\n        return Logger;\r\n    }());\n\n    var GW_MESSAGE_CREATE_CONTEXT = \"create-context\";\r\n    var GW_MESSAGE_ACTIVITY_CREATED = \"created\";\r\n    var GW_MESSAGE_ACTIVITY_DESTROYED = \"destroyed\";\r\n    var GW_MESSAGE_CONTEXT_CREATED = \"context-created\";\r\n    var GW_MESSAGE_CONTEXT_ADDED = \"context-added\";\r\n    var GW_MESSAGE_SUBSCRIBE_CONTEXT = \"subscribe-context\";\r\n    var GW_MESSAGE_SUBSCRIBED_CONTEXT = \"subscribed-context\";\r\n    var GW_MESSAGE_UNSUBSCRIBE_CONTEXT = \"unsubscribe-context\";\r\n    var GW_MESSAGE_DESTROY_CONTEXT = \"destroy-context\";\r\n    var GW_MESSAGE_CONTEXT_DESTROYED = \"context-destroyed\";\r\n    var GW_MESSAGE_UPDATE_CONTEXT = \"update-context\";\r\n    var GW_MESSAGE_CONTEXT_UPDATED = \"context-updated\";\r\n    var GW_MESSAGE_JOINED_ACTIVITY = \"joined\";\n\n    var ContextMessageReplaySpec = {\r\n        get name() {\r\n            return \"context\";\r\n        },\r\n        get types() {\r\n            return [\r\n                GW_MESSAGE_CREATE_CONTEXT,\r\n                GW_MESSAGE_ACTIVITY_CREATED,\r\n                GW_MESSAGE_ACTIVITY_DESTROYED,\r\n                GW_MESSAGE_CONTEXT_CREATED,\r\n                GW_MESSAGE_CONTEXT_ADDED,\r\n                GW_MESSAGE_SUBSCRIBE_CONTEXT,\r\n                GW_MESSAGE_SUBSCRIBED_CONTEXT,\r\n                GW_MESSAGE_UNSUBSCRIBE_CONTEXT,\r\n                GW_MESSAGE_DESTROY_CONTEXT,\r\n                GW_MESSAGE_CONTEXT_DESTROYED,\r\n                GW_MESSAGE_UPDATE_CONTEXT,\r\n                GW_MESSAGE_CONTEXT_UPDATED,\r\n                GW_MESSAGE_JOINED_ACTIVITY\r\n            ];\r\n        }\r\n    };\n\n    var version = \"5.4.4\";\n\n    function prepareConfig (configuration, ext, glue42gd) {\r\n        var _a, _b, _c, _d, _e;\r\n        var nodeStartingContext;\r\n        if (Utils.isNode()) {\r\n            var startingContextString = process.env._GD_STARTING_CONTEXT_;\r\n            if (startingContextString) {\r\n                try {\r\n                    nodeStartingContext = JSON.parse(startingContextString);\r\n                }\r\n                catch (_f) {\r\n                }\r\n            }\r\n        }\r\n        function getConnection() {\r\n            var _a, _b, _c, _d, _e;\r\n            var gwConfig = configuration.gateway;\r\n            var protocolVersion = (_a = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.protocolVersion) !== null && _a !== void 0 ? _a : 3;\r\n            var reconnectInterval = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.reconnectInterval;\r\n            var reconnectAttempts = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.reconnectAttempts;\r\n            var defaultWs = \"ws://localhost:8385\";\r\n            var ws = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.ws;\r\n            var sharedWorker = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.sharedWorker;\r\n            var inproc = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.inproc;\r\n            var webPlatform = (_b = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.webPlatform) !== null && _b !== void 0 ? _b : undefined;\r\n            if (glue42gd) {\r\n                ws = glue42gd.gwURL;\r\n            }\r\n            if (Utils.isNode() && nodeStartingContext && nodeStartingContext.gwURL) {\r\n                ws = nodeStartingContext.gwURL;\r\n            }\r\n            if (!ws && !sharedWorker && !inproc) {\r\n                ws = defaultWs;\r\n            }\r\n            var instanceId;\r\n            var windowId;\r\n            var pid;\r\n            var environment;\r\n            var region;\r\n            var appName = getApplication();\r\n            var uniqueAppName = appName;\r\n            if (typeof glue42gd !== \"undefined\") {\r\n                windowId = glue42gd.windowId;\r\n                pid = glue42gd.pid;\r\n                if (glue42gd.env) {\r\n                    environment = glue42gd.env.env;\r\n                    region = glue42gd.env.region;\r\n                }\r\n                uniqueAppName = (_c = glue42gd.application) !== null && _c !== void 0 ? _c : \"glue-app\";\r\n                instanceId = glue42gd.appInstanceId;\r\n            }\r\n            else if (Utils.isNode()) {\r\n                pid = process.pid;\r\n                if (nodeStartingContext) {\r\n                    environment = nodeStartingContext.env;\r\n                    region = nodeStartingContext.region;\r\n                    instanceId = nodeStartingContext.instanceId;\r\n                }\r\n            }\r\n            else ;\r\n            var replaySpecs = (_e = (_d = configuration.gateway) === null || _d === void 0 ? void 0 : _d.replaySpecs) !== null && _e !== void 0 ? _e : [];\r\n            replaySpecs.push(ContextMessageReplaySpec);\r\n            return {\r\n                identity: {\r\n                    application: uniqueAppName,\r\n                    applicationName: appName,\r\n                    windowId: windowId,\r\n                    instance: instanceId,\r\n                    process: pid,\r\n                    region: region,\r\n                    environment: environment,\r\n                    api: ext.version || version\r\n                },\r\n                reconnectInterval: reconnectInterval,\r\n                ws: ws,\r\n                sharedWorker: sharedWorker,\r\n                webPlatform: webPlatform,\r\n                inproc: inproc,\r\n                protocolVersion: protocolVersion,\r\n                reconnectAttempts: reconnectAttempts,\r\n                replaySpecs: replaySpecs,\r\n            };\r\n        }\r\n        function getApplication() {\r\n            if (configuration.application) {\r\n                return configuration.application;\r\n            }\r\n            if (glue42gd) {\r\n                return glue42gd.applicationName;\r\n            }\r\n            var uid = shortid();\r\n            if (Utils.isNode()) {\r\n                if (nodeStartingContext) {\r\n                    return nodeStartingContext.applicationConfig.name;\r\n                }\r\n                return \"NodeJS\" + uid;\r\n            }\r\n            if (typeof window !== \"undefined\" && typeof document !== \"undefined\") {\r\n                return document.title + (\" (\" + uid + \")\");\r\n            }\r\n            return uid;\r\n        }\r\n        function getAuth() {\r\n            var _a, _b, _c;\r\n            if (typeof configuration.auth === \"string\") {\r\n                return {\r\n                    token: configuration.auth\r\n                };\r\n            }\r\n            if (configuration.auth) {\r\n                return configuration.auth;\r\n            }\r\n            if (Utils.isNode() && nodeStartingContext && nodeStartingContext.gwToken) {\r\n                return {\r\n                    gatewayToken: nodeStartingContext.gwToken\r\n                };\r\n            }\r\n            if (((_a = configuration.gateway) === null || _a === void 0 ? void 0 : _a.webPlatform) || ((_b = configuration.gateway) === null || _b === void 0 ? void 0 : _b.inproc) || ((_c = configuration.gateway) === null || _c === void 0 ? void 0 : _c.sharedWorker)) {\r\n                return {\r\n                    username: \"glue42\", password: \"glue42\"\r\n                };\r\n            }\r\n        }\r\n        function getLogger() {\r\n            var _a, _b;\r\n            var config = configuration.logger;\r\n            var defaultLevel = \"warn\";\r\n            if (!config) {\r\n                config = defaultLevel;\r\n            }\r\n            var gdConsoleLevel;\r\n            if (glue42gd) {\r\n                gdConsoleLevel = glue42gd.consoleLogLevel;\r\n            }\r\n            if (typeof config === \"string\") {\r\n                return { console: gdConsoleLevel !== null && gdConsoleLevel !== void 0 ? gdConsoleLevel : config, publish: defaultLevel };\r\n            }\r\n            return {\r\n                console: (_a = gdConsoleLevel !== null && gdConsoleLevel !== void 0 ? gdConsoleLevel : config.console) !== null && _a !== void 0 ? _a : defaultLevel,\r\n                publish: (_b = config.publish) !== null && _b !== void 0 ? _b : defaultLevel\r\n            };\r\n        }\r\n        var connection = getConnection();\r\n        var application = getApplication();\r\n        if (typeof window !== \"undefined\") {\r\n            var windowAsAny = window;\r\n            var containerApplication = windowAsAny.htmlContainer ?\r\n                windowAsAny.htmlContainer.containerName + \".\" + windowAsAny.htmlContainer.application : (_a = windowAsAny === null || windowAsAny === void 0 ? void 0 : windowAsAny.glue42gd) === null || _a === void 0 ? void 0 : _a.application;\r\n            if (containerApplication) {\r\n                application = containerApplication;\r\n            }\r\n        }\r\n        return {\r\n            bus: (_b = configuration.bus) !== null && _b !== void 0 ? _b : false,\r\n            application: application,\r\n            auth: getAuth(),\r\n            logger: getLogger(),\r\n            connection: connection,\r\n            metrics: (_c = configuration.metrics) !== null && _c !== void 0 ? _c : true,\r\n            contexts: (_d = configuration.contexts) !== null && _d !== void 0 ? _d : true,\r\n            version: ext.version || version,\r\n            libs: (_e = ext.libs) !== null && _e !== void 0 ? _e : [],\r\n            customLogger: configuration.customLogger\r\n        };\r\n    }\n\n    var GW3ContextData = (function () {\r\n        function GW3ContextData(contextId, name, isAnnounced, activityId) {\r\n            this.updateCallbacks = {};\r\n            this.contextId = contextId;\r\n            this.name = name;\r\n            this.isAnnounced = isAnnounced;\r\n            this.activityId = activityId;\r\n            this.context = {};\r\n        }\r\n        GW3ContextData.prototype.hasCallbacks = function () {\r\n            return Object.keys(this.updateCallbacks).length > 0;\r\n        };\r\n        GW3ContextData.prototype.getState = function () {\r\n            if (this.isAnnounced && this.hasCallbacks()) {\r\n                return 3;\r\n            }\r\n            if (this.isAnnounced) {\r\n                return 2;\r\n            }\r\n            if (this.hasCallbacks()) {\r\n                return 1;\r\n            }\r\n            return 0;\r\n        };\r\n        return GW3ContextData;\r\n    }());\n\n    function applyContextDelta(context, delta, logger) {\r\n        try {\r\n            if (logger === null || logger === void 0 ? void 0 : logger.canPublish(\"trace\")) {\r\n                logger === null || logger === void 0 ? void 0 : logger.trace(\"applying context delta \" + JSON.stringify(delta) + \" on context \" + JSON.stringify(context));\r\n            }\r\n            if (!delta) {\r\n                return context;\r\n            }\r\n            if (delta.reset) {\r\n                context = __assign$1({}, delta.reset);\r\n                return context;\r\n            }\r\n            context = deepClone(context, undefined);\r\n            if (delta.commands) {\r\n                for (var _i = 0, _a = delta.commands; _i < _a.length; _i++) {\r\n                    var command = _a[_i];\r\n                    if (command.type === \"remove\") {\r\n                        deletePath(context, command.path);\r\n                    }\r\n                    else if (command.type === \"set\") {\r\n                        setValueToPath(context, command.value, command.path);\r\n                    }\r\n                }\r\n                return context;\r\n            }\r\n            var added_1 = delta.added;\r\n            var updated_1 = delta.updated;\r\n            var removed = delta.removed;\r\n            if (added_1) {\r\n                Object.keys(added_1).forEach(function (key) {\r\n                    context[key] = added_1[key];\r\n                });\r\n            }\r\n            if (updated_1) {\r\n                Object.keys(updated_1).forEach(function (key) {\r\n                    mergeObjectsProperties(key, context, updated_1);\r\n                });\r\n            }\r\n            if (removed) {\r\n                removed.forEach(function (key) {\r\n                    delete context[key];\r\n                });\r\n            }\r\n            return context;\r\n        }\r\n        catch (e) {\r\n            logger === null || logger === void 0 ? void 0 : logger.error(\"error applying context delta \" + JSON.stringify(delta) + \" on context \" + JSON.stringify(context), e);\r\n            return context;\r\n        }\r\n    }\r\n    function deepClone(obj, hash) {\r\n        hash = hash || new WeakMap();\r\n        if (Object(obj) !== obj) {\r\n            return obj;\r\n        }\r\n        if (obj instanceof Set) {\r\n            return new Set(obj);\r\n        }\r\n        if (hash.has(obj)) {\r\n            return hash.get(obj);\r\n        }\r\n        var result = obj instanceof Date ? new Date(obj)\r\n            : obj instanceof RegExp ? new RegExp(obj.source, obj.flags)\r\n                : obj.constructor ? new obj.constructor()\r\n                    : Object.create(null);\r\n        hash.set(obj, result);\r\n        if (obj instanceof Map) {\r\n            Array.from(obj, function (_a) {\r\n                var key = _a[0], val = _a[1];\r\n                return result.set(key, deepClone(val, hash));\r\n            });\r\n        }\r\n        return Object.assign.apply(Object, __spreadArrays([result], Object.keys(obj).map(function (key) {\r\n            var _a;\r\n            return (_a = {}, _a[key] = deepClone(obj[key], hash), _a);\r\n        })));\r\n    }\r\n    var mergeObjectsProperties = function (key, what, withWhat) {\r\n        var right = withWhat[key];\r\n        if (right === undefined) {\r\n            return what;\r\n        }\r\n        var left = what[key];\r\n        if (!left || !right) {\r\n            what[key] = right;\r\n            return what;\r\n        }\r\n        if (typeof left === \"string\" ||\r\n            typeof left === \"number\" ||\r\n            typeof left === \"boolean\" ||\r\n            typeof right === \"string\" ||\r\n            typeof right === \"number\" ||\r\n            typeof right === \"boolean\" ||\r\n            Array.isArray(left) ||\r\n            Array.isArray(right)) {\r\n            what[key] = right;\r\n            return what;\r\n        }\r\n        what[key] = Object.assign({}, left, right);\r\n        return what;\r\n    };\r\n    function deepEqual(x, y) {\r\n        if (x === y) {\r\n            return true;\r\n        }\r\n        if (!(x instanceof Object) || !(y instanceof Object)) {\r\n            return false;\r\n        }\r\n        if (x.constructor !== y.constructor) {\r\n            return false;\r\n        }\r\n        for (var p in x) {\r\n            if (!x.hasOwnProperty(p)) {\r\n                continue;\r\n            }\r\n            if (!y.hasOwnProperty(p)) {\r\n                return false;\r\n            }\r\n            if (x[p] === y[p]) {\r\n                continue;\r\n            }\r\n            if (typeof (x[p]) !== \"object\") {\r\n                return false;\r\n            }\r\n            if (!deepEqual(x[p], y[p])) {\r\n                return false;\r\n            }\r\n        }\r\n        for (var p in y) {\r\n            if (y.hasOwnProperty(p) && !x.hasOwnProperty(p)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    function setValueToPath(obj, value, path) {\r\n        var pathArr = path.split(\".\");\r\n        var i;\r\n        for (i = 0; i < pathArr.length - 1; i++) {\r\n            if (!obj[pathArr[i]]) {\r\n                obj[pathArr[i]] = {};\r\n            }\r\n            if (typeof obj[pathArr[i]] !== \"object\") {\r\n                obj[pathArr[i]] = {};\r\n            }\r\n            obj = obj[pathArr[i]];\r\n        }\r\n        obj[pathArr[i]] = value;\r\n    }\r\n    function isSubset(superObj, subObj) {\r\n        return Object.keys(subObj).every(function (ele) {\r\n            if (typeof subObj[ele] === \"object\") {\r\n                return isSubset((superObj === null || superObj === void 0 ? void 0 : superObj[ele]) || {}, subObj[ele] || {});\r\n            }\r\n            return subObj[ele] === (superObj === null || superObj === void 0 ? void 0 : superObj[ele]);\r\n        });\r\n    }\r\n    function deletePath(obj, path) {\r\n        var pathArr = path.split(\".\");\r\n        var i;\r\n        for (i = 0; i < pathArr.length - 1; i++) {\r\n            if (!obj[pathArr[i]]) {\r\n                return;\r\n            }\r\n            obj = obj[pathArr[i]];\r\n        }\r\n        delete obj[pathArr[i]];\r\n    }\n\n    var GW3Bridge = (function () {\r\n        function GW3Bridge(config) {\r\n            var _this = this;\r\n            var _a;\r\n            this._contextNameToData = {};\r\n            this._gw3Subscriptions = [];\r\n            this._nextCallbackSubscriptionNumber = 0;\r\n            this._contextNameToId = {};\r\n            this._contextIdToName = {};\r\n            this._protocolVersion = undefined;\r\n            this._connection = config.connection;\r\n            this._logger = config.logger;\r\n            this._gw3Session = this._connection.domain(\"global\", [\r\n                GW_MESSAGE_CONTEXT_CREATED,\r\n                GW_MESSAGE_SUBSCRIBED_CONTEXT,\r\n                GW_MESSAGE_CONTEXT_DESTROYED,\r\n                GW_MESSAGE_CONTEXT_UPDATED,\r\n            ]);\r\n            this.subscribeToContextCreatedMessages();\r\n            this.subscribeToContextUpdatedMessages();\r\n            this.subscribeToContextDestroyedMessages();\r\n            (_a = this._connection.replayer) === null || _a === void 0 ? void 0 : _a.drain(ContextMessageReplaySpec.name, function (message) {\r\n                var type = message.type;\r\n                if (!type) {\r\n                    return;\r\n                }\r\n                if (type === GW_MESSAGE_CONTEXT_CREATED ||\r\n                    type === GW_MESSAGE_CONTEXT_ADDED ||\r\n                    type === GW_MESSAGE_ACTIVITY_CREATED) {\r\n                    _this.handleContextCreatedMessage(message);\r\n                }\r\n                else if (type === GW_MESSAGE_SUBSCRIBED_CONTEXT ||\r\n                    type === GW_MESSAGE_CONTEXT_UPDATED ||\r\n                    type === GW_MESSAGE_JOINED_ACTIVITY) {\r\n                    _this.handleContextUpdatedMessage(message);\r\n                }\r\n                else if (type === GW_MESSAGE_CONTEXT_DESTROYED ||\r\n                    type === GW_MESSAGE_ACTIVITY_DESTROYED) {\r\n                    _this.handleContextDestroyedMessage(message);\r\n                }\r\n            });\r\n        }\r\n        Object.defineProperty(GW3Bridge.prototype, \"protocolVersion\", {\r\n            get: function () {\r\n                var _a;\r\n                if (!this._protocolVersion) {\r\n                    var contextsDomainInfo = this._connection.availableDomains.find(function (d) { return d.uri === \"context\"; });\r\n                    this._protocolVersion = (_a = contextsDomainInfo === null || contextsDomainInfo === void 0 ? void 0 : contextsDomainInfo.version) !== null && _a !== void 0 ? _a : 1;\r\n                }\r\n                return this._protocolVersion;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(GW3Bridge.prototype, \"setPathSupported\", {\r\n            get: function () {\r\n                return this.protocolVersion >= 2;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        GW3Bridge.prototype.dispose = function () {\r\n            for (var _i = 0, _a = this._gw3Subscriptions; _i < _a.length; _i++) {\r\n                var sub = _a[_i];\r\n                this._connection.off(sub);\r\n            }\r\n            this._gw3Subscriptions.length = 0;\r\n            for (var contextName in this._contextNameToData) {\r\n                if (this._contextNameToId.hasOwnProperty(contextName)) {\r\n                    delete this._contextNameToData[contextName];\r\n                }\r\n            }\r\n        };\r\n        GW3Bridge.prototype.createContext = function (name, data) {\r\n            var _this = this;\r\n            return this._gw3Session\r\n                .send({\r\n                type: GW_MESSAGE_CREATE_CONTEXT,\r\n                domain: \"global\",\r\n                name: name,\r\n                data: data,\r\n                lifetime: \"retained\",\r\n            })\r\n                .then(function (createContextMsg) {\r\n                _this._contextNameToId[name] = createContextMsg.context_id;\r\n                _this._contextIdToName[createContextMsg.context_id] = name;\r\n                var contextData = _this._contextNameToData[name] || new GW3ContextData(createContextMsg.context_id, name, true, undefined);\r\n                contextData.isAnnounced = true;\r\n                contextData.name = name;\r\n                contextData.contextId = createContextMsg.context_id;\r\n                contextData.context = data;\r\n                _this._contextNameToData[name] = contextData;\r\n                return createContextMsg.context_id;\r\n            });\r\n        };\r\n        GW3Bridge.prototype.all = function () {\r\n            var _this = this;\r\n            return Object.keys(this._contextNameToData)\r\n                .filter(function (name) { return _this._contextNameToData[name].isAnnounced; });\r\n        };\r\n        GW3Bridge.prototype.update = function (name, delta) {\r\n            var _a;\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var contextData, currentContext, calculatedDelta;\r\n                var _this = this;\r\n                return __generator$1(this, function (_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            contextData = this._contextNameToData[name];\r\n                            if (!contextData || !contextData.isAnnounced) {\r\n                                return [2, this.createContext(name, delta)];\r\n                            }\r\n                            currentContext = contextData.context;\r\n                            if (!!contextData.hasCallbacks()) return [3, 2];\r\n                            return [4, this.get(contextData.name)];\r\n                        case 1:\r\n                            currentContext = _b.sent();\r\n                            _b.label = 2;\r\n                        case 2:\r\n                            calculatedDelta = this.protocolVersion === 2 ?\r\n                                this.calculateContextDeltaV2(currentContext, delta) :\r\n                                this.calculateContextDeltaV1(currentContext, delta);\r\n                            if (!Object.keys(calculatedDelta.added).length\r\n                                && !Object.keys(calculatedDelta.updated).length\r\n                                && !calculatedDelta.removed.length\r\n                                && !((_a = calculatedDelta.commands) === null || _a === void 0 ? void 0 : _a.length)) {\r\n                                return [2, Promise.resolve()];\r\n                            }\r\n                            return [2, this._gw3Session\r\n                                    .send({\r\n                                    type: GW_MESSAGE_UPDATE_CONTEXT,\r\n                                    domain: \"global\",\r\n                                    context_id: contextData.contextId,\r\n                                    delta: calculatedDelta,\r\n                                }, {}, { skipPeerId: false })\r\n                                    .then(function (gwResponse) {\r\n                                    _this.handleUpdated(contextData, calculatedDelta, {\r\n                                        updaterId: gwResponse.peer_id\r\n                                    });\r\n                                })];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GW3Bridge.prototype.set = function (name, data) {\r\n            var _this = this;\r\n            var contextData = this._contextNameToData[name];\r\n            if (!contextData || !contextData.isAnnounced) {\r\n                return this.createContext(name, data);\r\n            }\r\n            return this._gw3Session\r\n                .send({\r\n                type: GW_MESSAGE_UPDATE_CONTEXT,\r\n                domain: \"global\",\r\n                context_id: contextData.contextId,\r\n                delta: { reset: data },\r\n            }, {}, { skipPeerId: false })\r\n                .then(function (gwResponse) {\r\n                _this.handleUpdated(contextData, { reset: data, added: {}, removed: [], updated: {} }, { updaterId: gwResponse.peer_id });\r\n            });\r\n        };\r\n        GW3Bridge.prototype.setPath = function (name, path, value) {\r\n            if (!this.setPathSupported) {\r\n                return Promise.reject(\"glue.contexts.setPath operation is not supported, use Glue42 3.10 or later\");\r\n            }\r\n            return this.setPaths(name, [{ path: path, value: value }]);\r\n        };\r\n        GW3Bridge.prototype.setPaths = function (name, pathValues) {\r\n            var _this = this;\r\n            if (!this.setPathSupported) {\r\n                return Promise.reject(\"glue.contexts.setPaths operation is not supported, use Glue42 3.10 or later\");\r\n            }\r\n            var contextData = this._contextNameToData[name];\r\n            if (!contextData || !contextData.isAnnounced) {\r\n                var obj = {};\r\n                for (var _i = 0, pathValues_1 = pathValues; _i < pathValues_1.length; _i++) {\r\n                    var pathValue = pathValues_1[_i];\r\n                    setValueToPath(obj, pathValue.value, pathValue.path);\r\n                }\r\n                return this.createContext(name, obj);\r\n            }\r\n            var commands = [];\r\n            for (var _a = 0, pathValues_2 = pathValues; _a < pathValues_2.length; _a++) {\r\n                var pathValue = pathValues_2[_a];\r\n                if (pathValue.value === null) {\r\n                    commands.push({ type: \"remove\", path: pathValue.path });\r\n                }\r\n                else {\r\n                    commands.push({ type: \"set\", path: pathValue.path, value: pathValue.value });\r\n                }\r\n            }\r\n            return this._gw3Session\r\n                .send({\r\n                type: GW_MESSAGE_UPDATE_CONTEXT,\r\n                domain: \"global\",\r\n                context_id: contextData.contextId,\r\n                delta: { commands: commands }\r\n            }, {}, { skipPeerId: false })\r\n                .then(function (gwResponse) {\r\n                _this.handleUpdated(contextData, { added: {}, removed: [], updated: {}, commands: commands }, { updaterId: gwResponse.peer_id });\r\n            });\r\n        };\r\n        GW3Bridge.prototype.get = function (name) {\r\n            var _this = this;\r\n            var _a;\r\n            var contextData = this._contextNameToData[name];\r\n            if (!contextData || !contextData.isAnnounced) {\r\n                return Promise.resolve({});\r\n            }\r\n            if (contextData && !contextData.hasCallbacks()) {\r\n                return new Promise(function (resolve, _) { return __awaiter$1(_this, void 0, void 0, function () {\r\n                    var _this = this;\r\n                    return __generator$1(this, function (_a) {\r\n                        this.subscribe(name, function (data, _d, _r, un) {\r\n                            _this.unsubscribe(un);\r\n                            resolve(data);\r\n                        });\r\n                        return [2];\r\n                    });\r\n                }); });\r\n            }\r\n            var context = (_a = contextData === null || contextData === void 0 ? void 0 : contextData.context) !== null && _a !== void 0 ? _a : {};\r\n            return Promise.resolve(context);\r\n        };\r\n        GW3Bridge.prototype.subscribe = function (name, callback) {\r\n            var thisCallbackSubscriptionNumber = this._nextCallbackSubscriptionNumber;\r\n            this._nextCallbackSubscriptionNumber += 1;\r\n            var contextData = this._contextNameToData[name];\r\n            if (!contextData ||\r\n                !contextData.isAnnounced) {\r\n                contextData = contextData || new GW3ContextData(undefined, name, false, undefined);\r\n                this._contextNameToData[name] = contextData;\r\n                contextData.updateCallbacks[thisCallbackSubscriptionNumber] = callback;\r\n                return Promise.resolve(thisCallbackSubscriptionNumber);\r\n            }\r\n            var hadCallbacks = contextData.hasCallbacks();\r\n            contextData.updateCallbacks[thisCallbackSubscriptionNumber] = callback;\r\n            if (!hadCallbacks) {\r\n                if (!contextData.joinedActivity) {\r\n                    if (contextData.context && contextData.sentExplicitSubscription) {\r\n                        var clone = deepClone(contextData.context);\r\n                        callback(clone, clone, [], thisCallbackSubscriptionNumber);\r\n                        return Promise.resolve(thisCallbackSubscriptionNumber);\r\n                    }\r\n                    return this.sendSubscribe(contextData)\r\n                        .then(function () { return thisCallbackSubscriptionNumber; });\r\n                }\r\n                else {\r\n                    var clone = deepClone(contextData.context);\r\n                    callback(clone, clone, [], thisCallbackSubscriptionNumber);\r\n                    return Promise.resolve(thisCallbackSubscriptionNumber);\r\n                }\r\n            }\r\n            else {\r\n                var clone = deepClone(contextData.context);\r\n                callback(clone, clone, [], thisCallbackSubscriptionNumber);\r\n                return Promise.resolve(thisCallbackSubscriptionNumber);\r\n            }\r\n        };\r\n        GW3Bridge.prototype.unsubscribe = function (subscriptionKey) {\r\n            for (var _i = 0, _a = Object.keys(this._contextNameToData); _i < _a.length; _i++) {\r\n                var name_1 = _a[_i];\r\n                var contextId = this._contextNameToId[name_1];\r\n                var contextData = this._contextNameToData[name_1];\r\n                if (!contextData) {\r\n                    return;\r\n                }\r\n                var hadCallbacks = contextData.hasCallbacks();\r\n                delete contextData.updateCallbacks[subscriptionKey];\r\n                if (contextData.isAnnounced &&\r\n                    hadCallbacks &&\r\n                    !contextData.hasCallbacks() &&\r\n                    contextData.sentExplicitSubscription) {\r\n                    this.sendUnsubscribe(contextData);\r\n                }\r\n                if (!contextData.isAnnounced &&\r\n                    !contextData.hasCallbacks()) {\r\n                    delete this._contextNameToData[name_1];\r\n                }\r\n            }\r\n        };\r\n        GW3Bridge.prototype.destroy = function (name) {\r\n            var contextData = this._contextNameToData[name];\r\n            if (!contextData) {\r\n                return Promise.reject(\"context with \" + name + \" does not exist\");\r\n            }\r\n            return this._gw3Session\r\n                .send({\r\n                type: GW_MESSAGE_DESTROY_CONTEXT,\r\n                domain: \"global\",\r\n                context_id: contextData.contextId,\r\n            }).then(function (_) { return undefined; });\r\n        };\r\n        GW3Bridge.prototype.handleUpdated = function (contextData, delta, extraData) {\r\n            var oldContext = contextData.context;\r\n            contextData.context = applyContextDelta(contextData.context, delta, this._logger);\r\n            if (this._contextNameToData[contextData.name] === contextData &&\r\n                !deepEqual(oldContext, contextData.context)) {\r\n                this.invokeUpdateCallbacks(contextData, delta, extraData);\r\n            }\r\n        };\r\n        GW3Bridge.prototype.subscribeToContextCreatedMessages = function () {\r\n            var createdMessageTypes = [\r\n                GW_MESSAGE_CONTEXT_ADDED,\r\n                GW_MESSAGE_CONTEXT_CREATED,\r\n                GW_MESSAGE_ACTIVITY_CREATED,\r\n            ];\r\n            for (var _i = 0, createdMessageTypes_1 = createdMessageTypes; _i < createdMessageTypes_1.length; _i++) {\r\n                var createdMessageType = createdMessageTypes_1[_i];\r\n                var sub = this._connection.on(createdMessageType, this.handleContextCreatedMessage.bind(this));\r\n                this._gw3Subscriptions.push(sub);\r\n            }\r\n        };\r\n        GW3Bridge.prototype.handleContextCreatedMessage = function (contextCreatedMsg) {\r\n            var createdMessageType = contextCreatedMsg.type;\r\n            if (createdMessageType === GW_MESSAGE_ACTIVITY_CREATED) {\r\n                this._contextNameToId[contextCreatedMsg.activity_id] = contextCreatedMsg.context_id;\r\n                this._contextIdToName[contextCreatedMsg.context_id] = contextCreatedMsg.activity_id;\r\n            }\r\n            else if (createdMessageType === GW_MESSAGE_CONTEXT_ADDED) {\r\n                this._contextNameToId[contextCreatedMsg.name] = contextCreatedMsg.context_id;\r\n                this._contextIdToName[contextCreatedMsg.context_id] = contextCreatedMsg.name;\r\n            }\r\n            else ;\r\n            var name = this._contextIdToName[contextCreatedMsg.context_id];\r\n            if (!name) {\r\n                throw new Error(\"Received created event for context with unknown name: \" + contextCreatedMsg.context_id);\r\n            }\r\n            if (!this._contextNameToId[name]) {\r\n                throw new Error(\"Received created event for context with unknown id: \" + contextCreatedMsg.context_id);\r\n            }\r\n            var contextData = this._contextNameToData[name];\r\n            if (contextData) {\r\n                if (contextData.isAnnounced) {\r\n                    return;\r\n                }\r\n                else {\r\n                    if (!contextData.hasCallbacks()) {\r\n                        throw new Error(\"Assertion failure: contextData.hasCallbacks()\");\r\n                    }\r\n                    contextData.isAnnounced = true;\r\n                    contextData.contextId = contextCreatedMsg.context_id;\r\n                    contextData.activityId = contextCreatedMsg.activity_id;\r\n                    if (!contextData.sentExplicitSubscription) {\r\n                        this.sendSubscribe(contextData);\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                this._contextNameToData[name] = contextData =\r\n                    new GW3ContextData(contextCreatedMsg.context_id, name, true, contextCreatedMsg.activity_id);\r\n            }\r\n        };\r\n        GW3Bridge.prototype.subscribeToContextUpdatedMessages = function () {\r\n            var updatedMessageTypes = [\r\n                GW_MESSAGE_CONTEXT_UPDATED,\r\n                GW_MESSAGE_SUBSCRIBED_CONTEXT,\r\n                GW_MESSAGE_JOINED_ACTIVITY,\r\n            ];\r\n            for (var _i = 0, updatedMessageTypes_1 = updatedMessageTypes; _i < updatedMessageTypes_1.length; _i++) {\r\n                var updatedMessageType = updatedMessageTypes_1[_i];\r\n                var sub = this._connection.on(updatedMessageType, this.handleContextUpdatedMessage.bind(this));\r\n                this._gw3Subscriptions.push(sub);\r\n            }\r\n        };\r\n        GW3Bridge.prototype.handleContextUpdatedMessage = function (contextUpdatedMsg) {\r\n            var updatedMessageType = contextUpdatedMsg.type;\r\n            var contextId = contextUpdatedMsg.context_id;\r\n            var contextData = this._contextNameToData[this._contextIdToName[contextId]];\r\n            var justSeen = !contextData || !contextData.isAnnounced;\r\n            if (updatedMessageType === GW_MESSAGE_JOINED_ACTIVITY) {\r\n                if (!contextData) {\r\n                    contextData = new GW3ContextData(contextId, contextUpdatedMsg.activity_id, true, contextUpdatedMsg.activity_id);\r\n                    this._contextNameToData[contextUpdatedMsg.activity_id] = contextData;\r\n                    this._contextIdToName[contextId] = contextUpdatedMsg.activity_id;\r\n                    this._contextNameToId[contextUpdatedMsg.activity_id] = contextId;\r\n                }\r\n                else {\r\n                    contextData.contextId = contextId;\r\n                    contextData.isAnnounced = true;\r\n                    contextData.activityId = contextUpdatedMsg.activity_id;\r\n                }\r\n                contextData.joinedActivity = true;\r\n            }\r\n            else {\r\n                if (!contextData || !contextData.isAnnounced) {\r\n                    if (updatedMessageType === GW_MESSAGE_SUBSCRIBED_CONTEXT) {\r\n                        contextData = contextData || new GW3ContextData(contextId, contextUpdatedMsg.name, true, undefined);\r\n                        contextData.sentExplicitSubscription = true;\r\n                        this._contextNameToData[contextUpdatedMsg.name] = contextData;\r\n                        this._contextIdToName[contextId] = contextUpdatedMsg.name;\r\n                        this._contextNameToId[contextUpdatedMsg.name] = contextId;\r\n                    }\r\n                    else {\r\n                        this._logger.error(\"Received 'update' for unknown context: \" + contextId);\r\n                    }\r\n                    return;\r\n                }\r\n            }\r\n            var oldContext = contextData.context;\r\n            if (updatedMessageType === GW_MESSAGE_SUBSCRIBED_CONTEXT) {\r\n                contextData.context = contextUpdatedMsg.data || {};\r\n            }\r\n            else if (updatedMessageType === GW_MESSAGE_JOINED_ACTIVITY) {\r\n                contextData.context = contextUpdatedMsg.context_snapshot || {};\r\n            }\r\n            else if (updatedMessageType === GW_MESSAGE_CONTEXT_UPDATED) {\r\n                contextData.context = applyContextDelta(contextData.context, contextUpdatedMsg.delta, this._logger);\r\n            }\r\n            else {\r\n                throw new Error(\"Unrecognized context update message \" + updatedMessageType);\r\n            }\r\n            if (justSeen ||\r\n                !deepEqual(contextData.context, oldContext) ||\r\n                updatedMessageType === GW_MESSAGE_SUBSCRIBED_CONTEXT) {\r\n                this.invokeUpdateCallbacks(contextData, contextUpdatedMsg.delta, { updaterId: contextUpdatedMsg.updater_id });\r\n            }\r\n        };\r\n        GW3Bridge.prototype.invokeUpdateCallbacks = function (contextData, delta, extraData) {\r\n            delta = delta || { added: {}, updated: {}, reset: {}, removed: [] };\r\n            if (delta.commands) {\r\n                delta.added = delta.updated = delta.reset = {};\r\n                delta.removed = [];\r\n                for (var _i = 0, _a = delta.commands; _i < _a.length; _i++) {\r\n                    var command = _a[_i];\r\n                    if (command.type === \"remove\") {\r\n                        if (command.path.indexOf(\".\") === -1) {\r\n                            delta.removed.push(command.path);\r\n                        }\r\n                        setValueToPath(delta.updated, null, command.path);\r\n                    }\r\n                    else if (command.type === \"set\") {\r\n                        setValueToPath(delta.updated, command.value, command.path);\r\n                    }\r\n                }\r\n            }\r\n            for (var updateCallbackIndex in contextData.updateCallbacks) {\r\n                if (contextData.updateCallbacks.hasOwnProperty(updateCallbackIndex)) {\r\n                    try {\r\n                        var updateCallback = contextData.updateCallbacks[updateCallbackIndex];\r\n                        updateCallback(deepClone(contextData.context), Object.assign({}, delta.added || {}, delta.updated || {}, delta.reset || {}), delta.removed, parseInt(updateCallbackIndex, 10), extraData);\r\n                    }\r\n                    catch (err) {\r\n                        this._logger.debug(\"callback error: \" + JSON.stringify(err));\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        GW3Bridge.prototype.subscribeToContextDestroyedMessages = function () {\r\n            var destroyedMessageTypes = [\r\n                GW_MESSAGE_CONTEXT_DESTROYED,\r\n                GW_MESSAGE_ACTIVITY_DESTROYED,\r\n            ];\r\n            for (var _i = 0, destroyedMessageTypes_1 = destroyedMessageTypes; _i < destroyedMessageTypes_1.length; _i++) {\r\n                var destroyedMessageType = destroyedMessageTypes_1[_i];\r\n                var sub = this._connection.on(destroyedMessageType, this.handleContextDestroyedMessage.bind(this));\r\n                this._gw3Subscriptions.push(sub);\r\n            }\r\n        };\r\n        GW3Bridge.prototype.handleContextDestroyedMessage = function (destroyedMsg) {\r\n            var destroyedMessageType = destroyedMsg.type;\r\n            var contextId;\r\n            var name;\r\n            if (destroyedMessageType === GW_MESSAGE_ACTIVITY_DESTROYED) {\r\n                name = destroyedMsg.activity_id;\r\n                contextId = this._contextNameToId[name];\r\n                if (!contextId) {\r\n                    this._logger.error(\"Received 'destroyed' for unknown activity: \" + destroyedMsg.activity_id);\r\n                    return;\r\n                }\r\n            }\r\n            else {\r\n                contextId = destroyedMsg.context_id;\r\n                name = this._contextIdToName[contextId];\r\n                if (!name) {\r\n                    this._logger.error(\"Received 'destroyed' for unknown context: \" + destroyedMsg.context_id);\r\n                    return;\r\n                }\r\n            }\r\n            delete this._contextIdToName[contextId];\r\n            delete this._contextNameToId[name];\r\n            var contextData = this._contextNameToData[name];\r\n            delete this._contextNameToData[name];\r\n            if (!contextData || !contextData.isAnnounced) {\r\n                this._logger.error(\"Received 'destroyed' for unknown context: \" + contextId);\r\n                return;\r\n            }\r\n        };\r\n        GW3Bridge.prototype.sendSubscribe = function (contextData) {\r\n            contextData.sentExplicitSubscription = true;\r\n            return this._gw3Session\r\n                .send({\r\n                type: GW_MESSAGE_SUBSCRIBE_CONTEXT,\r\n                domain: \"global\",\r\n                context_id: contextData.contextId,\r\n            }).then(function (_) { return undefined; });\r\n        };\r\n        GW3Bridge.prototype.sendUnsubscribe = function (contextData) {\r\n            contextData.sentExplicitSubscription = false;\r\n            return this._gw3Session\r\n                .send({\r\n                type: GW_MESSAGE_UNSUBSCRIBE_CONTEXT,\r\n                domain: \"global\",\r\n                context_id: contextData.contextId,\r\n            }).then(function (_) { return undefined; });\r\n        };\r\n        GW3Bridge.prototype.calculateContextDeltaV1 = function (from, to) {\r\n            var delta = { added: {}, updated: {}, removed: [], reset: undefined };\r\n            if (from) {\r\n                for (var _i = 0, _a = Object.keys(from); _i < _a.length; _i++) {\r\n                    var x = _a[_i];\r\n                    if (Object.keys(to).indexOf(x) !== -1\r\n                        && to[x] !== null\r\n                        && !deepEqual(from[x], to[x])) {\r\n                        delta.updated[x] = to[x];\r\n                    }\r\n                }\r\n            }\r\n            for (var _b = 0, _c = Object.keys(to); _b < _c.length; _b++) {\r\n                var x = _c[_b];\r\n                if (!from || (Object.keys(from).indexOf(x) === -1)) {\r\n                    if (to[x] !== null) {\r\n                        delta.added[x] = to[x];\r\n                    }\r\n                }\r\n                else if (to[x] === null) {\r\n                    delta.removed.push(x);\r\n                }\r\n            }\r\n            return delta;\r\n        };\r\n        GW3Bridge.prototype.calculateContextDeltaV2 = function (from, to) {\r\n            var _a, _b;\r\n            var delta = { added: {}, updated: {}, removed: [], reset: undefined, commands: [] };\r\n            for (var _i = 0, _c = Object.keys(to); _i < _c.length; _i++) {\r\n                var x = _c[_i];\r\n                if (to[x] !== null) {\r\n                    var fromX = from ? from[x] : null;\r\n                    if (!deepEqual(fromX, to[x])) {\r\n                        (_a = delta.commands) === null || _a === void 0 ? void 0 : _a.push({ type: \"set\", path: x, value: to[x] });\r\n                    }\r\n                }\r\n                else {\r\n                    (_b = delta.commands) === null || _b === void 0 ? void 0 : _b.push({ type: \"remove\", path: x });\r\n                }\r\n            }\r\n            return delta;\r\n        };\r\n        return GW3Bridge;\r\n    }());\n\n    var ContextsModule = (function () {\r\n        function ContextsModule(config) {\r\n            this._bridge = new GW3Bridge(config);\r\n        }\r\n        ContextsModule.prototype.all = function () {\r\n            return this._bridge.all();\r\n        };\r\n        ContextsModule.prototype.update = function (name, data) {\r\n            this.checkName(name);\r\n            this.checkData(data);\r\n            return this._bridge.update(name, data);\r\n        };\r\n        ContextsModule.prototype.set = function (name, data) {\r\n            this.checkName(name);\r\n            this.checkData(data);\r\n            return this._bridge.set(name, data);\r\n        };\r\n        ContextsModule.prototype.setPath = function (name, path, data) {\r\n            this.checkName(name);\r\n            this.checkPath(path);\r\n            var isTopLevelPath = path === \"\";\r\n            if (isTopLevelPath) {\r\n                this.checkData(data);\r\n                return this.set(name, data);\r\n            }\r\n            return this._bridge.setPath(name, path, data);\r\n        };\r\n        ContextsModule.prototype.setPaths = function (name, paths) {\r\n            this.checkName(name);\r\n            if (!Array.isArray(paths)) {\r\n                throw new Error(\"Please provide the paths as an array of PathValues!\");\r\n            }\r\n            for (var _i = 0, paths_1 = paths; _i < paths_1.length; _i++) {\r\n                var _a = paths_1[_i], path = _a.path, value = _a.value;\r\n                this.checkPath(path);\r\n                var isTopLevelPath = path === \"\";\r\n                if (isTopLevelPath) {\r\n                    this.checkData(value);\r\n                }\r\n            }\r\n            return this._bridge.setPaths(name, paths);\r\n        };\r\n        ContextsModule.prototype.subscribe = function (name, callback) {\r\n            var _this = this;\r\n            this.checkName(name);\r\n            if (typeof callback !== \"function\") {\r\n                throw new Error(\"Please provide the callback as a function!\");\r\n            }\r\n            return this._bridge\r\n                .subscribe(name, function (data, delta, removed, key, extraData) { return callback(data, delta, removed, function () { return _this._bridge.unsubscribe(key); }, extraData); })\r\n                .then(function (key) {\r\n                return function () {\r\n                    _this._bridge.unsubscribe(key);\r\n                };\r\n            });\r\n        };\r\n        ContextsModule.prototype.get = function (name) {\r\n            this.checkName(name);\r\n            return this._bridge.get(name);\r\n        };\r\n        ContextsModule.prototype.ready = function () {\r\n            return Promise.resolve(this);\r\n        };\r\n        ContextsModule.prototype.destroy = function (name) {\r\n            this.checkName(name);\r\n            return this._bridge.destroy(name);\r\n        };\r\n        Object.defineProperty(ContextsModule.prototype, \"setPathSupported\", {\r\n            get: function () {\r\n                return this._bridge.setPathSupported;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ContextsModule.prototype.checkName = function (name) {\r\n            if (typeof name !== \"string\" || name === \"\") {\r\n                throw new Error(\"Please provide the name as a non-empty string!\");\r\n            }\r\n        };\r\n        ContextsModule.prototype.checkPath = function (path) {\r\n            if (typeof path !== \"string\") {\r\n                throw new Error(\"Please provide the path as a dot delimited string!\");\r\n            }\r\n        };\r\n        ContextsModule.prototype.checkData = function (data) {\r\n            if (typeof data !== \"object\") {\r\n                throw new Error(\"Please provide the data as an object!\");\r\n            }\r\n        };\r\n        return ContextsModule;\r\n    }());\n\n    function promisify (promise, successCallback, errorCallback) {\r\n        if (typeof successCallback !== \"function\" && typeof errorCallback !== \"function\") {\r\n            return promise;\r\n        }\r\n        if (typeof successCallback !== \"function\") {\r\n            successCallback = function () { };\r\n        }\r\n        else if (typeof errorCallback !== \"function\") {\r\n            errorCallback = function () { };\r\n        }\r\n        return promise.then(successCallback, errorCallback);\r\n    }\n\n    function rejectAfter(ms, promise, error) {\r\n        if (ms === void 0) { ms = 0; }\r\n        var timeout;\r\n        var clearTimeoutIfThere = function () {\r\n            if (timeout) {\r\n                clearTimeout(timeout);\r\n            }\r\n        };\r\n        promise\r\n            .then(function () {\r\n            clearTimeoutIfThere();\r\n        })\r\n            .catch(function () {\r\n            clearTimeoutIfThere();\r\n        });\r\n        return new Promise(function (resolve, reject) {\r\n            timeout = setTimeout(function () { return reject(error); }, ms);\r\n        });\r\n    }\n\n    var InvokeStatus;\r\n    (function (InvokeStatus) {\r\n        InvokeStatus[InvokeStatus[\"Success\"] = 0] = \"Success\";\r\n        InvokeStatus[InvokeStatus[\"Error\"] = 1] = \"Error\";\r\n    })(InvokeStatus || (InvokeStatus = {}));\r\n    var Client = (function () {\r\n        function Client(protocol, repo, instance, configuration) {\r\n            this.protocol = protocol;\r\n            this.repo = repo;\r\n            this.instance = instance;\r\n            this.configuration = configuration;\r\n        }\r\n        Client.prototype.subscribe = function (method, options, successCallback, errorCallback, existingSub) {\r\n            var _this = this;\r\n            var callProtocolSubscribe = function (targetServers, stream, successProxy, errorProxy) {\r\n                var _a;\r\n                options.methodResponseTimeout = (_a = options.methodResponseTimeout) !== null && _a !== void 0 ? _a : options.waitTimeoutMs;\r\n                _this.protocol.client.subscribe(stream, options, targetServers, successProxy, errorProxy, existingSub);\r\n            };\r\n            var promise = new Promise(function (resolve, reject) {\r\n                var successProxy = function (sub) {\r\n                    resolve(sub);\r\n                };\r\n                var errorProxy = function (err) {\r\n                    reject(err);\r\n                };\r\n                if (!method) {\r\n                    reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n                    return;\r\n                }\r\n                var methodDef;\r\n                if (typeof method === \"string\") {\r\n                    methodDef = { name: method };\r\n                }\r\n                else {\r\n                    methodDef = method;\r\n                }\r\n                if (!methodDef.name) {\r\n                    reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n                    return;\r\n                }\r\n                if (options === undefined) {\r\n                    options = {};\r\n                }\r\n                var target = options.target;\r\n                if (target === undefined) {\r\n                    target = \"best\";\r\n                }\r\n                if (typeof target === \"string\" && target !== \"all\" && target !== \"best\") {\r\n                    reject(new Error(\"\\\"\" + target + \"\\\" is not a valid target. Valid targets are \\\"all\\\", \\\"best\\\", or an instance.\"));\r\n                    return;\r\n                }\r\n                if (options.methodResponseTimeout === undefined) {\r\n                    options.methodResponseTimeout = options.method_response_timeout;\r\n                    if (options.methodResponseTimeout === undefined) {\r\n                        options.methodResponseTimeout = _this.configuration.methodResponseTimeout;\r\n                    }\r\n                }\r\n                if (options.waitTimeoutMs === undefined) {\r\n                    options.waitTimeoutMs = options.wait_for_method_timeout;\r\n                    if (options.waitTimeoutMs === undefined) {\r\n                        options.waitTimeoutMs = _this.configuration.waitTimeoutMs;\r\n                    }\r\n                }\r\n                var delayStep = 500;\r\n                var delayTillNow = 0;\r\n                var currentServers = _this.getServerMethodsByFilterAndTarget(methodDef, target);\r\n                if (currentServers.length > 0) {\r\n                    callProtocolSubscribe(currentServers, currentServers[0].methods[0], successProxy, errorProxy);\r\n                }\r\n                else {\r\n                    var retry_1 = function () {\r\n                        if (!target || !(options.waitTimeoutMs)) {\r\n                            return;\r\n                        }\r\n                        delayTillNow += delayStep;\r\n                        currentServers = _this.getServerMethodsByFilterAndTarget(methodDef, target);\r\n                        if (currentServers.length > 0) {\r\n                            var streamInfo = currentServers[0].methods[0];\r\n                            callProtocolSubscribe(currentServers, streamInfo, successProxy, errorProxy);\r\n                        }\r\n                        else if (delayTillNow >= options.waitTimeoutMs) {\r\n                            var def = typeof method === \"string\" ? { name: method } : method;\r\n                            callProtocolSubscribe(currentServers, def, successProxy, errorProxy);\r\n                        }\r\n                        else {\r\n                            setTimeout(retry_1, delayStep);\r\n                        }\r\n                    };\r\n                    setTimeout(retry_1, delayStep);\r\n                }\r\n            });\r\n            return promisify(promise, successCallback, errorCallback);\r\n        };\r\n        Client.prototype.servers = function (methodFilter) {\r\n            var filterCopy = methodFilter === undefined\r\n                ? undefined\r\n                : __assign$1({}, methodFilter);\r\n            return this.getServers(filterCopy).map(function (serverMethodMap) {\r\n                return serverMethodMap.server.instance;\r\n            });\r\n        };\r\n        Client.prototype.methods = function (methodFilter) {\r\n            if (typeof methodFilter === \"string\") {\r\n                methodFilter = { name: methodFilter };\r\n            }\r\n            else {\r\n                methodFilter = __assign$1({}, methodFilter);\r\n            }\r\n            return this.getMethods(methodFilter);\r\n        };\r\n        Client.prototype.methodsForInstance = function (instance) {\r\n            return this.getMethodsForInstance(instance);\r\n        };\r\n        Client.prototype.methodAdded = function (callback) {\r\n            return this.repo.onMethodAdded(callback);\r\n        };\r\n        Client.prototype.methodRemoved = function (callback) {\r\n            return this.repo.onMethodRemoved(callback);\r\n        };\r\n        Client.prototype.serverAdded = function (callback) {\r\n            return this.repo.onServerAdded(callback);\r\n        };\r\n        Client.prototype.serverRemoved = function (callback) {\r\n            return this.repo.onServerRemoved(function (server, reason) {\r\n                callback(server, reason);\r\n            });\r\n        };\r\n        Client.prototype.serverMethodAdded = function (callback) {\r\n            return this.repo.onServerMethodAdded(function (server, method) {\r\n                callback({ server: server, method: method });\r\n            });\r\n        };\r\n        Client.prototype.serverMethodRemoved = function (callback) {\r\n            return this.repo.onServerMethodRemoved(function (server, method) {\r\n                callback({ server: server, method: method });\r\n            });\r\n        };\r\n        Client.prototype.invoke = function (methodFilter, argumentObj, target, additionalOptions, success, error) {\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var getInvokePromise;\r\n                var _this = this;\r\n                return __generator$1(this, function (_a) {\r\n                    getInvokePromise = function () { return __awaiter$1(_this, void 0, void 0, function () {\r\n                        var methodDefinition, serversMethodMap, err_1, method, errorObj, timeout, additionalOptionsCopy, invokePromises, invocationMessages, results, allRejected;\r\n                        var _this = this;\r\n                        var _a, _b, _c;\r\n                        return __generator$1(this, function (_d) {\r\n                            switch (_d.label) {\r\n                                case 0:\r\n                                    if (typeof methodFilter === \"string\") {\r\n                                        methodDefinition = { name: methodFilter };\r\n                                    }\r\n                                    else {\r\n                                        methodDefinition = __assign$1({}, methodFilter);\r\n                                    }\r\n                                    if (!methodDefinition.name) {\r\n                                        return [2, Promise.reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\")];\r\n                                    }\r\n                                    if (!argumentObj) {\r\n                                        argumentObj = {};\r\n                                    }\r\n                                    if (!target) {\r\n                                        target = \"best\";\r\n                                    }\r\n                                    if (typeof target === \"string\" && target !== \"all\" && target !== \"best\" && target !== \"skipMine\") {\r\n                                        return [2, Promise.reject(new Error(\"\\\"\" + target + \"\\\" is not a valid target. Valid targets are \\\"all\\\" and \\\"best\\\".\"))];\r\n                                    }\r\n                                    if (!additionalOptions) {\r\n                                        additionalOptions = {};\r\n                                    }\r\n                                    if (additionalOptions.methodResponseTimeoutMs === undefined) {\r\n                                        additionalOptions.methodResponseTimeoutMs = additionalOptions.method_response_timeout;\r\n                                        if (additionalOptions.methodResponseTimeoutMs === undefined) {\r\n                                            additionalOptions.methodResponseTimeoutMs = this.configuration.methodResponseTimeout;\r\n                                        }\r\n                                    }\r\n                                    if (additionalOptions.waitTimeoutMs === undefined) {\r\n                                        additionalOptions.waitTimeoutMs = additionalOptions.wait_for_method_timeout;\r\n                                        if (additionalOptions.waitTimeoutMs === undefined) {\r\n                                            additionalOptions.waitTimeoutMs = this.configuration.waitTimeoutMs;\r\n                                        }\r\n                                    }\r\n                                    if (additionalOptions.waitTimeoutMs !== undefined && typeof additionalOptions.waitTimeoutMs !== \"number\") {\r\n                                        return [2, Promise.reject(new Error(\"\\\"\" + additionalOptions.waitTimeoutMs + \"\\\" is not a valid number for \\\"waitTimeoutMs\\\" \"))];\r\n                                    }\r\n                                    if (typeof argumentObj !== \"object\") {\r\n                                        return [2, Promise.reject(new Error(\"The method arguments must be an object. method: \" + methodDefinition.name))];\r\n                                    }\r\n                                    serversMethodMap = this.getServerMethodsByFilterAndTarget(methodDefinition, target);\r\n                                    if (!(serversMethodMap.length === 0)) return [3, 4];\r\n                                    _d.label = 1;\r\n                                case 1:\r\n                                    _d.trys.push([1, 3, , 4]);\r\n                                    return [4, this.tryToAwaitForMethods(methodDefinition, target, additionalOptions)];\r\n                                case 2:\r\n                                    serversMethodMap = _d.sent();\r\n                                    return [3, 4];\r\n                                case 3:\r\n                                    err_1 = _d.sent();\r\n                                    method = __assign$1(__assign$1({}, methodDefinition), { getServers: function () { return []; }, supportsStreaming: false, objectTypes: (_a = methodDefinition.objectTypes) !== null && _a !== void 0 ? _a : [], flags: (_c = (_b = methodDefinition.flags) === null || _b === void 0 ? void 0 : _b.metadata) !== null && _c !== void 0 ? _c : {} });\r\n                                    errorObj = {\r\n                                        method: method,\r\n                                        called_with: argumentObj,\r\n                                        message: \"Can not find a method matching \" + JSON.stringify(methodFilter) + \" with server filter \" + JSON.stringify(target),\r\n                                        executed_by: undefined,\r\n                                        returned: undefined,\r\n                                        status: undefined,\r\n                                    };\r\n                                    return [2, Promise.reject(errorObj)];\r\n                                case 4:\r\n                                    timeout = additionalOptions.methodResponseTimeoutMs;\r\n                                    additionalOptionsCopy = additionalOptions;\r\n                                    invokePromises = serversMethodMap.map(function (serversMethodPair) {\r\n                                        var invId = shortid();\r\n                                        var method = serversMethodPair.methods[0];\r\n                                        var server = serversMethodPair.server;\r\n                                        var invokePromise = _this.protocol.client.invoke(invId, method, argumentObj, server, additionalOptionsCopy);\r\n                                        return Promise.race([\r\n                                            invokePromise,\r\n                                            rejectAfter(timeout, invokePromise, {\r\n                                                invocationId: invId,\r\n                                                message: \"Invocation timeout (\" + timeout + \" ms) reached for method name: \" + (method === null || method === void 0 ? void 0 : method.name) + \", target instance: \" + JSON.stringify(server.instance) + \", options: \" + JSON.stringify(additionalOptionsCopy),\r\n                                                status: InvokeStatus.Error,\r\n                                            })\r\n                                        ]);\r\n                                    });\r\n                                    return [4, Promise.all(invokePromises)];\r\n                                case 5:\r\n                                    invocationMessages = _d.sent();\r\n                                    results = this.getInvocationResultObj(invocationMessages, methodDefinition, argumentObj);\r\n                                    allRejected = invocationMessages.every(function (result) { return result.status === InvokeStatus.Error; });\r\n                                    if (allRejected) {\r\n                                        return [2, Promise.reject(results)];\r\n                                    }\r\n                                    return [2, results];\r\n                            }\r\n                        });\r\n                    }); };\r\n                    return [2, promisify(getInvokePromise(), success, error)];\r\n                });\r\n            });\r\n        };\r\n        Client.prototype.getInvocationResultObj = function (invocationResults, method, calledWith) {\r\n            var all_return_values = invocationResults\r\n                .filter(function (invokeMessage) { return invokeMessage.status === InvokeStatus.Success; })\r\n                .reduce(function (allValues, currentValue) {\r\n                allValues = __spreadArrays(allValues, [\r\n                    {\r\n                        executed_by: currentValue.instance,\r\n                        returned: currentValue.result,\r\n                        called_with: calledWith,\r\n                        method: method,\r\n                        message: currentValue.message,\r\n                        status: currentValue.status,\r\n                    }\r\n                ]);\r\n                return allValues;\r\n            }, []);\r\n            var all_errors = invocationResults\r\n                .filter(function (invokeMessage) { return invokeMessage.status === InvokeStatus.Error; })\r\n                .reduce(function (allErrors, currError) {\r\n                allErrors = __spreadArrays(allErrors, [\r\n                    {\r\n                        executed_by: currError.instance,\r\n                        called_with: calledWith,\r\n                        name: method.name,\r\n                        message: currError.message,\r\n                    }\r\n                ]);\r\n                return allErrors;\r\n            }, []);\r\n            var invResult = invocationResults[0];\r\n            var result = {\r\n                method: method,\r\n                called_with: calledWith,\r\n                returned: invResult.result,\r\n                executed_by: invResult.instance,\r\n                all_return_values: all_return_values,\r\n                all_errors: all_errors,\r\n                message: invResult.message,\r\n                status: invResult.status\r\n            };\r\n            return result;\r\n        };\r\n        Client.prototype.tryToAwaitForMethods = function (methodDefinition, target, additionalOptions) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                if (additionalOptions.waitTimeoutMs === 0) {\r\n                    reject();\r\n                    return;\r\n                }\r\n                var delayStep = 500;\r\n                var delayTillNow = 0;\r\n                var retry = function () {\r\n                    delayTillNow += delayStep;\r\n                    var serversMethodMap = _this.getServerMethodsByFilterAndTarget(methodDefinition, target);\r\n                    if (serversMethodMap.length > 0) {\r\n                        clearInterval(interval);\r\n                        resolve(serversMethodMap);\r\n                    }\r\n                    else if (delayTillNow >= (additionalOptions.waitTimeoutMs || 10000)) {\r\n                        clearInterval(interval);\r\n                        reject();\r\n                        return;\r\n                    }\r\n                };\r\n                var interval = setInterval(retry, delayStep);\r\n            });\r\n        };\r\n        Client.prototype.filterByTarget = function (target, serverMethodMap) {\r\n            var _this = this;\r\n            if (typeof target === \"string\") {\r\n                if (target === \"all\") {\r\n                    return __spreadArrays(serverMethodMap);\r\n                }\r\n                else if (target === \"best\") {\r\n                    var localMachine = serverMethodMap\r\n                        .find(function (s) { return s.server.instance.isLocal; });\r\n                    if (localMachine) {\r\n                        return [localMachine];\r\n                    }\r\n                    if (serverMethodMap[0] !== undefined) {\r\n                        return [serverMethodMap[0]];\r\n                    }\r\n                }\r\n                else if (target === \"skipMine\") {\r\n                    return serverMethodMap.filter(function (_a) {\r\n                        var server = _a.server;\r\n                        return server.instance.peerId !== _this.instance.peerId;\r\n                    });\r\n                }\r\n            }\r\n            else {\r\n                var targetArray = void 0;\r\n                if (!Array.isArray(target)) {\r\n                    targetArray = [target];\r\n                }\r\n                else {\r\n                    targetArray = target;\r\n                }\r\n                var allServersMatching = targetArray.reduce(function (matches, filter) {\r\n                    var myMatches = serverMethodMap.filter(function (serverMethodPair) {\r\n                        return _this.instanceMatch(filter, serverMethodPair.server.instance);\r\n                    });\r\n                    return matches.concat(myMatches);\r\n                }, []);\r\n                return allServersMatching;\r\n            }\r\n            return [];\r\n        };\r\n        Client.prototype.instanceMatch = function (instanceFilter, instanceDefinition) {\r\n            return this.containsProps(instanceFilter, instanceDefinition);\r\n        };\r\n        Client.prototype.methodMatch = function (methodFilter, methodDefinition) {\r\n            return this.containsProps(methodFilter, methodDefinition);\r\n        };\r\n        Client.prototype.containsProps = function (filter, repoMethod) {\r\n            var filterProps = Object.keys(filter)\r\n                .filter(function (prop) {\r\n                return filter[prop] !== undefined\r\n                    && typeof filter[prop] !== \"function\"\r\n                    && prop !== \"object_types\"\r\n                    && prop !== \"display_name\"\r\n                    && prop !== \"id\"\r\n                    && prop !== \"gatewayId\"\r\n                    && prop !== \"identifier\"\r\n                    && prop[0] !== \"_\";\r\n            });\r\n            return filterProps.every(function (prop) {\r\n                var isMatch;\r\n                var filterValue = filter[prop];\r\n                var repoMethodValue = repoMethod[prop];\r\n                switch (prop) {\r\n                    case \"objectTypes\":\r\n                        isMatch = (filterValue || []).every(function (filterValueEl) {\r\n                            return (repoMethodValue || []).includes(filterValueEl);\r\n                        });\r\n                        break;\r\n                    case \"flags\":\r\n                        isMatch = isSubset(repoMethodValue || {}, filterValue || {});\r\n                        break;\r\n                    default:\r\n                        isMatch = String(filterValue).toLowerCase() === String(repoMethodValue).toLowerCase();\r\n                }\r\n                return isMatch;\r\n            });\r\n        };\r\n        Client.prototype.getMethods = function (methodFilter) {\r\n            var _this = this;\r\n            if (methodFilter === undefined) {\r\n                return this.repo.getMethods();\r\n            }\r\n            var methods = this.repo.getMethods().filter(function (method) {\r\n                return _this.methodMatch(methodFilter, method);\r\n            });\r\n            return methods;\r\n        };\r\n        Client.prototype.getMethodsForInstance = function (instanceFilter) {\r\n            var _this = this;\r\n            var allServers = this.repo.getServers();\r\n            var matchingServers = allServers.filter(function (server) {\r\n                return _this.instanceMatch(instanceFilter, server.instance);\r\n            });\r\n            if (matchingServers.length === 0) {\r\n                return [];\r\n            }\r\n            var resultMethodsObject = {};\r\n            if (matchingServers.length === 1) {\r\n                resultMethodsObject = matchingServers[0].methods;\r\n            }\r\n            else {\r\n                matchingServers.forEach(function (server) {\r\n                    Object.keys(server.methods).forEach(function (methodKey) {\r\n                        var method = server.methods[methodKey];\r\n                        resultMethodsObject[method.identifier] = method;\r\n                    });\r\n                });\r\n            }\r\n            return Object.keys(resultMethodsObject)\r\n                .map(function (key) {\r\n                return resultMethodsObject[key];\r\n            });\r\n        };\r\n        Client.prototype.getServers = function (methodFilter) {\r\n            var _this = this;\r\n            var servers = this.repo.getServers();\r\n            if (methodFilter === undefined) {\r\n                return servers.map(function (server) {\r\n                    return { server: server, methods: [] };\r\n                });\r\n            }\r\n            return servers.reduce(function (prev, current) {\r\n                var methodsForServer = Object.values(current.methods);\r\n                var matchingMethods = methodsForServer.filter(function (method) {\r\n                    return _this.methodMatch(methodFilter, method);\r\n                });\r\n                if (matchingMethods.length > 0) {\r\n                    prev.push({ server: current, methods: matchingMethods });\r\n                }\r\n                return prev;\r\n            }, []);\r\n        };\r\n        Client.prototype.getServerMethodsByFilterAndTarget = function (methodFilter, target) {\r\n            var serversMethodMap = this.getServers(methodFilter);\r\n            return this.filterByTarget(target, serversMethodMap);\r\n        };\r\n        return Client;\r\n    }());\n\n    var ServerSubscription = (function () {\r\n        function ServerSubscription(protocol, repoMethod, subscription) {\r\n            this.protocol = protocol;\r\n            this.repoMethod = repoMethod;\r\n            this.subscription = subscription;\r\n        }\r\n        Object.defineProperty(ServerSubscription.prototype, \"stream\", {\r\n            get: function () {\r\n                if (!this.repoMethod.stream) {\r\n                    throw new Error(\"no stream\");\r\n                }\r\n                return this.repoMethod.stream;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ServerSubscription.prototype, \"arguments\", {\r\n            get: function () { return this.subscription.arguments || {}; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ServerSubscription.prototype, \"branchKey\", {\r\n            get: function () { return this.subscription.branchKey; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ServerSubscription.prototype, \"instance\", {\r\n            get: function () {\r\n                if (!this.subscription.instance) {\r\n                    throw new Error(\"no instance\");\r\n                }\r\n                return this.subscription.instance;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ServerSubscription.prototype.close = function () {\r\n            this.protocol.server.closeSingleSubscription(this.repoMethod, this.subscription);\r\n        };\r\n        ServerSubscription.prototype.push = function (data) {\r\n            this.protocol.server.pushDataToSingle(this.repoMethod, this.subscription, data);\r\n        };\r\n        return ServerSubscription;\r\n    }());\n\n    var Request = (function () {\r\n        function Request(protocol, repoMethod, requestContext) {\r\n            this.protocol = protocol;\r\n            this.repoMethod = repoMethod;\r\n            this.requestContext = requestContext;\r\n            this.arguments = requestContext.arguments;\r\n            this.instance = requestContext.instance;\r\n        }\r\n        Request.prototype.accept = function () {\r\n            this.protocol.server.acceptRequestOnBranch(this.requestContext, this.repoMethod, \"\");\r\n        };\r\n        Request.prototype.acceptOnBranch = function (branch) {\r\n            this.protocol.server.acceptRequestOnBranch(this.requestContext, this.repoMethod, branch);\r\n        };\r\n        Request.prototype.reject = function (reason) {\r\n            this.protocol.server.rejectRequest(this.requestContext, this.repoMethod, reason);\r\n        };\r\n        return Request;\r\n    }());\n\n    var ServerStreaming = (function () {\r\n        function ServerStreaming(protocol, server) {\r\n            var _this = this;\r\n            this.protocol = protocol;\r\n            this.server = server;\r\n            protocol.server.onSubRequest(function (rc, rm) { return _this.handleSubRequest(rc, rm); });\r\n            protocol.server.onSubAdded(function (sub, rm) { return _this.handleSubAdded(sub, rm); });\r\n            protocol.server.onSubRemoved(function (sub, rm) { return _this.handleSubRemoved(sub, rm); });\r\n        }\r\n        ServerStreaming.prototype.handleSubRequest = function (requestContext, repoMethod) {\r\n            if (!(repoMethod &&\r\n                repoMethod.streamCallbacks &&\r\n                typeof repoMethod.streamCallbacks.subscriptionRequestHandler === \"function\")) {\r\n                return;\r\n            }\r\n            var request = new Request(this.protocol, repoMethod, requestContext);\r\n            repoMethod.streamCallbacks.subscriptionRequestHandler(request);\r\n        };\r\n        ServerStreaming.prototype.handleSubAdded = function (subscription, repoMethod) {\r\n            if (!(repoMethod &&\r\n                repoMethod.streamCallbacks &&\r\n                typeof repoMethod.streamCallbacks.subscriptionAddedHandler === \"function\")) {\r\n                return;\r\n            }\r\n            var sub = new ServerSubscription(this.protocol, repoMethod, subscription);\r\n            repoMethod.streamCallbacks.subscriptionAddedHandler(sub);\r\n        };\r\n        ServerStreaming.prototype.handleSubRemoved = function (subscription, repoMethod) {\r\n            if (!(repoMethod &&\r\n                repoMethod.streamCallbacks &&\r\n                typeof repoMethod.streamCallbacks.subscriptionRemovedHandler === \"function\")) {\r\n                return;\r\n            }\r\n            var sub = new ServerSubscription(this.protocol, repoMethod, subscription);\r\n            repoMethod.streamCallbacks.subscriptionRemovedHandler(sub);\r\n        };\r\n        return ServerStreaming;\r\n    }());\n\n    var ServerBranch = (function () {\r\n        function ServerBranch(key, protocol, repoMethod) {\r\n            this.key = key;\r\n            this.protocol = protocol;\r\n            this.repoMethod = repoMethod;\r\n        }\r\n        ServerBranch.prototype.subscriptions = function () {\r\n            var _this = this;\r\n            var subList = this.protocol.server.getSubscriptionList(this.repoMethod, this.key);\r\n            return subList.map(function (sub) {\r\n                return new ServerSubscription(_this.protocol, _this.repoMethod, sub);\r\n            });\r\n        };\r\n        ServerBranch.prototype.close = function () {\r\n            this.protocol.server.closeAllSubscriptions(this.repoMethod, this.key);\r\n        };\r\n        ServerBranch.prototype.push = function (data) {\r\n            this.protocol.server.pushData(this.repoMethod, data, [this.key]);\r\n        };\r\n        return ServerBranch;\r\n    }());\n\n    var ServerStream = (function () {\r\n        function ServerStream(_protocol, _repoMethod, _server) {\r\n            this._protocol = _protocol;\r\n            this._repoMethod = _repoMethod;\r\n            this._server = _server;\r\n            this.name = this._repoMethod.definition.name;\r\n        }\r\n        ServerStream.prototype.branches = function (key) {\r\n            var _this = this;\r\n            var bList = this._protocol.server.getBranchList(this._repoMethod);\r\n            if (key) {\r\n                if (bList.indexOf(key) > -1) {\r\n                    return new ServerBranch(key, this._protocol, this._repoMethod);\r\n                }\r\n                return undefined;\r\n            }\r\n            else {\r\n                return bList.map(function (branchKey) {\r\n                    return new ServerBranch(branchKey, _this._protocol, _this._repoMethod);\r\n                });\r\n            }\r\n        };\r\n        ServerStream.prototype.branch = function (key) {\r\n            return this.branches(key);\r\n        };\r\n        ServerStream.prototype.subscriptions = function () {\r\n            var _this = this;\r\n            var subList = this._protocol.server.getSubscriptionList(this._repoMethod);\r\n            return subList.map(function (sub) {\r\n                return new ServerSubscription(_this._protocol, _this._repoMethod, sub);\r\n            });\r\n        };\r\n        Object.defineProperty(ServerStream.prototype, \"definition\", {\r\n            get: function () {\r\n                var _a;\r\n                var def2 = this._repoMethod.definition;\r\n                return {\r\n                    accepts: def2.accepts,\r\n                    description: def2.description,\r\n                    displayName: def2.displayName,\r\n                    name: def2.name,\r\n                    objectTypes: def2.objectTypes,\r\n                    returns: def2.returns,\r\n                    supportsStreaming: def2.supportsStreaming,\r\n                    flags: (_a = def2.flags) === null || _a === void 0 ? void 0 : _a.metadata,\r\n                };\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ServerStream.prototype.close = function () {\r\n            this._protocol.server.closeAllSubscriptions(this._repoMethod);\r\n            this._server.unregister(this._repoMethod.definition, true);\r\n        };\r\n        ServerStream.prototype.push = function (data, branches) {\r\n            if (typeof branches !== \"string\" && !Array.isArray(branches) && branches !== undefined) {\r\n                throw new Error(\"invalid branches should be string or string array\");\r\n            }\r\n            if (typeof data !== \"object\") {\r\n                throw new Error(\"Invalid arguments. Data must be an object.\");\r\n            }\r\n            this._protocol.server.pushData(this._repoMethod, data, branches);\r\n        };\r\n        ServerStream.prototype.updateRepoMethod = function (repoMethod) {\r\n            this._repoMethod = repoMethod;\r\n        };\r\n        return ServerStream;\r\n    }());\n\n    var Server = (function () {\r\n        function Server(protocol, serverRepository) {\r\n            this.protocol = protocol;\r\n            this.serverRepository = serverRepository;\r\n            this.invocations = 0;\r\n            this.currentlyUnregistering = {};\r\n            this.streaming = new ServerStreaming(protocol, this);\r\n            this.protocol.server.onInvoked(this.onMethodInvoked.bind(this));\r\n        }\r\n        Server.prototype.createStream = function (streamDef, callbacks, successCallback, errorCallback, existingStream) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                if (!streamDef) {\r\n                    reject(\"The stream name must be unique! Please, provide either a unique string for a stream name to \\u201Cglue.interop.createStream()\\u201D or a \\u201CmethodDefinition\\u201D object with a unique \\u201Cname\\u201D property for the stream.\");\r\n                    return;\r\n                }\r\n                var streamMethodDefinition;\r\n                if (typeof streamDef === \"string\") {\r\n                    streamMethodDefinition = { name: \"\" + streamDef };\r\n                }\r\n                else {\r\n                    streamMethodDefinition = __assign$1({}, streamDef);\r\n                }\r\n                if (!streamMethodDefinition.name) {\r\n                    return reject(\"The \\u201Cname\\u201D property is required for the \\u201CstreamDefinition\\u201D object and must be unique. Stream definition: \" + JSON.stringify(streamMethodDefinition));\r\n                }\r\n                var nameAlreadyExists = _this.serverRepository.getList()\r\n                    .some(function (serverMethod) { return serverMethod.definition.name === streamMethodDefinition.name; });\r\n                if (nameAlreadyExists) {\r\n                    return reject(\"A stream with the name \\\"\" + streamMethodDefinition.name + \"\\\" already exists! Please, provide a unique name for the stream.\");\r\n                }\r\n                streamMethodDefinition.supportsStreaming = true;\r\n                if (!callbacks) {\r\n                    callbacks = {};\r\n                }\r\n                if (typeof callbacks.subscriptionRequestHandler !== \"function\") {\r\n                    callbacks.subscriptionRequestHandler = function (request) {\r\n                        request.accept();\r\n                    };\r\n                }\r\n                var repoMethod = _this.serverRepository.add({\r\n                    definition: streamMethodDefinition,\r\n                    streamCallbacks: callbacks,\r\n                    protocolState: {},\r\n                });\r\n                _this.protocol.server.createStream(repoMethod)\r\n                    .then(function () {\r\n                    var streamUserObject;\r\n                    if (existingStream) {\r\n                        streamUserObject = existingStream;\r\n                        existingStream.updateRepoMethod(repoMethod);\r\n                    }\r\n                    else {\r\n                        streamUserObject = new ServerStream(_this.protocol, repoMethod, _this);\r\n                    }\r\n                    repoMethod.stream = streamUserObject;\r\n                    resolve(streamUserObject);\r\n                })\r\n                    .catch(function (err) {\r\n                    if (repoMethod.repoId) {\r\n                        _this.serverRepository.remove(repoMethod.repoId);\r\n                    }\r\n                    reject(err);\r\n                });\r\n            });\r\n            return promisify(promise, successCallback, errorCallback);\r\n        };\r\n        Server.prototype.register = function (methodDefinition, callback) {\r\n            var _this = this;\r\n            if (!methodDefinition) {\r\n                return Promise.reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n            }\r\n            if (typeof callback !== \"function\") {\r\n                return Promise.reject(\"The second parameter must be a callback function. Method: \" + (typeof methodDefinition === \"string\" ? methodDefinition : methodDefinition.name));\r\n            }\r\n            var wrappedCallbackFunction = function (context, resultCallback) { return __awaiter$1(_this, void 0, void 0, function () {\r\n                var result, resultValue, e_1;\r\n                return __generator$1(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            _a.trys.push([0, 4, , 5]);\r\n                            result = callback(context.args, context.instance);\r\n                            if (!(result && typeof result.then === \"function\")) return [3, 2];\r\n                            return [4, result];\r\n                        case 1:\r\n                            resultValue = _a.sent();\r\n                            resultCallback(undefined, resultValue);\r\n                            return [3, 3];\r\n                        case 2:\r\n                            resultCallback(undefined, result);\r\n                            _a.label = 3;\r\n                        case 3: return [3, 5];\r\n                        case 4:\r\n                            e_1 = _a.sent();\r\n                            if (!e_1) {\r\n                                e_1 = \"\";\r\n                            }\r\n                            resultCallback(e_1, e_1);\r\n                            return [3, 5];\r\n                        case 5: return [2];\r\n                    }\r\n                });\r\n            }); };\r\n            wrappedCallbackFunction.userCallback = callback;\r\n            return this.registerCore(methodDefinition, wrappedCallbackFunction);\r\n        };\r\n        Server.prototype.registerAsync = function (methodDefinition, callback) {\r\n            if (!methodDefinition) {\r\n                return Promise.reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n            }\r\n            if (typeof callback !== \"function\") {\r\n                return Promise.reject(\"The second parameter must be a callback function. Method: \" + (typeof methodDefinition === \"string\" ? methodDefinition : methodDefinition.name));\r\n            }\r\n            var wrappedCallback = function (context, resultCallback) {\r\n                try {\r\n                    var resultCalled_1 = false;\r\n                    var success = function (result) {\r\n                        if (!resultCalled_1) {\r\n                            resultCallback(undefined, result);\r\n                        }\r\n                        resultCalled_1 = true;\r\n                    };\r\n                    var error = function (e) {\r\n                        if (!resultCalled_1) {\r\n                            if (!e) {\r\n                                e = \"\";\r\n                            }\r\n                            resultCallback(e, e);\r\n                        }\r\n                        resultCalled_1 = true;\r\n                    };\r\n                    var methodResult = callback(context.args, context.instance, success, error);\r\n                    if (methodResult && typeof methodResult.then === \"function\") {\r\n                        methodResult\r\n                            .then(success)\r\n                            .catch(error);\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    resultCallback(e, undefined);\r\n                }\r\n            };\r\n            wrappedCallback.userCallbackAsync = callback;\r\n            return this.registerCore(methodDefinition, wrappedCallback);\r\n        };\r\n        Server.prototype.unregister = function (methodFilter, forStream) {\r\n            if (forStream === void 0) { forStream = false; }\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var methodDefinition, methodToBeRemoved;\r\n                return __generator$1(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (methodFilter === undefined) {\r\n                                return [2, Promise.reject(\"Please, provide either a unique string for a name or an object containing a \\u201Cname\\u201D property.\")];\r\n                            }\r\n                            if (!(typeof methodFilter === \"function\")) return [3, 2];\r\n                            return [4, this.unregisterWithPredicate(methodFilter, forStream)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2];\r\n                        case 2:\r\n                            if (typeof methodFilter === \"string\") {\r\n                                methodDefinition = { name: methodFilter };\r\n                            }\r\n                            else {\r\n                                methodDefinition = methodFilter;\r\n                            }\r\n                            if (methodDefinition.name === undefined) {\r\n                                return [2, Promise.reject(\"Method name is required. Cannot find a method if the method name is undefined!\")];\r\n                            }\r\n                            methodToBeRemoved = this.serverRepository.getList().find(function (serverMethod) {\r\n                                return serverMethod.definition.name === methodDefinition.name\r\n                                    && (serverMethod.definition.supportsStreaming || false) === forStream;\r\n                            });\r\n                            if (!methodToBeRemoved) {\r\n                                return [2, Promise.reject(\"Method with a name \\\"\" + methodDefinition.name + \"\\\" does not exist or is not registered by your application!\")];\r\n                            }\r\n                            return [4, this.removeMethodsOrStreams([methodToBeRemoved])];\r\n                        case 3:\r\n                            _a.sent();\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Server.prototype.unregisterWithPredicate = function (filterPredicate, forStream) {\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var methodsOrStreamsToRemove;\r\n                return __generator$1(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            methodsOrStreamsToRemove = this.serverRepository.getList()\r\n                                .filter(function (sm) { return filterPredicate(sm.definition); })\r\n                                .filter(function (serverMethod) {\r\n                                return (serverMethod.definition.supportsStreaming || false) === forStream;\r\n                            });\r\n                            if (!methodsOrStreamsToRemove || methodsOrStreamsToRemove.length === 0) {\r\n                                return [2, Promise.reject(\"Could not find a \" + (forStream ? \"stream\" : \"method\") + \" matching the specified condition!\")];\r\n                            }\r\n                            return [4, this.removeMethodsOrStreams(methodsOrStreamsToRemove)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Server.prototype.removeMethodsOrStreams = function (methodsToRemove) {\r\n            var _this = this;\r\n            var methodUnregPromises = [];\r\n            methodsToRemove.forEach(function (method) {\r\n                var promise = _this.protocol.server.unregister(method)\r\n                    .then(function () {\r\n                    if (method.repoId) {\r\n                        _this.serverRepository.remove(method.repoId);\r\n                    }\r\n                });\r\n                methodUnregPromises.push(promise);\r\n                _this.addAsCurrentlyUnregistering(method.definition.name, promise);\r\n            });\r\n            return Promise.all(methodUnregPromises);\r\n        };\r\n        Server.prototype.addAsCurrentlyUnregistering = function (methodName, promise) {\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var timeout;\r\n                var _this = this;\r\n                return __generator$1(this, function (_a) {\r\n                    timeout = new Promise(function (resolve) { return setTimeout(resolve, 5000); });\r\n                    this.currentlyUnregistering[methodName] = Promise.race([promise, timeout]).then(function () {\r\n                        delete _this.currentlyUnregistering[methodName];\r\n                    });\r\n                    return [2];\r\n                });\r\n            });\r\n        };\r\n        Server.prototype.registerCore = function (method, theFunction) {\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var methodDefinition, unregisterInProgress, nameAlreadyExists, repoMethod;\r\n                var _this = this;\r\n                return __generator$1(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (typeof method === \"string\") {\r\n                                methodDefinition = { name: \"\" + method };\r\n                            }\r\n                            else {\r\n                                methodDefinition = __assign$1({}, method);\r\n                            }\r\n                            if (!methodDefinition.name) {\r\n                                return [2, Promise.reject(\"Please, provide a (unique) string value for the \\u201Cname\\u201D property in the \\u201CmethodDefinition\\u201D object: \" + JSON.stringify(method))];\r\n                            }\r\n                            unregisterInProgress = this.currentlyUnregistering[methodDefinition.name];\r\n                            if (!unregisterInProgress) return [3, 2];\r\n                            return [4, unregisterInProgress];\r\n                        case 1:\r\n                            _a.sent();\r\n                            _a.label = 2;\r\n                        case 2:\r\n                            nameAlreadyExists = this.serverRepository.getList()\r\n                                .some(function (serverMethod) { return serverMethod.definition.name === methodDefinition.name; });\r\n                            if (nameAlreadyExists) {\r\n                                return [2, Promise.reject(\"A method with the name \\\"\" + methodDefinition.name + \"\\\" already exists! Please, provide a unique name for the method.\")];\r\n                            }\r\n                            if (methodDefinition.supportsStreaming) {\r\n                                return [2, Promise.reject(\"When you create methods with \\u201Cglue.interop.register()\\u201D or \\u201Cglue.interop.registerAsync()\\u201D the property \\u201CsupportsStreaming\\u201D cannot be \\u201Ctrue\\u201D. If you want \\u201C\" + methodDefinition.name + \"\\u201D to be a stream, please use the \\u201Cglue.interop.createStream()\\u201D method.\")];\r\n                            }\r\n                            repoMethod = this.serverRepository.add({\r\n                                definition: methodDefinition,\r\n                                theFunction: theFunction,\r\n                                protocolState: {},\r\n                            });\r\n                            return [2, this.protocol.server.register(repoMethod)\r\n                                    .catch(function (err) {\r\n                                    if (repoMethod === null || repoMethod === void 0 ? void 0 : repoMethod.repoId) {\r\n                                        _this.serverRepository.remove(repoMethod.repoId);\r\n                                    }\r\n                                    throw err;\r\n                                })];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Server.prototype.onMethodInvoked = function (methodToExecute, invocationId, invocationArgs) {\r\n            var _this = this;\r\n            if (!methodToExecute || !methodToExecute.theFunction) {\r\n                return;\r\n            }\r\n            methodToExecute.theFunction(invocationArgs, function (err, result) {\r\n                if (err !== undefined && err !== null) {\r\n                    if (err.message && typeof err.message === \"string\") {\r\n                        err = err.message;\r\n                    }\r\n                    else if (typeof err !== \"string\") {\r\n                        try {\r\n                            err = JSON.stringify(err);\r\n                        }\r\n                        catch (unStrException) {\r\n                            err = \"un-stringifyable error in onMethodInvoked! Top level prop names: \" + Object.keys(err);\r\n                        }\r\n                    }\r\n                }\r\n                if (!result) {\r\n                    result = {};\r\n                }\r\n                else if (typeof result !== \"object\" || Array.isArray(result)) {\r\n                    result = { _value: result };\r\n                }\r\n                _this.protocol.server.methodInvocationResult(methodToExecute, invocationId, err, result);\r\n            });\r\n        };\r\n        return Server;\r\n    }());\n\n    var InstanceWrapper = (function () {\r\n        function InstanceWrapper(API, instance, connection) {\r\n            var _this = this;\r\n            this.wrapped = {};\r\n            this.wrapped.getMethods = function () {\r\n                return API.methodsForInstance(this);\r\n            };\r\n            this.wrapped.getStreams = function () {\r\n                return API.methodsForInstance(this).filter(function (m) { return m.supportsStreaming; });\r\n            };\r\n            if (instance) {\r\n                this.refreshWrappedObject(instance);\r\n            }\r\n            if (connection) {\r\n                connection.loggedIn(function () {\r\n                    _this.refresh(connection);\r\n                });\r\n                this.refresh(connection);\r\n            }\r\n        }\r\n        InstanceWrapper.prototype.unwrap = function () {\r\n            return this.wrapped;\r\n        };\r\n        InstanceWrapper.prototype.refresh = function (connection) {\r\n            if (!connection) {\r\n                return;\r\n            }\r\n            var resolvedIdentity = connection === null || connection === void 0 ? void 0 : connection.resolvedIdentity;\r\n            var instance = Object.assign({}, resolvedIdentity !== null && resolvedIdentity !== void 0 ? resolvedIdentity : {}, { peerId: connection === null || connection === void 0 ? void 0 : connection.peerId });\r\n            this.refreshWrappedObject(instance);\r\n        };\r\n        InstanceWrapper.prototype.refreshWrappedObject = function (resolvedIdentity) {\r\n            var _a, _b, _c;\r\n            this.wrapped.user = resolvedIdentity.user;\r\n            this.wrapped.instance = resolvedIdentity.instance;\r\n            this.wrapped.application = (_a = resolvedIdentity.application) !== null && _a !== void 0 ? _a : shortid();\r\n            this.wrapped.applicationName = resolvedIdentity.applicationName;\r\n            this.wrapped.pid = (_c = (_b = resolvedIdentity.pid) !== null && _b !== void 0 ? _b : resolvedIdentity.process) !== null && _c !== void 0 ? _c : Math.floor(Math.random() * 10000000000);\r\n            this.wrapped.machine = resolvedIdentity.machine;\r\n            this.wrapped.environment = resolvedIdentity.environment;\r\n            this.wrapped.region = resolvedIdentity.region;\r\n            this.wrapped.windowId = resolvedIdentity.windowId;\r\n            this.wrapped.isLocal = true;\r\n            this.wrapped.api = resolvedIdentity.api;\r\n            this.wrapped.service = resolvedIdentity.service;\r\n            this.wrapped.peerId = resolvedIdentity.peerId;\r\n        };\r\n        return InstanceWrapper;\r\n    }());\n\n    var hideMethodSystemFlags = function (method) {\r\n        return __assign$1(__assign$1({}, method), { flags: method.flags.metadata || {} });\r\n    };\r\n    var ClientRepository = (function () {\r\n        function ClientRepository(logger, API) {\r\n            this.logger = logger;\r\n            this.API = API;\r\n            this.servers = {};\r\n            this.methodsCount = {};\r\n            this.callbacks = lib();\r\n            var peerId = this.API.instance.peerId;\r\n            this.myServer = {\r\n                id: peerId,\r\n                methods: {},\r\n                instance: this.API.instance,\r\n                wrapper: this.API.unwrappedInstance,\r\n            };\r\n            this.servers[peerId] = this.myServer;\r\n        }\r\n        ClientRepository.prototype.addServer = function (info, serverId) {\r\n            this.logger.debug(\"adding server \" + serverId);\r\n            var current = this.servers[serverId];\r\n            if (current) {\r\n                return current.id;\r\n            }\r\n            var wrapper = new InstanceWrapper(this.API, info);\r\n            var serverEntry = {\r\n                id: serverId,\r\n                methods: {},\r\n                instance: wrapper.unwrap(),\r\n                wrapper: wrapper,\r\n            };\r\n            this.servers[serverId] = serverEntry;\r\n            this.callbacks.execute(\"onServerAdded\", serverEntry.instance);\r\n            return serverId;\r\n        };\r\n        ClientRepository.prototype.removeServerById = function (id, reason) {\r\n            var _this = this;\r\n            var server = this.servers[id];\r\n            if (!server) {\r\n                this.logger.warn(\"not aware of server \" + id + \", my state \" + JSON.stringify(Object.keys(this.servers)));\r\n                return;\r\n            }\r\n            else {\r\n                this.logger.debug(\"removing server \" + id);\r\n            }\r\n            Object.keys(server.methods).forEach(function (methodId) {\r\n                _this.removeServerMethod(id, methodId);\r\n            });\r\n            delete this.servers[id];\r\n            this.callbacks.execute(\"onServerRemoved\", server.instance, reason);\r\n        };\r\n        ClientRepository.prototype.addServerMethod = function (serverId, method) {\r\n            var _a;\r\n            var server = this.servers[serverId];\r\n            if (!server) {\r\n                throw new Error(\"server does not exists\");\r\n            }\r\n            if (server.methods[method.id]) {\r\n                return;\r\n            }\r\n            var identifier = this.createMethodIdentifier(method);\r\n            var that = this;\r\n            var methodDefinition = {\r\n                identifier: identifier,\r\n                gatewayId: method.id,\r\n                name: method.name,\r\n                displayName: method.display_name,\r\n                description: method.description,\r\n                version: method.version,\r\n                objectTypes: method.object_types || [],\r\n                accepts: method.input_signature,\r\n                returns: method.result_signature,\r\n                supportsStreaming: typeof method.flags !== \"undefined\" ? method.flags.streaming : false,\r\n                flags: (_a = method.flags) !== null && _a !== void 0 ? _a : {},\r\n                getServers: function () {\r\n                    return that.getServersByMethod(identifier);\r\n                }\r\n            };\r\n            methodDefinition.object_types = methodDefinition.objectTypes;\r\n            methodDefinition.display_name = methodDefinition.displayName;\r\n            methodDefinition.version = methodDefinition.version;\r\n            server.methods[method.id] = methodDefinition;\r\n            var clientMethodDefinition = hideMethodSystemFlags(methodDefinition);\r\n            if (!this.methodsCount[identifier]) {\r\n                this.methodsCount[identifier] = 0;\r\n                this.callbacks.execute(\"onMethodAdded\", clientMethodDefinition);\r\n            }\r\n            this.methodsCount[identifier] = this.methodsCount[identifier] + 1;\r\n            this.callbacks.execute(\"onServerMethodAdded\", server.instance, clientMethodDefinition);\r\n            return methodDefinition;\r\n        };\r\n        ClientRepository.prototype.removeServerMethod = function (serverId, methodId) {\r\n            var server = this.servers[serverId];\r\n            if (!server) {\r\n                throw new Error(\"server does not exists\");\r\n            }\r\n            var method = server.methods[methodId];\r\n            delete server.methods[methodId];\r\n            var clientMethodDefinition = hideMethodSystemFlags(method);\r\n            this.methodsCount[method.identifier] = this.methodsCount[method.identifier] - 1;\r\n            if (this.methodsCount[method.identifier] === 0) {\r\n                this.callbacks.execute(\"onMethodRemoved\", clientMethodDefinition);\r\n            }\r\n            this.callbacks.execute(\"onServerMethodRemoved\", server.instance, clientMethodDefinition);\r\n        };\r\n        ClientRepository.prototype.getMethods = function () {\r\n            return this.extractMethodsFromServers(Object.values(this.servers)).map(hideMethodSystemFlags);\r\n        };\r\n        ClientRepository.prototype.getServers = function () {\r\n            return Object.values(this.servers).map(this.hideServerMethodSystemFlags);\r\n        };\r\n        ClientRepository.prototype.onServerAdded = function (callback) {\r\n            var unsubscribeFunc = this.callbacks.add(\"onServerAdded\", callback);\r\n            var serversWithMethodsToReplay = this.getServers().map(function (s) { return s.instance; });\r\n            return this.returnUnsubWithDelayedReplay(unsubscribeFunc, serversWithMethodsToReplay, callback);\r\n        };\r\n        ClientRepository.prototype.onMethodAdded = function (callback) {\r\n            var unsubscribeFunc = this.callbacks.add(\"onMethodAdded\", callback);\r\n            var methodsToReplay = this.getMethods();\r\n            return this.returnUnsubWithDelayedReplay(unsubscribeFunc, methodsToReplay, callback);\r\n        };\r\n        ClientRepository.prototype.onServerMethodAdded = function (callback) {\r\n            var unsubscribeFunc = this.callbacks.add(\"onServerMethodAdded\", callback);\r\n            var unsubCalled = false;\r\n            var servers = this.getServers();\r\n            setTimeout(function () {\r\n                servers.forEach(function (server) {\r\n                    var methods = server.methods;\r\n                    Object.keys(methods).forEach(function (methodId) {\r\n                        if (!unsubCalled) {\r\n                            callback(server.instance, methods[methodId]);\r\n                        }\r\n                    });\r\n                });\r\n            }, 0);\r\n            return function () {\r\n                unsubCalled = true;\r\n                unsubscribeFunc();\r\n            };\r\n        };\r\n        ClientRepository.prototype.onMethodRemoved = function (callback) {\r\n            var unsubscribeFunc = this.callbacks.add(\"onMethodRemoved\", callback);\r\n            return unsubscribeFunc;\r\n        };\r\n        ClientRepository.prototype.onServerRemoved = function (callback) {\r\n            var unsubscribeFunc = this.callbacks.add(\"onServerRemoved\", callback);\r\n            return unsubscribeFunc;\r\n        };\r\n        ClientRepository.prototype.onServerMethodRemoved = function (callback) {\r\n            var unsubscribeFunc = this.callbacks.add(\"onServerMethodRemoved\", callback);\r\n            return unsubscribeFunc;\r\n        };\r\n        ClientRepository.prototype.getServerById = function (id) {\r\n            return this.hideServerMethodSystemFlags(this.servers[id]);\r\n        };\r\n        ClientRepository.prototype.reset = function () {\r\n            var _a;\r\n            var _this = this;\r\n            Object.keys(this.servers).forEach(function (key) {\r\n                _this.removeServerById(key, \"reset\");\r\n            });\r\n            this.servers = (_a = {},\r\n                _a[this.myServer.id] = this.myServer,\r\n                _a);\r\n            this.methodsCount = {};\r\n        };\r\n        ClientRepository.prototype.createMethodIdentifier = function (methodInfo) {\r\n            var accepts = methodInfo.input_signature !== undefined ? methodInfo.input_signature : \"\";\r\n            var returns = methodInfo.result_signature !== undefined ? methodInfo.result_signature : \"\";\r\n            return (methodInfo.name + accepts + returns).toLowerCase();\r\n        };\r\n        ClientRepository.prototype.getServersByMethod = function (identifier) {\r\n            var allServers = [];\r\n            Object.values(this.servers).forEach(function (server) {\r\n                Object.values(server.methods).forEach(function (method) {\r\n                    if (method.identifier === identifier) {\r\n                        allServers.push(server.instance);\r\n                    }\r\n                });\r\n            });\r\n            return allServers;\r\n        };\r\n        ClientRepository.prototype.returnUnsubWithDelayedReplay = function (unsubscribeFunc, collectionToReplay, callback) {\r\n            var unsubCalled = false;\r\n            setTimeout(function () {\r\n                collectionToReplay.forEach(function (item) {\r\n                    if (!unsubCalled) {\r\n                        callback(item);\r\n                    }\r\n                });\r\n            }, 0);\r\n            return function () {\r\n                unsubCalled = true;\r\n                unsubscribeFunc();\r\n            };\r\n        };\r\n        ClientRepository.prototype.hideServerMethodSystemFlags = function (server) {\r\n            var clientMethods = {};\r\n            Object.entries(server.methods).forEach(function (_a) {\r\n                var name = _a[0], method = _a[1];\r\n                clientMethods[name] = hideMethodSystemFlags(method);\r\n            });\r\n            return __assign$1(__assign$1({}, server), { methods: clientMethods });\r\n        };\r\n        ClientRepository.prototype.extractMethodsFromServers = function (servers) {\r\n            var methods = Object.values(servers).reduce(function (clientMethods, server) {\r\n                return __spreadArrays(clientMethods, Object.values(server.methods));\r\n            }, []);\r\n            return methods;\r\n        };\r\n        return ClientRepository;\r\n    }());\n\n    var ServerRepository = (function () {\r\n        function ServerRepository() {\r\n            this.nextId = 0;\r\n            this.methods = [];\r\n        }\r\n        ServerRepository.prototype.add = function (method) {\r\n            method.repoId = String(this.nextId);\r\n            this.nextId += 1;\r\n            this.methods.push(method);\r\n            return method;\r\n        };\r\n        ServerRepository.prototype.remove = function (repoId) {\r\n            if (typeof repoId !== \"string\") {\r\n                return new TypeError(\"Expecting a string\");\r\n            }\r\n            this.methods = this.methods.filter(function (m) {\r\n                return m.repoId !== repoId;\r\n            });\r\n        };\r\n        ServerRepository.prototype.getById = function (id) {\r\n            if (typeof id !== \"string\") {\r\n                return undefined;\r\n            }\r\n            return this.methods.find(function (m) {\r\n                return m.repoId === id;\r\n            });\r\n        };\r\n        ServerRepository.prototype.getList = function () {\r\n            return this.methods.map(function (m) { return m; });\r\n        };\r\n        ServerRepository.prototype.length = function () {\r\n            return this.methods.length;\r\n        };\r\n        ServerRepository.prototype.reset = function () {\r\n            this.methods = [];\r\n        };\r\n        return ServerRepository;\r\n    }());\n\n    var SUBSCRIPTION_REQUEST = \"onSubscriptionRequest\";\r\n    var SUBSCRIPTION_ADDED = \"onSubscriptionAdded\";\r\n    var SUBSCRIPTION_REMOVED = \"onSubscriptionRemoved\";\r\n    var ServerStreaming$1 = (function () {\r\n        function ServerStreaming(session, repository, serverRepository) {\r\n            var _this = this;\r\n            this.session = session;\r\n            this.repository = repository;\r\n            this.serverRepository = serverRepository;\r\n            this.ERR_URI_SUBSCRIPTION_FAILED = \"com.tick42.agm.errors.subscription.failure\";\r\n            this.callbacks = lib();\r\n            this.nextStreamId = 0;\r\n            session.on(\"add-interest\", function (msg) {\r\n                _this.handleAddInterest(msg);\r\n            });\r\n            session.on(\"remove-interest\", function (msg) {\r\n                _this.handleRemoveInterest(msg);\r\n            });\r\n        }\r\n        ServerStreaming.prototype.acceptRequestOnBranch = function (requestContext, streamingMethod, branch) {\r\n            if (typeof branch !== \"string\") {\r\n                branch = \"\";\r\n            }\r\n            if (typeof streamingMethod.protocolState.subscriptionsMap !== \"object\") {\r\n                throw new TypeError(\"The streaming method is missing its subscriptions.\");\r\n            }\r\n            if (!Array.isArray(streamingMethod.protocolState.branchKeyToStreamIdMap)) {\r\n                throw new TypeError(\"The streaming method is missing its branches.\");\r\n            }\r\n            var streamId = this.getStreamId(streamingMethod, branch);\r\n            var key = requestContext.msg.subscription_id;\r\n            var subscription = {\r\n                id: key,\r\n                arguments: requestContext.arguments,\r\n                instance: requestContext.instance,\r\n                branchKey: branch,\r\n                streamId: streamId,\r\n                subscribeMsg: requestContext.msg,\r\n            };\r\n            streamingMethod.protocolState.subscriptionsMap[key] = subscription;\r\n            this.session.sendFireAndForget({\r\n                type: \"accepted\",\r\n                subscription_id: key,\r\n                stream_id: streamId,\r\n            });\r\n            this.callbacks.execute(SUBSCRIPTION_ADDED, subscription, streamingMethod);\r\n        };\r\n        ServerStreaming.prototype.rejectRequest = function (requestContext, streamingMethod, reason) {\r\n            if (typeof reason !== \"string\") {\r\n                reason = \"\";\r\n            }\r\n            this.sendSubscriptionFailed(\"Subscription rejected by user. \" + reason, requestContext.msg.subscription_id);\r\n        };\r\n        ServerStreaming.prototype.pushData = function (streamingMethod, data, branches) {\r\n            var _this = this;\r\n            if (typeof streamingMethod !== \"object\" || !Array.isArray(streamingMethod.protocolState.branchKeyToStreamIdMap)) {\r\n                return;\r\n            }\r\n            if (typeof data !== \"object\") {\r\n                throw new Error(\"Invalid arguments. Data must be an object.\");\r\n            }\r\n            if (typeof branches === \"string\") {\r\n                branches = [branches];\r\n            }\r\n            else if (!Array.isArray(branches) || branches.length <= 0) {\r\n                branches = [];\r\n            }\r\n            var streamIdList = streamingMethod.protocolState.branchKeyToStreamIdMap\r\n                .filter(function (br) {\r\n                if (!branches || branches.length === 0) {\r\n                    return true;\r\n                }\r\n                return branches.indexOf(br.key) >= 0;\r\n            }).map(function (br) {\r\n                return br.streamId;\r\n            });\r\n            streamIdList.forEach(function (streamId) {\r\n                var publishMessage = {\r\n                    type: \"publish\",\r\n                    stream_id: streamId,\r\n                    data: data,\r\n                };\r\n                _this.session.sendFireAndForget(publishMessage);\r\n            });\r\n        };\r\n        ServerStreaming.prototype.pushDataToSingle = function (method, subscription, data) {\r\n            if (typeof data !== \"object\") {\r\n                throw new Error(\"Invalid arguments. Data must be an object.\");\r\n            }\r\n            var postMessage = {\r\n                type: \"post\",\r\n                subscription_id: subscription.id,\r\n                data: data,\r\n            };\r\n            this.session.sendFireAndForget(postMessage);\r\n        };\r\n        ServerStreaming.prototype.closeSingleSubscription = function (streamingMethod, subscription) {\r\n            if (streamingMethod.protocolState.subscriptionsMap) {\r\n                delete streamingMethod.protocolState.subscriptionsMap[subscription.id];\r\n            }\r\n            var dropSubscriptionMessage = {\r\n                type: \"drop-subscription\",\r\n                subscription_id: subscription.id,\r\n                reason: \"Server dropping a single subscription\",\r\n            };\r\n            this.session.sendFireAndForget(dropSubscriptionMessage);\r\n            var subscriber = subscription.instance;\r\n            this.callbacks.execute(SUBSCRIPTION_REMOVED, subscription, streamingMethod);\r\n        };\r\n        ServerStreaming.prototype.closeMultipleSubscriptions = function (streamingMethod, branchKey) {\r\n            var _this = this;\r\n            if (typeof streamingMethod !== \"object\" || typeof streamingMethod.protocolState.subscriptionsMap !== \"object\") {\r\n                return;\r\n            }\r\n            if (!streamingMethod.protocolState.subscriptionsMap) {\r\n                return;\r\n            }\r\n            var subscriptionsMap = streamingMethod.protocolState.subscriptionsMap;\r\n            var subscriptionsToClose = Object.keys(subscriptionsMap)\r\n                .map(function (key) {\r\n                return subscriptionsMap[key];\r\n            });\r\n            if (typeof branchKey === \"string\") {\r\n                subscriptionsToClose = subscriptionsToClose.filter(function (sub) {\r\n                    return sub.branchKey === branchKey;\r\n                });\r\n            }\r\n            subscriptionsToClose.forEach(function (subscription) {\r\n                delete subscriptionsMap[subscription.id];\r\n                var drop = {\r\n                    type: \"drop-subscription\",\r\n                    subscription_id: subscription.id,\r\n                    reason: \"Server dropping all subscriptions on stream_id: \" + subscription.streamId,\r\n                };\r\n                _this.session.sendFireAndForget(drop);\r\n            });\r\n        };\r\n        ServerStreaming.prototype.getSubscriptionList = function (streamingMethod, branchKey) {\r\n            if (typeof streamingMethod !== \"object\") {\r\n                return [];\r\n            }\r\n            var subscriptions = [];\r\n            if (!streamingMethod.protocolState.subscriptionsMap) {\r\n                return [];\r\n            }\r\n            var subscriptionsMap = streamingMethod.protocolState.subscriptionsMap;\r\n            var allSubscriptions = Object.keys(subscriptionsMap)\r\n                .map(function (key) {\r\n                return subscriptionsMap[key];\r\n            });\r\n            if (typeof branchKey !== \"string\") {\r\n                subscriptions = allSubscriptions;\r\n            }\r\n            else {\r\n                subscriptions = allSubscriptions.filter(function (sub) {\r\n                    return sub.branchKey === branchKey;\r\n                });\r\n            }\r\n            return subscriptions;\r\n        };\r\n        ServerStreaming.prototype.getBranchList = function (streamingMethod) {\r\n            if (typeof streamingMethod !== \"object\") {\r\n                return [];\r\n            }\r\n            if (!streamingMethod.protocolState.subscriptionsMap) {\r\n                return [];\r\n            }\r\n            var subscriptionsMap = streamingMethod.protocolState.subscriptionsMap;\r\n            var allSubscriptions = Object.keys(subscriptionsMap)\r\n                .map(function (key) {\r\n                return subscriptionsMap[key];\r\n            });\r\n            var result = [];\r\n            allSubscriptions.forEach(function (sub) {\r\n                var branch = \"\";\r\n                if (typeof sub === \"object\" && typeof sub.branchKey === \"string\") {\r\n                    branch = sub.branchKey;\r\n                }\r\n                if (result.indexOf(branch) === -1) {\r\n                    result.push(branch);\r\n                }\r\n            });\r\n            return result;\r\n        };\r\n        ServerStreaming.prototype.onSubAdded = function (callback) {\r\n            this.onSubscriptionLifetimeEvent(SUBSCRIPTION_ADDED, callback);\r\n        };\r\n        ServerStreaming.prototype.onSubRequest = function (callback) {\r\n            this.onSubscriptionLifetimeEvent(SUBSCRIPTION_REQUEST, callback);\r\n        };\r\n        ServerStreaming.prototype.onSubRemoved = function (callback) {\r\n            this.onSubscriptionLifetimeEvent(SUBSCRIPTION_REMOVED, callback);\r\n        };\r\n        ServerStreaming.prototype.handleRemoveInterest = function (msg) {\r\n            var streamingMethod = this.serverRepository.getById(msg.method_id);\r\n            if (typeof msg.subscription_id !== \"string\" ||\r\n                typeof streamingMethod !== \"object\") {\r\n                return;\r\n            }\r\n            if (!streamingMethod.protocolState.subscriptionsMap) {\r\n                return;\r\n            }\r\n            if (typeof streamingMethod.protocolState.subscriptionsMap[msg.subscription_id] !== \"object\") {\r\n                return;\r\n            }\r\n            var subscription = streamingMethod.protocolState.subscriptionsMap[msg.subscription_id];\r\n            delete streamingMethod.protocolState.subscriptionsMap[msg.subscription_id];\r\n            this.callbacks.execute(SUBSCRIPTION_REMOVED, subscription, streamingMethod);\r\n        };\r\n        ServerStreaming.prototype.onSubscriptionLifetimeEvent = function (eventName, handlerFunc) {\r\n            this.callbacks.add(eventName, handlerFunc);\r\n        };\r\n        ServerStreaming.prototype.getNextStreamId = function () {\r\n            return this.nextStreamId++ + \"\";\r\n        };\r\n        ServerStreaming.prototype.handleAddInterest = function (msg) {\r\n            var caller = this.repository.getServerById(msg.caller_id);\r\n            var instance = caller.instance;\r\n            var requestContext = {\r\n                msg: msg,\r\n                arguments: msg.arguments_kv || {},\r\n                instance: instance,\r\n            };\r\n            var streamingMethod = this.serverRepository.getById(msg.method_id);\r\n            if (streamingMethod === undefined) {\r\n                var errorMsg = \"No method with id \" + msg.method_id + \" on this server.\";\r\n                this.sendSubscriptionFailed(errorMsg, msg.subscription_id);\r\n                return;\r\n            }\r\n            if (streamingMethod.protocolState.subscriptionsMap &&\r\n                streamingMethod.protocolState.subscriptionsMap[msg.subscription_id]) {\r\n                this.sendSubscriptionFailed(\"A subscription with id \" + msg.subscription_id + \" already exists.\", msg.subscription_id);\r\n                return;\r\n            }\r\n            this.callbacks.execute(SUBSCRIPTION_REQUEST, requestContext, streamingMethod);\r\n        };\r\n        ServerStreaming.prototype.sendSubscriptionFailed = function (reason, subscriptionId) {\r\n            var errorMessage = {\r\n                type: \"error\",\r\n                reason_uri: this.ERR_URI_SUBSCRIPTION_FAILED,\r\n                reason: reason,\r\n                request_id: subscriptionId,\r\n            };\r\n            this.session.sendFireAndForget(errorMessage);\r\n        };\r\n        ServerStreaming.prototype.getStreamId = function (streamingMethod, branchKey) {\r\n            if (typeof branchKey !== \"string\") {\r\n                branchKey = \"\";\r\n            }\r\n            if (!streamingMethod.protocolState.branchKeyToStreamIdMap) {\r\n                throw new Error(\"streaming \" + streamingMethod.definition.name + \" method without protocol state\");\r\n            }\r\n            var needleBranch = streamingMethod.protocolState.branchKeyToStreamIdMap.filter(function (branch) {\r\n                return branch.key === branchKey;\r\n            })[0];\r\n            var streamId = (needleBranch ? needleBranch.streamId : undefined);\r\n            if (typeof streamId !== \"string\" || streamId === \"\") {\r\n                streamId = this.getNextStreamId();\r\n                streamingMethod.protocolState.branchKeyToStreamIdMap.push({ key: branchKey, streamId: streamId });\r\n            }\r\n            return streamId;\r\n        };\r\n        return ServerStreaming;\r\n    }());\n\n    var ServerProtocol = (function () {\r\n        function ServerProtocol(session, clientRepository, serverRepository, logger) {\r\n            var _this = this;\r\n            this.session = session;\r\n            this.clientRepository = clientRepository;\r\n            this.serverRepository = serverRepository;\r\n            this.logger = logger;\r\n            this.callbacks = lib();\r\n            this.streaming = new ServerStreaming$1(session, clientRepository, serverRepository);\r\n            this.session.on(\"invoke\", function (msg) { return _this.handleInvokeMessage(msg); });\r\n        }\r\n        ServerProtocol.prototype.createStream = function (repoMethod) {\r\n            repoMethod.protocolState.subscriptionsMap = {};\r\n            repoMethod.protocolState.branchKeyToStreamIdMap = [];\r\n            return this.register(repoMethod, true);\r\n        };\r\n        ServerProtocol.prototype.register = function (repoMethod, isStreaming) {\r\n            var _this = this;\r\n            var _a;\r\n            var methodDef = repoMethod.definition;\r\n            var flags = Object.assign({}, { metadata: (_a = methodDef.flags) !== null && _a !== void 0 ? _a : {} }, { streaming: isStreaming || false });\r\n            var registerMsg = {\r\n                type: \"register\",\r\n                methods: [{\r\n                        id: repoMethod.repoId,\r\n                        name: methodDef.name,\r\n                        display_name: methodDef.displayName,\r\n                        description: methodDef.description,\r\n                        version: methodDef.version,\r\n                        flags: flags,\r\n                        object_types: methodDef.objectTypes || methodDef.object_types,\r\n                        input_signature: methodDef.accepts,\r\n                        result_signature: methodDef.returns,\r\n                        restrictions: undefined,\r\n                    }],\r\n            };\r\n            return this.session.send(registerMsg, { methodId: repoMethod.repoId })\r\n                .then(function () {\r\n                _this.logger.debug(\"registered method \" + repoMethod.definition.name + \" with id \" + repoMethod.repoId);\r\n            })\r\n                .catch(function (msg) {\r\n                _this.logger.warn(\"failed to register method \" + repoMethod.definition.name + \" with id \" + repoMethod.repoId + \" - \" + JSON.stringify(msg));\r\n                throw msg;\r\n            });\r\n        };\r\n        ServerProtocol.prototype.onInvoked = function (callback) {\r\n            this.callbacks.add(\"onInvoked\", callback);\r\n        };\r\n        ServerProtocol.prototype.methodInvocationResult = function (method, invocationId, err, result) {\r\n            var msg;\r\n            if (err || err === \"\") {\r\n                msg = {\r\n                    type: \"error\",\r\n                    request_id: invocationId,\r\n                    reason_uri: \"agm.errors.client_error\",\r\n                    reason: err,\r\n                    context: result,\r\n                    peer_id: undefined,\r\n                };\r\n            }\r\n            else {\r\n                msg = {\r\n                    type: \"yield\",\r\n                    invocation_id: invocationId,\r\n                    peer_id: this.session.peerId,\r\n                    result: result,\r\n                    request_id: undefined,\r\n                };\r\n            }\r\n            this.session.sendFireAndForget(msg);\r\n        };\r\n        ServerProtocol.prototype.unregister = function (method) {\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var msg;\r\n                return __generator$1(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            msg = {\r\n                                type: \"unregister\",\r\n                                methods: [method.repoId],\r\n                            };\r\n                            return [4, this.session.send(msg)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ServerProtocol.prototype.getBranchList = function (method) {\r\n            return this.streaming.getBranchList(method);\r\n        };\r\n        ServerProtocol.prototype.getSubscriptionList = function (method, branchKey) {\r\n            return this.streaming.getSubscriptionList(method, branchKey);\r\n        };\r\n        ServerProtocol.prototype.closeAllSubscriptions = function (method, branchKey) {\r\n            this.streaming.closeMultipleSubscriptions(method, branchKey);\r\n        };\r\n        ServerProtocol.prototype.pushData = function (method, data, branches) {\r\n            this.streaming.pushData(method, data, branches);\r\n        };\r\n        ServerProtocol.prototype.pushDataToSingle = function (method, subscription, data) {\r\n            this.streaming.pushDataToSingle(method, subscription, data);\r\n        };\r\n        ServerProtocol.prototype.closeSingleSubscription = function (method, subscription) {\r\n            this.streaming.closeSingleSubscription(method, subscription);\r\n        };\r\n        ServerProtocol.prototype.acceptRequestOnBranch = function (requestContext, method, branch) {\r\n            this.streaming.acceptRequestOnBranch(requestContext, method, branch);\r\n        };\r\n        ServerProtocol.prototype.rejectRequest = function (requestContext, method, reason) {\r\n            this.streaming.rejectRequest(requestContext, method, reason);\r\n        };\r\n        ServerProtocol.prototype.onSubRequest = function (callback) {\r\n            this.streaming.onSubRequest(callback);\r\n        };\r\n        ServerProtocol.prototype.onSubAdded = function (callback) {\r\n            this.streaming.onSubAdded(callback);\r\n        };\r\n        ServerProtocol.prototype.onSubRemoved = function (callback) {\r\n            this.streaming.onSubRemoved(callback);\r\n        };\r\n        ServerProtocol.prototype.handleInvokeMessage = function (msg) {\r\n            var invocationId = msg.invocation_id;\r\n            var callerId = msg.caller_id;\r\n            var methodId = msg.method_id;\r\n            var args = msg.arguments_kv;\r\n            var methodList = this.serverRepository.getList();\r\n            var method = methodList.filter(function (m) {\r\n                return m.repoId === methodId;\r\n            })[0];\r\n            if (method === undefined) {\r\n                return;\r\n            }\r\n            var client = this.clientRepository.getServerById(callerId).instance;\r\n            var invocationArgs = { args: args, instance: client };\r\n            this.callbacks.execute(\"onInvoked\", method, invocationId, invocationArgs);\r\n        };\r\n        return ServerProtocol;\r\n    }());\n\n    var UserSubscription = (function () {\r\n        function UserSubscription(repository, subscriptionData) {\r\n            this.repository = repository;\r\n            this.subscriptionData = subscriptionData;\r\n        }\r\n        Object.defineProperty(UserSubscription.prototype, \"requestArguments\", {\r\n            get: function () {\r\n                return this.subscriptionData.params.arguments || {};\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(UserSubscription.prototype, \"servers\", {\r\n            get: function () {\r\n                var _this = this;\r\n                return this.subscriptionData.trackedServers\r\n                    .filter(function (pair) { return pair.subscriptionId; })\r\n                    .map(function (pair) { return _this.repository.getServerById(pair.serverId).instance; });\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(UserSubscription.prototype, \"serverInstance\", {\r\n            get: function () {\r\n                return this.servers[0];\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(UserSubscription.prototype, \"stream\", {\r\n            get: function () {\r\n                return this.subscriptionData.method;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        UserSubscription.prototype.onData = function (dataCallback) {\r\n            if (typeof dataCallback !== \"function\") {\r\n                throw new TypeError(\"The data callback must be a function.\");\r\n            }\r\n            this.subscriptionData.handlers.onData.push(dataCallback);\r\n            if (this.subscriptionData.handlers.onData.length === 1 && this.subscriptionData.queued.data.length > 0) {\r\n                this.subscriptionData.queued.data.forEach(function (dataItem) {\r\n                    dataCallback(dataItem);\r\n                });\r\n            }\r\n        };\r\n        UserSubscription.prototype.onClosed = function (closedCallback) {\r\n            if (typeof closedCallback !== \"function\") {\r\n                throw new TypeError(\"The callback must be a function.\");\r\n            }\r\n            this.subscriptionData.handlers.onClosed.push(closedCallback);\r\n        };\r\n        UserSubscription.prototype.onFailed = function (callback) {\r\n        };\r\n        UserSubscription.prototype.onConnected = function (callback) {\r\n            if (typeof callback !== \"function\") {\r\n                throw new TypeError(\"The callback must be a function.\");\r\n            }\r\n            this.subscriptionData.handlers.onConnected.push(callback);\r\n        };\r\n        UserSubscription.prototype.close = function () {\r\n            this.subscriptionData.close();\r\n        };\r\n        UserSubscription.prototype.setNewSubscription = function (newSub) {\r\n            this.subscriptionData = newSub;\r\n        };\r\n        return UserSubscription;\r\n    }());\n\n    var STATUS_AWAITING_ACCEPT = \"awaitingAccept\";\r\n    var STATUS_SUBSCRIBED = \"subscribed\";\r\n    var ERR_MSG_SUB_FAILED = \"Subscription failed.\";\r\n    var ERR_MSG_SUB_REJECTED = \"Subscription rejected.\";\r\n    var ON_CLOSE_MSG_SERVER_INIT = \"ServerInitiated\";\r\n    var ON_CLOSE_MSG_CLIENT_INIT = \"ClientInitiated\";\r\n    var ClientStreaming = (function () {\r\n        function ClientStreaming(session, repository, logger) {\r\n            var _this = this;\r\n            this.session = session;\r\n            this.repository = repository;\r\n            this.logger = logger;\r\n            this.subscriptionsList = {};\r\n            this.subscriptionIdToLocalKeyMap = {};\r\n            this.nextSubLocalKey = 0;\r\n            this.handleErrorSubscribing = function (errorResponse) {\r\n                var tag = errorResponse._tag;\r\n                var subLocalKey = tag.subLocalKey;\r\n                var pendingSub = _this.subscriptionsList[subLocalKey];\r\n                if (typeof pendingSub !== \"object\") {\r\n                    return;\r\n                }\r\n                pendingSub.trackedServers = pendingSub.trackedServers.filter(function (server) {\r\n                    return server.serverId !== tag.serverId;\r\n                });\r\n                if (pendingSub.trackedServers.length <= 0) {\r\n                    clearTimeout(pendingSub.timeoutId);\r\n                    if (pendingSub.status === STATUS_AWAITING_ACCEPT) {\r\n                        var reason = (typeof errorResponse.reason === \"string\" && errorResponse.reason !== \"\") ?\r\n                            ' Publisher said \"' + errorResponse.reason + '\".' :\r\n                            \" No reason given.\";\r\n                        var callArgs = typeof pendingSub.params.arguments === \"object\" ?\r\n                            JSON.stringify(pendingSub.params.arguments) :\r\n                            \"{}\";\r\n                        pendingSub.error({\r\n                            message: ERR_MSG_SUB_REJECTED + reason + \" Called with:\" + callArgs,\r\n                            called_with: pendingSub.params.arguments,\r\n                            method: pendingSub.method,\r\n                        });\r\n                    }\r\n                    else if (pendingSub.status === STATUS_SUBSCRIBED) {\r\n                        _this.callOnClosedHandlers(pendingSub);\r\n                    }\r\n                    delete _this.subscriptionsList[subLocalKey];\r\n                }\r\n            };\r\n            this.handleSubscribed = function (msg) {\r\n                var subLocalKey = msg._tag.subLocalKey;\r\n                var pendingSub = _this.subscriptionsList[subLocalKey];\r\n                if (typeof pendingSub !== \"object\") {\r\n                    return;\r\n                }\r\n                var serverId = msg._tag.serverId;\r\n                var acceptingServer = pendingSub.trackedServers\r\n                    .filter(function (server) {\r\n                    return server.serverId === serverId;\r\n                })[0];\r\n                if (typeof acceptingServer !== \"object\") {\r\n                    return;\r\n                }\r\n                acceptingServer.subscriptionId = msg.subscription_id;\r\n                _this.subscriptionIdToLocalKeyMap[msg.subscription_id] = subLocalKey;\r\n                var isFirstResponse = (pendingSub.status === STATUS_AWAITING_ACCEPT);\r\n                pendingSub.status = STATUS_SUBSCRIBED;\r\n                if (isFirstResponse) {\r\n                    var reconnect = false;\r\n                    var sub = pendingSub.subscription;\r\n                    if (sub) {\r\n                        sub.setNewSubscription(pendingSub);\r\n                        pendingSub.success(sub);\r\n                        reconnect = true;\r\n                    }\r\n                    else {\r\n                        sub = new UserSubscription(_this.repository, pendingSub);\r\n                        pendingSub.subscription = sub;\r\n                        pendingSub.success(sub);\r\n                    }\r\n                    for (var _i = 0, _a = pendingSub.handlers.onConnected; _i < _a.length; _i++) {\r\n                        var handler = _a[_i];\r\n                        try {\r\n                            handler(sub.serverInstance, reconnect);\r\n                        }\r\n                        catch (e) {\r\n                        }\r\n                    }\r\n                }\r\n            };\r\n            this.handleEventData = function (msg) {\r\n                var subLocalKey = _this.subscriptionIdToLocalKeyMap[msg.subscription_id];\r\n                if (typeof subLocalKey === \"undefined\") {\r\n                    return;\r\n                }\r\n                var subscription = _this.subscriptionsList[subLocalKey];\r\n                if (typeof subscription !== \"object\") {\r\n                    return;\r\n                }\r\n                var trackedServersFound = subscription.trackedServers.filter(function (server) {\r\n                    return server.subscriptionId === msg.subscription_id;\r\n                });\r\n                if (trackedServersFound.length !== 1) {\r\n                    return;\r\n                }\r\n                var isPrivateData = msg.oob;\r\n                var sendingServerId = trackedServersFound[0].serverId;\r\n                var receivedStreamData = function () {\r\n                    return {\r\n                        data: msg.data,\r\n                        server: _this.repository.getServerById(sendingServerId).instance,\r\n                        requestArguments: subscription.params.arguments,\r\n                        message: undefined,\r\n                        private: isPrivateData,\r\n                    };\r\n                };\r\n                var onDataHandlers = subscription.handlers.onData;\r\n                var queuedData = subscription.queued.data;\r\n                if (onDataHandlers.length > 0) {\r\n                    onDataHandlers.forEach(function (callback) {\r\n                        if (typeof callback === \"function\") {\r\n                            callback(receivedStreamData());\r\n                        }\r\n                    });\r\n                }\r\n                else {\r\n                    queuedData.push(receivedStreamData());\r\n                }\r\n            };\r\n            this.handleSubscriptionCancelled = function (msg) {\r\n                var subLocalKey = _this.subscriptionIdToLocalKeyMap[msg.subscription_id];\r\n                if (typeof subLocalKey === \"undefined\") {\r\n                    return;\r\n                }\r\n                var subscription = _this.subscriptionsList[subLocalKey];\r\n                if (typeof subscription !== \"object\") {\r\n                    return;\r\n                }\r\n                var expectedNewLength = subscription.trackedServers.length - 1;\r\n                subscription.trackedServers = subscription.trackedServers.filter(function (server) {\r\n                    if (server.subscriptionId === msg.subscription_id) {\r\n                        subscription.queued.closers.push(server.serverId);\r\n                        return false;\r\n                    }\r\n                    else {\r\n                        return true;\r\n                    }\r\n                });\r\n                if (subscription.trackedServers.length !== expectedNewLength) {\r\n                    return;\r\n                }\r\n                if (subscription.trackedServers.length <= 0) {\r\n                    clearTimeout(subscription.timeoutId);\r\n                    _this.callOnClosedHandlers(subscription);\r\n                    delete _this.subscriptionsList[subLocalKey];\r\n                }\r\n                delete _this.subscriptionIdToLocalKeyMap[msg.subscription_id];\r\n            };\r\n            session.on(\"subscribed\", this.handleSubscribed);\r\n            session.on(\"event\", this.handleEventData);\r\n            session.on(\"subscription-cancelled\", this.handleSubscriptionCancelled);\r\n        }\r\n        ClientStreaming.prototype.subscribe = function (streamingMethod, params, targetServers, success, error, existingSub) {\r\n            var _this = this;\r\n            if (targetServers.length === 0) {\r\n                error({\r\n                    method: streamingMethod,\r\n                    called_with: params.arguments,\r\n                    message: ERR_MSG_SUB_FAILED + \" No available servers matched the target params.\",\r\n                });\r\n                return;\r\n            }\r\n            var subLocalKey = this.getNextSubscriptionLocalKey();\r\n            var pendingSub = this.registerSubscription(subLocalKey, streamingMethod, params, success, error, params.methodResponseTimeout || 10000, existingSub);\r\n            if (typeof pendingSub !== \"object\") {\r\n                error({\r\n                    method: streamingMethod,\r\n                    called_with: params.arguments,\r\n                    message: ERR_MSG_SUB_FAILED + \" Unable to register the user callbacks.\",\r\n                });\r\n                return;\r\n            }\r\n            targetServers.forEach(function (target) {\r\n                var serverId = target.server.id;\r\n                var method = target.methods.find(function (m) { return m.name === streamingMethod.name; });\r\n                if (!method) {\r\n                    _this.logger.error(\"can not find method \" + streamingMethod.name + \" for target \" + target.server.id);\r\n                    return;\r\n                }\r\n                pendingSub.trackedServers.push({\r\n                    serverId: serverId,\r\n                    subscriptionId: undefined,\r\n                });\r\n                var msg = {\r\n                    type: \"subscribe\",\r\n                    server_id: serverId,\r\n                    method_id: method.gatewayId,\r\n                    arguments_kv: params.arguments,\r\n                };\r\n                _this.session.send(msg, { serverId: serverId, subLocalKey: subLocalKey })\r\n                    .then(function (m) { return _this.handleSubscribed(m); })\r\n                    .catch(function (err) { return _this.handleErrorSubscribing(err); });\r\n            });\r\n        };\r\n        ClientStreaming.prototype.drainSubscriptions = function () {\r\n            var existing = Object.values(this.subscriptionsList);\r\n            this.subscriptionsList = {};\r\n            this.subscriptionIdToLocalKeyMap = {};\r\n            return existing;\r\n        };\r\n        ClientStreaming.prototype.getNextSubscriptionLocalKey = function () {\r\n            var current = this.nextSubLocalKey;\r\n            this.nextSubLocalKey += 1;\r\n            return current;\r\n        };\r\n        ClientStreaming.prototype.registerSubscription = function (subLocalKey, method, params, success, error, timeout, existingSub) {\r\n            var _this = this;\r\n            var subsInfo = {\r\n                localKey: subLocalKey,\r\n                status: STATUS_AWAITING_ACCEPT,\r\n                method: method,\r\n                params: params,\r\n                success: success,\r\n                error: error,\r\n                trackedServers: [],\r\n                handlers: {\r\n                    onData: (existingSub === null || existingSub === void 0 ? void 0 : existingSub.handlers.onData) || [],\r\n                    onClosed: (existingSub === null || existingSub === void 0 ? void 0 : existingSub.handlers.onClosed) || [],\r\n                    onConnected: (existingSub === null || existingSub === void 0 ? void 0 : existingSub.handlers.onConnected) || [],\r\n                },\r\n                queued: {\r\n                    data: [],\r\n                    closers: [],\r\n                },\r\n                timeoutId: undefined,\r\n                close: function () { return _this.closeSubscription(subLocalKey); },\r\n                subscription: existingSub === null || existingSub === void 0 ? void 0 : existingSub.subscription\r\n            };\r\n            if (!existingSub) {\r\n                if (params.onData) {\r\n                    subsInfo.handlers.onData.push(params.onData);\r\n                }\r\n                if (params.onClosed) {\r\n                    subsInfo.handlers.onClosed.push(params.onClosed);\r\n                }\r\n                if (params.onConnected) {\r\n                    subsInfo.handlers.onConnected.push(params.onConnected);\r\n                }\r\n            }\r\n            this.subscriptionsList[subLocalKey] = subsInfo;\r\n            subsInfo.timeoutId = setTimeout(function () {\r\n                if (_this.subscriptionsList[subLocalKey] === undefined) {\r\n                    return;\r\n                }\r\n                var pendingSub = _this.subscriptionsList[subLocalKey];\r\n                if (pendingSub.status === STATUS_AWAITING_ACCEPT) {\r\n                    error({\r\n                        method: method,\r\n                        called_with: params.arguments,\r\n                        message: ERR_MSG_SUB_FAILED + \" Subscription attempt timed out after \" + timeout + \" ms.\",\r\n                    });\r\n                    delete _this.subscriptionsList[subLocalKey];\r\n                }\r\n                else if (pendingSub.status === STATUS_SUBSCRIBED && pendingSub.trackedServers.length > 0) {\r\n                    pendingSub.trackedServers = pendingSub.trackedServers.filter(function (server) {\r\n                        return (typeof server.subscriptionId !== \"undefined\");\r\n                    });\r\n                    delete pendingSub.timeoutId;\r\n                    if (pendingSub.trackedServers.length <= 0) {\r\n                        _this.callOnClosedHandlers(pendingSub);\r\n                        delete _this.subscriptionsList[subLocalKey];\r\n                    }\r\n                }\r\n            }, timeout);\r\n            return subsInfo;\r\n        };\r\n        ClientStreaming.prototype.callOnClosedHandlers = function (subscription, reason) {\r\n            var closersCount = subscription.queued.closers.length;\r\n            var closingServerId = (closersCount > 0) ? subscription.queued.closers[closersCount - 1] : null;\r\n            var closingServer;\r\n            if (closingServerId !== undefined && typeof closingServerId === \"string\") {\r\n                closingServer = this.repository.getServerById(closingServerId).instance;\r\n            }\r\n            subscription.handlers.onClosed.forEach(function (callback) {\r\n                if (typeof callback !== \"function\") {\r\n                    return;\r\n                }\r\n                callback({\r\n                    message: reason || ON_CLOSE_MSG_SERVER_INIT,\r\n                    requestArguments: subscription.params.arguments || {},\r\n                    server: closingServer,\r\n                    stream: subscription.method,\r\n                });\r\n            });\r\n        };\r\n        ClientStreaming.prototype.closeSubscription = function (subLocalKey) {\r\n            var _this = this;\r\n            var subscription = this.subscriptionsList[subLocalKey];\r\n            if (typeof subscription !== \"object\") {\r\n                return;\r\n            }\r\n            subscription.trackedServers.forEach(function (server) {\r\n                if (typeof server.subscriptionId === \"undefined\") {\r\n                    return;\r\n                }\r\n                subscription.queued.closers.push(server.serverId);\r\n                _this.session.sendFireAndForget({\r\n                    type: \"unsubscribe\",\r\n                    subscription_id: server.subscriptionId,\r\n                    reason_uri: \"\",\r\n                    reason: ON_CLOSE_MSG_CLIENT_INIT,\r\n                });\r\n                delete _this.subscriptionIdToLocalKeyMap[server.subscriptionId];\r\n            });\r\n            subscription.trackedServers = [];\r\n            this.callOnClosedHandlers(subscription, ON_CLOSE_MSG_CLIENT_INIT);\r\n            delete this.subscriptionsList[subLocalKey];\r\n        };\r\n        return ClientStreaming;\r\n    }());\n\n    var ClientProtocol = (function () {\r\n        function ClientProtocol(session, repository, logger) {\r\n            var _this = this;\r\n            this.session = session;\r\n            this.repository = repository;\r\n            this.logger = logger;\r\n            session.on(\"peer-added\", function (msg) { return _this.handlePeerAdded(msg); });\r\n            session.on(\"peer-removed\", function (msg) { return _this.handlePeerRemoved(msg); });\r\n            session.on(\"methods-added\", function (msg) { return _this.handleMethodsAddedMessage(msg); });\r\n            session.on(\"methods-removed\", function (msg) { return _this.handleMethodsRemovedMessage(msg); });\r\n            this.streaming = new ClientStreaming(session, repository, logger);\r\n        }\r\n        ClientProtocol.prototype.subscribe = function (stream, options, targetServers, success, error, existingSub) {\r\n            this.streaming.subscribe(stream, options, targetServers, success, error, existingSub);\r\n        };\r\n        ClientProtocol.prototype.invoke = function (id, method, args, target) {\r\n            var _this = this;\r\n            var serverId = target.id;\r\n            var methodId = method.gatewayId;\r\n            var msg = {\r\n                type: \"call\",\r\n                server_id: serverId,\r\n                method_id: methodId,\r\n                arguments_kv: args,\r\n            };\r\n            return this.session.send(msg, { invocationId: id, serverId: serverId })\r\n                .then(function (m) { return _this.handleResultMessage(m); })\r\n                .catch(function (err) { return _this.handleInvocationError(err); });\r\n        };\r\n        ClientProtocol.prototype.drainSubscriptions = function () {\r\n            return this.streaming.drainSubscriptions();\r\n        };\r\n        ClientProtocol.prototype.handlePeerAdded = function (msg) {\r\n            var newPeerId = msg.new_peer_id;\r\n            var remoteId = msg.identity;\r\n            var isLocal = msg.meta ? msg.meta.local : true;\r\n            var pid = Number(remoteId.process);\r\n            var serverInfo = {\r\n                machine: remoteId.machine,\r\n                pid: isNaN(pid) ? remoteId.process : pid,\r\n                instance: remoteId.instance,\r\n                application: remoteId.application,\r\n                applicationName: remoteId.applicationName,\r\n                environment: remoteId.environment,\r\n                region: remoteId.region,\r\n                user: remoteId.user,\r\n                windowId: remoteId.windowId,\r\n                peerId: newPeerId,\r\n                api: remoteId.api,\r\n                isLocal: isLocal\r\n            };\r\n            this.repository.addServer(serverInfo, newPeerId);\r\n        };\r\n        ClientProtocol.prototype.handlePeerRemoved = function (msg) {\r\n            var removedPeerId = msg.removed_id;\r\n            var reason = msg.reason;\r\n            this.repository.removeServerById(removedPeerId, reason);\r\n        };\r\n        ClientProtocol.prototype.handleMethodsAddedMessage = function (msg) {\r\n            var _this = this;\r\n            var serverId = msg.server_id;\r\n            var methods = msg.methods;\r\n            methods.forEach(function (method) {\r\n                _this.repository.addServerMethod(serverId, method);\r\n            });\r\n        };\r\n        ClientProtocol.prototype.handleMethodsRemovedMessage = function (msg) {\r\n            var _this = this;\r\n            var serverId = msg.server_id;\r\n            var methodIdList = msg.methods;\r\n            var server = this.repository.getServerById(serverId);\r\n            var serverMethodKeys = Object.keys(server.methods);\r\n            serverMethodKeys.forEach(function (methodKey) {\r\n                var method = server.methods[methodKey];\r\n                if (methodIdList.indexOf(method.gatewayId) > -1) {\r\n                    _this.repository.removeServerMethod(serverId, methodKey);\r\n                }\r\n            });\r\n        };\r\n        ClientProtocol.prototype.handleResultMessage = function (msg) {\r\n            var invocationId = msg._tag.invocationId;\r\n            var result = msg.result;\r\n            var serverId = msg._tag.serverId;\r\n            var server = this.repository.getServerById(serverId);\r\n            return {\r\n                invocationId: invocationId,\r\n                result: result,\r\n                instance: server.instance,\r\n                status: InvokeStatus.Success,\r\n                message: \"\"\r\n            };\r\n        };\r\n        ClientProtocol.prototype.handleInvocationError = function (msg) {\r\n            this.logger.debug(\"handle invocation error \" + JSON.stringify(msg));\r\n            if (\"_tag\" in msg) {\r\n                var invocationId = msg._tag.invocationId;\r\n                var serverId = msg._tag.serverId;\r\n                var server = this.repository.getServerById(serverId);\r\n                var message = msg.reason;\r\n                var context_1 = msg.context;\r\n                return {\r\n                    invocationId: invocationId,\r\n                    result: context_1,\r\n                    instance: server.instance,\r\n                    status: InvokeStatus.Error,\r\n                    message: message\r\n                };\r\n            }\r\n            else {\r\n                return {\r\n                    invocationId: \"\",\r\n                    message: msg.message,\r\n                    status: InvokeStatus.Error,\r\n                    error: msg\r\n                };\r\n            }\r\n        };\r\n        return ClientProtocol;\r\n    }());\n\n    function gW3ProtocolFactory (instance, connection, clientRepository, serverRepository, libConfig, interop) {\r\n        var logger = libConfig.logger.subLogger(\"gw3-protocol\");\r\n        var resolveReadyPromise;\r\n        var readyPromise = new Promise(function (resolve) {\r\n            resolveReadyPromise = resolve;\r\n        });\r\n        var session = connection.domain(\"agm\", [\"subscribed\"]);\r\n        var server = new ServerProtocol(session, clientRepository, serverRepository, logger.subLogger(\"server\"));\r\n        var client = new ClientProtocol(session, clientRepository, logger.subLogger(\"client\"));\r\n        function handleReconnect() {\r\n            logger.info(\"reconnected - will replay registered methods and subscriptions\");\r\n            var existingSubscriptions = client.drainSubscriptions();\r\n            for (var _i = 0, existingSubscriptions_1 = existingSubscriptions; _i < existingSubscriptions_1.length; _i++) {\r\n                var sub = existingSubscriptions_1[_i];\r\n                var methodInfo = sub.method;\r\n                var params = Object.assign({}, sub.params);\r\n                logger.info(\"trying to re-subscribe to method \" + methodInfo.name);\r\n                interop.client.subscribe(methodInfo, params, undefined, undefined, sub);\r\n            }\r\n            var registeredMethods = serverRepository.getList();\r\n            serverRepository.reset();\r\n            for (var _a = 0, registeredMethods_1 = registeredMethods; _a < registeredMethods_1.length; _a++) {\r\n                var method = registeredMethods_1[_a];\r\n                var def = method.definition;\r\n                logger.info(\"re-publishing method \" + def.name);\r\n                if (method.stream) {\r\n                    interop.server.createStream(def, method.streamCallbacks, undefined, undefined, method.stream);\r\n                }\r\n                else if (method.theFunction && method.theFunction.userCallback) {\r\n                    interop.register(def, method.theFunction.userCallback);\r\n                }\r\n                else if (method.theFunction && method.theFunction.userCallbackAsync) {\r\n                    interop.registerAsync(def, method.theFunction.userCallbackAsync);\r\n                }\r\n            }\r\n        }\r\n        function handleInitialJoin() {\r\n            if (resolveReadyPromise) {\r\n                resolveReadyPromise({\r\n                    client: client,\r\n                    server: server,\r\n                });\r\n                resolveReadyPromise = undefined;\r\n            }\r\n        }\r\n        session.onJoined(function (reconnect) {\r\n            clientRepository.addServer(instance, connection.peerId);\r\n            if (reconnect) {\r\n                handleReconnect();\r\n            }\r\n            else {\r\n                handleInitialJoin();\r\n            }\r\n        });\r\n        session.onLeft(function () {\r\n            clientRepository.reset();\r\n        });\r\n        session.join();\r\n        return readyPromise;\r\n    }\n\n    var Interop = (function () {\r\n        function Interop(configuration) {\r\n            var _this = this;\r\n            if (typeof configuration === \"undefined\") {\r\n                throw new Error(\"configuration is required\");\r\n            }\r\n            if (typeof configuration.connection === \"undefined\") {\r\n                throw new Error(\"configuration.connections is required\");\r\n            }\r\n            var connection = configuration.connection;\r\n            if (typeof configuration.methodResponseTimeout !== \"number\") {\r\n                configuration.methodResponseTimeout = 30 * 1000;\r\n            }\r\n            if (typeof configuration.waitTimeoutMs !== \"number\") {\r\n                configuration.waitTimeoutMs = 30 * 1000;\r\n            }\r\n            this.unwrappedInstance = new InstanceWrapper(this, undefined, connection);\r\n            this.instance = this.unwrappedInstance.unwrap();\r\n            this.clientRepository = new ClientRepository(configuration.logger.subLogger(\"cRep\"), this);\r\n            this.serverRepository = new ServerRepository();\r\n            var protocolPromise;\r\n            if (connection.protocolVersion === 3) {\r\n                protocolPromise = gW3ProtocolFactory(this.instance, connection, this.clientRepository, this.serverRepository, configuration, this);\r\n            }\r\n            else {\r\n                throw new Error(\"protocol \" + connection.protocolVersion + \" not supported\");\r\n            }\r\n            this.readyPromise = protocolPromise.then(function (protocol) {\r\n                _this.protocol = protocol;\r\n                _this.client = new Client(_this.protocol, _this.clientRepository, _this.instance, configuration);\r\n                _this.server = new Server(_this.protocol, _this.serverRepository);\r\n                return _this;\r\n            });\r\n        }\r\n        Interop.prototype.ready = function () {\r\n            return this.readyPromise;\r\n        };\r\n        Interop.prototype.serverRemoved = function (callback) {\r\n            return this.client.serverRemoved(callback);\r\n        };\r\n        Interop.prototype.serverAdded = function (callback) {\r\n            return this.client.serverAdded(callback);\r\n        };\r\n        Interop.prototype.serverMethodRemoved = function (callback) {\r\n            return this.client.serverMethodRemoved(callback);\r\n        };\r\n        Interop.prototype.serverMethodAdded = function (callback) {\r\n            return this.client.serverMethodAdded(callback);\r\n        };\r\n        Interop.prototype.methodRemoved = function (callback) {\r\n            return this.client.methodRemoved(callback);\r\n        };\r\n        Interop.prototype.methodAdded = function (callback) {\r\n            return this.client.methodAdded(callback);\r\n        };\r\n        Interop.prototype.methodsForInstance = function (instance) {\r\n            return this.client.methodsForInstance(instance);\r\n        };\r\n        Interop.prototype.methods = function (methodFilter) {\r\n            return this.client.methods(methodFilter);\r\n        };\r\n        Interop.prototype.servers = function (methodFilter) {\r\n            return this.client.servers(methodFilter);\r\n        };\r\n        Interop.prototype.subscribe = function (method, options, successCallback, errorCallback) {\r\n            return this.client.subscribe(method, options, successCallback, errorCallback);\r\n        };\r\n        Interop.prototype.createStream = function (streamDef, callbacks, successCallback, errorCallback) {\r\n            return this.server.createStream(streamDef, callbacks, successCallback, errorCallback);\r\n        };\r\n        Interop.prototype.unregister = function (methodFilter) {\r\n            return this.server.unregister(methodFilter);\r\n        };\r\n        Interop.prototype.registerAsync = function (methodDefinition, callback) {\r\n            return this.server.registerAsync(methodDefinition, callback);\r\n        };\r\n        Interop.prototype.register = function (methodDefinition, callback) {\r\n            return this.server.register(methodDefinition, callback);\r\n        };\r\n        Interop.prototype.invoke = function (methodFilter, argumentObj, target, additionalOptions, success, error) {\r\n            return this.client.invoke(methodFilter, argumentObj, target, additionalOptions, success, error);\r\n        };\r\n        Interop.prototype.waitForMethod = function (name) {\r\n            var pw = new PromiseWrapper();\r\n            var unsubscribe = this.client.methodAdded(function (m) {\r\n                if (m.name === name) {\r\n                    unsubscribe();\r\n                    pw.resolve(m);\r\n                }\r\n            });\r\n            return pw.promise;\r\n        };\r\n        return Interop;\r\n    }());\n\n    var successMessages = [\"subscribed\", \"success\"];\r\n    var MessageBus = (function () {\r\n        function MessageBus(connection, logger) {\r\n            var _this = this;\r\n            this.publish = function (topic, data, options) {\r\n                var _a = options || {}, routingKey = _a.routingKey, target = _a.target;\r\n                var args = _this.removeEmptyValues({\r\n                    type: \"publish\",\r\n                    topic: topic,\r\n                    data: data,\r\n                    peer_id: _this.peerId,\r\n                    routing_key: routingKey,\r\n                    target_identity: target\r\n                });\r\n                _this.session.send(args);\r\n            };\r\n            this.subscribe = function (topic, callback, options) {\r\n                return new Promise(function (resolve, reject) {\r\n                    var _a = options || {}, routingKey = _a.routingKey, target = _a.target;\r\n                    var args = _this.removeEmptyValues({\r\n                        type: \"subscribe\",\r\n                        topic: topic,\r\n                        peer_id: _this.peerId,\r\n                        routing_key: routingKey,\r\n                        source: target\r\n                    });\r\n                    _this.session.send(args)\r\n                        .then(function (response) {\r\n                        var subscription_id = response.subscription_id;\r\n                        _this.subscriptions.push({ subscription_id: subscription_id, topic: topic, callback: callback, source: target });\r\n                        resolve({\r\n                            unsubscribe: function () {\r\n                                _this.session.send({ type: \"unsubscribe\", subscription_id: subscription_id, peer_id: _this.peerId });\r\n                                _this.subscriptions = _this.subscriptions.filter(function (s) { return s.subscription_id !== subscription_id; });\r\n                                return Promise.resolve();\r\n                            }\r\n                        });\r\n                    })\r\n                        .catch(function (error) { return reject(error); });\r\n                });\r\n            };\r\n            this.watchOnEvent = function () {\r\n                _this.session.on(\"event\", function (args) {\r\n                    var data = args.data, subscription_id = args.subscription_id;\r\n                    var source = args[\"publisher-identity\"];\r\n                    var subscription = _this.subscriptions.find(function (s) { return s.subscription_id === subscription_id; });\r\n                    if (subscription) {\r\n                        if (!subscription.source) {\r\n                            subscription.callback(data, subscription.topic, source);\r\n                        }\r\n                        else {\r\n                            if (_this.keysMatch(subscription.source, source)) {\r\n                                subscription.callback(data, subscription.topic, source);\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n            };\r\n            this.connection = connection;\r\n            this.logger = logger;\r\n            this.peerId = connection.peerId;\r\n            this.subscriptions = [];\r\n            this.session = connection.domain(\"bus\", successMessages);\r\n            this.readyPromise = this.session.join();\r\n            this.readyPromise.then(function () {\r\n                _this.watchOnEvent();\r\n            });\r\n        }\r\n        MessageBus.prototype.ready = function () {\r\n            return this.readyPromise;\r\n        };\r\n        MessageBus.prototype.removeEmptyValues = function (obj) {\r\n            var cleaned = {};\r\n            Object.keys(obj).forEach(function (key) {\r\n                if (obj[key] !== undefined && obj[key] !== null) {\r\n                    cleaned[key] = obj[key];\r\n                }\r\n            });\r\n            return cleaned;\r\n        };\r\n        MessageBus.prototype.keysMatch = function (obj1, obj2) {\r\n            var keysObj1 = Object.keys(obj1);\r\n            var allMatch = true;\r\n            keysObj1.forEach(function (key) {\r\n                if (obj1[key] !== obj2[key]) {\r\n                    allMatch = false;\r\n                }\r\n            });\r\n            return allMatch;\r\n        };\r\n        return MessageBus;\r\n    }());\n\n    var GlueCore = function (userConfig, ext) {\r\n        var gdVersion = Utils.getGDMajorVersion();\r\n        var glue42gd;\r\n        var preloadPromise = Promise.resolve();\r\n        if (gdVersion) {\r\n            if (gdVersion < 3) {\r\n                throw new Error(\"GD v2 is not supported. Use v4 of the API to run in that context.\");\r\n            }\r\n            else if (gdVersion >= 3) {\r\n                glue42gd = window.glue42gd;\r\n                preloadPromise = window.gdPreloadPromise || preloadPromise;\r\n            }\r\n        }\r\n        var glueInitTimer = timer(\"glue\");\r\n        userConfig = userConfig || {};\r\n        ext = ext || {};\r\n        var internalConfig = prepareConfig(userConfig, ext, glue42gd);\r\n        var _connection;\r\n        var _interop;\r\n        var _logger;\r\n        var _metrics;\r\n        var _contexts;\r\n        var _bus;\r\n        var _allowTrace;\r\n        var libs = {};\r\n        function registerLib(name, inner, t) {\r\n            _allowTrace = _logger.canPublish(\"trace\");\r\n            if (_allowTrace) {\r\n                _logger.trace(\"registering \" + name + \" module\");\r\n            }\r\n            var done = function () {\r\n                inner.initTime = t.stop();\r\n                inner.initEndTime = t.endTime;\r\n                inner.marks = t.marks;\r\n                if (_allowTrace) {\r\n                    _logger.trace(name + \" is ready - \" + (t.endTime - t.startTime));\r\n                }\r\n            };\r\n            inner.initStartTime = t.startTime;\r\n            if (inner.ready) {\r\n                inner.ready().then(function () {\r\n                    done();\r\n                });\r\n            }\r\n            else {\r\n                done();\r\n            }\r\n            if (!Array.isArray(name)) {\r\n                name = [name];\r\n            }\r\n            name.forEach(function (n) {\r\n                libs[n] = inner;\r\n                GlueCore[n] = inner;\r\n            });\r\n        }\r\n        function setupConnection() {\r\n            var initTimer = timer(\"connection\");\r\n            _connection = new Connection(internalConfig.connection, _logger.subLogger(\"connection\"));\r\n            var authPromise = Promise.resolve(internalConfig.auth);\r\n            if (internalConfig.connection && !internalConfig.auth) {\r\n                if (glue42gd) {\r\n                    authPromise = glue42gd.getGWToken()\r\n                        .then(function (token) {\r\n                        return {\r\n                            gatewayToken: token\r\n                        };\r\n                    });\r\n                }\r\n                else {\r\n                    authPromise = Promise.reject(\"You need to provide auth information\");\r\n                }\r\n            }\r\n            return authPromise\r\n                .then(function (authConfig) {\r\n                initTimer.mark(\"auth-promise-resolved\");\r\n                var authRequest;\r\n                if (Object.prototype.toString.call(authConfig) === \"[object Object]\") {\r\n                    authRequest = authConfig;\r\n                }\r\n                else {\r\n                    throw new Error(\"Invalid auth object - \" + JSON.stringify(authConfig));\r\n                }\r\n                return _connection.login(authRequest);\r\n            })\r\n                .then(function () {\r\n                registerLib(\"connection\", _connection, initTimer);\r\n                return internalConfig;\r\n            })\r\n                .catch(function (e) {\r\n                if (_connection) {\r\n                    _connection.logout();\r\n                }\r\n                throw e;\r\n            });\r\n        }\r\n        function setupLogger() {\r\n            var _a;\r\n            var initTimer = timer(\"logger\");\r\n            _logger = new Logger(\"\" + ((_a = internalConfig.connection.identity) === null || _a === void 0 ? void 0 : _a.application), undefined, internalConfig.customLogger);\r\n            _logger.consoleLevel(internalConfig.logger.console);\r\n            _logger.publishLevel(internalConfig.logger.publish);\r\n            if (_logger.canPublish(\"debug\")) {\r\n                _logger.debug(\"initializing glue...\");\r\n            }\r\n            registerLib(\"logger\", _logger, initTimer);\r\n            return Promise.resolve(undefined);\r\n        }\r\n        function setupMetrics() {\r\n            var _a, _b, _c, _d, _e;\r\n            var initTimer = timer(\"metrics\");\r\n            var config = internalConfig.metrics;\r\n            var metricsPublishingEnabledFunc = glue42gd === null || glue42gd === void 0 ? void 0 : glue42gd.getMetricsPublishingEnabled;\r\n            var identity = internalConfig.connection.identity;\r\n            var canUpdateMetric = metricsPublishingEnabledFunc ? metricsPublishingEnabledFunc : function () { return true; };\r\n            var disableAutoAppSystem = (_a = (typeof config !== \"boolean\" && config.disableAutoAppSystem)) !== null && _a !== void 0 ? _a : false;\r\n            _metrics = metrics({\r\n                connection: config ? _connection : undefined,\r\n                logger: _logger.subLogger(\"metrics\"),\r\n                canUpdateMetric: canUpdateMetric,\r\n                system: \"Glue42\",\r\n                service: (_c = (_b = identity === null || identity === void 0 ? void 0 : identity.service) !== null && _b !== void 0 ? _b : glue42gd === null || glue42gd === void 0 ? void 0 : glue42gd.applicationName) !== null && _c !== void 0 ? _c : internalConfig.application,\r\n                instance: (_e = (_d = identity === null || identity === void 0 ? void 0 : identity.instance) !== null && _d !== void 0 ? _d : identity === null || identity === void 0 ? void 0 : identity.windowId) !== null && _e !== void 0 ? _e : shortid(),\r\n                disableAutoAppSystem: disableAutoAppSystem,\r\n                pagePerformanceMetrics: typeof config !== \"boolean\" ? config === null || config === void 0 ? void 0 : config.pagePerformanceMetrics : undefined\r\n            });\r\n            registerLib(\"metrics\", _metrics, initTimer);\r\n            return Promise.resolve();\r\n        }\r\n        function setupInterop() {\r\n            var initTimer = timer(\"interop\");\r\n            var agmConfig = {\r\n                connection: _connection,\r\n                logger: _logger.subLogger(\"interop\"),\r\n            };\r\n            _interop = new Interop(agmConfig);\r\n            Logger.Interop = _interop;\r\n            registerLib([\"interop\", \"agm\"], _interop, initTimer);\r\n            return Promise.resolve();\r\n        }\r\n        function setupContexts() {\r\n            var hasActivities = (internalConfig.activities && _connection.protocolVersion === 3);\r\n            var needsContexts = internalConfig.contexts || hasActivities;\r\n            if (needsContexts) {\r\n                var initTimer = timer(\"contexts\");\r\n                _contexts = new ContextsModule({\r\n                    connection: _connection,\r\n                    logger: _logger.subLogger(\"contexts\")\r\n                });\r\n                registerLib(\"contexts\", _contexts, initTimer);\r\n                return _contexts;\r\n            }\r\n            else {\r\n                var replayer = _connection.replayer;\r\n                if (replayer) {\r\n                    replayer.drain(ContextMessageReplaySpec.name);\r\n                }\r\n            }\r\n        }\r\n        function setupBus() {\r\n            return __awaiter$1(this, void 0, void 0, function () {\r\n                var initTimer;\r\n                return __generator$1(this, function (_a) {\r\n                    if (!internalConfig.bus) {\r\n                        return [2, Promise.resolve()];\r\n                    }\r\n                    initTimer = timer(\"bus\");\r\n                    _bus = new MessageBus(_connection, _logger.subLogger(\"bus\"));\r\n                    registerLib(\"bus\", _bus, initTimer);\r\n                    return [2, Promise.resolve()];\r\n                });\r\n            });\r\n        }\r\n        function setupExternalLibs(externalLibs) {\r\n            try {\r\n                externalLibs.forEach(function (lib) {\r\n                    setupExternalLib(lib.name, lib.create);\r\n                });\r\n                return Promise.resolve();\r\n            }\r\n            catch (e) {\r\n                return Promise.reject(e);\r\n            }\r\n        }\r\n        function setupExternalLib(name, createCallback) {\r\n            var initTimer = timer(name);\r\n            var lib = createCallback(libs);\r\n            if (lib) {\r\n                registerLib(name, lib, initTimer);\r\n            }\r\n        }\r\n        function waitForLibs() {\r\n            var libsReadyPromises = Object.keys(libs).map(function (key) {\r\n                var lib = libs[key];\r\n                return lib.ready ?\r\n                    lib.ready() : Promise.resolve();\r\n            });\r\n            return Promise.all(libsReadyPromises);\r\n        }\r\n        function constructGlueObject() {\r\n            var feedbackFunc = function (feedbackInfo) {\r\n                if (!_interop) {\r\n                    return;\r\n                }\r\n                _interop.invoke(\"T42.ACS.Feedback\", feedbackInfo, \"best\");\r\n            };\r\n            var info = {\r\n                coreVersion: version,\r\n                version: internalConfig.version\r\n            };\r\n            glueInitTimer.stop();\r\n            var glue = {\r\n                feedback: feedbackFunc,\r\n                info: info,\r\n                logger: _logger,\r\n                interop: _interop,\r\n                agm: _interop,\r\n                connection: _connection,\r\n                metrics: _metrics,\r\n                contexts: _contexts,\r\n                bus: _bus,\r\n                version: internalConfig.version,\r\n                userConfig: userConfig,\r\n                done: function () {\r\n                    _logger === null || _logger === void 0 ? void 0 : _logger.info(\"done called by user...\");\r\n                    return _connection.logout();\r\n                }\r\n            };\r\n            glue.performance = {\r\n                get glueVer() {\r\n                    return internalConfig.version;\r\n                },\r\n                get glueConfig() {\r\n                    return JSON.stringify(userConfig);\r\n                },\r\n                get browser() {\r\n                    return window.performance.timing.toJSON();\r\n                },\r\n                get memory() {\r\n                    return window.performance.memory;\r\n                },\r\n                get initTimes() {\r\n                    var all = getAllTimers();\r\n                    return Object.keys(all).map(function (key) {\r\n                        var t = all[key];\r\n                        return {\r\n                            name: key,\r\n                            duration: t.endTime - t.startTime,\r\n                            marks: t.marks\r\n                        };\r\n                    });\r\n                }\r\n            };\r\n            Object.keys(libs).forEach(function (key) {\r\n                var lib = libs[key];\r\n                glue[key] = lib;\r\n            });\r\n            glue.config = {};\r\n            Object.keys(internalConfig).forEach(function (k) {\r\n                glue.config[k] = internalConfig[k];\r\n            });\r\n            if (ext && ext.extOptions) {\r\n                Object.keys(ext.extOptions).forEach(function (k) {\r\n                    glue.config[k] = ext === null || ext === void 0 ? void 0 : ext.extOptions[k];\r\n                });\r\n            }\r\n            if (ext === null || ext === void 0 ? void 0 : ext.enrichGlue) {\r\n                ext.enrichGlue(glue);\r\n            }\r\n            if (glue42gd && glue42gd.updatePerfData) {\r\n                glue42gd.updatePerfData(glue.performance);\r\n            }\r\n            if (glue.agm) {\r\n                var deprecatedDecorator = function (fn, wrong, proper) {\r\n                    return function () {\r\n                        glue.logger.warn(\"glue.js - 'glue.agm.\" + wrong + \"' method is deprecated, use 'glue.interop.\" + proper + \"' instead.\");\r\n                        return fn.apply(glue.agm, arguments);\r\n                    };\r\n                };\r\n                var agmAny = glue.agm;\r\n                agmAny.method_added = deprecatedDecorator(glue.agm.methodAdded, \"method_added\", \"methodAdded\");\r\n                agmAny.method_removed = deprecatedDecorator(glue.agm.methodRemoved, \"method_removed\", \"methodRemoved\");\r\n                agmAny.server_added = deprecatedDecorator(glue.agm.serverAdded, \"server_added\", \"serverAdded\");\r\n                agmAny.server_method_aded = deprecatedDecorator(glue.agm.serverMethodAdded, \"server_method_aded\", \"serverMethodAdded\");\r\n                agmAny.server_method_removed = deprecatedDecorator(glue.agm.serverMethodRemoved, \"server_method_removed\", \"serverMethodRemoved\");\r\n            }\r\n            return glue;\r\n        }\r\n        return preloadPromise\r\n            .then(setupLogger)\r\n            .then(setupConnection)\r\n            .then(function () { return Promise.all([setupMetrics(), setupInterop(), setupContexts(), setupBus()]); })\r\n            .then(function () { return _interop.readyPromise; })\r\n            .then(function () {\r\n            return setupExternalLibs(internalConfig.libs || []);\r\n        })\r\n            .then(waitForLibs)\r\n            .then(constructGlueObject)\r\n            .catch(function (err) {\r\n            return Promise.reject({\r\n                err: err,\r\n                libs: libs\r\n            });\r\n        });\r\n    };\r\n    if (typeof window !== \"undefined\") {\r\n        window.GlueCore = GlueCore;\r\n    }\r\n    GlueCore.version = version;\r\n    GlueCore.default = GlueCore;\n\n    var ActivityEntity = (function () {\r\n        function ActivityEntity(id) {\r\n            this._id = id;\r\n        }\r\n        Object.defineProperty(ActivityEntity.prototype, \"id\", {\r\n            get: function () {\r\n                return this._id;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ActivityEntity.prototype._update = function (other) {\r\n            if (other._id !== this._id) {\r\n                throw Error(\"Can not update from entity with different id.\");\r\n            }\r\n            this._updateCore(other);\r\n        };\r\n        ActivityEntity.prototype._updateCore = function (other) {\r\n            return;\r\n        };\r\n        ActivityEntity.prototype._beforeDelete = function (other) {\r\n            return;\r\n        };\r\n        return ActivityEntity;\r\n    }());\n\n    function isNumber(arg) {\r\n        return typeof arg === \"number\";\r\n    }\r\n    function isString(arg) {\r\n        return typeof arg === \"string\";\r\n    }\r\n    function isObject(arg) {\r\n        return typeof arg === \"object\" && arg !== null;\r\n    }\r\n    function isArray(arg) {\r\n        if (Array.isArray) {\r\n            return Array.isArray(arg);\r\n        }\r\n        return toString.call(arg) === \"[object Array]\";\r\n    }\r\n    function isUndefined(arg) {\r\n        return typeof arg === \"undefined\";\r\n    }\r\n    function isUndefinedOrNull(arg) {\r\n        return !arg || typeof arg === \"undefined\";\r\n    }\r\n    function isFunction(arg) {\r\n        return !!(arg && arg.constructor && arg.call && arg.apply);\r\n    }\r\n    function some(array, predicate) {\r\n        for (var index = 0; index < array.length; index++) {\r\n            if (predicate(array[index], index)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    function ifNotUndefined(what, doWithIt) {\r\n        if (typeof what !== \"undefined\") {\r\n            doWithIt(what);\r\n        }\r\n    }\r\n    function promisify$1(promise, successCallback, errorCallback) {\r\n        if (typeof successCallback !== \"function\" && typeof errorCallback !== \"function\") {\r\n            return promise;\r\n        }\r\n        if (typeof successCallback !== \"function\") {\r\n            successCallback = function () { return; };\r\n        }\r\n        else if (typeof errorCallback !== \"function\") {\r\n            errorCallback = function () { return; };\r\n        }\r\n        promise.then(successCallback, errorCallback);\r\n    }\n\n    var ActivityType = (function (_super) {\r\n        __extends(ActivityType, _super);\r\n        function ActivityType(name, ownerWindow, helperWindows, description) {\r\n            var _this = _super.call(this, name) || this;\r\n            _this._name = name;\r\n            _this._description = description;\r\n            _this._ownerWindow = ownerWindow;\r\n            _this._helperWindows = helperWindows || [];\r\n            return _this;\r\n        }\r\n        Object.defineProperty(ActivityType.prototype, \"name\", {\r\n            get: function () {\r\n                return this._name;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityType.prototype, \"description\", {\r\n            get: function () {\r\n                return this._description;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityType.prototype, \"helperWindows\", {\r\n            get: function () {\r\n                var _this = this;\r\n                return this._helperWindows.map(function (hw) { return _this.covertToWindowDef(hw); });\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityType.prototype, \"ownerWindow\", {\r\n            get: function () {\r\n                return this.covertToWindowDef(this._ownerWindow);\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ActivityType.prototype.initiate = function (context, callback, configuration) {\r\n            return this._manager.initiate(this._name, context, callback, configuration);\r\n        };\r\n        ActivityType.prototype._updateCore = function (other) {\r\n            var _this = this;\r\n            _super.prototype._updateCore.call(this, other);\r\n            ifNotUndefined(other._description, function (x) { return _this._description = x; });\r\n            ifNotUndefined(other._ownerWindow, function (x) { return _this._ownerWindow = x; });\r\n            ifNotUndefined(other._helperWindows, function (x) { return _this._helperWindows = x; });\r\n        };\r\n        ActivityType.prototype.covertToWindowDef = function (windowType) {\r\n            var _a, _b, _c, _d;\r\n            return {\r\n                type: (_b = (_a = windowType) === null || _a === void 0 ? void 0 : _a.id) === null || _b === void 0 ? void 0 : _b.type,\r\n                name: (_d = (_c = windowType) === null || _c === void 0 ? void 0 : _c.id) === null || _d === void 0 ? void 0 : _d.name\r\n            };\r\n        };\r\n        return ActivityType;\r\n    }(ActivityEntity));\n\n    var WindowType = (function (_super) {\r\n        __extends(WindowType, _super);\r\n        function WindowType(name, appByWindowTypeGetter) {\r\n            var _this = _super.call(this, name) || this;\r\n            _this._name = name;\r\n            _this._appByWindowTypeGetter = appByWindowTypeGetter;\r\n            return _this;\r\n        }\r\n        Object.defineProperty(WindowType.prototype, \"name\", {\r\n            get: function () {\r\n                return this._name;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(WindowType.prototype, \"config\", {\r\n            get: function () {\r\n                return this._appByWindowTypeGetter(this._name);\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(WindowType.prototype, \"windows\", {\r\n            get: function () {\r\n                return this._manager.getWindows({ type: this._name });\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        WindowType.prototype.create = function (activity, configuration) {\r\n            var definition = Object.assign({ type: this.name, name: this.name, isIndependent: false }, configuration);\r\n            return this._manager.createWindow(activity, definition);\r\n        };\r\n        return WindowType;\r\n    }(ActivityEntity));\n\n    var EntityEvent = (function () {\r\n        function EntityEvent(entitiy, context) {\r\n            this.entity = entitiy;\r\n            this.context = context;\r\n        }\r\n        return EntityEvent;\r\n    }());\r\n    var EntityEventContext = (function () {\r\n        function EntityEventContext(eventType) {\r\n            this.type = eventType;\r\n        }\r\n        return EntityEventContext;\r\n    }());\r\n    var ActivityStatusChangeEventContext = (function (_super) {\r\n        __extends(ActivityStatusChangeEventContext, _super);\r\n        function ActivityStatusChangeEventContext(newStatus, oldStatus) {\r\n            var _this = _super.call(this, EntityEventType.StatusChange) || this;\r\n            _this.newStatus = newStatus;\r\n            _this.oldStatus = oldStatus;\r\n            return _this;\r\n        }\r\n        return ActivityStatusChangeEventContext;\r\n    }(EntityEventContext));\r\n    var ActivityContextChangedEventContext = (function (_super) {\r\n        __extends(ActivityContextChangedEventContext, _super);\r\n        function ActivityContextChangedEventContext(context, updated, removed) {\r\n            var _this = _super.call(this, EntityEventType.ActivityContextChange) || this;\r\n            _this.context = typeof context === \"string\" ? JSON.parse(context) : context;\r\n            _this.updated = updated;\r\n            _this.removed = removed;\r\n            return _this;\r\n        }\r\n        return ActivityContextChangedEventContext;\r\n    }(EntityEventContext));\r\n    var EntityEventType = (function () {\r\n        function EntityEventType() {\r\n        }\r\n        EntityEventType.Added = \"added\";\r\n        EntityEventType.Removed = \"removed\";\r\n        EntityEventType.Updated = \"updated\";\r\n        EntityEventType.Closed = \"closed\";\r\n        EntityEventType.StatusChange = \"statusChange\";\r\n        EntityEventType.ActivityContextChange = \"activityContextUpdate\";\r\n        EntityEventType.ActivityWindowEvent = \"activityWindowEvent\";\r\n        EntityEventType.ActivityWindowJoinedActivity = \"joined\";\r\n        EntityEventType.ActivityWindowLeftActivity = \"left\";\r\n        return EntityEventType;\r\n    }());\r\n    var ActivityState = (function () {\r\n        function ActivityState() {\r\n        }\r\n        ActivityState.Created = \"created\";\r\n        ActivityState.Started = \"started\";\r\n        ActivityState.Destroyed = \"destroyed\";\r\n        return ActivityState;\r\n    }());\n\n    var ActivityAGM = (function () {\r\n        function ActivityAGM(activity) {\r\n            this._activity = activity;\r\n        }\r\n        ActivityAGM.prototype.register = function (definition, handler) {\r\n            this._ensureHasAgm();\r\n            ActivityAGM.AGM.register(definition, handler);\r\n        };\r\n        ActivityAGM.prototype.servers = function () {\r\n            this._ensureHasAgm();\r\n            if (isUndefinedOrNull(this._activity)) {\r\n                return [];\r\n            }\r\n            return this._activity.windows.map(function (w) {\r\n                return w.instance;\r\n            });\r\n        };\r\n        ActivityAGM.prototype.methods = function () {\r\n            var _this = this;\r\n            this._ensureHasAgm();\r\n            if (isUndefinedOrNull(this._activity)) {\r\n                return [];\r\n            }\r\n            var windows = this._activity.windows;\r\n            var methodNames = [];\r\n            var methods = [];\r\n            windows.forEach(function (window) {\r\n                var windowMethods = _this.methodsForWindow(window);\r\n                windowMethods.forEach(function (currentWindowMethod) {\r\n                    if (methodNames.indexOf(currentWindowMethod.name) === -1) {\r\n                        methodNames.push(currentWindowMethod.name);\r\n                        methods.push(currentWindowMethod);\r\n                    }\r\n                });\r\n            });\r\n            return methods;\r\n        };\r\n        ActivityAGM.prototype.methodsForWindow = function (window) {\r\n            this._ensureHasAgm();\r\n            if (!window.instance) {\r\n                return [];\r\n            }\r\n            return ActivityAGM.AGM.methodsForInstance(window.instance);\r\n        };\r\n        ActivityAGM.prototype.invoke = function (methodName, arg, target, options, success, error) {\r\n            this._ensureHasAgm();\r\n            var activityServers = this.servers();\r\n            var serversToInvokeAgainst = [];\r\n            if (isUndefinedOrNull(target)) {\r\n                target = \"activity.all\";\r\n            }\r\n            if (isString(target)) {\r\n                if (target === \"activity.all\") {\r\n                    serversToInvokeAgainst = activityServers;\r\n                }\r\n                else if (target === \"activity.best\") {\r\n                    var potentialTargets = activityServers.filter(function (server) {\r\n                        var methods = ActivityAGM.AGM.methodsForInstance(server);\r\n                        return methods.filter(function (m) {\r\n                            return m.name === methodName;\r\n                        }).length > 0;\r\n                    });\r\n                    if (potentialTargets.length > 0) {\r\n                        serversToInvokeAgainst = [potentialTargets[0]];\r\n                    }\r\n                }\r\n                else if (target === \"all\" || target === \"best\") {\r\n                    return promisify$1(ActivityAGM.AGM.invoke(methodName, arg, target, options), success, error);\r\n                }\r\n                else {\r\n                    throw new Error(\"Invalid invoke target \" + target);\r\n                }\r\n            }\r\n            else if (isArray(target)) {\r\n                if (target.length >= 0) {\r\n                    var firstElem = target[0];\r\n                    if (this._isInstance(firstElem)) {\r\n                        serversToInvokeAgainst = target.map(function (instance) { return instance; });\r\n                    }\r\n                    else if (this._isActivityWindow(firstElem)) {\r\n                        serversToInvokeAgainst = target.map(function (win) { return win.instance; });\r\n                    }\r\n                    else {\r\n                        throw new Error(\"Unknown target object\");\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                if (this._isInstance(target)) {\r\n                    serversToInvokeAgainst = [target];\r\n                }\r\n                else if (this._isActivityWindow(target)) {\r\n                    serversToInvokeAgainst = [target.instance];\r\n                }\r\n                else {\r\n                    throw new Error(\"Unknown target object\");\r\n                }\r\n            }\r\n            throw new Error(\"Not implemented\");\r\n        };\r\n        ActivityAGM.prototype.unregister = function (definition) {\r\n            this._ensureHasAgm();\r\n            return ActivityAGM.AGM.unregister(definition);\r\n        };\r\n        ActivityAGM.prototype.createStream = function (methodDefinition, subscriptionAddedHandler, subscriptionRemovedHandler) {\r\n            this._ensureHasAgm();\r\n            ActivityAGM.AGM.createStream(methodDefinition, {\r\n                subscriptionAddedHandler: subscriptionAddedHandler,\r\n                subscriptionRemovedHandler: subscriptionRemovedHandler,\r\n                subscriptionRequestHandler: undefined\r\n            });\r\n        };\r\n        ActivityAGM.prototype.subscribe = function (methodDefinition, parameters, target) {\r\n            this._ensureHasAgm();\r\n            return ActivityAGM.AGM.subscribe(methodDefinition, parameters);\r\n        };\r\n        ActivityAGM.prototype._ensureHasAgm = function () {\r\n            if (isUndefinedOrNull(ActivityAGM.AGM)) {\r\n                throw new Error(\"Agm should be configured to be used in activity\");\r\n            }\r\n        };\r\n        ActivityAGM.prototype._isInstance = function (obj) {\r\n            return obj.application !== undefined;\r\n        };\r\n        ActivityAGM.prototype._isActivityWindow = function (obj) {\r\n            return obj.instance !== undefined;\r\n        };\r\n        return ActivityAGM;\r\n    }());\n\n    var AttachedActivityDescriptor = (function () {\r\n        function AttachedActivityDescriptor(manager, ownerActivityId, state) {\r\n            this._manager = manager;\r\n            this._ownerActivityId = ownerActivityId;\r\n            this._state = state;\r\n        }\r\n        Object.defineProperty(AttachedActivityDescriptor.prototype, \"ownerId\", {\r\n            get: function () {\r\n                return this._state.ownerId;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(AttachedActivityDescriptor.prototype, \"windowIds\", {\r\n            get: function () {\r\n                return this._state.windowIds;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(AttachedActivityDescriptor.prototype, \"frameColor\", {\r\n            get: function () {\r\n                return this._state.frameColor;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(AttachedActivityDescriptor.prototype, \"context\", {\r\n            get: function () {\r\n                return this._state.context;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(AttachedActivityDescriptor.prototype, \"tag\", {\r\n            get: function () {\r\n                return this._state.tag;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        AttachedActivityDescriptor.prototype.detach = function (descriptor) {\r\n            var _this = this;\r\n            descriptor = descriptor || {};\r\n            var merged = {};\r\n            Object.keys(this._state).forEach(function (prop) {\r\n                merged[prop] = _this._state[prop];\r\n            });\r\n            merged.context = descriptor.context || merged.context;\r\n            merged.frameColor = descriptor.frameColor || merged.frameColor;\r\n            return this._manager.detachActivities(this._ownerActivityId, merged);\r\n        };\r\n        return AttachedActivityDescriptor;\r\n    }());\n\n    var nextTick = function (cb) {\r\n        setTimeout(cb, 0);\r\n    };\r\n    function nodeify(promise, callback) {\r\n        if (!isFunction(callback)) {\r\n            return promise;\r\n        }\r\n        promise.then(function (resp) {\r\n            nextTick(function () {\r\n                callback(null, resp);\r\n            });\r\n        }, function (err) {\r\n            nextTick(function () {\r\n                callback(err, null);\r\n            });\r\n        });\r\n    }\n\n    var Activity = (function (_super) {\r\n        __extends(Activity, _super);\r\n        function Activity(id, actType, status, context, ownerId) {\r\n            var _this = _super.call(this, id) || this;\r\n            _this._id = id;\r\n            _this._actType = actType;\r\n            _this._status = status;\r\n            _this._context = context;\r\n            _this._ownerId = ownerId;\r\n            _this._agm = new ActivityAGM(_this);\r\n            return _this;\r\n        }\r\n        Object.defineProperty(Activity.prototype, \"type\", {\r\n            get: function () {\r\n                if (this._manager) {\r\n                    return this._manager.getActivityType(this._actType);\r\n                }\r\n                return undefined;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Activity.prototype, \"context\", {\r\n            get: function () {\r\n                return this._context;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Activity.prototype, \"status\", {\r\n            get: function () {\r\n                return this._status;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Activity.prototype, \"owner\", {\r\n            get: function () {\r\n                if (!this._ownerId) {\r\n                    return null;\r\n                }\r\n                return this._manager.getWindows({ id: this._ownerId })[0];\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Activity.prototype, \"windows\", {\r\n            get: function () {\r\n                return this._manager.getWindows({ activityId: this._id });\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Activity.prototype, \"agm\", {\r\n            get: function () {\r\n                return this._agm;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Activity.prototype.addWindow = function (window, callback) {\r\n            return this._manager.addWindowToActivity(this, window, callback);\r\n        };\r\n        Activity.prototype.createWindow = function (windowType, callback) {\r\n            return this._manager.createWindow(this, windowType, callback);\r\n        };\r\n        Activity.prototype.createStackedWindows = function (windowTypes, timeout, callback) {\r\n            return this._manager.createStackedWindows(this, windowTypes, timeout, callback);\r\n        };\r\n        Activity.prototype.leave = function (window, callback) {\r\n            return this._manager.leaveWindowFromActivity(this, window, callback);\r\n        };\r\n        Activity.prototype.getWindowsByType = function (windowType) {\r\n            var filter = { activityId: this._id, type: windowType };\r\n            return this._manager.getWindows(filter);\r\n        };\r\n        Activity.prototype.setContext = function (context, callback) {\r\n            return this._manager.setActivityContext(this, context, callback);\r\n        };\r\n        Activity.prototype.updateContext = function (context, callback) {\r\n            return this._manager.updateActivityContext(this, context, callback);\r\n        };\r\n        Activity.prototype.onStatusChange = function (handler) {\r\n            var _this = this;\r\n            return this._manager.subscribeActivityEvents(function (a, ns, os) {\r\n                if (a.id === _this.id) {\r\n                    handler(a, ns, os);\r\n                }\r\n            });\r\n        };\r\n        Activity.prototype.onWindowEvent = function (handler) {\r\n            var _this = this;\r\n            return this._manager.subscribeWindowEvents(function (a, w, e) {\r\n                if (a.id === _this.id) {\r\n                    handler(a, w, e);\r\n                }\r\n            });\r\n        };\r\n        Activity.prototype.onContextChanged = function (handler) {\r\n            var _this = this;\r\n            this._manager.subscribeActivityContextChanged(function (act, context, updated, removed) {\r\n                if (act.id === _this.id) {\r\n                    handler(context, updated, removed, act);\r\n                }\r\n            });\r\n            try {\r\n                handler(this.context, this.context, [], this);\r\n            }\r\n            catch (e) {\r\n                return;\r\n            }\r\n        };\r\n        Activity.prototype.stop = function () {\r\n            this._manager.stopActivity(this);\r\n        };\r\n        Activity.prototype.clone = function (options) {\r\n            return this._manager.clone(this, options);\r\n        };\r\n        Activity.prototype.attach = function (activity, tag) {\r\n            var activityId;\r\n            if (typeof activity === \"string\") {\r\n                activityId = activity;\r\n            }\r\n            else {\r\n                activityId = activity.id;\r\n            }\r\n            return this._manager.attachActivities(activityId, this.id, tag);\r\n        };\r\n        Activity.prototype.onActivityAttached = function (callback) {\r\n            var _this = this;\r\n            this._manager.subscribeActivitiesAttached(function (newActId, oldActId, descriptor) {\r\n                if (newActId !== _this._id) {\r\n                    return;\r\n                }\r\n                callback(descriptor);\r\n            });\r\n        };\r\n        Activity.prototype.onDetached = function (callback) {\r\n            var _this = this;\r\n            this._manager.subscribeActivitiesDetached(function (newAct, originalActivity, state) {\r\n                if (originalActivity.id !== _this._id) {\r\n                    return;\r\n                }\r\n                callback(newAct, state);\r\n            });\r\n        };\r\n        Activity.prototype._updateCore = function (other) {\r\n            var _this = this;\r\n            _super.prototype._updateCore.call(this, other);\r\n            ifNotUndefined(other._actType, function (x) { return _this._actType = x; });\r\n            ifNotUndefined(other._context, function (x) { return _this._context = x; });\r\n            ifNotUndefined(other._ownerId, function (x) { return _this._ownerId = x; });\r\n            if (other._status && (!this._status || (this._status.state !== other._status.state))) {\r\n                this._status = other._status;\r\n            }\r\n        };\r\n        Activity.prototype._updateDescriptors = function (allStates) {\r\n            var _this = this;\r\n            this._attached = allStates.map(function (s) {\r\n                return new AttachedActivityDescriptor(_this._manager, _this._id, s);\r\n            });\r\n        };\r\n        Object.defineProperty(Activity.prototype, \"attached\", {\r\n            get: function () {\r\n                return this._attached;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Activity.prototype.setFrameColor = function (color, callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                var callbacksToWait = _this.windows.length;\r\n                if (callbacksToWait === 0) {\r\n                    resolve(_this);\r\n                }\r\n                _this.windows.forEach(function (w) {\r\n                    w.underlyingWindow.setFrameColor(color, function () {\r\n                        callbacksToWait--;\r\n                        if (callbacksToWait <= 0) {\r\n                            resolve(_this);\r\n                        }\r\n                    });\r\n                });\r\n                setTimeout(function () {\r\n                    if (callbacksToWait > 0) {\r\n                        reject(_this.id + \" - timed out waiting for setFrameColor with\" + color);\r\n                    }\r\n                }, 5000);\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        Activity.prototype.getFrameColor = function () {\r\n            if (!this.windows || this.windows.length === 0) {\r\n                return \"\";\r\n            }\r\n            return this.windows[0].underlyingWindow.frameColor;\r\n        };\r\n        return Activity;\r\n    }(ActivityEntity));\n\n    var LogLevel = (function () {\r\n        function LogLevel() {\r\n        }\r\n        LogLevel.Trace = \"trace\";\r\n        LogLevel.Debug = \"debug\";\r\n        LogLevel.Info = \"info\";\r\n        LogLevel.Warn = \"warn\";\r\n        LogLevel.Error = \"error\";\r\n        return LogLevel;\r\n    }());\r\n    var Logger$1 = (function () {\r\n        function Logger(name) {\r\n            this._name = name;\r\n            if (!isUndefinedOrNull(Logger.GlueLogger)) {\r\n                this._glueLogger = Logger.GlueLogger.subLogger(name);\r\n            }\r\n        }\r\n        Logger.GetNamed = function (name) {\r\n            return new Logger(name);\r\n        };\r\n        Logger.Get = function (owner) {\r\n            return new Logger(Logger.GetTypeName(owner));\r\n        };\r\n        Logger.prototype.trace = function (message) {\r\n            if (!isUndefinedOrNull(this._glueLogger)) {\r\n                this._glueLogger.trace(message);\r\n            }\r\n            else {\r\n                if (Logger.Level === LogLevel.Trace) {\r\n                    console.info(this._getMessage(message, LogLevel.Trace));\r\n                }\r\n            }\r\n        };\r\n        Logger.prototype.debug = function (message) {\r\n            if (!isUndefinedOrNull(this._glueLogger)) {\r\n                this._glueLogger.debug(message);\r\n            }\r\n            else {\r\n                if (Logger.Level === LogLevel.Debug ||\r\n                    Logger.Level === LogLevel.Trace) {\r\n                    console.info(this._getMessage(message, LogLevel.Debug));\r\n                }\r\n            }\r\n        };\r\n        Logger.prototype.info = function (message) {\r\n            if (!isUndefinedOrNull(this._glueLogger)) {\r\n                this._glueLogger.info(message);\r\n            }\r\n            else {\r\n                if (Logger.Level === LogLevel.Debug ||\r\n                    Logger.Level === LogLevel.Trace ||\r\n                    Logger.Level === LogLevel.Info) {\r\n                    console.info(this._getMessage(message, LogLevel.Info));\r\n                }\r\n            }\r\n        };\r\n        Logger.prototype.warn = function (message) {\r\n            if (!isUndefinedOrNull(this._glueLogger)) {\r\n                this._glueLogger.warn(message);\r\n            }\r\n            else {\r\n                if (Logger.Level === LogLevel.Debug ||\r\n                    Logger.Level === LogLevel.Trace ||\r\n                    Logger.Level === LogLevel.Info ||\r\n                    Logger.Level === LogLevel.Warn) {\r\n                    console.info(this._getMessage(message, LogLevel.Info));\r\n                }\r\n            }\r\n        };\r\n        Logger.prototype.error = function (message) {\r\n            if (!isUndefinedOrNull(this._glueLogger)) {\r\n                this._glueLogger.error(message);\r\n            }\r\n            else {\r\n                console.error(this._getMessage(message, LogLevel.Error));\r\n                console.trace();\r\n            }\r\n        };\r\n        Logger.prototype._getMessage = function (message, level) {\r\n            return \"[\" + level + \"] \" + this._name + \" - \" + message;\r\n        };\r\n        Logger.GetTypeName = function (object) {\r\n            var funcNameRegex = /function (.{1,})\\(/;\r\n            var results = (funcNameRegex).exec(object.constructor.toString());\r\n            return (results && results.length > 1) ? results[1] : \"\";\r\n        };\r\n        Logger.Level = LogLevel.Info;\r\n        return Logger;\r\n    }());\n\n    var ActivityWindow = (function (_super) {\r\n        __extends(ActivityWindow, _super);\r\n        function ActivityWindow(id, name, type, activityId, instance, isIndependent, windowGetter, hcWindowId) {\r\n            var _this = _super.call(this, id) || this;\r\n            _this._logger = Logger$1.Get(\"window\");\r\n            _this._type = type;\r\n            _this._activityId = activityId;\r\n            _this._name = name;\r\n            _this._instance = instance;\r\n            _this._isIndependent = isIndependent;\r\n            _this._windowGetter = windowGetter;\r\n            _this._hcWindowId = hcWindowId;\r\n            return _this;\r\n        }\r\n        ActivityWindow.prototype.getBounds = function () {\r\n            return this._manager.getWindowBounds(this.id);\r\n        };\r\n        Object.defineProperty(ActivityWindow.prototype, \"name\", {\r\n            get: function () {\r\n                return this._name;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityWindow.prototype, \"isIndependent\", {\r\n            get: function () {\r\n                return this._isIndependent;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityWindow.prototype, \"type\", {\r\n            get: function () {\r\n                if (this._manager) {\r\n                    return this._manager.getWindowType(this._type);\r\n                }\r\n                return undefined;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityWindow.prototype, \"activity\", {\r\n            get: function () {\r\n                if (isUndefined(this._activityId)) {\r\n                    return undefined;\r\n                }\r\n                return this._manager.getActivityById(this._activityId);\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityWindow.prototype, \"isOwner\", {\r\n            get: function () {\r\n                var act = this.activity;\r\n                if (isUndefined(act)) {\r\n                    return false;\r\n                }\r\n                return act.owner.id === this.id;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ActivityWindow.prototype.setVisible = function (isVisible, callback) {\r\n            return this._manager.setWindowVisibility(this.id, isVisible);\r\n        };\r\n        ActivityWindow.prototype.activate = function (focus) {\r\n            return this._manager.activateWindow(this.id, focus);\r\n        };\r\n        ActivityWindow.prototype.setBounds = function (bounds, callback) {\r\n            return this._manager.setWindowBounds(this.id, bounds, callback);\r\n        };\r\n        ActivityWindow.prototype.close = function () {\r\n            return this._manager.closeWindow(this.id);\r\n        };\r\n        Object.defineProperty(ActivityWindow.prototype, \"instance\", {\r\n            get: function () {\r\n                return this._instance;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityWindow.prototype, \"underlyingWindow\", {\r\n            get: function () {\r\n                var window = this._windowGetter();\r\n                if (!window) {\r\n                    return {\r\n                        id: this._hcWindowId\r\n                    };\r\n                }\r\n                return window;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ActivityWindow.prototype.onActivityJoined = function (callback) {\r\n            this._subscribeForActivityWindowEvent(EntityEventType.ActivityWindowJoinedActivity, callback);\r\n        };\r\n        ActivityWindow.prototype.onActivityRemoved = function (callback) {\r\n            this._subscribeForActivityWindowEvent(EntityEventType.ActivityWindowLeftActivity, callback);\r\n        };\r\n        ActivityWindow.prototype._updateCore = function (other) {\r\n            var _this = this;\r\n            ifNotUndefined(other._activityId, function (x) { return _this._activityId = x; });\r\n            ifNotUndefined(other._isIndependent, function (x) { return _this._isIndependent = x; });\r\n            ifNotUndefined(other._hcWindowId, function (x) { return _this._hcWindowId = x; });\r\n            ifNotUndefined(other._type, function (x) { return _this._type = x; });\r\n            ifNotUndefined(other._name, function (x) { return _this._name = x; });\r\n            if (!isUndefinedOrNull(other._instance)) {\r\n                this._instance = other._instance;\r\n            }\r\n        };\r\n        ActivityWindow.prototype._subscribeForActivityWindowEvent = function (eventName, callback) {\r\n            var _this = this;\r\n            this._manager.subscribeWindowEvents(function (activity, window, event) {\r\n                if (window.id !== _this.id) {\r\n                    return;\r\n                }\r\n                if (event === eventName) {\r\n                    callback(activity);\r\n                }\r\n            });\r\n        };\r\n        ActivityWindow.prototype._beforeDelete = function (other) {\r\n            this._hcWindowId = other._hcWindowId;\r\n        };\r\n        return ActivityWindow;\r\n    }(ActivityEntity));\n\n    var ActivityStatus = (function () {\r\n        function ActivityStatus(state, message, time) {\r\n            this.state = state;\r\n            this.message = message;\r\n            this.time = time;\r\n        }\r\n        ActivityStatus.prototype.getState = function () {\r\n            return this.state;\r\n        };\r\n        ActivityStatus.prototype.getMessage = function () {\r\n            return this.message;\r\n        };\r\n        ActivityStatus.prototype.getTime = function () {\r\n            return this.time;\r\n        };\r\n        return ActivityStatus;\r\n    }());\n\n    var gwMmessageError = \"error\";\r\n    var gwMessageAddActivityTypes = \"add-types\";\r\n    var gwMmessageActivityTypesAdded = \"types-added\";\r\n    var gwMessageRemoveActivityTypes = \"remove-types\";\r\n    var gwMessageActivityTypesRemoved = \"types-removed\";\r\n    var gwMessageActivityCreated = \"created\";\r\n    var gwMessageActivityDestroyed = \"destroyed\";\r\n    var gwMessageActivityInitiated = \"initiated\";\r\n    var gwMmessageJoinActivity = \"join-activity\";\r\n    var gwMessageJoinedActivity = \"joined\";\r\n    var gwMessageActivityJoined = \"activity-joined\";\r\n    var gwMessageLeaveActivity = \"leave-activity\";\r\n    var gwMessageActivityLeft = \"left\";\r\n    var gwNmessageMergeActivities = \"merge\";\r\n    var gwMessageSplitActivities = \"split\";\r\n    var gwMessageOwnerChanged = \"owner-changed\";\r\n    var gwMessageAddPeerFactories = \"add-peer-factories\";\r\n    var gwMessagePeerFactoriesAdded = \"peer-factories-added\";\r\n    var gwMessageRemovePeerFactories = \"remove-peer-factories\";\r\n    var gwMessagePeerFactoriesRemoved = \"peer-factories-removed\";\r\n    var gwMessageCreateActivity = \"create\";\r\n    var gwMessageCreatePeer = \"create-peer\";\r\n    var gwMessagePeerRequested = \"peer-requested\";\r\n    var gwMessageReady = \"ready\";\r\n    var gwMessagePeerCreated = \"peer-created\";\r\n    var gwMessageDestroyActivity = \"destroy\";\r\n    var gwMessageDisposePeer = \"dispose-peer\";\r\n    var gwMessageDestroyPeer = \"destroy-peer\";\r\n    var GW3Bridge$1 = (function () {\r\n        function GW3Bridge(config) {\r\n            var _this = this;\r\n            this._activityChangeCallbacks = [];\r\n            this._activityTypeStatusChangeCallbacks = [];\r\n            this._activityWindowChangeCallbacks = [];\r\n            this._windowTypeStatusChangeCallbacks = [];\r\n            this._peerIdAndFactoryIdToPeerType = {};\r\n            this._peerFactoriesRegisteredByUs = {};\r\n            this._gw3Subscriptions = [];\r\n            this._contextSubscriptions = {};\r\n            this._activityTypesInitiatedFromMe = {};\r\n            this._config = config;\r\n            this._connection = config.connection;\r\n            this._logger = config.logger;\r\n            this._contexts = config.contexts;\r\n            this._windows = config.windows;\r\n            this._sessionJoinedPromise = new Promise(function (resolve) {\r\n                _this._sessionJoinedPromiseResolve = resolve;\r\n            });\r\n            this._activityJoinedPromise = new Promise(function (resolve) {\r\n                _this._activityJoinedPromiseResolve = resolve;\r\n            });\r\n            if (!this._config.activityId) {\r\n                this._activityJoinedPromiseResolve({});\r\n            }\r\n            this._gw3Session = this._connection.domain(\"activity\", [\"joined\", \"initiated\", \"peer-created\", \"token\"]);\r\n            if (typeof window !== \"undefined\") {\r\n                var glue42gd_1 = window.glue42gd;\r\n                if (glue42gd_1 && typeof glue42gd_1.addRefreshHandler === \"function\") {\r\n                    glue42gd_1.addRefreshHandler(function (success, error) {\r\n                        _this._gw3Session\r\n                            .send({\r\n                            type: \"reload\"\r\n                        })\r\n                            .then(function (msg) {\r\n                            if (!msg.token) {\r\n                                error(\"Expected gateway token for refreshing.\");\r\n                                return;\r\n                            }\r\n                            try {\r\n                                glue42gd_1.setGWToken(msg.token);\r\n                            }\r\n                            catch (e) {\r\n                                error(e.message || e);\r\n                                return;\r\n                            }\r\n                            success();\r\n                        }, error);\r\n                    });\r\n                }\r\n            }\r\n        }\r\n        GW3Bridge.activityTypeGwMessageEntityToActivityType = function (entity, description) {\r\n            var nameToWindowType = function (windowName) {\r\n                return new WindowType(windowName, undefined);\r\n            };\r\n            return new ActivityType(entity.name, entity.owner_type && nameToWindowType(entity.owner_type), entity.helper_types && entity.helper_types.map(nameToWindowType), description);\r\n        };\r\n        GW3Bridge.peerFactoryGwMessageEntityToWindowType = function (entity) {\r\n            return new WindowType(entity.peer_type, function (_) { return undefined; });\r\n        };\r\n        GW3Bridge.activityGwMessageToActivity = function (msg, status) {\r\n            var ownerId = msg.owner !== undefined ? msg.owner.peer_id : msg.owner_id;\r\n            return new Activity(msg.activity_id, msg.activity_type, status, msg.context_snapshot, ownerId);\r\n        };\r\n        GW3Bridge.activityToActivityStatusChangeEvent = function (act) {\r\n            return new EntityEvent(act, new ActivityStatusChangeEventContext(act.status, undefined));\r\n        };\r\n        Object.defineProperty(GW3Bridge.prototype, \"bridgeType\", {\r\n            get: function () {\r\n                return \"GW3\";\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        GW3Bridge.prototype.init = function () {\r\n            var _this = this;\r\n            this.forwardActivityTypeMessagesToStatusEventHandlers();\r\n            this.subscribe(gwMessageActivityCreated, this.handleActivityCreatedMessage);\r\n            this.subscribe(gwMessageActivityDestroyed, this.handleActivityDestroyedMessage);\r\n            this.forwardActivityMessagesToStatusEventHandlers();\r\n            this.forwardActivityCreatedAndJoinedActivityToActivityWindowEventHandlers();\r\n            this.forwardPeerFactoryMessagesToStatusEventHandlers();\r\n            this.forwardPeerFactoryMessagesToPeerFactoryRequests();\r\n            this.subscribe(gwMessagePeerFactoriesAdded, this.handlePeerFactoriesAdded);\r\n            this.subscribe(gwMessagePeerFactoriesRemoved, this.handlePeerFactoriesRemoved);\r\n            this.forwardActivityWindowMessagesToEventHandlers();\r\n            this.subscribe(gwMessageDisposePeer, function () {\r\n                if (_this._config.disposeRequestHandling === \"dispose\") {\r\n                    _this.dispose();\r\n                    return;\r\n                }\r\n                if (_this._config.disposeRequestHandling === \"exit\") {\r\n                    if (_this._windows && typeof _this._windows.my() !== \"undefined\") {\r\n                        _this._windows.my().close();\r\n                        return;\r\n                    }\r\n                    if (typeof window !== \"undefined\" && typeof window.close === \"function\") {\r\n                        window.close();\r\n                        return;\r\n                    }\r\n                    if (typeof process !== \"undefined\" && typeof process.exit === \"function\") {\r\n                        process.exit();\r\n                        return;\r\n                    }\r\n                }\r\n            });\r\n            this._gw3Session.onJoined(function () {\r\n                if (_this._config.mode === \"trackMyOnly\" ||\r\n                    _this._config.mode === \"trackMyTypeAndInitiatedFromMe\") {\r\n                    _this._sessionJoinedPromiseResolve(_this);\r\n                }\r\n                else {\r\n                    _this._gw3Session\r\n                        .send({\r\n                        type: \"subscribe\",\r\n                        activity_types: (_this._config.mode === \"trackAll\" ? [] :\r\n                            _this._config.mode === \"trackTypes\" ? _this._config.typesToTrack : [])\r\n                    })\r\n                        .then(function () {\r\n                        _this._sessionJoinedPromiseResolve(_this);\r\n                    });\r\n                }\r\n            });\r\n            this._gw3Session.join();\r\n        };\r\n        GW3Bridge.prototype.dispose = function () {\r\n            var _this = this;\r\n            this._gw3Subscriptions.forEach(function (sub) { return sub && _this._connection.off(sub); });\r\n            this._gw3Subscriptions.length = 0;\r\n        };\r\n        GW3Bridge.prototype.ready = function () {\r\n            return Promise.all([this._sessionJoinedPromise, this._activityJoinedPromise]);\r\n        };\r\n        GW3Bridge.prototype.initReady = function () {\r\n            return this._sessionJoinedPromise;\r\n        };\r\n        GW3Bridge.prototype.onActivityTypeStatusChange = function (callback) {\r\n            this._activityTypeStatusChangeCallbacks.push(callback);\r\n        };\r\n        GW3Bridge.prototype.registerActivityType = function (activityTypeName, ownerWindow, helperWindows, config, description) {\r\n            var _this = this;\r\n            var entity = {};\r\n            entity.name = activityTypeName;\r\n            var toActivityPeerConfig = function (windowDefinition) { return ({ type: windowDefinition.type, name: windowDefinition.name, configuration: windowDefinition }); };\r\n            entity.owner_type = toActivityPeerConfig(ownerWindow);\r\n            entity.helper_types = helperWindows.map(toActivityPeerConfig);\r\n            return this._gw3Session\r\n                .send({\r\n                type: gwMessageAddActivityTypes,\r\n                types: [entity]\r\n            })\r\n                .then(function () {\r\n                var activityType = GW3Bridge.activityTypeGwMessageEntityToActivityType(entity, description);\r\n                _this.invokeCallbacks(_this._activityTypeStatusChangeCallbacks, new EntityEvent(activityType, new EntityEventContext(EntityEventType.Added)), gwMessageAddActivityTypes);\r\n                return activityType;\r\n            });\r\n        };\r\n        GW3Bridge.prototype.unregisterActivityType = function (activityTypeName) {\r\n            var _this = this;\r\n            return this._gw3Session\r\n                .send({\r\n                type: gwMessageRemoveActivityTypes,\r\n                types: [activityTypeName]\r\n            })\r\n                .then(function () {\r\n                var activityType = new ActivityType(activityTypeName, undefined, undefined, undefined);\r\n                _this.invokeCallbacks(_this._activityTypeStatusChangeCallbacks, new EntityEvent(activityType, new EntityEventContext(EntityEventType.Removed)), gwMessageAddActivityTypes);\r\n            });\r\n        };\r\n        GW3Bridge.prototype.onWindowTypeStatusChange = function (callback) {\r\n            this._windowTypeStatusChangeCallbacks.push(callback);\r\n        };\r\n        GW3Bridge.prototype.registerWindowFactory = function (windowType, factory, parameters) {\r\n            var _this = this;\r\n            if (this._peerFactoriesRegisteredByUs[windowType]) {\r\n                return Promise.reject(new Error(\"Factory for windowType \" + windowType + \" already registered.\"));\r\n            }\r\n            this._peerFactoriesRegisteredByUs[windowType] = factory;\r\n            var entity = {\r\n                id: windowType,\r\n                peer_type: windowType,\r\n                configuration: parameters\r\n            };\r\n            return this._gw3Session.send({\r\n                type: gwMessageAddPeerFactories,\r\n                factories: [entity]\r\n            })\r\n                .then(function () {\r\n                _this.invokeCallbacks(_this._windowTypeStatusChangeCallbacks, new EntityEvent(GW3Bridge.peerFactoryGwMessageEntityToWindowType(entity), new EntityEventContext(EntityEventType.Added)), gwMessageAddPeerFactories);\r\n            })\r\n                .catch(function () {\r\n                delete _this._peerFactoriesRegisteredByUs[windowType];\r\n            });\r\n        };\r\n        GW3Bridge.prototype.unregisterWindowFactory = function (windowType) {\r\n            var _this = this;\r\n            var factory = this._peerFactoriesRegisteredByUs[windowType];\r\n            if (!factory) {\r\n                return Promise.reject(new Error(\"Factory for windowType \" + windowType + \" not registered.\"));\r\n            }\r\n            delete this._peerFactoriesRegisteredByUs[windowType];\r\n            return this._gw3Session.send({\r\n                type: gwMessageRemovePeerFactories,\r\n                factory_ids: [windowType]\r\n            }).then(function () {\r\n                _this.invokeCallbacks(_this._windowTypeStatusChangeCallbacks, new EntityEvent(new WindowType(windowType, undefined), new EntityEventContext(EntityEventType.Removed)), gwMessageAddPeerFactories);\r\n            });\r\n        };\r\n        GW3Bridge.prototype.onActivityStatusChange = function (callback) {\r\n            this._activityChangeCallbacks.push(callback);\r\n        };\r\n        GW3Bridge.prototype.initiateActivity = function (activityType, context, configuration) {\r\n            var _this = this;\r\n            var initiateMsg = {\r\n                type: gwMessageCreateActivity,\r\n                activity_type: activityType,\r\n                initial_context: context,\r\n            };\r\n            if (this.isOverrideTypeDefinition(configuration)) {\r\n                initiateMsg.types_override = {\r\n                    owner_type: { type: configuration.owner.type, name: configuration.owner.name, configuration: configuration.owner },\r\n                    helper_types: configuration.helpers && configuration.helpers.map(function (wd) { return ({ type: wd.type, name: wd.name, configuration: wd }); })\r\n                };\r\n            }\r\n            else {\r\n                initiateMsg.configuration = configuration && configuration.map(function (wd) { return ({ type: wd.type, name: wd.name, configuration: wd }); });\r\n            }\r\n            return this.sendCreateAndMapResultingMessagesToPromise(initiateMsg, gwMessageActivityInitiated, function (msg, requestId) { return msg.request_id === requestId; }, gwMessageActivityCreated, function (msg, requestId, initMsg) { return msg.activity_id === initMsg.activity_id; }, gwMessageActivityDestroyed, function (msg, requestId, initMsg) { return msg.activity_id === initMsg.activity_id; }, function (msg) { return msg.activity_id; }).then(function (id) {\r\n                if (_this._config.mode === \"trackMyTypeAndInitiatedFromMe\") {\r\n                    if (!_this._activityTypesInitiatedFromMe[activityType]) {\r\n                        _this._activityTypesInitiatedFromMe[activityType] = true;\r\n                        return _this._gw3Session\r\n                            .send({\r\n                            type: \"subscribe\",\r\n                            activity_types: [activityType]\r\n                        })\r\n                            .then(function () {\r\n                            return id;\r\n                        });\r\n                    }\r\n                }\r\n                return id;\r\n            });\r\n        };\r\n        GW3Bridge.prototype.stopActivity = function (activity) {\r\n            return this._gw3Session.send({\r\n                type: gwMessageDestroyActivity,\r\n                activity_id: activity.id,\r\n                reason_uri: \"com.tick42.glue.activity.constants.destroyReason.general\",\r\n                reason: \"Destroying activity\"\r\n            }).then(function (_) { return true; });\r\n        };\r\n        GW3Bridge.prototype.updateActivityContext = function (activity, context, fullReplace, removedKeys) {\r\n            if (fullReplace) {\r\n                return this._contexts.set(activity.id, context);\r\n            }\r\n            else {\r\n                removedKeys = removedKeys || [];\r\n                for (var _i = 0, removedKeys_1 = removedKeys; _i < removedKeys_1.length; _i++) {\r\n                    var x = removedKeys_1[_i];\r\n                    context[x] = null;\r\n                }\r\n                return this._contexts.update(activity.id, context);\r\n            }\r\n        };\r\n        GW3Bridge.prototype.announceWindow = function (windowType, activityWindowId) {\r\n            throw new Error(\"Invalid operation 'announceWindow' for GW3 protocol\");\r\n        };\r\n        GW3Bridge.prototype.registerWindow = function (type, name, independent) {\r\n            var shouldSendReady = typeof this._connection.gatewayToken !== \"undefined\";\r\n            var peerId = this._connection.peerId;\r\n            if (typeof window !== \"undefined\") {\r\n                var glue42gd = window.glue42gd;\r\n                if (glue42gd) {\r\n                    shouldSendReady = typeof glue42gd.activityInfo !== \"undefined\";\r\n                }\r\n            }\r\n            if (shouldSendReady) {\r\n                this._gw3Session.send({\r\n                    type: gwMessageReady,\r\n                });\r\n            }\r\n            this.invokeCallbacks(this._activityWindowChangeCallbacks, new EntityEvent(new ActivityWindow(peerId, name, type, undefined, this.getAgmInstance(peerId), independent, this.generateWindowGetter(peerId), undefined), new EntityEventContext(EntityEventType.Added)), \"register window\");\r\n            return Promise.resolve(peerId);\r\n        };\r\n        GW3Bridge.prototype.onActivityWindowChange = function (callback) {\r\n            this._activityWindowChangeCallbacks.push(callback);\r\n        };\r\n        GW3Bridge.prototype.createWindow = function (activityId, windowDefinition) {\r\n            var _this = this;\r\n            if (!windowDefinition.layout) {\r\n                if (windowDefinition.left || windowDefinition.width || windowDefinition.height || windowDefinition.top) {\r\n                    windowDefinition.layout = {\r\n                        mode: \"pixels\",\r\n                        cellSize: 1,\r\n                    };\r\n                }\r\n            }\r\n            return this.sendCreateAndMapResultingMessagesToPromise({\r\n                type: gwMessageCreatePeer,\r\n                peer_type: windowDefinition.type,\r\n                peer_name: windowDefinition.name || windowDefinition.type,\r\n                configuration: windowDefinition,\r\n                activity_id: activityId,\r\n            }, undefined, undefined, gwMessagePeerCreated, function (msg, requestId) { return msg.request_id === requestId; }, undefined, undefined, function (msg) { return msg.created_id; })\r\n                .then(function (id) {\r\n                if (!activityId) {\r\n                    return;\r\n                }\r\n                return _this.joinActivity(activityId, id, windowDefinition.name)\r\n                    .then(function () {\r\n                    return id;\r\n                });\r\n            });\r\n        };\r\n        GW3Bridge.prototype.closeWindow = function (id) {\r\n            return this._gw3Session.send({\r\n                type: gwMessageDestroyPeer,\r\n                destroy_peer_id: id\r\n            }).then(function (_) { return undefined; });\r\n        };\r\n        GW3Bridge.prototype.getAnnouncementInfo = function () {\r\n            var activityId = this._config.activityId || (this._config.announcementInfo && this._config.announcementInfo.activityId);\r\n            var activityWindowType = (this._config.announcementInfo && this._config.announcementInfo.activityWindowType);\r\n            var activityWindowIndependent = (this._config.announcementInfo && this._config.announcementInfo.activityWindowIndependent);\r\n            var activityWindowName = (this._config.announcementInfo && this._config.announcementInfo.activityWindowName);\r\n            if (typeof window !== \"undefined\" &&\r\n                typeof window.location !== \"undefined\" &&\r\n                window.location.search &&\r\n                typeof URLSearchParams === \"function\") {\r\n                var searchParams = new URLSearchParams(location.search.slice(1));\r\n                activityWindowType = activityWindowType || searchParams.get(\"t42PeerType\");\r\n                activityWindowType = activityWindowType || searchParams.get(\"t42ActivityWindowType\");\r\n                if (typeof activityWindowIndependent === \"undefined\") {\r\n                    activityWindowIndependent = searchParams.get(\"t42ActivityWindowIndependent\");\r\n                }\r\n                activityWindowName = activityWindowName || searchParams.get(\"t42ActivityWindowName\");\r\n                activityId = activityId || searchParams.get(\"t42ActivityId\");\r\n            }\r\n            activityWindowType = activityWindowType || \"unknown\";\r\n            activityWindowIndependent = activityWindowIndependent || false;\r\n            activityWindowName = activityWindowName || this._connection.peerId;\r\n            return {\r\n                activityWindowId: undefined,\r\n                activityId: activityId,\r\n                activityWindowType: activityWindowType,\r\n                activityWindowIndependent: activityWindowIndependent,\r\n                activityWindowName: activityWindowName,\r\n            };\r\n        };\r\n        GW3Bridge.prototype.joinActivity = function (activityId, windowId, name) {\r\n            var _this = this;\r\n            var maybeName = (name && { name: name }) || {};\r\n            return this._gw3Session.send(__assign({ type: gwMmessageJoinActivity, target_id: windowId, activity_id: activityId }, maybeName)).then(function () {\r\n                _this.invokeCallbacks(_this._activityWindowChangeCallbacks, new EntityEvent(new ActivityWindow(windowId, undefined, undefined, activityId, _this.getAgmInstance(windowId), undefined, _this.generateWindowGetter(windowId), undefined), new EntityEventContext(EntityEventType.ActivityWindowJoinedActivity)), \"activity joined - ActivityWindow\");\r\n                _this.invokeCallbacks(_this._activityChangeCallbacks, new EntityEvent(new Activity(activityId, undefined, new ActivityStatus(\"created\", undefined, undefined), undefined, undefined), new EntityEventContext(EntityEventType.Updated)), \"activity joined - Activity\");\r\n            });\r\n        };\r\n        GW3Bridge.prototype.leaveActivity = function (activityId, windowId) {\r\n            var _this = this;\r\n            return this._gw3Session.send({\r\n                type: gwMessageLeaveActivity,\r\n                target_id: windowId,\r\n                activity_id: activityId\r\n            }).then(function () {\r\n                _this.invokeCallbacks(_this._activityWindowChangeCallbacks, new EntityEvent(new ActivityWindow(windowId, undefined, undefined, null, _this.getAgmInstance(windowId), undefined, _this.generateWindowGetter(windowId), undefined), new EntityEventContext(EntityEventType.ActivityWindowLeftActivity)), \"activity left - ActivityWindow\");\r\n                _this.invokeCallbacks(_this._activityChangeCallbacks, new EntityEvent(new Activity(activityId, undefined, new ActivityStatus(\"created\", undefined, undefined), undefined, undefined), new EntityEventContext(EntityEventType.Updated)), \"activity left - Activity\");\r\n            });\r\n        };\r\n        GW3Bridge.prototype.getActivityTypes = function () {\r\n            return Promise.resolve([]);\r\n        };\r\n        GW3Bridge.prototype.getWindowTypes = function () {\r\n            return Promise.resolve([]);\r\n        };\r\n        GW3Bridge.prototype.getActivities = function () {\r\n            return Promise.resolve([]);\r\n        };\r\n        GW3Bridge.prototype.getActivityWindows = function () {\r\n            return Promise.resolve([]);\r\n        };\r\n        GW3Bridge.prototype.createStackedWindows = function (id, windowDefinitions, timeout) {\r\n            return undefined;\r\n        };\r\n        GW3Bridge.prototype.getWindowBounds = function (id) {\r\n            return undefined;\r\n        };\r\n        GW3Bridge.prototype.setWindowBounds = function (id, bounds) {\r\n            return undefined;\r\n        };\r\n        GW3Bridge.prototype.activateWindow = function (id, focus) {\r\n            return undefined;\r\n        };\r\n        GW3Bridge.prototype.setWindowVisibility = function (id, visible) {\r\n            return undefined;\r\n        };\r\n        GW3Bridge.prototype.cloneActivity = function (id, cloneOptions) {\r\n            return undefined;\r\n        };\r\n        GW3Bridge.prototype.attachActivities = function (from, to, tag) {\r\n            return this._gw3Session.send({\r\n                type: gwNmessageMergeActivities,\r\n                into: to,\r\n                merge: from\r\n            });\r\n        };\r\n        GW3Bridge.prototype.detachActivities = function (activityId, newActivityInfo) {\r\n            return this._gw3Session.send({\r\n                type: gwMessageSplitActivities,\r\n                from: activityId,\r\n            }).then(function () { return \"\"; });\r\n        };\r\n        GW3Bridge.prototype.onActivitiesAttached = function (callback) {\r\n        };\r\n        GW3Bridge.prototype.onActivitiesDetached = function (callback) {\r\n        };\r\n        GW3Bridge.prototype.onActivityAttachedDescriptorsRefreshed = function (callback) {\r\n        };\r\n        GW3Bridge.prototype.getAttachedDescriptors = function () {\r\n            return Promise.resolve([]);\r\n        };\r\n        GW3Bridge.prototype.getRandomRequestId = function () {\r\n            return this._connection.peerId + \":\" + Math.floor(Math.random() * 1e9) + \"\";\r\n        };\r\n        GW3Bridge.prototype.forwardAddedAndRemovedMessagesToEventHandler = function (addedMessageType, removedMessageType, mapper, handlers) {\r\n            var getGetEntityEvent = function (isAdded) { return function (entity) { return new EntityEvent(entity, new EntityEventContext(isAdded ?\r\n                EntityEventType.Added :\r\n                EntityEventType.Removed)); }; };\r\n            var sub1;\r\n            var sub2;\r\n            sub1 = addedMessageType && this.forwardMessageToEventHandler(addedMessageType, function (msg) { return mapper(msg, true); }, getGetEntityEvent(true), handlers);\r\n            sub2 = removedMessageType && this.forwardMessageToEventHandler(removedMessageType, function (msg) { return mapper(msg, false); }, getGetEntityEvent(false), handlers);\r\n            return [sub1, sub2].filter(function (x) { return x; });\r\n        };\r\n        GW3Bridge.prototype.forwardMessageToEventHandler = function (messageType, mapper, getEntityEvent, handler) {\r\n            return this.subscribe(messageType, function (msg) {\r\n                mapper(msg)\r\n                    .forEach(function (ent) {\r\n                    return handler.forEach(function (h) { return h(getEntityEvent(ent, msg)); });\r\n                });\r\n            });\r\n        };\r\n        GW3Bridge.prototype.sendCreateAndMapResultingMessagesToPromise = function (msg, initiatedMessageType, initiatedMessageFilter, createdMessageType, createdMessageFilter, cancelledMessageType, cancelledMessageFilter, createdMessageToPromiseResolution) {\r\n            var _this = this;\r\n            var reqId = this.getRandomRequestId();\r\n            var resolveCreatedPromise;\r\n            var rejectCreatedPromise;\r\n            var createdPromise = new Promise(function (resolve, reject) {\r\n                resolveCreatedPromise = resolve;\r\n                rejectCreatedPromise = reject;\r\n            });\r\n            var initiatedMessageAck = null;\r\n            var initiatedSubscription;\r\n            var createdSubscription;\r\n            var cancelledSubscription;\r\n            var errorSubscription;\r\n            var dropSubscriptions = function () {\r\n                _this.dropSubscription(initiatedSubscription);\r\n                _this.dropSubscription(createdSubscription);\r\n                _this.dropSubscription(cancelledSubscription);\r\n                _this.dropSubscription(errorSubscription);\r\n            };\r\n            initiatedSubscription = initiatedMessageType &&\r\n                this.subscribe(initiatedMessageType, function (msg4) {\r\n                    if (!initiatedMessageFilter(msg4, reqId)) {\r\n                        return;\r\n                    }\r\n                    initiatedMessageAck = msg4;\r\n                    _this.dropSubscription(initiatedSubscription);\r\n                });\r\n            createdSubscription =\r\n                this.subscribe(createdMessageType, function (msg1) {\r\n                    if (!createdMessageFilter(msg1, reqId, initiatedMessageAck)) {\r\n                        return;\r\n                    }\r\n                    resolveCreatedPromise(createdMessageToPromiseResolution(msg1));\r\n                });\r\n            cancelledSubscription = cancelledMessageType &&\r\n                this.subscribe(cancelledMessageType, function (msg2) {\r\n                    if (!cancelledMessageFilter(msg2, reqId, initiatedMessageAck)) {\r\n                        return;\r\n                    }\r\n                    rejectCreatedPromise(msg2);\r\n                });\r\n            errorSubscription = cancelledMessageType &&\r\n                this.subscribe(gwMmessageError, function (msg3) {\r\n                    if (msg3.request_id !== reqId) {\r\n                        return;\r\n                    }\r\n                    rejectCreatedPromise(msg3);\r\n                });\r\n            msg.request_id = reqId;\r\n            var toReturn = this._gw3Session\r\n                .send(msg)\r\n                .then(function () {\r\n                return createdPromise;\r\n            });\r\n            toReturn.then(dropSubscriptions, dropSubscriptions);\r\n            return toReturn;\r\n        };\r\n        GW3Bridge.prototype.peerFactoryIdAndOwnerIdToWindowType = function (factoryId, ownerId) {\r\n            var peerType = this._peerIdAndFactoryIdToPeerType[ownerId + \":\" + factoryId];\r\n            if (!peerType) {\r\n                return null;\r\n            }\r\n            else {\r\n                return new WindowType(peerType, undefined);\r\n            }\r\n        };\r\n        GW3Bridge.prototype.subscribe = function (messageType, handler) {\r\n            var _this = this;\r\n            var sub = this._connection.on(messageType, function (msg) { return handler.bind(_this)(msg); });\r\n            this._gw3Subscriptions.push(sub);\r\n            return sub;\r\n        };\r\n        GW3Bridge.prototype.dropSubscription = function (subscription) {\r\n            if (subscription) {\r\n                this._connection.off(subscription);\r\n                delete this._gw3Subscriptions[this._gw3Subscriptions.indexOf(subscription)];\r\n            }\r\n        };\r\n        GW3Bridge.prototype.invokeCallbacks = function (callbacks, event, description) {\r\n            var _this = this;\r\n            callbacks.forEach(function (cb) {\r\n                try {\r\n                    cb(event);\r\n                }\r\n                catch (err) {\r\n                    _this._logger.error(\"Error in \" + (description || event.context.type) + \" callback: \" + JSON.stringify(err));\r\n                }\r\n            });\r\n        };\r\n        GW3Bridge.prototype.handleActivityCreatedMessage = function (msg) {\r\n            if (!msg.context_id) {\r\n                this._logger.error(\"Activity created with unknown context_id: \" + msg.activity_id);\r\n            }\r\n            else {\r\n                if (!this._contextSubscriptions[msg.activity_id]) {\r\n                    this.subscribeToContext(msg);\r\n                }\r\n            }\r\n        };\r\n        GW3Bridge.prototype.subscribeToContext = function (msg) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var activityId, _a, _b;\r\n                var _this = this;\r\n                return __generator(this, function (_c) {\r\n                    switch (_c.label) {\r\n                        case 0:\r\n                            activityId = msg.activity_id;\r\n                            _a = this._contextSubscriptions;\r\n                            _b = activityId;\r\n                            return [4, this._contexts.subscribe(activityId, function (data, updated, removed) {\r\n                                    var event = new EntityEvent(new Activity(activityId, undefined, undefined, data, undefined), new ActivityContextChangedEventContext(data, updated, removed));\r\n                                    _this.invokeCallbacks(_this._activityChangeCallbacks, event, \"context updated\");\r\n                                })];\r\n                        case 1:\r\n                            _a[_b] =\r\n                                _c.sent();\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GW3Bridge.prototype.handleActivityDestroyedMessage = function (msg) {\r\n            var unsubscribeContext = this._contextSubscriptions[msg.activity_id];\r\n            if (typeof unsubscribeContext === \"function\") {\r\n                unsubscribeContext();\r\n            }\r\n            delete this._contextSubscriptions[msg.activity_id];\r\n        };\r\n        GW3Bridge.prototype.handlePeerFactoriesAdded = function (msg) {\r\n            var _this = this;\r\n            msg.factories.forEach(function (entity) {\r\n                _this._peerIdAndFactoryIdToPeerType[msg.owner_id + \":\" + entity.id] = entity.peer_type;\r\n            });\r\n        };\r\n        GW3Bridge.prototype.handlePeerFactoriesRemoved = function (msg) {\r\n            var _this = this;\r\n            msg.factory_ids.forEach(function (factoryId) {\r\n                delete _this._peerIdAndFactoryIdToPeerType[msg.owner_id + \":\" + factoryId];\r\n            });\r\n        };\r\n        GW3Bridge.prototype.forwardActivityTypeMessagesToStatusEventHandlers = function () {\r\n            this.forwardAddedAndRemovedMessagesToEventHandler(gwMmessageActivityTypesAdded, gwMessageActivityTypesRemoved, function (msg, isAdded) { return isAdded\r\n                ? msg.types.map(function (t) { return GW3Bridge.activityTypeGwMessageEntityToActivityType(t, undefined); })\r\n                : msg.types.map(function (t) { return new ActivityType(t.name, undefined, undefined, undefined); }); }, this._activityTypeStatusChangeCallbacks);\r\n        };\r\n        GW3Bridge.prototype.forwardActivityCreatedAndJoinedActivityToActivityWindowEventHandlers = function () {\r\n            var _this = this;\r\n            for (var _i = 0, _a = [gwMessageActivityCreated, gwMessageJoinedActivity, gwMessageOwnerChanged]; _i < _a.length; _i++) {\r\n                var activityCreatedMessage = _a[_i];\r\n                this.forwardMessageToEventHandler(activityCreatedMessage, function (msg) {\r\n                    return ([msg.owner || __assign(__assign({}, msg), { type: msg.peer_type, name: msg.peer_name, peer_id: msg.owner_id })])\r\n                        .concat(msg.participants || [])\r\n                        .map(function (info) { return new ActivityWindow(info.peer_id, info.name, info.type, msg.activity_id, _this.getAgmInstance(info.peer_id), undefined, _this.generateWindowGetter(info.peer_id), undefined); });\r\n                }, function (ent, msg) { return new EntityEvent(ent, new EntityEventContext(EntityEventType.ActivityWindowJoinedActivity)); }, this._activityWindowChangeCallbacks);\r\n            }\r\n        };\r\n        GW3Bridge.prototype.forwardActivityMessagesToStatusEventHandlers = function () {\r\n            for (var _i = 0, _a = [gwMessageActivityCreated, gwMessageJoinedActivity]; _i < _a.length; _i++) {\r\n                var createdMessage = _a[_i];\r\n                this.forwardMessageToEventHandler(createdMessage, function (msg) { return [GW3Bridge.activityGwMessageToActivity(msg, new ActivityStatus(\"started\", \"\", new Date()))]; }, function (ent, msg) { return GW3Bridge.activityToActivityStatusChangeEvent(ent); }, this._activityChangeCallbacks);\r\n            }\r\n            this.forwardMessageToEventHandler(gwMessageActivityDestroyed, function (msg) { return [GW3Bridge.activityGwMessageToActivity(msg, new ActivityStatus(\"destroyed\", msg.reason, new Date()))]; }, function (ent, msg) { return GW3Bridge.activityToActivityStatusChangeEvent(ent); }, this._activityChangeCallbacks);\r\n            this.forwardMessageToEventHandler(gwMessageActivityInitiated, function (msg) { return [GW3Bridge.activityGwMessageToActivity(msg, new ActivityStatus(\"created\", \"\", new Date()))]; }, function (ent, msg) { return GW3Bridge.activityToActivityStatusChangeEvent(ent); }, this._activityChangeCallbacks);\r\n            this.forwardMessageToEventHandler(gwMessageOwnerChanged, function (msg) { return [GW3Bridge.activityGwMessageToActivity(msg, new ActivityStatus(\"created\", \"\", new Date()))]; }, function (ent, msg) { return GW3Bridge.activityToActivityStatusChangeEvent(ent); }, this._activityChangeCallbacks);\r\n        };\r\n        GW3Bridge.prototype.forwardPeerFactoryMessagesToStatusEventHandlers = function () {\r\n            var _this = this;\r\n            this.forwardAddedAndRemovedMessagesToEventHandler(gwMessagePeerFactoriesAdded, gwMessagePeerFactoriesRemoved, function (msg, isAdded) { return isAdded\r\n                ? msg.factories.map(GW3Bridge.peerFactoryGwMessageEntityToWindowType)\r\n                : msg.factory_ids.map(function (id) { return _this.peerFactoryIdAndOwnerIdToWindowType(id, msg.owner_id); }).filter(function (x) { return x != null; }); }, this._windowTypeStatusChangeCallbacks);\r\n        };\r\n        GW3Bridge.prototype.forwardPeerFactoryMessagesToPeerFactoryRequests = function () {\r\n            var _this = this;\r\n            this.subscribe(gwMessagePeerRequested, function (msg) {\r\n                var factory = _this._peerFactoriesRegisteredByUs[msg.peer_factory];\r\n                if (!factory) {\r\n                    _this._gw3Session.send({\r\n                        type: gwMmessageError,\r\n                        request_id: msg.request_id,\r\n                        reason: \"Unknown peer factory \" + msg.peer_factory\r\n                    });\r\n                    return;\r\n                }\r\n                try {\r\n                    var configuration = msg.configuration || {};\r\n                    configuration.gateway_token = configuration.gateway_token || msg.gateway_token;\r\n                    configuration.peer_factory = configuration.peer_factory || msg.peer_factory;\r\n                    var promise = factory({\r\n                        activityId: msg.activity && msg.activity.id,\r\n                        activityType: msg.activity && msg.activity.type,\r\n                        type: msg.configuration && msg.configuration.type,\r\n                        gwToken: configuration.gateway_token,\r\n                        configuration: configuration\r\n                    });\r\n                    if (promise && promise.then && promise.catch) {\r\n                        promise.catch(function (err) { return _this._gw3Session.send({\r\n                            type: gwMmessageError,\r\n                            request_id: msg.request_id,\r\n                            reason: err && (err.message || JSON.stringify(err))\r\n                        }); });\r\n                    }\r\n                }\r\n                catch (err) {\r\n                    _this._gw3Session.send({\r\n                        type: gwMmessageError,\r\n                        request_id: msg.request_id,\r\n                        reason: err && (err.message || JSON.stringify(err))\r\n                    });\r\n                }\r\n            });\r\n        };\r\n        GW3Bridge.prototype.forwardActivityWindowMessagesToEventHandlers = function () {\r\n            var _this = this;\r\n            var _loop_1 = function (joinedMessage) {\r\n                this_1.subscribe(joinedMessage, function (msg) {\r\n                    var joinedId = (joinedMessage === gwMessageActivityJoined) ? msg.joined_id : msg.peer_id;\r\n                    var joinedType = (joinedMessage === gwMessageActivityJoined) ? msg.joined_type : msg.peer_type;\r\n                    var joinedName = (joinedMessage === gwMessageActivityJoined) ? msg.joined_name : msg.peer_name;\r\n                    var entity = new ActivityWindow(joinedId, joinedName, joinedType, msg.activity_id, _this.getAgmInstance(joinedId), undefined, _this.generateWindowGetter(joinedId), undefined);\r\n                    if (!_this._contextSubscriptions[msg.activity_id]) {\r\n                        _this.subscribeToContext(msg).then(function () {\r\n                            if (joinedMessage === gwMessageJoinedActivity) {\r\n                                _this._activityJoinedPromiseResolve({});\r\n                            }\r\n                        });\r\n                    }\r\n                    else if (joinedMessage === gwMessageJoinedActivity) {\r\n                        _this._activityJoinedPromiseResolve({});\r\n                    }\r\n                    _this.invokeCallbacks(_this._activityWindowChangeCallbacks, new EntityEvent(entity, new EntityEventContext(EntityEventType.ActivityWindowJoinedActivity)), joinedMessage);\r\n                });\r\n            };\r\n            var this_1 = this;\r\n            for (var _i = 0, _a = [gwMessageActivityJoined, gwMessageJoinedActivity]; _i < _a.length; _i++) {\r\n                var joinedMessage = _a[_i];\r\n                _loop_1(joinedMessage);\r\n            }\r\n            this.subscribe(gwMessageActivityLeft, function (msg) {\r\n                var entity = new ActivityWindow(msg.left_id, undefined, undefined, null, _this.getAgmInstance(msg.left_id), undefined, _this.generateWindowGetter(msg.left_id), undefined);\r\n                _this.invokeCallbacks(_this._activityWindowChangeCallbacks, new EntityEvent(entity, new EntityEventContext(EntityEventType.ActivityWindowLeftActivity)), gwMessageActivityLeft);\r\n            });\r\n            this.forwardAddedAndRemovedMessagesToEventHandler(gwMessagePeerCreated, undefined, function (msg) { return [\r\n                new ActivityWindow(msg.created_id, undefined, undefined, undefined, undefined, undefined, _this.generateWindowGetter(msg.created_id), undefined)\r\n            ]; }, this._activityWindowChangeCallbacks);\r\n        };\r\n        GW3Bridge.prototype.getAgmInstance = function (id) {\r\n            return this._config.agm.servers().find(function (s) { return s.peerId === id || s.windowId === id; });\r\n        };\r\n        GW3Bridge.prototype.generateWindowGetter = function (peerId) {\r\n            var _this = this;\r\n            return function () {\r\n                var server = _this.getAgmInstance(peerId);\r\n                if (!server) {\r\n                    return;\r\n                }\r\n                var windowId = server.windowId;\r\n                return _this._config.windows.list().filter(function (w) { return w.id === windowId; })[0];\r\n            };\r\n        };\r\n        GW3Bridge.prototype.isOverrideTypeDefinition = function (value) {\r\n            if (typeof value === \"undefined\") {\r\n                return false;\r\n            }\r\n            if (value.owner) {\r\n                return true;\r\n            }\r\n            return false;\r\n        };\r\n        return GW3Bridge;\r\n    }());\n\n    var ActivityMy = (function () {\r\n        function ActivityMy(manager, windows) {\r\n            var _this = this;\r\n            this._myAttached = [];\r\n            this._myDetached = [];\r\n            this._myAttachedTo = [];\r\n            this._myDetachedFrom = [];\r\n            this._myActivityFrameColorChanged = [];\r\n            this._myActivityJoinedCallbacks = [];\r\n            this._myActivityRemovedCallbacks = [];\r\n            this._myContextUpdateCallbacks = [];\r\n            this._logger = Logger$1.Get(this);\r\n            this._m = manager;\r\n            manager.ready()\r\n                .then(function (am) {\r\n                am.subscribeActivityContextChanged(_this._subscribeMyContextChanged.bind(_this));\r\n                am.subscribeWindowEvents(_this._subscribeMyWindowEvent.bind(_this));\r\n                am.subscribeActivitiesAttached(_this._subscribeActivitiesAttached.bind(_this));\r\n                am.subscribeActivitiesDetached(_this._subscribeActivitiesDetached.bind(_this));\r\n                if (windows) {\r\n                    windows.onWindowFrameColorChanged(_this._subscribeWindowFrameColorChanged.bind(_this));\r\n                }\r\n            });\r\n        }\r\n        Object.defineProperty(ActivityMy.prototype, \"window\", {\r\n            get: function () {\r\n                if (isUndefinedOrNull(this._w)) {\r\n                    var announcedWindows = this._m.announcedWindows;\r\n                    if (announcedWindows.length > 0) {\r\n                        this._w = announcedWindows[0];\r\n                    }\r\n                }\r\n                return this._w;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityMy.prototype, \"activity\", {\r\n            get: function () {\r\n                var myWin = this.window;\r\n                if (isUndefinedOrNull(myWin)) {\r\n                    return undefined;\r\n                }\r\n                return myWin.activity;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ActivityMy.prototype.createWindow = function (windowType) {\r\n            return this._m.createWindow(this.activity, windowType);\r\n        };\r\n        ActivityMy.prototype.createStackedWindows = function (windowTypes, timeout) {\r\n            return this._m.createStackedWindows(this.activity, windowTypes, timeout);\r\n        };\r\n        Object.defineProperty(ActivityMy.prototype, \"context\", {\r\n            get: function () {\r\n                var activity = this.activity;\r\n                if (isUndefined(activity)) {\r\n                    return {};\r\n                }\r\n                return activity.context;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ActivityMy.prototype.updateContext = function (context, callback) {\r\n            var activity = this.activity;\r\n            if (isUndefined(activity)) {\r\n                return new Promise(function (resolve, reject) {\r\n                    reject(\"Not in activity\");\r\n                });\r\n            }\r\n            return activity.updateContext(context, callback);\r\n        };\r\n        ActivityMy.prototype.setContext = function (context, callback) {\r\n            var activity = this.activity;\r\n            if (isUndefined(activity)) {\r\n                return new Promise(function (resolve, reject) {\r\n                    reject(\"Not in activity\");\r\n                });\r\n            }\r\n            return activity.setContext(context, callback);\r\n        };\r\n        ActivityMy.prototype.onActivityJoined = function (callback) {\r\n            this._myActivityJoinedCallbacks.push(callback);\r\n            var myWin = this.window;\r\n            if (!isUndefinedOrNull(myWin) && !isUndefinedOrNull(myWin.activity)) {\r\n                callback(myWin.activity);\r\n            }\r\n        };\r\n        ActivityMy.prototype.onActivityLeft = function (callback) {\r\n            this._myActivityRemovedCallbacks.push(callback);\r\n        };\r\n        ActivityMy.prototype.onContextChanged = function (callback) {\r\n            this._myContextUpdateCallbacks.push(callback);\r\n            var myWin = this.window;\r\n            if (isUndefinedOrNull(myWin)) {\r\n                return;\r\n            }\r\n            var activity = myWin.activity;\r\n            if (isUndefinedOrNull(activity)) {\r\n                return;\r\n            }\r\n            callback(activity.context, activity.context, [], activity);\r\n        };\r\n        ActivityMy.prototype.clone = function (options, callback) {\r\n            var act = this.activity;\r\n            return this._m.clone(act, options, callback);\r\n        };\r\n        ActivityMy.prototype.attach = function (activity, tag) {\r\n            var activityId;\r\n            if (typeof activity === \"string\") {\r\n                activityId = activity;\r\n            }\r\n            else {\r\n                activityId = activity.id;\r\n            }\r\n            return this._m.attachActivities(activityId, this.activity.id, tag);\r\n        };\r\n        ActivityMy.prototype.onActivityAttached = function (callback) {\r\n            this._myAttached.push(callback);\r\n        };\r\n        ActivityMy.prototype.onActivityDetached = function (callback) {\r\n            this._myDetached.push(callback);\r\n        };\r\n        ActivityMy.prototype.onAttachedToActivity = function (callback) {\r\n            this._myAttachedTo.push(callback);\r\n        };\r\n        ActivityMy.prototype.onDetachedFromActivity = function (callback) {\r\n            this._myDetachedFrom.push(callback);\r\n        };\r\n        Object.defineProperty(ActivityMy.prototype, \"attached\", {\r\n            get: function () {\r\n                if (!this.activity) {\r\n                    return [];\r\n                }\r\n                return this.activity.attached;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ActivityMy.prototype.setFrameColor = function (color, callback) {\r\n            if (this.activity) {\r\n                return this.activity.setFrameColor(color, callback);\r\n            }\r\n            else {\r\n                return Promise.resolve(null);\r\n            }\r\n        };\r\n        ActivityMy.prototype.getFrameColor = function () {\r\n            if (this.activity) {\r\n                return this.activity.getFrameColor();\r\n            }\r\n            return \"\";\r\n        };\r\n        ActivityMy.prototype.onFrameColorChanged = function (callback) {\r\n            this._myActivityFrameColorChanged.push(callback);\r\n        };\r\n        ActivityMy.prototype._subscribeMyContextChanged = function (activity, context, delta, removed) {\r\n            var myWin = this.window;\r\n            if (isUndefinedOrNull(myWin)) {\r\n                return;\r\n            }\r\n            var myActivity = myWin.activity;\r\n            if (isUndefinedOrNull(myActivity)) {\r\n                return;\r\n            }\r\n            if (activity.id !== myActivity.id) {\r\n                return;\r\n            }\r\n            this._notifyMyContextChanged(activity, context, delta, removed);\r\n        };\r\n        ActivityMy.prototype._subscribeMyWindowEvent = function (activity, window, event) {\r\n            if (isUndefinedOrNull(this.window)) {\r\n                return;\r\n            }\r\n            if (this.window.id !== window.id) {\r\n                return;\r\n            }\r\n            if (event === EntityEventType.ActivityWindowJoinedActivity) {\r\n                this._notifyMyWindowEvent(activity, this._myActivityJoinedCallbacks);\r\n                this._notifyMyContextChanged(activity, activity.context, null, null);\r\n            }\r\n            else if (event === EntityEventType.ActivityWindowLeftActivity) {\r\n                this._notifyMyWindowEvent(activity, this._myActivityRemovedCallbacks);\r\n            }\r\n        };\r\n        ActivityMy.prototype._notifyMyWindowEvent = function (activity, callbackStore) {\r\n            var _this = this;\r\n            callbackStore.forEach(function (element) {\r\n                try {\r\n                    element(activity, event);\r\n                }\r\n                catch (e) {\r\n                    _this._logger.warn(\"error in user callback \" + e);\r\n                }\r\n            });\r\n        };\r\n        ActivityMy.prototype._notifyMyContextChanged = function (activity, context, delta, removed) {\r\n            var _this = this;\r\n            delta = delta || {};\r\n            removed = removed || [];\r\n            this._myContextUpdateCallbacks.forEach(function (element) {\r\n                try {\r\n                    element(context, delta, removed, activity);\r\n                }\r\n                catch (e) {\r\n                    _this._logger.warn(\"error in user callback \" + e);\r\n                }\r\n            });\r\n        };\r\n        ActivityMy.prototype._notifyAttached = function (state) {\r\n            var _this = this;\r\n            this._myAttached.forEach(function (cb) {\r\n                try {\r\n                    cb(state);\r\n                }\r\n                catch (e) {\r\n                    _this._logger.warn(\"error in user callback \" + e);\r\n                }\r\n            });\r\n        };\r\n        ActivityMy.prototype._notifyDetached = function (state) {\r\n            var _this = this;\r\n            this._myDetached.forEach(function (cb) {\r\n                try {\r\n                    cb(state);\r\n                }\r\n                catch (e) {\r\n                    _this._logger.warn(\"error in user callback \" + e);\r\n                }\r\n            });\r\n        };\r\n        ActivityMy.prototype._notifyAttachedTo = function (state) {\r\n            var _this = this;\r\n            this._myAttachedTo.forEach(function (cb) {\r\n                try {\r\n                    cb(_this.activity, state);\r\n                }\r\n                catch (e) {\r\n                    _this._logger.warn(\"error in user callback \" + e);\r\n                }\r\n            });\r\n        };\r\n        ActivityMy.prototype._notifyDetachedFrom = function (detached, existing, state) {\r\n            var _this = this;\r\n            this._myDetachedFrom.forEach(function (cb) {\r\n                try {\r\n                    cb(detached, existing, state);\r\n                }\r\n                catch (e) {\r\n                    _this._logger.warn(\"error in user callback \" + e);\r\n                }\r\n            });\r\n        };\r\n        ActivityMy.prototype._subscribeActivitiesAttached = function (newAct, state) {\r\n            var myWin = this.window;\r\n            if (isUndefinedOrNull(myWin)) {\r\n                return;\r\n            }\r\n            var myActivity = myWin.activity;\r\n            if (isUndefinedOrNull(myActivity)) {\r\n                return;\r\n            }\r\n            if (newAct.id !== myActivity.id) {\r\n                return;\r\n            }\r\n            if (state.windowIds.indexOf(myWin.id) >= 0) {\r\n                this._notifyAttachedTo(state);\r\n                return;\r\n            }\r\n            this._notifyAttached(state);\r\n        };\r\n        ActivityMy.prototype._subscribeActivitiesDetached = function (newAct, oldAct, state) {\r\n            var myWin = this.window;\r\n            if (isUndefinedOrNull(myWin)) {\r\n                return;\r\n            }\r\n            var myActivity = myWin.activity;\r\n            if (isUndefinedOrNull(myActivity)) {\r\n                return;\r\n            }\r\n            if (oldAct.id === myActivity.id) {\r\n                this._notifyDetached(state);\r\n            }\r\n            if (newAct.id === myActivity.id) {\r\n                this._notifyDetachedFrom(newAct, oldAct, state);\r\n            }\r\n        };\r\n        ActivityMy.prototype._subscribeWindowFrameColorChanged = function (window) {\r\n            var act = this.activity;\r\n            if (!act) {\r\n                return;\r\n            }\r\n            if (!act.owner) {\r\n                return;\r\n            }\r\n            if (act.owner.underlyingWindow.id === window.id) {\r\n                this._myActivityFrameColorChanged.forEach(function (callback) {\r\n                    callback(window.frameColor);\r\n                });\r\n            }\r\n        };\r\n        return ActivityMy;\r\n    }());\n\n    var ReadyMarker = (function () {\r\n        function ReadyMarker(name, signalsToWait) {\r\n            this._logger = Logger$1.Get(\"ReadyMarker [\" + name + \"]\");\r\n            this._logger.debug(\"Initializing ready marker for '\" + name + \"' with \" + signalsToWait + \" signals to wait\");\r\n            if (signalsToWait <= 0) {\r\n                throw new Error(\"Invalid signal number. Should be > 0\");\r\n            }\r\n            this._signals = signalsToWait;\r\n            this._callbacks = [];\r\n            this._name = name;\r\n        }\r\n        ReadyMarker.prototype.setCallback = function (callback) {\r\n            if (this.isSet()) {\r\n                callback(undefined);\r\n                return;\r\n            }\r\n            else if (this.isError()) {\r\n                callback(this._error);\r\n                return;\r\n            }\r\n            this._callbacks.push(callback);\r\n        };\r\n        ReadyMarker.prototype.signal = function (message) {\r\n            this._logger.debug(\"Signaled - \" + message + \" - signals left \" + (this._signals - 1));\r\n            this._signals--;\r\n            if (this._signals < 0) {\r\n                throw new Error(\"Error in ready marker '\" + this._name + \" - signals are \" + this._signals);\r\n            }\r\n            if (this.isSet()) {\r\n                this._callbacks.forEach(function (callback) {\r\n                    callback(undefined);\r\n                });\r\n            }\r\n        };\r\n        ReadyMarker.prototype.error = function (error) {\r\n            this._error = error;\r\n            this._callbacks.forEach(function (errorCallback) {\r\n                errorCallback(error);\r\n            });\r\n        };\r\n        ReadyMarker.prototype.isSet = function () {\r\n            if (this.isError()) {\r\n                return false;\r\n            }\r\n            return this._signals === 0;\r\n        };\r\n        ReadyMarker.prototype.isError = function () {\r\n            return !isUndefined(this._error);\r\n        };\r\n        ReadyMarker.prototype.getError = function () {\r\n            return this._error;\r\n        };\r\n        return ReadyMarker;\r\n    }());\n\n    var EntityObservableCollection = (function () {\r\n        function EntityObservableCollection(processNew) {\r\n            this._items = {};\r\n            this._listeners = [];\r\n            this._processNew = processNew;\r\n        }\r\n        EntityObservableCollection.prototype.addOne = function (item) {\r\n            this.add([item]);\r\n        };\r\n        EntityObservableCollection.prototype.add = function (items) {\r\n            var _this = this;\r\n            items.forEach(function (element) {\r\n                _this.process(new EntityEvent(element, new EntityEventContext(EntityEventType.Added)));\r\n            });\r\n        };\r\n        EntityObservableCollection.prototype.process = function (event) {\r\n            var context = event.context;\r\n            var type = context.type;\r\n            var entity = event.entity;\r\n            if (type === EntityEventType.StatusChange &&\r\n                !context.oldStatus) {\r\n                var act = this._items[entity.id];\r\n                if (act) {\r\n                    context.oldStatus = act.status;\r\n                }\r\n            }\r\n            if (type === EntityEventType.StatusChange &&\r\n                context.oldStatus &&\r\n                context.newStatus &&\r\n                context.oldStatus.state ===\r\n                    context.newStatus.state) {\r\n                context.type = EntityEventType.Updated;\r\n            }\r\n            if (typeof htmlContainer === \"undefined\") {\r\n                if (type === EntityEventType.ActivityWindowJoinedActivity &&\r\n                    this._items[entity.id] &&\r\n                    this._items[entity.id].activity) {\r\n                    context.type = EntityEventType.Updated;\r\n                }\r\n                if (type === EntityEventType.ActivityWindowLeftActivity &&\r\n                    this._items[entity.id] &&\r\n                    !this._items[entity.id].activity) {\r\n                    context.type = EntityEventType.Updated;\r\n                }\r\n            }\r\n            var internalEntity = this._updateInternalCollections(entity, type, context);\r\n            this._notifyListeners(internalEntity, context);\r\n            return internalEntity;\r\n        };\r\n        EntityObservableCollection.prototype.get = function () {\r\n            var result = [];\r\n            for (var key in this._items) {\r\n                if (this._items.hasOwnProperty(key)) {\r\n                    var element = this._items[key];\r\n                    result.push(element);\r\n                }\r\n            }\r\n            return result;\r\n        };\r\n        EntityObservableCollection.prototype.getByName = function (name) {\r\n            for (var key in this._items) {\r\n                if (key === name) {\r\n                    return this._items[key];\r\n                }\r\n            }\r\n            return undefined;\r\n        };\r\n        EntityObservableCollection.prototype.getOrWait = function (name) {\r\n            var _this = this;\r\n            return new Promise(function (resolve) {\r\n                var entityAddedHandler = function (entity) {\r\n                    if (entity.id !== name) {\r\n                        return;\r\n                    }\r\n                    resolve(entity);\r\n                    _this.unsubscribe(entityAddedHandler);\r\n                };\r\n                _this.subscribe(entityAddedHandler);\r\n                var window = _this.getByName(name);\r\n                if (window) {\r\n                    _this.unsubscribe(entityAddedHandler);\r\n                    resolve(window);\r\n                    return;\r\n                }\r\n            });\r\n        };\r\n        EntityObservableCollection.prototype.subscribe = function (handler) {\r\n            var _this = this;\r\n            this._listeners.push(handler);\r\n            Object.keys(this._items).forEach(function (key) {\r\n                var element = _this._items[key];\r\n                handler(element, new EntityEventContext(EntityEventType.Added.toString()));\r\n            });\r\n            return function () {\r\n                _this.unsubscribe(handler);\r\n            };\r\n        };\r\n        EntityObservableCollection.prototype.unsubscribe = function (handler) {\r\n            var index = this._listeners.indexOf(handler);\r\n            if (index !== -1) {\r\n                this._listeners.splice(index, 1);\r\n            }\r\n        };\r\n        EntityObservableCollection.prototype._notifyListeners = function (entity, context) {\r\n            this._listeners.forEach(function (listener) {\r\n                try {\r\n                    listener(entity, context);\r\n                }\r\n                catch (e) {\r\n                    return;\r\n                }\r\n            });\r\n        };\r\n        EntityObservableCollection.prototype._updateInternalCollections = function (entity, type, context) {\r\n            var entityAsAny = entity;\r\n            var isActivityDestroy = (type === EntityEventType.StatusChange &&\r\n                entityAsAny.status &&\r\n                entityAsAny.status.state === ActivityState.Destroyed) ||\r\n                (type === EntityEventType.StatusChange &&\r\n                    context &&\r\n                    context.newStatus &&\r\n                    context.newStatus.state === ActivityState.Destroyed);\r\n            var isWindowClose = type === EntityEventType.Closed;\r\n            var isTypeRemove = type === EntityEventType.Removed && typeof entityAsAny.isIndependent === \"undefined\";\r\n            if (isTypeRemove || isWindowClose || isActivityDestroy) {\r\n                var oldEntity = this._items[entity.id];\r\n                delete this._items[entity.id];\r\n                this._processNew(entity);\r\n                if (oldEntity) {\r\n                    entity._beforeDelete(oldEntity);\r\n                }\r\n                return entity;\r\n            }\r\n            else {\r\n                var key = entity.id;\r\n                if (!this._items.hasOwnProperty(key)) {\r\n                    this._processNew(entity);\r\n                    this._items[entity.id] = entity;\r\n                }\r\n                else {\r\n                    this._items[entity.id]._update(entity);\r\n                }\r\n            }\r\n            return this._items[entity.id];\r\n        };\r\n        return EntityObservableCollection;\r\n    }());\n\n    var ActivityManager = (function () {\r\n        function ActivityManager(bridge, autoAnnounce, windows) {\r\n            var _this = this;\r\n            this._logger = Logger$1.Get(\"activityManager\");\r\n            this._announcedWindows = [];\r\n            this._attachedCallbacks = [];\r\n            this._detachedCallbacks = [];\r\n            this._frameColorChangesCallbacks = [];\r\n            this._windowHandlers = [];\r\n            this._bridge = bridge;\r\n            this._activityTypes = new EntityObservableCollection(function (e) { return _this._grabEntity(e); });\r\n            this._windowTypes = new EntityObservableCollection(function (e) { return _this._grabEntity(e); });\r\n            this._activities = new EntityObservableCollection(function (e) { return _this._grabEntity(e); });\r\n            this._windows = new EntityObservableCollection(function (e) { return _this._grabEntity(e); });\r\n            this._dataReadyMarker = new ReadyMarker(\"Activity Manager Data\", [\"GetActivityTypes\", \"GetWindowTypes\", \"GetActivities\", \"GetWindows\"].length);\r\n            this._descriptorsMarker = new ReadyMarker(\"Attached Activities Descriptors\", [\"GetDescriptors\"].length);\r\n            if (autoAnnounce) {\r\n                this._readyMarker = new ReadyMarker(\"Activity Manager Announce\", [\"Announcement\"].length);\r\n                this._dataReadyMarker.setCallback(function (dataErr) {\r\n                    if (dataErr) {\r\n                        _this._readyMarker.error(dataErr);\r\n                    }\r\n                    _this._descriptorsMarker.setCallback(function (err) {\r\n                        if (err) {\r\n                            _this._readyMarker.error(err);\r\n                        }\r\n                        _this._logger.debug(\"Auto announcing window\");\r\n                        _this.announceWindow()\r\n                            .then(function (w) {\r\n                            _this._announcedWindows.push(w);\r\n                            _this._readyMarker.signal(\"Successfully announced window with id '\" + w.id + \"'\");\r\n                        })\r\n                            .catch(function (errCatch) {\r\n                            _this._logger.debug(\"Will not announce window - \" + errCatch);\r\n                            _this._readyMarker.signal();\r\n                        });\r\n                    });\r\n                    _this.refreshDescriptors();\r\n                });\r\n            }\r\n            else {\r\n                this._readyMarker = this._dataReadyMarker;\r\n            }\r\n            this._bridge.onActivitiesAttached(function (e) {\r\n                _this._handleActivitiesAttached(e);\r\n            });\r\n            this._bridge.onActivitiesDetached(function (e) {\r\n                _this._handleActivitiesDetached(e);\r\n            });\r\n            this._bridge.onActivityAttachedDescriptorsRefreshed(function (e) {\r\n                _this._handleActivityDescriptorsRefreshed(e);\r\n            });\r\n            if (windows) {\r\n                windows.onWindowFrameColorChanged(this._handleWindowFrameColorChanged.bind(this));\r\n            }\r\n            this._bridge.init();\r\n            this._subscribeForData();\r\n            this._bridge\r\n                .initReady()\r\n                .then(function (aw) {\r\n                _this._getInitialData();\r\n            })\r\n                .catch(function (error) {\r\n                console.log(error);\r\n            });\r\n        }\r\n        Object.defineProperty(ActivityManager.prototype, \"usingHc\", {\r\n            get: function () {\r\n                return this._bridge.bridgeType === \"HC\";\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityManager.prototype, \"announcedWindows\", {\r\n            get: function () {\r\n                return this._announcedWindows;\r\n            },\r\n            set: function (v) {\r\n                throw new Error(\"not allowed\");\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ActivityManager.prototype.ready = function (callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                _this._readyMarker.setCallback(function (err) {\r\n                    if (!err) {\r\n                        resolve(_this);\r\n                    }\r\n                    else {\r\n                        reject(_this._readyMarker.getError());\r\n                    }\r\n                });\r\n            });\r\n            return nodeify(Promise.all([this._bridge.ready(), promise]).then(function () { return _this; }), callback);\r\n        };\r\n        ActivityManager.prototype.getActivityTypes = function () {\r\n            return this._activityTypes.get();\r\n        };\r\n        ActivityManager.prototype.getActivityType = function (name) {\r\n            return this._activityTypes.getByName(name);\r\n        };\r\n        ActivityManager.prototype.registerActivityType = function (activityTypeName, ownerWindowType, helperWindowTypes, config, description, callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                if (isUndefinedOrNull(activityTypeName)) {\r\n                    reject(\"activityTypeName argument can not be undefined\");\r\n                    return;\r\n                }\r\n                if (!isString(activityTypeName)) {\r\n                    reject(\"activityTypeName should be string\");\r\n                    return;\r\n                }\r\n                var actType = _this.getActivityType(activityTypeName);\r\n                if (!isUndefinedOrNull(actType)) {\r\n                    reject(\"Activity type '\" + activityTypeName + \"' already exists\");\r\n                    return;\r\n                }\r\n                var ownerDefinition;\r\n                if (isUndefined(ownerWindowType)) {\r\n                    reject(\"Owner window type can not be undefined\");\r\n                    return;\r\n                }\r\n                if (isString(ownerWindowType)) {\r\n                    ownerDefinition = { type: ownerWindowType, name: \"\", isIndependent: false, arguments: {} };\r\n                }\r\n                else {\r\n                    ownerDefinition = ownerWindowType;\r\n                }\r\n                var helperDefinitions = [];\r\n                if (!isUndefined(helperWindowTypes) && isArray(helperWindowTypes)) {\r\n                    for (var index in helperWindowTypes) {\r\n                        var item = helperWindowTypes[index];\r\n                        if (isString(item)) {\r\n                            var definition = {\r\n                                type: item,\r\n                                name: \"\",\r\n                                isIndependent: false,\r\n                                arguments: {},\r\n                                relativeTo: \"\",\r\n                                relativeDirection: \"\",\r\n                                windowStyleAttributes: {}\r\n                            };\r\n                            helperDefinitions.push(definition);\r\n                        }\r\n                        else {\r\n                            helperDefinitions.push(item);\r\n                        }\r\n                    }\r\n                }\r\n                _this._bridge\r\n                    .registerActivityType(activityTypeName, ownerDefinition, helperDefinitions, config, description)\r\n                    .then(function (activityType) {\r\n                    _this._grabEntity(activityType);\r\n                    resolve(activityType);\r\n                })\r\n                    .catch(function (error) {\r\n                    reject(error);\r\n                });\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.unregisterActivityType = function (type, callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                var actType = _this.getActivityType(type);\r\n                if (isUndefined(actType)) {\r\n                    reject(\"Activity type '\" + type + \"' does not exists\");\r\n                    return;\r\n                }\r\n                _this._bridge.unregisterActivityType(type).then(function () { return resolve(actType); }, reject);\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.initiate = function (activityType, context, callback, configuration) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                var actType = _this.getActivityType(activityType);\r\n                if (isUndefined(actType)) {\r\n                    reject(\"Activity type '\" + activityType + \"' does not exists\");\r\n                    return;\r\n                }\r\n                _this._bridge\r\n                    .initiateActivity(activityType, context, configuration)\r\n                    .then(function (actId) {\r\n                    _this._activities\r\n                        .getOrWait(actId)\r\n                        .then(function (act) {\r\n                        resolve(act);\r\n                    })\r\n                        .catch(function (err) { return reject(err); });\r\n                })\r\n                    .catch(function (err) {\r\n                    reject(err);\r\n                });\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.subscribeActivityTypeEvents = function (handler) {\r\n            this._activityTypes.subscribe(function (at, context) {\r\n                handler(at, context.type);\r\n            });\r\n        };\r\n        ActivityManager.prototype.getWindowTypes = function () {\r\n            return this._windowTypes.get();\r\n        };\r\n        ActivityManager.prototype.getWindowType = function (name) {\r\n            return this._windowTypes.getByName(name);\r\n        };\r\n        ActivityManager.prototype.registerWindowFactory = function (windowType, factoryMethod, callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                if (isUndefinedOrNull(windowType)) {\r\n                    reject(\"no windowType specified\");\r\n                    return;\r\n                }\r\n                if (isObject(windowType)) {\r\n                    windowType = windowType.getName();\r\n                }\r\n                else if (!isString(windowType)) {\r\n                    reject(\"windowType should be string or object that has getName method\");\r\n                    return;\r\n                }\r\n                _this._bridge\r\n                    .registerWindowFactory(windowType, factoryMethod)\r\n                    .then(function (v) {\r\n                    resolve(v);\r\n                })\r\n                    .catch(function (err) {\r\n                    reject(err);\r\n                });\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.unregisterWindowFactory = function (windowType, callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                if (isUndefinedOrNull(windowType)) {\r\n                    reject(\"no windowType specified\");\r\n                    return;\r\n                }\r\n                if (!isString(windowType)) {\r\n                    reject(\"windowType should be a string\");\r\n                    return;\r\n                }\r\n                _this._bridge\r\n                    .unregisterWindowFactory(windowType)\r\n                    .then(function (v) {\r\n                    resolve(v);\r\n                })\r\n                    .catch(function (err) {\r\n                    reject(err);\r\n                });\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.getActivities = function (activityType) {\r\n            var act = this._activities.get();\r\n            act = act.filter(function (a) { return a._ownerId; });\r\n            if (!activityType) {\r\n                return act;\r\n            }\r\n            var types = activityType;\r\n            if (isString(activityType)) {\r\n                types = [activityType];\r\n            }\r\n            else if (activityType instanceof ActivityType) {\r\n                types = [activityType.name];\r\n            }\r\n            else if (activityType instanceof Array) ;\r\n            else {\r\n                throw new Error(\"Invalid input argument 'activityType' = \" + activityType);\r\n            }\r\n            return act.filter(function (at) {\r\n                var type = at.type;\r\n                return some(types, function (t) {\r\n                    return type.id === t.id;\r\n                });\r\n            });\r\n        };\r\n        ActivityManager.prototype.getActivityById = function (id) {\r\n            return this._activities.getByName(id);\r\n        };\r\n        ActivityManager.prototype.announceWindow = function (activityWindowId, windowType) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                var announcementInfo = _this._bridge.getAnnouncementInfo();\r\n                if (isUndefined(activityWindowId)) {\r\n                    activityWindowId = announcementInfo.activityWindowId;\r\n                }\r\n                if (isUndefined(windowType)) {\r\n                    windowType = announcementInfo.activityWindowType;\r\n                }\r\n                if (isUndefinedOrNull(windowType)) {\r\n                    throw new Error(\"Can not announce - unknown windowType\");\r\n                }\r\n                var activityId = announcementInfo && announcementInfo.activityId;\r\n                if (isUndefinedOrNull(activityWindowId)) {\r\n                    _this._logger.debug(\"Registering window with type:'\" + windowType + \"', name:'\" + announcementInfo.activityWindowName + \"', ind.:'\" + announcementInfo.activityWindowIndependent + \"'\");\r\n                    _this._bridge.registerWindow(windowType, announcementInfo.activityWindowName, announcementInfo.activityWindowIndependent)\r\n                        .then(_this._windows.getOrWait.bind(_this._windows))\r\n                        .then(function (w) {\r\n                        if (activityId) {\r\n                            return _this._activities.getOrWait(activityId).then(function (_) { return w; });\r\n                        }\r\n                        else {\r\n                            return w;\r\n                        }\r\n                    })\r\n                        .then(function (w) {\r\n                        resolve(w);\r\n                    })\r\n                        .catch(function (err) {\r\n                        _this._logger.error(err);\r\n                    });\r\n                }\r\n                else {\r\n                    _this._logger.debug(\"Announcing window with id '\" + activityWindowId + \"' and type '\" + windowType + \"'\");\r\n                    var currentWindow = _this._windows.getByName(activityWindowId);\r\n                    if (!isUndefinedOrNull(currentWindow)) {\r\n                        _this._logger.debug(\"Window with id '\" + activityWindowId + \"' already announced - reusing the window\");\r\n                        resolve(currentWindow);\r\n                        return;\r\n                    }\r\n                    var windowEventHandler_1 = function (a, w, e) {\r\n                        if (activityWindowId === w.id) {\r\n                            if (e === EntityEventType.ActivityWindowJoinedActivity) {\r\n                                var activity = w.activity;\r\n                                if (isUndefined(activity)) {\r\n                                    reject(\"UNDEFINED ACTIVITY\");\r\n                                }\r\n                                _this._logger.trace(\"Got joined event for id '\" + activityWindowId + \"'\");\r\n                                resolve(w);\r\n                                _this.unsubscribeWindowEvents(windowEventHandler_1);\r\n                            }\r\n                        }\r\n                    };\r\n                    _this.subscribeWindowEvents(windowEventHandler_1);\r\n                    _this._logger.trace(\"Waiting for joined event for id '\" + activityWindowId + \"'\");\r\n                    _this._bridge.announceWindow(windowType, activityWindowId);\r\n                }\r\n            });\r\n            return promise;\r\n        };\r\n        ActivityManager.prototype.subscribeWindowTypeEvents = function (handler) {\r\n            this._windowTypes.subscribe(function (wt, context) {\r\n                handler(wt, context.type);\r\n            });\r\n        };\r\n        ActivityManager.prototype.subscribeActivityEvents = function (handler) {\r\n            var _this = this;\r\n            return this._activities.subscribe(function (act, context) {\r\n                if (context.type === EntityEventType.StatusChange) {\r\n                    var p = context;\r\n                    handler(act, p.newStatus, p.oldStatus);\r\n                }\r\n                if (context.type === EntityEventType.Removed ||\r\n                    (context.type === EntityEventType.StatusChange &&\r\n                        context.newStatus.getState() === ActivityState.Destroyed)) {\r\n                    for (var _i = 0, _a = _this._windows.get(); _i < _a.length; _i++) {\r\n                        var window_1 = _a[_i];\r\n                        if (window_1.activity && window_1.activity.id === act.id) {\r\n                            _this._windows.process(new EntityEvent(window_1, new EntityEventContext(EntityEventType.ActivityWindowLeftActivity)));\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        };\r\n        ActivityManager.prototype.subscribeWindowEvents = function (handler) {\r\n            var wrappingHandler = function (window, context) {\r\n                var eventType = context.type;\r\n                if (eventType === EntityEventType.Added) {\r\n                    eventType = \"opened\";\r\n                }\r\n                handler(window.activity, window, eventType);\r\n            };\r\n            this._windowHandlers.push([handler, wrappingHandler]);\r\n            return this._windows.subscribe(wrappingHandler);\r\n        };\r\n        ActivityManager.prototype.unsubscribeWindowEvents = function (handler) {\r\n            var found = this._windowHandlers.find(function (pair) { return pair[0] === handler; });\r\n            if (found) {\r\n                this._windowHandlers.splice(this._windowHandlers.indexOf(found), 1);\r\n                this._windows.unsubscribe(found[1]);\r\n            }\r\n        };\r\n        ActivityManager.prototype.createWindow = function (activity, windowTypeOrConfiguration, callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                if (isUndefinedOrNull(windowTypeOrConfiguration)) {\r\n                    reject(\"windowType is undefined\");\r\n                }\r\n                var windowDefinition;\r\n                if (isString(windowTypeOrConfiguration)) {\r\n                    windowDefinition = { type: windowTypeOrConfiguration, name: \"\", isIndependent: false, arguments: {} };\r\n                }\r\n                else if (windowTypeOrConfiguration instanceof WindowType) {\r\n                    windowDefinition = {\r\n                        type: windowTypeOrConfiguration.type || windowTypeOrConfiguration.id,\r\n                        name: windowTypeOrConfiguration.name || windowTypeOrConfiguration.type || windowTypeOrConfiguration.id,\r\n                        isIndependent: false\r\n                    };\r\n                }\r\n                else {\r\n                    var invalidKeys_1 = [\"url\"];\r\n                    var filteredWindowTypeOrConfiguration_1 = {};\r\n                    Object.keys(windowTypeOrConfiguration).forEach(function (key) {\r\n                        if (invalidKeys_1.indexOf(key) === -1) {\r\n                            filteredWindowTypeOrConfiguration_1[key] = windowTypeOrConfiguration[key];\r\n                        }\r\n                    });\r\n                    windowDefinition = filteredWindowTypeOrConfiguration_1;\r\n                }\r\n                var relativeToWindow;\r\n                if (!isUndefinedOrNull(windowDefinition.relativeTo)) {\r\n                    relativeToWindow = windowDefinition.relativeTo;\r\n                    if (typeof relativeToWindow === \"string\") {\r\n                        var windows = _this.getWindows({ type: relativeToWindow });\r\n                        if (!isUndefinedOrNull(windows) && windows.length > 0) {\r\n                            windowDefinition.relativeTo = windows[0].id;\r\n                        }\r\n                    }\r\n                    else if (!isUndefinedOrNull(relativeToWindow.type)) {\r\n                        var windows = _this.getWindows({ type: relativeToWindow.type });\r\n                        if (!isUndefinedOrNull(windows) && windows.length > 0) {\r\n                            windowDefinition.relativeTo = windows[0].id;\r\n                        }\r\n                    }\r\n                    else if (!isUndefinedOrNull(relativeToWindow.windowId)) {\r\n                        windowDefinition.relativeTo = relativeToWindow.windowId;\r\n                    }\r\n                }\r\n                _this._bridge.createWindow(activity && activity.id, windowDefinition)\r\n                    .then(function (wid) {\r\n                    _this._logger.debug(\"Window created, waiting for window entity with id \" + wid);\r\n                    var handler = function (window, context) {\r\n                        if (window.id === wid && (!activity || window.activity)) {\r\n                            _this._logger.debug(\"Got entity window with id \" + wid);\r\n                            resolve(window);\r\n                            _this._windows.unsubscribe(handler);\r\n                        }\r\n                    };\r\n                    _this._windows.subscribe(handler);\r\n                })\r\n                    .catch(function (err) {\r\n                    reject(err);\r\n                });\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.createStackedWindows = function (activity, relativeWindowTypes, timeout, callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                if (isUndefinedOrNull(activity)) {\r\n                    reject(\"activity is undefined\");\r\n                }\r\n                if (isUndefinedOrNull(relativeWindowTypes)) {\r\n                    reject(\"relativeWindowTypes is undefined\");\r\n                }\r\n                if (!Array.isArray(relativeWindowTypes)) {\r\n                    reject(\"relativeWindowTypes has to be an array\");\r\n                }\r\n                if (isUndefinedOrNull(timeout)) {\r\n                    timeout = 20000;\r\n                }\r\n                var windowDefinitions = [];\r\n                relativeWindowTypes.forEach(function (element) {\r\n                    var windowDefinition;\r\n                    if (isString(element)) {\r\n                        windowDefinition = { type: element, name: \"\", isIndependent: false, arguments: {} };\r\n                    }\r\n                    else {\r\n                        windowDefinition = element;\r\n                    }\r\n                    windowDefinition.stackedWindow = true;\r\n                    windowDefinition.timeout = timeout;\r\n                    var relativeToWindow;\r\n                    if (!isUndefinedOrNull(windowDefinition.relativeTo)) {\r\n                        relativeToWindow = windowDefinition.relativeTo;\r\n                        if (!isUndefinedOrNull(relativeToWindow.type)) {\r\n                            windowDefinition.relativeTo = relativeToWindow.type;\r\n                        }\r\n                        else if (!isUndefinedOrNull(relativeToWindow.windowId)) {\r\n                            var windows = _this.getWindows({ id: relativeToWindow.windowId });\r\n                            if (!isUndefinedOrNull(windows) && windows.length > 0) {\r\n                                windowDefinition.relativeTo = windows[0].type.name;\r\n                            }\r\n                        }\r\n                    }\r\n                    windowDefinitions.push(windowDefinition);\r\n                });\r\n                var tasks = [];\r\n                windowDefinitions.forEach(function (wd) { return tasks.push(_this.createWindow(activity, wd)); });\r\n                Promise.all(tasks).then(resolve).catch(reject);\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.addWindowToActivity = function (activity, window, callback) {\r\n            var toReturn = this._bridge.joinActivity(activity.id, window.id)\r\n                .then(function () { return window; });\r\n            nodeify(toReturn, callback);\r\n            return toReturn;\r\n        };\r\n        ActivityManager.prototype.leaveWindowFromActivity = function (activity, window, callback) {\r\n            var toReturn = this._bridge.leaveActivity(activity.id, window.id)\r\n                .then(function () { return window; });\r\n            nodeify(toReturn, callback);\r\n            return toReturn;\r\n        };\r\n        ActivityManager.prototype.setActivityContext = function (activity, context, callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                if (isUndefinedOrNull(activity)) {\r\n                    reject(\"activity can not be null\");\r\n                }\r\n                _this._bridge\r\n                    .updateActivityContext(activity, context, true)\r\n                    .then(function (_) {\r\n                    resolve(activity);\r\n                })\r\n                    .catch(function (err) {\r\n                    reject(err);\r\n                });\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.updateActivityContext = function (activity, context, callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                if (isUndefinedOrNull(activity)) {\r\n                    reject(\"activity can not be null\");\r\n                }\r\n                var removedKeys = [];\r\n                for (var key in context) {\r\n                    if (context.hasOwnProperty(key) && context[key] === null) {\r\n                        removedKeys.push(key);\r\n                    }\r\n                }\r\n                for (var _i = 0, removedKeys_1 = removedKeys; _i < removedKeys_1.length; _i++) {\r\n                    var removedKey = removedKeys_1[_i];\r\n                    delete context[removedKey];\r\n                }\r\n                _this._bridge\r\n                    .updateActivityContext(activity, context, false, removedKeys)\r\n                    .then(function (_) {\r\n                    resolve(activity);\r\n                })\r\n                    .catch(function (err) {\r\n                    reject(err);\r\n                });\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.subscribeActivityContextChanged = function (handler) {\r\n            this._activities.subscribe(function (act, context) {\r\n                if (context.type === EntityEventType.ActivityContextChange) {\r\n                    var updateContext = context;\r\n                    handler(act, updateContext.context, updateContext.updated, updateContext.removed);\r\n                }\r\n            });\r\n        };\r\n        ActivityManager.prototype.stopActivity = function (activity, callback) {\r\n            var promise = this._bridge.stopActivity(activity);\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.getWindows = function (filter) {\r\n            if (isUndefined(filter)) {\r\n                return this._windows.get();\r\n            }\r\n            if (!isUndefined(filter.id)) {\r\n                return [this._windows.getByName(filter.id)];\r\n            }\r\n            var allWindows = this._windows.get();\r\n            return allWindows.filter(function (w) {\r\n                if (!isUndefined(filter.type) && w.type.id !== filter.type) {\r\n                    return false;\r\n                }\r\n                if (!isUndefined(filter.name) && w.name !== filter.name) {\r\n                    return false;\r\n                }\r\n                if (!isUndefined(filter.activityId)) {\r\n                    if (isUndefinedOrNull(w.activity)) {\r\n                        return false;\r\n                    }\r\n                    if (w.activity.id !== filter.activityId) {\r\n                        return false;\r\n                    }\r\n                }\r\n                return true;\r\n            });\r\n        };\r\n        ActivityManager.prototype.getWindowBounds = function (id) {\r\n            return this._bridge.getWindowBounds(id);\r\n        };\r\n        ActivityManager.prototype.setWindowBounds = function (id, bounds, callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                _this._bridge.setWindowBounds(id, bounds)\r\n                    .then(function () { return resolve(); })\r\n                    .catch(function (err) { return reject(err); });\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.closeWindow = function (id) {\r\n            return this._bridge.closeWindow(id);\r\n        };\r\n        ActivityManager.prototype.activateWindow = function (id, focus) {\r\n            return this._bridge.activateWindow(id, focus);\r\n        };\r\n        ActivityManager.prototype.setWindowVisibility = function (id, visible) {\r\n            return this._bridge.setWindowVisibility(id, visible);\r\n        };\r\n        ActivityManager.prototype.clone = function (activity, cloneOptions, callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                if (!activity) {\r\n                    reject(\"activity can not be null\");\r\n                }\r\n                _this._bridge.cloneActivity(activity.id, cloneOptions)\r\n                    .then(function (activityId) {\r\n                    _this._activities\r\n                        .getOrWait(activityId)\r\n                        .then(function (act) {\r\n                        resolve(act);\r\n                    })\r\n                        .catch(function (err) { return reject(err); });\r\n                })\r\n                    .catch(function (err) { return reject(err); });\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.attachActivities = function (from, to, tag, callback) {\r\n            var _this = this;\r\n            tag = tag || {};\r\n            var promise = new Promise(function (resolve, reject) {\r\n                var fromActivity = _this._activities.getByName(from);\r\n                if (!fromActivity) {\r\n                    reject(\"can not find activity with id \" + from);\r\n                    return;\r\n                }\r\n                var toActivity = _this._activities.getByName(to);\r\n                if (!toActivity) {\r\n                    reject(\"can not find activity with id \" + to);\r\n                    return;\r\n                }\r\n                return _this._bridge.attachActivities(from, to, tag)\r\n                    .then(function (data) {\r\n                    var newActId = data.to;\r\n                    var state = data.descriptor;\r\n                    var allStates = data.descriptors;\r\n                    _this._activities.getOrWait(newActId).then(function (act) {\r\n                        act._updateDescriptors(allStates);\r\n                        var stateWrapped = act.attached.filter(function (u) { return u.ownerId === state.ownerId; })[0];\r\n                        resolve(stateWrapped);\r\n                    });\r\n                })\r\n                    .catch(function (err) {\r\n                    reject(err);\r\n                });\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.detachActivities = function (activityId, descriptor, callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                return _this._bridge.detachActivities(activityId, descriptor)\r\n                    .then(function () {\r\n                    var oldActId = undefined;\r\n                    var newActId = undefined;\r\n                    var descriptors = undefined;\r\n                    _this._activities\r\n                        .getOrWait(oldActId)\r\n                        .then(function (oldAct) {\r\n                        oldAct._updateDescriptors(descriptors);\r\n                        _this._activities\r\n                            .getOrWait(newActId)\r\n                            .then(function (newAct) {\r\n                            resolve(newAct);\r\n                        });\r\n                    })\r\n                        .catch(function (err) { return reject(err); });\r\n                })\r\n                    .catch(function (err) {\r\n                    reject(err);\r\n                });\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        ActivityManager.prototype.subscribeActivitiesAttached = function (callback) {\r\n            this._attachedCallbacks.push(callback);\r\n        };\r\n        ActivityManager.prototype.subscribeActivitiesDetached = function (callback) {\r\n            this._detachedCallbacks.push(callback);\r\n        };\r\n        ActivityManager.prototype.subscribeActivityFrameColorChanged = function (callback) {\r\n            this._frameColorChangesCallbacks.push(callback);\r\n        };\r\n        ActivityManager.prototype._grabEntity = function (entity) {\r\n            entity._manager = this;\r\n        };\r\n        ActivityManager.prototype._getInitialData = function () {\r\n            var _this = this;\r\n            this._logger.debug(\"Request initial data...\");\r\n            this._bridge.getActivityTypes()\r\n                .then(function (at) {\r\n                _this._activityTypes.add(at);\r\n                _this._dataReadyMarker.signal(\"Got act types\");\r\n            })\r\n                .catch(function (error) {\r\n                _this._logger.error(error);\r\n                _this._dataReadyMarker.error(\"Can not initialize ActivityManager - error getting activity types -\" + error);\r\n            });\r\n            this._bridge.getWindowTypes()\r\n                .then(function (wt) {\r\n                _this._windowTypes.add(wt);\r\n                _this._dataReadyMarker.signal(\"Got window types\");\r\n            })\r\n                .catch(function (error) {\r\n                _this._logger.error(error);\r\n                _this._dataReadyMarker.error(\"Can not initialize ActivityManager - error getting window types  \" + error);\r\n            });\r\n            this._bridge.getActivities()\r\n                .then(function (ac) {\r\n                _this._activities.add(ac);\r\n                _this._dataReadyMarker.signal(\"Got activities\");\r\n            })\r\n                .catch(function (error) {\r\n                _this._logger.error(error);\r\n                _this._dataReadyMarker.error(\"Can not initialize ActivityManager - error getting activity instances -\" + error);\r\n            });\r\n            this._bridge.getActivityWindows()\r\n                .then(function (aw) {\r\n                _this._windows.add(aw);\r\n                _this._dataReadyMarker.signal(\"Got windows\");\r\n            })\r\n                .catch(function (error) {\r\n                _this._logger.error(error);\r\n                _this._dataReadyMarker.error(\"Can not initialize ActivityManager - error getting activity windows -\" + error);\r\n            });\r\n        };\r\n        ActivityManager.prototype._subscribeForData = function () {\r\n            var _this = this;\r\n            this._logger.debug(\"Subscribe for data...\");\r\n            this._bridge.onActivityTypeStatusChange(function (event) {\r\n                _this._activityTypes.process(event);\r\n            });\r\n            this._bridge.onWindowTypeStatusChange(function (event) {\r\n                _this._windowTypes.process(event);\r\n            });\r\n            this._bridge.onActivityWindowChange(function (event) {\r\n                _this._windows.process(event);\r\n            });\r\n            this._bridge.onActivityStatusChange(function (event) {\r\n                _this._activities.process(event);\r\n            });\r\n        };\r\n        ActivityManager.prototype._handleActivitiesAttached = function (data) {\r\n            var _this = this;\r\n            var newActId = data.to;\r\n            var descriptor = data.descriptor;\r\n            var descriptors = data.descriptors;\r\n            this._activities.getOrWait(newActId).then(function (act) {\r\n                act._updateDescriptors(descriptors);\r\n                var descriptorAsObjectFromAPI = act.attached.filter(function (u) { return u.ownerId === descriptor.ownerId; })[0];\r\n                _this._attachedCallbacks.forEach(function (callback) {\r\n                    try {\r\n                        callback(act, descriptorAsObjectFromAPI);\r\n                    }\r\n                    catch (err) {\r\n                        return;\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ActivityManager.prototype._handleActivitiesDetached = function (data) {\r\n            var _this = this;\r\n            var oldActId = data.oldActivityId;\r\n            var newActId = data.newActivityId;\r\n            var descriptors = data.descriptors;\r\n            var descriptor = data.descriptor;\r\n            this._activities.getOrWait(oldActId).then(function (oldAct) {\r\n                oldAct._updateDescriptors(descriptors);\r\n                _this._activities.getOrWait(newActId).then(function (newAct) {\r\n                    _this._detachedCallbacks.forEach(function (callback) {\r\n                        try {\r\n                            callback(newAct, oldAct, descriptor);\r\n                        }\r\n                        catch (err) {\r\n                            return;\r\n                        }\r\n                    });\r\n                });\r\n            });\r\n        };\r\n        ActivityManager.prototype._handleActivityDescriptorsRefreshed = function (data) {\r\n            var id = data.id;\r\n            var descriptors = data.descriptors;\r\n            var act = this._activities.getByName(id);\r\n            if (act) {\r\n                act._updateDescriptors(descriptors);\r\n            }\r\n        };\r\n        ActivityManager.prototype.refreshDescriptors = function () {\r\n            var _this = this;\r\n            this._bridge.getAttachedDescriptors()\r\n                .then(function (map) {\r\n                if (map) {\r\n                    Object.keys(map).forEach(function (key) {\r\n                        var actId = key;\r\n                        var descriptors = map[key];\r\n                        var act = _this._activities.getByName(actId);\r\n                        if (act) {\r\n                            act._updateDescriptors(descriptors);\r\n                        }\r\n                    });\r\n                }\r\n                _this._descriptorsMarker.signal(\"Successfully got descriptors\");\r\n            })\r\n                .catch(function (err) {\r\n                _this._descriptorsMarker.error(\"failed to get descriptors - \" + err);\r\n            });\r\n        };\r\n        ActivityManager.prototype._handleWindowFrameColorChanged = function (win) {\r\n            if (!win.activityId) {\r\n                return;\r\n            }\r\n            var act = this._activities.getByName(win.activityId);\r\n            if (!act) {\r\n                return;\r\n            }\r\n            if (!act.owner) {\r\n                return;\r\n            }\r\n            if (act.owner.underlyingWindow.id !== win.id) {\r\n                return;\r\n            }\r\n            this._frameColorChangesCallbacks.forEach(function (callback) {\r\n                try {\r\n                    callback(act, win.frameColor);\r\n                }\r\n                catch (e) {\r\n                    return;\r\n                }\r\n            });\r\n        };\r\n        return ActivityManager;\r\n    }());\n\n    var ActivityManagementAPI = (function () {\r\n        function ActivityManagementAPI(manager, my) {\r\n            this._m = manager;\r\n            this._my = my;\r\n            this.activityTypes = {\r\n                get: this._getActivityTypesWrapper.bind(this),\r\n                register: this._m.registerActivityType.bind(this._m),\r\n                unregister: this._m.unregisterActivityType.bind(this._m),\r\n                subscribe: this._m.subscribeActivityTypeEvents.bind(this._m),\r\n                unsubscribe: undefined,\r\n                initiate: this._m.initiate.bind(this._m)\r\n            };\r\n            this.windowTypes = {\r\n                get: this._getWindowTypesWrapper.bind(this),\r\n                registerFactory: this._m.registerWindowFactory.bind(this._m),\r\n                unregisterFactory: this._m.unregisterWindowFactory.bind(this._m),\r\n                subscribe: this._m.subscribeWindowTypeEvents.bind(this._m),\r\n                unsubscribe: undefined\r\n            };\r\n            this.windows = {\r\n                get: this._m.getWindows.bind(this._m),\r\n                subscribe: this._m.subscribeWindowEvents.bind(this._m),\r\n                announce: this._m.announceWindow.bind(this._m),\r\n                unsubscribe: undefined,\r\n                create: this._m.createWindow.bind(this._m)\r\n            };\r\n            this.instances = {\r\n                get: this._m.getActivities.bind(this._m),\r\n                subscribe: this._m.subscribeActivityEvents.bind(this._m),\r\n                unsubscribe: undefined\r\n            };\r\n        }\r\n        ActivityManagementAPI.prototype.onAttached = function (callback) {\r\n            this._m.subscribeActivitiesAttached(callback);\r\n        };\r\n        ActivityManagementAPI.prototype.onDetached = function (callback) {\r\n            this._m.subscribeActivitiesDetached(callback);\r\n        };\r\n        ActivityManagementAPI.prototype.onActivityFrameColorChanged = function (callback) {\r\n            this._m.subscribeActivityFrameColorChanged(callback);\r\n        };\r\n        ActivityManagementAPI.prototype._getActivityTypesWrapper = function (name) {\r\n            if (isUndefined(name)) {\r\n                return this._m.getActivityTypes();\r\n            }\r\n            return this._m.getActivityType(name);\r\n        };\r\n        ActivityManagementAPI.prototype._getWindowTypesWrapper = function (name) {\r\n            if (isUndefined(name)) {\r\n                return this._m.getWindowTypes();\r\n            }\r\n            return this._m.getWindowType(name);\r\n        };\r\n        return ActivityManagementAPI;\r\n    }());\n\n    var ActivityAPI = (function () {\r\n        function ActivityAPI(manager, my) {\r\n            this._mgr = manager;\r\n            this._my = my;\r\n            this.all = new ActivityManagementAPI(manager, my);\r\n        }\r\n        ActivityAPI.prototype.ready = function (callback) {\r\n            var _this = this;\r\n            var promise = new Promise(function (resolve, reject) {\r\n                _this._mgr.ready()\r\n                    .then(function () {\r\n                    resolve(_this);\r\n                })\r\n                    .catch(function (err) {\r\n                    reject(err);\r\n                });\r\n            });\r\n            return nodeify(promise, callback);\r\n        };\r\n        Object.defineProperty(ActivityAPI.prototype, \"my\", {\r\n            get: function () {\r\n                return this._my;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityAPI.prototype, \"aware\", {\r\n            get: function () {\r\n                return this._my.window !== undefined;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityAPI.prototype, \"inActivity\", {\r\n            get: function () {\r\n                return this.aware && this._my.activity !== undefined;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityAPI.prototype, \"agm\", {\r\n            get: function () {\r\n                if (!this.aware) {\r\n                    return undefined;\r\n                }\r\n                if (!this.inActivity) {\r\n                    return new ActivityAGM(null);\r\n                }\r\n                return this._my.activity.agm;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ActivityAPI.prototype.getAvailableFrameColors = function () {\r\n            return [];\r\n        };\r\n        return ActivityAPI;\r\n    }());\n\n    var ActivityModule = (function () {\r\n        function ActivityModule(config) {\r\n            var _this = this;\r\n            if (!config) {\r\n                throw new Error(\"config can not be null\");\r\n            }\r\n            if (!isUndefined(config.logLevel)) {\r\n                Logger$1.Level = config.logLevel;\r\n            }\r\n            if (!isUndefinedOrNull(config.logger)) {\r\n                Logger$1.GlueLogger = config.logger;\r\n            }\r\n            var bridge;\r\n            this._isUsingHCImplementation = config.gdMajorVersion === 2;\r\n            this._isUsingGW3Implementation = ActivityModule.checkIsUsingGW3Implementation(config.connection);\r\n            if (this._isUsingHCImplementation) {\r\n                throw new Error(\"GD2 not supported\");\r\n            }\r\n            else if (this._isUsingGW3Implementation) {\r\n                bridge = new GW3Bridge$1(config);\r\n            }\r\n            else {\r\n                throw new Error(\"Unable to instantiate activity bridge implementation\");\r\n            }\r\n            if (!bridge) {\r\n                throw new Error(\"A bridge to native activity is needed to create activity lib.\");\r\n            }\r\n            ActivityAGM.AGM = config.agm;\r\n            var activityManager = new ActivityManager(bridge, !config.disableAutoAnnounce, config.windows);\r\n            var my = new ActivityMy(activityManager, config.windows);\r\n            this._api = new ActivityAPI(activityManager, my);\r\n            this._readyPromise = activityManager.ready().then(function (_) { return _this; });\r\n        }\r\n        ActivityModule.checkIsUsingGW3Implementation = function (connection) {\r\n            return connection.protocolVersion === 3;\r\n        };\r\n        Object.defineProperty(ActivityModule.prototype, \"api\", {\r\n            get: function () {\r\n                return this._api;\r\n            },\r\n            set: function (value) {\r\n                this._api = value;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityModule.prototype, \"isUsingHCImplementation\", {\r\n            get: function () {\r\n                return this._isUsingHCImplementation;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ActivityModule.prototype, \"isUsingGW3Implementation\", {\r\n            get: function () {\r\n                return this._isUsingGW3Implementation;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ActivityModule.prototype.ready = function (callback) {\r\n            return nodeify(this._readyPromise, callback);\r\n        };\r\n        return ActivityModule;\r\n    }());\n\n    var ShutdownMethodName = \"T42.ACS.Shutdown\";\r\n    var OnGDShutdownMethodName = \"T42.ACS.OnGDShutdown\";\r\n    var RestartMethodName = \"T42.ACS.Restart\";\r\n    var GetConfigurationRegionMethodName = \"T42.ACS.GetConfigurationRegion\";\r\n    var SetConfigurationRegionMethodName = \"T42.ACS.SetConfigurationRegion\";\r\n    var GetUserMethodName = \"T42.ACS.GetUser\";\r\n    var GetBranchesMethodName = \"T42.ACS.GetBranches\";\r\n    var GetCurrentBranchMethodName = \"T42.ACS.GetCurrentBranch\";\r\n    var SetCurrentBranchMethodName = \"T42.ACS.SetCurrentBranch\";\r\n    var GetFunctionalEntitlementMethodName = \"T42.ACS.GetFunctionalEntitlement\";\r\n    var CanIMethodName = \"T42.ACS.CanI\";\r\n    var StartApplicationMethodName = \"T42.ACS.StartApplication\";\r\n    var StopApplicationMethodName = \"T42.ACS.StopApplication\";\r\n    var ActivateApplicationMethodName = \"T42.ACS.ActivateApplication\";\r\n    var OnEventMethodName = \"T42.ACS.OnEvent\";\r\n    var GetApplicationsMethodName = \"T42.ACS.GetApplications\";\n\n    function createRegistry$1(options) {\r\n        if (options && options.errorHandling\r\n            && typeof options.errorHandling !== \"function\"\r\n            && options.errorHandling !== \"log\"\r\n            && options.errorHandling !== \"silent\"\r\n            && options.errorHandling !== \"throw\") {\r\n            throw new Error(\"Invalid options passed to createRegistry. Prop errorHandling should be [\\\"log\\\" | \\\"silent\\\" | \\\"throw\\\" | (err) => void], but \" + typeof options.errorHandling + \" was passed\");\r\n        }\r\n        var _userErrorHandler = options && typeof options.errorHandling === \"function\" && options.errorHandling;\r\n        var callbacks = {};\r\n        function add(key, callback, replayArgumentsArr) {\r\n            var callbacksForKey = callbacks[key];\r\n            if (!callbacksForKey) {\r\n                callbacksForKey = [];\r\n                callbacks[key] = callbacksForKey;\r\n            }\r\n            callbacksForKey.push(callback);\r\n            if (replayArgumentsArr) {\r\n                setTimeout(function () {\r\n                    replayArgumentsArr.forEach(function (replayArgument) {\r\n                        var _a;\r\n                        if ((_a = callbacks[key]) === null || _a === void 0 ? void 0 : _a.includes(callback)) {\r\n                            try {\r\n                                if (Array.isArray(replayArgument)) {\r\n                                    callback.apply(undefined, replayArgument);\r\n                                }\r\n                                else {\r\n                                    callback.apply(undefined, [replayArgument]);\r\n                                }\r\n                            }\r\n                            catch (err) {\r\n                                _handleError(err, key);\r\n                            }\r\n                        }\r\n                    });\r\n                }, 0);\r\n            }\r\n            return function () {\r\n                var allForKey = callbacks[key];\r\n                if (!allForKey) {\r\n                    return;\r\n                }\r\n                allForKey = allForKey.reduce(function (acc, element, index) {\r\n                    if (!(element === callback && acc.length === index)) {\r\n                        acc.push(element);\r\n                    }\r\n                    return acc;\r\n                }, []);\r\n                if (allForKey.length === 0) {\r\n                    delete callbacks[key];\r\n                }\r\n                else {\r\n                    callbacks[key] = allForKey;\r\n                }\r\n            };\r\n        }\r\n        function execute(key) {\r\n            var argumentsArr = [];\r\n            for (var _i = 1; _i < arguments.length; _i++) {\r\n                argumentsArr[_i - 1] = arguments[_i];\r\n            }\r\n            var callbacksForKey = callbacks[key];\r\n            if (!callbacksForKey || callbacksForKey.length === 0) {\r\n                return [];\r\n            }\r\n            var results = [];\r\n            callbacksForKey.forEach(function (callback) {\r\n                try {\r\n                    var result = callback.apply(undefined, argumentsArr);\r\n                    results.push(result);\r\n                }\r\n                catch (err) {\r\n                    results.push(undefined);\r\n                    _handleError(err, key);\r\n                }\r\n            });\r\n            return results;\r\n        }\r\n        function _handleError(exceptionArtifact, key) {\r\n            var errParam = exceptionArtifact instanceof Error ? exceptionArtifact : new Error(exceptionArtifact);\r\n            if (_userErrorHandler) {\r\n                _userErrorHandler(errParam);\r\n                return;\r\n            }\r\n            var msg = \"[ERROR] callback-registry: User callback for key \\\"\" + key + \"\\\" failed: \" + errParam.stack;\r\n            if (options) {\r\n                switch (options.errorHandling) {\r\n                    case \"log\":\r\n                        return console.error(msg);\r\n                    case \"silent\":\r\n                        return;\r\n                    case \"throw\":\r\n                        throw new Error(msg);\r\n                }\r\n            }\r\n            console.error(msg);\r\n        }\r\n        function clear() {\r\n            callbacks = {};\r\n        }\r\n        function clearKey(key) {\r\n            var callbacksForKey = callbacks[key];\r\n            if (!callbacksForKey) {\r\n                return;\r\n            }\r\n            delete callbacks[key];\r\n        }\r\n        return {\r\n            add: add,\r\n            execute: execute,\r\n            clear: clear,\r\n            clearKey: clearKey\r\n        };\r\n    }\r\n    createRegistry$1.default = createRegistry$1;\r\n    var lib$2 = createRegistry$1;\n\n    function objectValues(source) {\r\n        if (!source) {\r\n            return [];\r\n        }\r\n        return Object.keys(source).map(function (key) { return source[key]; });\r\n    }\r\n    function objectClone(obj) {\r\n        var result;\r\n        try {\r\n            result = JSON.parse(JSON.stringify(obj || {}));\r\n        }\r\n        catch (error) {\r\n            result = {};\r\n        }\r\n        return result;\r\n    }\n\n    var ApplicationImpl = (function () {\r\n        function ApplicationImpl(_appManager, _name, _agm) {\r\n            var _this = this;\r\n            this._appManager = _appManager;\r\n            this._name = _name;\r\n            this._agm = _agm;\r\n            this._registry = lib$2();\r\n            _appManager.onInstanceStarted(function (instance) {\r\n                if (instance.application && instance.application.name !== _this._name) {\r\n                    return;\r\n                }\r\n                _this._registry.execute(\"instanceStarted\", instance);\r\n            });\r\n            _appManager.onInstanceStopped(function (instance) {\r\n                if (instance.application && instance.application.name !== _this._name) {\r\n                    return;\r\n                }\r\n                _this._registry.execute(\"instanceStopped\", instance);\r\n            });\r\n            _appManager.onAppRemoved(function (app) {\r\n                if (app.name !== _this._name) {\r\n                    return;\r\n                }\r\n                _this._registry.execute(\"appRemoved\", app);\r\n            });\r\n            _appManager.onAppChanged(function (app) {\r\n                if (app.name !== _this._name) {\r\n                    return;\r\n                }\r\n                _this._registry.execute(\"appChanged\", app);\r\n            });\r\n            _appManager.onAppAvailable(function (app) {\r\n                if (app.name !== _this._name) {\r\n                    return;\r\n                }\r\n                _this._registry.execute(\"appAvailable\", app);\r\n            });\r\n            _appManager.onAppUnavailable(function (app) {\r\n                if (app.name !== _this._name) {\r\n                    return;\r\n                }\r\n                _this._registry.execute(\"appUnavailable\", app);\r\n            });\r\n        }\r\n        Object.defineProperty(ApplicationImpl.prototype, \"name\", {\r\n            get: function () { return this._name; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"title\", {\r\n            get: function () { return this._props.Title; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"version\", {\r\n            get: function () { return this._props.Version; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"autoStart\", {\r\n            get: function () { return this._props.AutoStart; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"isShell\", {\r\n            get: function () { return this._props.IsShell; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"caption\", {\r\n            get: function () { return this._props.Caption; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"hidden\", {\r\n            get: function () { return this._props.IsHidden; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"container\", {\r\n            get: function () { return this._props.ApplicationName; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"activityType\", {\r\n            get: function () { return this._props.ActivityType; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"activityWindowType\", {\r\n            get: function () { return this._props.ActivityWindowType; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"windowSettings\", {\r\n            get: function () {\r\n                if (!this._props.Arguments) {\r\n                    return {};\r\n                }\r\n                return objectClone(this._props.Arguments);\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"allowMultiple\", {\r\n            get: function () { return this._props.AllowMultiple; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"available\", {\r\n            get: function () { return this._props.IsReady || true; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"icon\", {\r\n            get: function () { return this._props.Icon; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"iconURL\", {\r\n            get: function () { return this._props.IconUrl; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"sortOrder\", {\r\n            get: function () { return this._props.SortOrder; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"userProperties\", {\r\n            get: function () {\r\n                if (!this._props.UserProperties) {\r\n                    return {};\r\n                }\r\n                return objectClone(this._props.UserProperties);\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"isActivity\", {\r\n            get: function () {\r\n                return this._props.ActivityType !== undefined && this._props.ActivityType !== \"\";\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"configuration\", {\r\n            get: function () {\r\n                return {\r\n                    autoStart: this._props.AutoStart,\r\n                    caption: this._props.Caption,\r\n                    hidden: this._props.IsHidden,\r\n                    container: this._props.ApplicationName,\r\n                    activityType: this._props.ActivityType,\r\n                    allowMultiple: this._props.AllowMultiple\r\n                };\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"instances\", {\r\n            get: function () {\r\n                var _this = this;\r\n                return this._appManager.instances().filter(function (instance) { return instance.application.name === _this._name; });\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"type\", {\r\n            get: function () {\r\n                return this._props.Type;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(ApplicationImpl.prototype, \"mode\", {\r\n            get: function () {\r\n                if (!this._props) {\r\n                    return \"unknown\";\r\n                }\r\n                if (this._props.Mode && typeof this._props.Mode === \"string\") {\r\n                    return this._props.Mode.toLowerCase();\r\n                }\r\n                if (this.isActivity) {\r\n                    return \"unknown\";\r\n                }\r\n                if (this._props.Arguments && this._props.Arguments.mode && typeof this._props.Arguments.mode === \"string\") {\r\n                    return this._props.Arguments.mode.toLowerCase();\r\n                }\r\n                var styleAttributes = this._props.WindowStyleAttributes;\r\n                if (styleAttributes) {\r\n                    styleAttributes = styleAttributes.split(\" \").join(\"\");\r\n                    var searchFor = \"mode:\\\"\";\r\n                    var modeIndex = styleAttributes.indexOf(searchFor);\r\n                    if (modeIndex !== -1) {\r\n                        var startModeIndex = modeIndex + searchFor.length;\r\n                        var stopModeIndex = styleAttributes.indexOf(\"\\\"\", startModeIndex);\r\n                        var style = styleAttributes.substr(startModeIndex, stopModeIndex - startModeIndex);\r\n                        if (style && typeof style === \"string\") {\r\n                            return style.toLowerCase();\r\n                        }\r\n                    }\r\n                }\r\n                return \"flat\";\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        ApplicationImpl.prototype.updateFromProps = function (props) {\r\n            var _this = this;\r\n            if (!this._props) {\r\n                this._props = { Name: props.Name };\r\n            }\r\n            Object.keys(props).forEach(function (key) {\r\n                _this._props[key] = props[key];\r\n            });\r\n        };\r\n        ApplicationImpl.prototype.start = function (context, options) {\r\n            var _this = this;\r\n            var name = this._name;\r\n            var startTimeout = 10000;\r\n            return new Promise(function (resolve, reject) {\r\n                var _a;\r\n                options = options || {};\r\n                context = context || {};\r\n                var waitForAGMInstance = (_a = options.waitForAGMReady, (_a !== null && _a !== void 0 ? _a : true));\r\n                var waitForApplicationInstance = function (id) {\r\n                    var check = function () {\r\n                        var filtered = _this._appManager.instances().filter(function (i) { return i.id === id; });\r\n                        var result;\r\n                        if (filtered.length === 2) {\r\n                            result = filtered[0].isActivityInstance ? filtered[0] : filtered[1];\r\n                        }\r\n                        else {\r\n                            result = filtered[0];\r\n                        }\r\n                        if (result && waitForAGMInstance) {\r\n                            if (result.agm) {\r\n                                return result;\r\n                            }\r\n                            else {\r\n                                return undefined;\r\n                            }\r\n                        }\r\n                        return result;\r\n                    };\r\n                    var unsub;\r\n                    var timeout = setTimeout(function () {\r\n                        if (unsub) {\r\n                            unsub();\r\n                        }\r\n                        reject(\"timeout\");\r\n                    }, startTimeout);\r\n                    var waitFunc = function (i) {\r\n                        if (i.id !== id) {\r\n                            return;\r\n                        }\r\n                        if (unsub) {\r\n                            unsub();\r\n                            unsub = undefined;\r\n                        }\r\n                        clearTimeout(timeout);\r\n                        setTimeout(function () {\r\n                            resolve(check());\r\n                        }, 1);\r\n                    };\r\n                    if (waitForAGMInstance) {\r\n                        unsub = _this._appManager.onInstanceAgmServerReady(waitFunc);\r\n                    }\r\n                    else {\r\n                        unsub = _this._appManager.onInstanceStarted(waitFunc);\r\n                    }\r\n                    var instances = check();\r\n                    if (instances) {\r\n                        if (unsub) {\r\n                            unsub();\r\n                            unsub = undefined;\r\n                        }\r\n                        clearTimeout(timeout);\r\n                        resolve(instances);\r\n                    }\r\n                };\r\n                _this._agm.invoke(StartApplicationMethodName, {\r\n                    Name: name,\r\n                    Context: context,\r\n                    Options: options\r\n                }, \"best\", {\r\n                    methodResponseTimeoutMs: startTimeout\r\n                }, function (result) {\r\n                    var acsResult = result.returned && result.returned.Instance_0\r\n                        ? result.returned.Instance_0\r\n                        : result.returned;\r\n                    if (acsResult && acsResult.Id) {\r\n                        if (_this._appManager.mode === \"startOnly\") {\r\n                            var instance = _this._appManager.handleInstanceStarted(acsResult);\r\n                            resolve(instance);\r\n                        }\r\n                        else {\r\n                            waitForApplicationInstance(acsResult.Id);\r\n                        }\r\n                    }\r\n                    else {\r\n                        resolve(undefined);\r\n                    }\r\n                }, function (err) {\r\n                    reject(err);\r\n                });\r\n            });\r\n        };\r\n        ApplicationImpl.prototype.onInstanceStarted = function (callback) {\r\n            this._registry.add(\"instanceStarted\", callback);\r\n        };\r\n        ApplicationImpl.prototype.onInstanceStopped = function (callback) {\r\n            this._registry.add(\"instanceStopped\", callback);\r\n        };\r\n        ApplicationImpl.prototype.onAvailable = function (callback) {\r\n            this._registry.add(\"appAvailable\", callback);\r\n        };\r\n        ApplicationImpl.prototype.onUnavailable = function (callback) {\r\n            this._registry.add(\"appUnavailable\", callback);\r\n        };\r\n        ApplicationImpl.prototype.onChanged = function (callback) {\r\n            this._registry.add(\"appChanged\", callback);\r\n        };\r\n        ApplicationImpl.prototype.onRemoved = function (callback) {\r\n            this._registry.add(\"appRemoved\", callback);\r\n        };\r\n        return ApplicationImpl;\r\n    }());\n\n    var InstanceImpl = (function () {\r\n        function InstanceImpl(_id, _appName, _appManager, _agm, _activities, _windows, startFailed) {\r\n            var _this = this;\r\n            this._id = _id;\r\n            this._appName = _appName;\r\n            this._appManager = _appManager;\r\n            this._agm = _agm;\r\n            this._activities = _activities;\r\n            this._windows = _windows;\r\n            this.onAgmReady = this._addToRegistry(\"agmReady\");\r\n            this.onStopped = this._addToRegistry(\"stopped\");\r\n            this._registry = lib$2();\r\n            if (startFailed) {\r\n                return;\r\n            }\r\n            this._unsubscribeInstanceStopped = this._appManager.onInstanceStopped(function (instance) {\r\n                if (instance.id !== _this._id) {\r\n                    return;\r\n                }\r\n                _this._registry.execute(\"stopped\", instance);\r\n            });\r\n            this._unsubscribeInstanceAgmServerReady = this._appManager.onInstanceAgmServerReady(function (instance) {\r\n                if (instance.id !== _this._id) {\r\n                    return;\r\n                }\r\n                _this._registry.execute(\"agmReady\", instance);\r\n            });\r\n        }\r\n        Object.defineProperty(InstanceImpl.prototype, \"id\", {\r\n            get: function () { return this._id; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"application\", {\r\n            get: function () { return this._appManager.application(this._appName); },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"activity\", {\r\n            get: function () {\r\n                var _this = this;\r\n                if (!this._activities) {\r\n                    throw new Error(\"This method requires glue.activities library to be enabled.\");\r\n                }\r\n                return this._activities.all.instances.get()\r\n                    .filter(function (activityInstance) { return activityInstance.id === _this._activityId; })[0];\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"isActivityOwner\", {\r\n            get: function () { return this._isActivityOwner; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"activityInstances\", {\r\n            get: function () {\r\n                var _this = this;\r\n                return this._appManager.instances().filter(function (i) {\r\n                    return i.application.type !== \"activity\" &&\r\n                        i.activityId &&\r\n                        i.activityId === _this._activityId;\r\n                });\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"activityOwnerInstance\", {\r\n            get: function () {\r\n                if (!this._activityId) {\r\n                    return undefined;\r\n                }\r\n                return this.activityInstances.filter(function (inst) { var _a; return (_a = inst) === null || _a === void 0 ? void 0 : _a.isActivityOwner; })[0];\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"window\", {\r\n            get: function () {\r\n                var _this = this;\r\n                if (!this._windows) {\r\n                    throw new Error(\"This method requires glue.windows library to be enabled.\");\r\n                }\r\n                var win = this._windows.list().filter(function (w) { return w.id === _this._id; })[0];\r\n                if (!win && this.activity && this.activityOwnerInstance) {\r\n                    win = this.activityOwnerInstance.window;\r\n                }\r\n                return win;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"context\", {\r\n            get: function () {\r\n                var _a, _b, _c;\r\n                return _c = (_a = this._startUpContext, (_a !== null && _a !== void 0 ? _a : (_b = this.window) === null || _b === void 0 ? void 0 : _b.context)), (_c !== null && _c !== void 0 ? _c : {});\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"title\", {\r\n            get: function () { return this._title; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"isActivityInstance\", {\r\n            get: function () { return this._isActivityInstance; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"activityId\", {\r\n            get: function () { return this._activityId; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"inActivity\", {\r\n            get: function () { return this._inActivity; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"isSingleWindowApp\", {\r\n            get: function () { return !this._inActivity; },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(InstanceImpl.prototype, \"agm\", {\r\n            get: function () {\r\n                return this._agmInstance;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        InstanceImpl.prototype.updateFromProps = function (props) {\r\n            this._startUpContext = props.Context;\r\n            this._title = props.Title;\r\n            this._isActivityInstance = false;\r\n            if (props.ActivityId && props.ActivityId !== \"\") {\r\n                this._activityId = props.ActivityId;\r\n                this._isActivityInstance = true;\r\n            }\r\n            this._isActivityOwner = props.IsActivityOwner;\r\n            if (!this._activityId && this._startUpContext && this._startUpContext.activityId) {\r\n                this._activityId = this._startUpContext.activityId;\r\n            }\r\n            this._inActivity = Boolean(this._activityId);\r\n            this.updateAgmInstanceFromProps(props);\r\n        };\r\n        InstanceImpl.prototype.updateAgmInstanceFromProps = function (props) {\r\n            if (!props.AgmServers) {\r\n                return;\r\n            }\r\n            if (props.GD3) {\r\n                var agmInstances = props.AgmServers;\r\n                if (agmInstances) {\r\n                    this._agmInstance = agmInstances[0];\r\n                }\r\n            }\r\n            else {\r\n                var gdAgmServers = props.AgmServers;\r\n                var propsAgmServer = Object.keys(gdAgmServers)[0];\r\n                if (!propsAgmServer) {\r\n                    return;\r\n                }\r\n                var propsAgm = gdAgmServers[propsAgmServer];\r\n                this._agmInstance = {\r\n                    machine: propsAgm.machineName,\r\n                    user: propsAgm.userName,\r\n                    environment: propsAgm.environment,\r\n                    application: propsAgm.applicationName,\r\n                };\r\n            }\r\n        };\r\n        InstanceImpl.prototype.stop = function () {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                var unsubscribe = _this._appManager.onInstanceStopped(function (instance) {\r\n                    if (instance.id === _this._id) {\r\n                        unsubscribe();\r\n                        resolve();\r\n                    }\r\n                });\r\n                _this._agm.invoke(StopApplicationMethodName, {\r\n                    Name: _this._appName,\r\n                    Id: _this._id\r\n                })\r\n                    .then(function () {\r\n                    if (_this._appManager.mode === \"startOnly\") {\r\n                        _this._appManager.handleInstanceStopped({\r\n                            Name: _this._appName,\r\n                            Id: _this.id,\r\n                            Context: undefined,\r\n                            Title: undefined,\r\n                            ActivityId: undefined,\r\n                            IsActivityOwner: undefined,\r\n                            AgmServers: undefined\r\n                        });\r\n                        resolve();\r\n                    }\r\n                })\r\n                    .catch(function (err) { return reject(err); });\r\n            });\r\n        };\r\n        InstanceImpl.prototype.activate = function () {\r\n            return this._agm.invoke(ActivateApplicationMethodName, { Name: this._appName, Id: this._id });\r\n        };\r\n        InstanceImpl.prototype.done = function () {\r\n            this._registry.clear();\r\n            this._unsubscribeInstanceAgmServerReady();\r\n            this._unsubscribeInstanceStopped();\r\n        };\r\n        InstanceImpl.prototype.getContext = function () {\r\n            return Promise.resolve(this.context);\r\n        };\r\n        InstanceImpl.prototype._addToRegistry = function (key) {\r\n            var _this = this;\r\n            return function (callback) {\r\n                _this._registry.add(key, callback);\r\n            };\r\n        };\r\n        return InstanceImpl;\r\n    }());\n\n    var AppManagerImpl = (function () {\r\n        function AppManagerImpl(mode, _agm, _activities, _windows, _logger, _gdMajorVersion) {\r\n            var _this = this;\r\n            this.mode = mode;\r\n            this._agm = _agm;\r\n            this._activities = _activities;\r\n            this._windows = _windows;\r\n            this._logger = _logger;\r\n            this._gdMajorVersion = _gdMajorVersion;\r\n            this._apps = {};\r\n            this._instances = [];\r\n            this._registry = lib$2();\r\n            this.application = function (name) {\r\n                return _this._apps[name];\r\n            };\r\n            this.applications = function () {\r\n                return Object.keys(_this._apps).map(function (k) { return _this._apps[k]; });\r\n            };\r\n            this.instances = function () {\r\n                return _this._instances;\r\n            };\r\n            this.getMyInstance = function () {\r\n                if (_this._gdMajorVersion >= 3) {\r\n                    var instanceId_1 = window.glue42gd.appInstanceId;\r\n                    return _this._instances.filter(function (i) { return i.id === instanceId_1; })[0];\r\n                }\r\n                return undefined;\r\n            };\r\n            this.handleAppAdded = function (props) {\r\n                var id = _this._getAppId(props);\r\n                _this._logger.trace(\"adding app \" + id);\r\n                _this._apps[id] = new ApplicationImpl(_this, id, _this._agm);\r\n                var app = _this._updateAppFromProps(props);\r\n                _this._registry.execute(\"appAdded\", app);\r\n            };\r\n            this.handleAppUpdated = function (props) {\r\n                var app = _this._updateAppFromProps(props);\r\n                _this._registry.execute(\"appChanged\", app);\r\n            };\r\n            this.handleAppRemoved = function (props) {\r\n                var id = _this._getAppId(props);\r\n                _this._logger.trace(\"removing app \" + id);\r\n                var app = _this.application(id);\r\n                _this._instances = _this._instances.filter(function (i) { return i.application.name !== app.name; });\r\n                delete _this._apps[id];\r\n                _this._registry.execute(\"appRemoved\", app);\r\n            };\r\n            this.handleAppReady = function (props) {\r\n                var id = _this._getAppId(props);\r\n                var app = _this._getAppOrThrow(id);\r\n                app.updateFromProps(props);\r\n                if (app.available) {\r\n                    _this._registry.execute(\"appAvailable\", app);\r\n                }\r\n                else {\r\n                    _this._registry.execute(\"appUnavailable\", app);\r\n                }\r\n            };\r\n            this.handleInstanceStarted = function (props) {\r\n                _this._logger.trace(\"started app \" + props.Name + \" \" + props.Id);\r\n                var id = _this._getInstanceId(props);\r\n                var appName = _this._getInstanceAppName(props);\r\n                var instance = new InstanceImpl(id, appName, _this, _this._agm, _this._activities, _this._windows);\r\n                _this._updateInstanceFromProps(instance, props);\r\n                _this._instances.push(instance);\r\n                _this._registry.execute(\"instanceStarted\", instance);\r\n                return instance;\r\n            };\r\n            this.handleInstanceStopped = function (props) {\r\n                _this._logger.trace(\"failed to start app \" + props.Name + \" \" + props.Id);\r\n                var id = _this._getInstanceId(props);\r\n                var appName = _this._getInstanceAppName(props);\r\n                var instance = _this._getInstanceOrThrow(id, appName);\r\n                _this._instances = _this._instances.filter(function (i) { return !_this._matchInstance(i, id, appName); });\r\n                _this._registry.execute(\"instanceStopped\", instance);\r\n                instance.done();\r\n            };\r\n            this.handleInstanceAgmServerReady = function (props) {\r\n                var id = _this._getInstanceId(props);\r\n                var appName = _this._getInstanceAppName(props);\r\n                var instance = _this._getInstanceOrThrow(id, appName);\r\n                instance.updateAgmInstanceFromProps(props);\r\n                _this._registry.execute(\"instanceAgmServerReady\", instance);\r\n            };\r\n            this.handleInstanceStartFailed = function (props) {\r\n                var id = _this._getInstanceId(props);\r\n                var appName = _this._getInstanceAppName(props);\r\n                var startFailed = true;\r\n                var instance = new InstanceImpl(id, appName, undefined, undefined, undefined, undefined, startFailed);\r\n                _this._updateInstanceFromProps(instance, props);\r\n                _this._registry.execute(\"instanceStartFailed\", instance);\r\n            };\r\n            this.handleInstanceUpdated = function (props) {\r\n                var id = _this._getInstanceId(props);\r\n                var app = _this._getInstanceAppName(props);\r\n                var instance = _this._getInstanceOrThrow(id, app);\r\n                _this._updateInstanceFromProps(instance, props);\r\n            };\r\n            this.onInstanceStarted = function (callback) {\r\n                return _this._registry.add(\"instanceStarted\", callback, _this._instances);\r\n            };\r\n            this.onInstanceStartFailed = function (callback) {\r\n                return _this._registry.add(\"instanceStartFailed\", callback);\r\n            };\r\n            this.onInstanceStopped = function (callback) {\r\n                return _this._registry.add(\"instanceStopped\", callback);\r\n            };\r\n            this.onInstanceUpdated = function (callback) {\r\n                return _this._registry.add(\"instanceChanged\", callback);\r\n            };\r\n            this.onInstanceAgmServerReady = function (callback) {\r\n                return _this._registry.add(\"instanceAgmServerReady\", callback);\r\n            };\r\n            this.onAppAdded = function (callback) {\r\n                return _this._registry.add(\"appAdded\", callback, Object.values(_this._apps));\r\n            };\r\n            this.onAppRemoved = function (callback) {\r\n                return _this._registry.add(\"appRemoved\", callback);\r\n            };\r\n            this.onAppAvailable = function (callback) {\r\n                return _this._registry.add(\"appAvailable\", callback);\r\n            };\r\n            this.onAppUnavailable = function (callback) {\r\n                return _this._registry.add(\"appUnavailable\", callback);\r\n            };\r\n            this.onAppChanged = function (callback) {\r\n                return _this._registry.add(\"appChanged\", callback);\r\n            };\r\n        }\r\n        AppManagerImpl.prototype._getAppOrThrow = function (id) {\r\n            var result = this.application(id);\r\n            if (!result) {\r\n                throw Error(\"app with id \" + id + \" not found\");\r\n            }\r\n            return result;\r\n        };\r\n        AppManagerImpl.prototype._getAppId = function (props) {\r\n            return props.Name;\r\n        };\r\n        AppManagerImpl.prototype._matchInstance = function (instance, id, appName) {\r\n            return instance.id === id && instance.application.name === appName;\r\n        };\r\n        AppManagerImpl.prototype._getInstanceByIdAndName = function (id, appName) {\r\n            var _this = this;\r\n            return this._instances.filter(function (i) { return _this._matchInstance(i, id, appName); })[0];\r\n        };\r\n        AppManagerImpl.prototype._getInstanceOrThrow = function (id, appName) {\r\n            var result = this._getInstanceByIdAndName(id, appName);\r\n            if (!result) {\r\n                throw Error(\"instance with id \" + id + \" not found\");\r\n            }\r\n            return result;\r\n        };\r\n        AppManagerImpl.prototype._getInstanceId = function (props) {\r\n            return props.Id;\r\n        };\r\n        AppManagerImpl.prototype._getInstanceAppName = function (props) {\r\n            return props.Name;\r\n        };\r\n        AppManagerImpl.prototype._updateAppFromProps = function (props) {\r\n            var id = this._getAppId(props);\r\n            this._logger.trace(\"updating app with  + \" + id + \", \" + props);\r\n            var app = this._getAppOrThrow(id);\r\n            app.updateFromProps(props);\r\n            return app;\r\n        };\r\n        AppManagerImpl.prototype._updateInstanceFromProps = function (instance, props) {\r\n            this._logger.trace(\"updating instance with \" + this._getInstanceId(props) + \" for app \" + this._getInstanceAppName(props));\r\n            instance.updateFromProps(props);\r\n        };\r\n        return AppManagerImpl;\r\n    }());\n\n    function promisify$2(promise, successCallback, errorCallback) {\r\n        var isFunction = function (arg) {\r\n            return !!(arg && arg.constructor && arg.call && arg.apply);\r\n        };\r\n        if (!isFunction(successCallback) && !isFunction(errorCallback)) {\r\n            return promise;\r\n        }\r\n        if (!isFunction(successCallback)) {\r\n            successCallback = function () {\r\n            };\r\n        }\r\n        else if (!isFunction(errorCallback)) {\r\n            errorCallback = function () {\r\n            };\r\n        }\r\n        promise.then(successCallback, errorCallback);\r\n    }\r\n    var EntitlementsImpl = (function () {\r\n        function EntitlementsImpl(_agm) {\r\n            var _this = this;\r\n            this._agm = _agm;\r\n            this._registry = lib$2();\r\n            this._isMethodRegistered = false;\r\n            this.handleBranchModified = function (branch) {\r\n                _this._registry.execute(\"branchChanged\", branch);\r\n            };\r\n            this.handleBranchesModified = function (branches) {\r\n                _this._registry.execute(\"branchesChanged\", branches);\r\n            };\r\n            this.getRegion = function (success, error) {\r\n                return promisify$2(_this._agmInvoke(GetConfigurationRegionMethodName, function (e) { return e.returned.Region; }), success, error);\r\n            };\r\n            this.getBranches = function (success, error) {\r\n                var promise = _this._agmInvoke(GetBranchesMethodName, function (e) {\r\n                    var obj = e.returned.Branches;\r\n                    return Object.keys(obj).map(function (key) { return obj[key]; });\r\n                });\r\n                return promisify$2(promise, success, error);\r\n            };\r\n            this.getCurrentBranch = function (success, error) {\r\n                var promise = _this._agmInvoke(GetCurrentBranchMethodName, function (e) { return e.returned.Branch; }, undefined);\r\n                return promisify$2(promise, success, error);\r\n            };\r\n            this.setRegion = function (region, success, error) {\r\n                var promise = _this._agmInvoke(SetConfigurationRegionMethodName, function (e) { return e.returned.ResultMessage; }, { Region: region });\r\n                return promisify$2(promise, success, error);\r\n            };\r\n            this.setCurrentBranch = function (branch, success, error) {\r\n                var promise = _this._agmInvoke(SetCurrentBranchMethodName, function (e) { return e.returned.ResultMessage; }, { Branch: branch });\r\n                return promisify$2(promise, success, error);\r\n            };\r\n            this.currentUser = function (success, error) {\r\n                var promise = _this._agmInvoke(GetUserMethodName);\r\n                return promisify$2(promise, success, error);\r\n            };\r\n            this.getFunctionalEntitlement = function (funct, success, error) {\r\n                var promise = _this._agmInvoke(GetFunctionalEntitlementMethodName, function (e) { return e.returned.Entitlement; }, { Function: funct });\r\n                return promisify$2(promise, success, error);\r\n            };\r\n            this.getFunctionalEntitlementBranch = function (funct, branch, success, error) {\r\n                var promise = _this._agmInvoke(GetFunctionalEntitlementMethodName, function (e) { return e.returned.Entitlement; }, { Function: funct, Branch: branch });\r\n                return promisify$2(promise, success, error);\r\n            };\r\n            this.canI = function (func, success, error) {\r\n                var promise = _this._agmInvoke(CanIMethodName, function (e) { return e.returned.Result; }, { Function: func });\r\n                return promisify$2(promise, success, error);\r\n            };\r\n            this.canIBranch = function (func, branch, success, error) {\r\n                var promise = _this._agmInvoke(CanIMethodName, function (e) { return e.returned.Result; }, { Function: func, Branch: branch });\r\n                return promisify$2(promise, success, error);\r\n            };\r\n            this.onBranchesChanged = function (callback) {\r\n                return _this._registry.add(\"branchesChanged\", callback);\r\n            };\r\n            this.onBranchChanged = function (callback) {\r\n                return _this._registry.add(\"branchChanged\", callback);\r\n            };\r\n            this.exit = function (options) {\r\n                return _this._agmInvoke(ShutdownMethodName, null, options);\r\n            };\r\n            this.onShuttingDown = function (callback) {\r\n                _this.registerMethod();\r\n                return _this._registry.add(\"onShuttingDown\", callback);\r\n            };\r\n            this.restart = function (options) {\r\n                return _this._agmInvoke(RestartMethodName, null, options);\r\n            };\r\n            this._agmInvoke = function (method, transformFunction, args) {\r\n                args = args || {};\r\n                return new Promise(function (resolve, reject) {\r\n                    var errHandler = function (error) { return reject(error); };\r\n                    _this._agm.invoke(method, args)\r\n                        .then(function (result) {\r\n                        if (!transformFunction) {\r\n                            transformFunction = function (d) { return d.returned; };\r\n                        }\r\n                        resolve(transformFunction(result));\r\n                    })\r\n                        .catch(errHandler);\r\n                });\r\n            };\r\n        }\r\n        EntitlementsImpl.prototype.registerMethod = function () {\r\n            var _this = this;\r\n            if (!this._isMethodRegistered) {\r\n                this._agm.register(OnGDShutdownMethodName, function (args) { return __awaiter(_this, void 0, void 0, function () {\r\n                    var error_1;\r\n                    return __generator(this, function (_a) {\r\n                        switch (_a.label) {\r\n                            case 0:\r\n                                _a.trys.push([0, 2, , 3]);\r\n                                return [4, Promise.all(this._registry.execute(\"onShuttingDown\", args))];\r\n                            case 1:\r\n                                _a.sent();\r\n                                return [3, 3];\r\n                            case 2:\r\n                                error_1 = _a.sent();\r\n                                return [3, 3];\r\n                            case 3: return [2];\r\n                        }\r\n                    });\r\n                }); });\r\n                this._isMethodRegistered = true;\r\n            }\r\n        };\r\n        return EntitlementsImpl;\r\n    }());\n\n    function snapshot(agm, appManager) {\r\n        return new Promise(function (resolve, reject) {\r\n            agm.invoke(GetApplicationsMethodName, { skipIcon: true })\r\n                .then(function (response) {\r\n                var data = response.returned;\r\n                if (!data) {\r\n                    resolve();\r\n                }\r\n                var applications = data.applications;\r\n                if (!applications) {\r\n                    resolve();\r\n                }\r\n                objectValues(applications).map(function (item) { return appManager.handleAppAdded(item); });\r\n                resolve();\r\n            })\r\n                .catch(function (err) { return reject(\"Error getting application snapshot: \" + err.message); });\r\n        });\r\n    }\n\n    var OnBranchChangedEvent = \"OnBranchChanged\";\r\n    var OnBranchesModifiedEvent = \"OnBranchesModified\";\r\n    var OnApplicationAddedEvent = \"OnApplicationAdded\";\r\n    var OnApplicationRemovedEvent = \"OnApplicationRemoved\";\r\n    var OnApplicationChangedEvent = \"OnApplicationChanged\";\r\n    var OnApplicationReadyEvent = \"OnApplicationReady\";\r\n    var OnApplicationStartedEvent = \"OnApplicationStarted\";\r\n    var OnApplicationAgmServerReadyEvent = \"OnApplicationAgmServerReady\";\r\n    var OnApplicationUpdatedEvent = \"OnApplicationUpdated\";\r\n    var OnApplicationStoppedEvent = \"OnApplicationStopped\";\r\n    var OnApplicationStartFailedEvent = \"OnApplicationStartFailed\";\n\n    function createDataSubscription(agm, applications, entitlements, skipIcons) {\r\n        var subscription;\r\n        var start = function () {\r\n            var resolveFunc;\r\n            var rejectFunc;\r\n            var resultPromise = new Promise(function (resolve, reject) {\r\n                resolveFunc = resolve;\r\n                rejectFunc = reject;\r\n            });\r\n            agm.subscribe(OnEventMethodName, { arguments: { skipIcon: skipIcons }, waitTimeoutMs: 10000 })\r\n                .then(function (s) {\r\n                subscription = s;\r\n                subscription.onData(function (streamData) {\r\n                    var events = streamData.data;\r\n                    objectValues(events[OnApplicationAddedEvent])\r\n                        .map(function (item) { return applications.handleAppAdded(item); });\r\n                    objectValues(events[OnApplicationChangedEvent])\r\n                        .map(function (item) { return applications.handleAppUpdated(item); });\r\n                    objectValues(events[OnApplicationRemovedEvent])\r\n                        .map(function (item) { return applications.handleAppRemoved(item); });\r\n                    objectValues(events[OnApplicationReadyEvent])\r\n                        .map(function (item) { return applications.handleAppReady(item); });\r\n                    objectValues(events[OnApplicationStartedEvent])\r\n                        .map(function (item) { return applications.handleInstanceStarted(item); });\r\n                    objectValues(events[OnApplicationStartFailedEvent])\r\n                        .map(function (item) { return applications.handleInstanceStartFailed(item); });\r\n                    objectValues(events[OnApplicationStoppedEvent])\r\n                        .map(function (item) { return applications.handleInstanceStopped(item); });\r\n                    objectValues(events[OnApplicationUpdatedEvent])\r\n                        .map(function (item) { return applications.handleInstanceUpdated(item); });\r\n                    objectValues(events[OnApplicationAgmServerReadyEvent])\r\n                        .map(function (item) { return applications.handleInstanceAgmServerReady(item); });\r\n                    objectValues(events[OnBranchChangedEvent])\r\n                        .map(function (item) { return entitlements.handleBranchModified(item); });\r\n                    objectValues(events[OnBranchesModifiedEvent])\r\n                        .map(function (item) { return entitlements.handleBranchesModified(item); });\r\n                    resolveFunc();\r\n                });\r\n                subscription.onFailed(function (err) { return rejectFunc(err); });\r\n            })\r\n                .catch(function (err) { return rejectFunc(\"Error subscribing for \" + OnEventMethodName + \" stream. Err: \" + err); });\r\n            return resultPromise;\r\n        };\r\n        var stop = function () {\r\n            if (subscription) {\r\n                subscription.close();\r\n            }\r\n        };\r\n        return {\r\n            start: start,\r\n            stop: stop\r\n        };\r\n    }\n\n    var InMemoryStoreCommandMethodName = \"T42.ACS.InMemoryStoreCommand\";\r\n    var InMemoryStore = (function () {\r\n        function InMemoryStore(interop) {\r\n            this.interop = interop;\r\n        }\r\n        InMemoryStore.prototype.import = function (apps, mode) {\r\n            if (!apps || !Array.isArray(apps)) {\r\n                return Promise.reject(\"invalid apps argument - should be an array of application definitions\");\r\n            }\r\n            if (mode && mode !== \"replace\" && mode !== \"merge\") {\r\n                return Promise.reject(\"invalid mode argument - should be 'replace' or 'merge'\");\r\n            }\r\n            mode = (mode !== null && mode !== void 0 ? mode : \"replace\");\r\n            var command = {\r\n                command: \"import\",\r\n                args: {\r\n                    apps: apps,\r\n                    mode: mode\r\n                }\r\n            };\r\n            return this.interop.invoke(InMemoryStoreCommandMethodName, command)\r\n                .then(function (r) { return r.returned; });\r\n        };\r\n        InMemoryStore.prototype.export = function () {\r\n            return this.interop.invoke(InMemoryStoreCommandMethodName, { command: \"export\" })\r\n                .then(function (r) { return r.returned.apps; });\r\n        };\r\n        InMemoryStore.prototype.remove = function (app) {\r\n            if (!app || typeof app !== \"string\") {\r\n                return Promise.reject(\"invalid app name, should be a string value\");\r\n            }\r\n            var command = {\r\n                command: \"remove\",\r\n                args: {\r\n                    apps: [app]\r\n                }\r\n            };\r\n            return this.interop.invoke(InMemoryStoreCommandMethodName, command).then(function (r) { return r.returned; });\r\n        };\r\n        InMemoryStore.prototype.clear = function () {\r\n            var command = {\r\n                command: \"clear\"\r\n            };\r\n            return this.interop.invoke(InMemoryStoreCommandMethodName, command).then(function (r) { return r.returned; });\r\n        };\r\n        InMemoryStore.prototype.createAppDef = function (name, url) {\r\n            if (!url) {\r\n                url = \"https://google.com\";\r\n            }\r\n            return {\r\n                name: name,\r\n                type: \"window\",\r\n                title: name,\r\n                details: {\r\n                    url: url\r\n                }\r\n            };\r\n        };\r\n        return InMemoryStore;\r\n    }());\n\n    var AppManagerFactory = (function (config) {\r\n        if (!config) {\r\n            throw Error(\"config not set\");\r\n        }\r\n        if (!config.agm) {\r\n            throw Error(\"config.agm is missing\");\r\n        }\r\n        var START_ONLY = \"startOnly\";\r\n        var SKIP_ICONS = \"skipIcons\";\r\n        var FULL = \"full\";\r\n        var mode = config.mode || START_ONLY;\r\n        if (mode !== START_ONLY && mode !== SKIP_ICONS && mode !== FULL) {\r\n            throw new Error(\"Invalid mode for appManager lib - \" + mode + \" is not supported\");\r\n        }\r\n        var activities = config.activities;\r\n        var agm = config.agm;\r\n        var logger = config.logger;\r\n        var windows = config.windows;\r\n        var appManager = new AppManagerImpl(mode, agm, activities, windows, logger.subLogger(\"applications\"), config.gdMajorVersion);\r\n        var entitlements = new EntitlementsImpl(agm);\r\n        var readyPromise;\r\n        if (mode === START_ONLY) {\r\n            readyPromise = snapshot(agm, appManager);\r\n        }\r\n        else {\r\n            var subscription = createDataSubscription(agm, appManager, entitlements, mode === SKIP_ICONS);\r\n            readyPromise = subscription.start();\r\n        }\r\n        var api = {\r\n            ready: function () { return readyPromise; },\r\n            applications: appManager.applications,\r\n            application: appManager.application,\r\n            onAppAdded: appManager.onAppAdded,\r\n            onAppRemoved: appManager.onAppRemoved,\r\n            onAppChanged: appManager.onAppChanged,\r\n            onAppAvailable: appManager.onAppAvailable,\r\n            onAppUnavailable: appManager.onAppUnavailable,\r\n            instances: appManager.instances,\r\n            get myInstance() {\r\n                return appManager.getMyInstance();\r\n            },\r\n            onInstanceStarted: appManager.onInstanceStarted,\r\n            onInstanceStopped: appManager.onInstanceStopped,\r\n            onInstanceUpdated: appManager.onInstanceUpdated,\r\n            onInstanceStartFailed: appManager.onInstanceStartFailed,\r\n            getRegion: entitlements.getRegion,\r\n            getBranches: entitlements.getBranches,\r\n            getCurrentBranch: entitlements.getCurrentBranch,\r\n            getFunctionalEntitlement: entitlements.getFunctionalEntitlement,\r\n            getFunctionalEntitlementBranch: entitlements.getFunctionalEntitlementBranch,\r\n            setCurrentBranch: entitlements.setCurrentBranch,\r\n            setRegion: entitlements.setRegion,\r\n            currentUser: entitlements.currentUser,\r\n            canI: entitlements.canI,\r\n            canIBranch: entitlements.canIBranch,\r\n            onBranchesChanged: entitlements.onBranchesChanged,\r\n            exit: entitlements.exit,\r\n            restart: entitlements.restart,\r\n            onShuttingDown: entitlements.onShuttingDown,\r\n            inMemory: new InMemoryStore(agm)\r\n        };\r\n        return api;\r\n    });\n\n    var WindowStore = (function () {\r\n        function WindowStore() {\r\n            this.waitForTimeoutInMilliseconds = 60000;\r\n            this._windows = {};\r\n            this._pendingWindows = {};\r\n            this._pendingWindowsStates = {};\r\n            this._registry = lib$2();\r\n        }\r\n        WindowStore.prototype.init = function (logger) {\r\n            this._logger = logger;\r\n        };\r\n        WindowStore.prototype.get = function (id) {\r\n            return this._windows[id] || this._pendingWindows[id];\r\n        };\r\n        WindowStore.prototype.getIfReady = function (id) {\r\n            return this._windows[id];\r\n        };\r\n        Object.defineProperty(WindowStore.prototype, \"list\", {\r\n            get: function () {\r\n                return this._windows;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        WindowStore.prototype.add = function (window) {\r\n            var isExist = this._pendingWindows[window.API.id] ? true : false;\r\n            if (isExist) {\r\n                this._logger.error(\"trying to add window with id \" + window.API.id + \" from windowStore, which already exists\");\r\n                return;\r\n            }\r\n            var remote = window.API.windowType === \"remote\";\r\n            this._pendingWindows[window.API.id] = window;\r\n            this._pendingWindowsStates[window.API.id] = {\r\n                ready: false,\r\n                urlChanged: remote,\r\n            };\r\n            this._registry.execute(\"on-added\", window);\r\n        };\r\n        WindowStore.prototype.remove = function (window) {\r\n            delete this._windows[window.API.id];\r\n            delete this._pendingWindows[window.API.id];\r\n            delete this._pendingWindowsStates[window.API.id];\r\n            this._registry.execute(\"on-removed\", window);\r\n        };\r\n        WindowStore.prototype.setReadyState = function (windowId) {\r\n            var targetWindowState = this._pendingWindowsStates[windowId];\r\n            if (typeof targetWindowState === \"undefined\") {\r\n                return;\r\n            }\r\n            targetWindowState.ready = true;\r\n            if (targetWindowState.urlChanged) {\r\n                this.markReadyToShow(windowId);\r\n            }\r\n        };\r\n        WindowStore.prototype.setUrlChangedState = function (windowId) {\r\n            var targetWindowState = this._pendingWindowsStates[windowId];\r\n            if (typeof targetWindowState === \"undefined\") {\r\n                return;\r\n            }\r\n            targetWindowState.urlChanged = true;\r\n            if (targetWindowState.ready) {\r\n                this.markReadyToShow(windowId);\r\n            }\r\n        };\r\n        WindowStore.prototype.waitFor = function (id) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                var un;\r\n                var timeout = setTimeout(function () {\r\n                    un();\r\n                    reject(\"waitFor timed out.\");\r\n                }, _this.waitForTimeoutInMilliseconds);\r\n                var win = _this._windows[id];\r\n                if (win) {\r\n                    clearTimeout(timeout);\r\n                    resolve(win);\r\n                }\r\n                else {\r\n                    un = _this.onReadyWindow(function (w) {\r\n                        if (w.API.id !== id) {\r\n                            return;\r\n                        }\r\n                        clearTimeout(timeout);\r\n                        un();\r\n                        resolve(w);\r\n                    });\r\n                }\r\n            });\r\n        };\r\n        WindowStore.prototype.onReadyWindow = function (callback) {\r\n            return this._registry.add(\"on-ready\", callback);\r\n        };\r\n        WindowStore.prototype.onAdded = function (callback) {\r\n            return this._registry.add(\"on-added\", callback);\r\n        };\r\n        WindowStore.prototype.onRemoved = function (callback) {\r\n            return this._registry.add(\"on-removed\", callback);\r\n        };\r\n        WindowStore.prototype.markReadyToShow = function (windowId) {\r\n            if (this._pendingWindows[windowId]) {\r\n                this._windows[windowId] = this._pendingWindows[windowId];\r\n                delete this._pendingWindows[windowId];\r\n                delete this._pendingWindowsStates[windowId];\r\n            }\r\n            this._registry.execute(\"on-ready\", this._windows[windowId]);\r\n        };\r\n        return WindowStore;\r\n    }());\r\n    var windowStore = new WindowStore();\n\n    var Utils$1 = (function () {\r\n        function Utils() {\r\n        }\r\n        Utils.getGDMajorVersion = function () {\r\n            if (typeof window === \"undefined\") {\r\n                return -1;\r\n            }\r\n            if (!window.glueDesktop) {\r\n                return -1;\r\n            }\r\n            if (!window.glueDesktop.version) {\r\n                return -1;\r\n            }\r\n            var ver = Number(window.glueDesktop.version.substr(0, 1));\r\n            return isNaN(ver) ? -1 : ver;\r\n        };\r\n        Utils.callbackifyPromise = function (action, successCallback, errorCallback) {\r\n            var fail = function (error) {\r\n                var msg = error;\r\n                if (error instanceof Error) {\r\n                    msg = error.message;\r\n                }\r\n                if (typeof errorCallback === \"function\") {\r\n                    errorCallback(msg);\r\n                    return;\r\n                }\r\n                return Promise.reject(msg);\r\n            };\r\n            try {\r\n                return action()\r\n                    .then(function (result) {\r\n                    if (typeof successCallback === \"function\") {\r\n                        successCallback(result);\r\n                    }\r\n                    return result;\r\n                })\r\n                    .catch(function (error) {\r\n                    return fail(error);\r\n                });\r\n            }\r\n            catch (err) {\r\n                return fail(err);\r\n            }\r\n        };\r\n        Utils.getMonitor = function (bounds, displays) {\r\n            var _this = this;\r\n            var monitorsSortedByOverlap = displays.map(function (m) {\r\n                var left = m.left, top = m.top, width = m.workingAreaWidth, height = m.workingAreaHeight;\r\n                var overlap = _this.calculateTotalOverlap({ left: left, top: top, width: width, height: height }, bounds);\r\n                return {\r\n                    monitor: m,\r\n                    totalOverlap: overlap\r\n                };\r\n            }).sort(function (a, b) { return b.totalOverlap - a.totalOverlap; });\r\n            return monitorsSortedByOverlap[0].monitor;\r\n        };\r\n        Utils.getDisplayCenterOfScreen = function (a, display) {\r\n            var left = Math.floor(Math.max(display.left, (display.left + (display.workingAreaWidth - a.width) / 2)));\r\n            var top = Math.floor(Math.max(display.top, (display.top + (display.workingAreaHeight - a.height) / 2)));\r\n            return {\r\n                top: top,\r\n                left: left\r\n            };\r\n        };\r\n        Utils.calculateTotalOverlap = function (r1, r2) {\r\n            var r1x = r1.left;\r\n            var r1y = r1.top;\r\n            var r1xMax = r1x + r1.width;\r\n            var r1yMax = r1y + r1.height;\r\n            var r2x = r2.left;\r\n            var r2y = r2.top;\r\n            var r2xMax = r2x + r2.width;\r\n            var r2yMax = r2y + r2.height;\r\n            var xOverlap = Math.max(0, Math.min(r1xMax, r2xMax) - Math.max(r1x, r2x));\r\n            var yOverlap = Math.max(0, Math.min(r1yMax, r2yMax) - Math.max(r1y, r2y));\r\n            return xOverlap * yOverlap;\r\n        };\r\n        return Utils;\r\n    }());\n\n    var windowFactory = (function (id, options, executor, logger, appManagerGetter, displayAPIGetter, agm, registry) {\r\n        var _registry = (registry !== null && registry !== void 0 ? registry : lib$2());\r\n        var _logger = logger.subLogger(\"window \" + id);\r\n        var _name = options.name;\r\n        var _mode = options.mode;\r\n        var _url = options.url;\r\n        var _title = options.title;\r\n        var _context = options.context || {};\r\n        var _bounds = options.bounds;\r\n        var _frameColor = options.frameColor;\r\n        var _focus = options.focus;\r\n        var _neighbours = options.neighbours || {};\r\n        var _groupId = options.groupId;\r\n        var _isGroupHeaderVisible = options.isGroupHeaderVisible;\r\n        var _isTabHeaderVisible = options.isTabHeaderVisible;\r\n        var _isTabSelected = options.isTabSelected;\r\n        var _settings = options.settings;\r\n        var _isVisible = options.isVisible;\r\n        var _isSticky = options.isSticky;\r\n        var isCollapsed = options.isCollapsed;\r\n        var _windowState = options.state;\r\n        var _tabGroupId = options.tabGroupId;\r\n        var _isLocked = options.isLocked;\r\n        var _group;\r\n        var resultWindow;\r\n        var _frameButtons = [];\r\n        var _zoomFactor = options.zoomFactor;\r\n        var _placementSettings = options.placementSettings;\r\n        function close(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                if (!id) {\r\n                    var e = new Error(\"The window is already closed.\");\r\n                    if (typeof error === \"function\") {\r\n                        error(e.message);\r\n                    }\r\n                    reject(e);\r\n                    return;\r\n                }\r\n                var un = onClose(function () {\r\n                    un();\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                });\r\n                executor.close(resultWindow)\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function navigate(newUrl, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                var un = onUrlChanged(function (url, win) {\r\n                    if (url === win.url) {\r\n                        un();\r\n                        if (typeof success === \"function\") {\r\n                            success(resultWindow);\r\n                        }\r\n                        resolve(resultWindow);\r\n                    }\r\n                });\r\n                executor.navigate(resultWindow, newUrl)\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function setStyle(style, success, error) {\r\n            if (!style || Object.keys(style).length === 0 || Object.keys(style).every(function (key) { return !key; })) {\r\n                var errMessage = \"Invalid style arguments: \" + JSON.stringify(style);\r\n                if (typeof error === \"function\") {\r\n                    error(errMessage);\r\n                    return;\r\n                }\r\n                return Promise.reject(new Error(errMessage));\r\n            }\r\n            if (style && style.focus !== undefined) {\r\n                if (typeof style.focus !== \"boolean\") {\r\n                    var errMessage = \"Focus must be boolean. Currently only focus true is supported ! \" + JSON.stringify(style);\r\n                    if (typeof error === \"function\") {\r\n                        error(errMessage);\r\n                        return;\r\n                    }\r\n                    return Promise.reject(new Error(errMessage));\r\n                }\r\n                else if (style.focus === false) {\r\n                    _logger.warn(\"Focus false is not supported!\");\r\n                }\r\n            }\r\n            if (style && style.hidden !== undefined && typeof style.hidden !== \"boolean\") {\r\n                var errMessage = \"hidden should be boolean\";\r\n                if (typeof error === \"function\") {\r\n                    error(errMessage);\r\n                    return;\r\n                }\r\n                return Promise.reject(new Error(errMessage));\r\n            }\r\n            for (var _i = 0, _a = [\"minHeight\", \"maxHeight\", \"minWidth\", \"maxWidth\"]; _i < _a.length; _i++) {\r\n                var prop = _a[_i];\r\n                var styleAsAny = style;\r\n                if (prop in style && !isNumber(styleAsAny[prop])) {\r\n                    var errMessage = prop + \" should be number\";\r\n                    if (typeof error === \"function\") {\r\n                        error(errMessage);\r\n                        return;\r\n                    }\r\n                    return Promise.reject(new Error(errMessage));\r\n                }\r\n            }\r\n            return Utils$1.callbackifyPromise(function () { return executor.setStyle(resultWindow, style); }, success, error);\r\n        }\r\n        function resetButtons(buttons, success, error) {\r\n            return Utils$1.callbackifyPromise(function () { return executor.resetButtons(resultWindow, buttons); }, success, error);\r\n        }\r\n        function setOnTop(onTop, success, error) {\r\n            if (this.onTop === onTop) {\r\n                var errMessage = \"OnTop setting is already set to '\" + onTop + \"'\";\r\n                error(errMessage);\r\n                return Promise.reject(new Error(errMessage));\r\n            }\r\n            return Utils$1.callbackifyPromise(function () { return executor.setOnTop(resultWindow, onTop); }, success, error);\r\n        }\r\n        function setSizeConstraints(constraints, success, error) {\r\n            if (!constraints || Object.keys(constraints).every(function (value) { return value === undefined; })) {\r\n                var errMessage = \"Invalid Constraints: \" + JSON.stringify(constraints);\r\n                error(errMessage);\r\n                return Promise.reject(new Error(errMessage));\r\n            }\r\n            return Utils$1.callbackifyPromise(function () { return executor.setSizeConstraints(resultWindow, constraints); }, success, error);\r\n        }\r\n        function setTitle(newTitle, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                if (newTitle === _title) {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                    return;\r\n                }\r\n                var un = onTitleChanged(function (title) {\r\n                    if (title === newTitle) {\r\n                        un();\r\n                        if (typeof success === \"function\") {\r\n                            success(resultWindow);\r\n                        }\r\n                        resolve(resultWindow);\r\n                    }\r\n                });\r\n                executor.setTitle(resultWindow, newTitle)\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function setSticky(isSticky, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.setSticky(resultWindow, isSticky)\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function moveResize(dimensions, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                var resolveImmediately = areBoundsEqual(dimensions, _bounds);\r\n                var isDone = false;\r\n                var done = function () {\r\n                    if (isDone) {\r\n                        return;\r\n                    }\r\n                    isDone = true;\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                    if (unsubscribeBoundsChanged) {\r\n                        unsubscribeBoundsChanged();\r\n                        unsubscribeBoundsChanged = undefined;\r\n                    }\r\n                    if (resolveTimeout) {\r\n                        clearTimeout(resolveTimeout);\r\n                        resolveTimeout = undefined;\r\n                    }\r\n                };\r\n                var resolveTimeout;\r\n                var unsubscribeBoundsChanged;\r\n                if (!resolveImmediately) {\r\n                    unsubscribeBoundsChanged = onBoundsChanged(function (win) {\r\n                        if (!areBoundsEqual(dimensions, win.bounds)) {\r\n                            return;\r\n                        }\r\n                        done();\r\n                    });\r\n                }\r\n                executor.moveResize(resultWindow, dimensions)\r\n                    .then(function () {\r\n                    if (resolveImmediately) {\r\n                        done();\r\n                        return;\r\n                    }\r\n                    resolveTimeout = setTimeout(function () {\r\n                        done();\r\n                    }, 1000);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function addFrameButton(buttonInfo, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                if (typeof buttonInfo === \"undefined\") {\r\n                    if (typeof error === \"function\") {\r\n                        error(\"No button info\");\r\n                        return;\r\n                    }\r\n                    reject(\"No button info\");\r\n                    return;\r\n                }\r\n                if (buttonInfo.buttonId === undefined) {\r\n                    if (typeof error === \"function\") {\r\n                        error(\"No buttonId\");\r\n                        return;\r\n                    }\r\n                    reject(\"No buttonId\");\r\n                    return;\r\n                }\r\n                if (buttonInfo.imageBase64 === undefined) {\r\n                    if (typeof error === \"function\") {\r\n                        error(\"No imageBase64\");\r\n                        return;\r\n                    }\r\n                    reject(\"No imageBase64\");\r\n                    return;\r\n                }\r\n                var un = onFrameButtonAdded(function () {\r\n                    un();\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                });\r\n                executor.addFrameButton(resultWindow, buttonInfo)\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function removeFrameButton(buttonId, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                if (buttonId === undefined || buttonId === \"\") {\r\n                    if (typeof error === \"function\") {\r\n                        error(\"No buttonId\");\r\n                        return;\r\n                    }\r\n                    reject(\"No buttonId\");\r\n                    return;\r\n                }\r\n                var un = onFrameButtonRemoved(function () {\r\n                    un();\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                });\r\n                executor.removeFrameButton(resultWindow, buttonId)\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function activate(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                if (_focus) {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                    return;\r\n                }\r\n                var un = onFocusChanged(function (win) {\r\n                    if (id === win.id && win.isFocused) {\r\n                        un();\r\n                        if (typeof success === \"function\") {\r\n                            success(resultWindow);\r\n                        }\r\n                        resolve(resultWindow);\r\n                        return;\r\n                    }\r\n                });\r\n                executor.activate(resultWindow)\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function focus(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                if (_focus) {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                    return;\r\n                }\r\n                var un = onFocusChanged(function (win) {\r\n                    if (id === win.id && win.isFocused) {\r\n                        un();\r\n                        if (typeof success === \"function\") {\r\n                            success(resultWindow);\r\n                        }\r\n                        return resolve(resultWindow);\r\n                    }\r\n                });\r\n                executor.focus(resultWindow)\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function maximizeRestore(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                var currEvent = _windowState === \"normal\" ? onMaximized : onNormal;\r\n                var un = currEvent(function () {\r\n                    un();\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                });\r\n                executor.maximizeRestore(resultWindow)\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function maximize(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                if (_windowState === \"maximized\") {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    return resolve(resultWindow);\r\n                }\r\n                var un = onMaximized(function (win) {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    un();\r\n                    resolve(resultWindow);\r\n                });\r\n                executor.maximize(resultWindow)\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function restore(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                if (_windowState === \"normal\") {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    return resolve(resultWindow);\r\n                }\r\n                var un = onNormal(function (win) {\r\n                    un();\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                });\r\n                executor.restore(resultWindow)\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function minimize(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                if (_windowState === \"minimized\") {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    return resolve(resultWindow);\r\n                }\r\n                var un = onMinimized(function (win) {\r\n                    un();\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    return resolve(resultWindow);\r\n                });\r\n                executor.minimize(resultWindow)\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function collapse(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                if (isCollapsed) {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    return resolve(resultWindow);\r\n                }\r\n                var un = onCollapsed(function (win) {\r\n                    un();\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                });\r\n                executor.collapse(resultWindow)\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function expand(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                if (!isCollapsed) {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    return resolve(resultWindow);\r\n                }\r\n                var un = onExpanded(function () {\r\n                    un();\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                });\r\n                executor.expand(resultWindow)\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function toggleCollapse(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                var currEvent = isCollapsed ? onExpanded : onCollapsed;\r\n                var un = currEvent(function () {\r\n                    un();\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                });\r\n                executor.toggleCollapse(resultWindow)\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function snap(target, direction, success, error) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var targetWindowGroup, e, targetWindow, e;\r\n                return __generator(this, function (_a) {\r\n                    if (!target) {\r\n                        e = new Error(\"Please specify a target window - \" + target);\r\n                        if (typeof error === \"function\") {\r\n                            error(e.message);\r\n                            return [2];\r\n                        }\r\n                        throw e;\r\n                    }\r\n                    if (typeof target === \"string\") {\r\n                        targetWindow = windowStore.get(target);\r\n                        if (!targetWindow) {\r\n                            e = new Error(\"Invalid target parameter or no such window. Invoked with:  \" + target);\r\n                            if (typeof error === \"function\") {\r\n                                error(e.message);\r\n                                return [2];\r\n                            }\r\n                            throw e;\r\n                        }\r\n                        targetWindowGroup = targetWindow.API.group;\r\n                    }\r\n                    else {\r\n                        targetWindowGroup = target.group;\r\n                    }\r\n                    return [2, Promise.all([\r\n                            waitForMyWindowToJoinTargetGroup(targetWindowGroup),\r\n                            executor.snap(resultWindow, target, direction)\r\n                        ])\r\n                            .then(function () {\r\n                            if (typeof success === \"function\") {\r\n                                success(resultWindow);\r\n                            }\r\n                            return resultWindow;\r\n                        })\r\n                            .catch(function (e) {\r\n                            if (typeof error === \"function\") {\r\n                                error(e);\r\n                            }\r\n                            return e;\r\n                        })];\r\n                });\r\n            });\r\n        }\r\n        function waitForMyWindowToJoinTargetGroup(targetGroup) {\r\n            return new Promise(function (resolve, reject) {\r\n                var unsub = targetGroup.onWindowAdded(function (_, window) {\r\n                    if (resultWindow.id === window.id) {\r\n                        unsub();\r\n                        resolve();\r\n                    }\r\n                });\r\n            });\r\n        }\r\n        function attachTab(tab, index, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                var sourceWindowId;\r\n                var targetWindowId = resultWindow.id;\r\n                var errorMessage = \"Invalid tab parameter - should be an object with property id or a string. Invoked for source window id:\" + resultWindow.id;\r\n                if (!tab) {\r\n                    reject(errorMessage);\r\n                    return;\r\n                }\r\n                if (typeof tab === \"string\") {\r\n                    sourceWindowId = tab;\r\n                }\r\n                else if (typeof tab.id !== \"undefined\") {\r\n                    sourceWindowId = tab.id;\r\n                }\r\n                else {\r\n                    reject(errorMessage);\r\n                    return;\r\n                }\r\n                var argsForSend = {\r\n                    sourceWindowId: sourceWindowId,\r\n                    targetWindowId: targetWindowId,\r\n                };\r\n                if (index) {\r\n                    argsForSend.index = index;\r\n                }\r\n                var sourceWin = windowStore.get(argsForSend.sourceWindowId).API;\r\n                var un = sourceWin.onAttached(function (win) {\r\n                    un();\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                });\r\n                executor.attachTab(resultWindow, argsForSend)\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    un();\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function detachTab(opt, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                var argsForSend = { windowId: resultWindow.id };\r\n                var _options = opt || {};\r\n                if (typeof _options.relativeTo !== \"undefined\") {\r\n                    if (typeof _options.relativeTo === \"string\") {\r\n                        argsForSend.relativeTo = _options.relativeTo;\r\n                    }\r\n                    else if (typeof _options.relativeTo.id !== \"undefined\") {\r\n                        argsForSend.relativeTo = _options.relativeTo.id;\r\n                    }\r\n                    if (typeof _options.relativeDirection !== \"undefined\") {\r\n                        argsForSend.relativeDirection = _options.relativeDirection;\r\n                    }\r\n                    if (typeof _options.width !== \"undefined\") {\r\n                        argsForSend.width = _options.width;\r\n                    }\r\n                    if (typeof _options.height !== \"undefined\") {\r\n                        argsForSend.height = _options.height;\r\n                    }\r\n                }\r\n                if (typeof _options.bounds !== \"undefined\") {\r\n                    argsForSend.bounds = _options.bounds;\r\n                }\r\n                if (typeof _options.hideTabHeader !== \"undefined\") {\r\n                    argsForSend.hideTabHeader = _options.hideTabHeader;\r\n                }\r\n                var visibilityChangeHeard = false;\r\n                var detachedHeard = false;\r\n                var unVisibility = _registry.add(\"frame-attached\", (function (win) {\r\n                    var isVisibilityCorrect = _options.hideTabHeader === undefined || _options.hideTabHeader !== win.isTabHeaderVisible;\r\n                    if (id === win.id && isVisibilityCorrect) {\r\n                        visibilityChangeHeard = true;\r\n                        unVisibility();\r\n                        if (detachedHeard) {\r\n                            if (typeof success === \"function\") {\r\n                                success(resultWindow);\r\n                            }\r\n                            resolve(resultWindow);\r\n                            if (typeof unDetached === \"function\") {\r\n                                unDetached();\r\n                            }\r\n                        }\r\n                    }\r\n                }));\r\n                var unDetached = onDetached(function (win) {\r\n                    if (id === win.id) {\r\n                        detachedHeard = true;\r\n                        unDetached();\r\n                        if (visibilityChangeHeard) {\r\n                            if (typeof success === \"function\") {\r\n                                success(resultWindow);\r\n                            }\r\n                            resolve(resultWindow);\r\n                            if (typeof unVisibility === \"function\") {\r\n                                unVisibility();\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n                executor.detachTab(resultWindow, argsForSend)\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    unDetached();\r\n                    unVisibility();\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function setVisible(toBeVisible, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                if (toBeVisible === _isVisible) {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    return resolve(resultWindow);\r\n                }\r\n                var un = onVisibilityChanged(function (win) {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    un();\r\n                    resolve(resultWindow);\r\n                });\r\n                executor.setVisible(resultWindow, toBeVisible)\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function showLoader(loader) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.showLoader(resultWindow, loader)\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function hideLoader() {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.hideLoader(resultWindow)\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function updateContext(context, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                var un = onContextUpdated(function () {\r\n                    un();\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                });\r\n                executor.updateContext(resultWindow, context)\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function lock(success, error) {\r\n            if (resultWindow.isLocked) {\r\n                if (typeof success === \"function\") {\r\n                    success(resultWindow);\r\n                }\r\n                return Promise.resolve(resultWindow);\r\n            }\r\n            return new Promise(function (resolve, reject) {\r\n                executor.lock(resultWindow)\r\n                    .then(function () { return waitForLockingChanged(); })\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function unlock(success, error) {\r\n            if (!resultWindow.isLocked) {\r\n                if (typeof success === \"function\") {\r\n                    success(resultWindow);\r\n                }\r\n                return Promise.resolve(resultWindow);\r\n            }\r\n            return new Promise(function (resolve, reject) {\r\n                executor.unlock(resultWindow)\r\n                    .then(function () { return waitForLockingChanged(); })\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function waitForLockingChanged() {\r\n            return new Promise(function (resolve) {\r\n                var un = onLockingChanged(function (window) {\r\n                    if (window.id === resultWindow.id) {\r\n                        un();\r\n                        resolve();\r\n                    }\r\n                });\r\n            });\r\n        }\r\n        function getIcon(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.getIcon(resultWindow)\r\n                    .then(function (icon) {\r\n                    if (typeof success === \"function\") {\r\n                        success(icon);\r\n                    }\r\n                    resolve(icon);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function setIcon(base64Image, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.setIcon(resultWindow, base64Image)\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function setFrameColor(frameColor, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                var un = onFrameColorChanged(function () {\r\n                    un();\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    resolve(resultWindow);\r\n                });\r\n                executor.setFrameColor(resultWindow, frameColor)\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function setTabHeaderVisible(toBeTabHeaderVisible, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                if (_isTabHeaderVisible === toBeTabHeaderVisible) {\r\n                    if (typeof success === \"function\") {\r\n                        success(resultWindow);\r\n                    }\r\n                    return resolve(resultWindow);\r\n                }\r\n                var un = onTabHeaderVisibilityChanged(function (win) {\r\n                    if (win.id === id && win.isTabHeaderVisible === toBeTabHeaderVisible) {\r\n                        if (typeof success === \"function\") {\r\n                            success(resultWindow);\r\n                        }\r\n                        un();\r\n                        resolve(resultWindow);\r\n                    }\r\n                });\r\n                executor.setTabHeaderVisible(resultWindow, toBeTabHeaderVisible)\r\n                    .catch(function (e) {\r\n                    if (typeof error === \"function\") {\r\n                        error(e);\r\n                    }\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function setTabTooltip(tooltip) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    if (!tooltip) {\r\n                        throw new Error(tooltip + \" is null or undefined\");\r\n                    }\r\n                    return [2, executor.setTabTooltip(resultWindow, tooltip)];\r\n                });\r\n            });\r\n        }\r\n        function showPopup(config) {\r\n            return executor.showPopup(resultWindow, config);\r\n        }\r\n        function createFlydown(config) {\r\n            return executor.createFlydown(resultWindow.id, config);\r\n        }\r\n        function setModalState(isModal) {\r\n            return executor.setModalState(resultWindow.id, isModal || false);\r\n        }\r\n        function zoomIn(success, error) {\r\n            return Utils$1.callbackifyPromise(function () {\r\n                return executor.zoomIn(resultWindow);\r\n            }, success, error);\r\n        }\r\n        function zoomOut(success, error) {\r\n            return Utils$1.callbackifyPromise(function () {\r\n                return executor.zoomOut(resultWindow);\r\n            }, success, error);\r\n        }\r\n        function setZoomFactor(zoomFactor, success, error) {\r\n            return Utils$1.callbackifyPromise(function () {\r\n                if (isNaN(zoomFactor)) {\r\n                    throw new Error(\"zoomFactor is not a number\");\r\n                }\r\n                return executor.setZoomFactor(resultWindow, zoomFactor);\r\n            }, success, error);\r\n        }\r\n        function showDevTools() {\r\n            return executor.showDevTools(resultWindow);\r\n        }\r\n        function capture(captureOptions) {\r\n            return executor.capture(resultWindow, captureOptions);\r\n        }\r\n        function flash(suppliedOptions, mode) {\r\n            var flashOptions = {\r\n                shouldFlash: true,\r\n                mode: \"auto\"\r\n            };\r\n            if (typeof suppliedOptions === \"boolean\") {\r\n                flashOptions.shouldFlash = suppliedOptions;\r\n            }\r\n            if (typeof mode !== \"undefined\") {\r\n                flashOptions.mode = mode;\r\n            }\r\n            return executor.flash(resultWindow, flashOptions);\r\n        }\r\n        function print(printOptions) {\r\n            return executor.print(resultWindow, printOptions);\r\n        }\r\n        function printToPDF(printToPDFOptions) {\r\n            return executor.printToPDF(resultWindow, printToPDFOptions);\r\n        }\r\n        function ungroup(ungroupOptions) {\r\n            return new Promise(function (resolve, reject) {\r\n                var unGroupChanged = onGroupChanged(function (win, newGroup, oldGroup) {\r\n                    if (id === win.id) {\r\n                        unGroupChanged();\r\n                        resolve(resultWindow);\r\n                    }\r\n                });\r\n                executor.ungroup(resultWindow, ungroupOptions)\r\n                    .catch(function (e) {\r\n                    unGroupChanged();\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function place(placementSettings) {\r\n            return executor.place(resultWindow, placementSettings);\r\n        }\r\n        function onTitleChanged(callback) {\r\n            callback(resultWindow.title, resultWindow);\r\n            return _registry.add(\"onTitleChanged\", callback);\r\n        }\r\n        function onClose(callback) {\r\n            return _registry.add(\"onClose\", callback);\r\n        }\r\n        function onUrlChanged(callback) {\r\n            return _registry.add(\"onUrlChanged\", callback);\r\n        }\r\n        function onFrameButtonAdded(callback) {\r\n            return _registry.add(\"onFrameButtonAdded\", callback);\r\n        }\r\n        function onFrameButtonRemoved(callback) {\r\n            return _registry.add(\"onFrameButtonRemoved\", callback);\r\n        }\r\n        function onFrameButtonClicked(callback) {\r\n            return _registry.add(\"onFrameButtonClicked\", callback);\r\n        }\r\n        function onCollapsed(callback) {\r\n            if (isCollapsed) {\r\n                callback(resultWindow);\r\n            }\r\n            return _registry.add(\"collapsed\", callback);\r\n        }\r\n        function onExpanded(callback) {\r\n            if (!isCollapsed) {\r\n                callback(resultWindow);\r\n            }\r\n            return _registry.add(\"expanded\", callback);\r\n        }\r\n        function onMaximized(callback) {\r\n            if (_windowState === \"maximized\") {\r\n                callback(resultWindow);\r\n            }\r\n            return _registry.add(\"maximized\", callback);\r\n        }\r\n        function onMinimized(callback) {\r\n            if (_windowState === \"minimized\") {\r\n                callback(resultWindow);\r\n            }\r\n            return _registry.add(\"minimized\", callback);\r\n        }\r\n        function onNormal(callback) {\r\n            if (_windowState === \"normal\") {\r\n                callback(resultWindow);\r\n            }\r\n            return _registry.add(\"normal\", callback);\r\n        }\r\n        function onAttached(callback) {\r\n            return _registry.add(\"attached\", callback);\r\n        }\r\n        function onDetached(callback) {\r\n            return _registry.add(\"detached\", callback);\r\n        }\r\n        function onVisibilityChanged(callback) {\r\n            return _registry.add(\"visibility-changed\", callback);\r\n        }\r\n        function onContextUpdated(callback) {\r\n            return _registry.add(\"context-updated\", callback);\r\n        }\r\n        function onLockingChanged(callback) {\r\n            return _registry.add(\"lock-changed\", callback);\r\n        }\r\n        function onBoundsChanged(callback) {\r\n            return _registry.add(\"bounds-changed\", callback);\r\n        }\r\n        function onFocusChanged(callback) {\r\n            return _registry.add(\"focus-changed\", callback);\r\n        }\r\n        function onStickyChanged(callback) {\r\n            return _registry.add(\"sticky-changed\", callback);\r\n        }\r\n        function onFrameColorChanged(callback) {\r\n            return _registry.add(\"frame-color-changed\", callback);\r\n        }\r\n        function onTabHeaderVisibilityChanged(callback) {\r\n            return _registry.add(\"tab-header-visibility-changed\", callback);\r\n        }\r\n        function onWindowAttached(callback) {\r\n            return _registry.add(\"window-attached\", callback);\r\n        }\r\n        function onWindowDetached(callback) {\r\n            return _registry.add(\"window-detached\", callback);\r\n        }\r\n        function onGroupChanged(callback) {\r\n            return _registry.add(\"group-changed\", callback);\r\n        }\r\n        function onTabSelectionChanged(callback) {\r\n            return _registry.add(\"tab-selection-changed\", callback);\r\n        }\r\n        function onClosing(callback) {\r\n            if (!isFunction(callback)) {\r\n                throw new Error(\"callback should be a function\");\r\n            }\r\n            var callbackWrap = function (success, error) {\r\n                var promise = callback();\r\n                if (promise && promise.then) {\r\n                    promise.then(success).catch(error);\r\n                }\r\n                else {\r\n                    success();\r\n                }\r\n            };\r\n            return executor.onClosing(callbackWrap, id);\r\n        }\r\n        function onRefreshing(callback) {\r\n            if (!isFunction(callback)) {\r\n                throw new Error(\"callback should be a function\");\r\n            }\r\n            var callbackWrap = function (success, error, prevent) {\r\n                var promise = callback(prevent);\r\n                if (promise && promise.then) {\r\n                    promise.then(success).catch(error);\r\n                }\r\n                else {\r\n                    success();\r\n                }\r\n            };\r\n            return executor.onRefreshing(callbackWrap, id);\r\n        }\r\n        function onZoomFactorChanged(callback) {\r\n            if (!isFunction(callback)) {\r\n                throw new Error(\"callback should be a function\");\r\n            }\r\n            return _registry.add(\"zoom-factor-changed\", callback);\r\n        }\r\n        function onPlacementSettingsChanged(callback) {\r\n            if (!isFunction(callback)) {\r\n                throw new Error(\"callback should be a function\");\r\n            }\r\n            return _registry.add(\"placementSettingsChanged\", callback);\r\n        }\r\n        function onNeighboursChanged(callback) {\r\n            if (!isFunction(callback)) {\r\n                throw new Error(\"callback should be a function\");\r\n            }\r\n            return _registry.add(\"neighbours-changed\", callback);\r\n        }\r\n        function handleTitleChanged(newTitle) {\r\n            _title = newTitle;\r\n            _registry.execute(\"onTitleChanged\", newTitle, resultWindow);\r\n        }\r\n        function handleUrlChanged(newUrl) {\r\n            _url = newUrl;\r\n            _registry.execute(\"onUrlChanged\", newUrl, resultWindow);\r\n        }\r\n        function handleVisibilityChanged(isVisible) {\r\n            if (isVisible === _isVisible) {\r\n                return;\r\n            }\r\n            _isVisible = isVisible;\r\n            _registry.execute(\"visibility-changed\", resultWindow);\r\n        }\r\n        function handleWindowSettingsChanged(settings) {\r\n            _settings = settings;\r\n            _registry.execute(\"settings-changed\", resultWindow);\r\n        }\r\n        function handleContextUpdated(context) {\r\n            _context = context;\r\n            _registry.execute(\"context-updated\", _context, resultWindow);\r\n        }\r\n        function handleWindowClose() {\r\n            if (resultWindow.id === undefined) {\r\n                return;\r\n            }\r\n            _registry.execute(\"onClose\", resultWindow);\r\n            resultWindow.id = undefined;\r\n        }\r\n        function handleFrameButtonAdded(frameButton) {\r\n            var buttonObj = [\"buttonId\", \"imageBase64\", \"order\", \"tooltip\"].reduce(function (memo, k) {\r\n                memo[k] = frameButton[k];\r\n                return memo;\r\n            }, {});\r\n            var frameButtonsIds = _frameButtons.map(function (btn) {\r\n                return btn.buttonId;\r\n            });\r\n            if (frameButtonsIds.indexOf(frameButton.buttonId) === -1) {\r\n                _frameButtons.push(buttonObj);\r\n            }\r\n            _registry.execute(\"onFrameButtonAdded\", buttonObj, resultWindow);\r\n        }\r\n        function handleFrameButtonRemoved(frameButtonId) {\r\n            var button;\r\n            _frameButtons = _frameButtons.reduce(function (memo, btn) {\r\n                if (btn.buttonId === frameButtonId) {\r\n                    button = btn;\r\n                }\r\n                else {\r\n                    memo.push(btn);\r\n                }\r\n                return memo;\r\n            }, []);\r\n            if (button !== undefined) {\r\n                _registry.execute(\"onFrameButtonRemoved\", button, resultWindow);\r\n            }\r\n        }\r\n        function handleFrameButtonClicked(frameButton) {\r\n            var button = _frameButtons.filter(function (btn) {\r\n                return btn.buttonId === frameButton.buttonId;\r\n            });\r\n            if (button.length > 0) {\r\n                _registry.execute(\"onFrameButtonClicked\", button[0], resultWindow);\r\n            }\r\n        }\r\n        function handleWindowChangeState(state) {\r\n            if (state === \"collapsed\") {\r\n                isCollapsed = true;\r\n            }\r\n            else if (state === \"expanded\") {\r\n                isCollapsed = false;\r\n            }\r\n            else {\r\n                _windowState = state;\r\n            }\r\n            _registry.execute(state, resultWindow);\r\n        }\r\n        function handleFrameIsLockedChanged(isLocked) {\r\n            _isLocked = isLocked;\r\n            _registry.execute(\"lock-changed\", resultWindow);\r\n        }\r\n        function handleBoundsChanged(bounds) {\r\n            if (_bounds.top === bounds.top && _bounds.left === bounds.left && _bounds.width === bounds.width && _bounds.height === bounds.height) {\r\n                return;\r\n            }\r\n            _bounds.top = bounds.top;\r\n            _bounds.left = bounds.left;\r\n            _bounds.width = bounds.width;\r\n            _bounds.height = bounds.height;\r\n            _registry.execute(\"bounds-changed\", resultWindow);\r\n        }\r\n        function handleFocusChanged(isFocused) {\r\n            _focus = isFocused;\r\n            _registry.execute(\"focus-changed\", resultWindow);\r\n        }\r\n        function handleIsStickyChanged(isSticky) {\r\n            _isSticky = isSticky;\r\n            _registry.execute(\"sticky-changed\", isSticky, resultWindow);\r\n        }\r\n        function handleFrameColorChanged(frameColor) {\r\n            _frameColor = frameColor;\r\n            _registry.execute(\"frame-color-changed\", resultWindow);\r\n        }\r\n        function handleFrameAttached(tabGroupId, isTabHeaderVisible) {\r\n            _tabGroupId = tabGroupId;\r\n            _isTabHeaderVisible = isTabHeaderVisible;\r\n            _registry.execute(\"frame-attached\", resultWindow);\r\n        }\r\n        function handleCompositionChanged(neighbours, groupId) {\r\n            _neighbours = neighbours || {};\r\n            _registry.execute(\"neighbours-changed\", neighbours, resultWindow);\r\n            _groupId = groupId;\r\n            if (resultWindow.groupId !== groupId) {\r\n                _registry.execute(\"group-changed\", resultWindow);\r\n            }\r\n        }\r\n        function handleGroupHeaderVisibilityChanged(isGroupHeaderVisible) {\r\n            _isGroupHeaderVisible = isGroupHeaderVisible;\r\n        }\r\n        function handleTabHeaderVisibilityChanged(isTabHeaderVisible) {\r\n            if (_isTabHeaderVisible !== isTabHeaderVisible) {\r\n                _isTabHeaderVisible = isTabHeaderVisible;\r\n                _registry.execute(\"tab-header-visibility-changed\", resultWindow);\r\n            }\r\n        }\r\n        function handleFrameSelectionChanged(newWindow, prevWindow) {\r\n            var selectedWindow;\r\n            if (typeof newWindow !== \"undefined\" && newWindow === id) {\r\n                _isTabSelected = true;\r\n                selectedWindow = resultWindow;\r\n            }\r\n            else {\r\n                _isTabSelected = false;\r\n                selectedWindow = windowStore.get(newWindow) ? windowStore.get(newWindow).API : undefined;\r\n            }\r\n            var previousWindow = windowStore.get(prevWindow) ? windowStore.get(prevWindow).API : undefined;\r\n            if (_isTabSelected && previousWindow) {\r\n                var un_1 = previousWindow.onTabSelectionChanged(function (newWin, prevWin) {\r\n                    if ((prevWin && prevWin.id) === previousWindow.id) {\r\n                        un_1();\r\n                        _registry.execute(\"tab-selection-changed\", selectedWindow, previousWindow, resultWindow);\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                _registry.execute(\"tab-selection-changed\", selectedWindow, previousWindow, resultWindow);\r\n            }\r\n        }\r\n        function handleAttached(newTabGroupId, tabHeaderVisible) {\r\n            _tabGroupId = newTabGroupId;\r\n            _isTabHeaderVisible = tabHeaderVisible;\r\n            _registry.execute(\"attached\", resultWindow);\r\n        }\r\n        function handleWindowAttached(win) {\r\n            _registry.execute(\"window-attached\", win);\r\n        }\r\n        function handleDetached(tabGroupId) {\r\n            _tabGroupId = tabGroupId;\r\n            var un = _registry.add(\"frame-attached\", function (win) {\r\n                if (win.id === id) {\r\n                    un();\r\n                    _registry.execute(\"detached\", resultWindow);\r\n                }\r\n            });\r\n        }\r\n        function handleWindowDetached(win) {\r\n            _registry.execute(\"window-detached\", win);\r\n        }\r\n        function handleZoomFactorChanged(zoomFactor) {\r\n            _zoomFactor = zoomFactor;\r\n            _registry.execute(\"zoom-factor-changed\", resultWindow);\r\n        }\r\n        function handlePlacementSettingsChanged(placementSettings) {\r\n            var promise;\r\n            var copy = placementSettings;\r\n            if (!copy.display) {\r\n                promise = Promise.resolve(undefined);\r\n            }\r\n            else {\r\n                var displayAPI_1 = displayAPIGetter();\r\n                if (!displayAPI_1) {\r\n                    promise = Promise.resolve(undefined);\r\n                }\r\n                else {\r\n                    var index_1 = copy.display - 1;\r\n                    promise = new Promise(function (resolve, reject) {\r\n                        displayAPI_1.all().then(function (displays) {\r\n                            var display = displays.find(function (d) { return d.index === index_1; });\r\n                            resolve(display);\r\n                        }).catch(reject);\r\n                    });\r\n                }\r\n            }\r\n            promise.then(function (d) {\r\n                copy.display = d;\r\n                _placementSettings = copy;\r\n                _registry.execute(\"placementSettingsChanged\", resultWindow);\r\n            });\r\n        }\r\n        function handleGroupChanged(newGroup, oldGroup) {\r\n            _logger.trace(\"handle group changed to win: \" + id + \" with group id: \" + newGroup.id);\r\n            _group = newGroup;\r\n            _groupId = newGroup.id;\r\n            _registry.execute(\"group-changed\", resultWindow, newGroup, oldGroup);\r\n        }\r\n        function handleGroupAssociation(group) {\r\n            if (group) {\r\n                _logger.trace(\"setting group to win: \" + id + \" with group id: \" + group.id);\r\n            }\r\n            _group = group;\r\n        }\r\n        function getAllTabs() {\r\n            var allWindows = windowStore.list;\r\n            if (_mode.toLowerCase() !== \"tab\") {\r\n                return [];\r\n            }\r\n            return Object.keys(allWindows).reduce(function (memo, win) {\r\n                var window = allWindows[win];\r\n                if (window\r\n                    && window.API.tabGroupId\r\n                    && typeof window.API.tabGroupId !== \"undefined\"\r\n                    && typeof resultWindow.tabGroupId !== \"undefined\"\r\n                    && window.API.tabGroupId === resultWindow.tabGroupId) {\r\n                    memo.push(window.API);\r\n                }\r\n                return memo;\r\n            }, []);\r\n        }\r\n        function mapWindowIdsToWindowObjects(windowIdArr) {\r\n            return windowIdArr.reduce(function (memo, winId) {\r\n                var window = windowStore.get(winId);\r\n                if (window) {\r\n                    memo.push(window.API);\r\n                }\r\n                return memo;\r\n            }, []);\r\n        }\r\n        function getNeighboursByDirection(direction) {\r\n            var windowIds = _neighbours[direction];\r\n            if (typeof windowIds !== \"undefined\") {\r\n                return mapWindowIdsToWindowObjects(windowIds);\r\n            }\r\n        }\r\n        function getApplicationName() {\r\n            if (_context._APPLICATION_NAME) {\r\n                return _context._APPLICATION_NAME;\r\n            }\r\n            if (_context && _context._t42 && _context._t42.application) {\r\n                return _context._t42.application;\r\n            }\r\n            var info = getWindowInfo();\r\n            if (!info) {\r\n                return undefined;\r\n            }\r\n            return info.applicationName;\r\n        }\r\n        function getWindowInfo() {\r\n            if (typeof window !== \"undefined\" && window.glue42gd && window.glue42gd.getWindowInfo) {\r\n                var info = window.glue42gd.getWindowInfo(id);\r\n                if (!info) {\r\n                    return undefined;\r\n                }\r\n                else {\r\n                    return info;\r\n                }\r\n            }\r\n        }\r\n        function areBoundsEqual(requested, current) {\r\n            var height = requested.height;\r\n            var width = requested.width;\r\n            if (requested.height < _settings.minHeight) {\r\n                height = _settings.minHeight;\r\n            }\r\n            if (requested.height > _settings.maxHeight) {\r\n                height = _settings.maxHeight;\r\n            }\r\n            if (requested.width < _settings.minWidth) {\r\n                width = _settings.minWidth;\r\n            }\r\n            if (requested.width > _settings.maxWidth) {\r\n                width = _settings.maxWidth;\r\n            }\r\n            var areHeightsEqual = height ? current.height === height : true;\r\n            var areWidthsEqual = width ? current.width === width : true;\r\n            var areLeftsEqual = requested.left ? current.left === requested.left : true;\r\n            var areTopsEqual = requested.top ? current.top === requested.top : true;\r\n            return areHeightsEqual && areWidthsEqual && areLeftsEqual && areTopsEqual;\r\n        }\r\n        resultWindow = {\r\n            get name() {\r\n                return _name;\r\n            },\r\n            get application() {\r\n                var appManager = appManagerGetter();\r\n                return appManager ? appManager.application(getApplicationName()) : undefined;\r\n            },\r\n            get hostInstance() {\r\n                return executor.hostInstance;\r\n            },\r\n            get agmInstance() {\r\n                var _this = this;\r\n                if (typeof window !== \"undefined\" && window.glue42gd) {\r\n                    return agm.servers().find(function (s) { return s.windowId === _this.id; });\r\n                }\r\n                var appName = getApplicationName();\r\n                return appName ? { application: appName } : undefined;\r\n            },\r\n            get url() {\r\n                return _url;\r\n            },\r\n            id: id,\r\n            get title() {\r\n                return _title;\r\n            },\r\n            get windowStyleAttributes() {\r\n                return _settings;\r\n            },\r\n            get settings() {\r\n                return _settings;\r\n            },\r\n            get tabGroupId() {\r\n                return _mode.toLowerCase() === \"tab\" ? _tabGroupId : undefined;\r\n            },\r\n            get frameButtons() {\r\n                return _frameButtons;\r\n            },\r\n            get mode() {\r\n                return _mode;\r\n            },\r\n            get state() {\r\n                return _windowState;\r\n            },\r\n            get isCollapsed() {\r\n                return isCollapsed;\r\n            },\r\n            get isVisible() {\r\n                return _isVisible;\r\n            },\r\n            get isLocked() {\r\n                return _isLocked;\r\n            },\r\n            get context() {\r\n                return _context;\r\n            },\r\n            get bounds() {\r\n                return _bounds;\r\n            },\r\n            get minHeight() {\r\n                return _settings.minHeight;\r\n            },\r\n            get maxHeight() {\r\n                return _settings.maxHeight;\r\n            },\r\n            get minWidth() {\r\n                return _settings.minWidth;\r\n            },\r\n            get maxWidth() {\r\n                return _settings.maxWidth;\r\n            },\r\n            get isFocused() {\r\n                return _focus;\r\n            },\r\n            get frameColor() {\r\n                return _frameColor;\r\n            },\r\n            get opened() {\r\n                return resultWindow.id !== undefined;\r\n            },\r\n            get group() {\r\n                return _group;\r\n            },\r\n            get groupId() {\r\n                return _groupId;\r\n            },\r\n            get isSticky() {\r\n                return _isSticky;\r\n            },\r\n            get topNeighbours() {\r\n                return getNeighboursByDirection(\"top\");\r\n            },\r\n            get leftNeighbours() {\r\n                return getNeighboursByDirection(\"left\");\r\n            },\r\n            get rightNeighbours() {\r\n                return getNeighboursByDirection(\"right\");\r\n            },\r\n            get bottomNeighbours() {\r\n                return getNeighboursByDirection(\"bottom\");\r\n            },\r\n            get isGroupHeaderVisible() {\r\n                return _isGroupHeaderVisible;\r\n            },\r\n            get activityId() {\r\n                if (_context._t42) {\r\n                    return _context._t42.activityId;\r\n                }\r\n                var info = getWindowInfo();\r\n                if (!info) {\r\n                    return undefined;\r\n                }\r\n                return info.activityId;\r\n            },\r\n            get activityWindowId() {\r\n                if (_context._t42) {\r\n                    return _context._t42.activityWindowId;\r\n                }\r\n                var info = getWindowInfo();\r\n                if (!info) {\r\n                    return undefined;\r\n                }\r\n                return info.activityWindowId;\r\n            },\r\n            get windowType() {\r\n                return options.windowType || \"electron\";\r\n            },\r\n            get zoomFactor() {\r\n                return _zoomFactor;\r\n            },\r\n            get screen() {\r\n                if (typeof window !== \"undefined\" && window.glue42gd) {\r\n                    return Utils$1.getMonitor(resultWindow.bounds, window.glue42gd.monitors);\r\n                }\r\n                return undefined;\r\n            },\r\n            get placementSettings() {\r\n                return Object.assign({}, _placementSettings);\r\n            },\r\n            maximize: maximize,\r\n            restore: restore,\r\n            minimize: minimize,\r\n            maximizeRestore: maximizeRestore,\r\n            collapse: collapse,\r\n            expand: expand,\r\n            toggleCollapse: toggleCollapse,\r\n            focus: focus,\r\n            activate: activate,\r\n            moveResize: moveResize,\r\n            setTitle: setTitle,\r\n            setStyle: setStyle,\r\n            setOnTop: setOnTop,\r\n            resetButtons: resetButtons,\r\n            setSizeConstraints: setSizeConstraints,\r\n            navigate: navigate,\r\n            addFrameButton: addFrameButton,\r\n            removeFrameButton: removeFrameButton,\r\n            setVisible: setVisible,\r\n            show: function () { return setVisible(true); },\r\n            hide: function () { return setVisible(false); },\r\n            center: function (screen) { return moveResize(Utils$1.getDisplayCenterOfScreen(resultWindow.bounds, screen || resultWindow.screen)); },\r\n            close: close,\r\n            snap: snap,\r\n            showLoader: showLoader,\r\n            hideLoader: hideLoader,\r\n            updateContext: updateContext,\r\n            lock: lock,\r\n            unlock: unlock,\r\n            getIcon: getIcon,\r\n            setIcon: setIcon,\r\n            setFrameColor: setFrameColor,\r\n            setTabTooltip: setTabTooltip,\r\n            attachTab: attachTab,\r\n            detachTab: detachTab,\r\n            setTabHeaderVisible: setTabHeaderVisible,\r\n            showPopup: showPopup,\r\n            createFlydown: createFlydown,\r\n            setModalState: setModalState,\r\n            setZoomFactor: setZoomFactor,\r\n            zoomIn: zoomIn,\r\n            zoomOut: zoomOut,\r\n            showDevTools: showDevTools,\r\n            capture: capture,\r\n            flash: flash,\r\n            setSticky: setSticky,\r\n            print: print,\r\n            printToPDF: printToPDF,\r\n            place: place,\r\n            ungroup: ungroup,\r\n            onClose: onClose,\r\n            onUrlChanged: onUrlChanged,\r\n            onTitleChanged: onTitleChanged,\r\n            onFrameButtonAdded: onFrameButtonAdded,\r\n            onFrameButtonRemoved: onFrameButtonRemoved,\r\n            onFrameButtonClicked: onFrameButtonClicked,\r\n            onCollapsed: onCollapsed,\r\n            onExpanded: onExpanded,\r\n            onMinimized: onMinimized,\r\n            onMaximized: onMaximized,\r\n            onNormal: onNormal,\r\n            onAttached: onAttached,\r\n            onDetached: onDetached,\r\n            onVisibilityChanged: onVisibilityChanged,\r\n            onContextUpdated: onContextUpdated,\r\n            onLockingChanged: onLockingChanged,\r\n            onBoundsChanged: onBoundsChanged,\r\n            onFrameColorChanged: onFrameColorChanged,\r\n            onFocusChanged: onFocusChanged,\r\n            onStickyChanged: onStickyChanged,\r\n            onGroupChanged: onGroupChanged,\r\n            onWindowAttached: onWindowAttached,\r\n            onWindowDetached: onWindowDetached,\r\n            onTabSelectionChanged: onTabSelectionChanged,\r\n            onTabHeaderVisibilityChanged: onTabHeaderVisibilityChanged,\r\n            onClosing: onClosing,\r\n            onRefreshing: onRefreshing,\r\n            onZoomFactorChanged: onZoomFactorChanged,\r\n            onPlacementSettingsChanged: onPlacementSettingsChanged,\r\n            onNeighboursChanged: onNeighboursChanged,\r\n            get tabs() {\r\n                return getAllTabs();\r\n            },\r\n            get isTabHeaderVisible() {\r\n                return _isTabHeaderVisible;\r\n            },\r\n            get isTabSelected() {\r\n                return _isTabSelected;\r\n            },\r\n            getURL: function () {\r\n                return Promise.resolve(_url);\r\n            },\r\n            getTitle: function () {\r\n                return Promise.resolve(_title);\r\n            },\r\n            getBounds: function () {\r\n                return Promise.resolve(_bounds);\r\n            },\r\n            getContext: function () {\r\n                return Promise.resolve(_context);\r\n            },\r\n            setContext: function (context) {\r\n                return updateContext(context);\r\n            },\r\n            resizeTo: function (width, height) {\r\n                return moveResize({ width: width, height: height });\r\n            },\r\n            moveTo: function (top, left) {\r\n                return moveResize({ top: top, left: left });\r\n            },\r\n            getParentWindow: function () {\r\n                var _a;\r\n                return __awaiter(this, void 0, void 0, function () {\r\n                    var myParentId;\r\n                    return __generator(this, function (_b) {\r\n                        myParentId = _settings.parentInstanceId;\r\n                        if (!myParentId) {\r\n                            return [2, undefined];\r\n                        }\r\n                        return [2, (_a = windowStore.list[myParentId]) === null || _a === void 0 ? void 0 : _a.API];\r\n                    });\r\n                });\r\n            },\r\n            getChildWindows: function () {\r\n                return __awaiter(this, void 0, void 0, function () {\r\n                    return __generator(this, function (_a) {\r\n                        return [2, Object.keys(windowStore.list)\r\n                                .map(function (key) { return windowStore.list[key].API; })\r\n                                .filter(function (w) {\r\n                                var parentId = w.settings.parentInstanceId;\r\n                                return parentId === id;\r\n                            })];\r\n                    });\r\n                });\r\n            }\r\n        };\r\n        var events = {\r\n            handleWindowClose: handleWindowClose,\r\n            handleWindowChangeState: handleWindowChangeState,\r\n            handleTitleChanged: handleTitleChanged,\r\n            handleVisibilityChanged: handleVisibilityChanged,\r\n            handleUrlChanged: handleUrlChanged,\r\n            handleWindowSettingsChanged: handleWindowSettingsChanged,\r\n            handleContextUpdated: handleContextUpdated,\r\n            handleFrameIsLockedChanged: handleFrameIsLockedChanged,\r\n            handleBoundsChanged: handleBoundsChanged,\r\n            handleFocusChanged: handleFocusChanged,\r\n            handleFrameButtonAdded: handleFrameButtonAdded,\r\n            handleFrameButtonRemoved: handleFrameButtonRemoved,\r\n            handleFrameButtonClicked: handleFrameButtonClicked,\r\n            handleFrameColorChanged: handleFrameColorChanged,\r\n            handleFrameAttached: handleFrameAttached,\r\n            handleFrameSelectionChanged: handleFrameSelectionChanged,\r\n            handleCompositionChanged: handleCompositionChanged,\r\n            handleGroupHeaderVisibilityChanged: handleGroupHeaderVisibilityChanged,\r\n            handleTabHeaderVisibilityChanged: handleTabHeaderVisibilityChanged,\r\n            handleGroupChanged: handleGroupChanged,\r\n            handleGroupAssociation: handleGroupAssociation,\r\n            handleAttached: handleAttached,\r\n            handleDetached: handleDetached,\r\n            handleWindowAttached: handleWindowAttached,\r\n            handleWindowDetached: handleWindowDetached,\r\n            handleZoomFactorChanged: handleZoomFactorChanged,\r\n            handleIsStickyChanged: handleIsStickyChanged,\r\n            handlePlacementSettingsChanged: handlePlacementSettingsChanged,\r\n        };\r\n        return {\r\n            API: resultWindow,\r\n            Events: events,\r\n            Registry: _registry\r\n        };\r\n    });\n\n    var GDExecutor = (function () {\r\n        function GDExecutor() {\r\n            this._registry = lib$2();\r\n        }\r\n        Object.defineProperty(GDExecutor.prototype, \"hostInstance\", {\r\n            get: function () {\r\n                return this.agmTarget;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        GDExecutor.prototype.init = function (agm, instance) {\r\n            this.agm = agm;\r\n            this.agmTarget = instance;\r\n        };\r\n        GDExecutor.prototype.close = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"close\", { windowId: resultWindow.id })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.navigate = function (resultWindow, newUrl) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"navigate\", {\r\n                    windowId: resultWindow.id,\r\n                    options: {\r\n                        url: newUrl\r\n                    }\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.setStyle = function (resultWindow, style) {\r\n            var _a;\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var stylePromises, wait, toBeVisible, toolTip, maxWidth, maxHeight, minWidth, minHeight, allowClose, allowCollapse, allowLockUnlock, allowMaximize, allowMinimize;\r\n                return __generator(this, function (_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            stylePromises = [];\r\n                            wait = function (promise) { return stylePromises.push(promise); };\r\n                            if (style.focus !== undefined && !resultWindow.isFocused) {\r\n                                wait(resultWindow.focus());\r\n                            }\r\n                            if (style.hidden !== undefined) {\r\n                                toBeVisible = !style.hidden;\r\n                                wait(resultWindow.setVisible(toBeVisible));\r\n                            }\r\n                            if (style.onTop !== undefined) {\r\n                                wait(resultWindow.setOnTop(style.onTop));\r\n                            }\r\n                            if (style.tabTooltip !== undefined || style.tabToolTip !== undefined) {\r\n                                toolTip = (_a = style.tabTooltip, (_a !== null && _a !== void 0 ? _a : style.tabToolTip));\r\n                                wait(resultWindow.setTabTooltip(toolTip));\r\n                            }\r\n                            maxWidth = style.maxWidth, maxHeight = style.maxHeight, minWidth = style.minWidth, minHeight = style.minHeight, allowClose = style.allowClose, allowCollapse = style.allowCollapse, allowLockUnlock = style.allowLockUnlock, allowMaximize = style.allowMaximize, allowMinimize = style.allowMinimize;\r\n                            wait(resultWindow.setSizeConstraints({ maxWidth: maxWidth, maxHeight: maxHeight, minWidth: minWidth, minHeight: minHeight }));\r\n                            wait(resultWindow.resetButtons({ allowClose: allowClose, allowCollapse: allowCollapse, allowLockUnlock: allowLockUnlock, allowMaximize: allowMaximize, allowMinimize: allowMinimize }));\r\n                            return [4, Promise.all(stylePromises)];\r\n                        case 1:\r\n                            _b.sent();\r\n                            return [2, resultWindow];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.setSizeConstraints = function (resultWindow, constraints) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"setSizeConstraints\", {\r\n                    windowId: resultWindow.id,\r\n                    options: constraints\r\n                }).then(function () {\r\n                    resolve(resultWindow);\r\n                }).catch(reject);\r\n            });\r\n        };\r\n        GDExecutor.prototype.setTabTooltip = function (w, tabToolTip) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.execute(\"setTabTooltip\", { windowId: w.id, options: { tabToolTip: tabToolTip } })];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2, w];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.resetButtons = function (resultWindow, buttonsConfig) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"resetButtons\", {\r\n                    windowId: resultWindow.id,\r\n                    options: buttonsConfig\r\n                }).then(function () {\r\n                    resolve(resultWindow);\r\n                }).catch(reject);\r\n            });\r\n        };\r\n        GDExecutor.prototype.setOnTop = function (resultWindow, onTop) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"setOnTop\", {\r\n                    windowId: resultWindow.id,\r\n                    options: { onTop: onTop }\r\n                }).then(function () {\r\n                    resolve(resultWindow);\r\n                }).catch(reject);\r\n            });\r\n        };\r\n        GDExecutor.prototype.setTitle = function (resultWindow, newTitle) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                var options = {\r\n                    windowId: resultWindow.id,\r\n                    options: {\r\n                        title: newTitle\r\n                    }\r\n                };\r\n                _this.execute(\"setTitle\", options)\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.setSticky = function (resultWindow, isSticky) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                var options = {\r\n                    windowId: resultWindow.id,\r\n                    options: {\r\n                        isSticky: isSticky\r\n                    }\r\n                };\r\n                _this.execute(\"setSticky\", options)\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.moveResize = function (resultWindow, dimensions) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"moveResize\", {\r\n                    windowId: resultWindow.id,\r\n                    options: {\r\n                        bounds: dimensions\r\n                    }\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.addFrameButton = function (resultWindow, buttonInfo) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"addButton\", {\r\n                    windowId: resultWindow.id,\r\n                    options: buttonInfo\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.removeFrameButton = function (resultWindow, buttonId) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"removeButton\", {\r\n                    windowId: resultWindow.id,\r\n                    options: buttonId\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.activate = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"activate\", { windowId: resultWindow.id })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.focus = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"focus\", { windowId: resultWindow.id })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.maximizeRestore = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"maximizeRestore\", { windowId: resultWindow.id })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.maximize = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"maximize\", { windowId: resultWindow.id })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.restore = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"restore\", { windowId: resultWindow.id })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.minimize = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"minimize\", { windowId: resultWindow.id })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.collapse = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"collapse\", { windowId: resultWindow.id })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.expand = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"expand\", { windowId: resultWindow.id })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.toggleCollapse = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"toggleCollapse\", { windowId: resultWindow.id })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.snap = function (resultWindow, target, direction) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                var sourceWindowId = resultWindow.id;\r\n                var targetWindowId;\r\n                var errorMessage = \"Invalid target parameter - should be an object with property id or a string. Invoked for source window id:\" +\r\n                    resultWindow.id;\r\n                if (!target) {\r\n                    reject(errorMessage);\r\n                    return;\r\n                }\r\n                if (typeof target === \"string\") {\r\n                    targetWindowId = target;\r\n                }\r\n                else if (typeof target.id !== \"undefined\") {\r\n                    targetWindowId = target.id;\r\n                }\r\n                else {\r\n                    reject(errorMessage);\r\n                    return;\r\n                }\r\n                var args = {\r\n                    targetWindowId: targetWindowId\r\n                };\r\n                if (direction) {\r\n                    args.snappingEdge = direction;\r\n                }\r\n                _this.execute(\"snap\", {\r\n                    windowId: resultWindow.id,\r\n                    options: args\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.attachTab = function (resultWindow, options) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"attachTab\", {\r\n                    windowId: resultWindow.id,\r\n                    options: options\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.detachTab = function (resultWindow, options) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"detachTab\", {\r\n                    windowId: resultWindow.id,\r\n                    options: options\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.setVisible = function (resultWindow, toBeVisible) {\r\n            var _this = this;\r\n            if (toBeVisible === void 0) { toBeVisible = true; }\r\n            return new Promise(function (resolve, reject) {\r\n                var command;\r\n                if (toBeVisible) {\r\n                    command = \"show\";\r\n                }\r\n                else {\r\n                    command = \"hide\";\r\n                }\r\n                _this.execute(command, { windowId: resultWindow.id })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.showLoader = function (resultWindow, loader) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"showLoadingAnimation\", { windowId: resultWindow.id, options: loader })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.hideLoader = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"hideLoadingAnimation\", { windowId: resultWindow.id })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.updateContext = function (resultWindow, context) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"updateContext\", {\r\n                    windowId: resultWindow.id,\r\n                    context: context,\r\n                    replace: Object.keys(resultWindow.context).length > 0 ? false : true\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.lock = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"lockUnlock\", {\r\n                    windowId: resultWindow.id,\r\n                    options: {\r\n                        lock: true\r\n                    }\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.unlock = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"lockUnlock\", {\r\n                    windowId: resultWindow.id,\r\n                    options: {\r\n                        lock: false\r\n                    }\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.getIcon = function (resultWindow) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"getIcon\", {\r\n                    windowId: resultWindow.id,\r\n                    options: {}\r\n                })\r\n                    .then(function (result) {\r\n                    resolve(result.icon);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.setIcon = function (resultWindow, base64Image) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"setIcon\", {\r\n                    windowId: resultWindow.id,\r\n                    options: {\r\n                        dataURL: base64Image\r\n                    }\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.setFrameColor = function (resultWindow, frameColor) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"setFrameColor\", {\r\n                    windowId: resultWindow.id,\r\n                    options: {\r\n                        frameColor: frameColor\r\n                    }\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.setTabHeaderVisible = function (resultWindow, toBeTabHeaderVisible) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.execute(\"setTabHeaderVisible\", {\r\n                    windowId: resultWindow.id,\r\n                    options: {\r\n                        toShow: toBeTabHeaderVisible\r\n                    }\r\n                })\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.showPopup = function (targetWindow, options) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var optionsCopy, reformatedOptions;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (!options) {\r\n                                return [2, Promise.reject(\"The options object is not valid!\")];\r\n                            }\r\n                            optionsCopy = __assign({}, options);\r\n                            if (!optionsCopy.targetLocation) {\r\n                                optionsCopy.targetLocation = \"bottom\";\r\n                            }\r\n                            reformatedOptions = __assign(__assign({}, optionsCopy), { popupBounds: optionsCopy.size, targetId: targetWindow.id, popupId: optionsCopy.windowId });\r\n                            return [4, this.execute(\"showPopupWindow\", {\r\n                                    windowId: targetWindow.id,\r\n                                    options: reformatedOptions\r\n                                })];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2, targetWindow];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.createFlydown = function (windowId, options) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var optionsCopy, fullOptions;\r\n                var _this = this;\r\n                return __generator(this, function (_a) {\r\n                    if (!options) {\r\n                        return [2, Promise.reject(\"The options object is not valid!\")];\r\n                    }\r\n                    optionsCopy = __assign({}, options);\r\n                    if (!optionsCopy.horizontalOffset) {\r\n                        optionsCopy.horizontalOffset = 0;\r\n                    }\r\n                    if (!optionsCopy.verticalOffset) {\r\n                        optionsCopy.verticalOffset = 0;\r\n                    }\r\n                    fullOptions = this.reformatFlydownOptions(windowId, optionsCopy);\r\n                    return [2, this.execute(\"setFlydownArea\", { windowId: windowId, options: fullOptions }).then(function () {\r\n                            var zoneIds = fullOptions.zones.map(function (z) { return z.id; });\r\n                            fullOptions.zones.forEach(function (z) {\r\n                                var callback = typeof (z.flydownSize) === \"function\" ?\r\n                                    z.flydownSize : function () { return z.flydownSize; };\r\n                                if (options.size instanceof Function && z.flydownSize) {\r\n                                    callback = function (data, cancel) { return __awaiter(_this, void 0, void 0, function () {\r\n                                        var result;\r\n                                        return __generator(this, function (_a) {\r\n                                            switch (_a.label) {\r\n                                                case 0:\r\n                                                    if (!(options.size instanceof Function)) return [3, 2];\r\n                                                    return [4, options.size(data, cancel)];\r\n                                                case 1:\r\n                                                    result = _a.sent();\r\n                                                    _a.label = 2;\r\n                                                case 2:\r\n                                                    if (!(z.flydownSize instanceof Function && z.flydownSize !== options.size)) return [3, 4];\r\n                                                    return [4, z.flydownSize(data, cancel)];\r\n                                                case 3: return [2, (_a.sent()) || result];\r\n                                                case 4: return [2, result || z.flydownSize];\r\n                                            }\r\n                                        });\r\n                                    }); };\r\n                                }\r\n                                _this._registry.clearKey(fullOptions.targetId + \"_\" + z.id);\r\n                                _this._registry.add(fullOptions.targetId + \"_\" + z.id, callback);\r\n                            });\r\n                            return {\r\n                                destroy: function () { return _this.clearFlydownArea(fullOptions.targetId, zoneIds); },\r\n                                options: optionsCopy\r\n                            };\r\n                        })];\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.setModalState = function (windowId, isModal) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    return [2, this.execute(\"setModalState\", { windowId: windowId, options: { isModal: isModal } })];\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.handleFlydownBoundsRequested = function (targetId, data) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var cancelCallback, callbackData, responses, defaultResponse, response, responseOptions;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            cancelCallback = function () { return data.cancel = true; };\r\n                            callbackData = {\r\n                                zoneId: data.flydownId,\r\n                                flydownWindowBounds: data.flydownWindowBounds,\r\n                                flydownWindowId: data.flydownWindowId,\r\n                            };\r\n                            return [4, Promise.all(this._registry.execute(targetId + \"_\" + data.flydownId, callbackData, cancelCallback))];\r\n                        case 1:\r\n                            responses = _a.sent();\r\n                            if (responses.length === 1) {\r\n                                defaultResponse = { height: 0, width: 0, top: 0, left: 0 };\r\n                                response = typeof (responses[0]) === \"object\" && !Array.isArray(responses[0]) ? responses[0] : defaultResponse;\r\n                                responseOptions = __assign(__assign({}, data), { flydownWindowBounds: response });\r\n                                return [2, responseOptions];\r\n                            }\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.zoomIn = function (window) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.execute(\"zoomIn\", {\r\n                                windowId: window.id,\r\n                            })];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2, window];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.zoomOut = function (window) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.execute(\"zoomOut\", {\r\n                                windowId: window.id,\r\n                            })];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2, window];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.setZoomFactor = function (window, zoomFactor) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.execute(\"setZoomFactor\", {\r\n                                windowId: window.id,\r\n                                options: {\r\n                                    zoomFactor: zoomFactor\r\n                                }\r\n                            })];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2, window];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.showDevTools = function (window) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.execute(\"showDevTools\", {\r\n                                windowId: window.id,\r\n                            })];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2, window];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.capture = function (window, options) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var base64screenshot;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.execute(\"captureScreenshot\", { windowId: window.id, options: __assign({}, options) })];\r\n                        case 1:\r\n                            base64screenshot = (_a.sent()).data;\r\n                            return [2, base64screenshot];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.captureGroup = function (windowIds, options) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var base64screenshot;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.execute(\"captureGroupScreenshot\", { windowId: windowIds[0], options: __assign({ groupWindowIds: windowIds }, options) })];\r\n                        case 1:\r\n                            base64screenshot = (_a.sent()).data;\r\n                            return [2, base64screenshot];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.flash = function (resultWindow, options) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.execute(\"flash\", { windowId: resultWindow.id, options: __assign({}, options) })];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2, resultWindow];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.configure = function (windowId, options) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    return [2, this.execute(\"configure\", { windowId: windowId, options: __assign({}, options) })];\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.print = function (resultWindow, options) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.execute(\"print\", { windowId: resultWindow.id, options: __assign({}, options) })];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2, resultWindow];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.printToPDF = function (resultWindow, options) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var filePath;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.execute(\"printToPDF\", { windowId: resultWindow.id, options: __assign({}, options) })];\r\n                        case 1:\r\n                            filePath = (_a.sent()).filePath;\r\n                            return [2, filePath];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.place = function (window, options) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var copy;\r\n                return __generator(this, function (_a) {\r\n                    copy = __assign({}, options);\r\n                    if (copy.display) {\r\n                        copy.display = copy.display.index + 1;\r\n                    }\r\n                    return [2, this.execute(\"place\", { windowId: window.id, options: __assign({}, copy) })];\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.execute = function (command, options) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                var args = __assign(__assign({}, options), { command: command });\r\n                _this.agm\r\n                    .invoke(\"T42.Wnd.Execute\", args, _this.agmTarget)\r\n                    .then(function (i) {\r\n                    if (i.returned && i.returned.errorMsg) {\r\n                        reject(i);\r\n                    }\r\n                    else {\r\n                        resolve(i.returned);\r\n                    }\r\n                })\r\n                    .catch(function (i) {\r\n                    reject(i);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.setGroupHeaderVisible = function (windowId, toShow) {\r\n            return this.execute(\"setGroupHeaderVisibility\", {\r\n                windowId: windowId,\r\n                options: {\r\n                    toShow: toShow\r\n                }\r\n            });\r\n        };\r\n        GDExecutor.prototype.getGroupTitle = function (windowId) {\r\n            return this.execute(\"getGroupTitle\", {\r\n                windowId: windowId,\r\n                options: {}\r\n            }).then(function (r) { return r.title; });\r\n        };\r\n        GDExecutor.prototype.setGroupTitle = function (windowId, title) {\r\n            return this.execute(\"setGroupTitle\", {\r\n                windowId: windowId,\r\n                options: {\r\n                    title: title\r\n                }\r\n            });\r\n        };\r\n        GDExecutor.prototype.onClosing = function (callback, id) {\r\n            var glue42gd = typeof window !== \"undefined\" && window.glue42gd;\r\n            if (glue42gd) {\r\n                return glue42gd.addCloseHandler(callback, id);\r\n            }\r\n        };\r\n        GDExecutor.prototype.onRefreshing = function (callback, id) {\r\n            var glue42gd = typeof window !== \"undefined\" && window.glue42gd;\r\n            if (glue42gd) {\r\n                return glue42gd.addRefreshHandler(callback, id);\r\n            }\r\n        };\r\n        GDExecutor.prototype.ungroup = function (resultWindow, options) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                var args = {\r\n                    windowId: resultWindow.id,\r\n                    options: options\r\n                };\r\n                _this.execute(\"ungroup\", args)\r\n                    .then(function () {\r\n                    resolve(resultWindow);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        };\r\n        GDExecutor.prototype.reformatFlydownOptions = function (windowId, options) {\r\n            var assignGeneralIfUnassigned = function (zone, prop) {\r\n                if (options[prop] && (zone[prop] === undefined || zone[prop] === null)) {\r\n                    var valueFromOptions = options[prop];\r\n                    zone[prop] = valueFromOptions;\r\n                }\r\n            };\r\n            var zones = options.zones.map(function (z) {\r\n                assignGeneralIfUnassigned(z, \"windowId\");\r\n                assignGeneralIfUnassigned(z, \"targetLocation\");\r\n                if (options.size && (z.flydownSize === undefined || z.flydownSize === null)) {\r\n                    z.flydownSize = options.size;\r\n                }\r\n                z.flydownBounds = z.flydownSize;\r\n                z.flydownId = z.windowId;\r\n                if (!z.targetLocation) {\r\n                    z.targetLocation = \"bottom\";\r\n                }\r\n                return z;\r\n            });\r\n            return __assign(__assign({}, options), { zones: zones, targetId: windowId, flydownBounds: options.size, flydownActiveArea: options.activeArea });\r\n        };\r\n        GDExecutor.prototype.clearFlydownArea = function (windowId, areaIds) {\r\n            var _this = this;\r\n            return this.execute(\"clearFlydownWindowArea\", {\r\n                windowId: windowId,\r\n                options: {}\r\n            }).then(function () {\r\n                areaIds.forEach(function (id) {\r\n                    _this._registry.clearKey(windowId + \"_\" + id);\r\n                });\r\n            });\r\n        };\r\n        return GDExecutor;\r\n    }());\r\n    var executor = new GDExecutor();\n\n    function getWindowsByTabGroupId(windowId, tabGroupId) {\r\n        var windows = windowStore.list;\r\n        return Object.keys(windows).reduce(function (memo, id) {\r\n            var win = windows[id];\r\n            if (win.API.tabGroupId === tabGroupId && win.API.id !== windowId) {\r\n                memo[id] = win;\r\n            }\r\n            return memo;\r\n        }, {});\r\n    }\n\n    var GDEnvironment = (function () {\r\n        function GDEnvironment(agm, logger, appManagerGetter, displayAPIGetter, instance, wndId) {\r\n            this._registry = lib$2();\r\n            this._waitTimeout = 10000;\r\n            this._agm = agm;\r\n            this._logger = logger.subLogger(\"gd-env\");\r\n            this._agmInstance = this.normalizeInstance(instance);\r\n            this._windowId = wndId;\r\n            this._appManagerGetter = appManagerGetter;\r\n            this._displayAPIGetter = displayAPIGetter;\r\n        }\r\n        GDEnvironment.prototype.init = function () {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                if (typeof _this._agmInstance === \"undefined\") {\r\n                    _this._agmInstance = \"best\";\r\n                }\r\n                _this._agm.registerAsync(\"T42.Wnd.OnEventWithResponse\", function (args, caller, success, err) {\r\n                    _this.respondToEvent(args).then(success).catch(err);\r\n                });\r\n                var streamPromise = new Promise(function (streamResolve, streamReject) {\r\n                    _this._agm.subscribe(\"T42.Wnd.OnEvent\", {\r\n                        waitTimeoutMs: _this._waitTimeout,\r\n                        target: _this._agmInstance,\r\n                        onData: function (streamData) {\r\n                            _this.updateWindow(streamData.data, resolve);\r\n                        },\r\n                        onConnected: function (instance) {\r\n                            _this._agmInstance = _this.normalizeInstance(instance);\r\n                            executor.init(_this._agm, _this._agmInstance);\r\n                        }\r\n                    }).catch(function (err) {\r\n                        reject(\"Can not subscribe for stream T42.Wnd.OnEvent. Err: \" + err);\r\n                    });\r\n                });\r\n            });\r\n        };\r\n        Object.defineProperty(GDEnvironment.prototype, \"executor\", {\r\n            get: function () {\r\n                return executor;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        GDEnvironment.prototype.open = function (name, url, options, success, error) {\r\n            options = options || {};\r\n            var copyOptions = __assign({}, options);\r\n            if (name === undefined) {\r\n                error({ message: \"The name is undefined\" });\r\n                return;\r\n            }\r\n            if (copyOptions.relativeTo !== undefined && typeof copyOptions.relativeTo !== \"string\") {\r\n                copyOptions.relativeTo = copyOptions.relativeTo.id || \"\";\r\n            }\r\n            copyOptions.name = name;\r\n            copyOptions.url = url;\r\n            copyOptions.windowState = options.windowState || options.state;\r\n            delete copyOptions.state;\r\n            this._agm.invoke(\"T42.Wnd.Create\", copyOptions, this._agmInstance)\r\n                .then(function (message) {\r\n                if (message.returned !== undefined) {\r\n                    var id = message.returned.id;\r\n                    success(id);\r\n                }\r\n                else {\r\n                    error({ message: \"failed to execute T42.Wnd.Create - unknown reason\" });\r\n                }\r\n            })\r\n                .catch(error);\r\n        };\r\n        GDEnvironment.prototype.createFlydown = function (windowId, options) {\r\n            return this.executor.createFlydown(windowId, options);\r\n        };\r\n        GDEnvironment.prototype.showPopup = function (windowId, options) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var window;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            window = windowStore.get(windowId);\r\n                            return [4, this.executor.showPopup(window.API, options)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        GDEnvironment.prototype.tabAttached = function (callback) {\r\n            return this._registry.add(\"tab-attached\", callback);\r\n        };\r\n        GDEnvironment.prototype.tabDetached = function (callback) {\r\n            return this._registry.add(\"tab-detached\", callback);\r\n        };\r\n        GDEnvironment.prototype.onWindowFrameColorChanged = function (callback) {\r\n            return this._registry.add(\"frame-color-changed\", callback);\r\n        };\r\n        GDEnvironment.prototype.onEvent = function (callback) {\r\n            return this._registry.add(\"window-event\", callback);\r\n        };\r\n        GDEnvironment.prototype.my = function () {\r\n            return this._windowId;\r\n        };\r\n        GDEnvironment.prototype.execute = function (command, windowId, options) {\r\n            return this._agm.invoke(\"T42.Wnd.Execute\", {\r\n                command: command,\r\n                options: options,\r\n                windowId: windowId,\r\n            });\r\n        };\r\n        GDEnvironment.prototype.setGroupHeaderVisible = function (windowId, toShow) {\r\n            return this._agm.invoke(\"T42.Wnd.SetGroupHeaderVisible\", {\r\n                windowId: windowId,\r\n                toShow: toShow,\r\n            }, this._agmInstance);\r\n        };\r\n        GDEnvironment.prototype.onCompositionChanged = function (callback) {\r\n            return this._registry.add(\"composition-changed\", callback);\r\n        };\r\n        GDEnvironment.prototype.onGroupHeaderVisibilityChanged = function (callback) {\r\n            return this._registry.add(\"group-header-changed\", callback);\r\n        };\r\n        GDEnvironment.prototype.onWindowGotFocus = function (callback) {\r\n            return this._registry.add(\"got-focus\", callback);\r\n        };\r\n        GDEnvironment.prototype.onWindowLostFocus = function (callback) {\r\n            return this._registry.add(\"lost-focus\", callback);\r\n        };\r\n        GDEnvironment.prototype.normalizeInstance = function (instance) {\r\n            if (!instance) {\r\n                return undefined;\r\n            }\r\n            return {\r\n                application: instance.application,\r\n                machine: instance.machine,\r\n                user: instance.user,\r\n            };\r\n        };\r\n        GDEnvironment.prototype.respondToEvent = function (args) {\r\n            if (args.type === \"ShowFlydownBoundsRequested\") {\r\n                return this.executor.handleFlydownBoundsRequested(args.data.windowId, args.data);\r\n            }\r\n            return Promise.reject(\"There isn't a handler for \" + args.type);\r\n        };\r\n        GDEnvironment.prototype.updateWindow = function (windowInfo, readyResolve) {\r\n            var _this = this;\r\n            var extendedStreamEvent = this.getExtendedStreamEvent(windowInfo);\r\n            if (windowInfo.type === \"Snapshot\") {\r\n                var windowInfoFullInfoEvent = windowInfo;\r\n                windowInfoFullInfoEvent.windows.forEach(function (w) {\r\n                    var win = _this.createWindow(w.id, w);\r\n                    windowStore.markReadyToShow(win.API.id);\r\n                    _this._registry.execute(\"window-event\", extendedStreamEvent);\r\n                });\r\n                readyResolve(this);\r\n                return;\r\n            }\r\n            if (windowInfo.type === \"Created\") {\r\n                var windowInfoCreatedEvent = windowInfo;\r\n                var win = this.createWindow(windowInfoCreatedEvent.windowId, windowInfoCreatedEvent.data || {});\r\n                windowStore.setReadyState(win.API.id);\r\n                this._registry.execute(\"window-event\", extendedStreamEvent);\r\n                return;\r\n            }\r\n            var windowObjectAndEvents = windowStore.get(windowInfo.windowId);\r\n            if (!windowObjectAndEvents) {\r\n                this._logger.error(\"received update for unknown window. Stream:', \" + JSON.stringify(windowInfo, null, 4));\r\n                return;\r\n            }\r\n            var theWindow = windowObjectAndEvents.API;\r\n            var theWindowEvents = windowObjectAndEvents.Events;\r\n            if (windowInfo.type === \"BoundsChanged\") {\r\n                var windowInfoBoundsChangedEvent = windowInfo;\r\n                theWindowEvents.handleBoundsChanged(windowInfoBoundsChangedEvent.data);\r\n            }\r\n            if (windowInfo.type === \"UrlChanged\") {\r\n                var windowInfoUrlChangedEvent = windowInfo;\r\n                windowStore.setUrlChangedState(windowInfoUrlChangedEvent.windowId);\r\n                theWindowEvents.handleUrlChanged(windowInfoUrlChangedEvent.data);\r\n            }\r\n            if (windowInfo.type === \"TitleChanged\") {\r\n                var windowInfoTitleChanged = windowInfo;\r\n                theWindowEvents.handleTitleChanged(windowInfoTitleChanged.data);\r\n            }\r\n            if (windowInfo.type === \"IsStickyChanged\") {\r\n                var windowInfoIsStickyChangedChanged = windowInfo;\r\n                theWindowEvents.handleIsStickyChanged(windowInfoIsStickyChangedChanged.data);\r\n            }\r\n            if (windowInfo.type === \"VisibilityChanged\") {\r\n                theWindowEvents.handleVisibilityChanged(windowInfo.data);\r\n            }\r\n            if (windowInfo.type === \"ContextChanged\") {\r\n                theWindowEvents.handleContextUpdated(windowInfo.data);\r\n            }\r\n            if (windowInfo.type === \"StateChanged\") {\r\n                theWindowEvents.handleWindowChangeState(windowInfo.data);\r\n            }\r\n            if (windowInfo.type === \"FrameColorChanged\") {\r\n                theWindowEvents.handleFrameColorChanged(windowInfo.data);\r\n                this._registry.execute(\"frame-color-changed\", theWindow);\r\n            }\r\n            if (windowInfo.type === \"CompositionChanged\") {\r\n                var windowInfoCompositionChanged = windowInfo;\r\n                theWindowEvents.handleCompositionChanged(windowInfoCompositionChanged.data.neighbors, windowInfoCompositionChanged.data.groupId);\r\n                this._registry.execute(\"composition-changed\", windowInfoCompositionChanged.data);\r\n            }\r\n            if (windowInfo.type === \"GroupHeaderVisibilityChanged\") {\r\n                var info = windowInfo;\r\n                theWindowEvents.handleGroupHeaderVisibilityChanged(info.data.groupHeaderVisible);\r\n                this._registry.execute(\"group-header-changed\", info.data);\r\n            }\r\n            if (windowInfo.type === \"FocusChanged\") {\r\n                var windowInfoFocusChanged = windowInfo;\r\n                this.focusChanged(theWindowEvents, theWindow, windowInfoFocusChanged.data);\r\n            }\r\n            if (windowInfo.type === \"WindowFrameChanged\") {\r\n                theWindowEvents.handleFrameAttached(windowInfo.data.frameId, windowInfo.data.isTabHeaderVisible);\r\n                this._registry.execute(\"frame-changed\");\r\n            }\r\n            if (windowInfo.type === \"WindowFrameAdded\") {\r\n                theWindowEvents.handleAttached(windowInfo.data.frameId, windowInfo.data.isTabHeaderVisible);\r\n                var winsToBeNotified_1 = getWindowsByTabGroupId(theWindow.id, windowInfo.data.frameId);\r\n                Object.keys(winsToBeNotified_1).forEach(function (id) {\r\n                    var win = winsToBeNotified_1[id];\r\n                    win.Events.handleWindowAttached(theWindow);\r\n                });\r\n                this._registry.execute(\"tab-attached\", theWindow, windowInfo.data.frameId, windowInfo.data.isTabHeaderVisible);\r\n            }\r\n            if (windowInfo.type === \"WindowFrameRemoved\") {\r\n                var oldTabGroupId = theWindow.tabGroupId;\r\n                theWindowEvents.handleDetached(windowInfo.data.frameId);\r\n                var winsToBeNotified_2 = getWindowsByTabGroupId(theWindow.id, oldTabGroupId);\r\n                Object.keys(winsToBeNotified_2).forEach(function (id) {\r\n                    var win = winsToBeNotified_2[id];\r\n                    win.Events.handleWindowDetached(theWindow);\r\n                });\r\n                var un_1 = this._registry.add(\"frame-changed\", function () {\r\n                    un_1();\r\n                    _this._registry.execute(\"tab-detached\", theWindow, windowInfo.data.frameId, theWindow.tabGroupId);\r\n                });\r\n            }\r\n            if (windowInfo.type === \"TabHeaderVisibilityChanged\") {\r\n                theWindowEvents.handleTabHeaderVisibilityChanged(windowInfo.data.isTabHeaderVisible);\r\n            }\r\n            if (windowInfo.type === \"FrameSelectionChanged\") {\r\n                theWindowEvents.handleFrameSelectionChanged(windowInfo.data.newWindowId, windowInfo.data.prevWindowId);\r\n            }\r\n            if (windowInfo.type === \"ButtonClicked\") {\r\n                theWindowEvents.handleFrameButtonClicked(windowInfo.data);\r\n            }\r\n            if (windowInfo.type === \"ButtonAdded\") {\r\n                theWindowEvents.handleFrameButtonAdded(windowInfo.data);\r\n            }\r\n            if (windowInfo.type === \"ButtonRemoved\") {\r\n                theWindowEvents.handleFrameButtonRemoved(windowInfo.data);\r\n            }\r\n            if (windowInfo.type === \"WindowZoomFactorChanged\") {\r\n                theWindowEvents.handleZoomFactorChanged(windowInfo.data);\r\n            }\r\n            if (windowInfo.type === \"Closed\") {\r\n                windowStore.remove(windowObjectAndEvents);\r\n                theWindowEvents.handleWindowClose();\r\n            }\r\n            if (windowInfo.type === \"FrameIsLockedChanged\") {\r\n                theWindowEvents.handleFrameIsLockedChanged(windowInfo.data);\r\n            }\r\n            if (windowInfo.type === \"PlacementSettingsChanged\") {\r\n                theWindowEvents.handlePlacementSettingsChanged(windowInfo.data);\r\n            }\r\n            this._registry.execute(\"window-event\", extendedStreamEvent);\r\n        };\r\n        GDEnvironment.prototype.createWindow = function (windowId, options) {\r\n            var _a;\r\n            var wrapper = windowStore.get(windowId);\r\n            var windowObjAndEvents = windowFactory(windowId, this.mapToWindowConstructorOptions(options), executor, this._logger, this._appManagerGetter, this._displayAPIGetter, this._agm, (_a = wrapper) === null || _a === void 0 ? void 0 : _a.Registry);\r\n            windowStore.add(windowObjAndEvents);\r\n            return windowObjAndEvents;\r\n        };\r\n        GDEnvironment.prototype.focusChanged = function (theWindowEvents, theWindow, focus) {\r\n            theWindowEvents.handleFocusChanged(focus);\r\n            if (focus) {\r\n                this._registry.execute(\"got-focus\", theWindow);\r\n            }\r\n            else {\r\n                this._registry.execute(\"lost-focus\", theWindow);\r\n            }\r\n        };\r\n        GDEnvironment.prototype.mapToWindowConstructorOptions = function (args) {\r\n            return {\r\n                name: args.name,\r\n                context: args.context,\r\n                bounds: args.bounds,\r\n                url: args.url,\r\n                title: args.title,\r\n                isVisible: args.isVisible,\r\n                focus: args.isFocused,\r\n                state: args.state,\r\n                frameColor: args.frameColor,\r\n                groupId: args.groupId,\r\n                neighbours: args.neighbors,\r\n                isFocused: args.isFocused,\r\n                isGroupHeaderVisible: args.groupHeaderVisible,\r\n                isCollapsed: args.isCollapsed,\r\n                tabGroupId: args.frameId,\r\n                mode: args.mode,\r\n                isTabHeaderVisible: args.isTabHeaderVisible,\r\n                isTabSelected: args.isActiveTab,\r\n                settings: args.settings,\r\n                windowType: args.windowType,\r\n                zoomFactor: args.zoomFactor,\r\n                isLocked: args.isLocked,\r\n                placementSettings: args.placementSettings,\r\n                isSticky: args.isSticky\r\n            };\r\n        };\r\n        GDEnvironment.prototype.getExtendedStreamEvent = function (streamEvent) {\r\n            try {\r\n                var result = __assign({ state: streamEvent.type, windowName: windowStore.get(streamEvent.windowId).API.name }, streamEvent);\r\n                if (result.state === \"WindowFrameAdded\") {\r\n                    result.state = \"TabAttached\";\r\n                }\r\n                if (result.state === \"StateChanged\") {\r\n                    result.state = result.data.charAt(0).toUpperCase() + result.data.slice(1);\r\n                }\r\n                if (result.state === \"ButtonAdded\") {\r\n                    result.state = \"FrameButtonAdded\";\r\n                }\r\n                if (result.state === \"ButtonRemoved\") {\r\n                    result.state = \"FrameButtonRemoved\";\r\n                }\r\n                return result;\r\n            }\r\n            catch (error) {\r\n                return streamEvent;\r\n            }\r\n        };\r\n        return GDEnvironment;\r\n    }());\n\n    var envDetector = (function (agm, logger, appManagerGetter, displayAPIGetter, gdMajorVersion) {\r\n        var _logger = logger;\r\n        return new Promise(function (resolve, reject) {\r\n            if (gdMajorVersion === 2) {\r\n                _logger.trace(\"running in HC\");\r\n                throw new Error(\"GD2 not supported\");\r\n            }\r\n            else if (gdMajorVersion >= 3) {\r\n                _logger.trace(\"running in GD 3\");\r\n                var gd = new GDEnvironment(agm, _logger, appManagerGetter, displayAPIGetter, undefined, window.glue42gd.windowId);\r\n                gd.init()\r\n                    .then(resolve)\r\n                    .catch(reject);\r\n            }\r\n            else {\r\n                var gdPromise = new GDEnvironment(agm, _logger, appManagerGetter, displayAPIGetter).init();\r\n                var wait = function (ms) { return new Promise(function (res, rej) { return setTimeout(function () { rej(\"timeout waiting for streams\"); }, ms); }); };\r\n                Promise.race([gdPromise, wait(10000)])\r\n                    .then(resolve)\r\n                    .catch(reject);\r\n            }\r\n        });\r\n    });\n\n    var groupFactory = (function (id, executor) {\r\n        var _registry = lib$2();\r\n        var _windowsId = [];\r\n        function addWindow(winId) {\r\n            if (_windowsId.indexOf(winId) === -1) {\r\n                _windowsId.push(winId);\r\n                var window_1 = windowStore.get(winId);\r\n                window_1.Events.handleGroupAssociation(groupObject);\r\n                _registry.execute(\"window-added\", groupObject, window_1.API);\r\n            }\r\n        }\r\n        function removeWindow(winId) {\r\n            var index = _windowsId.indexOf(winId);\r\n            if (index !== -1) {\r\n                _windowsId.splice(index, 1);\r\n                var window_2 = _mapToWindowObject(winId);\r\n                _registry.execute(\"window-removed\", groupObject, window_2);\r\n            }\r\n        }\r\n        function find(window, success) {\r\n            if (isUndefinedOrNull(window)) {\r\n                return;\r\n            }\r\n            var winId;\r\n            if (typeof window === \"string\") {\r\n                winId = window;\r\n            }\r\n            else {\r\n                winId = window.id;\r\n            }\r\n            var index = _windowsId.indexOf(winId);\r\n            if (index !== -1) {\r\n                var mappedWindow = _mapToWindowObject(_windowsId[index]);\r\n                if (typeof success === \"function\") {\r\n                    success(mappedWindow);\r\n                }\r\n                return mappedWindow;\r\n            }\r\n        }\r\n        function windows(success) {\r\n            var mappedWindows = _mapToWindowObjects();\r\n            if (typeof success === \"function\") {\r\n                success(mappedWindows);\r\n            }\r\n            return mappedWindows;\r\n        }\r\n        function showHeader(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                Promise.all([\r\n                    executor.setGroupHeaderVisible(_windowsId[0], true),\r\n                    waitForHeaderVisibilityChanged()\r\n                ])\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(groupObject);\r\n                    }\r\n                    resolve(groupObject);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function hideHeader(success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                Promise.all([\r\n                    executor.setGroupHeaderVisible(_windowsId[0], false),\r\n                    waitForHeaderVisibilityChanged()\r\n                ])\r\n                    .then(function () {\r\n                    if (typeof success === \"function\") {\r\n                        success(groupObject);\r\n                    }\r\n                    resolve(groupObject);\r\n                })\r\n                    .catch(function (e) {\r\n                    return;\r\n                });\r\n            });\r\n        }\r\n        function getTitle() {\r\n            return executor.getGroupTitle(_windowsId[0]);\r\n        }\r\n        function setTitle(title) {\r\n            return executor.setGroupTitle(_windowsId[0], title);\r\n        }\r\n        function capture(captureOptions) {\r\n            return executor.captureGroup(_windowsId, captureOptions);\r\n        }\r\n        function waitForHeaderVisibilityChanged() {\r\n            return new Promise(function (resolve, reject) {\r\n                var unsub = onHeaderVisibilityChanged(function (group) {\r\n                    unsub();\r\n                    resolve();\r\n                });\r\n            });\r\n        }\r\n        function execute(command, options, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                executor.execute(command, options)\r\n                    .then(function (w) {\r\n                    if (typeof success === \"function\") {\r\n                        success(groupObject);\r\n                    }\r\n                    resolve(groupObject);\r\n                })\r\n                    .catch(function (e) {\r\n                    reject(e);\r\n                });\r\n            });\r\n        }\r\n        function handleGroupHeaderVisibilityChanged(windowInfo) {\r\n            _registry.execute(\"header-visibility-changed\", groupObject);\r\n        }\r\n        function _mapToWindowObjects() {\r\n            var winObjects = [];\r\n            _windowsId.forEach(function (winId) {\r\n                var windowObject = _mapToWindowObject(winId);\r\n                if (typeof windowObject !== \"undefined\") {\r\n                    winObjects.push(windowObject);\r\n                }\r\n            });\r\n            return winObjects;\r\n        }\r\n        function _mapToWindowObject(windowId) {\r\n            return windowStore.get(windowId) ? windowStore.get(windowId).API : undefined;\r\n        }\r\n        function _getGroupHeaderVisibility() {\r\n            var windowWithHiddenHeader = _mapToWindowObjects().find(function (w) { return !w.isGroupHeaderVisible; });\r\n            var _isGroupHeaderVisible = windowWithHiddenHeader === undefined;\r\n            return _isGroupHeaderVisible;\r\n        }\r\n        function onHeaderVisibilityChanged(callback) {\r\n            return _registry.add(\"header-visibility-changed\", callback);\r\n        }\r\n        function onWindowAdded(callback) {\r\n            return _registry.add(\"window-added\", callback);\r\n        }\r\n        function onWindowRemoved(callback) {\r\n            return _registry.add(\"window-removed\", callback);\r\n        }\r\n        var groupObject = {\r\n            id: id,\r\n            get windows() {\r\n                return windows();\r\n            },\r\n            find: find,\r\n            get isHeaderVisible() {\r\n                return _getGroupHeaderVisibility();\r\n            },\r\n            showHeader: showHeader,\r\n            hideHeader: hideHeader,\r\n            getTitle: getTitle,\r\n            setTitle: setTitle,\r\n            capture: capture,\r\n            maximize: function (success, error) {\r\n                return execute(\"maximizeGroup\", { windowId: _windowsId[0] }, success);\r\n            },\r\n            restore: function (success, error) {\r\n                return execute(\"restoreGroup\", { windowId: _windowsId[0] }, success);\r\n            },\r\n            onHeaderVisibilityChanged: onHeaderVisibilityChanged,\r\n            onWindowAdded: onWindowAdded,\r\n            onWindowRemoved: onWindowRemoved,\r\n        };\r\n        var internal = {\r\n            addWindow: addWindow,\r\n            removeWindow: removeWindow,\r\n            handleGroupHeaderVisibilityChanged: handleGroupHeaderVisibilityChanged,\r\n        };\r\n        return {\r\n            groupAPI: groupObject,\r\n            groupInternal: internal,\r\n        };\r\n    });\n\n    var groupsFactory = (function (environment, logger) {\r\n        var _logger = logger.subLogger(\"groups\");\r\n        var _registry = lib$2();\r\n        var _groups = {};\r\n        var heardForWindowsCounter = -1;\r\n        var windows = windowStore.list;\r\n        Object.keys(windows).forEach(function (k) {\r\n            addNewWindow(windows[k]);\r\n        });\r\n        environment.onCompositionChanged(function (windowInfo) {\r\n            handleCompositionChanged(windowInfo);\r\n        });\r\n        environment.onGroupHeaderVisibilityChanged(function (windowInfo) {\r\n            var windowId = windowInfo.windowId;\r\n            var group = findGroupByWindow(windowId);\r\n            if (typeof group !== \"undefined\") {\r\n                var groupEvents = _groups[group.id];\r\n                if (heardForWindowsCounter === -1) {\r\n                    heardForWindowsCounter = group.windows.length;\r\n                }\r\n                heardForWindowsCounter--;\r\n                if (heardForWindowsCounter === 0) {\r\n                    heardForWindowsCounter = -1;\r\n                    groupEvents.groupInternal.handleGroupHeaderVisibilityChanged(windowInfo);\r\n                }\r\n            }\r\n        });\r\n        windowStore.onAdded(function (win) {\r\n            addNewWindow(win);\r\n        });\r\n        windowStore.onRemoved(function (win) {\r\n            removeWindow(win);\r\n        });\r\n        function my() {\r\n            return findGroupByWindow(environment.my());\r\n        }\r\n        function list(success) {\r\n            var result = Object.keys(_groups).map(function (groupId) {\r\n                if (_groups[groupId]) {\r\n                    return _groups[groupId].groupAPI;\r\n                }\r\n            });\r\n            if (typeof success === \"function\") {\r\n                success(result);\r\n            }\r\n            return result;\r\n        }\r\n        function findGroupByWindow(winId, success) {\r\n            var windowId;\r\n            if (typeof winId === \"undefined\") {\r\n                logger.debug(\"trying to find a group by a window, but winId is undefined\");\r\n                return;\r\n            }\r\n            if (typeof winId === \"string\") {\r\n                windowId = winId;\r\n            }\r\n            else {\r\n                windowId = winId.id;\r\n            }\r\n            var groupFound;\r\n            Object.keys(_groups).forEach(function (groupId) {\r\n                var group = _groups[groupId].groupAPI;\r\n                if (group.find(windowId) !== undefined) {\r\n                    groupFound = group;\r\n                    return;\r\n                }\r\n            });\r\n            if (typeof success === \"function\") {\r\n                success(groupFound);\r\n            }\r\n            return groupFound;\r\n        }\r\n        function onWindowMoved(callback) {\r\n            return _registry.add(\"window-moved\", callback);\r\n        }\r\n        function createOrGetGroup(groupId) {\r\n            if (!_groups.hasOwnProperty(groupId)) {\r\n                var createdGroup = groupFactory(groupId, environment.executor);\r\n                _groups[groupId] = createdGroup;\r\n                return createdGroup;\r\n            }\r\n            else {\r\n                return _groups[groupId];\r\n            }\r\n        }\r\n        function deleteGroup(groupId) {\r\n            if (_groups.hasOwnProperty(groupId) && typeof _groups[groupId] !== \"undefined\") {\r\n                if (_groups[groupId].groupAPI.windows.length === 0) {\r\n                    delete _groups[groupId];\r\n                }\r\n            }\r\n        }\r\n        function addNewWindow(win) {\r\n            _logger.trace(\"Adding new window \" + win.API.id + \" to win.API.groupId \" + win.API.groupId);\r\n            var group = addWindow(win);\r\n            if (group) {\r\n                _logger.trace(\"handleGroupAssociation \" + win.API.id + \" to group.groupAPI.id \" + group.groupAPI.id);\r\n                win.Events.handleGroupAssociation(group.groupAPI);\r\n            }\r\n        }\r\n        function addWindow(win, groupId) {\r\n            var windowGroupId = groupId || win.API.groupId;\r\n            var windowId = win.API.id;\r\n            if (typeof windowGroupId === \"undefined\" || typeof windowId === \"undefined\") {\r\n                _logger.debug(\"trying to add a window without group - winId: \" + windowId);\r\n                return;\r\n            }\r\n            var group = createOrGetGroup(windowGroupId);\r\n            group.groupInternal.addWindow(windowId);\r\n            return group;\r\n        }\r\n        function removeWindow(win, groupId) {\r\n            var windowId = win.API.id;\r\n            var windowGroupId = groupId || win.API.groupId;\r\n            if (typeof windowGroupId !== \"undefined\") {\r\n                var group = _groups[windowGroupId];\r\n                group.groupInternal.removeWindow(windowId);\r\n                win.Events.handleGroupAssociation(undefined);\r\n                deleteGroup(windowGroupId);\r\n            }\r\n        }\r\n        function handleCompositionChanged(windowInfo) {\r\n            var newGroupId = windowInfo.groupId;\r\n            var windowId = windowInfo.windowId;\r\n            var oldGroup = findGroupByWindow(windowId);\r\n            var oldGroupId = oldGroup ? oldGroup.id : undefined;\r\n            _logger.trace(\"handleCompositionChanged newGroupId: \" + newGroupId + \" windowId: \" + windowId + \" oldGroup: \" + oldGroupId);\r\n            if (oldGroupId === newGroupId) {\r\n                _logger.trace(\"handleCompositionChanged newGroupId: \" + newGroupId + \" windowId: \" + windowId + \" oldGroup: \" + oldGroupId + \" are the same - returning...\");\r\n                return;\r\n            }\r\n            var win = windowStore.get(windowId) || windowStore.get(windowId);\r\n            var newGroup = addWindow(win, newGroupId);\r\n            if (oldGroup) {\r\n                removeWindow(win, oldGroupId);\r\n                _registry.execute(\"window-moved\", windowId, oldGroup, newGroupId);\r\n            }\r\n            win.Events.handleGroupChanged(newGroup.groupAPI, oldGroup);\r\n        }\r\n        var groups = {\r\n            get my() {\r\n                return my();\r\n            },\r\n            list: list,\r\n            findGroupByWindow: findGroupByWindow,\r\n        };\r\n        var events = { onWindowMoved: onWindowMoved };\r\n        return {\r\n            groupsAPI: groups,\r\n            groupsEvents: events,\r\n        };\r\n    });\n\n    var WindowsFactory = (function (agm, logger, appManagerGetter, displayAPIGetter, gdMajorVersion) {\r\n        var _registry = lib$2();\r\n        var _logger = logger;\r\n        var groups;\r\n        var environment;\r\n        windowStore.init(_logger);\r\n        var isReady = new Promise(function (resolve, reject) {\r\n            envDetector(agm, _logger, appManagerGetter, displayAPIGetter, gdMajorVersion)\r\n                .then(function (env) {\r\n                environment = env;\r\n                groups = groupsFactory(env, _logger);\r\n                resolve();\r\n            })\r\n                .catch(function (e) {\r\n                var err = \"Environment detector fails with: \" + e;\r\n                _logger.error(err);\r\n                reject(err);\r\n            });\r\n        });\r\n        function ready() {\r\n            return isReady;\r\n        }\r\n        function my() {\r\n            var myWindow = windowStore.getIfReady(environment.my());\r\n            return myWindow ? myWindow.API : undefined;\r\n        }\r\n        function open(name, url, options, success, error) {\r\n            return new Promise(function (resolve, reject) {\r\n                var errorHandler = function (errorResponse) {\r\n                    if (typeof error === \"function\") {\r\n                        error(errorResponse);\r\n                    }\r\n                    reject(errorResponse);\r\n                };\r\n                var successHandler = function (id) {\r\n                    windowStore.waitFor(id)\r\n                        .then(function (win) {\r\n                        if (typeof success === \"function\") {\r\n                            success(win.API);\r\n                        }\r\n                        resolve(win.API);\r\n                        if (win.API.windowType === \"electron\") {\r\n                            win.Events.handleUrlChanged(win.API.url);\r\n                        }\r\n                    })\r\n                        .catch(errorHandler);\r\n                };\r\n                environment.open(name, url, options, successHandler, errorHandler);\r\n            });\r\n        }\r\n        function find(name, success, error) {\r\n            var windows = windowStore.list;\r\n            var windowsForListing = Object.keys(windows).reduce(function (memo, winId) {\r\n                var window = windows[winId];\r\n                if (window && window.API.name === name) {\r\n                    memo.push(window.API);\r\n                }\r\n                return memo;\r\n            }, []);\r\n            if (typeof success !== \"function\") {\r\n                return windowsForListing[0];\r\n            }\r\n            if (windowsForListing.length > 0) {\r\n                success(windowsForListing[0]);\r\n            }\r\n            else {\r\n                if (typeof error === \"function\") {\r\n                    error(\"There is no window with name:\" + name);\r\n                }\r\n            }\r\n        }\r\n        function findById(id, success, error) {\r\n            var windows = windowStore.list;\r\n            var windowsForListing = Object.keys(windows).reduce(function (memo, winId) {\r\n                var window = windows[winId];\r\n                if (typeof window !== \"undefined\" && window.API.id === id) {\r\n                    memo.push(window.API);\r\n                }\r\n                return memo;\r\n            }, []);\r\n            if (typeof success !== \"function\") {\r\n                return windowsForListing[0];\r\n            }\r\n            if (windowsForListing.length > 0) {\r\n                success(windowsForListing[0]);\r\n            }\r\n            else {\r\n                if (typeof error === \"function\") {\r\n                    error(\"There is no window with such id:\" + id);\r\n                }\r\n            }\r\n        }\r\n        function list(success) {\r\n            var windows = windowStore.list;\r\n            var windowsForListing = Object.keys(windows)\r\n                .map(function (k) {\r\n                return windows[k].API;\r\n            });\r\n            if (typeof success !== \"function\") {\r\n                return windowsForListing;\r\n            }\r\n            success(windowsForListing);\r\n        }\r\n        function configure(options) {\r\n            var win = my();\r\n            var winId = win ? win.id : \"\";\r\n            return executor.configure(winId, options);\r\n        }\r\n        function windowAdded(callback) {\r\n            return _registry.add(\"window-added\", callback);\r\n        }\r\n        function windowRemoved(callback) {\r\n            return _registry.add(\"window-removed\", callback);\r\n        }\r\n        function tabAttached(callback) {\r\n            var unsubFunc;\r\n            var unsubscribed = false;\r\n            isReady.then(function () {\r\n                if (unsubscribed) {\r\n                    return;\r\n                }\r\n                unsubFunc = environment.tabAttached(callback);\r\n            });\r\n            return function () {\r\n                unsubscribed = true;\r\n                if (unsubFunc) {\r\n                    unsubFunc();\r\n                }\r\n            };\r\n        }\r\n        function tabDetached(callback) {\r\n            var unsubFunc;\r\n            var unsubscribed = false;\r\n            isReady.then(function () {\r\n                if (unsubscribed) {\r\n                    return;\r\n                }\r\n                unsubFunc = environment.tabDetached(callback);\r\n            });\r\n            return function () {\r\n                unsubscribed = true;\r\n                if (unsubFunc) {\r\n                    unsubFunc();\r\n                }\r\n            };\r\n        }\r\n        function onWindowFrameColorChanged(callback) {\r\n            var unsubFunc;\r\n            var unsubscribed = false;\r\n            isReady.then(function () {\r\n                if (unsubscribed) {\r\n                    return;\r\n                }\r\n                unsubFunc = environment.onWindowFrameColorChanged(callback);\r\n            });\r\n            return function () {\r\n                unsubscribed = true;\r\n                if (unsubFunc) {\r\n                    unsubFunc();\r\n                }\r\n            };\r\n        }\r\n        function onWindowGotFocus(callback) {\r\n            var unsubFunc;\r\n            var unsubscribed = false;\r\n            isReady.then(function () {\r\n                if (unsubscribed) {\r\n                    return;\r\n                }\r\n                unsubFunc = environment.onWindowGotFocus(callback);\r\n            });\r\n            return function () {\r\n                unsubscribed = true;\r\n                if (unsubFunc) {\r\n                    unsubFunc();\r\n                }\r\n            };\r\n        }\r\n        function onWindowLostFocus(callback) {\r\n            var unsubFunc;\r\n            var unsubscribed = false;\r\n            isReady.then(function () {\r\n                if (unsubscribed) {\r\n                    return;\r\n                }\r\n                unsubFunc = environment.onWindowLostFocus(callback);\r\n            });\r\n            return function () {\r\n                unsubscribed = true;\r\n                if (unsubFunc) {\r\n                    unsubFunc();\r\n                }\r\n            };\r\n        }\r\n        function onEvent(callback) {\r\n            var unsubFunc;\r\n            var unsubscribed = false;\r\n            isReady.then(function () {\r\n                if (unsubscribed) {\r\n                    return;\r\n                }\r\n                unsubFunc = environment.onEvent(callback);\r\n            });\r\n            return function () {\r\n                unsubscribed = true;\r\n                if (unsubFunc) {\r\n                    unsubFunc();\r\n                }\r\n            };\r\n        }\r\n        function createFlydown(targetId, config) {\r\n            return environment.createFlydown(targetId, config);\r\n        }\r\n        function showPopup(targetId, config) {\r\n            return environment.showPopup(targetId, config);\r\n        }\r\n        function handleWindowAdded(w) {\r\n            _registry.execute(\"window-added\", w.API);\r\n        }\r\n        function handleWindowRemoved(w) {\r\n            _registry.execute(\"window-removed\", w.API);\r\n        }\r\n        windowStore.onReadyWindow(handleWindowAdded);\r\n        windowStore.onRemoved(handleWindowRemoved);\r\n        return {\r\n            my: my,\r\n            open: open,\r\n            find: find,\r\n            findById: findById,\r\n            list: list,\r\n            ready: ready,\r\n            onWindowAdded: windowAdded,\r\n            windowAdded: windowAdded,\r\n            onWindowRemoved: windowRemoved,\r\n            windowRemoved: windowRemoved,\r\n            onTabAttached: tabAttached,\r\n            onTabDetached: tabDetached,\r\n            onWindowFrameColorChanged: onWindowFrameColorChanged,\r\n            get groups() {\r\n                return groups.groupsAPI;\r\n            },\r\n            onWindowGotFocus: onWindowGotFocus,\r\n            onWindowLostFocus: onWindowLostFocus,\r\n            onEvent: onEvent,\r\n            createFlydown: createFlydown,\r\n            showPopup: showPopup,\r\n            configure: configure\r\n        };\r\n    });\n\n    var LayoutStore = (function () {\r\n        function LayoutStore() {\r\n            this.layouts = [];\r\n        }\r\n        LayoutStore.prototype.removeWhere = function (condition) {\r\n            this.layouts = this.layouts.filter(condition);\r\n        };\r\n        LayoutStore.prototype.add = function (item) {\r\n            this.layouts.push(item);\r\n        };\r\n        Object.defineProperty(LayoutStore.prototype, \"all\", {\r\n            get: function () {\r\n                return this.layouts;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        LayoutStore.prototype.where = function (condition) {\r\n            return this.layouts.filter(condition);\r\n        };\r\n        LayoutStore.prototype.first = function (condition) {\r\n            return this.where(condition)[0];\r\n        };\r\n        return LayoutStore;\r\n    }());\r\n    var store = new LayoutStore();\n\n    function createCommonjsModule$1(fn, module) {\n    \treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n    }\n\n    // Found this seed-based random generator somewhere\n    // Based on The Central Randomizer 1.3 (C) 1997 by Paul Houle (houle@msc.cornell.edu)\n\n    var seed$1 = 1;\n\n    /**\n     * return a random number based on a seed\n     * @param seed\n     * @returns {number}\n     */\n    function getNextValue$1() {\n        seed$1 = (seed$1 * 9301 + 49297) % 233280;\n        return seed$1/(233280.0);\n    }\n\n    function setSeed$2(_seed_) {\n        seed$1 = _seed_;\n    }\n\n    var randomFromSeed$1 = {\n        nextValue: getNextValue$1,\n        seed: setSeed$2\n    };\n\n    var ORIGINAL$1 = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-';\n    var alphabet$1;\n    var previousSeed$1;\n\n    var shuffled$1;\n\n    function reset$1() {\n        shuffled$1 = false;\n    }\n\n    function setCharacters$1(_alphabet_) {\n        if (!_alphabet_) {\n            if (alphabet$1 !== ORIGINAL$1) {\n                alphabet$1 = ORIGINAL$1;\n                reset$1();\n            }\n            return;\n        }\n\n        if (_alphabet_ === alphabet$1) {\n            return;\n        }\n\n        if (_alphabet_.length !== ORIGINAL$1.length) {\n            throw new Error('Custom alphabet for shortid must be ' + ORIGINAL$1.length + ' unique characters. You submitted ' + _alphabet_.length + ' characters: ' + _alphabet_);\n        }\n\n        var unique = _alphabet_.split('').filter(function(item, ind, arr){\n           return ind !== arr.lastIndexOf(item);\n        });\n\n        if (unique.length) {\n            throw new Error('Custom alphabet for shortid must be ' + ORIGINAL$1.length + ' unique characters. These characters were not unique: ' + unique.join(', '));\n        }\n\n        alphabet$1 = _alphabet_;\n        reset$1();\n    }\n\n    function characters$1(_alphabet_) {\n        setCharacters$1(_alphabet_);\n        return alphabet$1;\n    }\n\n    function setSeed$3(seed) {\n        randomFromSeed$1.seed(seed);\n        if (previousSeed$1 !== seed) {\n            reset$1();\n            previousSeed$1 = seed;\n        }\n    }\n\n    function shuffle$1() {\n        if (!alphabet$1) {\n            setCharacters$1(ORIGINAL$1);\n        }\n\n        var sourceArray = alphabet$1.split('');\n        var targetArray = [];\n        var r = randomFromSeed$1.nextValue();\n        var characterIndex;\n\n        while (sourceArray.length > 0) {\n            r = randomFromSeed$1.nextValue();\n            characterIndex = Math.floor(r * sourceArray.length);\n            targetArray.push(sourceArray.splice(characterIndex, 1)[0]);\n        }\n        return targetArray.join('');\n    }\n\n    function getShuffled$1() {\n        if (shuffled$1) {\n            return shuffled$1;\n        }\n        shuffled$1 = shuffle$1();\n        return shuffled$1;\n    }\n\n    /**\n     * lookup shuffled letter\n     * @param index\n     * @returns {string}\n     */\n    function lookup$1(index) {\n        var alphabetShuffled = getShuffled$1();\n        return alphabetShuffled[index];\n    }\n\n    var alphabet_1$1 = {\n        characters: characters$1,\n        seed: setSeed$3,\n        lookup: lookup$1,\n        shuffled: getShuffled$1\n    };\n\n    var crypto$1 = typeof window === 'object' && (window.crypto || window.msCrypto); // IE 11 uses window.msCrypto\n\n    function randomByte$1() {\n        if (!crypto$1 || !crypto$1.getRandomValues) {\n            return Math.floor(Math.random() * 256) & 0x30;\n        }\n        var dest = new Uint8Array(1);\n        crypto$1.getRandomValues(dest);\n        return dest[0] & 0x30;\n    }\n\n    var randomByteBrowser$1 = randomByte$1;\n\n    function encode$1(lookup, number) {\n        var loopCounter = 0;\n        var done;\n\n        var str = '';\n\n        while (!done) {\n            str = str + lookup( ( (number >> (4 * loopCounter)) & 0x0f ) | randomByteBrowser$1() );\n            done = number < (Math.pow(16, loopCounter + 1 ) );\n            loopCounter++;\n        }\n        return str;\n    }\n\n    var encode_1$1 = encode$1;\n\n    /**\n     * Decode the id to get the version and worker\n     * Mainly for debugging and testing.\n     * @param id - the shortid-generated id.\n     */\n    function decode$1(id) {\n        var characters = alphabet_1$1.shuffled();\n        return {\n            version: characters.indexOf(id.substr(0, 1)) & 0x0f,\n            worker: characters.indexOf(id.substr(1, 1)) & 0x0f\n        };\n    }\n\n    var decode_1$1 = decode$1;\n\n    // Ignore all milliseconds before a certain time to reduce the size of the date entropy without sacrificing uniqueness.\n    // This number should be updated every year or so to keep the generated id short.\n    // To regenerate `new Date() - 0` and bump the version. Always bump the version!\n    var REDUCE_TIME = 1459707606518;\n\n    // don't change unless we change the algos or REDUCE_TIME\n    // must be an integer and less than 16\n    var version$1 = 6;\n\n    // Counter is used when shortid is called multiple times in one second.\n    var counter;\n\n    // Remember the last time shortid was called in case counter is needed.\n    var previousSeconds;\n\n    /**\n     * Generate unique id\n     * Returns string id\n     */\n    function build(clusterWorkerId) {\n\n        var str = '';\n\n        var seconds = Math.floor((Date.now() - REDUCE_TIME) * 0.001);\n\n        if (seconds === previousSeconds) {\n            counter++;\n        } else {\n            counter = 0;\n            previousSeconds = seconds;\n        }\n\n        str = str + encode_1$1(alphabet_1$1.lookup, version$1);\n        str = str + encode_1$1(alphabet_1$1.lookup, clusterWorkerId);\n        if (counter > 0) {\n            str = str + encode_1$1(alphabet_1$1.lookup, counter);\n        }\n        str = str + encode_1$1(alphabet_1$1.lookup, seconds);\n\n        return str;\n    }\n\n    var build_1 = build;\n\n    function isShortId$1(id) {\n        if (!id || typeof id !== 'string' || id.length < 6 ) {\n            return false;\n        }\n\n        var characters = alphabet_1$1.characters();\n        var len = id.length;\n        for(var i = 0; i < len;i++) {\n            if (characters.indexOf(id[i]) === -1) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    var isValid$1 = isShortId$1;\n\n    var lib$3 = createCommonjsModule$1(function (module) {\n\n\n\n\n\n\n\n    // if you are using cluster or multiple servers use this to make each instance\n    // has a unique value for worker\n    // Note: I don't know if this is automatically set when using third\n    // party cluster solutions such as pm2.\n    var clusterWorkerId =  0;\n\n    /**\n     * Set the seed.\n     * Highly recommended if you don't want people to try to figure out your id schema.\n     * exposed as shortid.seed(int)\n     * @param seed Integer value to seed the random alphabet.  ALWAYS USE THE SAME SEED or you might get overlaps.\n     */\n    function seed(seedValue) {\n        alphabet_1$1.seed(seedValue);\n        return module.exports;\n    }\n\n    /**\n     * Set the cluster worker or machine id\n     * exposed as shortid.worker(int)\n     * @param workerId worker must be positive integer.  Number less than 16 is recommended.\n     * returns shortid module so it can be chained.\n     */\n    function worker(workerId) {\n        clusterWorkerId = workerId;\n        return module.exports;\n    }\n\n    /**\n     *\n     * sets new characters to use in the alphabet\n     * returns the shuffled alphabet\n     */\n    function characters(newCharacters) {\n        if (newCharacters !== undefined) {\n            alphabet_1$1.characters(newCharacters);\n        }\n\n        return alphabet_1$1.shuffled();\n    }\n\n    /**\n     * Generate unique id\n     * Returns string id\n     */\n    function generate() {\n      return build_1(clusterWorkerId);\n    }\n\n    // Export all other functions as properties of the generate function\n    module.exports = generate;\n    module.exports.generate = generate;\n    module.exports.seed = seed;\n    module.exports.worker = worker;\n    module.exports.characters = characters;\n    module.exports.decode = decode_1$1;\n    module.exports.isValid = isValid$1;\n    });\n    var lib_1$1 = lib$3.generate;\n    var lib_2$1 = lib$3.seed;\n    var lib_3$1 = lib$3.worker;\n    var lib_4$1 = lib$3.characters;\n    var lib_5$1 = lib$3.decode;\n    var lib_6$1 = lib$3.isValid;\n\n    var shortid$1 = lib$3;\n\n    var SaveContextMethodName = \"T42.HC.GetSaveContext\";\r\n    var ContextProvider = (function () {\r\n        function ContextProvider(config, activitiesGetter, callbacks, logger) {\r\n            this.config = config;\r\n            this.activitiesGetter = activitiesGetter;\r\n            this.callbacks = callbacks;\r\n            this.logger = logger;\r\n            this.interop = config.agm;\r\n            this.registerRequestMethods();\r\n        }\r\n        ContextProvider.prototype.onSaveRequested = function (callback) {\r\n            return this.callbacks.add(\"saveRequested\", callback);\r\n        };\r\n        ContextProvider.prototype.isActivityOwner = function () {\r\n            if (typeof htmlContainer !== \"undefined\") {\r\n                var context_1 = htmlContainer.getContext();\r\n                return context_1 && context_1._t42 && context_1._t42.activityIsOwner;\r\n            }\r\n            var activities = this.activitiesGetter();\r\n            if (!activities) {\r\n                return false;\r\n            }\r\n            if (!activities.inActivity) {\r\n                return false;\r\n            }\r\n            var myWindow = activities.my.window;\r\n            var myActivity = activities.my.activity;\r\n            if (!myActivity && !myWindow) {\r\n                return false;\r\n            }\r\n            return myActivity.owner.id === myWindow.id;\r\n        };\r\n        ContextProvider.prototype.registerRequestMethods = function () {\r\n            var _this = this;\r\n            this.interop.register(SaveContextMethodName, function (args) {\r\n                var _a, _b, _c;\r\n                var usersCbs = _this.callbacks.execute(\"saveRequested\", args);\r\n                if (((_a = usersCbs) === null || _a === void 0 ? void 0 : _a.length) > 1) {\r\n                    _this.logger.warn(\"Multiple subscriptions for \\\"glue.layouts.onSaveRequested\\\" - only the first one will be used\");\r\n                }\r\n                var requestResult = usersCbs[0];\r\n                var autoSaveWindowContext = _this.config.autoSaveWindowContext;\r\n                if (autoSaveWindowContext) {\r\n                    return { autoSaveWindowContext: autoSaveWindowContext };\r\n                }\r\n                var result = { windowContext: (_b = requestResult) === null || _b === void 0 ? void 0 : _b.windowContext, activityContext: undefined };\r\n                if (_this.isActivityOwner()) {\r\n                    result.activityContext = (_c = requestResult) === null || _c === void 0 ? void 0 : _c.activityContext;\r\n                }\r\n                return result;\r\n            });\r\n        };\r\n        return ContextProvider;\r\n    }());\n\n    function transformACSLayout(something) {\r\n        if (!something) {\r\n            return something;\r\n        }\r\n        if (Array.isArray(something)) {\r\n            return something.map(function (item) {\r\n                return transformACSLayout(item);\r\n            });\r\n        }\r\n        if (typeof something === \"string\" || typeof something === \"number\" || typeof something === \"boolean\") {\r\n            return something;\r\n        }\r\n        var initial = {};\r\n        return Object.keys(something).reduce(function (accumulator, current) {\r\n            var value = something[current];\r\n            var convertedValue = transformACSLayout(value);\r\n            var key = current;\r\n            if (current[0].toLowerCase() !== current[0]) {\r\n                key = current[0].toLowerCase() + current.substr(1);\r\n            }\r\n            accumulator[key] = convertedValue;\r\n            return accumulator;\r\n        }, initial);\r\n    }\n\n    var LayoutImpl = (function () {\r\n        function LayoutImpl(data) {\r\n            this.name = data.name;\r\n            this.type = data.type;\r\n            this.components = data.components;\r\n            this.context = data.context;\r\n            this.metadata = data.metadata;\r\n            this.version = data.version;\r\n            this.displays = data.displays;\r\n        }\r\n        return LayoutImpl;\r\n    }());\n\n    var LayoutsAPIImpl = (function () {\r\n        function LayoutsAPIImpl(config, stream, callbacks, logger) {\r\n            this.config = config;\r\n            this.stream = stream;\r\n            this.callbacks = callbacks;\r\n            this.appManager = config.appManager;\r\n            this.onEvent = stream.onEvent;\r\n            this.provider = new ContextProvider(config, config.activityGetter, callbacks, logger);\r\n            stream.subscribe();\r\n        }\r\n        LayoutsAPIImpl.prototype.setDefaultGlobal = function (name) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.config.agm.invoke(\"T42.ACS.SelectDefaultLayout\", { name: name })];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.clearDefaultGlobal = function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.config.agm.invoke(\"T42.ACS.DeselectDefaultLayout\")];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.getDefaultGlobal = function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var result, layout;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.config.agm.invoke(\"T42.ACS.GetDefaultLayout\")];\r\n                        case 1:\r\n                            result = _a.sent();\r\n                            layout = result.returned;\r\n                            if (!layout) {\r\n                                return [2, undefined];\r\n                            }\r\n                            if (this.isSlimMode()) {\r\n                                return [2, layout];\r\n                            }\r\n                            return [2, this.list().find(function (l) { return l.name === layout.name && l.type === \"Global\"; })];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.ready = function () {\r\n            if (this.config.mode === \"fullWaitSnapshot\") {\r\n                return this.stream.gotSnapshot;\r\n            }\r\n            return this.stream.ready;\r\n        };\r\n        LayoutsAPIImpl.prototype.save = function (layout) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.verifyNotSlimMode();\r\n                if (!layout.name) {\r\n                    throw Error(\"layout.name argument is required\");\r\n                }\r\n                if (!layout.type) {\r\n                    layout.type = \"Global\";\r\n                }\r\n                if (layout.activityId) {\r\n                    layout.type = \"Activity\";\r\n                }\r\n                if (typeof layout.ignoreHidden === \"undefined\") {\r\n                    layout.ignoreHidden = true;\r\n                }\r\n                var layoutObject = {\r\n                    name: layout.name,\r\n                    actIds: [],\r\n                    appIds: [],\r\n                    type: layout.type,\r\n                    context: layout.context,\r\n                    metadata: layout.metadata || {},\r\n                    options: { ignoreLayoutRestrictions: false },\r\n                };\r\n                if (layout.type === \"Activity\") {\r\n                    var actId = layout.activityId;\r\n                    if (!actId) {\r\n                        if (!_this.appManager.myInstance.inActivity) {\r\n                            throw new Error(\"Current application is not in activity. Can not save activity layout for it\");\r\n                        }\r\n                        actId = _this.appManager.myInstance.activityId;\r\n                    }\r\n                    layoutObject.actIds.push(actId);\r\n                    layoutObject.options = { ignoreLayoutRestrictions: true };\r\n                }\r\n                else if (layout.type === \"Global\") {\r\n                    if (_this.config.gdMajorVersion === 2) {\r\n                        var instances = _this.appManager.instances();\r\n                        if (layout.ignoreHidden) {\r\n                            instances = instances.filter(function (i) { return _this.isVisibleWindow(i); });\r\n                        }\r\n                        if (layout.ignoreMyInstance && _this.appManager.myInstance) {\r\n                            instances = instances.filter(function (i) { return i.id !== _this.appManager.myInstance.id; });\r\n                        }\r\n                        instances.reduce(function (prev, current) {\r\n                            if (!current.id) {\r\n                                return prev;\r\n                            }\r\n                            if (current.inActivity) {\r\n                                var actId = current.activityId;\r\n                                if (prev.actIds.indexOf(actId) === -1) {\r\n                                    prev.actIds.push(actId);\r\n                                }\r\n                            }\r\n                            else {\r\n                                prev.appIds.push(current.id);\r\n                            }\r\n                            return prev;\r\n                        }, layoutObject);\r\n                    }\r\n                    else {\r\n                        layoutObject.autoCollectApps = true;\r\n                    }\r\n                }\r\n                else {\r\n                    throw new Error(\"layout type \" + layout.type + \" not supported\");\r\n                }\r\n                _this.invokeMethodAndTrack(\"T42.ACS.SaveLayout\", layoutObject, resolve, reject);\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.restore = function (options) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.verifyNotSlimMode();\r\n                if (typeof options === \"undefined\") {\r\n                    throw Error(\"options argument is required\");\r\n                }\r\n                if (!options.name) {\r\n                    throw Error(\"options.name argument is required\");\r\n                }\r\n                if (!options.type) {\r\n                    options.type = \"Global\";\r\n                }\r\n                if (options.activityIdToJoin) {\r\n                    options.type = \"Activity\";\r\n                }\r\n                if (typeof options.restoreActivityOwner === \"undefined\") {\r\n                    options.restoreActivityOwner = false;\r\n                }\r\n                if (typeof options.ignoreActivityWindowTypes === \"undefined\") {\r\n                    options.ignoreActivityWindowTypes = [];\r\n                }\r\n                if (typeof options.setActivityContext === \"undefined\") {\r\n                    options.setActivityContext = true;\r\n                }\r\n                if (typeof options.closeRunningInstance === \"undefined\") {\r\n                    if (options.type === \"Global\") {\r\n                        options.closeRunningInstance = true;\r\n                    }\r\n                    else if (options.type === \"Activity\") {\r\n                        options.closeRunningInstance = false;\r\n                    }\r\n                }\r\n                if (typeof options.reuseWindows === \"undefined\") {\r\n                    options.reuseWindows = true;\r\n                }\r\n                options.context = options.context || {};\r\n                var t42 = {\r\n                    restoreOptions: {\r\n                        activityToJoin: options.activityIdToJoin,\r\n                        setActivityContext: options.setActivityContext,\r\n                        ignoreActivityWindowTypes: options.ignoreActivityWindowTypes,\r\n                        restoreActivityOwner: options.restoreActivityOwner,\r\n                        closeOldWindows: options.closeRunningInstance,\r\n                        reuseExistingWindows: options.reuseWindows\r\n                    }\r\n                };\r\n                var arg = {\r\n                    type: options.type,\r\n                    name: options.name,\r\n                    context: options.context,\r\n                    toClose: [],\r\n                    splash: options.splash\r\n                };\r\n                if (_this.config.gdMajorVersion === 2) {\r\n                    if (options.closeRunningInstance) {\r\n                        arg.toClose = _this.getInstancesToClose(options);\r\n                    }\r\n                }\r\n                if (options.timeout) {\r\n                    arg.timeout = options.timeout;\r\n                }\r\n                arg.context._t42 = t42;\r\n                _this.invokeMethodAndTrack(\"T42.ACS.RestoreLayout\", arg, resolve, reject, true);\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.remove = function (type, name) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.verifyNotSlimMode();\r\n                if (!name) {\r\n                    throw Error(\"name argument is required\");\r\n                }\r\n                if (!type) {\r\n                    throw Error(\"type argument is required\");\r\n                }\r\n                var msg = {\r\n                    type: type,\r\n                    name: name,\r\n                };\r\n                _this.invokeMethodAndTrack(\"T42.ACS.RemoveLayout\", msg, resolve, reject);\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.list = function () {\r\n            this.verifyNotSlimMode();\r\n            return store.all;\r\n        };\r\n        LayoutsAPIImpl.prototype.import = function (layouts, mode) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.verifyNotSlimMode();\r\n                var msg = {\r\n                    mode: mode || \"replace\",\r\n                    layouts: layouts\r\n                };\r\n                _this.invokeMethodAndTrack(\"T42.ACS.ImportLayouts\", msg, resolve, reject, true);\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.export = function (layoutType) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                var handleResult = function (result) {\r\n                    var layouts = _this.getObjectValues(result.Layouts).map(function (t) { return new LayoutImpl(transformACSLayout(t)); });\r\n                    if (layoutType) {\r\n                        layouts = layouts.filter(function (l) { return l.type === layoutType; });\r\n                    }\r\n                    resolve(layouts);\r\n                };\r\n                _this.invokeMethodAndTrack(\"T42.ACS.ExportLayouts\", {}, handleResult, reject, true);\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.rename = function (layout, newName) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                _this.verifyNotSlimMode();\r\n                if (!layout) {\r\n                    throw Error(\"layout argument is required\");\r\n                }\r\n                if (!layout.name) {\r\n                    throw Error(\"name argument is required\");\r\n                }\r\n                if (!layout.type) {\r\n                    throw Error(\"type argument is required\");\r\n                }\r\n                var msg = { type: layout.type, oldName: layout.name, newName: newName };\r\n                _this.invokeMethodAndTrack(\"T42.ACS.RenameLayout\", msg, resolve, reject);\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.updateMetadata = function (layout) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                if (!layout) {\r\n                    throw Error(\"layout argument is required\");\r\n                }\r\n                if (!layout.name) {\r\n                    throw Error(\"name argument is required\");\r\n                }\r\n                if (!layout.type) {\r\n                    throw Error(\"type argument is required\");\r\n                }\r\n                if (!layout.metadata) {\r\n                    throw Error(\"metadata argument is required\");\r\n                }\r\n                var layoutObject = {\r\n                    name: layout.name,\r\n                    type: layout.type,\r\n                    metadata: layout.metadata\r\n                };\r\n                _this.invokeMethodAndTrack(\"T42.ACS.UpdateMetadata\", layoutObject, resolve, reject, true);\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.hibernate = function (name, options) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                if (!name) {\r\n                    return reject(\"name cannot be empty\");\r\n                }\r\n                options = options || {};\r\n                var request = {\r\n                    name: name,\r\n                    type: \"Global\",\r\n                    context: options.context || {},\r\n                    metadata: options.metadata || {},\r\n                };\r\n                _this.invokeMethodAndTrack(\"T42.ACS.HibernateLayout\", request, resolve, reject, true);\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.resume = function (name, context, options) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                if (!name) {\r\n                    return reject(\"name cannot be empty\");\r\n                }\r\n                var request = __assign({ name: name, type: \"Global\", context: context }, options);\r\n                _this.invokeMethodAndTrack(\"T42.ACS.ResumeLayout\", request, resolve, reject, true);\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.getCurrentLayout = function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var result, layout;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.config.agm.invoke(\"T42.ACS.GetCurrentLayout\", {}, \"best\", { methodResponseTimeoutMs: 120 * 1000 })];\r\n                        case 1:\r\n                            result = _a.sent();\r\n                            layout = result.returned.layout;\r\n                            if (!layout) {\r\n                                return [2, undefined];\r\n                            }\r\n                            if (!this.isSlimMode()) {\r\n                                layout = this.list().find(function (l) { return l.name === layout.name && l.type === layout.type; });\r\n                            }\r\n                            return [2, layout];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.onAdded = function (callback) {\r\n            var result = this.callbacks.add(\"added\", callback);\r\n            if (store.all.length > 0) {\r\n                store.all.forEach(function (layout) {\r\n                    try {\r\n                        callback(layout);\r\n                    }\r\n                    catch (err) { }\r\n                });\r\n            }\r\n            return result;\r\n        };\r\n        LayoutsAPIImpl.prototype.onRemoved = function (callback) {\r\n            return this.callbacks.add(\"removed\", callback);\r\n        };\r\n        LayoutsAPIImpl.prototype.onChanged = function (callback) {\r\n            return this.callbacks.add(\"changed\", callback);\r\n        };\r\n        LayoutsAPIImpl.prototype.onRestored = function (callback) {\r\n            return this.callbacks.add(\"restored\", callback);\r\n        };\r\n        LayoutsAPIImpl.prototype.onRenamed = function (callback) {\r\n            return this.callbacks.add(\"renamed\", callback);\r\n        };\r\n        LayoutsAPIImpl.prototype.onEvent = function (callback) {\r\n            return this.stream.onEvent(callback);\r\n        };\r\n        LayoutsAPIImpl.prototype.onSaveRequested = function (callback) {\r\n            return this.provider.onSaveRequested(callback);\r\n        };\r\n        LayoutsAPIImpl.prototype.updateAppContextInCurrent = function (context) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                if (context && typeof context !== \"object\") {\r\n                    reject(\"context must be an object\");\r\n                }\r\n                context = (context !== null && context !== void 0 ? context : {});\r\n                var request = {\r\n                    context: context\r\n                };\r\n                _this.invokeMethodAndTrack(\"T42.ACS.UpdateLayoutComponentContext\", request, resolve, reject, true);\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.updateDefaultContext = function (context) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                if (context && typeof context !== \"object\") {\r\n                    reject(\"context must be an object\");\r\n                }\r\n                context = (context !== null && context !== void 0 ? context : {});\r\n                var request = {\r\n                    context: context\r\n                };\r\n                _this.invokeMethodAndTrack(\"T42.ACS.UpdateDefaultContext\", request, resolve, reject, true);\r\n            });\r\n        };\r\n        LayoutsAPIImpl.prototype.get = function (name, type) {\r\n            var matching = this.list().find(function (l) { return l.name === name && l.type === type; });\r\n            if (!matching) {\r\n                return Promise.reject(\"can not find layout with name=\" + name + \" and type=\" + type);\r\n            }\r\n            return Promise.resolve(matching);\r\n        };\r\n        LayoutsAPIImpl.prototype.getAll = function (type) {\r\n            var matching = this.list().filter(function (l) { return type === l.type; });\r\n            return Promise.resolve(matching);\r\n        };\r\n        LayoutsAPIImpl.prototype.isSlimMode = function () {\r\n            return this.config.mode === \"slim\";\r\n        };\r\n        LayoutsAPIImpl.prototype.verifyNotSlimMode = function () {\r\n            if (this.isSlimMode()) {\r\n                throw Error(\"Operation not allowed in slim mode. Run in full mode.\");\r\n            }\r\n        };\r\n        LayoutsAPIImpl.prototype.isVisibleWindow = function (instance) {\r\n            if (instance.application.type === \"exe\" || instance.application.type === \"node\") {\r\n                return true;\r\n            }\r\n            if (instance.application.type === \"activity\") {\r\n                return true;\r\n            }\r\n            if (!instance || !instance.window) {\r\n                return false;\r\n            }\r\n            return instance.window.isVisible;\r\n        };\r\n        LayoutsAPIImpl.prototype.invokeMethodAndTrack = function (methodName, args, resolve, reject, skipStreamEvent) {\r\n            var streamEventReceived = skipStreamEvent;\r\n            var agmResult;\r\n            var token = shortid$1();\r\n            args.token = token;\r\n            var handleResult = function () {\r\n                if (streamEventReceived && agmResult) {\r\n                    resolve(agmResult);\r\n                }\r\n            };\r\n            if (!skipStreamEvent) {\r\n                this.stream.waitFor(token)\r\n                    .then(function () {\r\n                    streamEventReceived = true;\r\n                    handleResult();\r\n                })\r\n                    .catch(function (err) {\r\n                    reject(err);\r\n                });\r\n            }\r\n            var responseHandler = function (result) {\r\n                if (!result.returned) {\r\n                    reject(\"No result from method \" + methodName);\r\n                }\r\n                if (result.returned.status && (result.returned.status !== \"Success\" && result.returned.status !== \"PartialSuccess\")) {\r\n                    reject(result.returned);\r\n                }\r\n                agmResult = result.returned;\r\n                handleResult();\r\n            };\r\n            this.config.agm.invoke(methodName, args, \"best\", { methodResponseTimeoutMs: 120 * 1000 })\r\n                .then(responseHandler)\r\n                .catch(function (err) { return reject(err); });\r\n        };\r\n        LayoutsAPIImpl.prototype.getInstancesToClose = function (options) {\r\n            var _this = this;\r\n            var instances = [];\r\n            var shellApp = this.appManager.applications().filter(function (a) { return a.isShell; })[0];\r\n            var shellApplicationName = shellApp ? shellApp.name : \"AppManager\";\r\n            this.appManager.instances().forEach(function (i) {\r\n                if (_this.appManager.myInstance && i.id === _this.appManager.myInstance.id) {\r\n                    return;\r\n                }\r\n                if (i.application.name === shellApplicationName) {\r\n                    return;\r\n                }\r\n                if (!_this.isVisibleWindow(i)) {\r\n                    return;\r\n                }\r\n                if (options.type === \"Activity\") {\r\n                    if (i.activityId !== options.activityIdToJoin) {\r\n                        return;\r\n                    }\r\n                }\r\n                instances.push({ application: i.application.name, instance: i.id });\r\n            });\r\n            return instances;\r\n        };\r\n        LayoutsAPIImpl.prototype.getObjectValues = function (obj) {\r\n            if (!obj) {\r\n                return [];\r\n            }\r\n            return Object.keys(obj).map(function (k) { return obj[k]; });\r\n        };\r\n        return LayoutsAPIImpl;\r\n    }());\n\n    var ACSStream = (function () {\r\n        function ACSStream(agm, callbacks) {\r\n            var _this = this;\r\n            this.agm = agm;\r\n            this.callbacks = callbacks;\r\n            this.ready = new Promise(function (resolve, reject) {\r\n                _this.resolveReady = resolve;\r\n                _this.rejectReady = reject;\r\n            });\r\n            this.gotSnapshot = new Promise(function (resolve, reject) {\r\n                _this.resolveGotSnapshot = resolve;\r\n                _this.rejectGotSnapshot = reject;\r\n            });\r\n        }\r\n        ACSStream.prototype.subscribe = function (noRetry) {\r\n            var _this = this;\r\n            var transform = function (obj) {\r\n                return _this.getObjectValues(obj).map(function (t) { return transformACSLayout(t); });\r\n            };\r\n            if (!this.checkForLayoutEventMethod()) {\r\n                if (noRetry) {\r\n                    this.resolveReady();\r\n                }\r\n                setTimeout(function () {\r\n                    _this.subscribe(true);\r\n                }, 500);\r\n            }\r\n            else {\r\n                this.agm.subscribe(\"T42.ACS.OnLayoutEvent\", { waitTimeoutMs: 10000 })\r\n                    .then(function (subs) {\r\n                    subs.onData(function (args) {\r\n                        var data = args.data;\r\n                        if (data.IsSnapshot) {\r\n                            _this.resolveGotSnapshot();\r\n                        }\r\n                        _this.addLayouts(transform(data.OnLayoutAdded));\r\n                        _this.removeLayouts(transform(data.OnLayoutRemoved));\r\n                        _this.changeLayouts(transform(data.OnLayoutChanged));\r\n                        _this.renameLayouts(transform(data.OnLayoutRenamed));\r\n                        _this.restoredLayout(transform(data.OnLayoutRestored));\r\n                        _this.callbacks.execute(\"streamEvent\", data);\r\n                    });\r\n                    subs.onFailed(function (err) {\r\n                        var msg = \"can not subscribe to T42.ACS.OnLayoutEvent \" + err;\r\n                        _this.rejectReady(msg);\r\n                        _this.rejectGotSnapshot(msg);\r\n                    });\r\n                    _this.resolveReady();\r\n                })\r\n                    .catch(function (err) {\r\n                    var msg = \"Error subscribing for T42.ACS.OnLayoutEvent stream. Err: \" + err;\r\n                    _this.rejectReady(msg);\r\n                    _this.rejectGotSnapshot(msg);\r\n                });\r\n            }\r\n        };\r\n        ACSStream.prototype.onEvent = function (callback) {\r\n            return this.callbacks.add(\"streamEvent\", callback);\r\n        };\r\n        ACSStream.prototype.waitFor = function (token, timeout) {\r\n            var _this = this;\r\n            if (!timeout) {\r\n                timeout = 10000;\r\n            }\r\n            return new Promise(function (resolve, reject) {\r\n                var done = false;\r\n                var unsubscribe = _this.onEvent(function (streamEvent) {\r\n                    if (streamEvent.Token === token) {\r\n                        done = true;\r\n                        unsubscribe();\r\n                        resolve();\r\n                    }\r\n                });\r\n                setTimeout(function () {\r\n                    if (!done) {\r\n                        reject(\"timed out\");\r\n                    }\r\n                }, timeout);\r\n            });\r\n        };\r\n        ACSStream.prototype.checkForLayoutEventMethod = function () {\r\n            try {\r\n                return this.agm\r\n                    .methods()\r\n                    .map(function (m) { return m.name; })\r\n                    .indexOf(\"T42.ACS.OnLayoutEvent\") !== -1;\r\n            }\r\n            catch (e) {\r\n                return false;\r\n            }\r\n        };\r\n        ACSStream.prototype.addLayouts = function (layoutsData) {\r\n            var _this = this;\r\n            if (!layoutsData) {\r\n                return;\r\n            }\r\n            layoutsData.forEach(function (layoutData) {\r\n                var layout = new LayoutImpl(layoutData);\r\n                store.add(layout);\r\n                _this.callbacks.execute(\"added\", layout);\r\n            });\r\n        };\r\n        ACSStream.prototype.removeLayouts = function (removedLayouts) {\r\n            var _this = this;\r\n            if (!removedLayouts) {\r\n                return;\r\n            }\r\n            removedLayouts.forEach(function (removedLayout) {\r\n                store.removeWhere(function (existingLayout) { return !_this.compareLayouts(existingLayout, removedLayout); });\r\n                _this.callbacks.execute(\"removed\", removedLayout);\r\n            });\r\n        };\r\n        ACSStream.prototype.changeLayouts = function (changedLayouts) {\r\n            var _this = this;\r\n            if (!changedLayouts) {\r\n                return;\r\n            }\r\n            changedLayouts.forEach(function (changedLayout) {\r\n                store.removeWhere(function (existingLayout) { return !_this.compareLayouts(existingLayout, changedLayout); });\r\n                store.add(new LayoutImpl(changedLayout));\r\n                _this.callbacks.execute(\"changed\", changedLayout);\r\n            });\r\n        };\r\n        ACSStream.prototype.renameLayouts = function (renamedLayouts) {\r\n            var _this = this;\r\n            if (!renamedLayouts) {\r\n                return;\r\n            }\r\n            renamedLayouts.forEach(function (renamedLayout) {\r\n                var existingLayout = store.first(function (current) { return _this.compareLayouts(current, { type: renamedLayout.type, name: renamedLayout.oldName }); });\r\n                if (!existingLayout) {\r\n                    throw Error(\"received rename event for unknown layout with type \" + renamedLayout.type + \" and name \" + renamedLayout.oldName);\r\n                }\r\n                existingLayout.name = renamedLayout.newName;\r\n                _this.callbacks.execute(\"renamed\", existingLayout);\r\n            });\r\n        };\r\n        ACSStream.prototype.compareLayouts = function (layout1, layout2) {\r\n            return layout1.name === layout2.name && layout1.type === layout2.type;\r\n        };\r\n        ACSStream.prototype.getObjectValues = function (obj) {\r\n            if (!obj) {\r\n                return [];\r\n            }\r\n            return Object.keys(obj).map(function (k) { return obj[k]; });\r\n        };\r\n        ACSStream.prototype.restoredLayout = function (restoredLayouts) {\r\n            var _this = this;\r\n            if (!restoredLayouts) {\r\n                return;\r\n            }\r\n            restoredLayouts.forEach(function (restoredLayout) {\r\n                var existingLayout = store.first(function (current) { return _this.compareLayouts(current, { type: restoredLayout.type, name: restoredLayout.name }); });\r\n                _this.callbacks.execute(\"restored\", existingLayout);\r\n            });\r\n        };\r\n        return ACSStream;\r\n    }());\n\n    function streamNull () {\r\n        return {\r\n            ready: Promise.resolve(undefined),\r\n            subscribe: function () { },\r\n            onEvent: function (callback) { return function () { }; },\r\n            waitFor: function (token, timeout) { return Promise.resolve(undefined); },\r\n            gotSnapshot: Promise.resolve(undefined),\r\n        };\r\n    }\n\n    function LayoutsFactory (config) {\r\n        if (!config.agm) {\r\n            throw Error(\"config.agm is required\");\r\n        }\r\n        if (!config.logger) {\r\n            throw Error(\"config.logger is required\");\r\n        }\r\n        config.mode = config.mode || \"slim\";\r\n        var logger = config.logger;\r\n        var callbacks = lib$2();\r\n        var acsStream;\r\n        if (config.mode === \"full\" || \"fullWaitSnapshot\") {\r\n            acsStream = new ACSStream(config.agm, callbacks);\r\n        }\r\n        else {\r\n            acsStream = streamNull();\r\n        }\r\n        return new LayoutsAPIImpl(config, acsStream, callbacks, logger);\r\n    }\n\n    var T42DisplayCommand = \"T42.Displays.Command\";\r\n    var DisplayManager = (function () {\r\n        function DisplayManager(_agm, _logger) {\r\n            var _this = this;\r\n            this._agm = _agm;\r\n            this._logger = _logger;\r\n            this.all = function () { return __awaiter(_this, void 0, void 0, function () {\r\n                var displays;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.callGD(DisplayCommand.GetAll, {})];\r\n                        case 1:\r\n                            displays = _a.sent();\r\n                            return [2, displays.map(this.decorateDisplay)];\r\n                    }\r\n                });\r\n            }); };\r\n            this.get = function (id) { return __awaiter(_this, void 0, void 0, function () {\r\n                var display;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.callGD(DisplayCommand.Get, { id: id })];\r\n                        case 1:\r\n                            display = _a.sent();\r\n                            return [2, this.decorateDisplay(display)];\r\n                    }\r\n                });\r\n            }); };\r\n            this.getPrimary = function () { return __awaiter(_this, void 0, void 0, function () {\r\n                var primary;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.all()];\r\n                        case 1:\r\n                            primary = (_a.sent()).find(function (d) { return d.isPrimary; });\r\n                            return [2, primary];\r\n                    }\r\n                });\r\n            }); };\r\n            this.capture = function (options) { return __awaiter(_this, void 0, void 0, function () {\r\n                var screenshot;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.callGD(DisplayCommand.Capture, __assign({}, options))];\r\n                        case 1:\r\n                            screenshot = _a.sent();\r\n                            return [2, screenshot];\r\n                    }\r\n                });\r\n            }); };\r\n            this.captureAll = function (options) { return __awaiter(_this, void 0, void 0, function () {\r\n                var screenshots;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.callGD(DisplayCommand.CaptureAll, __assign({}, options))];\r\n                        case 1:\r\n                            screenshots = _a.sent();\r\n                            return [2, screenshots];\r\n                    }\r\n                });\r\n            }); };\r\n            this.getMousePosition = function () { return __awaiter(_this, void 0, void 0, function () {\r\n                var point;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.callGD(DisplayCommand.GetMousePosition)];\r\n                        case 1:\r\n                            point = _a.sent();\r\n                            return [2, point];\r\n                    }\r\n                });\r\n            }); };\r\n            this.callGD = function (command, options) { return __awaiter(_this, void 0, void 0, function () {\r\n                var invocationResult;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this._agm.invoke(T42DisplayCommand, { options: __assign({}, options), command: command })];\r\n                        case 1:\r\n                            invocationResult = _a.sent();\r\n                            return [2, invocationResult.returned.data];\r\n                    }\r\n                });\r\n            }); };\r\n            this.decorateDisplay = function (original) {\r\n                return __assign(__assign({}, original), { capture: function (size) { return _this.capture({ id: original.id, size: size }); } });\r\n            };\r\n        }\r\n        return DisplayManager;\r\n    }());\r\n    var DisplayCommand;\r\n    (function (DisplayCommand) {\r\n        DisplayCommand[\"Capture\"] = \"capture\";\r\n        DisplayCommand[\"CaptureAll\"] = \"captureAll\";\r\n        DisplayCommand[\"GetAll\"] = \"getAll\";\r\n        DisplayCommand[\"Get\"] = \"get\";\r\n        DisplayCommand[\"GetMousePosition\"] = \"getMousePosition\";\r\n    })(DisplayCommand || (DisplayCommand = {}));\n\n    var interop;\r\n    var windowId;\r\n    function setupAGM(interopLib, channels) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        interop = interopLib;\r\n                        if (typeof window !== \"undefined\") {\r\n                            if (window.glue42gd) {\r\n                                windowId = window.glue42gd.windowId;\r\n                            }\r\n                        }\r\n                        if (!windowId) {\r\n                            return [2];\r\n                        }\r\n                        return [4, interop.register(\"T42.Channels.Command\", function (args) {\r\n                                var command = args.command;\r\n                                if (!command) {\r\n                                    throw new Error(\"missing command argument\");\r\n                                }\r\n                                if (command === \"join\") {\r\n                                    var id = args.channel;\r\n                                    if (!id) {\r\n                                        throw new Error(\"missing argument id\");\r\n                                    }\r\n                                    channels.joinNoSelectorSwitch(id);\r\n                                    return;\r\n                                }\r\n                                if (command === \"leave\") {\r\n                                    channels.leaveNoSelectorSwitch();\r\n                                    return;\r\n                                }\r\n                                if (command === \"get\") {\r\n                                    var id = channels.current();\r\n                                    return { id: id };\r\n                                }\r\n                                throw new Error(\"unknown command \" + command);\r\n                            })];\r\n                    case 1:\r\n                        _a.sent();\r\n                        interop.invoke(\"T42.Channels.Announce\", { swId: windowId, instance: interop.instance.instance });\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    }\r\n    function switchChannel(channel, id) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                interop.invoke(\"T42.Channels.Announce\", {\r\n                    swId: (id !== null && id !== void 0 ? id : windowId),\r\n                    command: \"switchChannel\",\r\n                    data: { newChannel: channel }\r\n                });\r\n                return [2];\r\n            });\r\n        });\r\n    }\n\n    var CONTEXT_PREFIX = \"___channel___\";\r\n    var SharedContextSubscriber = (function () {\r\n        function SharedContextSubscriber(contexts) {\r\n            this.contexts = contexts;\r\n        }\r\n        SharedContextSubscriber.prototype.subscribe = function (callback) {\r\n            this.callback = callback;\r\n        };\r\n        SharedContextSubscriber.prototype.subscribeFor = function (name, callback) {\r\n            if (!this.isChannel(name)) {\r\n                return Promise.reject(new Error(\"Channel with name: \" + name + \" doesn't exist!\"));\r\n            }\r\n            var contextName = this.createContextName(name);\r\n            return this.contexts.subscribe(contextName, function (data, _, __, ___, extraData) {\r\n                var _a;\r\n                callback(data.data, data, (_a = extraData) === null || _a === void 0 ? void 0 : _a.updaterId);\r\n            });\r\n        };\r\n        SharedContextSubscriber.prototype.switchChannel = function (name) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var contextName, _a;\r\n                var _this = this;\r\n                return __generator(this, function (_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            this.unsubscribe();\r\n                            contextName = this.createContextName(name);\r\n                            _a = this;\r\n                            return [4, this.contexts.subscribe(contextName, function (data, _, __, ___, extraData) {\r\n                                    var _a;\r\n                                    if (_this.callback) {\r\n                                        _this.callback(data.data, data, (_a = extraData) === null || _a === void 0 ? void 0 : _a.updaterId);\r\n                                    }\r\n                                })];\r\n                        case 1:\r\n                            _a.unsubscribeFunc = _b.sent();\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        SharedContextSubscriber.prototype.unsubscribe = function () {\r\n            if (this.unsubscribeFunc) {\r\n                this.unsubscribeFunc();\r\n            }\r\n        };\r\n        SharedContextSubscriber.prototype.all = function () {\r\n            var contextNames = this.contexts.all();\r\n            var channelContextNames = contextNames.filter(function (contextName) { return contextName.startsWith(CONTEXT_PREFIX); });\r\n            var channelNames = channelContextNames.map(function (channelContextName) { return channelContextName.substr(CONTEXT_PREFIX.length); });\r\n            return channelNames;\r\n        };\r\n        SharedContextSubscriber.prototype.getContextData = function (name) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                if (!_this.isChannel(name)) {\r\n                    return reject(new Error(\"A channel with name: \" + name + \" doesn't exist!\"));\r\n                }\r\n                var contextName = _this.createContextName(name);\r\n                _this.contexts.subscribe(contextName, function (data) {\r\n                    resolve(data);\r\n                }).then(function (unsubscribeFunc) { return unsubscribeFunc(); });\r\n            });\r\n        };\r\n        SharedContextSubscriber.prototype.updateChannel = function (name, data) {\r\n            var contextName = this.createContextName(name);\r\n            return this.contexts.update(contextName, data);\r\n        };\r\n        SharedContextSubscriber.prototype.updateData = function (name, data) {\r\n            var contextName = this.createContextName(name);\r\n            if (this.contexts.setPathSupported) {\r\n                var pathValues = Object.keys(data).map(function (key) {\r\n                    return {\r\n                        path: \"data.\" + key,\r\n                        value: data[key]\r\n                    };\r\n                });\r\n                return this.contexts.setPaths(contextName, pathValues);\r\n            }\r\n            else {\r\n                return this.contexts.update(contextName, { data: data });\r\n            }\r\n        };\r\n        SharedContextSubscriber.prototype.isChannel = function (name) {\r\n            return this.all().some(function (channelName) { return channelName === name; });\r\n        };\r\n        SharedContextSubscriber.prototype.createContextName = function (name) {\r\n            return CONTEXT_PREFIX + name;\r\n        };\r\n        return SharedContextSubscriber;\r\n    }());\n\n    var ChannelsImpl = (function () {\r\n        function ChannelsImpl(shared) {\r\n            this.shared = shared;\r\n            this.subsKey = \"subs\";\r\n            this.changedKey = \"changed\";\r\n            this.registry = lib$2();\r\n            this.shared.subscribe(this.handler.bind(this));\r\n        }\r\n        ChannelsImpl.prototype.subscribe = function (callback) {\r\n            if (typeof callback !== \"function\") {\r\n                throw new Error(\"Please provide the callback as a function!\");\r\n            }\r\n            return this.registry.add(this.subsKey, callback);\r\n        };\r\n        ChannelsImpl.prototype.subscribeFor = function (name, callback) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var unsubscribeFunc;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (typeof name !== \"string\") {\r\n                                throw new Error(\"Please provide the name as a string!\");\r\n                            }\r\n                            if (typeof callback !== \"function\") {\r\n                                throw new Error(\"Please provide the callback as a function!\");\r\n                            }\r\n                            return [4, this.shared.subscribeFor(name, callback)];\r\n                        case 1:\r\n                            unsubscribeFunc = _a.sent();\r\n                            return [2, unsubscribeFunc];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ChannelsImpl.prototype.publish = function (data, name) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    if (typeof data !== \"object\") {\r\n                        throw new Error(\"Please provide the data as an object!\");\r\n                    }\r\n                    if (name) {\r\n                        if (typeof name !== \"string\") {\r\n                            throw new Error(\"Please provide the name as a string!\");\r\n                        }\r\n                        if (!this.shared.isChannel(name)) {\r\n                            return [2, Promise.reject(new Error(\"A channel with name: \" + name + \" doesn't exist!\"))];\r\n                        }\r\n                        return [2, this.shared.updateData(name, data)];\r\n                    }\r\n                    if (!this.currentContext) {\r\n                        throw new Error(\"Not joined to any channel!\");\r\n                    }\r\n                    return [2, this.shared.updateData(this.currentContext, data)];\r\n                });\r\n            });\r\n        };\r\n        ChannelsImpl.prototype.all = function () {\r\n            var channelNames = this.shared.all();\r\n            return Promise.resolve(channelNames);\r\n        };\r\n        ChannelsImpl.prototype.list = function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var channelNames, channelContexts;\r\n                var _this = this;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.all()];\r\n                        case 1:\r\n                            channelNames = _a.sent();\r\n                            return [4, Promise.all(channelNames.map(function (channelName) { return _this.get(channelName); }))];\r\n                        case 2:\r\n                            channelContexts = _a.sent();\r\n                            return [2, channelContexts];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ChannelsImpl.prototype.get = function (name) {\r\n            if (typeof name !== \"string\") {\r\n                return Promise.reject(new Error(\"Please provide the channel name as a string!\"));\r\n            }\r\n            return this.shared.getContextData(name);\r\n        };\r\n        ChannelsImpl.prototype.join = function (name) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    return [2, this.joinCore(name)];\r\n                });\r\n            });\r\n        };\r\n        ChannelsImpl.prototype.joinNoSelectorSwitch = function (name) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    return [2, this.joinCore(name, false)];\r\n                });\r\n            });\r\n        };\r\n        ChannelsImpl.prototype.leave = function () {\r\n            return this.leaveCore();\r\n        };\r\n        ChannelsImpl.prototype.leaveNoSelectorSwitch = function () {\r\n            return this.leaveCore(false);\r\n        };\r\n        ChannelsImpl.prototype.current = function () {\r\n            return this.currentContext;\r\n        };\r\n        ChannelsImpl.prototype.my = function () {\r\n            return this.current();\r\n        };\r\n        ChannelsImpl.prototype.changed = function (callback) {\r\n            if (typeof callback !== \"function\") {\r\n                throw new Error(\"Please provide the callback as a function!\");\r\n            }\r\n            return this.registry.add(this.changedKey, callback);\r\n        };\r\n        ChannelsImpl.prototype.onChanged = function (callback) {\r\n            return this.changed(callback);\r\n        };\r\n        ChannelsImpl.prototype.add = function (info) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var context;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (typeof info !== \"object\") {\r\n                                throw new Error(\"Please provide the info as an object!\");\r\n                            }\r\n                            if (typeof info.name === \"undefined\") {\r\n                                throw new Error(\"info.name is missing!\");\r\n                            }\r\n                            if (typeof info.name !== \"string\") {\r\n                                throw new Error(\"Please provide the info.name as a string!\");\r\n                            }\r\n                            if (typeof info.meta === \"undefined\") {\r\n                                throw new Error(\"info.meta is missing!\");\r\n                            }\r\n                            if (typeof info.meta !== \"object\") {\r\n                                throw new Error(\"Please provide the info.meta as an object!\");\r\n                            }\r\n                            if (typeof info.meta.color === \"undefined\") {\r\n                                throw new Error(\"info.meta.color is missing!\");\r\n                            }\r\n                            if (typeof info.meta.color !== \"string\") {\r\n                                throw new Error(\"Please provide the info.meta.color as a string!\");\r\n                            }\r\n                            context = {\r\n                                name: info.name,\r\n                                meta: info.meta || {},\r\n                                data: info.data || {}\r\n                            };\r\n                            return [4, this.shared.updateChannel(info.name, context)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2, context];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ChannelsImpl.prototype.handler = function (data, context, updaterId) {\r\n            this.registry.execute(this.subsKey, data, context, updaterId);\r\n        };\r\n        ChannelsImpl.prototype.joinCore = function (name, changeSelector) {\r\n            if (changeSelector === void 0) { changeSelector = true; }\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var doesChannelExist, channelExistsPromise;\r\n                var _this = this;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (typeof name !== \"string\") {\r\n                                throw new Error(\"Please provide the channel name as a string!\");\r\n                            }\r\n                            if (name === this.currentContext) {\r\n                                return [2];\r\n                            }\r\n                            doesChannelExist = function (channelName) {\r\n                                var channelNames = _this.shared.all();\r\n                                return channelNames.includes(channelName);\r\n                            };\r\n                            if (!!doesChannelExist(name)) return [3, 2];\r\n                            channelExistsPromise = new Promise(function (resolve, reject) {\r\n                                var timeoutId;\r\n                                var intervalId = setInterval(function () {\r\n                                    if (doesChannelExist(name)) {\r\n                                        clearTimeout(timeoutId);\r\n                                        clearInterval(intervalId);\r\n                                        resolve();\r\n                                    }\r\n                                }, 100);\r\n                                timeoutId = setTimeout(function () {\r\n                                    clearInterval(intervalId);\r\n                                    return reject(new Error(\"A channel with name: \" + name + \" doesn't exist!\"));\r\n                                }, 3000);\r\n                            });\r\n                            return [4, channelExistsPromise];\r\n                        case 1:\r\n                            _a.sent();\r\n                            _a.label = 2;\r\n                        case 2:\r\n                            this.currentContext = name;\r\n                            return [4, this.shared.switchChannel(name)];\r\n                        case 3:\r\n                            _a.sent();\r\n                            if (changeSelector) {\r\n                                switchChannel(name);\r\n                            }\r\n                            this.registry.execute(this.changedKey, name);\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ChannelsImpl.prototype.leaveCore = function (changeSelector) {\r\n            if (changeSelector === void 0) { changeSelector = true; }\r\n            this.currentContext = undefined;\r\n            this.registry.execute(this.changedKey, undefined);\r\n            this.shared.unsubscribe();\r\n            if (changeSelector) {\r\n                switchChannel();\r\n            }\r\n            return Promise.resolve();\r\n        };\r\n        return ChannelsImpl;\r\n    }());\n\n    function factory(contexts, agm) {\r\n        var sharedContexts = new SharedContextSubscriber(contexts);\r\n        var channels = new ChannelsImpl(sharedContexts);\r\n        setupAGM(agm, channels);\r\n        return {\r\n            subscribe: channels.subscribe.bind(channels),\r\n            subscribeFor: channels.subscribeFor.bind(channels),\r\n            publish: channels.publish.bind(channels),\r\n            all: channels.all.bind(channels),\r\n            list: channels.list.bind(channels),\r\n            get: channels.get.bind(channels),\r\n            join: channels.join.bind(channels),\r\n            leave: channels.leave.bind(channels),\r\n            current: channels.current.bind(channels),\r\n            my: channels.my.bind(channels),\r\n            changed: channels.changed.bind(channels),\r\n            onChanged: channels.onChanged.bind(channels),\r\n            add: channels.add.bind(channels),\r\n            ready: function () { return contexts.ready(); }\r\n        };\r\n    }\n\n    var CommandMethod = \"T42.Hotkeys.Command\";\r\n    var InvokeMethod = \"T42.Hotkeys.Invoke\";\r\n    var RegisterCommand = \"register\";\r\n    var UnregisterCommand = \"unregister\";\r\n    var UnregisterAllCommand = \"unregisterAll\";\r\n    var HotkeysImpl = (function () {\r\n        function HotkeysImpl(agm) {\r\n            this.agm = agm;\r\n            this.registry = lib$2();\r\n            this.firstHotkey = true;\r\n            this.hotkeys = new Map();\r\n        }\r\n        HotkeysImpl.prototype.register = function (info, callback) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var hkToLower;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (typeof info === \"undefined\") {\r\n                                throw new Error(\"Hotkey parameter missing\");\r\n                            }\r\n                            if (typeof info === \"string\") {\r\n                                info = {\r\n                                    hotkey: info\r\n                                };\r\n                            }\r\n                            else {\r\n                                if (!info.hotkey) {\r\n                                    throw new Error(\"Info's hotkey parameter missing\");\r\n                                }\r\n                                info = {\r\n                                    hotkey: info.hotkey,\r\n                                    description: info.description\r\n                                };\r\n                            }\r\n                            hkToLower = this.formatHotkey(info.hotkey);\r\n                            if (this.hotkeys.has(hkToLower)) {\r\n                                throw new Error(\"Shortcut for \" + hkToLower + \" already registered\");\r\n                            }\r\n                            if (!this.firstHotkey) return [3, 2];\r\n                            this.firstHotkey = false;\r\n                            return [4, this.registerInvokeAGMMethod()];\r\n                        case 1:\r\n                            _a.sent();\r\n                            _a.label = 2;\r\n                        case 2:\r\n                            this.registry.add(hkToLower, callback);\r\n                            return [4, this.agm.invoke(CommandMethod, { command: RegisterCommand, hotkey: hkToLower, description: info.description })];\r\n                        case 3:\r\n                            _a.sent();\r\n                            this.hotkeys.set(hkToLower, info);\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        HotkeysImpl.prototype.unregister = function (hotkey) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var hkToLower;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (typeof hotkey === \"undefined\") {\r\n                                throw new Error(\"hotkey parameter missing\");\r\n                            }\r\n                            if (typeof hotkey !== \"string\") {\r\n                                throw new Error(\"hotkey parameter must be string\");\r\n                            }\r\n                            hkToLower = this.formatHotkey(hotkey);\r\n                            return [4, this.agm.invoke(CommandMethod, { command: UnregisterCommand, hotkey: hkToLower })];\r\n                        case 1:\r\n                            _a.sent();\r\n                            this.hotkeys.delete(hkToLower);\r\n                            this.registry.clearKey(hkToLower);\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        HotkeysImpl.prototype.unregisterAll = function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.agm.invoke(CommandMethod, { command: UnregisterAllCommand })];\r\n                        case 1:\r\n                            _a.sent();\r\n                            this.hotkeys.clear();\r\n                            this.registry.clear();\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        HotkeysImpl.prototype.isRegistered = function (hotkey) {\r\n            var hkToLower = this.formatHotkey(hotkey);\r\n            return this.hotkeys.has(hkToLower);\r\n        };\r\n        HotkeysImpl.prototype.registerInvokeAGMMethod = function () {\r\n            var _this = this;\r\n            this.agm.register(InvokeMethod, function (args) {\r\n                var hkToLower = args.key.toLowerCase();\r\n                var info = _this.hotkeys.get(hkToLower);\r\n                _this.registry.execute(hkToLower, info);\r\n            });\r\n        };\r\n        HotkeysImpl.prototype.formatHotkey = function (hotkey) {\r\n            if (hotkey) {\r\n                return hotkey.replace(/\\s/g, \"\").toLowerCase();\r\n            }\r\n        };\r\n        return HotkeysImpl;\r\n    }());\n\n    function factory$1(agm) {\r\n        var hotkeys = new HotkeysImpl(agm);\r\n        return {\r\n            register: hotkeys.register.bind(hotkeys),\r\n            unregister: hotkeys.unregister.bind(hotkeys),\r\n            unregisterAll: hotkeys.unregisterAll.bind(hotkeys),\r\n            isRegistered: hotkeys.isRegistered.bind(hotkeys),\r\n            ready: function () { return Promise.resolve(); }\r\n        };\r\n    }\n\n    var version$2 = \"5.5.8\";\n\n    var prepareConfig$1 = (function (options) {\r\n        function getLibConfig(value, defaultMode, trueMode) {\r\n            if (typeof value === \"boolean\" && !value) {\r\n                return undefined;\r\n            }\r\n            var mode = getModeAsString(value, defaultMode, trueMode);\r\n            if (typeof value === \"object\") {\r\n                value.mode = mode;\r\n                return value;\r\n            }\r\n            return {\r\n                mode: mode,\r\n            };\r\n        }\r\n        function getModeAsString(value, defaultMode, trueMode) {\r\n            if (typeof value === \"object\") {\r\n                return getModeAsString(value.mode, defaultMode, trueMode) + \"\";\r\n            }\r\n            else if (typeof value === \"undefined\") {\r\n                if (typeof defaultMode === \"boolean\" && !defaultMode) {\r\n                    return undefined;\r\n                }\r\n                else {\r\n                    return defaultMode + \"\";\r\n                }\r\n            }\r\n            else if (typeof value === \"boolean\") {\r\n                if (value) {\r\n                    return ((trueMode === undefined) ? defaultMode : trueMode) + \"\";\r\n                }\r\n                else {\r\n                    return undefined;\r\n                }\r\n            }\r\n            return value + \"\";\r\n        }\r\n        var appDefaultMode = false;\r\n        var appDefaultTrueMode = \"startOnly\";\r\n        var activitiesDefaultMode = \"trackMyTypeAndInitiatedFromMe\";\r\n        var layoutsDefaultMode = \"slim\";\r\n        return {\r\n            layouts: getLibConfig(options.layouts, layoutsDefaultMode),\r\n            activities: getLibConfig(options.activities, activitiesDefaultMode),\r\n            appManager: getLibConfig(options.appManager, appDefaultMode, appDefaultTrueMode),\r\n            windows: getLibConfig(options.windows, true),\r\n            channels: getLibConfig(options.channels || false, false),\r\n            displays: getLibConfig(options.displays, true)\r\n        };\r\n    });\n\n    var Glue42Notification = (function () {\r\n        function Glue42Notification(options) {\r\n            this.options = options;\r\n            this.callbacks = lib$2();\r\n            this.actions = options.actions;\r\n            this.body = options.body;\r\n            this.badge = options.badge;\r\n            this.data = options.data;\r\n            this.dir = options.dir;\r\n            this.icon = options.icon;\r\n            this.image = options.image;\r\n            this.lang = options.lang;\r\n            this.renotify = options.renotify;\r\n            this.requireInteraction = options.requireInteraction;\r\n            this.silent = options.silent;\r\n            this.tag = options.tag;\r\n            this.timestamp = options.timestamp;\r\n            this.title = options.title;\r\n        }\r\n        Glue42Notification.prototype.close = function () {\r\n            throw new Error(\"Method not implemented.\");\r\n        };\r\n        Glue42Notification.prototype.addEventListener = function (type, listener, options) {\r\n            this.callbacks.add(type, listener);\r\n        };\r\n        Glue42Notification.prototype.removeEventListener = function (type, listener, options) {\r\n        };\r\n        Glue42Notification.prototype.dispatchEvent = function (event) {\r\n            this.callbacks.execute(event.type, event);\r\n            return true;\r\n        };\r\n        return Glue42Notification;\r\n    }());\n\n    var STARTING_INDEX = 0;\r\n    var Notifications = (function () {\r\n        function Notifications(interop) {\r\n            this.interop = interop;\r\n            this.methodsRegistered = false;\r\n            this.methodNameRoot = \"T42.Notifications.Handler-\" + shortid$1();\r\n            this.nextId = 0;\r\n            this.notifications = {};\r\n        }\r\n        Object.defineProperty(Notifications.prototype, \"maxActions\", {\r\n            get: function () {\r\n                return 2;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Notifications.prototype.raise = function (options) {\r\n            var _a, _b;\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var bunchOfPromises, index, id, notification, validActions, index, _loop_1, this_1, _i, validActions_1, action, g42notification;\r\n                return __generator(this, function (_c) {\r\n                    switch (_c.label) {\r\n                        case 0:\r\n                            if (!options) {\r\n                                throw new Error(\"invalid options - should be an object\");\r\n                            }\r\n                            if (!options.title) {\r\n                                throw new Error(\"invalid options - should have title\");\r\n                            }\r\n                            if (!!this.methodsRegistered) return [3, 2];\r\n                            bunchOfPromises = [];\r\n                            for (index = STARTING_INDEX; index < this.maxActions; index++) {\r\n                                bunchOfPromises.push(this.interop.register(this.methodNameRoot + \"_\" + index, this.handleNotificationAction.bind(this)));\r\n                            }\r\n                            return [4, Promise.all(bunchOfPromises)];\r\n                        case 1:\r\n                            _c.sent();\r\n                            this.methodsRegistered = true;\r\n                            _c.label = 2;\r\n                        case 2:\r\n                            id = String(this.nextId++);\r\n                            notification = {\r\n                                title: options.title,\r\n                                severity: \"Medium\",\r\n                                description: options.body,\r\n                                glueRoutingDetailMethodName: this.methodNameRoot + \"_\" + STARTING_INDEX,\r\n                                actions: [],\r\n                                source: id\r\n                            };\r\n                            if (options.actions) {\r\n                                validActions = options.actions.slice(0, this.maxActions);\r\n                                index = STARTING_INDEX;\r\n                                _loop_1 = function (action) {\r\n                                    var args = {\r\n                                        g42notificationId: id,\r\n                                        g42action: action.action,\r\n                                        g42interopMethod: (_a = action.interop) === null || _a === void 0 ? void 0 : _a.method,\r\n                                        g42interopTarget: (_b = action.interop) === null || _b === void 0 ? void 0 : _b.target,\r\n                                    };\r\n                                    var parameters = Object.keys(args).map(function (key) {\r\n                                        var value = args[key];\r\n                                        return {\r\n                                            name: key,\r\n                                            value: {\r\n                                                stringValue: value\r\n                                            }\r\n                                        };\r\n                                    });\r\n                                    var glueAction = {\r\n                                        name: this_1.methodNameRoot + \"_\" + index,\r\n                                        description: action.title,\r\n                                        displayName: action.title,\r\n                                        parameters: parameters\r\n                                    };\r\n                                    notification.actions.push(glueAction);\r\n                                    index++;\r\n                                };\r\n                                this_1 = this;\r\n                                for (_i = 0, validActions_1 = validActions; _i < validActions_1.length; _i++) {\r\n                                    action = validActions_1[_i];\r\n                                    _loop_1(action);\r\n                                }\r\n                            }\r\n                            return [4, this.interop.invoke(\"T42.GNS.Publish.RaiseNotification\", { notification: notification })];\r\n                        case 3:\r\n                            _c.sent();\r\n                            g42notification = new Glue42Notification(options);\r\n                            this.notifications[id] = g42notification;\r\n                            return [2, g42notification];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Notifications.prototype.handleNotificationAction = function (args) {\r\n            if (args.g42notificationId) {\r\n                var payload_1 = args;\r\n                var id = payload_1.g42notificationId;\r\n                var notification = this.notifications[id];\r\n                if (!notification) {\r\n                    return;\r\n                }\r\n                var event_1 = new Event(\"onaction\");\r\n                event_1.action = payload_1.g42action;\r\n                if (notification.onaction) {\r\n                    notification.onaction(event_1);\r\n                }\r\n                var actionDefinition = (notification.actions || []).find(function (item) { return item.action === payload_1.g42action; });\r\n                var actionInterop = actionDefinition.interop;\r\n                if (actionInterop) {\r\n                    this.interop.invoke(actionInterop.method, actionInterop.arguments || {}, actionInterop.target || \"best\");\r\n                }\r\n                notification.dispatchEvent(event_1);\r\n            }\r\n            else if (args.notification && args.notification.source) {\r\n                var id = args.notification.source;\r\n                var notification = this.notifications[id];\r\n                if (!notification) {\r\n                    return;\r\n                }\r\n                var event_2 = new Event(\"onclick\");\r\n                if (notification.onclick) {\r\n                    notification.onclick(event_2);\r\n                }\r\n                var clickInterop = notification.options.clickInterop;\r\n                if (clickInterop) {\r\n                    this.interop.invoke(clickInterop.method, clickInterop.arguments || {}, clickInterop.target || \"best\");\r\n                }\r\n                notification.dispatchEvent(event_2);\r\n            }\r\n        };\r\n        return Notifications;\r\n    }());\n\n    var ThemesConfigurationMethodName = \"T42.Themes.Configuration\";\r\n    var ThemesImpl = (function () {\r\n        function ThemesImpl(core) {\r\n            this.core = core;\r\n            this.registry = lib$2();\r\n            this.isSubscribed = false;\r\n            this.getConfiguration();\r\n        }\r\n        ThemesImpl.prototype.list = function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.getConfiguration()];\r\n                        case 1:\r\n                            _a.sent();\r\n                            if (!this.getMethodName) {\r\n                                throw new Error(\"not supported\");\r\n                            }\r\n                            return [4, this.getAll()];\r\n                        case 2: return [2, (_a.sent()).returned.all];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ThemesImpl.prototype.getCurrent = function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var all;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.getConfiguration()];\r\n                        case 1:\r\n                            _a.sent();\r\n                            if (!this.getMethodName) {\r\n                                throw new Error(\"not supported\");\r\n                            }\r\n                            return [4, this.getAll()];\r\n                        case 2:\r\n                            all = _a.sent();\r\n                            return [2, all.returned.all.find(function (t) { return t.name === all.returned.selected; })];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ThemesImpl.prototype.select = function (theme) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.getConfiguration()];\r\n                        case 1:\r\n                            _a.sent();\r\n                            if (!this.setMethodName) {\r\n                                throw new Error(\"not supported\");\r\n                            }\r\n                            return [4, this.core.interop.invoke(this.setMethodName, { theme: theme })];\r\n                        case 2:\r\n                            _a.sent();\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ThemesImpl.prototype.onChanged = function (callback) {\r\n            this.subscribe();\r\n            return this.registry.add(\"changed\", callback);\r\n        };\r\n        ThemesImpl.prototype.getConfiguration = function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var config, error_1;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            _a.trys.push([0, 2, , 3]);\r\n                            if (this.sharedContextName) {\r\n                                return [2];\r\n                            }\r\n                            return [4, this.core.interop.invoke(ThemesConfigurationMethodName)];\r\n                        case 1:\r\n                            config = _a.sent();\r\n                            this.sharedContextName = config.returned.sharedContextName;\r\n                            this.getMethodName = config.returned.getThemesMethodName;\r\n                            this.setMethodName = config.returned.setThemesMethodName;\r\n                            return [3, 3];\r\n                        case 2:\r\n                            error_1 = _a.sent();\r\n                            return [2];\r\n                        case 3: return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ThemesImpl.prototype.getAll = function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.getConfiguration()];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [4, this.core.interop.invoke(this.getMethodName)];\r\n                        case 2: return [2, _a.sent()];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ThemesImpl.prototype.subscribe = function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var _this = this;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.getConfiguration()];\r\n                        case 1:\r\n                            _a.sent();\r\n                            if (this.isSubscribed) {\r\n                                return [2];\r\n                            }\r\n                            this.isSubscribed = true;\r\n                            this.core.contexts.subscribe(this.sharedContextName, function (data) {\r\n                                if (data && data.all && data.selected) {\r\n                                    _this.registry.execute(\"changed\", data.all.find(function (t) { return t.name === data.selected; }));\r\n                                }\r\n                            });\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        return ThemesImpl;\r\n    }());\n\n    function factory$2(core) {\r\n        var themes = new ThemesImpl(core);\r\n        return {\r\n            list: themes.list.bind(themes),\r\n            getCurrent: themes.getCurrent.bind(themes),\r\n            select: themes.select.bind(themes),\r\n            onChanged: themes.onChanged.bind(themes),\r\n            ready: function () { return Promise.resolve(); },\r\n        };\r\n    }\n\n    var GLUE42_FDC3_INTENTS_METHOD_PREFIX = \"Tick42.FDC3.Intents.\";\r\n    var Intents = (function () {\r\n        function Intents(interop, windows, logger) {\r\n            this.interop = interop;\r\n            this.windows = windows;\r\n            this.logger = logger;\r\n        }\r\n        Intents.prototype.find = function (intentFilter) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var intents, ctToLower_1;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.all()];\r\n                        case 1:\r\n                            intents = _a.sent();\r\n                            if (typeof intentFilter === \"undefined\") {\r\n                                return [2, intents];\r\n                            }\r\n                            if (typeof intentFilter === \"string\") {\r\n                                return [2, intents.filter(function (intent) { return intent.name === intentFilter; })];\r\n                            }\r\n                            if (typeof intentFilter !== \"object\") {\r\n                                throw new Error(\"Please provide the intentFilter as a string or an object!\");\r\n                            }\r\n                            if (intentFilter.contextType) {\r\n                                ctToLower_1 = intentFilter.contextType.toLowerCase();\r\n                                intents = intents.filter(function (intent) { return intent.handlers.some(function (handler) { var _a; return (_a = handler.contextTypes) === null || _a === void 0 ? void 0 : _a.some(function (ct) { return ct.toLowerCase() === ctToLower_1; }); }); });\r\n                            }\r\n                            if (intentFilter.name) {\r\n                                intents = intents.filter(function (intent) { return intent.name === intentFilter.name; });\r\n                            }\r\n                            return [2, intents];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Intents.prototype.raise = function (intent) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var intentName, intentDef, isDynamicIntent, target, handler, anAppHandler, anInstanceHandler, instanceId, result;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if ((typeof intent !== \"string\" && typeof intent !== \"object\") || (typeof intent === \"object\" && typeof intent.intent !== \"string\")) {\r\n                                throw new Error(\"Please provide the intent as a string or an object with an intent property!\");\r\n                            }\r\n                            if (typeof intent === \"string\") {\r\n                                intent = {\r\n                                    intent: intent\r\n                                };\r\n                            }\r\n                            intentName = intent.intent;\r\n                            return [4, this.get(intentName)];\r\n                        case 1:\r\n                            intentDef = _a.sent();\r\n                            if (typeof intentDef === \"undefined\") {\r\n                                throw new Error(\"Intent \" + intentName + \" not found.\");\r\n                            }\r\n                            isDynamicIntent = !intentDef.handlers.some(function (intentDefHandler) { return intentDefHandler.type === \"app\"; });\r\n                            target = intent.target || (isDynamicIntent ? \"reuse\" : \"startNew\");\r\n                            anAppHandler = intentDef.handlers.find(function (intentHandler) { return intentHandler.type === \"app\"; });\r\n                            if (target === \"startNew\") {\r\n                                handler = anAppHandler;\r\n                            }\r\n                            else if (target === \"reuse\") {\r\n                                anInstanceHandler = intentDef.handlers.find(function (intentHandler) { return intentHandler.type === \"instance\"; });\r\n                                handler = anInstanceHandler || anAppHandler;\r\n                            }\r\n                            else if (target.instance) {\r\n                                handler = intentDef.handlers.find(function (intentHandler) { return intentHandler.type === \"instance\" && intentHandler.instanceId === target.instance; });\r\n                            }\r\n                            else if (target.app) {\r\n                                handler = intentDef.handlers.find(function (intentHandler) { return intentHandler.type === \"app\" && intentHandler.applicationName === target.app; });\r\n                            }\r\n                            else {\r\n                                throw new Error(\"Invalid intent target: \" + JSON.stringify(target));\r\n                            }\r\n                            if (!handler) {\r\n                                throw new Error(\"Can not raise intent for request \" + JSON.stringify(intent) + \" - can not find intent handler.\");\r\n                            }\r\n                            instanceId = handler.instanceId;\r\n                            if (!(handler.type === \"app\")) return [3, 3];\r\n                            return [4, this.startApp(handler.applicationName, intent.options)];\r\n                        case 2:\r\n                            instanceId = _a.sent();\r\n                            _a.label = 3;\r\n                        case 3: return [4, this.raiseIntentToInstance(instanceId, intentName, intent.context)];\r\n                        case 4:\r\n                            result = _a.sent();\r\n                            result.request = intent;\r\n                            result.handler = handler;\r\n                            return [2, result];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Intents.prototype.all = function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var apps, result, e_1, intents, appsWithIntents, _i, appsWithIntents_1, app, _a, _b, intentDef, intent, handler, servers, serverWindowIds, T42WndGetInfo, isT42WndGetInfoMethodRegistered, windowsInfos, result, e_2, _loop_1, _c, servers_1, server;\r\n                var _this = this;\r\n                return __generator(this, function (_d) {\r\n                    switch (_d.label) {\r\n                        case 0:\r\n                            _d.trys.push([0, 2, , 3]);\r\n                            return [4, this.interop.invoke(\"T42.ACS.GetApplications\", { withIntentsInfo: true })];\r\n                        case 1:\r\n                            result = _d.sent();\r\n                            apps = result.returned.applications;\r\n                            return [3, 3];\r\n                        case 2:\r\n                            e_1 = _d.sent();\r\n                            this.logger.error(\"Failed to get the applications!\", e_1);\r\n                            return [2, []];\r\n                        case 3:\r\n                            intents = {};\r\n                            appsWithIntents = apps.filter(function (app) { return app.intents && app.intents.length > 0; });\r\n                            for (_i = 0, appsWithIntents_1 = appsWithIntents; _i < appsWithIntents_1.length; _i++) {\r\n                                app = appsWithIntents_1[_i];\r\n                                for (_a = 0, _b = app.intents; _a < _b.length; _a++) {\r\n                                    intentDef = _b[_a];\r\n                                    intent = intents[intentDef.name];\r\n                                    if (!intent) {\r\n                                        intent = {\r\n                                            name: intentDef.name,\r\n                                            handlers: [],\r\n                                        };\r\n                                        intents[intentDef.name] = intent;\r\n                                    }\r\n                                    handler = {\r\n                                        applicationName: app.name,\r\n                                        applicationTitle: app.title || \"\",\r\n                                        applicationDescription: app.caption,\r\n                                        displayName: intentDef.displayName,\r\n                                        contextTypes: intentDef.contexts,\r\n                                        applicationIcon: app.icon,\r\n                                        type: \"app\"\r\n                                    };\r\n                                    intent.handlers.push(handler);\r\n                                }\r\n                            }\r\n                            servers = this.interop.servers();\r\n                            serverWindowIds = servers.map(function (server) { return server.windowId; }).filter(function (serverWindowId) { return typeof serverWindowId !== \"undefined\"; });\r\n                            T42WndGetInfo = \"T42.Wnd.GetInfo\";\r\n                            isT42WndGetInfoMethodRegistered = this.interop.methods().some(function (method) { return method.name === T42WndGetInfo; });\r\n                            if (!isT42WndGetInfoMethodRegistered) return [3, 7];\r\n                            _d.label = 4;\r\n                        case 4:\r\n                            _d.trys.push([4, 6, , 7]);\r\n                            return [4, this.interop.invoke(T42WndGetInfo, { ids: serverWindowIds })];\r\n                        case 5:\r\n                            result = _d.sent();\r\n                            windowsInfos = result.returned.windows;\r\n                            return [3, 7];\r\n                        case 6:\r\n                            e_2 = _d.sent();\r\n                            return [3, 7];\r\n                        case 7:\r\n                            _loop_1 = function (server) {\r\n                                return __generator(this, function (_a) {\r\n                                    switch (_a.label) {\r\n                                        case 0: return [4, Promise.all(server.getMethods()\r\n                                                .filter(function (method) { return method.name.startsWith(GLUE42_FDC3_INTENTS_METHOD_PREFIX); })\r\n                                                .map(function (method) { return __awaiter(_this, void 0, void 0, function () {\r\n                                                var intentName, intent, info, app, appIntent, title, handler;\r\n                                                var _a, _b, _c, _d, _e;\r\n                                                return __generator(this, function (_f) {\r\n                                                    switch (_f.label) {\r\n                                                        case 0:\r\n                                                            intentName = method.name.replace(GLUE42_FDC3_INTENTS_METHOD_PREFIX, \"\");\r\n                                                            intent = intents[intentName];\r\n                                                            if (!intent) {\r\n                                                                intent = {\r\n                                                                    name: intentName,\r\n                                                                    handlers: [],\r\n                                                                };\r\n                                                                intents[intentName] = intent;\r\n                                                            }\r\n                                                            info = method.flags.intent;\r\n                                                            app = apps.find(function (appWithIntents) { return appWithIntents.name === server.application; });\r\n                                                            if (app && app.intents) {\r\n                                                                appIntent = app.intents.find(function (appDefIntent) { return appDefIntent.name === intentName; });\r\n                                                            }\r\n                                                            return [4, this.windowsIdToTitle(server.windowId, windowsInfos)];\r\n                                                        case 1:\r\n                                                            title = _f.sent();\r\n                                                            handler = {\r\n                                                                instanceId: server.instance,\r\n                                                                applicationName: server.application,\r\n                                                                applicationIcon: info.icon || ((_a = app) === null || _a === void 0 ? void 0 : _a.icon),\r\n                                                                applicationTitle: ((_b = app) === null || _b === void 0 ? void 0 : _b.title) || \"\",\r\n                                                                applicationDescription: info.description || ((_c = app) === null || _c === void 0 ? void 0 : _c.caption),\r\n                                                                displayName: info.displayName || ((_d = appIntent) === null || _d === void 0 ? void 0 : _d.displayName),\r\n                                                                contextTypes: info.contextTypes || ((_e = appIntent) === null || _e === void 0 ? void 0 : _e.contexts),\r\n                                                                instanceTitle: title,\r\n                                                                type: \"instance\"\r\n                                                            };\r\n                                                            intent.handlers.push(handler);\r\n                                                            return [2];\r\n                                                    }\r\n                                                });\r\n                                            }); }))];\r\n                                        case 1:\r\n                                            _a.sent();\r\n                                            return [2];\r\n                                    }\r\n                                });\r\n                            };\r\n                            _c = 0, servers_1 = servers;\r\n                            _d.label = 8;\r\n                        case 8:\r\n                            if (!(_c < servers_1.length)) return [3, 11];\r\n                            server = servers_1[_c];\r\n                            return [5, _loop_1(server)];\r\n                        case 9:\r\n                            _d.sent();\r\n                            _d.label = 10;\r\n                        case 10:\r\n                            _c++;\r\n                            return [3, 8];\r\n                        case 11: return [2, Object.values(intents)];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Intents.prototype.addIntentListener = function (intent, handler) {\r\n            var _this = this;\r\n            if ((typeof intent !== \"string\" && typeof intent !== \"object\") || (typeof intent === \"object\" && typeof intent.intent !== \"string\")) {\r\n                throw new Error(\"Please provide the intent as a string or an object with an intent property!\");\r\n            }\r\n            if (typeof handler !== \"function\") {\r\n                throw new Error(\"Please provide the handler as a function!\");\r\n            }\r\n            var result = { unsubscribe: function () { return console.log(\"Could not unsubscribe!\"); } };\r\n            var intentName = typeof intent === \"string\" ? intent : intent.intent;\r\n            var methodName = \"\" + GLUE42_FDC3_INTENTS_METHOD_PREFIX + intentName;\r\n            var intentFlag = {};\r\n            if (typeof intent === \"object\") {\r\n                var removed = intent.intent, rest = __rest(intent, [\"intent\"]);\r\n                intentFlag = rest;\r\n            }\r\n            this.interop.register({ name: methodName, flags: { intent: intentFlag } }, function (args) {\r\n                return handler(args);\r\n            }).then(function () {\r\n                result.unsubscribe = function () {\r\n                    _this.interop.unregister(methodName);\r\n                };\r\n            });\r\n            return result;\r\n        };\r\n        Intents.prototype.get = function (intent) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.all()];\r\n                        case 1: return [2, (_a.sent()).find(function (registeredIntent) { return registeredIntent.name === intent; })];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Intents.prototype.startApp = function (application, options) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var result;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4, this.interop.invoke(\"T42.ACS.StartApplication\", { Name: application, options: options })];\r\n                        case 1:\r\n                            result = _a.sent();\r\n                            return [2, result.returned.Id];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Intents.prototype.raiseIntentToInstance = function (instanceId, intent, context) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var methodName, interopServer, method, result;\r\n                var _this = this;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            methodName = \"\" + GLUE42_FDC3_INTENTS_METHOD_PREFIX + intent;\r\n                            interopServer = this.interop.servers().find(function (server) { return server.instance === instanceId; });\r\n                            if (!!interopServer) return [3, 2];\r\n                            return [4, (new Promise(function (resolve, reject) {\r\n                                    var timeoutId;\r\n                                    var unsub = _this.interop.serverAdded(function (server) {\r\n                                        if (server.instance === instanceId) {\r\n                                            interopServer = server;\r\n                                            resolve();\r\n                                            clearTimeout(timeoutId);\r\n                                            unsub();\r\n                                        }\r\n                                    });\r\n                                    timeoutId = setTimeout(function () {\r\n                                        unsub();\r\n                                        reject(new Error(\"Can not find interop server for instance \" + instanceId));\r\n                                    }, 30 * 1000);\r\n                                }))];\r\n                        case 1:\r\n                            _a.sent();\r\n                            _a.label = 2;\r\n                        case 2:\r\n                            method = interopServer.getMethods().find(function (registeredMethod) { return registeredMethod.name === methodName; });\r\n                            if (!!method) return [3, 4];\r\n                            return [4, (new Promise(function (resolve, reject) {\r\n                                    var timeoutId;\r\n                                    var unsub = _this.interop.methodAdded(function (addedMethod) {\r\n                                        if (addedMethod.name === methodName) {\r\n                                            resolve();\r\n                                            clearTimeout(timeoutId);\r\n                                            unsub();\r\n                                        }\r\n                                    });\r\n                                    timeoutId = setTimeout(function () {\r\n                                        unsub();\r\n                                        reject(new Error(\"Can not find interop method \" + methodName + \" for instance \" + instanceId));\r\n                                    }, 10 * 1000);\r\n                                }))];\r\n                        case 3:\r\n                            _a.sent();\r\n                            _a.label = 4;\r\n                        case 4: return [4, this.interop.invoke(methodName, context, { instance: instanceId })];\r\n                        case 5:\r\n                            result = _a.sent();\r\n                            return [2, {\r\n                                    result: result.returned\r\n                                }];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Intents.prototype.windowsIdToTitle = function (id, windowsInfos) {\r\n            var _a, _b, _c;\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var window, title;\r\n                return __generator(this, function (_d) {\r\n                    switch (_d.label) {\r\n                        case 0:\r\n                            if (typeof windowsInfos !== \"undefined\") {\r\n                                return [2, (_a = windowsInfos.find(function (windowsInfo) { return windowsInfo.id === id; })) === null || _a === void 0 ? void 0 : _a.title];\r\n                            }\r\n                            window = (_b = this.windows) === null || _b === void 0 ? void 0 : _b.findById(id);\r\n                            return [4, ((_c = window) === null || _c === void 0 ? void 0 : _c.getTitle())];\r\n                        case 1:\r\n                            title = _d.sent();\r\n                            return [2, title];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        return Intents;\r\n    }());\n\n    var InitInfo = (function () {\r\n        function InitInfo() {\r\n            var _this = this;\r\n            this.numberOfCalls = 0;\r\n            this.numberOfCalls = 1;\r\n            this.promise = new Promise(function (resolve, reject) {\r\n                _this.resolve = resolve;\r\n                _this.reject = reject;\r\n            });\r\n        }\r\n        InitInfo.prototype.getPromise = function () {\r\n            this.numberOfCalls++;\r\n            return this.promise;\r\n        };\r\n        InitInfo.prototype.done = function (g) {\r\n            this.resolve(g);\r\n        };\r\n        InitInfo.prototype.error = function (e) {\r\n            this.reject(e);\r\n        };\r\n        return InitInfo;\r\n    }());\n\n    var initInfo;\r\n    var factory$3 = function (options) { return __awaiter(void 0, void 0, void 0, function () {\r\n        var glue42gd, g;\r\n        var _a;\r\n        return __generator(this, function (_b) {\r\n            switch (_b.label) {\r\n                case 0:\r\n                    glue42gd = typeof window !== \"undefined\" && window.glue42gd;\r\n                    if (glue42gd) {\r\n                        if (initInfo) {\r\n                            return [2, initInfo.getPromise()];\r\n                        }\r\n                        else {\r\n                            initInfo = new InitInfo();\r\n                        }\r\n                    }\r\n                    return [4, factoryCore(options, glue42gd)];\r\n                case 1:\r\n                    g = _b.sent();\r\n                    (_a = initInfo) === null || _a === void 0 ? void 0 : _a.resolve(g);\r\n                    return [2, g];\r\n            }\r\n        });\r\n    }); };\r\n    var factoryCore = function (options, glue42gd) { return __awaiter(void 0, void 0, void 0, function () {\r\n        function createWindows(core) {\r\n            if (glueConfig.windows) {\r\n                var windowsLogger = getLibLogger(\"windows\", core.logger, glueConfig.windows);\r\n                _windows = WindowsFactory(core.agm, windowsLogger, function () {\r\n                    return _appManager;\r\n                }, function () {\r\n                    return _displays;\r\n                }, gdMajorVersion);\r\n                debugLog(_windows);\r\n                return _windows;\r\n            }\r\n        }\r\n        function createActivities(core) {\r\n            var _a, _b;\r\n            if (glueConfig.activities) {\r\n                if (ActivityModule.checkIsUsingGW3Implementation && ActivityModule.checkIsUsingGW3Implementation(core.connection)) {\r\n                    var activityLogger = getLibLogger(\"activity\", core.logger, glueConfig.activities);\r\n                    _activity = new ActivityModule({\r\n                        connection: core.connection,\r\n                        contexts: core.contexts,\r\n                        agm: core.agm,\r\n                        logger: activityLogger,\r\n                        logLevel: \"info\",\r\n                        disableAutoAnnounce: false,\r\n                        disposeRequestHandling: \"exit\",\r\n                        announcementInfo: null,\r\n                        windows: _windows,\r\n                        appManagerGetter: function () {\r\n                            return _appManager;\r\n                        },\r\n                        mode: glueConfig.activities.mode,\r\n                        typesToTrack: glueConfig.activities.typesToTrack,\r\n                        activityId: (_b = (_a = glue42gd) === null || _a === void 0 ? void 0 : _a.activityInfo) === null || _b === void 0 ? void 0 : _b.activityId,\r\n                        gdMajorVersion: gdMajorVersion\r\n                    }).api;\r\n                    debugLog(_activity);\r\n                    return _activity;\r\n                }\r\n            }\r\n        }\r\n        function createAppManager(core) {\r\n            if (!glueConfig.appManager) {\r\n                return;\r\n            }\r\n            var logger = getLibLogger(\"appManager\", core.logger, glueConfig.appManager);\r\n            _appManager = AppManagerFactory({\r\n                agm: core.agm,\r\n                windows: _windows,\r\n                logger: logger,\r\n                activities: _activity,\r\n                mode: glueConfig.appManager.mode,\r\n                gdMajorVersion: gdMajorVersion\r\n            });\r\n            debugLog(_appManager);\r\n            return _appManager;\r\n        }\r\n        function createLayouts(core) {\r\n            var _a;\r\n            if (!glueConfig.layouts) {\r\n                return;\r\n            }\r\n            var logger = getLibLogger(\"layouts\", core.logger, glueConfig.layouts);\r\n            var layoutsConfig = glueConfig.layouts;\r\n            var lay = LayoutsFactory({\r\n                agm: core.agm,\r\n                appManager: _appManager,\r\n                activityGetter: function () { return _activity; },\r\n                logger: logger,\r\n                mode: layoutsConfig.mode,\r\n                autoSaveWindowContext: (_a = layoutsConfig.autoSaveWindowContext, (_a !== null && _a !== void 0 ? _a : false)),\r\n                gdMajorVersion: gdMajorVersion\r\n            });\r\n            debugLog(lay);\r\n            return lay;\r\n        }\r\n        function createChannels(core) {\r\n            if (!glueConfig.channels) {\r\n                return;\r\n            }\r\n            if (!core.contexts) {\r\n                return;\r\n            }\r\n            var channelsAPI = factory(core.contexts, core.agm);\r\n            debugLog(channelsAPI);\r\n            return channelsAPI;\r\n        }\r\n        function createHotkeys(core) {\r\n            var hotkeysAPI = factory$1(core.agm);\r\n            debugLog(hotkeysAPI);\r\n            return hotkeysAPI;\r\n        }\r\n        function createIntents(core) {\r\n            var intentsAPI = new Intents(core.agm, _windows, core.logger.subLogger(\"intents\"));\r\n            debugLog(intentsAPI);\r\n            return intentsAPI;\r\n        }\r\n        function createNotifications(core) {\r\n            var notificationsAPI = new Notifications(core.interop);\r\n            debugLog(notificationsAPI);\r\n            return notificationsAPI;\r\n        }\r\n        function createDisplaysApi(core) {\r\n            if (glueConfig.displays) {\r\n                var displaysLogger = getLibLogger(\"displays\", core.logger, glueConfig.displays);\r\n                _displays = new DisplayManager(core.agm, displaysLogger);\r\n                debugLog(_displays);\r\n                return _displays;\r\n            }\r\n        }\r\n        function createThemes(core) {\r\n            if (!core.contexts) {\r\n                return;\r\n            }\r\n            var themesAPI = factory$2(core);\r\n            debugLog(themesAPI);\r\n            return themesAPI;\r\n        }\r\n        function getLibLogger(loggerName, logger, config) {\r\n            var newLogger = logger.subLogger(loggerName);\r\n            if (config && config.logger) {\r\n                var loggerConfig = config.logger;\r\n                if (loggerConfig.console) {\r\n                    newLogger.consoleLevel(loggerConfig.console);\r\n                }\r\n                if (loggerConfig.publish) {\r\n                    newLogger.publishLevel(loggerConfig.publish);\r\n                }\r\n            }\r\n            return newLogger;\r\n        }\r\n        function debugLog(entry) {\r\n            currentLog.push(entry);\r\n        }\r\n        var gdMajorVersion, glueConfig, _appManager, _activity, _windows, _displays, ext, currentLog, glueApi;\r\n        var _a;\r\n        return __generator(this, function (_b) {\r\n            switch (_b.label) {\r\n                case 0:\r\n                    gdMajorVersion = Utils$1.getGDMajorVersion();\r\n                    options = options || {};\r\n                    glueConfig = prepareConfig$1(options);\r\n                    options.gateway = options.gateway || {};\r\n                    ext = {\r\n                        libs: [\r\n                            { name: \"windows\", create: createWindows },\r\n                            { name: \"activities\", create: createActivities },\r\n                            { name: \"appManager\", create: createAppManager },\r\n                            { name: \"layouts\", create: createLayouts },\r\n                            { name: \"channels\", create: createChannels },\r\n                            { name: \"hotkeys\", create: createHotkeys },\r\n                            { name: \"displays\", create: createDisplaysApi },\r\n                            { name: \"intents\", create: createIntents },\r\n                            { name: \"notifications\", create: createNotifications },\r\n                            { name: \"themes\", create: createThemes }\r\n                        ],\r\n                        version: version$2,\r\n                        enrichGlue: function (glue) {\r\n                            glue.config.activities = glueConfig.activities;\r\n                            glue.config.windows = glueConfig.windows;\r\n                            glue.config.appManager = glueConfig.appManager;\r\n                            glue.config.layouts = glueConfig.layouts;\r\n                            glue.config.channels = glueConfig.channels;\r\n                            glue.config.displays = glueConfig.displays;\r\n                        },\r\n                    };\r\n                    currentLog = [];\r\n                    if (typeof window !== \"undefined\") {\r\n                        if (!window.glueFactoryLog) {\r\n                            window.glueFactoryLog = [];\r\n                        }\r\n                        window.glueFactoryLog.push(currentLog);\r\n                    }\r\n                    return [4, GlueCore(options, ext)];\r\n                case 1:\r\n                    glueApi = (_b.sent());\r\n                    if (!(Array.isArray((_a = options) === null || _a === void 0 ? void 0 : _a.libraries) && options.libraries.length)) return [3, 3];\r\n                    return [4, Promise.all(options.libraries.map(function (lib) { return lib(glueApi, options); }))];\r\n                case 2:\r\n                    _b.sent();\r\n                    _b.label = 3;\r\n                case 3: return [2, glueApi];\r\n            }\r\n        });\r\n    }); };\r\n    factory$3.coreVersion = GlueCore.version;\r\n    factory$3.version = version$2;\r\n    factory$3.initInfo = initInfo;\n\n    var whatToExpose = factory$3;\r\n    var shouldSetToWindow = true;\r\n    if (typeof window !== \"undefined\") {\r\n        var glue42gd = window.glue42gd;\r\n        if (glue42gd && glue42gd.autoInjected) {\r\n            whatToExpose = window.Glue;\r\n            shouldSetToWindow = false;\r\n        }\r\n        if (shouldSetToWindow) {\r\n            window.Glue = whatToExpose;\r\n        }\r\n        delete window.GlueCore;\r\n    }\r\n    whatToExpose.default = whatToExpose;\r\n    var whatToExpose$1 = whatToExpose;\n\n    return whatToExpose$1;\n\n})));\n//# sourceMappingURL=desktop.browser.js.map\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\n\nconst defaultConfig = {\r\n    logger: \"info\",\r\n    gateway: { webPlatform: {} },\r\n    libraries: []\r\n};\r\nconst parseConfig = (config) => {\r\n    var _a;\r\n    const combined = Object.assign({}, defaultConfig, config);\r\n    if (combined.systemLogger) {\r\n        combined.logger = (_a = combined.systemLogger.level) !== null && _a !== void 0 ? _a : \"info\";\r\n    }\r\n    return combined;\r\n};\n\nconst checkSingleton = () => {\r\n    const glue42CoreNamespace = window.glue42core;\r\n    if (glue42CoreNamespace && glue42CoreNamespace.webStarted) {\r\n        throw new Error(\"The Glue42 Core Web has already been started for this application.\");\r\n    }\r\n    if (!glue42CoreNamespace) {\r\n        window.glue42core = { webStarted: true };\r\n        return;\r\n    }\r\n    glue42CoreNamespace.webStarted = true;\r\n};\n\nconst enterprise = (config) => {\r\n    var _a, _b;\r\n    const enterpriseConfig = {\r\n        windows: true,\r\n        layouts: \"full\",\r\n        appManager: \"full\",\r\n        channels: true,\r\n        libraries: config.libraries,\r\n        logger: (_b = (_a = config === null || config === void 0 ? void 0 : config.systemLogger) === null || _a === void 0 ? void 0 : _a.level) !== null && _b !== void 0 ? _b : \"warn\"\r\n    };\r\n    return window.Glue(enterpriseConfig);\r\n};\n\n/**\r\n * Wraps values in an `Ok` type.\r\n *\r\n * Example: `ok(5) // => {ok: true, result: 5}`\r\n */\r\nvar ok = function (result) { return ({ ok: true, result: result }); };\r\n/**\r\n * Typeguard for `Ok`.\r\n */\r\nvar isOk = function (r) { return r.ok === true; };\r\n/**\r\n * Wraps errors in an `Err` type.\r\n *\r\n * Example: `err('on fire') // => {ok: false, error: 'on fire'}`\r\n */\r\nvar err = function (error) { return ({ ok: false, error: error }); };\r\n/**\r\n * Typeguard for `Err`.\r\n */\r\nvar isErr = function (r) { return r.ok === false; };\r\n/**\r\n * Create a `Promise` that either resolves with the result of `Ok` or rejects\r\n * with the error of `Err`.\r\n */\r\nvar asPromise = function (r) {\r\n    return r.ok === true ? Promise.resolve(r.result) : Promise.reject(r.error);\r\n};\r\n/**\r\n * Unwraps a `Result` and returns either the result of an `Ok`, or\r\n * `defaultValue`.\r\n *\r\n * Example:\r\n * ```\r\n * Result.withDefault(5, number().run(json))\r\n * ```\r\n *\r\n * It would be nice if `Decoder` had an instance method that mirrored this\r\n * function. Such a method would look something like this:\r\n * ```\r\n * class Decoder<A> {\r\n *   runWithDefault = (defaultValue: A, json: any): A =>\r\n *     Result.withDefault(defaultValue, this.run(json));\r\n * }\r\n *\r\n * number().runWithDefault(5, json)\r\n * ```\r\n * Unfortunately, the type of `defaultValue: A` on the method causes issues\r\n * with type inference on  the `object` decoder in some situations. While these\r\n * inference issues can be solved by providing the optional type argument for\r\n * `object`s, the extra trouble and confusion doesn't seem worth it.\r\n */\r\nvar withDefault = function (defaultValue, r) {\r\n    return r.ok === true ? r.result : defaultValue;\r\n};\r\n/**\r\n * Return the successful result, or throw an error.\r\n */\r\nvar withException = function (r) {\r\n    if (r.ok === true) {\r\n        return r.result;\r\n    }\r\n    else {\r\n        throw r.error;\r\n    }\r\n};\r\n/**\r\n * Given an array of `Result`s, return the successful values.\r\n */\r\nvar successes = function (results) {\r\n    return results.reduce(function (acc, r) { return (r.ok === true ? acc.concat(r.result) : acc); }, []);\r\n};\r\n/**\r\n * Apply `f` to the result of an `Ok`, or pass the error through.\r\n */\r\nvar map = function (f, r) {\r\n    return r.ok === true ? ok(f(r.result)) : r;\r\n};\r\n/**\r\n * Apply `f` to the result of two `Ok`s, or pass an error through. If both\r\n * `Result`s are errors then the first one is returned.\r\n */\r\nvar map2 = function (f, ar, br) {\r\n    return ar.ok === false ? ar :\r\n        br.ok === false ? br :\r\n            ok(f(ar.result, br.result));\r\n};\r\n/**\r\n * Apply `f` to the error of an `Err`, or pass the success through.\r\n */\r\nvar mapError = function (f, r) {\r\n    return r.ok === true ? r : err(f(r.error));\r\n};\r\n/**\r\n * Chain together a sequence of computations that may fail, similar to a\r\n * `Promise`. If the first computation fails then the error will propagate\r\n * through. If it succeeds, then `f` will be applied to the value, returning a\r\n * new `Result`.\r\n */\r\nvar andThen = function (f, r) {\r\n    return r.ok === true ? f(r.result) : r;\r\n};\r\n\r\n\r\nvar result = Object.freeze({\r\n\tok: ok,\r\n\tisOk: isOk,\r\n\terr: err,\r\n\tisErr: isErr,\r\n\tasPromise: asPromise,\r\n\twithDefault: withDefault,\r\n\twithException: withException,\r\n\tsuccesses: successes,\r\n\tmap: map,\r\n\tmap2: map2,\r\n\tmapError: mapError,\r\n\tandThen: andThen\r\n});\r\n\r\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\n\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __rest$1(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nfunction isEqual(a, b) {\r\n    if (a === b) {\r\n        return true;\r\n    }\r\n    if (a === null && b === null) {\r\n        return true;\r\n    }\r\n    if (typeof (a) !== typeof (b)) {\r\n        return false;\r\n    }\r\n    if (typeof (a) === 'object') {\r\n        // Array\r\n        if (Array.isArray(a)) {\r\n            if (!Array.isArray(b)) {\r\n                return false;\r\n            }\r\n            if (a.length !== b.length) {\r\n                return false;\r\n            }\r\n            for (var i = 0; i < a.length; i++) {\r\n                if (!isEqual(a[i], b[i])) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n        // Hash table\r\n        var keys = Object.keys(a);\r\n        if (keys.length !== Object.keys(b).length) {\r\n            return false;\r\n        }\r\n        for (var i = 0; i < keys.length; i++) {\r\n            if (!b.hasOwnProperty(keys[i])) {\r\n                return false;\r\n            }\r\n            if (!isEqual(a[keys[i]], b[keys[i]])) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n}\r\n/*\r\n * Helpers\r\n */\r\nvar isJsonArray = function (json) { return Array.isArray(json); };\r\nvar isJsonObject = function (json) {\r\n    return typeof json === 'object' && json !== null && !isJsonArray(json);\r\n};\r\nvar typeString = function (json) {\r\n    switch (typeof json) {\r\n        case 'string':\r\n            return 'a string';\r\n        case 'number':\r\n            return 'a number';\r\n        case 'boolean':\r\n            return 'a boolean';\r\n        case 'undefined':\r\n            return 'undefined';\r\n        case 'object':\r\n            if (json instanceof Array) {\r\n                return 'an array';\r\n            }\r\n            else if (json === null) {\r\n                return 'null';\r\n            }\r\n            else {\r\n                return 'an object';\r\n            }\r\n        default:\r\n            return JSON.stringify(json);\r\n    }\r\n};\r\nvar expectedGot = function (expected, got) {\r\n    return \"expected \" + expected + \", got \" + typeString(got);\r\n};\r\nvar printPath = function (paths) {\r\n    return paths.map(function (path) { return (typeof path === 'string' ? \".\" + path : \"[\" + path + \"]\"); }).join('');\r\n};\r\nvar prependAt = function (newAt, _a) {\r\n    var at = _a.at, rest = __rest$1(_a, [\"at\"]);\r\n    return (__assign({ at: newAt + (at || '') }, rest));\r\n};\r\n/**\r\n * Decoders transform json objects with unknown structure into known and\r\n * verified forms. You can create objects of type `Decoder<A>` with either the\r\n * primitive decoder functions, such as `boolean()` and `string()`, or by\r\n * applying higher-order decoders to the primitives, such as `array(boolean())`\r\n * or `dict(string())`.\r\n *\r\n * Each of the decoder functions are available both as a static method on\r\n * `Decoder` and as a function alias -- for example the string decoder is\r\n * defined at `Decoder.string()`, but is also aliased to `string()`. Using the\r\n * function aliases exported with the library is recommended.\r\n *\r\n * `Decoder` exposes a number of 'run' methods, which all decode json in the\r\n * same way, but communicate success and failure in different ways. The `map`\r\n * and `andThen` methods modify decoders without having to call a 'run' method.\r\n *\r\n * Alternatively, the main decoder `run()` method returns an object of type\r\n * `Result<A, DecoderError>`. This library provides a number of helper\r\n * functions for dealing with the `Result` type, so you can do all the same\r\n * things with a `Result` as with the decoder methods.\r\n */\r\nvar Decoder = /** @class */ (function () {\r\n    /**\r\n     * The Decoder class constructor is kept private to separate the internal\r\n     * `decode` function from the external `run` function. The distinction\r\n     * between the two functions is that `decode` returns a\r\n     * `Partial<DecoderError>` on failure, which contains an unfinished error\r\n     * report. When `run` is called on a decoder, the relevant series of `decode`\r\n     * calls is made, and then on failure the resulting `Partial<DecoderError>`\r\n     * is turned into a `DecoderError` by filling in the missing information.\r\n     *\r\n     * While hiding the constructor may seem restrictive, leveraging the\r\n     * provided decoder combinators and helper functions such as\r\n     * `andThen` and `map` should be enough to build specialized decoders as\r\n     * needed.\r\n     */\r\n    function Decoder(decode) {\r\n        var _this = this;\r\n        this.decode = decode;\r\n        /**\r\n         * Run the decoder and return a `Result` with either the decoded value or a\r\n         * `DecoderError` containing the json input, the location of the error, and\r\n         * the error message.\r\n         *\r\n         * Examples:\r\n         * ```\r\n         * number().run(12)\r\n         * // => {ok: true, result: 12}\r\n         *\r\n         * string().run(9001)\r\n         * // =>\r\n         * // {\r\n         * //   ok: false,\r\n         * //   error: {\r\n         * //     kind: 'DecoderError',\r\n         * //     input: 9001,\r\n         * //     at: 'input',\r\n         * //     message: 'expected a string, got 9001'\r\n         * //   }\r\n         * // }\r\n         * ```\r\n         */\r\n        this.run = function (json) {\r\n            return mapError(function (error) { return ({\r\n                kind: 'DecoderError',\r\n                input: json,\r\n                at: 'input' + (error.at || ''),\r\n                message: error.message || ''\r\n            }); }, _this.decode(json));\r\n        };\r\n        /**\r\n         * Run the decoder as a `Promise`.\r\n         */\r\n        this.runPromise = function (json) { return asPromise(_this.run(json)); };\r\n        /**\r\n         * Run the decoder and return the value on success, or throw an exception\r\n         * with a formatted error string.\r\n         */\r\n        this.runWithException = function (json) { return withException(_this.run(json)); };\r\n        /**\r\n         * Construct a new decoder that applies a transformation to the decoded\r\n         * result. If the decoder succeeds then `f` will be applied to the value. If\r\n         * it fails the error will propagated through.\r\n         *\r\n         * Example:\r\n         * ```\r\n         * number().map(x => x * 5).run(10)\r\n         * // => {ok: true, result: 50}\r\n         * ```\r\n         */\r\n        this.map = function (f) {\r\n            return new Decoder(function (json) { return map(f, _this.decode(json)); });\r\n        };\r\n        /**\r\n         * Chain together a sequence of decoders. The first decoder will run, and\r\n         * then the function will determine what decoder to run second. If the result\r\n         * of the first decoder succeeds then `f` will be applied to the decoded\r\n         * value. If it fails the error will propagate through.\r\n         *\r\n         * This is a very powerful method -- it can act as both the `map` and `where`\r\n         * methods, can improve error messages for edge cases, and can be used to\r\n         * make a decoder for custom types.\r\n         *\r\n         * Example of adding an error message:\r\n         * ```\r\n         * const versionDecoder = valueAt(['version'], number());\r\n         * const infoDecoder3 = object({a: boolean()});\r\n         *\r\n         * const decoder = versionDecoder.andThen(version => {\r\n         *   switch (version) {\r\n         *     case 3:\r\n         *       return infoDecoder3;\r\n         *     default:\r\n         *       return fail(`Unable to decode info, version ${version} is not supported.`);\r\n         *   }\r\n         * });\r\n         *\r\n         * decoder.run({version: 3, a: true})\r\n         * // => {ok: true, result: {a: true}}\r\n         *\r\n         * decoder.run({version: 5, x: 'abc'})\r\n         * // =>\r\n         * // {\r\n         * //   ok: false,\r\n         * //   error: {... message: 'Unable to decode info, version 5 is not supported.'}\r\n         * // }\r\n         * ```\r\n         *\r\n         * Example of decoding a custom type:\r\n         * ```\r\n         * // nominal type for arrays with a length of at least one\r\n         * type NonEmptyArray<T> = T[] & { __nonEmptyArrayBrand__: void };\r\n         *\r\n         * const nonEmptyArrayDecoder = <T>(values: Decoder<T>): Decoder<NonEmptyArray<T>> =>\r\n         *   array(values).andThen(arr =>\r\n         *     arr.length > 0\r\n         *       ? succeed(createNonEmptyArray(arr))\r\n         *       : fail(`expected a non-empty array, got an empty array`)\r\n         *   );\r\n         * ```\r\n         */\r\n        this.andThen = function (f) {\r\n            return new Decoder(function (json) {\r\n                return andThen(function (value) { return f(value).decode(json); }, _this.decode(json));\r\n            });\r\n        };\r\n        /**\r\n         * Add constraints to a decoder _without_ changing the resulting type. The\r\n         * `test` argument is a predicate function which returns true for valid\r\n         * inputs. When `test` fails on an input, the decoder fails with the given\r\n         * `errorMessage`.\r\n         *\r\n         * ```\r\n         * const chars = (length: number): Decoder<string> =>\r\n         *   string().where(\r\n         *     (s: string) => s.length === length,\r\n         *     `expected a string of length ${length}`\r\n         *   );\r\n         *\r\n         * chars(5).run('12345')\r\n         * // => {ok: true, result: '12345'}\r\n         *\r\n         * chars(2).run('HELLO')\r\n         * // => {ok: false, error: {... message: 'expected a string of length 2'}}\r\n         *\r\n         * chars(12).run(true)\r\n         * // => {ok: false, error: {... message: 'expected a string, got a boolean'}}\r\n         * ```\r\n         */\r\n        this.where = function (test, errorMessage) {\r\n            return _this.andThen(function (value) { return (test(value) ? Decoder.succeed(value) : Decoder.fail(errorMessage)); });\r\n        };\r\n    }\r\n    /**\r\n     * Decoder primitive that validates strings, and fails on all other input.\r\n     */\r\n    Decoder.string = function () {\r\n        return new Decoder(function (json) {\r\n            return typeof json === 'string'\r\n                ? ok(json)\r\n                : err({ message: expectedGot('a string', json) });\r\n        });\r\n    };\r\n    /**\r\n     * Decoder primitive that validates numbers, and fails on all other input.\r\n     */\r\n    Decoder.number = function () {\r\n        return new Decoder(function (json) {\r\n            return typeof json === 'number'\r\n                ? ok(json)\r\n                : err({ message: expectedGot('a number', json) });\r\n        });\r\n    };\r\n    /**\r\n     * Decoder primitive that validates booleans, and fails on all other input.\r\n     */\r\n    Decoder.boolean = function () {\r\n        return new Decoder(function (json) {\r\n            return typeof json === 'boolean'\r\n                ? ok(json)\r\n                : err({ message: expectedGot('a boolean', json) });\r\n        });\r\n    };\r\n    Decoder.constant = function (value) {\r\n        return new Decoder(function (json) {\r\n            return isEqual(json, value)\r\n                ? ok(value)\r\n                : err({ message: \"expected \" + JSON.stringify(value) + \", got \" + JSON.stringify(json) });\r\n        });\r\n    };\r\n    Decoder.object = function (decoders) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonObject(json) && decoders) {\r\n                var obj = {};\r\n                for (var key in decoders) {\r\n                    if (decoders.hasOwnProperty(key)) {\r\n                        var r = decoders[key].decode(json[key]);\r\n                        if (r.ok === true) {\r\n                            // tslint:disable-next-line:strict-type-predicates\r\n                            if (r.result !== undefined) {\r\n                                obj[key] = r.result;\r\n                            }\r\n                        }\r\n                        else if (json[key] === undefined) {\r\n                            return err({ message: \"the key '\" + key + \"' is required but was not present\" });\r\n                        }\r\n                        else {\r\n                            return err(prependAt(\".\" + key, r.error));\r\n                        }\r\n                    }\r\n                }\r\n                return ok(obj);\r\n            }\r\n            else if (isJsonObject(json)) {\r\n                return ok(json);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot('an object', json) });\r\n            }\r\n        });\r\n    };\r\n    Decoder.array = function (decoder) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonArray(json) && decoder) {\r\n                var decodeValue_1 = function (v, i) {\r\n                    return mapError(function (err$$1) { return prependAt(\"[\" + i + \"]\", err$$1); }, decoder.decode(v));\r\n                };\r\n                return json.reduce(function (acc, v, i) {\r\n                    return map2(function (arr, result) { return arr.concat([result]); }, acc, decodeValue_1(v, i));\r\n                }, ok([]));\r\n            }\r\n            else if (isJsonArray(json)) {\r\n                return ok(json);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot('an array', json) });\r\n            }\r\n        });\r\n    };\r\n    Decoder.tuple = function (decoders) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonArray(json)) {\r\n                if (json.length !== decoders.length) {\r\n                    return err({\r\n                        message: \"expected a tuple of length \" + decoders.length + \", got one of length \" + json.length\r\n                    });\r\n                }\r\n                var result = [];\r\n                for (var i = 0; i < decoders.length; i++) {\r\n                    var nth = decoders[i].decode(json[i]);\r\n                    if (nth.ok) {\r\n                        result[i] = nth.result;\r\n                    }\r\n                    else {\r\n                        return err(prependAt(\"[\" + i + \"]\", nth.error));\r\n                    }\r\n                }\r\n                return ok(result);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot(\"a tuple of length \" + decoders.length, json) });\r\n            }\r\n        });\r\n    };\r\n    Decoder.union = function (ad, bd) {\r\n        var decoders = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            decoders[_i - 2] = arguments[_i];\r\n        }\r\n        return Decoder.oneOf.apply(Decoder, [ad, bd].concat(decoders));\r\n    };\r\n    Decoder.intersection = function (ad, bd) {\r\n        var ds = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            ds[_i - 2] = arguments[_i];\r\n        }\r\n        return new Decoder(function (json) {\r\n            return [ad, bd].concat(ds).reduce(function (acc, decoder) { return map2(Object.assign, acc, decoder.decode(json)); }, ok({}));\r\n        });\r\n    };\r\n    /**\r\n     * Escape hatch to bypass validation. Always succeeds and types the result as\r\n     * `any`. Useful for defining decoders incrementally, particularly for\r\n     * complex objects.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * interface User {\r\n     *   name: string;\r\n     *   complexUserData: ComplexType;\r\n     * }\r\n     *\r\n     * const userDecoder: Decoder<User> = object({\r\n     *   name: string(),\r\n     *   complexUserData: anyJson()\r\n     * });\r\n     * ```\r\n     */\r\n    Decoder.anyJson = function () { return new Decoder(function (json) { return ok(json); }); };\r\n    /**\r\n     * Decoder identity function which always succeeds and types the result as\r\n     * `unknown`.\r\n     */\r\n    Decoder.unknownJson = function () {\r\n        return new Decoder(function (json) { return ok(json); });\r\n    };\r\n    /**\r\n     * Decoder for json objects where the keys are unknown strings, but the values\r\n     * should all be of the same type.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * dict(number()).run({chocolate: 12, vanilla: 10, mint: 37});\r\n     * // => {ok: true, result: {chocolate: 12, vanilla: 10, mint: 37}}\r\n     * ```\r\n     */\r\n    Decoder.dict = function (decoder) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonObject(json)) {\r\n                var obj = {};\r\n                for (var key in json) {\r\n                    if (json.hasOwnProperty(key)) {\r\n                        var r = decoder.decode(json[key]);\r\n                        if (r.ok === true) {\r\n                            obj[key] = r.result;\r\n                        }\r\n                        else {\r\n                            return err(prependAt(\".\" + key, r.error));\r\n                        }\r\n                    }\r\n                }\r\n                return ok(obj);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot('an object', json) });\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Decoder for values that may be `undefined`. This is primarily helpful for\r\n     * decoding interfaces with optional fields.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * interface User {\r\n     *   id: number;\r\n     *   isOwner?: boolean;\r\n     * }\r\n     *\r\n     * const decoder: Decoder<User> = object({\r\n     *   id: number(),\r\n     *   isOwner: optional(boolean())\r\n     * });\r\n     * ```\r\n     */\r\n    Decoder.optional = function (decoder) {\r\n        return new Decoder(function (json) { return (json === undefined || json === null ? ok(undefined) : decoder.decode(json)); });\r\n    };\r\n    /**\r\n     * Decoder that attempts to run each decoder in `decoders` and either succeeds\r\n     * with the first successful decoder, or fails after all decoders have failed.\r\n     *\r\n     * Note that `oneOf` expects the decoders to all have the same return type,\r\n     * while `union` creates a decoder for the union type of all the input\r\n     * decoders.\r\n     *\r\n     * Examples:\r\n     * ```\r\n     * oneOf(string(), number().map(String))\r\n     * oneOf(constant('start'), constant('stop'), succeed('unknown'))\r\n     * ```\r\n     */\r\n    Decoder.oneOf = function () {\r\n        var decoders = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            decoders[_i] = arguments[_i];\r\n        }\r\n        return new Decoder(function (json) {\r\n            var errors = [];\r\n            for (var i = 0; i < decoders.length; i++) {\r\n                var r = decoders[i].decode(json);\r\n                if (r.ok === true) {\r\n                    return r;\r\n                }\r\n                else {\r\n                    errors[i] = r.error;\r\n                }\r\n            }\r\n            var errorsList = errors\r\n                .map(function (error) { return \"at error\" + (error.at || '') + \": \" + error.message; })\r\n                .join('\", \"');\r\n            return err({\r\n                message: \"expected a value matching one of the decoders, got the errors [\\\"\" + errorsList + \"\\\"]\"\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Decoder that always succeeds with either the decoded value, or a fallback\r\n     * default value.\r\n     */\r\n    Decoder.withDefault = function (defaultValue, decoder) {\r\n        return new Decoder(function (json) {\r\n            return ok(withDefault(defaultValue, decoder.decode(json)));\r\n        });\r\n    };\r\n    /**\r\n     * Decoder that pulls a specific field out of a json structure, instead of\r\n     * decoding and returning the full structure. The `paths` array describes the\r\n     * object keys and array indices to traverse, so that values can be pulled out\r\n     * of a nested structure.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * const decoder = valueAt(['a', 'b', 0], string());\r\n     *\r\n     * decoder.run({a: {b: ['surprise!']}})\r\n     * // => {ok: true, result: 'surprise!'}\r\n     *\r\n     * decoder.run({a: {x: 'cats'}})\r\n     * // => {ok: false, error: {... at: 'input.a.b[0]' message: 'path does not exist'}}\r\n     * ```\r\n     *\r\n     * Note that the `decoder` is ran on the value found at the last key in the\r\n     * path, even if the last key is not found. This allows the `optional`\r\n     * decoder to succeed when appropriate.\r\n     * ```\r\n     * const optionalDecoder = valueAt(['a', 'b', 'c'], optional(string()));\r\n     *\r\n     * optionalDecoder.run({a: {b: {c: 'surprise!'}}})\r\n     * // => {ok: true, result: 'surprise!'}\r\n     *\r\n     * optionalDecoder.run({a: {b: 'cats'}})\r\n     * // => {ok: false, error: {... at: 'input.a.b.c' message: 'expected an object, got \"cats\"'}\r\n     *\r\n     * optionalDecoder.run({a: {b: {z: 1}}})\r\n     * // => {ok: true, result: undefined}\r\n     * ```\r\n     */\r\n    Decoder.valueAt = function (paths, decoder) {\r\n        return new Decoder(function (json) {\r\n            var jsonAtPath = json;\r\n            for (var i = 0; i < paths.length; i++) {\r\n                if (jsonAtPath === undefined) {\r\n                    return err({\r\n                        at: printPath(paths.slice(0, i + 1)),\r\n                        message: 'path does not exist'\r\n                    });\r\n                }\r\n                else if (typeof paths[i] === 'string' && !isJsonObject(jsonAtPath)) {\r\n                    return err({\r\n                        at: printPath(paths.slice(0, i + 1)),\r\n                        message: expectedGot('an object', jsonAtPath)\r\n                    });\r\n                }\r\n                else if (typeof paths[i] === 'number' && !isJsonArray(jsonAtPath)) {\r\n                    return err({\r\n                        at: printPath(paths.slice(0, i + 1)),\r\n                        message: expectedGot('an array', jsonAtPath)\r\n                    });\r\n                }\r\n                else {\r\n                    jsonAtPath = jsonAtPath[paths[i]];\r\n                }\r\n            }\r\n            return mapError(function (error) {\r\n                return jsonAtPath === undefined\r\n                    ? { at: printPath(paths), message: 'path does not exist' }\r\n                    : prependAt(printPath(paths), error);\r\n            }, decoder.decode(jsonAtPath));\r\n        });\r\n    };\r\n    /**\r\n     * Decoder that ignores the input json and always succeeds with `fixedValue`.\r\n     */\r\n    Decoder.succeed = function (fixedValue) {\r\n        return new Decoder(function (json) { return ok(fixedValue); });\r\n    };\r\n    /**\r\n     * Decoder that ignores the input json and always fails with `errorMessage`.\r\n     */\r\n    Decoder.fail = function (errorMessage) {\r\n        return new Decoder(function (json) { return err({ message: errorMessage }); });\r\n    };\r\n    /**\r\n     * Decoder that allows for validating recursive data structures. Unlike with\r\n     * functions, decoders assigned to variables can't reference themselves\r\n     * before they are fully defined. We can avoid prematurely referencing the\r\n     * decoder by wrapping it in a function that won't be called until use, at\r\n     * which point the decoder has been defined.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * interface Comment {\r\n     *   msg: string;\r\n     *   replies: Comment[];\r\n     * }\r\n     *\r\n     * const decoder: Decoder<Comment> = object({\r\n     *   msg: string(),\r\n     *   replies: lazy(() => array(decoder))\r\n     * });\r\n     * ```\r\n     */\r\n    Decoder.lazy = function (mkDecoder) {\r\n        return new Decoder(function (json) { return mkDecoder().decode(json); });\r\n    };\r\n    return Decoder;\r\n}());\r\n\r\n/* tslint:disable:variable-name */\r\n/** See `Decoder.string` */\r\nvar string = Decoder.string;\r\n/** See `Decoder.number` */\r\nvar number = Decoder.number;\r\n/** See `Decoder.boolean` */\r\nvar boolean = Decoder.boolean;\r\n/** See `Decoder.anyJson` */\r\nvar anyJson = Decoder.anyJson;\r\n/** See `Decoder.constant` */\r\nvar constant = Decoder.constant;\r\n/** See `Decoder.object` */\r\nvar object = Decoder.object;\r\n/** See `Decoder.array` */\r\nvar array = Decoder.array;\r\n/** See `Decoder.optional` */\r\nvar optional = Decoder.optional;\r\n/** See `Decoder.oneOf` */\r\nvar oneOf = Decoder.oneOf;\r\n/** See `Decoder.lazy` */\r\nvar lazy = Decoder.lazy;\n\nconst nonEmptyStringDecoder = string().where((s) => s.length > 0, \"Expected a non-empty string\");\r\nconst nonNegativeNumberDecoder = number().where((num) => num >= 0, \"Expected a non-negative number\");\r\nconst libDomainDecoder = oneOf(constant(\"system\"), constant(\"windows\"), constant(\"appManager\"), constant(\"layouts\"), constant(\"intents\"), constant(\"notifications\"), constant(\"channels\"));\r\nconst windowOperationTypesDecoder = oneOf(constant(\"openWindow\"), constant(\"windowHello\"), constant(\"windowAdded\"), constant(\"windowRemoved\"), constant(\"getBounds\"), constant(\"getUrl\"), constant(\"moveResize\"), constant(\"focus\"), constant(\"close\"), constant(\"getTitle\"), constant(\"setTitle\"));\r\nconst appManagerOperationTypesDecoder = oneOf(constant(\"appHello\"), constant(\"applicationAdded\"), constant(\"applicationRemoved\"), constant(\"applicationChanged\"), constant(\"instanceStarted\"), constant(\"instanceStopped\"), constant(\"applicationStart\"), constant(\"instanceStop\"), constant(\"clear\"));\r\nconst layoutsOperationTypesDecoder = oneOf(constant(\"layoutAdded\"), constant(\"layoutChanged\"), constant(\"layoutRemoved\"), constant(\"get\"), constant(\"getAll\"), constant(\"export\"), constant(\"import\"), constant(\"remove\"));\r\nconst windowRelativeDirectionDecoder = oneOf(constant(\"top\"), constant(\"left\"), constant(\"right\"), constant(\"bottom\"));\r\nconst windowOpenSettingsDecoder = optional(object({\r\n    top: optional(number()),\r\n    left: optional(number()),\r\n    width: optional(nonNegativeNumberDecoder),\r\n    height: optional(nonNegativeNumberDecoder),\r\n    context: optional(anyJson()),\r\n    relativeTo: optional(nonEmptyStringDecoder),\r\n    relativeDirection: optional(windowRelativeDirectionDecoder),\r\n    windowId: optional(nonEmptyStringDecoder)\r\n}));\r\nconst openWindowConfigDecoder = object({\r\n    name: nonEmptyStringDecoder,\r\n    url: nonEmptyStringDecoder,\r\n    options: windowOpenSettingsDecoder\r\n});\r\nconst windowHelloDecoder = object({\r\n    windowId: optional(nonEmptyStringDecoder)\r\n});\r\nconst coreWindowDataDecoder = object({\r\n    windowId: nonEmptyStringDecoder,\r\n    name: nonEmptyStringDecoder\r\n});\r\nconst simpleWindowDecoder = object({\r\n    windowId: nonEmptyStringDecoder\r\n});\r\nconst helloSuccessDecoder = object({\r\n    windows: array(coreWindowDataDecoder),\r\n    isWorkspaceFrame: boolean()\r\n});\r\nconst windowTitleConfigDecoder = object({\r\n    windowId: nonEmptyStringDecoder,\r\n    title: string()\r\n});\r\nconst windowMoveResizeConfigDecoder = object({\r\n    windowId: nonEmptyStringDecoder,\r\n    top: optional(number()),\r\n    left: optional(number()),\r\n    width: optional(nonNegativeNumberDecoder),\r\n    height: optional(nonNegativeNumberDecoder),\r\n    relative: optional(boolean())\r\n});\r\nconst windowBoundsResultDecoder = object({\r\n    windowId: nonEmptyStringDecoder,\r\n    bounds: object({\r\n        top: number(),\r\n        left: number(),\r\n        width: nonNegativeNumberDecoder,\r\n        height: nonNegativeNumberDecoder\r\n    })\r\n});\r\nconst windowUrlResultDecoder = object({\r\n    windowId: nonEmptyStringDecoder,\r\n    url: nonEmptyStringDecoder\r\n});\r\nconst anyDecoder = anyJson();\r\nconst boundsDecoder = object({\r\n    top: optional(number()),\r\n    left: optional(number()),\r\n    width: optional(nonNegativeNumberDecoder),\r\n    height: optional(nonNegativeNumberDecoder)\r\n});\r\nconst instanceDataDecoder = object({\r\n    id: nonEmptyStringDecoder,\r\n    applicationName: nonEmptyStringDecoder\r\n});\r\nconst applicationDetailsDecoder = object({\r\n    url: nonEmptyStringDecoder,\r\n    top: optional(number()),\r\n    left: optional(number()),\r\n    width: optional(nonNegativeNumberDecoder),\r\n    height: optional(nonNegativeNumberDecoder)\r\n});\r\nconst intentDefinitionDecoder = object({\r\n    name: nonEmptyStringDecoder,\r\n    displayName: optional(string()),\r\n    contexts: optional(array(string())),\r\n    customConfig: optional(object())\r\n});\r\nconst fdc3AppDefinitionDecoder = object({\r\n    name: nonEmptyStringDecoder,\r\n    title: optional(nonEmptyStringDecoder),\r\n    version: optional(nonEmptyStringDecoder),\r\n    appId: nonEmptyStringDecoder,\r\n    manifest: nonEmptyStringDecoder,\r\n    manifestType: nonEmptyStringDecoder,\r\n    tooltip: optional(nonEmptyStringDecoder),\r\n    description: optional(nonEmptyStringDecoder),\r\n    contactEmail: optional(nonEmptyStringDecoder),\r\n    supportEmail: optional(nonEmptyStringDecoder),\r\n    publisher: optional(nonEmptyStringDecoder),\r\n    images: optional(array(object({ url: optional(nonEmptyStringDecoder) }))),\r\n    icons: optional(array(object({ icon: optional(nonEmptyStringDecoder) }))),\r\n    customConfig: anyJson(),\r\n    intents: optional(array(intentDefinitionDecoder))\r\n});\r\nconst applicationDefinitionDecoder = object({\r\n    name: nonEmptyStringDecoder,\r\n    type: nonEmptyStringDecoder.where((s) => s === \"window\", \"Expected a value of window\"),\r\n    title: optional(nonEmptyStringDecoder),\r\n    version: optional(nonEmptyStringDecoder),\r\n    customProperties: optional(anyJson()),\r\n    icon: optional(nonEmptyStringDecoder),\r\n    caption: optional(nonEmptyStringDecoder),\r\n    details: applicationDetailsDecoder,\r\n    intents: optional(array(intentDefinitionDecoder))\r\n});\r\nconst allApplicationDefinitionsDecoder = oneOf(applicationDefinitionDecoder, fdc3AppDefinitionDecoder);\r\nconst appsImportOperationDecoder = object({\r\n    definitions: array(allApplicationDefinitionsDecoder),\r\n    mode: oneOf(constant(\"replace\"), constant(\"merge\"))\r\n});\r\nconst appRemoveConfigDecoder = object({\r\n    name: nonEmptyStringDecoder\r\n});\r\nconst appsExportOperationDecoder = object({\r\n    definitions: array(applicationDefinitionDecoder)\r\n});\r\nconst applicationDataDecoder = object({\r\n    name: nonEmptyStringDecoder,\r\n    type: nonEmptyStringDecoder.where((s) => s === \"window\", \"Expected a value of window\"),\r\n    instances: array(instanceDataDecoder),\r\n    userProperties: optional(anyJson()),\r\n    title: optional(nonEmptyStringDecoder),\r\n    version: optional(nonEmptyStringDecoder),\r\n    icon: optional(nonEmptyStringDecoder),\r\n    caption: optional(nonEmptyStringDecoder)\r\n});\r\nconst baseApplicationDataDecoder = object({\r\n    name: nonEmptyStringDecoder,\r\n    type: nonEmptyStringDecoder.where((s) => s === \"window\", \"Expected a value of window\"),\r\n    userProperties: anyJson(),\r\n    title: optional(nonEmptyStringDecoder),\r\n    version: optional(nonEmptyStringDecoder),\r\n    icon: optional(nonEmptyStringDecoder),\r\n    caption: optional(nonEmptyStringDecoder)\r\n});\r\nconst appHelloSuccessDecoder = object({\r\n    apps: array(applicationDataDecoder)\r\n});\r\nconst basicInstanceDataDecoder = object({\r\n    id: nonEmptyStringDecoder\r\n});\r\nconst applicationStartConfigDecoder = object({\r\n    name: nonEmptyStringDecoder,\r\n    waitForAGMReady: boolean(),\r\n    id: optional(nonEmptyStringDecoder),\r\n    context: optional(anyJson()),\r\n    top: optional(number()),\r\n    left: optional(number()),\r\n    width: optional(nonNegativeNumberDecoder),\r\n    height: optional(nonNegativeNumberDecoder),\r\n    relativeTo: optional(nonEmptyStringDecoder),\r\n    relativeDirection: optional(oneOf(constant(\"top\"), constant(\"left\"), constant(\"right\"), constant(\"bottom\")))\r\n});\r\nconst layoutTypeDecoder = oneOf(constant(\"Global\"), constant(\"Activity\"), constant(\"ApplicationDefault\"), constant(\"Swimlane\"), constant(\"Workspace\"));\r\nconst componentTypeDecoder = oneOf(constant(\"application\"), constant(\"activity\"));\r\nconst windowLayoutComponentDecoder = object({\r\n    type: nonEmptyStringDecoder.where((s) => s === \"window\", \"Expected a value of window\"),\r\n    componentType: optional(componentTypeDecoder),\r\n    state: object({\r\n        name: anyJson(),\r\n        context: anyJson(),\r\n        url: nonEmptyStringDecoder,\r\n        bounds: anyJson(),\r\n        id: nonEmptyStringDecoder,\r\n        parentId: optional(nonEmptyStringDecoder),\r\n        main: boolean()\r\n    })\r\n});\r\nconst windowLayoutItemDecoder = object({\r\n    type: constant(\"window\"),\r\n    config: object({\r\n        appName: nonEmptyStringDecoder,\r\n        url: optional(nonEmptyStringDecoder),\r\n        title: optional(string()),\r\n        allowExtract: optional(boolean()),\r\n        showCloseButton: optional(boolean())\r\n    })\r\n});\r\nconst groupLayoutItemDecoder = object({\r\n    type: constant(\"group\"),\r\n    config: anyJson(),\r\n    children: array(oneOf(windowLayoutItemDecoder))\r\n});\r\nconst columnLayoutItemDecoder = object({\r\n    type: constant(\"column\"),\r\n    config: anyJson(),\r\n    children: array(oneOf(groupLayoutItemDecoder, windowLayoutItemDecoder, lazy(() => columnLayoutItemDecoder), lazy(() => rowLayoutItemDecoder)))\r\n});\r\nconst rowLayoutItemDecoder = object({\r\n    type: constant(\"row\"),\r\n    config: anyJson(),\r\n    children: array(oneOf(columnLayoutItemDecoder, groupLayoutItemDecoder, windowLayoutItemDecoder, lazy(() => rowLayoutItemDecoder)))\r\n});\r\nconst workspaceLayoutComponentDecoder = object({\r\n    type: constant(\"Workspace\"),\r\n    state: object({\r\n        config: anyJson(),\r\n        context: anyJson(),\r\n        children: array(oneOf(rowLayoutItemDecoder, columnLayoutItemDecoder, groupLayoutItemDecoder, windowLayoutItemDecoder))\r\n    })\r\n});\r\nconst glueLayoutDecoder = object({\r\n    name: nonEmptyStringDecoder,\r\n    type: layoutTypeDecoder,\r\n    components: array(oneOf(windowLayoutComponentDecoder, workspaceLayoutComponentDecoder)),\r\n    version: optional(nonEmptyStringDecoder),\r\n    context: optional(anyJson()),\r\n    metadata: optional(anyJson())\r\n});\r\nconst newLayoutOptionsDecoder = object({\r\n    name: nonEmptyStringDecoder,\r\n    context: optional(anyJson()),\r\n    metadata: optional(anyJson())\r\n});\r\nconst restoreOptionsDecoder = object({\r\n    name: nonEmptyStringDecoder,\r\n    context: optional(anyJson()),\r\n    closeRunningInstance: optional(boolean())\r\n});\r\nconst layoutSummaryDecoder = object({\r\n    name: nonEmptyStringDecoder,\r\n    type: layoutTypeDecoder,\r\n    context: optional(anyJson()),\r\n    metadata: optional(anyJson())\r\n});\r\nconst simpleLayoutConfigDecoder = object({\r\n    name: nonEmptyStringDecoder,\r\n    type: layoutTypeDecoder\r\n});\r\nconst getAllLayoutsConfigDecoder = object({\r\n    type: layoutTypeDecoder\r\n});\r\nconst allLayoutsFullConfigDecoder = object({\r\n    layouts: array(glueLayoutDecoder)\r\n});\r\nconst importModeDecoder = oneOf(constant(\"replace\"), constant(\"merge\"));\r\nconst layoutsImportConfigDecoder = object({\r\n    layouts: array(glueLayoutDecoder),\r\n    mode: importModeDecoder\r\n});\r\nconst allLayoutsSummariesResultDecoder = object({\r\n    summaries: array(layoutSummaryDecoder)\r\n});\r\nconst simpleLayoutResult = object({\r\n    layout: glueLayoutDecoder\r\n});\r\nconst optionalSimpleLayoutResult = object({\r\n    layout: optional(glueLayoutDecoder)\r\n});\r\nconst intentsOperationTypesDecoder = oneOf(constant(\"findIntent\"), constant(\"getIntents\"), constant(\"raiseIntent\"));\r\nconst intentHandlerDecoder = object({\r\n    applicationName: nonEmptyStringDecoder,\r\n    applicationTitle: string(),\r\n    applicationDescription: optional(string()),\r\n    applicationIcon: optional(string()),\r\n    type: oneOf(constant(\"app\"), constant(\"instance\")),\r\n    displayName: optional(string()),\r\n    contextTypes: optional(array(nonEmptyStringDecoder)),\r\n    instanceId: optional(string()),\r\n    instanceTitle: optional(string())\r\n});\r\nconst intentDecoder = object({\r\n    name: nonEmptyStringDecoder,\r\n    handlers: array(intentHandlerDecoder)\r\n});\r\nconst intentTargetDecoder = oneOf(constant(\"startNew\"), constant(\"reuse\"), object({\r\n    app: optional(nonEmptyStringDecoder),\r\n    instance: optional(nonEmptyStringDecoder)\r\n}));\r\nconst intentContextDecoder = object({\r\n    type: optional(nonEmptyStringDecoder),\r\n    data: optional(object())\r\n});\r\nconst intentsDecoder = array(intentDecoder);\r\nconst wrappedIntentsDecoder = object({\r\n    intents: intentsDecoder\r\n});\r\nconst intentFilterDecoder = object({\r\n    name: optional(nonEmptyStringDecoder),\r\n    contextType: optional(nonEmptyStringDecoder)\r\n});\r\nconst findFilterDecoder = oneOf(nonEmptyStringDecoder, intentFilterDecoder);\r\nconst wrappedIntentFilterDecoder = object({\r\n    filter: optional(intentFilterDecoder)\r\n});\r\nconst intentRequestDecoder = object({\r\n    intent: nonEmptyStringDecoder,\r\n    target: optional(intentTargetDecoder),\r\n    context: optional(intentContextDecoder),\r\n    options: optional(windowOpenSettingsDecoder)\r\n});\r\nconst raiseRequestDecoder = oneOf(nonEmptyStringDecoder, intentRequestDecoder);\r\nconst intentResultDecoder = object({\r\n    request: intentRequestDecoder,\r\n    handler: intentHandlerDecoder,\r\n    result: anyJson()\r\n});\r\nconst addIntentListenerRequestDecoder = object({\r\n    intent: nonEmptyStringDecoder,\r\n    contextTypes: optional(array(nonEmptyStringDecoder)),\r\n    displayName: optional(string()),\r\n    icon: optional(string()),\r\n    description: optional(string())\r\n});\r\nconst addIntentListenerIntentDecoder = oneOf(nonEmptyStringDecoder, addIntentListenerRequestDecoder);\r\nconst channelNameDecoder = (channelNames) => {\r\n    return nonEmptyStringDecoder.where(s => channelNames.includes(s), \"Expected a valid channel name\");\r\n};\n\nconst operations = {\r\n    openWindow: { name: \"openWindow\", dataDecoder: openWindowConfigDecoder, resultDecoder: coreWindowDataDecoder },\r\n    windowHello: { name: \"windowHello\", dataDecoder: windowHelloDecoder, resultDecoder: helloSuccessDecoder },\r\n    windowAdded: { name: \"windowAdded\", dataDecoder: coreWindowDataDecoder },\r\n    windowRemoved: { name: \"windowRemoved\", dataDecoder: simpleWindowDecoder },\r\n    getBounds: { name: \"getBounds\", dataDecoder: simpleWindowDecoder, resultDecoder: windowBoundsResultDecoder },\r\n    getUrl: { name: \"getUrl\", dataDecoder: simpleWindowDecoder, resultDecoder: windowUrlResultDecoder },\r\n    moveResize: { name: \"moveResize\", dataDecoder: windowMoveResizeConfigDecoder },\r\n    focus: { name: \"focus\", dataDecoder: simpleWindowDecoder },\r\n    close: { name: \"close\", dataDecoder: simpleWindowDecoder },\r\n    getTitle: { name: \"getTitle\", dataDecoder: simpleWindowDecoder, resultDecoder: windowTitleConfigDecoder },\r\n    setTitle: { name: \"setTitle\", dataDecoder: windowTitleConfigDecoder }\r\n};\n\nfunction createRegistry(options) {\r\n    if (options && options.errorHandling\r\n        && typeof options.errorHandling !== \"function\"\r\n        && options.errorHandling !== \"log\"\r\n        && options.errorHandling !== \"silent\"\r\n        && options.errorHandling !== \"throw\") {\r\n        throw new Error(\"Invalid options passed to createRegistry. Prop errorHandling should be [\\\"log\\\" | \\\"silent\\\" | \\\"throw\\\" | (err) => void], but \" + typeof options.errorHandling + \" was passed\");\r\n    }\r\n    var _userErrorHandler = options && typeof options.errorHandling === \"function\" && options.errorHandling;\r\n    var callbacks = {};\r\n    function add(key, callback, replayArgumentsArr) {\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey) {\r\n            callbacksForKey = [];\r\n            callbacks[key] = callbacksForKey;\r\n        }\r\n        callbacksForKey.push(callback);\r\n        if (replayArgumentsArr) {\r\n            setTimeout(function () {\r\n                replayArgumentsArr.forEach(function (replayArgument) {\r\n                    var _a;\r\n                    if ((_a = callbacks[key]) === null || _a === void 0 ? void 0 : _a.includes(callback)) {\r\n                        try {\r\n                            if (Array.isArray(replayArgument)) {\r\n                                callback.apply(undefined, replayArgument);\r\n                            }\r\n                            else {\r\n                                callback.apply(undefined, [replayArgument]);\r\n                            }\r\n                        }\r\n                        catch (err) {\r\n                            _handleError(err, key);\r\n                        }\r\n                    }\r\n                });\r\n            }, 0);\r\n        }\r\n        return function () {\r\n            var allForKey = callbacks[key];\r\n            if (!allForKey) {\r\n                return;\r\n            }\r\n            allForKey = allForKey.reduce(function (acc, element, index) {\r\n                if (!(element === callback && acc.length === index)) {\r\n                    acc.push(element);\r\n                }\r\n                return acc;\r\n            }, []);\r\n            callbacks[key] = allForKey;\r\n        };\r\n    }\r\n    function execute(key) {\r\n        var argumentsArr = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            argumentsArr[_i - 1] = arguments[_i];\r\n        }\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey || callbacksForKey.length === 0) {\r\n            return [];\r\n        }\r\n        var results = [];\r\n        callbacksForKey.forEach(function (callback) {\r\n            try {\r\n                var result = callback.apply(undefined, argumentsArr);\r\n                results.push(result);\r\n            }\r\n            catch (err) {\r\n                results.push(undefined);\r\n                _handleError(err, key);\r\n            }\r\n        });\r\n        return results;\r\n    }\r\n    function _handleError(exceptionArtifact, key) {\r\n        var errParam = exceptionArtifact instanceof Error ? exceptionArtifact : new Error(exceptionArtifact);\r\n        if (_userErrorHandler) {\r\n            _userErrorHandler(errParam);\r\n            return;\r\n        }\r\n        var msg = \"[ERROR] callback-registry: User callback for key \\\"\" + key + \"\\\" failed: \" + errParam.stack;\r\n        if (options) {\r\n            switch (options.errorHandling) {\r\n                case \"log\":\r\n                    return console.error(msg);\r\n                case \"silent\":\r\n                    return;\r\n                case \"throw\":\r\n                    throw new Error(msg);\r\n            }\r\n        }\r\n        console.error(msg);\r\n    }\r\n    function clear() {\r\n        callbacks = {};\r\n    }\r\n    function clearKey(key) {\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey) {\r\n            return;\r\n        }\r\n        delete callbacks[key];\r\n    }\r\n    return {\r\n        add: add,\r\n        execute: execute,\r\n        clear: clear,\r\n        clearKey: clearKey\r\n    };\r\n}\r\ncreateRegistry.default = createRegistry;\r\nvar lib = createRegistry;\n\nclass WebWindowModel {\r\n    constructor(_id, _name, _bridge) {\r\n        this._id = _id;\r\n        this._name = _name;\r\n        this._bridge = _bridge;\r\n        this.registry = lib();\r\n        this.myCtxKey = `___window___${this.id}`;\r\n    }\r\n    get id() {\r\n        return this._id.slice();\r\n    }\r\n    get name() {\r\n        return this._name.slice();\r\n    }\r\n    clean() {\r\n        if (this.ctxUnsubscribe) {\r\n            this.ctxUnsubscribe();\r\n        }\r\n    }\r\n    toApi() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.ctxUnsubscribe = yield this._bridge.contextLib.subscribe(this.myCtxKey, (data) => this.registry.execute(\"context-updated\", data));\r\n            const api = {\r\n                id: this.id,\r\n                name: this.name,\r\n                getURL: this.getURL.bind(this),\r\n                moveResize: this.moveResize.bind(this),\r\n                resizeTo: this.resizeTo.bind(this),\r\n                moveTo: this.moveTo.bind(this),\r\n                focus: this.focus.bind(this),\r\n                close: this.close.bind(this),\r\n                getTitle: this.getTitle.bind(this),\r\n                setTitle: this.setTitle.bind(this),\r\n                getBounds: this.getBounds.bind(this),\r\n                getContext: this.getContext.bind(this),\r\n                updateContext: this.updateContext.bind(this),\r\n                setContext: this.setContext.bind(this),\r\n                onContextUpdated: this.onContextUpdated.bind(this)\r\n            };\r\n            this.me = Object.freeze(api);\r\n            return this.me;\r\n        });\r\n    }\r\n    getURL() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const result = yield this._bridge.send(\"windows\", operations.getUrl, { windowId: this.id });\r\n            return result.url;\r\n        });\r\n    }\r\n    moveResize(dimension) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const targetBounds = boundsDecoder.runWithException(dimension);\r\n            const commandArgs = Object.assign({}, targetBounds, { windowId: this.id, relative: false });\r\n            yield this._bridge.send(\"windows\", operations.moveResize, commandArgs);\r\n            return this.me;\r\n        });\r\n    }\r\n    resizeTo(width, height) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (typeof width === \"undefined\" && typeof height === \"undefined\") {\r\n                return this.me;\r\n            }\r\n            if (typeof width !== \"undefined\") {\r\n                nonNegativeNumberDecoder.runWithException(width);\r\n            }\r\n            if (typeof height !== \"undefined\") {\r\n                nonNegativeNumberDecoder.runWithException(height);\r\n            }\r\n            const commandArgs = Object.assign({}, { width, height }, { windowId: this.id, relative: true });\r\n            yield this._bridge.send(\"windows\", operations.moveResize, commandArgs);\r\n            return this.me;\r\n        });\r\n    }\r\n    moveTo(top, left) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (typeof top === \"undefined\" && typeof left === \"undefined\") {\r\n                return this.me;\r\n            }\r\n            if (typeof top !== \"undefined\") {\r\n                number().runWithException(top);\r\n            }\r\n            if (typeof left !== \"undefined\") {\r\n                number().runWithException(left);\r\n            }\r\n            const commandArgs = Object.assign({}, { top, left }, { windowId: this.id, relative: true });\r\n            yield this._bridge.send(\"windows\", operations.moveResize, commandArgs);\r\n            return this.me;\r\n        });\r\n    }\r\n    focus() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield this._bridge.send(\"windows\", operations.focus, { windowId: this.id });\r\n            return this.me;\r\n        });\r\n    }\r\n    close() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield this._bridge.send(\"windows\", operations.close, { windowId: this.id });\r\n            return this.me;\r\n        });\r\n    }\r\n    getTitle() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const result = yield this._bridge.send(\"windows\", operations.getTitle, { windowId: this.id });\r\n            return result.title;\r\n        });\r\n    }\r\n    setTitle(title) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const ttl = nonEmptyStringDecoder.runWithException(title);\r\n            yield this._bridge.send(\"windows\", operations.setTitle, { windowId: this.id, title: ttl });\r\n            return this.me;\r\n        });\r\n    }\r\n    getBounds() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const result = yield this._bridge.send(\"windows\", operations.getBounds, { windowId: this.id });\r\n            return result.bounds;\r\n        });\r\n    }\r\n    getContext() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const ctx = yield this._bridge.contextLib.get(this.myCtxKey);\r\n            return ctx;\r\n        });\r\n    }\r\n    updateContext(context) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const ctx = anyDecoder.runWithException(context);\r\n            yield this._bridge.contextLib.update(this.myCtxKey, ctx);\r\n            return this.me;\r\n        });\r\n    }\r\n    setContext(context) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const ctx = anyDecoder.runWithException(context);\r\n            yield this._bridge.contextLib.set(this.myCtxKey, ctx);\r\n            return this.me;\r\n        });\r\n    }\r\n    onContextUpdated(callback) {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"Cannot subscribe to context changes, because the provided callback is not a function!\");\r\n        }\r\n        const wrappedCallback = (data) => {\r\n            callback(data, this.me);\r\n        };\r\n        return this.registry.add(\"context-updated\", wrappedCallback);\r\n    }\r\n}\n\nclass WindowsController {\r\n    constructor() {\r\n        this.registry = lib();\r\n        this.allWindowProjections = [];\r\n    }\r\n    start(coreGlue, ioc) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.logger = coreGlue.logger.subLogger(\"windows.controller.web\");\r\n            this.logger.trace(\"starting the web windows controller\");\r\n            this.publicWindowId = coreGlue.connection.transport.publicWindowId;\r\n            this.actualWindowId = coreGlue.interop.instance.windowId;\r\n            this.addWindowOperationExecutors();\r\n            this.ioc = ioc;\r\n            this.bridge = ioc.bridge;\r\n            this.logger.trace(`set the public window id: ${this.publicWindowId} and actual window id: ${this.actualWindowId}, set the bridge operations and ioc, registering with the platform now`);\r\n            this.platformRegistration = this.registerWithPlatform();\r\n            yield this.platformRegistration;\r\n            this.logger.trace(\"registration with the platform successful, attaching the windows property to glue and returning\");\r\n            const api = this.toApi();\r\n            coreGlue.windows = api;\r\n        });\r\n    }\r\n    handleBridgeMessage(args) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield this.platformRegistration;\r\n            const operationName = windowOperationTypesDecoder.runWithException(args.operation);\r\n            const operation = operations[operationName];\r\n            if (!operation.execute) {\r\n                return;\r\n            }\r\n            let operationData = args.data;\r\n            if (operation.dataDecoder) {\r\n                operationData = operation.dataDecoder.runWithException(args.data);\r\n            }\r\n            return yield operation.execute(operationData);\r\n        });\r\n    }\r\n    open(name, url, options) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            nonEmptyStringDecoder.runWithException(name);\r\n            nonEmptyStringDecoder.runWithException(url);\r\n            const settings = windowOpenSettingsDecoder.runWithException(options);\r\n            const windowSuccess = yield this.bridge.send(\"windows\", operations.openWindow, { name, url, options: settings });\r\n            const projection = yield this.ioc.buildWebWindow(windowSuccess.windowId, windowSuccess.name);\r\n            return projection.api;\r\n        });\r\n    }\r\n    list() {\r\n        return this.allWindowProjections.map((projection) => projection.api);\r\n    }\r\n    findById(id) {\r\n        var _a;\r\n        nonEmptyStringDecoder.runWithException(id);\r\n        return (_a = this.allWindowProjections.find((projection) => projection.id === id)) === null || _a === void 0 ? void 0 : _a.api;\r\n    }\r\n    toApi() {\r\n        return {\r\n            open: this.open.bind(this),\r\n            my: this.my.bind(this),\r\n            list: this.list.bind(this),\r\n            findById: this.findById.bind(this),\r\n            onWindowAdded: this.onWindowAdded.bind(this),\r\n            onWindowRemoved: this.onWindowRemoved.bind(this)\r\n        };\r\n    }\r\n    addWindowOperationExecutors() {\r\n        operations.windowAdded.execute = this.handleWindowAdded.bind(this);\r\n        operations.windowRemoved.execute = this.handleWindowRemoved.bind(this);\r\n        operations.getBounds.execute = this.handleGetBounds.bind(this);\r\n        operations.getTitle.execute = this.handleGetTitle.bind(this);\r\n        operations.getUrl.execute = this.handleGetUrl.bind(this);\r\n        operations.moveResize.execute = this.handleMoveResize.bind(this);\r\n        operations.setTitle.execute = this.handleSetTitle.bind(this);\r\n    }\r\n    my() {\r\n        return Object.assign({}, this.me);\r\n    }\r\n    onWindowAdded(callback) {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"Cannot subscribe to window added, because the provided callback is not a function!\");\r\n        }\r\n        return this.registry.add(\"window-added\", callback);\r\n    }\r\n    onWindowRemoved(callback) {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"Cannot subscribe to window removed, because the provided callback is not a function!\");\r\n        }\r\n        return this.registry.add(\"window-removed\", callback);\r\n    }\r\n    sayHello() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const helloSuccess = yield this.bridge.send(\"windows\", operations.windowHello, { windowId: this.actualWindowId });\r\n            return helloSuccess;\r\n        });\r\n    }\r\n    registerWithPlatform() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const { windows, isWorkspaceFrame } = yield this.sayHello();\r\n            this.logger.trace(\"the platform responded to the hello message\");\r\n            if (!isWorkspaceFrame) {\r\n                this.logger.trace(\"i am not treated as a workspace frame, setting my window\");\r\n                const myWindow = windows.find((w) => w.windowId === this.publicWindowId);\r\n                if (!myWindow) {\r\n                    throw new Error(\"Cannot initialize the window library, because I received no information about me from the platform\");\r\n                }\r\n                this.me = (yield this.ioc.buildWebWindow(this.publicWindowId, myWindow.name)).api;\r\n            }\r\n            const currentWindows = yield Promise.all(windows.map((w) => this.ioc.buildWebWindow(w.windowId, w.name)));\r\n            this.logger.trace(\"all windows projections are completed, building the list collection\");\r\n            this.allWindowProjections.push(...currentWindows);\r\n        });\r\n    }\r\n    handleWindowAdded(data) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (this.allWindowProjections.some((projection) => projection.id === data.windowId)) {\r\n                return;\r\n            }\r\n            const webWindowProjection = yield this.ioc.buildWebWindow(data.windowId, data.name);\r\n            this.allWindowProjections.push(webWindowProjection);\r\n            this.registry.execute(\"window-added\", webWindowProjection.api);\r\n        });\r\n    }\r\n    handleWindowRemoved(data) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const removed = this.allWindowProjections.find((w) => w.id === data.windowId);\r\n            if (!removed) {\r\n                return;\r\n            }\r\n            this.allWindowProjections = this.allWindowProjections.filter((w) => w.id !== data.windowId);\r\n            removed.model.clean();\r\n            this.registry.execute(\"window-removed\", removed.api);\r\n        });\r\n    }\r\n    handleGetBounds() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return {\r\n                windowId: this.me.id,\r\n                bounds: {\r\n                    top: window.screenTop,\r\n                    left: window.screenLeft,\r\n                    width: window.innerWidth,\r\n                    height: window.innerHeight\r\n                }\r\n            };\r\n        });\r\n    }\r\n    handleGetTitle() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return {\r\n                windowId: this.me.id,\r\n                title: document.title\r\n            };\r\n        });\r\n    }\r\n    handleGetUrl() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return {\r\n                windowId: this.me.id,\r\n                url: window.location.href\r\n            };\r\n        });\r\n    }\r\n    handleMoveResize(config) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const targetTop = typeof config.top === \"number\" ? config.top :\r\n                config.relative ? 0 : window.screenTop;\r\n            const targetLeft = typeof config.left === \"number\" ? config.left :\r\n                config.relative ? 0 : window.screenLeft;\r\n            const targetHeight = typeof config.height === \"number\" ? config.height :\r\n                config.relative ? 0 : window.innerHeight;\r\n            const targetWidth = typeof config.width === \"number\" ? config.width :\r\n                config.relative ? 0 : window.innerWidth;\r\n            const moveMethod = config.relative ? window.moveBy : window.moveTo;\r\n            const resizeMethod = config.relative ? window.resizeBy : window.resizeTo;\r\n            moveMethod(targetLeft, targetTop);\r\n            resizeMethod(targetWidth, targetHeight);\r\n        });\r\n    }\r\n    handleSetTitle(config) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            document.title = config.title;\r\n        });\r\n    }\r\n}\n\nconst PromiseWrap = (promise, timeoutMilliseconds, timeoutMessage) => {\r\n    return new Promise((resolve, reject) => {\r\n        let promiseActive = true;\r\n        const timeout = setTimeout(() => {\r\n            if (!promiseActive) {\r\n                return;\r\n            }\r\n            promiseActive = false;\r\n            const message = timeoutMessage || `Promise timeout hit: ${timeoutMilliseconds}`;\r\n            reject(message);\r\n        }, timeoutMilliseconds);\r\n        promise()\r\n            .then((result) => {\r\n            if (!promiseActive) {\r\n                return;\r\n            }\r\n            promiseActive = false;\r\n            clearTimeout(timeout);\r\n            resolve(result);\r\n        })\r\n            .catch((error) => {\r\n            if (!promiseActive) {\r\n                return;\r\n            }\r\n            promiseActive = false;\r\n            clearTimeout(timeout);\r\n            reject(error);\r\n        });\r\n    });\r\n};\r\nconst PromisePlus = (executor, timeoutMilliseconds, timeoutMessage) => {\r\n    return new Promise((resolve, reject) => {\r\n        const timeout = setTimeout(() => {\r\n            const message = timeoutMessage || `Promise timeout hit: ${timeoutMilliseconds}`;\r\n            reject(message);\r\n        }, timeoutMilliseconds);\r\n        const providedPromise = new Promise(executor);\r\n        providedPromise\r\n            .then((result) => {\r\n            clearTimeout(timeout);\r\n            resolve(result);\r\n        })\r\n            .catch((error) => {\r\n            clearTimeout(timeout);\r\n            reject(error);\r\n        });\r\n    });\r\n};\n\nconst GlueWebPlatformControlName = \"T42.Web.Platform.Control\";\r\nconst GlueWebPlatformStreamName = \"T42.Web.Platform.Stream\";\r\nconst GlueClientControlName = \"T42.Web.Client.Control\";\n\nclass GlueBridge {\r\n    constructor(coreGlue) {\r\n        this.coreGlue = coreGlue;\r\n        this.platformMethodTimeoutMs = 10000;\r\n    }\r\n    get contextLib() {\r\n        return this.coreGlue.contexts;\r\n    }\r\n    get interopInstance() {\r\n        return this.coreGlue.interop.instance.instance;\r\n    }\r\n    start(controllers) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.controllers = controllers;\r\n            yield Promise.all([\r\n                this.checkWaitMethod(GlueWebPlatformControlName),\r\n                this.checkWaitMethod(GlueWebPlatformStreamName)\r\n            ]);\r\n            const [sub] = yield Promise.all([\r\n                this.coreGlue.interop.subscribe(GlueWebPlatformStreamName),\r\n                this.coreGlue.interop.registerAsync(GlueClientControlName, (args, _, success, error) => this.passMessageController(args, success, error))\r\n            ]);\r\n            this.sub = sub;\r\n            this.sub.onData((pkg) => this.passMessageController(pkg.data));\r\n        });\r\n    }\r\n    getInteropInstance(windowId) {\r\n        const result = this.coreGlue.interop.servers().find((s) => s.windowId && s.windowId === windowId);\r\n        return {\r\n            application: result === null || result === void 0 ? void 0 : result.application,\r\n            applicationName: result === null || result === void 0 ? void 0 : result.applicationName,\r\n            peerId: result === null || result === void 0 ? void 0 : result.peerId,\r\n            instance: result === null || result === void 0 ? void 0 : result.instance,\r\n            windowId: result === null || result === void 0 ? void 0 : result.windowId\r\n        };\r\n    }\r\n    send(domain, operation, operationData) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (operation.dataDecoder) {\r\n                try {\r\n                    operation.dataDecoder.runWithException(operationData);\r\n                }\r\n                catch (error) {\r\n                    throw new Error(`Unexpected internal outgoing validation error: ${error.message}, for operation: ${operation.name} and input: ${JSON.stringify(error.input)}`);\r\n                }\r\n            }\r\n            let operationResult;\r\n            try {\r\n                operationResult = yield this.transmitMessage(domain, operation, operationData);\r\n                if (operation.resultDecoder) {\r\n                    operationResult = operation.resultDecoder.runWithException(operationResult);\r\n                }\r\n            }\r\n            catch (error) {\r\n                if (error.kind) {\r\n                    throw new Error(`Unexpected internal incoming validation error: ${error.message}, for operation: ${operation.name} and input: ${JSON.stringify(error.input)}`);\r\n                }\r\n                throw new Error(error.message);\r\n            }\r\n            return operationResult;\r\n        });\r\n    }\r\n    checkWaitMethod(name) {\r\n        return PromisePlus((resolve) => {\r\n            const hasMethod = this.coreGlue.interop.methods().some((method) => method.name === name);\r\n            if (hasMethod) {\r\n                return resolve();\r\n            }\r\n            const unSub = this.coreGlue.interop.methodAdded((method) => {\r\n                if (method.name === name) {\r\n                    unSub();\r\n                    resolve();\r\n                }\r\n            });\r\n        }, this.platformMethodTimeoutMs, `Cannot initiate Glue Web, because a system method's discovery timed out: ${name}`);\r\n    }\r\n    passMessageController(args, success, error) {\r\n        const decodeResult = libDomainDecoder.run(args.domain);\r\n        if (!decodeResult.ok) {\r\n            if (error) {\r\n                error(`Cannot execute this client control, because of domain validation error: ${JSON.stringify(decodeResult.error)}`);\r\n            }\r\n            return;\r\n        }\r\n        const domain = decodeResult.result;\r\n        this.controllers[domain]\r\n            .handleBridgeMessage(args)\r\n            .then((resolutionData) => {\r\n            if (success) {\r\n                success(resolutionData);\r\n            }\r\n        })\r\n            .catch((err) => {\r\n            if (error) {\r\n                error(err);\r\n            }\r\n            console.warn(err);\r\n        });\r\n    }\r\n    transmitMessage(domain, operation, data) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const messageData = { domain, data, operation: operation.name };\r\n            let invocationResult;\r\n            const baseErrorMessage = `Internal Platform Communication Error. Attempted operation: ${JSON.stringify(operation.name)} with data: ${JSON.stringify(data)}. `;\r\n            try {\r\n                invocationResult = yield this.coreGlue.interop.invoke(GlueWebPlatformControlName, messageData);\r\n                if (!invocationResult) {\r\n                    throw new Error(\"Received unsupported result from the platform - empty result\");\r\n                }\r\n                if (!Array.isArray(invocationResult.all_return_values) || invocationResult.all_return_values.length === 0) {\r\n                    throw new Error(\"Received unsupported result from the platform - empty values collection\");\r\n                }\r\n            }\r\n            catch (error) {\r\n                if (error && error.all_errors && error.all_errors.length) {\r\n                    const invocationErrorMessage = error.all_errors[0].message;\r\n                    throw new Error(`${baseErrorMessage} -> Inner message: ${invocationErrorMessage}`);\r\n                }\r\n                throw new Error(`${baseErrorMessage} -> Inner message: ${error.message}`);\r\n            }\r\n            return invocationResult.all_return_values[0].returned;\r\n        });\r\n    }\r\n}\n\nconst operations$1 = {\r\n    appHello: { name: \"appHello\", dataDecoder: windowHelloDecoder, resultDecoder: appHelloSuccessDecoder },\r\n    applicationAdded: { name: \"applicationAdded\", dataDecoder: baseApplicationDataDecoder },\r\n    applicationRemoved: { name: \"applicationRemoved\", dataDecoder: baseApplicationDataDecoder },\r\n    applicationChanged: { name: \"applicationChanged\", dataDecoder: baseApplicationDataDecoder },\r\n    instanceStarted: { name: \"instanceStarted\", dataDecoder: instanceDataDecoder },\r\n    instanceStopped: { name: \"instanceStopped\", dataDecoder: instanceDataDecoder },\r\n    applicationStart: { name: \"applicationStart\", dataDecoder: applicationStartConfigDecoder, resultDecoder: instanceDataDecoder },\r\n    instanceStop: { name: \"instanceStop\", dataDecoder: basicInstanceDataDecoder },\r\n    import: { name: \"import\" },\r\n    remove: { name: \"remove\", dataDecoder: appRemoveConfigDecoder },\r\n    export: { name: \"export\", resultDecoder: appsExportOperationDecoder },\r\n    clear: { name: \"clear\" }\r\n};\n\nclass AppManagerController {\r\n    constructor() {\r\n        this.registry = lib();\r\n        this.applications = [];\r\n        this.instances = [];\r\n    }\r\n    start(coreGlue, ioc) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.logger = coreGlue.logger.subLogger(\"appManger.controller.web\");\r\n            this.logger.trace(\"starting the web appManager controller\");\r\n            this.publicWindowId = coreGlue.connection.transport.publicWindowId;\r\n            this.actualWindowId = coreGlue.interop.instance.windowId;\r\n            this.addOperationsExecutors();\r\n            this.ioc = ioc;\r\n            this.bridge = ioc.bridge;\r\n            this.platformRegistration = this.registerWithPlatform();\r\n            yield this.platformRegistration;\r\n            this.logger.trace(\"registration with the platform successful, attaching the appManager property to glue and returning\");\r\n            const api = this.toApi();\r\n            coreGlue.appManager = api;\r\n        });\r\n    }\r\n    handleBridgeMessage(args) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield this.platformRegistration;\r\n            const operationName = appManagerOperationTypesDecoder.runWithException(args.operation);\r\n            const operation = operations$1[operationName];\r\n            if (!operation.execute) {\r\n                return;\r\n            }\r\n            let operationData = args.data;\r\n            if (operation.dataDecoder) {\r\n                operationData = operation.dataDecoder.runWithException(args.data);\r\n            }\r\n            return yield operation.execute(operationData);\r\n        });\r\n    }\r\n    onInstanceStarted(callback) {\r\n        return this.registry.add(\"instance-started\", callback, this.instances);\r\n    }\r\n    onInstanceStopped(callback) {\r\n        return this.registry.add(\"instance-stopped\", callback);\r\n    }\r\n    startApplication(appName, context, options) {\r\n        var _a, _b;\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const startOptions = {\r\n                name: appName,\r\n                waitForAGMReady: (_a = options === null || options === void 0 ? void 0 : options.waitForAGMReady) !== null && _a !== void 0 ? _a : true,\r\n                context,\r\n                top: options === null || options === void 0 ? void 0 : options.top,\r\n                left: options === null || options === void 0 ? void 0 : options.left,\r\n                width: options === null || options === void 0 ? void 0 : options.width,\r\n                height: options === null || options === void 0 ? void 0 : options.height,\r\n                relativeTo: options === null || options === void 0 ? void 0 : options.relativeTo,\r\n                relativeDirection: options === null || options === void 0 ? void 0 : options.relativeDirection,\r\n                id: (_b = options) === null || _b === void 0 ? void 0 : _b.reuseId\r\n            };\r\n            const openResult = yield this.bridge.send(\"appManager\", operations$1.applicationStart, startOptions);\r\n            const app = this.applications.find((a) => a.name === openResult.applicationName);\r\n            return this.ioc.buildInstance(openResult, app);\r\n        });\r\n    }\r\n    toApi() {\r\n        const api = {\r\n            myInstance: this.me,\r\n            inMemory: {\r\n                import: this.import.bind(this),\r\n                remove: this.remove.bind(this),\r\n                export: this.export.bind(this),\r\n                clear: this.clear.bind(this)\r\n            },\r\n            application: this.getApplication.bind(this),\r\n            applications: this.getApplications.bind(this),\r\n            instances: this.getInstances.bind(this),\r\n            onAppAdded: this.onAppAdded.bind(this),\r\n            onAppChanged: this.onAppChanged.bind(this),\r\n            onAppRemoved: this.onAppRemoved.bind(this),\r\n            onInstanceStarted: this.onInstanceStarted.bind(this),\r\n            onInstanceStopped: this.onInstanceStopped.bind(this)\r\n        };\r\n        return api;\r\n    }\r\n    addOperationsExecutors() {\r\n        operations$1.applicationAdded.execute = this.handleApplicationAddedMessage.bind(this);\r\n        operations$1.applicationRemoved.execute = this.handleApplicationRemovedMessage.bind(this);\r\n        operations$1.applicationChanged.execute = this.handleApplicationChangedMessage.bind(this);\r\n        operations$1.instanceStarted.execute = this.handleInstanceStartedMessage.bind(this);\r\n        operations$1.instanceStopped.execute = this.handleInstanceStoppedMessage.bind(this);\r\n    }\r\n    onAppAdded(callback) {\r\n        return this.registry.add(\"application-added\", callback, this.applications);\r\n    }\r\n    onAppRemoved(callback) {\r\n        return this.registry.add(\"application-removed\", callback);\r\n    }\r\n    onAppChanged(callback) {\r\n        return this.registry.add(\"application-changed\", callback);\r\n    }\r\n    handleApplicationAddedMessage(appData) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (this.applications.some((app) => app.name === appData.name)) {\r\n                return;\r\n            }\r\n            const app = yield this.ioc.buildApplication(appData, []);\r\n            const instances = this.instances.filter((instance) => instance.application.name === app.name);\r\n            app.instances.push(...instances);\r\n            this.applications.push(app);\r\n            this.registry.execute(\"application-added\", app);\r\n        });\r\n    }\r\n    handleApplicationRemovedMessage(appData) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const appIndex = this.applications.findIndex((app) => app.name === appData.name);\r\n            if (appIndex < 0) {\r\n                return;\r\n            }\r\n            const app = this.applications[appIndex];\r\n            this.applications.splice(appIndex, 1);\r\n            this.registry.execute(\"application-removed\", app);\r\n        });\r\n    }\r\n    handleApplicationChangedMessage(appData) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const app = this.applications.find((app) => app.name === appData.name);\r\n            if (!app) {\r\n                return this.handleApplicationAddedMessage(appData);\r\n            }\r\n            app.title = appData.title;\r\n            app.version = appData.version;\r\n            app.icon = appData.icon;\r\n            app.caption = appData.caption;\r\n            app.userProperties = appData.userProperties;\r\n            this.registry.execute(\"application-changed\", app);\r\n        });\r\n    }\r\n    handleInstanceStartedMessage(instanceData) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (this.instances.some((instance) => instance.id === instanceData.id)) {\r\n                return;\r\n            }\r\n            const application = this.applications.find((app) => app.name === instanceData.applicationName);\r\n            if (!application) {\r\n                throw new Error(`Cannot add instance: ${instanceData.id}, because there is no application definition associated with it`);\r\n            }\r\n            const instance = this.ioc.buildInstance(instanceData, application);\r\n            this.instances.push(instance);\r\n            application.instances.push(instance);\r\n            this.registry.execute(\"instance-started\", instance);\r\n        });\r\n    }\r\n    handleInstanceStoppedMessage(instanceData) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const instance = this.instances.find((i) => i.id === instanceData.id);\r\n            if (instance) {\r\n                const instIdx = this.instances.findIndex((inst) => inst.id === instanceData.id);\r\n                this.instances.splice(instIdx, 1);\r\n            }\r\n            const application = this.applications.find((app) => app.instances.some((inst) => inst.id === instanceData.id));\r\n            if (application) {\r\n                const instIdxApps = application.instances.findIndex((inst) => inst.id === instanceData.id);\r\n                application.instances.splice(instIdxApps, 1);\r\n            }\r\n            if (!instance) {\r\n                return;\r\n            }\r\n            this.registry.execute(\"instance-stopped\", instance);\r\n        });\r\n    }\r\n    import(definitions, mode = \"replace\") {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            importModeDecoder.runWithException(mode);\r\n            if (!Array.isArray(definitions)) {\r\n                throw new Error(\"Import must be called with an array of definitions\");\r\n            }\r\n            const parseResult = definitions.reduce((soFar, definition) => {\r\n                const decodeResult = allApplicationDefinitionsDecoder.run(definition);\r\n                if (!decodeResult.ok) {\r\n                    soFar.invalid.push({ app: definition === null || definition === void 0 ? void 0 : definition.name, error: JSON.stringify(decodeResult.error) });\r\n                }\r\n                else {\r\n                    soFar.valid.push(definition);\r\n                }\r\n                return soFar;\r\n            }, { valid: [], invalid: [] });\r\n            yield this.bridge.send(\"appManager\", operations$1.import, { definitions: parseResult.valid, mode });\r\n            return {\r\n                imported: parseResult.valid.map((valid) => valid.name),\r\n                errors: parseResult.invalid\r\n            };\r\n        });\r\n    }\r\n    remove(name) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            nonEmptyStringDecoder.runWithException(name);\r\n            yield this.bridge.send(\"appManager\", operations$1.remove, { name });\r\n        });\r\n    }\r\n    clear() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield this.bridge.send(\"appManager\", operations$1.clear, undefined);\r\n        });\r\n    }\r\n    export() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const response = yield this.bridge.send(\"appManager\", operations$1.export, undefined);\r\n            return response.definitions;\r\n        });\r\n    }\r\n    getApplication(name) {\r\n        const verifiedName = nonEmptyStringDecoder.runWithException(name);\r\n        return this.applications.find((app) => app.name === verifiedName);\r\n    }\r\n    getApplications() {\r\n        return this.applications.slice();\r\n    }\r\n    getInstances() {\r\n        return this.instances.slice();\r\n    }\r\n    registerWithPlatform() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const result = yield this.bridge.send(\"appManager\", operations$1.appHello, { windowId: this.actualWindowId });\r\n            this.logger.trace(\"the platform responded to the hello message with a full list of apps\");\r\n            this.applications = yield Promise.all(result.apps.map((app) => this.ioc.buildApplication(app, app.instances)));\r\n            this.instances = this.applications.reduce((instancesSoFar, app) => {\r\n                instancesSoFar.push(...app.instances);\r\n                return instancesSoFar;\r\n            }, []);\r\n            this.me = this.findMyInstance();\r\n            this.logger.trace(`all applications were parsed and saved. I am ${this.me ? \"NOT a\" : \"a\"} valid instance`);\r\n        });\r\n    }\r\n    findMyInstance() {\r\n        for (const app of this.applications) {\r\n            const foundInstance = app.instances.find((instance) => instance.id === this.publicWindowId);\r\n            if (foundInstance) {\r\n                return foundInstance;\r\n            }\r\n        }\r\n    }\r\n}\n\nclass InstanceModel {\r\n    constructor(data, bridge, application) {\r\n        this.data = data;\r\n        this.bridge = bridge;\r\n        this.application = application;\r\n        this.myCtxKey = `___instance___${this.data.id}`;\r\n    }\r\n    toApi() {\r\n        const agm = this.bridge.getInteropInstance(this.data.id);\r\n        const api = {\r\n            id: this.data.id,\r\n            agm,\r\n            application: this.application,\r\n            stop: this.stop.bind(this),\r\n            getContext: this.getContext.bind(this)\r\n        };\r\n        this.me = Object.freeze(api);\r\n        return this.me;\r\n    }\r\n    getContext() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.bridge.contextLib.get(this.myCtxKey);\r\n        });\r\n    }\r\n    stop() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield this.bridge.send(\"appManager\", operations$1.instanceStop, { id: this.data.id });\r\n        });\r\n    }\r\n}\n\nclass ApplicationModel {\r\n    constructor(data, instances, controller) {\r\n        this.data = data;\r\n        this.instances = instances;\r\n        this.controller = controller;\r\n    }\r\n    toApi() {\r\n        const api = {\r\n            name: this.data.name,\r\n            title: this.data.title,\r\n            version: this.data.version,\r\n            icon: this.data.icon,\r\n            caption: this.data.caption,\r\n            userProperties: this.data.userProperties,\r\n            instances: this.instances,\r\n            start: this.start.bind(this),\r\n            onInstanceStarted: this.onInstanceStarted.bind(this),\r\n            onInstanceStopped: this.onInstanceStopped.bind(this)\r\n        };\r\n        this.me = api;\r\n        return this.me;\r\n    }\r\n    onInstanceStarted(callback) {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"OnInstanceStarted requires a single argument of type function\");\r\n        }\r\n        this.controller.onInstanceStarted((instance) => {\r\n            if (instance.application.name === this.data.name) {\r\n                callback(instance);\r\n            }\r\n        });\r\n    }\r\n    onInstanceStopped(callback) {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"OnInstanceStarted requires a single argument of type function\");\r\n        }\r\n        this.controller.onInstanceStopped((instance) => {\r\n            if (instance.application.name === this.data.name) {\r\n                callback(instance);\r\n            }\r\n        });\r\n    }\r\n    start(context, options) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.controller.startApplication(this.data.name, context, options);\r\n        });\r\n    }\r\n}\n\nconst operations$2 = {\r\n    layoutAdded: { name: \"layoutAdded\", dataDecoder: glueLayoutDecoder },\r\n    layoutChanged: { name: \"layoutChanged\", dataDecoder: glueLayoutDecoder },\r\n    layoutRemoved: { name: \"layoutRemoved\", dataDecoder: glueLayoutDecoder },\r\n    get: { name: \"get\", dataDecoder: simpleLayoutConfigDecoder, resultDecoder: optionalSimpleLayoutResult },\r\n    getAll: { name: \"getAll\", dataDecoder: getAllLayoutsConfigDecoder, resultDecoder: allLayoutsSummariesResultDecoder },\r\n    export: { name: \"export\", dataDecoder: getAllLayoutsConfigDecoder, resultDecoder: allLayoutsFullConfigDecoder },\r\n    import: { name: \"import\", dataDecoder: layoutsImportConfigDecoder },\r\n    remove: { name: \"remove\", dataDecoder: simpleLayoutConfigDecoder }\r\n};\n\nclass LayoutsController {\r\n    constructor() {\r\n        this.registry = lib();\r\n    }\r\n    start(coreGlue, ioc) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.logger = coreGlue.logger.subLogger(\"layouts.controller.web\");\r\n            this.logger.trace(\"starting the web layouts controller\");\r\n            this.bridge = ioc.bridge;\r\n            this.addOperationsExecutors();\r\n            const api = this.toApi();\r\n            this.logger.trace(\"no need for platform registration, attaching the layouts property to glue and returning\");\r\n            coreGlue.layouts = api;\r\n        });\r\n    }\r\n    handleBridgeMessage(args) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const operationName = layoutsOperationTypesDecoder.runWithException(args.operation);\r\n            const operation = operations$2[operationName];\r\n            if (!operation.execute) {\r\n                return;\r\n            }\r\n            let operationData = args.data;\r\n            if (operation.dataDecoder) {\r\n                operationData = operation.dataDecoder.runWithException(args.data);\r\n            }\r\n            return yield operation.execute(operationData);\r\n        });\r\n    }\r\n    toApi() {\r\n        const api = {\r\n            get: this.get.bind(this),\r\n            getAll: this.getAll.bind(this),\r\n            export: this.export.bind(this),\r\n            import: this.import.bind(this),\r\n            save: this.save.bind(this),\r\n            restore: this.restore.bind(this),\r\n            remove: this.remove.bind(this),\r\n            onAdded: this.onAdded.bind(this),\r\n            onChanged: this.onChanged.bind(this),\r\n            onRemoved: this.onRemoved.bind(this)\r\n        };\r\n        return Object.freeze(api);\r\n    }\r\n    addOperationsExecutors() {\r\n        operations$2.layoutAdded.execute = this.handleOnAdded.bind(this);\r\n        operations$2.layoutChanged.execute = this.handleOnChanged.bind(this);\r\n        operations$2.layoutRemoved.execute = this.handleOnRemoved.bind(this);\r\n    }\r\n    get(name, type) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            nonEmptyStringDecoder.runWithException(name);\r\n            layoutTypeDecoder.runWithException(type);\r\n            const result = yield this.bridge.send(\"layouts\", operations$2.get, { name, type });\r\n            return result.layout;\r\n        });\r\n    }\r\n    getAll(type) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            layoutTypeDecoder.runWithException(type);\r\n            const result = yield this.bridge.send(\"layouts\", operations$2.getAll, { type });\r\n            return result.summaries;\r\n        });\r\n    }\r\n    export(type) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (type) {\r\n                layoutTypeDecoder.runWithException(type);\r\n            }\r\n            const result = yield this.bridge.send(\"layouts\", operations$2.export, { type: \"Workspace\" });\r\n            return result.layouts;\r\n        });\r\n    }\r\n    import(layouts, mode = \"replace\") {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            importModeDecoder.runWithException(mode);\r\n            if (!Array.isArray(layouts)) {\r\n                throw new Error(\"Import must be called with an array of layouts\");\r\n            }\r\n            const parseResult = layouts.reduce((soFar, layout) => {\r\n                const decodeResult = glueLayoutDecoder.run(layout);\r\n                if (decodeResult.ok) {\r\n                    soFar.valid.push(layout);\r\n                }\r\n                else {\r\n                    this.logger.warn(`A layout with name: ${layout.name} was not imported, because of error: ${JSON.stringify(decodeResult.error)}`);\r\n                }\r\n                return soFar;\r\n            }, { valid: [] });\r\n            yield this.bridge.send(\"layouts\", operations$2.import, { layouts: parseResult.valid, mode });\r\n        });\r\n    }\r\n    save(layout) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            newLayoutOptionsDecoder.runWithException(layout);\r\n            throw new Error(\"Save is not supported in Core at the moment\");\r\n        });\r\n    }\r\n    restore(options) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            restoreOptionsDecoder.runWithException(options);\r\n            throw new Error(\"Restore is not supported in Core at the moment\");\r\n        });\r\n    }\r\n    remove(type, name) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            layoutTypeDecoder.runWithException(type);\r\n            nonEmptyStringDecoder.runWithException(name);\r\n            yield this.bridge.send(\"layouts\", operations$2.remove, { type, name });\r\n        });\r\n    }\r\n    onAdded(callback) {\r\n        this.export().then((layouts) => layouts.forEach((layout) => callback(layout))).catch(() => { });\r\n        return this.registry.add(operations$2.layoutAdded.name, callback);\r\n    }\r\n    onChanged(callback) {\r\n        return this.registry.add(operations$2.layoutChanged.name, callback);\r\n    }\r\n    onRemoved(callback) {\r\n        return this.registry.add(operations$2.layoutRemoved.name, callback);\r\n    }\r\n    handleOnAdded(layout) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.registry.execute(operations$2.layoutAdded.name, layout);\r\n        });\r\n    }\r\n    handleOnChanged(layout) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.registry.execute(operations$2.layoutChanged.name, layout);\r\n        });\r\n    }\r\n    handleOnRemoved(layout) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.registry.execute(operations$2.layoutRemoved.name, layout);\r\n        });\r\n    }\r\n}\n\nclass NotificationsController {\r\n    start(coreGlue) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.logger = coreGlue.logger.subLogger(\"notifications.controller.web\");\r\n            this.logger.trace(\"starting the web notifications controller\");\r\n            this.interop = coreGlue.interop;\r\n            const api = this.toApi();\r\n            coreGlue.notifications = api;\r\n            this.logger.trace(\"notifications are ready\");\r\n        });\r\n    }\r\n    handleBridgeMessage() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n        });\r\n    }\r\n    toApi() {\r\n        const api = {\r\n            raise: this.raise.bind(this)\r\n        };\r\n        return Object.freeze(api);\r\n    }\r\n    raise(options) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (!(\"Notification\" in window)) {\r\n                throw new Error(\"this browser does not support desktop notification\");\r\n            }\r\n            let permissionPromise;\r\n            if (Notification.permission === \"granted\") {\r\n                permissionPromise = Promise.resolve(\"granted\");\r\n            }\r\n            else if (Notification.permission === \"denied\") {\r\n                permissionPromise = Promise.reject(\"no permissions from user\");\r\n            }\r\n            else {\r\n                permissionPromise = Notification.requestPermission();\r\n            }\r\n            yield permissionPromise;\r\n            const notification = this.raiseUsingWebApi(options);\r\n            if (options.clickInterop) {\r\n                const interopOptions = options.clickInterop;\r\n                notification.onclick = () => {\r\n                    var _a, _b;\r\n                    this.interop.invoke(interopOptions.method, (_a = interopOptions === null || interopOptions === void 0 ? void 0 : interopOptions.arguments) !== null && _a !== void 0 ? _a : {}, (_b = interopOptions === null || interopOptions === void 0 ? void 0 : interopOptions.target) !== null && _b !== void 0 ? _b : \"best\");\r\n                };\r\n            }\r\n            return notification;\r\n        });\r\n    }\r\n    raiseUsingWebApi(options) {\r\n        return new Notification(options.title);\r\n    }\r\n}\n\nconst operations$3 = {\r\n    getIntents: { name: \"getIntents\", resultDecoder: wrappedIntentsDecoder },\r\n    findIntent: { name: \"findIntent\", dataDecoder: wrappedIntentFilterDecoder, resultDecoder: wrappedIntentsDecoder },\r\n    raiseIntent: { name: \"raiseIntent\", dataDecoder: intentRequestDecoder, resultDecoder: intentResultDecoder }\r\n};\n\nclass IntentsController {\r\n    constructor() {\r\n        this.myIntents = new Set();\r\n        this.GlueWebIntentsPrefix = \"Tick42.FDC3.Intents.\";\r\n    }\r\n    start(coreGlue, ioc) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.logger = coreGlue.logger.subLogger(\"intents.controller.web\");\r\n            this.logger.trace(\"starting the web intents controller\");\r\n            this.bridge = ioc.bridge;\r\n            this.interop = coreGlue.interop;\r\n            const api = this.toApi();\r\n            this.logger.trace(\"no need for platform registration, attaching the intents property to glue and returning\");\r\n            coreGlue.intents = api;\r\n        });\r\n    }\r\n    handleBridgeMessage(args) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const operationName = intentsOperationTypesDecoder.runWithException(args.operation);\r\n            const operation = operations$3[operationName];\r\n            if (!operation.execute) {\r\n                return;\r\n            }\r\n            let operationData = args.data;\r\n            if (operation.dataDecoder) {\r\n                operationData = operation.dataDecoder.runWithException(args.data);\r\n            }\r\n            return yield operation.execute(operationData);\r\n        });\r\n    }\r\n    toApi() {\r\n        const api = {\r\n            raise: this.raise.bind(this),\r\n            all: this.all.bind(this),\r\n            addIntentListener: this.addIntentListener.bind(this),\r\n            find: this.find.bind(this)\r\n        };\r\n        return Object.freeze(api);\r\n    }\r\n    raise(request) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const requestObj = raiseRequestDecoder.runWithException(request);\r\n            let data;\r\n            if (typeof requestObj === \"string\") {\r\n                data = {\r\n                    intent: requestObj\r\n                };\r\n            }\r\n            else {\r\n                data = requestObj;\r\n            }\r\n            const result = yield this.bridge.send(\"intents\", operations$3.raiseIntent, data);\r\n            return result;\r\n        });\r\n    }\r\n    all() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const result = yield this.bridge.send(\"intents\", operations$3.getIntents, undefined);\r\n            return result.intents;\r\n        });\r\n    }\r\n    addIntentListener(intent, handler) {\r\n        addIntentListenerIntentDecoder.runWithException(intent);\r\n        if (typeof handler !== \"function\") {\r\n            throw new Error(\"Cannot add intent listener, because the provided handler is not a function!\");\r\n        }\r\n        let subscribed = true;\r\n        const intentName = typeof intent === \"string\" ? intent : intent.intent;\r\n        const methodName = `${this.GlueWebIntentsPrefix}${intentName}`;\r\n        const alreadyRegistered = this.myIntents.has(intentName);\r\n        if (alreadyRegistered) {\r\n            throw new Error(`Intent listener for intent ${intentName} already registered!`);\r\n        }\r\n        this.myIntents.add(intentName);\r\n        const result = {\r\n            unsubscribe: () => {\r\n                subscribed = false;\r\n                try {\r\n                    this.interop.unregister(methodName);\r\n                    this.myIntents.delete(intentName);\r\n                }\r\n                catch (error) {\r\n                    this.logger.trace(`Unsubscribed intent listener, but ${methodName} unregistration failed!`);\r\n                }\r\n            }\r\n        };\r\n        let intentFlag = {};\r\n        if (typeof intent === \"object\") {\r\n            const rest = __rest(intent, [\"intent\"]);\r\n            intentFlag = rest;\r\n        }\r\n        this.interop.register({ name: methodName, flags: { intent: intentFlag } }, (args) => {\r\n            if (subscribed) {\r\n                return handler(args);\r\n            }\r\n        });\r\n        return result;\r\n    }\r\n    find(intentFilter) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let data = undefined;\r\n            if (typeof intentFilter !== \"undefined\") {\r\n                const intentFilterObj = findFilterDecoder.runWithException(intentFilter);\r\n                if (typeof intentFilterObj === \"string\") {\r\n                    data = {\r\n                        filter: {\r\n                            name: intentFilterObj\r\n                        }\r\n                    };\r\n                }\r\n                else if (typeof intentFilterObj === \"object\") {\r\n                    data = {\r\n                        filter: intentFilterObj\r\n                    };\r\n                }\r\n            }\r\n            const result = yield this.bridge.send(\"intents\", operations$3.findIntent, data);\r\n            return result.intents;\r\n        });\r\n    }\r\n}\n\nclass ChannelsController {\r\n    constructor() {\r\n        this.registry = lib();\r\n        this.GlueWebChannelsPrefix = \"___channel___\";\r\n        this.SubsKey = \"subs\";\r\n        this.ChangedKey = \"changed\";\r\n    }\r\n    start(coreGlue) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.logger = coreGlue.logger.subLogger(\"channels.controller.web\");\r\n            this.logger.trace(\"starting the web channels controller\");\r\n            this.contexts = coreGlue.contexts;\r\n            this.logger.trace(\"no need for platform registration, attaching the channels property to glue and returning\");\r\n            const api = this.toApi();\r\n            coreGlue.channels = api;\r\n        });\r\n    }\r\n    handleBridgeMessage() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n        });\r\n    }\r\n    toApi() {\r\n        const api = {\r\n            subscribe: this.subscribe.bind(this),\r\n            subscribeFor: this.subscribeFor.bind(this),\r\n            publish: this.publish.bind(this),\r\n            all: this.all.bind(this),\r\n            list: this.list.bind(this),\r\n            get: this.get.bind(this),\r\n            join: this.join.bind(this),\r\n            leave: this.leave.bind(this),\r\n            current: this.current.bind(this),\r\n            my: this.my.bind(this),\r\n            changed: this.changed.bind(this),\r\n            onChanged: this.onChanged.bind(this),\r\n            add: this.add.bind(this)\r\n        };\r\n        return Object.freeze(api);\r\n    }\r\n    createContextName(channelName) {\r\n        return `${this.GlueWebChannelsPrefix}${channelName}`;\r\n    }\r\n    getAllChannelNames() {\r\n        const contextNames = this.contexts.all();\r\n        const channelContextNames = contextNames.filter((contextName) => contextName.startsWith(this.GlueWebChannelsPrefix));\r\n        const channelNames = channelContextNames.map((channelContextName) => channelContextName.replace(this.GlueWebChannelsPrefix, \"\"));\r\n        return channelNames;\r\n    }\r\n    unsubscribe() {\r\n        if (this.unsubscribeFunc) {\r\n            this.unsubscribeFunc();\r\n            this.unsubscribeFunc = undefined;\r\n        }\r\n    }\r\n    switchToChannel(name) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.unsubscribe();\r\n            this.currentChannelName = name;\r\n            if (typeof name !== \"undefined\") {\r\n                const contextName = this.createContextName(name);\r\n                this.unsubscribeFunc = yield this.contexts.subscribe(contextName, (context, _, __, ___, extraData) => {\r\n                    this.registry.execute(this.SubsKey, context.data, context, extraData === null || extraData === void 0 ? void 0 : extraData.updaterId);\r\n                });\r\n            }\r\n            this.registry.execute(this.ChangedKey, name);\r\n        });\r\n    }\r\n    updateData(name, data) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const contextName = this.createContextName(name);\r\n            if (this.contexts.setPathSupported) {\r\n                const pathValues = Object.keys(data).map((key) => {\r\n                    return {\r\n                        path: `data.${key}`,\r\n                        value: data[key]\r\n                    };\r\n                });\r\n                yield this.contexts.setPaths(contextName, pathValues);\r\n            }\r\n            else {\r\n                yield this.contexts.update(contextName, { data });\r\n            }\r\n        });\r\n    }\r\n    subscribe(callback) {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"Cannot subscribe to channels, because the provided callback is not a function!\");\r\n        }\r\n        return this.registry.add(this.SubsKey, callback);\r\n    }\r\n    subscribeFor(name, callback) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const channelNames = this.getAllChannelNames();\r\n            channelNameDecoder(channelNames).runWithException(name);\r\n            if (typeof callback !== \"function\") {\r\n                throw new Error(`Cannot subscribe to channel ${name}, because the provided callback is not a function!`);\r\n            }\r\n            const contextName = this.createContextName(name);\r\n            return this.contexts.subscribe(contextName, (context, _, __, ___, extraData) => {\r\n                callback(context.data, context, extraData === null || extraData === void 0 ? void 0 : extraData.updaterId);\r\n            });\r\n        });\r\n    }\r\n    publish(data, name) {\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Cannot publish to channel, because the provided data is not an object!\");\r\n        }\r\n        if (typeof name !== \"undefined\") {\r\n            const channelNames = this.getAllChannelNames();\r\n            channelNameDecoder(channelNames).runWithException(name);\r\n            return this.updateData(name, data);\r\n        }\r\n        if (typeof this.currentChannelName === \"undefined\") {\r\n            throw new Error(\"Cannot publish to channel, because not joined to a channel!\");\r\n        }\r\n        return this.updateData(this.currentChannelName, data);\r\n    }\r\n    all() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const channelNames = this.getAllChannelNames();\r\n            return channelNames;\r\n        });\r\n    }\r\n    list() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const channelNames = this.getAllChannelNames();\r\n            const channelContexts = yield Promise.all(channelNames.map((channelName) => this.get(channelName)));\r\n            return channelContexts;\r\n        });\r\n    }\r\n    get(name) {\r\n        const channelNames = this.getAllChannelNames();\r\n        channelNameDecoder(channelNames).runWithException(name);\r\n        const contextName = this.createContextName(name);\r\n        return this.contexts.get(contextName);\r\n    }\r\n    join(name) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const channelNames = this.getAllChannelNames();\r\n            channelNameDecoder(channelNames).runWithException(name);\r\n            yield this.switchToChannel(name);\r\n        });\r\n    }\r\n    leave() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield this.switchToChannel();\r\n        });\r\n    }\r\n    current() {\r\n        return this.currentChannelName;\r\n    }\r\n    my() {\r\n        return this.current();\r\n    }\r\n    changed(callback) {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"Cannot subscribe to channel changed, because the provided callback is not a function!\");\r\n        }\r\n        return this.registry.add(this.ChangedKey, callback);\r\n    }\r\n    onChanged(callback) {\r\n        return this.changed(callback);\r\n    }\r\n    add(info) {\r\n        throw new Error(\"Method `add()` isn't implemented.\");\r\n    }\r\n}\n\nconst operations$4 = {\r\n    getEnvironment: { name: \"getEnvironment\", resultDecoder: anyDecoder },\r\n    getBase: { name: \"getBase\", resultDecoder: anyDecoder }\r\n};\n\nclass SystemController {\r\n    start(coreGlue, ioc) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.bridge = ioc.bridge;\r\n            yield this.setEnvironment();\r\n        });\r\n    }\r\n    handleBridgeMessage() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n        });\r\n    }\r\n    setEnvironment() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const environment = yield this.bridge.send(\"system\", operations$4.getEnvironment, undefined);\r\n            const base = yield this.bridge.send(\"system\", operations$4.getBase, undefined);\r\n            const glue42core = Object.assign({}, window.glue42core, base, { environment });\r\n            window.glue42core = Object.freeze(glue42core);\r\n        });\r\n    }\r\n}\n\nclass IoC {\r\n    constructor(coreGlue) {\r\n        this.coreGlue = coreGlue;\r\n        this.controllers = {\r\n            windows: this.windowsController,\r\n            appManager: this.appManagerController,\r\n            layouts: this.layoutsController,\r\n            notifications: this.notificationsController,\r\n            intents: this.intentsController,\r\n            channels: this.channelsController,\r\n            system: this.systemController\r\n        };\r\n    }\r\n    get windowsController() {\r\n        if (!this._windowsControllerInstance) {\r\n            this._windowsControllerInstance = new WindowsController();\r\n        }\r\n        return this._windowsControllerInstance;\r\n    }\r\n    get appManagerController() {\r\n        if (!this._appManagerControllerInstance) {\r\n            this._appManagerControllerInstance = new AppManagerController();\r\n        }\r\n        return this._appManagerControllerInstance;\r\n    }\r\n    get layoutsController() {\r\n        if (!this._layoutsControllerInstance) {\r\n            this._layoutsControllerInstance = new LayoutsController();\r\n        }\r\n        return this._layoutsControllerInstance;\r\n    }\r\n    get notificationsController() {\r\n        if (!this._notificationsControllerInstance) {\r\n            this._notificationsControllerInstance = new NotificationsController();\r\n        }\r\n        return this._notificationsControllerInstance;\r\n    }\r\n    get intentsController() {\r\n        if (!this._intentsControllerInstance) {\r\n            this._intentsControllerInstance = new IntentsController();\r\n        }\r\n        return this._intentsControllerInstance;\r\n    }\r\n    get systemController() {\r\n        if (!this._systemControllerInstance) {\r\n            this._systemControllerInstance = new SystemController();\r\n        }\r\n        return this._systemControllerInstance;\r\n    }\r\n    get channelsController() {\r\n        if (!this._channelsControllerInstance) {\r\n            this._channelsControllerInstance = new ChannelsController();\r\n        }\r\n        return this._channelsControllerInstance;\r\n    }\r\n    get bridge() {\r\n        if (!this._bridgeInstance) {\r\n            this._bridgeInstance = new GlueBridge(this.coreGlue);\r\n        }\r\n        return this._bridgeInstance;\r\n    }\r\n    buildWebWindow(id, name) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const model = new WebWindowModel(id, name, this.bridge);\r\n            const api = yield model.toApi();\r\n            return { id, model, api };\r\n        });\r\n    }\r\n    buildApplication(app, applicationInstances) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const application = (new ApplicationModel(app, [], this.appManagerController)).toApi();\r\n            const instances = applicationInstances.map((instanceData) => this.buildInstance(instanceData, application));\r\n            application.instances.push(...instances);\r\n            return application;\r\n        });\r\n    }\r\n    buildInstance(instanceData, app) {\r\n        return (new InstanceModel(instanceData, this.bridge, app)).toApi();\r\n    }\r\n}\n\nvar version = \"2.1.7\";\n\nconst createFactoryFunction = (coreFactoryFunction) => {\r\n    return (userConfig) => __awaiter(void 0, void 0, void 0, function* () {\r\n        const config = parseConfig(userConfig);\r\n        if (window.glue42gd) {\r\n            return enterprise(config);\r\n        }\r\n        checkSingleton();\r\n        const glue = yield PromiseWrap(() => coreFactoryFunction(config, { version }), 30000, \"Glue Web initialization timed out, because core didn't resolve\");\r\n        const logger = glue.logger.subLogger(\"web.main.controller\");\r\n        const ioc = new IoC(glue);\r\n        yield ioc.bridge.start(ioc.controllers);\r\n        logger.trace(\"the bridge has been started, initializing all controllers\");\r\n        yield Promise.all(Object.values(ioc.controllers).map((controller) => controller.start(glue, ioc)));\r\n        logger.trace(\"all controllers reported started, starting all additional libraries\");\r\n        yield Promise.all(config.libraries.map((lib) => lib(glue, config)));\r\n        logger.trace(\"all libraries were started, glue is ready, returning it\");\r\n        return glue;\r\n    });\r\n};\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign$1 = function() {\r\n    __assign$1 = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign$1.apply(this, arguments);\r\n};\r\n\r\nfunction __awaiter$1(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nfunction __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\n\nvar MetricTypes = {\r\n    STRING: 1,\r\n    NUMBER: 2,\r\n    TIMESTAMP: 3,\r\n    OBJECT: 4\r\n};\n\nfunction getMetricTypeByValue(metric) {\r\n    if (metric.type === MetricTypes.TIMESTAMP) {\r\n        return \"timestamp\";\r\n    }\r\n    else if (metric.type === MetricTypes.NUMBER) {\r\n        return \"number\";\r\n    }\r\n    else if (metric.type === MetricTypes.STRING) {\r\n        return \"string\";\r\n    }\r\n    else if (metric.type === MetricTypes.OBJECT) {\r\n        return \"object\";\r\n    }\r\n    return \"unknown\";\r\n}\r\nfunction getTypeByValue(value) {\r\n    if (value.constructor === Date) {\r\n        return \"timestamp\";\r\n    }\r\n    else if (typeof value === \"number\") {\r\n        return \"number\";\r\n    }\r\n    else if (typeof value === \"string\") {\r\n        return \"string\";\r\n    }\r\n    else if (typeof value === \"object\") {\r\n        return \"object\";\r\n    }\r\n    else {\r\n        return \"string\";\r\n    }\r\n}\r\nfunction serializeMetric(metric) {\r\n    var serializedMetrics = {};\r\n    var type = getMetricTypeByValue(metric);\r\n    if (type === \"object\") {\r\n        var values = Object.keys(metric.value).reduce(function (memo, key) {\r\n            var innerType = getTypeByValue(metric.value[key]);\r\n            if (innerType === \"object\") {\r\n                var composite = defineNestedComposite(metric.value[key]);\r\n                memo[key] = {\r\n                    type: \"object\",\r\n                    description: \"\",\r\n                    context: {},\r\n                    composite: composite,\r\n                };\r\n            }\r\n            else {\r\n                memo[key] = {\r\n                    type: innerType,\r\n                    description: \"\",\r\n                    context: {},\r\n                };\r\n            }\r\n            return memo;\r\n        }, {});\r\n        serializedMetrics.composite = values;\r\n    }\r\n    serializedMetrics.name = normalizeMetricName(metric.path.join(\"/\") + \"/\" + metric.name);\r\n    serializedMetrics.type = type;\r\n    serializedMetrics.description = metric.description;\r\n    serializedMetrics.context = {};\r\n    return serializedMetrics;\r\n}\r\nfunction defineNestedComposite(values) {\r\n    return Object.keys(values).reduce(function (memo, key) {\r\n        var type = getTypeByValue(values[key]);\r\n        if (type === \"object\") {\r\n            memo[key] = {\r\n                type: \"object\",\r\n                description: \"\",\r\n                context: {},\r\n                composite: defineNestedComposite(values[key]),\r\n            };\r\n        }\r\n        else {\r\n            memo[key] = {\r\n                type: type,\r\n                description: \"\",\r\n                context: {},\r\n            };\r\n        }\r\n        return memo;\r\n    }, {});\r\n}\r\nfunction normalizeMetricName(name) {\r\n    if (typeof name !== \"undefined\" && name.length > 0 && name[0] !== \"/\") {\r\n        return \"/\" + name;\r\n    }\r\n    else {\r\n        return name;\r\n    }\r\n}\r\nfunction getMetricValueByType(metric) {\r\n    var type = getMetricTypeByValue(metric);\r\n    if (type === \"timestamp\") {\r\n        return Date.now();\r\n    }\r\n    else {\r\n        return publishNestedComposite(metric.value);\r\n    }\r\n}\r\nfunction publishNestedComposite(values) {\r\n    if (typeof values !== \"object\") {\r\n        return values;\r\n    }\r\n    return Object.keys(values).reduce(function (memo, key) {\r\n        var value = values[key];\r\n        if (typeof value === \"object\" && value.constructor !== Date) {\r\n            memo[key] = publishNestedComposite(value);\r\n        }\r\n        else if (value.constructor === Date) {\r\n            memo[key] = new Date(value).getTime();\r\n        }\r\n        else if (value.constructor === Boolean) {\r\n            memo[key] = value.toString();\r\n        }\r\n        else {\r\n            memo[key] = value;\r\n        }\r\n        return memo;\r\n    }, {});\r\n}\r\nfunction flatten(arr) {\r\n    return arr.reduce(function (flat, toFlatten) {\r\n        return flat.concat(Array.isArray(toFlatten) ? flatten(toFlatten) : toFlatten);\r\n    }, []);\r\n}\r\nfunction getHighestState(arr) {\r\n    return arr.sort(function (a, b) {\r\n        if (!a.state) {\r\n            return 1;\r\n        }\r\n        if (!b.state) {\r\n            return -1;\r\n        }\r\n        return b.state - a.state;\r\n    })[0];\r\n}\r\nfunction aggregateDescription(arr) {\r\n    var msg = \"\";\r\n    arr.forEach(function (m, idx, a) {\r\n        var path = m.path.join(\".\");\r\n        if (idx === a.length - 1) {\r\n            msg += path + \".\" + m.name + \": \" + m.description;\r\n        }\r\n        else {\r\n            msg += path + \".\" + m.name + \": \" + m.description + \",\";\r\n        }\r\n    });\r\n    if (msg.length > 100) {\r\n        return msg.slice(0, 100) + \"...\";\r\n    }\r\n    else {\r\n        return msg;\r\n    }\r\n}\r\nfunction composeMsgForRootStateMetric(system) {\r\n    var aggregatedState = system.root.getAggregateState();\r\n    var merged = flatten(aggregatedState);\r\n    var highestState = getHighestState(merged);\r\n    var aggregateDesc = aggregateDescription(merged);\r\n    return {\r\n        description: aggregateDesc,\r\n        value: highestState.state,\r\n    };\r\n}\n\nfunction gw3 (connection, config) {\r\n    var _this = this;\r\n    if (!connection || typeof connection !== \"object\") {\r\n        throw new Error(\"Connection is required parameter\");\r\n    }\r\n    var joinPromise;\r\n    var session;\r\n    var init = function (repo) {\r\n        var resolveReadyPromise;\r\n        joinPromise = new Promise(function (resolve) {\r\n            resolveReadyPromise = resolve;\r\n        });\r\n        session = connection.domain(\"metrics\");\r\n        session.onJoined(function (reconnect) {\r\n            if (!reconnect && resolveReadyPromise) {\r\n                resolveReadyPromise();\r\n                resolveReadyPromise = undefined;\r\n            }\r\n            var rootStateMetric = {\r\n                name: \"/State\",\r\n                type: \"object\",\r\n                composite: {\r\n                    Description: {\r\n                        type: \"string\",\r\n                        description: \"\",\r\n                    },\r\n                    Value: {\r\n                        type: \"number\",\r\n                        description: \"\",\r\n                    },\r\n                },\r\n                description: \"System state\",\r\n                context: {},\r\n            };\r\n            var defineRootMetricsMsg = {\r\n                type: \"define\",\r\n                metrics: [rootStateMetric],\r\n            };\r\n            session.send(defineRootMetricsMsg);\r\n            if (reconnect) {\r\n                replayRepo(repo);\r\n            }\r\n        });\r\n        session.join({\r\n            system: config.system,\r\n            service: config.service,\r\n            instance: config.instance\r\n        });\r\n    };\r\n    var replayRepo = function (repo) {\r\n        replaySystem(repo.root);\r\n    };\r\n    var replaySystem = function (system) {\r\n        createSystem(system);\r\n        system.metrics.forEach(function (m) {\r\n            createMetric(m);\r\n        });\r\n        system.subSystems.forEach(function (ss) {\r\n            replaySystem(ss);\r\n        });\r\n    };\r\n    var createSystem = function (system) { return __awaiter$1(_this, void 0, void 0, function () {\r\n        var metric, createMetricsMsg;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    if (system.parent === undefined) {\r\n                        return [2];\r\n                    }\r\n                    return [4, joinPromise];\r\n                case 1:\r\n                    _a.sent();\r\n                    metric = {\r\n                        name: normalizeMetricName(system.path.join(\"/\") + \"/\" + system.name + \"/State\"),\r\n                        type: \"object\",\r\n                        composite: {\r\n                            Description: {\r\n                                type: \"string\",\r\n                                description: \"\",\r\n                            },\r\n                            Value: {\r\n                                type: \"number\",\r\n                                description: \"\",\r\n                            },\r\n                        },\r\n                        description: \"System state\",\r\n                        context: {},\r\n                    };\r\n                    createMetricsMsg = {\r\n                        type: \"define\",\r\n                        metrics: [metric],\r\n                    };\r\n                    session.send(createMetricsMsg);\r\n                    return [2];\r\n            }\r\n        });\r\n    }); };\r\n    var updateSystem = function (system, state) { return __awaiter$1(_this, void 0, void 0, function () {\r\n        var shadowedUpdateMetric, stateObj, rootMetric;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4, joinPromise];\r\n                case 1:\r\n                    _a.sent();\r\n                    shadowedUpdateMetric = {\r\n                        type: \"publish\",\r\n                        values: [{\r\n                                name: normalizeMetricName(system.path.join(\"/\") + \"/\" + system.name + \"/State\"),\r\n                                value: {\r\n                                    Description: state.description,\r\n                                    Value: state.state,\r\n                                },\r\n                                timestamp: Date.now(),\r\n                            }],\r\n                    };\r\n                    session.send(shadowedUpdateMetric);\r\n                    stateObj = composeMsgForRootStateMetric(system);\r\n                    rootMetric = {\r\n                        type: \"publish\",\r\n                        peer_id: connection.peerId,\r\n                        values: [{\r\n                                name: \"/State\",\r\n                                value: {\r\n                                    Description: stateObj.description,\r\n                                    Value: stateObj.value,\r\n                                },\r\n                                timestamp: Date.now(),\r\n                            }],\r\n                    };\r\n                    session.send(rootMetric);\r\n                    return [2];\r\n            }\r\n        });\r\n    }); };\r\n    var createMetric = function (metric) { return __awaiter$1(_this, void 0, void 0, function () {\r\n        var metricClone, m, createMetricsMsg;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    metricClone = cloneMetric(metric);\r\n                    return [4, joinPromise];\r\n                case 1:\r\n                    _a.sent();\r\n                    m = serializeMetric(metricClone);\r\n                    createMetricsMsg = {\r\n                        type: \"define\",\r\n                        metrics: [m],\r\n                    };\r\n                    session.send(createMetricsMsg);\r\n                    if (typeof metricClone.value !== \"undefined\") {\r\n                        updateMetricCore(metricClone);\r\n                    }\r\n                    return [2];\r\n            }\r\n        });\r\n    }); };\r\n    var updateMetric = function (metric) { return __awaiter$1(_this, void 0, void 0, function () {\r\n        var metricClone;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    metricClone = cloneMetric(metric);\r\n                    return [4, joinPromise];\r\n                case 1:\r\n                    _a.sent();\r\n                    updateMetricCore(metricClone);\r\n                    return [2];\r\n            }\r\n        });\r\n    }); };\r\n    var updateMetricCore = function (metric) {\r\n        if (canUpdate()) {\r\n            var value = getMetricValueByType(metric);\r\n            var publishMetricsMsg = {\r\n                type: \"publish\",\r\n                values: [{\r\n                        name: normalizeMetricName(metric.path.join(\"/\") + \"/\" + metric.name),\r\n                        value: value,\r\n                        timestamp: Date.now(),\r\n                    }],\r\n            };\r\n            return session.sendFireAndForget(publishMetricsMsg);\r\n        }\r\n        return Promise.resolve();\r\n    };\r\n    var cloneMetric = function (metric) {\r\n        var metricClone = __assign$1({}, metric);\r\n        if (typeof metric.value === \"object\" && metric.value !== null) {\r\n            metricClone.value = __assign$1({}, metric.value);\r\n        }\r\n        return metricClone;\r\n    };\r\n    var canUpdate = function () {\r\n        var _a;\r\n        try {\r\n            var func = (_a = config.canUpdateMetric) !== null && _a !== void 0 ? _a : (function () { return true; });\r\n            return func();\r\n        }\r\n        catch (_b) {\r\n            return true;\r\n        }\r\n    };\r\n    return {\r\n        init: init,\r\n        createSystem: createSystem,\r\n        updateSystem: updateSystem,\r\n        createMetric: createMetric,\r\n        updateMetric: updateMetric,\r\n    };\r\n}\n\nvar Helpers = {\r\n    validate: function (definition, parent, transport) {\r\n        if (definition === null || typeof definition !== \"object\") {\r\n            throw new Error(\"Missing definition\");\r\n        }\r\n        if (parent === null || typeof parent !== \"object\") {\r\n            throw new Error(\"Missing parent\");\r\n        }\r\n        if (transport === null || typeof transport !== \"object\") {\r\n            throw new Error(\"Missing transport\");\r\n        }\r\n    },\r\n};\n\nvar BaseMetric = (function () {\r\n    function BaseMetric(definition, system, transport, value, type) {\r\n        this.definition = definition;\r\n        this.system = system;\r\n        this.transport = transport;\r\n        this.value = value;\r\n        this.type = type;\r\n        this.path = [];\r\n        Helpers.validate(definition, system, transport);\r\n        this.path = system.path.slice(0);\r\n        this.path.push(system.name);\r\n        this.name = definition.name;\r\n        this.description = definition.description;\r\n        transport.createMetric(this);\r\n    }\r\n    Object.defineProperty(BaseMetric.prototype, \"repo\", {\r\n        get: function () {\r\n            var _a;\r\n            return (_a = this.system) === null || _a === void 0 ? void 0 : _a.repo;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(BaseMetric.prototype, \"id\", {\r\n        get: function () { return this.system.path + \"/\" + name; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    BaseMetric.prototype.update = function (newValue) {\r\n        this.value = newValue;\r\n        return this.transport.updateMetric(this);\r\n    };\r\n    return BaseMetric;\r\n}());\n\nvar NumberMetric = (function (_super) {\r\n    __extends(NumberMetric, _super);\r\n    function NumberMetric(definition, system, transport, value) {\r\n        return _super.call(this, definition, system, transport, value, MetricTypes.NUMBER) || this;\r\n    }\r\n    NumberMetric.prototype.incrementBy = function (num) {\r\n        this.update(this.value + num);\r\n    };\r\n    NumberMetric.prototype.increment = function () {\r\n        this.incrementBy(1);\r\n    };\r\n    NumberMetric.prototype.decrement = function () {\r\n        this.incrementBy(-1);\r\n    };\r\n    NumberMetric.prototype.decrementBy = function (num) {\r\n        this.incrementBy(num * -1);\r\n    };\r\n    return NumberMetric;\r\n}(BaseMetric));\n\nvar ObjectMetric = (function (_super) {\r\n    __extends(ObjectMetric, _super);\r\n    function ObjectMetric(definition, system, transport, value) {\r\n        return _super.call(this, definition, system, transport, value, MetricTypes.OBJECT) || this;\r\n    }\r\n    ObjectMetric.prototype.update = function (newValue) {\r\n        this.mergeValues(newValue);\r\n        return this.transport.updateMetric(this);\r\n    };\r\n    ObjectMetric.prototype.mergeValues = function (values) {\r\n        var _this = this;\r\n        return Object.keys(this.value).forEach(function (k) {\r\n            if (typeof values[k] !== \"undefined\") {\r\n                _this.value[k] = values[k];\r\n            }\r\n        });\r\n    };\r\n    return ObjectMetric;\r\n}(BaseMetric));\n\nvar StringMetric = (function (_super) {\r\n    __extends(StringMetric, _super);\r\n    function StringMetric(definition, system, transport, value) {\r\n        return _super.call(this, definition, system, transport, value, MetricTypes.STRING) || this;\r\n    }\r\n    return StringMetric;\r\n}(BaseMetric));\n\nvar TimestampMetric = (function (_super) {\r\n    __extends(TimestampMetric, _super);\r\n    function TimestampMetric(definition, system, transport, value) {\r\n        return _super.call(this, definition, system, transport, value, MetricTypes.TIMESTAMP) || this;\r\n    }\r\n    TimestampMetric.prototype.now = function () {\r\n        this.update(new Date());\r\n    };\r\n    return TimestampMetric;\r\n}(BaseMetric));\n\nfunction system(name, repo, protocol, parent, description) {\r\n    if (!repo) {\r\n        throw new Error(\"Repository is required\");\r\n    }\r\n    if (!protocol) {\r\n        throw new Error(\"Transport is required\");\r\n    }\r\n    var _transport = protocol;\r\n    var _name = name;\r\n    var _description = description || \"\";\r\n    var _repo = repo;\r\n    var _parent = parent;\r\n    var _path = _buildPath(parent);\r\n    var _state = {};\r\n    var id = _arrayToString(_path, \"/\") + name;\r\n    var root = repo.root;\r\n    var _subSystems = [];\r\n    var _metrics = [];\r\n    function subSystem(nameSystem, descriptionSystem) {\r\n        if (!nameSystem || nameSystem.length === 0) {\r\n            throw new Error(\"name is required\");\r\n        }\r\n        var match = _subSystems.filter(function (s) { return s.name === nameSystem; });\r\n        if (match.length > 0) {\r\n            return match[0];\r\n        }\r\n        var _system = system(nameSystem, _repo, _transport, me, descriptionSystem);\r\n        _subSystems.push(_system);\r\n        return _system;\r\n    }\r\n    function setState(state, stateDescription) {\r\n        _state = { state: state, description: stateDescription };\r\n        _transport.updateSystem(me, _state);\r\n    }\r\n    function stringMetric(definition, value) {\r\n        return _getOrCreateMetric(definition, MetricTypes.STRING, value, function (metricDef) { return new StringMetric(metricDef, me, _transport, value); });\r\n    }\r\n    function numberMetric(definition, value) {\r\n        return _getOrCreateMetric(definition, MetricTypes.NUMBER, value, function (metricDef) { return new NumberMetric(metricDef, me, _transport, value); });\r\n    }\r\n    function objectMetric(definition, value) {\r\n        return _getOrCreateMetric(definition, MetricTypes.OBJECT, value, function (metricDef) { return new ObjectMetric(metricDef, me, _transport, value); });\r\n    }\r\n    function timestampMetric(definition, value) {\r\n        return _getOrCreateMetric(definition, MetricTypes.TIMESTAMP, value, function (metricDef) { return new TimestampMetric(metricDef, me, _transport, value); });\r\n    }\r\n    function _getOrCreateMetric(metricObject, expectedType, value, createMetric) {\r\n        var metricDef = { name: \"\" };\r\n        if (typeof metricObject === \"string\") {\r\n            metricDef = { name: metricObject };\r\n        }\r\n        else {\r\n            metricDef = metricObject;\r\n        }\r\n        var matching = _metrics.filter(function (shadowedMetric) { return shadowedMetric.name === metricDef.name; });\r\n        if (matching.length > 0) {\r\n            var existing = matching[0];\r\n            if (existing.type !== expectedType) {\r\n                throw new Error(\"A metric named \" + metricDef.name + \" is already defined with different type.\");\r\n            }\r\n            if (typeof value !== \"undefined\") {\r\n                existing\r\n                    .update(value)\r\n                    .catch(function () { });\r\n            }\r\n            return existing;\r\n        }\r\n        var metric = createMetric(metricDef);\r\n        _metrics.push(metric);\r\n        return metric;\r\n    }\r\n    function _buildPath(shadowedSystem) {\r\n        if (!shadowedSystem || !shadowedSystem.parent) {\r\n            return [];\r\n        }\r\n        var path = _buildPath(shadowedSystem.parent);\r\n        path.push(shadowedSystem.name);\r\n        return path;\r\n    }\r\n    function _arrayToString(path, separator) {\r\n        return ((path && path.length > 0) ? path.join(separator) : \"\");\r\n    }\r\n    function getAggregateState() {\r\n        var aggState = [];\r\n        if (Object.keys(_state).length > 0) {\r\n            aggState.push({\r\n                name: _name,\r\n                path: _path,\r\n                state: _state.state,\r\n                description: _state.description,\r\n            });\r\n        }\r\n        _subSystems.forEach(function (shadowedSubSystem) {\r\n            var result = shadowedSubSystem.getAggregateState();\r\n            if (result.length > 0) {\r\n                aggState.push.apply(aggState, result);\r\n            }\r\n        });\r\n        return aggState;\r\n    }\r\n    var me = {\r\n        get name() {\r\n            return _name;\r\n        },\r\n        get description() {\r\n            return _description;\r\n        },\r\n        get repo() {\r\n            return _repo;\r\n        },\r\n        get parent() {\r\n            return _parent;\r\n        },\r\n        path: _path,\r\n        id: id,\r\n        root: root,\r\n        get subSystems() {\r\n            return _subSystems;\r\n        },\r\n        get metrics() {\r\n            return _metrics;\r\n        },\r\n        subSystem: subSystem,\r\n        getState: function () {\r\n            return _state;\r\n        },\r\n        setState: setState,\r\n        stringMetric: stringMetric,\r\n        timestampMetric: timestampMetric,\r\n        objectMetric: objectMetric,\r\n        numberMetric: numberMetric,\r\n        getAggregateState: getAggregateState,\r\n    };\r\n    _transport.createSystem(me);\r\n    return me;\r\n}\n\nvar Repository = (function () {\r\n    function Repository(options, protocol) {\r\n        protocol.init(this);\r\n        this.root = system(\"\", this, protocol);\r\n        this.addSystemMetrics(this.root, options.clickStream || options.clickStream === undefined);\r\n    }\r\n    Repository.prototype.addSystemMetrics = function (rootSystem, useClickStream) {\r\n        if (typeof navigator !== \"undefined\") {\r\n            rootSystem.stringMetric(\"UserAgent\", navigator.userAgent);\r\n        }\r\n        if (useClickStream && typeof document !== \"undefined\") {\r\n            var clickStream_1 = rootSystem.subSystem(\"ClickStream\");\r\n            var documentClickHandler = function (e) {\r\n                if (!e.target) {\r\n                    return;\r\n                }\r\n                var target = e.target;\r\n                clickStream_1.objectMetric(\"LastBrowserEvent\", {\r\n                    type: \"click\",\r\n                    timestamp: new Date(),\r\n                    target: {\r\n                        className: e.target ? target.className : \"\",\r\n                        id: target.id,\r\n                        type: \"<\" + target.tagName.toLowerCase() + \">\",\r\n                        href: target.href || \"\",\r\n                    },\r\n                });\r\n            };\r\n            clickStream_1.objectMetric(\"Page\", {\r\n                title: document.title,\r\n                page: window.location.href,\r\n            });\r\n            if (document.addEventListener) {\r\n                document.addEventListener(\"click\", documentClickHandler);\r\n            }\r\n            else {\r\n                document.attachEvent(\"onclick\", documentClickHandler);\r\n            }\r\n        }\r\n        var startTime = rootSystem.stringMetric(\"StartTime\", (new Date()).toString());\r\n        var urlMetric = rootSystem.stringMetric(\"StartURL\", \"\");\r\n        var appNameMetric = rootSystem.stringMetric(\"AppName\", \"\");\r\n        if (typeof window !== \"undefined\") {\r\n            if (typeof window.location !== \"undefined\") {\r\n                var startUrl = window.location.href;\r\n                urlMetric.update(startUrl);\r\n            }\r\n            if (typeof window.glue42gd !== \"undefined\") {\r\n                appNameMetric.update(window.glue42gd.appName);\r\n            }\r\n        }\r\n    };\r\n    return Repository;\r\n}());\n\nvar NullProtocol = (function () {\r\n    function NullProtocol() {\r\n    }\r\n    NullProtocol.prototype.init = function (repo) {\r\n    };\r\n    NullProtocol.prototype.createSystem = function (system) {\r\n        return Promise.resolve();\r\n    };\r\n    NullProtocol.prototype.updateSystem = function (metric, state) {\r\n        return Promise.resolve();\r\n    };\r\n    NullProtocol.prototype.createMetric = function (metric) {\r\n        return Promise.resolve();\r\n    };\r\n    NullProtocol.prototype.updateMetric = function (metric) {\r\n        return Promise.resolve();\r\n    };\r\n    return NullProtocol;\r\n}());\n\nvar PerfTracker = (function () {\r\n    function PerfTracker(api, initialPublishTimeout, publishInterval) {\r\n        this.api = api;\r\n        this.lastCount = 0;\r\n        this.initialPublishTimeout = 10 * 1000;\r\n        this.publishInterval = 60 * 1000;\r\n        this.initialPublishTimeout = initialPublishTimeout !== null && initialPublishTimeout !== void 0 ? initialPublishTimeout : this.initialPublishTimeout;\r\n        this.publishInterval = publishInterval !== null && publishInterval !== void 0 ? publishInterval : this.publishInterval;\r\n        this.scheduleCollection();\r\n        this.system = this.api.subSystem(\"performance\", \"Performance data published by the web application\");\r\n    }\r\n    PerfTracker.prototype.scheduleCollection = function () {\r\n        var _this = this;\r\n        setTimeout(function () {\r\n            _this.collect();\r\n            setInterval(function () {\r\n                _this.collect();\r\n            }, _this.publishInterval);\r\n        }, this.initialPublishTimeout);\r\n    };\r\n    PerfTracker.prototype.collect = function () {\r\n        try {\r\n            this.collectMemory();\r\n            this.collectEntries();\r\n        }\r\n        catch (_a) {\r\n        }\r\n    };\r\n    PerfTracker.prototype.collectMemory = function () {\r\n        var memory = window.performance.memory;\r\n        this.system.stringMetric(\"memory\", JSON.stringify({\r\n            totalJSHeapSize: memory.totalJSHeapSize,\r\n            usedJSHeapSize: memory.usedJSHeapSize\r\n        }));\r\n    };\r\n    PerfTracker.prototype.collectEntries = function () {\r\n        var allEntries = window.performance.getEntries();\r\n        if (allEntries.length <= this.lastCount) {\r\n            return;\r\n        }\r\n        this.lastCount = allEntries.length;\r\n        var jsonfiedEntries = allEntries.map(function (i) { return i.toJSON(); });\r\n        this.system.stringMetric(\"entries\", JSON.stringify(jsonfiedEntries));\r\n    };\r\n    return PerfTracker;\r\n}());\n\nvar metrics = (function (options) {\r\n    var protocol;\r\n    if (!options.connection || typeof options.connection !== \"object\") {\r\n        protocol = new NullProtocol();\r\n    }\r\n    else {\r\n        protocol = gw3(options.connection, options);\r\n    }\r\n    var repo = new Repository(options, protocol);\r\n    var rootSystem = repo.root;\r\n    if (!options.disableAutoAppSystem) {\r\n        rootSystem = rootSystem.subSystem(\"App\");\r\n    }\r\n    var api = addFAVSupport(rootSystem);\r\n    initPerf(api, options.pagePerformanceMetrics);\r\n    return api;\r\n});\r\nvar perf;\r\nfunction initPerf(api, config) {\r\n    var _a, _b;\r\n    if (typeof window === \"undefined\") {\r\n        return;\r\n    }\r\n    var perfConfig = (_b = (_a = window === null || window === void 0 ? void 0 : window.glue42gd) === null || _a === void 0 ? void 0 : _a.metrics) === null || _b === void 0 ? void 0 : _b.pagePerformanceMetrics;\r\n    if (perfConfig) {\r\n        config = perfConfig;\r\n    }\r\n    if (config === null || config === void 0 ? void 0 : config.enabled) {\r\n        perf = new PerfTracker(api, config.initialPublishTimeout, config.publishInterval);\r\n    }\r\n}\r\nfunction addFAVSupport(system) {\r\n    var reportingSystem = system.subSystem(\"reporting\");\r\n    var def = {\r\n        name: \"features\"\r\n    };\r\n    var featureMetric;\r\n    var featureMetricFunc = function (name, action, payload) {\r\n        if (typeof name === \"undefined\" || name === \"\") {\r\n            throw new Error(\"name is mandatory\");\r\n        }\r\n        else if (typeof action === \"undefined\" || action === \"\") {\r\n            throw new Error(\"action is mandatory\");\r\n        }\r\n        else if (typeof payload === \"undefined\" || payload === \"\") {\r\n            throw new Error(\"payload is mandatory\");\r\n        }\r\n        if (!featureMetric) {\r\n            featureMetric = reportingSystem.objectMetric(def, { name: name, action: action, payload: payload });\r\n        }\r\n        else {\r\n            featureMetric.update({\r\n                name: name,\r\n                action: action,\r\n                payload: payload\r\n            });\r\n        }\r\n    };\r\n    system.featureMetric = featureMetricFunc;\r\n    return system;\r\n}\n\nfunction createRegistry$1(options) {\r\n    if (options && options.errorHandling\r\n        && typeof options.errorHandling !== \"function\"\r\n        && options.errorHandling !== \"log\"\r\n        && options.errorHandling !== \"silent\"\r\n        && options.errorHandling !== \"throw\") {\r\n        throw new Error(\"Invalid options passed to createRegistry. Prop errorHandling should be [\\\"log\\\" | \\\"silent\\\" | \\\"throw\\\" | (err) => void], but \" + typeof options.errorHandling + \" was passed\");\r\n    }\r\n    var _userErrorHandler = options && typeof options.errorHandling === \"function\" && options.errorHandling;\r\n    var callbacks = {};\r\n    function add(key, callback, replayArgumentsArr) {\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey) {\r\n            callbacksForKey = [];\r\n            callbacks[key] = callbacksForKey;\r\n        }\r\n        callbacksForKey.push(callback);\r\n        if (replayArgumentsArr) {\r\n            setTimeout(function () {\r\n                replayArgumentsArr.forEach(function (replayArgument) {\r\n                    var _a;\r\n                    if ((_a = callbacks[key]) === null || _a === void 0 ? void 0 : _a.includes(callback)) {\r\n                        try {\r\n                            if (Array.isArray(replayArgument)) {\r\n                                callback.apply(undefined, replayArgument);\r\n                            }\r\n                            else {\r\n                                callback.apply(undefined, [replayArgument]);\r\n                            }\r\n                        }\r\n                        catch (err) {\r\n                            _handleError(err, key);\r\n                        }\r\n                    }\r\n                });\r\n            }, 0);\r\n        }\r\n        return function () {\r\n            var allForKey = callbacks[key];\r\n            if (!allForKey) {\r\n                return;\r\n            }\r\n            allForKey = allForKey.reduce(function (acc, element, index) {\r\n                if (!(element === callback && acc.length === index)) {\r\n                    acc.push(element);\r\n                }\r\n                return acc;\r\n            }, []);\r\n            if (allForKey.length === 0) {\r\n                delete callbacks[key];\r\n            }\r\n            else {\r\n                callbacks[key] = allForKey;\r\n            }\r\n        };\r\n    }\r\n    function execute(key) {\r\n        var argumentsArr = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            argumentsArr[_i - 1] = arguments[_i];\r\n        }\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey || callbacksForKey.length === 0) {\r\n            return [];\r\n        }\r\n        var results = [];\r\n        callbacksForKey.forEach(function (callback) {\r\n            try {\r\n                var result = callback.apply(undefined, argumentsArr);\r\n                results.push(result);\r\n            }\r\n            catch (err) {\r\n                results.push(undefined);\r\n                _handleError(err, key);\r\n            }\r\n        });\r\n        return results;\r\n    }\r\n    function _handleError(exceptionArtifact, key) {\r\n        var errParam = exceptionArtifact instanceof Error ? exceptionArtifact : new Error(exceptionArtifact);\r\n        if (_userErrorHandler) {\r\n            _userErrorHandler(errParam);\r\n            return;\r\n        }\r\n        var msg = \"[ERROR] callback-registry: User callback for key \\\"\" + key + \"\\\" failed: \" + errParam.stack;\r\n        if (options) {\r\n            switch (options.errorHandling) {\r\n                case \"log\":\r\n                    return console.error(msg);\r\n                case \"silent\":\r\n                    return;\r\n                case \"throw\":\r\n                    throw new Error(msg);\r\n            }\r\n        }\r\n        console.error(msg);\r\n    }\r\n    function clear() {\r\n        callbacks = {};\r\n    }\r\n    function clearKey(key) {\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey) {\r\n            return;\r\n        }\r\n        delete callbacks[key];\r\n    }\r\n    return {\r\n        add: add,\r\n        execute: execute,\r\n        clear: clear,\r\n        clearKey: clearKey\r\n    };\r\n}\r\ncreateRegistry$1.default = createRegistry$1;\r\nvar lib$1 = createRegistry$1;\n\nvar InProcTransport = (function () {\r\n    function InProcTransport(settings, logger) {\r\n        var _this = this;\r\n        this.registry = lib$1();\r\n        this.gw = settings.facade;\r\n        this.gw.connect(function (_client, message) {\r\n            _this.messageHandler(message);\r\n        }).then(function (client) {\r\n            _this.client = client;\r\n        });\r\n    }\r\n    Object.defineProperty(InProcTransport.prototype, \"isObjectBasedTransport\", {\r\n        get: function () {\r\n            return true;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    InProcTransport.prototype.sendObject = function (msg) {\r\n        if (this.client) {\r\n            this.client.send(msg);\r\n            return Promise.resolve(undefined);\r\n        }\r\n        else {\r\n            return Promise.reject(\"not connected\");\r\n        }\r\n    };\r\n    InProcTransport.prototype.send = function (_msg) {\r\n        return Promise.reject(\"not supported\");\r\n    };\r\n    InProcTransport.prototype.onMessage = function (callback) {\r\n        return this.registry.add(\"onMessage\", callback);\r\n    };\r\n    InProcTransport.prototype.onConnectedChanged = function (callback) {\r\n        callback(true);\r\n    };\r\n    InProcTransport.prototype.close = function () {\r\n        return Promise.resolve();\r\n    };\r\n    InProcTransport.prototype.open = function () {\r\n        return Promise.resolve();\r\n    };\r\n    InProcTransport.prototype.name = function () {\r\n        return \"in-memory\";\r\n    };\r\n    InProcTransport.prototype.reconnect = function () {\r\n        return Promise.resolve();\r\n    };\r\n    InProcTransport.prototype.messageHandler = function (msg) {\r\n        this.registry.execute(\"onMessage\", msg);\r\n    };\r\n    return InProcTransport;\r\n}());\n\nvar SharedWorkerTransport = (function () {\r\n    function SharedWorkerTransport(workerFile, logger) {\r\n        var _this = this;\r\n        this.logger = logger;\r\n        this.registry = lib$1();\r\n        this.worker = new SharedWorker(workerFile);\r\n        this.worker.port.onmessage = function (e) {\r\n            _this.messageHandler(e.data);\r\n        };\r\n    }\r\n    Object.defineProperty(SharedWorkerTransport.prototype, \"isObjectBasedTransport\", {\r\n        get: function () {\r\n            return true;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    SharedWorkerTransport.prototype.sendObject = function (msg) {\r\n        this.worker.port.postMessage(msg);\r\n        return Promise.resolve();\r\n    };\r\n    SharedWorkerTransport.prototype.send = function (_msg) {\r\n        return Promise.reject(\"not supported\");\r\n    };\r\n    SharedWorkerTransport.prototype.onMessage = function (callback) {\r\n        return this.registry.add(\"onMessage\", callback);\r\n    };\r\n    SharedWorkerTransport.prototype.onConnectedChanged = function (callback) {\r\n        callback(true);\r\n    };\r\n    SharedWorkerTransport.prototype.close = function () {\r\n        return Promise.resolve();\r\n    };\r\n    SharedWorkerTransport.prototype.open = function () {\r\n        return Promise.resolve();\r\n    };\r\n    SharedWorkerTransport.prototype.name = function () {\r\n        return \"shared-worker\";\r\n    };\r\n    SharedWorkerTransport.prototype.reconnect = function () {\r\n        return Promise.resolve();\r\n    };\r\n    SharedWorkerTransport.prototype.messageHandler = function (msg) {\r\n        this.registry.execute(\"onMessage\", msg);\r\n    };\r\n    return SharedWorkerTransport;\r\n}());\n\nvar Utils = (function () {\r\n    function Utils() {\r\n    }\r\n    Utils.getGDMajorVersion = function () {\r\n        if (typeof window === \"undefined\") {\r\n            return undefined;\r\n        }\r\n        if (!window.glueDesktop) {\r\n            return undefined;\r\n        }\r\n        if (!window.glueDesktop.version) {\r\n            return undefined;\r\n        }\r\n        var ver = Number(window.glueDesktop.version.substr(0, 1));\r\n        return isNaN(ver) ? undefined : ver;\r\n    };\r\n    Utils.isNode = function () {\r\n        if (typeof Utils._isNode !== \"undefined\") {\r\n            return Utils._isNode;\r\n        }\r\n        if (typeof window !== \"undefined\") {\r\n            Utils._isNode = false;\r\n            return false;\r\n        }\r\n        try {\r\n            Utils._isNode = Object.prototype.toString.call(global.process) === \"[object process]\";\r\n        }\r\n        catch (e) {\r\n            Utils._isNode = false;\r\n        }\r\n        return Utils._isNode;\r\n    };\r\n    return Utils;\r\n}());\n\nvar PromiseWrapper = (function () {\r\n    function PromiseWrapper() {\r\n        var _this = this;\r\n        this.rejected = false;\r\n        this.resolved = false;\r\n        this.promise = new Promise(function (resolve, reject) {\r\n            _this.resolve = function (t) {\r\n                _this.resolved = true;\r\n                resolve(t);\r\n            };\r\n            _this.reject = function (err) {\r\n                _this.rejected = true;\r\n                reject(err);\r\n            };\r\n        });\r\n    }\r\n    PromiseWrapper.delay = function (time) {\r\n        return new Promise(function (resolve) { return setTimeout(resolve, time); });\r\n    };\r\n    Object.defineProperty(PromiseWrapper.prototype, \"ended\", {\r\n        get: function () {\r\n            return this.rejected || this.resolved;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return PromiseWrapper;\r\n}());\n\nvar timers = {};\r\nfunction getAllTimers() {\r\n    return timers;\r\n}\r\nfunction timer (timerName) {\r\n    var existing = timers[timerName];\r\n    if (existing) {\r\n        return existing;\r\n    }\r\n    var marks = [];\r\n    function now() {\r\n        return new Date().getTime();\r\n    }\r\n    var startTime = now();\r\n    mark(\"start\", startTime);\r\n    var endTime;\r\n    var period;\r\n    function stop() {\r\n        endTime = now();\r\n        mark(\"end\", endTime);\r\n        period = endTime - startTime;\r\n        return period;\r\n    }\r\n    function mark(name, time) {\r\n        var currentTime = time !== null && time !== void 0 ? time : now();\r\n        var diff = 0;\r\n        if (marks.length > 0) {\r\n            diff = currentTime - marks[marks.length - 1].time;\r\n        }\r\n        marks.push({ name: name, time: currentTime, diff: diff });\r\n    }\r\n    var timerObj = {\r\n        get startTime() {\r\n            return startTime;\r\n        },\r\n        get endTime() {\r\n            return endTime;\r\n        },\r\n        get period() {\r\n            return period;\r\n        },\r\n        stop: stop,\r\n        mark: mark,\r\n        marks: marks\r\n    };\r\n    timers[timerName] = timerObj;\r\n    return timerObj;\r\n}\n\nvar WebSocketConstructor = Utils.isNode() ? require(\"ws\") : window.WebSocket;\r\nvar WS = (function () {\r\n    function WS(settings, logger) {\r\n        this.startupTimer = timer(\"connection\");\r\n        this._running = true;\r\n        this._registry = lib$1();\r\n        this.wsRequests = [];\r\n        this.settings = settings;\r\n        this.logger = logger;\r\n        if (!this.settings.ws) {\r\n            throw new Error(\"ws is missing\");\r\n        }\r\n    }\r\n    WS.prototype.onMessage = function (callback) {\r\n        return this._registry.add(\"onMessage\", callback);\r\n    };\r\n    WS.prototype.send = function (msg, options) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this.waitForSocketConnection(function () {\r\n                var _a;\r\n                try {\r\n                    (_a = _this.ws) === null || _a === void 0 ? void 0 : _a.send(msg);\r\n                    resolve();\r\n                }\r\n                catch (e) {\r\n                    reject(e);\r\n                }\r\n            }, reject);\r\n        });\r\n    };\r\n    WS.prototype.open = function () {\r\n        var _this = this;\r\n        this.logger.info(\"opening ws...\");\r\n        this._running = true;\r\n        return new Promise(function (resolve, reject) {\r\n            _this.waitForSocketConnection(resolve, reject);\r\n        });\r\n    };\r\n    WS.prototype.close = function () {\r\n        this._running = false;\r\n        if (this.ws) {\r\n            this.ws.close();\r\n        }\r\n        return Promise.resolve();\r\n    };\r\n    WS.prototype.onConnectedChanged = function (callback) {\r\n        return this._registry.add(\"onConnectedChanged\", callback);\r\n    };\r\n    WS.prototype.name = function () {\r\n        return \"ws \" + this.settings.ws;\r\n    };\r\n    WS.prototype.reconnect = function () {\r\n        var _a;\r\n        (_a = this.ws) === null || _a === void 0 ? void 0 : _a.close();\r\n        var pw = new PromiseWrapper();\r\n        this.waitForSocketConnection(function () {\r\n            pw.resolve();\r\n        });\r\n        return pw.promise;\r\n    };\r\n    WS.prototype.waitForSocketConnection = function (callback, failed) {\r\n        var _a;\r\n        failed = failed !== null && failed !== void 0 ? failed : (function () { });\r\n        if (!this._running) {\r\n            failed(\"wait for socket on \" + this.settings.ws + \" failed - socket closed by user\");\r\n            return;\r\n        }\r\n        if (((_a = this.ws) === null || _a === void 0 ? void 0 : _a.readyState) === 1) {\r\n            callback();\r\n            return;\r\n        }\r\n        this.wsRequests.push({ callback: callback, failed: failed });\r\n        if (this.wsRequests.length > 1) {\r\n            return;\r\n        }\r\n        this.openSocket();\r\n    };\r\n    WS.prototype.openSocket = function (retryInterval, retriesLeft) {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var _a;\r\n            var _this = this;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        this.startupTimer.mark(\"opening-socket\");\r\n                        if (retryInterval === undefined) {\r\n                            retryInterval = this.settings.reconnectInterval;\r\n                        }\r\n                        if (retriesLeft !== undefined) {\r\n                            if (retriesLeft === 0) {\r\n                                this.notifyForSocketState(\"wait for socket on \" + this.settings.ws + \" failed - no more retries left\");\r\n                                return [2];\r\n                            }\r\n                            this.logger.debug(\"will retry \" + retriesLeft + \" more times (every \" + retryInterval + \" ms)\");\r\n                        }\r\n                        _b.label = 1;\r\n                    case 1:\r\n                        _b.trys.push([1, 3, , 4]);\r\n                        return [4, this.initiateSocket()];\r\n                    case 2:\r\n                        _b.sent();\r\n                        this.startupTimer.mark(\"socket-initiated\");\r\n                        this.notifyForSocketState();\r\n                        return [3, 4];\r\n                    case 3:\r\n                        _a = _b.sent();\r\n                        setTimeout(function () {\r\n                            var retries = retriesLeft === undefined ? undefined : retriesLeft - 1;\r\n                            _this.openSocket(retryInterval, retries);\r\n                        }, retryInterval);\r\n                        return [3, 4];\r\n                    case 4: return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    WS.prototype.initiateSocket = function () {\r\n        var _this = this;\r\n        var pw = new PromiseWrapper();\r\n        this.logger.debug(\"initiating ws to \" + this.settings.ws + \"...\");\r\n        this.ws = new WebSocketConstructor(this.settings.ws || \"\");\r\n        this.ws.onerror = function (err) {\r\n            var reason = \"\";\r\n            try {\r\n                reason = JSON.stringify(err);\r\n            }\r\n            catch (error) {\r\n                var seen_1 = new WeakSet();\r\n                var replacer = function (key, value) {\r\n                    if (typeof value === \"object\" && value !== null) {\r\n                        if (seen_1.has(value)) {\r\n                            return;\r\n                        }\r\n                        seen_1.add(value);\r\n                    }\r\n                    return value;\r\n                };\r\n                reason = JSON.stringify(err, replacer);\r\n            }\r\n            pw.reject(\"error\");\r\n            _this.notifyStatusChanged(false, reason);\r\n        };\r\n        this.ws.onclose = function (err) {\r\n            _this.logger.info(\"ws closed \" + err);\r\n            pw.reject(\"closed\");\r\n            _this.notifyStatusChanged(false);\r\n        };\r\n        this.ws.onopen = function () {\r\n            var _a;\r\n            _this.startupTimer.mark(\"ws-opened\");\r\n            _this.logger.info(\"ws opened \" + ((_a = _this.settings.identity) === null || _a === void 0 ? void 0 : _a.application));\r\n            pw.resolve();\r\n            _this.notifyStatusChanged(true);\r\n        };\r\n        this.ws.onmessage = function (message) {\r\n            _this._registry.execute(\"onMessage\", message.data);\r\n        };\r\n        return pw.promise;\r\n    };\r\n    WS.prototype.notifyForSocketState = function (error) {\r\n        this.wsRequests.forEach(function (wsRequest) {\r\n            if (error) {\r\n                if (wsRequest.failed) {\r\n                    wsRequest.failed(error);\r\n                }\r\n            }\r\n            else {\r\n                wsRequest.callback();\r\n            }\r\n        });\r\n        this.wsRequests = [];\r\n    };\r\n    WS.prototype.notifyStatusChanged = function (status, reason) {\r\n        this._registry.execute(\"onConnectedChanged\", status, reason);\r\n    };\r\n    return WS;\r\n}());\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\n// Found this seed-based random generator somewhere\n// Based on The Central Randomizer 1.3 (C) 1997 by Paul Houle (houle@msc.cornell.edu)\n\nvar seed = 1;\n\n/**\n * return a random number based on a seed\n * @param seed\n * @returns {number}\n */\nfunction getNextValue() {\n    seed = (seed * 9301 + 49297) % 233280;\n    return seed/(233280.0);\n}\n\nfunction setSeed(_seed_) {\n    seed = _seed_;\n}\n\nvar randomFromSeed = {\n    nextValue: getNextValue,\n    seed: setSeed\n};\n\nvar ORIGINAL = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-';\nvar alphabet;\nvar previousSeed;\n\nvar shuffled;\n\nfunction reset() {\n    shuffled = false;\n}\n\nfunction setCharacters(_alphabet_) {\n    if (!_alphabet_) {\n        if (alphabet !== ORIGINAL) {\n            alphabet = ORIGINAL;\n            reset();\n        }\n        return;\n    }\n\n    if (_alphabet_ === alphabet) {\n        return;\n    }\n\n    if (_alphabet_.length !== ORIGINAL.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. You submitted ' + _alphabet_.length + ' characters: ' + _alphabet_);\n    }\n\n    var unique = _alphabet_.split('').filter(function(item, ind, arr){\n       return ind !== arr.lastIndexOf(item);\n    });\n\n    if (unique.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. These characters were not unique: ' + unique.join(', '));\n    }\n\n    alphabet = _alphabet_;\n    reset();\n}\n\nfunction characters(_alphabet_) {\n    setCharacters(_alphabet_);\n    return alphabet;\n}\n\nfunction setSeed$1(seed) {\n    randomFromSeed.seed(seed);\n    if (previousSeed !== seed) {\n        reset();\n        previousSeed = seed;\n    }\n}\n\nfunction shuffle() {\n    if (!alphabet) {\n        setCharacters(ORIGINAL);\n    }\n\n    var sourceArray = alphabet.split('');\n    var targetArray = [];\n    var r = randomFromSeed.nextValue();\n    var characterIndex;\n\n    while (sourceArray.length > 0) {\n        r = randomFromSeed.nextValue();\n        characterIndex = Math.floor(r * sourceArray.length);\n        targetArray.push(sourceArray.splice(characterIndex, 1)[0]);\n    }\n    return targetArray.join('');\n}\n\nfunction getShuffled() {\n    if (shuffled) {\n        return shuffled;\n    }\n    shuffled = shuffle();\n    return shuffled;\n}\n\n/**\n * lookup shuffled letter\n * @param index\n * @returns {string}\n */\nfunction lookup(index) {\n    var alphabetShuffled = getShuffled();\n    return alphabetShuffled[index];\n}\n\nvar alphabet_1 = {\n    characters: characters,\n    seed: setSeed$1,\n    lookup: lookup,\n    shuffled: getShuffled\n};\n\nvar crypto = typeof window === 'object' && (window.crypto || window.msCrypto); // IE 11 uses window.msCrypto\n\nfunction randomByte() {\n    if (!crypto || !crypto.getRandomValues) {\n        return Math.floor(Math.random() * 256) & 0x30;\n    }\n    var dest = new Uint8Array(1);\n    crypto.getRandomValues(dest);\n    return dest[0] & 0x30;\n}\n\nvar randomByteBrowser = randomByte;\n\nfunction encode(lookup, number) {\n    var loopCounter = 0;\n    var done;\n\n    var str = '';\n\n    while (!done) {\n        str = str + lookup( ( (number >> (4 * loopCounter)) & 0x0f ) | randomByteBrowser() );\n        done = number < (Math.pow(16, loopCounter + 1 ) );\n        loopCounter++;\n    }\n    return str;\n}\n\nvar encode_1 = encode;\n\n/**\n * Decode the id to get the version and worker\n * Mainly for debugging and testing.\n * @param id - the shortid-generated id.\n */\nfunction decode(id) {\n    var characters = alphabet_1.shuffled();\n    return {\n        version: characters.indexOf(id.substr(0, 1)) & 0x0f,\n        worker: characters.indexOf(id.substr(1, 1)) & 0x0f\n    };\n}\n\nvar decode_1 = decode;\n\nfunction isShortId(id) {\n    if (!id || typeof id !== 'string' || id.length < 6 ) {\n        return false;\n    }\n\n    var characters = alphabet_1.characters();\n    var len = id.length;\n    for(var i = 0; i < len;i++) {\n        if (characters.indexOf(id[i]) === -1) {\n            return false;\n        }\n    }\n    return true;\n}\n\nvar isValid = isShortId;\n\nvar lib$1$1 = createCommonjsModule(function (module) {\n\n\n\n\n\n\n// Ignore all milliseconds before a certain time to reduce the size of the date entropy without sacrificing uniqueness.\n// This number should be updated every year or so to keep the generated id short.\n// To regenerate `new Date() - 0` and bump the version. Always bump the version!\nvar REDUCE_TIME = 1459707606518;\n\n// don't change unless we change the algos or REDUCE_TIME\n// must be an integer and less than 16\nvar version = 6;\n\n// if you are using cluster or multiple servers use this to make each instance\n// has a unique value for worker\n// Note: I don't know if this is automatically set when using third\n// party cluster solutions such as pm2.\nvar clusterWorkerId =  0;\n\n// Counter is used when shortid is called multiple times in one second.\nvar counter;\n\n// Remember the last time shortid was called in case counter is needed.\nvar previousSeconds;\n\n/**\n * Generate unique id\n * Returns string id\n */\nfunction generate() {\n\n    var str = '';\n\n    var seconds = Math.floor((Date.now() - REDUCE_TIME) * 0.001);\n\n    if (seconds === previousSeconds) {\n        counter++;\n    } else {\n        counter = 0;\n        previousSeconds = seconds;\n    }\n\n    str = str + encode_1(alphabet_1.lookup, version);\n    str = str + encode_1(alphabet_1.lookup, clusterWorkerId);\n    if (counter > 0) {\n        str = str + encode_1(alphabet_1.lookup, counter);\n    }\n    str = str + encode_1(alphabet_1.lookup, seconds);\n\n    return str;\n}\n\n\n/**\n * Set the seed.\n * Highly recommended if you don't want people to try to figure out your id schema.\n * exposed as shortid.seed(int)\n * @param seed Integer value to seed the random alphabet.  ALWAYS USE THE SAME SEED or you might get overlaps.\n */\nfunction seed(seedValue) {\n    alphabet_1.seed(seedValue);\n    return module.exports;\n}\n\n/**\n * Set the cluster worker or machine id\n * exposed as shortid.worker(int)\n * @param workerId worker must be positive integer.  Number less than 16 is recommended.\n * returns shortid module so it can be chained.\n */\nfunction worker(workerId) {\n    clusterWorkerId = workerId;\n    return module.exports;\n}\n\n/**\n *\n * sets new characters to use in the alphabet\n * returns the shuffled alphabet\n */\nfunction characters(newCharacters) {\n    if (newCharacters !== undefined) {\n        alphabet_1.characters(newCharacters);\n    }\n\n    return alphabet_1.shuffled();\n}\n\n\n// Export all other functions as properties of the generate function\nmodule.exports = generate;\nmodule.exports.generate = generate;\nmodule.exports.seed = seed;\nmodule.exports.worker = worker;\nmodule.exports.characters = characters;\nmodule.exports.decode = decode_1;\nmodule.exports.isValid = isValid;\n});\nvar lib_1 = lib$1$1.generate;\nvar lib_2 = lib$1$1.seed;\nvar lib_3 = lib$1$1.worker;\nvar lib_4 = lib$1$1.characters;\nvar lib_5 = lib$1$1.decode;\nvar lib_6 = lib$1$1.isValid;\n\nvar shortid = lib$1$1;\n\nfunction domainSession (domain, connection, logger, successMessages, errorMessages) {\r\n    if (domain == null) {\r\n        domain = \"global\";\r\n    }\r\n    successMessages = successMessages || [\"success\"];\r\n    errorMessages = errorMessages || [\"error\"];\r\n    var isJoined = false;\r\n    var tryReconnecting = false;\r\n    var _latestOptions;\r\n    var _connectionOn = false;\r\n    var callbacks = lib$1();\r\n    connection.disconnected(handleConnectionDisconnected);\r\n    connection.loggedIn(handleConnectionLoggedIn);\r\n    connection.on(\"success\", function (msg) { return handleSuccessMessage(msg); });\r\n    connection.on(\"error\", function (msg) { return handleErrorMessage(msg); });\r\n    connection.on(\"result\", function (msg) { return handleSuccessMessage(msg); });\r\n    if (successMessages) {\r\n        successMessages.forEach(function (sm) {\r\n            connection.on(sm, function (msg) { return handleSuccessMessage(msg); });\r\n        });\r\n    }\r\n    if (errorMessages) {\r\n        errorMessages.forEach(function (sm) {\r\n            connection.on(sm, function (msg) { return handleErrorMessage(msg); });\r\n        });\r\n    }\r\n    var requestsMap = {};\r\n    function join(options) {\r\n        _latestOptions = options;\r\n        return new Promise(function (resolve, reject) {\r\n            if (isJoined) {\r\n                resolve();\r\n                return;\r\n            }\r\n            var joinPromise;\r\n            if (domain === \"global\") {\r\n                joinPromise = _connectionOn ? Promise.resolve({}) : Promise.reject(\"not connected to gateway\");\r\n            }\r\n            else {\r\n                logger.debug(\"joining domain \" + domain);\r\n                var joinMsg = {\r\n                    type: \"join\",\r\n                    destination: domain,\r\n                    domain: \"global\",\r\n                    options: options,\r\n                };\r\n                joinPromise = send(joinMsg);\r\n            }\r\n            joinPromise\r\n                .then(function () {\r\n                handleJoined();\r\n                resolve();\r\n            })\r\n                .catch(function (err) {\r\n                logger.debug(\"error joining \" + domain + \" domain: \" + JSON.stringify(err));\r\n                reject(err);\r\n            });\r\n        });\r\n    }\r\n    function leave() {\r\n        if (domain === \"global\") {\r\n            return Promise.resolve();\r\n        }\r\n        logger.debug(\"stopping session \" + domain + \"...\");\r\n        var leaveMsg = {\r\n            type: \"leave\",\r\n            destination: domain,\r\n            domain: \"global\",\r\n        };\r\n        tryReconnecting = false;\r\n        return send(leaveMsg).then(function () {\r\n            isJoined = false;\r\n            callbacks.execute(\"onLeft\");\r\n        });\r\n    }\r\n    function handleJoined() {\r\n        logger.debug(\"did join \" + domain);\r\n        isJoined = true;\r\n        var wasReconnect = tryReconnecting;\r\n        tryReconnecting = false;\r\n        callbacks.execute(\"onJoined\", wasReconnect);\r\n    }\r\n    function handleConnectionDisconnected() {\r\n        _connectionOn = false;\r\n        logger.debug(\"connection is down\");\r\n        isJoined = false;\r\n        tryReconnecting = true;\r\n        callbacks.execute(\"onLeft\", { disconnected: true });\r\n    }\r\n    function handleConnectionLoggedIn() {\r\n        _connectionOn = true;\r\n        if (tryReconnecting) {\r\n            logger.debug(\"connection is now up - trying to reconnect...\");\r\n            join(_latestOptions);\r\n        }\r\n    }\r\n    function onJoined(callback) {\r\n        if (isJoined) {\r\n            callback(false);\r\n        }\r\n        return callbacks.add(\"onJoined\", callback);\r\n    }\r\n    function onLeft(callback) {\r\n        if (!isJoined) {\r\n            callback();\r\n        }\r\n        return callbacks.add(\"onLeft\", callback);\r\n    }\r\n    function handleErrorMessage(msg) {\r\n        if (domain !== msg.domain) {\r\n            return;\r\n        }\r\n        var requestId = msg.request_id;\r\n        if (!requestId) {\r\n            return;\r\n        }\r\n        var entry = requestsMap[requestId];\r\n        if (!entry) {\r\n            return;\r\n        }\r\n        entry.error(msg);\r\n    }\r\n    function handleSuccessMessage(msg) {\r\n        if (msg.domain !== domain) {\r\n            return;\r\n        }\r\n        var requestId = msg.request_id;\r\n        if (!requestId) {\r\n            return;\r\n        }\r\n        var entry = requestsMap[requestId];\r\n        if (!entry) {\r\n            return;\r\n        }\r\n        entry.success(msg);\r\n    }\r\n    function getNextRequestId() {\r\n        return shortid();\r\n    }\r\n    function send(msg, tag, options) {\r\n        options = options || {};\r\n        msg.request_id = msg.request_id || getNextRequestId();\r\n        msg.domain = msg.domain || domain;\r\n        if (!options.skipPeerId) {\r\n            msg.peer_id = connection.peerId;\r\n        }\r\n        var requestId = msg.request_id;\r\n        return new Promise(function (resolve, reject) {\r\n            requestsMap[requestId] = {\r\n                success: function (successMsg) {\r\n                    delete requestsMap[requestId];\r\n                    successMsg._tag = tag;\r\n                    resolve(successMsg);\r\n                },\r\n                error: function (errorMsg) {\r\n                    logger.warn(\"GW error - \" + JSON.stringify(errorMsg) + \" for request \" + JSON.stringify(msg));\r\n                    delete requestsMap[requestId];\r\n                    errorMsg._tag = tag;\r\n                    reject(errorMsg);\r\n                },\r\n            };\r\n            connection\r\n                .send(msg, options)\r\n                .catch(function (err) {\r\n                requestsMap[requestId].error({ err: err });\r\n            });\r\n        });\r\n    }\r\n    function sendFireAndForget(msg) {\r\n        msg.request_id = msg.request_id ? msg.request_id : getNextRequestId();\r\n        msg.domain = msg.domain || domain;\r\n        msg.peer_id = connection.peerId;\r\n        return connection.send(msg);\r\n    }\r\n    return {\r\n        join: join,\r\n        leave: leave,\r\n        onJoined: onJoined,\r\n        onLeft: onLeft,\r\n        send: send,\r\n        sendFireAndForget: sendFireAndForget,\r\n        on: function (type, callback) {\r\n            connection.on(type, function (msg) {\r\n                if (msg.domain !== domain) {\r\n                    return;\r\n                }\r\n                try {\r\n                    callback(msg);\r\n                }\r\n                catch (e) {\r\n                    logger.error(\"Callback  failed: \" + e + \" \\n \" + e.stack + \" \\n msg was: \" + JSON.stringify(msg), e);\r\n                }\r\n            });\r\n        },\r\n        loggedIn: function (callback) { return connection.loggedIn(callback); },\r\n        connected: function (callback) { return connection.connected(callback); },\r\n        disconnected: function (callback) { return connection.disconnected(callback); },\r\n        get peerId() {\r\n            return connection.peerId;\r\n        },\r\n        get domain() {\r\n            return domain;\r\n        },\r\n    };\r\n}\n\nvar GW3ProtocolImpl = (function () {\r\n    function GW3ProtocolImpl(connection, settings, logger) {\r\n        var _this = this;\r\n        this.connection = connection;\r\n        this.settings = settings;\r\n        this.logger = logger;\r\n        this.protocolVersion = 3;\r\n        this.datePrefix = \"#T42_DATE#\";\r\n        this.datePrefixLen = this.datePrefix.length;\r\n        this.dateMinLen = this.datePrefixLen + 1;\r\n        this.datePrefixFirstChar = this.datePrefix[0];\r\n        this.registry = lib$1();\r\n        this._isLoggedIn = false;\r\n        this.shouldTryLogin = true;\r\n        this.initialLogin = true;\r\n        this.initialLoginAttempts = 3;\r\n        this.sessions = [];\r\n        connection.disconnected(function () {\r\n            _this.handleDisconnected();\r\n        });\r\n        this.ping();\r\n    }\r\n    Object.defineProperty(GW3ProtocolImpl.prototype, \"isLoggedIn\", {\r\n        get: function () {\r\n            return this._isLoggedIn;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    GW3ProtocolImpl.prototype.processStringMessage = function (message) {\r\n        var _this = this;\r\n        var msg = JSON.parse(message, function (key, value) {\r\n            if (typeof value !== \"string\") {\r\n                return value;\r\n            }\r\n            if (value.length < _this.dateMinLen) {\r\n                return value;\r\n            }\r\n            if (value[0] !== _this.datePrefixFirstChar) {\r\n                return value;\r\n            }\r\n            if (value.substring(0, _this.datePrefixLen) !== _this.datePrefix) {\r\n                return value;\r\n            }\r\n            try {\r\n                var milliseconds = parseInt(value.substring(_this.datePrefixLen, value.length), 10);\r\n                if (isNaN(milliseconds)) {\r\n                    return value;\r\n                }\r\n                return new Date(milliseconds);\r\n            }\r\n            catch (ex) {\r\n                return value;\r\n            }\r\n        });\r\n        return {\r\n            msg: msg,\r\n            msgType: msg.type,\r\n        };\r\n    };\r\n    GW3ProtocolImpl.prototype.createStringMessage = function (message) {\r\n        var oldToJson = Date.prototype.toJSON;\r\n        try {\r\n            var datePrefix_1 = this.datePrefix;\r\n            Date.prototype.toJSON = function () {\r\n                return datePrefix_1 + this.getTime();\r\n            };\r\n            var result = JSON.stringify(message);\r\n            return result;\r\n        }\r\n        finally {\r\n            Date.prototype.toJSON = oldToJson;\r\n        }\r\n    };\r\n    GW3ProtocolImpl.prototype.processObjectMessage = function (message) {\r\n        if (!message.type) {\r\n            throw new Error(\"Object should have type property\");\r\n        }\r\n        return {\r\n            msg: message,\r\n            msgType: message.type,\r\n        };\r\n    };\r\n    GW3ProtocolImpl.prototype.createObjectMessage = function (message) {\r\n        return message;\r\n    };\r\n    GW3ProtocolImpl.prototype.login = function (config, reconnect) {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var authentication, token, e_1, _a, helloMsg, sendOptions, welcomeMsg, msg, token, _b, err_1;\r\n            return __generator(this, function (_c) {\r\n                switch (_c.label) {\r\n                    case 0:\r\n                        this.logger.debug(\"logging in...\");\r\n                        this.loginConfig = config;\r\n                        if (!this.loginConfig) {\r\n                            this.loginConfig = { username: \"\", password: \"\" };\r\n                        }\r\n                        this.shouldTryLogin = true;\r\n                        authentication = {};\r\n                        this.connection.gatewayToken = config.gatewayToken;\r\n                        if (!config.gatewayToken) return [3, 5];\r\n                        if (!reconnect) return [3, 4];\r\n                        _c.label = 1;\r\n                    case 1:\r\n                        _c.trys.push([1, 3, , 4]);\r\n                        return [4, this.getNewGWToken()];\r\n                    case 2:\r\n                        token = _c.sent();\r\n                        config.gatewayToken = token;\r\n                        return [3, 4];\r\n                    case 3:\r\n                        e_1 = _c.sent();\r\n                        this.logger.warn(\"failed to get GW token when reconnecting \" + ((e_1 === null || e_1 === void 0 ? void 0 : e_1.message) || e_1));\r\n                        return [3, 4];\r\n                    case 4:\r\n                        authentication.method = \"gateway-token\";\r\n                        authentication.token = config.gatewayToken;\r\n                        this.connection.gatewayToken = config.gatewayToken;\r\n                        return [3, 10];\r\n                    case 5:\r\n                        if (!(config.flowName === \"sspi\")) return [3, 9];\r\n                        authentication.provider = \"win\";\r\n                        authentication.method = \"access-token\";\r\n                        if (!(config.flowCallback && config.sessionId)) return [3, 7];\r\n                        _a = authentication;\r\n                        return [4, config.flowCallback(config.sessionId, null)];\r\n                    case 6:\r\n                        _a.token =\r\n                            (_c.sent())\r\n                                .data\r\n                                .toString(\"base64\");\r\n                        return [3, 8];\r\n                    case 7: throw new Error(\"Invalid SSPI config\");\r\n                    case 8: return [3, 10];\r\n                    case 9:\r\n                        if (config.token) {\r\n                            authentication.method = \"access-token\";\r\n                            authentication.token = config.token;\r\n                        }\r\n                        else if (config.username) {\r\n                            authentication.method = \"secret\";\r\n                            authentication.login = config.username;\r\n                            authentication.secret = config.password;\r\n                        }\r\n                        else {\r\n                            throw new Error(\"invalid auth message\" + JSON.stringify(config));\r\n                        }\r\n                        _c.label = 10;\r\n                    case 10:\r\n                        helloMsg = {\r\n                            type: \"hello\",\r\n                            identity: this.settings.identity,\r\n                            authentication: authentication\r\n                        };\r\n                        if (config.sessionId) {\r\n                            helloMsg.request_id = config.sessionId;\r\n                        }\r\n                        this.globalDomain = domainSession(\"global\", this.connection, this.logger.subLogger(\"global-domain\"), [\r\n                            \"welcome\",\r\n                            \"token\",\r\n                            \"authentication-request\"\r\n                        ]);\r\n                        sendOptions = { skipPeerId: true };\r\n                        if (this.initialLogin) {\r\n                            sendOptions.retryInterval = this.settings.reconnectInterval;\r\n                            sendOptions.maxRetries = this.settings.reconnectAttempts;\r\n                        }\r\n                        _c.label = 11;\r\n                    case 11:\r\n                        _c.trys.push([11, 19, 20, 21]);\r\n                        welcomeMsg = void 0;\r\n                        _c.label = 12;\r\n                    case 12:\r\n                        return [4, this.globalDomain.send(helloMsg, undefined, sendOptions)];\r\n                    case 13:\r\n                        msg = _c.sent();\r\n                        if (!(msg.type === \"authentication-request\")) return [3, 16];\r\n                        token = Buffer.from(msg.authentication.token, \"base64\");\r\n                        if (!(config.flowCallback && config.sessionId)) return [3, 15];\r\n                        _b = helloMsg.authentication;\r\n                        return [4, config.flowCallback(config.sessionId, token)];\r\n                    case 14:\r\n                        _b.token =\r\n                            (_c.sent())\r\n                                .data\r\n                                .toString(\"base64\");\r\n                        _c.label = 15;\r\n                    case 15:\r\n                        helloMsg.request_id = config.sessionId;\r\n                        return [3, 12];\r\n                    case 16:\r\n                        if (msg.type === \"welcome\") {\r\n                            welcomeMsg = msg;\r\n                            return [3, 18];\r\n                        }\r\n                        else if (msg.type === \"error\") {\r\n                            throw new Error(\"Authentication failed: \" + msg.reason);\r\n                        }\r\n                        else {\r\n                            throw new Error(\"Unexpected message type during authentication: \" + msg.type);\r\n                        }\r\n                    case 17: return [3, 12];\r\n                    case 18:\r\n                        this.initialLogin = false;\r\n                        this.logger.debug(\"login successful with peerId \" + welcomeMsg.peer_id);\r\n                        this.connection.peerId = welcomeMsg.peer_id;\r\n                        this.connection.resolvedIdentity = welcomeMsg.resolved_identity;\r\n                        this.connection.availableDomains = welcomeMsg.available_domains;\r\n                        if (welcomeMsg.options) {\r\n                            this.connection.token = welcomeMsg.options.access_token;\r\n                            this.connection.info = welcomeMsg.options.info;\r\n                        }\r\n                        this.setLoggedIn(true);\r\n                        return [2, welcomeMsg.resolved_identity];\r\n                    case 19:\r\n                        err_1 = _c.sent();\r\n                        this.logger.error(\"error sending hello message - \" + (err_1.message || err_1.msg || err_1.reason || err_1), err_1);\r\n                        throw err_1;\r\n                    case 20:\r\n                        if (config && config.flowCallback && config.sessionId) {\r\n                            config.flowCallback(config.sessionId, null);\r\n                        }\r\n                        return [7];\r\n                    case 21: return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    GW3ProtocolImpl.prototype.logout = function () {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var promises;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        this.logger.debug(\"logging out...\");\r\n                        this.shouldTryLogin = false;\r\n                        if (this.pingTimer) {\r\n                            clearTimeout(this.pingTimer);\r\n                        }\r\n                        promises = this.sessions.map(function (session) {\r\n                            session.leave();\r\n                        });\r\n                        return [4, Promise.all(promises)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    GW3ProtocolImpl.prototype.loggedIn = function (callback) {\r\n        if (this._isLoggedIn) {\r\n            callback();\r\n        }\r\n        return this.registry.add(\"onLoggedIn\", callback);\r\n    };\r\n    GW3ProtocolImpl.prototype.domain = function (domainName, domainLogger, successMessages, errorMessages) {\r\n        var session = this.sessions.filter(function (s) { return s.domain === domainName; })[0];\r\n        if (!session) {\r\n            session = domainSession(domainName, this.connection, domainLogger, successMessages, errorMessages);\r\n            this.sessions.push(session);\r\n        }\r\n        return session;\r\n    };\r\n    GW3ProtocolImpl.prototype.handleDisconnected = function () {\r\n        var _this = this;\r\n        this.setLoggedIn(false);\r\n        var tryToLogin = this.shouldTryLogin;\r\n        if (tryToLogin && this.initialLogin) {\r\n            if (this.initialLoginAttempts <= 0) {\r\n                return;\r\n            }\r\n            this.initialLoginAttempts--;\r\n        }\r\n        this.logger.debug(\"disconnected - will try new login?\" + this.shouldTryLogin);\r\n        if (this.shouldTryLogin) {\r\n            if (!this.loginConfig) {\r\n                throw new Error(\"no login info\");\r\n            }\r\n            this.connection.login(this.loginConfig, true)\r\n                .catch(function () {\r\n                setTimeout(_this.handleDisconnected.bind(_this), _this.settings.reconnectInterval || 1000);\r\n            });\r\n        }\r\n    };\r\n    GW3ProtocolImpl.prototype.setLoggedIn = function (value) {\r\n        this._isLoggedIn = value;\r\n        if (this._isLoggedIn) {\r\n            this.registry.execute(\"onLoggedIn\");\r\n        }\r\n    };\r\n    GW3ProtocolImpl.prototype.ping = function () {\r\n        var _this = this;\r\n        if (!this.shouldTryLogin) {\r\n            return;\r\n        }\r\n        if (this._isLoggedIn) {\r\n            this.connection.send({ type: \"ping\" });\r\n        }\r\n        this.pingTimer = setTimeout(function () {\r\n            _this.ping();\r\n        }, 30 * 1000);\r\n    };\r\n    GW3ProtocolImpl.prototype.authToken = function () {\r\n        var createTokenReq = {\r\n            type: \"create-token\"\r\n        };\r\n        if (!this.globalDomain) {\r\n            return Promise.reject(new Error(\"no global domain session\"));\r\n        }\r\n        return this.globalDomain.send(createTokenReq)\r\n            .then(function (res) {\r\n            return res.token;\r\n        });\r\n    };\r\n    GW3ProtocolImpl.prototype.getNewGWToken = function () {\r\n        if (typeof window !== undefined) {\r\n            var glue42gd = window.glue42gd;\r\n            if (glue42gd) {\r\n                return glue42gd.getGWToken();\r\n            }\r\n        }\r\n        return Promise.reject(new Error(\"not running in GD\"));\r\n    };\r\n    return GW3ProtocolImpl;\r\n}());\n\nvar MessageReplayerImpl = (function () {\r\n    function MessageReplayerImpl(specs) {\r\n        this.specsNames = [];\r\n        this.messages = {};\r\n        this.subs = {};\r\n        this.subsRefCount = {};\r\n        this.specs = {};\r\n        for (var _i = 0, specs_1 = specs; _i < specs_1.length; _i++) {\r\n            var spec = specs_1[_i];\r\n            this.specs[spec.name] = spec;\r\n            this.specsNames.push(spec.name);\r\n        }\r\n    }\r\n    MessageReplayerImpl.prototype.init = function (connection) {\r\n        var _this = this;\r\n        this.connection = connection;\r\n        for (var _i = 0, _a = this.specsNames; _i < _a.length; _i++) {\r\n            var name_1 = _a[_i];\r\n            var _loop_1 = function (type) {\r\n                var refCount = this_1.subsRefCount[type];\r\n                if (!refCount) {\r\n                    refCount = 0;\r\n                }\r\n                refCount += 1;\r\n                this_1.subsRefCount[type] = refCount;\r\n                if (refCount > 1) {\r\n                    return \"continue\";\r\n                }\r\n                var sub = connection.on(type, function (msg) { return _this.processMessage(type, msg); });\r\n                this_1.subs[type] = sub;\r\n            };\r\n            var this_1 = this;\r\n            for (var _b = 0, _c = this.specs[name_1].types; _b < _c.length; _b++) {\r\n                var type = _c[_b];\r\n                _loop_1(type);\r\n            }\r\n        }\r\n    };\r\n    MessageReplayerImpl.prototype.processMessage = function (type, msg) {\r\n        if (this.isDone || !msg) {\r\n            return;\r\n        }\r\n        for (var _i = 0, _a = this.specsNames; _i < _a.length; _i++) {\r\n            var name_2 = _a[_i];\r\n            if (this.specs[name_2].types.indexOf(type) !== -1) {\r\n                var messages = this.messages[name_2] || [];\r\n                this.messages[name_2] = messages;\r\n                messages.push(msg);\r\n            }\r\n        }\r\n    };\r\n    MessageReplayerImpl.prototype.drain = function (name, callback) {\r\n        var _a;\r\n        if (callback) {\r\n            (this.messages[name] || []).forEach(callback);\r\n        }\r\n        delete this.messages[name];\r\n        for (var _i = 0, _b = this.specs[name].types; _i < _b.length; _i++) {\r\n            var type = _b[_i];\r\n            this.subsRefCount[type] -= 1;\r\n            if (this.subsRefCount[type] <= 0) {\r\n                (_a = this.connection) === null || _a === void 0 ? void 0 : _a.off(this.subs[type]);\r\n                delete this.subs[type];\r\n                delete this.subsRefCount[type];\r\n            }\r\n        }\r\n        delete this.specs[name];\r\n        if (!this.specs.length) {\r\n            this.isDone = true;\r\n        }\r\n    };\r\n    return MessageReplayerImpl;\r\n}());\n\nvar PromisePlus$1 = function (executor, timeoutMilliseconds, timeoutMessage) {\r\n    return new Promise(function (resolve, reject) {\r\n        var timeout = setTimeout(function () {\r\n            var message = timeoutMessage || \"Promise timeout hit: \" + timeoutMilliseconds;\r\n            reject(message);\r\n        }, timeoutMilliseconds);\r\n        var providedPromise = new Promise(executor);\r\n        providedPromise\r\n            .then(function (result) {\r\n            clearTimeout(timeout);\r\n            resolve(result);\r\n        })\r\n            .catch(function (error) {\r\n            clearTimeout(timeout);\r\n            reject(error);\r\n        });\r\n    });\r\n};\n\nvar WebPlatformTransport = (function () {\r\n    function WebPlatformTransport(settings, logger, identity) {\r\n        this.settings = settings;\r\n        this.logger = logger;\r\n        this.identity = identity;\r\n        this.parentReady = false;\r\n        this.iAmConnected = false;\r\n        this.rejected = false;\r\n        this.children = [];\r\n        this.parentPingTimeout = 3000;\r\n        this.connectionRequestTimeout = 5000;\r\n        this.defaultTargetString = \"*\";\r\n        this.registry = lib$1();\r\n        this.messages = {\r\n            connectionAccepted: { name: \"connectionAccepted\", handle: this.handleConnectionAccepted.bind(this) },\r\n            connectionRejected: { name: \"connectionRejected\", handle: this.handleConnectionRejected.bind(this) },\r\n            connectionRequest: { name: \"connectionRequest\", handle: this.handleConnectionRequest.bind(this) },\r\n            parentReady: { name: \"parentReady\", handle: this.handleParentReady.bind(this) },\r\n            parentPing: { name: \"parentPing\", handle: this.handleParentPing.bind(this) },\r\n            platformPing: { name: \"platformPing\", handle: this.handlePlatformPing.bind(this) },\r\n            platformUnload: { name: \"platformUnload\", handle: this.handlePlatformUnload.bind(this) },\r\n            platformReady: { name: \"platformReady\", handle: this.handlePlatformReady.bind(this) },\r\n            clientUnload: { name: \"clientUnload\", handle: this.handleClientUnload.bind(this) },\r\n            manualUnload: { name: \"manualUnload\", handle: this.handleManualUnload.bind(this) }\r\n        };\r\n        this.setUpMessageListener();\r\n        this.setUpUnload();\r\n        if (!this.settings.port) {\r\n            this.parent = window.opener || window.top;\r\n            this.parentType = window.opener ? \"opener\" :\r\n                window.name.indexOf(\"#wsp\") !== -1 ? \"workspace\" : \"top\";\r\n        }\r\n    }\r\n    Object.defineProperty(WebPlatformTransport.prototype, \"transportWindowId\", {\r\n        get: function () {\r\n            return this.publicWindowId;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    WebPlatformTransport.prototype.sendObject = function (msg) {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                if (!this.port) {\r\n                    throw new Error(\"Cannot send message, because the port was not opened yet\");\r\n                }\r\n                this.port.postMessage(msg);\r\n                return [2];\r\n            });\r\n        });\r\n    };\r\n    Object.defineProperty(WebPlatformTransport.prototype, \"isObjectBasedTransport\", {\r\n        get: function () {\r\n            return true;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    WebPlatformTransport.prototype.onMessage = function (callback) {\r\n        return this.registry.add(\"onMessage\", callback);\r\n    };\r\n    WebPlatformTransport.prototype.send = function () {\r\n        return Promise.reject(\"not supported\");\r\n    };\r\n    WebPlatformTransport.prototype.onConnectedChanged = function (callback) {\r\n        return this.registry.add(\"onConnectedChanged\", callback);\r\n    };\r\n    WebPlatformTransport.prototype.open = function () {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        this.logger.debug(\"opening a connection to the web platform gateway.\");\r\n                        return [4, this.connect()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        this.notifyStatusChanged(true);\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.close = function () {\r\n        return Promise.resolve();\r\n    };\r\n    WebPlatformTransport.prototype.name = function () {\r\n        return \"web-platform\";\r\n    };\r\n    WebPlatformTransport.prototype.reconnect = function () {\r\n        return Promise.resolve();\r\n    };\r\n    WebPlatformTransport.prototype.connect = function () {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (this.parentReady) {\r\n                            this.logger.debug(\"cancelling connection attempt, because this client's parent has already given a ready signal\");\r\n                            return [2];\r\n                        }\r\n                        if (this.settings.port) {\r\n                            this.logger.debug(\"opening an internal web platform connection\");\r\n                            this.port = this.settings.port;\r\n                            this.publicWindowId = this.settings.windowId;\r\n                            if (this.identity) {\r\n                                this.identity.windowId = this.publicWindowId;\r\n                            }\r\n                            this.port.onmessage = function (event) { return _this.registry.execute(\"onMessage\", event.data); };\r\n                            this.logger.debug(\"internal web platform connection completed\");\r\n                            return [2];\r\n                        }\r\n                        if (!this.parentType || !this.parent) {\r\n                            throw new Error(\"Cannot initiate a connection, because there is no opener, no top and no port.\");\r\n                        }\r\n                        this.logger.debug(\"opening a \" + (this.parentType === \"opener\" ? \"child\" : \"grandchild\") + \" client web platform connection\");\r\n                        return [4, this.waitParent(this.parent, this.parentType)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [4, this.initiateRemoteConnection(this.parent, this.parentType)];\r\n                    case 2:\r\n                        _a.sent();\r\n                        this.logger.debug(\"the \" + (this.parentType === \"opener\" ? \"child\" : \"grandchild\") + \" client is connected\");\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.initiateRemoteConnection = function (target, parentType) {\r\n        var _this = this;\r\n        return PromisePlus$1(function (resolve, reject) {\r\n            _this.connectionResolve = resolve;\r\n            _this.connectionReject = reject;\r\n            _this.myClientId = shortid();\r\n            var bridgeInstanceId = _this.parentType === \"workspace\" ? window.name.substring(0, window.name.indexOf(\"#wsp\")) : window.name;\r\n            var request = {\r\n                glue42core: {\r\n                    type: _this.messages.connectionRequest.name,\r\n                    clientId: _this.myClientId,\r\n                    clientType: parentType === \"top\" || parentType === \"workspace\" ? \"grandChild\" : \"child\",\r\n                    bridgeInstanceId: bridgeInstanceId\r\n                }\r\n            };\r\n            _this.logger.debug(\"sending connection request to \" + parentType);\r\n            target.postMessage(request, _this.defaultTargetString);\r\n        }, this.connectionRequestTimeout, \"The connection to the opener/top window timed out\");\r\n    };\r\n    WebPlatformTransport.prototype.waitParent = function (target, parentType) {\r\n        var _this = this;\r\n        return PromisePlus$1(function (resolve) {\r\n            _this.parentPingResolve = resolve;\r\n            var message = {\r\n                glue42core: {\r\n                    type: parentType === \"opener\" ? _this.messages.platformPing.name : _this.messages.parentPing.name\r\n                }\r\n            };\r\n            _this.logger.debug(\"checking for \" + parentType + \" window availability\");\r\n            target.postMessage(message, _this.defaultTargetString);\r\n        }, this.parentPingTimeout, \"Cannot initiate glue, because this window was not opened or created by a glue client\");\r\n    };\r\n    WebPlatformTransport.prototype.setUpMessageListener = function () {\r\n        var _this = this;\r\n        if (this.settings.port) {\r\n            this.logger.debug(\"skipping generic message listener, because this is an internal client\");\r\n            return;\r\n        }\r\n        window.addEventListener(\"message\", function (event) {\r\n            var _a;\r\n            var data = (_a = event.data) === null || _a === void 0 ? void 0 : _a.glue42core;\r\n            if (!data || _this.rejected) {\r\n                return;\r\n            }\r\n            if (!_this.checkMessageTypeValid(data.type)) {\r\n                _this.logger.error(\"cannot handle the incoming glue42 core message, because the type is invalid: \" + data.type);\r\n                return;\r\n            }\r\n            var messageType = data.type;\r\n            _this.logger.debug(\"received valid glue42core message of type: \" + messageType);\r\n            _this.messages[messageType].handle(event);\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.setUpUnload = function () {\r\n        var _this = this;\r\n        if (this.settings.port) {\r\n            this.logger.debug(\"skipping unload event listener, because this is an internal client\");\r\n            return;\r\n        }\r\n        window.addEventListener(\"beforeunload\", function () {\r\n            var _a, _b;\r\n            var message = {\r\n                glue42core: {\r\n                    type: _this.messages.clientUnload.name,\r\n                    data: {\r\n                        clientId: _this.myClientId,\r\n                        ownWindowId: (_a = _this.identity) === null || _a === void 0 ? void 0 : _a.windowId\r\n                    }\r\n                }\r\n            };\r\n            if (_this.parent) {\r\n                _this.parent.postMessage(message, _this.defaultTargetString);\r\n            }\r\n            (_b = _this.port) === null || _b === void 0 ? void 0 : _b.postMessage(message);\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.handleParentReady = function () {\r\n        this.logger.debug(\"handling the ready signal from the parent, by resoling the pending promise.\");\r\n        this.parentReady = true;\r\n        if (this.parentPingResolve) {\r\n            this.parentPingResolve();\r\n            delete this.parentPingResolve;\r\n            return;\r\n        }\r\n        this.logger.debug(\"silently handling the ready signal from the top parent, because there is no defined promise\");\r\n    };\r\n    WebPlatformTransport.prototype.handlePlatformReady = function () {\r\n        this.logger.debug(\"the web platform gave the ready signal\");\r\n        this.parentReady = true;\r\n        if (this.parentPingResolve) {\r\n            this.parentPingResolve();\r\n            delete this.parentPingResolve;\r\n            return;\r\n        }\r\n        this.logger.debug(\"silently handling the ready signal from the top parent, because there is no defined promise\");\r\n    };\r\n    WebPlatformTransport.prototype.handleConnectionAccepted = function (event) {\r\n        var _a;\r\n        var data = (_a = event.data) === null || _a === void 0 ? void 0 : _a.glue42core;\r\n        if (this.myClientId === data.clientId) {\r\n            return this.handleAcceptanceOfMyRequest(data);\r\n        }\r\n        return this.handleAcceptanceOfGrandChildRequest(data, event);\r\n    };\r\n    WebPlatformTransport.prototype.handleAcceptanceOfMyRequest = function (data) {\r\n        var _this = this;\r\n        this.logger.debug(\"handling a connection accepted signal targeted at me.\");\r\n        if (!data.port) {\r\n            this.logger.error(\"cannot set up my connection, because I was not provided with a port\");\r\n            return;\r\n        }\r\n        this.publicWindowId = this.parentType === \"opener\" ? window.name :\r\n            this.parentType === \"top\" ? data.parentWindowId :\r\n                window.name.substring(0, window.name.indexOf(\"#wsp\"));\r\n        if (this.identity && this.parentType !== \"top\") {\r\n            this.identity.windowId = this.publicWindowId;\r\n        }\r\n        if (this.identity && data.appName) {\r\n            this.identity.application = data.appName;\r\n            this.identity.applicationName = data.appName;\r\n        }\r\n        this.port = data.port;\r\n        this.port.onmessage = function (e) { return _this.registry.execute(\"onMessage\", e.data); };\r\n        if (this.connectionResolve) {\r\n            this.logger.debug(\"my connection is set up, calling the connection resolve.\");\r\n            this.connectionResolve();\r\n            delete this.connectionResolve;\r\n            return;\r\n        }\r\n        this.logger.error(\"unable to call the connection resolve, because no connection promise was found\");\r\n    };\r\n    WebPlatformTransport.prototype.handleAcceptanceOfGrandChildRequest = function (data, event) {\r\n        this.logger.debug(\"handling a connection accepted signal targeted at a grandchild: \" + data.clientId);\r\n        var child = this.children.find(function (c) { return c.grandChildId === data.clientId; });\r\n        if (!child) {\r\n            this.logger.error(\"cannot handle connection accepted for grandchild: \" + data.clientId + \", because there is no grandchild with this id\");\r\n            return;\r\n        }\r\n        child.connected = true;\r\n        this.logger.debug(\"the grandchild connection for \" + data.clientId + \" is set up, forwarding the success message and the gateway port\");\r\n        data.parentWindowId = this.publicWindowId;\r\n        child.source.postMessage(event.data, child.origin, [data.port]);\r\n        return;\r\n    };\r\n    WebPlatformTransport.prototype.handleConnectionRejected = function () {\r\n        this.logger.debug(\"handling a connection rejection. Most likely the reason is that this window was not created by a glue API call\");\r\n        if (this.connectionReject) {\r\n            this.connectionReject(\"The platform connection was rejected. Most likely because this window was not created by a glue API call\");\r\n            delete this.connectionReject;\r\n        }\r\n    };\r\n    WebPlatformTransport.prototype.handleConnectionRequest = function (event) {\r\n        var source = event.source;\r\n        var data = event.data.glue42core;\r\n        if (!data.clientType || data.clientType !== \"grandChild\") {\r\n            return this.rejectConnectionRequest(source, event.origin, \"rejecting a connection request, because the source was not opened by a glue API call\");\r\n        }\r\n        if (!data.clientId) {\r\n            return this.rejectConnectionRequest(source, event.origin, \"rejecting a connection request, because the source did not provide a valid id\");\r\n        }\r\n        if (this.parentType !== \"opener\" || !this.parent) {\r\n            return this.rejectConnectionRequest(source, event.origin, \"Cannot forward the connection request, because no direct connection to the platform was found\");\r\n        }\r\n        this.logger.debug(\"handling a connection request for a grandchild: \" + data.clientId);\r\n        this.children.push({ grandChildId: data.clientId, source: source, connected: false, origin: event.origin });\r\n        this.logger.debug(\"grandchild: \" + data.clientId + \" is prepared, forwarding connection request to the platform\");\r\n        this.parent.postMessage(event.data, this.defaultTargetString);\r\n    };\r\n    WebPlatformTransport.prototype.handleParentPing = function (event) {\r\n        if (!this.parentReady) {\r\n            this.logger.debug(\"my parent is not ready, I am ignoring the parent ping\");\r\n            return;\r\n        }\r\n        if (!this.iAmConnected) {\r\n            this.logger.debug(\"i am not fully connected yet, I am ignoring the parent ping\");\r\n            return;\r\n        }\r\n        var message = {\r\n            glue42core: {\r\n                type: this.messages.parentReady.name\r\n            }\r\n        };\r\n        var source = event.source;\r\n        this.logger.debug(\"responding to a parent ping with a ready message\");\r\n        source.postMessage(message, event.origin);\r\n    };\r\n    WebPlatformTransport.prototype.handlePlatformUnload = function (event) {\r\n        this.logger.debug(\"detected a web platform unload\");\r\n        this.parentReady = false;\r\n        if (this.children.length) {\r\n            this.logger.debug(\"forwarding the platform unload to all known children and starting platform discovery polling\");\r\n            this.children.forEach(function (child) { return child.source.postMessage(event.data, child.origin); });\r\n        }\r\n        this.notifyStatusChanged(false, \"Gateway unloaded\");\r\n    };\r\n    WebPlatformTransport.prototype.handleManualUnload = function () {\r\n        var _a, _b;\r\n        var message = {\r\n            glue42core: {\r\n                type: this.messages.clientUnload.name,\r\n                data: {\r\n                    clientId: this.myClientId,\r\n                    ownWindowId: (_a = this.identity) === null || _a === void 0 ? void 0 : _a.windowId\r\n                }\r\n            }\r\n        };\r\n        if (this.parent) {\r\n            this.parent.postMessage(message, this.defaultTargetString);\r\n        }\r\n        (_b = this.port) === null || _b === void 0 ? void 0 : _b.postMessage(message);\r\n    };\r\n    WebPlatformTransport.prototype.handleClientUnload = function (event) {\r\n        var data = event.data.glue42core;\r\n        var clientId = data === null || data === void 0 ? void 0 : data.data.clientId;\r\n        if (!clientId) {\r\n            this.logger.warn(\"cannot process grand child unload, because the provided id was not valid\");\r\n            return;\r\n        }\r\n        var foundChild = this.children.find(function (child) { return child.grandChildId === clientId; });\r\n        if (!foundChild) {\r\n            this.logger.warn(\"cannot process grand child unload, because this client is unaware of this grandchild\");\r\n            return;\r\n        }\r\n        this.logger.debug(\"handling grandchild unload for id: \" + clientId);\r\n        this.children = this.children.filter(function (child) { return child.grandChildId !== clientId; });\r\n    };\r\n    WebPlatformTransport.prototype.handlePlatformPing = function () {\r\n        this.logger.error(\"cannot handle platform ping, because this is not a platform calls handling component\");\r\n    };\r\n    WebPlatformTransport.prototype.notifyStatusChanged = function (status, reason) {\r\n        this.iAmConnected = status;\r\n        this.registry.execute(\"onConnectedChanged\", status, reason);\r\n    };\r\n    WebPlatformTransport.prototype.checkMessageTypeValid = function (typeToValidate) {\r\n        return typeof typeToValidate === \"string\" && !!this.messages[typeToValidate];\r\n    };\r\n    WebPlatformTransport.prototype.rejectConnectionRequest = function (source, origin, reason) {\r\n        this.rejected = true;\r\n        this.logger.error(reason);\r\n        var rejection = {\r\n            glue42core: {\r\n                type: this.messages.connectionRejected.name\r\n            }\r\n        };\r\n        source.postMessage(rejection, origin);\r\n    };\r\n    return WebPlatformTransport;\r\n}());\n\nvar Connection = (function () {\r\n    function Connection(settings, logger) {\r\n        this.settings = settings;\r\n        this.logger = logger;\r\n        this.messageHandlers = {};\r\n        this.ids = 1;\r\n        this.registry = lib$1();\r\n        this._connected = false;\r\n        this.isTrace = false;\r\n        settings = settings || {};\r\n        settings.reconnectAttempts = settings.reconnectAttempts || 10;\r\n        settings.reconnectInterval = settings.reconnectInterval || 1000;\r\n        if (settings.inproc) {\r\n            this.transport = new InProcTransport(settings.inproc, logger.subLogger(\"inMemory\"));\r\n        }\r\n        else if (settings.sharedWorker) {\r\n            this.transport = new SharedWorkerTransport(settings.sharedWorker, logger.subLogger(\"shared-worker\"));\r\n        }\r\n        else if (settings.webPlatform) {\r\n            this.transport = new WebPlatformTransport(settings.webPlatform, logger.subLogger(\"web-platform\"), settings.identity);\r\n        }\r\n        else if (settings.ws !== undefined) {\r\n            this.transport = new WS(settings, logger.subLogger(\"ws\"));\r\n        }\r\n        else {\r\n            throw new Error(\"No connection information specified\");\r\n        }\r\n        this.isTrace = logger.canPublish(\"trace\");\r\n        logger.debug(\"starting with \" + this.transport.name() + \" transport\");\r\n        this.protocol = new GW3ProtocolImpl(this, settings, logger.subLogger(\"protocol\"));\r\n        this.transport.onConnectedChanged(this.handleConnectionChanged.bind(this));\r\n        this.transport.onMessage(this.handleTransportMessage.bind(this));\r\n        if (settings.replaySpecs && settings.replaySpecs.length) {\r\n            this.replayer = new MessageReplayerImpl(settings.replaySpecs);\r\n            this.replayer.init(this);\r\n        }\r\n    }\r\n    Object.defineProperty(Connection.prototype, \"protocolVersion\", {\r\n        get: function () {\r\n            var _a;\r\n            return (_a = this.protocol) === null || _a === void 0 ? void 0 : _a.protocolVersion;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Connection.prototype.send = function (message, options) {\r\n        if (this.transport.sendObject &&\r\n            this.transport.isObjectBasedTransport) {\r\n            var msg = this.protocol.createObjectMessage(message);\r\n            if (this.isTrace) {\r\n                this.logger.trace(\">> \" + JSON.stringify(msg));\r\n            }\r\n            return this.transport.sendObject(msg, options);\r\n        }\r\n        else {\r\n            var strMessage = this.protocol.createStringMessage(message);\r\n            if (this.isTrace) {\r\n                this.logger.trace(\">> \" + strMessage);\r\n            }\r\n            return this.transport.send(strMessage, options);\r\n        }\r\n    };\r\n    Connection.prototype.on = function (type, messageHandler) {\r\n        type = type.toLowerCase();\r\n        if (this.messageHandlers[type] === undefined) {\r\n            this.messageHandlers[type] = {};\r\n        }\r\n        var id = this.ids++;\r\n        this.messageHandlers[type][id] = messageHandler;\r\n        return {\r\n            type: type,\r\n            id: id,\r\n        };\r\n    };\r\n    Connection.prototype.off = function (info) {\r\n        delete this.messageHandlers[info.type.toLowerCase()][info.id];\r\n    };\r\n    Object.defineProperty(Connection.prototype, \"isConnected\", {\r\n        get: function () {\r\n            return this.protocol.isLoggedIn;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Connection.prototype.connected = function (callback) {\r\n        var _this = this;\r\n        return this.protocol.loggedIn(function () {\r\n            callback(_this.settings.ws || _this.settings.sharedWorker || \"\");\r\n        });\r\n    };\r\n    Connection.prototype.disconnected = function (callback) {\r\n        return this.registry.add(\"disconnected\", callback);\r\n    };\r\n    Connection.prototype.login = function (authRequest, reconnect) {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var identity;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4, this.transport.open()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        timer(\"connection\").mark(\"transport-opened\");\r\n                        identity = this.protocol.login(authRequest, reconnect);\r\n                        timer(\"connection\").mark(\"protocol-logged-in\");\r\n                        return [2, identity];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Connection.prototype.logout = function () {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4, this.protocol.logout()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [4, this.transport.close()];\r\n                    case 2:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Connection.prototype.loggedIn = function (callback) {\r\n        return this.protocol.loggedIn(callback);\r\n    };\r\n    Connection.prototype.domain = function (domain, successMessages, errorMessages) {\r\n        return this.protocol.domain(domain, this.logger.subLogger(\"domain=\" + domain), successMessages, errorMessages);\r\n    };\r\n    Connection.prototype.authToken = function () {\r\n        return this.protocol.authToken();\r\n    };\r\n    Connection.prototype.reconnect = function () {\r\n        return this.transport.reconnect();\r\n    };\r\n    Connection.prototype.distributeMessage = function (message, type) {\r\n        var _this = this;\r\n        var handlers = this.messageHandlers[type.toLowerCase()];\r\n        if (handlers !== undefined) {\r\n            Object.keys(handlers).forEach(function (handlerId) {\r\n                var handler = handlers[handlerId];\r\n                if (handler !== undefined) {\r\n                    try {\r\n                        handler(message);\r\n                    }\r\n                    catch (error) {\r\n                        try {\r\n                            _this.logger.error(\"Message handler failed with \" + error.stack, error);\r\n                        }\r\n                        catch (loggerError) {\r\n                            console.log(\"Message handler failed\", error);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    };\r\n    Connection.prototype.handleConnectionChanged = function (connected) {\r\n        if (this._connected === connected) {\r\n            return;\r\n        }\r\n        this._connected = connected;\r\n        if (connected) {\r\n            this.registry.execute(\"connected\");\r\n        }\r\n        else {\r\n            this.registry.execute(\"disconnected\");\r\n        }\r\n    };\r\n    Connection.prototype.handleTransportMessage = function (msg) {\r\n        var msgObj;\r\n        if (typeof msg === \"string\") {\r\n            msgObj = this.protocol.processStringMessage(msg);\r\n        }\r\n        else {\r\n            msgObj = this.protocol.processObjectMessage(msg);\r\n        }\r\n        if (this.isTrace) {\r\n            this.logger.trace(\"<< \" + JSON.stringify(msgObj));\r\n        }\r\n        this.distributeMessage(msgObj.msg, msgObj.msgType);\r\n    };\r\n    return Connection;\r\n}());\n\nvar order = [\"trace\", \"debug\", \"info\", \"warn\", \"error\", \"off\"];\r\nvar Logger = (function () {\r\n    function Logger(name, parent, logFn) {\r\n        this.name = name;\r\n        this.parent = parent;\r\n        this.subLoggers = [];\r\n        this.logFn = console;\r\n        this.customLogFn = false;\r\n        this.name = name;\r\n        if (parent) {\r\n            this.path = parent.path + \".\" + name;\r\n        }\r\n        else {\r\n            this.path = name;\r\n        }\r\n        this.loggerFullName = \"[\" + this.path + \"]\";\r\n        this.includeTimeAndLevel = !logFn;\r\n        if (logFn) {\r\n            this.logFn = logFn;\r\n            this.customLogFn = true;\r\n        }\r\n    }\r\n    Logger.prototype.subLogger = function (name) {\r\n        var existingSub = this.subLoggers.filter(function (subLogger) {\r\n            return subLogger.name === name;\r\n        })[0];\r\n        if (existingSub !== undefined) {\r\n            return existingSub;\r\n        }\r\n        Object.keys(this).forEach(function (key) {\r\n            if (key === name) {\r\n                throw new Error(\"This sub logger name is not allowed.\");\r\n            }\r\n        });\r\n        var sub = new Logger(name, this, this.customLogFn ? this.logFn : undefined);\r\n        this.subLoggers.push(sub);\r\n        return sub;\r\n    };\r\n    Logger.prototype.publishLevel = function (level) {\r\n        var _a;\r\n        if (level) {\r\n            this._publishLevel = level;\r\n        }\r\n        return this._publishLevel || ((_a = this.parent) === null || _a === void 0 ? void 0 : _a.publishLevel());\r\n    };\r\n    Logger.prototype.consoleLevel = function (level) {\r\n        var _a;\r\n        if (level) {\r\n            this._consoleLevel = level;\r\n        }\r\n        return this._consoleLevel || ((_a = this.parent) === null || _a === void 0 ? void 0 : _a.consoleLevel());\r\n    };\r\n    Logger.prototype.log = function (message, level, error) {\r\n        this.publishMessage(level || \"info\", message, error);\r\n    };\r\n    Logger.prototype.trace = function (message) {\r\n        this.log(message, \"trace\");\r\n    };\r\n    Logger.prototype.debug = function (message) {\r\n        this.log(message, \"debug\");\r\n    };\r\n    Logger.prototype.info = function (message) {\r\n        this.log(message, \"info\");\r\n    };\r\n    Logger.prototype.warn = function (message) {\r\n        this.log(message, \"warn\");\r\n    };\r\n    Logger.prototype.error = function (message, err) {\r\n        this.log(message, \"error\");\r\n    };\r\n    Logger.prototype.canPublish = function (level, compareWith) {\r\n        var levelIdx = order.indexOf(level);\r\n        var restrictionIdx = order.indexOf(compareWith || this.consoleLevel() || \"trace\");\r\n        return levelIdx >= restrictionIdx;\r\n    };\r\n    Logger.prototype.publishMessage = function (level, message, error) {\r\n        var loggerName = this.loggerFullName;\r\n        if (level === \"error\" && !error) {\r\n            var e = new Error();\r\n            if (e.stack) {\r\n                message =\r\n                    message +\r\n                        \"\\n\" +\r\n                        e.stack\r\n                            .split(\"\\n\")\r\n                            .slice(3)\r\n                            .join(\"\\n\");\r\n            }\r\n        }\r\n        if (this.canPublish(level, this.publishLevel())) {\r\n            var interop = Logger.Interop;\r\n            if (interop) {\r\n                try {\r\n                    if (interop.methods({ name: Logger.InteropMethodName }).length > 0) {\r\n                        interop.invoke(Logger.InteropMethodName, {\r\n                            msg: \"\" + message,\r\n                            logger: loggerName,\r\n                            level: level\r\n                        });\r\n                    }\r\n                }\r\n                catch (_a) {\r\n                }\r\n            }\r\n        }\r\n        if (this.canPublish(level)) {\r\n            var prefix = \"\";\r\n            if (this.includeTimeAndLevel) {\r\n                var date = new Date();\r\n                var time = date.getHours() + \":\" + date.getMinutes() + \":\" + date.getSeconds() + \":\" + date.getMilliseconds();\r\n                prefix = \"[\" + time + \"] [\" + level + \"] \";\r\n            }\r\n            var toPrint = \"\" + prefix + loggerName + \": \" + message;\r\n            switch (level) {\r\n                case \"trace\":\r\n                    this.logFn.debug(toPrint);\r\n                    break;\r\n                case \"debug\":\r\n                    if (this.logFn.debug) {\r\n                        this.logFn.debug(toPrint);\r\n                    }\r\n                    else {\r\n                        this.logFn.log(toPrint);\r\n                    }\r\n                    break;\r\n                case \"info\":\r\n                    this.logFn.info(toPrint);\r\n                    break;\r\n                case \"warn\":\r\n                    this.logFn.warn(toPrint);\r\n                    break;\r\n                case \"error\":\r\n                    this.logFn.error(toPrint, error);\r\n                    break;\r\n            }\r\n        }\r\n    };\r\n    Logger.InteropMethodName = \"T42.AppLogger.Log\";\r\n    return Logger;\r\n}());\n\nvar GW_MESSAGE_CREATE_CONTEXT = \"create-context\";\r\nvar GW_MESSAGE_ACTIVITY_CREATED = \"created\";\r\nvar GW_MESSAGE_ACTIVITY_DESTROYED = \"destroyed\";\r\nvar GW_MESSAGE_CONTEXT_CREATED = \"context-created\";\r\nvar GW_MESSAGE_CONTEXT_ADDED = \"context-added\";\r\nvar GW_MESSAGE_SUBSCRIBE_CONTEXT = \"subscribe-context\";\r\nvar GW_MESSAGE_SUBSCRIBED_CONTEXT = \"subscribed-context\";\r\nvar GW_MESSAGE_UNSUBSCRIBE_CONTEXT = \"unsubscribe-context\";\r\nvar GW_MESSAGE_DESTROY_CONTEXT = \"destroy-context\";\r\nvar GW_MESSAGE_CONTEXT_DESTROYED = \"context-destroyed\";\r\nvar GW_MESSAGE_UPDATE_CONTEXT = \"update-context\";\r\nvar GW_MESSAGE_CONTEXT_UPDATED = \"context-updated\";\r\nvar GW_MESSAGE_JOINED_ACTIVITY = \"joined\";\n\nvar ContextMessageReplaySpec = {\r\n    get name() {\r\n        return \"context\";\r\n    },\r\n    get types() {\r\n        return [\r\n            GW_MESSAGE_CREATE_CONTEXT,\r\n            GW_MESSAGE_ACTIVITY_CREATED,\r\n            GW_MESSAGE_ACTIVITY_DESTROYED,\r\n            GW_MESSAGE_CONTEXT_CREATED,\r\n            GW_MESSAGE_CONTEXT_ADDED,\r\n            GW_MESSAGE_SUBSCRIBE_CONTEXT,\r\n            GW_MESSAGE_SUBSCRIBED_CONTEXT,\r\n            GW_MESSAGE_UNSUBSCRIBE_CONTEXT,\r\n            GW_MESSAGE_DESTROY_CONTEXT,\r\n            GW_MESSAGE_CONTEXT_DESTROYED,\r\n            GW_MESSAGE_UPDATE_CONTEXT,\r\n            GW_MESSAGE_CONTEXT_UPDATED,\r\n            GW_MESSAGE_JOINED_ACTIVITY\r\n        ];\r\n    }\r\n};\n\nvar version$1 = \"5.4.6\";\n\nfunction prepareConfig (configuration, ext, glue42gd) {\r\n    var _a, _b, _c, _d, _e;\r\n    var nodeStartingContext;\r\n    if (Utils.isNode()) {\r\n        var startingContextString = process.env._GD_STARTING_CONTEXT_;\r\n        if (startingContextString) {\r\n            try {\r\n                nodeStartingContext = JSON.parse(startingContextString);\r\n            }\r\n            catch (_f) {\r\n            }\r\n        }\r\n    }\r\n    function getConnection() {\r\n        var _a, _b, _c, _d, _e;\r\n        var gwConfig = configuration.gateway;\r\n        var protocolVersion = (_a = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.protocolVersion) !== null && _a !== void 0 ? _a : 3;\r\n        var reconnectInterval = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.reconnectInterval;\r\n        var reconnectAttempts = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.reconnectAttempts;\r\n        var defaultWs = \"ws://localhost:8385\";\r\n        var ws = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.ws;\r\n        var sharedWorker = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.sharedWorker;\r\n        var inproc = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.inproc;\r\n        var webPlatform = (_b = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.webPlatform) !== null && _b !== void 0 ? _b : undefined;\r\n        if (glue42gd) {\r\n            ws = glue42gd.gwURL;\r\n        }\r\n        if (Utils.isNode() && nodeStartingContext && nodeStartingContext.gwURL) {\r\n            ws = nodeStartingContext.gwURL;\r\n        }\r\n        if (!ws && !sharedWorker && !inproc) {\r\n            ws = defaultWs;\r\n        }\r\n        var instanceId;\r\n        var windowId;\r\n        var pid;\r\n        var environment;\r\n        var region;\r\n        var appName = getApplication();\r\n        var uniqueAppName = appName;\r\n        if (typeof glue42gd !== \"undefined\") {\r\n            windowId = glue42gd.windowId;\r\n            pid = glue42gd.pid;\r\n            if (glue42gd.env) {\r\n                environment = glue42gd.env.env;\r\n                region = glue42gd.env.region;\r\n            }\r\n            uniqueAppName = (_c = glue42gd.application) !== null && _c !== void 0 ? _c : \"glue-app\";\r\n            instanceId = glue42gd.appInstanceId;\r\n        }\r\n        else if (Utils.isNode()) {\r\n            pid = process.pid;\r\n            if (nodeStartingContext) {\r\n                environment = nodeStartingContext.env;\r\n                region = nodeStartingContext.region;\r\n                instanceId = nodeStartingContext.instanceId;\r\n            }\r\n        }\r\n        var replaySpecs = (_e = (_d = configuration.gateway) === null || _d === void 0 ? void 0 : _d.replaySpecs) !== null && _e !== void 0 ? _e : [];\r\n        replaySpecs.push(ContextMessageReplaySpec);\r\n        return {\r\n            identity: {\r\n                application: uniqueAppName,\r\n                applicationName: appName,\r\n                windowId: windowId,\r\n                instance: instanceId,\r\n                process: pid,\r\n                region: region,\r\n                environment: environment,\r\n                api: ext.version || version$1\r\n            },\r\n            reconnectInterval: reconnectInterval,\r\n            ws: ws,\r\n            sharedWorker: sharedWorker,\r\n            webPlatform: webPlatform,\r\n            inproc: inproc,\r\n            protocolVersion: protocolVersion,\r\n            reconnectAttempts: reconnectAttempts,\r\n            replaySpecs: replaySpecs,\r\n        };\r\n    }\r\n    function getApplication() {\r\n        if (configuration.application) {\r\n            return configuration.application;\r\n        }\r\n        if (glue42gd) {\r\n            return glue42gd.applicationName;\r\n        }\r\n        var uid = shortid();\r\n        if (Utils.isNode()) {\r\n            if (nodeStartingContext) {\r\n                return nodeStartingContext.applicationConfig.name;\r\n            }\r\n            return \"NodeJS\" + uid;\r\n        }\r\n        if (typeof window !== \"undefined\" && typeof document !== \"undefined\") {\r\n            return document.title + (\" (\" + uid + \")\");\r\n        }\r\n        return uid;\r\n    }\r\n    function getAuth() {\r\n        var _a, _b, _c;\r\n        if (typeof configuration.auth === \"string\") {\r\n            return {\r\n                token: configuration.auth\r\n            };\r\n        }\r\n        if (configuration.auth) {\r\n            return configuration.auth;\r\n        }\r\n        if (Utils.isNode() && nodeStartingContext && nodeStartingContext.gwToken) {\r\n            return {\r\n                gatewayToken: nodeStartingContext.gwToken\r\n            };\r\n        }\r\n        if (((_a = configuration.gateway) === null || _a === void 0 ? void 0 : _a.webPlatform) || ((_b = configuration.gateway) === null || _b === void 0 ? void 0 : _b.inproc) || ((_c = configuration.gateway) === null || _c === void 0 ? void 0 : _c.sharedWorker)) {\r\n            return {\r\n                username: \"glue42\", password: \"glue42\"\r\n            };\r\n        }\r\n    }\r\n    function getLogger() {\r\n        var _a, _b;\r\n        var config = configuration.logger;\r\n        var defaultLevel = \"warn\";\r\n        if (!config) {\r\n            config = defaultLevel;\r\n        }\r\n        var gdConsoleLevel;\r\n        if (glue42gd) {\r\n            gdConsoleLevel = glue42gd.consoleLogLevel;\r\n        }\r\n        if (typeof config === \"string\") {\r\n            return { console: gdConsoleLevel !== null && gdConsoleLevel !== void 0 ? gdConsoleLevel : config, publish: defaultLevel };\r\n        }\r\n        return {\r\n            console: (_a = gdConsoleLevel !== null && gdConsoleLevel !== void 0 ? gdConsoleLevel : config.console) !== null && _a !== void 0 ? _a : defaultLevel,\r\n            publish: (_b = config.publish) !== null && _b !== void 0 ? _b : defaultLevel\r\n        };\r\n    }\r\n    var connection = getConnection();\r\n    var application = getApplication();\r\n    if (typeof window !== \"undefined\") {\r\n        var windowAsAny = window;\r\n        var containerApplication = windowAsAny.htmlContainer ?\r\n            windowAsAny.htmlContainer.containerName + \".\" + windowAsAny.htmlContainer.application : (_a = windowAsAny === null || windowAsAny === void 0 ? void 0 : windowAsAny.glue42gd) === null || _a === void 0 ? void 0 : _a.application;\r\n        if (containerApplication) {\r\n            application = containerApplication;\r\n        }\r\n    }\r\n    return {\r\n        bus: (_b = configuration.bus) !== null && _b !== void 0 ? _b : false,\r\n        application: application,\r\n        auth: getAuth(),\r\n        logger: getLogger(),\r\n        connection: connection,\r\n        metrics: (_c = configuration.metrics) !== null && _c !== void 0 ? _c : true,\r\n        contexts: (_d = configuration.contexts) !== null && _d !== void 0 ? _d : true,\r\n        version: ext.version || version$1,\r\n        libs: (_e = ext.libs) !== null && _e !== void 0 ? _e : [],\r\n        customLogger: configuration.customLogger\r\n    };\r\n}\n\nvar GW3ContextData = (function () {\r\n    function GW3ContextData(contextId, name, isAnnounced, activityId) {\r\n        this.updateCallbacks = {};\r\n        this.contextId = contextId;\r\n        this.name = name;\r\n        this.isAnnounced = isAnnounced;\r\n        this.activityId = activityId;\r\n        this.context = {};\r\n    }\r\n    GW3ContextData.prototype.hasCallbacks = function () {\r\n        return Object.keys(this.updateCallbacks).length > 0;\r\n    };\r\n    GW3ContextData.prototype.getState = function () {\r\n        if (this.isAnnounced && this.hasCallbacks()) {\r\n            return 3;\r\n        }\r\n        if (this.isAnnounced) {\r\n            return 2;\r\n        }\r\n        if (this.hasCallbacks()) {\r\n            return 1;\r\n        }\r\n        return 0;\r\n    };\r\n    return GW3ContextData;\r\n}());\n\nfunction applyContextDelta(context, delta, logger) {\r\n    try {\r\n        if (logger === null || logger === void 0 ? void 0 : logger.canPublish(\"trace\")) {\r\n            logger === null || logger === void 0 ? void 0 : logger.trace(\"applying context delta \" + JSON.stringify(delta) + \" on context \" + JSON.stringify(context));\r\n        }\r\n        if (!delta) {\r\n            return context;\r\n        }\r\n        if (delta.reset) {\r\n            context = __assign$1({}, delta.reset);\r\n            return context;\r\n        }\r\n        context = deepClone(context, undefined);\r\n        if (delta.commands) {\r\n            for (var _i = 0, _a = delta.commands; _i < _a.length; _i++) {\r\n                var command = _a[_i];\r\n                if (command.type === \"remove\") {\r\n                    deletePath(context, command.path);\r\n                }\r\n                else if (command.type === \"set\") {\r\n                    setValueToPath(context, command.value, command.path);\r\n                }\r\n            }\r\n            return context;\r\n        }\r\n        var added_1 = delta.added;\r\n        var updated_1 = delta.updated;\r\n        var removed = delta.removed;\r\n        if (added_1) {\r\n            Object.keys(added_1).forEach(function (key) {\r\n                context[key] = added_1[key];\r\n            });\r\n        }\r\n        if (updated_1) {\r\n            Object.keys(updated_1).forEach(function (key) {\r\n                mergeObjectsProperties(key, context, updated_1);\r\n            });\r\n        }\r\n        if (removed) {\r\n            removed.forEach(function (key) {\r\n                delete context[key];\r\n            });\r\n        }\r\n        return context;\r\n    }\r\n    catch (e) {\r\n        logger === null || logger === void 0 ? void 0 : logger.error(\"error applying context delta \" + JSON.stringify(delta) + \" on context \" + JSON.stringify(context), e);\r\n        return context;\r\n    }\r\n}\r\nfunction deepClone(obj, hash) {\r\n    hash = hash || new WeakMap();\r\n    if (Object(obj) !== obj) {\r\n        return obj;\r\n    }\r\n    if (obj instanceof Set) {\r\n        return new Set(obj);\r\n    }\r\n    if (hash.has(obj)) {\r\n        return hash.get(obj);\r\n    }\r\n    var result = obj instanceof Date ? new Date(obj)\r\n        : obj instanceof RegExp ? new RegExp(obj.source, obj.flags)\r\n            : obj.constructor ? new obj.constructor()\r\n                : Object.create(null);\r\n    hash.set(obj, result);\r\n    return Object.assign.apply(Object, __spreadArrays([result], Object.keys(obj).map(function (key) {\r\n        var _a;\r\n        return (_a = {}, _a[key] = deepClone(obj[key], hash), _a);\r\n    })));\r\n}\r\nvar mergeObjectsProperties = function (key, what, withWhat) {\r\n    var right = withWhat[key];\r\n    if (right === undefined) {\r\n        return what;\r\n    }\r\n    var left = what[key];\r\n    if (!left || !right) {\r\n        what[key] = right;\r\n        return what;\r\n    }\r\n    if (typeof left === \"string\" ||\r\n        typeof left === \"number\" ||\r\n        typeof left === \"boolean\" ||\r\n        typeof right === \"string\" ||\r\n        typeof right === \"number\" ||\r\n        typeof right === \"boolean\" ||\r\n        Array.isArray(left) ||\r\n        Array.isArray(right)) {\r\n        what[key] = right;\r\n        return what;\r\n    }\r\n    what[key] = Object.assign({}, left, right);\r\n    return what;\r\n};\r\nfunction deepEqual(x, y) {\r\n    if (x === y) {\r\n        return true;\r\n    }\r\n    if (!(x instanceof Object) || !(y instanceof Object)) {\r\n        return false;\r\n    }\r\n    if (x.constructor !== y.constructor) {\r\n        return false;\r\n    }\r\n    for (var p in x) {\r\n        if (!x.hasOwnProperty(p)) {\r\n            continue;\r\n        }\r\n        if (!y.hasOwnProperty(p)) {\r\n            return false;\r\n        }\r\n        if (x[p] === y[p]) {\r\n            continue;\r\n        }\r\n        if (typeof (x[p]) !== \"object\") {\r\n            return false;\r\n        }\r\n        if (!deepEqual(x[p], y[p])) {\r\n            return false;\r\n        }\r\n    }\r\n    for (var p in y) {\r\n        if (y.hasOwnProperty(p) && !x.hasOwnProperty(p)) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\nfunction setValueToPath(obj, value, path) {\r\n    var pathArr = path.split(\".\");\r\n    var i;\r\n    for (i = 0; i < pathArr.length - 1; i++) {\r\n        if (!obj[pathArr[i]]) {\r\n            obj[pathArr[i]] = {};\r\n        }\r\n        if (typeof obj[pathArr[i]] !== \"object\") {\r\n            obj[pathArr[i]] = {};\r\n        }\r\n        obj = obj[pathArr[i]];\r\n    }\r\n    obj[pathArr[i]] = value;\r\n}\r\nfunction isSubset(superObj, subObj) {\r\n    return Object.keys(subObj).every(function (ele) {\r\n        if (typeof subObj[ele] === \"object\") {\r\n            return isSubset((superObj === null || superObj === void 0 ? void 0 : superObj[ele]) || {}, subObj[ele] || {});\r\n        }\r\n        return subObj[ele] === (superObj === null || superObj === void 0 ? void 0 : superObj[ele]);\r\n    });\r\n}\r\nfunction deletePath(obj, path) {\r\n    var pathArr = path.split(\".\");\r\n    var i;\r\n    for (i = 0; i < pathArr.length - 1; i++) {\r\n        if (!obj[pathArr[i]]) {\r\n            return;\r\n        }\r\n        obj = obj[pathArr[i]];\r\n    }\r\n    delete obj[pathArr[i]];\r\n}\n\nvar GW3Bridge = (function () {\r\n    function GW3Bridge(config) {\r\n        var _this = this;\r\n        var _a;\r\n        this._contextNameToData = {};\r\n        this._gw3Subscriptions = [];\r\n        this._nextCallbackSubscriptionNumber = 0;\r\n        this._contextNameToId = {};\r\n        this._contextIdToName = {};\r\n        this._protocolVersion = undefined;\r\n        this._connection = config.connection;\r\n        this._logger = config.logger;\r\n        this._gw3Session = this._connection.domain(\"global\", [\r\n            GW_MESSAGE_CONTEXT_CREATED,\r\n            GW_MESSAGE_SUBSCRIBED_CONTEXT,\r\n            GW_MESSAGE_CONTEXT_DESTROYED,\r\n            GW_MESSAGE_CONTEXT_UPDATED,\r\n        ]);\r\n        this.subscribeToContextCreatedMessages();\r\n        this.subscribeToContextUpdatedMessages();\r\n        this.subscribeToContextDestroyedMessages();\r\n        (_a = this._connection.replayer) === null || _a === void 0 ? void 0 : _a.drain(ContextMessageReplaySpec.name, function (message) {\r\n            var type = message.type;\r\n            if (!type) {\r\n                return;\r\n            }\r\n            if (type === GW_MESSAGE_CONTEXT_CREATED ||\r\n                type === GW_MESSAGE_CONTEXT_ADDED ||\r\n                type === GW_MESSAGE_ACTIVITY_CREATED) {\r\n                _this.handleContextCreatedMessage(message);\r\n            }\r\n            else if (type === GW_MESSAGE_SUBSCRIBED_CONTEXT ||\r\n                type === GW_MESSAGE_CONTEXT_UPDATED ||\r\n                type === GW_MESSAGE_JOINED_ACTIVITY) {\r\n                _this.handleContextUpdatedMessage(message);\r\n            }\r\n            else if (type === GW_MESSAGE_CONTEXT_DESTROYED ||\r\n                type === GW_MESSAGE_ACTIVITY_DESTROYED) {\r\n                _this.handleContextDestroyedMessage(message);\r\n            }\r\n        });\r\n    }\r\n    Object.defineProperty(GW3Bridge.prototype, \"protocolVersion\", {\r\n        get: function () {\r\n            var _a;\r\n            if (!this._protocolVersion) {\r\n                var contextsDomainInfo = this._connection.availableDomains.find(function (d) { return d.uri === \"context\"; });\r\n                this._protocolVersion = (_a = contextsDomainInfo === null || contextsDomainInfo === void 0 ? void 0 : contextsDomainInfo.version) !== null && _a !== void 0 ? _a : 1;\r\n            }\r\n            return this._protocolVersion;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(GW3Bridge.prototype, \"setPathSupported\", {\r\n        get: function () {\r\n            return this.protocolVersion >= 2;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    GW3Bridge.prototype.dispose = function () {\r\n        for (var _i = 0, _a = this._gw3Subscriptions; _i < _a.length; _i++) {\r\n            var sub = _a[_i];\r\n            this._connection.off(sub);\r\n        }\r\n        this._gw3Subscriptions.length = 0;\r\n        for (var contextName in this._contextNameToData) {\r\n            if (this._contextNameToId.hasOwnProperty(contextName)) {\r\n                delete this._contextNameToData[contextName];\r\n            }\r\n        }\r\n    };\r\n    GW3Bridge.prototype.createContext = function (name, data) {\r\n        var _this = this;\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_CREATE_CONTEXT,\r\n            domain: \"global\",\r\n            name: name,\r\n            data: data,\r\n            lifetime: \"retained\",\r\n        })\r\n            .then(function (createContextMsg) {\r\n            _this._contextNameToId[name] = createContextMsg.context_id;\r\n            _this._contextIdToName[createContextMsg.context_id] = name;\r\n            var contextData = _this._contextNameToData[name] || new GW3ContextData(createContextMsg.context_id, name, true, undefined);\r\n            contextData.isAnnounced = true;\r\n            contextData.name = name;\r\n            contextData.contextId = createContextMsg.context_id;\r\n            contextData.context = data;\r\n            _this._contextNameToData[name] = contextData;\r\n            return createContextMsg.context_id;\r\n        });\r\n    };\r\n    GW3Bridge.prototype.all = function () {\r\n        var _this = this;\r\n        return Object.keys(this._contextNameToData)\r\n            .filter(function (name) { return _this._contextNameToData[name].isAnnounced; });\r\n    };\r\n    GW3Bridge.prototype.update = function (name, delta) {\r\n        var _a;\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var contextData, currentContext, calculatedDelta;\r\n            var _this = this;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        contextData = this._contextNameToData[name];\r\n                        if (!contextData || !contextData.isAnnounced) {\r\n                            return [2, this.createContext(name, delta)];\r\n                        }\r\n                        currentContext = contextData.context;\r\n                        if (!!contextData.hasCallbacks()) return [3, 2];\r\n                        return [4, this.get(contextData.name)];\r\n                    case 1:\r\n                        currentContext = _b.sent();\r\n                        _b.label = 2;\r\n                    case 2:\r\n                        calculatedDelta = this.protocolVersion === 2 ?\r\n                            this.calculateContextDeltaV2(currentContext, delta) :\r\n                            this.calculateContextDeltaV1(currentContext, delta);\r\n                        if (!Object.keys(calculatedDelta.added).length\r\n                            && !Object.keys(calculatedDelta.updated).length\r\n                            && !calculatedDelta.removed.length\r\n                            && !((_a = calculatedDelta.commands) === null || _a === void 0 ? void 0 : _a.length)) {\r\n                            return [2, Promise.resolve()];\r\n                        }\r\n                        return [2, this._gw3Session\r\n                                .send({\r\n                                type: GW_MESSAGE_UPDATE_CONTEXT,\r\n                                domain: \"global\",\r\n                                context_id: contextData.contextId,\r\n                                delta: calculatedDelta,\r\n                            }, {}, { skipPeerId: false })\r\n                                .then(function (gwResponse) {\r\n                                _this.handleUpdated(contextData, calculatedDelta, {\r\n                                    updaterId: gwResponse.peer_id\r\n                                });\r\n                            })];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    GW3Bridge.prototype.set = function (name, data) {\r\n        var _this = this;\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData || !contextData.isAnnounced) {\r\n            return this.createContext(name, data);\r\n        }\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_UPDATE_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n            delta: { reset: data },\r\n        }, {}, { skipPeerId: false })\r\n            .then(function (gwResponse) {\r\n            _this.handleUpdated(contextData, { reset: data, added: {}, removed: [], updated: {} }, { updaterId: gwResponse.peer_id });\r\n        });\r\n    };\r\n    GW3Bridge.prototype.setPath = function (name, path, value) {\r\n        if (!this.setPathSupported) {\r\n            return Promise.reject(\"glue.contexts.setPath operation is not supported, use Glue42 3.10 or later\");\r\n        }\r\n        return this.setPaths(name, [{ path: path, value: value }]);\r\n    };\r\n    GW3Bridge.prototype.setPaths = function (name, pathValues) {\r\n        var _this = this;\r\n        if (!this.setPathSupported) {\r\n            return Promise.reject(\"glue.contexts.setPaths operation is not supported, use Glue42 3.10 or later\");\r\n        }\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData || !contextData.isAnnounced) {\r\n            var obj = {};\r\n            for (var _i = 0, pathValues_1 = pathValues; _i < pathValues_1.length; _i++) {\r\n                var pathValue = pathValues_1[_i];\r\n                setValueToPath(obj, pathValue.value, pathValue.path);\r\n            }\r\n            return this.createContext(name, obj);\r\n        }\r\n        var commands = [];\r\n        for (var _a = 0, pathValues_2 = pathValues; _a < pathValues_2.length; _a++) {\r\n            var pathValue = pathValues_2[_a];\r\n            if (pathValue.value === null) {\r\n                commands.push({ type: \"remove\", path: pathValue.path });\r\n            }\r\n            else {\r\n                commands.push({ type: \"set\", path: pathValue.path, value: pathValue.value });\r\n            }\r\n        }\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_UPDATE_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n            delta: { commands: commands }\r\n        }, {}, { skipPeerId: false })\r\n            .then(function (gwResponse) {\r\n            _this.handleUpdated(contextData, { added: {}, removed: [], updated: {}, commands: commands }, { updaterId: gwResponse.peer_id });\r\n        });\r\n    };\r\n    GW3Bridge.prototype.get = function (name) {\r\n        var _this = this;\r\n        var _a;\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData || !contextData.isAnnounced) {\r\n            return Promise.resolve({});\r\n        }\r\n        if (contextData && !contextData.hasCallbacks()) {\r\n            return new Promise(function (resolve, _) { return __awaiter$1(_this, void 0, void 0, function () {\r\n                var _this = this;\r\n                return __generator(this, function (_a) {\r\n                    this.subscribe(name, function (data, _d, _r, un) {\r\n                        _this.unsubscribe(un);\r\n                        resolve(data);\r\n                    });\r\n                    return [2];\r\n                });\r\n            }); });\r\n        }\r\n        var context = (_a = contextData === null || contextData === void 0 ? void 0 : contextData.context) !== null && _a !== void 0 ? _a : {};\r\n        return Promise.resolve(context);\r\n    };\r\n    GW3Bridge.prototype.subscribe = function (name, callback) {\r\n        var thisCallbackSubscriptionNumber = this._nextCallbackSubscriptionNumber;\r\n        this._nextCallbackSubscriptionNumber += 1;\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData ||\r\n            !contextData.isAnnounced) {\r\n            contextData = contextData || new GW3ContextData(undefined, name, false, undefined);\r\n            this._contextNameToData[name] = contextData;\r\n            contextData.updateCallbacks[thisCallbackSubscriptionNumber] = callback;\r\n            return Promise.resolve(thisCallbackSubscriptionNumber);\r\n        }\r\n        var hadCallbacks = contextData.hasCallbacks();\r\n        contextData.updateCallbacks[thisCallbackSubscriptionNumber] = callback;\r\n        if (!hadCallbacks) {\r\n            if (!contextData.joinedActivity) {\r\n                if (contextData.context && contextData.sentExplicitSubscription) {\r\n                    var clone = deepClone(contextData.context);\r\n                    callback(clone, clone, [], thisCallbackSubscriptionNumber);\r\n                    return Promise.resolve(thisCallbackSubscriptionNumber);\r\n                }\r\n                return this.sendSubscribe(contextData)\r\n                    .then(function () { return thisCallbackSubscriptionNumber; });\r\n            }\r\n            else {\r\n                var clone = deepClone(contextData.context);\r\n                callback(clone, clone, [], thisCallbackSubscriptionNumber);\r\n                return Promise.resolve(thisCallbackSubscriptionNumber);\r\n            }\r\n        }\r\n        else {\r\n            var clone = deepClone(contextData.context);\r\n            callback(clone, clone, [], thisCallbackSubscriptionNumber);\r\n            return Promise.resolve(thisCallbackSubscriptionNumber);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.unsubscribe = function (subscriptionKey) {\r\n        for (var _i = 0, _a = Object.keys(this._contextNameToData); _i < _a.length; _i++) {\r\n            var name_1 = _a[_i];\r\n            var contextId = this._contextNameToId[name_1];\r\n            var contextData = this._contextNameToData[name_1];\r\n            if (!contextData) {\r\n                return;\r\n            }\r\n            var hadCallbacks = contextData.hasCallbacks();\r\n            delete contextData.updateCallbacks[subscriptionKey];\r\n            if (contextData.isAnnounced &&\r\n                hadCallbacks &&\r\n                !contextData.hasCallbacks() &&\r\n                contextData.sentExplicitSubscription) {\r\n                this.sendUnsubscribe(contextData);\r\n            }\r\n            if (!contextData.isAnnounced &&\r\n                !contextData.hasCallbacks()) {\r\n                delete this._contextNameToData[name_1];\r\n            }\r\n        }\r\n    };\r\n    GW3Bridge.prototype.destroy = function (name) {\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData) {\r\n            return Promise.reject(\"context with \" + name + \" does not exist\");\r\n        }\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_DESTROY_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n        }).then(function (_) { return undefined; });\r\n    };\r\n    GW3Bridge.prototype.handleUpdated = function (contextData, delta, extraData) {\r\n        var oldContext = contextData.context;\r\n        contextData.context = applyContextDelta(contextData.context, delta, this._logger);\r\n        if (this._contextNameToData[contextData.name] === contextData &&\r\n            !deepEqual(oldContext, contextData.context)) {\r\n            this.invokeUpdateCallbacks(contextData, delta, extraData);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.subscribeToContextCreatedMessages = function () {\r\n        var createdMessageTypes = [\r\n            GW_MESSAGE_CONTEXT_ADDED,\r\n            GW_MESSAGE_CONTEXT_CREATED,\r\n            GW_MESSAGE_ACTIVITY_CREATED,\r\n        ];\r\n        for (var _i = 0, createdMessageTypes_1 = createdMessageTypes; _i < createdMessageTypes_1.length; _i++) {\r\n            var createdMessageType = createdMessageTypes_1[_i];\r\n            var sub = this._connection.on(createdMessageType, this.handleContextCreatedMessage.bind(this));\r\n            this._gw3Subscriptions.push(sub);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.handleContextCreatedMessage = function (contextCreatedMsg) {\r\n        var createdMessageType = contextCreatedMsg.type;\r\n        if (createdMessageType === GW_MESSAGE_ACTIVITY_CREATED) {\r\n            this._contextNameToId[contextCreatedMsg.activity_id] = contextCreatedMsg.context_id;\r\n            this._contextIdToName[contextCreatedMsg.context_id] = contextCreatedMsg.activity_id;\r\n        }\r\n        else if (createdMessageType === GW_MESSAGE_CONTEXT_ADDED) {\r\n            this._contextNameToId[contextCreatedMsg.name] = contextCreatedMsg.context_id;\r\n            this._contextIdToName[contextCreatedMsg.context_id] = contextCreatedMsg.name;\r\n        }\r\n        var name = this._contextIdToName[contextCreatedMsg.context_id];\r\n        if (!name) {\r\n            throw new Error(\"Received created event for context with unknown name: \" + contextCreatedMsg.context_id);\r\n        }\r\n        if (!this._contextNameToId[name]) {\r\n            throw new Error(\"Received created event for context with unknown id: \" + contextCreatedMsg.context_id);\r\n        }\r\n        var contextData = this._contextNameToData[name];\r\n        if (contextData) {\r\n            if (contextData.isAnnounced) {\r\n                return;\r\n            }\r\n            else {\r\n                if (!contextData.hasCallbacks()) {\r\n                    throw new Error(\"Assertion failure: contextData.hasCallbacks()\");\r\n                }\r\n                contextData.isAnnounced = true;\r\n                contextData.contextId = contextCreatedMsg.context_id;\r\n                contextData.activityId = contextCreatedMsg.activity_id;\r\n                if (!contextData.sentExplicitSubscription) {\r\n                    this.sendSubscribe(contextData);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            this._contextNameToData[name] = contextData =\r\n                new GW3ContextData(contextCreatedMsg.context_id, name, true, contextCreatedMsg.activity_id);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.subscribeToContextUpdatedMessages = function () {\r\n        var updatedMessageTypes = [\r\n            GW_MESSAGE_CONTEXT_UPDATED,\r\n            GW_MESSAGE_SUBSCRIBED_CONTEXT,\r\n            GW_MESSAGE_JOINED_ACTIVITY,\r\n        ];\r\n        for (var _i = 0, updatedMessageTypes_1 = updatedMessageTypes; _i < updatedMessageTypes_1.length; _i++) {\r\n            var updatedMessageType = updatedMessageTypes_1[_i];\r\n            var sub = this._connection.on(updatedMessageType, this.handleContextUpdatedMessage.bind(this));\r\n            this._gw3Subscriptions.push(sub);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.handleContextUpdatedMessage = function (contextUpdatedMsg) {\r\n        var updatedMessageType = contextUpdatedMsg.type;\r\n        var contextId = contextUpdatedMsg.context_id;\r\n        var contextData = this._contextNameToData[this._contextIdToName[contextId]];\r\n        var justSeen = !contextData || !contextData.isAnnounced;\r\n        if (updatedMessageType === GW_MESSAGE_JOINED_ACTIVITY) {\r\n            if (!contextData) {\r\n                contextData = new GW3ContextData(contextId, contextUpdatedMsg.activity_id, true, contextUpdatedMsg.activity_id);\r\n                this._contextNameToData[contextUpdatedMsg.activity_id] = contextData;\r\n                this._contextIdToName[contextId] = contextUpdatedMsg.activity_id;\r\n                this._contextNameToId[contextUpdatedMsg.activity_id] = contextId;\r\n            }\r\n            else {\r\n                contextData.contextId = contextId;\r\n                contextData.isAnnounced = true;\r\n                contextData.activityId = contextUpdatedMsg.activity_id;\r\n            }\r\n            contextData.joinedActivity = true;\r\n        }\r\n        else {\r\n            if (!contextData || !contextData.isAnnounced) {\r\n                if (updatedMessageType === GW_MESSAGE_SUBSCRIBED_CONTEXT) {\r\n                    contextData = contextData || new GW3ContextData(contextId, contextUpdatedMsg.name, true, undefined);\r\n                    contextData.sentExplicitSubscription = true;\r\n                    this._contextNameToData[contextUpdatedMsg.name] = contextData;\r\n                    this._contextIdToName[contextId] = contextUpdatedMsg.name;\r\n                    this._contextNameToId[contextUpdatedMsg.name] = contextId;\r\n                }\r\n                else {\r\n                    this._logger.error(\"Received 'update' for unknown context: \" + contextId);\r\n                }\r\n                return;\r\n            }\r\n        }\r\n        var oldContext = contextData.context;\r\n        if (updatedMessageType === GW_MESSAGE_SUBSCRIBED_CONTEXT) {\r\n            contextData.context = contextUpdatedMsg.data || {};\r\n        }\r\n        else if (updatedMessageType === GW_MESSAGE_JOINED_ACTIVITY) {\r\n            contextData.context = contextUpdatedMsg.context_snapshot || {};\r\n        }\r\n        else if (updatedMessageType === GW_MESSAGE_CONTEXT_UPDATED) {\r\n            contextData.context = applyContextDelta(contextData.context, contextUpdatedMsg.delta, this._logger);\r\n        }\r\n        else {\r\n            throw new Error(\"Unrecognized context update message \" + updatedMessageType);\r\n        }\r\n        if (justSeen ||\r\n            !deepEqual(contextData.context, oldContext) ||\r\n            updatedMessageType === GW_MESSAGE_SUBSCRIBED_CONTEXT) {\r\n            this.invokeUpdateCallbacks(contextData, contextUpdatedMsg.delta, { updaterId: contextUpdatedMsg.updater_id });\r\n        }\r\n    };\r\n    GW3Bridge.prototype.invokeUpdateCallbacks = function (contextData, delta, extraData) {\r\n        delta = delta || { added: {}, updated: {}, reset: {}, removed: [] };\r\n        if (delta.commands) {\r\n            delta.added = delta.updated = delta.reset = {};\r\n            delta.removed = [];\r\n            for (var _i = 0, _a = delta.commands; _i < _a.length; _i++) {\r\n                var command = _a[_i];\r\n                if (command.type === \"remove\") {\r\n                    if (command.path.indexOf(\".\") === -1) {\r\n                        delta.removed.push(command.path);\r\n                    }\r\n                    setValueToPath(delta.updated, null, command.path);\r\n                }\r\n                else if (command.type === \"set\") {\r\n                    setValueToPath(delta.updated, command.value, command.path);\r\n                }\r\n            }\r\n        }\r\n        for (var updateCallbackIndex in contextData.updateCallbacks) {\r\n            if (contextData.updateCallbacks.hasOwnProperty(updateCallbackIndex)) {\r\n                try {\r\n                    var updateCallback = contextData.updateCallbacks[updateCallbackIndex];\r\n                    updateCallback(deepClone(contextData.context), Object.assign({}, delta.added || {}, delta.updated || {}, delta.reset || {}), delta.removed, parseInt(updateCallbackIndex, 10), extraData);\r\n                }\r\n                catch (err) {\r\n                    this._logger.debug(\"callback error: \" + JSON.stringify(err));\r\n                }\r\n            }\r\n        }\r\n    };\r\n    GW3Bridge.prototype.subscribeToContextDestroyedMessages = function () {\r\n        var destroyedMessageTypes = [\r\n            GW_MESSAGE_CONTEXT_DESTROYED,\r\n            GW_MESSAGE_ACTIVITY_DESTROYED,\r\n        ];\r\n        for (var _i = 0, destroyedMessageTypes_1 = destroyedMessageTypes; _i < destroyedMessageTypes_1.length; _i++) {\r\n            var destroyedMessageType = destroyedMessageTypes_1[_i];\r\n            var sub = this._connection.on(destroyedMessageType, this.handleContextDestroyedMessage.bind(this));\r\n            this._gw3Subscriptions.push(sub);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.handleContextDestroyedMessage = function (destroyedMsg) {\r\n        var destroyedMessageType = destroyedMsg.type;\r\n        var contextId;\r\n        var name;\r\n        if (destroyedMessageType === GW_MESSAGE_ACTIVITY_DESTROYED) {\r\n            name = destroyedMsg.activity_id;\r\n            contextId = this._contextNameToId[name];\r\n            if (!contextId) {\r\n                this._logger.error(\"Received 'destroyed' for unknown activity: \" + destroyedMsg.activity_id);\r\n                return;\r\n            }\r\n        }\r\n        else {\r\n            contextId = destroyedMsg.context_id;\r\n            name = this._contextIdToName[contextId];\r\n            if (!name) {\r\n                this._logger.error(\"Received 'destroyed' for unknown context: \" + destroyedMsg.context_id);\r\n                return;\r\n            }\r\n        }\r\n        delete this._contextIdToName[contextId];\r\n        delete this._contextNameToId[name];\r\n        var contextData = this._contextNameToData[name];\r\n        delete this._contextNameToData[name];\r\n        if (!contextData || !contextData.isAnnounced) {\r\n            this._logger.error(\"Received 'destroyed' for unknown context: \" + contextId);\r\n            return;\r\n        }\r\n    };\r\n    GW3Bridge.prototype.sendSubscribe = function (contextData) {\r\n        contextData.sentExplicitSubscription = true;\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_SUBSCRIBE_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n        }).then(function (_) { return undefined; });\r\n    };\r\n    GW3Bridge.prototype.sendUnsubscribe = function (contextData) {\r\n        contextData.sentExplicitSubscription = false;\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_UNSUBSCRIBE_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n        }).then(function (_) { return undefined; });\r\n    };\r\n    GW3Bridge.prototype.calculateContextDeltaV1 = function (from, to) {\r\n        var delta = { added: {}, updated: {}, removed: [], reset: undefined };\r\n        if (from) {\r\n            for (var _i = 0, _a = Object.keys(from); _i < _a.length; _i++) {\r\n                var x = _a[_i];\r\n                if (Object.keys(to).indexOf(x) !== -1\r\n                    && to[x] !== null\r\n                    && !deepEqual(from[x], to[x])) {\r\n                    delta.updated[x] = to[x];\r\n                }\r\n            }\r\n        }\r\n        for (var _b = 0, _c = Object.keys(to); _b < _c.length; _b++) {\r\n            var x = _c[_b];\r\n            if (!from || (Object.keys(from).indexOf(x) === -1)) {\r\n                if (to[x] !== null) {\r\n                    delta.added[x] = to[x];\r\n                }\r\n            }\r\n            else if (to[x] === null) {\r\n                delta.removed.push(x);\r\n            }\r\n        }\r\n        return delta;\r\n    };\r\n    GW3Bridge.prototype.calculateContextDeltaV2 = function (from, to) {\r\n        var _a, _b;\r\n        var delta = { added: {}, updated: {}, removed: [], reset: undefined, commands: [] };\r\n        for (var _i = 0, _c = Object.keys(to); _i < _c.length; _i++) {\r\n            var x = _c[_i];\r\n            if (to[x] !== null) {\r\n                var fromX = from ? from[x] : null;\r\n                if (!deepEqual(fromX, to[x])) {\r\n                    (_a = delta.commands) === null || _a === void 0 ? void 0 : _a.push({ type: \"set\", path: x, value: to[x] });\r\n                }\r\n            }\r\n            else {\r\n                (_b = delta.commands) === null || _b === void 0 ? void 0 : _b.push({ type: \"remove\", path: x });\r\n            }\r\n        }\r\n        return delta;\r\n    };\r\n    return GW3Bridge;\r\n}());\n\nvar ContextsModule = (function () {\r\n    function ContextsModule(config) {\r\n        this._bridge = new GW3Bridge(config);\r\n    }\r\n    ContextsModule.prototype.all = function () {\r\n        return this._bridge.all();\r\n    };\r\n    ContextsModule.prototype.update = function (name, data) {\r\n        this.checkName(name);\r\n        this.checkData(data);\r\n        return this._bridge.update(name, data);\r\n    };\r\n    ContextsModule.prototype.set = function (name, data) {\r\n        this.checkName(name);\r\n        this.checkData(data);\r\n        return this._bridge.set(name, data);\r\n    };\r\n    ContextsModule.prototype.setPath = function (name, path, data) {\r\n        this.checkName(name);\r\n        this.checkPath(path);\r\n        var isTopLevelPath = path === \"\";\r\n        if (isTopLevelPath) {\r\n            this.checkData(data);\r\n            return this.set(name, data);\r\n        }\r\n        return this._bridge.setPath(name, path, data);\r\n    };\r\n    ContextsModule.prototype.setPaths = function (name, paths) {\r\n        this.checkName(name);\r\n        if (!Array.isArray(paths)) {\r\n            throw new Error(\"Please provide the paths as an array of PathValues!\");\r\n        }\r\n        for (var _i = 0, paths_1 = paths; _i < paths_1.length; _i++) {\r\n            var _a = paths_1[_i], path = _a.path, value = _a.value;\r\n            this.checkPath(path);\r\n            var isTopLevelPath = path === \"\";\r\n            if (isTopLevelPath) {\r\n                this.checkData(value);\r\n            }\r\n        }\r\n        return this._bridge.setPaths(name, paths);\r\n    };\r\n    ContextsModule.prototype.subscribe = function (name, callback) {\r\n        var _this = this;\r\n        this.checkName(name);\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"Please provide the callback as a function!\");\r\n        }\r\n        return this._bridge\r\n            .subscribe(name, function (data, delta, removed, key, extraData) { return callback(data, delta, removed, function () { return _this._bridge.unsubscribe(key); }, extraData); })\r\n            .then(function (key) {\r\n            return function () {\r\n                _this._bridge.unsubscribe(key);\r\n            };\r\n        });\r\n    };\r\n    ContextsModule.prototype.get = function (name) {\r\n        this.checkName(name);\r\n        return this._bridge.get(name);\r\n    };\r\n    ContextsModule.prototype.ready = function () {\r\n        return Promise.resolve(this);\r\n    };\r\n    ContextsModule.prototype.destroy = function (name) {\r\n        this.checkName(name);\r\n        return this._bridge.destroy(name);\r\n    };\r\n    Object.defineProperty(ContextsModule.prototype, \"setPathSupported\", {\r\n        get: function () {\r\n            return this._bridge.setPathSupported;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ContextsModule.prototype.checkName = function (name) {\r\n        if (typeof name !== \"string\" || name === \"\") {\r\n            throw new Error(\"Please provide the name as a non-empty string!\");\r\n        }\r\n    };\r\n    ContextsModule.prototype.checkPath = function (path) {\r\n        if (typeof path !== \"string\") {\r\n            throw new Error(\"Please provide the path as a dot delimited string!\");\r\n        }\r\n    };\r\n    ContextsModule.prototype.checkData = function (data) {\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Please provide the data as an object!\");\r\n        }\r\n    };\r\n    return ContextsModule;\r\n}());\n\nfunction promisify (promise, successCallback, errorCallback) {\r\n    if (typeof successCallback !== \"function\" && typeof errorCallback !== \"function\") {\r\n        return promise;\r\n    }\r\n    if (typeof successCallback !== \"function\") {\r\n        successCallback = function () { };\r\n    }\r\n    else if (typeof errorCallback !== \"function\") {\r\n        errorCallback = function () { };\r\n    }\r\n    return promise.then(successCallback, errorCallback);\r\n}\n\nfunction rejectAfter(ms, promise, error) {\r\n    if (ms === void 0) { ms = 0; }\r\n    var timeout;\r\n    var clearTimeoutIfThere = function () {\r\n        if (timeout) {\r\n            clearTimeout(timeout);\r\n        }\r\n    };\r\n    promise\r\n        .then(function () {\r\n        clearTimeoutIfThere();\r\n    })\r\n        .catch(function () {\r\n        clearTimeoutIfThere();\r\n    });\r\n    return new Promise(function (resolve, reject) {\r\n        timeout = setTimeout(function () { return reject(error); }, ms);\r\n    });\r\n}\n\nvar InvokeStatus;\r\n(function (InvokeStatus) {\r\n    InvokeStatus[InvokeStatus[\"Success\"] = 0] = \"Success\";\r\n    InvokeStatus[InvokeStatus[\"Error\"] = 1] = \"Error\";\r\n})(InvokeStatus || (InvokeStatus = {}));\r\nvar Client = (function () {\r\n    function Client(protocol, repo, instance, configuration) {\r\n        this.protocol = protocol;\r\n        this.repo = repo;\r\n        this.instance = instance;\r\n        this.configuration = configuration;\r\n    }\r\n    Client.prototype.subscribe = function (method, options, successCallback, errorCallback, existingSub) {\r\n        var _this = this;\r\n        var callProtocolSubscribe = function (targetServers, stream, successProxy, errorProxy) {\r\n            var _a;\r\n            options.methodResponseTimeout = (_a = options.methodResponseTimeout) !== null && _a !== void 0 ? _a : options.waitTimeoutMs;\r\n            _this.protocol.client.subscribe(stream, options, targetServers, successProxy, errorProxy, existingSub);\r\n        };\r\n        var promise = new Promise(function (resolve, reject) {\r\n            var successProxy = function (sub) {\r\n                resolve(sub);\r\n            };\r\n            var errorProxy = function (err) {\r\n                reject(err);\r\n            };\r\n            if (!method) {\r\n                reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n                return;\r\n            }\r\n            var methodDef;\r\n            if (typeof method === \"string\") {\r\n                methodDef = { name: method };\r\n            }\r\n            else {\r\n                methodDef = method;\r\n            }\r\n            if (!methodDef.name) {\r\n                reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n                return;\r\n            }\r\n            if (options === undefined) {\r\n                options = {};\r\n            }\r\n            var target = options.target;\r\n            if (target === undefined) {\r\n                target = \"best\";\r\n            }\r\n            if (typeof target === \"string\" && target !== \"all\" && target !== \"best\") {\r\n                reject(new Error(\"\\\"\" + target + \"\\\" is not a valid target. Valid targets are \\\"all\\\", \\\"best\\\", or an instance.\"));\r\n                return;\r\n            }\r\n            if (options.methodResponseTimeout === undefined) {\r\n                options.methodResponseTimeout = options.method_response_timeout;\r\n                if (options.methodResponseTimeout === undefined) {\r\n                    options.methodResponseTimeout = _this.configuration.methodResponseTimeout;\r\n                }\r\n            }\r\n            if (options.waitTimeoutMs === undefined) {\r\n                options.waitTimeoutMs = options.wait_for_method_timeout;\r\n                if (options.waitTimeoutMs === undefined) {\r\n                    options.waitTimeoutMs = _this.configuration.waitTimeoutMs;\r\n                }\r\n            }\r\n            var delayStep = 500;\r\n            var delayTillNow = 0;\r\n            var currentServers = _this.getServerMethodsByFilterAndTarget(methodDef, target);\r\n            if (currentServers.length > 0) {\r\n                callProtocolSubscribe(currentServers, currentServers[0].methods[0], successProxy, errorProxy);\r\n            }\r\n            else {\r\n                var retry_1 = function () {\r\n                    if (!target || !(options.waitTimeoutMs)) {\r\n                        return;\r\n                    }\r\n                    delayTillNow += delayStep;\r\n                    currentServers = _this.getServerMethodsByFilterAndTarget(methodDef, target);\r\n                    if (currentServers.length > 0) {\r\n                        var streamInfo = currentServers[0].methods[0];\r\n                        callProtocolSubscribe(currentServers, streamInfo, successProxy, errorProxy);\r\n                    }\r\n                    else if (delayTillNow >= options.waitTimeoutMs) {\r\n                        var def = typeof method === \"string\" ? { name: method } : method;\r\n                        callProtocolSubscribe(currentServers, def, successProxy, errorProxy);\r\n                    }\r\n                    else {\r\n                        setTimeout(retry_1, delayStep);\r\n                    }\r\n                };\r\n                setTimeout(retry_1, delayStep);\r\n            }\r\n        });\r\n        return promisify(promise, successCallback, errorCallback);\r\n    };\r\n    Client.prototype.servers = function (methodFilter) {\r\n        var filterCopy = methodFilter === undefined\r\n            ? undefined\r\n            : __assign$1({}, methodFilter);\r\n        return this.getServers(filterCopy).map(function (serverMethodMap) {\r\n            return serverMethodMap.server.instance;\r\n        });\r\n    };\r\n    Client.prototype.methods = function (methodFilter) {\r\n        if (typeof methodFilter === \"string\") {\r\n            methodFilter = { name: methodFilter };\r\n        }\r\n        else {\r\n            methodFilter = __assign$1({}, methodFilter);\r\n        }\r\n        return this.getMethods(methodFilter);\r\n    };\r\n    Client.prototype.methodsForInstance = function (instance) {\r\n        return this.getMethodsForInstance(instance);\r\n    };\r\n    Client.prototype.methodAdded = function (callback) {\r\n        return this.repo.onMethodAdded(callback);\r\n    };\r\n    Client.prototype.methodRemoved = function (callback) {\r\n        return this.repo.onMethodRemoved(callback);\r\n    };\r\n    Client.prototype.serverAdded = function (callback) {\r\n        return this.repo.onServerAdded(callback);\r\n    };\r\n    Client.prototype.serverRemoved = function (callback) {\r\n        return this.repo.onServerRemoved(function (server, reason) {\r\n            callback(server, reason);\r\n        });\r\n    };\r\n    Client.prototype.serverMethodAdded = function (callback) {\r\n        return this.repo.onServerMethodAdded(function (server, method) {\r\n            callback({ server: server, method: method });\r\n        });\r\n    };\r\n    Client.prototype.serverMethodRemoved = function (callback) {\r\n        return this.repo.onServerMethodRemoved(function (server, method) {\r\n            callback({ server: server, method: method });\r\n        });\r\n    };\r\n    Client.prototype.invoke = function (methodFilter, argumentObj, target, additionalOptions, success, error) {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var getInvokePromise;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                getInvokePromise = function () { return __awaiter$1(_this, void 0, void 0, function () {\r\n                    var methodDefinition, serversMethodMap, err_1, method, errorObj, timeout, additionalOptionsCopy, invokePromises, invocationMessages, results, allRejected;\r\n                    var _this = this;\r\n                    var _a, _b, _c;\r\n                    return __generator(this, function (_d) {\r\n                        switch (_d.label) {\r\n                            case 0:\r\n                                if (typeof methodFilter === \"string\") {\r\n                                    methodDefinition = { name: methodFilter };\r\n                                }\r\n                                else {\r\n                                    methodDefinition = __assign$1({}, methodFilter);\r\n                                }\r\n                                if (!methodDefinition.name) {\r\n                                    return [2, Promise.reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\")];\r\n                                }\r\n                                if (!argumentObj) {\r\n                                    argumentObj = {};\r\n                                }\r\n                                if (!target) {\r\n                                    target = \"best\";\r\n                                }\r\n                                if (typeof target === \"string\" && target !== \"all\" && target !== \"best\" && target !== \"skipMine\") {\r\n                                    return [2, Promise.reject(new Error(\"\\\"\" + target + \"\\\" is not a valid target. Valid targets are \\\"all\\\" and \\\"best\\\".\"))];\r\n                                }\r\n                                if (!additionalOptions) {\r\n                                    additionalOptions = {};\r\n                                }\r\n                                if (additionalOptions.methodResponseTimeoutMs === undefined) {\r\n                                    additionalOptions.methodResponseTimeoutMs = additionalOptions.method_response_timeout;\r\n                                    if (additionalOptions.methodResponseTimeoutMs === undefined) {\r\n                                        additionalOptions.methodResponseTimeoutMs = this.configuration.methodResponseTimeout;\r\n                                    }\r\n                                }\r\n                                if (additionalOptions.waitTimeoutMs === undefined) {\r\n                                    additionalOptions.waitTimeoutMs = additionalOptions.wait_for_method_timeout;\r\n                                    if (additionalOptions.waitTimeoutMs === undefined) {\r\n                                        additionalOptions.waitTimeoutMs = this.configuration.waitTimeoutMs;\r\n                                    }\r\n                                }\r\n                                if (additionalOptions.waitTimeoutMs !== undefined && typeof additionalOptions.waitTimeoutMs !== \"number\") {\r\n                                    return [2, Promise.reject(new Error(\"\\\"\" + additionalOptions.waitTimeoutMs + \"\\\" is not a valid number for \\\"waitTimeoutMs\\\" \"))];\r\n                                }\r\n                                if (typeof argumentObj !== \"object\") {\r\n                                    return [2, Promise.reject(new Error(\"The method arguments must be an object. method: \" + methodDefinition.name))];\r\n                                }\r\n                                serversMethodMap = this.getServerMethodsByFilterAndTarget(methodDefinition, target);\r\n                                if (!(serversMethodMap.length === 0)) return [3, 4];\r\n                                _d.label = 1;\r\n                            case 1:\r\n                                _d.trys.push([1, 3, , 4]);\r\n                                return [4, this.tryToAwaitForMethods(methodDefinition, target, additionalOptions)];\r\n                            case 2:\r\n                                serversMethodMap = _d.sent();\r\n                                return [3, 4];\r\n                            case 3:\r\n                                err_1 = _d.sent();\r\n                                method = __assign$1(__assign$1({}, methodDefinition), { getServers: function () { return []; }, supportsStreaming: false, objectTypes: (_a = methodDefinition.objectTypes) !== null && _a !== void 0 ? _a : [], flags: (_c = (_b = methodDefinition.flags) === null || _b === void 0 ? void 0 : _b.metadata) !== null && _c !== void 0 ? _c : {} });\r\n                                errorObj = {\r\n                                    method: method,\r\n                                    called_with: argumentObj,\r\n                                    message: \"Can not find a method matching \" + JSON.stringify(methodFilter) + \" with server filter \" + JSON.stringify(target),\r\n                                    executed_by: undefined,\r\n                                    returned: undefined,\r\n                                    status: undefined,\r\n                                };\r\n                                return [2, Promise.reject(errorObj)];\r\n                            case 4:\r\n                                timeout = additionalOptions.methodResponseTimeoutMs;\r\n                                additionalOptionsCopy = additionalOptions;\r\n                                invokePromises = serversMethodMap.map(function (serversMethodPair) {\r\n                                    var invId = shortid();\r\n                                    var method = serversMethodPair.methods[0];\r\n                                    var server = serversMethodPair.server;\r\n                                    var invokePromise = _this.protocol.client.invoke(invId, method, argumentObj, server, additionalOptionsCopy);\r\n                                    return Promise.race([\r\n                                        invokePromise,\r\n                                        rejectAfter(timeout, invokePromise, {\r\n                                            invocationId: invId,\r\n                                            message: \"Invocation timeout (\" + timeout + \" ms) reached for method name: \" + (method === null || method === void 0 ? void 0 : method.name) + \", target instance: \" + JSON.stringify(server.instance) + \", options: \" + JSON.stringify(additionalOptionsCopy),\r\n                                            status: InvokeStatus.Error,\r\n                                        })\r\n                                    ]);\r\n                                });\r\n                                return [4, Promise.all(invokePromises)];\r\n                            case 5:\r\n                                invocationMessages = _d.sent();\r\n                                results = this.getInvocationResultObj(invocationMessages, methodDefinition, argumentObj);\r\n                                allRejected = invocationMessages.every(function (result) { return result.status === InvokeStatus.Error; });\r\n                                if (allRejected) {\r\n                                    return [2, Promise.reject(results)];\r\n                                }\r\n                                return [2, results];\r\n                        }\r\n                    });\r\n                }); };\r\n                return [2, promisify(getInvokePromise(), success, error)];\r\n            });\r\n        });\r\n    };\r\n    Client.prototype.getInvocationResultObj = function (invocationResults, method, calledWith) {\r\n        var all_return_values = invocationResults\r\n            .filter(function (invokeMessage) { return invokeMessage.status === InvokeStatus.Success; })\r\n            .reduce(function (allValues, currentValue) {\r\n            allValues = __spreadArrays(allValues, [\r\n                {\r\n                    executed_by: currentValue.instance,\r\n                    returned: currentValue.result,\r\n                    called_with: calledWith,\r\n                    method: method,\r\n                    message: currentValue.message,\r\n                    status: currentValue.status,\r\n                }\r\n            ]);\r\n            return allValues;\r\n        }, []);\r\n        var all_errors = invocationResults\r\n            .filter(function (invokeMessage) { return invokeMessage.status === InvokeStatus.Error; })\r\n            .reduce(function (allErrors, currError) {\r\n            allErrors = __spreadArrays(allErrors, [\r\n                {\r\n                    executed_by: currError.instance,\r\n                    called_with: calledWith,\r\n                    name: method.name,\r\n                    message: currError.message,\r\n                }\r\n            ]);\r\n            return allErrors;\r\n        }, []);\r\n        var invResult = invocationResults[0];\r\n        var result = {\r\n            method: method,\r\n            called_with: calledWith,\r\n            returned: invResult.result,\r\n            executed_by: invResult.instance,\r\n            all_return_values: all_return_values,\r\n            all_errors: all_errors,\r\n            message: invResult.message,\r\n            status: invResult.status\r\n        };\r\n        return result;\r\n    };\r\n    Client.prototype.tryToAwaitForMethods = function (methodDefinition, target, additionalOptions) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            if (additionalOptions.waitTimeoutMs === 0) {\r\n                reject();\r\n                return;\r\n            }\r\n            var delayStep = 500;\r\n            var delayTillNow = 0;\r\n            var retry = function () {\r\n                delayTillNow += delayStep;\r\n                var serversMethodMap = _this.getServerMethodsByFilterAndTarget(methodDefinition, target);\r\n                if (serversMethodMap.length > 0) {\r\n                    clearInterval(interval);\r\n                    resolve(serversMethodMap);\r\n                }\r\n                else if (delayTillNow >= (additionalOptions.waitTimeoutMs || 10000)) {\r\n                    clearInterval(interval);\r\n                    reject();\r\n                    return;\r\n                }\r\n            };\r\n            var interval = setInterval(retry, delayStep);\r\n        });\r\n    };\r\n    Client.prototype.filterByTarget = function (target, serverMethodMap) {\r\n        var _this = this;\r\n        if (typeof target === \"string\") {\r\n            if (target === \"all\") {\r\n                return __spreadArrays(serverMethodMap);\r\n            }\r\n            else if (target === \"best\") {\r\n                var localMachine = serverMethodMap\r\n                    .find(function (s) { return s.server.instance.isLocal; });\r\n                if (localMachine) {\r\n                    return [localMachine];\r\n                }\r\n                if (serverMethodMap[0] !== undefined) {\r\n                    return [serverMethodMap[0]];\r\n                }\r\n            }\r\n            else if (target === \"skipMine\") {\r\n                return serverMethodMap.filter(function (_a) {\r\n                    var server = _a.server;\r\n                    return server.instance.peerId !== _this.instance.peerId;\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            var targetArray = void 0;\r\n            if (!Array.isArray(target)) {\r\n                targetArray = [target];\r\n            }\r\n            else {\r\n                targetArray = target;\r\n            }\r\n            var allServersMatching = targetArray.reduce(function (matches, filter) {\r\n                var myMatches = serverMethodMap.filter(function (serverMethodPair) {\r\n                    return _this.instanceMatch(filter, serverMethodPair.server.instance);\r\n                });\r\n                return matches.concat(myMatches);\r\n            }, []);\r\n            return allServersMatching;\r\n        }\r\n        return [];\r\n    };\r\n    Client.prototype.instanceMatch = function (instanceFilter, instanceDefinition) {\r\n        return this.containsProps(instanceFilter, instanceDefinition);\r\n    };\r\n    Client.prototype.methodMatch = function (methodFilter, methodDefinition) {\r\n        return this.containsProps(methodFilter, methodDefinition);\r\n    };\r\n    Client.prototype.containsProps = function (filter, repoMethod) {\r\n        var filterProps = Object.keys(filter)\r\n            .filter(function (prop) {\r\n            return filter[prop] !== undefined\r\n                && typeof filter[prop] !== \"function\"\r\n                && prop !== \"object_types\"\r\n                && prop !== \"display_name\"\r\n                && prop !== \"id\"\r\n                && prop !== \"gatewayId\"\r\n                && prop !== \"identifier\"\r\n                && prop[0] !== \"_\";\r\n        });\r\n        return filterProps.every(function (prop) {\r\n            var isMatch;\r\n            var filterValue = filter[prop];\r\n            var repoMethodValue = repoMethod[prop];\r\n            switch (prop) {\r\n                case \"objectTypes\":\r\n                    isMatch = (filterValue || []).every(function (filterValueEl) {\r\n                        return (repoMethodValue || []).includes(filterValueEl);\r\n                    });\r\n                    break;\r\n                case \"flags\":\r\n                    isMatch = isSubset(repoMethodValue || {}, filterValue || {});\r\n                    break;\r\n                default:\r\n                    isMatch = String(filterValue).toLowerCase() === String(repoMethodValue).toLowerCase();\r\n            }\r\n            return isMatch;\r\n        });\r\n    };\r\n    Client.prototype.getMethods = function (methodFilter) {\r\n        var _this = this;\r\n        if (methodFilter === undefined) {\r\n            return this.repo.getMethods();\r\n        }\r\n        var methods = this.repo.getMethods().filter(function (method) {\r\n            return _this.methodMatch(methodFilter, method);\r\n        });\r\n        return methods;\r\n    };\r\n    Client.prototype.getMethodsForInstance = function (instanceFilter) {\r\n        var _this = this;\r\n        var allServers = this.repo.getServers();\r\n        var matchingServers = allServers.filter(function (server) {\r\n            return _this.instanceMatch(instanceFilter, server.instance);\r\n        });\r\n        if (matchingServers.length === 0) {\r\n            return [];\r\n        }\r\n        var resultMethodsObject = {};\r\n        if (matchingServers.length === 1) {\r\n            resultMethodsObject = matchingServers[0].methods;\r\n        }\r\n        else {\r\n            matchingServers.forEach(function (server) {\r\n                Object.keys(server.methods).forEach(function (methodKey) {\r\n                    var method = server.methods[methodKey];\r\n                    resultMethodsObject[method.identifier] = method;\r\n                });\r\n            });\r\n        }\r\n        return Object.keys(resultMethodsObject)\r\n            .map(function (key) {\r\n            return resultMethodsObject[key];\r\n        });\r\n    };\r\n    Client.prototype.getServers = function (methodFilter) {\r\n        var _this = this;\r\n        var servers = this.repo.getServers();\r\n        if (methodFilter === undefined) {\r\n            return servers.map(function (server) {\r\n                return { server: server, methods: [] };\r\n            });\r\n        }\r\n        return servers.reduce(function (prev, current) {\r\n            var methodsForServer = Object.values(current.methods);\r\n            var matchingMethods = methodsForServer.filter(function (method) {\r\n                return _this.methodMatch(methodFilter, method);\r\n            });\r\n            if (matchingMethods.length > 0) {\r\n                prev.push({ server: current, methods: matchingMethods });\r\n            }\r\n            return prev;\r\n        }, []);\r\n    };\r\n    Client.prototype.getServerMethodsByFilterAndTarget = function (methodFilter, target) {\r\n        var serversMethodMap = this.getServers(methodFilter);\r\n        return this.filterByTarget(target, serversMethodMap);\r\n    };\r\n    return Client;\r\n}());\n\nvar ServerSubscription = (function () {\r\n    function ServerSubscription(protocol, repoMethod, subscription) {\r\n        this.protocol = protocol;\r\n        this.repoMethod = repoMethod;\r\n        this.subscription = subscription;\r\n    }\r\n    Object.defineProperty(ServerSubscription.prototype, \"stream\", {\r\n        get: function () {\r\n            if (!this.repoMethod.stream) {\r\n                throw new Error(\"no stream\");\r\n            }\r\n            return this.repoMethod.stream;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ServerSubscription.prototype, \"arguments\", {\r\n        get: function () { return this.subscription.arguments || {}; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ServerSubscription.prototype, \"branchKey\", {\r\n        get: function () { return this.subscription.branchKey; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ServerSubscription.prototype, \"instance\", {\r\n        get: function () {\r\n            if (!this.subscription.instance) {\r\n                throw new Error(\"no instance\");\r\n            }\r\n            return this.subscription.instance;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ServerSubscription.prototype.close = function () {\r\n        this.protocol.server.closeSingleSubscription(this.repoMethod, this.subscription);\r\n    };\r\n    ServerSubscription.prototype.push = function (data) {\r\n        this.protocol.server.pushDataToSingle(this.repoMethod, this.subscription, data);\r\n    };\r\n    return ServerSubscription;\r\n}());\n\nvar Request = (function () {\r\n    function Request(protocol, repoMethod, requestContext) {\r\n        this.protocol = protocol;\r\n        this.repoMethod = repoMethod;\r\n        this.requestContext = requestContext;\r\n        this.arguments = requestContext.arguments;\r\n        this.instance = requestContext.instance;\r\n    }\r\n    Request.prototype.accept = function () {\r\n        this.protocol.server.acceptRequestOnBranch(this.requestContext, this.repoMethod, \"\");\r\n    };\r\n    Request.prototype.acceptOnBranch = function (branch) {\r\n        this.protocol.server.acceptRequestOnBranch(this.requestContext, this.repoMethod, branch);\r\n    };\r\n    Request.prototype.reject = function (reason) {\r\n        this.protocol.server.rejectRequest(this.requestContext, this.repoMethod, reason);\r\n    };\r\n    return Request;\r\n}());\n\nvar ServerStreaming = (function () {\r\n    function ServerStreaming(protocol, server) {\r\n        var _this = this;\r\n        this.protocol = protocol;\r\n        this.server = server;\r\n        protocol.server.onSubRequest(function (rc, rm) { return _this.handleSubRequest(rc, rm); });\r\n        protocol.server.onSubAdded(function (sub, rm) { return _this.handleSubAdded(sub, rm); });\r\n        protocol.server.onSubRemoved(function (sub, rm) { return _this.handleSubRemoved(sub, rm); });\r\n    }\r\n    ServerStreaming.prototype.handleSubRequest = function (requestContext, repoMethod) {\r\n        if (!(repoMethod &&\r\n            repoMethod.streamCallbacks &&\r\n            typeof repoMethod.streamCallbacks.subscriptionRequestHandler === \"function\")) {\r\n            return;\r\n        }\r\n        var request = new Request(this.protocol, repoMethod, requestContext);\r\n        repoMethod.streamCallbacks.subscriptionRequestHandler(request);\r\n    };\r\n    ServerStreaming.prototype.handleSubAdded = function (subscription, repoMethod) {\r\n        if (!(repoMethod &&\r\n            repoMethod.streamCallbacks &&\r\n            typeof repoMethod.streamCallbacks.subscriptionAddedHandler === \"function\")) {\r\n            return;\r\n        }\r\n        var sub = new ServerSubscription(this.protocol, repoMethod, subscription);\r\n        repoMethod.streamCallbacks.subscriptionAddedHandler(sub);\r\n    };\r\n    ServerStreaming.prototype.handleSubRemoved = function (subscription, repoMethod) {\r\n        if (!(repoMethod &&\r\n            repoMethod.streamCallbacks &&\r\n            typeof repoMethod.streamCallbacks.subscriptionRemovedHandler === \"function\")) {\r\n            return;\r\n        }\r\n        var sub = new ServerSubscription(this.protocol, repoMethod, subscription);\r\n        repoMethod.streamCallbacks.subscriptionRemovedHandler(sub);\r\n    };\r\n    return ServerStreaming;\r\n}());\n\nvar ServerBranch = (function () {\r\n    function ServerBranch(key, protocol, repoMethod) {\r\n        this.key = key;\r\n        this.protocol = protocol;\r\n        this.repoMethod = repoMethod;\r\n    }\r\n    ServerBranch.prototype.subscriptions = function () {\r\n        var _this = this;\r\n        var subList = this.protocol.server.getSubscriptionList(this.repoMethod, this.key);\r\n        return subList.map(function (sub) {\r\n            return new ServerSubscription(_this.protocol, _this.repoMethod, sub);\r\n        });\r\n    };\r\n    ServerBranch.prototype.close = function () {\r\n        this.protocol.server.closeAllSubscriptions(this.repoMethod, this.key);\r\n    };\r\n    ServerBranch.prototype.push = function (data) {\r\n        this.protocol.server.pushData(this.repoMethod, data, [this.key]);\r\n    };\r\n    return ServerBranch;\r\n}());\n\nvar ServerStream = (function () {\r\n    function ServerStream(_protocol, _repoMethod, _server) {\r\n        this._protocol = _protocol;\r\n        this._repoMethod = _repoMethod;\r\n        this._server = _server;\r\n        this.name = this._repoMethod.definition.name;\r\n    }\r\n    ServerStream.prototype.branches = function (key) {\r\n        var _this = this;\r\n        var bList = this._protocol.server.getBranchList(this._repoMethod);\r\n        if (key) {\r\n            if (bList.indexOf(key) > -1) {\r\n                return new ServerBranch(key, this._protocol, this._repoMethod);\r\n            }\r\n            return undefined;\r\n        }\r\n        else {\r\n            return bList.map(function (branchKey) {\r\n                return new ServerBranch(branchKey, _this._protocol, _this._repoMethod);\r\n            });\r\n        }\r\n    };\r\n    ServerStream.prototype.branch = function (key) {\r\n        return this.branches(key);\r\n    };\r\n    ServerStream.prototype.subscriptions = function () {\r\n        var _this = this;\r\n        var subList = this._protocol.server.getSubscriptionList(this._repoMethod);\r\n        return subList.map(function (sub) {\r\n            return new ServerSubscription(_this._protocol, _this._repoMethod, sub);\r\n        });\r\n    };\r\n    Object.defineProperty(ServerStream.prototype, \"definition\", {\r\n        get: function () {\r\n            var _a;\r\n            var def2 = this._repoMethod.definition;\r\n            return {\r\n                accepts: def2.accepts,\r\n                description: def2.description,\r\n                displayName: def2.displayName,\r\n                name: def2.name,\r\n                objectTypes: def2.objectTypes,\r\n                returns: def2.returns,\r\n                supportsStreaming: def2.supportsStreaming,\r\n                flags: (_a = def2.flags) === null || _a === void 0 ? void 0 : _a.metadata,\r\n            };\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ServerStream.prototype.close = function () {\r\n        this._protocol.server.closeAllSubscriptions(this._repoMethod);\r\n        this._server.unregister(this._repoMethod.definition, true);\r\n    };\r\n    ServerStream.prototype.push = function (data, branches) {\r\n        if (typeof branches !== \"string\" && !Array.isArray(branches) && branches !== undefined) {\r\n            throw new Error(\"invalid branches should be string or string array\");\r\n        }\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Invalid arguments. Data must be an object.\");\r\n        }\r\n        this._protocol.server.pushData(this._repoMethod, data, branches);\r\n    };\r\n    ServerStream.prototype.updateRepoMethod = function (repoMethod) {\r\n        this._repoMethod = repoMethod;\r\n    };\r\n    return ServerStream;\r\n}());\n\nvar Server = (function () {\r\n    function Server(protocol, serverRepository) {\r\n        this.protocol = protocol;\r\n        this.serverRepository = serverRepository;\r\n        this.invocations = 0;\r\n        this.currentlyUnregistering = {};\r\n        this.streaming = new ServerStreaming(protocol, this);\r\n        this.protocol.server.onInvoked(this.onMethodInvoked.bind(this));\r\n    }\r\n    Server.prototype.createStream = function (streamDef, callbacks, successCallback, errorCallback, existingStream) {\r\n        var _this = this;\r\n        var promise = new Promise(function (resolve, reject) {\r\n            if (!streamDef) {\r\n                reject(\"The stream name must be unique! Please, provide either a unique string for a stream name to \\u201Cglue.interop.createStream()\\u201D or a \\u201CmethodDefinition\\u201D object with a unique \\u201Cname\\u201D property for the stream.\");\r\n                return;\r\n            }\r\n            var streamMethodDefinition;\r\n            if (typeof streamDef === \"string\") {\r\n                streamMethodDefinition = { name: \"\" + streamDef };\r\n            }\r\n            else {\r\n                streamMethodDefinition = __assign$1({}, streamDef);\r\n            }\r\n            if (!streamMethodDefinition.name) {\r\n                return reject(\"The \\u201Cname\\u201D property is required for the \\u201CstreamDefinition\\u201D object and must be unique. Stream definition: \" + JSON.stringify(streamMethodDefinition));\r\n            }\r\n            var nameAlreadyExists = _this.serverRepository.getList()\r\n                .some(function (serverMethod) { return serverMethod.definition.name === streamMethodDefinition.name; });\r\n            if (nameAlreadyExists) {\r\n                return reject(\"A stream with the name \\\"\" + streamMethodDefinition.name + \"\\\" already exists! Please, provide a unique name for the stream.\");\r\n            }\r\n            streamMethodDefinition.supportsStreaming = true;\r\n            if (!callbacks) {\r\n                callbacks = {};\r\n            }\r\n            if (typeof callbacks.subscriptionRequestHandler !== \"function\") {\r\n                callbacks.subscriptionRequestHandler = function (request) {\r\n                    request.accept();\r\n                };\r\n            }\r\n            var repoMethod = _this.serverRepository.add({\r\n                definition: streamMethodDefinition,\r\n                streamCallbacks: callbacks,\r\n                protocolState: {},\r\n            });\r\n            _this.protocol.server.createStream(repoMethod)\r\n                .then(function () {\r\n                var streamUserObject;\r\n                if (existingStream) {\r\n                    streamUserObject = existingStream;\r\n                    existingStream.updateRepoMethod(repoMethod);\r\n                }\r\n                else {\r\n                    streamUserObject = new ServerStream(_this.protocol, repoMethod, _this);\r\n                }\r\n                repoMethod.stream = streamUserObject;\r\n                resolve(streamUserObject);\r\n            })\r\n                .catch(function (err) {\r\n                if (repoMethod.repoId) {\r\n                    _this.serverRepository.remove(repoMethod.repoId);\r\n                }\r\n                reject(err);\r\n            });\r\n        });\r\n        return promisify(promise, successCallback, errorCallback);\r\n    };\r\n    Server.prototype.register = function (methodDefinition, callback) {\r\n        var _this = this;\r\n        if (!methodDefinition) {\r\n            return Promise.reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n        }\r\n        if (typeof callback !== \"function\") {\r\n            return Promise.reject(\"The second parameter must be a callback function. Method: \" + (typeof methodDefinition === \"string\" ? methodDefinition : methodDefinition.name));\r\n        }\r\n        var wrappedCallbackFunction = function (context, resultCallback) { return __awaiter$1(_this, void 0, void 0, function () {\r\n            var result, resultValue, e_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 4, , 5]);\r\n                        result = callback(context.args, context.instance);\r\n                        if (!(result && typeof result.then === \"function\")) return [3, 2];\r\n                        return [4, result];\r\n                    case 1:\r\n                        resultValue = _a.sent();\r\n                        resultCallback(undefined, resultValue);\r\n                        return [3, 3];\r\n                    case 2:\r\n                        resultCallback(undefined, result);\r\n                        _a.label = 3;\r\n                    case 3: return [3, 5];\r\n                    case 4:\r\n                        e_1 = _a.sent();\r\n                        if (!e_1) {\r\n                            e_1 = \"\";\r\n                        }\r\n                        resultCallback(e_1, e_1);\r\n                        return [3, 5];\r\n                    case 5: return [2];\r\n                }\r\n            });\r\n        }); };\r\n        wrappedCallbackFunction.userCallback = callback;\r\n        return this.registerCore(methodDefinition, wrappedCallbackFunction);\r\n    };\r\n    Server.prototype.registerAsync = function (methodDefinition, callback) {\r\n        if (!methodDefinition) {\r\n            return Promise.reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n        }\r\n        if (typeof callback !== \"function\") {\r\n            return Promise.reject(\"The second parameter must be a callback function. Method: \" + (typeof methodDefinition === \"string\" ? methodDefinition : methodDefinition.name));\r\n        }\r\n        var wrappedCallback = function (context, resultCallback) {\r\n            try {\r\n                var resultCalled_1 = false;\r\n                var success = function (result) {\r\n                    if (!resultCalled_1) {\r\n                        resultCallback(undefined, result);\r\n                    }\r\n                    resultCalled_1 = true;\r\n                };\r\n                var error = function (e) {\r\n                    if (!resultCalled_1) {\r\n                        if (!e) {\r\n                            e = \"\";\r\n                        }\r\n                        resultCallback(e, e);\r\n                    }\r\n                    resultCalled_1 = true;\r\n                };\r\n                var methodResult = callback(context.args, context.instance, success, error);\r\n                if (methodResult && typeof methodResult.then === \"function\") {\r\n                    methodResult\r\n                        .then(success)\r\n                        .catch(error);\r\n                }\r\n            }\r\n            catch (e) {\r\n                resultCallback(e, undefined);\r\n            }\r\n        };\r\n        wrappedCallback.userCallbackAsync = callback;\r\n        return this.registerCore(methodDefinition, wrappedCallback);\r\n    };\r\n    Server.prototype.unregister = function (methodFilter, forStream) {\r\n        if (forStream === void 0) { forStream = false; }\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var methodDefinition, methodToBeRemoved;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (methodFilter === undefined) {\r\n                            return [2, Promise.reject(\"Please, provide either a unique string for a name or an object containing a \\u201Cname\\u201D property.\")];\r\n                        }\r\n                        if (!(typeof methodFilter === \"function\")) return [3, 2];\r\n                        return [4, this.unregisterWithPredicate(methodFilter, forStream)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2];\r\n                    case 2:\r\n                        if (typeof methodFilter === \"string\") {\r\n                            methodDefinition = { name: methodFilter };\r\n                        }\r\n                        else {\r\n                            methodDefinition = methodFilter;\r\n                        }\r\n                        if (methodDefinition.name === undefined) {\r\n                            return [2, Promise.reject(\"Method name is required. Cannot find a method if the method name is undefined!\")];\r\n                        }\r\n                        methodToBeRemoved = this.serverRepository.getList().find(function (serverMethod) {\r\n                            return serverMethod.definition.name === methodDefinition.name\r\n                                && (serverMethod.definition.supportsStreaming || false) === forStream;\r\n                        });\r\n                        if (!methodToBeRemoved) {\r\n                            return [2, Promise.reject(\"Method with a name \\\"\" + methodDefinition.name + \"\\\" does not exist or is not registered by your application!\")];\r\n                        }\r\n                        return [4, this.removeMethodsOrStreams([methodToBeRemoved])];\r\n                    case 3:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Server.prototype.unregisterWithPredicate = function (filterPredicate, forStream) {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var methodsOrStreamsToRemove;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        methodsOrStreamsToRemove = this.serverRepository.getList()\r\n                            .filter(function (sm) { return filterPredicate(sm.definition); })\r\n                            .filter(function (serverMethod) {\r\n                            return (serverMethod.definition.supportsStreaming || false) === forStream;\r\n                        });\r\n                        if (!methodsOrStreamsToRemove || methodsOrStreamsToRemove.length === 0) {\r\n                            return [2, Promise.reject(\"Could not find a \" + (forStream ? \"stream\" : \"method\") + \" matching the specified condition!\")];\r\n                        }\r\n                        return [4, this.removeMethodsOrStreams(methodsOrStreamsToRemove)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Server.prototype.removeMethodsOrStreams = function (methodsToRemove) {\r\n        var _this = this;\r\n        var methodUnregPromises = [];\r\n        methodsToRemove.forEach(function (method) {\r\n            var promise = _this.protocol.server.unregister(method)\r\n                .then(function () {\r\n                if (method.repoId) {\r\n                    _this.serverRepository.remove(method.repoId);\r\n                }\r\n            });\r\n            methodUnregPromises.push(promise);\r\n            _this.addAsCurrentlyUnregistering(method.definition.name, promise);\r\n        });\r\n        return Promise.all(methodUnregPromises);\r\n    };\r\n    Server.prototype.addAsCurrentlyUnregistering = function (methodName, promise) {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var timeout;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                timeout = new Promise(function (resolve) { return setTimeout(resolve, 5000); });\r\n                this.currentlyUnregistering[methodName] = Promise.race([promise, timeout]).then(function () {\r\n                    delete _this.currentlyUnregistering[methodName];\r\n                });\r\n                return [2];\r\n            });\r\n        });\r\n    };\r\n    Server.prototype.registerCore = function (method, theFunction) {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var methodDefinition, unregisterInProgress, nameAlreadyExists, repoMethod;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (typeof method === \"string\") {\r\n                            methodDefinition = { name: \"\" + method };\r\n                        }\r\n                        else {\r\n                            methodDefinition = __assign$1({}, method);\r\n                        }\r\n                        if (!methodDefinition.name) {\r\n                            return [2, Promise.reject(\"Please, provide a (unique) string value for the \\u201Cname\\u201D property in the \\u201CmethodDefinition\\u201D object: \" + JSON.stringify(method))];\r\n                        }\r\n                        unregisterInProgress = this.currentlyUnregistering[methodDefinition.name];\r\n                        if (!unregisterInProgress) return [3, 2];\r\n                        return [4, unregisterInProgress];\r\n                    case 1:\r\n                        _a.sent();\r\n                        _a.label = 2;\r\n                    case 2:\r\n                        nameAlreadyExists = this.serverRepository.getList()\r\n                            .some(function (serverMethod) { return serverMethod.definition.name === methodDefinition.name; });\r\n                        if (nameAlreadyExists) {\r\n                            return [2, Promise.reject(\"A method with the name \\\"\" + methodDefinition.name + \"\\\" already exists! Please, provide a unique name for the method.\")];\r\n                        }\r\n                        if (methodDefinition.supportsStreaming) {\r\n                            return [2, Promise.reject(\"When you create methods with \\u201Cglue.interop.register()\\u201D or \\u201Cglue.interop.registerAsync()\\u201D the property \\u201CsupportsStreaming\\u201D cannot be \\u201Ctrue\\u201D. If you want \\u201C\" + methodDefinition.name + \"\\u201D to be a stream, please use the \\u201Cglue.interop.createStream()\\u201D method.\")];\r\n                        }\r\n                        repoMethod = this.serverRepository.add({\r\n                            definition: methodDefinition,\r\n                            theFunction: theFunction,\r\n                            protocolState: {},\r\n                        });\r\n                        return [2, this.protocol.server.register(repoMethod)\r\n                                .catch(function (err) {\r\n                                if (repoMethod === null || repoMethod === void 0 ? void 0 : repoMethod.repoId) {\r\n                                    _this.serverRepository.remove(repoMethod.repoId);\r\n                                }\r\n                                throw err;\r\n                            })];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Server.prototype.onMethodInvoked = function (methodToExecute, invocationId, invocationArgs) {\r\n        var _this = this;\r\n        if (!methodToExecute || !methodToExecute.theFunction) {\r\n            return;\r\n        }\r\n        methodToExecute.theFunction(invocationArgs, function (err, result) {\r\n            if (err !== undefined && err !== null) {\r\n                if (err.message && typeof err.message === \"string\") {\r\n                    err = err.message;\r\n                }\r\n                else if (typeof err !== \"string\") {\r\n                    try {\r\n                        err = JSON.stringify(err);\r\n                    }\r\n                    catch (unStrException) {\r\n                        err = \"un-stringifyable error in onMethodInvoked! Top level prop names: \" + Object.keys(err);\r\n                    }\r\n                }\r\n            }\r\n            if (!result) {\r\n                result = {};\r\n            }\r\n            else if (typeof result !== \"object\" || Array.isArray(result)) {\r\n                result = { _value: result };\r\n            }\r\n            _this.protocol.server.methodInvocationResult(methodToExecute, invocationId, err, result);\r\n        });\r\n    };\r\n    return Server;\r\n}());\n\nvar InstanceWrapper = (function () {\r\n    function InstanceWrapper(API, instance, connection) {\r\n        var _this = this;\r\n        this.wrapped = {};\r\n        this.wrapped.getMethods = function () {\r\n            return API.methodsForInstance(this);\r\n        };\r\n        this.wrapped.getStreams = function () {\r\n            return API.methodsForInstance(this).filter(function (m) { return m.supportsStreaming; });\r\n        };\r\n        if (instance) {\r\n            this.refreshWrappedObject(instance);\r\n        }\r\n        if (connection) {\r\n            connection.loggedIn(function () {\r\n                _this.refresh(connection);\r\n            });\r\n            this.refresh(connection);\r\n        }\r\n    }\r\n    InstanceWrapper.prototype.unwrap = function () {\r\n        return this.wrapped;\r\n    };\r\n    InstanceWrapper.prototype.refresh = function (connection) {\r\n        if (!connection) {\r\n            return;\r\n        }\r\n        var resolvedIdentity = connection === null || connection === void 0 ? void 0 : connection.resolvedIdentity;\r\n        var instance = Object.assign({}, resolvedIdentity !== null && resolvedIdentity !== void 0 ? resolvedIdentity : {}, { peerId: connection === null || connection === void 0 ? void 0 : connection.peerId });\r\n        this.refreshWrappedObject(instance);\r\n    };\r\n    InstanceWrapper.prototype.refreshWrappedObject = function (resolvedIdentity) {\r\n        var _a, _b, _c;\r\n        this.wrapped.user = resolvedIdentity.user;\r\n        this.wrapped.instance = resolvedIdentity.instance;\r\n        this.wrapped.application = (_a = resolvedIdentity.application) !== null && _a !== void 0 ? _a : shortid();\r\n        this.wrapped.applicationName = resolvedIdentity.applicationName;\r\n        this.wrapped.pid = (_c = (_b = resolvedIdentity.pid) !== null && _b !== void 0 ? _b : resolvedIdentity.process) !== null && _c !== void 0 ? _c : Math.floor(Math.random() * 10000000000);\r\n        this.wrapped.machine = resolvedIdentity.machine;\r\n        this.wrapped.environment = resolvedIdentity.environment;\r\n        this.wrapped.region = resolvedIdentity.region;\r\n        this.wrapped.windowId = resolvedIdentity.windowId;\r\n        this.wrapped.isLocal = true;\r\n        this.wrapped.api = resolvedIdentity.api;\r\n        this.wrapped.service = resolvedIdentity.service;\r\n        this.wrapped.peerId = resolvedIdentity.peerId;\r\n    };\r\n    return InstanceWrapper;\r\n}());\n\nvar hideMethodSystemFlags = function (method) {\r\n    return __assign$1(__assign$1({}, method), { flags: method.flags.metadata || {} });\r\n};\r\nvar ClientRepository = (function () {\r\n    function ClientRepository(logger, API) {\r\n        this.logger = logger;\r\n        this.API = API;\r\n        this.servers = {};\r\n        this.methodsCount = {};\r\n        this.callbacks = lib$1();\r\n        var peerId = this.API.instance.peerId;\r\n        this.myServer = {\r\n            id: peerId,\r\n            methods: {},\r\n            instance: this.API.instance,\r\n            wrapper: this.API.unwrappedInstance,\r\n        };\r\n        this.servers[peerId] = this.myServer;\r\n    }\r\n    ClientRepository.prototype.addServer = function (info, serverId) {\r\n        this.logger.debug(\"adding server \" + serverId);\r\n        var current = this.servers[serverId];\r\n        if (current) {\r\n            return current.id;\r\n        }\r\n        var wrapper = new InstanceWrapper(this.API, info);\r\n        var serverEntry = {\r\n            id: serverId,\r\n            methods: {},\r\n            instance: wrapper.unwrap(),\r\n            wrapper: wrapper,\r\n        };\r\n        this.servers[serverId] = serverEntry;\r\n        this.callbacks.execute(\"onServerAdded\", serverEntry.instance);\r\n        return serverId;\r\n    };\r\n    ClientRepository.prototype.removeServerById = function (id, reason) {\r\n        var _this = this;\r\n        var server = this.servers[id];\r\n        if (!server) {\r\n            this.logger.warn(\"not aware of server \" + id + \", my state \" + JSON.stringify(Object.keys(this.servers)));\r\n            return;\r\n        }\r\n        else {\r\n            this.logger.debug(\"removing server \" + id);\r\n        }\r\n        Object.keys(server.methods).forEach(function (methodId) {\r\n            _this.removeServerMethod(id, methodId);\r\n        });\r\n        delete this.servers[id];\r\n        this.callbacks.execute(\"onServerRemoved\", server.instance, reason);\r\n    };\r\n    ClientRepository.prototype.addServerMethod = function (serverId, method) {\r\n        var _a;\r\n        var server = this.servers[serverId];\r\n        if (!server) {\r\n            throw new Error(\"server does not exists\");\r\n        }\r\n        if (server.methods[method.id]) {\r\n            return;\r\n        }\r\n        var identifier = this.createMethodIdentifier(method);\r\n        var that = this;\r\n        var methodDefinition = {\r\n            identifier: identifier,\r\n            gatewayId: method.id,\r\n            name: method.name,\r\n            displayName: method.display_name,\r\n            description: method.description,\r\n            version: method.version,\r\n            objectTypes: method.object_types || [],\r\n            accepts: method.input_signature,\r\n            returns: method.result_signature,\r\n            supportsStreaming: typeof method.flags !== \"undefined\" ? method.flags.streaming : false,\r\n            flags: (_a = method.flags) !== null && _a !== void 0 ? _a : {},\r\n            getServers: function () {\r\n                return that.getServersByMethod(identifier);\r\n            }\r\n        };\r\n        methodDefinition.object_types = methodDefinition.objectTypes;\r\n        methodDefinition.display_name = methodDefinition.displayName;\r\n        methodDefinition.version = methodDefinition.version;\r\n        server.methods[method.id] = methodDefinition;\r\n        var clientMethodDefinition = hideMethodSystemFlags(methodDefinition);\r\n        if (!this.methodsCount[identifier]) {\r\n            this.methodsCount[identifier] = 0;\r\n            this.callbacks.execute(\"onMethodAdded\", clientMethodDefinition);\r\n        }\r\n        this.methodsCount[identifier] = this.methodsCount[identifier] + 1;\r\n        this.callbacks.execute(\"onServerMethodAdded\", server.instance, clientMethodDefinition);\r\n        return methodDefinition;\r\n    };\r\n    ClientRepository.prototype.removeServerMethod = function (serverId, methodId) {\r\n        var server = this.servers[serverId];\r\n        if (!server) {\r\n            throw new Error(\"server does not exists\");\r\n        }\r\n        var method = server.methods[methodId];\r\n        delete server.methods[methodId];\r\n        var clientMethodDefinition = hideMethodSystemFlags(method);\r\n        this.methodsCount[method.identifier] = this.methodsCount[method.identifier] - 1;\r\n        if (this.methodsCount[method.identifier] === 0) {\r\n            this.callbacks.execute(\"onMethodRemoved\", clientMethodDefinition);\r\n        }\r\n        this.callbacks.execute(\"onServerMethodRemoved\", server.instance, clientMethodDefinition);\r\n    };\r\n    ClientRepository.prototype.getMethods = function () {\r\n        return this.extractMethodsFromServers(Object.values(this.servers)).map(hideMethodSystemFlags);\r\n    };\r\n    ClientRepository.prototype.getServers = function () {\r\n        return Object.values(this.servers).map(this.hideServerMethodSystemFlags);\r\n    };\r\n    ClientRepository.prototype.onServerAdded = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onServerAdded\", callback);\r\n        var serversWithMethodsToReplay = this.getServers().map(function (s) { return s.instance; });\r\n        return this.returnUnsubWithDelayedReplay(unsubscribeFunc, serversWithMethodsToReplay, callback);\r\n    };\r\n    ClientRepository.prototype.onMethodAdded = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onMethodAdded\", callback);\r\n        var methodsToReplay = this.getMethods();\r\n        return this.returnUnsubWithDelayedReplay(unsubscribeFunc, methodsToReplay, callback);\r\n    };\r\n    ClientRepository.prototype.onServerMethodAdded = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onServerMethodAdded\", callback);\r\n        var unsubCalled = false;\r\n        var servers = this.getServers();\r\n        setTimeout(function () {\r\n            servers.forEach(function (server) {\r\n                var methods = server.methods;\r\n                Object.keys(methods).forEach(function (methodId) {\r\n                    if (!unsubCalled) {\r\n                        callback(server.instance, methods[methodId]);\r\n                    }\r\n                });\r\n            });\r\n        }, 0);\r\n        return function () {\r\n            unsubCalled = true;\r\n            unsubscribeFunc();\r\n        };\r\n    };\r\n    ClientRepository.prototype.onMethodRemoved = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onMethodRemoved\", callback);\r\n        return unsubscribeFunc;\r\n    };\r\n    ClientRepository.prototype.onServerRemoved = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onServerRemoved\", callback);\r\n        return unsubscribeFunc;\r\n    };\r\n    ClientRepository.prototype.onServerMethodRemoved = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onServerMethodRemoved\", callback);\r\n        return unsubscribeFunc;\r\n    };\r\n    ClientRepository.prototype.getServerById = function (id) {\r\n        return this.hideServerMethodSystemFlags(this.servers[id]);\r\n    };\r\n    ClientRepository.prototype.reset = function () {\r\n        var _a;\r\n        var _this = this;\r\n        Object.keys(this.servers).forEach(function (key) {\r\n            _this.removeServerById(key, \"reset\");\r\n        });\r\n        this.servers = (_a = {},\r\n            _a[this.myServer.id] = this.myServer,\r\n            _a);\r\n        this.methodsCount = {};\r\n    };\r\n    ClientRepository.prototype.createMethodIdentifier = function (methodInfo) {\r\n        var accepts = methodInfo.input_signature !== undefined ? methodInfo.input_signature : \"\";\r\n        var returns = methodInfo.result_signature !== undefined ? methodInfo.result_signature : \"\";\r\n        return (methodInfo.name + accepts + returns).toLowerCase();\r\n    };\r\n    ClientRepository.prototype.getServersByMethod = function (identifier) {\r\n        var allServers = [];\r\n        Object.values(this.servers).forEach(function (server) {\r\n            Object.values(server.methods).forEach(function (method) {\r\n                if (method.identifier === identifier) {\r\n                    allServers.push(server.instance);\r\n                }\r\n            });\r\n        });\r\n        return allServers;\r\n    };\r\n    ClientRepository.prototype.returnUnsubWithDelayedReplay = function (unsubscribeFunc, collectionToReplay, callback) {\r\n        var unsubCalled = false;\r\n        setTimeout(function () {\r\n            collectionToReplay.forEach(function (item) {\r\n                if (!unsubCalled) {\r\n                    callback(item);\r\n                }\r\n            });\r\n        }, 0);\r\n        return function () {\r\n            unsubCalled = true;\r\n            unsubscribeFunc();\r\n        };\r\n    };\r\n    ClientRepository.prototype.hideServerMethodSystemFlags = function (server) {\r\n        var clientMethods = {};\r\n        Object.entries(server.methods).forEach(function (_a) {\r\n            var name = _a[0], method = _a[1];\r\n            clientMethods[name] = hideMethodSystemFlags(method);\r\n        });\r\n        return __assign$1(__assign$1({}, server), { methods: clientMethods });\r\n    };\r\n    ClientRepository.prototype.extractMethodsFromServers = function (servers) {\r\n        var methods = Object.values(servers).reduce(function (clientMethods, server) {\r\n            return __spreadArrays(clientMethods, Object.values(server.methods));\r\n        }, []);\r\n        return methods;\r\n    };\r\n    return ClientRepository;\r\n}());\n\nvar ServerRepository = (function () {\r\n    function ServerRepository() {\r\n        this.nextId = 0;\r\n        this.methods = [];\r\n    }\r\n    ServerRepository.prototype.add = function (method) {\r\n        method.repoId = String(this.nextId);\r\n        this.nextId += 1;\r\n        this.methods.push(method);\r\n        return method;\r\n    };\r\n    ServerRepository.prototype.remove = function (repoId) {\r\n        if (typeof repoId !== \"string\") {\r\n            return new TypeError(\"Expecting a string\");\r\n        }\r\n        this.methods = this.methods.filter(function (m) {\r\n            return m.repoId !== repoId;\r\n        });\r\n    };\r\n    ServerRepository.prototype.getById = function (id) {\r\n        if (typeof id !== \"string\") {\r\n            return undefined;\r\n        }\r\n        return this.methods.find(function (m) {\r\n            return m.repoId === id;\r\n        });\r\n    };\r\n    ServerRepository.prototype.getList = function () {\r\n        return this.methods.map(function (m) { return m; });\r\n    };\r\n    ServerRepository.prototype.length = function () {\r\n        return this.methods.length;\r\n    };\r\n    ServerRepository.prototype.reset = function () {\r\n        this.methods = [];\r\n    };\r\n    return ServerRepository;\r\n}());\n\nvar SUBSCRIPTION_REQUEST = \"onSubscriptionRequest\";\r\nvar SUBSCRIPTION_ADDED = \"onSubscriptionAdded\";\r\nvar SUBSCRIPTION_REMOVED = \"onSubscriptionRemoved\";\r\nvar ServerStreaming$1 = (function () {\r\n    function ServerStreaming(session, repository, serverRepository) {\r\n        var _this = this;\r\n        this.session = session;\r\n        this.repository = repository;\r\n        this.serverRepository = serverRepository;\r\n        this.ERR_URI_SUBSCRIPTION_FAILED = \"com.tick42.agm.errors.subscription.failure\";\r\n        this.callbacks = lib$1();\r\n        this.nextStreamId = 0;\r\n        session.on(\"add-interest\", function (msg) {\r\n            _this.handleAddInterest(msg);\r\n        });\r\n        session.on(\"remove-interest\", function (msg) {\r\n            _this.handleRemoveInterest(msg);\r\n        });\r\n    }\r\n    ServerStreaming.prototype.acceptRequestOnBranch = function (requestContext, streamingMethod, branch) {\r\n        if (typeof branch !== \"string\") {\r\n            branch = \"\";\r\n        }\r\n        if (typeof streamingMethod.protocolState.subscriptionsMap !== \"object\") {\r\n            throw new TypeError(\"The streaming method is missing its subscriptions.\");\r\n        }\r\n        if (!Array.isArray(streamingMethod.protocolState.branchKeyToStreamIdMap)) {\r\n            throw new TypeError(\"The streaming method is missing its branches.\");\r\n        }\r\n        var streamId = this.getStreamId(streamingMethod, branch);\r\n        var key = requestContext.msg.subscription_id;\r\n        var subscription = {\r\n            id: key,\r\n            arguments: requestContext.arguments,\r\n            instance: requestContext.instance,\r\n            branchKey: branch,\r\n            streamId: streamId,\r\n            subscribeMsg: requestContext.msg,\r\n        };\r\n        streamingMethod.protocolState.subscriptionsMap[key] = subscription;\r\n        this.session.sendFireAndForget({\r\n            type: \"accepted\",\r\n            subscription_id: key,\r\n            stream_id: streamId,\r\n        });\r\n        this.callbacks.execute(SUBSCRIPTION_ADDED, subscription, streamingMethod);\r\n    };\r\n    ServerStreaming.prototype.rejectRequest = function (requestContext, streamingMethod, reason) {\r\n        if (typeof reason !== \"string\") {\r\n            reason = \"\";\r\n        }\r\n        this.sendSubscriptionFailed(\"Subscription rejected by user. \" + reason, requestContext.msg.subscription_id);\r\n    };\r\n    ServerStreaming.prototype.pushData = function (streamingMethod, data, branches) {\r\n        var _this = this;\r\n        if (typeof streamingMethod !== \"object\" || !Array.isArray(streamingMethod.protocolState.branchKeyToStreamIdMap)) {\r\n            return;\r\n        }\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Invalid arguments. Data must be an object.\");\r\n        }\r\n        if (typeof branches === \"string\") {\r\n            branches = [branches];\r\n        }\r\n        else if (!Array.isArray(branches) || branches.length <= 0) {\r\n            branches = [];\r\n        }\r\n        var streamIdList = streamingMethod.protocolState.branchKeyToStreamIdMap\r\n            .filter(function (br) {\r\n            if (!branches || branches.length === 0) {\r\n                return true;\r\n            }\r\n            return branches.indexOf(br.key) >= 0;\r\n        }).map(function (br) {\r\n            return br.streamId;\r\n        });\r\n        streamIdList.forEach(function (streamId) {\r\n            var publishMessage = {\r\n                type: \"publish\",\r\n                stream_id: streamId,\r\n                data: data,\r\n            };\r\n            _this.session.sendFireAndForget(publishMessage);\r\n        });\r\n    };\r\n    ServerStreaming.prototype.pushDataToSingle = function (method, subscription, data) {\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Invalid arguments. Data must be an object.\");\r\n        }\r\n        var postMessage = {\r\n            type: \"post\",\r\n            subscription_id: subscription.id,\r\n            data: data,\r\n        };\r\n        this.session.sendFireAndForget(postMessage);\r\n    };\r\n    ServerStreaming.prototype.closeSingleSubscription = function (streamingMethod, subscription) {\r\n        if (streamingMethod.protocolState.subscriptionsMap) {\r\n            delete streamingMethod.protocolState.subscriptionsMap[subscription.id];\r\n        }\r\n        var dropSubscriptionMessage = {\r\n            type: \"drop-subscription\",\r\n            subscription_id: subscription.id,\r\n            reason: \"Server dropping a single subscription\",\r\n        };\r\n        this.session.sendFireAndForget(dropSubscriptionMessage);\r\n        var subscriber = subscription.instance;\r\n        this.callbacks.execute(SUBSCRIPTION_REMOVED, subscription, streamingMethod);\r\n    };\r\n    ServerStreaming.prototype.closeMultipleSubscriptions = function (streamingMethod, branchKey) {\r\n        var _this = this;\r\n        if (typeof streamingMethod !== \"object\" || typeof streamingMethod.protocolState.subscriptionsMap !== \"object\") {\r\n            return;\r\n        }\r\n        if (!streamingMethod.protocolState.subscriptionsMap) {\r\n            return;\r\n        }\r\n        var subscriptionsMap = streamingMethod.protocolState.subscriptionsMap;\r\n        var subscriptionsToClose = Object.keys(subscriptionsMap)\r\n            .map(function (key) {\r\n            return subscriptionsMap[key];\r\n        });\r\n        if (typeof branchKey === \"string\") {\r\n            subscriptionsToClose = subscriptionsToClose.filter(function (sub) {\r\n                return sub.branchKey === branchKey;\r\n            });\r\n        }\r\n        subscriptionsToClose.forEach(function (subscription) {\r\n            delete subscriptionsMap[subscription.id];\r\n            var drop = {\r\n                type: \"drop-subscription\",\r\n                subscription_id: subscription.id,\r\n                reason: \"Server dropping all subscriptions on stream_id: \" + subscription.streamId,\r\n            };\r\n            _this.session.sendFireAndForget(drop);\r\n        });\r\n    };\r\n    ServerStreaming.prototype.getSubscriptionList = function (streamingMethod, branchKey) {\r\n        if (typeof streamingMethod !== \"object\") {\r\n            return [];\r\n        }\r\n        var subscriptions = [];\r\n        if (!streamingMethod.protocolState.subscriptionsMap) {\r\n            return [];\r\n        }\r\n        var subscriptionsMap = streamingMethod.protocolState.subscriptionsMap;\r\n        var allSubscriptions = Object.keys(subscriptionsMap)\r\n            .map(function (key) {\r\n            return subscriptionsMap[key];\r\n        });\r\n        if (typeof branchKey !== \"string\") {\r\n            subscriptions = allSubscriptions;\r\n        }\r\n        else {\r\n            subscriptions = allSubscriptions.filter(function (sub) {\r\n                return sub.branchKey === branchKey;\r\n            });\r\n        }\r\n        return subscriptions;\r\n    };\r\n    ServerStreaming.prototype.getBranchList = function (streamingMethod) {\r\n        if (typeof streamingMethod !== \"object\") {\r\n            return [];\r\n        }\r\n        if (!streamingMethod.protocolState.subscriptionsMap) {\r\n            return [];\r\n        }\r\n        var subscriptionsMap = streamingMethod.protocolState.subscriptionsMap;\r\n        var allSubscriptions = Object.keys(subscriptionsMap)\r\n            .map(function (key) {\r\n            return subscriptionsMap[key];\r\n        });\r\n        var result = [];\r\n        allSubscriptions.forEach(function (sub) {\r\n            var branch = \"\";\r\n            if (typeof sub === \"object\" && typeof sub.branchKey === \"string\") {\r\n                branch = sub.branchKey;\r\n            }\r\n            if (result.indexOf(branch) === -1) {\r\n                result.push(branch);\r\n            }\r\n        });\r\n        return result;\r\n    };\r\n    ServerStreaming.prototype.onSubAdded = function (callback) {\r\n        this.onSubscriptionLifetimeEvent(SUBSCRIPTION_ADDED, callback);\r\n    };\r\n    ServerStreaming.prototype.onSubRequest = function (callback) {\r\n        this.onSubscriptionLifetimeEvent(SUBSCRIPTION_REQUEST, callback);\r\n    };\r\n    ServerStreaming.prototype.onSubRemoved = function (callback) {\r\n        this.onSubscriptionLifetimeEvent(SUBSCRIPTION_REMOVED, callback);\r\n    };\r\n    ServerStreaming.prototype.handleRemoveInterest = function (msg) {\r\n        var streamingMethod = this.serverRepository.getById(msg.method_id);\r\n        if (typeof msg.subscription_id !== \"string\" ||\r\n            typeof streamingMethod !== \"object\") {\r\n            return;\r\n        }\r\n        if (!streamingMethod.protocolState.subscriptionsMap) {\r\n            return;\r\n        }\r\n        if (typeof streamingMethod.protocolState.subscriptionsMap[msg.subscription_id] !== \"object\") {\r\n            return;\r\n        }\r\n        var subscription = streamingMethod.protocolState.subscriptionsMap[msg.subscription_id];\r\n        delete streamingMethod.protocolState.subscriptionsMap[msg.subscription_id];\r\n        this.callbacks.execute(SUBSCRIPTION_REMOVED, subscription, streamingMethod);\r\n    };\r\n    ServerStreaming.prototype.onSubscriptionLifetimeEvent = function (eventName, handlerFunc) {\r\n        this.callbacks.add(eventName, handlerFunc);\r\n    };\r\n    ServerStreaming.prototype.getNextStreamId = function () {\r\n        return this.nextStreamId++ + \"\";\r\n    };\r\n    ServerStreaming.prototype.handleAddInterest = function (msg) {\r\n        var caller = this.repository.getServerById(msg.caller_id);\r\n        var instance = caller.instance;\r\n        var requestContext = {\r\n            msg: msg,\r\n            arguments: msg.arguments_kv || {},\r\n            instance: instance,\r\n        };\r\n        var streamingMethod = this.serverRepository.getById(msg.method_id);\r\n        if (streamingMethod === undefined) {\r\n            var errorMsg = \"No method with id \" + msg.method_id + \" on this server.\";\r\n            this.sendSubscriptionFailed(errorMsg, msg.subscription_id);\r\n            return;\r\n        }\r\n        if (streamingMethod.protocolState.subscriptionsMap &&\r\n            streamingMethod.protocolState.subscriptionsMap[msg.subscription_id]) {\r\n            this.sendSubscriptionFailed(\"A subscription with id \" + msg.subscription_id + \" already exists.\", msg.subscription_id);\r\n            return;\r\n        }\r\n        this.callbacks.execute(SUBSCRIPTION_REQUEST, requestContext, streamingMethod);\r\n    };\r\n    ServerStreaming.prototype.sendSubscriptionFailed = function (reason, subscriptionId) {\r\n        var errorMessage = {\r\n            type: \"error\",\r\n            reason_uri: this.ERR_URI_SUBSCRIPTION_FAILED,\r\n            reason: reason,\r\n            request_id: subscriptionId,\r\n        };\r\n        this.session.sendFireAndForget(errorMessage);\r\n    };\r\n    ServerStreaming.prototype.getStreamId = function (streamingMethod, branchKey) {\r\n        if (typeof branchKey !== \"string\") {\r\n            branchKey = \"\";\r\n        }\r\n        if (!streamingMethod.protocolState.branchKeyToStreamIdMap) {\r\n            throw new Error(\"streaming \" + streamingMethod.definition.name + \" method without protocol state\");\r\n        }\r\n        var needleBranch = streamingMethod.protocolState.branchKeyToStreamIdMap.filter(function (branch) {\r\n            return branch.key === branchKey;\r\n        })[0];\r\n        var streamId = (needleBranch ? needleBranch.streamId : undefined);\r\n        if (typeof streamId !== \"string\" || streamId === \"\") {\r\n            streamId = this.getNextStreamId();\r\n            streamingMethod.protocolState.branchKeyToStreamIdMap.push({ key: branchKey, streamId: streamId });\r\n        }\r\n        return streamId;\r\n    };\r\n    return ServerStreaming;\r\n}());\n\nvar ServerProtocol = (function () {\r\n    function ServerProtocol(session, clientRepository, serverRepository, logger) {\r\n        var _this = this;\r\n        this.session = session;\r\n        this.clientRepository = clientRepository;\r\n        this.serverRepository = serverRepository;\r\n        this.logger = logger;\r\n        this.callbacks = lib$1();\r\n        this.streaming = new ServerStreaming$1(session, clientRepository, serverRepository);\r\n        this.session.on(\"invoke\", function (msg) { return _this.handleInvokeMessage(msg); });\r\n    }\r\n    ServerProtocol.prototype.createStream = function (repoMethod) {\r\n        repoMethod.protocolState.subscriptionsMap = {};\r\n        repoMethod.protocolState.branchKeyToStreamIdMap = [];\r\n        return this.register(repoMethod, true);\r\n    };\r\n    ServerProtocol.prototype.register = function (repoMethod, isStreaming) {\r\n        var _this = this;\r\n        var _a;\r\n        var methodDef = repoMethod.definition;\r\n        var flags = Object.assign({}, { metadata: (_a = methodDef.flags) !== null && _a !== void 0 ? _a : {} }, { streaming: isStreaming || false });\r\n        var registerMsg = {\r\n            type: \"register\",\r\n            methods: [{\r\n                    id: repoMethod.repoId,\r\n                    name: methodDef.name,\r\n                    display_name: methodDef.displayName,\r\n                    description: methodDef.description,\r\n                    version: methodDef.version,\r\n                    flags: flags,\r\n                    object_types: methodDef.objectTypes || methodDef.object_types,\r\n                    input_signature: methodDef.accepts,\r\n                    result_signature: methodDef.returns,\r\n                    restrictions: undefined,\r\n                }],\r\n        };\r\n        return this.session.send(registerMsg, { methodId: repoMethod.repoId })\r\n            .then(function () {\r\n            _this.logger.debug(\"registered method \" + repoMethod.definition.name + \" with id \" + repoMethod.repoId);\r\n        })\r\n            .catch(function (msg) {\r\n            _this.logger.warn(\"failed to register method \" + repoMethod.definition.name + \" with id \" + repoMethod.repoId + \" - \" + JSON.stringify(msg));\r\n            throw msg;\r\n        });\r\n    };\r\n    ServerProtocol.prototype.onInvoked = function (callback) {\r\n        this.callbacks.add(\"onInvoked\", callback);\r\n    };\r\n    ServerProtocol.prototype.methodInvocationResult = function (method, invocationId, err, result) {\r\n        var msg;\r\n        if (err || err === \"\") {\r\n            msg = {\r\n                type: \"error\",\r\n                request_id: invocationId,\r\n                reason_uri: \"agm.errors.client_error\",\r\n                reason: err,\r\n                context: result,\r\n                peer_id: undefined,\r\n            };\r\n        }\r\n        else {\r\n            msg = {\r\n                type: \"yield\",\r\n                invocation_id: invocationId,\r\n                peer_id: this.session.peerId,\r\n                result: result,\r\n                request_id: undefined,\r\n            };\r\n        }\r\n        this.session.sendFireAndForget(msg);\r\n    };\r\n    ServerProtocol.prototype.unregister = function (method) {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var msg;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        msg = {\r\n                            type: \"unregister\",\r\n                            methods: [method.repoId],\r\n                        };\r\n                        return [4, this.session.send(msg)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    ServerProtocol.prototype.getBranchList = function (method) {\r\n        return this.streaming.getBranchList(method);\r\n    };\r\n    ServerProtocol.prototype.getSubscriptionList = function (method, branchKey) {\r\n        return this.streaming.getSubscriptionList(method, branchKey);\r\n    };\r\n    ServerProtocol.prototype.closeAllSubscriptions = function (method, branchKey) {\r\n        this.streaming.closeMultipleSubscriptions(method, branchKey);\r\n    };\r\n    ServerProtocol.prototype.pushData = function (method, data, branches) {\r\n        this.streaming.pushData(method, data, branches);\r\n    };\r\n    ServerProtocol.prototype.pushDataToSingle = function (method, subscription, data) {\r\n        this.streaming.pushDataToSingle(method, subscription, data);\r\n    };\r\n    ServerProtocol.prototype.closeSingleSubscription = function (method, subscription) {\r\n        this.streaming.closeSingleSubscription(method, subscription);\r\n    };\r\n    ServerProtocol.prototype.acceptRequestOnBranch = function (requestContext, method, branch) {\r\n        this.streaming.acceptRequestOnBranch(requestContext, method, branch);\r\n    };\r\n    ServerProtocol.prototype.rejectRequest = function (requestContext, method, reason) {\r\n        this.streaming.rejectRequest(requestContext, method, reason);\r\n    };\r\n    ServerProtocol.prototype.onSubRequest = function (callback) {\r\n        this.streaming.onSubRequest(callback);\r\n    };\r\n    ServerProtocol.prototype.onSubAdded = function (callback) {\r\n        this.streaming.onSubAdded(callback);\r\n    };\r\n    ServerProtocol.prototype.onSubRemoved = function (callback) {\r\n        this.streaming.onSubRemoved(callback);\r\n    };\r\n    ServerProtocol.prototype.handleInvokeMessage = function (msg) {\r\n        var invocationId = msg.invocation_id;\r\n        var callerId = msg.caller_id;\r\n        var methodId = msg.method_id;\r\n        var args = msg.arguments_kv;\r\n        var methodList = this.serverRepository.getList();\r\n        var method = methodList.filter(function (m) {\r\n            return m.repoId === methodId;\r\n        })[0];\r\n        if (method === undefined) {\r\n            return;\r\n        }\r\n        var client = this.clientRepository.getServerById(callerId).instance;\r\n        var invocationArgs = { args: args, instance: client };\r\n        this.callbacks.execute(\"onInvoked\", method, invocationId, invocationArgs);\r\n    };\r\n    return ServerProtocol;\r\n}());\n\nvar UserSubscription = (function () {\r\n    function UserSubscription(repository, subscriptionData) {\r\n        this.repository = repository;\r\n        this.subscriptionData = subscriptionData;\r\n    }\r\n    Object.defineProperty(UserSubscription.prototype, \"requestArguments\", {\r\n        get: function () {\r\n            return this.subscriptionData.params.arguments || {};\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(UserSubscription.prototype, \"servers\", {\r\n        get: function () {\r\n            var _this = this;\r\n            return this.subscriptionData.trackedServers\r\n                .filter(function (pair) { return pair.subscriptionId; })\r\n                .map(function (pair) { return _this.repository.getServerById(pair.serverId).instance; });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(UserSubscription.prototype, \"serverInstance\", {\r\n        get: function () {\r\n            return this.servers[0];\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(UserSubscription.prototype, \"stream\", {\r\n        get: function () {\r\n            return this.subscriptionData.method;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    UserSubscription.prototype.onData = function (dataCallback) {\r\n        if (typeof dataCallback !== \"function\") {\r\n            throw new TypeError(\"The data callback must be a function.\");\r\n        }\r\n        this.subscriptionData.handlers.onData.push(dataCallback);\r\n        if (this.subscriptionData.handlers.onData.length === 1 && this.subscriptionData.queued.data.length > 0) {\r\n            this.subscriptionData.queued.data.forEach(function (dataItem) {\r\n                dataCallback(dataItem);\r\n            });\r\n        }\r\n    };\r\n    UserSubscription.prototype.onClosed = function (closedCallback) {\r\n        if (typeof closedCallback !== \"function\") {\r\n            throw new TypeError(\"The callback must be a function.\");\r\n        }\r\n        this.subscriptionData.handlers.onClosed.push(closedCallback);\r\n    };\r\n    UserSubscription.prototype.onFailed = function (callback) {\r\n    };\r\n    UserSubscription.prototype.onConnected = function (callback) {\r\n        if (typeof callback !== \"function\") {\r\n            throw new TypeError(\"The callback must be a function.\");\r\n        }\r\n        this.subscriptionData.handlers.onConnected.push(callback);\r\n    };\r\n    UserSubscription.prototype.close = function () {\r\n        this.subscriptionData.close();\r\n    };\r\n    UserSubscription.prototype.setNewSubscription = function (newSub) {\r\n        this.subscriptionData = newSub;\r\n    };\r\n    return UserSubscription;\r\n}());\n\nvar STATUS_AWAITING_ACCEPT = \"awaitingAccept\";\r\nvar STATUS_SUBSCRIBED = \"subscribed\";\r\nvar ERR_MSG_SUB_FAILED = \"Subscription failed.\";\r\nvar ERR_MSG_SUB_REJECTED = \"Subscription rejected.\";\r\nvar ON_CLOSE_MSG_SERVER_INIT = \"ServerInitiated\";\r\nvar ON_CLOSE_MSG_CLIENT_INIT = \"ClientInitiated\";\r\nvar ClientStreaming = (function () {\r\n    function ClientStreaming(session, repository, logger) {\r\n        var _this = this;\r\n        this.session = session;\r\n        this.repository = repository;\r\n        this.logger = logger;\r\n        this.subscriptionsList = {};\r\n        this.subscriptionIdToLocalKeyMap = {};\r\n        this.nextSubLocalKey = 0;\r\n        this.handleErrorSubscribing = function (errorResponse) {\r\n            var tag = errorResponse._tag;\r\n            var subLocalKey = tag.subLocalKey;\r\n            var pendingSub = _this.subscriptionsList[subLocalKey];\r\n            if (typeof pendingSub !== \"object\") {\r\n                return;\r\n            }\r\n            pendingSub.trackedServers = pendingSub.trackedServers.filter(function (server) {\r\n                return server.serverId !== tag.serverId;\r\n            });\r\n            if (pendingSub.trackedServers.length <= 0) {\r\n                clearTimeout(pendingSub.timeoutId);\r\n                if (pendingSub.status === STATUS_AWAITING_ACCEPT) {\r\n                    var reason = (typeof errorResponse.reason === \"string\" && errorResponse.reason !== \"\") ?\r\n                        ' Publisher said \"' + errorResponse.reason + '\".' :\r\n                        \" No reason given.\";\r\n                    var callArgs = typeof pendingSub.params.arguments === \"object\" ?\r\n                        JSON.stringify(pendingSub.params.arguments) :\r\n                        \"{}\";\r\n                    pendingSub.error({\r\n                        message: ERR_MSG_SUB_REJECTED + reason + \" Called with:\" + callArgs,\r\n                        called_with: pendingSub.params.arguments,\r\n                        method: pendingSub.method,\r\n                    });\r\n                }\r\n                else if (pendingSub.status === STATUS_SUBSCRIBED) {\r\n                    _this.callOnClosedHandlers(pendingSub);\r\n                }\r\n                delete _this.subscriptionsList[subLocalKey];\r\n            }\r\n        };\r\n        this.handleSubscribed = function (msg) {\r\n            var subLocalKey = msg._tag.subLocalKey;\r\n            var pendingSub = _this.subscriptionsList[subLocalKey];\r\n            if (typeof pendingSub !== \"object\") {\r\n                return;\r\n            }\r\n            var serverId = msg._tag.serverId;\r\n            var acceptingServer = pendingSub.trackedServers\r\n                .filter(function (server) {\r\n                return server.serverId === serverId;\r\n            })[0];\r\n            if (typeof acceptingServer !== \"object\") {\r\n                return;\r\n            }\r\n            acceptingServer.subscriptionId = msg.subscription_id;\r\n            _this.subscriptionIdToLocalKeyMap[msg.subscription_id] = subLocalKey;\r\n            var isFirstResponse = (pendingSub.status === STATUS_AWAITING_ACCEPT);\r\n            pendingSub.status = STATUS_SUBSCRIBED;\r\n            if (isFirstResponse) {\r\n                var reconnect = false;\r\n                var sub = pendingSub.subscription;\r\n                if (sub) {\r\n                    sub.setNewSubscription(pendingSub);\r\n                    pendingSub.success(sub);\r\n                    reconnect = true;\r\n                }\r\n                else {\r\n                    sub = new UserSubscription(_this.repository, pendingSub);\r\n                    pendingSub.subscription = sub;\r\n                    pendingSub.success(sub);\r\n                }\r\n                for (var _i = 0, _a = pendingSub.handlers.onConnected; _i < _a.length; _i++) {\r\n                    var handler = _a[_i];\r\n                    try {\r\n                        handler(sub.serverInstance, reconnect);\r\n                    }\r\n                    catch (e) {\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        this.handleEventData = function (msg) {\r\n            var subLocalKey = _this.subscriptionIdToLocalKeyMap[msg.subscription_id];\r\n            if (typeof subLocalKey === \"undefined\") {\r\n                return;\r\n            }\r\n            var subscription = _this.subscriptionsList[subLocalKey];\r\n            if (typeof subscription !== \"object\") {\r\n                return;\r\n            }\r\n            var trackedServersFound = subscription.trackedServers.filter(function (server) {\r\n                return server.subscriptionId === msg.subscription_id;\r\n            });\r\n            if (trackedServersFound.length !== 1) {\r\n                return;\r\n            }\r\n            var isPrivateData = msg.oob;\r\n            var sendingServerId = trackedServersFound[0].serverId;\r\n            var receivedStreamData = function () {\r\n                return {\r\n                    data: msg.data,\r\n                    server: _this.repository.getServerById(sendingServerId).instance,\r\n                    requestArguments: subscription.params.arguments,\r\n                    message: undefined,\r\n                    private: isPrivateData,\r\n                };\r\n            };\r\n            var onDataHandlers = subscription.handlers.onData;\r\n            var queuedData = subscription.queued.data;\r\n            if (onDataHandlers.length > 0) {\r\n                onDataHandlers.forEach(function (callback) {\r\n                    if (typeof callback === \"function\") {\r\n                        callback(receivedStreamData());\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                queuedData.push(receivedStreamData());\r\n            }\r\n        };\r\n        this.handleSubscriptionCancelled = function (msg) {\r\n            var subLocalKey = _this.subscriptionIdToLocalKeyMap[msg.subscription_id];\r\n            if (typeof subLocalKey === \"undefined\") {\r\n                return;\r\n            }\r\n            var subscription = _this.subscriptionsList[subLocalKey];\r\n            if (typeof subscription !== \"object\") {\r\n                return;\r\n            }\r\n            var expectedNewLength = subscription.trackedServers.length - 1;\r\n            subscription.trackedServers = subscription.trackedServers.filter(function (server) {\r\n                if (server.subscriptionId === msg.subscription_id) {\r\n                    subscription.queued.closers.push(server.serverId);\r\n                    return false;\r\n                }\r\n                else {\r\n                    return true;\r\n                }\r\n            });\r\n            if (subscription.trackedServers.length !== expectedNewLength) {\r\n                return;\r\n            }\r\n            if (subscription.trackedServers.length <= 0) {\r\n                clearTimeout(subscription.timeoutId);\r\n                _this.callOnClosedHandlers(subscription);\r\n                delete _this.subscriptionsList[subLocalKey];\r\n            }\r\n            delete _this.subscriptionIdToLocalKeyMap[msg.subscription_id];\r\n        };\r\n        session.on(\"subscribed\", this.handleSubscribed);\r\n        session.on(\"event\", this.handleEventData);\r\n        session.on(\"subscription-cancelled\", this.handleSubscriptionCancelled);\r\n    }\r\n    ClientStreaming.prototype.subscribe = function (streamingMethod, params, targetServers, success, error, existingSub) {\r\n        var _this = this;\r\n        if (targetServers.length === 0) {\r\n            error({\r\n                method: streamingMethod,\r\n                called_with: params.arguments,\r\n                message: ERR_MSG_SUB_FAILED + \" No available servers matched the target params.\",\r\n            });\r\n            return;\r\n        }\r\n        var subLocalKey = this.getNextSubscriptionLocalKey();\r\n        var pendingSub = this.registerSubscription(subLocalKey, streamingMethod, params, success, error, params.methodResponseTimeout || 10000, existingSub);\r\n        if (typeof pendingSub !== \"object\") {\r\n            error({\r\n                method: streamingMethod,\r\n                called_with: params.arguments,\r\n                message: ERR_MSG_SUB_FAILED + \" Unable to register the user callbacks.\",\r\n            });\r\n            return;\r\n        }\r\n        targetServers.forEach(function (target) {\r\n            var serverId = target.server.id;\r\n            var method = target.methods.find(function (m) { return m.name === streamingMethod.name; });\r\n            if (!method) {\r\n                _this.logger.error(\"can not find method \" + streamingMethod.name + \" for target \" + target.server.id);\r\n                return;\r\n            }\r\n            pendingSub.trackedServers.push({\r\n                serverId: serverId,\r\n                subscriptionId: undefined,\r\n            });\r\n            var msg = {\r\n                type: \"subscribe\",\r\n                server_id: serverId,\r\n                method_id: method.gatewayId,\r\n                arguments_kv: params.arguments,\r\n            };\r\n            _this.session.send(msg, { serverId: serverId, subLocalKey: subLocalKey })\r\n                .then(function (m) { return _this.handleSubscribed(m); })\r\n                .catch(function (err) { return _this.handleErrorSubscribing(err); });\r\n        });\r\n    };\r\n    ClientStreaming.prototype.drainSubscriptions = function () {\r\n        var existing = Object.values(this.subscriptionsList);\r\n        this.subscriptionsList = {};\r\n        this.subscriptionIdToLocalKeyMap = {};\r\n        return existing;\r\n    };\r\n    ClientStreaming.prototype.getNextSubscriptionLocalKey = function () {\r\n        var current = this.nextSubLocalKey;\r\n        this.nextSubLocalKey += 1;\r\n        return current;\r\n    };\r\n    ClientStreaming.prototype.registerSubscription = function (subLocalKey, method, params, success, error, timeout, existingSub) {\r\n        var _this = this;\r\n        var subsInfo = {\r\n            localKey: subLocalKey,\r\n            status: STATUS_AWAITING_ACCEPT,\r\n            method: method,\r\n            params: params,\r\n            success: success,\r\n            error: error,\r\n            trackedServers: [],\r\n            handlers: {\r\n                onData: (existingSub === null || existingSub === void 0 ? void 0 : existingSub.handlers.onData) || [],\r\n                onClosed: (existingSub === null || existingSub === void 0 ? void 0 : existingSub.handlers.onClosed) || [],\r\n                onConnected: (existingSub === null || existingSub === void 0 ? void 0 : existingSub.handlers.onConnected) || [],\r\n            },\r\n            queued: {\r\n                data: [],\r\n                closers: [],\r\n            },\r\n            timeoutId: undefined,\r\n            close: function () { return _this.closeSubscription(subLocalKey); },\r\n            subscription: existingSub === null || existingSub === void 0 ? void 0 : existingSub.subscription\r\n        };\r\n        if (!existingSub) {\r\n            if (params.onData) {\r\n                subsInfo.handlers.onData.push(params.onData);\r\n            }\r\n            if (params.onClosed) {\r\n                subsInfo.handlers.onClosed.push(params.onClosed);\r\n            }\r\n            if (params.onConnected) {\r\n                subsInfo.handlers.onConnected.push(params.onConnected);\r\n            }\r\n        }\r\n        this.subscriptionsList[subLocalKey] = subsInfo;\r\n        subsInfo.timeoutId = setTimeout(function () {\r\n            if (_this.subscriptionsList[subLocalKey] === undefined) {\r\n                return;\r\n            }\r\n            var pendingSub = _this.subscriptionsList[subLocalKey];\r\n            if (pendingSub.status === STATUS_AWAITING_ACCEPT) {\r\n                error({\r\n                    method: method,\r\n                    called_with: params.arguments,\r\n                    message: ERR_MSG_SUB_FAILED + \" Subscription attempt timed out after \" + timeout + \" ms.\",\r\n                });\r\n                delete _this.subscriptionsList[subLocalKey];\r\n            }\r\n            else if (pendingSub.status === STATUS_SUBSCRIBED && pendingSub.trackedServers.length > 0) {\r\n                pendingSub.trackedServers = pendingSub.trackedServers.filter(function (server) {\r\n                    return (typeof server.subscriptionId !== \"undefined\");\r\n                });\r\n                delete pendingSub.timeoutId;\r\n                if (pendingSub.trackedServers.length <= 0) {\r\n                    _this.callOnClosedHandlers(pendingSub);\r\n                    delete _this.subscriptionsList[subLocalKey];\r\n                }\r\n            }\r\n        }, timeout);\r\n        return subsInfo;\r\n    };\r\n    ClientStreaming.prototype.callOnClosedHandlers = function (subscription, reason) {\r\n        var closersCount = subscription.queued.closers.length;\r\n        var closingServerId = (closersCount > 0) ? subscription.queued.closers[closersCount - 1] : null;\r\n        var closingServer;\r\n        if (closingServerId !== undefined && typeof closingServerId === \"string\") {\r\n            closingServer = this.repository.getServerById(closingServerId).instance;\r\n        }\r\n        subscription.handlers.onClosed.forEach(function (callback) {\r\n            if (typeof callback !== \"function\") {\r\n                return;\r\n            }\r\n            callback({\r\n                message: reason || ON_CLOSE_MSG_SERVER_INIT,\r\n                requestArguments: subscription.params.arguments || {},\r\n                server: closingServer,\r\n                stream: subscription.method,\r\n            });\r\n        });\r\n    };\r\n    ClientStreaming.prototype.closeSubscription = function (subLocalKey) {\r\n        var _this = this;\r\n        var subscription = this.subscriptionsList[subLocalKey];\r\n        if (typeof subscription !== \"object\") {\r\n            return;\r\n        }\r\n        subscription.trackedServers.forEach(function (server) {\r\n            if (typeof server.subscriptionId === \"undefined\") {\r\n                return;\r\n            }\r\n            subscription.queued.closers.push(server.serverId);\r\n            _this.session.sendFireAndForget({\r\n                type: \"unsubscribe\",\r\n                subscription_id: server.subscriptionId,\r\n                reason_uri: \"\",\r\n                reason: ON_CLOSE_MSG_CLIENT_INIT,\r\n            });\r\n            delete _this.subscriptionIdToLocalKeyMap[server.subscriptionId];\r\n        });\r\n        subscription.trackedServers = [];\r\n        this.callOnClosedHandlers(subscription, ON_CLOSE_MSG_CLIENT_INIT);\r\n        delete this.subscriptionsList[subLocalKey];\r\n    };\r\n    return ClientStreaming;\r\n}());\n\nvar ClientProtocol = (function () {\r\n    function ClientProtocol(session, repository, logger) {\r\n        var _this = this;\r\n        this.session = session;\r\n        this.repository = repository;\r\n        this.logger = logger;\r\n        session.on(\"peer-added\", function (msg) { return _this.handlePeerAdded(msg); });\r\n        session.on(\"peer-removed\", function (msg) { return _this.handlePeerRemoved(msg); });\r\n        session.on(\"methods-added\", function (msg) { return _this.handleMethodsAddedMessage(msg); });\r\n        session.on(\"methods-removed\", function (msg) { return _this.handleMethodsRemovedMessage(msg); });\r\n        this.streaming = new ClientStreaming(session, repository, logger);\r\n    }\r\n    ClientProtocol.prototype.subscribe = function (stream, options, targetServers, success, error, existingSub) {\r\n        this.streaming.subscribe(stream, options, targetServers, success, error, existingSub);\r\n    };\r\n    ClientProtocol.prototype.invoke = function (id, method, args, target) {\r\n        var _this = this;\r\n        var serverId = target.id;\r\n        var methodId = method.gatewayId;\r\n        var msg = {\r\n            type: \"call\",\r\n            server_id: serverId,\r\n            method_id: methodId,\r\n            arguments_kv: args,\r\n        };\r\n        return this.session.send(msg, { invocationId: id, serverId: serverId })\r\n            .then(function (m) { return _this.handleResultMessage(m); })\r\n            .catch(function (err) { return _this.handleInvocationError(err); });\r\n    };\r\n    ClientProtocol.prototype.drainSubscriptions = function () {\r\n        return this.streaming.drainSubscriptions();\r\n    };\r\n    ClientProtocol.prototype.handlePeerAdded = function (msg) {\r\n        var newPeerId = msg.new_peer_id;\r\n        var remoteId = msg.identity;\r\n        var isLocal = msg.meta ? msg.meta.local : true;\r\n        var pid = Number(remoteId.process);\r\n        var serverInfo = {\r\n            machine: remoteId.machine,\r\n            pid: isNaN(pid) ? remoteId.process : pid,\r\n            instance: remoteId.instance,\r\n            application: remoteId.application,\r\n            applicationName: remoteId.applicationName,\r\n            environment: remoteId.environment,\r\n            region: remoteId.region,\r\n            user: remoteId.user,\r\n            windowId: remoteId.windowId,\r\n            peerId: newPeerId,\r\n            api: remoteId.api,\r\n            isLocal: isLocal\r\n        };\r\n        this.repository.addServer(serverInfo, newPeerId);\r\n    };\r\n    ClientProtocol.prototype.handlePeerRemoved = function (msg) {\r\n        var removedPeerId = msg.removed_id;\r\n        var reason = msg.reason;\r\n        this.repository.removeServerById(removedPeerId, reason);\r\n    };\r\n    ClientProtocol.prototype.handleMethodsAddedMessage = function (msg) {\r\n        var _this = this;\r\n        var serverId = msg.server_id;\r\n        var methods = msg.methods;\r\n        methods.forEach(function (method) {\r\n            _this.repository.addServerMethod(serverId, method);\r\n        });\r\n    };\r\n    ClientProtocol.prototype.handleMethodsRemovedMessage = function (msg) {\r\n        var _this = this;\r\n        var serverId = msg.server_id;\r\n        var methodIdList = msg.methods;\r\n        var server = this.repository.getServerById(serverId);\r\n        var serverMethodKeys = Object.keys(server.methods);\r\n        serverMethodKeys.forEach(function (methodKey) {\r\n            var method = server.methods[methodKey];\r\n            if (methodIdList.indexOf(method.gatewayId) > -1) {\r\n                _this.repository.removeServerMethod(serverId, methodKey);\r\n            }\r\n        });\r\n    };\r\n    ClientProtocol.prototype.handleResultMessage = function (msg) {\r\n        var invocationId = msg._tag.invocationId;\r\n        var result = msg.result;\r\n        var serverId = msg._tag.serverId;\r\n        var server = this.repository.getServerById(serverId);\r\n        return {\r\n            invocationId: invocationId,\r\n            result: result,\r\n            instance: server.instance,\r\n            status: InvokeStatus.Success,\r\n            message: \"\"\r\n        };\r\n    };\r\n    ClientProtocol.prototype.handleInvocationError = function (msg) {\r\n        this.logger.debug(\"handle invocation error \" + JSON.stringify(msg));\r\n        if (\"_tag\" in msg) {\r\n            var invocationId = msg._tag.invocationId;\r\n            var serverId = msg._tag.serverId;\r\n            var server = this.repository.getServerById(serverId);\r\n            var message = msg.reason;\r\n            var context_1 = msg.context;\r\n            return {\r\n                invocationId: invocationId,\r\n                result: context_1,\r\n                instance: server.instance,\r\n                status: InvokeStatus.Error,\r\n                message: message\r\n            };\r\n        }\r\n        else {\r\n            return {\r\n                invocationId: \"\",\r\n                message: msg.message,\r\n                status: InvokeStatus.Error,\r\n                error: msg\r\n            };\r\n        }\r\n    };\r\n    return ClientProtocol;\r\n}());\n\nfunction gW3ProtocolFactory (instance, connection, clientRepository, serverRepository, libConfig, interop) {\r\n    var logger = libConfig.logger.subLogger(\"gw3-protocol\");\r\n    var resolveReadyPromise;\r\n    var readyPromise = new Promise(function (resolve) {\r\n        resolveReadyPromise = resolve;\r\n    });\r\n    var session = connection.domain(\"agm\", [\"subscribed\"]);\r\n    var server = new ServerProtocol(session, clientRepository, serverRepository, logger.subLogger(\"server\"));\r\n    var client = new ClientProtocol(session, clientRepository, logger.subLogger(\"client\"));\r\n    function handleReconnect() {\r\n        logger.info(\"reconnected - will replay registered methods and subscriptions\");\r\n        var existingSubscriptions = client.drainSubscriptions();\r\n        for (var _i = 0, existingSubscriptions_1 = existingSubscriptions; _i < existingSubscriptions_1.length; _i++) {\r\n            var sub = existingSubscriptions_1[_i];\r\n            var methodInfo = sub.method;\r\n            var params = Object.assign({}, sub.params);\r\n            logger.info(\"trying to re-subscribe to method \" + methodInfo.name);\r\n            interop.client.subscribe(methodInfo, params, undefined, undefined, sub);\r\n        }\r\n        var registeredMethods = serverRepository.getList();\r\n        serverRepository.reset();\r\n        for (var _a = 0, registeredMethods_1 = registeredMethods; _a < registeredMethods_1.length; _a++) {\r\n            var method = registeredMethods_1[_a];\r\n            var def = method.definition;\r\n            logger.info(\"re-publishing method \" + def.name);\r\n            if (method.stream) {\r\n                interop.server.createStream(def, method.streamCallbacks, undefined, undefined, method.stream);\r\n            }\r\n            else if (method.theFunction && method.theFunction.userCallback) {\r\n                interop.register(def, method.theFunction.userCallback);\r\n            }\r\n            else if (method.theFunction && method.theFunction.userCallbackAsync) {\r\n                interop.registerAsync(def, method.theFunction.userCallbackAsync);\r\n            }\r\n        }\r\n    }\r\n    function handleInitialJoin() {\r\n        if (resolveReadyPromise) {\r\n            resolveReadyPromise({\r\n                client: client,\r\n                server: server,\r\n            });\r\n            resolveReadyPromise = undefined;\r\n        }\r\n    }\r\n    session.onJoined(function (reconnect) {\r\n        clientRepository.addServer(instance, connection.peerId);\r\n        if (reconnect) {\r\n            handleReconnect();\r\n        }\r\n        else {\r\n            handleInitialJoin();\r\n        }\r\n    });\r\n    session.onLeft(function () {\r\n        clientRepository.reset();\r\n    });\r\n    session.join();\r\n    return readyPromise;\r\n}\n\nvar Interop = (function () {\r\n    function Interop(configuration) {\r\n        var _this = this;\r\n        if (typeof configuration === \"undefined\") {\r\n            throw new Error(\"configuration is required\");\r\n        }\r\n        if (typeof configuration.connection === \"undefined\") {\r\n            throw new Error(\"configuration.connections is required\");\r\n        }\r\n        var connection = configuration.connection;\r\n        if (typeof configuration.methodResponseTimeout !== \"number\") {\r\n            configuration.methodResponseTimeout = 30 * 1000;\r\n        }\r\n        if (typeof configuration.waitTimeoutMs !== \"number\") {\r\n            configuration.waitTimeoutMs = 30 * 1000;\r\n        }\r\n        this.unwrappedInstance = new InstanceWrapper(this, undefined, connection);\r\n        this.instance = this.unwrappedInstance.unwrap();\r\n        this.clientRepository = new ClientRepository(configuration.logger.subLogger(\"cRep\"), this);\r\n        this.serverRepository = new ServerRepository();\r\n        var protocolPromise;\r\n        if (connection.protocolVersion === 3) {\r\n            protocolPromise = gW3ProtocolFactory(this.instance, connection, this.clientRepository, this.serverRepository, configuration, this);\r\n        }\r\n        else {\r\n            throw new Error(\"protocol \" + connection.protocolVersion + \" not supported\");\r\n        }\r\n        this.readyPromise = protocolPromise.then(function (protocol) {\r\n            _this.protocol = protocol;\r\n            _this.client = new Client(_this.protocol, _this.clientRepository, _this.instance, configuration);\r\n            _this.server = new Server(_this.protocol, _this.serverRepository);\r\n            return _this;\r\n        });\r\n    }\r\n    Interop.prototype.ready = function () {\r\n        return this.readyPromise;\r\n    };\r\n    Interop.prototype.serverRemoved = function (callback) {\r\n        return this.client.serverRemoved(callback);\r\n    };\r\n    Interop.prototype.serverAdded = function (callback) {\r\n        return this.client.serverAdded(callback);\r\n    };\r\n    Interop.prototype.serverMethodRemoved = function (callback) {\r\n        return this.client.serverMethodRemoved(callback);\r\n    };\r\n    Interop.prototype.serverMethodAdded = function (callback) {\r\n        return this.client.serverMethodAdded(callback);\r\n    };\r\n    Interop.prototype.methodRemoved = function (callback) {\r\n        return this.client.methodRemoved(callback);\r\n    };\r\n    Interop.prototype.methodAdded = function (callback) {\r\n        return this.client.methodAdded(callback);\r\n    };\r\n    Interop.prototype.methodsForInstance = function (instance) {\r\n        return this.client.methodsForInstance(instance);\r\n    };\r\n    Interop.prototype.methods = function (methodFilter) {\r\n        return this.client.methods(methodFilter);\r\n    };\r\n    Interop.prototype.servers = function (methodFilter) {\r\n        return this.client.servers(methodFilter);\r\n    };\r\n    Interop.prototype.subscribe = function (method, options, successCallback, errorCallback) {\r\n        return this.client.subscribe(method, options, successCallback, errorCallback);\r\n    };\r\n    Interop.prototype.createStream = function (streamDef, callbacks, successCallback, errorCallback) {\r\n        return this.server.createStream(streamDef, callbacks, successCallback, errorCallback);\r\n    };\r\n    Interop.prototype.unregister = function (methodFilter) {\r\n        return this.server.unregister(methodFilter);\r\n    };\r\n    Interop.prototype.registerAsync = function (methodDefinition, callback) {\r\n        return this.server.registerAsync(methodDefinition, callback);\r\n    };\r\n    Interop.prototype.register = function (methodDefinition, callback) {\r\n        return this.server.register(methodDefinition, callback);\r\n    };\r\n    Interop.prototype.invoke = function (methodFilter, argumentObj, target, additionalOptions, success, error) {\r\n        return this.client.invoke(methodFilter, argumentObj, target, additionalOptions, success, error);\r\n    };\r\n    Interop.prototype.waitForMethod = function (name) {\r\n        var pw = new PromiseWrapper();\r\n        var unsubscribe = this.client.methodAdded(function (m) {\r\n            if (m.name === name) {\r\n                unsubscribe();\r\n                pw.resolve(m);\r\n            }\r\n        });\r\n        return pw.promise;\r\n    };\r\n    return Interop;\r\n}());\n\nvar successMessages = [\"subscribed\", \"success\"];\r\nvar MessageBus = (function () {\r\n    function MessageBus(connection, logger) {\r\n        var _this = this;\r\n        this.publish = function (topic, data, options) {\r\n            var _a = options || {}, routingKey = _a.routingKey, target = _a.target;\r\n            var args = _this.removeEmptyValues({\r\n                type: \"publish\",\r\n                topic: topic,\r\n                data: data,\r\n                peer_id: _this.peerId,\r\n                routing_key: routingKey,\r\n                target_identity: target\r\n            });\r\n            _this.session.send(args);\r\n        };\r\n        this.subscribe = function (topic, callback, options) {\r\n            return new Promise(function (resolve, reject) {\r\n                var _a = options || {}, routingKey = _a.routingKey, target = _a.target;\r\n                var args = _this.removeEmptyValues({\r\n                    type: \"subscribe\",\r\n                    topic: topic,\r\n                    peer_id: _this.peerId,\r\n                    routing_key: routingKey,\r\n                    source: target\r\n                });\r\n                _this.session.send(args)\r\n                    .then(function (response) {\r\n                    var subscription_id = response.subscription_id;\r\n                    _this.subscriptions.push({ subscription_id: subscription_id, topic: topic, callback: callback, source: target });\r\n                    resolve({\r\n                        unsubscribe: function () {\r\n                            _this.session.send({ type: \"unsubscribe\", subscription_id: subscription_id, peer_id: _this.peerId });\r\n                            _this.subscriptions = _this.subscriptions.filter(function (s) { return s.subscription_id !== subscription_id; });\r\n                            return Promise.resolve();\r\n                        }\r\n                    });\r\n                })\r\n                    .catch(function (error) { return reject(error); });\r\n            });\r\n        };\r\n        this.watchOnEvent = function () {\r\n            _this.session.on(\"event\", function (args) {\r\n                var data = args.data, subscription_id = args.subscription_id;\r\n                var source = args[\"publisher-identity\"];\r\n                var subscription = _this.subscriptions.find(function (s) { return s.subscription_id === subscription_id; });\r\n                if (subscription) {\r\n                    if (!subscription.source) {\r\n                        subscription.callback(data, subscription.topic, source);\r\n                    }\r\n                    else {\r\n                        if (_this.keysMatch(subscription.source, source)) {\r\n                            subscription.callback(data, subscription.topic, source);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        };\r\n        this.connection = connection;\r\n        this.logger = logger;\r\n        this.peerId = connection.peerId;\r\n        this.subscriptions = [];\r\n        this.session = connection.domain(\"bus\", successMessages);\r\n        this.readyPromise = this.session.join();\r\n        this.readyPromise.then(function () {\r\n            _this.watchOnEvent();\r\n        });\r\n    }\r\n    MessageBus.prototype.ready = function () {\r\n        return this.readyPromise;\r\n    };\r\n    MessageBus.prototype.removeEmptyValues = function (obj) {\r\n        var cleaned = {};\r\n        Object.keys(obj).forEach(function (key) {\r\n            if (obj[key] !== undefined && obj[key] !== null) {\r\n                cleaned[key] = obj[key];\r\n            }\r\n        });\r\n        return cleaned;\r\n    };\r\n    MessageBus.prototype.keysMatch = function (obj1, obj2) {\r\n        var keysObj1 = Object.keys(obj1);\r\n        var allMatch = true;\r\n        keysObj1.forEach(function (key) {\r\n            if (obj1[key] !== obj2[key]) {\r\n                allMatch = false;\r\n            }\r\n        });\r\n        return allMatch;\r\n    };\r\n    return MessageBus;\r\n}());\n\nvar GlueCore = function (userConfig, ext) {\r\n    var gdVersion = Utils.getGDMajorVersion();\r\n    var glue42gd;\r\n    var preloadPromise = Promise.resolve();\r\n    if (gdVersion) {\r\n        if (gdVersion < 3) {\r\n            throw new Error(\"GD v2 is not supported. Use v4 of the API to run in that context.\");\r\n        }\r\n        else if (gdVersion >= 3) {\r\n            glue42gd = window.glue42gd;\r\n            preloadPromise = window.gdPreloadPromise || preloadPromise;\r\n        }\r\n    }\r\n    var glueInitTimer = timer(\"glue\");\r\n    userConfig = userConfig || {};\r\n    ext = ext || {};\r\n    var internalConfig = prepareConfig(userConfig, ext, glue42gd);\r\n    var _connection;\r\n    var _interop;\r\n    var _logger;\r\n    var _metrics;\r\n    var _contexts;\r\n    var _bus;\r\n    var _allowTrace;\r\n    var libs = {};\r\n    function registerLib(name, inner, t) {\r\n        _allowTrace = _logger.canPublish(\"trace\");\r\n        if (_allowTrace) {\r\n            _logger.trace(\"registering \" + name + \" module\");\r\n        }\r\n        var done = function () {\r\n            inner.initTime = t.stop();\r\n            inner.initEndTime = t.endTime;\r\n            inner.marks = t.marks;\r\n            if (_allowTrace) {\r\n                _logger.trace(name + \" is ready - \" + (t.endTime - t.startTime));\r\n            }\r\n        };\r\n        inner.initStartTime = t.startTime;\r\n        if (inner.ready) {\r\n            inner.ready().then(function () {\r\n                done();\r\n            });\r\n        }\r\n        else {\r\n            done();\r\n        }\r\n        if (!Array.isArray(name)) {\r\n            name = [name];\r\n        }\r\n        name.forEach(function (n) {\r\n            libs[n] = inner;\r\n            GlueCore[n] = inner;\r\n        });\r\n    }\r\n    function setupConnection() {\r\n        var initTimer = timer(\"connection\");\r\n        _connection = new Connection(internalConfig.connection, _logger.subLogger(\"connection\"));\r\n        var authPromise = Promise.resolve(internalConfig.auth);\r\n        if (internalConfig.connection && !internalConfig.auth) {\r\n            if (glue42gd) {\r\n                authPromise = glue42gd.getGWToken()\r\n                    .then(function (token) {\r\n                    return {\r\n                        gatewayToken: token\r\n                    };\r\n                });\r\n            }\r\n            else {\r\n                authPromise = Promise.reject(\"You need to provide auth information\");\r\n            }\r\n        }\r\n        return authPromise\r\n            .then(function (authConfig) {\r\n            initTimer.mark(\"auth-promise-resolved\");\r\n            var authRequest;\r\n            if (Object.prototype.toString.call(authConfig) === \"[object Object]\") {\r\n                authRequest = authConfig;\r\n            }\r\n            else {\r\n                throw new Error(\"Invalid auth object - \" + JSON.stringify(authConfig));\r\n            }\r\n            return _connection.login(authRequest);\r\n        })\r\n            .then(function () {\r\n            registerLib(\"connection\", _connection, initTimer);\r\n            return internalConfig;\r\n        })\r\n            .catch(function (e) {\r\n            if (_connection) {\r\n                _connection.logout();\r\n            }\r\n            throw e;\r\n        });\r\n    }\r\n    function setupLogger() {\r\n        var _a;\r\n        var initTimer = timer(\"logger\");\r\n        _logger = new Logger(\"\" + ((_a = internalConfig.connection.identity) === null || _a === void 0 ? void 0 : _a.application), undefined, internalConfig.customLogger);\r\n        _logger.consoleLevel(internalConfig.logger.console);\r\n        _logger.publishLevel(internalConfig.logger.publish);\r\n        if (_logger.canPublish(\"debug\")) {\r\n            _logger.debug(\"initializing glue...\");\r\n        }\r\n        registerLib(\"logger\", _logger, initTimer);\r\n        return Promise.resolve(undefined);\r\n    }\r\n    function setupMetrics() {\r\n        var _a, _b, _c, _d, _e;\r\n        var initTimer = timer(\"metrics\");\r\n        var config = internalConfig.metrics;\r\n        var metricsPublishingEnabledFunc = glue42gd === null || glue42gd === void 0 ? void 0 : glue42gd.getMetricsPublishingEnabled;\r\n        var identity = internalConfig.connection.identity;\r\n        var canUpdateMetric = metricsPublishingEnabledFunc ? metricsPublishingEnabledFunc : function () { return true; };\r\n        var disableAutoAppSystem = (_a = (typeof config !== \"boolean\" && config.disableAutoAppSystem)) !== null && _a !== void 0 ? _a : false;\r\n        _metrics = metrics({\r\n            connection: config ? _connection : undefined,\r\n            logger: _logger.subLogger(\"metrics\"),\r\n            canUpdateMetric: canUpdateMetric,\r\n            system: \"Glue42\",\r\n            service: (_c = (_b = identity === null || identity === void 0 ? void 0 : identity.service) !== null && _b !== void 0 ? _b : glue42gd === null || glue42gd === void 0 ? void 0 : glue42gd.applicationName) !== null && _c !== void 0 ? _c : internalConfig.application,\r\n            instance: (_e = (_d = identity === null || identity === void 0 ? void 0 : identity.instance) !== null && _d !== void 0 ? _d : identity === null || identity === void 0 ? void 0 : identity.windowId) !== null && _e !== void 0 ? _e : shortid(),\r\n            disableAutoAppSystem: disableAutoAppSystem,\r\n            pagePerformanceMetrics: typeof config !== \"boolean\" ? config === null || config === void 0 ? void 0 : config.pagePerformanceMetrics : undefined\r\n        });\r\n        registerLib(\"metrics\", _metrics, initTimer);\r\n        return Promise.resolve();\r\n    }\r\n    function setupInterop() {\r\n        var initTimer = timer(\"interop\");\r\n        var agmConfig = {\r\n            connection: _connection,\r\n            logger: _logger.subLogger(\"interop\"),\r\n        };\r\n        _interop = new Interop(agmConfig);\r\n        Logger.Interop = _interop;\r\n        registerLib([\"interop\", \"agm\"], _interop, initTimer);\r\n        return Promise.resolve();\r\n    }\r\n    function setupContexts() {\r\n        var hasActivities = (internalConfig.activities && _connection.protocolVersion === 3);\r\n        var needsContexts = internalConfig.contexts || hasActivities;\r\n        if (needsContexts) {\r\n            var initTimer = timer(\"contexts\");\r\n            _contexts = new ContextsModule({\r\n                connection: _connection,\r\n                logger: _logger.subLogger(\"contexts\")\r\n            });\r\n            registerLib(\"contexts\", _contexts, initTimer);\r\n            return _contexts;\r\n        }\r\n        else {\r\n            var replayer = _connection.replayer;\r\n            if (replayer) {\r\n                replayer.drain(ContextMessageReplaySpec.name);\r\n            }\r\n        }\r\n    }\r\n    function setupBus() {\r\n        return __awaiter$1(this, void 0, void 0, function () {\r\n            var initTimer;\r\n            return __generator(this, function (_a) {\r\n                if (!internalConfig.bus) {\r\n                    return [2, Promise.resolve()];\r\n                }\r\n                initTimer = timer(\"bus\");\r\n                _bus = new MessageBus(_connection, _logger.subLogger(\"bus\"));\r\n                registerLib(\"bus\", _bus, initTimer);\r\n                return [2, Promise.resolve()];\r\n            });\r\n        });\r\n    }\r\n    function setupExternalLibs(externalLibs) {\r\n        try {\r\n            externalLibs.forEach(function (lib) {\r\n                setupExternalLib(lib.name, lib.create);\r\n            });\r\n            return Promise.resolve();\r\n        }\r\n        catch (e) {\r\n            return Promise.reject(e);\r\n        }\r\n    }\r\n    function setupExternalLib(name, createCallback) {\r\n        var initTimer = timer(name);\r\n        var lib = createCallback(libs);\r\n        if (lib) {\r\n            registerLib(name, lib, initTimer);\r\n        }\r\n    }\r\n    function waitForLibs() {\r\n        var libsReadyPromises = Object.keys(libs).map(function (key) {\r\n            var lib = libs[key];\r\n            return lib.ready ?\r\n                lib.ready() : Promise.resolve();\r\n        });\r\n        return Promise.all(libsReadyPromises);\r\n    }\r\n    function constructGlueObject() {\r\n        var feedbackFunc = function (feedbackInfo) {\r\n            if (!_interop) {\r\n                return;\r\n            }\r\n            _interop.invoke(\"T42.ACS.Feedback\", feedbackInfo, \"best\");\r\n        };\r\n        var info = {\r\n            coreVersion: version$1,\r\n            version: internalConfig.version\r\n        };\r\n        glueInitTimer.stop();\r\n        var glue = {\r\n            feedback: feedbackFunc,\r\n            info: info,\r\n            logger: _logger,\r\n            interop: _interop,\r\n            agm: _interop,\r\n            connection: _connection,\r\n            metrics: _metrics,\r\n            contexts: _contexts,\r\n            bus: _bus,\r\n            version: internalConfig.version,\r\n            userConfig: userConfig,\r\n            done: function () {\r\n                _logger === null || _logger === void 0 ? void 0 : _logger.info(\"done called by user...\");\r\n                return _connection.logout();\r\n            }\r\n        };\r\n        glue.performance = {\r\n            get glueVer() {\r\n                return internalConfig.version;\r\n            },\r\n            get glueConfig() {\r\n                return JSON.stringify(userConfig);\r\n            },\r\n            get browser() {\r\n                return window.performance.timing.toJSON();\r\n            },\r\n            get memory() {\r\n                return window.performance.memory;\r\n            },\r\n            get initTimes() {\r\n                var all = getAllTimers();\r\n                return Object.keys(all).map(function (key) {\r\n                    var t = all[key];\r\n                    return {\r\n                        name: key,\r\n                        duration: t.endTime - t.startTime,\r\n                        marks: t.marks\r\n                    };\r\n                });\r\n            }\r\n        };\r\n        Object.keys(libs).forEach(function (key) {\r\n            var lib = libs[key];\r\n            glue[key] = lib;\r\n        });\r\n        glue.config = {};\r\n        Object.keys(internalConfig).forEach(function (k) {\r\n            glue.config[k] = internalConfig[k];\r\n        });\r\n        if (ext && ext.extOptions) {\r\n            Object.keys(ext.extOptions).forEach(function (k) {\r\n                glue.config[k] = ext === null || ext === void 0 ? void 0 : ext.extOptions[k];\r\n            });\r\n        }\r\n        if (ext === null || ext === void 0 ? void 0 : ext.enrichGlue) {\r\n            ext.enrichGlue(glue);\r\n        }\r\n        if (glue42gd && glue42gd.updatePerfData) {\r\n            glue42gd.updatePerfData(glue.performance);\r\n        }\r\n        if (glue.agm) {\r\n            var deprecatedDecorator = function (fn, wrong, proper) {\r\n                return function () {\r\n                    glue.logger.warn(\"glue.js - 'glue.agm.\" + wrong + \"' method is deprecated, use 'glue.interop.\" + proper + \"' instead.\");\r\n                    return fn.apply(glue.agm, arguments);\r\n                };\r\n            };\r\n            var agmAny = glue.agm;\r\n            agmAny.method_added = deprecatedDecorator(glue.agm.methodAdded, \"method_added\", \"methodAdded\");\r\n            agmAny.method_removed = deprecatedDecorator(glue.agm.methodRemoved, \"method_removed\", \"methodRemoved\");\r\n            agmAny.server_added = deprecatedDecorator(glue.agm.serverAdded, \"server_added\", \"serverAdded\");\r\n            agmAny.server_method_aded = deprecatedDecorator(glue.agm.serverMethodAdded, \"server_method_aded\", \"serverMethodAdded\");\r\n            agmAny.server_method_removed = deprecatedDecorator(glue.agm.serverMethodRemoved, \"server_method_removed\", \"serverMethodRemoved\");\r\n        }\r\n        return glue;\r\n    }\r\n    return preloadPromise\r\n        .then(setupLogger)\r\n        .then(setupConnection)\r\n        .then(function () { return Promise.all([setupMetrics(), setupInterop(), setupContexts(), setupBus()]); })\r\n        .then(function () { return _interop.readyPromise; })\r\n        .then(function () {\r\n        return setupExternalLibs(internalConfig.libs || []);\r\n    })\r\n        .then(waitForLibs)\r\n        .then(constructGlueObject)\r\n        .catch(function (err) {\r\n        return Promise.reject({\r\n            err: err,\r\n            libs: libs\r\n        });\r\n    });\r\n};\r\nif (typeof window !== \"undefined\") {\r\n    window.GlueCore = GlueCore;\r\n}\r\nGlueCore.version = version$1;\r\nGlueCore.default = GlueCore;\n\nconst glueWebFactory = createFactoryFunction(GlueCore);\r\nif (typeof window !== \"undefined\") {\r\n    const windowAny = window;\r\n    windowAny.GlueWeb = glueWebFactory;\r\n    delete windowAny.GlueCore;\r\n}\r\nif (!window.glue42gd && !window.glue42core) {\r\n    window.glue42core = { webStarted: false };\r\n}\r\nglueWebFactory.version = version;\n\nexport default glueWebFactory;\n//# sourceMappingURL=web.es.js.map\n","/** @license React v17.0.1\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';require(\"object-assign\");var f=require(\"react\"),g=60103;exports.Fragment=60107;if(\"function\"===typeof Symbol&&Symbol.for){var h=Symbol.for;g=h(\"react.element\");exports.Fragment=h(\"react.fragment\")}var m=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n=Object.prototype.hasOwnProperty,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,k){var b,d={},e=null,l=null;void 0!==k&&(e=\"\"+k);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(l=a.ref);for(b in a)n.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:g,type:c,key:e,ref:l,props:d,_owner:m.current}}exports.jsx=q;exports.jsxs=q;\n","/** @license React v17.0.1\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var l=require(\"object-assign\"),n=60103,p=60106;exports.Fragment=60107;exports.StrictMode=60108;exports.Profiler=60114;var q=60109,r=60110,t=60112;exports.Suspense=60113;var u=60115,v=60116;\nif(\"function\"===typeof Symbol&&Symbol.for){var w=Symbol.for;n=w(\"react.element\");p=w(\"react.portal\");exports.Fragment=w(\"react.fragment\");exports.StrictMode=w(\"react.strict_mode\");exports.Profiler=w(\"react.profiler\");q=w(\"react.provider\");r=w(\"react.context\");t=w(\"react.forward_ref\");exports.Suspense=w(\"react.suspense\");u=w(\"react.memo\");v=w(\"react.lazy\")}var x=\"function\"===typeof Symbol&&Symbol.iterator;\nfunction y(a){if(null===a||\"object\"!==typeof a)return null;a=x&&a[x]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}function z(a){for(var b=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,c=1;c<arguments.length;c++)b+=\"&args[]=\"+encodeURIComponent(arguments[c]);return\"Minified React error #\"+a+\"; visit \"+b+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}\nvar A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B={};function C(a,b,c){this.props=a;this.context=b;this.refs=B;this.updater=c||A}C.prototype.isReactComponent={};C.prototype.setState=function(a,b){if(\"object\"!==typeof a&&\"function\"!==typeof a&&null!=a)throw Error(z(85));this.updater.enqueueSetState(this,a,b,\"setState\")};C.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,\"forceUpdate\")};\nfunction D(){}D.prototype=C.prototype;function E(a,b,c){this.props=a;this.context=b;this.refs=B;this.updater=c||A}var F=E.prototype=new D;F.constructor=E;l(F,C.prototype);F.isPureReactComponent=!0;var G={current:null},H=Object.prototype.hasOwnProperty,I={key:!0,ref:!0,__self:!0,__source:!0};\nfunction J(a,b,c){var e,d={},k=null,h=null;if(null!=b)for(e in void 0!==b.ref&&(h=b.ref),void 0!==b.key&&(k=\"\"+b.key),b)H.call(b,e)&&!I.hasOwnProperty(e)&&(d[e]=b[e]);var g=arguments.length-2;if(1===g)d.children=c;else if(1<g){for(var f=Array(g),m=0;m<g;m++)f[m]=arguments[m+2];d.children=f}if(a&&a.defaultProps)for(e in g=a.defaultProps,g)void 0===d[e]&&(d[e]=g[e]);return{$$typeof:n,type:a,key:k,ref:h,props:d,_owner:G.current}}\nfunction K(a,b){return{$$typeof:n,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}function L(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===n}function escape(a){var b={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+a.replace(/[=:]/g,function(a){return b[a]})}var M=/\\/+/g;function N(a,b){return\"object\"===typeof a&&null!==a&&null!=a.key?escape(\"\"+a.key):b.toString(36)}\nfunction O(a,b,c,e,d){var k=typeof a;if(\"undefined\"===k||\"boolean\"===k)a=null;var h=!1;if(null===a)h=!0;else switch(k){case \"string\":case \"number\":h=!0;break;case \"object\":switch(a.$$typeof){case n:case p:h=!0}}if(h)return h=a,d=d(h),a=\"\"===e?\".\"+N(h,0):e,Array.isArray(d)?(c=\"\",null!=a&&(c=a.replace(M,\"$&/\")+\"/\"),O(d,b,c,\"\",function(a){return a})):null!=d&&(L(d)&&(d=K(d,c+(!d.key||h&&h.key===d.key?\"\":(\"\"+d.key).replace(M,\"$&/\")+\"/\")+a)),b.push(d)),1;h=0;e=\"\"===e?\".\":e+\":\";if(Array.isArray(a))for(var g=\n0;g<a.length;g++){k=a[g];var f=e+N(k,g);h+=O(k,b,c,f,d)}else if(f=y(a),\"function\"===typeof f)for(a=f.call(a),g=0;!(k=a.next()).done;)k=k.value,f=e+N(k,g++),h+=O(k,b,c,f,d);else if(\"object\"===k)throw b=\"\"+a,Error(z(31,\"[object Object]\"===b?\"object with keys {\"+Object.keys(a).join(\", \")+\"}\":b));return h}function P(a,b,c){if(null==a)return a;var e=[],d=0;O(a,e,\"\",\"\",function(a){return b.call(c,a,d++)});return e}\nfunction Q(a){if(-1===a._status){var b=a._result;b=b();a._status=0;a._result=b;b.then(function(b){0===a._status&&(b=b.default,a._status=1,a._result=b)},function(b){0===a._status&&(a._status=2,a._result=b)})}if(1===a._status)return a._result;throw a._result;}var R={current:null};function S(){var a=R.current;if(null===a)throw Error(z(321));return a}var T={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:G,IsSomeRendererActing:{current:!1},assign:l};\nexports.Children={map:P,forEach:function(a,b,c){P(a,function(){b.apply(this,arguments)},c)},count:function(a){var b=0;P(a,function(){b++});return b},toArray:function(a){return P(a,function(a){return a})||[]},only:function(a){if(!L(a))throw Error(z(143));return a}};exports.Component=C;exports.PureComponent=E;exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T;\nexports.cloneElement=function(a,b,c){if(null===a||void 0===a)throw Error(z(267,a));var e=l({},a.props),d=a.key,k=a.ref,h=a._owner;if(null!=b){void 0!==b.ref&&(k=b.ref,h=G.current);void 0!==b.key&&(d=\"\"+b.key);if(a.type&&a.type.defaultProps)var g=a.type.defaultProps;for(f in b)H.call(b,f)&&!I.hasOwnProperty(f)&&(e[f]=void 0===b[f]&&void 0!==g?g[f]:b[f])}var f=arguments.length-2;if(1===f)e.children=c;else if(1<f){g=Array(f);for(var m=0;m<f;m++)g[m]=arguments[m+2];e.children=g}return{$$typeof:n,type:a.type,\nkey:d,ref:k,props:e,_owner:h}};exports.createContext=function(a,b){void 0===b&&(b=null);a={$$typeof:r,_calculateChangedBits:b,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null};a.Provider={$$typeof:q,_context:a};return a.Consumer=a};exports.createElement=J;exports.createFactory=function(a){var b=J.bind(null,a);b.type=a;return b};exports.createRef=function(){return{current:null}};exports.forwardRef=function(a){return{$$typeof:t,render:a}};exports.isValidElement=L;\nexports.lazy=function(a){return{$$typeof:v,_payload:{_status:-1,_result:a},_init:Q}};exports.memo=function(a,b){return{$$typeof:u,type:a,compare:void 0===b?null:b}};exports.useCallback=function(a,b){return S().useCallback(a,b)};exports.useContext=function(a,b){return S().useContext(a,b)};exports.useDebugValue=function(){};exports.useEffect=function(a,b){return S().useEffect(a,b)};exports.useImperativeHandle=function(a,b,c){return S().useImperativeHandle(a,b,c)};\nexports.useLayoutEffect=function(a,b){return S().useLayoutEffect(a,b)};exports.useMemo=function(a,b){return S().useMemo(a,b)};exports.useReducer=function(a,b,c){return S().useReducer(a,b,c)};exports.useRef=function(a){return S().useRef(a)};exports.useState=function(a){return S().useState(a)};exports.version=\"17.0.1\";\n","/** @license React v17.0.1\n * react-dom.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n/*\n Modernizr 3.0.0pre (Custom Build) | MIT\n*/\n'use strict';var aa=require(\"react\"),m=require(\"object-assign\"),r=require(\"scheduler\");function y(a){for(var b=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,c=1;c<arguments.length;c++)b+=\"&args[]=\"+encodeURIComponent(arguments[c]);return\"Minified React error #\"+a+\"; visit \"+b+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}if(!aa)throw Error(y(227));var ba=new Set,ca={};function da(a,b){ea(a,b);ea(a+\"Capture\",b)}\nfunction ea(a,b){ca[a]=b;for(a=0;a<b.length;a++)ba.add(b[a])}\nvar fa=!(\"undefined\"===typeof window||\"undefined\"===typeof window.document||\"undefined\"===typeof window.document.createElement),ha=/^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$/,ia=Object.prototype.hasOwnProperty,\nja={},ka={};function la(a){if(ia.call(ka,a))return!0;if(ia.call(ja,a))return!1;if(ha.test(a))return ka[a]=!0;ja[a]=!0;return!1}function ma(a,b,c,d){if(null!==c&&0===c.type)return!1;switch(typeof b){case \"function\":case \"symbol\":return!0;case \"boolean\":if(d)return!1;if(null!==c)return!c.acceptsBooleans;a=a.toLowerCase().slice(0,5);return\"data-\"!==a&&\"aria-\"!==a;default:return!1}}\nfunction na(a,b,c,d){if(null===b||\"undefined\"===typeof b||ma(a,b,c,d))return!0;if(d)return!1;if(null!==c)switch(c.type){case 3:return!b;case 4:return!1===b;case 5:return isNaN(b);case 6:return isNaN(b)||1>b}return!1}function B(a,b,c,d,e,f,g){this.acceptsBooleans=2===b||3===b||4===b;this.attributeName=d;this.attributeNamespace=e;this.mustUseProperty=c;this.propertyName=a;this.type=b;this.sanitizeURL=f;this.removeEmptyString=g}var D={};\n\"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style\".split(\" \").forEach(function(a){D[a]=new B(a,0,!1,a,null,!1,!1)});[[\"acceptCharset\",\"accept-charset\"],[\"className\",\"class\"],[\"htmlFor\",\"for\"],[\"httpEquiv\",\"http-equiv\"]].forEach(function(a){var b=a[0];D[b]=new B(b,1,!1,a[1],null,!1,!1)});[\"contentEditable\",\"draggable\",\"spellCheck\",\"value\"].forEach(function(a){D[a]=new B(a,2,!1,a.toLowerCase(),null,!1,!1)});\n[\"autoReverse\",\"externalResourcesRequired\",\"focusable\",\"preserveAlpha\"].forEach(function(a){D[a]=new B(a,2,!1,a,null,!1,!1)});\"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope\".split(\" \").forEach(function(a){D[a]=new B(a,3,!1,a.toLowerCase(),null,!1,!1)});\n[\"checked\",\"multiple\",\"muted\",\"selected\"].forEach(function(a){D[a]=new B(a,3,!0,a,null,!1,!1)});[\"capture\",\"download\"].forEach(function(a){D[a]=new B(a,4,!1,a,null,!1,!1)});[\"cols\",\"rows\",\"size\",\"span\"].forEach(function(a){D[a]=new B(a,6,!1,a,null,!1,!1)});[\"rowSpan\",\"start\"].forEach(function(a){D[a]=new B(a,5,!1,a.toLowerCase(),null,!1,!1)});var oa=/[\\-:]([a-z])/g;function pa(a){return a[1].toUpperCase()}\n\"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height\".split(\" \").forEach(function(a){var b=a.replace(oa,\npa);D[b]=new B(b,1,!1,a,null,!1,!1)});\"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type\".split(\" \").forEach(function(a){var b=a.replace(oa,pa);D[b]=new B(b,1,!1,a,\"http://www.w3.org/1999/xlink\",!1,!1)});[\"xml:base\",\"xml:lang\",\"xml:space\"].forEach(function(a){var b=a.replace(oa,pa);D[b]=new B(b,1,!1,a,\"http://www.w3.org/XML/1998/namespace\",!1,!1)});[\"tabIndex\",\"crossOrigin\"].forEach(function(a){D[a]=new B(a,1,!1,a.toLowerCase(),null,!1,!1)});\nD.xlinkHref=new B(\"xlinkHref\",1,!1,\"xlink:href\",\"http://www.w3.org/1999/xlink\",!0,!1);[\"src\",\"href\",\"action\",\"formAction\"].forEach(function(a){D[a]=new B(a,1,!1,a.toLowerCase(),null,!0,!0)});\nfunction qa(a,b,c,d){var e=D.hasOwnProperty(b)?D[b]:null;var f=null!==e?0===e.type:d?!1:!(2<b.length)||\"o\"!==b[0]&&\"O\"!==b[0]||\"n\"!==b[1]&&\"N\"!==b[1]?!1:!0;f||(na(b,c,e,d)&&(c=null),d||null===e?la(b)&&(null===c?a.removeAttribute(b):a.setAttribute(b,\"\"+c)):e.mustUseProperty?a[e.propertyName]=null===c?3===e.type?!1:\"\":c:(b=e.attributeName,d=e.attributeNamespace,null===c?a.removeAttribute(b):(e=e.type,c=3===e||4===e&&!0===c?\"\":\"\"+c,d?a.setAttributeNS(d,b,c):a.setAttribute(b,c))))}\nvar ra=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sa=60103,ta=60106,ua=60107,wa=60108,xa=60114,ya=60109,za=60110,Aa=60112,Ba=60113,Ca=60120,Da=60115,Ea=60116,Fa=60121,Ga=60128,Ha=60129,Ia=60130,Ja=60131;\nif(\"function\"===typeof Symbol&&Symbol.for){var E=Symbol.for;sa=E(\"react.element\");ta=E(\"react.portal\");ua=E(\"react.fragment\");wa=E(\"react.strict_mode\");xa=E(\"react.profiler\");ya=E(\"react.provider\");za=E(\"react.context\");Aa=E(\"react.forward_ref\");Ba=E(\"react.suspense\");Ca=E(\"react.suspense_list\");Da=E(\"react.memo\");Ea=E(\"react.lazy\");Fa=E(\"react.block\");E(\"react.scope\");Ga=E(\"react.opaque.id\");Ha=E(\"react.debug_trace_mode\");Ia=E(\"react.offscreen\");Ja=E(\"react.legacy_hidden\")}\nvar Ka=\"function\"===typeof Symbol&&Symbol.iterator;function La(a){if(null===a||\"object\"!==typeof a)return null;a=Ka&&a[Ka]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}var Ma;function Na(a){if(void 0===Ma)try{throw Error();}catch(c){var b=c.stack.trim().match(/\\n( *(at )?)/);Ma=b&&b[1]||\"\"}return\"\\n\"+Ma+a}var Oa=!1;\nfunction Pa(a,b){if(!a||Oa)return\"\";Oa=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(b)if(b=function(){throw Error();},Object.defineProperty(b.prototype,\"props\",{set:function(){throw Error();}}),\"object\"===typeof Reflect&&Reflect.construct){try{Reflect.construct(b,[])}catch(k){var d=k}Reflect.construct(a,[],b)}else{try{b.call()}catch(k){d=k}a.call(b.prototype)}else{try{throw Error();}catch(k){d=k}a()}}catch(k){if(k&&d&&\"string\"===typeof k.stack){for(var e=k.stack.split(\"\\n\"),\nf=d.stack.split(\"\\n\"),g=e.length-1,h=f.length-1;1<=g&&0<=h&&e[g]!==f[h];)h--;for(;1<=g&&0<=h;g--,h--)if(e[g]!==f[h]){if(1!==g||1!==h){do if(g--,h--,0>h||e[g]!==f[h])return\"\\n\"+e[g].replace(\" at new \",\" at \");while(1<=g&&0<=h)}break}}}finally{Oa=!1,Error.prepareStackTrace=c}return(a=a?a.displayName||a.name:\"\")?Na(a):\"\"}\nfunction Qa(a){switch(a.tag){case 5:return Na(a.type);case 16:return Na(\"Lazy\");case 13:return Na(\"Suspense\");case 19:return Na(\"SuspenseList\");case 0:case 2:case 15:return a=Pa(a.type,!1),a;case 11:return a=Pa(a.type.render,!1),a;case 22:return a=Pa(a.type._render,!1),a;case 1:return a=Pa(a.type,!0),a;default:return\"\"}}\nfunction Ra(a){if(null==a)return null;if(\"function\"===typeof a)return a.displayName||a.name||null;if(\"string\"===typeof a)return a;switch(a){case ua:return\"Fragment\";case ta:return\"Portal\";case xa:return\"Profiler\";case wa:return\"StrictMode\";case Ba:return\"Suspense\";case Ca:return\"SuspenseList\"}if(\"object\"===typeof a)switch(a.$$typeof){case za:return(a.displayName||\"Context\")+\".Consumer\";case ya:return(a._context.displayName||\"Context\")+\".Provider\";case Aa:var b=a.render;b=b.displayName||b.name||\"\";\nreturn a.displayName||(\"\"!==b?\"ForwardRef(\"+b+\")\":\"ForwardRef\");case Da:return Ra(a.type);case Fa:return Ra(a._render);case Ea:b=a._payload;a=a._init;try{return Ra(a(b))}catch(c){}}return null}function Sa(a){switch(typeof a){case \"boolean\":case \"number\":case \"object\":case \"string\":case \"undefined\":return a;default:return\"\"}}function Ta(a){var b=a.type;return(a=a.nodeName)&&\"input\"===a.toLowerCase()&&(\"checkbox\"===b||\"radio\"===b)}\nfunction Ua(a){var b=Ta(a)?\"checked\":\"value\",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,b),d=\"\"+a[b];if(!a.hasOwnProperty(b)&&\"undefined\"!==typeof c&&\"function\"===typeof c.get&&\"function\"===typeof c.set){var e=c.get,f=c.set;Object.defineProperty(a,b,{configurable:!0,get:function(){return e.call(this)},set:function(a){d=\"\"+a;f.call(this,a)}});Object.defineProperty(a,b,{enumerable:c.enumerable});return{getValue:function(){return d},setValue:function(a){d=\"\"+a},stopTracking:function(){a._valueTracker=\nnull;delete a[b]}}}}function Va(a){a._valueTracker||(a._valueTracker=Ua(a))}function Wa(a){if(!a)return!1;var b=a._valueTracker;if(!b)return!0;var c=b.getValue();var d=\"\";a&&(d=Ta(a)?a.checked?\"true\":\"false\":a.value);a=d;return a!==c?(b.setValue(a),!0):!1}function Xa(a){a=a||(\"undefined\"!==typeof document?document:void 0);if(\"undefined\"===typeof a)return null;try{return a.activeElement||a.body}catch(b){return a.body}}\nfunction Ya(a,b){var c=b.checked;return m({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=c?c:a._wrapperState.initialChecked})}function Za(a,b){var c=null==b.defaultValue?\"\":b.defaultValue,d=null!=b.checked?b.checked:b.defaultChecked;c=Sa(null!=b.value?b.value:c);a._wrapperState={initialChecked:d,initialValue:c,controlled:\"checkbox\"===b.type||\"radio\"===b.type?null!=b.checked:null!=b.value}}function $a(a,b){b=b.checked;null!=b&&qa(a,\"checked\",b,!1)}\nfunction ab(a,b){$a(a,b);var c=Sa(b.value),d=b.type;if(null!=c)if(\"number\"===d){if(0===c&&\"\"===a.value||a.value!=c)a.value=\"\"+c}else a.value!==\"\"+c&&(a.value=\"\"+c);else if(\"submit\"===d||\"reset\"===d){a.removeAttribute(\"value\");return}b.hasOwnProperty(\"value\")?bb(a,b.type,c):b.hasOwnProperty(\"defaultValue\")&&bb(a,b.type,Sa(b.defaultValue));null==b.checked&&null!=b.defaultChecked&&(a.defaultChecked=!!b.defaultChecked)}\nfunction cb(a,b,c){if(b.hasOwnProperty(\"value\")||b.hasOwnProperty(\"defaultValue\")){var d=b.type;if(!(\"submit\"!==d&&\"reset\"!==d||void 0!==b.value&&null!==b.value))return;b=\"\"+a._wrapperState.initialValue;c||b===a.value||(a.value=b);a.defaultValue=b}c=a.name;\"\"!==c&&(a.name=\"\");a.defaultChecked=!!a._wrapperState.initialChecked;\"\"!==c&&(a.name=c)}\nfunction bb(a,b,c){if(\"number\"!==b||Xa(a.ownerDocument)!==a)null==c?a.defaultValue=\"\"+a._wrapperState.initialValue:a.defaultValue!==\"\"+c&&(a.defaultValue=\"\"+c)}function db(a){var b=\"\";aa.Children.forEach(a,function(a){null!=a&&(b+=a)});return b}function eb(a,b){a=m({children:void 0},b);if(b=db(b.children))a.children=b;return a}\nfunction fb(a,b,c,d){a=a.options;if(b){b={};for(var e=0;e<c.length;e++)b[\"$\"+c[e]]=!0;for(c=0;c<a.length;c++)e=b.hasOwnProperty(\"$\"+a[c].value),a[c].selected!==e&&(a[c].selected=e),e&&d&&(a[c].defaultSelected=!0)}else{c=\"\"+Sa(c);b=null;for(e=0;e<a.length;e++){if(a[e].value===c){a[e].selected=!0;d&&(a[e].defaultSelected=!0);return}null!==b||a[e].disabled||(b=a[e])}null!==b&&(b.selected=!0)}}\nfunction gb(a,b){if(null!=b.dangerouslySetInnerHTML)throw Error(y(91));return m({},b,{value:void 0,defaultValue:void 0,children:\"\"+a._wrapperState.initialValue})}function hb(a,b){var c=b.value;if(null==c){c=b.children;b=b.defaultValue;if(null!=c){if(null!=b)throw Error(y(92));if(Array.isArray(c)){if(!(1>=c.length))throw Error(y(93));c=c[0]}b=c}null==b&&(b=\"\");c=b}a._wrapperState={initialValue:Sa(c)}}\nfunction ib(a,b){var c=Sa(b.value),d=Sa(b.defaultValue);null!=c&&(c=\"\"+c,c!==a.value&&(a.value=c),null==b.defaultValue&&a.defaultValue!==c&&(a.defaultValue=c));null!=d&&(a.defaultValue=\"\"+d)}function jb(a){var b=a.textContent;b===a._wrapperState.initialValue&&\"\"!==b&&null!==b&&(a.value=b)}var kb={html:\"http://www.w3.org/1999/xhtml\",mathml:\"http://www.w3.org/1998/Math/MathML\",svg:\"http://www.w3.org/2000/svg\"};\nfunction lb(a){switch(a){case \"svg\":return\"http://www.w3.org/2000/svg\";case \"math\":return\"http://www.w3.org/1998/Math/MathML\";default:return\"http://www.w3.org/1999/xhtml\"}}function mb(a,b){return null==a||\"http://www.w3.org/1999/xhtml\"===a?lb(b):\"http://www.w3.org/2000/svg\"===a&&\"foreignObject\"===b?\"http://www.w3.org/1999/xhtml\":a}\nvar nb,ob=function(a){return\"undefined\"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(b,c,d,e){MSApp.execUnsafeLocalFunction(function(){return a(b,c,d,e)})}:a}(function(a,b){if(a.namespaceURI!==kb.svg||\"innerHTML\"in a)a.innerHTML=b;else{nb=nb||document.createElement(\"div\");nb.innerHTML=\"<svg>\"+b.valueOf().toString()+\"</svg>\";for(b=nb.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;b.firstChild;)a.appendChild(b.firstChild)}});\nfunction pb(a,b){if(b){var c=a.firstChild;if(c&&c===a.lastChild&&3===c.nodeType){c.nodeValue=b;return}}a.textContent=b}\nvar qb={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,\nfloodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rb=[\"Webkit\",\"ms\",\"Moz\",\"O\"];Object.keys(qb).forEach(function(a){rb.forEach(function(b){b=b+a.charAt(0).toUpperCase()+a.substring(1);qb[b]=qb[a]})});function sb(a,b,c){return null==b||\"boolean\"===typeof b||\"\"===b?\"\":c||\"number\"!==typeof b||0===b||qb.hasOwnProperty(a)&&qb[a]?(\"\"+b).trim():b+\"px\"}\nfunction tb(a,b){a=a.style;for(var c in b)if(b.hasOwnProperty(c)){var d=0===c.indexOf(\"--\"),e=sb(c,b[c],d);\"float\"===c&&(c=\"cssFloat\");d?a.setProperty(c,e):a[c]=e}}var ub=m({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});\nfunction vb(a,b){if(b){if(ub[a]&&(null!=b.children||null!=b.dangerouslySetInnerHTML))throw Error(y(137,a));if(null!=b.dangerouslySetInnerHTML){if(null!=b.children)throw Error(y(60));if(!(\"object\"===typeof b.dangerouslySetInnerHTML&&\"__html\"in b.dangerouslySetInnerHTML))throw Error(y(61));}if(null!=b.style&&\"object\"!==typeof b.style)throw Error(y(62));}}\nfunction wb(a,b){if(-1===a.indexOf(\"-\"))return\"string\"===typeof b.is;switch(a){case \"annotation-xml\":case \"color-profile\":case \"font-face\":case \"font-face-src\":case \"font-face-uri\":case \"font-face-format\":case \"font-face-name\":case \"missing-glyph\":return!1;default:return!0}}function xb(a){a=a.target||a.srcElement||window;a.correspondingUseElement&&(a=a.correspondingUseElement);return 3===a.nodeType?a.parentNode:a}var yb=null,zb=null,Ab=null;\nfunction Bb(a){if(a=Cb(a)){if(\"function\"!==typeof yb)throw Error(y(280));var b=a.stateNode;b&&(b=Db(b),yb(a.stateNode,a.type,b))}}function Eb(a){zb?Ab?Ab.push(a):Ab=[a]:zb=a}function Fb(){if(zb){var a=zb,b=Ab;Ab=zb=null;Bb(a);if(b)for(a=0;a<b.length;a++)Bb(b[a])}}function Gb(a,b){return a(b)}function Hb(a,b,c,d,e){return a(b,c,d,e)}function Ib(){}var Jb=Gb,Kb=!1,Lb=!1;function Mb(){if(null!==zb||null!==Ab)Ib(),Fb()}\nfunction Nb(a,b,c){if(Lb)return a(b,c);Lb=!0;try{return Jb(a,b,c)}finally{Lb=!1,Mb()}}\nfunction Ob(a,b){var c=a.stateNode;if(null===c)return null;var d=Db(c);if(null===d)return null;c=d[b];a:switch(b){case \"onClick\":case \"onClickCapture\":case \"onDoubleClick\":case \"onDoubleClickCapture\":case \"onMouseDown\":case \"onMouseDownCapture\":case \"onMouseMove\":case \"onMouseMoveCapture\":case \"onMouseUp\":case \"onMouseUpCapture\":case \"onMouseEnter\":(d=!d.disabled)||(a=a.type,d=!(\"button\"===a||\"input\"===a||\"select\"===a||\"textarea\"===a));a=!d;break a;default:a=!1}if(a)return null;if(c&&\"function\"!==\ntypeof c)throw Error(y(231,b,typeof c));return c}var Pb=!1;if(fa)try{var Qb={};Object.defineProperty(Qb,\"passive\",{get:function(){Pb=!0}});window.addEventListener(\"test\",Qb,Qb);window.removeEventListener(\"test\",Qb,Qb)}catch(a){Pb=!1}function Rb(a,b,c,d,e,f,g,h,k){var l=Array.prototype.slice.call(arguments,3);try{b.apply(c,l)}catch(n){this.onError(n)}}var Sb=!1,Tb=null,Ub=!1,Vb=null,Wb={onError:function(a){Sb=!0;Tb=a}};function Xb(a,b,c,d,e,f,g,h,k){Sb=!1;Tb=null;Rb.apply(Wb,arguments)}\nfunction Yb(a,b,c,d,e,f,g,h,k){Xb.apply(this,arguments);if(Sb){if(Sb){var l=Tb;Sb=!1;Tb=null}else throw Error(y(198));Ub||(Ub=!0,Vb=l)}}function Zb(a){var b=a,c=a;if(a.alternate)for(;b.return;)b=b.return;else{a=b;do b=a,0!==(b.flags&1026)&&(c=b.return),a=b.return;while(a)}return 3===b.tag?c:null}function $b(a){if(13===a.tag){var b=a.memoizedState;null===b&&(a=a.alternate,null!==a&&(b=a.memoizedState));if(null!==b)return b.dehydrated}return null}function ac(a){if(Zb(a)!==a)throw Error(y(188));}\nfunction bc(a){var b=a.alternate;if(!b){b=Zb(a);if(null===b)throw Error(y(188));return b!==a?null:a}for(var c=a,d=b;;){var e=c.return;if(null===e)break;var f=e.alternate;if(null===f){d=e.return;if(null!==d){c=d;continue}break}if(e.child===f.child){for(f=e.child;f;){if(f===c)return ac(e),a;if(f===d)return ac(e),b;f=f.sibling}throw Error(y(188));}if(c.return!==d.return)c=e,d=f;else{for(var g=!1,h=e.child;h;){if(h===c){g=!0;c=e;d=f;break}if(h===d){g=!0;d=e;c=f;break}h=h.sibling}if(!g){for(h=f.child;h;){if(h===\nc){g=!0;c=f;d=e;break}if(h===d){g=!0;d=f;c=e;break}h=h.sibling}if(!g)throw Error(y(189));}}if(c.alternate!==d)throw Error(y(190));}if(3!==c.tag)throw Error(y(188));return c.stateNode.current===c?a:b}function cc(a){a=bc(a);if(!a)return null;for(var b=a;;){if(5===b.tag||6===b.tag)return b;if(b.child)b.child.return=b,b=b.child;else{if(b===a)break;for(;!b.sibling;){if(!b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}}return null}\nfunction dc(a,b){for(var c=a.alternate;null!==b;){if(b===a||b===c)return!0;b=b.return}return!1}var ec,fc,gc,hc,ic=!1,jc=[],kc=null,lc=null,mc=null,nc=new Map,oc=new Map,pc=[],qc=\"mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit\".split(\" \");\nfunction rc(a,b,c,d,e){return{blockedOn:a,domEventName:b,eventSystemFlags:c|16,nativeEvent:e,targetContainers:[d]}}function sc(a,b){switch(a){case \"focusin\":case \"focusout\":kc=null;break;case \"dragenter\":case \"dragleave\":lc=null;break;case \"mouseover\":case \"mouseout\":mc=null;break;case \"pointerover\":case \"pointerout\":nc.delete(b.pointerId);break;case \"gotpointercapture\":case \"lostpointercapture\":oc.delete(b.pointerId)}}\nfunction tc(a,b,c,d,e,f){if(null===a||a.nativeEvent!==f)return a=rc(b,c,d,e,f),null!==b&&(b=Cb(b),null!==b&&fc(b)),a;a.eventSystemFlags|=d;b=a.targetContainers;null!==e&&-1===b.indexOf(e)&&b.push(e);return a}\nfunction uc(a,b,c,d,e){switch(b){case \"focusin\":return kc=tc(kc,a,b,c,d,e),!0;case \"dragenter\":return lc=tc(lc,a,b,c,d,e),!0;case \"mouseover\":return mc=tc(mc,a,b,c,d,e),!0;case \"pointerover\":var f=e.pointerId;nc.set(f,tc(nc.get(f)||null,a,b,c,d,e));return!0;case \"gotpointercapture\":return f=e.pointerId,oc.set(f,tc(oc.get(f)||null,a,b,c,d,e)),!0}return!1}\nfunction vc(a){var b=wc(a.target);if(null!==b){var c=Zb(b);if(null!==c)if(b=c.tag,13===b){if(b=$b(c),null!==b){a.blockedOn=b;hc(a.lanePriority,function(){r.unstable_runWithPriority(a.priority,function(){gc(c)})});return}}else if(3===b&&c.stateNode.hydrate){a.blockedOn=3===c.tag?c.stateNode.containerInfo:null;return}}a.blockedOn=null}\nfunction xc(a){if(null!==a.blockedOn)return!1;for(var b=a.targetContainers;0<b.length;){var c=yc(a.domEventName,a.eventSystemFlags,b[0],a.nativeEvent);if(null!==c)return b=Cb(c),null!==b&&fc(b),a.blockedOn=c,!1;b.shift()}return!0}function zc(a,b,c){xc(a)&&c.delete(b)}\nfunction Ac(){for(ic=!1;0<jc.length;){var a=jc[0];if(null!==a.blockedOn){a=Cb(a.blockedOn);null!==a&&ec(a);break}for(var b=a.targetContainers;0<b.length;){var c=yc(a.domEventName,a.eventSystemFlags,b[0],a.nativeEvent);if(null!==c){a.blockedOn=c;break}b.shift()}null===a.blockedOn&&jc.shift()}null!==kc&&xc(kc)&&(kc=null);null!==lc&&xc(lc)&&(lc=null);null!==mc&&xc(mc)&&(mc=null);nc.forEach(zc);oc.forEach(zc)}\nfunction Bc(a,b){a.blockedOn===b&&(a.blockedOn=null,ic||(ic=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ac)))}\nfunction Cc(a){function b(b){return Bc(b,a)}if(0<jc.length){Bc(jc[0],a);for(var c=1;c<jc.length;c++){var d=jc[c];d.blockedOn===a&&(d.blockedOn=null)}}null!==kc&&Bc(kc,a);null!==lc&&Bc(lc,a);null!==mc&&Bc(mc,a);nc.forEach(b);oc.forEach(b);for(c=0;c<pc.length;c++)d=pc[c],d.blockedOn===a&&(d.blockedOn=null);for(;0<pc.length&&(c=pc[0],null===c.blockedOn);)vc(c),null===c.blockedOn&&pc.shift()}\nfunction Dc(a,b){var c={};c[a.toLowerCase()]=b.toLowerCase();c[\"Webkit\"+a]=\"webkit\"+b;c[\"Moz\"+a]=\"moz\"+b;return c}var Ec={animationend:Dc(\"Animation\",\"AnimationEnd\"),animationiteration:Dc(\"Animation\",\"AnimationIteration\"),animationstart:Dc(\"Animation\",\"AnimationStart\"),transitionend:Dc(\"Transition\",\"TransitionEnd\")},Fc={},Gc={};\nfa&&(Gc=document.createElement(\"div\").style,\"AnimationEvent\"in window||(delete Ec.animationend.animation,delete Ec.animationiteration.animation,delete Ec.animationstart.animation),\"TransitionEvent\"in window||delete Ec.transitionend.transition);function Hc(a){if(Fc[a])return Fc[a];if(!Ec[a])return a;var b=Ec[a],c;for(c in b)if(b.hasOwnProperty(c)&&c in Gc)return Fc[a]=b[c];return a}\nvar Ic=Hc(\"animationend\"),Jc=Hc(\"animationiteration\"),Kc=Hc(\"animationstart\"),Lc=Hc(\"transitionend\"),Mc=new Map,Nc=new Map,Oc=[\"abort\",\"abort\",Ic,\"animationEnd\",Jc,\"animationIteration\",Kc,\"animationStart\",\"canplay\",\"canPlay\",\"canplaythrough\",\"canPlayThrough\",\"durationchange\",\"durationChange\",\"emptied\",\"emptied\",\"encrypted\",\"encrypted\",\"ended\",\"ended\",\"error\",\"error\",\"gotpointercapture\",\"gotPointerCapture\",\"load\",\"load\",\"loadeddata\",\"loadedData\",\"loadedmetadata\",\"loadedMetadata\",\"loadstart\",\"loadStart\",\n\"lostpointercapture\",\"lostPointerCapture\",\"playing\",\"playing\",\"progress\",\"progress\",\"seeking\",\"seeking\",\"stalled\",\"stalled\",\"suspend\",\"suspend\",\"timeupdate\",\"timeUpdate\",Lc,\"transitionEnd\",\"waiting\",\"waiting\"];function Pc(a,b){for(var c=0;c<a.length;c+=2){var d=a[c],e=a[c+1];e=\"on\"+(e[0].toUpperCase()+e.slice(1));Nc.set(d,b);Mc.set(d,e);da(e,[d])}}var Qc=r.unstable_now;Qc();var F=8;\nfunction Rc(a){if(0!==(1&a))return F=15,1;if(0!==(2&a))return F=14,2;if(0!==(4&a))return F=13,4;var b=24&a;if(0!==b)return F=12,b;if(0!==(a&32))return F=11,32;b=192&a;if(0!==b)return F=10,b;if(0!==(a&256))return F=9,256;b=3584&a;if(0!==b)return F=8,b;if(0!==(a&4096))return F=7,4096;b=4186112&a;if(0!==b)return F=6,b;b=62914560&a;if(0!==b)return F=5,b;if(a&67108864)return F=4,67108864;if(0!==(a&134217728))return F=3,134217728;b=805306368&a;if(0!==b)return F=2,b;if(0!==(1073741824&a))return F=1,1073741824;\nF=8;return a}function Sc(a){switch(a){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function Tc(a){switch(a){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(y(358,a));}}\nfunction Uc(a,b){var c=a.pendingLanes;if(0===c)return F=0;var d=0,e=0,f=a.expiredLanes,g=a.suspendedLanes,h=a.pingedLanes;if(0!==f)d=f,e=F=15;else if(f=c&134217727,0!==f){var k=f&~g;0!==k?(d=Rc(k),e=F):(h&=f,0!==h&&(d=Rc(h),e=F))}else f=c&~g,0!==f?(d=Rc(f),e=F):0!==h&&(d=Rc(h),e=F);if(0===d)return 0;d=31-Vc(d);d=c&((0>d?0:1<<d)<<1)-1;if(0!==b&&b!==d&&0===(b&g)){Rc(b);if(e<=F)return b;F=e}b=a.entangledLanes;if(0!==b)for(a=a.entanglements,b&=d;0<b;)c=31-Vc(b),e=1<<c,d|=a[c],b&=~e;return d}\nfunction Wc(a){a=a.pendingLanes&-1073741825;return 0!==a?a:a&1073741824?1073741824:0}function Xc(a,b){switch(a){case 15:return 1;case 14:return 2;case 12:return a=Yc(24&~b),0===a?Xc(10,b):a;case 10:return a=Yc(192&~b),0===a?Xc(8,b):a;case 8:return a=Yc(3584&~b),0===a&&(a=Yc(4186112&~b),0===a&&(a=512)),a;case 2:return b=Yc(805306368&~b),0===b&&(b=268435456),b}throw Error(y(358,a));}function Yc(a){return a&-a}function Zc(a){for(var b=[],c=0;31>c;c++)b.push(a);return b}\nfunction $c(a,b,c){a.pendingLanes|=b;var d=b-1;a.suspendedLanes&=d;a.pingedLanes&=d;a=a.eventTimes;b=31-Vc(b);a[b]=c}var Vc=Math.clz32?Math.clz32:ad,bd=Math.log,cd=Math.LN2;function ad(a){return 0===a?32:31-(bd(a)/cd|0)|0}var dd=r.unstable_UserBlockingPriority,ed=r.unstable_runWithPriority,fd=!0;function gd(a,b,c,d){Kb||Ib();var e=hd,f=Kb;Kb=!0;try{Hb(e,a,b,c,d)}finally{(Kb=f)||Mb()}}function id(a,b,c,d){ed(dd,hd.bind(null,a,b,c,d))}\nfunction hd(a,b,c,d){if(fd){var e;if((e=0===(b&4))&&0<jc.length&&-1<qc.indexOf(a))a=rc(null,a,b,c,d),jc.push(a);else{var f=yc(a,b,c,d);if(null===f)e&&sc(a,d);else{if(e){if(-1<qc.indexOf(a)){a=rc(f,a,b,c,d);jc.push(a);return}if(uc(f,a,b,c,d))return;sc(a,d)}jd(a,b,d,null,c)}}}}\nfunction yc(a,b,c,d){var e=xb(d);e=wc(e);if(null!==e){var f=Zb(e);if(null===f)e=null;else{var g=f.tag;if(13===g){e=$b(f);if(null!==e)return e;e=null}else if(3===g){if(f.stateNode.hydrate)return 3===f.tag?f.stateNode.containerInfo:null;e=null}else f!==e&&(e=null)}}jd(a,b,d,e,c);return null}var kd=null,ld=null,md=null;\nfunction nd(){if(md)return md;var a,b=ld,c=b.length,d,e=\"value\"in kd?kd.value:kd.textContent,f=e.length;for(a=0;a<c&&b[a]===e[a];a++);var g=c-a;for(d=1;d<=g&&b[c-d]===e[f-d];d++);return md=e.slice(a,1<d?1-d:void 0)}function od(a){var b=a.keyCode;\"charCode\"in a?(a=a.charCode,0===a&&13===b&&(a=13)):a=b;10===a&&(a=13);return 32<=a||13===a?a:0}function pd(){return!0}function qd(){return!1}\nfunction rd(a){function b(b,d,e,f,g){this._reactName=b;this._targetInst=e;this.type=d;this.nativeEvent=f;this.target=g;this.currentTarget=null;for(var c in a)a.hasOwnProperty(c)&&(b=a[c],this[c]=b?b(f):f[c]);this.isDefaultPrevented=(null!=f.defaultPrevented?f.defaultPrevented:!1===f.returnValue)?pd:qd;this.isPropagationStopped=qd;return this}m(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():\"unknown\"!==typeof a.returnValue&&\n(a.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():\"unknown\"!==typeof a.cancelBubble&&(a.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd});return b}\nvar sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=m({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=m({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(a){return void 0===a.relatedTarget?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){if(\"movementX\"in\na)return a.movementX;a!==yd&&(yd&&\"mousemove\"===a.type?(wd=a.screenX-yd.screenX,xd=a.screenY-yd.screenY):xd=wd=0,yd=a);return wd},movementY:function(a){return\"movementY\"in a?a.movementY:xd}}),Bd=rd(Ad),Cd=m({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=m({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=m({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=m({},sd,{clipboardData:function(a){return\"clipboardData\"in a?a.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=m({},sd,{data:0}),Ld=rd(Kd),Md={Esc:\"Escape\",\nSpacebar:\" \",Left:\"ArrowLeft\",Up:\"ArrowUp\",Right:\"ArrowRight\",Down:\"ArrowDown\",Del:\"Delete\",Win:\"OS\",Menu:\"ContextMenu\",Apps:\"ContextMenu\",Scroll:\"ScrollLock\",MozPrintableKey:\"Unidentified\"},Nd={8:\"Backspace\",9:\"Tab\",12:\"Clear\",13:\"Enter\",16:\"Shift\",17:\"Control\",18:\"Alt\",19:\"Pause\",20:\"CapsLock\",27:\"Escape\",32:\" \",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"ArrowLeft\",38:\"ArrowUp\",39:\"ArrowRight\",40:\"ArrowDown\",45:\"Insert\",46:\"Delete\",112:\"F1\",113:\"F2\",114:\"F3\",115:\"F4\",116:\"F5\",117:\"F6\",118:\"F7\",\n119:\"F8\",120:\"F9\",121:\"F10\",122:\"F11\",123:\"F12\",144:\"NumLock\",145:\"ScrollLock\",224:\"Meta\"},Od={Alt:\"altKey\",Control:\"ctrlKey\",Meta:\"metaKey\",Shift:\"shiftKey\"};function Pd(a){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(a):(a=Od[a])?!!b[a]:!1}function zd(){return Pd}\nvar Qd=m({},ud,{key:function(a){if(a.key){var b=Md[a.key]||a.key;if(\"Unidentified\"!==b)return b}return\"keypress\"===a.type?(a=od(a),13===a?\"Enter\":String.fromCharCode(a)):\"keydown\"===a.type||\"keyup\"===a.type?Nd[a.keyCode]||\"Unidentified\":\"\"},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(a){return\"keypress\"===a.type?od(a):0},keyCode:function(a){return\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0},which:function(a){return\"keypress\"===\na.type?od(a):\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0}}),Rd=rd(Qd),Sd=m({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=m({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=m({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=m({},Ad,{deltaX:function(a){return\"deltaX\"in a?a.deltaX:\"wheelDeltaX\"in a?-a.wheelDeltaX:0},\ndeltaY:function(a){return\"deltaY\"in a?a.deltaY:\"wheelDeltaY\"in a?-a.wheelDeltaY:\"wheelDelta\"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=fa&&\"CompositionEvent\"in window,be=null;fa&&\"documentMode\"in document&&(be=document.documentMode);var ce=fa&&\"TextEvent\"in window&&!be,de=fa&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;\nfunction ge(a,b){switch(a){case \"keyup\":return-1!==$d.indexOf(b.keyCode);case \"keydown\":return 229!==b.keyCode;case \"keypress\":case \"mousedown\":case \"focusout\":return!0;default:return!1}}function he(a){a=a.detail;return\"object\"===typeof a&&\"data\"in a?a.data:null}var ie=!1;function je(a,b){switch(a){case \"compositionend\":return he(b);case \"keypress\":if(32!==b.which)return null;fe=!0;return ee;case \"textInput\":return a=b.data,a===ee&&fe?null:a;default:return null}}\nfunction ke(a,b){if(ie)return\"compositionend\"===a||!ae&&ge(a,b)?(a=nd(),md=ld=kd=null,ie=!1,a):null;switch(a){case \"paste\":return null;case \"keypress\":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case \"compositionend\":return de&&\"ko\"!==b.locale?null:b.data;default:return null}}\nvar le={color:!0,date:!0,datetime:!0,\"datetime-local\":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return\"input\"===b?!!le[a.type]:\"textarea\"===b?!0:!1}function ne(a,b,c,d){Eb(d);b=oe(b,\"onChange\");0<b.length&&(c=new td(\"onChange\",\"change\",null,c,d),a.push({event:c,listeners:b}))}var pe=null,qe=null;function re(a){se(a,0)}function te(a){var b=ue(a);if(Wa(b))return a}\nfunction ve(a,b){if(\"change\"===a)return b}var we=!1;if(fa){var xe;if(fa){var ye=\"oninput\"in document;if(!ye){var ze=document.createElement(\"div\");ze.setAttribute(\"oninput\",\"return;\");ye=\"function\"===typeof ze.oninput}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent(\"onpropertychange\",Be),qe=pe=null)}function Be(a){if(\"value\"===a.propertyName&&te(qe)){var b=[];ne(b,qe,a,xb(a));a=re;if(Kb)a(b);else{Kb=!0;try{Gb(a,b)}finally{Kb=!1,Mb()}}}}\nfunction Ce(a,b,c){\"focusin\"===a?(Ae(),pe=b,qe=c,pe.attachEvent(\"onpropertychange\",Be)):\"focusout\"===a&&Ae()}function De(a){if(\"selectionchange\"===a||\"keyup\"===a||\"keydown\"===a)return te(qe)}function Ee(a,b){if(\"click\"===a)return te(b)}function Fe(a,b){if(\"input\"===a||\"change\"===a)return te(b)}function Ge(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var He=\"function\"===typeof Object.is?Object.is:Ge,Ie=Object.prototype.hasOwnProperty;\nfunction Je(a,b){if(He(a,b))return!0;if(\"object\"!==typeof a||null===a||\"object\"!==typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++)if(!Ie.call(b,c[d])||!He(a[c[d]],b[c[d]]))return!1;return!0}function Ke(a){for(;a&&a.firstChild;)a=a.firstChild;return a}\nfunction Le(a,b){var c=Ke(a);a=0;for(var d;c;){if(3===c.nodeType){d=a+c.textContent.length;if(a<=b&&d>=b)return{node:c,offset:b-a};a=d}a:{for(;c;){if(c.nextSibling){c=c.nextSibling;break a}c=c.parentNode}c=void 0}c=Ke(c)}}function Me(a,b){return a&&b?a===b?!0:a&&3===a.nodeType?!1:b&&3===b.nodeType?Me(a,b.parentNode):\"contains\"in a?a.contains(b):a.compareDocumentPosition?!!(a.compareDocumentPosition(b)&16):!1:!1}\nfunction Ne(){for(var a=window,b=Xa();b instanceof a.HTMLIFrameElement;){try{var c=\"string\"===typeof b.contentWindow.location.href}catch(d){c=!1}if(c)a=b.contentWindow;else break;b=Xa(a.document)}return b}function Oe(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&(\"input\"===b&&(\"text\"===a.type||\"search\"===a.type||\"tel\"===a.type||\"url\"===a.type||\"password\"===a.type)||\"textarea\"===b||\"true\"===a.contentEditable)}\nvar Pe=fa&&\"documentMode\"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;\nfunction Ue(a,b,c){var d=c.window===c?c.document:9===c.nodeType?c:c.ownerDocument;Te||null==Qe||Qe!==Xa(d)||(d=Qe,\"selectionStart\"in d&&Oe(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Se&&Je(Se,d)||(Se=d,d=oe(Re,\"onSelect\"),0<d.length&&(b=new td(\"onSelect\",\"select\",null,b,c),a.push({event:b,listeners:d}),b.target=Qe)))}\nPc(\"cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange\".split(\" \"),\n0);Pc(\"drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel\".split(\" \"),1);Pc(Oc,2);for(var Ve=\"change selectionchange textInput compositionstart compositionend compositionupdate\".split(\" \"),We=0;We<Ve.length;We++)Nc.set(Ve[We],0);ea(\"onMouseEnter\",[\"mouseout\",\"mouseover\"]);\nea(\"onMouseLeave\",[\"mouseout\",\"mouseover\"]);ea(\"onPointerEnter\",[\"pointerout\",\"pointerover\"]);ea(\"onPointerLeave\",[\"pointerout\",\"pointerover\"]);da(\"onChange\",\"change click focusin focusout input keydown keyup selectionchange\".split(\" \"));da(\"onSelect\",\"focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange\".split(\" \"));da(\"onBeforeInput\",[\"compositionend\",\"keypress\",\"textInput\",\"paste\"]);da(\"onCompositionEnd\",\"compositionend focusout keydown keypress keyup mousedown\".split(\" \"));\nda(\"onCompositionStart\",\"compositionstart focusout keydown keypress keyup mousedown\".split(\" \"));da(\"onCompositionUpdate\",\"compositionupdate focusout keydown keypress keyup mousedown\".split(\" \"));var Xe=\"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting\".split(\" \"),Ye=new Set(\"cancel close invalid load scroll toggle\".split(\" \").concat(Xe));\nfunction Ze(a,b,c){var d=a.type||\"unknown-event\";a.currentTarget=c;Yb(d,b,void 0,a);a.currentTarget=null}\nfunction se(a,b){b=0!==(b&4);for(var c=0;c<a.length;c++){var d=a[c],e=d.event;d=d.listeners;a:{var f=void 0;if(b)for(var g=d.length-1;0<=g;g--){var h=d[g],k=h.instance,l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;Ze(e,h,l);f=k}else for(g=0;g<d.length;g++){h=d[g];k=h.instance;l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;Ze(e,h,l);f=k}}}if(Ub)throw a=Vb,Ub=!1,Vb=null,a;}\nfunction G(a,b){var c=$e(b),d=a+\"__bubble\";c.has(d)||(af(b,a,2,!1),c.add(d))}var bf=\"_reactListening\"+Math.random().toString(36).slice(2);function cf(a){a[bf]||(a[bf]=!0,ba.forEach(function(b){Ye.has(b)||df(b,!1,a,null);df(b,!0,a,null)}))}\nfunction df(a,b,c,d){var e=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,f=c;\"selectionchange\"===a&&9!==c.nodeType&&(f=c.ownerDocument);if(null!==d&&!b&&Ye.has(a)){if(\"scroll\"!==a)return;e|=2;f=d}var g=$e(f),h=a+\"__\"+(b?\"capture\":\"bubble\");g.has(h)||(b&&(e|=4),af(f,a,e,b),g.add(h))}\nfunction af(a,b,c,d){var e=Nc.get(b);switch(void 0===e?2:e){case 0:e=gd;break;case 1:e=id;break;default:e=hd}c=e.bind(null,b,c,a);e=void 0;!Pb||\"touchstart\"!==b&&\"touchmove\"!==b&&\"wheel\"!==b||(e=!0);d?void 0!==e?a.addEventListener(b,c,{capture:!0,passive:e}):a.addEventListener(b,c,!0):void 0!==e?a.addEventListener(b,c,{passive:e}):a.addEventListener(b,c,!1)}\nfunction jd(a,b,c,d,e){var f=d;if(0===(b&1)&&0===(b&2)&&null!==d)a:for(;;){if(null===d)return;var g=d.tag;if(3===g||4===g){var h=d.stateNode.containerInfo;if(h===e||8===h.nodeType&&h.parentNode===e)break;if(4===g)for(g=d.return;null!==g;){var k=g.tag;if(3===k||4===k)if(k=g.stateNode.containerInfo,k===e||8===k.nodeType&&k.parentNode===e)return;g=g.return}for(;null!==h;){g=wc(h);if(null===g)return;k=g.tag;if(5===k||6===k){d=f=g;continue a}h=h.parentNode}}d=d.return}Nb(function(){var d=f,e=xb(c),g=[];\na:{var h=Mc.get(a);if(void 0!==h){var k=td,x=a;switch(a){case \"keypress\":if(0===od(c))break a;case \"keydown\":case \"keyup\":k=Rd;break;case \"focusin\":x=\"focus\";k=Fd;break;case \"focusout\":x=\"blur\";k=Fd;break;case \"beforeblur\":case \"afterblur\":k=Fd;break;case \"click\":if(2===c.button)break a;case \"auxclick\":case \"dblclick\":case \"mousedown\":case \"mousemove\":case \"mouseup\":case \"mouseout\":case \"mouseover\":case \"contextmenu\":k=Bd;break;case \"drag\":case \"dragend\":case \"dragenter\":case \"dragexit\":case \"dragleave\":case \"dragover\":case \"dragstart\":case \"drop\":k=\nDd;break;case \"touchcancel\":case \"touchend\":case \"touchmove\":case \"touchstart\":k=Vd;break;case Ic:case Jc:case Kc:k=Hd;break;case Lc:k=Xd;break;case \"scroll\":k=vd;break;case \"wheel\":k=Zd;break;case \"copy\":case \"cut\":case \"paste\":k=Jd;break;case \"gotpointercapture\":case \"lostpointercapture\":case \"pointercancel\":case \"pointerdown\":case \"pointermove\":case \"pointerout\":case \"pointerover\":case \"pointerup\":k=Td}var w=0!==(b&4),z=!w&&\"scroll\"===a,u=w?null!==h?h+\"Capture\":null:h;w=[];for(var t=d,q;null!==\nt;){q=t;var v=q.stateNode;5===q.tag&&null!==v&&(q=v,null!==u&&(v=Ob(t,u),null!=v&&w.push(ef(t,v,q))));if(z)break;t=t.return}0<w.length&&(h=new k(h,x,null,c,e),g.push({event:h,listeners:w}))}}if(0===(b&7)){a:{h=\"mouseover\"===a||\"pointerover\"===a;k=\"mouseout\"===a||\"pointerout\"===a;if(h&&0===(b&16)&&(x=c.relatedTarget||c.fromElement)&&(wc(x)||x[ff]))break a;if(k||h){h=e.window===e?e:(h=e.ownerDocument)?h.defaultView||h.parentWindow:window;if(k){if(x=c.relatedTarget||c.toElement,k=d,x=x?wc(x):null,null!==\nx&&(z=Zb(x),x!==z||5!==x.tag&&6!==x.tag))x=null}else k=null,x=d;if(k!==x){w=Bd;v=\"onMouseLeave\";u=\"onMouseEnter\";t=\"mouse\";if(\"pointerout\"===a||\"pointerover\"===a)w=Td,v=\"onPointerLeave\",u=\"onPointerEnter\",t=\"pointer\";z=null==k?h:ue(k);q=null==x?h:ue(x);h=new w(v,t+\"leave\",k,c,e);h.target=z;h.relatedTarget=q;v=null;wc(e)===d&&(w=new w(u,t+\"enter\",x,c,e),w.target=q,w.relatedTarget=z,v=w);z=v;if(k&&x)b:{w=k;u=x;t=0;for(q=w;q;q=gf(q))t++;q=0;for(v=u;v;v=gf(v))q++;for(;0<t-q;)w=gf(w),t--;for(;0<q-t;)u=\ngf(u),q--;for(;t--;){if(w===u||null!==u&&w===u.alternate)break b;w=gf(w);u=gf(u)}w=null}else w=null;null!==k&&hf(g,h,k,w,!1);null!==x&&null!==z&&hf(g,z,x,w,!0)}}}a:{h=d?ue(d):window;k=h.nodeName&&h.nodeName.toLowerCase();if(\"select\"===k||\"input\"===k&&\"file\"===h.type)var J=ve;else if(me(h))if(we)J=Fe;else{J=De;var K=Ce}else(k=h.nodeName)&&\"input\"===k.toLowerCase()&&(\"checkbox\"===h.type||\"radio\"===h.type)&&(J=Ee);if(J&&(J=J(a,d))){ne(g,J,c,e);break a}K&&K(a,h,d);\"focusout\"===a&&(K=h._wrapperState)&&\nK.controlled&&\"number\"===h.type&&bb(h,\"number\",h.value)}K=d?ue(d):window;switch(a){case \"focusin\":if(me(K)||\"true\"===K.contentEditable)Qe=K,Re=d,Se=null;break;case \"focusout\":Se=Re=Qe=null;break;case \"mousedown\":Te=!0;break;case \"contextmenu\":case \"mouseup\":case \"dragend\":Te=!1;Ue(g,c,e);break;case \"selectionchange\":if(Pe)break;case \"keydown\":case \"keyup\":Ue(g,c,e)}var Q;if(ae)b:{switch(a){case \"compositionstart\":var L=\"onCompositionStart\";break b;case \"compositionend\":L=\"onCompositionEnd\";break b;\ncase \"compositionupdate\":L=\"onCompositionUpdate\";break b}L=void 0}else ie?ge(a,c)&&(L=\"onCompositionEnd\"):\"keydown\"===a&&229===c.keyCode&&(L=\"onCompositionStart\");L&&(de&&\"ko\"!==c.locale&&(ie||\"onCompositionStart\"!==L?\"onCompositionEnd\"===L&&ie&&(Q=nd()):(kd=e,ld=\"value\"in kd?kd.value:kd.textContent,ie=!0)),K=oe(d,L),0<K.length&&(L=new Ld(L,a,null,c,e),g.push({event:L,listeners:K}),Q?L.data=Q:(Q=he(c),null!==Q&&(L.data=Q))));if(Q=ce?je(a,c):ke(a,c))d=oe(d,\"onBeforeInput\"),0<d.length&&(e=new Ld(\"onBeforeInput\",\n\"beforeinput\",null,c,e),g.push({event:e,listeners:d}),e.data=Q)}se(g,b)})}function ef(a,b,c){return{instance:a,listener:b,currentTarget:c}}function oe(a,b){for(var c=b+\"Capture\",d=[];null!==a;){var e=a,f=e.stateNode;5===e.tag&&null!==f&&(e=f,f=Ob(a,c),null!=f&&d.unshift(ef(a,f,e)),f=Ob(a,b),null!=f&&d.push(ef(a,f,e)));a=a.return}return d}function gf(a){if(null===a)return null;do a=a.return;while(a&&5!==a.tag);return a?a:null}\nfunction hf(a,b,c,d,e){for(var f=b._reactName,g=[];null!==c&&c!==d;){var h=c,k=h.alternate,l=h.stateNode;if(null!==k&&k===d)break;5===h.tag&&null!==l&&(h=l,e?(k=Ob(c,f),null!=k&&g.unshift(ef(c,k,h))):e||(k=Ob(c,f),null!=k&&g.push(ef(c,k,h))));c=c.return}0!==g.length&&a.push({event:b,listeners:g})}function jf(){}var kf=null,lf=null;function mf(a,b){switch(a){case \"button\":case \"input\":case \"select\":case \"textarea\":return!!b.autoFocus}return!1}\nfunction nf(a,b){return\"textarea\"===a||\"option\"===a||\"noscript\"===a||\"string\"===typeof b.children||\"number\"===typeof b.children||\"object\"===typeof b.dangerouslySetInnerHTML&&null!==b.dangerouslySetInnerHTML&&null!=b.dangerouslySetInnerHTML.__html}var of=\"function\"===typeof setTimeout?setTimeout:void 0,pf=\"function\"===typeof clearTimeout?clearTimeout:void 0;function qf(a){1===a.nodeType?a.textContent=\"\":9===a.nodeType&&(a=a.body,null!=a&&(a.textContent=\"\"))}\nfunction rf(a){for(;null!=a;a=a.nextSibling){var b=a.nodeType;if(1===b||3===b)break}return a}function sf(a){a=a.previousSibling;for(var b=0;a;){if(8===a.nodeType){var c=a.data;if(\"$\"===c||\"$!\"===c||\"$?\"===c){if(0===b)return a;b--}else\"/$\"===c&&b++}a=a.previousSibling}return null}var tf=0;function uf(a){return{$$typeof:Ga,toString:a,valueOf:a}}var vf=Math.random().toString(36).slice(2),wf=\"__reactFiber$\"+vf,xf=\"__reactProps$\"+vf,ff=\"__reactContainer$\"+vf,yf=\"__reactEvents$\"+vf;\nfunction wc(a){var b=a[wf];if(b)return b;for(var c=a.parentNode;c;){if(b=c[ff]||c[wf]){c=b.alternate;if(null!==b.child||null!==c&&null!==c.child)for(a=sf(a);null!==a;){if(c=a[wf])return c;a=sf(a)}return b}a=c;c=a.parentNode}return null}function Cb(a){a=a[wf]||a[ff];return!a||5!==a.tag&&6!==a.tag&&13!==a.tag&&3!==a.tag?null:a}function ue(a){if(5===a.tag||6===a.tag)return a.stateNode;throw Error(y(33));}function Db(a){return a[xf]||null}\nfunction $e(a){var b=a[yf];void 0===b&&(b=a[yf]=new Set);return b}var zf=[],Af=-1;function Bf(a){return{current:a}}function H(a){0>Af||(a.current=zf[Af],zf[Af]=null,Af--)}function I(a,b){Af++;zf[Af]=a.current;a.current=b}var Cf={},M=Bf(Cf),N=Bf(!1),Df=Cf;\nfunction Ef(a,b){var c=a.type.contextTypes;if(!c)return Cf;var d=a.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===b)return d.__reactInternalMemoizedMaskedChildContext;var e={},f;for(f in c)e[f]=b[f];d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=e);return e}function Ff(a){a=a.childContextTypes;return null!==a&&void 0!==a}function Gf(){H(N);H(M)}function Hf(a,b,c){if(M.current!==Cf)throw Error(y(168));I(M,b);I(N,c)}\nfunction If(a,b,c){var d=a.stateNode;a=b.childContextTypes;if(\"function\"!==typeof d.getChildContext)return c;d=d.getChildContext();for(var e in d)if(!(e in a))throw Error(y(108,Ra(b)||\"Unknown\",e));return m({},c,d)}function Jf(a){a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Cf;Df=M.current;I(M,a);I(N,N.current);return!0}function Kf(a,b,c){var d=a.stateNode;if(!d)throw Error(y(169));c?(a=If(a,b,Df),d.__reactInternalMemoizedMergedChildContext=a,H(N),H(M),I(M,a)):H(N);I(N,c)}\nvar Lf=null,Mf=null,Nf=r.unstable_runWithPriority,Of=r.unstable_scheduleCallback,Pf=r.unstable_cancelCallback,Qf=r.unstable_shouldYield,Rf=r.unstable_requestPaint,Sf=r.unstable_now,Tf=r.unstable_getCurrentPriorityLevel,Uf=r.unstable_ImmediatePriority,Vf=r.unstable_UserBlockingPriority,Wf=r.unstable_NormalPriority,Xf=r.unstable_LowPriority,Yf=r.unstable_IdlePriority,Zf={},$f=void 0!==Rf?Rf:function(){},ag=null,bg=null,cg=!1,dg=Sf(),O=1E4>dg?Sf:function(){return Sf()-dg};\nfunction eg(){switch(Tf()){case Uf:return 99;case Vf:return 98;case Wf:return 97;case Xf:return 96;case Yf:return 95;default:throw Error(y(332));}}function fg(a){switch(a){case 99:return Uf;case 98:return Vf;case 97:return Wf;case 96:return Xf;case 95:return Yf;default:throw Error(y(332));}}function gg(a,b){a=fg(a);return Nf(a,b)}function hg(a,b,c){a=fg(a);return Of(a,b,c)}function ig(){if(null!==bg){var a=bg;bg=null;Pf(a)}jg()}\nfunction jg(){if(!cg&&null!==ag){cg=!0;var a=0;try{var b=ag;gg(99,function(){for(;a<b.length;a++){var c=b[a];do c=c(!0);while(null!==c)}});ag=null}catch(c){throw null!==ag&&(ag=ag.slice(a+1)),Of(Uf,ig),c;}finally{cg=!1}}}var kg=ra.ReactCurrentBatchConfig;function lg(a,b){if(a&&a.defaultProps){b=m({},b);a=a.defaultProps;for(var c in a)void 0===b[c]&&(b[c]=a[c]);return b}return b}var mg=Bf(null),ng=null,og=null,pg=null;function qg(){pg=og=ng=null}\nfunction rg(a){var b=mg.current;H(mg);a.type._context._currentValue=b}function sg(a,b){for(;null!==a;){var c=a.alternate;if((a.childLanes&b)===b)if(null===c||(c.childLanes&b)===b)break;else c.childLanes|=b;else a.childLanes|=b,null!==c&&(c.childLanes|=b);a=a.return}}function tg(a,b){ng=a;pg=og=null;a=a.dependencies;null!==a&&null!==a.firstContext&&(0!==(a.lanes&b)&&(ug=!0),a.firstContext=null)}\nfunction vg(a,b){if(pg!==a&&!1!==b&&0!==b){if(\"number\"!==typeof b||1073741823===b)pg=a,b=1073741823;b={context:a,observedBits:b,next:null};if(null===og){if(null===ng)throw Error(y(308));og=b;ng.dependencies={lanes:0,firstContext:b,responders:null}}else og=og.next=b}return a._currentValue}var wg=!1;function xg(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}\nfunction yg(a,b){a=a.updateQueue;b.updateQueue===a&&(b.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function zg(a,b){return{eventTime:a,lane:b,tag:0,payload:null,callback:null,next:null}}function Ag(a,b){a=a.updateQueue;if(null!==a){a=a.shared;var c=a.pending;null===c?b.next=b:(b.next=c.next,c.next=b);a.pending=b}}\nfunction Bg(a,b){var c=a.updateQueue,d=a.alternate;if(null!==d&&(d=d.updateQueue,c===d)){var e=null,f=null;c=c.firstBaseUpdate;if(null!==c){do{var g={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};null===f?e=f=g:f=f.next=g;c=c.next}while(null!==c);null===f?e=f=b:f=f.next=b}else e=f=b;c={baseState:d.baseState,firstBaseUpdate:e,lastBaseUpdate:f,shared:d.shared,effects:d.effects};a.updateQueue=c;return}a=c.lastBaseUpdate;null===a?c.firstBaseUpdate=b:a.next=\nb;c.lastBaseUpdate=b}\nfunction Cg(a,b,c,d){var e=a.updateQueue;wg=!1;var f=e.firstBaseUpdate,g=e.lastBaseUpdate,h=e.shared.pending;if(null!==h){e.shared.pending=null;var k=h,l=k.next;k.next=null;null===g?f=l:g.next=l;g=k;var n=a.alternate;if(null!==n){n=n.updateQueue;var A=n.lastBaseUpdate;A!==g&&(null===A?n.firstBaseUpdate=l:A.next=l,n.lastBaseUpdate=k)}}if(null!==f){A=e.baseState;g=0;n=l=k=null;do{h=f.lane;var p=f.eventTime;if((d&h)===h){null!==n&&(n=n.next={eventTime:p,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,\nnext:null});a:{var C=a,x=f;h=b;p=c;switch(x.tag){case 1:C=x.payload;if(\"function\"===typeof C){A=C.call(p,A,h);break a}A=C;break a;case 3:C.flags=C.flags&-4097|64;case 0:C=x.payload;h=\"function\"===typeof C?C.call(p,A,h):C;if(null===h||void 0===h)break a;A=m({},A,h);break a;case 2:wg=!0}}null!==f.callback&&(a.flags|=32,h=e.effects,null===h?e.effects=[f]:h.push(f))}else p={eventTime:p,lane:h,tag:f.tag,payload:f.payload,callback:f.callback,next:null},null===n?(l=n=p,k=A):n=n.next=p,g|=h;f=f.next;if(null===\nf)if(h=e.shared.pending,null===h)break;else f=h.next,h.next=null,e.lastBaseUpdate=h,e.shared.pending=null}while(1);null===n&&(k=A);e.baseState=k;e.firstBaseUpdate=l;e.lastBaseUpdate=n;Dg|=g;a.lanes=g;a.memoizedState=A}}function Eg(a,b,c){a=b.effects;b.effects=null;if(null!==a)for(b=0;b<a.length;b++){var d=a[b],e=d.callback;if(null!==e){d.callback=null;d=c;if(\"function\"!==typeof e)throw Error(y(191,e));e.call(d)}}}var Fg=(new aa.Component).refs;\nfunction Gg(a,b,c,d){b=a.memoizedState;c=c(d,b);c=null===c||void 0===c?b:m({},b,c);a.memoizedState=c;0===a.lanes&&(a.updateQueue.baseState=c)}\nvar Kg={isMounted:function(a){return(a=a._reactInternals)?Zb(a)===a:!1},enqueueSetState:function(a,b,c){a=a._reactInternals;var d=Hg(),e=Ig(a),f=zg(d,e);f.payload=b;void 0!==c&&null!==c&&(f.callback=c);Ag(a,f);Jg(a,e,d)},enqueueReplaceState:function(a,b,c){a=a._reactInternals;var d=Hg(),e=Ig(a),f=zg(d,e);f.tag=1;f.payload=b;void 0!==c&&null!==c&&(f.callback=c);Ag(a,f);Jg(a,e,d)},enqueueForceUpdate:function(a,b){a=a._reactInternals;var c=Hg(),d=Ig(a),e=zg(c,d);e.tag=2;void 0!==b&&null!==b&&(e.callback=\nb);Ag(a,e);Jg(a,d,c)}};function Lg(a,b,c,d,e,f,g){a=a.stateNode;return\"function\"===typeof a.shouldComponentUpdate?a.shouldComponentUpdate(d,f,g):b.prototype&&b.prototype.isPureReactComponent?!Je(c,d)||!Je(e,f):!0}\nfunction Mg(a,b,c){var d=!1,e=Cf;var f=b.contextType;\"object\"===typeof f&&null!==f?f=vg(f):(e=Ff(b)?Df:M.current,d=b.contextTypes,f=(d=null!==d&&void 0!==d)?Ef(a,e):Cf);b=new b(c,f);a.memoizedState=null!==b.state&&void 0!==b.state?b.state:null;b.updater=Kg;a.stateNode=b;b._reactInternals=a;d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=e,a.__reactInternalMemoizedMaskedChildContext=f);return b}\nfunction Ng(a,b,c,d){a=b.state;\"function\"===typeof b.componentWillReceiveProps&&b.componentWillReceiveProps(c,d);\"function\"===typeof b.UNSAFE_componentWillReceiveProps&&b.UNSAFE_componentWillReceiveProps(c,d);b.state!==a&&Kg.enqueueReplaceState(b,b.state,null)}\nfunction Og(a,b,c,d){var e=a.stateNode;e.props=c;e.state=a.memoizedState;e.refs=Fg;xg(a);var f=b.contextType;\"object\"===typeof f&&null!==f?e.context=vg(f):(f=Ff(b)?Df:M.current,e.context=Ef(a,f));Cg(a,c,e,d);e.state=a.memoizedState;f=b.getDerivedStateFromProps;\"function\"===typeof f&&(Gg(a,b,f,c),e.state=a.memoizedState);\"function\"===typeof b.getDerivedStateFromProps||\"function\"===typeof e.getSnapshotBeforeUpdate||\"function\"!==typeof e.UNSAFE_componentWillMount&&\"function\"!==typeof e.componentWillMount||\n(b=e.state,\"function\"===typeof e.componentWillMount&&e.componentWillMount(),\"function\"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),b!==e.state&&Kg.enqueueReplaceState(e,e.state,null),Cg(a,c,e,d),e.state=a.memoizedState);\"function\"===typeof e.componentDidMount&&(a.flags|=4)}var Pg=Array.isArray;\nfunction Qg(a,b,c){a=c.ref;if(null!==a&&\"function\"!==typeof a&&\"object\"!==typeof a){if(c._owner){c=c._owner;if(c){if(1!==c.tag)throw Error(y(309));var d=c.stateNode}if(!d)throw Error(y(147,a));var e=\"\"+a;if(null!==b&&null!==b.ref&&\"function\"===typeof b.ref&&b.ref._stringRef===e)return b.ref;b=function(a){var b=d.refs;b===Fg&&(b=d.refs={});null===a?delete b[e]:b[e]=a};b._stringRef=e;return b}if(\"string\"!==typeof a)throw Error(y(284));if(!c._owner)throw Error(y(290,a));}return a}\nfunction Rg(a,b){if(\"textarea\"!==a.type)throw Error(y(31,\"[object Object]\"===Object.prototype.toString.call(b)?\"object with keys {\"+Object.keys(b).join(\", \")+\"}\":b));}\nfunction Sg(a){function b(b,c){if(a){var d=b.lastEffect;null!==d?(d.nextEffect=c,b.lastEffect=c):b.firstEffect=b.lastEffect=c;c.nextEffect=null;c.flags=8}}function c(c,d){if(!a)return null;for(;null!==d;)b(c,d),d=d.sibling;return null}function d(a,b){for(a=new Map;null!==b;)null!==b.key?a.set(b.key,b):a.set(b.index,b),b=b.sibling;return a}function e(a,b){a=Tg(a,b);a.index=0;a.sibling=null;return a}function f(b,c,d){b.index=d;if(!a)return c;d=b.alternate;if(null!==d)return d=d.index,d<c?(b.flags=2,\nc):d;b.flags=2;return c}function g(b){a&&null===b.alternate&&(b.flags=2);return b}function h(a,b,c,d){if(null===b||6!==b.tag)return b=Ug(c,a.mode,d),b.return=a,b;b=e(b,c);b.return=a;return b}function k(a,b,c,d){if(null!==b&&b.elementType===c.type)return d=e(b,c.props),d.ref=Qg(a,b,c),d.return=a,d;d=Vg(c.type,c.key,c.props,null,a.mode,d);d.ref=Qg(a,b,c);d.return=a;return d}function l(a,b,c,d){if(null===b||4!==b.tag||b.stateNode.containerInfo!==c.containerInfo||b.stateNode.implementation!==c.implementation)return b=\nWg(c,a.mode,d),b.return=a,b;b=e(b,c.children||[]);b.return=a;return b}function n(a,b,c,d,f){if(null===b||7!==b.tag)return b=Xg(c,a.mode,d,f),b.return=a,b;b=e(b,c);b.return=a;return b}function A(a,b,c){if(\"string\"===typeof b||\"number\"===typeof b)return b=Ug(\"\"+b,a.mode,c),b.return=a,b;if(\"object\"===typeof b&&null!==b){switch(b.$$typeof){case sa:return c=Vg(b.type,b.key,b.props,null,a.mode,c),c.ref=Qg(a,null,b),c.return=a,c;case ta:return b=Wg(b,a.mode,c),b.return=a,b}if(Pg(b)||La(b))return b=Xg(b,\na.mode,c,null),b.return=a,b;Rg(a,b)}return null}function p(a,b,c,d){var e=null!==b?b.key:null;if(\"string\"===typeof c||\"number\"===typeof c)return null!==e?null:h(a,b,\"\"+c,d);if(\"object\"===typeof c&&null!==c){switch(c.$$typeof){case sa:return c.key===e?c.type===ua?n(a,b,c.props.children,d,e):k(a,b,c,d):null;case ta:return c.key===e?l(a,b,c,d):null}if(Pg(c)||La(c))return null!==e?null:n(a,b,c,d,null);Rg(a,c)}return null}function C(a,b,c,d,e){if(\"string\"===typeof d||\"number\"===typeof d)return a=a.get(c)||\nnull,h(b,a,\"\"+d,e);if(\"object\"===typeof d&&null!==d){switch(d.$$typeof){case sa:return a=a.get(null===d.key?c:d.key)||null,d.type===ua?n(b,a,d.props.children,e,d.key):k(b,a,d,e);case ta:return a=a.get(null===d.key?c:d.key)||null,l(b,a,d,e)}if(Pg(d)||La(d))return a=a.get(c)||null,n(b,a,d,e,null);Rg(b,d)}return null}function x(e,g,h,k){for(var l=null,t=null,u=g,z=g=0,q=null;null!==u&&z<h.length;z++){u.index>z?(q=u,u=null):q=u.sibling;var n=p(e,u,h[z],k);if(null===n){null===u&&(u=q);break}a&&u&&null===\nn.alternate&&b(e,u);g=f(n,g,z);null===t?l=n:t.sibling=n;t=n;u=q}if(z===h.length)return c(e,u),l;if(null===u){for(;z<h.length;z++)u=A(e,h[z],k),null!==u&&(g=f(u,g,z),null===t?l=u:t.sibling=u,t=u);return l}for(u=d(e,u);z<h.length;z++)q=C(u,e,z,h[z],k),null!==q&&(a&&null!==q.alternate&&u.delete(null===q.key?z:q.key),g=f(q,g,z),null===t?l=q:t.sibling=q,t=q);a&&u.forEach(function(a){return b(e,a)});return l}function w(e,g,h,k){var l=La(h);if(\"function\"!==typeof l)throw Error(y(150));h=l.call(h);if(null==\nh)throw Error(y(151));for(var t=l=null,u=g,z=g=0,q=null,n=h.next();null!==u&&!n.done;z++,n=h.next()){u.index>z?(q=u,u=null):q=u.sibling;var w=p(e,u,n.value,k);if(null===w){null===u&&(u=q);break}a&&u&&null===w.alternate&&b(e,u);g=f(w,g,z);null===t?l=w:t.sibling=w;t=w;u=q}if(n.done)return c(e,u),l;if(null===u){for(;!n.done;z++,n=h.next())n=A(e,n.value,k),null!==n&&(g=f(n,g,z),null===t?l=n:t.sibling=n,t=n);return l}for(u=d(e,u);!n.done;z++,n=h.next())n=C(u,e,z,n.value,k),null!==n&&(a&&null!==n.alternate&&\nu.delete(null===n.key?z:n.key),g=f(n,g,z),null===t?l=n:t.sibling=n,t=n);a&&u.forEach(function(a){return b(e,a)});return l}return function(a,d,f,h){var k=\"object\"===typeof f&&null!==f&&f.type===ua&&null===f.key;k&&(f=f.props.children);var l=\"object\"===typeof f&&null!==f;if(l)switch(f.$$typeof){case sa:a:{l=f.key;for(k=d;null!==k;){if(k.key===l){switch(k.tag){case 7:if(f.type===ua){c(a,k.sibling);d=e(k,f.props.children);d.return=a;a=d;break a}break;default:if(k.elementType===f.type){c(a,k.sibling);\nd=e(k,f.props);d.ref=Qg(a,k,f);d.return=a;a=d;break a}}c(a,k);break}else b(a,k);k=k.sibling}f.type===ua?(d=Xg(f.props.children,a.mode,h,f.key),d.return=a,a=d):(h=Vg(f.type,f.key,f.props,null,a.mode,h),h.ref=Qg(a,d,f),h.return=a,a=h)}return g(a);case ta:a:{for(k=f.key;null!==d;){if(d.key===k)if(4===d.tag&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){c(a,d.sibling);d=e(d,f.children||[]);d.return=a;a=d;break a}else{c(a,d);break}else b(a,d);d=d.sibling}d=\nWg(f,a.mode,h);d.return=a;a=d}return g(a)}if(\"string\"===typeof f||\"number\"===typeof f)return f=\"\"+f,null!==d&&6===d.tag?(c(a,d.sibling),d=e(d,f),d.return=a,a=d):(c(a,d),d=Ug(f,a.mode,h),d.return=a,a=d),g(a);if(Pg(f))return x(a,d,f,h);if(La(f))return w(a,d,f,h);l&&Rg(a,f);if(\"undefined\"===typeof f&&!k)switch(a.tag){case 1:case 22:case 0:case 11:case 15:throw Error(y(152,Ra(a.type)||\"Component\"));}return c(a,d)}}var Yg=Sg(!0),Zg=Sg(!1),$g={},ah=Bf($g),bh=Bf($g),ch=Bf($g);\nfunction dh(a){if(a===$g)throw Error(y(174));return a}function eh(a,b){I(ch,b);I(bh,a);I(ah,$g);a=b.nodeType;switch(a){case 9:case 11:b=(b=b.documentElement)?b.namespaceURI:mb(null,\"\");break;default:a=8===a?b.parentNode:b,b=a.namespaceURI||null,a=a.tagName,b=mb(b,a)}H(ah);I(ah,b)}function fh(){H(ah);H(bh);H(ch)}function gh(a){dh(ch.current);var b=dh(ah.current);var c=mb(b,a.type);b!==c&&(I(bh,a),I(ah,c))}function hh(a){bh.current===a&&(H(ah),H(bh))}var P=Bf(0);\nfunction ih(a){for(var b=a;null!==b;){if(13===b.tag){var c=b.memoizedState;if(null!==c&&(c=c.dehydrated,null===c||\"$?\"===c.data||\"$!\"===c.data))return b}else if(19===b.tag&&void 0!==b.memoizedProps.revealOrder){if(0!==(b.flags&64))return b}else if(null!==b.child){b.child.return=b;b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}return null}var jh=null,kh=null,lh=!1;\nfunction mh(a,b){var c=nh(5,null,null,0);c.elementType=\"DELETED\";c.type=\"DELETED\";c.stateNode=b;c.return=a;c.flags=8;null!==a.lastEffect?(a.lastEffect.nextEffect=c,a.lastEffect=c):a.firstEffect=a.lastEffect=c}function oh(a,b){switch(a.tag){case 5:var c=a.type;b=1!==b.nodeType||c.toLowerCase()!==b.nodeName.toLowerCase()?null:b;return null!==b?(a.stateNode=b,!0):!1;case 6:return b=\"\"===a.pendingProps||3!==b.nodeType?null:b,null!==b?(a.stateNode=b,!0):!1;case 13:return!1;default:return!1}}\nfunction ph(a){if(lh){var b=kh;if(b){var c=b;if(!oh(a,b)){b=rf(c.nextSibling);if(!b||!oh(a,b)){a.flags=a.flags&-1025|2;lh=!1;jh=a;return}mh(jh,c)}jh=a;kh=rf(b.firstChild)}else a.flags=a.flags&-1025|2,lh=!1,jh=a}}function qh(a){for(a=a.return;null!==a&&5!==a.tag&&3!==a.tag&&13!==a.tag;)a=a.return;jh=a}\nfunction rh(a){if(a!==jh)return!1;if(!lh)return qh(a),lh=!0,!1;var b=a.type;if(5!==a.tag||\"head\"!==b&&\"body\"!==b&&!nf(b,a.memoizedProps))for(b=kh;b;)mh(a,b),b=rf(b.nextSibling);qh(a);if(13===a.tag){a=a.memoizedState;a=null!==a?a.dehydrated:null;if(!a)throw Error(y(317));a:{a=a.nextSibling;for(b=0;a;){if(8===a.nodeType){var c=a.data;if(\"/$\"===c){if(0===b){kh=rf(a.nextSibling);break a}b--}else\"$\"!==c&&\"$!\"!==c&&\"$?\"!==c||b++}a=a.nextSibling}kh=null}}else kh=jh?rf(a.stateNode.nextSibling):null;return!0}\nfunction sh(){kh=jh=null;lh=!1}var th=[];function uh(){for(var a=0;a<th.length;a++)th[a]._workInProgressVersionPrimary=null;th.length=0}var vh=ra.ReactCurrentDispatcher,wh=ra.ReactCurrentBatchConfig,xh=0,R=null,S=null,T=null,yh=!1,zh=!1;function Ah(){throw Error(y(321));}function Bh(a,b){if(null===b)return!1;for(var c=0;c<b.length&&c<a.length;c++)if(!He(a[c],b[c]))return!1;return!0}\nfunction Ch(a,b,c,d,e,f){xh=f;R=b;b.memoizedState=null;b.updateQueue=null;b.lanes=0;vh.current=null===a||null===a.memoizedState?Dh:Eh;a=c(d,e);if(zh){f=0;do{zh=!1;if(!(25>f))throw Error(y(301));f+=1;T=S=null;b.updateQueue=null;vh.current=Fh;a=c(d,e)}while(zh)}vh.current=Gh;b=null!==S&&null!==S.next;xh=0;T=S=R=null;yh=!1;if(b)throw Error(y(300));return a}function Hh(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===T?R.memoizedState=T=a:T=T.next=a;return T}\nfunction Ih(){if(null===S){var a=R.alternate;a=null!==a?a.memoizedState:null}else a=S.next;var b=null===T?R.memoizedState:T.next;if(null!==b)T=b,S=a;else{if(null===a)throw Error(y(310));S=a;a={memoizedState:S.memoizedState,baseState:S.baseState,baseQueue:S.baseQueue,queue:S.queue,next:null};null===T?R.memoizedState=T=a:T=T.next=a}return T}function Jh(a,b){return\"function\"===typeof b?b(a):b}\nfunction Kh(a){var b=Ih(),c=b.queue;if(null===c)throw Error(y(311));c.lastRenderedReducer=a;var d=S,e=d.baseQueue,f=c.pending;if(null!==f){if(null!==e){var g=e.next;e.next=f.next;f.next=g}d.baseQueue=e=f;c.pending=null}if(null!==e){e=e.next;d=d.baseState;var h=g=f=null,k=e;do{var l=k.lane;if((xh&l)===l)null!==h&&(h=h.next={lane:0,action:k.action,eagerReducer:k.eagerReducer,eagerState:k.eagerState,next:null}),d=k.eagerReducer===a?k.eagerState:a(d,k.action);else{var n={lane:l,action:k.action,eagerReducer:k.eagerReducer,\neagerState:k.eagerState,next:null};null===h?(g=h=n,f=d):h=h.next=n;R.lanes|=l;Dg|=l}k=k.next}while(null!==k&&k!==e);null===h?f=d:h.next=g;He(d,b.memoizedState)||(ug=!0);b.memoizedState=d;b.baseState=f;b.baseQueue=h;c.lastRenderedState=d}return[b.memoizedState,c.dispatch]}\nfunction Lh(a){var b=Ih(),c=b.queue;if(null===c)throw Error(y(311));c.lastRenderedReducer=a;var d=c.dispatch,e=c.pending,f=b.memoizedState;if(null!==e){c.pending=null;var g=e=e.next;do f=a(f,g.action),g=g.next;while(g!==e);He(f,b.memoizedState)||(ug=!0);b.memoizedState=f;null===b.baseQueue&&(b.baseState=f);c.lastRenderedState=f}return[f,d]}\nfunction Mh(a,b,c){var d=b._getVersion;d=d(b._source);var e=b._workInProgressVersionPrimary;if(null!==e)a=e===d;else if(a=a.mutableReadLanes,a=(xh&a)===a)b._workInProgressVersionPrimary=d,th.push(b);if(a)return c(b._source);th.push(b);throw Error(y(350));}\nfunction Nh(a,b,c,d){var e=U;if(null===e)throw Error(y(349));var f=b._getVersion,g=f(b._source),h=vh.current,k=h.useState(function(){return Mh(e,b,c)}),l=k[1],n=k[0];k=T;var A=a.memoizedState,p=A.refs,C=p.getSnapshot,x=A.source;A=A.subscribe;var w=R;a.memoizedState={refs:p,source:b,subscribe:d};h.useEffect(function(){p.getSnapshot=c;p.setSnapshot=l;var a=f(b._source);if(!He(g,a)){a=c(b._source);He(n,a)||(l(a),a=Ig(w),e.mutableReadLanes|=a&e.pendingLanes);a=e.mutableReadLanes;e.entangledLanes|=a;for(var d=\ne.entanglements,h=a;0<h;){var k=31-Vc(h),v=1<<k;d[k]|=a;h&=~v}}},[c,b,d]);h.useEffect(function(){return d(b._source,function(){var a=p.getSnapshot,c=p.setSnapshot;try{c(a(b._source));var d=Ig(w);e.mutableReadLanes|=d&e.pendingLanes}catch(q){c(function(){throw q;})}})},[b,d]);He(C,c)&&He(x,b)&&He(A,d)||(a={pending:null,dispatch:null,lastRenderedReducer:Jh,lastRenderedState:n},a.dispatch=l=Oh.bind(null,R,a),k.queue=a,k.baseQueue=null,n=Mh(e,b,c),k.memoizedState=k.baseState=n);return n}\nfunction Ph(a,b,c){var d=Ih();return Nh(d,a,b,c)}function Qh(a){var b=Hh();\"function\"===typeof a&&(a=a());b.memoizedState=b.baseState=a;a=b.queue={pending:null,dispatch:null,lastRenderedReducer:Jh,lastRenderedState:a};a=a.dispatch=Oh.bind(null,R,a);return[b.memoizedState,a]}\nfunction Rh(a,b,c,d){a={tag:a,create:b,destroy:c,deps:d,next:null};b=R.updateQueue;null===b?(b={lastEffect:null},R.updateQueue=b,b.lastEffect=a.next=a):(c=b.lastEffect,null===c?b.lastEffect=a.next=a:(d=c.next,c.next=a,a.next=d,b.lastEffect=a));return a}function Sh(a){var b=Hh();a={current:a};return b.memoizedState=a}function Th(){return Ih().memoizedState}function Uh(a,b,c,d){var e=Hh();R.flags|=a;e.memoizedState=Rh(1|b,c,void 0,void 0===d?null:d)}\nfunction Vh(a,b,c,d){var e=Ih();d=void 0===d?null:d;var f=void 0;if(null!==S){var g=S.memoizedState;f=g.destroy;if(null!==d&&Bh(d,g.deps)){Rh(b,c,f,d);return}}R.flags|=a;e.memoizedState=Rh(1|b,c,f,d)}function Wh(a,b){return Uh(516,4,a,b)}function Xh(a,b){return Vh(516,4,a,b)}function Yh(a,b){return Vh(4,2,a,b)}function Zh(a,b){if(\"function\"===typeof b)return a=a(),b(a),function(){b(null)};if(null!==b&&void 0!==b)return a=a(),b.current=a,function(){b.current=null}}\nfunction $h(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return Vh(4,2,Zh.bind(null,b,a),c)}function ai(){}function bi(a,b){var c=Ih();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Bh(b,d[1]))return d[0];c.memoizedState=[a,b];return a}function ci(a,b){var c=Ih();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Bh(b,d[1]))return d[0];a=a();c.memoizedState=[a,b];return a}\nfunction di(a,b){var c=eg();gg(98>c?98:c,function(){a(!0)});gg(97<c?97:c,function(){var c=wh.transition;wh.transition=1;try{a(!1),b()}finally{wh.transition=c}})}\nfunction Oh(a,b,c){var d=Hg(),e=Ig(a),f={lane:e,action:c,eagerReducer:null,eagerState:null,next:null},g=b.pending;null===g?f.next=f:(f.next=g.next,g.next=f);b.pending=f;g=a.alternate;if(a===R||null!==g&&g===R)zh=yh=!0;else{if(0===a.lanes&&(null===g||0===g.lanes)&&(g=b.lastRenderedReducer,null!==g))try{var h=b.lastRenderedState,k=g(h,c);f.eagerReducer=g;f.eagerState=k;if(He(k,h))return}catch(l){}finally{}Jg(a,e,d)}}\nvar Gh={readContext:vg,useCallback:Ah,useContext:Ah,useEffect:Ah,useImperativeHandle:Ah,useLayoutEffect:Ah,useMemo:Ah,useReducer:Ah,useRef:Ah,useState:Ah,useDebugValue:Ah,useDeferredValue:Ah,useTransition:Ah,useMutableSource:Ah,useOpaqueIdentifier:Ah,unstable_isNewReconciler:!1},Dh={readContext:vg,useCallback:function(a,b){Hh().memoizedState=[a,void 0===b?null:b];return a},useContext:vg,useEffect:Wh,useImperativeHandle:function(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return Uh(4,2,Zh.bind(null,\nb,a),c)},useLayoutEffect:function(a,b){return Uh(4,2,a,b)},useMemo:function(a,b){var c=Hh();b=void 0===b?null:b;a=a();c.memoizedState=[a,b];return a},useReducer:function(a,b,c){var d=Hh();b=void 0!==c?c(b):b;d.memoizedState=d.baseState=b;a=d.queue={pending:null,dispatch:null,lastRenderedReducer:a,lastRenderedState:b};a=a.dispatch=Oh.bind(null,R,a);return[d.memoizedState,a]},useRef:Sh,useState:Qh,useDebugValue:ai,useDeferredValue:function(a){var b=Qh(a),c=b[0],d=b[1];Wh(function(){var b=wh.transition;\nwh.transition=1;try{d(a)}finally{wh.transition=b}},[a]);return c},useTransition:function(){var a=Qh(!1),b=a[0];a=di.bind(null,a[1]);Sh(a);return[a,b]},useMutableSource:function(a,b,c){var d=Hh();d.memoizedState={refs:{getSnapshot:b,setSnapshot:null},source:a,subscribe:c};return Nh(d,a,b,c)},useOpaqueIdentifier:function(){if(lh){var a=!1,b=uf(function(){a||(a=!0,c(\"r:\"+(tf++).toString(36)));throw Error(y(355));}),c=Qh(b)[1];0===(R.mode&2)&&(R.flags|=516,Rh(5,function(){c(\"r:\"+(tf++).toString(36))},\nvoid 0,null));return b}b=\"r:\"+(tf++).toString(36);Qh(b);return b},unstable_isNewReconciler:!1},Eh={readContext:vg,useCallback:bi,useContext:vg,useEffect:Xh,useImperativeHandle:$h,useLayoutEffect:Yh,useMemo:ci,useReducer:Kh,useRef:Th,useState:function(){return Kh(Jh)},useDebugValue:ai,useDeferredValue:function(a){var b=Kh(Jh),c=b[0],d=b[1];Xh(function(){var b=wh.transition;wh.transition=1;try{d(a)}finally{wh.transition=b}},[a]);return c},useTransition:function(){var a=Kh(Jh)[0];return[Th().current,\na]},useMutableSource:Ph,useOpaqueIdentifier:function(){return Kh(Jh)[0]},unstable_isNewReconciler:!1},Fh={readContext:vg,useCallback:bi,useContext:vg,useEffect:Xh,useImperativeHandle:$h,useLayoutEffect:Yh,useMemo:ci,useReducer:Lh,useRef:Th,useState:function(){return Lh(Jh)},useDebugValue:ai,useDeferredValue:function(a){var b=Lh(Jh),c=b[0],d=b[1];Xh(function(){var b=wh.transition;wh.transition=1;try{d(a)}finally{wh.transition=b}},[a]);return c},useTransition:function(){var a=Lh(Jh)[0];return[Th().current,\na]},useMutableSource:Ph,useOpaqueIdentifier:function(){return Lh(Jh)[0]},unstable_isNewReconciler:!1},ei=ra.ReactCurrentOwner,ug=!1;function fi(a,b,c,d){b.child=null===a?Zg(b,null,c,d):Yg(b,a.child,c,d)}function gi(a,b,c,d,e){c=c.render;var f=b.ref;tg(b,e);d=Ch(a,b,c,d,f,e);if(null!==a&&!ug)return b.updateQueue=a.updateQueue,b.flags&=-517,a.lanes&=~e,hi(a,b,e);b.flags|=1;fi(a,b,d,e);return b.child}\nfunction ii(a,b,c,d,e,f){if(null===a){var g=c.type;if(\"function\"===typeof g&&!ji(g)&&void 0===g.defaultProps&&null===c.compare&&void 0===c.defaultProps)return b.tag=15,b.type=g,ki(a,b,g,d,e,f);a=Vg(c.type,null,d,b,b.mode,f);a.ref=b.ref;a.return=b;return b.child=a}g=a.child;if(0===(e&f)&&(e=g.memoizedProps,c=c.compare,c=null!==c?c:Je,c(e,d)&&a.ref===b.ref))return hi(a,b,f);b.flags|=1;a=Tg(g,d);a.ref=b.ref;a.return=b;return b.child=a}\nfunction ki(a,b,c,d,e,f){if(null!==a&&Je(a.memoizedProps,d)&&a.ref===b.ref)if(ug=!1,0!==(f&e))0!==(a.flags&16384)&&(ug=!0);else return b.lanes=a.lanes,hi(a,b,f);return li(a,b,c,d,f)}\nfunction mi(a,b,c){var d=b.pendingProps,e=d.children,f=null!==a?a.memoizedState:null;if(\"hidden\"===d.mode||\"unstable-defer-without-hiding\"===d.mode)if(0===(b.mode&4))b.memoizedState={baseLanes:0},ni(b,c);else if(0!==(c&1073741824))b.memoizedState={baseLanes:0},ni(b,null!==f?f.baseLanes:c);else return a=null!==f?f.baseLanes|c:c,b.lanes=b.childLanes=1073741824,b.memoizedState={baseLanes:a},ni(b,a),null;else null!==f?(d=f.baseLanes|c,b.memoizedState=null):d=c,ni(b,d);fi(a,b,e,c);return b.child}\nfunction oi(a,b){var c=b.ref;if(null===a&&null!==c||null!==a&&a.ref!==c)b.flags|=128}function li(a,b,c,d,e){var f=Ff(c)?Df:M.current;f=Ef(b,f);tg(b,e);c=Ch(a,b,c,d,f,e);if(null!==a&&!ug)return b.updateQueue=a.updateQueue,b.flags&=-517,a.lanes&=~e,hi(a,b,e);b.flags|=1;fi(a,b,c,e);return b.child}\nfunction pi(a,b,c,d,e){if(Ff(c)){var f=!0;Jf(b)}else f=!1;tg(b,e);if(null===b.stateNode)null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2),Mg(b,c,d),Og(b,c,d,e),d=!0;else if(null===a){var g=b.stateNode,h=b.memoizedProps;g.props=h;var k=g.context,l=c.contextType;\"object\"===typeof l&&null!==l?l=vg(l):(l=Ff(c)?Df:M.current,l=Ef(b,l));var n=c.getDerivedStateFromProps,A=\"function\"===typeof n||\"function\"===typeof g.getSnapshotBeforeUpdate;A||\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\n\"function\"!==typeof g.componentWillReceiveProps||(h!==d||k!==l)&&Ng(b,g,d,l);wg=!1;var p=b.memoizedState;g.state=p;Cg(b,d,g,e);k=b.memoizedState;h!==d||p!==k||N.current||wg?(\"function\"===typeof n&&(Gg(b,c,n,d),k=b.memoizedState),(h=wg||Lg(b,c,h,d,p,k,l))?(A||\"function\"!==typeof g.UNSAFE_componentWillMount&&\"function\"!==typeof g.componentWillMount||(\"function\"===typeof g.componentWillMount&&g.componentWillMount(),\"function\"===typeof g.UNSAFE_componentWillMount&&g.UNSAFE_componentWillMount()),\"function\"===\ntypeof g.componentDidMount&&(b.flags|=4)):(\"function\"===typeof g.componentDidMount&&(b.flags|=4),b.memoizedProps=d,b.memoizedState=k),g.props=d,g.state=k,g.context=l,d=h):(\"function\"===typeof g.componentDidMount&&(b.flags|=4),d=!1)}else{g=b.stateNode;yg(a,b);h=b.memoizedProps;l=b.type===b.elementType?h:lg(b.type,h);g.props=l;A=b.pendingProps;p=g.context;k=c.contextType;\"object\"===typeof k&&null!==k?k=vg(k):(k=Ff(c)?Df:M.current,k=Ef(b,k));var C=c.getDerivedStateFromProps;(n=\"function\"===typeof C||\n\"function\"===typeof g.getSnapshotBeforeUpdate)||\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\"function\"!==typeof g.componentWillReceiveProps||(h!==A||p!==k)&&Ng(b,g,d,k);wg=!1;p=b.memoizedState;g.state=p;Cg(b,d,g,e);var x=b.memoizedState;h!==A||p!==x||N.current||wg?(\"function\"===typeof C&&(Gg(b,c,C,d),x=b.memoizedState),(l=wg||Lg(b,c,l,d,p,x,k))?(n||\"function\"!==typeof g.UNSAFE_componentWillUpdate&&\"function\"!==typeof g.componentWillUpdate||(\"function\"===typeof g.componentWillUpdate&&g.componentWillUpdate(d,\nx,k),\"function\"===typeof g.UNSAFE_componentWillUpdate&&g.UNSAFE_componentWillUpdate(d,x,k)),\"function\"===typeof g.componentDidUpdate&&(b.flags|=4),\"function\"===typeof g.getSnapshotBeforeUpdate&&(b.flags|=256)):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&p===a.memoizedState||(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&p===a.memoizedState||(b.flags|=256),b.memoizedProps=d,b.memoizedState=x),g.props=d,g.state=x,g.context=k,d=l):(\"function\"!==typeof g.componentDidUpdate||\nh===a.memoizedProps&&p===a.memoizedState||(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&p===a.memoizedState||(b.flags|=256),d=!1)}return qi(a,b,c,d,f,e)}\nfunction qi(a,b,c,d,e,f){oi(a,b);var g=0!==(b.flags&64);if(!d&&!g)return e&&Kf(b,c,!1),hi(a,b,f);d=b.stateNode;ei.current=b;var h=g&&\"function\"!==typeof c.getDerivedStateFromError?null:d.render();b.flags|=1;null!==a&&g?(b.child=Yg(b,a.child,null,f),b.child=Yg(b,null,h,f)):fi(a,b,h,f);b.memoizedState=d.state;e&&Kf(b,c,!0);return b.child}function ri(a){var b=a.stateNode;b.pendingContext?Hf(a,b.pendingContext,b.pendingContext!==b.context):b.context&&Hf(a,b.context,!1);eh(a,b.containerInfo)}\nvar si={dehydrated:null,retryLane:0};\nfunction ti(a,b,c){var d=b.pendingProps,e=P.current,f=!1,g;(g=0!==(b.flags&64))||(g=null!==a&&null===a.memoizedState?!1:0!==(e&2));g?(f=!0,b.flags&=-65):null!==a&&null===a.memoizedState||void 0===d.fallback||!0===d.unstable_avoidThisFallback||(e|=1);I(P,e&1);if(null===a){void 0!==d.fallback&&ph(b);a=d.children;e=d.fallback;if(f)return a=ui(b,a,e,c),b.child.memoizedState={baseLanes:c},b.memoizedState=si,a;if(\"number\"===typeof d.unstable_expectedLoadTime)return a=ui(b,a,e,c),b.child.memoizedState={baseLanes:c},\nb.memoizedState=si,b.lanes=33554432,a;c=vi({mode:\"visible\",children:a},b.mode,c,null);c.return=b;return b.child=c}if(null!==a.memoizedState){if(f)return d=wi(a,b,d.children,d.fallback,c),f=b.child,e=a.child.memoizedState,f.memoizedState=null===e?{baseLanes:c}:{baseLanes:e.baseLanes|c},f.childLanes=a.childLanes&~c,b.memoizedState=si,d;c=xi(a,b,d.children,c);b.memoizedState=null;return c}if(f)return d=wi(a,b,d.children,d.fallback,c),f=b.child,e=a.child.memoizedState,f.memoizedState=null===e?{baseLanes:c}:\n{baseLanes:e.baseLanes|c},f.childLanes=a.childLanes&~c,b.memoizedState=si,d;c=xi(a,b,d.children,c);b.memoizedState=null;return c}function ui(a,b,c,d){var e=a.mode,f=a.child;b={mode:\"hidden\",children:b};0===(e&2)&&null!==f?(f.childLanes=0,f.pendingProps=b):f=vi(b,e,0,null);c=Xg(c,e,d,null);f.return=a;c.return=a;f.sibling=c;a.child=f;return c}\nfunction xi(a,b,c,d){var e=a.child;a=e.sibling;c=Tg(e,{mode:\"visible\",children:c});0===(b.mode&2)&&(c.lanes=d);c.return=b;c.sibling=null;null!==a&&(a.nextEffect=null,a.flags=8,b.firstEffect=b.lastEffect=a);return b.child=c}\nfunction wi(a,b,c,d,e){var f=b.mode,g=a.child;a=g.sibling;var h={mode:\"hidden\",children:c};0===(f&2)&&b.child!==g?(c=b.child,c.childLanes=0,c.pendingProps=h,g=c.lastEffect,null!==g?(b.firstEffect=c.firstEffect,b.lastEffect=g,g.nextEffect=null):b.firstEffect=b.lastEffect=null):c=Tg(g,h);null!==a?d=Tg(a,d):(d=Xg(d,f,e,null),d.flags|=2);d.return=b;c.return=b;c.sibling=d;b.child=c;return d}function yi(a,b){a.lanes|=b;var c=a.alternate;null!==c&&(c.lanes|=b);sg(a.return,b)}\nfunction zi(a,b,c,d,e,f){var g=a.memoizedState;null===g?a.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:e,lastEffect:f}:(g.isBackwards=b,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=c,g.tailMode=e,g.lastEffect=f)}\nfunction Ai(a,b,c){var d=b.pendingProps,e=d.revealOrder,f=d.tail;fi(a,b,d.children,c);d=P.current;if(0!==(d&2))d=d&1|2,b.flags|=64;else{if(null!==a&&0!==(a.flags&64))a:for(a=b.child;null!==a;){if(13===a.tag)null!==a.memoizedState&&yi(a,c);else if(19===a.tag)yi(a,c);else if(null!==a.child){a.child.return=a;a=a.child;continue}if(a===b)break a;for(;null===a.sibling;){if(null===a.return||a.return===b)break a;a=a.return}a.sibling.return=a.return;a=a.sibling}d&=1}I(P,d);if(0===(b.mode&2))b.memoizedState=\nnull;else switch(e){case \"forwards\":c=b.child;for(e=null;null!==c;)a=c.alternate,null!==a&&null===ih(a)&&(e=c),c=c.sibling;c=e;null===c?(e=b.child,b.child=null):(e=c.sibling,c.sibling=null);zi(b,!1,e,c,f,b.lastEffect);break;case \"backwards\":c=null;e=b.child;for(b.child=null;null!==e;){a=e.alternate;if(null!==a&&null===ih(a)){b.child=e;break}a=e.sibling;e.sibling=c;c=e;e=a}zi(b,!0,c,null,f,b.lastEffect);break;case \"together\":zi(b,!1,null,null,void 0,b.lastEffect);break;default:b.memoizedState=null}return b.child}\nfunction hi(a,b,c){null!==a&&(b.dependencies=a.dependencies);Dg|=b.lanes;if(0!==(c&b.childLanes)){if(null!==a&&b.child!==a.child)throw Error(y(153));if(null!==b.child){a=b.child;c=Tg(a,a.pendingProps);b.child=c;for(c.return=b;null!==a.sibling;)a=a.sibling,c=c.sibling=Tg(a,a.pendingProps),c.return=b;c.sibling=null}return b.child}return null}var Bi,Ci,Di,Ei;\nBi=function(a,b){for(var c=b.child;null!==c;){if(5===c.tag||6===c.tag)a.appendChild(c.stateNode);else if(4!==c.tag&&null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return}c.sibling.return=c.return;c=c.sibling}};Ci=function(){};\nDi=function(a,b,c,d){var e=a.memoizedProps;if(e!==d){a=b.stateNode;dh(ah.current);var f=null;switch(c){case \"input\":e=Ya(a,e);d=Ya(a,d);f=[];break;case \"option\":e=eb(a,e);d=eb(a,d);f=[];break;case \"select\":e=m({},e,{value:void 0});d=m({},d,{value:void 0});f=[];break;case \"textarea\":e=gb(a,e);d=gb(a,d);f=[];break;default:\"function\"!==typeof e.onClick&&\"function\"===typeof d.onClick&&(a.onclick=jf)}vb(c,d);var g;c=null;for(l in e)if(!d.hasOwnProperty(l)&&e.hasOwnProperty(l)&&null!=e[l])if(\"style\"===\nl){var h=e[l];for(g in h)h.hasOwnProperty(g)&&(c||(c={}),c[g]=\"\")}else\"dangerouslySetInnerHTML\"!==l&&\"children\"!==l&&\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&\"autoFocus\"!==l&&(ca.hasOwnProperty(l)?f||(f=[]):(f=f||[]).push(l,null));for(l in d){var k=d[l];h=null!=e?e[l]:void 0;if(d.hasOwnProperty(l)&&k!==h&&(null!=k||null!=h))if(\"style\"===l)if(h){for(g in h)!h.hasOwnProperty(g)||k&&k.hasOwnProperty(g)||(c||(c={}),c[g]=\"\");for(g in k)k.hasOwnProperty(g)&&h[g]!==k[g]&&(c||\n(c={}),c[g]=k[g])}else c||(f||(f=[]),f.push(l,c)),c=k;else\"dangerouslySetInnerHTML\"===l?(k=k?k.__html:void 0,h=h?h.__html:void 0,null!=k&&h!==k&&(f=f||[]).push(l,k)):\"children\"===l?\"string\"!==typeof k&&\"number\"!==typeof k||(f=f||[]).push(l,\"\"+k):\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&(ca.hasOwnProperty(l)?(null!=k&&\"onScroll\"===l&&G(\"scroll\",a),f||h===k||(f=[])):\"object\"===typeof k&&null!==k&&k.$$typeof===Ga?k.toString():(f=f||[]).push(l,k))}c&&(f=f||[]).push(\"style\",\nc);var l=f;if(b.updateQueue=l)b.flags|=4}};Ei=function(a,b,c,d){c!==d&&(b.flags|=4)};function Fi(a,b){if(!lh)switch(a.tailMode){case \"hidden\":b=a.tail;for(var c=null;null!==b;)null!==b.alternate&&(c=b),b=b.sibling;null===c?a.tail=null:c.sibling=null;break;case \"collapsed\":c=a.tail;for(var d=null;null!==c;)null!==c.alternate&&(d=c),c=c.sibling;null===d?b||null===a.tail?a.tail=null:a.tail.sibling=null:d.sibling=null}}\nfunction Gi(a,b,c){var d=b.pendingProps;switch(b.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Ff(b.type)&&Gf(),null;case 3:fh();H(N);H(M);uh();d=b.stateNode;d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null);if(null===a||null===a.child)rh(b)?b.flags|=4:d.hydrate||(b.flags|=256);Ci(b);return null;case 5:hh(b);var e=dh(ch.current);c=b.type;if(null!==a&&null!=b.stateNode)Di(a,b,c,d,e),a.ref!==b.ref&&(b.flags|=128);else{if(!d){if(null===\nb.stateNode)throw Error(y(166));return null}a=dh(ah.current);if(rh(b)){d=b.stateNode;c=b.type;var f=b.memoizedProps;d[wf]=b;d[xf]=f;switch(c){case \"dialog\":G(\"cancel\",d);G(\"close\",d);break;case \"iframe\":case \"object\":case \"embed\":G(\"load\",d);break;case \"video\":case \"audio\":for(a=0;a<Xe.length;a++)G(Xe[a],d);break;case \"source\":G(\"error\",d);break;case \"img\":case \"image\":case \"link\":G(\"error\",d);G(\"load\",d);break;case \"details\":G(\"toggle\",d);break;case \"input\":Za(d,f);G(\"invalid\",d);break;case \"select\":d._wrapperState=\n{wasMultiple:!!f.multiple};G(\"invalid\",d);break;case \"textarea\":hb(d,f),G(\"invalid\",d)}vb(c,f);a=null;for(var g in f)f.hasOwnProperty(g)&&(e=f[g],\"children\"===g?\"string\"===typeof e?d.textContent!==e&&(a=[\"children\",e]):\"number\"===typeof e&&d.textContent!==\"\"+e&&(a=[\"children\",\"\"+e]):ca.hasOwnProperty(g)&&null!=e&&\"onScroll\"===g&&G(\"scroll\",d));switch(c){case \"input\":Va(d);cb(d,f,!0);break;case \"textarea\":Va(d);jb(d);break;case \"select\":case \"option\":break;default:\"function\"===typeof f.onClick&&(d.onclick=\njf)}d=a;b.updateQueue=d;null!==d&&(b.flags|=4)}else{g=9===e.nodeType?e:e.ownerDocument;a===kb.html&&(a=lb(c));a===kb.html?\"script\"===c?(a=g.createElement(\"div\"),a.innerHTML=\"<script>\\x3c/script>\",a=a.removeChild(a.firstChild)):\"string\"===typeof d.is?a=g.createElement(c,{is:d.is}):(a=g.createElement(c),\"select\"===c&&(g=a,d.multiple?g.multiple=!0:d.size&&(g.size=d.size))):a=g.createElementNS(a,c);a[wf]=b;a[xf]=d;Bi(a,b,!1,!1);b.stateNode=a;g=wb(c,d);switch(c){case \"dialog\":G(\"cancel\",a);G(\"close\",a);\ne=d;break;case \"iframe\":case \"object\":case \"embed\":G(\"load\",a);e=d;break;case \"video\":case \"audio\":for(e=0;e<Xe.length;e++)G(Xe[e],a);e=d;break;case \"source\":G(\"error\",a);e=d;break;case \"img\":case \"image\":case \"link\":G(\"error\",a);G(\"load\",a);e=d;break;case \"details\":G(\"toggle\",a);e=d;break;case \"input\":Za(a,d);e=Ya(a,d);G(\"invalid\",a);break;case \"option\":e=eb(a,d);break;case \"select\":a._wrapperState={wasMultiple:!!d.multiple};e=m({},d,{value:void 0});G(\"invalid\",a);break;case \"textarea\":hb(a,d);e=\ngb(a,d);G(\"invalid\",a);break;default:e=d}vb(c,e);var h=e;for(f in h)if(h.hasOwnProperty(f)){var k=h[f];\"style\"===f?tb(a,k):\"dangerouslySetInnerHTML\"===f?(k=k?k.__html:void 0,null!=k&&ob(a,k)):\"children\"===f?\"string\"===typeof k?(\"textarea\"!==c||\"\"!==k)&&pb(a,k):\"number\"===typeof k&&pb(a,\"\"+k):\"suppressContentEditableWarning\"!==f&&\"suppressHydrationWarning\"!==f&&\"autoFocus\"!==f&&(ca.hasOwnProperty(f)?null!=k&&\"onScroll\"===f&&G(\"scroll\",a):null!=k&&qa(a,f,k,g))}switch(c){case \"input\":Va(a);cb(a,d,!1);\nbreak;case \"textarea\":Va(a);jb(a);break;case \"option\":null!=d.value&&a.setAttribute(\"value\",\"\"+Sa(d.value));break;case \"select\":a.multiple=!!d.multiple;f=d.value;null!=f?fb(a,!!d.multiple,f,!1):null!=d.defaultValue&&fb(a,!!d.multiple,d.defaultValue,!0);break;default:\"function\"===typeof e.onClick&&(a.onclick=jf)}mf(c,d)&&(b.flags|=4)}null!==b.ref&&(b.flags|=128)}return null;case 6:if(a&&null!=b.stateNode)Ei(a,b,a.memoizedProps,d);else{if(\"string\"!==typeof d&&null===b.stateNode)throw Error(y(166));\nc=dh(ch.current);dh(ah.current);rh(b)?(d=b.stateNode,c=b.memoizedProps,d[wf]=b,d.nodeValue!==c&&(b.flags|=4)):(d=(9===c.nodeType?c:c.ownerDocument).createTextNode(d),d[wf]=b,b.stateNode=d)}return null;case 13:H(P);d=b.memoizedState;if(0!==(b.flags&64))return b.lanes=c,b;d=null!==d;c=!1;null===a?void 0!==b.memoizedProps.fallback&&rh(b):c=null!==a.memoizedState;if(d&&!c&&0!==(b.mode&2))if(null===a&&!0!==b.memoizedProps.unstable_avoidThisFallback||0!==(P.current&1))0===V&&(V=3);else{if(0===V||3===V)V=\n4;null===U||0===(Dg&134217727)&&0===(Hi&134217727)||Ii(U,W)}if(d||c)b.flags|=4;return null;case 4:return fh(),Ci(b),null===a&&cf(b.stateNode.containerInfo),null;case 10:return rg(b),null;case 17:return Ff(b.type)&&Gf(),null;case 19:H(P);d=b.memoizedState;if(null===d)return null;f=0!==(b.flags&64);g=d.rendering;if(null===g)if(f)Fi(d,!1);else{if(0!==V||null!==a&&0!==(a.flags&64))for(a=b.child;null!==a;){g=ih(a);if(null!==g){b.flags|=64;Fi(d,!1);f=g.updateQueue;null!==f&&(b.updateQueue=f,b.flags|=4);\nnull===d.lastEffect&&(b.firstEffect=null);b.lastEffect=d.lastEffect;d=c;for(c=b.child;null!==c;)f=c,a=d,f.flags&=2,f.nextEffect=null,f.firstEffect=null,f.lastEffect=null,g=f.alternate,null===g?(f.childLanes=0,f.lanes=a,f.child=null,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,a=g.dependencies,\nf.dependencies=null===a?null:{lanes:a.lanes,firstContext:a.firstContext}),c=c.sibling;I(P,P.current&1|2);return b.child}a=a.sibling}null!==d.tail&&O()>Ji&&(b.flags|=64,f=!0,Fi(d,!1),b.lanes=33554432)}else{if(!f)if(a=ih(g),null!==a){if(b.flags|=64,f=!0,c=a.updateQueue,null!==c&&(b.updateQueue=c,b.flags|=4),Fi(d,!0),null===d.tail&&\"hidden\"===d.tailMode&&!g.alternate&&!lh)return b=b.lastEffect=d.lastEffect,null!==b&&(b.nextEffect=null),null}else 2*O()-d.renderingStartTime>Ji&&1073741824!==c&&(b.flags|=\n64,f=!0,Fi(d,!1),b.lanes=33554432);d.isBackwards?(g.sibling=b.child,b.child=g):(c=d.last,null!==c?c.sibling=g:b.child=g,d.last=g)}return null!==d.tail?(c=d.tail,d.rendering=c,d.tail=c.sibling,d.lastEffect=b.lastEffect,d.renderingStartTime=O(),c.sibling=null,b=P.current,I(P,f?b&1|2:b&1),c):null;case 23:case 24:return Ki(),null!==a&&null!==a.memoizedState!==(null!==b.memoizedState)&&\"unstable-defer-without-hiding\"!==d.mode&&(b.flags|=4),null}throw Error(y(156,b.tag));}\nfunction Li(a){switch(a.tag){case 1:Ff(a.type)&&Gf();var b=a.flags;return b&4096?(a.flags=b&-4097|64,a):null;case 3:fh();H(N);H(M);uh();b=a.flags;if(0!==(b&64))throw Error(y(285));a.flags=b&-4097|64;return a;case 5:return hh(a),null;case 13:return H(P),b=a.flags,b&4096?(a.flags=b&-4097|64,a):null;case 19:return H(P),null;case 4:return fh(),null;case 10:return rg(a),null;case 23:case 24:return Ki(),null;default:return null}}\nfunction Mi(a,b){try{var c=\"\",d=b;do c+=Qa(d),d=d.return;while(d);var e=c}catch(f){e=\"\\nError generating stack: \"+f.message+\"\\n\"+f.stack}return{value:a,source:b,stack:e}}function Ni(a,b){try{console.error(b.value)}catch(c){setTimeout(function(){throw c;})}}var Oi=\"function\"===typeof WeakMap?WeakMap:Map;function Pi(a,b,c){c=zg(-1,c);c.tag=3;c.payload={element:null};var d=b.value;c.callback=function(){Qi||(Qi=!0,Ri=d);Ni(a,b)};return c}\nfunction Si(a,b,c){c=zg(-1,c);c.tag=3;var d=a.type.getDerivedStateFromError;if(\"function\"===typeof d){var e=b.value;c.payload=function(){Ni(a,b);return d(e)}}var f=a.stateNode;null!==f&&\"function\"===typeof f.componentDidCatch&&(c.callback=function(){\"function\"!==typeof d&&(null===Ti?Ti=new Set([this]):Ti.add(this),Ni(a,b));var c=b.stack;this.componentDidCatch(b.value,{componentStack:null!==c?c:\"\"})});return c}var Ui=\"function\"===typeof WeakSet?WeakSet:Set;\nfunction Vi(a){var b=a.ref;if(null!==b)if(\"function\"===typeof b)try{b(null)}catch(c){Wi(a,c)}else b.current=null}function Xi(a,b){switch(b.tag){case 0:case 11:case 15:case 22:return;case 1:if(b.flags&256&&null!==a){var c=a.memoizedProps,d=a.memoizedState;a=b.stateNode;b=a.getSnapshotBeforeUpdate(b.elementType===b.type?c:lg(b.type,c),d);a.__reactInternalSnapshotBeforeUpdate=b}return;case 3:b.flags&256&&qf(b.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(y(163));}\nfunction Yi(a,b,c){switch(c.tag){case 0:case 11:case 15:case 22:b=c.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){a=b=b.next;do{if(3===(a.tag&3)){var d=a.create;a.destroy=d()}a=a.next}while(a!==b)}b=c.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){a=b=b.next;do{var e=a;d=e.next;e=e.tag;0!==(e&4)&&0!==(e&1)&&(Zi(c,a),$i(c,a));a=d}while(a!==b)}return;case 1:a=c.stateNode;c.flags&4&&(null===b?a.componentDidMount():(d=c.elementType===c.type?b.memoizedProps:lg(c.type,b.memoizedProps),a.componentDidUpdate(d,\nb.memoizedState,a.__reactInternalSnapshotBeforeUpdate)));b=c.updateQueue;null!==b&&Eg(c,b,a);return;case 3:b=c.updateQueue;if(null!==b){a=null;if(null!==c.child)switch(c.child.tag){case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}Eg(c,b,a)}return;case 5:a=c.stateNode;null===b&&c.flags&4&&mf(c.type,c.memoizedProps)&&a.focus();return;case 6:return;case 4:return;case 12:return;case 13:null===c.memoizedState&&(c=c.alternate,null!==c&&(c=c.memoizedState,null!==c&&(c=c.dehydrated,null!==c&&Cc(c))));\nreturn;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(y(163));}\nfunction aj(a,b){for(var c=a;;){if(5===c.tag){var d=c.stateNode;if(b)d=d.style,\"function\"===typeof d.setProperty?d.setProperty(\"display\",\"none\",\"important\"):d.display=\"none\";else{d=c.stateNode;var e=c.memoizedProps.style;e=void 0!==e&&null!==e&&e.hasOwnProperty(\"display\")?e.display:null;d.style.display=sb(\"display\",e)}}else if(6===c.tag)c.stateNode.nodeValue=b?\"\":c.memoizedProps;else if((23!==c.tag&&24!==c.tag||null===c.memoizedState||c===a)&&null!==c.child){c.child.return=c;c=c.child;continue}if(c===\na)break;for(;null===c.sibling;){if(null===c.return||c.return===a)return;c=c.return}c.sibling.return=c.return;c=c.sibling}}\nfunction bj(a,b){if(Mf&&\"function\"===typeof Mf.onCommitFiberUnmount)try{Mf.onCommitFiberUnmount(Lf,b)}catch(f){}switch(b.tag){case 0:case 11:case 14:case 15:case 22:a=b.updateQueue;if(null!==a&&(a=a.lastEffect,null!==a)){var c=a=a.next;do{var d=c,e=d.destroy;d=d.tag;if(void 0!==e)if(0!==(d&4))Zi(b,c);else{d=b;try{e()}catch(f){Wi(d,f)}}c=c.next}while(c!==a)}break;case 1:Vi(b);a=b.stateNode;if(\"function\"===typeof a.componentWillUnmount)try{a.props=b.memoizedProps,a.state=b.memoizedState,a.componentWillUnmount()}catch(f){Wi(b,\nf)}break;case 5:Vi(b);break;case 4:cj(a,b)}}function dj(a){a.alternate=null;a.child=null;a.dependencies=null;a.firstEffect=null;a.lastEffect=null;a.memoizedProps=null;a.memoizedState=null;a.pendingProps=null;a.return=null;a.updateQueue=null}function ej(a){return 5===a.tag||3===a.tag||4===a.tag}\nfunction fj(a){a:{for(var b=a.return;null!==b;){if(ej(b))break a;b=b.return}throw Error(y(160));}var c=b;b=c.stateNode;switch(c.tag){case 5:var d=!1;break;case 3:b=b.containerInfo;d=!0;break;case 4:b=b.containerInfo;d=!0;break;default:throw Error(y(161));}c.flags&16&&(pb(b,\"\"),c.flags&=-17);a:b:for(c=a;;){for(;null===c.sibling;){if(null===c.return||ej(c.return)){c=null;break a}c=c.return}c.sibling.return=c.return;for(c=c.sibling;5!==c.tag&&6!==c.tag&&18!==c.tag;){if(c.flags&2)continue b;if(null===\nc.child||4===c.tag)continue b;else c.child.return=c,c=c.child}if(!(c.flags&2)){c=c.stateNode;break a}}d?gj(a,c,b):hj(a,c,b)}\nfunction gj(a,b,c){var d=a.tag,e=5===d||6===d;if(e)a=e?a.stateNode:a.stateNode.instance,b?8===c.nodeType?c.parentNode.insertBefore(a,b):c.insertBefore(a,b):(8===c.nodeType?(b=c.parentNode,b.insertBefore(a,c)):(b=c,b.appendChild(a)),c=c._reactRootContainer,null!==c&&void 0!==c||null!==b.onclick||(b.onclick=jf));else if(4!==d&&(a=a.child,null!==a))for(gj(a,b,c),a=a.sibling;null!==a;)gj(a,b,c),a=a.sibling}\nfunction hj(a,b,c){var d=a.tag,e=5===d||6===d;if(e)a=e?a.stateNode:a.stateNode.instance,b?c.insertBefore(a,b):c.appendChild(a);else if(4!==d&&(a=a.child,null!==a))for(hj(a,b,c),a=a.sibling;null!==a;)hj(a,b,c),a=a.sibling}\nfunction cj(a,b){for(var c=b,d=!1,e,f;;){if(!d){d=c.return;a:for(;;){if(null===d)throw Error(y(160));e=d.stateNode;switch(d.tag){case 5:f=!1;break a;case 3:e=e.containerInfo;f=!0;break a;case 4:e=e.containerInfo;f=!0;break a}d=d.return}d=!0}if(5===c.tag||6===c.tag){a:for(var g=a,h=c,k=h;;)if(bj(g,k),null!==k.child&&4!==k.tag)k.child.return=k,k=k.child;else{if(k===h)break a;for(;null===k.sibling;){if(null===k.return||k.return===h)break a;k=k.return}k.sibling.return=k.return;k=k.sibling}f?(g=e,h=c.stateNode,\n8===g.nodeType?g.parentNode.removeChild(h):g.removeChild(h)):e.removeChild(c.stateNode)}else if(4===c.tag){if(null!==c.child){e=c.stateNode.containerInfo;f=!0;c.child.return=c;c=c.child;continue}}else if(bj(a,c),null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return;4===c.tag&&(d=!1)}c.sibling.return=c.return;c=c.sibling}}\nfunction ij(a,b){switch(b.tag){case 0:case 11:case 14:case 15:case 22:var c=b.updateQueue;c=null!==c?c.lastEffect:null;if(null!==c){var d=c=c.next;do 3===(d.tag&3)&&(a=d.destroy,d.destroy=void 0,void 0!==a&&a()),d=d.next;while(d!==c)}return;case 1:return;case 5:c=b.stateNode;if(null!=c){d=b.memoizedProps;var e=null!==a?a.memoizedProps:d;a=b.type;var f=b.updateQueue;b.updateQueue=null;if(null!==f){c[xf]=d;\"input\"===a&&\"radio\"===d.type&&null!=d.name&&$a(c,d);wb(a,e);b=wb(a,d);for(e=0;e<f.length;e+=\n2){var g=f[e],h=f[e+1];\"style\"===g?tb(c,h):\"dangerouslySetInnerHTML\"===g?ob(c,h):\"children\"===g?pb(c,h):qa(c,g,h,b)}switch(a){case \"input\":ab(c,d);break;case \"textarea\":ib(c,d);break;case \"select\":a=c._wrapperState.wasMultiple,c._wrapperState.wasMultiple=!!d.multiple,f=d.value,null!=f?fb(c,!!d.multiple,f,!1):a!==!!d.multiple&&(null!=d.defaultValue?fb(c,!!d.multiple,d.defaultValue,!0):fb(c,!!d.multiple,d.multiple?[]:\"\",!1))}}}return;case 6:if(null===b.stateNode)throw Error(y(162));b.stateNode.nodeValue=\nb.memoizedProps;return;case 3:c=b.stateNode;c.hydrate&&(c.hydrate=!1,Cc(c.containerInfo));return;case 12:return;case 13:null!==b.memoizedState&&(jj=O(),aj(b.child,!0));kj(b);return;case 19:kj(b);return;case 17:return;case 23:case 24:aj(b,null!==b.memoizedState);return}throw Error(y(163));}function kj(a){var b=a.updateQueue;if(null!==b){a.updateQueue=null;var c=a.stateNode;null===c&&(c=a.stateNode=new Ui);b.forEach(function(b){var d=lj.bind(null,a,b);c.has(b)||(c.add(b),b.then(d,d))})}}\nfunction mj(a,b){return null!==a&&(a=a.memoizedState,null===a||null!==a.dehydrated)?(b=b.memoizedState,null!==b&&null===b.dehydrated):!1}var nj=Math.ceil,oj=ra.ReactCurrentDispatcher,pj=ra.ReactCurrentOwner,X=0,U=null,Y=null,W=0,qj=0,rj=Bf(0),V=0,sj=null,tj=0,Dg=0,Hi=0,uj=0,vj=null,jj=0,Ji=Infinity;function wj(){Ji=O()+500}var Z=null,Qi=!1,Ri=null,Ti=null,xj=!1,yj=null,zj=90,Aj=[],Bj=[],Cj=null,Dj=0,Ej=null,Fj=-1,Gj=0,Hj=0,Ij=null,Jj=!1;function Hg(){return 0!==(X&48)?O():-1!==Fj?Fj:Fj=O()}\nfunction Ig(a){a=a.mode;if(0===(a&2))return 1;if(0===(a&4))return 99===eg()?1:2;0===Gj&&(Gj=tj);if(0!==kg.transition){0!==Hj&&(Hj=null!==vj?vj.pendingLanes:0);a=Gj;var b=4186112&~Hj;b&=-b;0===b&&(a=4186112&~a,b=a&-a,0===b&&(b=8192));return b}a=eg();0!==(X&4)&&98===a?a=Xc(12,Gj):(a=Sc(a),a=Xc(a,Gj));return a}\nfunction Jg(a,b,c){if(50<Dj)throw Dj=0,Ej=null,Error(y(185));a=Kj(a,b);if(null===a)return null;$c(a,b,c);a===U&&(Hi|=b,4===V&&Ii(a,W));var d=eg();1===b?0!==(X&8)&&0===(X&48)?Lj(a):(Mj(a,c),0===X&&(wj(),ig())):(0===(X&4)||98!==d&&99!==d||(null===Cj?Cj=new Set([a]):Cj.add(a)),Mj(a,c));vj=a}function Kj(a,b){a.lanes|=b;var c=a.alternate;null!==c&&(c.lanes|=b);c=a;for(a=a.return;null!==a;)a.childLanes|=b,c=a.alternate,null!==c&&(c.childLanes|=b),c=a,a=a.return;return 3===c.tag?c.stateNode:null}\nfunction Mj(a,b){for(var c=a.callbackNode,d=a.suspendedLanes,e=a.pingedLanes,f=a.expirationTimes,g=a.pendingLanes;0<g;){var h=31-Vc(g),k=1<<h,l=f[h];if(-1===l){if(0===(k&d)||0!==(k&e)){l=b;Rc(k);var n=F;f[h]=10<=n?l+250:6<=n?l+5E3:-1}}else l<=b&&(a.expiredLanes|=k);g&=~k}d=Uc(a,a===U?W:0);b=F;if(0===d)null!==c&&(c!==Zf&&Pf(c),a.callbackNode=null,a.callbackPriority=0);else{if(null!==c){if(a.callbackPriority===b)return;c!==Zf&&Pf(c)}15===b?(c=Lj.bind(null,a),null===ag?(ag=[c],bg=Of(Uf,jg)):ag.push(c),\nc=Zf):14===b?c=hg(99,Lj.bind(null,a)):(c=Tc(b),c=hg(c,Nj.bind(null,a)));a.callbackPriority=b;a.callbackNode=c}}\nfunction Nj(a){Fj=-1;Hj=Gj=0;if(0!==(X&48))throw Error(y(327));var b=a.callbackNode;if(Oj()&&a.callbackNode!==b)return null;var c=Uc(a,a===U?W:0);if(0===c)return null;var d=c;var e=X;X|=16;var f=Pj();if(U!==a||W!==d)wj(),Qj(a,d);do try{Rj();break}catch(h){Sj(a,h)}while(1);qg();oj.current=f;X=e;null!==Y?d=0:(U=null,W=0,d=V);if(0!==(tj&Hi))Qj(a,0);else if(0!==d){2===d&&(X|=64,a.hydrate&&(a.hydrate=!1,qf(a.containerInfo)),c=Wc(a),0!==c&&(d=Tj(a,c)));if(1===d)throw b=sj,Qj(a,0),Ii(a,c),Mj(a,O()),b;a.finishedWork=\na.current.alternate;a.finishedLanes=c;switch(d){case 0:case 1:throw Error(y(345));case 2:Uj(a);break;case 3:Ii(a,c);if((c&62914560)===c&&(d=jj+500-O(),10<d)){if(0!==Uc(a,0))break;e=a.suspendedLanes;if((e&c)!==c){Hg();a.pingedLanes|=a.suspendedLanes&e;break}a.timeoutHandle=of(Uj.bind(null,a),d);break}Uj(a);break;case 4:Ii(a,c);if((c&4186112)===c)break;d=a.eventTimes;for(e=-1;0<c;){var g=31-Vc(c);f=1<<g;g=d[g];g>e&&(e=g);c&=~f}c=e;c=O()-c;c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3E3>c?3E3:4320>\nc?4320:1960*nj(c/1960))-c;if(10<c){a.timeoutHandle=of(Uj.bind(null,a),c);break}Uj(a);break;case 5:Uj(a);break;default:throw Error(y(329));}}Mj(a,O());return a.callbackNode===b?Nj.bind(null,a):null}function Ii(a,b){b&=~uj;b&=~Hi;a.suspendedLanes|=b;a.pingedLanes&=~b;for(a=a.expirationTimes;0<b;){var c=31-Vc(b),d=1<<c;a[c]=-1;b&=~d}}\nfunction Lj(a){if(0!==(X&48))throw Error(y(327));Oj();if(a===U&&0!==(a.expiredLanes&W)){var b=W;var c=Tj(a,b);0!==(tj&Hi)&&(b=Uc(a,b),c=Tj(a,b))}else b=Uc(a,0),c=Tj(a,b);0!==a.tag&&2===c&&(X|=64,a.hydrate&&(a.hydrate=!1,qf(a.containerInfo)),b=Wc(a),0!==b&&(c=Tj(a,b)));if(1===c)throw c=sj,Qj(a,0),Ii(a,b),Mj(a,O()),c;a.finishedWork=a.current.alternate;a.finishedLanes=b;Uj(a);Mj(a,O());return null}\nfunction Vj(){if(null!==Cj){var a=Cj;Cj=null;a.forEach(function(a){a.expiredLanes|=24&a.pendingLanes;Mj(a,O())})}ig()}function Wj(a,b){var c=X;X|=1;try{return a(b)}finally{X=c,0===X&&(wj(),ig())}}function Xj(a,b){var c=X;X&=-2;X|=8;try{return a(b)}finally{X=c,0===X&&(wj(),ig())}}function ni(a,b){I(rj,qj);qj|=b;tj|=b}function Ki(){qj=rj.current;H(rj)}\nfunction Qj(a,b){a.finishedWork=null;a.finishedLanes=0;var c=a.timeoutHandle;-1!==c&&(a.timeoutHandle=-1,pf(c));if(null!==Y)for(c=Y.return;null!==c;){var d=c;switch(d.tag){case 1:d=d.type.childContextTypes;null!==d&&void 0!==d&&Gf();break;case 3:fh();H(N);H(M);uh();break;case 5:hh(d);break;case 4:fh();break;case 13:H(P);break;case 19:H(P);break;case 10:rg(d);break;case 23:case 24:Ki()}c=c.return}U=a;Y=Tg(a.current,null);W=qj=tj=b;V=0;sj=null;uj=Hi=Dg=0}\nfunction Sj(a,b){do{var c=Y;try{qg();vh.current=Gh;if(yh){for(var d=R.memoizedState;null!==d;){var e=d.queue;null!==e&&(e.pending=null);d=d.next}yh=!1}xh=0;T=S=R=null;zh=!1;pj.current=null;if(null===c||null===c.return){V=1;sj=b;Y=null;break}a:{var f=a,g=c.return,h=c,k=b;b=W;h.flags|=2048;h.firstEffect=h.lastEffect=null;if(null!==k&&\"object\"===typeof k&&\"function\"===typeof k.then){var l=k;if(0===(h.mode&2)){var n=h.alternate;n?(h.updateQueue=n.updateQueue,h.memoizedState=n.memoizedState,h.lanes=n.lanes):\n(h.updateQueue=null,h.memoizedState=null)}var A=0!==(P.current&1),p=g;do{var C;if(C=13===p.tag){var x=p.memoizedState;if(null!==x)C=null!==x.dehydrated?!0:!1;else{var w=p.memoizedProps;C=void 0===w.fallback?!1:!0!==w.unstable_avoidThisFallback?!0:A?!1:!0}}if(C){var z=p.updateQueue;if(null===z){var u=new Set;u.add(l);p.updateQueue=u}else z.add(l);if(0===(p.mode&2)){p.flags|=64;h.flags|=16384;h.flags&=-2981;if(1===h.tag)if(null===h.alternate)h.tag=17;else{var t=zg(-1,1);t.tag=2;Ag(h,t)}h.lanes|=1;break a}k=\nvoid 0;h=b;var q=f.pingCache;null===q?(q=f.pingCache=new Oi,k=new Set,q.set(l,k)):(k=q.get(l),void 0===k&&(k=new Set,q.set(l,k)));if(!k.has(h)){k.add(h);var v=Yj.bind(null,f,l,h);l.then(v,v)}p.flags|=4096;p.lanes=b;break a}p=p.return}while(null!==p);k=Error((Ra(h.type)||\"A React component\")+\" suspended while rendering, but no fallback UI was specified.\\n\\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.\")}5!==V&&(V=2);k=Mi(k,h);p=\ng;do{switch(p.tag){case 3:f=k;p.flags|=4096;b&=-b;p.lanes|=b;var J=Pi(p,f,b);Bg(p,J);break a;case 1:f=k;var K=p.type,Q=p.stateNode;if(0===(p.flags&64)&&(\"function\"===typeof K.getDerivedStateFromError||null!==Q&&\"function\"===typeof Q.componentDidCatch&&(null===Ti||!Ti.has(Q)))){p.flags|=4096;b&=-b;p.lanes|=b;var L=Si(p,f,b);Bg(p,L);break a}}p=p.return}while(null!==p)}Zj(c)}catch(va){b=va;Y===c&&null!==c&&(Y=c=c.return);continue}break}while(1)}\nfunction Pj(){var a=oj.current;oj.current=Gh;return null===a?Gh:a}function Tj(a,b){var c=X;X|=16;var d=Pj();U===a&&W===b||Qj(a,b);do try{ak();break}catch(e){Sj(a,e)}while(1);qg();X=c;oj.current=d;if(null!==Y)throw Error(y(261));U=null;W=0;return V}function ak(){for(;null!==Y;)bk(Y)}function Rj(){for(;null!==Y&&!Qf();)bk(Y)}function bk(a){var b=ck(a.alternate,a,qj);a.memoizedProps=a.pendingProps;null===b?Zj(a):Y=b;pj.current=null}\nfunction Zj(a){var b=a;do{var c=b.alternate;a=b.return;if(0===(b.flags&2048)){c=Gi(c,b,qj);if(null!==c){Y=c;return}c=b;if(24!==c.tag&&23!==c.tag||null===c.memoizedState||0!==(qj&1073741824)||0===(c.mode&4)){for(var d=0,e=c.child;null!==e;)d|=e.lanes|e.childLanes,e=e.sibling;c.childLanes=d}null!==a&&0===(a.flags&2048)&&(null===a.firstEffect&&(a.firstEffect=b.firstEffect),null!==b.lastEffect&&(null!==a.lastEffect&&(a.lastEffect.nextEffect=b.firstEffect),a.lastEffect=b.lastEffect),1<b.flags&&(null!==\na.lastEffect?a.lastEffect.nextEffect=b:a.firstEffect=b,a.lastEffect=b))}else{c=Li(b);if(null!==c){c.flags&=2047;Y=c;return}null!==a&&(a.firstEffect=a.lastEffect=null,a.flags|=2048)}b=b.sibling;if(null!==b){Y=b;return}Y=b=a}while(null!==b);0===V&&(V=5)}function Uj(a){var b=eg();gg(99,dk.bind(null,a,b));return null}\nfunction dk(a,b){do Oj();while(null!==yj);if(0!==(X&48))throw Error(y(327));var c=a.finishedWork;if(null===c)return null;a.finishedWork=null;a.finishedLanes=0;if(c===a.current)throw Error(y(177));a.callbackNode=null;var d=c.lanes|c.childLanes,e=d,f=a.pendingLanes&~e;a.pendingLanes=e;a.suspendedLanes=0;a.pingedLanes=0;a.expiredLanes&=e;a.mutableReadLanes&=e;a.entangledLanes&=e;e=a.entanglements;for(var g=a.eventTimes,h=a.expirationTimes;0<f;){var k=31-Vc(f),l=1<<k;e[k]=0;g[k]=-1;h[k]=-1;f&=~l}null!==\nCj&&0===(d&24)&&Cj.has(a)&&Cj.delete(a);a===U&&(Y=U=null,W=0);1<c.flags?null!==c.lastEffect?(c.lastEffect.nextEffect=c,d=c.firstEffect):d=c:d=c.firstEffect;if(null!==d){e=X;X|=32;pj.current=null;kf=fd;g=Ne();if(Oe(g)){if(\"selectionStart\"in g)h={start:g.selectionStart,end:g.selectionEnd};else a:if(h=(h=g.ownerDocument)&&h.defaultView||window,(l=h.getSelection&&h.getSelection())&&0!==l.rangeCount){h=l.anchorNode;f=l.anchorOffset;k=l.focusNode;l=l.focusOffset;try{h.nodeType,k.nodeType}catch(va){h=null;\nbreak a}var n=0,A=-1,p=-1,C=0,x=0,w=g,z=null;b:for(;;){for(var u;;){w!==h||0!==f&&3!==w.nodeType||(A=n+f);w!==k||0!==l&&3!==w.nodeType||(p=n+l);3===w.nodeType&&(n+=w.nodeValue.length);if(null===(u=w.firstChild))break;z=w;w=u}for(;;){if(w===g)break b;z===h&&++C===f&&(A=n);z===k&&++x===l&&(p=n);if(null!==(u=w.nextSibling))break;w=z;z=w.parentNode}w=u}h=-1===A||-1===p?null:{start:A,end:p}}else h=null;h=h||{start:0,end:0}}else h=null;lf={focusedElem:g,selectionRange:h};fd=!1;Ij=null;Jj=!1;Z=d;do try{ek()}catch(va){if(null===\nZ)throw Error(y(330));Wi(Z,va);Z=Z.nextEffect}while(null!==Z);Ij=null;Z=d;do try{for(g=a;null!==Z;){var t=Z.flags;t&16&&pb(Z.stateNode,\"\");if(t&128){var q=Z.alternate;if(null!==q){var v=q.ref;null!==v&&(\"function\"===typeof v?v(null):v.current=null)}}switch(t&1038){case 2:fj(Z);Z.flags&=-3;break;case 6:fj(Z);Z.flags&=-3;ij(Z.alternate,Z);break;case 1024:Z.flags&=-1025;break;case 1028:Z.flags&=-1025;ij(Z.alternate,Z);break;case 4:ij(Z.alternate,Z);break;case 8:h=Z;cj(g,h);var J=h.alternate;dj(h);null!==\nJ&&dj(J)}Z=Z.nextEffect}}catch(va){if(null===Z)throw Error(y(330));Wi(Z,va);Z=Z.nextEffect}while(null!==Z);v=lf;q=Ne();t=v.focusedElem;g=v.selectionRange;if(q!==t&&t&&t.ownerDocument&&Me(t.ownerDocument.documentElement,t)){null!==g&&Oe(t)&&(q=g.start,v=g.end,void 0===v&&(v=q),\"selectionStart\"in t?(t.selectionStart=q,t.selectionEnd=Math.min(v,t.value.length)):(v=(q=t.ownerDocument||document)&&q.defaultView||window,v.getSelection&&(v=v.getSelection(),h=t.textContent.length,J=Math.min(g.start,h),g=void 0===\ng.end?J:Math.min(g.end,h),!v.extend&&J>g&&(h=g,g=J,J=h),h=Le(t,J),f=Le(t,g),h&&f&&(1!==v.rangeCount||v.anchorNode!==h.node||v.anchorOffset!==h.offset||v.focusNode!==f.node||v.focusOffset!==f.offset)&&(q=q.createRange(),q.setStart(h.node,h.offset),v.removeAllRanges(),J>g?(v.addRange(q),v.extend(f.node,f.offset)):(q.setEnd(f.node,f.offset),v.addRange(q))))));q=[];for(v=t;v=v.parentNode;)1===v.nodeType&&q.push({element:v,left:v.scrollLeft,top:v.scrollTop});\"function\"===typeof t.focus&&t.focus();for(t=\n0;t<q.length;t++)v=q[t],v.element.scrollLeft=v.left,v.element.scrollTop=v.top}fd=!!kf;lf=kf=null;a.current=c;Z=d;do try{for(t=a;null!==Z;){var K=Z.flags;K&36&&Yi(t,Z.alternate,Z);if(K&128){q=void 0;var Q=Z.ref;if(null!==Q){var L=Z.stateNode;switch(Z.tag){case 5:q=L;break;default:q=L}\"function\"===typeof Q?Q(q):Q.current=q}}Z=Z.nextEffect}}catch(va){if(null===Z)throw Error(y(330));Wi(Z,va);Z=Z.nextEffect}while(null!==Z);Z=null;$f();X=e}else a.current=c;if(xj)xj=!1,yj=a,zj=b;else for(Z=d;null!==Z;)b=\nZ.nextEffect,Z.nextEffect=null,Z.flags&8&&(K=Z,K.sibling=null,K.stateNode=null),Z=b;d=a.pendingLanes;0===d&&(Ti=null);1===d?a===Ej?Dj++:(Dj=0,Ej=a):Dj=0;c=c.stateNode;if(Mf&&\"function\"===typeof Mf.onCommitFiberRoot)try{Mf.onCommitFiberRoot(Lf,c,void 0,64===(c.current.flags&64))}catch(va){}Mj(a,O());if(Qi)throw Qi=!1,a=Ri,Ri=null,a;if(0!==(X&8))return null;ig();return null}\nfunction ek(){for(;null!==Z;){var a=Z.alternate;Jj||null===Ij||(0!==(Z.flags&8)?dc(Z,Ij)&&(Jj=!0):13===Z.tag&&mj(a,Z)&&dc(Z,Ij)&&(Jj=!0));var b=Z.flags;0!==(b&256)&&Xi(a,Z);0===(b&512)||xj||(xj=!0,hg(97,function(){Oj();return null}));Z=Z.nextEffect}}function Oj(){if(90!==zj){var a=97<zj?97:zj;zj=90;return gg(a,fk)}return!1}function $i(a,b){Aj.push(b,a);xj||(xj=!0,hg(97,function(){Oj();return null}))}function Zi(a,b){Bj.push(b,a);xj||(xj=!0,hg(97,function(){Oj();return null}))}\nfunction fk(){if(null===yj)return!1;var a=yj;yj=null;if(0!==(X&48))throw Error(y(331));var b=X;X|=32;var c=Bj;Bj=[];for(var d=0;d<c.length;d+=2){var e=c[d],f=c[d+1],g=e.destroy;e.destroy=void 0;if(\"function\"===typeof g)try{g()}catch(k){if(null===f)throw Error(y(330));Wi(f,k)}}c=Aj;Aj=[];for(d=0;d<c.length;d+=2){e=c[d];f=c[d+1];try{var h=e.create;e.destroy=h()}catch(k){if(null===f)throw Error(y(330));Wi(f,k)}}for(h=a.current.firstEffect;null!==h;)a=h.nextEffect,h.nextEffect=null,h.flags&8&&(h.sibling=\nnull,h.stateNode=null),h=a;X=b;ig();return!0}function gk(a,b,c){b=Mi(c,b);b=Pi(a,b,1);Ag(a,b);b=Hg();a=Kj(a,1);null!==a&&($c(a,1,b),Mj(a,b))}\nfunction Wi(a,b){if(3===a.tag)gk(a,a,b);else for(var c=a.return;null!==c;){if(3===c.tag){gk(c,a,b);break}else if(1===c.tag){var d=c.stateNode;if(\"function\"===typeof c.type.getDerivedStateFromError||\"function\"===typeof d.componentDidCatch&&(null===Ti||!Ti.has(d))){a=Mi(b,a);var e=Si(c,a,1);Ag(c,e);e=Hg();c=Kj(c,1);if(null!==c)$c(c,1,e),Mj(c,e);else if(\"function\"===typeof d.componentDidCatch&&(null===Ti||!Ti.has(d)))try{d.componentDidCatch(b,a)}catch(f){}break}}c=c.return}}\nfunction Yj(a,b,c){var d=a.pingCache;null!==d&&d.delete(b);b=Hg();a.pingedLanes|=a.suspendedLanes&c;U===a&&(W&c)===c&&(4===V||3===V&&(W&62914560)===W&&500>O()-jj?Qj(a,0):uj|=c);Mj(a,b)}function lj(a,b){var c=a.stateNode;null!==c&&c.delete(b);b=0;0===b&&(b=a.mode,0===(b&2)?b=1:0===(b&4)?b=99===eg()?1:2:(0===Gj&&(Gj=tj),b=Yc(62914560&~Gj),0===b&&(b=4194304)));c=Hg();a=Kj(a,b);null!==a&&($c(a,b,c),Mj(a,c))}var ck;\nck=function(a,b,c){var d=b.lanes;if(null!==a)if(a.memoizedProps!==b.pendingProps||N.current)ug=!0;else if(0!==(c&d))ug=0!==(a.flags&16384)?!0:!1;else{ug=!1;switch(b.tag){case 3:ri(b);sh();break;case 5:gh(b);break;case 1:Ff(b.type)&&Jf(b);break;case 4:eh(b,b.stateNode.containerInfo);break;case 10:d=b.memoizedProps.value;var e=b.type._context;I(mg,e._currentValue);e._currentValue=d;break;case 13:if(null!==b.memoizedState){if(0!==(c&b.child.childLanes))return ti(a,b,c);I(P,P.current&1);b=hi(a,b,c);return null!==\nb?b.sibling:null}I(P,P.current&1);break;case 19:d=0!==(c&b.childLanes);if(0!==(a.flags&64)){if(d)return Ai(a,b,c);b.flags|=64}e=b.memoizedState;null!==e&&(e.rendering=null,e.tail=null,e.lastEffect=null);I(P,P.current);if(d)break;else return null;case 23:case 24:return b.lanes=0,mi(a,b,c)}return hi(a,b,c)}else ug=!1;b.lanes=0;switch(b.tag){case 2:d=b.type;null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2);a=b.pendingProps;e=Ef(b,M.current);tg(b,c);e=Ch(null,b,d,a,e,c);b.flags|=1;if(\"object\"===\ntypeof e&&null!==e&&\"function\"===typeof e.render&&void 0===e.$$typeof){b.tag=1;b.memoizedState=null;b.updateQueue=null;if(Ff(d)){var f=!0;Jf(b)}else f=!1;b.memoizedState=null!==e.state&&void 0!==e.state?e.state:null;xg(b);var g=d.getDerivedStateFromProps;\"function\"===typeof g&&Gg(b,d,g,a);e.updater=Kg;b.stateNode=e;e._reactInternals=b;Og(b,d,a,c);b=qi(null,b,d,!0,f,c)}else b.tag=0,fi(null,b,e,c),b=b.child;return b;case 16:e=b.elementType;a:{null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2);\na=b.pendingProps;f=e._init;e=f(e._payload);b.type=e;f=b.tag=hk(e);a=lg(e,a);switch(f){case 0:b=li(null,b,e,a,c);break a;case 1:b=pi(null,b,e,a,c);break a;case 11:b=gi(null,b,e,a,c);break a;case 14:b=ii(null,b,e,lg(e.type,a),d,c);break a}throw Error(y(306,e,\"\"));}return b;case 0:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:lg(d,e),li(a,b,d,e,c);case 1:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:lg(d,e),pi(a,b,d,e,c);case 3:ri(b);d=b.updateQueue;if(null===a||null===d)throw Error(y(282));\nd=b.pendingProps;e=b.memoizedState;e=null!==e?e.element:null;yg(a,b);Cg(b,d,null,c);d=b.memoizedState.element;if(d===e)sh(),b=hi(a,b,c);else{e=b.stateNode;if(f=e.hydrate)kh=rf(b.stateNode.containerInfo.firstChild),jh=b,f=lh=!0;if(f){a=e.mutableSourceEagerHydrationData;if(null!=a)for(e=0;e<a.length;e+=2)f=a[e],f._workInProgressVersionPrimary=a[e+1],th.push(f);c=Zg(b,null,d,c);for(b.child=c;c;)c.flags=c.flags&-3|1024,c=c.sibling}else fi(a,b,d,c),sh();b=b.child}return b;case 5:return gh(b),null===a&&\nph(b),d=b.type,e=b.pendingProps,f=null!==a?a.memoizedProps:null,g=e.children,nf(d,e)?g=null:null!==f&&nf(d,f)&&(b.flags|=16),oi(a,b),fi(a,b,g,c),b.child;case 6:return null===a&&ph(b),null;case 13:return ti(a,b,c);case 4:return eh(b,b.stateNode.containerInfo),d=b.pendingProps,null===a?b.child=Yg(b,null,d,c):fi(a,b,d,c),b.child;case 11:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:lg(d,e),gi(a,b,d,e,c);case 7:return fi(a,b,b.pendingProps,c),b.child;case 8:return fi(a,b,b.pendingProps.children,\nc),b.child;case 12:return fi(a,b,b.pendingProps.children,c),b.child;case 10:a:{d=b.type._context;e=b.pendingProps;g=b.memoizedProps;f=e.value;var h=b.type._context;I(mg,h._currentValue);h._currentValue=f;if(null!==g)if(h=g.value,f=He(h,f)?0:(\"function\"===typeof d._calculateChangedBits?d._calculateChangedBits(h,f):1073741823)|0,0===f){if(g.children===e.children&&!N.current){b=hi(a,b,c);break a}}else for(h=b.child,null!==h&&(h.return=b);null!==h;){var k=h.dependencies;if(null!==k){g=h.child;for(var l=\nk.firstContext;null!==l;){if(l.context===d&&0!==(l.observedBits&f)){1===h.tag&&(l=zg(-1,c&-c),l.tag=2,Ag(h,l));h.lanes|=c;l=h.alternate;null!==l&&(l.lanes|=c);sg(h.return,c);k.lanes|=c;break}l=l.next}}else g=10===h.tag?h.type===b.type?null:h.child:h.child;if(null!==g)g.return=h;else for(g=h;null!==g;){if(g===b){g=null;break}h=g.sibling;if(null!==h){h.return=g.return;g=h;break}g=g.return}h=g}fi(a,b,e.children,c);b=b.child}return b;case 9:return e=b.type,f=b.pendingProps,d=f.children,tg(b,c),e=vg(e,\nf.unstable_observedBits),d=d(e),b.flags|=1,fi(a,b,d,c),b.child;case 14:return e=b.type,f=lg(e,b.pendingProps),f=lg(e.type,f),ii(a,b,e,f,d,c);case 15:return ki(a,b,b.type,b.pendingProps,d,c);case 17:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:lg(d,e),null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2),b.tag=1,Ff(d)?(a=!0,Jf(b)):a=!1,tg(b,c),Mg(b,d,e),Og(b,d,e,c),qi(null,b,d,!0,a,c);case 19:return Ai(a,b,c);case 23:return mi(a,b,c);case 24:return mi(a,b,c)}throw Error(y(156,b.tag));\n};function ik(a,b,c,d){this.tag=a;this.key=c;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=b;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=d;this.flags=0;this.lastEffect=this.firstEffect=this.nextEffect=null;this.childLanes=this.lanes=0;this.alternate=null}function nh(a,b,c,d){return new ik(a,b,c,d)}function ji(a){a=a.prototype;return!(!a||!a.isReactComponent)}\nfunction hk(a){if(\"function\"===typeof a)return ji(a)?1:0;if(void 0!==a&&null!==a){a=a.$$typeof;if(a===Aa)return 11;if(a===Da)return 14}return 2}\nfunction Tg(a,b){var c=a.alternate;null===c?(c=nh(a.tag,b,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=b,c.type=a.type,c.flags=0,c.nextEffect=null,c.firstEffect=null,c.lastEffect=null);c.childLanes=a.childLanes;c.lanes=a.lanes;c.child=a.child;c.memoizedProps=a.memoizedProps;c.memoizedState=a.memoizedState;c.updateQueue=a.updateQueue;b=a.dependencies;c.dependencies=null===b?null:{lanes:b.lanes,firstContext:b.firstContext};\nc.sibling=a.sibling;c.index=a.index;c.ref=a.ref;return c}\nfunction Vg(a,b,c,d,e,f){var g=2;d=a;if(\"function\"===typeof a)ji(a)&&(g=1);else if(\"string\"===typeof a)g=5;else a:switch(a){case ua:return Xg(c.children,e,f,b);case Ha:g=8;e|=16;break;case wa:g=8;e|=1;break;case xa:return a=nh(12,c,b,e|8),a.elementType=xa,a.type=xa,a.lanes=f,a;case Ba:return a=nh(13,c,b,e),a.type=Ba,a.elementType=Ba,a.lanes=f,a;case Ca:return a=nh(19,c,b,e),a.elementType=Ca,a.lanes=f,a;case Ia:return vi(c,e,f,b);case Ja:return a=nh(24,c,b,e),a.elementType=Ja,a.lanes=f,a;default:if(\"object\"===\ntypeof a&&null!==a)switch(a.$$typeof){case ya:g=10;break a;case za:g=9;break a;case Aa:g=11;break a;case Da:g=14;break a;case Ea:g=16;d=null;break a;case Fa:g=22;break a}throw Error(y(130,null==a?a:typeof a,\"\"));}b=nh(g,c,b,e);b.elementType=a;b.type=d;b.lanes=f;return b}function Xg(a,b,c,d){a=nh(7,a,d,b);a.lanes=c;return a}function vi(a,b,c,d){a=nh(23,a,d,b);a.elementType=Ia;a.lanes=c;return a}function Ug(a,b,c){a=nh(6,a,null,b);a.lanes=c;return a}\nfunction Wg(a,b,c){b=nh(4,null!==a.children?a.children:[],a.key,b);b.lanes=c;b.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation};return b}\nfunction jk(a,b,c){this.tag=b;this.containerInfo=a;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=-1;this.pendingContext=this.context=null;this.hydrate=c;this.callbackNode=null;this.callbackPriority=0;this.eventTimes=Zc(0);this.expirationTimes=Zc(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=Zc(0);this.mutableSourceEagerHydrationData=null}\nfunction kk(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:ta,key:null==d?null:\"\"+d,children:a,containerInfo:b,implementation:c}}\nfunction lk(a,b,c,d){var e=b.current,f=Hg(),g=Ig(e);a:if(c){c=c._reactInternals;b:{if(Zb(c)!==c||1!==c.tag)throw Error(y(170));var h=c;do{switch(h.tag){case 3:h=h.stateNode.context;break b;case 1:if(Ff(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break b}}h=h.return}while(null!==h);throw Error(y(171));}if(1===c.tag){var k=c.type;if(Ff(k)){c=If(c,k,h);break a}}c=h}else c=Cf;null===b.context?b.context=c:b.pendingContext=c;b=zg(f,g);b.payload={element:a};d=void 0===d?null:d;null!==\nd&&(b.callback=d);Ag(e,b);Jg(e,g,f);return g}function mk(a){a=a.current;if(!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function nk(a,b){a=a.memoizedState;if(null!==a&&null!==a.dehydrated){var c=a.retryLane;a.retryLane=0!==c&&c<b?c:b}}function ok(a,b){nk(a,b);(a=a.alternate)&&nk(a,b)}function pk(){return null}\nfunction qk(a,b,c){var d=null!=c&&null!=c.hydrationOptions&&c.hydrationOptions.mutableSources||null;c=new jk(a,b,null!=c&&!0===c.hydrate);b=nh(3,null,null,2===b?7:1===b?3:0);c.current=b;b.stateNode=c;xg(b);a[ff]=c.current;cf(8===a.nodeType?a.parentNode:a);if(d)for(a=0;a<d.length;a++){b=d[a];var e=b._getVersion;e=e(b._source);null==c.mutableSourceEagerHydrationData?c.mutableSourceEagerHydrationData=[b,e]:c.mutableSourceEagerHydrationData.push(b,e)}this._internalRoot=c}\nqk.prototype.render=function(a){lk(a,this._internalRoot,null,null)};qk.prototype.unmount=function(){var a=this._internalRoot,b=a.containerInfo;lk(null,a,null,function(){b[ff]=null})};function rk(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType&&(8!==a.nodeType||\" react-mount-point-unstable \"!==a.nodeValue))}\nfunction sk(a,b){b||(b=a?9===a.nodeType?a.documentElement:a.firstChild:null,b=!(!b||1!==b.nodeType||!b.hasAttribute(\"data-reactroot\")));if(!b)for(var c;c=a.lastChild;)a.removeChild(c);return new qk(a,0,b?{hydrate:!0}:void 0)}\nfunction tk(a,b,c,d,e){var f=c._reactRootContainer;if(f){var g=f._internalRoot;if(\"function\"===typeof e){var h=e;e=function(){var a=mk(g);h.call(a)}}lk(b,g,a,e)}else{f=c._reactRootContainer=sk(c,d);g=f._internalRoot;if(\"function\"===typeof e){var k=e;e=function(){var a=mk(g);k.call(a)}}Xj(function(){lk(b,g,a,e)})}return mk(g)}ec=function(a){if(13===a.tag){var b=Hg();Jg(a,4,b);ok(a,4)}};fc=function(a){if(13===a.tag){var b=Hg();Jg(a,67108864,b);ok(a,67108864)}};\ngc=function(a){if(13===a.tag){var b=Hg(),c=Ig(a);Jg(a,c,b);ok(a,c)}};hc=function(a,b){return b()};\nyb=function(a,b,c){switch(b){case \"input\":ab(a,c);b=c.name;if(\"radio\"===c.type&&null!=b){for(c=a;c.parentNode;)c=c.parentNode;c=c.querySelectorAll(\"input[name=\"+JSON.stringify(\"\"+b)+'][type=\"radio\"]');for(b=0;b<c.length;b++){var d=c[b];if(d!==a&&d.form===a.form){var e=Db(d);if(!e)throw Error(y(90));Wa(d);ab(d,e)}}}break;case \"textarea\":ib(a,c);break;case \"select\":b=c.value,null!=b&&fb(a,!!c.multiple,b,!1)}};Gb=Wj;\nHb=function(a,b,c,d,e){var f=X;X|=4;try{return gg(98,a.bind(null,b,c,d,e))}finally{X=f,0===X&&(wj(),ig())}};Ib=function(){0===(X&49)&&(Vj(),Oj())};Jb=function(a,b){var c=X;X|=2;try{return a(b)}finally{X=c,0===X&&(wj(),ig())}};function uk(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!rk(b))throw Error(y(200));return kk(a,b,null,c)}var vk={Events:[Cb,ue,Db,Eb,Fb,Oj,{current:!1}]},wk={findFiberByHostInstance:wc,bundleType:0,version:\"17.0.1\",rendererPackageName:\"react-dom\"};\nvar xk={bundleType:wk.bundleType,version:wk.version,rendererPackageName:wk.rendererPackageName,rendererConfig:wk.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ra.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){a=cc(a);return null===a?null:a.stateNode},findFiberByHostInstance:wk.findFiberByHostInstance||\npk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(\"undefined\"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var yk=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yk.isDisabled&&yk.supportsFiber)try{Lf=yk.inject(xk),Mf=yk}catch(a){}}exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vk;exports.createPortal=uk;\nexports.findDOMNode=function(a){if(null==a)return null;if(1===a.nodeType)return a;var b=a._reactInternals;if(void 0===b){if(\"function\"===typeof a.render)throw Error(y(188));throw Error(y(268,Object.keys(a)));}a=cc(b);a=null===a?null:a.stateNode;return a};exports.flushSync=function(a,b){var c=X;if(0!==(c&48))return a(b);X|=1;try{if(a)return gg(99,a.bind(null,b))}finally{X=c,ig()}};exports.hydrate=function(a,b,c){if(!rk(b))throw Error(y(200));return tk(null,a,b,!0,c)};\nexports.render=function(a,b,c){if(!rk(b))throw Error(y(200));return tk(null,a,b,!1,c)};exports.unmountComponentAtNode=function(a){if(!rk(a))throw Error(y(40));return a._reactRootContainer?(Xj(function(){tk(null,null,a,!1,function(){a._reactRootContainer=null;a[ff]=null})}),!0):!1};exports.unstable_batchedUpdates=Wj;exports.unstable_createPortal=function(a,b){return uk(a,b,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)};\nexports.unstable_renderSubtreeIntoContainer=function(a,b,c,d){if(!rk(c))throw Error(y(200));if(null==a||void 0===a._reactInternals)throw Error(y(38));return tk(a,b,c,!1,d)};exports.version=\"17.0.1\";\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/scheduler.production.min.js');\n} else {\n  module.exports = require('./cjs/scheduler.development.js');\n}\n","/** @license React v0.20.1\n * scheduler.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f,g,h,k;if(\"object\"===typeof performance&&\"function\"===typeof performance.now){var l=performance;exports.unstable_now=function(){return l.now()}}else{var p=Date,q=p.now();exports.unstable_now=function(){return p.now()-q}}\nif(\"undefined\"===typeof window||\"function\"!==typeof MessageChannel){var t=null,u=null,w=function(){if(null!==t)try{var a=exports.unstable_now();t(!0,a);t=null}catch(b){throw setTimeout(w,0),b;}};f=function(a){null!==t?setTimeout(f,0,a):(t=a,setTimeout(w,0))};g=function(a,b){u=setTimeout(a,b)};h=function(){clearTimeout(u)};exports.unstable_shouldYield=function(){return!1};k=exports.unstable_forceFrameRate=function(){}}else{var x=window.setTimeout,y=window.clearTimeout;if(\"undefined\"!==typeof console){var z=\nwindow.cancelAnimationFrame;\"function\"!==typeof window.requestAnimationFrame&&console.error(\"This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills\");\"function\"!==typeof z&&console.error(\"This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills\")}var A=!1,B=null,C=-1,D=5,E=0;exports.unstable_shouldYield=function(){return exports.unstable_now()>=\nE};k=function(){};exports.unstable_forceFrameRate=function(a){0>a||125<a?console.error(\"forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported\"):D=0<a?Math.floor(1E3/a):5};var F=new MessageChannel,G=F.port2;F.port1.onmessage=function(){if(null!==B){var a=exports.unstable_now();E=a+D;try{B(!0,a)?G.postMessage(null):(A=!1,B=null)}catch(b){throw G.postMessage(null),b;}}else A=!1};f=function(a){B=a;A||(A=!0,G.postMessage(null))};g=function(a,b){C=\nx(function(){a(exports.unstable_now())},b)};h=function(){y(C);C=-1}}function H(a,b){var c=a.length;a.push(b);a:for(;;){var d=c-1>>>1,e=a[d];if(void 0!==e&&0<I(e,b))a[d]=b,a[c]=e,c=d;else break a}}function J(a){a=a[0];return void 0===a?null:a}\nfunction K(a){var b=a[0];if(void 0!==b){var c=a.pop();if(c!==b){a[0]=c;a:for(var d=0,e=a.length;d<e;){var m=2*(d+1)-1,n=a[m],v=m+1,r=a[v];if(void 0!==n&&0>I(n,c))void 0!==r&&0>I(r,n)?(a[d]=r,a[v]=c,d=v):(a[d]=n,a[m]=c,d=m);else if(void 0!==r&&0>I(r,c))a[d]=r,a[v]=c,d=v;else break a}}return b}return null}function I(a,b){var c=a.sortIndex-b.sortIndex;return 0!==c?c:a.id-b.id}var L=[],M=[],N=1,O=null,P=3,Q=!1,R=!1,S=!1;\nfunction T(a){for(var b=J(M);null!==b;){if(null===b.callback)K(M);else if(b.startTime<=a)K(M),b.sortIndex=b.expirationTime,H(L,b);else break;b=J(M)}}function U(a){S=!1;T(a);if(!R)if(null!==J(L))R=!0,f(V);else{var b=J(M);null!==b&&g(U,b.startTime-a)}}\nfunction V(a,b){R=!1;S&&(S=!1,h());Q=!0;var c=P;try{T(b);for(O=J(L);null!==O&&(!(O.expirationTime>b)||a&&!exports.unstable_shouldYield());){var d=O.callback;if(\"function\"===typeof d){O.callback=null;P=O.priorityLevel;var e=d(O.expirationTime<=b);b=exports.unstable_now();\"function\"===typeof e?O.callback=e:O===J(L)&&K(L);T(b)}else K(L);O=J(L)}if(null!==O)var m=!0;else{var n=J(M);null!==n&&g(U,n.startTime-b);m=!1}return m}finally{O=null,P=c,Q=!1}}var W=k;exports.unstable_IdlePriority=5;\nexports.unstable_ImmediatePriority=1;exports.unstable_LowPriority=4;exports.unstable_NormalPriority=3;exports.unstable_Profiling=null;exports.unstable_UserBlockingPriority=2;exports.unstable_cancelCallback=function(a){a.callback=null};exports.unstable_continueExecution=function(){R||Q||(R=!0,f(V))};exports.unstable_getCurrentPriorityLevel=function(){return P};exports.unstable_getFirstCallbackNode=function(){return J(L)};\nexports.unstable_next=function(a){switch(P){case 1:case 2:case 3:var b=3;break;default:b=P}var c=P;P=b;try{return a()}finally{P=c}};exports.unstable_pauseExecution=function(){};exports.unstable_requestPaint=W;exports.unstable_runWithPriority=function(a,b){switch(a){case 1:case 2:case 3:case 4:case 5:break;default:a=3}var c=P;P=a;try{return b()}finally{P=c}};\nexports.unstable_scheduleCallback=function(a,b,c){var d=exports.unstable_now();\"object\"===typeof c&&null!==c?(c=c.delay,c=\"number\"===typeof c&&0<c?d+c:d):c=d;switch(a){case 1:var e=-1;break;case 2:e=250;break;case 5:e=1073741823;break;case 4:e=1E4;break;default:e=5E3}e=c+e;a={id:N++,callback:b,priorityLevel:a,startTime:c,expirationTime:e,sortIndex:-1};c>d?(a.sortIndex=c,H(M,a),null===J(L)&&a===J(M)&&(S?h():S=!0,g(U,c-d))):(a.sortIndex=e,H(L,a),R||Q||(R=!0,f(V)));return a};\nexports.unstable_wrapCallback=function(a){var b=P;return function(){var c=P;P=b;try{return a.apply(this,arguments)}finally{P=c}}};\n","var scope = (typeof global !== \"undefined\" && global) ||\n            (typeof self !== \"undefined\" && self) ||\n            window;\nvar apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(scope, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\n// On some exotic environments, it's not clear which object `setimmediate` was\n// able to install onto.  Search each possibility in the same order as the\n// `setimmediate` library.\nexports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n                       (typeof global !== \"undefined\" && global.setImmediate) ||\n                       (this && this.setImmediate);\nexports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n                         (this && this.clearImmediate);\n","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 6–8\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","'use strict';\n\nmodule.exports = function() {\n  throw new Error(\n    'ws does not work in the browser. Browser clients must use the native ' +\n      'WebSocket object'\n  );\n};\n"],"sourceRoot":""}