{"version":3,"sources":["../../node_modules/tslib/tslib.es6.js","../../src/defaultComponents/HeaderButton.tsx","../../src/defaultComponents/popups/addApplication/ApplicationItem.tsx","../../src/defaultComponents/popups/addApplication/ApplicationsList.tsx","../../src/defaultComponents/popups/addApplication/ContainerSwitch.tsx","../../src/withGlueInstance.tsx","../../src/defaultComponents/popups/addApplication/AddApplicationPopup.tsx","../../src/defaultComponents/popups/Feedback.tsx","../../src/defaultComponents/popups/helpers.ts","../../src/defaultComponents/popups/addWorkspace/WorkspaceLayoutItem.tsx","../../src/defaultComponents/popups/addWorkspace/WorkspaceLayoutsList.tsx","../../src/defaultComponents/popups/addWorkspace/AddWorkspacePopup.tsx","../../src/defaultComponents/popups/saveWorkspace/SaveContextCheckbox.tsx","../../src/defaultComponents/popups/saveWorkspace/SaveWorkspaceButton.tsx","../../src/defaultComponents/popups/saveWorkspace/SaveWorkspacePopup.tsx","../../../workspaces-ui-core/dist/export.js","../../src/workspacesManager.ts","../../node_modules/reactjs-popup/dist/reactjs-popup.esm.js","../../src/WorkspacePopup.tsx","../../src/Portal.tsx","../../src/WorkspacesWrapper.tsx","../../src/WorkspacesElementCreationWrapper.tsx","../../src/index.tsx","../../src/config/index.ts","../../src/config/checkSingleton.ts","../../src/enterprise/index.ts","../../node_modules/decoder-validate/dist/index.es5.js","../../src/shared/decoders.ts","../../src/windows/protocol.ts","../../node_modules/callback-registry/lib/index.js","../../src/windows/webWindow.ts","../../src/windows/controller.ts","../../src/shared/promise-plus.ts","../../src/communication/constants.ts","../../src/communication/bridge.ts","../../src/appManager/protocol.ts","../../src/appManager/controller.ts","../../src/appManager/instance.ts","../../src/appManager/application.ts","../../src/layouts/protocol.ts","../../src/layouts/controller.ts","../../src/notifications/controller.ts","../../src/shared/ioc.ts","../../../core/dist/core.es.js","../../src/web.ts","../../src/index.ts","App.tsx","reportWebVitals.ts","../../src/communication/interop-transport.ts","../../src/shared/promisePlus.ts","../../src/builders/parentBuilder.ts","../../src/builders/baseBuilder.ts","../../src/builders/workspaceBuilder.ts","../../src/models/row.ts","../../src/models/column.ts","../../src/models/group.ts","../../src/models/workspace.ts","../../src/models/window.ts","../../src/models/frame.ts","../../src/shared/privateDataManager.ts","../../src/models/base/base.ts","../../src/controllers/base.ts","../../src/controllers/main.ts","../../src/main.ts","index.tsx"],"names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","__","this","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","rejected","result","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","v","op","TypeError","pop","push","__spreadArrays","il","r","k","a","j","jl","ApplicationItem","_a","appName","onClick","React","className","href","ApplicationsList","glue","inLane","parent","hidePopup","searchTerm","updatePopupHeight","filter","filterApps","isActivity","isShell","type","app","userProperties","includeInWorkspaces","includeInCanvas","workspacesFriendlyApps","appManager","applications","useEffect","id","title","name","toLowerCase","map","key","addWindow","addGroup","children","console","warn","error_1","ContainerSwitch","setInLane","wordInLabel","labelToPut","toUpperCase","substring","htmlFor","role","withGlueInstance","WrappedComponent","props","window","useContext","GlueContext","Error","workspaceId","boxId","resizePopup","_b","useState","_c","setParent","_d","setSearchTerm","containerRef","createRef","shouldUpdate","workspaces","getAllWorkspaces","allWorkspaces","myWorkspace","find","w","getBox","refreshPopupHeight","containerHeight","current","getBoundingClientRect","height","width","ref","placeholder","onChange","target","Feedback","message","regexResult","exec","getFeedbackErrorMessage","WorkspaceLayoutItem","onCloseClick","WorkspaceLayoutsList","frameId","showFeedback","layoutSummaries","setLayoutSummaries","getSummaries","layouts","summary","layoutName","restoreWorkspace","stopPropagation","feedbackText","setFeedbackText","resizePopupWithContainerHeight","createWorkspace","frame","reuseFrameId","itemType","errMessage","SaveContextCheckbox","changeChecked","refreshHeight","inputRef","checked","SaveWorkspaceButton","inputValue","clearInput","shouldSaveContext","hideFeedback","buildMode","shouldSave","setShouldSave","workspace","workspaceName","save","saveContext","setTitle","error","instance","agm","payload","operation","operationArguments","invoke","returned","layout","downloadElement","document","createElement","data","encodeURIComponent","JSON","stringify","append","setAttribute","click","remove","err","setShouldSaveContext","feedbackMessage","setFeedbackMessage","setWorkspaceName","bounds","o","c","globalThis","global","self","path","exports","require","config","container","controls","errors","items","utils","F","extend","createObject","contructor","objectKeys","keys","getHashValue","location","hash","match","RegExp","getQueryStringParam","search","substr","split","copy","animFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","setTimeout","Int8Array","isFunction","toString","fnBind","Function","bind","concat","slice","removeFromArray","splice","now","Date","getTime","getUniqueId","Math","random","replace","filterXss","stripTags","trim","EventEmitter","_mSubscriptions","ALL_EVENT","on","fn","ctx","emit","unshift","unbind","off","trigger","DragListener","_eElement","_oDocument","_eBody","_nButtonCode","_nDelay","_nDistance","_nX","_nY","_nOriginalX","_nOriginalY","_bDragging","_fMove","onMouseMove","_fUp","onMouseUp","_fDown","onMouseDown","timeout","destroy","preventDefault","button","_getCoordinates","x","one","_timeout","_startDrag","abs","clearTimeout","removeClass","css","addClass","originalEvent","touches","pageX","pageY","LayoutManager","$","noConflict","isInitialised","_isFullPage","_resizeTimeoutId","_components","lm-react-component","ReactComponentHandler","_itemAreas","_resizeFunction","_onResize","_unloadFunction","_onUnload","_maximizedItem","_maximizePlaceholder","_creationTimeoutPassed","_subWindowsCreated","_dragSources","_dragProxies","_updatingColumnsResponsive","_firstLoad","_componentFactory","root","openPopouts","selectedItem","isSubWindow","eventHub","EventHub","_createConfig","dropTargetIndicator","transitionIndicator","tabDropPlaceholder","_typeToItem","column","RowOrColumn","row","stack","Stack","component","Component","__lm","minifyConfig","ConfigMinifier","unminifyConfig","registerComponent","toConfig","AbstractContentItem","settings","dimensions","labels","context","workspacesOptions","content","contentItems","_$reconcilePopoutWindows","maximizedItemId","getComponent","ConfigurationError","init","_createSubWindows","readyState","_adjustToWindowMode","_setContainer","DropTargetIndicator","TransitionIndicator","updateSize","_create","_bindEvents","_adjustColumnsResponsive","ready","callDownwards","element","forEach","_dragListener","_element","_itemConfig","createContentItem","componentName","join","Root","createPopout","l","h","u","isRoot","addId","isNaN","screenX","screenLeft","screenY","screenTop","left","offset","top","BrowserPopout","createDragSource","constrainDragToContainer","DragSource","selectItem","selectionEnabled","deselect","select","_$maximiseItem","_$minimizeItem","after","prepend","_$minimiseItem","removeId","_$closeWindow","close","_$getArea","x1","x2","y1","y2","surface","_$createRootItemAreas","side","_$calculateItemAreas","_getAllContentItems","isStack","contentItem","_contentAreaDimensions","header","highlightArea","mode","_$normalizeContentItem","isPlainObject","getWindow","closed","resize","localStorage","getItem","parse","removeItem","defaultConfig","hasHeaders","headerHeight","popin","html","offsetHeight","__glInstance","parentId","indexInParent","margin","padding","overflow","getItemsById","toggleMaximise","closePopoutsOnUnload","_useResponsiveLayout","minItemWidth","isRow","is","max","floor","_findAllStackContainers","_addChildContentItemsToContainer","responsiveMode","addChild","removeChild","_findAllStackContainersRecursive","isComponent","default","GoldenLayout","reorderEnabled","popoutWholeStack","blockedPopoutsThrowError","showMinimizeIcon","showPopoutIcon","showMaximizeIcon","showCloseIcon","tabOverlapAllowance","reorderOnTabMenuClick","tabControlOffset","borderWidth","borderGrabWidth","minItemHeight","dragProxyWidth","dragProxyHeight","maximize","restore","minimize","popout","tabDropdown","itemDefaultConfig","isClosable","workspacesConfig","ItemContainer","layoutManager","isHidden","_config","_contentElement","getElement","hide","show","setSize","isColumn","getState","componentState","extendState","setState","emitBubblingEvent","_$setSize","offsetWidth","clientWidth","clientHeight","_dimensions","_parentId","_indexInParent","_layoutManager","_popoutWindow","_id","_createWindow","getGlInstance","popIn","_createUrl","_serializeWindowOptions","innerWidth","innerHeight","menubar","toolbar","personalbar","resizable","scrollbars","status","open","_positionWindow","_onClose","setInterval","_onInitialised","clearInterval","setItem","moveTo","focus","DragProxy","_contentItem","_originalParent","_area","_lastValidArea","_onDrag","_onDrop","_template","_side","_sided","attr","childElementContainer","disableDragProxy","_updateTree","_setDimensions","_minX","_minY","_maxX","_maxY","_width","_height","_setDropPosition","_$highlightDropZone","canceled","_$destroy","_$onDrop","_$setParent","_createDragListener","_onDragStart","transitionElements","highlight","Header","_onHeaderClick","createLogo","domNode","createAddWorkspace","createSystemButtons","tabsContainer","tabDropdownContainer","controlsContainer","workspaceControlsContainer","tabsControlsContainer","_updateTabSizesWithoutDropdown","tabs","activeContentItem","closeButton","tabDropdownButton","hideAdditionalTabsDropdown","_hideAdditionalTabsDropdown","mouseup","_lastVisibleTabIndex","_tabControlOffset","_createControls","createTab","Tab","before","removeTab","setActiveContentItem","setActive","activeItemIndex","position","_header","_setupHeaderPosition","_$setClosable","_isClosable","_getHeaderSetting","_showAdditionalTabsDropdown","HeaderButton","_onPopoutClick","minimizeLabel","minimizeButton","_updateTabSizes","toggle","outerWidth","tab","outerHeight","parseInt","z-index","margin-left","_action","Splitter","_isVertical","_size","_grabSize","_createElement","titleElement","closeElement","isActive","_onTabClickFn","_onTabClick","_onCloseClickFn","_onCloseClick","noTabHeader","_onCloseMousedown","isMaximized","windowId","getActiveContentItem","_toElement","_fromDimensions","_totalAnimationDuration","_animationStartTime","_nextAnimationFrame","_measure","opacity","node","_extendItemNode","isVisible","_pendingEventPropagations","_throttledEvents","_propagateEvent","_createContentItems","_$init","replaceChild","parentNode","_$hide","hasId","getItemsByFilter","getItemsByType","_$getItemsByProperty","getComponentsByName","_callOnActiveComponents","_$show","BubblingEvent","isPropagationStopped","_scheduleEventPropagationToLayoutManager","origin","_propagateEventToLayoutManager","_$shown","shown","_containerElement","_splitterSize","_splitterGrabSize","_isColumn","_dimension","_splitter","_splitterPosition","_splitterMinPosition","_splitterMaxPosition","_createSplitter","_calculateRelativeSizes","_setAbsoluteSizes","_calculateAbsoluteSizes","additionalPixel","itemSizes","totalWidth","totalHeight","round","_respectMinItemWidth","_onSplitterDrag","_onSplitterDragStop","_onSplitterDragStart","_getItemsForSplitter","_getMinimumDimensions","minWidth","minHeight","horizontal","vertical","_activeContentItem","_dropZones","_dropSegment","_dropIndex","_$validateClosability","_resetHeaderDropZone","hoverArea","_highlightHeaderDropZone","_highlightBodyDropZone","right","bottom","min","placeHolderTop","_keys","_values","_nextLevel","_min","_max","_dontPropagateToParent","_childEventSource","_onEventFromThis","_boundOnEventFromChild","_onEventFromChild","_propagateToParent","_propagateToChildren","_$onEventFromParent","__gl","__glArgs","createEvent","opener","initEvent","createEventObject","eventType","eventName","dispatchEvent","fireEvent","_reactComponent","_originalComponentWillUpdate","_container","_initialState","_reactClass","_getReactClass","_render","_destroy","ReactDOM","render","_getReactComponent","componentWillUpdate","_onUpdate","unmountComponentAtNode","glEventHub","glContainer","errorHandling","add","includes","isArray","reduce","execute","clear","clearKey","[object Object]","_idToLayout","workspaceLayout","getByContainerIdCore","innerText","getById","windows","mergeWindows","some","values","workspaceTitles","workspaceIds","getWorkspaceTitle","_workspaceLayout","containerElement","setupEvents","MutationObserver","from","classList","contains","handleTabCountChanged","removedNodes","attributeName","handleTabHeaderResized","observe","childList","subtree","attributes","attributeFilter","attributeOldValue","characterData","characterDataOldValue","disconnect","visibleTabs","refreshTabClasses","visibilityState","logo","addWorkspace","systemButtons","workspaceContents","componentsFactory","_decoratedFactory","callbackRegistry","observer","getWorkspaceIdFromContents","style","display","decoratedFactory","createWorkspaceContents","subscribeForWorkspaceContentsVisibility","getElementById","m","_maximizedId","_workspaceLayoutElementId","_registry","_emptyVisibleWindowName","_stackMaximizeLabel","_stackRestoreLabel","_options","_emitter","_stateResolver","_configFactory","_frameId","initWorkspaceConfig","refreshLayoutSize","all","workspaceConfigs","initWorkspaceContents","emitter","raiseEvent","setupOuterLayout","setupContentLayouts","getByContainerId","hideAddButton","getWindowInfoFromConfig","placementId","url","registerWindowComponent","onContentComponentCreated","wrapper","wrapInGroup","getId","bundleWorkspace","onContentItemCreated","getByWindowId","getContainerConfig","getWorkspaceLayoutComponentName","registerWorkspaceComponent","getWorkspaceLayoutItemById","removeById","getElementsByTagName","getDragElement","addedNodes","setDragElementSize","getWindowContentItem","waitForWindowContainer","addOrUpdate","showAddButton","signal","promise","getDefaultWorkspaceSettings","registerEmptyWindowComponent","raiseEventWithDynamicName","layoutId","item","onclick","args","laneId","disableCustomButtons","toBack","toFront","mousedown","refreshTabSizeClass","catch","getElementByClass","getElementsByClassName","appendChild","waitForLayout","onOuterLayoutContainerResized","onContentContainerResized","parentType","log","hasClass","C","I","lastIndexOf","W","A","Z","get","characters","seed","lookup","shuffled","E","crypto","msCrypto","S","getRandomValues","Uint8Array","T","LN2","D","pow","L","test","M","generate","worker","isValid","_idToFrame","_glue","src","waitForWindow","contentWindow","Event","onWindowAdded","list","z","LAST_SESSION_KEY","B","URLSearchParams","emptyFrame","workspaceNames","build","cleanUpUrl","removeQueryParams","history","replaceState","pathname","N","resolver","_configConverter","_layoutsType","_layoutComponentType","_initialWorkspaceConfig","generateInitialConfig","getWorkspaceByName","layoutData","getLastSession","getDefaultFrameConfig","addWorkspaceIds","addWindowIds","convertToRendererConfig","getAll","export","components","state","metadata","saveWorkspaceCore","getWorkspaceContext","import","saveWorkspaceCoreSync","set","getWorkspaceConfig","removeWorkspaceIds","applyWindowLayoutState","convertToAPIConfig","removeWorkspaceItemIds","windowSummariesToWindowLayout","addWindowUrlsToWindows","workspaceSummaryToWorkspaceLayout","isLoaded","isFocused","positionIndex","findById","getContext","application","details","getWindowLayoutState","layoutState","contexts","O","_layoutEventEmitter","waitForWindowContentItem","getWindowSummaryCore","getWorkspaceTabIndex","transformComponentsToWindowSummary","transformParentsToContainerSummary","getContainer","itemId","findElementInConfig","getWorkspaceSummary","getFrameSnapshot","findIndex","getUserFriendlyParent","isWindowMaximized","getWindowSummarySync","getContainerSummary","R","_pattern","sort","H","_titleGenerator","_defaultWorkspaceLayoutSettings","createWindowConfigurationCore","getTitle","getDefaultWorkspaceConfig","wrap","instances","registry","action","q","flat","convertToRendererConfigCore","convertToApiConfigCore","applyDefaultRendererConfig","every","getGroupWithEmptyVisibleWindow","createEmptyVisibleWindowConfig","getAppNameFromWindowId","createGDWindowConfig","createApiWindow","U","_externalPopupManager","_componentPopupManager","createAddApplicationPopup","showAddWindowPopup","createAddWorkspacePopup","showOpenWorkspacePopup","createSaveWorkspacePopup","showSaveWorkspacePopup","V","_addApplicationType","_openWorkspaceType","_saveWorkspaceType","_showPopupMethod","initPopup","registerHideMethod","registerResizeMethod","getPopupSize","showElement","_popup","getPopupInteropId","servers","register","size","interopId","G","_popupSizes","hideSystemPopups","showInternalAddAppPopup","showInternalOpenWorkspacePopup","showInternalSaveWorkspacePopup","composedPath","X","_isLayoutInitialized","_initPromise","_workspacesEventEmitter","getComponentBounds","_controller","subscribeForWindowClicked","_frameController","onFrameContentClicked","cleanUp","stateResolver","notifyFrameWillClose","workspacesEventEmitter","raiseWindowEvent","windowSummary","raiseWorkspaceEvent","frameSummary","workspaceSummary","_layoutsManager","saveWorkspacesFrame","raiseFrameEvent","loadConfig","_initialized","_popupManager","initLayout","reInitialize","getActiveWorkspace","setInitialWorkspaceConfig","delete","maximizeWindow","restoreWindow","closeWorkspace","closeTab","closeContainer","addContainer","setWorkspaceTitle","setWindowTitle","closeItem","getUrlByAppName","waitForFrameLoaded","my","focusWorkspace","focusWindow","generateLayout","getInitialConfig","subscribeForPopups","subscribeForLayout","reportLayoutStructure","getTitleByAppName","getURL","notifyFrameWillStart","startFrame","moveFrame","onContentItemResized","onTabCloseRequested","removeLayoutElement","checkForEmptyWorkspace","onWorkspaceTabCloseRequested","onTabElementMouseDown","onTabDragStart","bringToFront","onTabDragEnd","selectionChanged","onSelectionChanged","onWorkspaceAdded","selectionChangedDeep","onWorkspaceSelectionChanged","isWindowVisible","onAddButtonClicked","peerId","onContentLayoutInit","onWorkspaceAddButtonClicked","workspaceLayoutHeader","onWorkspaceSaveRequested","onStackMaximized","maximizeTab","onStackRestored","restoreTab","onEjectRequested","eject","onWorkspaceContentsShown","getWorkspaceContentItem","onWorkspaceContentsHidden","onWindowTitleChanged","setItemTitle","removeWorkspace","onWindowEvent","interop","domain","Y","_workspacesControlMethod","_workspacesEventMethod","_inDisposing","handleControl","initPromise","handleIsWindowInWorkspace","handleAddWindow","handleAddContainer","handleGetWorkspaceSnapshot","handleOpenWorkspace","handleSaveLayout","handleExportAllLayouts","handleDeleteLayout","handleGetAllWorkspaceSummaries","handleMaximizeItem","handleRestoreItem","handleCloseItem","handleSetItemTitle","handleAddWorkspaceChildren","handleEject","handleCreateWorkspace","handleForceLoadWindow","handleFocusItem","handleBundleWorkspace","handleGetFrameSummary","handleMoveFrame","handleGetFrameSnapshot","handleGetSnapshot","handleMoveWindowTo","handleGenerateLayout","handlePing","_converter","registerAgmMethods","onFrameEvent","publishEventData","onWorkspaceEvent","onContainerEvent","registerAsync","openWorkspace","restoreOptions","exportAllLayouts","saveWorkspace","deleteLayout","summaries","restoreItem","maximizeItem","definition","loadWindow","focusItem","inWorkspace","isWindowInWorkspace","getFrameSummary","move","getSnapshot","moveWindowTo","containerId","generateWorkspaceLayout","live","methods","J","getPrototypeOf","nodeType","nonce","noModule","text","getAttribute","head","jquery","toArray","pushStack","merge","prevObject","each","first","eq","last","even","grep","odd","end","expando","isReady","noop","isEmptyObject","globalEval","makeArray","inArray","guid","support","ct","ID","CLASS","TAG","ATTR","PSEUDO","CHILD","bool","needsContext","Q","K","tt","et","nt","String","fromCharCode","it","ot","charCodeAt","st","rt","_t","disabled","nodeName","dir","childNodes","at","ownerDocument","qsa","yt","scope","wt","querySelectorAll","removeAttribute","cacheLength","shift","lt","dt","ht","attrHandle","ut","sourceIndex","nextSibling","pt","mt","ft","isDisabled","gt","isXML","namespaceURI","documentElement","setDocument","defaultView","addEventListener","attachEvent","createComment","getElementsByName","getAttributeNode","innerHTML","matchesSelector","matches","webkitMatchesSelector","mozMatchesSelector","oMatchesSelector","msMatchesSelector","disconnectedMatch","compareDocumentPosition","sortDetached","specified","escape","uniqueSort","detectDuplicates","sortStable","getText","textContent","firstChild","nodeValue","selectors","createPseudo","relative",">"," ","+","~","preFilter","lastChild","uniqueID","pseudos","setFilters","not","has","lang","activeElement","hasFocus","tabIndex","enabled","selected","selectedIndex","empty","input","nth","radio","checkbox","file","password","image","submit","reset","vt","bt","Ct","It","xt","filters","tokenize","compile","selector","defaultValue","expr","unique","isXMLDoc","escapeSelector","parseHTML","contents","prev","closest","index","prevAll","addBack","parents","parentsUntil","nextAll","nextUntil","prevUntil","siblings","contentDocument","reverse","fail","Callbacks","once","stopOnFalse","memory","disable","lock","locked","fireWith","fire","fired","Deferred","always","pipe","progress","notify","notifyWith","resolveWith","exceptionHook","stackTrace","rejectWith","getStackHook","when","readyException","removeEventListener","readyWait","doScroll","uid","cache","defineProperty","configurable","access","hasData","removeData","_data","_removeData","queue","dequeue","_queueHooks","stop","clearQueue","source","composed","getRootNode","cur","cssNumber","unit","start","createDocumentFragment","checkClone","cloneNode","noCloneChecked","option","thead","col","tr","td","_default","tbody","tfoot","colgroup","caption","th","optgroup","htmlPrefilter","createTextNode","kt","Et","St","event","Tt","namespace","handler","isTrigger","special","delegateType","stopImmediatePropagation","events","handle","triggered","dispatch","bindType","origType","delegateCount","setup","teardown","removeEvent","fix","delegateTarget","preDispatch","handlers","currentTarget","elem","isImmediatePropagationStopped","rnamespace","handleObj","postDispatch","addProp","enumerable","writable","load","noBubble","beforeunload","returnValue","isDefaultPrevented","defaultPrevented","relatedTarget","timeStamp","isSimulated","altKey","bubbles","cancelable","changedTouches","ctrlKey","detail","eventPhase","metaKey","shiftKey","view","char","code","charCode","keyCode","buttons","clientX","clientY","offsetX","offsetY","pointerId","pointerType","targetTouches","toElement","which","blur","mouseenter","mouseleave","pointerenter","pointerleave","Wt","At","Dt","Pt","Lt","Mt","Ft","zt","Bt","clone","_evalUrl","Nt","cleanData","detach","insertBefore","replaceWith","appendTo","prependTo","insertAfter","replaceAll","Ot","$t","getComputedStyle","Rt","Ht","jt","getPropertyValue","pixelBoxStyles","maxWidth","qt","cssText","marginLeft","parseFloat","backgroundClip","clearCloneStyle","boxSizingReliable","pixelPosition","reliableMarginLeft","scrollboxSize","reliableTrDimensions","Ut","Vt","Gt","Xt","cssProps","Yt","Jt","Zt","visibility","Qt","letterSpacing","fontWeight","Kt","te","ceil","ee","getClientRects","ne","cssHooks","animationIterationCount","columnCount","fillOpacity","flexGrow","flexShrink","gridArea","gridColumn","gridColumnEnd","gridColumnStart","gridRow","gridRowEnd","gridRowStart","lineHeight","order","orphans","widows","zIndex","zoom","setProperty","isFinite","border","expand","Tween","prop","easing","options","propHooks","run","duration","pos","fx","scrollTop","scrollLeft","linear","swing","cos","PI","ie","oe","se","re","ae","hidden","interval","tick","ce","le","de","he","tweeners","prefilters","startTime","tweens","opts","specialEasing","originalProperties","originalOptions","createTween","complete","timer","anim","Animation","*","tweener","unqueued","overflowX","overflowY","prefilter","speed","speeds","old","fadeTo","animate","finish","timers","slideDown","slideUp","slideToggle","fadeIn","fadeOut","fadeToggle","slow","fast","delay","checkOn","optSelected","radioValue","ue","pe","removeAttr","attrHooks","me","fe","ge","ye","ve","removeProp","propFix","for","class","toggleClass","we","val","valHooks","focusin","_e","be","parentWindow","simulate","triggerHandler","Ce","Ie","xe","parseXML","DOMParser","parseFromString","ke","Ee","Se","Te","We","param","serialize","serializeArray","Ae","De","Pe","Le","Me","Fe","ze","Be","Ne","Oe","$e","Re","dataTypes","He","ajaxSettings","flatOptions","active","lastModified","etag","isLocal","protocol","processData","async","contentType","accepts","xml","json","responseFields","converters","* text","text html","text json","text xml","ajaxSetup","ajaxPrefilter","ajaxTransport","ajax","statusCode","getResponseHeader","getAllResponseHeaders","setRequestHeader","overrideMimeType","mimeType","abort","method","dataType","crossDomain","host","traditional","hasContent","ifModified","headers","beforeSend","success","send","dataFilter","throws","statusText","getJSON","getScript","text script","wrapAll","firstElementChild","wrapInner","unwrap","visible","xhr","XMLHttpRequest","je","0","1223","qe","cors","username","xhrFields","onload","onerror","onabort","ontimeout","onreadystatechange","responseType","responseText","binary","response","script","scriptAttrs","charset","scriptCharset","Ue","Ve","Ge","jsonp","jsonpCallback","createHTMLDocument","implementation","animated","setOffset","using","pageYOffset","pageXOffset","offsetParent","scrollTo","Height","Width","delegate","undelegate","hover","Xe","proxy","holdReady","parseJSON","isWindow","camelCase","isNumeric","Ye","jQuery","Je","dispose","initialized","subscribeForWorkspaceEvents","getFrameId","notifyMoveAreaChanged","registerPopup","removePopup","removePopupById","unmount","subscribeForWindowFocused","notifyWorkspacePopupChanged","WorkspacesManagerDecorator","componentFactory","workspacesManager","elementId","cb","_extends","useIsomorphicLayoutEffect","useLayoutEffect","Style","popupContent","tooltip","modal","popupArrow","background","color","overlay","POSITION_TYPES","getCoordinatesForPosition","triggerBounding","ContentBounding","arrow","_ref","CenterTop","CenterLeft","transform","arrowTop","arrowLeft","popupIdCounter","forwardRef","_ref$trigger","_ref$onOpen","onOpen","_ref$onClose","onClose","_ref$defaultOpen","defaultOpen","_ref$open","_ref$disabled","_ref$nested","nested","_ref$closeOnDocumentC","closeOnDocumentClick","_ref$repositionOnResi","repositionOnResize","_ref$closeOnEscape","closeOnEscape","_ref$on","_ref$contentStyle","contentStyle","_ref$arrowStyle","arrowStyle","_ref$overlayStyle","overlayStyle","_ref$className","_ref$position","_ref$modal","_ref$lockScroll","lockScroll","_ref$arrow","_ref$offsetX","_ref$offsetY","_ref$mouseEnterDelay","mouseEnterDelay","_ref$mouseLeaveDelay","mouseLeaveDelay","_ref$keepTooltipInsid","keepTooltipInside","_useState","isOpen","setIsOpen","triggerRef","useRef","contentRef","arrowRef","focusedElBeforeOpen","popupId","isModal","timeOut","setPosition","focusContentOnOpen","lockScrolll","resetScroll","openPopup","closePopup","togglePopup","onMouseEnter","onContextMenu","onMouseLeave","_contentRef$current","focusableEls","firstEl","useImperativeHandle","_arrowStyle$top","_arrowStyle$left","cords","_ref2","bestCoords","wrapperBox","boundingBox","querySelector","positions","contentBox","calculatePosition","scrollY","scrollX","listener","els","firstFocusableEl","lastFocusableEl","refs","PopupRoot","renderContent","popupContentStyle","childrenElementProps","pointerEvents","data-testid","viewBox","fill","ovStyle","data-popup","Fragment","triggerProps","aria-describedby","onAsArray","len","onFocus","onBlur","comp","cloneElement","createPortal","Portal","templateId","WorkspacesWrapper","template","onCreateLogoRequested","onCreateAddWorkspaceRequested","onCreateSystemButtonsRequested","onCreateWorkspaceContentsRequested","onCreateSaveWorkspacePopupRequested","onCreateAddApplicationPopupRequested","onCreateAddWorkspacePopupRequested","onHideSystemPopupsRequested","externalPopupApplications","_super","_this","saveWorkspacePopup","callback","addApplicationPopup","addWorkspacePopup","LogoCustomElement","LogoComponent","AddWorkspaceCustomComponent","AddWorkspaceComponent","SystemButtonsCustomComponent","SystemButtonsComponent","WorkspaceContentsComponent","WorkspaceContents","wc","SaveWorkspaceCustomComponent","popups","SaveWorkspaceComponent","SaveWorkspacePopup","AddApplicationCustomComponent","AddApplicationComponent","AddApplicationPopup","AddWorkspacePopup","undefined","WorkspacesElementCreationWrapper","_g","additionalProperties","addApplicationComponent","saveWorkspaceComponent","addWorkspaceComponent","onCreateAddApplicationRequested","onCreateSaveWorkspaceRequested","addApplication","renderLogoComponent","renderAddWorkspaceComponent","renderSystemButtonsComponent","renderWorskpaceContents","renderSaveWorkspacePopupComponent","renderAddApplicationPopupComponent","renderAddWorkspacePopupComponent","onHideSystemPopups","logger","gateway","webPlatform","libraries","parseConfig","combined","systemLogger","level","checkSingleton","glue42CoreNamespace","glue42core","webStarted","enterprise","enterpriseConfig","channels","Glue","ok","asPromise","withDefault","withException","map2","ar","br","mapError","andThen","freeze","isOk","isErr","successes","results","acc","isEqual","isJsonArray","isJsonObject","expectedGot","expected","got","typeString","printPath","paths","prependAt","newAt","rest","Decoder","decode","kind","runPromise","runWithException","where","errorMessage","succeed","string","number","boolean","constant","object","decoders","obj","array","decoder","arr","err$$1","decodeValue_1","tuple","union","ad","bd","_i","oneOf","intersection","ds","anyJson","unknownJson","dict","optional","errorsList","valueAt","jsonAtPath","fixedValue","lazy","mkDecoder","operations","openWindow","dataDecoder","openWindowConfigDecoder","resultDecoder","coreWindowDataDecoder","windowHello","windowHelloDecoder","helloSuccessDecoder","windowAdded","windowRemoved","simpleWindowDecoder","getBounds","windowBoundsResultDecoder","getUrl","windowUrlResultDecoder","moveResize","windowMoveResizeConfigDecoder","windowTitleConfigDecoder","createRegistry","_userErrorHandler","callbacks","callbacksForKey","WebWindowModel","_name","_bridge","CallbackRegistryFactory","myCtxKey","ctxUnsubscribe","contextLib","subscribe","api","resizeTo","updateContext","setContext","onContextUpdated","dimension","targetBounds","boundsDecoder","commandArgs","nonNegativeNumberDecoder","ttl","nonEmptyStringDecoder","anyDecoder","update","WindowsController","allWindowProjections","coreGlue","ioc","subLogger","trace","publicWindowId","connection","transport","actualWindowId","addWindowOperationExecutors","bridge","platformRegistration","registerWithPlatform","toApi","operationName","windowOperationTypesDecoder","operationData","windowOpenSettingsDecoder","windowSuccess","buildWebWindow","projection","onWindowRemoved","handleWindowAdded","handleWindowRemoved","handleGetBounds","handleGetTitle","handleGetUrl","handleMoveResize","handleSetTitle","helloSuccess","sayHello","isWorkspaceFrame","myWindow","currentWindows","webWindowProjection","removed","model","clean","targetTop","targetLeft","targetHeight","targetWidth","moveMethod","moveBy","resizeMethod","resizeBy","PromiseWrap","timeoutMilliseconds","timeoutMessage","promiseActive","operationResult","executor","appHello","appHelloSuccessDecoder","applicationAdded","baseApplicationDataDecoder","applicationRemoved","applicationChanged","instanceStarted","instanceDataDecoder","instanceStopped","applicationStart","applicationStartConfigDecoder","instanceStop","basicInstanceDataDecoder","AppManagerController","addOperationsExecutors","appManagerOperationTypesDecoder","startOptions","waitForAGMReady","relativeTo","relativeDirection","openResult","applicationName","buildInstance","myInstance","getApplication","getApplications","getInstances","onAppAdded","onAppChanged","onAppRemoved","onInstanceStarted","onInstanceStopped","handleApplicationAddedMessage","handleApplicationRemovedMessage","handleApplicationChangedMessage","handleInstanceStartedMessage","handleInstanceStoppedMessage","appData","buildApplication","appIndex","version","icon","instanceData","instIdx","inst","instIdxApps","verifiedName","apps","instancesSoFar","findMyInstance","foundInstance","InstanceModel","getInteropInstance","ApplicationModel","controller","startApplication","layoutAdded","glueLayoutDecoder","layoutChanged","layoutRemoved","simpleLayoutConfigDecoder","optionalSimpleLayoutResult","getAllLayoutsConfigDecoder","allLayoutsSummariesResultDecoder","allLayoutsFullConfigDecoder","LayoutsController","layoutsOperationTypesDecoder","onAdded","onChanged","onRemoved","handleOnAdded","handleOnChanged","handleOnRemoved","layoutTypeDecoder","newLayoutOptionsDecoder","restoreOptionsDecoder","NotificationsController","notifications","raise","permissionPromise","Notification","permission","requestPermission","notification","raiseUsingWebApi","clickInterop","interopOptions","MetricTypes","getMetricTypeByValue","metric","getTypeByValue","serializeMetric","serializedMetrics","memo","innerType","composite","defineNestedComposite","description","normalizeMetricName","getMetricValueByType","publishNestedComposite","Boolean","flatten","toFlatten","composeMsgForRootStateMetric","system","merged","getAggregateState","highestState","msg","idx","aggregateDescription","Helpers","BaseMetric","createMetric","repo","newValue","updateMetric","NumberMetric","incrementBy","num","increment","decrement","decrementBy","ObjectMetric","mergeValues","StringMetric","TimestampMetric","separator","_transport","_description","_repo","_parent","_path","_buildPath","shadowedSystem","_state","_subSystems","_metrics","_getOrCreateMetric","metricObject","expectedType","metricDef","matching","shadowedMetric","existing","subSystem","nameSystem","descriptionSystem","_system","stateDescription","updateSystem","stringMetric","timestampMetric","objectMetric","numberMetric","aggState","shadowedSubSystem","createSystem","Repository","addSystemMetrics","clickStream","rootSystem","useClickStream","navigator","userAgent","clickStream_1","documentClickHandler","timestamp","tagName","page","urlMetric","appNameMetric","startUrl","glue42gd","NullProtocol","PerfTracker","initialPublishTimeout","publishInterval","lastCount","scheduleCollection","collect","collectMemory","collectEntries","performance","totalJSHeapSize","usedJSHeapSize","allEntries","getEntries","metrics","joinPromise","session","replayRepo","replaySystem","subSystems","ss","createMetricsMsg","Description","Value","metricClone","cloneMetric","updateMetricCore","canUpdate","publishMetricsMsg","sendFireAndForget","canUpdateMetric","resolveReadyPromise","onJoined","reconnect","defineRootMetricsMsg","service","shadowedUpdateMetric","stateObj","rootMetric","peer_id","gw3","disableAutoAppSystem","featureMetric","reportingSystem","def","featureMetricFunc","addFAVSupport","perfConfig","pagePerformanceMetrics","initPerf","_handleError","exceptionArtifact","errParam","replayArgumentsArr","replayArgument","allForKey","argumentsArr","lib","InProcTransport","gw","facade","connect","_client","messageHandler","client","sendObject","_msg","onMessage","onConnectedChanged","SharedWorkerTransport","workerFile","SharedWorker","port","onmessage","postMessage","Utils","getGDMajorVersion","glueDesktop","ver","Number","isNode","_isNode","process","PromiseWrapper","resolved","time","timerName","marks","endTime","period","mark","currentTime","diff","timerObj","WebSocketConstructor","WebSocket","WS","startupTimer","_running","wsRequests","ws","waitForSocketConnection","info","pw","failed","openSocket","retryInterval","retriesLeft","reconnectInterval","notifyForSocketState","debug","initiateSocket","retries","reason","seen_1","WeakSet","notifyStatusChanged","onclose","onopen","identity","wsRequest","alphabet","previousSeed","randomFromSeed","nextValue","_seed_","ORIGINAL","setCharacters","_alphabet_","ind","getShuffled","characterIndex","sourceArray","targetArray","shuffle","alphabet_1","randomByteBrowser","dest","encode_1","loopCounter","str","decode_1","lib$1","module","createCommonjsModule","counter","previousSeconds","clusterWorkerId","seconds","seedValue","workerId","newCharacters","shortid","domainSession","successMessages","errorMessages","_latestOptions","isJoined","tryReconnecting","_connectionOn","disconnected","loggedIn","handleSuccessMessage","handleErrorMessage","sm","requestsMap","destination","wasReconnect","handleJoined","requestId","request_id","entry","getNextRequestId","tag","skipPeerId","successMsg","_tag","errorMsg","leave","onLeft","connected","GW3ProtocolImpl","protocolVersion","datePrefix","datePrefixLen","dateMinLen","datePrefixFirstChar","_isLoggedIn","shouldTryLogin","initialLogin","initialLoginAttempts","sessions","handleDisconnected","ping","processStringMessage","milliseconds","ex","msgType","createStringMessage","oldToJson","toJSON","datePrefix_1","processObjectMessage","createObjectMessage","login","authentication","e_1","helloMsg","sendOptions","welcomeMsg","token","err_1","loginConfig","gatewayToken","getNewGWToken","flowName","provider","flowCallback","sessionId","secret","globalDomain","maxRetries","reconnectAttempts","Buffer","resolvedIdentity","resolved_identity","availableDomains","available_domains","access_token","setLoggedIn","logout","promises","pingTimer","domainName","domainLogger","authToken","res","getGWToken","MessageReplayerImpl","specs","specsNames","messages","subs","subsRefCount","specs_1","spec","name_1","_loop_1","refCount","this_1","sub","processMessage","types","isDone","name_2","drain","PromisePlus","WebPlatformTransport","parentReady","iAmConnected","parentPingTimeout","connectionRequestTimeout","defaultTargetString","connectionAccepted","handleConnectionAccepted","connectionRejected","handleConnectionRejected","connectionRequest","handleConnectionRequest","handleParentReady","parentPing","handleParentPing","platformPing","handlePlatformPing","platformUnload","handlePlatformUnload","platformReady","handlePlatformReady","clientUnload","handleClientUnload","setUpMessageListener","setUpUnload","waitParent","initiateRemoteConnection","connectionResolve","connectionReject","myClientId","bridgeInstanceId","request","clientId","clientType","parentPingResolve","checkMessageTypeValid","messageType","ownWindowId","handleAcceptanceOfMyRequest","handleAcceptanceOfGrandChildRequest","parentWindowId","child","grandChildId","rejectConnectionRequest","typeToValidate","rejection","Connection","messageHandlers","ids","_connected","isTrace","inproc","sharedWorker","canPublish","handleConnectionChanged","handleTransportMessage","replaySpecs","replayer","isObjectBasedTransport","strMessage","isLoggedIn","authRequest","distributeMessage","handlerId","loggerError","msgObj","Logger","logFn","subLoggers","customLogFn","loggerFullName","includeTimeAndLevel","existingSub","publishLevel","_publishLevel","consoleLevel","_consoleLevel","publishMessage","compareWith","loggerName","Interop","InteropMethodName","prefix","date","getHours","getMinutes","getSeconds","getMilliseconds","toPrint","GW_MESSAGE_CREATE_CONTEXT","GW_MESSAGE_ACTIVITY_CREATED","GW_MESSAGE_ACTIVITY_DESTROYED","GW_MESSAGE_CONTEXT_CREATED","GW_MESSAGE_CONTEXT_ADDED","GW_MESSAGE_SUBSCRIBE_CONTEXT","GW_MESSAGE_SUBSCRIBED_CONTEXT","GW_MESSAGE_UNSUBSCRIBE_CONTEXT","GW_MESSAGE_DESTROY_CONTEXT","GW_MESSAGE_CONTEXT_DESTROYED","GW_MESSAGE_UPDATE_CONTEXT","GW_MESSAGE_CONTEXT_UPDATED","GW_MESSAGE_JOINED_ACTIVITY","ContextMessageReplaySpec","GW3ContextData","contextId","isAnnounced","activityId","updateCallbacks","hasCallbacks","applyContextDelta","delta","deepClone","commands","command","deletePath","setValueToPath","added_1","added","updated_1","updated","mergeObjectsProperties","WeakMap","Set","flags","what","withWhat","deepEqual","pathArr","InvokeStatus","GW3Bridge","_contextNameToData","_gw3Subscriptions","_nextCallbackSubscriptionNumber","_contextNameToId","_contextIdToName","_protocolVersion","_connection","_logger","_gw3Session","subscribeToContextCreatedMessages","subscribeToContextUpdatedMessages","subscribeToContextDestroyedMessages","handleContextCreatedMessage","handleContextUpdatedMessage","handleContextDestroyedMessage","contextsDomainInfo","uri","contextName","createContext","lifetime","createContextMsg","context_id","contextData","currentContext","calculatedDelta","calculateContextDeltaV2","calculateContextDeltaV1","gwResponse","handleUpdated","updaterId","setPath","setPathSupported","setPaths","pathValues","pathValues_1","pathValue","pathValues_2","_r","un","unsubscribe","thisCallbackSubscriptionNumber","hadCallbacks","joinedActivity","sentExplicitSubscription","sendSubscribe","subscriptionKey","sendUnsubscribe","extraData","oldContext","invokeUpdateCallbacks","createdMessageTypes_1","createdMessageType","contextCreatedMsg","activity_id","updatedMessageTypes_1","updatedMessageType","contextUpdatedMsg","justSeen","context_snapshot","updater_id","updateCallbackIndex","updateCallback","destroyedMessageTypes_1","destroyedMessageType","destroyedMsg","to","ContextsModule","checkName","checkData","checkPath","paths_1","promisify","successCallback","errorCallback","rejectAfter","ms","finally","Client","configuration","callProtocolSubscribe","targetServers","stream","successProxy","errorProxy","methodResponseTimeout","waitTimeoutMs","methodDef","method_response_timeout","wait_for_method_timeout","delayTillNow","currentServers","getServerMethodsByFilterAndTarget","retry_1","streamInfo","methodFilter","filterCopy","getServers","serverMethodMap","server","getMethods","methodsForInstance","getMethodsForInstance","methodAdded","onMethodAdded","methodRemoved","onMethodRemoved","serverAdded","onServerAdded","serverRemoved","onServerRemoved","serverMethodAdded","onServerMethodAdded","serverMethodRemoved","onServerMethodRemoved","argumentObj","additionalOptions","methodDefinition","serversMethodMap","errorObj","additionalOptionsCopy","invokePromises","invocationMessages","methodResponseTimeoutMs","tryToAwaitForMethods","supportsStreaming","objectTypes","called_with","executed_by","serversMethodPair","invId","invokePromise","race","invocationId","getInvocationResultObj","getInvokePromise","invocationResults","calledWith","all_return_values","invokeMessage","Success","allValues","currentValue","all_errors","allErrors","currError","invResult","filterByTarget","myMatches","serverMethodPair","instanceMatch","localMachine","instanceFilter","instanceDefinition","containsProps","methodMatch","repoMethod","isMatch","filterValue","repoMethodValue","filterObjTypes","repoObjectTypes","objTypeToContains","objType","repoObjType","isFullfiled","containsAllFromFilter","matchingServers","resultMethodsObject","methodKey","identifier","matchingMethods","getServerMethodsById","ServerSubscription","subscription","branchKey","closeSingleSubscription","pushDataToSingle","Request","requestContext","accept","acceptRequestOnBranch","acceptOnBranch","branch","rejectRequest","ServerStreaming","onSubRequest","rc","rm","handleSubRequest","onSubAdded","handleSubAdded","onSubRemoved","handleSubRemoved","streamCallbacks","subscriptionRequestHandler","subscriptionAddedHandler","subscriptionRemovedHandler","ServerBranch","subscriptions","getSubscriptionList","closeAllSubscriptions","pushData","ServerStream","_protocol","_repoMethod","_server","branches","bList","getBranchList","def2","displayName","returns","unregister","updateRepoMethod","Server","serverRepository","invocations","currentlyUnregistering","streaming","onInvoked","onMethodInvoked","createStream","streamDef","existingStream","streamMethodDefinition","getList","serverMethod","protocolState","streamUserObject","repoId","wrappedCallbackFunction","resultCallback","resultValue","userCallback","registerCore","wrappedCallback","resultCalled_1","methodResult","userCallbackAsync","forStream","methodToBeRemoved","unregisterWithPredicate","removeMethodsOrStreams","filterPredicate","methodsOrStreamsToRemove","methodsToRemove","methodUnregPromises","addAsCurrentlyUnregistering","methodName","theFunction","unregisterInProgress","methodToExecute","invocationArgs","unStrException","_value","methodInvocationResult","InstanceWrapper","wrapped","getStreams","refreshWrappedObject","refresh","user","pid","machine","environment","region","API","ClientRepository","methodsCount","addServer","serverId","serverEntry","removeServerById","methodId","removeServerMethod","addServerMethod","createMethodIdentifier","that","gatewayId","display_name","object_types","input_signature","result_signature","getServersByMethod","allMethods","allServers","unsubscribeFunc","serversWithMethodsToReplay","returnUnsubWithDelayedReplay","methodsToReplay","unsubCalled","getServerById","methodInfo","collectionToReplay","ServerRepository","nextId","SUBSCRIPTION_REQUEST","SUBSCRIPTION_ADDED","SUBSCRIPTION_REMOVED","ServerStreaming$1","repository","ERR_URI_SUBSCRIPTION_FAILED","nextStreamId","handleAddInterest","handleRemoveInterest","streamingMethod","subscriptionsMap","branchKeyToStreamIdMap","streamId","getStreamId","subscription_id","subscribeMsg","stream_id","sendSubscriptionFailed","dropSubscriptionMessage","closeMultipleSubscriptions","subscriptionsToClose","drop","allSubscriptions","onSubscriptionLifetimeEvent","method_id","handlerFunc","getNextStreamId","caller_id","arguments_kv","subscriptionId","reason_uri","needleBranch","ServerProtocol","clientRepository","handleInvokeMessage","isStreaming","registerMsg","restrictions","invocation_id","callerId","UserSubscription","subscriptionData","params","trackedServers","pair","onData","dataCallback","queued","dataItem","onClosed","closedCallback","onFailed","onConnected","setNewSubscription","newSub","STATUS_AWAITING_ACCEPT","STATUS_SUBSCRIBED","ERR_MSG_SUB_FAILED","ON_CLOSE_MSG_CLIENT_INIT","ClientStreaming","subscriptionsList","subscriptionIdToLocalKeyMap","nextSubLocalKey","handleErrorSubscribing","errorResponse","subLocalKey","pendingSub","timeoutId","callArgs","callOnClosedHandlers","handleSubscribed","acceptingServer","isFirstResponse","serverInstance","handleEventData","trackedServersFound","isPrivateData","oob","sendingServerId","receivedStreamData","requestArguments","private","onDataHandlers","queuedData","handleSubscriptionCancelled","expectedNewLength","closers","getNextSubscriptionLocalKey","registerSubscription","server_id","drainSubscriptions","subsInfo","localKey","closeSubscription","closingServer","closersCount","closingServerId","ClientProtocol","handlePeerAdded","handlePeerRemoved","handleMethodsAddedMessage","handleMethodsRemovedMessage","handleResultMessage","handleInvocationError","newPeerId","new_peer_id","remoteId","meta","local","serverInfo","removedPeerId","removed_id","methodIdList","gW3ProtocolFactory","libConfig","readyPromise","existingSubscriptions_1","registeredMethods","registeredMethods_1","handleReconnect","protocolPromise","MessageBus","publish","topic","routingKey","removeEmptyValues","routing_key","target_identity","watchOnEvent","keysMatch","cleaned","obj1","obj2","keysObj1","allMatch","GlueCore","userConfig","ext","gdVersion","preloadPromise","gdPreloadPromise","_interop","_contexts","_bus","_allowTrace","glueInitTimer","internalConfig","nodeStartingContext","startingContextString","_GD_STARTING_CONTEXT_","_f","applicationConfig","instanceId","gwConfig","gwURL","uniqueAppName","env","appInstanceId","getConnection","windowAsAny","containerApplication","htmlContainer","containerName","bus","auth","gwToken","getAuth","gdConsoleLevel","defaultLevel","consoleLogLevel","getLogger","libs","customLogger","prepareConfig","registerLib","inner","initTime","initEndTime","initStartTime","setupMetrics","initTimer","metricsPublishingEnabledFunc","getMetricsPublishingEnabled","setupInterop","agmConfig","setupContexts","hasActivities","activities","setupBus","setupExternalLibs","externalLibs","createCallback","setupExternalLib","authPromise","authConfig","libsReadyPromises","coreVersion","feedback","feedbackInfo","timing","extOptions","enrichGlue","updatePerfData","deprecatedDecorator","wrong","proper","agmAny","method_added","method_removed","server_added","server_method_aded","server_method_removed","coreFactoryFunction","createGlueCore","IoC","controllers","App","reportWebVitals","onPerfEntry","getCLS","getFID","getFCP","getLCP","getTTFB","isWindowInSwimlaneResultDecoder","allParentDecoder","subParentDecoder","frameStateDecoder","checkThrowCallback","allowUndefined","argumentType","workspaceBuilderCreateConfigDecoder","saveLayout","deleteLayoutConfigDecoder","swimlaneWindowDefinitionDecoder","strictSwimlaneWindowDefinitionDecoder","parentDefinitionDecoder","strictParentDefinitionDecoder","newFrameConfigDecoder","restoreTypeDecoder","restoreWorkspaceConfigDecoder","restoreType","reuseWorkspaceId","lockdown","activateFrame","newFrame","inMemoryLayout","openWorkspaceConfigDecoder","workspaceDefinitionDecoder","builderConfigDecoder","workspaceCreateConfigDecoder","saveConfig","getFrameSummaryConfigDecoder","frameSummaryDecoder","eventTypeDecoder","focused","streamRequestArgumentsDecoder","workspaceEventActionDecoder","workspaceConfigResultDecoder","baseChildSnapshotConfigDecoder","parentSnapshotConfigDecoder","swimlaneWindowSnapshotConfigDecoder","childSnapshotResultDecoder","workspaceSnapshotResultDecoder","customWorkspaceChildSnapshotDecoder","windowLayoutItemDecoder","groupLayoutItemDecoder","columnLayoutItemDecoder","rowLayoutItemDecoder","workspaceLayoutDecoder","exportedLayoutsResultDecoder","frameSummaryResultDecoder","frameSummariesResultDecoder","workspaceSummaryResultDecoder","workspaceSummariesResultDecoder","frameSnapshotResultDecoder","layoutSummaryDecoder","layoutSummariesDecoder","simpleWindowOperationSuccessResultDecoder","voidResultDecoder","frameStateResultDecoder","resizeConfigDecoder","moveConfigDecoder","simpleItemConfigDecoder","frameStateConfigDecoder","requestedState","setItemTitleConfigDecoder","moveWindowConfigDecoder","resizeItemConfigDecoder","moveFrameConfigDecoder","addWindowConfigDecoder","addContainerConfigDecoder","addItemResultDecoder","pingResultDecoder","bundleConfigDecoder","containerSummaryResultDecoder","frameStreamDataDecoder","workspaceStreamDataDecoder","containerStreamDataDecoder","containerSummary","windowStreamDataDecoder","workspaceLayoutSaveConfigDecoder","webPlatformMethodName","webPlatformWspStreamName","METHODS","control","isStream","frameStream","workspaceStream","containerStream","windowStream","STREAMS","payloadDecoder","OPERATIONS","argsDecoder","getAllFramesSummaries","getAllWorkspacesSummaries","getWorkspaceSnapshot","getAllLayoutsSummaries","importLayout","resizeItem","changeFrameState","getFrameState","forceLoadWindow","ejectWindow","activeSubscriptions","coreSubscriptionReady","handleCoreEvent","registryKey","scopeId","scopeConfig","receivedIds","checkScopeMatch","operationArgs","operationDefinition","transmitControl","operationResultRaw","activeSub","getActiveSubscription","getRegistryKey","getBranchKey","gdSub","streamData","requestedArgumentsResult","actionResult","streamType","validatedPayload","keyToExecute","levelId","callbacksCount","verifiedAction","verifiedType","verifiedPayload","defaultTransportTimeout","coreEventMethodInitiated","verifyMethodLive","eventCallback","subscribePlatform","corePlatformSubPromise","streamName","streamBranch","subscriptionArgs","invocationArguments","baseErrorMessage","invocationResult","invocationErrorMessage","privateData","base","wrapChildren","serializeChildren","getBuilder","validatedDefinition","childBuilder","getBase","addParent","predicate","getWorkspaceId","getPositionIndex","getAllChildren","getMyParent","getMyFrame","getMyWorkspace","getData","manager","getWorkspaceData","getDataManager","dataManager","refreshReference","iterateFindChild","wsp","setWorkspaceContext","updateWorkspaceContext","subscribeWorkspaceContextUpdated","newSnapshot","existingChildren","foundChildren","foundChild","swimlaneWindow","newChildren","refreshChildren","currentFrame","remapFrame","actualFrame","frameCreateConfig","getModel","remapWorkspace","allParents","iterateFilterChildren","getAllBoxes","allWindows","bundleTo","processLocalSubscription","windowParent","foundWindow","win","getWindowData","newWindowId","getGdWindow","myId","getGDWindow","getParent","checkIsWindowLoaded","getFrameData","validatedConfig","getWorkspaces","validatedOptions","getWorkspace","foundParent","parentsData","workspacesData","windowsData","framesData","windowPlacementIdData","keyForDeleting","newData","getParentData","getWindowFromPlacementId","placemenId","getWindowByPlacementId","typeToAdd","parentDefinition","transformDefinition","newParentId","modelData","createConfig","snapshot","frameConfig","workspaceConfig","allFrameSummaries","frames","frameToCheck","bridgeResults","allSummaries","summaryResult","addedUnSub","changedUnSub","gdWindow","controlResult","newChildSnapshot","childToAdd","childType","privateDataManager","remapChild","grandChildren","innerFound","getLayoutSummaries","allLayouts","handleEnterpriseLocalSubscription","handleCoreLocalSubscription","handleEnterpriseGlobalSubscription","handleCoreGlobalSubscription","getFrame","getFrames","iterateWorkspaces","foundWorkspace","matchingWorkspaces","allSummariesResult","getAllWorkspaceSummaries","resultWindow","resultParent","allLayoutsResult","matchingLayouts","handleOnSaved","frameResult","notifyWindowAdded","createCoreEventSubscription","originalCB","wrappedCB","callbackData","handleCoreSubscription","ended","workspaceSummaries","fetchWorkspace","initiate","frameData","setFrameData","windowPrivateData","newWindow","setWindowData","newParent","parentBase","builtChildren","buildChildren","parentPrivateData","setParentData","newWorkspace","workspacePrivateData","setWorkspaceData","baseBuilder","_baseController","_controllerInstance","baseController","_bridgeInstance","CallbackFactory","_transportInstance","_privateDataManagerInstance","_parentBaseInstance","checkIsInSwimlane","getAllFrames","exportLayout","verifiedConfig","onSaved","onFrameOpened","processGlobalSubscription","onFrameClosed","onWorkspaceOpened","onWorkspaceClosed","onWindowLoaded","GlueWorkspaces","StrictMode","glueFactory","GlueWeb"],"mappings":"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","file":"static/js/main.e5f0117c.chunk.js","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import React from \"react\";\r\n\r\nconst HeaderButton: React.FC<{ title: string, className: string }> = ({ title, className, children, ...props }) => {\r\n    return (\r\n        <li {...props} title={title} className={className}>\r\n            {children}\r\n        </li>\r\n    )\r\n};\r\n\r\nexport default HeaderButton;\r\n","import React from \"react\";\r\nimport { ApplicationItemProps } from \"../../../types/internal\";\r\n\r\n\r\nconst ApplicationItem: React.FC<ApplicationItemProps> = ({ appName, onClick }) => {\r\n    return (\r\n        <a onClick={onClick} className=\"list-group-item list-group-item-action px-3\" href=\"#\">\r\n            {appName}\r\n        </a>\r\n    )\r\n};\r\n\r\nexport default ApplicationItem;","import React, { useEffect } from \"react\";\r\nimport { ApplicationListProps } from \"../../../types/internal\";\r\nimport ApplicationItem from \"./ApplicationItem\";\r\n\r\nconst ApplicationsList: React.FC<ApplicationListProps> = ({ glue, inLane, parent, hidePopup, searchTerm, updatePopupHeight, filterApps }) => {\r\n    const hasFlag = (app: any) => app?.userProperties?.includeInWorkspaces ?? app?.userProperties?.includeInCanvas;\r\n    const isFromSupportedType = (a: any) => !a.type || (a.type !== \"activity\" &&\r\n        a.type !== \"canvas\" &&\r\n        a.type !== \"workspaces\" &&\r\n        a.type !== \"node\");\r\n\r\n    const defaultFilter = (a: any) => !a.isActivity &&\r\n        !a.isShell &&\r\n        isFromSupportedType(a) && hasFlag(a);\r\n\r\n    const filter = filterApps || defaultFilter;\r\n\r\n    const workspacesFriendlyApps: any[] = glue.appManager.applications().filter(filter);\r\n\r\n    const getElementOnClick = (appName: string) => {\r\n        return async () => {\r\n            try {\r\n                if (parent.type === \"group\" && !inLane) {\r\n                    await parent.addWindow({ type: \"window\", appName });\r\n                } else if (parent.type === \"group\" && inLane) {\r\n                    await parent.parent.addGroup({ type: \"group\", children: [{ type: \"window\", appName }] });\r\n                } else if (parent.type !== \"group\" && !inLane) {\r\n                    await parent.addGroup({ type: \"group\", children: [{ type: \"window\", appName }] });\r\n                } else {\r\n                    await parent.addWindow({ type: \"window\", appName });\r\n                }\r\n            } catch (error) {\r\n                console.warn(error);\r\n            }\r\n\r\n            hidePopup();\r\n        };\r\n    }\r\n\r\n    useEffect(() => {\r\n        updatePopupHeight();\r\n    }, []);\r\n\r\n    return (\r\n        <nav id=\"applicationsList\" className=\"nav list-group\">\r\n            {workspacesFriendlyApps\r\n                .filter((a) => (a.title || a.name).toLowerCase().indexOf(searchTerm.toLowerCase()) !== -1)\r\n                .map((app: any, i) => {\r\n                    return <ApplicationItem\r\n                        key={i}\r\n                        onClick={() => { getElementOnClick(app.name)() }}\r\n                        appName={app.title || app.name} />\r\n                })}\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default ApplicationsList;","import React, { useEffect } from \"react\";\r\nimport { ContainerSwitchProps } from \"../../../types/internal\";\r\n\r\nconst ContainerSwitch: React.FC<ContainerSwitchProps> = ({ inLane, setInLane, parent }) => {\r\n    let wordInLabel = \"\";\r\n    if (!parent.type) {\r\n        wordInLabel = `workspace`;\r\n    } else if (parent.type === \"group\" && !parent.children.length) {\r\n        wordInLabel = \"\";\r\n    } else if (parent.type === \"group\") {\r\n        wordInLabel = `${parent.parent.type || \"\"}`;\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (!wordInLabel || wordInLabel === \"workspace\") {\r\n            setInLane(false);\r\n        }\r\n    }, [wordInLabel])\r\n\r\n    if (!wordInLabel || wordInLabel === \"workspace\") {\r\n        return null;\r\n    }\r\n\r\n    const labelToPut = `This ${wordInLabel[0].toUpperCase() + wordInLabel.substring(1)}`;\r\n\r\n    return (\r\n        <div className=\"form-group\">\r\n            <label htmlFor=\"Application placement\">Application Placement</label>\r\n            <div className=\"btn-group d-flex mb-2\" role=\"group\" aria-label=\"Application placement\">\r\n                <button\r\n                    onClick={() => setInLane(true)}\r\n                    type=\"button\"\r\n                    id=\"laneButton\"\r\n                    className={`btn btn-outline-primary w-100 ${inLane ? \"active\" : \"\"}`}>\r\n                    {labelToPut}\r\n                </button>\r\n                <button\r\n                    onClick={() => setInLane(false)}\r\n                    type=\"button\"\r\n                    id=\"tabGroupButton\"\r\n                    className={`btn btn-outline-primary w-100 ${!inLane ? \"active\" : \"\"}`}>\r\n                    This Tab Group\r\n            </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ContainerSwitch;","import { GlueContext } from \"@glue42/react-hooks\";\r\nimport React, { useContext } from \"react\"\r\n\r\nconst withGlueInstance = <T extends { glue?: any }>(WrappedComponent: React.ComponentType<T>) => {\r\n    return (props: T) => {\r\n        const glue = props.glue || (window as any).glue || useContext(GlueContext);\r\n        if (!glue) {\r\n            throw new Error(\"An instance of Glue is not provided\");\r\n        }\r\n        return (\r\n            <WrappedComponent {...Object.assign({}, props, { glue })} />\r\n        )\r\n    }\r\n}\r\n\r\nexport default withGlueInstance;","import React, { useEffect, useState } from \"react\";\r\nimport { AddApplicationPopupProps } from \"../../../types/internal\";\r\nimport ApplicationsList from \"./ApplicationsList\";\r\nimport ContainerSwitch from \"./ContainerSwitch\";\r\nimport withGlueInstance from \"../../../withGlueInstance\";\r\n\r\ndeclare const window: Window & { glue?: any };\r\n\r\nconst AddApplicationPopup: React.FC<AddApplicationPopupProps> = ({ workspaceId, boxId, hidePopup, resizePopup, glue, frameId, filterApps, ...props }) => {\r\n    const [inLane, setInLane] = useState(false);\r\n    const [parent, setParent] = useState(undefined);\r\n    const [searchTerm, setSearchTerm] = useState(\"\");\r\n    const containerRef = React.createRef<HTMLDivElement>();\r\n\r\n    useEffect(() => {\r\n        let shouldUpdate = true;\r\n        glue.workspaces.getAllWorkspaces().then((allWorkspaces: any) => {\r\n            const myWorkspace = allWorkspaces.find((w: any) => w.id === workspaceId);\r\n            const parent = myWorkspace.getBox((p: any) => p.id === boxId) || myWorkspace;\r\n\r\n            if (!shouldUpdate) {\r\n                return;\r\n            }\r\n            setParent(parent);\r\n        });\r\n\r\n        return () => {\r\n            shouldUpdate = false;\r\n        }\r\n    }, [boxId, workspaceId]);\r\n\r\n    const refreshPopupHeight = () => {\r\n        const containerHeight = containerRef.current?.getBoundingClientRect().height;\r\n        resizePopup({\r\n            width: 300,\r\n            height: containerHeight\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        refreshPopupHeight();\r\n    }, [searchTerm, parent]);\r\n\r\n    return (\r\n        <div {...props} ref={containerRef} className=\"container-fluid add-application\">\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h5 className=\"border-bottom border-secondary pb-1 my-3\">Add Application</h5>\r\n                </div>\r\n            </div>\r\n            <div id=\"applicationPlacementSection\" className=\"row\">\r\n                <div className=\"col\">\r\n                    {parent && <ContainerSwitch\r\n                        inLane={inLane}\r\n                        setInLane={setInLane}\r\n                        parent={parent} />}\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <div className=\"input-group position-relative mb-2\">\r\n                        <input type=\"text\" id=\"appSearch\" className=\"form-control pr-4\" placeholder=\"Search pplication\"\r\n                            value={searchTerm} onChange={(e) => setSearchTerm(e.target.value)} aria-label=\"Search pplication\" aria-describedby=\"\" />\r\n                        <div className=\"icon-search\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <div className=\"applications mb-2\">\r\n                        <ApplicationsList\r\n                            glue={glue}\r\n                            hidePopup={hidePopup}\r\n                            inLane={inLane}\r\n                            parent={parent}\r\n                            searchTerm={searchTerm}\r\n                            filterApps={filterApps}\r\n                            updatePopupHeight={() => { refreshPopupHeight() }}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withGlueInstance(AddApplicationPopup);","import React from \"react\";\r\nimport { getFeedbackErrorMessage } from \"./helpers\";\r\n\r\nconst Feedback: React.FC<{ errMessage: string }> = ({ errMessage }) => {\r\n    const message = getFeedbackErrorMessage(errMessage);\r\n    return (\r\n        <div className=\"row\">\r\n            <div className=\"col\">\r\n                <div id=\"feedbackContainer\" className=\"d-flex flex-row pb-2\">\r\n                    <div className=\"invalid-feedback mt-0 d-block\">\r\n                        {message || \"Something went wrong.\"}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Feedback;","export const getFeedbackErrorMessage = (message: string) => {\r\n    const innerMessageRegex = /Inner message:\\s+(.+)/gm;\r\n    const regexResult = innerMessageRegex.exec(message);\r\n    const innerMessage = (regexResult && regexResult[1]) || message;\r\n\r\n    return innerMessage;\r\n}","import React from \"react\";\r\nimport { WorkspaceLayoutItemProps } from \"../../../types/internal\";\r\n\r\nconst WorkspaceLayoutItem: React.FC<WorkspaceLayoutItemProps> = ({ name, onClick, onCloseClick }) => {\r\n    return (\r\n        <a onClick={onClick} className=\"list-group-item list-group-item-action ry-2\" href=\"#\">\r\n            <div className=\"align-items-center workspace d-flex flex-row\">\r\n                <div className=\"workspace__icon mr-2\"></div>\r\n                <div className=\"workspace__description\">\r\n                    <h5 className=\"mb-0 text-truncate\">{name}</h5>\r\n                </div>\r\n                <div onClick={onCloseClick} className=\"close-icon ml-auto\"></div>\r\n            </div>\r\n        </a>\r\n    );\r\n}\r\n\r\n\r\nexport default WorkspaceLayoutItem;","import React, { useEffect, useState } from \"react\";\r\nimport { WorkspaceLayoutsListProps } from \"../../../types/internal\";\r\nimport WorkspaceLayoutItem from \"./WorkspaceLayoutItem\";\r\n\r\nconst WorkspaceLayoutsList: React.FC<WorkspaceLayoutsListProps> = ({ glue, frameId, showFeedback, hidePopup, resizePopup }) => {\r\n    const [layoutSummaries, setLayoutSummaries] = useState([] as any[]);\r\n\r\n    const getSummaries = () => {\r\n        return glue.workspaces.layouts.getSummaries();\r\n    };\r\n\r\n    useEffect(() => {\r\n        let shouldUpdate = true;\r\n        getSummaries().then((s: any) => {\r\n            if (!shouldUpdate) {\r\n                return;\r\n            }\r\n            setLayoutSummaries(s);\r\n        });\r\n        return () => {\r\n            shouldUpdate = false;\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        resizePopup();\r\n    }, [layoutSummaries]);\r\n\r\n    const getOnClickCallback = (layoutName: string) => {\r\n        return () => {\r\n            glue.workspaces.restoreWorkspace(layoutName, { frameId, title: layoutName }).catch((e: Error) => {\r\n                showFeedback(e.message);\r\n            }).finally(() => {\r\n                hidePopup();\r\n            });\r\n        };\r\n    };\r\n\r\n    const getOnCloseClickCallback = (layoutName: string) => {\r\n        return () => {\r\n            glue.workspaces.layouts.delete(layoutName).catch((e: Error) => {\r\n                showFeedback(e.message);\r\n            }).then(() => {\r\n                getSummaries().then((s: any) => { setLayoutSummaries(s); });\r\n            });\r\n        };\r\n    }\r\n\r\n    return (\r\n        <nav id=\"workspacesList\" className=\"nav flex-column\">\r\n            {layoutSummaries.map((summary, i) => {\r\n                return <WorkspaceLayoutItem\r\n                    key={i}\r\n                    name={summary.name}\r\n                    onClick={() => getOnClickCallback(summary.name)()}\r\n                    onCloseClick={(e) => { e.stopPropagation(); getOnCloseClickCallback(summary.name)(); }}\r\n                />\r\n            })}\r\n        </nav>\r\n    );\r\n}\r\n\r\nexport default WorkspaceLayoutsList;","import React, { useEffect, useState } from \"react\";\r\nimport { AddWorkspacePopupProps } from \"../../../types/internal\";\r\nimport Feedback from \"../Feedback\";\r\nimport WorkspaceLayoutsList from \"./WorkspaceLayoutsList\";\r\nimport withGlueInstance from \"../../../withGlueInstance\";\r\n\r\nconst AddWorkspacePopup: React.FC<AddWorkspacePopupProps> = ({ frameId, hidePopup, resizePopup, glue, ...props }) => {\r\n    const [feedbackText, setFeedbackText] = useState<string | undefined>(undefined);\r\n    const containerRef = React.createRef<HTMLDivElement>();\r\n\r\n    const resizePopupWithContainerHeight = () => {\r\n        const containerHeight = containerRef.current?.getBoundingClientRect().height;\r\n        resizePopup({\r\n            width: 300,\r\n            height: containerHeight\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        resizePopupWithContainerHeight();\r\n    }, [feedbackText]);\r\n    const onCreateNewClicked = () => {\r\n        glue.workspaces.createWorkspace({\r\n            children: [],\r\n            frame: {\r\n                reuseFrameId: frameId\r\n            }\r\n        });\r\n        hidePopup();\r\n    }\r\n\r\n    return (\r\n        <div {...props} ref={containerRef} className=\"container-fluid add-workspace\">\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h5 className=\"border-bottom border-secondary pb-1 my-3\">Add Workspace</h5>\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h5 onClick={onCreateNewClicked} itemType=\"h5\" id=\"createNewButton\" className=\"btn btn-primary mb-3 w-100\">Create New</h5>\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h3>Load Workspace</h3>\r\n                    <div className=\"workspaces mb-2\">\r\n                        <WorkspaceLayoutsList\r\n                            frameId={frameId}\r\n                            glue={glue}\r\n                            showFeedback={setFeedbackText}\r\n                            hidePopup={hidePopup}\r\n                            resizePopup={resizePopupWithContainerHeight}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {feedbackText && <Feedback errMessage={feedbackText} />}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default withGlueInstance(AddWorkspacePopup);","import React, { useEffect } from \"react\";\r\nimport { SaveContextCheckboxProps } from \"../../../types/internal\";\r\n\r\nconst SaveContextCheckbox: React.FC<SaveContextCheckboxProps> = ({ changeChecked, refreshHeight }) => {\r\n    const inputRef = React.createRef<HTMLInputElement>();\r\n\r\n    useEffect(() => {\r\n        refreshHeight();\r\n    }, []);\r\n\r\n    const onInputChanged = () => {\r\n        if (!inputRef?.current) {\r\n            return;\r\n        }\r\n\r\n        changeChecked(inputRef.current.checked);\r\n    }\r\n\r\n    return (\r\n        <div className=\"form-check\">\r\n            <input onChange={onInputChanged} ref={inputRef} className=\"form-check-input\" type=\"checkbox\" value=\"\" id=\"saveContextCheckbox\" />\r\n            <label className=\"form-check-label\" htmlFor=\"saveContextCheckbox\">Save context</label>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default SaveContextCheckbox;","import React, { useEffect, useState } from \"react\";\r\nimport { SaveWorkspaceButtonProps } from \"../../../types/internal\";\r\n\r\nconst SaveWorkspaceButton: React.FC<SaveWorkspaceButtonProps> = ({ workspaceId,\r\n    inputValue,\r\n    clearInput,\r\n    showFeedback,\r\n    shouldSaveContext,\r\n    hideFeedback,\r\n    glue,\r\n    hidePopup,\r\n    buildMode }) => {\r\n    const [shouldSave, setShouldSave] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (!shouldSave) {\r\n            return;\r\n        }\r\n        let shouldUpdate = true;\r\n        let workspace: any;\r\n        const workspaceName = inputValue;\r\n        glue.workspaces.getAllWorkspaces().then((allWorkspaces: any) => {\r\n            workspace = allWorkspaces.find((w: any) => w.id === workspaceId);\r\n\r\n            return glue.workspaces.layouts.save({\r\n                name: workspaceName,\r\n                workspaceId: workspace.id,\r\n                saveContext: shouldSaveContext\r\n            });\r\n        }).then(() => {\r\n            return workspace.setTitle(workspaceName);\r\n        }).catch((error: Error) => {\r\n            if (shouldUpdate) {\r\n                showFeedback(error.message)\r\n            }\r\n        }).finally(() => {\r\n            if (shouldUpdate) {\r\n                clearInput();\r\n                setShouldSave(false);\r\n                hidePopup();\r\n            }\r\n        });\r\n\r\n        return () => {\r\n            shouldUpdate = false;\r\n        }\r\n    }, [shouldSave]);\r\n\r\n    const exportJson = (layout: object, name: string) => {\r\n        const downloadElement = document.createElement(\"a\");\r\n        const data = \"text/json;charset=utf-8,\" + encodeURIComponent(JSON.stringify(layout));\r\n\r\n        document.body.append(downloadElement);\r\n        downloadElement.setAttribute(\"href\", \"data:\" + data);\r\n        downloadElement.setAttribute(\"download\", `${name}.txt`);\r\n        downloadElement.click();\r\n        downloadElement.remove();\r\n    }\r\n\r\n    const generateLayout = async (name: string, workspaceId: string) => {\r\n        const instance = glue.agm.instance;\r\n        const payload = { operation: \"generateLayout\", operationArguments: { name, workspaceId } };\r\n\r\n        return (await glue.agm.invoke(\"T42.Workspaces.Control\", payload, instance || \"best\")).returned;\r\n    }\r\n\r\n    const onClick = () => {\r\n        const workspaceName = inputValue;\r\n\r\n        if (workspaceId && !buildMode) {\r\n            hideFeedback();\r\n            if (!workspaceName) {\r\n                showFeedback(\"Please provide a valid name\");\r\n                return;\r\n            }\r\n\r\n            if (shouldSave) {\r\n                return;\r\n            }\r\n\r\n            setShouldSave(true);\r\n        } else if (workspaceId) {\r\n            generateLayout(workspaceName, workspaceId).then((layout) => {\r\n                exportJson(layout, workspaceName);\r\n            }).catch((err) => {\r\n                showFeedback(err.message);\r\n            });\r\n        }\r\n    }\r\n\r\n    return (<button onClick={onClick} id=\"saveButton\" type=\"button\" className=\"btn btn-primary\">\r\n        {buildMode ? \"Download\" : \"Save\"}\r\n    </button>);\r\n};\r\n\r\nexport default SaveWorkspaceButton;","import React, {\r\n    useContext,\r\n    useEffect,\r\n    useLayoutEffect,\r\n    useState\r\n} from \"react\";\r\nimport { SaveWorkspacePopupProps } from \"../../../types/internal\";\r\nimport Feedback from \"../Feedback\";\r\nimport SaveContextCheckbox from \"./SaveContextCheckbox\";\r\nimport SaveWorkspaceButton from \"./SaveWorkspaceButton\";\r\nimport withGlueInstance from \"../../../withGlueInstance\";\r\n\r\nconst SaveWorkspacePopup: React.FC<SaveWorkspacePopupProps> = ({ workspaceId, resizePopup, hidePopup, buildMode, glue, ...props }) => {\r\n    const inputRef = React.createRef<HTMLInputElement>();\r\n    const containerRef = React.createRef<HTMLDivElement>();\r\n\r\n    const [shouldSaveContext, setShouldSaveContext] = useState(false);\r\n    const [feedbackMessage, setFeedbackMessage] = useState(\"\");\r\n    const [workspaceName, setWorkspaceName] = useState(\"\");\r\n\r\n    const refreshHeight = () => {\r\n        if (!containerRef?.current) {\r\n            return;\r\n        }\r\n\r\n        const bounds = containerRef.current.getBoundingClientRect();\r\n        resizePopup({\r\n            height: bounds.height,\r\n            width: 300\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        refreshHeight();\r\n    }, [feedbackMessage, workspaceId]);\r\n\r\n    useEffect(() => {\r\n        let shouldUpdate = true;\r\n        \r\n        glue.workspaces.getAllWorkspaces().then((allWorkspaces: any[]) => {\r\n            const myWorkspace = allWorkspaces.find((w) => w.id === workspaceId);\r\n            if (shouldUpdate) {\r\n                setWorkspaceName(myWorkspace.layoutName || \"\");\r\n            }\r\n        });\r\n\r\n        return () => {\r\n            shouldUpdate = false;\r\n        }\r\n    }, [workspaceId]);\r\n\r\n    const clearInput = () => {\r\n        setWorkspaceName(\"\");\r\n    }\r\n\r\n    return (\r\n        <div {...props} onClick={(e) => e.stopPropagation()} ref={containerRef} className=\"container-fluid save-workspace\">\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h5 className=\"border-bottom border-secondary pb-1 my-3\">Save Workspace</h5>\r\n                </div>\r\n            </div>\r\n            <div className=\"row mb-2\">\r\n                <div className=\"col\">\r\n                    <input ref={inputRef}\r\n                        value={workspaceName}\r\n                        onChange={(e) => setWorkspaceName(e.target.value)}\r\n                        onClick={(e) => setFeedbackMessage(\"\")}\r\n                        className=\"form-control mr-1\"\r\n                        type=\"text\"\r\n                        placeholder=\"Workspace name\"\r\n                        id=\"js-workspace-name\" />\r\n                </div>\r\n            </div>\r\n            <div className=\"row  align-items-center pb-2\">\r\n                <div className=\"col\">\r\n                    {!buildMode &&\r\n                        <SaveContextCheckbox\r\n                            changeChecked={(v) => setShouldSaveContext(v)}\r\n                            refreshHeight={refreshHeight}\r\n                        />}\r\n                </div>\r\n\r\n                <div className=\"col  text-right\">\r\n                    <SaveWorkspaceButton\r\n                        clearInput={clearInput}\r\n                        inputValue={workspaceName}\r\n                        workspaceId={workspaceId}\r\n                        shouldSaveContext={shouldSaveContext}\r\n                        showFeedback={setFeedbackMessage}\r\n                        hideFeedback={() => setFeedbackMessage(\"\")}\r\n                        hidePopup={hidePopup}\r\n                        buildMode={buildMode}\r\n                        glue={glue}\r\n                    />\r\n                </div>\r\n            </div>\r\n            {feedbackMessage && <Feedback errMessage={feedbackMessage} />}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default withGlueInstance(SaveWorkspacePopup);","/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\nfunction t(t,e,n,i){return new(n||(n=Promise))((function(o,s){function r(t){try{c(i.next(t))}catch(t){s(t)}}function a(t){try{c(i.throw(t))}catch(t){s(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,a)}c((i=i.apply(t,e||[])).next())}))}var e=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:{};function n(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error(\"Dynamic requires are not currently supported by @rollup/plugin-commonjs\")}(null==e&&n.path)}},n.exports),n.exports}var i=n((function(t,e){!function(e){var n={config:{},container:{},controls:{},errors:{},items:{},utils:{}};n.utils.F=function(){},n.utils.extend=function(t,e){t.prototype=n.utils.createObject(e.prototype),t.prototype.contructor=t},n.utils.createObject=function(t){return\"function\"==typeof Object.create?Object.create(t):(n.utils.F.prototype=t,new n.utils.F)},n.utils.objectKeys=function(t){var e,n;if(\"function\"==typeof Object.keys)return Object.keys(t);for(n in e=[],t)e.push(n);return e},n.utils.getHashValue=function(t){var e=location.hash.match(new RegExp(t+\"=([^&]*)\"));return e?e[1]:null},n.utils.getQueryStringParam=function(t){if(window.location.hash)return n.utils.getHashValue(t);if(!window.location.search)return null;var e,i,o=window.location.search.substr(1).split(\"&\"),s={};for(i=0;i<o.length;i++)s[(e=o[i].split(\"=\"))[0]]=e[1];return s[t]||null},n.utils.copy=function(t,e){for(var n in e)t[n]=e[n];return t},n.utils.animFrame=function(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)})((function(){t()}))},n.utils.indexOf=function(t,e){if(!(e instanceof Array))throw new Error(\"Haystack is not an Array\");if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},\"function\"!=typeof/./&&\"object\"!=typeof Int8Array?n.utils.isFunction=function(t){return\"function\"==typeof t||!1}:n.utils.isFunction=function(t){return\"[object Function]\"===toString.call(t)},n.utils.fnBind=function(t,e,n){if(void 0!==Function.prototype.bind)return Function.prototype.bind.apply(t,[e].concat(n||[]));var i=function(){var o=(n||[]).concat(Array.prototype.slice.call(arguments,0));if(!(this instanceof i))return t.apply(e,o);t.apply(this,o)};return i.prototype=t.prototype,i},n.utils.removeFromArray=function(t,e){var i=n.utils.indexOf(t,e);if(-1===i)throw new Error(\"Can't remove item from array. Item is not in the array\");e.splice(i,1)},n.utils.now=function(){return\"function\"==typeof Date.now?Date.now():(new Date).getTime()},n.utils.getUniqueId=function(){return(1e15*Math.random()).toString(36).replace(\".\",\"\")},n.utils.filterXss=function(t,e){var n=t.replace(/javascript/gi,\"j&#97;vascript\").replace(/expression/gi,\"expr&#101;ssion\").replace(/onload/gi,\"onlo&#97;d\").replace(/script/gi,\"&#115;cript\").replace(/onerror/gi,\"on&#101;rror\");return!0===e?n:n.replace(/>/g,\"&gt;\").replace(/</g,\"&lt;\")},n.utils.stripTags=function(t){return e.trim(t.replace(/(<([^>]+)>)/gi,\"\"))},n.utils.EventEmitter=function(){this._mSubscriptions={},this._mSubscriptions[n.utils.EventEmitter.ALL_EVENT]=[],this.on=function(t,e,i){if(!n.utils.isFunction(e))throw new Error(\"Tried to listen to event \"+t+\" with non-function callback \"+e);this._mSubscriptions[t]||(this._mSubscriptions[t]=[]),this._mSubscriptions[t].push({fn:e,ctx:i})},this.emit=function(t){var e,i,o;o=Array.prototype.slice.call(arguments,1);var s=this._mSubscriptions[t];if(s)for(s=s.slice(),e=0;e<s.length;e++)i=s[e].ctx||{},s[e].fn.apply(i,o);o.unshift(t);var r=this._mSubscriptions[n.utils.EventEmitter.ALL_EVENT].slice();for(e=0;e<r.length;e++)i=r[e].ctx||{},r[e].fn.apply(i,o)},this.unbind=function(t,e,n){if(this._mSubscriptions[t]){var i,o=!1;for(i=0;i<this._mSubscriptions[t].length;i++)e&&this._mSubscriptions[t][i].fn!==e||n&&n!==this._mSubscriptions[t][i].ctx||(this._mSubscriptions[t].splice(i,1),o=!0);if(!1===o)throw new Error(\"Nothing to unbind for \"+t)}},this.off=this.unbind,this.trigger=this.emit},n.utils.EventEmitter.ALL_EVENT=\"__all\",n.utils.DragListener=function(t,i){n.utils.EventEmitter.call(this),this._eElement=e(t),this._oDocument=e(document),this._eBody=e(document.body),this._nButtonCode=i||0,this._nDelay=200,this._nDistance=10,this._nX=0,this._nY=0,this._nOriginalX=0,this._nOriginalY=0,this._bDragging=!1,this._fMove=n.utils.fnBind(this.onMouseMove,this),this._fUp=n.utils.fnBind(this.onMouseUp,this),this._fDown=n.utils.fnBind(this.onMouseDown,this),this._eElement.on(\"mousedown touchstart\",this._fDown)},n.utils.DragListener.timeout=null,n.utils.copy(n.utils.DragListener.prototype,{destroy:function(){this._eElement.unbind(\"mousedown touchstart\",this._fDown),this._oDocument.unbind(\"mouseup touchend\",this._fUp),this._eElement=null,this._oDocument=null,this._eBody=null},onMouseDown:function(t){if(t.preventDefault(),0==t.button||\"touchstart\"===t.type){var e=this._getCoordinates(t);this._nOriginalX=e.x,this._nOriginalY=e.y,this._oDocument.on(\"mousemove touchmove\",this._fMove),this._oDocument.one(\"mouseup touchend\",this._fUp),this._timeout=setTimeout(n.utils.fnBind((function(){this._startDrag(t)}),this),this._nDelay)}},onMouseMove:function(t){if(null!=this._timeout){t.preventDefault();var e=this._getCoordinates(t);this._nX=e.x-this._nOriginalX,this._nY=e.y-this._nOriginalY,!1===this._bDragging&&(Math.abs(this._nX)>this._nDistance||Math.abs(this._nY)>this._nDistance)&&(clearTimeout(this._timeout),this._startDrag(t)),this._bDragging&&this.emit(\"drag\",this._nX,this._nY,t)}},onMouseUp:function(t){null!=this._timeout&&(clearTimeout(this._timeout),this._eBody.removeClass(\"lm_dragging\"),this._eElement.removeClass(\"lm_dragging\"),this._oDocument.find(\"iframe\").css(\"pointer-events\",\"\"),this._oDocument.unbind(\"mousemove touchmove\",this._fMove),this._oDocument.unbind(\"mouseup touchend\",this._fUp),!0===this._bDragging&&(this._bDragging=!1,this.emit(\"dragStop\",t,this._nOriginalX+this._nX)))},_startDrag:function(t){this._bDragging=!0,this._eBody.addClass(\"lm_dragging\"),this._eElement.addClass(\"lm_dragging\"),this._oDocument.find(\"iframe\").css(\"pointer-events\",\"none\"),this.emit(\"dragStart\",this._nOriginalX,this._nOriginalY,t)},_getCoordinates:function(t){return{x:(t=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0]:t).pageX,y:t.pageY}}}),n.LayoutManager=function(t,i,o){if(!e&&window.$&&(e=window.$),!e||\"function\"!=typeof e.noConflict){throw'Please either expose $ on GoldenLayout\\'s scope (e.g. window) or add \"jquery\" to ',\"your paths when using RequireJS/AMD\",new Error('jQuery is missing as dependency for GoldenLayout. Please either expose $ on GoldenLayout\\'s scope (e.g. window) or add \"jquery\" to your paths when using RequireJS/AMD')}n.utils.EventEmitter.call(this),this.isInitialised=!1,this._isFullPage=!1,this._resizeTimeoutId=null,this._components={\"lm-react-component\":n.utils.ReactComponentHandler},this._itemAreas=[],this._resizeFunction=n.utils.fnBind(this._onResize,this),this._unloadFunction=n.utils.fnBind(this._onUnload,this),this._maximizedItem=null,this._maximizePlaceholder=e('<div class=\"lm_maximise_place\"></div>'),this._creationTimeoutPassed=!1,this._subWindowsCreated=!1,this._dragSources=[],this._dragProxies=[],this._updatingColumnsResponsive=!1,this._firstLoad=!0,this._componentFactory=o,this.width=null,this.height=null,this.root=null,this.openPopouts=[],this.selectedItem=null,this.isSubWindow=!1,this.eventHub=new n.utils.EventHub(this),this.config=this._createConfig(t),this.container=i,this.dropTargetIndicator=null,this.transitionIndicator=null,this.tabDropPlaceholder=e('<div class=\"lm_drop_tab_placeholder\"></div>'),!0===this.isSubWindow&&e(\"body\").css(\"visibility\",\"hidden\"),this._typeToItem={column:n.utils.fnBind(n.items.RowOrColumn,this,[!0]),row:n.utils.fnBind(n.items.RowOrColumn,this,[!1]),stack:n.items.Stack,component:n.items.Component}},n.LayoutManager.__lm=n,n.LayoutManager.minifyConfig=function(t){return(new n.utils.ConfigMinifier).minifyConfig(t)},n.LayoutManager.unminifyConfig=function(t){return(new n.utils.ConfigMinifier).unminifyConfig(t)},n.utils.copy(n.LayoutManager.prototype,{registerComponent:function(t,e){if(\"function\"!=typeof e)throw new Error(\"Please register a constructor function\");if(void 0!==this._components[t])throw new Error(\"Component \"+t+\" is already registered\");this._components[t]=e},toConfig:function(t){var e,i,o;if(!1===this.isInitialised)throw new Error(\"Can't create config, layout not yet initialised\");if(t&&!(t instanceof n.items.AbstractContentItem))throw new Error(\"Root must be a ContentItem\");for((e={settings:n.utils.copy({},this.config.settings),dimensions:n.utils.copy({},this.config.dimensions),labels:n.utils.copy({},this.config.labels),context:n.utils.copy({},this.config.context),workspacesOptions:n.utils.copy({},this.config.workspacesOptions)}).content=[],(i=function(t,e){var n,o;for(n in e.config)\"content\"!==n&&(t[n]=e.config[n]);if(e.contentItems.length)for(t.content=[],o=0;o<e.contentItems.length;o++)t.content[o]={},i(t.content[o],e.contentItems[o])})(e,t?{contentItems:[t]}:this.root),this._$reconcilePopoutWindows(),e.openPopouts=[],o=0;o<this.openPopouts.length;o++)e.openPopouts.push(this.openPopouts[o].toConfig());return e.maximizedItemId=this._maximizedItem?\"__glMaximised\":null,e},getComponent:function(t){if(void 0===this._components[t])throw new n.errors.ConfigurationError('Unknown component \"'+t+'\"');return this._components[t]},init:function(){if(!1===this._subWindowsCreated&&(this._createSubWindows(),this._subWindowsCreated=!0),\"loading\"!==document.readyState&&null!==document.body){if(!0===this.isSubWindow&&!1===this._creationTimeoutPassed)return setTimeout(n.utils.fnBind(this.init,this),7),void(this._creationTimeoutPassed=!0);!0===this.isSubWindow&&this._adjustToWindowMode(),this._setContainer(),this.dropTargetIndicator=new n.controls.DropTargetIndicator(this.container),this.transitionIndicator=new n.controls.TransitionIndicator,this.updateSize(),this._create(this.config),this._bindEvents(),this.isInitialised=!0,this._adjustColumnsResponsive(),this.emit(\"initialised\")}else e(document).ready(n.utils.fnBind(this.init,this))},updateSize:function(t,e){2===arguments.length?(this.width=t,this.height=e):(this.width=this.container.width(),this.height=this.container.height()),!0===this.isInitialised&&(this.root.callDownwards(\"setSize\",[this.width,this.height]),this._maximizedItem&&(this._maximizedItem.element.width(t),this._maximizedItem.element.height(e),this._maximizedItem.callDownwards(\"setSize\")),this._adjustColumnsResponsive())},destroy:function(){!1!==this.isInitialised&&(this._onUnload(),e(window).off(\"resize\",this._resizeFunction),e(window).off(\"unload beforeunload\",this._unloadFunction),this.root.callDownwards(\"_$destroy\",[],!0),this.root.contentItems=[],this.tabDropPlaceholder.remove(),this.dropTargetIndicator.destroy(),this.transitionIndicator.destroy(),this.eventHub.destroy(),this._dragSources.forEach((function(t){\"function\"==typeof t._dragListener.destroy&&t._dragListener.destroy(),t._element=null,t._itemConfig=null,t._dragListener=null})),this._dragSources=[])},createContentItem:function(t,e){var i;if(\"string\"!=typeof t.type)throw new n.errors.ConfigurationError(\"Missing parameter 'type'\",t);if(\"react-component\"===t.type&&(t.type=\"component\",t.componentName=\"lm-react-component\"),!this._typeToItem[t.type])throw i=\"Unknown type '\"+t.type+\"'. Valid types are \"+n.utils.objectKeys(this._typeToItem).join(\",\"),new n.errors.ConfigurationError(i);return\"component\"!==t.type||e instanceof n.items.Stack||!e||!0===this.isSubWindow&&e instanceof n.items.Root||(t={type:\"stack\",width:t.width,height:t.height,content:[t]}),new this._typeToItem[t.type](this,t,e)},createPopout:function(t,e,i,o){var s,r,a,c,l,d,h=t,u=t instanceof n.items.AbstractContentItem,p=this;if(i=i||null,u){for(h=this.toConfig(t).content,i=n.utils.getUniqueId(),c=t.parent,l=t;1===c.contentItems.length&&!c.isRoot;)c=c.parent,l=l.parent;c.addId(i),isNaN(o)&&(o=n.utils.indexOf(l,c.contentItems))}else h instanceof Array||(h=[h]);return!e&&u&&(s=window.screenX||window.screenLeft,r=window.screenY||window.screenTop,e={left:s+(a=t.element.offset()).left,top:r+a.top,width:t.element.width(),height:t.element.height()}),e||u||(e={left:window.screenX||window.screenLeft+20,top:window.screenY||window.screenTop+20,width:500,height:309}),u&&t.remove(),(d=new n.controls.BrowserPopout(h,e,i,o,this)).on(\"initialised\",(function(){p.emit(\"windowOpened\",d)})),d.on(\"closed\",(function(){p._$reconcilePopoutWindows()})),this.openPopouts.push(d),d},createDragSource:function(t,i,o){this.config.settings.constrainDragToContainer=!1;var s=new n.controls.DragSource(e(t),i,this,o);return this._dragSources.push(s),s},selectItem:function(t,e){if(!0!==this.config.settings.selectionEnabled)throw new Error(\"Please set selectionEnabled to true to use this feature\");t!==this.selectedItem&&(null!==this.selectedItem&&this.selectedItem.deselect(),t&&!0!==e&&t.select(),this.selectedItem=t,this.emit(\"selectionChanged\",t))},_$maximiseItem:function(t){null!==this._maximizedItem&&this._$minimizeItem(this._maximizedItem),this._maximizedItem=t,this._maximizedItem.addId(\"__glMaximised\"),t.element.addClass(\"lm_maximised\"),t.element.after(this._maximizePlaceholder),this.root.element.prepend(t.element),t.element.width(this.container.width()),t.element.height(this.container.height()),t.callDownwards(\"setSize\"),this._maximizedItem.emit(\"maximized\"),this.emit(\"stateChanged\")},_$minimiseItem:function(t){t.element.removeClass(\"lm_maximised\"),t.removeId(\"__glMaximised\"),this._maximizePlaceholder.after(t.element),this._maximizePlaceholder.remove(),t.parent.callDownwards(\"setSize\"),this._maximizedItem=null,t.emit(\"minimized\"),this.emit(\"stateChanged\")},_$closeWindow:function(){window.setTimeout((function(){window.close()}),1)},_$getArea:function(t,e){var n,i,o=1/0,s=null;for(n=0;n<this._itemAreas.length;n++)t>(i=this._itemAreas[n]).x1&&t<i.x2&&e>i.y1&&e<i.y2&&o>i.surface&&(o=i.surface,s=i);return s},_$createRootItemAreas:function(){var t={y2:0,x2:0,y1:\"y2\",x1:\"x2\"};for(var e in t){var n=this.root._$getArea();n.side=e,n[e]=t[e]?n[t[e]]-50:\"y2\"===e?50+this.root.element.offset().top:50,n.surface=(n.x2-n.x1)*(n.y2-n.y1),this._itemAreas.push(n)}},_$calculateItemAreas:function(){var t,e,i=this._getAllContentItems();if(this._itemAreas=[],1!==i.length){for(this._$createRootItemAreas(),t=0;t<i.length;t++)if(i[t].isStack&&null!==(e=i[t]._$getArea()))if(e instanceof Array)this._itemAreas=this._itemAreas.concat(e);else{this._itemAreas.push(e);var o={};n.utils.copy(o,e),n.utils.copy(o,e.contentItem._contentAreaDimensions.header.highlightArea),o.surface=(o.x2-o.x1)*(o.y2-o.y1),this._itemAreas.push(o)}\"workspace\"===this.config.settings.mode&&(this._itemAreas=[this._itemAreas[this._itemAreas.length-1]])}else this._itemAreas.push(this.root._$getArea())},_$normalizeContentItem:function(t,i){if(!t)throw new Error(\"No content item defined\");if(n.utils.isFunction(t)&&(t=t()),t instanceof n.items.AbstractContentItem)return t;if(e.isPlainObject(t)&&t.type){var o=this.createContentItem(t,i);return o.callDownwards(\"_$init\"),o}throw new Error(\"Invalid contentItem\")},_$reconcilePopoutWindows:function(){var t,e=[];for(t=0;t<this.openPopouts.length;t++)!1===this.openPopouts[t].getWindow().closed?e.push(this.openPopouts[t]):this.emit(\"windowClosed\",this.openPopouts[t]);this.openPopouts.length!==e.length&&(this.emit(\"stateChanged\"),this.openPopouts=e)},_getAllContentItems:function(){var t=[],e=function(n){if(t.push(n),n.contentItems instanceof Array)for(var i=0;i<n.contentItems.length;i++)e(n.contentItems[i])};return e(this.root),t},_bindEvents:function(){this._isFullPage&&e(window).resize(this._resizeFunction),e(window).on(\"unload beforeunload\",this._unloadFunction)},_onResize:function(){clearTimeout(this._resizeTimeoutId),this._resizeTimeoutId=setTimeout(n.utils.fnBind(this.updateSize,this),100)},_createConfig:function(t){var i=n.utils.getQueryStringParam(\"gl-window\");i&&(this.isSubWindow=!0,t=localStorage.getItem(i),t=JSON.parse(t),t=(new n.utils.ConfigMinifier).unminifyConfig(t),localStorage.removeItem(i)),t=e.extend(!0,{},n.config.defaultConfig,t);var o=function(t){for(var e in t)\"props\"!==e&&\"object\"==typeof t[e]?o(t[e]):\"type\"===e&&\"react-component\"===t[e]&&(t.type=\"component\",t.componentName=\"lm-react-component\")};return o(t),!1===t.settings.hasHeaders&&(t.dimensions.headerHeight=0),t},_adjustToWindowMode:function(){var t=e('<div class=\"lm_popin\" title=\"'+this.config.labels.popin+'\"><div class=\"lm_icon\"></div><div class=\"lm_bg\"></div></div>');t.click(n.utils.fnBind((function(){this.emit(\"popIn\")}),this)),document.title=n.utils.stripTags(this.config.content[0].title),e(\"head\").append(e(\"body link, body style, template, .gl_keep\")),this.container=e(\"body\").html(\"\").css(\"visibility\",\"visible\").append(t);document.body.offsetHeight;window.__glInstance=this},_createSubWindows:function(){var t,e;for(t=0;t<this.config.openPopouts.length;t++)e=this.config.openPopouts[t],this.createPopout(e.content,e.dimensions,e.parentId,e.indexInParent)},_setContainer:function(){var t=e(this.container||\"body\");if(0===t.length)throw new Error(\"GoldenLayout container not found\");if(t.length>1)throw new Error(\"GoldenLayout more than one container element specified\");t[0]===document.body&&(this._isFullPage=!0,e(\"html, body\").css({height:\"100%\",margin:0,padding:0,overflow:\"hidden\"})),this.container=t},_create:function(t){var e;if(!(t.content instanceof Array))throw e=void 0===t.content?\"Missing setting 'content' on top level of configuration\":\"Configuration parameter 'content' must be an array\",new n.errors.ConfigurationError(e,t);if(t.content.length>1)throw e=\"Top level content can't contain more then one element.\",new n.errors.ConfigurationError(e,t);this.root=new n.items.Root(this,{content:t.content},this.container),this.root.callDownwards(\"_$init\"),\"__glMaximised\"===t.maximizedItemId&&this.root.getItemsById(t.maximizedItemId)[0].toggleMaximise()},_onUnload:function(){if(!0===this.config.settings.closePopoutsOnUnload)for(var t=0;t<this.openPopouts.length;t++)this.openPopouts[t].close()},_adjustColumnsResponsive:function(){if(this._useResponsiveLayout()&&!this._updatingColumnsResponsive&&this.config.dimensions&&this.config.dimensions.minItemWidth&&0!==this.root.contentItems.length&&this.root.contentItems[0].isRow){this._firstLoad=!1;var t=this.root.contentItems[0].contentItems.length;if(!(t<=1)){var e=this.config.dimensions.minItemWidth;if(!(t*e<=this.width)&&this.container.is(\":visible\")){this._updatingColumnsResponsive=!0;for(var n=t-Math.max(Math.floor(this.width/e),1),i=this.root.contentItems[0],o=this._findAllStackContainers()[0],s=0;s<n;s++){var r=i.contentItems[i.contentItems.length-1];this._addChildContentItemsToContainer(o,r)}this._updatingColumnsResponsive=!1}}}else this._firstLoad=!1},_useResponsiveLayout:function(){return this.config.settings&&(\"always\"==this.config.settings.responsiveMode||\"onload\"==this.config.settings.responsiveMode&&this._firstLoad)},_addChildContentItemsToContainer:function(t,e){\"stack\"===e.type?e.contentItems.forEach((function(n){t.addChild(n),e.removeChild(n,!0)})):e.contentItems.forEach(n.utils.fnBind((function(e){this._addChildContentItemsToContainer(t,e)}),this))},_findAllStackContainers:function(){var t=[];return this._findAllStackContainersRecursive(t,this.root),t},_findAllStackContainersRecursive:function(t,e){e.contentItems.forEach(n.utils.fnBind((function(e){\"stack\"==e.type?t.push(e):e.isComponent||this._findAllStackContainersRecursive(t,e)}),this))}}),n.LayoutManager.default=n.LayoutManager,t.exports=n.LayoutManager,window.GoldenLayout=n.LayoutManager,n.config.defaultConfig={openPopouts:[],settings:{hasHeaders:!0,constrainDragToContainer:!0,reorderEnabled:!0,selectionEnabled:!1,popoutWholeStack:!1,blockedPopoutsThrowError:!0,closePopoutsOnUnload:!0,showMinimizeIcon:!1,showPopoutIcon:!0,showMaximizeIcon:!0,showCloseIcon:!0,responsiveMode:\"always\",tabOverlapAllowance:0,reorderOnTabMenuClick:!0,tabControlOffset:10,mode:\"default\"},dimensions:{borderWidth:5,borderGrabWidth:15,minItemHeight:10,minItemWidth:10,headerHeight:20,dragProxyWidth:500,dragProxyHeight:500},labels:{close:\"close\",maximize:\"maximize\",restore:\"restore\",minimize:\"minimize\",popout:\"eject\",popin:\"pop in\",tabDropdown:\"additional tabs\"},workspacesOptions:{}},n.config.itemDefaultConfig={isClosable:!0,reorderEnabled:!0,title:\"\",workspacesConfig:{}},n.container.ItemContainer=function(t,i,o){n.utils.EventEmitter.call(this),this.width=null,this.height=null,this.title=t.componentName,this.parent=i,this.layoutManager=o,this.isHidden=!1,this._config=t,this._element=e(['<div class=\"lm_item_container\">','<div class=\"lm_content\"></div>',\"</div>\"].join(\"\")),this._contentElement=this._element.find(\".lm_content\")},n.utils.copy(n.container.ItemContainer.prototype,{getElement:function(){return this._contentElement},hide:function(){this.emit(\"hide\"),this.isHidden=!0,this._element.hide()},show:function(){this.emit(\"show\"),this.isHidden=!1,this._element.show(),0==this.height&&0==this.width||this.emit(\"shown\")},setSize:function(t,e){for(var n,i,o,s,r=this.parent,a=this;!r.isColumn&&!r.isRow;)if(a=r,(r=r.parent).isRoot)return!1;for(n=(\"height\"===(i=r.isColumn?\"height\":\"width\")?e:t)/(this[i]*(1/(a.config[i]/100)))*100,o=(a.config[i]-n)/(r.contentItems.length-1),s=0;s<r.contentItems.length;s++)r.contentItems[s]===a?r.contentItems[s].config[i]=n:r.contentItems[s].config[i]+=o;return r.callDownwards(\"setSize\"),!0},close:function(){this._config.isClosable&&(this.emit(\"close\"),this.parent.close())},getState:function(){return this._config.componentState},extendState:function(t){this.setState(e.extend(!0,this.getState(),t))},setState:function(t){this._config.componentState=t,this.parent.emitBubblingEvent(\"stateChanged\")},setTitle:function(t){this.parent.setTitle(t)},_$setSize:function(t,e){if(t!==this.width||e!==this.height){this.width=t,this.height=e;var n=this._contentElement[0],i=n.offsetWidth-n.clientWidth,o=n.offsetHeight-n.clientHeight;this._contentElement.width(this.width-i).height(this.height-o),this.emit(\"resize\")}}}),n.controls.BrowserPopout=function(t,e,i,o,s){n.utils.EventEmitter.call(this),this.isInitialised=!1,this._config=t,this._dimensions=e,this._parentId=i,this._indexInParent=o,this._layoutManager=s,this._popoutWindow=null,this._id=null,this._createWindow()},n.utils.copy(n.controls.BrowserPopout.prototype,{toConfig:function(){if(!1===this.isInitialised)throw new Error(\"Can't create config, layout not yet initialised\");return{dimensions:{width:this.getGlInstance().width,height:this.getGlInstance().height,left:this._popoutWindow.screenX||this._popoutWindow.screenLeft,top:this._popoutWindow.screenY||this._popoutWindow.screenTop},content:this.getGlInstance().toConfig().content,parentId:this._parentId,indexInParent:this._indexInParent}},getGlInstance:function(){return this._popoutWindow.__glInstance},getWindow:function(){return this._popoutWindow},close:function(){if(this.getGlInstance())this.getGlInstance()._$closeWindow();else try{this.getWindow().close()}catch(t){}},popIn:function(){var t,n;this._indexInParent;this._parentId&&(t=e.extend(!0,{},this.getGlInstance().toConfig()).content[0],(n=this._layoutManager.root.getItemsById(this._parentId)[0])||(n=this._layoutManager.root.contentItems.length>0?this._layoutManager.root.contentItems[0]:this._layoutManager.root)),n.addChild(t,this._indexInParent),this.close()},_createWindow:function(){var t,i=this._createUrl(),o=Math.floor(1e6*Math.random()).toString(36),s=this._serializeWindowOptions({width:this._dimensions.width,height:this._dimensions.height,innerWidth:this._dimensions.width,innerHeight:this._dimensions.height,menubar:\"no\",toolbar:\"no\",location:\"no\",personalbar:\"no\",resizable:\"yes\",scrollbars:\"no\",status:\"no\"});if(this._popoutWindow=window.open(i,o,s),this._popoutWindow)e(this._popoutWindow).on(\"load\",n.utils.fnBind(this._positionWindow,this)).on(\"unload beforeunload\",n.utils.fnBind(this._onClose,this)),t=setInterval(n.utils.fnBind((function(){this._popoutWindow.__glInstance&&this._popoutWindow.__glInstance.isInitialised&&(this._onInitialised(),clearInterval(t))}),this),10);else if(!0===this._layoutManager.config.settings.blockedPopoutsThrowError){var r=new Error(\"Popout blocked\");throw r.type=\"popoutBlocked\",r}},_serializeWindowOptions:function(t){var e,n=[];for(e in t)n.push(e+\"=\"+t[e]);return n.join(\",\")},_createUrl:function(){var t,e={content:this._config},i=\"gl-window-config-\"+n.utils.getUniqueId();e=(new n.utils.ConfigMinifier).minifyConfig(e);try{localStorage.setItem(i,JSON.stringify(e))}catch(t){throw new Error(\"Error while writing to localStorage \"+t.toString())}return 1===(t=document.location.href.split(\"?\")).length?t[0]+\"?gl-window=\"+i:document.location.href+\"&gl-window=\"+i},_positionWindow:function(){this._popoutWindow.moveTo(this._dimensions.left,this._dimensions.top),this._popoutWindow.focus()},_onInitialised:function(){this.isInitialised=!0,this.getGlInstance().on(\"popIn\",this.popIn,this),this.emit(\"initialised\")},_onClose:function(){setTimeout(n.utils.fnBind(this.emit,this,[\"closed\"]),50)}}),n.controls.DragProxy=function(t,i,o,s,r,a){n.utils.EventEmitter.call(this),this._dragListener=o,this._layoutManager=s,this._contentItem=r,this._originalParent=a,this._area=null,this._lastValidArea=null,this._dragListener.on(\"drag\",this._onDrag,this),this._dragListener.on(\"dragStop\",this._onDrop,this),this.element=e(n.controls.DragProxy._template),a&&a._side&&(this._sided=a._sided,this.element.addClass(\"lm_\"+a._side),[\"right\",\"bottom\"].indexOf(a._side)>=0&&this.element.find(\".lm_content\").after(this.element.find(\".lm_header\"))),this.element.css({left:t,top:i}),this.element.find(\".lm_tab\").attr(\"title\",n.utils.stripTags(this._contentItem.config.title)),this.element.find(\".lm_title\").html(this._contentItem.config.title),this.childElementContainer=this.element.find(\".lm_content\"),this.childElementContainer.append(r.element),this._originalParent&&this._originalParent.layoutManager.config&&this._originalParent.layoutManager.config.settings&&this._originalParent.layoutManager.config.settings.disableDragProxy&&this.element.find(\".lm_content\").css(\"display\",\"none\"),this._updateTree(),this._layoutManager._$calculateItemAreas(),this._setDimensions(),e(document.body).append(this.element);var c=this._layoutManager.container.offset();this._minX=c.left,this._minY=c.top,this._maxX=this._layoutManager.container.width()+this._minX,this._maxY=this._layoutManager.container.height()+this._minY,this._width=this._layoutManager.config.dimensions.dragProxyWidth,this._height=this._layoutManager.config.dimensions.dragProxyHeight,this._setDropPosition(t,i)},n.controls.DragProxy._template='<div class=\"lm_dragProxy\"><div class=\"lm_header\"><ul class=\"lm_tabs\"><li class=\"lm_tab lm_active\"><i class=\"lm_left\"></i><span class=\"lm_title\"></span><i class=\"lm_right\"></i></li></ul></div><div class=\"lm_content\"></div></div>',n.utils.copy(n.controls.DragProxy.prototype,{_onDrag:function(t,e,n){var i=(n=n.originalEvent&&n.originalEvent.touches?n.originalEvent.touches[0]:n).pageX,o=n.pageY;(i>this._minX&&i<this._maxX&&o>this._minY&&o<this._maxY||!0!==this._layoutManager.config.settings.constrainDragToContainer)&&this._setDropPosition(i,o)},_setDropPosition:function(t,e){this.element.css({left:t,top:e}),this._area=this._layoutManager._$getArea(t,e),null!==this._area&&(this._lastValidArea=this._area,this._area.contentItem._$highlightDropZone(t,e,this._area))},_onDrop:function(t){this._layoutManager.dropTargetIndicator.hide(),this.element.find(\".lm_content\").css(\"display\",\"\"),null===this._area||t&&t.canceled?null===this._lastValidArea||t&&t.canceled?!this._originalParent||t&&t.canceled?this._contentItem._$destroy():this._originalParent.addChild(this._contentItem):this._lastValidArea.contentItem._$onDrop(this._contentItem,this._lastValidArea):(this._area.contentItem._$onDrop(this._contentItem,this._area),this._originalParent&&this._area.contentItem!==this._originalParent&&this._layoutManager.emit(\"parentChanged\",this._contentItem,this._originalParent)),this.element.remove();const e=this._layoutManager._dragProxies.indexOf(this);e>-1&&this._layoutManager._dragProxies.splice(e,1),this._layoutManager.emit(\"itemDropped\",this._contentItem)},_updateTree:function(){this._contentItem.parent&&this._contentItem.parent.removeChild(this._contentItem,!0),this._contentItem._$setParent(this)},_setDimensions:function(){this._contentItem.callDownwards(\"_$show\")}}),n.controls.DragSource=function(t,e,n,i){this._element=t,this._itemConfig=e,this._layoutManager=n,this._dragListener=null,this._createDragListener(i)},n.utils.copy(n.controls.DragSource.prototype,{_createDragListener:function(t){null!==this._dragListener&&this._dragListener.destroy(),this._dragListener=t||new n.utils.DragListener(this._element),\"function\"==typeof this._dragListener.on&&(this._dragListener.on(\"dragStart\",this._onDragStart,this),this._dragListener.on(\"dragStop\",this._createDragListener,this))},_onDragStart:function(t,i){var o=this._itemConfig;n.utils.isFunction(o)&&(o=o());var s=this._layoutManager._$normalizeContentItem(e.extend(!0,{},o)),r=new n.controls.DragProxy(t,i,this._dragListener,this._layoutManager,s,null);this._layoutManager.transitionIndicator.transitionElements(this._element,r.element)}}),n.controls.DropTargetIndicator=function(){this.element=e(n.controls.DropTargetIndicator._template),e(document.body).append(this.element)},n.controls.DropTargetIndicator._template='<div class=\"lm_dropTargetIndicator\"><div class=\"lm_inner\"><span></span><span></span><span></span></div></div>',n.utils.copy(n.controls.DropTargetIndicator.prototype,{destroy:function(){this.element.remove()},highlight:function(t,e,n,i){this.highlightArea({x1:t,y1:e,x2:n,y2:i})},highlightArea:function(t){this.element.css({left:t.x1,top:t.y1,width:t.x2-t.x1,height:t.y2-t.y1}).show()},hide:function(){this.element.hide()}}),n.controls.Header=function(t,i){if(n.utils.EventEmitter.call(this),this.layoutManager=t,this.element=e(n.controls.Header._template),!0===this.layoutManager.config.settings.selectionEnabled&&(this.element.addClass(\"lm_selectable\"),this.element.on(\"click touchstart\",n.utils.fnBind(this._onHeaderClick,this))),\"workspace\"===this.layoutManager.config.settings.mode&&this.element.addClass(\"header_double\"),\"workspace\"===this.layoutManager.config.settings.mode&&this.layoutManager._componentFactory){const t=this.element.children(\".lm_controls\")[0],e=this.element.children(\".lm_workspace_controls\")[0],n=this.element.children(\".lm_logo\")[0];this.layoutManager._componentFactory.createLogo&&this.layoutManager._componentFactory.createLogo({domNode:n}),this.layoutManager._componentFactory.createAddWorkspace&&this.layoutManager._componentFactory.createAddWorkspace({domNode:e}),this.layoutManager._componentFactory.createSystemButtons&&this.layoutManager._componentFactory.createSystemButtons({domNode:t})}this.tabsContainer=this.element.find(\".lm_tabs\"),this.tabDropdownContainer=this.element.find(\".lm_tabdropdown_list\"),this.tabDropdownContainer.hide(),this.controlsContainer=this.element.find(\".lm_controls\"),this.workspaceControlsContainer=\"workspace\"===this.layoutManager.config.settings.mode?this.element.find(\".lm_workspace_controls\"):void 0,this.tabsControlsContainer=\"workspace\"!==this.layoutManager.config.settings.mode?this.element.find(\".lm_tabs_controls\"):void 0,this.parent=i,this.parent.on(\"resize\",this._updateTabSizesWithoutDropdown,this),this.tabs=[],this.activeContentItem=null,this.closeButton=null,this.tabDropdownButton=null,this.hideAdditionalTabsDropdown=n.utils.fnBind(this._hideAdditionalTabsDropdown,this),e(document).mouseup(this.hideAdditionalTabsDropdown),this._lastVisibleTabIndex=-1,this._tabControlOffset=this.layoutManager.config.settings.tabControlOffset,\"workspace\"===this.layoutManager.config.settings.mode&&this.layoutManager._componentFactory&&this.layoutManager._componentFactory.createSystemButtons||this._createControls()},n.controls.Header._template=['<div class=\"lm_header\">','<div class=\"lm_logo\"></div>','<ul class=\"lm_tabs\"></ul>','<ul class=\"lm_workspace_controls\"></ul>','<ul class=\"lm_tabs_controls\"></ul>','<div class=\"move_area\"></div>','<ul class=\"lm_controls\"></ul>','<ul class=\"lm_tabdropdown_list\"></ul>',\"</div>\"].join(\"\"),n.utils.copy(n.controls.Header.prototype,{createTab:function(t,e){var i,o;for(o=0;o<this.tabs.length;o++)if(this.tabs[o].contentItem===t)return;if(i=new n.controls.Tab(this,t),0===this.tabs.length)return this.tabs.push(i),void this.tabsContainer.append(i.element);void 0===e&&(e=this.tabs.length),e>0?this.tabs[e-1].element.after(i.element):this.tabs[0].element.before(i.element),this.tabs.splice(e,0,i),this._updateTabSizesWithoutDropdown()},removeTab:function(t){for(var e=0;e<this.tabs.length;e++)if(this.tabs[e].contentItem===t)return this.tabs[e]._$destroy(),void this.tabs.splice(e,1);throw new Error(\"contentItem is not controlled by this header\")},setActiveContentItem:function(t){var e,n,i,o;for(e=0;e<this.tabs.length;e++)i=this.tabs[e].contentItem===t,this.tabs[e].setActive(i),!0===i&&(this.activeContentItem=t,this.parent.config.activeItemIndex=e);if(this.layoutManager.config.settings.reorderOnTabMenuClick&&-1!==this._lastVisibleTabIndex&&this.parent.config.activeItemIndex>this._lastVisibleTabIndex){for(o=this.tabs[this.parent.config.activeItemIndex],n=this.parent.config.activeItemIndex;n>0;n--)this.tabs[n]=this.tabs[n-1];this.tabs[0]=o,this.parent.config.activeItemIndex=0}this._updateTabSizesWithoutDropdown(),this.parent.emitBubblingEvent(\"stateChanged\")},position:function(t){var e=this.parent._header.show;return e&&!this.parent._side&&(e=\"top\"),void 0!==t&&this.parent._header.show!=t&&(this.parent._header.show=t,this.parent._setupHeaderPosition()),e},_$setClosable:function(t){return!(!this.closeButton||!this._isClosable())&&(this.closeButton.element[t?\"show\":\"hide\"](),!0)},_$destroy:function(){this.emit(\"destroy\",this);for(var t=0;t<this.tabs.length;t++)this.tabs[t]._$destroy();e(document).off(\"mouseup\",this.hideAdditionalTabsDropdown),this.element.remove()},_getHeaderSetting:function(t){if(t in this.parent._header)return this.parent._header[t]},_createControls:function(){var t,e,i,o,s,r,a,c,l;l=n.utils.fnBind(this._showAdditionalTabsDropdown,this),c=this.layoutManager.config.labels.tabDropdown,this.tabDropdownButton=new n.controls.HeaderButton(this,c,\"lm_tabdropdown\",l),this.tabDropdownButton.element.hide(),this._getHeaderSetting(\"popout\")&&(e=n.utils.fnBind(this._onPopoutClick,this),i=this._getHeaderSetting(\"popout\"),new n.controls.HeaderButton(this,i,\"lm_popout\",e)),this._getHeaderSetting(\"minimize\")&&(minimizeLabel=this._getHeaderSetting(\"minimize\"),minimizeButton=new n.controls.HeaderButton(this,minimizeLabel,\"lm_minimise\",void 0)),this._getHeaderSetting(\"maximize\")&&(\"workspace\"!==this.layoutManager.config.settings.mode&&(r=n.utils.fnBind(this.parent.toggleMaximise,this.parent)),o=this._getHeaderSetting(\"maximize\"),a=new n.controls.HeaderButton(this,o,\"lm_maximise\",r),s=this._getHeaderSetting(\"restore\"),this.parent.on(\"maximized\",(function(){a.element.attr(\"title\",s)})),this.parent.on(\"minimized\",(function(){a.element.attr(\"title\",o)}))),this._isClosable()&&(\"workspace\"!==this.layoutManager.config.settings.mode&&(t=n.utils.fnBind(this.parent.remove,this.parent)),i=this._getHeaderSetting(\"close\"),this.closeButton=new n.controls.HeaderButton(this,i,\"lm_close\",t))},_showAdditionalTabsDropdown:function(){this.tabDropdownContainer.show()},_hideAdditionalTabsDropdown:function(t){this.tabDropdownContainer.hide()},_isClosable:function(){return this.parent.config.isClosable&&this.layoutManager.config.settings.showCloseIcon},_onPopoutClick:function(){this.parent.emit(\"popoutRequested\")},_onHeaderClick:function(t){t.target===this.element[0]&&this.parent.select()},_updateTabSizes:function(t){if(0!==this.tabs.length){this.tabDropdownButton.element.toggle(!0===t);this.element.css(!this.parent._sided?\"width\":\"height\",\"\");var e,n,i,o,s=this.element.outerWidth()-this.controlsContainer.outerWidth()-this._tabControlOffset,r=0,a=0,c=0,l=this.layoutManager.config.settings.tabOverlapAllowance,d=!1,h=this.activeContentItem?this.tabs.indexOf(this.activeContentItem.tab):0,u=this.tabs[h];for(this.parent._sided&&(s=this.element.outerHeight()-this.controlsContainer.outerHeight()-this._tabControlOffset),this._lastVisibleTabIndex=-1,n=0;n<this.tabs.length;n++)if(e=this.tabs[n].element,this.tabsContainer.append(e),r+=e.outerWidth()+parseInt(e.css(\"margin-right\"),10),(a=h<=n?r:r+u.element.outerWidth()+parseInt(u.element.css(\"margin-right\"),10))>s){if(d)n===h&&(e.css({\"z-index\":\"auto\",\"margin-left\":\"\"}),this.tabsContainer.append(e));else if((c=h>0&&h<=n?(a-s)/(n-1):(a-s)/n)<l){for(i=0;i<=n;i++)o=i!==h&&0!==i?\"-\"+c+\"px\":\"\",this.tabs[i].element.css({\"z-index\":n-i,\"margin-left\":o});this._lastVisibleTabIndex=n,this.tabsContainer.append(e)}else d=!0;if(d&&n!==h){if(!t)return void this._updateTabSizes(!0);e.css({\"z-index\":\"auto\",\"margin-left\":\"\"}),this.tabDropdownContainer.append(e)}}else this._lastVisibleTabIndex=n,e.css({\"z-index\":\"auto\",\"margin-left\":\"\"}),this.tabsContainer.append(e)}},_updateTabSizesWithoutDropdown:function(t){if(0!==this.tabs.length){this.element.css(!this.parent._sided?\"width\":\"height\",\"\");this.element.outerWidth(),this.controlsContainer.outerWidth(),this._tabControlOffset;var e,n,i=0,o=(this.layoutManager.config.settings.tabOverlapAllowance,this.activeContentItem?this.tabs.indexOf(this.activeContentItem.tab):0),s=this.tabs[o];for(this.parent._sided&&this.element.outerHeight()-this.controlsContainer.outerHeight()-this._tabControlOffset,n=0;n<this.tabs.length;n++)e=this.tabs[n].element,this.tabsContainer.append(e),i+=e.outerWidth()+parseInt(e.css(\"margin-right\"),10),o<=n?i:i+s.element.outerWidth()+parseInt(s.element.css(\"margin-right\"),10),e.css({\"z-index\":\"auto\",\"margin-left\":\"\"}),this.tabsContainer.append(e)}}}),n.controls.HeaderButton=function(t,n,i,o){this._header=t,this.element=e('<li class=\"'+i+'\" title=\"'+n+'\"></li>'),this._header.on(\"destroy\",this._$destroy,this),this._action=o,this.element.on(\"click touchstart\",this._action),this._header.controlsContainer.append(this.element)},n.utils.copy(n.controls.HeaderButton.prototype,{_$destroy:function(){this.element.off(),this.element.remove()}}),n.controls.Splitter=function(t,e,i){this._isVertical=t,this._size=e,this._grabSize=i<e?e:i,this.element=this._createElement(),this._dragListener=new n.utils.DragListener(this.element)},n.utils.copy(n.controls.Splitter.prototype,{on:function(t,e,n){this._dragListener.on(t,e,n)},_$destroy:function(){this.element.remove()},_createElement:function(){var t=e('<div class=\"lm_drag_handle\"></div>'),n=e('<div class=\"lm_splitter\"></div>');n.append(t);var i=this._grabSize-this._size,o=i/2;return this._isVertical?(t.css(\"top\",-o),t.css(\"height\",this._size+i),n.addClass(\"lm_vertical\"),n.height(this._size)):(t.css(\"left\",-o),t.css(\"width\",this._size+i),n.addClass(\"lm_horizontal\"),n.width(this._size)),n}}),n.controls.Tab=function(t,i){this.header=t,this.contentItem=i,this.element=e(n.controls.Tab._template),this.titleElement=this.element.find(\".lm_title\"),this.closeElement=this.element.find(\".lm_close_tab\"),this.closeElement[i.config.isClosable?\"show\":\"hide\"](),this.isActive=!1,this.setTitle(i.config.title),this.contentItem.on(\"titleChanged\",this.setTitle,this),this._layoutManager=this.contentItem.layoutManager,!0===this._layoutManager.config.settings.reorderEnabled&&!0===i.config.reorderEnabled&&(this._dragListener=new n.utils.DragListener(this.element),this._dragListener.on(\"dragStart\",this._onDragStart,this),this.contentItem.on(\"destroy\",this._dragListener.destroy,this._dragListener)),this._onTabClickFn=n.utils.fnBind(this._onTabClick,this),this._onCloseClickFn=n.utils.fnBind(this._onCloseClick,this),\"workspace\"===this._layoutManager.config.settings.mode&&i.config.noTabHeader&&this.element.hide(),this.element.on(\"mousedown touchstart\",this._onTabClickFn),this.contentItem.config.isClosable?(this.closeElement.on(\"click touchstart\",this._onCloseClickFn),this.closeElement.on(\"mousedown\",this._onCloseMousedown)):this.closeElement.remove(),this.contentItem.tab=this,this.contentItem.emit(\"tab\",this),this.contentItem.layoutManager.emit(\"tabCreated\",this),this.contentItem.isComponent&&(this.contentItem.container.tab=this,this.contentItem.container.emit(\"tab\",this))},n.controls.Tab._template='<li class=\"lm_tab\"><i class=\"lm_left\"></i><span class=\"lm_title\"></span><div class=\"lm_close_tab\"></div><i class=\"lm_right\"></i></li>',n.utils.copy(n.controls.Tab.prototype,{setTitle:function(t){this.element.attr(\"title\",n.utils.stripTags(t)),this.titleElement.html(t)},onCloseClick:void 0,setActive:function(t){t!==this.isActive&&(this.isActive=t,t?this.element.addClass(\"lm_active\"):this.element.removeClass(\"lm_active\"))},_$destroy:function(){this.element.off(\"mousedown touchstart\",this._onTabClickFn),this.closeElement.off(\"click touchstart\",this._onCloseClickFn),this._dragListener&&(this.contentItem.off(\"destroy\",this._dragListener.destroy,this._dragListener),this._dragListener.off(\"dragStart\",this._onDragStart),this._dragListener=null),this.element.remove()},_onDragStart:function(t,e){!0===this.contentItem.parent.isMaximized&&this.contentItem.parent.toggleMaximise();const i=\"workspace\"===this.contentItem.layoutManager.config.settings.mode,o=this.contentItem.parent.header.tabs.length<2,s=!this.contentItem.config.windowId&&!this.contentItem.config.componentState.windowId;if(i&&o)return;if(!i&&s)return;const r=new n.controls.DragProxy(t,e,this._dragListener,this._layoutManager,this.contentItem,this.header.parent);this._layoutManager._dragProxies.push(r)},_onTabClick:function(t){if(0===t.button||\"touchstart\"===t.type){var e=this.header.parent.getActiveContentItem();this.contentItem!==e&&this.header.parent.setActiveContentItem(this.contentItem)}else 1===t.button&&this.contentItem.config.isClosable&&this._onCloseClick(t)},_onCloseClick:function(t){this.contentItem.layoutManager.emit(\"tabCloseRequested\",this),this.onCloseClick&&this.onCloseClick(t)},_onCloseMousedown:function(t){t.stopPropagation()}}),n.controls.TransitionIndicator=function(){this._element=e('<div class=\"lm_transition_indicator\"></div>'),e(document.body).append(this._element),this._toElement=null,this._fromDimensions=null,this._totalAnimationDuration=200,this._animationStartTime=null},n.utils.copy(n.controls.TransitionIndicator.prototype,{destroy:function(){this._element.remove()},transitionElements:function(t,e){},_nextAnimationFrame:function(){var t,e=this._measure(this._toElement),i=(n.utils.now()-this._animationStartTime)/this._totalAnimationDuration,o={};if(i>=1)this._element.hide();else{for(t in e.opacity=0,this._fromDimensions)o[t]=this._fromDimensions[t]+(e[t]-this._fromDimensions[t])*i;this._element.css(o),n.utils.animFrame(n.utils.fnBind(this._nextAnimationFrame,this))}},_measure:function(t){var e=t.offset();return{left:e.left,top:e.top,width:t.outerWidth(),height:t.outerHeight()}}}),n.errors.ConfigurationError=function(t,e){Error.call(this),this.name=\"Configuration Error\",this.message=t,this.node=e},n.errors.ConfigurationError.prototype=new Error,n.items.AbstractContentItem=function(t,e,i){n.utils.EventEmitter.call(this),this.config=this._extendItemNode(e),this.type=e.type,this.contentItems=[],this.parent=i,this.isInitialised=!1,this.isMaximized=!1,this.isRoot=!1,this.isRow=!1,this.isColumn=!1,this.isStack=!1,this.isComponent=!1,this.isVisible=!0,this.layoutManager=t,this._pendingEventPropagations={},this._throttledEvents=[\"stateChanged\"],this.on(n.utils.EventEmitter.ALL_EVENT,this._propagateEvent,this),e.content&&this._createContentItems(e)},n.utils.copy(n.items.AbstractContentItem.prototype,{setSize:function(){throw new Error(\"Abstract Method\")},callDownwards:function(t,e,n,i){var o;for(!0!==n&&!0!==i&&this[t].apply(this,e||[]),o=0;o<this.contentItems.length;o++)this.contentItems[o].callDownwards(t,e,n);!0===n&&!0!==i&&this[t].apply(this,e||[])},removeChild:function(t,e){var i=n.utils.indexOf(t,this.contentItems);if(-1===i)throw new Error(\"Can't remove child item. Unknown content item\");!0!==e&&this.contentItems[i]._$destroy(),this.contentItems.splice(i,1),this.config.content.splice(i,1),this.contentItems.length>0?this.callDownwards(\"setSize\"):this instanceof n.items.Root||!0!==this.config.isClosable||this.parent.removeChild(this)},addChild:function(t,e){void 0===e&&(e=this.contentItems.length),this.contentItems.splice(e,0,t),void 0===this.config.content&&(this.config.content=[]),this.config.content.splice(e,0,t.config),t.parent=this,!0===t.parent.isInitialised&&!1===t.isInitialised&&t._$init()},replaceChild:function(t,e,i){e=this.layoutManager._$normalizeContentItem(e);var o=n.utils.indexOf(t,this.contentItems),s=t.element[0].parentNode;if(-1===o)throw new Error(\"Can't replace child. oldChild is not child of this\");s.replaceChild(e.element[0],t.element[0]);const r=t.isVisible;!0===i&&(t.parent=null,t._$destroy()),this.contentItems[o]=e,e.parent=this,this.isStack&&(this.header.tabs[o].contentItem=e),!0===e.parent.isInitialised&&!1===e.isInitialised&&e._$init(),r||e._$hide(),this.callDownwards(\"setSize\")},remove:function(){this.parent.removeChild(this)},popout:function(){var t=this.layoutManager.createPopout(this);return this.emitBubblingEvent(\"stateChanged\"),t},toggleMaximise:function(t){t&&t.preventDefault(),!0===this.isMaximized?this.layoutManager._$minimiseItem(this):this.layoutManager._$maximiseItem(this),this.isMaximized=!this.isMaximized,this.emitBubblingEvent(\"stateChanged\")},select:function(){this.layoutManager.selectedItem!==this&&(this.layoutManager.selectItem(this,!0),this.element.addClass(\"lm_selected\"))},deselect:function(){this.layoutManager.selectedItem===this&&(this.layoutManager.selectedItem=null,this.element.removeClass(\"lm_selected\"))},setTitle:function(t){this.config.title=t,this.emit(\"titleChanged\",t),this.emit(\"stateChanged\")},hasId:function(t){return!!this.config.id&&(\"string\"==typeof this.config.id?this.config.id===t:this.config.id instanceof Array?-1!==n.utils.indexOf(t,this.config.id):void 0)},addId:function(t){this.hasId(t)||(this.config.id?\"string\"==typeof this.config.id?this.config.id=[this.config.id,t]:this.config.id instanceof Array&&this.config.id.push(t):this.config.id=t)},removeId:function(t){if(!this.hasId(t))throw new Error(\"Id not found\");if(\"string\"==typeof this.config.id)delete this.config.id;else if(this.config.id instanceof Array){var e=n.utils.indexOf(t,this.config.id);this.config.id.splice(e,1)}},getItemsByFilter:function(t){var e=[],n=function(i){for(var o=0;o<i.contentItems.length;o++)!0===t(i.contentItems[o])&&e.push(i.contentItems[o]),n(i.contentItems[o])};return n(this),e},getItemsById:function(t){return this.getItemsByFilter((function(e){return e.config.id instanceof Array?-1!==n.utils.indexOf(t,e.config.id):e.config.id===t}))},getItemsByType:function(t){return this._$getItemsByProperty(\"type\",t)},getComponentsByName:function(t){var e,n=this._$getItemsByProperty(\"componentName\",t),i=[];for(e=0;e<n.length;e++)i.push(n[e].instance&&0!==Object.keys(n[e].instance).length?n[e].instance:n[e]);return i},_$getItemsByProperty:function(t,e){return this.getItemsByFilter((function(n){return n[t]===e}))},_$setParent:function(t){this.parent=t},_$highlightDropZone:function(t,e,n){this.layoutManager.dropTargetIndicator.highlightArea(n)},_$onDrop:function(t){this.addChild(t)},_$hide:function(){this._callOnActiveComponents(\"hide\"),this.element.hide(),this.isVisible=!1,this.layoutManager.updateSize()},_$show:function(){this._callOnActiveComponents(\"show\"),this.element.show(),this.isVisible=!0,this.layoutManager.updateSize()},_callOnActiveComponents:function(t){var e,n,i=this.getItemsByType(\"stack\");for(n=0;n<i.length;n++)(e=i[n].getActiveContentItem())&&e.isComponent&&e.container[t]()},_$destroy:function(){this.emitBubblingEvent(\"beforeItemDestroyed\"),this.callDownwards(\"_$destroy\",[],!0,!0),this.element.remove(),this.emitBubblingEvent(\"itemDestroyed\")},_$getArea:function(t){var e=(t=t||this.element).offset(),n=t.width(),i=t.height();return{x1:e.left,y1:e.top,x2:e.left+n,y2:e.top+i,surface:n*i,contentItem:this}},_$init:function(){var t;for(this.setSize(),t=0;t<this.contentItems.length;t++)this.childElementContainer.append(this.contentItems[t].element);this.isInitialised=!0,this.emitBubblingEvent(\"itemCreated\"),this.emitBubblingEvent(this.type+\"Created\")},emitBubblingEvent:function(t){var e=new n.utils.BubblingEvent(t,this);this.emit(t,e)},_createContentItems:function(t){var e,i;if(!(t.content instanceof Array))throw new n.errors.ConfigurationError(\"content must be an Array\",t);for(i=0;i<t.content.length;i++)e=this.layoutManager.createContentItem(t.content[i],this),this.contentItems.push(e)},_extendItemNode:function(t){for(var e in n.config.itemDefaultConfig)void 0===t[e]&&(t[e]=n.config.itemDefaultConfig[e]);return t},_propagateEvent:function(t,e){e instanceof n.utils.BubblingEvent&&!1===e.isPropagationStopped&&!0===this.isInitialised&&(!1===this.isRoot&&this.parent?this.parent.emit.apply(this.parent,Array.prototype.slice.call(arguments,0)):this._scheduleEventPropagationToLayoutManager(t,e))},_scheduleEventPropagationToLayoutManager:function(t,e){-1===n.utils.indexOf(t,this._throttledEvents)?this.layoutManager.emit(t,e.origin):!0!==this._pendingEventPropagations[t]&&(this._pendingEventPropagations[t]=!0,n.utils.animFrame(n.utils.fnBind(this._propagateEventToLayoutManager,this,[t,e])))},_propagateEventToLayoutManager:function(t,e){this._pendingEventPropagations[t]=!1,this.layoutManager.emit(t,e)}}),n.items.Component=function(t,i,o){n.items.AbstractContentItem.call(this,t,i,o);var s=t.getComponent(this.config.componentName),r=e.extend(!0,{},this.config.componentState||{});r.componentName=this.config.componentName,this.componentName=this.config.componentName,\"\"===this.config.title&&(this.config.title=this.config.componentName),this.isComponent=!0,this.container=new n.container.ItemContainer(this.config,this,t),this.instance=new s(this.container,r),this.element=this.container._element},n.utils.extend(n.items.Component,n.items.AbstractContentItem),n.utils.copy(n.items.Component.prototype,{close:function(){this.parent.removeChild(this)},setSize:function(){this.element.is(\":visible\")&&(this.emit(\"size-changed\",{width:this.element.width(),height:this.element.height()}),this.container._$setSize(this.element.width(),this.element.height()))},_$init:function(){n.items.AbstractContentItem.prototype._$init.call(this),this.container.emit(\"open\")},_$hide:function(){this.container.hide(),n.items.AbstractContentItem.prototype._$hide.call(this)},_$show:function(){this.container.show(),n.items.AbstractContentItem.prototype._$show.call(this)},_$shown:function(){this.container.shown(),n.items.AbstractContentItem.prototype._$shown.call(this)},_$destroy:function(){this.container.emit(\"destroy\",this),n.items.AbstractContentItem.prototype._$destroy.call(this)},_$getArea:function(){return null}}),n.items.Root=function(t,i,o){n.items.AbstractContentItem.call(this,t,i,null),this.isRoot=!0,this.type=\"root\",this.element=e('<div class=\"lm_goldenlayout lm_item lm_root\"></div>'),this.childElementContainer=this.element,this._containerElement=o,this._containerElement.append(this.element)},n.utils.extend(n.items.Root,n.items.AbstractContentItem),n.utils.copy(n.items.Root.prototype,{addChild:function(t){if(this.contentItems.length>0)throw new Error(\"Root node can only have a single child\");t=this.layoutManager._$normalizeContentItem(t,this),this.childElementContainer.append(t.element),n.items.AbstractContentItem.prototype.addChild.call(this,t),this.callDownwards(\"setSize\"),this.emitBubblingEvent(\"stateChanged\")},setSize:function(t,e){t=void 0===t?this._containerElement.width():t,e=void 0===e?this._containerElement.height():e,this.element.width(t),this.element.height(e),this.contentItems[0]&&(this.contentItems[0].element.width(t),this.contentItems[0].element.height(e))},_$highlightDropZone:function(t,e,i){this.layoutManager.tabDropPlaceholder.remove(),n.items.AbstractContentItem.prototype._$highlightDropZone.apply(this,arguments)},_$onDrop:function(t,e){var i;if(t.isComponent&&((i=this.layoutManager.createContentItem({type:\"stack\",header:t.config.header||{}},this))._$init(),i.addChild(t),t=i),this.contentItems.length){var o=\"x\"==e.side[0]?\"row\":\"column\",s=\"x\"==e.side[0]?\"width\":\"height\",r=\"2\"==e.side[1],a=this.contentItems[0];if(!a instanceof n.items.RowOrColumn||a.type!=o){var c=this.layoutManager.createContentItem({type:o},this);this.replaceChild(a,c),c.addChild(t,r?0:void 0,!0),c.addChild(a,r?void 0:0,!0),a.config[s]=50,t.config[s]=50,c.callDownwards(\"setSize\")}else{var l=a.contentItems[r?0:a.contentItems.length-1];a.addChild(t,r?0:void 0,!0),l.config[s]*=.5,t.config[s]=l.config[s],a.callDownwards(\"setSize\")}}else this.addChild(t)}}),n.items.RowOrColumn=function(t,i,o,s){n.items.AbstractContentItem.call(this,i,o,s),this.isRow=!t,this.isColumn=t,this.element=e('<div class=\"lm_item lm_'+(t?\"column\":\"row\")+'\"></div>'),this.childElementContainer=this.element,this._splitterSize=i.config.dimensions.borderWidth,this._splitterGrabSize=i.config.dimensions.borderGrabWidth,this._isColumn=t,this._dimension=t?\"height\":\"width\",this._splitter=[],this._splitterPosition=null,this._splitterMinPosition=null,this._splitterMaxPosition=null,this._layoutManager=i},n.utils.extend(n.items.RowOrColumn,n.items.AbstractContentItem),n.utils.copy(n.items.RowOrColumn.prototype,{addChild:function(t,e,i){var o,s,r,a;if(t=this.layoutManager._$normalizeContentItem(t,this),void 0===e&&(e=this.contentItems.length),this.contentItems.length>0?(a=this._createSplitter(Math.max(0,e-1)).element,e>0?(this.contentItems[e-1].element.after(a),a.after(t.element)):(this.contentItems[0].element.before(a),a.before(t.element))):this.childElementContainer.append(t.element),n.items.AbstractContentItem.prototype.addChild.call(this,t,e),o=1/this.contentItems.length*100,!0!==i){for(r=0;r<this.contentItems.length;r++)this.contentItems[r]===t?t.config[this._dimension]=o:(s=this.contentItems[r].config[this._dimension]*=(100-o)/100,this.contentItems[r].config[this._dimension]=s);this.callDownwards(\"setSize\"),this.emitBubblingEvent(\"stateChanged\")}else this.emitBubblingEvent(\"stateChanged\")},removeChild:function(t,e){var i,o,s=t.config[this._dimension],r=n.utils.indexOf(t,this.contentItems),a=Math.max(r-1,0);if(-1===r)throw new Error(\"Can't remove child. ContentItem is not child of this Row or Column\");for(this._splitter[a]&&(this._splitter[a]._$destroy(),this._splitter.splice(a,1)),i=0;i<this.contentItems.length;i++)this.contentItems[i]!==t&&(this.contentItems[i].config[this._dimension]+=s/(this.contentItems.length-1));n.items.AbstractContentItem.prototype.removeChild.call(this,t,e),1===this.contentItems.length&&!0===this.config.isClosable?(o=this.contentItems[0],this.contentItems=[],this.parent.replaceChild(this,o,!0)):(this.callDownwards(\"setSize\"),this.emitBubblingEvent(\"stateChanged\"))},replaceChild:function(t,e){var i=t.config[this._dimension];e.config=e.config||{},e.config[this._dimension]=i,n.items.AbstractContentItem.prototype.replaceChild.call(this,t,e),this.callDownwards(\"setSize\"),this.emitBubblingEvent(\"stateChanged\")},setSize:function(){this.contentItems.length>0&&(this._calculateRelativeSizes(),this._setAbsoluteSizes()),this.emitBubblingEvent(\"stateChanged\"),this.emit(\"resize\")},_$init:function(){var t;if(!0!==this.isInitialised)for(n.items.AbstractContentItem.prototype._$init.call(this),t=0;t<this.contentItems.length-1;t++)this.contentItems[t].element.after(this._createSplitter(t).element)},_setAbsoluteSizes:function(){var t,e=this._calculateAbsoluteSizes();for(t=0;t<this.contentItems.length;t++)e.additionalPixel-t>0&&e.itemSizes[t]++,this._isColumn?(this.contentItems[t].element.width(e.totalWidth),this.contentItems[t].element.height(e.itemSizes[t])):(this.contentItems[t].element.width(e.itemSizes[t]),this.contentItems[t].element.height(e.totalHeight))},_calculateAbsoluteSizes:function(){var t,e,n=(this.contentItems.length-1)*this._splitterSize,i=this.element.width(),o=this.element.height(),s=0,r=[];for(this._isColumn?o-=n:i-=n,t=0;t<this.contentItems.length;t++)s+=e=this._isColumn?Math.floor(o*(this.contentItems[t].config.height/100)):Math.floor(i*(this.contentItems[t].config.width/100)),r.push(e);return{itemSizes:r,additionalPixel:Math.floor((this._isColumn?o:i)-s),totalWidth:i,totalHeight:o}},_calculateRelativeSizes:function(){var t,e=0,n=[],i=this._isColumn?\"height\":\"width\";for(t=0;t<this.contentItems.length;t++)void 0!==this.contentItems[t].config[i]?e+=this.contentItems[t].config[i]:n.push(this.contentItems[t]);if(100!==Math.round(e))if(Math.round(e)<100&&n.length>0){for(t=0;t<n.length;t++)n[t].config[i]=(100-e)/n.length;this._respectMinItemWidth()}else{if(Math.round(e)>100)for(t=0;t<n.length;t++)n[t].config[i]=50,e+=50;for(t=0;t<this.contentItems.length;t++)this.contentItems[t].config[i]=this.contentItems[t].config[i]/e*100;this._respectMinItemWidth()}else this._respectMinItemWidth()},_respectMinItemWidth:function(){var t,e,n,i,o=this.layoutManager.config.dimensions&&this.layoutManager.config.dimensions.minItemWidth||0,s=[],r=0,a=0,c=0,l=0,d=[];if(!(this._isColumn||!o||this.contentItems.length<=1)){t=this._calculateAbsoluteSizes();for(var h=0;h<this.contentItems.length;h++)this.contentItems[h],(l=t.itemSizes[h])<o?(a+=o-l,i={width:o}):(r+=l-o,i={width:l},s.push(i)),d.push(i);if(!(0===a||a>r)){for(e=a/r,c=a,h=0;h<s.length;h++)i=s[h],c-=n=Math.round((i.width-o)*e),i.width-=n;for(0!==c&&(d[d.length-1].width-=c),h=0;h<this.contentItems.length;h++)this.contentItems[h].config.width=d[h].width/t.totalWidth*100}}},_createSplitter:function(t){var e;return(e=new n.controls.Splitter(this._isColumn,this._splitterSize,this._splitterGrabSize)).on(\"drag\",n.utils.fnBind(this._onSplitterDrag,this,[e]),this),e.on(\"dragStop\",n.utils.fnBind(this._onSplitterDragStop,this,[e]),this),e.on(\"dragStart\",n.utils.fnBind(this._onSplitterDragStart,this,[e]),this),this._splitter.splice(t,0,e),e},_getItemsForSplitter:function(t){var e=n.utils.indexOf(t,this._splitter);return{before:this.contentItems[e],after:this.contentItems[e+1]}},_getMinimumDimensions:function(t){for(var e=0,n=0,i=0;i<t.length;++i)e=Math.max(t[i].minWidth||0,e),n=Math.max(t[i].minHeight||0,n);return{horizontal:e,vertical:n}},_onSplitterDragStart:function(t){var e=this._getItemsForSplitter(t),n=this.layoutManager.config.dimensions[this._isColumn?\"minItemHeight\":\"minItemWidth\"],i=this._getMinimumDimensions(e.before.config.content),o=this._isColumn?i.vertical:i.horizontal,s=this._getMinimumDimensions(e.after.config.content),r=this._isColumn?s.vertical:s.horizontal;this._splitterPosition=0,this._splitterMinPosition=-1*(e.before.element[this._dimension]()-(o||n)),this._splitterMaxPosition=e.after.element[this._dimension]()-(r||n)},_onSplitterDrag:function(t,e,n){var i=this._isColumn?n:e;i>this._splitterMinPosition&&i<this._splitterMaxPosition&&(this._splitterPosition=i,t.element.css(this._isColumn?\"top\":\"left\",i)),this._layoutManager.emit(\"splitterDragged\",t)},_onSplitterDragStop:function(t){var e=this._getItemsForSplitter(t),i=e.before.element[this._dimension](),o=e.after.element[this._dimension](),s=(this._splitterPosition+i)/(i+o),r=e.before.config[this._dimension]+e.after.config[this._dimension];e.before.config[this._dimension]=s*r,e.after.config[this._dimension]=(1-s)*r,t.element.css({top:0,left:0}),n.utils.animFrame(n.utils.fnBind(this.callDownwards,this,[\"setSize\"])),this._layoutManager.emit(\"splitterDragStopped\",t)}}),n.items.Stack=function(t,i,o){n.items.AbstractContentItem.call(this,t,i,o),this.element=e('<div class=\"lm_item lm_stack\"></div>'),this._activeContentItem=null;var s=t.config;this._header={show:!0===s.settings.hasHeaders&&!1!==i.hasHeaders,popout:s.settings.showPopoutIcon&&s.labels.popout,maximize:s.settings.showMaximizeIcon&&s.labels.maximize,minimize:s.settings.showMinimizeIcon&&s.labels.minimize,close:s.settings.showCloseIcon&&s.labels.close},s.header&&n.utils.copy(this._header,s.header),i.header&&n.utils.copy(this._header,i.header),i.content&&i.content[0]&&i.content[0].header&&n.utils.copy(this._header,i.content[0].header),this._dropZones={},this._dropSegment=null,this._contentAreaDimensions=null,this._dropIndex=null,this.isStack=!0,this.childElementContainer=e('<div class=\"lm_items\"></div>'),this.header=new n.controls.Header(t,this),this.element.append(this.header.element),this.element.append(this.childElementContainer),this._setupHeaderPosition(),this._$validateClosability()},n.utils.extend(n.items.Stack,n.items.AbstractContentItem),n.utils.copy(n.items.Stack.prototype,{setSize:function(){var t,e=this._header.show?this.header.element.height():0,n=this.element.width()-(this._sided?e:0),i=this.element.height()-(this._sided?0:e);for(this.childElementContainer.width(n),this.childElementContainer.height(i),t=0;t<this.contentItems.length;t++)this.contentItems[t].element.width(n).height(i);this.emit(\"resize\"),this.emitBubblingEvent(\"stateChanged\")},_$init:function(){var t,e;if(!0!==this.isInitialised){for(n.items.AbstractContentItem.prototype._$init.call(this),t=0;t<this.contentItems.length;t++)this.header.createTab(this.contentItems[t]),this.contentItems[t]._$hide();if(this.contentItems.length>0){if(!(e=this.contentItems[this.config.activeItemIndex||0]))throw new Error(\"Configured activeItemIndex out of bounds\");this.setActiveContentItem(e)}}},setActiveContentItem:function(t){if(-1===n.utils.indexOf(t,this.contentItems))throw new Error(\"contentItem is not a child of this stack\");const e=this._activeContentItem;null!==this._activeContentItem&&this._activeContentItem._$hide(),this._activeContentItem=t,this.header.setActiveContentItem(t),t._$show(),this.emit(\"activeContentItemChanged\",t),this.layoutManager.emit(\"activeContentItemChanged\",t),e&&e.emit(\"focusLost\"),this.emitBubblingEvent(\"stateChanged\")},getActiveContentItem:function(){return this.header.activeContentItem},addChild:function(t,i,o=!0){t=this.layoutManager._$normalizeContentItem(t,this),n.items.AbstractContentItem.prototype.addChild.call(this,t,i),this.childElementContainer.append(t.element),this.header.createTab(t,i),e(this.layoutManager.container).is(\":visible\")&&o?this.setActiveContentItem(t):t._$hide(),this.callDownwards(\"setSize\"),this._$validateClosability(),this.emitBubblingEvent(\"stateChanged\")},removeChild:function(t,e){var i=n.utils.indexOf(t,this.contentItems);n.items.AbstractContentItem.prototype.removeChild.call(this,t,e),this.header.removeTab(t),this.header.activeContentItem===t&&(this.contentItems.length>0?this.setActiveContentItem(this.contentItems[Math.max(i-1,0)]):this._activeContentItem=null),this._$validateClosability(),this.emitBubblingEvent(\"stateChanged\")},_$validateClosability:function(){var t,e,n;for(t=this.header._isClosable(),n=0,e=this.contentItems.length;n<e&&t;n++)t=this.contentItems[n].config.isClosable;this.header._$setClosable(t)},_$destroy:function(){n.items.AbstractContentItem.prototype._$destroy.call(this),this.header._$destroy()},_$onDrop:function(t){if(\"header\"===this._dropSegment)return this._resetHeaderDropZone(),void this.addChild(t,this._dropIndex);if(\"body\"!==this._dropSegment){var e,i,o,s=\"top\"===this._dropSegment||\"bottom\"===this._dropSegment,r=\"left\"===this._dropSegment||\"right\"===this._dropSegment,a=\"top\"===this._dropSegment||\"left\"===this._dropSegment,c=s&&this.parent.isColumn||r&&this.parent.isRow,l=s?\"column\":\"row\",d=s?\"height\":\"width\";t.isComponent&&((i=this.layoutManager.createContentItem({type:\"stack\",header:t.config.header||{}},this))._$init(),i.addChild(t),t=i),c?(e=n.utils.indexOf(this,this.parent.contentItems),this.parent.addChild(t,a?e:e+1,!0),this.config[d]*=.5,t.config[d]=this.config[d],this.parent.callDownwards(\"setSize\")):(l=s?\"column\":\"row\",o=this.layoutManager.createContentItem({type:l},this),this.parent.replaceChild(this,o),o.addChild(t,a?0:void 0,!0),o.addChild(this,a?void 0:0,!0),this.config[d]=50,t.config[d]=50,o.callDownwards(\"setSize\"))}else this.addChild(t)},_$highlightDropZone:function(t,e){var n,i;for(n in this._contentAreaDimensions)if((i=this._contentAreaDimensions[n].hoverArea).x1<t&&i.x2>t&&i.y1<e&&i.y2>e)return void(\"header\"===n?(this._dropSegment=\"header\",this._highlightHeaderDropZone(this._sided?e:t)):(this._resetHeaderDropZone(),this._highlightBodyDropZone(n)))},_$getArea:function(){if(!1===this.element.is(\":visible\"))return null;var t=n.items.AbstractContentItem.prototype._$getArea,e=t.call(this,this.header.element),i=t.call(this,this.childElementContainer),o=i.x2-i.x1,s=i.y2-i.y1;return this._contentAreaDimensions={header:{hoverArea:{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2},highlightArea:{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2}}},this._activeContentItem&&!1===this._activeContentItem.isComponent?e:0===this.contentItems.length?(this._contentAreaDimensions.body={hoverArea:{x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2},highlightArea:{x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2}},t.call(this,this.element)):(\"workspace\"!==this.layoutManager.config.settings.mode&&(this._contentAreaDimensions.left={hoverArea:{x1:i.x1,y1:i.y1,x2:i.x1+.25*o,y2:i.y2},highlightArea:{x1:i.x1,y1:i.y1,x2:i.x1+.5*o,y2:i.y2}},this._contentAreaDimensions.top={hoverArea:{x1:i.x1+.25*o,y1:i.y1,x2:i.x1+.75*o,y2:i.y1+.5*s},highlightArea:{x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y1+.5*s}},this._contentAreaDimensions.right={hoverArea:{x1:i.x1+.75*o,y1:i.y1,x2:i.x2,y2:i.y2},highlightArea:{x1:i.x1+.5*o,y1:i.y1,x2:i.x2,y2:i.y2}},this._contentAreaDimensions.bottom={hoverArea:{x1:i.x1+.25*o,y1:i.y1+.5*s,x2:i.x1+.75*o,y2:i.y2},highlightArea:{x1:i.x1,y1:i.y1+.5*s,x2:i.x2,y2:i.y2}}),t.call(this,this.element))},_highlightHeaderDropZone:function(t){var e,n,i,o,s,r,a,c,l=this.header.tabs.length,d=!1;if(0===l)return a=this.header.element.offset(),void this.layoutManager.dropTargetIndicator.highlightArea({x1:a.left,x2:a.left+100,y1:a.top+this.header.element.height()-20,y2:a.top+this.header.element.height()});for(e=0;e<l;e++)if(s=(n=this.header.tabs[e].element).offset(),this._sided?(o=s.top,i=s.left,c=n.height()):(o=s.left,i=s.top,c=n.width()),t>o&&t<o+c){d=!0;break}if(!(!1===d&&t<o)){if(t<o+c/2?(this._dropIndex=e,n.before(this.layoutManager.tabDropPlaceholder)):(this._dropIndex=Math.min(e+1,l),n.after(this.layoutManager.tabDropPlaceholder)),this._sided)return placeHolderTop=this.layoutManager.tabDropPlaceholder.offset().top,void this.layoutManager.dropTargetIndicator.highlightArea({x1:i,x2:i+n.innerHeight(),y1:placeHolderTop,y2:placeHolderTop+this.layoutManager.tabDropPlaceholder.width()});r=this.layoutManager.tabDropPlaceholder.offset().left,this.layoutManager.dropTargetIndicator.highlightArea({x1:r,x2:r+this.layoutManager.tabDropPlaceholder.width(),y1:i,y2:i+n.innerHeight()})}},_resetHeaderDropZone:function(){this.layoutManager.tabDropPlaceholder.remove()},_setupHeaderPosition:function(){var t=[\"right\",\"left\",\"bottom\"].indexOf(this._header.show)>=0&&this._header.show;if(this.header.element.toggle(!!this._header.show),this._side=t,this._sided=[\"right\",\"left\"].indexOf(this._side)>=0,this.element.removeClass(\"lm_left lm_right lm_bottom\"),this._side&&this.element.addClass(\"lm_\"+this._side),this.element.find(\".lm_header\").length&&this.childElementContainer){var e=[\"right\",\"bottom\"].indexOf(this._side)>=0?\"before\":\"after\";this.header.element[e](this.childElementContainer),this.callDownwards(\"setSize\")}},_highlightBodyDropZone:function(t){var e=this._contentAreaDimensions[t].highlightArea;this.layoutManager.dropTargetIndicator.highlightArea(e),this._dropSegment=t}}),n.utils.BubblingEvent=function(t,e){this.name=t,this.origin=e,this.isPropagationStopped=!1},n.utils.BubblingEvent.prototype.stopPropagation=function(){this.isPropagationStopped=!0},n.utils.ConfigMinifier=function(){if(this._keys=[\"settings\",\"hasHeaders\",\"constrainDragToContainer\",\"selectionEnabled\",\"dimensions\",\"borderWidth\",\"minItemHeight\",\"minItemWidth\",\"headerHeight\",\"dragProxyWidth\",\"dragProxyHeight\",\"labels\",\"close\",\"maximize\",\"minimize\",\"popout\",\"content\",\"componentName\",\"componentState\",\"id\",\"width\",\"type\",\"height\",\"isClosable\",\"title\",\"popoutWholeStack\",\"openPopouts\",\"parentId\",\"activeItemIndex\",\"reorderEnabled\",\"borderGrabWidth\"],this._keys.length>36)throw new Error(\"Too many keys in config minifier map\");this._values=[!0,!1,\"row\",\"column\",\"stack\",\"component\",\"close\",\"maximize\",\"minimize\",\"open in new window\"]},n.utils.copy(n.utils.ConfigMinifier.prototype,{minifyConfig:function(t){var e={};return this._nextLevel(t,e,\"_min\"),e},unminifyConfig:function(t){var e={};return this._nextLevel(t,e,\"_max\"),e},_nextLevel:function(t,e,n){var i,o;for(i in t)t instanceof Array&&(i=parseInt(i,10)),t.hasOwnProperty(i)&&(o=this[n](i,this._keys),\"object\"==typeof t[i]?(e[o]=t[i]instanceof Array?[]:{},this._nextLevel(t[i],e[o],n)):e[o]=this[n](t[i],this._values))},_min:function(t,e){if(\"string\"==typeof t&&1===t.length)return\"___\"+t;var i=n.utils.indexOf(t,e);return-1===i?t:i.toString(36)},_max:function(t,e){return\"string\"==typeof t&&1===t.length?e[parseInt(t,36)]:\"string\"==typeof t&&\"___\"===t.substr(0,3)?t[3]:t}}),n.utils.EventHub=function(t){n.utils.EventEmitter.call(this),this._layoutManager=t,this._dontPropagateToParent=null,this._childEventSource=null,this.on(n.utils.EventEmitter.ALL_EVENT,n.utils.fnBind(this._onEventFromThis,this)),this._boundOnEventFromChild=n.utils.fnBind(this._onEventFromChild,this),e(window).on(\"gl_child_event\",this._boundOnEventFromChild)},n.utils.EventHub.prototype._onEventFromThis=function(){var t=Array.prototype.slice.call(arguments);this._layoutManager.isSubWindow&&t[0]!==this._dontPropagateToParent&&this._propagateToParent(t),this._propagateToChildren(t),this._dontPropagateToParent=null,this._childEventSource=null},n.utils.EventHub.prototype._$onEventFromParent=function(t){this._dontPropagateToParent=t[0],this.emit.apply(this,t)},n.utils.EventHub.prototype._onEventFromChild=function(t){this._childEventSource=t.originalEvent.__gl,this.emit.apply(this,t.originalEvent.__glArgs)},n.utils.EventHub.prototype._propagateToParent=function(t){var e,n=\"gl_child_event\";document.createEvent?(e=window.opener.document.createEvent(\"HTMLEvents\")).initEvent(n,!0,!0):(e=window.opener.document.createEventObject()).eventType=n,e.eventName=n,e.__glArgs=t,e.__gl=this._layoutManager,document.createEvent?window.opener.dispatchEvent(e):window.opener.fireEvent(\"on\"+e.eventType,e)},n.utils.EventHub.prototype._propagateToChildren=function(t){var e,n;for(n=0;n<this._layoutManager.openPopouts.length;n++)(e=this._layoutManager.openPopouts[n].getGlInstance())&&e!==this._childEventSource&&e.eventHub._$onEventFromParent(t)},n.utils.EventHub.prototype.destroy=function(){e(window).off(\"gl_child_event\",this._boundOnEventFromChild)},n.utils.ReactComponentHandler=function(t,e){this._reactComponent=null,this._originalComponentWillUpdate=null,this._container=t,this._initialState=e,this._reactClass=this._getReactClass(),this._container.on(\"open\",this._render,this),this._container.on(\"destroy\",this._destroy,this)},n.utils.copy(n.utils.ReactComponentHandler.prototype,{_render:function(){this._reactComponent=ReactDOM.render(this._getReactComponent(),this._container.getElement()[0]),this._originalComponentWillUpdate=this._reactComponent.componentWillUpdate||function(){},this._reactComponent.componentWillUpdate=this._onUpdate.bind(this),this._container.getState()&&this._reactComponent.setState(this._container.getState())},_destroy:function(){ReactDOM.unmountComponentAtNode(this._container.getElement()[0]),this._container.off(\"open\",this._render,this),this._container.off(\"destroy\",this._destroy,this)},_onUpdate:function(t,e){this._container.setState(e),this._originalComponentWillUpdate.call(this._reactComponent,t,e)},_getReactClass:function(){var t,e=this._container._config.component;if(!e)throw new Error(\"No react component name. type: react-component needs a field `component`\");if(!(t=this._container.layoutManager.getComponent(e)))throw new Error('React component \"'+e+'\" not found. Please register all components with GoldenLayout using `registerComponent(name, component)`');return t},_getReactComponent:function(){var t={glEventHub:this._container.layoutManager.eventHub,glContainer:this._container},n=e.extend(t,this._container._config.props);return React.createElement(this._reactClass,n)}})}(window.$)}));function o(t){if(t&&t.errorHandling&&\"function\"!=typeof t.errorHandling&&\"log\"!==t.errorHandling&&\"silent\"!==t.errorHandling&&\"throw\"!==t.errorHandling)throw new Error('Invalid options passed to createRegistry. Prop errorHandling should be [\"log\" | \"silent\" | \"throw\" | (err) => void], but '+typeof t.errorHandling+\" was passed\");var e=t&&\"function\"==typeof t.errorHandling&&t.errorHandling,n={};function i(n,i){var o=n instanceof Error?n:new Error(n);if(e)e(o);else{var s='[ERROR] callback-registry: User callback for key \"'+i+'\" failed: '+o.stack;if(t)switch(t.errorHandling){case\"log\":return console.error(s);case\"silent\":return;case\"throw\":throw new Error(s)}console.error(s)}}return{add:function(t,e,o){var s=n[t];return s||(s=[],n[t]=s),s.push(e),o&&setTimeout((function(){o.forEach((function(o){var s;if(null===(s=n[t])||void 0===s?void 0:s.includes(e))try{Array.isArray(o)?e.apply(void 0,o):e.apply(void 0,[o])}catch(e){i(e,t)}}))}),0),function(){var i=n[t];i&&(0===(i=i.reduce((function(t,n,i){return n===e&&t.length===i||t.push(n),t}),[])).length?delete n[t]:n[t]=i)}},execute:function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];var s=n[t];if(!s||0===s.length)return[];var r=[];return s.forEach((function(n){try{var o=n.apply(void 0,e);r.push(o)}catch(e){r.push(void 0),i(e,t)}})),r},clear:function(){n={}},clearKey:function(t){n[t]&&delete n[t]}}}o.default=o;var s=o;const r=t=>Array.isArray(t)?t[0]:t,a=(t=[])=>{const e=t=>\"component\"===t.type?t.id?[t]:[]:t.content.reduce(((t,n)=>t=[...t,...e(n)]),[]);return t.reduce(((t,n)=>[...t,...e(n)]),[])},c=t=>{const e=$(t)[0].getBoundingClientRect();return{x:Math.round(e.x),y:Math.round(e.y),left:Math.round(e.left),top:Math.round(e.top),width:Math.round(e.width),height:Math.round(e.height)}},l=t=>\"___workspace___\"+t;var d=new class{constructor(){this._idToLayout={}}get layouts(){return Object.values(this._idToLayout)}get workspaceIds(){return Object.keys(this._idToLayout)}get workspaceTitles(){return this.workspaceIds.map((t=>this.getWorkspaceTitle(t)))}set workspaceLayout(t){this._workspaceLayout=t}get workspaceLayout(){return this._workspaceLayout}get workspaceLayoutHeader(){return this._workspaceLayout.root.contentItems[0].header}getWorkspaceLayoutItemById(t){return this.workspaceLayout.root.getItemsById(t)[0]}getById(t){return t=r(t),this._idToLayout[t]}getByContainerId(t){return this._idToLayout[t]||this.getByContainerIdCore(t)}getWorkspaceTitle(t){const e=this.workspaceLayout.root.getItemsById(t)[0];return(null==e?void 0:e.tab.titleElement[0].innerText)||(null==e?void 0:e.config.title)}removeById(t){delete this._idToLayout[t]}removeLayout(t){this._idToLayout[t].layout.destroy(),this._idToLayout[t].layout=void 0}addOrUpdate(t,e,n){const i=this.getById(t);if(i)return i.layout=n,void(i.windows=this.mergeWindows(i.windows,e));this._idToLayout[t]={id:t,windows:e,layout:n}}getWindow(t){const e=r(t);return this.layouts.reduce(((t,n)=>t||n.windows.find((t=>t.id===e))),void 0)}getActiveWorkspace(){const t=this.workspaceLayout.root.contentItems[0].getActiveContentItem().config.id;return this.getById(t)}addWindow(t,e){const n=this.getById(e);n.windows=n.windows.filter((e=>e.id!==t.id)),n.windows.push(t)}getByWindowId(t){return t=r(t),this.layouts.find((e=>e.windows.some((e=>e.id===t||e.windowId===t))))}getWindowContentItem(t){const e=this.layouts.filter((t=>t.layout)).reduce(((e,n)=>e||n.layout.root.getItemsById(t)[0]),void 0);if(e&&e.isComponent)return e;const n=this.layouts.filter((t=>t.layout)).reduce(((e,n)=>e||n.layout.root.getItemsByFilter((e=>e.isComponent&&e.config.componentState.windowId===t))[0]),void 0);return(null==n?void 0:n.isComponent)?n:void 0}getContainer(t){return this.layouts.reduce(((t,e)=>(e.layout&&t.push(e.layout),t)),[]).reduce(((e,n)=>e||n.root.getItemsById(t)[0]),void 0)}getWorkspaceContext(t){var e,n,i;const o=this.getById(t);return null===(i=null===(n=null===(e=null==o?void 0:o.layout)||void 0===e?void 0:e.config)||void 0===n?void 0:n.workspacesOptions)||void 0===i?void 0:i.context}getWorkspaceContentItem(t){return this.workspaceLayout.root.getItemsById(t)[0]}getByContainerIdCore(t){return this.layouts.reduce(((t,e)=>(e.layout&&t.push(e),t)),[]).find((e=>e.layout.root.getItemsById(t)[0]))}mergeWindows(t,e){return e.map((e=>{let n=e.windowId;if(!n){const i=t.find((t=>t.id===e.id));n=null==i?void 0:i.windowId}return Object.assign(Object.assign({},e),{windowId:n})}))}};class h{init(t){this.containerElement=$(t)[0],this.setupEvents()}setupEvents(){const t=new MutationObserver((t=>{Array.from(t).forEach((t=>{if(\"childList\"===t.type&&t.target.classList.contains(\"lm_tabs\")){const e=$(t.target);this.handleTabCountChanged(e,Array.from(t.removedNodes))}else if(\"attributes\"===t.type&&t.target.classList.contains(\"lm_stack\")&&\"style\"===t.attributeName){const e=$(t.target);this.handleTabHeaderResized(e)}}))}));return t.observe(this.containerElement,{childList:!0,subtree:!0,attributes:!0,attributeFilter:[\"style\"],attributeOldValue:!1,characterData:!1,characterDataOldValue:!1}),()=>{t.disconnect()}}handleTabCountChanged(t,e){const n=t.children(),i=this.visibleTabs($(t));t.css(\"max-width\",200*i.length+\"px\");const o=t.width()/i.length;Array.from(n).forEach((t=>{$(t).children(\".lm_title\").css(\"max-width\",.75*o+\"px\"),e.length&&this.refreshTabClasses(t)}))}handleTabHeaderResized(t){const e=t.children(\".lm_header\").children(\".lm_tabs\"),n=this.visibleTabs($(e)),i=e.width()/n.length;Array.from(e.children()).forEach((t=>{$(t).children(\".lm_title\").css(\"max-width\",.65*i+\"px\"),this.refreshTabClasses(t)}))}refreshTabClasses(t){const e=$(t).outerWidth(),n=t.classList;e>=25&&e<35?(n.contains(\"lm_tab_mini\")&&n.remove(\"lm_tab_mini\"),n.add(\"lm_tab_small\")):e>=35?(n.remove(\"lm_tab_small\"),n.contains(\"lm_tab_mini\")&&n.remove(\"lm_tab_mini\")):e<25&&(n.remove(\"lm_tab_small\"),n.add(\"lm_tab_mini\"))}visibleTabs(t){return Array.from(t.children()).filter((t=>$(t).is(\":visible\")))}}var u=new class{constructor(){this.visibilityState={logo:void 0,addWorkspace:void 0,systemButtons:void 0,workspaceContents:[]},this.componentsFactory={},this._decoratedFactory={},this.callbackRegistry=s(),this.observer=new MutationObserver((t=>{Array.from(t).forEach((t=>{const e=t.target,n=this.getWorkspaceIdFromContents(e),i=\"none\"===e.style.display?\"workspace-contents-hidden\":\"workspace-contents-shown\";this.callbackRegistry.execute(i,n)}))}))}get decoratedFactory(){return this._decoratedFactory}init(t,e){this.componentsFactory=e,(null==e?void 0:e.createAddWorkspace)&&(this.decoratedFactory.createAddWorkspace=(...e)=>(this.visibilityState.addWorkspace=[...e,t],this.componentsFactory.createAddWorkspace(...this.visibilityState.addWorkspace))),(null==e?void 0:e.createLogo)&&(this.decoratedFactory.createLogo=(...e)=>(this.visibilityState.logo=[...e,t],this.componentsFactory.createLogo(...this.visibilityState.logo))),(null==e?void 0:e.createSystemButtons)&&(this.decoratedFactory.createSystemButtons=(...n)=>(this.visibilityState.systemButtons=[...n,t],e.createSystemButtons(...this.visibilityState.systemButtons))),(null==e?void 0:e.createWorkspaceContents)&&(this.decoratedFactory.createWorkspaceContents=(...t)=>{var n;return this.visibilityState.workspaceContents.push([...t]),this.subscribeForWorkspaceContentsVisibility(null===(n=t[0])||void 0===n?void 0:n.workspaceId),e.createWorkspaceContents(...t)})}reInitialize(t){(null==t?void 0:t.createAddWorkspace)&&this.visibilityState.addWorkspace&&t.createAddWorkspace(...this.visibilityState.addWorkspace),(null==t?void 0:t.createLogo)&&this.visibilityState.logo&&t.createLogo(...this.visibilityState.logo),(null==t?void 0:t.createSystemButtons)&&this.visibilityState.systemButtons&&t.createSystemButtons(...this.visibilityState.systemButtons),(null==t?void 0:t.createWorkspaceContents)&&this.visibilityState.workspaceContents.forEach((e=>{t.createWorkspaceContents(...e)})),this.componentsFactory=t}onWorkspaceContentsShown(t){this.callbackRegistry.add(\"workspace-contents-shown\",t)}onWorkspaceContentsHidden(t){this.callbackRegistry.add(\"workspace-contents-hidden\",t)}subscribeForWorkspaceContentsVisibility(t){const e=document.getElementById(\"nestHere\"+t);e&&this.observer.observe(e,{attributes:!0,attributeFilter:[\"style\"]})}getWorkspaceIdFromContents(t){return t.id.split(\"nestHere\")[1]}};const p=require(\"resize-observer-polyfill\").default||require(\"resize-observer-polyfill\");class m{constructor(t,e,n,i){this._maximizedId=\"__glMaximised\",this._workspaceLayoutElementId=\"#outter-layout-container\",this._registry=s(),this._emptyVisibleWindowName=\"emptyVisibleWindow\",this._stackMaximizeLabel=\"maximize\",this._stackRestoreLabel=\"restore\",this._options=n,this._emitter=t,this._stateResolver=e,this._configFactory=i}get emitter(){return this._emitter}get bounds(){return c(document.getElementById(\"outter-layout-container\"))}init(e){return t(this,void 0,void 0,(function*(){this._frameId=e.frameId;(new h).init(this._workspaceLayoutElementId),yield this.initWorkspaceConfig(e.workspaceLayout),this.refreshLayoutSize(),yield Promise.all(e.workspaceConfigs.map((e=>t(this,void 0,void 0,(function*(){yield this.initWorkspaceContents(e.id,e.config),this.emitter.raiseEvent(\"workspace-added\",{workspace:d.getById(e.id)})}))))),this.setupOuterLayout(),d.workspaceIds.forEach((t=>{this.setupContentLayouts(t)}))}))}addWindow(e,n){return t(this,void 0,void 0,(function*(){n=n||r(d.workspaceLayout.root.contentItems[0].getActiveContentItem().config.id);const t=d.getByContainerId(n);if(!t.layout)return this.hideAddButton(t.id),void(yield this.initWorkspaceContents(t.id,e));const i=t.layout._maximizedItem;i&&i.toggleMaximise();let o=t.layout.root.getItemsByFilter((t=>t.isColumn||t.isRow))[0];n&&n!==t.id&&(o=t.layout.root.getItemsById(n)[0]),o||(o=t.layout.root.getItemsByFilter((t=>t.isStack))[0]);const{placementId:s,windowId:c,url:l,appName:h}=this.getWindowInfoFromConfig(e);this.registerWindowComponent(t.layout,r(s));const u=o.getComponentsByName(this._emptyVisibleWindowName)[0];return new Promise((n=>{var i;const r=this.emitter.onContentComponentCreated((t=>{t.config.id===s&&(r(),n())}));if(\"stack\"===t.layout.root.contentItems[0].type&&\"component\"!==e.type&&(e=a([e])[0]),u&&!(null===(i=u.parent.config.workspacesConfig)||void 0===i?void 0:i.wrapper)){const t=this._configFactory.wrapInGroup([e]);return t.workspacesConfig.wrapper=!1,void u.parent.parent.replaceChild(u.parent,t)}u?u.parent.replaceChild(u,e):o.addChild(e)}))}))}addContainer(e,n){var i;return t(this,void 0,void 0,(function*(){const t=d.getByContainerId(n);if(!t.layout){const n=e.id||this._configFactory.getId();return e&&(e.id=n),this.hideAddButton(t.id),yield this.initWorkspaceContents(t.id,e),r(n)}const o=t.layout._maximizedItem;o&&o.toggleMaximise();let s=t.layout.root.getItemsByFilter((t=>t.isColumn||t.isRow))[0];if(n&&(s=t.layout.root.getItemsById(n)[0]),s||(s=t.layout.root.getItemsByFilter((t=>t.isStack))[0]),t.id===n&&(\"column\"===e.type||\"stack\"===e.type?this.bundleWorkspace(t.id,\"row\"):\"row\"===e.type&&this.bundleWorkspace(t.id,\"column\"),s=t.layout.root.contentItems[0]),e.content&&a(e.content).forEach((e=>{this.registerWindowComponent(t.layout,r(e.id))})),\"component\"===s.type)throw new Error(\"The target item for add container can't be a component\");const c=s.contentItems.find((t=>\"stack\"===t.type&&!0===t.config.workspacesConfig.wrapper)),l=(null===(i=null==c?void 0:c.contentItems[0])||void 0===i?void 0:i.config.componentName)===this._emptyVisibleWindowName;return new Promise(((n,i)=>{let o=()=>{};const a=setTimeout((()=>{o(),i(`Component with id ${e.id} could not be created in 10000ms`)}),1e4);if(o=this.emitter.onContentItemCreated(((i,s)=>{i===t.id&&s.type===e.type&&(n(r(s.config.id)),o(),clearTimeout(a))})),1===(null==c?void 0:c.contentItems.length)&&l){const t=s.getComponentsByName(this._emptyVisibleWindowName)[0];t.parent.replaceChild(t,e)}else s.addChild(e)}))}))}closeContainer(t){(d.getByContainerId(t)||d.getByWindowId(t)).layout.root.getItemsById(t)[0].remove()}bundleWorkspace(t,e){const n=d.getById(t),i=n.layout.root.contentItems.map((t=>this._stateResolver.getContainerConfig(t.config.id))),o=n.layout.root.contentItems[0],s={type:e,content:i,workspacesConfig:{}};n.layout.root.replaceChild(o,s)}hideAddButton(t){$(\"#nestHere\"+t).children(\".add-button\").hide()}showAddButton(t){$(\"#nestHere\"+t).children(\".add-button\").show()}addWorkspace(e,n){var i,o;return t(this,void 0,void 0,(function*(){const t=d.workspaceLayout.root.getItemsByFilter((t=>t.isStack))[0],s={componentName:this._configFactory.getWorkspaceLayoutComponentName(e),type:\"component\",workspacesConfig:{},id:e,noTabHeader:null===(i=n.workspacesOptions)||void 0===i?void 0:i.noTabHeader,title:(null===(o=null==n?void 0:n.workspacesOptions)||void 0===o?void 0:o.title)||this._configFactory.getWorkspaceTitle(d.workspaceTitles)};this.registerWorkspaceComponent(e),t.addChild(s,void 0,!s.noTabHeader),yield this.initWorkspaceContents(e,n),this.setupContentLayouts(e),this.emitter.raiseEvent(\"workspace-added\",{workspace:d.getById(e)})}))}removeWorkspace(t){const e=d.getWorkspaceLayoutItemById(t);if(!e)throw new Error(\"Could find workspace to remove with id \"+t);d.removeById(t),e.remove()}changeTheme(t){const e=document.getElementsByTagName(\"html\")[0];\"light\"===t?e.classList.contains(t)||(e.classList.remove(\"dark\"),e.classList.add(t)):e.classList.contains(t)||(e.classList.remove(\"light\"),e.classList.add(t));const n=$(\"link[href='./dist/glue42-light-theme.css']\");(0===n.length?$(\"link[href='./dist/glue42-dark-theme.css']\"):n).attr(\"href\",`./dist/glue42-${t}-theme.css`)}getDragElement(){return $(\".lm_dragProxy\")[0]}setDragElementSize(t,e){const n=this.getDragElement();if(n){n.setAttribute(\"width\",t+\"px\"),n.setAttribute(\"height\",e+\"px\");const i=$(n).children(\".lm_content\").children(\".lm_item_container\")[0];i.setAttribute(\"width\",t+\"px\"),i.setAttribute(\"height\",e+\"px\"),i.setAttribute(\"style\",\"\")}else{const n=new MutationObserver((i=>{let o;Array.from(i).forEach((t=>{const e=$(t.addedNodes);o||(o=e.find(\".lm_dragProxy\"))})),o&&(n.disconnect(),this.setDragElementSize(t,e))}));n.observe($(\"body\")[0],{childList:!0,subtree:!0})}}removeLayoutElement(t){let e;return d.layouts.filter((t=>t.layout)).forEach((n=>{const i=n.layout.root.getItemsById(t)[0];i&&n.windows.find((e=>e.id===t))&&(n.windows=n.windows.filter((e=>e.id!==t)),i.remove(),e=n)})),e}setWindowTitle(t,e){const n=d.getWindowContentItem(t);n.setTitle(e),n.config.componentState.title=e}setWorkspaceTitle(t,e){d.getWorkspaceLayoutItemById(t).setTitle(e)}focusWindow(t){const e=d.layouts.find((e=>e.windows.some((e=>e.id===t)))).layout.root.getItemsById(t)[0];e.parent.setActiveContentItem(e)}focusWorkspace(t){const e=d.getWorkspaceLayoutItemById(t);e.parent.setActiveContentItem(e)}maximizeWindow(t){const e=d.layouts.find((e=>e.windows.some((e=>e.id===t)))).layout.root.getItemsById(t)[0];e.parent.hasId(this._maximizedId)||e.parent.toggleMaximise()}restoreWindow(t){const e=d.layouts.find((e=>e.windows.some((e=>e.id===t)))).layout.root.getItemsById(t)[0];e.parent.hasId(this._maximizedId)&&e.parent.toggleMaximise()}showLoadedWindow(e,n){return t(this,void 0,void 0,(function*(){yield this.waitForWindowContainer(e);const t=d.getWindowContentItem(e),i=d.getByWindowId(e),o=t.config;o.componentState.windowId=n,i.windows.find((t=>t.id===e)).windowId=n,t.parent.replaceChild(t,o)}))}isWindowVisible(t){t=r(t);return d.getWindowContentItem(t).parent.getActiveContentItem().config.id===t}initWorkspaceContents(t,e){if(!e||\"component\"!==e.type&&!e.content.length)return d.addOrUpdate(t,[]),this.showAddButton(t),Promise.resolve();const n=((t,e)=>{let n,i,o=0;const s=setTimeout((()=>{i()}),e||1e4);return{reject:t=>{clearTimeout(s),i(t)},signal:()=>{o++,o>=t&&(clearTimeout(s),n())},promise:new Promise(((t,e)=>{n=t,i=e}))}})(2);e.settings||(e.settings=this._configFactory.getDefaultWorkspaceSettings()),e.type&&\"workspace\"!==e.type&&(e={settings:this._configFactory.getDefaultWorkspaceSettings(),content:[{type:\"column\",content:[e],workspacesConfig:{}}]}),\"component\"!==e.type&&\"stack\"===e.content[0].type&&(e=Object.assign(Object.assign({},e),{content:[{type:\"column\",content:e.content,workspacesConfig:{}}]}));const o=new i(e,$(\"#nestHere\"+t));d.addOrUpdate(t,[]),this.registerEmptyWindowComponent(o,t),a(e.content).forEach((t=>{this.registerWindowComponent(o,r(t.id))}));const s=$(\"#nestHere\"+t);return o.on(\"initialised\",(()=>{const e=a(o.toConfig().content);d.addOrUpdate(t,e.map((t=>{const e=o.root.getItemsById(r(t.id))[0].element;return{id:r(t.id),bounds:c(e),windowId:t.componentState.windowId}})),o),this.emitter.raiseEventWithDynamicName(\"content-layout-initialised-\"+t),this.emitter.raiseEvent(\"content-layout-init\",{layout:o});const i=s.width(),l=s.height();o.updateSize(i,l),n.signal()})),o.on(\"stateChanged\",(()=>{this.emitter.raiseEvent(\"content-layout-state-changed\",{layoutId:t})})),o.on(\"itemCreated\",(e=>{var n;if(e.isComponent)e.on(\"size-changed\",(()=>{const n=d.getById(t).windows.find((t=>t.id===e.config.id));n&&(n.bounds=c(e.element));const i=e.config.id;this.emitter.raiseEvent(\"content-item-resized\",{target:e.element[0],id:r(i)})})),(e.config.componentName===this._emptyVisibleWindowName||(null===(n=e.parent)||void 0===n?void 0:n.config.workspacesConfig.wrapper))&&e.tab.header.position(!1);else{if(e.isRoot)return void(e.id&&e.id.length||e.addId(t));e.config.id&&e.config.id.length||e.addId(this._configFactory.getId())}this.emitter.raiseEvent(\"content-item-created\",{workspaceId:t,item:e})})),o.on(\"stackCreated\",(e=>{const n=document.createElement(\"li\");n.classList.add(\"lm_add_button\"),n.onclick=i=>{i.stopPropagation(),this.emitter.raiseEvent(\"add-button-clicked\",{args:{laneId:r(e.config.id),workspaceId:t,bounds:c(n)}})};const i=$(e.element).children(\".lm_header\").children(\".lm_controls\").children(\".lm_maximise\");i.addClass(\"workspace_content\"),e.on(\"maximized\",(()=>{i.addClass(\"lm_restore\"),i.attr(\"title\",this._stackRestoreLabel),this.emitter.raiseEvent(\"stack-maximized\",{stack:e})})),e.on(\"minimized\",(()=>{i.removeClass(\"lm_restore\"),i.attr(\"title\",this._stackMaximizeLabel),this.emitter.raiseEvent(\"stack-restored\",{stack:e})})),this._options.disableCustomButtons||e.header.controlsContainer.prepend($(n)),e.on(\"activeContentItemChanged\",(()=>{const t=e.getActiveContentItem();if(!t.isComponent)return;const n=t.config.id,i=[{id:r(t.config.id),bounds:c(t.element),windowId:t.config.componentState.windowId,appName:t.config.componentState.appName,url:t.config.componentState.url}],o=e.header.tabs.reduce(((t,e)=>{const n=e.contentItem.config;if(\"component\"===n.type){const i={id:r(n.id),bounds:c(e.contentItem.element),windowId:n.componentState.windowId,appName:n.componentState.appName,url:n.componentState.url};t.push(i)}return t}),[]).filter((t=>t.id!==n));this.emitter.raiseEvent(\"selection-changed\",{toBack:o,toFront:i})})),e.on(\"popoutRequested\",(()=>{const t=e.getActiveContentItem();this.emitter.raiseEvent(\"eject-requested\",{item:t})}))})),o.on(\"tabCreated\",(t=>{t._dragListener.on(\"drag\",(()=>{this.emitter.raiseEvent(\"tab-drag\",{tab:t})})),t._dragListener.on(\"dragStart\",(()=>{this.emitter.raiseEvent(\"tab-drag-start\",{tab:t})})),t._dragListener.on(\"dragEnd\",(()=>{this.emitter.raiseEvent(\"tab-drag-end\",{tab:t})})),t.element.mousedown((()=>{this.emitter.raiseEvent(\"tab-element-mouse-down\",{tab:t})})),this.refreshTabSizeClass(t)})),o.on(\"tabCloseRequested\",(t=>{this.emitter.raiseEvent(\"tab-close-requested\",{item:t.contentItem})})),o.on(\"componentCreated\",(e=>{const i=this.emitter.raiseEvent(\"content-component-created\",{component:e,workspaceId:t});Array.isArray(i)?Promise.all(i).then((()=>{n.signal()})).catch((t=>n.reject(t))):i.then((()=>{n.signal()})).catch((t=>n.reject(t)))})),o.init(),n.promise}initWorkspaceConfig(e){return new Promise((n=>{e.settings.selectionEnabled=!0,d.workspaceLayout=new i(e,$(this._workspaceLayoutElementId),u.decoratedFactory);new p((t=>{Array.from(t).forEach((t=>{this.emitter.raiseEvent(\"outer-layout-container-resized\",{target:t.target})}))})).observe($(\"#outter-layout-container\")[0]),e.content[0].content.forEach((t=>{const e=t.id;this.registerWorkspaceComponent(r(e))})),d.workspaceLayout.on(\"initialised\",(()=>{this.emitter.raiseEvent(\"workspace-layout-initialised\",{}),n()})),d.workspaceLayout.on(\"stackCreated\",(e=>{var n;const i=e.header.controlsContainer.children(\".lm_close\")[0];i&&(i.onclick=()=>{this.emitter.raiseEvent(\"close-frame\",{})});const o=e.header.element[0];if(new MutationObserver((()=>{const t=this.getElementByClass(o,\"lm_add_button\");t&&u.decoratedFactory.createAddWorkspace&&(t.onclick=e=>{e.stopPropagation(),this.emitter.raiseEvent(\"workspace-add-button-clicked\",{bounds:c(t)})})})).observe(e.header.element[0],{attributes:!1,childList:!0,subtree:!0}),!this._options.disableCustomButtons&&!(null===(n=u.decoratedFactory)||void 0===n?void 0:n.createAddWorkspace)){const t=document.createElement(\"li\");t.classList.add(\"lm_add_button\"),t.onclick=t=>{t.stopPropagation(),this._emitter.raiseEvent(\"workspace-add-button-clicked\",{})},e.header.workspaceControlsContainer.prepend($(t))}if(!u.decoratedFactory.createLogo){const t=document.createElement(\"span\");t.classList.add(\"logo_type\");const n=e.header.element[0].getElementsByClassName(\"lm_logo\")[0];n&&n.appendChild(t)}e.on(\"activeContentItemChanged\",(()=>t(this,void 0,void 0,(function*(){if(0===d.workspaceIds.length)return;const t=e.getActiveContentItem().config.id;yield this.waitForLayout(r(t));const n=d.workspaceIds.reduce(((t,e)=>[...t,...d.getById(e).windows]),[]);this.emitter.raiseEvent(\"workspace-selection-changed\",{workspace:d.getById(t),toBack:n})}))))})),d.workspaceLayout.on(\"itemCreated\",(t=>{t.isComponent&&t.on(\"size-changed\",(()=>{this.emitter.raiseEvent(\"workspace-content-container-resized\",{target:t,id:r(t.config.id)}),this.emitter.raiseEventWithDynamicName(\"workspace-content-container-resized-\"+t.config.id,t)}))})),d.workspaceLayout.on(\"tabCreated\",(t=>{const e=document.createElement(\"div\");e.classList.add(\"lm_saveButton\"),e.onclick=e=>{e.stopPropagation(),this.emitter.raiseEvent(\"workspace-save-requested\",{workspaceId:r(t.contentItem.config.id)})},this._options.disableCustomButtons||t.element[0].prepend(e),this.refreshTabSizeClass(t)})),d.workspaceLayout.on(\"tabCloseRequested\",(t=>{this.emitter.raiseEvent(\"workspace-tab-close-requested\",{workspace:d.getById(t.contentItem.config.id)})})),d.workspaceLayout.init()}))}setupOuterLayout(){this.emitter.onOuterLayoutContainerResized((t=>{d.workspaceLayout.updateSize($(t).width(),$(t).height())}))}setupContentLayouts(t){this.emitter.onContentContainerResized((e=>{const n=d.getById(t).layout;n&&n.updateSize($(e.element).width(),$(e.element).height())}),t)}registerWindowComponent(t,e){this.registerComponent(t,\"app\"+e,(t=>{const n=document.createElement(\"div\");n.setAttribute(\"style\",\"height:100%;\"),n.id=\"app\"+e,t.getElement().append(n)}))}registerEmptyWindowComponent(t,e){this.registerComponent(t,this._emptyVisibleWindowName,(t=>{const n=document.createElement(\"div\");n.classList.add(\"empty-container-background\");const i=document.createElement(\"button\");i.classList.add(\"add-button\"),i.onclick=n=>{n.stopPropagation();const o=t.tab.contentItem,s=\"stack\"===o.parent.type?\"group\":o.parent.type;o.parent.config.workspacesConfig.wrapper?this.emitter.raiseEvent(\"add-button-clicked\",{args:{laneId:r(o.parent.parent.config.id),workspaceId:e,parentType:o.parent.parent.type,bounds:c(i)}}):this.emitter.raiseEvent(\"add-button-clicked\",{args:{laneId:r(o.parent.config.id),workspaceId:e,parentType:s,bounds:c(i)}})},n.append(i),t.getElement().append(n)}))}registerWorkspaceComponent(t){this.registerComponent(d.workspaceLayout,this._configFactory.getWorkspaceLayoutComponentName(t),(e=>{var n,i;const o=document.createElement(\"div\");o.setAttribute(\"style\",\"height:calc(100% - 1px); width:calc(100% - 1px);\"),o.id=\"nestHere\"+t;const s=document.createElement(\"button\");s.classList.add(\"add-button\"),s.onclick=n=>{n.stopPropagation();const i=e.tab.contentItem;this.emitter.raiseEvent(\"add-button-clicked\",{args:{laneId:r(i.parent.id),workspaceId:t,bounds:c(s)}})},o.appendChild(s),(null===(n=u.decoratedFactory)||void 0===n?void 0:n.createWorkspaceContents)?(document.body.append(o),o.style.display=\"none\",null===(i=u.decoratedFactory)||void 0===i||i.createWorkspaceContents({workspaceId:t,domNode:e.getElement()[0]})):e.getElement().append(o),$(s).hide()}))}registerComponent(t,e,n){try{t.registerComponent(e,(function(t,e){n&&n(t,e)}))}catch(t){console.log(\"Tried to register and already existing component - \"+e)}}waitForLayout(t){return new Promise((e=>{const n=this._registry.add(\"content-layout-initialised-\"+t,(()=>{e(),n()}));d.getById(t)&&(e(),n())}))}waitForWindowContainer(t){return new Promise((e=>{const n=this.emitter.onContentComponentCreated((i=>{i.config.id===t&&(e(),n())}));d.getWindowContentItem(t)&&(e(),n())}))}getWindowInfoFromConfig(t){return\"component\"!==t.type?this.getWindowInfoFromConfig(t.content[0]):{placementId:r(t.id),windowId:t.componentState.windowId,appName:t.componentState.appName,url:t.componentState.url}}refreshLayoutSize(){const t=c($(this._workspaceLayoutElementId));d.workspaceLayout.updateSize(t.width,t.height)}refreshTabSizeClass(t){const e=t.header.tabs,n=e.map((t=>t.element)).some((t=>t.hasClass(\"lm_tab_small\"))),i=e.map((t=>t.element)).some((t=>t.hasClass(\"lm_tab_mini\")));n&&t.element.addClass(\"lm_tab_small\"),i&&t.element.addClass(\"lm_tab_mini\")}getElementByClass(t,e){const n=t.getElementsByClassName(e);if(n.length>1)throw new Error(`Multiple elements with class ${e} in element with id ${t.id} and class ${t.className} are not supported`);return n[0]}}class f{constructor(t){this._registry=t}onWorkspaceLayoutInit(t){return this._registry.add(\"workspace-layout-initialised\",t)}onContentLayoutInit(t){return this._registry.add(\"content-layout-init\",t)}onOuterLayoutContainerResized(t){return this._registry.add(\"outer-layout-container-resized\",t)}onContentContainerResized(t,e){return e?this._registry.add(\"workspace-content-container-resized-\"+e,t):this._registry.add(\"workspace-content-container-resized\",t)}onContentItemResized(t){return this._registry.add(\"content-item-resized\",t)}onContentComponentCreated(t){return this._registry.add(\"content-component-created\",t)}onFrameCloseRequested(t){return this._registry.add(\"close-frame\",t)}onRestoreRequested(t){return this._registry.add(\"restore-frame\",t)}onMaximizeRequested(t){return this._registry.add(\"maximize-frame\",t)}onMinimizeRequested(t){return this._registry.add(\"minimize-frame\",t)}onMoveAreaChanged(t){return this._registry.add(\"move-area-changed\",t)}onTabCloseRequested(t){return this._registry.add(\"tab-close-requested\",t)}onTabDragStart(t){return this._registry.add(\"tab-drag-start\",t)}onTabDrag(t){return this._registry.add(\"tab-drag\",t)}onTabDragEnd(t){return this._registry.add(\"tab-drag-end\",t)}onTabElementMouseDown(t){return this._registry.add(\"tab-element-mouse-down\",t)}onSelectionChanged(t){return this._registry.add(\"selection-changed\",t)}onWorkspaceAdded(t){return this._registry.add(\"workspace-added\",t)}onWorkspaceSelectionChanged(t){return this._registry.add(\"workspace-selection-changed\",t)}onWorkspaceTabCloseRequested(t){return this._registry.add(\"workspace-tab-close-requested\",t)}onAddButtonClicked(t){return this._registry.add(\"add-button-clicked\",t)}onContentLayoutStateChanged(t){return this._registry.add(\"content-layout-state-changed\",t)}onContentItemCreated(t){return this._registry.add(\"content-item-created\",t)}onWorkspaceAddButtonClicked(t){return this._registry.add(\"workspace-add-button-clicked\",t)}onWorkspaceSaveRequested(t){return this._registry.add(\"workspace-save-requested\",t)}onStackMaximized(t){return this._registry.add(\"stack-maximized\",t)}onStackRestored(t){return this._registry.add(\"stack-restored\",t)}onEjectRequested(t){return this._registry.add(\"eject-requested\",t)}raiseEvent(t,e){const n=this._registry.execute(t,...Object.values(e));return Array.isArray(n)&&n.some((t=>t&&t.then))||n&&!Array.isArray(n)&&n.then?n:Promise.resolve(n)}raiseEventWithDynamicName(t,...e){this._registry.execute(t,...e)}}var g=1;var y,v,w,_={nextValue:function(){return(g=(9301*g+49297)%233280)/233280},seed:function(t){g=t}},b=\"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-\";function C(){w=!1}function I(t){if(t){if(t!==y){if(t.length!==b.length)throw new Error(\"Custom alphabet for shortid must be \"+b.length+\" unique characters. You submitted \"+t.length+\" characters: \"+t);var e=t.split(\"\").filter((function(t,e,n){return e!==n.lastIndexOf(t)}));if(e.length)throw new Error(\"Custom alphabet for shortid must be \"+b.length+\" unique characters. These characters were not unique: \"+e.join(\", \"));y=t,C()}}else y!==b&&(y=b,C())}function x(){return w||(w=function(){y||I(b);for(var t,e=y.split(\"\"),n=[],i=_.nextValue();e.length>0;)i=_.nextValue(),t=Math.floor(i*e.length),n.push(e.splice(t,1)[0]);return n.join(\"\")}())}var k={get:function(){return y||b},characters:function(t){return I(t),y},seed:function(t){_.seed(t),v!==t&&(C(),v=t)},lookup:function(t){return x()[t]},shuffled:x},E=\"object\"==typeof window&&(window.crypto||window.msCrypto),S=E&&E.getRandomValues?function(t){return E.getRandomValues(new Uint8Array(t))}:function(t){for(var e=[],n=0;n<t;n++)e.push(Math.floor(256*Math.random()));return e},T=function(t,e,n){for(var i=(2<<Math.log(e.length-1)/Math.LN2)-1,o=-~(1.6*i*n/e.length),s=\"\";;)for(var r=t(o),a=o;a--;)if((s+=e[r[a]&i]||\"\").length===+n)return s};var W,A,D=function(t){for(var e,n=0,i=\"\";!e;)i+=T(S,k.get(),1),e=t<Math.pow(16,n+1),n++;return i};var P=function(t){var e=\"\",n=Math.floor(.001*(Date.now()-1567752802062));return n===A?W++:(W=0,A=n),e+=D(7),e+=D(t),W>0&&(e+=D(W)),e+=D(n)};var L=function(t){return!(!t||\"string\"!=typeof t||t.length<6)&&!new RegExp(\"[^\"+k.get().replace(/[|\\\\{}()[\\]^$+*?.-]/g,\"\\\\$&\")+\"]\").test(t)},M=n((function(t){var e=0;function n(){return P(e)}t.exports=n,t.exports.generate=n,t.exports.seed=function(e){return k.seed(e),t.exports},t.exports.worker=function(n){return e=n,t.exports},t.exports.characters=function(t){return void 0!==t&&k.characters(t),k.shuffled()},t.exports.isValid=L}));class F{constructor(t){this._registry=s(),this._idToFrame={},this._glue=t}startFrame(e,n,i,o){return t(this,void 0,void 0,(function*(){if(o=o||M.generate(),this._idToFrame[e])return this._idToFrame[e];if(!n)throw new Error(`The url of window with itemId ${e} is undefined`);const t=document.createElement(\"iframe\");return t.name=o+\"#wsp\",t.src=n,document.body.appendChild(t),this._registry.execute(\"frameLoaded\",e),t.setAttribute(\"id\",e),$(t).css(\"position\",\"absolute\"),this._idToFrame[e]=t,yield this.waitForWindow(o),t}))}moveFrame(t,e){const n=this._idToFrame[t],i=$(n);i.css(\"top\",e.top+\"px\"),i.css(\"left\",e.left+\"px\"),i.css(\"width\",e.width+\"px\"),i.css(\"height\",e.height+\"px\")}selectionChanged(t,e){e.forEach((t=>{$(this._idToFrame[t]).css(\"z-index\",\"-1\")})),t.forEach((t=>{$(this._idToFrame[t]).hasClass(\"maximized-active-tab\")?$(this._idToFrame[t]).css(\"z-index\",\"42\"):$(this._idToFrame[t]).css(\"z-index\",\"19\")}))}maximizeTab(t){$(this._idToFrame[t]).addClass(\"maximized-active-tab\")}restoreTab(t){$(this._idToFrame[t]).removeClass(\"maximized-active-tab\")}selectionChangedDeep(t,e){e.forEach((t=>{$(this._idToFrame[t]).css(\"z-index\",\"-1\")})),t.forEach((t=>{$(this._idToFrame[t]).hasClass(\"maximized-active-tab\")?$(this._idToFrame[t]).css(\"z-index\",\"42\"):$(this._idToFrame[t]).css(\"z-index\",\"19\")}))}bringToFront(t){$(this._idToFrame[t]).css(\"z-index\",\"999\")}remove(t){const e=this._idToFrame[t];if(e){delete this._idToFrame[t];try{e.contentWindow.dispatchEvent(new Event(\"beforeunload\"))}catch(t){}e.remove()}}onFrameLoaded(t){return this._registry.add(\"frameLoaded\",t)}onFrameContentClicked(t){return this._registry.add(\"frame-content-clicked\",t)}onWindowTitleChanged(t){return this._registry.add(\"window-title-changed\",t)}waitForWindow(t){return new Promise(((e,n)=>{let i=()=>{};const o=setTimeout((()=>{n(`Window with id ${t} did not appear in 5000ms`),i()}),5e3);i=this._glue.windows.onWindowAdded((n=>{n.id===t&&(i(),e(),clearTimeout(o))}));this._glue.windows.list().find((e=>e.id===t))&&(e(),i(),clearTimeout(o))}))}}var z=new class{constructor(){this.LAST_SESSION_KEY=\"lastSession\"}get(t){return JSON.parse(localStorage.getItem(t))}set(t,e){localStorage.setItem(t,JSON.stringify(e))}};var B=new class{get config(){return this._config}loadConfig(){const t=new URLSearchParams(window.location.search),e=t.get(\"emptyFrame\"),n=t.get(\"disableCustomButtons\"),i=t.get(\"workspaceName\"),o=t.get(\"workspaceNames\"),s=t.get(\"context\"),r=t.get(\"build\");let a,c=[];try{c=JSON.parse(o)||c}catch(t){}try{a=JSON.parse(s)}catch(t){}i&&c.push(i);const l={emptyFrame:null!=e&&void 0!==e,disableCustomButtons:null!=n&&void 0!==n,workspaceNames:c,context:a,build:null!=r};return this._config=l,this.cleanUpUrl(),l}cleanUpUrl(){const t=this.removeQueryParams(window.location.search,[\"emptyFrame\"]);window.history.replaceState(null,document.title,window.location.origin+window.location.pathname+t)}removeQueryParams(t,e){return e.forEach((e=>{const n=new URLSearchParams(t),i=n.get(e);Array.from(n.keys()).indexOf(e)>-1&&(t=t.replace(`${e}=${i}`,\"\"))})),\"&\"===t[t.length-1]&&(t=t.substr(0,t.length-1)),t=(t=t.replace(\"&&\",\"&\")).replace(\"?&\",\"?\")}};class N{constructor(t,e,n,i){this.resolver=t,this._glue=e,this._configFactory=n,this._configConverter=i,this._layoutsType=\"Workspace\",this._layoutComponentType=\"Workspace\"}getInitialConfig(){var e;return t(this,void 0,void 0,(function*(){if(this._initialWorkspaceConfig)return this._configFactory.generateInitialConfig([this._initialWorkspaceConfig]);const n=B.config;if(n.workspaceNames&&n.workspaceNames.length){const e=(yield Promise.all(n.workspaceNames.map((e=>t(this,void 0,void 0,(function*(){return yield this.getWorkspaceByName(e)})))))).map((t=>(t.config.workspacesOptions=t.config.workspacesOptions||{},t.config.workspacesOptions.context=t.layoutData.context,t.config))).filter((t=>t));if(e.length)return e.forEach(((t,e)=>{t.id=this._configFactory.getId(),t.workspacesOptions=t.workspacesOptions||{},n.context&&t.workspacesOptions.context?t.workspacesOptions.context=Object.assign(t.workspacesOptions.context,n.context):n.context&&(t.workspacesOptions.context=n.context),t.workspacesOptions.layoutName=n.workspaceNames[e]})),this._configFactory.generateInitialConfig(e)}else if(!(null===(e=B.config)||void 0===e?void 0:e.build)){const t=this.getLastSession();if(t&&t.length)return t.forEach((t=>{t&&(t.id=this._configFactory.getId())})),this._configFactory.generateInitialConfig(t)}return this._configFactory.getDefaultFrameConfig()}))}getLastSession(){return(z.get(z.LAST_SESSION_KEY)||[]).map((t=>(this.addWorkspaceIds(t),this.addWindowIds(t),this._configConverter.convertToRendererConfig(t))))}getSavedWorkspaceNames(){return t(this,void 0,void 0,(function*(){return(yield this._glue.layouts.getAll(this._layoutsType)).filter((t=>t.type===this._layoutsType)).map((t=>t.name))}))}export(){return t(this,void 0,void 0,(function*(){return this._glue.layouts.export(this._layoutsType)}))}getWorkspaceByName(e){return t(this,void 0,void 0,(function*(){const t=yield this._glue.layouts.get(e,this._layoutsType),n=t.components[0].state,i=this._configConverter.convertToRendererConfig(n);return this.addWorkspaceIds(i),this.addWindowIds(i),{config:i,layoutData:{metadata:t.metadata,name:e,context:n.context}}}))}delete(e){return t(this,void 0,void 0,(function*(){yield this._glue.layouts.remove(this._layoutsType,e)}))}save(e){return t(this,void 0,void 0,(function*(){const{workspace:t,title:n,name:i,saveContext:o}=e;if(!t.layout)throw new Error(\"An empty layout cannot be saved\");t.layout.config.workspacesOptions.name=i;const s=yield this.saveWorkspaceCore(t);n&&(s.config.title=n);let r={};if(o)try{r=(yield this.getWorkspaceContext(t.id))||{}}catch(t){}const a={name:i,type:this._layoutsType,metadata:{},components:[{type:this._layoutComponentType,state:{children:s.children,config:s.config,context:r}}]};return yield this._glue.layouts.import([a]),a}))}generateLayout(e,n){return t(this,void 0,void 0,(function*(){if(!n.layout)throw new Error(\"An empty layout cannot be generated\");n.layout.config.workspacesOptions.name=e;const t=yield this.saveWorkspaceCore(n);return{name:e,type:this._layoutsType,metadata:{},components:[{type:this._layoutComponentType,state:{children:t.children,config:t.config,context:{}}}]}}))}saveWorkspacesFrame(e){return t(this,void 0,void 0,(function*(){const t=e.map((t=>this.saveWorkspaceCoreSync(t))),n=yield Promise.all(t);z.set(z.LAST_SESSION_KEY,n)}))}setInitialWorkspaceConfig(t){this._initialWorkspaceConfig=t}saveWorkspaceCore(e){return t(this,void 0,void 0,(function*(){if(!e.layout)return;const t=this.resolver.getWorkspaceConfig(e.id);this.removeWorkspaceIds(t),yield this.applyWindowLayoutState(t);const n=this._configConverter.convertToAPIConfig(t);return this.removeWorkspaceItemIds(n),this.windowSummariesToWindowLayout(n),this.addWindowUrlsToWindows(n),this.workspaceSummaryToWorkspaceLayout(n),n}))}saveWorkspaceCoreSync(t){if(!t.layout)return;const e=this.resolver.getWorkspaceConfig(t.id);this.removeWorkspaceIds(e);const n=this._configConverter.convertToAPIConfig(e);return this.removeWorkspaceItemIds(n),this.windowSummariesToWindowLayout(n),this.addWindowUrlsToWindows(n),this.workspaceSummaryToWorkspaceLayout(n),n}windowSummariesToWindowLayout(t){const e=t=>{if(\"window\"===t.type)return delete t.config.isMaximized,delete t.config.isLoaded,delete t.config.isFocused,delete t.config.windowId,delete t.config.workspaceId,delete t.config.frameId,delete t.config.positionIndex,void(t.config.appName&&delete t.config.url);t.children.forEach((t=>e(t)))};e(t)}addWindowContexts(e){return t(this,void 0,void 0,(function*(){const n=e=>t(this,void 0,void 0,(function*(){if(\"window\"!==e.type)yield Promise.all(e.children.map((t=>n(t))));else if(e.config.windowId){const t=this._glue.windows.findById(e.config.windowId);if(t){const n=yield t.getContext();e.config.context=Object.assign({},e.config.context||{},n)}}}));yield n(e)}))}workspaceSummaryToWorkspaceLayout(t){(null==t?void 0:t.config)&&(delete t.config.frameId,delete t.config.positionIndex)}addWindowUrlsToWindows(t){const e=t=>{var n,i;if(\"window\"!==t.type||t.config.url||t.config.appName)\"window\"!==t.type&&t.children.forEach((t=>e(t)));else{const e=this._glue.appManager.application(t.config.appName);t.config.url=null===(i=null===(n=null==e?void 0:e.userProperties)||void 0===n?void 0:n.details)||void 0===i?void 0:i.url}};e(t)}addWorkspaceIds(t){if(!t)return;const e=t=>{t.id=this._configFactory.getId(),t.type&&\"component\"===t.type&&(t.componentName=\"app\"+t.id),\"component\"!==t.type&&t.content&&t.content.forEach((t=>e(t)))};e(t)}addWindowIds(t){if(!t)return;const e=t=>{\"component\"===t.type&&(t.componentState.windowId=this._configFactory.getId()),\"component\"!==t.type&&t.content&&t.content.forEach((t=>e(t)))};e(t)}removeWorkspaceIds(t){const e=t=>{\"id\"in t&&delete t.id,\"component\"===(null==t?void 0:t.type)&&(t.componentName=\"placeHolderId\",t.title=\"placeHolderId\"),\"component\"!==t.type&&t.content&&t.content.forEach((t=>e(t)))};e(t)}removeWorkspaceItemIds(t){const e=t=>{var n;\"id\"in t&&delete t.id,\"window\"!==t.type&&(null===(n=t.children)||void 0===n||n.forEach((t=>e(t))))};e(t)}applyWindowLayoutState(e){return t(this,void 0,void 0,(function*(){const n=e=>t(this,void 0,void 0,(function*(){if(\"component\"===e.type){const t=yield this.getWindowLayoutState(e.windowId);e.componentState.layoutState=t}else e.content.forEach((t=>n(t)))}));yield Promise.all(e.content.map((e=>t(this,void 0,void 0,(function*(){yield n(e)})))))}))}getWorkspaceContext(e){return t(this,void 0,void 0,(function*(){return yield this._glue.contexts.get(l(e))}))}getWindowLayoutState(e){return t(this,void 0,void 0,(function*(){return Promise.resolve({windowId:e})}))}}class O{constructor(t,e){this._frameId=t,this._layoutEventEmitter=e}getWindowSummary(e){return t(this,void 0,void 0,(function*(){e=Array.isArray(e)?e[0]:e;let t=d.getWindowContentItem(e);return t||(yield this.waitForWindowContentItem(e),t=d.getWindowContentItem(e)),this.getWindowSummaryCore(t,e)}))}getWindowSummarySync(t,e){t=Array.isArray(t)?t[0]:t;const n=e||d.getWindowContentItem(t);return this.getWindowSummaryCore(n,t)}getWorkspaceConfig(t){const e=d.getById(t);if(!e)throw new Error(\"Could find workspace to remove with id \"+t);const n=e.layout?e.layout.toConfig():{workspacesOptions:{},content:[],id:t};return n.workspacesOptions.frameId=this._frameId,n.workspacesOptions.positionIndex=this.getWorkspaceTabIndex(t),n.workspacesOptions.title||(n.workspacesOptions.title=d.getWorkspaceTitle(t)),n.workspacesOptions.name=n.workspacesOptions.name||n.workspacesOptions.title,this.transformComponentsToWindowSummary(n),this.transformParentsToContainerSummary(n),n}getWorkspaceSummary(t){const e=this.getWorkspaceConfig(t),n=this.getWorkspaceTabIndex(t),i={frameId:this._frameId,positionIndex:n,title:d.getWorkspaceTitle(t),name:e.workspacesOptions.name||d.getWorkspaceTitle(t)};return e.workspacesOptions.layoutName&&(i.layoutName=e.workspacesOptions.layoutName),{config:i,id:t}}isWindowMaximized(t){const e=r(t),n=d.getWindowContentItem(e);return null==n?void 0:n.parent.isMaximized}isWindowSelected(t){const e=r(t),n=d.getWindowContentItem(e);return(null==n?void 0:n.parent.getActiveContentItem().config.id)===e}getContainerSummary(t){var e;t=r(t);const n=d.getByContainerId(t),i=d.getContainer(t),o=null===(e=i.parent)||void 0===e?void 0:e.contentItems.indexOf(i);return{itemId:t,config:{workspaceId:n.id,frameId:this._frameId,positionIndex:o||0}}}getContainerSummaryByReference(t,e){var n;const i=null===(n=t.parent)||void 0===n?void 0:n.contentItems.indexOf(t);return{itemId:r(t.config.id),config:{workspaceId:e,frameId:this._frameId,positionIndex:i||0}}}getContainerConfig(t){t=r(t);const e=(d.getByContainerId(t)||d.getByWindowId(t)).layout.toConfig();return this.findElementInConfig(t,e)}isWindowInWorkspace(t){return!!d.getWindowContentItem(t)}getFrameSnapshot(){const t=d.workspaceIds.map((t=>this.getWorkspaceSummary(t)));return{id:this._frameId,config:{},workspaces:t}}getSnapshot(t){try{return this.getWorkspaceConfig(t)}catch(t){return this.getFrameSnapshot()}}findElementInConfig(t,e){const n=e=>{if(e.id===t)return[e];return(\"component\"!==e.type?e.content:[]).reduce(((t,e)=>[...t,...n(e)]),[])};return n(e).find((t=>t.id))}getWorkspaceTabIndex(t){var e;const n=null===(e=d.workspaceLayout.root.getItemsById(t)[0])||void 0===e?void 0:e.parent;if(!n)return 0;return n.header.tabs.findIndex((e=>e.contentItem.config.id===t))}getWindowSummaryCore(t,e){const n=t.parent.getActiveContentItem().config.id===t.config.id,i=void 0!==t.config.componentState.windowId,o=t.parent.contentItems.indexOf(t),s=d.getByWindowId(e).id,{appName:a,url:c,windowId:l}=t.config.componentState,h=this.getUserFriendlyParent(t);return{itemId:r(t.config.id),parentId:r(h.config.id),config:{frameId:this._frameId,isFocused:n,isLoaded:i,positionIndex:o,workspaceId:s,windowId:l,isMaximized:this.isWindowMaximized(l),appName:a,url:c,title:t.config.title}}}getUserFriendlyParent(t){return t.parent?t.parent.config.workspacesConfig.wrapper?this.getUserFriendlyParent(t.parent):t.parent:t}transformComponentsToWindowSummary(t){var e;if(\"component\"!==t.type||\"emptyVisibleWindow\"!==t.componentName){if(\"component\"===t.type){const e=this.getWindowSummarySync(t.id);return t.workspacesConfig=t.workspacesConfig||{},void(t.workspacesConfig=Object.assign(Object.assign({},t.workspacesConfig),e.config))}null===(e=t.content)||void 0===e||e.map((t=>this.transformComponentsToWindowSummary(t)))}}transformParentsToContainerSummary(t){var e;if(\"component\"!==t.type){if(\"stack\"===t.type||\"row\"===t.type||\"column\"===t.type){const e=this.getContainerSummary(t.id);t.workspacesConfig=t.workspacesConfig||{},t.workspacesConfig=Object.assign(Object.assign({},t.workspacesConfig),e.config)}null===(e=t.content)||void 0===e||e.map((t=>this.transformParentsToContainerSummary(t)))}}waitForWindowContentItem(t){return new Promise((e=>{const n=this._layoutEventEmitter.onContentComponentCreated((i=>{i.config.id===t&&(n(),e())}));d.getWindowContentItem(t)&&(n(),e())}))}}class R{constructor(){this._pattern=/^Untitled ([0-9]+)$/}getTitle(t,e=0){const n=t.filter((t=>this._pattern.test(t))).map((t=>parseInt(this._pattern.exec(t)[1],10)));return\"Untitled \"+((n.length?n.sort(((t,e)=>t-e))[n.length-1]:0)+1+e)}}class H{constructor(t){this._titleGenerator=new R,this._defaultWorkspaceLayoutSettings={showCloseIcon:!1,showMaximizeIcon:!1,showPopoutIcon:!1,disableDragProxy:!0,mode:\"workspace\"},this._glue=t}createEmptyVisibleWindowConfig(){return Object.assign(Object.assign({},this.createWindowConfigurationCore()),{componentState:{header:!1}})}createGDWindowConfig(t){const e=this.createWindowConfigurationCore(t.id);return Object.assign(Object.assign({},e),{componentName:\"app\"+e.id,windowId:t.windowId,title:t.title,componentState:{windowId:t.windowId,appName:t.appName,url:t.url,title:t.title,context:t.context}})}createApiWindow(t){return{id:Array.isArray(t.id)?t.id[0]:t.id,type:\"window\",config:{windowId:t.windowId,isMaximized:t.isMaximized,isLoaded:void 0!==t.windowId,isFocused:t.isFocused,appName:t.appName,url:t.url,title:t.title,workspaceId:t.workspaceId,frameId:t.frameId,positionIndex:t.positionIndex}}}getWorkspaceLayoutComponentName(t){return\"workspace\"+t}getWorkspaceTitle(t){return this._titleGenerator.getTitle(t)}getId(){return M.generate()}getDefaultWorkspaceSettings(){return{mode:\"default\",showCloseIcon:!1,showPopoutIcon:!0}}getDefaultFrameConfig(){const t=M.generate();return{frameId:void 0,workspaceConfigs:[{id:t,config:this.getDefaultWorkspaceConfig()}],workspaceLayout:{settings:this._defaultWorkspaceLayoutSettings,content:[{type:\"stack\",content:[{type:\"component\",id:t,componentName:this.getWorkspaceLayoutComponentName(t),componentState:{},workspacesConfig:{},title:this.getWorkspaceTitle(d.workspaceTitles)}],workspacesConfig:{}}]}}}getDefaultWorkspaceConfig(){}generateInitialConfig(t){const e={settings:this._defaultWorkspaceLayoutSettings,content:[{type:\"stack\",content:t.map((t=>{var e,n,i;const o=M.generate();return{workspacesConfig:{},type:\"component\",id:(null==t?void 0:t.id)||o,componentName:this.getWorkspaceLayoutComponentName(r(null==t?void 0:t.id)||o),componentState:{},noTabHeader:null===(e=null==t?void 0:t.workspacesOptions)||void 0===e?void 0:e.noTabHeader,title:(null===(n=null==t?void 0:t.workspacesOptions)||void 0===n?void 0:n.title)||(null===(i=null==t?void 0:t.workspacesOptions)||void 0===i?void 0:i.name)||this.getWorkspaceTitle(d.workspaceIds)}})),workspacesConfig:{}}]};return{frameId:void 0,workspaceConfigs:t.map(((t,n)=>{let i=null==t?void 0:t.id;return i||\"component\"===e.content[0].type||(i=e.content[0].content[n].id),{id:i,config:t}})),workspaceLayout:e}}wrapInGroup(t){return this.wrap(t,\"stack\")}getAppNameFromWindowId(t){const e=this._glue.appManager.instances().find((e=>e.agm.windowId===t));return null==e?void 0:e.application.name}createWindowConfigurationCore(t){return{workspacesConfig:{},type:\"component\",id:t||this.getId(),componentName:\"emptyVisibleWindow\"}}wrap(t,e){return{workspacesConfig:{wrapper:!0},type:e,content:t}}}class j{constructor(){this.registry=s()}onFrameEvent(t){return this.registry.add(\"frame\",t)}onWindowEvent(t){return this.registry.add(\"window\",t)}onContainerEvent(t){return this.registry.add(\"container\",t)}onWorkspaceEvent(t){return this.registry.add(\"workspace\",t)}raiseFrameEvent(t){this.registry.execute(\"frame\",t.action,t.payload)}raiseWindowEvent(t){this.registry.execute(\"window\",t.action,t.payload)}raiseContainerEvent(t){this.registry.execute(\"container\",t.action,t.payload)}raiseWorkspaceEvent(t){this.registry.execute(\"workspace\",t.action,t.payload)}}class q{constructor(t){this._configFactory=t,this.flat=t=>t.reduce(((t,e)=>[...t,...Array.isArray(e)?e:[e]]),[])}convertToRendererConfig(t){if(t)return this.convertToRendererConfigCore(t,void 0)}convertToAPIConfig(t){if(t)return this.convertToApiConfigCore(t)}convertToRendererConfigCore(t,e){var n,i,o,s,r;let a={type:t.type,content:[],workspacesOptions:t.config||{}};if(\"workspace\"!==t.type&&t.type||(a=this.applyDefaultRendererConfig({content:[],workspacesOptions:t.config})),\"workspace\"===t.type||!t.type){const e=t,{children:n}=e;return n.length>1&&n.every((t=>\"column\"===t.type))?a.content.push(this.wrap(n.map((t=>this.convertToRendererConfigCore(t,e))),\"row\")):n.length>1&&n.every((t=>\"row\"===t.type))?a.content.push(this.wrap(n.map((t=>this.convertToRendererConfigCore(t,e))),\"column\")):a.content.push(...n.map((t=>this.convertToRendererConfigCore(t,e)))),a}if(\"column\"===t.type||\"row\"===t.type)return a.content.push(...t.children.map((e=>this.convertToRendererConfigCore(e,t)))),0===a.content.length&&a.content.push(this.getGroupWithEmptyVisibleWindow()),a;if(\"group\"===t.type)return a.type=\"stack\",a.content.push(...t.children.map((e=>this.convertToRendererConfigCore(e,t)))),0===a.content.length&&a.content.push(this._configFactory.createEmptyVisibleWindowConfig()),a;if(\"window\"===t.type){let a=(null===(n=t.config)||void 0===n?void 0:n.appName)||t.appName;const c=null===(i=t.config)||void 0===i?void 0:i.windowId;!a&&c&&(a=this._configFactory.getAppNameFromWindowId(c));const l=this._configFactory.createGDWindowConfig({windowId:c,id:t.id,appName:a,url:(null===(o=t.config)||void 0===o?void 0:o.url)||t.url,title:(null===(s=t.config)||void 0===s?void 0:s.title)||t.title,context:(null===(r=t.config)||void 0===r?void 0:r.context)||t.context});return\"group\"!==e.type?(l.componentState.header=!1,this.wrap([l],\"stack\")):l}}convertToApiConfigCore(t){if(!t.type||\"workspace\"===t.type){t=t;const e=this.flat(t.content.map((t=>this.convertToApiConfigCore(t))));return{id:r(t.id),config:t.workspacesOptions,children:e}}if(\"component\"===t.type&&\"emptyVisibleWindow\"===t.componentName)return[];if(\"component\"!==t.type&&t.workspacesConfig&&t.workspacesConfig.wrapper)return this.flat(t.content.map((t=>this.convertToApiConfigCore(t))));if(\"component\"===t.type){const e=t.workspacesConfig;return this._configFactory.createApiWindow({id:t.id,isFocused:!1,isMaximized:e.isMaximized,windowId:t.componentState.windowId,appName:t.componentState.appName,url:t.componentState.url,frameId:e.frameId,workspaceId:e.workspaceId,title:e.title,positionIndex:e.positionIndex})}return{id:r(t.id),type:\"stack\"===t.type?\"group\":t.type,children:this.flat(t.content.map((t=>this.convertToApiConfigCore(t)))),config:{}}}wrap(t,e){return{workspacesConfig:{wrapper:!0},type:e,content:t}}applyDefaultRendererConfig(t){return Object.assign({settings:Object.assign({},this._configFactory.getDefaultWorkspaceSettings())},t)}getGroupWithEmptyVisibleWindow(){return this.wrap([this._configFactory.createEmptyVisibleWindowConfig()],\"stack\")}}class U{constructor(t,e,n){this._externalPopupManager=t,this._componentPopupManager=e,this._componentFactory=n}showAddWindowPopup(e,n){var i;return t(this,void 0,void 0,(function*(){return(null===(i=this._componentFactory)||void 0===i?void 0:i.createAddApplicationPopup)?this._componentPopupManager.showAddWindowPopup(e,n):this._externalPopupManager.showAddWindowPopup(e,n)}))}showOpenWorkspacePopup(e,n){var i;return t(this,void 0,void 0,(function*(){return(null===(i=this._componentFactory)||void 0===i?void 0:i.createAddWorkspacePopup)?this._componentPopupManager.showOpenWorkspacePopup(e):this._externalPopupManager.showOpenWorkspacePopup(e,n)}))}showSaveWorkspacePopup(e,n){var i;return t(this,void 0,void 0,(function*(){return(null===(i=this._componentFactory)||void 0===i?void 0:i.createSaveWorkspacePopup)?this._componentPopupManager.showSaveWorkspacePopup(e,n):this._externalPopupManager.showSaveWorkspacePopup(e,n)}))}hidePopup(){this._externalPopupManager.hidePopup(),this._componentFactory&&this._componentPopupManager.hidePopup()}}class V{constructor(t){this._addApplicationType=\"addApplication\",this._openWorkspaceType=\"openWorkspace\",this._saveWorkspaceType=\"saveWorkspace\",this._showPopupMethod=\"T42.Workspaces.ShowPopup\",this._glue=t,this.initPopup(),this.registerHideMethod(),this.registerResizeMethod()}showAddWindowPopup(e,n){return t(this,void 0,void 0,(function*(){this.hidePopup();const t=yield this.getPopupSize(this._addApplicationType,n);this.showElement(this._popup,e,t)}))}showOpenWorkspacePopup(e,n){return t(this,void 0,void 0,(function*(){this.hidePopup();const t=yield this.getPopupSize(this._openWorkspaceType,n);this.showElement(this._popup,e,t)}))}showSaveWorkspacePopup(e,n){return t(this,void 0,void 0,(function*(){this.hidePopup();const t=yield this.getPopupSize(this._saveWorkspaceType,n);this.showElement(this._popup,e,t)}))}hidePopup(){$(this._popup).css(\"visibility\",\"hidden\")}initPopup(){}showElement(t,e,n){$(t).css(\"visibility\",\"visible\").css(\"top\",e.top+\"px\").css(\"left\",e.left+\"px\"),n.height&&$(t).css(\"height\",n.height+\"px\"),n.width&&$(t).css(\"width\",n.width+\"px\");const i=t.getBoundingClientRect(),o=document.body.getBoundingClientRect(),s=o.width-i.right-10,r=o.height-i.bottom-10;s<0&&$(t).css(\"left\",e.left+s),r<0&&$(t).css(\"top\",e.top+r)}resizePopup(t){const e=$(this._popup);t.height&&e.css(\"height\",t.height+\"px\"),t.width&&e.css(\"width\",t.width+\"px\");const n=this._popup.getBoundingClientRect(),i=document.body.getBoundingClientRect(),o=i.width-n.right-10,s=i.height-n.bottom-10;if(o<0){const t=e.css(\"left\"),n=parseInt(t.substring(0,t.length-2));e.css(\"left\",n+o)}if(s<0){const t=e.css(\"top\"),n=parseInt(t.substring(0,t.length-2));e.css(\"top\",n+s)}}getPopupSize(e,n){return t(this,void 0,void 0,(function*(){const t=this.getPopupInteropId(),i=this._glue.agm.servers().find((e=>e.windowId===t));return(yield this._glue.agm.invoke(this._showPopupMethod,{type:e,payload:n},i)).returned}))}registerHideMethod(){this._glue.agm.register(\"T42.Workspaces.HidePopup\",(()=>{this.hidePopup()}))}registerResizeMethod(){this._glue.agm.register(\"T42.Workspaces.ResizePopup\",(t=>{this.resizePopup(t.size)}))}getPopupInteropId(){try{return this._popup.contentWindow.interopId||\"best\"}catch(t){console.warn(\"Could not get the popup interop id using best\")}return\"best\"}getPopupWindowTemplate(t){return`<iframe id=\"popup\" src=\"${t}\" class=\"popup\"></iframe>`}}class G{constructor(t,e){this._addApplicationType=\"addApplication\",this._openWorkspaceType=\"openWorkspace\",this._saveWorkspaceType=\"saveWorkspace\",this._popupSizes={[this._addApplicationType]:{height:200,width:200},[this._openWorkspaceType]:{height:200,width:200},[this._saveWorkspaceType]:{height:200,width:200}},this.hidePopup=()=>(document.body.onclick=void 0,$(this._popup).css(\"visibility\",\"hidden\"),new Promise((t=>{var e;(null===(e=this._componentFactory)||void 0===e?void 0:e.hideSystemPopups)?this._componentFactory.hideSystemPopups(t):t()}))),this._componentFactory=t,this._frameId=e,this.initPopup()}showAddWindowPopup(e,{workspaceId:n,parentType:i,boxId:o}){return t(this,void 0,void 0,(function*(){yield this.showInternalAddAppPopup(e,o,n,i)}))}showOpenWorkspacePopup(e){return t(this,void 0,void 0,(function*(){yield this.showInternalOpenWorkspacePopup(e)}))}showSaveWorkspacePopup(e,n){return t(this,void 0,void 0,(function*(){yield this.showInternalSaveWorkspacePopup(e,n)}))}showInternalSaveWorkspacePopup(e,n){return t(this,void 0,void 0,(function*(){yield this.hidePopup();const t=this.getPopupSize(this._saveWorkspaceType);this.showElement(this._popup,e,t),this._componentFactory.createSaveWorkspacePopup({domNode:this._popup,resizePopup:t=>this.resizePopup(t,this._saveWorkspaceType,$(this._popup)),hidePopup:this.hidePopup,workspaceId:n.workspaceId,buildMode:n.buildMode})}))}showInternalOpenWorkspacePopup(e){return t(this,void 0,void 0,(function*(){yield this.hidePopup();const t=this.getPopupSize(this._openWorkspaceType);this.showElement(this._popup,e,t),this._componentFactory.createAddWorkspacePopup({domNode:this._popup,frameId:this._frameId,hidePopup:this.hidePopup,resizePopup:t=>this.resizePopup(t,this._openWorkspaceType,$(this._popup))})}))}showInternalAddAppPopup(e,n,i,o){return t(this,void 0,void 0,(function*(){yield this.hidePopup();const t=this.getPopupSize(this._addApplicationType);this.showElement(this._popup,e,t),this._componentFactory.createAddApplicationPopup({domNode:this._popup,boxId:n,parentType:o,resizePopup:t=>this.resizePopup(t,this._addApplicationType,$(this._popup)),hidePopup:this.hidePopup,workspaceId:i,frameId:this._frameId})}))}initPopup(){this._popup=document.createElement(\"div\"),this._popup.classList.add(\"workspaces-system-popup\"),document.body.appendChild(this._popup)}showElement(t,e,n){document.body.onclick=t=>{-1===t.composedPath().indexOf(this._popup)&&this.hidePopup()},$(t).css(\"visibility\",\"visible\").css(\"top\",e.top+\"px\").css(\"left\",e.left+\"px\"),n.height&&$(t).css(\"height\",n.height+\"px\"),n.width&&$(t).css(\"width\",n.width+\"px\");const i=t.getBoundingClientRect(),o=document.body.getBoundingClientRect(),s=o.width-i.right-10,r=o.height-i.bottom-10;s<0&&$(t).css(\"left\",e.left+s),r<0&&$(t).css(\"top\",e.top+r)}resizePopup(t,e,n){t.height&&(n.css(\"height\",t.height+\"px\"),this._popupSizes[e].height=t.height),t.width&&(n.css(\"width\",t.width+\"px\"),this._popupSizes[e].width=t.width);const i=n[0].getBoundingClientRect(),o=document.body.getBoundingClientRect(),s=o.width-i.right-10,r=o.height-i.bottom-10;if(s<0){const t=n.css(\"left\"),e=parseInt(t.substring(0,t.length-2),10);n.css(\"left\",e+s)}if(r<0){const t=n.css(\"top\"),e=parseInt(t.substring(0,t.length-2),10);n.css(\"top\",e+r)}}getPopupSize(t){return this._popupSizes[t]}}var X=new class{constructor(){this._isLayoutInitialized=!1,this._initPromise=Promise.resolve(),this._workspacesEventEmitter=new j,this._titleGenerator=new R,this.getComponentBounds=()=>this._controller.bounds,this.subscribeForWindowClicked=t=>this._frameController.onFrameContentClicked(t),this.cleanUp=()=>{var t;if(null===(t=B.config)||void 0===t?void 0:t.build)return;const e=[],n=d.workspaceIds.map((t=>{const n=d.getById(t);return e.push(...n.windows.map((t=>this.stateResolver.getWindowSummarySync(t.id)))),this.stateResolver.getWorkspaceSummary(t)}));e.forEach((t=>{this.notifyFrameWillClose(t.config.windowId,t.config.appName).catch((t=>{})),this.workspacesEventEmitter.raiseWindowEvent({action:\"removed\",payload:{windowSummary:t}})})),n.forEach((t=>{this.workspacesEventEmitter.raiseWorkspaceEvent({action:\"closed\",payload:{frameSummary:{id:this._frameId},workspaceSummary:t}})}));const i=d.layouts.filter((t=>{var e,n,i;return!(null===(i=null===(n=null===(e=t.layout)||void 0===e?void 0:e.config)||void 0===n?void 0:n.workspacesOptions)||void 0===i?void 0:i.noTabHeader)}));this._layoutsManager.saveWorkspacesFrame(i),this.workspacesEventEmitter.raiseFrameEvent({action:\"closed\",payload:{frameSummary:{id:this._frameId}}})}}get stateResolver(){return this._stateResolver}get workspacesEventEmitter(){return this._workspacesEventEmitter}get initPromise(){return this._initPromise}get initialized(){return this._initialized}get frameId(){return this._frameId}init(t,e,n){this._glue=t;const i=B.loadConfig();if(this._initialized)return void u.reInitialize(n);this._initialized=!0,this._frameId=e,this._configFactory=new H(t);const o=new q(this._configFactory);u.init(this._frameId,n);const r=new f(s());return this._stateResolver=new O(this._frameId,r),this._controller=new m(r,this._stateResolver,i,this._configFactory),this._frameController=new F(t),this._layoutsManager=new N(this.stateResolver,t,this._configFactory,o),this._popupManager=new U(new V(t),new G(n,e),n),i.emptyFrame||this.initLayout(),{cleanUp:this.cleanUp}}saveWorkspace(e,n,i){return t(this,void 0,void 0,(function*(){const t=d.getById(n)||d.getActiveWorkspace(),o=yield this._layoutsManager.save({name:e,workspace:t,title:e,saveContext:i});return t.layout.config.workspacesOptions.layoutName=e,t.layout.config.workspacesOptions.noTabHeader&&delete t.layout.config.workspacesOptions.noTabHeader,d.getWorkspaceLayoutItemById(n).setTitle(e),o}))}openWorkspace(e,n){return t(this,void 0,void 0,(function*(){const t=yield this._layoutsManager.getWorkspaceByName(e),i=t.config;return i.workspacesOptions.context=t.layoutData.context,(null==n?void 0:n.context)&&i.workspacesOptions.context?i.workspacesOptions.context=Object.assign(t.layoutData.context,null==n?void 0:n.context):(null==n?void 0:n.context)&&(i.workspacesOptions.context=null==n?void 0:n.context),(null==n?void 0:n.title)&&(i.workspacesOptions.title=null==n?void 0:n.title),i&&i.workspacesOptions&&!i.workspacesOptions.name&&(i.workspacesOptions.name=e),i&&(i.workspacesOptions=i.workspacesOptions||{},i.workspacesOptions.layoutName=t.layoutData.name),i&&void 0!==(null==n?void 0:n.noTabHeader)&&(i.workspacesOptions=i.workspacesOptions||{},i.workspacesOptions.noTabHeader=null==n?void 0:n.noTabHeader),this._isLayoutInitialized?e?(i.id=this._configFactory.getId(),yield this.addWorkspace(r(i.id),i),r(i.id)):void 0:(this._layoutsManager.setInitialWorkspaceConfig(i),this._initPromise=this.initLayout(),yield this._initPromise,r(i.id))}))}exportAllLayouts(){return this._layoutsManager.export()}deleteLayout(t){this._layoutsManager.delete(t)}maximizeItem(t){this._controller.maximizeWindow(t)}restoreItem(t){this._controller.restoreWindow(t)}closeItem(t){const e=d.getWindow(t),n=d.getContainer(t);if(this._frameId===t)d.workspaceIds.forEach((t=>this.closeWorkspace(d.getById(t))));else if(e){const e=d.getWindowContentItem(t);this.closeTab(e)}else if(n)this._controller.closeContainer(t);else{const e=d.getById(t);this.closeWorkspace(e)}}addContainer(t,e){return this._controller.addContainer(t,e)}addWindow(t,e){const n=d.getContainer(e);return n&&\"stack\"===n.type||\"component\"!==t.type||(t=this._configFactory.wrapInGroup([t])),this._controller.addWindow(t,e)}setItemTitle(t,e){d.getById(t)?this._controller.setWorkspaceTitle(t,e):this._controller.setWindowTitle(t,e)}eject(e){return t(this,void 0,void 0,(function*(){const{appName:t,url:n,windowId:i}=e.config.componentState,o=d.getWorkspaceContext(d.getByWindowId(e.config.id).id),s=this._glue.windows.findById(i),a=s?yield s.getContext():o;this.closeItem(r(e.config.id));const c=this.getUrlByAppName(t)||n;return{windowId:(yield this._glue.windows.open(t,c,{context:a})).id}}))}createWorkspace(e){return t(this,void 0,void 0,(function*(){if(!this._isLayoutInitialized)return e.id=this._configFactory.getId(),this._layoutsManager.setInitialWorkspaceConfig(e),this._initPromise=this.initLayout(),yield this._initPromise,r(e.id);const t=this._configFactory.getId();return yield this.addWorkspace(t,e),t}))}loadWindow(e){return t(this,void 0,void 0,(function*(){let t=d.getWindowContentItem(e),{windowId:n}=t.config.componentState;return n||(yield this.waitForFrameLoaded(e),t=d.getWindowContentItem(e),n=t.config.componentState.windowId),new Promise(((t,i)=>{n||i(`The window id of ${e} is missing`);let o=()=>{};const s=setTimeout((()=>{i(`Could not load window ${n} for 5000ms`),o()}),5e3);o=this._glue.windows.onWindowAdded((e=>{e.id===n&&(t({windowId:n}),o(),clearTimeout(s))}));this._glue.windows.list().find((t=>t.id===n))&&(t({windowId:n}),o(),clearTimeout(s))}))}))}focusItem(e){return t(this,void 0,void 0,(function*(){const t=d.getById(e);this._frameId===e?yield this._glue.windows.my().focus():t?this._controller.focusWorkspace(t.id):this._controller.focusWindow(e)}))}bundleWorkspace(t,e){this._controller.bundleWorkspace(t,e)}move(t){return this._glue.windows.my().moveTo(t.y,t.x)}getFrameSummary(t){const e=d.getByContainerId(t)||d.getByWindowId(t)||d.getById(t),n=this._frameId===t;return{id:e||n?this._frameId:\"none\"}}moveWindowTo(e,n){return t(this,void 0,void 0,(function*(){if(!(d.getByContainerId(n)||d.getById(n)))throw new Error(`Could not find container ${n} in frame ${this._frameId}`);const t=d.getWindowContentItem(e);if(!t)throw new Error(`Could not find window ${e} in frame ${this._frameId}`);return this.closeTab(t),this._controller.addWindow(t.config,n)}))}generateWorkspaceLayout(t,e){const n=d.getById(e);if(!n)throw new Error(\"Could not find workspace with id \"+e);return this._layoutsManager.generateLayout(t,n)}initLayout(){return t(this,void 0,void 0,(function*(){const t=yield this._layoutsManager.getInitialConfig();this.subscribeForPopups(),this.subscribeForLayout(),this._isLayoutInitialized=!0,yield Promise.all(t.workspaceConfigs.map((t=>{var e,n;return this._glue.contexts.set(l(t.id),(null===(n=null===(e=t.config)||void 0===e?void 0:e.workspacesOptions)||void 0===n?void 0:n.context)||{})}))),yield this._controller.init({frameId:this._frameId,workspaceLayout:t.workspaceLayout,workspaceConfigs:t.workspaceConfigs}),d.layouts.map((t=>t.layout)).filter((t=>t)).forEach((t=>this.reportLayoutStructure(t))),B.config.emptyFrame&&this._workspacesEventEmitter.raiseFrameEvent({action:\"opened\",payload:{frameSummary:{id:this._frameId}}})}))}subscribeForLayout(){this._controller.emitter.onContentComponentCreated(((e,n)=>t(this,void 0,void 0,(function*(){var t,i;if(\"emptyVisibleWindow\"===e.config.componentName)return;const o=d.getById(n),s=c(e.element),{componentState:a}=e.config,{title:l,appName:h}=a;let{windowId:u}=a;const p=r(e.config.id),m=this.getTitleByAppName(h),f=l||m||h,g=null===(t=null==e?void 0:e.config.componentState)||void 0===t?void 0:t.context;let y=this.getUrlByAppName(a.appName)||a.url;const v=!d.getWindow(p);if(!y&&u){const t=this._glue.windows.list().find((t=>t.id===u));y=yield t.getURL();d.getWindow(p).url=y}if(u=u||M.generate(),d.addWindow({id:p,bounds:s,windowId:u,url:y,appName:h},o.id),(null===(i=e.config.componentState)||void 0===i?void 0:i.context)&&delete e.config.componentState.context,e.config.componentState.url=y,f&&e.setTitle(f),v){const t=this.stateResolver.getWindowSummarySync(p,e);this.workspacesEventEmitter.raiseWindowEvent({action:\"added\",payload:{windowSummary:t}})}const w=this._glue.windows.findById(u);if(w)try{yield w.close()}catch(t){}try{yield this.notifyFrameWillStart(u,h,g);yield this._frameController.startFrame(p,y,void 0,u);e.config.componentState.windowId=u,this._frameController.moveFrame(p,c(e.element))}catch(t){e.config.componentState.windowId=void 0,y?this._frameController.moveFrame(p,c(e.element)):this.closeTab(e);if(!d.getById(n))throw new Error(`Workspace ${n} failed ot initialize because none of the specified windows were able to load\\n                    Internal error: ${t}`)}})))),this._controller.emitter.onContentItemResized(((t,e)=>{this._frameController.moveFrame(e,c(t))})),this._controller.emitter.onTabCloseRequested((e=>t(this,void 0,void 0,(function*(){const t=d.getByWindowId(r(e.config.id));this.closeTab(e),this._controller.removeLayoutElement(r(e.config.id)),this._frameController.remove(r(e.config.id)),t.windows.length||this.checkForEmptyWorkspace(t)})))),this._controller.emitter.onWorkspaceTabCloseRequested((t=>{this.closeWorkspace(t)})),this._controller.emitter.onTabElementMouseDown((t=>{const e=c(t.contentItem.element),n=Math.min(e.width,800),i=Math.min(e.height,600);this._controller.setDragElementSize(n,i)})),this._controller.emitter.onTabDragStart((t=>{const e=this._controller.getDragElement();new MutationObserver((e=>{Array.from(e).forEach((e=>{if(\"attributes\"===e.type){const e=$(this._controller.getDragElement()).children(\".lm_content\").children(\".lm_item_container\"),n=c(e[0]),i=r(t.contentItem.config.id);this._frameController.moveFrame(i,n),this._frameController.bringToFront(i)}}))})).observe(e,{attributes:!0})})),this._controller.emitter.onTabDragEnd((t=>{const e=t.header.tabs.filter((e=>e.contentItem.config.id!==t.contentItem.config.id));this._frameController.selectionChanged([r(t.contentItem.id)],e.map((t=>r(t.contentItem.id))))})),this._controller.emitter.onSelectionChanged(((e,n)=>t(this,void 0,void 0,(function*(){this._frameController.selectionChanged(n.map((t=>t.id)),e.map((t=>t.id)))})))),this._controller.emitter.onWorkspaceAdded((t=>{var e;const n=d.workspaceIds.filter((e=>e!==t.id)).reduce(((t,e)=>[...t,...d.getById(e).windows]),[]);if(this._workspacesEventEmitter.raiseWorkspaceEvent({action:\"opened\",payload:{frameSummary:{id:this._frameId},workspaceSummary:this.stateResolver.getWorkspaceSummary(t.id)}}),d.getActiveWorkspace().id===t.id){if(this._workspacesEventEmitter.raiseWorkspaceEvent({action:\"selected\",payload:{frameSummary:{id:this._frameId},workspaceSummary:this.stateResolver.getWorkspaceSummary(t.id)}}),!t.layout)return void this._frameController.selectionChangedDeep([],n.map((t=>t.id)));const e=a(t.layout.toConfig().content);this._frameController.selectionChangedDeep(e.map((t=>r(t.id))),n.map((t=>t.id)))}if(!t.layout)return;const i=t.layout.config.workspacesOptions,o=i.title||i.name;o&&(null===(e=d.getWorkspaceLayoutItemById(t.id))||void 0===e||e.setTitle(o))})),this._controller.emitter.onWorkspaceSelectionChanged(((t,e)=>{if(!t.layout)return this._frameController.selectionChangedDeep([],e.map((t=>t.id))),void this._workspacesEventEmitter.raiseWorkspaceEvent({action:\"selected\",payload:{frameSummary:{id:this._frameId},workspaceSummary:this.stateResolver.getWorkspaceSummary(t.id)}});const n=a(t.layout.toConfig().content).filter((t=>this._controller.isWindowVisible(t.id)));this._frameController.selectionChangedDeep(n.map((t=>r(t.id))),e.map((t=>t.id))),this._workspacesEventEmitter.raiseWorkspaceEvent({action:\"selected\",payload:{frameSummary:{id:this._frameId},workspaceSummary:this.stateResolver.getWorkspaceSummary(t.id)}})})),this._controller.emitter.onAddButtonClicked((({laneId:e,workspaceId:n,bounds:i,parentType:o})=>t(this,void 0,void 0,(function*(){const t={boxId:e,workspaceId:n,parentType:o,frameId:this._frameId,peerId:this._glue.agm.instance.peerId,domNode:void 0,resizePopup:void 0,hidePopup:void 0};yield this._popupManager.showAddWindowPopup(i,t)})))),this._controller.emitter.onContentLayoutInit((t=>{this.reportLayoutStructure(t)})),this._controller.emitter.onWorkspaceAddButtonClicked((()=>t(this,void 0,void 0,(function*(){const t={frameId:this._frameId,peerId:this._glue.agm.instance.windowId},e=d.workspaceLayoutHeader.element.find(\".lm_workspace_controls\").find(\".lm_add_button\"),n=c(e);yield this._popupManager.showOpenWorkspacePopup(n,t)})))),this._controller.emitter.onWorkspaceSaveRequested((e=>t(this,void 0,void 0,(function*(){const t={frameId:this._frameId,workspaceId:e,peerId:this._glue.agm.instance.peerId,buildMode:B.config.build,domNode:void 0,resizePopup:void 0,hidePopup:void 0},n=d.getWorkspaceLayoutItemById(e).tab.element.find(\".lm_saveButton\"),i=c(n);yield this._popupManager.showSaveWorkspacePopup(i,t)})))),this._controller.emitter.onStackMaximized((t=>{const e=t.getActiveContentItem(),n=t.contentItems.map((t=>r(t.config.id)));t.contentItems.forEach((t=>{this._frameController.maximizeTab(r(t.config.id))})),this._frameController.selectionChanged([r(e.config.id)],n)})),this._controller.emitter.onStackRestored((t=>{const e=t.getActiveContentItem(),n=t.contentItems.map((t=>r(t.config.id)));t.contentItems.forEach((t=>{this._frameController.restoreTab(r(t.config.id))})),this._frameController.selectionChanged([r(e.config.id)],n)})),this._controller.emitter.onEjectRequested((t=>{if(!t.isComponent)throw new Error(\"Can't eject item of type \"+t.type);return this.eject(t)})),u.onWorkspaceContentsShown((t=>{const e=d.getActiveWorkspace();if(!(null==e?void 0:e.layout)||t!==e.id)return;const n=d.getWorkspaceContentItem(t),i=c(n.element);e.layout.updateSize(i.width,i.height);const o=e.layout.root.getItemsByFilter((t=>\"stack\"===t.type));this._frameController.selectionChangedDeep(o.map((t=>r(t.getActiveContentItem().config.id))),[])})),u.onWorkspaceContentsHidden((t=>{const e=d.getById(t);(null==e?void 0:e.layout)&&t===e.id&&this._frameController.selectionChangedDeep([],e.windows.map((t=>t.id)))}))}subscribeForPopups(){this._frameController.onFrameContentClicked((()=>{this._popupManager.hidePopup()})),this._frameController.onWindowTitleChanged(((t,e)=>{this.setItemTitle(t,e)}))}reportLayoutStructure(t){a(t.toConfig().content).forEach((e=>{const n=t.root.getItemsById(e.id)[0];this._frameController.moveFrame(r(n.config.id),c(n.element))}))}closeTab(t){const e=r(t.config.id),n=d.getByWindowId(e),i=this.stateResolver.getWindowSummarySync(e);this._controller.removeLayoutElement(e),this._frameController.remove(e),this.notifyFrameWillClose(i.config.windowId,i.config.appName).catch((t=>{})),this.workspacesEventEmitter.raiseWindowEvent({action:\"removed\",payload:{windowSummary:i}}),n.windows.length||this.checkForEmptyWorkspace(n)}closeWorkspace(t){if(!t)throw new Error(\"Could not find a workspace to close\");const e=this.stateResolver.getWorkspaceSummary(t.id),n=t.windows.map((t=>{if(d.getWindowContentItem(t.id))return this.stateResolver.getWindowSummarySync(t.id)})).filter((t=>t));t.windows.forEach((t=>this._frameController.remove(t.id))),this.checkForEmptyWorkspace(t),n.forEach((t=>{this.notifyFrameWillClose(t.config.windowId,t.config.appName).catch((t=>{})),this.workspacesEventEmitter.raiseWindowEvent({action:\"removed\",payload:{windowSummary:t}})})),this.workspacesEventEmitter.raiseWorkspaceEvent({action:\"closed\",payload:{workspaceSummary:e,frameSummary:{id:this._frameId}}})}addWorkspace(e,n){var i;return t(this,void 0,void 0,(function*(){yield this._glue.contexts.set(l(e),(null===(i=null==n?void 0:n.workspacesOptions)||void 0===i?void 0:i.context)||{}),yield this._controller.addWorkspace(e,n)}))}checkForEmptyWorkspace(t){var e;if(1===d.layouts.length){try{return void window.close()}catch(t){}t.windows=[],null===(e=t.layout)||void 0===e||e.destroy(),t.layout=void 0,this._controller.showAddButton(t.id);const n=d.getWorkspaceTitle(t.id),i=this._configFactory.getWorkspaceTitle(d.workspaceTitles.filter((t=>t!==n)));this._controller.setWorkspaceTitle(t.id,i)}else this._controller.removeWorkspace(t.id)}waitForFrameLoaded(t){return new Promise(((e,n)=>{let i=()=>{};const o=setTimeout((()=>{i(),n(`Did not hear frame loaded for ${t} in 5000ms`)}),5e3);i=this.workspacesEventEmitter.onWindowEvent(((n,s)=>{\"loaded\"===n&&s.windowSummary.itemId===t&&(e(),clearTimeout(o),i())}))}))}getUrlByAppName(t){var e,n,i,o;return null===(o=null===(i=null===(n=null===(e=this._glue.appManager)||void 0===e?void 0:e.application(t))||void 0===n?void 0:n.userProperties)||void 0===i?void 0:i.details)||void 0===o?void 0:o.url}getTitleByAppName(t){var e,n;return null===(n=null===(e=this._glue.appManager)||void 0===e?void 0:e.application(t))||void 0===n?void 0:n.title}notifyFrameWillStart(t,e,n){return this._glue.interop.invoke(\"T42.Web.Platform.Control\",{domain:e?\"appManager\":\"windows\",operation:e?\"registerWorkspaceApp\":\"registerWorkspaceWindow\",data:{name:`${e||\"window\"}_${t}`,windowId:t,frameId:this.frameId,appName:e,context:n}})}notifyFrameWillClose(t,e){return this._glue.interop.invoke(\"T42.Web.Platform.Control\",{domain:e?\"appManager\":\"windows\",operation:e?\"unregisterWorkspaceApp\":\"unregisterWorkspaceWindow\",data:{windowId:t}})}};var Y=new class{constructor(){this._workspacesControlMethod=\"T42.Workspaces.Control\",this._workspacesEventMethod=\"T42.Workspaces.Events\",this._inDisposing=!1,this.handleControl=(e,n,i,o)=>t(this,void 0,void 0,(function*(){try{switch(yield X.initPromise,e.operation){case\"isWindowInWorkspace\":i(this.handleIsWindowInWorkspace(e.operationArguments));break;case\"addWindow\":i(yield this.handleAddWindow(e.operationArguments));break;case\"addContainer\":i(yield this.handleAddContainer(e.operationArguments));break;case\"getWorkspaceSnapshot\":i(this.handleGetWorkspaceSnapshot(e.operationArguments));break;case\"openWorkspace\":i(yield this.handleOpenWorkspace(e.operationArguments));break;case\"saveLayout\":i(yield this.handleSaveLayout(e.operationArguments));break;case\"exportAllLayouts\":i(yield this.handleExportAllLayouts());break;case\"deleteLayout\":this.handleDeleteLayout(e.operationArguments),i(void 0);break;case\"getAllWorkspacesSummaries\":i(this.handleGetAllWorkspaceSummaries());break;case\"maximizeItem\":this.handleMaximizeItem(e.operationArguments),i(void 0);break;case\"restoreItem\":this.handleRestoreItem(e.operationArguments),i(void 0);break;case\"closeItem\":this.handleCloseItem(e.operationArguments),i(void 0);break;case\"setItemTitle\":yield this.handleSetItemTitle(e.operationArguments),i(void 0);break;case\"addWorkspaceChildren\":yield this.handleAddWorkspaceChildren(e.operationArguments),i(void 0);break;case\"ejectWindow\":i(yield this.handleEject(e.operationArguments));break;case\"createWorkspace\":i(yield this.handleCreateWorkspace(e.operationArguments));break;case\"forceLoadWindow\":i(yield this.handleForceLoadWindow(e.operationArguments));break;case\"focusItem\":yield this.handleFocusItem(e.operationArguments),i(void 0);break;case\"bundleWorkspace\":this.handleBundleWorkspace(e.operationArguments),i(void 0);break;case\"getFrameSummary\":i(yield this.handleGetFrameSummary(e.operationArguments));break;case\"moveFrame\":yield this.handleMoveFrame(e.operationArguments),i(void 0);break;case\"getFrameSnapshot\":i(yield this.handleGetFrameSnapshot());break;case\"getSnapshot\":i(yield this.handleGetSnapshot(e.operationArguments));break;case\"moveWindowTo\":yield this.handleMoveWindowTo(e.operationArguments),i(void 0);break;case\"generateLayout\":i(yield this.handleGenerateLayout(e.operationArguments));break;case\"ping\":i(this.handlePing());break;default:o(\"Invalid operation - \"+e.operation)}}catch(t){o(t.message)}}))}init(e,n){return t(this,void 0,void 0,(function*(){this._frameId=n,this._glue=e,this._configFactory=new H(e),this._converter=new q(this._configFactory),this._glue&&(yield this.registerAgmMethods())}))}dispose(){this._inDisposing=!0}subscribeForWorkspaceEvents(){X.workspacesEventEmitter.onFrameEvent(((t,e)=>{this.publishEventData(t,e,\"frame\")})),X.workspacesEventEmitter.onWindowEvent(((t,e)=>{this.publishEventData(t,e,\"window\")})),X.workspacesEventEmitter.onWorkspaceEvent(((t,e)=>{this.publishEventData(t,e,\"workspace\")})),X.workspacesEventEmitter.onContainerEvent(((t,e)=>{this.publishEventData(t,e,\"box\")}))}registerAgmMethods(){return t(this,void 0,void 0,(function*(){yield this._glue.agm.registerAsync({name:this._workspacesControlMethod},this.handleControl)}))}handleOpenWorkspace(e){return t(this,void 0,void 0,(function*(){const t=yield X.openWorkspace(e.name,e.restoreOptions),n=X.stateResolver.getWorkspaceConfig(t),i=this._converter.convertToAPIConfig(n);return{id:i.id,children:i.children,config:i.config,frameSummary:{id:this._frameId}}}))}handleExportAllLayouts(){return t(this,void 0,void 0,(function*(){return{layouts:yield X.exportAllLayouts()}}))}handleSaveLayout(e){return t(this,void 0,void 0,(function*(){return yield X.saveWorkspace(e.name,e.workspaceId,e.saveContext)}))}handleDeleteLayout(t){X.deleteLayout(t.name)}handleGetWorkspaceSnapshot(t){const e=d.getById(t.itemId),n=X.stateResolver.getWorkspaceConfig(e.id),i=this._converter.convertToAPIConfig(n);return{id:i.id,children:i.children,config:i.config,frameSummary:{id:this._frameId}}}handleGetAllWorkspaceSummaries(){return{summaries:d.layouts.map((t=>X.stateResolver.getWorkspaceSummary(t.id)))}}handleCloseItem(t){X.closeItem(t.itemId)}handleRestoreItem(t){X.restoreItem(t.itemId)}handleMaximizeItem(t){X.maximizeItem(t.itemId)}handleAddContainer(e){return t(this,void 0,void 0,(function*(){const t=this._converter.convertToRendererConfig(e.definition);if(\"workspace\"===t.type)throw new Error(\"Unsuccessful conversion\");const n={id:r(t.id),content:t.content,type:t.type,workspacesConfig:t.workspacesConfig};return{itemId:yield X.addContainer(n,e.parentId)}}))}handleAddWindow(e){return t(this,void 0,void 0,(function*(){const t=this._configFactory.createGDWindowConfig({windowId:e.definition.windowId,id:void 0,appName:e.definition.appName,url:e.definition.url,context:e.definition.context});if(e.definition.windowId){const n=this._glue.windows.list().find((t=>t.id===e.definition.windowId)),i=yield n.getURL();t.componentState.url=i,t.componentState.appName=this._configFactory.getAppNameFromWindowId(n.id)}return yield X.addWindow(t,e.parentId),{itemId:r(t.id)}}))}handleSetItemTitle(t){X.setItemTitle(t.itemId,t.title)}handleAddWorkspaceChildren(e){return t(this,void 0,void 0,(function*(){const t=e.children.some((t=>\"row\"===t.type)),n=e.children.some((t=>\"column\"===t.type));if(n&&t)throw new Error(\"Can't add both row and column workspace children\");let i={type:\"column\",children:e.children};n&&(i={type:\"row\",children:e.children});const o=this._converter.convertToRendererConfig(i);yield X.addContainer(o,e.workspaceId)}))}handleEject(e){return t(this,void 0,void 0,(function*(){const t=d.getWindowContentItem(e.itemId);if(!t)throw new Error(\"Could not find item \"+e.itemId);return yield X.eject(t)}))}handleCreateWorkspace(e){return t(this,void 0,void 0,(function*(){const t=this._converter.convertToRendererConfig(e),n=yield X.createWorkspace(t),i=this._converter.convertToAPIConfig(X.stateResolver.getWorkspaceConfig(n));return{id:i.id,children:i.children,config:i.config,frameSummary:{id:this._frameId}}}))}handleForceLoadWindow(e){return t(this,void 0,void 0,(function*(){return yield X.loadWindow(e.itemId)}))}handleFocusItem(t){return X.focusItem(t.itemId)}handleBundleWorkspace(t){return X.bundleWorkspace(t.workspaceId,t.type)}handleIsWindowInWorkspace(t){return{inWorkspace:X.stateResolver.isWindowInWorkspace(t.itemId)}}handleGetFrameSummary(e){return t(this,void 0,void 0,(function*(){return X.getFrameSummary(e.itemId)}))}handleMoveFrame(e){return t(this,void 0,void 0,(function*(){yield X.move(e.location)}))}handleGetFrameSnapshot(){return X.stateResolver.getFrameSnapshot()}handleGetSnapshot(e){return t(this,void 0,void 0,(function*(){return X.stateResolver.getSnapshot(e.itemId)}))}handleMoveWindowTo(e){return t(this,void 0,void 0,(function*(){return X.moveWindowTo(e.itemId,e.containerId)}))}handleGenerateLayout(t){return X.generateWorkspaceLayout(t.name,t.workspaceId)}handlePing(){return{live:!this._inDisposing}}publishEventData(t,e,n){if(this._glue.agm.methods().some((t=>t.name===this._workspacesEventMethod))){const i={action:t,type:n,payload:e};this._glue.agm.invoke(this._workspacesEventMethod,i).catch((()=>{}))}}},J=n((function(t){\n/*!\n * jQuery JavaScript Library v3.5.1\n * https://jquery.com/\n *\n * Includes Sizzle.js\n * https://sizzlejs.com/\n *\n * Copyright JS Foundation and other contributors\n * Released under the MIT license\n * https://jquery.org/license\n *\n * Date: 2020-05-04T22:49Z\n */\n!function(e,n){t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error(\"jQuery requires a window with a document\");return n(t)}}(\"undefined\"!=typeof window?window:e,(function(t,e){var n=[],i=Object.getPrototypeOf,o=n.slice,s=n.flat?function(t){return n.flat.call(t)}:function(t){return n.concat.apply([],t)},r=n.push,a=n.indexOf,c={},l=c.toString,d=c.hasOwnProperty,h=d.toString,u=h.call(Object),p={},m=function(t){return\"function\"==typeof t&&\"number\"!=typeof t.nodeType},f=function(t){return null!=t&&t===t.window},g=t.document,y={type:!0,src:!0,nonce:!0,noModule:!0};function v(t,e,n){var i,o,s=(n=n||g).createElement(\"script\");if(s.text=t,e)for(i in y)(o=e[i]||e.getAttribute&&e.getAttribute(i))&&s.setAttribute(i,o);n.head.appendChild(s).parentNode.removeChild(s)}function w(t){return null==t?t+\"\":\"object\"==typeof t||\"function\"==typeof t?c[l.call(t)]||\"object\":typeof t}var _=\"3.5.1\",b=function(t,e){return new b.fn.init(t,e)};function C(t){var e=!!t&&\"length\"in t&&t.length,n=w(t);return!m(t)&&!f(t)&&(\"array\"===n||0===e||\"number\"==typeof e&&e>0&&e-1 in t)}b.fn=b.prototype={jquery:_,constructor:b,length:0,toArray:function(){return o.call(this)},get:function(t){return null==t?o.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=b.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return b.each(this,t)},map:function(t){return this.pushStack(b.map(this,(function(e,n){return t.call(e,n,e)})))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(b.grep(this,(function(t,e){return(e+1)%2})))},odd:function(){return this.pushStack(b.grep(this,(function(t,e){return e%2})))},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:r,sort:n.sort,splice:n.splice},b.extend=b.fn.extend=function(){var t,e,n,i,o,s,r=arguments[0]||{},a=1,c=arguments.length,l=!1;for(\"boolean\"==typeof r&&(l=r,r=arguments[a]||{},a++),\"object\"==typeof r||m(r)||(r={}),a===c&&(r=this,a--);a<c;a++)if(null!=(t=arguments[a]))for(e in t)i=t[e],\"__proto__\"!==e&&r!==i&&(l&&i&&(b.isPlainObject(i)||(o=Array.isArray(i)))?(n=r[e],s=o&&!Array.isArray(n)?[]:o||b.isPlainObject(n)?n:{},o=!1,r[e]=b.extend(l,s,i)):void 0!==i&&(r[e]=i));return r},b.extend({expando:\"jQuery\"+(_+Math.random()).replace(/\\D/g,\"\"),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||\"[object Object]\"!==l.call(t))&&(!(e=i(t))||\"function\"==typeof(n=d.call(e,\"constructor\")&&e.constructor)&&h.call(n)===u)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,n){v(t,{nonce:e&&e.nonce},n)},each:function(t,e){var n,i=0;if(C(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},makeArray:function(t,e){var n=e||[];return null!=t&&(C(Object(t))?b.merge(n,\"string\"==typeof t?[t]:t):r.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:a.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,o=t.length;i<n;i++)t[o++]=e[i];return t.length=o,t},grep:function(t,e,n){for(var i=[],o=0,s=t.length,r=!n;o<s;o++)!e(t[o],o)!==r&&i.push(t[o]);return i},map:function(t,e,n){var i,o,r=0,a=[];if(C(t))for(i=t.length;r<i;r++)null!=(o=e(t[r],r,n))&&a.push(o);else for(r in t)null!=(o=e(t[r],r,n))&&a.push(o);return s(a)},guid:1,support:p}),\"function\"==typeof Symbol&&(b.fn[Symbol.iterator]=n[Symbol.iterator]),b.each(\"Boolean Number String Function Array Date RegExp Object Error Symbol\".split(\" \"),(function(t,e){c[\"[object \"+e+\"]\"]=e.toLowerCase()}));var I=\n/*!\n * Sizzle CSS Selector Engine v2.3.5\n * https://sizzlejs.com/\n *\n * Copyright JS Foundation and other contributors\n * Released under the MIT license\n * https://js.foundation/\n *\n * Date: 2020-03-14\n */\nfunction(t){var e,n,i,o,s,r,a,c,l,d,h,u,p,m,f,g,y,v,w,_=\"sizzle\"+1*new Date,b=t.document,C=0,I=0,x=ct(),k=ct(),E=ct(),S=ct(),T=function(t,e){return t===e&&(h=!0),0},W={}.hasOwnProperty,A=[],D=A.pop,P=A.push,L=A.push,M=A.slice,F=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},z=\"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped\",B=\"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",N=\"(?:\\\\\\\\[\\\\da-fA-F]{1,6}[\\\\x20\\\\t\\\\r\\\\n\\\\f]?|\\\\\\\\[^\\\\r\\\\n\\\\f]|[\\\\w-]|[^\\0-\\\\x7f])+\",O=\"\\\\[[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(\"+N+\")(?:\"+B+\"*([*^$|!~]?=)\"+B+\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\"+N+\"))|)\"+B+\"*\\\\]\",$=\":(\"+N+\")(?:\\\\((('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\"+O+\")*)|.*)\\\\)|)\",R=new RegExp(B+\"+\",\"g\"),H=new RegExp(\"^[\\\\x20\\\\t\\\\r\\\\n\\\\f]+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)[\\\\x20\\\\t\\\\r\\\\n\\\\f]+$\",\"g\"),j=new RegExp(\"^[\\\\x20\\\\t\\\\r\\\\n\\\\f]*,[\\\\x20\\\\t\\\\r\\\\n\\\\f]*\"),q=new RegExp(\"^[\\\\x20\\\\t\\\\r\\\\n\\\\f]*([>+~]|[\\\\x20\\\\t\\\\r\\\\n\\\\f])[\\\\x20\\\\t\\\\r\\\\n\\\\f]*\"),U=new RegExp(B+\"|>\"),V=new RegExp($),G=new RegExp(\"^\"+N+\"$\"),X={ID:new RegExp(\"^#(\"+N+\")\"),CLASS:new RegExp(\"^\\\\.(\"+N+\")\"),TAG:new RegExp(\"^(\"+N+\"|[*])\"),ATTR:new RegExp(\"^\"+O),PSEUDO:new RegExp(\"^\"+$),CHILD:new RegExp(\"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\([\\\\x20\\\\t\\\\r\\\\n\\\\f]*(even|odd|(([+-]|)(\\\\d*)n|)[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(?:([+-]|)[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(\\\\d+)|))[\\\\x20\\\\t\\\\r\\\\n\\\\f]*\\\\)|)\",\"i\"),bool:new RegExp(\"^(?:\"+z+\")$\",\"i\"),needsContext:new RegExp(\"^[\\\\x20\\\\t\\\\r\\\\n\\\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\([\\\\x20\\\\t\\\\r\\\\n\\\\f]*((?:-\\\\d)?\\\\d*)[\\\\x20\\\\t\\\\r\\\\n\\\\f]*\\\\)|)(?=[^-]|$)\",\"i\")},Y=/HTML$/i,J=/^(?:input|select|textarea|button)$/i,Z=/^h\\d$/i,Q=/^[^{]+\\{\\s*\\[native \\w/,K=/^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,tt=/[+~]/,et=new RegExp(\"\\\\\\\\[\\\\da-fA-F]{1,6}[\\\\x20\\\\t\\\\r\\\\n\\\\f]?|\\\\\\\\([^\\\\r\\\\n\\\\f])\",\"g\"),nt=function(t,e){var n=\"0x\"+t.slice(1)-65536;return e||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},it=/([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\0-\\x1f\\x7f-\\uFFFF\\w-]/g,ot=function(t,e){return e?\"\\0\"===t?\"\":t.slice(0,-1)+\"\\\\\"+t.charCodeAt(t.length-1).toString(16)+\" \":\"\\\\\"+t},st=function(){u()},rt=_t((function(t){return!0===t.disabled&&\"fieldset\"===t.nodeName.toLowerCase()}),{dir:\"parentNode\",next:\"legend\"});try{L.apply(A=M.call(b.childNodes),b.childNodes),A[b.childNodes.length].nodeType}catch(t){L={apply:A.length?function(t,e){P.apply(t,M.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function at(t,e,i,o){var s,a,l,d,h,m,y,v=e&&e.ownerDocument,b=e?e.nodeType:9;if(i=i||[],\"string\"!=typeof t||!t||1!==b&&9!==b&&11!==b)return i;if(!o&&(u(e),e=e||p,f)){if(11!==b&&(h=K.exec(t)))if(s=h[1]){if(9===b){if(!(l=e.getElementById(s)))return i;if(l.id===s)return i.push(l),i}else if(v&&(l=v.getElementById(s))&&w(e,l)&&l.id===s)return i.push(l),i}else{if(h[2])return L.apply(i,e.getElementsByTagName(t)),i;if((s=h[3])&&n.getElementsByClassName&&e.getElementsByClassName)return L.apply(i,e.getElementsByClassName(s)),i}if(n.qsa&&!S[t+\" \"]&&(!g||!g.test(t))&&(1!==b||\"object\"!==e.nodeName.toLowerCase())){if(y=t,v=e,1===b&&(U.test(t)||q.test(t))){for((v=tt.test(t)&&yt(e.parentNode)||e)===e&&n.scope||((d=e.getAttribute(\"id\"))?d=d.replace(it,ot):e.setAttribute(\"id\",d=_)),a=(m=r(t)).length;a--;)m[a]=(d?\"#\"+d:\":scope\")+\" \"+wt(m[a]);y=m.join(\",\")}try{return L.apply(i,v.querySelectorAll(y)),i}catch(e){S(t,!0)}finally{d===_&&e.removeAttribute(\"id\")}}}return c(t.replace(H,\"$1\"),e,i,o)}function ct(){var t=[];return function e(n,o){return t.push(n+\" \")>i.cacheLength&&delete e[t.shift()],e[n+\" \"]=o}}function lt(t){return t[_]=!0,t}function dt(t){var e=p.createElement(\"fieldset\");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ht(t,e){for(var n=t.split(\"|\"),o=n.length;o--;)i.attrHandle[n[o]]=e}function ut(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function pt(t){return function(e){return\"input\"===e.nodeName.toLowerCase()&&e.type===t}}function mt(t){return function(e){var n=e.nodeName.toLowerCase();return(\"input\"===n||\"button\"===n)&&e.type===t}}function ft(t){return function(e){return\"form\"in e?e.parentNode&&!1===e.disabled?\"label\"in e?\"label\"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&rt(e)===t:e.disabled===t:\"label\"in e&&e.disabled===t}}function gt(t){return lt((function(e){return e=+e,lt((function(n,i){for(var o,s=t([],n.length,e),r=s.length;r--;)n[o=s[r]]&&(n[o]=!(i[o]=n[o]))}))}))}function yt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=at.support={},s=at.isXML=function(t){var e=t.namespaceURI,n=(t.ownerDocument||t).documentElement;return!Y.test(e||n&&n.nodeName||\"HTML\")},u=at.setDocument=function(t){var e,o,r=t?t.ownerDocument||t:b;return r!=p&&9===r.nodeType&&r.documentElement?(m=(p=r).documentElement,f=!s(p),b!=p&&(o=p.defaultView)&&o.top!==o&&(o.addEventListener?o.addEventListener(\"unload\",st,!1):o.attachEvent&&o.attachEvent(\"onunload\",st)),n.scope=dt((function(t){return m.appendChild(t).appendChild(p.createElement(\"div\")),void 0!==t.querySelectorAll&&!t.querySelectorAll(\":scope fieldset div\").length})),n.attributes=dt((function(t){return t.className=\"i\",!t.getAttribute(\"className\")})),n.getElementsByTagName=dt((function(t){return t.appendChild(p.createComment(\"\")),!t.getElementsByTagName(\"*\").length})),n.getElementsByClassName=Q.test(p.getElementsByClassName),n.getById=dt((function(t){return m.appendChild(t).id=_,!p.getElementsByName||!p.getElementsByName(_).length})),n.getById?(i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){return t.getAttribute(\"id\")===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&f){var n=e.getElementById(t);return n?[n]:[]}}):(i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode(\"id\");return n&&n.value===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&f){var n,i,o,s=e.getElementById(t);if(s){if((n=s.getAttributeNode(\"id\"))&&n.value===t)return[s];for(o=e.getElementsByName(t),i=0;s=o[i++];)if((n=s.getAttributeNode(\"id\"))&&n.value===t)return[s]}return[]}}),i.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],o=0,s=e.getElementsByTagName(t);if(\"*\"===t){for(;n=s[o++];)1===n.nodeType&&i.push(n);return i}return s},i.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&f)return e.getElementsByClassName(t)},y=[],g=[],(n.qsa=Q.test(p.querySelectorAll))&&(dt((function(t){var e;m.appendChild(t).innerHTML=\"<a id='\"+_+\"'></a><select id='\"+_+\"-\\r\\\\' msallowcapture=''><option selected=''></option></select>\",t.querySelectorAll(\"[msallowcapture^='']\").length&&g.push(\"[*^$]=[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(?:''|\\\"\\\")\"),t.querySelectorAll(\"[selected]\").length||g.push(\"\\\\[[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(?:value|\"+z+\")\"),t.querySelectorAll(\"[id~=\"+_+\"-]\").length||g.push(\"~=\"),(e=p.createElement(\"input\")).setAttribute(\"name\",\"\"),t.appendChild(e),t.querySelectorAll(\"[name='']\").length||g.push(\"\\\\[[\\\\x20\\\\t\\\\r\\\\n\\\\f]*name[\\\\x20\\\\t\\\\r\\\\n\\\\f]*=[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(?:''|\\\"\\\")\"),t.querySelectorAll(\":checked\").length||g.push(\":checked\"),t.querySelectorAll(\"a#\"+_+\"+*\").length||g.push(\".#.+[+~]\"),t.querySelectorAll(\"\\\\\\f\"),g.push(\"[\\\\r\\\\n\\\\f]\")})),dt((function(t){t.innerHTML=\"<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>\";var e=p.createElement(\"input\");e.setAttribute(\"type\",\"hidden\"),t.appendChild(e).setAttribute(\"name\",\"D\"),t.querySelectorAll(\"[name=d]\").length&&g.push(\"name[\\\\x20\\\\t\\\\r\\\\n\\\\f]*[*^$|!~]?=\"),2!==t.querySelectorAll(\":enabled\").length&&g.push(\":enabled\",\":disabled\"),m.appendChild(t).disabled=!0,2!==t.querySelectorAll(\":disabled\").length&&g.push(\":enabled\",\":disabled\"),t.querySelectorAll(\"*,:x\"),g.push(\",.*:\")}))),(n.matchesSelector=Q.test(v=m.matches||m.webkitMatchesSelector||m.mozMatchesSelector||m.oMatchesSelector||m.msMatchesSelector))&&dt((function(t){n.disconnectedMatch=v.call(t,\"*\"),v.call(t,\"[s!='']:x\"),y.push(\"!=\",$)})),g=g.length&&new RegExp(g.join(\"|\")),y=y.length&&new RegExp(y.join(\"|\")),e=Q.test(m.compareDocumentPosition),w=e||Q.test(m.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},T=e?function(t,e){if(t===e)return h=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===i?t==p||t.ownerDocument==b&&w(b,t)?-1:e==p||e.ownerDocument==b&&w(b,e)?1:d?F(d,t)-F(d,e):0:4&i?-1:1)}:function(t,e){if(t===e)return h=!0,0;var n,i=0,o=t.parentNode,s=e.parentNode,r=[t],a=[e];if(!o||!s)return t==p?-1:e==p?1:o?-1:s?1:d?F(d,t)-F(d,e):0;if(o===s)return ut(t,e);for(n=t;n=n.parentNode;)r.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;r[i]===a[i];)i++;return i?ut(r[i],a[i]):r[i]==b?-1:a[i]==b?1:0},p):p},at.matches=function(t,e){return at(t,null,null,e)},at.matchesSelector=function(t,e){if(u(t),n.matchesSelector&&f&&!S[e+\" \"]&&(!y||!y.test(e))&&(!g||!g.test(e)))try{var i=v.call(t,e);if(i||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){S(e,!0)}return at(e,p,null,[t]).length>0},at.contains=function(t,e){return(t.ownerDocument||t)!=p&&u(t),w(t,e)},at.attr=function(t,e){(t.ownerDocument||t)!=p&&u(t);var o=i.attrHandle[e.toLowerCase()],s=o&&W.call(i.attrHandle,e.toLowerCase())?o(t,e,!f):void 0;return void 0!==s?s:n.attributes||!f?t.getAttribute(e):(s=t.getAttributeNode(e))&&s.specified?s.value:null},at.escape=function(t){return(t+\"\").replace(it,ot)},at.error=function(t){throw new Error(\"Syntax error, unrecognized expression: \"+t)},at.uniqueSort=function(t){var e,i=[],o=0,s=0;if(h=!n.detectDuplicates,d=!n.sortStable&&t.slice(0),t.sort(T),h){for(;e=t[s++];)e===t[s]&&(o=i.push(s));for(;o--;)t.splice(i[o],1)}return d=null,t},o=at.getText=function(t){var e,n=\"\",i=0,s=t.nodeType;if(s){if(1===s||9===s||11===s){if(\"string\"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=o(t)}else if(3===s||4===s)return t.nodeValue}else for(;e=t[i++];)n+=o(e);return n},(i=at.selectors={cacheLength:50,createPseudo:lt,match:X,attrHandle:{},find:{},relative:{\">\":{dir:\"parentNode\",first:!0},\" \":{dir:\"parentNode\"},\"+\":{dir:\"previousSibling\",first:!0},\"~\":{dir:\"previousSibling\"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,nt),t[3]=(t[3]||t[4]||t[5]||\"\").replace(et,nt),\"~=\"===t[2]&&(t[3]=\" \"+t[3]+\" \"),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),\"nth\"===t[1].slice(0,3)?(t[3]||at.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*(\"even\"===t[3]||\"odd\"===t[3])),t[5]=+(t[7]+t[8]||\"odd\"===t[3])):t[3]&&at.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return X.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||\"\":n&&V.test(n)&&(e=r(n,!0))&&(e=n.indexOf(\")\",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,nt).toLowerCase();return\"*\"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=x[t+\" \"];return e||(e=new RegExp(\"(^|[\\\\x20\\\\t\\\\r\\\\n\\\\f])\"+t+\"(\"+B+\"|$)\"))&&x(t,(function(t){return e.test(\"string\"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute(\"class\")||\"\")}))},ATTR:function(t,e,n){return function(i){var o=at.attr(i,t);return null==o?\"!=\"===e:!e||(o+=\"\",\"=\"===e?o===n:\"!=\"===e?o!==n:\"^=\"===e?n&&0===o.indexOf(n):\"*=\"===e?n&&o.indexOf(n)>-1:\"$=\"===e?n&&o.slice(-n.length)===n:\"~=\"===e?(\" \"+o.replace(R,\" \")+\" \").indexOf(n)>-1:\"|=\"===e&&(o===n||o.slice(0,n.length+1)===n+\"-\"))}},CHILD:function(t,e,n,i,o){var s=\"nth\"!==t.slice(0,3),r=\"last\"!==t.slice(-4),a=\"of-type\"===e;return 1===i&&0===o?function(t){return!!t.parentNode}:function(e,n,c){var l,d,h,u,p,m,f=s!==r?\"nextSibling\":\"previousSibling\",g=e.parentNode,y=a&&e.nodeName.toLowerCase(),v=!c&&!a,w=!1;if(g){if(s){for(;f;){for(u=e;u=u[f];)if(a?u.nodeName.toLowerCase()===y:1===u.nodeType)return!1;m=f=\"only\"===t&&!m&&\"nextSibling\"}return!0}if(m=[r?g.firstChild:g.lastChild],r&&v){for(w=(p=(l=(d=(h=(u=g)[_]||(u[_]={}))[u.uniqueID]||(h[u.uniqueID]={}))[t]||[])[0]===C&&l[1])&&l[2],u=p&&g.childNodes[p];u=++p&&u&&u[f]||(w=p=0)||m.pop();)if(1===u.nodeType&&++w&&u===e){d[t]=[C,p,w];break}}else if(v&&(w=p=(l=(d=(h=(u=e)[_]||(u[_]={}))[u.uniqueID]||(h[u.uniqueID]={}))[t]||[])[0]===C&&l[1]),!1===w)for(;(u=++p&&u&&u[f]||(w=p=0)||m.pop())&&((a?u.nodeName.toLowerCase()!==y:1!==u.nodeType)||!++w||(v&&((d=(h=u[_]||(u[_]={}))[u.uniqueID]||(h[u.uniqueID]={}))[t]=[C,w]),u!==e)););return(w-=o)===i||w%i==0&&w/i>=0}}},PSEUDO:function(t,e){var n,o=i.pseudos[t]||i.setFilters[t.toLowerCase()]||at.error(\"unsupported pseudo: \"+t);return o[_]?o(e):o.length>1?(n=[t,t,\"\",e],i.setFilters.hasOwnProperty(t.toLowerCase())?lt((function(t,n){for(var i,s=o(t,e),r=s.length;r--;)t[i=F(t,s[r])]=!(n[i]=s[r])})):function(t){return o(t,0,n)}):o}},pseudos:{not:lt((function(t){var e=[],n=[],i=a(t.replace(H,\"$1\"));return i[_]?lt((function(t,e,n,o){for(var s,r=i(t,null,o,[]),a=t.length;a--;)(s=r[a])&&(t[a]=!(e[a]=s))})):function(t,o,s){return e[0]=t,i(e,null,s,n),e[0]=null,!n.pop()}})),has:lt((function(t){return function(e){return at(t,e).length>0}})),contains:lt((function(t){return t=t.replace(et,nt),function(e){return(e.textContent||o(e)).indexOf(t)>-1}})),lang:lt((function(t){return G.test(t||\"\")||at.error(\"unsupported lang: \"+t),t=t.replace(et,nt).toLowerCase(),function(e){var n;do{if(n=f?e.lang:e.getAttribute(\"xml:lang\")||e.getAttribute(\"lang\"))return(n=n.toLowerCase())===t||0===n.indexOf(t+\"-\")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===m},focus:function(t){return t===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:ft(!1),disabled:ft(!0),checked:function(t){var e=t.nodeName.toLowerCase();return\"input\"===e&&!!t.checked||\"option\"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!i.pseudos.empty(t)},header:function(t){return Z.test(t.nodeName)},input:function(t){return J.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return\"input\"===e&&\"button\"===t.type||\"button\"===e},text:function(t){var e;return\"input\"===t.nodeName.toLowerCase()&&\"text\"===t.type&&(null==(e=t.getAttribute(\"type\"))||\"text\"===e.toLowerCase())},first:gt((function(){return[0]})),last:gt((function(t,e){return[e-1]})),eq:gt((function(t,e,n){return[n<0?n+e:n]})),even:gt((function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t})),odd:gt((function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t})),lt:gt((function(t,e,n){for(var i=n<0?n+e:n>e?e:n;--i>=0;)t.push(i);return t})),gt:gt((function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t}))}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[e]=pt(e);for(e in{submit:!0,reset:!0})i.pseudos[e]=mt(e);function vt(){}function wt(t){for(var e=0,n=t.length,i=\"\";e<n;e++)i+=t[e].value;return i}function _t(t,e,n){var i=e.dir,o=e.next,s=o||i,r=n&&\"parentNode\"===s,a=I++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,o);return!1}:function(e,n,c){var l,d,h,u=[C,a];if(c){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,c))return!0}else for(;e=e[i];)if(1===e.nodeType||r)if(d=(h=e[_]||(e[_]={}))[e.uniqueID]||(h[e.uniqueID]={}),o&&o===e.nodeName.toLowerCase())e=e[i]||e;else{if((l=d[s])&&l[0]===C&&l[1]===a)return u[2]=l[2];if(d[s]=u,u[2]=t(e,n,c))return!0}return!1}}function bt(t){return t.length>1?function(e,n,i){for(var o=t.length;o--;)if(!t[o](e,n,i))return!1;return!0}:t[0]}function Ct(t,e,n,i,o){for(var s,r=[],a=0,c=t.length,l=null!=e;a<c;a++)(s=t[a])&&(n&&!n(s,i,o)||(r.push(s),l&&e.push(a)));return r}function It(t,e,n,i,o,s){return i&&!i[_]&&(i=It(i)),o&&!o[_]&&(o=It(o,s)),lt((function(s,r,a,c){var l,d,h,u=[],p=[],m=r.length,f=s||function(t,e,n){for(var i=0,o=e.length;i<o;i++)at(t,e[i],n);return n}(e||\"*\",a.nodeType?[a]:a,[]),g=!t||!s&&e?f:Ct(f,u,t,a,c),y=n?o||(s?t:m||i)?[]:r:g;if(n&&n(g,y,a,c),i)for(l=Ct(y,p),i(l,[],a,c),d=l.length;d--;)(h=l[d])&&(y[p[d]]=!(g[p[d]]=h));if(s){if(o||t){if(o){for(l=[],d=y.length;d--;)(h=y[d])&&l.push(g[d]=h);o(null,y=[],l,c)}for(d=y.length;d--;)(h=y[d])&&(l=o?F(s,h):u[d])>-1&&(s[l]=!(r[l]=h))}}else y=Ct(y===r?y.splice(m,y.length):y),o?o(null,r,y,c):L.apply(r,y)}))}function xt(t){for(var e,n,o,s=t.length,r=i.relative[t[0].type],a=r||i.relative[\" \"],c=r?1:0,d=_t((function(t){return t===e}),a,!0),h=_t((function(t){return F(e,t)>-1}),a,!0),u=[function(t,n,i){var o=!r&&(i||n!==l)||((e=n).nodeType?d(t,n,i):h(t,n,i));return e=null,o}];c<s;c++)if(n=i.relative[t[c].type])u=[_t(bt(u),n)];else{if((n=i.filter[t[c].type].apply(null,t[c].matches))[_]){for(o=++c;o<s&&!i.relative[t[o].type];o++);return It(c>1&&bt(u),c>1&&wt(t.slice(0,c-1).concat({value:\" \"===t[c-2].type?\"*\":\"\"})).replace(H,\"$1\"),n,c<o&&xt(t.slice(c,o)),o<s&&xt(t=t.slice(o)),o<s&&wt(t))}u.push(n)}return bt(u)}return vt.prototype=i.filters=i.pseudos,i.setFilters=new vt,r=at.tokenize=function(t,e){var n,o,s,r,a,c,l,d=k[t+\" \"];if(d)return e?0:d.slice(0);for(a=t,c=[],l=i.preFilter;a;){for(r in n&&!(o=j.exec(a))||(o&&(a=a.slice(o[0].length)||a),c.push(s=[])),n=!1,(o=q.exec(a))&&(n=o.shift(),s.push({value:n,type:o[0].replace(H,\" \")}),a=a.slice(n.length)),i.filter)!(o=X[r].exec(a))||l[r]&&!(o=l[r](o))||(n=o.shift(),s.push({value:n,type:r,matches:o}),a=a.slice(n.length));if(!n)break}return e?a.length:a?at.error(t):k(t,c).slice(0)},a=at.compile=function(t,e){var n,o=[],s=[],a=E[t+\" \"];if(!a){for(e||(e=r(t)),n=e.length;n--;)(a=xt(e[n]))[_]?o.push(a):s.push(a);(a=E(t,function(t,e){var n=e.length>0,o=t.length>0,s=function(s,r,a,c,d){var h,m,g,y=0,v=\"0\",w=s&&[],_=[],b=l,I=s||o&&i.find.TAG(\"*\",d),x=C+=null==b?1:Math.random()||.1,k=I.length;for(d&&(l=r==p||r||d);v!==k&&null!=(h=I[v]);v++){if(o&&h){for(m=0,r||h.ownerDocument==p||(u(h),a=!f);g=t[m++];)if(g(h,r||p,a)){c.push(h);break}d&&(C=x)}n&&((h=!g&&h)&&y--,s&&w.push(h))}if(y+=v,n&&v!==y){for(m=0;g=e[m++];)g(w,_,r,a);if(s){if(y>0)for(;v--;)w[v]||_[v]||(_[v]=D.call(c));_=Ct(_)}L.apply(c,_),d&&!s&&_.length>0&&y+e.length>1&&at.uniqueSort(c)}return d&&(C=x,l=b),w};return n?lt(s):s}(s,o))).selector=t}return a},c=at.select=function(t,e,n,o){var s,c,l,d,h,u=\"function\"==typeof t&&t,p=!o&&r(t=u.selector||t);if(n=n||[],1===p.length){if((c=p[0]=p[0].slice(0)).length>2&&\"ID\"===(l=c[0]).type&&9===e.nodeType&&f&&i.relative[c[1].type]){if(!(e=(i.find.ID(l.matches[0].replace(et,nt),e)||[])[0]))return n;u&&(e=e.parentNode),t=t.slice(c.shift().value.length)}for(s=X.needsContext.test(t)?0:c.length;s--&&(l=c[s],!i.relative[d=l.type]);)if((h=i.find[d])&&(o=h(l.matches[0].replace(et,nt),tt.test(c[0].type)&&yt(e.parentNode)||e))){if(c.splice(s,1),!(t=o.length&&wt(c)))return L.apply(n,o),n;break}}return(u||a(t,p))(o,e,!f,n,!e||tt.test(t)&&yt(e.parentNode)||e),n},n.sortStable=_.split(\"\").sort(T).join(\"\")===_,n.detectDuplicates=!!h,u(),n.sortDetached=dt((function(t){return 1&t.compareDocumentPosition(p.createElement(\"fieldset\"))})),dt((function(t){return t.innerHTML=\"<a href='#'></a>\",\"#\"===t.firstChild.getAttribute(\"href\")}))||ht(\"type|href|height|width\",(function(t,e,n){if(!n)return t.getAttribute(e,\"type\"===e.toLowerCase()?1:2)})),n.attributes&&dt((function(t){return t.innerHTML=\"<input/>\",t.firstChild.setAttribute(\"value\",\"\"),\"\"===t.firstChild.getAttribute(\"value\")}))||ht(\"value\",(function(t,e,n){if(!n&&\"input\"===t.nodeName.toLowerCase())return t.defaultValue})),dt((function(t){return null==t.getAttribute(\"disabled\")}))||ht(z,(function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null})),at}(t);b.find=I,b.expr=I.selectors,b.expr[\":\"]=b.expr.pseudos,b.uniqueSort=b.unique=I.uniqueSort,b.text=I.getText,b.isXMLDoc=I.isXML,b.contains=I.contains,b.escapeSelector=I.escape;var x=function(t,e,n){for(var i=[],o=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&b(t).is(n))break;i.push(t)}return i},k=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},E=b.expr.match.needsContext;function S(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var T=/^<([a-z][^\\/\\0>:\\x20\\t\\r\\n\\f]*)[\\x20\\t\\r\\n\\f]*\\/?>(?:<\\/\\1>|)$/i;function W(t,e,n){return m(e)?b.grep(t,(function(t,i){return!!e.call(t,i,t)!==n})):e.nodeType?b.grep(t,(function(t){return t===e!==n})):\"string\"!=typeof e?b.grep(t,(function(t){return a.call(e,t)>-1!==n})):b.filter(e,t,n)}b.filter=function(t,e,n){var i=e[0];return n&&(t=\":not(\"+t+\")\"),1===e.length&&1===i.nodeType?b.find.matchesSelector(i,t)?[i]:[]:b.find.matches(t,b.grep(e,(function(t){return 1===t.nodeType})))},b.fn.extend({find:function(t){var e,n,i=this.length,o=this;if(\"string\"!=typeof t)return this.pushStack(b(t).filter((function(){for(e=0;e<i;e++)if(b.contains(o[e],this))return!0})));for(n=this.pushStack([]),e=0;e<i;e++)b.find(t,o[e],n);return i>1?b.uniqueSort(n):n},filter:function(t){return this.pushStack(W(this,t||[],!1))},not:function(t){return this.pushStack(W(this,t||[],!0))},is:function(t){return!!W(this,\"string\"==typeof t&&E.test(t)?b(t):t||[],!1).length}});var A,D=/^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]+))$/;(b.fn.init=function(t,e,n){var i,o;if(!t)return this;if(n=n||A,\"string\"==typeof t){if(!(i=\"<\"===t[0]&&\">\"===t[t.length-1]&&t.length>=3?[null,t,null]:D.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof b?e[0]:e,b.merge(this,b.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:g,!0)),T.test(i[1])&&b.isPlainObject(e))for(i in e)m(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(o=g.getElementById(i[2]))&&(this[0]=o,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):m(t)?void 0!==n.ready?n.ready(t):t(b):b.makeArray(t,this)}).prototype=b.fn,A=b(g);var P=/^(?:parents|prev(?:Until|All))/,L={children:!0,contents:!0,next:!0,prev:!0};function M(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}b.fn.extend({has:function(t){var e=b(t,this),n=e.length;return this.filter((function(){for(var t=0;t<n;t++)if(b.contains(this,e[t]))return!0}))},closest:function(t,e){var n,i=0,o=this.length,s=[],r=\"string\"!=typeof t&&b(t);if(!E.test(t))for(;i<o;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(r?r.index(n)>-1:1===n.nodeType&&b.find.matchesSelector(n,t))){s.push(n);break}return this.pushStack(s.length>1?b.uniqueSort(s):s)},index:function(t){return t?\"string\"==typeof t?a.call(b(t),this[0]):a.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(b.uniqueSort(b.merge(this.get(),b(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),b.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return x(t,\"parentNode\")},parentsUntil:function(t,e,n){return x(t,\"parentNode\",n)},next:function(t){return M(t,\"nextSibling\")},prev:function(t){return M(t,\"previousSibling\")},nextAll:function(t){return x(t,\"nextSibling\")},prevAll:function(t){return x(t,\"previousSibling\")},nextUntil:function(t,e,n){return x(t,\"nextSibling\",n)},prevUntil:function(t,e,n){return x(t,\"previousSibling\",n)},siblings:function(t){return k((t.parentNode||{}).firstChild,t)},children:function(t){return k(t.firstChild)},contents:function(t){return null!=t.contentDocument&&i(t.contentDocument)?t.contentDocument:(S(t,\"template\")&&(t=t.content||t),b.merge([],t.childNodes))}},(function(t,e){b.fn[t]=function(n,i){var o=b.map(this,e,n);return\"Until\"!==t.slice(-5)&&(i=n),i&&\"string\"==typeof i&&(o=b.filter(i,o)),this.length>1&&(L[t]||b.uniqueSort(o),P.test(t)&&o.reverse()),this.pushStack(o)}}));var F=/[^\\x20\\t\\r\\n\\f]+/g;function z(t){return t}function B(t){throw t}function N(t,e,n,i){var o;try{t&&m(o=t.promise)?o.call(t).done(e).fail(n):t&&m(o=t.then)?o.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}b.Callbacks=function(t){t=\"string\"==typeof t?function(t){var e={};return b.each(t.match(F)||[],(function(t,n){e[n]=!0})),e}(t):b.extend({},t);var e,n,i,o,s=[],r=[],a=-1,c=function(){for(o=o||t.once,i=e=!0;r.length;a=-1)for(n=r.shift();++a<s.length;)!1===s[a].apply(n[0],n[1])&&t.stopOnFalse&&(a=s.length,n=!1);t.memory||(n=!1),e=!1,o&&(s=n?[]:\"\")},l={add:function(){return s&&(n&&!e&&(a=s.length-1,r.push(n)),function e(n){b.each(n,(function(n,i){m(i)?t.unique&&l.has(i)||s.push(i):i&&i.length&&\"string\"!==w(i)&&e(i)}))}(arguments),n&&!e&&c()),this},remove:function(){return b.each(arguments,(function(t,e){for(var n;(n=b.inArray(e,s,n))>-1;)s.splice(n,1),n<=a&&a--})),this},has:function(t){return t?b.inArray(t,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return o=r=[],s=n=\"\",this},disabled:function(){return!s},lock:function(){return o=r=[],n||e||(s=n=\"\"),this},locked:function(){return!!o},fireWith:function(t,n){return o||(n=[t,(n=n||[]).slice?n.slice():n],r.push(n),e||c()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!i}};return l},b.extend({Deferred:function(e){var n=[[\"notify\",\"progress\",b.Callbacks(\"memory\"),b.Callbacks(\"memory\"),2],[\"resolve\",\"done\",b.Callbacks(\"once memory\"),b.Callbacks(\"once memory\"),0,\"resolved\"],[\"reject\",\"fail\",b.Callbacks(\"once memory\"),b.Callbacks(\"once memory\"),1,\"rejected\"]],i=\"pending\",o={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},catch:function(t){return o.then(null,t)},pipe:function(){var t=arguments;return b.Deferred((function(e){b.each(n,(function(n,i){var o=m(t[i[4]])&&t[i[4]];s[i[1]]((function(){var t=o&&o.apply(this,arguments);t&&m(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[i[0]+\"With\"](this,o?[t]:arguments)}))})),t=null})).promise()},then:function(e,i,o){var s=0;function r(e,n,i,o){return function(){var a=this,c=arguments,l=function(){var t,l;if(!(e<s)){if((t=i.apply(a,c))===n.promise())throw new TypeError(\"Thenable self-resolution\");l=t&&(\"object\"==typeof t||\"function\"==typeof t)&&t.then,m(l)?o?l.call(t,r(s,n,z,o),r(s,n,B,o)):(s++,l.call(t,r(s,n,z,o),r(s,n,B,o),r(s,n,z,n.notifyWith))):(i!==z&&(a=void 0,c=[t]),(o||n.resolveWith)(a,c))}},d=o?l:function(){try{l()}catch(t){b.Deferred.exceptionHook&&b.Deferred.exceptionHook(t,d.stackTrace),e+1>=s&&(i!==B&&(a=void 0,c=[t]),n.rejectWith(a,c))}};e?d():(b.Deferred.getStackHook&&(d.stackTrace=b.Deferred.getStackHook()),t.setTimeout(d))}}return b.Deferred((function(t){n[0][3].add(r(0,t,m(o)?o:z,t.notifyWith)),n[1][3].add(r(0,t,m(e)?e:z)),n[2][3].add(r(0,t,m(i)?i:B))})).promise()},promise:function(t){return null!=t?b.extend(t,o):o}},s={};return b.each(n,(function(t,e){var r=e[2],a=e[5];o[e[1]]=r.add,a&&r.add((function(){i=a}),n[3-t][2].disable,n[3-t][3].disable,n[0][2].lock,n[0][3].lock),r.add(e[3].fire),s[e[0]]=function(){return s[e[0]+\"With\"](this===s?void 0:this,arguments),this},s[e[0]+\"With\"]=r.fireWith})),o.promise(s),e&&e.call(s,s),s},when:function(t){var e=arguments.length,n=e,i=Array(n),s=o.call(arguments),r=b.Deferred(),a=function(t){return function(n){i[t]=this,s[t]=arguments.length>1?o.call(arguments):n,--e||r.resolveWith(i,s)}};if(e<=1&&(N(t,r.done(a(n)).resolve,r.reject,!e),\"pending\"===r.state()||m(s[n]&&s[n].then)))return r.then();for(;n--;)N(s[n],a(n),r.reject);return r.promise()}});var O=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;b.Deferred.exceptionHook=function(e,n){t.console&&t.console.warn&&e&&O.test(e.name)&&t.console.warn(\"jQuery.Deferred exception: \"+e.message,e.stack,n)},b.readyException=function(e){t.setTimeout((function(){throw e}))};var $=b.Deferred();function R(){g.removeEventListener(\"DOMContentLoaded\",R),t.removeEventListener(\"load\",R),b.ready()}b.fn.ready=function(t){return $.then(t).catch((function(t){b.readyException(t)})),this},b.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--b.readyWait:b.isReady)||(b.isReady=!0,!0!==t&&--b.readyWait>0||$.resolveWith(g,[b]))}}),b.ready.then=$.then,\"complete\"===g.readyState||\"loading\"!==g.readyState&&!g.documentElement.doScroll?t.setTimeout(b.ready):(g.addEventListener(\"DOMContentLoaded\",R),t.addEventListener(\"load\",R));var H=function(t,e,n,i,o,s,r){var a=0,c=t.length,l=null==n;if(\"object\"===w(n))for(a in o=!0,n)H(t,e,a,n[a],!0,s,r);else if(void 0!==i&&(o=!0,m(i)||(r=!0),l&&(r?(e.call(t,i),e=null):(l=e,e=function(t,e,n){return l.call(b(t),n)})),e))for(;a<c;a++)e(t[a],n,r?i:i.call(t[a],a,e(t[a],n)));return o?t:l?e.call(t):c?e(t[0],n):s},j=/^-ms-/,q=/-([a-z])/g;function U(t,e){return e.toUpperCase()}function V(t){return t.replace(j,\"ms-\").replace(q,U)}var G=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function X(){this.expando=b.expando+X.uid++}X.uid=1,X.prototype={cache:function(t){var e=t[this.expando];return e||(e={},G(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,o=this.cache(t);if(\"string\"==typeof e)o[V(e)]=n;else for(i in e)o[V(i)]=e[i];return o},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][V(e)]},access:function(t,e,n){return void 0===e||e&&\"string\"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){n=(e=Array.isArray(e)?e.map(V):(e=V(e))in i?[e]:e.match(F)||[]).length;for(;n--;)delete i[e[n]]}(void 0===e||b.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!b.isEmptyObject(e)}};var Y=new X,J=new X,Z=/^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,Q=/[A-Z]/g;function K(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i=\"data-\"+e.replace(Q,\"-$&\").toLowerCase(),\"string\"==typeof(n=t.getAttribute(i))){try{n=function(t){return\"true\"===t||\"false\"!==t&&(\"null\"===t?null:t===+t+\"\"?+t:Z.test(t)?JSON.parse(t):t)}(n)}catch(t){}J.set(t,e,n)}else n=void 0;return n}b.extend({hasData:function(t){return J.hasData(t)||Y.hasData(t)},data:function(t,e,n){return J.access(t,e,n)},removeData:function(t,e){J.remove(t,e)},_data:function(t,e,n){return Y.access(t,e,n)},_removeData:function(t,e){Y.remove(t,e)}}),b.fn.extend({data:function(t,e){var n,i,o,s=this[0],r=s&&s.attributes;if(void 0===t){if(this.length&&(o=J.get(s),1===s.nodeType&&!Y.get(s,\"hasDataAttrs\"))){for(n=r.length;n--;)r[n]&&0===(i=r[n].name).indexOf(\"data-\")&&(i=V(i.slice(5)),K(s,i,o[i]));Y.set(s,\"hasDataAttrs\",!0)}return o}return\"object\"==typeof t?this.each((function(){J.set(this,t)})):H(this,(function(e){var n;if(s&&void 0===e)return void 0!==(n=J.get(s,t))||void 0!==(n=K(s,t))?n:void 0;this.each((function(){J.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){J.remove(this,t)}))}}),b.extend({queue:function(t,e,n){var i;if(t)return e=(e||\"fx\")+\"queue\",i=Y.get(t,e),n&&(!i||Array.isArray(n)?i=Y.access(t,e,b.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||\"fx\";var n=b.queue(t,e),i=n.length,o=n.shift(),s=b._queueHooks(t,e);\"inprogress\"===o&&(o=n.shift(),i--),o&&(\"fx\"===e&&n.unshift(\"inprogress\"),delete s.stop,o.call(t,(function(){b.dequeue(t,e)}),s)),!i&&s&&s.empty.fire()},_queueHooks:function(t,e){var n=e+\"queueHooks\";return Y.get(t,n)||Y.access(t,n,{empty:b.Callbacks(\"once memory\").add((function(){Y.remove(t,[e+\"queue\",n])}))})}}),b.fn.extend({queue:function(t,e){var n=2;return\"string\"!=typeof t&&(e=t,t=\"fx\",n--),arguments.length<n?b.queue(this[0],t):void 0===e?this:this.each((function(){var n=b.queue(this,t,e);b._queueHooks(this,t),\"fx\"===t&&\"inprogress\"!==n[0]&&b.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){b.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||\"fx\",[])},promise:function(t,e){var n,i=1,o=b.Deferred(),s=this,r=this.length,a=function(){--i||o.resolveWith(s,[s])};for(\"string\"!=typeof t&&(e=t,t=void 0),t=t||\"fx\";r--;)(n=Y.get(s[r],t+\"queueHooks\"))&&n.empty&&(i++,n.empty.add(a));return a(),o.promise(e)}});var tt=/[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/.source,et=new RegExp(\"^(?:([+-])=|)(\"+tt+\")([a-z%]*)$\",\"i\"),nt=[\"Top\",\"Right\",\"Bottom\",\"Left\"],it=g.documentElement,ot=function(t){return b.contains(t.ownerDocument,t)},st={composed:!0};it.getRootNode&&(ot=function(t){return b.contains(t.ownerDocument,t)||t.getRootNode(st)===t.ownerDocument});var rt=function(t,e){return\"none\"===(t=e||t).style.display||\"\"===t.style.display&&ot(t)&&\"none\"===b.css(t,\"display\")};function at(t,e,n,i){var o,s,r=20,a=i?function(){return i.cur()}:function(){return b.css(t,e,\"\")},c=a(),l=n&&n[3]||(b.cssNumber[e]?\"\":\"px\"),d=t.nodeType&&(b.cssNumber[e]||\"px\"!==l&&+c)&&et.exec(b.css(t,e));if(d&&d[3]!==l){for(c/=2,l=l||d[3],d=+c||1;r--;)b.style(t,e,d+l),(1-s)*(1-(s=a()/c||.5))<=0&&(r=0),d/=s;d*=2,b.style(t,e,d+l),n=n||[]}return n&&(d=+d||+c||0,o=n[1]?d+(n[1]+1)*n[2]:+n[2],i&&(i.unit=l,i.start=d,i.end=o)),o}var ct={};function lt(t){var e,n=t.ownerDocument,i=t.nodeName,o=ct[i];return o||(e=n.body.appendChild(n.createElement(i)),o=b.css(e,\"display\"),e.parentNode.removeChild(e),\"none\"===o&&(o=\"block\"),ct[i]=o,o)}function dt(t,e){for(var n,i,o=[],s=0,r=t.length;s<r;s++)(i=t[s]).style&&(n=i.style.display,e?(\"none\"===n&&(o[s]=Y.get(i,\"display\")||null,o[s]||(i.style.display=\"\")),\"\"===i.style.display&&rt(i)&&(o[s]=lt(i))):\"none\"!==n&&(o[s]=\"none\",Y.set(i,\"display\",n)));for(s=0;s<r;s++)null!=o[s]&&(t[s].style.display=o[s]);return t}b.fn.extend({show:function(){return dt(this,!0)},hide:function(){return dt(this)},toggle:function(t){return\"boolean\"==typeof t?t?this.show():this.hide():this.each((function(){rt(this)?b(this).show():b(this).hide()}))}});var ht,ut,pt=/^(?:checkbox|radio)$/i,mt=/<([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]*)/i,ft=/^$|^module$|\\/(?:java|ecma)script/i;ht=g.createDocumentFragment().appendChild(g.createElement(\"div\")),(ut=g.createElement(\"input\")).setAttribute(\"type\",\"radio\"),ut.setAttribute(\"checked\",\"checked\"),ut.setAttribute(\"name\",\"t\"),ht.appendChild(ut),p.checkClone=ht.cloneNode(!0).cloneNode(!0).lastChild.checked,ht.innerHTML=\"<textarea>x</textarea>\",p.noCloneChecked=!!ht.cloneNode(!0).lastChild.defaultValue,ht.innerHTML=\"<option></option>\",p.option=!!ht.lastChild;var gt={thead:[1,\"<table>\",\"</table>\"],col:[2,\"<table><colgroup>\",\"</colgroup></table>\"],tr:[2,\"<table><tbody>\",\"</tbody></table>\"],td:[3,\"<table><tbody><tr>\",\"</tr></tbody></table>\"],_default:[0,\"\",\"\"]};function yt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||\"*\"):void 0!==t.querySelectorAll?t.querySelectorAll(e||\"*\"):[],void 0===e||e&&S(t,e)?b.merge([t],n):n}function vt(t,e){for(var n=0,i=t.length;n<i;n++)Y.set(t[n],\"globalEval\",!e||Y.get(e[n],\"globalEval\"))}gt.tbody=gt.tfoot=gt.colgroup=gt.caption=gt.thead,gt.th=gt.td,p.option||(gt.optgroup=gt.option=[1,\"<select multiple='multiple'>\",\"</select>\"]);var wt=/<|&#?\\w+;/;function _t(t,e,n,i,o){for(var s,r,a,c,l,d,h=e.createDocumentFragment(),u=[],p=0,m=t.length;p<m;p++)if((s=t[p])||0===s)if(\"object\"===w(s))b.merge(u,s.nodeType?[s]:s);else if(wt.test(s)){for(r=r||h.appendChild(e.createElement(\"div\")),a=(mt.exec(s)||[\"\",\"\"])[1].toLowerCase(),c=gt[a]||gt._default,r.innerHTML=c[1]+b.htmlPrefilter(s)+c[2],d=c[0];d--;)r=r.lastChild;b.merge(u,r.childNodes),(r=h.firstChild).textContent=\"\"}else u.push(e.createTextNode(s));for(h.textContent=\"\",p=0;s=u[p++];)if(i&&b.inArray(s,i)>-1)o&&o.push(s);else if(l=ot(s),r=yt(h.appendChild(s),\"script\"),l&&vt(r),n)for(d=0;s=r[d++];)ft.test(s.type||\"\")&&n.push(s);return h}var bt=/^key/,Ct=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,It=/^([^.]*)(?:\\.(.+)|)/;function xt(){return!0}function kt(){return!1}function Et(t,e){return t===function(){try{return g.activeElement}catch(t){}}()==(\"focus\"===e)}function St(t,e,n,i,o,s){var r,a;if(\"object\"==typeof e){for(a in\"string\"!=typeof n&&(i=i||n,n=void 0),e)St(t,a,n,i,e[a],s);return t}if(null==i&&null==o?(o=n,i=n=void 0):null==o&&(\"string\"==typeof n?(o=i,i=void 0):(o=i,i=n,n=void 0)),!1===o)o=kt;else if(!o)return t;return 1===s&&(r=o,(o=function(t){return b().off(t),r.apply(this,arguments)}).guid=r.guid||(r.guid=b.guid++)),t.each((function(){b.event.add(this,e,o,i,n)}))}function Tt(t,e,n){n?(Y.set(t,e,!1),b.event.add(t,e,{namespace:!1,handler:function(t){var i,s,r=Y.get(this,e);if(1&t.isTrigger&&this[e]){if(r.length)(b.event.special[e]||{}).delegateType&&t.stopPropagation();else if(r=o.call(arguments),Y.set(this,e,r),i=n(this,e),this[e](),r!==(s=Y.get(this,e))||i?Y.set(this,e,!1):s={},r!==s)return t.stopImmediatePropagation(),t.preventDefault(),s.value}else r.length&&(Y.set(this,e,{value:b.event.trigger(b.extend(r[0],b.Event.prototype),r.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===Y.get(t,e)&&b.event.add(t,e,xt)}b.event={global:{},add:function(t,e,n,i,o){var s,r,a,c,l,d,h,u,p,m,f,g=Y.get(t);if(G(t))for(n.handler&&(n=(s=n).handler,o=s.selector),o&&b.find.matchesSelector(it,o),n.guid||(n.guid=b.guid++),(c=g.events)||(c=g.events=Object.create(null)),(r=g.handle)||(r=g.handle=function(e){return void 0!==b&&b.event.triggered!==e.type?b.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||\"\").match(F)||[\"\"]).length;l--;)p=f=(a=It.exec(e[l])||[])[1],m=(a[2]||\"\").split(\".\").sort(),p&&(h=b.event.special[p]||{},p=(o?h.delegateType:h.bindType)||p,h=b.event.special[p]||{},d=b.extend({type:p,origType:f,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&b.expr.match.needsContext.test(o),namespace:m.join(\".\")},s),(u=c[p])||((u=c[p]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,i,m,r)||t.addEventListener&&t.addEventListener(p,r)),h.add&&(h.add.call(t,d),d.handler.guid||(d.handler.guid=n.guid)),o?u.splice(u.delegateCount++,0,d):u.push(d),b.event.global[p]=!0)},remove:function(t,e,n,i,o){var s,r,a,c,l,d,h,u,p,m,f,g=Y.hasData(t)&&Y.get(t);if(g&&(c=g.events)){for(l=(e=(e||\"\").match(F)||[\"\"]).length;l--;)if(p=f=(a=It.exec(e[l])||[])[1],m=(a[2]||\"\").split(\".\").sort(),p){for(h=b.event.special[p]||{},u=c[p=(i?h.delegateType:h.bindType)||p]||[],a=a[2]&&new RegExp(\"(^|\\\\.)\"+m.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"),r=s=u.length;s--;)d=u[s],!o&&f!==d.origType||n&&n.guid!==d.guid||a&&!a.test(d.namespace)||i&&i!==d.selector&&(\"**\"!==i||!d.selector)||(u.splice(s,1),d.selector&&u.delegateCount--,h.remove&&h.remove.call(t,d));r&&!u.length&&(h.teardown&&!1!==h.teardown.call(t,m,g.handle)||b.removeEvent(t,p,g.handle),delete c[p])}else for(p in c)b.event.remove(t,p+e[l],n,i,!0);b.isEmptyObject(c)&&Y.remove(t,\"handle events\")}},dispatch:function(t){var e,n,i,o,s,r,a=new Array(arguments.length),c=b.event.fix(t),l=(Y.get(this,\"events\")||Object.create(null))[c.type]||[],d=b.event.special[c.type]||{};for(a[0]=c,e=1;e<arguments.length;e++)a[e]=arguments[e];if(c.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,c)){for(r=b.event.handlers.call(this,c,l),e=0;(o=r[e++])&&!c.isPropagationStopped();)for(c.currentTarget=o.elem,n=0;(s=o.handlers[n++])&&!c.isImmediatePropagationStopped();)c.rnamespace&&!1!==s.namespace&&!c.rnamespace.test(s.namespace)||(c.handleObj=s,c.data=s.data,void 0!==(i=((b.event.special[s.origType]||{}).handle||s.handler).apply(o.elem,a))&&!1===(c.result=i)&&(c.preventDefault(),c.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,c),c.result}},handlers:function(t,e){var n,i,o,s,r,a=[],c=e.delegateCount,l=t.target;if(c&&l.nodeType&&!(\"click\"===t.type&&t.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(\"click\"!==t.type||!0!==l.disabled)){for(s=[],r={},n=0;n<c;n++)void 0===r[o=(i=e[n]).selector+\" \"]&&(r[o]=i.needsContext?b(o,this).index(l)>-1:b.find(o,this,null,[l]).length),r[o]&&s.push(i);s.length&&a.push({elem:l,handlers:s})}return l=this,c<e.length&&a.push({elem:l,handlers:e.slice(c)}),a},addProp:function(t,e){Object.defineProperty(b.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[b.expando]?t:new b.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return pt.test(e.type)&&e.click&&S(e,\"input\")&&Tt(e,\"click\",xt),!1},trigger:function(t){var e=this||t;return pt.test(e.type)&&e.click&&S(e,\"input\")&&Tt(e,\"click\"),!0},_default:function(t){var e=t.target;return pt.test(e.type)&&e.click&&S(e,\"input\")&&Y.get(e,\"click\")||S(e,\"a\")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},b.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},b.Event=function(t,e){if(!(this instanceof b.Event))return new b.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?xt:kt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&b.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[b.expando]=!0},b.Event.prototype={constructor:b.Event,isDefaultPrevented:kt,isPropagationStopped:kt,isImmediatePropagationStopped:kt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=xt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=xt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=xt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},b.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&bt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Ct.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},b.event.addProp),b.each({focus:\"focusin\",blur:\"focusout\"},(function(t,e){b.event.special[t]={setup:function(){return Tt(this,t,Et),!1},trigger:function(){return Tt(this,t),!0},delegateType:e}})),b.each({mouseenter:\"mouseover\",mouseleave:\"mouseout\",pointerenter:\"pointerover\",pointerleave:\"pointerout\"},(function(t,e){b.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,o=t.relatedTarget,s=t.handleObj;return o&&(o===i||b.contains(i,o))||(t.type=s.origType,n=s.handler.apply(this,arguments),t.type=e),n}}})),b.fn.extend({on:function(t,e,n,i){return St(this,t,e,n,i)},one:function(t,e,n,i){return St(this,t,e,n,i,1)},off:function(t,e,n){var i,o;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,b(t.delegateTarget).off(i.namespace?i.origType+\".\"+i.namespace:i.origType,i.selector,i.handler),this;if(\"object\"==typeof t){for(o in t)this.off(o,e,t[o]);return this}return!1!==e&&\"function\"!=typeof e||(n=e,e=void 0),!1===n&&(n=kt),this.each((function(){b.event.remove(this,t,n,e)}))}});var Wt=/<script|<style|<link/i,At=/checked\\s*(?:[^=]|=\\s*.checked.)/i,Dt=/^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g;function Pt(t,e){return S(t,\"table\")&&S(11!==e.nodeType?e:e.firstChild,\"tr\")&&b(t).children(\"tbody\")[0]||t}function Lt(t){return t.type=(null!==t.getAttribute(\"type\"))+\"/\"+t.type,t}function Mt(t){return\"true/\"===(t.type||\"\").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute(\"type\"),t}function Ft(t,e){var n,i,o,s,r,a;if(1===e.nodeType){if(Y.hasData(t)&&(a=Y.get(t).events))for(o in Y.remove(e,\"handle events\"),a)for(n=0,i=a[o].length;n<i;n++)b.event.add(e,o,a[o][n]);J.hasData(t)&&(s=J.access(t),r=b.extend({},s),J.set(e,r))}}function zt(t,e){var n=e.nodeName.toLowerCase();\"input\"===n&&pt.test(t.type)?e.checked=t.checked:\"input\"!==n&&\"textarea\"!==n||(e.defaultValue=t.defaultValue)}function Bt(t,e,n,i){e=s(e);var o,r,a,c,l,d,h=0,u=t.length,f=u-1,g=e[0],y=m(g);if(y||u>1&&\"string\"==typeof g&&!p.checkClone&&At.test(g))return t.each((function(o){var s=t.eq(o);y&&(e[0]=g.call(this,o,s.html())),Bt(s,e,n,i)}));if(u&&(r=(o=_t(e,t[0].ownerDocument,!1,t,i)).firstChild,1===o.childNodes.length&&(o=r),r||i)){for(c=(a=b.map(yt(o,\"script\"),Lt)).length;h<u;h++)l=o,h!==f&&(l=b.clone(l,!0,!0),c&&b.merge(a,yt(l,\"script\"))),n.call(t[h],l,h);if(c)for(d=a[a.length-1].ownerDocument,b.map(a,Mt),h=0;h<c;h++)l=a[h],ft.test(l.type||\"\")&&!Y.access(l,\"globalEval\")&&b.contains(d,l)&&(l.src&&\"module\"!==(l.type||\"\").toLowerCase()?b._evalUrl&&!l.noModule&&b._evalUrl(l.src,{nonce:l.nonce||l.getAttribute(\"nonce\")},d):v(l.textContent.replace(Dt,\"\"),l,d))}return t}function Nt(t,e,n){for(var i,o=e?b.filter(e,t):t,s=0;null!=(i=o[s]);s++)n||1!==i.nodeType||b.cleanData(yt(i)),i.parentNode&&(n&&ot(i)&&vt(yt(i,\"script\")),i.parentNode.removeChild(i));return t}b.extend({htmlPrefilter:function(t){return t},clone:function(t,e,n){var i,o,s,r,a=t.cloneNode(!0),c=ot(t);if(!(p.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||b.isXMLDoc(t)))for(r=yt(a),i=0,o=(s=yt(t)).length;i<o;i++)zt(s[i],r[i]);if(e)if(n)for(s=s||yt(t),r=r||yt(a),i=0,o=s.length;i<o;i++)Ft(s[i],r[i]);else Ft(t,a);return(r=yt(a,\"script\")).length>0&&vt(r,!c&&yt(t,\"script\")),a},cleanData:function(t){for(var e,n,i,o=b.event.special,s=0;void 0!==(n=t[s]);s++)if(G(n)){if(e=n[Y.expando]){if(e.events)for(i in e.events)o[i]?b.event.remove(n,i):b.removeEvent(n,i,e.handle);n[Y.expando]=void 0}n[J.expando]&&(n[J.expando]=void 0)}}}),b.fn.extend({detach:function(t){return Nt(this,t,!0)},remove:function(t){return Nt(this,t)},text:function(t){return H(this,(function(t){return void 0===t?b.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return Bt(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Pt(this,t).appendChild(t)}))},prepend:function(){return Bt(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Pt(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return Bt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return Bt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(b.cleanData(yt(t,!1)),t.textContent=\"\");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return b.clone(this,t,e)}))},html:function(t){return H(this,(function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if(\"string\"==typeof t&&!Wt.test(t)&&!gt[(mt.exec(t)||[\"\",\"\"])[1].toLowerCase()]){t=b.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(b.cleanData(yt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return Bt(this,arguments,(function(e){var n=this.parentNode;b.inArray(this,t)<0&&(b.cleanData(yt(this)),n&&n.replaceChild(e,this))}),t)}}),b.each({appendTo:\"append\",prependTo:\"prepend\",insertBefore:\"before\",insertAfter:\"after\",replaceAll:\"replaceWith\"},(function(t,e){b.fn[t]=function(t){for(var n,i=[],o=b(t),s=o.length-1,a=0;a<=s;a++)n=a===s?this:this.clone(!0),b(o[a])[e](n),r.apply(i,n.get());return this.pushStack(i)}}));var Ot=new RegExp(\"^(\"+tt+\")(?!px)[a-z%]+$\",\"i\"),$t=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)},Rt=function(t,e,n){var i,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];for(o in i=n.call(t),e)t.style[o]=s[o];return i},Ht=new RegExp(nt.join(\"|\"),\"i\");function jt(t,e,n){var i,o,s,r,a=t.style;return(n=n||$t(t))&&(\"\"!==(r=n.getPropertyValue(e)||n[e])||ot(t)||(r=b.style(t,e)),!p.pixelBoxStyles()&&Ot.test(r)&&Ht.test(e)&&(i=a.width,o=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=r,r=n.width,a.width=i,a.minWidth=o,a.maxWidth=s)),void 0!==r?r+\"\":r}function qt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function e(){if(d){l.style.cssText=\"position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0\",d.style.cssText=\"position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%\",it.appendChild(l).appendChild(d);var e=t.getComputedStyle(d);i=\"1%\"!==e.top,c=12===n(e.marginLeft),d.style.right=\"60%\",r=36===n(e.right),o=36===n(e.width),d.style.position=\"absolute\",s=12===n(d.offsetWidth/3),it.removeChild(l),d=null}}function n(t){return Math.round(parseFloat(t))}var i,o,s,r,a,c,l=g.createElement(\"div\"),d=g.createElement(\"div\");d.style&&(d.style.backgroundClip=\"content-box\",d.cloneNode(!0).style.backgroundClip=\"\",p.clearCloneStyle=\"content-box\"===d.style.backgroundClip,b.extend(p,{boxSizingReliable:function(){return e(),o},pixelBoxStyles:function(){return e(),r},pixelPosition:function(){return e(),i},reliableMarginLeft:function(){return e(),c},scrollboxSize:function(){return e(),s},reliableTrDimensions:function(){var e,n,i,o;return null==a&&(e=g.createElement(\"table\"),n=g.createElement(\"tr\"),i=g.createElement(\"div\"),e.style.cssText=\"position:absolute;left:-11111px\",n.style.height=\"1px\",i.style.height=\"9px\",it.appendChild(e).appendChild(n).appendChild(i),o=t.getComputedStyle(n),a=parseInt(o.height)>3,it.removeChild(e)),a}}))}();var Ut=[\"Webkit\",\"Moz\",\"ms\"],Vt=g.createElement(\"div\").style,Gt={};function Xt(t){var e=b.cssProps[t]||Gt[t];return e||(t in Vt?t:Gt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),n=Ut.length;n--;)if((t=Ut[n]+e)in Vt)return t}(t)||t)}var Yt=/^(none|table(?!-c[ea]).+)/,Jt=/^--/,Zt={position:\"absolute\",visibility:\"hidden\",display:\"block\"},Qt={letterSpacing:\"0\",fontWeight:\"400\"};function Kt(t,e,n){var i=et.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||\"px\"):e}function te(t,e,n,i,o,s){var r=\"width\"===e?1:0,a=0,c=0;if(n===(i?\"border\":\"content\"))return 0;for(;r<4;r+=2)\"margin\"===n&&(c+=b.css(t,n+nt[r],!0,o)),i?(\"content\"===n&&(c-=b.css(t,\"padding\"+nt[r],!0,o)),\"margin\"!==n&&(c-=b.css(t,\"border\"+nt[r]+\"Width\",!0,o))):(c+=b.css(t,\"padding\"+nt[r],!0,o),\"padding\"!==n?c+=b.css(t,\"border\"+nt[r]+\"Width\",!0,o):a+=b.css(t,\"border\"+nt[r]+\"Width\",!0,o));return!i&&s>=0&&(c+=Math.max(0,Math.ceil(t[\"offset\"+e[0].toUpperCase()+e.slice(1)]-s-c-a-.5))||0),c}function ee(t,e,n){var i=$t(t),o=(!p.boxSizingReliable()||n)&&\"border-box\"===b.css(t,\"boxSizing\",!1,i),s=o,r=jt(t,e,i),a=\"offset\"+e[0].toUpperCase()+e.slice(1);if(Ot.test(r)){if(!n)return r;r=\"auto\"}return(!p.boxSizingReliable()&&o||!p.reliableTrDimensions()&&S(t,\"tr\")||\"auto\"===r||!parseFloat(r)&&\"inline\"===b.css(t,\"display\",!1,i))&&t.getClientRects().length&&(o=\"border-box\"===b.css(t,\"boxSizing\",!1,i),(s=a in t)&&(r=t[a])),(r=parseFloat(r)||0)+te(t,e,n||(o?\"border\":\"content\"),s,i,r)+\"px\"}function ne(t,e,n,i,o){return new ne.prototype.init(t,e,n,i,o)}b.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=jt(t,\"opacity\");return\"\"===n?\"1\":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,s,r,a=V(e),c=Jt.test(e),l=t.style;if(c||(e=Xt(a)),r=b.cssHooks[e]||b.cssHooks[a],void 0===n)return r&&\"get\"in r&&void 0!==(o=r.get(t,!1,i))?o:l[e];\"string\"===(s=typeof n)&&(o=et.exec(n))&&o[1]&&(n=at(t,e,o),s=\"number\"),null!=n&&n==n&&(\"number\"!==s||c||(n+=o&&o[3]||(b.cssNumber[a]?\"\":\"px\")),p.clearCloneStyle||\"\"!==n||0!==e.indexOf(\"background\")||(l[e]=\"inherit\"),r&&\"set\"in r&&void 0===(n=r.set(t,n,i))||(c?l.setProperty(e,n):l[e]=n))}},css:function(t,e,n,i){var o,s,r,a=V(e);return Jt.test(e)||(e=Xt(a)),(r=b.cssHooks[e]||b.cssHooks[a])&&\"get\"in r&&(o=r.get(t,!0,n)),void 0===o&&(o=jt(t,e,i)),\"normal\"===o&&e in Qt&&(o=Qt[e]),\"\"===n||n?(s=parseFloat(o),!0===n||isFinite(s)?s||0:o):o}}),b.each([\"height\",\"width\"],(function(t,e){b.cssHooks[e]={get:function(t,n,i){if(n)return!Yt.test(b.css(t,\"display\"))||t.getClientRects().length&&t.getBoundingClientRect().width?ee(t,e,i):Rt(t,Zt,(function(){return ee(t,e,i)}))},set:function(t,n,i){var o,s=$t(t),r=!p.scrollboxSize()&&\"absolute\"===s.position,a=(r||i)&&\"border-box\"===b.css(t,\"boxSizing\",!1,s),c=i?te(t,e,i,a,s):0;return a&&r&&(c-=Math.ceil(t[\"offset\"+e[0].toUpperCase()+e.slice(1)]-parseFloat(s[e])-te(t,e,\"border\",!1,s)-.5)),c&&(o=et.exec(n))&&\"px\"!==(o[3]||\"px\")&&(t.style[e]=n,n=b.css(t,e)),Kt(0,n,c)}}})),b.cssHooks.marginLeft=qt(p.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(jt(t,\"marginLeft\"))||t.getBoundingClientRect().left-Rt(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+\"px\"})),b.each({margin:\"\",padding:\"\",border:\"Width\"},(function(t,e){b.cssHooks[t+e]={expand:function(n){for(var i=0,o={},s=\"string\"==typeof n?n.split(\" \"):[n];i<4;i++)o[t+nt[i]+e]=s[i]||s[i-2]||s[0];return o}},\"margin\"!==t&&(b.cssHooks[t+e].set=Kt)})),b.fn.extend({css:function(t,e){return H(this,(function(t,e,n){var i,o,s={},r=0;if(Array.isArray(e)){for(i=$t(t),o=e.length;r<o;r++)s[e[r]]=b.css(t,e[r],!1,i);return s}return void 0!==n?b.style(t,e,n):b.css(t,e)}),t,e,arguments.length>1)}}),b.Tween=ne,ne.prototype={constructor:ne,init:function(t,e,n,i,o,s){this.elem=t,this.prop=n,this.easing=o||b.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=s||(b.cssNumber[n]?\"\":\"px\")},cur:function(){var t=ne.propHooks[this.prop];return t&&t.get?t.get(this):ne.propHooks._default.get(this)},run:function(t){var e,n=ne.propHooks[this.prop];return this.options.duration?this.pos=e=b.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ne.propHooks._default.set(this),this}},ne.prototype.init.prototype=ne.prototype,ne.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=b.css(t.elem,t.prop,\"\"))&&\"auto\"!==e?e:0},set:function(t){b.fx.step[t.prop]?b.fx.step[t.prop](t):1!==t.elem.nodeType||!b.cssHooks[t.prop]&&null==t.elem.style[Xt(t.prop)]?t.elem[t.prop]=t.now:b.style(t.elem,t.prop,t.now+t.unit)}}},ne.propHooks.scrollTop=ne.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},b.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:\"swing\"},b.fx=ne.prototype.init,b.fx.step={};var ie,oe,se=/^(?:toggle|show|hide)$/,re=/queueHooks$/;function ae(){oe&&(!1===g.hidden&&t.requestAnimationFrame?t.requestAnimationFrame(ae):t.setTimeout(ae,b.fx.interval),b.fx.tick())}function ce(){return t.setTimeout((function(){ie=void 0})),ie=Date.now()}function le(t,e){var n,i=0,o={height:t};for(e=e?1:0;i<4;i+=2-e)o[\"margin\"+(n=nt[i])]=o[\"padding\"+n]=t;return e&&(o.opacity=o.width=t),o}function de(t,e,n){for(var i,o=(he.tweeners[e]||[]).concat(he.tweeners[\"*\"]),s=0,r=o.length;s<r;s++)if(i=o[s].call(n,e,t))return i}function he(t,e,n){var i,o,s=0,r=he.prefilters.length,a=b.Deferred().always((function(){delete c.elem})),c=function(){if(o)return!1;for(var e=ie||ce(),n=Math.max(0,l.startTime+l.duration-e),i=1-(n/l.duration||0),s=0,r=l.tweens.length;s<r;s++)l.tweens[s].run(i);return a.notifyWith(t,[l,i,n]),i<1&&r?n:(r||a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l]),!1)},l=a.promise({elem:t,props:b.extend({},e),opts:b.extend(!0,{specialEasing:{},easing:b.easing._default},n),originalProperties:e,originalOptions:n,startTime:ie||ce(),duration:n.duration,tweens:[],createTween:function(e,n){var i=b.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(i),i},stop:function(e){var n=0,i=e?l.tweens.length:0;if(o)return this;for(o=!0;n<i;n++)l.tweens[n].run(1);return e?(a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l,e])):a.rejectWith(t,[l,e]),this}}),d=l.props;for(!function(t,e){var n,i,o,s,r;for(n in t)if(o=e[i=V(n)],s=t[n],Array.isArray(s)&&(o=s[1],s=t[n]=s[0]),n!==i&&(t[i]=s,delete t[n]),(r=b.cssHooks[i])&&\"expand\"in r)for(n in s=r.expand(s),delete t[i],s)n in t||(t[n]=s[n],e[n]=o);else e[i]=o}(d,l.opts.specialEasing);s<r;s++)if(i=he.prefilters[s].call(l,t,d,l.opts))return m(i.stop)&&(b._queueHooks(l.elem,l.opts.queue).stop=i.stop.bind(i)),i;return b.map(d,de,l),m(l.opts.start)&&l.opts.start.call(t,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),b.fx.timer(b.extend(c,{elem:t,anim:l,queue:l.opts.queue})),l}b.Animation=b.extend(he,{tweeners:{\"*\":[function(t,e){var n=this.createTween(t,e);return at(n.elem,t,et.exec(e),n),n}]},tweener:function(t,e){m(t)?(e=t,t=[\"*\"]):t=t.match(F);for(var n,i=0,o=t.length;i<o;i++)n=t[i],he.tweeners[n]=he.tweeners[n]||[],he.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var i,o,s,r,a,c,l,d,h=\"width\"in e||\"height\"in e,u=this,p={},m=t.style,f=t.nodeType&&rt(t),g=Y.get(t,\"fxshow\");for(i in n.queue||(null==(r=b._queueHooks(t,\"fx\")).unqueued&&(r.unqueued=0,a=r.empty.fire,r.empty.fire=function(){r.unqueued||a()}),r.unqueued++,u.always((function(){u.always((function(){r.unqueued--,b.queue(t,\"fx\").length||r.empty.fire()}))}))),e)if(o=e[i],se.test(o)){if(delete e[i],s=s||\"toggle\"===o,o===(f?\"hide\":\"show\")){if(\"show\"!==o||!g||void 0===g[i])continue;f=!0}p[i]=g&&g[i]||b.style(t,i)}if((c=!b.isEmptyObject(e))||!b.isEmptyObject(p))for(i in h&&1===t.nodeType&&(n.overflow=[m.overflow,m.overflowX,m.overflowY],null==(l=g&&g.display)&&(l=Y.get(t,\"display\")),\"none\"===(d=b.css(t,\"display\"))&&(l?d=l:(dt([t],!0),l=t.style.display||l,d=b.css(t,\"display\"),dt([t]))),(\"inline\"===d||\"inline-block\"===d&&null!=l)&&\"none\"===b.css(t,\"float\")&&(c||(u.done((function(){m.display=l})),null==l&&(d=m.display,l=\"none\"===d?\"\":d)),m.display=\"inline-block\")),n.overflow&&(m.overflow=\"hidden\",u.always((function(){m.overflow=n.overflow[0],m.overflowX=n.overflow[1],m.overflowY=n.overflow[2]}))),c=!1,p)c||(g?\"hidden\"in g&&(f=g.hidden):g=Y.access(t,\"fxshow\",{display:l}),s&&(g.hidden=!f),f&&dt([t],!0),u.done((function(){for(i in f||dt([t]),Y.remove(t,\"fxshow\"),p)b.style(t,i,p[i])}))),c=de(f?g[i]:0,i,u),i in g||(g[i]=c.start,f&&(c.end=c.start,c.start=0))}],prefilter:function(t,e){e?he.prefilters.unshift(t):he.prefilters.push(t)}}),b.speed=function(t,e,n){var i=t&&\"object\"==typeof t?b.extend({},t):{complete:n||!n&&e||m(t)&&t,duration:t,easing:n&&e||e&&!m(e)&&e};return b.fx.off?i.duration=0:\"number\"!=typeof i.duration&&(i.duration in b.fx.speeds?i.duration=b.fx.speeds[i.duration]:i.duration=b.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue=\"fx\"),i.old=i.complete,i.complete=function(){m(i.old)&&i.old.call(this),i.queue&&b.dequeue(this,i.queue)},i},b.fn.extend({fadeTo:function(t,e,n,i){return this.filter(rt).css(\"opacity\",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var o=b.isEmptyObject(t),s=b.speed(e,n,i),r=function(){var e=he(this,b.extend({},t),s);(o||Y.get(this,\"finish\"))&&e.stop(!0)};return r.finish=r,o||!1===s.queue?this.each(r):this.queue(s.queue,r)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return\"string\"!=typeof t&&(n=e,e=t,t=void 0),e&&this.queue(t||\"fx\",[]),this.each((function(){var e=!0,o=null!=t&&t+\"queueHooks\",s=b.timers,r=Y.get(this);if(o)r[o]&&r[o].stop&&i(r[o]);else for(o in r)r[o]&&r[o].stop&&re.test(o)&&i(r[o]);for(o=s.length;o--;)s[o].elem!==this||null!=t&&s[o].queue!==t||(s[o].anim.stop(n),e=!1,s.splice(o,1));!e&&n||b.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||\"fx\"),this.each((function(){var e,n=Y.get(this),i=n[t+\"queue\"],o=n[t+\"queueHooks\"],s=b.timers,r=i?i.length:0;for(n.finish=!0,b.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=s.length;e--;)s[e].elem===this&&s[e].queue===t&&(s[e].anim.stop(!0),s.splice(e,1));for(e=0;e<r;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish}))}}),b.each([\"toggle\",\"show\",\"hide\"],(function(t,e){var n=b.fn[e];b.fn[e]=function(t,i,o){return null==t||\"boolean\"==typeof t?n.apply(this,arguments):this.animate(le(e,!0),t,i,o)}})),b.each({slideDown:le(\"show\"),slideUp:le(\"hide\"),slideToggle:le(\"toggle\"),fadeIn:{opacity:\"show\"},fadeOut:{opacity:\"hide\"},fadeToggle:{opacity:\"toggle\"}},(function(t,e){b.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}})),b.timers=[],b.fx.tick=function(){var t,e=0,n=b.timers;for(ie=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||b.fx.stop(),ie=void 0},b.fx.timer=function(t){b.timers.push(t),b.fx.start()},b.fx.interval=13,b.fx.start=function(){oe||(oe=!0,ae())},b.fx.stop=function(){oe=null},b.fx.speeds={slow:600,fast:200,_default:400},b.fn.delay=function(e,n){return e=b.fx&&b.fx.speeds[e]||e,n=n||\"fx\",this.queue(n,(function(n,i){var o=t.setTimeout(n,e);i.stop=function(){t.clearTimeout(o)}}))},function(){var t=g.createElement(\"input\"),e=g.createElement(\"select\").appendChild(g.createElement(\"option\"));t.type=\"checkbox\",p.checkOn=\"\"!==t.value,p.optSelected=e.selected,(t=g.createElement(\"input\")).value=\"t\",t.type=\"radio\",p.radioValue=\"t\"===t.value}();var ue,pe=b.expr.attrHandle;b.fn.extend({attr:function(t,e){return H(this,b.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){b.removeAttr(this,t)}))}}),b.extend({attr:function(t,e,n){var i,o,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===t.getAttribute?b.prop(t,e,n):(1===s&&b.isXMLDoc(t)||(o=b.attrHooks[e.toLowerCase()]||(b.expr.match.bool.test(e)?ue:void 0)),void 0!==n?null===n?void b.removeAttr(t,e):o&&\"set\"in o&&void 0!==(i=o.set(t,n,e))?i:(t.setAttribute(e,n+\"\"),n):o&&\"get\"in o&&null!==(i=o.get(t,e))?i:null==(i=b.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!p.radioValue&&\"radio\"===e&&S(t,\"input\")){var n=t.value;return t.setAttribute(\"type\",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,o=e&&e.match(F);if(o&&1===t.nodeType)for(;n=o[i++];)t.removeAttribute(n)}}),ue={set:function(t,e,n){return!1===e?b.removeAttr(t,n):t.setAttribute(n,n),n}},b.each(b.expr.match.bool.source.match(/\\w+/g),(function(t,e){var n=pe[e]||b.find.attr;pe[e]=function(t,e,i){var o,s,r=e.toLowerCase();return i||(s=pe[r],pe[r]=o,o=null!=n(t,e,i)?r:null,pe[r]=s),o}}));var me=/^(?:input|select|textarea|button)$/i,fe=/^(?:a|area)$/i;function ge(t){return(t.match(F)||[]).join(\" \")}function ye(t){return t.getAttribute&&t.getAttribute(\"class\")||\"\"}function ve(t){return Array.isArray(t)?t:\"string\"==typeof t&&t.match(F)||[]}b.fn.extend({prop:function(t,e){return H(this,b.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[b.propFix[t]||t]}))}}),b.extend({prop:function(t,e,n){var i,o,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&b.isXMLDoc(t)||(e=b.propFix[e]||e,o=b.propHooks[e]),void 0!==n?o&&\"set\"in o&&void 0!==(i=o.set(t,n,e))?i:t[e]=n:o&&\"get\"in o&&null!==(i=o.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=b.find.attr(t,\"tabindex\");return e?parseInt(e,10):me.test(t.nodeName)||fe.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:\"htmlFor\",class:\"className\"}}),p.optSelected||(b.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),b.each([\"tabIndex\",\"readOnly\",\"maxLength\",\"cellSpacing\",\"cellPadding\",\"rowSpan\",\"colSpan\",\"useMap\",\"frameBorder\",\"contentEditable\"],(function(){b.propFix[this.toLowerCase()]=this})),b.fn.extend({addClass:function(t){var e,n,i,o,s,r,a,c=0;if(m(t))return this.each((function(e){b(this).addClass(t.call(this,e,ye(this)))}));if((e=ve(t)).length)for(;n=this[c++];)if(o=ye(n),i=1===n.nodeType&&\" \"+ge(o)+\" \"){for(r=0;s=e[r++];)i.indexOf(\" \"+s+\" \")<0&&(i+=s+\" \");o!==(a=ge(i))&&n.setAttribute(\"class\",a)}return this},removeClass:function(t){var e,n,i,o,s,r,a,c=0;if(m(t))return this.each((function(e){b(this).removeClass(t.call(this,e,ye(this)))}));if(!arguments.length)return this.attr(\"class\",\"\");if((e=ve(t)).length)for(;n=this[c++];)if(o=ye(n),i=1===n.nodeType&&\" \"+ge(o)+\" \"){for(r=0;s=e[r++];)for(;i.indexOf(\" \"+s+\" \")>-1;)i=i.replace(\" \"+s+\" \",\" \");o!==(a=ge(i))&&n.setAttribute(\"class\",a)}return this},toggleClass:function(t,e){var n=typeof t,i=\"string\"===n||Array.isArray(t);return\"boolean\"==typeof e&&i?e?this.addClass(t):this.removeClass(t):m(t)?this.each((function(n){b(this).toggleClass(t.call(this,n,ye(this),e),e)})):this.each((function(){var e,o,s,r;if(i)for(o=0,s=b(this),r=ve(t);e=r[o++];)s.hasClass(e)?s.removeClass(e):s.addClass(e);else void 0!==t&&\"boolean\"!==n||((e=ye(this))&&Y.set(this,\"__className__\",e),this.setAttribute&&this.setAttribute(\"class\",e||!1===t?\"\":Y.get(this,\"__className__\")||\"\"))}))},hasClass:function(t){var e,n,i=0;for(e=\" \"+t+\" \";n=this[i++];)if(1===n.nodeType&&(\" \"+ge(ye(n))+\" \").indexOf(e)>-1)return!0;return!1}});var we=/\\r/g;b.fn.extend({val:function(t){var e,n,i,o=this[0];return arguments.length?(i=m(t),this.each((function(n){var o;1===this.nodeType&&(null==(o=i?t.call(this,n,b(this).val()):t)?o=\"\":\"number\"==typeof o?o+=\"\":Array.isArray(o)&&(o=b.map(o,(function(t){return null==t?\"\":t+\"\"}))),(e=b.valHooks[this.type]||b.valHooks[this.nodeName.toLowerCase()])&&\"set\"in e&&void 0!==e.set(this,o,\"value\")||(this.value=o))}))):o?(e=b.valHooks[o.type]||b.valHooks[o.nodeName.toLowerCase()])&&\"get\"in e&&void 0!==(n=e.get(o,\"value\"))?n:\"string\"==typeof(n=o.value)?n.replace(we,\"\"):null==n?\"\":n:void 0}}),b.extend({valHooks:{option:{get:function(t){var e=b.find.attr(t,\"value\");return null!=e?e:ge(b.text(t))}},select:{get:function(t){var e,n,i,o=t.options,s=t.selectedIndex,r=\"select-one\"===t.type,a=r?null:[],c=r?s+1:o.length;for(i=s<0?c:r?s:0;i<c;i++)if(((n=o[i]).selected||i===s)&&!n.disabled&&(!n.parentNode.disabled||!S(n.parentNode,\"optgroup\"))){if(e=b(n).val(),r)return e;a.push(e)}return a},set:function(t,e){for(var n,i,o=t.options,s=b.makeArray(e),r=o.length;r--;)((i=o[r]).selected=b.inArray(b.valHooks.option.get(i),s)>-1)&&(n=!0);return n||(t.selectedIndex=-1),s}}}}),b.each([\"radio\",\"checkbox\"],(function(){b.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=b.inArray(b(t).val(),e)>-1}},p.checkOn||(b.valHooks[this].get=function(t){return null===t.getAttribute(\"value\")?\"on\":t.value})})),p.focusin=\"onfocusin\"in t;var _e=/^(?:focusinfocus|focusoutblur)$/,be=function(t){t.stopPropagation()};b.extend(b.event,{trigger:function(e,n,i,o){var s,r,a,c,l,h,u,p,y=[i||g],v=d.call(e,\"type\")?e.type:e,w=d.call(e,\"namespace\")?e.namespace.split(\".\"):[];if(r=p=a=i=i||g,3!==i.nodeType&&8!==i.nodeType&&!_e.test(v+b.event.triggered)&&(v.indexOf(\".\")>-1&&(w=v.split(\".\"),v=w.shift(),w.sort()),l=v.indexOf(\":\")<0&&\"on\"+v,(e=e[b.expando]?e:new b.Event(v,\"object\"==typeof e&&e)).isTrigger=o?2:3,e.namespace=w.join(\".\"),e.rnamespace=e.namespace?new RegExp(\"(^|\\\\.)\"+w.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:b.makeArray(n,[e]),u=b.event.special[v]||{},o||!u.trigger||!1!==u.trigger.apply(i,n))){if(!o&&!u.noBubble&&!f(i)){for(c=u.delegateType||v,_e.test(c+v)||(r=r.parentNode);r;r=r.parentNode)y.push(r),a=r;a===(i.ownerDocument||g)&&y.push(a.defaultView||a.parentWindow||t)}for(s=0;(r=y[s++])&&!e.isPropagationStopped();)p=r,e.type=s>1?c:u.bindType||v,(h=(Y.get(r,\"events\")||Object.create(null))[e.type]&&Y.get(r,\"handle\"))&&h.apply(r,n),(h=l&&r[l])&&h.apply&&G(r)&&(e.result=h.apply(r,n),!1===e.result&&e.preventDefault());return e.type=v,o||e.isDefaultPrevented()||u._default&&!1!==u._default.apply(y.pop(),n)||!G(i)||l&&m(i[v])&&!f(i)&&((a=i[l])&&(i[l]=null),b.event.triggered=v,e.isPropagationStopped()&&p.addEventListener(v,be),i[v](),e.isPropagationStopped()&&p.removeEventListener(v,be),b.event.triggered=void 0,a&&(i[l]=a)),e.result}},simulate:function(t,e,n){var i=b.extend(new b.Event,n,{type:t,isSimulated:!0});b.event.trigger(i,null,e)}}),b.fn.extend({trigger:function(t,e){return this.each((function(){b.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var n=this[0];if(n)return b.event.trigger(t,e,n,!0)}}),p.focusin||b.each({focus:\"focusin\",blur:\"focusout\"},(function(t,e){var n=function(t){b.event.simulate(e,t.target,b.event.fix(t))};b.event.special[e]={setup:function(){var i=this.ownerDocument||this.document||this,o=Y.access(i,e);o||i.addEventListener(t,n,!0),Y.access(i,e,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,o=Y.access(i,e)-1;o?Y.access(i,e,o):(i.removeEventListener(t,n,!0),Y.remove(i,e))}}}));var Ce=t.location,Ie={guid:Date.now()},xe=/\\?/;b.parseXML=function(e){var n;if(!e||\"string\"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,\"text/xml\")}catch(t){n=void 0}return n&&!n.getElementsByTagName(\"parsererror\").length||b.error(\"Invalid XML: \"+e),n};var ke=/\\[\\]$/,Ee=/\\r?\\n/g,Se=/^(?:submit|button|image|reset|file)$/i,Te=/^(?:input|select|textarea|keygen)/i;function We(t,e,n,i){var o;if(Array.isArray(e))b.each(e,(function(e,o){n||ke.test(t)?i(t,o):We(t+\"[\"+(\"object\"==typeof o&&null!=o?e:\"\")+\"]\",o,n,i)}));else if(n||\"object\"!==w(e))i(t,e);else for(o in e)We(t+\"[\"+o+\"]\",e[o],n,i)}b.param=function(t,e){var n,i=[],o=function(t,e){var n=m(e)?e():e;i[i.length]=encodeURIComponent(t)+\"=\"+encodeURIComponent(null==n?\"\":n)};if(null==t)return\"\";if(Array.isArray(t)||t.jquery&&!b.isPlainObject(t))b.each(t,(function(){o(this.name,this.value)}));else for(n in t)We(n,t[n],e,o);return i.join(\"&\")},b.fn.extend({serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=b.prop(this,\"elements\");return t?b.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!b(this).is(\":disabled\")&&Te.test(this.nodeName)&&!Se.test(t)&&(this.checked||!pt.test(t))})).map((function(t,e){var n=b(this).val();return null==n?null:Array.isArray(n)?b.map(n,(function(t){return{name:e.name,value:t.replace(Ee,\"\\r\\n\")}})):{name:e.name,value:n.replace(Ee,\"\\r\\n\")}})).get()}});var Ae=/%20/g,De=/#.*$/,Pe=/([?&])_=[^&]*/,Le=/^(.*?):[ \\t]*([^\\r\\n]*)$/gm,Me=/^(?:GET|HEAD)$/,Fe=/^\\/\\//,ze={},Be={},Ne=\"*/\".concat(\"*\"),Oe=g.createElement(\"a\");function $e(t){return function(e,n){\"string\"!=typeof e&&(n=e,e=\"*\");var i,o=0,s=e.toLowerCase().match(F)||[];if(m(n))for(;i=s[o++];)\"+\"===i[0]?(i=i.slice(1)||\"*\",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function Re(t,e,n,i){var o={},s=t===Be;function r(a){var c;return o[a]=!0,b.each(t[a]||[],(function(t,a){var l=a(e,n,i);return\"string\"!=typeof l||s||o[l]?s?!(c=l):void 0:(e.dataTypes.unshift(l),r(l),!1)})),c}return r(e.dataTypes[0])||!o[\"*\"]&&r(\"*\")}function He(t,e){var n,i,o=b.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((o[n]?t:i||(i={}))[n]=e[n]);return i&&b.extend(!0,t,i),t}Oe.href=Ce.href,b.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ce.href,type:\"GET\",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ce.protocol),global:!0,processData:!0,async:!0,contentType:\"application/x-www-form-urlencoded; charset=UTF-8\",accepts:{\"*\":Ne,text:\"text/plain\",html:\"text/html\",xml:\"application/xml, text/xml\",json:\"application/json, text/javascript\"},contents:{xml:/\\bxml\\b/,html:/\\bhtml/,json:/\\bjson\\b/},responseFields:{xml:\"responseXML\",text:\"responseText\",json:\"responseJSON\"},converters:{\"* text\":String,\"text html\":!0,\"text json\":JSON.parse,\"text xml\":b.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?He(He(t,b.ajaxSettings),e):He(b.ajaxSettings,t)},ajaxPrefilter:$e(ze),ajaxTransport:$e(Be),ajax:function(e,n){\"object\"==typeof e&&(n=e,e=void 0),n=n||{};var i,o,s,r,a,c,l,d,h,u,p=b.ajaxSetup({},n),m=p.context||p,f=p.context&&(m.nodeType||m.jquery)?b(m):b.event,y=b.Deferred(),v=b.Callbacks(\"once memory\"),w=p.statusCode||{},_={},C={},I=\"canceled\",x={readyState:0,getResponseHeader:function(t){var e;if(l){if(!r)for(r={};e=Le.exec(s);)r[e[1].toLowerCase()+\" \"]=(r[e[1].toLowerCase()+\" \"]||[]).concat(e[2]);e=r[t.toLowerCase()+\" \"]}return null==e?null:e.join(\", \")},getAllResponseHeaders:function(){return l?s:null},setRequestHeader:function(t,e){return null==l&&(t=C[t.toLowerCase()]=C[t.toLowerCase()]||t,_[t]=e),this},overrideMimeType:function(t){return null==l&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(l)x.always(t[x.status]);else for(e in t)w[e]=[w[e],t[e]];return this},abort:function(t){var e=t||I;return i&&i.abort(e),k(0,e),this}};if(y.promise(x),p.url=((e||p.url||Ce.href)+\"\").replace(Fe,Ce.protocol+\"//\"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=(p.dataType||\"*\").toLowerCase().match(F)||[\"\"],null==p.crossDomain){c=g.createElement(\"a\");try{c.href=p.url,c.href=c.href,p.crossDomain=Oe.protocol+\"//\"+Oe.host!=c.protocol+\"//\"+c.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&\"string\"!=typeof p.data&&(p.data=b.param(p.data,p.traditional)),Re(ze,p,n,x),l)return x;for(h in(d=b.event&&p.global)&&0==b.active++&&b.event.trigger(\"ajaxStart\"),p.type=p.type.toUpperCase(),p.hasContent=!Me.test(p.type),o=p.url.replace(De,\"\"),p.hasContent?p.data&&p.processData&&0===(p.contentType||\"\").indexOf(\"application/x-www-form-urlencoded\")&&(p.data=p.data.replace(Ae,\"+\")):(u=p.url.slice(o.length),p.data&&(p.processData||\"string\"==typeof p.data)&&(o+=(xe.test(o)?\"&\":\"?\")+p.data,delete p.data),!1===p.cache&&(o=o.replace(Pe,\"$1\"),u=(xe.test(o)?\"&\":\"?\")+\"_=\"+Ie.guid+++u),p.url=o+u),p.ifModified&&(b.lastModified[o]&&x.setRequestHeader(\"If-Modified-Since\",b.lastModified[o]),b.etag[o]&&x.setRequestHeader(\"If-None-Match\",b.etag[o])),(p.data&&p.hasContent&&!1!==p.contentType||n.contentType)&&x.setRequestHeader(\"Content-Type\",p.contentType),x.setRequestHeader(\"Accept\",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+(\"*\"!==p.dataTypes[0]?\", \"+Ne+\"; q=0.01\":\"\"):p.accepts[\"*\"]),p.headers)x.setRequestHeader(h,p.headers[h]);if(p.beforeSend&&(!1===p.beforeSend.call(m,x,p)||l))return x.abort();if(I=\"abort\",v.add(p.complete),x.done(p.success),x.fail(p.error),i=Re(Be,p,n,x)){if(x.readyState=1,d&&f.trigger(\"ajaxSend\",[x,p]),l)return x;p.async&&p.timeout>0&&(a=t.setTimeout((function(){x.abort(\"timeout\")}),p.timeout));try{l=!1,i.send(_,k)}catch(t){if(l)throw t;k(-1,t)}}else k(-1,\"No Transport\");function k(e,n,r,c){var h,u,g,_,C,I=n;l||(l=!0,a&&t.clearTimeout(a),i=void 0,s=c||\"\",x.readyState=e>0?4:0,h=e>=200&&e<300||304===e,r&&(_=function(t,e,n){for(var i,o,s,r,a=t.contents,c=t.dataTypes;\"*\"===c[0];)c.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader(\"Content-Type\"));if(i)for(o in a)if(a[o]&&a[o].test(i)){c.unshift(o);break}if(c[0]in n)s=c[0];else{for(o in n){if(!c[0]||t.converters[o+\" \"+c[0]]){s=o;break}r||(r=o)}s=s||r}if(s)return s!==c[0]&&c.unshift(s),n[s]}(p,x,r)),!h&&b.inArray(\"script\",p.dataTypes)>-1&&(p.converters[\"text script\"]=function(){}),_=function(t,e,n,i){var o,s,r,a,c,l={},d=t.dataTypes.slice();if(d[1])for(r in t.converters)l[r.toLowerCase()]=t.converters[r];for(s=d.shift();s;)if(t.responseFields[s]&&(n[t.responseFields[s]]=e),!c&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),c=s,s=d.shift())if(\"*\"===s)s=c;else if(\"*\"!==c&&c!==s){if(!(r=l[c+\" \"+s]||l[\"* \"+s]))for(o in l)if((a=o.split(\" \"))[1]===s&&(r=l[c+\" \"+a[0]]||l[\"* \"+a[0]])){!0===r?r=l[o]:!0!==l[o]&&(s=a[0],d.unshift(a[1]));break}if(!0!==r)if(r&&t.throws)e=r(e);else try{e=r(e)}catch(t){return{state:\"parsererror\",error:r?t:\"No conversion from \"+c+\" to \"+s}}}return{state:\"success\",data:e}}(p,_,x,h),h?(p.ifModified&&((C=x.getResponseHeader(\"Last-Modified\"))&&(b.lastModified[o]=C),(C=x.getResponseHeader(\"etag\"))&&(b.etag[o]=C)),204===e||\"HEAD\"===p.type?I=\"nocontent\":304===e?I=\"notmodified\":(I=_.state,u=_.data,h=!(g=_.error))):(g=I,!e&&I||(I=\"error\",e<0&&(e=0))),x.status=e,x.statusText=(n||I)+\"\",h?y.resolveWith(m,[u,I,x]):y.rejectWith(m,[x,I,g]),x.statusCode(w),w=void 0,d&&f.trigger(h?\"ajaxSuccess\":\"ajaxError\",[x,p,h?u:g]),v.fireWith(m,[x,I]),d&&(f.trigger(\"ajaxComplete\",[x,p]),--b.active||b.event.trigger(\"ajaxStop\")))}return x},getJSON:function(t,e,n){return b.get(t,e,n,\"json\")},getScript:function(t,e){return b.get(t,void 0,e,\"script\")}}),b.each([\"get\",\"post\"],(function(t,e){b[e]=function(t,n,i,o){return m(n)&&(o=o||i,i=n,n=void 0),b.ajax(b.extend({url:t,type:e,dataType:o,data:n,success:i},b.isPlainObject(t)&&t))}})),b.ajaxPrefilter((function(t){var e;for(e in t.headers)\"content-type\"===e.toLowerCase()&&(t.contentType=t.headers[e]||\"\")})),b._evalUrl=function(t,e,n){return b.ajax({url:t,type:\"GET\",dataType:\"script\",cache:!0,async:!1,global:!1,converters:{\"text script\":function(){}},dataFilter:function(t){b.globalEval(t,e,n)}})},b.fn.extend({wrapAll:function(t){var e;return this[0]&&(m(t)&&(t=t.call(this[0])),e=b(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return m(t)?this.each((function(e){b(this).wrapInner(t.call(this,e))})):this.each((function(){var e=b(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)}))},wrap:function(t){var e=m(t);return this.each((function(n){b(this).wrapAll(e?t.call(this,n):t)}))},unwrap:function(t){return this.parent(t).not(\"body\").each((function(){b(this).replaceWith(this.childNodes)})),this}}),b.expr.pseudos.hidden=function(t){return!b.expr.pseudos.visible(t)},b.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},b.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(t){}};var je={0:200,1223:204},qe=b.ajaxSettings.xhr();p.cors=!!qe&&\"withCredentials\"in qe,p.ajax=qe=!!qe,b.ajaxTransport((function(e){var n,i;if(p.cors||qe&&!e.crossDomain)return{send:function(o,s){var r,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)a[r]=e.xhrFields[r];for(r in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||o[\"X-Requested-With\"]||(o[\"X-Requested-With\"]=\"XMLHttpRequest\"),o)a.setRequestHeader(r,o[r]);n=function(t){return function(){n&&(n=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,\"abort\"===t?a.abort():\"error\"===t?\"number\"!=typeof a.status?s(0,\"error\"):s(a.status,a.statusText):s(je[a.status]||a.status,a.statusText,\"text\"!==(a.responseType||\"text\")||\"string\"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),i=a.onerror=a.ontimeout=n(\"error\"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout((function(){n&&i()}))},n=n(\"abort\");try{a.send(e.hasContent&&e.data||null)}catch(t){if(n)throw t}},abort:function(){n&&n()}}})),b.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),b.ajaxSetup({accepts:{script:\"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript\"},contents:{script:/\\b(?:java|ecma)script\\b/},converters:{\"text script\":function(t){return b.globalEval(t),t}}}),b.ajaxPrefilter(\"script\",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type=\"GET\")})),b.ajaxTransport(\"script\",(function(t){var e,n;if(t.crossDomain||t.scriptAttrs)return{send:function(i,o){e=b(\"<script>\").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on(\"load error\",n=function(t){e.remove(),n=null,t&&o(\"error\"===t.type?404:200,t.type)}),g.head.appendChild(e[0])},abort:function(){n&&n()}}}));var Ue,Ve=[],Ge=/(=)\\?(?=&|$)|\\?\\?/;b.ajaxSetup({jsonp:\"callback\",jsonpCallback:function(){var t=Ve.pop()||b.expando+\"_\"+Ie.guid++;return this[t]=!0,t}}),b.ajaxPrefilter(\"json jsonp\",(function(e,n,i){var o,s,r,a=!1!==e.jsonp&&(Ge.test(e.url)?\"url\":\"string\"==typeof e.data&&0===(e.contentType||\"\").indexOf(\"application/x-www-form-urlencoded\")&&Ge.test(e.data)&&\"data\");if(a||\"jsonp\"===e.dataTypes[0])return o=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Ge,\"$1\"+o):!1!==e.jsonp&&(e.url+=(xe.test(e.url)?\"&\":\"?\")+e.jsonp+\"=\"+o),e.converters[\"script json\"]=function(){return r||b.error(o+\" was not called\"),r[0]},e.dataTypes[0]=\"json\",s=t[o],t[o]=function(){r=arguments},i.always((function(){void 0===s?b(t).removeProp(o):t[o]=s,e[o]&&(e.jsonpCallback=n.jsonpCallback,Ve.push(o)),r&&m(s)&&s(r[0]),r=s=void 0})),\"script\"})),p.createHTMLDocument=((Ue=g.implementation.createHTMLDocument(\"\").body).innerHTML=\"<form></form><form></form>\",2===Ue.childNodes.length),b.parseHTML=function(t,e,n){return\"string\"!=typeof t?[]:(\"boolean\"==typeof e&&(n=e,e=!1),e||(p.createHTMLDocument?((i=(e=g.implementation.createHTMLDocument(\"\")).createElement(\"base\")).href=g.location.href,e.head.appendChild(i)):e=g),s=!n&&[],(o=T.exec(t))?[e.createElement(o[1])]:(o=_t([t],e,s),s&&s.length&&b(s).remove(),b.merge([],o.childNodes)));var i,o,s},b.fn.load=function(t,e,n){var i,o,s,r=this,a=t.indexOf(\" \");return a>-1&&(i=ge(t.slice(a)),t=t.slice(0,a)),m(e)?(n=e,e=void 0):e&&\"object\"==typeof e&&(o=\"POST\"),r.length>0&&b.ajax({url:t,type:o||\"GET\",dataType:\"html\",data:e}).done((function(t){s=arguments,r.html(i?b(\"<div>\").append(b.parseHTML(t)).find(i):t)})).always(n&&function(t,e){r.each((function(){n.apply(this,s||[t.responseText,e,t])}))}),this},b.expr.pseudos.animated=function(t){return b.grep(b.timers,(function(e){return t===e.elem})).length},b.offset={setOffset:function(t,e,n){var i,o,s,r,a,c,l=b.css(t,\"position\"),d=b(t),h={};\"static\"===l&&(t.style.position=\"relative\"),a=d.offset(),s=b.css(t,\"top\"),c=b.css(t,\"left\"),(\"absolute\"===l||\"fixed\"===l)&&(s+c).indexOf(\"auto\")>-1?(r=(i=d.position()).top,o=i.left):(r=parseFloat(s)||0,o=parseFloat(c)||0),m(e)&&(e=e.call(t,n,b.extend({},a))),null!=e.top&&(h.top=e.top-a.top+r),null!=e.left&&(h.left=e.left-a.left+o),\"using\"in e?e.using.call(t,h):(\"number\"==typeof h.top&&(h.top+=\"px\"),\"number\"==typeof h.left&&(h.left+=\"px\"),d.css(h))}},b.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){b.offset.setOffset(this,t,e)}));var e,n,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],o={top:0,left:0};if(\"fixed\"===b.css(i,\"position\"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&\"static\"===b.css(t,\"position\");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((o=b(t).offset()).top+=b.css(t,\"borderTopWidth\",!0),o.left+=b.css(t,\"borderLeftWidth\",!0))}return{top:e.top-o.top-b.css(i,\"marginTop\",!0),left:e.left-o.left-b.css(i,\"marginLeft\",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&\"static\"===b.css(t,\"position\");)t=t.offsetParent;return t||it}))}}),b.each({scrollLeft:\"pageXOffset\",scrollTop:\"pageYOffset\"},(function(t,e){var n=\"pageYOffset\"===e;b.fn[t]=function(i){return H(this,(function(t,i,o){var s;if(f(t)?s=t:9===t.nodeType&&(s=t.defaultView),void 0===o)return s?s[e]:t[i];s?s.scrollTo(n?s.pageXOffset:o,n?o:s.pageYOffset):t[i]=o}),t,i,arguments.length)}})),b.each([\"top\",\"left\"],(function(t,e){b.cssHooks[e]=qt(p.pixelPosition,(function(t,n){if(n)return n=jt(t,e),Ot.test(n)?b(t).position()[e]+\"px\":n}))})),b.each({Height:\"height\",Width:\"width\"},(function(t,e){b.each({padding:\"inner\"+t,content:e,\"\":\"outer\"+t},(function(n,i){b.fn[i]=function(o,s){var r=arguments.length&&(n||\"boolean\"!=typeof o),a=n||(!0===o||!0===s?\"margin\":\"border\");return H(this,(function(e,n,o){var s;return f(e)?0===i.indexOf(\"outer\")?e[\"inner\"+t]:e.document.documentElement[\"client\"+t]:9===e.nodeType?(s=e.documentElement,Math.max(e.body[\"scroll\"+t],s[\"scroll\"+t],e.body[\"offset\"+t],s[\"offset\"+t],s[\"client\"+t])):void 0===o?b.css(e,n,a):b.style(e,n,o,a)}),e,r?o:void 0,r)}}))})),b.each([\"ajaxStart\",\"ajaxStop\",\"ajaxComplete\",\"ajaxError\",\"ajaxSuccess\",\"ajaxSend\"],(function(t,e){b.fn[e]=function(t){return this.on(e,t)}})),b.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,\"**\"):this.off(e,t||\"**\",n)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),b.each(\"blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu\".split(\" \"),(function(t,e){b.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}));var Xe=/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g;b.proxy=function(t,e){var n,i,s;if(\"string\"==typeof e&&(n=t[e],e=t,t=n),m(t))return i=o.call(arguments,2),(s=function(){return t.apply(e||this,i.concat(o.call(arguments)))}).guid=t.guid=t.guid||b.guid++,s},b.holdReady=function(t){t?b.readyWait++:b.ready(!0)},b.isArray=Array.isArray,b.parseJSON=JSON.parse,b.nodeName=S,b.isFunction=m,b.isWindow=f,b.camelCase=V,b.type=w,b.now=Date.now,b.isNumeric=function(t){var e=b.type(t);return(\"number\"===e||\"string\"===e)&&!isNaN(t-parseFloat(t))},b.trim=function(t){return null==t?\"\":(t+\"\").replace(Xe,\"\")};var Ye=t.jQuery,Je=t.$;return b.noConflict=function(e){return t.$===b&&(t.$=Je),e&&t.jQuery===b&&(t.jQuery=Ye),b},void 0===e&&(t.jQuery=t.$=b),b}))}));let Z;window.$=J,window.addEventListener(\"beforeunload\",(()=>{Y.dispose(),Z&&Z()}));const Q={init:(t,e)=>{if(X.initialized)return void X.init(t,t.agm.instance.windowId,e);Y.subscribeForWorkspaceEvents();const n=X.init(t,t.agm.instance.windowId,e);return Z=n.cleanUp,Y.init(t,t.agm.instance.windowId).then((()=>{B.config.emptyFrame||X.workspacesEventEmitter.raiseFrameEvent({action:\"opened\",payload:{frameSummary:{id:t.agm.instance.windowId}}})})).catch(console.warn),X},getFrameId:()=>X.frameId,notifyMoveAreaChanged:()=>{},getComponentBounds:()=>X.getComponentBounds(),registerPopup:t=>\"\",removePopup:t=>{},removePopupById:t=>{},unmount:()=>{},subscribeForWindowFocused:t=>X.subscribeForWindowClicked(t),notifyWorkspacePopupChanged:t=>{}};export default Q;\n//# sourceMappingURL=export.js.map\n","import workspacesManager from \"@glue42/workspaces-ui-core\";\r\nimport { Bounds, WorkspacesManager } from \"./types/internal\";\r\n\r\ndeclare const window: Window & { workspacesManager: WorkspacesManager };\r\n\r\nclass WorkspacesManagerDecorator {\r\n    public init(glue: any, componentFactory: any) {\r\n        if (window.workspacesManager) {\r\n            window.workspacesManager.init(componentFactory);\r\n        } else {\r\n            workspacesManager.init(glue, componentFactory);\r\n        }\r\n    }\r\n\r\n    public getFrameId() {\r\n      return  (window.workspacesManager || workspacesManager).getFrameId();\r\n    }\r\n\r\n    public notifyMoveAreaChanged() {\r\n        (window.workspacesManager || workspacesManager).notifyMoveAreaChanged();\r\n    }\r\n\r\n    public notifyWorkspacePopupChanged(element: HTMLElement): string {\r\n        return (window.workspacesManager || workspacesManager).notifyWorkspacePopupChanged(element);\r\n    }\r\n\r\n    public getComponentBounds(): Bounds {\r\n        return (window.workspacesManager || workspacesManager).getComponentBounds();\r\n    }\r\n\r\n    public registerPopup(element: HTMLElement): string {\r\n        return (window.workspacesManager || workspacesManager).registerPopup(element);\r\n    }\r\n\r\n    public removePopup(element: HTMLElement): void {\r\n        return (window.workspacesManager || workspacesManager).removePopup(element);\r\n    }\r\n\r\n    public removePopupById(elementId: string): void {\r\n        return (window.workspacesManager || workspacesManager).removePopupById(elementId);\r\n    }\r\n\r\n    public subscribeForWindowFocused(cb: () => any): () => void {\r\n        return (window.workspacesManager || workspacesManager).subscribeForWindowFocused(cb);\r\n    }\r\n\r\n    public unmount(): void {\r\n        return (window.workspacesManager || workspacesManager).unmount();\r\n    }\r\n}\r\n\r\nexport default new WorkspacesManagerDecorator();","import React, { useEffect, useLayoutEffect, forwardRef, useState, useRef, useImperativeHandle } from 'react';\nimport ReactDOM from 'react-dom';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar useOnEscape = function useOnEscape(handler, active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  useEffect(function () {\n    if (!active) return;\n\n    var listener = function listener(event) {\n      // check if key is an Escape\n      if (event.key === 'Escape') handler();\n    };\n\n    document.addEventListener('keyup', listener);\n    return function () {\n      if (!active) return;\n      document.removeEventListener('keyup', listener);\n    };\n  }, [handler, active]);\n};\nvar useRepositionOnResize = function useRepositionOnResize(handler, active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  useEffect(function () {\n    if (!active) return;\n\n    var listener = function listener() {\n      handler();\n    };\n\n    window.addEventListener('resize', listener);\n    return function () {\n      if (!active) return;\n      window.removeEventListener('resize', listener);\n    };\n  }, [handler, active]);\n};\nvar useOnClickOutside = function useOnClickOutside(ref, handler, active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  useEffect(function () {\n    if (!active) return;\n\n    var listener = function listener(event) {\n      // Do nothing if clicking ref's element or descendent elements\n      var refs = Array.isArray(ref) ? ref : [ref];\n      var contains = false;\n      refs.forEach(function (r) {\n        if (!r.current || r.current.contains(event.target)) {\n          contains = true;\n          return;\n        }\n      });\n      event.stopPropagation();\n      if (!contains) handler();\n    };\n\n    document.addEventListener('mousedown', listener);\n    document.addEventListener('touchstart', listener);\n    return function () {\n      if (!active) return;\n      document.removeEventListener('mousedown', listener);\n      document.removeEventListener('touchstart', listener);\n    };\n  }, [ref, handler, active]);\n}; // Make sure that user is not able TAB out of the Modal content on Open\n\nvar useTabbing = function useTabbing(contentRef, active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  useEffect(function () {\n    if (!active) return;\n\n    var listener = function listener(event) {\n      // check if key is an Tab\n      if (event.keyCode === 9) {\n        var _contentRef$current;\n\n        var els = contentRef === null || contentRef === void 0 ? void 0 : (_contentRef$current = contentRef.current) === null || _contentRef$current === void 0 ? void 0 : _contentRef$current.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex=\"0\"]');\n        var focusableEls = Array.prototype.slice.call(els);\n\n        if (focusableEls.length === 1) {\n          event.preventDefault();\n          return;\n        }\n\n        var firstFocusableEl = focusableEls[0];\n        var lastFocusableEl = focusableEls[focusableEls.length - 1];\n\n        if (event.shiftKey && document.activeElement === firstFocusableEl) {\n          event.preventDefault();\n          lastFocusableEl.focus();\n        } else if (document.activeElement === lastFocusableEl) {\n          event.preventDefault();\n          firstFocusableEl.focus();\n        }\n      }\n    };\n\n    document.addEventListener('keydown', listener);\n    return function () {\n      if (!active) return;\n      document.removeEventListener('keydown', listener);\n    };\n  }, [contentRef, active]);\n};\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;\n\nvar Style = {\n  popupContent: {\n    tooltip: {\n      position: 'absolute',\n      zIndex: 999\n    },\n    modal: {\n      position: 'relative',\n      margin: 'auto'\n    }\n  },\n  popupArrow: {\n    height: '8px',\n    width: '16px',\n    position: 'absolute',\n    background: 'transparent',\n    color: '#FFF',\n    zIndex: -1\n  },\n  overlay: {\n    tooltip: {\n      position: 'fixed',\n      top: '0',\n      bottom: '0',\n      left: '0',\n      right: '0',\n      zIndex: 999\n    },\n    modal: {\n      position: 'fixed',\n      top: '0',\n      bottom: '0',\n      left: '0',\n      right: '0',\n      display: 'flex',\n      zIndex: 999\n    }\n  }\n};\n\nvar POSITION_TYPES = ['top left', 'top center', 'top right', 'right top', 'right center', 'right bottom', 'bottom left', 'bottom center', 'bottom right', 'left top', 'left center', 'left bottom'];\n\nvar getCoordinatesForPosition = function getCoordinatesForPosition(triggerBounding, ContentBounding, position, //PopupPosition | PopupPosition[],\narrow, _ref) {\n  var offsetX = _ref.offsetX,\n      offsetY = _ref.offsetY;\n  var margin = arrow ? 8 : 0;\n  var args = position.split(' '); // the step N 1 : center the popup content => ok\n\n  var CenterTop = triggerBounding.top + triggerBounding.height / 2;\n  var CenterLeft = triggerBounding.left + triggerBounding.width / 2;\n  var height = ContentBounding.height,\n      width = ContentBounding.width;\n  var top = CenterTop - height / 2;\n  var left = CenterLeft - width / 2;\n  var transform = '';\n  var arrowTop = '0%';\n  var arrowLeft = '0%'; // the  step N 2 : => ok\n\n  switch (args[0]) {\n    case 'top':\n      top -= height / 2 + triggerBounding.height / 2 + margin;\n      transform = \"rotate(180deg)  translateX(50%)\";\n      arrowTop = '100%';\n      arrowLeft = '50%';\n      break;\n\n    case 'bottom':\n      top += height / 2 + triggerBounding.height / 2 + margin;\n      transform = \"rotate(0deg) translateY(-100%) translateX(-50%)\";\n      arrowLeft = '50%';\n      break;\n\n    case 'left':\n      left -= width / 2 + triggerBounding.width / 2 + margin;\n      transform = \" rotate(90deg)  translateY(50%) translateX(-25%)\";\n      arrowLeft = '100%';\n      arrowTop = '50%';\n      break;\n\n    case 'right':\n      left += width / 2 + triggerBounding.width / 2 + margin;\n      transform = \"rotate(-90deg)  translateY(-150%) translateX(25%)\";\n      arrowTop = '50%';\n      break;\n  }\n\n  switch (args[1]) {\n    case 'top':\n      top = triggerBounding.top;\n      arrowTop = triggerBounding.height / 2 + \"px\";\n      break;\n\n    case 'bottom':\n      top = triggerBounding.top - height + triggerBounding.height;\n      arrowTop = height - triggerBounding.height / 2 + \"px\";\n      break;\n\n    case 'left':\n      left = triggerBounding.left;\n      arrowLeft = triggerBounding.width / 2 + \"px\";\n      break;\n\n    case 'right':\n      left = triggerBounding.left - width + triggerBounding.width;\n      arrowLeft = width - triggerBounding.width / 2 + \"px\";\n      break;\n  }\n\n  top = args[0] === 'top' ? top - offsetY : top + offsetY;\n  left = args[0] === 'left' ? left - offsetX : left + offsetX;\n  return {\n    top: top,\n    left: left,\n    transform: transform,\n    arrowLeft: arrowLeft,\n    arrowTop: arrowTop\n  };\n};\n\nvar getTooltipBoundary = function getTooltipBoundary(keepTooltipInside) {\n  // add viewport\n  var boundingBox = {\n    top: 0,\n    left: 0,\n\n    /* eslint-disable-next-line no-undef */\n    width: window.innerWidth,\n\n    /* eslint-disable-next-line no-undef */\n    height: window.innerHeight\n  };\n\n  if (typeof keepTooltipInside === 'string') {\n    /* eslint-disable-next-line no-undef */\n    var selector = document.querySelector(keepTooltipInside);\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (selector === null) throw new Error(keepTooltipInside + \" selector does not exist : keepTooltipInside must be a valid html selector 'class' or 'Id'  or a boolean value\");\n    }\n\n    if (selector !== null) boundingBox = selector.getBoundingClientRect();\n  }\n\n  return boundingBox;\n};\n\nvar calculatePosition = function calculatePosition(triggerBounding, ContentBounding, position, arrow, _ref2, keepTooltipInside) {\n  var offsetX = _ref2.offsetX,\n      offsetY = _ref2.offsetY;\n  var bestCoords = {\n    arrowLeft: '0%',\n    arrowTop: '0%',\n    left: 0,\n    top: 0,\n    transform: 'rotate(135deg)'\n  };\n  var i = 0;\n  var wrapperBox = getTooltipBoundary(keepTooltipInside);\n  var positions = Array.isArray(position) ? position : [position]; // keepTooltipInside would be activated if the  keepTooltipInside exist or the position is Array\n\n  if (keepTooltipInside || Array.isArray(position)) positions = [].concat(positions, POSITION_TYPES); // add viewPort for WarpperBox\n  // wrapperBox.top = wrapperBox.top + window.scrollY;\n  // wrapperBox.left = wrapperBox.left + window.scrollX;\n\n  while (i < positions.length) {\n    bestCoords = getCoordinatesForPosition(triggerBounding, ContentBounding, positions[i], arrow, {\n      offsetX: offsetX,\n      offsetY: offsetY\n    });\n    var contentBox = {\n      top: bestCoords.top,\n      left: bestCoords.left,\n      width: ContentBounding.width,\n      height: ContentBounding.height\n    };\n\n    if (contentBox.top <= wrapperBox.top || contentBox.left <= wrapperBox.left || contentBox.top + contentBox.height >= wrapperBox.top + wrapperBox.height || contentBox.left + contentBox.width >= wrapperBox.left + wrapperBox.width) {\n      i++;\n    } else {\n      break;\n    }\n  }\n\n  return bestCoords;\n};\n\nvar popupIdCounter = 0;\n\nvar getRootPopup = function getRootPopup() {\n  var PopupRoot = document.getElementById('popup-root');\n\n  if (PopupRoot === null) {\n    PopupRoot = document.createElement('div');\n    PopupRoot.setAttribute('id', 'popup-root');\n    document.body.appendChild(PopupRoot);\n  }\n\n  return PopupRoot;\n};\n\nvar Popup = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var _ref$trigger = _ref.trigger,\n      trigger = _ref$trigger === void 0 ? null : _ref$trigger,\n      _ref$onOpen = _ref.onOpen,\n      onOpen = _ref$onOpen === void 0 ? function () {} : _ref$onOpen,\n      _ref$onClose = _ref.onClose,\n      onClose = _ref$onClose === void 0 ? function () {} : _ref$onClose,\n      _ref$defaultOpen = _ref.defaultOpen,\n      defaultOpen = _ref$defaultOpen === void 0 ? false : _ref$defaultOpen,\n      _ref$open = _ref.open,\n      open = _ref$open === void 0 ? undefined : _ref$open,\n      _ref$disabled = _ref.disabled,\n      disabled = _ref$disabled === void 0 ? false : _ref$disabled,\n      _ref$nested = _ref.nested,\n      nested = _ref$nested === void 0 ? false : _ref$nested,\n      _ref$closeOnDocumentC = _ref.closeOnDocumentClick,\n      closeOnDocumentClick = _ref$closeOnDocumentC === void 0 ? true : _ref$closeOnDocumentC,\n      _ref$repositionOnResi = _ref.repositionOnResize,\n      repositionOnResize = _ref$repositionOnResi === void 0 ? true : _ref$repositionOnResi,\n      _ref$closeOnEscape = _ref.closeOnEscape,\n      closeOnEscape = _ref$closeOnEscape === void 0 ? true : _ref$closeOnEscape,\n      _ref$on = _ref.on,\n      on = _ref$on === void 0 ? ['click'] : _ref$on,\n      _ref$contentStyle = _ref.contentStyle,\n      contentStyle = _ref$contentStyle === void 0 ? {} : _ref$contentStyle,\n      _ref$arrowStyle = _ref.arrowStyle,\n      arrowStyle = _ref$arrowStyle === void 0 ? {} : _ref$arrowStyle,\n      _ref$overlayStyle = _ref.overlayStyle,\n      overlayStyle = _ref$overlayStyle === void 0 ? {} : _ref$overlayStyle,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? '' : _ref$className,\n      _ref$position = _ref.position,\n      position = _ref$position === void 0 ? 'bottom center' : _ref$position,\n      _ref$modal = _ref.modal,\n      modal = _ref$modal === void 0 ? false : _ref$modal,\n      _ref$lockScroll = _ref.lockScroll,\n      lockScroll = _ref$lockScroll === void 0 ? false : _ref$lockScroll,\n      _ref$arrow = _ref.arrow,\n      arrow = _ref$arrow === void 0 ? true : _ref$arrow,\n      _ref$offsetX = _ref.offsetX,\n      offsetX = _ref$offsetX === void 0 ? 0 : _ref$offsetX,\n      _ref$offsetY = _ref.offsetY,\n      offsetY = _ref$offsetY === void 0 ? 0 : _ref$offsetY,\n      _ref$mouseEnterDelay = _ref.mouseEnterDelay,\n      mouseEnterDelay = _ref$mouseEnterDelay === void 0 ? 100 : _ref$mouseEnterDelay,\n      _ref$mouseLeaveDelay = _ref.mouseLeaveDelay,\n      mouseLeaveDelay = _ref$mouseLeaveDelay === void 0 ? 100 : _ref$mouseLeaveDelay,\n      _ref$keepTooltipInsid = _ref.keepTooltipInside,\n      keepTooltipInside = _ref$keepTooltipInsid === void 0 ? false : _ref$keepTooltipInsid,\n      children = _ref.children;\n\n  var _useState = useState(open || defaultOpen),\n      isOpen = _useState[0],\n      setIsOpen = _useState[1];\n\n  var triggerRef = useRef(null);\n  var contentRef = useRef(null);\n  var arrowRef = useRef(null);\n  var focusedElBeforeOpen = useRef(null);\n  var popupId = useRef(\"popup-\" + ++popupIdCounter);\n  var isModal = modal ? true : !trigger;\n  var timeOut = useRef(0);\n  useIsomorphicLayoutEffect(function () {\n    if (isOpen) {\n      focusedElBeforeOpen.current = document.activeElement;\n      setPosition();\n      focusContentOnOpen(); // for accessibility\n\n      lockScrolll();\n    } else {\n      resetScroll();\n    }\n\n    return function () {\n      clearTimeout(timeOut.current);\n    };\n  }, [isOpen]); // for uncontrolled popup we need to sync isOpen with open prop\n\n  useEffect(function () {\n    if (typeof open === 'boolean') {\n      if (open) openPopup();else closePopup();\n    }\n  }, [open, disabled]);\n\n  var openPopup = function openPopup() {\n    if (isOpen || disabled) return;\n    setIsOpen(true);\n    setTimeout(onOpen, 0);\n  };\n\n  var closePopup = function closePopup() {\n    if (!isOpen || disabled) return;\n    setIsOpen(false);\n    if (isModal) focusedElBeforeOpen.current.focus();\n    setTimeout(onClose, 0);\n  };\n\n  var togglePopup = function togglePopup(event) {\n    event === null || event === void 0 ? void 0 : event.stopPropagation();\n    if (!isOpen) openPopup();else closePopup();\n  };\n\n  var onMouseEnter = function onMouseEnter() {\n    clearTimeout(timeOut.current);\n    timeOut.current = setTimeout(openPopup, mouseEnterDelay);\n  };\n\n  var onContextMenu = function onContextMenu(event) {\n    event === null || event === void 0 ? void 0 : event.preventDefault();\n    togglePopup();\n  };\n\n  var onMouseLeave = function onMouseLeave() {\n    clearTimeout(timeOut.current);\n    timeOut.current = setTimeout(closePopup, mouseLeaveDelay);\n  };\n\n  var lockScrolll = function lockScrolll() {\n    if (isModal && lockScroll) document.getElementsByTagName('body')[0].style.overflow = 'hidden'; // migrate to document.body\n  };\n\n  var resetScroll = function resetScroll() {\n    if (isModal && lockScroll) document.getElementsByTagName('body')[0].style.overflow = 'auto';\n  };\n\n  var focusContentOnOpen = function focusContentOnOpen() {\n    var _contentRef$current;\n\n    var focusableEls = contentRef === null || contentRef === void 0 ? void 0 : (_contentRef$current = contentRef.current) === null || _contentRef$current === void 0 ? void 0 : _contentRef$current.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex=\"0\"]');\n    var firstEl = Array.prototype.slice.call(focusableEls)[0];\n    firstEl === null || firstEl === void 0 ? void 0 : firstEl.focus();\n  };\n\n  useImperativeHandle(ref, function () {\n    return {\n      open: function open() {\n        openPopup();\n      },\n      close: function close() {\n        closePopup();\n      },\n      toggle: function toggle() {\n        togglePopup();\n      }\n    };\n  }); // set Position\n\n  var setPosition = function setPosition() {\n    if (isModal || !isOpen) return;\n    if (!(triggerRef === null || triggerRef === void 0 ? void 0 : triggerRef.current) || !(triggerRef === null || triggerRef === void 0 ? void 0 : triggerRef.current) || !(contentRef === null || contentRef === void 0 ? void 0 : contentRef.current)) return; /// show error as one of ref is undefined\n\n    var trigger = triggerRef.current.getBoundingClientRect();\n    var content = contentRef.current.getBoundingClientRect();\n    var cords = calculatePosition(trigger, content, position, arrow, {\n      offsetX: offsetX,\n      offsetY: offsetY\n    }, keepTooltipInside);\n    contentRef.current.style.top = cords.top + window.scrollY + \"px\";\n    contentRef.current.style.left = cords.left + window.scrollX + \"px\";\n\n    if (arrow && !!arrowRef.current) {\n      var _arrowStyle$top, _arrowStyle$left;\n\n      arrowRef.current.style.transform = cords.transform;\n      arrowRef.current.style.setProperty('-ms-transform', cords.transform);\n      arrowRef.current.style.setProperty('-webkit-transform', cords.transform);\n      arrowRef.current.style.top = ((_arrowStyle$top = arrowStyle.top) === null || _arrowStyle$top === void 0 ? void 0 : _arrowStyle$top.toString()) || cords.arrowTop;\n      arrowRef.current.style.left = ((_arrowStyle$left = arrowStyle.left) === null || _arrowStyle$left === void 0 ? void 0 : _arrowStyle$left.toString()) || cords.arrowLeft;\n    }\n  }; // hooks\n\n\n  useOnEscape(closePopup, closeOnEscape); // can be optimized if we disabled for hover\n\n  useTabbing(contentRef, isOpen && isModal);\n  useRepositionOnResize(setPosition, repositionOnResize);\n  useOnClickOutside(!!trigger ? [contentRef, triggerRef] : [contentRef], closePopup, closeOnDocumentClick && !nested); // we need to add a ne\n  // render the trigger element and add events\n\n  var renderTrigger = function renderTrigger() {\n    var triggerProps = {\n      key: 'T',\n      ref: triggerRef,\n      'aria-describedby': popupId.current\n    };\n    var onAsArray = Array.isArray(on) ? on : [on];\n\n    for (var i = 0, len = onAsArray.length; i < len; i++) {\n      switch (onAsArray[i]) {\n        case 'click':\n          triggerProps.onClick = togglePopup;\n          break;\n\n        case 'right-click':\n          triggerProps.onContextMenu = onContextMenu;\n          break;\n\n        case 'hover':\n          triggerProps.onMouseEnter = onMouseEnter;\n          triggerProps.onMouseLeave = onMouseLeave;\n          break;\n\n        case 'focus':\n          triggerProps.onFocus = onMouseEnter;\n          triggerProps.onBlur = onMouseLeave;\n          break;\n      }\n    }\n\n    if (typeof trigger === 'function') {\n      var comp = trigger(isOpen);\n      return !!trigger && React.cloneElement(comp, triggerProps);\n    }\n\n    return !!trigger && React.cloneElement(trigger, triggerProps);\n  };\n\n  var addWarperAction = function addWarperAction() {\n    var popupContentStyle = isModal ? Style.popupContent.modal : Style.popupContent.tooltip;\n    var childrenElementProps = {\n      className: \"popup-content \" + (className !== '' ? className.split(' ').map(function (c) {\n        return c + \"-content\";\n      }).join(' ') : ''),\n      style: _extends({}, popupContentStyle, contentStyle, {\n        pointerEvents: 'auto'\n      }),\n      ref: contentRef,\n      onClick: function onClick(e) {\n        e.stopPropagation();\n      }\n    };\n\n    if (!modal && on.indexOf('hover') >= 0) {\n      childrenElementProps.onMouseEnter = onMouseEnter;\n      childrenElementProps.onMouseLeave = onMouseLeave;\n    }\n\n    return childrenElementProps;\n  };\n\n  var renderContent = function renderContent() {\n    return React.createElement(\"div\", Object.assign({}, addWarperAction(), {\n      key: \"C\",\n      role: isModal ? 'dialog' : 'tooltip',\n      id: popupId.current\n    }), arrow && !isModal && React.createElement(\"div\", {\n      ref: arrowRef,\n      style: Style.popupArrow\n    }, React.createElement(\"svg\", {\n      \"data-testid\": \"arrow\",\n      className: \"popup-arrow \" + (className !== '' ? className.split(' ').map(function (c) {\n        return c + \"-arrow\";\n      }).join(' ') : ''),\n      viewBox: \"0 0 32 16\",\n      style: _extends({\n        position: 'absolute'\n      }, arrowStyle)\n    }, React.createElement(\"path\", {\n      d: \"M16 0l16 16H0z\",\n      fill: \"currentcolor\"\n    }))), children && typeof children === 'function' ? children(closePopup, isOpen) : children);\n  };\n\n  var overlay = !(on.indexOf('hover') >= 0);\n  var ovStyle = isModal ? Style.overlay.modal : Style.overlay.tooltip;\n  var content = [overlay && React.createElement(\"div\", {\n    key: \"O\",\n    \"data-testid\": \"overlay\",\n    \"data-popup\": isModal ? 'modal' : 'tooltip',\n    className: \"popup-overlay \" + (className !== '' ? className.split(' ').map(function (c) {\n      return c + \"-overlay\";\n    }).join(' ') : ''),\n    style: _extends({}, ovStyle, overlayStyle, {\n      pointerEvents: closeOnDocumentClick && nested || isModal ? 'auto' : 'none'\n    }),\n    onClick: closeOnDocumentClick && nested ? closePopup : undefined,\n    tabIndex: -1\n  }, isModal && renderContent()), !isModal && renderContent()];\n  return React.createElement(React.Fragment, null, renderTrigger(), isOpen && ReactDOM.createPortal(content, getRootPopup()));\n});\n\nexport default Popup;\nexport { Popup };\n//# sourceMappingURL=reactjs-popup.esm.js.map\n","import React, { useEffect, useState } from \"react\";\r\nimport { WorkspacePopupProps } from \"./types/internal\";\r\nimport Popup from \"reactjs-popup\";\r\nimport WorkspacePopupContent from \"./WorkspaceContentPopup\";\r\nimport { PopupActions } from \"reactjs-popup/dist/types\";\r\n\r\nconst WorkspacePopup: React.FC<WorkspacePopupProps> = ({ children, innerContentStyle, popupRef, ...props }) => {\r\n    const ref = popupRef || React.createRef<PopupActions>();\r\n    const [shouldClose, setShouldClose] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (!shouldClose) {\r\n            return;\r\n        }\r\n\r\n        ref.current?.close();\r\n        setShouldClose(false);\r\n    }, [shouldClose]);\r\n\r\n    return (\r\n        <Popup ref={ref} {...props}>\r\n            <WorkspacePopupContent innerContentStyle={innerContentStyle} close={() => setShouldClose(true)} children={children} />\r\n        </Popup>\r\n    )\r\n}\r\n\r\nexport default WorkspacePopup;","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { PortalProps } from \"./types/internal\";\r\n\r\nclass Portal extends React.Component<PortalProps> {\r\n    render() {\r\n        return ReactDOM.createPortal(this.props.children, this.props.domNode);\r\n    }\r\n}\r\n\r\nexport default Portal;","import React from \"react\";\r\nimport { WorkspacesWrapperProps } from \"./types/internal\";\r\nimport withGlueInstance from \"./withGlueInstance\";\r\nimport workspacesManager from \"./workspacesManager\";\r\n\r\nconst templateId = \"workspaces-react-wrapper-template\";\r\nconst workspacesInnerContainerId = \"outter-layout-container\";\r\n\r\nclass WorkspacesWrapper extends React.Component<WorkspacesWrapperProps> {\r\n    containerRef: HTMLElement | null;\r\n\r\n    componentDidMount() {\r\n        let placeholder = document.getElementById(templateId) as HTMLTemplateElement;\r\n        if (!placeholder) {\r\n            const template = document.createElement(\"template\");\r\n            template.id = templateId;\r\n            const glContainer = document.createElement(\"div\");\r\n\r\n            glContainer.id = workspacesInnerContainerId;\r\n            glContainer.style.overflow = \"hidden\";\r\n            glContainer.style.width = \"100%\";\r\n            glContainer.style.height = \"100%\";\r\n            template.content.appendChild(glContainer);\r\n            document.body.appendChild(template);\r\n            placeholder = template;\r\n        }\r\n        if (!this.containerRef) {\r\n            return;\r\n        }\r\n        this.containerRef.appendChild(placeholder.content);\r\n\r\n        const componentFactory = {\r\n            createLogo: this.props.onCreateLogoRequested,\r\n            createAddWorkspace: this.props.onCreateAddWorkspaceRequested,\r\n            createSystemButtons: this.props.onCreateSystemButtonsRequested,\r\n            createWorkspaceContents: this.props.onCreateWorkspaceContentsRequested,\r\n            createSaveWorkspacePopup: this.props.onCreateSaveWorkspacePopupRequested,\r\n            createAddApplicationPopup: this.props.onCreateAddApplicationPopupRequested,\r\n            createAddWorkspacePopup: this.props.onCreateAddWorkspacePopupRequested,\r\n            hideSystemPopups: this.props.onHideSystemPopupsRequested,\r\n            externalPopupApplications: this.props.externalPopupApplications\r\n        };\r\n        workspacesManager.init(this.props.glue, componentFactory);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        let placeholder = document.getElementById(templateId) as HTMLTemplateElement;\r\n\r\n        if (!this.containerRef) {\r\n            return;\r\n        }\r\n\r\n        placeholder?.content.appendChild(this.containerRef.children[0]);\r\n\r\n        workspacesManager.unmount();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div ref={(r) => this.containerRef = r} style={{ overflow: \"hidden\", width: \"100%\", height: \"100%\" }}>\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withGlueInstance(WorkspacesWrapper);","import React from \"react\";\r\nimport AddApplicationPopup from \"./defaultComponents/popups/addApplication/AddApplicationPopup\";\r\nimport AddWorkspacePopup from \"./defaultComponents/popups/addWorkspace/AddWorkspacePopup\";\r\nimport SaveWorkspacePopup from \"./defaultComponents/popups/saveWorkspace/SaveWorkspacePopup\";\r\nimport Portal from \"./Portal\";\r\nimport { AddApplicationPopupProps, CreateElementRequestOptions, ElementCreationWrapperState, AddWorkspacePopupProps, SaveWorkspacePopupProps, WorkspacesProps, CreateWorkspaceContentsRequestOptions } from \"./types/internal\";\r\nimport WorkspacesWrapper from \"./WorkspacesWrapper\";\r\n\r\nclass WorkspacesElementCreationWrapper extends React.Component<WorkspacesProps, ElementCreationWrapperState> {\r\n    constructor(props: WorkspacesProps) {\r\n        super(props);\r\n        this.state = {\r\n            logo: undefined,\r\n            addWorkspace: undefined,\r\n            systemButtons: undefined,\r\n            workspaceContents: [],\r\n            saveWorkspacePopup: undefined,\r\n            addApplicationPopup: undefined,\r\n            addWorkspacePopup: undefined\r\n        }\r\n    }\r\n\r\n    onCreateLogoRequested = (options: CreateElementRequestOptions) => {\r\n        if (options === this.state.logo) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                logo: options\r\n            }\r\n        });\r\n    }\r\n\r\n    onCreateAddWorkspaceRequested = (options: CreateElementRequestOptions) => {\r\n        if (options === this.state.addWorkspace) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                addWorkspace: options\r\n            }\r\n        });\r\n    }\r\n\r\n    onCreateSystemButtonsRequested = (options: CreateElementRequestOptions) => {\r\n        if (options === this.state.systemButtons) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                systemButtons: options\r\n            }\r\n        });\r\n    }\r\n\r\n    onCreateWorkspaceContentsRequested = (options: CreateWorkspaceContentsRequestOptions) => {\r\n        if (this.state.workspaceContents.some(wc => wc.domNode === options.domNode)) {\r\n            return;\r\n        }\r\n\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                workspaceContents: [\r\n                    ...s.workspaceContents,\r\n                    options\r\n                ]\r\n            }\r\n        });\r\n    }\r\n\r\n    onCreateSaveWorkspaceRequested = (options: CreateElementRequestOptions & SaveWorkspacePopupProps) => {\r\n        if (options === this.state.saveWorkspacePopup) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                saveWorkspacePopup: options\r\n            }\r\n        }, options.callback);\r\n    }\r\n\r\n    onCreateAddApplicationRequested = (options: CreateElementRequestOptions & AddApplicationPopupProps) => {\r\n        if (options === this.state.addApplicationPopup) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                addApplicationPopup: options\r\n            }\r\n        }, options.callback);\r\n    }\r\n\r\n    onCreateAddWorkspacePopupRequested = (options: CreateElementRequestOptions & AddWorkspacePopupProps) => {\r\n        if (options === this.state.addWorkspacePopup) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                addWorkspacePopup: options\r\n            }\r\n        }, options.callback);\r\n    }\r\n\r\n    onHideSystemPopups = (cb: () => void) => {\r\n        this.setState((s) => ({\r\n            ...s,\r\n            addApplicationPopup: undefined,\r\n            saveWorkspacePopup: undefined,\r\n            addWorkspacePopup: undefined\r\n        }), cb);\r\n    }\r\n\r\n    renderLogoComponent = () => {\r\n        const LogoCustomElement = this.props.components?.header?.LogoComponent;\r\n        if (!LogoCustomElement || (!this.state.logo || !this.state.logo.domNode)) {\r\n            return;\r\n        }\r\n\r\n        const { domNode, callback, ...options } = this.state.logo;\r\n        return <Portal domNode={domNode}><LogoCustomElement {...options} /></Portal>\r\n    }\r\n\r\n    renderAddWorkspaceComponent = () => {\r\n        const AddWorkspaceCustomComponent = this.props.components?.header?.AddWorkspaceComponent;\r\n\r\n        if (!AddWorkspaceCustomComponent || (!this.state.addWorkspace || !this.state.addWorkspace.domNode)) {\r\n            return;\r\n        }\r\n\r\n        const { domNode, callback, ...options } = this.state.addWorkspace;\r\n        return <Portal domNode={domNode}><AddWorkspaceCustomComponent {...options} /></Portal>\r\n    }\r\n\r\n    renderSystemButtonsComponent = () => {\r\n        const SystemButtonsCustomComponent = this.props.components?.header?.SystemButtonsComponent;\r\n        if (!SystemButtonsCustomComponent || (!this.state.systemButtons || !this.state.systemButtons.domNode)) {\r\n            return;\r\n        }\r\n\r\n        const { domNode, callback, ...options } = this.state.systemButtons;\r\n\r\n        return <Portal domNode={domNode}><SystemButtonsCustomComponent {...options} /></Portal>\r\n    }\r\n\r\n    renderWorskpaceContents = () => {\r\n        const WorkspaceContentsComponent = this.props.components?.WorkspaceContents;\r\n\r\n        return this.state.workspaceContents.map((wc) => {\r\n            if (!WorkspaceContentsComponent || !wc.domNode) {\r\n                return;\r\n            }\r\n\r\n            const { domNode, callback, ...options } = wc;\r\n            return <Portal key={options.workspaceId} domNode={domNode}><WorkspaceContentsComponent {...options} /></Portal>\r\n        });\r\n    }\r\n\r\n    renderSaveWorkspacePopupComponent = () => {\r\n        const SaveWorkspaceCustomComponent = this.props.components?.popups?.SaveWorkspaceComponent || SaveWorkspacePopup;\r\n        if (!SaveWorkspaceCustomComponent || (!this.state.saveWorkspacePopup || !this.state.saveWorkspacePopup.domNode)) {\r\n            return;\r\n        }\r\n\r\n        const { domNode, ...options } = this.state.saveWorkspacePopup;\r\n\r\n        return <Portal domNode={domNode}><SaveWorkspaceCustomComponent glue={this.props.glue} {...options} /></Portal>\r\n    }\r\n\r\n    renderAddApplicationPopupComponent = () => {\r\n        const AddApplicationCustomComponent = this.props.components?.popups?.AddApplicationComponent || AddApplicationPopup;\r\n        if (!AddApplicationCustomComponent || (!this.state.addApplicationPopup || !this.state.addApplicationPopup.domNode)) {\r\n            return;\r\n        }\r\n\r\n        const { domNode, ...options } = this.state.addApplicationPopup;\r\n\r\n        return <Portal domNode={domNode}><AddApplicationCustomComponent glue={this.props.glue} {...options} /></Portal>\r\n    }\r\n\r\n    renderAddWorkspacePopupComponent = () => {\r\n        const AddWorkspaceCustomComponent = this.props.components?.popups?.AddWorkspaceComponent || AddWorkspacePopup;\r\n        if (!AddWorkspaceCustomComponent || (!this.state.addWorkspacePopup || !this.state.addWorkspacePopup.domNode)) {\r\n            return;\r\n        }\r\n        const { domNode, callback, ...options } = this.state.addWorkspacePopup;\r\n\r\n        return <Portal domNode={domNode}><AddWorkspaceCustomComponent glue={this.props.glue} {...options} /></Portal>\r\n    }\r\n\r\n    render() {\r\n        const { components, glue, ...additionalProperties } = this.props;\r\n        const addApplicationComponent = components?.popups?.AddApplicationComponent || AddApplicationPopup;\r\n        const saveWorkspaceComponent = components?.popups?.SaveWorkspaceComponent || SaveWorkspacePopup;\r\n        const addWorkspaceComponent = components?.popups?.AddWorkspaceComponent || AddWorkspacePopup;\r\n\r\n        const onCreateAddApplicationRequested = addApplicationComponent && typeof addApplicationComponent !== \"string\" ?\r\n            this.onCreateAddApplicationRequested : undefined;\r\n\r\n        const onCreateAddWorkspacePopupRequested = addWorkspaceComponent && typeof addWorkspaceComponent !== \"string\" ?\r\n            this.onCreateAddWorkspacePopupRequested : undefined;\r\n\r\n        const onCreateSaveWorkspaceRequested = saveWorkspaceComponent && typeof saveWorkspaceComponent !== \"string\" ?\r\n            this.onCreateSaveWorkspaceRequested : undefined;\r\n\r\n        const addApplication = typeof addApplicationComponent === \"string\" ? addApplicationComponent : undefined;\r\n        const saveWorkspace = typeof saveWorkspaceComponent === \"string\" ? saveWorkspaceComponent : undefined;\r\n        const addWorkspace = typeof addWorkspaceComponent === \"string\" ? addWorkspaceComponent : undefined;\r\n\r\n        const externalPopupApplications = {\r\n            addApplication,\r\n            saveWorkspace,\r\n            addWorkspace\r\n        }\r\n\r\n        return (\r\n            <div {...additionalProperties} style={{ overflow: \"hidden\", width: \"100%\", height: \"100%\" }}>\r\n                {this.renderLogoComponent()}\r\n                {this.renderAddWorkspaceComponent()}\r\n                {this.renderSystemButtonsComponent()}\r\n                {this.renderWorskpaceContents()}\r\n                {this.renderSaveWorkspacePopupComponent()}\r\n                {this.renderAddApplicationPopupComponent()}\r\n                {this.renderAddWorkspacePopupComponent()}\r\n                <WorkspacesWrapper\r\n                    onCreateSystemButtonsRequested={components?.header?.SystemButtonsComponent ? this.onCreateSystemButtonsRequested : undefined}\r\n                    onCreateAddWorkspaceRequested={components?.header?.AddWorkspaceComponent ? this.onCreateAddWorkspaceRequested : undefined}\r\n                    onCreateLogoRequested={components?.header?.LogoComponent ? this.onCreateLogoRequested : undefined}\r\n                    onCreateWorkspaceContentsRequested={components?.WorkspaceContents ? this.onCreateWorkspaceContentsRequested : undefined}\r\n                    onCreateSaveWorkspacePopupRequested={onCreateSaveWorkspaceRequested}\r\n                    onCreateAddApplicationPopupRequested={onCreateAddApplicationRequested}\r\n                    onCreateAddWorkspacePopupRequested={onCreateAddWorkspacePopupRequested}\r\n                    onHideSystemPopupsRequested={this.onHideSystemPopups}\r\n                    externalPopupApplications={externalPopupApplications}\r\n                    glue={glue}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default WorkspacesElementCreationWrapper;\r\n","import AddWorkspaceButton from './defaultComponents/AddWorkspaceButton';\nimport CloseFrameButton from './defaultComponents/CloseFrameButton';\nimport GlueLogo from './defaultComponents/GlueLogo';\nimport MaximizeFrameButton from './defaultComponents/MaximizeFrameButton';\nimport MinimizeFrameButton from './defaultComponents/MinimizeFrameButton';\nimport AddApplicationPopup from './defaultComponents/popups/addApplication/AddApplicationPopup';\nimport AddWorkspacePopup from './defaultComponents/popups/addWorkspace/AddWorkspacePopup';\nimport SaveWorkspacePopup from './defaultComponents/popups/saveWorkspace/SaveWorkspacePopup';\nimport WorkspaceContents from \"./defaultComponents/WorkspaceContents\";\nimport useWorkspacePopup from './useWorkspacePopup';\nimport useWorkspaceWindowClicked from './useWorkspaceWindowClicked';\n\nimport WorkspacePopup from './WorkspacePopup';\nimport {\n    Bounds,\n    WorkspacesManager,\n    WorkspacesProps,\n    AddWorkspaceButtonProps,\n    MaximizeFrameButtonProps,\n    MinimizeFrameButtonProps,\n    SaveWorkspacePopupComponentProps,\n    AddWorkspacePopupComponentProps,\n    AddApplicationPopupComponentProps,\n    AddWorkspacePopupProps,\n    SaveWorkspacePopupProps,\n    AddApplicationPopupProps,\n    WorkspaceContentsProps\n} from './types/internal';\nimport WorkspacesElementCreationWrapper from './WorkspacesElementCreationWrapper'\nimport workspacesManager from './workspacesManager';\n\nexport {\n    SaveWorkspacePopup,\n    AddWorkspacePopup,\n    AddApplicationPopup,\n    CloseFrameButton,\n    GlueLogo,\n    MaximizeFrameButton,\n    MinimizeFrameButton,\n    AddWorkspaceButton,\n    WorkspacePopup,\n    useWorkspacePopup,\n    useWorkspaceWindowClicked,\n    WorkspaceContents\n};\nexport const notifyMoveAreaChanged: () => void = () => workspacesManager?.notifyMoveAreaChanged();\nexport const getComponentBounds: () => Bounds = () => workspacesManager?.getComponentBounds();\nexport const getFrameId: () => string = () => workspacesManager?.getFrameId();\n\nexport {\n    WorkspacesProps,\n    Bounds,\n    AddWorkspaceButtonProps,\n    MaximizeFrameButtonProps,\n    MinimizeFrameButtonProps,\n    SaveWorkspacePopupComponentProps,\n    AddWorkspacePopupComponentProps,\n    AddApplicationPopupComponentProps,\n    AddWorkspacePopupProps,\n    SaveWorkspacePopupProps,\n    AddApplicationPopupProps,\n    WorkspaceContentsProps\n};\nexport default WorkspacesElementCreationWrapper;","/* eslint-disable @typescript-eslint/no-unused-vars */\n\nimport { Glue42Web } from \"../../web\";\n\nconst defaultConfig = {\n    logger: \"trace\",\n    gateway: { webPlatform: {} },\n    libraries: []\n};\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\nexport const parseConfig = (config?: Glue42Web.Config): any => {\n    const combined = Object.assign({}, defaultConfig, config);\n\n    if (combined.systemLogger) {\n        combined.logger = combined.systemLogger.level ?? \"trace\";\n    }\n\n    return combined;\n};","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nexport const checkSingleton = (): void => {\r\n    const glue42CoreNamespace = (window as any).glue42core;\r\n\r\n    if (!glue42CoreNamespace) {\r\n        (window as any).glue42core = { webStarted: true };\r\n        return;\r\n    }\r\n\r\n    if (glue42CoreNamespace.webStarted) {\r\n        throw new Error(\"The Glue42 Core Web has already been started for this application.\");\r\n    }\r\n\r\n    glue42CoreNamespace.webStarted = true;\r\n};\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\n/* eslint-disable @typescript-eslint/no-unused-vars */\nimport { Glue42 } from \"@glue42/desktop\";\nimport { Glue42Web } from \"../../web\";\n\nexport const enterprise = (config: Glue42Web.Config): Glue42.Glue => {\n\n    const enterpriseConfig = {\n        windows: true,\n        layouts: \"full\",\n        appManager: \"full\",\n        channels: true,\n        libraries: config.libraries,\n        logger: config?.systemLogger?.level ?? \"warn\"\n    };\n\n    return (window as any).Glue(enterpriseConfig);\n};","/**\r\n * Wraps values in an `Ok` type.\r\n *\r\n * Example: `ok(5) // => {ok: true, result: 5}`\r\n */\r\nvar ok = function (result) { return ({ ok: true, result: result }); };\r\n/**\r\n * Typeguard for `Ok`.\r\n */\r\nvar isOk = function (r) { return r.ok === true; };\r\n/**\r\n * Wraps errors in an `Err` type.\r\n *\r\n * Example: `err('on fire') // => {ok: false, error: 'on fire'}`\r\n */\r\nvar err = function (error) { return ({ ok: false, error: error }); };\r\n/**\r\n * Typeguard for `Err`.\r\n */\r\nvar isErr = function (r) { return r.ok === false; };\r\n/**\r\n * Create a `Promise` that either resolves with the result of `Ok` or rejects\r\n * with the error of `Err`.\r\n */\r\nvar asPromise = function (r) {\r\n    return r.ok === true ? Promise.resolve(r.result) : Promise.reject(r.error);\r\n};\r\n/**\r\n * Unwraps a `Result` and returns either the result of an `Ok`, or\r\n * `defaultValue`.\r\n *\r\n * Example:\r\n * ```\r\n * Result.withDefault(5, number().run(json))\r\n * ```\r\n *\r\n * It would be nice if `Decoder` had an instance method that mirrored this\r\n * function. Such a method would look something like this:\r\n * ```\r\n * class Decoder<A> {\r\n *   runWithDefault = (defaultValue: A, json: any): A =>\r\n *     Result.withDefault(defaultValue, this.run(json));\r\n * }\r\n *\r\n * number().runWithDefault(5, json)\r\n * ```\r\n * Unfortunately, the type of `defaultValue: A` on the method causes issues\r\n * with type inference on  the `object` decoder in some situations. While these\r\n * inference issues can be solved by providing the optional type argument for\r\n * `object`s, the extra trouble and confusion doesn't seem worth it.\r\n */\r\nvar withDefault = function (defaultValue, r) {\r\n    return r.ok === true ? r.result : defaultValue;\r\n};\r\n/**\r\n * Return the successful result, or throw an error.\r\n */\r\nvar withException = function (r) {\r\n    if (r.ok === true) {\r\n        return r.result;\r\n    }\r\n    else {\r\n        throw r.error;\r\n    }\r\n};\r\n/**\r\n * Given an array of `Result`s, return the successful values.\r\n */\r\nvar successes = function (results) {\r\n    return results.reduce(function (acc, r) { return (r.ok === true ? acc.concat(r.result) : acc); }, []);\r\n};\r\n/**\r\n * Apply `f` to the result of an `Ok`, or pass the error through.\r\n */\r\nvar map = function (f, r) {\r\n    return r.ok === true ? ok(f(r.result)) : r;\r\n};\r\n/**\r\n * Apply `f` to the result of two `Ok`s, or pass an error through. If both\r\n * `Result`s are errors then the first one is returned.\r\n */\r\nvar map2 = function (f, ar, br) {\r\n    return ar.ok === false ? ar :\r\n        br.ok === false ? br :\r\n            ok(f(ar.result, br.result));\r\n};\r\n/**\r\n * Apply `f` to the error of an `Err`, or pass the success through.\r\n */\r\nvar mapError = function (f, r) {\r\n    return r.ok === true ? r : err(f(r.error));\r\n};\r\n/**\r\n * Chain together a sequence of computations that may fail, similar to a\r\n * `Promise`. If the first computation fails then the error will propagate\r\n * through. If it succeeds, then `f` will be applied to the value, returning a\r\n * new `Result`.\r\n */\r\nvar andThen = function (f, r) {\r\n    return r.ok === true ? f(r.result) : r;\r\n};\r\n\n\nvar result = Object.freeze({\n\tok: ok,\n\tisOk: isOk,\n\terr: err,\n\tisErr: isErr,\n\tasPromise: asPromise,\n\twithDefault: withDefault,\n\twithException: withException,\n\tsuccesses: successes,\n\tmap: map,\n\tmap2: map2,\n\tmapError: mapError,\n\tandThen: andThen\n});\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\n\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\n\nfunction isEqual(a, b) {\r\n    if (a === b) {\r\n        return true;\r\n    }\r\n    if (a === null && b === null) {\r\n        return true;\r\n    }\r\n    if (typeof (a) !== typeof (b)) {\r\n        return false;\r\n    }\r\n    if (typeof (a) === 'object') {\r\n        // Array\r\n        if (Array.isArray(a)) {\r\n            if (!Array.isArray(b)) {\r\n                return false;\r\n            }\r\n            if (a.length !== b.length) {\r\n                return false;\r\n            }\r\n            for (var i = 0; i < a.length; i++) {\r\n                if (!isEqual(a[i], b[i])) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n        // Hash table\r\n        var keys = Object.keys(a);\r\n        if (keys.length !== Object.keys(b).length) {\r\n            return false;\r\n        }\r\n        for (var i = 0; i < keys.length; i++) {\r\n            if (!b.hasOwnProperty(keys[i])) {\r\n                return false;\r\n            }\r\n            if (!isEqual(a[keys[i]], b[keys[i]])) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n}\r\n/**\r\n * Type guard for `DecoderError`. One use case of the type guard is in the\r\n * `catch` of a promise. Typescript types the error argument of `catch` as\r\n * `any`, so when dealing with a decoder as a promise you may need to\r\n * distinguish between a `DecoderError` and an error string.\r\n */\r\nvar isDecoderError = function (a) {\r\n    return a.kind === 'DecoderError' && typeof a.at === 'string' && typeof a.message === 'string';\r\n};\r\n/*\r\n * Helpers\r\n */\r\nvar isJsonArray = function (json) { return Array.isArray(json); };\r\nvar isJsonObject = function (json) {\r\n    return typeof json === 'object' && json !== null && !isJsonArray(json);\r\n};\r\nvar typeString = function (json) {\r\n    switch (typeof json) {\r\n        case 'string':\r\n            return 'a string';\r\n        case 'number':\r\n            return 'a number';\r\n        case 'boolean':\r\n            return 'a boolean';\r\n        case 'undefined':\r\n            return 'undefined';\r\n        case 'object':\r\n            if (json instanceof Array) {\r\n                return 'an array';\r\n            }\r\n            else if (json === null) {\r\n                return 'null';\r\n            }\r\n            else {\r\n                return 'an object';\r\n            }\r\n        default:\r\n            return JSON.stringify(json);\r\n    }\r\n};\r\nvar expectedGot = function (expected, got) {\r\n    return \"expected \" + expected + \", got \" + typeString(got);\r\n};\r\nvar printPath = function (paths) {\r\n    return paths.map(function (path) { return (typeof path === 'string' ? \".\" + path : \"[\" + path + \"]\"); }).join('');\r\n};\r\nvar prependAt = function (newAt, _a) {\r\n    var at = _a.at, rest = __rest(_a, [\"at\"]);\r\n    return (__assign({ at: newAt + (at || '') }, rest));\r\n};\r\n/**\r\n * Decoders transform json objects with unknown structure into known and\r\n * verified forms. You can create objects of type `Decoder<A>` with either the\r\n * primitive decoder functions, such as `boolean()` and `string()`, or by\r\n * applying higher-order decoders to the primitives, such as `array(boolean())`\r\n * or `dict(string())`.\r\n *\r\n * Each of the decoder functions are available both as a static method on\r\n * `Decoder` and as a function alias -- for example the string decoder is\r\n * defined at `Decoder.string()`, but is also aliased to `string()`. Using the\r\n * function aliases exported with the library is recommended.\r\n *\r\n * `Decoder` exposes a number of 'run' methods, which all decode json in the\r\n * same way, but communicate success and failure in different ways. The `map`\r\n * and `andThen` methods modify decoders without having to call a 'run' method.\r\n *\r\n * Alternatively, the main decoder `run()` method returns an object of type\r\n * `Result<A, DecoderError>`. This library provides a number of helper\r\n * functions for dealing with the `Result` type, so you can do all the same\r\n * things with a `Result` as with the decoder methods.\r\n */\r\nvar Decoder = /** @class */ (function () {\r\n    /**\r\n     * The Decoder class constructor is kept private to separate the internal\r\n     * `decode` function from the external `run` function. The distinction\r\n     * between the two functions is that `decode` returns a\r\n     * `Partial<DecoderError>` on failure, which contains an unfinished error\r\n     * report. When `run` is called on a decoder, the relevant series of `decode`\r\n     * calls is made, and then on failure the resulting `Partial<DecoderError>`\r\n     * is turned into a `DecoderError` by filling in the missing information.\r\n     *\r\n     * While hiding the constructor may seem restrictive, leveraging the\r\n     * provided decoder combinators and helper functions such as\r\n     * `andThen` and `map` should be enough to build specialized decoders as\r\n     * needed.\r\n     */\r\n    function Decoder(decode) {\r\n        var _this = this;\r\n        this.decode = decode;\r\n        /**\r\n         * Run the decoder and return a `Result` with either the decoded value or a\r\n         * `DecoderError` containing the json input, the location of the error, and\r\n         * the error message.\r\n         *\r\n         * Examples:\r\n         * ```\r\n         * number().run(12)\r\n         * // => {ok: true, result: 12}\r\n         *\r\n         * string().run(9001)\r\n         * // =>\r\n         * // {\r\n         * //   ok: false,\r\n         * //   error: {\r\n         * //     kind: 'DecoderError',\r\n         * //     input: 9001,\r\n         * //     at: 'input',\r\n         * //     message: 'expected a string, got 9001'\r\n         * //   }\r\n         * // }\r\n         * ```\r\n         */\r\n        this.run = function (json) {\r\n            return mapError(function (error) { return ({\r\n                kind: 'DecoderError',\r\n                input: json,\r\n                at: 'input' + (error.at || ''),\r\n                message: error.message || ''\r\n            }); }, _this.decode(json));\r\n        };\r\n        /**\r\n         * Run the decoder as a `Promise`.\r\n         */\r\n        this.runPromise = function (json) { return asPromise(_this.run(json)); };\r\n        /**\r\n         * Run the decoder and return the value on success, or throw an exception\r\n         * with a formatted error string.\r\n         */\r\n        this.runWithException = function (json) { return withException(_this.run(json)); };\r\n        /**\r\n         * Construct a new decoder that applies a transformation to the decoded\r\n         * result. If the decoder succeeds then `f` will be applied to the value. If\r\n         * it fails the error will propagated through.\r\n         *\r\n         * Example:\r\n         * ```\r\n         * number().map(x => x * 5).run(10)\r\n         * // => {ok: true, result: 50}\r\n         * ```\r\n         */\r\n        this.map = function (f) {\r\n            return new Decoder(function (json) { return map(f, _this.decode(json)); });\r\n        };\r\n        /**\r\n         * Chain together a sequence of decoders. The first decoder will run, and\r\n         * then the function will determine what decoder to run second. If the result\r\n         * of the first decoder succeeds then `f` will be applied to the decoded\r\n         * value. If it fails the error will propagate through.\r\n         *\r\n         * This is a very powerful method -- it can act as both the `map` and `where`\r\n         * methods, can improve error messages for edge cases, and can be used to\r\n         * make a decoder for custom types.\r\n         *\r\n         * Example of adding an error message:\r\n         * ```\r\n         * const versionDecoder = valueAt(['version'], number());\r\n         * const infoDecoder3 = object({a: boolean()});\r\n         *\r\n         * const decoder = versionDecoder.andThen(version => {\r\n         *   switch (version) {\r\n         *     case 3:\r\n         *       return infoDecoder3;\r\n         *     default:\r\n         *       return fail(`Unable to decode info, version ${version} is not supported.`);\r\n         *   }\r\n         * });\r\n         *\r\n         * decoder.run({version: 3, a: true})\r\n         * // => {ok: true, result: {a: true}}\r\n         *\r\n         * decoder.run({version: 5, x: 'abc'})\r\n         * // =>\r\n         * // {\r\n         * //   ok: false,\r\n         * //   error: {... message: 'Unable to decode info, version 5 is not supported.'}\r\n         * // }\r\n         * ```\r\n         *\r\n         * Example of decoding a custom type:\r\n         * ```\r\n         * // nominal type for arrays with a length of at least one\r\n         * type NonEmptyArray<T> = T[] & { __nonEmptyArrayBrand__: void };\r\n         *\r\n         * const nonEmptyArrayDecoder = <T>(values: Decoder<T>): Decoder<NonEmptyArray<T>> =>\r\n         *   array(values).andThen(arr =>\r\n         *     arr.length > 0\r\n         *       ? succeed(createNonEmptyArray(arr))\r\n         *       : fail(`expected a non-empty array, got an empty array`)\r\n         *   );\r\n         * ```\r\n         */\r\n        this.andThen = function (f) {\r\n            return new Decoder(function (json) {\r\n                return andThen(function (value) { return f(value).decode(json); }, _this.decode(json));\r\n            });\r\n        };\r\n        /**\r\n         * Add constraints to a decoder _without_ changing the resulting type. The\r\n         * `test` argument is a predicate function which returns true for valid\r\n         * inputs. When `test` fails on an input, the decoder fails with the given\r\n         * `errorMessage`.\r\n         *\r\n         * ```\r\n         * const chars = (length: number): Decoder<string> =>\r\n         *   string().where(\r\n         *     (s: string) => s.length === length,\r\n         *     `expected a string of length ${length}`\r\n         *   );\r\n         *\r\n         * chars(5).run('12345')\r\n         * // => {ok: true, result: '12345'}\r\n         *\r\n         * chars(2).run('HELLO')\r\n         * // => {ok: false, error: {... message: 'expected a string of length 2'}}\r\n         *\r\n         * chars(12).run(true)\r\n         * // => {ok: false, error: {... message: 'expected a string, got a boolean'}}\r\n         * ```\r\n         */\r\n        this.where = function (test, errorMessage) {\r\n            return _this.andThen(function (value) { return (test(value) ? Decoder.succeed(value) : Decoder.fail(errorMessage)); });\r\n        };\r\n    }\r\n    /**\r\n     * Decoder primitive that validates strings, and fails on all other input.\r\n     */\r\n    Decoder.string = function () {\r\n        return new Decoder(function (json) {\r\n            return typeof json === 'string'\r\n                ? ok(json)\r\n                : err({ message: expectedGot('a string', json) });\r\n        });\r\n    };\r\n    /**\r\n     * Decoder primitive that validates numbers, and fails on all other input.\r\n     */\r\n    Decoder.number = function () {\r\n        return new Decoder(function (json) {\r\n            return typeof json === 'number'\r\n                ? ok(json)\r\n                : err({ message: expectedGot('a number', json) });\r\n        });\r\n    };\r\n    /**\r\n     * Decoder primitive that validates booleans, and fails on all other input.\r\n     */\r\n    Decoder.boolean = function () {\r\n        return new Decoder(function (json) {\r\n            return typeof json === 'boolean'\r\n                ? ok(json)\r\n                : err({ message: expectedGot('a boolean', json) });\r\n        });\r\n    };\r\n    Decoder.constant = function (value) {\r\n        return new Decoder(function (json) {\r\n            return isEqual(json, value)\r\n                ? ok(value)\r\n                : err({ message: \"expected \" + JSON.stringify(value) + \", got \" + JSON.stringify(json) });\r\n        });\r\n    };\r\n    Decoder.object = function (decoders) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonObject(json) && decoders) {\r\n                var obj = {};\r\n                for (var key in decoders) {\r\n                    if (decoders.hasOwnProperty(key)) {\r\n                        var r = decoders[key].decode(json[key]);\r\n                        if (r.ok === true) {\r\n                            // tslint:disable-next-line:strict-type-predicates\r\n                            if (r.result !== undefined) {\r\n                                obj[key] = r.result;\r\n                            }\r\n                        }\r\n                        else if (json[key] === undefined) {\r\n                            return err({ message: \"the key '\" + key + \"' is required but was not present\" });\r\n                        }\r\n                        else {\r\n                            return err(prependAt(\".\" + key, r.error));\r\n                        }\r\n                    }\r\n                }\r\n                return ok(obj);\r\n            }\r\n            else if (isJsonObject(json)) {\r\n                return ok(json);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot('an object', json) });\r\n            }\r\n        });\r\n    };\r\n    Decoder.array = function (decoder) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonArray(json) && decoder) {\r\n                var decodeValue_1 = function (v, i) {\r\n                    return mapError(function (err$$1) { return prependAt(\"[\" + i + \"]\", err$$1); }, decoder.decode(v));\r\n                };\r\n                return json.reduce(function (acc, v, i) {\r\n                    return map2(function (arr, result) { return arr.concat([result]); }, acc, decodeValue_1(v, i));\r\n                }, ok([]));\r\n            }\r\n            else if (isJsonArray(json)) {\r\n                return ok(json);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot('an array', json) });\r\n            }\r\n        });\r\n    };\r\n    Decoder.tuple = function (decoders) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonArray(json)) {\r\n                if (json.length !== decoders.length) {\r\n                    return err({\r\n                        message: \"expected a tuple of length \" + decoders.length + \", got one of length \" + json.length\r\n                    });\r\n                }\r\n                var result = [];\r\n                for (var i = 0; i < decoders.length; i++) {\r\n                    var nth = decoders[i].decode(json[i]);\r\n                    if (nth.ok) {\r\n                        result[i] = nth.result;\r\n                    }\r\n                    else {\r\n                        return err(prependAt(\"[\" + i + \"]\", nth.error));\r\n                    }\r\n                }\r\n                return ok(result);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot(\"a tuple of length \" + decoders.length, json) });\r\n            }\r\n        });\r\n    };\r\n    Decoder.union = function (ad, bd) {\r\n        var decoders = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            decoders[_i - 2] = arguments[_i];\r\n        }\r\n        return Decoder.oneOf.apply(Decoder, [ad, bd].concat(decoders));\r\n    };\r\n    Decoder.intersection = function (ad, bd) {\r\n        var ds = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            ds[_i - 2] = arguments[_i];\r\n        }\r\n        return new Decoder(function (json) {\r\n            return [ad, bd].concat(ds).reduce(function (acc, decoder) { return map2(Object.assign, acc, decoder.decode(json)); }, ok({}));\r\n        });\r\n    };\r\n    /**\r\n     * Escape hatch to bypass validation. Always succeeds and types the result as\r\n     * `any`. Useful for defining decoders incrementally, particularly for\r\n     * complex objects.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * interface User {\r\n     *   name: string;\r\n     *   complexUserData: ComplexType;\r\n     * }\r\n     *\r\n     * const userDecoder: Decoder<User> = object({\r\n     *   name: string(),\r\n     *   complexUserData: anyJson()\r\n     * });\r\n     * ```\r\n     */\r\n    Decoder.anyJson = function () { return new Decoder(function (json) { return ok(json); }); };\r\n    /**\r\n     * Decoder identity function which always succeeds and types the result as\r\n     * `unknown`.\r\n     */\r\n    Decoder.unknownJson = function () {\r\n        return new Decoder(function (json) { return ok(json); });\r\n    };\r\n    /**\r\n     * Decoder for json objects where the keys are unknown strings, but the values\r\n     * should all be of the same type.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * dict(number()).run({chocolate: 12, vanilla: 10, mint: 37});\r\n     * // => {ok: true, result: {chocolate: 12, vanilla: 10, mint: 37}}\r\n     * ```\r\n     */\r\n    Decoder.dict = function (decoder) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonObject(json)) {\r\n                var obj = {};\r\n                for (var key in json) {\r\n                    if (json.hasOwnProperty(key)) {\r\n                        var r = decoder.decode(json[key]);\r\n                        if (r.ok === true) {\r\n                            obj[key] = r.result;\r\n                        }\r\n                        else {\r\n                            return err(prependAt(\".\" + key, r.error));\r\n                        }\r\n                    }\r\n                }\r\n                return ok(obj);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot('an object', json) });\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Decoder for values that may be `undefined`. This is primarily helpful for\r\n     * decoding interfaces with optional fields.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * interface User {\r\n     *   id: number;\r\n     *   isOwner?: boolean;\r\n     * }\r\n     *\r\n     * const decoder: Decoder<User> = object({\r\n     *   id: number(),\r\n     *   isOwner: optional(boolean())\r\n     * });\r\n     * ```\r\n     */\r\n    Decoder.optional = function (decoder) {\r\n        return new Decoder(function (json) { return (json === undefined ? ok(undefined) : decoder.decode(json)); });\r\n    };\r\n    /**\r\n     * Decoder that attempts to run each decoder in `decoders` and either succeeds\r\n     * with the first successful decoder, or fails after all decoders have failed.\r\n     *\r\n     * Note that `oneOf` expects the decoders to all have the same return type,\r\n     * while `union` creates a decoder for the union type of all the input\r\n     * decoders.\r\n     *\r\n     * Examples:\r\n     * ```\r\n     * oneOf(string(), number().map(String))\r\n     * oneOf(constant('start'), constant('stop'), succeed('unknown'))\r\n     * ```\r\n     */\r\n    Decoder.oneOf = function () {\r\n        var decoders = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            decoders[_i] = arguments[_i];\r\n        }\r\n        return new Decoder(function (json) {\r\n            var errors = [];\r\n            for (var i = 0; i < decoders.length; i++) {\r\n                var r = decoders[i].decode(json);\r\n                if (r.ok === true) {\r\n                    return r;\r\n                }\r\n                else {\r\n                    errors[i] = r.error;\r\n                }\r\n            }\r\n            var errorsList = errors\r\n                .map(function (error) { return \"at error\" + (error.at || '') + \": \" + error.message; })\r\n                .join('\", \"');\r\n            return err({\r\n                message: \"expected a value matching one of the decoders, got the errors [\\\"\" + errorsList + \"\\\"]\"\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Decoder that always succeeds with either the decoded value, or a fallback\r\n     * default value.\r\n     */\r\n    Decoder.withDefault = function (defaultValue, decoder) {\r\n        return new Decoder(function (json) {\r\n            return ok(withDefault(defaultValue, decoder.decode(json)));\r\n        });\r\n    };\r\n    /**\r\n     * Decoder that pulls a specific field out of a json structure, instead of\r\n     * decoding and returning the full structure. The `paths` array describes the\r\n     * object keys and array indices to traverse, so that values can be pulled out\r\n     * of a nested structure.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * const decoder = valueAt(['a', 'b', 0], string());\r\n     *\r\n     * decoder.run({a: {b: ['surprise!']}})\r\n     * // => {ok: true, result: 'surprise!'}\r\n     *\r\n     * decoder.run({a: {x: 'cats'}})\r\n     * // => {ok: false, error: {... at: 'input.a.b[0]' message: 'path does not exist'}}\r\n     * ```\r\n     *\r\n     * Note that the `decoder` is ran on the value found at the last key in the\r\n     * path, even if the last key is not found. This allows the `optional`\r\n     * decoder to succeed when appropriate.\r\n     * ```\r\n     * const optionalDecoder = valueAt(['a', 'b', 'c'], optional(string()));\r\n     *\r\n     * optionalDecoder.run({a: {b: {c: 'surprise!'}}})\r\n     * // => {ok: true, result: 'surprise!'}\r\n     *\r\n     * optionalDecoder.run({a: {b: 'cats'}})\r\n     * // => {ok: false, error: {... at: 'input.a.b.c' message: 'expected an object, got \"cats\"'}\r\n     *\r\n     * optionalDecoder.run({a: {b: {z: 1}}})\r\n     * // => {ok: true, result: undefined}\r\n     * ```\r\n     */\r\n    Decoder.valueAt = function (paths, decoder) {\r\n        return new Decoder(function (json) {\r\n            var jsonAtPath = json;\r\n            for (var i = 0; i < paths.length; i++) {\r\n                if (jsonAtPath === undefined) {\r\n                    return err({\r\n                        at: printPath(paths.slice(0, i + 1)),\r\n                        message: 'path does not exist'\r\n                    });\r\n                }\r\n                else if (typeof paths[i] === 'string' && !isJsonObject(jsonAtPath)) {\r\n                    return err({\r\n                        at: printPath(paths.slice(0, i + 1)),\r\n                        message: expectedGot('an object', jsonAtPath)\r\n                    });\r\n                }\r\n                else if (typeof paths[i] === 'number' && !isJsonArray(jsonAtPath)) {\r\n                    return err({\r\n                        at: printPath(paths.slice(0, i + 1)),\r\n                        message: expectedGot('an array', jsonAtPath)\r\n                    });\r\n                }\r\n                else {\r\n                    jsonAtPath = jsonAtPath[paths[i]];\r\n                }\r\n            }\r\n            return mapError(function (error) {\r\n                return jsonAtPath === undefined\r\n                    ? { at: printPath(paths), message: 'path does not exist' }\r\n                    : prependAt(printPath(paths), error);\r\n            }, decoder.decode(jsonAtPath));\r\n        });\r\n    };\r\n    /**\r\n     * Decoder that ignores the input json and always succeeds with `fixedValue`.\r\n     */\r\n    Decoder.succeed = function (fixedValue) {\r\n        return new Decoder(function (json) { return ok(fixedValue); });\r\n    };\r\n    /**\r\n     * Decoder that ignores the input json and always fails with `errorMessage`.\r\n     */\r\n    Decoder.fail = function (errorMessage) {\r\n        return new Decoder(function (json) { return err({ message: errorMessage }); });\r\n    };\r\n    /**\r\n     * Decoder that allows for validating recursive data structures. Unlike with\r\n     * functions, decoders assigned to variables can't reference themselves\r\n     * before they are fully defined. We can avoid prematurely referencing the\r\n     * decoder by wrapping it in a function that won't be called until use, at\r\n     * which point the decoder has been defined.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * interface Comment {\r\n     *   msg: string;\r\n     *   replies: Comment[];\r\n     * }\r\n     *\r\n     * const decoder: Decoder<Comment> = object({\r\n     *   msg: string(),\r\n     *   replies: lazy(() => array(decoder))\r\n     * });\r\n     * ```\r\n     */\r\n    Decoder.lazy = function (mkDecoder) {\r\n        return new Decoder(function (json) { return mkDecoder().decode(json); });\r\n    };\r\n    return Decoder;\r\n}());\n\n/* tslint:disable:variable-name */\r\n/** See `Decoder.string` */\r\nvar string = Decoder.string;\r\n/** See `Decoder.number` */\r\nvar number = Decoder.number;\r\n/** See `Decoder.boolean` */\r\nvar boolean = Decoder.boolean;\r\n/** See `Decoder.anyJson` */\r\nvar anyJson = Decoder.anyJson;\r\n/** See `Decoder.unknownJson` */\r\nvar unknownJson = Decoder.unknownJson;\r\n/** See `Decoder.constant` */\r\nvar constant = Decoder.constant;\r\n/** See `Decoder.object` */\r\nvar object = Decoder.object;\r\n/** See `Decoder.array` */\r\nvar array = Decoder.array;\r\n/** See `Decoder.tuple` */\r\nvar tuple = Decoder.tuple;\r\n/** See `Decoder.dict` */\r\nvar dict = Decoder.dict;\r\n/** See `Decoder.optional` */\r\nvar optional = Decoder.optional;\r\n/** See `Decoder.oneOf` */\r\nvar oneOf = Decoder.oneOf;\r\n/** See `Decoder.union` */\r\nvar union = Decoder.union;\r\n/** See `Decoder.intersection` */\r\nvar intersection = Decoder.intersection;\r\n/** See `Decoder.withDefault` */\r\nvar withDefault$1 = Decoder.withDefault;\r\n/** See `Decoder.valueAt` */\r\nvar valueAt = Decoder.valueAt;\r\n/** See `Decoder.succeed` */\r\nvar succeed = Decoder.succeed;\r\n/** See `Decoder.fail` */\r\nvar fail = Decoder.fail;\r\n/** See `Decoder.lazy` */\r\nvar lazy = Decoder.lazy;\n\nexport { result as Result, Decoder, isDecoderError, string, number, boolean, anyJson, unknownJson, constant, object, array, tuple, dict, optional, oneOf, union, intersection, withDefault$1 as withDefault, valueAt, succeed, fail, lazy };\n//# sourceMappingURL=index.es5.js.map\n","/* eslint-disable @typescript-eslint/no-use-before-define */\nimport { Decoder, object, boolean, string, optional, array, oneOf, constant, lazy, number, anyJson, intersection } from \"decoder-validate\";\nimport { IsWindowInSwimlaneResult, WorkspaceSnapshotResult, ChildSnapshotResult, WorkspaceConfigResult, FrameSummaryResult, WorkspaceCreateConfigProtocol, GetFrameSummaryConfig, WorkspaceSummaryResult, LayoutSummariesResult, LayoutSummary, OpenWorkspaceConfig, FrameSummariesResult, WorkspaceSummariesResult, ExportedLayoutsResult, DeleteLayoutConfig, SimpleItemConfig, ResizeItemConfig, MoveFrameConfig, FrameSnapshotResult, BaseChildSnapshotConfig, ParentSnapshotConfig, SwimlaneWindowSnapshotConfig, SimpleWindowOperationSuccessResult, SetItemTitleConfig, MoveWindowConfig, AddWindowConfig, AddContainerConfig, AddItemResult, BundleConfig, WorkspaceStreamData, FrameStreamData, ContainerStreamData, ContainerSummaryResult, WindowStreamData, PingResult, FrameStateConfig, FrameStateResult } from \"../types/protocol\";\nimport { WorkspaceEventType, WorkspaceEventAction } from \"../types/subscription\";\nimport { Glue42Workspaces } from \"../../workspaces\";\n\nexport const nonEmptyStringDecoder: Decoder<string> = string().where((s) => s.length > 0, \"Expected a non-empty string\");\nexport const nonNegativeNumberDecoder: Decoder<number> = number().where((num) => num >= 0, \"Expected a non-negative number\");\n\nexport const isWindowInSwimlaneResultDecoder: Decoder<IsWindowInSwimlaneResult> = object({\n    inWorkspace: boolean()\n});\n\nexport const allParentDecoder: Decoder<\"workspace\" | \"row\" | \"column\" | \"group\"> = oneOf<\"workspace\" | \"row\" | \"column\" | \"group\">(\n    constant(\"workspace\"),\n    constant(\"row\"),\n    constant(\"column\"),\n    constant(\"group\")\n);\n\nexport const subParentDecoder: Decoder<\"row\" | \"column\" | \"group\"> = oneOf<\"row\" | \"column\" | \"group\">(\n    constant(\"row\"),\n    constant(\"column\"),\n    constant(\"group\")\n);\n\nexport const frameStateDecoder: Decoder<\"maximized\" | \"minimized\" | \"normal\"> = oneOf<\"maximized\" | \"minimized\" | \"normal\">(\n    constant(\"maximized\"),\n    constant(\"minimized\"),\n    constant(\"normal\")\n);\n\nexport const checkThrowCallback = (callback: unknown, allowUndefined?: boolean): void => {\n    const argumentType = typeof callback;\n\n    if (allowUndefined && argumentType !== \"function\" && argumentType !== \"undefined\") {\n        throw new Error(`Provided argument must be either undefined or of type function, provided: ${argumentType}`);\n    }\n\n    if (!allowUndefined && argumentType !== \"function\") {\n        throw new Error(`Provided argument must be of type function, provided: ${argumentType}`);\n    }\n};\n\nexport const workspaceBuilderCreateConfigDecoder: Decoder<Glue42Workspaces.WorkspaceCreateConfig> = optional(object({\n    saveLayout: optional(boolean())\n}));\n\nexport const deleteLayoutConfigDecoder: Decoder<DeleteLayoutConfig> = object({\n    name: nonEmptyStringDecoder\n});\n\n\nexport const swimlaneWindowDefinitionDecoder: Decoder<Glue42Workspaces.WorkspaceWindowDefinition> = object({\n    type: optional(constant(\"window\")),\n    appName: optional(nonEmptyStringDecoder),\n    windowId: optional(nonEmptyStringDecoder),\n    context: optional(anyJson())\n});\n\nexport const strictSwimlaneWindowDefinitionDecoder: Decoder<Glue42Workspaces.WorkspaceWindowDefinition> = object({\n    type: constant(\"window\"),\n    appName: optional(nonEmptyStringDecoder),\n    windowId: optional(nonEmptyStringDecoder),\n    context: optional(anyJson())\n});\n\nexport const parentDefinitionDecoder: Decoder<Glue42Workspaces.BoxDefinition> = optional(object({\n    type: optional(subParentDecoder),\n    children: optional(\n        lazy(() => array(\n            oneOf<Glue42Workspaces.WorkspaceWindowDefinition | Glue42Workspaces.BoxDefinition>(\n                swimlaneWindowDefinitionDecoder,\n                parentDefinitionDecoder\n            )\n        ))\n    )\n}));\n\nexport const strictParentDefinitionDecoder: Decoder<Glue42Workspaces.BoxDefinition> = object({\n    type: subParentDecoder,\n    children: optional(\n        lazy(() => array(\n            oneOf<Glue42Workspaces.WorkspaceWindowDefinition | Glue42Workspaces.BoxDefinition>(\n                strictSwimlaneWindowDefinitionDecoder,\n                strictParentDefinitionDecoder\n            )\n        ))\n    )\n});\n\nexport const stateDecoder: Decoder<\"maximized\" | \"normal\"> = oneOf<\"maximized\" | \"normal\">(\n    (string().where((s) => s.toLowerCase() === \"maximized\", \"Expected a case insensitive variation of 'maximized'\") as Decoder<\"maximized\">),\n    (string().where((s) => s.toLowerCase() === \"normal\", \"Expected a case insensitive variation of 'normal'\") as Decoder<\"normal\">)\n);\n\nexport const newFrameConfigDecoder: Decoder<Glue42Workspaces.NewFrameConfig> = object({\n    bounds: optional(object({\n        left: optional(number()),\n        top: optional(number()),\n        width: optional(nonNegativeNumberDecoder),\n        height: optional(nonNegativeNumberDecoder)\n    }))\n});\n\nexport const restoreTypeDecoder: Decoder<Glue42Workspaces.RestoreType> = oneOf<\"direct\" | \"delayed\" | \"lazy\">(\n    constant(\"direct\"),\n    constant(\"delayed\"),\n    constant(\"lazy\")\n);\n\nexport const restoreWorkspaceConfigDecoder: Decoder<Glue42Workspaces.RestoreWorkspaceConfig> = optional(object({\n    app: optional(nonEmptyStringDecoder),\n    context: optional(anyJson()),\n    restoreType: optional(restoreTypeDecoder),\n    title: optional(nonEmptyStringDecoder),\n    reuseWorkspaceId: optional(nonEmptyStringDecoder),\n    frameId: optional(nonEmptyStringDecoder),\n    lockdown: optional(boolean()),\n    activateFrame: optional(boolean()),\n    newFrame: optional(oneOf<Glue42Workspaces.NewFrameConfig | boolean>(\n        newFrameConfigDecoder,\n        boolean()\n    )),\n    noTabHeader: optional(boolean()),\n    inMemoryLayout: optional(boolean())\n}));\n\nexport const openWorkspaceConfigDecoder: Decoder<OpenWorkspaceConfig> = object({\n    name: nonEmptyStringDecoder,\n    restoreOptions: optional(restoreWorkspaceConfigDecoder)\n});\n\nexport const workspaceDefinitionDecoder: Decoder<Glue42Workspaces.WorkspaceDefinition> = object({\n    children: optional(array(oneOf<Glue42Workspaces.WorkspaceWindowDefinition | Glue42Workspaces.BoxDefinition>(\n        swimlaneWindowDefinitionDecoder,\n        parentDefinitionDecoder\n    ))),\n    context: optional(anyJson()),\n    config: optional(object({\n        title: optional(nonEmptyStringDecoder),\n        position: optional(nonNegativeNumberDecoder),\n        isFocused: optional(boolean()),\n        noTabHeader: optional(boolean())\n    })),\n    frame: optional(object({\n        reuseFrameId: optional(nonEmptyStringDecoder),\n        newFrame: optional(oneOf<boolean | Glue42Workspaces.NewFrameConfig>(\n            boolean(),\n            newFrameConfigDecoder\n        ))\n    }))\n});\n\nexport const builderConfigDecoder: Decoder<Glue42Workspaces.BuilderConfig> = object({\n    type: allParentDecoder,\n    definition: optional(oneOf<Glue42Workspaces.WorkspaceDefinition | Glue42Workspaces.BoxDefinition>(\n        workspaceDefinitionDecoder,\n        parentDefinitionDecoder\n    ))\n});\n\nexport const workspaceCreateConfigDecoder: Decoder<WorkspaceCreateConfigProtocol> = intersection(\n    workspaceDefinitionDecoder,\n    object({\n        saveConfig: optional(object({\n            saveLayout: optional(boolean())\n        }))\n    })\n);\n\nexport const getFrameSummaryConfigDecoder: Decoder<GetFrameSummaryConfig> = object({\n    itemId: nonEmptyStringDecoder\n});\n\nexport const frameSummaryDecoder: Decoder<FrameSummaryResult> = object({\n    id: nonEmptyStringDecoder\n});\n\nexport const workspaceSummaryDecoder: Decoder<Glue42Workspaces.WorkspaceSummary> = object({\n    id: nonEmptyStringDecoder,\n    frameId: nonEmptyStringDecoder,\n    positionIndex: number(),\n    title: nonEmptyStringDecoder,\n    focused: boolean(),\n    layoutName: optional(nonEmptyStringDecoder)\n});\n\nexport const containerSummaryDecoder: Decoder<Glue42Workspaces.BoxSummary> = object({\n    type: subParentDecoder,\n    id: nonEmptyStringDecoder,\n    frameId: nonEmptyStringDecoder,\n    workspaceId: nonEmptyStringDecoder,\n    positionIndex: number()\n});\n\nexport const eventTypeDecoder: Decoder<WorkspaceEventType> = oneOf<\"frame\" | \"workspace\" | \"container\" | \"window\">(\n    constant(\"frame\"),\n    constant(\"workspace\"),\n    constant(\"container\"),\n    constant(\"window\")\n);\n\nexport const streamRequestArgumentsDecoder: Decoder<{ type: WorkspaceEventType; branch: string }> = object({\n    type: eventTypeDecoder,\n    branch: nonEmptyStringDecoder\n});\n\nexport const workspaceEventActionDecoder: Decoder<WorkspaceEventAction> = oneOf<\"opened\" | \"closing\" | \"closed\" | \"focus\" | \"added\" | \"loaded\" | \"removed\" | \"childrenUpdate\" | \"containerChange\" | \"maximized\" | \"minimized\" | \"normal\" | \"selected\">(\n    constant(\"opened\"),\n    constant(\"closing\"),\n    constant(\"closed\"),\n    constant(\"focus\"),\n    constant(\"added\"),\n    constant(\"loaded\"),\n    constant(\"removed\"),\n    constant(\"childrenUpdate\"),\n    constant(\"containerChange\"),\n    constant(\"maximized\"),\n    constant(\"minimized\"),\n    constant(\"normal\"),\n    constant(\"selected\")\n);\n\nexport const workspaceConfigResultDecoder: Decoder<WorkspaceConfigResult> = object({\n    frameId: nonEmptyStringDecoder,\n    title: nonEmptyStringDecoder,\n    positionIndex: nonNegativeNumberDecoder,\n    name: nonEmptyStringDecoder,\n    layoutName: optional(nonEmptyStringDecoder)\n});\n\nexport const baseChildSnapshotConfigDecoder: Decoder<BaseChildSnapshotConfig> = object({\n    frameId: nonEmptyStringDecoder,\n    workspaceId: nonEmptyStringDecoder,\n    positionIndex: nonNegativeNumberDecoder\n});\n\nexport const parentSnapshotConfigDecoder: Decoder<ParentSnapshotConfig> = anyJson();\n\nexport const swimlaneWindowSnapshotConfigDecoder: Decoder<SwimlaneWindowSnapshotConfig> = intersection(\n    baseChildSnapshotConfigDecoder,\n    object({\n        windowId: optional(nonEmptyStringDecoder),\n        isMaximized: boolean(),\n        isFocused: boolean(),\n        title: optional(string()),\n        appName: optional(nonEmptyStringDecoder)\n    })\n);\n\nexport const childSnapshotResultDecoder: Decoder<ChildSnapshotResult> = object({\n    id: nonEmptyStringDecoder,\n    config: oneOf<ParentSnapshotConfig | SwimlaneWindowSnapshotConfig>(\n        parentSnapshotConfigDecoder,\n        swimlaneWindowSnapshotConfigDecoder\n    ),\n    children: optional(lazy(() => array(childSnapshotResultDecoder))),\n    type: oneOf<\"window\" | \"row\" | \"column\" | \"group\">(\n        constant(\"window\"),\n        constant(\"row\"),\n        constant(\"column\"),\n        constant(\"group\")\n    )\n});\n\nexport const workspaceSnapshotResultDecoder: Decoder<WorkspaceSnapshotResult> = object({\n    id: nonEmptyStringDecoder,\n    config: workspaceConfigResultDecoder,\n    children: array(childSnapshotResultDecoder),\n    frameSummary: frameSummaryDecoder\n});\n\nexport const customWorkspaceChildSnapshotDecoder: Decoder<ChildSnapshotResult> = object({\n    id: optional(nonEmptyStringDecoder),\n    config: oneOf<ParentSnapshotConfig | SwimlaneWindowSnapshotConfig>(\n        parentSnapshotConfigDecoder,\n        swimlaneWindowSnapshotConfigDecoder\n    ),\n    children: optional(lazy(() => array(customWorkspaceChildSnapshotDecoder))),\n    type: oneOf<\"window\" | \"row\" | \"column\" | \"group\">(\n        constant(\"window\"),\n        constant(\"row\"),\n        constant(\"column\"),\n        constant(\"group\")\n    )\n});\n\nexport const windowLayoutItemDecoder: Decoder<Glue42Workspaces.WindowLayoutItem> = object({\n    type: constant(\"window\"),\n    config: object({\n        appName: nonEmptyStringDecoder,\n        url: optional(nonEmptyStringDecoder)\n    })\n});\n\nexport const groupLayoutItemDecoder: Decoder<Glue42Workspaces.GroupLayoutItem> = object({\n    type: constant(\"group\"),\n    config: anyJson(),\n    children: array(oneOf<Glue42Workspaces.WindowLayoutItem>(\n        windowLayoutItemDecoder\n    ))\n});\n\nexport const columnLayoutItemDecoder: Decoder<Glue42Workspaces.ColumnLayoutItem> = object({\n    type: constant(\"column\"),\n    config: anyJson(),\n    children: array(oneOf<Glue42Workspaces.RowLayoutItem | Glue42Workspaces.ColumnLayoutItem | Glue42Workspaces.GroupLayoutItem | Glue42Workspaces.WindowLayoutItem>(\n        groupLayoutItemDecoder,\n        windowLayoutItemDecoder,\n        lazy(() => columnLayoutItemDecoder),\n        lazy(() => rowLayoutItemDecoder)\n    ))\n});\n\nexport const rowLayoutItemDecoder: Decoder<Glue42Workspaces.RowLayoutItem> = object({\n    type: constant(\"row\"),\n    config: anyJson(),\n    children: array(oneOf<Glue42Workspaces.RowLayoutItem | Glue42Workspaces.ColumnLayoutItem | Glue42Workspaces.GroupLayoutItem | Glue42Workspaces.WindowLayoutItem>(\n        columnLayoutItemDecoder,\n        groupLayoutItemDecoder,\n        windowLayoutItemDecoder,\n        lazy(() => rowLayoutItemDecoder)\n    ))\n});\n\nexport const workspaceLayoutDecoder: Decoder<Glue42Workspaces.WorkspaceLayout> = object({\n    name: nonEmptyStringDecoder,\n    type: constant(\"Workspace\"),\n    metadata: optional(anyJson()),\n    components: array(object({\n        type: constant(\"Workspace\"),\n        state: object({\n            config: anyJson(),\n            context: anyJson(),\n            children: array(oneOf<Glue42Workspaces.RowLayoutItem | Glue42Workspaces.ColumnLayoutItem | Glue42Workspaces.GroupLayoutItem | Glue42Workspaces.WindowLayoutItem>(\n                rowLayoutItemDecoder,\n                columnLayoutItemDecoder,\n                groupLayoutItemDecoder,\n                windowLayoutItemDecoder\n            ))\n        })\n    }))\n});\n\nexport const exportedLayoutsResultDecoder: Decoder<ExportedLayoutsResult> = object({\n    layouts: array(workspaceLayoutDecoder)\n});\n\nexport const frameSummaryResultDecoder: Decoder<FrameSummaryResult> = object({\n    id: nonEmptyStringDecoder,\n});\n\nexport const frameSummariesResultDecoder: Decoder<FrameSummariesResult> = object({\n    summaries: array(frameSummaryResultDecoder)\n});\n\nexport const workspaceSummaryResultDecoder: Decoder<WorkspaceSummaryResult> = object({\n    id: nonEmptyStringDecoder,\n    config: workspaceConfigResultDecoder\n});\n\nexport const workspaceSummariesResultDecoder: Decoder<WorkspaceSummariesResult> = object({\n    summaries: array(workspaceSummaryResultDecoder)\n});\n\nexport const frameSnapshotResultDecoder: Decoder<FrameSnapshotResult> = object({\n    id: nonEmptyStringDecoder,\n    config: anyJson(),\n    workspaces: array(workspaceSnapshotResultDecoder)\n});\n\nexport const layoutSummaryDecoder: Decoder<LayoutSummary> = object({\n    name: nonEmptyStringDecoder\n});\n\nexport const layoutSummariesDecoder: Decoder<LayoutSummariesResult> = object({\n    summaries: array(layoutSummaryDecoder)\n});\n\nexport const simpleWindowOperationSuccessResultDecoder: Decoder<SimpleWindowOperationSuccessResult> = object({\n    windowId: nonEmptyStringDecoder\n});\n\nexport const voidResultDecoder: Decoder<{}> = anyJson();\n\nexport const frameStateResultDecoder: Decoder<FrameStateResult> = object({\n    state: frameStateDecoder\n});\n\nexport const resizeConfigDecoder: Decoder<Glue42Workspaces.ResizeConfig> = object({\n    width: optional(nonNegativeNumberDecoder),\n    height: optional(nonNegativeNumberDecoder),\n    relative: optional(boolean())\n});\n\nexport const moveConfigDecoder: Decoder<Glue42Workspaces.MoveConfig> = object({\n    top: optional(number()),\n    left: optional(number()),\n    relative: optional(boolean())\n});\n\nexport const simpleItemConfigDecoder: Decoder<SimpleItemConfig> = object({\n    itemId: nonEmptyStringDecoder\n});\n\nexport const frameStateConfigDecoder: Decoder<FrameStateConfig> = object({\n    frameId: nonEmptyStringDecoder,\n    requestedState: frameStateDecoder\n});\n\nexport const setItemTitleConfigDecoder: Decoder<SetItemTitleConfig> = object({\n    itemId: nonEmptyStringDecoder,\n    title: nonEmptyStringDecoder\n});\n\nexport const moveWindowConfigDecoder: Decoder<MoveWindowConfig> = object({\n    itemId: nonEmptyStringDecoder,\n    containerId: nonEmptyStringDecoder\n});\n\nexport const resizeItemConfigDecoder: Decoder<ResizeItemConfig> = intersection(\n    simpleItemConfigDecoder,\n    resizeConfigDecoder\n);\n\nexport const moveFrameConfigDecoder: Decoder<MoveFrameConfig> = intersection(\n    simpleItemConfigDecoder,\n    moveConfigDecoder\n);\n\nexport const simpleParentDecoder: Decoder<{ id: string; type: \"row\" | \"column\" | \"group\" }> = object({\n    id: nonEmptyStringDecoder,\n    type: subParentDecoder\n});\n\nexport const addWindowConfigDecoder: Decoder<AddWindowConfig> = object({\n    definition: swimlaneWindowDefinitionDecoder,\n    parentId: nonEmptyStringDecoder,\n    parentType: allParentDecoder\n});\n\nexport const addContainerConfigDecoder: Decoder<AddContainerConfig> = object({\n    definition: strictParentDefinitionDecoder,\n    parentId: nonEmptyStringDecoder,\n    parentType: allParentDecoder\n});\n\nexport const addItemResultDecoder: Decoder<AddItemResult> = object({\n    itemId: nonEmptyStringDecoder,\n    windowId: optional(nonEmptyStringDecoder)\n});\n\nexport const pingResultDecoder: Decoder<PingResult> = object({\n    live: boolean()\n});\n\nexport const bundleConfigDecoder: Decoder<BundleConfig> = object({\n    type: oneOf<\"row\" | \"column\">(\n        constant(\"row\"),\n        constant(\"column\")\n    ),\n    workspaceId: nonEmptyStringDecoder\n});\n\nexport const containerSummaryResultDecoder: Decoder<ContainerSummaryResult> = object({\n    itemId: nonEmptyStringDecoder,\n    config: parentSnapshotConfigDecoder\n});\n\nexport const frameStreamDataDecoder: Decoder<FrameStreamData> = object({\n    frameSummary: frameSummaryDecoder\n});\n\nexport const workspaceStreamDataDecoder: Decoder<WorkspaceStreamData> = object({\n    workspaceSummary: workspaceSummaryResultDecoder,\n    frameSummary: frameSummaryDecoder\n});\n\nexport const containerStreamDataDecoder: Decoder<ContainerStreamData> = object({\n    containerSummary: containerSummaryResultDecoder\n});\n\nexport const windowStreamDataDecoder: Decoder<WindowStreamData> = object({\n    windowSummary: object({\n        itemId: nonEmptyStringDecoder,\n        parentId: nonEmptyStringDecoder,\n        config: swimlaneWindowSnapshotConfigDecoder\n    })\n});\n\nexport const workspaceLayoutSaveConfigDecoder: Decoder<Glue42Workspaces.WorkspaceLayoutSaveConfig> = object({\n    name: nonEmptyStringDecoder,\n    workspaceId: nonEmptyStringDecoder,\n    saveContext: optional(boolean())\n});\n","import { Glue42Web } from \"../../web\";\nimport { openWindowConfigDecoder, coreWindowDataDecoder, windowHelloDecoder, helloSuccessDecoder, simpleWindowDecoder, windowBoundsResultDecoder, windowUrlResultDecoder, windowMoveResizeConfigDecoder, windowTitleConfigDecoder } from \"../shared/decoders\";\nimport { BridgeOperation } from \"../shared/types\";\nimport { WebWindowModel } from \"./webWindow\";\n\nexport type WindowOperationTypes = \"openWindow\" | \"getBounds\" |\n    \"windowHello\" | \"windowAdded\" | \"windowRemoved\" | \"getUrl\" |\n    \"moveResize\" | \"focus\" | \"close\" | \"getTitle\" | \"setTitle\";\n\nexport const operations: { [key in WindowOperationTypes]: BridgeOperation } = {\n    openWindow: { name: \"openWindow\", dataDecoder: openWindowConfigDecoder, resultDecoder: coreWindowDataDecoder },\n    windowHello: { name: \"windowHello\", dataDecoder: windowHelloDecoder, resultDecoder: helloSuccessDecoder },\n    windowAdded: { name: \"windowAdded\", dataDecoder: coreWindowDataDecoder },\n    windowRemoved: { name: \"windowRemoved\", dataDecoder: simpleWindowDecoder },\n    getBounds: { name: \"getBounds\", dataDecoder: simpleWindowDecoder, resultDecoder: windowBoundsResultDecoder },\n    getUrl: { name: \"getUrl\", dataDecoder: simpleWindowDecoder, resultDecoder: windowUrlResultDecoder },\n    moveResize: { name: \"moveResize\", dataDecoder: windowMoveResizeConfigDecoder },\n    focus: { name: \"focus\", dataDecoder: simpleWindowDecoder },\n    close: { name: \"close\", dataDecoder: simpleWindowDecoder },\n    getTitle: { name: \"getTitle\", dataDecoder: simpleWindowDecoder, resultDecoder: windowTitleConfigDecoder },\n    setTitle: { name: \"setTitle\", dataDecoder: windowTitleConfigDecoder }\n};\n\nexport interface WindowProjection {\n    id: string;\n    model: WebWindowModel;\n    api: Glue42Web.Windows.WebWindow;\n}\n\nexport interface WindowHello {\n    windowId?: string;\n}\n\nexport interface OpenWindowConfig {\n    name: string;\n    url: string;\n    options?: Glue42Web.Windows.Settings;\n}\n\nexport interface SimpleWindowCommand {\n    windowId: string;\n}\n\nexport interface WindowTitleConfig {\n    windowId: string;\n    title: string;\n}\n\nexport interface WindowMoveResizeConfig {\n    windowId: string;\n    top?: number;\n    left?: number;\n    width?: number;\n    height?: number;\n    relative?: boolean;\n}\n\nexport interface HelloSuccess {\n    windows: CoreWindowData[];\n    isWorkspaceFrame: boolean;\n}\n\nexport interface CoreWindowData {\n    windowId: string;\n    name: string;\n}\n\nexport interface WindowBoundsResult {\n    windowId: string;\n    bounds: Glue42Web.Windows.Bounds;\n}\n\nexport interface WindowUrlResult {\n    windowId: string;\n    url: string;\n}\n","\"use strict\";\r\nfunction createRegistry(options) {\r\n    if (options && options.errorHandling\r\n        && typeof options.errorHandling !== \"function\"\r\n        && options.errorHandling !== \"log\"\r\n        && options.errorHandling !== \"silent\"\r\n        && options.errorHandling !== \"throw\") {\r\n        throw new Error(\"Invalid options passed to createRegistry. Prop errorHandling should be [\\\"log\\\" | \\\"silent\\\" | \\\"throw\\\" | (err) => void], but \" + typeof options.errorHandling + \" was passed\");\r\n    }\r\n    var _userErrorHandler = options && typeof options.errorHandling === \"function\" && options.errorHandling;\r\n    var callbacks = {};\r\n    function add(key, callback) {\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey) {\r\n            callbacksForKey = [];\r\n            callbacks[key] = callbacksForKey;\r\n        }\r\n        callbacksForKey.push(callback);\r\n        return function () {\r\n            var allForKey = callbacks[key];\r\n            if (!allForKey) {\r\n                return;\r\n            }\r\n            allForKey = allForKey.reduce(function (acc, element, index) {\r\n                if (!(element === callback && acc.length === index)) {\r\n                    acc.push(element);\r\n                }\r\n                return acc;\r\n            }, []);\r\n            callbacks[key] = allForKey;\r\n        };\r\n    }\r\n    function execute(key) {\r\n        var argumentsArr = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            argumentsArr[_i - 1] = arguments[_i];\r\n        }\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey || callbacksForKey.length === 0) {\r\n            return [];\r\n        }\r\n        var results = [];\r\n        callbacksForKey.forEach(function (callback) {\r\n            try {\r\n                var result = callback.apply(undefined, argumentsArr);\r\n                results.push(result);\r\n            }\r\n            catch (err) {\r\n                results.push(undefined);\r\n                _handleError(err, key);\r\n            }\r\n        });\r\n        return results;\r\n    }\r\n    function _handleError(exceptionArtifact, key) {\r\n        var errParam = exceptionArtifact instanceof Error ? exceptionArtifact : new Error(exceptionArtifact);\r\n        if (_userErrorHandler) {\r\n            _userErrorHandler(errParam);\r\n            return;\r\n        }\r\n        var msg = \"[ERROR] callback-registry: User callback for key \\\"\" + key + \"\\\" failed: \" + errParam.stack;\r\n        if (options) {\r\n            switch (options.errorHandling) {\r\n                case \"log\":\r\n                    return console.error(msg);\r\n                case \"silent\":\r\n                    return;\r\n                case \"throw\":\r\n                    throw new Error(msg);\r\n            }\r\n        }\r\n        console.error(msg);\r\n    }\r\n    function clear() {\r\n        callbacks = {};\r\n    }\r\n    function clearKey(key) {\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey) {\r\n            return;\r\n        }\r\n        delete callbacks[key];\r\n    }\r\n    return {\r\n        add: add,\r\n        execute: execute,\r\n        clear: clear,\r\n        clearKey: clearKey\r\n    };\r\n}\r\n;\r\ncreateRegistry.default = createRegistry;\r\nmodule.exports = createRegistry;\r\n//# sourceMappingURL=index.js.map","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { number } from \"decoder-validate\";\nimport { Glue42Web } from \"../../web\";\nimport { GlueBridge } from \"../communication/bridge\";\nimport { anyDecoder, boundsDecoder, nonEmptyStringDecoder, nonNegativeNumberDecoder } from \"../shared/decoders\";\nimport { operations, SimpleWindowCommand, WindowBoundsResult, WindowMoveResizeConfig, WindowTitleConfig, WindowUrlResult } from \"./protocol\";\nimport {\n    default as CallbackRegistryFactory,\n    CallbackRegistry,\n    UnsubscribeFunction,\n} from \"callback-registry\";\n\nexport class WebWindowModel {\n    private readonly registry: CallbackRegistry = CallbackRegistryFactory();\n    private readonly myCtxKey: string;\n    private ctxUnsubscribe: UnsubscribeFunction | undefined;\n    private me!: Glue42Web.Windows.WebWindow;\n\n    constructor(private readonly _id: string, private readonly _name: string, private readonly _bridge: GlueBridge) {\n        this.myCtxKey = `___window___${this.id}`;\n    }\n\n    public get id(): string {\n        return this._id.slice();\n    }\n\n    public get name(): string {\n        return this._name.slice();\n    }\n\n    public clean(): void {\n        if (this.ctxUnsubscribe) {\n            this.ctxUnsubscribe();\n        }\n    }\n\n    public async toApi(): Promise<Glue42Web.Windows.WebWindow> {\n\n        this.ctxUnsubscribe = await this._bridge.contextLib.subscribe(this.myCtxKey, (data) => this.registry.execute(\"context-updated\", data));\n\n        const api = {\n            id: this.id,\n            name: this.name,\n            getURL: this.getURL.bind(this),\n            moveResize: this.moveResize.bind(this),\n            resizeTo: this.resizeTo.bind(this),\n            moveTo: this.moveTo.bind(this),\n            focus: this.focus.bind(this),\n            close: this.close.bind(this),\n            getTitle: this.getTitle.bind(this),\n            setTitle: this.setTitle.bind(this),\n            getBounds: this.getBounds.bind(this),\n            getContext: this.getContext.bind(this),\n            updateContext: this.updateContext.bind(this),\n            setContext: this.setContext.bind(this),\n            onContextUpdated: this.onContextUpdated.bind(this)\n        };\n        \n        this.me = Object.freeze(api);\n\n        return this.me;\n    }\n\n    private async getURL(): Promise<string> {\n        const result = await this._bridge.send<SimpleWindowCommand, WindowUrlResult>(\"windows\", operations.getUrl, { windowId: this.id });\n\n        return result.url;\n    }\n\n    private async moveResize(dimension: Partial<Glue42Web.Windows.Bounds>): Promise<Glue42Web.Windows.WebWindow> {\n        const targetBounds = boundsDecoder.runWithException(dimension);\n\n        const commandArgs = Object.assign({}, targetBounds, { windowId: this.id, relative: false });\n\n        await this._bridge.send<WindowMoveResizeConfig, void>(\"windows\", operations.moveResize, commandArgs);\n\n        return this.me;\n    }\n\n    private async resizeTo(width?: number, height?: number): Promise<Glue42Web.Windows.WebWindow> {\n        if (typeof width === \"undefined\" && typeof height === \"undefined\") {\n            return this.me;\n        }\n\n        if (typeof width !== \"undefined\") {\n            nonNegativeNumberDecoder.runWithException(width);\n        }\n\n        if (typeof height !== \"undefined\") {\n            nonNegativeNumberDecoder.runWithException(height);\n        }\n\n        const commandArgs = Object.assign({}, { width, height }, { windowId: this.id, relative: true });\n\n        await this._bridge.send<WindowMoveResizeConfig, void>(\"windows\", operations.moveResize, commandArgs);\n\n        return this.me;\n    }\n\n    private async moveTo(top?: number, left?: number): Promise<Glue42Web.Windows.WebWindow> {\n        if (typeof top === \"undefined\" && typeof left === \"undefined\") {\n            return this.me;\n        }\n\n        if (typeof top !== \"undefined\") {\n            number().runWithException(top);\n        }\n\n        if (typeof left !== \"undefined\") {\n            number().runWithException(left);\n        }\n\n        const commandArgs = Object.assign({}, { top, left }, { windowId: this.id, relative: true });\n\n        await this._bridge.send<WindowMoveResizeConfig, void>(\"windows\", operations.moveResize, commandArgs);\n\n        return this.me;\n    }\n\n    private async focus(): Promise<Glue42Web.Windows.WebWindow> {\n        await this._bridge.send<SimpleWindowCommand, void>(\"windows\", operations.focus, { windowId: this.id });\n\n        return this.me;\n    }\n\n    private async close(): Promise<Glue42Web.Windows.WebWindow> {\n        await this._bridge.send<SimpleWindowCommand, void>(\"windows\", operations.close, { windowId: this.id });\n\n        return this.me;\n    }\n\n    private async getTitle(): Promise<string> {\n        const result = await this._bridge.send<SimpleWindowCommand, WindowTitleConfig>(\"windows\", operations.getTitle, { windowId: this.id });\n\n        return result.title;\n    }\n\n    private async setTitle(title: string): Promise<Glue42Web.Windows.WebWindow> {\n        const ttl = nonEmptyStringDecoder.runWithException(title);\n\n        await this._bridge.send<WindowTitleConfig, void>(\"windows\", operations.setTitle, { windowId: this.id, title: ttl });\n\n        return this.me;\n    }\n\n    private async getBounds(): Promise<Glue42Web.Windows.Bounds> {\n        const result = await this._bridge.send<SimpleWindowCommand, WindowBoundsResult>(\"windows\", operations.getBounds, { windowId: this.id });\n\n        return result.bounds;\n    }\n\n    private async getContext(): Promise<any> {\n        const ctx = await this._bridge.contextLib.get(this.myCtxKey);\n        return ctx;\n    }\n\n    private async updateContext(context: any): Promise<Glue42Web.Windows.WebWindow> {\n        const ctx = anyDecoder.runWithException(context);\n\n        await this._bridge.contextLib.update(this.myCtxKey, ctx);\n\n        return this.me;\n    }\n\n    private async setContext(context: any): Promise<Glue42Web.Windows.WebWindow> {\n        const ctx = anyDecoder.runWithException(context);\n\n        await this._bridge.contextLib.set(this.myCtxKey, ctx);\n\n        return this.me;\n    }\n\n    private onContextUpdated(callback: (context: any, window: Glue42Web.Windows.WebWindow) => void): UnsubscribeFunction {\n        if (typeof callback !== \"function\") {\n            throw new Error(\"Cannot subscribe to context changes, because the provided callback is not a function\");\n        }\n\n        const wrappedCallback = (data: any): void => {\n            callback(data, this.me);\n        };\n\n        return this.registry.add(\"context-updated\", wrappedCallback);\n    }\n\n}","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { Glue42Core } from \"@glue42/core\";\nimport { Glue42Web } from \"../../web\";\nimport { GlueBridge } from \"../communication/bridge\";\nimport { nonEmptyStringDecoder, windowOpenSettingsDecoder, windowOperationTypesDecoder } from \"../shared/decoders\";\nimport { LibController } from \"../shared/types\";\nimport { HelloSuccess, OpenWindowConfig, CoreWindowData, WindowHello, operations, WindowBoundsResult, WindowTitleConfig, WindowUrlResult, WindowMoveResizeConfig, WindowProjection } from \"./protocol\";\nimport {\n    default as CallbackRegistryFactory,\n    CallbackRegistry,\n    UnsubscribeFunction,\n} from \"callback-registry\";\nimport { IoC } from \"../shared/ioc\";\n\nexport class WindowsController implements LibController {\n\n    private readonly registry: CallbackRegistry = CallbackRegistryFactory();\n    private platformRegistration!: Promise<void>;\n    private ioc!: IoC;\n    private bridge!: GlueBridge;\n    private publicWindowId!: string;\n    private actualWindowId: string | undefined;\n    private allWindowProjections: WindowProjection[] = [];\n    private me!: Glue42Web.Windows.WebWindow;\n    private logger!: Glue42Web.Logger.API;\n\n    public async start(coreGlue: Glue42Core.GlueCore, ioc: IoC): Promise<void> {\n\n        this.logger = coreGlue.logger.subLogger(\"windows.controller.web\");\n\n        this.logger.trace(\"starting the web windows controller\");\n\n        this.publicWindowId = (coreGlue as any).connection.transport.publicWindowId;\n        this.actualWindowId = coreGlue.interop.instance.windowId;\n\n        this.addWindowOperationExecutors();\n\n        this.ioc = ioc;\n        this.bridge = ioc.bridge;\n\n        this.logger.trace(`set the public window id: ${this.publicWindowId} and actual window id: ${this.actualWindowId}, set the bridge operations and ioc, registering with the platform now`);\n\n        this.platformRegistration = this.registerWithPlatform();\n\n        await this.platformRegistration;\n\n        this.logger.trace(\"registration with the platform successful, attaching the windows property to glue and returning\");\n\n        const api = this.toApi();\n\n        (coreGlue as Glue42Web.API).windows = api;\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    public async handleBridgeMessage(args: any): Promise<void> {\n        await this.platformRegistration;\n\n        const operationName = windowOperationTypesDecoder.runWithException(args.operation);\n\n        const operation = operations[operationName];\n\n        if (!operation.execute) {\n            return;\n        }\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        let operationData: any = args.data;\n\n        if (operation.dataDecoder) {\n            operationData = operation.dataDecoder.runWithException(args.data);\n        }\n\n        return await operation.execute(operationData);\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    private async open(name: string, url: string, options?: Glue42Web.Windows.Settings): Promise<Glue42Web.Windows.WebWindow> {\n        nonEmptyStringDecoder.runWithException(name);\n        nonEmptyStringDecoder.runWithException(url);\n        const settings = windowOpenSettingsDecoder.runWithException(options);\n\n        const windowSuccess = await this.bridge.send<OpenWindowConfig, CoreWindowData>(\"windows\", operations.openWindow, { name, url, options: settings });\n\n        const projection = await this.ioc.buildWebWindow(windowSuccess.windowId, windowSuccess.name);\n\n        return projection.api;\n    }\n\n    private list(): Glue42Web.Windows.WebWindow[] {\n        return this.allWindowProjections.map((projection) => projection.api);\n    }\n\n    private findById(id: string): Glue42Web.Windows.WebWindow | undefined {\n        nonEmptyStringDecoder.runWithException(id);\n\n        return this.allWindowProjections.find((projection) => projection.id === id)?.api;\n    }\n\n    private toApi(): Glue42Web.Windows.API {\n        return {\n            open: this.open.bind(this),\n            my: this.my.bind(this),\n            list: this.list.bind(this),\n            findById: this.findById.bind(this),\n            onWindowAdded: this.onWindowAdded.bind(this),\n            onWindowRemoved: this.onWindowRemoved.bind(this)\n        };\n    }\n\n    private addWindowOperationExecutors(): void {\n        operations.windowAdded.execute = this.handleWindowAdded.bind(this);\n        operations.windowRemoved.execute = this.handleWindowRemoved.bind(this);\n        operations.getBounds.execute = this.handleGetBounds.bind(this);\n        operations.getTitle.execute = this.handleGetTitle.bind(this);\n        operations.getUrl.execute = this.handleGetUrl.bind(this);\n        operations.moveResize.execute = this.handleMoveResize.bind(this);\n        operations.setTitle.execute = this.handleSetTitle.bind(this);\n    }\n\n    private my(): Glue42Web.Windows.WebWindow {\n        return Object.assign({}, this.me);\n    }\n\n    private onWindowAdded(callback: (window: Glue42Web.Windows.WebWindow) => void): UnsubscribeFunction {\n        return this.registry.add(\"window-added\", callback);\n    }\n\n    private onWindowRemoved(callback: (window: Glue42Web.Windows.WebWindow) => void): UnsubscribeFunction {\n        return this.registry.add(\"window-removed\", callback);\n    }\n\n    private async sayHello(): Promise<HelloSuccess> {\n        const helloSuccess = await this.bridge.send<WindowHello, HelloSuccess>(\"windows\", operations.windowHello, { windowId: this.actualWindowId });\n\n        return helloSuccess;\n    }\n\n    private async registerWithPlatform(): Promise<void> {\n\n        const { windows, isWorkspaceFrame } = await this.sayHello();\n\n        this.logger.trace(\"the platform responded to the hello message\");\n\n        if (!isWorkspaceFrame) {\n            this.logger.trace(\"i am not treated as a workspace frame, setting my window\");\n\n            const myWindow = windows.find((w) => w.windowId === this.publicWindowId);\n\n            if (!myWindow) {\n                throw new Error(\"Cannot initialize the window library, because I received no information about me from the platform\");\n            }\n\n            this.me = (await this.ioc.buildWebWindow(this.publicWindowId, myWindow.name)).api;\n        }\n\n        const currentWindows = await Promise.all(windows.map((w) => this.ioc.buildWebWindow(w.windowId, w.name)));\n\n        this.logger.trace(\"all windows projections are completed, building the list collection\");\n\n        this.allWindowProjections.push(...currentWindows);\n    }\n\n    private async handleWindowAdded(data: CoreWindowData): Promise<void> {\n        if (this.allWindowProjections.some((projection) => projection.id === data.windowId)) {\n            return;\n        }\n\n        const webWindowProjection = await this.ioc.buildWebWindow(data.windowId, data.name);\n        this.allWindowProjections.push(webWindowProjection);\n\n        this.registry.execute(\"window-added\", webWindowProjection.api);\n    }\n\n    private async handleWindowRemoved(data: CoreWindowData): Promise<void> {\n        const removed = this.allWindowProjections.find((w) => w.id === data.windowId);\n\n        if (!removed) {\n            return;\n        }\n\n        this.allWindowProjections = this.allWindowProjections.filter((w) => w.id !== data.windowId);\n\n        removed.model.clean();\n\n        this.registry.execute(\"window-removed\", removed.api);\n    }\n\n    private async handleGetBounds(): Promise<WindowBoundsResult> {\n        return {\n            windowId: this.me.id,\n            bounds: {\n                top: window.screenTop,\n                left: window.screenLeft,\n                width: window.innerWidth,\n                height: window.innerHeight\n            }\n        };\n    }\n\n    private async handleGetTitle(): Promise<WindowTitleConfig> {\n        return {\n            windowId: this.me.id,\n            title: document.title\n        };\n    }\n\n    private async handleGetUrl(): Promise<WindowUrlResult> {\n        return {\n            windowId: this.me.id,\n            url: window.location.href\n        };\n    }\n\n    private async handleMoveResize(config: WindowMoveResizeConfig): Promise<void> {\n\n        const targetTop = typeof config.top === \"number\" ? config.top :\n            config.relative ? 0 : window.screenTop;\n\n        const targetLeft = typeof config.left === \"number\" ? config.left :\n            config.relative ? 0 : window.screenLeft;\n\n        const targetHeight = typeof config.height === \"number\" ? config.height :\n            config.relative ? 0 : window.innerHeight;\n\n        const targetWidth = typeof config.width === \"number\" ? config.width :\n            config.relative ? 0 : window.innerWidth;\n\n        const moveMethod = config.relative ? window.moveBy : window.moveTo;\n        const resizeMethod = config.relative ? window.resizeBy : window.resizeTo;\n\n        moveMethod(targetTop, targetLeft);\n        resizeMethod(targetWidth, targetHeight);\n    }\n\n    private async handleSetTitle(config: WindowTitleConfig): Promise<void> {\n        document.title = config.title;\n    }\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\n\r\nexport const PromiseWrap = <T>(promise: () => Promise<T>, timeoutMilliseconds: number, timeoutMessage?: string): Promise<T> => {\r\n    return new Promise<T>((resolve, reject) => {\r\n\r\n        let promiseActive = true;\r\n\r\n        const timeout = setTimeout(() => {\r\n            if (!promiseActive) {\r\n                return;\r\n            }\r\n            promiseActive = false;\r\n            const message = timeoutMessage || `Promise timeout hit: ${timeoutMilliseconds}`;\r\n\r\n            reject(message);\r\n        }, timeoutMilliseconds);\r\n\r\n        promise()\r\n            .then((result) => {\r\n                if (!promiseActive) {\r\n                    return;\r\n                }\r\n                promiseActive = false;\r\n                clearTimeout(timeout);\r\n                resolve(result);\r\n            })\r\n            .catch((error) => {\r\n                if (!promiseActive) {\r\n                    return;\r\n                }\r\n                promiseActive = false;\r\n                clearTimeout(timeout);\r\n                reject(error);\r\n            });\r\n    });\r\n};\r\n\r\nexport const PromisePlus = <T>(executor: (resolve: (value?: T | PromiseLike<T> | undefined) => void, reject: (reason?: any) => void) => void, timeoutMilliseconds: number, timeoutMessage?: string): Promise<T> => {\r\n\r\n    return new Promise<T>((resolve, reject) => {\r\n        const timeout = setTimeout(() => {\r\n\r\n            const message = timeoutMessage || `Promise timeout hit: ${timeoutMilliseconds}`;\r\n\r\n            reject(message);\r\n        }, timeoutMilliseconds);\r\n\r\n        const providedPromise = new Promise<T>(executor);\r\n\r\n        providedPromise\r\n            .then((result) => {\r\n                clearTimeout(timeout);\r\n                resolve(result);\r\n            })\r\n            .catch((error) => {\r\n                clearTimeout(timeout);\r\n                reject(error);\r\n            });\r\n    });\r\n\r\n};\r\n","import { isWindowInSwimlaneResultDecoder, frameSummaryDecoder, workspaceSnapshotResultDecoder, frameSummariesResultDecoder, workspaceCreateConfigDecoder, getFrameSummaryConfigDecoder, layoutSummariesDecoder, openWorkspaceConfigDecoder, workspaceSummariesResultDecoder, voidResultDecoder, exportedLayoutsResultDecoder, workspaceLayoutDecoder, deleteLayoutConfigDecoder, simpleItemConfigDecoder, resizeItemConfigDecoder, moveFrameConfigDecoder, frameSnapshotResultDecoder, simpleWindowOperationSuccessResultDecoder, setItemTitleConfigDecoder, moveWindowConfigDecoder, addWindowConfigDecoder, addContainerConfigDecoder, addItemResultDecoder, bundleConfigDecoder, workspaceStreamDataDecoder, frameStreamDataDecoder, containerStreamDataDecoder, windowStreamDataDecoder, workspaceLayoutSaveConfigDecoder, pingResultDecoder, frameStateConfigDecoder, frameStateResultDecoder } from \"../shared/decoders\";\nimport { ControlOperation, StreamOperation } from \"../types/protocol\";\nimport { WorkspaceEventType } from \"../types/subscription\";\n\ntype OperationsTypes = \"isWindowInWorkspace\" |\n    \"createWorkspace\" |\n    \"getAllFramesSummaries\" |\n    \"getFrameSummary\" |\n    \"getAllWorkspacesSummaries\" |\n    \"getWorkspaceSnapshot\" |\n    \"getAllLayoutsSummaries\" |\n    \"openWorkspace\" |\n    \"deleteLayout\" |\n    \"saveLayout\" |\n    \"importLayout\" |\n    \"exportAllLayouts\" |\n    \"restoreItem\" |\n    \"maximizeItem\" |\n    \"focusItem\" |\n    \"closeItem\" |\n    \"resizeItem\" |\n    \"moveFrame\" |\n    \"getFrameSnapshot\" |\n    \"forceLoadWindow\" |\n    \"ejectWindow\" |\n    \"setItemTitle\" |\n    \"moveWindowTo\" |\n    \"addWindow\" |\n    \"addContainer\" |\n    \"bundleWorkspace\" |\n    \"ping\" |\n    \"changeFrameState\" | \n    \"getFrameState\";\ntype MethodsTypes = \"control\" | \"frameStream\" | \"workspaceStream\" | \"containerStream\" | \"windowStream\";\n\nexport const webPlatformMethodName = \"T42.Web.Platform.Control\";\nexport const webPlatformWspStreamName = \"T42.Web.Platform.WSP.Stream\";\n\nexport const METHODS: { [key in MethodsTypes]: { name: string; isStream: boolean } } = {\n    control: { name: \"T42.Workspaces.Control\", isStream: false },\n    frameStream: { name: \"T42.Workspaces.Stream.Frame\", isStream: true },\n    workspaceStream: { name: \"T42.Workspaces.Stream.Workspace\", isStream: true },\n    containerStream: { name: \"T42.Workspaces.Stream.Container\", isStream: true },\n    windowStream: { name: \"T42.Workspaces.Stream.Window\", isStream: true }\n};\n\nexport const STREAMS: { [key in WorkspaceEventType]: StreamOperation } = {\n    frame: { name: \"T42.Workspaces.Stream.Frame\", payloadDecoder: frameStreamDataDecoder },\n    workspace: { name: \"T42.Workspaces.Stream.Workspace\", payloadDecoder: workspaceStreamDataDecoder },\n    container: { name: \"T42.Workspaces.Stream.Container\", payloadDecoder: containerStreamDataDecoder },\n    window: { name: \"T42.Workspaces.Stream.Window\", payloadDecoder: windowStreamDataDecoder }\n};\n\nexport const OPERATIONS: { [key in OperationsTypes]: ControlOperation } = {\n    ping: { name: \"ping\", resultDecoder: pingResultDecoder},\n    isWindowInWorkspace: { name: \"isWindowInWorkspace\", argsDecoder: simpleItemConfigDecoder, resultDecoder: isWindowInSwimlaneResultDecoder },\n    createWorkspace: { name: \"createWorkspace\", resultDecoder: workspaceSnapshotResultDecoder, argsDecoder: workspaceCreateConfigDecoder },\n    getAllFramesSummaries: { name: \"getAllFramesSummaries\", resultDecoder: frameSummariesResultDecoder },\n    getFrameSummary: { name: \"getFrameSummary\", resultDecoder: frameSummaryDecoder, argsDecoder: getFrameSummaryConfigDecoder },\n    getAllWorkspacesSummaries: { name: \"getAllWorkspacesSummaries\", resultDecoder: workspaceSummariesResultDecoder },\n    getWorkspaceSnapshot: { name: \"getWorkspaceSnapshot\", resultDecoder: workspaceSnapshotResultDecoder, argsDecoder: simpleItemConfigDecoder },\n    getAllLayoutsSummaries: { name: \"getAllLayoutsSummaries\", resultDecoder: layoutSummariesDecoder },\n    openWorkspace: { name: \"openWorkspace\", argsDecoder: openWorkspaceConfigDecoder, resultDecoder: workspaceSnapshotResultDecoder },\n    deleteLayout: { name: \"deleteLayout\", resultDecoder: voidResultDecoder, argsDecoder: deleteLayoutConfigDecoder },\n    saveLayout: { name: \"saveLayout\", resultDecoder: workspaceLayoutDecoder, argsDecoder: workspaceLayoutSaveConfigDecoder },\n    importLayout: { name: \"importLayout\", resultDecoder: voidResultDecoder, argsDecoder: workspaceLayoutDecoder },\n    exportAllLayouts: { name: \"exportAllLayouts\", resultDecoder: exportedLayoutsResultDecoder },\n    restoreItem: { name: \"restoreItem\", argsDecoder: simpleItemConfigDecoder, resultDecoder: voidResultDecoder },\n    maximizeItem: { name: \"maximizeItem\", argsDecoder: simpleItemConfigDecoder, resultDecoder: voidResultDecoder },\n    focusItem: { name: \"focusItem\", argsDecoder: simpleItemConfigDecoder, resultDecoder: voidResultDecoder },\n    closeItem: { name: \"closeItem\", argsDecoder: simpleItemConfigDecoder, resultDecoder: voidResultDecoder },\n    resizeItem: { name: \"resizeItem\", argsDecoder: resizeItemConfigDecoder, resultDecoder: voidResultDecoder },\n    changeFrameState: {name: \"changeFrameState\", argsDecoder: frameStateConfigDecoder, resultDecoder: voidResultDecoder},\n    getFrameState: {name: \"getFrameState\", argsDecoder: simpleItemConfigDecoder, resultDecoder: frameStateResultDecoder},\n    moveFrame: { name: \"moveFrame\", argsDecoder: moveFrameConfigDecoder, resultDecoder: voidResultDecoder },\n    getFrameSnapshot: { name: \"getFrameSnapshot\", argsDecoder: simpleItemConfigDecoder, resultDecoder: frameSnapshotResultDecoder },\n    forceLoadWindow: { name: \"forceLoadWindow\", argsDecoder: simpleItemConfigDecoder, resultDecoder: simpleWindowOperationSuccessResultDecoder },\n    ejectWindow: { name: \"ejectWindow\", argsDecoder: simpleItemConfigDecoder, resultDecoder: simpleWindowOperationSuccessResultDecoder },\n    setItemTitle: { name: \"setItemTitle\", argsDecoder: setItemTitleConfigDecoder, resultDecoder: voidResultDecoder },\n    moveWindowTo: { name: \"moveWindowTo\", argsDecoder: moveWindowConfigDecoder, resultDecoder: voidResultDecoder },\n    addWindow: { name: \"addWindow\", argsDecoder: addWindowConfigDecoder, resultDecoder: addItemResultDecoder },\n    addContainer: { name: \"addContainer\", argsDecoder: addContainerConfigDecoder, resultDecoder: addItemResultDecoder },\n    bundleWorkspace: { name: \"bundleWorkspace\", argsDecoder: bundleConfigDecoder, resultDecoder: voidResultDecoder }\n};\n","import { CallbackRegistry, UnsubscribeFunction } from \"callback-registry\";\nimport { SubscriptionConfig, ActiveSubscription, WorkspaceEventType, WorkspaceEventAction, WorkspacePayload, WorkspaceEventScope } from \"../types/subscription\";\nimport { STREAMS } from \"./constants\";\nimport { OPERATIONS } from \"./constants\";\nimport { eventTypeDecoder, streamRequestArgumentsDecoder, workspaceEventActionDecoder } from \"../shared/decoders\";\nimport { Glue42Workspaces } from \"../../workspaces\";\nimport { InteropTransport } from \"./interop-transport\";\n\nexport class Bridge {\n\n    private readonly activeSubscriptions: ActiveSubscription[] = [];\n\n    constructor(\n        private readonly transport: InteropTransport,\n        private readonly registry: CallbackRegistry\n    ) { }\n\n    public async createCoreEventSubscription(): Promise<void> {\n        await this.transport.coreSubscriptionReady(this.handleCoreEvent.bind(this));\n    }\n\n    public handleCoreSubscription(config: SubscriptionConfig): UnsubscribeFunction {\n        const registryKey = `${config.eventType}-${config.action}`;\n        const scope = config.scope;\n        const scopeId = config.scopeId;\n\n        return this.registry.add(registryKey, (args) => {\n            const scopeConfig = {\n                type: scope,\n                id: scopeId\n            };\n\n            const receivedIds = {\n                frame: args.frameSummary?.id || args.windowSummary?.config.frameId,\n                workspace: args.workspaceSummary?.id || args.windowSummary?.config.workspaceId,\n                window: args.windowSummary?.config.windowId\n            };\n\n            const shouldInvokeCallback = this.checkScopeMatch(scopeConfig, receivedIds);\n\n            if (!shouldInvokeCallback) {\n                return;\n            }\n\n            config.callback(args);\n        });\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    public async send<T>(operationName: string, operationArgs?: any): Promise<T> {\n\n        const operationDefinition = Object.values(OPERATIONS).find((operation) => operation.name === operationName);\n\n        if (!operationDefinition) {\n            throw new Error(`Cannot find definition for operation name: ${operationName}`);\n        }\n\n        if (operationDefinition.argsDecoder) {\n            try {\n                operationDefinition.argsDecoder.runWithException(operationArgs);\n            } catch (error) {\n                throw new Error(`Unexpected internal outgoing validation error: ${error.message}, for input: ${JSON.stringify(error.input)}`);\n            }\n        }\n\n        let operationResult;\n\n        try {\n            const operationResultRaw = await this.transport.transmitControl(operationDefinition.name, operationArgs);\n            operationResult = operationDefinition.resultDecoder.runWithException(operationResultRaw);\n        } catch (error) {\n            if (error.kind) {\n                throw new Error(`Unexpected internal incoming validation error: ${error.message}, for input: ${JSON.stringify(error.input)}`);\n            }\n            throw new Error(error.message);\n        }\n\n        return operationResult;\n    }\n\n    public async subscribe(config: SubscriptionConfig): Promise<Glue42Workspaces.Unsubscribe> {\n        let activeSub = this.getActiveSubscription(config);\n        const registryKey = this.getRegistryKey(config);\n\n        if (!activeSub) {\n            const stream = STREAMS[config.eventType];\n            const gdSub = await this.transport.subscribe(stream.name, this.getBranchKey(config), config.eventType);\n\n            gdSub.onData((streamData) => {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                const data = streamData.data as { action: string; payload: any };\n\n                // important to decode without exception, because we do not want to throw an exception here\n                const requestedArgumentsResult = streamRequestArgumentsDecoder.run(streamData.requestArguments);\n                const actionResult = workspaceEventActionDecoder.run(data.action);\n\n                if (!requestedArgumentsResult.ok || !actionResult.ok) {\n                    return;\n                }\n\n                const streamType = requestedArgumentsResult.result.type;\n                const branch = requestedArgumentsResult.result.branch;\n\n                const validatedPayload = STREAMS[streamType].payloadDecoder.run(data.payload);\n\n                if (!validatedPayload.ok) {\n                    return;\n                }\n\n                const keyToExecute = `${streamType}-${branch}-${actionResult.result}`;\n                this.registry.execute(keyToExecute, validatedPayload.result);\n            });\n\n            activeSub = {\n                streamType: config.eventType,\n                level: config.scope,\n                levelId: config.scopeId,\n                callbacksCount: 0,\n                gdSub\n            };\n\n            this.activeSubscriptions.push(activeSub);\n        }\n\n        const unsubscribe = this.registry.add(registryKey, config.callback);\n\n        ++activeSub.callbacksCount;\n\n        return (): void => {\n            unsubscribe();\n\n            --activeSub.callbacksCount;\n\n            if (activeSub.callbacksCount === 0) {\n                activeSub.gdSub.close();\n                this.activeSubscriptions.splice(this.activeSubscriptions.indexOf(activeSub), 1);\n            }\n        };\n    }\n\n    private checkScopeMatch(scope: { type: WorkspaceEventScope; id?: string }, receivedIds: { frame: string; workspace: string; window: string }): boolean {\n\n        if (scope.type === \"global\") {\n            return true;\n        }\n\n        if (scope.type === \"frame\" && scope.id === receivedIds.frame) {\n            return true;\n        }\n\n        if (scope.type === \"workspace\" && scope.id === receivedIds.workspace) {\n            return true;\n        }\n\n        if (scope.type === \"window\" && scope.id === receivedIds.window) {\n            return true;\n        }\n\n        return false;\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    private handleCoreEvent(args: any): void {\n        const data = args.data;\n        try {\n            const verifiedAction: WorkspaceEventAction = workspaceEventActionDecoder.runWithException(data.action);\n            const verifiedType: WorkspaceEventType = eventTypeDecoder.runWithException(data.type);\n            const verifiedPayload: WorkspacePayload = STREAMS[verifiedType].payloadDecoder.runWithException(data.payload);\n    \n            const registryKey = `${verifiedType}-${verifiedAction}`;\n    \n            this.registry.execute(registryKey, verifiedPayload);\n        } catch (error) {\n            console.warn(`Cannot handle event with data ${JSON.stringify(data)}, because of validation error: ${error.message}`);\n        }\n    }\n\n    private getBranchKey(config: SubscriptionConfig): string {\n        return config.scope === \"global\" ? config.scope : `${config.scope}_${config.scopeId}`;\n    }\n\n    private getRegistryKey(config: SubscriptionConfig): string {\n        return `${config.eventType}-${this.getBranchKey(config)}-${config.action}`;\n    }\n\n    private getActiveSubscription(config: SubscriptionConfig): ActiveSubscription {\n        return this.activeSubscriptions\n            .find((activeSub) => activeSub.streamType === config.eventType &&\n                activeSub.level === config.scope &&\n                activeSub.levelId === config.scopeId\n            );\n    }\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { appHelloSuccessDecoder, applicationStartConfigDecoder, baseApplicationDataDecoder, basicInstanceDataDecoder, instanceDataDecoder, windowHelloDecoder } from \"../shared/decoders\";\nimport { BridgeOperation } from \"../shared/types\";\n\nexport type AppManagerOperationTypes = \"appHello\" | \"applicationAdded\" |\n    \"applicationRemoved\" | \"applicationChanged\" | \"instanceStarted\" | \"instanceStopped\" |\n    \"applicationStart\" | \"instanceStop\";\n\nexport const operations: { [key in AppManagerOperationTypes]: BridgeOperation } = {\n    appHello: { name: \"appHello\", dataDecoder: windowHelloDecoder, resultDecoder: appHelloSuccessDecoder },\n    applicationAdded: { name: \"applicationAdded\", dataDecoder: baseApplicationDataDecoder },\n    applicationRemoved: { name: \"applicationRemoved\", dataDecoder: baseApplicationDataDecoder },\n    applicationChanged: { name: \"applicationChanged\", dataDecoder: baseApplicationDataDecoder },\n    instanceStarted: { name: \"instanceStarted\", dataDecoder: instanceDataDecoder },\n    instanceStopped: { name: \"instanceStopped\", dataDecoder: instanceDataDecoder },\n    applicationStart: { name: \"applicationStart\", dataDecoder: applicationStartConfigDecoder, resultDecoder: instanceDataDecoder },\n    instanceStop: { name: \"instanceStop\", dataDecoder: basicInstanceDataDecoder }\n};\n\nexport interface InstanceData {\n    id: string;\n    applicationName: string;\n}\n\nexport interface BaseApplicationData {\n    name: string;\n    userProperties: any;\n    title?: string;\n    version?: string;\n    icon?: string;\n    caption?: string;\n}\n\nexport interface ApplicationData extends BaseApplicationData {\n    instances: InstanceData[];\n}\n\nexport interface AppHelloSuccess {\n    apps: ApplicationData[];\n}\n\nexport interface ApplicationStartConfig {\n    name: string;\n    waitForAGMReady: boolean;\n    context?: any;\n    top?: number;\n    left?: number;\n    width?: number;\n    height?: number;\n    relativeTo?: string;\n    relativeDirection?: \"top\" | \"left\" | \"right\" | \"bottom\";\n}\n\nexport interface BasicInstanceData {\n    id: string;\n}\n","/* eslint-disable @typescript-eslint/no-unused-vars */\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { Glue42Core } from \"@glue42/core\";\nimport { Glue42Web } from \"../../web\";\nimport { GlueBridge } from \"../communication/bridge\";\nimport { appManagerOperationTypesDecoder, nonEmptyStringDecoder } from \"../shared/decoders\";\nimport { IoC } from \"../shared/ioc\";\nimport { LibController } from \"../shared/types\";\nimport { WindowHello } from \"../windows/protocol\";\nimport { AppHelloSuccess, ApplicationData, ApplicationStartConfig, InstanceData, operations } from \"./protocol\";\nimport {\n    default as CallbackRegistryFactory,\n    CallbackRegistry,\n    UnsubscribeFunction,\n} from \"callback-registry\";\n\nexport class AppManagerController implements LibController {\n    private readonly registry: CallbackRegistry = CallbackRegistryFactory();\n    private ioc!: IoC;\n    private bridge!: GlueBridge;\n    private publicWindowId!: string;\n    private actualWindowId: string | undefined;\n    private me: Glue42Web.AppManager.Instance | undefined;\n    private applications: Glue42Web.AppManager.Application[] = [];\n    private instances: Glue42Web.AppManager.Instance[] = [];\n    private platformRegistration!: Promise<void>;\n    private logger!: Glue42Web.Logger.API;\n\n    public async start(coreGlue: Glue42Core.GlueCore, ioc: IoC): Promise<void> {\n        this.logger = coreGlue.logger.subLogger(\"appManger.controller.web\");\n\n        this.logger.trace(\"starting the web appManager controller\");\n\n        this.publicWindowId = (coreGlue as any).connection.transport.publicWindowId;\n        this.actualWindowId = coreGlue.interop.instance.windowId;\n\n        this.addOperationsExecutors();\n\n        this.ioc = ioc;\n        this.bridge = ioc.bridge;\n\n        this.platformRegistration = this.registerWithPlatform();\n\n        await this.platformRegistration;\n\n        this.logger.trace(\"registration with the platform successful, attaching the appManager property to glue and returning\");\n\n        const api = this.toApi();\n\n        (coreGlue as Glue42Web.API).appManager = api;\n    }\n\n    public async handleBridgeMessage(args: any): Promise<void> {\n        await this.platformRegistration;\n\n        const operationName = appManagerOperationTypesDecoder.runWithException(args.operation);\n\n        const operation = operations[operationName];\n\n        if (!operation.execute) {\n            return;\n        }\n\n        let operationData: any = args.data;\n\n        if (operation.dataDecoder) {\n            operationData = operation.dataDecoder.runWithException(args.data);\n        }\n\n        return await operation.execute(operationData);\n    }\n\n    public onInstanceStarted(callback: (instance: Glue42Web.AppManager.Instance) => any): UnsubscribeFunction {\n        return this.registry.add(\"instance-started\", callback);\n    }\n\n    public onInstanceStopped(callback: (instance: Glue42Web.AppManager.Instance) => any): UnsubscribeFunction {\n        return this.registry.add(\"instance-stopped\", callback);\n    }\n\n    public async startApplication(appName: string, context?: object, options?: Glue42Web.AppManager.ApplicationStartOptions): Promise<Glue42Web.AppManager.Instance> {\n        const startOptions: ApplicationStartConfig = {\n            name: appName,\n            waitForAGMReady: options?.waitForAGMReady ?? true,\n            context,\n            top: options?.top,\n            left: options?.left,\n            width: options?.width,\n            height: options?.height,\n            relativeTo: options?.relativeTo,\n            relativeDirection: options?.relativeDirection\n        };\n\n        const openResult = await this.bridge.send<ApplicationStartConfig, InstanceData>(\"appManager\", operations.applicationStart, startOptions);\n\n        const app = this.applications.find((a) => a.name === openResult.applicationName) as Glue42Web.AppManager.Application;\n\n        return this.ioc.buildInstance(openResult, app);\n    }\n\n    private toApi(): Glue42Web.AppManager.API {\n        const api: Glue42Web.AppManager.API = {\n            myInstance: this.me as unknown as Glue42Web.AppManager.Instance,\n            application: this.getApplication.bind(this),\n            applications: this.getApplications.bind(this),\n            instances: this.getInstances.bind(this),\n            onAppAdded: this.onAppAdded.bind(this),\n            onAppChanged: this.onAppChanged.bind(this),\n            onAppRemoved: this.onAppRemoved.bind(this),\n            onInstanceStarted: this.onInstanceStarted.bind(this),\n            onInstanceStopped: this.onInstanceStopped.bind(this)\n        };\n\n        return Object.freeze(api);\n    }\n\n    private addOperationsExecutors(): void {\n        operations.applicationAdded.execute = this.handleApplicationAddedMessage.bind(this);\n        operations.applicationRemoved.execute = this.handleApplicationRemovedMessage.bind(this);\n        operations.applicationChanged.execute = this.handleApplicationChangedMessage.bind(this);\n        operations.instanceStarted.execute = this.handleInstanceStartedMessage.bind(this);\n        operations.instanceStopped.execute = this.handleInstanceStoppedMessage.bind(this);\n    }\n\n    private onAppAdded(callback: (app: Glue42Web.AppManager.Application) => any): UnsubscribeFunction {\n        return this.registry.add(\"application-added\", callback);\n    }\n\n    private onAppRemoved(callback: (app: Glue42Web.AppManager.Application) => any): UnsubscribeFunction {\n        return this.registry.add(\"application-removed\", callback);\n    }\n\n    private onAppChanged(callback: (app: Glue42Web.AppManager.Application) => any): UnsubscribeFunction {\n        return this.registry.add(\"application-changed\", callback);\n    }\n\n\n    private async handleApplicationAddedMessage(appData: ApplicationData): Promise<void> {\n\n        if (this.applications.some((app) => app.name === appData.name)) {\n            return;\n        }\n\n        const app = await this.ioc.buildApplication(appData);\n\n        const instances = this.instances.filter((instance) => instance.application.name === app.name);\n\n        app.instances.push(...instances);\n\n        this.applications.push(app);\n\n        this.registry.execute(\"application-added\", app);\n    }\n\n    private async handleApplicationRemovedMessage(appData: ApplicationData): Promise<void> {\n        const appIndex = this.applications.findIndex((app) => app.name === appData.name);\n\n        if (appIndex < 0) {\n            return;\n        }\n\n        const app = this.applications[appIndex];\n\n        this.applications.splice(appIndex, 1);\n\n        this.registry.execute(\"application-removed\", app);\n    }\n\n    private async handleApplicationChangedMessage(appData: ApplicationData): Promise<void> {\n        const app = this.applications.find((app) => app.name === appData.name);\n\n        if (!app) {\n            return this.handleApplicationAddedMessage(appData);\n        }\n\n        app.title = appData.title as string;\n        app.version = appData.version as string;\n        app.icon = appData.icon as string;\n        app.caption = appData.caption as string;\n        app.userProperties = appData.userProperties;\n\n        this.registry.execute(\"application-changed\", app);\n    }\n\n    private async handleInstanceStartedMessage(instanceData: InstanceData): Promise<void> {\n        if (this.instances.some((instance) => instance.id === instanceData.id)) {\n            return;\n        }\n\n        const application = this.applications.find((app) => app.name === instanceData.applicationName);\n\n        if (!application) {\n            throw new Error(`Cannot add instance: ${instanceData.id}, because there is no application definition associated with it`);\n        }\n\n        const instance = this.ioc.buildInstance(instanceData, application);\n\n        this.instances.push(instance);\n        application.instances.push(instance);\n\n        this.registry.execute(\"instance-started\", instance);\n    }\n\n    private async handleInstanceStoppedMessage(instanceData: InstanceData): Promise<void> {\n        const instance = this.instances.find((i) => i.id === instanceData.id);\n\n        if (instance) {\n            const instIdx = this.instances.findIndex((inst) => inst.id === instanceData.id);\n            this.instances.splice(instIdx, 1);\n        }\n\n        const application = this.applications.find((app) => app.instances.some((inst) => inst.id === instanceData.id));\n\n        if (application) {\n            const instIdxApps = application.instances.findIndex((inst) => inst.id === instanceData.id);\n            application.instances.splice(instIdxApps, 1);\n        }\n\n        if (!instance) {\n            return;\n        }\n\n        this.registry.execute(\"instance-stopped\", instance);\n    }\n\n    private getApplication(name: string): Glue42Web.AppManager.Application {\n        const verifiedName = nonEmptyStringDecoder.runWithException(name);\n\n        return this.applications.find((app) => app.name === verifiedName) as Glue42Web.AppManager.Application;\n    }\n\n    private getApplications(): Glue42Web.AppManager.Application[] {\n        return this.applications.slice();\n    }\n\n    private getInstances(): Glue42Web.AppManager.Instance[] {\n        return this.instances.slice();\n    }\n\n    private async registerWithPlatform(): Promise<void> {\n        const result = await this.bridge.send<WindowHello, AppHelloSuccess>(\"appManager\", operations.appHello, { windowId: this.actualWindowId });\n\n        this.logger.trace(\"the platform responded to the hello message with a full list of apps\");\n\n        this.applications = await Promise.all(result.apps.map((app) => this.ioc.buildApplication(app)));\n\n        this.instances = this.applications.reduce<Glue42Web.AppManager.Instance[]>((instancesSoFar, app) => {\n\n            instancesSoFar.push(...app.instances);\n\n            return instancesSoFar;\n        }, []);\n\n        this.me = this.findMyInstance();\n\n        this.logger.trace(`all applications were parsed and saved. I am ${this.me ? \"NOT a\" : \"a\"} valid instance`);\n    }\n\n    private findMyInstance(): Glue42Web.AppManager.Instance | undefined {\n        for (const app of this.applications) {\n            const foundInstance = app.instances.find((instance) => instance.id === this.publicWindowId);\n\n            if (foundInstance) {\n                return foundInstance;\n            }\n        }\n    }\n}\n","import { Glue42Web } from \"../../web\";\nimport { GlueBridge } from \"../communication/bridge\";\nimport { BasicInstanceData, InstanceData, operations } from \"./protocol\";\n\nexport class InstanceModel {\n    private me!: Glue42Web.AppManager.Instance;\n    private readonly myCtxKey: string;\n\n    constructor(private readonly data: InstanceData, private readonly bridge: GlueBridge, private readonly application: Glue42Web.AppManager.Application) {\n        this.myCtxKey = `___instance___${this.data.id}`;\n    }\n\n    public toApi(): Glue42Web.AppManager.Instance {\n        const agm = this.bridge.getInteropInstance(this.data.id);\n\n        const api: Glue42Web.AppManager.Instance = {\n            id: this.data.id,\n            agm,\n            application: this.application,\n            stop: this.stop.bind(this),\n            getContext: this.getContext.bind(this)\n        };\n\n        this.me = Object.freeze(api);\n\n        return this.me;\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    private async getContext(): Promise<any> {\n        return this.bridge.contextLib.get(this.myCtxKey);\n    }\n\n    private async stop(): Promise<void> {\n        await this.bridge.send<BasicInstanceData, void>(\"appManager\", operations.instanceStop, { id: this.data.id });\n    }\n}","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { Glue42Web } from \"../../web\";\nimport { AppManagerController } from \"./controller\";\nimport { ApplicationData } from \"./protocol\";\n\nexport class ApplicationModel {\n    private me!: Glue42Web.AppManager.Application;\n\n    constructor(\n        private readonly data: ApplicationData,\n        private readonly instances: Glue42Web.AppManager.Instance[],\n        private readonly controller: AppManagerController,\n    ) { }\n\n    public toApi(): Glue42Web.AppManager.Application {\n        const api: Glue42Web.AppManager.Application = {\n            name: this.data.name,\n            title: this.data.title as string,\n            version: this.data.version as string,\n            icon: this.data.icon as string,\n            caption: this.data.caption as string,\n            userProperties: this.data.userProperties,\n            instances: this.instances,\n            start: this.start.bind(this),\n            onInstanceStarted: this.onInstanceStarted.bind(this),\n            onInstanceStopped: this.onInstanceStopped.bind(this)\n        };\n\n        this.me = Object.freeze(api);\n\n        return this.me;\n    }\n\n    private onInstanceStarted(callback: (instance: Glue42Web.AppManager.Instance) => any): () => void {\n\n        if (typeof callback !== \"function\") {\n            throw new Error(\"OnInstanceStarted requires a single argument of type function\");\n        }\n\n        return this.controller.onInstanceStarted((instance) => {\n            if (instance.application.name === this.data.name) {\n                callback(instance);\n            }\n        });\n    }\n\n    private onInstanceStopped(callback: (instance: Glue42Web.AppManager.Instance) => any): () => void {\n        if (typeof callback !== \"function\") {\n            throw new Error(\"OnInstanceStarted requires a single argument of type function\");\n        }\n\n        return this.controller.onInstanceStopped((instance) => {\n            if (instance.application.name === this.data.name) {\n                callback(instance);\n            }\n        });\n    }\n\n    private async start(context?: object, options?: Glue42Web.AppManager.ApplicationStartOptions): Promise<Glue42Web.AppManager.Instance> {\n        // todo: validation\n        return this.controller.startApplication(this.data.name, context, options);\n    }\n}","import { Glue42Web } from \"../../web\";\nimport { allLayoutsFullConfigDecoder, allLayoutsSummariesResultDecoder, getAllLayoutsConfigDecoder, glueLayoutDecoder, optionalSimpleLayoutResult, simpleLayoutConfigDecoder } from \"../shared/decoders\";\nimport { BridgeOperation } from \"../shared/types\";\n\nexport type LayoutsOperationTypes = \"layoutAdded\" | \"layoutChanged\" | \"layoutRemoved\" |\n    \"get\" | \"getAll\" | \"export\" | \"import\" | \"remove\";\n\nexport const operations: { [key in LayoutsOperationTypes]: BridgeOperation } = {\n    layoutAdded: { name: \"layoutAdded\", dataDecoder: glueLayoutDecoder },\n    layoutChanged: { name: \"layoutChanged\", dataDecoder: glueLayoutDecoder },\n    layoutRemoved: { name: \"layoutRemoved\", dataDecoder: glueLayoutDecoder },\n    get: { name: \"get\", dataDecoder: simpleLayoutConfigDecoder, resultDecoder: optionalSimpleLayoutResult },\n    getAll: { name: \"getAll\", dataDecoder: getAllLayoutsConfigDecoder, resultDecoder: allLayoutsSummariesResultDecoder },\n    export: { name: \"export\", dataDecoder: getAllLayoutsConfigDecoder, resultDecoder: allLayoutsFullConfigDecoder },\n    import: { name: \"import\", dataDecoder: allLayoutsFullConfigDecoder },\n    remove: { name: \"remove\", dataDecoder: simpleLayoutConfigDecoder }\n};\n\nexport interface SimpleLayoutConfig {\n    name: string;\n    type: Glue42Web.Layouts.LayoutType;\n}\n\nexport interface GetAllLayoutsConfig {\n    type: Glue42Web.Layouts.LayoutType;\n}\n\nexport interface AllLayoutsFullConfig {\n    layouts: Glue42Web.Layouts.Layout[];\n}\n\nexport interface AllLayoutsSummariesResult {\n    summaries: Glue42Web.Layouts.LayoutSummary[];\n}\n\nexport interface SimpleLayoutResult {\n    layout: Glue42Web.Layouts.Layout;\n}\n\nexport interface OptionalSimpleLayoutResult {\n    layout?: Glue42Web.Layouts.Layout;\n}","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { Glue42Core } from \"@glue42/core\";\nimport { IoC } from \"../shared/ioc\";\nimport { LibController } from \"../shared/types\";\nimport {\n    default as CallbackRegistryFactory,\n    CallbackRegistry,\n    UnsubscribeFunction,\n} from \"callback-registry\";\nimport { Glue42Web } from \"../../web\";\nimport { GlueBridge } from \"../communication/bridge\";\nimport { glueLayoutDecoder, layoutsOperationTypesDecoder, layoutTypeDecoder, newLayoutOptionsDecoder, nonEmptyStringDecoder, restoreOptionsDecoder } from \"../shared/decoders\";\nimport { AllLayoutsFullConfig, AllLayoutsSummariesResult, GetAllLayoutsConfig, operations, OptionalSimpleLayoutResult, SimpleLayoutConfig } from \"./protocol\";\n\nexport class LayoutsController implements LibController {\n    private readonly registry: CallbackRegistry = CallbackRegistryFactory();\n    private bridge!: GlueBridge;\n    private logger!: Glue42Web.Logger.API;\n\n    public async start(coreGlue: Glue42Core.GlueCore, ioc: IoC): Promise<void> {\n        this.logger = coreGlue.logger.subLogger(\"layouts.controller.web\");\n\n        this.logger.trace(\"starting the web layouts controller\");\n\n        this.bridge = ioc.bridge;\n\n        this.addOperationsExecutors();\n\n        const api = this.toApi();\n\n        this.logger.trace(\"no need for platform registration, attaching the layouts property to glue and returning\");\n\n        (coreGlue as Glue42Web.API).layouts = api;\n    }\n\n    public async handleBridgeMessage(args: any): Promise<void> {\n        const operationName = layoutsOperationTypesDecoder.runWithException(args.operation);\n\n        const operation = operations[operationName];\n\n        if (!operation.execute) {\n            return;\n        }\n\n        let operationData: any = args.data;\n\n        if (operation.dataDecoder) {\n            operationData = operation.dataDecoder.runWithException(args.data);\n        }\n\n        return await operation.execute(operationData);\n    }\n\n    private toApi(): Glue42Web.Layouts.API {\n        const api: Glue42Web.Layouts.API = {\n            get: this.get.bind(this),\n            getAll: this.getAll.bind(this),\n            export: this.export.bind(this),\n            import: this.import.bind(this),\n            save: this.save.bind(this),\n            restore: this.restore.bind(this),\n            remove: this.remove.bind(this),\n            onAdded: this.onAdded.bind(this),\n            onChanged: this.onChanged.bind(this),\n            onRemoved: this.onRemoved.bind(this)\n        };\n\n        return Object.freeze(api);\n    }\n\n    private addOperationsExecutors(): void {\n        operations.layoutAdded.execute = this.handleOnAdded.bind(this);\n        operations.layoutChanged.execute = this.handleOnChanged.bind(this);\n        operations.layoutRemoved.execute = this.handleOnRemoved.bind(this);\n    }\n\n    private async get(name: string, type: Glue42Web.Layouts.LayoutType): Promise<Glue42Web.Layouts.Layout | undefined> {\n        nonEmptyStringDecoder.runWithException(name);\n        layoutTypeDecoder.runWithException(type);\n\n        const result = await this.bridge.send<SimpleLayoutConfig, OptionalSimpleLayoutResult>(\"layouts\", operations.get, { name, type });\n\n        return result.layout;\n    }\n\n    private async getAll(type: Glue42Web.Layouts.LayoutType): Promise<Glue42Web.Layouts.LayoutSummary[]> {\n        layoutTypeDecoder.runWithException(type);\n\n        const result = await this.bridge.send<GetAllLayoutsConfig, AllLayoutsSummariesResult>(\"layouts\", operations.getAll, { type });\n\n        return result.summaries;\n    }\n\n    private async export(type?: Glue42Web.Layouts.LayoutType): Promise<Glue42Web.Layouts.Layout[]> {\n        if (type) {\n            layoutTypeDecoder.runWithException(type);\n        }\n\n        // supports only workspaces for the moment\n        const result = await this.bridge.send<GetAllLayoutsConfig, AllLayoutsFullConfig>(\"layouts\", operations.export, { type: \"Workspace\" });\n\n        return result.layouts;\n    }\n\n    private async import(layouts: Glue42Web.Layouts.Layout[]): Promise<void> {\n        layouts.forEach((layout) => glueLayoutDecoder.runWithException(layout));\n\n        await this.bridge.send<AllLayoutsFullConfig, void>(\"layouts\", operations.import, { layouts });\n    }\n\n    private async save(layout: Glue42Web.Layouts.NewLayoutOptions): Promise<Glue42Web.Layouts.Layout> {\n        newLayoutOptionsDecoder.runWithException(layout);\n\n        throw new Error(\"Save is not supported in Core at the moment\");\n    }\n\n    private async restore(options: Glue42Web.Layouts.RestoreOptions): Promise<void> {\n        restoreOptionsDecoder.runWithException(options);\n\n        throw new Error(\"Restore is not supported in Core at the moment\");\n    }\n\n    private async remove(type: Glue42Web.Layouts.LayoutType, name: string): Promise<void> {\n        layoutTypeDecoder.runWithException(type);\n        nonEmptyStringDecoder.runWithException(name);\n\n        await this.bridge.send<SimpleLayoutConfig, void>(\"layouts\", operations.remove, { type, name });\n    }\n\n    private onAdded(callback: (layout: Glue42Web.Layouts.Layout) => void): UnsubscribeFunction {\n        return this.registry.add(operations.layoutAdded.name, callback);\n    }\n\n    private onChanged(callback: (layout: Glue42Web.Layouts.Layout) => void): UnsubscribeFunction {\n        return this.registry.add(operations.layoutChanged.name, callback);\n    }\n\n    private onRemoved(callback: (layout: Glue42Web.Layouts.Layout) => void): UnsubscribeFunction {\n        return this.registry.add(operations.layoutRemoved.name, callback);\n    }\n\n    private async handleOnAdded(layout: Glue42Web.Layouts.Layout): Promise<void> {\n        this.registry.execute(operations.layoutAdded.name, layout);\n    }\n\n    private async handleOnChanged(layout: Glue42Web.Layouts.Layout): Promise<void> {\n        this.registry.execute(operations.layoutChanged.name, layout);\n    }\n\n    private async handleOnRemoved(layout: Glue42Web.Layouts.Layout): Promise<void> {\n        this.registry.execute(operations.layoutRemoved.name, layout);\n    }\n}","import { Glue42Core } from \"@glue42/core\";\r\nimport { Glue42Web } from \"../../web\";\r\nimport { LibController } from \"../shared/types\";\r\n\r\nexport class NotificationsController implements LibController {\r\n    private logger!: Glue42Web.Logger.API;\r\n    private interop!: Glue42Core.AGM.API;\r\n\r\n    public async start(coreGlue: Glue42Core.GlueCore): Promise<void> {\r\n        this.logger = coreGlue.logger.subLogger(\"notifications.controller.web\");\r\n\r\n        this.logger.trace(\"starting the web notifications controller\");\r\n\r\n        this.interop = coreGlue.interop;\r\n\r\n        const api = this.toApi();\r\n\r\n        (coreGlue as Glue42Web.API).notifications = api;\r\n\r\n        this.logger.trace(\"notifications are ready\");\r\n    }\r\n\r\n    public async handleBridgeMessage(): Promise<void> {\r\n        // noop\r\n    }\r\n\r\n    private toApi(): Glue42Web.Notifications.API {\r\n        const api: Glue42Web.Notifications.API = {\r\n            raise: this.raise.bind(this)\r\n        };\r\n\r\n        return Object.freeze(api);\r\n    }\r\n\r\n    private async raise(options: Glue42Web.Notifications.Glue42NotificationOptions): Promise<Notification> {\r\n\r\n        if (!(\"Notification\" in window)) {\r\n            throw new Error(\"this browser does not support desktop notification\");\r\n        }\r\n        let permissionPromise: Promise<NotificationPermission>;\r\n        if (Notification.permission === \"granted\") {\r\n            permissionPromise = Promise.resolve(\"granted\");\r\n        } else if (Notification.permission === \"denied\") {\r\n            permissionPromise = Promise.reject(\"no permissions from user\");\r\n        } else {\r\n            permissionPromise = Notification.requestPermission();\r\n        }\r\n\r\n        await permissionPromise;\r\n\r\n        const notification = this.raiseUsingWebApi(options);\r\n\r\n        if (options.clickInterop) {\r\n            const interopOptions = options.clickInterop;\r\n            notification.onclick = (): void => {\r\n                this.interop.invoke(interopOptions.method, interopOptions?.arguments ?? {}, interopOptions?.target ?? \"best\");\r\n            };\r\n        }\r\n\r\n        return notification;\r\n    }\r\n\r\n    private raiseUsingWebApi(options: Glue42Web.Notifications.Glue42NotificationOptions): Notification {\r\n        return new Notification(options.title);\r\n    }\r\n}","/*eslint indent: [2, 4, {\"SwitchCase\": 1}]*/\nimport CallbackFactory from \"callback-registry\";\nimport { Bridge } from \"../communication/bridge\";\nimport { InteropTransport } from \"../communication/interop-transport\";\nimport { BaseBuilder } from \"../builders/baseBuilder\";\nimport { ParentBuilder } from \"../builders/parentBuilder\";\nimport { WorkspaceBuilder } from \"../builders/workspaceBuilder\";\nimport { ModelMaps, ModelTypes, FramePrivateData, WindowPrivateData, WorkspacePrivateData, ParentPrivateData } from \"../types/privateData\";\nimport { PrivateDataManager } from \"./privateDataManager\";\nimport { FrameCreateConfig, ModelCreateConfig, WindowCreateConfig, WorkspaceIoCCreateConfig, ParentCreateConfig } from \"../types/ioc\";\nimport { Frame } from \"../models/frame\";\nimport { Window } from \"../models/window\";\nimport { Workspace } from \"../models/workspace\";\nimport { ChildSnapshotResult, SwimlaneWindowSnapshotConfig, ParentSnapshotConfig } from \"../types/protocol\";\nimport { Child } from \"../types/builders\";\nimport { Row } from \"../models/row\";\nimport { Column } from \"../models/column\";\nimport { Group } from \"../models/group\";\nimport { Base } from \"../models/base/base\";\nimport { Glue42Workspaces } from \"../../workspaces\";\nimport { WorkspacesController } from \"../types/controller\";\nimport { InteropAPI, WindowsAPI, LayoutsAPI, ContextsAPI } from \"../types/glue\";\nimport { BaseController } from \"../controllers/base\";\nimport { MainController } from \"../controllers/main\";\n\nexport class IoC {\n\n    private _controllerInstance: WorkspacesController;\n    private _bridgeInstance: Bridge;\n    private _transportInstance: InteropTransport;\n    private _privateDataManagerInstance: PrivateDataManager;\n    private _parentBaseInstance: Base;\n    private _baseController: BaseController;\n\n    constructor(\n        private readonly agm: InteropAPI,\n        private readonly windows: WindowsAPI,\n        private readonly layouts: LayoutsAPI,\n        private readonly contexts: ContextsAPI\n    ) { }\n\n    public get baseController(): BaseController {\n        if (!this._baseController) {\n            this._baseController = new BaseController(this, this.windows, this.contexts, this.layouts);\n        }\n\n        return this._baseController;\n    }\n\n    public get controller(): WorkspacesController {\n        if (!this._controllerInstance) {\n            this._controllerInstance = new MainController(this.bridge, this.baseController);\n        }\n        return this._controllerInstance;\n    }\n\n    public get bridge(): Bridge {\n        if (!this._bridgeInstance) {\n            this._bridgeInstance = new Bridge(this.transport, CallbackFactory());\n        }\n        return this._bridgeInstance;\n    }\n\n    public get transport(): InteropTransport {\n\n        if (!this._transportInstance) {\n            this._transportInstance = new InteropTransport(this.agm);\n        }\n\n        return this._transportInstance;\n    }\n\n    public get privateDataManager(): PrivateDataManager {\n        if (!this._privateDataManagerInstance) {\n            this._privateDataManagerInstance = new PrivateDataManager();\n        }\n        return this._privateDataManagerInstance;\n    }\n\n    public get parentBase(): Base {\n        if (!this._parentBaseInstance) {\n            this._parentBaseInstance = new Base(this.privateDataManager);\n        }\n        return this._parentBaseInstance;\n    }\n\n    public async initiate(actualWindowId: string): Promise<void> {\n        await this.transport.initiate(actualWindowId);\n    }\n\n    public getModel<T extends ModelTypes>(type: ModelTypes, createConfig: ModelCreateConfig): ModelMaps[T] {\n        switch (type) {\n            case \"frame\": {\n                const newFrame = new Frame(this.privateDataManager);\n\n                const { summary } = createConfig as FrameCreateConfig;\n\n                const frameData: FramePrivateData = { summary, controller: this.controller };\n\n                this.privateDataManager.setFrameData(newFrame, frameData);\n\n                return newFrame as ModelMaps[T];\n            }\n            case \"window\": {\n                const { id, parent, frame, workspace, config } = createConfig as WindowCreateConfig;\n\n                const windowPrivateData: WindowPrivateData = {\n                    type: \"window\",\n                    controller: this.controller,\n                    config, id, parent, frame, workspace\n                };\n\n                const newWindow = new Window(this.privateDataManager);\n\n                this.privateDataManager.setWindowData(newWindow, windowPrivateData);\n\n                return newWindow as ModelMaps[T];\n            }\n            case \"row\":\n            case \"column\":\n            case \"group\": {\n                const { id, children, parent, frame, workspace, config } = createConfig as ParentCreateConfig;\n\n                const newParent = type === \"column\" ? new Column(this.parentBase) :\n                    type === \"row\" ? new Row(this.parentBase) : new Group(this.parentBase);\n\n                const builtChildren = this.buildChildren(children, frame, workspace, newParent);\n\n                const parentPrivateData: ParentPrivateData = {\n                    id, parent, frame, workspace, config, type,\n                    controller: this.controller,\n                    children: builtChildren,\n                };\n\n                this.privateDataManager.setParentData(newParent, parentPrivateData);\n\n                return newParent as ModelMaps[T];\n            }\n            case \"workspace\": {\n                const { snapshot, frame } = createConfig as WorkspaceIoCCreateConfig;\n\n                const newWorkspace = new Workspace(this.privateDataManager);\n\n                const children = this.buildChildren(snapshot.children, frame, newWorkspace, newWorkspace);\n\n                const workspacePrivateData: WorkspacePrivateData = {\n                    id: snapshot.id,\n                    type: \"workspace\",\n                    config: snapshot.config,\n                    base: this.parentBase,\n                    controller: this.controller,\n                    children, frame, ioc: this\n                };\n\n                this.privateDataManager.setWorkspaceData(newWorkspace, workspacePrivateData);\n                return newWorkspace as ModelMaps[T];\n            }\n            default: throw new Error(`Unrecognized type: ${type}`);\n        }\n    }\n\n    public getBuilder(config: Glue42Workspaces.BuilderConfig): WorkspaceBuilder | ParentBuilder {\n        config.definition = config.definition || {};\n\n        if (!Array.isArray(config.definition.children)) {\n            config.definition.children = [];\n        }\n\n        const baseBuilder = new BaseBuilder(this.getBuilder.bind(this));\n\n        switch (config.type) {\n            case \"workspace\": {\n                return new WorkspaceBuilder(config.definition as Glue42Workspaces.WorkspaceDefinition, baseBuilder, this.controller);\n            }\n            case \"row\":\n            case \"column\":\n            case \"group\": {\n                (config.definition as Glue42Workspaces.BoxDefinition).type = config.type;\n                return new ParentBuilder(config.definition, baseBuilder);\n            }\n            default: throw new Error(`Unexpected Builder creation error, provided config: ${JSON.stringify(config)}`);\n        }\n    }\n\n    private buildChildren(children: ChildSnapshotResult[], frame: Frame, workspace: Workspace, parent: Workspace | Row | Column | Group): Child[] {\n        return children.map<Child>((child) => {\n            switch (child.type) {\n                case \"window\": return this.getModel<\"window\">(\"window\", {\n                    id: child.id,\n                    config: child.config as SwimlaneWindowSnapshotConfig,\n                    frame, workspace, parent\n                });\n                case \"column\": return this.getModel<\"column\">(child.type, {\n                    id: child.id,\n                    config: child.config as ParentSnapshotConfig,\n                    children: child.children,\n                    frame, workspace, parent\n                });\n                case \"row\": return this.getModel<\"row\">(child.type, {\n                    id: child.id,\n                    config: child.config as ParentSnapshotConfig,\n                    children: child.children,\n                    frame, workspace, parent\n                });\n                case \"group\": return this.getModel<\"group\">(child.type, {\n                    id: child.id,\n                    config: child.config as ParentSnapshotConfig,\n                    children: child.children,\n                    frame, workspace, parent\n                });\n                default: throw new Error(`Unsupported child type: ${child.type}`);\n            }\n        });\n    }\n}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nfunction __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\n\nvar MetricTypes = {\r\n    STRING: 1,\r\n    NUMBER: 2,\r\n    TIMESTAMP: 3,\r\n    OBJECT: 4\r\n};\n\nfunction getMetricTypeByValue(metric) {\r\n    if (metric.type === MetricTypes.TIMESTAMP) {\r\n        return \"timestamp\";\r\n    }\r\n    else if (metric.type === MetricTypes.NUMBER) {\r\n        return \"number\";\r\n    }\r\n    else if (metric.type === MetricTypes.STRING) {\r\n        return \"string\";\r\n    }\r\n    else if (metric.type === MetricTypes.OBJECT) {\r\n        return \"object\";\r\n    }\r\n    return \"unknown\";\r\n}\r\nfunction getTypeByValue(value) {\r\n    if (value.constructor === Date) {\r\n        return \"timestamp\";\r\n    }\r\n    else if (typeof value === \"number\") {\r\n        return \"number\";\r\n    }\r\n    else if (typeof value === \"string\") {\r\n        return \"string\";\r\n    }\r\n    else if (typeof value === \"object\") {\r\n        return \"object\";\r\n    }\r\n    else {\r\n        return \"string\";\r\n    }\r\n}\r\nfunction serializeMetric(metric) {\r\n    var serializedMetrics = {};\r\n    var type = getMetricTypeByValue(metric);\r\n    if (type === \"object\") {\r\n        var values = Object.keys(metric.value).reduce(function (memo, key) {\r\n            var innerType = getTypeByValue(metric.value[key]);\r\n            if (innerType === \"object\") {\r\n                var composite = defineNestedComposite(metric.value[key]);\r\n                memo[key] = {\r\n                    type: \"object\",\r\n                    description: \"\",\r\n                    context: {},\r\n                    composite: composite,\r\n                };\r\n            }\r\n            else {\r\n                memo[key] = {\r\n                    type: innerType,\r\n                    description: \"\",\r\n                    context: {},\r\n                };\r\n            }\r\n            return memo;\r\n        }, {});\r\n        serializedMetrics.composite = values;\r\n    }\r\n    serializedMetrics.name = normalizeMetricName(metric.path.join(\"/\") + \"/\" + metric.name);\r\n    serializedMetrics.type = type;\r\n    serializedMetrics.description = metric.description;\r\n    serializedMetrics.context = {};\r\n    return serializedMetrics;\r\n}\r\nfunction defineNestedComposite(values) {\r\n    return Object.keys(values).reduce(function (memo, key) {\r\n        var type = getTypeByValue(values[key]);\r\n        if (type === \"object\") {\r\n            memo[key] = {\r\n                type: \"object\",\r\n                description: \"\",\r\n                context: {},\r\n                composite: defineNestedComposite(values[key]),\r\n            };\r\n        }\r\n        else {\r\n            memo[key] = {\r\n                type: type,\r\n                description: \"\",\r\n                context: {},\r\n            };\r\n        }\r\n        return memo;\r\n    }, {});\r\n}\r\nfunction normalizeMetricName(name) {\r\n    if (typeof name !== \"undefined\" && name.length > 0 && name[0] !== \"/\") {\r\n        return \"/\" + name;\r\n    }\r\n    else {\r\n        return name;\r\n    }\r\n}\r\nfunction getMetricValueByType(metric) {\r\n    var type = getMetricTypeByValue(metric);\r\n    if (type === \"timestamp\") {\r\n        return Date.now();\r\n    }\r\n    else {\r\n        return publishNestedComposite(metric.value);\r\n    }\r\n}\r\nfunction publishNestedComposite(values) {\r\n    if (typeof values !== \"object\") {\r\n        return values;\r\n    }\r\n    return Object.keys(values).reduce(function (memo, key) {\r\n        var value = values[key];\r\n        if (typeof value === \"object\" && value.constructor !== Date) {\r\n            memo[key] = publishNestedComposite(value);\r\n        }\r\n        else if (value.constructor === Date) {\r\n            memo[key] = new Date(value).getTime();\r\n        }\r\n        else if (value.constructor === Boolean) {\r\n            memo[key] = value.toString();\r\n        }\r\n        else {\r\n            memo[key] = value;\r\n        }\r\n        return memo;\r\n    }, {});\r\n}\r\nfunction flatten(arr) {\r\n    return arr.reduce(function (flat, toFlatten) {\r\n        return flat.concat(Array.isArray(toFlatten) ? flatten(toFlatten) : toFlatten);\r\n    }, []);\r\n}\r\nfunction getHighestState(arr) {\r\n    return arr.sort(function (a, b) {\r\n        if (!a.state) {\r\n            return 1;\r\n        }\r\n        if (!b.state) {\r\n            return -1;\r\n        }\r\n        return b.state - a.state;\r\n    })[0];\r\n}\r\nfunction aggregateDescription(arr) {\r\n    var msg = \"\";\r\n    arr.forEach(function (m, idx, a) {\r\n        var path = m.path.join(\".\");\r\n        if (idx === a.length - 1) {\r\n            msg += path + \".\" + m.name + \": \" + m.description;\r\n        }\r\n        else {\r\n            msg += path + \".\" + m.name + \": \" + m.description + \",\";\r\n        }\r\n    });\r\n    if (msg.length > 100) {\r\n        return msg.slice(0, 100) + \"...\";\r\n    }\r\n    else {\r\n        return msg;\r\n    }\r\n}\r\nfunction composeMsgForRootStateMetric(system) {\r\n    var aggregatedState = system.root.getAggregateState();\r\n    var merged = flatten(aggregatedState);\r\n    var highestState = getHighestState(merged);\r\n    var aggregateDesc = aggregateDescription(merged);\r\n    return {\r\n        description: aggregateDesc,\r\n        value: highestState.state,\r\n    };\r\n}\n\nfunction gw3 (connection, config) {\r\n    var _this = this;\r\n    if (!connection || typeof connection !== \"object\") {\r\n        throw new Error(\"Connection is required parameter\");\r\n    }\r\n    var joinPromise;\r\n    var session;\r\n    var init = function (repo) {\r\n        var resolveReadyPromise;\r\n        joinPromise = new Promise(function (resolve) {\r\n            resolveReadyPromise = resolve;\r\n        });\r\n        session = connection.domain(\"metrics\");\r\n        session.onJoined(function (reconnect) {\r\n            if (!reconnect && resolveReadyPromise) {\r\n                resolveReadyPromise();\r\n                resolveReadyPromise = undefined;\r\n            }\r\n            var rootStateMetric = {\r\n                name: \"/State\",\r\n                type: \"object\",\r\n                composite: {\r\n                    Description: {\r\n                        type: \"string\",\r\n                        description: \"\",\r\n                    },\r\n                    Value: {\r\n                        type: \"number\",\r\n                        description: \"\",\r\n                    },\r\n                },\r\n                description: \"System state\",\r\n                context: {},\r\n            };\r\n            var defineRootMetricsMsg = {\r\n                type: \"define\",\r\n                metrics: [rootStateMetric],\r\n            };\r\n            session.send(defineRootMetricsMsg);\r\n            if (reconnect) {\r\n                replayRepo(repo);\r\n            }\r\n        });\r\n        session.join({\r\n            system: config.system,\r\n            service: config.service,\r\n            instance: config.instance\r\n        });\r\n    };\r\n    var replayRepo = function (repo) {\r\n        replaySystem(repo.root);\r\n    };\r\n    var replaySystem = function (system) {\r\n        createSystem(system);\r\n        system.metrics.forEach(function (m) {\r\n            createMetric(m);\r\n        });\r\n        system.subSystems.forEach(function (ss) {\r\n            replaySystem(ss);\r\n        });\r\n    };\r\n    var createSystem = function (system) { return __awaiter(_this, void 0, void 0, function () {\r\n        var metric, createMetricsMsg;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    if (system.parent === undefined) {\r\n                        return [2];\r\n                    }\r\n                    return [4, joinPromise];\r\n                case 1:\r\n                    _a.sent();\r\n                    metric = {\r\n                        name: normalizeMetricName(system.path.join(\"/\") + \"/\" + system.name + \"/State\"),\r\n                        type: \"object\",\r\n                        composite: {\r\n                            Description: {\r\n                                type: \"string\",\r\n                                description: \"\",\r\n                            },\r\n                            Value: {\r\n                                type: \"number\",\r\n                                description: \"\",\r\n                            },\r\n                        },\r\n                        description: \"System state\",\r\n                        context: {},\r\n                    };\r\n                    createMetricsMsg = {\r\n                        type: \"define\",\r\n                        metrics: [metric],\r\n                    };\r\n                    session.send(createMetricsMsg);\r\n                    return [2];\r\n            }\r\n        });\r\n    }); };\r\n    var updateSystem = function (system, state) { return __awaiter(_this, void 0, void 0, function () {\r\n        var shadowedUpdateMetric, stateObj, rootMetric;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4, joinPromise];\r\n                case 1:\r\n                    _a.sent();\r\n                    shadowedUpdateMetric = {\r\n                        type: \"publish\",\r\n                        values: [{\r\n                                name: normalizeMetricName(system.path.join(\"/\") + \"/\" + system.name + \"/State\"),\r\n                                value: {\r\n                                    Description: state.description,\r\n                                    Value: state.state,\r\n                                },\r\n                                timestamp: Date.now(),\r\n                            }],\r\n                    };\r\n                    session.send(shadowedUpdateMetric);\r\n                    stateObj = composeMsgForRootStateMetric(system);\r\n                    rootMetric = {\r\n                        type: \"publish\",\r\n                        peer_id: connection.peerId,\r\n                        values: [{\r\n                                name: \"/State\",\r\n                                value: {\r\n                                    Description: stateObj.description,\r\n                                    Value: stateObj.value,\r\n                                },\r\n                                timestamp: Date.now(),\r\n                            }],\r\n                    };\r\n                    session.send(rootMetric);\r\n                    return [2];\r\n            }\r\n        });\r\n    }); };\r\n    var createMetric = function (metric) { return __awaiter(_this, void 0, void 0, function () {\r\n        var metricClone, m, createMetricsMsg;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    metricClone = cloneMetric(metric);\r\n                    return [4, joinPromise];\r\n                case 1:\r\n                    _a.sent();\r\n                    m = serializeMetric(metricClone);\r\n                    createMetricsMsg = {\r\n                        type: \"define\",\r\n                        metrics: [m],\r\n                    };\r\n                    session.send(createMetricsMsg);\r\n                    if (typeof metricClone.value !== \"undefined\") {\r\n                        updateMetricCore(metricClone);\r\n                    }\r\n                    return [2];\r\n            }\r\n        });\r\n    }); };\r\n    var updateMetric = function (metric) { return __awaiter(_this, void 0, void 0, function () {\r\n        var metricClone;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    metricClone = cloneMetric(metric);\r\n                    return [4, joinPromise];\r\n                case 1:\r\n                    _a.sent();\r\n                    updateMetricCore(metricClone);\r\n                    return [2];\r\n            }\r\n        });\r\n    }); };\r\n    var updateMetricCore = function (metric) {\r\n        if (canUpdate()) {\r\n            var value = getMetricValueByType(metric);\r\n            var publishMetricsMsg = {\r\n                type: \"publish\",\r\n                values: [{\r\n                        name: normalizeMetricName(metric.path.join(\"/\") + \"/\" + metric.name),\r\n                        value: value,\r\n                        timestamp: Date.now(),\r\n                    }],\r\n            };\r\n            return session.sendFireAndForget(publishMetricsMsg);\r\n        }\r\n        return Promise.resolve();\r\n    };\r\n    var cloneMetric = function (metric) {\r\n        var metricClone = __assign({}, metric);\r\n        if (typeof metric.value === \"object\" && metric.value !== null) {\r\n            metricClone.value = __assign({}, metric.value);\r\n        }\r\n        return metricClone;\r\n    };\r\n    var canUpdate = function () {\r\n        var _a;\r\n        try {\r\n            var func = (_a = config.canUpdateMetric) !== null && _a !== void 0 ? _a : (function () { return true; });\r\n            return func();\r\n        }\r\n        catch (_b) {\r\n            return true;\r\n        }\r\n    };\r\n    return {\r\n        init: init,\r\n        createSystem: createSystem,\r\n        updateSystem: updateSystem,\r\n        createMetric: createMetric,\r\n        updateMetric: updateMetric,\r\n    };\r\n}\n\nvar Helpers = {\r\n    validate: function (definition, parent, transport) {\r\n        if (definition === null || typeof definition !== \"object\") {\r\n            throw new Error(\"Missing definition\");\r\n        }\r\n        if (parent === null || typeof parent !== \"object\") {\r\n            throw new Error(\"Missing parent\");\r\n        }\r\n        if (transport === null || typeof transport !== \"object\") {\r\n            throw new Error(\"Missing transport\");\r\n        }\r\n    },\r\n};\n\nvar BaseMetric = (function () {\r\n    function BaseMetric(definition, system, transport, value, type) {\r\n        this.definition = definition;\r\n        this.system = system;\r\n        this.transport = transport;\r\n        this.value = value;\r\n        this.type = type;\r\n        this.path = [];\r\n        Helpers.validate(definition, system, transport);\r\n        this.path = system.path.slice(0);\r\n        this.path.push(system.name);\r\n        this.name = definition.name;\r\n        this.description = definition.description;\r\n        transport.createMetric(this);\r\n    }\r\n    Object.defineProperty(BaseMetric.prototype, \"repo\", {\r\n        get: function () {\r\n            var _a;\r\n            return (_a = this.system) === null || _a === void 0 ? void 0 : _a.repo;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(BaseMetric.prototype, \"id\", {\r\n        get: function () { return this.system.path + \"/\" + name; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    BaseMetric.prototype.update = function (newValue) {\r\n        this.value = newValue;\r\n        return this.transport.updateMetric(this);\r\n    };\r\n    return BaseMetric;\r\n}());\n\nvar NumberMetric = (function (_super) {\r\n    __extends(NumberMetric, _super);\r\n    function NumberMetric(definition, system, transport, value) {\r\n        return _super.call(this, definition, system, transport, value, MetricTypes.NUMBER) || this;\r\n    }\r\n    NumberMetric.prototype.incrementBy = function (num) {\r\n        this.update(this.value + num);\r\n    };\r\n    NumberMetric.prototype.increment = function () {\r\n        this.incrementBy(1);\r\n    };\r\n    NumberMetric.prototype.decrement = function () {\r\n        this.incrementBy(-1);\r\n    };\r\n    NumberMetric.prototype.decrementBy = function (num) {\r\n        this.incrementBy(num * -1);\r\n    };\r\n    return NumberMetric;\r\n}(BaseMetric));\n\nvar ObjectMetric = (function (_super) {\r\n    __extends(ObjectMetric, _super);\r\n    function ObjectMetric(definition, system, transport, value) {\r\n        return _super.call(this, definition, system, transport, value, MetricTypes.OBJECT) || this;\r\n    }\r\n    ObjectMetric.prototype.update = function (newValue) {\r\n        this.mergeValues(newValue);\r\n        return this.transport.updateMetric(this);\r\n    };\r\n    ObjectMetric.prototype.mergeValues = function (values) {\r\n        var _this = this;\r\n        return Object.keys(this.value).forEach(function (k) {\r\n            if (typeof values[k] !== \"undefined\") {\r\n                _this.value[k] = values[k];\r\n            }\r\n        });\r\n    };\r\n    return ObjectMetric;\r\n}(BaseMetric));\n\nvar StringMetric = (function (_super) {\r\n    __extends(StringMetric, _super);\r\n    function StringMetric(definition, system, transport, value) {\r\n        return _super.call(this, definition, system, transport, value, MetricTypes.STRING) || this;\r\n    }\r\n    return StringMetric;\r\n}(BaseMetric));\n\nvar TimestampMetric = (function (_super) {\r\n    __extends(TimestampMetric, _super);\r\n    function TimestampMetric(definition, system, transport, value) {\r\n        return _super.call(this, definition, system, transport, value, MetricTypes.TIMESTAMP) || this;\r\n    }\r\n    TimestampMetric.prototype.now = function () {\r\n        this.update(new Date());\r\n    };\r\n    return TimestampMetric;\r\n}(BaseMetric));\n\nfunction system(name, repo, protocol, parent, description) {\r\n    if (!repo) {\r\n        throw new Error(\"Repository is required\");\r\n    }\r\n    if (!protocol) {\r\n        throw new Error(\"Transport is required\");\r\n    }\r\n    var _transport = protocol;\r\n    var _name = name;\r\n    var _description = description || \"\";\r\n    var _repo = repo;\r\n    var _parent = parent;\r\n    var _path = _buildPath(parent);\r\n    var _state = {};\r\n    var id = _arrayToString(_path, \"/\") + name;\r\n    var root = repo.root;\r\n    var _subSystems = [];\r\n    var _metrics = [];\r\n    function subSystem(nameSystem, descriptionSystem) {\r\n        if (!nameSystem || nameSystem.length === 0) {\r\n            throw new Error(\"name is required\");\r\n        }\r\n        var match = _subSystems.filter(function (s) { return s.name === nameSystem; });\r\n        if (match.length > 0) {\r\n            return match[0];\r\n        }\r\n        var _system = system(nameSystem, _repo, _transport, me, descriptionSystem);\r\n        _subSystems.push(_system);\r\n        return _system;\r\n    }\r\n    function setState(state, stateDescription) {\r\n        _state = { state: state, description: stateDescription };\r\n        _transport.updateSystem(me, _state);\r\n    }\r\n    function stringMetric(definition, value) {\r\n        return _getOrCreateMetric(definition, MetricTypes.STRING, value, function (metricDef) { return new StringMetric(metricDef, me, _transport, value); });\r\n    }\r\n    function numberMetric(definition, value) {\r\n        return _getOrCreateMetric(definition, MetricTypes.NUMBER, value, function (metricDef) { return new NumberMetric(metricDef, me, _transport, value); });\r\n    }\r\n    function objectMetric(definition, value) {\r\n        return _getOrCreateMetric(definition, MetricTypes.OBJECT, value, function (metricDef) { return new ObjectMetric(metricDef, me, _transport, value); });\r\n    }\r\n    function timestampMetric(definition, value) {\r\n        return _getOrCreateMetric(definition, MetricTypes.TIMESTAMP, value, function (metricDef) { return new TimestampMetric(metricDef, me, _transport, value); });\r\n    }\r\n    function _getOrCreateMetric(metricObject, expectedType, value, createMetric) {\r\n        var metricDef = { name: \"\" };\r\n        if (typeof metricObject === \"string\") {\r\n            metricDef = { name: metricObject };\r\n        }\r\n        else {\r\n            metricDef = metricObject;\r\n        }\r\n        var matching = _metrics.filter(function (shadowedMetric) { return shadowedMetric.name === metricDef.name; });\r\n        if (matching.length > 0) {\r\n            var existing = matching[0];\r\n            if (existing.type !== expectedType) {\r\n                throw new Error(\"A metric named \" + metricDef.name + \" is already defined with different type.\");\r\n            }\r\n            if (typeof value !== \"undefined\") {\r\n                existing\r\n                    .update(value)\r\n                    .catch(function () { });\r\n            }\r\n            return existing;\r\n        }\r\n        var metric = createMetric(metricDef);\r\n        _metrics.push(metric);\r\n        return metric;\r\n    }\r\n    function _buildPath(shadowedSystem) {\r\n        if (!shadowedSystem || !shadowedSystem.parent) {\r\n            return [];\r\n        }\r\n        var path = _buildPath(shadowedSystem.parent);\r\n        path.push(shadowedSystem.name);\r\n        return path;\r\n    }\r\n    function _arrayToString(path, separator) {\r\n        return ((path && path.length > 0) ? path.join(separator) : \"\");\r\n    }\r\n    function getAggregateState() {\r\n        var aggState = [];\r\n        if (Object.keys(_state).length > 0) {\r\n            aggState.push({\r\n                name: _name,\r\n                path: _path,\r\n                state: _state.state,\r\n                description: _state.description,\r\n            });\r\n        }\r\n        _subSystems.forEach(function (shadowedSubSystem) {\r\n            var result = shadowedSubSystem.getAggregateState();\r\n            if (result.length > 0) {\r\n                aggState.push.apply(aggState, result);\r\n            }\r\n        });\r\n        return aggState;\r\n    }\r\n    var me = {\r\n        get name() {\r\n            return _name;\r\n        },\r\n        get description() {\r\n            return _description;\r\n        },\r\n        get repo() {\r\n            return _repo;\r\n        },\r\n        get parent() {\r\n            return _parent;\r\n        },\r\n        path: _path,\r\n        id: id,\r\n        root: root,\r\n        get subSystems() {\r\n            return _subSystems;\r\n        },\r\n        get metrics() {\r\n            return _metrics;\r\n        },\r\n        subSystem: subSystem,\r\n        getState: function () {\r\n            return _state;\r\n        },\r\n        setState: setState,\r\n        stringMetric: stringMetric,\r\n        timestampMetric: timestampMetric,\r\n        objectMetric: objectMetric,\r\n        numberMetric: numberMetric,\r\n        getAggregateState: getAggregateState,\r\n    };\r\n    _transport.createSystem(me);\r\n    return me;\r\n}\n\nvar Repository = (function () {\r\n    function Repository(options, protocol) {\r\n        protocol.init(this);\r\n        this.root = system(\"\", this, protocol);\r\n        this.addSystemMetrics(this.root, options.clickStream || options.clickStream === undefined);\r\n    }\r\n    Repository.prototype.addSystemMetrics = function (rootSystem, useClickStream) {\r\n        if (typeof navigator !== \"undefined\") {\r\n            rootSystem.stringMetric(\"UserAgent\", navigator.userAgent);\r\n        }\r\n        if (useClickStream && typeof document !== \"undefined\") {\r\n            var clickStream_1 = rootSystem.subSystem(\"ClickStream\");\r\n            var documentClickHandler = function (e) {\r\n                if (!e.target) {\r\n                    return;\r\n                }\r\n                var target = e.target;\r\n                clickStream_1.objectMetric(\"LastBrowserEvent\", {\r\n                    type: \"click\",\r\n                    timestamp: new Date(),\r\n                    target: {\r\n                        className: e.target ? target.className : \"\",\r\n                        id: target.id,\r\n                        type: \"<\" + target.tagName.toLowerCase() + \">\",\r\n                        href: target.href || \"\",\r\n                    },\r\n                });\r\n            };\r\n            clickStream_1.objectMetric(\"Page\", {\r\n                title: document.title,\r\n                page: window.location.href,\r\n            });\r\n            if (document.addEventListener) {\r\n                document.addEventListener(\"click\", documentClickHandler);\r\n            }\r\n            else {\r\n                document.attachEvent(\"onclick\", documentClickHandler);\r\n            }\r\n        }\r\n        var startTime = rootSystem.stringMetric(\"StartTime\", (new Date()).toString());\r\n        var urlMetric = rootSystem.stringMetric(\"StartURL\", \"\");\r\n        var appNameMetric = rootSystem.stringMetric(\"AppName\", \"\");\r\n        if (typeof window !== \"undefined\") {\r\n            if (typeof window.location !== \"undefined\") {\r\n                var startUrl = window.location.href;\r\n                urlMetric.update(startUrl);\r\n            }\r\n            if (typeof window.glue42gd !== \"undefined\") {\r\n                appNameMetric.update(window.glue42gd.appName);\r\n            }\r\n        }\r\n    };\r\n    return Repository;\r\n}());\n\nvar NullProtocol = (function () {\r\n    function NullProtocol() {\r\n    }\r\n    NullProtocol.prototype.init = function (repo) {\r\n    };\r\n    NullProtocol.prototype.createSystem = function (system) {\r\n        return Promise.resolve();\r\n    };\r\n    NullProtocol.prototype.updateSystem = function (metric, state) {\r\n        return Promise.resolve();\r\n    };\r\n    NullProtocol.prototype.createMetric = function (metric) {\r\n        return Promise.resolve();\r\n    };\r\n    NullProtocol.prototype.updateMetric = function (metric) {\r\n        return Promise.resolve();\r\n    };\r\n    return NullProtocol;\r\n}());\n\nvar PerfTracker = (function () {\r\n    function PerfTracker(api, initialPublishTimeout, publishInterval) {\r\n        this.api = api;\r\n        this.lastCount = 0;\r\n        this.initialPublishTimeout = 10 * 1000;\r\n        this.publishInterval = 60 * 1000;\r\n        this.initialPublishTimeout = initialPublishTimeout !== null && initialPublishTimeout !== void 0 ? initialPublishTimeout : this.initialPublishTimeout;\r\n        this.publishInterval = publishInterval !== null && publishInterval !== void 0 ? publishInterval : this.publishInterval;\r\n        this.scheduleCollection();\r\n        this.system = this.api.subSystem(\"performance\", \"Performance data published by the web application\");\r\n    }\r\n    PerfTracker.prototype.scheduleCollection = function () {\r\n        var _this = this;\r\n        setTimeout(function () {\r\n            _this.collect();\r\n            setInterval(function () {\r\n                _this.collect();\r\n            }, _this.publishInterval);\r\n        }, this.initialPublishTimeout);\r\n    };\r\n    PerfTracker.prototype.collect = function () {\r\n        try {\r\n            this.collectMemory();\r\n            this.collectEntries();\r\n        }\r\n        catch (_a) {\r\n        }\r\n    };\r\n    PerfTracker.prototype.collectMemory = function () {\r\n        var memory = window.performance.memory;\r\n        this.system.stringMetric(\"memory\", JSON.stringify({\r\n            totalJSHeapSize: memory.totalJSHeapSize,\r\n            usedJSHeapSize: memory.usedJSHeapSize\r\n        }));\r\n    };\r\n    PerfTracker.prototype.collectEntries = function () {\r\n        var allEntries = window.performance.getEntries();\r\n        if (allEntries.length <= this.lastCount) {\r\n            return;\r\n        }\r\n        this.lastCount = allEntries.length;\r\n        this.system.stringMetric(\"entries\", JSON.stringify(allEntries));\r\n    };\r\n    return PerfTracker;\r\n}());\n\nvar metrics = (function (options) {\r\n    var protocol;\r\n    if (!options.connection || typeof options.connection !== \"object\") {\r\n        protocol = new NullProtocol();\r\n    }\r\n    else {\r\n        protocol = gw3(options.connection, options);\r\n    }\r\n    var repo = new Repository(options, protocol);\r\n    var rootSystem = repo.root;\r\n    if (!options.disableAutoAppSystem) {\r\n        rootSystem = rootSystem.subSystem(\"App\");\r\n    }\r\n    var api = addFAVSupport(rootSystem);\r\n    initPerf(api, options.pagePerformanceMetrics);\r\n    return api;\r\n});\r\nvar perf;\r\nfunction initPerf(api, config) {\r\n    var _a, _b;\r\n    if (typeof window === \"undefined\") {\r\n        return;\r\n    }\r\n    var perfConfig = (_b = (_a = window === null || window === void 0 ? void 0 : window.glue42gd) === null || _a === void 0 ? void 0 : _a.metrics) === null || _b === void 0 ? void 0 : _b.pagePerformanceMetrics;\r\n    if (perfConfig) {\r\n        config = perfConfig;\r\n    }\r\n    if (config === null || config === void 0 ? void 0 : config.enabled) {\r\n        perf = new PerfTracker(api, config.initialPublishTimeout, config.publishInterval);\r\n    }\r\n}\r\nfunction addFAVSupport(system) {\r\n    var reportingSystem = system.subSystem(\"reporting\");\r\n    var def = {\r\n        name: \"features\"\r\n    };\r\n    var featureMetric;\r\n    var featureMetricFunc = function (name, action, payload) {\r\n        if (typeof name === \"undefined\" || name === \"\") {\r\n            throw new Error(\"name is mandatory\");\r\n        }\r\n        else if (typeof action === \"undefined\" || action === \"\") {\r\n            throw new Error(\"action is mandatory\");\r\n        }\r\n        else if (typeof payload === \"undefined\" || payload === \"\") {\r\n            throw new Error(\"payload is mandatory\");\r\n        }\r\n        if (!featureMetric) {\r\n            featureMetric = reportingSystem.objectMetric(def, { name: name, action: action, payload: payload });\r\n        }\r\n        else {\r\n            featureMetric.update({\r\n                name: name,\r\n                action: action,\r\n                payload: payload\r\n            });\r\n        }\r\n    };\r\n    system.featureMetric = featureMetricFunc;\r\n    return system;\r\n}\n\nfunction createRegistry(options) {\r\n    if (options && options.errorHandling\r\n        && typeof options.errorHandling !== \"function\"\r\n        && options.errorHandling !== \"log\"\r\n        && options.errorHandling !== \"silent\"\r\n        && options.errorHandling !== \"throw\") {\r\n        throw new Error(\"Invalid options passed to createRegistry. Prop errorHandling should be [\\\"log\\\" | \\\"silent\\\" | \\\"throw\\\" | (err) => void], but \" + typeof options.errorHandling + \" was passed\");\r\n    }\r\n    var _userErrorHandler = options && typeof options.errorHandling === \"function\" && options.errorHandling;\r\n    var callbacks = {};\r\n    function add(key, callback, replayArgumentsArr) {\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey) {\r\n            callbacksForKey = [];\r\n            callbacks[key] = callbacksForKey;\r\n        }\r\n        callbacksForKey.push(callback);\r\n        if (replayArgumentsArr) {\r\n            setTimeout(function () {\r\n                replayArgumentsArr.forEach(function (replayArgument) {\r\n                    var _a;\r\n                    if ((_a = callbacks[key]) === null || _a === void 0 ? void 0 : _a.includes(callback)) {\r\n                        try {\r\n                            if (Array.isArray(replayArgument)) {\r\n                                callback.apply(undefined, replayArgument);\r\n                            }\r\n                            else {\r\n                                callback.apply(undefined, [replayArgument]);\r\n                            }\r\n                        }\r\n                        catch (err) {\r\n                            _handleError(err, key);\r\n                        }\r\n                    }\r\n                });\r\n            }, 0);\r\n        }\r\n        return function () {\r\n            var allForKey = callbacks[key];\r\n            if (!allForKey) {\r\n                return;\r\n            }\r\n            allForKey = allForKey.reduce(function (acc, element, index) {\r\n                if (!(element === callback && acc.length === index)) {\r\n                    acc.push(element);\r\n                }\r\n                return acc;\r\n            }, []);\r\n            if (allForKey.length === 0) {\r\n                delete callbacks[key];\r\n            }\r\n            else {\r\n                callbacks[key] = allForKey;\r\n            }\r\n        };\r\n    }\r\n    function execute(key) {\r\n        var argumentsArr = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            argumentsArr[_i - 1] = arguments[_i];\r\n        }\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey || callbacksForKey.length === 0) {\r\n            return [];\r\n        }\r\n        var results = [];\r\n        callbacksForKey.forEach(function (callback) {\r\n            try {\r\n                var result = callback.apply(undefined, argumentsArr);\r\n                results.push(result);\r\n            }\r\n            catch (err) {\r\n                results.push(undefined);\r\n                _handleError(err, key);\r\n            }\r\n        });\r\n        return results;\r\n    }\r\n    function _handleError(exceptionArtifact, key) {\r\n        var errParam = exceptionArtifact instanceof Error ? exceptionArtifact : new Error(exceptionArtifact);\r\n        if (_userErrorHandler) {\r\n            _userErrorHandler(errParam);\r\n            return;\r\n        }\r\n        var msg = \"[ERROR] callback-registry: User callback for key \\\"\" + key + \"\\\" failed: \" + errParam.stack;\r\n        if (options) {\r\n            switch (options.errorHandling) {\r\n                case \"log\":\r\n                    return console.error(msg);\r\n                case \"silent\":\r\n                    return;\r\n                case \"throw\":\r\n                    throw new Error(msg);\r\n            }\r\n        }\r\n        console.error(msg);\r\n    }\r\n    function clear() {\r\n        callbacks = {};\r\n    }\r\n    function clearKey(key) {\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey) {\r\n            return;\r\n        }\r\n        delete callbacks[key];\r\n    }\r\n    return {\r\n        add: add,\r\n        execute: execute,\r\n        clear: clear,\r\n        clearKey: clearKey\r\n    };\r\n}\r\ncreateRegistry.default = createRegistry;\r\nvar lib = createRegistry;\n\nvar InProcTransport = (function () {\r\n    function InProcTransport(settings, logger) {\r\n        var _this = this;\r\n        this.registry = lib();\r\n        this.gw = settings.facade;\r\n        this.gw.connect(function (_client, message) {\r\n            _this.messageHandler(message);\r\n        }).then(function (client) {\r\n            _this.client = client;\r\n        });\r\n    }\r\n    Object.defineProperty(InProcTransport.prototype, \"isObjectBasedTransport\", {\r\n        get: function () {\r\n            return true;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    InProcTransport.prototype.sendObject = function (msg) {\r\n        if (this.client) {\r\n            this.client.send(msg);\r\n            return Promise.resolve(undefined);\r\n        }\r\n        else {\r\n            return Promise.reject(\"not connected\");\r\n        }\r\n    };\r\n    InProcTransport.prototype.send = function (_msg) {\r\n        return Promise.reject(\"not supported\");\r\n    };\r\n    InProcTransport.prototype.onMessage = function (callback) {\r\n        return this.registry.add(\"onMessage\", callback);\r\n    };\r\n    InProcTransport.prototype.onConnectedChanged = function (callback) {\r\n        callback(true);\r\n    };\r\n    InProcTransport.prototype.close = function () {\r\n        return Promise.resolve();\r\n    };\r\n    InProcTransport.prototype.open = function () {\r\n        return Promise.resolve();\r\n    };\r\n    InProcTransport.prototype.name = function () {\r\n        return \"in-memory\";\r\n    };\r\n    InProcTransport.prototype.reconnect = function () {\r\n        return Promise.resolve();\r\n    };\r\n    InProcTransport.prototype.messageHandler = function (msg) {\r\n        this.registry.execute(\"onMessage\", msg);\r\n    };\r\n    return InProcTransport;\r\n}());\n\nvar SharedWorkerTransport = (function () {\r\n    function SharedWorkerTransport(workerFile, logger) {\r\n        var _this = this;\r\n        this.logger = logger;\r\n        this.registry = lib();\r\n        this.worker = new SharedWorker(workerFile);\r\n        this.worker.port.onmessage = function (e) {\r\n            _this.messageHandler(e.data);\r\n        };\r\n    }\r\n    Object.defineProperty(SharedWorkerTransport.prototype, \"isObjectBasedTransport\", {\r\n        get: function () {\r\n            return true;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    SharedWorkerTransport.prototype.sendObject = function (msg) {\r\n        this.worker.port.postMessage(msg);\r\n        return Promise.resolve();\r\n    };\r\n    SharedWorkerTransport.prototype.send = function (_msg) {\r\n        return Promise.reject(\"not supported\");\r\n    };\r\n    SharedWorkerTransport.prototype.onMessage = function (callback) {\r\n        return this.registry.add(\"onMessage\", callback);\r\n    };\r\n    SharedWorkerTransport.prototype.onConnectedChanged = function (callback) {\r\n        callback(true);\r\n    };\r\n    SharedWorkerTransport.prototype.close = function () {\r\n        return Promise.resolve();\r\n    };\r\n    SharedWorkerTransport.prototype.open = function () {\r\n        return Promise.resolve();\r\n    };\r\n    SharedWorkerTransport.prototype.name = function () {\r\n        return \"shared-worker\";\r\n    };\r\n    SharedWorkerTransport.prototype.reconnect = function () {\r\n        return Promise.resolve();\r\n    };\r\n    SharedWorkerTransport.prototype.messageHandler = function (msg) {\r\n        this.registry.execute(\"onMessage\", msg);\r\n    };\r\n    return SharedWorkerTransport;\r\n}());\n\nvar Utils = (function () {\r\n    function Utils() {\r\n    }\r\n    Utils.getGDMajorVersion = function () {\r\n        if (typeof window === \"undefined\") {\r\n            return undefined;\r\n        }\r\n        if (!window.glueDesktop) {\r\n            return undefined;\r\n        }\r\n        if (!window.glueDesktop.version) {\r\n            return undefined;\r\n        }\r\n        var ver = Number(window.glueDesktop.version.substr(0, 1));\r\n        return isNaN(ver) ? undefined : ver;\r\n    };\r\n    Utils.isNode = function () {\r\n        if (typeof Utils._isNode !== \"undefined\") {\r\n            return Utils._isNode;\r\n        }\r\n        if (typeof window !== \"undefined\") {\r\n            Utils._isNode = false;\r\n            return false;\r\n        }\r\n        try {\r\n            Utils._isNode = Object.prototype.toString.call(global.process) === \"[object process]\";\r\n        }\r\n        catch (e) {\r\n            Utils._isNode = false;\r\n        }\r\n        return Utils._isNode;\r\n    };\r\n    return Utils;\r\n}());\n\nvar PromiseWrapper = (function () {\r\n    function PromiseWrapper() {\r\n        var _this = this;\r\n        this.rejected = false;\r\n        this.resolved = false;\r\n        this.promise = new Promise(function (resolve, reject) {\r\n            _this.resolve = function (t) {\r\n                _this.resolved = true;\r\n                resolve(t);\r\n            };\r\n            _this.reject = function (err) {\r\n                _this.rejected = true;\r\n                reject(err);\r\n            };\r\n        });\r\n    }\r\n    PromiseWrapper.delay = function (time) {\r\n        return new Promise(function (resolve) { return setTimeout(resolve, time); });\r\n    };\r\n    Object.defineProperty(PromiseWrapper.prototype, \"ended\", {\r\n        get: function () {\r\n            return this.rejected || this.resolved;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return PromiseWrapper;\r\n}());\n\nvar timers = {};\r\nfunction getAllTimers() {\r\n    return timers;\r\n}\r\nfunction timer (timerName) {\r\n    var existing = timers[timerName];\r\n    if (existing) {\r\n        return existing;\r\n    }\r\n    var marks = [];\r\n    function now() {\r\n        return new Date().getTime();\r\n    }\r\n    var startTime = now();\r\n    mark(\"start\", startTime);\r\n    var endTime;\r\n    var period;\r\n    function stop() {\r\n        endTime = now();\r\n        mark(\"end\", endTime);\r\n        period = endTime - startTime;\r\n        return period;\r\n    }\r\n    function mark(name, time) {\r\n        var currentTime = time !== null && time !== void 0 ? time : now();\r\n        var diff = 0;\r\n        if (marks.length > 0) {\r\n            diff = currentTime - marks[marks.length - 1].time;\r\n        }\r\n        marks.push({ name: name, time: currentTime, diff: diff });\r\n    }\r\n    var timerObj = {\r\n        get startTime() {\r\n            return startTime;\r\n        },\r\n        get endTime() {\r\n            return endTime;\r\n        },\r\n        get period() {\r\n            return period;\r\n        },\r\n        stop: stop,\r\n        mark: mark,\r\n        marks: marks\r\n    };\r\n    timers[timerName] = timerObj;\r\n    return timerObj;\r\n}\n\nvar WebSocketConstructor = Utils.isNode() ? require(\"ws\") : window.WebSocket;\r\nvar WS = (function () {\r\n    function WS(settings, logger) {\r\n        this.startupTimer = timer(\"connection\");\r\n        this._running = true;\r\n        this._registry = lib();\r\n        this.wsRequests = [];\r\n        this.settings = settings;\r\n        this.logger = logger;\r\n        if (!this.settings.ws) {\r\n            throw new Error(\"ws is missing\");\r\n        }\r\n    }\r\n    WS.prototype.onMessage = function (callback) {\r\n        return this._registry.add(\"onMessage\", callback);\r\n    };\r\n    WS.prototype.send = function (msg, options) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this.waitForSocketConnection(function () {\r\n                var _a;\r\n                try {\r\n                    (_a = _this.ws) === null || _a === void 0 ? void 0 : _a.send(msg);\r\n                    resolve();\r\n                }\r\n                catch (e) {\r\n                    reject(e);\r\n                }\r\n            }, reject);\r\n        });\r\n    };\r\n    WS.prototype.open = function () {\r\n        var _this = this;\r\n        this.logger.info(\"opening ws...\");\r\n        this._running = true;\r\n        return new Promise(function (resolve, reject) {\r\n            _this.waitForSocketConnection(resolve, reject);\r\n        });\r\n    };\r\n    WS.prototype.close = function () {\r\n        this._running = false;\r\n        if (this.ws) {\r\n            this.ws.close();\r\n        }\r\n        return Promise.resolve();\r\n    };\r\n    WS.prototype.onConnectedChanged = function (callback) {\r\n        return this._registry.add(\"onConnectedChanged\", callback);\r\n    };\r\n    WS.prototype.name = function () {\r\n        return \"ws \" + this.settings.ws;\r\n    };\r\n    WS.prototype.reconnect = function () {\r\n        var _a;\r\n        (_a = this.ws) === null || _a === void 0 ? void 0 : _a.close();\r\n        var pw = new PromiseWrapper();\r\n        this.waitForSocketConnection(function () {\r\n            pw.resolve();\r\n        });\r\n        return pw.promise;\r\n    };\r\n    WS.prototype.waitForSocketConnection = function (callback, failed) {\r\n        var _a;\r\n        failed = failed !== null && failed !== void 0 ? failed : (function () { });\r\n        if (!this._running) {\r\n            failed(\"wait for socket on \" + this.settings.ws + \" failed - socket closed by user\");\r\n            return;\r\n        }\r\n        if (((_a = this.ws) === null || _a === void 0 ? void 0 : _a.readyState) === 1) {\r\n            callback();\r\n            return;\r\n        }\r\n        this.wsRequests.push({ callback: callback, failed: failed });\r\n        if (this.wsRequests.length > 1) {\r\n            return;\r\n        }\r\n        this.openSocket();\r\n    };\r\n    WS.prototype.openSocket = function (retryInterval, retriesLeft) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _a;\r\n            var _this = this;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        this.startupTimer.mark(\"opening-socket\");\r\n                        if (retryInterval === undefined) {\r\n                            retryInterval = this.settings.reconnectInterval;\r\n                        }\r\n                        if (retriesLeft !== undefined) {\r\n                            if (retriesLeft === 0) {\r\n                                this.notifyForSocketState(\"wait for socket on \" + this.settings.ws + \" failed - no more retries left\");\r\n                                return [2];\r\n                            }\r\n                            this.logger.debug(\"will retry \" + retriesLeft + \" more times (every \" + retryInterval + \" ms)\");\r\n                        }\r\n                        _b.label = 1;\r\n                    case 1:\r\n                        _b.trys.push([1, 3, , 4]);\r\n                        return [4, this.initiateSocket()];\r\n                    case 2:\r\n                        _b.sent();\r\n                        this.startupTimer.mark(\"socket-initiated\");\r\n                        this.notifyForSocketState();\r\n                        return [3, 4];\r\n                    case 3:\r\n                        _a = _b.sent();\r\n                        setTimeout(function () {\r\n                            var retries = retriesLeft === undefined ? undefined : retriesLeft - 1;\r\n                            _this.openSocket(retryInterval, retries);\r\n                        }, retryInterval);\r\n                        return [3, 4];\r\n                    case 4: return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    WS.prototype.initiateSocket = function () {\r\n        var _this = this;\r\n        var pw = new PromiseWrapper();\r\n        this.logger.debug(\"initiating ws to \" + this.settings.ws + \"...\");\r\n        this.ws = new WebSocketConstructor(this.settings.ws || \"\");\r\n        this.ws.onerror = function (err) {\r\n            var reason = \"\";\r\n            try {\r\n                reason = JSON.stringify(err);\r\n            }\r\n            catch (error) {\r\n                var seen_1 = new WeakSet();\r\n                var replacer = function (key, value) {\r\n                    if (typeof value === \"object\" && value !== null) {\r\n                        if (seen_1.has(value)) {\r\n                            return;\r\n                        }\r\n                        seen_1.add(value);\r\n                    }\r\n                    return value;\r\n                };\r\n                reason = JSON.stringify(err, replacer);\r\n            }\r\n            pw.reject(\"error\");\r\n            _this.notifyStatusChanged(false, reason);\r\n        };\r\n        this.ws.onclose = function (err) {\r\n            _this.logger.info(\"ws closed \" + err);\r\n            pw.reject(\"closed\");\r\n            _this.notifyStatusChanged(false);\r\n        };\r\n        this.ws.onopen = function () {\r\n            var _a;\r\n            _this.startupTimer.mark(\"ws-opened\");\r\n            _this.logger.info(\"ws opened \" + ((_a = _this.settings.identity) === null || _a === void 0 ? void 0 : _a.application));\r\n            pw.resolve();\r\n            _this.notifyStatusChanged(true);\r\n        };\r\n        this.ws.onmessage = function (message) {\r\n            _this._registry.execute(\"onMessage\", message.data);\r\n        };\r\n        return pw.promise;\r\n    };\r\n    WS.prototype.notifyForSocketState = function (error) {\r\n        this.wsRequests.forEach(function (wsRequest) {\r\n            if (error) {\r\n                if (wsRequest.failed) {\r\n                    wsRequest.failed(error);\r\n                }\r\n            }\r\n            else {\r\n                wsRequest.callback();\r\n            }\r\n        });\r\n        this.wsRequests = [];\r\n    };\r\n    WS.prototype.notifyStatusChanged = function (status, reason) {\r\n        this._registry.execute(\"onConnectedChanged\", status, reason);\r\n    };\r\n    return WS;\r\n}());\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\n// Found this seed-based random generator somewhere\n// Based on The Central Randomizer 1.3 (C) 1997 by Paul Houle (houle@msc.cornell.edu)\n\nvar seed = 1;\n\n/**\n * return a random number based on a seed\n * @param seed\n * @returns {number}\n */\nfunction getNextValue() {\n    seed = (seed * 9301 + 49297) % 233280;\n    return seed/(233280.0);\n}\n\nfunction setSeed(_seed_) {\n    seed = _seed_;\n}\n\nvar randomFromSeed = {\n    nextValue: getNextValue,\n    seed: setSeed\n};\n\nvar ORIGINAL = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-';\nvar alphabet;\nvar previousSeed;\n\nvar shuffled;\n\nfunction reset() {\n    shuffled = false;\n}\n\nfunction setCharacters(_alphabet_) {\n    if (!_alphabet_) {\n        if (alphabet !== ORIGINAL) {\n            alphabet = ORIGINAL;\n            reset();\n        }\n        return;\n    }\n\n    if (_alphabet_ === alphabet) {\n        return;\n    }\n\n    if (_alphabet_.length !== ORIGINAL.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. You submitted ' + _alphabet_.length + ' characters: ' + _alphabet_);\n    }\n\n    var unique = _alphabet_.split('').filter(function(item, ind, arr){\n       return ind !== arr.lastIndexOf(item);\n    });\n\n    if (unique.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. These characters were not unique: ' + unique.join(', '));\n    }\n\n    alphabet = _alphabet_;\n    reset();\n}\n\nfunction characters(_alphabet_) {\n    setCharacters(_alphabet_);\n    return alphabet;\n}\n\nfunction setSeed$1(seed) {\n    randomFromSeed.seed(seed);\n    if (previousSeed !== seed) {\n        reset();\n        previousSeed = seed;\n    }\n}\n\nfunction shuffle() {\n    if (!alphabet) {\n        setCharacters(ORIGINAL);\n    }\n\n    var sourceArray = alphabet.split('');\n    var targetArray = [];\n    var r = randomFromSeed.nextValue();\n    var characterIndex;\n\n    while (sourceArray.length > 0) {\n        r = randomFromSeed.nextValue();\n        characterIndex = Math.floor(r * sourceArray.length);\n        targetArray.push(sourceArray.splice(characterIndex, 1)[0]);\n    }\n    return targetArray.join('');\n}\n\nfunction getShuffled() {\n    if (shuffled) {\n        return shuffled;\n    }\n    shuffled = shuffle();\n    return shuffled;\n}\n\n/**\n * lookup shuffled letter\n * @param index\n * @returns {string}\n */\nfunction lookup(index) {\n    var alphabetShuffled = getShuffled();\n    return alphabetShuffled[index];\n}\n\nvar alphabet_1 = {\n    characters: characters,\n    seed: setSeed$1,\n    lookup: lookup,\n    shuffled: getShuffled\n};\n\nvar crypto = typeof window === 'object' && (window.crypto || window.msCrypto); // IE 11 uses window.msCrypto\n\nfunction randomByte() {\n    if (!crypto || !crypto.getRandomValues) {\n        return Math.floor(Math.random() * 256) & 0x30;\n    }\n    var dest = new Uint8Array(1);\n    crypto.getRandomValues(dest);\n    return dest[0] & 0x30;\n}\n\nvar randomByteBrowser = randomByte;\n\nfunction encode(lookup, number) {\n    var loopCounter = 0;\n    var done;\n\n    var str = '';\n\n    while (!done) {\n        str = str + lookup( ( (number >> (4 * loopCounter)) & 0x0f ) | randomByteBrowser() );\n        done = number < (Math.pow(16, loopCounter + 1 ) );\n        loopCounter++;\n    }\n    return str;\n}\n\nvar encode_1 = encode;\n\n/**\n * Decode the id to get the version and worker\n * Mainly for debugging and testing.\n * @param id - the shortid-generated id.\n */\nfunction decode(id) {\n    var characters = alphabet_1.shuffled();\n    return {\n        version: characters.indexOf(id.substr(0, 1)) & 0x0f,\n        worker: characters.indexOf(id.substr(1, 1)) & 0x0f\n    };\n}\n\nvar decode_1 = decode;\n\nfunction isShortId(id) {\n    if (!id || typeof id !== 'string' || id.length < 6 ) {\n        return false;\n    }\n\n    var characters = alphabet_1.characters();\n    var len = id.length;\n    for(var i = 0; i < len;i++) {\n        if (characters.indexOf(id[i]) === -1) {\n            return false;\n        }\n    }\n    return true;\n}\n\nvar isValid = isShortId;\n\nvar lib$1 = createCommonjsModule(function (module) {\n\n\n\n\n\n\n// Ignore all milliseconds before a certain time to reduce the size of the date entropy without sacrificing uniqueness.\n// This number should be updated every year or so to keep the generated id short.\n// To regenerate `new Date() - 0` and bump the version. Always bump the version!\nvar REDUCE_TIME = 1459707606518;\n\n// don't change unless we change the algos or REDUCE_TIME\n// must be an integer and less than 16\nvar version = 6;\n\n// if you are using cluster or multiple servers use this to make each instance\n// has a unique value for worker\n// Note: I don't know if this is automatically set when using third\n// party cluster solutions such as pm2.\nvar clusterWorkerId =  0;\n\n// Counter is used when shortid is called multiple times in one second.\nvar counter;\n\n// Remember the last time shortid was called in case counter is needed.\nvar previousSeconds;\n\n/**\n * Generate unique id\n * Returns string id\n */\nfunction generate() {\n\n    var str = '';\n\n    var seconds = Math.floor((Date.now() - REDUCE_TIME) * 0.001);\n\n    if (seconds === previousSeconds) {\n        counter++;\n    } else {\n        counter = 0;\n        previousSeconds = seconds;\n    }\n\n    str = str + encode_1(alphabet_1.lookup, version);\n    str = str + encode_1(alphabet_1.lookup, clusterWorkerId);\n    if (counter > 0) {\n        str = str + encode_1(alphabet_1.lookup, counter);\n    }\n    str = str + encode_1(alphabet_1.lookup, seconds);\n\n    return str;\n}\n\n\n/**\n * Set the seed.\n * Highly recommended if you don't want people to try to figure out your id schema.\n * exposed as shortid.seed(int)\n * @param seed Integer value to seed the random alphabet.  ALWAYS USE THE SAME SEED or you might get overlaps.\n */\nfunction seed(seedValue) {\n    alphabet_1.seed(seedValue);\n    return module.exports;\n}\n\n/**\n * Set the cluster worker or machine id\n * exposed as shortid.worker(int)\n * @param workerId worker must be positive integer.  Number less than 16 is recommended.\n * returns shortid module so it can be chained.\n */\nfunction worker(workerId) {\n    clusterWorkerId = workerId;\n    return module.exports;\n}\n\n/**\n *\n * sets new characters to use in the alphabet\n * returns the shuffled alphabet\n */\nfunction characters(newCharacters) {\n    if (newCharacters !== undefined) {\n        alphabet_1.characters(newCharacters);\n    }\n\n    return alphabet_1.shuffled();\n}\n\n\n// Export all other functions as properties of the generate function\nmodule.exports = generate;\nmodule.exports.generate = generate;\nmodule.exports.seed = seed;\nmodule.exports.worker = worker;\nmodule.exports.characters = characters;\nmodule.exports.decode = decode_1;\nmodule.exports.isValid = isValid;\n});\nvar lib_1 = lib$1.generate;\nvar lib_2 = lib$1.seed;\nvar lib_3 = lib$1.worker;\nvar lib_4 = lib$1.characters;\nvar lib_5 = lib$1.decode;\nvar lib_6 = lib$1.isValid;\n\nvar shortid = lib$1;\n\nfunction domainSession (domain, connection, logger, successMessages, errorMessages) {\r\n    if (domain == null) {\r\n        domain = \"global\";\r\n    }\r\n    successMessages = successMessages || [\"success\"];\r\n    errorMessages = errorMessages || [\"error\"];\r\n    var isJoined = false;\r\n    var tryReconnecting = false;\r\n    var _latestOptions;\r\n    var _connectionOn = false;\r\n    var callbacks = lib();\r\n    connection.disconnected(handleConnectionDisconnected);\r\n    connection.loggedIn(handleConnectionLoggedIn);\r\n    connection.on(\"success\", function (msg) { return handleSuccessMessage(msg); });\r\n    connection.on(\"error\", function (msg) { return handleErrorMessage(msg); });\r\n    connection.on(\"result\", function (msg) { return handleSuccessMessage(msg); });\r\n    if (successMessages) {\r\n        successMessages.forEach(function (sm) {\r\n            connection.on(sm, function (msg) { return handleSuccessMessage(msg); });\r\n        });\r\n    }\r\n    if (errorMessages) {\r\n        errorMessages.forEach(function (sm) {\r\n            connection.on(sm, function (msg) { return handleErrorMessage(msg); });\r\n        });\r\n    }\r\n    var requestsMap = {};\r\n    function join(options) {\r\n        _latestOptions = options;\r\n        return new Promise(function (resolve, reject) {\r\n            if (isJoined) {\r\n                resolve();\r\n                return;\r\n            }\r\n            var joinPromise;\r\n            if (domain === \"global\") {\r\n                joinPromise = _connectionOn ? Promise.resolve({}) : Promise.reject(\"not connected to gateway\");\r\n            }\r\n            else {\r\n                logger.debug(\"joining domain \" + domain);\r\n                var joinMsg = {\r\n                    type: \"join\",\r\n                    destination: domain,\r\n                    domain: \"global\",\r\n                    options: options,\r\n                };\r\n                joinPromise = send(joinMsg);\r\n            }\r\n            joinPromise\r\n                .then(function () {\r\n                handleJoined();\r\n                resolve();\r\n            })\r\n                .catch(function (err) {\r\n                logger.debug(\"error joining \" + domain + \" domain: \" + JSON.stringify(err));\r\n                reject(err);\r\n            });\r\n        });\r\n    }\r\n    function leave() {\r\n        if (domain === \"global\") {\r\n            return Promise.resolve();\r\n        }\r\n        logger.debug(\"stopping session \" + domain + \"...\");\r\n        var leaveMsg = {\r\n            type: \"leave\",\r\n            destination: domain,\r\n            domain: \"global\",\r\n        };\r\n        tryReconnecting = false;\r\n        return send(leaveMsg).then(function () {\r\n            isJoined = false;\r\n            callbacks.execute(\"onLeft\");\r\n        });\r\n    }\r\n    function handleJoined() {\r\n        logger.debug(\"did join \" + domain);\r\n        isJoined = true;\r\n        var wasReconnect = tryReconnecting;\r\n        tryReconnecting = false;\r\n        callbacks.execute(\"onJoined\", wasReconnect);\r\n    }\r\n    function handleConnectionDisconnected() {\r\n        _connectionOn = false;\r\n        logger.debug(\"connection is down\");\r\n        isJoined = false;\r\n        tryReconnecting = true;\r\n        callbacks.execute(\"onLeft\", { disconnected: true });\r\n    }\r\n    function handleConnectionLoggedIn() {\r\n        _connectionOn = true;\r\n        if (tryReconnecting) {\r\n            logger.debug(\"connection is now up - trying to reconnect...\");\r\n            join(_latestOptions);\r\n        }\r\n    }\r\n    function onJoined(callback) {\r\n        if (isJoined) {\r\n            callback(false);\r\n        }\r\n        return callbacks.add(\"onJoined\", callback);\r\n    }\r\n    function onLeft(callback) {\r\n        if (!isJoined) {\r\n            callback();\r\n        }\r\n        return callbacks.add(\"onLeft\", callback);\r\n    }\r\n    function handleErrorMessage(msg) {\r\n        if (domain !== msg.domain) {\r\n            return;\r\n        }\r\n        var requestId = msg.request_id;\r\n        if (!requestId) {\r\n            return;\r\n        }\r\n        var entry = requestsMap[requestId];\r\n        if (!entry) {\r\n            return;\r\n        }\r\n        entry.error(msg);\r\n    }\r\n    function handleSuccessMessage(msg) {\r\n        if (msg.domain !== domain) {\r\n            return;\r\n        }\r\n        var requestId = msg.request_id;\r\n        if (!requestId) {\r\n            return;\r\n        }\r\n        var entry = requestsMap[requestId];\r\n        if (!entry) {\r\n            return;\r\n        }\r\n        entry.success(msg);\r\n    }\r\n    function getNextRequestId() {\r\n        return shortid();\r\n    }\r\n    function send(msg, tag, options) {\r\n        options = options || {};\r\n        msg.request_id = msg.request_id || getNextRequestId();\r\n        msg.domain = msg.domain || domain;\r\n        if (!options.skipPeerId) {\r\n            msg.peer_id = connection.peerId;\r\n        }\r\n        var requestId = msg.request_id;\r\n        return new Promise(function (resolve, reject) {\r\n            requestsMap[requestId] = {\r\n                success: function (successMsg) {\r\n                    delete requestsMap[requestId];\r\n                    successMsg._tag = tag;\r\n                    resolve(successMsg);\r\n                },\r\n                error: function (errorMsg) {\r\n                    logger.warn(\"GW error - \" + JSON.stringify(errorMsg) + \" for request \" + JSON.stringify(msg));\r\n                    delete requestsMap[requestId];\r\n                    errorMsg._tag = tag;\r\n                    reject(errorMsg);\r\n                },\r\n            };\r\n            connection\r\n                .send(msg, options)\r\n                .catch(function (err) {\r\n                requestsMap[requestId].error({ err: err });\r\n            });\r\n        });\r\n    }\r\n    function sendFireAndForget(msg) {\r\n        msg.request_id = msg.request_id ? msg.request_id : getNextRequestId();\r\n        msg.domain = msg.domain || domain;\r\n        msg.peer_id = connection.peerId;\r\n        return connection.send(msg);\r\n    }\r\n    return {\r\n        join: join,\r\n        leave: leave,\r\n        onJoined: onJoined,\r\n        onLeft: onLeft,\r\n        send: send,\r\n        sendFireAndForget: sendFireAndForget,\r\n        on: function (type, callback) {\r\n            connection.on(type, function (msg) {\r\n                if (msg.domain !== domain) {\r\n                    return;\r\n                }\r\n                try {\r\n                    callback(msg);\r\n                }\r\n                catch (e) {\r\n                    logger.error(\"Callback  failed: \" + e + \" \\n \" + e.stack + \" \\n msg was: \" + JSON.stringify(msg), e);\r\n                }\r\n            });\r\n        },\r\n        loggedIn: function (callback) { return connection.loggedIn(callback); },\r\n        connected: function (callback) { return connection.connected(callback); },\r\n        disconnected: function (callback) { return connection.disconnected(callback); },\r\n        get peerId() {\r\n            return connection.peerId;\r\n        },\r\n        get domain() {\r\n            return domain;\r\n        },\r\n    };\r\n}\n\nvar GW3ProtocolImpl = (function () {\r\n    function GW3ProtocolImpl(connection, settings, logger) {\r\n        var _this = this;\r\n        this.connection = connection;\r\n        this.settings = settings;\r\n        this.logger = logger;\r\n        this.protocolVersion = 3;\r\n        this.datePrefix = \"#T42_DATE#\";\r\n        this.datePrefixLen = this.datePrefix.length;\r\n        this.dateMinLen = this.datePrefixLen + 1;\r\n        this.datePrefixFirstChar = this.datePrefix[0];\r\n        this.registry = lib();\r\n        this._isLoggedIn = false;\r\n        this.shouldTryLogin = true;\r\n        this.initialLogin = true;\r\n        this.initialLoginAttempts = 3;\r\n        this.sessions = [];\r\n        connection.disconnected(function () {\r\n            _this.handleDisconnected();\r\n        });\r\n        this.ping();\r\n    }\r\n    Object.defineProperty(GW3ProtocolImpl.prototype, \"isLoggedIn\", {\r\n        get: function () {\r\n            return this._isLoggedIn;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    GW3ProtocolImpl.prototype.processStringMessage = function (message) {\r\n        var _this = this;\r\n        var msg = JSON.parse(message, function (key, value) {\r\n            if (typeof value !== \"string\") {\r\n                return value;\r\n            }\r\n            if (value.length < _this.dateMinLen) {\r\n                return value;\r\n            }\r\n            if (value[0] !== _this.datePrefixFirstChar) {\r\n                return value;\r\n            }\r\n            if (value.substring(0, _this.datePrefixLen) !== _this.datePrefix) {\r\n                return value;\r\n            }\r\n            try {\r\n                var milliseconds = parseInt(value.substring(_this.datePrefixLen, value.length), 10);\r\n                if (isNaN(milliseconds)) {\r\n                    return value;\r\n                }\r\n                return new Date(milliseconds);\r\n            }\r\n            catch (ex) {\r\n                return value;\r\n            }\r\n        });\r\n        return {\r\n            msg: msg,\r\n            msgType: msg.type,\r\n        };\r\n    };\r\n    GW3ProtocolImpl.prototype.createStringMessage = function (message) {\r\n        var oldToJson = Date.prototype.toJSON;\r\n        try {\r\n            var datePrefix_1 = this.datePrefix;\r\n            Date.prototype.toJSON = function () {\r\n                return datePrefix_1 + this.getTime();\r\n            };\r\n            var result = JSON.stringify(message);\r\n            return result;\r\n        }\r\n        finally {\r\n            Date.prototype.toJSON = oldToJson;\r\n        }\r\n    };\r\n    GW3ProtocolImpl.prototype.processObjectMessage = function (message) {\r\n        if (!message.type) {\r\n            throw new Error(\"Object should have type property\");\r\n        }\r\n        return {\r\n            msg: message,\r\n            msgType: message.type,\r\n        };\r\n    };\r\n    GW3ProtocolImpl.prototype.createObjectMessage = function (message) {\r\n        return message;\r\n    };\r\n    GW3ProtocolImpl.prototype.login = function (config, reconnect) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var authentication, token, e_1, _a, helloMsg, sendOptions, welcomeMsg, msg, token, _b, err_1;\r\n            return __generator(this, function (_c) {\r\n                switch (_c.label) {\r\n                    case 0:\r\n                        this.logger.debug(\"logging in...\");\r\n                        this.loginConfig = config;\r\n                        if (!this.loginConfig) {\r\n                            this.loginConfig = { username: \"\", password: \"\" };\r\n                        }\r\n                        this.shouldTryLogin = true;\r\n                        authentication = {};\r\n                        this.connection.gatewayToken = config.gatewayToken;\r\n                        if (!config.gatewayToken) return [3, 5];\r\n                        if (!reconnect) return [3, 4];\r\n                        _c.label = 1;\r\n                    case 1:\r\n                        _c.trys.push([1, 3, , 4]);\r\n                        return [4, this.getNewGWToken()];\r\n                    case 2:\r\n                        token = _c.sent();\r\n                        config.gatewayToken = token;\r\n                        return [3, 4];\r\n                    case 3:\r\n                        e_1 = _c.sent();\r\n                        this.logger.warn(\"failed to get GW token when reconnecting \" + ((e_1 === null || e_1 === void 0 ? void 0 : e_1.message) || e_1));\r\n                        return [3, 4];\r\n                    case 4:\r\n                        authentication.method = \"gateway-token\";\r\n                        authentication.token = config.gatewayToken;\r\n                        this.connection.gatewayToken = config.gatewayToken;\r\n                        return [3, 10];\r\n                    case 5:\r\n                        if (!(config.flowName === \"sspi\")) return [3, 9];\r\n                        authentication.provider = \"win\";\r\n                        authentication.method = \"access-token\";\r\n                        if (!(config.flowCallback && config.sessionId)) return [3, 7];\r\n                        _a = authentication;\r\n                        return [4, config.flowCallback(config.sessionId, null)];\r\n                    case 6:\r\n                        _a.token =\r\n                            (_c.sent())\r\n                                .data\r\n                                .toString(\"base64\");\r\n                        return [3, 8];\r\n                    case 7: throw new Error(\"Invalid SSPI config\");\r\n                    case 8: return [3, 10];\r\n                    case 9:\r\n                        if (config.token) {\r\n                            authentication.method = \"access-token\";\r\n                            authentication.token = config.token;\r\n                        }\r\n                        else if (config.username) {\r\n                            authentication.method = \"secret\";\r\n                            authentication.login = config.username;\r\n                            authentication.secret = config.password;\r\n                        }\r\n                        else {\r\n                            throw new Error(\"invalid auth message\" + JSON.stringify(config));\r\n                        }\r\n                        _c.label = 10;\r\n                    case 10:\r\n                        helloMsg = {\r\n                            type: \"hello\",\r\n                            identity: this.settings.identity,\r\n                            authentication: authentication\r\n                        };\r\n                        if (config.sessionId) {\r\n                            helloMsg.request_id = config.sessionId;\r\n                        }\r\n                        this.globalDomain = domainSession(\"global\", this.connection, this.logger.subLogger(\"global-domain\"), [\r\n                            \"welcome\",\r\n                            \"token\",\r\n                            \"authentication-request\"\r\n                        ]);\r\n                        sendOptions = { skipPeerId: true };\r\n                        if (this.initialLogin) {\r\n                            sendOptions.retryInterval = this.settings.reconnectInterval;\r\n                            sendOptions.maxRetries = this.settings.reconnectAttempts;\r\n                        }\r\n                        _c.label = 11;\r\n                    case 11:\r\n                        _c.trys.push([11, 19, 20, 21]);\r\n                        welcomeMsg = void 0;\r\n                        _c.label = 12;\r\n                    case 12:\r\n                        return [4, this.globalDomain.send(helloMsg, undefined, sendOptions)];\r\n                    case 13:\r\n                        msg = _c.sent();\r\n                        if (!(msg.type === \"authentication-request\")) return [3, 16];\r\n                        token = Buffer.from(msg.authentication.token, \"base64\");\r\n                        if (!(config.flowCallback && config.sessionId)) return [3, 15];\r\n                        _b = helloMsg.authentication;\r\n                        return [4, config.flowCallback(config.sessionId, token)];\r\n                    case 14:\r\n                        _b.token =\r\n                            (_c.sent())\r\n                                .data\r\n                                .toString(\"base64\");\r\n                        _c.label = 15;\r\n                    case 15:\r\n                        helloMsg.request_id = config.sessionId;\r\n                        return [3, 12];\r\n                    case 16:\r\n                        if (msg.type === \"welcome\") {\r\n                            welcomeMsg = msg;\r\n                            return [3, 18];\r\n                        }\r\n                        else if (msg.type === \"error\") {\r\n                            throw new Error(\"Authentication failed: \" + msg.reason);\r\n                        }\r\n                        else {\r\n                            throw new Error(\"Unexpected message type during authentication: \" + msg.type);\r\n                        }\r\n                    case 17: return [3, 12];\r\n                    case 18:\r\n                        this.initialLogin = false;\r\n                        this.logger.debug(\"login successful with peerId \" + welcomeMsg.peer_id);\r\n                        this.connection.peerId = welcomeMsg.peer_id;\r\n                        this.connection.resolvedIdentity = welcomeMsg.resolved_identity;\r\n                        this.connection.availableDomains = welcomeMsg.available_domains;\r\n                        if (welcomeMsg.options) {\r\n                            this.connection.token = welcomeMsg.options.access_token;\r\n                            this.connection.info = welcomeMsg.options.info;\r\n                        }\r\n                        this.setLoggedIn(true);\r\n                        return [2, welcomeMsg.resolved_identity];\r\n                    case 19:\r\n                        err_1 = _c.sent();\r\n                        this.logger.error(\"error sending hello message - \" + (err_1.message || err_1.msg || err_1.reason || err_1), err_1);\r\n                        throw err_1;\r\n                    case 20:\r\n                        if (config && config.flowCallback && config.sessionId) {\r\n                            config.flowCallback(config.sessionId, null);\r\n                        }\r\n                        return [7];\r\n                    case 21: return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    GW3ProtocolImpl.prototype.logout = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var promises;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        this.logger.debug(\"logging out...\");\r\n                        this.shouldTryLogin = false;\r\n                        if (this.pingTimer) {\r\n                            clearTimeout(this.pingTimer);\r\n                        }\r\n                        promises = this.sessions.map(function (session) {\r\n                            session.leave();\r\n                        });\r\n                        return [4, Promise.all(promises)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    GW3ProtocolImpl.prototype.loggedIn = function (callback) {\r\n        if (this._isLoggedIn) {\r\n            callback();\r\n        }\r\n        return this.registry.add(\"onLoggedIn\", callback);\r\n    };\r\n    GW3ProtocolImpl.prototype.domain = function (domainName, domainLogger, successMessages, errorMessages) {\r\n        var session = this.sessions.filter(function (s) { return s.domain === domainName; })[0];\r\n        if (!session) {\r\n            session = domainSession(domainName, this.connection, domainLogger, successMessages, errorMessages);\r\n            this.sessions.push(session);\r\n        }\r\n        return session;\r\n    };\r\n    GW3ProtocolImpl.prototype.handleDisconnected = function () {\r\n        var _this = this;\r\n        this.setLoggedIn(false);\r\n        var tryToLogin = this.shouldTryLogin;\r\n        if (tryToLogin && this.initialLogin) {\r\n            if (this.initialLoginAttempts <= 0) {\r\n                return;\r\n            }\r\n            this.initialLoginAttempts--;\r\n        }\r\n        this.logger.debug(\"disconnected - will try new login?\" + this.shouldTryLogin);\r\n        if (this.shouldTryLogin) {\r\n            if (!this.loginConfig) {\r\n                throw new Error(\"no login info\");\r\n            }\r\n            this.connection.login(this.loginConfig, true)\r\n                .catch(function () {\r\n                setTimeout(_this.handleDisconnected.bind(_this), _this.settings.reconnectInterval || 1000);\r\n            });\r\n        }\r\n    };\r\n    GW3ProtocolImpl.prototype.setLoggedIn = function (value) {\r\n        this._isLoggedIn = value;\r\n        if (this._isLoggedIn) {\r\n            this.registry.execute(\"onLoggedIn\");\r\n        }\r\n    };\r\n    GW3ProtocolImpl.prototype.ping = function () {\r\n        var _this = this;\r\n        if (!this.shouldTryLogin) {\r\n            return;\r\n        }\r\n        if (this._isLoggedIn) {\r\n            this.connection.send({ type: \"ping\" });\r\n        }\r\n        this.pingTimer = setTimeout(function () {\r\n            _this.ping();\r\n        }, 30 * 1000);\r\n    };\r\n    GW3ProtocolImpl.prototype.authToken = function () {\r\n        var createTokenReq = {\r\n            type: \"create-token\"\r\n        };\r\n        if (!this.globalDomain) {\r\n            return Promise.reject(new Error(\"no global domain session\"));\r\n        }\r\n        return this.globalDomain.send(createTokenReq)\r\n            .then(function (res) {\r\n            return res.token;\r\n        });\r\n    };\r\n    GW3ProtocolImpl.prototype.getNewGWToken = function () {\r\n        if (typeof window !== undefined) {\r\n            var glue42gd = window.glue42gd;\r\n            if (glue42gd) {\r\n                return glue42gd.getGWToken();\r\n            }\r\n        }\r\n        return Promise.reject(new Error(\"not running in GD\"));\r\n    };\r\n    return GW3ProtocolImpl;\r\n}());\n\nvar MessageReplayerImpl = (function () {\r\n    function MessageReplayerImpl(specs) {\r\n        this.specsNames = [];\r\n        this.messages = {};\r\n        this.subs = {};\r\n        this.subsRefCount = {};\r\n        this.specs = {};\r\n        for (var _i = 0, specs_1 = specs; _i < specs_1.length; _i++) {\r\n            var spec = specs_1[_i];\r\n            this.specs[spec.name] = spec;\r\n            this.specsNames.push(spec.name);\r\n        }\r\n    }\r\n    MessageReplayerImpl.prototype.init = function (connection) {\r\n        var _this = this;\r\n        this.connection = connection;\r\n        for (var _i = 0, _a = this.specsNames; _i < _a.length; _i++) {\r\n            var name_1 = _a[_i];\r\n            var _loop_1 = function (type) {\r\n                var refCount = this_1.subsRefCount[type];\r\n                if (!refCount) {\r\n                    refCount = 0;\r\n                }\r\n                refCount += 1;\r\n                this_1.subsRefCount[type] = refCount;\r\n                if (refCount > 1) {\r\n                    return \"continue\";\r\n                }\r\n                var sub = connection.on(type, function (msg) { return _this.processMessage(type, msg); });\r\n                this_1.subs[type] = sub;\r\n            };\r\n            var this_1 = this;\r\n            for (var _b = 0, _c = this.specs[name_1].types; _b < _c.length; _b++) {\r\n                var type = _c[_b];\r\n                _loop_1(type);\r\n            }\r\n        }\r\n    };\r\n    MessageReplayerImpl.prototype.processMessage = function (type, msg) {\r\n        if (this.isDone || !msg) {\r\n            return;\r\n        }\r\n        for (var _i = 0, _a = this.specsNames; _i < _a.length; _i++) {\r\n            var name_2 = _a[_i];\r\n            if (this.specs[name_2].types.indexOf(type) !== -1) {\r\n                var messages = this.messages[name_2] || [];\r\n                this.messages[name_2] = messages;\r\n                messages.push(msg);\r\n            }\r\n        }\r\n    };\r\n    MessageReplayerImpl.prototype.drain = function (name, callback) {\r\n        var _a;\r\n        if (callback) {\r\n            (this.messages[name] || []).forEach(callback);\r\n        }\r\n        delete this.messages[name];\r\n        for (var _i = 0, _b = this.specs[name].types; _i < _b.length; _i++) {\r\n            var type = _b[_i];\r\n            this.subsRefCount[type] -= 1;\r\n            if (this.subsRefCount[type] <= 0) {\r\n                (_a = this.connection) === null || _a === void 0 ? void 0 : _a.off(this.subs[type]);\r\n                delete this.subs[type];\r\n                delete this.subsRefCount[type];\r\n            }\r\n        }\r\n        delete this.specs[name];\r\n        if (!this.specs.length) {\r\n            this.isDone = true;\r\n        }\r\n    };\r\n    return MessageReplayerImpl;\r\n}());\n\nvar PromisePlus = function (executor, timeoutMilliseconds, timeoutMessage) {\r\n    return new Promise(function (resolve, reject) {\r\n        var timeout = setTimeout(function () {\r\n            var message = timeoutMessage || \"Promise timeout hit: \" + timeoutMilliseconds;\r\n            reject(message);\r\n        }, timeoutMilliseconds);\r\n        var providedPromise = new Promise(executor);\r\n        providedPromise\r\n            .then(function (result) {\r\n            clearTimeout(timeout);\r\n            resolve(result);\r\n        })\r\n            .catch(function (error) {\r\n            clearTimeout(timeout);\r\n            reject(error);\r\n        });\r\n    });\r\n};\n\nvar WebPlatformTransport = (function () {\r\n    function WebPlatformTransport(settings, logger, identity) {\r\n        this.settings = settings;\r\n        this.logger = logger;\r\n        this.identity = identity;\r\n        this.parentReady = false;\r\n        this.iAmConnected = false;\r\n        this.rejected = false;\r\n        this.children = [];\r\n        this.parentPingTimeout = 3000;\r\n        this.connectionRequestTimeout = 5000;\r\n        this.defaultTargetString = \"*\";\r\n        this.registry = lib();\r\n        this.messages = {\r\n            connectionAccepted: { name: \"connectionAccepted\", handle: this.handleConnectionAccepted.bind(this) },\r\n            connectionRejected: { name: \"connectionRejected\", handle: this.handleConnectionRejected.bind(this) },\r\n            connectionRequest: { name: \"connectionRequest\", handle: this.handleConnectionRequest.bind(this) },\r\n            parentReady: { name: \"parentReady\", handle: this.handleParentReady.bind(this) },\r\n            parentPing: { name: \"parentPing\", handle: this.handleParentPing.bind(this) },\r\n            platformPing: { name: \"platformPing\", handle: this.handlePlatformPing.bind(this) },\r\n            platformUnload: { name: \"platformUnload\", handle: this.handlePlatformUnload.bind(this) },\r\n            platformReady: { name: \"platformReady\", handle: this.handlePlatformReady.bind(this) },\r\n            clientUnload: { name: \"clientUnload\", handle: this.handleClientUnload.bind(this) }\r\n        };\r\n        this.setUpMessageListener();\r\n        this.setUpUnload();\r\n        if (!this.settings.port) {\r\n            this.parent = window.opener || window.top;\r\n            this.parentType = window.opener ? \"opener\" :\r\n                window.name.indexOf(\"#wsp\") !== -1 ? \"workspace\" : \"top\";\r\n        }\r\n    }\r\n    Object.defineProperty(WebPlatformTransport.prototype, \"transportWindowId\", {\r\n        get: function () {\r\n            return this.publicWindowId;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    WebPlatformTransport.prototype.sendObject = function (msg) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                if (!this.port) {\r\n                    throw new Error(\"Cannot send message, because the port was not opened yet\");\r\n                }\r\n                this.port.postMessage(msg);\r\n                return [2];\r\n            });\r\n        });\r\n    };\r\n    Object.defineProperty(WebPlatformTransport.prototype, \"isObjectBasedTransport\", {\r\n        get: function () {\r\n            return true;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    WebPlatformTransport.prototype.onMessage = function (callback) {\r\n        return this.registry.add(\"onMessage\", callback);\r\n    };\r\n    WebPlatformTransport.prototype.send = function () {\r\n        return Promise.reject(\"not supported\");\r\n    };\r\n    WebPlatformTransport.prototype.onConnectedChanged = function (callback) {\r\n        return this.registry.add(\"onConnectedChanged\", callback);\r\n    };\r\n    WebPlatformTransport.prototype.open = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        this.logger.debug(\"opening a connection to the web platform gateway.\");\r\n                        return [4, this.connect()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        this.notifyStatusChanged(true);\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.close = function () {\r\n        return Promise.resolve();\r\n    };\r\n    WebPlatformTransport.prototype.name = function () {\r\n        return \"web-platform\";\r\n    };\r\n    WebPlatformTransport.prototype.reconnect = function () {\r\n        return Promise.resolve();\r\n    };\r\n    WebPlatformTransport.prototype.connect = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (this.parentReady) {\r\n                            this.logger.debug(\"cancelling connection attempt, because this client's parent has already given a ready signal\");\r\n                            return [2];\r\n                        }\r\n                        if (this.settings.port) {\r\n                            this.logger.debug(\"opening an internal web platform connection\");\r\n                            this.port = this.settings.port;\r\n                            this.publicWindowId = this.settings.windowId;\r\n                            if (this.identity) {\r\n                                this.identity.windowId = this.publicWindowId;\r\n                            }\r\n                            this.port.onmessage = function (event) { return _this.registry.execute(\"onMessage\", event.data); };\r\n                            this.logger.debug(\"internal web platform connection completed\");\r\n                            return [2];\r\n                        }\r\n                        if (!this.parentType || !this.parent) {\r\n                            throw new Error(\"Cannot initiate a connection, because there is no opener, no top and no port.\");\r\n                        }\r\n                        this.logger.debug(\"opening a \" + (this.parentType === \"opener\" ? \"child\" : \"grandchild\") + \" client web platform connection\");\r\n                        return [4, this.waitParent(this.parent, this.parentType)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [4, this.initiateRemoteConnection(this.parent, this.parentType)];\r\n                    case 2:\r\n                        _a.sent();\r\n                        this.logger.debug(\"the \" + (this.parentType === \"opener\" ? \"child\" : \"grandchild\") + \" client is connected\");\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.initiateRemoteConnection = function (target, parentType) {\r\n        var _this = this;\r\n        return PromisePlus(function (resolve, reject) {\r\n            _this.connectionResolve = resolve;\r\n            _this.connectionReject = reject;\r\n            _this.myClientId = shortid();\r\n            var bridgeInstanceId = _this.parentType === \"workspace\" ? window.name.substring(0, window.name.indexOf(\"#wsp\")) : window.name;\r\n            var request = {\r\n                glue42core: {\r\n                    type: _this.messages.connectionRequest.name,\r\n                    clientId: _this.myClientId,\r\n                    clientType: parentType === \"top\" || parentType === \"workspace\" ? \"grandChild\" : \"child\",\r\n                    bridgeInstanceId: bridgeInstanceId\r\n                }\r\n            };\r\n            _this.logger.debug(\"sending connection request to \" + parentType);\r\n            target.postMessage(request, _this.defaultTargetString);\r\n        }, this.connectionRequestTimeout, \"The connection to the opener/top window timed out\");\r\n    };\r\n    WebPlatformTransport.prototype.waitParent = function (target, parentType) {\r\n        var _this = this;\r\n        return PromisePlus(function (resolve) {\r\n            _this.parentPingResolve = resolve;\r\n            var message = {\r\n                glue42core: {\r\n                    type: parentType === \"opener\" ? _this.messages.platformPing.name : _this.messages.parentPing.name\r\n                }\r\n            };\r\n            _this.logger.debug(\"checking for \" + parentType + \" window availability\");\r\n            target.postMessage(message, _this.defaultTargetString);\r\n        }, this.parentPingTimeout, \"Cannot initiate glue, because this window was not opened or created by a glue client\");\r\n    };\r\n    WebPlatformTransport.prototype.setUpMessageListener = function () {\r\n        var _this = this;\r\n        if (this.settings.port) {\r\n            this.logger.debug(\"skipping generic message listener, because this is an internal client\");\r\n            return;\r\n        }\r\n        window.addEventListener(\"message\", function (event) {\r\n            var _a;\r\n            var data = (_a = event.data) === null || _a === void 0 ? void 0 : _a.glue42core;\r\n            if (!data || _this.rejected) {\r\n                return;\r\n            }\r\n            if (!_this.checkMessageTypeValid(data.type)) {\r\n                _this.logger.error(\"cannot handle the incoming glue42 core message, because the type is invalid: \" + data.type);\r\n                return;\r\n            }\r\n            var messageType = data.type;\r\n            _this.logger.debug(\"received valid glue42core message of type: \" + messageType);\r\n            _this.messages[messageType].handle(event);\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.setUpUnload = function () {\r\n        var _this = this;\r\n        if (this.settings.port) {\r\n            this.logger.debug(\"skipping unload event listener, because this is an internal client\");\r\n            return;\r\n        }\r\n        window.addEventListener(\"beforeunload\", function () {\r\n            var _a, _b;\r\n            var message = {\r\n                glue42core: {\r\n                    type: _this.messages.clientUnload.name,\r\n                    data: {\r\n                        clientId: _this.myClientId,\r\n                        ownWindowId: (_a = _this.identity) === null || _a === void 0 ? void 0 : _a.windowId\r\n                    }\r\n                }\r\n            };\r\n            if (_this.parent) {\r\n                _this.parent.postMessage(message, _this.defaultTargetString);\r\n            }\r\n            (_b = _this.port) === null || _b === void 0 ? void 0 : _b.postMessage(message);\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.handleParentReady = function () {\r\n        this.logger.debug(\"handling the ready signal from the parent, by resoling the pending promise.\");\r\n        this.parentReady = true;\r\n        if (this.parentPingResolve) {\r\n            this.parentPingResolve();\r\n            delete this.parentPingResolve;\r\n            return;\r\n        }\r\n        this.logger.debug(\"silently handling the ready signal from the top parent, because there is no defined promise\");\r\n    };\r\n    WebPlatformTransport.prototype.handlePlatformReady = function () {\r\n        this.logger.debug(\"the web platform gave the ready signal\");\r\n        this.parentReady = true;\r\n        if (this.parentPingResolve) {\r\n            this.parentPingResolve();\r\n            delete this.parentPingResolve;\r\n            return;\r\n        }\r\n        this.logger.debug(\"silently handling the ready signal from the top parent, because there is no defined promise\");\r\n    };\r\n    WebPlatformTransport.prototype.handleConnectionAccepted = function (event) {\r\n        var _a;\r\n        var data = (_a = event.data) === null || _a === void 0 ? void 0 : _a.glue42core;\r\n        if (this.myClientId === data.clientId) {\r\n            return this.handleAcceptanceOfMyRequest(data);\r\n        }\r\n        return this.handleAcceptanceOfGrandChildRequest(data, event);\r\n    };\r\n    WebPlatformTransport.prototype.handleAcceptanceOfMyRequest = function (data) {\r\n        var _this = this;\r\n        this.logger.debug(\"handling a connection accepted signal targeted at me.\");\r\n        if (!data.port) {\r\n            this.logger.error(\"cannot set up my connection, because I was not provided with a port\");\r\n            return;\r\n        }\r\n        this.publicWindowId = this.parentType === \"opener\" ? window.name :\r\n            this.parentType === \"top\" ? data.parentWindowId :\r\n                window.name.substring(0, window.name.indexOf(\"#wsp\"));\r\n        if (this.identity && this.parentType !== \"top\") {\r\n            this.identity.windowId = this.publicWindowId;\r\n        }\r\n        if (this.identity && data.appName) {\r\n            this.identity.application = data.appName;\r\n            this.identity.applicationName = data.appName;\r\n        }\r\n        this.port = data.port;\r\n        this.port.onmessage = function (e) { return _this.registry.execute(\"onMessage\", e.data); };\r\n        if (this.connectionResolve) {\r\n            this.logger.debug(\"my connection is set up, calling the connection resolve.\");\r\n            this.connectionResolve();\r\n            delete this.connectionResolve;\r\n            return;\r\n        }\r\n        this.logger.error(\"unable to call the connection resolve, because no connection promise was found\");\r\n    };\r\n    WebPlatformTransport.prototype.handleAcceptanceOfGrandChildRequest = function (data, event) {\r\n        this.logger.debug(\"handling a connection accepted signal targeted at a grandchild: \" + data.clientId);\r\n        var child = this.children.find(function (c) { return c.grandChildId === data.clientId; });\r\n        if (!child) {\r\n            this.logger.error(\"cannot handle connection accepted for grandchild: \" + data.clientId + \", because there is no grandchild with this id\");\r\n            return;\r\n        }\r\n        child.connected = true;\r\n        this.logger.debug(\"the grandchild connection for \" + data.clientId + \" is set up, forwarding the success message and the gateway port\");\r\n        data.parentWindowId = this.publicWindowId;\r\n        child.source.postMessage(event.data, child.origin, [data.port]);\r\n        return;\r\n    };\r\n    WebPlatformTransport.prototype.handleConnectionRejected = function () {\r\n        this.logger.debug(\"handling a connection rejection. Most likely the reason is that this window was not created by a glue API call\");\r\n        if (this.connectionReject) {\r\n            this.connectionReject(\"The platform connection was rejected. Most likely because this window was not created by a glue API call\");\r\n            delete this.connectionReject;\r\n        }\r\n    };\r\n    WebPlatformTransport.prototype.handleConnectionRequest = function (event) {\r\n        var source = event.source;\r\n        var data = event.data.glue42core;\r\n        if (!data.clientType || data.clientType !== \"grandChild\") {\r\n            return this.rejectConnectionRequest(source, event.origin, \"rejecting a connection request, because the source was not opened by a glue API call\");\r\n        }\r\n        if (!data.clientId) {\r\n            return this.rejectConnectionRequest(source, event.origin, \"rejecting a connection request, because the source did not provide a valid id\");\r\n        }\r\n        if (this.parentType !== \"opener\" || !this.parent) {\r\n            return this.rejectConnectionRequest(source, event.origin, \"Cannot forward the connection request, because no direct connection to the platform was found\");\r\n        }\r\n        this.logger.debug(\"handling a connection request for a grandchild: \" + data.clientId);\r\n        this.children.push({ grandChildId: data.clientId, source: source, connected: false, origin: event.origin });\r\n        this.logger.debug(\"grandchild: \" + data.clientId + \" is prepared, forwarding connection request to the platform\");\r\n        this.parent.postMessage(event.data, this.defaultTargetString);\r\n    };\r\n    WebPlatformTransport.prototype.handleParentPing = function (event) {\r\n        if (!this.parentReady) {\r\n            this.logger.debug(\"my parent is not ready, I am ignoring the parent ping\");\r\n            return;\r\n        }\r\n        if (!this.iAmConnected) {\r\n            this.logger.debug(\"i am not fully connected yet, I am ignoring the parent ping\");\r\n            return;\r\n        }\r\n        var message = {\r\n            glue42core: {\r\n                type: this.messages.parentReady.name\r\n            }\r\n        };\r\n        var source = event.source;\r\n        this.logger.debug(\"responding to a parent ping with a ready message\");\r\n        source.postMessage(message, event.origin);\r\n    };\r\n    WebPlatformTransport.prototype.handlePlatformUnload = function (event) {\r\n        this.logger.debug(\"detected a web platform unload\");\r\n        this.parentReady = false;\r\n        if (this.children.length) {\r\n            this.logger.debug(\"forwarding the platform unload to all known children and starting platform discovery polling\");\r\n            this.children.forEach(function (child) { return child.source.postMessage(event.data, child.origin); });\r\n        }\r\n        this.notifyStatusChanged(false, \"Gateway unloaded\");\r\n    };\r\n    WebPlatformTransport.prototype.handleClientUnload = function (event) {\r\n        var data = event.data.glue42core;\r\n        if (!data.clientId) {\r\n            this.logger.warn(\"cannot process grand child unload, because the provided id was not valid\");\r\n            return;\r\n        }\r\n        var foundChild = this.children.find(function (child) { return child.grandChildId === data.clientId; });\r\n        if (!foundChild) {\r\n            this.logger.warn(\"cannot process grand child unload, because this client is unaware of this grandchild\");\r\n            return;\r\n        }\r\n        this.logger.debug(\"handling grandchild unload for id: \" + data.clientId);\r\n        this.children = this.children.filter(function (child) { return child.grandChildId !== data.clientId; });\r\n    };\r\n    WebPlatformTransport.prototype.handlePlatformPing = function () {\r\n        this.logger.error(\"cannot handle platform ping, because this is not a platform calls handling component\");\r\n    };\r\n    WebPlatformTransport.prototype.notifyStatusChanged = function (status, reason) {\r\n        this.iAmConnected = status;\r\n        this.registry.execute(\"onConnectedChanged\", status, reason);\r\n    };\r\n    WebPlatformTransport.prototype.checkMessageTypeValid = function (typeToValidate) {\r\n        return typeof typeToValidate === \"string\" && !!this.messages[typeToValidate];\r\n    };\r\n    WebPlatformTransport.prototype.rejectConnectionRequest = function (source, origin, reason) {\r\n        this.rejected = true;\r\n        this.logger.error(reason);\r\n        var rejection = {\r\n            glue42core: {\r\n                type: this.messages.connectionRejected.name\r\n            }\r\n        };\r\n        source.postMessage(rejection, origin);\r\n    };\r\n    return WebPlatformTransport;\r\n}());\n\nvar Connection = (function () {\r\n    function Connection(settings, logger) {\r\n        this.settings = settings;\r\n        this.logger = logger;\r\n        this.messageHandlers = {};\r\n        this.ids = 1;\r\n        this.registry = lib();\r\n        this._connected = false;\r\n        this.isTrace = false;\r\n        settings = settings || {};\r\n        settings.reconnectAttempts = settings.reconnectAttempts || 10;\r\n        settings.reconnectInterval = settings.reconnectInterval || 1000;\r\n        if (settings.inproc) {\r\n            this.transport = new InProcTransport(settings.inproc, logger.subLogger(\"inMemory\"));\r\n        }\r\n        else if (settings.sharedWorker) {\r\n            this.transport = new SharedWorkerTransport(settings.sharedWorker, logger.subLogger(\"shared-worker\"));\r\n        }\r\n        else if (settings.webPlatform) {\r\n            this.transport = new WebPlatformTransport(settings.webPlatform, logger.subLogger(\"web-platform\"), settings.identity);\r\n        }\r\n        else if (settings.ws !== undefined) {\r\n            this.transport = new WS(settings, logger.subLogger(\"ws\"));\r\n        }\r\n        else {\r\n            throw new Error(\"No connection information specified\");\r\n        }\r\n        this.isTrace = logger.canPublish(\"trace\");\r\n        logger.debug(\"starting with \" + this.transport.name() + \" transport\");\r\n        this.protocol = new GW3ProtocolImpl(this, settings, logger.subLogger(\"protocol\"));\r\n        this.transport.onConnectedChanged(this.handleConnectionChanged.bind(this));\r\n        this.transport.onMessage(this.handleTransportMessage.bind(this));\r\n        if (settings.replaySpecs && settings.replaySpecs.length) {\r\n            this.replayer = new MessageReplayerImpl(settings.replaySpecs);\r\n            this.replayer.init(this);\r\n        }\r\n    }\r\n    Object.defineProperty(Connection.prototype, \"protocolVersion\", {\r\n        get: function () {\r\n            var _a;\r\n            return (_a = this.protocol) === null || _a === void 0 ? void 0 : _a.protocolVersion;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Connection.prototype.send = function (message, options) {\r\n        if (this.transport.sendObject &&\r\n            this.transport.isObjectBasedTransport) {\r\n            var msg = this.protocol.createObjectMessage(message);\r\n            if (this.isTrace) {\r\n                this.logger.trace(\">> \" + JSON.stringify(msg));\r\n            }\r\n            return this.transport.sendObject(msg, options);\r\n        }\r\n        else {\r\n            var strMessage = this.protocol.createStringMessage(message);\r\n            if (this.isTrace) {\r\n                this.logger.trace(\">> \" + strMessage);\r\n            }\r\n            return this.transport.send(strMessage, options);\r\n        }\r\n    };\r\n    Connection.prototype.on = function (type, messageHandler) {\r\n        type = type.toLowerCase();\r\n        if (this.messageHandlers[type] === undefined) {\r\n            this.messageHandlers[type] = {};\r\n        }\r\n        var id = this.ids++;\r\n        this.messageHandlers[type][id] = messageHandler;\r\n        return {\r\n            type: type,\r\n            id: id,\r\n        };\r\n    };\r\n    Connection.prototype.off = function (info) {\r\n        delete this.messageHandlers[info.type.toLowerCase()][info.id];\r\n    };\r\n    Object.defineProperty(Connection.prototype, \"isConnected\", {\r\n        get: function () {\r\n            return this.protocol.isLoggedIn;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Connection.prototype.connected = function (callback) {\r\n        var _this = this;\r\n        return this.protocol.loggedIn(function () {\r\n            callback(_this.settings.ws || _this.settings.sharedWorker || \"\");\r\n        });\r\n    };\r\n    Connection.prototype.disconnected = function (callback) {\r\n        return this.registry.add(\"disconnected\", callback);\r\n    };\r\n    Connection.prototype.login = function (authRequest, reconnect) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var identity;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4, this.transport.open()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        timer(\"connection\").mark(\"transport-opened\");\r\n                        identity = this.protocol.login(authRequest, reconnect);\r\n                        timer(\"connection\").mark(\"protocol-logged-in\");\r\n                        return [2, identity];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Connection.prototype.logout = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4, this.protocol.logout()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [4, this.transport.close()];\r\n                    case 2:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Connection.prototype.loggedIn = function (callback) {\r\n        return this.protocol.loggedIn(callback);\r\n    };\r\n    Connection.prototype.domain = function (domain, successMessages, errorMessages) {\r\n        return this.protocol.domain(domain, this.logger.subLogger(\"domain=\" + domain), successMessages, errorMessages);\r\n    };\r\n    Connection.prototype.authToken = function () {\r\n        return this.protocol.authToken();\r\n    };\r\n    Connection.prototype.reconnect = function () {\r\n        return this.transport.reconnect();\r\n    };\r\n    Connection.prototype.distributeMessage = function (message, type) {\r\n        var _this = this;\r\n        var handlers = this.messageHandlers[type.toLowerCase()];\r\n        if (handlers !== undefined) {\r\n            Object.keys(handlers).forEach(function (handlerId) {\r\n                var handler = handlers[handlerId];\r\n                if (handler !== undefined) {\r\n                    try {\r\n                        handler(message);\r\n                    }\r\n                    catch (error) {\r\n                        try {\r\n                            _this.logger.error(\"Message handler failed with \" + error.stack, error);\r\n                        }\r\n                        catch (loggerError) {\r\n                            console.log(\"Message handler failed\", error);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    };\r\n    Connection.prototype.handleConnectionChanged = function (connected) {\r\n        if (this._connected === connected) {\r\n            return;\r\n        }\r\n        this._connected = connected;\r\n        if (connected) {\r\n            this.registry.execute(\"connected\");\r\n        }\r\n        else {\r\n            this.registry.execute(\"disconnected\");\r\n        }\r\n    };\r\n    Connection.prototype.handleTransportMessage = function (msg) {\r\n        var msgObj;\r\n        if (typeof msg === \"string\") {\r\n            msgObj = this.protocol.processStringMessage(msg);\r\n        }\r\n        else {\r\n            msgObj = this.protocol.processObjectMessage(msg);\r\n        }\r\n        if (this.isTrace) {\r\n            this.logger.trace(\"<< \" + JSON.stringify(msgObj));\r\n        }\r\n        this.distributeMessage(msgObj.msg, msgObj.msgType);\r\n    };\r\n    return Connection;\r\n}());\n\nvar order = [\"trace\", \"debug\", \"info\", \"warn\", \"error\", \"off\"];\r\nvar Logger = (function () {\r\n    function Logger(name, parent, logFn) {\r\n        this.name = name;\r\n        this.parent = parent;\r\n        this.subLoggers = [];\r\n        this.logFn = console;\r\n        this.customLogFn = false;\r\n        this.name = name;\r\n        if (parent) {\r\n            this.path = parent.path + \".\" + name;\r\n        }\r\n        else {\r\n            this.path = name;\r\n        }\r\n        this.loggerFullName = \"[\" + this.path + \"]\";\r\n        this.includeTimeAndLevel = !logFn;\r\n        if (logFn) {\r\n            this.logFn = logFn;\r\n            this.customLogFn = true;\r\n        }\r\n    }\r\n    Logger.prototype.subLogger = function (name) {\r\n        var existingSub = this.subLoggers.filter(function (subLogger) {\r\n            return subLogger.name === name;\r\n        })[0];\r\n        if (existingSub !== undefined) {\r\n            return existingSub;\r\n        }\r\n        Object.keys(this).forEach(function (key) {\r\n            if (key === name) {\r\n                throw new Error(\"This sub logger name is not allowed.\");\r\n            }\r\n        });\r\n        var sub = new Logger(name, this, this.customLogFn ? this.logFn : undefined);\r\n        this.subLoggers.push(sub);\r\n        return sub;\r\n    };\r\n    Logger.prototype.publishLevel = function (level) {\r\n        var _a;\r\n        if (level) {\r\n            this._publishLevel = level;\r\n        }\r\n        return this._publishLevel || ((_a = this.parent) === null || _a === void 0 ? void 0 : _a.publishLevel());\r\n    };\r\n    Logger.prototype.consoleLevel = function (level) {\r\n        var _a;\r\n        if (level) {\r\n            this._consoleLevel = level;\r\n        }\r\n        return this._consoleLevel || ((_a = this.parent) === null || _a === void 0 ? void 0 : _a.consoleLevel());\r\n    };\r\n    Logger.prototype.log = function (message, level, error) {\r\n        this.publishMessage(level || \"info\", message, error);\r\n    };\r\n    Logger.prototype.trace = function (message) {\r\n        this.log(message, \"trace\");\r\n    };\r\n    Logger.prototype.debug = function (message) {\r\n        this.log(message, \"debug\");\r\n    };\r\n    Logger.prototype.info = function (message) {\r\n        this.log(message, \"info\");\r\n    };\r\n    Logger.prototype.warn = function (message) {\r\n        this.log(message, \"warn\");\r\n    };\r\n    Logger.prototype.error = function (message, err) {\r\n        this.log(message, \"error\");\r\n    };\r\n    Logger.prototype.canPublish = function (level, compareWith) {\r\n        var levelIdx = order.indexOf(level);\r\n        var restrictionIdx = order.indexOf(compareWith || this.consoleLevel() || \"trace\");\r\n        return levelIdx >= restrictionIdx;\r\n    };\r\n    Logger.prototype.publishMessage = function (level, message, error) {\r\n        var loggerName = this.loggerFullName;\r\n        if (level === \"error\" && !error) {\r\n            var e = new Error();\r\n            if (e.stack) {\r\n                message =\r\n                    message +\r\n                        \"\\n\" +\r\n                        e.stack\r\n                            .split(\"\\n\")\r\n                            .slice(3)\r\n                            .join(\"\\n\");\r\n            }\r\n        }\r\n        if (this.canPublish(level, this.publishLevel())) {\r\n            var interop = Logger.Interop;\r\n            if (interop) {\r\n                try {\r\n                    if (interop.methods({ name: Logger.InteropMethodName }).length > 0) {\r\n                        interop.invoke(Logger.InteropMethodName, {\r\n                            msg: \"\" + message,\r\n                            logger: loggerName,\r\n                            level: level\r\n                        });\r\n                    }\r\n                }\r\n                catch (_a) {\r\n                }\r\n            }\r\n        }\r\n        if (this.canPublish(level)) {\r\n            var prefix = \"\";\r\n            if (this.includeTimeAndLevel) {\r\n                var date = new Date();\r\n                var time = date.getHours() + \":\" + date.getMinutes() + \":\" + date.getSeconds() + \":\" + date.getMilliseconds();\r\n                prefix = \"[\" + time + \"] [\" + level + \"] \";\r\n            }\r\n            var toPrint = \"\" + prefix + loggerName + \": \" + message;\r\n            switch (level) {\r\n                case \"trace\":\r\n                    this.logFn.debug(toPrint);\r\n                    break;\r\n                case \"debug\":\r\n                    if (this.logFn.debug) {\r\n                        this.logFn.debug(toPrint);\r\n                    }\r\n                    else {\r\n                        this.logFn.log(toPrint);\r\n                    }\r\n                    break;\r\n                case \"info\":\r\n                    this.logFn.info(toPrint);\r\n                    break;\r\n                case \"warn\":\r\n                    this.logFn.warn(toPrint);\r\n                    break;\r\n                case \"error\":\r\n                    this.logFn.error(toPrint, error);\r\n                    break;\r\n            }\r\n        }\r\n    };\r\n    Logger.InteropMethodName = \"T42.AppLogger.Log\";\r\n    return Logger;\r\n}());\n\nvar GW_MESSAGE_CREATE_CONTEXT = \"create-context\";\r\nvar GW_MESSAGE_ACTIVITY_CREATED = \"created\";\r\nvar GW_MESSAGE_ACTIVITY_DESTROYED = \"destroyed\";\r\nvar GW_MESSAGE_CONTEXT_CREATED = \"context-created\";\r\nvar GW_MESSAGE_CONTEXT_ADDED = \"context-added\";\r\nvar GW_MESSAGE_SUBSCRIBE_CONTEXT = \"subscribe-context\";\r\nvar GW_MESSAGE_SUBSCRIBED_CONTEXT = \"subscribed-context\";\r\nvar GW_MESSAGE_UNSUBSCRIBE_CONTEXT = \"unsubscribe-context\";\r\nvar GW_MESSAGE_DESTROY_CONTEXT = \"destroy-context\";\r\nvar GW_MESSAGE_CONTEXT_DESTROYED = \"context-destroyed\";\r\nvar GW_MESSAGE_UPDATE_CONTEXT = \"update-context\";\r\nvar GW_MESSAGE_CONTEXT_UPDATED = \"context-updated\";\r\nvar GW_MESSAGE_JOINED_ACTIVITY = \"joined\";\n\nvar ContextMessageReplaySpec = {\r\n    get name() {\r\n        return \"context\";\r\n    },\r\n    get types() {\r\n        return [\r\n            GW_MESSAGE_CREATE_CONTEXT,\r\n            GW_MESSAGE_ACTIVITY_CREATED,\r\n            GW_MESSAGE_ACTIVITY_DESTROYED,\r\n            GW_MESSAGE_CONTEXT_CREATED,\r\n            GW_MESSAGE_CONTEXT_ADDED,\r\n            GW_MESSAGE_SUBSCRIBE_CONTEXT,\r\n            GW_MESSAGE_SUBSCRIBED_CONTEXT,\r\n            GW_MESSAGE_UNSUBSCRIBE_CONTEXT,\r\n            GW_MESSAGE_DESTROY_CONTEXT,\r\n            GW_MESSAGE_CONTEXT_DESTROYED,\r\n            GW_MESSAGE_UPDATE_CONTEXT,\r\n            GW_MESSAGE_CONTEXT_UPDATED,\r\n            GW_MESSAGE_JOINED_ACTIVITY\r\n        ];\r\n    }\r\n};\n\nvar version = \"5.2.7\";\n\nfunction prepareConfig (configuration, ext, glue42gd) {\r\n    var _a, _b, _c, _d, _e;\r\n    var nodeStartingContext;\r\n    if (Utils.isNode()) {\r\n        var startingContextString = process.env._GD_STARTING_CONTEXT_;\r\n        if (startingContextString) {\r\n            try {\r\n                nodeStartingContext = JSON.parse(startingContextString);\r\n            }\r\n            catch (_f) {\r\n            }\r\n        }\r\n    }\r\n    function getConnection() {\r\n        var _a, _b, _c, _d, _e;\r\n        var gwConfig = configuration.gateway;\r\n        var protocolVersion = (_a = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.protocolVersion) !== null && _a !== void 0 ? _a : 3;\r\n        var reconnectInterval = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.reconnectInterval;\r\n        var reconnectAttempts = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.reconnectAttempts;\r\n        var defaultWs = \"ws://localhost:8385\";\r\n        var ws = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.ws;\r\n        var sharedWorker = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.sharedWorker;\r\n        var inproc = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.inproc;\r\n        var webPlatform = (_b = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.webPlatform) !== null && _b !== void 0 ? _b : undefined;\r\n        if (glue42gd) {\r\n            ws = glue42gd.gwURL;\r\n        }\r\n        if (Utils.isNode() && nodeStartingContext && nodeStartingContext.gwURL) {\r\n            ws = nodeStartingContext.gwURL;\r\n        }\r\n        if (!ws && !sharedWorker && !inproc) {\r\n            ws = defaultWs;\r\n        }\r\n        var instanceId;\r\n        var windowId;\r\n        var pid;\r\n        var environment;\r\n        var region;\r\n        var appName = getApplication();\r\n        var uniqueAppName = appName;\r\n        if (typeof glue42gd !== \"undefined\") {\r\n            windowId = glue42gd.windowId;\r\n            pid = glue42gd.pid;\r\n            if (glue42gd.env) {\r\n                environment = glue42gd.env.env;\r\n                region = glue42gd.env.region;\r\n            }\r\n            uniqueAppName = (_c = glue42gd.application) !== null && _c !== void 0 ? _c : \"glue-app\";\r\n            instanceId = glue42gd.appInstanceId;\r\n        }\r\n        else if (Utils.isNode()) {\r\n            pid = process.pid;\r\n            if (nodeStartingContext) {\r\n                environment = nodeStartingContext.env;\r\n                region = nodeStartingContext.region;\r\n                instanceId = nodeStartingContext.instanceId;\r\n            }\r\n        }\r\n        else ;\r\n        var replaySpecs = (_e = (_d = configuration.gateway) === null || _d === void 0 ? void 0 : _d.replaySpecs) !== null && _e !== void 0 ? _e : [];\r\n        replaySpecs.push(ContextMessageReplaySpec);\r\n        return {\r\n            identity: {\r\n                application: uniqueAppName,\r\n                applicationName: appName,\r\n                windowId: windowId,\r\n                instance: instanceId,\r\n                process: pid,\r\n                region: region,\r\n                environment: environment,\r\n                api: ext.version || version\r\n            },\r\n            reconnectInterval: reconnectInterval,\r\n            ws: ws,\r\n            sharedWorker: sharedWorker,\r\n            webPlatform: webPlatform,\r\n            inproc: inproc,\r\n            protocolVersion: protocolVersion,\r\n            reconnectAttempts: reconnectAttempts,\r\n            replaySpecs: replaySpecs,\r\n        };\r\n    }\r\n    function getApplication() {\r\n        if (configuration.application) {\r\n            return configuration.application;\r\n        }\r\n        if (glue42gd) {\r\n            return glue42gd.applicationName;\r\n        }\r\n        var uid = shortid();\r\n        if (Utils.isNode()) {\r\n            if (nodeStartingContext) {\r\n                return nodeStartingContext.applicationConfig.name;\r\n            }\r\n            return \"NodeJS\" + uid;\r\n        }\r\n        if (typeof window !== \"undefined\" && typeof document !== \"undefined\") {\r\n            return document.title + (\" (\" + uid + \")\");\r\n        }\r\n        return uid;\r\n    }\r\n    function getAuth() {\r\n        var _a, _b, _c;\r\n        if (typeof configuration.auth === \"string\") {\r\n            return {\r\n                token: configuration.auth\r\n            };\r\n        }\r\n        if (configuration.auth) {\r\n            return configuration.auth;\r\n        }\r\n        if (Utils.isNode() && nodeStartingContext && nodeStartingContext.gwToken) {\r\n            return {\r\n                gatewayToken: nodeStartingContext.gwToken\r\n            };\r\n        }\r\n        if (((_a = configuration.gateway) === null || _a === void 0 ? void 0 : _a.webPlatform) || ((_b = configuration.gateway) === null || _b === void 0 ? void 0 : _b.inproc) || ((_c = configuration.gateway) === null || _c === void 0 ? void 0 : _c.sharedWorker)) {\r\n            return {\r\n                username: \"glue42\", password: \"glue42\"\r\n            };\r\n        }\r\n    }\r\n    function getLogger() {\r\n        var _a, _b;\r\n        var config = configuration.logger;\r\n        var defaultLevel = \"warn\";\r\n        if (!config) {\r\n            config = defaultLevel;\r\n        }\r\n        var gdConsoleLevel;\r\n        if (glue42gd) {\r\n            gdConsoleLevel = glue42gd.consoleLogLevel;\r\n        }\r\n        if (typeof config === \"string\") {\r\n            return { console: gdConsoleLevel !== null && gdConsoleLevel !== void 0 ? gdConsoleLevel : config, publish: defaultLevel };\r\n        }\r\n        return {\r\n            console: (_a = gdConsoleLevel !== null && gdConsoleLevel !== void 0 ? gdConsoleLevel : config.console) !== null && _a !== void 0 ? _a : defaultLevel,\r\n            publish: (_b = config.publish) !== null && _b !== void 0 ? _b : defaultLevel\r\n        };\r\n    }\r\n    var connection = getConnection();\r\n    var application = getApplication();\r\n    if (typeof window !== \"undefined\") {\r\n        var windowAsAny = window;\r\n        var containerApplication = windowAsAny.htmlContainer ?\r\n            windowAsAny.htmlContainer.containerName + \".\" + windowAsAny.htmlContainer.application : (_a = windowAsAny === null || windowAsAny === void 0 ? void 0 : windowAsAny.glue42gd) === null || _a === void 0 ? void 0 : _a.application;\r\n        if (containerApplication) {\r\n            application = containerApplication;\r\n        }\r\n    }\r\n    return {\r\n        bus: (_b = configuration.bus) !== null && _b !== void 0 ? _b : false,\r\n        application: application,\r\n        auth: getAuth(),\r\n        logger: getLogger(),\r\n        connection: connection,\r\n        metrics: (_c = configuration.metrics) !== null && _c !== void 0 ? _c : true,\r\n        contexts: (_d = configuration.contexts) !== null && _d !== void 0 ? _d : true,\r\n        version: ext.version || version,\r\n        libs: (_e = ext.libs) !== null && _e !== void 0 ? _e : [],\r\n        customLogger: configuration.customLogger\r\n    };\r\n}\n\nvar GW3ContextData = (function () {\r\n    function GW3ContextData(contextId, name, isAnnounced, activityId) {\r\n        this.updateCallbacks = {};\r\n        this.contextId = contextId;\r\n        this.name = name;\r\n        this.isAnnounced = isAnnounced;\r\n        this.activityId = activityId;\r\n        this.context = {};\r\n    }\r\n    GW3ContextData.prototype.hasCallbacks = function () {\r\n        return Object.keys(this.updateCallbacks).length > 0;\r\n    };\r\n    GW3ContextData.prototype.getState = function () {\r\n        if (this.isAnnounced && this.hasCallbacks()) {\r\n            return 3;\r\n        }\r\n        if (this.isAnnounced) {\r\n            return 2;\r\n        }\r\n        if (this.hasCallbacks()) {\r\n            return 1;\r\n        }\r\n        return 0;\r\n    };\r\n    return GW3ContextData;\r\n}());\n\nfunction applyContextDelta(context, delta, logger) {\r\n    try {\r\n        if (logger === null || logger === void 0 ? void 0 : logger.canPublish(\"trace\")) {\r\n            logger === null || logger === void 0 ? void 0 : logger.trace(\"applying context delta \" + JSON.stringify(delta) + \" on context \" + JSON.stringify(context));\r\n        }\r\n        if (!delta) {\r\n            return context;\r\n        }\r\n        if (delta.reset) {\r\n            context = __assign({}, delta.reset);\r\n            return context;\r\n        }\r\n        context = deepClone(context, undefined);\r\n        if (delta.commands) {\r\n            for (var _i = 0, _a = delta.commands; _i < _a.length; _i++) {\r\n                var command = _a[_i];\r\n                if (command.type === \"remove\") {\r\n                    deletePath(context, command.path);\r\n                }\r\n                else if (command.type === \"set\") {\r\n                    setValueToPath(context, command.value, command.path);\r\n                }\r\n            }\r\n            return context;\r\n        }\r\n        var added_1 = delta.added;\r\n        var updated_1 = delta.updated;\r\n        var removed = delta.removed;\r\n        if (added_1) {\r\n            Object.keys(added_1).forEach(function (key) {\r\n                context[key] = added_1[key];\r\n            });\r\n        }\r\n        if (updated_1) {\r\n            Object.keys(updated_1).forEach(function (key) {\r\n                mergeObjectsProperties(key, context, updated_1);\r\n            });\r\n        }\r\n        if (removed) {\r\n            removed.forEach(function (key) {\r\n                delete context[key];\r\n            });\r\n        }\r\n        return context;\r\n    }\r\n    catch (e) {\r\n        logger === null || logger === void 0 ? void 0 : logger.error(\"error applying context delta \" + JSON.stringify(delta) + \" on context \" + JSON.stringify(context), e);\r\n        return context;\r\n    }\r\n}\r\nfunction deepClone(obj, hash) {\r\n    hash = hash || new WeakMap();\r\n    if (Object(obj) !== obj) {\r\n        return obj;\r\n    }\r\n    if (obj instanceof Set) {\r\n        return new Set(obj);\r\n    }\r\n    if (hash.has(obj)) {\r\n        return hash.get(obj);\r\n    }\r\n    var result = obj instanceof Date ? new Date(obj)\r\n        : obj instanceof RegExp ? new RegExp(obj.source, obj.flags)\r\n            : obj.constructor ? new obj.constructor()\r\n                : Object.create(null);\r\n    hash.set(obj, result);\r\n    if (obj instanceof Map) {\r\n        Array.from(obj, function (_a) {\r\n            var key = _a[0], val = _a[1];\r\n            return result.set(key, deepClone(val, hash));\r\n        });\r\n    }\r\n    return Object.assign.apply(Object, __spreadArrays([result], Object.keys(obj).map(function (key) {\r\n        var _a;\r\n        return (_a = {}, _a[key] = deepClone(obj[key], hash), _a);\r\n    })));\r\n}\r\nvar mergeObjectsProperties = function (key, what, withWhat) {\r\n    var right = withWhat[key];\r\n    if (right === undefined) {\r\n        return what;\r\n    }\r\n    var left = what[key];\r\n    if (!left || !right) {\r\n        what[key] = right;\r\n        return what;\r\n    }\r\n    if (typeof left === \"string\" ||\r\n        typeof left === \"number\" ||\r\n        typeof left === \"boolean\" ||\r\n        typeof right === \"string\" ||\r\n        typeof right === \"number\" ||\r\n        typeof right === \"boolean\" ||\r\n        Array.isArray(left) ||\r\n        Array.isArray(right)) {\r\n        what[key] = right;\r\n        return what;\r\n    }\r\n    what[key] = Object.assign({}, left, right);\r\n    return what;\r\n};\r\nfunction deepEqual(x, y) {\r\n    if (x === y) {\r\n        return true;\r\n    }\r\n    if (!(x instanceof Object) || !(y instanceof Object)) {\r\n        return false;\r\n    }\r\n    if (x.constructor !== y.constructor) {\r\n        return false;\r\n    }\r\n    for (var p in x) {\r\n        if (!x.hasOwnProperty(p)) {\r\n            continue;\r\n        }\r\n        if (!y.hasOwnProperty(p)) {\r\n            return false;\r\n        }\r\n        if (x[p] === y[p]) {\r\n            continue;\r\n        }\r\n        if (typeof (x[p]) !== \"object\") {\r\n            return false;\r\n        }\r\n        if (!deepEqual(x[p], y[p])) {\r\n            return false;\r\n        }\r\n    }\r\n    for (var p in y) {\r\n        if (y.hasOwnProperty(p) && !x.hasOwnProperty(p)) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\nfunction setValueToPath(obj, value, path) {\r\n    var pathArr = path.split(\".\");\r\n    var i;\r\n    for (i = 0; i < pathArr.length - 1; i++) {\r\n        if (!obj[pathArr[i]]) {\r\n            obj[pathArr[i]] = {};\r\n        }\r\n        if (typeof obj[pathArr[i]] !== \"object\") {\r\n            obj[pathArr[i]] = {};\r\n        }\r\n        obj = obj[pathArr[i]];\r\n    }\r\n    obj[pathArr[i]] = value;\r\n}\r\nfunction deletePath(obj, path) {\r\n    var pathArr = path.split(\".\");\r\n    var i;\r\n    for (i = 0; i < pathArr.length - 1; i++) {\r\n        if (!obj[pathArr[i]]) {\r\n            return;\r\n        }\r\n        obj = obj[pathArr[i]];\r\n    }\r\n    delete obj[pathArr[i]];\r\n}\n\nvar GW3Bridge = (function () {\r\n    function GW3Bridge(config) {\r\n        var _this = this;\r\n        var _a;\r\n        this._contextNameToData = {};\r\n        this._gw3Subscriptions = [];\r\n        this._nextCallbackSubscriptionNumber = 0;\r\n        this._contextNameToId = {};\r\n        this._contextIdToName = {};\r\n        this._protocolVersion = undefined;\r\n        this._connection = config.connection;\r\n        this._logger = config.logger;\r\n        this._gw3Session = this._connection.domain(\"global\", [\r\n            GW_MESSAGE_CONTEXT_CREATED,\r\n            GW_MESSAGE_SUBSCRIBED_CONTEXT,\r\n            GW_MESSAGE_CONTEXT_DESTROYED,\r\n            GW_MESSAGE_CONTEXT_UPDATED,\r\n        ]);\r\n        this.subscribeToContextCreatedMessages();\r\n        this.subscribeToContextUpdatedMessages();\r\n        this.subscribeToContextDestroyedMessages();\r\n        (_a = this._connection.replayer) === null || _a === void 0 ? void 0 : _a.drain(ContextMessageReplaySpec.name, function (message) {\r\n            var type = message.type;\r\n            if (!type) {\r\n                return;\r\n            }\r\n            if (type === GW_MESSAGE_CONTEXT_CREATED ||\r\n                type === GW_MESSAGE_CONTEXT_ADDED ||\r\n                type === GW_MESSAGE_ACTIVITY_CREATED) {\r\n                _this.handleContextCreatedMessage(message);\r\n            }\r\n            else if (type === GW_MESSAGE_SUBSCRIBED_CONTEXT ||\r\n                type === GW_MESSAGE_CONTEXT_UPDATED ||\r\n                type === GW_MESSAGE_JOINED_ACTIVITY) {\r\n                _this.handleContextUpdatedMessage(message);\r\n            }\r\n            else if (type === GW_MESSAGE_CONTEXT_DESTROYED ||\r\n                type === GW_MESSAGE_ACTIVITY_DESTROYED) {\r\n                _this.handleContextDestroyedMessage(message);\r\n            }\r\n        });\r\n    }\r\n    Object.defineProperty(GW3Bridge.prototype, \"protocolVersion\", {\r\n        get: function () {\r\n            var _a;\r\n            if (!this._protocolVersion) {\r\n                var contextsDomainInfo = this._connection.availableDomains.find(function (d) { return d.uri === \"context\"; });\r\n                this._protocolVersion = (_a = contextsDomainInfo === null || contextsDomainInfo === void 0 ? void 0 : contextsDomainInfo.version) !== null && _a !== void 0 ? _a : 1;\r\n            }\r\n            return this._protocolVersion;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(GW3Bridge.prototype, \"setPathSupported\", {\r\n        get: function () {\r\n            return this.protocolVersion >= 2;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    GW3Bridge.prototype.dispose = function () {\r\n        for (var _i = 0, _a = this._gw3Subscriptions; _i < _a.length; _i++) {\r\n            var sub = _a[_i];\r\n            this._connection.off(sub);\r\n        }\r\n        this._gw3Subscriptions.length = 0;\r\n        for (var contextName in this._contextNameToData) {\r\n            if (this._contextNameToId.hasOwnProperty(contextName)) {\r\n                delete this._contextNameToData[contextName];\r\n            }\r\n        }\r\n    };\r\n    GW3Bridge.prototype.createContext = function (name, data) {\r\n        var _this = this;\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_CREATE_CONTEXT,\r\n            domain: \"global\",\r\n            name: name,\r\n            data: data,\r\n            lifetime: \"retained\",\r\n        })\r\n            .then(function (createContextMsg) {\r\n            _this._contextNameToId[name] = createContextMsg.context_id;\r\n            _this._contextIdToName[createContextMsg.context_id] = name;\r\n            var contextData = _this._contextNameToData[name] || new GW3ContextData(createContextMsg.context_id, name, true, undefined);\r\n            contextData.isAnnounced = true;\r\n            contextData.name = name;\r\n            contextData.contextId = createContextMsg.context_id;\r\n            contextData.context = data;\r\n            _this._contextNameToData[name] = contextData;\r\n            return createContextMsg.context_id;\r\n        });\r\n    };\r\n    GW3Bridge.prototype.all = function () {\r\n        var _this = this;\r\n        return Object.keys(this._contextNameToData)\r\n            .filter(function (name) { return _this._contextNameToData[name].isAnnounced; });\r\n    };\r\n    GW3Bridge.prototype.update = function (name, delta) {\r\n        var _a;\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var contextData, currentContext, calculatedDelta;\r\n            var _this = this;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        contextData = this._contextNameToData[name];\r\n                        if (!contextData || !contextData.isAnnounced) {\r\n                            return [2, this.createContext(name, delta)];\r\n                        }\r\n                        currentContext = contextData.context;\r\n                        if (!!contextData.hasCallbacks()) return [3, 2];\r\n                        return [4, this.get(contextData.name)];\r\n                    case 1:\r\n                        currentContext = _b.sent();\r\n                        _b.label = 2;\r\n                    case 2:\r\n                        calculatedDelta = this.protocolVersion === 2 ?\r\n                            this.calculateContextDeltaV2(currentContext, delta) :\r\n                            this.calculateContextDeltaV1(currentContext, delta);\r\n                        if (!Object.keys(calculatedDelta.added).length\r\n                            && !Object.keys(calculatedDelta.updated).length\r\n                            && !calculatedDelta.removed.length\r\n                            && !((_a = calculatedDelta.commands) === null || _a === void 0 ? void 0 : _a.length)) {\r\n                            return [2, Promise.resolve()];\r\n                        }\r\n                        return [2, this._gw3Session\r\n                                .send({\r\n                                type: GW_MESSAGE_UPDATE_CONTEXT,\r\n                                domain: \"global\",\r\n                                context_id: contextData.contextId,\r\n                                delta: calculatedDelta,\r\n                            }, {}, { skipPeerId: false })\r\n                                .then(function (gwResponse) {\r\n                                _this.handleUpdated(contextData, calculatedDelta, {\r\n                                    updaterId: gwResponse.peer_id\r\n                                });\r\n                            })];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    GW3Bridge.prototype.set = function (name, data) {\r\n        var _this = this;\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData || !contextData.isAnnounced) {\r\n            return this.createContext(name, data);\r\n        }\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_UPDATE_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n            delta: { reset: data },\r\n        }, {}, { skipPeerId: false })\r\n            .then(function (gwResponse) {\r\n            _this.handleUpdated(contextData, { reset: data, added: {}, removed: [], updated: {} }, { updaterId: gwResponse.peer_id });\r\n        });\r\n    };\r\n    GW3Bridge.prototype.setPath = function (name, path, value) {\r\n        if (!this.setPathSupported) {\r\n            return Promise.reject(\"glue.contexts.setPath operation is not supported, use Glue42 3.10 or later\");\r\n        }\r\n        return this.setPaths(name, [{ path: path, value: value }]);\r\n    };\r\n    GW3Bridge.prototype.setPaths = function (name, pathValues) {\r\n        var _this = this;\r\n        if (!this.setPathSupported) {\r\n            return Promise.reject(\"glue.contexts.setPaths operation is not supported, use Glue42 3.10 or later\");\r\n        }\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData || !contextData.isAnnounced) {\r\n            var obj = {};\r\n            for (var _i = 0, pathValues_1 = pathValues; _i < pathValues_1.length; _i++) {\r\n                var pathValue = pathValues_1[_i];\r\n                setValueToPath(obj, pathValue.value, pathValue.path);\r\n            }\r\n            return this.createContext(name, obj);\r\n        }\r\n        var commands = [];\r\n        for (var _a = 0, pathValues_2 = pathValues; _a < pathValues_2.length; _a++) {\r\n            var pathValue = pathValues_2[_a];\r\n            if (pathValue.value === null) {\r\n                commands.push({ type: \"remove\", path: pathValue.path });\r\n            }\r\n            else {\r\n                commands.push({ type: \"set\", path: pathValue.path, value: pathValue.value });\r\n            }\r\n        }\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_UPDATE_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n            delta: { commands: commands }\r\n        }, {}, { skipPeerId: false })\r\n            .then(function (gwResponse) {\r\n            _this.handleUpdated(contextData, { added: {}, removed: [], updated: {}, commands: commands }, { updaterId: gwResponse.peer_id });\r\n        });\r\n    };\r\n    GW3Bridge.prototype.get = function (name) {\r\n        var _this = this;\r\n        var _a;\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData || !contextData.isAnnounced) {\r\n            return Promise.resolve({});\r\n        }\r\n        if (contextData && !contextData.hasCallbacks()) {\r\n            return new Promise(function (resolve, _) { return __awaiter(_this, void 0, void 0, function () {\r\n                var _this = this;\r\n                return __generator(this, function (_a) {\r\n                    this.subscribe(name, function (data, _d, _r, un) {\r\n                        _this.unsubscribe(un);\r\n                        resolve(data);\r\n                    });\r\n                    return [2];\r\n                });\r\n            }); });\r\n        }\r\n        var context = (_a = contextData === null || contextData === void 0 ? void 0 : contextData.context) !== null && _a !== void 0 ? _a : {};\r\n        return Promise.resolve(context);\r\n    };\r\n    GW3Bridge.prototype.subscribe = function (name, callback) {\r\n        var thisCallbackSubscriptionNumber = this._nextCallbackSubscriptionNumber;\r\n        this._nextCallbackSubscriptionNumber += 1;\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData ||\r\n            !contextData.isAnnounced) {\r\n            contextData = contextData || new GW3ContextData(undefined, name, false, undefined);\r\n            this._contextNameToData[name] = contextData;\r\n            contextData.updateCallbacks[thisCallbackSubscriptionNumber] = callback;\r\n            return Promise.resolve(thisCallbackSubscriptionNumber);\r\n        }\r\n        var hadCallbacks = contextData.hasCallbacks();\r\n        contextData.updateCallbacks[thisCallbackSubscriptionNumber] = callback;\r\n        if (!hadCallbacks) {\r\n            if (!contextData.joinedActivity) {\r\n                if (contextData.context && contextData.sentExplicitSubscription) {\r\n                    var clone = deepClone(contextData.context);\r\n                    callback(clone, clone, [], thisCallbackSubscriptionNumber);\r\n                    return Promise.resolve(thisCallbackSubscriptionNumber);\r\n                }\r\n                return this.sendSubscribe(contextData)\r\n                    .then(function () { return thisCallbackSubscriptionNumber; });\r\n            }\r\n            else {\r\n                var clone = deepClone(contextData.context);\r\n                callback(clone, clone, [], thisCallbackSubscriptionNumber);\r\n                return Promise.resolve(thisCallbackSubscriptionNumber);\r\n            }\r\n        }\r\n        else {\r\n            var clone = deepClone(contextData.context);\r\n            callback(clone, clone, [], thisCallbackSubscriptionNumber);\r\n            return Promise.resolve(thisCallbackSubscriptionNumber);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.unsubscribe = function (subscriptionKey) {\r\n        for (var _i = 0, _a = Object.keys(this._contextNameToData); _i < _a.length; _i++) {\r\n            var name_1 = _a[_i];\r\n            var contextId = this._contextNameToId[name_1];\r\n            var contextData = this._contextNameToData[name_1];\r\n            if (!contextData) {\r\n                return;\r\n            }\r\n            var hadCallbacks = contextData.hasCallbacks();\r\n            delete contextData.updateCallbacks[subscriptionKey];\r\n            if (contextData.isAnnounced &&\r\n                hadCallbacks &&\r\n                !contextData.hasCallbacks() &&\r\n                contextData.sentExplicitSubscription) {\r\n                this.sendUnsubscribe(contextData);\r\n            }\r\n            if (!contextData.isAnnounced &&\r\n                !contextData.hasCallbacks()) {\r\n                delete this._contextNameToData[name_1];\r\n            }\r\n        }\r\n    };\r\n    GW3Bridge.prototype.destroy = function (name) {\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData) {\r\n            return Promise.reject(\"context with \" + name + \" does not exist\");\r\n        }\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_DESTROY_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n        }).then(function (_) { return undefined; });\r\n    };\r\n    GW3Bridge.prototype.handleUpdated = function (contextData, delta, extraData) {\r\n        var oldContext = contextData.context;\r\n        contextData.context = applyContextDelta(contextData.context, delta, this._logger);\r\n        if (this._contextNameToData[contextData.name] === contextData &&\r\n            !deepEqual(oldContext, contextData.context)) {\r\n            this.invokeUpdateCallbacks(contextData, delta, extraData);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.subscribeToContextCreatedMessages = function () {\r\n        var createdMessageTypes = [\r\n            GW_MESSAGE_CONTEXT_ADDED,\r\n            GW_MESSAGE_CONTEXT_CREATED,\r\n            GW_MESSAGE_ACTIVITY_CREATED,\r\n        ];\r\n        for (var _i = 0, createdMessageTypes_1 = createdMessageTypes; _i < createdMessageTypes_1.length; _i++) {\r\n            var createdMessageType = createdMessageTypes_1[_i];\r\n            var sub = this._connection.on(createdMessageType, this.handleContextCreatedMessage.bind(this));\r\n            this._gw3Subscriptions.push(sub);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.handleContextCreatedMessage = function (contextCreatedMsg) {\r\n        var createdMessageType = contextCreatedMsg.type;\r\n        if (createdMessageType === GW_MESSAGE_ACTIVITY_CREATED) {\r\n            this._contextNameToId[contextCreatedMsg.activity_id] = contextCreatedMsg.context_id;\r\n            this._contextIdToName[contextCreatedMsg.context_id] = contextCreatedMsg.activity_id;\r\n        }\r\n        else if (createdMessageType === GW_MESSAGE_CONTEXT_ADDED) {\r\n            this._contextNameToId[contextCreatedMsg.name] = contextCreatedMsg.context_id;\r\n            this._contextIdToName[contextCreatedMsg.context_id] = contextCreatedMsg.name;\r\n        }\r\n        else ;\r\n        var name = this._contextIdToName[contextCreatedMsg.context_id];\r\n        if (!name) {\r\n            throw new Error(\"Received created event for context with unknown name: \" + contextCreatedMsg.context_id);\r\n        }\r\n        if (!this._contextNameToId[name]) {\r\n            throw new Error(\"Received created event for context with unknown id: \" + contextCreatedMsg.context_id);\r\n        }\r\n        var contextData = this._contextNameToData[name];\r\n        if (contextData) {\r\n            if (contextData.isAnnounced) {\r\n                return;\r\n            }\r\n            else {\r\n                if (!contextData.hasCallbacks()) {\r\n                    throw new Error(\"Assertion failure: contextData.hasCallbacks()\");\r\n                }\r\n                contextData.isAnnounced = true;\r\n                contextData.contextId = contextCreatedMsg.context_id;\r\n                contextData.activityId = contextCreatedMsg.activity_id;\r\n                if (!contextData.sentExplicitSubscription) {\r\n                    this.sendSubscribe(contextData);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            this._contextNameToData[name] = contextData =\r\n                new GW3ContextData(contextCreatedMsg.context_id, name, true, contextCreatedMsg.activity_id);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.subscribeToContextUpdatedMessages = function () {\r\n        var updatedMessageTypes = [\r\n            GW_MESSAGE_CONTEXT_UPDATED,\r\n            GW_MESSAGE_SUBSCRIBED_CONTEXT,\r\n            GW_MESSAGE_JOINED_ACTIVITY,\r\n        ];\r\n        for (var _i = 0, updatedMessageTypes_1 = updatedMessageTypes; _i < updatedMessageTypes_1.length; _i++) {\r\n            var updatedMessageType = updatedMessageTypes_1[_i];\r\n            var sub = this._connection.on(updatedMessageType, this.handleContextUpdatedMessage.bind(this));\r\n            this._gw3Subscriptions.push(sub);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.handleContextUpdatedMessage = function (contextUpdatedMsg) {\r\n        var updatedMessageType = contextUpdatedMsg.type;\r\n        var contextId = contextUpdatedMsg.context_id;\r\n        var contextData = this._contextNameToData[this._contextIdToName[contextId]];\r\n        var justSeen = !contextData || !contextData.isAnnounced;\r\n        if (updatedMessageType === GW_MESSAGE_JOINED_ACTIVITY) {\r\n            if (!contextData) {\r\n                contextData = new GW3ContextData(contextId, contextUpdatedMsg.activity_id, true, contextUpdatedMsg.activity_id);\r\n                this._contextNameToData[contextUpdatedMsg.activity_id] = contextData;\r\n                this._contextIdToName[contextId] = contextUpdatedMsg.activity_id;\r\n                this._contextNameToId[contextUpdatedMsg.activity_id] = contextId;\r\n            }\r\n            else {\r\n                contextData.contextId = contextId;\r\n                contextData.isAnnounced = true;\r\n                contextData.activityId = contextUpdatedMsg.activity_id;\r\n            }\r\n            contextData.joinedActivity = true;\r\n        }\r\n        else {\r\n            if (!contextData || !contextData.isAnnounced) {\r\n                if (updatedMessageType === GW_MESSAGE_SUBSCRIBED_CONTEXT) {\r\n                    contextData = contextData || new GW3ContextData(contextId, contextUpdatedMsg.name, true, undefined);\r\n                    contextData.sentExplicitSubscription = true;\r\n                    this._contextNameToData[contextUpdatedMsg.name] = contextData;\r\n                    this._contextIdToName[contextId] = contextUpdatedMsg.name;\r\n                    this._contextNameToId[contextUpdatedMsg.name] = contextId;\r\n                }\r\n                else {\r\n                    this._logger.error(\"Received 'update' for unknown context: \" + contextId);\r\n                }\r\n                return;\r\n            }\r\n        }\r\n        var oldContext = contextData.context;\r\n        if (updatedMessageType === GW_MESSAGE_SUBSCRIBED_CONTEXT) {\r\n            contextData.context = contextUpdatedMsg.data || {};\r\n        }\r\n        else if (updatedMessageType === GW_MESSAGE_JOINED_ACTIVITY) {\r\n            contextData.context = contextUpdatedMsg.context_snapshot || {};\r\n        }\r\n        else if (updatedMessageType === GW_MESSAGE_CONTEXT_UPDATED) {\r\n            contextData.context = applyContextDelta(contextData.context, contextUpdatedMsg.delta, this._logger);\r\n        }\r\n        else {\r\n            throw new Error(\"Unrecognized context update message \" + updatedMessageType);\r\n        }\r\n        if (justSeen ||\r\n            !deepEqual(contextData.context, oldContext) ||\r\n            updatedMessageType === GW_MESSAGE_SUBSCRIBED_CONTEXT) {\r\n            this.invokeUpdateCallbacks(contextData, contextUpdatedMsg.delta, { updaterId: contextUpdatedMsg.updater_id });\r\n        }\r\n    };\r\n    GW3Bridge.prototype.invokeUpdateCallbacks = function (contextData, delta, extraData) {\r\n        delta = delta || { added: {}, updated: {}, reset: {}, removed: [] };\r\n        if (delta.commands) {\r\n            delta.added = delta.updated = delta.reset = {};\r\n            delta.removed = [];\r\n            for (var _i = 0, _a = delta.commands; _i < _a.length; _i++) {\r\n                var command = _a[_i];\r\n                if (command.type === \"remove\") {\r\n                    if (command.path.indexOf(\".\") === -1) {\r\n                        delta.removed.push(command.path);\r\n                    }\r\n                    setValueToPath(delta.updated, null, command.path);\r\n                }\r\n                else if (command.type === \"set\") {\r\n                    setValueToPath(delta.updated, command.value, command.path);\r\n                }\r\n            }\r\n        }\r\n        for (var updateCallbackIndex in contextData.updateCallbacks) {\r\n            if (contextData.updateCallbacks.hasOwnProperty(updateCallbackIndex)) {\r\n                try {\r\n                    var updateCallback = contextData.updateCallbacks[updateCallbackIndex];\r\n                    updateCallback(deepClone(contextData.context), Object.assign({}, delta.added || {}, delta.updated || {}, delta.reset || {}), delta.removed, parseInt(updateCallbackIndex, 10), extraData);\r\n                }\r\n                catch (err) {\r\n                    this._logger.debug(\"callback error: \" + JSON.stringify(err));\r\n                }\r\n            }\r\n        }\r\n    };\r\n    GW3Bridge.prototype.subscribeToContextDestroyedMessages = function () {\r\n        var destroyedMessageTypes = [\r\n            GW_MESSAGE_CONTEXT_DESTROYED,\r\n            GW_MESSAGE_ACTIVITY_DESTROYED,\r\n        ];\r\n        for (var _i = 0, destroyedMessageTypes_1 = destroyedMessageTypes; _i < destroyedMessageTypes_1.length; _i++) {\r\n            var destroyedMessageType = destroyedMessageTypes_1[_i];\r\n            var sub = this._connection.on(destroyedMessageType, this.handleContextDestroyedMessage.bind(this));\r\n            this._gw3Subscriptions.push(sub);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.handleContextDestroyedMessage = function (destroyedMsg) {\r\n        var destroyedMessageType = destroyedMsg.type;\r\n        var contextId;\r\n        var name;\r\n        if (destroyedMessageType === GW_MESSAGE_ACTIVITY_DESTROYED) {\r\n            name = destroyedMsg.activity_id;\r\n            contextId = this._contextNameToId[name];\r\n            if (!contextId) {\r\n                this._logger.error(\"Received 'destroyed' for unknown activity: \" + destroyedMsg.activity_id);\r\n                return;\r\n            }\r\n        }\r\n        else {\r\n            contextId = destroyedMsg.context_id;\r\n            name = this._contextIdToName[contextId];\r\n            if (!name) {\r\n                this._logger.error(\"Received 'destroyed' for unknown context: \" + destroyedMsg.context_id);\r\n                return;\r\n            }\r\n        }\r\n        delete this._contextIdToName[contextId];\r\n        delete this._contextNameToId[name];\r\n        var contextData = this._contextNameToData[name];\r\n        delete this._contextNameToData[name];\r\n        if (!contextData || !contextData.isAnnounced) {\r\n            this._logger.error(\"Received 'destroyed' for unknown context: \" + contextId);\r\n            return;\r\n        }\r\n    };\r\n    GW3Bridge.prototype.sendSubscribe = function (contextData) {\r\n        contextData.sentExplicitSubscription = true;\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_SUBSCRIBE_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n        }).then(function (_) { return undefined; });\r\n    };\r\n    GW3Bridge.prototype.sendUnsubscribe = function (contextData) {\r\n        contextData.sentExplicitSubscription = false;\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_UNSUBSCRIBE_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n        }).then(function (_) { return undefined; });\r\n    };\r\n    GW3Bridge.prototype.calculateContextDeltaV1 = function (from, to) {\r\n        var delta = { added: {}, updated: {}, removed: [], reset: undefined };\r\n        if (from) {\r\n            for (var _i = 0, _a = Object.keys(from); _i < _a.length; _i++) {\r\n                var x = _a[_i];\r\n                if (Object.keys(to).indexOf(x) !== -1\r\n                    && to[x] !== null\r\n                    && !deepEqual(from[x], to[x])) {\r\n                    delta.updated[x] = to[x];\r\n                }\r\n            }\r\n        }\r\n        for (var _b = 0, _c = Object.keys(to); _b < _c.length; _b++) {\r\n            var x = _c[_b];\r\n            if (!from || (Object.keys(from).indexOf(x) === -1)) {\r\n                if (to[x] !== null) {\r\n                    delta.added[x] = to[x];\r\n                }\r\n            }\r\n            else if (to[x] === null) {\r\n                delta.removed.push(x);\r\n            }\r\n        }\r\n        return delta;\r\n    };\r\n    GW3Bridge.prototype.calculateContextDeltaV2 = function (from, to) {\r\n        var _a, _b;\r\n        var delta = { added: {}, updated: {}, removed: [], reset: undefined, commands: [] };\r\n        for (var _i = 0, _c = Object.keys(to); _i < _c.length; _i++) {\r\n            var x = _c[_i];\r\n            if (to[x] !== null) {\r\n                var fromX = from ? from[x] : null;\r\n                if (!deepEqual(fromX, to[x])) {\r\n                    (_a = delta.commands) === null || _a === void 0 ? void 0 : _a.push({ type: \"set\", path: x, value: to[x] });\r\n                }\r\n            }\r\n            else {\r\n                (_b = delta.commands) === null || _b === void 0 ? void 0 : _b.push({ type: \"remove\", path: x });\r\n            }\r\n        }\r\n        return delta;\r\n    };\r\n    return GW3Bridge;\r\n}());\n\nvar ContextsModule = (function () {\r\n    function ContextsModule(config) {\r\n        this._bridge = new GW3Bridge(config);\r\n    }\r\n    ContextsModule.prototype.all = function () {\r\n        return this._bridge.all();\r\n    };\r\n    ContextsModule.prototype.update = function (name, data) {\r\n        this.checkName(name);\r\n        this.checkData(data);\r\n        return this._bridge.update(name, data);\r\n    };\r\n    ContextsModule.prototype.set = function (name, data) {\r\n        this.checkName(name);\r\n        this.checkData(data);\r\n        return this._bridge.set(name, data);\r\n    };\r\n    ContextsModule.prototype.setPath = function (name, path, data) {\r\n        this.checkName(name);\r\n        this.checkPath(path);\r\n        var isTopLevelPath = path === \"\";\r\n        if (isTopLevelPath) {\r\n            this.checkData(data);\r\n            return this.set(name, data);\r\n        }\r\n        return this._bridge.setPath(name, path, data);\r\n    };\r\n    ContextsModule.prototype.setPaths = function (name, paths) {\r\n        this.checkName(name);\r\n        if (!Array.isArray(paths)) {\r\n            throw new Error(\"Please provide the paths as an array of PathValues!\");\r\n        }\r\n        for (var _i = 0, paths_1 = paths; _i < paths_1.length; _i++) {\r\n            var _a = paths_1[_i], path = _a.path, value = _a.value;\r\n            this.checkPath(path);\r\n            var isTopLevelPath = path === \"\";\r\n            if (isTopLevelPath) {\r\n                this.checkData(value);\r\n            }\r\n        }\r\n        return this._bridge.setPaths(name, paths);\r\n    };\r\n    ContextsModule.prototype.subscribe = function (name, callback) {\r\n        var _this = this;\r\n        this.checkName(name);\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"Please provide the callback as a function!\");\r\n        }\r\n        return this._bridge\r\n            .subscribe(name, function (data, delta, removed, key, extraData) { return callback(data, delta, removed, function () { return _this._bridge.unsubscribe(key); }, extraData); })\r\n            .then(function (key) {\r\n            return function () {\r\n                _this._bridge.unsubscribe(key);\r\n            };\r\n        });\r\n    };\r\n    ContextsModule.prototype.get = function (name) {\r\n        this.checkName(name);\r\n        return this._bridge.get(name);\r\n    };\r\n    ContextsModule.prototype.ready = function () {\r\n        return Promise.resolve(this);\r\n    };\r\n    ContextsModule.prototype.destroy = function (name) {\r\n        this.checkName(name);\r\n        return this._bridge.destroy(name);\r\n    };\r\n    Object.defineProperty(ContextsModule.prototype, \"setPathSupported\", {\r\n        get: function () {\r\n            return this._bridge.setPathSupported;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ContextsModule.prototype.checkName = function (name) {\r\n        if (typeof name !== \"string\" || name === \"\") {\r\n            throw new Error(\"Please provide the name as a non-empty string!\");\r\n        }\r\n    };\r\n    ContextsModule.prototype.checkPath = function (path) {\r\n        if (typeof path !== \"string\") {\r\n            throw new Error(\"Please provide the path as a dot delimited string!\");\r\n        }\r\n    };\r\n    ContextsModule.prototype.checkData = function (data) {\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Please provide the data as an object!\");\r\n        }\r\n    };\r\n    return ContextsModule;\r\n}());\n\nfunction promisify (promise, successCallback, errorCallback) {\r\n    if (typeof successCallback !== \"function\" && typeof errorCallback !== \"function\") {\r\n        return promise;\r\n    }\r\n    if (typeof successCallback !== \"function\") {\r\n        successCallback = function () { };\r\n    }\r\n    else if (typeof errorCallback !== \"function\") {\r\n        errorCallback = function () { };\r\n    }\r\n    return promise.then(successCallback, errorCallback);\r\n}\n\nfunction rejectAfter(ms, promise, error) {\r\n    if (ms === void 0) { ms = 0; }\r\n    var timeout;\r\n    promise.finally(function () {\r\n        if (timeout) {\r\n            clearTimeout(timeout);\r\n        }\r\n    });\r\n    return new Promise(function (resolve, reject) {\r\n        timeout = setTimeout(function () { return reject(error); }, ms);\r\n    });\r\n}\n\nvar InvokeStatus;\r\n(function (InvokeStatus) {\r\n    InvokeStatus[InvokeStatus[\"Success\"] = 0] = \"Success\";\r\n    InvokeStatus[InvokeStatus[\"Error\"] = 1] = \"Error\";\r\n})(InvokeStatus || (InvokeStatus = {}));\r\nvar Client = (function () {\r\n    function Client(protocol, repo, instance, configuration) {\r\n        this.protocol = protocol;\r\n        this.repo = repo;\r\n        this.instance = instance;\r\n        this.configuration = configuration;\r\n    }\r\n    Client.prototype.subscribe = function (method, options, successCallback, errorCallback, existingSub) {\r\n        var _this = this;\r\n        var callProtocolSubscribe = function (targetServers, stream, successProxy, errorProxy) {\r\n            var _a;\r\n            options.methodResponseTimeout = (_a = options.methodResponseTimeout) !== null && _a !== void 0 ? _a : options.waitTimeoutMs;\r\n            _this.protocol.client.subscribe(stream, options, targetServers, successProxy, errorProxy, existingSub);\r\n        };\r\n        var promise = new Promise(function (resolve, reject) {\r\n            var successProxy = function (sub) {\r\n                resolve(sub);\r\n            };\r\n            var errorProxy = function (err) {\r\n                reject(err);\r\n            };\r\n            if (!method) {\r\n                reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n                return;\r\n            }\r\n            var methodDef;\r\n            if (typeof method === \"string\") {\r\n                methodDef = { name: method };\r\n            }\r\n            else {\r\n                methodDef = method;\r\n            }\r\n            if (!methodDef.name) {\r\n                reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n                return;\r\n            }\r\n            if (options === undefined) {\r\n                options = {};\r\n            }\r\n            var target = options.target;\r\n            if (target === undefined) {\r\n                target = \"best\";\r\n            }\r\n            if (typeof target === \"string\" && target !== \"all\" && target !== \"best\") {\r\n                reject(new Error(\"\\\"\" + target + \"\\\" is not a valid target. Valid targets are \\\"all\\\", \\\"best\\\", or an instance.\"));\r\n                return;\r\n            }\r\n            if (options.methodResponseTimeout === undefined) {\r\n                options.methodResponseTimeout = options.method_response_timeout;\r\n                if (options.methodResponseTimeout === undefined) {\r\n                    options.methodResponseTimeout = _this.configuration.methodResponseTimeout;\r\n                }\r\n            }\r\n            if (options.waitTimeoutMs === undefined) {\r\n                options.waitTimeoutMs = options.wait_for_method_timeout;\r\n                if (options.waitTimeoutMs === undefined) {\r\n                    options.waitTimeoutMs = _this.configuration.waitTimeoutMs;\r\n                }\r\n            }\r\n            var delayStep = 500;\r\n            var delayTillNow = 0;\r\n            var currentServers = _this.getServerMethodsByFilterAndTarget(methodDef, target);\r\n            if (currentServers.length > 0) {\r\n                callProtocolSubscribe(currentServers, currentServers[0].methods[0], successProxy, errorProxy);\r\n            }\r\n            else {\r\n                var retry_1 = function () {\r\n                    if (!target || !(options.waitTimeoutMs)) {\r\n                        return;\r\n                    }\r\n                    delayTillNow += delayStep;\r\n                    currentServers = _this.getServerMethodsByFilterAndTarget(methodDef, target);\r\n                    if (currentServers.length > 0) {\r\n                        var streamInfo = currentServers[0].methods[0];\r\n                        callProtocolSubscribe(currentServers, streamInfo, successProxy, errorProxy);\r\n                    }\r\n                    else if (delayTillNow >= options.waitTimeoutMs) {\r\n                        var def = typeof method === \"string\" ? { name: method } : method;\r\n                        callProtocolSubscribe(currentServers, def, successProxy, errorProxy);\r\n                    }\r\n                    else {\r\n                        setTimeout(retry_1, delayStep);\r\n                    }\r\n                };\r\n                setTimeout(retry_1, delayStep);\r\n            }\r\n        });\r\n        return promisify(promise, successCallback, errorCallback);\r\n    };\r\n    Client.prototype.servers = function (methodFilter) {\r\n        var filterCopy = methodFilter === undefined\r\n            ? undefined\r\n            : __assign({}, methodFilter);\r\n        return this.getServers(filterCopy).map(function (serverMethodMap) {\r\n            return serverMethodMap.server.instance;\r\n        });\r\n    };\r\n    Client.prototype.methods = function (methodFilter) {\r\n        if (typeof methodFilter === \"string\") {\r\n            methodFilter = { name: methodFilter };\r\n        }\r\n        else {\r\n            methodFilter = __assign({}, methodFilter);\r\n        }\r\n        return this.getMethods(methodFilter);\r\n    };\r\n    Client.prototype.methodsForInstance = function (instance) {\r\n        return this.getMethodsForInstance(instance);\r\n    };\r\n    Client.prototype.methodAdded = function (callback) {\r\n        return this.repo.onMethodAdded(callback);\r\n    };\r\n    Client.prototype.methodRemoved = function (callback) {\r\n        return this.repo.onMethodRemoved(callback);\r\n    };\r\n    Client.prototype.serverAdded = function (callback) {\r\n        return this.repo.onServerAdded(callback);\r\n    };\r\n    Client.prototype.serverRemoved = function (callback) {\r\n        return this.repo.onServerRemoved(function (server, reason) {\r\n            callback(server, reason);\r\n        });\r\n    };\r\n    Client.prototype.serverMethodAdded = function (callback) {\r\n        return this.repo.onServerMethodAdded(function (server, method) {\r\n            callback({ server: server, method: method });\r\n        });\r\n    };\r\n    Client.prototype.serverMethodRemoved = function (callback) {\r\n        return this.repo.onServerMethodRemoved(function (server, method) {\r\n            callback({ server: server, method: method });\r\n        });\r\n    };\r\n    Client.prototype.invoke = function (methodFilter, argumentObj, target, additionalOptions, success, error) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var getInvokePromise;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                getInvokePromise = function () { return __awaiter(_this, void 0, void 0, function () {\r\n                    var methodDefinition, serversMethodMap, err_1, method, errorObj, timeout, additionalOptionsCopy, invokePromises, invocationMessages, results, allRejected;\r\n                    var _this = this;\r\n                    var _a;\r\n                    return __generator(this, function (_b) {\r\n                        switch (_b.label) {\r\n                            case 0:\r\n                                if (typeof methodFilter === \"string\") {\r\n                                    methodDefinition = { name: methodFilter };\r\n                                }\r\n                                else {\r\n                                    methodDefinition = __assign({}, methodFilter);\r\n                                }\r\n                                if (!methodDefinition.name) {\r\n                                    return [2, Promise.reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\")];\r\n                                }\r\n                                if (!argumentObj) {\r\n                                    argumentObj = {};\r\n                                }\r\n                                if (!target) {\r\n                                    target = \"best\";\r\n                                }\r\n                                if (typeof target === \"string\" && target !== \"all\" && target !== \"best\" && target !== \"skipMine\") {\r\n                                    return [2, Promise.reject(new Error(\"\\\"\" + target + \"\\\" is not a valid target. Valid targets are \\\"all\\\" and \\\"best\\\".\"))];\r\n                                }\r\n                                if (!additionalOptions) {\r\n                                    additionalOptions = {};\r\n                                }\r\n                                if (additionalOptions.methodResponseTimeoutMs === undefined) {\r\n                                    additionalOptions.methodResponseTimeoutMs = additionalOptions.method_response_timeout;\r\n                                    if (additionalOptions.methodResponseTimeoutMs === undefined) {\r\n                                        additionalOptions.methodResponseTimeoutMs = this.configuration.methodResponseTimeout;\r\n                                    }\r\n                                }\r\n                                if (additionalOptions.waitTimeoutMs === undefined) {\r\n                                    additionalOptions.waitTimeoutMs = additionalOptions.wait_for_method_timeout;\r\n                                    if (additionalOptions.waitTimeoutMs === undefined) {\r\n                                        additionalOptions.waitTimeoutMs = this.configuration.waitTimeoutMs;\r\n                                    }\r\n                                }\r\n                                if (additionalOptions.waitTimeoutMs !== undefined && typeof additionalOptions.waitTimeoutMs !== \"number\") {\r\n                                    return [2, Promise.reject(new Error(\"\\\"\" + additionalOptions.waitTimeoutMs + \"\\\" is not a valid number for \\\"waitTimeoutMs\\\" \"))];\r\n                                }\r\n                                if (typeof argumentObj !== \"object\") {\r\n                                    return [2, Promise.reject(new Error(\"The method arguments must be an object. method: \" + methodDefinition.name))];\r\n                                }\r\n                                serversMethodMap = this.getServerMethodsByFilterAndTarget(methodDefinition, target);\r\n                                if (!(serversMethodMap.length === 0)) return [3, 4];\r\n                                _b.label = 1;\r\n                            case 1:\r\n                                _b.trys.push([1, 3, , 4]);\r\n                                return [4, this.tryToAwaitForMethods(methodDefinition, target, additionalOptions)];\r\n                            case 2:\r\n                                serversMethodMap = _b.sent();\r\n                                return [3, 4];\r\n                            case 3:\r\n                                err_1 = _b.sent();\r\n                                method = __assign(__assign({}, methodDefinition), { getServers: function () { return []; }, supportsStreaming: false, objectTypes: (_a = methodDefinition.objectTypes) !== null && _a !== void 0 ? _a : [] });\r\n                                errorObj = {\r\n                                    method: method,\r\n                                    called_with: argumentObj,\r\n                                    message: \"Can not find a method matching \" + JSON.stringify(methodFilter) + \" with server filter \" + JSON.stringify(target),\r\n                                    executed_by: undefined,\r\n                                    returned: undefined,\r\n                                    status: undefined,\r\n                                };\r\n                                return [2, Promise.reject(errorObj)];\r\n                            case 4:\r\n                                timeout = additionalOptions.methodResponseTimeoutMs;\r\n                                additionalOptionsCopy = additionalOptions;\r\n                                invokePromises = serversMethodMap.map(function (serversMethodPair) {\r\n                                    var invId = shortid();\r\n                                    var method = serversMethodPair.methods[0];\r\n                                    var server = serversMethodPair.server;\r\n                                    var invokePromise = _this.protocol.client.invoke(invId, method, argumentObj, server, additionalOptionsCopy);\r\n                                    return Promise.race([\r\n                                        invokePromise,\r\n                                        rejectAfter(timeout, invokePromise, {\r\n                                            invocationId: invId,\r\n                                            message: \"Invocation timeout (\" + timeout + \" ms) reached for method name: \" + (method === null || method === void 0 ? void 0 : method.name) + \", target instance: \" + JSON.stringify(server.instance) + \", options: \" + JSON.stringify(additionalOptionsCopy),\r\n                                            status: InvokeStatus.Error,\r\n                                        })\r\n                                    ]);\r\n                                });\r\n                                return [4, Promise.all(invokePromises)];\r\n                            case 5:\r\n                                invocationMessages = _b.sent();\r\n                                results = this.getInvocationResultObj(invocationMessages, methodDefinition, argumentObj);\r\n                                allRejected = invocationMessages.every(function (result) { return result.status === InvokeStatus.Error; });\r\n                                if (allRejected) {\r\n                                    return [2, Promise.reject(results)];\r\n                                }\r\n                                return [2, results];\r\n                        }\r\n                    });\r\n                }); };\r\n                return [2, promisify(getInvokePromise(), success, error)];\r\n            });\r\n        });\r\n    };\r\n    Client.prototype.getInvocationResultObj = function (invocationResults, method, calledWith) {\r\n        var all_return_values = invocationResults\r\n            .filter(function (invokeMessage) { return invokeMessage.status === InvokeStatus.Success; })\r\n            .reduce(function (allValues, currentValue) {\r\n            allValues = __spreadArrays(allValues, [\r\n                {\r\n                    executed_by: currentValue.instance,\r\n                    returned: currentValue.result,\r\n                    called_with: calledWith,\r\n                    method: method,\r\n                    message: currentValue.message,\r\n                    status: currentValue.status,\r\n                }\r\n            ]);\r\n            return allValues;\r\n        }, []);\r\n        var all_errors = invocationResults\r\n            .filter(function (invokeMessage) { return invokeMessage.status === InvokeStatus.Error; })\r\n            .reduce(function (allErrors, currError) {\r\n            allErrors = __spreadArrays(allErrors, [\r\n                {\r\n                    executed_by: currError.instance,\r\n                    called_with: calledWith,\r\n                    name: method.name,\r\n                    message: currError.message,\r\n                }\r\n            ]);\r\n            return allErrors;\r\n        }, []);\r\n        var invResult = invocationResults[0];\r\n        var result = {\r\n            method: method,\r\n            called_with: calledWith,\r\n            returned: invResult.result,\r\n            executed_by: invResult.instance,\r\n            all_return_values: all_return_values,\r\n            all_errors: all_errors,\r\n            message: invResult.message,\r\n            status: invResult.status\r\n        };\r\n        return result;\r\n    };\r\n    Client.prototype.tryToAwaitForMethods = function (methodDefinition, target, additionalOptions) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            if (additionalOptions.waitTimeoutMs === 0) {\r\n                reject();\r\n                return;\r\n            }\r\n            var delayStep = 500;\r\n            var delayTillNow = 0;\r\n            var retry = function () {\r\n                delayTillNow += delayStep;\r\n                var serversMethodMap = _this.getServerMethodsByFilterAndTarget(methodDefinition, target);\r\n                if (serversMethodMap.length > 0) {\r\n                    clearInterval(interval);\r\n                    resolve(serversMethodMap);\r\n                }\r\n                else if (delayTillNow >= (additionalOptions.waitTimeoutMs || 10000)) {\r\n                    clearInterval(interval);\r\n                    reject();\r\n                    return;\r\n                }\r\n            };\r\n            var interval = setInterval(retry, delayStep);\r\n        });\r\n    };\r\n    Client.prototype.filterByTarget = function (target, serverMethodMap) {\r\n        var _this = this;\r\n        if (typeof target === \"string\") {\r\n            if (target === \"all\") {\r\n                return __spreadArrays(serverMethodMap);\r\n            }\r\n            else if (target === \"best\") {\r\n                var localMachine = serverMethodMap\r\n                    .find(function (s) { return s.server.instance.isLocal; });\r\n                if (localMachine) {\r\n                    return [localMachine];\r\n                }\r\n                if (serverMethodMap[0] !== undefined) {\r\n                    return [serverMethodMap[0]];\r\n                }\r\n            }\r\n            else if (target === \"skipMine\") {\r\n                return serverMethodMap.filter(function (_a) {\r\n                    var server = _a.server;\r\n                    return server.instance.peerId !== _this.instance.peerId;\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            var targetArray = void 0;\r\n            if (!Array.isArray(target)) {\r\n                targetArray = [target];\r\n            }\r\n            else {\r\n                targetArray = target;\r\n            }\r\n            var allServersMatching = targetArray.reduce(function (matches, filter) {\r\n                var myMatches = serverMethodMap.filter(function (serverMethodPair) {\r\n                    return _this.instanceMatch(filter, serverMethodPair.server.instance);\r\n                });\r\n                return matches.concat(myMatches);\r\n            }, []);\r\n            return allServersMatching;\r\n        }\r\n        return [];\r\n    };\r\n    Client.prototype.instanceMatch = function (instanceFilter, instanceDefinition) {\r\n        return this.containsProps(instanceFilter, instanceDefinition);\r\n    };\r\n    Client.prototype.methodMatch = function (methodFilter, methodDefinition) {\r\n        return this.containsProps(methodFilter, methodDefinition);\r\n    };\r\n    Client.prototype.containsProps = function (filter, repoMethod) {\r\n        var filterProps = Object.keys(filter)\r\n            .filter(function (prop) {\r\n            return filter[prop] !== undefined\r\n                && typeof filter[prop] !== \"function\"\r\n                && prop !== \"object_types\"\r\n                && prop !== \"display_name\"\r\n                && prop !== \"id\"\r\n                && prop !== \"gatewayId\"\r\n                && prop !== \"identifier\"\r\n                && prop[0] !== \"_\";\r\n        });\r\n        return filterProps.reduce(function (isMatch, prop) {\r\n            var filterValue = filter[prop];\r\n            var repoMethodValue = repoMethod[prop];\r\n            if (prop === \"objectTypes\") {\r\n                var containsAllFromFilter = function (filterObjTypes, repoObjectTypes) {\r\n                    var objTypeToContains = filterObjTypes.reduce(function (object, objType) {\r\n                        object[objType] = false;\r\n                        return object;\r\n                    }, {});\r\n                    repoObjectTypes.forEach(function (repoObjType) {\r\n                        if (objTypeToContains[repoObjType] !== undefined) {\r\n                            objTypeToContains[repoObjType] = true;\r\n                        }\r\n                    });\r\n                    var filterIsFullfilled = function () { return Object.keys(objTypeToContains).reduce(function (isFullfiled, objType) {\r\n                        if (!objTypeToContains[objType]) {\r\n                            isFullfiled = false;\r\n                        }\r\n                        return isFullfiled;\r\n                    }, true); };\r\n                    return filterIsFullfilled();\r\n                };\r\n                if (filterValue.length > repoMethodValue.length\r\n                    || containsAllFromFilter(filterValue, repoMethodValue) === false) {\r\n                    isMatch = false;\r\n                }\r\n            }\r\n            else if (String(filterValue).toLowerCase() !== String(repoMethodValue).toLowerCase()) {\r\n                isMatch = false;\r\n            }\r\n            return isMatch;\r\n        }, true);\r\n    };\r\n    Client.prototype.getMethods = function (methodFilter) {\r\n        var _this = this;\r\n        if (methodFilter === undefined) {\r\n            return this.repo.getMethods();\r\n        }\r\n        var methods = this.repo.getMethods().filter(function (method) {\r\n            return _this.methodMatch(methodFilter, method);\r\n        });\r\n        return methods;\r\n    };\r\n    Client.prototype.getMethodsForInstance = function (instanceFilter) {\r\n        var _this = this;\r\n        var allServers = this.repo.getServers();\r\n        var matchingServers = allServers.filter(function (server) {\r\n            return _this.instanceMatch(instanceFilter, server.instance);\r\n        });\r\n        if (matchingServers.length === 0) {\r\n            return [];\r\n        }\r\n        var resultMethodsObject = {};\r\n        if (matchingServers.length === 1) {\r\n            resultMethodsObject = matchingServers[0].methods;\r\n        }\r\n        else {\r\n            matchingServers.forEach(function (server) {\r\n                Object.keys(server.methods).forEach(function (methodKey) {\r\n                    var method = server.methods[methodKey];\r\n                    resultMethodsObject[method.identifier] = method;\r\n                });\r\n            });\r\n        }\r\n        return Object.keys(resultMethodsObject)\r\n            .map(function (key) {\r\n            return resultMethodsObject[key];\r\n        });\r\n    };\r\n    Client.prototype.getServers = function (methodFilter) {\r\n        var _this = this;\r\n        var servers = this.repo.getServers();\r\n        if (methodFilter === undefined) {\r\n            return servers.map(function (server) {\r\n                return { server: server, methods: [] };\r\n            });\r\n        }\r\n        return servers.reduce(function (prev, current) {\r\n            var methodsForServer = _this.repo.getServerMethodsById(current.id);\r\n            var matchingMethods = methodsForServer.filter(function (method) {\r\n                return _this.methodMatch(methodFilter, method);\r\n            });\r\n            if (matchingMethods.length > 0) {\r\n                prev.push({ server: current, methods: matchingMethods });\r\n            }\r\n            return prev;\r\n        }, []);\r\n    };\r\n    Client.prototype.getServerMethodsByFilterAndTarget = function (methodFilter, target) {\r\n        var serversMethodMap = this.getServers(methodFilter);\r\n        return this.filterByTarget(target, serversMethodMap);\r\n    };\r\n    return Client;\r\n}());\n\nvar ServerSubscription = (function () {\r\n    function ServerSubscription(protocol, repoMethod, subscription) {\r\n        this.protocol = protocol;\r\n        this.repoMethod = repoMethod;\r\n        this.subscription = subscription;\r\n    }\r\n    Object.defineProperty(ServerSubscription.prototype, \"stream\", {\r\n        get: function () {\r\n            if (!this.repoMethod.stream) {\r\n                throw new Error(\"no stream\");\r\n            }\r\n            return this.repoMethod.stream;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ServerSubscription.prototype, \"arguments\", {\r\n        get: function () { return this.subscription.arguments || {}; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ServerSubscription.prototype, \"branchKey\", {\r\n        get: function () { return this.subscription.branchKey; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ServerSubscription.prototype, \"instance\", {\r\n        get: function () {\r\n            if (!this.subscription.instance) {\r\n                throw new Error(\"no instance\");\r\n            }\r\n            return this.subscription.instance;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ServerSubscription.prototype.close = function () {\r\n        this.protocol.server.closeSingleSubscription(this.repoMethod, this.subscription);\r\n    };\r\n    ServerSubscription.prototype.push = function (data) {\r\n        this.protocol.server.pushDataToSingle(this.repoMethod, this.subscription, data);\r\n    };\r\n    return ServerSubscription;\r\n}());\n\nvar Request = (function () {\r\n    function Request(protocol, repoMethod, requestContext) {\r\n        this.protocol = protocol;\r\n        this.repoMethod = repoMethod;\r\n        this.requestContext = requestContext;\r\n        this.arguments = requestContext.arguments;\r\n        this.instance = requestContext.instance;\r\n    }\r\n    Request.prototype.accept = function () {\r\n        this.protocol.server.acceptRequestOnBranch(this.requestContext, this.repoMethod, \"\");\r\n    };\r\n    Request.prototype.acceptOnBranch = function (branch) {\r\n        this.protocol.server.acceptRequestOnBranch(this.requestContext, this.repoMethod, branch);\r\n    };\r\n    Request.prototype.reject = function (reason) {\r\n        this.protocol.server.rejectRequest(this.requestContext, this.repoMethod, reason);\r\n    };\r\n    return Request;\r\n}());\n\nvar ServerStreaming = (function () {\r\n    function ServerStreaming(protocol, server) {\r\n        var _this = this;\r\n        this.protocol = protocol;\r\n        this.server = server;\r\n        protocol.server.onSubRequest(function (rc, rm) { return _this.handleSubRequest(rc, rm); });\r\n        protocol.server.onSubAdded(function (sub, rm) { return _this.handleSubAdded(sub, rm); });\r\n        protocol.server.onSubRemoved(function (sub, rm) { return _this.handleSubRemoved(sub, rm); });\r\n    }\r\n    ServerStreaming.prototype.handleSubRequest = function (requestContext, repoMethod) {\r\n        if (!(repoMethod &&\r\n            repoMethod.streamCallbacks &&\r\n            typeof repoMethod.streamCallbacks.subscriptionRequestHandler === \"function\")) {\r\n            return;\r\n        }\r\n        var request = new Request(this.protocol, repoMethod, requestContext);\r\n        repoMethod.streamCallbacks.subscriptionRequestHandler(request);\r\n    };\r\n    ServerStreaming.prototype.handleSubAdded = function (subscription, repoMethod) {\r\n        if (!(repoMethod &&\r\n            repoMethod.streamCallbacks &&\r\n            typeof repoMethod.streamCallbacks.subscriptionAddedHandler === \"function\")) {\r\n            return;\r\n        }\r\n        var sub = new ServerSubscription(this.protocol, repoMethod, subscription);\r\n        repoMethod.streamCallbacks.subscriptionAddedHandler(sub);\r\n    };\r\n    ServerStreaming.prototype.handleSubRemoved = function (subscription, repoMethod) {\r\n        if (!(repoMethod &&\r\n            repoMethod.streamCallbacks &&\r\n            typeof repoMethod.streamCallbacks.subscriptionRemovedHandler === \"function\")) {\r\n            return;\r\n        }\r\n        var sub = new ServerSubscription(this.protocol, repoMethod, subscription);\r\n        repoMethod.streamCallbacks.subscriptionRemovedHandler(sub);\r\n    };\r\n    return ServerStreaming;\r\n}());\n\nvar ServerBranch = (function () {\r\n    function ServerBranch(key, protocol, repoMethod) {\r\n        this.key = key;\r\n        this.protocol = protocol;\r\n        this.repoMethod = repoMethod;\r\n    }\r\n    ServerBranch.prototype.subscriptions = function () {\r\n        var _this = this;\r\n        var subList = this.protocol.server.getSubscriptionList(this.repoMethod, this.key);\r\n        return subList.map(function (sub) {\r\n            return new ServerSubscription(_this.protocol, _this.repoMethod, sub);\r\n        });\r\n    };\r\n    ServerBranch.prototype.close = function () {\r\n        this.protocol.server.closeAllSubscriptions(this.repoMethod, this.key);\r\n    };\r\n    ServerBranch.prototype.push = function (data) {\r\n        this.protocol.server.pushData(this.repoMethod, data, [this.key]);\r\n    };\r\n    return ServerBranch;\r\n}());\n\nvar ServerStream = (function () {\r\n    function ServerStream(_protocol, _repoMethod, _server) {\r\n        this._protocol = _protocol;\r\n        this._repoMethod = _repoMethod;\r\n        this._server = _server;\r\n        this.name = this._repoMethod.definition.name;\r\n    }\r\n    ServerStream.prototype.branches = function (key) {\r\n        var _this = this;\r\n        var bList = this._protocol.server.getBranchList(this._repoMethod);\r\n        if (key) {\r\n            if (bList.indexOf(key) > -1) {\r\n                return new ServerBranch(key, this._protocol, this._repoMethod);\r\n            }\r\n            return undefined;\r\n        }\r\n        else {\r\n            return bList.map(function (branchKey) {\r\n                return new ServerBranch(branchKey, _this._protocol, _this._repoMethod);\r\n            });\r\n        }\r\n    };\r\n    ServerStream.prototype.branch = function (key) {\r\n        return this.branches(key);\r\n    };\r\n    ServerStream.prototype.subscriptions = function () {\r\n        var _this = this;\r\n        var subList = this._protocol.server.getSubscriptionList(this._repoMethod);\r\n        return subList.map(function (sub) {\r\n            return new ServerSubscription(_this._protocol, _this._repoMethod, sub);\r\n        });\r\n    };\r\n    Object.defineProperty(ServerStream.prototype, \"definition\", {\r\n        get: function () {\r\n            var def2 = this._repoMethod.definition;\r\n            return {\r\n                accepts: def2.accepts,\r\n                description: def2.description,\r\n                displayName: def2.displayName,\r\n                name: def2.name,\r\n                objectTypes: def2.objectTypes,\r\n                returns: def2.returns,\r\n                supportsStreaming: def2.supportsStreaming,\r\n            };\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ServerStream.prototype.close = function () {\r\n        this._protocol.server.closeAllSubscriptions(this._repoMethod);\r\n        this._server.unregister(this._repoMethod.definition, true);\r\n    };\r\n    ServerStream.prototype.push = function (data, branches) {\r\n        if (typeof branches !== \"string\" && !Array.isArray(branches) && branches !== undefined) {\r\n            throw new Error(\"invalid branches should be string or string array\");\r\n        }\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Invalid arguments. Data must be an object.\");\r\n        }\r\n        this._protocol.server.pushData(this._repoMethod, data, branches);\r\n    };\r\n    ServerStream.prototype.updateRepoMethod = function (repoMethod) {\r\n        this._repoMethod = repoMethod;\r\n    };\r\n    return ServerStream;\r\n}());\n\nvar Server = (function () {\r\n    function Server(protocol, serverRepository) {\r\n        this.protocol = protocol;\r\n        this.serverRepository = serverRepository;\r\n        this.invocations = 0;\r\n        this.currentlyUnregistering = {};\r\n        this.streaming = new ServerStreaming(protocol, this);\r\n        this.protocol.server.onInvoked(this.onMethodInvoked.bind(this));\r\n    }\r\n    Server.prototype.createStream = function (streamDef, callbacks, successCallback, errorCallback, existingStream) {\r\n        var _this = this;\r\n        var promise = new Promise(function (resolve, reject) {\r\n            if (!streamDef) {\r\n                reject(\"The stream name must be unique! Please, provide either a unique string for a stream name to \\u201Cglue.interop.createStream()\\u201D or a \\u201CmethodDefinition\\u201D object with a unique \\u201Cname\\u201D property for the stream.\");\r\n                return;\r\n            }\r\n            var streamMethodDefinition;\r\n            if (typeof streamDef === \"string\") {\r\n                streamMethodDefinition = { name: \"\" + streamDef };\r\n            }\r\n            else {\r\n                streamMethodDefinition = __assign({}, streamDef);\r\n            }\r\n            if (!streamMethodDefinition.name) {\r\n                return reject(\"The \\u201Cname\\u201D property is required for the \\u201CstreamDefinition\\u201D object and must be unique. Stream definition: \" + JSON.stringify(streamMethodDefinition));\r\n            }\r\n            var nameAlreadyExists = _this.serverRepository.getList()\r\n                .some(function (serverMethod) { return serverMethod.definition.name === streamMethodDefinition.name; });\r\n            if (nameAlreadyExists) {\r\n                return reject(\"A stream with the name \\\"\" + streamMethodDefinition.name + \"\\\" already exists! Please, provide a unique name for the stream.\");\r\n            }\r\n            streamMethodDefinition.supportsStreaming = true;\r\n            if (!callbacks) {\r\n                callbacks = {};\r\n            }\r\n            if (typeof callbacks.subscriptionRequestHandler !== \"function\") {\r\n                callbacks.subscriptionRequestHandler = function (request) {\r\n                    request.accept();\r\n                };\r\n            }\r\n            var repoMethod = _this.serverRepository.add({\r\n                definition: streamMethodDefinition,\r\n                streamCallbacks: callbacks,\r\n                protocolState: {},\r\n            });\r\n            _this.protocol.server.createStream(repoMethod)\r\n                .then(function () {\r\n                var streamUserObject;\r\n                if (existingStream) {\r\n                    streamUserObject = existingStream;\r\n                    existingStream.updateRepoMethod(repoMethod);\r\n                }\r\n                else {\r\n                    streamUserObject = new ServerStream(_this.protocol, repoMethod, _this);\r\n                }\r\n                repoMethod.stream = streamUserObject;\r\n                resolve(streamUserObject);\r\n            })\r\n                .catch(function (err) {\r\n                if (repoMethod.repoId) {\r\n                    _this.serverRepository.remove(repoMethod.repoId);\r\n                }\r\n                reject(err);\r\n            });\r\n        });\r\n        return promisify(promise, successCallback, errorCallback);\r\n    };\r\n    Server.prototype.register = function (methodDefinition, callback) {\r\n        var _this = this;\r\n        if (!methodDefinition) {\r\n            return Promise.reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n        }\r\n        if (typeof callback !== \"function\") {\r\n            return Promise.reject(\"The second parameter must be a callback function. Method: \" + (typeof methodDefinition === \"string\" ? methodDefinition : methodDefinition.name));\r\n        }\r\n        var wrappedCallbackFunction = function (context, resultCallback) { return __awaiter(_this, void 0, void 0, function () {\r\n            var result, resultValue, e_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 4, , 5]);\r\n                        result = callback(context.args, context.instance);\r\n                        if (!(result && typeof result.then === \"function\")) return [3, 2];\r\n                        return [4, result];\r\n                    case 1:\r\n                        resultValue = _a.sent();\r\n                        resultCallback(undefined, resultValue);\r\n                        return [3, 3];\r\n                    case 2:\r\n                        resultCallback(undefined, result);\r\n                        _a.label = 3;\r\n                    case 3: return [3, 5];\r\n                    case 4:\r\n                        e_1 = _a.sent();\r\n                        if (!e_1) {\r\n                            e_1 = \"\";\r\n                        }\r\n                        resultCallback(e_1, e_1);\r\n                        return [3, 5];\r\n                    case 5: return [2];\r\n                }\r\n            });\r\n        }); };\r\n        wrappedCallbackFunction.userCallback = callback;\r\n        return this.registerCore(methodDefinition, wrappedCallbackFunction);\r\n    };\r\n    Server.prototype.registerAsync = function (methodDefinition, callback) {\r\n        if (!methodDefinition) {\r\n            return Promise.reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n        }\r\n        if (typeof callback !== \"function\") {\r\n            return Promise.reject(\"The second parameter must be a callback function. Method: \" + (typeof methodDefinition === \"string\" ? methodDefinition : methodDefinition.name));\r\n        }\r\n        var wrappedCallback = function (context, resultCallback) {\r\n            try {\r\n                var resultCalled_1 = false;\r\n                var success = function (result) {\r\n                    if (!resultCalled_1) {\r\n                        resultCallback(undefined, result);\r\n                    }\r\n                    resultCalled_1 = true;\r\n                };\r\n                var error = function (e) {\r\n                    if (!resultCalled_1) {\r\n                        if (!e) {\r\n                            e = \"\";\r\n                        }\r\n                        resultCallback(e, e);\r\n                    }\r\n                    resultCalled_1 = true;\r\n                };\r\n                var methodResult = callback(context.args, context.instance, success, error);\r\n                if (methodResult && typeof methodResult.then === \"function\") {\r\n                    methodResult\r\n                        .then(success)\r\n                        .catch(error);\r\n                }\r\n            }\r\n            catch (e) {\r\n                resultCallback(e, undefined);\r\n            }\r\n        };\r\n        wrappedCallback.userCallbackAsync = callback;\r\n        return this.registerCore(methodDefinition, wrappedCallback);\r\n    };\r\n    Server.prototype.unregister = function (methodFilter, forStream) {\r\n        if (forStream === void 0) { forStream = false; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var methodDefinition, methodToBeRemoved;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (methodFilter === undefined) {\r\n                            return [2, Promise.reject(\"Please, provide either a unique string for a name or an object containing a \\u201Cname\\u201D property.\")];\r\n                        }\r\n                        if (!(typeof methodFilter === \"function\")) return [3, 2];\r\n                        return [4, this.unregisterWithPredicate(methodFilter, forStream)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2];\r\n                    case 2:\r\n                        if (typeof methodFilter === \"string\") {\r\n                            methodDefinition = { name: methodFilter };\r\n                        }\r\n                        else {\r\n                            methodDefinition = methodFilter;\r\n                        }\r\n                        if (methodDefinition.name === undefined) {\r\n                            return [2, Promise.reject(\"Method name is required. Cannot find a method if the method name is undefined!\")];\r\n                        }\r\n                        methodToBeRemoved = this.serverRepository.getList().find(function (serverMethod) {\r\n                            return serverMethod.definition.name === methodDefinition.name\r\n                                && (serverMethod.definition.supportsStreaming || false) === forStream;\r\n                        });\r\n                        if (!methodToBeRemoved) {\r\n                            return [2, Promise.reject(\"Method with a name \\\"\" + methodDefinition.name + \"\\\" does not exist or is not registered by your application!\")];\r\n                        }\r\n                        return [4, this.removeMethodsOrStreams([methodToBeRemoved])];\r\n                    case 3:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Server.prototype.unregisterWithPredicate = function (filterPredicate, forStream) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var methodsOrStreamsToRemove;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        methodsOrStreamsToRemove = this.serverRepository.getList()\r\n                            .filter(function (sm) { return filterPredicate(sm.definition); })\r\n                            .filter(function (serverMethod) {\r\n                            return (serverMethod.definition.supportsStreaming || false) === forStream;\r\n                        });\r\n                        if (!methodsOrStreamsToRemove || methodsOrStreamsToRemove.length === 0) {\r\n                            return [2, Promise.reject(\"Could not find a \" + (forStream ? \"stream\" : \"method\") + \" matching the specified condition!\")];\r\n                        }\r\n                        return [4, this.removeMethodsOrStreams(methodsOrStreamsToRemove)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Server.prototype.removeMethodsOrStreams = function (methodsToRemove) {\r\n        var _this = this;\r\n        var methodUnregPromises = [];\r\n        methodsToRemove.forEach(function (method) {\r\n            var promise = _this.protocol.server.unregister(method)\r\n                .then(function () {\r\n                if (method.repoId) {\r\n                    _this.serverRepository.remove(method.repoId);\r\n                }\r\n            });\r\n            methodUnregPromises.push(promise);\r\n            _this.addAsCurrentlyUnregistering(method.definition.name, promise);\r\n        });\r\n        return Promise.all(methodUnregPromises);\r\n    };\r\n    Server.prototype.addAsCurrentlyUnregistering = function (methodName, promise) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var timeout;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                timeout = new Promise(function (resolve) { return setTimeout(resolve, 5000); });\r\n                this.currentlyUnregistering[methodName] = Promise.race([promise, timeout]).then(function () {\r\n                    delete _this.currentlyUnregistering[methodName];\r\n                });\r\n                return [2];\r\n            });\r\n        });\r\n    };\r\n    Server.prototype.registerCore = function (method, theFunction) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var methodDefinition, unregisterInProgress, nameAlreadyExists, repoMethod;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (typeof method === \"string\") {\r\n                            methodDefinition = { name: \"\" + method };\r\n                        }\r\n                        else {\r\n                            methodDefinition = __assign({}, method);\r\n                        }\r\n                        if (!methodDefinition.name) {\r\n                            return [2, Promise.reject(\"Please, provide a (unique) string value for the \\u201Cname\\u201D property in the \\u201CmethodDefinition\\u201D object: \" + JSON.stringify(method))];\r\n                        }\r\n                        unregisterInProgress = this.currentlyUnregistering[methodDefinition.name];\r\n                        if (!unregisterInProgress) return [3, 2];\r\n                        return [4, unregisterInProgress];\r\n                    case 1:\r\n                        _a.sent();\r\n                        _a.label = 2;\r\n                    case 2:\r\n                        nameAlreadyExists = this.serverRepository.getList()\r\n                            .some(function (serverMethod) { return serverMethod.definition.name === methodDefinition.name; });\r\n                        if (nameAlreadyExists) {\r\n                            return [2, Promise.reject(\"A method with the name \\\"\" + methodDefinition.name + \"\\\" already exists! Please, provide a unique name for the method.\")];\r\n                        }\r\n                        if (methodDefinition.supportsStreaming) {\r\n                            return [2, Promise.reject(\"When you create methods with \\u201Cglue.interop.register()\\u201D or \\u201Cglue.interop.registerAsync()\\u201D the property \\u201CsupportsStreaming\\u201D cannot be \\u201Ctrue\\u201D. If you want \\u201C\" + methodDefinition.name + \"\\u201D to be a stream, please use the \\u201Cglue.interop.createStream()\\u201D method.\")];\r\n                        }\r\n                        repoMethod = this.serverRepository.add({\r\n                            definition: methodDefinition,\r\n                            theFunction: theFunction,\r\n                            protocolState: {},\r\n                        });\r\n                        return [2, this.protocol.server.register(repoMethod)\r\n                                .catch(function (err) {\r\n                                if (repoMethod === null || repoMethod === void 0 ? void 0 : repoMethod.repoId) {\r\n                                    _this.serverRepository.remove(repoMethod.repoId);\r\n                                }\r\n                                throw err;\r\n                            })];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Server.prototype.onMethodInvoked = function (methodToExecute, invocationId, invocationArgs) {\r\n        var _this = this;\r\n        if (!methodToExecute || !methodToExecute.theFunction) {\r\n            return;\r\n        }\r\n        methodToExecute.theFunction(invocationArgs, function (err, result) {\r\n            if (err !== undefined && err !== null) {\r\n                if (err.message && typeof err.message === \"string\") {\r\n                    err = err.message;\r\n                }\r\n                else if (typeof err !== \"string\") {\r\n                    try {\r\n                        err = JSON.stringify(err);\r\n                    }\r\n                    catch (unStrException) {\r\n                        err = \"un-stringifyable error in onMethodInvoked! Top level prop names: \" + Object.keys(err);\r\n                    }\r\n                }\r\n            }\r\n            if (!result) {\r\n                result = {};\r\n            }\r\n            else if (typeof result !== \"object\" || Array.isArray(result)) {\r\n                result = { _value: result };\r\n            }\r\n            _this.protocol.server.methodInvocationResult(methodToExecute, invocationId, err, result);\r\n        });\r\n    };\r\n    return Server;\r\n}());\n\nvar InstanceWrapper = (function () {\r\n    function InstanceWrapper(instance, connection) {\r\n        var _this = this;\r\n        this.wrapped = {\r\n            getMethods: getMethods,\r\n            getStreams: getStreams,\r\n        };\r\n        if (instance) {\r\n            this.refreshWrappedObject(instance);\r\n        }\r\n        if (connection) {\r\n            connection.loggedIn(function () {\r\n                _this.refresh(connection);\r\n            });\r\n            this.refresh(connection);\r\n        }\r\n    }\r\n    InstanceWrapper.prototype.unwrap = function () {\r\n        return this.wrapped;\r\n    };\r\n    InstanceWrapper.prototype.refresh = function (connection) {\r\n        if (!connection) {\r\n            return;\r\n        }\r\n        var resolvedIdentity = connection === null || connection === void 0 ? void 0 : connection.resolvedIdentity;\r\n        var instance = Object.assign({}, resolvedIdentity !== null && resolvedIdentity !== void 0 ? resolvedIdentity : {}, { peerId: connection === null || connection === void 0 ? void 0 : connection.peerId });\r\n        this.refreshWrappedObject(instance);\r\n    };\r\n    InstanceWrapper.prototype.refreshWrappedObject = function (resolvedIdentity) {\r\n        var _a, _b, _c;\r\n        this.wrapped.user = resolvedIdentity.user;\r\n        this.wrapped.instance = resolvedIdentity.instance;\r\n        this.wrapped.application = (_a = resolvedIdentity.application) !== null && _a !== void 0 ? _a : shortid();\r\n        this.wrapped.applicationName = resolvedIdentity.applicationName;\r\n        this.wrapped.pid = (_c = (_b = resolvedIdentity.pid) !== null && _b !== void 0 ? _b : resolvedIdentity.process) !== null && _c !== void 0 ? _c : Math.floor(Math.random() * 10000000000);\r\n        this.wrapped.machine = resolvedIdentity.machine;\r\n        this.wrapped.environment = resolvedIdentity.environment;\r\n        this.wrapped.region = resolvedIdentity.region;\r\n        this.wrapped.windowId = resolvedIdentity.windowId;\r\n        this.wrapped.isLocal = true;\r\n        this.wrapped.api = resolvedIdentity.api;\r\n        this.wrapped.service = resolvedIdentity.service;\r\n        this.wrapped.peerId = resolvedIdentity.peerId;\r\n    };\r\n    return InstanceWrapper;\r\n}());\r\nfunction getMethods() {\r\n    var _a;\r\n    return (_a = InstanceWrapper.API) === null || _a === void 0 ? void 0 : _a.methodsForInstance(this);\r\n}\r\nfunction getStreams() {\r\n    var _a;\r\n    return (_a = InstanceWrapper.API) === null || _a === void 0 ? void 0 : _a.methodsForInstance(this).filter(function (m) { return m.supportsStreaming; });\r\n}\n\nvar ClientRepository = (function () {\r\n    function ClientRepository(logger) {\r\n        this.logger = logger;\r\n        this.servers = {};\r\n        this.methodsCount = {};\r\n        this.callbacks = lib();\r\n    }\r\n    ClientRepository.prototype.addServer = function (info, serverId) {\r\n        this.logger.debug(\"adding server \" + serverId);\r\n        var current = this.servers[serverId];\r\n        if (current) {\r\n            return current.id;\r\n        }\r\n        var wrapper = new InstanceWrapper(info);\r\n        var serverEntry = {\r\n            id: serverId,\r\n            methods: {},\r\n            instance: wrapper.unwrap(),\r\n            wrapper: wrapper,\r\n        };\r\n        this.servers[serverId] = serverEntry;\r\n        this.callbacks.execute(\"onServerAdded\", serverEntry.instance);\r\n        return serverId;\r\n    };\r\n    ClientRepository.prototype.removeServerById = function (id, reason) {\r\n        var _this = this;\r\n        var server = this.servers[id];\r\n        if (!server) {\r\n            this.logger.warn(\"not aware of server \" + id + \", my state \" + JSON.stringify(Object.keys(this.servers)));\r\n            return;\r\n        }\r\n        else {\r\n            this.logger.debug(\"removing server \" + id);\r\n        }\r\n        Object.keys(server.methods).forEach(function (methodId) {\r\n            _this.removeServerMethod(id, methodId);\r\n        });\r\n        delete this.servers[id];\r\n        this.callbacks.execute(\"onServerRemoved\", server.instance, reason);\r\n    };\r\n    ClientRepository.prototype.addServerMethod = function (serverId, method) {\r\n        var server = this.servers[serverId];\r\n        if (!server) {\r\n            throw new Error(\"server does not exists\");\r\n        }\r\n        if (server.methods[method.id]) {\r\n            return;\r\n        }\r\n        var identifier = this.createMethodIdentifier(method);\r\n        var that = this;\r\n        var methodDefinition = {\r\n            identifier: identifier,\r\n            gatewayId: method.id,\r\n            name: method.name,\r\n            displayName: method.display_name,\r\n            description: method.description,\r\n            version: method.version,\r\n            objectTypes: method.object_types || [],\r\n            accepts: method.input_signature,\r\n            returns: method.result_signature,\r\n            supportsStreaming: typeof method.flags !== \"undefined\" ? method.flags.streaming : false,\r\n            getServers: function () {\r\n                return that.getServersByMethod(identifier);\r\n            }\r\n        };\r\n        methodDefinition.object_types = methodDefinition.objectTypes;\r\n        methodDefinition.display_name = methodDefinition.displayName;\r\n        methodDefinition.version = methodDefinition.version;\r\n        server.methods[method.id] = methodDefinition;\r\n        if (!this.methodsCount[identifier]) {\r\n            this.methodsCount[identifier] = 0;\r\n            this.callbacks.execute(\"onMethodAdded\", methodDefinition);\r\n        }\r\n        this.methodsCount[identifier] = this.methodsCount[identifier] + 1;\r\n        this.callbacks.execute(\"onServerMethodAdded\", server.instance, methodDefinition);\r\n        return methodDefinition;\r\n    };\r\n    ClientRepository.prototype.removeServerMethod = function (serverId, methodId) {\r\n        var server = this.servers[serverId];\r\n        if (!server) {\r\n            throw new Error(\"server does not exists\");\r\n        }\r\n        var method = server.methods[methodId];\r\n        delete server.methods[methodId];\r\n        this.methodsCount[method.identifier] = this.methodsCount[method.identifier] - 1;\r\n        if (this.methodsCount[method.identifier] === 0) {\r\n            this.callbacks.execute(\"onMethodRemoved\", method);\r\n        }\r\n        this.callbacks.execute(\"onServerMethodRemoved\", server.instance, method);\r\n    };\r\n    ClientRepository.prototype.getMethods = function () {\r\n        var _this = this;\r\n        var allMethods = {};\r\n        Object.keys(this.servers).forEach(function (serverId) {\r\n            var server = _this.servers[serverId];\r\n            Object.keys(server.methods).forEach(function (methodId) {\r\n                var method = server.methods[methodId];\r\n                allMethods[method.identifier] = method;\r\n            });\r\n        });\r\n        var methodsAsArray = Object.keys(allMethods).map(function (id) {\r\n            return allMethods[id];\r\n        });\r\n        return methodsAsArray;\r\n    };\r\n    ClientRepository.prototype.getServers = function () {\r\n        var _this = this;\r\n        var allServers = [];\r\n        Object.keys(this.servers).forEach(function (serverId) {\r\n            var server = _this.servers[serverId];\r\n            allServers.push(server);\r\n        });\r\n        return allServers;\r\n    };\r\n    ClientRepository.prototype.getServerMethodsById = function (serverId) {\r\n        var server = this.servers[serverId];\r\n        return Object.keys(server.methods).map(function (id) {\r\n            return server.methods[id];\r\n        });\r\n    };\r\n    ClientRepository.prototype.onServerAdded = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onServerAdded\", callback);\r\n        var serversWithMethodsToReplay = this.getServers().map(function (s) { return s.instance; });\r\n        return this.returnUnsubWithDelayedReplay(unsubscribeFunc, serversWithMethodsToReplay, callback);\r\n    };\r\n    ClientRepository.prototype.onMethodAdded = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onMethodAdded\", callback);\r\n        var methodsToReplay = this.getMethods();\r\n        return this.returnUnsubWithDelayedReplay(unsubscribeFunc, methodsToReplay, callback);\r\n    };\r\n    ClientRepository.prototype.onServerMethodAdded = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onServerMethodAdded\", callback);\r\n        var unsubCalled = false;\r\n        var servers = this.getServers();\r\n        setTimeout(function () {\r\n            servers.forEach(function (server) {\r\n                var methods = server.methods;\r\n                Object.keys(methods).forEach(function (methodId) {\r\n                    if (!unsubCalled) {\r\n                        callback(server.instance, methods[methodId]);\r\n                    }\r\n                });\r\n            });\r\n        }, 0);\r\n        return function () {\r\n            unsubCalled = true;\r\n            unsubscribeFunc();\r\n        };\r\n    };\r\n    ClientRepository.prototype.onMethodRemoved = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onMethodRemoved\", callback);\r\n        return unsubscribeFunc;\r\n    };\r\n    ClientRepository.prototype.onServerRemoved = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onServerRemoved\", callback);\r\n        return unsubscribeFunc;\r\n    };\r\n    ClientRepository.prototype.onServerMethodRemoved = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onServerMethodRemoved\", callback);\r\n        return unsubscribeFunc;\r\n    };\r\n    ClientRepository.prototype.getServerById = function (id) {\r\n        return this.servers[id];\r\n    };\r\n    ClientRepository.prototype.reset = function () {\r\n        var _this = this;\r\n        Object.keys(this.servers).forEach(function (key) {\r\n            _this.removeServerById(key, \"reset\");\r\n        });\r\n        this.servers = {};\r\n        this.methodsCount = {};\r\n    };\r\n    ClientRepository.prototype.createMethodIdentifier = function (methodInfo) {\r\n        var accepts = methodInfo.input_signature !== undefined ? methodInfo.input_signature : \"\";\r\n        var returns = methodInfo.result_signature !== undefined ? methodInfo.result_signature : \"\";\r\n        return (methodInfo.name + accepts + returns).toLowerCase();\r\n    };\r\n    ClientRepository.prototype.getServersByMethod = function (identifier) {\r\n        var _this = this;\r\n        var allServers = [];\r\n        Object.keys(this.servers).forEach(function (serverId) {\r\n            var server = _this.servers[serverId];\r\n            Object.keys(server.methods).forEach(function (methodId) {\r\n                var methodInfo = server.methods[methodId];\r\n                if (methodInfo.identifier === identifier) {\r\n                    allServers.push(server.instance);\r\n                }\r\n            });\r\n        });\r\n        return allServers;\r\n    };\r\n    ClientRepository.prototype.returnUnsubWithDelayedReplay = function (unsubscribeFunc, collectionToReplay, callback) {\r\n        var unsubCalled = false;\r\n        setTimeout(function () {\r\n            collectionToReplay.forEach(function (item) {\r\n                if (!unsubCalled) {\r\n                    callback(item);\r\n                }\r\n            });\r\n        }, 0);\r\n        return function () {\r\n            unsubCalled = true;\r\n            unsubscribeFunc();\r\n        };\r\n    };\r\n    return ClientRepository;\r\n}());\n\nvar ServerRepository = (function () {\r\n    function ServerRepository() {\r\n        this.nextId = 0;\r\n        this.methods = [];\r\n    }\r\n    ServerRepository.prototype.add = function (method) {\r\n        method.repoId = String(this.nextId);\r\n        this.nextId += 1;\r\n        this.methods.push(method);\r\n        return method;\r\n    };\r\n    ServerRepository.prototype.remove = function (repoId) {\r\n        if (typeof repoId !== \"string\") {\r\n            return new TypeError(\"Expecting a string\");\r\n        }\r\n        this.methods = this.methods.filter(function (m) {\r\n            return m.repoId !== repoId;\r\n        });\r\n    };\r\n    ServerRepository.prototype.getById = function (id) {\r\n        if (typeof id !== \"string\") {\r\n            return undefined;\r\n        }\r\n        return this.methods.find(function (m) {\r\n            return m.repoId === id;\r\n        });\r\n    };\r\n    ServerRepository.prototype.getList = function () {\r\n        return this.methods.map(function (m) { return m; });\r\n    };\r\n    ServerRepository.prototype.length = function () {\r\n        return this.methods.length;\r\n    };\r\n    ServerRepository.prototype.reset = function () {\r\n        this.methods = [];\r\n    };\r\n    return ServerRepository;\r\n}());\n\nvar SUBSCRIPTION_REQUEST = \"onSubscriptionRequest\";\r\nvar SUBSCRIPTION_ADDED = \"onSubscriptionAdded\";\r\nvar SUBSCRIPTION_REMOVED = \"onSubscriptionRemoved\";\r\nvar ServerStreaming$1 = (function () {\r\n    function ServerStreaming(session, repository, serverRepository) {\r\n        var _this = this;\r\n        this.session = session;\r\n        this.repository = repository;\r\n        this.serverRepository = serverRepository;\r\n        this.ERR_URI_SUBSCRIPTION_FAILED = \"com.tick42.agm.errors.subscription.failure\";\r\n        this.callbacks = lib();\r\n        this.nextStreamId = 0;\r\n        session.on(\"add-interest\", function (msg) {\r\n            _this.handleAddInterest(msg);\r\n        });\r\n        session.on(\"remove-interest\", function (msg) {\r\n            _this.handleRemoveInterest(msg);\r\n        });\r\n    }\r\n    ServerStreaming.prototype.acceptRequestOnBranch = function (requestContext, streamingMethod, branch) {\r\n        if (typeof branch !== \"string\") {\r\n            branch = \"\";\r\n        }\r\n        if (typeof streamingMethod.protocolState.subscriptionsMap !== \"object\") {\r\n            throw new TypeError(\"The streaming method is missing its subscriptions.\");\r\n        }\r\n        if (!Array.isArray(streamingMethod.protocolState.branchKeyToStreamIdMap)) {\r\n            throw new TypeError(\"The streaming method is missing its branches.\");\r\n        }\r\n        var streamId = this.getStreamId(streamingMethod, branch);\r\n        var key = requestContext.msg.subscription_id;\r\n        var subscription = {\r\n            id: key,\r\n            arguments: requestContext.arguments,\r\n            instance: requestContext.instance,\r\n            branchKey: branch,\r\n            streamId: streamId,\r\n            subscribeMsg: requestContext.msg,\r\n        };\r\n        streamingMethod.protocolState.subscriptionsMap[key] = subscription;\r\n        this.session.sendFireAndForget({\r\n            type: \"accepted\",\r\n            subscription_id: key,\r\n            stream_id: streamId,\r\n        });\r\n        this.callbacks.execute(SUBSCRIPTION_ADDED, subscription, streamingMethod);\r\n    };\r\n    ServerStreaming.prototype.rejectRequest = function (requestContext, streamingMethod, reason) {\r\n        if (typeof reason !== \"string\") {\r\n            reason = \"\";\r\n        }\r\n        this.sendSubscriptionFailed(\"Subscription rejected by user. \" + reason, requestContext.msg.subscription_id);\r\n    };\r\n    ServerStreaming.prototype.pushData = function (streamingMethod, data, branches) {\r\n        var _this = this;\r\n        if (typeof streamingMethod !== \"object\" || !Array.isArray(streamingMethod.protocolState.branchKeyToStreamIdMap)) {\r\n            return;\r\n        }\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Invalid arguments. Data must be an object.\");\r\n        }\r\n        if (typeof branches === \"string\") {\r\n            branches = [branches];\r\n        }\r\n        else if (!Array.isArray(branches) || branches.length <= 0) {\r\n            branches = [];\r\n        }\r\n        var streamIdList = streamingMethod.protocolState.branchKeyToStreamIdMap\r\n            .filter(function (br) {\r\n            if (!branches || branches.length === 0) {\r\n                return true;\r\n            }\r\n            return branches.indexOf(br.key) >= 0;\r\n        }).map(function (br) {\r\n            return br.streamId;\r\n        });\r\n        streamIdList.forEach(function (streamId) {\r\n            var publishMessage = {\r\n                type: \"publish\",\r\n                stream_id: streamId,\r\n                data: data,\r\n            };\r\n            _this.session.sendFireAndForget(publishMessage);\r\n        });\r\n    };\r\n    ServerStreaming.prototype.pushDataToSingle = function (method, subscription, data) {\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Invalid arguments. Data must be an object.\");\r\n        }\r\n        var postMessage = {\r\n            type: \"post\",\r\n            subscription_id: subscription.id,\r\n            data: data,\r\n        };\r\n        this.session.sendFireAndForget(postMessage);\r\n    };\r\n    ServerStreaming.prototype.closeSingleSubscription = function (streamingMethod, subscription) {\r\n        if (streamingMethod.protocolState.subscriptionsMap) {\r\n            delete streamingMethod.protocolState.subscriptionsMap[subscription.id];\r\n        }\r\n        var dropSubscriptionMessage = {\r\n            type: \"drop-subscription\",\r\n            subscription_id: subscription.id,\r\n            reason: \"Server dropping a single subscription\",\r\n        };\r\n        this.session.sendFireAndForget(dropSubscriptionMessage);\r\n        var subscriber = subscription.instance;\r\n        this.callbacks.execute(SUBSCRIPTION_REMOVED, subscription, streamingMethod);\r\n    };\r\n    ServerStreaming.prototype.closeMultipleSubscriptions = function (streamingMethod, branchKey) {\r\n        var _this = this;\r\n        if (typeof streamingMethod !== \"object\" || typeof streamingMethod.protocolState.subscriptionsMap !== \"object\") {\r\n            return;\r\n        }\r\n        if (!streamingMethod.protocolState.subscriptionsMap) {\r\n            return;\r\n        }\r\n        var subscriptionsMap = streamingMethod.protocolState.subscriptionsMap;\r\n        var subscriptionsToClose = Object.keys(subscriptionsMap)\r\n            .map(function (key) {\r\n            return subscriptionsMap[key];\r\n        });\r\n        if (typeof branchKey === \"string\") {\r\n            subscriptionsToClose = subscriptionsToClose.filter(function (sub) {\r\n                return sub.branchKey === branchKey;\r\n            });\r\n        }\r\n        subscriptionsToClose.forEach(function (subscription) {\r\n            delete subscriptionsMap[subscription.id];\r\n            var drop = {\r\n                type: \"drop-subscription\",\r\n                subscription_id: subscription.id,\r\n                reason: \"Server dropping all subscriptions on stream_id: \" + subscription.streamId,\r\n            };\r\n            _this.session.sendFireAndForget(drop);\r\n        });\r\n    };\r\n    ServerStreaming.prototype.getSubscriptionList = function (streamingMethod, branchKey) {\r\n        if (typeof streamingMethod !== \"object\") {\r\n            return [];\r\n        }\r\n        var subscriptions = [];\r\n        if (!streamingMethod.protocolState.subscriptionsMap) {\r\n            return [];\r\n        }\r\n        var subscriptionsMap = streamingMethod.protocolState.subscriptionsMap;\r\n        var allSubscriptions = Object.keys(subscriptionsMap)\r\n            .map(function (key) {\r\n            return subscriptionsMap[key];\r\n        });\r\n        if (typeof branchKey !== \"string\") {\r\n            subscriptions = allSubscriptions;\r\n        }\r\n        else {\r\n            subscriptions = allSubscriptions.filter(function (sub) {\r\n                return sub.branchKey === branchKey;\r\n            });\r\n        }\r\n        return subscriptions;\r\n    };\r\n    ServerStreaming.prototype.getBranchList = function (streamingMethod) {\r\n        if (typeof streamingMethod !== \"object\") {\r\n            return [];\r\n        }\r\n        if (!streamingMethod.protocolState.subscriptionsMap) {\r\n            return [];\r\n        }\r\n        var subscriptionsMap = streamingMethod.protocolState.subscriptionsMap;\r\n        var allSubscriptions = Object.keys(subscriptionsMap)\r\n            .map(function (key) {\r\n            return subscriptionsMap[key];\r\n        });\r\n        var result = [];\r\n        allSubscriptions.forEach(function (sub) {\r\n            var branch = \"\";\r\n            if (typeof sub === \"object\" && typeof sub.branchKey === \"string\") {\r\n                branch = sub.branchKey;\r\n            }\r\n            if (result.indexOf(branch) === -1) {\r\n                result.push(branch);\r\n            }\r\n        });\r\n        return result;\r\n    };\r\n    ServerStreaming.prototype.onSubAdded = function (callback) {\r\n        this.onSubscriptionLifetimeEvent(SUBSCRIPTION_ADDED, callback);\r\n    };\r\n    ServerStreaming.prototype.onSubRequest = function (callback) {\r\n        this.onSubscriptionLifetimeEvent(SUBSCRIPTION_REQUEST, callback);\r\n    };\r\n    ServerStreaming.prototype.onSubRemoved = function (callback) {\r\n        this.onSubscriptionLifetimeEvent(SUBSCRIPTION_REMOVED, callback);\r\n    };\r\n    ServerStreaming.prototype.handleRemoveInterest = function (msg) {\r\n        var streamingMethod = this.serverRepository.getById(msg.method_id);\r\n        if (typeof msg.subscription_id !== \"string\" ||\r\n            typeof streamingMethod !== \"object\") {\r\n            return;\r\n        }\r\n        if (!streamingMethod.protocolState.subscriptionsMap) {\r\n            return;\r\n        }\r\n        if (typeof streamingMethod.protocolState.subscriptionsMap[msg.subscription_id] !== \"object\") {\r\n            return;\r\n        }\r\n        var subscription = streamingMethod.protocolState.subscriptionsMap[msg.subscription_id];\r\n        delete streamingMethod.protocolState.subscriptionsMap[msg.subscription_id];\r\n        this.callbacks.execute(SUBSCRIPTION_REMOVED, subscription, streamingMethod);\r\n    };\r\n    ServerStreaming.prototype.onSubscriptionLifetimeEvent = function (eventName, handlerFunc) {\r\n        this.callbacks.add(eventName, handlerFunc);\r\n    };\r\n    ServerStreaming.prototype.getNextStreamId = function () {\r\n        return this.nextStreamId++ + \"\";\r\n    };\r\n    ServerStreaming.prototype.handleAddInterest = function (msg) {\r\n        var caller = this.repository.getServerById(msg.caller_id);\r\n        var instance = caller.instance;\r\n        var requestContext = {\r\n            msg: msg,\r\n            arguments: msg.arguments_kv || {},\r\n            instance: instance,\r\n        };\r\n        var streamingMethod = this.serverRepository.getById(msg.method_id);\r\n        if (streamingMethod === undefined) {\r\n            var errorMsg = \"No method with id \" + msg.method_id + \" on this server.\";\r\n            this.sendSubscriptionFailed(errorMsg, msg.subscription_id);\r\n            return;\r\n        }\r\n        if (streamingMethod.protocolState.subscriptionsMap &&\r\n            streamingMethod.protocolState.subscriptionsMap[msg.subscription_id]) {\r\n            this.sendSubscriptionFailed(\"A subscription with id \" + msg.subscription_id + \" already exists.\", msg.subscription_id);\r\n            return;\r\n        }\r\n        this.callbacks.execute(SUBSCRIPTION_REQUEST, requestContext, streamingMethod);\r\n    };\r\n    ServerStreaming.prototype.sendSubscriptionFailed = function (reason, subscriptionId) {\r\n        var errorMessage = {\r\n            type: \"error\",\r\n            reason_uri: this.ERR_URI_SUBSCRIPTION_FAILED,\r\n            reason: reason,\r\n            request_id: subscriptionId,\r\n        };\r\n        this.session.sendFireAndForget(errorMessage);\r\n    };\r\n    ServerStreaming.prototype.getStreamId = function (streamingMethod, branchKey) {\r\n        if (typeof branchKey !== \"string\") {\r\n            branchKey = \"\";\r\n        }\r\n        if (!streamingMethod.protocolState.branchKeyToStreamIdMap) {\r\n            throw new Error(\"streaming \" + streamingMethod.definition.name + \" method without protocol state\");\r\n        }\r\n        var needleBranch = streamingMethod.protocolState.branchKeyToStreamIdMap.filter(function (branch) {\r\n            return branch.key === branchKey;\r\n        })[0];\r\n        var streamId = (needleBranch ? needleBranch.streamId : undefined);\r\n        if (typeof streamId !== \"string\" || streamId === \"\") {\r\n            streamId = this.getNextStreamId();\r\n            streamingMethod.protocolState.branchKeyToStreamIdMap.push({ key: branchKey, streamId: streamId });\r\n        }\r\n        return streamId;\r\n    };\r\n    return ServerStreaming;\r\n}());\n\nvar ServerProtocol = (function () {\r\n    function ServerProtocol(session, clientRepository, serverRepository, logger) {\r\n        var _this = this;\r\n        this.session = session;\r\n        this.clientRepository = clientRepository;\r\n        this.serverRepository = serverRepository;\r\n        this.logger = logger;\r\n        this.callbacks = lib();\r\n        this.streaming = new ServerStreaming$1(session, clientRepository, serverRepository);\r\n        this.session.on(\"invoke\", function (msg) { return _this.handleInvokeMessage(msg); });\r\n    }\r\n    ServerProtocol.prototype.createStream = function (repoMethod) {\r\n        repoMethod.protocolState.subscriptionsMap = {};\r\n        repoMethod.protocolState.branchKeyToStreamIdMap = [];\r\n        return this.register(repoMethod, true);\r\n    };\r\n    ServerProtocol.prototype.register = function (repoMethod, isStreaming) {\r\n        var _this = this;\r\n        var methodDef = repoMethod.definition;\r\n        var flags = { streaming: isStreaming || false };\r\n        var registerMsg = {\r\n            type: \"register\",\r\n            methods: [{\r\n                    id: repoMethod.repoId,\r\n                    name: methodDef.name,\r\n                    display_name: methodDef.displayName,\r\n                    description: methodDef.description,\r\n                    version: methodDef.version,\r\n                    flags: flags,\r\n                    object_types: methodDef.objectTypes || methodDef.object_types,\r\n                    input_signature: methodDef.accepts,\r\n                    result_signature: methodDef.returns,\r\n                    restrictions: undefined,\r\n                }],\r\n        };\r\n        return this.session.send(registerMsg, { methodId: repoMethod.repoId })\r\n            .then(function () {\r\n            _this.logger.debug(\"registered method \" + repoMethod.definition.name + \" with id \" + repoMethod.repoId);\r\n        })\r\n            .catch(function (msg) {\r\n            _this.logger.warn(\"failed to register method \" + repoMethod.definition.name + \" with id \" + repoMethod.repoId + \" - \" + JSON.stringify(msg));\r\n            throw msg;\r\n        });\r\n    };\r\n    ServerProtocol.prototype.onInvoked = function (callback) {\r\n        this.callbacks.add(\"onInvoked\", callback);\r\n    };\r\n    ServerProtocol.prototype.methodInvocationResult = function (method, invocationId, err, result) {\r\n        var msg;\r\n        if (err || err === \"\") {\r\n            msg = {\r\n                type: \"error\",\r\n                request_id: invocationId,\r\n                reason_uri: \"agm.errors.client_error\",\r\n                reason: err,\r\n                context: result,\r\n                peer_id: undefined,\r\n            };\r\n        }\r\n        else {\r\n            msg = {\r\n                type: \"yield\",\r\n                invocation_id: invocationId,\r\n                peer_id: this.session.peerId,\r\n                result: result,\r\n                request_id: undefined,\r\n            };\r\n        }\r\n        this.session.sendFireAndForget(msg);\r\n    };\r\n    ServerProtocol.prototype.unregister = function (method) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var msg;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        msg = {\r\n                            type: \"unregister\",\r\n                            methods: [method.repoId],\r\n                        };\r\n                        return [4, this.session.send(msg)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    ServerProtocol.prototype.getBranchList = function (method) {\r\n        return this.streaming.getBranchList(method);\r\n    };\r\n    ServerProtocol.prototype.getSubscriptionList = function (method, branchKey) {\r\n        return this.streaming.getSubscriptionList(method, branchKey);\r\n    };\r\n    ServerProtocol.prototype.closeAllSubscriptions = function (method, branchKey) {\r\n        this.streaming.closeMultipleSubscriptions(method, branchKey);\r\n    };\r\n    ServerProtocol.prototype.pushData = function (method, data, branches) {\r\n        this.streaming.pushData(method, data, branches);\r\n    };\r\n    ServerProtocol.prototype.pushDataToSingle = function (method, subscription, data) {\r\n        this.streaming.pushDataToSingle(method, subscription, data);\r\n    };\r\n    ServerProtocol.prototype.closeSingleSubscription = function (method, subscription) {\r\n        this.streaming.closeSingleSubscription(method, subscription);\r\n    };\r\n    ServerProtocol.prototype.acceptRequestOnBranch = function (requestContext, method, branch) {\r\n        this.streaming.acceptRequestOnBranch(requestContext, method, branch);\r\n    };\r\n    ServerProtocol.prototype.rejectRequest = function (requestContext, method, reason) {\r\n        this.streaming.rejectRequest(requestContext, method, reason);\r\n    };\r\n    ServerProtocol.prototype.onSubRequest = function (callback) {\r\n        this.streaming.onSubRequest(callback);\r\n    };\r\n    ServerProtocol.prototype.onSubAdded = function (callback) {\r\n        this.streaming.onSubAdded(callback);\r\n    };\r\n    ServerProtocol.prototype.onSubRemoved = function (callback) {\r\n        this.streaming.onSubRemoved(callback);\r\n    };\r\n    ServerProtocol.prototype.handleInvokeMessage = function (msg) {\r\n        var invocationId = msg.invocation_id;\r\n        var callerId = msg.caller_id;\r\n        var methodId = msg.method_id;\r\n        var args = msg.arguments_kv;\r\n        var methodList = this.serverRepository.getList();\r\n        var method = methodList.filter(function (m) {\r\n            return m.repoId === methodId;\r\n        })[0];\r\n        if (method === undefined) {\r\n            return;\r\n        }\r\n        var client = this.clientRepository.getServerById(callerId).instance;\r\n        var invocationArgs = { args: args, instance: client };\r\n        this.callbacks.execute(\"onInvoked\", method, invocationId, invocationArgs);\r\n    };\r\n    return ServerProtocol;\r\n}());\n\nvar UserSubscription = (function () {\r\n    function UserSubscription(repository, subscriptionData) {\r\n        this.repository = repository;\r\n        this.subscriptionData = subscriptionData;\r\n    }\r\n    Object.defineProperty(UserSubscription.prototype, \"requestArguments\", {\r\n        get: function () {\r\n            return this.subscriptionData.params.arguments || {};\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(UserSubscription.prototype, \"servers\", {\r\n        get: function () {\r\n            var _this = this;\r\n            return this.subscriptionData.trackedServers\r\n                .filter(function (pair) { return pair.subscriptionId; })\r\n                .map(function (pair) { return _this.repository.getServerById(pair.serverId).instance; });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(UserSubscription.prototype, \"serverInstance\", {\r\n        get: function () {\r\n            return this.servers[0];\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(UserSubscription.prototype, \"stream\", {\r\n        get: function () {\r\n            return this.subscriptionData.method;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    UserSubscription.prototype.onData = function (dataCallback) {\r\n        if (typeof dataCallback !== \"function\") {\r\n            throw new TypeError(\"The data callback must be a function.\");\r\n        }\r\n        this.subscriptionData.handlers.onData.push(dataCallback);\r\n        if (this.subscriptionData.handlers.onData.length === 1 && this.subscriptionData.queued.data.length > 0) {\r\n            this.subscriptionData.queued.data.forEach(function (dataItem) {\r\n                dataCallback(dataItem);\r\n            });\r\n        }\r\n    };\r\n    UserSubscription.prototype.onClosed = function (closedCallback) {\r\n        if (typeof closedCallback !== \"function\") {\r\n            throw new TypeError(\"The callback must be a function.\");\r\n        }\r\n        this.subscriptionData.handlers.onClosed.push(closedCallback);\r\n    };\r\n    UserSubscription.prototype.onFailed = function (callback) {\r\n    };\r\n    UserSubscription.prototype.onConnected = function (callback) {\r\n        if (typeof callback !== \"function\") {\r\n            throw new TypeError(\"The callback must be a function.\");\r\n        }\r\n        this.subscriptionData.handlers.onConnected.push(callback);\r\n    };\r\n    UserSubscription.prototype.close = function () {\r\n        this.subscriptionData.close();\r\n    };\r\n    UserSubscription.prototype.setNewSubscription = function (newSub) {\r\n        this.subscriptionData = newSub;\r\n    };\r\n    return UserSubscription;\r\n}());\n\nvar STATUS_AWAITING_ACCEPT = \"awaitingAccept\";\r\nvar STATUS_SUBSCRIBED = \"subscribed\";\r\nvar ERR_MSG_SUB_FAILED = \"Subscription failed.\";\r\nvar ERR_MSG_SUB_REJECTED = \"Subscription rejected.\";\r\nvar ON_CLOSE_MSG_SERVER_INIT = \"ServerInitiated\";\r\nvar ON_CLOSE_MSG_CLIENT_INIT = \"ClientInitiated\";\r\nvar ClientStreaming = (function () {\r\n    function ClientStreaming(session, repository, logger) {\r\n        var _this = this;\r\n        this.session = session;\r\n        this.repository = repository;\r\n        this.logger = logger;\r\n        this.subscriptionsList = {};\r\n        this.subscriptionIdToLocalKeyMap = {};\r\n        this.nextSubLocalKey = 0;\r\n        this.handleErrorSubscribing = function (errorResponse) {\r\n            var tag = errorResponse._tag;\r\n            var subLocalKey = tag.subLocalKey;\r\n            var pendingSub = _this.subscriptionsList[subLocalKey];\r\n            if (typeof pendingSub !== \"object\") {\r\n                return;\r\n            }\r\n            pendingSub.trackedServers = pendingSub.trackedServers.filter(function (server) {\r\n                return server.serverId !== tag.serverId;\r\n            });\r\n            if (pendingSub.trackedServers.length <= 0) {\r\n                clearTimeout(pendingSub.timeoutId);\r\n                if (pendingSub.status === STATUS_AWAITING_ACCEPT) {\r\n                    var reason = (typeof errorResponse.reason === \"string\" && errorResponse.reason !== \"\") ?\r\n                        ' Publisher said \"' + errorResponse.reason + '\".' :\r\n                        \" No reason given.\";\r\n                    var callArgs = typeof pendingSub.params.arguments === \"object\" ?\r\n                        JSON.stringify(pendingSub.params.arguments) :\r\n                        \"{}\";\r\n                    pendingSub.error({\r\n                        message: ERR_MSG_SUB_REJECTED + reason + \" Called with:\" + callArgs,\r\n                        called_with: pendingSub.params.arguments,\r\n                        method: pendingSub.method,\r\n                    });\r\n                }\r\n                else if (pendingSub.status === STATUS_SUBSCRIBED) {\r\n                    _this.callOnClosedHandlers(pendingSub);\r\n                }\r\n                delete _this.subscriptionsList[subLocalKey];\r\n            }\r\n        };\r\n        this.handleSubscribed = function (msg) {\r\n            var subLocalKey = msg._tag.subLocalKey;\r\n            var pendingSub = _this.subscriptionsList[subLocalKey];\r\n            if (typeof pendingSub !== \"object\") {\r\n                return;\r\n            }\r\n            var serverId = msg._tag.serverId;\r\n            var acceptingServer = pendingSub.trackedServers\r\n                .filter(function (server) {\r\n                return server.serverId === serverId;\r\n            })[0];\r\n            if (typeof acceptingServer !== \"object\") {\r\n                return;\r\n            }\r\n            acceptingServer.subscriptionId = msg.subscription_id;\r\n            _this.subscriptionIdToLocalKeyMap[msg.subscription_id] = subLocalKey;\r\n            var isFirstResponse = (pendingSub.status === STATUS_AWAITING_ACCEPT);\r\n            pendingSub.status = STATUS_SUBSCRIBED;\r\n            if (isFirstResponse) {\r\n                var reconnect = false;\r\n                var sub = pendingSub.subscription;\r\n                if (sub) {\r\n                    sub.setNewSubscription(pendingSub);\r\n                    pendingSub.success(sub);\r\n                    reconnect = true;\r\n                }\r\n                else {\r\n                    sub = new UserSubscription(_this.repository, pendingSub);\r\n                    pendingSub.subscription = sub;\r\n                    pendingSub.success(sub);\r\n                }\r\n                for (var _i = 0, _a = pendingSub.handlers.onConnected; _i < _a.length; _i++) {\r\n                    var handler = _a[_i];\r\n                    try {\r\n                        handler(sub.serverInstance, reconnect);\r\n                    }\r\n                    catch (e) {\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        this.handleEventData = function (msg) {\r\n            var subLocalKey = _this.subscriptionIdToLocalKeyMap[msg.subscription_id];\r\n            if (typeof subLocalKey === \"undefined\") {\r\n                return;\r\n            }\r\n            var subscription = _this.subscriptionsList[subLocalKey];\r\n            if (typeof subscription !== \"object\") {\r\n                return;\r\n            }\r\n            var trackedServersFound = subscription.trackedServers.filter(function (server) {\r\n                return server.subscriptionId === msg.subscription_id;\r\n            });\r\n            if (trackedServersFound.length !== 1) {\r\n                return;\r\n            }\r\n            var isPrivateData = msg.oob;\r\n            var sendingServerId = trackedServersFound[0].serverId;\r\n            var receivedStreamData = function () {\r\n                return {\r\n                    data: msg.data,\r\n                    server: _this.repository.getServerById(sendingServerId).instance,\r\n                    requestArguments: subscription.params.arguments,\r\n                    message: undefined,\r\n                    private: isPrivateData,\r\n                };\r\n            };\r\n            var onDataHandlers = subscription.handlers.onData;\r\n            var queuedData = subscription.queued.data;\r\n            if (onDataHandlers.length > 0) {\r\n                onDataHandlers.forEach(function (callback) {\r\n                    if (typeof callback === \"function\") {\r\n                        callback(receivedStreamData());\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                queuedData.push(receivedStreamData());\r\n            }\r\n        };\r\n        this.handleSubscriptionCancelled = function (msg) {\r\n            var subLocalKey = _this.subscriptionIdToLocalKeyMap[msg.subscription_id];\r\n            if (typeof subLocalKey === \"undefined\") {\r\n                return;\r\n            }\r\n            var subscription = _this.subscriptionsList[subLocalKey];\r\n            if (typeof subscription !== \"object\") {\r\n                return;\r\n            }\r\n            var expectedNewLength = subscription.trackedServers.length - 1;\r\n            subscription.trackedServers = subscription.trackedServers.filter(function (server) {\r\n                if (server.subscriptionId === msg.subscription_id) {\r\n                    subscription.queued.closers.push(server.serverId);\r\n                    return false;\r\n                }\r\n                else {\r\n                    return true;\r\n                }\r\n            });\r\n            if (subscription.trackedServers.length !== expectedNewLength) {\r\n                return;\r\n            }\r\n            if (subscription.trackedServers.length <= 0) {\r\n                clearTimeout(subscription.timeoutId);\r\n                _this.callOnClosedHandlers(subscription);\r\n                delete _this.subscriptionsList[subLocalKey];\r\n            }\r\n            delete _this.subscriptionIdToLocalKeyMap[msg.subscription_id];\r\n        };\r\n        session.on(\"subscribed\", this.handleSubscribed);\r\n        session.on(\"event\", this.handleEventData);\r\n        session.on(\"subscription-cancelled\", this.handleSubscriptionCancelled);\r\n    }\r\n    ClientStreaming.prototype.subscribe = function (streamingMethod, params, targetServers, success, error, existingSub) {\r\n        var _this = this;\r\n        if (targetServers.length === 0) {\r\n            error({\r\n                method: streamingMethod,\r\n                called_with: params.arguments,\r\n                message: ERR_MSG_SUB_FAILED + \" No available servers matched the target params.\",\r\n            });\r\n            return;\r\n        }\r\n        var subLocalKey = this.getNextSubscriptionLocalKey();\r\n        var pendingSub = this.registerSubscription(subLocalKey, streamingMethod, params, success, error, params.methodResponseTimeout || 10000, existingSub);\r\n        if (typeof pendingSub !== \"object\") {\r\n            error({\r\n                method: streamingMethod,\r\n                called_with: params.arguments,\r\n                message: ERR_MSG_SUB_FAILED + \" Unable to register the user callbacks.\",\r\n            });\r\n            return;\r\n        }\r\n        targetServers.forEach(function (target) {\r\n            var serverId = target.server.id;\r\n            var method = target.methods.find(function (m) { return m.name === streamingMethod.name; });\r\n            if (!method) {\r\n                _this.logger.error(\"can not find method \" + streamingMethod.name + \" for target \" + target.server.id);\r\n                return;\r\n            }\r\n            pendingSub.trackedServers.push({\r\n                serverId: serverId,\r\n                subscriptionId: undefined,\r\n            });\r\n            var msg = {\r\n                type: \"subscribe\",\r\n                server_id: serverId,\r\n                method_id: method.gatewayId,\r\n                arguments_kv: params.arguments,\r\n            };\r\n            _this.session.send(msg, { serverId: serverId, subLocalKey: subLocalKey })\r\n                .then(function (m) { return _this.handleSubscribed(m); })\r\n                .catch(function (err) { return _this.handleErrorSubscribing(err); });\r\n        });\r\n    };\r\n    ClientStreaming.prototype.drainSubscriptions = function () {\r\n        var existing = Object.values(this.subscriptionsList);\r\n        this.subscriptionsList = {};\r\n        this.subscriptionIdToLocalKeyMap = {};\r\n        return existing;\r\n    };\r\n    ClientStreaming.prototype.getNextSubscriptionLocalKey = function () {\r\n        var current = this.nextSubLocalKey;\r\n        this.nextSubLocalKey += 1;\r\n        return current;\r\n    };\r\n    ClientStreaming.prototype.registerSubscription = function (subLocalKey, method, params, success, error, timeout, existingSub) {\r\n        var _this = this;\r\n        var subsInfo = {\r\n            localKey: subLocalKey,\r\n            status: STATUS_AWAITING_ACCEPT,\r\n            method: method,\r\n            params: params,\r\n            success: success,\r\n            error: error,\r\n            trackedServers: [],\r\n            handlers: {\r\n                onData: (existingSub === null || existingSub === void 0 ? void 0 : existingSub.handlers.onData) || [],\r\n                onClosed: (existingSub === null || existingSub === void 0 ? void 0 : existingSub.handlers.onClosed) || [],\r\n                onConnected: (existingSub === null || existingSub === void 0 ? void 0 : existingSub.handlers.onConnected) || [],\r\n            },\r\n            queued: {\r\n                data: [],\r\n                closers: [],\r\n            },\r\n            timeoutId: undefined,\r\n            close: function () { return _this.closeSubscription(subLocalKey); },\r\n            subscription: existingSub === null || existingSub === void 0 ? void 0 : existingSub.subscription\r\n        };\r\n        if (!existingSub) {\r\n            if (params.onData) {\r\n                subsInfo.handlers.onData.push(params.onData);\r\n            }\r\n            if (params.onClosed) {\r\n                subsInfo.handlers.onClosed.push(params.onClosed);\r\n            }\r\n            if (params.onConnected) {\r\n                subsInfo.handlers.onConnected.push(params.onConnected);\r\n            }\r\n        }\r\n        this.subscriptionsList[subLocalKey] = subsInfo;\r\n        subsInfo.timeoutId = setTimeout(function () {\r\n            if (_this.subscriptionsList[subLocalKey] === undefined) {\r\n                return;\r\n            }\r\n            var pendingSub = _this.subscriptionsList[subLocalKey];\r\n            if (pendingSub.status === STATUS_AWAITING_ACCEPT) {\r\n                error({\r\n                    method: method,\r\n                    called_with: params.arguments,\r\n                    message: ERR_MSG_SUB_FAILED + \" Subscription attempt timed out after \" + timeout + \" ms.\",\r\n                });\r\n                delete _this.subscriptionsList[subLocalKey];\r\n            }\r\n            else if (pendingSub.status === STATUS_SUBSCRIBED && pendingSub.trackedServers.length > 0) {\r\n                pendingSub.trackedServers = pendingSub.trackedServers.filter(function (server) {\r\n                    return (typeof server.subscriptionId !== \"undefined\");\r\n                });\r\n                delete pendingSub.timeoutId;\r\n                if (pendingSub.trackedServers.length <= 0) {\r\n                    _this.callOnClosedHandlers(pendingSub);\r\n                    delete _this.subscriptionsList[subLocalKey];\r\n                }\r\n            }\r\n        }, timeout);\r\n        return subsInfo;\r\n    };\r\n    ClientStreaming.prototype.callOnClosedHandlers = function (subscription, reason) {\r\n        var closersCount = subscription.queued.closers.length;\r\n        var closingServerId = (closersCount > 0) ? subscription.queued.closers[closersCount - 1] : null;\r\n        var closingServer;\r\n        if (closingServerId !== undefined && typeof closingServerId === \"string\") {\r\n            closingServer = this.repository.getServerById(closingServerId).instance;\r\n        }\r\n        subscription.handlers.onClosed.forEach(function (callback) {\r\n            if (typeof callback !== \"function\") {\r\n                return;\r\n            }\r\n            callback({\r\n                message: reason || ON_CLOSE_MSG_SERVER_INIT,\r\n                requestArguments: subscription.params.arguments || {},\r\n                server: closingServer,\r\n                stream: subscription.method,\r\n            });\r\n        });\r\n    };\r\n    ClientStreaming.prototype.closeSubscription = function (subLocalKey) {\r\n        var _this = this;\r\n        var subscription = this.subscriptionsList[subLocalKey];\r\n        if (typeof subscription !== \"object\") {\r\n            return;\r\n        }\r\n        subscription.trackedServers.forEach(function (server) {\r\n            if (typeof server.subscriptionId === \"undefined\") {\r\n                return;\r\n            }\r\n            subscription.queued.closers.push(server.serverId);\r\n            _this.session.sendFireAndForget({\r\n                type: \"unsubscribe\",\r\n                subscription_id: server.subscriptionId,\r\n                reason_uri: \"\",\r\n                reason: ON_CLOSE_MSG_CLIENT_INIT,\r\n            });\r\n            delete _this.subscriptionIdToLocalKeyMap[server.subscriptionId];\r\n        });\r\n        subscription.trackedServers = [];\r\n        this.callOnClosedHandlers(subscription, ON_CLOSE_MSG_CLIENT_INIT);\r\n        delete this.subscriptionsList[subLocalKey];\r\n    };\r\n    return ClientStreaming;\r\n}());\n\nvar ClientProtocol = (function () {\r\n    function ClientProtocol(session, repository, logger) {\r\n        var _this = this;\r\n        this.session = session;\r\n        this.repository = repository;\r\n        this.logger = logger;\r\n        session.on(\"peer-added\", function (msg) { return _this.handlePeerAdded(msg); });\r\n        session.on(\"peer-removed\", function (msg) { return _this.handlePeerRemoved(msg); });\r\n        session.on(\"methods-added\", function (msg) { return _this.handleMethodsAddedMessage(msg); });\r\n        session.on(\"methods-removed\", function (msg) { return _this.handleMethodsRemovedMessage(msg); });\r\n        this.streaming = new ClientStreaming(session, repository, logger);\r\n    }\r\n    ClientProtocol.prototype.subscribe = function (stream, options, targetServers, success, error, existingSub) {\r\n        this.streaming.subscribe(stream, options, targetServers, success, error, existingSub);\r\n    };\r\n    ClientProtocol.prototype.invoke = function (id, method, args, target) {\r\n        var _this = this;\r\n        var serverId = target.id;\r\n        var methodId = method.gatewayId;\r\n        var msg = {\r\n            type: \"call\",\r\n            server_id: serverId,\r\n            method_id: methodId,\r\n            arguments_kv: args,\r\n        };\r\n        return this.session.send(msg, { invocationId: id, serverId: serverId })\r\n            .then(function (m) { return _this.handleResultMessage(m); })\r\n            .catch(function (err) { return _this.handleInvocationError(err); });\r\n    };\r\n    ClientProtocol.prototype.drainSubscriptions = function () {\r\n        return this.streaming.drainSubscriptions();\r\n    };\r\n    ClientProtocol.prototype.handlePeerAdded = function (msg) {\r\n        var newPeerId = msg.new_peer_id;\r\n        var remoteId = msg.identity;\r\n        var isLocal = msg.meta ? msg.meta.local : true;\r\n        var pid = Number(remoteId.process);\r\n        var serverInfo = {\r\n            machine: remoteId.machine,\r\n            pid: isNaN(pid) ? remoteId.process : pid,\r\n            instance: remoteId.instance,\r\n            application: remoteId.application,\r\n            applicationName: remoteId.applicationName,\r\n            environment: remoteId.environment,\r\n            region: remoteId.region,\r\n            user: remoteId.user,\r\n            windowId: remoteId.windowId,\r\n            peerId: newPeerId,\r\n            api: remoteId.api,\r\n            isLocal: isLocal\r\n        };\r\n        this.repository.addServer(serverInfo, newPeerId);\r\n    };\r\n    ClientProtocol.prototype.handlePeerRemoved = function (msg) {\r\n        var removedPeerId = msg.removed_id;\r\n        var reason = msg.reason;\r\n        this.repository.removeServerById(removedPeerId, reason);\r\n    };\r\n    ClientProtocol.prototype.handleMethodsAddedMessage = function (msg) {\r\n        var _this = this;\r\n        var serverId = msg.server_id;\r\n        var methods = msg.methods;\r\n        methods.forEach(function (method) {\r\n            _this.repository.addServerMethod(serverId, method);\r\n        });\r\n    };\r\n    ClientProtocol.prototype.handleMethodsRemovedMessage = function (msg) {\r\n        var _this = this;\r\n        var serverId = msg.server_id;\r\n        var methodIdList = msg.methods;\r\n        var server = this.repository.getServerById(serverId);\r\n        var serverMethodKeys = Object.keys(server.methods);\r\n        serverMethodKeys.forEach(function (methodKey) {\r\n            var method = server.methods[methodKey];\r\n            if (methodIdList.indexOf(method.gatewayId) > -1) {\r\n                _this.repository.removeServerMethod(serverId, methodKey);\r\n            }\r\n        });\r\n    };\r\n    ClientProtocol.prototype.handleResultMessage = function (msg) {\r\n        var invocationId = msg._tag.invocationId;\r\n        var result = msg.result;\r\n        var serverId = msg._tag.serverId;\r\n        var server = this.repository.getServerById(serverId);\r\n        return {\r\n            invocationId: invocationId,\r\n            result: result,\r\n            instance: server.instance,\r\n            status: InvokeStatus.Success,\r\n            message: \"\"\r\n        };\r\n    };\r\n    ClientProtocol.prototype.handleInvocationError = function (msg) {\r\n        this.logger.debug(\"handle invocation error \" + JSON.stringify(msg));\r\n        if (\"_tag\" in msg) {\r\n            var invocationId = msg._tag.invocationId;\r\n            var serverId = msg._tag.serverId;\r\n            var server = this.repository.getServerById(serverId);\r\n            var message = msg.reason;\r\n            var context_1 = msg.context;\r\n            return {\r\n                invocationId: invocationId,\r\n                result: context_1,\r\n                instance: server.instance,\r\n                status: InvokeStatus.Error,\r\n                message: message\r\n            };\r\n        }\r\n        else {\r\n            return {\r\n                invocationId: \"\",\r\n                message: msg.message,\r\n                status: InvokeStatus.Error,\r\n                error: msg\r\n            };\r\n        }\r\n    };\r\n    return ClientProtocol;\r\n}());\n\nfunction gW3ProtocolFactory (instance, connection, clientRepository, serverRepository, libConfig, interop) {\r\n    var logger = libConfig.logger.subLogger(\"gw3-protocol\");\r\n    var resolveReadyPromise;\r\n    var readyPromise = new Promise(function (resolve) {\r\n        resolveReadyPromise = resolve;\r\n    });\r\n    var session = connection.domain(\"agm\", [\"subscribed\"]);\r\n    var server = new ServerProtocol(session, clientRepository, serverRepository, logger.subLogger(\"server\"));\r\n    var client = new ClientProtocol(session, clientRepository, logger.subLogger(\"client\"));\r\n    function handleReconnect() {\r\n        logger.info(\"reconnected - will replay registered methods and subscriptions\");\r\n        var existingSubscriptions = client.drainSubscriptions();\r\n        for (var _i = 0, existingSubscriptions_1 = existingSubscriptions; _i < existingSubscriptions_1.length; _i++) {\r\n            var sub = existingSubscriptions_1[_i];\r\n            var methodInfo = sub.method;\r\n            var params = Object.assign({}, sub.params);\r\n            logger.info(\"trying to re-subscribe to method \" + methodInfo.name);\r\n            interop.client.subscribe(methodInfo, params, undefined, undefined, sub);\r\n        }\r\n        var registeredMethods = serverRepository.getList();\r\n        serverRepository.reset();\r\n        for (var _a = 0, registeredMethods_1 = registeredMethods; _a < registeredMethods_1.length; _a++) {\r\n            var method = registeredMethods_1[_a];\r\n            var def = method.definition;\r\n            logger.info(\"re-publishing method \" + def.name);\r\n            if (method.stream) {\r\n                interop.server.createStream(def, method.streamCallbacks, undefined, undefined, method.stream);\r\n            }\r\n            else if (method.theFunction && method.theFunction.userCallback) {\r\n                interop.register(def, method.theFunction.userCallback);\r\n            }\r\n            else if (method.theFunction && method.theFunction.userCallbackAsync) {\r\n                interop.registerAsync(def, method.theFunction.userCallbackAsync);\r\n            }\r\n        }\r\n    }\r\n    function handleInitialJoin() {\r\n        if (resolveReadyPromise) {\r\n            resolveReadyPromise({\r\n                client: client,\r\n                server: server,\r\n            });\r\n            resolveReadyPromise = undefined;\r\n        }\r\n    }\r\n    session.onJoined(function (reconnect) {\r\n        clientRepository.addServer(instance, connection.peerId);\r\n        if (reconnect) {\r\n            handleReconnect();\r\n        }\r\n        else {\r\n            handleInitialJoin();\r\n        }\r\n    });\r\n    session.onLeft(function () {\r\n        clientRepository.reset();\r\n    });\r\n    session.join();\r\n    return readyPromise;\r\n}\n\nvar Interop = (function () {\r\n    function Interop(configuration) {\r\n        var _this = this;\r\n        if (typeof configuration === \"undefined\") {\r\n            throw new Error(\"configuration is required\");\r\n        }\r\n        if (typeof configuration.connection === \"undefined\") {\r\n            throw new Error(\"configuration.connections is required\");\r\n        }\r\n        var connection = configuration.connection;\r\n        if (typeof configuration.methodResponseTimeout !== \"number\") {\r\n            configuration.methodResponseTimeout = 30 * 1000;\r\n        }\r\n        if (typeof configuration.waitTimeoutMs !== \"number\") {\r\n            configuration.waitTimeoutMs = 30 * 1000;\r\n        }\r\n        InstanceWrapper.API = this;\r\n        this.instance = new InstanceWrapper(undefined, connection).unwrap();\r\n        this.clientRepository = new ClientRepository(configuration.logger.subLogger(\"cRep\"));\r\n        this.serverRepository = new ServerRepository();\r\n        var protocolPromise;\r\n        if (connection.protocolVersion === 3) {\r\n            protocolPromise = gW3ProtocolFactory(this.instance, connection, this.clientRepository, this.serverRepository, configuration, this);\r\n        }\r\n        else {\r\n            throw new Error(\"protocol \" + connection.protocolVersion + \" not supported\");\r\n        }\r\n        this.readyPromise = protocolPromise.then(function (protocol) {\r\n            _this.protocol = protocol;\r\n            _this.client = new Client(_this.protocol, _this.clientRepository, _this.instance, configuration);\r\n            _this.server = new Server(_this.protocol, _this.serverRepository);\r\n            return _this;\r\n        });\r\n    }\r\n    Interop.prototype.ready = function () {\r\n        return this.readyPromise;\r\n    };\r\n    Interop.prototype.serverRemoved = function (callback) {\r\n        return this.client.serverRemoved(callback);\r\n    };\r\n    Interop.prototype.serverAdded = function (callback) {\r\n        return this.client.serverAdded(callback);\r\n    };\r\n    Interop.prototype.serverMethodRemoved = function (callback) {\r\n        return this.client.serverMethodRemoved(callback);\r\n    };\r\n    Interop.prototype.serverMethodAdded = function (callback) {\r\n        return this.client.serverMethodAdded(callback);\r\n    };\r\n    Interop.prototype.methodRemoved = function (callback) {\r\n        return this.client.methodRemoved(callback);\r\n    };\r\n    Interop.prototype.methodAdded = function (callback) {\r\n        return this.client.methodAdded(callback);\r\n    };\r\n    Interop.prototype.methodsForInstance = function (instance) {\r\n        return this.client.methodsForInstance(instance);\r\n    };\r\n    Interop.prototype.methods = function (methodFilter) {\r\n        return this.client.methods(methodFilter);\r\n    };\r\n    Interop.prototype.servers = function (methodFilter) {\r\n        return this.client.servers(methodFilter);\r\n    };\r\n    Interop.prototype.subscribe = function (method, options, successCallback, errorCallback) {\r\n        return this.client.subscribe(method, options, successCallback, errorCallback);\r\n    };\r\n    Interop.prototype.createStream = function (streamDef, callbacks, successCallback, errorCallback) {\r\n        return this.server.createStream(streamDef, callbacks, successCallback, errorCallback);\r\n    };\r\n    Interop.prototype.unregister = function (methodFilter) {\r\n        return this.server.unregister(methodFilter);\r\n    };\r\n    Interop.prototype.registerAsync = function (methodDefinition, callback) {\r\n        return this.server.registerAsync(methodDefinition, callback);\r\n    };\r\n    Interop.prototype.register = function (methodDefinition, callback) {\r\n        return this.server.register(methodDefinition, callback);\r\n    };\r\n    Interop.prototype.invoke = function (methodFilter, argumentObj, target, additionalOptions, success, error) {\r\n        return this.client.invoke(methodFilter, argumentObj, target, additionalOptions, success, error);\r\n    };\r\n    return Interop;\r\n}());\n\nvar successMessages = [\"subscribed\", \"success\"];\r\nvar MessageBus = (function () {\r\n    function MessageBus(connection, logger) {\r\n        var _this = this;\r\n        this.publish = function (topic, data, options) {\r\n            var _a = options || {}, routingKey = _a.routingKey, target = _a.target;\r\n            var args = _this.removeEmptyValues({\r\n                type: \"publish\",\r\n                topic: topic,\r\n                data: data,\r\n                peer_id: _this.peerId,\r\n                routing_key: routingKey,\r\n                target_identity: target\r\n            });\r\n            _this.session.send(args);\r\n        };\r\n        this.subscribe = function (topic, callback, options) {\r\n            return new Promise(function (resolve, reject) {\r\n                var _a = options || {}, routingKey = _a.routingKey, target = _a.target;\r\n                var args = _this.removeEmptyValues({\r\n                    type: \"subscribe\",\r\n                    topic: topic,\r\n                    peer_id: _this.peerId,\r\n                    routing_key: routingKey,\r\n                    source: target\r\n                });\r\n                _this.session.send(args)\r\n                    .then(function (response) {\r\n                    var subscription_id = response.subscription_id;\r\n                    _this.subscriptions.push({ subscription_id: subscription_id, topic: topic, callback: callback, source: target });\r\n                    resolve({\r\n                        unsubscribe: function () {\r\n                            _this.session.send({ type: \"unsubscribe\", subscription_id: subscription_id, peer_id: _this.peerId });\r\n                            _this.subscriptions = _this.subscriptions.filter(function (s) { return s.subscription_id !== subscription_id; });\r\n                            return Promise.resolve();\r\n                        }\r\n                    });\r\n                })\r\n                    .catch(function (error) { return reject(error); });\r\n            });\r\n        };\r\n        this.watchOnEvent = function () {\r\n            _this.session.on(\"event\", function (args) {\r\n                var data = args.data, subscription_id = args.subscription_id;\r\n                var source = args[\"publisher-identity\"];\r\n                var subscription = _this.subscriptions.find(function (s) { return s.subscription_id === subscription_id; });\r\n                if (subscription) {\r\n                    if (!subscription.source) {\r\n                        subscription.callback(data, subscription.topic, source);\r\n                    }\r\n                    else {\r\n                        if (_this.keysMatch(subscription.source, source)) {\r\n                            subscription.callback(data, subscription.topic, source);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        };\r\n        this.connection = connection;\r\n        this.logger = logger;\r\n        this.peerId = connection.peerId;\r\n        this.subscriptions = [];\r\n        this.session = connection.domain(\"bus\", successMessages);\r\n        this.readyPromise = this.session.join();\r\n        this.readyPromise.then(function () {\r\n            _this.watchOnEvent();\r\n        });\r\n    }\r\n    MessageBus.prototype.ready = function () {\r\n        return this.readyPromise;\r\n    };\r\n    MessageBus.prototype.removeEmptyValues = function (obj) {\r\n        var cleaned = {};\r\n        Object.keys(obj).forEach(function (key) {\r\n            if (obj[key] !== undefined && obj[key] !== null) {\r\n                cleaned[key] = obj[key];\r\n            }\r\n        });\r\n        return cleaned;\r\n    };\r\n    MessageBus.prototype.keysMatch = function (obj1, obj2) {\r\n        var keysObj1 = Object.keys(obj1);\r\n        var allMatch = true;\r\n        keysObj1.forEach(function (key) {\r\n            if (obj1[key] !== obj2[key]) {\r\n                allMatch = false;\r\n            }\r\n        });\r\n        return allMatch;\r\n    };\r\n    return MessageBus;\r\n}());\n\nvar GlueCore = function (userConfig, ext) {\r\n    var gdVersion = Utils.getGDMajorVersion();\r\n    var glue42gd;\r\n    var preloadPromise = Promise.resolve();\r\n    if (gdVersion) {\r\n        if (gdVersion < 3) {\r\n            throw new Error(\"GD v2 is not supported. Use v4 of the API to run in that context.\");\r\n        }\r\n        else if (gdVersion >= 3) {\r\n            glue42gd = window.glue42gd;\r\n            preloadPromise = window.gdPreloadPromise || preloadPromise;\r\n        }\r\n    }\r\n    var glueInitTimer = timer(\"glue\");\r\n    userConfig = userConfig || {};\r\n    ext = ext || {};\r\n    var internalConfig = prepareConfig(userConfig, ext, glue42gd);\r\n    var _connection;\r\n    var _interop;\r\n    var _logger;\r\n    var _metrics;\r\n    var _contexts;\r\n    var _bus;\r\n    var _allowTrace;\r\n    var libs = {};\r\n    function registerLib(name, inner, t) {\r\n        _allowTrace = _logger.canPublish(\"trace\");\r\n        if (_allowTrace) {\r\n            _logger.trace(\"registering \" + name + \" module\");\r\n        }\r\n        var done = function () {\r\n            inner.initTime = t.stop();\r\n            inner.initEndTime = t.endTime;\r\n            inner.marks = t.marks;\r\n            if (_allowTrace) {\r\n                _logger.trace(name + \" is ready - \" + (t.endTime - t.startTime));\r\n            }\r\n        };\r\n        inner.initStartTime = t.startTime;\r\n        if (inner.ready) {\r\n            inner.ready().then(function () {\r\n                done();\r\n            });\r\n        }\r\n        else {\r\n            done();\r\n        }\r\n        if (!Array.isArray(name)) {\r\n            name = [name];\r\n        }\r\n        name.forEach(function (n) {\r\n            libs[n] = inner;\r\n            GlueCore[n] = inner;\r\n        });\r\n    }\r\n    function setupConnection() {\r\n        var initTimer = timer(\"connection\");\r\n        _connection = new Connection(internalConfig.connection, _logger.subLogger(\"connection\"));\r\n        var authPromise = Promise.resolve(internalConfig.auth);\r\n        if (internalConfig.connection && !internalConfig.auth) {\r\n            if (glue42gd) {\r\n                authPromise = glue42gd.getGWToken()\r\n                    .then(function (token) {\r\n                    return {\r\n                        gatewayToken: token\r\n                    };\r\n                });\r\n            }\r\n            else {\r\n                authPromise = Promise.reject(\"You need to provide auth information\");\r\n            }\r\n        }\r\n        return authPromise\r\n            .then(function (authConfig) {\r\n            initTimer.mark(\"auth-promise-resolved\");\r\n            var authRequest;\r\n            if (Object.prototype.toString.call(authConfig) === \"[object Object]\") {\r\n                authRequest = authConfig;\r\n            }\r\n            else {\r\n                throw new Error(\"Invalid auth object - \" + JSON.stringify(authConfig));\r\n            }\r\n            return _connection.login(authRequest);\r\n        })\r\n            .then(function () {\r\n            registerLib(\"connection\", _connection, initTimer);\r\n            return internalConfig;\r\n        })\r\n            .catch(function (e) {\r\n            if (_connection) {\r\n                _connection.logout();\r\n            }\r\n            throw e;\r\n        });\r\n    }\r\n    function setupLogger() {\r\n        var _a;\r\n        var initTimer = timer(\"logger\");\r\n        _logger = new Logger(\"\" + ((_a = internalConfig.connection.identity) === null || _a === void 0 ? void 0 : _a.application), undefined, internalConfig.customLogger);\r\n        _logger.consoleLevel(internalConfig.logger.console);\r\n        _logger.publishLevel(internalConfig.logger.publish);\r\n        if (_logger.canPublish(\"debug\")) {\r\n            _logger.debug(\"initializing glue...\");\r\n        }\r\n        registerLib(\"logger\", _logger, initTimer);\r\n        return Promise.resolve(undefined);\r\n    }\r\n    function setupMetrics() {\r\n        var _a, _b, _c, _d;\r\n        var initTimer = timer(\"metrics\");\r\n        var config = internalConfig.metrics;\r\n        var metricsPublishingEnabledFunc = glue42gd === null || glue42gd === void 0 ? void 0 : glue42gd.getMetricsPublishingEnabled;\r\n        var identity = internalConfig.connection.identity;\r\n        var canUpdateMetric = metricsPublishingEnabledFunc ? metricsPublishingEnabledFunc : function () { return true; };\r\n        var disableAutoAppSystem = (_a = (typeof config !== \"boolean\" && config.disableAutoAppSystem)) !== null && _a !== void 0 ? _a : false;\r\n        _metrics = metrics({\r\n            connection: config ? _connection : undefined,\r\n            logger: _logger.subLogger(\"metrics\"),\r\n            canUpdateMetric: canUpdateMetric,\r\n            system: \"Glue42\",\r\n            service: (_b = identity === null || identity === void 0 ? void 0 : identity.service) !== null && _b !== void 0 ? _b : \"metrics-service\",\r\n            instance: (_d = (_c = identity === null || identity === void 0 ? void 0 : identity.instance) !== null && _c !== void 0 ? _c : identity === null || identity === void 0 ? void 0 : identity.windowId) !== null && _d !== void 0 ? _d : shortid(),\r\n            disableAutoAppSystem: disableAutoAppSystem,\r\n            pagePerformanceMetrics: typeof config !== \"boolean\" ? config === null || config === void 0 ? void 0 : config.pagePerformanceMetrics : undefined\r\n        });\r\n        registerLib(\"metrics\", _metrics, initTimer);\r\n        return Promise.resolve();\r\n    }\r\n    function setupInterop() {\r\n        var initTimer = timer(\"interop\");\r\n        var agmConfig = {\r\n            connection: _connection,\r\n            logger: _logger.subLogger(\"interop\"),\r\n        };\r\n        _interop = new Interop(agmConfig);\r\n        Logger.Interop = _interop;\r\n        registerLib([\"interop\", \"agm\"], _interop, initTimer);\r\n        return Promise.resolve();\r\n    }\r\n    function setupContexts() {\r\n        var hasActivities = (internalConfig.activities && _connection.protocolVersion === 3);\r\n        var needsContexts = internalConfig.contexts || hasActivities;\r\n        if (needsContexts) {\r\n            var initTimer = timer(\"contexts\");\r\n            _contexts = new ContextsModule({\r\n                connection: _connection,\r\n                logger: _logger.subLogger(\"contexts\")\r\n            });\r\n            registerLib(\"contexts\", _contexts, initTimer);\r\n            return _contexts;\r\n        }\r\n        else {\r\n            var replayer = _connection.replayer;\r\n            if (replayer) {\r\n                replayer.drain(ContextMessageReplaySpec.name);\r\n            }\r\n        }\r\n    }\r\n    function setupBus() {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var initTimer;\r\n            return __generator(this, function (_a) {\r\n                if (!internalConfig.bus) {\r\n                    return [2, Promise.resolve()];\r\n                }\r\n                initTimer = timer(\"bus\");\r\n                _bus = new MessageBus(_connection, _logger.subLogger(\"bus\"));\r\n                registerLib(\"bus\", _bus, initTimer);\r\n                return [2, Promise.resolve()];\r\n            });\r\n        });\r\n    }\r\n    function setupExternalLibs(externalLibs) {\r\n        try {\r\n            externalLibs.forEach(function (lib) {\r\n                setupExternalLib(lib.name, lib.create);\r\n            });\r\n            return Promise.resolve();\r\n        }\r\n        catch (e) {\r\n            return Promise.reject(e);\r\n        }\r\n    }\r\n    function setupExternalLib(name, createCallback) {\r\n        var initTimer = timer(name);\r\n        var lib = createCallback(libs);\r\n        if (lib) {\r\n            registerLib(name, lib, initTimer);\r\n        }\r\n    }\r\n    function waitForLibs() {\r\n        var libsReadyPromises = Object.keys(libs).map(function (key) {\r\n            var lib = libs[key];\r\n            return lib.ready ?\r\n                lib.ready() : Promise.resolve();\r\n        });\r\n        return Promise.all(libsReadyPromises);\r\n    }\r\n    function constructGlueObject() {\r\n        var feedbackFunc = function (feedbackInfo) {\r\n            if (!_interop) {\r\n                return;\r\n            }\r\n            _interop.invoke(\"T42.ACS.Feedback\", feedbackInfo, \"best\");\r\n        };\r\n        var info = {\r\n            coreVersion: version,\r\n            version: internalConfig.version\r\n        };\r\n        glueInitTimer.stop();\r\n        var glue = {\r\n            feedback: feedbackFunc,\r\n            info: info,\r\n            logger: _logger,\r\n            interop: _interop,\r\n            agm: _interop,\r\n            connection: _connection,\r\n            metrics: _metrics,\r\n            contexts: _contexts,\r\n            bus: _bus,\r\n            version: internalConfig.version,\r\n            userConfig: userConfig,\r\n            done: function () {\r\n                _logger === null || _logger === void 0 ? void 0 : _logger.info(\"done called by user...\");\r\n                return _connection.logout();\r\n            }\r\n        };\r\n        glue.performance = {\r\n            get glueVer() {\r\n                return internalConfig.version;\r\n            },\r\n            get glueConfig() {\r\n                return JSON.stringify(userConfig);\r\n            },\r\n            get browser() {\r\n                return window.performance.timing.toJSON();\r\n            },\r\n            get memory() {\r\n                return window.performance.memory;\r\n            },\r\n            get initTimes() {\r\n                var all = getAllTimers();\r\n                return Object.keys(all).map(function (key) {\r\n                    var t = all[key];\r\n                    return {\r\n                        name: key,\r\n                        duration: t.endTime - t.startTime,\r\n                        marks: t.marks\r\n                    };\r\n                });\r\n            }\r\n        };\r\n        Object.keys(libs).forEach(function (key) {\r\n            var lib = libs[key];\r\n            glue[key] = lib;\r\n        });\r\n        glue.config = {};\r\n        Object.keys(internalConfig).forEach(function (k) {\r\n            glue.config[k] = internalConfig[k];\r\n        });\r\n        if (ext && ext.extOptions) {\r\n            Object.keys(ext.extOptions).forEach(function (k) {\r\n                glue.config[k] = ext === null || ext === void 0 ? void 0 : ext.extOptions[k];\r\n            });\r\n        }\r\n        if (ext === null || ext === void 0 ? void 0 : ext.enrichGlue) {\r\n            ext.enrichGlue(glue);\r\n        }\r\n        if (glue42gd && glue42gd.updatePerfData) {\r\n            glue42gd.updatePerfData(glue.performance);\r\n        }\r\n        if (glue.agm) {\r\n            var deprecatedDecorator = function (fn, wrong, proper) {\r\n                return function () {\r\n                    glue.logger.warn(\"glue.js - 'glue.agm.\" + wrong + \"' method is deprecated, use 'glue.interop.\" + proper + \"' instead.\");\r\n                    fn.apply(glue.agm, arguments);\r\n                };\r\n            };\r\n            var agmAny = glue.agm;\r\n            agmAny.method_added = deprecatedDecorator(glue.agm.methodAdded, \"method_added\", \"methodAdded\");\r\n            agmAny.method_removed = deprecatedDecorator(glue.agm.methodRemoved, \"method_removed\", \"methodRemoved\");\r\n            agmAny.server_added = deprecatedDecorator(glue.agm.serverAdded, \"server_added\", \"serverAdded\");\r\n            agmAny.server_method_aded = deprecatedDecorator(glue.agm.serverMethodAdded, \"server_method_aded\", \"serverMethodAdded\");\r\n            agmAny.server_method_removed = deprecatedDecorator(glue.agm.serverMethodRemoved, \"server_method_removed\", \"serverMethodRemoved\");\r\n        }\r\n        return glue;\r\n    }\r\n    return preloadPromise\r\n        .then(setupLogger)\r\n        .then(setupConnection)\r\n        .then(function () { return Promise.all([setupMetrics(), setupInterop(), setupContexts(), setupBus()]); })\r\n        .then(function () { return _interop.readyPromise; })\r\n        .then(function () {\r\n        return setupExternalLibs(internalConfig.libs || []);\r\n    })\r\n        .then(waitForLibs)\r\n        .then(constructGlueObject)\r\n        .catch(function (err) {\r\n        return Promise.reject({\r\n            err: err,\r\n            libs: libs\r\n        });\r\n    });\r\n};\r\nif (typeof window !== \"undefined\") {\r\n    window.GlueCore = GlueCore;\r\n}\r\nGlueCore.version = version;\r\nGlueCore.default = GlueCore;\n\nexport default GlueCore;\n//# sourceMappingURL=core.es.js.map\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\n/* eslint-disable @typescript-eslint/no-unused-vars */\r\n/* tslint:disable:no-console no-empty */\r\nimport { GlueCoreFactoryFunction } from \"@glue42/core\";\r\nimport { Glue42 } from \"@glue42/desktop\";\r\nimport { Glue42Web, GlueWebFactoryFunction } from \"../web\";\r\nimport { parseConfig } from \"./config\";\r\nimport { checkSingleton } from \"./config/checkSingleton\";\r\nimport { enterprise } from \"./enterprise\";\r\nimport { IoC } from \"./shared/ioc\";\r\nimport { PromiseWrap } from \"./shared/promise-plus\";\r\n\r\n/** This function creates the factory function which is the default export of the library */\r\nexport const createFactoryFunction = (coreFactoryFunction: GlueCoreFactoryFunction): GlueWebFactoryFunction => {\r\n\r\n    return async (userConfig?: Glue42Web.Config): Promise<Glue42Web.API | Glue42.Glue> => {\r\n\r\n        const config = parseConfig(userConfig);\r\n\r\n        if (window.glue42gd) {\r\n            return enterprise(config);\r\n        }\r\n\r\n        checkSingleton();\r\n\r\n        const glue = await PromiseWrap<Glue42Web.API>(() => coreFactoryFunction(config) as Promise<Glue42Web.API>, 30000, \"Glue Web initialization timed out\");\r\n\r\n        const logger = glue.logger.subLogger(\"web.main.controller\");\r\n\r\n        const ioc = new IoC(glue);\r\n\r\n        await ioc.bridge.start(ioc.controllers);\r\n        \r\n        logger.trace(\"the bridge has been started, initializing all controllers\");\r\n\r\n        await Promise.all(Object.values(ioc.controllers).map((controller) => controller.start(glue, ioc)));\r\n\r\n        logger.trace(\"all controllers reported started, starting all additional libraries\");\r\n\r\n        await Promise.all(config.libraries.map((lib: any) => lib(glue, config)));\r\n\r\n        logger.trace(\"all libraries were started, glue is ready, returning it\");\r\n\r\n        return glue;\r\n    };\r\n};\r\n","import { IoC } from \"./shared/ioc\";\r\nimport { composeAPI } from \"./main\";\r\nimport { WorkspacesFactoryFunction } from \"../workspaces\";\r\n\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\nconst factoryFunction: WorkspacesFactoryFunction = async (glue: any): Promise<void> => {\r\n\r\n    const ioc = new IoC(glue.agm, glue.windows, glue.layouts, glue.contexts);\r\n\r\n    const actualWindowId = glue.interop.instance.windowId;\r\n\r\n    await ioc.initiate(actualWindowId);\r\n\r\n    glue.workspaces = composeAPI(glue, ioc);\r\n};\r\n\r\n// attach to window object\r\nif (typeof window !== \"undefined\") {\r\n    /* eslint-disable @typescript-eslint/no-explicit-any */\r\n    (window as any).GlueWorkspaces = factoryFunction;\r\n}\r\n\r\nexport default factoryFunction;\r\n","import React, { useContext } from 'react';\r\nimport Workspaces from \"@glue42/workspaces-ui-react\";\r\nimport \"@glue42/workspaces-ui-react/dist/styles/popups.css\";\r\nimport \"@glue42/workspaces-ui-react/dist/styles/goldenlayout-base.css\";\r\nimport \"@glue42/workspaces-ui-react/dist/styles/glue42-theme.css\";\r\nimport \"./index.css\";\r\nimport { GlueContext } from '@glue42/react-hooks';\r\n\r\nconst App = () => {\r\n    (window as any).glue = useContext(GlueContext);\r\n    return (\r\n        <Workspaces />\r\n    );\r\n}\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);  \r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n}\r\n\r\nexport default reportWebVitals;\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { METHODS, webPlatformMethodName, webPlatformWspStreamName } from \"./constants\";\nimport { promisePlus } from \"../shared/promisePlus\";\nimport { WorkspaceEventType } from \"../types/subscription\";\nimport { InteropAPI, Subscription, InvocationResult } from \"../types/glue\";\nimport { Glue42Core } from \"@glue42/core\";\n\nexport class InteropTransport {\n\n    private readonly defaultTransportTimeout: number = 30000;\n    private coreEventMethodInitiated = false;\n    private corePlatformSubPromise: Promise<Glue42Core.Interop.Subscription>;\n\n    constructor(private readonly agm: InteropAPI) { }\n\n    public async initiate(actualWindowId: string): Promise<void> {\n\n        if (window.glue42gd) {\n            await Promise.all(\n                Object.values(METHODS).map((method) => {\n\n                    return this.verifyMethodLive(method.name);\n                })\n            );\n\n            return;\n        }\n\n        await Promise.all([\n            this.verifyMethodLive(webPlatformMethodName),\n            this.verifyMethodLive(webPlatformWspStreamName)\n        ]);\n\n        await this.transmitControl(\"frameHello\", { windowId: actualWindowId });\n    }\n\n    public coreSubscriptionReady(eventCallback: (args?: any) => void): Promise<Glue42Core.Interop.Subscription> {\n        if (!this.coreEventMethodInitiated) {\n            this.subscribePlatform(eventCallback);\n        }\n        return this.corePlatformSubPromise;\n    }\n\n    public subscribePlatform(eventCallback: (args?: any) => void): void {\n        this.coreEventMethodInitiated = true;\n\n        this.corePlatformSubPromise = this.agm.subscribe(webPlatformWspStreamName);\n\n        this.corePlatformSubPromise\n            .then((sub) => {\n                sub.onData((data) => eventCallback(data.data));\n            });\n    }\n\n    public async subscribe(streamName: string, streamBranch: string, streamType: WorkspaceEventType): Promise<Subscription> {\n\n        const subscriptionArgs = {\n            branch: streamBranch,\n            type: streamType\n        };\n\n        let subscription: Subscription;\n\n        try {\n            subscription = await this.agm.subscribe(streamName, { arguments: subscriptionArgs });\n        } catch (error) {\n            const message = `Internal subscription error! Error details: stream - ${streamName}, branch: ${streamBranch}. Internal message: ${error.message}`;\n            throw new Error(message);\n        }\n\n        return subscription;\n    }\n\n    public async transmitControl(operation: string, operationArguments: any): Promise<any> {\n\n        const invocationArguments = window.glue42gd ? { operation, operationArguments } : { operation, domain: \"workspaces\", data: operationArguments };\n        const methodName = window.glue42gd ? METHODS.control.name : webPlatformMethodName;\n\n        let invocationResult: InvocationResult<any>;\n        const baseErrorMessage = `Internal Workspaces Communication Error. Attempted operation: ${JSON.stringify(invocationArguments)}. `;\n\n        // using the 0 index of the errors and values collections, because we expect only one server and\n        // this is to safeguard in case in future we decide to deprecate the default returned/message properties in favor of using only collections\n        try {\n            invocationResult = await this.agm.invoke(methodName, invocationArguments, \"best\", { methodResponseTimeoutMs: this.defaultTransportTimeout });\n\n            if (!invocationResult) {\n                throw new Error(\"Received unsupported result from GD - empty result\");\n            }\n\n            if (!Array.isArray(invocationResult.all_return_values) || invocationResult.all_return_values.length === 0) {\n                throw new Error(\"Received unsupported result from GD - empty values collection\");\n            }\n\n        } catch (error) {\n            if (error && error.all_errors && error.all_errors.length) {\n                // IMPORTANT: Do NOT change the `Inner message:` string, because it is used by other programs to extract the inner message of a communication error\n                const invocationErrorMessage = error.all_errors[0].message;\n                throw new Error(`${baseErrorMessage} -> Inner message: ${invocationErrorMessage}`);\n\n            }\n            // IMPORTANT: Do NOT change the `Inner message:` string, because it is used by other programs to extract the inner message of a communication error\n            throw new Error(`${baseErrorMessage} -> Inner message: ${error.message}`);\n        }\n\n        return invocationResult.all_return_values[0].returned;\n    }\n\n    private verifyMethodLive(name: string): Promise<void> {\n        return promisePlus(() => {\n            return new Promise((resolve) => {\n                const hasMethod = this.agm.methods().some((method) => method.name === name);\n\n                if (hasMethod) {\n                    resolve();\n                    return;\n                }\n\n                let unsubscribe = this.agm.methodAdded((method) => {\n                    if (method.name !== name) {\n                        return;\n                    }\n\n                    if (unsubscribe) {\n                        unsubscribe();\n                        unsubscribe = null;\n                    } else {\n                        setTimeout(() => {\n                            if (unsubscribe) {\n                                unsubscribe();\n                            }\n                        }, 0);\n                    }\n                    resolve();\n                });\n            });\n        }, 15000, \"Timeout waiting for the Workspaces communication channels\");\n    }\n}\n","export const promisePlus = <T>(promise: () => Promise<T>, timeoutMilliseconds: number, timeoutMessage?: string): Promise<T> => {\n    return new Promise<T>((resolve, reject) => {\n\n        let promiseActive = true;\n\n        const timeout = setTimeout(() => {\n            if (!promiseActive) {\n                return;\n            }\n            promiseActive = false;\n            const message = timeoutMessage || `Promise timeout hit: ${timeoutMilliseconds}`;\n\n            reject(message);\n        }, timeoutMilliseconds);\n\n        promise()\n            .then((result) => {\n                if (!promiseActive) {\n                    return;\n                }\n                promiseActive = false;\n                clearTimeout(timeout);\n                resolve(result);\n            })\n            .catch((error) => {\n                if (!promiseActive) {\n                    return;\n                }\n                promiseActive = false;\n                clearTimeout(timeout);\n                reject(error);\n            });\n    });\n};\n","import { BaseBuilder } from \"./baseBuilder\";\nimport { ChildBuilder } from \"../types/builders\";\nimport { Glue42Workspaces } from \"../../workspaces\";\n\ninterface PrivateData {\n    definition: Glue42Workspaces.BoxDefinition;\n    base: BaseBuilder;\n    children: ChildBuilder[];\n}\n\nconst privateData = new WeakMap<ParentBuilder, PrivateData>();\n\nexport class ParentBuilder implements ParentBuilder {\n\n    constructor(\n        definition: Glue42Workspaces.BoxDefinition,\n        base: BaseBuilder\n    ) {\n        const children = base.wrapChildren(definition.children);\n\n        delete definition.children;\n\n        privateData.set(this, { base, children, definition });\n    }\n\n    public get type(): \"column\" | \"row\" | \"group\" {\n        return privateData.get(this).definition.type;\n    }\n\n    public addColumn(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\n        const base = privateData.get(this).base;\n\n        return base.add(\"column\", privateData.get(this).children, definition);\n    }\n\n    public addRow(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\n        const base = privateData.get(this).base;\n\n        return base.add(\"row\", privateData.get(this).children, definition);\n    }\n\n    public addGroup(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\n        const base = privateData.get(this).base;\n\n        return base.add(\"group\", privateData.get(this).children, definition);\n    }\n\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): ParentBuilder {\n        const base = privateData.get(this).base;\n\n        base.addWindow(privateData.get(this).children, definition);\n\n        return this;\n    }\n\n    public serialize(): Glue42Workspaces.BoxDefinition {\n        const definition = privateData.get(this).definition;\n        definition.children = privateData.get(this).base.serializeChildren(privateData.get(this).children);\n        return definition;\n    }\n\n}\n","import { ParentBuilder } from \"./parentBuilder\";\nimport { ChildDefinition, ChildBuilder } from \"../types/builders\";\nimport { parentDefinitionDecoder, swimlaneWindowDefinitionDecoder } from \"../shared/decoders\";\nimport { Glue42Workspaces } from \"../../workspaces\";\nimport { WorkspaceBuilder } from \"./workspaceBuilder\";\n\nexport class BaseBuilder {\n\n    constructor(\n        private readonly getBuilder: (config: Glue42Workspaces.BuilderConfig) => ParentBuilder | WorkspaceBuilder,\n    ) { }\n\n    public wrapChildren(children: ChildDefinition[]): ChildBuilder[] {\n        return children.map((child) => {\n            if (child.type === \"window\") {\n                return child;\n            }\n\n            return this.getBuilder({ type: child.type, definition: child }) as ParentBuilder;\n        });\n    }\n\n    public add(type: \"row\" | \"column\" | \"group\", children: ChildBuilder[], definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\n        const validatedDefinition = parentDefinitionDecoder.runWithException(definition);\n\n        const childBuilder = this.getBuilder({ type, definition: validatedDefinition }) as ParentBuilder;\n\n        children.push(childBuilder);\n\n        return childBuilder;\n    }\n\n    public addWindow(children: ChildBuilder[], definition: Glue42Workspaces.WorkspaceWindowDefinition): void {\n        const validatedDefinition = swimlaneWindowDefinitionDecoder.runWithException(definition);\n\n        validatedDefinition.type = \"window\";\n\n        children.push(validatedDefinition);\n    }\n\n    public serializeChildren(children: ChildBuilder[]): ChildDefinition[] {\n        return children.map((child) => {\n            if (child instanceof ParentBuilder) {\n                return child.serialize();\n            } else {\n                return child as Glue42Workspaces.WorkspaceWindowDefinition;\n            }\n        });\n    }\n}\n","import { BaseBuilder } from \"./baseBuilder\";\nimport { ChildBuilder } from \"../types/builders\";\nimport { ParentBuilder } from \"./parentBuilder\";\nimport { workspaceBuilderCreateConfigDecoder, nonNegativeNumberDecoder } from \"../shared/decoders\";\nimport { Glue42Workspaces } from \"../../workspaces\";\nimport { WorkspacesController } from \"../types/controller\";\n\ninterface PrivateData {\n    definition: Glue42Workspaces.WorkspaceDefinition;\n    children: ChildBuilder[];\n    base: BaseBuilder;\n    controller: WorkspacesController;\n}\n\nconst privateData = new WeakMap<WorkspaceBuilder, PrivateData>();\n\nexport class WorkspaceBuilder implements WorkspaceBuilder {\n\n    constructor(\n        definition: Glue42Workspaces.WorkspaceDefinition,\n        base: BaseBuilder,\n        controller: WorkspacesController\n    ) {\n        const children = base.wrapChildren(definition.children);\n\n        delete definition.children;\n\n        privateData.set(this, { base, children, definition, controller });\n    }\n\n    public addColumn(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\n        const children = privateData.get(this).children;\n\n        const areAllColumns = children.every((child) => child instanceof ParentBuilder && child.type === \"column\");\n\n        if (!areAllColumns) {\n            throw new Error(\"Cannot add a column to this workspace, because there are already children of another type\");\n        }\n\n        const base = privateData.get(this).base;\n\n        return base.add(\"column\", children, definition);\n    }\n\n    public addRow(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\n        const children = privateData.get(this).children;\n\n        const areAllRows = children.every((child) => child instanceof ParentBuilder && child.type === \"row\");\n\n        if (!areAllRows) {\n            throw new Error(\"Cannot add a row to this workspace, because there are already children of another type\");\n        }\n\n        const base = privateData.get(this).base;\n\n        return base.add(\"row\", children, definition);\n    }\n\n    public addGroup(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\n        const children = privateData.get(this).children;\n\n        if (children.length !== 0) {\n            throw new Error(\"Cannot add a group to this workspace, because there are already defined children.\");\n        }\n\n        const base = privateData.get(this).base;\n\n        return base.add(\"group\", children, definition);\n    }\n\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): WorkspaceBuilder {\n        const children = privateData.get(this).children;\n\n        if (children.length !== 0) {\n            throw new Error(\"Cannot add a window to this workspace, because there are already defined children.\");\n        }\n\n        const base = privateData.get(this).base;\n\n        base.addWindow(children, definition);\n\n        return this;\n    }\n\n    public getChildAt(index: number): ChildBuilder {\n        nonNegativeNumberDecoder.runWithException(index);\n        const data = privateData.get(this).children;\n\n        return data[index];\n    }\n\n    public async create(config?: Glue42Workspaces.WorkspaceCreateConfig): Promise<Glue42Workspaces.Workspace> {\n        const saveConfig = workspaceBuilderCreateConfigDecoder.runWithException(config);\n\n        const definition = privateData.get(this).definition;\n        definition.children = privateData.get(this).base.serializeChildren(privateData.get(this).children);\n\n        const controller = privateData.get(this).controller;\n\n        return controller.createWorkspace(definition, saveConfig);\n    }\n}\n","import { Base } from \"./base/base\";\nimport { Glue42Workspaces } from \"../../workspaces.d\";\n\ninterface PrivateData {\n    base: Base;\n}\n\nconst privateData = new WeakMap<Row, PrivateData>();\n\nconst getBase = (model: Row): Base => {\n    return privateData.get(model).base;\n};\n\nexport class Row implements Glue42Workspaces.Row {\n\n    constructor(base: Base) {\n        privateData.set(this, { base });\n    }\n\n    public get type(): \"row\" {\n        return \"row\";\n    }\n\n    public get id(): string {\n        return getBase(this).getId(this);\n    }\n\n    public get frameId(): string {\n        return getBase(this).getFrameId(this);\n    }\n\n    public get workspaceId(): string {\n        return getBase(this).getWorkspaceId(this);\n    }\n\n    public get positionIndex(): number {\n        return getBase(this).getPositionIndex(this);\n    }\n\n    public get children(): Glue42Workspaces.WorkspaceElement[] {\n        return getBase(this).getAllChildren(this);\n    }\n    public get parent(): Glue42Workspaces.Workspace | Glue42Workspaces.WorkspaceBox {\n        return getBase(this).getMyParent(this);\n    }\n    public get frame(): Glue42Workspaces.Frame {\n        return getBase(this).getMyFrame(this);\n    }\n    public get workspace(): Glue42Workspaces.Workspace {\n        return getBase(this).getMyWorkspace(this);\n    }\n\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): Promise<Glue42Workspaces.WorkspaceWindow> {\n        return getBase(this).addWindow(this, definition, \"row\");\n    }\n\n    public async addGroup(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Group> {\n        if (definition?.type && definition.type !== \"group\") {\n            throw new Error(`Expected a group definition, but received ${definition.type}`);\n        }\n        return getBase(this).addParent<Glue42Workspaces.Group>(this, \"group\", \"row\", definition);\n    }\n\n    public async addColumn(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Column> {\n        if (definition?.type && definition.type !== \"column\") {\n            throw new Error(`Expected a column definition, but received ${definition.type}`);\n        }\n        return getBase(this).addParent<Glue42Workspaces.Column>(this, \"column\", \"row\", definition);\n    }\n\n    public async addRow(): Promise<Row> {\n        throw new Error(\"Adding rows as row children is not supported\");\n    }\n\n    public removeChild(predicate: (child: Glue42Workspaces.WorkspaceElement) => boolean): Promise<void> {\n        return getBase(this).removeChild(this, predicate);\n    }\n\n    public maximize(): Promise<void> {\n        return getBase(this).maximize(this);\n    }\n\n    public restore(): Promise<void> {\n        return getBase(this).restore(this);\n    }\n\n    public close(): Promise<void> {\n        return getBase(this).close(this);\n    }\n\n}\n","import { Base } from \"./base/base\";\nimport { Glue42Workspaces } from \"../../workspaces.d\";\n\ninterface PrivateData {\n    base: Base;\n}\n\nconst privateData = new WeakMap<Column, PrivateData>();\n\nconst getBase = (model: Column): Base => {\n    return privateData.get(model).base;\n};\n\nexport class Column implements Glue42Workspaces.Column {\n\n    constructor(base: Base) {\n        privateData.set(this, { base });\n    }\n\n    public get type(): \"column\" {\n        return \"column\";\n    }\n\n    public get id(): string {\n        return getBase(this).getId(this);\n    }\n\n    public get frameId(): string {\n        return getBase(this).getFrameId(this);\n    }\n\n    public get workspaceId(): string {\n        return getBase(this).getWorkspaceId(this);\n    }\n\n    public get positionIndex(): number {\n        return getBase(this).getPositionIndex(this);\n    }\n\n    public get children(): Glue42Workspaces.WorkspaceElement[] {\n        return getBase(this).getAllChildren(this);\n    }\n    public get parent(): Glue42Workspaces.Workspace | Glue42Workspaces.WorkspaceBox {\n        return getBase(this).getMyParent(this);\n    }\n    public get frame(): Glue42Workspaces.Frame {\n        return getBase(this).getMyFrame(this);\n    }\n    public get workspace(): Glue42Workspaces.Workspace {\n        return getBase(this).getMyWorkspace(this);\n    }\n\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): Promise<Glue42Workspaces.WorkspaceWindow> {\n        return getBase(this).addWindow(this, definition, \"column\");\n    }\n\n    public async addGroup(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Group> {\n        if (definition?.type && definition.type !== \"group\") {\n            throw new Error(`Expected a group definition, but received ${definition.type}`);\n        }\n        return getBase(this).addParent<Glue42Workspaces.Group>(this, \"group\", \"column\", definition);\n    }\n\n    public async addColumn(definition?: Glue42Workspaces.BoxDefinition): Promise<Column> {\n        throw new Error(\"Adding columns as column children is not supported\");\n        return getBase(this).addParent<Column>(this, \"column\", \"column\", definition);\n    }\n\n    public async addRow(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Row> {\n        if (definition?.type && definition.type !== \"row\") {\n            throw new Error(`Expected a row definition, but received ${definition.type}`);\n        }\n        return getBase(this).addParent<Glue42Workspaces.Row>(this, \"row\", \"column\", definition);\n    }\n\n    public removeChild(predicate: (child: Glue42Workspaces.WorkspaceElement) => boolean): Promise<void> {\n        return getBase(this).removeChild(this, predicate);\n    }\n\n    public maximize(): Promise<void> {\n        return getBase(this).maximize(this);\n    }\n\n    public restore(): Promise<void> {\n        return getBase(this).restore(this);\n    }\n\n    public close(): Promise<void> {\n        return getBase(this).close(this);\n    }\n\n}\n","import { Base } from \"./base/base\";\nimport { Glue42Workspaces } from \"../../workspaces.d\";\n\ninterface PrivateData {\n    base: Base;\n}\n\nconst privateData = new WeakMap<Group, PrivateData>();\n\nconst getBase = (model: Group): Base => {\n    return privateData.get(model).base;\n};\n\nexport class Group implements Glue42Workspaces.Group {\n\n    constructor(base: Base) {\n        privateData.set(this, { base });\n    }\n\n    public get type(): \"group\" {\n        return \"group\";\n    }\n\n    public get id(): string {\n        return getBase(this).getId(this);\n    }\n\n    public get frameId(): string {\n        return getBase(this).getFrameId(this);\n    }\n\n    public get workspaceId(): string {\n        return getBase(this).getWorkspaceId(this);\n    }\n\n    public get positionIndex(): number {\n        return getBase(this).getPositionIndex(this);\n    }\n\n    public get children(): Glue42Workspaces.WorkspaceElement[] {\n        return getBase(this).getAllChildren(this);\n    }\n    public get parent(): Glue42Workspaces.Workspace | Glue42Workspaces.WorkspaceBox {\n        return getBase(this).getMyParent(this);\n    }\n    public get frame(): Glue42Workspaces.Frame {\n        return getBase(this).getMyFrame(this);\n    }\n    public get workspace(): Glue42Workspaces.Workspace {\n        return getBase(this).getMyWorkspace(this);\n    }\n\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): Promise<Glue42Workspaces.WorkspaceWindow> {\n        return getBase(this).addWindow(this, definition, \"group\");\n    }\n\n    public async addGroup(): Promise<Group> {\n        throw new Error(\"Adding groups as group child is not supported\");\n    }\n\n    public async addColumn(): Promise<Glue42Workspaces.Column> {\n        throw new Error(\"Adding columns as group child is not supported\");\n    }\n\n    public async addRow(): Promise<Glue42Workspaces.Row> {\n        throw new Error(\"Adding rows as group child is not supported\");\n    }\n\n    public removeChild(predicate: (child: Glue42Workspaces.WorkspaceElement) => boolean): Promise<void> {\n        return getBase(this).removeChild(this, predicate);\n    }\n\n    public maximize(): Promise<void> {\n        return getBase(this).maximize(this);\n    }\n\n    public restore(): Promise<void> {\n        return getBase(this).restore(this);\n    }\n\n    public close(): Promise<void> {\n        return getBase(this).close(this);\n    }\n\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { WorkspaceSnapshotResult, WindowStreamData } from \"../types/protocol\";\nimport { checkThrowCallback, nonEmptyStringDecoder } from \"../shared/decoders\";\nimport { PrivateDataManager } from \"../shared/privateDataManager\";\nimport { FrameCreateConfig } from \"../types/ioc\";\nimport { Window } from \"./window\";\nimport { Frame } from \"./frame\";\nimport { Row } from \"./row\";\nimport { Column } from \"./column\";\nimport { Group } from \"./group\";\nimport { SubscriptionConfig } from \"../types/subscription\";\nimport { WorkspacePrivateData } from \"../types/privateData\";\nimport { Glue42Workspaces } from \"../../workspaces\";\n\ninterface PrivateData {\n    manager: PrivateDataManager;\n}\n\nconst data = new WeakMap<Workspace, PrivateData>();\n\nconst getData = (model: Workspace): WorkspacePrivateData => {\n    return data.get(model).manager.getWorkspaceData(model);\n};\n\nconst getDataManager = (model: Workspace): PrivateDataManager => {\n    return data.get(model).manager;\n};\n\nexport class Workspace implements Glue42Workspaces.Workspace {\n\n    constructor(dataManager: PrivateDataManager) {\n        data.set(this, { manager: dataManager });\n    }\n\n    public get id(): string {\n        return getData(this).id;\n    }\n\n    public get frameId(): string {\n        return getData(this).config.frameId;\n    }\n\n    public get positionIndex(): number {\n        return getData(this).config.positionIndex;\n    }\n\n    public get title(): string {\n        return getData(this).config.title;\n    }\n\n    public get layoutName(): string | undefined {\n        return getData(this).config.layoutName;\n    }\n\n    public get children(): Glue42Workspaces.WorkspaceElement[] {\n        return getData(this).children;\n    }\n\n    public get frame(): Frame {\n        return getData(this).frame;\n    }\n\n    public async removeChild(predicate: (child: Glue42Workspaces.WorkspaceElement) => boolean): Promise<void> {\n        checkThrowCallback(predicate);\n        const child = this.children.find(predicate);\n        if (!child) {\n            return;\n        }\n        await child.close();\n        await this.refreshReference();\n    }\n\n    public async remove(predicate: (child: Glue42Workspaces.WorkspaceElement) => boolean): Promise<void> {\n        checkThrowCallback(predicate);\n        const controller = getData(this).controller;\n\n        const child = controller.iterateFindChild(this.children, predicate);\n\n        await child.close();\n\n        await this.refreshReference();\n    }\n\n    public async focus(): Promise<void> {\n        await getData(this).controller.focusItem(this.id);\n        await this.refreshReference();\n    }\n\n    public async close(): Promise<void> {\n        const controller = getData(this).controller;\n\n        const workspaces = await getData(this).frame.workspaces();\n\n        const shouldCloseFrame = workspaces.length === 1 && workspaces.every((wsp) => wsp.id === this.id);\n\n        if (shouldCloseFrame) {\n            return this.frame.close();\n        }\n\n        await controller.closeItem(this.id);\n    }\n\n    public snapshot(): Promise<Glue42Workspaces.WorkspaceSnapshot> {\n        return getData(this).controller.getSnapshot(this.id, \"workspace\");\n    }\n\n    public async saveLayout(name: string, config?: { saveContext?: boolean }): Promise<void> {\n        nonEmptyStringDecoder.runWithException(name);\n        await getData(this).controller.saveLayout({name, workspaceId: this.id, saveContext: config?.saveContext});\n    }\n\n    public async setTitle(title: string): Promise<void> {\n        nonEmptyStringDecoder.runWithException(title);\n        const controller = getData(this).controller;\n\n        await controller.setItemTitle(this.id, title);\n        await this.refreshReference();\n    }\n\n    public getContext(): Promise<any> {\n        const controller = getData(this).controller;\n        return controller.getWorkspaceContext(this.id);\n    }\n\n    public setContext(data: any): Promise<void> {\n        const controller = getData(this).controller;\n        return controller.setWorkspaceContext(this.id, data);\n    }\n\n    public updateContext(data: any): Promise<void> {\n        const controller = getData(this).controller;\n        return controller.updateWorkspaceContext(this.id, data);\n    }\n\n    public onContextUpdated(callback: (data: any) => void): Promise<Glue42Workspaces.Unsubscribe> {\n        const controller = getData(this).controller;\n        return controller.subscribeWorkspaceContextUpdated(this.id, callback);\n    }\n\n    public async refreshReference(): Promise<void> {\n        const newSnapshot = (await getData(this).controller.getSnapshot(this.id, \"workspace\")) as WorkspaceSnapshotResult;\n\n        const existingChildren = newSnapshot.children.reduce<Glue42Workspaces.WorkspaceElement[]>((foundChildren, child) => {\n            let foundChild: Glue42Workspaces.WorkspaceElement;\n            if (child.type === \"window\") {\n                foundChild = this.getWindow((swimlaneWindow) => swimlaneWindow.id === child.id);\n            } else {\n                foundChild = this.getBox((parent) => parent.id === child.id);\n            }\n\n            if (foundChild) {\n                foundChildren.push(foundChild);\n            }\n\n            return foundChildren;\n        }, []);\n\n        const newChildren = getData(this).controller.refreshChildren({\n            existingChildren,\n            workspace: this,\n            parent: this,\n            children: newSnapshot.children\n        });\n\n        const currentFrame = this.frame;\n        let actualFrame: Frame;\n\n        if (currentFrame.id === newSnapshot.config.frameId) {\n            getDataManager(this).remapFrame(currentFrame, newSnapshot.frameSummary);\n            actualFrame = currentFrame;\n        } else {\n            const frameCreateConfig: FrameCreateConfig = {\n                summary: newSnapshot.frameSummary\n            };\n            const newFrame = getData(this).ioc.getModel<\"frame\">(\"frame\", frameCreateConfig);\n            actualFrame = newFrame;\n        }\n\n        getDataManager(this).remapWorkspace(this, {\n            config: newSnapshot.config,\n            children: newChildren,\n            frame: actualFrame\n        });\n    }\n\n    public getBox(predicate: (box: Glue42Workspaces.WorkspaceBox) => boolean): Glue42Workspaces.WorkspaceBox {\n        checkThrowCallback(predicate);\n        const children = getData(this).children;\n        const controller = getData(this).controller;\n\n        return controller.iterateFindChild(children, (child) => child.type !== \"window\" && predicate(child)) as Glue42Workspaces.WorkspaceBox;\n    }\n\n    public getAllBoxes(predicate?: (parent: Glue42Workspaces.WorkspaceBox) => boolean): Glue42Workspaces.WorkspaceBox[] {\n        checkThrowCallback(predicate, true);\n        const children = getData(this).children;\n        const controller = getData(this).controller;\n\n        const allParents = controller.iterateFilterChildren(children, (child) => child.type !== \"window\") as Glue42Workspaces.WorkspaceBox[];\n\n        if (!predicate) {\n            return allParents;\n        }\n\n        return allParents.filter(predicate);\n    }\n\n    public getRow(predicate: (row: Row) => boolean): Row {\n        checkThrowCallback(predicate);\n        return this.getBox((parent) => parent.type === \"row\" && predicate(parent)) as Row;\n    }\n\n    public getAllRows(predicate?: (row: Row) => boolean): Row[] {\n        checkThrowCallback(predicate, true);\n        if (predicate) {\n            return this.getAllBoxes((parent) => parent.type === \"row\" && predicate(parent)) as Row[];\n        }\n        return this.getAllBoxes((parent) => parent.type === \"row\") as Row[];\n    }\n\n    public getColumn(predicate: (column: Column) => boolean): Column {\n        checkThrowCallback(predicate);\n        return this.getBox((parent) => parent.type === \"column\" && predicate(parent)) as Column;\n    }\n\n    public getAllColumns(predicate?: (columns: Column) => boolean): Column[] {\n        checkThrowCallback(predicate, true);\n        if (predicate) {\n            return this.getAllBoxes((parent) => parent.type === \"column\" && predicate(parent)) as Column[];\n        }\n        return this.getAllBoxes((parent) => parent.type === \"column\") as Column[];\n    }\n\n    public getGroup(predicate: (group: Group) => boolean): Group {\n        checkThrowCallback(predicate);\n        return this.getBox((parent) => parent.type === \"group\" && predicate(parent)) as Group;\n    }\n\n    public getAllGroups(predicate?: (group: Group) => boolean): Group[] {\n        checkThrowCallback(predicate, true);\n        if (predicate) {\n            return this.getAllBoxes((parent) => parent.type === \"group\" && predicate(parent)) as Group[];\n        }\n        return this.getAllBoxes((parent) => parent.type === \"group\") as Group[];\n    }\n\n    public getWindow(predicate: (window: Glue42Workspaces.WorkspaceWindow) => boolean): Glue42Workspaces.WorkspaceWindow {\n        checkThrowCallback(predicate);\n        const children = getData(this).children;\n        const controller = getData(this).controller;\n\n        return controller.iterateFindChild(children, (child) => child.type === \"window\" && predicate(child)) as Window;\n    }\n\n    public getAllWindows(predicate?: (window: Glue42Workspaces.WorkspaceWindow) => boolean): Glue42Workspaces.WorkspaceWindow[] {\n        checkThrowCallback(predicate, true);\n        const children = getData(this).children;\n        const controller = getData(this).controller;\n\n        const allWindows = controller.iterateFilterChildren(children, (child) => child.type === \"window\") as Window[];\n\n        if (!predicate) {\n            return allWindows;\n        }\n\n        return allWindows.filter(predicate);\n    }\n\n    public addRow(definition?: Glue42Workspaces.BoxDefinition): Promise<Row> {\n        return getData(this).base.addParent<Row>(this, \"row\", \"workspace\", definition);\n    }\n\n    public addColumn(definition?: Glue42Workspaces.BoxDefinition): Promise<Column> {\n        return getData(this).base.addParent<Column>(this, \"column\", \"workspace\", definition);\n    }\n\n    public addGroup(definition?: Glue42Workspaces.BoxDefinition): Promise<Group> {\n        return getData(this).base.addParent<Group>(this, \"group\", \"workspace\", definition);\n    }\n\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): Promise<Glue42Workspaces.WorkspaceWindow> {\n        return getData(this).base.addWindow(this, definition, \"workspace\");\n    }\n\n    public async bundleToRow(): Promise<void> {\n        await getData(this).controller.bundleTo(\"row\", this.id);\n        await this.refreshReference();\n    }\n\n    public async bundleToColumn(): Promise<void> {\n        await getData(this).controller.bundleTo(\"column\", this.id);\n        await this.refreshReference();\n    }\n\n    public async onClosed(callback: () => void): Promise<Glue42Workspaces.Unsubscribe> {\n        checkThrowCallback(callback);\n        const id = getData(this).id;\n\n        const wrappedCallback = async (): Promise<void> => {\n            // await this.refreshReference();\n            callback();\n        };\n        const config: SubscriptionConfig = {\n            action: \"closed\",\n            eventType: \"workspace\",\n            scope: \"workspace\",\n            scopeId: id,\n            callback: wrappedCallback\n        };\n\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\n        return unsubscribe;\n    }\n\n    public async onWindowAdded(callback: (window: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> {\n        checkThrowCallback(callback);\n        const id = getData(this).id;\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\n            await this.refreshReference();\n            const windowParent = this.getBox((parent) => parent.id === payload.windowSummary.parentId);\n\n            const foundWindow = windowParent.children.find((child) => {\n\n                return child.type === \"window\" && child.positionIndex === payload.windowSummary.config.positionIndex;\n            });\n            callback(foundWindow as Window);\n        };\n\n        const config: SubscriptionConfig = {\n            action: \"added\",\n            eventType: \"window\",\n            scope: \"workspace\",\n            scopeId: id,\n            callback: wrappedCallback\n        };\n\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\n        return unsubscribe;\n    }\n\n    public async onWindowRemoved(callback: (removed: { windowId?: string; workspaceId: string; frameId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> {\n        checkThrowCallback(callback);\n        const id = getData(this).id;\n\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\n            await this.refreshReference();\n            const { windowId, workspaceId, frameId } = payload.windowSummary.config;\n            callback({ windowId, workspaceId, frameId });\n        };\n\n        const config: SubscriptionConfig = {\n            action: \"removed\",\n            eventType: \"window\",\n            scope: \"workspace\",\n            scopeId: id,\n            callback: wrappedCallback\n        };\n\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\n        return unsubscribe;\n    }\n\n    public async onWindowLoaded(callback: (window: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> {\n        checkThrowCallback(callback);\n        const id = getData(this).id;\n\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\n            await this.refreshReference();\n            const foundWindow = this.getWindow((win) => {\n                return win.id && win.id === payload.windowSummary.config.windowId;\n            });\n            callback(foundWindow);\n        };\n\n        const config: SubscriptionConfig = {\n            action: \"loaded\",\n            eventType: \"window\",\n            scope: \"workspace\",\n            scopeId: id,\n            callback: wrappedCallback\n        };\n\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\n        return unsubscribe;\n    }\n}\n","import { checkThrowCallback, nonEmptyStringDecoder } from \"../shared//decoders\";\nimport { SubscriptionConfig } from \"../types/subscription\";\nimport { PrivateDataManager } from \"../shared/privateDataManager\";\nimport { Row } from \"./row\";\nimport { Column } from \"./column\";\nimport { Group } from \"./group\";\nimport { WindowPrivateData } from \"../types/privateData\";\nimport { Glue42Workspaces } from \"../../workspaces\";\nimport { GDWindow } from \"../types/glue\";\n\ninterface PrivateData {\n    manager: PrivateDataManager;\n}\n\nconst data = new WeakMap<Window, PrivateData>();\n\nconst getData = (model: Window): WindowPrivateData => {\n    return data.get(model).manager.getWindowData(model);\n};\n\nexport class Window implements Glue42Workspaces.WorkspaceWindow {\n\n    constructor(dataManager: PrivateDataManager) {\n        data.set(this, { manager: dataManager });\n    }\n\n    public get id(): string {\n        return getData(this).config.windowId;\n    }\n\n    public get type(): \"window\" {\n        return \"window\";\n    }\n\n    public get frameId(): string {\n        return getData(this).frame.id;\n    }\n\n    public get workspaceId(): string {\n        return getData(this).workspace.id;\n    }\n\n    public get positionIndex(): number {\n        return getData(this).config.positionIndex;\n    }\n\n    public get isMaximized(): boolean {\n        return getData(this).config.isMaximized;\n    }\n\n    public get isLoaded(): boolean {\n        return getData(this).controller.checkIsWindowLoaded(this.id);\n    }\n\n    public get focused(): boolean {\n        return getData(this).config.isFocused;\n    }\n\n    public get title(): string {\n        return getData(this).config.title;\n    }\n\n    public get workspace(): Glue42Workspaces.Workspace {\n        return getData(this).workspace;\n    }\n\n    public get frame(): Glue42Workspaces.Frame {\n        return getData(this).frame;\n    }\n\n    public get parent(): Glue42Workspaces.Workspace | Glue42Workspaces.Workspace | Row | Column | Group {\n        return getData(this).parent;\n    }\n\n    public get appName(): string {\n        return getData(this).config.appName;\n    }\n\n    public async forceLoad(): Promise<void> {\n        if (this.isLoaded) {\n            return;\n        }\n        const controller = getData(this).controller;\n        const itemId = getData(this).id;\n\n        const windowId = await controller.forceLoadWindow(itemId);\n\n        getData(this).config.windowId = windowId;\n    }\n\n    public async focus(): Promise<void> {\n        const id = getData(this).id;\n        const controller = getData(this).controller;\n\n        await controller.focusItem(id);\n    }\n\n    public async close(): Promise<void> {\n\n        const id = getData(this).id;\n        const controller = getData(this).controller;\n\n        await controller.closeItem(id);\n\n        await getData(this)\n            .parent\n            .removeChild((child) => child.id === id);\n    }\n\n    public async setTitle(title: string): Promise<void> {\n        nonEmptyStringDecoder.runWithException(title);\n\n        const itemId = getData(this).id;\n        const controller = getData(this).controller;\n\n        await controller.setItemTitle(itemId, title);\n    }\n\n    public async maximize(): Promise<void> {\n        const id = getData(this).id;\n        const controller = getData(this).controller;\n\n        await controller.maximizeItem(id);\n    }\n\n    public async restore(): Promise<void> {\n        const id = getData(this).id;\n        const controller = getData(this).controller;\n\n        await controller.restoreItem(id);\n    }\n\n    public async eject(): Promise<GDWindow> {\n        if (!this.isLoaded) {\n            throw new Error(\"Cannot eject this window, because it is not loaded yet\");\n        }\n        const itemId: string = getData(this).id;\n\n        const newWindowId: string = await getData(this).controller.ejectWindow(itemId);\n\n        getData(this).config.windowId = newWindowId;\n\n        return this.getGdWindow();\n    }\n\n    public getGdWindow(): GDWindow {\n\n        if (!this.isLoaded) {\n            throw new Error(\"Cannot fetch this GD window, because the window is not yet loaded\");\n        }\n\n        const myId = getData(this).config.windowId;\n        const controller = getData(this).controller;\n\n        return controller.getGDWindow(myId);\n    }\n\n    public async moveTo(parent: Row | Column | Group): Promise<void> {\n        if (!(parent instanceof Row || parent instanceof Column || parent instanceof Group)) {\n            throw new Error(\"Cannot add to the provided parent, because the provided parent is not an instance of Row, Column or Group\");\n        }\n\n        const myId = getData(this).id;\n        const controller = getData(this).controller;\n\n        const foundParent = await controller.getParent((p) => p.id === parent.id);\n\n        if (!foundParent) {\n            throw new Error(\"Cannot move the window to the selected parent, because this parent does not exist.\");\n        }\n\n        return controller.moveWindowTo(myId, parent.id);\n    }\n\n    public async onRemoved(callback: () => void): Promise<Glue42Workspaces.Unsubscribe> {\n        checkThrowCallback(callback);\n        const id = getData(this).id;\n        const wrappedCallback = async (): Promise<void> => {\n            await this.workspace.refreshReference();\n            callback();\n        };\n        const config: SubscriptionConfig = {\n            callback: wrappedCallback,\n            action: \"removed\",\n            eventType: \"window\",\n            scope: \"window\"\n        };\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\n        return unsubscribe;\n    }\n}\n","import { checkThrowCallback, nonEmptyStringDecoder, restoreWorkspaceConfigDecoder, workspaceDefinitionDecoder, workspaceBuilderCreateConfigDecoder, resizeConfigDecoder, moveConfigDecoder } from \"../shared/decoders\";\nimport { SubscriptionConfig } from \"../types/subscription\";\nimport { PrivateDataManager } from \"../shared/privateDataManager\";\nimport { FrameStreamData, WorkspaceStreamData, WindowStreamData } from \"../types/protocol\";\nimport { Glue42Workspaces } from \"../../workspaces.d\";\nimport { FramePrivateData } from \"../types/privateData\";\n\ninterface PrivateData {\n    manager: PrivateDataManager;\n}\n\nconst data = new WeakMap<Frame, PrivateData>();\n\nconst getData = (model: Frame): FramePrivateData => {\n    return data.get(model).manager.getFrameData(model);\n};\n\nexport class Frame implements Glue42Workspaces.Frame {\n\n    constructor(dataManager: PrivateDataManager) {\n        data.set(this, { manager: dataManager });\n    }\n\n    public get id(): string {\n        return getData(this).summary.id;\n    }\n\n    public resize(config: Glue42Workspaces.ResizeConfig): Promise<void> {\n        const validatedConfig = resizeConfigDecoder.runWithException(config);\n        const myId = getData(this).summary.id;\n\n        return getData(this).controller.resizeItem(myId, validatedConfig);\n    }\n\n    public move(config: Glue42Workspaces.MoveConfig): Promise<void> {\n        const validatedConfig = moveConfigDecoder.runWithException(config);\n\n        const myId = getData(this).summary.id;\n        return getData(this).controller.moveFrame(myId, validatedConfig);\n    }\n\n    public focus(): Promise<void> {\n        const myId = getData(this).summary.id;\n        return getData(this).controller.focusItem(myId);\n    }\n\n    public async state(): Promise<Glue42Workspaces.FrameState> {\n        if (!window.glue42gd) {\n            throw new Error(\"State operations are not supported in Glue42 Core\");\n        }\n        const myId = getData(this).summary.id;\n        return getData(this).controller.getFrameState(myId);\n    }\n\n    public async minimize(): Promise<void> {\n        if (!window.glue42gd) {\n            throw new Error(\"State operations are not supported in Glue42 Core\");\n        }\n        const myId = getData(this).summary.id;\n        return getData(this).controller.changeFrameState(myId, \"minimized\");\n    }\n\n    public async maximize(): Promise<void> {\n        if (!window.glue42gd) {\n            throw new Error(\"State operations are not supported in Glue42 Core\");\n        }\n        const myId = getData(this).summary.id;\n        return getData(this).controller.changeFrameState(myId, \"maximized\");\n    }\n\n    public async restore(): Promise<void> {\n        if (!window.glue42gd) {\n            throw new Error(\"State operations are not supported in Glue42 Core\");\n        }\n        const myId = getData(this).summary.id;\n        return getData(this).controller.changeFrameState(myId, \"normal\");\n    }\n\n    public close(): Promise<void> {\n        const myId = getData(this).summary.id;\n        return getData(this).controller.closeItem(myId);\n    }\n\n    public snapshot(): Promise<Glue42Workspaces.FrameSnapshot> {\n        const myId = getData(this).summary.id;\n        return getData(this).controller.getSnapshot(myId, \"frame\");\n    }\n\n    public async workspaces(): Promise<Glue42Workspaces.Workspace[]> {\n        const controller = getData(this).controller;\n        return controller.getWorkspaces((wsp) => wsp.frameId === this.id);\n    }\n\n    public async restoreWorkspace(name: string, options?: Glue42Workspaces.RestoreWorkspaceConfig): Promise<Glue42Workspaces.Workspace> {\n        nonEmptyStringDecoder.runWithException(name);\n        const validatedOptions = restoreWorkspaceConfigDecoder.runWithException(options);\n\n        return getData(this).controller.restoreWorkspace(name, validatedOptions);\n    }\n\n    public createWorkspace(definition: Glue42Workspaces.WorkspaceDefinition, config?: Glue42Workspaces.WorkspaceCreateConfig): Promise<Glue42Workspaces.Workspace> {\n        const validatedDefinition = workspaceDefinitionDecoder.runWithException(definition);\n        const validatedConfig = workspaceBuilderCreateConfigDecoder.runWithException(config);\n\n        return getData(this).controller.createWorkspace(validatedDefinition, validatedConfig);\n    }\n\n    public async onClosed(callback: (closed: { frameId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> {\n        checkThrowCallback(callback);\n        const myId = getData(this).summary.id;\n\n        const wrappedCallback = (payload: FrameStreamData): void => {\n            callback({ frameId: payload.frameSummary.id });\n        };\n\n        const config: SubscriptionConfig = {\n            callback: wrappedCallback,\n            action: \"closed\",\n            eventType: \"frame\",\n            scope: \"frame\"\n        };\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\n        return unsubscribe;\n    }\n\n    public async onMaximized(callback: () => void): Promise<Glue42Workspaces.Unsubscribe> {\n        checkThrowCallback(callback);\n        const myId = getData(this).summary.id;\n\n        const wrappedCallback = (): void => {\n            callback();\n        };\n\n        const config: SubscriptionConfig = {\n            callback: wrappedCallback,\n            action: \"maximized\",\n            eventType: \"frame\",\n            scope: \"frame\"\n        };\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\n        return unsubscribe;\n    }\n\n    public async onMinimized(callback: () => void): Promise<Glue42Workspaces.Unsubscribe> {\n        checkThrowCallback(callback);\n        const myId = getData(this).summary.id;\n\n        const wrappedCallback = (): void => {\n            callback();\n        };\n\n        const config: SubscriptionConfig = {\n            callback: wrappedCallback,\n            action: \"minimized\",\n            eventType: \"frame\",\n            scope: \"frame\"\n        };\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\n        return unsubscribe;\n    }\n\n    public async onNormal(callback: () => void): Promise<Glue42Workspaces.Unsubscribe> {\n        checkThrowCallback(callback);\n        const myId = getData(this).summary.id;\n\n        const wrappedCallback = (): void => {\n            callback();\n        };\n\n        const config: SubscriptionConfig = {\n            callback: wrappedCallback,\n            action: \"normal\",\n            eventType: \"frame\",\n            scope: \"frame\"\n        };\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\n        return unsubscribe;\n    }\n\n    public async onWorkspaceOpened(callback: (workspace: Glue42Workspaces.Workspace) => void): Promise<Glue42Workspaces.Unsubscribe> {\n        checkThrowCallback(callback);\n        const myId = getData(this).summary.id;\n\n        const wrappedCallback = async (payload: WorkspaceStreamData): Promise<void> => {\n            const workspace = await getData(this).controller.getWorkspace((wsp) => wsp.id === payload.workspaceSummary.id);\n            callback(workspace);\n        };\n\n        const config: SubscriptionConfig = {\n            callback: wrappedCallback,\n            action: \"opened\",\n            eventType: \"workspace\",\n            scope: \"frame\"\n        };\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\n        return unsubscribe;\n    }\n\n    public async onWorkspaceSelected(callback: (workspace: Glue42Workspaces.Workspace) => void): Promise<Glue42Workspaces.Unsubscribe> {\n        checkThrowCallback(callback);\n        const myId = getData(this).summary.id;\n\n        const wrappedCallback = async (payload: WorkspaceStreamData): Promise<void> => {\n            const workspace = await getData(this).controller.getWorkspace((wsp) => wsp.id === payload.workspaceSummary.id);\n            callback(workspace);\n        };\n\n        const config: SubscriptionConfig = {\n            callback: wrappedCallback,\n            action: \"selected\",\n            eventType: \"workspace\",\n            scope: \"frame\"\n        };\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\n        return unsubscribe;\n    }\n\n    public async onWorkspaceClosed(callback: (closed: { frameId: string; workspaceId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> {\n        checkThrowCallback(callback);\n        const myId = getData(this).summary.id;\n\n        const wrappedCallback = (payload: WorkspaceStreamData): void => {\n            callback({ frameId: payload.frameSummary.id, workspaceId: payload.workspaceSummary.id });\n        };\n\n        const config: SubscriptionConfig = {\n            callback: wrappedCallback,\n            action: \"closed\",\n            eventType: \"workspace\",\n            scope: \"frame\"\n        };\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\n        return unsubscribe;\n    }\n\n    public async onWindowAdded(callback: (window: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> {\n        checkThrowCallback(callback);\n        const myId = getData(this).summary.id;\n\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\n            const foundParent = await getData(this).controller.getParent((parent) => parent.id === payload.windowSummary.parentId);\n            const foundWindow = foundParent.children.find((child) => child.type === \"window\" && child.positionIndex === payload.windowSummary.config.positionIndex);\n            callback(foundWindow as Glue42Workspaces.WorkspaceWindow);\n        };\n\n        const config: SubscriptionConfig = {\n            callback: wrappedCallback,\n            action: \"added\",\n            eventType: \"window\",\n            scope: \"frame\"\n        };\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\n        return unsubscribe;\n    }\n\n    public async onWindowRemoved(callback: (removed: { windowId?: string; workspaceId: string; frameId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> {\n        checkThrowCallback(callback);\n        const myId = getData(this).summary.id;\n\n        const wrappedCallback = (payload: WindowStreamData): void => {\n            const { windowId, workspaceId, frameId } = payload.windowSummary.config;\n            callback({ windowId, workspaceId, frameId });\n        };\n\n        const config: SubscriptionConfig = {\n            callback: wrappedCallback,\n            action: \"removed\",\n            eventType: \"window\",\n            scope: \"frame\"\n        };\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\n        return unsubscribe;\n    }\n\n    public async onWindowLoaded(callback: (window: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> {\n        checkThrowCallback(callback);\n        const myId = getData(this).summary.id;\n\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\n            const foundParent = await getData(this).controller.getParent((parent) => {\n                return parent.id === payload.windowSummary.parentId;\n            });\n            const foundWindow = foundParent.children.find((child) => child.type === \"window\" && child.positionIndex === payload.windowSummary.config.positionIndex);\n            callback(foundWindow as Glue42Workspaces.WorkspaceWindow);\n        };\n\n        const config: SubscriptionConfig = {\n            callback: wrappedCallback,\n            action: \"loaded\",\n            eventType: \"window\",\n            scope: \"frame\"\n        };\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\n        return unsubscribe;\n    }\n}\n","import { Row } from \"../models/row\";\nimport { Column } from \"../models/column\";\nimport { Group } from \"../models/group\";\nimport { ParentPrivateData, WorkspacePrivateData, WindowPrivateData, FramePrivateData, RemapChildData, RemapWorkspaceData } from \"../types/privateData\";\nimport { Workspace } from \"../models/workspace\";\nimport { Window } from \"../models/window\";\nimport { Frame } from \"../models/frame\";\nimport { SwimlaneWindowSnapshotConfig, ParentSnapshotConfig, FrameSummaryResult } from \"../types/protocol\";\nimport { Child } from \"../types/builders\";\n\nexport class PrivateDataManager {\n    private readonly parentsData = new WeakMap<Row | Column | Group, ParentPrivateData>();\n    private readonly workspacesData = new WeakMap<Workspace, WorkspacePrivateData>();\n    private readonly windowsData = new WeakMap<Window, WindowPrivateData>();\n    private readonly framesData = new WeakMap<Frame, FramePrivateData>();\n    // Without this collection there is no way to get a window instance before its loaded\n    // e.g addWindow returns a window however this window doesn't have a placement id needed for force load\n    private readonly windowPlacementIdData: { [key: string]: Window } = {};\n\n    public deleteData<T>(model: T): void {\n        if (model instanceof Window) {\n            const keyForDeleting =\n                Object.keys(this.windowPlacementIdData)\n                    .find((k) => this.windowPlacementIdData[k] === model);\n\n            if (keyForDeleting) {\n                delete this.windowPlacementIdData[keyForDeleting];\n            }\n\n            this.windowsData.delete(model);\n        }\n\n        if (model instanceof Workspace) {\n            this.workspacesData.delete(model);\n        }\n\n        if (model instanceof Row || model instanceof Column || model instanceof Group) {\n            this.parentsData.delete(model);\n        }\n\n        if (model instanceof Frame) {\n            this.framesData.delete(model);\n        }\n    }\n\n    public setWindowData(model: Window, data: WindowPrivateData): void {\n\n        this.windowPlacementIdData[data.id] = model;\n        this.windowsData.set(model, data);\n    }\n\n    public setWorkspaceData(model: Workspace, data: WorkspacePrivateData): void {\n        this.workspacesData.set(model, data);\n    }\n\n    public setParentData(model: Row | Column | Group, data: ParentPrivateData): void {\n        this.parentsData.set(model, data);\n    }\n\n    public setFrameData(model: Frame, data: FramePrivateData): void {\n        this.framesData.set(model, data);\n    }\n\n    public getWindowData(model: Window): WindowPrivateData {\n        return this.windowsData.get(model);\n    }\n\n    public getWindowByPlacementId(placementId: string): Window {\n        return this.windowPlacementIdData[placementId];\n    }\n\n    public getWorkspaceData(model: Workspace): WorkspacePrivateData {\n        return this.workspacesData.get(model);\n    }\n\n    public getParentData(model: Row | Column | Group): ParentPrivateData {\n        return this.parentsData.get(model);\n    }\n\n    public getFrameData(model: Frame): FramePrivateData {\n        return this.framesData.get(model);\n    }\n\n    public remapChild(model: Child, newData: RemapChildData): void {\n        if (model instanceof Window) {\n            const data = this.windowsData.get(model);\n            data.parent = newData.parent || data.parent;\n            data.config = newData.config as SwimlaneWindowSnapshotConfig || data.config;\n        }\n\n        if (model instanceof Row || model instanceof Column || model instanceof Group) {\n            const data = this.parentsData.get(model);\n            data.parent = newData.parent || data.parent;\n            data.config = newData.config as ParentSnapshotConfig || data.config;\n            data.children = newData.children || data.children;\n        }\n    }\n\n    public remapFrame(model: Frame, newData: FrameSummaryResult): void {\n        const data = this.framesData.get(model);\n        data.summary = newData;\n    }\n\n    public remapWorkspace(model: Workspace, newData: RemapWorkspaceData): void {\n        const data = this.workspacesData.get(model);\n        data.frame = newData.frame || data.frame;\n        data.config = newData.config || data.config;\n        data.children = newData.children || data.children;\n    }\n}\n","import { Workspace } from \"../workspace\";\nimport { ParentBuilder } from \"../../builders/parentBuilder\";\nimport { strictParentDefinitionDecoder, swimlaneWindowDefinitionDecoder, checkThrowCallback } from \"../../shared/decoders\";\nimport { SubParent, AllParentTypes, Child, SubParentTypes, AllParent } from \"../../types/builders\";\nimport { PrivateDataManager } from \"../../shared/privateDataManager\";\nimport { ParentPrivateData, WorkspacePrivateData } from \"../../types/privateData\";\nimport { Window } from \"../../models/window\";\nimport { Glue42Workspaces } from \"../../../workspaces\";\n\ninterface PrivateData {\n    manager: PrivateDataManager;\n}\n\nconst data = new WeakMap<Base, PrivateData>();\n\nconst getData = (base: Base, model: AllParentTypes): WorkspacePrivateData | ParentPrivateData => {\n    const manager = data.get(base).manager;\n\n    if (model instanceof Workspace) {\n        return manager.getWorkspaceData(model);\n    }\n\n    return data.get(base).manager.getParentData(model);\n};\n\nconst getWindowFromPlacementId = (base: Base, placemenId: string): Window => {\n    const manager = data.get(base).manager;\n\n    return manager.getWindowByPlacementId(placemenId);\n};\n\nexport class Base {\n    public frameId: string;\n    public workspaceId: string;\n    public positionIndex: number;\n\n    constructor(dataManager: PrivateDataManager) {\n        data.set(this, { manager: dataManager });\n    }\n\n    public getId(model: AllParentTypes): string {\n        return getData(this, model).id;\n    }\n\n    public getPositionIndex(model: AllParentTypes): number {\n        return getData(this, model).config.positionIndex;\n    }\n\n    public getWorkspaceId(model: AllParentTypes): string {\n        const privateData = getData(this, model) as ParentPrivateData;\n        return privateData.config.workspaceId || privateData.workspace.id;\n    }\n\n    public getFrameId(model: AllParentTypes): string {\n        return getData(this, model).frame.id;\n    }\n\n    public getAllChildren(model: AllParentTypes, predicate?: (child: Child) => boolean): Child[] {\n        checkThrowCallback(predicate, true);\n        const children = getData(this, model).children;\n\n        if (typeof predicate === \"undefined\") {\n            return children;\n        }\n\n        return children.filter(predicate);\n    }\n\n    public getMyParent(model: AllParentTypes): AllParentTypes {\n        if (model instanceof Workspace) {\n            return;\n        }\n        return (getData(this, model) as ParentPrivateData).parent;\n    }\n\n    public getMyFrame(model: AllParentTypes): Glue42Workspaces.Frame {\n        return getData(this, model).frame;\n    }\n\n    public getMyWorkspace(model: AllParentTypes): Workspace {\n        if (model instanceof Workspace) {\n            return;\n        }\n        return (getData(this, model) as ParentPrivateData).workspace;\n    }\n\n    public async addWindow(model: AllParentTypes, definition: Glue42Workspaces.WorkspaceWindowDefinition, parentType: AllParent): Promise<Glue42Workspaces.WorkspaceWindow> {\n        if (!definition.appName && !definition.windowId) {\n            throw new Error(\"The window definition should contain either an appName or a windowId\");\n        }\n\n        const validatedDefinition = swimlaneWindowDefinitionDecoder.runWithException(definition);\n        const controller = getData(this, model).controller;\n\n        const operationResult = await controller.add(\"window\", getData(this, model).id, parentType, validatedDefinition);\n\n        if (model instanceof Workspace) {\n            await model.refreshReference();\n            return getWindowFromPlacementId(this, operationResult.itemId);\n        }\n\n        await this.getMyWorkspace(model).refreshReference();\n\n        return getWindowFromPlacementId(this, operationResult.itemId);\n    }\n\n    public async addParent<T>(model: AllParentTypes, typeToAdd: SubParent, parentType: AllParent, definition?: Glue42Workspaces.BoxDefinition | ParentBuilder): Promise<T> {\n        const parentDefinition = this.transformDefinition(typeToAdd, definition);\n        const controller = getData(this, model).controller;\n\n        const newParentId = (await controller.add(\"container\", getData(this, model).id, parentType, parentDefinition)).itemId;\n\n        if (model instanceof Workspace) {\n            await model.refreshReference();\n            return model.getBox((parent) => parent.id === newParentId) as unknown as T;\n        }\n\n        const myWorkspace = this.getMyWorkspace(model);\n        await myWorkspace.refreshReference();\n\n        return myWorkspace.getBox((parent) => parent.id === newParentId) as unknown as T;\n    }\n\n    public async removeChild(model: AllParentTypes, predicate: (child: Child) => boolean): Promise<void> {\n        checkThrowCallback(predicate);\n        const child = this.getAllChildren(model).find(predicate);\n        if (!child) {\n            return;\n        }\n\n        await child.close();\n\n        if (model instanceof Workspace) {\n\n            await model.refreshReference();\n            return;\n        }\n\n        await this.getMyWorkspace(model).refreshReference();\n    }\n\n    public async maximize(model: AllParentTypes): Promise<void> {\n        const controller = getData(this, model).controller;\n\n        await controller.maximizeItem(getData(this, model).id);\n    }\n\n    public async restore(model: AllParentTypes): Promise<void> {\n        const controller = getData(this, model).controller;\n\n        await controller.restoreItem(getData(this, model).id);\n    }\n\n    public async close(model: SubParentTypes): Promise<void> {\n        const modelData = getData(this, model) as ParentPrivateData;\n\n        const controller = getData(this, model).controller;\n\n        await controller.closeItem(modelData.id);\n\n        if (modelData.parent instanceof Workspace) {\n            await modelData.parent.refreshReference();\n        } else {\n            await this.getMyWorkspace(modelData.parent).refreshReference();\n        }\n    }\n\n    private transformDefinition(type: \"group\" | \"row\" | \"column\", definition?: Glue42Workspaces.BoxDefinition | ParentBuilder): Glue42Workspaces.BoxDefinition {\n        let parentDefinition: Glue42Workspaces.BoxDefinition;\n\n        if (typeof definition === \"undefined\") {\n            parentDefinition = { type, children: [] };\n        } else if (definition instanceof ParentBuilder) {\n            parentDefinition = definition.serialize();\n        } else {\n            if (typeof definition.type === \"undefined\") {\n                definition.type = type;\n            }\n            parentDefinition = strictParentDefinitionDecoder.runWithException(definition);\n            parentDefinition.children = parentDefinition.children || [];\n        }\n\n        return parentDefinition;\n    }\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Workspace } from \"../models/workspace\";\r\nimport { WorkspaceSnapshotResult, WorkspaceCreateConfigProtocol, FrameSummaryResult, AddItemResult, WorkspaceSummariesResult, WorkspaceSummaryResult, SimpleWindowOperationSuccessResult, FrameSnapshotResult, SwimlaneWindowSnapshotConfig, ParentSnapshotConfig } from \"../types/protocol\";\r\nimport { OPERATIONS } from \"../communication/constants\";\r\nimport { FrameCreateConfig, WorkspaceIoCCreateConfig, WindowCreateConfig, ParentCreateConfig } from \"../types/ioc\";\r\nimport { IoC } from \"../shared/ioc\";\r\nimport { Bridge } from \"../communication/bridge\";\r\nimport { GDWindow, WindowsAPI, ContextsAPI, LayoutsAPI } from \"../types/glue\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { Frame } from \"../models/frame\";\r\nimport { RefreshChildrenConfig } from \"../types/privateData\";\r\nimport { Child } from \"../types/builders\";\r\nimport { PrivateDataManager } from \"../shared/privateDataManager\";\r\nimport { Window } from \"../models/window\";\r\nimport { UnsubscribeFunction } from \"callback-registry\";\r\n\r\nexport class BaseController {\r\n\r\n    constructor(\r\n        private readonly ioc: IoC,\r\n        private readonly windows: WindowsAPI,\r\n        private readonly contexts: ContextsAPI,\r\n        private readonly layouts: LayoutsAPI,\r\n    ) { }\r\n\r\n    private get bridge(): Bridge {\r\n        return this.ioc.bridge;\r\n    }\r\n\r\n    private get privateDataManager(): PrivateDataManager {\r\n        return this.ioc.privateDataManager;\r\n    }\r\n\r\n    public checkIsWindowLoaded(windowId: string): boolean {\r\n        return windowId && this.windows.list().some((win) => win.id === windowId);\r\n    }\r\n\r\n    public async createWorkspace(createConfig: WorkspaceCreateConfigProtocol): Promise<Workspace> {\r\n        const snapshot = await this.bridge.send<WorkspaceSnapshotResult>(OPERATIONS.createWorkspace.name, createConfig);\r\n\r\n        const frameConfig: FrameCreateConfig = {\r\n            summary: snapshot.frameSummary\r\n        };\r\n        const frame = this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n        const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n        return this.ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n    }\r\n\r\n    public async restoreWorkspace(name: string, options: Glue42Workspaces.RestoreWorkspaceConfig): Promise<Workspace> {\r\n        const snapshot = await this.bridge.send<WorkspaceSnapshotResult>(OPERATIONS.openWorkspace.name, { name, restoreOptions: options });\r\n\r\n        const frameSummary = await this.bridge.send<FrameSummaryResult>(OPERATIONS.getFrameSummary.name, { itemId: snapshot.config.frameId });\r\n\r\n        const frameConfig: FrameCreateConfig = {\r\n            summary: frameSummary\r\n        };\r\n        const frame = this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n        const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n        return this.ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n    }\r\n\r\n    public async add(type: \"container\" | \"window\", parentId: string, parentType: \"row\" | \"column\" | \"group\" | \"workspace\", definition: Glue42Workspaces.WorkspaceWindowDefinition | Glue42Workspaces.BoxDefinition): Promise<AddItemResult> {\r\n        let operationName: string;\r\n        const operationArgs = { definition, parentId, parentType };\r\n\r\n        if (type === \"window\") {\r\n            operationName = OPERATIONS.addWindow.name;\r\n        } else if (type === \"container\") {\r\n            operationName = OPERATIONS.addContainer.name;\r\n        } else {\r\n            throw new Error(`Unrecognized add type: ${type}`);\r\n        }\r\n\r\n        return await this.bridge.send<AddItemResult>(operationName, operationArgs);\r\n    }\r\n\r\n    public async getFrame(windowId: string): Promise<Frame> {\r\n        const frameSummary = await this.bridge.send<FrameSummaryResult>(OPERATIONS.getFrameSummary.name, { itemId: windowId });\r\n\r\n        const frameConfig: FrameCreateConfig = {\r\n            summary: frameSummary\r\n        };\r\n        return this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n    }\r\n\r\n    public getFrames(allFrameSummaries: FrameSummaryResult[], predicate?: (frame: Frame) => boolean): Frame[] {\r\n\r\n        return allFrameSummaries.reduce<Frame[]>((frames, frameSummary) => {\r\n\r\n            const frameConfig: FrameCreateConfig = {\r\n                summary: frameSummary\r\n            };\r\n            const frameToCheck = this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n            if (!predicate || predicate(frameToCheck)) {\r\n                frames.push(frameToCheck);\r\n            }\r\n\r\n            return frames;\r\n        }, []);\r\n    }\r\n\r\n    public getAllWorkspaceSummaries(...bridgeResults: WorkspaceSummariesResult[]): Glue42Workspaces.WorkspaceSummary[] {\r\n\r\n        const allSummaries = bridgeResults.reduce<WorkspaceSummaryResult[]>((summaries, summaryResult) => {\r\n            summaries.push(...summaryResult.summaries);\r\n            return summaries;\r\n        }, []);\r\n\r\n        return allSummaries.map<Glue42Workspaces.WorkspaceSummary>((summary) => {\r\n            return {\r\n                id: summary.id,\r\n                frameId: summary.config.frameId,\r\n                positionIndex: summary.config.positionIndex,\r\n                title: summary.config.title,\r\n                layoutName: summary.config.layoutName\r\n            };\r\n        });\r\n    }\r\n\r\n    public handleOnSaved(callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): UnsubscribeFunction {\r\n        const wrappedCallback = (layout: Glue42Workspaces.WorkspaceLayout): void => {\r\n            if (layout.type !== \"Workspace\") {\r\n                return;\r\n            }\r\n\r\n            callback(layout);\r\n        };\r\n\r\n        const addedUnSub: UnsubscribeFunction = this.layouts.onAdded(wrappedCallback);\r\n        const changedUnSub: UnsubscribeFunction = this.layouts.onChanged(wrappedCallback);\r\n\r\n        return (): void => {\r\n            addedUnSub();\r\n            changedUnSub();\r\n        };\r\n    }\r\n\r\n    public handleOnRemoved(callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): UnsubscribeFunction {\r\n        const wrappedCallback = (layout: Glue42Workspaces.WorkspaceLayout): void => {\r\n            if (layout.type !== \"Workspace\") {\r\n                return;\r\n            }\r\n\r\n            callback(layout);\r\n        };\r\n\r\n        return this.layouts.onRemoved(wrappedCallback);\r\n    }\r\n\r\n    public async fetchWorkspace(workspaceId: string): Promise<Workspace> {\r\n\r\n        const snapshot = await this.bridge.send<WorkspaceSnapshotResult>(OPERATIONS.getWorkspaceSnapshot.name, { itemId: workspaceId });\r\n\r\n        const frameConfig: FrameCreateConfig = {\r\n            summary: snapshot.frameSummary\r\n        };\r\n\r\n        const frame = this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n        const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n        return this.ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n\r\n    }\r\n\r\n    public async bundleTo(type: \"row\" | \"column\", workspaceId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.bundleWorkspace.name, { type, workspaceId });\r\n    }\r\n\r\n    public getWorkspaceContext(workspaceId: string): Promise<any> {\r\n        const contextName = `___workspace___${workspaceId}`;\r\n        return this.contexts.get(contextName);\r\n    }\r\n\r\n    public setWorkspaceContext(workspaceId: string, data: any): Promise<void> {\r\n        const contextName = `___workspace___${workspaceId}`;\r\n        return this.contexts.set(contextName, data);\r\n    }\r\n\r\n    public updateWorkspaceContext(workspaceId: string, data: any): Promise<void> {\r\n        const contextName = `___workspace___${workspaceId}`;\r\n        return this.contexts.update(contextName, data);\r\n    }\r\n\r\n    public subscribeWorkspaceContextUpdated(workspaceId: string, callback: (data: any) => void): Promise<UnsubscribeFunction> {\r\n        const contextName = `___workspace___${workspaceId}`;\r\n        return this.contexts.subscribe(contextName, callback);\r\n    }\r\n\r\n    public async restoreItem(itemId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.restoreItem.name, { itemId });\r\n    }\r\n\r\n    public async maximizeItem(itemId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.maximizeItem.name, { itemId });\r\n    }\r\n\r\n    public async focusItem(itemId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.focusItem.name, { itemId });\r\n    }\r\n\r\n    public async closeItem(itemId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.closeItem.name, { itemId });\r\n    }\r\n\r\n    public async resizeItem(itemId: string, config: Glue42Workspaces.ResizeConfig): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.resizeItem.name, Object.assign({}, { itemId }, config));\r\n    }\r\n\r\n    public async moveFrame(itemId: string, config: Glue42Workspaces.MoveConfig): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.moveFrame.name, Object.assign({}, { itemId }, config));\r\n    }\r\n\r\n    public getGDWindow(itemId: string): GDWindow {\r\n        return this.windows.list().find((gdWindow) => gdWindow.id === itemId);\r\n    }\r\n\r\n    public async forceLoadWindow(itemId: string): Promise<string> {\r\n        const controlResult = await this.bridge.send<SimpleWindowOperationSuccessResult>(OPERATIONS.forceLoadWindow.name, { itemId });\r\n\r\n        return controlResult.windowId;\r\n    }\r\n\r\n    public async ejectWindow(itemId: string): Promise<SimpleWindowOperationSuccessResult> {\r\n        return await this.bridge.send<SimpleWindowOperationSuccessResult>(OPERATIONS.ejectWindow.name, { itemId });\r\n    }\r\n\r\n    public async moveWindowTo(itemId: string, newParentId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.moveWindowTo.name, { itemId, containerId: newParentId });\r\n    }\r\n\r\n    public async getSnapshot(itemId: string, type: \"workspace\" | \"frame\"): Promise<WorkspaceSnapshotResult | FrameSnapshotResult> {\r\n        let result: WorkspaceSnapshotResult | FrameSnapshotResult;\r\n\r\n        if (type === \"workspace\") {\r\n            result = await this.bridge.send<WorkspaceSnapshotResult>(OPERATIONS.getWorkspaceSnapshot.name, { itemId });\r\n        } else if (type === \"frame\") {\r\n            result = await this.bridge.send<FrameSnapshotResult>(OPERATIONS.getFrameSnapshot.name, { itemId });\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    public async setItemTitle(itemId: string, title: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.setItemTitle.name, { itemId, title });\r\n    }\r\n\r\n    public refreshChildren(config: RefreshChildrenConfig): Child[] {\r\n        const { parent, children, existingChildren, workspace } = config;\r\n        if (parent instanceof Window) {\r\n            return;\r\n        }\r\n\r\n        const newChildren = children.map((newChildSnapshot) => {\r\n            let childToAdd = existingChildren.find((c) => c.id === newChildSnapshot.id);\r\n            const childType = newChildSnapshot.type;\r\n\r\n            if (childToAdd) {\r\n                this.privateDataManager.remapChild(childToAdd, {\r\n                    parent,\r\n                    children: [],\r\n                    config: newChildSnapshot.config\r\n                });\r\n            } else {\r\n                if (childType === \"window\") {\r\n                    const createConfig: WindowCreateConfig = {\r\n                        id: newChildSnapshot.id,\r\n                        parent,\r\n                        frame: workspace.frame,\r\n                        workspace,\r\n                        config: newChildSnapshot.config as SwimlaneWindowSnapshotConfig\r\n                    };\r\n                    childToAdd = this.ioc.getModel<\"child\">(childType, createConfig);\r\n                } else {\r\n                    const createConfig: ParentCreateConfig = {\r\n                        id: newChildSnapshot.id,\r\n                        children: [],\r\n                        parent,\r\n                        frame: workspace.frame,\r\n                        workspace,\r\n                        config: newChildSnapshot.config as ParentSnapshotConfig\r\n                    };\r\n                    childToAdd = this.ioc.getModel<\"child\">(childType, createConfig);\r\n                }\r\n\r\n            }\r\n\r\n            if (childType !== \"window\") {\r\n                this.refreshChildren({\r\n                    workspace, existingChildren,\r\n                    children: newChildSnapshot.children,\r\n                    parent: childToAdd\r\n                });\r\n            }\r\n\r\n            return childToAdd;\r\n        });\r\n\r\n        if (parent instanceof Workspace) {\r\n            return newChildren;\r\n        } else {\r\n            this.privateDataManager.remapChild(parent, { children: newChildren });\r\n            return newChildren;\r\n        }\r\n    }\r\n\r\n    public iterateFindChild(children: Child[], predicate: (child: Child) => boolean): Child {\r\n        let foundChild = children.find((child) => predicate(child));\r\n\r\n        if (foundChild) {\r\n            return foundChild;\r\n        }\r\n\r\n        children.some((child) => {\r\n            if (child instanceof Window) {\r\n                return false;\r\n            }\r\n\r\n            foundChild = this.iterateFindChild(child.children, predicate);\r\n\r\n            if (foundChild) {\r\n                return true;\r\n            }\r\n        });\r\n\r\n        return foundChild;\r\n    }\r\n\r\n    public iterateFilterChildren(children: Child[], predicate: (child: Child) => boolean): Child[] {\r\n        const foundChildren = children.filter((child) => predicate(child));\r\n\r\n        const grandChildren = children.reduce<Child[]>((innerFound, child) => {\r\n            if (child instanceof Window) {\r\n                return innerFound;\r\n            }\r\n\r\n            innerFound.push(...this.iterateFilterChildren(child.children, predicate));\r\n\r\n            return innerFound;\r\n        }, []);\r\n\r\n        foundChildren.push(...grandChildren);\r\n\r\n        return foundChildren;\r\n    }\r\n\r\n    public notifyWindowAdded(windowId: string): Promise<void> {\r\n        return new Promise((resolve) => {\r\n\r\n            const alreadyPresent: boolean = this.windows.list().some((win) => win.id === windowId);\r\n\r\n            if (alreadyPresent) {\r\n                return resolve();\r\n            }\r\n\r\n            const unsubscribe: UnsubscribeFunction = this.windows.onWindowAdded((win) => {\r\n\r\n                if (win.id !== windowId) {\r\n                    return;\r\n                }\r\n\r\n                if (unsubscribe) {\r\n                    unsubscribe();\r\n                }\r\n\r\n                resolve();\r\n            });\r\n        });\r\n    }\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { Bridge } from \"../communication/bridge\";\nimport { IsWindowInSwimlaneResult, WorkspaceCreateConfigProtocol, WorkspaceSnapshotResult, FrameSummariesResult, WorkspaceSummariesResult, LayoutSummariesResult, ExportedLayoutsResult, FrameSnapshotResult, AddItemResult, WindowStreamData, FrameStateResult } from \"../types/protocol\";\nimport { OPERATIONS } from \"../communication/constants\";\nimport { SubscriptionConfig, WorkspaceEventType, WorkspaceEventAction } from \"../types/subscription\";\nimport { Workspace } from \"../models/workspace\";\nimport { Frame } from \"../models/frame\";\nimport { Child } from \"../types/builders\";\nimport { RefreshChildrenConfig } from \"../types/privateData\";\nimport { Glue42Workspaces } from \"../../workspaces\";\nimport { WorkspacesController } from \"../types/controller\";\nimport { GDWindow } from \"../types/glue\";\nimport { BaseController } from \"./base\";\nimport { UnsubscribeFunction } from \"callback-registry\";\n\nexport class MainController implements WorkspacesController {\n\n    constructor(\n        private readonly bridge: Bridge,\n        private readonly base: BaseController\n    ) { }\n\n    public checkIsWindowLoaded(windowId: string): boolean {\n        return this.base.checkIsWindowLoaded(windowId);\n    }\n\n    public async checkIsInSwimlane(windowId: string): Promise<boolean> {\n\n        const controlResult = await this.bridge.send<IsWindowInSwimlaneResult>(OPERATIONS.isWindowInWorkspace.name, { itemId: windowId });\n\n        return controlResult.inWorkspace;\n    }\n\n    public async createWorkspace(definition: Glue42Workspaces.WorkspaceDefinition, saveConfig?: Glue42Workspaces.WorkspaceCreateConfig): Promise<Workspace> {\n        const createConfig: WorkspaceCreateConfigProtocol = Object.assign({}, definition, { saveConfig });\n\n        return await this.base.createWorkspace(createConfig);\n    }\n\n    public async restoreWorkspace(name: string, options?: Glue42Workspaces.RestoreWorkspaceConfig): Promise<Workspace> {\n        const allLayouts = await this.getLayoutSummaries();\n\n        const layoutExists = allLayouts.some((summary) => summary.name === name);\n\n        if (!layoutExists) {\n            throw new Error(`This layout: ${name} cannot be restored, because it doesn't exist.`);\n        }\n\n        if (options?.frameId) {\n            const allFrameSummaries = await this.bridge.send<FrameSummariesResult>(OPERATIONS.getAllFramesSummaries.name);\n\n            const foundMatchingFrame = allFrameSummaries.summaries.some((summary) => summary.id === options.frameId);\n\n            if (!foundMatchingFrame) {\n                throw new Error(`Cannot reuse the frame with id: ${options.frameId}, because there is no frame with that ID found`);\n            }\n        }\n\n        return await this.base.restoreWorkspace(name, options);\n    }\n\n    public async add(type: \"container\" | \"window\", parentId: string, parentType: \"row\" | \"column\" | \"group\" | \"workspace\", definition: Glue42Workspaces.WorkspaceWindowDefinition | Glue42Workspaces.BoxDefinition): Promise<AddItemResult> {\n        return await this.base.add(type, parentId, parentType, definition);\n    }\n\n    public processLocalSubscription(config: SubscriptionConfig, levelId: string): Promise<Glue42Workspaces.Unsubscribe> {\n        return window.glue42gd ?\n            this.handleEnterpriseLocalSubscription(config, levelId) :\n            this.handleCoreLocalSubscription(config, levelId);\n    }\n\n    public processGlobalSubscription(callback: (callbackData: unknown) => void, eventType: WorkspaceEventType, action: WorkspaceEventAction): Promise<Glue42Workspaces.Unsubscribe> {\n        return window.glue42gd ?\n            this.handleEnterpriseGlobalSubscription(callback, eventType, action) :\n            this.handleCoreGlobalSubscription(callback, eventType, action);\n    }\n\n    public async getFrame(selector: { windowId?: string; predicate?: (frame: Frame) => boolean }): Promise<Frame> {\n\n        if (selector.windowId) {\n            return await this.base.getFrame(selector.windowId);\n        }\n\n        if (selector.predicate) {\n            return (await this.getFrames(selector.predicate))[0];\n        }\n\n        throw new Error(`The provided selector is not valid: ${JSON.stringify(selector)}`);\n    }\n\n    public async getFrames(predicate?: (frame: Frame) => boolean): Promise<Frame[]> {\n\n        const allFrameSummaries = await this.bridge.send<FrameSummariesResult>(OPERATIONS.getAllFramesSummaries.name);\n\n        return this.base.getFrames(allFrameSummaries.summaries, predicate);\n    }\n\n    public async getWorkspace(predicate: (workspace: Workspace) => boolean): Promise<Workspace> {\n        let foundWorkspace: Workspace;\n\n        await this.iterateWorkspaces((wsp, end) => {\n            if (predicate(wsp)) {\n                foundWorkspace = wsp;\n                end();\n            }\n        });\n\n        return foundWorkspace;\n    }\n\n    public async getWorkspaces(predicate?: (workspace: Workspace) => boolean): Promise<Workspace[]> {\n        const matchingWorkspaces: Workspace[] = [] as Workspace[];\n\n        await this.iterateWorkspaces((wsp) => {\n            if (!predicate || predicate(wsp)) {\n                matchingWorkspaces.push(wsp);\n            }\n        });\n\n        return matchingWorkspaces;\n    }\n\n    public async getAllWorkspaceSummaries(): Promise<Glue42Workspaces.WorkspaceSummary[]> {\n\n        const allSummariesResult = await this.bridge.send<WorkspaceSummariesResult>(OPERATIONS.getAllWorkspacesSummaries.name, {});\n\n        return this.base.getAllWorkspaceSummaries(allSummariesResult);\n    }\n\n    public async getWindow(predicate: (swimlaneWindow: Glue42Workspaces.WorkspaceWindow) => boolean): Promise<Glue42Workspaces.WorkspaceWindow> {\n        let resultWindow: Glue42Workspaces.WorkspaceWindow;\n\n        await this.iterateWorkspaces((wsp, end) => {\n            const foundWindow = wsp.getWindow(predicate);\n\n            if (foundWindow) {\n                resultWindow = foundWindow;\n                end();\n            }\n        });\n\n        return resultWindow;\n    }\n\n    public async getParent(predicate: (parent: Glue42Workspaces.WorkspaceBox) => boolean): Promise<Glue42Workspaces.WorkspaceBox> {\n        let resultParent: Glue42Workspaces.WorkspaceBox;\n\n        await this.iterateWorkspaces((wsp, end) => {\n\n            const foundParent = wsp.getBox(predicate);\n\n            if (foundParent) {\n                resultParent = foundParent;\n                end();\n            }\n        });\n\n        return resultParent;\n    }\n\n    public async getLayoutSummaries(): Promise<Glue42Workspaces.WorkspaceLayoutSummary[]> {\n        const allLayouts = await this.bridge.send<LayoutSummariesResult>(OPERATIONS.getAllLayoutsSummaries.name);\n        return allLayouts.summaries;\n    }\n\n    public async deleteLayout(name: string): Promise<void> {\n        await this.bridge.send(OPERATIONS.deleteLayout.name, { name });\n    }\n\n    public async exportLayout(predicate?: (layout: Glue42Workspaces.WorkspaceLayout) => boolean): Promise<Glue42Workspaces.WorkspaceLayout[]> {\n        const allLayoutsResult = await this.bridge.send<ExportedLayoutsResult>(OPERATIONS.exportAllLayouts.name);\n        return allLayoutsResult.layouts.reduce<Glue42Workspaces.WorkspaceLayout[]>((matchingLayouts, layout) => {\n\n            if (!predicate || predicate(layout)) {\n                matchingLayouts.push(layout);\n            }\n\n            return matchingLayouts;\n        }, []);\n    }\n\n    public async saveLayout(config: Glue42Workspaces.WorkspaceLayoutSaveConfig): Promise<Glue42Workspaces.WorkspaceLayout> {\n        return await this.bridge.send(OPERATIONS.saveLayout.name, config);\n    }\n\n    public async importLayout(layouts: Glue42Workspaces.WorkspaceLayout[]): Promise<void> {\n        await Promise.all(layouts.map((layout) => this.bridge.send(OPERATIONS.importLayout.name, layout)));\n    }\n\n    public handleOnSaved(callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): UnsubscribeFunction {\n        return this.base.handleOnSaved(callback);\n    }\n\n    public handleOnRemoved(callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): UnsubscribeFunction {\n        return this.base.handleOnRemoved(callback);\n    }\n\n    public async bundleTo(type: \"row\" | \"column\", workspaceId: string): Promise<void> {\n        return await this.base.bundleTo(type, workspaceId);\n    }\n\n    public getWorkspaceContext(workspaceId: string): Promise<any> {\n        return this.base.getWorkspaceContext(workspaceId);\n    }\n\n    public setWorkspaceContext(workspaceId: string, data: any): Promise<void> {\n        return this.base.setWorkspaceContext(workspaceId, data);\n    }\n\n    public updateWorkspaceContext(workspaceId: string, data: any): Promise<void> {\n        return this.base.updateWorkspaceContext(workspaceId, data);\n    }\n\n    public subscribeWorkspaceContextUpdated(workspaceId: string, callback: (data: any) => void): Promise<import(\"callback-registry\").UnsubscribeFunction> {\n        return this.base.subscribeWorkspaceContextUpdated(workspaceId, callback);\n    }\n\n    public async restoreItem(itemId: string): Promise<void> {\n        return await this.base.restoreItem(itemId);\n    }\n\n    public async maximizeItem(itemId: string): Promise<void> {\n        return await this.base.maximizeItem(itemId);\n    }\n\n    public async focusItem(itemId: string): Promise<void> {\n        return await this.base.focusItem(itemId);\n    }\n\n    public async changeFrameState(frameId: string, state: Glue42Workspaces.FrameState): Promise<void> {\n        await this.bridge.send<void>(OPERATIONS.changeFrameState.name, { frameId, requestedState: state });\n    }\n\n    public async getFrameState(frameId: string): Promise<Glue42Workspaces.FrameState> {\n        const frameResult = await this.bridge.send<FrameStateResult>(OPERATIONS.getFrameState.name, { itemId: frameId });\n        return frameResult.state;\n    }\n\n    public async closeItem(itemId: string): Promise<void> {\n        return await this.base.closeItem(itemId);\n    }\n\n    public async resizeItem(itemId: string, config: Glue42Workspaces.ResizeConfig): Promise<void> {\n        return await this.base.resizeItem(itemId, config);\n    }\n\n    public async moveFrame(itemId: string, config: Glue42Workspaces.MoveConfig): Promise<void> {\n        return await this.base.moveFrame(itemId, config);\n    }\n\n    public getGDWindow(itemId: string): GDWindow {\n        return this.base.getGDWindow(itemId);\n    }\n\n    public async forceLoadWindow(itemId: string): Promise<string> {\n        const windowId = await this.base.forceLoadWindow(itemId);\n\n        await this.base.notifyWindowAdded(windowId);\n\n        return windowId;\n    }\n\n    public async ejectWindow(itemId: string): Promise<string> {\n        const windowId: string = (await this.base.ejectWindow(itemId)).windowId;\n\n        await this.base.notifyWindowAdded(windowId);\n\n        return windowId;\n    }\n\n    public async moveWindowTo(itemId: string, newParentId: string): Promise<void> {\n        return await this.base.moveWindowTo(itemId, newParentId);\n    }\n\n    public async getSnapshot(itemId: string, type: \"workspace\" | \"frame\"): Promise<WorkspaceSnapshotResult | FrameSnapshotResult> {\n        return await this.base.getSnapshot(itemId, type);\n    }\n\n    public async setItemTitle(itemId: string, title: string): Promise<void> {\n        return await this.base.setItemTitle(itemId, title);\n    }\n\n    public refreshChildren(config: RefreshChildrenConfig): Child[] {\n        return this.base.refreshChildren(config);\n    }\n\n    public iterateFindChild(children: Child[], predicate: (child: Child) => boolean): Child {\n        return this.base.iterateFindChild(children, predicate);\n    }\n\n    public iterateFilterChildren(children: Child[], predicate: (child: Child) => boolean): Child[] {\n        return this.base.iterateFilterChildren(children, predicate);\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    private async handleCoreLocalSubscription(config: SubscriptionConfig, levelId: string): Promise<Glue42Workspaces.Unsubscribe> {\n        await this.bridge.createCoreEventSubscription();\n\n        config.scopeId = config.scopeId || levelId;\n\n        if (config.eventType === \"window\" && config.action === \"loaded\") {\n            const originalCB = config.callback;\n\n            const wrappedCB = async (callbackData: WindowStreamData): Promise<void> => {\n\n                await this.base.notifyWindowAdded(callbackData.windowSummary.config.windowId);\n\n                originalCB(callbackData);\n            };\n\n            config.callback = wrappedCB;\n        }\n\n        return this.bridge.handleCoreSubscription(config);\n    }\n\n    private handleEnterpriseLocalSubscription(config: SubscriptionConfig, levelId: string): Promise<Glue42Workspaces.Unsubscribe> {\n        config.scopeId = config.scopeId || levelId;\n\n        if (config.eventType === \"window\" && config.action === \"loaded\") {\n            const originalCB = config.callback;\n\n            const wrappedCB = async (callbackData: WindowStreamData): Promise<void> => {\n                await this.base.notifyWindowAdded(callbackData.windowSummary.config.windowId);\n                originalCB(callbackData);\n            };\n\n            config.callback = wrappedCB;\n        }\n\n        return this.bridge.subscribe(config);\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    private async handleCoreGlobalSubscription(callback: (callbackData: unknown) => void, eventType: WorkspaceEventType, action: WorkspaceEventAction): Promise<Glue42Workspaces.Unsubscribe> {\n        await this.bridge.createCoreEventSubscription();\n\n        const config: SubscriptionConfig = {\n            eventType, callback, action,\n            scope: \"global\",\n        };\n\n        if (eventType === \"window\" && action === \"loaded\") {\n            const wrappedCB = async (callbackData: WindowStreamData): Promise<void> => {\n\n                await this.base.notifyWindowAdded(callbackData.windowSummary.config.windowId);\n\n                callback(callbackData);\n            };\n\n            config.callback = wrappedCB;\n        }\n\n        return this.bridge.handleCoreSubscription(config);\n    }\n\n    private handleEnterpriseGlobalSubscription(callback: (callbackData: unknown) => void, eventType: WorkspaceEventType, action: WorkspaceEventAction): Promise<Glue42Workspaces.Unsubscribe> {\n        const config: SubscriptionConfig = {\n            eventType, callback, action,\n            scope: \"global\",\n        };\n\n        if (eventType === \"window\" && action === \"loaded\") {\n            const wrappedCB = async (callbackData: WindowStreamData): Promise<void> => {\n\n                await this.base.notifyWindowAdded(callbackData.windowSummary.config.windowId);\n\n                callback(callbackData);\n            };\n\n            config.callback = wrappedCB;\n        }\n\n        return this.bridge.subscribe(config);\n    }\n\n    private async iterateWorkspaces(callback: (workspace: Workspace, end: () => void) => void): Promise<void> {\n        let ended = false;\n\n        const end = (): void => { ended = true; };\n\n        const workspaceSummaries = await this.getAllWorkspaceSummaries();\n\n        for (const summary of workspaceSummaries) {\n            if (ended) {\n                return;\n            }\n\n            const wsp = await this.base.fetchWorkspace(summary.id);\n\n            callback(wsp, end);\n        }\n    }\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { IoC } from \"./shared/ioc\";\nimport { checkThrowCallback, nonEmptyStringDecoder, workspaceLayoutDecoder, workspaceDefinitionDecoder, workspaceBuilderCreateConfigDecoder, builderConfigDecoder, restoreWorkspaceConfigDecoder, workspaceLayoutSaveConfigDecoder } from \"./shared/decoders\";\nimport { FrameStreamData, WorkspaceStreamData, WorkspaceSnapshotResult, WindowStreamData } from \"./types/protocol\";\nimport { FrameCreateConfig, WorkspaceIoCCreateConfig } from \"./types/ioc\";\nimport { Glue42Workspaces } from \"./../workspaces\";\nimport { WorkspacesController } from \"./types/controller\";\n\nexport const composeAPI = (glue: any, ioc: IoC): Glue42Workspaces.API => {\n\n    const controller: WorkspacesController = ioc.controller;\n\n    const inWorkspace = (): Promise<boolean> => {\n        const myId: string = glue.windows.my().id;\n\n        if (!myId) {\n            throw new Error(\"Cannot get my frame, because my id is undefined.\");\n        }\n\n        return controller.checkIsInSwimlane(myId);\n    };\n\n    const getBuilder = (config: Glue42Workspaces.BuilderConfig): Glue42Workspaces.WorkspaceBuilder | Glue42Workspaces.BoxBuilder => {\n        const validatedConfig = builderConfigDecoder.runWithException(config);\n\n        return ioc.getBuilder(validatedConfig);\n    };\n\n    const getMyFrame = async (): Promise<Glue42Workspaces.Frame> => {\n        const windowId: string = glue.windows.my().id;\n\n        if (!windowId) {\n            throw new Error(\"Cannot get my frame, because my id is undefined.\");\n        }\n\n        const isInSwimlane = await controller.checkIsInSwimlane(windowId);\n\n        if (!isInSwimlane) {\n            throw new Error(\"Cannot fetch your frame, because this window is not in a workspace\");\n        }\n\n        return controller.getFrame({ windowId });\n    };\n\n    const getFrame = async (predicate: (frame: Glue42Workspaces.Frame) => boolean): Promise<Glue42Workspaces.Frame> => {\n        checkThrowCallback(predicate);\n\n        return controller.getFrame({ predicate });\n    };\n\n    const getAllFrames = async (predicate?: (frame: Glue42Workspaces.Frame) => boolean): Promise<Glue42Workspaces.Frame[]> => {\n        checkThrowCallback(predicate, true);\n\n        return controller.getFrames(predicate);\n    };\n\n    const getAllWorkspacesSummaries = (): Promise<Glue42Workspaces.WorkspaceSummary[]> => {\n        return controller.getAllWorkspaceSummaries();\n    };\n\n    const getMyWorkspace = async (): Promise<Glue42Workspaces.Workspace> => {\n        const myId: string = glue.windows.my().id;\n\n        if (!myId) {\n            throw new Error(\"Cannot get my workspace, because my id is undefined.\");\n        }\n\n        const isInSwimlane = await controller.checkIsInSwimlane(myId);\n\n        if (!isInSwimlane) {\n            throw new Error(\"Cannot fetch your workspace, because this window is not in a workspace\");\n        }\n\n        return (await controller.getWorkspaces((wsp) => !!wsp.getWindow((w) => w.id === myId)))[0];\n    };\n\n    const getWorkspace = async (predicate: (workspace: Glue42Workspaces.Workspace) => boolean): Promise<Glue42Workspaces.Workspace> => {\n        checkThrowCallback(predicate);\n        return (await controller.getWorkspaces(predicate))[0];\n    };\n\n    const getAllWorkspaces = (predicate?: (workspace: Glue42Workspaces.Workspace) => boolean): Promise<Glue42Workspaces.Workspace[]> => {\n        checkThrowCallback(predicate, true);\n        return controller.getWorkspaces(predicate);\n    };\n\n    const getWindow = async (predicate: (swimlaneWindow: Glue42Workspaces.WorkspaceWindow) => boolean): Promise<Glue42Workspaces.WorkspaceWindow> => {\n        checkThrowCallback(predicate);\n        return controller.getWindow(predicate);\n    };\n\n    const getParent = async (predicate: (parent: Glue42Workspaces.WorkspaceBox) => boolean): Promise<Glue42Workspaces.WorkspaceBox> => {\n        checkThrowCallback(predicate);\n        return controller.getParent(predicate);\n    };\n\n    const restoreWorkspace = async (name: string, options?: Glue42Workspaces.RestoreWorkspaceConfig): Promise<Glue42Workspaces.Workspace> => {\n        nonEmptyStringDecoder.runWithException(name);\n        const validatedOptions = restoreWorkspaceConfigDecoder.runWithException(options);\n        return controller.restoreWorkspace(name, validatedOptions);\n    };\n\n    const createWorkspace = async (definition: Glue42Workspaces.WorkspaceDefinition, saveConfig?: Glue42Workspaces.WorkspaceCreateConfig): Promise<Glue42Workspaces.Workspace> => {\n        const validatedDefinition = workspaceDefinitionDecoder.runWithException(definition);\n        const validatedConfig = workspaceBuilderCreateConfigDecoder.runWithException(saveConfig);\n\n        return controller.createWorkspace(validatedDefinition, validatedConfig);\n    };\n\n    const layouts = {\n        getSummaries: (): Promise<Glue42Workspaces.WorkspaceLayoutSummary[]> => {\n            return controller.getLayoutSummaries();\n        },\n        delete: async (name: string): Promise<void> => {\n            nonEmptyStringDecoder.runWithException(name);\n            return controller.deleteLayout(name);\n        },\n        export: async (predicate?: (layout: Glue42Workspaces.WorkspaceLayout) => boolean): Promise<Glue42Workspaces.WorkspaceLayout[]> => {\n            checkThrowCallback(predicate, true);\n            return controller.exportLayout(predicate);\n        },\n        import: async (layouts: Glue42Workspaces.WorkspaceLayout[]): Promise<void> => {\n\n            if (!Array.isArray(layouts)) {\n                throw new Error(`The provided layouts argument is not an array: ${JSON.stringify(layouts)}`);\n            }\n\n            layouts.forEach((layout) => workspaceLayoutDecoder.runWithException(layout));\n            return controller.importLayout(layouts);\n        },\n        save: async (config: Glue42Workspaces.WorkspaceLayoutSaveConfig): Promise<Glue42Workspaces.WorkspaceLayout> => {\n            const verifiedConfig = workspaceLayoutSaveConfigDecoder.runWithException(config);\n            return controller.saveLayout(verifiedConfig);\n        },\n        onSaved: async (callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): Promise<Glue42Workspaces.Unsubscribe> => {\n            checkThrowCallback(callback);\n\n            return controller.handleOnSaved(callback);\n        },\n        onRemoved: async (callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): Promise<Glue42Workspaces.Unsubscribe> => {\n            checkThrowCallback(callback);\n\n            return controller.handleOnRemoved(callback);\n        }\n    };\n\n    const onFrameOpened = async (callback: (frame: Glue42Workspaces.Frame) => void): Promise<Glue42Workspaces.Unsubscribe> => {\n        checkThrowCallback(callback);\n\n        const wrappedCallback = (payload: FrameStreamData): void => {\n            const frameConfig: FrameCreateConfig = {\n                summary: payload.frameSummary\n            };\n            const frame = ioc.getModel<\"frame\">(\"frame\", frameConfig);\n            callback(frame);\n        };\n\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"frame\", \"opened\");\n        return unsubscribe;\n    };\n\n    const onFrameClosed = async (callback: (closed: { frameId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> => {\n        checkThrowCallback(callback);\n        const wrappedCallback = (payload: FrameStreamData): void => {\n            callback({ frameId: payload.frameSummary.id });\n        };\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"frame\", \"closed\");\n        return unsubscribe;\n    };\n\n    const onWorkspaceOpened = async (callback: (workspace: Glue42Workspaces.Workspace) => void): Promise<Glue42Workspaces.Unsubscribe> => {\n\n        checkThrowCallback(callback);\n        const wrappedCallback = async (payload: WorkspaceStreamData): Promise<void> => {\n            const frameConfig: FrameCreateConfig = {\n                summary: payload.frameSummary\n            };\n            const frame = ioc.getModel<\"frame\">(\"frame\", frameConfig);\n\n            const snapshot = (await controller.getSnapshot(payload.workspaceSummary.id, \"workspace\")) as WorkspaceSnapshotResult;\n\n            const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\n\n            const workspace = ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\n\n            callback(workspace);\n        };\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"workspace\", \"opened\");\n        return unsubscribe;\n    };\n\n    const onWorkspaceClosed = async (callback: (closed: { frameId: string; workspaceId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> => {\n        checkThrowCallback(callback);\n\n        const wrappedCallback = (payload: WorkspaceStreamData): void => {\n            callback({ frameId: payload.frameSummary.id, workspaceId: payload.workspaceSummary.id });\n        };\n\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"workspace\", \"closed\");\n        return unsubscribe;\n    };\n\n    const onWindowAdded = async (callback: (swimlaneWindow: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> => {\n        checkThrowCallback(callback);\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\n            const snapshot = (await controller.getSnapshot(payload.windowSummary.config.workspaceId, \"workspace\")) as WorkspaceSnapshotResult;\n\n            const frameConfig: FrameCreateConfig = {\n                summary: snapshot.frameSummary\n            };\n            const frame = ioc.getModel<\"frame\">(\"frame\", frameConfig);\n\n            const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\n\n            const workspace = ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\n\n            const windowParent = workspace.getBox((parent) => parent.id === payload.windowSummary.parentId);\n            const foundWindow = windowParent.children.find((child) => child.type === \"window\" && child.positionIndex === payload.windowSummary.config.positionIndex);\n\n            callback(foundWindow as Glue42Workspaces.WorkspaceWindow);\n        };\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"window\", \"added\");\n        return unsubscribe;\n    };\n\n    const onWindowLoaded = async (callback: (swimlaneWindow: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> => {\n        checkThrowCallback(callback);\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\n            const snapshot = (await controller.getSnapshot(payload.windowSummary.config.workspaceId, \"workspace\")) as WorkspaceSnapshotResult;\n\n            const frameConfig: FrameCreateConfig = {\n                summary: snapshot.frameSummary\n            };\n            const frame = ioc.getModel<\"frame\">(\"frame\", frameConfig);\n\n            const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\n\n            const workspace = ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\n\n            const foundWindow = workspace.getWindow((win) => win.id && win.id === payload.windowSummary.config.windowId);\n\n            callback(foundWindow);\n        };\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"window\", \"loaded\");\n        return unsubscribe;\n    };\n\n    const onWindowRemoved = async (callback: (removed: { windowId: string; workspaceId: string; frameId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> => {\n        checkThrowCallback(callback);\n        const wrappedCallback = (payload: WindowStreamData): void => {\n            const { windowId, workspaceId, frameId } = payload.windowSummary.config;\n            callback({ windowId, workspaceId, frameId });\n        };\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"window\", \"removed\");\n        return unsubscribe;\n    };\n\n    return {\n        inWorkspace,\n        getBuilder,\n        getMyFrame,\n        getFrame,\n        getAllFrames,\n        getAllWorkspacesSummaries,\n        getMyWorkspace,\n        getWorkspace,\n        getAllWorkspaces,\n        getWindow,\n        getBox: getParent,\n        restoreWorkspace,\n        createWorkspace,\n        layouts,\n        onFrameOpened,\n        onFrameClosed,\n        onWorkspaceOpened,\n        onWorkspaceClosed,\n        onWindowAdded,\n        onWindowLoaded,\n        onWindowRemoved,\n    };\n};\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { GlueProvider } from '@glue42/react-hooks';\r\nimport Glue, { Glue42 } from \"@glue42/desktop\";\r\nimport GlueWeb, { Glue42Web } from \"@glue42/web\";\r\nimport GlueWorkspaces from \"@glue42/workspaces-api\";\r\n\r\ndeclare const window: Window & { glue42gd: any };\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <GlueProvider glueFactory={(config: Glue42.Config | Glue42Web.Config | undefined) => {\r\n      return window.glue42gd ?\r\n        Glue(Object.assign(config, { libraries: [GlueWorkspaces], appManager: \"skipIcons\" }) as Glue42.Config) :\r\n        GlueWeb(Object.assign(config, { libraries: [GlueWorkspaces] }) as Glue42Web.Config)\r\n    }}>\r\n      <App />\r\n    </GlueProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root') \r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}